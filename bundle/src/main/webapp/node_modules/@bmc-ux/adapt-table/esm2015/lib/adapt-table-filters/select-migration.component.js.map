{"version":3,"file":"select-migration.component.js","sourceRoot":"","sources":["../../../../../../libs/adapt-table/src/lib/adapt-table-filters/select-migration.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {\n  AdaptRxSelectComponent,\n  AdaptRxSelectConfigService,\n  adaptWarn,\n  RxSelectOption, RxSelectSettings,\n  SelectTexts\n} from '@bmc-ux/adapt-angular';\nimport {isArray, isUndefined, isNil} from 'lodash-es';\n\n@Component({\n  selector: 'adapt-select-migration',\n  template: `\n    <adapt-rx-select #rxSelectComponent\n                     [adaptRadarDisableEventSending]=\"true\"\n                     [size]=\"'sm'\"\n                     [(ngModel)]=\"selectModel\"\n                     (ngModelChange)=\"handleOnSelectModelChange($event)\"\n                     (onPopupOpenChange)=\"popupOpenChange.emit($event)\"\n                     (onFilterValueChange)=\"filterValueChange.emit($event)\">\n    </adapt-rx-select>\n  `,\n  providers: [AdaptRxSelectConfigService]\n})\nexport class AdaptSelectMigrationComponent implements OnInit {\n\n  selectModel: RxSelectOption | RxSelectOption[];\n\n  @Input() value: RxSelectOption | RxSelectOption[];\n\n  @Input() set options(opts: RxSelectOption[]) {\n    this.rxSelectComponent.options = opts || [];\n  }\n\n  @Input() set multiple(value: boolean) {\n    this.rxSelectComponent.multiple = !isUndefined(value) && value;\n  }\n\n  @Input() set optionFormatter(fn: (option: RxSelectOption) => string) {\n    this.rxSelectComponent.optionFormatter = !isUndefined(fn) && fn;\n  }\n\n  @Input() set settings(value: RxSelectSettings) {\n    this._setNewSettings(value);\n  }\n\n  @Input()\n  set texts(value: SelectTexts) {\n    this.rxSelectComponent.texts = !isUndefined(value) && value;\n  }\n\n  @Input()\n  set inline(value: boolean) {\n    this.rxSelectComponent.inline = !isUndefined(value) && value;\n  }\n\n  @Output() readonly selectModelChange: EventEmitter<RxSelectOption | RxSelectOption[]> = new EventEmitter<RxSelectOption | RxSelectOption[]>();\n  @Output() readonly popupOpenChange: EventEmitter<boolean> = new EventEmitter<boolean>();\n  @Output() readonly filterValueChange: EventEmitter<string> = new EventEmitter<string>();\n\n  @ViewChild(AdaptRxSelectComponent, {static: true}) rxSelectComponent: AdaptRxSelectComponent;\n\n  constructor() {\n    this._showWarningMessage();\n  }\n\n  ngOnInit(): void {\n    if (isArray(this.value)) {\n      this.selectModel = this.value.map(val => ({id: val, name: val}));\n    } else {\n      this.selectModel = isNil(this.value)\n        ? {id: this.value, name: this.value}\n        : [{id: this.value, name: this.value}];\n    }\n  }\n\n  handleOnSelectModelChange(value: RxSelectOption | RxSelectOption[]): void {\n    const model = isArray(value)\n      ? value.map(option => option.id)\n      : value.id;\n\n    this.selectModelChange.emit(model);\n  }\n\n  private _setNewSettings(value: RxSelectSettings): void {\n    for (const valueKey in value) {\n      if (!isUndefined(value[valueKey])) {\n        this.rxSelectComponent[valueKey] = value[valueKey];\n      }\n    }\n  }\n\n  private _showWarningMessage(): void {\n    adaptWarn('[settings] property will be changed and will contain properties from rx-select API. Please, check https://github.bmc.com/pages/bmc-ux/adapt-angular/#/components/select and https://github.bmc.com/pages/bmc-ux/adapt-angular/#/components/rx-select to see APIs difference');\n  }\n}\n"]}