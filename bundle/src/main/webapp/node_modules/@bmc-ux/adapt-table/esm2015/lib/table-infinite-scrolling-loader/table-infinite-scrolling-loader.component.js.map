{"version":3,"file":"table-infinite-scrolling-loader.component.js","sourceRoot":"","sources":["../../../../../../libs/adapt-table/src/lib/table-infinite-scrolling-loader/table-infinite-scrolling-loader.component.ts","../../../../../../libs/adapt-table/src/lib/table-infinite-scrolling-loader/table-infinite-scrolling-loader.html"],"names":[],"mappings":"AAAA,OAAO,EACL,SAAS,EAAE,KAAK,EAAa,iBAAiB,GAC/C,MAAM,eAAe,CAAC;AACvB,OAAO,EAAC,UAAU,EAAE,aAAa,EAAe,MAAM,MAAM,CAAC;AAC7D,OAAO,EAAa,eAAe,EAAC,MAAM,uBAAuB,CAAC;AAClE,OAAO,EAAC,SAAS,EAAC,MAAM,gBAAgB,CAAC;;;AAOzC,MAAM,OAAO,0CAA0C;IALvD;QAwBE,eAAU,GAAe,IAAI,CAAC,aAAa,EAAE,CAAC;QACtC,gBAAW,GAA2B,IAAI,aAAa,CAAC,CAAC,CAAC,CAAC;KAmBpE;IArCC,IAAa,qBAAqB,CAAC,KAAc;QAC/C,MAAM,cAAc,qBAAO,IAAI,CAAC,UAAU,CAAC,CAAC;QAE5C,IAAI,KAAK,EAAE;YACT,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE;gBACvB,IAAI,CAAC,UAAU,CAAC,IAAqB,CAAC,WAAW,EAAE,CAAC;aACtD;YAED,cAAc,CAAC,IAAI,GAAG,IAAI,UAAU,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC;YACrF,IAAI,CAAC,UAAU,GAAG,cAAc,CAAC;SAClC;aAAM,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE;YAC9B,IAAI,CAAC,UAAU,CAAC,IAAqB,CAAC,WAAW,EAAE,CAAC;YACrD,cAAc,CAAC,IAAI,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,UAAU,GAAG,cAAc,CAAC;SAClC;IACH,CAAC;IAKD,WAAW;QACT,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC5B,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;IAC9B,CAAC;IAEO,aAAa;QACnB,OAAO;YACL,IAAI,EAAE,IAAI;YACV,QAAQ,EAAE,IAAI;YACd,MAAM,EAAE,IAAI;YACZ,OAAO,EAAE,EAAE;YACX,UAAU,EAAE,SAAS;YACrB,SAAS,EAAE,eAAe,CAAC,IAAI;SAChC,CAAC;IACJ,CAAC;;oIApCU,0CAA0C;6FAA1C,0CAA0C;QCZvD,8BAA0C;QACxC,oBAAA;QAAA,yBAAiC;QACnC,kBAAA;QAAA,iBAAM;QACN,kBAAA;;QAFO,eAAqB;QAArB,uCAAqB;;uFDWf,0CAA0C;cALtD,SAAS;eAAC;gBACT,QAAQ,EAAE,uCAAuC;gBACjD,WAAW,EAAE,wCAAwC;gBACrD,aAAa,EAAE,iBAAiB,CAAC,IAAI;aACtC;gBAGc,qBAAqB;kBAAjC,KAAK","sourcesContent":["import {\n  Component, Input, OnDestroy, ViewEncapsulation,\n} from '@angular/core';\nimport {Observable, ReplaySubject, Subscription} from 'rxjs';\nimport {BusyConfig, LoaderInOutType} from '@bmc-ux/adapt-angular';\nimport {takeUntil} from 'rxjs/operators';\n\n@Component({\n  selector: 'adapt-table-infinite-scrolling-loader',\n  templateUrl: './table-infinite-scrolling-loader.html',\n  encapsulation: ViewEncapsulation.None,\n})\nexport class AdaptTableInfiniteScrollingLoaderComponent implements OnDestroy {\n\n  @Input() set infiniteScrollLoading(value: boolean) {\n    const busyConfigCopy = {...this.busyConfig};\n\n    if (value) {\n      if (this.busyConfig.busy) {\n        (this.busyConfig.busy as Subscription).unsubscribe();\n      }\n\n      busyConfigCopy.busy = new Observable().pipe(takeUntil(this._destroyed$)).subscribe();\n      this.busyConfig = busyConfigCopy;\n    } else if (this.busyConfig.busy) {\n      (this.busyConfig.busy as Subscription).unsubscribe();\n      busyConfigCopy.busy = null;\n      this.busyConfig = busyConfigCopy;\n    }\n  }\n\n  busyConfig: BusyConfig = this.getBusyConfig();\n  private _destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  ngOnDestroy(): void {\n    this._destroyed$.next(true);\n    this._destroyed$.complete();\n  }\n\n  private getBusyConfig(): BusyConfig {\n    return {\n      busy: null,\n      backdrop: true,\n      sticky: true,\n      message: '',\n      loaderType: 'section',\n      inOutType: LoaderInOutType.fade,\n    };\n  }\n\n\n}\n","<div class=\"at-infinite-scrolling-loader\">\n  <div [ngBusy]=\"busyConfig\"></div>\n</div>\n"]}