{"version":3,"file":"table.js","sourceRoot":"","sources":["../../../../../../../libs/adapt-table/src/lib/primeng-lib/table/table.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  TrackByFunction,\n  ViewChild\n} from '@angular/core';\nimport {TableService} from './table.service';\nimport {BlockableUI, FilterMetadata, FilterService, SortMeta} from 'primeng/api';\nimport {DomHandler} from 'primeng/dom';\nimport {ObjectUtils} from 'primeng/utils';\nimport {\n  AdaptLazyLoadEvent,\n  AdaptPageChangeEvent,\n  AdaptTableColReorderEvent,\n  AdaptTableEventSource,\n  AdaptTableFilterEvent,\n  AdaptTableHeaderCheckboxToggleEvent,\n  AdaptTableMultiSortFunctionEvent,\n  AdaptTableMultiSortMeta,\n  AdaptTableRowExpandCollapseEvent,\n  AdaptTableSingleSortFunctionEvent,\n  AdaptTableToggleSelectionEvent,\n  ColumnConfig,\n  ColumnResized,\n  LazyLoadEvent,\n  RowData,\n  RowDataItem,\n  ExpandedRowTemplateParams,\n  TableBodyTemplateParams,\n  AdaptTableToggleRowEvent,\n  AdaptTableSortEvent,\n} from '../../adapt-table.models';\nimport {getValueOrFunc, isDefined, KeyValueObject, SafeCdr} from '@bmc-ux/adapt-angular';\nimport {isNil} from 'lodash-es';\n\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'p-table',\n  template: '',\n  changeDetection: ChangeDetectionStrategy.Default,\n  providers: [FilterService]\n})\n// eslint-disable-next-line @angular-eslint/component-class-suffix\nexport class Table implements OnInit, BlockableUI, OnChanges, OnDestroy {\n\n  /**\n   * An array of objects to display\n   * @docs-default []\n   */\n  @Input() get value(): RowDataItem[] {\n    return this._value;\n  }\n\n  set value(val: RowDataItem[]) {\n    this._value = val;\n  }\n\n  /**\n   * An array of objects to represent dynamic columns\n   * @docs-default\n   */\n  @Input() get columns(): ColumnConfig[] {\n    return this._columns;\n  }\n\n  set columns(cols: ColumnConfig[]) {\n    this._columns = cols;\n  }\n\n  /**\n   * Index of the first row to be displayed\n   * @docs-default 0\n   */\n  @Input() get first(): number {\n    return this._first;\n  }\n\n  set first(val: number) {\n    this._first = val;\n  }\n\n  /**\n   * Number of rows to display per page\n   * @docs-default\n   */\n  @Input() get rows(): number {\n    return this._rows;\n  }\n\n  set rows(val: number) {\n    this._rows = val;\n  }\n\n  // Used to separate totalRecords in filtering case and not\n  get allTotalRecords(): number {\n\n    /**\n     * When there is no totalRecords info available(means that for some reasons customer doesn't know how many records are in the table)\n     * we assume that totalRecords are at least on one record more than loaded records length until customer can set correct totalRecords value.\n     *\n     * This allows correctly calculate visibility of items in selection menu\n     */\n    if (isNil(this._totalRecords) && this.value) {\n      return this.value.length + 1;\n    }\n\n    return this._totalRecords;\n  }\n\n  /**\n   * Number of total records in the table\n   * @docs-default null\n   */\n  @Input() get totalRecords(): number {\n    return this.hasFilter() ? (this.filteredTotalRecords ?? this._totalRecords) : this._totalRecords;\n  }\n\n  set totalRecords(val: number) {\n    this._totalRecords = val;\n    this.tableService.onTotalRecordsChange(this._totalRecords);\n  }\n\n  /**\n   * Name of the field to sort data by default\n   * @docs-default\n   */\n  @Input() get sortField(): string {\n    return this._sortField;\n  }\n\n  set sortField(val: string) {\n    this._sortField = val;\n  }\n\n  // TODO: Use enum instead number (SortOrder {ASC: 1, DESC: -1})\n  /**\n   * Order to sort when default sorting is enabled\n   * 1 for ASC and -1 for DEC\n   * @docs-default 1\n   */\n  @Input() get sortOrder(): number {\n    return this._sortOrder;\n  }\n\n  set sortOrder(val: number) {\n    this._sortOrder = val;\n  }\n\n  /**\n   * An array of SortMeta objects to sort the data by default in multiple sort mode\n   *\n   * SortMeta {\n   *     // The \"field\" property from the ColumnConfig\n   *     field: string;\n   *     // 1 for ASC and -1 for DEC\n   *     order: number;\n   * }\n   *\n   * @docs-default\n   */\n  @Input() get multiSortMeta(): SortMeta[] {\n    return this._multiSortMeta;\n  }\n\n  set multiSortMeta(val: SortMeta[]) {\n    this._multiSortMeta = val;\n  }\n\n  /**\n   * Selected row in single mode or an array of values in multiple mode\n   * @docs-default\n   */\n  @Input() get selection(): RowDataItem[] | RowDataItem {\n    return this._selection;\n  }\n\n  set selection(val: RowDataItem[] | RowDataItem) {\n    this._selection = val;\n  }\n\n  /**\n   * An array of objects to represent dynamic columns that are frozen\n   *\n   * @deprecated from 12.21.0 Use \"frozen\" property on \"ColumnConfig\" instead\n   *\n   * @docs-default\n   */\n  @Input() frozenColumns: ColumnConfig[];\n\n  /**\n   * An array of objects to display as frozen\n   *\n   * @deprecated from 12.21.0 Not used anymore\n   *\n   * @docs-default\n   */\n  @Input() frozenValue: RowDataItem[];\n\n  /**\n   * Width of the frozen columns container\n   *\n   * @deprecated from 12.21.0 Use \"width\" property on \"ColumnConfig\" instead\n   *\n   * @docs-default\n   */\n  @Input() frozenWidth: string;\n\n  /**\n   * Inline style of the component\n   * @docs-default\n   */\n  @Input() style: KeyValueObject;\n\n  /**\n   * Style class of the component\n   * @docs-default\n   */\n  @Input() styleClass: string;\n\n  /**\n   * Inline style of the table\n   * @docs-default\n   */\n  @Input() tableStyle: KeyValueObject;\n\n  /**\n   * Style class of the table\n   * @docs-default null\n   */\n  @Input() tableStyleClass: string;\n\n  /**\n   * When specified as true, enables the pagination\n   * @docs-default\n   */\n  @Input() paginator: boolean;\n\n  /**\n   * Number of page links to display in paginator\n   * @docs-default 5\n   */\n  @Input() pageLinks: number = 5;\n\n  /**\n   * Array of integer values to display inside rows per page dropdown of paginator\n   * @docs-default\n   */\n  @Input() rowsPerPageOptions: number[];\n\n  /**\n   * Whether to show pagination even there is only one page\n   * @docs-default true\n   */\n  @Input() alwaysShowPaginator: boolean = true;\n\n  // TODO: use type instead of string (type PaginatorPosition = \"top\" | \"bottom\" | \"both\")\n  /**\n   * Position of the paginator, options are \"top\",\"bottom\" or \"both\"\n   * @docs-default 'bottom'\n   */\n  @Input() paginatorPosition: string = 'bottom';\n\n  /**\n   * Target element to attach the paginator dropdown overlay, valid values are \"body\" or a local ng-template variable of another element (note: use binding with brackets for template variables, e.g. [appendTo]=\"mydiv\" for a div element having #mydiv as variable name)\n   * @docs-default\n   */\n  @Input() paginatorDropdownAppendTo: 'body' | ElementRef<unknown> | TemplateRef<unknown>;\n\n  /**\n   * Paginator dropdown height of the viewport in pixels, a scrollbar is defined if height of list exceeds this value\n   * @docs-default '200px'\n   */\n  @Input() paginatorDropdownScrollHeight: string = '200px';\n\n  /**\n   * Template of the current page report element.\n   * Available placeholders are {currentPage},{totalPages},{rows},{first},{last} and {totalRecords}\n   * @docs-default '{currentPage} of {totalPages}'\n   */\n  @Input() currentPageReportTemplate: string = '{currentPage} of {totalPages}';\n\n  /**\n   * Whether to display current page report\n   * @docs-default\n   */\n  @Input() showCurrentPageReport: boolean;\n\n  // TODO: Use enum instead number (SortOrder {ASC: 1, DESC: -1})\n  /**\n   * Sort order to use when an unsorted column gets sorted by user interaction\n   * @docs-default 1\n   */\n  @Input() defaultSortOrder: number = 1;\n\n  // TODO: Use type instead number (type SortMode = 'single' | 'multiple')\n  /**\n   * Defines whether sorting works on single column or on multiple columns, valid values are \"single\" and \"multiple\"\n   * @docs-default 'single'\n   */\n  @Input() sortMode: string = 'single';\n\n  /**\n   * When true, resets paginator to first page after sorting. Available only when sortMode is set to single\n   * @docs-default true\n   */\n  @Input() resetPageOnSort: boolean = true;\n\n  // TODO: Use type instead number (type SelectionMode = 'single' | 'multiple')\n  /**\n   * Specifies the selection mode, valid values are \"single\" and \"multiple\"\n   * @docs-default\n   */\n  @Input() selectionMode: string;\n\n  /**\n   * Defines the behavior of context menu selection, in \"separate\" mode context menu updates contextMenuSelection propertty whereas in joint mode selection property is used instead so that when row selection is enabled, both row selection and context menu selection use the same property\n   *\n   * @deprecated since 12.18.0\n   * Not used anymore\n   *\n   * @docs-default 'separate'\n   */\n  @Input() contextMenuSelectionMode: string = 'separate';\n\n  /**\n   * A property to uniquely identify a record in data\n   * @docs-default\n   */\n  @Input() dataKey: string;\n\n  /**\n   * Defines whether metaKey should be considered for the selection.\n   * On touch enabled devices, metaKeySelection is turned off automatically\n   *\n   * @deprecated since 12.18.0\n   * Not used anymore\n   *\n   * @docs-default\n   */\n  @Input() metaKeySelection: boolean;\n\n  /**\n   * Defines if data is loaded and interacted with in lazy manner\n   * @docs-default false\n   */\n  @Input() lazy: boolean = false;\n\n  /**\n   * Whether to call lazy loading on initialization\n   * @docs-default true\n   */\n  @Input() lazyLoadOnInit: boolean = true;\n\n  // TODO: Use type instead number (type ComparisonType = 'equals' | 'deepEquals')\n  /**\n   * Algorithm to define if a row is selected, valid values are \"equals\" that compares by reference and \"deepEquals\" that compares all fields\n   * @docs-default 'deepEquals'\n   */\n  @Input() compareSelectionBy: string = 'deepEquals';\n\n  /**\n   * The map of FilterMetadata objects to provide external filters\n   * The key of the map should be a \"field\" property from ColumnsConfig\n   * @docs-default {}\n   */\n  @Input() filters: KeyValueObject<FilterMetadata> = {};\n\n  /**\n   * An array of fields(\"field\" property from ColumnsConfig) as string to use in global filtering\n   * @docs-default\n   */\n  @Input() globalFilterFields: string[];\n\n  /**\n   * Delay in milliseconds before filtering the data\n   * @docs-default 300\n   */\n  @Input() filterDelay: number = 300;\n\n  /**\n   * Total records in filtering mode.\n   * Used to separate total records in filtering and non-filtering modes\n   * @docs-default null\n   * @since 11.10.0\n   */\n  @Input() filteredTotalRecords: number = null;\n\n  /**\n   * Map instance to keep the expanded rows where key of the map is the data key of the row\n   * @docs-default {}\n   */\n  @Input() expandedRowKeys: KeyValueObject<boolean> = {};\n\n  /**\n   * Map instance to keep the rows being edited where key of the map is the data key of the row\n   * @docs-default {}\n   */\n  @Input() editingRowKeys: KeyValueObject<boolean> = {};\n\n  // TODO: Use type instead number (type ExpandMode = 'single' | 'multiple')\n  /**\n   * Whether multiple rows can be expanded at any time. Valid values are \"multiple\" and \"single\"\n   * @docs-default 'multiple'\n   */\n  @Input() rowExpandMode: string = 'multiple';\n\n  /**\n   * When specifies, enables horizontal and/or vertical scrolling\n   * @docs-default\n   */\n  @Input() scrollable: boolean;\n\n  // TODO: Use type instead string (ScrollHeight = `${number}px` | 'flex')\n  /**\n   * Height of the scroll viewport in fixed pixels or the \"flex\" keyword for a dynamic size\n   * @docs-default\n   */\n  @Input() scrollHeight: string;\n\n  /**\n   * Whether the data should be loaded on demand during scroll\n   * Additional information https://material.angular.io/cdk/scrolling/api\n   * @docs-default\n   */\n  @Input() virtualScroll: boolean;\n\n  /**\n   * Threshold in milliseconds to delay lazy loading during scrolling\n   * @docs-default 250\n   */\n  @Input() virtualScrollDelay: number = 250;\n\n  /**\n   * Height of a row to use in calculations of virtual scrolling\n   * Additional information https://material.angular.io/cdk/scrolling/api\n   * @docs-default 37\n   */\n  @Input() virtualRowHeight: number = 37;\n\n  /**\n   * Defines if the columns should be stacked in smaller screens\n   * @docs-default\n   */\n  @Input() responsive: boolean;\n\n  /**\n   * When enabled, columns can be resized using drag and drop\n   * @docs-default\n   */\n  @Input() resizableColumns: boolean;\n\n  // TODO: Use \"ResizeMode\" enum instead string\n  /**\n   * Defines whether the overall table width should change on column resize, valid values are \"fit\" and \"expand\"\n   * @docs-default 'fit'\n   */\n  @Input() columnResizeMode: string = 'fit';\n\n  /**\n   * When enabled, columns can be reordered using drag and drop\n   * @docs-default\n   */\n  @Input() reorderableColumns: boolean;\n\n  /**\n   * The icon to show while indicating data load is in progress\n   * @docs-default 'pi pi-spinner'\n   */\n  @Input() loadingIcon: string = 'pi pi-spinner';\n\n  /**\n   * Whether to show the loading mask when loading property is true\n   * @docs-default true\n   */\n  @Input() showLoader: boolean = true;\n\n  /**\n   * Adds hover effect on rows without the need for selectionMode.\n   * Note that TR elements that can be hovered need to have \"ui-selectable-row\" class for rowHover to work\n   * @docs-default\n   */\n  @Input() rowHover: boolean;\n\n  /**\n   * Whether to use the default sorting or a custom one using \"sortFunction\"\n   * @docs-default\n   */\n  @Input() customSort: boolean;\n\n  /**\n   * Whether the cell widths scale according to their content or not\n   * @docs-default\n   */\n  @Input() autoLayout: boolean;\n\n  /**\n   * A function to implement custom export.\n   * Need to return string value.<br />event.data: Field data<br />event.field: Column field\n   *\n   * @deprecated since 12.18.0\n   * Not used anymore\n   *\n   * @docs-default\n   */\n  @Input() exportFunction: Function;\n\n  /**\n   * Unique identifier of a stateful table to use in state storage\n   *\n   * @deprecated since 12.18.0\n   * Not used anymore\n   *\n   * @docs-default\n   */\n  @Input() stateKey: string;\n\n  /**\n   * Defines where a stateful table keeps its state, valid values are \"session\" for sessionStorage and \"local\" for localStorage\n   *\n   * @deprecated since 12.18.0\n   * Not used anymore\n   *\n   * @docs-default 'session'\n   */\n  @Input() stateStorage: string = 'session';\n\n  // TODO: Use type instead string (EditMode = 'cell' | 'row')\n  /**\n   * Defines the editing mode, valid values are \"cell\" and \"row\"\n   * @docs-default 'cell'\n   */\n  @Input() editMode: string = 'cell';\n\n  /**\n   * Don't emit onLazyLoad event when changes Input value of 'sortField', 'sortOrder', 'multiSortMeta'.\n   * Needs for avoiding double onLazyLoad event emitting in some cases\n   *\n   * @docs-default 'multiple'\n   */\n  @Input() dontEmitLazyLoadOnInputChange: boolean = true;\n\n  /**\n   * Triggered when \"selection\" changed. Means user selected or unselect rows\n   */\n  @Output() readonly selectionChange: EventEmitter<RowDataItem[] | RowDataItem> = new EventEmitter();\n\n  // TODO: Refactor this if possible\n  /* eslint-disable @angular-eslint/no-output-on-prefix */\n  /**\n   * Callback to invoke when a row is selected\n   */\n  @Output() readonly onRowSelect: EventEmitter<AdaptTableToggleSelectionEvent> = new EventEmitter();\n\n  /**\n   * Callback to invoke when a row is unselected\n   */\n  @Output() readonly onRowUnselect: EventEmitter<AdaptTableToggleSelectionEvent> = new EventEmitter();\n\n  /**\n   * Callback to invoke when pagination occurs\n   */\n  @Output() readonly onPage: EventEmitter<AdaptPageChangeEvent> = new EventEmitter();\n\n  /**\n   * Callback to invoke when a column gets sorted\n   */\n  @Output() readonly onSort: EventEmitter<AdaptTableMultiSortMeta | SortMeta> = new EventEmitter();\n\n  /**\n   * Callback to invoke when data is filtered\n   */\n  @Output() readonly onFilter: EventEmitter<AdaptTableFilterEvent> = new EventEmitter();\n\n  /**\n   * Callback to invoke when paging, sorting or filtering happens in lazy mode\n   */\n  @Output() readonly onLazyLoad: EventEmitter<LazyLoadEvent | AdaptLazyLoadEvent> = new EventEmitter();\n\n  /**\n   * Callback to invoke when a row is expanded\n   */\n  @Output() readonly onRowExpand: EventEmitter<AdaptTableRowExpandCollapseEvent> = new EventEmitter();\n\n  /**\n   * Callback to invoke when a row is collapsed\n   */\n  @Output() readonly onRowCollapse: EventEmitter<AdaptTableRowExpandCollapseEvent> = new EventEmitter();\n\n  /**\n   * Callback to invoke when a column is resized\n   */\n  @Output() readonly onColResize: EventEmitter<ColumnResized> = new EventEmitter();\n\n  /**\n   * Callback to invoke when a column is reordered\n   */\n  @Output() readonly onColReorder: EventEmitter<AdaptTableColReorderEvent> = new EventEmitter();\n\n  /**\n   * Callback to invoke when state of header checkbox changes\n   */\n  @Output() readonly onHeaderCheckboxToggle: EventEmitter<AdaptTableHeaderCheckboxToggleEvent> = new EventEmitter();\n\n  /**\n   * In case if [customSort] is set to true \"sortFunction\" output will be emitted.\n   * Useful for custom sorting implementation\n   */\n  @Output() readonly sortFunction: EventEmitter<AdaptTableSingleSortFunctionEvent | AdaptTableMultiSortFunctionEvent> = new EventEmitter();\n\n  /**\n   * Emit each time when [first] value changed\n   */\n  @Output() readonly firstChange: EventEmitter<number> = new EventEmitter();\n\n  /**\n   * Emit each time when [rows] value changed\n   */\n  @Output() readonly rowsChange: EventEmitter<number> = new EventEmitter();\n\n  @ViewChild('container', {static: false}) containerViewChild: ElementRef<HTMLDivElement>;\n  @ViewChild('resizeHelper', {static: false}) resizeHelperViewChild: ElementRef<HTMLDivElement>;\n  @ViewChild('reorderIndicatorUp', {static: false}) reorderIndicatorUpViewChild: ElementRef<HTMLSpanElement>;\n  @ViewChild('reorderIndicatorDown', {static: false}) reorderIndicatorDownViewChild: ElementRef<HTMLSpanElement>;\n  @ViewChild('table', {static: false}) tableViewChild: ElementRef<HTMLTableElement>;\n\n  _value: RowDataItem[] = [];\n  _columns: ColumnConfig[];\n  _totalRecords: number = null;\n  _first: number = 0;\n  _rows: number;\n  filteredValue: RowDataItem[];\n  headerTemplate: TemplateRef<{ columns: ColumnConfig[] }>;\n  bodyTemplate: TemplateRef<TableBodyTemplateParams>;\n  loadingBodyTemplate: TemplateRef<{ $implicit: ColumnConfig[]; frozen: boolean }>;\n  frozenRowsTemplate: TemplateRef<{ $implicit: RowDataItem; rowIndex: number; columns: ColumnConfig[] }>;\n  footerTemplate: TemplateRef<{ $implicit: ColumnConfig[] }>;\n  colGroupTemplate: TemplateRef<{ columns: ColumnConfig[] }>;\n  expandedRowTemplateRef: TemplateRef<ExpandedRowTemplateParams>;\n  frozenHeaderTemplate: TemplateRef<{ columns: ColumnConfig[] }>;\n  frozenBodyTemplate: TemplateRef<void>;\n  frozenFooterTemplate: TemplateRef<{ columns: ColumnConfig[] }>;\n  frozenColGroupTemplate: TemplateRef<{ columns: ColumnConfig[] }>;\n  emptyMessageTemplate: TemplateRef<{ columns: ColumnConfig[] }>;\n  selectionKeys: KeyValueObject = {};\n  lastResizerHelperX: number;\n  reorderIconWidth: number;\n  reorderIconHeight: number;\n  draggedColumn: HTMLTableHeaderCellElement;\n  dropPosition: number;\n  _multiSortMeta: SortMeta[];\n  _sortField: string;\n  _sortOrder: number = 1;\n  preventSelectionSetterPropagation: boolean;\n  _selection: RowDataItem[] | RowDataItem;\n  anchorRowIndex: number;\n  filterTimeout: number;\n  initialized: boolean;\n\n  // STATE\n  restoringFilter: boolean;\n\n  constructor(\n    public el: ElementRef,\n    public zone: NgZone,\n    public tableService: TableService,\n    public cd: ChangeDetectorRef,\n    public filterService: FilterService\n  ) {\n  }\n\n  /**\n   * Angular trackBy function for table rows\n   * @docs-default (index: number, item: RowData) => item\n   */\n  @Input() rowTrackBy: TrackByFunction<RowData> = (index: number, item: RowData) => item;\n\n  /* --- LIFECYCLES START --- */\n\n  ngOnInit(): void {\n    if (this.lazy && this.lazyLoadOnInit) {\n      if (!this.virtualScroll) {\n        this.onLazyLoad.emit(this.createLazyLoadMetadata(AdaptTableEventSource.LazyOnInit));\n      }\n\n      if (this.restoringFilter) {\n        this.restoringFilter = false;\n      }\n    }\n\n    this.initialized = true;\n  }\n\n  ngOnChanges(simpleChange: SimpleChanges): void {\n    if (simpleChange.value) {\n\n      this._value = simpleChange.value.currentValue;\n\n      if (!this.lazy) {\n        this.totalRecords = (this._value ? this._value.length : 0);\n\n        if (this.sortMode === 'single' && this.sortField) {\n          this.sortSingle();\n        } else if (this.sortMode === 'multiple' && this.multiSortMeta) {\n          this.sortMultiple();\n          // sort already filters\n        } else if (this.hasFilter()) {\n          this._filter();\n        }\n      }\n\n      this.tableService.onValueChange(simpleChange.value.currentValue);\n    }\n\n    if (simpleChange.columns) {\n      this._columns = simpleChange.columns.currentValue;\n      this.tableService.onColumnsChange(simpleChange.columns.currentValue);\n    }\n\n    if (simpleChange.sortField) {\n      this._sortField = simpleChange.sortField.currentValue;\n\n      // avoid triggering lazy load prior to lazy initialization at onInit\n      if (!this.dontEmitLazyLoadOnInputChange && (!this.lazy || this.initialized)) {\n        if (this.sortMode === 'single') {\n          this.sortSingle();\n        }\n      }\n    }\n\n    if (simpleChange.sortOrder) {\n      this._sortOrder = simpleChange.sortOrder.currentValue;\n\n      // avoid triggering lazy load prior to lazy initialization at onInit\n      if (!this.dontEmitLazyLoadOnInputChange && (!this.lazy || this.initialized)) {\n        if (this.sortMode === 'single') {\n          this.sortSingle();\n        }\n      }\n    }\n\n    if (simpleChange.multiSortMeta) {\n      this._multiSortMeta = simpleChange.multiSortMeta.currentValue;\n\n      if (!this.dontEmitLazyLoadOnInputChange && (this.sortMode === 'multiple')) {\n        this.sortMultiple();\n      }\n    }\n\n    if (simpleChange.selection) {\n      this._selection = simpleChange.selection.currentValue;\n\n      if (!this.preventSelectionSetterPropagation) {\n        this.updateSelectionKeys();\n        this.tableService.onSelectionChange(this._selection);\n      }\n      this.preventSelectionSetterPropagation = false;\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.initialized = null;\n  }\n\n  /* --- LIFECYCLES END --- */\n\n  /* ------------------------------------------------------------------ */\n\n  toggleRowWithCheckbox(event: AdaptTableToggleRowEvent, rowData: RowDataItem): void {\n    this.selection = this.selection || [];\n    const selected = this.isSelected(rowData);\n    const dataKeyValue = this.dataKey ? String(ObjectUtils.resolveFieldData(rowData, this.dataKey)) : null;\n\n    this.preventSelectionSetterPropagation = true;\n\n    if (selected) {\n      const selectionIndex = this.findIndexInSelection(rowData);\n\n      this._selection = this.selection.filter((val, i) => i !== selectionIndex);\n      this.selectionChange.emit(this.selection);\n      this.onRowUnselect.emit({\n        originalEvent: event.originalEvent,\n        index: event.rowIndex,\n        data: rowData,\n        type: 'checkbox'\n      });\n\n      if (dataKeyValue) {\n        delete this.selectionKeys[dataKeyValue];\n      }\n    } else {\n      this._selection = this.selection ? [...this.selection as RowDataItem[], rowData] : [rowData];\n      this.selectionChange.emit(this.selection);\n      this.onRowSelect.emit({\n        originalEvent: event.originalEvent,\n        index: event.rowIndex,\n        data: rowData,\n        type: 'checkbox'\n      });\n\n      if (dataKeyValue) {\n        this.selectionKeys[dataKeyValue] = 1;\n      }\n    }\n\n    this.tableService.onSelectionChange(this._selection);\n  }\n\n  toggleRow(rowData: RowDataItem, event?: Event): void {\n    if (!this.dataKey) {\n      throw new Error('dataKey must be defined to use row expansion');\n    }\n\n    const dataKeyValue = String(ObjectUtils.resolveFieldData(rowData, this.dataKey));\n\n    if (this.expandedRowKeys[dataKeyValue] != null) {\n      delete this.expandedRowKeys[dataKeyValue];\n      this.onRowCollapse.emit({\n        originalEvent: event,\n        data: rowData\n      });\n    } else {\n      if (this.rowExpandMode === 'single') {\n        this.expandedRowKeys = {};\n      }\n\n      this.expandedRowKeys[dataKeyValue] = true;\n      this.onRowExpand.emit({\n        originalEvent: event,\n        data: rowData\n      });\n    }\n\n    if (event) {\n      event.preventDefault();\n    }\n\n    /*if (this.isStateful()) {\n      this.saveState();\n    }*/\n  }\n\n  /* --- ROW CLICK TOGGLE END --- */\n\n  /* ------------------------------------------------------------------ */\n\n  /* --- SELECTION START --- */\n\n  isSingleSelectionMode(): boolean {\n    return this.selectionMode === 'single';\n  }\n\n  isMultipleSelectionMode(): boolean {\n    return this.selectionMode === 'multiple';\n  }\n\n  isSelected(rowData: RowDataItem): boolean {\n    if (rowData && this.selection) {\n      if (this.dataKey) {\n        return this.selectionKeys[ObjectUtils.resolveFieldData(rowData, this.dataKey)] !== undefined;\n      } else {\n        if (this.selection instanceof Array) {\n          return this.findIndexInSelection(rowData) > -1;\n        } else {\n          return this.equals(rowData, this.selection);\n        }\n      }\n    }\n\n    return false;\n  }\n\n  findIndexInSelection(rowData: RowDataItem): number {\n    let index: number = -1;\n\n    if (this.selection && this.selection.length) {\n      for (let i = 0; i < this.selection.length; i++) {\n        if (this.equals(rowData, this.selection[i])) {\n          index = i;\n          break;\n        }\n      }\n    }\n\n    return index;\n  }\n\n  /* --- SELECTION START --- */\n\n  /* ------------------------------------------------------------------ */\n\n  /* --- SORTING START --- */\n\n  sort(event: AdaptTableSortEvent): void {\n    const originalEvent = event.originalEvent;\n\n    if (this.sortMode === 'single') {\n      this._sortOrder = (this.sortField === event.field) ? this.sortOrder * -1 : this.defaultSortOrder;\n      this._sortField = event.field;\n      this.sortSingle();\n\n      if (this.resetPageOnSort) {\n        this._first = 0;\n        this.firstChange.emit(this._first);\n      }\n    }\n\n    if (this.sortMode === 'multiple') {\n      const metaKey = originalEvent.metaKey || originalEvent.ctrlKey;\n      const sortMeta = this.getSortMeta(event.field);\n\n      if (sortMeta) {\n        if (!metaKey) {\n          this._multiSortMeta = [{field: event.field, order: sortMeta.order * -1}];\n\n          if (this.resetPageOnSort) {\n            this._first = 0;\n            this.firstChange.emit(this._first);\n          }\n        } else {\n          sortMeta.order = sortMeta.order * -1;\n        }\n      } else {\n        if (!metaKey || !this.multiSortMeta) {\n          this._multiSortMeta = [];\n\n          if (this.resetPageOnSort) {\n            this._first = 0;\n            this.firstChange.emit(this._first);\n          }\n        }\n        this._multiSortMeta.push({field: event.field, order: this.defaultSortOrder});\n      }\n\n      this.sortMultiple();\n    }\n\n    /*if (this.isStateful()) {\n      this.saveState();\n    }*/\n\n    this.anchorRowIndex = null;\n  }\n\n  sortSingle(): void {\n    if (this.sortField && this.sortOrder) {\n\n      if (this.lazy) {\n        this.onLazyLoad.emit(this.createLazyLoadMetadata(AdaptTableEventSource.SingleSortChange));\n      } else if (this.value) {\n        if (this.customSort) {\n          this.sortFunction.emit({\n            data: this.value,\n            mode: this.sortMode,\n            field: this.sortField,\n            order: this.sortOrder\n          });\n        } else {\n          this.value.sort((data1, data2) => {\n            const value1 = ObjectUtils.resolveFieldData(data1, this.sortField);\n            const value2 = ObjectUtils.resolveFieldData(data2, this.sortField);\n            let result = null;\n\n            if (value1 == null && value2 != null) {\n              result = -1;\n            } else if (value1 != null && value2 == null) {\n              result = 1;\n            } else if (value1 == null && value2 == null) {\n              result = 0;\n            } else if (typeof value1 === 'string' && typeof value2 === 'string') {\n              result = value1.localeCompare(value2);\n            } else {\n              result = (value1 < value2) ? -1 : (value1 > value2) ? 1 : 0;\n            }\n\n            return (this.sortOrder * result);\n          });\n        }\n\n        if (this.hasFilter()) {\n          this._filter();\n        }\n      }\n\n      const sortMeta: SortMeta = {\n        field: this.sortField,\n        order: this.sortOrder\n      };\n\n      this.onSort.emit(sortMeta);\n      this.tableService.onSort(sortMeta);\n    }\n  }\n\n  sortMultiple(): void {\n    if (this.multiSortMeta) {\n      if (this.lazy) {\n        this.onLazyLoad.emit(this.createLazyLoadMetadata(AdaptTableEventSource.MultipleSortChange));\n      } else if (this.value) {\n        if (this.customSort) {\n          this.sortFunction.emit({\n            data: this.value,\n            mode: this.sortMode,\n            multiSortMeta: this.multiSortMeta\n          });\n        } else {\n          this.value.sort((data1, data2) => {\n            return this.multisortField(data1, data2, this.multiSortMeta, 0);\n          });\n        }\n\n        if (this.hasFilter()) {\n          this._filter();\n        }\n      }\n\n      this.onSort.emit({\n        multisortmeta: this.multiSortMeta\n      });\n      this.tableService.onSort(this.multiSortMeta);\n    }\n  }\n\n  multisortField(data1: RowDataItem, data2: RowDataItem, multiSortMeta: SortMeta[], index: number): number {\n    const value1 = ObjectUtils.resolveFieldData(data1, multiSortMeta[index].field);\n    const value2 = ObjectUtils.resolveFieldData(data2, multiSortMeta[index].field);\n    let result = null;\n\n    if (value1 == null && value2 != null) {\n      result = -1;\n    } else if (value1 != null && value2 == null) {\n      result = 1;\n    } else if (value1 == null && value2 == null) {\n      result = 0;\n      // eslint-disable-next-line eqeqeq\n    } else if (typeof value1 == 'string' || value1 instanceof String) {\n      // eslint-disable-next-line eqeqeq\n      if (value1.localeCompare && (value1 != value2)) {\n        return (multiSortMeta[index].order * value1.localeCompare(value2));\n      }\n    } else {\n      result = (value1 < value2) ? -1 : 1;\n    }\n\n    // eslint-disable-next-line eqeqeq\n    if (value1 == value2) {\n      return (multiSortMeta.length - 1) > (index) ? (this.multisortField(data1, data2, multiSortMeta, index + 1)) : 0;\n    }\n\n    return (multiSortMeta[index].order * result);\n  }\n\n  getSortMeta(field: string): SortMeta {\n    if (this.multiSortMeta && this.multiSortMeta.length) {\n      // eslint-disable-next-line @typescript-eslint/prefer-for-of\n      for (let i = 0; i < this.multiSortMeta.length; i++) {\n        if (this.multiSortMeta[i].field === field) {\n\n          return this.multiSortMeta[i];\n        }\n      }\n    }\n\n    return null;\n  }\n\n  isSorted(field: string): boolean {\n    if (this.sortMode === 'single') {\n      return (this.sortField && this.sortField === field);\n    } else if (this.sortMode === 'multiple') {\n      let sorted = false;\n\n      if (this.multiSortMeta) {\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\n        for (let i = 0; i < this.multiSortMeta.length; i++) {\n          // eslint-disable-next-line eqeqeq\n          if (this.multiSortMeta[i].field == field) {\n            sorted = true;\n            break;\n          }\n        }\n      }\n\n      return sorted;\n    }\n  }\n\n  /* --- SORTING END --- */\n\n  /* ------------------------------------------------------------------ */\n\n  /* --- FILTERING START --- */\n\n  // matchMode can't be FilterMatchMode enum because matchMode can be custom filtering mode string\n  filter(value: unknown, field: string, matchMode: string): void {\n    if (this.filterTimeout) {\n      clearTimeout(this.filterTimeout);\n    }\n\n    if (!this.isFilterBlank(value)) {\n      this.filters[field] = {value: value, matchMode: matchMode};\n    } else if (this.filters[field]) {\n      delete this.filters[field];\n    }\n\n    this.filterTimeout = window.setTimeout(() => {\n      this._filter();\n      this.filterTimeout = null;\n    }, this.filterDelay);\n\n    this.anchorRowIndex = null;\n  }\n\n  filterGlobal(value: unknown, matchMode: string): void {\n    this.filter(value, 'global', matchMode);\n  }\n\n  isFilterBlank(filter: unknown): boolean {\n    if (filter !== null && filter !== undefined) {\n      if ((typeof filter === 'string' && filter.trim().length === 0) || (filter instanceof Array && filter.length === 0)) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  _filter(): void {\n    // TODO: Check do we need restoringFilter property!!!\n    if (!this.restoringFilter) {\n      this.first = 0;\n      this.firstChange.emit(this.first);\n    }\n\n    if (this.lazy) {\n      this.onLazyLoad.emit(this.createLazyLoadMetadata(AdaptTableEventSource.FilterChange));\n    } else {\n      if (!this.value) {\n        return;\n      }\n\n      if (!this.hasFilter()) {\n        this.filteredValue = null;\n        this.totalRecords = this.value ? this.value.length : 0;\n      } else {\n        let globalFilterFieldsArray;\n\n        if (this.filters.global) {\n          if (!this.columns && !this.globalFilterFields) {\n            throw new Error('Global filtering requires dynamic columns or globalFilterFields to be defined.');\n          } else {\n            globalFilterFieldsArray = this.globalFilterFields || this.columns;\n          }\n        }\n\n        this.filteredValue = [];\n\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\n        for (let i = 0; i < this.value.length; i++) {\n          let localMatch = true;\n          let globalMatch = false;\n          let localFiltered = false;\n\n          for (const prop in this.filters) {\n            if (Object.prototype.hasOwnProperty.call(this.filters, prop) && prop !== 'global') {\n              localFiltered = true;\n              const filterMeta = this.filters[prop];\n              const filterField = prop;\n              const filterValue = filterMeta.value;\n              const filterMatchMode = filterMeta.matchMode || 'startsWith';\n              const dataFieldValue = ObjectUtils.resolveFieldData(this.value[i], filterField);\n              const filterConstraint = this.filterService.filters[filterMatchMode];\n\n              if (!filterConstraint(dataFieldValue, filterValue)) {\n                localMatch = false;\n              }\n\n              if (!localMatch) {\n                break;\n              }\n            }\n          }\n\n          if (this.filters['global'] && !globalMatch && globalFilterFieldsArray) {\n            // eslint-disable-next-line @typescript-eslint/prefer-for-of\n            for (let j = 0; j < globalFilterFieldsArray.length; j++) {\n              const globalFilterField = globalFilterFieldsArray[j].field || globalFilterFieldsArray[j];\n\n              globalMatch = this.filterService.filters[this.filters['global'].matchMode](\n                ObjectUtils.resolveFieldData(this.value[i], globalFilterField),\n                this.filters['global'].value\n              );\n\n              if (globalMatch) {\n                break;\n              }\n            }\n          }\n\n          let matches: boolean;\n\n          if (this.filters['global']) {\n            matches = localFiltered ? (localFiltered && localMatch && globalMatch) : globalMatch;\n          } else {\n            matches = localFiltered && localMatch;\n          }\n\n          if (matches) {\n            this.filteredValue.push(this.value[i]);\n          }\n        }\n\n        if (this.filteredValue.length === this.value.length) {\n          this.filteredValue = null;\n        }\n\n        this.filteredTotalRecords = this.filteredValue ? this.filteredValue.length : this.value ? this.value.length : 0;\n      }\n    }\n\n    this.onFilter.emit({\n      filters: this.filters,\n      filteredValue: this.filteredValue || this.value\n    });\n\n    this.tableService.onValueChange(this.value);\n\n    if (this.restoringFilter) {\n      this.restoringFilter = false;\n    }\n\n    SafeCdr.markForCheck(this.cd);\n  }\n\n  hasFilter(): boolean {\n    let empty = true;\n\n    for (const prop in this.filters) {\n      if (Object.prototype.hasOwnProperty.call(this.filters, prop)) {\n        empty = false;\n        break;\n      }\n    }\n\n    return !empty;\n  }\n\n  /* --- FILTERING END --- */\n\n  /* ------------------------------------------------------------------ */\n\n  /* --- ROW EDITING START --- */\n\n  initRowEdit(rowData: RowDataItem): void {\n    const dataKeyValue = String(ObjectUtils.resolveFieldData(rowData, this.dataKey));\n\n    this.editingRowKeys[dataKeyValue] = true;\n  }\n\n  saveRowEdit(rowData: RowDataItem, rowElement: HTMLTableRowElement): void {\n    if (DomHandler.find(rowElement, '.ng-invalid.ng-dirty').length === 0) {\n      const dataKeyValue = String(ObjectUtils.resolveFieldData(rowData, this.dataKey));\n\n      delete this.editingRowKeys[dataKeyValue];\n    }\n  }\n\n  cancelRowEdit(rowData: RowDataItem): void {\n    const dataKeyValue = String(ObjectUtils.resolveFieldData(rowData, this.dataKey));\n\n    delete this.editingRowKeys[dataKeyValue];\n  }\n\n  isRowExpanded(rowData: RowDataItem): boolean {\n    return this.expandedRowKeys[String(ObjectUtils.resolveFieldData(rowData, this.dataKey))] === true;\n  }\n\n  isRowEditing(rowData: RowDataItem): boolean {\n    return this.editingRowKeys[String(ObjectUtils.resolveFieldData(rowData, this.dataKey))] === true;\n  }\n\n  /* --- ROW EDITING END --- */\n\n  /* ------------------------------------------------------------------ */\n\n  /* --- COLUMN RESIZE START --- */\n\n  onColumnResizeBegin(event: DragEvent): void {\n    const containerLeft = DomHandler.getOffset(this.containerViewChild.nativeElement).left;\n\n    this.lastResizerHelperX = (event.pageX - containerLeft + this.containerViewChild.nativeElement.scrollLeft);\n    this.onColumnResize(event);\n    event.preventDefault();\n  }\n\n  onColumnResize(event: DragEvent): void {\n    const containerLeft = DomHandler.getOffset(this.containerViewChild.nativeElement).left;\n\n    DomHandler.addClass(this.containerViewChild.nativeElement, 'ui-unselectable-text');\n    this.resizeHelperViewChild.nativeElement.style.height = this.containerViewChild.nativeElement.offsetHeight + 'px';\n    this.resizeHelperViewChild.nativeElement.style.top = 0 + 'px';\n    this.resizeHelperViewChild.nativeElement.style.left = (event.pageX - containerLeft + this.containerViewChild.nativeElement.scrollLeft) + 'px';\n\n    this.resizeHelperViewChild.nativeElement.style.display = 'block';\n  }\n\n  /* --- COLUMN RESIZE END --- */\n\n  /* ------------------------------------------------------------------ */\n\n  /* --- COLUMN DRAG START --- */\n\n  onColumnDragStart(event: DragEvent, columnElement: HTMLTableHeaderCellElement): void {\n    this.reorderIconWidth = DomHandler.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement);\n    this.reorderIconHeight = DomHandler.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement);\n    this.draggedColumn = columnElement;\n    event.dataTransfer.setData('text', 'b');    // For firefox\n  }\n\n  onColumnDragEnter(event: DragEvent, dropHeader: HTMLTableHeaderCellElement): void {\n    if (this.reorderableColumns && this.draggedColumn && dropHeader && this.containerViewChild) {\n      event.preventDefault();\n      const containerOffset = DomHandler.getOffset(this.containerViewChild.nativeElement);\n      const dropHeaderOffset = DomHandler.getOffset(dropHeader);\n\n      // eslint-disable-next-line eqeqeq\n      if (this.draggedColumn != dropHeader) {\n        const dragIndex = DomHandler.indexWithinGroup(this.draggedColumn, 'preorderablecolumn');\n        const dropIndex = DomHandler.indexWithinGroup(dropHeader, 'preorderablecolumn');\n        const targetLeft = dropHeaderOffset.left - containerOffset.left;\n        const columnCenter = dropHeaderOffset.left + dropHeader.offsetWidth / 2;\n\n        this.reorderIndicatorUpViewChild.nativeElement.style.top\n          = dropHeaderOffset.top - containerOffset.top - (this.reorderIconHeight - 1) + 'px';\n        this.reorderIndicatorDownViewChild.nativeElement.style.top\n          = dropHeaderOffset.top - containerOffset.top + dropHeader.offsetHeight + 'px';\n\n        if (event.pageX > columnCenter) {\n          this.reorderIndicatorUpViewChild.nativeElement.style.left\n            = (targetLeft + dropHeader.offsetWidth - Math.ceil(this.reorderIconWidth / 2)) + 'px';\n          this.reorderIndicatorDownViewChild.nativeElement.style.left\n            = (targetLeft + dropHeader.offsetWidth - Math.ceil(this.reorderIconWidth / 2)) + 'px';\n          this.dropPosition = 1;\n        } else {\n          this.reorderIndicatorUpViewChild.nativeElement.style.left = (targetLeft - Math.ceil(this.reorderIconWidth / 2)) + 'px';\n          this.reorderIndicatorDownViewChild.nativeElement.style.left = (targetLeft - Math.ceil(this.reorderIconWidth / 2)) + 'px';\n          this.dropPosition = -1;\n        }\n\n        if ((dropIndex - dragIndex === 1 && this.dropPosition === -1) || (dropIndex - dragIndex === -1 && this.dropPosition === 1)) {\n          this.reorderIndicatorUpViewChild.nativeElement.style.display = 'none';\n          this.reorderIndicatorDownViewChild.nativeElement.style.display = 'none';\n        } else {\n          this.reorderIndicatorUpViewChild.nativeElement.style.display = 'block';\n          this.reorderIndicatorDownViewChild.nativeElement.style.display = 'block';\n        }\n      } else {\n        event.dataTransfer.dropEffect = 'none';\n      }\n    }\n  }\n\n  onColumnDragLeave(event: DragEvent): void {\n    if (this.reorderableColumns && this.draggedColumn) {\n      event.preventDefault();\n      this.reorderIndicatorUpViewChild.nativeElement.style.display = 'none';\n      this.reorderIndicatorDownViewChild.nativeElement.style.display = 'none';\n    }\n  }\n\n  onColumnDrop(event: DragEvent, dropColumn: HTMLTableHeaderCellElement): void {\n    event.preventDefault();\n\n    if (this.draggedColumn) {\n      const dragIndex = DomHandler.indexWithinGroup(this.draggedColumn, 'preorderablecolumn');\n      let dropIndex = DomHandler.indexWithinGroup(dropColumn, 'preorderablecolumn');\n      let allowDrop = (dragIndex !== dropIndex);\n\n      if (allowDrop && ((dropIndex - dragIndex === 1 && this.dropPosition === -1)\n        || (dragIndex - dropIndex === 1 && this.dropPosition === 1))) {\n        allowDrop = false;\n      }\n\n      if (allowDrop && ((dropIndex < dragIndex && this.dropPosition === 1))) {\n        dropIndex = dropIndex + 1;\n      }\n\n      if (allowDrop && ((dropIndex > dragIndex && this.dropPosition === -1))) {\n        dropIndex = dropIndex - 1;\n      }\n\n      if (allowDrop) {\n        // Because we can hide columns and dragging is used html elements,\n        // we can have situation when column is hidden and indexes for columns object and columns html nodes are do not match.\n        // To solve this issue sort columns object by visible columns Map and all hidden columns got to the end of array.\n        const visibleColumns = this.columns.filter(c => !getValueOrFunc(c.hidden));\n\n        ObjectUtils.reorderArray(visibleColumns, dragIndex, dropIndex);\n        const visibleColumnsSortMap = new Map();\n\n        visibleColumns.forEach((col, index) => {\n          visibleColumnsSortMap.set(col.field, index);\n        });\n\n        this.columns.sort((a, b) => {\n          const aIndex = isDefined(visibleColumnsSortMap.get(a.field))\n            ? visibleColumnsSortMap.get(a.field)\n            : visibleColumnsSortMap.size;\n          const bIndex = isDefined(visibleColumnsSortMap.get(b.field))\n            ? visibleColumnsSortMap.get(b.field)\n            : visibleColumnsSortMap.size;\n\n          return aIndex - bIndex;\n        });\n\n        this.onColReorder.emit({\n          dragIndex,\n          dropIndex,\n          columns: this.columns\n        });\n      }\n\n      this.reorderIndicatorUpViewChild.nativeElement.style.display = 'none';\n      this.reorderIndicatorDownViewChild.nativeElement.style.display = 'none';\n      this.draggedColumn.draggable = false;\n      this.draggedColumn = null;\n      this.dropPosition = null;\n    }\n  }\n\n  /* --- COLUMN DRAG END --- */\n\n  /* ------------------------------------------------------------------ */\n\n  /* --- OTHER START --- */\n\n  isEmpty(): boolean {\n    const data = this.filteredValue || this.value;\n\n    // eslint-disable-next-line eqeqeq\n    return data == null || data.length == 0;\n  }\n\n  getBlockableElement(): HTMLElement {\n    return this.el.nativeElement.children[0];\n  }\n\n  updateSelectionKeys(): void {\n    if (this.dataKey && this._selection) {\n      this.selectionKeys = {};\n\n      if (Array.isArray(this._selection)) {\n        for (const data of this._selection) {\n          this.selectionKeys[String(ObjectUtils.resolveFieldData(data, this.dataKey))] = 1;\n        }\n      } else {\n        this.selectionKeys[String(ObjectUtils.resolveFieldData(this._selection, this.dataKey))] = 1;\n      }\n    }\n  }\n\n  onPageChange(event: AdaptPageChangeEvent): void {\n    this.first = event.first;\n    this.rows = event.rows;\n\n    if (this.lazy) {\n      this.onLazyLoad.emit(this.createLazyLoadMetadata(AdaptTableEventSource.PageChange));\n    }\n\n    this.onPage.emit({\n      first: this.first,\n      rows: this.rows\n    });\n\n    this.firstChange.emit(this.first);\n    this.rowsChange.emit(this.rows);\n    this.tableService.onValueChange(this.value);\n\n    this.anchorRowIndex = null;\n  }\n\n  equals(data1: RowDataItem, data2: RowDataItem): boolean {\n    // TODO: Maybe there is a sense to use lodash isEqualWith instead of ObjectUtils.equals\n    return this.compareSelectionBy === 'equals' ? (data1 === data2) : ObjectUtils.equals(data1, data2, this.dataKey);\n  }\n\n  createLazyLoadMetadata(eventSource: AdaptTableEventSource): LazyLoadEvent {\n    return {\n      eventSource,\n      first: this.first,\n      rows: this.rows,\n      sortField: this.sortField,\n      sortOrder: this.sortOrder,\n      filters: this.filters,\n      globalFilter: this.filters && this.filters['global'] ? this.filters['global'].value : null,\n      multiSortMeta: this.multiSortMeta\n    };\n  }\n\n  reset(): void {\n    this._sortField = null;\n    this._sortOrder = this.defaultSortOrder;\n    this._multiSortMeta = null;\n    this.tableService.onSort(null);\n\n    this.filteredValue = null;\n    this.filters = {};\n\n    this.first = 0;\n    this.firstChange.emit(this.first);\n\n    if (this.lazy) {\n      this.onLazyLoad.emit(this.createLazyLoadMetadata(AdaptTableEventSource.Reset));\n    } else {\n      this.totalRecords = (this._value ? this._value.length : 0);\n    }\n  }\n\n  findParentScrollableView(column: HTMLTableDataCellElement): HTMLElement {\n    if (column) {\n      let parent = column.parentElement;\n\n      while (parent && !DomHandler.hasClass(parent, 'ui-table-scrollable-view')) {\n        parent = parent.parentElement;\n      }\n\n      return parent;\n    } else {\n      return null;\n    }\n  }\n\n  /* --- OTHER END --- */\n}\n"]}