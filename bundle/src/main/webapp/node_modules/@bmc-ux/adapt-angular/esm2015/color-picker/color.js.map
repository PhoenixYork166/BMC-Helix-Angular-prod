{"version":3,"file":"color.js","sourceRoot":"","sources":["../../../../../libs/adapt-angular/src/color-picker/color.ts"],"names":[],"mappings":"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","sourcesContent":["import {AfterViewInit, Component, ElementRef, EventEmitter, Input, Output, ViewChild} from '@angular/core';\nimport {Point} from '@angular/cdk/drag-drop';\nimport {fromEvent, merge} from 'rxjs';\nimport {distinctUntilChanged, flatMap, map, startWith, take, takeUntil, tap} from 'rxjs/operators';\nimport {rgb} from 'd3-color';\n\nimport {AdaptRGBColor, ColorPalette, ColorUtils, getRGBColorFromString, RGBChannels} from '../common/color.utils';\nimport {ColorType} from '../common/common.enums';\n\nconst DEFAULT_PICKER_COLOR: AdaptRGBColor = getRGBColorFromString('#ffffff');\n\n@Component({\n  selector: 'adapt-color',\n  template: `\n    <div class=\"adapt-cp-pick-area\">\n      <canvas #colorMapCanvas class=\"adapt-cp-pick-canvas\"\n              [attr.width]=\"width\"\n              [attr.height]=\"height\"></canvas>\n      <div class=\"adapt-cp-spot\"\n           [class.dragging]=\"mapDragging\"\n           [style.left.px]=\"colorMapState.x\"\n           [style.top.px]=\"colorMapState.y\"></div>\n    </div>\n    <div class=\"adapt-cp-bar-area\" #colorStripArea>\n      <canvas #colorStripCanvas class=\"adapt-cp-bar-canvas\"\n              [attr.width]=\"colorStripWidth\"\n              [attr.height]=\"height\"></canvas>\n      <div class=\"adapt-cp-bar-spot\"\n           [class.dragging]=\"stripDragging\"\n           [style.top.px]=\"colorStripState.y\"\n           [style.backgroundColor]=\"colorStripState.color\"></div>\n    </div>\n  `,\n  // eslint-disable-next-line @angular-eslint/no-host-metadata-property\n  host: {\n    '[class.adapt-cp-area]': 'true'\n  }\n})\nexport class ColorComponent implements AfterViewInit {\n  mapDragging: boolean = false;\n  stripDragging: boolean = false;\n  colorMapState: { x?: number; y?: number; color: string } =\n    {\n      x: 0,\n      y: 0,\n      color: 'rgb(0, 0, 0)'\n    };\n  colorStripState: { y?: number; color: string } =\n    {\n      y: 0,\n      color: 'rgb(255, 0, 0)'\n    };\n\n  @Input() colorType: ColorType = ColorType.HEX;\n  @Input() width: number = 173;\n  @Input() height: number = 159;\n  @Input() colorStripWidth: number = 6;\n\n  @Input() set color(color: AdaptRGBColor) {\n    // Prevent color setting when touch in process\n    if (this.mapDragging || this.stripDragging) {\n      return;\n    }\n\n    this._setColor(color || DEFAULT_PICKER_COLOR);\n  }\n\n  @Output() readonly colorChange: EventEmitter<AdaptRGBColor> = new EventEmitter<AdaptRGBColor>();\n\n  @ViewChild('colorMapCanvas', {static: true}) colorMapCanvas: ElementRef<HTMLCanvasElement>;\n  @ViewChild('colorStripCanvas', {static: true}) colorStripCanvas: ElementRef<HTMLCanvasElement>;\n  @ViewChild('colorStripArea', {static: true}) colorStripArea: ElementRef<HTMLDivElement>;\n\n\n  private _mapColor: RGBChannels = ColorPalette.RED;\n  private _stripColor: RGBChannels = ColorPalette.RED;\n  private _colorMapContext: CanvasRenderingContext2D;\n  private _colorStripContext: CanvasRenderingContext2D;\n\n  ngAfterViewInit(): void {\n    this._initColorMap();\n    this._initColorStrip();\n  }\n\n  private _initColorMap(): void {\n    this._colorMapContext = this.colorMapCanvas.nativeElement.getContext('2d');\n    this._fillColorMap();\n\n\n    const start$ = merge(\n      fromEvent(this.colorMapCanvas.nativeElement, 'mousedown', {passive: false}),\n      fromEvent(this.colorMapCanvas.nativeElement, 'touchstart', {passive: false}),\n    );\n    const move$ = merge(\n      fromEvent(window, 'mousemove', {passive: false}),\n      fromEvent(window, 'touchmove', {passive: false}),\n    );\n    const end$ = merge(\n      fromEvent(window, 'mouseup', {passive: false}),\n      fromEvent(window, 'touchend', {passive: false}),\n    );\n\n    let colorMapRect;\n\n    const drag$ =\n      start$.pipe(\n        tap(() => {\n          colorMapRect = this.colorMapCanvas.nativeElement.getBoundingClientRect();\n          this.mapDragging = true;\n        }),\n        flatMap(\n          (start) =>\n            move$.pipe(\n              startWith(start),\n              // TODO: Refactor this if possible\n              /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n              map((move: any) => {\n                if (move.cancelable) {\n                  move.preventDefault();\n                }\n\n                const eventObj = move.changedTouches ? move.changedTouches[0] : move;\n\n                let x = eventObj.clientX - colorMapRect.left;\n\n                x = x < 0 ? 0 : x > colorMapRect.width ? colorMapRect.width : x;\n\n                let y = eventObj.clientY - colorMapRect.top;\n\n                y = y < 0 ? 0 : y > colorMapRect.height ? colorMapRect.height : y;\n\n                return {x: Math.round(x), y: Math.round(y)};\n              }),\n              takeUntil(end$.pipe(\n                take(1),\n                tap(() => {\n                  this.mapDragging = false;\n                })\n              ))\n            )\n        ),\n        distinctUntilChanged((a, b) => (a.x === b.x) && (a.y === b.y)),\n      );\n\n    drag$.subscribe(this._selectColor.bind(this));\n  }\n\n  private _initColorStrip(): void {\n    this._colorStripContext = this.colorStripCanvas.nativeElement.getContext('2d');\n\n    const palette = this._colorStripContext.createLinearGradient(0, 0, 0, this.height);\n\n    palette.addColorStop(0 / 6, ColorUtils.getColorStr(ColorPalette.RED, ColorType.RGB));\n    palette.addColorStop(1 / 6, ColorUtils.getColorStr(ColorPalette.MAGENTA, ColorType.RGB));\n    palette.addColorStop(2 / 6, ColorUtils.getColorStr(ColorPalette.BLUE, ColorType.RGB));\n    palette.addColorStop(3 / 6, ColorUtils.getColorStr(ColorPalette.CYAN, ColorType.RGB));\n    palette.addColorStop(4 / 6, ColorUtils.getColorStr(ColorPalette.GREEN, ColorType.RGB));\n    palette.addColorStop(5 / 6, ColorUtils.getColorStr(ColorPalette.YELLOW, ColorType.RGB));\n    palette.addColorStop(6 / 6, ColorUtils.getColorStr(ColorPalette.RED, ColorType.RGB));\n\n    this._colorStripContext.fillStyle = palette;\n    this._colorStripContext.fillRect(0, 0, this.colorStripWidth, this.height);\n    this._colorStripContext.fillStyle = 'rgb(255, 0, 0)';\n\n    // Set up the edge values\n    for (let x = 0; x < this.colorStripWidth; x++) {\n      this._colorStripContext.fillRect(x, 0, 1, 1);\n    }\n\n    for (let y = 0; y < this.colorStripWidth; y++) {\n      this._colorStripContext.fillRect(y, this.height - 1, 1, 1);\n    }\n\n    const start$ = merge(\n      fromEvent(this.colorStripArea.nativeElement, 'mousedown', {passive: false}),\n      fromEvent(this.colorStripArea.nativeElement, 'touchstart', {passive: false}),\n    );\n    const move$ = merge(\n      fromEvent(window, 'mousemove', {passive: false}),\n      fromEvent(window, 'touchmove', {passive: false}),\n    );\n    const end$ = merge(\n      fromEvent(window, 'mouseup', {passive: false}),\n      fromEvent(window, 'touchend', {passive: false}),\n    );\n\n    let colorStripRect;\n\n    const drag$ =\n      start$.pipe(\n        tap(() => {\n          colorStripRect = this.colorStripCanvas.nativeElement.getBoundingClientRect();\n          this.stripDragging = true;\n        }),\n        flatMap(\n          (start) =>\n            move$.pipe(\n              startWith(start),\n              // TODO: Refactor this if possible\n              /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n              map((move: any) => {\n                if (move.cancelable) {\n                  move.preventDefault();\n                }\n\n                const eventObj = move.changedTouches ? move.changedTouches[0] : move;\n\n                let x = eventObj.clientX - colorStripRect.left;\n\n                x = x < 0 ? 0 : x > colorStripRect.width ? colorStripRect.width : x;\n\n                let y = eventObj.clientY - colorStripRect.top;\n\n                y = y < 0 ? 0 : y > colorStripRect.height ? colorStripRect.height : y;\n\n                return {x: Math.round(x), y: Math.round(y)};\n              }),\n              takeUntil(end$.pipe(\n                take(1),\n                tap(() => {\n                  this.stripDragging = false;\n                })\n              ))\n            )\n        ),\n        distinctUntilChanged((a, b) => (a.x === b.x) && (a.y === b.y))\n      );\n\n\n    drag$.subscribe(this._selectStripColor.bind(this));\n  }\n\n  private _fillColorMap(): void {\n    if (!this._colorMapContext) {\n      return;\n    }\n\n    this._colorMapContext.rect(0, 0, this.width, this.height);\n    this._colorMapContext.fillStyle = ColorUtils.getColorStr(this._stripColor, ColorType.HEX);\n    this._colorMapContext.fillRect(0, 0, this.width, this.height);\n\n    const grdWhite = this._colorMapContext.createLinearGradient(0, 0, this.width, 0);\n    const grdBlack = this._colorMapContext.createLinearGradient(0, 0, 0, this.height);\n\n    grdWhite.addColorStop(0, 'rgba(255, 255, 255, 1)');\n    grdWhite.addColorStop(1, 'rgba(255, 255, 255, 0)');\n    this._colorMapContext.fillStyle = grdWhite;\n    this._colorMapContext.fillRect(0, 0, this.width, this.height);\n\n    grdBlack.addColorStop(0, 'rgba(0, 0, 0, 0)');\n    grdBlack.addColorStop(1, 'rgba(0, 0, 0, 1)');\n    this._colorMapContext.fillStyle = grdBlack;\n    this._colorMapContext.fillRect(0, 0, this.width, this.height);\n\n\n    this._colorMapContext.fillStyle = 'rgb(0, 0, 0)';\n    this._colorMapContext.fillRect(0, this.height - 1, this.width, 1);\n\n    this._colorMapContext.fillStyle = 'rgb(255, 255, 255)';\n    this._colorMapContext.fillRect(0, 0, 1, 1);\n\n    this._colorMapContext.fillStyle = ColorUtils.getColorStr(this._stripColor, ColorType.HEX);\n    this._colorMapContext.fillRect(this.width - 1, 0, 1, 1);\n  }\n\n  private _selectColor(point: Point): void {\n    this.colorMapState.x = point.x;\n    this.colorMapState.y = point.y;\n\n    this._mapColor = ColorUtils\n      .hsvToRGB({\n        h: 1 - 1 / this.height * this.colorStripState.y,\n        s: point.x / this.width,\n        v: 1 - point.y / this.height\n      });\n\n    this.colorChange.emit(rgb(this._mapColor.r, this._mapColor.g, this._mapColor.b));\n  }\n\n  private _selectStripColor(e: Point): void {\n\n    this._stripColor = ColorUtils\n      .hsvToRGB({\n        h: 1 - 1 / this.height * e.y,\n        s: 1,\n        v: 1\n      });\n\n    this.colorStripState.y = e.y;\n    this.colorStripState.color = ColorUtils.getColorStr(this._stripColor, ColorType.HEX);\n\n    this._fillColorMap();\n    this._selectColor({x: this.colorMapState.x, y: this.colorMapState.y});\n  }\n\n  private _setColor(color: AdaptRGBColor): void {\n\n    const {h, s, v} = ColorUtils.rgbToHSV(color);\n\n    this.colorStripState.y = (1 - h) * this.height;\n\n    this.colorMapState.x = this.width * s;\n    this.colorMapState.y = this.height * (1 - v);\n\n    this._mapColor = color;\n    this._stripColor = ColorUtils.hsvToRGB({h: h, s: 1, v: 1});\n\n    this._fillColorMap();\n  }\n}\n"]}