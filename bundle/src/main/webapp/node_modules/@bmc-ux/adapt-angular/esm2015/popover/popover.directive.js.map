{"version":3,"file":"popover.directive.js","sourceRoot":"","sources":["../../../../../libs/adapt-angular/src/popover/popover.directive.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  ApplicationRef,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ComponentFactoryResolver,\n  ComponentRef,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  HostListener,\n  Inject,\n  Injector,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  PLATFORM_ID,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef,\n  ViewContainerRef,\n  ViewEncapsulation\n} from '@angular/core';\nimport {DOCUMENT, isPlatformServer} from '@angular/common';\nimport {AnimationEvent, transition, trigger, useAnimation} from '@angular/animations';\nimport {ESCAPE} from '@angular/cdk/keycodes';\nimport {ConnectedPosition} from '@angular/cdk/overlay';\nimport {ComponentPortal} from '@angular/cdk/portal';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {fromEvent, ReplaySubject, Subscription} from 'rxjs';\nimport {filter, take, takeUntil} from 'rxjs/operators';\n\nimport {ANIMATION_NAME} from '../common/animation';\nimport {AdaptDeviceDetectionService} from '../common/device-detection.service';\nimport {AdaptTranslateService} from '../common/i18n/index';\nimport {LayerService} from '../common/layer-service';\nimport {Placement, PlacementArray, positionElements} from '../common/positioning';\nimport {PopupService} from '../common/popup';\nimport {SafeCdr} from '../common/safe-cdr';\nimport {getEventKeyCode} from '../common/key-codes';\nimport {isEventFrom} from '../common/utilities';\nimport {listenToTriggers} from '../common/triggers';\nimport {\n  AdaptOverlayConnectedPositionName,\n  AdaptOverlayConnectedPositions,\n  AdaptOverlayService,\n  AdaptOverlayWithPortal,\n  getOverlayConnectedPositions\n} from '../common/overlay/index';\n// https://github.com/angular/angular-cli/issues/2034#issuecomment-317270354\nimport {AdaptPopoverConfig} from './popover.config';\nimport {\n  AdaptRadarAngularCustomEventName,\n  AdaptRadarAngularGenericDirective,\n  AdaptRadarAngularService\n} from '../common/radar/adapt-radar';\n\n\nlet nextId = 0;\n\n@Component({\n  selector: 'adapt-popover-window2',\n  // eslint-disable-next-line @angular-eslint/no-host-metadata-property\n  host: {\n    'role': 'tooltip',\n    '[id]': 'id'\n  },\n  styles: [`\n    /* If replace styles to CSS repo, the initial positioning works wrong */\n    adapt-popover-window {\n      position: absolute;\n      display: block;\n      max-width: 250px;\n    }\n  `],\n  template: `\n    <div [ngClass]=\"{'a-popover-wrap': isMobile}\">\n      <div class=\"arrow\" *ngIf=\"!isMobile\"></div>\n      <button class=\"close\"\n              [attr.aria-label]=\"closeText\"\n              *ngIf=\"closeCB && (title === null || title === undefined)\"\n              type=\"button\"\n              role=\"button\"\n              (click)=\"closeCB()\">\n      </button>\n      <div class=\"popover-header\" *ngIf=\"title !== null && title !== undefined\">\n        <ng-template #simpleTitle>\n          <div class=\"popover-title\">{{title}}</div>\n          <button class=\"close\"\n                  [attr.aria-label]=\"closeText\"\n                  *ngIf=\"closeCB\"\n                  type=\"button\"\n                  role=\"button\"\n                  (click)=\"closeCB()\">\n          </button>\n        </ng-template>\n        <ng-template [ngTemplateOutlet]=\"isTemplate(title) ? title : simpleTitle\"\n                     [ngTemplateOutletContext]=\"context\"></ng-template>\n      </div>\n      <div class=\"popover-body\">\n        <ng-content></ng-content>\n\n        <ng-container *ngIf=\"overlayService.enableCDKOverlayControl && isTemplate(content)\"\n                      [ngTemplateOutlet]=\"content\"\n                      [ngTemplateOutletContext]=\"context\"></ng-container>\n\n        <ng-container *ngIf=\"overlayService.enableCDKOverlayControl && !isTemplate(content)\">{{content}}</ng-container>\n      </div>\n    </div>\n  `,\n  animations: [\n    trigger('popoverAnimation', [\n      transition('* => 1', [\n        useAnimation(ANIMATION_NAME.popIn)\n      ]),\n      transition('1 => 0', [\n        useAnimation(ANIMATION_NAME.popOut)\n      ])\n    ])\n  ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class AdaptPopoverWindow2Component implements OnInit {\n  closeText: string;\n  closing: boolean;\n\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  @Input() content: string | TemplateRef<any>;\n\n  /** Set the primary placement for popover, if there will be not enought space it will automatically move popover for the best place to show */\n  @Input() placement: Placement = 'top';\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  @Input() title: undefined | string | TemplateRef<any>;\n  @Input() id: string;\n  @Input() closeCB?: () => void;\n  @Input() popoverClass: string;\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  @Input() context: any;\n\n  @Output() readonly closeAnimationDone: EventEmitter<null> = new EventEmitter<null>();\n\n  @HostBinding('style.max-width')\n  @Input() maxWidth: string;\n\n  @HostBinding('style.min-width')\n  @Input() minWidth: string;\n\n  @HostBinding('class')\n  get hostClasses(): string {\n    return [\n      'popover',\n      'position-relative',\n      this.popoverClass,\n      this.isMobile ? 'popover-mobile' : ''\n    ].join(' ');\n  }\n\n  get isMobile(): boolean {\n    return this._deviceDetectionService.deviceMobile();\n  }\n\n  @HostBinding('@popoverAnimation') get popoverAnimation(): boolean {\n    return !this.closing;\n  }\n\n  @HostListener('@popoverAnimation.done', ['$event']) popoverAnimationDone: Function = this._onPopoverAnimationDone;\n\n  constructor(private _element: ElementRef,\n              private _renderer: Renderer2,\n              private _deviceDetectionService: AdaptDeviceDetectionService,\n              private _changeDetectorRef: ChangeDetectorRef,\n              public overlayService: AdaptOverlayService,\n              public ts: AdaptTranslateService) {\n    this.closeText = ts.getCurrentLanguage()['adapt.common.close'];\n  }\n\n  ngOnInit(): void {\n    if (this.isMobile) {\n      this.placement = 'mobile';\n    }\n\n    this._renderer.setAttribute(this._element.nativeElement, 'tabindex', '-1');\n  }\n\n  focusOnOpen(): number {\n    return requestAnimationFrame(() => {\n      this._element.nativeElement.focus();\n    });\n  }\n\n  isEventFrom(event: Event): boolean {\n    return isEventFrom(event, this._element.nativeElement);\n  }\n\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  isTemplate(val: any): boolean {\n    return val instanceof TemplateRef;\n  }\n\n  markForCheck(): void {\n    SafeCdr.markForCheck(this._changeDetectorRef);\n  }\n\n  private _onPopoverAnimationDone(event: AnimationEvent): void {\n    // TODO: Refactor this if possible\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    if ((event.toState as any) === false) {\n      this.closeAnimationDone.emit();\n      this.closeAnimationDone.complete();\n    }\n  }\n}\n\n@Component({\n  selector: 'adapt-popover-window',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  // eslint-disable-next-line @angular-eslint/no-host-metadata-property\n  host: {\n    'role': 'tooltip',\n    '[id]': 'id'\n  },\n  styles: [`\n    /* If replace styles to CSS repo, the initial positioning works wrong */\n    adapt-popover-window {\n      position: absolute;\n      display: block;\n      max-width: 250px;\n    }\n  `],\n  template: `\n    <div [ngClass]=\"{'a-popover-wrap': isMobile}\">\n      <div class=\"arrow\" *ngIf=\"!isMobile\"></div>\n      <button class=\"close\"\n              [attr.aria-label]=\"closeText\"\n              *ngIf=\"closeCB && (title === null || title === undefined)\"\n              type=\"button\"\n              role=\"button\"\n              (click)=\"closeCB()\">\n      </button>\n      <div class=\"popover-header\" *ngIf=\"title !== null && title !== undefined\">\n        <ng-template #simpleTitle>\n          <div class=\"popover-title\">{{title}}</div>\n          <button class=\"close\"\n                  [attr.aria-label]=\"closeText\"\n                  *ngIf=\"closeCB\"\n                  type=\"button\"\n                  role=\"button\"\n                  (click)=\"closeCB()\">\n          </button>\n        </ng-template>\n        <ng-template [ngTemplateOutlet]=\"isTitleTemplate() ? title : simpleTitle\"\n                     [ngTemplateOutletContext]=\"context\"></ng-template>\n      </div>\n      <div class=\"popover-body\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n  `,\n  animations: [\n    trigger('popoverAnimation', [\n      // Top\n      transition('void => top', [\n        useAnimation(ANIMATION_NAME.moveIn, {params: {translateY: 30, unit: 'px'}})\n      ]),\n      transition('top => void', [\n        useAnimation(ANIMATION_NAME.moveOut, {params: {translateY: 30, unit: 'px'}})\n      ]),\n\n      // Left\n      transition('void => left', [\n        useAnimation(ANIMATION_NAME.moveIn, {params: {translateX: 30, unit: 'px'}})\n      ]),\n      transition('left => void', [\n        useAnimation(ANIMATION_NAME.moveOut, {params: {translateX: 30, unit: 'px'}})\n      ]),\n\n      // Right\n      transition('void => right', [\n        useAnimation(ANIMATION_NAME.moveIn, {params: {translateX: -30, unit: 'px'}})\n      ]),\n      transition('right => void', [\n        useAnimation(ANIMATION_NAME.moveOut, {params: {translateX: -30, unit: 'px'}})\n      ]),\n\n      // Bottom\n      transition('void => bottom', [\n        useAnimation(ANIMATION_NAME.moveIn, {params: {translateY: -30, unit: 'px'}})\n      ]),\n      transition('bottom => void', [\n        useAnimation(ANIMATION_NAME.moveOut, {params: {translateY: -30, unit: 'px'}})\n      ]),\n\n      // On mobile just fade\n      transition('void => mobile', [\n        useAnimation(ANIMATION_NAME.popIn)\n      ]),\n      transition('mobile => void', [\n        useAnimation(ANIMATION_NAME.popOut)\n      ])\n    ])\n  ],\n  encapsulation: ViewEncapsulation.None\n\n})\nexport class AdaptPopoverWindowComponent implements OnInit {\n  closeText: string;\n\n  @Input() set placement(value: Placement) {\n    this._placement = value;\n    this.animationState = value;\n  }\n\n  get placement(): Placement {\n    return this._placement;\n  }\n\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  @Input() title: undefined | string | TemplateRef<any>;\n  @Input() id: string;\n  @Input() closeCB?: () => void;\n  @Input() popoverClass: string;\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  @Input() context: any;\n\n  @Output() readonly closeAnimationDone: EventEmitter<null> = new EventEmitter<null>();\n\n  @HostBinding('style.max-width') @Input() maxWidth: string;\n  @HostBinding('style.min-width') @Input() minWidth: string;\n\n  @HostBinding('class')\n  get hostClasses(): string {\n    return [\n      'popover',\n      'bs-popover-' + this.placement.split('-')[0],\n      'bs-popover-' + this.placement,\n      this.popoverClass,\n      this.isMobile ? 'popover-mobile' : ''\n    ].join(' ');\n  }\n\n  @HostBinding('@popoverAnimation') get popoverAnimation(): string {\n    return this.animationState;\n  }\n\n  @HostListener('@popoverAnimation.done', ['$event']) popoverAnimationDone: Function = this._onPopoverAnimationDone.bind(this);\n\n  get isMobile(): boolean {\n    return this._deviceDetectionService.deviceMobile();\n  }\n\n  set animationState(value: string) {\n    this._animationState = value ? value.split('-')[0] : 'void';\n\n    // if the parent component uses ChangeDetectionStrategy.OnPush need to run an additional change detection\n    SafeCdr.markForCheck(this._changeDetectorRef);\n  }\n\n  get animationState(): string {\n    return this._animationState;\n  }\n\n\n  private _animationState: string = 'void';\n  private _placement: Placement = 'top';\n\n  constructor(private _element: ElementRef,\n              private _renderer: Renderer2,\n              private _deviceDetectionService: AdaptDeviceDetectionService,\n              private _changeDetectorRef: ChangeDetectorRef,\n              public ts: AdaptTranslateService) {\n    this.closeText = ts.getCurrentLanguage()['adapt.common.close'];\n  }\n\n  ngOnInit(): void {\n    if (this.isMobile) {\n      this.placement = 'mobile';\n    }\n\n    this._renderer.setAttribute(this._element.nativeElement, 'tabindex', '-1');\n  }\n\n  isTitleTemplate(): boolean {\n    return this.title instanceof TemplateRef;\n  }\n\n  applyPlacement(_placement: Placement): void {\n    // remove the current placement classes\n    this._renderer.removeClass(this._element.nativeElement, 'bs-popover-' + this.placement.toString().split('-')[0]);\n    this._renderer.removeClass(this._element.nativeElement, 'bs-popover-' + this.placement.toString());\n\n    // set the new placement classes\n    this.placement = _placement;\n\n    // apply the new placement\n    this._renderer.addClass(this._element.nativeElement, 'bs-popover-' + this.placement.toString().split('-')[0]);\n    this._renderer.addClass(this._element.nativeElement, 'bs-popover-' + this.placement.toString());\n  }\n\n  focusOnOpen(): number {\n    return requestAnimationFrame(() => {\n      this._element.nativeElement.focus();\n    });\n  }\n\n  isEventFrom(event: Event): boolean {\n    return isEventFrom(event, this._element.nativeElement);\n  }\n\n  private _onPopoverAnimationDone(event: AnimationEvent): void {\n    // TODO: Refactor this if possible\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    if ((event.fromState !== event.toState) && ((event.toState as any) === 'void')) {\n      this.closeAnimationDone.emit();\n      this.closeAnimationDone.complete();\n    }\n  }\n}\n\n/**\n * A lightweight, extensible directive for fancy popover creation.\n */\n@Directive({\n  selector: '[adaptPopover]',\n  exportAs: 'adaptPopover'\n})\nexport class AdaptPopoverDirective extends AdaptRadarAngularGenericDirective implements OnInit, OnDestroy, OnChanges {\n  /**\n   * Content to be displayed as popover\n   * @docs-default\n   */\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  @Input() adaptPopover: string | TemplateRef<any>;\n\n  /**\n   * Title of a popover\n   * @docs-default\n   */\n  @Input() popoverTitle: string;\n\n  /**\n   * Placement of a popover accepts:\n   *    \"top\", \"top-left\", \"top-right\", \"bottom\", \"bottom-left\", \"bottom-right\",\n   *    \"left\", \"left-top\", \"left-bottom\", \"right\", \"right-top\", \"right-bottom\"\n   * and array of above values.\n   * @docs-default top\n   */\n  @Input() placement: PlacementArray;\n\n  /**\n   * Fallback placement of a popover if 'placement' is auto and there are not available spaces.\n   * Available values:\n   *    \"top\", \"top-left\", \"top-right\", \"bottom\", \"bottom-left\", \"bottom-right\",\n   *    \"left\", \"left-top\", \"left-bottom\", \"right\", \"right-top\", \"right-bottom\"\n   */\n  @Input() fallbackPlacement: Placement;\n\n  /**\n   * Specifies events that should trigger. Supports a space separated list of event names.\n   * You can easily override open and close triggers by specifying event names (separated by \":\") in the triggers property\n   * @docs-default click\n   */\n  @Input() triggers: string;\n\n  /**\n   * A selector specifying the element the popover should be appended to.\n   * Currently only supports \"body\".\n   * @docs-default\n   */\n  @Input() container: string;\n\n  /**\n   * When specified, the popover will be attached to the body\n   * @since v9.2.0\n   * @docs-default true\n   */\n  @Input() appendToBody: boolean = true;\n\n  /**\n   * Close button in the popover header\n   * @docs-default false\n   */\n  @Input() closeBtn: boolean = false;\n\n  /**\n   * Delay before popover is open\n   * @docs-default 0\n   */\n  @Input() popupDelay: number = 0;\n\n  /**\n   * A flag indicating if a given popover is disabled and should not be displayed\n   * @docs-default\n   */\n  @Input() disablePopover: boolean;\n\n  /**\n   * An optional class applied to ngb-popover-window\n   * @docs-default\n   */\n  @Input() popoverClass: string;\n\n  /**\n   * Indicates whether the popover should be closed on Escape key and inside/outside clicks\n   * @docs-default true\n   */\n  @Input() autoClose: boolean | 'inside' | 'outside';\n\n  /**\n   * Auto close popover when popover origin is out of viewport\n   * @since v12.17.0\n   * @docs-default false\n   */\n  @Input() closeOnOutOfView: boolean = false;\n\n  /**\n   * Emits an event when the popover is shown\n   */\n  @Output() readonly shown: EventEmitter<void> = new EventEmitter();\n\n  /**\n   * Emits an event when the popover is hidden\n   */\n  @Output() readonly hidden: EventEmitter<void> = new EventEmitter();\n\n  get maxWidth(): string {\n    return `${this._maxWidth}px`;\n  }\n\n  @Input()\n  set maxWidth(w: string) {\n    this._maxWidth = parseInt(w, 10);\n  }\n\n  /**\n   * @since v12.21.0\n   */\n  @Input()\n  set minWidth(width: string) {\n    this._minWidth = parseInt(width, 10);\n  }\n\n  get minWidth(): string {\n    return `${this._minWidth}px`;\n  }\n\n  get isMobile(): boolean {\n    return this.detection.deviceMobile();\n  }\n\n  private _popoverWindowId: string = `adapt-popover-${nextId++}`;\n  private _popupService: PopupService<AdaptPopoverWindowComponent>;\n  private _windowRef: ComponentRef<AdaptPopoverWindowComponent>;\n  private _popoverOverlayWithPortal: AdaptOverlayWithPortal<AdaptPopoverWindow2Component>;\n  private _overlayConnectedPositions: AdaptOverlayConnectedPositions;\n  private _popoverOverlayPositions: ConnectedPosition[];\n  private _unregisterListenersFn: () => void;\n  private _openTimeout: number;\n  private _focusTimeout: number;\n  private _popoverSubscription: Subscription;\n  private _maxWidth: number = 250;\n  private _minWidth: number = 0;\n  private _destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n  private _lastFocusEl: HTMLElement | null;\n\n  constructor(private _elementRef: ElementRef,\n              private _renderer: Renderer2,\n              public injector: Injector,\n              private detection: AdaptDeviceDetectionService,\n              public componentFactoryResolver: ComponentFactoryResolver,\n              public viewContainerRef: ViewContainerRef,\n              public config: AdaptPopoverConfig,\n              private _ngZone: NgZone,\n              private _layerService: LayerService,\n              private _overlayService: AdaptOverlayService,\n              private _applicationRef: ApplicationRef,\n              private _directionality: Directionality,\n              // TODO: Refactor this if possible\n              /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n              @Inject(DOCUMENT) private _document: any, // https://github.com/angular/angular/issues/20351\n              _adaptRadarService: AdaptRadarAngularService,\n              _elem: ElementRef<HTMLElement>,\n              @Inject(PLATFORM_ID) private _platformId?: Object) {\n    super(_adaptRadarService, _elem, AdaptRadarAngularCustomEventName.AdaptPopover);\n\n    this.placement = config.placement;\n    this.triggers = config.triggers;\n    this.appendToBody = config.appendToBody || (config.container === 'body');\n    this.autoClose = config.autoClose;\n    this._popupService = new PopupService<AdaptPopoverWindowComponent>(\n      AdaptPopoverWindowComponent, injector, viewContainerRef, _renderer, componentFactoryResolver, _applicationRef);\n\n    this._overlayConnectedPositions = getOverlayConnectedPositions(this._directionality.value, 2);\n\n    this._overlayConnectedPositions.top.panelClass = 'bs-popover-top';\n    this._overlayConnectedPositions.left.panelClass = 'bs-popover-left';\n    this._overlayConnectedPositions.right.panelClass = 'bs-popover-right';\n    this._overlayConnectedPositions.bottom.panelClass = 'bs-popover-bottom';\n    this._overlayConnectedPositions['left-top'].panelClass = ['bs-popover-left', 'bs-popover-left-top'];\n    this._overlayConnectedPositions['left-bottom'].panelClass = ['bs-popover-left', 'bs-popover-left-bottom'];\n    this._overlayConnectedPositions['right-top'].panelClass = ['bs-popover-right', 'bs-popover-right-top'];\n    this._overlayConnectedPositions['right-bottom'].panelClass = ['bs-popover-right', 'bs-popover-right-bottom'];\n    this._overlayConnectedPositions['top-left'].panelClass = ['bs-popover-top', 'bs-popover-top-left'];\n    this._overlayConnectedPositions['top-right'].panelClass = ['bs-popover-top', 'bs-popover-top-right'];\n    this._overlayConnectedPositions['bottom-left'].panelClass = ['bs-popover-bottom', 'bs-popover-bottom-left'];\n    this._overlayConnectedPositions['bottom-right'].panelClass = ['bs-popover-bottom', 'bs-popover-bottom-right'];\n\n    this._popoverOverlayPositions = [\n      this._overlayConnectedPositions.top,\n      this._overlayConnectedPositions.left,\n      this._overlayConnectedPositions.right,\n      this._overlayConnectedPositions.bottom,\n      this._overlayConnectedPositions['left-top'],\n      this._overlayConnectedPositions['left-bottom'],\n      this._overlayConnectedPositions['right-top'],\n      this._overlayConnectedPositions['right-bottom'],\n      this._overlayConnectedPositions['top-left'],\n      this._overlayConnectedPositions['top-right'],\n      this._overlayConnectedPositions['bottom-left'],\n      this._overlayConnectedPositions['bottom-right']\n    ];\n  }\n\n  open(forcedElement?: ElementRef, forcedPlacement?: AdaptOverlayConnectedPositionName): void {\n    if (this._elementRef.nativeElement === document.activeElement) {\n      this._lastFocusEl = this._elementRef.nativeElement;\n    }\n\n    if (this._overlayService.enableCDKOverlayControl) {\n      this._openOverlay(forcedElement, forcedPlacement);\n\n      return;\n    }\n\n    if (this.container === 'body') {\n      this.appendToBody = true;\n    }\n\n    if (!this._windowRef && !this._isDisabled() && !this._openTimeout) {\n      this._openTimeout = window.setTimeout(() => {\n        // for https://github.bmc.com/bmc-ux/adapt-angular/issues/1179\n        const newContext = {\n          context: {close: this.close.bind(this)}\n        };\n\n        this._windowRef = this._popupService.open(this.adaptPopover, newContext);\n        this._windowRef.instance.title = this.popoverTitle;\n        this._windowRef.instance.context = newContext;\n        this._windowRef.instance.popoverClass = this.popoverClass;\n        this._windowRef.instance.id = this._popoverWindowId;\n        this._windowRef.instance.maxWidth = this.maxWidth;\n        this._windowRef.instance.closeCB = this.closeBtn ? this.close.bind(this) : null;\n\n        this._renderer.setAttribute(this._elementRef.nativeElement, 'aria-describedby', this._popoverWindowId);\n        this._renderer.setAttribute(this._elementRef.nativeElement, 'aria-expanded', 'true');\n\n        this._focusTimeout = this._windowRef.instance.focusOnOpen();\n\n        if (this.appendToBody) {\n          this._document.body.appendChild(this._windowRef.location.nativeElement);\n        }\n\n        if (this.placement === 'auto') {\n          this._ngZone.onStable\n            .pipe(takeUntil(this._destroyed$), take(1))\n            .subscribe(() => {\n              this._ngZone.run(() => {\n                this.setProperPopoverPosition();\n              });\n            });\n        } else {\n          this.setProperPopoverPosition();\n        }\n\n\n      }, this.popupDelay);\n\n      this._layerService.addComponent(this, () => {\n        if (this.autoClose) {\n          this.close();\n        }\n      });\n    }\n  }\n\n  /**\n   * Closes an elements popover. This is considered a manual triggering of the popover.\n   */\n  close(force?: boolean): void {\n    if (this._overlayService.enableCDKOverlayControl) {\n      this._closeOverlay(force);\n\n      return;\n    }\n\n    if (!this._windowRef) {\n      return;\n    }\n\n    if (this._openTimeout) {\n      clearTimeout(this._openTimeout);\n      this._openTimeout = null;\n    }\n\n    if (this._focusTimeout) {\n      cancelAnimationFrame(this._focusTimeout);\n      this._focusTimeout = null;\n    }\n\n    const closeFn = (): void => {\n      if (this._windowRef) {\n        this._renderer.removeAttribute(this._elementRef.nativeElement, 'aria-describedby');\n        this._renderer.setAttribute(this._elementRef.nativeElement, 'aria-expanded', 'false');\n        this._popupService.close();\n        this._windowRef = null;\n        this.hidden.emit();\n        this._setTargetStyle();\n      }\n    };\n\n    if (force === true) {\n      closeFn();\n    } else {\n      if (this._windowRef) {\n        this._windowRef.instance.animationState = null;\n        this._windowRef.instance.closeAnimationDone.subscribe(() => {\n          closeFn();\n        });\n      }\n    }\n\n    this._layerService.removeComponent(this);\n\n    // setProperPopoverPosition method create a lot of observables which are not unsubscribed while closing\n    if (this._popoverSubscription) {\n      this._popoverSubscription.unsubscribe();\n    }\n\n    if (this._lastFocusEl) {\n      this._lastFocusEl.focus();\n    }\n  }\n\n  /**\n   * Toggles an elements popover. This is considered a manual triggering of the popover.\n   */\n  toggle(): void {\n    (this._overlayService.enableCDKOverlayControl ? this._popoverOverlayWithPortal : this._windowRef) ?\n      this.close() : this.open();\n  }\n\n  /**\n   * Returns whether or not the popover is currently being shown\n   */\n  isOpen(): boolean {\n    return this._windowRef != null;\n  }\n\n  ngOnInit(): void {\n    if (this.isMobile) {\n      this.closeBtn = true;\n      this.placement = 'mobile';\n    }\n\n    this._unregisterListenersFn = listenToTriggers(\n      this._renderer, this._elementRef.nativeElement, this.triggers, this.open.bind(this), this.close.bind(this),\n      this.toggle.bind(this));\n\n    this._renderer.setAttribute(this._elementRef.nativeElement, 'role', 'button');\n\n    this._renderer.setAttribute(this._elementRef.nativeElement, 'aria-expanded', 'false');\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    // close popover if title and content become empty, or disablePopover set to true\n    if ((changes.ngbPopover || changes.popoverTitle || changes.disablePopover) && this._isDisabled()) {\n      this.close();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.close(true);\n\n    // This check is needed as it might happen that ngOnDestroy is called before ngOnInit\n    // under certain conditions, see: https://github.com/ng-bootstrap/ng-bootstrap/issues/2199\n    if (this._unregisterListenersFn) {\n      this._unregisterListenersFn();\n    }\n\n    this._layerService.removeComponent(this);\n    this._destroyed$.next(true);\n    this._destroyed$.complete();\n  }\n\n  private _openOverlay(forcedElement?: ElementRef, forcedPlacement?: AdaptOverlayConnectedPositionName): void {\n    if ((!this._popoverOverlayWithPortal || this._popoverOverlayWithPortal.componentRef.instance.closing) && !this._isDisabled() && !this._openTimeout) {\n      this._openTimeout = window.setTimeout(() => {\n        if (this._popoverOverlayWithPortal?.componentRef.instance.closing) {\n          this._popoverOverlayWithPortal.componentRef.instance.closeAnimationDone.complete();\n          this._popoverOverlayWithPortal.destroy();\n          this._popoverOverlayWithPortal = null;\n        }\n\n        // for https://github.bmc.com/bmc-ux/adapt-angular/issues/1179\n        const newContext = {\n          context: {close: this.close.bind(this)}\n        };\n\n        const connectedPositions = [];\n\n        if (this.placement !== 'mobile') {\n          if (forcedPlacement) {\n            connectedPositions.push(this._overlayConnectedPositions[forcedPlacement]);\n          } else {\n            const isAutoPlacement = Array.isArray(this.placement)\n              ? this.placement.some(p => p === 'auto')\n              : this.placement === 'auto';\n\n            if (!isAutoPlacement) {\n              const placementList = Array.isArray(this.placement) ? this.placement : [this.placement];\n\n              placementList.forEach(placementName => {\n                const connectedPos = placementName as AdaptOverlayConnectedPositionName;\n\n                connectedPositions.push(this._overlayConnectedPositions[connectedPos]);\n              });\n            }\n\n            connectedPositions.push(...this._popoverOverlayPositions);\n          }\n        }\n\n        this._popoverOverlayWithPortal = this._overlayService.openOverlayWithPortal(\n          new ComponentPortal(AdaptPopoverWindow2Component, this.viewContainerRef, this.injector),\n          {\n            origin: forcedElement || this._elementRef.nativeElement,\n            transformOriginSelector: '.popover',\n            positionStrategy: this.isMobile ? 'center' : 'connected',\n            scrollStrategy: this.isMobile ? 'block' : 'reposition',\n            connectedPositions: connectedPositions,\n            repositionScrollStrategyConfig: {autoClose: this.closeOnOutOfView}\n          }\n        );\n\n        // Process detach action invoked from Position/Scroll strategies\n        this._popoverOverlayWithPortal.overlayRef.detachments()\n          .pipe(takeUntil(this._popoverOverlayWithPortal.destroy$))\n          .subscribe(() => {\n            this._closeOverlay(true, true);\n          });\n\n        this._popoverOverlayWithPortal.overlayRef.keydownEvents()\n          .pipe(takeUntil(this._popoverOverlayWithPortal.destroy$))\n          .subscribe((event) => {\n            if ((getEventKeyCode(event) === ESCAPE) && this.autoClose) {\n              this.close();\n            }\n          });\n\n        this._popoverOverlayWithPortal.overlayRef.outsidePointerEvents()\n          .pipe(\n            takeUntil(this._popoverOverlayWithPortal.destroy$),\n            filter(event => event.target !== this._elementRef.nativeElement)\n          )\n          .subscribe((event) => {\n            if (this._shouldCloseFromClick(event)) {\n              this.close();\n            }\n          });\n\n        this._popoverOverlayWithPortal.componentRef.instance.content = this.adaptPopover;\n        this._popoverOverlayWithPortal.componentRef.instance.title = this.popoverTitle;\n        this._popoverOverlayWithPortal.componentRef.instance.context = newContext;\n        this._popoverOverlayWithPortal.componentRef.instance.popoverClass = this.popoverClass;\n        this._popoverOverlayWithPortal.componentRef.instance.id = this._popoverWindowId;\n        this._popoverOverlayWithPortal.componentRef.instance.maxWidth = this.maxWidth;\n        this._popoverOverlayWithPortal.componentRef.instance.minWidth = this.minWidth;\n        this._popoverOverlayWithPortal.componentRef.instance.closeCB = this.closeBtn ? this.close.bind(this) : null;\n\n        this._renderer.setAttribute(this._elementRef.nativeElement, 'aria-describedby', this._popoverWindowId);\n        this._renderer.setAttribute(this._elementRef.nativeElement, 'aria-expanded', 'true');\n        this._focusTimeout = this._popoverOverlayWithPortal.componentRef.instance.focusOnOpen();\n\n        this.shown.emit();\n\n        // if the parent component uses ChangeDetectionStrategy.OnPush need to run an additional change detection\n        this._popoverOverlayWithPortal.componentRef.instance.markForCheck();\n\n      }, this.popupDelay);\n    }\n  }\n\n  private _closeOverlay(force: boolean, preventScroll: boolean = false): void {\n    if (this._openTimeout) {\n      clearTimeout(this._openTimeout);\n      this._openTimeout = null;\n    }\n\n    if (this._focusTimeout) {\n      cancelAnimationFrame(this._focusTimeout);\n      this._focusTimeout = null;\n    }\n\n    if (this._popoverOverlayWithPortal) {\n      this._renderer.removeAttribute(this._elementRef.nativeElement, 'aria-describedby');\n      this._renderer.setAttribute(this._elementRef.nativeElement, 'aria-expanded', 'false');\n\n      if (force === true) {\n        this._popoverOverlayWithPortal.destroy();\n        this._popoverOverlayWithPortal = null;\n      } else {\n        this._popoverOverlayWithPortal.componentRef.instance.closing = true;\n        this._popoverOverlayWithPortal.componentRef.instance.closeAnimationDone\n          .pipe(takeUntil(this._popoverOverlayWithPortal.destroy$))\n          .subscribe(() => {\n            this._popoverOverlayWithPortal.destroy();\n            this._popoverOverlayWithPortal = null;\n          });\n\n        // if the parent component uses ChangeDetectionStrategy.OnPush need to run an additional change detection\n        this._popoverOverlayWithPortal.componentRef.instance.markForCheck();\n      }\n\n      this.hidden.emit();\n      this._setTargetStyle();\n\n      if (this._lastFocusEl) {\n        this._lastFocusEl.focus({preventScroll: preventScroll});\n      }\n    }\n  }\n\n  private _isDisabled(): boolean {\n    if (this.disablePopover) {\n      return true;\n    }\n\n    return !this.adaptPopover && !this.popoverTitle;\n  }\n\n  private setProperPopoverPosition(): void {\n    this._windowRef.instance.placement = positionElements(\n      this._elementRef.nativeElement,\n      this._windowRef.location.nativeElement,\n      this.placement,\n      this.appendToBody,\n      this.fallbackPlacement);\n\n    // apply styling to set basic css-classes on target element, before going for positioning\n    SafeCdr.detectChanges(this._windowRef.changeDetectorRef);\n    SafeCdr.markForCheck(this._windowRef.changeDetectorRef);\n\n    // position popover along the element\n    if (!this.isMobile) {\n      this._popoverSubscription = this._ngZone.onStable\n        .pipe(takeUntil(this._destroyed$), take(1))\n        .subscribe(() => {\n          /** Hot fix related to the task -> https://github.bmc.com/bmc-ux/adapt-angular/issues/1117 */\n          this._setTargetStyle('relative', 1061);\n\n          this._windowRef.instance.applyPlacement(\n            positionElements(\n              this._elementRef.nativeElement,\n              this._windowRef.location.nativeElement,\n              this._windowRef.instance.placement,\n              this.appendToBody));\n        });\n    }\n\n    if (this.autoClose) {\n      this._ngZone.runOutsideAngular(() => {\n        // prevents automatic closing right after an opening by putting a guard for the time of one event handling\n        // pass\n        // use case: click event would reach an element opening the popover first, then reach the autoClose handler\n        // which would close it\n        let justOpened = true;\n\n        requestAnimationFrame(() => justOpened = false);\n\n        fromEvent<MouseEvent>(this._document, 'click')\n          .pipe(\n            takeUntil(this.hidden),\n            filter(() => !justOpened),\n            filter(e => this._shouldCloseFromClick(e)),\n            filter(e => {\n              // Additional check for case when popover opened inside another popover\n              // Temporary. Will be removed after fully transfer to CdkOverlay\n              if (!this._isEventFromPopover(e)) {\n                let node = (e.target as HTMLElement).parentNode;\n\n                while (node != null) {\n                  if (node.nodeName === 'ADAPT-POPOVER-WINDOW') {\n                    return false;\n                  }\n\n                  node = node.parentNode;\n                }\n              }\n\n              return true;\n            })\n          )\n          .subscribe(() => this._ngZone.run(() => this.close()));\n      });\n    }\n\n    this.shown.emit();\n  }\n\n  private _shouldCloseFromClick(event: MouseEvent): boolean {\n    if (event.button !== 2) {\n      if (this.autoClose === true) {\n        return true;\n      } else if (this.autoClose === 'inside' && this._isEventFromPopover(event)) {\n        return true;\n      } else if (this.autoClose === 'outside' && !this._isEventFromPopover(event)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  private _isEventFromPopover(event: MouseEvent): boolean {\n    const popup = this._overlayService.enableCDKOverlayControl ? this._popoverOverlayWithPortal.componentRef.instance : this._windowRef.instance;\n\n    return popup ? popup.isEventFrom(event) : false;\n  }\n\n  private _setTargetStyle(value: string = '', zIndex: number | string = ''): boolean {\n    if (isPlatformServer(this._platformId)) {\n      return false;\n    } else {\n      const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\n      if (isSafari && this.triggers.indexOf('mouse') > -1) {\n        this._elementRef.nativeElement.style.position = value;\n        this._elementRef.nativeElement.style.zIndex = zIndex;\n      }\n    }\n\n  }\n}\n"]}