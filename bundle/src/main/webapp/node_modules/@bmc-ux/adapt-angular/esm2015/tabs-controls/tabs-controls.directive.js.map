{"version":3,"file":"tabs-controls.directive.js","sourceRoot":"","sources":["../../../../../libs/adapt-angular/src/tabs-controls/tabs-controls.directive.ts"],"names":[],"mappings":"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","sourcesContent":["import {Directive, ElementRef, Input, NgZone, Renderer2} from '@angular/core';\nimport {TabsControlsTypeDirection} from './tabs-controls.enum';\nimport {KeyValueObject} from '../common/common.models';\nimport {\n  AdaptRadarAngularCustomEventName,\n  AdaptRadarAngularGenericDirective,\n  AdaptRadarAngularService\n} from '../common/radar/adapt-radar';\n\n@Directive({\n  selector: '[adaptTabsControls], li[adapt-tabs-controls]',\n  // eslint-disable-next-line @angular-eslint/no-host-metadata-property\n  host: {'[class.adapt-tabs-controls]': 'true'}\n})\n\nexport class AdaptTabsControlsDirective extends AdaptRadarAngularGenericDirective {\n\n  /**\n   * A host element ref\n   */\n  readonly _element: HTMLElement;\n\n  /**\n   * set type direction for floating line\n   */\n  @Input() direction: TabsControlsTypeDirection = TabsControlsTypeDirection.Horizontal;\n\n  constructor(private _renderer: Renderer2,\n              private _el: ElementRef,\n              private _ngZone: NgZone,\n              _adaptRadarService: AdaptRadarAngularService,\n              _elem: ElementRef<HTMLElement>) {\n    super(_adaptRadarService, _elem, AdaptRadarAngularCustomEventName.AdaptTabsControls);\n\n    this._element = this._el.nativeElement;\n  }\n\n  /**\n   * Align a floating line to an element\n   */\n  alignToElement(element: HTMLElement): number | void {\n    this.show();\n\n    return (typeof requestAnimationFrame !== 'undefined') ? this._ngZone.runOutsideAngular(() =>\n      requestAnimationFrame(() => this._setStyles(element))) : this._setStyles(element);\n  }\n\n  /**\n   * Show floating line in a component\n   */\n  show(): void {\n    this._renderer.setStyle(this._element, 'visibility', 'visible');\n  }\n\n  /**\n   * Hide floating line in a component\n   */\n  hide(): void {\n    this._renderer.setStyle(this._element, 'visibility', 'hidden');\n  }\n\n  /**\n   * Sets styles based on direction\n   */\n\n  private _setStyles(element: HTMLElement): void {\n    const left = element ? (element.offsetLeft || 0) + 'px' : 0;\n    const width = element ? (element.offsetWidth || 0) + 'px' : 0;\n    const top = element ? (element.offsetTop || 0) + 'px' : 0;\n    const height = element ? (element.offsetHeight || 0) + 'px' : 0;\n\n    switch (this.direction) {\n      case TabsControlsTypeDirection.Vertical:\n        this._applyStyles(this._element, {top: `${top}`, height: `${height}`});\n        break;\n      case TabsControlsTypeDirection.Horizontal:\n        this._applyStyles(this._element, {left: `${left}`, width: `${width}`});\n        break;\n    }\n  }\n\n  /**\n   * Applies css styles for avoiding a bug in IE 11 with renderer method\n   */\n\n  private _applyStyles(el: HTMLElement, styles: KeyValueObject): void {\n    for (const prop in styles) {\n      if (Object.prototype.hasOwnProperty.call(styles, prop)) {\n        this._renderer.setStyle(el, prop, styles[prop]);\n      }\n    }\n  }\n}\n"]}