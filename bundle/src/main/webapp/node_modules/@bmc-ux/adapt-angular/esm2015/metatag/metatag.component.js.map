{"version":3,"file":"metatag.component.js","sourceRoot":"","sources":["../../../../../libs/adapt-angular/src/metatag/metatag.component.ts","../../../../../libs/adapt-angular/src/metatag/metatag.component.html"],"names":[],"mappings":"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","sourcesContent":["import {\n  AfterContentInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  Injector,\n  Input,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  Output,\n  QueryList,\n  Renderer2,\n  TemplateRef,\n  ViewChild,\n  ViewChildren,\n  ViewEncapsulation\n} from '@angular/core';\nimport {ControlValueAccessor, Validators} from '@angular/forms';\nimport {\n  animate,\n  animateChild,\n  AnimationEvent,\n  keyframes,\n  query,\n  style,\n  transition,\n  trigger,\n  useAnimation\n} from '@angular/animations';\nimport {BACKSPACE, ENTER, TAB} from '@angular/cdk/keycodes';\nimport {merge, Observable, of, OperatorFunction, ReplaySubject} from 'rxjs';\nimport {filter, map} from 'rxjs/operators';\nimport {isEqual, isNil, uniq} from 'lodash-es';\n\nimport {ANIMATION_NAME} from '../common/animation';\nimport {AdaptDeviceDetectionService} from '../common/device-detection.service';\nimport {AdaptTranslateService} from '../common/i18n/index';\nimport {\n  createFormControlValidator,\n  createFormControlValueAccessor,\n  FormComponent,\n  ValidationError\n} from '../common/form.component';\nimport {Func, KeyValueObject, ValueOrFunc2} from '../common/common.models';\nimport {SafeCdr} from '../common/safe-cdr';\nimport {AdaptTruncatePipe, TruncateConfig, TruncatedTextData} from '../common/truncated.pipe';\nimport {getEventKeyCode} from '../common/key-codes';\nimport {getValueOrFunc, hasShrunkText} from '../common/utilities';\n\nimport {AdaptRxControlLabelTooltip} from '../rx/form-control/index';\nimport {\n  AdaptRxTypeaheadComponent,\n  RxTypeaheadResultTemplateContext,\n  RxTypeaheadSelectItemEvent\n} from '../rx/rx-typeahead/index';\n\nimport {\n  AddTagEvent,\n  InitTagEditingEvent,\n  RemoveTagEvent,\n  TagAddingSource,\n  TagStyleFormatterParam,\n  TagTemplateData,\n  TagType\n} from './metatag.types';\nimport {AdaptRadarAngularCustomEventName, AdaptRadarAngularService} from '../common/radar/adapt-radar';\nimport {ColorUtils} from '../common/color.utils';\n\nconst COMMA_SYMBOL = ',';\n\nlet counter = 0;\n\nexport function getTagText(tag: TagType): string {\n  return typeof tag === 'string' ? tag : tag.text;\n}\n\n@Component({\n  selector: 'adapt-metatag, adapt-tag-field',\n  templateUrl: './metatag.component.html',\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    createFormControlValueAccessor(AdaptMetatagComponent),\n    createFormControlValidator(AdaptMetatagComponent)\n  ],\n  animations: [\n    trigger('validationFeedbackAnimation', [\n      transition(':enter', [\n        useAnimation(ANIMATION_NAME.fadeIn)\n      ]),\n      transition(':leave', [\n        useAnimation(ANIMATION_NAME.fadeOut)\n      ])\n    ]),\n    trigger('errorToggleAnimation', [\n      transition(':enter', [\n        style({\n          opacity: 0\n        }),\n        animate(250)\n      ]),\n      transition(':leave', [\n        style({\n          opacity: 1\n        }),\n        animate(150)\n      ])\n    ]),\n    trigger('tagsListAnimation', [\n      transition(':increment', [\n        query('@tagAnimation', [\n          animateChild()\n        ], {optional: true})\n      ])\n    ]),\n    trigger('tagAnimation', [\n      transition(':enter', animate(100, keyframes([\n        style({\n          opacity: 0,\n          padding: 0,\n          offset: 0\n        }),\n        style({\n          opacity: 0.3,\n          padding: '1px 6px 1px',\n          offset: .3\n        }),\n        style({\n          opacity: 0.35,\n          padding: '1px 8px 2px',\n          offset: .35\n        }),\n        style({\n          opacity: 0.9,\n          padding: '2px 19px 3px',\n          offset: .9\n        }),\n        style({\n          opacity: 1,\n          offset: 1\n        })\n      ])))\n    ])\n  ]\n})\nexport class AdaptMetatagComponent extends FormComponent implements ControlValueAccessor, OnInit, AfterContentInit, OnDestroy, Validators {\n\n  // Need for using inherited properties in the template\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  context: any = this;\n\n  items: TagType[] = [];\n  isValid: boolean = true;\n  inputValue: string = '';\n  getTagText: Function = getTagText;\n  defaultTexts: {\n    placeholder?: string;\n    mainErrorText?: string;\n  } = {};\n\n  /**\n   * Label icon with a tooltip or popover\n   */\n  tooltipConfig: AdaptRxControlLabelTooltip = null;\n\n  isMobile: boolean = false;\n\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  typeaheadFn: OperatorFunction<string, any[]> = AdaptMetatagComponent.NullSearch;\n\n  /**\n   * Destroy subject\n   */\n  readonly destroy$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  /**\n   * Sets the prefix label to the field\n   * @docs-default\n   */\n  @Input() prefix: string;\n\n  /**\n   * Sets the suffix label to the field\n   * @docs-default\n   */\n  @Input() suffix: string;\n\n  /**\n   * Sets max characters length to the tag\n   * (while tag length is bigger than [maxTagLength], the tag is being truncated)\n   * @docs-default\n   */\n  @Input() maxTagLength: number;\n\n  /**\n   * Sets middle truncation with hard prefix limit and hard suffix limit\n   * @docs-default\n   */\n  @Input() truncateConfig: TruncateConfig;\n\n  /**\n   * Sets the ID of the component instance\n   * @docs-default auto-generated\n   */\n  @Input() id: string;\n\n\n  @Input() testID: string;\n\n  /**\n   * Sets the name of the component instance\n   * @docs-default auto-generated\n   */\n  @Input() name: string;\n\n\n  @Input() ariaLabel: string;\n\n  /**\n   * A function to transform the provided observable text into the array of results.\n   * Note that the \"this\" argument is undefined so you need to explicitly bind it to a desired \"this\" target\n   * @docs-default OperatorFunction<string, any[]>\n   */\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  @Input() set search(searchFn: OperatorFunction<string, any[]>) {\n    this._search = searchFn;\n\n    if (this._search) {\n      const focus$ = this.focus.pipe(\n        filter(() => this.openDropdownOnFocus),\n        map(e => (e.target as HTMLInputElement).value)\n      );\n\n      this.typeaheadFn = (text$: Observable<string>) => {\n        return this._search(merge(text$, focus$));\n      };\n\n    } else {\n      this.typeaheadFn = AdaptMetatagComponent.NullSearch;\n    }\n  }\n\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  get search(): OperatorFunction<string, any[]> {\n    return this._search;\n  }\n\n  /**\n   * The maximum height of input component\n   * @docs-default 100\n   */\n  @Input() maxHeight: number = 100;\n\n  /**\n   * Manages the ability to create tags by Enter key pressing\n   * @docs-default false\n   */\n  @Input() suppressManual: boolean = false;\n\n  /**\n   * Allows to set up the label for the field\n   * @docs-default\n   */\n  @Input() label: string;\n\n  /**\n   * A placeholder string for the input filed\n   * @docs-default Start typing\n   */\n  @Input() placeholder: string;\n\n  /**\n   * An error message for tag item validation\n   * @docs-default Incorrect value\n   */\n  @Input() mainErrorText: string;\n\n  /**\n   *\n   */\n  @Input() warningStateText: string;\n\n  /**\n   * Allows to set up the width for the field\n   * @docs-default 100%\n   */\n  @Input() width: string = '100%';\n\n  /**\n   * Callback for error checking on each tag item\n   * @docs-default (tag) => false\n   */\n  @Input() errorCheck: (tag: TagType) => boolean;\n\n  /**\n   * Callback for warning checking on each tag item\n   * @docs-default (tag) => false\n   */\n  @Input() warningCheck: (tag: TagType) => boolean;\n\n  /**\n   * Template for dropdown item\n   * @docs-default\n   */\n  @Input() selectItemTemplate: TemplateRef<RxTypeaheadResultTemplateContext>;\n\n  /**\n   * A template to override a matching result default display\n   * @docs-default\n   */\n  @Input() tagTemplate: TemplateRef<TagTemplateData>;\n\n  /**\n   * If true then in writeValue method will make model copy, otherwise will concatenate to existing items\n   * @docs-default\n   */\n  @Input() replaceModelOnWrite: boolean;\n\n  /**\n   * When a user inputs this symbol, the component creates new tag\n   * @docs-default ,\n   */\n  @Input() delimiterSymbol: string = COMMA_SYMBOL;\n\n  /**\n   * Custom class for the dropdown menu\n   * @docs-default\n   */\n  @Input() popupClass: string;\n\n  /**\n   * Making input disabled and prevent creating new tags\n   * @docs-default\n   */\n  @Input() disabledInput: boolean;\n\n  /**\n   * When true, opens popup when user focus on element\n   * @docs-default\n   */\n  @Input() openDropdownOnFocus: boolean;\n\n\n  @Input() selectItemFormatter: (value: TagType) => string = this._defaultItemFormatter;\n\n  /**\n   * This input controls using full container width for editing tags\n   * @docs-default\n   * @since v11.11.0\n   */\n  @Input() fullWidthEdit: boolean = false;\n\n  /**\n   * Formatter that changes tag's style. This function should return object with type <Partial<CSSStyleDeclaration>>\n   * Takes TagFormatterParam as parameters\n   * @docs-default\n   * @since v12.23.0\n   */\n  @Input() tagStyleFormatter: ValueOrFunc2<Partial<CSSStyleDeclaration>, TagStyleFormatterParam>;\n\n  /* eslint-disable @angular-eslint/no-output-native */\n  /**\n   * The event firing on field focus\n   */\n  @Output() readonly focus: EventEmitter<FocusEvent> = new EventEmitter<FocusEvent>();\n\n  /**\n   * The event firing on field blur\n   */\n  @Output() readonly blur: EventEmitter<FocusEvent> = new EventEmitter<FocusEvent>();\n  /* eslint-enable @angular-eslint/no-output-native */\n\n  /**\n   * The event firing on tag remove\n   */\n  @Output() readonly removeTag: EventEmitter<RemoveTagEvent> = new EventEmitter<RemoveTagEvent>();\n\n  /**\n   * The event firing on tag add\n   * @since v12.14.0\n   */\n  @Output() readonly addTag: EventEmitter<AddTagEvent> = new EventEmitter<AddTagEvent>();\n\n  /**\n   * The event firing on tag edit\n   */\n  @Output() readonly initTagEditing: EventEmitter<InitTagEditingEvent> = new EventEmitter<InitTagEditingEvent>();\n\n\n  @HostBinding('class')\n  get hostClasses(): string {\n    return [\n      'adapt-mt-host',\n      this.getBaseHostClasses()\n    ].join(' ');\n  }\n\n  @HostBinding('class.adapt-mt-focused') get focused(): boolean {\n    return this.adaptRxTypeaheadComponent?.inputRef.nativeElement.matches(':focus') || false;\n  }\n\n  @ViewChild('adaptRxTypeaheadComponent', {static: true}) adaptRxTypeaheadComponent: AdaptRxTypeaheadComponent;\n  @ViewChild('inputWrp') inputWrp: ElementRef<HTMLDivElement>;\n  @ViewChild('container', {static: true}) container: ElementRef<HTMLDivElement>;\n  @ViewChild('metatag', {static: true}) metatag: ElementRef<HTMLDivElement>;\n\n  @ViewChildren('tagItem') tagItemList: QueryList<ElementRef>;\n  @ViewChildren('tagItemWrp') tagItemWrpList: QueryList<ElementRef>;\n\n  get inputSizeAttr(): number {\n    return this.inputValue ? this.inputValue.length : 0;\n  }\n\n  get isEmpty(): boolean {\n    return this.items.length === 0 && !this.inputValue;\n  }\n\n  get isWarnings(): boolean {\n    return this.items.some(item => this.warningCheck(item));\n  }\n\n  get hasAllTagsErrors(): boolean {\n    return this._isLabelError;\n  }\n\n  get hasNotAllTagsErrors(): boolean {\n    return this.isWarnings && !this.hasAllTagsErrors;\n  }\n\n  get isAllWarnings(): boolean {\n    return this.items.length > 0 && this.items.every(item => this.warningCheck(item));\n  }\n\n  private get _isLabelError(): boolean {\n    return this.items.some(item => this.errorCheck(item)) || this.isAllWarnings;\n  }\n\n  private get _isCurrentlyActive(): boolean {\n    return this.isMobile && this.tagItemList.some(item => item.nativeElement.classList.contains('is-active'));\n  }\n\n  private get _currentCursorPosition(): number {\n    return [].indexOf.call(this.metatag.nativeElement.children, this.inputWrp.nativeElement);\n  }\n\n  set value(v: TagType[]) {\n    this._value = v;\n  }\n\n  get value(): TagType[] {\n    return this._value;\n  }\n\n  private _value: TagType[];\n  private _isAdded: boolean = false;\n  private _docListenerFn: Function;\n  private _isEditingTag: boolean = false;\n  private _activeTabIndex: number | null = null;\n  private _search: (text: Observable<string>) => Observable<TagType[]>;\n  private _closeBtnText: string;\n\n  static NullSearch(): Observable<null> {\n    return of(null);\n  }\n\n  constructor(private _renderer: Renderer2,\n              injector: Injector,\n              public truncatePipe: AdaptTruncatePipe,\n              private _ngZone: NgZone,\n              private _devDetection: AdaptDeviceDetectionService,\n              private _changeDetectorRef: ChangeDetectorRef,\n              ts: AdaptTranslateService,\n              _adaptRadarService: AdaptRadarAngularService,\n              _elem: ElementRef<HTMLElement>) {\n    super(injector, ts, _adaptRadarService, _elem, AdaptRadarAngularCustomEventName.AdaptMetatag);\n    this.name = `adapt-mt-${counter}`;\n    this.id = `adapt-mt-${counter}`;\n    counter++;\n    const translation = ts.getCurrentLanguage();\n\n    this.mainErrorText = translation['adapt.tag.mainError'];\n    this.placeholder = translation['adapt.tag.placeholder'];\n    this.warningStateText = translation['adapt.tag.warningState'];\n    this._closeBtnText = translation['adapt.common.remove'];\n\n    this.isMobile = _devDetection.isMobile();\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n\n    if (!this.errorCheck) {\n      this.errorCheck = () => false;\n    }\n\n    if (!this.warningCheck) {\n      this.warningCheck = () => false;\n    }\n\n    if (this.tooltipIconCls && !this.popoverIcon) {\n      this.tooltipConfig = {\n        iconName: this.tooltipIconCls,\n        content: this.tooltipText,\n        placement: 'top',\n        popoverMode: false\n      };\n    } else if (this.popoverIcon) {\n      this.tooltipConfig = {\n        iconName: this.popoverIcon,\n        content: this.popoverContent,\n        placement: this.popoverPlacement,\n        popoverMode: true,\n        popoverTriggers: this.popoverTriggers\n      };\n    }\n  }\n\n  ngAfterContentInit(): void {\n    this._renderer.setStyle(this.container.nativeElement, 'width', this.width);\n    this.metatag.nativeElement.style.maxHeight = `${this.maxHeight}px`;\n\n    this._ngZone.runOutsideAngular(() => {\n      this._docListenerFn = this._renderer.listen('document', 'click', this._onDocumentClick.bind(this));\n    });\n  }\n\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n\n    this.destroy$.next();\n    this.destroy$.complete();\n\n    if (this._docListenerFn) {\n      this._docListenerFn();\n    }\n  }\n\n  writeValue(value: TagType[]): void {\n    if (value) {\n      this.items = this.replaceModelOnWrite ? value.slice() : this.items.concat(value);\n    }\n  }\n\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  registerOnTouched(fn: any): void {\n    this._onTouchedCallback = fn;\n  }\n\n  getContainerClass(): string[] {\n    const touched = this.control.touched;\n\n    return [\n      (touched && this.errors.length) ? 'has-danger' : '',\n      (touched && this.hasNotAllTagsErrors) ? 'has-warning' : ''\n    ].filter(Boolean);\n  }\n\n  getTruncatedTagModel(tag: TagType): TruncatedTextData {\n    return this.truncatePipe.truncate(this.getTagText(tag), this.maxTagLength || this.truncateConfig, '...');\n  }\n\n  removeItem(event: MouseEvent | KeyboardEvent, index: number, focusOnInputField: boolean): void {\n    let defaultPrevented = false;\n\n    this.removeTag.emit({\n      domEvent: event,\n      index,\n      tag: this.items[index],\n      preventDefault: () => defaultPrevented = true\n    });\n\n    if (!defaultPrevented) {\n      if (index === 0) {\n        this._resetInputElem();\n      }\n\n      this._activeTabIndex = null;\n\n      this.items.splice(index, 1);\n\n      this.emitModelChange();\n\n      if (focusOnInputField) {\n        this.focusOnInputField();\n      }\n    }\n  }\n\n  emitModelChange(): void {\n    this.propagateChange(this._removeDuplicates());\n  }\n\n  onKeyDown(event: KeyboardEvent, value: string): void {\n    if (this.disabled || this.readonly) {\n      return;\n    }\n\n    const index = this._currentCursorPosition - 1;\n\n    const eventKeyCode = getEventKeyCode(event);\n\n    if ((eventKeyCode === BACKSPACE) && !value && this.items.length) {\n      this.removeItem(event, index, this.isMobile);\n      this._onTouchedCallback();\n    } else if ((eventKeyCode === ENTER || eventKeyCode === TAB) && !this.suppressManual && !this._isAdded && value) {\n      event.preventDefault(); // Prevent tabulation if value selected\n\n      this._addTag(value, TagAddingSource.Input);\n\n      if (!this.isMobile) {\n        this._resetInputElem();\n        this.focusOnInputField();\n      }\n\n      this._cleanField();\n      this._onTouchedCallback();\n    } else if (this.isMobile && this.isCurrentTagActive(index) && !value) {\n      // some tag item is focused and we are trying to re-write its value by typing a new value\n      event.preventDefault();\n      this._activeTabIndex = null;\n      this._onTagEdit(index, event.key);\n    }\n\n    this._isAdded = false;\n  }\n\n  onInput(event: Event): void {\n    const inputValue = this.inputValue = this.adaptRxTypeaheadComponent.inputRef.nativeElement.value;\n    let hasAddedTag = false;\n\n    if (this.delimiterSymbol && !this.suppressManual) {\n      const values = inputValue.split(this.delimiterSymbol)\n        .map(v => v.trim()).filter(v => !!v);\n      const delimiterSymbolIndex = inputValue.indexOf(this.delimiterSymbol);\n\n      if (delimiterSymbolIndex >= 0) {\n        const metatagIndex = this._currentCursorPosition;\n\n        values.forEach((tag, index) => {\n          this._addTag(tag, TagAddingSource.Input, metatagIndex + index);\n        });\n\n        event.preventDefault();\n        hasAddedTag = true;\n      }\n    }\n\n    // if user cleared the input field by the backspace key and was tag editing\n    if (!hasAddedTag && !inputValue && this._isEditingTag) {\n      this.emitModelChange();\n      this._isEditingTag = false;\n    }\n  }\n\n  onTagAnimationDone(event: AnimationEvent): void {\n    // we will wait until animation for the just added tag(s) completes\n    // to clean the input field\n    if (event.phaseName === 'done' && !this._isEditingTag) {\n      this._cleanField();\n    }\n  }\n\n  isCurrentTagActive(index: number): boolean {\n    return this._activeTabIndex === index;\n  }\n\n  getTagTooltipFunc(tagTextContainer: HTMLElement, tag: TagType): Func<string> {\n    return () => {\n      const truncatedContent = this.getTruncatedTagModel(tag);\n\n      return hasShrunkText(tagTextContainer) ?\n        truncatedContent.value : (truncatedContent.truncated ? getTagText(tag) : '');\n    };\n  }\n\n  getRemoveTagBtnText(tag: TagType): string {\n    return `${this._closeBtnText} ${this.getTagText(tag)}`;\n  }\n\n  onSelect(event: RxTypeaheadSelectItemEvent): void {\n    event.preventDefault();\n    this._isAdded = true;\n    this._addTag(event.item, TagAddingSource.List);\n    this._cleanField();\n\n    if (!this.isMobile && this._currentCursorPosition !== this.items.length - 1) {\n      this._resetInputElem();\n    }\n\n    this.focusOnInputField();\n  }\n\n  onFocus(event: FocusEvent): void {\n    this.focus.emit(event);\n  }\n\n  onBlur(event: FocusEvent): void {\n    this.blur.emit(event);\n\n    if (this.suppressManual && !this.adaptRxTypeaheadComponent.popup.isOpen()) {\n      this._cleanField();\n    }\n\n    if (!this.readonly) {\n      this._onTouchedCallback();\n    }\n  }\n\n  focusOnInputField(options?: FocusOptions): void {\n    this.adaptRxTypeaheadComponent.inputRef.nativeElement.focus(options);\n  }\n\n  onFieldContainerClick(event: MouseEvent): void {\n    event.stopPropagation();\n\n    if (event.target === this.adaptRxTypeaheadComponent.inputRef.nativeElement) {\n      return;\n    }\n\n    const options: FocusOptions = (event.target as HTMLElement).closest('.adapt-mt-item-wrapper') ? {\n      preventScroll: true\n    } : null;\n\n    if (!this._isAdded && this.inputValue && !this.suppressManual) {\n      this._addTag(this.inputValue, TagAddingSource.Input);\n      this._cleanField();\n      SafeCdr.detectChanges(this._changeDetectorRef);\n    }\n\n    this._activeTabIndex = null;\n\n    if (this._currentCursorPosition !== this.items.length - 1) {\n      this._resetInputElem();\n    }\n\n    this.focusOnInputField(options);\n  }\n\n  itemDblClick(index: number): void {\n    if (this.readonly || this.disabled || this.suppressManual) {\n      return;\n    }\n\n    index = this._recalculateIndex(index);\n    // force change detection to have correct tags position\n    SafeCdr.detectChanges(this._changeDetectorRef);\n\n    if (index === this.items.length - 1) {\n      this._resetInputElem();\n    } else {\n      // not the last tag - input should be re-placed\n      const currentTag = this.tagItemWrpList.toArray()[index].nativeElement;\n      const inputWrp = this.metatag.nativeElement.removeChild(this.inputWrp.nativeElement);\n\n      // insert input element before the clicked tag item\n      // to take the place of further deleted target tag item\n      this.metatag.nativeElement.insertBefore(inputWrp, currentTag);\n    }\n\n    this._onTagEdit(index);\n  }\n\n  /**\n   * Function to handle tag item click on mobile devices\n   */\n  itemClick(event: MouseEvent, index: number): void {\n    event.stopPropagation();\n\n    if (!this.isMobile || this.readonly || this.disabled || this.suppressManual) {\n      return;\n    }\n\n    index = this._recalculateIndex(index);\n    // force change detection to have correct tags position\n    SafeCdr.detectChanges(this._changeDetectorRef);\n\n    if (this._activeTabIndex === index) {\n      // click on active tag\n      this._activeTabIndex = null;\n      this._onTagEdit(index);\n\n      return;\n    }\n\n    if (index !== this.items.length - 1) {\n      // not the last tag - input should be re-placed\n      const currentTag = this.tagItemWrpList.toArray()[index].nativeElement;\n      const inputWrp = this.metatag.nativeElement.removeChild(this.inputWrp.nativeElement);\n\n      // insert input element after the clicked tag item\n      // to allow tag item deletion via Backspace key click\n      this.metatag.nativeElement.insertBefore(inputWrp, currentTag.nextElementSibling);\n    } else if (this._activeTabIndex !== this.items.length - 1) {\n      this._resetInputElem();\n    }\n\n    this._activeTabIndex = index;\n\n    this.focusOnInputField();\n  }\n\n  validate(): { tagError: { name: string; text: string } } | null {\n    if (this._isLabelError) {\n      return {\n        tagError: this._customErrorTexts.tagError || {\n          name: '',\n          text: this.mainErrorText\n        }\n      };\n    } else {\n      return null;\n    }\n  }\n\n  getInputStyle(): KeyValueObject {\n    return {\n      // on mobile we should hide the cursor\n      width: this.inputValue\n        ? null\n        : this.isMobile && this.items.length ? this._isCurrentlyActive ? 0 : '1px' : '2px'\n    };\n  }\n\n  trackByForErrors(index: number, error: ValidationError): string | number {\n    return error.name || error.text || index;\n  }\n\n  trackByForTags(index: number, item: string): string | number {\n    return item || index;\n  }\n\n  getTagStyle(index: number, item: TagType): Partial<CSSStyleDeclaration> {\n    const tagFormatterParam: TagStyleFormatterParam = {\n      index: index,\n      tag: item\n    };\n\n    const tagStyleConfig: Partial<CSSStyleDeclaration> = this._getTagStyleConfig(tagFormatterParam);\n    const bgColor: string = tagStyleConfig?.backgroundColor;\n    const color: string = tagStyleConfig?.color;\n\n    if (bgColor && !color) {\n      return {...tagStyleConfig, color: this._getTextColor(bgColor)};\n    }\n\n    return tagStyleConfig;\n  }\n\n  private _recalculateIndex(index: number): number {\n    if (!this._isEditingTag) {\n      return index;\n    }\n\n    this._activeTabIndex = null;\n    this._addTag(this.inputValue, TagAddingSource.Input);\n    this._cleanField();\n\n    // change index value since we delete a tag once entering edit mode\n    return index < this._currentCursorPosition ? index : index + 1;\n  }\n\n  private _onTagEdit(index: number, presetTagValue?: string): void {\n    let defaultPrevented = false;\n    const tag = this.items[index];\n\n    this.initTagEditing.emit({\n      index,\n      tag,\n      preventDefault: () => defaultPrevented = true\n    });\n\n    if (!defaultPrevented) {\n      this.items.splice(index, 1);\n      this._isEditingTag = true;\n      this._isAdded = false;\n      this.inputValue = presetTagValue ? presetTagValue : getTagText(tag);\n\n      // needed to trigger event and show options list\n      if (presetTagValue) {\n        this.adaptRxTypeaheadComponent.inputRef.nativeElement.value = this.inputValue;\n        this.adaptRxTypeaheadComponent.inputRef.nativeElement.dispatchEvent(new Event('input'));\n      }\n\n      this.focusOnInputField();\n      this.adaptRxTypeaheadComponent.inputRef.nativeElement.scrollIntoView({block: 'nearest', inline: 'nearest'});\n    }\n  }\n\n  private _onTouchedCallback(): void {\n    return;\n  }\n\n  private _removeDuplicates(): TagType[] {\n    return uniq(this.items);\n  }\n\n  private _addTag(value: TagType, addingSource: TagAddingSource, index: number = this._currentCursorPosition): void {\n    if (value) {\n      if (!this.items.some(item => isEqual(item, value))) {\n        let defaultPrevented = false;\n\n        this.addTag.emit({\n          tag: value,\n          preventDefault: () => defaultPrevented = true,\n          addingSource: addingSource\n        });\n\n        if (!defaultPrevented) {\n          this.items.splice(index, 0, value);\n          this.emitModelChange();\n        }\n      }\n\n      this.focusOnInputField();\n      this.adaptRxTypeaheadComponent?.inputRef.nativeElement.scrollIntoView({block: 'nearest', inline: 'nearest'});\n    }\n  }\n\n  private _cleanField(): void {\n    this.inputValue = '';\n    this._isEditingTag = false;\n  }\n\n  private _onDocumentClick(event: Event): void {\n    const inputEl = this.adaptRxTypeaheadComponent.inputRef;\n\n    if (!isNil((event.target as HTMLElement).closest('button.dropdown-item'))) {\n      // tag has been added from the suggestion list\n      return;\n    }\n\n    if (inputEl && inputEl.nativeElement.contains(event.target as HTMLElement)) {\n      return;\n    }\n\n    if (this._isCurrentlyActive || !this.inputValue) {\n      this._activeTabIndex = null;\n      this._resetInputElem();\n    }\n\n    if (!this._isAdded && this.inputValue) {\n      if (!this.suppressManual) {\n        this._addTag(this.inputValue, TagAddingSource.Input);\n        this._cleanField();\n        SafeCdr.detectChanges(this._changeDetectorRef);\n      }\n\n      this._resetInputElem();\n    }\n  }\n\n  private _resetInputElem(): void {\n    const inputWrp = this.metatag.nativeElement.removeChild(this.inputWrp.nativeElement);\n\n    this.metatag.nativeElement.appendChild(inputWrp);\n  }\n\n  private _defaultItemFormatter(value: TagType): string {\n    return value ? (typeof value === 'string' ? value : value.text) : '';\n  }\n\n  private _getTagStyleConfig(tagFormatterParam: TagStyleFormatterParam): Partial<CSSStyleDeclaration> {\n      return getValueOrFunc(this.tagStyleFormatter, tagFormatterParam) || {};\n  }\n\n  private _getTextColor(color: string): string {\n    const contrastLightResults = ColorUtils.checkContrast('#FFFFFF', color);\n    const contrastDarkResults = ColorUtils.checkContrast('#333333', color);\n\n    if (contrastLightResults.ratio > contrastDarkResults.ratio) {\n      return '#FFFFFF';\n    } else if (contrastLightResults.ratio < contrastDarkResults.ratio) {\n      return '#333333';\n    }\n  }\n}\n","<ng-template #defaultTagTemplate let-tag=\"tag\">{{ getTruncatedTagModel(tag).value }}</ng-template>\n\n<div #container\n     class=\"adapt-mt-container form-group\"\n     [ngClass]=\"getContainerClass()\"\n     [class.adapt-mt_disabled]=\"disabled\"\n     [class.adapt-mt_readonly]=\"readonly\">\n  <div class=\"adapt-mt-label-wrapper\">\n    <adapt-rx-control-label [for]=\"id\"\n                            [label]=\"label\"\n                            [requiredLabel]=\"requiredLabel\"\n                            [showRequiredLabel]=\"required\"\n                            [tooltip]=\"tooltipConfig\"></adapt-rx-control-label>\n  </div>\n\n  <div class=\"adapt-mt-field-wrapper\">\n    <div *ngIf=\"prefix\" class=\"adapt-mt-adding\">{{prefix}}</div>\n    <div class=\"adapt-mt-wrapper\"\n         [class.adapt-mt-wrapper_disabled]=\"disabled\"\n         (click)=\"onFieldContainerClick($event)\">\n      <div #metatag class=\"adapt-mt\">\n        <div *ngFor=\"let item of items; let i = index; trackBy: trackByForTags\"\n             (dblclick)=\"itemDblClick(i)\"\n             (click)=\"itemClick($event, i)\"\n             placement=\"auto\"\n             [adaptRadarDisableEventSending]=\"true\"\n             [adaptTooltip]=\"getTagTooltipFunc(tagTextContainer, item)\"\n             class=\"adapt-mt-item-wrapper\"\n             [ngClass]=\"{'is-mobile' : isMobile}\" #tagItemWrp\n             [@tagsListAnimation]=\"items.length\"\n             (@tagsListAnimation.done)=\"onTagAnimationDone($event)\">\n          <div class=\"adapt-mt-item\" #tagItem\n               [@tagAnimation]\n               [ngStyle]=\"getTagStyle(i, item)\"\n               [class.is-active]=\"isCurrentTagActive(i)\"\n               [class.meta-tag-error]=\"errorCheck(item) || isAllWarnings\"\n               [class.meta-tag-warning]=\"warningCheck(item) && !errorCheck(item) && !isAllWarnings\"\n               [class.text-default]=\"warningCheck(item) && !errorCheck(item) && !isAllWarnings\">\n            <a class=\"adapt-mt-item-close close\"\n               *ngIf=\"!(disabled || readonly)\"\n               href=\"javascript:void(0)\"\n               [attr.aria-label]=\"getRemoveTagBtnText(item)\"\n               [class.close-inverse]=\"!(warningCheck(item) && !errorCheck(item)  && !isAllWarnings)\"\n               (click)=\"removeItem($event, i, true)\"></a>\n            <span class=\"adapt-mt-text\" #tagTextContainer>\n              <span class=\"d-icon-exclamation_triangle mr-1\"\n                    *ngIf=\"errorCheck(item) || isAllWarnings\"></span>\n              <span class=\"d-icon-exclamation_circle mr-1\"\n                    *ngIf=\"warningCheck(item) && !errorCheck(item) && !isAllWarnings\"></span>\n              <ng-template [ngTemplateOutlet]=\"tagTemplate || defaultTagTemplate\"\n                           [ngTemplateOutletContext]=\"{tag: item, index: i}\"></ng-template>\n\n            </span>\n          </div>\n        </div>\n        <div class=\"adapt-mt-input-container\"\n             [class.adapt-mt-input-container__empty]=\"!items.length\"\n             [ngClass]=\"{'use-all-space' : fullWidthEdit}\" #inputWrp>\n          <div *ngIf=\"isEmpty\" class=\"adapt-mt-placeholder\">{{placeholder}}</div>\n\n          <adapt-rx-typeahead #adaptRxTypeaheadComponent\n                              [adaptRadarDisableEventSending]=\"true\"\n                              class=\"adapt-mt-input\"\n                              [ngStyle]=\"getInputStyle()\"\n                              [id]=\"id + '_search'\"\n                              [testID]=\"testID + '_search'\"\n                              [disabled]=\"disabled || disabledInput\"\n                              [readonly]=\"readonly\"\n                              [typeahead]=\"typeaheadFn\"\n                              [attr.size]=\"inputSizeAttr\"\n                              [focusFirst]=\"false\"\n                              [appendToBody]=\"true\"\n                              [ariaLabel]=\"ariaLabel\"\n                              [resultFormatter]=\"selectItemFormatter\"\n                              [resultTemplate]=\"selectItemTemplate\"\n                              [popupClass]=\"popupClass\"\n                              [popupWidth]=\"'auto'\"\n                              [ngModel]=\"inputValue\"\n                              (input)=\"onInput($event)\"\n                              (keydown)=\"onKeyDown($event, adaptRxTypeaheadComponent.inputRef.nativeElement.value)\"\n                              (onFocus)=\"onFocus($event)\"\n                              (onBlur)=\"onBlur($event)\"\n                              [showClearButton]=\"false\"\n                              (onSelectItem)=\"onSelect($event)\"></adapt-rx-typeahead>\n        </div>\n      </div>\n    </div>\n    <div *ngIf=\"suffix\" class=\"adapt-mt-adding\">{{suffix}}</div>\n  </div>\n\n  <div [@validationFeedbackAnimation] [ngClass]=\"{'adapt-mt-error': errors.length}\"\n       *ngIf=\"(isWarnings && !isAllWarnings) || (control.touched && errors.length)\">\n    <p class=\"form-control-feedback m-0 pt-1 pb-2\" *ngIf=\"isWarnings && !isAllWarnings; else errorsTemplate\">\n      {{ warningStateText || mainErrorText }}\n    </p>\n\n    <ng-template #errorsTemplate>\n      <p class=\"form-control-feedback m-0 pt-1 pb-2\" *ngFor=\"let error of errors; trackBy: trackByForErrors\">\n        <b *ngIf=\"error.name\">{{error.name}} </b>{{error.text}}\n      </p>\n    </ng-template>\n  </div>\n</div>\n"]}