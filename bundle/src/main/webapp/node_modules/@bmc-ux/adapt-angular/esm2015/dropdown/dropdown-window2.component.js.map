{"version":3,"file":"dropdown-window2.component.js","sourceRoot":"","sources":["../../../../../libs/adapt-angular/src/dropdown/dropdown-window2.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  HostListener,\n  Output,\n  Renderer2,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport {animate, AnimationEvent, query, style, transition, trigger, useAnimation} from '@angular/animations';\nimport {FocusOrigin} from '@angular/cdk/a11y';\nimport {Subject} from 'rxjs';\nimport {Observable} from 'rxjs/internal/Observable';\n\nimport {ANIMATION_DURATION, ANIMATION_NAME, ANIMATION_TIMING_FUNCTION} from '../common/animation';\nimport {SafeCdr} from '../common/safe-cdr';\nimport {getFocusableElements} from '../common/focus';\nimport {isEventFrom} from '../common/utilities';\n\nimport {AdaptDropdownMobileView} from './dropdown.model';\nimport {AdaptDropdownMenuDirective} from './dropdown.component';\n\n@Component({\n  selector: 'adapt-dropdown-window2',\n  template: `\n    <div class=\"adapt-dd-menu\"\n         [adaptFocusHolder]=\"holdFocusInMenu\"\n         [holdFocusOnInit]=\"holdFocusOnOpen\"\n         [focusFirstOnInit]=\"autoFocusFirst\"\n         [focusFirstDelay]=\"250\"\n         [eventType]=\"eventInvokedFrom\"\n         [restoreLastFocusedElement]=\"restoreFocusAfterClose\"\n         [focusNextElement]=\"focusNextElementAfterClose\">\n\n      <ng-container *ngIf=\"!(isMobile || isTablet)\"\n                    [ngTemplateOutlet]=\"desktopTemplate\"></ng-container>\n      <ng-container *ngIf=\"isMobile && !mobileView.isPicker\"\n                    [ngTemplateOutlet]=\"mobileTemplate\"></ng-container>\n      <ng-container *ngIf=\"(isMobile && mobileView.isPicker) || isTablet\"\n                    [ngTemplateOutlet]=\"mobilePickerTemplate\"></ng-container>\n    </div>\n\n    <ng-template #desktopTemplate>\n      <div #container class=\"adapt-dd-menu-desktop border-gradient shadow-2 a-dropdown-window--menu\"\n           [class.adapt-dd-menu-desktop_picker]=\"mobileView.isPicker\"\n           [ngClass]=\"customClass\">\n        <ng-container [ngTemplateOutlet]=\"templateRef\"></ng-container>\n      </div>\n    </ng-template>\n\n    <ng-template #mobileTemplate>\n      <div class=\"adapt-dd-menu-mobile\" [class.adapt-dd-menu-mobile_full-height]=\"mobileView.fullHeight\">\n        <div class=\"adapt-dd-menu-mobile--content\">\n          <div class=\"adapt-dd-menu-mobile--content-header\" (click)=\"$event.stopPropagation()\">\n            <button type=\"button\" class=\"btn btn-link btn-sm\"\n                    (click)=\"mobileView.cancelCB && mobileView.cancelCB()\">\n              {{mobileView.cancelBtnTitle}}\n            </button>\n            <h2 class=\"adapt-dd-menu-mobile--content-header-title\">\n              {{mobileView.title}}\n            </h2>\n            <button class=\"btn btn-link btn-sm\"\n                    (click)=\"mobileView.doneCB && mobileView.doneCB()\"\n                    [disabled]=\"!mobileView.doneCB\"\n                    [class.invisible]=\"!mobileView.doneCB\">\n              {{mobileView.doneBtnTitle}}\n            </button>\n          </div>\n\n          <div #container\n               class=\"adapt-dd-menu-mobile--content-body a-dropdown-window--menu\"\n               [ngClass]=\"customClass\">\n            <ng-container [ngTemplateOutlet]=\"templateRef\"></ng-container>\n          </div>\n        </div>\n      </div>\n    </ng-template>\n\n    <ng-template #mobilePickerTemplate>\n      <div #container\n           class=\"adapt-dd-menu-mobile-picker shadow-3\"\n           [class.is-tablet]=\"isTablet\"\n           [class.adapt-dd-menu-mobile-picker_full-height]=\"mobileView.fullHeight\"\n           [class.full-height]=\"mobileView.fullHeight\">\n        <div class=\"a-dropdown-window--menu\" [ngClass]=\"customClass\">\n          <div class=\"modal-header\" *ngIf=\"isTablet\">\n            <h5 [class]=\"'modal-title text-default'\">{{mobileView.title}}</h5>\n            <adapt-close [adaptRadarDisableEventSending]=\"true\" (close)=\"mobileView.cancelCB && mobileView.cancelCB()\"></adapt-close>\n          </div>\n          <ng-container [ngTemplateOutlet]=\"templateRef\"></ng-container>\n        </div>\n      </div>\n    </ng-template>\n  `,\n  animations: [\n    trigger('popupAnimation', [\n      transition('void => desktop', [\n        query('.adapt-dd-menu', [\n          useAnimation(ANIMATION_NAME.popIn)\n        ], {optional: true})\n      ]),\n      transition('desktop => 0', [\n        query('.adapt-dd-menu', [\n          useAnimation(ANIMATION_NAME.popOut)\n        ], {optional: true})\n      ]),\n      transition('void => mobile', [\n        query('.adapt-dd-menu-mobile', [\n          style({transform: 'translate(0px, 100%)', opacity: '0'}),\n          animate(`${ANIMATION_DURATION.fast} ${ANIMATION_TIMING_FUNCTION.base.transitionIn}`,\n            style({transform: 'translate(0px, 0px)', opacity: '1'}))\n        ], {optional: true})\n      ]),\n      transition('mobile => 0', [\n        query('.adapt-dd-menu-mobile', [\n          style({transform: 'translate(0px, 0px)', opacity: '1'}),\n          animate(`${ANIMATION_DURATION.fast} ${ANIMATION_TIMING_FUNCTION.base.transitionOut}`,\n            style({transform: 'translate(0px, 100%)', opacity: '0'}))\n        ], {optional: true})\n      ]),\n      transition('void => picker', [\n        query('.adapt-dd-menu', [\n          useAnimation(ANIMATION_NAME.popIn)\n        ], {optional: true})\n      ]),\n      transition('picker => 0', [\n        query('.adapt-dd-menu', [\n          useAnimation(ANIMATION_NAME.popOut)\n        ], {optional: true})\n      ])\n    ]),\n    trigger('fadeAnimation', [\n      transition('void => *', [\n        useAnimation(ANIMATION_NAME.opacity)\n      ]),\n      transition('* => 0', [\n        useAnimation(ANIMATION_NAME.opacity, {\n          params: {\n            from: '*',\n            to: '0'\n          }\n        })\n      ])\n    ])\n  ],\n  styles: [`\n    .adapt-dd-menu {\n      height: 100%;\n    }\n\n    .adapt-dd-menu .dropdown-menu {\n      position: static;\n      display: flex;\n      flex-direction: column;\n      flex: 1 1 auto;\n      box-shadow: none;\n      margin: 0;\n      float: none;\n      height: 100%;\n    }\n\n    .adapt-dd-menu .a-dropdown-window--menu {\n      position: static;\n    }\n\n    /* DESKTOP */\n    .adapt-dd-menu-desktop {\n      height: 100%;\n      overflow: auto;\n      border-radius: var(--border-radius);\n      background: var(--white, #fff);\n    }\n\n    .adapt-dd-menu-desktop_picker {\n      max-height: unset;\n    }\n\n    /* MOBILE */\n    .adapt-dd-menu-mobile {\n      min-height: 50%;\n      max-height: 100%;\n      display: flex;\n      flex-direction: column-reverse;\n      position: absolute;\n      left: 0;\n      right: 0;\n      bottom: 0;\n    }\n\n    .adapt-dd-menu-mobile_full-height {\n      height: 100%;\n    }\n\n    .adapt-dd-menu-mobile--content {\n      flex: 1 1 auto;\n      display: flex;\n      flex-direction: column;\n      overflow-x: auto;\n      overflow-y: auto;\n    }\n\n    .adapt-dd-menu-mobile--content-header {\n      flex: 0 1 auto;\n      display: flex;\n      justify-content: space-between;\n      padding: 14px 0;\n      border-bottom: 1px solid #d6d7d8;\n      background: #fff;\n    }\n\n    .adapt-dd-menu-mobile--content-header-title {\n      font-size: 1rem;\n      margin: 0;\n      padding: 5px 0;\n    }\n\n    .adapt-dd-menu-mobile--content-body {\n      flex: 1 1 auto;\n      overflow: auto;\n      height: auto;\n      background: #fff;\n    }\n\n    /* MOBILE-PICKER */\n    .adapt-dd-menu-mobile-picker {\n      display: flex;\n      flex-direction: column;\n      max-height: 97vh;\n      overflow: auto;\n      border-radius: 2px;\n    }\n\n    .adapt-dd-menu-mobile-picker_full-height {\n      height: 100vh;\n      max-height: 100%;\n    }\n\n    .adapt-dd-menu-mobile-picker .modal-header {\n      position: relative;\n    }\n  `],\n  encapsulation: ViewEncapsulation.None\n})\nexport class AdaptDropdownWindow2Component implements AfterViewInit {\n  // Fields for dynamic component configuration\n  animationMode: 'desktop' | 'mobile' | 'picker' | false;\n  autoFocusFirst: boolean = true;\n  content: AdaptDropdownMenuDirective;\n  customClass: string;\n  eventInvokedFrom: FocusOrigin;\n  focusNextElementAfterClose: boolean = false;\n  holdFocusInMenu: boolean = false;\n  holdFocusOnOpen: boolean = false;\n  isMobile: boolean;\n  isTablet: boolean;\n  mobileView: AdaptDropdownMobileView;\n  restoreFocusAfterClose: boolean = false;\n  templateRef: TemplateRef<void>;\n\n  @Output() readonly popupAnimationDone: EventEmitter<AnimationEvent> = new EventEmitter<AnimationEvent>();\n\n  @HostBinding('@fadeAnimation') get fadeAnimation(): 'desktop' | 'mobile' | 'picker' | false {\n    return this.animationMode;\n  }\n\n  @HostBinding('@popupAnimation') get popupAnimation(): 'desktop' | 'mobile' | 'picker' | false {\n    return this.animationMode;\n  }\n\n  @HostListener('@popupAnimation.done', ['$event']) onPopupAnimationDone: (event: AnimationEvent) => void = this._onPopupAnimationDone;\n\n  // Container for inserting content\n  @ViewChild('container', {static: false}) container: ElementRef<HTMLDivElement>;\n\n  private _popupCloseAnimationDone$: Subject<void> = new Subject<void>();\n\n  constructor(\n    private _elementRef: ElementRef<HTMLElement>,\n    private _renderer: Renderer2,\n    public _changeDetectorRef: ChangeDetectorRef,\n  ) {\n  }\n\n  ngAfterViewInit(): void {\n    if (this.content) {\n      //TODO: see possibilities to refactor the below code,\n      Array.from(this.container.nativeElement.children).forEach((child) => {\n        this._renderer.removeChild(this.container.nativeElement, child);\n      });\n      this._renderer.appendChild(this.container.nativeElement, this.content._elementRef.nativeElement);\n    }\n  }\n\n  /**\n   * Check if click event from this window\n   */\n  isEventFrom(event: Event): boolean {\n    return isEventFrom(event, this._elementRef.nativeElement);\n  }\n\n  /**\n   * Close window\n   */\n  close(): Observable<void> {\n    this.animationMode = false;\n\n    // when used inside a component with OnPush strategy, must explicitly mark for check to ensure animationMode change is detected\n    SafeCdr.markForCheck(this._changeDetectorRef);\n\n    return this._popupCloseAnimationDone$;\n  }\n\n  focusFirstItemInPopup(): void {\n    getFocusableElements(this._elementRef.nativeElement)[0]?.focus();\n  }\n\n  /**\n   * Close animation handler\n   */\n  private _onPopupAnimationDone(event: AnimationEvent): void {\n    this.popupAnimationDone.emit(event);\n\n    if (Boolean(event.toState) === false) {\n      this._popupCloseAnimationDone$.next();\n      this._popupCloseAnimationDone$.complete();\n    }\n  }\n}\n"]}