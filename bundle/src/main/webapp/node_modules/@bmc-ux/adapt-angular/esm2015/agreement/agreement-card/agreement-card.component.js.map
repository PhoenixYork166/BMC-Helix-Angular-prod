{"version":3,"file":"agreement-card.component.js","sourceRoot":"","sources":["../../../../../../libs/adapt-angular/src/agreement/agreement-card/agreement-card.component.ts","../../../../../../libs/adapt-angular/src/agreement/agreement-card/agreement-card.component.html"],"names":[],"mappings":"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","sourcesContent":["import {Component, ElementRef, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {\n  AdaptRadarAngularCustomEventName,\n  AdaptRadarAngularGenericDirective,\n  AdaptRadarAngularService\n} from '../../common/radar/adapt-radar';\nimport {AdaptAgreementState, AdaptCardAgreementText} from '../argeement.model';\nimport {isEmpty, isNull, isUndefined} from 'lodash-es';\nimport {AdaptTranslateService} from '../../common/i18n';\nimport {KeyValueObject} from '../../common/common.models';\n\n\n@Component({\n  selector: 'adapt-agreement-card',\n  templateUrl: './agreement-card.component.html'\n})\nexport class AdaptAgreementCardComponent extends AdaptRadarAngularGenericDirective implements OnInit {\n\n  private _accountDefaultState: AdaptAgreementState = {\n    accountPerformance: false,\n    accountMarketing: false,\n  };\n\n  private _organizationDefaultState: AdaptAgreementState = {\n    organizationPerformance: false,\n    organizationMarketing: false,\n  };\n\n  texts: AdaptCardAgreementText = {};\n\n  @Input() multiProductUsage: boolean = false;\n\n  @Input() state: AdaptAgreementState | null = {};\n\n  @Input() showOrganizationSettings: boolean = false;\n\n  @Input() showMarketingSection: boolean = true;\n\n  @Input() showShadow: boolean = true;\n\n  @Output() readonly stateChange: EventEmitter<AdaptAgreementState> = new EventEmitter<AdaptAgreementState>();\n\n  constructor(private _ts: AdaptTranslateService,\n              _adaptRadarService: AdaptRadarAngularService,\n              _elem: ElementRef<HTMLElement>) {\n    super(_adaptRadarService, _elem, AdaptRadarAngularCustomEventName.AdaptAgreementCard);\n\n    this._setDefaultTexts(_ts.getCurrentLanguage());\n  }\n\n  ngOnInit(): void {\n    const defaultOrganizationState = this.showOrganizationSettings ? {...this._organizationDefaultState} : {};\n    const defaultState = {...this._accountDefaultState, ...defaultOrganizationState};\n\n    if (!isNull(this.state)) {\n      this.state = isUndefined(this.state) || isEmpty(this.state)\n        ? defaultState\n        : {...defaultState, ...this.state};\n    }\n  }\n\n  handleStateChange(state: AdaptAgreementState): void {\n    this.stateChange.emit(state);\n  }\n\n  private _setDefaultTexts(translation: KeyValueObject): void {\n    this.texts.cardMainTitle = translation['adapt.agreement.card.mainTitle'];\n    this.texts.cardEmptyStateMain = translation['adapt.agreement.card.emptyStateMain'];\n    this.texts.cardEmptyStateSecondary = translation['adapt.agreement.card.emptyStateSecondary'];\n  }\n}\n","<div class=\"adapt-agreement\"\n     [class.adapt-agreement_no-shadow]=\"!showShadow\"\n     [class.adapt-agreement_has-shadow]=\"showShadow\">\n  <div class=\"adapt-agreement__header p-3\">\n    <h5 class=\"m-0\">{{texts.cardMainTitle}}</h5>\n  </div>\n\n  <div class=\"adapt-agreement__content p-3\">\n    <adapt-empty-state *ngIf=\"!state\"\n                       [adaptRadarDisableEventSending]=\"true\"\n                       [type]=\"'config'\">\n      <p class=\"adapt-agreement__content_empty-state\">{{texts.cardEmptyStateMain}}</p>\n      <p class=\"text-center text-secondary\">{{texts.cardEmptyStateSecondary}}</p>\n    </adapt-empty-state>\n\n    <adapt-agreement-admin-content\n      *ngIf=\"state && showOrganizationSettings\"\n      [adaptRadarDisableEventSending]=\"true\"\n      [multiProductUsage]=\"multiProductUsage\"\n      [state]=\"state\"\n      [showOrganizationSettings]=\"showOrganizationSettings\"\n      (stateChange)=\"handleStateChange($event)\">\n    </adapt-agreement-admin-content>\n\n    <adapt-agreement-content\n      *ngIf=\"state && !showOrganizationSettings\"\n      [adaptRadarDisableEventSending]=\"true\"\n      [showMarketingSection]=\"showMarketingSection\"\n      [multiProductUsage]=\"multiProductUsage\"\n      [state]=\"state\"\n      [showOrganizationSettings]=\"showOrganizationSettings\"\n      (stateChange)=\"handleStateChange($event)\">\n    </adapt-agreement-content>\n  </div>\n</div>\n"]}