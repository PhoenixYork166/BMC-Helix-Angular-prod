{"version":3,"file":"over-modal.js","sourceRoot":"","sources":["../../../../../libs/adapt-angular/src/modal/over-modal.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, EventEmitter, Input, NgModule, OnInit, Output, TemplateRef, ViewChild, ViewContainerRef} from '@angular/core';\nimport {query, transition, trigger, useAnimation} from '@angular/animations';\nimport {ANIMATION_NAME} from '../common/animation';\nimport {AdaptFocusHolderModule} from '../focus-holder/index';\nimport {AdaptTranslateService} from '../common/i18n/index';\nimport {ColorVariantType} from '../common/common.models';\n\nexport interface OverModalConfig {\n  /**\n   * OverModal content\n   */\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  content?: string | TemplateRef<any>;\n\n  /**\n   * OverModal title\n   */\n  title?: string;\n\n  /**\n   * OverModal type\n   */\n  type?: ColorVariantType | 'default';\n\n  /**\n   * Allow footer content left align\n   */\n  footerAlignLeft?: boolean;\n}\n\n/**\n * OverModal config\n */\nexport interface OverModal extends OverModalConfig {\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  content: string | TemplateRef<any>;\n}\n\n@Component({\n  selector: 'adapt-over-modal',\n  template: `\n    <div class=\"modal-dialog\" [adaptFocusHolder]=\"true\">\n      <div class=\"modal-content\" [class.footer-align_left]=\"config.footerAlignLeft\">\n        <div class=\"modal-header\">\n          <h5 [class]=\"'modal-title' + (config.type ? ' text-' + config.type : ' text-default')\">{{config.title}}&nbsp;</h5>\n          <button type=\"button\"\n                  class=\"close\"\n                  data-dismiss=\"modal\"\n                  [attr.aria-label]=\"closeText\"\n                  (click)=\"close()\"></button>\n        </div>\n        <ng-template #contentPlacement></ng-template>\n      </div>\n    </div>\n  `,\n  animations: [\n    trigger('overModalAnimation', [\n      transition('void => *', [\n        query('.modal-content', [\n          useAnimation(ANIMATION_NAME.popIn)\n        ])\n      ]),\n      transition('* => void', [\n        query('.modal-content', [\n          useAnimation(ANIMATION_NAME.popOut)\n        ])\n      ])\n    ]),\n  ],\n  // eslint-disable-next-line @angular-eslint/no-host-metadata-property\n  host: {\n    '[class.over-modal]': 'true',\n    '[class]': '\"over-modal \" + className',\n    '[@overModalAnimation]': 'true',\n    '[style.zIndex]': '1055'\n  }\n})\nexport class AdaptOverModalComponent implements OnInit {\n  closeText: string;\n  @Input() config: OverModal;\n  @Input() className: string = '';\n\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any, @angular-eslint/no-output-on-prefix */\n  @Output() readonly onClose: EventEmitter<any> = new EventEmitter();\n\n  @ViewChild('contentPlacement', {read: ViewContainerRef, static: true}) contentPlacement: ViewContainerRef;\n\n  constructor(public ts: AdaptTranslateService) {\n    this.closeText = ts.getCurrentLanguage()['adapt.common.close'];\n  }\n\n  ngOnInit(): void {\n    if (this.config.content instanceof TemplateRef) {\n      this.contentPlacement.createEmbeddedView(this.config.content, {close: this.close.bind(this)});\n\n    } else if (typeof this.config.content === 'string') {\n      const contentContainerNode = this.contentPlacement.element.nativeElement;\n\n      const newNode = document.createElement('div');\n\n      newNode.classList.add('modal-body');\n      newNode.innerText = this.config.content;\n\n      contentContainerNode.parentElement.insertBefore(newNode, contentContainerNode);\n    }\n  }\n\n  close(): void {\n    this.onClose.emit();\n  }\n}\n\n@NgModule({\n  imports: [AdaptFocusHolderModule],\n  declarations: [AdaptOverModalComponent],\n  exports: [AdaptOverModalComponent]\n})\nexport class AdaptOverModalModule {\n}\n"]}