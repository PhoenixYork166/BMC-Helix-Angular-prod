{"version":3,"file":"adapt-mention2-list.component.js","sourceRoot":"","sources":["../../../../../libs/adapt-angular/src/mention2/adapt-mention2-list.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, EventEmitter, Input, Output, Renderer2, TemplateRef} from '@angular/core';\n\nimport {AdaptMention2Item} from './adapt-mention2.types';\nimport {getMention2ItemName} from './adapt-mention2-utils';\n\n@Component({\n  selector: 'adapt-mention2-list',\n  template: `\n    <div class=\"dropdown-menu show position-static\" *ngIf=\"listItems?.length || isLoading\"\n         style=\"overflow: auto; height: 100%\"\n         [style.maxWidth]=\"maxWidth\"\n         [style.maxHeight]=\"maxHeight\">\n      <ng-container *ngIf=\"!isLoading; else loadingTemplate\">\n        <button type=\"button\"\n                tabindex=\"-1\"\n                class=\"dropdown-item\"\n                *ngFor=\"let listItem of listItems; let i = index; trackBy: trackByMentionName\"\n                [class.text-active]=\"i === activeIndex\"\n                (click)=\"selectItem.emit(listItem)\"\n                (mouseover)=\"activeIndex = i\">\n          <ng-template [ngTemplateOutlet]=\"itemTemplate || defaultTemplate\"\n                       [ngTemplateOutletContext]=\"{ $implicit: listItem }\"></ng-template>\n\n          <ng-template #defaultTemplate>{{getListItemName(listItem)}}</ng-template>\n        </button>\n      </ng-container>\n    </div>\n\n    <ng-template #loadingTemplate>\n      <div class=\"mention-loader-container d-flex align-items-center justify-content-center\">\n        <div class=\"loader-container\">\n          <div class=\"loader-section\"></div>\n        </div>\n      </div>\n    </ng-template>\n  `\n})\nexport class AdaptMention2ListComponent {\n  listItems: AdaptMention2Item[] = [];\n  activeIndex: number = 0;\n  isLoading: boolean = false;\n  trackByMentionName: (index: number, item: AdaptMention2Item) => string = this._trackByMentionName.bind(this);\n\n  @Input() set list(value: AdaptMention2Item[]) {\n    this.listItems = value || [];\n    this.isLoading = false;\n    this.activeIndex = 0;\n  }\n\n  @Input() itemTemplate: TemplateRef<{ $implicit: AdaptMention2Item }>;\n\n  @Input() query: string;\n\n  @Input() searchKey: string;\n\n  @Input() maxWidth: string = 'auto';\n\n  @Input() maxHeight: string = 'auto';\n\n  @Output() readonly selectItem: EventEmitter<AdaptMention2Item> = new EventEmitter<AdaptMention2Item>();\n\n  constructor(private _renderer: Renderer2) {\n  }\n\n  getListItemName(item: AdaptMention2Item): string {\n    return getMention2ItemName(item, this.searchKey);\n  }\n\n  selectActive(): void {\n    if (this.listItems[this.activeIndex]) {\n      this.selectItem.emit(this.listItems[this.activeIndex]);\n    }\n  }\n\n  activateNext(): void {\n    this.activeIndex = this.listItems.length ? (this.activeIndex + 1) % this.listItems.length : 0;\n  }\n\n  activatePrev(): void {\n    this.activeIndex =\n      this.listItems.length ? ((this.activeIndex || this.listItems.length) - 1) % this.listItems.length : 0;\n  }\n\n  private _trackByMentionName(index: number, item: AdaptMention2Item): string {\n    return getMention2ItemName(item, this.searchKey);\n  }\n}\n"]}