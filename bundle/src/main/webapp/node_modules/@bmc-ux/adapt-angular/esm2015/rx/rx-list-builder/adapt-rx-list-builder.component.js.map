{"version":3,"file":"adapt-rx-list-builder.component.js","sourceRoot":"","sources":["../../../../../../libs/adapt-angular/src/rx/rx-list-builder/adapt-rx-list-builder.component.ts","../../../../../../libs/adapt-angular/src/rx/rx-list-builder/adapt-rx-list-builder.component.html"],"names":[],"mappings":"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","sourcesContent":["import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  QueryList,\n  Self,\n  TemplateRef,\n  ViewChild,\n  ViewChildren,\n  ViewEncapsulation\n} from '@angular/core';\nimport {NgControl, ValidationErrors} from '@angular/forms';\nimport {animateChild, query, transition, trigger, useAnimation} from '@angular/animations';\nimport {ENTER, ESCAPE} from '@angular/cdk/keycodes';\nimport {moveItemInArray} from '@angular/cdk/drag-drop';\nimport {fromEvent, of, ReplaySubject} from 'rxjs';\nimport {switchMap, take, takeUntil, tap} from 'rxjs/operators';\nimport {cloneDeep, filter, findIndex, includes, isArray, isEmpty, isFunction, toLower, toString} from 'lodash-es';\n\nimport {v4 as uuid} from 'uuid';\n\nimport {ANIMATION_NAME} from '../../common/animation';\nimport {AdaptTranslateService} from '../../common/i18n/index';\nimport {KeyValueObject} from '../../common/common.models';\nimport {getEventKeyCode} from '../../common/key-codes';\nimport {\n  AdaptRadarAngularCustomEventName,\n  AdaptRadarAngularCustomEventType,\n  AdaptRadarAngularService\n} from '../../common/radar/adapt-radar';\nimport {maxDepth} from '../../common/utilities';\n\nimport {AdaptRxFeedbackComponent, AdaptRxFormControlDirective} from '../form-control/index';\nimport {AdaptRxListItemComponent} from '../rx-list-item/index';\nimport {\n  ListBuilderTextsModel,\n  RxListBuilderItem,\n  RxListBuilderSelectionMode,\n} from './adapt-rx-list-builder.models';\nimport {SafeCdr} from '../../common/safe-cdr';\nimport {AdaptCustomAction} from '../../custom-actions/index';\nimport {adaptWarn} from '../../common/logger';\n\nenum ListItemDropArea {\n  Above = 0,\n  Below = 1,\n  Center = 2\n}\n\nconst DROP_AREA_EDGE: KeyValueObject<number> = {\n  top: .25,\n  center: .5,\n  bottom: .75\n};\n\n@Component({\n  selector: 'adapt-rx-list-builder',\n  encapsulation: ViewEncapsulation.None,\n  templateUrl: './adapt-rx-list-builder.component.html',\n  animations: [\n    trigger('listAnimation', [\n      transition('* => 0', []),\n      transition(':decrement', [\n        query('@listItemAnimation', [\n          animateChild()\n        ], {optional: true})\n      ]),\n      transition(':enter, :increment', [\n        query('@listItemAnimation', [\n          animateChild()\n        ], {optional: true})\n      ])\n    ]),\n    trigger('listItemAnimation', [\n      transition(':enter', [\n        useAnimation(ANIMATION_NAME.itemIn)\n      ]),\n      transition(':leave', [\n        useAnimation(ANIMATION_NAME.itemOut)\n      ])\n    ]),\n    trigger('listItemChildrenAnimation', [\n      transition('void => *', [\n        useAnimation(ANIMATION_NAME.height, {\n          params: {\n            from: '0',\n            to: '*'\n          }\n        })\n      ]),\n      transition('* => void', [\n        useAnimation(ANIMATION_NAME.height, {\n          params: {\n            from: '*',\n            to: '0'\n          }\n        })\n      ])\n    ])\n  ]\n})\nexport class AdaptRxListBuilderComponent extends AdaptRxFormControlDirective implements OnInit, AfterViewInit, OnDestroy {\n  protected controlName: string = 'list-builder';\n\n  analyticsComponentName: typeof AdaptRadarAngularCustomEventName = AdaptRadarAngularCustomEventName;\n\n  isDragging: boolean = false;\n  focused: boolean = false;\n  canAdd: boolean = false; // The flag notifying that search native input has a value\n\n  filteredListItems: RxListBuilderItem[] = [];\n  addValidationError: string;\n  addingItemDuplicateOrEmpty: boolean = false;\n  editValidationError: string;\n  editingItemDuplicateOrEmpty: boolean = false;\n  editingSizeExceeded: boolean = false;\n\n  dragStartSubject: ReplaySubject<{\n    event: DragEvent;\n    item: AdaptRxListItemComponent;\n  }> = new ReplaySubject(1);\n  dragEnterSubject: ReplaySubject<{\n    event: DragEvent;\n    item: AdaptRxListItemComponent;\n  }> = new ReplaySubject(1);\n  dragOverSubject: ReplaySubject<{\n    event: DragEvent;\n    item: AdaptRxListItemComponent;\n    draggableOverElement: HTMLElement;\n  }> = new ReplaySubject(1);\n  dragLeaveSubject: ReplaySubject<{\n    event: DragEvent;\n    draggableLeaveElement: HTMLElement;\n  }> = new ReplaySubject(1);\n  dropSubject: ReplaySubject<DragEvent> = new ReplaySubject(1);\n  dragEndSubject: ReplaySubject<void> = new ReplaySubject(1);\n\n  /**\n   * When present, hides the input for list filtering/item searching.\n   * @docs-default false\n   */\n  @Input() hideSearchField: boolean = false;\n\n  /**\n   * When present, hides list item edit button.\n   * @docs-default false\n   */\n  @Input() hideEdit: boolean = false;\n\n  /**\n   * When present, hides list item delete button.\n   * @docs-default false\n   */\n  @Input() hideDelete: boolean = false;\n\n  /**\n   * When present, hides list title.\n   * @docs-default false\n   */\n  @Input() hideListAreaLabel: boolean = false;\n\n  /**\n   * When present, applies custom sorting for list items and disable possibility to drag items.\n   * @docs-default\n   */\n  @Input() customSort: (prev: RxListBuilderItem, curr: RxListBuilderItem) => number;\n\n  /**\n   * Configurable text for rx-list-builder: See below ListBuilderTextsModel.\n   * @docs-default\n   */\n  @Input() texts: ListBuilderTextsModel;\n\n  /**\n   * Sets the height of the list block.\n   * @docs-default\n   */\n  @Input() menuHeight: number;\n  /**\n   * When present, sets the maximum label length that can be saved when an item's label is edited.\n   * @docs-default\n   */\n  @Input() listItemMaxLength: number;\n\n  /**\n   * Function that is used to generate id value to the new item added to the list.\n   * @docs-default\n   */\n  @Input() generateListItemId: () => string | number;\n\n  /**\n   * Function that is used to determine whether the item can be added to the list.\n   * Returns 'null' if no error and 'string' if it is.\n   * @docs-default\n   * @since 9.2.0\n   */\n  @Input() itemValidation: (value: string, array: RxListBuilderItem[], isEdit: boolean) => string;\n\n  /**\n   * When present, it specifies that the element should be disabled.\n   * @docs-default false\n   */\n  @Input()\n  get disabled(): boolean {\n    return this._disabled;\n  }\n\n  set disabled(value: boolean) {\n    if (this.inputEl) {\n      this._cleanInput();\n      this._updateListOptions();\n    }\n\n    this._disabled = Boolean(value);\n  }\n\n  /**\n   * Allow creating nested structures when dragging one element over other element.\n   * @docs-default false\n   * @since 10.9.0\n   */\n  @Input() treeStructure: boolean = false;\n\n  /**\n   * Formatter that transforms item into a string to become editable\n   * once custom content has been provided or to be displayed as an item.\n   * @docs-default option => option[this.listItemSetterProp]\n   * @since 11.5.0\n   */\n  @Input() listItemFormatter: (option: RxListBuilderItem) => string = this._defaultItemFormatter.bind(this);\n\n  /**\n   * Property name to be updated\n   * @docs-default name\n   * @since 11.5.0\n   */\n  @Input() listItemSetterProp: string = 'name';\n\n  /**\n   * Custom template for displaying item in the list.\n   * @docs-default\n   * @since 11.5.0\n   */\n  @Input() listItemContentTemplate: TemplateRef<{ $implicit: RxListBuilderItem }>;\n\n  /**\n   * Specifies the selection mode, valid values are \"single\" and \"multiple\".\n   * If not provided means that selection feature is turned off\n   * Selection mode can be used only with flat list builder structure.\n   * Used \"selected\" property from the list builder item(\"RxListBuilderItemDefault\") to represent selection state\n   * In case \"single\" mode and no \"selected\" item provider, the first item from the list will be automatically selected\n   *\n   * @since 12.27.0, 14.5.0\n   * @docs-default\n   */\n  @Input() selectionMode: RxListBuilderSelectionMode;\n\n  /**\n   * Fires when list item has added\n   */\n  @Output() readonly listItemAdd: EventEmitter<RxListBuilderItem> = new EventEmitter<RxListBuilderItem>();\n\n  /**\n   * Fires when list item enters edit mode\n   */\n  @Output() readonly listItemEdit: EventEmitter<RxListBuilderItem> = new EventEmitter<RxListBuilderItem>();\n\n  /**\n   * Fires when list item has been updated. Returns <code>[oldValue, newValue]</code>\n   */\n  @Output() readonly listItemUpdate: EventEmitter<[RxListBuilderItem, RxListBuilderItem]> = new EventEmitter<[RxListBuilderItem, RxListBuilderItem]>();\n\n  /**\n   * Fires when list item has removed\n   */\n  @Output() readonly listItemRemove: EventEmitter<RxListBuilderItem> = new EventEmitter<RxListBuilderItem>();\n\n  @ViewChild('itemsList', {static: false}) itemsList: ElementRef<HTMLDivElement>;\n\n  @ViewChild('filterInput', {static: false}) inputEl: ElementRef<HTMLInputElement>;\n\n  @ViewChildren(AdaptRxListItemComponent) rxListItemComponents: QueryList<AdaptRxListItemComponent>;\n\n  /**\n   * Reference on AdaptRxFeedbackComponent\n   */\n  @ViewChild('adaptRxFeedbackRef', {static: true}) adaptRxFeedbackRef: AdaptRxFeedbackComponent;\n\n  /**\n   * Check if the control has UI error state\n   */\n  get hasDangerState(): boolean {\n    return !this.readonly && this.adaptRxFeedbackRef.hasUIErrorState;\n  }\n\n  private _dragItem: RxListBuilderItem;\n  private _dragOverItem: RxListBuilderItem;\n  private _dragItemExpandOverWaitTimeMs: number = 300; // Delay before list children open when drag over them\n  private _dropArea: ListItemDropArea;\n  private _modelValue: RxListBuilderItem[];\n  private _defaultTexts: ListBuilderTextsModel = {};\n  private _overItemTimeout: number;\n  private _dragMoveCursor: {\n    clientX: number;\n    clientY: number;\n  } = {\n    clientX: 0,\n    clientY: 0\n  };\n  // when a drag occurs, a translucent image is generated from the drag target,\n  // and follows the mouse pointer during the drag.\n  // This image is created automatically, and its opacity cannot be changed.\n  // For this reason, we will create custom preview element\n  private _preview: HTMLElement;\n  private _dragElement: HTMLElement;\n  private _dragOverElement: HTMLElement;\n  private _dragOverClasses: string[] = [];\n  private _draggableClasses: KeyValueObject<string> = {\n    drag: 'adapt-list-builder__drag-item',\n    drop: 'adapt-list-builder__drop-item',\n    dropAreaAbove: 'adapt-list-builder__drop-area_above',\n    dropAreaBelow: 'adapt-list-builder__drop-area_below',\n    dropAreaCenter: 'adapt-list-builder__drop-area_center'\n  };\n  private _placeholder: HTMLDivElement;\n\n  get selectionActions(): AdaptCustomAction[] {\n    return [\n      {\n        name: this.texts.selectAll,\n        visible: this._canBeSelected(),\n        onClick: this._selectAll.bind(this)\n      },\n      {\n        name: this.texts.clear,\n        visible: this._canBeCleared(),\n        onClick: this._clearAll.bind(this)\n      }\n    ];\n  }\n\n\n  constructor(@Optional() @Self() ngControl: NgControl,\n              _changeDetectorRef: ChangeDetectorRef,\n              public ts: AdaptTranslateService,\n              private _ngZone: NgZone,\n              _adaptRadarService: AdaptRadarAngularService,\n              _elem: ElementRef<HTMLElement>) {\n    super(ngControl, ts, _adaptRadarService, _elem, AdaptRadarAngularCustomEventName.AdaptRxListBuilder, _changeDetectorRef);\n    this.setDefaultTexts(ts.getCurrentLanguage());\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n\n    this.texts = {...this._defaultTexts, ...this.texts};\n\n    this._ngZone.onStable\n      .pipe(take(1), takeUntil(this.destroy$))\n      .subscribe(() => {\n        this._autoSelectItem();\n\n        if (this._isNestedStructure() && !!this.selectionMode) {\n          adaptWarn('ADAPT-ANGULAR Warning! List builder component! Selection feature is working only with flat list builder model structure');\n        }\n      });\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n\n    if (this.inputEl) {\n      fromEvent(this.inputEl.nativeElement, 'input')\n        .pipe(takeUntil(this.destroy$))\n        .subscribe(() => {\n          this._updateListOptions();\n        });\n\n      fromEvent(this.inputEl.nativeElement, 'keyup')\n        .pipe(\n          takeUntil(this.destroy$),\n          tap(() => this.canAdd = !this.readonly && Boolean(this.inputEl.nativeElement.value)))\n        .subscribe((event: KeyboardEvent) => {\n          const keyCode = getEventKeyCode(event);\n\n          if (keyCode === ESCAPE || keyCode === ENTER) {\n            event.preventDefault();\n\n            switch (keyCode) {\n              case ESCAPE: {\n                this._cleanInput();\n                this._updateListOptions();\n                break;\n              }\n              case ENTER: {\n                if (!this.readonly && !this.addingItemDuplicateOrEmpty && !this.addValidationError) {\n                  this.onListItemAdd();\n                }\n                break;\n              }\n            }\n          }\n        });\n    }\n\n    this.dragStartSubject\n      .pipe(switchMap(e => of(e)), takeUntil(this.destroy$))\n      .subscribe(({event, item}) => {\n        this.onDragStart(event, item);\n      });\n\n    this.dragEnterSubject\n      .pipe(switchMap(e => of(e)), takeUntil(this.destroy$))\n      .subscribe(({event, item}) => {\n        this.onDragEnter(event, item);\n      });\n\n    this.dragOverSubject\n      .pipe(switchMap(e => of(e)), takeUntil(this.destroy$))\n      .subscribe(({event, item, draggableOverElement}) => {\n        this.onDragOver(event, item, draggableOverElement);\n      });\n\n    this.dragLeaveSubject\n      .pipe(switchMap(e => of(e)), takeUntil(this.destroy$))\n      .subscribe(({event, draggableLeaveElement}) => {\n        this.onDragLeave(event, draggableLeaveElement);\n      });\n\n    this.dropSubject\n      .pipe(switchMap(e => of(e)), takeUntil(this.destroy$))\n      .subscribe((event) => {\n        this.onDrop(event);\n      });\n\n    this.dragEndSubject\n      .pipe(switchMap(e => of(e)), takeUntil(this.destroy$))\n      .subscribe(() => {\n        this.onDragEnd();\n      });\n  }\n\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n\n    clearTimeout(this._overItemTimeout);\n  }\n\n  get errors(): ValidationErrors | null {\n    let _errors = this.ngControl.errors;\n\n    if (!this.readonly && this.addValidationError && !this.addingItemDuplicateOrEmpty) {\n      const _itemAddError = {\n        itemAddError: {\n          message: this.addValidationError,\n          priority: 0\n        }\n      };\n\n      _errors = {...this.ngControl.errors, ..._itemAddError};\n    }\n\n    return _errors;\n  }\n\n  setDefaultTexts(translation: KeyValueObject): void {\n    this._defaultTexts.requiredText = translation['adapt.common.required'];\n    this._defaultTexts.searchPlaceholder = translation['adapt.listBuilder.searchPlaceholder'];\n    this._defaultTexts.headerText = translation['adapt.listBuilder.headerText'];\n    this._defaultTexts.numberOptionsText = translation['adapt.listBuilder.numberOptionsText'];\n    this._defaultTexts.add = translation['adapt.listBuilder.add'];\n    this._defaultTexts.notFound = translation['adapt.listBuilder.notFound'];\n    this._defaultTexts.selectAll = translation['adapt.listBuilder.selectAll'];\n    this._defaultTexts.clear = translation['adapt.listBuilder.clear'];\n    this._defaultTexts.edit = translation['adapt.common.edit'];\n    this._defaultTexts.save = translation['adapt.common.save'];\n    this._defaultTexts.cancel = translation['adapt.common.cancel'];\n    this._defaultTexts.delete = translation['adapt.common.delete'];\n  }\n\n  writeValue(value: RxListBuilderItem[]): void {\n    this._modelValue = isArray(value) ? value : [];\n\n    if (isFunction(this.customSort)) {\n      this._modelValue = this._sortSelectOptions(this._modelValue);\n    }\n    this._updateListOptions();\n  }\n\n  focusHandler(event: FocusEvent): void {\n    this.focused = true;\n\n    super.focusHandler(event);\n  }\n\n  blurHandler(event: FocusEvent): void {\n    this.focused = false;\n    this._onTouched();\n\n    super.blurHandler(event);\n  }\n\n  get dragDisabled(): boolean {\n    return (this.canAdd || this.nonInteractive || isFunction(this.customSort));\n  }\n\n  onDragStart(event: DragEvent, item: AdaptRxListItemComponent): void {\n    this._ngZone.run(() => {\n      this.isDragging = true;\n      item.isExpanded = false;\n    });\n\n    // Required by Firefox (https://stackoverflow.com/questions/19055264/why-doesnt-html5-drag-and-drop-work-in-firefox)\n    event.dataTransfer.setData(this.listItemFormatter(item.item), toString(item.item.id));\n\n    this._preview = this._createPreviewElement(item.listItemContainer.nativeElement);\n    document.body.appendChild(this._preview);\n\n    // we need to replace default drag image by custom element\n    event.dataTransfer.setDragImage(this._preview, 0, 0);\n\n    this._dragItem = item.item;\n\n    this._dragElement = item.listItemContainer.nativeElement;\n    this._placeholder = this._createPlaceholderElement(item.listItemContainer.nativeElement);\n    document.body.appendChild(this._placeholder);\n  }\n\n  onDragEnter(event: DragEvent, item: AdaptRxListItemComponent): void {\n    const dropArea = this._getDropArea(event, item);\n\n    if (this._placeholder) {\n      switch (dropArea) {\n        case ListItemDropArea.Above: {\n          this._placeholder.classList.remove('d-none');\n          item.listItemContainer.nativeElement.prepend(this._placeholder);\n\n          break;\n        }\n        case ListItemDropArea.Center: {\n          this._placeholder.classList.add('d-none');\n          item.listItemContainer.nativeElement.append(this._placeholder);\n          break;\n        }\n        case ListItemDropArea.Below: {\n          this._placeholder.classList.remove('d-none');\n          item.listItemContainer.nativeElement.append(this._placeholder);\n          break;\n        }\n      }\n\n      this._dragElement.classList.add(this._draggableClasses.drag);\n    }\n  }\n\n  onDragOver(event: DragEvent, item: AdaptRxListItemComponent, draggableOverElement: HTMLElement): void {\n    if (!this.isDragging) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (item !== this._dragOverItem) {\n      clearTimeout(this._overItemTimeout);\n\n      this._dragOverItem = item.item;\n\n      // Handle item.children expand\n      if (this._dragItem !== item.item && !item.isExpanded) {\n        this._overItemTimeout = window.setTimeout(() => {\n          item.isExpanded = true;\n        }, this._dragItemExpandOverWaitTimeMs);\n      }\n\n      this._dragOverElement = draggableOverElement;\n    }\n\n    if (event.clientX === this._dragMoveCursor.clientX && event.clientY === this._dragMoveCursor.clientY) {\n      return;\n    }\n\n    this._dragMoveCursor.clientX = event.clientX;\n    this._dragMoveCursor.clientY = event.clientY;\n\n    this._dropArea = this._getDropArea(event, item);\n\n    this._dragOverClasses = this._getDragOverClasses(item.item);\n    this._dragOverElement.classList.add(...this._dragOverClasses);\n  }\n\n  onDragLeave(event: DragEvent, draggableLeaveElement: HTMLElement): void {\n    if (draggableLeaveElement) {\n      draggableLeaveElement.classList.remove(this._draggableClasses.drop,\n        this._draggableClasses.dropAreaAbove,\n        this._draggableClasses.dropAreaBelow,\n        this._draggableClasses.dropAreaCenter);\n      this._dragOverClasses = [];\n    }\n  }\n\n  onDrop(event: DragEvent): void {\n    if (!this.isDragging) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (this._dragOverItem?.id !== this._dragItem?.id) {\n      this._ngZone.run(() => {\n        this._modelValue = this._replaceItemInList(this._modelValue, this._dragItem.id, this._dragOverItem.id, this._dropArea);\n      });\n      this._updateControlModel();\n      this._onTouched();\n    }\n\n    this._dragElement.classList.remove(this._draggableClasses.drag);\n    this._dragOverElement.classList.remove(\n      this._draggableClasses.drop,\n      this._draggableClasses.dropAreaAbove,\n      this._draggableClasses.dropAreaBelow,\n      this._draggableClasses.dropAreaCenter\n    );\n\n    this._destroyElements();\n\n    this._dragItem = null;\n    this._dragOverItem = null;\n    this._dragElement = null;\n    this._dragOverElement = null;\n    this._dragOverClasses = [];\n\n    this.isDragging = false;\n  }\n\n  onDragEnd(): void {\n    clearTimeout(this._overItemTimeout);\n\n    if (this._dragElement) {\n      this._dragElement.classList.remove(this._draggableClasses.drag);\n    }\n\n    this._dragItem = null;\n    this._dragOverItem = null;\n    this._dragElement = null;\n    this._dragOverElement = null;\n    this.isDragging = false;\n\n    this._destroyElements();\n\n  }\n\n  checkForAddError(searchQuery: string): void {\n    this.addingItemDuplicateOrEmpty = !searchQuery || Boolean(this._modelValue.find(item => this.listItemFormatter(item) === searchQuery));\n    this.addValidationError = !this.addingItemDuplicateOrEmpty ?\n      (this.itemValidation ? this.itemValidation(searchQuery, this._modelValue, false) : null) : null;\n  }\n\n  checkForEditError(oldValue: string, newValue: string): void {\n    this.editingItemDuplicateOrEmpty = !newValue || (oldValue === newValue);\n    this.editingSizeExceeded = this.listItemMaxLength && newValue && newValue.length > this.listItemMaxLength;\n    this.editValidationError = !this.editingItemDuplicateOrEmpty ?\n      (this.itemValidation ? this.itemValidation(newValue, this._modelValue, true) : null) : null;\n  }\n\n  onListItemAdd(): void {\n    const itemToAdd: RxListBuilderItem = {\n      id: isFunction(this.generateListItemId) ? this.generateListItemId() : uuid(),\n      [this.listItemSetterProp]: this.inputEl.nativeElement.value\n    };\n\n    this._modelValue.unshift(itemToAdd);\n    this.listItemAdd.emit(itemToAdd);\n\n    this._cleanInput();\n    this._updateControlModel();\n\n    this._adaptRadarService.sendCustomEventForAllProviders(AdaptRadarAngularCustomEventName.AdaptRxListBuilder, {\n      GroupName: this.adaptRadarGroupName,\n      EventType: AdaptRadarAngularCustomEventType.Click,\n      Label: this.label,\n      Required: this.required,\n      ReadOnly: this.readonly,\n      Disabled: this.disabled,\n      Action: 'add',\n      ListCount: this._modelValue?.length,\n      MaxDepth: maxDepth(this._modelValue, 'children')\n    });\n  }\n\n  onListItemEdit(listItem: RxListBuilderItem): void {\n    this.checkForEditError(this.listItemFormatter(listItem), this.listItemFormatter(listItem));\n    this.listItemEdit.emit(listItem);\n  }\n\n  onListItemDelete(listItem: RxListBuilderItem): void {\n    // const modelBeforeDeletion = cloneDeep(this._modelValue);\n    const listItemParent = this._getParentItem(this._modelValue, listItem.id);\n    const listItemContainer = listItemParent ? listItemParent.children : this._modelValue;\n    const listItemIndex = findIndex(listItemContainer, elem => elem.id === listItem.id);\n\n    listItemContainer.splice(listItemIndex, 1);\n\n    if (listItem.selected && this.getSelectionMode() === 'single') {\n      this._selectItemIfDeleted(listItemContainer, listItemIndex);\n    }\n\n    this.listItemRemove.emit(listItem);\n\n    const totalChildren = listItem.children?.length ?? 0;\n    const totalGrandChildren = listItem.children\n      ? listItem.children.reduce((sum, child) => sum + (child.children?.length ?? 0), 0)\n      : 0;\n\n    this._updateControlModel();\n    this._onTouched();\n\n    this._adaptRadarService.sendCustomEventForAllProviders(AdaptRadarAngularCustomEventName.AdaptRxListBuilder, {\n      GroupName: this.adaptRadarGroupName,\n      EventType: AdaptRadarAngularCustomEventType.Click,\n      Label: this.label,\n      Required: this.required,\n      ReadOnly: this.readonly,\n      Disabled: this.disabled,\n      Action: 'delete',\n      ListCount: this._modelValue?.length,\n      MaxDepth: maxDepth(this._modelValue, 'children'),\n      TotalChildren: totalChildren,\n      TotalGrandchildren: totalGrandChildren\n    });\n  }\n\n  onListItemUpdate(itemValue: [RxListBuilderItem, RxListBuilderItem]): void {\n    const listItemParent = this._getParentItem(this._modelValue, itemValue[0].id);\n    const listItemContainer = listItemParent ? listItemParent.children : this._modelValue;\n    const listItemIndex = findIndex(listItemContainer, elem => elem.id === itemValue[0].id);\n\n    listItemContainer[listItemIndex] = itemValue[1];\n    this.listItemUpdate.emit(itemValue);\n    this._updateControlModel();\n  }\n\n  onListItemChange(value: [string, string]): void {\n    this.checkForEditError(value[0], value[1]);\n  }\n\n  onExitListItemEdit(): void {\n    this.editValidationError = null;\n  }\n\n  onKeyUp(shiftItemId: string | number): void {\n    if (this.dragDisabled) {\n      return;\n    }\n\n    if (this.treeStructure) {\n      const shiftItemParent = this._getParentItem(this._modelValue, shiftItemId);\n      const shiftItemParentContainer = shiftItemParent ? shiftItemParent.children : this._modelValue;\n      const shiftItemIndex = findIndex(shiftItemParentContainer, elem => elem.id === shiftItemId);\n      const shiftItem = shiftItemParentContainer[shiftItemIndex];\n\n      const shiftItemParentContainerPrevSibling = shiftItemParentContainer[shiftItemIndex - 1];\n\n      if (shiftItemParentContainerPrevSibling) {\n        // there is prev item in listItem parent container\n\n        if (shiftItemParentContainerPrevSibling.children) {\n          // place listItem to prevSibling.children at the last position\n          shiftItemParentContainer.splice(shiftItemIndex, 1);\n          shiftItemParentContainerPrevSibling.children.push(shiftItem);\n        } else {\n          // create nextSibling.children and place listItem\n          shiftItemParentContainer.splice(shiftItemIndex, 1);\n          shiftItemParentContainerPrevSibling.children = [shiftItem];\n        }\n\n      } else {\n        // the start of the container\n\n        if (shiftItemParentContainer !== this._modelValue) {\n          this._modelValue = this._replaceItemInList(this._modelValue, shiftItem.id, shiftItemParent.id, ListItemDropArea.Above);\n        }\n      }\n\n      this._focusShiftedItem(shiftItem);\n\n    } else {\n      let index = findIndex(this._modelValue, elem => elem.id === shiftItemId);\n\n      moveItemInArray(this._modelValue, index, (index === 0) ? this.filteredListItems.length : --index);\n    }\n\n    this._updateControlModel();\n    this._onTouched();\n  }\n\n  onKeyDown(shiftItemId: string | number): void {\n    if (this.dragDisabled) {\n      return;\n    }\n\n    if (this.treeStructure) {\n      const shiftItemParent = this._getParentItem(this._modelValue, shiftItemId);\n      const shiftItemParentContainer = shiftItemParent ? shiftItemParent.children : this._modelValue;\n      const shiftItemIndex = findIndex(shiftItemParentContainer, elem => elem.id === shiftItemId);\n      const shiftItem = shiftItemParentContainer[shiftItemIndex];\n\n      const shiftItemParentContainerNextSibling = shiftItemParentContainer[shiftItemIndex + 1];\n\n      if (shiftItemParentContainerNextSibling) {\n        // there are some items in the listItem parent container\n\n        if (shiftItemParentContainerNextSibling.children) {\n          // place listItem to nextSibling.children at the first position\n          shiftItemParentContainer.splice(shiftItemIndex, 1);\n          shiftItemParentContainerNextSibling.children.unshift(shiftItem);\n        } else {\n          // create nextSibling.children and place listItem\n          shiftItemParentContainer.splice(shiftItemIndex, 1);\n          shiftItemParentContainerNextSibling.children = [shiftItem];\n        }\n\n      } else {\n        // the end of the container\n\n        if (shiftItemParentContainer !== this._modelValue) {\n          this._modelValue = this._replaceItemInList(this._modelValue, shiftItem.id, shiftItemParent.id, ListItemDropArea.Below);\n        }\n      }\n\n      this._focusShiftedItem(shiftItem);\n\n    } else {\n      const index = findIndex(this._modelValue, elem => elem.id === shiftItemId);\n\n      moveItemInArray(this._modelValue, index, (index + 1) % this.filteredListItems.length);\n    }\n\n    this._updateControlModel();\n    this._onTouched();\n  }\n\n  onSelectionStateChange(changedItem: RxListBuilderItem): void {\n    if (this.selectionMode === 'single') {\n      this._modelValue.forEach(item => {\n        // For the \"single\" selection all items need to be changed\n        item.selected = item.id === changedItem.id;\n      });\n    }\n\n    if (this.selectionMode === 'multiple') {\n      this._modelValue.forEach(item => {\n        // For the \"multiple\" selection only changed item need to be changed\n        if (item.id === changedItem.id) {\n          item.selected = changedItem.selected;\n        }\n      });\n    }\n\n    this._updateControlModel();\n  }\n\n  getSelectionMode(): RxListBuilderSelectionMode {\n    // Turn off selection feature if user use tree structured list\n    return this._isNestedStructure() ? null : this.selectionMode;\n  }\n\n  trackByItem(index: number, item: RxListBuilderItem): string | number {\n    return item.id;\n  }\n\n  /**\n   * Implementation from the base class\n   */\n  protected _focusNativeElement(): void {\n    this.inputEl.nativeElement.focus();\n  }\n\n  private _defaultItemFormatter(item: RxListBuilderItem): string {\n    return item[this.listItemSetterProp];\n  }\n\n  private _updateListOptions(): void {\n    const searchQuery: string = this.inputEl ? this.inputEl.nativeElement.value : '';\n\n    this.filteredListItems = this._filterTree(searchQuery, cloneDeep(this._modelValue));\n\n    this.checkForAddError(searchQuery);\n\n    SafeCdr.markForCheck(this._changeDetectorRef);\n  }\n\n  private _updateControlModel(): void {\n    if (isFunction(this.customSort)) {\n      this._modelValue = this._sortSelectOptions(this._modelValue);\n    }\n    this._updateListOptions();\n    this._onChange(this._modelValue);\n  }\n\n  private _cleanInput(): void {\n    this.inputEl.nativeElement.value = '';\n    this.canAdd = false;\n  }\n\n  private _filterTree(filterQuery: string, list: RxListBuilderItem[]): RxListBuilderItem[] {\n    return filter(list, (item) => {\n      if (includes(toLower(this.listItemFormatter(item)), toLower(filterQuery))) {\n        return true;\n\n      } else if (item.children) {\n        item.children = this._filterTree(filterQuery, item.children);\n\n        return !isEmpty(item.children);\n      }\n    });\n  }\n\n  private _sortSelectOptions(model: RxListBuilderItem[]): RxListBuilderItem[] {\n    return model.sort(this.customSort);\n  }\n\n  private _getParentItem(list: RxListBuilderItem[], id: string | number, parentItem: RxListBuilderItem = null): RxListBuilderItem | null {\n    return list.reduce((foundParentElement, listItem) => {\n      if (foundParentElement) {\n        return foundParentElement;\n      }\n\n      if (listItem.id === id) {\n        return parentItem;\n      }\n\n      if (listItem.children) {\n        return this._getParentItem(listItem.children, id, listItem);\n      }\n    }, null);\n  }\n\n  private _replaceItemInList(listItems: RxListBuilderItem[], dragItemId: string | number, overItemId: string | number, dropArea: ListItemDropArea): RxListBuilderItem[] {\n    listItems = cloneDeep(listItems);\n\n    const dragItemParent = this._getParentItem(listItems, dragItemId);\n    const dragItemParentContainer = dragItemParent ? dragItemParent.children : listItems;\n    const dragItemIndex = findIndex(dragItemParentContainer, elem => elem.id === dragItemId);\n    const dragItem = dragItemParentContainer[dragItemIndex];\n\n    dragItemParentContainer.splice(dragItemIndex, 1);\n\n    if (dragItemParent && !dragItemParentContainer.length) {\n      delete dragItemParent.children;\n    }\n\n    const overItemParent = this._getParentItem(listItems, overItemId);\n    const overItemParentContainer = overItemParent ? overItemParent.children : listItems;\n    const overItemIndex = findIndex(overItemParentContainer, elem => elem.id === overItemId);\n    const overItem = overItemParentContainer[overItemIndex];\n\n    switch (dropArea) {\n      case ListItemDropArea.Above: {\n        overItemParentContainer.splice(overItemIndex, 0, dragItem);\n        break;\n      }\n      case ListItemDropArea.Below: {\n        overItemParentContainer.splice(overItemIndex + 1, 0, dragItem);\n        break;\n      }\n      case ListItemDropArea.Center: {\n        if (overItem.children) {\n          overItem.children.push(dragItem);\n        } else {\n          overItem.children = [dragItem];\n        }\n\n        break;\n      }\n    }\n\n    return listItems;\n  }\n\n  private _getDropArea(event: DragEvent, adaptRxListItemComponent: AdaptRxListItemComponent): ListItemDropArea {\n    // Handle drag area\n    const listItemElementBoundingClientRect = adaptRxListItemComponent.listItemContainer.nativeElement.getBoundingClientRect();\n    const percentageY = (event.clientY - listItemElementBoundingClientRect.top) / listItemElementBoundingClientRect.height;\n\n    if (this.treeStructure) {\n      if (percentageY < DROP_AREA_EDGE.top) {\n        return ListItemDropArea.Above;\n      } else if (percentageY > DROP_AREA_EDGE.bottom) {\n        return ListItemDropArea.Below;\n      } else {\n        return ListItemDropArea.Center;\n      }\n    } else {\n      if (percentageY < DROP_AREA_EDGE.center) {\n        return ListItemDropArea.Above;\n      } else {\n        return ListItemDropArea.Below;\n      }\n    }\n  }\n\n  private _getDragOverClasses(listItem: RxListBuilderItem): string[] {\n    const classes: string[] = [];\n\n    if (this._dragOverItem === listItem) {\n      classes.push(this._draggableClasses.drop);\n    }\n\n    if (listItem !== this._dragItem && this._dragOverItem === listItem) {\n      switch (this._dropArea) {\n        case ListItemDropArea.Above:\n          classes.push(this._draggableClasses.dropAreaAbove);\n          break;\n        case ListItemDropArea.Below:\n          classes.push(this._draggableClasses.dropAreaBelow);\n          break;\n        case ListItemDropArea.Center:\n          classes.push(this._draggableClasses.dropAreaCenter);\n          break;\n      }\n    }\n\n    return classes;\n  }\n\n  private _focusShiftedItem(shiftItem: RxListBuilderItem): void {\n    this._ngZone.onStable\n      .pipe(takeUntil(this.destroy$), take(1))\n      .subscribe(() => {\n        const activeListItemComponent = this.rxListItemComponents.find(item => item.item.id === shiftItem.id);\n\n        if (shiftItem.children) {\n          activeListItemComponent.isExpanded = false;\n        }\n\n        activeListItemComponent.listItemDnDSymbol.nativeElement.focus();\n      });\n  }\n\n  private _createPreviewElement(element: HTMLElement): HTMLElement {\n    const preview = element.cloneNode(true) as HTMLElement;\n    // match styles\n    const {width, height} = element.getBoundingClientRect();\n\n    preview.style.width = `${width}px`;\n    preview.style.height = `${height}px`;\n    preview.style.pointerEvents = 'none';\n    preview.style.margin = '0';\n\n    preview.style.position = 'absolute';\n    preview.style.top = '0';\n    preview.style.left = `-${width}px`;\n\n    return preview;\n  }\n\n  private _createPlaceholderElement(element: HTMLElement): HTMLDivElement {\n    const placeholder = document.createElement('div');\n\n    const {width} = element.getBoundingClientRect();\n\n    placeholder.style.width = `${width}px`;\n    placeholder.classList.add('placeholder');\n\n    return placeholder;\n  }\n\n  private _destroyElements(): void {\n    if (this._placeholder) {\n      this._placeholder.parentElement.removeChild(this._placeholder);\n      this._placeholder = null;\n    }\n\n    if (this._preview) {\n      this._preview.parentElement.removeChild(this._preview);\n      this._preview = null;\n    }\n  }\n\n  private _autoSelectItem(): void {\n    // For cases when no item is marked as selected and selection mode is \"single\" automatically select available item in the list\n    if (this.getSelectionMode() === 'single'\n      && this._modelValue?.length\n      && !this._modelValue.some(v => v.selected)\n      && !this.disabled\n      && !this.readonly) {\n      const firstAvailableItemForSelection = this._modelValue.findIndex(v => !v.disabled);\n\n      if (firstAvailableItemForSelection !== -1) {\n        this._modelValue[firstAvailableItemForSelection].selected = true;\n\n        this._updateControlModel();\n      }\n    }\n  }\n\n  private _selectAll(): void {\n    this._modelValue.forEach(item => {\n      if (!item.disabled) {\n        item.selected = true;\n      }\n    });\n\n    this._updateControlModel();\n  }\n\n  private _clearAll(): void {\n    this._modelValue.forEach(item => {\n      if (!item.disabled) {\n        item.selected = false;\n      }\n    });\n\n    this._updateControlModel();\n  }\n\n  private _canBeSelected(): boolean {\n    return this._modelValue.some(v => !v.disabled && !v.selected);\n  }\n\n  private _canBeCleared(): boolean {\n    return this._modelValue.some(v => !v.disabled && v.selected);\n  }\n\n  private _selectItemIfDeleted(listItemContainer: RxListBuilderItem[], listItemIndex: number): void {\n    // First iteration trying to select next item in the list\n    const availableItemForSelection = listItemContainer\n      .find((item, i) => i >= listItemIndex && !item.disabled);\n\n    if (availableItemForSelection) {\n      availableItemForSelection.selected = true;\n    } else {\n      // In case it is not possible to select next item selecting previous one\n      const listItemContainerCopy = [...listItemContainer];\n\n      const availableItemForSelection = listItemContainerCopy.reverse().find(item => !item.disabled);\n\n      if (availableItemForSelection) {\n        availableItemForSelection.selected = true;\n      }\n    }\n  }\n\n  private _isNestedStructure(): boolean {\n    return this.treeStructure || this._modelValue.some(v => v.children?.length);\n  }\n}\n","<div class=\"adapt-list-builder\"\n     [class.has-danger]=\"hasDangerState\"\n     [class.has-warning]=\"warningMessage\"\n     [class.disabled]=\"disabled\"\n     [class.adapt-list-builder_sorted]=\"!!customSort\"\n     [class.readonly]=\"readonly\">\n\n  <!--  Label  -->\n  <adapt-rx-control-label [for]=\"id\"\n                          [label]=\"label\"\n                          [subLabel]=\"subLabel\"\n                          [requiredLabel]=\"requiredLabel\"\n                          [showRequiredLabel]=\"required\"\n                          [tooltip]=\"tooltip\"\n                          [testID]=\"testID\"></adapt-rx-control-label>\n  <!--  Label END -->\n\n  <div class=\"adapt-list-builder__wrp\">\n\n    <!-- List search input -->\n    <div *ngIf=\"!hideSearchField\"\n         class=\"adapt-list-builder__search\" [class.focused]=\"focused\">\n      <span class=\"d-icon-search\"></span>\n      <input #filterInput\n             type=\"text\"\n             class=\"form-control adapt-list-builder__search-input m-start-1\"\n             [id]=\"id\"\n             [attr.name]=\"name\"\n             [attr.placeholder]=\"texts.searchPlaceholder\"\n             [attr.tabindex]=\"tabIndex\"\n             [attr.data-testid]=\"testID + '_search'\"\n             [attr.aria-label]=\"ariaLabel\"\n             [attr.aria-labelledby]=\"ariaLabelledby\"\n             [attr.aria-describedby]=\"ariaDescribedBy\"\n             [attr.aria-invalid]=\"hasDangerState\"\n             [attr.aria-errormessage]=\"ariaErrorMessage\"\n             [disabled]=\"disabled\"\n             [autofocus]=\"autofocus\"\n             (focus)=\"focusHandler($event)\"\n             (blur)=\"blurHandler($event)\"/>\n\n      <button type=\"button\" role=\"button\"\n              class=\"adapt-list-builder__add-item btn btn-link\"\n              [attr.data-testid]=\"testID + '_add-item'\"\n              *ngIf=\"!(disabled || readonly) && canAdd && !addValidationError && !addingItemDuplicateOrEmpty\"\n              (click)=\"onListItemAdd()\">\n        {{texts.add}}\n      </button>\n    </div>\n    <!-- List search input END-->\n\n    <!-- List wrapper  -->\n    <div class=\"adapt-list-container adapt-list\"\n         [class.borderless]=\"!hideSearchField\"\n         [ngStyle]=\"{'height': menuHeight}\">\n      <div *ngIf=\"filteredListItems.length; else empty\"\n           #itemsList\n           [@listAnimation]=\"filteredListItems\">\n\n        <adapt-custom-actions *ngIf=\"selectionMode === 'multiple' && !disabled && !readonly\"\n                              class=\"adapt-list-builder__list-selection-actions\"\n                              [actions]=\"selectionActions\">\n        </adapt-custom-actions>\n\n        <div *ngIf=\"!hideListAreaLabel\" class=\"adapt-list-builder__list-header\"\n             [attr.data-testid]=\"testID + '_list-header'\">\n          <span>{{texts.headerText}}</span><span class=\"letter-space\"></span>\n          <span>({{filteredListItems.length}} {{texts.numberOptionsText}})</span>\n        </div>\n\n        <ng-container *ngFor=\"let item of filteredListItems; trackBy: trackByItem;\">\n          <ng-template [ngTemplateOutlet]=\"listItemTemplate\"\n                       [ngTemplateOutletContext]=\"{$implicit: item}\"></ng-template>\n        </ng-container>\n\n        <ng-template #listItemTemplate let-listItem>\n          <div class=\"adapt-list-builder__list-wrp\"\n               #draggableItemElement\n               [@listItemAnimation]\n               [class.adapt-list-builder__drag-drop-item]=\"!dragDisabled\">\n            <adapt-rx-list-item #listItemComponent\n                                [item]=\"listItem\"\n                                [id]=\"id + '_item_' + listItem.id\"\n                                [testID]=\"testID + '_item-' + listItem.id\"\n                                [disabled]=\"listItem.disabled || disabled\"\n                                [readonly]=\"readonly\"\n                                [searchQuery]=\"inputEl ? inputEl.nativeElement.value : ''\"\n                                [allowSaving]=\"!(editValidationError || editingItemDuplicateOrEmpty || editingSizeExceeded)\"\n                                [editError]=\"editValidationError\"\n                                [maxLength]=\"listItemMaxLength\"\n                                [texts]=\"texts\"\n                                [hideControls]=\"isDragging\"\n                                [hideEdit]=\"hideEdit\"\n                                [hideDelete]=\"hideDelete\"\n                                [itemFormatter]=\"listItemFormatter\"\n                                [itemSetterProp]=\"listItemSetterProp\"\n                                [itemContentTemplate]=\"listItemContentTemplate\"\n                                [dragDisabled]=\"dragDisabled\"\n                                [selectionMode]=\"getSelectionMode()\"\n                                (onItemEdit)=\"onListItemEdit($event)\"\n                                (onItemDelete)=\"onListItemDelete($event)\"\n                                (onItemUpdate)=\"onListItemUpdate($event)\"\n                                (onListItemValueChange)=\"onListItemChange($event)\"\n                                (onExitEditMode)=\"onExitListItemEdit()\"\n                                (onKeyUp)=\"onKeyUp(listItem.id)\"\n                                (onKeyDown)=\"onKeyDown(listItem.id)\"\n                                (selectionStateChange)=\"onSelectionStateChange($event)\"\n                                (dragStart)=\"dragStartSubject.next($event)\"\n                                (dragEnter)=\"dragEnterSubject.next($event)\"\n                                (dragOver)=\"dragOverSubject.next({event: $event.event, item: $event.item, draggableOverElement: draggableItemElement})\"\n                                (dragLeave)=\"dragLeaveSubject.next({event: $event.event, draggableLeaveElement: draggableItemElement})\"\n                                (drop)=\"dropSubject.next($event)\"\n                                (dragEnd)=\"dragEndSubject.next()\"></adapt-rx-list-item>\n          </div>\n\n          <div class=\"adapt-list-builder__list-item-children\"\n               *ngIf=\"listItem.children && listItem.children.length && listItemComponent.isExpanded\"\n               [@listItemChildrenAnimation]>\n            <ng-container *ngFor=\"let childItem of listItem.children; trackBy: trackByItem\">\n              <ng-template [ngTemplateOutlet]=\"listItemTemplate\"\n                           [ngTemplateOutletContext]=\"{$implicit: childItem}\"></ng-template>\n            </ng-container>\n          </div>\n        </ng-template>\n\n      </div>\n    </div>\n    <!-- List wrapper END  -->\n\n    <ng-template #empty>\n      <div class=\"list-container\">\n        <adapt-empty-state [adaptRadarDisableEventSending]=\"true\"\n                           [type]=\"'objects'\"\n                           [label]=\"texts.notFound\">\n          <div class=\"empty-info\">\n            <ng-content select=\".empty-text\"></ng-content>\n          </div>\n        </adapt-empty-state>\n      </div>\n    </ng-template>\n  </div>\n\n  <!--  Component Feedback  -->\n  <adapt-rx-feedback #adaptRxFeedbackRef\n                     [ariaErrorMessage]=\"ariaErrorMessage\"\n                     [errors]=\"errors\"\n                     [warningMessage]=\"warningMessage\"\n                     [controlTouched]=\"ngControl.touched\"\n                     (messageAppeared)=\"handleMessageAppeared($event, analyticsComponentName.AdaptRxListBuilder)\">\n  </adapt-rx-feedback>\n</div>\n"]}