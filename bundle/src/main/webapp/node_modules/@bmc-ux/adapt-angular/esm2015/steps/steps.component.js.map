{"version":3,"file":"steps.component.js","sourceRoot":"","sources":["../../../../../libs/adapt-angular/src/steps/steps.component.ts","../../../../../libs/adapt-angular/src/steps/steps.component.html"],"names":[],"mappings":"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","sourcesContent":["import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  Output,\n  QueryList,\n  Renderer2,\n  ViewChild,\n  ViewChildren,\n  ViewEncapsulation\n} from '@angular/core';\n\nimport {ResizeService} from '../common/resize/resize.service';\nimport {AdaptDeviceDetectionService} from '../common/device-detection.service';\nimport {animate, state, style, transition, trigger} from '@angular/animations';\nimport {isDefined, isUndefined} from '../common/utilities';\nimport {BehaviorSubject, fromEvent, merge, Subject} from 'rxjs';\nimport {filter, flatMap, map, switchMap, take, takeUntil, tap} from 'rxjs/operators';\nimport {\n  AdaptRadarAngularCustomEventName,\n  AdaptRadarAngularGenericDirective,\n  AdaptRadarAngularService\n} from '../common/radar/adapt-radar';\n\nexport interface StepsMenuItem {\n  label?: string;\n  shortLabel?: string;\n  icon?: string;\n  src?: string;\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  command?: (event?: any) => void;\n  url?: string;\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  eventEmitter?: EventEmitter<any>;\n  disabled?: boolean;\n  hover?: boolean;\n}\n\n@Component({\n  selector: 'adapt-steps',\n  templateUrl: './steps.component.html',\n  // eslint-disable-next-line @angular-eslint/no-host-metadata-property\n  host: {\n    '[style.display]': '\"block\"'\n  },\n  animations: [\n    trigger('hoverAnimation', [\n      state('0', style({\n        'width': '15px'\n      })),\n      state('1', style({\n        'width': '20px'\n      })),\n      transition('0 => 1', animate('250ms ease-in')),\n      transition('1 => 0', animate('250ms ease-in'))\n    ])\n  ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class AdaptStepsComponent extends AdaptRadarAngularGenericDirective implements OnInit, AfterViewInit, OnDestroy {\n  expandedSteps: StepsMenuItem[] = [];\n  isMobile: boolean = false;\n  expandedStartId: number;\n  expandedEndId: number;\n  stepsSwipe: SwipeSteps;\n  stepsSwipeState: SwipeState = {\n    dragging: false,\n    draggingShift: 0,\n    step: 0,\n    translate: 0\n  };\n  swipeWrapperWidth: number;\n\n  /**\n   * Sets the array of step items\n   * @docs-default\n   */\n  @Input() steps: StepsMenuItem[];\n\n  /**\n   * Sets the index of the selected step. Also you could set it -1 just not to select any step initially\n   * @docs-default -1\n   */\n  @Input() activeIndex: number = -1;\n\n  /**\n   * Sets the array of step items\n   * @docs-default\n   */\n  @Input() model: StepsMenuItem[];\n\n  /**\n   * Whether the items are clickable or not\n   * @docs-default true\n   */\n  @Input() readonly: boolean = true;\n\n  /**\n   * Specifies inline style of the component\n   * @docs-default\n   *\n   */\n  @Input() style: string;\n\n  /**\n   * Specifies style class of the component\n   * @docs-default\n   */\n  @Input() styleClass: string;\n\n  /**\n   * An event fires on active step changed.\n   * Returns step index\n   */\n  @Output() readonly activeIndexChange: EventEmitter<number> = new EventEmitter();\n\n  @ViewChild('container', {static: true}) container: ElementRef;\n  @ViewChild('swipePanel', {static: true}) swipePanel: ElementRef;\n\n  @ViewChild('body') private bodyEl: ElementRef;\n  @ViewChild('tailFirst') private tailFirstEl: ElementRef;\n  @ViewChild('tailLast') private tailLastEl: ElementRef;\n  @ViewChild('selectedSpot', {static: true}) private selectedSpotEl: ElementRef;\n  @ViewChild('spot') private spotEl: ElementRef;\n  @ViewChildren('stepItem') private stepItems: QueryList<ElementRef>;\n\n  private el: HTMLElement;\n  private stepsToShow: number = 4;\n  private widthLimit: {\n    MOBILE: number;\n    TABLET: number;\n  } = {\n    MOBILE: 400,\n    TABLET: 768\n  };\n  private _initActiveIndex: number;\n  private _expandedStartId: number = 0;\n  private _selectionSpotHidden: boolean = false;\n\n  constructor(public renderer: Renderer2,\n              private element: ElementRef,\n              private devDetection: AdaptDeviceDetectionService,\n              private resizeService: ResizeService,\n              private _ngZone: NgZone,\n              _adaptRadarService: AdaptRadarAngularService,\n              _elem: ElementRef<HTMLElement>) {\n    super(_adaptRadarService, _elem, AdaptRadarAngularCustomEventName.AdaptSteps);\n\n    this.el = this.element.nativeElement;\n    this.isMobile = devDetection.deviceMobile();\n  }\n\n  ngOnDestroy(): void {\n    this.resizeService.removeResizeEventListener(this.container.nativeElement);\n  }\n\n  ngOnInit(): void {\n    this.steps = this.steps || this.model;\n    this._initActiveIndex = this.activeIndex;\n    this.steps = this.steps.map((step) => {\n      step.hover = false;\n\n      return step;\n    });\n\n    this.getStepCount();\n    this.updateExpandedSteps(true);\n\n    if (this.isMobile) {\n      this._initMobileView();\n    }\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n\n    this.resizeService.addResizeEventListener(this.container.nativeElement, this.resizeListener.bind(this));\n  }\n\n  isActive(id: number): boolean {\n    return id === this.activeIndex;\n  }\n\n  isDisabled(id: number): boolean {\n    return this.expandedSteps[id].disabled || this.readonly;\n  }\n\n  isCollapsedStep(id: number): boolean {\n    if (this.isMobile) {\n      return;\n    }\n\n    return this.expandedSteps.indexOf(this.steps[id]) === -1;\n  }\n\n  clickStep(id: number, step?: StepsMenuItem, event?: MouseEvent): void {\n    const isNextExpanded = !this.isCollapsedStep(id);\n\n    if (isUndefined(step)) {\n      step = this.steps[id];\n    }\n\n    if (this.readonly || step.disabled) {\n      if (!event) {\n        return;\n      }\n\n      event.preventDefault();\n\n      return;\n    }\n\n    this.activeIndex = id;\n    this.activeIndexChange.emit(this.activeIndex);\n\n    if (this.activeIndex > this.expandedEndId) {\n      this.expandedStartId = this.activeIndex - this.stepsToShow + 1;\n      this.expandedEndId = this.activeIndex;\n    } else if (this.activeIndex < this.expandedStartId) {\n      this.expandedStartId = this.activeIndex;\n      this.expandedEndId = this.activeIndex + this.stepsToShow - 1;\n    }\n\n    this.updateExpandedSteps();\n\n    // This is a dirty hack for beautiful animation\n    if (!isNextExpanded) {\n      this.hideSelectionSpot();\n    } else {\n      this.showSelectionSpot();\n    }\n\n    this._ngZone.runOutsideAngular(() => {\n      setTimeout(() => {\n        this.updateSelectionSpot();\n      }, 300);\n    });\n  }\n\n  stepMouseAction(id: number): void {\n    const step = this.steps[id];\n\n    if (!step.disabled) {\n      step.hover = !step.hover;\n    }\n  }\n\n  updateSelectionSpot(): void {\n    if (this.isMobile) {\n      return;\n    }\n\n    if (this.activeIndex < 0) {\n      return;\n    }\n\n    const steps = this.stepItems.toArray();\n    const activeStep = steps[this.activeIndex];\n    const {offsetWidth, offsetLeft} = activeStep.nativeElement;\n\n    this.selectedSpotEl.nativeElement.style.left = `${offsetLeft}px`;\n    this.selectedSpotEl.nativeElement.style.width = `${offsetWidth}px`;\n  }\n\n  applySelectedCls(id: number): boolean {\n    return this._selectionSpotHidden && this.activeIndex === id;\n  }\n\n  selectStepById(id: number): void {\n    this.clickStep(id);\n\n    if (this.isMobile) {\n      this.stepsSwipe.update(id);\n    }\n  }\n\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  getMobileSwipeIndicatorWidth(id: number): string | any | number {\n\n    if (this.stepsSwipeState.dragging) {\n      // run on drag\n\n      if (this.stepsSwipeState.draggingShift <= 0) {\n        // swipe to next step\n\n        if (id === this.stepsSwipeState.step + 1) {\n          // increase next step width\n          return `${-this.stepsSwipeState.draggingShift || 1}`;\n        } else if (id === this.stepsSwipeState.step) {\n          // decrease current step width\n          return `${(this.swipeWrapperWidth + this.stepsSwipeState.draggingShift) || 1}`;\n        } else {\n          // default width for rest steps\n          return 1;\n        }\n\n      } else {\n        // swipe to previous step\n\n        if (id === this.stepsSwipeState.step - 1) {\n          // increase previous step width\n          return `${this.stepsSwipeState.draggingShift || 1}`;\n        } else if (id === this.stepsSwipeState.step) {\n          // decrease current step width\n          return `${(this.swipeWrapperWidth - this.stepsSwipeState.draggingShift) || 1}`;\n        } else {\n          // default width for rest steps\n          return 1;\n        }\n\n      }\n    } else {\n      // run out of drag\n\n      if (id === this.stepsSwipeState.step) {\n        // maximum width for current step\n        return this.swipeWrapperWidth;\n      } else {\n        // default width for rest steps\n        return 1;\n      }\n\n    }\n  }\n\n  private hideSelectionSpot(): void {\n    if (this.isMobile) {\n      return;\n    }\n\n    this.renderer.setStyle(this.selectedSpotEl.nativeElement, 'display', 'none');\n    this._selectionSpotHidden = true;\n  }\n\n  private showSelectionSpot(): void {\n    if (this.isMobile) {\n      return;\n    }\n\n    this.renderer.setStyle(this.selectedSpotEl.nativeElement, 'display', 'block');\n    this._selectionSpotHidden = false;\n  }\n\n  private resizeListener(): void {\n    if (this.isMobile) {\n      this.swipeWrapperWidth = parseInt(getComputedStyle(this.container.nativeElement).width, 10);\n      this.stepsSwipe.update();\n    }\n\n    this.getStepCount();\n    this.updateExpandedSteps(true);\n\n    // This is a dirty hack for beautiful animation\n    this._ngZone.runOutsideAngular(() => {\n      setTimeout(() => {\n        this.updateSelectionSpot();\n      }, 250);\n    });\n  }\n\n  private updateExpandedSteps(needUpdate: boolean = false): void {\n    const steps = this.steps.slice();\n\n    this.expandedSteps = [];\n\n    if (steps.length <= this.stepsToShow) {\n      this.expandedSteps = steps.slice();\n    } else {\n      const delta = (this.activeIndex + this.stepsToShow) - steps.length;\n\n      if (isUndefined(this.expandedStartId) || needUpdate) {\n        this.expandedStartId = delta > 0 ? this.activeIndex - delta : (this.activeIndex < 0 ? 0 : this.activeIndex);\n      }\n\n      if (isUndefined(this.expandedEndId) || needUpdate) {\n        this.expandedEndId = this.expandedStartId + this.stepsToShow - 1;\n      }\n\n      steps.forEach((step, id) => {\n        if (id >= this.expandedStartId && id <= this.expandedEndId) {\n          this.expandedSteps.push(step);\n        }\n      });\n    }\n  }\n\n  private getStepCount(): void {\n    const containerEl = this.container.nativeElement;\n    let {width} = containerEl.getBoundingClientRect();\n\n    // Gets the integer value of the width\n    width = Math.floor(width);\n\n    if (width <= this.widthLimit.MOBILE) {\n      // Sets the steps count for mobile devices\n      this.stepsToShow = 2;\n    } else if (width > this.widthLimit.MOBILE && width < this.widthLimit.TABLET) {\n      // Sets the steps count for tablets\n      this.stepsToShow = 3;\n    } else {\n      // Sets the steps count for PCs\n      this.stepsToShow = 4;\n    }\n  }\n\n  private _initMobileView(): void {\n    this.swipeWrapperWidth = parseInt(getComputedStyle(this.container.nativeElement).width, 10);\n\n    this.stepsSwipe = new SwipeSteps(this.container.nativeElement, this.steps.length);\n\n    this.stepsSwipe.stateChange.subscribe(nextState => {\n      this.stepsSwipeState = nextState;\n\n      this.swipePanel.nativeElement.style.transition = nextState.dragging ? 'none' : 'transform .2s';\n      this.swipePanel.nativeElement.style.transform = `translateX(${nextState.translate}px)`;\n    });\n  }\n}\n\nexport class SwipeSteps {\n  readonly _swipeContainer: HTMLElement;\n  readonly _stepCount: number = 1;\n  readonly _tolerance: number = 100;\n\n  stateChange: Subject<SwipeState> = new Subject<SwipeState>();\n\n  private _activeStep: number;\n  private _stepWidth: number = 100;\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  private _translate$: BehaviorSubject<any> = new BehaviorSubject(0);\n  private _swipeState: SwipeState = {\n    dragging: false,\n    draggingShift: 0,\n    step: 0,\n    translate: 0\n  };\n\n  constructor(swipeContainer: HTMLElement,\n              stepCount: number,\n              activeStep?: number,\n              tolerance?: number) {\n    this._swipeContainer = swipeContainer;\n    this._stepCount = stepCount;\n    this._activeStep = activeStep || 0;\n\n    if (tolerance) {\n      this._tolerance = tolerance;\n    }\n\n    this._init();\n  }\n\n  update(activeStep?: number): void {\n    this._stepWidth = parseInt(getComputedStyle(this._swipeContainer).width, 10);\n\n    if (isDefined(activeStep)) {\n      this._activeStep = activeStep;\n    }\n\n    this.gotoStep(this._activeStep);\n  }\n\n  gotoStep(stepNumber: number): void {\n    if (stepNumber < 0) {\n      this._activeStep = 0;\n    } else if (stepNumber > this._stepCount - 1) {\n      this._activeStep = this._stepCount - 1;\n    } else {\n      this._activeStep = stepNumber;\n    }\n\n    this._swipeState.step = this._activeStep;\n    this._translate$.next(-this._stepWidth * this._activeStep);\n  }\n\n  prevStep(): void {\n    this.gotoStep(this._activeStep - 1);\n  }\n\n  nextStep(): void {\n    this.gotoStep(this._activeStep + 1);\n  }\n\n  private _init(): void {\n    this._stepWidth = parseInt(getComputedStyle(this._swipeContainer).width, 10);\n\n    this._translate$.subscribe(\n      (v => {\n        this._swipeState.translate = v;\n        this.stateChange.next(this._swipeState);\n      }).bind(this)\n    );\n\n    const touchStart$ = fromEvent(this._swipeContainer, 'touchstart', {passive: false});\n    const touchMove$ = fromEvent(window, 'touchmove', {passive: false});\n    const touchEnd$ = merge(fromEvent(window, 'touchend', {passive: false}));\n\n    let dragShift = 0;\n\n    const drag$ =\n      touchStart$\n        .pipe(\n          tap(() => {\n            this._swipeState.dragging = true;\n          }),\n          flatMap((start: TouchEvent) => touchMove$\n            .pipe(\n              map((move: TouchEvent) => {\n                if (move.cancelable) {\n                  move.preventDefault();\n                }\n\n                return move.changedTouches[0].pageX - start.changedTouches[0].pageX;\n              }),\n              filter(v => Math.abs(v) < this._stepWidth),\n              takeUntil(touchEnd$)\n            )\n          )\n        );\n\n    const dragEnd$ = drag$.pipe(\n      switchMap(() => touchEnd$.pipe(\n        take(1),\n        tap(() => {\n          this._swipeState.dragging = false;\n          this._swipeState.draggingShift = 0;\n        })\n      ))\n    );\n\n    drag$.subscribe(\n      (shift => {\n        dragShift = shift;\n        this._swipeState.draggingShift = dragShift;\n        this._translate$.next(shift - this._stepWidth * this._activeStep);\n      }).bind(this)\n    );\n\n    dragEnd$.subscribe((() => {\n      if (dragShift > 100) {\n        this.prevStep();\n      } else if (dragShift < -100) {\n        this.nextStep();\n      } else {\n        this.gotoStep(this._activeStep);\n      }\n    }).bind(this));\n  }\n}\n\nexport interface SwipeState {\n  dragging: boolean;\n  draggingShift: number;\n  step: number;\n  translate: number;\n}\n","<div #container class=\"adapt-steps\" [class.adapt-steps-mobile]=\"isMobile\">\n  <div role=\"menu\" #swipePanel class=\"adapt-steps-panel\">\n    <button #stepItem\n            role=\"menuitemradio\"\n            class=\"adapt-step\"\n            [attr.aria-checked]=\"isActive(id)\"\n            [attr.aria-label]=\"step.label || step.shortLabel\"\n            [attr.aria-disabled]=\"step.disabled\"\n            [attr.tabindex]=\"step.disabled ? -1 : null\"\n            adaptTooltip=\"{{(isCollapsedStep(id) && !step.disabled) ? step.shortLabel : ''}}\"\n            [adaptRadarDisableEventSending]=\"true\"\n            placement=\"top\"\n            [width]=\"200\"\n            [@hoverAnimation]=\"step.hover\"\n            *ngFor=\"let step of steps; let id = index; let last = last;\"\n            [style.zIndex]=\"steps.length - id\"\n            [ngClass]=\"{\n               'adapt-step-collapsed': isCollapsedStep(id),\n               'adapt-step-last': last,\n               'adapt-step-active': isActive(id),\n               'adapt-step-disabled': step.disabled,\n               'adapt-step-selected': this.applySelectedCls(id),\n               'adapt-step-prev': isMobile && (stepsSwipeState.step === (id + 1)),\n               'adapt-step-current': isMobile && (stepsSwipeState.step === id),\n               'adapt-step-next': isMobile && (stepsSwipeState.step === (id - 1))\n            }\"\n            (@hoverAnimation.start)=\"updateSelectionSpot()\"\n            (@hoverAnimation.done)=\"updateSelectionSpot()\"\n            (mouseenter)=\"stepMouseAction(id)\"\n            (mouseleave)=\"stepMouseAction(id)\"\n            (click)=\"clickStep(id, step, $event)\"\n            type=\"button\">\n      <div class=\"adapt-step-image\" *ngIf=\"step.icon || step.src\" [ngClass]=\"step.icon\">\n        <div *ngIf=\"step.src\" [ngStyle]=\"{'background-image': 'url(' + step.src + ')'}\"\n             class=\"adapt-step-image-tag\"></div>\n      </div>\n      <div class=\"adapt-step-label\">\n        <div class=\"adapt-step-label-text adapt-step-label-text-long\" *ngIf=\"step.label\">{{step.label}}</div>\n        <div class=\"adapt-step-label-text adapt-step-label-text-short\" *ngIf=\"step.shortLabel\">{{step.shortLabel}}</div>\n      </div>\n    </button>\n  </div>\n\n  <div #selectedSpot class=\"adapt-selection-spot\"></div>\n</div>\n\n<div *ngIf=\"isMobile\" class=\"adapt-steps-mobile__indicators-block\">\n  <div class=\"adapt-steps-mobile__indicator\"\n       *ngFor=\"let step of steps; let id = index;\"\n       [class.active]=\"isActive(id)\"\n       [style.transition]=\"stepsSwipeState.dragging ? 'none' : 'flex-grow .2s'\"\n       [style.flexGrow]=\"getMobileSwipeIndicatorWidth(id)\"></div>\n</div>\n\n"]}