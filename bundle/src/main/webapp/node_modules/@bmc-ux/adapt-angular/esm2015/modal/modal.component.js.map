{"version":3,"file":"modal.component.js","sourceRoot":"","sources":["../../../../../libs/adapt-angular/src/modal/modal.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  ComponentFactoryResolver,\n  ElementRef,\n  HostListener,\n  OnDestroy,\n  OnInit,\n  Optional,\n  SkipSelf,\n  ViewChild,\n  ViewContainerRef\n} from '@angular/core';\n\nimport {AdaptTranslateService} from '../common/i18n/index';\nimport {AdaptRadarAngularService} from '../common/radar/adapt-radar';\n\nimport {ModalDirective} from './modal';\nimport {ActiveModalRef} from './modal.model';\nimport {ModalAnimation} from './modal.animation';\nimport {OverModal} from './over-modal';\n\n/**\n * Adapt Modal Component\n */\n@Component({\n  selector: 'adapt-modal',\n  template: `\n    <div class=\"modal\"\n         role=\"dialog\"\n         aria-modal=\"true\"\n         [attr.aria-labelledby]=\"_self.title ? id + '_title' : undefined\"\n         [attr.data-testid]=\"_self.config.testID\"\n         [adaptFocusHolder]=\"true\">\n      <div class=\"modal-scroll-container\">\n        <div [ngClass]=\"modalDialogClass\">\n          <div class=\"modal-content\"\n               [class.footer-align_left]=\"_self.config.footerAlignLeft || _self.configService.footerAlignLeft\">\n            <div class=\"modal-header\" *ngIf=\"_self.showHeader\">\n              <h5 class=\"modal-title\"\n                  *ngIf=\"_self.title\"\n                  [id]=\"id + '_title'\">\n                {{_self.title}}\n              </h5>\n              <button type=\"button\"\n                      role=\"button\"\n                      data-dismiss=\"modal\"\n                      class=\"close\"\n                      [attr.aria-label]=\"closeText\"\n                      (click)=\"_self.dismiss(_self.reason.CLOSE_BTN)\">\n              </button>\n            </div>\n            <adapt-alert-animated #alertsSection\n                                  [adaptRadarDisableEventSending]=\"true\"\n                                  [config]=\"alerts\"\n                                  [isVisible]=\"alerts.length > 0\"\n                                  (alertClosed)=\"alertClosed.emit($event)\"></adapt-alert-animated>\n            <ng-template #contentPlacement></ng-template>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <adapt-over-modal [config]=\"overModalConfig\" (onClose)=\"_self.omClose()\" *ngIf=\"_self.omShow\"></adapt-over-modal>\n\n    <div class=\"modal-backdrop\" [class.show]=\"!_self.config.hideBackdrop\"></div>\n  `,\n  animations: ModalAnimation,\n  // eslint-disable-next-line @angular-eslint/no-host-metadata-property\n  host: {\n    '[class]': '_self.config.customClass || \"\"',\n    '[style.position]': '\"fixed\"',\n    '[style.zIndex]': '1050',\n    '[@modalAnimation]': 'true',\n    '[@backdropAnimation]': 'true',\n    '(@modalAnimation.done)': '_self.modalCloseAnimationEnd($event)'\n  },\n  providers: [ActiveModalRef],\n  styleUrls: ['./modal.css']\n})\nexport class AdaptModalComponent extends ModalDirective implements OnInit, OnDestroy {\n  // OverModal trigger\n  omShow: boolean = false;\n\n  // OverModal config\n  overModalConfig: OverModal;\n\n  // Link to 'this'. Need to prevent errors with inheritance.\n  _self: AdaptModalComponent;\n\n  get modalDialogClass(): string {\n    return '__is-modal modal-dialog modal-default modal-size-' + (this.config.size || 'default');\n  }\n\n  @ViewChild('contentPlacement', {read: ViewContainerRef, static: true}) contentPlacement: ViewContainerRef;\n\n  private _mouseDownTarget: HTMLElement;\n\n  constructor(_elRef: ElementRef,\n              _componentFactoryResolver: ComponentFactoryResolver,\n              _activeModalRef: ActiveModalRef,\n              @Optional() @SkipSelf() _rootActiveModalRef: ActiveModalRef,\n              public ts: AdaptTranslateService,\n              _adaptRadarService: AdaptRadarAngularService) {\n    // Call the parent constructor\n    super(_elRef, _componentFactoryResolver, _activeModalRef, _rootActiveModalRef, ts, _adaptRadarService);\n\n    this.context.openOverModal = (config) => {\n      this.omOpen(config);\n    };\n\n    this.context.closeOverModal = () => {\n      this.omClose();\n    };\n\n    this._self = this;\n  }\n\n  /**\n   * Close on backdrop click functional\n   */\n  @HostListener('mousedown', ['$event.target'])\n  hostMouseDownHandler: (target: HTMLElement) => void = (target: HTMLElement): void => {\n    this._mouseDownTarget = target;\n  };\n\n  @HostListener('mouseup', ['$event.target'])\n  hostMouseUpHandler: (target: HTMLElement) => void = (target: HTMLElement): void => {\n    if (target.classList.contains('modal-scroll-container') && this._mouseDownTarget === target) {\n      this.dismiss(this.reason.BACKDROP_CLICK);\n    }\n  };\n\n  ngOnInit(): void {\n    super.ngOnInit();\n  }\n\n  ngOnDestroy(): void {\n    this.omClose();\n  }\n\n  /**\n   * Open OverModal\n   */\n  omOpen(config: OverModal): void {\n    this.overModalConfig = config;\n    this.omShow = true;\n  }\n\n  /**\n   * Close OverModal\n   */\n  omClose(): void {\n    this.omShow = false;\n  }\n\n  // Implementation of Modal abstract method\n  protected getContentPlacementRef(): ViewContainerRef {\n    return this.contentPlacement;\n  }\n\n}\n"]}