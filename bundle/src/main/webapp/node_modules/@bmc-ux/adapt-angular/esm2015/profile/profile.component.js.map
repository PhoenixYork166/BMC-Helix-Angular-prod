{"version":3,"file":"profile.component.js","sourceRoot":"","sources":["../../../../../libs/adapt-angular/src/profile/profile.component.ts","../../../../../libs/adapt-angular/src/profile/profile.component.html"],"names":[],"mappings":"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","sourcesContent":["import {AfterViewInit, Component, ElementRef, Input, NgZone, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {FocusMonitor, ListKeyManager} from '@angular/cdk/a11y';\nimport {DOWN_ARROW, TAB} from '@angular/cdk/keycodes';\nimport {ReplaySubject, Subject} from 'rxjs';\nimport {take, takeUntil} from 'rxjs/operators';\n\nimport {AdaptFocusMonitorService} from '../common/focus-monitor.service';\nimport {AdaptTranslateService} from '../common/i18n/index';\nimport {getEventKeyCode} from '../common/key-codes';\nimport {AdaptListKeyManagerDirective, AdaptListKeyManagerItemDirective} from '../common/list-key-manager';\nimport {KeyValueObject} from '../common/common.models';\nimport {AdaptDeviceDetectionService} from '../common/device-detection.service';\n\nimport {\n  AdaptRadarAngularCustomEventName,\n  AdaptRadarAngularCustomEventType,\n  AdaptRadarAngularService,\n  AdaptRadarAngularGenericDirective\n} from '../common/radar/adapt-radar';\nimport {AdaptDockedPanelService} from '../docked-panel/index';\nimport {AdaptDropdownDirective} from '../dropdown/index';\n\nimport {EnumProfileItem, ProfileModel} from './profile.model';\n\nlet PROFILE_ITEM_INDEX = 0;\n\n@Component({\n  selector: 'adapt-profile',\n  templateUrl: './profile.component.html',\n  providers: [AdaptFocusMonitorService]\n})\nexport class AdaptProfileComponent extends AdaptRadarAngularGenericDirective implements AfterViewInit, OnDestroy, OnInit {\n  clientWidth: number; // clientWidth of the component\n  prefixId: string = 'adapt-profile-menu-item-';\n  defaultTexts: {\n    description?: string;\n    header?: string;\n    view?: string;\n    signOut?: string;\n  } = {};\n  isDesktop: boolean;\n\n  // DockedPanel service\n  hamburgerService: AdaptDockedPanelService;\n\n  /**\n   * Profile configuration object to build a component\n   * @docs-default\n   */\n  @Input() profile: ProfileModel;\n\n  /**\n   * Specifies if the component is used in Hamburger type of navigation or independently. Has different layout.\n   * @docs-default\n   */\n  @Input() type: string;\n\n  @ViewChild('dropdownDirective') popup: AdaptDropdownDirective;\n\n  @ViewChild('adaptListKeyManagerDirective', {static: false}) adaptListKeyManagerDirective: AdaptListKeyManagerDirective;\n\n  private _openFromKeyboard: boolean = false;\n  private _listKeyManager: ListKeyManager<AdaptListKeyManagerItemDirective>;\n  private _listKeyManagerDestroy: Subject<void> = new Subject<void>();\n  private _destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  constructor(dps: AdaptDockedPanelService,\n              ts: AdaptTranslateService,\n              private _el: ElementRef,\n              private _focusMonitor: FocusMonitor,\n              private _ngZone: NgZone,\n              protected _adaptRadarService: AdaptRadarAngularService,\n              private _deviceDetector: AdaptDeviceDetectionService,\n              _elem: ElementRef<HTMLElement>) {\n    super(_adaptRadarService, _elem, AdaptRadarAngularCustomEventName.AdaptProfile);\n\n    this.hamburgerService = dps;\n    this.setDefaultTexts(ts.getCurrentLanguage());\n    this.isDesktop = this._deviceDetector.deviceDesktop();\n  }\n\n  /**\n   * Returns clientWidth from the nativeElement, is used by navigation\n   * @docs-default\n   */\n  @Input() getClientWidth(): number {\n    return this._el.nativeElement.clientWidth;\n  }\n\n  /**\n   * Closes related DockedPanel\n   * @docs-default\n   */\n  @Input() closeHamburger(): void {\n    this.hamburgerService.closeAllDockedPanels();\n  }\n\n  ngOnInit(): void {\n    // init from input or default values\n\n    this.profile.desc = this.profile.desc || this.defaultTexts.description;\n    this.profile.header = this.profile.header || this.defaultTexts.header;\n\n    if (this.profile.view) {\n      this.profile.view.title = this.profile.view.title || this.defaultTexts.view;\n      this.profile.view.id = this.profile.view.id || this._getPrefixId();\n    }\n\n    this.profile.menu.forEach(item => {\n      item.id = item.id || this._getPrefixId();\n    });\n\n    if (this.profile.signOut) {\n      this.profile.signOut.title = this.profile.signOut.title || this.defaultTexts.signOut;\n      this.profile.signOut.id = this.profile.signOut.id || this._getPrefixId();\n    }\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n\n    this.clientWidth = this._el.nativeElement.clientWidth;\n  }\n\n  ngOnDestroy(): void {\n    this._listKeyManagerDestroy.next();\n\n    this._destroyed$.next(true);\n    this._destroyed$.complete();\n  }\n\n  setDefaultTexts(translation: KeyValueObject): void {\n    this.defaultTexts.description = translation['adapt.profile.description'];\n    this.defaultTexts.header = translation['adapt.profile.header'];\n    this.defaultTexts.view = translation['adapt.profile.view'];\n    this.defaultTexts.signOut = translation['adapt.profile.signOut'];\n  }\n\n  dropdownMenuToggleKeydown(event: KeyboardEvent): void {\n    this._openFromKeyboard = true;\n\n    const eventKeyCode = getEventKeyCode(event);\n\n    if (this.popup.isOpen()) {\n      if (eventKeyCode === TAB) {\n        this.popup.close();\n      } else {\n        this.dropdownMenuKeydown(event);\n      }\n    } else {\n      if (eventKeyCode === DOWN_ARROW) {\n        event.preventDefault();\n        this.popup.open(event);\n      }\n    }\n  }\n\n  dropdownMenuKeydown(event: KeyboardEvent): void {\n    if (getEventKeyCode(event) === TAB) {\n      event.preventDefault();\n    }\n\n    this._listKeyManager.onKeydown(event);\n    this._focusMonitor.focusVia(this._listKeyManager.activeItem.getNativeElement(), 'keyboard');\n  }\n\n  getTarget(item: { target?: string }): string {\n    return item.target ? item.target : '_self';\n  }\n\n  keyManagerStateChange(listKeyManager?: ListKeyManager<AdaptListKeyManagerItemDirective>): void {\n    this._listKeyManager = listKeyManager;\n\n    if (this._listKeyManager) {\n      this._ngZone.onStable\n        .pipe(takeUntil(this._destroyed$), take(1))\n        .subscribe(() => {\n          const activeIndex = this.adaptListKeyManagerDirective.items.toArray()\n            .findIndex(itemDirective => (itemDirective.item as EnumProfileItem)?.active);\n\n          if (activeIndex !== -1) {\n            this._listKeyManager.setActiveItem(activeIndex);\n          } else {\n            this._listKeyManager.setFirstItemActive();\n          }\n\n          if (this._openFromKeyboard) {\n            this._focusMonitor.focusVia(this._listKeyManager.activeItem.getNativeElement(), 'keyboard');\n          }\n        });\n\n      if (this.popup) {\n        this._listKeyManager.tabOut\n          .pipe(takeUntil(this._listKeyManagerDestroy))\n          .subscribe(() => {\n            this.popup.close();\n          });\n      }\n\n    } else {\n      this._listKeyManagerDestroy.next();\n    }\n  }\n\n  handleProfileDropdownOpen(): void {\n    this._adaptRadarService.sendCustomEventForAllProviders(AdaptRadarAngularCustomEventName.AdaptProfile, {\n      EventType: AdaptRadarAngularCustomEventType.Click,\n      Type: this.profile?.typeLong ? 'long' : 'short'\n    });\n  }\n\n  handleProfileDropdownClose(): void {\n    this._openFromKeyboard = false;\n  }\n\n  private _getPrefixId(): string {\n    return (this.profile.prefixId || this.prefixId) + PROFILE_ITEM_INDEX++;\n  }\n}\n","<!--TODO: reuse layout in both types-->\n<div *ngIf=\"type !== 'hamburger'\"\n     class=\"a-profile dropdown\"\n     adaptDropdown\n     [adaptRadarDisableEventSending]=\"true\"\n     (onOpen)=\"handleProfileDropdownOpen()\"\n     (onClose)=\"handleProfileDropdownClose()\"\n     #dropdownDirective\n     [holdFocusInMenu]=\"true\"\n     [autoFocusFirst]=\"false\"\n     [restoreFocusAfterClose]=\"true\"\n     [focusNextElementAfterClose]=\"true\"\n     [placement]=\"'bottom-right'\"\n     [ngClass]=\"{'a-profile--dark': !profile.inverted,\n                 'a-profile--long': profile.typeLong,\n                 'a-profile--small': !profile.typeLong\n                 }\">\n\n  <button class=\"a-profile__menu dropdown-toggle\"\n          type=\"button\"\n          role=\"button\"\n          adaptDropdownToggle\n          aria-label=\"Profile menu\"\n          [ngClass]=\"{'a-profile__menu--small': !profile.typeLong}\"\n          (keydown)=\"dropdownMenuToggleKeydown($event)\">\n\n    <ng-container *ngIf=\"!profile.hideAvatar\">\n      <adapt-profile-avatar [profileImage]=\"profile.image\"\n                            [profileUserName]=\"profile.userName\"\n                            [formatter]=\"profile.formatter\"></adapt-profile-avatar>\n    </ng-container>\n\n    <span *ngIf=\"profile.typeLong\" class=\"menu-profile__name\">\n      <span class=\"menu-profile__signed\">{{profile.desc}}</span>\n      <span class=\"menu-profile__username\">{{profile.userName}}</span>\n    </span>\n\n    <ng-content select=\"[profile-btn-content]\"></ng-content>\n\n  </button>\n\n  <ng-template adaptDropdownMenuTemplate>\n    <ul class=\"a-profile-dropdown-menu dropdown-menu a-dropdown-menu dropdown-menu--right a-dropdown-menu__light\"\n        aria-labelledby=\"profile\"\n        adaptListKeyManager\n        #adaptListKeyManagerDirective=\"adaptListKeyManager\"\n        [class.a-dropdown-menu__mobile]=\"!isDesktop\"\n        (keyManagerStateChange)=\"keyManagerStateChange($event)\"\n        (keydown)=\"dropdownMenuKeydown($event)\">\n      <li class=\"dropdown-profile__container a-profile__menu\" *ngIf=\"!profile.typeLong\">\n        <ng-container *ngIf=\"!profile.hideAvatar\">\n          <adapt-profile-avatar [customClass]=\"'a-profile__avatar--big'\"\n                                [profileImage]=\"profile.image\"\n                                [profileUserName]=\"profile.userName\"\n                                [formatter]=\"profile.formatter\"></adapt-profile-avatar>\n        </ng-container>\n\n        <span class=\"menu-profile__name\">\n          <span class=\"menu-profile__signed\">{{profile.desc}}</span>\n          <span class=\"menu-profile__username\">{{profile.userName}}</span>\n        </span>\n      </li>\n\n      <ng-content select=\"[profile-menu-content]\"></ng-content>\n\n      <li *ngIf=\"profile.view\">\n        <span class=\"dropdown-profile__title\">{{profile.header}}</span>\n        <span class=\"dropdown-profile__edit\">\n\n        <a *ngIf=\"profile.view.link\"\n           adaptListKeyManagerItem\n           [id]=\"profile.view.id\"\n           href={{profile.view.link}}\n           [attr.target]=\"getTarget(profile.view)\">{{profile.view.title}}</a>\n\n        <button *ngIf=\"profile.view.action\"\n                adaptListKeyManagerItem\n                [id]=\"profile.view.id\"\n                type=\"button\"\n                (click)=\"profile.view.action($event)\"\n                class=\"btn btn-link\">{{profile.view.title}}</button>\n      </span>\n      </li>\n\n      <li *ngFor=\"let pItem of profile.menu; let t = index\" class=\"a-dropdown__item\">\n\n        <a *ngIf=\"!pItem.disabled && !pItem.action && !pItem.hide\"\n           adaptListKeyManagerItem\n           [item]=\"pItem\"\n           [id]=\"pItem.id\"\n           class=\"a-dropdown__link dropdown-item {{pItem.className}}\"\n           [ngClass]=\"{'active' : pItem.active}\"\n           href={{pItem.link}}\n           [attr.target]=\"getTarget(pItem)\">{{pItem.name}}</a>\n\n        <button *ngIf=\"!pItem.disabled && pItem.action && !pItem.hide\"\n                adaptListKeyManagerItem\n                [item]=\"pItem\"\n                [id]=\"pItem.id\"\n                type=\"button\"\n                (click)=\"pItem.action($event)\"\n                class=\"a-dropdown__link dropdown-item {{pItem.className}}\"\n                [ngClass]=\"{'active' : pItem.active}\">{{pItem.name}}\n        </button>\n\n        <div *ngIf=\"pItem.disabled && !pItem.hide\"\n             class=\"a-dropdown__link-disabled dropdown-item disabled {{pItem.className}}\">{{pItem.name}}\n        </div>\n\n        <div *ngIf=\"pItem.separated && !pItem.hide\" class=\"dropdown-divider\"></div>\n      </li>\n\n      <li class=\"a-dropdown__item\" *ngIf=\"profile.signOut\">\n\n        <a *ngIf=\"profile.signOut.link\" href={{profile.signOut.link}}\n           adaptListKeyManagerItem\n           [id]=\"profile.signOut.id\"\n           class=\"a-dropdown__link dropdown-item dropdown-profile__signout\">{{profile.signOut.title}}</a>\n\n        <button *ngIf=\"profile.signOut.action\"\n                adaptListKeyManagerItem\n                [id]=\"profile.signOut.id\"\n                type=\"button\"\n                (click)=\"profile.signOut.action($event)\"\n                class=\"a-dropdown__link dropdown-item dropdown-profile__signout\">{{profile.signOut.title}}\n        </button>\n      </li>\n    </ul>\n  </ng-template>\n</div>\n\n<div *ngIf=\"type === 'hamburger'\"\n     class=\"a-profile a-profile__hamburger\"\n     [ngClass]=\"{'a-profile--light': profile.inverted}\">\n\n  <div class=\"a-profile__menu a-profile__menu--long\">\n\n    <ng-container *ngIf=\"!profile.hideAvatar\">\n      <adapt-profile-avatar [customClass]=\"'a-profile__avatar--big'\"\n                            [profileImage]=\"profile.image\"\n                            [profileUserName]=\"profile.userName\"\n                            [formatter]=\"profile.formatter\"></adapt-profile-avatar>\n    </ng-container>\n\n    <span class=\"menu-profile__name\">\n\n      <span class=\"menu-profile__signed\">{{profile.desc}}</span>\n      <span class=\"menu-profile__username\">{{profile.userName}}</span>\n\n      <a *ngIf=\"profile.signOut && profile.signOut.link\"\n         href={{profile.signOut.link}}\n         [id]=\"profile.signOut.id\"\n         class=\"a-dropdown__link dropdown-profile__signout\">\n         {{profile.signOut.title}}</a>\n\n      <button *ngIf=\"profile.signOut && profile.signOut.action\"\n              [id]=\"profile.signOut.id\"\n              type=\"button\"\n              (click)=\"profile.signOut.action($event); closeHamburger()\"\n              class=\"a-dropdown__link dropdown-profile__signout\">\n              {{profile.signOut.title}}\n      </button>\n    </span>\n  </div>\n\n  <ng-content select=\"[profile-btn-content-mobile]\"></ng-content>\n  <ng-content select=\"[profile-menu-content-mobile]\"></ng-content>\n\n  <ul class=\"a-hamburger__menu\">\n    <li *ngIf=\"profile.view\" class=\"menu-profile\">\n      <span class=\"menu-profile__title\">{{profile.header}}</span>\n      <span class=\"menu-profile__edit\">\n\n        <a *ngIf=\"profile.view.link\"\n           [id]=\"profile.view.id\"\n           href={{profile.view.link}}\n           [attr.target]=\"getTarget(profile.view)\">{{profile.view.title}}</a>\n\n        <button *ngIf=\"profile.view.action\"\n                [id]=\"profile.view.id\"\n                type=\"button\"\n                (click)=\"profile.view.action($event); closeHamburger()\"\n                class=\"btn btn-link\">{{profile.view.title}}</button>\n      </span>\n    </li>\n\n    <li *ngFor=\"let pItem of profile.menu; let t = index\" class=\"a-hamburger__menu-item\">\n\n      <a *ngIf=\"!pItem.disabled && !pItem.action && !pItem.hide\"\n         [id]=\"pItem.id\"\n         class=\"a-hamburger__menu-link {{pItem.className}}\"\n         [ngClass]=\"{'active' : pItem.active}\"\n         href={{pItem.link}}\n         [attr.target]=\"getTarget(pItem)\">{{pItem.name}}</a>\n\n      <button *ngIf=\"!pItem.disabled && pItem.action && !pItem.hide\"\n              [id]=\"pItem.id\"\n              (click)=\"pItem.action($event); closeHamburger()\"\n              type=\"button\"\n              class=\"a-hamburger__menu-link {{pItem.className}}\"\n              [ngClass]=\"{'active' : pItem.active}\">{{pItem.name}}\n      </button>\n\n      <div *ngIf=\"pItem.disabled && !pItem.hide\"\n           class=\"a-hamburger__menu-link disabled {{pItem.className}}\">{{pItem.name}}\n      </div>\n\n    </li>\n  </ul>\n</div>\n"]}