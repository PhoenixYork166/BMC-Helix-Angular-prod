{"version":3,"file":"dropdown.component.js","sourceRoot":"","sources":["../../../../../libs/adapt-angular/src/dropdown/dropdown.component.ts"],"names":[],"mappings":"AAAA,OAAO,EAEL,cAAc,EACd,iBAAiB,EACjB,SAAS,EACT,wBAAwB,EAExB,YAAY,EACZ,SAAS,EACT,UAAU,EACV,YAAY,EACZ,UAAU,EACV,WAAW,EACX,YAAY,EACZ,MAAM,EACN,QAAQ,EACR,KAAK,EACL,MAAM,EAIN,QAAQ,EACR,MAAM,EACN,SAAS,EAET,QAAQ,EACR,WAAW,EACX,SAAS,EACT,gBAAgB,EACjB,MAAM,eAAe,CAAC;AACvB,OAAO,EAAC,OAAO,EAAkB,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE,YAAY,EAAC,MAAM,qBAAqB,CAAC;AAC7G,OAAO,EAAC,YAAY,EAAC,MAAM,2BAA2B,CAAC;AAEvD,OAAO,EAAC,cAAc,EAAC,MAAM,mBAAmB,CAAC;AACjD,OAAO,EAAC,eAAe,EAAC,MAAM,qBAAqB,CAAC;AACpD,OAAO,EAAC,MAAM,EAAE,GAAG,EAAC,MAAM,uBAAuB,CAAC;AAClD,OAAO,EAAC,aAAa,EAAE,eAAe,EAAE,SAAS,EAAE,aAAa,EAAE,OAAO,EAAgB,KAAK,EAAC,MAAM,MAAM,CAAC;AAC5G,OAAO,EAAC,IAAI,EAAE,SAAS,EAAC,MAAM,gBAAgB,CAAC;AAC/C,OAAO,EAAC,OAAO,EAAE,UAAU,EAAE,KAAK,EAAC,MAAM,WAAW,CAAC;AAErD,OAAO,EAAC,kBAAkB,EAAE,cAAc,EAAE,yBAAyB,EAAC,MAAM,qBAAqB,CAAC;AAClG,OAAO,EAAC,2BAA2B,EAAC,MAAM,oCAAoC,CAAC;AAC/E,OAAO,EAGL,mBAAmB,EAEnB,4BAA4B,EAC7B,MAAM,yBAAyB,CAAC;AACjC,OAAO,EAAC,qBAAqB,EAAC,MAAM,sBAAsB,CAAC;AAE3D,OAAO,EAAC,YAAY,EAAC,MAAM,yBAAyB,CAAC;AACrD,OAAO,EAAC,YAAY,EAAC,MAAM,iBAAiB,CAAC;AAC7C,OAAO,EAAC,aAAa,EAAC,MAAM,iCAAiC,CAAC;AAC9D,OAAO,EAAC,OAAO,EAAC,MAAM,oBAAoB,CAAC;AAC3C,OAAO,EAAmB,mBAAmB,EAAC,MAAM,iCAAiC,CAAC;AACtF,OAAO,EAAC,SAAS,EAAC,MAAM,kBAAkB,CAAC;AAC3C,OAAO,EAAC,gBAAgB,EAA6B,gBAAgB,EAAC,MAAM,uBAAuB,CAAC;AACpG,OAAO,EAAC,eAAe,EAAC,MAAM,qBAAqB,CAAC;AACpD,OAAO,EAAC,oBAAoB,EAAC,MAAM,iBAAiB,CAAC;AACrD,OAAO,EAAC,WAAW,EAAC,MAAM,qBAAqB,CAAC;AAChD,OAAO,EAAC,oBAAoB,EAAC,MAAM,8BAA8B,CAAC;AAElE,OAAO,EAGL,wBAAwB,EACxB,mBAAmB,EAGpB,MAAM,kBAAkB,CAAC;AAC1B,OAAO,EAAC,6BAA6B,EAAC,MAAM,8BAA8B,CAAC;AAC3E,OAAO,EACL,gCAAgC,EAChC,iCAAiC,EACjC,wBAAwB,EACzB,MAAM,6BAA6B,CAAC;;;;;;;;;;;;;;;;;;IAc7B,8BAAuG;IAAnC,iIAAS,wBAAwB,IAAC;IACpG,4BAAA;IAAA,kCAAyG;IAAvD,uNAAgC,4BAAqB,IAAC;IACtG,YACF;IAAA,iBAAS;IACT,4BAAA;IAAA,8BAA4B;IAC1B,YACF;IAAA,iBAAK;IACL,4BAAA;IAAA,kCAG+C;IAFvC,qNAA8B,0BAAmB,IAAC;IAGxD,YACF;IAAA,iBAAS;IACX,2BAAA;IAAA,iBAAM;;;IAXF,eACF;IADE,yFACF;IAEE,eACF;IADE,gFACF;IAIQ,eAAsC;IAAtC,sDAAsC;IADtC,oDAA+B;IAErC,eACF;IADE,uFACF;;;;IAMA,+BAA2C;IACzC,8BAAA;IAAA,0BAAyC;IAAA,YAAoB;IAAA,iBAAK;IAClE,8BAAA;IAAA,uCACoE;IAAvD,gOAAgC,6BAAqB,IAAC;IAAC,iBAAc;IACpF,4BAAA;IAAA,iBAAM;;;IAHA,eAAoC;IAApC,yCAAoC;IAAC,eAAoB;IAApB,6CAAoB;IAChD,eAAsC;IAAtC,oDAAsC;;;IA5B3D,6BAA6D;IAC3D,wBAAA;IAAA,yBAA+C;IAE/C,0BAAA;IAAA,8BAIiD;IAC/C,0BAAA;IAAA,6FAaM;IAEN,4BAAA;IAAA,iCAEgE;IAC9D,6BAAA;IAAA,8FAIM;IACN,6BAAA;IAAA,4BAA8D;IAChE,2BAAA;IAAA,iBAAM;IACR,yBAAA;IAAA,iBAAM;IACR,uBAAA;IAAA,0BAAe;;;IA9BR,eAAoC;IAApC,oDAAoC,8BAAA,yCAAA,6CAAA;IAIC,eAA0B;IAA1B,kDAA0B;IAiB7D,eAA0D;IAA1D,0EAA0D;IAD1D,4CAAuB;IAEC,eAAc;IAAd,sCAAc;IAK3B,eAAgC;IAAhC,qDAAgC;;;IAMlD,wBAAA;IAAA,+BAQqD;IACnD,0BAAA;IAAA,iCAAwE;IACtE,4BAAA;IAAA,2BAA8D;IAChE,0BAAA;IAAA,iBAAM;IACR,wBAAA;IAAA,iBAAM;IACR,sBAAA;;;IARO,eAAuC;IAAvC,uDAAuC;IAJvC,yDAAoC,2CAAA,2CAAA,sCAAA,wBAAA,4DAAA,uDAAA;IAQS,eAAuB;IAAvB,4CAAuB;IACvD,eAAgC;IAAhC,qDAAgC;;;IAwalD,wBAAA;IAAA,kBAAyB;IAC3B,sBAAA;;;;;;;AA3WJ,MAAM,OAAO,4BAA4B;IA4DvC,YACU,WAAoC,EACpC,SAAoB,EACrB,IAAuB,EACvB,OAAe;QAHd,gBAAW,GAAX,WAAW,CAAyB;QACpC,cAAS,GAAT,SAAS,CAAW;QACrB,SAAI,GAAJ,IAAI,CAAmB;QACvB,YAAO,GAAP,OAAO,CAAQ;QA/DxB,yBAAoB,GAAiD,IAAI,YAAY,EAAkC,CAAC;QACxH,uBAAkB,GAA8C,IAAI,YAAY,EAA+B,CAAC;QAChH,YAAO,GAAY,IAAI,CAAC,CAAC,mBAAmB;QAoB5C,oBAAe,GAAY,KAAK,CAAC;QACjC,oBAAe,GAAY,KAAK,CAAC;QACjC,mBAAc,GAAY,IAAI,CAAC;QAE/B,2BAAsB,GAAY,KAAK,CAAC;QACxC,+BAA0B,GAAY,KAAK,CAAC;QAC5C,kCAA6B,GAAW,IAAI,CAAC;QAE7C,iCAA4B,GAAY,IAAI,CAAC;QAC7C,sBAAiB,GAAY,KAAK,CAAC;QACnC,kBAAa,GAAyB,aAAa,CAAC;QAKZ,iBAAY,GAAY,IAAI,CAAC;QAkB7D,wBAAmB,GAAuB,IAAI,YAAY,EAAE,CAAC;QAC7D,sBAAiB,GAAyB,aAAa,CAAC;QACxD,gBAAW,GAA2B,IAAI,aAAa,CAAC,CAAC,CAAC,CAAC;IAQnE,CAAC;IA1BD,IAAmD,WAAW;QAC5D,OAAO,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAED,IAAuC,YAAY;QACjD,OAAO,IAAI,CAAC,aAAa,CAAC;IAC5B,CAAC;IAED,IAAuC,iBAAiB;QACtD,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAED,IAAoC,cAAc;QAChD,OAAO,IAAI,CAAC,aAAa,CAAC;IAC5B,CAAC;IAeD,kBAAkB,CAAC,CAAiB;QAClC,kCAAkC;QAClC,iEAAiE;QACjE,IAAK,CAAC,CAAC,OAAe,KAAK,KAAK,EAAE;YAChC,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,CAAC;SACjC;QAED,IAAI,CAAC,kBAAkB,CAAC,IAAI,iCAAK,CAAC,KAAE,gBAAgB,EAAE,IAAI,CAAC,gBAAgB,IAAE,CAAC;IAChF,CAAC;IAED,eAAe;QACb,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;SAClF;QAED,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,KAAK,MAAM,EAAE;YAC7C,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;YAC1D,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;SAClE;aAAM,IAAI,IAAI,CAAC,QAAQ,EAAE;YACxB,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;SAC3D;QAED,IAAI,CAAC,OAAO,CAAC,QAAQ;aAClB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;aAC1C,SAAS,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,CAAC,4BAA4B,EAAE,CAAC;QACtC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC;IAED,4BAA4B;QAC1B,IAAI,IAAI,CAAC,QAAQ,KAAK,MAAM;YAC1B,CAAC,IAAI,CAAC,QAAQ;YACd,IAAI,CAAC,6BAA6B,IAAI,IAAI;YAC1C,IAAI,CAAC,4BAA4B,EAAE;YAEnC,gEAAgE;YAChE,MAAM,0BAA0B,GAAG,CAAC,IAAa,EAAe,EAAE;gBAChE,OAAO,EAAC,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,EAAC,CAAC;YAC3E,CAAC,CAAC;YAEF,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,GAAG,EAAE;gBAClC,IAAI,kBAAkB,GAAG,0BAA0B,CAAC,IAAI,CAAC,MAAM,CAAC,qBAAqB,EAAa,CAAC,CAAC;gBAEpG,IAAI,CAAC,6BAA6B,GAAG,WAAW,CAAC,GAAG,EAAE;oBACpD,MAAM,iBAAiB,GAAG,0BAA0B,CAAC,IAAI,CAAC,MAAM,CAAC,qBAAqB,EAAa,CAAC,CAAC;oBAErG,IAAI,CAAC,cAAc,EAAE,CAAC;oBAEtB,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,iBAAiB,CAAC,EAAE;wBACnD,kBAAkB,GAAG,iBAAiB,CAAC;wBAEvC,IAAI,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,MAAM,EAAE;4BAC9C,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE;gCACpB,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC;oCAC7B,kBAAkB;oCAClB,iBAAiB;iCAClB,CAAC,CAAC;4BACL,CAAC,CAAC,CAAC;yBACJ;qBACF;oBACD,kCAAkC;oBAClC,iEAAiE;gBACnE,CAAC,EAAE,IAAI,CAAC,gCAAgC,CAAQ,CAAC;YACnD,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAED,WAAW;QACT,IAAI,IAAI,CAAC,6BAA6B,EAAE;YACtC,aAAa,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;YAClD,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC;SAC3C;QACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC5B,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;IAC9B,CAAC;IAED;;OAEG;IACH,WAAW,CAAC,KAAY;QACtB,OAAO,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;IAC5D,CAAC;IAED;;OAEG;IACH,KAAK;QACH,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,+HAA+H;QAC/H,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEhC,OAAO,IAAI,CAAC,mBAAmB,CAAC;IAClC,CAAC;IAED,qBAAqB;;QACnB,MAAA,oBAAoB,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,0CAAE,KAAK,EAAE,CAAC;IACnE,CAAC;IAEO,cAAc,CAAC,sBAA+B,KAAK;QACzD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC;YAElC,OAAO;SACR;QAED,IAAI,CAAC,iBAAiB;YACpB,gBAAgB,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,KAAK,MAAM,EACnH,IAAI,EAAE,mBAAmB,IAAI,IAAI,CAAC,iBAAiB,KAAK,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QAEtG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,iBAAiB,CAAC;QAC5C,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,KAAK,QAAQ,CAAC;QAE7D,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC/B,CAAC;IAEO,qBAAqB;QAC3B,IAAI,UAAU,GAAG,YAAY,CAAC;QAE9B,QAAQ,IAAI,CAAC,iBAAiB,EAAE;YAC9B,KAAK,QAAQ,CAAC,CAAC;gBACb,UAAU,GAAG,YAAY,CAAC;gBAC1B,MAAM;aACP;YACD,KAAK,aAAa,CAAC,CAAC;gBAClB,UAAU,GAAG,GAAG,IAAI,CAAC,kBAAkB,KAAK,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,MAAM,CAAC;gBAC/E,MAAM;aACP;YACD,KAAK,cAAc,CAAC,CAAC;gBACnB,UAAU,GAAG,GAAG,IAAI,CAAC,kBAAkB,KAAK,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,MAAM,CAAC;gBAChF,MAAM;aACP;YAED,KAAK,KAAK,CAAC,CAAC;gBACV,UAAU,GAAG,eAAe,CAAC;gBAC7B,MAAM;aACP;YACD,KAAK,UAAU,CAAC,CAAC;gBACf,UAAU,GAAG,GAAG,IAAI,CAAC,kBAAkB,KAAK,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,SAAS,CAAC;gBAClF,MAAM;aACP;YACD,KAAK,WAAW,CAAC,CAAC;gBAChB,UAAU,GAAG,GAAG,IAAI,CAAC,kBAAkB,KAAK,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,SAAS,CAAC;gBACnF,MAAM;aACP;YAED,KAAK,MAAM,CAAC,CAAC;gBACX,UAAU,GAAG,cAAc,CAAC;gBAC5B,MAAM;aACP;YACD,KAAK,UAAU,CAAC,CAAC;gBACf,UAAU,GAAG,SAAS,IAAI,CAAC,kBAAkB,KAAK,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;gBAChF,MAAM;aACP;YACD,KAAK,aAAa,CAAC,CAAC;gBAClB,UAAU,GAAG,SAAS,IAAI,CAAC,kBAAkB,KAAK,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;gBACnF,MAAM;aACP;YAED,KAAK,OAAO,CAAC,CAAC;gBACZ,UAAU,GAAG,aAAa,CAAC;gBAC3B,MAAM;aACP;YACD,KAAK,WAAW,CAAC,CAAC;gBAChB,UAAU,GAAG,QAAQ,IAAI,CAAC,kBAAkB,KAAK,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;gBAC/E,MAAM;aACP;YACD,KAAK,cAAc,CAAC,CAAC;gBACnB,UAAU,GAAG,QAAQ,IAAI,CAAC,kBAAkB,KAAK,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;gBAClF,MAAM;aACP;YAED,KAAK,QAAQ,CAAC,CAAC;gBACb,UAAU,GAAG,eAAe,CAAC;gBAC7B,MAAM;aACP;SACF;QAED,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,kBAAkB,EAAE,UAAU,CAAC,CAAC;IACxF,CAAC;;wGA7PU,4BAA4B;+EAA5B,4BAA4B;;;;;;mKAA5B,8BAA0B;;;;;;QA7GnC,sBAAA;QAAA,iGAkCe;QAEf,wBAAA;QAAA,gIAcc;QAChB,oBAAA;;;QAnDiB,eAA4B;QAA5B,mDAA4B,iBAAA;4JAoDjC;YACV,OAAO,CAAC,gBAAgB,EAAE;gBACxB,UAAU,CAAC,iBAAiB,EAAE;oBAC5B,KAAK,CAAC,0BAA0B,EAAE;wBAChC,YAAY,CAAC,cAAc,CAAC,KAAK,CAAC;qBACnC,CAAC;iBACH,CAAC;gBACF,UAAU,CAAC,cAAc,EAAE;oBACzB,KAAK,CAAC,0BAA0B,EAAE;wBAChC,YAAY,CAAC,cAAc,CAAC,MAAM,CAAC;qBACpC,CAAC;iBACH,CAAC;gBACF,UAAU,CAAC,gBAAgB,EAAE;oBAC3B,KAAK,CAAC,6BAA6B,EAAE;wBACnC,KAAK,CAAC,EAAC,SAAS,EAAE,sBAAsB,EAAE,OAAO,EAAE,GAAG,EAAC,CAAC;wBACxD,OAAO,CAAC,GAAG,kBAAkB,CAAC,IAAI,IAAI,yBAAyB,CAAC,IAAI,CAAC,YAAY,EAAE,EACjF,KAAK,CAAC,EAAC,SAAS,EAAE,qBAAqB,EAAE,OAAO,EAAE,GAAG,EAAC,CAAC,CAAC;qBAC3D,CAAC;iBACH,CAAC;gBACF,UAAU,CAAC,aAAa,EAAE;oBACxB,KAAK,CAAC,6BAA6B,EAAE;wBACnC,KAAK,CAAC,EAAC,SAAS,EAAE,qBAAqB,EAAE,OAAO,EAAE,GAAG,EAAC,CAAC;wBACvD,OAAO,CAAC,GAAG,kBAAkB,CAAC,IAAI,IAAI,yBAAyB,CAAC,IAAI,CAAC,aAAa,EAAE,EAClF,KAAK,CAAC,EAAC,SAAS,EAAE,sBAAsB,EAAE,OAAO,EAAE,GAAG,EAAC,CAAC,CAAC;qBAC5D,CAAC;iBACH,CAAC;gBAEF,UAAU,CAAC,gBAAgB,EAAE;oBAC3B,KAAK,CAAC,6BAA6B,EAAE;wBACnC,YAAY,CAAC,cAAc,CAAC,KAAK,CAAC;qBACnC,CAAC;iBACH,CAAC;gBACF,UAAU,CAAC,aAAa,EAAE;oBACxB,KAAK,CAAC,6BAA6B,EAAE;wBACnC,YAAY,CAAC,cAAc,CAAC,MAAM,CAAC;qBACpC,CAAC;iBACH,CAAC;aACH,CAAC;YACF,OAAO,CAAC,mBAAmB,EAAE;gBAC3B,UAAU,CAAC,WAAW,EAAE;oBACtB,KAAK,CAAC,8BAA8B,EAAE;wBACpC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC;qBACrC,EAAE,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAC;iBACrB,CAAC;gBACF,UAAU,CAAC,QAAQ,EAAE;oBACnB,KAAK,CAAC,8BAA8B,EAAE;wBACpC,YAAY,CAAC,cAAc,CAAC,OAAO,EAAE;4BACnC,MAAM,EAAE;gCACN,IAAI,EAAE,GAAG;gCACT,EAAE,EAAE,GAAG;6BACR;yBACF,CAAC;qBACH,EAAE,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAC;iBACrB,CAAC;aACH,CAAC;SACH;uFAEU,4BAA4B;cAhHxC,SAAS;eAAC;gBACT,QAAQ,EAAE,uBAAuB;gBACjC,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAoDT;gBACD,UAAU,EAAE;oBACV,OAAO,CAAC,gBAAgB,EAAE;wBACxB,UAAU,CAAC,iBAAiB,EAAE;4BAC5B,KAAK,CAAC,0BAA0B,EAAE;gCAChC,YAAY,CAAC,cAAc,CAAC,KAAK,CAAC;6BACnC,CAAC;yBACH,CAAC;wBACF,UAAU,CAAC,cAAc,EAAE;4BACzB,KAAK,CAAC,0BAA0B,EAAE;gCAChC,YAAY,CAAC,cAAc,CAAC,MAAM,CAAC;6BACpC,CAAC;yBACH,CAAC;wBACF,UAAU,CAAC,gBAAgB,EAAE;4BAC3B,KAAK,CAAC,6BAA6B,EAAE;gCACnC,KAAK,CAAC,EAAC,SAAS,EAAE,sBAAsB,EAAE,OAAO,EAAE,GAAG,EAAC,CAAC;gCACxD,OAAO,CAAC,GAAG,kBAAkB,CAAC,IAAI,IAAI,yBAAyB,CAAC,IAAI,CAAC,YAAY,EAAE,EACjF,KAAK,CAAC,EAAC,SAAS,EAAE,qBAAqB,EAAE,OAAO,EAAE,GAAG,EAAC,CAAC,CAAC;6BAC3D,CAAC;yBACH,CAAC;wBACF,UAAU,CAAC,aAAa,EAAE;4BACxB,KAAK,CAAC,6BAA6B,EAAE;gCACnC,KAAK,CAAC,EAAC,SAAS,EAAE,qBAAqB,EAAE,OAAO,EAAE,GAAG,EAAC,CAAC;gCACvD,OAAO,CAAC,GAAG,kBAAkB,CAAC,IAAI,IAAI,yBAAyB,CAAC,IAAI,CAAC,aAAa,EAAE,EAClF,KAAK,CAAC,EAAC,SAAS,EAAE,sBAAsB,EAAE,OAAO,EAAE,GAAG,EAAC,CAAC,CAAC;6BAC5D,CAAC;yBACH,CAAC;wBAEF,UAAU,CAAC,gBAAgB,EAAE;4BAC3B,KAAK,CAAC,6BAA6B,EAAE;gCACnC,YAAY,CAAC,cAAc,CAAC,KAAK,CAAC;6BACnC,CAAC;yBACH,CAAC;wBACF,UAAU,CAAC,aAAa,EAAE;4BACxB,KAAK,CAAC,6BAA6B,EAAE;gCACnC,YAAY,CAAC,cAAc,CAAC,MAAM,CAAC;6BACpC,CAAC;yBACH,CAAC;qBACH,CAAC;oBACF,OAAO,CAAC,mBAAmB,EAAE;wBAC3B,UAAU,CAAC,WAAW,EAAE;4BACtB,KAAK,CAAC,8BAA8B,EAAE;gCACpC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC;6BACrC,EAAE,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAC;yBACrB,CAAC;wBACF,UAAU,CAAC,QAAQ,EAAE;4BACnB,KAAK,CAAC,8BAA8B,EAAE;gCACpC,YAAY,CAAC,cAAc,CAAC,OAAO,EAAE;oCACnC,MAAM,EAAE;wCACN,IAAI,EAAE,GAAG;wCACT,EAAE,EAAE,GAAG;qCACR;iCACF,CAAC;6BACH,EAAE,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAC;yBACrB,CAAC;qBACH,CAAC;iBACH;aACF;0IAqC0C,SAAS;kBAAjD,SAAS;mBAAC,WAAW,EAAE,EAAC,MAAM,EAAE,KAAK,EAAC;YAEC,YAAY;kBAAnD,WAAW;mBAAC,yBAAyB;YAEa,WAAW;kBAA7D,WAAW;mBAAC,gCAAgC;YAIN,YAAY;kBAAlD,WAAW;mBAAC,oBAAoB;YAIM,iBAAiB;kBAAvD,WAAW;mBAAC,oBAAoB;YAIG,cAAc;kBAAjD,WAAW;mBAAC,iBAAiB;YAiB9B,kBAAkB;kBADjB,YAAY;mBAAC,sBAAsB,EAAE,CAAC,QAAQ,CAAC;;AA4LlD;;GAEG;AAIH,MAAM,OAAO,0BAA0B;IAuErC,kCAAkC;IAClC,iEAAiE;IACjE,YAAqE,QAAa;IACtE,uFAAuF;IACvF,kDAAkD;IAC3C,WAAuB;QAH2B,aAAQ,GAAR,QAAQ,CAAK;QAG/D,gBAAW,GAAX,WAAW,CAAY;QA3E1C,WAAM,GAAY,KAAK,CAAC;QA8DS,oBAAe,GAAW,MAAM,CAAC;QAM1D,sBAAiB,GAAc,aAAa,CAAC;IAQrD,CAAC;IA1ED,IAAI,eAAe;QACjB,IAAI,UAAU,GAAG,YAAY,CAAC;QAE9B,QAAQ,IAAI,CAAC,iBAAiB,EAAE;YAC9B,KAAK,QAAQ,CAAC,CAAC;gBACb,UAAU,GAAG,YAAY,CAAC;gBAC1B,MAAM;aACP;YACD,KAAK,aAAa,CAAC,CAAC;gBAClB,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,kBAAkB,KAAK,MAAM,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,YAAY,CAAC;gBACrF,MAAM;aACP;YACD,KAAK,cAAc,CAAC,CAAC;gBACnB,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,kBAAkB,KAAK,MAAM,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC;gBACtF,MAAM;aACP;YAED,KAAK,KAAK,CAAC,CAAC;gBACV,UAAU,GAAG,eAAe,CAAC;gBAC7B,MAAM;aACP;YACD,KAAK,UAAU,CAAC,CAAC;gBACf,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,kBAAkB,KAAK,MAAM,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,eAAe,CAAC;gBAC3F,MAAM;aACP;YACD,KAAK,WAAW,CAAC,CAAC;gBAChB,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,kBAAkB,KAAK,MAAM,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,eAAe,CAAC;gBAC5F,MAAM;aACP;YAED,KAAK,MAAM,CAAC,CAAC;gBACX,UAAU,GAAG,cAAc,CAAC;gBAC5B,MAAM;aACP;YACD,KAAK,UAAU,CAAC,CAAC;gBACf,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,kBAAkB,KAAK,MAAM,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC;gBACxF,MAAM;aACP;YACD,KAAK,aAAa,CAAC,CAAC;gBAClB,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,kBAAkB,KAAK,MAAM,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,cAAc,CAAC;gBAC3F,MAAM;aACP;YAED,KAAK,OAAO,CAAC,CAAC;gBACZ,UAAU,GAAG,aAAa,CAAC;gBAC3B,MAAM;aACP;YACD,KAAK,WAAW,CAAC,CAAC;gBAChB,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,kBAAkB,KAAK,MAAM,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,aAAa,CAAC;gBACtF,MAAM;aACP;YACD,KAAK,cAAc,CAAC,CAAC;gBACnB,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,kBAAkB,KAAK,MAAM,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC;gBACzF,MAAM;aACP;SACF;QAED,OAAO,UAAU,CAAC;IACpB,CAAC;IAID,IAA0C,oBAAoB;QAC5D,OAAO,IAAI,CAAC,eAAe,CAAC;IAC9B,CAAC;IAYD,WAAW,CAAC,KAAY;QACtB,OAAO,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;IAC5D,CAAC;IAED,QAAQ,CAAC,SAAsB,EAAE,SAA8C;QAC7E,IAAI,CAAC,iBAAiB,GAAG,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;IAClG,CAAC;;oGArFU,0BAA0B,uBAyEjB,UAAU,CAAC,GAAG,EAAE,CAAC,sBAAsB,CAAC;6EAzEjD,0BAA0B;;;uFAA1B,0BAA0B;cAHtC,SAAS;eAAC;gBACT,QAAQ,EAAE,qBAAqB;aAChC;;sBA0Ec,MAAM;uBAAC,UAAU,CAAC,GAAG,EAAE,CAAC,sBAAsB,CAAC;iDAV3B,eAAe;kBAA/C,WAAW;mBAAC,kBAAkB;YAEW,oBAAoB;kBAA7D,WAAW;mBAAC,uBAAuB;;AA0BtC,MAAM,OAAO,kCAAkC;IAC7C,YAAmB,eAAkC;QAAlC,oBAAe,GAAf,eAAe,CAAmB;IACrD,CAAC;;oHAFU,kCAAkC;qFAAlC,kCAAkC;uFAAlC,kCAAkC;cAH9C,SAAS;eAAC;gBACT,QAAQ,EAAE,wCAAwC;aACnD;;AAcD,MAAM,OAAO,kCAAkC;;oHAAlC,kCAAkC;qFAAlC,kCAAkC;uBAClC,WAAW;;;;;;QANpB,sBAAA;QAAA,gGAEc;QAChB,oBAAA;;uFAEW,kCAAkC;cAR9C,SAAS;eAAC;gBACT,QAAQ,EAAE,8BAA8B;gBACxC,QAAQ,EAAE;;;;GAIT;aACF;gBAEyB,WAAW;kBAAlC,SAAS;mBAAC,WAAW;;AAGxB;;;;;;;GAOG;AAIH,MAAM,OAAO,4BAA4B;IAYvC,wDAAwD;IACxD,8BAA8B;IAC9B,kDAAkD;IAClD,kCAAkC;IAClC,iEAAiE;IACjE,YAAqE,QAAsC,EACvF,WAAuB,EACvB,SAAoB;QAF6B,aAAQ,GAAR,QAAQ,CAA8B;QACvF,gBAAW,GAAX,WAAW,CAAY;QACvB,cAAS,GAAT,SAAS,CAAW;QAdL,qBAAgB,GAAY,IAAI,CAAC;QAEjC,qBAAgB,GAAY,KAAK,CAAC;QAE7D,gBAAW,GAA2B,IAAI,aAAa,CAAC,CAAC,CAAC,CAAC;QAC3D,sBAAiB,GAAY,KAAK,CAAC;QAUzC,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,aAAa,CAAC;IAC5C,CAAC;IAED,QAAQ;QACN,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,SAAS,CAAC;aACjD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aACjC,SAAS,CAAC,CAAC,KAAoB,EAAE,EAAE;YAClC,IAAI,CAAC,iBAAiB,GAAG,eAAe,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;QAC7E,CAAC,CAAC,CAAC;QAEL,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,UAAU,CAAC;aAClD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aACjC,SAAS,CAAC,GAAG,EAAE;YACd,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBAC1B,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,qBAAqB,CAAC,EAAE;oBAC7E,IAAI,CAAC,QAAQ,CAAC,qBAAqB,EAAE,CAAC;iBACvC;aACF;QACH,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,QAAQ,CAAC,kBAAkB;aAC7B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aACjC,SAAS,CAAC,CAAC,KAAkC,EAAE,EAAE;YAChD,IAAI,KAAK,EAAE;gBACT,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,eAAe,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;aACpG;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,WAAW;QACT,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;QACxB,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;IAC9B,CAAC;IAED,WAAW,CAAC,KAAY;QACtB,OAAO,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;IAC5D,CAAC;;wGAxDU,4BAA4B,uBAiBnB,UAAU,CAAC,GAAG,EAAE,CAAC,sBAAsB,CAAC;+EAjBjD,4BAA4B;;;uFAA5B,4BAA4B;cAHxC,SAAS;eAAC;gBACT,QAAQ,EAAE,uBAAuB;aAClC;;sBAkBc,MAAM;uBAAC,UAAU,CAAC,GAAG,EAAE,CAAC,sBAAsB,CAAC;yEAZzB,gBAAgB;kBAAlD,WAAW;mBAAC,oBAAoB;YAEE,gBAAgB;kBAAlD,WAAW;mBAAC,oBAAoB;;AAoDnC;;GAEG;AAQH,MAAM,OAAO,4BAA6B,SAAQ,4BAA4B;IA+B5E,kCAAkC;IAClC,iEAAiE;IACjE,YAA8D,QAAa,EAC/D,UAAsB,EACtB,QAAmB;QAC7B,KAAK,CAAC,QAAQ,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;QAnCxC;;;;WAIG;QACM,cAAS,GAAY,IAAI,CAAC;QAEnC;;;;WAIG;QACM,wBAAmB,GAA6B,SAAS,CAAC;QAEhC,qBAAgB,GAAY,KAAK,CAAC;QAclC,qBAAgB,GAAY,IAAI,CAAC;IAQpE,CAAC;IApBD,IAA0C,WAAW;QACnD,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAED,IAA6C,aAAa;QACxD,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC;IACzB,CAAC;IAED,IAA+C,eAAe;QAC5D,OAAO,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,mBAAmB,KAAK,MAAM,CAAC;IAC/D,CAAC;IAaD,KAAK,CAAC,CAA6B;QACjC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC;IAED,QAAQ;QACN,IAAI,MAAM,CAAC;QAEX,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;YAC1C,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;YAEnF,MAAM,GAAG,OAAO,CAAC,MAAM,KAAK,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC;SAC5D;aAAM;YAEL,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC;SAC1D;QAED,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,UAAU,CAAC,CAA8B;QACvC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IAC1B,CAAC;;wGA7DU,4BAA4B,uBAiCnB,UAAU,CAAC,GAAG,EAAE,CAAC,sBAAsB,CAAC;+EAjCjD,4BAA4B;+GAA5B,iBAAa;;;;0HALb,CAAC;gBACV,OAAO,EAAE,4BAA4B;gBACrC,WAAW,EAAE,UAAU,CAAC,GAAG,EAAE,CAAC,4BAA4B,CAAC;aAC5D,CAAC;uFAES,4BAA4B;cAPxC,SAAS;eAAC;gBACT,QAAQ,EAAE,uBAAuB;gBACjC,SAAS,EAAE,CAAC;wBACV,OAAO,EAAE,4BAA4B;wBACrC,WAAW,EAAE,UAAU,CAAC,GAAG,EAAE,6BAA6B,CAAC;qBAC5D,CAAC;aACH;;sBAkCc,MAAM;uBAAC,UAAU,CAAC,GAAG,EAAE,CAAC,sBAAsB,CAAC;yEA3BnD,SAAS;kBAAjB,KAAK;YAOG,mBAAmB;kBAA3B,KAAK;YAE6B,gBAAgB;kBAAlD,WAAW;mBAAC,oBAAoB;YAES,WAAW;kBAApD,WAAW;mBAAC,uBAAuB;YAIS,aAAa;kBAAzD,WAAW;mBAAC,0BAA0B;YAIQ,eAAe;kBAA7D,WAAW;mBAAC,4BAA4B;YAIN,gBAAgB;kBAAlD,WAAW;mBAAC,oBAAoB;YAWjC,KAAK;kBADJ,YAAY;mBAAC,OAAO,EAAE,CAAC,QAAQ,CAAC;;AAyBnC;;GAEG;AAWH,kEAAkE;AAClE,MAAM,OAAO,sBAAuB,SAAQ,iCAAiC;IA+N3E,YAAY,MAA2B,EACnB,yBAAmD,EACnD,eAA4C,EAC5C,IAAoB,EACpB,GAAe,EACf,SAAmB,EACnB,SAAoB,EACpB,cAAmC,EACnC,aAA2B,EAC3B,aAA2B,EAC3B,cAA6B,EAC7B,eAAoC,EACpC,eAA+B,EAC/B,EAAyB,EACD,wBAAgD,EAChF,kBAA4C;QACtD,KAAK,CAAC,kBAAkB,EAAE,GAAG,EAAE,gCAAgC,CAAC,aAAa,CAAC,CAAC;QAf7D,8BAAyB,GAAzB,yBAAyB,CAA0B;QACnD,oBAAe,GAAf,eAAe,CAA6B;QAC5C,SAAI,GAAJ,IAAI,CAAgB;QACpB,QAAG,GAAH,GAAG,CAAY;QACf,cAAS,GAAT,SAAS,CAAU;QACnB,cAAS,GAAT,SAAS,CAAW;QACpB,mBAAc,GAAd,cAAc,CAAqB;QACnC,kBAAa,GAAb,aAAa,CAAc;QAC3B,kBAAa,GAAb,aAAa,CAAc;QAC3B,mBAAc,GAAd,cAAc,CAAe;QAC7B,oBAAe,GAAf,eAAe,CAAqB;QACpC,oBAAe,GAAf,eAAe,CAAgB;QAC/B,OAAE,GAAF,EAAE,CAAuB;QACD,6BAAwB,GAAxB,wBAAwB,CAAwB;QAxO5F,iBAAY,GAGR,EAAE,CAAC;QAmCP;;;WAGG;QACM,uBAAkB,GAAsB,MAAM,CAAC;QAExD;;;WAGG;QACM,oBAAe,GAAY,KAAK,CAAC;QAE1C;;;WAGG;QACM,oBAAe,GAAY,KAAK,CAAC;QAE1C;;;WAGG;QACM,mBAAc,GAAY,IAAI,CAAC;QAExC;;;WAGG;QACM,2BAAsB,GAAY,KAAK,CAAC;QAEjD;;;WAGG;QACM,+BAA0B,GAAY,IAAI,CAAC;QA0BpD;;;;;WAKG;QACM,qCAAgC,GAAW,EAAE,CAAC;QAEvD;;;WAGG;QACM,iCAA4B,GAAY,IAAI,CAAC;QAEtD;;;WAGG;QACM,uCAAkC,GAAgB,IAAI,CAAC;QAShE,wDAAwD;QACxD;;;WAGG;QACgB,WAAM,GAAuB,IAAI,YAAY,EAAQ,CAAC;QAEzE;;;;WAIG;QACgB,YAAO,GAA2C,IAAI,YAAY,EAA4B,CAAC;QAClH,uDAAuD;QAEpC,yBAAoB,GACnC,IAAI,YAAY,EAAkC,CAAC;QAEpC,uBAAkB,GAA8C,IAAI,YAAY,EAA+B,CAAC;QAEpG,iBAAY,GAAY,IAAI,CAAC;QAUpD,gBAAW,GAA4B;YAC7C,KAAK,EAAE,IAAI;YACX,UAAU,EAAE,IAAI;YAChB,QAAQ,EAAE,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;YAC9B,MAAM,EAAE,IAAI;YACZ,YAAY,EAAE,EAAE;YAChB,cAAc,EAAE,EAAE;YAClB,QAAQ,EAAE,IAAI;SACf,CAAC;QA8BF;;WAEG;QACK,WAAM,GAA6B,IAAI,eAAe,CAAU,KAAK,CAAC,CAAC;QAMvE,cAAS,GAAY,KAAK,CAAC;QAC3B,cAAS,GAAY,KAAK,CAAC;QAC3B,mBAAc,GAAoC,SAAS,CAAC;QAC5D,UAAK,GAAY,KAAK,CAAC;QAIvB,aAAQ,GAAY,KAAK,CAAC;QAE1B,0BAAqB,GAAkB,IAAI,OAAO,EAAQ,CAAC;QAE3D,iBAAY,GAAW,IAAI,CAAC;QAuBlC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;QAClC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;QAClC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,kBAAkB,EAAE,CAAC,CAAC;QAC9C,IAAI,CAAC,0BAA0B,GAAG,4BAA4B,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IACrF,CAAC;IAtKD;;;OAGG;IACH,IAAa,YAAY,CAAC,KAAc;QACtC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YAC5B,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC;SACxB;IACH,CAAC;IAED;;;OAGG;IACH,IAAa,QAAQ,CAAC,OAA6B;QACjD,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC;IAC3B,CAAC;IA6ED;;;OAGG;IACH,IAAa,UAAU,CAAC,GAA4B;QAClD,MAAM,eAAe,GAAG,GAAS,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;QAEjD,IAAI,GAAG,EAAE;YACP,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,IAAI,IAAI,CAAC;YAC3C,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,GAAG,CAAC,UAAU,IAAI,IAAI,CAAC;YACrD,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ;gBACtC,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC;gBAC1B,CAAC,CAAC,eAAe,CAAC;YACpB,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YACrE,IAAI,CAAC,WAAW,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC;YACnF,IAAI,CAAC,WAAW,CAAC,cAAc,GAAG,GAAG,CAAC,cAAc,IAAI,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC;YACzF,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,IAAI,IAAI,CAAC;SAClD;aAAM;YACL,IAAI,CAAC,WAAW,GAAG;gBACjB,QAAQ,EAAE,eAAe;gBACzB,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,YAAY;gBAC5C,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,cAAc;aACjD,CAAC;SACH;IACH,CAAC;IAmDD,QAAQ;QACN,IAAI,CAAC,UAAU,GAAG,EAAE,sBAAsB,CAAC,OAAO,CAAC;QACnD,qBAAqB;QACrB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAE1E,IAAI,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE;YAC9B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC;YACrD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC;YAEjD,IAAI,IAAI,CAAC,SAAS,EAAE;gBAClB,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC;aAClC;SAEF;aAAM;YACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC;SACtC;QAED,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QAGrG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;YACnD,IAAI,CAAC,SAAS,GAAG,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACnD;QAED,IAAI,CAAC,mBAAmB,GAAG,IAAI,YAAY,CACzC,4BAA4B,EAC5B,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,gBAAgB,EACrB,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,yBAAyB,EAC9B,IAAI,CAAC,eAAe,CAAC,CAAC;QAExB,sCAAsC;QACtC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzB,CAAC;IAED,WAAW,CAAC,OAAsB;;QAChC,+DAA+D;QAC/D,IAAI,OAAO,CAAC,WAAW,KAAI,MAAA,IAAI,CAAC,aAAa,0CAAE,QAAQ,CAAA,EAAE;YACvD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;SAC5D;QAED,IAAI,MAAA,IAAI,CAAC,aAAa,0CAAE,QAAQ,EAAE;YAChC,IAAI,OAAO,CAAC,sBAAsB,EAAE;gBAClC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,sBAAsB,GAAG,IAAI,CAAC,sBAAsB,CAAC;aAClF;YAED,IAAI,OAAO,CAAC,0BAA0B,EAAE;gBACtC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,0BAA0B,GAAG,IAAI,CAAC,0BAA0B,CAAC;aAC1F;SACF;IACH,CAAC;IAED,WAAW;QACT,IAAI,IAAI,CAAC,eAAe,CAAC,uBAAuB,EAAE;YAChD,IAAI,CAAC,aAAa,CAAC,wBAAwB,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YAE3D,OAAO;SACR;QAED,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5B,IAAI,CAAC,cAAc,EAAE,CAAC;YAEtB,IAAI,IAAI,CAAC,SAAS,EAAE;gBAClB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAChC;YAED,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;YACpD,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAEzC,IAAI,IAAI,CAAC,uBAAuB,EAAE;gBAChC,IAAI,CAAC,uBAAuB,EAAE,CAAC;aAChC;SACF;QAED,IAAI,IAAI,CAAC,kCAAkC,EAAE;YAC3C,IAAI,CAAC,cAAc,CAAC,yBAAyB,CAAC,IAAI,CAAC,kCAAkC,CAAC,CAAC;SACxF;QAED,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAChC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC1B;IACH,CAAC;IAED,eAAe,CAAC,WAA2B;QACzC,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,WAAW,CAAC,mBAAmB,CAAC,CAAC;QAClE,IAAI,CAAC,YAAY,CAAC,cAAc,GAAG,WAAW,CAAC,qBAAqB,CAAC,CAAC;QACtE,IAAI,CAAC,WAAW,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC;QAC/D,IAAI,CAAC,WAAW,CAAC,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC;IACrE,CAAC;IAED;;OAEG;IACH,MAAM;QACJ,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAED;;OAEG;IACH,IAAI,CAAC,KAAkC;;QACrC,IAAI,CAAC,gBAAgB,GAAG,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAEpD,IAAI,IAAI,CAAC,gBAAgB,KAAK,SAAS,EAAE;YACvC,SAAS,CAAC,+FAA+F,CAAC,CAAC;SAC5G;QAED,IAAI,IAAI,CAAC,eAAe,CAAC,uBAAuB,EAAE;YAChD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YAEzC,OAAO;SACR;QAED,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAClB,OAAO;aACR;YACD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,QAAQ,EAAE,CAAC;YAC/C,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,CAAC;YACtC,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YAEtB,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;gBACzC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBAEjD,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAChC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YAC3B,CAAC,EAAE,CAAC,CAAC,CAAC;SACP;aAAM;YACL,IAAI,CAAC,CAAC,IAAI,CAAC,wBAAwB;gBACjC;;;;;;mBAMG;oBACA,MAAA,MAAA,sBAAsB,CAAC,YAAY,0CAAE,KAAK,0CAAE,WAAW,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;gBAC/H,+BAA+B;gBAC/B,gEAAgE;gBAChE,IAAI,CAAC,YAAY,EAAE,CAAC;aACrB;YAED,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;SAClD;IACH,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,SAAmC,IAAI;QAC3C,IAAI,IAAI,CAAC,eAAe,CAAC,uBAAuB,EAAE;YAChD,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAE3B,OAAO;SACR;QAED,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,KAAK,EAAE;YACpC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YAErB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,SAAS,CAAC,GAAG,EAAE;gBAC3E,IAAI,CAAC,oBAAoB,EAAE,CAAC;gBAC5B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBAEtB,2HAA2H;gBAC3H,iIAAiI;gBACjI,IAAI,IAAI,CAAC,SAAS,EAAE;oBAClB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAChC;gBAED,IAAI,CAAC,cAAc,EAAE,CAAC;YACxB,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAEzC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YAEnB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAE1B,IAAI,IAAI,CAAC,kCAAkC,EAAE;gBAC3C,IAAI,CAAC,cAAc,CAAC,yBAAyB,CAAC,IAAI,CAAC,kCAAkC,CAAC,CAAC;aACxF;SACF;QAED,IAAI,IAAI,CAAC,uBAAuB,EAAE;YAChC,IAAI,CAAC,uBAAuB,EAAE,CAAC;SAChC;IACH,CAAC;IAED;;OAEG;IACH,MAAM,CAAC,CAA6B;QAClC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC9C,CAAC;IAED,qBAAqB;;QACnB,IAAI,IAAI,CAAC,eAAe,CAAC,uBAAuB,EAAE;YAChD,MAAA,IAAI,CAAC,kBAAkB,0CAAE,YAAY,CAAC,QAAQ,CAAC,qBAAqB,EAAE,CAAC;SACxE;aAAM;YACL,MAAA,IAAI,CAAC,aAAa,0CAAE,QAAQ,CAAC,qBAAqB,EAAE,CAAC;SACtD;IACH,CAAC;IAED,eAAe,CAAC,CAAQ;QACtB,MAAM,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,uBAAuB,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC;QAE1H,OAAO,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;IAC7D,CAAC;IAEO,oBAAoB,CAAC,SAAsB;QACjD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,CAAC;QACrD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC;QACzG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC;QAEjD,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;SACvD;QAED,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;SACtD;aAAM;YACL,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC;SACpG;QAED,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACvD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;QACtD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;QACtD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QAC3D,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC;QAC1D,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC;QAChE,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC;QACzE,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;QACnE,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;QACnE,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;QACjE,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,gBAAgB,GAAG,SAAS,CAAC;QACzD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,sBAAsB,GAAG,IAAI,CAAC,sBAAsB,CAAC;QACjF,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,0BAA0B,GAAG,IAAI,CAAC,0BAA0B,CAAC;QACzF,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,gCAAgC,GAAG,IAAI,CAAC,gCAAgC,CAAC;QACrG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,4BAA4B,GAAG,IAAI,CAAC,4BAA4B,CAAC;QAC7F,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,oBAAoB,GAAG,IAAI,CAAC,oBAAoB,CAAC;QAC7E,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC;QAEzE,IAAI,CAAC,aAAa,EAAE,CAAC;QAGrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAElB,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAChC;QAED,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;QAEnB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC;QACnD,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAEvI,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,EAAE,GAAG,EAAE;YACzC,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,aAAa,EAAE;gBACxC,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,GAAG,CAAC,CAAC;aAC1C;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,IAAI,CAAC,kCAAkC,EAAE;YAC3C,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,IAAI,CAAC,kCAAkC,EAAE,GAAG,EAAE;gBACvF,IAAI,IAAI,CAAC,aAAa,EAAE;oBACtB,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC;iBACnD;YACH,CAAC,CAAC,CAAC;SACJ;QAED,KAAK,CAAC,CAAC,EAAE,aAAa,CAAC;aACpB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;aAC3C,SAAS,CAAC,GAAG,EAAE;;YACd,MAAA,IAAI,CAAC,aAAa,0CAAE,QAAQ,CAAC,aAAa,EAAE,CAAC;QAC/C,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,oBAAoB;QAC1B,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,qBAAqB,CAAC,IAAI,EAAE,CAAC;YAClC,IAAI,CAAC,mBAAmB,CAAC,KAAK,EAAE,CAAC;YACjC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;SAC3B;IACH,CAAC;IAEO,YAAY,CAAC,gBAA6B;;QAChD,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACf,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACjB,IAAI,CAAC,aAAa,CAAC,wBAAwB,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;aAC5D;YAED,IAAI,kBAAkB,GAAG,EAAE,CAAC;YAE5B,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE;gBACvC,MAAM,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;gBAEjH,cAAc,CAAC,OAAO,CAAC,CAAC,aAAa,EAAE,EAAE;oBACvC,IAAI,CAAC,CAAC,aAAa,KAAK,MAAM,IAAI,aAAa,KAAK,QAAQ,CAAC,EAAE;wBAC7D,IAAI,qBAA6B,CAAC;wBAElC,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,KAAK,EAAE;4BAC7B,qBAAqB;gCACnB,aAAa,CAAC,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,MAAM,CAAsC,CAAC;yBACxG;6BAAM;4BACL,qBAAqB,GAAG,aAAa,CAAC;yBACvC;wBAED,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,qBAAqB,CAAC,CAAC,CAAC;qBACjF;oBAED,IAAI,aAAa,KAAK,MAAM,EAAE;wBAC5B,kBAAkB,CAAC,IAAI,CACrB,IAAI,CAAC,0BAA0B,CAAC,cAAc,CAAC,EAC/C,IAAI,CAAC,0BAA0B,CAAC,YAAY,CAAC,EAC7C,IAAI,CAAC,0BAA0B,CAAC,WAAW,CAAC,EAC5C,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,EAC1C,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,EACxC,IAAI,CAAC,0BAA0B,CAAC,WAAW,CAAC,EAC5C,IAAI,CAAC,0BAA0B,CAAC,cAAc,CAAC,EAC/C,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,EACtC,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,EAC1C,IAAI,CAAC,0BAA0B,CAAC,YAAY,CAAC,CAC9C,CAAC;qBACH;gBACH,CAAC,CAAC,CAAC;gBAEH,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE;oBAC9B,kBAAkB,GAAG;wBACnB,IAAI,CAAC,0BAA0B,CAAC,cAAc,CAAC;wBAC/C,IAAI,CAAC,0BAA0B,CAAC,YAAY,CAAC;wBAC7C,IAAI,CAAC,0BAA0B,CAAC,WAAW,CAAC;wBAC5C,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC;qBAC3C,CAAC;iBACH;aACF;YAED,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,eAAe,CAAC,qBAAqB,CAClE,IAAI,eAAe,CAAC,6BAA6B,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,EACxE;gBACE,MAAM,EAAE,IAAI,CAAC,UAAU,KAAI,MAAA,IAAI,CAAC,OAAO,0CAAE,QAAQ,CAAA,IAAI,IAAI,CAAC,GAAG,CAAC,aAAa;gBAC3E,uBAAuB,EAAE,gBAAgB;gBACzC,cAAc,EAAE,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,YAAY;gBAC3E,gBAAgB,EAAE,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW;gBAClH,kBAAkB,EAAE,kBAAkB;aACvC,EACD;gBACE,WAAW,EAAE,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS;aAC9C,CACF,CAAC;YAEF,gEAAgE;YAChE,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,WAAW,EAAE;iBAC7C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;iBACjD,SAAS,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YACjC,CAAC,CAAC,CAAC;YAEL,kBAAkB;YAClB,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,aAAa,EAAE;iBAC/C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;iBACjD,SAAS,CAAC,KAAK,CAAC,EAAE;gBACjB,IAAI,eAAe,CAAC,KAAK,CAAC,KAAK,MAAM,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,aAAa,CAAC,EAAE;oBAC/E,IAAI,CAAC,aAAa,CAAC,wBAAwB,CAAC,GAAG,CAAC,CAAC;iBAClD;YACH,CAAC,CAAC,CAAC;YAEL,uBAAuB;YACvB,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,cAAc,EAAE,OAAO,CAAC;iBAClE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;iBACjD,SAAS,CAAC,GAAG,EAAE;gBACd,IAAI,IAAI,CAAC,SAAS,KAAK,IAAI,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;oBAC1D,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,WAAW,CAAC,CAAC;iBAClD;YACH,CAAC,CAAC,CAAC;YAEL,wBAAwB;YACxB,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,oBAAoB,EAAE;iBACtD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;iBACjD,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;gBACnB,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,KAAK,IAAI,IAAI,IAAI,CAAC,SAAS,KAAK,SAAS,CAAC,EAAE;oBAChG,IAAI,CAAC,aAAa,CAAC,wBAAwB,CAAC,YAAY,CAAC,CAAC;iBAC3D;YACH,CAAC,CAAC,CAAC;YAEL,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC;YAClF,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,QAAQ,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;YACnF,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC;YACnE,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YAC7E,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,QAAQ,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;YAClF,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,QAAQ,CAAC,0BAA0B,GAAG,IAAI,CAAC,0BAA0B,CAAC;YAC3G,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,QAAQ,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;YACrF,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,QAAQ,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;YACrF,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;YACxE,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;YACxE,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC;YAC5E,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,QAAQ,CAAC,sBAAsB,GAAG,IAAI,CAAC,sBAAsB,CAAC;YACnG,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,QAAQ,CAAC,WAAW;gBACvD,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAE3I,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,QAAQ,CAAC,kBAAkB;iBAC7D,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;iBACjD,SAAS,CAAC,cAAc,CAAC,EAAE;gBAC1B,IAAI,CAAC,kBAAkB,CAAC,IAAI,iCAAK,cAAc,KAAE,gBAAgB,EAAE,gBAAgB,IAAE,CAAC;YACxF,CAAC,CAAC,CAAC;YAEL,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAElB,IAAI,CAAC,aAAa,EAAE,CAAC;YAErB,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;YAEnB,2FAA2F;YAC3F,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;SACxE;IACH,CAAC;IAEO,aAAa,CAAC,MAAgC,EAAE,KAAe;QACrE,IAAI,IAAI,CAAC,kBAAkB,EAAE;YAC3B,IAAI,KAAK,EAAE;gBACT,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACnC,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,CAAC;gBAClC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;gBAC/B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;iBAAM;gBACL,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC;gBACpD,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,EAAE;qBAClD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;qBACjD,SAAS,CAAC,GAAG,EAAE;oBACd,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,CAAC;oBAClC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;oBAC/B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;oBACtB,IAAI,CAAC,cAAc,EAAE,CAAC;gBACxB,CAAC,CAAC,CAAC;aACN;YAED,0EAA0E;YAC1E,IAAI,IAAI,CAAC,KAAK,EAAE;gBACd,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACnB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC3B;SACF;QAED,IAAI,IAAI,CAAC,uBAAuB,EAAE;YAChC,IAAI,CAAC,uBAAuB,EAAE,CAAC;SAChC;IACH,CAAC;IAEO,eAAe,CAAC,CAAa;QACnC,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,EAAE;YACnE,IAAI,IAAI,CAAC,SAAS,KAAK,IAAI,EAAE;gBAC3B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,wBAAwB,CAAC,WAAW,CAAC,CAAC,CAAC,wBAAwB,CAAC,YAAY,CAAC,CAAC;aAEpH;iBAAM,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE;gBACjE,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,WAAW,CAAC,CAAC;aAElD;iBAAM,IAAI,IAAI,CAAC,SAAS,KAAK,SAAS,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE;gBACnE,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,YAAY,CAAC,CAAC;aACnD;SACF;IACH,CAAC;IAEO,kBAAkB,CAAC,CAAQ;QACjC,OAAO,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;IACrC,CAAC;IAEO,aAAa;QACnB,sBAAsB,CAAC,YAAY,GAAG,IAAI,CAAC;IAC7C,CAAC;IAEO,cAAc;QACpB,IAAI,sBAAsB,CAAC,YAAY,IAAI,CAAC,sBAAsB,CAAC,YAAY,KAAK,IAAI,CAAC,EAAE;YACzF,sBAAsB,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAChD,sBAAsB,CAAC,YAAY,GAAG,IAAI,CAAC;SAC5C;IACH,CAAC;IAEO,YAAY;QAClB,IAAI,sBAAsB,CAAC,YAAY,IAAI,IAAI,CAAC,SAAS,EAAE;YACzD,sBAAsB,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAChD,sBAAsB,CAAC,YAAY,GAAG,IAAI,CAAC;SAC5C;IACH,CAAC;;AA7tBM,8BAAO,GAAW,CAAC,CAAC;AACpB,mCAAY,GAA2B,IAAI,CAAC,CAAC,kDAAkD;4FAF3F,sBAAsB,inBA6OqC,sBAAsB;yEA7OjF,sBAAsB;oCA2JnB,0BAA0B;oCAC1B,kCAAkC;oCAClC,kCAAkC;oCAClC,4BAA4B;;;;;;;;+BALJ,gBAAgB;;;;;;;;QAhKpD,sBAAA;QAAA,kBAAwD;QACxD,sBAAA;QAAA,qBAAwD;QAExD,wBAAA;QAAA,wHAA6C;QAC/C,oBAAA;;uFAGW,sBAAsB;cAXlC,SAAS;eAAC;gBACT,QAAQ,EAAE,iCAAiC;gBAC3C,QAAQ,EAAE,eAAe;gBACzB,QAAQ,EAAE;;;;;GAKT;aACF;wdA+OuE,sBAAsB;sBAA/E,QAAQ;;sBAAI,QAAQ;gEAzNxB,SAAS;kBAAjB,KAAK;YAMG,WAAW;kBAAnB,KAAK;YAMG,aAAa;kBAArB,KAAK;YASG,SAAS;kBAAjB,KAAK;YAMG,kBAAkB;kBAA1B,KAAK;YAMG,eAAe;kBAAvB,KAAK;YAMG,eAAe;kBAAvB,KAAK;YAMG,cAAc;kBAAtB,KAAK;YAMG,sBAAsB;kBAA9B,KAAK;YAMG,0BAA0B;kBAAlC,KAAK;YAMO,YAAY;kBAAxB,KAAK;YAUO,QAAQ;kBAApB,KAAK;YAQG,UAAU;kBAAlB,KAAK;YAQG,gCAAgC;kBAAxC,KAAK;YAMG,4BAA4B;kBAApC,KAAK;YAMG,kCAAkC;kBAA1C,KAAK;YAOG,cAAc;kBAAtB,KAAK;YAOa,MAAM;kBAAxB,MAAM;YAOY,OAAO;kBAAzB,MAAM;YAGY,oBAAoB;kBAAtC,MAAM;YAGY,kBAAkB;kBAApC,MAAM;YAEwB,YAAY;kBAA1C,WAAW;mBAAC,gBAAgB;YAG0C,gBAAgB;kBAAtF,SAAS;mBAAC,kBAAkB,EAAE,EAAC,IAAI,EAAE,gBAAgB,EAAE,MAAM,EAAE,IAAI,EAAC;YAEnB,KAAK;kBAAtD,YAAY;mBAAC,0BAA0B;YACkC,aAAa;kBAAtF,YAAY;mBAAC,kCAAkC,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC;YACU,sBAAsB;kBAA/F,YAAY;mBAAC,kCAAkC,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC;YACI,OAAO;kBAA1E,YAAY;mBAAC,4BAA4B,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC;YAkB7C,UAAU;kBAAtB,KAAK","sourcesContent":["import {\n  AfterViewInit,\n  ApplicationRef,\n  ChangeDetectorRef,\n  Component,\n  ComponentFactoryResolver,\n  ComponentRef,\n  ContentChild,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  HostListener,\n  Inject,\n  Injector,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  SkipSelf,\n  TemplateRef,\n  ViewChild,\n  ViewContainerRef\n} from '@angular/core';\nimport {animate, AnimationEvent, query, style, transition, trigger, useAnimation} from '@angular/animations';\nimport {EventManager} from '@angular/platform-browser';\nimport {FocusOrigin} from '@angular/cdk/a11y';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {ComponentPortal} from '@angular/cdk/portal';\nimport {ESCAPE, TAB} from '@angular/cdk/keycodes';\nimport {asapScheduler, BehaviorSubject, fromEvent, ReplaySubject, Subject, Subscription, timer} from 'rxjs';\nimport {take, takeUntil} from 'rxjs/operators';\nimport {isEqual, isFunction, isNil} from 'lodash-es';\n\nimport {ANIMATION_DURATION, ANIMATION_NAME, ANIMATION_TIMING_FUNCTION} from '../common/animation';\nimport {AdaptDeviceDetectionService} from '../common/device-detection.service';\nimport {\n  AdaptOverlayConnectedPositionName,\n  AdaptOverlayConnectedPositions,\n  AdaptOverlayService,\n  AdaptOverlayWithPortal,\n  getOverlayConnectedPositions\n} from '../common/overlay/index';\nimport {AdaptTranslateService} from '../common/i18n/index';\nimport {KeyValueObject} from '../common/common.models';\nimport {LayerService} from '../common/layer-service';\nimport {PopupService} from '../common/popup';\nimport {ResizeService} from '../common/resize/resize.service';\nimport {SafeCdr} from '../common/safe-cdr';\nimport {ScrollManagerApi, ScrollManageService} from '../common/scroll-manage.service';\nimport {adaptWarn} from '../common/logger';\nimport {convertPlacement, Placement, PlacementArray, positionElements} from '../common/positioning';\nimport {getEventKeyCode} from '../common/key-codes';\nimport {getFocusableElements} from '../common/focus';\nimport {isEventFrom} from '../common/utilities';\nimport {getInteractionSource} from '../common/interaction-source';\n\nimport {\n  AdaptAnchorPositionChangeEvent,\n  AdaptDropdownAnimationEvent,\n  AdaptDropdownCloseReason,\n  AdaptDropdownConfig,\n  AdaptDropdownMobileView,\n  AdaptDropdownTogglerType\n} from './dropdown.model';\nimport {AdaptDropdownWindow2Component} from './dropdown-window2.component';\nimport {\n  AdaptRadarAngularCustomEventName,\n  AdaptRadarAngularGenericDirective,\n  AdaptRadarAngularService\n} from '../common/radar/adapt-radar';\n\n\n@Component({\n  selector: 'adapt-dropdown-window',\n  template: `\n    <ng-container *ngIf=\"isMobile || isTablet; else desktopView\">\n      <div class=\"a-dropdown-window--backdrop\"></div>\n\n      <div class=\"a-dropdown-window--wrapper\"\n           [class.position-relative]=\"isMobile\"\n           [class.is-tablet]=\"isTablet\"\n           [class.is-picker]=\"mobileView.isPicker\"\n           [class.full-height]=\"mobileView.fullHeight\">\n        <div class=\"a-dropdown-window--header\" *ngIf=\"!mobileView.isPicker\" (click)=\"$event.stopPropagation()\">\n          <button type=\"button\" class=\"btn btn-link btn-sm\" (click)=\"mobileView.cancelCB && mobileView.cancelCB()\">\n            {{mobileView.cancelBtnTitle}}\n          </button>\n          <h2 class=\"m-0 text-center\">\n            {{mobileView.title}}\n          </h2>\n          <button class=\"btn btn-link btn-sm\"\n                  (click)=\"mobileView.doneCB && mobileView.doneCB()\"\n                  [disabled]=\"!mobileView.doneCB\"\n                  [class.invisible]=\"!mobileView.doneCB\">\n            {{mobileView.doneBtnTitle}}\n          </button>\n        </div>\n\n        <div #container class=\"a-dropdown-window--menu\"\n             [ngClass]=\"customClass\"\n             [class.dropdown-menu-mobile-placement]=\"isMobilePlacement\">\n          <div class=\"modal-header\" *ngIf=\"isTablet\">\n            <h5 [class]=\"'modal-title text-default'\">{{mobileView.title}}</h5>\n            <adapt-close [adaptRadarDisableEventSending]=\"true\"\n                         (close)=\"mobileView.cancelCB && mobileView.cancelCB()\"></adapt-close>\n          </div>\n          <ng-container [ngTemplateOutlet]=\"templateRef\"></ng-container>\n        </div>\n      </div>\n    </ng-container>\n\n    <ng-template #desktopView>\n      <div class=\"a-dropdown-window--wrapper\"\n           [adaptFocusHolder]=\"holdFocusInMenu\"\n           [holdFocusOnInit]=\"holdFocusOnOpen\"\n           [focusFirstOnInit]=\"autoFocusFirst\"\n           [eventType]=\"eventInvokedFrom\"\n           [class.is-picker]=\"mobileView.isPicker\"\n           [focusFirstDelay]=\"250\"\n           [restoreLastFocusedElement]=\"restoreFocusAfterClose\"\n           [focusNextElement]=\"focusNextElementAfterClose\">\n        <div #container class=\"a-dropdown-window--menu\" [ngClass]=\"customClass\">\n          <ng-container [ngTemplateOutlet]=\"templateRef\"></ng-container>\n        </div>\n      </div>\n    </ng-template>\n  `,\n  animations: [\n    trigger('popupAnimation', [\n      transition('void => desktop', [\n        query('.a-dropdown-window--menu', [\n          useAnimation(ANIMATION_NAME.popIn)\n        ])\n      ]),\n      transition('desktop => 0', [\n        query('.a-dropdown-window--menu', [\n          useAnimation(ANIMATION_NAME.popOut)\n        ])\n      ]),\n      transition('void => mobile', [\n        query('.a-dropdown-window--wrapper', [\n          style({transform: 'translate(0px, 100%)', opacity: '0'}),\n          animate(`${ANIMATION_DURATION.fast} ${ANIMATION_TIMING_FUNCTION.base.transitionIn}`,\n            style({transform: 'translate(0px, 0px)', opacity: '1'}))\n        ])\n      ]),\n      transition('mobile => 0', [\n        query('.a-dropdown-window--wrapper', [\n          style({transform: 'translate(0px, 0px)', opacity: '1'}),\n          animate(`${ANIMATION_DURATION.fast} ${ANIMATION_TIMING_FUNCTION.base.transitionOut}`,\n            style({transform: 'translate(0px, 100%)', opacity: '0'}))\n        ])\n      ]),\n\n      transition('void => picker', [\n        query('.a-dropdown-window--wrapper', [\n          useAnimation(ANIMATION_NAME.popIn)\n        ])\n      ]),\n      transition('picker => 0', [\n        query('.a-dropdown-window--wrapper', [\n          useAnimation(ANIMATION_NAME.popOut)\n        ])\n      ])\n    ]),\n    trigger('backdropAnimation', [\n      transition('void => 1', [\n        query('.a-dropdown-window--backdrop', [\n          useAnimation(ANIMATION_NAME.opacity)\n        ], {optional: true})\n      ]),\n      transition('1 => 0', [\n        query('.a-dropdown-window--backdrop', [\n          useAnimation(ANIMATION_NAME.opacity, {\n            params: {\n              from: '*',\n              to: '0'\n            }\n          })\n        ], {optional: true})\n      ])\n    ])\n  ]\n})\nexport class AdaptDropdownWindowComponent implements AfterViewInit, OnDestroy {\n  anchorPositionChange: EventEmitter<AdaptAnchorPositionChangeEvent> = new EventEmitter<AdaptAnchorPositionChangeEvent>();\n  popupAnimationDone: EventEmitter<AdaptDropdownAnimationEvent> = new EventEmitter<AdaptDropdownAnimationEvent>();\n  _isOpen: boolean = true; // Use in animation\n  // Fields for dynamic component configuration\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  content: any;\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  templateRef: TemplateRef<any>;\n  anchor: HTMLElement;\n  placement: PlacementArray;\n  appendTo: HTMLElement | 'body';\n  positionTo: HTMLElement;\n  isMobile: boolean;\n  isTablet: boolean;\n  customClass: string;\n  mobileView: AdaptDropdownMobileView;\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  animationMode: any;\n  animationPlacement: 'auto' | 'center';\n  holdFocusInMenu: boolean = false;\n  holdFocusOnOpen: boolean = false;\n  autoFocusFirst: boolean = true;\n  eventInvokedFrom?: FocusOrigin;\n  restoreFocusAfterClose: boolean = false;\n  focusNextElementAfterClose: boolean = false;\n  anchorPositionTrackingTimerId: number = null;\n  anchorPositionTrackingIntervalMs: number;\n  enableAnchorPositionTracking: boolean = true;\n  isMobilePlacement: boolean = false;\n  dataPlacement: Placement | 'center' = 'bottom-left';\n\n  // Container for inserting content\n  @ViewChild('container', {static: false}) container: ElementRef<HTMLDivElement>;\n\n  @HostBinding('class.a-dropdown-window') defaultClass: boolean = true;\n\n  @HostBinding('class.a-dropdown-window_mobile') get mobileClass(): boolean {\n    return this.isMobile;\n  }\n\n  @HostBinding('attr.data-position') get positionAttr(): Placement | 'center' {\n    return this.dataPlacement;\n  }\n\n  @HostBinding('@backdropAnimation') get backdropAnimation(): boolean {\n    return this._isOpen;\n  }\n\n  @HostBinding('@popupAnimation') get popupAnimation(): boolean {\n    return this.animationMode;\n  }\n\n  private _closeAnimationDone: EventEmitter<void> = new EventEmitter();\n  private _currentPlacement: Placement | 'center' = 'bottom-left';\n  private _destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  constructor(\n    private _elementRef: ElementRef<HTMLElement>,\n    private _renderer: Renderer2,\n    public _cdr: ChangeDetectorRef,\n    public _ngZone: NgZone\n  ) {\n  }\n\n  @HostListener('@popupAnimation.done', ['$event'])\n  afterAnimationDone(e: AnimationEvent): void {\n    // TODO: Refactor this if possible\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    if ((e.toState as any) === false) {\n      this._closeAnimationDone.emit();\n    }\n\n    this.popupAnimationDone.emit({...e, eventInvokedFrom: this.eventInvokedFrom});\n  }\n\n  ngAfterViewInit(): void {\n    if (this.content) {\n      this.container.nativeElement.appendChild(this.content._elementRef.nativeElement);\n    }\n\n    if (this.isMobile || this.appendTo === 'body') {\n      document.body.appendChild(this._elementRef.nativeElement);\n      this._elementRef.nativeElement.classList.add('dd-menu--in-body');\n    } else if (this.appendTo) {\n      this.appendTo.appendChild(this._elementRef.nativeElement);\n    }\n\n    this._ngZone.onStable\n      .pipe(takeUntil(this._destroyed$), take(1))\n      .subscribe(() => {\n        this._applyPosition();\n        this.enableTrackingAnchorPosition();\n      });\n  }\n\n  recalculatePosition(): void {\n    this._applyPosition(true);\n  }\n\n  enableTrackingAnchorPosition(): void {\n    if (this.appendTo === 'body' &&\n      !this.isMobile &&\n      this.anchorPositionTrackingTimerId == null &&\n      this.enableAnchorPositionTracking) {\n\n      // get the pure object without additional properties and methods\n      const getSizeAndPositionFromRect = (rect: DOMRect): DOMRectInit => {\n        return {height: rect.height, width: rect.width, x: rect.left, y: rect.y};\n      };\n\n      this._ngZone.runOutsideAngular(() => {\n        let previousAnchorRect = getSizeAndPositionFromRect(this.anchor.getBoundingClientRect() as DOMRect);\n\n        this.anchorPositionTrackingTimerId = setInterval(() => {\n          const currentAnchorRect = getSizeAndPositionFromRect(this.anchor.getBoundingClientRect() as DOMRect);\n\n          this._applyPosition();\n\n          if (!isEqual(previousAnchorRect, currentAnchorRect)) {\n            previousAnchorRect = currentAnchorRect;\n\n            if (this.anchorPositionChange.observers.length) {\n              this._ngZone.run(() => {\n                this.anchorPositionChange.emit({\n                  previousAnchorRect,\n                  currentAnchorRect\n                });\n              });\n            }\n          }\n          // TODO: Refactor this if possible\n          /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        }, this.anchorPositionTrackingIntervalMs) as any;\n      });\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this.anchorPositionTrackingTimerId) {\n      clearInterval(this.anchorPositionTrackingTimerId);\n      this.anchorPositionTrackingTimerId = null;\n    }\n    this._destroyed$.next(true);\n    this._destroyed$.complete();\n  }\n\n  /**\n   * Check if click event from this window\n   */\n  isEventFrom(event: Event): boolean {\n    return isEventFrom(event, this._elementRef.nativeElement);\n  }\n\n  /**\n   * Close window\n   */\n  close(): EventEmitter<void> {\n    this._isOpen = false;\n    this.animationMode = false;\n    // when used inside a component with OnPush strategy, must explicitly mark for check to ensure animationMode change is detected\n    SafeCdr.markForCheck(this._cdr);\n\n    return this._closeAnimationDone;\n  }\n\n  focusFirstItemInPopup(): void {\n    getFocusableElements(this._elementRef.nativeElement)[0]?.focus();\n  }\n\n  private _applyPosition(useCurrentPlacement: boolean = false): void {\n    if (this.isMobile) {\n      this._currentPlacement = 'center';\n\n      return;\n    }\n\n    this._currentPlacement =\n      positionElements(this.anchor, this.container.nativeElement, this.placement, this.isMobile || this.appendTo === 'body',\n        null, useCurrentPlacement && this._currentPlacement !== 'center' ? this._currentPlacement : null);\n\n    this.dataPlacement = this._currentPlacement;\n    this.isMobilePlacement = this._currentPlacement === 'mobile';\n\n    this._applyTransformOrigin();\n  }\n\n  private _applyTransformOrigin(): void {\n    let _transform = 'center top';\n\n    switch (this._currentPlacement) {\n      case 'bottom': {\n        _transform = 'center top';\n        break;\n      }\n      case 'bottom-left': {\n        _transform = `${this.animationPlacement === 'center' ? 'center' : 'left'} top`;\n        break;\n      }\n      case 'bottom-right': {\n        _transform = `${this.animationPlacement === 'center' ? 'center' : 'right'} top`;\n        break;\n      }\n\n      case 'top': {\n        _transform = 'center bottom';\n        break;\n      }\n      case 'top-left': {\n        _transform = `${this.animationPlacement === 'center' ? 'center' : 'left'} bottom`;\n        break;\n      }\n      case 'top-right': {\n        _transform = `${this.animationPlacement === 'center' ? 'center' : 'right'} bottom`;\n        break;\n      }\n\n      case 'left': {\n        _transform = 'right center';\n        break;\n      }\n      case 'left-top': {\n        _transform = `right ${this.animationPlacement === 'center' ? 'center' : 'top'}`;\n        break;\n      }\n      case 'left-bottom': {\n        _transform = `right ${this.animationPlacement === 'center' ? 'center' : 'bottom'}`;\n        break;\n      }\n\n      case 'right': {\n        _transform = 'left center';\n        break;\n      }\n      case 'right-top': {\n        _transform = `left ${this.animationPlacement === 'center' ? 'center' : 'top'}`;\n        break;\n      }\n      case 'right-bottom': {\n        _transform = `left ${this.animationPlacement === 'center' ? 'center' : 'bottom'}`;\n        break;\n      }\n\n      case 'center': {\n        _transform = 'center center';\n        break;\n      }\n    }\n\n    this._renderer.setStyle(this.container.nativeElement, 'transform-origin', _transform);\n  }\n}\n\n/**\n * Dropdown menu container\n */\n@Directive({\n  selector: '[adaptDropdownMenu]'\n})\nexport class AdaptDropdownMenuDirective {\n  isOpen: boolean = false;\n\n  get transformOrigin(): string {\n    let _transform = 'center top';\n\n    switch (this._currentPlacement) {\n      case 'bottom': {\n        _transform = 'center top';\n        break;\n      }\n      case 'bottom-left': {\n        _transform = this.dropdown.animationPlacement === 'auto' ? 'left top' : 'center top';\n        break;\n      }\n      case 'bottom-right': {\n        _transform = this.dropdown.animationPlacement === 'auto' ? 'right top' : 'center top';\n        break;\n      }\n\n      case 'top': {\n        _transform = 'center bottom';\n        break;\n      }\n      case 'top-left': {\n        _transform = this.dropdown.animationPlacement === 'auto' ? 'left bottom' : 'center bottom';\n        break;\n      }\n      case 'top-right': {\n        _transform = this.dropdown.animationPlacement === 'auto' ? 'right bottom' : 'center bottom';\n        break;\n      }\n\n      case 'left': {\n        _transform = 'right center';\n        break;\n      }\n      case 'left-top': {\n        _transform = this.dropdown.animationPlacement === 'auto' ? 'right top' : 'right center';\n        break;\n      }\n      case 'left-bottom': {\n        _transform = this.dropdown.animationPlacement === 'auto' ? 'right bottom' : 'right-center';\n        break;\n      }\n\n      case 'right': {\n        _transform = 'left center';\n        break;\n      }\n      case 'right-top': {\n        _transform = this.dropdown.animationPlacement === 'auto' ? 'left top' : 'left-center';\n        break;\n      }\n      case 'right-bottom': {\n        _transform = this.dropdown.animationPlacement === 'auto' ? 'left bottom' : 'left-center';\n        break;\n      }\n    }\n\n    return _transform;\n  }\n\n  @HostBinding('style.transition') transitionStyle: string = 'none';\n\n  @HostBinding('style.transformOrigin') get transformOriginStyle(): string {\n    return this.transformOrigin;\n  }\n\n  private _currentPlacement: Placement = 'bottom-left';\n\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  constructor(@Inject(forwardRef(() => AdaptDropdownDirective)) public dropdown: any,\n              // Made public to resolve problem with dropdown inside dropdown in case of <ng-content>\n              // https://github.com/angular/angular/issues/14935\n              public _elementRef: ElementRef) {\n  }\n\n  isEventFrom(event: Event): boolean {\n    return isEventFrom(event, this._elementRef.nativeElement);\n  }\n\n  position(triggerEl: HTMLElement, placement: string | Placement | PlacementArray): void {\n    this._currentPlacement = positionElements(triggerEl, this._elementRef.nativeElement, placement);\n  }\n}\n\n@Directive({\n  selector: 'ng-template[adaptDropdownMenuTemplate]'\n})\nexport class AdaptDropdownMenuTemplateDirective {\n  constructor(public menuTemplateRef: TemplateRef<void>) {\n  }\n}\n\n@Component({\n  selector: 'adapt-dropdown-menu-template',\n  template: `\n    <ng-template>\n      <ng-content></ng-content>\n    </ng-template>\n  `\n})\nexport class AdaptDropdownMenuTemplateComponent {\n  @ViewChild(TemplateRef) templateRef: TemplateRef<void>;\n}\n\n/**\n * Marks an element to which dropdown menu will be anchored. This is a simple version\n * of the AdaptDropdownToggle directive. It plays the same role as adaptDropdownToggle but\n * doesn't listen to click events to toggle dropdown menu thus enabling support for\n * events other than click.\n *\n * @since 1.1.0\n */\n@Directive({\n  selector: '[adaptDropdownAnchor]'\n})\nexport class AdaptDropdownAnchorDirective implements OnInit, OnDestroy {\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  anchorEl: any;\n\n  @HostBinding('attr.aria-haspopup') ariaHasPopupAttr: boolean = true;\n\n  @HostBinding('attr.aria-expanded') ariaExpandedAttr: boolean = false;\n\n  private _destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n  private _shouldFocusPopup: boolean = false;\n\n  // TODO(nicholas): change type to AdaptDropdownDirective\n  // from migration to angular 8\n  // https://github.com/angular/angular/issues/30106\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  constructor(@Inject(forwardRef(() => AdaptDropdownDirective)) public dropdown: AdaptDropdownDirective | any,\n              private _elementRef: ElementRef,\n              private _renderer: Renderer2) {\n    this.anchorEl = _elementRef.nativeElement;\n  }\n\n  ngOnInit(): void {\n    fromEvent(this._elementRef.nativeElement, 'keydown')\n      .pipe(takeUntil(this._destroyed$))\n      .subscribe((event: KeyboardEvent) => {\n        this._shouldFocusPopup = getEventKeyCode(event) === TAB && !event.shiftKey;\n      });\n\n    fromEvent(this._elementRef.nativeElement, 'focusout')\n      .pipe(takeUntil(this._destroyed$))\n      .subscribe(() => {\n        if (this._shouldFocusPopup) {\n          if (this.dropdown.isOpen() && isFunction(this.dropdown.focusFirstItemInPopup)) {\n            this.dropdown.focusFirstItemInPopup();\n          }\n        }\n      });\n\n    this.dropdown.popupAnimationDone\n      .pipe(takeUntil(this._destroyed$))\n      .subscribe((event: AdaptDropdownAnimationEvent) => {\n        if (event) {\n          this._renderer.setAttribute(this._elementRef.nativeElement, 'aria-expanded', `${!!event.toState}`);\n        }\n      });\n  }\n\n  ngOnDestroy(): void {\n    this._destroyed$.next();\n    this._destroyed$.complete();\n  }\n\n  isEventFrom(event: Event): boolean {\n    return isEventFrom(event, this._elementRef.nativeElement);\n  }\n}\n\n/**\n * Allows the dropdown to be toggled via click. This directive is optional: you can use AdaptDropdownAnchor as an alternative.\n */\n@Directive({\n  selector: '[adaptDropdownToggle]',\n  providers: [{\n    provide: AdaptDropdownAnchorDirective,\n    useExisting: forwardRef(() => AdaptDropdownToggleDirective)\n  }]\n})\nexport class AdaptDropdownToggleDirective extends AdaptDropdownAnchorDirective {\n  /**\n   * Uses to control caret visibility\n   * @docs-default true\n   * @since v10.14.0\n   */\n  @Input() showCaret: boolean = true;\n\n  /**\n   * Set caret color type. Can be useful for instance if the button looks like a link so the caret should reflect link styles\n   * @docs-default default\n   * @since v10.17.0\n   */\n  @Input() dropdownTogglerType: AdaptDropdownTogglerType = 'default';\n\n  @HostBinding('attr.aria-expanded') ariaExpandedAttr: boolean = false;\n\n  @HostBinding('class.dropdown-toggle') get toggleClass(): boolean {\n    return this.showCaret;\n  }\n\n  @HostBinding('class.dropdown-toggle-up') get toggleUpClass(): boolean {\n    return this.isDropUp();\n  }\n\n  @HostBinding('class.dropdown-toggle-link') get toggleLinkClass(): boolean {\n    return this.showCaret && this.dropdownTogglerType === 'link';\n  }\n\n  @HostBinding('attr.aria-haspopup') ariaHasPopupAttr: boolean = true;\n\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  constructor(@Inject(forwardRef(() => AdaptDropdownDirective)) dropdown: any,\n              elementRef: ElementRef,\n              renderer: Renderer2) {\n    super(dropdown, elementRef, renderer);\n  }\n\n  @HostListener('click', ['$event'])\n  click(e: MouseEvent | KeyboardEvent): void {\n    this.toggleOpen(e);\n  }\n\n  isDropUp(): boolean {\n    let dropUp;\n\n    if (Array.isArray(this.dropdown.placement)) {\n      const matches = this.dropdown.placement.filter(el => (el.split('-')[0] === 'top'));\n\n      dropUp = matches.length === this.dropdown.placement.length;\n    } else {\n\n      dropUp = this.dropdown.placement.split('-')[0] === 'top';\n    }\n\n    return dropUp;\n  }\n\n  toggleOpen(e?: MouseEvent | KeyboardEvent): void {\n    this.dropdown.toggle(e);\n  }\n}\n\n/**\n * Transforms a node into a dropdown.\n */\n@Component({\n  selector: 'adapt-dropdown, [adaptDropdown]',\n  exportAs: 'adaptDropdown',\n  template: `\n    <ng-content select=\"[adaptDropdownAnchor]\"></ng-content>\n    <ng-content select=\"[adaptDropdownToggle]\"></ng-content>\n\n    <ng-template #contentPlacement></ng-template>\n  `\n})\n// eslint-disable-next-line @angular-eslint/component-class-suffix\nexport class AdaptDropdownDirective extends AdaptRadarAngularGenericDirective implements OnInit, OnDestroy, OnChanges {\n  static LAST_ID: number = 0;\n  static ActivePicker: AdaptDropdownDirective = null; // https://github.com/angular/angular/issues/18867\n  menuWindowRef: ComponentRef<AdaptDropdownWindowComponent>;\n  dropdownId: number;\n  defaultTexts: {\n    doneBtnTitle?: string;\n    cancelBtnTitle?: string;\n  } = {};\n\n  eventInvokedFrom: FocusOrigin;\n\n  /**\n   * Indicates that dropdown should be closed when selecting one of dropdown items (click) or pressing ESC.\n   * When it is true (default) dropdowns are automatically closed on both outside and inside (menu) clicks.\n   * When it is false dropdowns are never automatically closed.\n   * When it is 'outside' dropdowns are automatically closed on outside clicks but not on menu clicks.\n   * When it is 'inside' dropdowns are automatically on menu clicks but not on outside clicks.\n   * @docs-default\n   */\n  @Input() autoClose: boolean | 'outside' | 'inside';\n\n  /**\n   * Class for dropdown window component, need to differentiate tablet/mobile sizes per component\n   * @docs-default\n   */\n  @Input() customClass: string;\n\n  /**\n   * Automatically is 'true' if autoClose != false\n   * @docs-default\n   */\n  @Input() closeOnEscape: boolean;\n\n  /**\n   * Placement of a popover accepts:\n   *    \"top\", \"top-left\", \"top-right\", \"bottom\", \"bottom-left\", \"bottom-right\",\n   *    \"left\", \"left-top\", \"left-bottom\", \"right\", \"right-top\", \"right-bottom\"\n   * and array of above values.\n   * @docs-default auto\n   */\n  @Input() placement: PlacementArray;\n\n  /**\n   * Animation transform-origin property\n   * @docs-default auto\n   */\n  @Input() animationPlacement: 'auto' | 'center' = 'auto';\n\n  /**\n   *  Hold `Tab` key focus in the dropdownMenu area\n   *  @docs-default false\n   */\n  @Input() holdFocusInMenu: boolean = false;\n\n  /**\n   *  Auto holding focus on dropdownMenu open\n   *  @docs-default false\n   */\n  @Input() holdFocusOnOpen: boolean = false;\n\n  /**\n   * Focus first menu item on open\n   * @docs-default true\n   */\n  @Input() autoFocusFirst: boolean = true;\n\n  /**\n   *  After menu close, restore focus the element which was in focus before menu open\n   *  @docs-default false\n   */\n  @Input() restoreFocusAfterClose: boolean = false;\n\n  /**\n   *  After menu close, focus the next element which was in focus before menu open\n   *  @docs-default true\n   */\n  @Input() focusNextElementAfterClose: boolean = true;\n\n  /**\n   * When specified, the drop-down list will be attached to the body\n   * @docs-default false\n   */\n  @Input() set appendToBody(state: boolean) {\n    if (state && !this._appendTo) {\n      this.appendTo = 'body';\n    }\n  }\n\n  /**\n   * When specified, the drop-down list will be attached to the selected element\n   * @docs-default\n   */\n  @Input() set appendTo(element: HTMLElement | 'body') {\n    this._appendTo = element;\n  }\n\n  /**\n   * When specified, the drop-down list will be anchored to the selected element\n   * @docs-default\n   */\n  @Input() positionTo: HTMLElement;\n\n  /**\n   *  Interval of anchor position tracking when the menu is attached to the body.\n   *  Change the value if you have some performance problems or you have a delay in the menu\n   *  positioning\n   *  @docs-default 30\n   */\n  @Input() anchorPositionTrackingIntervalMs: number = 30;\n\n  /**\n   *  Enable an anchor position tracking when the menu is attached to the body\n   *  @docs-default true\n   */\n  @Input() enableAnchorPositionTracking: boolean = true;\n\n  /**\n   * Add resize listener on passed HTML element and recalculate dropdown position when element resize. Can be helpful when dropdown has dynamic height\n   * @docs-default\n   */\n  @Input() recalculatePositionOnElementResize: HTMLElement = null;\n\n  /**\n   * In some specific cases there is need to manually control mobile checking.\n   * One of such cases is typeahead component where usage of \"desktop\" view of dropdown is much comfortable from UX perspective\n   * @docs-default\n   */\n  @Input() setMobileState: boolean;\n\n  /* eslint-disable @angular-eslint/no-output-on-prefix */\n  /**\n   *  An event fired when the dropdown is open\n   *  @since v10.9.0\n   */\n  @Output() readonly onOpen: EventEmitter<null> = new EventEmitter<null>();\n\n  /**\n   *  An event fired when the dropdown is closed via internal reason:\n   *  escape button click, click inside, click outside or component destroy\n   *  @since v10.9.0\n   */\n  @Output() readonly onClose: EventEmitter<AdaptDropdownCloseReason> = new EventEmitter<AdaptDropdownCloseReason>();\n  /* eslint-enable @angular-eslint/no-output-on-prefix */\n\n  @Output() readonly anchorPositionChange: EventEmitter<AdaptAnchorPositionChangeEvent>\n    = new EventEmitter<AdaptAnchorPositionChangeEvent>();\n\n  @Output() readonly popupAnimationDone: EventEmitter<AdaptDropdownAnimationEvent> = new EventEmitter<AdaptDropdownAnimationEvent>();\n\n  @HostBinding('class.dropdown') defaultClass: boolean = true;\n\n  // Get placement for menu\n  @ViewChild('contentPlacement', {read: ViewContainerRef, static: true}) contentPlacement: ViewContainerRef;\n\n  @ContentChild(AdaptDropdownMenuDirective) private _menu: AdaptDropdownMenuDirective;\n  @ContentChild(AdaptDropdownMenuTemplateDirective, {static: true}) private _menuTemplate: AdaptDropdownMenuTemplateDirective;\n  @ContentChild(AdaptDropdownMenuTemplateComponent, {static: true}) private _menuTemplateComponent: AdaptDropdownMenuTemplateComponent;\n  @ContentChild(AdaptDropdownAnchorDirective, {static: true}) private _anchor: AdaptDropdownAnchorDirective;\n\n  private _mobileView: AdaptDropdownMobileView = {\n    title: null,\n    fullHeight: null,\n    cancelCB: (() => this.close()),\n    doneCB: null,\n    doneBtnTitle: '',\n    cancelBtnTitle: '',\n    isPicker: null\n  };\n\n  private _appendTo: HTMLElement | 'body';\n\n  /**\n   * Setup for mobile view\n   * @docs-default\n   */\n  @Input() set mobileView(obj: AdaptDropdownMobileView) {\n    const defaultCancelCB = (): void => this.close();\n\n    if (obj) {\n      this._mobileView.title = obj.title || null;\n      this._mobileView.fullHeight = obj.fullHeight || null;\n      this._mobileView.cancelCB = obj.cancelCB\n        ? () => obj.cancelCB(this)\n        : defaultCancelCB;\n      this._mobileView.doneCB = obj.doneCB ? () => obj.doneCB(this) : null;\n      this._mobileView.doneBtnTitle = obj.doneBtnTitle || this.defaultTexts.doneBtnTitle;\n      this._mobileView.cancelBtnTitle = obj.cancelBtnTitle || this.defaultTexts.cancelBtnTitle;\n      this._mobileView.isPicker = obj.isPicker || null;\n    } else {\n      this._mobileView = {\n        cancelCB: defaultCancelCB,\n        doneBtnTitle: this.defaultTexts.doneBtnTitle,\n        cancelBtnTitle: this.defaultTexts.cancelBtnTitle\n      };\n    }\n  }\n\n  /**\n   * Subject for trapping [open] setter till OnInit complete\n   */\n  private _init$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n  private _popupWindowService: PopupService<AdaptDropdownWindowComponent>;\n  /**\n   * An object for manage wrapper's scroll.\n   */\n  private _scrollManager: ScrollManagerApi;\n  private _isMobile: boolean = false;\n  private _isTablet: boolean = false;\n  private _animationMode: 'desktop' | 'mobile' | 'picker' = 'desktop';\n  private _open: boolean = false;\n  private _removeTapEventListener: Function;\n  private _eventType: string;\n\n  private _closing: boolean = false;\n  private _closeSubscription: Subscription;\n  private _removeMenuWindowRef$: Subject<void> = new Subject<void>();\n\n  private _openTimeout: number = null;\n\n  private _overlayWithPortal: AdaptOverlayWithPortal<AdaptDropdownWindow2Component>;\n  private _overlayConnectedPositions: AdaptOverlayConnectedPositions;\n\n  constructor(config: AdaptDropdownConfig,\n              private _componentFactoryResolver: ComponentFactoryResolver,\n              private _deviceDetector: AdaptDeviceDetectionService,\n              private _dir: Directionality,\n              private _el: ElementRef,\n              private _injector: Injector,\n              private _renderer: Renderer2,\n              private _scrollService: ScrollManageService,\n              private _layerService: LayerService,\n              private _eventManager: EventManager,\n              private _resizeService: ResizeService,\n              private _overlayService: AdaptOverlayService,\n              private _applicationRef: ApplicationRef,\n              private ts: AdaptTranslateService,\n              @Optional() @SkipSelf() private _parentDropdownDirective: AdaptDropdownDirective,\n              _adaptRadarService: AdaptRadarAngularService) {\n    super(_adaptRadarService, _el, AdaptRadarAngularCustomEventName.AdaptDropdown);\n\n    this.placement = config.placement;\n    this.autoClose = config.autoClose;\n    this.setDefaultTexts(ts.getCurrentLanguage());\n    this._overlayConnectedPositions = getOverlayConnectedPositions(this._dir.value, 2);\n  }\n\n  ngOnInit(): void {\n    this.dropdownId = ++AdaptDropdownDirective.LAST_ID;\n    // Get scroll manager\n    this._scrollManager = this._scrollService.getScrollManager(document.body);\n\n    if (isNil(this.setMobileState)) {\n      this._isTablet = this._deviceDetector.deviceTablet();\n      this._isMobile = this._deviceDetector.isMobile();\n\n      if (this._isTablet) {\n        this._mobileView.isPicker = true;\n      }\n\n    } else {\n      this._isMobile = this.setMobileState;\n    }\n\n    this._animationMode = this._isMobile ? (this._mobileView.isPicker ? 'picker' : 'mobile') : 'desktop';\n\n\n    if ((this._dir.value === 'rtl') && (this.placement)) {\n      this.placement = convertPlacement(this.placement);\n    }\n\n    this._popupWindowService = new PopupService<AdaptDropdownWindowComponent>(\n      AdaptDropdownWindowComponent,\n      this._injector,\n      this.contentPlacement,\n      this._renderer,\n      this._componentFactoryResolver,\n      this._applicationRef);\n\n    // Tell subscribers that init complete\n    this._init$.next(true);\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    // In case we want to change custom class after dropdown opened\n    if (changes.customClass && this.menuWindowRef?.instance) {\n      this.menuWindowRef.instance.customClass = this.customClass;\n    }\n\n    if (this.menuWindowRef?.instance) {\n      if (changes.restoreFocusAfterClose) {\n        this.menuWindowRef.instance.restoreFocusAfterClose = this.restoreFocusAfterClose;\n      }\n\n      if (changes.focusNextElementAfterClose) {\n        this.menuWindowRef.instance.focusNextElementAfterClose = this.focusNextElementAfterClose;\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this._overlayService.enableCDKOverlayControl) {\n      this._closeOverlay(AdaptDropdownCloseReason.Destroy, true);\n\n      return;\n    }\n\n    if (this.menuWindowRef) {\n      this._removeMenuWindowRef();\n      this._closeIfActive();\n\n      if (this._isMobile) {\n        this._scrollManager.show(this);\n      }\n\n      this.onClose.emit(AdaptDropdownCloseReason.Destroy);\n      this._layerService.removeComponent(this);\n\n      if (this._removeTapEventListener) {\n        this._removeTapEventListener();\n      }\n    }\n\n    if (this.recalculatePositionOnElementResize) {\n      this._resizeService.removeResizeEventListener(this.recalculatePositionOnElementResize);\n    }\n\n    if (this._openTimeout) {\n      clearTimeout(this._openTimeout);\n      this._openTimeout = null;\n    }\n  }\n\n  setDefaultTexts(translation: KeyValueObject): void {\n    this.defaultTexts.doneBtnTitle = translation['adapt.common.done'];\n    this.defaultTexts.cancelBtnTitle = translation['adapt.common.cancel'];\n    this._mobileView.doneBtnTitle = this.defaultTexts.doneBtnTitle;\n    this._mobileView.cancelBtnTitle = this.defaultTexts.cancelBtnTitle;\n  }\n\n  /**\n   * Checks if the dropdown menu is open or not.\n   */\n  isOpen(): boolean {\n    return this._open;\n  }\n\n  /**\n   * Opens the dropdown menu of a given navbar or tabbed navigation.\n   */\n  open(event?: MouseEvent | KeyboardEvent): void {\n    this.eventInvokedFrom = getInteractionSource(event);\n\n    if (this.eventInvokedFrom === 'program') {\n      adaptWarn('In case call of the open method without passed event, the event type is \"program\" by default.');\n    }\n\n    if (this._overlayService.enableCDKOverlayControl) {\n      this._openOverlay(this.eventInvokedFrom);\n\n      return;\n    }\n\n    if (this.menuWindowRef) {\n      if (!this._closing) {\n        return;\n      }\n      this.menuWindowRef.instance.close().complete();\n      this._closeSubscription.unsubscribe();\n      this._removeMenuWindowRef();\n      this._closing = false;\n\n      this._openTimeout = window.setTimeout(() => {\n        this._createMenuWindowRef(this.eventInvokedFrom);\n\n        clearTimeout(this._openTimeout);\n        this._openTimeout = null;\n      }, 0);\n    } else {\n      if (!(this._parentDropdownDirective\n        /**\n         * Check that active dropdown menu contains child dropdown (eg. advanced filter contains select inside tabs)\n         * The root cause of the problem is that we can't access to the _parentDropdownDirective because select insert as content projection.\n         * And nodes are only \"projected\" (moved to a different location) but everything else works relative to their source (= before projection) location\n         * https://github.com/angular/angular/issues/14935\n         * https://github.com/angular/angular/issues/17723\n         */\n        || AdaptDropdownDirective.ActivePicker?._menu?._elementRef.nativeElement.contains(this._el.nativeElement)) && !this.autoClose) {\n        // Allow child dropdown opening\n        // TODO: check and refactor active dropdown detection functional\n        this._closeActive();\n      }\n\n      this._createMenuWindowRef(this.eventInvokedFrom);\n    }\n  }\n\n  /**\n   * Closes the dropdown menu of a given navbar or tabbed navigation.\n   */\n  close(reason: AdaptDropdownCloseReason = null): void {\n    if (this._overlayService.enableCDKOverlayControl) {\n      this._closeOverlay(reason);\n\n      return;\n    }\n\n    if (this.menuWindowRef && this._open) {\n      this._closing = true;\n\n      this._closeSubscription = this.menuWindowRef.instance.close().subscribe(() => {\n        this._removeMenuWindowRef();\n        this._closing = false;\n\n        // Wait until close animation completes before resetting scroll on document body; doing it sooner causes the menu window to\n        // immediately \"jump\" in ios, displacing the position of contained elements and preventing click events from firing (issue 2214).\n        if (this._isMobile) {\n          this._scrollManager.show(this);\n        }\n\n        this._closeIfActive();\n      });\n\n      this._layerService.removeComponent(this);\n\n      this._open = false;\n\n      this.onClose.emit(reason);\n\n      if (this.recalculatePositionOnElementResize) {\n        this._resizeService.removeResizeEventListener(this.recalculatePositionOnElementResize);\n      }\n    }\n\n    if (this._removeTapEventListener) {\n      this._removeTapEventListener();\n    }\n  }\n\n  /**\n   * Toggles the dropdown menu of a given navbar or tabbed navigation.\n   */\n  toggle(e: MouseEvent | KeyboardEvent): void {\n    this.isOpen() ? this.close() : this.open(e);\n  }\n\n  focusFirstItemInPopup(): void {\n    if (this._overlayService.enableCDKOverlayControl) {\n      this._overlayWithPortal?.componentRef.instance.focusFirstItemInPopup();\n    } else {\n      this.menuWindowRef?.instance.focusFirstItemInPopup();\n    }\n  }\n\n  isEventFromMenu(e: Event): boolean {\n    const popupRef = this._overlayService.enableCDKOverlayControl ? this._overlayWithPortal.componentRef : this.menuWindowRef;\n\n    return popupRef ? popupRef.instance.isEventFrom(e) : false;\n  }\n\n  private _createMenuWindowRef(eventFrom: FocusOrigin): void {\n    this.menuWindowRef = this._popupWindowService.open();\n    this.menuWindowRef.instance.templateRef = this._menuTemplate ? this._menuTemplate.menuTemplateRef : null;\n    this.menuWindowRef.instance.content = this._menu;\n\n    if (this._appendTo) {\n      this.menuWindowRef.instance.appendTo = this._appendTo;\n    }\n\n    if (this.positionTo) {\n      this.menuWindowRef.instance.anchor = this.positionTo;\n    } else {\n      this.menuWindowRef.instance.anchor = this._anchor ? this._anchor.anchorEl : this._el.nativeElement;\n    }\n\n    this.menuWindowRef.instance.placement = this.placement;\n    this.menuWindowRef.instance.isMobile = this._isMobile;\n    this.menuWindowRef.instance.isTablet = this._isTablet;\n    this.menuWindowRef.instance.customClass = this.customClass;\n    this.menuWindowRef.instance.mobileView = this._mobileView;\n    this.menuWindowRef.instance.animationMode = this._animationMode;\n    this.menuWindowRef.instance.animationPlacement = this.animationPlacement;\n    this.menuWindowRef.instance.holdFocusInMenu = this.holdFocusInMenu;\n    this.menuWindowRef.instance.holdFocusOnOpen = this.holdFocusOnOpen;\n    this.menuWindowRef.instance.autoFocusFirst = this.autoFocusFirst;\n    this.menuWindowRef.instance.eventInvokedFrom = eventFrom;\n    this.menuWindowRef.instance.restoreFocusAfterClose = this.restoreFocusAfterClose;\n    this.menuWindowRef.instance.focusNextElementAfterClose = this.focusNextElementAfterClose;\n    this.menuWindowRef.instance.anchorPositionTrackingIntervalMs = this.anchorPositionTrackingIntervalMs;\n    this.menuWindowRef.instance.enableAnchorPositionTracking = this.enableAnchorPositionTracking;\n    this.menuWindowRef.instance.anchorPositionChange = this.anchorPositionChange;\n    this.menuWindowRef.instance.popupAnimationDone = this.popupAnimationDone;\n\n    this._markAsActive();\n\n\n    this._open = true;\n\n    if (this._isMobile) {\n      this._scrollManager.hide(this);\n    }\n\n    this.onOpen.emit();\n\n    this._eventType = this._isMobile ? 'tap' : 'click';\n    this._removeTapEventListener = this._eventManager.addGlobalEventListener('document', this._eventType, this._closeFromClick.bind(this));\n\n    this._layerService.addComponent(this, () => {\n      if (this.autoClose || this.closeOnEscape) {\n        this.close(AdaptDropdownCloseReason.Esc);\n      }\n    });\n\n    if (this.recalculatePositionOnElementResize) {\n      this._resizeService.addResizeEventListener(this.recalculatePositionOnElementResize, () => {\n        if (this.menuWindowRef) {\n          this.menuWindowRef.instance.recalculatePosition();\n        }\n      });\n    }\n\n    timer(0, asapScheduler)\n      .pipe(takeUntil(this._removeMenuWindowRef$))\n      .subscribe(() => {\n        this.menuWindowRef?.hostView.detectChanges();\n      });\n  }\n\n  private _removeMenuWindowRef(): void {\n    if (this.menuWindowRef) {\n      this._removeMenuWindowRef$.next();\n      this._popupWindowService.close();\n      this.menuWindowRef = null;\n    }\n  }\n\n  private _openOverlay(eventInvokedFrom: FocusOrigin): void {\n    if (!this._open) {\n      if (this._closing) {\n        this._closeOverlay(AdaptDropdownCloseReason.Destroy, true);\n      }\n\n      let connectedPositions = [];\n\n      if (!(this._isMobile || this._isTablet)) {\n        const placementArray = this.placement ? (Array.isArray(this.placement) ? this.placement : [this.placement]) : [];\n\n        placementArray.forEach((placementItem) => {\n          if (!(placementItem === 'auto' || placementItem === 'mobile')) {\n            let connectedPositionName: string;\n\n            if (this._dir.value === 'rtl') {\n              connectedPositionName =\n                placementItem.replace('left', 'right').replace('right', 'left') as AdaptOverlayConnectedPositionName;\n            } else {\n              connectedPositionName = placementItem;\n            }\n\n            connectedPositions.push(this._overlayConnectedPositions[connectedPositionName]);\n          }\n\n          if (placementItem === 'auto') {\n            connectedPositions.push(\n              this._overlayConnectedPositions['bottom-start'],\n              this._overlayConnectedPositions['bottom-end'],\n              this._overlayConnectedPositions['top-start'],\n              this._overlayConnectedPositions['top-end'],\n              this._overlayConnectedPositions['start'],\n              this._overlayConnectedPositions['start-top'],\n              this._overlayConnectedPositions['start-bottom'],\n              this._overlayConnectedPositions['end'],\n              this._overlayConnectedPositions['end-top'],\n              this._overlayConnectedPositions['end-bottom']\n            );\n          }\n        });\n\n        if (!connectedPositions.length) {\n          connectedPositions = [\n            this._overlayConnectedPositions['bottom-start'],\n            this._overlayConnectedPositions['bottom-end'],\n            this._overlayConnectedPositions['top-start'],\n            this._overlayConnectedPositions['top-end']\n          ];\n        }\n      }\n\n      this._overlayWithPortal = this._overlayService.openOverlayWithPortal(\n        new ComponentPortal(AdaptDropdownWindow2Component, null, this._injector),\n        {\n          origin: this.positionTo || this._anchor?.anchorEl || this._el.nativeElement,\n          transformOriginSelector: '.adapt-dd-menu',\n          scrollStrategy: (this._isMobile || this._isTablet) ? 'block' : 'reposition',\n          positionStrategy: (this._isMobile || this._isTablet) ? (this._mobileView.isPicker ? 'center' : null) : 'connected',\n          connectedPositions: connectedPositions\n        },\n        {\n          hasBackdrop: this._isMobile || this._isTablet\n        }\n      );\n\n      // Process detach action invoked from Position/Scroll strategies\n      this._overlayWithPortal.overlayRef.detachments()\n        .pipe(takeUntil(this._overlayWithPortal.destroy$))\n        .subscribe(() => {\n          this._closeOverlay(null, true);\n        });\n\n      // Process keydown\n      this._overlayWithPortal.overlayRef.keydownEvents()\n        .pipe(takeUntil(this._overlayWithPortal.destroy$))\n        .subscribe(event => {\n          if (getEventKeyCode(event) === ESCAPE && (this.autoClose || this.closeOnEscape)) {\n            this._closeOverlay(AdaptDropdownCloseReason.Esc);\n          }\n        });\n\n      // Process inside click\n      fromEvent(this._overlayWithPortal.overlayRef.overlayElement, 'click')\n        .pipe(takeUntil(this._overlayWithPortal.destroy$))\n        .subscribe(() => {\n          if (this.autoClose === true || this.autoClose === 'inside') {\n            this.close(AdaptDropdownCloseReason.ClickInside);\n          }\n        });\n\n      // Process outside click\n      this._overlayWithPortal.overlayRef.outsidePointerEvents()\n        .pipe(takeUntil(this._overlayWithPortal.destroy$))\n        .subscribe((event) => {\n          if (!this._isEventFromToggle(event) && (this.autoClose === true || this.autoClose === 'outside')) {\n            this._closeOverlay(AdaptDropdownCloseReason.ClickOutside);\n          }\n        });\n\n      this._overlayWithPortal.componentRef.instance.animationMode = this._animationMode;\n      this._overlayWithPortal.componentRef.instance.autoFocusFirst = this.autoFocusFirst;\n      this._overlayWithPortal.componentRef.instance.content = this._menu;\n      this._overlayWithPortal.componentRef.instance.customClass = this.customClass;\n      this._overlayWithPortal.componentRef.instance.eventInvokedFrom = eventInvokedFrom;\n      this._overlayWithPortal.componentRef.instance.focusNextElementAfterClose = this.focusNextElementAfterClose;\n      this._overlayWithPortal.componentRef.instance.holdFocusInMenu = this.holdFocusInMenu;\n      this._overlayWithPortal.componentRef.instance.holdFocusOnOpen = this.holdFocusOnOpen;\n      this._overlayWithPortal.componentRef.instance.isMobile = this._isMobile;\n      this._overlayWithPortal.componentRef.instance.isTablet = this._isTablet;\n      this._overlayWithPortal.componentRef.instance.mobileView = this._mobileView;\n      this._overlayWithPortal.componentRef.instance.restoreFocusAfterClose = this.restoreFocusAfterClose;\n      this._overlayWithPortal.componentRef.instance.templateRef =\n        this._menuTemplateComponent ? this._menuTemplateComponent.templateRef : (this._menuTemplate ? this._menuTemplate.menuTemplateRef : null);\n\n      this._overlayWithPortal.componentRef.instance.popupAnimationDone\n        .pipe(takeUntil(this._overlayWithPortal.destroy$))\n        .subscribe(animationEvent => {\n          this.popupAnimationDone.emit({...animationEvent, eventInvokedFrom: eventInvokedFrom});\n        });\n\n      this._open = true;\n\n      this._markAsActive();\n\n      this.onOpen.emit();\n\n      // Overlay is being created asynchronously so need to run change detection on open manually\n      this._overlayWithPortal.componentRef.changeDetectorRef.detectChanges();\n    }\n  }\n\n  private _closeOverlay(reason: AdaptDropdownCloseReason, force?: boolean): void {\n    if (this._overlayWithPortal) {\n      if (force) {\n        this.popupAnimationDone.next(null);\n        this._overlayWithPortal.destroy();\n        this._overlayWithPortal = null;\n        this._closing = false;\n        this._closeIfActive();\n      } else {\n        this._closing = true;\n        this._overlayWithPortal.overlayRef.detachBackdrop();\n        this._overlayWithPortal.componentRef.instance.close()\n          .pipe(takeUntil(this._overlayWithPortal.destroy$))\n          .subscribe(() => {\n            this._overlayWithPortal.destroy();\n            this._overlayWithPortal = null;\n            this._closing = false;\n            this._closeIfActive();\n          });\n      }\n\n      // Avoid emitting close event double time when close animation already run\n      if (this._open) {\n        this._open = false;\n        this.onClose.emit(reason);\n      }\n    }\n\n    if (this._removeTapEventListener) {\n      this._removeTapEventListener();\n    }\n  }\n\n  private _closeFromClick(e: MouseEvent): void {\n    if (this.autoClose && e.button !== 2 && !this._isEventFromToggle(e)) {\n      if (this.autoClose === true) {\n        this.close(this.isEventFromMenu(e) ? AdaptDropdownCloseReason.ClickInside : AdaptDropdownCloseReason.ClickOutside);\n\n      } else if (this.autoClose === 'inside' && this.isEventFromMenu(e)) {\n        this.close(AdaptDropdownCloseReason.ClickInside);\n\n      } else if (this.autoClose === 'outside' && !this.isEventFromMenu(e)) {\n        this.close(AdaptDropdownCloseReason.ClickOutside);\n      }\n    }\n  }\n\n  private _isEventFromToggle(e: Event): boolean {\n    return this._anchor.isEventFrom(e);\n  }\n\n  private _markAsActive(): void {\n    AdaptDropdownDirective.ActivePicker = this;\n  }\n\n  private _closeIfActive(): void {\n    if (AdaptDropdownDirective.ActivePicker && (AdaptDropdownDirective.ActivePicker === this)) {\n      AdaptDropdownDirective.ActivePicker.close(null);\n      AdaptDropdownDirective.ActivePicker = null;\n    }\n  }\n\n  private _closeActive(): void {\n    if (AdaptDropdownDirective.ActivePicker && this.autoClose) {\n      AdaptDropdownDirective.ActivePicker.close(null);\n      AdaptDropdownDirective.ActivePicker = null;\n    }\n  }\n}\n"]}