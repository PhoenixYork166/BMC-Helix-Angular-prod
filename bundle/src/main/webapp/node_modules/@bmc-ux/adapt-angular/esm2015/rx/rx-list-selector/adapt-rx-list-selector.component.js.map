{"version":3,"file":"adapt-rx-list-selector.component.js","sourceRoot":"","sources":["../../../../../../libs/adapt-angular/src/rx/rx-list-selector/adapt-rx-list-selector.component.ts","../../../../../../libs/adapt-angular/src/rx/rx-list-selector/adapt-rx-list-selector.component.html"],"names":[],"mappings":"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","sourcesContent":["import {query, transition, trigger, useAnimation} from '@angular/animations';\nimport {CdkDragDrop, moveItemInArray} from '@angular/cdk/drag-drop';\nimport {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  HostBinding,\n  Input,\n  NgZone,\n  OnInit,\n  Optional,\n  Self,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport {NgControl} from '@angular/forms';\nimport {merge, toString, without} from 'lodash-es';\nimport {noop} from 'rxjs';\nimport {take, takeUntil} from 'rxjs/operators';\nimport {ANIMATION_NAME} from '../../common/animation';\nimport {KeyValueObject} from '../../common/common.models';\nimport {AdaptTranslateService} from '../../common/i18n/index';\nimport {\n  AdaptRadarAngularCustomEventName,\n  AdaptRadarAngularCustomEventType,\n  AdaptRadarAngularService\n} from '../../common/radar/adapt-radar';\nimport {AdaptRxFeedbackComponent, AdaptRxFormControlDirective} from '../form-control/index';\nimport {RxSelectionChangeEvent, RxSelectOption, RxSelectOptionsGroup} from '../rx-select/index';\nimport {ListSelectorTexts, RxListSelectorTextsModel} from './adapt-rx-list-selector.models';\n\n@Component({\n  selector: 'adapt-rx-list-selector',\n  templateUrl: './adapt-rx-list-selector.component.html',\n  animations: [\n    trigger('listAnimation', [\n      transition(':enter, * => 0', []),\n      transition(':decrement', [\n        query('.adapt-list-builder__list-wrp:leave', [\n          useAnimation(ANIMATION_NAME.itemOut)\n        ], {optional: true})\n      ]),\n      transition(':increment', [\n        query('.adapt-list-builder__list-wrp:enter', [\n          useAnimation(ANIMATION_NAME.itemIn)\n        ], {optional: true})\n      ]),\n    ])\n  ],\n})\nexport class AdaptRxListSelectorComponent extends AdaptRxFormControlDirective implements OnInit {\n  protected controlName: string = 'list-selector';\n\n  analyticsComponentName: typeof AdaptRadarAngularCustomEventName = AdaptRadarAngularCustomEventName;\n\n  selectedListItems: RxSelectOption[] = [];\n  hideControls: boolean = false;\n  searchFocus: boolean = false;\n\n  @HostBinding('attr.id') externalId: string = this.id;\n  @HostBinding('class.rx-list-selector') defaultHostClass: boolean = true;\n\n  @ViewChild('adaptRxFeedbackRef', {static: true}) adaptRxFeedbackRef: AdaptRxFeedbackComponent;\n\n  /**\n   * Options list. See <a href=\"#/components/building-blocks/rx-select/api\" target=\"_blank\">rx-select API</a> for more details.\n   * @docs-default\n   */\n  @Input() options: (RxSelectOption | RxSelectOptionsGroup)[] = [];\n\n  /**\n   * Formatter that transforms the option into a string. See <a href=\"#/components/building-blocks/rx-select/api\" target=\"_blank\">rx-select API</a> for more details.\n   * @docs-default option => option['name']\n   */\n  @Input() optionFormatter: (option: RxSelectOption) => string = toString;\n\n  /**\n   * Template for displaying option value. See <a href=\"#/components/building-blocks/rx-select/api\" target=\"_blank\">rx-select API</a> for more details.\n   * @docs-default\n   */\n  @Input() optionContentTemplate: TemplateRef<{ $implicit: RxSelectOption }>;\n\n  /**\n   * Function resolves disabled option. See <a href=\"#/components/building-blocks/rx-select/api\" target=\"_blank\">rx-select API</a> for more details.\n   * @docs-default option => option['disabled']\n   */\n  @Input() disabledOptionResolver: (option: RxSelectOption) => boolean = this._defaultDisabledOptionResolver.bind(this);\n\n  /**\n   * Formatter that transforms the option list into a title string. See details of method implementation below.\n   * @docs-default option => option['title']\n   */\n  @Input() titleFormatter: (options: RxSelectOption[]) => string = this._defaultTitleFormatterResolver.bind(this);\n\n  /**\n   * Configurable text for component. See details of RxListSelectorTextsModel interface below.\n   * @docs-default\n   */\n  @Input()\n  set texts(value: RxListSelectorTextsModel) {\n    this._texts = merge(this._defaultTexts, value);\n  }\n\n  get listSelectorTexts(): ListSelectorTexts {\n    return {...this._texts.listSelectorTexts};\n  }\n\n  get selectTexts(): ListSelectorTexts {\n    return {...this._texts.selectTexts};\n  }\n\n  /**\n   * Formatter that transforms the selected option into a string to be visible in the list.\n   * @docs-default option => option['name']\n   */\n  @Input() listItemFormatter: (option: RxSelectOption) => string = toString;\n\n  /**\n   * Template for displaying selected option in the list.\n   * @docs-default\n   */\n  @Input() listItemContentTemplate: TemplateRef<{ $implicit: RxSelectOption }>;\n\n  /**\n   * Function to process onSelectionChange emitted value from RxSelect. See <a href=\"#/components/building-blocks/rx-select/api\" target=\"_blank\">rx-select API</a> for more details.\n   * @docs-default\n   */\n  @Input() resolveSelectionChange: (rxSelectChangeEvent: RxSelectionChangeEvent) => void = noop;\n\n  /**\n   * Specify the max-height of the inner list. If there is no room, scroll will appear.\n   * @docs-default\n   */\n  @Input() maxHeight: string;\n\n  /**\n   * Enable dragging for the list.\n   * @docs-default true\n   */\n  @Input() enableDnD: boolean = true;\n\n  private _defaultTexts: RxListSelectorTextsModel = {listSelectorTexts: {}, selectTexts: {}};\n  private _texts: RxListSelectorTextsModel = {listSelectorTexts: {}, selectTexts: {}};\n  private _selectedListItemsOnInit: RxSelectOption[] = [];\n\n  constructor(@Optional() @Self() public ngControl: NgControl,\n              _changeDetectorRef: ChangeDetectorRef,\n              public ts: AdaptTranslateService,\n              private _ngZone: NgZone,\n              _adaptRadarService: AdaptRadarAngularService,\n              _elem: ElementRef<HTMLElement>) {\n    super(ngControl, ts, _adaptRadarService, _elem, AdaptRadarAngularCustomEventName.AdaptRxListSelector, _changeDetectorRef);\n    this.setDefaultTexts(ts.getCurrentLanguage());\n  }\n\n  /**\n   * Check if the control has UI error state\n   */\n  get hasDangerState(): boolean {\n    return !this.readonly && this.adaptRxFeedbackRef.hasUIErrorState;\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n\n    this._selectedListItemsOnInit = [...this.selectedListItems];\n\n    // Subscribe on first model change to get model value\n    this.ngControl.valueChanges.pipe(takeUntil(this.destroy$), take(1)).subscribe(value => {\n      if (value?.length) {\n        this._selectedListItemsOnInit = [...value];\n      }\n    });\n  }\n\n  setDefaultTexts(translation: KeyValueObject): void {\n    this._defaultTexts.listSelectorTexts.requiredText = translation['adapt.common.required'];\n    this._defaultTexts.listSelectorTexts.notFound = translation['adapt.listSelector.notFound'];\n    this._defaultTexts.listSelectorTexts.delete = translation['adapt.listSelector.remove'];\n\n    this.texts = this._defaultTexts;\n  }\n\n  writeValue(value: RxSelectOption[]): void {\n    this.selectedListItems = Array.isArray(value) ? value : [];\n  }\n\n  deselectItem(item: RxSelectOption): void {\n    this.selectedListItems = without(this.selectedListItems, item);\n\n    this._updateControlModel();\n  }\n\n  updateListBuilder(): void {\n    this._adaptRadarService.sendCustomEventForAllProviders(AdaptRadarAngularCustomEventName.AdaptRxListSelector, {\n      GroupName: this.adaptRadarGroupName,\n      EventType: AdaptRadarAngularCustomEventType.ValueChanged,\n      Label: this.label,\n      Required: this.required,\n      ReadOnly: this.readonly,\n      Disabled: this.disabled,\n      DefaultNumberOfSelectedItems: this._selectedListItemsOnInit.length,\n      TotalSelected: this.selectedListItems.length,\n      TotalOptions: this.options.length\n    });\n\n    this._onChange(this.selectedListItems);\n  }\n\n  dropdownClosed(value: boolean): void {\n    this._onTouched();\n\n    if (value) {\n      this.searchFocus = true;\n\n      return;\n    }\n\n    this._onChange(this.selectedListItems);\n  }\n\n  drop(event: CdkDragDrop<string[]>): void {\n    moveItemInArray(this.selectedListItems, event.previousIndex, event.currentIndex);\n\n    this.hideControls = false;\n    this._updateControlModel();\n  }\n\n  onUp(e: KeyboardEvent, prevIndex: number): void {\n    if (this.nonInteractive) {\n      return;\n    }\n\n    e.preventDefault();     // we do not want to scroll the page\n\n    moveItemInArray(this.selectedListItems, prevIndex, (prevIndex === 0) ? 0 : --prevIndex);\n\n    this._ngZone.onStable\n      .pipe(takeUntil(this.destroy$), take(1))\n      .subscribe(() => {\n        (e.target as HTMLElement).focus();\n      });\n\n    this._updateControlModel();\n  }\n\n  onDown(e: KeyboardEvent, prevIndex: number): void {\n    if (this.nonInteractive) {\n      return;\n    }\n    e.preventDefault();\n\n    let currentIndex = this.selectedListItems.length;\n\n    if (prevIndex !== this.selectedListItems.length) {\n      currentIndex = prevIndex++;\n    }\n    moveItemInArray(this.selectedListItems, prevIndex, currentIndex);\n\n    this._updateControlModel();\n  }\n\n  move(): void {\n    this.hideControls = true;\n  }\n\n  /**\n   * Implementation from the base class\n   */\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  protected _focusNativeElement(): void {\n  }\n\n  private _defaultDisabledOptionResolver(option: RxSelectOption): boolean {\n    return option.disabled;\n  }\n\n  private _defaultTitleFormatterResolver(): string {\n    if (!this.selectedListItems.length) {\n      return this.ts.getCurrentLanguage()['adapt.select.defaultTitle'];\n    }\n\n    if (this.selectedListItems.length === 1) {\n      return this.selectedListItems.map((option: RxSelectOption) => this.optionFormatter(option)).join(', ');\n    }\n\n    return `${this.selectedListItems.length} ${this.ts.getCurrentLanguage()['adapt.select.checkedPlural']}`;\n  }\n\n  private _updateControlModel(): void {\n    this._onTouched();\n    this._onChange(this.selectedListItems);\n  }\n}\n","<ng-template #listItemContentDefaultRef let-listItem>\n  {{listItemFormatter(listItem)}}\n</ng-template>\n\n<!--  Label  -->\n<adapt-rx-control-label [class.has-danger]=\"hasDangerState\"\n                        [class.has-warning]=\"warningMessage\"\n                        [label]=\"label\"\n                        [subLabel]=\"subLabel\"\n                        [requiredLabel]=\"listSelectorTexts.requiredText\"\n                        [showRequiredLabel]=\"required\"\n                        [tooltip]=\"tooltip\"\n                        [testID]=\"testID\"></adapt-rx-control-label>\n<!--  Label END  -->\n\n<div class=\"adapt-list\" [class.has-danger]=\"hasDangerState\"\n                        [class.has-warning]=\"warningMessage\">\n\n  <adapt-rx-select [(ngModel)]=\"selectedListItems\"\n                   [adaptRadarDisableEventSending]=\"true\"\n                   [autofocus]=\"searchFocus\"\n                   [options]=\"options\"\n                   [optionFormatter]=\"optionFormatter\"\n                   [optionContentTemplate]=\"optionContentTemplate\"\n                   [disabledOptionResolver]=\"disabledOptionResolver\"\n                   [titleFormatter]=\"titleFormatter\"\n                   [ariaInvalid]=\"hasDangerState\"\n                   [ariaErrorMessage]=\"ariaErrorMessage\"\n                   [texts]=\"selectTexts\"\n                   [disabled]=\"disabled\"\n                   [readonly]=\"readonly\"\n                   [multiple]=\"true\"\n                   [selectAllButton]=\"true\"\n                   [deselectAllButton]=\"true\"\n                   [enableFilter]=\"true\"\n                   [testID]=\"testID + '_select'\"\n                   (onSelectionChange)=\"resolveSelectionChange($event)\"\n                   (ngModelChange)=\"updateListBuilder()\"\n                   (onPopupOpenChange)=\"dropdownClosed($event)\">\n  </adapt-rx-select>\n\n  <ng-container *ngIf=\"!selectedListItems.length\">\n    <adapt-empty-state [type]=\"'objects'\"\n                       [adaptRadarDisableEventSending]=\"true\"\n                       [label]=\"listSelectorTexts.notFound\"\n                       [attr.data-testid]=\"testID + '_empty'\">\n      <div class=\"empty-info\">\n        <ng-content select=\".empty-text\"></ng-content>\n      </div>\n    </adapt-empty-state>\n  </ng-container>\n\n  <div cdkDropList class=\"adapt-list-container\"\n       #list\n       [style.maxHeight]=\"maxHeight\"\n       (cdkDropListDropped)=\"drop($event)\"\n       [cdkDropListDisabled]=\"disabled || readonly || !enableDnD\"\n       [@listAnimation]=\"selectedListItems.length\">\n    <ng-container *ngFor=\"let item of selectedListItems; let i = index\">\n      <div class=\"adapt-list-builder__list-wrp\" cdkDrag\n           (cdkDragMoved)=\"move()\" [cdkDragDisabled]=\"disabled\">\n        <div class=\"adapt-list__item-placeholder\" *cdkDragPlaceholder></div>\n        <adapt-rx-list-item [item]=\"item\"\n                            [itemFormatter]=\"listItemFormatter\"\n                            [itemContentTemplate]=\"listItemContentTemplate || listItemContentDefaultRef\"\n                            [id]=\"id + '_item_' + i\"\n                            [testID]=\"testID + '_item-' + i\"\n                            [disabled]=\"disabledOptionResolver(item) || disabled\"\n                            [readonly]=\"readonly\"\n                            [texts]=\"listSelectorTexts\"\n                            [hideControls]=\"hideControls\"\n                            [hideEdit]=\"true\"\n                            (onItemDelete)=\"deselectItem($event)\"\n                            (onKeyUp)=\"onUp($event, i)\"\n                            (onKeyDown)=\"onDown($event, i)\">\n        </adapt-rx-list-item>\n      </div>\n    </ng-container>\n  </div>\n</div>\n\n<!--  Component Feedback  -->\n<adapt-rx-feedback #adaptRxFeedbackRef\n                   [ariaErrorMessage]=\"ariaErrorMessage\"\n                   [errors]=\"ngControl.errors\"\n                   [warningMessage]=\"warningMessage\"\n                   [controlTouched]=\"ngControl.touched\"\n                   (messageAppeared)=\"handleMessageAppeared($event, analyticsComponentName.AdaptRxListSelector)\"></adapt-rx-feedback>\n"]}