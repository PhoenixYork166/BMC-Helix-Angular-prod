{"version":3,"file":"adapt-custom-actions.component.js","sourceRoot":"","sources":["../../../../../libs/adapt-angular/src/custom-actions/adapt-custom-actions.component.ts","../../../../../libs/adapt-angular/src/custom-actions/adapt-custom-actions.html"],"names":[],"mappings":"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","sourcesContent":["import {animate, group, style, transition, trigger, useAnimation} from '@angular/animations';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {ChangeDetectionStrategy, Component, ElementRef, Input, OnInit, QueryList, ViewChildren} from '@angular/core';\nimport {ANIMATION_DURATION, ANIMATION_NAME, ANIMATION_TIMING_FUNCTION} from '../common/animation';\nimport {AdaptCustomAction, AdaptCustomActionsAlignEnum} from './adapt-custom-actions.model';\nimport {AdaptFocusMonitorDirective} from '../common/focus-monitor.directive';\nimport {\n  AdaptRadarAngularCustomEventName,\n  AdaptRadarAngularGenericDirective,\n  AdaptRadarAngularService\n} from '../common/radar/adapt-radar';\n\nlet nextUniqueId = 0;\n\n@Component({\n  selector: 'adapt-custom-actions',\n  templateUrl: './adapt-custom-actions.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styles: [`\n    .custom-action-btn {\n      border: 0;\n      height: 1.4375rem;\n      white-space: nowrap;\n    }\n\n    /* :before and :after added instead padding/margin for smoother animation */\n    .custom-action-btn-label:after,\n    .custom-action-btn__right .custom-action-btn-label:before {\n      content: '';\n      display: inline-block;\n      padding-right: 0.75rem;\n    }\n\n    .custom-action-btn__right .custom-action-btn-label:after {\n      display: none;\n    }\n  `],\n  animations: [\n    trigger('buttonAnimationLeft', [\n      transition('visible => void', [\n        animate(ANIMATION_DURATION.fast + ' ' + ANIMATION_TIMING_FUNCTION.base.transitionIn,\n          style({\n            width: 0,\n            opacity: 0,\n          })\n        )\n      ]),\n      transition('void => visible', [\n        style({width: 0, opacity: 0}),\n        group([\n          animate(ANIMATION_DURATION.fast + ' ' + ANIMATION_TIMING_FUNCTION.base.transitionInOut,\n            style({\n              width: '*',\n            })\n          ),\n          useAnimation(ANIMATION_NAME.moveIn, {\n            params: {\n              translateX: -100,\n              unit: 'px',\n              timingFunction: ANIMATION_TIMING_FUNCTION.base.transitionInOut,\n            }\n          })\n        ])\n      ])\n    ]),\n\n    trigger('buttonAnimationRight', [\n\n      transition('visible => void', [\n        animate(ANIMATION_DURATION.fast + ' ' + ANIMATION_TIMING_FUNCTION.base.transitionIn,\n          style({\n            width: 0,\n            opacity: 0,\n          })\n        )\n      ]),\n      transition('void => visible', [\n        style({width: 0, opacity: 0}),\n        group([\n          animate(ANIMATION_DURATION.fast + ' ' + ANIMATION_TIMING_FUNCTION.base.transitionInOut,\n            style({\n              width: '*'\n            })\n          ),\n          useAnimation(ANIMATION_NAME.moveIn, {\n            params: {\n              translateX: 100,\n              unit: 'px',\n              timingFunction: ANIMATION_TIMING_FUNCTION.base.transitionInOut,\n            }\n          })\n        ])\n      ])\n    ])\n  ]\n})\nexport class AdaptCustomActionsComponent extends AdaptRadarAngularGenericDirective implements OnInit {\n  _uniqueId: string = `adapt-actions-${++nextUniqueId}`;\n  isRtl: boolean = false;\n\n  @Input() alignedTo: AdaptCustomActionsAlignEnum = AdaptCustomActionsAlignEnum.Left;\n  @Input() actions: AdaptCustomAction[];\n  @Input() testID: string = this._uniqueId;\n\n  @ViewChildren(AdaptFocusMonitorDirective, {read: AdaptFocusMonitorDirective}) focusMonitorDirectiveQueryList: QueryList<AdaptFocusMonitorDirective>;\n\n  constructor(private _dir: Directionality,\n              _adaptRadarService: AdaptRadarAngularService,\n              _elem: ElementRef<HTMLElement>) {\n    super(_adaptRadarService, _elem, AdaptRadarAngularCustomEventName.AdaptCustomActions);\n  }\n\n  ngOnInit(): void {\n    this.isRtl = this._dir.value === 'rtl';\n  }\n\n  trackByActions(index: number, action: AdaptCustomAction): string | number {\n    return action.id || index;\n  }\n\n  getActionClass(customClass: string): string {\n    return (customClass ? customClass : '') + ' '\n      + (this.alignedTo === AdaptCustomActionsAlignEnum.Right ? 'custom-action-btn__right' : '');\n  }\n\n  getButtonLeftAnimationState(isRtl: boolean): string {\n    return this._getAnimationState(isRtl ? AdaptCustomActionsAlignEnum.Right : AdaptCustomActionsAlignEnum.Left);\n  }\n\n  getButtonRightAnimationState(isRtl: boolean): string {\n    return this._getAnimationState(isRtl ? AdaptCustomActionsAlignEnum.Left : AdaptCustomActionsAlignEnum.Right);\n  }\n\n  clickHandler(action: AdaptCustomAction, $event: MouseEvent | KeyboardEvent): void {\n    if (action && action.onClick) {\n      action.onClick($event);\n    }\n  }\n\n  clickWithKeyboard(action: AdaptCustomAction, $event: KeyboardEvent): void {\n    $event.stopPropagation();\n    $event.preventDefault();\n    this.clickHandler(action, $event);\n  }\n\n  private _getAnimationState(alignTo: AdaptCustomActionsAlignEnum): string {\n    return this.alignedTo === alignTo ? 'visible' : null;\n  }\n}\n","<ng-container *ngIf=\"actions && actions.length\">\n  <ng-container *ngFor=\"let action of actions; trackBy: trackByActions\">\n    <button *ngIf=\"action.visible\"\n            [@buttonAnimationLeft]=\"getButtonLeftAnimationState(isRtl)\"\n            [@buttonAnimationRight]=\"getButtonRightAnimationState(isRtl)\"\n            type=\"button\"\n            class=\"btn btn-link p-0 custom-action-btn\"\n            [attr.data-testid]=\"testID + '_' + action.name\"\n            [ngClass]=\"getActionClass(action.customClass)\"\n            (mousedown)=\"action.onMouseDown && action.onMouseDown($event)\"\n            (click)=\"clickHandler(action, $event)\"\n            (keydown.enter)=\"clickWithKeyboard(action, $event)\"\n            (keydown.space)=\"clickWithKeyboard(action, $event)\"\n            adaptFocusMonitor>\n      <span class=\"custom-action-btn-label\">{{action.name}}</span>\n    </button>\n  </ng-container>\n</ng-container>\n"]}