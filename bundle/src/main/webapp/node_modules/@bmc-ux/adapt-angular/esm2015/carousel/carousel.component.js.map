{"version":3,"file":"carousel.component.js","sourceRoot":"","sources":["../../../../../libs/adapt-angular/src/carousel/carousel.component.ts","../../../../../libs/adapt-angular/src/carousel/carousel.component.html"],"names":[],"mappings":"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","sourcesContent":["import {AdaptDeviceDetectionService} from '../common/device-detection.service';\nimport {ANIMATION_NAME, ANIMATION_TIMING_FUNCTION} from '../common/animation';\nimport {AdaptTranslateService} from '../common/i18n/index';\nimport {\n  AfterViewInit,\n  Component,\n  ContentChildren, ElementRef,\n  HostListener,\n  Input,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  QueryList,\n  ViewEncapsulation\n} from '@angular/core';\nimport {asapScheduler, ReplaySubject, Subscription, timer} from 'rxjs';\nimport {take, takeUntil} from 'rxjs/operators';\nimport {animate, query, style, transition, trigger, useAnimation} from '@angular/animations';\nimport {CarouselOptions, CarouselTextsModel} from './carousel.model';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {SiemaService} from './siema.service';\nimport {\n  AdaptRadarAngularCustomEventName,\n  AdaptRadarAngularGenericDirective,\n  AdaptRadarAngularService\n} from '../common/radar/adapt-radar';\n\n\n@Component({\n  selector: 'adapt-carousel-slide',\n  // eslint-disable-next-line @angular-eslint/no-host-metadata-property\n  host: {\n    '[class.a-carousel__inner]': 'true'\n  },\n  template: '<ng-content></ng-content>'\n})\nexport class AdaptCarouselSlideComponent {\n}\n\n@Component({\n  selector: 'adapt-carousel-component',\n  // eslint-disable-next-line @angular-eslint/no-host-metadata-property\n  host: {},\n  templateUrl: './carousel.component.html',\n  encapsulation: ViewEncapsulation.None,\n  animations: [\n    trigger('closeIconAnimation', [\n      transition(':enter', [\n        useAnimation(ANIMATION_NAME.menuIn)\n      ]),\n      transition(':leave', [\n        useAnimation(ANIMATION_NAME.menuOut)\n      ])\n    ]),\n    trigger(\n      'backdropAnimation', [\n        transition(\n          'void => *', [\n            query('.modal-backdrop', [\n              useAnimation(ANIMATION_NAME.opacity)\n            ])\n          ]\n        ),\n        transition(\n          '* => void', [\n            query('.modal-backdrop', [\n              useAnimation(ANIMATION_NAME.opacity, {\n                params: {\n                  from: '*',\n                  to: '0'\n                }\n              })\n            ])\n          ]\n        )\n      ]\n    ),\n    trigger('indicatorsAnimation', [\n      transition('void => *', [\n        style({transform: 'translate3d(0,100%,0)'}),\n        animate(`.25s ${ANIMATION_TIMING_FUNCTION.base.transitionIn}`,\n          style({transform: 'translate3d(0,0,0)'}))\n      ]),\n      transition('* => void', [\n        style({transform: 'translate3d(0,0,0)'}),\n        animate(`.25s ${ANIMATION_TIMING_FUNCTION.base.transitionInOut}`,\n          style({transform: 'translate3d(0,100%,0)'}))\n      ])\n    ])\n  ],\n  providers: [SiemaService],\n  styles: [\n    `.a-carousel-wrapper, .a-carousel-overlay__close {\n      z-index: 1060\n    }\n\n    .a-carousel__controls-prev, .a-carousel__controls-next {\n      border: none;\n      background: transparent\n    }\n\n    .a-carousel__indicators-item {\n      border: none\n    }\n\n    .a-carousel__indicators-item.is-mouse-focused {\n      box-shadow: none !important;\n    }`\n  ]\n})\nexport class AdaptCarouselComponent extends AdaptRadarAngularGenericDirective implements AfterViewInit, OnDestroy, OnInit {\n  isMobileVisible: boolean = false;\n  carouselClass: string;\n  carouselControls: boolean;\n  autoPlaySubscription: Subscription;\n  defaultTexts: {\n    next?: string;\n    previous?: string;\n  } = {};\n\n  /**\n   * Full screen mode for mobile devices\n   * @docs-default true\n   */\n  @Input() fullScreenMode: boolean = true;\n  @Input() indicators: boolean = true;\n  @Input() autoPlayInterval: number = 0;\n\n  /**\n   * See below AdaptCarouselOptions\n   * @docs-default\n   */\n  @Input() options: CarouselOptions;\n  @Input() texts: CarouselTextsModel;\n\n  @ContentChildren(AdaptCarouselSlideComponent) slides: QueryList<AdaptCarouselSlideComponent>;\n\n  get isMobile(): boolean {\n    return this.dt.deviceMobile();\n  }\n\n  private _destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  constructor(public siema: SiemaService,\n              private dt: AdaptDeviceDetectionService,\n              private dir: Directionality,\n              private _ngZone: NgZone,\n              private ts: AdaptTranslateService,\n              _adaptRadarService: AdaptRadarAngularService,\n              _elem: ElementRef<HTMLElement>) {\n    super(_adaptRadarService, _elem, AdaptRadarAngularCustomEventName.AdaptCarousel);\n\n    const translation = ts.getCurrentLanguage();\n\n    this.defaultTexts.previous = translation['adapt.common.previous'];\n    this.defaultTexts.next = translation['adapt.common.next'];\n  }\n\n  @HostListener('mouseover', ['$event'])\n  onMouseOver($event: MouseEvent): void {\n    if (!this.isMobile && !($event?.target as HTMLElement)?.classList.contains('a-carousel__indicators-item')) {\n      this._disableAutoSlide();\n    }\n  }\n\n  @HostListener('mouseout')\n  onMouseOut(): void {\n    this._enableAutoSlide();\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n\n    timer(0, asapScheduler)\n      .pipe(takeUntil(this._destroyed$))\n      .subscribe(() => {\n        this._ngZone.runOutsideAngular(() => {\n          this.siema.run(this.options);\n        });\n\n        this._enableAutoSlide();\n      });\n  }\n\n  ngOnInit(): void {\n    this.carouselClass = this.options.selector.replace('.', '');\n    this.options.rtl = this.dir.value === 'rtl';\n    this.carouselControls = !this.isMobile || (this.options.allowMobileControls && this.isMobile);\n    this.texts = {...this.defaultTexts, ...this.texts};\n  }\n\n  ngOnDestroy(): void {\n    this._destroyed$.next(true);\n    this._destroyed$.complete();\n\n    this.siema.destroy();\n    this.siema = null;\n\n    this._disableAutoSlide();\n  }\n\n\n  onGoTo(index: number): void {\n    this.siema.goTo(index);\n  }\n\n  onFullScreen(e: Event): void {\n    const {type} = e;\n\n    if (this.isMobile && this.fullScreenMode && type === 'tap') {\n      this._ngZone.onStable\n        .pipe(takeUntil(this._destroyed$), take(1))\n        .subscribe(this.siema.resizeHandler.bind(this));\n\n      this.isMobileVisible = true;\n    }\n  }\n\n  closeBackDrop(e: Event): void {\n    e.preventDefault();\n\n    this._ngZone.onStable\n      .pipe(takeUntil(this._destroyed$), take(1))\n      .subscribe(this.siema.resizeHandler.bind(this));\n\n    this.isMobileVisible = false;\n  }\n\n  private _enableAutoSlide(): void {\n    if (this.autoPlayInterval && (!this.autoPlaySubscription || this.autoPlaySubscription.closed)) {\n      const _timer = timer(this.autoPlayInterval, this.autoPlayInterval);\n\n      this.autoPlaySubscription = _timer.subscribe(() => this.siema.next(1));\n    }\n  }\n\n  private _disableAutoSlide(): void {\n    if (this.autoPlayInterval && this.autoPlaySubscription) {\n      this.autoPlaySubscription.unsubscribe();\n    }\n  }\n}\n","<div [@backdropAnimation] *ngIf=\"isMobileVisible\">\n  <div class=\"modal-backdrop show a-carousel-overlay\"></div>\n</div>\n\n<div [class.a-carousel-wrapper]=\"isMobileVisible\">\n  <div class=\"a-carousel\" [class.a-carousel--mobile]=\"isMobileVisible\">\n    <div class=\"{{ carouselClass }} adapt-carousel-wrapper\" (tap)=\"onFullScreen($event)\"  data-adapt=\"hammer-pan-y\">\n      <ng-content select=\"adapt-carousel-slide\"></ng-content>\n    </div>\n\n    <ng-container *ngIf=\"carouselControls\">\n      <div class=\"a-carousel__controls\" *ngIf=\"slides.toArray().length > 1\">\n        <button type=\"button\"  class=\"a-carousel__controls-prev\" role=\"button\" tabindex=\"0\" (click)=\"siema.prev(1);\">\n          <span aria-hidden=\"true\" class=\"carousel-control-prev-icon\"></span>\n          <span class=\"sr-only\">{{texts.previous}}</span>\n        </button>\n        <button type=\"button\" class=\"a-carousel__controls-next\" role=\"button\" tabindex=\"0\" (click)=\"siema.next(1);\">\n          <span aria-hidden=\"true\" class=\"carousel-control-next-icon\"></span>\n          <span class=\"sr-only\">{{texts.next}}</span>\n        </button>\n      </div>\n    </ng-container>\n    <div class=\"a-carousel__indicators\" [ngClass]=\"{'is-mobile': isMobile && !isMobileVisible}\"\n         *ngIf=\"slides.length > 1 && indicators\">\n      <button type=\"button\"\n              role=\"button\"\n              [attr.aria-pressed]=\"siema.currentSlide === index\"\n              class=\"a-carousel__indicators-item\" *ngFor=\"let indicator of slides; let index = index\"\n              tabindex=\"0\"\n              [class.is-active]=\"siema.currentSlide === index\"\n              (click)=\"onGoTo(index);\">\n        <span class=\"sr-only\">{{index + 1}}</span>\n      </button>\n    </div>\n  </div>\n</div>\n<a class=\"a-carousel-overlay__close d-icon-cross_adapt\"\n   [@closeIconAnimation]\n   (tap)=\"closeBackDrop($event)\"\n   (keyup.esc)=\"closeBackDrop($event)\" *ngIf=\"isMobileVisible\"></a>\n\n\n\n"]}