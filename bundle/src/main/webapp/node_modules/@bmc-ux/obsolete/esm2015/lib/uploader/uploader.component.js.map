{"version":3,"file":"uploader.component.js","sourceRoot":"","sources":["../../../../../../libs/adapt-obsolete/src/lib/uploader/uploader.component.ts","../../../../../../libs/adapt-obsolete/src/lib/uploader/uploader.component.html"],"names":[],"mappings":"AAAA,uDAAuD;AAEvD,OAAO,EAAC,SAAS,IAAI,mBAAmB,EAAE,aAAa,EAAC,MAAM,MAAM,CAAC;AACrE,OAAO,EAEL,iBAAiB,EACjB,SAAS,EACT,UAAU,EACV,YAAY,EACZ,WAAW,EACX,QAAQ,EACR,KAAK,EAEL,eAAe,EAIf,MAAM,EACN,SAAS,EACT,SAAS,EAET,SAAS,EACT,YAAY,EACZ,iBAAiB,EAClB,MAAM,eAAe,CAAC;AACvB,OAAO,EAAC,gBAAgB,EAAkB,MAAM,qBAAqB,CAAC;AACtE,OAAO,EAAC,cAAc,EAAC,MAAM,mBAAmB,CAAC;AAEjD,OAAO,EAAC,WAAW,EAAC,MAAM,gBAAgB,CAAC;AAC3C,OAAO,EAAC,SAAS,EAAC,MAAM,gBAAgB,CAAC;AACzC,OAAO,EACL,gCAAgC,EAEhC,qBAAqB,EACrB,0BAA0B,EAC1B,SAAS,EACT,aAAa,EACb,cAAc,EACd,oBAAoB,EACpB,0BAA0B,EAC1B,8BAA8B,EAC9B,2BAA2B,EAE3B,WAAW,EAEX,QAAQ,EAIR,YAAY,EACZ,aAAa,EAEb,WAAW,EACX,oBAAoB,EACpB,WAAW,EAEX,aAAa,EACb,gBAAgB,EAChB,OAAO,EAEP,OAAO,EAEP,YAAY,EACZ,qBAAqB,EAEtB,MAAM,uBAAuB,CAAC;AAC/B,OAAO,EAAC,KAAK,EAAC,MAAM,WAAW,CAAC;AAChC,OAAO,EAAC,iBAAiB,EAAC,MAAM,qBAAqB,CAAC;;;;;;;;;;;;;;IChDhD,wBAAA;;;IAUI,6BAAoD;IAClD,8BAAA;IAAA,+BAIkC;IAChC,YACF;IAAA,iBAAM;IACR,4BAAA;IAAA,0BAAe;;;;;IAPR,eAA0C;IAA1C,mCAA0C,uCAAA,qBAAA,iBAAA;IAK7C,eACF;IADE,kGACF;;;IAKuC,4BAAoB;IAAA,YAAgB;IAAA,iBAAO;;;IAAvB,eAAgB;IAAhB,mDAAgB;;;IAAzE,gCAAA;IAAA,gCAAwB;IAAA,YAAa;IAAA,mIAA2C;IAAA,iBAAO;IACzF,8BAAA;;;;IAD0B,eAAa;IAAb,mCAAa;IAAO,eAAW;IAAX,gCAAW;;;IADzD,8BAAA;IAAA,mIAEc;IAChB,4BAAA;;;IAHgE,eAAqB;IAArB,uCAAqB;;;IAZrF,YACA;IAAA,uHAQe;IAEf,8BAAA;IAAA,sJAIc;IAChB,0BAAA;;;IAhBE,mEACA;IAAe,eAAmC;IAAnC,4DAAmC;;;;IALtD,uCAE6C;IAC3C,0BAAA;IAAA,wIAiBc;IAChB,wBAAA;IAAA,iBAAc;;;;IApBD,8GAAgI;;;;IAuB3I,kCAE2D;;;IAD9C,mFAAmG;;;IAFlH,6BAA8G;IAC5G,0BAAA;IAAA,wGAE2D;IAC7D,wBAAA;IAAA,0BAAe;;;IAHkB,eAAiB;IAAjB,+CAAiB;;;IAQlD,+BAAuE;IACrE,0BAAA;IAAA,6BAA+B;IAAA,YAAsB;IAAA,iBAAI;IACzD,0BAAA;IAAA,2BAAkC;IAClC,0BAAA;IAAA,6BAA+B;IAAA,YAAoD;;IAAA,iBAAI;IACzF,yBAAA;IAAA,iBAAM;;;IAH2B,eAAsB;IAAtB,gDAAsB;IAEtB,eAAoD;IAApD,gGAAoD;;;IAJvF,+BAAuD;IACrD,wBAAA;IAAA,gFAIM;IAEN,0BAAA;IAAA,+BAA0C;IACxC,0BAAA;IAAA,6BAA+B;IAAA,YAAqB;IAAA,iBAAI;IACxD,0BAAA;IAAA,2BAAkC;IAClC,2BAAA;IAAA,8BAA+B;IAAA,aAA0B;;IAAA,iBAAI;IAC/D,yBAAA;IAAA,iBAAM;IAEN,2BAAA;IAAA,gCAAiD;IAC/C,2BAAA;IAAA,8BAA+B;IAAA,aAAoB;IAAA,iBAAI;IACvD,2BAAA;IAAA,4BAAkC;IAClC,2BAAA;IAAA,8BAA+B;IAAA,aAAc;IAAA,iBAAI;IACnD,yBAAA;IAAA,iBAAM;IACR,uBAAA;IAAA,iBAAM;;;IAjBwC,eAAyB;IAAzB,iDAAyB;IAOpC,eAAqB;IAArB,8CAAqB;IAErB,eAA0B;IAA1B,+DAA0B;IAI1B,eAAoB;IAApB,6CAAoB;IAEpB,eAAc;IAAd,uCAAc;;;IAQ3C,6BAAsE;IAAA,YAAmB;IAAA,iBAAI;;;IAAvB,eAAmB;IAAnB,6CAAmB;;;IACzF,6BAE4C;IAAA,YAAsB;IAAA,iBAAI;;;IAAnE,yDAAwC;IAAC,eAAsB;IAAtB,gDAAsB;;;;IAClE,kCAMmC;IAD3B,+MAA4B;IAElC,8BAAA;IAAA,2BAA6C;IAC7C,8BAAA;IAAA,4BAAM;IAAA,YAA6B;IAAA,iBAAO;IAC5C,4BAAA;IAAA,iBAAS;;;IALD,oDAAsC;IAItC,eAA6B;IAA7B,uDAA6B;;;;IAGvC,+CAY6D;IAFxC,yQAA4C,+OAAA;IAEJ,iBAAsB;;;;;IAX9D,2CAAqB,8BAAA,wBAAA,8BAAA,4DAAA,oBAAA,gCAAA,gCAAA,sCAAA,kBAAA,cAAA,wBAAA;;;;IAcxC,+CAW4E;IAFvD,yQAA4C,+OAAA;IAEW,iBAAsB;;;;;IAV7E,2CAAqB,8BAAA,8BAAA,4DAAA,oBAAA,gCAAA,gCAAA,sCAAA,kBAAA,qCAAA,wBAAA;;;;IAa5C,+BAAiF;IAC/E,4BAAA;IAAA,kCAEyC;IAF4B,8LAAS,aAAiB,IAAC;IAG9F,8BAAA;IAAA,4BAAM;IAAA,YAA0D;IAAA,iBAAO;IACzE,4BAAA;IAAA,iBAAS;IACX,0BAAA;IAAA,iBAAM;;;;;IAJI,eAA4C;IAA5C,kDAA4C;IAE5C,eAA0D;IAA1D,wFAA0D;;;IAnDxE,+BAAoE;IAClE,wBAAA;IAAA,+BAA4C;IAC1C,0BAAA;IAAA,+BAAoD;IAClD,4BAAA;IAAA,2EAA6F;IAC7F,4BAAA;IAAA,2EAEsE;IACtE,4BAAA;IAAA,uFASS;IACX,2BAAA;IAAA,iBAAM;IACN,2BAAA;IAAA,kHAYmF;;IAEnF,6BAAA;IAAA,oCAAqC;IACnC,6BAAA;IAAA,kHAWkG;;IACpG,2BAAA;IAAA,iBAAM;IAEN,6BAAA;IAAA,iFAMM;IACR,yBAAA;IAAA,iBAAM;IACR,uBAAA;IAAA,iBAAM;;;IApDI,eAAoB;IAApB,4CAAoB;IACpB,eAAqB;IAArB,6CAAqB;IAShB,eAAwB;IAAxB,gDAAwB;IAKG,eAAiC;IAAjC,qFAAiC;IAe/B,eAA+B;IAA/B,mFAA+B;IAczB,eAAiC;IAAjC,gEAAiC;;;;IAWnF,uCAC+H;IAC/H,sBAAA;IAAA,iBAAc;;;IADD,uFAAiH;;;;IAQhI,oBAAA;IAAA,6CAC4C;IAC5C,oBAAA;IAAA,iBAAoB;IACtB,kBAAA;;;IAHqB,eAAkB;IAAlB,gCAAkB,iCAAA;;;;IAW/B,+BAIgE;IAC9D,4BAAA;IAAA,kCAOkE;IAFzB,2NAAwB,KAAK,KAAE;IAGtE,8BAAA;IAAA,2BAA4C;IAC5C,YACF;IAAA,iBAAS;IACX,0BAAA;IAAA,iBAAM;;;IAfD,oDAAsC,kDAAA,qBAAA;IAQjC,eAAsC;IAAtC,oDAAsC,yCAAA;IAEtC,mDAAiC,6DAAA;IAGvC,eACF;IADE,8EACF;;;;IAGF,+BAIkE;IAChE,4BAAA;IAAA,kCAOkE;IAF1D,2NAAwB,IAAI,KAAE;IAGpC,8BAAA;IAAA,2BAA8C;IAC9C,YACF;IAAA,iBAAS;IACX,0BAAA;IAAA,iBAAM;;;IAfD,oDAAsC,kDAAA,qBAAA;IAOjC,eAAsC;IAAtC,oDAAsC,yCAAA;IAGtC,qDAAmC,6DAAA;IAGzC,eACF;IADE,gFACF;;;IAII,gCAA2E;IACzE,YACF;IAAA,iBAAO;;;IADL,eACF;IADE,uFACF;;;IACJ,gCAA0E;IACpE,YACF;IAAA,iBAAO;;;IADL,eACF;IADE,sFACF;;;IACJ,gCAA0E;IACpE,YACF;IAAA,iBAAO;;;IADL,eACF;IADE,sFACF;;;IATN,iCAA2D;IACrD,gCAAA;IAAA,wHAEO;IACX,4BAAA;IAAA,wHAEW;IACX,4BAAA;IAAA,wHAEW;IACb,0BAAA;IAAA,0BAAe;;;IAViB,gDAA0B;IACH,eAAwB;IAAxB,iDAAwB;IAG5B,eAAuB;IAAvB,gDAAuB;IAGvB,eAAuB;IAAvB,gDAAuB;;;IAQxE,6BAA2C;IACzC,8BAAA;IAAA,+BAAuC;IACrC,gCAAA;IAAA,mBAM0B;IAN1B,+BAM0B;IACxB,kCAAA;IAAA,2BAC0Q;IAC5Q,gCAAA;IAAA,iBAAM;IACN,gCAAA;IAAA,+BAK0B;IACxB,mCAAA;IAAA,4BAAyE;IAC3E,iCAAA;IAAA,iBAAM;IACR,+BAAA;IAAA,iBAAM;IACN,+BAAA;IAAA,oBAA6C;IAA7C,8BAA6C;IAAA,aAAqB;IAAA,iBAAI;IACxE,6BAAA;IAAA,0BAAe;;;IADgC,gBAAqB;IAArB,+CAAqB;;;IAGpE,6BAA0C;IACxC,8BAAA;IAAA,+BAA2E;IACzE,gCAAA;IAAA,mBAK0B;IAL1B,+BAK0B;IAChB,0CAAA;IAAA,2BAOuE;IAC7E,oCAAA;IAAA,iBAAM;IACZ,8BAAA;IAAA,iBAAM;IACN,8BAAA;IAAA,oBAC8E;IAD9E,iCAC8E;IAAA,aAAuB;IAAA,iBAAO;IAC9G,6BAAA;IAAA,0BAAe;;;IADiE,gBAAuB;IAAvB,+CAAuB;;;IAIzG,+BAAgE;IAC9D,4BAAA;IAAA,+BAAsD;IACpD,8BAAA;IAAA,mBAMyB;IANzB,+BAMyB;IACvB,gCAAA;IAAA,2BAC4Q;IAC5Q,gCAAA;IAAA,2BACgG;IAClG,8BAAA;IAAA,iBAAM;IACN,+BAAA;IAAA,oBAAsB;IAAtB,gCAAsB;IACpB,iCAAA;IAAA,mBAKyB;IALzB,gCAKyB;IACvB,mCAAA;IAAA,4BACihB;IACnhB,iCAAA;IAAA,iBAAM;IACR,+BAAA;IAAA,iBAAM;IACR,6BAAA;IAAA,iBAAM;IACN,6BAAA;IAAA,oBAA6C;IAA7C,8BAA6C;IAAA,aAAmB;IAAA,iBAAI;IACtE,2BAAA;IAAA,iBAAM;;;IADyC,gBAAmB;IAAnB,6CAAmB;;;;;IAjIxE,6BAAgC;IAC9B,sBAAA;IAAA,+BAA0C;IACxC,wBAAA;IAAA,mCAEyG;IACvG,0BAAA;IAAA,sGAgBM;IAEN,4BAAA;IAAA,sGAgBM;IAEN,6BAAA;IAAA,0HAUe;IACjB,yBAAA;IAAA,iBAAM;IAEN,2BAAA;IAAA,oCAAuC;IACrC,2BAAA;IAAA,gCAAuE;IACrE,6BAAA;IAAA,2HAsBe;IAEf,+BAAA;IAAA,2HAoBe;IACjB,2BAAA;IAAA,iBAAM;IAEN,6BAAA;IAAA,yGA2BM;IACR,yBAAA;IAAA,iBAAM;IACR,uBAAA;IAAA,iBAAM;IACR,qBAAA;IAAA,0BAAe;;;IAnI0B,eAEmE;IAFnE,iOAEmE;IAChG,eAA0B;IAA1B,mDAA0B;IAkB1B,eAAyB;IAAzB,kDAAyB;IAkBhB,eAAe;IAAf,wCAAe;IAca,eAA2B;IAA3B,4CAA2B;IACrD,eAA0B;IAA1B,mDAA0B;IAwB1B,eAAyB;IAAzB,kDAAyB;IAuBI,eAAgB;IAAhB,yCAAgB;;;;IAkChE,+BAIgE;IAC9D,0BAAA;IAAA,kCAQkE;IAF1D,2NAAwB,KAAK,KAAE;IAGrC,YACF;IAAA,iBAAS;IACX,wBAAA;IAAA,iBAAM;;;IAfD,oDAAsC,kDAAA,qBAAA;IAQjC,eAAsC;IAAtC,oDAAsC,yCAAA;IAGtC,mDAAiC,6DAAA;IAEvC,eACF;IADE,0EACF;;;;IAGF,+BAIkE;IAChE,0BAAA;IAAA,kCAQkE;IAF1D,2NAAwB,IAAI,KAAE;IAGpC,YACF;IAAA,iBAAS;IACX,wBAAA;IAAA,iBAAM;;;IAfD,oDAAsC,kDAAA,qBAAA;IAQjC,eAAsC;IAAtC,oDAAsC,yCAAA;IAGtC,qDAAmC,6DAAA;IAEzC,eACF;IADE,4EACF;;;IAnCN,6BAAiC;IAC/B,sBAAA;IAAA,+BAAgC;IAC9B,wBAAA;IAAA,sGAgBM;IAEN,0BAAA;IAAA,sGAgBM;IACR,sBAAA;IAAA,iBAAM;IACR,oBAAA;IAAA,0BAAe;;;IApCL,eAA0B;IAA1B,mDAA0B;IAkB1B,eAAyB;IAAzB,kDAAyB;;;IA3JnC,oBAAA;IAAA,2GAqIe;IAEf,sBAAA;IAAA,yGAsCe;IACjB,kBAAA;;;IA9KiB,eAAe;IAAf,wCAAe;IAuIf,eAAgB;IAAhB,yCAAgB;;;ADvNjC,IAAI,KAAK,GAAG,CAAC,CAAC;AAcd,MAAM,OAAO,sBAAuB,SAAQ,aAAa;IAoOvD,YAAoB,WAAwB,EACxB,WAAwB,EACxB,SAAoB,EACpB,MAAkB,EAClB,IAAoB,EACpB,iBAAmC,EACnC,SAAmB,EACnB,QAAyB,EACzB,EAAqB,EAC7B,EAAyB,EACf,kBAAqC;QACzD,KAAK,CAAC,SAAS,EAAE,EAAE,EAAE,kBAAkB,EAAE,MAAM,EAAE,gCAAgC,CAAC,aAAa,CAAC,CAAC;QAX/E,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QACxB,cAAS,GAAT,SAAS,CAAW;QACpB,WAAM,GAAN,MAAM,CAAY;QAClB,SAAI,GAAJ,IAAI,CAAgB;QACpB,sBAAiB,GAAjB,iBAAiB,CAAkB;QACnC,cAAS,GAAT,SAAS,CAAU;QACnB,aAAQ,GAAR,QAAQ,CAAiB;QACzB,OAAE,GAAF,EAAE,CAAmB;QAEnB,uBAAkB,GAAlB,kBAAkB,CAAmB;QA5O3D,gCAAgC;QAChC,yBAAoB,GAAkB;YACpC,UAAU,EAAE,EAAE;SACf,CAAC;QAEF;;WAEG;QACH,kBAAa,GAA+B,IAAI,CAAC;QAYxC,SAAI,GAAiB,YAAY,CAAC,IAAI,CAAC;QACvC,kBAAa,GAA0B,qBAAqB,CAAC,IAAI,CAAC;QAClE,cAAS,GAAY,IAAI,CAAC;QAC1B,qBAAgB,GAAY,IAAI,CAAC;QACjC,iBAAY,GAAa,EAAE,CAAC;QAC5B,mBAAc,GAAa,EAAE,CAAC;QAC9B,qBAAgB,GAAY,KAAK,CAAC;QAClC,eAAU,GAAW,IAAI,CAAC;QAC1B,oBAAe,GAAY,IAAI,CAAC;QAEhC,0BAAqB,GAAY,IAAI,CAAC;QAItC,UAAK,GAAyB,EAAE,CAAC;QACjC,iBAAY,GAAW,CAAC,CAAC;QACzB,aAAQ,GAAY,IAAI,CAAC;QAEzB,4BAAuB,GAAY,KAAK,CAAC;QACzC,oBAAe,GAAkB,IAAI,CAAC;QACtC,kBAAa,GAAY,IAAI,CAAC;QAiB9B,iBAAY,GAAY,KAAK,CAAC;QAQvC,sBAAsB;QACH,yBAAoB,GAAuB,IAAI,YAAY,EAAE,CAAC;QAC9D,wBAAmB,GAAuB,IAAI,YAAY,EAAE,CAAC;QAC7D,qBAAgB,GAA6C,IAAI,YAAY,EAAE,CAAC;QAChF,oBAAe,GAA6C,IAAI,YAAY,EAAE,CAAC;QAC/E,aAAQ,GAAuB,IAAI,YAAY,EAAE,CAAC;QAClD,aAAQ,GAAuB,IAAI,YAAY,EAAE,CAAC;QAClD,uBAAkB,GAA0C,IAAI,YAAY,EAAE,CAAC;QAC/E,qBAAgB,GAA0B,IAAI,YAAY,EAAE,CAAC;QAC7D,uBAAkB,GAA8D,IAAI,YAAY,EAAE,CAAC;QACnG,0BAAqB,GAA4B,IAAI,YAAY,EAAE,CAAC;QACpE,yBAAoB,GAA0B,IAAI,YAAY,EAAE,CAAC;QACjE,gBAAW,GAA0B,IAAI,YAAY,EAAE,CAAC;QACxD,oBAAe,GAA4B,IAAI,YAAY,EAAE,CAAC;QAEjF;;WAEG;QACgB,gBAAW,GAAmC,IAAI,YAAY,EAAoB,CAAC;QAEtG,4DAA4D;QACzC,UAAK,GAAsB,IAAI,YAAY,EAAE,CAAC;QACjE,4DAA4D;QACzC,SAAI,GAAsB,IAAI,YAAY,EAAE,CAAC;QAEhE,sDAAsD;QACtD,YAAO,GAA2B,IAAI,CAAC;QAGvC,mBAAc,GAA8B,EAAE,CAAC;QAC/C,aAAQ,GAAc,EAAE,CAAC;QAEzB,gCAA2B,GAAW,kDAAkD,CAAC;QACzF,wBAAmB,GAAY,KAAK,CAAC;QACrC,eAAU,GAAY,KAAK,CAAC;QAE5B,mBAAc,GAAY,KAAK,CAAC;QAChC,UAAK,GAAY,KAAK,CAAC;QAEvB,wBAAmB,GAAY,KAAK,CAAC;QAE7B,eAAU,GAAW,CAAC,CAAC;QACvB,iBAAY,GAAY,KAAK,CAAC;QAK9B,gBAAW,GAAY,KAAK,CAAC;QAC7B,uBAAkB,GAAW,SAAS,CAAC;QACvC,sBAAiB,GAAW,SAAS,CAAC;QACtC,sBAAiB,GAKrB;YACF,UAAU,EAAE,IAAI;YAChB,SAAS,EAAE,IAAI;YACf,WAAW,EAAE,IAAI;YACjB,UAAU,EAAE,IAAI;SACjB,CAAC;QACM,eAAU,GAAY,KAAK,CAAC;QAE5B,eAAU,GAAc,EAAE,CAAC;QAC3B,gBAAW,GAA2B,IAAI,aAAa,CAAC,CAAC,CAAC,CAAC;QAuC3D,eAAU,GAAW,QAAQ,CAAC,EAAE,CAAC;QAWjC,iBAAY,GAAW,QAAQ,CAAC,EAAE,GAAG,EAAE,CAAC;QA+yBxC,uBAAkB,GAAe,GAAG,EAAE;YAC5C,OAAO;QACT,CAAC,CAAC;QArvBA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC;QACvC,IAAI,CAAC,EAAE,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;QAC3B,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,kBAAkB,EAAE,CAAC,CAAC;IAChD,CAAC;IAxMD,IAAa,SAAS;QACpB,OAAO,IAAI,CAAC,UAAU,CAAC;IACzB,CAAC;IAED,IAAI,SAAS,CAAC,CAAY;QACxB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QAEpB,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAC;QACrC,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IA+ED,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;IACrC,CAAC;IAED,IAAI,oBAAoB;QACtB,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC;IACjD,CAAC;IAED,IAAI,uBAAuB;QACzB,OAAO,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;IAC9C,CAAC;IAED,IAAI,wBAAwB;QAC1B,OAAO,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC1G,CAAC;IAED,IAAI,mBAAmB;QACrB,OAAO,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,IAAI,CAAC,oBAAoB;eACpG,IAAI,CAAC,uBAAuB,CAAC;IACpC,CAAC;IAED,IAAI,kBAAkB;QACpB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACnD,CAAC;IAED,IAAI,eAAe;QACjB,OAAO,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IACrE,CAAC;IAED,IAAI,kBAAkB;QACpB,OAAO,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAC9F,CAAC;IAED,IAAI,eAAe;QACjB,OAAO,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;IACtE,CAAC;IAID,IAAI,SAAS;QACX,OAAO,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;IAC/E,CAAC;IAED,IACI,SAAS,CAAC,KAAa;QACzB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;IACnE,CAAC;IAID,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;IACtC,CAAC;IAED,IACI,WAAW,CAAC,KAAa;QAC3B,IAAI,CAAC,YAAY,GAAG,gBAAgB,CAAC,KAAK,CAAC,CAAC;IAC9C,CAAC;IAED,IACI,WAAW;QACb,OAAO;YACL,IAAI,CAAC,OAAO;YACZ,gBAAgB;YAChB,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW;YACjC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE;YACrC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE;YACxC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;YAC/B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;YAC/B,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,sBAAsB,CAAC,CAAC,CAAC,EAAE;SACjD,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACd,CAAC;IAED,IAAI,YAAY;QACd,OAAO,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAClH,CAAC;IAED,IAAI,cAAc;QAChB,OAAO,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,KAAK,aAAa,CAAC,OAAO,CAAC,CAAC;IACxH,CAAC;IAED,IAAI,iBAAiB;QACnB,OAAO,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IACxF,CAAC;IAED,IAAI,KAAK,CAAC,CAAY;QACpB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;IAClB,CAAC;IAED,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAuBD,QAAQ;QACN,mHAAmH;QACnH,4FAA4F;QAC5F,uCAAuC;QACvC,UAAU;QACV,IAAI,CAAC,kBAAkB,CAAC,yBAAyB,CAAC,gCAAgC,CAAC,aAAa,CAAC,CAAC;QAElG,IAAI,IAAI,CAAC,iBAAiB,EAAE;YAC1B,IAAI,CAAC,WAAW,EAAE,CAAC;SACpB;QAED,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,cAAc,EAAE,CAAC;QAEtB,IAAI,CAAC,iBAAiB,mBACpB,QAAQ,EAAE;gBACR,IAAI,EAAE,EAAE;gBACR,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ;aAC1B,IACE,IAAI,CAAC,iBAAiB,CAC1B,CAAC;QAEF,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAElC,IAAI,CAAC,WAAW,CAAC,eAAe;aAC7B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aACjC,SAAS,CAAC,CAAC,GAA4B,EAAE,EAAE;YAC1C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,EAAC,IAAI,EAAC,EAAE,EAAE;YAC5F,MAAM,SAAS,mCACV,IAAI;gBACP,kEAAkE;gBAClE,kCAAkC;gBAClC,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,oBAAoB,EAAE,IAAI,CAAC,UAAU,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,GAC9H,CAAC;YAEF,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,IAAa,EAAE,EAAE;YAC7F,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACzB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,KAAgB,EAAE,EAAE;YAChG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aACrE,SAAS,CAAC,CAAC,IAAiD,EAAE,EAAE;YAC/D,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,WAAW,CAAC,wBAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,KAAgB,EAAE,EAAE;YACzG,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC;QAE1C,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACzC,IAAI,IAAI,EAAE;gBACR,IAAI,CAAC,+BAA+B,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC;aAChF;SACF;QAED,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,CAAC;QAEpE,IAAI,IAAI,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YAC5C,IAAI,CAAC,aAAa,GAAG;gBACnB,QAAQ,EAAE,IAAI,CAAC,cAAc;gBAC7B,OAAO,EAAE,IAAI,CAAC,WAAW;gBACzB,SAAS,EAAE,KAAK;gBAChB,WAAW,EAAE,KAAK;aACnB,CAAC;SACH;aAAM,IAAI,IAAI,CAAC,WAAW,EAAE;YAC3B,IAAI,CAAC,aAAa,GAAG;gBACnB,QAAQ,EAAE,IAAI,CAAC,WAAW;gBAC1B,OAAO,EAAE,IAAI,CAAC,cAAc;gBAC5B,SAAS,EAAE,IAAI,CAAC,gBAAgB;gBAChC,WAAW,EAAE,IAAI;gBACjB,eAAe,EAAE,IAAI,CAAC,eAAe;aACtC,CAAC;SACH;IACH,CAAC;IAED,eAAe,CAAC,WAA2B;QACzC,IAAI,CAAC,oBAAoB,CAAC,OAAO,GAAG,WAAW,CAAC,4BAA4B,CAAC,CAAC;QAC9E,IAAI,CAAC,oBAAoB,CAAC,SAAS,GAAG,WAAW,CAAC,6BAA6B,CAAC,CAAC;QACjF,IAAI,CAAC,oBAAoB,CAAC,YAAY,GAAG,WAAW,CAAC,6BAA6B,CAAC,CAAC;QACpF,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,GAAG,WAAW,CAAC,iCAAiC,CAAC,CAAC;QAC5F,IAAI,CAAC,oBAAoB,CAAC,WAAW,GAAG,WAAW,CAAC,4BAA4B,CAAC,CAAC;QAClF,IAAI,CAAC,oBAAoB,CAAC,UAAU,GAAG,WAAW,CAAC,2BAA2B,CAAC,CAAC;QAChF,IAAI,CAAC,oBAAoB,CAAC,QAAQ,GAAG,WAAW,CAAC,yBAAyB,CAAC,CAAC;QAC5E,IAAI,CAAC,oBAAoB,CAAC,OAAO,GAAG,WAAW,CAAC,wBAAwB,CAAC,CAAC;QAC1E,IAAI,CAAC,oBAAoB,CAAC,OAAO,GAAG,WAAW,CAAC,wBAAwB,CAAC,CAAC;QAC1E,IAAI,CAAC,oBAAoB,CAAC,WAAW,GAAG,WAAW,CAAC,4BAA4B,CAAC,CAAC;QAClF,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,GAAG,WAAW,CAAC,iCAAiC,CAAC,CAAC;QAC5F,IAAI,CAAC,oBAAoB,CAAC,QAAQ,GAAG,WAAW,CAAC,yBAAyB,CAAC,CAAC;QAC5E,IAAI,CAAC,oBAAoB,CAAC,QAAQ,GAAG,WAAW,CAAC,yBAAyB,CAAC,CAAC;QAC5E,IAAI,CAAC,oBAAoB,CAAC,QAAQ,GAAG,WAAW,CAAC,yBAAyB,CAAC,CAAC;QAC5E,IAAI,CAAC,oBAAoB,CAAC,kBAAkB,GAAG,WAAW,CAAC,gCAAgC,CAAC,CAAC;QAC7F,IAAI,CAAC,oBAAoB,CAAC,kBAAkB,GAAG,WAAW,CAAC,gCAAgC,CAAC,CAAC;QAC7F,IAAI,CAAC,oBAAoB,CAAC,aAAa,GAAG,WAAW,CAAC,2BAA2B,CAAC,CAAC;QACnF,IAAI,CAAC,oBAAoB,CAAC,aAAa,GAAG,WAAW,CAAC,2BAA2B,CAAC,CAAC;QACnF,IAAI,CAAC,oBAAoB,CAAC,iBAAiB,GAAG,WAAW,CAAC,+BAA+B,CAAC,CAAC;QAC3F,IAAI,CAAC,oBAAoB,CAAC,eAAe,GAAG,WAAW,CAAC,6BAA6B,CAAC,CAAC;QACvF,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,QAAQ,GAAG,WAAW,CAAC,oCAAoC,CAAC,CAAC;QAClG,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,QAAQ,GAAG,WAAW,CAAC,oCAAoC,CAAC,CAAC;QAClG,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,SAAS,GAAG,WAAW,CAAC,qCAAqC,CAAC,CAAC;QACpG,IAAI,CAAC,oBAAoB,CAAC,eAAe,GAAG,WAAW,CAAC,gCAAgC,CAAC,CAAC;QAC1F,IAAI,CAAC,oBAAoB,CAAC,kBAAkB,GAAG,WAAW,CAAC,mCAAmC,CAAC,CAAC;QAChG,IAAI,CAAC,oBAAoB,CAAC,eAAe,GAAG,WAAW,CAAC,gCAAgC,CAAC,CAAC;QAC1F,IAAI,CAAC,oBAAoB,CAAC,uBAAuB,GAAG,WAAW,CAAC,wCAAwC,CAAC,CAAC;QAC1G,IAAI,CAAC,oBAAoB,CAAC,mBAAmB,GAAG,WAAW,CAAC,iCAAiC,CAAC,CAAC;QAC/F,IAAI,CAAC,oBAAoB,CAAC,QAAQ,GAAG,WAAW,CAAC,yBAAyB,CAAC,CAAC;QAC5E,IAAI,CAAC,oBAAoB,CAAC,KAAK,GAAG,WAAW,CAAC,oBAAoB,CAAC,CAAC;IACtE,CAAC;IAED,YAAY,CAAC,KAAgB;QAC3B,MAAM,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAElD,IAAI,OAAO,EAAE;YACX,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE;gBAC9B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC/B,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YACvD,CAAC,CAAC,CAAC;YACH,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE;gBAChC,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAEhD,IAAI,KAAK,IAAI,CAAC,EAAE;oBACd,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;iBACjC;gBACD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACnD,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC7B,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAEzB,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC7B;IACH,CAAC;IAED,UAAU,CAAC,KAAgB;QACzB,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,EAAE;YACzB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;YAC3C,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC7B;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAC;SACtC;QAED,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAED,gBAAgB,CAAC,EAAO;QACtB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;IAC5B,CAAC;IAED,iBAAiB,CAAC,EAAO;QACvB,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;IAC/B,CAAC;IAED,QAAQ;QACN,OAAO,IAAI,CAAC;IACd,CAAC;IAED,gBAAgB,CAAC,UAAmB;QAClC,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC;IAC7B,CAAC;IAED,eAAe;QACb,KAAK,CAAC,eAAe,EAAE,CAAC;QAExB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACvB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,kBAAkB,CAAC,aAAa,CAAC;SAC5D;QAED,IAAI,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,eAAe,CAAC,EAAE;YAC7D,SAAS,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;YAC5C,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;YAChC,IAAI,CAAC,aAAa,GAAG,qBAAqB,CAAC,IAAI,CAAC;YAEhD,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SAChC;QAED,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB;QAED,mBAAmB,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,QAAQ,CAAC;aACxD,IAAI,CACH,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAC5B;aACA,SAAS,CAAC,CAAC,CAAQ,EAAE,EAAE;YACtB,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,aAAa;QACX,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChD,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAEpE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAElE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChD,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAEpE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAE9D,QAAQ,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC5D,QAAQ,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;IAC1D,CAAC;IAED,cAAc;QACZ,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,IAAI,CAAC,WAAW,CAAC,UAAU,mCAAO,IAAI,CAAC,WAAW,CAAC,UAAU,GAAK,IAAI,CAAC,UAAU,CAAC,CAAC;YAEnF,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG;gBACzF,YAAY,EAAE,EAAE;gBAChB,KAAK,EAAE,EAAE;aACV,CAAC,CAAC;SAEJ;IACH,CAAC;IAED,eAAe;QACb,IAAI,CAAC,KAAK,mCAAO,IAAI,CAAC,oBAAoB,GAAK,IAAI,CAAC,KAAK,CAAC,CAAC;IAC7D,CAAC;IAED,WAAW,CAAC,OAAsB;QAChC,IAAI,OAAO,CAAC,KAAK,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE;YAC9D,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;QAED,IAAI,OAAO,CAAC,UAAU,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,CAAC,aAAa,CAAC,EAAE;YACxE,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB;IACH,CAAC;IAED,WAAW;QACT,KAAK,CAAC,WAAW,EAAE,CAAC;QAEpB,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE;YACpC,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YACvE,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YACrE,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YACvE,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YAEjE,QAAQ,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YAC/D,QAAQ,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;SAC5D;QAED,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC5B,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;IAC9B,CAAC;IAED,gBAAgB;QACd,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE;YAC/C,OAAO;SACR;QAED,MAAM,YAAY,GAAG;YACnB,SAAS,EAAE,IAAI,CAAC,UAAU;YAC1B,SAAS,EAAE,IAAI,CAAC,GAAG;YACnB,YAAY,EAAE,IAAI,CAAC,YAAY;SAChC,CAAC;QAEF,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;IAChD,CAAC;IAED,WAAW,CAAC,CAAY;QACtB,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,CAAC,CAAC,eAAe,EAAE,CAAC;QAEpB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,uBAAuB,EAAE;YAC9G,OAAO;SACR;QAED,2CAA2C;QAE3C,4EAA4E;QAC5E,qGAAqG;QACrG,sCAAsC;QACtC,MAAM,aAAa,GAAW,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QAErF,IAAI,CAAC,mBAAmB,GAAG,aAAa,GAAG,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QAEjF,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC;QAC9D,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC;QAExE,IAAI,CAAC,UAAU,EAAE,CAAC;QAElB,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC/B,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAED,UAAU,CAAC,CAAY;QACrB,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,CAAC,CAAC,eAAe,EAAE,CAAC;QAEpB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC9D,CAAC,CAAC,YAAY,CAAC,UAAU,GAAG,MAAM,CAAC;SACpC;QAED,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3B,CAAC;IAED,WAAW,CAAC,CAAY;QACtB,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,CAAC,CAAC,eAAe,EAAE,CAAC;QAEpB,IAAI,CAAC,CAAC,MAAM,KAAK,IAAI,CAAC,aAAa,EAAE;YACnC,OAAO;SACR;QAED,IAAI,CAAC,UAAU,EAAE,CAAC;QAElB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAEzB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC;YAC3E,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC;YAEjE,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC7B;IACH,CAAC;IAED,UAAU,CAAC,CAAY;QACrB,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,CAAC,CAAC,eAAe,EAAE,CAAC;QAEpB,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAE5B,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAE7B,IAAI,IAAI,CAAC,uBAAuB,EAAE;YAChC,OAAO;SACR;QAED,IAAI,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,eAAe,CAAC,EAAE;YAC7D,MAAM,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YAE5C,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YAE7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAE5B,OAAO;SACR;QAED,MAAM,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QAE5C,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE;YAC9C,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;YAC9B,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC9B,CAAC,EAAE,CAAC,GAAiB,EAAE,EAAE;YACvB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,aAAa,CAAC,OAAO,EAAC,CAAC,CAAC;YAC/F,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;YAC1B,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC9B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB,CAAC,KAAyB;QAC3C,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACrC,MAAM,QAAQ,GAAG,EAAE,CAAC;YACpB,IAAI,KAAK,GAAG,EAAE,CAAC;YAEf,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gBACrB,MAAM,SAAS,GAAmD,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBAE1F,IAAI,SAAS,CAAC,WAAW,EAAE;oBACzB,mEAAmE;oBACnE,IAAI,IAAI,CAAC,iBAAiB,EAAE,EAAE;wBAC5B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;wBACvB,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC;wBAE5C,OAAO;qBACR;oBAED,6EAA6E;oBAC7E,MAAM,YAAY,GAAG,IAAI,CAAC,cAAc;yBACrC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC;yBAC5B,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;oBAEvD,IAAI,YAAY,KAAK,CAAC,CAAC,EAAE;wBACvB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;4BACvB,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,cAAc;4BAChD,OAAO,EAAE,aAAa,CAAC,OAAO;yBAC/B,CAAC,CAAC;qBACJ;iBACF;gBAED,IAAI,SAAS,CAAC,MAAM,EAAE;oBACpB,IAAI,IAAI,CAAC,aAAa,KAAK,qBAAqB,CAAC,SAAS,EAAE;wBAC1D,2EAA2E;wBAC3E,MAAM,YAAY,GAAG,IAAI,CAAC,cAAc;6BACrC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC;6BAC5B,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;wBAErD,IAAI,YAAY,KAAK,CAAC,CAAC,EAAE;4BACvB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;gCACvB,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,YAAY;gCAC9C,OAAO,EAAE,aAAa,CAAC,OAAO;6BAC/B,CAAC,CAAC;yBACJ;wBAED,OAAO;qBACR;oBAED,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;iBACxC;YACH,CAAC,CAAC,CAAC;YAEH,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE;gBACpC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE;oBAClC,OAAO,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBAC1B,CAAC,EAAE,KAAK,CAAC,CAAC;gBAEV,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,OAAO,CAAC,KAAK,CAAC,CAAC;YACjB,CAAC,EAAE,CAAC,GAAiB,EAAE,EAAE;gBACvB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,aAAa,CAAC,OAAO,EAAC,CAAC,CAAC;gBAC/F,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,MAAM,CAAC,GAAG,CAAC,CAAC;YACd,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;OAEG;IACH,iBAAiB;QACf,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC;IAChC,CAAC;IAED;;OAEG;IACH,iBAAiB;QACf,OAAO,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;IAC7B,CAAC;IAED;;OAEG;IACH,cAAc,CAAC,KAAc;QAC3B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,eAAe,CAAC,EAAE;YAC9D,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,eAAe,GAAG,CAAC,CAAC,KAAK,CAAC;SACxD;QAED,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;QACrC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;IAED,iBAAiB,CAAC,CAAQ;QACxB,MAAM,KAAK,GAAG,OAAO,CAAE,CAAC,CAAC,MAA2B,CAAC,KAAK,CAAC,CAAC;QAE5D,IAAI,KAAK,CAAC,MAAM,EAAE;YAChB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SACtB;QAED,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAED,YAAY;QACV,OAAO,IAAI,CAAC,IAAI,KAAK,YAAY,CAAC,MAAM,CAAC;IAC3C,CAAC;IAED,kBAAkB;QAChB,OAAO,IAAI,CAAC,aAAa,KAAK,qBAAqB,CAAC,IAAI,IAAI,IAAI,CAAC,aAAa,KAAK,qBAAqB,CAAC,IAAI,CAAC;IAChH,CAAC;IAED,iBAAiB;QACf,OAAO,IAAI,CAAC,aAAa,KAAK,qBAAqB,CAAC,SAAS,IAAI,IAAI,CAAC,aAAa,KAAK,qBAAqB,CAAC,IAAI,CAAC;IACrH,CAAC;IAED,QAAQ;QACN,OAAO,qBAAqB,CAAC,IAAI,CAAC;IACpC,CAAC;IAED,OAAO;QACL,OAAO,qBAAqB,CAAC,SAAS,CAAC;IACzC,CAAC;IAED,OAAO;QACL,OAAO,qBAAqB,CAAC,IAAI,CAAC;IACpC,CAAC;IAED,gBAAgB;QACd,OAAO,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC;IAC7C,CAAC;IAED,cAAc;QACZ,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE;YAClC,OAAO;SACR;QAED,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAE7B,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;gBAC3B,uEAAuE;gBACvE,MAAM,YAAY,GAAG,IAAI,CAAC,cAAc;qBACrC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC;qBAC5B,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;gBAEhC,IAAI,YAAY,KAAK,CAAC,CAAC,EAAE;oBACvB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,OAAO,EAAE,aAAa,CAAC,MAAM,EAAC,CAAC,CAAC;iBACtF;aACF;YAED,OAAO;SACR;QAED,IAAI,IAAI,CAAC,gBAAgB,EAAE,EAAE;YAC3B,MAAM,YAAY,GAAG;gBACnB,SAAS,EAAE,IAAI,CAAC,UAAU;gBAC1B,SAAS,EAAE,IAAI,CAAC,GAAG;gBACnB,YAAY,EAAE,IAAI,CAAC,YAAY;aAChC,CAAC;YAEF,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;YAE9C,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAClB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;aAC1B;SACF;IACH,CAAC;IAED,gBAAgB,CAAC,IAAa;QAC5B,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAE1C,IAAI,KAAK,IAAI,CAAC,EAAE;YACd,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SAChC;QAED,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACtC;QAED,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEzB,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAED,WAAW,CAAC,IAAa;QACvB,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAE1C,IAAI,KAAK,IAAI,CAAC,EAAE;YACd,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SAChC;QAED,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAE5B,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEzB,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAED,oBAAoB;QAClB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;IAC3B,CAAC;IAED;;OAEG;IAEK,QAAQ,CAAC,KAAiC;QAChD,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAE5B,IAAI,IAAI,CAAC,gBAAgB,EAAE,EAAE;YAC3B,IAAI,IAAI,CAAC,IAAI,KAAK,YAAY,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBACrD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;aAC1B;YAED,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAClC,IAAI,CAAC,WAAW,CAAC,QAAQ,CACvB,KAAK,EACL,IAAI,CAAC,aAAa,EAClB,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,gBAAgB,EAChC,IAAI,CAAC,eAAe,EACpB,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,EAClC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,cAAc,EACtC,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;YAC/B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAEjC,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAEzB,yEAAyE;YACzE,kCAAkC;YAElC,yFAAyF;YACzF,2DAA2D;YAC3D,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,GAAG,EAAE,CAAC;YAExC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;SAC1B;IACH,CAAC;IAEO,+BAA+B;QACrC,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;SAC3D;IACH,CAAC;IAED;;OAEG;IAEK,YAAY,CAAC,CAAY;QAC/B,MAAM,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QAE/D,OAAO,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;IACvC,CAAC;IAEO,OAAO,CAAC,IAAyB,EAAE,UAAkB,EAAE;QAC7D,OAAO,IAAI,OAAO,CAAkB,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACtD,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE;gBACd,CAAC,CAAC,QAAQ,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,OAAO,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBACvD,OAAO,CAAC,CAAC,CAAC,CAAC;YACb,CAAC,EAAE,CAAC,GAAiB,EAAE,EAAE;gBACvB,MAAM,CAAC,GAAG,CAAC,CAAC;YACd,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,YAAY,CAAC,IAA8B;QACjD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC;QAE/B,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACrC,MAAM,QAAQ,GAAG,EAAE,CAAC;YACpB,MAAM,MAAM,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;YAEnC,MAAM,CAAC,WAAW,CAAC,CAAC,OAA2D,EAAE,EAAE;gBACjF,OAAO,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oBACxB,IAAI,OAA8D,CAAC;oBAEnE,IAAI,KAAK,CAAC,WAAW,EAAE;wBACrB,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;qBACpC;yBAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBACvB,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;qBACvD;oBAED,IAAI,OAAO,EAAE;wBACX,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;qBACxB;gBACH,CAAC,CAAC,CAAC;gBAEH,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE;oBACpC,IAAI,QAAQ,GAAG,EAAE,CAAC;oBAElB,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE;wBACtC,OAAO,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;oBAC3B,CAAC,EAAE,QAAQ,CAAC,CAAC;oBAEb,OAAO,CAAC,QAAQ,CAAC,CAAC;gBACpB,CAAC,EAAE,CAAC,GAAiB,EAAE,EAAE;oBACvB,MAAM,CAAC,GAAG,CAAC,CAAC;gBACd,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,gBAAgB,CAAC,KAAiC;QACxD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEzB,IAAI,KAAK,CAAC,MAAM,EAAE;YAChB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SACtB;QAED,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEzB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC;QACjE,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC;IAC7E,CAAC;IAEO,eAAe,CAAC,CAAY;QAClC,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,CAAC,CAAC,eAAe,EAAE,CAAC;IACtB,CAAC;IAEO,iBAAiB;QACvB,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACzC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QAC1C,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QAC1C,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;QAE3C,MAAM,gBAAgB,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC;QACpH,MAAM,iBAAiB,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC;QAEvH,gBAAgB,CAAC,IAAI,EAAE,CAAC;QACxB,iBAAiB,CAAC,IAAI,EAAE,CAAC;QAEzB,iBAAiB,CAAC,MAAM,CAAC,GAAG,EAAE;YAC5B,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;gBACpB,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;aAClC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,uBAAuB;QAC7B,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAEpD,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;YACzB,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAE;gBAClC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,CAAC;aAC1C;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,iBAAiB,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACnG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAClC,IAAI,CAAC,iBAAiB,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACrG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAClC,IAAI,CAAC,iBAAiB,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACrG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACnC,IAAI,CAAC,iBAAiB,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACvG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IACrC,CAAC;IAEO,oBAAoB;QAC1B,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YACrB,OAAO;SACR;QAED,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;YAChD,uEAAuE;YACvE,MAAM,YAAY,GAAG,IAAI,CAAC,cAAc;iBACrC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC;iBAC5B,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YAEhC,IAAI,YAAY,KAAK,CAAC,CAAC,EAAE;gBACvB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,OAAO,EAAE,aAAa,CAAC,MAAM,EAAC,CAAC,CAAC;aACtF;SACF;IACH,CAAC;IAMO,qBAAqB;QAC3B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC5B,CAAC;IAEO,iBAAiB;QACvB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACjC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACpC,CAAC;IAEO,oBAAoB;QAC1B,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QAEnB,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;YACzB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBAC5B,IAAI,IAAI,CAAC,QAAQ,KAAK,2BAA2B,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;oBAClF,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC1B;YACH,CAAC,CAAC,CAAC;SACJ;QAED,IAAI,CAAC,+BAA+B,EAAE,CAAC;IACzC,CAAC;;4FA9/BU,sBAAsB;yEAAtB,sBAAsB;;;;;;;uBAoBnB,0BAA0B;;;;;;;;;;;;+3CA7B7B;YACT,8BAA8B,CAAC,sBAAsB,CAAC;YACtD,0BAA0B,CAAC,sBAAsB,CAAC;YAClD,WAAW;YACX,WAAW;SACZ;;QC/EH,8BAE2B;QAE3B,oBAAA;QAAA,iCAAqD;QACnD,oBAAA;QAAA,iCAAgD;QAC9C,sBAAA;QACA,sBAAA;QAAA,6CAG2E;QAC3E,uBAAA;QAEA,yBAAA;QAAA,mBAAyB;QAEzB,yBAAA;QAAA,+BAA+C;QAC7C,yBAAA;QAAA,yFAGc;QAChB,uBAAA;QAAA,iBAAM;QAEN,yBAAA;QACA,uBAAA;QAAA,+BAA6C;QAC3C,yBAAA;QAAA,0FAqBc;QAEd,2BAAA;QAAA,4FAIe;QACjB,uBAAA;QAAA,iBAAM;QAEN,yBAAA;QACA,uBAAA;QAAA,2EAkBM;QAEN,yBAAA;QACA,uBAAA;QAAA,4EAuDM;QACN,uBAAA;QAEA,yBAAA;QAAA,0FAEc;QAChB,qBAAA;QAAA,iBAAM;QACR,mBAAA;QAAA,iBAAM;QAEN,qBAAA;QAAA,2HAAsC;QAEtC,qBAAA;QAAA,2HAIc;QAEd,qBAAA;QAAA,2HA+Kc;QACd,mBAAA;;;;;QApU8B,kDAAgC;QACvD,4CAAkC;QAMb,gBAAe;QAAf,iCAAe,4CAAA,2CAAA,8BAAA;QASxB,eAEmC;QAFnC,sFAEmC;QAMnB,eAAiB;QAAjB,4CAAiB;QAuB/B,eAA6F;QAA7F,8HAA6F;QAQxE,eAAe;QAAf,oCAAe;QAqBL,eAAkB;QAAlB,uCAAkB;QA0DpD,eAAkD;QAAlD,2EAAkD;2ZDrDtD,CAAC,oBAAoB,CAAC;uFAEvB,sBAAsB;cAZlC,SAAS;eAAC;gBACT,QAAQ,EAAE,gBAAgB;gBAC1B,WAAW,EAAE,2BAA2B;gBACxC,SAAS,EAAE;oBACT,8BAA8B,wBAAwB;oBACtD,0BAA0B,wBAAwB;oBAClD,WAAW;oBACX,WAAW;iBACZ;gBACD,aAAa,EAAE,iBAAiB,CAAC,IAAI;gBACrC,UAAU,EAAE,CAAC,oBAAoB,CAAC;aACnC;8VAayB,SAAS;kBAAhC,SAAS;mBAAC,WAAW;YACC,QAAQ;kBAA9B,SAAS;mBAAC,UAAU;YACG,SAAS;kBAAhC,SAAS;mBAAC,WAAW;YACJ,GAAG;kBAApB,SAAS;mBAAC,KAAK;YACG,IAAI;kBAAtB,SAAS;mBAAC,MAAM;YAEgB,kBAAkB;kBAAlD,SAAS;mBAAC,oBAAoB;YAEW,SAAS;kBAAlD,YAAY;mBAAC,0BAA0B;YAE/B,IAAI;kBAAZ,KAAK;YACG,aAAa;kBAArB,KAAK;YACG,SAAS;kBAAjB,KAAK;YACG,gBAAgB;kBAAxB,KAAK;YACG,YAAY;kBAApB,KAAK;YACG,cAAc;kBAAtB,KAAK;YACG,gBAAgB;kBAAxB,KAAK;YACG,UAAU;kBAAlB,KAAK;YACG,eAAe;kBAAvB,KAAK;YACG,KAAK;kBAAb,KAAK;YACG,qBAAqB;kBAA7B,KAAK;YAEG,GAAG;kBAAX,KAAK;YACG,SAAS;kBAAjB,KAAK;YACG,KAAK;kBAAb,KAAK;YACG,YAAY;kBAApB,KAAK;YACG,QAAQ;kBAAhB,KAAK;YAEG,uBAAuB;kBAA/B,KAAK;YACG,eAAe;kBAAvB,KAAK;YACG,aAAa;kBAArB,KAAK;YACG,KAAK;kBAAb,KAAK;YAEO,SAAS;kBAArB,KAAK;YAWG,UAAU;kBAAlB,KAAK;YACG,aAAa;kBAArB,KAAK;YAEG,YAAY;kBAApB,KAAK;YAEG,IAAI;kBAAZ,KAAK;YAIG,iBAAiB;kBAAzB,KAAK;YAGa,oBAAoB;kBAAtC,MAAM;YACY,mBAAmB;kBAArC,MAAM;YACY,gBAAgB;kBAAlC,MAAM;YACY,eAAe;kBAAjC,MAAM;YACY,QAAQ;kBAA1B,MAAM;YACY,QAAQ;kBAA1B,MAAM;YACY,kBAAkB;kBAApC,MAAM;YACY,gBAAgB;kBAAlC,MAAM;YACY,kBAAkB;kBAApC,MAAM;YACY,qBAAqB;kBAAvC,MAAM;YACY,oBAAoB;kBAAtC,MAAM;YACY,WAAW;kBAA7B,MAAM;YACY,eAAe;kBAAjC,MAAM;YAKY,WAAW;kBAA7B,MAAM;YAGY,KAAK;kBAAvB,MAAM;YAEY,IAAI;kBAAtB,MAAM;YAuFH,SAAS;kBADZ,KAAK;YAYF,WAAW;kBADd,KAAK;YAMF,WAAW;kBADd,WAAW;mBAAC,OAAO","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport {fromEvent as observableFromEvent, ReplaySubject} from 'rxjs';\nimport {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  Injector,\n  Input,\n  IterableDiffer,\n  IterableDiffers,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  QueryList,\n  Renderer2,\n  SimpleChanges,\n  ViewChild,\n  ViewChildren,\n  ViewEncapsulation\n} from '@angular/core';\nimport {AnimationBuilder, AnimationPlayer} from '@angular/animations';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {HttpErrorResponse} from '@angular/common/http';\nimport {FormControl} from '@angular/forms';\nimport {takeUntil} from 'rxjs/operators';\nimport {\n  AdaptRadarAngularCustomEventName,\n  AdaptRxControlLabelTooltip,\n  AdaptTranslateService,\n  AdaptUploaderItemComponent,\n  adaptWarn,\n  ANIMATION_DND,\n  ANIMATION_DROP,\n  ANIMATION_INIT_STATE,\n  createFormControlValidator,\n  createFormControlValueAccessor,\n  FILE_IS_UPLOADED_PERCENTAGE,\n  FileErrors,\n  FileManager,\n  FileObj,\n  FileSize,\n  FileSystemDirectoryEntry,\n  FileSystemEntry,\n  FileSystemFileEntry,\n  formatString,\n  FormComponent,\n  Icon,\n  IconManager,\n  INITIAL_CHUNK_NUMBER,\n  isUndefined,\n  KeyValueObject,\n  MessageStatus,\n  retrieveFileSize,\n  SafeCdr,\n  StartFileUploadingEvent,\n  toArray,\n  UploaderFeedbackMessage,\n  UploaderMode,\n  UploaderSelectionMode,\n  UploaderTexts\n} from '@bmc-ux/adapt-angular';\nimport {isNil} from 'lodash-es';\nimport {AdaptRadarService} from '@bmc-ux/adapt-radar';\n\nlet count = 0;\n\n@Component({\n  selector: 'adapt-uploader',\n  templateUrl: './uploader.component.html',\n  providers: [\n    createFormControlValueAccessor(AdaptUploaderComponent),\n    createFormControlValidator(AdaptUploaderComponent),\n    FileManager,\n    IconManager\n  ],\n  encapsulation: ViewEncapsulation.None,\n  animations: [ANIMATION_INIT_STATE]\n})\nexport class AdaptUploaderComponent extends FormComponent implements OnInit, OnDestroy, AfterViewInit, OnChanges {\n\n  /* begin text configurations **/\n  uploaderTextsDefault: UploaderTexts = {\n    fileStatus: {}\n  };\n\n  /**\n   * Label icon with a tooltip or popover\n   */\n  tooltipConfig: AdaptRxControlLabelTooltip = null;\n\n  @ViewChild('fileInput') fileInput: ElementRef;\n  @ViewChild('fileList') fileList: ElementRef;\n  @ViewChild('dropEnter') dropEnter: ElementRef;\n  @ViewChild('dnd') dnd: ElementRef;\n  @ViewChild('drop') drop: ElementRef;\n\n  @ViewChild('droppableAreaBlock') droppableAreaBlock: ElementRef;\n\n  @ViewChildren(AdaptUploaderItemComponent) filesList: QueryList<AdaptUploaderItemComponent>;\n\n  @Input() mode: UploaderMode = UploaderMode.Auto;\n  @Input() selectionMode: UploaderSelectionMode = UploaderSelectionMode.Both;\n  @Input() enableDnD: boolean = true;\n  @Input() enableFileDialog: boolean = true;\n  @Input() allowedTypes: string[] = [];\n  @Input() forbiddenTypes: string[] = [];\n  @Input() suppressParallel: boolean = false;\n  @Input() filesCount: number = 1000;\n  @Input() allowDuplicates: boolean = true;\n  @Input() label: string;\n  @Input() showUploadFolderAlert: boolean = true;\n\n  @Input() url: string;\n  @Input() deleteUrl: string;\n  @Input() icons: KeyValueObject<Icon> = {};\n  @Input() visibleFiles: number = 3;\n  @Input() reusable: boolean = true;\n\n  @Input() indeterminateFileLoader: boolean = false;\n  @Input() ariaDescribedBy: string | null = null;\n  @Input() allowDeletion: boolean = true;\n  @Input() texts: UploaderTexts;\n\n  @Input() get showFiles(): FileObj[] {\n    return this._showFiles;\n  }\n\n  set showFiles(v: FileObj[]) {\n    this._showFiles = v;\n\n    this.fileManager.resetFilesStorage();\n    this._updateUploadedFiles();\n  }\n\n  @Input() fileErrors: FileErrors;\n  @Input() droppableArea: HTMLElement;\n\n  @Input() customErrors: boolean = false;\n\n  @Input() name: string;\n  /**\n   * FormControl (for Reactive Forms)\n   */\n  @Input() customFormControl: FormControl;\n\n  /* uploader outputs */\n  @Output() readonly beforeFileDialogOpen: EventEmitter<null> = new EventEmitter();\n  @Output() readonly afterFileDialogOpen: EventEmitter<null> = new EventEmitter();\n  @Output() readonly beforeFilesAdded: EventEmitter<(File | FileSystemEntry)[]> = new EventEmitter();\n  @Output() readonly afterFilesAdded: EventEmitter<(File | FileSystemEntry)[]> = new EventEmitter();\n  @Output() readonly dropArea: EventEmitter<null> = new EventEmitter();\n  @Output() readonly dragOver: EventEmitter<null> = new EventEmitter();\n  @Output() readonly startFileUploading: EventEmitter<StartFileUploadingEvent> = new EventEmitter();\n  @Output() readonly endFileUploading: EventEmitter<FileObj> = new EventEmitter();\n  @Output() readonly errorFileUploading: EventEmitter<{ file: FileObj; error: HttpErrorResponse }> = new EventEmitter();\n  @Output() readonly finishedFileUploading: EventEmitter<FileObj[]> = new EventEmitter();\n  @Output() readonly removedFileFromQueue: EventEmitter<FileObj> = new EventEmitter();\n  @Output() readonly deletedFile: EventEmitter<FileObj> = new EventEmitter();\n  @Output() readonly cancelUploading: EventEmitter<FileObj[]> = new EventEmitter();\n\n  /**\n   * Event on ngModel change\n   */\n  @Output() readonly valueChange: EventEmitter<FileObj[] | null> = new EventEmitter<FileObj[] | null>();\n\n  // eslint-disable-next-line @angular-eslint/no-output-native\n  @Output() readonly focus: EventEmitter<any> = new EventEmitter();\n  // eslint-disable-next-line @angular-eslint/no-output-native\n  @Output() readonly blur: EventEmitter<any> = new EventEmitter();\n\n  // Need for using inherited properties in the template\n  context: AdaptUploaderComponent = this;\n\n  id: string;\n  statusMessages: UploaderFeedbackMessage[] = [];\n  uploaded: FileObj[] = [];\n  cloudColor: string;\n  folderUploadingForbiddenMsg: string = 'Your browser does not support folders uploading.';\n  isFoldersNotAllowed: boolean = false;\n  readFolder: boolean = false;\n  currentFolder: string;\n  isDragOverMask: boolean = false;\n  isRtl: boolean = false;\n\n  isUploadLimitExceed: boolean = false;\n\n  private _droppable: number = 0;\n  private _alreadyUsed: boolean = false;\n  private _onDragEnter: () => void;\n  private _onDragOver: () => void;\n  private _onDragLeave: () => void;\n  private _onDragDrop: () => void;\n  private _positioned: boolean = false;\n  private _defaultCloudColor: string = '#D9D9D9';\n  private _activeCloudColor: string = '#1BB1A8';\n  private _animationPlayers: {\n    visibleDnd: AnimationPlayer;\n    hiddenDnd: AnimationPlayer;\n    visibleDrop: AnimationPlayer;\n    hiddenDrop: AnimationPlayer;\n  } = {\n    visibleDnd: null,\n    hiddenDnd: null,\n    visibleDrop: null,\n    hiddenDrop: null\n  };\n  private _isTouched: boolean = false;\n  private _filesListDiffer: IterableDiffer<FileObj> | null;\n  private _showFiles: FileObj[] = [];\n  private _destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  get files(): FileObj[] {\n    return this.fileManager.getFiles();\n  }\n\n  get maxFileCountUploaded(): boolean {\n    return this.uploaded.length >= this.filesCount;\n  }\n\n  get hasMaxFileCountSelected(): boolean {\n    return this.filesCount <= this.files.length;\n  }\n\n  get selectFilesButtonTooltip(): string {\n    return this.hasMaxFileCountSelected ? formatString(this.texts.btnMaxFilesTooltip, this.filesCount) : '';\n  }\n\n  get isDisabledSelectBtn(): boolean {\n    return this.disabled || this.disableFileDialog() || !this.allowedUploading() || this.maxFileCountUploaded\n      || this.hasMaxFileCountSelected;\n  }\n\n  get isUploadingProcess(): boolean {\n    return this.files.some(file => file.inUploading);\n  }\n\n  get filesAddedCount(): string {\n    return formatString(this.texts.filesAddedCount, this.files.length);\n  }\n\n  get filesUploadedCount(): string {\n    return formatString(this.texts.filesUploadedCount, this.uploaded.length, this.files.length);\n  }\n\n  get directorySearch(): string {\n    return formatString(this.texts.directorySearch, this.currentFolder);\n  }\n\n  private _chunkSize: number = FileSize.MB;\n\n  get chunkSize(): string {\n    return isNil(this._chunkSize) ? this._chunkSize : this._chunkSize.toString();\n  }\n\n  @Input()\n  set chunkSize(value: string) {\n    this._chunkSize = isNil(value) ? value : retrieveFileSize(value);\n  }\n\n  private _maxFileSize: number = FileSize.MB * 20;\n\n  get maxFileSize(): string {\n    return this._maxFileSize.toString();\n  }\n\n  @Input()\n  set maxFileSize(value: string) {\n    this._maxFileSize = retrieveFileSize(value);\n  }\n\n  @HostBinding('class')\n  get hostClasses(): string {\n    return [\n      this.mainCls,\n      'adapt-uploader',\n      this.enableDnD ? '' : 'is-no-dnd',\n      this.isErrorExist ? 'has-danger' : '',\n      this.isWarningExist ? 'has-warning' : '',\n      this.disabled ? 'disabled' : '',\n      this.readonly ? 'readonly' : '',\n      this.suppressIcons ? 'prevent-success-icon' : ''\n    ].join(' ');\n  }\n\n  get isErrorExist(): boolean {\n    return this.required && !this.files.length && (this.customFormControl ? this.control.touched : this._isTouched);\n  }\n\n  get isWarningExist(): boolean {\n    return !!this.statusMessages.length && this.statusMessages.some(message => message.variant === MessageStatus.Warning);\n  }\n\n  get uploadLimitExceed(): string {\n    return formatString(this.texts.uploadFilesLimit, this.filesCount - this.files.length);\n  }\n\n  set value(v: FileObj[]) {\n    this._value = v;\n  }\n\n  get value(): FileObj[] {\n    return this._value;\n  }\n\n  private _value: FileObj[];\n\n  constructor(private fileManager: FileManager,\n              private iconService: IconManager,\n              private _renderer: Renderer2,\n              private _elRef: ElementRef,\n              private _dir: Directionality,\n              private _animationBuilder: AnimationBuilder,\n              private _injector: Injector,\n              private _differs: IterableDiffers,\n              private cd: ChangeDetectorRef,\n              ts: AdaptTranslateService,\n              protected _adaptRadarService: AdaptRadarService) {\n    super(_injector, ts, _adaptRadarService, _elRef, AdaptRadarAngularCustomEventName.AdaptUploader);\n\n    this.isRtl = this._dir.value === 'rtl';\n    this.id = count.toString();\n    count++;\n    this.setDefaultTexts(ts.getCurrentLanguage());\n  }\n\n  ngOnInit(): void {\n    // Sending radar event directly to avoid issues with the premature invocation of \"initControl\" in parent ngOnInit()\n    // ERROR NullInjectorError: R3InjectorError(AppModule)[NgControl -> NgControl -> NgControl]:\n    // So do not call super.ngOnInit() here\n    // TODO: ?\n    this._adaptRadarService.sendGenericComponentEvent(AdaptRadarAngularCustomEventName.AdaptUploader);\n\n    if (this.customFormControl) {\n      this.initControl();\n    }\n\n    this.initTextsValues();\n    this.initFileErrors();\n\n    this._customErrorTexts = {\n      required: {\n        name: '',\n        text: this.texts.required\n      },\n      ...this._customErrorTexts\n    };\n\n    this.iconService.init(this.icons);\n\n    this.fileManager.messagesSubject\n      .pipe(takeUntil(this._destroyed$))\n      .subscribe((msg: UploaderFeedbackMessage) => {\n        this.statusMessages.push(msg);\n      });\n\n    this.fileManager.uploadingStartSubject.pipe(takeUntil(this._destroyed$)).subscribe(({file}) => {\n      const fileEvent: StartFileUploadingEvent = {\n        ...file,\n        // Perhaps always id === 1, because it is the first chunk or file,\n        // but just in case this algorithm\n        id: this.fileManager.getFileRequestId(this.fileManager.getChunkStart(INITIAL_CHUNK_NUMBER, this._chunkSize), this._chunkSize),\n      };\n\n      this.startFileUploading.emit(fileEvent);\n    });\n\n    this.fileManager.uploadedSubject.pipe(takeUntil(this._destroyed$)).subscribe((file: FileObj) => {\n      this.uploaded.push(file);\n      this.endFileUploading.emit(file);\n    });\n\n    this.fileManager.canceledSubject.pipe(takeUntil(this._destroyed$)).subscribe((files: FileObj[]) => {\n      this.cancelUploading.emit(files);\n    });\n\n    this.fileManager.errorUploadingSubject.pipe(takeUntil(this._destroyed$))\n      .subscribe((data: { file: FileObj; error: HttpErrorResponse }) => {\n        this.errorFileUploading.emit(data);\n      });\n\n    this.fileManager.uploadingFinishedSubject.pipe(takeUntil(this._destroyed$)).subscribe((files: FileObj[]) => {\n      this.finishedFileUploading.emit(files);\n    });\n    this.cloudColor = this._defaultCloudColor;\n\n    for (const prop in this._customErrorTexts) {\n      if (prop) {\n        this.overrideBuildInValidatorMessage(prop, () => this._customErrorTexts[prop]);\n      }\n    }\n\n    this._filesListDiffer = this._differs.find(this.showFiles).create();\n\n    if (this.tooltipIconCls && !this.popoverIcon) {\n      this.tooltipConfig = {\n        iconName: this.tooltipIconCls,\n        content: this.tooltipText,\n        placement: 'top',\n        popoverMode: false\n      };\n    } else if (this.popoverIcon) {\n      this.tooltipConfig = {\n        iconName: this.popoverIcon,\n        content: this.popoverContent,\n        placement: this.popoverPlacement,\n        popoverMode: true,\n        popoverTriggers: this.popoverTriggers\n      };\n    }\n  }\n\n  setDefaultTexts(translation: KeyValueObject): void {\n    this.uploaderTextsDefault.fileBtn = translation['adapt.uploader.attachFiles'];\n    this.uploaderTextsDefault.folderBtn = translation['adapt.uploader.attachFolder'];\n    this.uploaderTextsDefault.allowedTypes = translation['adapt.uploader.allowedTypes'];\n    this.uploaderTextsDefault.fileTypesDivider = translation['adapt.uploader.fileTypesDivider'];\n    this.uploaderTextsDefault.maxFileSize = translation['adapt.uploader.maxFileSize'];\n    this.uploaderTextsDefault.filesCount = translation['adapt.uploader.filesCount'];\n    this.uploaderTextsDefault.fileMode = translation['adapt.uploader.fileMode'];\n    this.uploaderTextsDefault.dirMode = translation['adapt.uploader.dirMode'];\n    this.uploaderTextsDefault.mixMode = translation['adapt.uploader.mixMode'];\n    this.uploaderTextsDefault.dragAndDrop = translation['adapt.uploader.dragAndDrop'];\n    this.uploaderTextsDefault.uploadFilesLimit = translation['adapt.uploader.uploadFilesLimit'];\n    this.uploaderTextsDefault.required = translation['adapt.uploader.required'];\n    this.uploaderTextsDefault.showMore = translation['adapt.uploader.showMore'];\n    this.uploaderTextsDefault.showLess = translation['adapt.uploader.showLess'];\n    this.uploaderTextsDefault.btnMaxFilesTooltip = translation['adapt.uploader.maxFilesTooltip'];\n    this.uploaderTextsDefault.btnCancelUploading = translation['adapt.uploader.cancelUploading'];\n    this.uploaderTextsDefault.btnRemoveFile = translation['adapt.uploader.removeFile'];\n    this.uploaderTextsDefault.btnDeleteFile = translation['adapt.uploader.deleteFile'];\n    this.uploaderTextsDefault.btnRemoveCanceled = translation['adapt.uploader.removeCanceled'];\n    this.uploaderTextsDefault.btnDownloadFile = translation['adapt.uploader.downloadFile'];\n    this.uploaderTextsDefault.fileStatus.canceled = translation['adapt.uploader.fileStatus.canceled'];\n    this.uploaderTextsDefault.fileStatus.uploaded = translation['adapt.uploader.fileStatus.uploaded'];\n    this.uploaderTextsDefault.fileStatus.uploading = translation['adapt.uploader.fileStatus.uploading'];\n    this.uploaderTextsDefault.filesAddedCount = translation['adapt.uploader.filesAddedCount'];\n    this.uploaderTextsDefault.filesUploadedCount = translation['adapt.uploader.filesUploadedCount'];\n    this.uploaderTextsDefault.directorySearch = translation['adapt.uploader.directorySearch'];\n    this.uploaderTextsDefault.remainingFilesListLabel = translation['adapt.uploader.remainingFilesListLabel'];\n    this.uploaderTextsDefault.btnCancelAllUploads = translation['adapt.uploader.cancelAllUploads'];\n    this.uploaderTextsDefault.notFound = translation['adapt.uploader.notFound'];\n    this.uploaderTextsDefault.comma = translation['adapt.common.comma'];\n  }\n\n  setFilesList(files: FileObj[]): void {\n    const changes = this._filesListDiffer.diff(files);\n\n    if (changes) {\n      changes.forEachAddedItem(file => {\n        this.showFiles.push(file.item);\n        this.fileManager.updateFilesStorage(file.item, true);\n      });\n      changes.forEachRemovedItem(file => {\n        const index = this.showFiles.indexOf(file.item);\n\n        if (index >= 0) {\n          this.showFiles.splice(index, 1);\n        }\n        this.fileManager.decreaseFilesStorage(file.item);\n      });\n\n      this._markComponentTouched();\n      this._propagateChanges();\n\n      this._componentEmptyState();\n    }\n  }\n\n  writeValue(value: FileObj[]): void {\n    if (value && value.length) {\n      this.showFiles = value;\n      this.fileManager.updateFilesStorage(value);\n      this.clearWarningMessages();\n    } else {\n      this.fileManager.resetFilesStorage();\n    }\n\n    this._propagateChanges();\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this._onTouchedCallback = fn;\n  }\n\n  validate(): null {\n    return null;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n\n    if (!this.droppableArea) {\n      this.droppableArea = this.droppableAreaBlock.nativeElement;\n    }\n\n    if (isUndefined(this.fileInput.nativeElement.webkitdirectory)) {\n      adaptWarn(this.folderUploadingForbiddenMsg);\n      this.isFoldersNotAllowed = true;\n      this.selectionMode = UploaderSelectionMode.File;\n\n      SafeCdr.detectChanges(this.cd);\n    }\n\n    if (this.enableDnD) {\n      this.addDragEvents();\n    }\n\n    observableFromEvent(this.fileInput.nativeElement, 'change')\n      .pipe(\n        takeUntil(this._destroyed$)\n      )\n      .subscribe((e: Event) => {\n        this.onChangeFileInput(e);\n      });\n  }\n\n  addDragEvents(): void {\n    this._onDragEnter = this.ondragEnter.bind(this);\n    this.droppableArea.addEventListener('dragenter', this._onDragEnter);\n\n    this._onDragOver = this.ondragOver.bind(this);\n    this.droppableArea.addEventListener('dragover', this._onDragOver);\n\n    this._onDragLeave = this.ondragLeave.bind(this);\n    this.droppableArea.addEventListener('dragleave', this._onDragLeave);\n\n    this._onDragDrop = this.ondragDrop.bind(this);\n    this.droppableArea.addEventListener('drop', this._onDragDrop);\n\n    document.addEventListener('dragover', this._preventDefault);\n    document.addEventListener('drop', this._preventDefault);\n  }\n\n  initFileErrors(): void {\n    if (this.fileErrors) {\n      this.fileManager.fileErrors = {...this.fileManager.fileErrors, ...this.fileErrors};\n\n      Object.keys(this.fileManager.fileErrors).forEach((key) => this.fileManager.messages[key] = {\n        errorMessage: '',\n        files: []\n      });\n\n    }\n  }\n\n  initTextsValues(): void {\n    this.texts = {...this.uploaderTextsDefault, ...this.texts};\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.texts && !isUndefined(changes.texts.previousValue)) {\n      this.initTextsValues();\n    }\n\n    if (changes.fileErrors && !isUndefined(changes.fileErrors.previousValue)) {\n      this.initFileErrors();\n    }\n  }\n\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n\n    if (!this.disabled && this.enableDnD) {\n      this.droppableArea.removeEventListener('dragenter', this._onDragEnter);\n      this.droppableArea.removeEventListener('dragover', this._onDragOver);\n      this.droppableArea.removeEventListener('dragleave', this._onDragLeave);\n      this.droppableArea.removeEventListener('drop', this._onDragDrop);\n\n      document.removeEventListener('dragover', this._preventDefault);\n      document.removeEventListener('drop', this._preventDefault);\n    }\n\n    this.cancelAllUploads();\n    this._destroyed$.next(true);\n    this._destroyed$.complete();\n  }\n\n  cancelAllUploads(): void {\n    if (this.files.every(file => !file.inUploading)) {\n      return;\n    }\n\n    const uploadInputs = {\n      chunkSize: this._chunkSize,\n      uploadUrl: this.url,\n      customErrors: this.customErrors\n    };\n\n    this.fileManager.abortUploading(uploadInputs);\n  }\n\n  ondragEnter(e: DragEvent): void {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (this.disabled || this.readonly || this._droppable || !this.dataHasFiles(e) || this.hasMaxFileCountSelected) {\n      return;\n    }\n\n    // check if the upload files limit exceeded\n\n    // event.dataTransfer.items is not available in Internet Explorer and Safari\n    // Mime types or number of dragged files can therefore not be determined in drag events, only on drop\n    // so we explicitly set the value to 0\n    const dndFilesCount: number = e.dataTransfer.items ? e.dataTransfer.items.length : 0;\n\n    this.isUploadLimitExceed = dndFilesCount > (this.filesCount - this.files.length);\n\n    this.isDragOverMask = true;\n    this._renderer.addClass(this.droppableArea, 'adapt-drop-wrp');\n    this._renderer.addClass(this.dropEnter.nativeElement, 'pointer-events');\n\n    this._droppable++;\n\n    this._createAnimationPlayers();\n    this._animateDndChange();\n  }\n\n  ondragOver(e: DragEvent): void {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (this.disabled || this.readonly || this.isUploadLimitExceed) {\n      e.dataTransfer.dropEffect = 'none';\n    }\n\n    this.dragOver.emit(null);\n  }\n\n  ondragLeave(e: DragEvent): void {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (e.target !== this.droppableArea) {\n      return;\n    }\n\n    this._droppable--;\n\n    if (!this._droppable) {\n      this.isDragOverMask = false;\n      this._animateDndChange();\n\n      this._renderer.removeClass(this.dropEnter.nativeElement, 'pointer-events');\n      this._renderer.removeClass(this.droppableArea, 'adapt-drop-wrp');\n\n      this._markComponentTouched();\n      this._componentEmptyState();\n    }\n  }\n\n  ondragDrop(e: DragEvent): void {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.clearWarningMessages();\n\n    this._markComponentTouched();\n\n    if (this.hasMaxFileCountSelected) {\n      return;\n    }\n\n    if (isUndefined(this.fileInput.nativeElement.webkitdirectory)) {\n      const files = toArray(e.dataTransfer.files);\n\n      this.addFilesEmission(files);\n\n      this._componentEmptyState();\n\n      return;\n    }\n\n    const items = toArray(e.dataTransfer.items);\n\n    this.resolveDroppedItems(items).then((values) => {\n      this.addFilesEmission(values);\n      this._componentEmptyState();\n    }, (err: DOMException) => {\n      this.statusMessages.push({title: err.name, text: err.message, variant: MessageStatus.Warning});\n      this.addFilesEmission([]);\n      this._componentEmptyState();\n    });\n  }\n\n  resolveDroppedItems(items: DataTransferItem[]): Promise<FileSystemEntry[]> {\n    return new Promise((resolve, reject) => {\n      const promises = [];\n      let files = [];\n\n      items.forEach((item) => {\n        const itemEntry: FileSystemDirectoryEntry | FileSystemFileEntry = item.webkitGetAsEntry();\n\n        if (itemEntry.isDirectory) {\n          // Allowed to upload directories and browser know about directories\n          if (this.allowDirUploading()) {\n            this.readFolder = true;\n            promises.push(this.getDirectory(itemEntry));\n\n            return;\n          }\n\n          // check if folderSuppress error is already added to the statusMessages array\n          const messageIndex = this.statusMessages\n            .map(message => message.text)\n            .indexOf(this.fileManager.fileErrors.folderSuppress);\n\n          if (messageIndex === -1) {\n            this.statusMessages.push({\n              text: this.fileManager.fileErrors.folderSuppress,\n              variant: MessageStatus.Warning\n            });\n          }\n        }\n\n        if (itemEntry.isFile) {\n          if (this.selectionMode === UploaderSelectionMode.Directory) {\n            // check if fileSuppress error is already added to the statusMessages array\n            const messageIndex = this.statusMessages\n              .map(message => message.text)\n              .indexOf(this.fileManager.fileErrors.fileSuppress);\n\n            if (messageIndex === -1) {\n              this.statusMessages.push({\n                text: this.fileManager.fileErrors.fileSuppress,\n                variant: MessageStatus.Warning\n              });\n            }\n\n            return;\n          }\n\n          promises.push(this.getFile(itemEntry));\n        }\n      });\n\n      Promise.all(promises).then((values) => {\n        files = values.reduce((acc, item) => {\n          return acc.concat(item);\n        }, files);\n\n        this.readFolder = false;\n        resolve(files);\n      }, (err: DOMException) => {\n        this.statusMessages.push({title: err.name, text: err.message, variant: MessageStatus.Warning});\n        this.readFolder = false;\n        reject(err);\n      });\n    });\n  }\n\n  /**\n   * Manages ability to select files via file dialog window\n   */\n  disableFileDialog(): boolean {\n    return !this.enableFileDialog;\n  }\n\n  /**\n   * Allows/Forbids to select multiple files for uploading\n   */\n  isMultipleAllowed(): boolean {\n    return this.filesCount > 1;\n  }\n\n  /**\n   * Opens file dialog window for files selection, fires appropriate events\n   */\n  openFileDialog(isDir: boolean): void {\n    if (!isUndefined(this.fileInput.nativeElement.webkitdirectory)) {\n      this.fileInput.nativeElement.webkitdirectory = !!isDir;\n    }\n\n    this.beforeFileDialogOpen.emit(null);\n    this.fileInput.nativeElement.click();\n    this.afterFileDialogOpen.emit(null);\n  }\n\n  onChangeFileInput(e: Event): void {\n    const files = toArray((e.target as HTMLInputElement).files);\n\n    if (files.length) {\n      this.addFiles(files);\n    }\n\n    this._markComponentTouched();\n    this._componentEmptyState();\n  }\n\n  isManualMode(): boolean {\n    return this.mode === UploaderMode.Manual;\n  }\n\n  allowFileUploading(): boolean {\n    return this.selectionMode === UploaderSelectionMode.File || this.selectionMode === UploaderSelectionMode.Both;\n  }\n\n  allowDirUploading(): boolean {\n    return this.selectionMode === UploaderSelectionMode.Directory || this.selectionMode === UploaderSelectionMode.Both;\n  }\n\n  fileMode(): UploaderSelectionMode.File {\n    return UploaderSelectionMode.File;\n  }\n\n  dirMode(): UploaderSelectionMode.Directory {\n    return UploaderSelectionMode.Directory;\n  }\n\n  mixMode(): UploaderSelectionMode.Both {\n    return UploaderSelectionMode.Both;\n  }\n\n  allowedUploading(): boolean {\n    return this.reusable || !this._alreadyUsed;\n  }\n\n  startUploading(): void {\n    if (this.readonly || this.disabled) {\n      return;\n    }\n\n    this._markComponentTouched();\n\n    if (this.isErrorExist) {\n      if (!this.customFormControl) {\n        // check if required error is already added to the statusMessages array\n        const messageIndex = this.statusMessages\n          .map(message => message.text)\n          .indexOf(this.texts.required);\n\n        if (messageIndex === -1) {\n          this.statusMessages.push({text: this.texts.required, variant: MessageStatus.Danger});\n        }\n      }\n\n      return;\n    }\n\n    if (this.allowedUploading()) {\n      const uploadInputs = {\n        chunkSize: this._chunkSize,\n        uploadUrl: this.url,\n        customErrors: this.customErrors\n      };\n\n      this.fileManager.startUploading(uploadInputs);\n\n      if (!this.reusable) {\n        this._alreadyUsed = true;\n      }\n    }\n  }\n\n  removedFromQueue(file: FileObj): void {\n    const index = this.uploaded.indexOf(file);\n\n    if (index >= 0) {\n      this.uploaded.splice(index, 1);\n    }\n\n    if (!file.canceled) {\n      this.removedFileFromQueue.emit(file);\n    }\n\n    this._markComponentTouched();\n    this._propagateChanges();\n\n    this._componentEmptyState();\n  }\n\n  fileDeleted(file: FileObj): void {\n    const index = this.uploaded.indexOf(file);\n\n    if (index >= 0) {\n      this.uploaded.splice(index, 1);\n    }\n\n    this.deletedFile.emit(file);\n\n    this._markComponentTouched();\n    this._propagateChanges();\n\n    this._componentEmptyState();\n  }\n\n  clearWarningMessages(): void {\n    this.statusMessages = [];\n  }\n\n  /**\n   * Adds files to uploader service\n   */\n\n  private addFiles(files: (File | FileSystemEntry)[]): void {\n    this.clearWarningMessages();\n\n    if (this.allowedUploading()) {\n      if (this.mode === UploaderMode.Auto && !this.reusable) {\n        this._alreadyUsed = true;\n      }\n\n      this.beforeFilesAdded.emit(files);\n      this.fileManager.addFiles(\n        files,\n        this.allowDeletion,\n        this.mode, this.suppressParallel,\n        this.allowDuplicates,\n        this._maxFileSize, this._chunkSize,\n        this.allowedTypes, this.forbiddenTypes,\n        this.filesCount,\n        this.customErrors, this.url);\n      this.afterFilesAdded.emit(files);\n\n      this._propagateChanges();\n\n      // don't do \"value = ''\" due to secondary event firing in IE with 0 files\n      // thus statusMessages are cleared\n\n      // uncomment selection - we need to clear input element, so input change event would fire\n      // for the IE we have validation for the files array length\n      this.fileInput.nativeElement.value = '';\n\n      this._positioned = false;\n    }\n  }\n\n  private _updateStorageWithUploadedFiles(): void {\n    if (this.showFiles) {\n      this.fileManager.updateFilesStorage(this.showFiles, true);\n    }\n  }\n\n  /**\n   * Checks if the dragged data has files\n   */\n\n  private dataHasFiles(e: DragEvent): boolean {\n    const types = Array.prototype.slice.call(e.dataTransfer.types);\n\n    return types.indexOf('Files') !== -1;\n  }\n\n  private getFile(item: FileSystemFileEntry, dirName: string = ''): Promise<FileSystemEntry> {\n    return new Promise<FileSystemEntry>((resolve, reject) => {\n      item.file((f) => {\n        f.fullPath = dirName ? `${dirName}/${f.name}` : f.name;\n        resolve(f);\n      }, (err: DOMException) => {\n        reject(err);\n      });\n    });\n  }\n\n  private getDirectory(item: FileSystemDirectoryEntry): Promise<FileSystemEntry[]> {\n    this.currentFolder = item.name;\n\n    return new Promise((resolve, reject) => {\n      const promises = [];\n      const reader = item.createReader();\n\n      reader.readEntries((entries: (FileSystemDirectoryEntry | FileSystemFileEntry)[]) => {\n        entries.forEach((entry) => {\n          let promise: Promise<FileSystemEntry> | Promise<FileSystemEntry[]>;\n\n          if (entry.isDirectory) {\n            promise = this.getDirectory(entry);\n          } else if (entry.isFile) {\n            promise = this.getFile(entry, item.fullPath.slice(1));\n          }\n\n          if (promise) {\n            promises.push(promise);\n          }\n        });\n\n        Promise.all(promises).then((values) => {\n          let dirFiles = [];\n\n          dirFiles = values.reduce((acc, value) => {\n            return acc.concat(value);\n          }, dirFiles);\n\n          resolve(dirFiles);\n        }, (err: DOMException) => {\n          reject(err);\n        });\n      });\n    });\n  }\n\n  private addFilesEmission(files: (File | FileSystemEntry)[]): void {\n    this.dropArea.emit(null);\n\n    if (files.length) {\n      this.addFiles(files);\n    }\n\n    this._droppable = 0;\n    this.isDragOverMask = false;\n    this._animateDndChange();\n\n    this._renderer.removeClass(this.droppableArea, 'adapt-drop-wrp');\n    this._renderer.removeClass(this.dropEnter.nativeElement, 'pointer-events');\n  }\n\n  private _preventDefault(e: DragEvent): void {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  private _animateDndChange(): void {\n    this._animationPlayers.hiddenDnd.reset();\n    this._animationPlayers.visibleDnd.reset();\n    this._animationPlayers.hiddenDrop.reset();\n    this._animationPlayers.visibleDrop.reset();\n\n    const currentPlayerDnd = this.isDragOverMask ? this._animationPlayers.hiddenDnd : this._animationPlayers.visibleDnd;\n    const currentPlayerDrop = this.isDragOverMask ? this._animationPlayers.visibleDrop : this._animationPlayers.hiddenDrop;\n\n    currentPlayerDnd.play();\n    currentPlayerDrop.play();\n\n    currentPlayerDrop.onDone(() => {\n      if (!this._droppable) {\n        this.isUploadLimitExceed = false;\n      }\n    });\n  }\n\n  private _createAnimationPlayers(): void {\n    const players = Object.keys(this._animationPlayers);\n\n    players.forEach((player) => {\n      if (this._animationPlayers[player]) {\n        this._animationPlayers[player].destroy();\n      }\n    });\n\n    this._animationPlayers.hiddenDnd = this._animationBuilder.build(ANIMATION_DND.hidden[this._dir.value])\n      .create(this.dnd.nativeElement);\n    this._animationPlayers.visibleDnd = this._animationBuilder.build(ANIMATION_DND.visible[this._dir.value])\n      .create(this.dnd.nativeElement);\n    this._animationPlayers.hiddenDrop = this._animationBuilder.build(ANIMATION_DROP.hidden[this._dir.value])\n      .create(this.drop.nativeElement);\n    this._animationPlayers.visibleDrop = this._animationBuilder.build(ANIMATION_DROP.visible[this._dir.value])\n      .create(this.drop.nativeElement);\n  }\n\n  private _componentEmptyState(): void {\n    if (this.files.length) {\n      return;\n    }\n\n    if (this.isErrorExist && !this.customFormControl) {\n      // check if required error is already added to the statusMessages array\n      const messageIndex = this.statusMessages\n        .map(message => message.text)\n        .indexOf(this.texts.required);\n\n      if (messageIndex === -1) {\n        this.statusMessages.push({text: this.texts.required, variant: MessageStatus.Danger});\n      }\n    }\n  }\n\n  private _onTouchedCallback: () => void = () => {\n    return;\n  };\n\n  private _markComponentTouched(): void {\n    this._isTouched = true;\n    this._onTouchedCallback();\n  }\n\n  private _propagateChanges(): void {\n    this.propagateChange(this.files);\n    this.valueChange.emit(this.files);\n  }\n\n  private _updateUploadedFiles(): void {\n    this.uploaded = [];\n\n    if (this.showFiles.length) {\n      this.showFiles.forEach(file => {\n        if (file.uploaded === FILE_IS_UPLOADED_PERCENTAGE && !file.canceled && !file.error) {\n          this.uploaded.push(file);\n        }\n      });\n    }\n\n    this._updateStorageWithUploadedFiles();\n  }\n}\n","<input #fileInput type=\"file\" [multiple]=\"isMultipleAllowed()\" hidden\n       [attr.aria-label]=\"'File Control'\"\n       [attr.aria-hidden]/>\n\n<div class=\"adapt-uploader__wrp\" #droppableAreaBlock>\n  <div class=\"adapt-uploader__content\" #dropEnter>\n    <!--  Label  -->\n    <adapt-rx-control-label [label]=\"label\"\n                            [requiredLabel]=\"context.requiredLabel\"\n                            [showRequiredLabel]=\"context.required\"\n                            [tooltip]=\"tooltipConfig\"></adapt-rx-control-label>\n    <!--  Label END  -->\n\n    <ng-content></ng-content>\n\n    <div class=\"adapt-uploader-dnd-animation__wrp\">\n      <ng-template [ngTemplateOutlet]=\"readonly\n                                       ? files.length ? emptyTmpl : emptyReadonly\n                                       : controlsData\">\n      </ng-template>\n    </div>\n\n    <!--  Errors & Warnings -->\n    <div class=\"adapt-uploader-block-level-text\">\n      <adapt-alert *ngFor=\"let msg of statusMessages\"\n                   [config]=\"{title: msg.title ? msg.title : '', content: errorMessageTemplate, type: 'inline', variant: msg.variant, icon: false}\"\n                   class=\"adapt-uploader-messages\">\n        <ng-template #errorMessageTemplate>\n          {{msg.text}}\n          <ng-container *ngIf=\"msg.files && msg.files.length\">\n            <div [adaptPopover]=\"remainingFileListTemplate\"\n                 [adaptRadarDisableEventSending]=\"true\"\n                 [placement]=\"'auto'\"\n                 [maxWidth]=\"600\"\n                 class=\"remaining-files-list\">\n              {{texts.remainingFilesListLabel}}\n            </div>\n          </ng-container>\n\n          <ng-template #remainingFileListTemplate>\n            <ng-template ngFor let-file let-index=\"index\" let-last=\"last\" [ngForOf]=\"msg.files\">\n              <span class=\"file-name\">{{file.name}}<span *ngIf=\"!last\">{{texts.comma}} </span></span>\n            </ng-template>\n          </ng-template>\n        </ng-template>\n      </adapt-alert>\n\n      <ng-container *ngIf=\"customFormControl && context.errors && context.errors.length && context.control.touched\">\n        <adapt-alert *ngFor=\"let error of context.errors\"\n                     [config]=\"{title: error.name, content: error.text, type: 'inline', variant: 'danger', icon: false}\"\n                     class=\"adapt-uploader-messages\"></adapt-alert>\n      </ng-container>\n    </div>\n\n    <!--  Restricts  -->\n    <div class=\"adapt-uploader-restrict\" *ngIf=\"!readonly\">\n      <div class=\"adapt-uploader-restrict-types\" *ngIf=\"allowedTypes.length\">\n        <p class=\"d-inline-block mb-0\">{{texts.allowedTypes}}</p>\n        <span class=\"letter-space\"></span>\n        <p class=\"d-inline-block mb-0\">{{allowedTypes | fileTypes:texts.fileTypesDivider }}</p>\n      </div>\n\n      <div class=\"adapt-uploader-restrict-size\">\n        <p class=\"d-inline-block mb-0\">{{texts.maxFileSize}}</p>\n        <span class=\"letter-space\"></span>\n        <p class=\"d-inline-block mb-0\">{{maxFileSize | fileSize}}</p>\n      </div>\n\n      <div class=\"adapt-uploader-restrict-files-count\">\n        <p class=\"d-inline-block mb-0\">{{texts.filesCount}}</p>\n        <span class=\"letter-space\"></span>\n        <p class=\"d-inline-block mb-0\">{{filesCount}}</p>\n      </div>\n    </div>\n\n    <!--  Files wrapper  -->\n    <div class=\"adapt-uploader-list-files-wrapper\" *ngIf=\"files.length\">\n      <div class=\"adapt-uploader-list-files-zone\">\n        <div class=\"adapt-uploader-list-files-zone__header\">\n          <p *ngIf=\"isManualMode()\" class=\"adapt-uploader-list-title p-start-3\">{{filesAddedCount}}</p>\n          <p *ngIf=\"!isManualMode()\"\n             class=\"adapt-uploader-list-title p-start-3\"\n             [class.text-info]=\"maxFileCountUploaded\">{{filesUploadedCount}}</p>\n          <button adapt-button\n                  type=\"button\"\n                  btn-type=\"tertiary\"\n                  class=\"adapt-uploader-cancel\"\n                  [adaptRadarDisableEventSending]=\"true\"\n                  (click)=\"cancelAllUploads()\"\n                  *ngIf=\"isUploadingProcess\">\n            <span class=\"d-icon-cross_adapt pr-1\"></span>\n            <span>{{texts.btnCancelAllUploads}}</span>\n          </button>\n        </div>\n        <adapt-uploader-item *ngFor=\"let file of files | slice:0:visibleFiles; let id = index;\"\n                             [disabled]=\"disabled\"\n                             [readonly]=\"readonly\"\n                             [collapseBlock]=\"false\"\n                             [reusable]=\"reusable\"\n                             [indeterminateFileLoader]=\"indeterminateFileLoader\"\n                             [url]=\"url\"\n                             [deleteUrl]=\"deleteUrl\"\n                             [chunkSize]=\"chunkSize\"\n                             [customErrors]=\"customErrors\"\n                             (afterFileRemove)=\"removedFromQueue($event)\"\n                             (fileDeleted)=\"fileDeleted($event)\"\n                             [file]=\"file\" [id]=\"id\" [texts]=\"texts\"></adapt-uploader-item>\n\n        <div #fileList=\"collapse\" [collapse]>\n          <adapt-uploader-item *ngFor=\"let file of files | slice:visibleFiles; let id = index;\"\n                               [disabled]=\"disabled\"\n                               [readonly]=\"readonly\"\n                               [reusable]=\"reusable\"\n                               [indeterminateFileLoader]=\"indeterminateFileLoader\"\n                               [url]=\"url\"\n                               [deleteUrl]=\"deleteUrl\"\n                               [chunkSize]=\"chunkSize\"\n                               [customErrors]=\"customErrors\"\n                               (afterFileRemove)=\"removedFromQueue($event)\"\n                               (fileDeleted)=\"fileDeleted($event)\"\n                               [file]=\"file\" [id]=\"id + visibleFiles\" [texts]=\"texts\"></adapt-uploader-item>\n        </div>\n\n        <div class=\"d-flex justify-content-end mt-1\" *ngIf=\"files.length > visibleFiles\">\n          <button type=\"button\" class=\"btn btn-link btn-uploader-collapse-btn\" (click)=\"fileList.toggle()\"\n                  [attr.aria-expanded]=\"!fileList.isCollapsed\"\n                  aria-controls=\"collapseExample1\">\n            <span>{{fileList.isCollapsed ? texts.showMore : texts.showLess}}</span>\n          </button>\n        </div>\n      </div>\n    </div>\n    <!--  Files wrapper END -->\n\n    <adapt-alert *ngIf=\"isFoldersNotAllowed && showUploadFolderAlert\"\n                 [config]=\"{title: 'Folders uploading', content: folderUploadingForbiddenMsg, type: 'inline', variant: 'warning'}\">\n    </adapt-alert>\n  </div>\n</div>\n\n<ng-template #emptyTmpl></ng-template>\n\n<ng-template #emptyReadonly>\n  <adapt-empty-state [type]=\"'objects'\"\n                     [label]=\"texts.notFound\">\n  </adapt-empty-state>\n</ng-template>\n\n<ng-template #controlsData>\n  <ng-container *ngIf=\"enableDnD\">\n    <div class=\"adapt-uploader-dnd-animation\">\n      <div class=\"adapt-uploader-dnd\" #dnd [@uploaderInitStateAnim]=\"\n        {params: { leftStart: isRtl ? 'auto' : '15%', rightStart: isRtl ? '15%' : 'auto',\n                                          leftEnd: isRtl ? 'auto' : '0px', rightEnd: isRtl ? '0px' : 'auto'}}\">\n        <div *ngIf=\"allowFileUploading()\"\n             [adaptRadarDisableEventSending]=\"true\"\n             [adaptTooltip]=\"selectFilesButtonTooltip\"\n             [placement]=\"'auto'\"\n             class=\"d-inline-block adapt-uploader-attach-file-btn-wrap\">\n          <button type=\"button\"\n                  adapt-button\n                  btn-type=\"secondary\"\n                  class=\"adapt-uploader-attach-btn\"\n                  [adaptRadarDisableEventSending]=\"true\"\n                  [disabled]=\"isDisabledSelectBtn\" (click)=\"openFileDialog(false)\"\n                  [attr.aria-label]=\"texts.fileBtn\"\n                  [attr.aria-describedby]=\"context.ariaDescribedBy || null\">\n            <span class=\"btn-icon d-icon-file_o\"></span>\n            {{texts.fileBtn}}\n          </button>\n        </div>\n\n        <div *ngIf=\"allowDirUploading()\"\n             [adaptRadarDisableEventSending]=\"true\"\n             [adaptTooltip]=\"selectFilesButtonTooltip\"\n             [placement]=\"'auto'\"\n             class=\"d-inline-block adapt-uploader-attach-folder-btn-wrap\">\n          <button type=\"button\"\n                  adapt-button btn-type=\"secondary\"\n                  class=\"adapt-uploader-attach-btn\"\n                  [adaptRadarDisableEventSending]=\"true\"\n                  [disabled]=\"isDisabledSelectBtn\"\n                  (click)=\"openFileDialog(true)\"\n                  [attr.aria-label]=\"texts.folderBtn\"\n                  [attr.aria-describedby]=\"context.ariaDescribedBy || null\">\n            <span class=\"btn-icon d-icon-folder_o\"></span>\n            {{texts.folderBtn}}\n          </button>\n        </div>\n\n        <ng-container *ngIf=\"enableDnD\" [ngSwitch]=\"selectionMode\">\n              <span class=\"adapt-uploader-dnd-text m-start-2\" *ngSwitchCase=\"fileMode()\">\n                {{texts.fileMode}}\n              </span>\n          <span class=\"adapt-uploader-dnd-text m-start-2\" *ngSwitchCase=\"dirMode()\">\n                {{texts.dirMode}}\n              </span>\n          <span class=\"adapt-uploader-dnd-text m-start-2\" *ngSwitchCase=\"mixMode()\">\n                {{texts.mixMode}}\n              </span>\n        </ng-container>\n      </div>\n\n      <div class=\"adapt-uploader-drop\" #drop>\n        <div class=\"adapt-uploader-drop-animation\" [class.hidden]=\"readFolder\">\n          <ng-container *ngIf=\"!isUploadLimitExceed\">\n            <div class=\"adapt-uploader-drop__icon\">\n              <svg aria-hidden=\"true\" class=\"clound-icon\"\n                   xmlns=\"http://www.w3.org/2000/svg\"\n                   width=\"45\"\n                   height=\"32\"\n                   viewBox=\"0 0 72 48\"\n                   style=\"enable-background:new 0 0 72 48;\"\n                   xml:space=\"preserve\">\n                <path fill=\"#D9D9D9\" class=\"st0\"\n                      d=\"M72,36c0,6.63-5.37,12-12,12H12C5.37,48,0,42.63,0,36c0-5.98,4.39-10.9,10.12-11.81C9.41,22.26,9,20.18,9,18  C9,8.06,17.06,0,27,0c6.01,0,11.32,2.96,14.59,7.49C43.54,6.56,45.7,6,48,6c8.28,0,15,6.72,15,15c0,1.14-0.15,2.24-0.39,3.3  C67.98,25.5,72,30.27,72,36z\"/>\n              </svg>\n              <svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" class=\"arrow-icon\"\n                   width=\"45\"\n                   height=\"32\"\n                   viewBox=\"0 0 72 48\"\n                   style=\"enable-background:new 0 0 72 48;\"\n                   xml:space=\"preserve\">\n                <path fill=\"#FBFBFB\" class=\"st0\" d=\"M33,48V36H21l15-18l15,18H39v12H33z\"/>\n              </svg>\n            </div>\n            <p class=\"adapt-uploader-dnd-text m-start-2\">{{texts.dragAndDrop}}</p>\n          </ng-container>\n\n          <ng-container *ngIf=\"isUploadLimitExceed\">\n            <div class=\"adapt-uploader-drop__icon adapt-uploader-drop__icon-forbidden\">\n              <svg aria-hidden=\"true\" class=\"clound-icon__forbidden\"\n                   xmlns=\"http://www.w3.org/2000/svg\"\n                   width=\"45\"\n                   height=\"32\"\n                   viewBox=\"0 0 64 44\" style=\"enable-background:new 0 0 64 44;\"\n                   xml:space=\"preserve\">\n                        <path fill=\"#FA7A59\"\n                              d=\"M54.91,21.93c0.21-0.9,0.34-1.86,0.34-2.84c0-7.13-5.79-12.92-12.92-12.92c-1.99,0-3.85,0.49-5.53,1.29\nC33.99,3.56,29.42,1,24.25,1C15.7,1,8.75,7.95,8.75,16.5c0,1.89,0.36,3.67,0.96,5.32C4.77,22.62,1,26.86,1,32\n\tc0,5.71,4.62,10.33,10.33,10.33h41.33C58.38,42.33,63,37.71,63,32C63,27.07,59.54,22.96,54.91,21.93z M41.14,33.4\n\tc-4.75,4.73-12.22,5.01-17.31,0.85c-0.34-0.26-0.67-0.54-0.98-0.85c-0.31-0.31-0.59-0.65-0.85-0.98\n\tc-4.16-5.09-3.88-12.55,0.85-17.31c4.75-4.73,12.22-5.01,17.31-0.85c0.34,0.26,0.67,0.54,0.98,0.85s0.59,0.65,0.85,0.98\n\tC46.16,21.18,45.87,28.64,41.14,33.4z M25.67,32.41c4.06,3.15,9.92,2.87,13.64-0.85c3.72-3.72,4-9.58,0.85-13.64L25.67,32.41z\n\t M24.69,16.94c-3.72,3.72-4,9.58-0.85,13.64l14.49-14.49C34.27,12.94,28.41,13.22,24.69,16.94z\"/>\n                  </svg>\n            </div>\n            <span\n              class=\"adapt-uploader-dnd-text adapt-uploader-dnd-text-forbidden m-start-2\">{{ uploadLimitExceed }}</span>\n          </ng-container>\n        </div>\n\n        <div class=\"adapt-uploader-search-animation\" *ngIf=\"readFolder\">\n          <div class=\"adapt-uploader-submask-center-inner-read\">\n            <svg fill=\"#fbfbfb\"\n                 class=\"adapt-uploader-img-read\"\n                 aria-hidden=\"true\"\n                 xmlns=\"http://www.w3.org/2000/svg\"\n                 width=\"50\"\n                 height=\"38\"\n                 viewBox=\"0 0 32 32\">\n              <path fill=\"#999999\"\n                    d=\"M11.983 3.982h-7.981l-4.017 4.017v17.751c0 0.614 0.227 1.134 0.681 1.588s0.988 0.681 1.588 0.681h27.64c0.587 0 1.094-0.2 1.508-0.614s0.614-0.921 0.614-1.508v-15.896c0-0.534-0.2-1.001-0.601-1.401-0.414-0.4-0.867-0.601-1.401-0.601h-14.014l-4.017-4.017z\"></path>\n              <path fill=\"#f2f2f2\"\n                    d=\"M10.888 6.651l3.23 3.23 0.774 0.787h14.454v14.694h-26.693v-16.256l2.442-2.442h5.792z\"/>\n            </svg>\n            <div class=\"floating\">\n              <svg class=\"adapt-uploader-img-search inner\"\n                   aria-hidden=\"true\"\n                   xmlns=\"http://www.w3.org/2000/svg\"\n                   width=\"18\"\n                   height=\"18\"\n                   viewBox=\"0 0 32 32\">\n                <path fill=\"#666666\"\n                      d=\"M31.65 28.686l-8.629-8.627c3.541-4.959 3.090-11.892-1.36-16.342-2.477-2.481-5.725-3.719-8.971-3.719-3.451 0-6.902 1.398-9.428 4.196-4.327 4.792-4.327 12.201 0 16.994 2.527 2.798 5.978 4.196 9.428 4.196 2.583 0 5.168-0.788 7.364-2.358l8.629 8.627c0.35 0.35 0.92 0.35 1.27 0l1.698-1.698c0.35-0.349 0.35-0.918 0-1.269zM6.090 19.292c-3.639-3.639-3.639-9.563 0-13.201 1.762-1.764 4.106-2.734 6.598-2.734s4.834 0.972 6.598 2.734c3.639 3.639 3.639 9.563 0 13.201-1.762 1.764-4.106 2.734-6.598 2.734s-4.837-0.972-6.598-2.734z\"/>\n              </svg>\n            </div>\n          </div>\n          <p class=\"adapt-uploader-dnd-text m-start-2\">{{directorySearch}}</p>\n        </div>\n      </div>\n    </div>\n  </ng-container>\n\n  <ng-container *ngIf=\"!enableDnD\">\n    <div class=\"adapt-uploader-dnd\">\n      <div *ngIf=\"allowFileUploading()\"\n           [adaptRadarDisableEventSending]=\"true\"\n           [adaptTooltip]=\"selectFilesButtonTooltip\"\n           [placement]=\"'auto'\"\n           class=\"d-inline-block adapt-uploader-attach-file-btn-wrap\">\n        <button type=\"button\"\n                adapt-button\n                btn-type=\"secondary\"\n                class=\"adapt-uploader-attach-btn adapt-uploader-attach-file-btn\"\n                [adaptRadarDisableEventSending]=\"true\"\n                [disabled]=\"isDisabledSelectBtn\"\n                (click)=\"openFileDialog(false)\"\n                [attr.aria-label]=\"texts.fileBtn\"\n                [attr.aria-describedby]=\"context.ariaDescribedBy || null\">\n          {{texts.fileBtn}}\n        </button>\n      </div>\n\n      <div *ngIf=\"allowDirUploading()\"\n           [adaptRadarDisableEventSending]=\"true\"\n           [adaptTooltip]=\"selectFilesButtonTooltip\"\n           [placement]=\"'auto'\"\n           class=\"d-inline-block adapt-uploader-attach-folder-btn-wrap\">\n        <button type=\"button\"\n                adapt-button\n                btn-type=\"secondary\"\n                class=\"adapt-uploader-attach-btn adapt-uploader-attach-folder-btn\"\n                [adaptRadarDisableEventSending]=\"true\"\n                [disabled]=\"isDisabledSelectBtn\"\n                (click)=\"openFileDialog(true)\"\n                [attr.aria-label]=\"texts.folderBtn\"\n                [attr.aria-describedby]=\"context.ariaDescribedBy || null\">\n          {{texts.folderBtn}}\n        </button>\n      </div>\n    </div>\n  </ng-container>\n</ng-template>\n"]}