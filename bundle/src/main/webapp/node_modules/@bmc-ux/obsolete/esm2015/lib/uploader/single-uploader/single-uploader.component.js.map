{"version":3,"file":"single-uploader.component.js","sourceRoot":"","sources":["../../../../../../../libs/adapt-obsolete/src/lib/uploader/single-uploader/single-uploader.component.ts","../../../../../../../libs/adapt-obsolete/src/lib/uploader/single-uploader/single-uploader.component.html"],"names":[],"mappings":"AAAA,OAAO,EAEL,SAAS,EACT,UAAU,EACV,YAAY,EACZ,WAAW,EACX,QAAQ,EACR,KAAK,EAIL,MAAM,EACN,SAAS,EAET,SAAS,EACV,MAAM,eAAe,CAAC;AACvB,OAAO,EAAC,gBAAgB,EAAkB,MAAM,qBAAqB,CAAC;AACtE,OAAO,EAAC,SAAS,EAAE,aAAa,EAAC,MAAM,MAAM,CAAC;AAC9C,OAAO,EAAC,cAAc,EAAC,MAAM,mBAAmB,CAAC;AAEjD,OAAO,EAAC,WAAW,EAAC,MAAM,gBAAgB,CAAC;AAC3C,OAAO,EAAC,KAAK,EAAE,WAAW,EAAE,OAAO,EAAC,MAAM,WAAW,CAAC;AACtD,OAAO,EAAC,SAAS,EAAC,MAAM,gBAAgB,CAAC;AACzC,OAAO,EACL,gCAAgC,EAEhC,qBAAqB,EACrB,aAAa,EACb,cAAc,EACd,oBAAoB,EACpB,0BAA0B,EAC1B,8BAA8B,EAE9B,WAAW,EAEX,QAAQ,EAER,aAAa,EAEb,WAAW,EACX,oBAAoB,EAEpB,aAAa,EACb,gBAAgB,EAGhB,YAAY,GAEb,MAAM,uBAAuB,CAAC;AAC/B,OAAO,EAAC,iBAAiB,EAAC,MAAM,qBAAqB,CAAC;;;;;;;;;;;;;IC5BxC,6BAA2C;IACzC,kCAAA;IAAA,+BAAuC;IACrC,oCAAA;IAAA,mBAM0B;IAN1B,+BAM0B;IAC5B,kCAAA;IAAA,2BAC0Q;IAC5Q,gCAAA;IAAA,iBAAM;IACF,oCAAA;IAAA,+BAK0B;IAC5B,mCAAA;IAAA,4BAAyE;IAC3E,iCAAA;IAAA,iBAAM;IACJ,mCAAA;IAAA,iBAAM;IACN,mCAAA;IAAA,oBAAgD;IAAhD,iCAAgD;IAAA,aAAqB;IAAA,iBAAO;IAC9E,iCAAA;IAAA,0BAAe;;;IADmC,gBAAqB;IAArB,+CAAqB;;;IAGvE,6BAA0C;IACxC,kCAAA;IAAA,+BAA2E;IACzE,oCAAA;IAAA,mBAK0B;IAL1B,+BAK0B;IACpB,0CAAA;IAAA,2BAOuE;IAC7E,oCAAA;IAAA,iBAAM;IACR,kCAAA;IAAA,iBAAM;IACN,kCAAA;IAAA,oBAC8E;IAD9E,iCAC8E;IAAA,aAA0B;IAAA,iBAAO;IACjH,iCAAA;IAAA,0BAAe;;;IADiE,gBAA0B;IAA1B,oDAA0B;;;IA7C9G,6BAAgC;IAC9B,8BAAA;IAAA,mCAAuC;IACrC,gCAAA;IAAA,8HAsBe;IAEf,kCAAA;IAAA,8HAoBe;IAEjB,gCAAA;IAAA,iBAAM;IACR,4BAAA;IAAA,0BAAe;;;IA/CI,eAA0B;IAA1B,mDAA0B;IAwB1B,eAAyB;IAAzB,kDAAyB;;;IA5B9C,0BAAA;IAAA,+BAAiD;IAC/C,4BAAA;IAAA,4BAA8D;IAC9D,4BAAA;IAAA,+GAiDe;IACjB,0BAAA;IAAA,iBAAM;IACR,wBAAA;;;;IApDkB,eAAgC;IAAhC,uCAAgC;IAC/B,eAAe;IAAf,uCAAe;;;;IAsDhC,+CAS0F;IAFrE,uRAA4C,6PAAA;IAEyB,iBAAsB;;;;;IAR3F,2CAAqB,8BAAA,oBAAA,gCAAA,gCAAA,sCAAA,kBAAA,cAAA,wBAAA,6BAAA;;;IAF5C,6BAAqC;IACnC,0BAAA;IAAA,+HASgH;IAClH,wBAAA;IAAA,0BAAe;;;IAVyB,eAAU;IAAV,sCAAU;;;;IAYlD,6BAAoC;IAClC,0BAAA;IAAA,8GAAgF;IAClF,wBAAA;IAAA,0BAAe;;;;;IADA,eAAoD;IAApD,+DAAoD;;;IAY/D,6BAAoD;IAClD,8BAAA;IAAA,+BAIkC;IAChC,YACF;IAAA,iBAAM;IACR,4BAAA;IAAA,0BAAe;;;;;IAPR,eAA0C;IAA1C,mCAA0C,uCAAA,qBAAA,iBAAA;IAK7C,eACF;IADE,kGACF;;;IAKuC,4BAAoB;IAAA,YAAgB;IAAA,iBAAO;;;IAAvB,eAAgB;IAAhB,mDAAgB;;;IAAzE,gCAAA;IAAA,gCAAwB;IAAA,YAAa;IAAA,wIAA2C;IAAA,iBAAO;IACzF,8BAAA;;;;IAD0B,eAAa;IAAb,mCAAa;IAAO,eAAW;IAAX,gCAAW;;;IADzD,8BAAA;IAAA,yIAEc;IAChB,4BAAA;;;IAHgE,eAAqB;IAArB,uCAAqB;;;IAZrF,YACA;IAAA,4HAQe;IAEf,8BAAA;IAAA,4JAIc;IAChB,0BAAA;;;IAhBE,mEACA;IAAe,eAAmC;IAAnC,4DAAmC;;;;IANtD,uCAG6C;IAC3C,0BAAA;IAAA,8IAiBc;IAChB,wBAAA;IAAA,iBAAc;;;;IArBD,oDAAsC,iGAAA;;;;IAwBjD,kCAG2D;;;IAF9C,oDAAsC,sEAAA;;;IAFrD,6BAA8G;IAC5G,0BAAA;IAAA,8GAG2D;IAC7D,wBAAA;IAAA,0BAAe;;;IAJkB,eAAiB;IAAjB,+CAAiB;;;IASlD,+BAAuE;IACrE,0BAAA;IAAA,6BAA+B;IAAA,YAAsB;IAAA,iBAAI;IACzD,0BAAA;IAAA,2BAAkC;IAClC,0BAAA;IAAA,6BAA+B;IAAA,YAAoD;;IAAA,iBAAI;IACzF,yBAAA;IAAA,iBAAM;;;IAH2B,eAAsB;IAAtB,gDAAsB;IAEtB,eAAoD;IAApD,gGAAoD;;;IAJvF,+BAAuD;IACrD,wBAAA;IAAA,sFAIM;IACN,wBAAA;IAAA,+BAA0C;IACxC,0BAAA;IAAA,6BAA+B;IAAA,YAAqB;IAAA,iBAAI;IACxD,0BAAA;IAAA,2BAAkC;IAClC,2BAAA;IAAA,8BAA+B;IAAA,aAA0B;;IAAA,iBAAI;IAC/D,yBAAA;IAAA,iBAAM;IACR,uBAAA;IAAA,iBAAM;;;IAVwC,eAAyB;IAAzB,iDAAyB;IAMpC,eAAqB;IAArB,8CAAqB;IAErB,eAA0B;IAA1B,+DAA0B;;;IAsB7D,gCAAkE;IAC1D,YACF;IAAA,iBAAO;;;IADL,eACF;IADE,+EACF;;;;;;IAjBR,oBAAA;IAAA,mCAE6G;IAC3G,sBAAA;IAAA,kCAO0C;IADlC,gNAA0B;IAEhC,wBAAA;IAAA,2BAA4C;IAC5C,YACF;IAAA,iBAAS;IAET,wBAAA;IAAA,+FAEa;IACf,qBAAA;IAAA,iBAAM;IACR,mBAAA;;;IAnBuC,eAEuE;IAFvE,gOAEuE;IAKlG,eAAsC;IAAtC,oDAAsC,8BAAA;IAGtC,mDAAiC;IAEvC,eACF;IADE,kEACF;IAEO,eAAe;IAAf,wCAAe;;;IAOxB,oBAAA;IAAA,6CAE4C;IAC5C,oBAAA;IAAA,iBAAoB;IACtB,kBAAA;;;IAJqB,eAAkB;IAAlB,gCAAkB,uCAAA,iCAAA;;AD/GvC,IAAI,KAAK,GAAG,CAAC,CAAC;AAuBd,MAAM,OAAO,4BAA6B,SAAQ,aAAa;IA+J7D,YAAoB,WAAwB,EACxB,WAAwB,EACxB,SAAoB,EACpB,MAAkB,EAClB,IAAoB,EACpB,iBAAmC,EACnC,SAAmB,EAC3B,EAAyB,EACf,kBAAqC;QACzD,KAAK,CAAC,SAAS,EAAE,EAAE,EAAE,kBAAkB,EAAE,MAAM,EAAE,gCAAgC,CAAC,mBAAmB,CAAC,CAAC;QATrF,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QACxB,cAAS,GAAT,SAAS,CAAW;QACpB,WAAM,GAAN,MAAM,CAAY;QAClB,SAAI,GAAJ,IAAI,CAAgB;QACpB,sBAAiB,GAAjB,iBAAiB,CAAkB;QACnC,cAAS,GAAT,SAAS,CAAU;QAEjB,uBAAkB,GAAlB,kBAAkB,CAAmB;QAtK3D,yBAAyB;QACzB,yBAAoB,GAAkB;YACpC,UAAU,EAAE,EAAE;SACf,CAAC;QAEF;;WAEG;QACH,kBAAa,GAA+B,IAAI,CAAC;QASjD;;WAEG;QACM,OAAE,GAAW,yBAAyB,KAAK,EAAE,CAAC;QAC9C,SAAI,GAAiB,YAAY,CAAC,MAAM,CAAC;QACzC,cAAS,GAAY,IAAI,CAAC;QAC1B,iBAAY,GAAa,EAAE,CAAC;QAC5B,mBAAc,GAAa,EAAE,CAAC;QAI9B,UAAK,GAAyB,EAAE,CAAC;QACjC,kBAAa,GAAY,IAAI,CAAC;QAI9B,iBAAY,GAAY,KAAK,CAAC;QAG9B,cAAS,GAAY,KAAK,CAAC;QAQpC,sBAAsB;QACH,yBAAoB,GAAuB,IAAI,YAAY,EAAE,CAAC;QAC9D,wBAAmB,GAAuB,IAAI,YAAY,EAAE,CAAC;QAC7D,oBAAe,GAA6C,IAAI,YAAY,EAAE,CAAC;QAC/E,mBAAc,GAA6C,IAAI,YAAY,EAAE,CAAC;QAC9E,uBAAkB,GAA0C,IAAI,YAAY,EAAE,CAAC;QAC/E,qBAAgB,GAA0B,IAAI,YAAY,EAAE,CAAC;QAC7D,uBAAkB,GAA8D,IAAI,YAAY,EAAE,CAAC;QACnG,0BAAqB,GAA4B,IAAI,YAAY,EAAE,CAAC;QACpE,yBAAoB,GAA0B,IAAI,YAAY,EAAE,CAAC;QACjE,gBAAW,GAA0B,IAAI,YAAY,EAAE,CAAC;QACxD,oBAAe,GAA4B,IAAI,YAAY,EAAE,CAAC;QAEjF;;WAEG;QACgB,gBAAW,GAAmC,IAAI,YAAY,EAAoB,CAAC;QAEtG,kCAAkC;QAClC,mGAAmG;QAChF,UAAK,GAAsB,IAAI,YAAY,EAAE,CAAC;QACjE,kCAAkC;QAClC,mGAAmG;QAChF,SAAI,GAAsB,IAAI,YAAY,EAAE,CAAC;QAEhE,sDAAsD;QACtD,YAAO,GAAiC,IAAI,CAAC;QAE7C,mBAAc,GAA8B,EAAE,CAAC;QAC/C,oBAAe,GAAY,KAAK,CAAC;QACjC,eAAU,GAAW,CAAC,CAAC;QACvB,qBAAgB,GAAY,KAAK,CAAC;QAClC,mBAAc,GAAY,KAAK,CAAC;QAChC,UAAK,GAAY,KAAK,CAAC;QAEvB,wBAAmB,GAAY,KAAK,CAAC;QAMrC,6EAA6E;QACrE,eAAU,GAAW,CAAC,CAAC;QACvB,sBAAiB,GAKrB;YACF,UAAU,EAAE,IAAI;YAChB,SAAS,EAAE,IAAI;YACf,WAAW,EAAE,IAAI;YACjB,UAAU,EAAE,IAAI;SACjB,CAAC;QACM,eAAU,GAAY,KAAK,CAAC;QAE5B,eAAU,GAAW,QAAQ,CAAC,EAAE,CAAC;QACjC,gBAAW,GAA2B,IAAI,aAAa,CAAC,CAAC,CAAC,CAAC;QAW3D,iBAAY,GAAW,QAAQ,CAAC,EAAE,GAAG,EAAE,CAAC;QAmkBxC,uBAAkB,GAAe,GAAG,EAAE;YAC5C,OAAO;QACT,CAAC,CAAC;QA5gBA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC;QACvC,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,kBAAkB,EAAE,CAAC,CAAC;IAChD,CAAC;IArED,IAAI,SAAS;QACX,OAAO,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;IAC/E,CAAC;IAED,IACI,SAAS,CAAC,KAAa;QACzB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;IACnE,CAAC;IAID,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;IACtC,CAAC;IAED,IACI,WAAW,CAAC,KAAa;QAC3B,IAAI,CAAC,YAAY,GAAG,gBAAgB,CAAC,KAAK,CAAC,CAAC;IAC9C,CAAC;IAED,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;IACrC,CAAC;IAED,IACI,WAAW;QACb,OAAO;YACL,IAAI,CAAC,OAAO;YACZ,uBAAuB;YACvB,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW;YACjC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE;YACrC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE;YACxC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;YAC/B,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,sBAAsB,CAAC,CAAC,CAAC,EAAE;SACjD,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACd,CAAC;IAED,IAAI,YAAY;QACd,OAAO,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAClH,CAAC;IAED,IAAI,cAAc;QAChB,OAAO,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,KAAK,aAAa,CAAC,OAAO,CAAC,CAAC;IACxH,CAAC;IAED,IAAI,KAAK,CAAC,CAAU;QAClB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;IAClB,CAAC;IAED,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAoBD,QAAQ;QACN,mHAAmH;QACnH,4FAA4F;QAC5F,uCAAuC;QACvC,SAAS;QACT,IAAI,CAAC,kBAAkB,CAAC,yBAAyB,CAAC,gCAAgC,CAAC,mBAAmB,CAAC,CAAC;QAExG,IAAI,IAAI,CAAC,iBAAiB,EAAE;YAC1B,IAAI,CAAC,WAAW,EAAE,CAAC;SACpB;QAED,IAAI,CAAC,KAAK,mCAAO,IAAI,CAAC,oBAAoB,GAAK,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3D,IAAI,CAAC,cAAc,EAAE,CAAC;QAEtB,IAAI,CAAC,iBAAiB,mBACpB,QAAQ,EAAE;gBACR,IAAI,EAAE,EAAE;gBACR,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ;aAC1B,IACE,IAAI,CAAC,iBAAiB,CAC1B,CAAC;QAEF,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAElC,IAAI,CAAC,WAAW,CAAC,eAAe;aAC7B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aACjC,SAAS,CAAC,CAAC,GAA4B,EAAE,EAAE;YAC1C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,EAAC,IAAI,EAAC,EAAE,EAAE;YAC5F,MAAM,SAAS,mCACV,IAAI;gBACP,kEAAkE;gBAClE,kCAAkC;gBAClC,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,oBAAoB,EAAE,IAAI,CAAC,UAAU,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,GAC9H,CAAC;YAEF,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,IAAa,EAAE,EAAE;YAC7F,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,KAAgB,EAAE,EAAE;YAChG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aACrE,SAAS,CAAC,CAAC,IAAiD,EAAE,EAAE;YAC/D,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,WAAW,CAAC,wBAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,KAAgB,EAAE,EAAE;YACzG,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,8BAA8B,EAAE,CAAC;QAEtC,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACzC,IAAI,IAAI,EAAE;gBACR,IAAI,CAAC,+BAA+B,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC;aAChF;SACF;QAED,IAAI,IAAI,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YAC5C,IAAI,CAAC,aAAa,GAAG;gBACnB,QAAQ,EAAE,IAAI,CAAC,cAAc;gBAC7B,OAAO,EAAE,IAAI,CAAC,WAAW;gBACzB,SAAS,EAAE,KAAK;gBAChB,WAAW,EAAE,KAAK;aACnB,CAAC;SACH;aAAM,IAAI,IAAI,CAAC,WAAW,EAAE;YAC3B,IAAI,CAAC,aAAa,GAAG;gBACnB,QAAQ,EAAE,IAAI,CAAC,WAAW;gBAC1B,OAAO,EAAE,IAAI,CAAC,cAAc;gBAC5B,SAAS,EAAE,IAAI,CAAC,gBAAgB;gBAChC,WAAW,EAAE,IAAI;gBACjB,eAAe,EAAE,IAAI,CAAC,eAAe;aACtC,CAAC;SACH;IACH,CAAC;IAED,eAAe,CAAC,WAA2B;QACzC,IAAI,CAAC,oBAAoB,CAAC,OAAO,GAAG,WAAW,CAAC,kCAAkC,CAAC,CAAC;QACpF,IAAI,CAAC,oBAAoB,CAAC,YAAY,GAAG,WAAW,CAAC,6BAA6B,CAAC,CAAC;QACpF,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,GAAG,WAAW,CAAC,iCAAiC,CAAC,CAAC;QAC5F,IAAI,CAAC,oBAAoB,CAAC,WAAW,GAAG,WAAW,CAAC,4BAA4B,CAAC,CAAC;QAClF,IAAI,CAAC,oBAAoB,CAAC,QAAQ,GAAG,WAAW,CAAC,+BAA+B,CAAC,CAAC;QAClF,IAAI,CAAC,oBAAoB,CAAC,WAAW,GAAG,WAAW,CAAC,kCAAkC,CAAC,CAAC;QACxF,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,GAAG,WAAW,CAAC,uCAAuC,CAAC,CAAC;QAClG,IAAI,CAAC,oBAAoB,CAAC,QAAQ,GAAG,WAAW,CAAC,yBAAyB,CAAC,CAAC;QAC5E,IAAI,CAAC,oBAAoB,CAAC,kBAAkB,GAAG,WAAW,CAAC,gCAAgC,CAAC,CAAC;QAC7F,IAAI,CAAC,oBAAoB,CAAC,aAAa,GAAG,WAAW,CAAC,2BAA2B,CAAC,CAAC;QACnF,IAAI,CAAC,oBAAoB,CAAC,aAAa,GAAG,WAAW,CAAC,2BAA2B,CAAC,CAAC;QACnF,IAAI,CAAC,oBAAoB,CAAC,iBAAiB,GAAG,WAAW,CAAC,+BAA+B,CAAC,CAAC;QAC3F,IAAI,CAAC,oBAAoB,CAAC,eAAe,GAAG,WAAW,CAAC,6BAA6B,CAAC,CAAC;QACvF,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,QAAQ,GAAG,WAAW,CAAC,oCAAoC,CAAC,CAAC;QAClG,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,QAAQ,GAAG,WAAW,CAAC,oCAAoC,CAAC,CAAC;QAClG,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,SAAS,GAAG,WAAW,CAAC,qCAAqC,CAAC,CAAC;QACpG,IAAI,CAAC,oBAAoB,CAAC,uBAAuB,GAAG,WAAW,CAAC,wCAAwC,CAAC,CAAC;QAC1G,IAAI,CAAC,oBAAoB,CAAC,QAAQ,GAAG,WAAW,CAAC,yBAAyB,CAAC,CAAC;QAC5E,IAAI,CAAC,oBAAoB,CAAC,KAAK,GAAG,WAAW,CAAC,oBAAoB,CAAC,CAAC;IACtE,CAAC;IAED,UAAU,CAAC,KAAc;QACvB,IAAI,KAAK,EAAE;YACT,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YAC7C,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC7B;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAC;SACtC;QAED,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAED,kCAAkC;IAClC,iEAAiE;IACjE,gBAAgB,CAAC,EAAO;QACtB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;IAC5B,CAAC;IAED,kCAAkC;IAClC,iEAAiE;IACjE,iBAAiB,CAAC,EAAO;QACvB,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;IAC/B,CAAC;IAED,QAAQ;QACN,OAAO,IAAI,CAAC;IACd,CAAC;IAED,gBAAgB,CAAC,UAAmB;QAClC,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC;IAC7B,CAAC;IAED,eAAe;QACb,KAAK,CAAC,eAAe,EAAE,CAAC;QAExB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACvB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,kBAAkB,CAAC,aAAa,CAAC;SAC5D;QAED,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB;QAED,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,QAAQ,CAAC;aAC9C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aACjC,SAAS,CAAC,CAAC,CAAQ,EAAE,EAAE;YACtB,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;YAE1B,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC9B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,WAAW,CAAC,OAAsB;QAChC,IAAI,OAAO,CAAC,KAAK,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE;YAC9D,IAAI,CAAC,KAAK,mCAAO,IAAI,CAAC,oBAAoB,GAAK,IAAI,CAAC,KAAK,CAAC,CAAC;SAC5D;QAED,IAAI,OAAO,CAAC,UAAU,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,CAAC,aAAa,CAAC,EAAE;YACxE,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB;IACH,CAAC;IAED,iBAAiB,CAAC,KAAY;QAC5B,IAAI,KAAK,GAAG,EAAE,CAAC;QAEf,iDAAiD;QACjD,8BAA8B;QAC9B,0CAA0C;QAC1C,wCAAwC;QACxC,IAAI,KAAK,CAAC,IAAI,KAAK,MAAM,EAAE;YACzB,0CAA0C;YAC1C,KAAK,GAAG,OAAO,CAAE,KAAmB,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;SAC1D;QAED,IAAI,KAAK,CAAC,IAAI,KAAK,QAAQ,EAAE;YAC3B,kCAAkC;YAClC,KAAK,GAAG,OAAO,CAAE,KAAK,CAAC,MAA2B,CAAC,KAAK,CAAC,CAAC;SAC3D;QAED,IAAI,KAAK,CAAC,MAAM,EAAE;YAChB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SACtB;QAED,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YACrB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;SAC/D;IACH,CAAC;IAED,cAAc;QACZ,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,IAAI,CAAC,WAAW,CAAC,UAAU,mCAAO,IAAI,CAAC,WAAW,CAAC,UAAU,GAAK,IAAI,CAAC,UAAU,CAAC,CAAC;YACnF,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG;gBACzF,YAAY,EAAE,EAAE;gBAChB,KAAK,EAAE,EAAE;aACV,CAAC,CAAC;SACJ;IACH,CAAC;IAED,aAAa;QACX,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChD,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAEpE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAElE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChD,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAEpE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAE9D,QAAQ,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC5D,QAAQ,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;IAC1D,CAAC;IAED,gBAAgB,CAAC,IAAa;QAC5B,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;QAEjE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACtC;QAED,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEzB,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAED,WAAW,CAAC,IAAa;QACvB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;QACjE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAE5B,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEzB,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAED,WAAW,CAAC,CAAY;QACtB,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,CAAC,CAAC,eAAe,EAAE,CAAC;QAEpB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YACnG,OAAO;SACR;QAED,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAE3B,2CAA2C;QAE3C,4EAA4E;QAC5E,qGAAqG;QACrG,sCAAsC;QACtC,MAAM,aAAa,GAAW,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QAErF,IAAI,CAAC,mBAAmB,GAAG,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC;QAE3D,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC;QAC9D,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC;QAExE,IAAI,CAAC,UAAU,EAAE,CAAC;QAElB,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC/B,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAED,UAAU,CAAC,CAAY;QACrB,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,CAAC,CAAC,eAAe,EAAE,CAAC;QAEpB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC9D,CAAC,CAAC,YAAY,CAAC,UAAU,GAAG,MAAM,CAAC;SACpC;IACH,CAAC;IAED,WAAW,CAAC,CAAY;QACtB,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,CAAC,CAAC,eAAe,EAAE,CAAC;QAEpB,IAAI,CAAC,CAAC,MAAM,KAAK,IAAI,CAAC,aAAa,EAAE;YACnC,OAAO;SACR;QAED,IAAI,CAAC,UAAU,EAAE,CAAC;QAElB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAEzB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC;YAC3E,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC;YAEjE,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC7B;IACH,CAAC;IAED,UAAU,CAAC,CAAY;QACrB,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,CAAC,CAAC,eAAe,EAAE,CAAC;QAEpB,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAE5B,IAAI,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,eAAe,CAAC,EAAE;YAC7D,MAAM,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YAE5C,IAAI,KAAK,CAAC,MAAM,EAAE;gBAChB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;aACtB;YAED,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;gBACrB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;aAC/D;SACF;aAAM;YACL,MAAM,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YAC5C,MAAM,kBAAkB,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC7C,MAAM,SAAS,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBAE1C,OAAO,SAAS,CAAC,WAAW,CAAC;YAC/B,CAAC,CAAC,CAAC;YAEH,IAAI,kBAAkB,EAAE;gBACtB,6EAA6E;gBAC7E,MAAM,YAAY,GAAG,IAAI,CAAC,cAAc;qBACrC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC;qBAC5B,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;gBAEvD,IAAI,YAAY,KAAK,CAAC,CAAC,EAAE;oBACvB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,cAAc,EAAE,OAAO,EAAE,aAAa,CAAC,OAAO,EAAC,CAAC,CAAC;iBAC9G;aACF;iBAAM;gBACL,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;aAC3B;SACF;QACD,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAE5B,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC;QACjE,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC;QAE3E,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAED;;OAEG;IACH,cAAc;QACZ,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;QACrC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;IAED,cAAc;QACZ,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE;YAClC,OAAO;SACR;QAED,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAE7B,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;gBAC3B,uEAAuE;gBACvE,MAAM,YAAY,GAAG,IAAI,CAAC,cAAc;qBACrC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC;qBAC5B,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;gBAEhC,IAAI,YAAY,KAAK,CAAC,CAAC,EAAE;oBACvB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,OAAO,EAAE,aAAa,CAAC,MAAM,EAAC,CAAC,CAAC;iBACtF;aACF;YAED,OAAO;SACR;QAED,MAAM,YAAY,GAAG;YACnB,SAAS,EAAE,IAAI,CAAC,UAAU;YAC1B,SAAS,EAAE,IAAI,CAAC,GAAG;YACnB,YAAY,EAAE,IAAI,CAAC,YAAY;SAChC,CAAC;QAEF,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;IAChD,CAAC;IAED,WAAW;QACT,KAAK,CAAC,WAAW,EAAE,CAAC;QAEpB,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE;YACpC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAE5B,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YACvE,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YACrE,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YACvE,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YAEjE,QAAQ,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YAC/D,QAAQ,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;SAC5D;QACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC5B,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;IAC9B,CAAC;IAED,oBAAoB;QAClB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;IAC3B,CAAC;IAED;;OAEG;IAEK,QAAQ,CAAC,KAAiC;QAChD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YACrB,OAAO;SACR;QAED,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAE5B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAEjC,IAAI,CAAC,WAAW,CAAC,QAAQ,CACvB,KAAK,EACL,IAAI,CAAC,aAAa,EAClB,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,gBAAgB,EAChC,IAAI,CAAC,eAAe,EACpB,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,EAClC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,cAAc,EACtC,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;QAC/B,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAEhC,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEzB,yFAAyF;QACzF,2DAA2D;QAC3D,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,GAAG,EAAE,CAAC;IAC1C,CAAC;IAEO,8BAA8B;QACpC,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACrD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;SAC/D;IACH,CAAC;IAEO,YAAY,CAAC,CAAY;QAC/B,MAAM,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QAE/D,OAAO,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;IACvC,CAAC;IAEO,eAAe,CAAC,CAAY;QAClC,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,CAAC,CAAC,eAAe,EAAE,CAAC;IACtB,CAAC;IAEO,iBAAiB;QACvB,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACzC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QAC1C,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QAC1C,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;QAE3C,MAAM,gBAAgB,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC;QACpH,MAAM,iBAAiB,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC;QAEvH,gBAAgB,CAAC,IAAI,EAAE,CAAC;QACxB,iBAAiB,CAAC,IAAI,EAAE,CAAC;QAEzB,gBAAgB,CAAC,MAAM,CAAC,GAAG,EAAE;YAC3B,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;gBACpB,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;aAClC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,uBAAuB;QAC7B,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAEpD,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;YACzB,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAE;gBAClC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,CAAC;aAC1C;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,iBAAiB,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACnG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAClC,IAAI,CAAC,iBAAiB,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACrG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAClC,IAAI,CAAC,iBAAiB,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACrG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACnC,IAAI,CAAC,iBAAiB,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACvG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IACrC,CAAC;IAEO,oBAAoB;QAC1B,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YACrB,OAAO;SACR;QAED,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;YAChD,uEAAuE;YACvE,MAAM,YAAY,GAAG,IAAI,CAAC,cAAc;iBACrC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC;iBAC5B,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YAEhC,IAAI,YAAY,KAAK,CAAC,CAAC,EAAE;gBACvB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,OAAO,EAAE,aAAa,CAAC,MAAM,EAAC,CAAC,CAAC;aACtF;SACF;IACH,CAAC;IAMO,qBAAqB;QAC3B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC5B,CAAC;IAEO,iBAAiB;QACvB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACjC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACpC,CAAC;;wGAhsBU,4BAA4B;+EAA5B,4BAA4B;;;;;;;;;;;;;;;;ygCAR5B;YACT,8BAA8B,CAAC,4BAA4B,CAAC;YAC5D,0BAA0B,CAAC,4BAA4B,CAAC;YACxD,WAAW;YACX,WAAW;SACZ;QCxEH,8BAE2B;QAE3B,oBAAA;QAAA,iCAA4D;QAC1D,oBAAA;QAAA,iCAAuD;QAErD,wBAAA;QACA,sBAAA;QAAA,6CAG2E;QAC3E,uBAAA;QAEA,yBAAA;QAAA,+BAAyC;QAEvC,2BAAA;QAAA,gIAsDc;QAEd,2BAAA;QAAA,iGAWe;QAEf,2BAAA;QAAA,iGAEe;QACjB,uBAAA;QAAA,iBAAM;QAEN,yBAAA;QAAA,gCAAsD;QACpD,yBAAA;QACA,yBAAA;QAAA,gGAsBc;QAEd,2BAAA;QAAA,iGAKe;QACjB,uBAAA;QAAA,iBAAM;QAEN,yBAAA;QACA,uBAAA;QAAA,iFAWM;QACR,qBAAA;QAAA,iBAAM;QACR,mBAAA;QAAA,iBAAM;QAEN,qBAAA;QAAA,mIAoBc;QAEd,qBAAA;QAAA,iIAKc;QAGd,uBAAA;;QAzKO,4CAAkC;QAOb,gBAAe;QAAf,iCAAe,4CAAA,2CAAA,8BAAA;QAgEtB,eAAoB;QAApB,yCAAoB;QAapB,eAAmB;QAAnB,wCAAmB;QAOL,eAAiB;QAAjB,4CAAiB;QAwB/B,eAA6F;QAA7F,8HAA6F;QASxE,eAAe;QAAf,oCAAe;wYDpE3C,CAAC,oBAAoB,CAAC;uFAkBvB,4BAA4B;cArBxC,SAAS;eAAC;gBACT,QAAQ,EAAE,uBAAuB;gBACjC,WAAW,EAAE,kCAAkC;gBAC/C,UAAU,EAAE,CAAC,oBAAoB,CAAC;gBAClC,qEAAqE;gBACrE,IAAI,EAAE;oBACJ,MAAM,EAAE,IAAI;iBACb;gBACD,MAAM,EAAE,CAAC;;;;GAIR,CAAC;gBACF,SAAS,EAAE;oBACT,8BAA8B,8BAA8B;oBAC5D,0BAA0B,8BAA8B;oBACxD,WAAW;oBACX,WAAW;iBACZ;aACF;gSAayB,SAAS;kBAAhC,SAAS;mBAAC,WAAW;YACE,SAAS;kBAAhC,SAAS;mBAAC,WAAW;YACJ,GAAG;kBAApB,SAAS;mBAAC,KAAK;YACG,IAAI;kBAAtB,SAAS;mBAAC,MAAM;YAEgB,kBAAkB;kBAAlD,SAAS;mBAAC,oBAAoB;YAKtB,EAAE;kBAAV,KAAK;YACG,IAAI;kBAAZ,KAAK;YACG,SAAS;kBAAjB,KAAK;YACG,YAAY;kBAApB,KAAK;YACG,cAAc;kBAAtB,KAAK;YACG,KAAK;kBAAb,KAAK;YACG,GAAG;kBAAX,KAAK;YACG,SAAS;kBAAjB,KAAK;YACG,KAAK;kBAAb,KAAK;YACG,aAAa;kBAArB,KAAK;YACG,KAAK;kBAAb,KAAK;YACG,QAAQ;kBAAhB,KAAK;YACG,UAAU;kBAAlB,KAAK;YACG,YAAY;kBAApB,KAAK;YACG,aAAa;kBAArB,KAAK;YAEG,SAAS;kBAAjB,KAAK;YAEG,IAAI;kBAAZ,KAAK;YAIG,iBAAiB;kBAAzB,KAAK;YAGa,oBAAoB;kBAAtC,MAAM;YACY,mBAAmB;kBAArC,MAAM;YACY,eAAe;kBAAjC,MAAM;YACY,cAAc;kBAAhC,MAAM;YACY,kBAAkB;kBAApC,MAAM;YACY,gBAAgB;kBAAlC,MAAM;YACY,kBAAkB;kBAApC,MAAM;YACY,qBAAqB;kBAAvC,MAAM;YACY,oBAAoB;kBAAtC,MAAM;YACY,WAAW;kBAA7B,MAAM;YACY,eAAe;kBAAjC,MAAM;YAKY,WAAW;kBAA7B,MAAM;YAIY,KAAK;kBAAvB,MAAM;YAGY,IAAI;kBAAtB,MAAM;YAyCH,SAAS;kBADZ,KAAK;YAYF,WAAW;kBADd,KAAK;YAUF,WAAW;kBADd,WAAW;mBAAC,OAAO","sourcesContent":["import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  Injector,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  ViewChild\n} from '@angular/core';\nimport {AnimationBuilder, AnimationPlayer} from '@angular/animations';\nimport {fromEvent, ReplaySubject} from 'rxjs';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {HttpErrorResponse} from '@angular/common/http';\nimport {FormControl} from '@angular/forms';\nimport {isNil, isUndefined, toArray} from 'lodash-es';\nimport {takeUntil} from 'rxjs/operators';\nimport {\n  AdaptRadarAngularCustomEventName,\n  AdaptRxControlLabelTooltip,\n  AdaptTranslateService,\n  ANIMATION_DND,\n  ANIMATION_DROP,\n  ANIMATION_INIT_STATE,\n  createFormControlValidator,\n  createFormControlValueAccessor,\n  FileErrors,\n  FileManager,\n  FileObj,\n  FileSize,\n  FileSystemEntry,\n  FormComponent,\n  Icon,\n  IconManager,\n  INITIAL_CHUNK_NUMBER,\n  KeyValueObject,\n  MessageStatus,\n  retrieveFileSize,\n  StartFileUploadingEvent,\n  UploaderFeedbackMessage,\n  UploaderMode,\n  UploaderTexts,\n} from '@bmc-ux/adapt-angular';\nimport {AdaptRadarService} from '@bmc-ux/adapt-radar';\n\n\nlet count = 0;\n\n@Component({\n  selector: 'adapt-single-uploader',\n  templateUrl: './single-uploader.component.html',\n  animations: [ANIMATION_INIT_STATE],\n  // eslint-disable-next-line @angular-eslint/no-host-metadata-property\n  host: {\n    '[id]': 'id'\n  },\n  styles: [`\n    adapt-uploader-item {\n      padding: 13px 0 !important;\n    }\n  `],\n  providers: [\n    createFormControlValueAccessor(AdaptSingleUploaderComponent),\n    createFormControlValidator(AdaptSingleUploaderComponent),\n    FileManager,\n    IconManager\n  ]\n})\n\nexport class AdaptSingleUploaderComponent extends FormComponent implements OnInit, AfterViewInit, OnChanges, OnDestroy {\n  /* text configurations */\n  uploaderTextsDefault: UploaderTexts = {\n    fileStatus: {}\n  };\n\n  /**\n   * Label icon with a tooltip or popover\n   */\n  tooltipConfig: AdaptRxControlLabelTooltip = null;\n\n  @ViewChild('fileInput') fileInput: ElementRef;\n  @ViewChild('dropEnter') dropEnter: ElementRef;\n  @ViewChild('dnd') dnd: ElementRef;\n  @ViewChild('drop') drop: ElementRef;\n\n  @ViewChild('droppableAreaBlock') droppableAreaBlock: ElementRef;\n\n  /**\n   * Unique id of the element.\n   */\n  @Input() id: string = `adapt-single-uploader-${count}`;\n  @Input() mode: UploaderMode = UploaderMode.Manual;\n  @Input() enableDnD: boolean = true;\n  @Input() allowedTypes: string[] = [];\n  @Input() forbiddenTypes: string[] = [];\n  @Input() label: string;\n  @Input() url: string;\n  @Input() deleteUrl: string;\n  @Input() icons: KeyValueObject<Icon> = {};\n  @Input() allowDeletion: boolean = true;\n  @Input() texts: UploaderTexts;\n  @Input() showFile: FileObj;\n  @Input() fileErrors: FileErrors;\n  @Input() customErrors: boolean = false;\n  @Input() droppableArea: HTMLElement;\n\n  @Input() allowDrop: boolean = false;\n\n  @Input() name: string;\n  /**\n   * FormControl (for Reactive Forms)\n   */\n  @Input() customFormControl: FormControl;\n\n  /* uploader outputs */\n  @Output() readonly beforeFileDialogOpen: EventEmitter<null> = new EventEmitter();\n  @Output() readonly afterFileDialogOpen: EventEmitter<null> = new EventEmitter();\n  @Output() readonly beforeFileAdded: EventEmitter<(File | FileSystemEntry)[]> = new EventEmitter();\n  @Output() readonly afterFileAdded: EventEmitter<(File | FileSystemEntry)[]> = new EventEmitter();\n  @Output() readonly startFileUploading: EventEmitter<StartFileUploadingEvent> = new EventEmitter();\n  @Output() readonly endFileUploading: EventEmitter<FileObj> = new EventEmitter();\n  @Output() readonly errorFileUploading: EventEmitter<{ file: FileObj; error: HttpErrorResponse }> = new EventEmitter();\n  @Output() readonly finishedFileUploading: EventEmitter<FileObj[]> = new EventEmitter();\n  @Output() readonly removedFileFromQueue: EventEmitter<FileObj> = new EventEmitter();\n  @Output() readonly deletedFile: EventEmitter<FileObj> = new EventEmitter();\n  @Output() readonly cancelUploading: EventEmitter<FileObj[]> = new EventEmitter();\n\n  /**\n   * Event on ngModel change\n   */\n  @Output() readonly valueChange: EventEmitter<FileObj[] | null> = new EventEmitter<FileObj[] | null>();\n\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any, @angular-eslint/no-output-native */\n  @Output() readonly focus: EventEmitter<any> = new EventEmitter();\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any, @angular-eslint/no-output-native */\n  @Output() readonly blur: EventEmitter<any> = new EventEmitter();\n\n  // Need for using inherited properties in the template\n  context: AdaptSingleUploaderComponent = this;\n\n  statusMessages: UploaderFeedbackMessage[] = [];\n  allowDuplicates: boolean = false;\n  filesCount: number = 1;\n  suppressParallel: boolean = false;\n  isDragOverMask: boolean = false;\n  isRtl: boolean = false;\n\n  isUploadLimitExceed: boolean = false;\n\n  private _onDragEnter: () => void;\n  private _onDragOver: () => void;\n  private _onDragLeave: () => void;\n  private _onDragDrop: () => void;\n  // we'll get a drop enter for the child and then a drop leave for the target!\n  private _droppable: number = 0;\n  private _animationPlayers: {\n    visibleDnd: AnimationPlayer;\n    hiddenDnd: AnimationPlayer;\n    visibleDrop: AnimationPlayer;\n    hiddenDrop: AnimationPlayer;\n  } = {\n    visibleDnd: null,\n    hiddenDnd: null,\n    visibleDrop: null,\n    hiddenDrop: null\n  };\n  private _isTouched: boolean = false;\n\n  private _chunkSize: number = FileSize.MB;\n  private _destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  get chunkSize(): string {\n    return isNil(this._chunkSize) ? this._chunkSize : this._chunkSize.toString();\n  }\n\n  @Input()\n  set chunkSize(value: string) {\n    this._chunkSize = isNil(value) ? value : retrieveFileSize(value);\n  }\n\n  private _maxFileSize: number = FileSize.MB * 20;\n\n  get maxFileSize(): string {\n    return this._maxFileSize.toString();\n  }\n\n  @Input()\n  set maxFileSize(value: string) {\n    this._maxFileSize = retrieveFileSize(value);\n  }\n\n  get files(): FileObj[] {\n    return this.fileManager.getFiles();\n  }\n\n  @HostBinding('class')\n  get hostClasses(): string {\n    return [\n      this.mainCls,\n      'adapt-single-uploader',\n      this.enableDnD ? '' : 'is-no-dnd',\n      this.isErrorExist ? 'has-danger' : '',\n      this.isWarningExist ? 'has-warning' : '',\n      this.disabled ? 'disabled' : '',\n      this.suppressIcons ? 'prevent-success-icon' : ''\n    ].join(' ');\n  }\n\n  get isErrorExist(): boolean {\n    return this.required && !this.files.length && (this.customFormControl ? this.control.touched : this._isTouched);\n  }\n\n  get isWarningExist(): boolean {\n    return !!this.statusMessages.length && this.statusMessages.some(message => message.variant === MessageStatus.Warning);\n  }\n\n  set value(v: FileObj) {\n    this._value = v;\n  }\n\n  get value(): FileObj {\n    return this._value;\n  }\n\n  private _value: FileObj;\n\n  constructor(private fileManager: FileManager,\n              private iconManager: IconManager,\n              private _renderer: Renderer2,\n              private _elRef: ElementRef,\n              private _dir: Directionality,\n              private _animationBuilder: AnimationBuilder,\n              private _injector: Injector,\n              ts: AdaptTranslateService,\n              protected _adaptRadarService: AdaptRadarService) {\n    super(_injector, ts, _adaptRadarService, _elRef, AdaptRadarAngularCustomEventName.AdaptSingleUploader);\n\n    this.isRtl = this._dir.value === 'rtl';\n    count++;\n    this.setDefaultTexts(ts.getCurrentLanguage());\n  }\n\n  ngOnInit(): void {\n    // Sending radar event directly to avoid issues with the premature invocation of \"initControl\" in parent ngOnInit()\n    // ERROR NullInjectorError: R3InjectorError(AppModule)[NgControl -> NgControl -> NgControl]:\n    // So do not call super.ngOnInit() here\n    // TODO ?\n    this._adaptRadarService.sendGenericComponentEvent(AdaptRadarAngularCustomEventName.AdaptSingleUploader);\n\n    if (this.customFormControl) {\n      this.initControl();\n    }\n\n    this.texts = {...this.uploaderTextsDefault, ...this.texts};\n    this.initFileErrors();\n\n    this._customErrorTexts = {\n      required: {\n        name: '',\n        text: this.texts.required\n      },\n      ...this._customErrorTexts\n    };\n\n    this.iconManager.init(this.icons);\n\n    this.fileManager.messagesSubject\n      .pipe(takeUntil(this._destroyed$))\n      .subscribe((msg: UploaderFeedbackMessage) => {\n        this.statusMessages.push(msg);\n      });\n\n    this.fileManager.uploadingStartSubject.pipe(takeUntil(this._destroyed$)).subscribe(({file}) => {\n      const fileEvent: StartFileUploadingEvent = {\n        ...file,\n        // Perhaps always id === 1, because it is the first chunk or file,\n        // but just in case this algorithm\n        id: this.fileManager.getFileRequestId(this.fileManager.getChunkStart(INITIAL_CHUNK_NUMBER, this._chunkSize), this._chunkSize),\n      };\n\n      this.startFileUploading.emit(fileEvent);\n    });\n\n    this.fileManager.uploadedSubject.pipe(takeUntil(this._destroyed$)).subscribe((file: FileObj) => {\n      this.endFileUploading.emit(file);\n    });\n\n    this.fileManager.canceledSubject.pipe(takeUntil(this._destroyed$)).subscribe((files: FileObj[]) => {\n      this.cancelUploading.emit(files);\n    });\n\n    this.fileManager.errorUploadingSubject.pipe(takeUntil(this._destroyed$))\n      .subscribe((data: { file: FileObj; error: HttpErrorResponse }) => {\n        this.errorFileUploading.emit(data);\n      });\n\n    this.fileManager.uploadingFinishedSubject.pipe(takeUntil(this._destroyed$)).subscribe((files: FileObj[]) => {\n      this.finishedFileUploading.emit(files);\n    });\n\n    this._updateStorageWithUploadedFile();\n\n    for (const prop in this._customErrorTexts) {\n      if (prop) {\n        this.overrideBuildInValidatorMessage(prop, () => this._customErrorTexts[prop]);\n      }\n    }\n\n    if (this.tooltipIconCls && !this.popoverIcon) {\n      this.tooltipConfig = {\n        iconName: this.tooltipIconCls,\n        content: this.tooltipText,\n        placement: 'top',\n        popoverMode: false\n      };\n    } else if (this.popoverIcon) {\n      this.tooltipConfig = {\n        iconName: this.popoverIcon,\n        content: this.popoverContent,\n        placement: this.popoverPlacement,\n        popoverMode: true,\n        popoverTriggers: this.popoverTriggers\n      };\n    }\n  }\n\n  setDefaultTexts(translation: KeyValueObject): void {\n    this.uploaderTextsDefault.fileBtn = translation['adapt.uploaderSingle.attachFiles'];\n    this.uploaderTextsDefault.allowedTypes = translation['adapt.uploader.allowedTypes'];\n    this.uploaderTextsDefault.fileTypesDivider = translation['adapt.uploader.fileTypesDivider'];\n    this.uploaderTextsDefault.maxFileSize = translation['adapt.uploader.maxFileSize'];\n    this.uploaderTextsDefault.fileMode = translation['adapt.uploaderSingle.fileMode'];\n    this.uploaderTextsDefault.dragAndDrop = translation['adapt.uploaderSingle.dragAndDrop'];\n    this.uploaderTextsDefault.uploadFilesLimit = translation['adapt.uploaderSingle.uploadFilesLimit'];\n    this.uploaderTextsDefault.required = translation['adapt.uploader.required'];\n    this.uploaderTextsDefault.btnCancelUploading = translation['adapt.uploader.cancelUploading'];\n    this.uploaderTextsDefault.btnRemoveFile = translation['adapt.uploader.removeFile'];\n    this.uploaderTextsDefault.btnDeleteFile = translation['adapt.uploader.deleteFile'];\n    this.uploaderTextsDefault.btnRemoveCanceled = translation['adapt.uploader.removeCanceled'];\n    this.uploaderTextsDefault.btnDownloadFile = translation['adapt.uploader.downloadFile'];\n    this.uploaderTextsDefault.fileStatus.canceled = translation['adapt.uploader.fileStatus.canceled'];\n    this.uploaderTextsDefault.fileStatus.uploaded = translation['adapt.uploader.fileStatus.uploaded'];\n    this.uploaderTextsDefault.fileStatus.uploading = translation['adapt.uploader.fileStatus.uploading'];\n    this.uploaderTextsDefault.remainingFilesListLabel = translation['adapt.uploader.remainingFilesListLabel'];\n    this.uploaderTextsDefault.notFound = translation['adapt.uploader.notFound'];\n    this.uploaderTextsDefault.comma = translation['adapt.common.comma'];\n  }\n\n  writeValue(value: FileObj): void {\n    if (value) {\n      this.fileManager.updateFilesStorage([value]);\n      this.clearWarningMessages();\n    } else {\n      this.fileManager.resetFilesStorage();\n    }\n\n    this._propagateChanges();\n  }\n\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  // TODO: Refactor this if possible\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  registerOnTouched(fn: any): void {\n    this._onTouchedCallback = fn;\n  }\n\n  validate(): null {\n    return null;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n\n    if (!this.droppableArea) {\n      this.droppableArea = this.droppableAreaBlock.nativeElement;\n    }\n\n    if (this.enableDnD) {\n      this.addDragEvents();\n    }\n\n    fromEvent(this.fileInput.nativeElement, 'change')\n      .pipe(takeUntil(this._destroyed$))\n      .subscribe((e: Event) => {\n        this.onChangeFileInput(e);\n\n        this._markComponentTouched();\n        this._componentEmptyState();\n      });\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.texts && !isUndefined(changes.texts.previousValue)) {\n      this.texts = {...this.uploaderTextsDefault, ...this.texts};\n    }\n\n    if (changes.fileErrors && !isUndefined(changes.fileErrors.previousValue)) {\n      this.initFileErrors();\n    }\n  }\n\n  onChangeFileInput(event: Event): void {\n    let files = [];\n\n    // since we call onChangeFileInput method on both\n    // input.onchange and dragDrop\n    // we should first check the event.type to\n    // correctly handle the files derivation\n    if (event.type === 'drop') {\n      // event comes from the dragDrop operation\n      files = toArray((event as DragEvent).dataTransfer.files);\n    }\n\n    if (event.type === 'change') {\n      // event comes from input.onchange\n      files = toArray((event.target as HTMLInputElement).files);\n    }\n\n    if (files.length) {\n      this.addFiles(files);\n    }\n\n    if (this.files.length) {\n      this._renderer.addClass(this._elRef.nativeElement, 'dropped');\n    }\n  }\n\n  initFileErrors(): void {\n    if (this.fileErrors) {\n      this.fileManager.fileErrors = {...this.fileManager.fileErrors, ...this.fileErrors};\n      Object.keys(this.fileManager.fileErrors).forEach((key) => this.fileManager.messages[key] = {\n        errorMessage: '',\n        files: []\n      });\n    }\n  }\n\n  addDragEvents(): void {\n    this._onDragEnter = this.ondragEnter.bind(this);\n    this.droppableArea.addEventListener('dragenter', this._onDragEnter);\n\n    this._onDragOver = this.ondragOver.bind(this);\n    this.droppableArea.addEventListener('dragover', this._onDragOver);\n\n    this._onDragLeave = this.ondragLeave.bind(this);\n    this.droppableArea.addEventListener('dragleave', this._onDragLeave);\n\n    this._onDragDrop = this.ondragDrop.bind(this);\n    this.droppableArea.addEventListener('drop', this._onDragDrop);\n\n    document.addEventListener('dragover', this._preventDefault);\n    document.addEventListener('drop', this._preventDefault);\n  }\n\n  removedFromQueue(file: FileObj): void {\n    this._renderer.removeClass(this._elRef.nativeElement, 'dropped');\n\n    if (!file.canceled) {\n      this.removedFileFromQueue.emit(file);\n    }\n\n    this._markComponentTouched();\n    this._propagateChanges();\n\n    this._componentEmptyState();\n  }\n\n  fileDeleted(file: FileObj): void {\n    this._renderer.removeClass(this._elRef.nativeElement, 'dropped');\n    this.deletedFile.emit(file);\n\n    this._markComponentTouched();\n    this._propagateChanges();\n\n    this._componentEmptyState();\n  }\n\n  ondragEnter(e: DragEvent): void {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (this.disabled || this.readonly || this._droppable || !this.dataHasFiles(e) || this.files.length) {\n      return;\n    }\n\n    this.isDragOverMask = true;\n\n    // check if the upload files limit exceeded\n\n    // event.dataTransfer.items is not available in Internet Explorer and Safari\n    // Mime types or number of dragged files can therefore not be determined in drag events, only on drop\n    // so we explicitly set the value to 0\n    const dndFilesCount: number = e.dataTransfer.items ? e.dataTransfer.items.length : 0;\n\n    this.isUploadLimitExceed = dndFilesCount > this.filesCount;\n\n    this._renderer.addClass(this.droppableArea, 'adapt-drop-wrp');\n    this._renderer.addClass(this.dropEnter.nativeElement, 'pointer-events');\n\n    this._droppable++;\n\n    this._createAnimationPlayers();\n    this._animateDndChange();\n  }\n\n  ondragOver(e: DragEvent): void {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (this.disabled || this.readonly || this.isUploadLimitExceed) {\n      e.dataTransfer.dropEffect = 'none';\n    }\n  }\n\n  ondragLeave(e: DragEvent): void {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (e.target !== this.droppableArea) {\n      return;\n    }\n\n    this._droppable--;\n\n    if (!this._droppable) {\n      this.isDragOverMask = false;\n      this._animateDndChange();\n\n      this._renderer.removeClass(this.dropEnter.nativeElement, 'pointer-events');\n      this._renderer.removeClass(this.droppableArea, 'adapt-drop-wrp');\n\n      this._markComponentTouched();\n      this._componentEmptyState();\n    }\n  }\n\n  ondragDrop(e: DragEvent): void {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.clearWarningMessages();\n\n    if (isUndefined(this.fileInput.nativeElement.webkitdirectory)) {\n      const files = toArray(e.dataTransfer.files);\n\n      if (files.length) {\n        this.addFiles(files);\n      }\n\n      if (this.files.length) {\n        this._renderer.addClass(this._elRef.nativeElement, 'dropped');\n      }\n    } else {\n      const items = toArray(e.dataTransfer.items);\n      const isDirectoryDropped = items.some((item) => {\n        const itemEntry = item.webkitGetAsEntry();\n\n        return itemEntry.isDirectory;\n      });\n\n      if (isDirectoryDropped) {\n        // check if folderSuppress error is already added to the statusMessages array\n        const messageIndex = this.statusMessages\n          .map(message => message.text)\n          .indexOf(this.fileManager.fileErrors.folderSuppress);\n\n        if (messageIndex === -1) {\n          this.statusMessages.push({text: this.fileManager.fileErrors.folderSuppress, variant: MessageStatus.Warning});\n        }\n      } else {\n        this.onChangeFileInput(e);\n      }\n    }\n    this._markComponentTouched();\n    this._componentEmptyState();\n\n    this.isDragOverMask = false;\n    this._droppable = 0;\n    this._renderer.removeClass(this.droppableArea, 'adapt-drop-wrp');\n    this._renderer.removeClass(this.dropEnter.nativeElement, 'pointer-events');\n\n    this._animateDndChange();\n  }\n\n  /**\n   * Opens file dialog window for file selection, fires appropriate events\n   */\n  openFileDialog(): void {\n    this.beforeFileDialogOpen.emit(null);\n    this.fileInput.nativeElement.click();\n    this.afterFileDialogOpen.emit(null);\n  }\n\n  startUploading(): void {\n    if (this.readonly || this.disabled) {\n      return;\n    }\n\n    this._markComponentTouched();\n\n    if (this.isErrorExist) {\n      if (!this.customFormControl) {\n        // check if required error is already added to the statusMessages array\n        const messageIndex = this.statusMessages\n          .map(message => message.text)\n          .indexOf(this.texts.required);\n\n        if (messageIndex === -1) {\n          this.statusMessages.push({text: this.texts.required, variant: MessageStatus.Danger});\n        }\n      }\n\n      return;\n    }\n\n    const uploadInputs = {\n      chunkSize: this._chunkSize,\n      uploadUrl: this.url,\n      customErrors: this.customErrors\n    };\n\n    this.fileManager.startUploading(uploadInputs);\n  }\n\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n\n    if (!this.disabled && this.enableDnD) {\n      this.isDragOverMask = false;\n\n      this.droppableArea.removeEventListener('dragenter', this._onDragEnter);\n      this.droppableArea.removeEventListener('dragover', this._onDragOver);\n      this.droppableArea.removeEventListener('dragleave', this._onDragLeave);\n      this.droppableArea.removeEventListener('drop', this._onDragDrop);\n\n      document.removeEventListener('dragover', this._preventDefault);\n      document.removeEventListener('drop', this._preventDefault);\n    }\n    this._destroyed$.next(true);\n    this._destroyed$.complete();\n  }\n\n  clearWarningMessages(): void {\n    this.statusMessages = [];\n  }\n\n  /**\n   * Adds files to uploader service\n   */\n\n  private addFiles(files: (File | FileSystemEntry)[]): void {\n    if (this.files.length) {\n      return;\n    }\n\n    this.clearWarningMessages();\n\n    this.beforeFileAdded.emit(files);\n\n    this.fileManager.addFiles(\n      files,\n      this.allowDeletion,\n      this.mode, this.suppressParallel,\n      this.allowDuplicates,\n      this._maxFileSize, this._chunkSize,\n      this.allowedTypes, this.forbiddenTypes,\n      this.filesCount,\n      this.customErrors, this.url);\n    this.afterFileAdded.emit(files);\n\n    this._propagateChanges();\n\n    // uncomment selection - we need to clear input element, so input change event would fire\n    // for the IE we have validation for the files array length\n    this.fileInput.nativeElement.value = '';\n  }\n\n  private _updateStorageWithUploadedFile(): void {\n    if (this.showFile) {\n      this.fileManager.updateFilesStorage([this.showFile]);\n      this._renderer.addClass(this._elRef.nativeElement, 'dropped');\n    }\n  }\n\n  private dataHasFiles(e: DragEvent): boolean {\n    const types = Array.prototype.slice.call(e.dataTransfer.types);\n\n    return types.indexOf('Files') !== -1;\n  }\n\n  private _preventDefault(e: DragEvent): void {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  private _animateDndChange(): void {\n    this._animationPlayers.hiddenDnd.reset();\n    this._animationPlayers.visibleDnd.reset();\n    this._animationPlayers.hiddenDrop.reset();\n    this._animationPlayers.visibleDrop.reset();\n\n    const currentPlayerDnd = this.isDragOverMask ? this._animationPlayers.hiddenDnd : this._animationPlayers.visibleDnd;\n    const currentPlayerDrop = this.isDragOverMask ? this._animationPlayers.visibleDrop : this._animationPlayers.hiddenDrop;\n\n    currentPlayerDnd.play();\n    currentPlayerDrop.play();\n\n    currentPlayerDnd.onDone(() => {\n      if (!this._droppable) {\n        this.isUploadLimitExceed = false;\n      }\n    });\n  }\n\n  private _createAnimationPlayers(): void {\n    const players = Object.keys(this._animationPlayers);\n\n    players.forEach((player) => {\n      if (this._animationPlayers[player]) {\n        this._animationPlayers[player].destroy();\n      }\n    });\n\n    this._animationPlayers.hiddenDnd = this._animationBuilder.build(ANIMATION_DND.hidden[this._dir.value])\n      .create(this.dnd.nativeElement);\n    this._animationPlayers.visibleDnd = this._animationBuilder.build(ANIMATION_DND.visible[this._dir.value])\n      .create(this.dnd.nativeElement);\n    this._animationPlayers.hiddenDrop = this._animationBuilder.build(ANIMATION_DROP.hidden[this._dir.value])\n      .create(this.drop.nativeElement);\n    this._animationPlayers.visibleDrop = this._animationBuilder.build(ANIMATION_DROP.visible[this._dir.value])\n      .create(this.drop.nativeElement);\n  }\n\n  private _componentEmptyState(): void {\n    if (this.files.length) {\n      return;\n    }\n\n    if (this.isErrorExist && !this.customFormControl) {\n      // check if required error is already added to the statusMessages array\n      const messageIndex = this.statusMessages\n        .map(message => message.text)\n        .indexOf(this.texts.required);\n\n      if (messageIndex === -1) {\n        this.statusMessages.push({text: this.texts.required, variant: MessageStatus.Danger});\n      }\n    }\n  }\n\n  private _onTouchedCallback: () => void = () => {\n    return;\n  };\n\n  private _markComponentTouched(): void {\n    this._isTouched = true;\n    this._onTouchedCallback();\n  }\n\n  private _propagateChanges(): void {\n    this.propagateChange(this.files);\n    this.valueChange.emit(this.files);\n  }\n}\n","<input #fileInput type=\"file\" hidden\n       [attr.aria-label]=\"'File Control'\"\n       [attr.aria-hidden]/>\n\n<div class=\"adapt-single-uploader__wrp\" #droppableAreaBlock>\n  <div class=\"adapt-single-uploader__content\" #dropEnter>\n\n    <!--    Label    -->\n    <adapt-rx-control-label [label]=\"label\"\n                            [requiredLabel]=\"context.requiredLabel\"\n                            [showRequiredLabel]=\"context.required\"\n                            [tooltip]=\"tooltipConfig\"></adapt-rx-control-label>\n    <!--    Label END   -->\n\n    <div class=\"adapt-single-uploader-inner\">\n\n      <ng-template #data>\n        <div class=\"adapt-single-uploader-dnd-animation\">\n          <ng-container [ngTemplateOutlet]=\"dragAndDrop\"></ng-container>\n          <ng-container *ngIf=\"enableDnD\">\n            <div class=\"adapt-uploader-drop\" #drop>\n              <ng-container *ngIf=\"!isUploadLimitExceed\">\n                <div class=\"adapt-uploader-drop__icon\">\n                  <svg aria-hidden=\"true\" class=\"clound-icon\"\n                       xmlns=\"http://www.w3.org/2000/svg\"\n                       width=\"45\"\n                       height=\"32\"\n                       viewBox=\"0 0 72 48\"\n                       style=\"enable-background:new 0 0 72 48;\"\n                       xml:space=\"preserve\">\n                <path fill=\"#D9D9D9\" class=\"st0\"\n                      d=\"M72,36c0,6.63-5.37,12-12,12H12C5.37,48,0,42.63,0,36c0-5.98,4.39-10.9,10.12-11.81C9.41,22.26,9,20.18,9,18  C9,8.06,17.06,0,27,0c6.01,0,11.32,2.96,14.59,7.49C43.54,6.56,45.7,6,48,6c8.28,0,15,6.72,15,15c0,1.14-0.15,2.24-0.39,3.3  C67.98,25.5,72,30.27,72,36z\"/>\n              </svg>\n                  <svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" class=\"arrow-icon\"\n                       width=\"45\"\n                       height=\"32\"\n                       viewBox=\"0 0 72 48\"\n                       style=\"enable-background:new 0 0 72 48;\"\n                       xml:space=\"preserve\">\n                <path fill=\"#FBFBFB\" class=\"st0\" d=\"M33,48V36H21l15-18l15,18H39v12H33z\"/>\n              </svg>\n                </div>\n                <span class=\"adapt-uploader-dnd-text m-start-2\">{{texts.dragAndDrop}}</span>\n              </ng-container>\n\n              <ng-container *ngIf=\"isUploadLimitExceed\">\n                <div class=\"adapt-uploader-drop__icon adapt-uploader-drop__icon-forbidden\">\n                  <svg aria-hidden=\"true\" class=\"clound-icon__forbidden\"\n                       xmlns=\"http://www.w3.org/2000/svg\"\n                       width=\"45\"\n                       height=\"32\"\n                       viewBox=\"0 0 64 44\" style=\"enable-background:new 0 0 64 44;\"\n                       xml:space=\"preserve\">\n                        <path fill=\"#FA7A59\"\n                              d=\"M54.91,21.93c0.21-0.9,0.34-1.86,0.34-2.84c0-7.13-5.79-12.92-12.92-12.92c-1.99,0-3.85,0.49-5.53,1.29\nC33.99,3.56,29.42,1,24.25,1C15.7,1,8.75,7.95,8.75,16.5c0,1.89,0.36,3.67,0.96,5.32C4.77,22.62,1,26.86,1,32\n\tc0,5.71,4.62,10.33,10.33,10.33h41.33C58.38,42.33,63,37.71,63,32C63,27.07,59.54,22.96,54.91,21.93z M41.14,33.4\n\tc-4.75,4.73-12.22,5.01-17.31,0.85c-0.34-0.26-0.67-0.54-0.98-0.85c-0.31-0.31-0.59-0.65-0.85-0.98\n\tc-4.16-5.09-3.88-12.55,0.85-17.31c4.75-4.73,12.22-5.01,17.31-0.85c0.34,0.26,0.67,0.54,0.98,0.85s0.59,0.65,0.85,0.98\n\tC46.16,21.18,45.87,28.64,41.14,33.4z M25.67,32.41c4.06,3.15,9.92,2.87,13.64-0.85c3.72-3.72,4-9.58,0.85-13.64L25.67,32.41z\n\t M24.69,16.94c-3.72,3.72-4,9.58-0.85,13.64l14.49-14.49C34.27,12.94,28.41,13.22,24.69,16.94z\"/>\n                  </svg>\n                </div>\n                <span\n                  class=\"adapt-uploader-dnd-text adapt-uploader-dnd-text-forbidden m-start-2\">{{texts.uploadFilesLimit}}</span>\n              </ng-container>\n\n            </div>\n          </ng-container>\n        </div>\n      </ng-template>\n\n      <ng-container *ngIf=\"!!files.length\">\n        <adapt-uploader-item *ngFor=\"let file of files; let id = index;\"\n                             [disabled]=\"disabled\"\n                             [readonly]=\"readonly\"\n                             [url]=\"url\"\n                             [deleteUrl]=\"deleteUrl\"\n                             [chunkSize]=\"chunkSize\"\n                             [customErrors]=\"customErrors\"\n                             (afterFileRemove)=\"removedFromQueue($event)\"\n                             (fileDeleted)=\"fileDeleted($event)\"\n                             [file]=\"file\" [id]=\"id\" [texts]=\"texts\" [componentAnimation]=\"false\"></adapt-uploader-item>\n      </ng-container>\n\n      <ng-container *ngIf=\"!files.length\">\n        <ng-template [ngTemplateOutlet]=\"readonly ? readonlyEmpty : data\"></ng-template>\n      </ng-container>\n    </div>\n\n    <div class=\"adapt-single-uploader__warning-text mt-1\">\n      <!--  Errors & Warnings -->\n      <adapt-alert *ngFor=\"let msg of statusMessages\"\n                   [adaptRadarDisableEventSending]=\"true\"\n                   [config]=\"{title: msg.title ? msg.title : '', content: errorMessageTemplate, type: 'inline', variant: msg.variant, icon: false}\"\n                   class=\"adapt-uploader-messages\">\n        <ng-template #errorMessageTemplate>\n          {{msg.text}}\n          <ng-container *ngIf=\"msg.files && msg.files.length\">\n            <div [adaptPopover]=\"remainingFileListTemplate\"\n                 [adaptRadarDisableEventSending]=\"true\"\n                 [placement]=\"'auto'\"\n                 [maxWidth]=\"600\"\n                 class=\"remaining-files-list\">\n              {{texts.remainingFilesListLabel}}\n            </div>\n          </ng-container>\n\n          <ng-template #remainingFileListTemplate>\n            <ng-template ngFor let-file let-index=\"index\" let-last=\"last\" [ngForOf]=\"msg.files\">\n              <span class=\"file-name\">{{file.name}}<span *ngIf=\"!last\">{{texts.comma}} </span></span>\n            </ng-template>\n          </ng-template>\n        </ng-template>\n      </adapt-alert>\n\n      <ng-container *ngIf=\"customFormControl && context.errors && context.errors.length && context.control.touched\">\n        <adapt-alert *ngFor=\"let error of context.errors\"\n                     [adaptRadarDisableEventSending]=\"true\"\n                     [config]=\"{title: error.name, content: error.text, type: 'inline', variant: 'danger', icon: false}\"\n                     class=\"adapt-uploader-messages\"></adapt-alert>\n      </ng-container>\n    </div>\n\n    <!--  Restricts  -->\n    <div class=\"adapt-uploader-restrict\" *ngIf=\"!readonly\">\n      <div class=\"adapt-uploader-restrict-types\" *ngIf=\"allowedTypes.length\">\n        <p class=\"d-inline-block mb-0\">{{texts.allowedTypes}}</p>\n        <span class=\"letter-space\"></span>\n        <p class=\"d-inline-block mb-0\">{{allowedTypes | fileTypes:texts.fileTypesDivider }}</p>\n      </div>\n      <div class=\"adapt-uploader-restrict-size\">\n        <p class=\"d-inline-block mb-0\">{{texts.maxFileSize}}</p>\n        <span class=\"letter-space\"></span>\n        <p class=\"d-inline-block mb-0\">{{maxFileSize | fileSize}}</p>\n      </div>\n    </div>\n  </div>\n</div>\n\n<ng-template #dragAndDrop>\n  <div class=\"adapt-uploader-dnd\" #dnd [@uploaderInitStateAnim]=\"\n        {params: { leftStart: isRtl ? 'auto' : '15%', rightStart: isRtl ? '15%' : 'auto',\n                                          leftEnd: isRtl ? 'auto' : '0px', rightEnd: isRtl ? '0px' : 'auto'}}\">\n    <button type=\"button\"\n            adapt-button\n            btn-type=\"secondary\"\n            class=\"adapt-uploader-attach-btn\"\n            [adaptRadarDisableEventSending]=\"true\"\n            [disabled]=\"disabled\"\n            (click)=\"openFileDialog()\"\n            [attr.aria-label]=\"texts.fileBtn\">\n      <span class=\"btn-icon d-icon-file_o\"></span>\n      {{texts.fileBtn}}\n    </button>\n\n    <span *ngIf=\"enableDnD\" class=\"adapt-uploader-dnd-text m-start-2\">\n            {{texts.fileMode}}\n          </span>\n  </div>\n</ng-template>\n\n<ng-template #readonlyEmpty>\n  <adapt-empty-state [type]=\"'objects'\"\n                     [adaptRadarDisableEventSending]=\"true\"\n                     [label]=\"texts.notFound\">\n  </adapt-empty-state>\n</ng-template>\n\n\n"]}