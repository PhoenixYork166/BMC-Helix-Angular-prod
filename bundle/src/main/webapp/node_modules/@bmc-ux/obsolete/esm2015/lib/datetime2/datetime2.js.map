{"version":3,"file":"datetime2.js","sourceRoot":"","sources":["../../../../../../libs/adapt-obsolete/src/lib/datetime2/datetime2.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport {\n  AfterViewInit,\n  Component,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  Renderer2,\n  ViewChild,\n  ElementRef,\n  ChangeDetectorRef,\n  NgZone\n} from '@angular/core';\nimport {FormControl} from '@angular/forms';\nimport {animate, AnimationBuilder, AnimationPlayer, style, transition, trigger, useAnimation} from '@angular/animations';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {DOWN_ARROW, UP_ARROW} from '@angular/cdk/keycodes';\nimport {Subscription} from 'rxjs';\nimport {distinctUntilChanged, map, take} from 'rxjs/operators';\nimport moment from 'moment-es6';\n\nimport {\n  ANIMATION_NAME,\n  KeyValueObject,\n  GetDragNDrop,\n  GetAngle,\n  GetDistance,\n  getEventKeyCode,\n  AdaptTranslateService,\n  SafeCdr\n} from '@bmc-ux/adapt-angular';\nimport {Calendar2, Calendar2Day, Clock2Face, Clock2FaceUnit, Datetime2TextsModel} from './datetime2.model';\nimport {AdaptDatetime2Component} from './datetime2.component';\nimport {AdaptDatetimeRange2Component} from './datetime-range2.component';\nimport {IsLocaleHasMeridiem} from '../common/datetime';\n\n@Component({\n  selector: 'adapt-datetime2-calendar',\n  template: `\n      <div class=\"a3t-calendar--controls\"\n           *ngIf=\"!calendarUIState.hideControls\"\n           [class.a3t-calendar--controls_expanded]=\"calendarUIState.expanded\">\n          <ng-container *ngIf=\"!calendarUIState.expanded; then pickMonth; else pickYear\"></ng-container>\n          <ng-container *ngIf=\"calendarUIState.expanded; then pickMonth; else pickYear\"></ng-container>\n\n          <ng-template #pickYear>\n              <div class=\"a3t-calendar--controls-line\"\n                   [class.a3t-calendar--year-picker]=\"monthAndYearOnly\"\n                   attr.aria-label=\"{{defaultTexts.emptyYear}}\"\n              >\n                  <button type=\"button\"\n                          class=\"a3t-calendar--controls-btn\"\n                          aria-hidden=\"true\"\n                          tabindex=\"-1\"\n                          [attr.data-testid]=\"testID + '_prevYear'\"\n                          [disabled]=\"calendarUIState.disabled\"\n                          [class.disabled]=\"calendarUIState.disabled\"\n                          [class.readonly]=\"calendarUIState.readonly\"\n                          (click)=\"$event.stopPropagation(); calendarUIActions.prevYear()\">\n                      <adapt-icon [adaptRadarDisableEventSending]=\"true\" *ngIf=\"!isRtl\" [name]=\"'angle_left'\"></adapt-icon>\n                      <adapt-icon [adaptRadarDisableEventSending]=\"true\" *ngIf=\"isRtl\" [name]=\"'angle_right'\"></adapt-icon>\n                  </button>\n                  <div class=\"a3t-calendar--controls-info\"\n                       tabindex=\"0\"\n                       attr.aria-label=\"{{defaultTexts.emptyYear}}\"\n                       role=\"spinbutton\"\n                       [attr.aria-valuenow]=\"calendarUIState.date.format('YYYY')\"\n                       (keydown.arrowUp)=\"$event.preventDefault(); calendarUIActions.nextYear()\"\n                       (keydown.arrowRight)=\"$event.preventDefault(); calendarUIActions.nextYear()\"\n                       (keydown.arrowDown)=\"$event.preventDefault(); calendarUIActions.prevYear()\"\n                       (keydown.arrowLeft)=\"$event.preventDefault(); calendarUIActions.prevYear()\">\n                      <div [adaptTextSlide]=\"calendarUIState.date.format('YYYY')\"\n                           [slideForward]=\"animationDirectionForward\"></div>\n                  </div>\n                  <button type=\"button\"\n                          class=\"a3t-calendar--controls-btn\"\n                          aria-hidden=\"true\"\n                          tabindex=\"-1\"\n                          [attr.data-testid]=\"testID + '_nextYear'\"\n                          [disabled]=\"calendarUIState.disabled\"\n                          [class.disabled]=\"calendarUIState.disabled\"\n                          [class.readonly]=\"calendarUIState.readonly\"\n                          (click)=\"$event.stopPropagation(); calendarUIActions.nextYear()\">\n                      <adapt-icon [adaptRadarDisableEventSending]=\"true\" *ngIf=\"isRtl\" [name]=\"'angle_left'\"></adapt-icon>\n                      <adapt-icon [adaptRadarDisableEventSending]=\"true\" *ngIf=\"!isRtl\" [name]=\"'angle_right'\"></adapt-icon>\n                  </button>\n              </div>\n          </ng-template>\n          <ng-template #pickMonth>\n              <div class=\"a3t-calendar--controls-line\"\n                   attr.aria-label=\"{{defaultTexts.emptyMonth}}\"\n                   *ngIf=\"!monthAndYearOnly\">\n                  <button type=\"button\"\n                          class=\"a3t-calendar--controls-btn\"\n                          aria-hidden=\"true\"\n                          tabindex=\"-1\"\n                          [attr.data-testid]=\"testID + '_prevMonth'\"\n                          [disabled]=\"calendarUIState.disabled\"\n                          [class.disabled]=\"calendarUIState.disabled\"\n                          [class.readonly]=\"calendarUIState.readonly\"\n                          (click)=\"$event.stopPropagation(); calendarUIActions.prevMonth()\">\n                      <adapt-icon [adaptRadarDisableEventSending]=\"true\" *ngIf=\"!isRtl\" [name]=\"'angle_left'\"></adapt-icon>\n                      <adapt-icon [adaptRadarDisableEventSending]=\"true\" *ngIf=\"isRtl\" [name]=\"'angle_right'\"></adapt-icon>\n                  </button>\n                  <div class=\"a3t-calendar--controls-info\"\n                       tabindex=\"0\"\n                       attr.aria-label=\"{{defaultTexts.emptyMonth}}\"\n                       role=\"spinbutton\"\n                       [attr.aria-valuetext]=\"calendarUIState.date.format('MMMM')\"\n                       (keydown.arrowUp)=\"$event.preventDefault(); calendarUIActions.nextMonth()\"\n                       (keydown.arrowRight)=\"$event.preventDefault(); calendarUIActions.nextMonth()\"\n                       (keydown.arrowDown)=\"$event.preventDefault(); calendarUIActions.prevMonth()\"\n                       (keydown.arrowLeft)=\"$event.preventDefault(); calendarUIActions.prevMonth()\">\n                      <div [adaptTextSlide]=\"calendarUIState.date.format(calendarUIState.expanded ? 'MMMM' : 'MMM')\"\n                           [slideForward]=\"animationDirectionForward\"></div>\n                  </div>\n                  <button type=\"button\"\n                          class=\"a3t-calendar--controls-btn\"\n                          aria-hidden=\"true\"\n                          tabindex=\"-1\"\n                          [attr.data-testid]=\"testID + '_nextMonth'\"\n                          [disabled]=\"calendarUIState.disabled\"\n                          [class.disabled]=\"calendarUIState.disabled\"\n                          [class.readonly]=\"calendarUIState.readonly\"\n                          (click)=\"$event.stopPropagation(); calendarUIActions.nextMonth()\">\n                      <adapt-icon [adaptRadarDisableEventSending]=\"true\" *ngIf=\"isRtl\" [name]=\"'angle_left'\"></adapt-icon>\n                      <adapt-icon [adaptRadarDisableEventSending]=\"true\" *ngIf=\"!isRtl\" [name]=\"'angle_right'\"></adapt-icon>\n                  </button>\n              </div>\n          </ng-template>\n      </div>\n      <table class=\"a3t-calendar--table\" #daysTable *ngIf=\"!monthAndYearOnly\">\n          <thead aria-hidden=\"true\">\n          <tr>\n              <ng-container *ngFor=\"let dayOfWeek of calendar[0]; let first = first; let last = last\">\n                  <th class=\"a3t-calendar--table-edge-cell\" aria-hidden=\"true\" *ngIf=\"first\"></th>\n                  <th class=\"a3t-calendar--table-week-name\">\n                      {{dayOfWeek.date.format('dd')}}\n                  </th>\n                  <th class=\"a3t-calendar--table-edge-cell\" aria-hidden=\"true\" *ngIf=\"last\"></th>\n              </ng-container>\n          </tr>\n          </thead>\n          <tbody #calendarContainerRef>\n          <tr aria-hidden=\"true\">\n              <td colspan=\"9\" class=\"a3t-calendar--table-space-cell\"></td>\n          </tr>\n          <tr *ngFor=\"let week of calendar\">\n              <ng-container *ngFor=\"let day of week; let first = first; let last = last\">\n                  <td class=\"a3t-calendar--table-edge-cell\"\n                      aria-hidden=\"true\"\n                      *ngIf=\"first\"\n                      [class.range]=\"day.isInRange && !day.isRangeFrom\"\n                      [class.other-month]=\"day.isOtherMonth\"></td>\n                  <td class=\"a3t-calendar--table-day\"\n                      role=\"gridcell\"\n                      [class.range]=\"day.isInRange && !(day.isRangeFrom && day.isRangeTo)\"\n                      [class.range-from]=\"isRtl ? (day.isRangeTo && !day.isRangeFrom) : (day.isRangeFrom && !day.isRangeTo)\"\n                      [class.range-to]=\"isRtl ? (day.isRangeFrom && !day.isRangeTo) : (day.isRangeTo && !day.isRangeFrom)\"\n                      [class.other-month]=\"day.isOtherMonth\"\n                      [attr.aria-label]=\"day.date.format('LL')\"\n                      [attr.aria-disabled]=\"day.isDisabled || day.isOtherMonth\"\n                      [attr.aria-readonly]=\"day.isReadonly\"\n                      [attr.aria-hidden]=\"day.isDisabled || day.isOtherMonth\"\n                      [attr.aria-selected]=\"day.isSelected\">\n                      <button type=\"button\"\n                              #dayEl\n                              (click)=\"onDayClick(day.date)\"\n                              [class.active]=\"day.isSelected\"\n                              [class.today]=\"day.isToday\"\n                              [class.range-edge]=\"day.isRangeFrom || day.isRangeTo\"\n                              [class.disabled]=\"day.isDisabled || day.isOtherMonth\"\n                              [class.readonly]=\"day.isReadonly\"\n                              [disabled]=\"day.isDisabled || day.isOtherMonth\"\n                              [attr.data-testid]=\"testID + '_day_' + day.date.date()\"\n                              (keydown.arrowLeft)=\"onDayFocusChange($event, dayEl, 'l')\"\n                              (keydown.arrowUp)=\"onDayFocusChange($event, dayEl, 't')\"\n                              (keydown.arrowRight)=\"onDayFocusChange($event, dayEl, 'r')\"\n                              (keydown.arrowDown)=\"onDayFocusChange($event, dayEl, 'b')\">{{day.date.date()}}</button>\n                  </td>\n                  <td class=\"a3t-calendar--table-edge-cell\"\n                      aria-hidden=\"true\"\n                      *ngIf=\"last\"\n                      [class.range]=\"day.isInRange && !day.isRangeTo\"\n                      [class.other-month]=\"day.isOtherMonth\"></td>\n              </ng-container>\n          </tr>\n          <tr aria-hidden=\"true\">\n              <td colspan=\"9\" class=\"a3t-calendar--table-space-cell\"></td>\n          </tr>\n          </tbody>\n      </table>\n\n      <adapt-datetime2-year-picker *ngIf=\"monthAndYearOnly\"\n                                   [initialDate]=\"initialDate\"\n                                   [yearsPage]=\"yearsPage\"\n                                   [activeDate]=\"activeDate\"\n                                   (yearSelect)=\"yearSelect($event)\"\n                                   [animationsSet]=\"_animationsSet\"\n                                   [calendarPlayers]=\"_calendarPlayers\">\n      </adapt-datetime2-year-picker>\n  `,\n  // eslint-disable-next-line @angular-eslint/no-host-metadata-property\n  host: {\n    '[class.a3t-calendar]': 'true'\n  }\n})\nexport class AdaptDatetime2CalendarComponent implements OnInit, AfterViewInit {\n  // Private Fields\n  readonly _formControl: FormControl;\n  // UI Fields\n  calendar: Calendar2Day[][];\n  animationDirectionForward: boolean = true;\n  isRtl: boolean = false;\n\n  yearsPage: number = 0;\n\n  defaultTexts: {\n    emptyYear?: string;\n    emptyMonth?: string;\n  } = {};\n\n  calendarUIActions: any = {\n    prevYear: () => {\n      if (!this.monthAndYearOnly) {\n        this.animationDirectionForward = false;\n        this._initialDate.subtract(1, 'year');\n        this._drawCalendar();\n      } else {\n        this.yearsPage--;\n      }\n    },\n    nextYear: () => {\n      if (!this.monthAndYearOnly) {\n        this.animationDirectionForward = true;\n        this._initialDate.add(1, 'year');\n        this._drawCalendar();\n      } else {\n        this.yearsPage++;\n      }\n    },\n    prevMonth: () => {\n      this.animationDirectionForward = false;\n      this._initialDate.subtract(1, 'month');\n      this._drawCalendar();\n    },\n    nextMonth: () => {\n      this.animationDirectionForward = true;\n      this._initialDate.add(1, 'month');\n      this._drawCalendar();\n    },\n  };\n\n  @Input() testID: string;\n\n  @Input() monthAndYearOnly: boolean = false;\n\n  // Outputs\n  @Output() readonly daySelect: EventEmitter<moment.Moment> = new EventEmitter<moment.Moment>();\n\n  // Element refs\n  @ViewChild('daysTable') daysTable: any;\n  @ViewChild('calendarContainerRef') calendarContainerRef: any;\n\n  _animationsSet: any = {\n    prevOut: [\n      style({\n        transform: 'translate(0px, 0px)',\n        opacity: 1\n      }),\n      animate('100ms', style({\n        transform: 'translate(10px, 0px)',\n        opacity: 0\n      }))\n    ],\n    prevIn: [\n      style({\n        transform: 'translate(-10px, 0px)',\n        opacity: 0\n      }),\n      animate('100ms', style({\n        transform: 'translate(0px, 0px)',\n        opacity: 1\n      }))\n    ],\n    nextOut: [\n      style({\n        transform: 'translate(0px, 0px)',\n        opacity: 1\n      }),\n      animate('100ms', style({\n        transform: 'translate(-10px, 0px)',\n        opacity: 0\n      }))\n    ],\n    nextIn: [\n      style({\n        transform: 'translate(10px, 0px)',\n        opacity: 0\n      }),\n      animate('100ms', style({\n        transform: 'translate(0px, 0px)',\n        opacity: 1\n      }))\n    ]\n  };\n\n  _calendarPlayers: {\n    nextOut: AnimationPlayer;\n    nextIn: AnimationPlayer;\n    prevOut: AnimationPlayer;\n    prevIn: AnimationPlayer;\n  } = {\n    nextOut: null,\n    nextIn: null,\n    prevOut: null,\n    prevIn: null\n  };\n\n  private _calendarDOM: HTMLElement[];\n  private _animationReady: boolean = false;\n\n  private _initialDate: moment.Moment = moment();\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  @Input()\n  set initialDate(v: moment.Moment) {\n    if (v && v.isValid()) {\n      this._initialDate = v.clone();\n      this._drawCalendar();\n    }\n  }\n\n  get initialDate(): moment.Moment {\n    return this._initialDate;\n  }\n\n  private _activeDate: moment.Moment = null;\n\n  @Input()\n  set activeDate(v: moment.Moment) {\n    if (v !== undefined) {\n\n      if (v && v.isValid()) {\n        this._activeDate = v.clone();\n\n        if (this._activeDate.clone().startOf('month').isSame(this._initialDate.clone().startOf('month'))) {\n          this._patchCalendar();\n        } else {\n          this._initialDate = v.clone();\n          this._drawCalendar();\n        }\n      } else {\n        this._activeDate = null;\n        this._patchCalendar();\n      }\n    }\n  }\n\n  get activeDate(): moment.Moment {\n    return this._activeDate;\n  }\n\n  private _filter: (date: moment.Moment, formControl?: FormControl) => boolean;\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  @Input() set filter(v: (date: moment.Moment) => boolean) {\n    if (v !== undefined) {\n      this._filter = v ? v : null;\n      this._patchCalendar();\n    }\n  }\n\n  private _range: [moment.Moment | null, moment.Moment | null] = [null, null];\n\n  @Input() set range(v: [moment.Moment | null, moment.Moment | null]) {\n    if (v) {\n      this._range[0] = v[0] && v[0].isValid() ? v[0].clone() : null;\n      this._range[1] = v[1] && v[1].isValid() ? v[1].clone() : null;\n\n      this._patchCalendar();\n    }\n  }\n\n  private _disabled: boolean;\n\n  @Input() set disabled(v: boolean) {\n    if (v !== undefined) {\n      this._disabled = v;\n      this._patchCalendar();\n    }\n  }\n\n  private _readonly: boolean;\n\n  @Input() set readonly(v: boolean) {\n    if (v !== undefined) {\n      this._readonly = v;\n      this._patchCalendar();\n    }\n  }\n\n  private _hideControls: boolean = false;\n\n  @Input() set hideControls(v: boolean) {\n    if (v !== undefined) {\n      this._hideControls = v;\n    }\n  }\n\n  private _expandedControlsStyle: boolean = false;\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  @Input() set expandedControlsStyle(v: boolean) {\n    if (v !== undefined) {\n      this._expandedControlsStyle = v;\n    }\n  }\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  get calendarUIState(): { date: moment.Moment; hideControls: boolean; expanded: boolean; disabled: boolean; readonly: boolean } {\n    return {\n      date: this._initialDate,\n      disabled: this._disabled,\n      readonly: this._readonly,\n      hideControls: this._hideControls,\n      expanded: this._expandedControlsStyle\n    };\n  }\n\n  // Inputs\n\n  @Input() set state(config: Calendar2) {\n    if (!config) {\n      return;\n    }\n\n    let needPatch = false;\n    let needRedraw = false;\n\n\n    if (config.initialDate && config.initialDate.isValid()) {\n      this._initialDate = config.initialDate.clone();\n      needRedraw = true;\n    }\n\n    if (config.activeDate !== undefined) {\n\n      if (config.activeDate && config.activeDate.isValid()) {\n        this._activeDate = config.activeDate.clone();\n\n        if (this._activeDate.clone().startOf('month').isSame(this._initialDate.clone().startOf('month'))) {\n          needPatch = true;\n        } else {\n          this._initialDate = config.activeDate.clone();\n          needRedraw = true;\n        }\n      } else {\n        this._activeDate = null;\n        needPatch = true;\n      }\n    }\n\n    if (config.filter !== undefined) {\n      this._filter = config.filter ? config.filter : null;\n      needPatch = true;\n    }\n\n    if (config.range) {\n      this._range[0] = config.range[0] && config.range[0].isValid() ? config.range[0].clone() : null;\n      this._range[1] = config.range[1] && config.range[1].isValid() ? config.range[1].clone() : null;\n\n      needPatch = true;\n    }\n\n    if (config.disabled !== undefined) {\n      this._disabled = config.disabled;\n      needPatch = true;\n    }\n\n    if (config.readonly !== undefined) {\n      this._readonly = config.readonly;\n      needPatch = true;\n    }\n\n    if (config.hideControls !== undefined) {\n      this._hideControls = config.hideControls;\n    }\n\n    if (config.expandedControlsStyle !== undefined) {\n      this._expandedControlsStyle = config.expandedControlsStyle;\n    }\n\n\n    // Update\n    if (needPatch) {\n      this._patchCalendar();\n    }\n\n    if (needRedraw) {\n      this._drawCalendar();\n    }\n  }\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  constructor(\n    private _animationBuilder: AnimationBuilder,\n    private _dir: Directionality,\n    @Optional() @Inject(forwardRef(() => AdaptDatetime2Component))\n    private _dt: AdaptDatetime2Component,\n    @Optional() @Inject(forwardRef(() => AdaptDatetimeRange2Component))\n    private _dtr: AdaptDatetimeRange2Component,\n    private _changeDetectorRef: ChangeDetectorRef,\n    private ts: AdaptTranslateService) {\n    this._initCalendar();\n    this._drawCalendar();\n\n    if (_dt || _dtr) {\n      this._formControl = (_dt || _dtr).control.control as FormControl;\n    }\n    this.setDefaultTexts(ts.getCurrentLanguage());\n  }\n\n  ngOnInit(): void {\n    this.isRtl = this._dir.value === 'rtl';\n  }\n\n  ngAfterViewInit(): void {\n    if (!this.monthAndYearOnly) {\n      this._calendarPlayers.prevOut = this._animationBuilder.build(this._animationsSet.prevOut)\n        .create(this.calendarContainerRef.nativeElement);\n      this._calendarPlayers.prevIn = this._animationBuilder.build(this._animationsSet.prevIn)\n        .create(this.calendarContainerRef.nativeElement);\n      this._calendarPlayers.nextOut = this._animationBuilder.build(this._animationsSet.nextOut)\n        .create(this.calendarContainerRef.nativeElement);\n      this._calendarPlayers.nextIn = this._animationBuilder.build(this._animationsSet.nextIn)\n        .create(this.calendarContainerRef.nativeElement);\n    }\n\n    this._animationReady = true;\n  }\n\n  setDefaultTexts(translation: KeyValueObject): void {\n    this.defaultTexts.emptyYear = translation['adapt.datetime.emptyYear'];\n    this.defaultTexts.emptyMonth = translation['adapt.datetime.emptyMonth'];\n  }\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n  // Private methods\n  /**\n   * Init days table\n   */\n\n  // UI Methods\n  /**\n   * Calendar day click handler\n   */\n  onDayClick(date: moment.Moment): void {\n    this.daySelect.emit(date.clone());\n  }\n\n  yearSelect(date: moment.Moment): void {\n    this.daySelect.emit(date.clone());\n    this.yearsPage = 0;\n  }\n\n  /**\n   * Update days table with month change\n   */\n\n  /**\n   * Keyboard navigation for days table\n   */\n  onDayFocusChange(event: KeyboardEvent, element: HTMLElement, direction: 'l' | 't' | 'r' | 'b' = 'r'): void {\n    event.preventDefault();\n\n    if (!this._calendarDOM) {\n      this._calendarDOM = Array.prototype.slice.call(this.daysTable.nativeElement.querySelectorAll('button'));\n    }\n\n    const elIndex = this._calendarDOM.indexOf(element);\n\n    let newIndex;\n\n    switch (direction) {\n      case 'l':\n      case 't': {\n        newIndex = elIndex - (direction === 'l' ? 1 : 7);\n\n        while ((newIndex >= 0) && this._calendarDOM[newIndex] && (this._calendarDOM[newIndex] as HTMLButtonElement).disabled) {\n          newIndex--;\n        }\n\n        if (newIndex >= 0) {\n          this._calendarDOM[newIndex].focus();\n        }\n\n        break;\n      }\n      case 'r' :\n      case 'b' : {\n        newIndex = elIndex + (direction === 'r' ? 1 : 7);\n\n        while (this._calendarDOM[newIndex] && (this._calendarDOM[newIndex] as HTMLButtonElement).disabled) {\n          newIndex++;\n        }\n\n        if (newIndex < this._calendarDOM.length) {\n          this._calendarDOM[newIndex].focus();\n        }\n\n        break;\n      }\n    }\n  }\n\n  /**\n   * Update days table without month change\n   */\n\n  private _initCalendar(): void {\n    this.calendar =\n      Array(6)\n        .fill(0)\n        .map(() => Array(7)\n          .fill(0)\n          .map(() => new Calendar2Day()));\n  }\n\n  private _drawCalendar(): void {\n    const startDay = this._initialDate.clone().startOf('month').startOf('week');\n\n    const tempDate = startDay.clone().subtract(1, 'day');\n\n    this._animateCalendarChange((() => {\n      this.calendar.forEach((week: any[], weekIndex) => {\n        week.forEach((day, dayIndex) => {\n          this.calendar[weekIndex][dayIndex].date = tempDate.add(1, 'day').clone();\n        });\n      });\n      this._patchCalendar();\n    }).bind(this));\n  }\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  private _patchCalendar(): void {\n    this.calendar.forEach((week: Calendar2Day[]) => {\n      week.forEach((day: Calendar2Day) => {\n        day.isSelected = this._activeDate ?\n          this._activeDate.clone().startOf('day').isSame(day.date.startOf('day')) : false;\n        day.isToday = moment().startOf('day').isSame(day.date.startOf('day'));\n        day.isOtherMonth = day.date.month() !== this._initialDate.month();\n        day.isDisabled = this._disabled ||\n          (this._filter ? !this._filter(day.date, this._formControl) : false);\n        day.isReadonly = this._readonly;\n        day.isInRange = this._range[0] && this._range[1]\n          && day.date.isBetween(this._range[0], this._range[1], 'day', '[]');\n        day.isRangeFrom = this._range[0] && this._range[0].startOf('day').isSame(day.date.startOf('day'));\n        day.isRangeTo = this._range[1] && this._range[1].endOf('day').isSame(day.date.endOf('day'));\n      });\n    });\n  }\n\n  /**\n   * Calendar change animation\n   */\n  private _animateCalendarChange(changeValFn: () => void): void {\n    if (!this.monthAndYearOnly) {\n      if (this._animationReady) {\n        this._calendarPlayers.prevOut.reset();\n        this._calendarPlayers.prevIn.reset();\n        this._calendarPlayers.nextOut.reset();\n        this._calendarPlayers.nextIn.reset();\n\n        const _in = this.animationDirectionForward ? this._calendarPlayers.nextIn : this._calendarPlayers.prevIn;\n        const _out = this.animationDirectionForward ? this._calendarPlayers.nextOut : this._calendarPlayers.prevOut;\n\n        _out.onDone(() => {\n          changeValFn();\n          _in.play();\n\n          SafeCdr.detectChanges(this._changeDetectorRef);\n        });\n\n        _out.play();\n      } else {\n        changeValFn();\n      }\n    }\n  }\n}\n\n@Component({\n  selector: 'adapt-datetime2-clock',\n  template: `\n      <div class=\"a3t-clock--controls\">\n          <button type=\"button\"\n                  class=\"a3t-clock--control-btn m-end-2\"\n                  [attr.data-testid]=\"testID + '_hhmmss'\"\n                  tabindex=\"-1\" (click)=\"gotoNextFace()\">\n              <span class=\"a3t-clock--control-item\" [class.active]=\"_activeFace === 0\">{{texts.hhBtn}}</span>\n              <span class=\"a3t-clock--control-separator\"></span>\n              <span class=\"a3t-clock--control-item\" [class.active]=\"_activeFace === 1\">{{texts.mmBtn}}</span>\n              <ng-container *ngIf=\"seconds\">\n                  <span class=\"a3t-clock--control-separator\"></span>\n                  <span class=\"a3t-clock--control-item\" [class.active]=\"_activeFace === 2\" *ngIf=\"seconds\">{{texts.ssBtn}}</span>\n              </ng-container>\n          </button>\n          <button type=\"button\"\n                  class=\"a3t-clock--control-btn\"\n                  [attr.data-testid]=\"testID + '_ampm'\"\n                  tabindex=\"-1\" (click)=\"changeMeridiem()\" *ngIf=\"_hasMeridiem\">\n              <span class=\"a3t-clock--control-item\" [class.active]=\"!_isPM\">{{texts.amBtn}}</span>\n              <span class=\"a3t-clock--control-separator\"></span>\n              <span class=\"a3t-clock--control-item\" [class.active]=\"_isPM\">{{texts.pmBtn}}</span>\n          </button>\n      </div>\n      <div class=\"a3t-clock--faces\" #dndArea>\n          <div #clockFaceContainerRef style=\"width: 100%; height: 100%\">\n              <div class=\"a3t-clock--face\" *ngFor=\"let ticksSet of uiFace.ticks\">\n                  <div class=\"a3t-clock--tick\"\n                       *ngFor=\"let label of ticksSet; let index = index\"\n                       [class.a3t-clock--tick_active]=\"label.value === uiFace.active\"\n                       [class.readonly]=\"readonly\"\n                       [attr.data-testid]=\"testID + '_tick_' + index / ticksSet.length * 360\"\n                       [style.transform]=\"'rotate(' + (index / ticksSet.length * 360) + 'deg)'\">\n                      <div class=\"a3t-clock--tick-label\" [style.transform]=\"'rotate(' + (- index / ticksSet.length * 360) + 'deg)'\">\n                          {{label.uiValue}}\n                      </div>\n                      <div class=\"a3t-clock--tick-arrow\"></div>\n                  </div>\n              </div>\n          </div>\n      </div>\n  `,\n  // eslint-disable-next-line @angular-eslint/no-host-metadata-property\n  host: {\n    '[class.a3t-clock]': 'true',\n    '[class.a3t-clock_disabled]': 'disabled',\n    '[attr.aria-hidden]': 'true',\n  }\n})\nexport class AdaptDatetime2ClockComponent implements OnInit, AfterViewInit, OnDestroy {\n  _isPM: boolean = false;\n  _activeFace: Clock2FaceUnit = Clock2FaceUnit.Hours;\n  _hasMeridiem: boolean = false;\n  defaultTexts: Datetime2TextsModel = {};\n\n  @Input() testID: string;\n  @Input() seconds: boolean = false;\n  @Input() autoFaceSwitch: boolean = true;\n  @Input() disabled: boolean = false;\n  @Input() readonly: boolean = false;\n  @Input() texts: Datetime2TextsModel;\n  @Output() readonly timeSelect: EventEmitter<number[]> = new EventEmitter<number[]>();\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n  @Output() readonly clockFaceChange: EventEmitter<Clock2FaceUnit> = new EventEmitter<Clock2FaceUnit>();\n\n  // Element refs\n  @ViewChild('dndArea', {static: true}) dndArea: any;\n  @ViewChild('clockFaceContainerRef', {static: true}) clockFaceContainerRef: any;\n\n  // Private fields\n  private _innerFaceDNDTolerance: number = .65;\n  private _dndSubscription: Subscription;\n  private _faceSize: number = 220;\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n  private _hoursFaceTicks24: any = [\n    Array(12)\n      .fill(0)\n      .map((x, i) => {\n        return {\n          value: i || 12,\n          uiValue: (i || 12).toString()\n        };\n      }),\n    Array(12)\n      .fill(0)\n      .map((x, i) => {\n        return {\n          value: i ? i + 12 : 0,\n          uiValue: (i ? i + 12 : 0).toString()\n        };\n      })\n  ];\n  private _hoursFaceTicks12: any = [\n    Array(12)\n      .fill(0)\n      .map((x, i) => {\n        return {\n          value: i || 12,\n          uiValue: (i || 12).toString()\n        };\n      })\n  ];\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n  // Private view settings\n  private _hoursFace: Clock2Face = {\n    ticks: this._hoursFaceTicks24\n  };\n\n  // UI Fields\n  // eslint-disable-next-line @typescript-eslint/member-ordering\n  uiFace: Clock2Face = this._hoursFace;\n\n  // Inputs\n  private _minutesFace: Clock2Face = {\n    ticks: [\n      Array(60)\n        .fill(0)\n        .map((x, i) => {\n          return {\n            value: i,\n            uiValue: (i % 5 ? '' : i).toString()\n          };\n        })\n    ]\n  };\n  private _secondsFace: Clock2Face = {\n    ticks: [\n      Array(60)\n        .fill(0)\n        .map((x, i) => {\n          return {\n            value: i,\n            uiValue: (i % 5 ? '' : i).toString()\n          };\n        })\n    ]\n  };\n  private _animationReady: boolean = false;\n  private _animationsSet: any = {\n    out: [\n      style({\n        transform: 'scale(1)',\n        opacity: 1\n      }),\n      animate('100ms', style({\n        transform: 'scale(1.1)',\n        opacity: 0\n      }))\n    ],\n    in: [\n      style({\n        transform: 'scale(.9)',\n        opacity: 0\n      }),\n      animate('100ms', style({\n        transform: 'scale(1)',\n        opacity: 1\n      }))\n    ]\n  };\n  private _animationPlayers: {\n    out: AnimationPlayer;\n    in: AnimationPlayer;\n  } = {\n    out: null,\n    in: null\n  };\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n  // Outputs\n\n  @Input() set activeFace(nextFace: Clock2FaceUnit) {\n    if (nextFace === undefined) {\n      return;\n    }\n\n    this.gotoNextFace(nextFace);\n  }\n\n  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n  @Input() set hasMeridiem(nextMeridiem: boolean) {\n    this._hasMeridiem = !!nextMeridiem;\n\n    if (this._hasMeridiem) {\n      this._hoursFace.ticks = this._hoursFaceTicks12;\n    } else {\n      this._hoursFace.ticks = this._hoursFaceTicks24;\n    }\n  }\n\n  @Input() set activeTime(nextActiveTime: number[]) {\n    if (!nextActiveTime) {\n      return;\n    }\n\n    if (this._hasMeridiem) {\n      this._isPM = nextActiveTime[0] >= 12;\n      const isMidnight = nextActiveTime[0] === 12;\n\n      this._hoursFace.active = (nextActiveTime[0] - (this._isPM && !isMidnight ? 12 : 0)) || 12;\n\n    } else {\n      this._hoursFace.active = nextActiveTime[0];\n    }\n\n    this._minutesFace.active = nextActiveTime[1];\n    this._secondsFace.active = nextActiveTime[2];\n  }\n\n  private get _model(): number[] {\n    let hours = this._hoursFace.active || 0;\n\n    if (this._hasMeridiem) {\n      if (this._isPM) {\n        hours += (hours === 12 ? 0 : 12);\n      } else {\n        hours = (hours === 12 ? 0 : hours);\n      }\n    }\n\n    return [\n      hours,\n      this._minutesFace.active || 0,\n      this._secondsFace.active || 0\n    ];\n  }\n\n  constructor(private _renderer: Renderer2, private _animationBuilder: AnimationBuilder, private ts: AdaptTranslateService) {\n    this.setDefaultTexts(ts.getCurrentLanguage());\n  }\n\n  ngOnInit(): void {\n    this._initDragNDrop();\n    this.texts = {...this.defaultTexts, ...this.texts};\n  }\n\n  ngAfterViewInit(): void {\n    this._animationPlayers.out = this._animationBuilder.build(this._animationsSet.out)\n      .create(this.clockFaceContainerRef.nativeElement);\n    this._animationPlayers.in = this._animationBuilder.build(this._animationsSet.in)\n      .create(this.clockFaceContainerRef.nativeElement);\n\n    this._animationReady = true;\n  }\n\n  setDefaultTexts(translation: KeyValueObject): void {\n    this.defaultTexts.hhBtn = translation['adapt.datetime.hh'];\n    this.defaultTexts.mmBtn = translation['adapt.datetime.mm'];\n    this.defaultTexts.ssBtn = translation['adapt.datetime.ss'];\n    this.defaultTexts.amBtn = translation['adapt.datetime.am'];\n    this.defaultTexts.pmBtn = translation['adapt.datetime.pm'];\n  }\n\n  /**\n   * Return current model state\n   */\n\n  ngOnDestroy(): void {\n    this._dndSubscription.unsubscribe();\n  }\n\n  /**\n   * Init drag and drop\n   */\n\n  /**\n   * Change time meridiem\n   */\n  changeMeridiem(): void {\n    this._isPM = !this._isPM;\n    this.timeSelect.emit(this._model);\n  }\n\n  /**\n   * Change time unit face\n   */\n  gotoNextFace(nextFace?: Clock2FaceUnit): void {\n    if (nextFace === this._activeFace) {\n      return;\n    }\n\n    if (nextFace === undefined) {\n      nextFace = (this._activeFace + 1) % 3;\n    }\n\n    this._animateClockFaceChange((() => {\n      switch (nextFace) {\n        case Clock2FaceUnit.Hours: {\n          this.uiFace = this._hoursFace;\n          this._activeFace = Clock2FaceUnit.Hours;\n          break;\n        }\n        case Clock2FaceUnit.Minutes: {\n          this.uiFace = this._minutesFace;\n          this._activeFace = Clock2FaceUnit.Minutes;\n          break;\n        }\n        case Clock2FaceUnit.Seconds: {\n          if (this.seconds) {\n            this.uiFace = this._secondsFace;\n            this._activeFace = Clock2FaceUnit.Seconds;\n          } else {\n            this.uiFace = this._hoursFace;\n            this._activeFace = Clock2FaceUnit.Hours;\n          }\n\n          break;\n        }\n        default: {\n          this.uiFace = this._hoursFace;\n          this._activeFace = Clock2FaceUnit.Hours;\n          break;\n        }\n      }\n\n      this.clockFaceChange.emit(this._activeFace);\n    }).bind(this));\n  }\n\n  private _initDragNDrop(): void {\n    this._renderer.setStyle(this.dndArea.nativeElement, 'width', `${this._faceSize}px`);\n    this._renderer.setStyle(this.dndArea.nativeElement, 'height', `${this._faceSize}px`);\n\n    let centerX;\n    let centerY;\n\n    const dragStart = (): void => {\n      const elRect = this.dndArea.nativeElement.getBoundingClientRect();\n\n      centerX = elRect.left + elRect.width / 2;\n      centerY = elRect.top + elRect.height / 2;\n    };\n\n    const dragEnd = (): void => {\n      if (this.autoFaceSwitch) {\n        if (!(this.seconds ? this._activeFace === Clock2FaceUnit.Seconds : this._activeFace === Clock2FaceUnit.Minutes)) {\n          this.gotoNextFace();\n        }\n      }\n    };\n\n    this._dndSubscription = GetDragNDrop(this.dndArea.nativeElement, null, null, dragStart, dragEnd)\n      .pipe(\n        map(moveCoords => {\n          if (this.disabled || this.readonly) {\n            return;\n          }\n\n          const angle = Math.round(GetAngle(centerX, centerY, moveCoords.x, moveCoords.y) * 100) / 100;\n          const distance = Math.round(GetDistance(centerX, centerY, moveCoords.x, moveCoords.y) * 100) / 100;\n\n          const face =\n            (this.uiFace.ticks.length === 1) || (distance > this._faceSize / 2 * this._innerFaceDNDTolerance) ?\n              this.uiFace.ticks[0] :\n              this.uiFace.ticks[1];\n\n          const ticksCount = face.length;\n\n          this.uiFace.active = face[Math.round(angle * ticksCount / 360) % ticksCount].value;\n\n          return face[Math.round(angle * ticksCount / 360) % ticksCount];\n        }),\n        distinctUntilChanged()\n      )\n      .subscribe(() => {\n        this.timeSelect.emit(this._model);\n      });\n  }\n\n  private _animateClockFaceChange(changeValFn: () => void): void {\n    if (this._animationReady) {\n      this._animationPlayers.out.reset();\n      this._animationPlayers.in.reset();\n\n      this._animationPlayers.out.onDone(() => {\n        changeValFn();\n        this._animationPlayers.in.play();\n      });\n\n      this._animationPlayers.out.play();\n    } else {\n      changeValFn();\n    }\n  }\n\n}\n\n@Component({\n  selector: 'adapt-datetime2-picker',\n  template: `\n      <div class=\"a3t-datetime\" [class.a3t-datetime_compact]=\"hideDatePickerSummary\">\n          <div class=\"a3t-datetime--date-picker\" *ngIf=\"!timeOnly\">\n              <div class=\"a3t-datetime--date-picker-summary\" *ngIf=\"timeMode && !timeOnly && !hideDatePickerSummary\" [@heightAnimation]>\n                  <adapt-icon [adaptRadarDisableEventSending]=\"true\" [name]=\"'calendar'\" class=\"mx-2\"></adapt-icon>\n                  <button type=\"button\" (click)=\"timeMode = false\"\n                          [attr.data-testid]=\"testID + '_dateSummary'\"\n                          [attr.aria-label]=\"dateSummary\">{{dateSummary}}</button>\n              </div>\n\n              <div class=\"a3t-datetime--date-picker-summary a3t-datetime--year-picker-summary\"\n                   *ngIf=\"monthMode && monthAndYearOnly && !hideDatePickerSummary\" [@heightAnimation]>\n                  <button type=\"button\" (click)=\"monthMode = false\"\n                          [attr.data-testid]=\"testID + '_yearSummary'\"\n                          [attr.aria-label]=\"yearSummary\">{{yearSummary}}</button>\n              </div>\n\n              <div class=\"a3t-datetime--date-picker-wrapper\"\n                   *ngIf=\"(!timeMode && !monthAndYearOnly) || (!monthMode && monthAndYearOnly)\" [@heightAnimation]>\n                  <adapt-datetime2-calendar [expandedControlsStyle]=\"!timePicker && !preventExpandedDateControls\"\n                                            [initialDate]=\"initialValue\"\n                                            [activeDate]=\"activeDate\"\n                                            [monthAndYearOnly]=\"monthAndYearOnly\"\n                                            [range]=\"dateRange\"\n                                            [filter]=\"dateFilter\"\n                                            [disabled]=\"disabled\"\n                                            [readonly]=\"readonly\"\n                                            [testID]=\"testID\"\n                                            (daySelect)=\"selectDate($event)\"></adapt-datetime2-calendar>\n              </div>\n          </div>\n\n          <div class=\"a3t-datetime--time-picker\" *ngIf=\"timePicker\">\n              <div class=\"a3t-datetime--time-picker-summary\"\n                   [class.a3t-datetime--time-picker-summary_active]=\"timeMode\">\n                  <div class=\"a3t-datetime--time-picker-summary-info\">\n                      <adapt-icon [adaptRadarDisableEventSending]=\"true\" [name]=\"'clock_o'\" class=\"mx-2\"></adapt-icon>\n\n                      <div class=\"a3t-datetime--time-picker-summary-input-wrapper\">\n                          <ng-container *ngIf=\"timeSummary\">\n                              <input type=\"text\"\n                                     role=\"spinbutton\"\n                                     class=\"a3t-datetime--time-picker-summary-input a3t-datetime--time-picker-summary-input-field\"\n                                     #hoursField\n                                     [value]=\"timeSummary.hh\"\n                                     [attr.aria-valuenow]=\"timeSummary.hh\"\n                                     [attr.aria-label]=\"defaultTexts.hours\"\n                                     (focus)=\"activeFace = activeFaceVariants.Hours; clockFaceChange.emit(activeFaceVariants.Hours)\"\n                                     (input)=\"timeUnitInput($event, 'h')\"\n                                     (keydown)=\"timeUnitKeydown($event, 'h')\"/>\n                              {{this.defaultTexts.timeSeparator}}\n                              <input type=\"text\"\n                                     role=\"spinbutton\"\n                                     class=\"a3t-datetime--time-picker-summary-input a3t-datetime--time-picker-summary-input-field\"\n                                     [value]=\"timeSummary.mm\"\n                                     [attr.aria-valuenow]=\"timeSummary.mm\"\n                                     [attr.aria-label]=\"defaultTexts.minutes\"\n                                     (focus)=\"activeFace = activeFaceVariants.Minutes; clockFaceChange.emit(activeFaceVariants.Minutes)\"\n                                     (input)=\"timeUnitInput($event, 'm')\"\n                                     (keydown)=\"timeUnitKeydown($event, 'm')\"/>\n\n                              <ng-container *ngIf=\"timeSeconds\">\n                                  {{this.defaultTexts.timeSeparator}}\n                                  <input type=\"text\"\n                                         role=\"spinbutton\"\n                                         class=\"a3t-datetime--time-picker-summary-input a3t-datetime--time-picker-summary-input-field\"\n                                         [value]=\"timeSummary.ss\"\n                                         [attr.aria-valuenow]=\"timeSummary.ss\"\n                                         [attr.aria-label]=\"defaultTexts.seconds\"\n                                         (focus)=\"activeFace = activeFaceVariants.Seconds; clockFaceChange.emit(activeFaceVariants.Seconds)\"\n                                         (input)=\"timeUnitInput($event, 's')\"\n                                         (keydown)=\"timeUnitKeydown($event, 's')\"/>\n                              </ng-container>\n\n                              <ng-container *ngIf=\"hasMeridiem\">\n                                  <input type=\"button\"\n                                         role=\"spinbutton\"\n                                         class=\"a3t-datetime--time-picker-summary-input mx-1\"\n                                         [value]=\"timeSummary.a\"\n                                         [attr.aria-valuenow]=\"timeSummary.a\"\n                                         [attr.aria-label]=\"defaultTexts.meridiem\"\n                                         (click)=\"changeMeridiem()\"\n                                         (keydown.arrowUp)=\"$event.preventDefault(); changeMeridiem()\"\n                                         (keydown.arrowDown)=\"$event.preventDefault(); changeMeridiem()\"/>\n                              </ng-container>\n                          </ng-container>\n\n                          <ng-container *ngIf=\"!timeSummary\">\n                              <span tabindex=\"0\" (focus)=\"setCurrentDate()\"\n                                    class=\"a3t-datetime--time-picker-summary-input\">{{emptyTimeHeading}}</span>\n                          </ng-container>\n\n                      </div>\n                  </div>\n\n                  <button type=\"button\"\n                          class=\"a3t-datetime--time-picker-summary-toggle\"\n                          aria-hidden=\"true\"\n                          tabindex=\"-1\"\n                          [class.rotation-180]=\"!timeMode\"\n                          [attr.data-testid]=\"testID + '_timeMode'\"\n                          *ngIf=\"!timeOnly\"\n                          (click)=\"timeMode = !timeMode\">\n                      <adapt-icon [adaptRadarDisableEventSending]=\"true\" [name]=\"'angle_down'\" class=\"mr-2\"></adapt-icon>\n                  </button>\n              </div>\n              <div class=\"a3t-datetime--time-picker-wrapper\"\n                   *ngIf=\"timeMode\"\n                   [@heightAnimation]>\n                  <adapt-datetime2-clock [activeTime]=\"clockState\"\n                                         [activeFace]=\"activeFace\"\n                                         [seconds]=\"timeSeconds\"\n                                         [hasMeridiem]=\"hasMeridiem\"\n                                         [disabled]=\"disabled\"\n                                         [readonly]=\"readonly\"\n                                         [texts]=\"clockHeadings\"\n                                         [testID]=\"testID\"\n                                         (timeSelect)=\"selectTime($event)\"\n                                         (clockFaceChange)=\"clockFaceChange.emit($event)\">\n                  </adapt-datetime2-clock>\n              </div>\n          </div>\n\n          <div class=\"a3t-datetime--time-picker a3t-datetime--year-picker\" *ngIf=\"monthAndYearOnly\">\n              <div class=\"a3t-datetime--time-picker-summary\"\n                   [class.a3t-datetime--time-picker-summary_active]=\"monthMode\">\n                  <div class=\"a3t-datetime--time-picker-summary-info\">\n                      <div class=\"a3t-datetime--time-picker-summary-input-wrapper\">\n              <span class=\"a3t-datetime--time-picker-summary-input\"\n                    tabindex=\"0\"\n                    [attr.aria-label]=\"defaultTexts.month\"\n                    role=\"textbox\">\n                {{ monthSummary }}\n              </span>\n                      </div>\n                  </div>\n\n                  <button type=\"button\"\n                          class=\"a3t-datetime--time-picker-summary-toggle\"\n                          aria-hidden=\"true\"\n                          tabindex=\"-1\"\n                          [attr.data-testid]=\"testID + '_monthMode'\"\n                          [class.rotation-180]=\"!monthMode\"\n                          (click)=\"monthMode = !monthMode\">\n                      <adapt-icon [adaptRadarDisableEventSending]=\"true\" [name]=\"'angle_down'\" class=\"ml-1 mr-1\"></adapt-icon>\n                  </button>\n              </div>\n              <div class=\"a3t-datetime--month-picker-wrapper\" *ngIf=\"monthMode\" [@heightAnimation]>\n                  <adapt-datetime2-month-picker\n                          [initialDate]=\"initialValue\"\n                          [activeDate]=\"activeDate\"\n                          (selectMonth)=\"selectMonth($event)\"\n                  ></adapt-datetime2-month-picker>\n              </div>\n          </div>\n      </div>\n  `,\n  animations: [\n    trigger('heightAnimation', [\n      transition('void => *', [\n        useAnimation(ANIMATION_NAME.height, {\n          params: {\n            from: '0',\n            to: '*'\n          }\n        })\n      ]),\n      transition('* => void', [\n        useAnimation(ANIMATION_NAME.height, {\n          params: {\n            from: '*',\n            to: '0'\n          }\n        })\n      ])\n    ])\n  ]\n})\nexport class AdaptDatetime2PickerComponent implements OnInit {\n  // Locale time format\n  static DT_ID: number = 1;\n  monthMode: boolean = false;\n  activeDate: moment.Moment;\n  activeFaceVariants: typeof Clock2FaceUnit = Clock2FaceUnit;\n  defaultTexts: Datetime2TextsModel = {};\n  @ViewChild('hoursField', {static: false}) hoursField: ElementRef;\n  @Input() dateRange: [moment.Moment | null, moment.Moment | null];\n  @Input() dateFormat: string = 'LL';\n  @Input() dateFilter: (date: moment.Moment) => boolean;\n  @Input() timeFormat: string = 'LT';\n  @Input() timePicker: boolean = false;\n  @Input() timeOnly: boolean = false;\n  @Input() monthAndYearOnly: boolean = false;\n  @Input() monthFirst: boolean = false;\n  @Input() timeSeconds: boolean = false;\n  @Input() activeFace: any = Clock2FaceUnit.Hours;\n  @Input() initialValue: moment.Moment;\n  @Input() disabled: boolean;\n  @Input() readonly: boolean;\n  @Input() hideDatePickerSummary: boolean = false;\n  @Input() preventExpandedDateControls: boolean;\n  @Input() emptyDateHeading: string;\n  @Input() emptyTimeHeading: string;\n  @Input() emptyMonthHeading: string;\n  @Input() clockHeadings: Datetime2TextsModel;\n  @Input() testID: string;\n\n  @Output() readonly valueChange: EventEmitter<moment.Moment | null> = new EventEmitter<moment.Moment | null>();\n  @Output() readonly timeModeChange: EventEmitter<boolean> = new EventEmitter<boolean>();\n  @Output() readonly clockFaceChange: EventEmitter<Clock2FaceUnit> = new EventEmitter<Clock2FaceUnit>();\n\n  readonly _localeHasMeridiem: boolean;\n  private _timeMode: boolean = false;\n\n\n  private _model: any = {\n    year: 0,\n    month: 0,\n    day: 0,\n    hour: 0,\n    minute: 0,\n    second: 0\n  };\n\n  get timeMode(): any {\n    return this.timePicker && this._timeMode || this.timeOnly;\n  }\n\n  @Input() set timeMode(v: any) {\n    if (!this.timePicker) {\n      return;\n    }\n\n    if (v !== undefined) {\n      this._timeMode = !!v;\n      this.timeModeChange.emit(!!v);\n    }\n\n    SafeCdr.detectChanges(this._changeDetectorRef);\n  }\n\n  @Input() set activeValue(v: moment.Moment) {\n    if (v && v.isValid()) {\n      this._model.year = v.year();\n      this._model.month = v.month();\n      this._model.day = v.date();\n      this._model.hour = v.hour();\n      this._model.minute = v.minute();\n      this._model.second = this.timeSeconds ? v.second() : 0;\n\n      this.activeDate = v.clone();\n    } else {\n      this.activeDate = null;\n    }\n  }\n\n  get clockState(): number[] {\n    return [\n      this._model.hour,\n      this._model.minute,\n      this._model.second,\n    ];\n  }\n\n  get hasMeridiem(): boolean {\n    let oddTime = false;\n\n    if (this.timeFormat !== 'LT') {\n      oddTime = !!this.timeFormat.match(/a/i);\n    } else {\n      oddTime = this._localeHasMeridiem;\n    }\n\n    return oddTime;\n  }\n\n  get dateSummary(): string {\n    return this.activeDate && this.activeDate.isValid() ?\n      this.activeDate.format(this.dateFormat) : (this.emptyDateHeading || this.defaultTexts.emptyDate);\n  }\n\n  get yearSummary(): string {\n    return this.activeDate && this.activeDate.isValid() ?\n      this.activeDate.format('YYYY') : (this.emptyDateHeading || this.defaultTexts.emptyYear);\n  }\n\n  get monthSummary(): string {\n    return this.activeDate && this.activeDate.isValid() ?\n      this.activeDate.format('MMMM') : this.emptyMonthHeading;\n  }\n\n  get timeSummary(): { hh: string; mm: string; ss: string; a: string } | false {\n    this.emptyTimeHeading = this.emptyTimeHeading || this.defaultTexts.emptyTime;\n\n    return this.activeDate && this.activeDate.isValid() ? {\n      hh: ('0' + this.activeDate.format(this.hasMeridiem ? 'h' : 'H')).substr(-2),\n      mm: this.activeDate.format('mm'),\n      ss: this.activeDate.format('ss'),\n      a: this.activeDate.format('A')\n    } : false;\n  }\n\n  constructor(private ts: AdaptTranslateService, private _ngZone: NgZone, private _changeDetectorRef: ChangeDetectorRef) {\n    this._localeHasMeridiem = IsLocaleHasMeridiem(moment.locale());\n    this.setDefaultTexts(ts.getCurrentLanguage());\n  }\n\n  ngOnInit(): void {\n    const initVal = this.activeDate ? this.activeDate :\n      this.initialValue && this.initialValue.isValid() ? this.initialValue : moment();\n\n    if (!this.testID) {\n      this.testID = `dt-${AdaptDatetime2PickerComponent.DT_ID++}`;\n    }\n\n    this._model.year = initVal.year();\n    this._model.month = initVal.month();\n    this._model.day = initVal.date();\n    this._model.hour = initVal.hour();\n    this._model.minute = initVal.minute();\n    this._model.second = this.timeSeconds ? initVal.second() : 0;\n\n    this.monthMode = this.monthFirst;\n  }\n\n  setDefaultTexts(translation: KeyValueObject): void {\n    this.defaultTexts.emptyTime = translation['adapt.datetime.emptyTime'];\n    this.defaultTexts.emptyDate = translation['adapt.datetime.emptyDate'];\n    this.defaultTexts.emptyYear = translation['adapt.datetime.emptyYear'];\n    this.defaultTexts.timeSeparator = translation['adapt.datetime.timeSeparator'];\n    this.defaultTexts.hours = translation['adapt.datetime.hours'];\n    this.defaultTexts.minutes = translation['adapt.datetime.minutes'];\n    this.defaultTexts.seconds = translation['adapt.datetime.seconds'];\n    this.defaultTexts.meridiem = translation['adapt.datetime.meridiem'];\n    this.defaultTexts.month = translation['adapt.datetime.month'];\n    this.defaultTexts.amBtn = translation['adapt.datetime.am'];\n    this.defaultTexts.pmBtn = translation['adapt.datetime.pm'];\n  }\n\n  selectDate(v: moment.Moment): void {\n    if (!this.readonly) {\n      this._model.year = v.year();\n\n      if (!this.monthAndYearOnly) {\n        this._model.month = v.month();\n        this._model.day = v.date();\n      }\n\n      this.activeDate = v.clone();\n      this.valueChange.emit(moment(this._model));\n    }\n  }\n\n  selectTime(v: [number, number, number]): void {\n    this._model.hour = v[0];\n    this._model.minute = v[1];\n    this._model.second = v[2];\n\n    this.valueChange.emit(moment(this._model));\n  }\n\n  selectMonth(v: moment.Moment): void {\n    this._model.month = v.month();\n    this.activeDate = v.clone();\n\n    this.valueChange.emit(moment(this._model));\n  }\n\n  setCurrentDate(): void {\n    this.activeDate = moment();\n\n    this._ngZone.onStable\n      .pipe(take(1))\n      .subscribe(() => {\n        this.hoursField.nativeElement.focus();\n      });\n  }\n\n  changeMeridiem(): void {\n    this._model.hour = (this._model.hour + 12) % 24;\n    this.valueChange.emit(moment(this._model));\n  }\n\n  timeUnitKeydown(event: KeyboardEvent, unit: 'h' | 'm' | 's'): void {\n    const keycode = getEventKeyCode(event);\n    let action: '+' | '-';\n\n    switch (keycode) {\n      case UP_ARROW: {\n        event.preventDefault();\n        action = '+';\n        break;\n      }\n      case DOWN_ARROW: {\n        event.preventDefault();\n        action = '-';\n        break;\n      }\n    }\n\n    if (action) {\n      switch (unit) {\n        case 'h': {\n          if (this.hasMeridiem) {\n            this._model.hour = action === '+' ?\n              this._model.hour === 11 ? 0 : this._model.hour === 23 ? 12 : this._model.hour + 1 :\n              this._model.hour === 0 ? 11 : this._model.hour === 12 ? 23 : this._model.hour - 1;\n          } else {\n            this._model.hour = action === '+' ?\n              (this._model.hour + 1) % 24 :\n              ((this._model.hour - 1) < 0 ? 23 : this._model.hour - 1);\n          }\n          break;\n        }\n        case 'm': {\n          this._model.minute = action === '+' ?\n            (this._model.minute + 1) % 60 :\n            ((this._model.minute - 1) < 0 ? 59 : this._model.minute - 1);\n          break;\n        }\n        case 's': {\n          this._model.second = action === '+' ?\n            (this._model.second + 1) % 60 :\n            ((this._model.second - 1) < 0 ? 59 : this._model.second - 1);\n          break;\n        }\n      }\n\n      this.valueChange.emit(moment(this._model));\n    }\n  }\n\n  timeUnitInput(event: Event, unit: 'h' | 'm' | 's'): void {\n    const value = (event.target as HTMLInputElement).value;\n    const parsedValue = parseInt(value, 10);\n    const parsedValueIsNumber = Number.isInteger(parsedValue);\n\n    switch (unit) {\n      case 'h': {\n        this._model.hour = parsedValueIsNumber ? parsedValue % (this.hasMeridiem ? 12 : 24) : 0;\n        break;\n      }\n      case 'm': {\n        this._model.minute = parsedValueIsNumber ? parsedValue % 60 : 0;\n        break;\n      }\n      case 's': {\n        this._model.second = parsedValueIsNumber ? parsedValue % 60 : 0;\n        break;\n      }\n    }\n\n    this.valueChange.emit(moment(this._model));\n  }\n}\n"]}