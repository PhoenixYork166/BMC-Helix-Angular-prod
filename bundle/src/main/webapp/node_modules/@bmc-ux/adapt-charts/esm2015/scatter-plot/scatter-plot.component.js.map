{"version":3,"file":"scatter-plot.component.js","sourceRoot":"","sources":["../../../../../libs/adapt-charts/src/scatter-plot/scatter-plot.component.ts","../../../../../libs/adapt-charts/src/scatter-plot/scatter-plot.component.html"],"names":[],"mappings":"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","sourcesContent":["import {Component, EventEmitter, Input, OnInit, Output, TemplateRef, ViewChild, ViewEncapsulation} from '@angular/core';\nimport BigNumber from 'bignumber.js';\n// eslint-disable-next-line no-duplicate-imports, @typescript-eslint/no-unused-vars\nimport * as d3 from 'd3';\nimport {CutNumberPipe} from '../common/pipes/cut-number.pipe';\nimport {ChartColorService} from '../common/services/chart-color.service';\nimport {AdaptChartComponent} from '../common/chart.component';\nimport {\n  AdaptChartAxis,\n  AdaptChartBoundaries,\n  AdaptChartCategoryEvent,\n  AdaptChartCategoryToggleEvent,\n  AdaptChartDimensions,\n  AdaptChartHeader,\n  AdaptChartLegend,\n  AdaptChartLegendState,\n  AdaptSVGGroupElement\n} from '../common/models/chart.model';\n\nimport {AdaptDeviceDetectionService, ANIMATION_DURATION, ColorType} from '@bmc-ux/adapt-angular';\nimport {AdaptScatterPlotAbstract, AdaptScatterPlotData} from '../common/models/scatter-plot.model';\n\n\n@Component({\n  selector: 'adapt-scatter-plot',\n  templateUrl: './scatter-plot.component.html',\n  providers: [CutNumberPipe],\n  encapsulation: ViewEncapsulation.None\n})\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nexport class AdaptScatterPlotComponent extends AdaptScatterPlotAbstract<any> implements OnInit {\n  alreadyChanged: boolean = false;\n\n  @Input() backgroundColor: string;\n  @Input() width: number;\n  @Input() height: number;\n  @Input() header: AdaptChartHeader;\n\n  @Input() set series(s: AdaptScatterPlotData[]) {\n    this._series = s;\n\n    this._isDeselected = [];\n\n    s.forEach(series => {\n      if (series.hidden) {\n        this._isDeselected.push(series.name);\n      }\n    });\n\n    if (this.alreadyChanged) {\n      const options = this.chartComponent.getGroupAndDimensions();\n\n      this._g = options.group;\n      this._dim = {\n        w: options.w,\n        h: options.h\n      };\n    }\n\n    if (this._g && this._dim && this.chartComponent) {\n      this.chartComponent.updateLegend(this.series.map((item) => item.name));\n    }\n  }\n\n  get series(): AdaptScatterPlotData[] {\n    return this._series;\n  }\n\n  @Input() xAxis: AdaptChartAxis;\n  @Input() yAxis: AdaptChartAxis;\n  @Input() noDataText: string;\n\n  @Input()\n  set legend(legend: AdaptChartLegend) {\n    this._legend = Object.assign(this._legend, legend);\n\n    if (this.alreadyChanged) {\n      this.chartComponent.redrawChart();\n    }\n  }\n\n  get legend(): AdaptChartLegend {\n    return {\n      customColors: this._legend.customColors,\n      activeHover: this._legend.activeHover,\n      activeClick: this._legend.activeClick,\n      columns: this._legend.columns,\n      width: this._legend.width,\n      items: (this.series && this.series.map((series) => ({\n        item: series.name,\n        hidden: !!series.hidden\n      })) as AdaptChartLegendState[])\n    };\n  }\n\n  @Input() suppressHeader: boolean;\n  @Input() suppressLegend: boolean;\n  @Input() tooltip: string | TemplateRef<unknown>;\n  @Input() dataBuilder: (g: AdaptSVGGroupElement, dim: AdaptChartDimensions) => void;\n  @Input() updateChart: (g: AdaptSVGGroupElement, dim: AdaptChartDimensions) => void;\n  @Input() scientificMode: boolean = false;\n\n\n  @Output() readonly clickChart: EventEmitter<MouseEvent> = new EventEmitter<MouseEvent>();\n\n  /**\n   * Output that emits each time chart category shown\n   * @since 12.11.0\n   */\n  @Output() readonly categoryShow: EventEmitter<AdaptChartCategoryToggleEvent> = new EventEmitter<AdaptChartCategoryToggleEvent>();\n\n  /**\n   * Output that emits each time chart category hidden\n   * @since 12.11.0\n   */\n  @Output() readonly categoryHide: EventEmitter<AdaptChartCategoryToggleEvent> = new EventEmitter<AdaptChartCategoryToggleEvent>();\n\n  @ViewChild('tooltipTpl', {static: true}) tooltipTemplate: string | TemplateRef<unknown>;\n  @ViewChild(AdaptChartComponent, {static: true}) chartComponent: AdaptChartComponent;\n\n  private _series: AdaptScatterPlotData[] = [];\n  private _highLightColor: string;\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  private _regLine: any;\n  private _margin: AdaptChartBoundaries = {\n    top: 0,\n    right: 0,\n    bottom: 25,\n    left: 30\n  };\n  private _dim: AdaptChartDimensions;\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  private _g: any;\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  private _gW: any;\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  private _x: any;\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  private _y: any;\n  private _line: d3.Line<[number, number]>;\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  private _colors: any[] = [];\n\n  private _axisShift: AdaptChartBoundaries = {\n    top: 0,\n    right: 0,\n    bottom: 25,\n    left: 25\n  };\n  private _axisScientificLeftShift: number = 60;\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  private _generatedData: any[] = [];\n  private _isDeselected: string[] = [];\n\n  private _legend: AdaptChartLegend = {\n    columns: 1,\n    activeHover: true,\n    activeClick: true,\n    width: 250,\n    customColors: null,\n    items: []\n  };\n\n  get duration(): number {\n    return parseFloat(ANIMATION_DURATION.fast) * 1000;\n  }\n\n  get axisShiftLeft(): number {\n    return this.scientificMode ? this._axisScientificLeftShift : this._axisShift.left;\n  }\n\n  constructor(private _cutNumber: CutNumberPipe,\n              private _deviceDetectionService: AdaptDeviceDetectionService,\n              private _colorService: ChartColorService) {\n    super();\n  }\n\n  _updateChart: (dim: AdaptChartDimensions) => void = (dim: AdaptChartDimensions): void => {\n    this._updatedScatterChart(dim);\n  };\n\n  _dataBuilder: (g: AdaptSVGGroupElement, dim: AdaptChartDimensions) => void = (g: AdaptSVGGroupElement, dim: AdaptChartDimensions): void => {\n    this._g = g;\n    this._dim = dim;\n    this._initAxis(g, dim);\n    this._drawLines(g);\n    this._drawDropShadow();\n  };\n\n  ngOnInit(): void {\n    if (this.isMobile()) {\n      this._margin.left = 40;\n    }\n\n    if (this.xAxis && this.xAxis.title) {\n      this._margin.bottom += this._axisShift.bottom;\n    }\n\n    if (this.yAxis && this.yAxis.title) {\n      this._margin.left += this.axisShiftLeft;\n    }\n\n    this.alreadyChanged = true;\n  }\n\n  isMobile(): boolean {\n    return this._deviceDetectionService.deviceMobile() || this._deviceDetectionService.deviceTablet();\n  }\n\n  categoryShowHandler(category: string): void {\n    const ind = this._isDeselected.indexOf(category);\n\n    if (ind !== -1) {\n      this._isDeselected.splice(ind, 1);\n    }\n\n    this._updatedScatterChart(this._dim);\n\n    this.series.forEach((item, index) => {\n      if (item.name.indexOf(category) !== -1) {\n        item.hidden = false;\n\n        this._g\n          .select(`[data-line-graph-id='${index}']`)\n          .style('transition', 'all .3s ease')\n          .style('opacity', '1')\n          .style('visibility', 'visible')\n          .attr('data-disabled', 'false');\n      }\n    });\n\n    this.categoryShow.emit({category});\n  }\n\n  categoryHideHandler(category: string): void {\n    /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n    const _self = this;\n\n    this._isDeselected.push(category);\n\n    this.series.forEach((item, index) => {\n      if (item.name.indexOf(category) !== -1) {\n        item.hidden = true;\n\n        this._g\n          .select(`[data-line-graph-id='${index}']`)\n          .style('transition', 'all .3s ease')\n          .style('opacity', '0')\n          .style('visibility', 'hidden');\n      }\n    });\n\n    d3.selectAll('.scatter-regression-line')\n      .each(function () {\n        if (d3.select(this).attr('id') === _self._highLightColor) {\n          _self._regLine = d3.select(this);\n          _self._regLine\n            .style('visibility', 'hidden')\n            .style('opacity', '0');\n        }\n      });\n\n    this._updatedScatterChart(this._dim);\n\n    this.categoryHide.emit({category});\n  }\n\n  categoryEnter(categoryEvent: AdaptChartCategoryEvent): void {\n    /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n    const _self = this;\n    const ind = this._isDeselected.indexOf(this.series[categoryEvent.id].name);\n\n    if (ind === -1) {\n      const selectedLine = this._g.select(`[data-line-graph-id='${categoryEvent.id}']  .scatter-plot-circle`);\n      const colorLine = selectedLine.attr('fill');\n      const colorHexLine = _self._colorService.getDarken(colorLine, .22, ColorType.HEX);\n\n      this._highLightColor = colorLine;\n\n      d3.selectAll('.scatter-plot-circle-wrapper .scatter-plot-circle').each(function () {\n        if (d3.select(this).attr('fill').toLowerCase().trim() !== colorLine.toLowerCase().trim()) {\n          d3.select(this).classed('scatter-transition', true).attr('r', 3.5);\n        }\n      });\n\n      d3.selectAll('.scatter-chart-line-g').each(function () {\n        if (d3.select(this).attr('id').toLowerCase().trim() === colorLine.toLowerCase().trim() &&\n          (this as HTMLElement).nextElementSibling !== null) {\n          (this as HTMLElement).parentNode.appendChild((this as HTMLElement));\n        }\n      });\n\n      d3.selectAll('.scatter-regression-line').each(function () {\n        if (d3.select(this).attr('id').toLowerCase().trim() === colorLine.toLowerCase().trim()) {\n          _self._regLine = d3.select(this);\n          _self._regLine\n            .style('visibility', 'visible')\n            .attr('stroke', colorHexLine)\n            .style('opacity', '1');\n        }\n      });\n    }\n  }\n\n  categoryLeave(): void {\n    /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n    const _self = this;\n\n    d3.selectAll('.scatter-plot-circle-wrapper .scatter-plot-circle').each(function () {\n      if (d3.select(this).attr('fill').toLowerCase().trim() !== _self._highLightColor?.toLowerCase().trim()) {\n        d3.select(this).classed('scatter-transition', false).attr('r', 5);\n      }\n    });\n\n    if (this._regLine) {\n      this._regLine\n        .attr('stroke', this._highLightColor)\n        .style('visibility', 'hidden')\n        .style('opacity', '0');\n    }\n  }\n\n  private _getCustomColorById(id: number): string {\n    const customColors = this.legend.customColors;\n    const len = customColors.length;\n    const index = id % len;\n\n    return customColors[index];\n  }\n\n  private _updatedScatterChart(dim: AdaptChartDimensions): void {\n    this._generatedData = [];\n    this._updateAxis(dim);\n    this._updateDataLines();\n  }\n\n  private _initAxis(g: AdaptSVGGroupElement, dim: AdaptChartDimensions): void {\n    this._generatedData = [];\n\n    if (this.series) {\n\n      this.series.forEach(dt => dt.data.map(d => this._generatedData.push({data1: d[0], data2: d[1]})));\n\n      if (this.yAxis && this.yAxis.title) {\n        g.append('g')\n          .attr('class', 'adapt-chart-axis-title')\n          .attr('transform', `rotate(-90) translate(-${(dim.h - this._axisShift.bottom) / 2} ${this.axisShiftLeft / 4})`)\n          .append('text')\n          .text(this.yAxis.title)\n          .attr('text-anchor', 'middle')\n          .attr('transform', `translate(${(this._axisShift.bottom / 2)} 0)`);\n      }\n\n      if (this.xAxis && this.xAxis.title) {\n        g.append('g')\n          .attr('class', 'adapt-chart-axis-title adapt-chart-axis-title--x')\n          .attr('transform', `translate(${(dim.w + this.axisShiftLeft) / 2} ${dim.h})`)\n          .append('text')\n          .text(this.xAxis.title)\n          .attr('text-anchor', 'middle')\n          .attr('transform', `translate(${(this.axisShiftLeft)} 0)`);\n      }\n\n\n      this._x = d3\n        .scaleLinear()\n        .domain([d3.min(this._generatedData, (d) => d.data1), d3.max(this._generatedData, (d) => d.data1)])\n        .range([0, dim.w - (this._margin.left + this._margin.right)]);\n\n      this._y = d3\n        .scaleLinear()\n        .domain([d3.min(this._generatedData, (d) => d.data2), d3.max(this._generatedData, (d) => d.data2)])\n        .range([dim.h - this._margin.top - this._margin.bottom, 0]);\n\n      g.append('g')\n        .attr('class', 'axis axis--y')\n        .attr('transform', `translate(${this._margin.left}, 0)`)\n        .transition()\n        .duration(this.duration)\n        .call(\n          d3.axisLeft(this._y)\n            .ticks(7)\n            .tickPadding(10)\n            .tickFormat((d: number) => this._getTickFormatForNumber(d))\n            .tickSize(-dim.w + (this._margin.left + this._margin.right))\n            .tickSizeOuter(0));\n\n      g.append('g')\n        .attr('class', 'axis axis--x')\n        .attr('transform', `translate(${this._margin.left}, ${dim.h - this._margin.top - this._margin.bottom})`)\n        .transition()\n        .duration(this.duration)\n        .call(\n          d3.axisBottom(this._x)\n            .tickPadding(10)\n            .tickFormat((d: number) => this._getTickFormatForNumber(d))\n            .tickSize(-dim.h + (this._margin.top + this._margin.bottom))\n            .tickSizeOuter(0));\n\n      const xAxis = this._generatedData.map(d => d.data1);\n      const yAxis = this._generatedData.map(d => d.data2);\n      const regression = this._leastSquaresequation(xAxis, yAxis);\n\n      this._line = d3.line()\n        .x((d) => this._x(d['data1']))\n        .y((d) => this._y(regression(d['data1'])));\n    }\n\n  }\n\n  private _updateAxis(dim: AdaptChartDimensions): void {\n    this.series.forEach(dt => dt.data.map(d => {\n      if (this._isDeselected.indexOf(dt.name) === -1) {\n        return this._generatedData.push({data1: d[0], data2: d[1]});\n      }\n    }));\n\n    this._g.select('.adapt-chart-axis-title--x')\n      .transition()\n      .duration(this.duration)\n      .attr('transform', `translate(${(dim.w + this.axisShiftLeft) / 2} ${dim.h})`);\n\n    this._x = d3\n      .scaleLinear()\n      .domain([d3.min(this._generatedData, (d) => d.data1), d3.max(this._generatedData, (d) => d.data1)])\n      .range([0, dim.w - (this._margin.left + this._margin.right)]);\n\n    this._g.select('.axis--x')\n      .transition()\n      .duration(this.duration)\n      .attr('transform', `translate(${this._margin.left}, ${dim.h - this._margin.top - this._margin.bottom})`)\n      .call(\n        d3.axisBottom(this._x)\n          .tickPadding(10)\n          .tickFormat((d: number) => this._getTickFormatForNumber(d))\n          .tickSize(-dim.h + (this._margin.top + this._margin.bottom))\n          .tickSizeOuter(0));\n\n    this._y = d3\n      .scaleLinear()\n      .domain([d3.min(this._generatedData, (d) => d.data2), d3.max(this._generatedData, (d) => d.data2)])\n      .range([dim.h - this._margin.top - this._margin.bottom, 0]);\n\n    this._g.select('.axis--y')\n      .transition()\n      .duration(this.duration)\n      .attr('transform', `translate(${this._margin.left}, 0)`)\n      .call(\n        d3.axisLeft(this._y)\n          .ticks(7)\n          .tickPadding(10)\n          .tickFormat((d: number) => this._getTickFormatForNumber(d))\n          .tickSize(-dim.w + (this._margin.left + this._margin.right))\n          .tickSizeOuter(0));\n\n\n    const xAxis = this._generatedData.map(d => d.data1);\n    const yAxis = this._generatedData.map(d => d.data2);\n    const regression = this._leastSquaresequation(xAxis, yAxis);\n\n    this._line = d3.line()\n      .x((d) => this._x(d['data1']))\n      .y((d) => this._y(regression(d['data1'])));\n  }\n\n  private _updateDataLines(): void {\n    this._g.selectAll('.scatter-plot-circle').attr('cx', (d) => this._x(d.data1)).attr('cy', (d) => this._y(d.data2));\n    this._g.selectAll('.scatter-regression-line').attr('d', this._line);\n  }\n\n  private _drawLines(g: AdaptSVGGroupElement): void {\n    /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n    const _self = this;\n    let baseColor: string;\n    let colorHex: string;\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    let regLine: any;\n    let colorHexLine: string;\n\n    this._gW = g.append('g')\n      .attr('transform', `translate(${this._margin.left}, 0)`);\n\n    if (this.series) {\n      this._colors = [];\n\n      this.series.map((dt, i) =>\n        this._colors.push(this.legend.customColors ? this._getCustomColorById(i) : this._colorService.getColor(i)));\n\n      this.series.forEach((dt, i) => {\n        this._generatedData = dt.data.map(d => {\n          return {\n            data1: d[0],\n            data2: d[1]\n          };\n        });\n\n        g.append('g')\n          .attr('transform', `translate(${this._margin.left}, 0)`)\n          .append('path')\n          .datum(this._generatedData)\n          .attr('id', this._colors[i])\n          .attr('stroke', this._colors[i])\n          .attr('fill', 'none')\n          .attr('stroke-width', '2px')\n          .classed('scatter-regression-line', true)\n          .style('opacity', '0')\n          .style('visibility', 'hidden')\n          .attr('d', this._line);\n\n        const lineWrapper =\n          this._gW\n            .append('g')\n            .attr('class', 'scatter-chart-line-g')\n            .style('opacity', dt.hidden ? 0 : 1)\n            .style('visibility', dt.hidden ? 'hidden' : 'visible')\n            .attr('id', this._colors[i])\n            .attr('data-line-graph-id', i);\n\n        lineWrapper\n          .append('g')\n          .attr('class', 'scatter-plot-circle-wrapper')\n          .attr('id', this._colors[i])\n          .selectAll('dots')\n          .data(this._generatedData)\n          .enter()\n          .append('circle')\n          .attr('r', 5)\n          .attr('class', 'scatter-plot-circle')\n          .attr('fill', this._colors[i])\n          .attr('cx', (d) => this._x(d.data1))\n          .attr('cy', (d) => this._y(d.data2))\n          /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n          .on('mouseover', function (d: any) {\n            const __this = d3.select(this);\n\n            baseColor = __this.attr('fill');\n            colorHex = _self._colorService.getDarken(baseColor, .15, ColorType.HEX);\n            colorHexLine = _self._colorService.getDarken(baseColor, .22, ColorType.HEX);\n\n            d3.selectAll('.scatter-plot-circle-wrapper .scatter-plot-circle').each(function () {\n              if (d3.select(this).attr('fill') !== baseColor) {\n                d3.select(this)\n                  .classed('scatter-transition', true)\n                  .attr('r', 3.5);\n              }\n            });\n\n            d3.selectAll('.scatter-chart-line-g').each(function () {\n              if (d3.select(this).attr('id') === baseColor && (this as HTMLElement).nextElementSibling !== null) {\n                (this as HTMLElement).parentNode.appendChild((this as HTMLElement));\n              }\n            });\n\n            d3.selectAll('.scatter-regression-line').each(function () {\n              if (d3.select(this).attr('id').toLowerCase().trim() === baseColor.toLowerCase().trim()) {\n                regLine = d3.select(this);\n                regLine\n                  .style('visibility', 'visible')\n                  .attr('stroke', colorHexLine)\n                  .style('opacity', '1');\n              }\n            });\n\n            __this\n              .attr('r', 7)\n              .style('opacity', '1')\n              .style('filter', 'url(#drop-shadow)')\n              .attr('fill', colorHex);\n\n            _self.chartComponent.showTooltip(d3.event.target, _self.tooltipTemplate, {\n              data: {\n                color: baseColor,\n                category: dt.name,\n                xValue: _self.scientificMode ? new BigNumber(d.data1).toPrecision(2, 2) : d.data1,\n                yValue: _self.scientificMode ? new BigNumber(d.data2).toPrecision(2, 2) : d.data2,\n              }\n            });\n          })\n          .on('mouseout', function () {\n            d3.selectAll('.scatter-plot-circle-wrapper .scatter-plot-circle').each(function () {\n              if (d3.select(this).attr('fill').toLowerCase().trim() !== baseColor.toLowerCase().trim()) {\n                d3.select(this)\n                  .classed('scatter-transition', false)\n                  .attr('r', 5);\n              }\n            });\n\n            regLine\n              .attr('stroke', baseColor)\n              .style('visibility', 'hidden')\n              .style('opacity', '0');\n\n            d3.select(this)\n              .style('opacity', '.8')\n              .style('filter', null)\n              .attr('fill', baseColor);\n\n            _self.chartComponent.hideTooltip();\n          });\n      });\n    }\n  }\n\n  /**\n   * http://bl.ocks.org/tommyogden/f416a5c27971908845a9\n   */\n\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  private _leastSquaresequation(xAxisData: any[], yAxisData: any[]): (x: number) => number {\n    const ReduceAddition = (prev, cur): number => prev + cur;\n\n    // finding the mean of Xaxis and Yaxis data\n    const xBar = xAxisData.reduce(ReduceAddition) * 1.0 / xAxisData.length;\n    const yBar = yAxisData.reduce(ReduceAddition) * 1.0 / yAxisData.length;\n    const SquareXX = xAxisData.map(d => Math.pow(d - xBar, 2)).reduce(ReduceAddition);\n    // const ssYY = yAxisData.map(d => Math.pow(d - yBar, 2)).reduce(ReduceAddition);\n    const MeanDiffXY = xAxisData.map((d, i) => (d - xBar) * (yAxisData[i] - yBar)).reduce(ReduceAddition);\n    const slope = MeanDiffXY / SquareXX;\n    const intercept = yBar - (xBar * slope);\n\n    // returning regression function\n    return function (x: number) {\n      return x * slope + intercept;\n    };\n  }\n\n  private _drawDropShadow(): void {\n    const defs = this._g\n      .append('defs');\n\n    const filter = defs\n      .append('filter')\n      .attr('id', 'drop-shadow')\n      .attr('x', '-50%')\n      .attr('y', '-50%')\n      .attr('width', '180%')\n      .attr('height', '180%')\n      .attr('filterUnits', 'userSpaceOnUse');\n\n    filter\n      .append('feGaussianBlur')\n      .attr('in', 'SourceAlpha')\n      .attr('stdDeviation', 3);\n\n    filter\n      .append('feOffset')\n      .attr('dx', 0)\n      .attr('dy', 1)\n      .attr('result', 'offsetblur');\n\n    filter\n      .append('feOffset')\n      .attr('dx', 0)\n      .attr('dy', 2)\n      .attr('result', 'offsetblur');\n\n    filter\n      .append('feColorMatrix')\n      .attr('type', 'matrix')\n      .attr('values', '0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.22 0');\n\n    const feMerge = filter\n      .append('feMerge');\n\n    feMerge\n      .append('feMergeNode');\n\n    feMerge\n      .append('feMergeNode')\n      .attr('in', 'SourceGraphic');\n\n    feMerge\n      .append('feMergeNode')\n      .attr('in', 'SourceGraphic');\n\n  }\n\n  private _getTickFormatForNumber(d: number): string {\n    return this.scientificMode\n      ? new BigNumber(d).toPrecision(2, 2)\n      : this._cutNumber.transform(d, 0);\n  }\n}\n","<adapt-chart [width]=\"width\"\n             [height]=\"height\"\n             [header]=\"header\"\n             [data]=\"series\"\n             [dataBuilder]=\"_dataBuilder\"\n             [legend]=\"legend\"\n             [updateChart]=\"_updateChart\"\n             [backgroundColor]=\"backgroundColor\"\n             [suppressHeader]=\"suppressHeader\"\n             [suppressLegend]=\"suppressLegend\"\n             [noDataText]=\"noDataText\"\n             (categoryShow)=\"categoryShowHandler($event)\"\n             (categoryHide)=\"categoryHideHandler($event)\"\n             (categoryEnter)=\"categoryEnter($event)\"\n             (categoryLeave)=\"categoryLeave()\"\n></adapt-chart>\n\n<ng-template #tooltipTpl let-data=\"data\">\n  <div class=\"chart-tooltip-content-container\">\n    <div class=\"chart-tooltip-content-wrapper\">\n      <span class=\"chart-tooltip-color-spot\" [style.background]=\"data?.color\"></span>\n      <span class=\"chart-tooltip-category\">{{ data?.category }}</span>\n    </div>\n    <div>\n      {{xAxis?.title}}:\n      <span><b>{{data.xValue}}</b></span>\n    </div>\n\n    <div>\n      {{yAxis?.title}}:\n      <span><b>{{data.yValue}}</b></span>\n    </div>\n  </div>\n</ng-template>\n"]}