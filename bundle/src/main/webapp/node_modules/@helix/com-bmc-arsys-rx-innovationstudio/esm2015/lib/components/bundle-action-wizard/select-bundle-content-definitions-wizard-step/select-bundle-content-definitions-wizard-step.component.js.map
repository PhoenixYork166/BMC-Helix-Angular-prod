{"version":3,"file":"select-bundle-content-definitions-wizard-step.component.js","sourceRoot":"","sources":["../../../../../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/select-bundle-content-definitions-wizard-step/select-bundle-content-definitions-wizard-step.component.ts","../../../../../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/select-bundle-content-definitions-wizard-step/select-bundle-content-definitions-wizard-step.component.html"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,KAAK,EAAqB,WAAW,EAAE,SAAS,EAAE,MAAM,eAAe,CAAC;AAC5F,OAAO,EAAqB,oBAAoB,EAAE,iCAAiC,EAAE,MAAM,4BAA4B,CAAC;AACxH,OAAO,EAEL,UAAU,EACV,oBAAoB,EACpB,wBAAwB,EACxB,uBAAuB,EACvB,0BAA0B,EAC3B,MAAM,4BAA4B,CAAC;AACpC,OAAO,EAAE,sBAAsB,EAAE,MAAM,mCAAmC,CAAC;AAC3E,OAAO,EAAE,eAAe,EAAE,MAAM,uBAAuB,CAAC;AACxD,OAAO,EACL,mBAAmB,EAGnB,mBAAmB,EACpB,MAAM,iCAAiC,CAAC;AACzC,OAAO,EAAE,gBAAgB,EAAE,MAAM,qBAAqB,CAAC;AACvD,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,QAAQ,CAAC;AAC7D,OAAO,EAAE,aAAa,EAAc,EAAE,EAAE,aAAa,EAAE,MAAM,MAAM,CAAC;AACpE,OAAO,EAAE,GAAG,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,gBAAgB,CAAC;AACjE,OAAO,EAAE,iBAAiB,EAAE,MAAM,8CAA8C,CAAC;;;;;;;;AAOjF,MAAM,OAAO,iDAAiD;IAgB5D,YACU,oBAA0C,EAC1C,iBAA2C,EAC3C,uBAAgD,EAChD,iCAAoE,EACpE,0BAAsD,EACtD,eAAgC,EAChC,sBAA8C,EAC9C,gBAAkC;QAPlC,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,sBAAiB,GAAjB,iBAAiB,CAA0B;QAC3C,4BAAuB,GAAvB,uBAAuB,CAAyB;QAChD,sCAAiC,GAAjC,iCAAiC,CAAmC;QACpE,+BAA0B,GAA1B,0BAA0B,CAA4B;QACtD,oBAAe,GAAf,eAAe,CAAiB;QAChC,2BAAsB,GAAtB,sBAAsB,CAAwB;QAC9C,qBAAgB,GAAhB,gBAAgB,CAAkB;QAVpC,eAAU,GAA2B,IAAI,aAAa,CAAC,CAAC,CAAC,CAAC;IAW/D,CAAC;IAEJ,QAAQ;;QACN,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC;QAE1D,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,aAAa,CAC3C;YACE,KAAK,EAAE,EAAE;SACV,EACD,KAAK,CACN,CAAC;QAEF,MAAM,WAAW,GAAwB;YACvC;gBACE,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,gDAAgD,CAAC;gBACtF,OAAO,EAAE,aAAa;gBACtB,UAAU,EAAE,KAAK;gBACjB,QAAQ,EAAE;oBACR,SAAS,EAAE,mBAAmB,CAAC,GAAG;oBAClC,QAAQ,EAAE,CAAC;iBACZ;aACF;YACD;gBACE,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,2CAA2C,CAAC;gBACjF,OAAO,EAAE,aAAa;gBACtB,UAAU,EAAE,KAAK;gBACjB,UAAU,EAAE,KAAK;gBACjB,OAAO,EAAE,KAAK;aACf;YACD;gBACE,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,2CAA2C,CAAC;gBACjF,OAAO,EAAE,wBAAwB;gBACjC,YAAY,EAAE,IAAI,CAAC,2BAA2B;aAC/C;YACD;gBACE,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,2CAA2C,CAAC;gBACjF,OAAO,EAAE,YAAY;gBACrB,OAAO,EAAE,KAAK;gBACd,UAAU,EAAE,KAAK;gBACjB,QAAQ,EAAE;oBACR,SAAS,EAAE,mBAAmB,CAAC,GAAG;oBAClC,QAAQ,EAAE,CAAC;iBACZ;aACF;YACD,iBAAiB,CAAC,qBAAqB,CAAC,aAAa;4CAEhD,iBAAiB,CAAC,qBAAqB,CAAC,cAAc,KACzD,QAAQ,EAAE;oBACR,SAAS,EAAE,mBAAmB,CAAC,GAAG;oBAClC,QAAQ,EAAE,CAAC;iBACZ;SAEJ,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,iCAAM,MAAM,KAAE,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,IAAG,CAAC,CAAC;QAEvF,MAAM,gBAAgB,GAAsB;YAC1C,gBAAgB,EAAE;gBAChB;oBACE,EAAE,EAAE,aAAa;oBACjB,YAAY,EAAE,oBAAoB,CAAC,aAAa,CAAC,SAAS;iBAC3D;gBACD;oBACE,EAAE,EAAE,aAAa;oBACjB,YAAY,EAAE,oBAAoB,CAAC,aAAa,CAAC,SAAS;iBAC3D;gBACD;oBACE,EAAE,EAAE,wBAAwB;oBAC5B,YAAY,EAAE,oBAAoB,CAAC,aAAa,CAAC,SAAS;iBAC3D;gBACD;oBACE,EAAE,EAAE,YAAY;oBAChB,YAAY,EAAE,oBAAoB,CAAC,aAAa,CAAC,SAAS;iBAC3D;gBACD;oBACE,EAAE,EAAE,iBAAiB,CAAC,qBAAqB,CAAC,aAAa,CAAC,OAAO;oBACjE,YAAY,EAAE,oBAAoB,CAAC,aAAa,CAAC,SAAS;iBAC3D;gBACD;oBACE,EAAE,EAAE,iBAAiB,CAAC,qBAAqB,CAAC,cAAc,CAAC,OAAO;oBAClE,YAAY,EAAE,oBAAoB,CAAC,aAAa,CAAC,QAAQ;iBAC1D;aACF;SACF,CAAC;QAEF,MAAM,aAAa,GAAG;YACpB,iBAAiB,EAAE,CAAC,MAAM,EAAE,gBAAgB,EAAE,eAAe,CAAC;SAC/D,CAAC;QAEF,MAAM,uBAAuB,GAAG,EAAE,iBAAiB,EAAE,CAAC,GAAG,aAAa,CAAC,iBAAiB,EAAE,kBAAkB,CAAC,EAAE,CAAC;QAEhH,MAAM,qBAAqB,GAAG;YAC5B,qBAAqB,EAAE,KAAK;YAC5B,iBAAiB,EAAE,CAAC,GAAG,aAAa,CAAC,iBAAiB,CAAC;SACxD,CAAC;QAEF,MAAM,mCAAmC,GAAG;YAC1C,gBAAgB,EAAE,IAAI;YACtB,SAAS,EAAE,IAAI;YACf,iBAAiB,EAAE,CAAC,GAAG,aAAa,CAAC,iBAAiB,EAAE,UAAU,EAAE,MAAM,CAAC;SAC5E,CAAC;QAEF,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;YAC1B,OAAO,EAAE,WAAW;YACpB,qBAAqB,EAAE,KAAK;YAC5B,eAAe,EAAE,IAAI;YACrB,kBAAkB,EAAE,CAAA,MAAA,IAAI,CAAC,OAAO,CAAC,UAAU,0CAAE,kBAAkB,KAAI,IAAI;YACvE,aAAa,EAAE,wBAAwB;YACvC,MAAM,EAAE,WAAW;YACnB,oBAAoB,EAAE,KAAK;YAC3B,YAAY,EAAE,IAAI;YAClB,mBAAmB,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,gBAAgB,CAAC;YAC/C,OAAO,EAAE,CAAC,WAAW,EAAE,EAAE;gBACvB,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,iBAAiB,EAAE,CAAC;gBAEpD,OAAO,IAAI,CAAC,0BAA0B,CAAC,gBAAgB,EAAE,CAAC,IAAI,CAC5D,SAAS,CAAC,GAAG,EAAE,CACb,aAAa,CAAC;oBACZ,IAAI,CAAC,sBAAsB,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBAClD,IAAI,CAAC,iBAAiB;yBACnB,QAAQ,CACP,8FAA8F,CAC/F;yBACA,GAAG,CAAC;wBACH,MAAM,EAAE,aAAa;qBACtB,CAAC;oBACJ,IAAI,CAAC,iBAAiB;yBACnB,QAAQ,CAAC,2FAA2F,CAAC;yBACrG,GAAG,CAAC;wBACH,MAAM,EAAE,aAAa;qBACtB,CAAC;oBACJ,IAAI,CAAC,iBAAiB;yBACnB,QAAQ,CAAC,wFAAwF,CAAC;yBAClG,GAAG,CAAC;wBACH,MAAM,EAAE,aAAa;qBACtB,CAAC;oBACJ,IAAI,CAAC,iBAAiB;yBACnB,QAAQ,CACP,kGAAkG,CACnG;yBACA,GAAG,CAAC;wBACH,MAAM,EAAE,aAAa;qBACtB,CAAC;oBACJ,IAAI,CAAC,iBAAiB;yBACnB,QAAQ,CAAC,4FAA4F,CAAC;yBACtG,GAAG,CAAC;wBACH,MAAM,EAAE,aAAa;qBACtB,CAAC;oBACJ,IAAI,CAAC,iBAAiB;yBACnB,QAAQ,CAAC,0FAA0F,CAAC;yBACpG,GAAG,CAAC;wBACH,MAAM,EAAE,aAAa;qBACtB,CAAC;oBACJ,IAAI,CAAC,iBAAiB;yBACnB,QAAQ,CAAC,yFAAyF,CAAC;yBACnG,GAAG,CAAC;wBACH,MAAM,EAAE,uBAAuB;qBAChC,CAAC;oBACJ,IAAI,CAAC,iBAAiB;yBACnB,QAAQ,CAAC,uFAAuF,CAAC;yBACjG,GAAG,CAAC;wBACH,MAAM,EAAE,aAAa;qBACtB,CAAC;oBACJ,IAAI,CAAC,iBAAiB;yBACnB,QAAQ,CAAC,uFAAuF,CAAC;yBACjG,GAAG,CAAC;wBACH,MAAM,EAAE,qBAAqB;qBAC9B,CAAC;oBACJ,IAAI,CAAC,iBAAiB;yBACnB,QAAQ,CAAC,yFAAyF,CAAC;yBACnG,GAAG,CAAC;wBACH,MAAM,EAAE,aAAa;qBACtB,CAAC;oBACJ,IAAI,CAAC,iCAAiC,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,mCAAmC,EAAE,CAAC;oBAC3F,IAAI,CAAC,iBAAiB;yBACnB,QAAQ,CACP,+FAA+F,CAChG;yBACA,GAAG,CAAC;wBACH,MAAM,EAAE,aAAa;qBACtB,CAAC;iBACL,CAAC,CAAC,IAAI,CACL,GAAG,CACD,CAAC,CACC,OAAO,EACP,sBAAsB,EACtB,mBAAmB,EACnB,gBAAgB,EAChB,0BAA0B,EAC1B,oBAAoB,EACpB,kBAAkB,EAClB,iBAAiB,EACjB,eAAe,EACf,eAAe,EACf,iBAAiB,EACjB,gCAAgC,EAChC,eAAe,CAChB,EAAE,EAAE;oBACH,MAAM,sBAAsB,GAAG,eAAe,CAAC;oBAE/C,MAAM,8BAA8B,GAAG,eAAe,CAAC,IAAI,CAAC,MAAM,CAChE,CAAC,MAAM,EAAE,cAAc,EAAE,KAAK,EAAE,EAAE;wBAChC,cAAc,CAAC,QAAQ,GAAG,IAAI,CAAC;wBAC/B,cAAc,CAAC,iBAAiB,GAAG,KAAK,CAAC;wBAEzC,IACE,CAAC,cAAc,CAAC,QAAQ;4BACxB,CAAC,CACC,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE,sBAAsB,CAAC;gCACvD,CAAC,UAAU,CAAC,IAAI,CAAC,eAAe,EAAE,sBAAsB,CAAC,CAC1D,EACD;4BACA,cAAc,CAAC,aAAa,GAAG,cAAc,CAAC,UAAU,CAAC;4BACzD,cAAc,CAAC,UAAU,GAAG,IAAI,CAAC;4BACjC,cAAc,CAAC,uBAAuB,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,8BAA8B,CAAC;4BAChG,cAAc,CAAC,mBAAmB,GAAG,KAAK,CAAC;4BAE3C,cAAc,CAAC,UAAU;gCACvB,OAAO,CAAC,uBAAuB,CAC7B,IAAI,CAAC,uBAAuB,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,CAC9D,CAAC;4BAEJ,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;yBAC7B;wBAED,OAAO,MAAM,CAAC;oBAChB,CAAC,EACD,EAAE,CACH,CAAC;oBAEF,MAAM,qCAAqC,GAAG,gCAAgC,CAAC,IAAI;yBAChF,MAAM,CAAC,CAAC,QAAQ,EAAE,EAAE;wBACnB,OAAO,CAAC,IAAI,CAAC,8BAA8B,EAAE,EAAE,IAAI,EAAE,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;oBACxE,CAAC,CAAC;yBACD,MAAM,CAAC,CAAC,MAAM,EAAE,QAAQ,EAAE,EAAE;wBAC3B,IACE,CAAC,QAAQ,CAAC,QAAQ;4BAClB,CAAC,CACC,UAAU,CAAC,QAAQ,CAAC,IAAI,EAAE,sBAAsB,CAAC;gCACjD,CAAC,UAAU,CAAC,IAAI,CAAC,eAAe,EAAE,sBAAsB,CAAC,CAC1D,EACD;4BACA,QAAQ,CAAC,aAAa,GAAG,QAAQ,CAAC,UAAU,CAAC;4BAC7C,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC;4BAC3B,QAAQ,CAAC,uBAAuB,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,8BAA8B,CAAC;4BAC1F,QAAQ,CAAC,mBAAmB,GAAG,KAAK,CAAC;4BAErC,QAAQ,CAAC,UAAU;gCACjB,OAAO,CAAC,uBAAuB,CAAC,IAAI,CAAC,uBAAuB,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;4BAE3F,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;yBACvB;wBAED,OAAO,MAAM,CAAC;oBAChB,CAAC,EAAE,EAAE,CAAC,CAAC;oBAET,MAAM,sBAAsB,GAAG;wBAC7B,GAAG,8BAA8B;wBACjC,GAAG,qCAAqC;qBACzC,CAAC;oBAEF,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,aAAa,CAC3C;wBACE,KAAK,EAAE;4BACL,iBAAiB,EAAE,SAAS,CAAC,sBAAsB,CAAC;yBACrD;qBACF,EACD,KAAK,CACN,CAAC;oBAEF,IAAI,CAAC,uBAAuB,GAAG,CAAC,CAAC;oBAEjC,MAAM,WAAW,GAAG,MAAM,CACxB;wBACE,WAAW,EAAE,sBAAsB;wBACnC,QAAQ,EAAE,mBAAmB;wBAC7B,KAAK,EAAE,gBAAgB;wBACvB,eAAe,EAAE,0BAA0B;wBAC3C,SAAS,EAAE,oBAAoB;wBAC/B,OAAO,EAAE,kBAAkB;wBAC3B,MAAM,EAAE,iBAAiB;wBACzB,IAAI,EAAE,eAAe;wBACrB,IAAI,EAAE,eAAe;wBACrB,MAAM,EAAE,iBAAiB;qBAC1B,EACD,CAAC,cAAc,EAAE,QAAQ,EAAE,cAAc,EAAE,EAAE;wBAC3C,MAAM,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;wBAElE,MAAM,uBAAuB,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,UAAU,EAAE,EAAE;4BAC1E,IACE,UAAU,CAAC,wBAAwB;gCACnC,UAAU,CAAC,cAAc,CAAC,+BAA+B,EACzD;gCACA,UAAU,CAAC,IAAI,GAAG,cAAc,CAAC;gCACjC,UAAU,CAAC,WAAW,GAAG,WAAW,CAAC;gCACrC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,uBAAuB,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gCACtF,UAAU,CAAC,sBAAsB,GAAG,GAAG,cAAc,IAAI,UAAU,CAAC,IAAI,EAAE,CAAC;gCAC3E,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,uBAAuB,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gCAChF,UAAU,CAAC,kBAAkB,GAAG,OAAO,CAAC,uBAAuB,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;gCACrF,UAAU,CAAC,0BAA0B,GAAG,GAAG,UAAU,CAAC,QAAQ,IAAI,cAAc,EAAE,CAAC;gCAEnF,IAAI,WAAW,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,UAAU,EAAE,UAAU,CAAC,0BAA0B,EAAE,CAAC,CAAC;gCAEtF,IAAI,WAAW,EAAE;oCACf,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iCACpC;qCAAM;oCACL,WAAW,GAAG;wCACZ,UAAU,EAAE,UAAU,CAAC,kBAAkB;wCACzC,UAAU,EAAE,UAAU,CAAC,0BAA0B;wCACjD,UAAU,EAAE,YAAY;wCACxB,KAAK,EAAE,CAAC,UAAU,CAAC;qCACpB,CAAC;oCAEF,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iCAC1B;6BACF;4BAED,OAAO,MAAM,CAAC;wBAChB,CAAC,EAAE,EAAE,CAAC,CAAC;wBAEP,OAAO,cAAc,CAAC,MAAM,CAC1B,uBAAuB,CAAC,MAAM;4BAC5B,CAAC,CAAC;gCACE;oCACE,UAAU,EAAE,WAAW;oCACvB,UAAU,EAAE,aAAa;oCACzB,KAAK,EAAE,uBAAuB;iCAC/B;6BACF;4BACH,CAAC,CAAC,EAAE,CACP,CAAC;oBACJ,CAAC,EACD,EAAE,CACH,CAAC;oBAEF,OAAO;wBACL,IAAI,EAAE,WAAW;wBACjB,SAAS,EAAE,WAAW,CAAC,MAAM;qBAC9B,CAAC;gBACJ,CAAC,CACF,CACF,CACF,CACF,CAAC;YACJ,CAAC;SACF,CAAC,CAAC;QAEH,aAAa,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,mBAAmB,EAAE,IAAI,CAAC,sBAAsB,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACrG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aAChC,SAAS,CAAC,CAAC,CAAC,YAAY,EAAE,OAAO,CAAC,EAAE,EAAE;YACrC,IAAI,CAAC,uBAAuB,GAAG,YAAY,CAAC,MAAM,CAAC;YAEnD,MAAM,8BAA8B,GAAG,SAAS,CAAC,OAAO,CAAC,2BAA2B,CAAC,CAAC;YAEtF,8BAA8B,CAAC,yBAAyB,GAAG,YAAY,CAAC,MAAM,CAC5E,CAAC,yBAAyB,EAAE,GAAG,EAAE,EAAE;;gBACjC,MAAM,cAAc,GAAG,iBAAiB,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAEnE,yBAAyB,CAAC,cAAc,CAAC,GAAG,MAAA,yBAAyB,CAAC,cAAc,CAAC,mCAAI,EAAE,CAAC;gBAE5F,yBAAyB,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAEzD,OAAO,yBAAyB,CAAC;YACnC,CAAC,EACD,EAAE,CACH,CAAC;YAEF,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,aAAa,CAC3C;gBACE,2BAA2B,EAAE,8BAA8B;gBAC3D,qBAAqB,EAAE,IAAI;aAC5B,EACD,IAAI,CAAC,uBAAuB,GAAG,CAAC,CACjC,CAAC;QACJ,CAAC,CAAC,CAAC;IACP,CAAC;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;IAC7B,CAAC;IAED,YAAY;QACV,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;IACrD,CAAC;;iKAvZU,iDAAiD;qJAAjD,iDAAiD,oKAIjD,mBAAmB,yMCjChC,2hCA+BA;2FDFa,iDAAiD;kBAL7D,SAAS;mBAAC;oBACT,QAAQ,EAAE,kDAAkD;oBAC5D,WAAW,EAAE,gEAAgE;oBAC7E,SAAS,EAAE,CAAC,gEAAgE,CAAC;iBAC9E;mXAGC,OAAO;sBADN,KAAK;gBAIE,UAAU;sBADjB,SAAS;uBAAC,mBAAmB,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;gBAIxC,2BAA2B;sBADlC,SAAS;uBAAC,6BAA6B,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE","sourcesContent":["import { Component, Input, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { IRecordDefinition, RX_RECORD_DEFINITION, RxRecordDefinitionDataPageService } from '@helix/platform/record/api';\nimport {\n  IPlainObject,\n  RX_OVERLAY,\n  RxBundleCacheService,\n  RxDataPageFactoryService,\n  RxDefinitionNameService,\n  RxSessionExpirationService\n} from '@helix/platform/shared/api';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { RxStringService } from '@helix/platform/utils';\nimport {\n  ColumnSortDirection,\n  IRecordGridColumn,\n  IRecordGridConfig,\n  RecordGridComponent\n} from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { cloneDeep, find, reduce, startsWith } from 'lodash';\nimport { combineLatest, Observable, of, ReplaySubject } from 'rxjs';\nimport { map, switchMap, take, takeUntil } from 'rxjs/operators';\nimport { AX_BUNDLE_DETAILS } from '../../bundle-details/bundle-details.constant';\n\n@Component({\n  selector: 'ax-select-bundle-content-definitions-wizard-step',\n  templateUrl: './select-bundle-content-definitions-wizard-step.component.html',\n  styleUrls: ['./select-bundle-content-definitions-wizard-step.component.scss']\n})\nexport class SelectBundleContentDefinitionsWizardStepComponent implements OnInit, OnDestroy {\n  @Input()\n  options: IPlainObject;\n\n  @ViewChild(RecordGridComponent, { static: true })\n  private recordGrid: RecordGridComponent;\n\n  @ViewChild('displayTypeWithCellTemplate', { static: true })\n  private displayTypeWithCellTemplate: TemplateRef<any>;\n\n  selectedDefinitionCount: number;\n  recordGridConfig$: Observable<IRecordGridConfig>;\n\n  private currentBundleId: string;\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  constructor(\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxDataPageService: RxDataPageFactoryService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxRecordDefinitionDataPageService: RxRecordDefinitionDataPageService,\n    private rxSessionExpirationService: RxSessionExpirationService,\n    private rxStringService: RxStringService,\n    private rxWizardModalComponent: RxWizardModalComponent,\n    private translateService: TranslateService\n  ) {}\n\n  ngOnInit(): void {\n    this.currentBundleId = this.rxBundleCacheService.bundleId;\n\n    this.rxWizardModalComponent.api.updateContext(\n      {\n        cache: {}\n      },\n      false\n    );\n\n    const gridColumns: IRecordGridColumn[] = [\n      {\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.item-type.label'),\n        fieldId: 'displayType',\n        filterable: false,\n        sortable: {\n          direction: ColumnSortDirection.Asc,\n          priority: 0\n        }\n      },\n      {\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label'),\n        fieldId: 'displayName',\n        searchable: false,\n        filterable: false,\n        visible: false\n      },\n      {\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label'),\n        fieldId: 'definitionTypeWithName',\n        cellTemplate: this.displayTypeWithCellTemplate\n      },\n      {\n        title: this.translateService.instant('com.bmc.arsys.rx.client.bundle-name.label'),\n        fieldId: 'bundleName',\n        visible: false,\n        filterable: false,\n        sortable: {\n          direction: ColumnSortDirection.Asc,\n          priority: 1\n        }\n      },\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy,\n      {\n        ...AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime,\n        sortable: {\n          direction: ColumnSortDirection.Asc,\n          priority: 2\n        }\n      }\n    ].map((column) => ({ ...column, title: this.translateService.instant(column.title) }));\n\n    const recordDefinition: IRecordDefinition = {\n      fieldDefinitions: [\n        {\n          id: 'displayType',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'displayName',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'definitionTypeWithName',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: 'bundleName',\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy.fieldId,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime.fieldId,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n        }\n      ]\n    };\n\n    const defaultParams = {\n      propertySelection: ['name', 'lastUpdateTime', 'lastChangedBy']\n    };\n\n    const recordDefinitionsParams = { propertySelection: [...defaultParams.propertySelection, 'shouldExportData'] };\n\n    const viewDefinitionsParams = {\n      excludeExtensionViews: false,\n      propertySelection: [...defaultParams.propertySelection]\n    };\n\n    const bundleContentRecordDefinitionParams = {\n      requireDependent: true,\n      recursive: true,\n      propertySelection: [...defaultParams.propertySelection, 'internal', 'type']\n    };\n\n    this.recordGridConfig$ = of({\n      columns: gridColumns,\n      enableColumnSelection: false,\n      enableFiltering: true,\n      enableRowSelection: this.options.gridConfig?.enableRowSelection || null,\n      recordIdField: 'definitionTypeWithName',\n      styles: 'flex-fill',\n      useExternalFiltering: false,\n      expandGroups: true,\n      getRecordDefinition: () => of(recordDefinition),\n      getData: (queryParams) => {\n        this.rxWizardModalComponent.api.disableNextButton();\n\n        return this.rxSessionExpirationService.keepSessionAlive().pipe(\n          switchMap(() =>\n            combineLatest([\n              this.rxWizardModalComponent.context$.pipe(take(1)),\n              this.rxDataPageService\n                .withType(\n                  'com.bmc.arsys.rx.application.bundle.datapage.BundleContentAssociationDefinitionDataPageQuery'\n                )\n                .get({\n                  params: defaultParams\n                }),\n              this.rxDataPageService\n                .withType('com.bmc.arsys.rx.application.bundle.datapage.BundleContentDocumentDefinitionDataPageQuery')\n                .get({\n                  params: defaultParams\n                }),\n              this.rxDataPageService\n                .withType('com.bmc.arsys.rx.application.bundle.datapage.BundleContentEventDefinitionDataPageQuery')\n                .get({\n                  params: defaultParams\n                }),\n              this.rxDataPageService\n                .withType(\n                  'com.bmc.arsys.rx.application.bundle.datapage.BundleContentEventStatisticsDefinitionDataPageQuery'\n                )\n                .get({\n                  params: defaultParams\n                }),\n              this.rxDataPageService\n                .withType('com.bmc.arsys.rx.application.bundle.datapage.BundleContentNamedListDefinitionDataPageQuery')\n                .get({\n                  params: defaultParams\n                }),\n              this.rxDataPageService\n                .withType('com.bmc.arsys.rx.application.bundle.datapage.BundleContentProcessDefinitionDataPageQuery')\n                .get({\n                  params: defaultParams\n                }),\n              this.rxDataPageService\n                .withType('com.bmc.arsys.rx.application.bundle.datapage.BundleContentRecordDefinitionDataPageQuery')\n                .get({\n                  params: recordDefinitionsParams\n                }),\n              this.rxDataPageService\n                .withType('com.bmc.arsys.rx.application.bundle.datapage.BundleContentRuleDefinitionDataPageQuery')\n                .get({\n                  params: defaultParams\n                }),\n              this.rxDataPageService\n                .withType('com.bmc.arsys.rx.application.bundle.datapage.BundleContentViewDefinitionDataPageQuery')\n                .get({\n                  params: viewDefinitionsParams\n                }),\n              this.rxDataPageService\n                .withType('com.bmc.arsys.rx.application.bundle.datapage.BundleContentWebApiDefinitionDataPageQuery')\n                .get({\n                  params: defaultParams\n                }),\n              this.rxRecordDefinitionDataPageService.get({ params: bundleContentRecordDefinitionParams }),\n              this.rxDataPageService\n                .withType(\n                  'com.bmc.arsys.rx.application.bundle.datapage.BundleContentRecordInstanceProviderDataPageQuery'\n                )\n                .get({\n                  params: defaultParams\n                })\n            ]).pipe(\n              map(\n                ([\n                  context,\n                  associationDefinitions,\n                  documentDefinitions,\n                  eventDefinitions,\n                  eventStatisticsDefinitions,\n                  namedListDefinitions,\n                  processDefinitions,\n                  recordDefinitions,\n                  ruleDefinitions,\n                  viewDefinitions,\n                  webApiDefinitions,\n                  dependentBundleRecordDefinitions,\n                  recordInstances\n                ]) => {\n                  const platformBundleIdPrefix = 'com.bmc.arsys';\n\n                  const cacheRecordInstanceDefinitions = recordInstances.data.reduce(\n                    (result, recordInstance, index) => {\n                      recordInstance.selected = true;\n                      recordInstance.initialFixedOrder = index;\n\n                      if (\n                        !recordInstance.internal &&\n                        !(\n                          startsWith(recordInstance.name, platformBundleIdPrefix) &&\n                          !startsWith(this.currentBundleId, platformBundleIdPrefix)\n                        )\n                      ) {\n                        recordInstance.defaultFilter = recordInstance.dataFilter;\n                        recordInstance.dataFilter = null;\n                        recordInstance.duplicateDataActionType = this.options.gridConfig.defaultDuplicateDataActionType;\n                        recordInstance.ignoreRuleExecution = false;\n\n                        recordInstance.bundleName =\n                          context.bundleFriendlyNamesById[\n                            this.rxDefinitionNameService.getBundleId(recordInstance.name)\n                          ];\n\n                        result.push(recordInstance);\n                      }\n\n                      return result;\n                    },\n                    []\n                  );\n\n                  const cacheDependentBundleRecordDefinitions = dependentBundleRecordDefinitions.data\n                    .filter((instance) => {\n                      return !find(cacheRecordInstanceDefinitions, { name: instance.name });\n                    })\n                    .reduce((result, instance) => {\n                      if (\n                        !instance.internal &&\n                        !(\n                          startsWith(instance.name, platformBundleIdPrefix) &&\n                          !startsWith(this.currentBundleId, platformBundleIdPrefix)\n                        )\n                      ) {\n                        instance.defaultFilter = instance.dataFilter;\n                        instance.dataFilter = null;\n                        instance.duplicateDataActionType = this.options.gridConfig.defaultDuplicateDataActionType;\n                        instance.ignoreRuleExecution = false;\n\n                        instance.bundleName =\n                          context.bundleFriendlyNamesById[this.rxDefinitionNameService.getBundleId(instance.name)];\n\n                        result.push(instance);\n                      }\n\n                      return result;\n                    }, []);\n\n                  const cacheRecordDefinitions = [\n                    ...cacheRecordInstanceDefinitions,\n                    ...cacheDependentBundleRecordDefinitions\n                  ];\n\n                  this.rxWizardModalComponent.api.updateContext(\n                    {\n                      cache: {\n                        recordDefinitions: cloneDeep(cacheRecordDefinitions)\n                      }\n                    },\n                    false\n                  );\n\n                  this.selectedDefinitionCount = 0;\n\n                  const definitions = reduce(\n                    {\n                      association: associationDefinitions,\n                      document: documentDefinitions,\n                      event: eventDefinitions,\n                      eventStatistics: eventStatisticsDefinitions,\n                      namedList: namedListDefinitions,\n                      process: processDefinitions,\n                      record: recordDefinitions,\n                      rule: ruleDefinitions,\n                      view: viewDefinitions,\n                      webApi: webApiDefinitions\n                    },\n                    (allDefinitions, dataPage, definitionType) => {\n                      const displayType = this.rxStringService.prettify(definitionType);\n\n                      const definitionsByBundleName = dataPage.data.reduce((result, definition) => {\n                        if (\n                          definition.customizationPerspective !==\n                          RX_OVERLAY.operationTypes.notCustomizedInThisOverlayGroup\n                        ) {\n                          definition.type = definitionType;\n                          definition.displayType = displayType;\n                          definition.displayName = this.rxDefinitionNameService.getDisplayName(definition.name);\n                          definition.definitionTypeWithName = `${definitionType}:${definition.name}`;\n                          definition.bundleId = this.rxDefinitionNameService.getBundleId(definition.name);\n                          definition.bundleFriendlyName = context.bundleFriendlyNamesById[definition.bundleId];\n                          definition.bundleIdWithDefinitionType = `${definition.bundleId}:${definitionType}`;\n\n                          let bundleGroup = find(result, { groupValue: definition.bundleIdWithDefinitionType });\n\n                          if (bundleGroup) {\n                            bundleGroup.items.push(definition);\n                          } else {\n                            bundleGroup = {\n                              groupTitle: definition.bundleFriendlyName,\n                              groupValue: definition.bundleIdWithDefinitionType,\n                              groupField: 'bundleName',\n                              items: [definition]\n                            };\n\n                            result.push(bundleGroup);\n                          }\n                        }\n\n                        return result;\n                      }, []);\n\n                      return allDefinitions.concat(\n                        definitionsByBundleName.length\n                          ? [\n                              {\n                                groupValue: displayType,\n                                groupField: 'displayType',\n                                items: definitionsByBundleName\n                              }\n                            ]\n                          : []\n                      );\n                    },\n                    []\n                  );\n\n                  return {\n                    data: definitions,\n                    totalSize: definitions.length\n                  };\n                }\n              )\n            )\n          )\n        );\n      }\n    });\n\n    combineLatest([this.recordGrid.rowSelectionChanged, this.rxWizardModalComponent.context$.pipe(take(1))])\n      .pipe(takeUntil(this.destroyed$))\n      .subscribe(([selectedRows, context]) => {\n        this.selectedDefinitionCount = selectedRows.length;\n\n        const newDeploymentPackageDescriptor = cloneDeep(context.deploymentPackageDescriptor);\n\n        newDeploymentPackageDescriptor.definitionsToDeployByType = selectedRows.reduce(\n          (definitionsToDeployByType, row) => {\n            const definitionType = AX_BUNDLE_DETAILS.definitionTypes[row.type];\n\n            definitionsToDeployByType[definitionType] = definitionsToDeployByType[definitionType] ?? [];\n\n            definitionsToDeployByType[definitionType].push(row.name);\n\n            return definitionsToDeployByType;\n          },\n          {}\n        );\n\n        this.rxWizardModalComponent.api.updateContext(\n          {\n            deploymentPackageDescriptor: newDeploymentPackageDescriptor,\n            isPackageDataModified: true\n          },\n          this.selectedDefinitionCount > 0\n        );\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n\n  onDataLoaded(): void {\n    this.rxWizardModalComponent.api.enableNextButton();\n  }\n}\n","<div class=\"d-flex justify-content-between\">\n  <h5 class=\"mt-0\">\n    {{\n      'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions.customized-definitions.label'\n        | translate\n    }}\n  </h5>\n  <div>\n    {{\n      'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-definitions.definitions-count.label'\n        | translate\n          : {\n              count: selectedDefinitionCount,\n              packageType: this.options.displayName.toLowerCase()\n            }\n    }}\n  </div>\n</div>\n\n<div class=\"mb-3\">\n  {{\n    'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.select-bundle-content-definitions.select-customized-definitions-to-include-in-the-package-content-package.label'\n      | translate\n  }}\n</div>\n\n<rx-record-grid [config]=\"recordGridConfig$\" (dataLoaded)=\"onDataLoaded()\"></rx-record-grid>\n\n<ng-template #displayTypeWithCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  {{ dataItem[column.field] | rxDefinitionNamePipe }}\n</ng-template>\n"]}