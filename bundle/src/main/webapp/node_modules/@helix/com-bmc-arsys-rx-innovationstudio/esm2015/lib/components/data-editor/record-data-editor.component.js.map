{"version":3,"file":"record-data-editor.component.js","sourceRoot":"","sources":["../../../../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/data-editor/record-data-editor.component.ts","../../../../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/data-editor/record-data-editor.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { noop, Observable, of, ReplaySubject } from 'rxjs';\nimport { map, shareReplay, switchMap, take, takeUntil, tap } from 'rxjs/operators';\nimport { TranslateService } from '@ngx-translate/core';\nimport {\n  IRecordGridColumn,\n  IRecordGridConfig,\n  RecordGridComponent,\n  RowSelectionMode\n} from '@helix/platform/view/components';\nimport { IRecordDefinition, RX_RECORD_DEFINITION, RxRecordDefinitionCacheService } from '@helix/platform/record/api';\nimport {\n  RX_APPLICATION,\n  RxBundleCacheService,\n  RxDefinitionNameService,\n  RxGlobalCacheService,\n  RxPageTitleService\n} from '@helix/platform/shared/api';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { includes, map as _map } from 'lodash';\nimport { RxRecordEditorBuilder } from './record-editor-builder.service';\nimport { ViewComponentEventManager } from '@helix/platform/view/runtime';\nimport { RX_OPEN_VIEW, RxEditRecordsViewActionService, RxOpenViewActionService } from '@helix/platform/view/actions';\n\n@Component({\n  selector: 'ax-record-data-editor',\n  templateUrl: './record-data-editor.component.html',\n  styleUrls: ['./record-data-editor.component.scss']\n})\nexport class RecordDataEditorComponent implements OnInit, OnDestroy {\n  private destroyed$ = new ReplaySubject<boolean>(1);\n  recordDefinition: IRecordDefinition;\n  isCustomRecordDefinition: boolean;\n\n  constructor(\n    private rxRecordEditorBuilder: RxRecordEditorBuilder,\n    private route: ActivatedRoute,\n    private router: Router,\n    private translateService: TranslateService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxPageTitleService: RxPageTitleService,\n    private rxRecordDefinitionCacheService: RxRecordDefinitionCacheService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private viewComponentEventManager: ViewComponentEventManager,\n    private rxOpenViewActionService: RxOpenViewActionService,\n    private rxEditRecordsViewActionService: RxEditRecordsViewActionService\n  ) {\n    this.rxRecordDefinitionCacheService.registerConsumer(this.destroyed$);\n  }\n\n  @ViewChild('dataEditorGrid')\n  dataEditorGrid: RecordGridComponent;\n\n  @ViewChild('displayIdColumnTemplate')\n  displayIdColumnTemplate: TemplateRef<any>;\n\n  recordDefinitionName$ = this.route.params.pipe(\n    map((params) => params.definitionName),\n    shareReplay(1)\n  );\n\n  recordDefinition$: Observable<IRecordDefinition> = this.recordDefinitionName$.pipe(\n    switchMap((recordDefinitionName) => this.rxRecordDefinitionCacheService.getRecordDefinition(recordDefinitionName))\n  );\n\n  dataEditorGridConfig$: Observable<IRecordGridConfig> = this.recordDefinition$.pipe(\n    tap((recordDefinition) => {\n      this.recordDefinition = recordDefinition;\n      this.isCustomRecordDefinition =\n        this.recordDefinition?.type === RX_RECORD_DEFINITION.externalRecordDefinitionTypes.custom;\n    }),\n    map((recordDefinition) => {\n      const coreFieldIds = _map(RX_RECORD_DEFINITION.coreFields, 'id');\n\n      const gridColumns: IRecordGridColumn[] = _map(\n        recordDefinition.fieldDefinitions,\n        (fieldDefinition): IRecordGridColumn => ({\n          title: fieldDefinition.name,\n          fieldId: String(fieldDefinition.id),\n          visible:\n            fieldDefinition.id !== RX_RECORD_DEFINITION.coreFieldIds.notifierListening &&\n            includes(coreFieldIds, fieldDefinition.id),\n          cellTemplate:\n            fieldDefinition.id === RX_RECORD_DEFINITION.coreFieldIds.displayId && !this.isCustomRecordDefinition\n              ? this.displayIdColumnTemplate\n              : undefined\n        })\n      );\n\n      return {\n        recordDefinitionName: recordDefinition.name,\n        columns: gridColumns,\n        getRecordDefinition: () => of(recordDefinition),\n        guid: 'rx-data-editor-' + recordDefinition.guid,\n        styles: 'flex-fill',\n        enableRowSelection: this.isCustomRecordDefinition ? null : RowSelectionMode.Multiple,\n        actionButtons: [\n          {\n            label: this.isRecordEditable(this.recordDefinition)\n              ? this.translateService.instant('com.bmc.arsys.rx.client.common.edit.label')\n              : this.translateService.instant('com.bmc.arsys.rx.client.common.action-view.label'),\n            icon: this.isRecordEditable(this.recordDefinition) ? 'pencil' : 'eye',\n            style: 'tertiary',\n            actions: [\n              {\n                name: () => {\n                  if (this.dataEditorGrid.api.getSelectedRowCount() === 1) {\n                    this.editRecord(this.dataEditorGrid.api.getSelectedRows()[0][RX_RECORD_DEFINITION.coreFieldIds.id]);\n                  } else {\n                    this.rxEditRecordsViewActionService\n                      .execute({\n                        recordDefinitionName: recordDefinition.name,\n                        records: this.dataEditorGrid.api\n                      })\n                      .subscribe();\n                  }\n                }\n              }\n            ],\n            disabled: () =>\n              this.isCustomRecordDefinition ||\n              (!this.isRecordEditable(this.recordDefinition) && this.dataEditorGrid.api.getSelectedRowCount() !== 1)\n          },\n          {\n            label: this.translateService.instant('com.bmc.arsys.rx.client.common.delete.label'),\n            icon: 'trash',\n            style: 'tertiary',\n            actions: [\n              {\n                name: 'rxDeleteRecordsAction',\n                params: {\n                  recordDefinitionName: recordDefinition.name,\n                  records: this.dataEditorGrid.api\n                }\n              }\n            ],\n            disabled: this.isCustomRecordDefinition\n          }\n        ],\n        rowActionButtons: []\n      };\n    }),\n    shareReplay(1)\n  );\n\n  ngOnInit(): void {\n    this.recordDefinitionName$.pipe(takeUntil(this.destroyed$)).subscribe((recordDefinitionName) => {\n      this.rxBundleCacheService.bundleId = this.rxDefinitionNameService.getBundleId(recordDefinitionName);\n      this.setPageTitle(recordDefinitionName);\n    });\n  }\n\n  close(): void {\n    this.router.navigate([\n      RX_APPLICATION.innovationStudioBundleId,\n      this.rxBundleCacheService.bundleId,\n      'record-definitions'\n    ]);\n  }\n\n  createRecord(): void {\n    this.viewComponentEventManager\n      .executeActions(\n        [\n          {\n            guid: 'rx-data-editor-new-' + this.recordDefinition.guid,\n            name: 'rxOpenViewAction',\n            parameters: {\n              viewDefinitionName: this.rxRecordEditorBuilder.getViewDefinition(\n                this.recordDefinition,\n                null,\n                this.isRecordEditable(this.recordDefinition)\n              ),\n              viewParams: null,\n              presentation: {\n                title: this.translateService.instant('com.bmc.arsys.rx.client.data-editor.new-record.title'),\n                modalSize: RX_OPEN_VIEW.modalSize.Large,\n                type: RX_OPEN_VIEW.type.DockedRightModal\n              }\n            }\n          }\n        ],\n        () => this.dataEditorGrid.api.refresh().subscribe()\n      )\n      .catch(noop);\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n\n  editRecord(recordInstanceId: string): void {\n    this.viewComponentEventManager\n      .executeActions(\n        [\n          {\n            guid: 'rx-data-editor-edit-' + recordInstanceId,\n            name: 'rxOpenViewAction',\n            parameters: {\n              viewDefinitionName: this.rxRecordEditorBuilder.getViewDefinition(\n                this.recordDefinition,\n                recordInstanceId,\n                this.isRecordEditable(this.recordDefinition)\n              ),\n              viewParams: null,\n              presentation: {\n                title: this.isRecordEditable(this.recordDefinition)\n                  ? this.translateService.instant('com.bmc.arsys.rx.client.data-editor.edit-record.title')\n                  : this.translateService.instant('com.bmc.arsys.rx.client.data-editor.view-record.title'),\n                modalSize: RX_OPEN_VIEW.modalSize.Large,\n                type: RX_OPEN_VIEW.type.DockedRightModal\n              }\n            }\n          }\n        ],\n        () => this.dataEditorGrid.api.refresh().subscribe()\n      )\n      .catch(noop);\n  }\n\n  private isRecordEditable(recordDefinition: IRecordDefinition): boolean {\n    return !recordDefinition.isAuditRecordDefinition;\n  }\n\n  private setPageTitle(recordDefinitionName: string): void {\n    this.rxGlobalCacheService\n      .getBundleFriendlyName(this.rxBundleCacheService.bundleId)\n      .pipe(take(1))\n      .subscribe((bundleFriendlyName) => {\n        this.rxPageTitleService.set(\n          [\n            this.rxDefinitionNameService.getDisplayName(recordDefinitionName),\n            this.translateService.instant('com.bmc.arsys.rx.client.data-editor.title'),\n            bundleFriendlyName\n          ],\n          this.rxGlobalCacheService.applicationId\n        );\n      });\n  }\n}\n","<div class=\"header d-flex align-items-center\">\n  <h5 class=\"ml-3\">\n    {{ 'com.bmc.arsys.rx.client.data-editor.title' | translate }} ({{\n      recordDefinitionName$ | async | rxDefinitionNamePipe\n    }})\n  </h5>\n\n  <div class=\"ml-auto m-2\">\n    <button\n      rx-id=\"close-button\"\n      size=\"small\"\n      adapt-button\n      type=\"button\"\n      rx-id=\"close-button\"\n      (click)=\"close()\"\n      btn-type=\"secondary\"\n    >\n      {{ 'com.bmc.arsys.rx.client.common.close.label' | translate }}\n    </button>\n  </div>\n</div>\n<div>\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"tertiary\"\n    class=\"d-icon-left-plus_circle\"\n    rx-id=\"new-button\"\n    [disabled]=\"this.recordDefinition?.isAuditRecordDefinition || isCustomRecordDefinition\"\n    (click)=\"createRecord()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.new.label' | translate }}\n  </button>\n</div>\n\n<rx-record-grid rx-id=\"data-editor-grid\" #dataEditorGrid [config]=\"dataEditorGridConfig$\"></rx-record-grid>\n\n<ng-template #displayIdColumnTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  <div class=\"rx-ellipsis\">\n    <a href=\"javascript:void(0)\" (click)=\"editRecord(dataItem['$ID$'])\">\n      {{ dataItem[1] }}\n    </a>\n  </div>\n</ng-template>\n"]}