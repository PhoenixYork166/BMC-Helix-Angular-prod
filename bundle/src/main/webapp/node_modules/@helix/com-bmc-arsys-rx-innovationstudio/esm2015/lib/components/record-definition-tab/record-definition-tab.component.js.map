{"version":3,"file":"record-definition-tab.component.js","sourceRoot":"","sources":["../../../../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/record-definition-tab/record-definition-tab.component.ts","../../../../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/record-definition-tab/record-definition-tab.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, Input, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {\n  IRecordDefinition,\n  RecordInstance,\n  RX_RECORD_DEFINITION,\n  RxRecordDefinitionDataPageService,\n  RxRecordDefinitionService,\n  RxRecordInstanceService,\n  RxRecordInstanceUpdateService,\n  RxRecordInstanceDataPageService\n} from '@helix/platform/record/api';\nimport {\n  IBundleDescriptor,\n  IDataPageResult,\n  IDefinition,\n  RX_APPLICATION,\n  RX_OVERLAY,\n  RxBundleCacheService,\n  RxCommandFactoryService,\n  RxFeatureService,\n  RxNotificationService,\n  RxOverlayService\n} from '@helix/platform/shared/api';\nimport { RenameDefinitionModalComponent } from '@helix/platform/shared/components';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { IRowDataItem, RowDataItemIdFieldName } from '@helix/platform/view/api';\nimport { IRecordGridColumn } from '@helix/platform/view/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { noop, some } from 'lodash';\nimport { BehaviorSubject, forkJoin, from, Observable, of, ReplaySubject } from 'rxjs';\nimport { filter, finalize, map, switchMap, take, takeUntil, tap } from 'rxjs/operators';\nimport { IRenameAction } from '../bundle-definitions/bundle-definitions.types';\nimport { AX_BUNDLE_DETAILS } from '../bundle-details/bundle-details.constant';\nimport { IDefinitionActionConfig } from '../bundle-details/bundle-details.types';\nimport { RxCopyDefinitionService } from '../copy-definition/copy-definition.service';\nimport { DefinitionTabComponent } from '../definition-tab/definition-tab.component';\nimport { ExternalRecordWizardService } from '../external-record-wizard/external-record-wizard.service';\nimport { IExternalRecordDesignerOptions } from '../external-record-wizard/external-record-wizard.types';\nimport { JoinRecordWizardService } from '../join-record-wizard/join-record-wizard.service';\nimport { IJoinRecordDesignerOptions } from '../join-record-wizard/join-record-wizard.types';\nimport { CopyDefinitionType } from '../copy-definition/copy-definition.types';\nimport { AX_RECORD_DEFINITION_TAB } from './record-definition-tab.constant';\nimport { CreateCustomRecordComponent } from '../create-custom-record/create-custom-record.component';\nimport { CreateJoinRecordComponent } from '../create-join-record/create-join-record.component';\n\n@Component({\n  selector: 'ax-record-definition-tab',\n  templateUrl: './record-definition-tab.component.html'\n})\nexport class RecordDefinitionTabComponent implements OnInit, OnDestroy {\n  @Input()\n  bundleDescriptor: IBundleDescriptor;\n\n  @ViewChild('recordDefinitionTypeTemplate', { static: true })\n  recordDefinitionTypeTemplate: TemplateRef<any>;\n\n  @ViewChild(DefinitionTabComponent, { static: true })\n  definitionTabComponent: DefinitionTabComponent;\n\n  editRouterLink: string;\n  private rowSelectionChanged$ = new BehaviorSubject<IRowDataItem[]>([]);\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n  private areNewDefinitionsAllowed;\n\n  definitionActions$ = this.rowSelectionChanged$.pipe(\n    map((selectedRows) => this.getDefinitionActions(selectedRows)),\n    takeUntil(this.destroyed$)\n  );\n\n  gridColumns: IRecordGridColumn[] = [];\n  definitions$: Observable<IDataPageResult>;\n  recordDefinition: Partial<IRecordDefinition>;\n  isActionInProgress = false;\n  private dataEditorRoute = this.rxFeatureService.isFeatureEnabled('DRD21-10996') ? 'edit-data-new' : 'edit-data';\n\n  constructor(\n    private rxRecordDefinitionDataPageService: RxRecordDefinitionDataPageService,\n    private rxBundleCache: RxBundleCacheService,\n    private rxOverlayService: RxOverlayService,\n    private rxModalService: RxModalService,\n    private translateService: TranslateService,\n    private rxCommandFactoryService: RxCommandFactoryService,\n    private router: Router,\n    private rxCopyDefinitionService: RxCopyDefinitionService,\n    private joinRecordWizardService: JoinRecordWizardService,\n    private externalRecordWizardService: ExternalRecordWizardService,\n    private rxRecordDefinitionService: RxRecordDefinitionService,\n    private rxNotificationService: RxNotificationService,\n    private rxRecordInstanceService: RxRecordInstanceService,\n    private rxRecordInstanceUpdateService: RxRecordInstanceUpdateService,\n    private rxRecordInstanceDataPageService: RxRecordInstanceDataPageService,\n    private rxFeatureService: RxFeatureService\n  ) {}\n\n  ngOnInit(): void {\n    if (this.rxFeatureService.isFeatureEnabled('DRD21-15263')) {\n      this.editRouterLink = `/${RX_APPLICATION.innovationStudioBundleId}/record/edit2/`;\n    }\n\n    this.areNewDefinitionsAllowed = this.rxOverlayService.areNewDefinitionsAllowedSync(this.bundleDescriptor);\n\n    this.gridColumns = [\n      AX_BUNDLE_DETAILS.definitionGridColumns.name,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime,\n      AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy,\n      {\n        fieldId: 'recordDefinitionType',\n        title: 'com.bmc.arsys.rx.client.common.item-type.label',\n        index: 3,\n        cellTemplate: this.recordDefinitionTypeTemplate\n      },\n      AX_BUNDLE_DETAILS.definitionGridColumns.scope,\n      AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective\n    ] as IRecordGridColumn[];\n\n    const fieldDefinitions = [\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.name.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastUpdateTime.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.lastChangedBy.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: 'recordDefinitionType',\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.scope.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: AX_BUNDLE_DETAILS.definitionGridColumns.customizationPerspective.fieldId,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      }\n    ];\n\n    const fieldDefinitionsById = fieldDefinitions.reduce((result, fieldDefinition) => {\n      result[fieldDefinition.id] = fieldDefinition;\n\n      return result;\n    }, {});\n\n    this.recordDefinition = {\n      fieldDefinitions,\n      fieldDefinitionsById\n    };\n\n    this.definitions$ = this.rxRecordDefinitionDataPageService.get({\n      params: {\n        propertySelection: [\n          'name',\n          'lastUpdateTime',\n          'lastChangedBy',\n          'customizationPerspective',\n          'recordDefinitionType',\n          'overlayGroupId',\n          'overlayDescriptor',\n          'isAuditRecordDefinition',\n          'scope',\n          'externalDataSourceType',\n          'archiveSourceRecordDefinitionName',\n          'type'\n        ]\n      }\n    });\n  }\n\n  onDeleteDefinition(selectedRows: IRowDataItem[]): void {\n    const definitionNames = selectedRows.map((definition) => definition.name);\n\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.definitionTabComponent.getDeleteSelectedDefinitionMessage()\n      })\n    )\n      .pipe(\n        tap((result: boolean) => {\n          this.isActionInProgress = result;\n        }),\n        switchMap((result: boolean) =>\n          result\n            ? this.rxCommandFactoryService\n                .forResourceType('com.bmc.arsys.rx.application.record.command.DeleteRecordDefinitionsCommand')\n                .execute({\n                  definitionNames\n                })\n                .pipe(\n                  tap(() => {\n                    this.isActionInProgress = false;\n                  }),\n                  switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n                )\n            : of(false)\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  private getDefinitionActions(selectedRows: IRowDataItem[]): IDefinitionActionConfig[] {\n    const isBundleEditable = this.rxOverlayService.isBundleEditable(this.rxBundleCache.bundleId);\n\n    return [\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.new,\n        isDisabled: !this.areNewDefinitionsAllowed,\n\n        subActions: [\n          {\n            labelKey: 'com.bmc.arsys.rx.innovation-studio.tabs.new.regular-record.label',\n            id: RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType,\n            rxId: RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType\n          },\n          {\n            labelKey: 'com.bmc.arsys.rx.innovation-studio.tabs.new.join-record.label',\n            id: RX_RECORD_DEFINITION.recordDefinitionTypes.join.recordDefinitionType,\n            rxId: RX_RECORD_DEFINITION.recordDefinitionTypes.join.recordDefinitionType\n          },\n          {\n            labelKey: 'com.bmc.arsys.rx.innovation-studio.tabs.new.external-record.label',\n            id: RX_RECORD_DEFINITION.recordDefinitionTypes.external.recordDefinitionType,\n            rxId: RX_RECORD_DEFINITION.recordDefinitionTypes.external.recordDefinitionType\n          },\n          {\n            labelKey: 'com.bmc.arsys.rx.innovation-studio.tabs.new.custom-record.label',\n            id: RX_RECORD_DEFINITION.externalRecordDefinitionTypes.custom,\n            rxId: RX_RECORD_DEFINITION.externalRecordDefinitionTypes.custom\n          }\n        ]\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.rename,\n        isDisabled:\n          !isBundleEditable ||\n          !(\n            selectedRows.length === 1 &&\n            this.rxOverlayService.isCustomizationEnabled('allowOverlay', selectedRows[0] as IDefinition)\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.revertCustomization,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.customizedInThisOverlayGroup\n          )\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.copy,\n        isDisabled: selectedRows.length !== 1 || !isBundleEditable\n      },\n      {\n        id: AX_BUNDLE_DETAILS.standardDefinitionActionNames.delete,\n        isDisabled:\n          !isBundleEditable ||\n          selectedRows.length === 0 ||\n          some(\n            selectedRows,\n            (selectedRow) =>\n              selectedRow.customizationPerspective !== RX_OVERLAY.customizationPerspective.createdInThisOverlayGroup\n          )\n      },\n      {\n        id: 'archive',\n        labelKey: 'com.bmc.arsys.rx.innovation-studio.definition-actions.archive.label',\n        rxId: 'archive',\n        icon: 'file_o_gear',\n        isDisabled:\n          selectedRows.length !== 1 ||\n          selectedRows[0].recordDefinitionType !==\n            RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType\n      },\n      {\n        id: 'edit-data',\n        labelKey: 'com.bmc.arsys.rx.innovation-studio.definition-actions.edit-data.label',\n        rxId: 'edit-data',\n        icon: 'storages',\n        isDisabled:\n          selectedRows.length !== 1 ||\n          (selectedRows[0]?.recordDefinitionType ===\n            RX_RECORD_DEFINITION.recordDefinitionTypes.external.recordDefinitionType &&\n            (!selectedRows[0]?.externalDataSourceType ||\n              selectedRows[0]?.externalDataSourceType ===\n                RX_RECORD_DEFINITION.externalRecordDefinitionDataSourceTypes.webApi))\n      }\n    ];\n  }\n\n  onRowSelectionChanged(selectedRows: IRowDataItem[]): void {\n    this.rowSelectionChanged$.next(selectedRows);\n  }\n\n  onCustomAction(event: { actionId: string; selectedRows: IRowDataItem[] }): void {\n    switch (event.actionId) {\n      case RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType: {\n        this.router.navigate([\n          RX_APPLICATION.innovationStudioBundleId,\n          'record',\n          this.rxFeatureService.isFeatureEnabled('DRD21-15263') ? 'new2' : 'new',\n          this.rxBundleCache.bundleId\n        ]);\n\n        break;\n      }\n\n      case RX_RECORD_DEFINITION.recordDefinitionTypes.join.recordDefinitionType: {\n        if (this.rxFeatureService.isFeatureEnabled('DRD21-15263')) {\n          this.rxModalService\n            .openModal({\n              content: CreateJoinRecordComponent,\n              size: 'sm'\n            })\n            .catch(noop);\n        } else {\n          this.joinRecordWizardService.open().then((joinRecordDesignerOptions: IJoinRecordDesignerOptions | null) => {\n            if (joinRecordDesignerOptions) {\n              this.router.navigate(\n                [RX_APPLICATION.innovationStudioBundleId, 'record', 'new', this.rxBundleCache.bundleId],\n                { state: { designerOptions: joinRecordDesignerOptions } }\n              );\n            }\n          });\n        }\n\n        break;\n      }\n\n      case RX_RECORD_DEFINITION.recordDefinitionTypes.external.recordDefinitionType: {\n        this.externalRecordWizardService\n          .open()\n          .then((externalRecordDesignerOptions: IExternalRecordDesignerOptions | null) => {\n            if (externalRecordDesignerOptions) {\n              this.router.navigate(\n                [RX_APPLICATION.innovationStudioBundleId, 'record', 'new', this.rxBundleCache.bundleId],\n                { state: { designerOptions: externalRecordDesignerOptions } }\n              );\n            }\n          });\n\n        break;\n      }\n\n      case RX_RECORD_DEFINITION.externalRecordDefinitionTypes.custom: {\n        this.rxModalService\n          .openModal({\n            content: CreateCustomRecordComponent,\n            size: 'sm'\n          })\n          .catch(noop);\n\n        break;\n      }\n\n      case 'edit-data': {\n        this.router.navigate([\n          RX_APPLICATION.innovationStudioBundleId,\n          'record',\n          this.dataEditorRoute,\n          event.selectedRows[0][RowDataItemIdFieldName]\n        ]);\n\n        break;\n      }\n\n      case 'archive': {\n        this.rxRecordDefinitionService\n          .get(event.selectedRows[0].name)\n          .pipe(\n            take(1),\n            switchMap((recordDefinition: IRecordDefinition) => {\n              if (\n                !recordDefinition.archiveDescriptor?.isEnabled ||\n                recordDefinition.archiveDescriptor?.archiveType === 'NONE'\n              ) {\n                this.rxNotificationService.addErrorMessage(\n                  this.translateService.instant(\n                    'com.bmc.arsys.rx.innovation-studio.tabs.records.archiving-disabled.message'\n                  )\n                );\n\n                return of(null);\n              } else {\n                let message = '';\n                const archiveType = recordDefinition.archiveDescriptor?.archiveType;\n\n                if (archiveType === 'COPY_TO_ARCHIVE_AND_DELETE_FROM_SOURCE') {\n                  message = this.translateService.instant(\n                    'com.bmc.arsys.rx.innovation-studio.tabs.records.archive-and-delete.confirmation.message',\n                    { recordAge: recordDefinition.archiveDescriptor.ageQualifierInDays }\n                  );\n                } else if (archiveType === 'DELETE_FROM_SOURCE') {\n                  message = this.translateService.instant(\n                    'com.bmc.arsys.rx.innovation-studio.tabs.records.delete-without-archiving.confirmation.message',\n                    { recordAge: recordDefinition.archiveDescriptor.ageQualifierInDays }\n                  );\n                }\n\n                return from(\n                  this.rxModalService.confirm({\n                    title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n                    modalStyle: RX_MODAL.modalStyles.warning,\n                    message\n                  })\n                );\n              }\n            }),\n            switchMap((result: boolean) => {\n              if (result) {\n                return this.rxRecordInstanceDataPageService\n                  .post({\n                    params: {\n                      recorddefinition: AX_RECORD_DEFINITION_TAB.archiving.recordDefinitionName,\n                      pageSize: 1,\n                      startIndex: 0,\n                      propertySelection: RX_RECORD_DEFINITION.coreFieldIds.id,\n                      queryExpression: `'${RX_RECORD_DEFINITION.coreFieldIds.description}' = \"${event.selectedRows[0].name}\"`\n                    }\n                  })\n                  .pipe(\n                    switchMap((dataPageResult: IDataPageResult) =>\n                      this.rxRecordInstanceService.get(\n                        AX_RECORD_DEFINITION_TAB.archiving.recordDefinitionName,\n                        dataPageResult.data[0][RX_RECORD_DEFINITION.coreFieldIds.id]\n                      )\n                    ),\n                    switchMap((recordInstance: RecordInstance) => {\n                      recordInstance.setFieldValue(AX_RECORD_DEFINITION_TAB.archiving.fieldIds.runNow, 1);\n\n                      return this.rxRecordInstanceUpdateService.execute(recordInstance);\n                    }),\n                    tap(() => {\n                      this.rxNotificationService.addSuccessMessage(\n                        this.translateService.instant(\n                          'com.bmc.arsys.rx.innovation-studio.tabs.records.archiving-started.message'\n                        )\n                      );\n                    })\n                  );\n              } else {\n                return of(null);\n              }\n            })\n          )\n          .subscribe();\n\n        break;\n      }\n    }\n  }\n\n  onCopyDefinition(row: IRowDataItem): void {\n    this.rxCopyDefinitionService.openCopyDefinitionComponentModal(row, CopyDefinitionType.Record).catch(noop);\n  }\n\n  onRenameDefinition({ selectedRow, definitionNames }: IRenameAction): void {\n    const definitionType: string = this.translateService.instant(\n      'com.bmc.arsys.rx.client.definition-type.record.label'\n    );\n\n    from(\n      this.rxModalService\n        .openModal({\n          title: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.title', {\n            definitionType: definitionType.toLowerCase()\n          }),\n          size: 'sm',\n          content: RenameDefinitionModalComponent,\n          data: {\n            definitionName: selectedRow.name,\n            infoText: this.translateService.instant('com.bmc.arsys.rx.client.rename-definition-modal.info.message'),\n            fieldLabel: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.definition-name.label',\n              { definitionType }\n            ),\n            validationErrorText: this.translateService.instant(\n              'com.bmc.arsys.rx.client.rename-definition-modal.name-validation.message',\n              { definitionType }\n            ),\n            definitionType,\n            definitionNames\n          }\n        })\n        .catch(noop)\n    )\n      .pipe(\n        filter<string>(Boolean),\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((newRecordDefinitionName) =>\n          this.rxRecordDefinitionService.rename(selectedRow.name, newRecordDefinitionName)\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        }),\n        switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n      )\n      .subscribe();\n  }\n\n  onRevertCustomization(selectedRows: IRowDataItem[]): void {\n    from(\n      this.rxModalService.confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.revert-customization.confirmation.message'\n        )\n      })\n    )\n      .pipe(\n        tap(() => {\n          this.isActionInProgress = true;\n        }),\n        switchMap((response) =>\n          response\n            ? forkJoin(\n                selectedRows.map((definition: IRowDataItem) =>\n                  this.rxRecordDefinitionService.revertCustomization(definition.name)\n                )\n              ).pipe(\n                tap(() => {\n                  this.isActionInProgress = false;\n                }),\n                switchMap(() => this.definitionTabComponent.recordGrid.api.refresh())\n              )\n            : of({})\n        ),\n        finalize(() => {\n          this.isActionInProgress = false;\n        })\n      )\n      .subscribe();\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n}\n","<ax-definition-tab\n  [definitionActions]=\"definitionActions$ | async\"\n  [gridColumns]=\"gridColumns\"\n  [recordDefinition]=\"recordDefinition\"\n  [definitions$]=\"definitions$\"\n  [isActionInProgress]=\"isActionInProgress\"\n  [definitionType]=\"'record'\"\n  (copyDefinition)=\"onCopyDefinition($event)\"\n  (customAction)=\"onCustomAction($event)\"\n  (deleteDefinition)=\"onDeleteDefinition($event)\"\n  (renameDefinition)=\"onRenameDefinition($event)\"\n  (revertCustomization)=\"onRevertCustomization($event)\"\n  (rowSelectionChanged)=\"onRowSelectionChanged($event)\"\n  [editRouterLink]=\"editRouterLink\"\n></ax-definition-tab>\n\n<ng-template #recordDefinitionTypeTemplate let-dataItem=\"dataItem\">\n  <div>\n    {{ dataItem | axRecordDefinitionType }}\n  </div>\n</ng-template>\n"]}