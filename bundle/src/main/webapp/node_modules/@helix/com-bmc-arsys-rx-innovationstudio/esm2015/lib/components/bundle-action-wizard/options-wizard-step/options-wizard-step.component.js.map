{"version":3,"file":"options-wizard-step.component.js","sourceRoot":"","sources":["../../../../../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/options-wizard-step/options-wizard-step.component.ts","../../../../../../../../libs/com-bmc-arsys-rx-innovationstudio/src/lib/components/bundle-action-wizard/options-wizard-step/options-wizard-step.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { AbstractControl, FormControl, FormGroup, ValidationErrors, Validators } from '@angular/forms';\nimport { IBundleDescriptor, IPlainObject, RX_APPLICATION } from '@helix/platform/shared/api';\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\nimport { assign, cloneDeep, compact, includes, initial, last, some } from 'lodash';\nimport { combineLatest, Observable, ReplaySubject } from 'rxjs';\nimport { map, pluck, shareReplay, take, takeUntil, withLatestFrom } from 'rxjs/operators';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'ax-options-wizard-step',\n  templateUrl: 'options-wizard-step.component.html',\n  styleUrls: ['./options-wizard-step.component.scss']\n})\nexport class OptionsWizardStepComponent implements OnInit, OnDestroy {\n  @Input()\n  options: IPlainObject;\n\n  optionsForm: FormGroup;\n\n  versionRegexp = /^((\\d+\\.\\d+)(\\.\\d+)?)(.*)$/;\n\n  isApplication$ = this.rxWizardModalComponent.context$.pipe(take(1), pluck('bundleDetails', 'isApplication'));\n\n  bundlesList$: Observable<IBundleDescriptor[]> = this.rxWizardModalComponent.context$.pipe(\n    take(1),\n    map((context) =>\n      context.bundleDescriptors\n        .sort((a, b) => a.friendlyName.localeCompare(b.friendlyName))\n        .reduce((result, bundleDescriptor) => {\n          if (\n            !includes(\n              [\n                RX_APPLICATION.standardlib,\n                RX_APPLICATION.innovationStudioBundleId,\n                RX_APPLICATION.platformBundleId,\n                context.bundleDetails.id\n              ],\n              bundleDescriptor.id\n            )\n          ) {\n            result.push({\n              ...bundleDescriptor\n            });\n          }\n\n          return result;\n        }, [])\n    ),\n    shareReplay(1)\n  );\n\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  versionIncrementValidator =\n    (fromVersionControl) =>\n    (control: AbstractControl): ValidationErrors | null => {\n      let isValidateIncrementation = true;\n\n      if (fromVersionControl?.value && control.value && this.versionRegexp.test(control.value)) {\n        isValidateIncrementation = this.isValidateIncrementation(fromVersionControl.value, control.value);\n      }\n\n      return isValidateIncrementation\n        ? null\n        : {\n            invalidVersion: {\n              value: control.value,\n              message: this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.options.version-increment.error.message'\n              )\n            }\n          };\n    };\n\n  constructor(private rxWizardModalComponent: RxWizardModalComponent, private translateService: TranslateService) {}\n\n  ngOnInit(): void {\n    combineLatest([this.bundlesList$, this.rxWizardModalComponent.context$])\n      .pipe(take(1))\n      .subscribe(([bundlesList, context]) => {\n        const dependentBundles: IBundleDescriptor[] = bundlesList.filter((bundleDescriptor) =>\n          some(context.bundleDetails.dependentBundles, { id: bundleDescriptor.id })\n        );\n\n        const optionsFormGroup: IPlainObject = {};\n\n        if (this.options?.fields?.bundleUpdateFromVersion) {\n          optionsFormGroup.bundleUpdateFromVersion = new FormControl(\n            context.deploymentPackageDescriptor.bundleUpdateFromVersion\n          );\n        }\n\n        if (this.options?.fields?.customPackageName) {\n          optionsFormGroup.customPackageName = new FormControl(context.deploymentPackageDescriptor.customPackageName);\n        }\n\n        Object.assign(optionsFormGroup, {\n          id: new FormControl(context.bundleDetails.id),\n          friendlyName: new FormControl(context.deploymentPackageDescriptor.friendlyName, [Validators.required]),\n          version: new FormControl(\n            context.deploymentPackageDescriptor.version,\n            compact([\n              Validators.required,\n              Validators.pattern(this.versionRegexp),\n              this.options?.fields?.bundleUpdateFromVersion\n                ? this.versionIncrementValidator(optionsFormGroup.bundleUpdateFromVersion)\n                : null\n            ])\n          ),\n          description: new FormControl(context.deploymentPackageDescriptor.description, [Validators.required]),\n          dependentBundles: new FormControl(dependentBundles)\n        });\n\n        this.optionsForm = new FormGroup(optionsFormGroup);\n\n        const newDeploymentPackageDescriptor = cloneDeep(context.deploymentPackageDescriptor);\n\n        assign(newDeploymentPackageDescriptor, {\n          friendlyName: context.bundleDetails.friendlyName,\n          version: context.bundleDetails.version,\n          description: context.bundleDetails.description,\n          id: context.bundleDetails.id,\n          dependentBundles: dependentBundles.map((dependentBundleDetails) => ({\n            id: dependentBundleDetails.id,\n            name: dependentBundleDetails.friendlyName,\n            version: dependentBundleDetails.version\n          }))\n        });\n\n        this.rxWizardModalComponent.api.updateContext(\n          {\n            deploymentPackageDescriptor: newDeploymentPackageDescriptor\n          },\n          false\n        );\n      });\n\n    this.optionsForm.valueChanges\n      .pipe(withLatestFrom(this.rxWizardModalComponent.context$), takeUntil(this.destroyed$))\n      .subscribe(([value, context]) => {\n        const newDeploymentPackageDescriptor = cloneDeep(context.deploymentPackageDescriptor);\n\n        assign(newDeploymentPackageDescriptor, value);\n\n        newDeploymentPackageDescriptor.dependentBundles = value.dependentBundles.map(\n          (dependentBundleDetails: IBundleDescriptor) => ({\n            id: dependentBundleDetails.id,\n            name: dependentBundleDetails.friendlyName,\n            version: dependentBundleDetails.version\n          })\n        );\n\n        this.rxWizardModalComponent.api.updateContext({\n          deploymentPackageDescriptor: newDeploymentPackageDescriptor\n        });\n\n        if (this.optionsForm.valid) {\n          this.rxWizardModalComponent.api.enableNextButton();\n        } else {\n          this.rxWizardModalComponent.api.disableNextButton();\n        }\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  optionFormatter(field: IBundleDescriptor): string {\n    return `${field.friendlyName}, ${field.version}`;\n  }\n\n  private isValidateIncrementation(currentVersion, newVersion): boolean {\n    let isUpdateToVersionIncrementedCorrectly = false;\n\n    const newVersionBase = this.getBaseVersion(newVersion);\n    const currentVersionBase = this.getBaseVersion(currentVersion);\n\n    if (newVersionBase) {\n      const newVersionBaseProperties = newVersionBase.split('.');\n      const currentVersionBaseProperties = currentVersionBase.split('.');\n\n      // check if the last digit incremented correctly\n      // e.g. 1.1 > 1.2\n      //      1.1 > 1.1.1\n      //      1.1.0 > 1.1.1\n      const isTheLastDigitNotDecremented =\n        newVersionBaseProperties.length === currentVersionBaseProperties.length\n          ? +last(newVersionBaseProperties) >= +last(currentVersionBaseProperties)\n          : +last(initial(newVersionBaseProperties)) >= +last(currentVersionBaseProperties);\n\n      // create regular expression based on current version\n      // only the last and additional component can be changed\n      // e.g. 1.1.0 > 1.1.n or 1.1.n-SNAPSHOT\n      //      1.0 > 1.n or 1.n-SNAPSHOT or 1.1.n or 1.1.n-SNAPSHOT\n      const correctRegExpGroup = currentVersionBaseProperties.length === 3 ? 2 : 3;\n      const regExpSuffix = correctRegExpGroup === 2 ? '(\\\\.\\\\d+)' : '(\\\\.\\\\d+)(\\\\.\\\\d+)?';\n\n      const updateToVersionRegExp = new RegExp(\n        '^' + currentVersionBase.match(this.versionRegexp)[correctRegExpGroup] + regExpSuffix + '$'\n      );\n\n      isUpdateToVersionIncrementedCorrectly =\n        updateToVersionRegExp.test(newVersionBase) && isTheLastDigitNotDecremented;\n    }\n\n    return isUpdateToVersionIncrementedCorrectly;\n  }\n\n  // get version without the optional qualifier, e.g. 1.1.0-SNAPSHOT > 1.1.0\n  private getBaseVersion(version): string {\n    const baseVersion = version.match(this.versionRegexp);\n\n    return baseVersion ? baseVersion[1] : null;\n  }\n}\n","<h5 class=\"mt-0\">{{ 'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.options.label' | translate }}</h5>\n\n<ng-container [formGroup]=\"optionsForm\">\n  <div class=\"row h-100\">\n    <div class=\"col-6\">\n      <adapt-rx-textfield\n        *ngIf=\"options?.fields.customPackageName\"\n        [label]=\"'com.bmc.arsys.rx.innovation-studio.packaging.package-name.label' | translate\"\n        class=\"d-block form-group\"\n        formControlName=\"customPackageName\"\n        name=\"customPackageName\"\n        required=\"true\"\n      ></adapt-rx-textfield>\n\n      <adapt-rx-textfield\n        [label]=\"\n          ((isApplication$ | async)\n            ? 'com.bmc.arsys.rx.client.common.application-name.label'\n            : 'com.bmc.arsys.rx.client.common.library-name.label'\n          ) | translate\n        \"\n        formControlName=\"friendlyName\"\n        required=\"true\"\n        [readonly]=\"options?.fields.friendlyName?.disabled\"\n        [disabledStyleForReadonlyState]=\"true\"\n        class=\"d-block form-group\"\n        name=\"friendlyName\"\n      >\n      </adapt-rx-textfield>\n\n      <adapt-rx-textfield\n        *ngIf=\"options?.fields?.bundleUpdateFromVersion\"\n        [disabledStyleForReadonlyState]=\"true\"\n        [label]=\"\n          'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.options.update-from-version.label' | translate\n        \"\n        [pattern]=\"versionRegexp\"\n        [readonly]=\"true\"\n        class=\"d-block form-group\"\n        formControlName=\"bundleUpdateFromVersion\"\n        name=\"bundleUpdateFromVersion\"\n        [tooltip]=\"{\n          content: options?.fields.bundleUpdateFromVersion?.tooltip || bundleUpdateFromVersionTooltip,\n          iconName: 'question_circle_o',\n          placement: 'right'\n        }\"\n      >\n      </adapt-rx-textfield>\n\n      <adapt-rx-textfield\n        [label]=\"options?.fields.version?.label || 'com.bmc.arsys.rx.client.common.version.label' | translate\"\n        formControlName=\"version\"\n        required=\"true\"\n        [readonly]=\"options?.fields.version?.disabled\"\n        [disabledStyleForReadonlyState]=\"true\"\n        class=\"d-block form-group\"\n        name=\"version\"\n        [pattern]=\"versionRegexp\"\n        [class.mb-0]=\"optionsForm.controls.version.errors?.invalidVersion\"\n        [tooltip]=\"\n          options?.fields.version?.hideTooltip\n            ? null\n            : {\n                content: versionTooltip,\n                iconName: 'question_circle_o',\n                placement: 'right'\n              }\n        \"\n      >\n      </adapt-rx-textfield>\n\n      <adapt-rx-textfield\n        [label]=\"'com.bmc.arsys.rx.client.common.description.label' | translate\"\n        formControlName=\"description\"\n        required=\"true\"\n        [readonly]=\"options?.fields.description?.disabled\"\n        [disabledStyleForReadonlyState]=\"true\"\n        class=\"d-block form-group\"\n        name=\"description\"\n      >\n      </adapt-rx-textfield>\n\n      <adapt-rx-textfield\n        formControlName=\"id\"\n        [label]=\"\n          ((isApplication$ | async)\n            ? 'com.bmc.arsys.rx.client.common.application-id.label'\n            : 'com.bmc.arsys.rx.client.common.library-id.label'\n          ) | translate\n        \"\n        [readonly]=\"true\"\n        [disabledStyleForReadonlyState]=\"true\"\n        class=\"d-block form-group\"\n        name=\"id\"\n      >\n      </adapt-rx-textfield>\n    </div>\n\n    <div class=\"col-6 d-flex flex-column h-100\" *ngIf=\"!options?.fields.dependentBundlesList?.hidden\">\n      <adapt-rx-select\n        [inline]=\"true\"\n        [multiple]=\"true\"\n        [options]=\"bundlesList$ | async\"\n        [optionFormatter]=\"optionFormatter\"\n        [selectAllButton]=\"true\"\n        [deselectAllButton]=\"true\"\n        [popupMaxHeight]=\"560\"\n        [formControl]=\"optionsForm.controls.dependentBundles\"\n        [label]=\"'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.options.depends-on.label' | translate\"\n        class=\"h-100\"\n      >\n      </adapt-rx-select>\n    </div>\n  </div>\n</ng-container>\n\n<ng-template #bundleUpdateFromVersionTooltip>\n  <div\n    [innerHTML]=\"\n      'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.options.update-from-version.tooltip' | translate\n    \"\n  ></div>\n</ng-template>\n\n<ng-template #versionTooltip>\n  <div\n    *ngIf=\"options?.fields.version?.tooltip; else defaultVersionTooltip\"\n    [innerHTML]=\"options?.fields.version?.tooltip | translate\"\n  ></div>\n</ng-template>\n\n<ng-template #defaultVersionTooltip>\n  <div\n    [innerHTML]=\"'com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.options.version.tooltip' | translate\"\n  ></div>\n</ng-template>\n"]}