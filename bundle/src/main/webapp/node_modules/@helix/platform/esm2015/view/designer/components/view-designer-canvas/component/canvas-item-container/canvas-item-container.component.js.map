{"version":3,"file":"canvas-item-container.component.js","sourceRoot":"","sources":["../../../../../../../../../../libs/platform/view/designer/components/view-designer-canvas/component/canvas-item-container/canvas-item-container.component.ts","../../../../../../../../../../libs/platform/view/designer/components/view-designer-canvas/component/canvas-item-container/canvas-item-container.component.html"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAQzD,OAAO,EAAE,8BAA8B,EAAE,MAAM,kDAAkD,CAAC;AAClG,OAAO,EAAE,aAAa,EAAE,MAAM,wCAAwC,CAAC;AAEvE,OAAO,EAAE,yBAAyB,EAAE,MAAM,+CAA+C,CAAC;;;;;;AAO1F,MAAM,OAAO,4BAA4B;IAUvC,YACoD,aAA4B,EACpE,yBAAoD;QADZ,kBAAa,GAAb,aAAa,CAAe;QACpE,8BAAyB,GAAzB,yBAAyB,CAA2B;IAC7D,CAAC;IAEJ,YAAY,CAAC,KAAa,EAAE,IAA+B;QACzD,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,iBAAiB,CAAC,KAA2C;QAC3D,MAAM,qBAAqB,mCACrB,KAAK,CAAC,IAAI,CAAC,IAA+B,KAC9C,uBAAuB,EAAE,EAAE,EAC3B,WAAW,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,GAC9C,CAAC;QAEF,IAAI,CAAC,yBAAyB,CAAC,+BAA+B,CAAC,qBAAqB,CAAC,CAAC;QAEtF,IAAI,CAAC,qBAAqB,CAAC,WAAW,EAAE;YACtC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,qBAAqB,EAAE,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;SACpG;IACH,CAAC;;yHA/BU,4BAA4B,kBAW7B,8BAA8B;6GAX7B,4BAA4B,0IClBzC,4iBAgBA;2FDEa,4BAA4B;kBALxC,SAAS;mBAAC;oBACT,QAAQ,EAAE,0BAA0B;oBACpC,WAAW,EAAE,wCAAwC;oBACrD,SAAS,EAAE,CAAC,wCAAwC,CAAC;iBACtD;;0BAYI,MAAM;2BAAC,8BAA8B;oFATxC,MAAM;sBADL,KAAK;gBAIN,UAAU;sBADT,KAAK;gBAIN,MAAM;sBADL,KAAK","sourcesContent":["import { Component, Inject, Input } from '@angular/core';\nimport {\n  IViewComponentDragData,\n  IViewComponentDropData,\n  IViewDesignerCanvasColumn,\n  IViewDesignerCanvasLayout,\n  IViewDesignerCanvasOutlet\n} from '../../interfaces/view-designer-canvas.interfaces';\nimport { ViewDesignerCanvasItemApiToken } from '../../tokens/view-designer-canvas-item-api.token';\nimport { CanvasItemApi } from '../canvas-item/canvas-item-api.service';\nimport { CdkDragDrop } from '@angular/cdk/drag-drop';\nimport { CanvasOutletHelperService } from '../canvas-outlet/canvas-outlet-helper.service';\n\n@Component({\n  selector: 'rx-canvas-item-container',\n  templateUrl: './canvas-item-container.component.html',\n  styleUrls: ['./canvas-item-container.component.scss']\n})\nexport class CanvasItemContainerComponent {\n  @Input()\n  outlet: IViewDesignerCanvasOutlet;\n\n  @Input()\n  isReadOnly: boolean;\n\n  @Input()\n  layout: IViewDesignerCanvasLayout;\n\n  constructor(\n    @Inject(ViewDesignerCanvasItemApiToken) protected canvasItemApi: CanvasItemApi,\n    protected canvasOutletHelperService: CanvasOutletHelperService\n  ) {}\n\n  trackByColFn(index: number, item: IViewDesignerCanvasColumn): string {\n    return item.listId;\n  }\n\n  onDropListDropped(event: CdkDragDrop<{ columnIndex: number }>) {\n    const viewComponentDropData: IViewComponentDropData = {\n      ...(event.item.data as IViewComponentDragData),\n      initialPropertiesByName: {},\n      columnIndex: event.container.data.columnIndex\n    };\n\n    this.canvasOutletHelperService.setBeforeViewComponentDropState(viewComponentDropData);\n\n    if (!viewComponentDropData.preventDrop) {\n      this.canvasItemApi.core.dropComponent(viewComponentDropData, event.currentIndex, this.outlet.name);\n    }\n  }\n}\n","<div class=\"row\">\n  <div\n    *ngFor=\"let column of outlet.columns; let colIndex = index; let isLastCol = last; trackBy: trackByColFn\"\n    class=\"{{ column.span ? 'col-' + column.span : 'col' }}\"\n    [ngClass]=\"{ 'col-border': !isLastCol }\"\n  >\n    <rx-canvas-item-column\n      [ngClass]=\"{ 'mb-3': !isLastCol }\"\n      [isReadOnly]=\"isReadOnly\"\n      [colIndex]=\"colIndex\"\n      [column]=\"column\"\n      [layout]=\"layout\"\n      (dropListDropped)=\"onDropListDropped($event)\"\n    ></rx-canvas-item-column>\n  </div>\n</div>\n"]}