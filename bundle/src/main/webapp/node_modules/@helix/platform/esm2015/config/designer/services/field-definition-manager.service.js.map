{"version":3,"file":"field-definition-manager.service.js","sourceRoot":"","sources":["../../../../../../../libs/platform/config/designer/services/field-definition-manager.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { IFieldOptions } from '@helix/platform/config/api';\nimport { IConfigFieldDefinitionModel } from '../config-designer.types';\nimport { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { IFormBuilderConfig } from '@helix/platform/shared/api';\nimport { RX_CONFIG_DESIGNER } from '../config-designer.constant';\nimport { AttachmentFieldDefinitionService } from './attachment-field-definition.service';\nimport { BooleanFieldDefinitionService } from './boolean-field-definition.service';\nimport { CharacterFieldDefinitionService } from './character-field-definition.service';\nimport { ColorFieldDefinitionService } from './color-field-definition.service';\nimport { DateOnlyFieldDefinitionService } from './date-only-field-definition.service';\nimport { DecimalFieldDefinitionService } from './decimal-field-definition.service';\nimport { IntegerFieldDefinitionService } from './integer-field-definition.service';\nimport { SecureFieldDefinitionService } from './secure-field-definition.service';\nimport { SelectionFieldDefinitionService } from './selection-field-definition.service';\nimport { IValidationIssue } from '@helix/platform/ui-kit';\nimport { BaseFieldDefinitionService } from './base-field-definition.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FieldDefinitionManagerService {\n  private fieldServices = new Map<string, BaseFieldDefinitionService>();\n\n  constructor(\n    attachmentFieldDefinitionService: AttachmentFieldDefinitionService,\n    booleanFieldDefinitionService: BooleanFieldDefinitionService,\n    characterFieldDefinitionService: CharacterFieldDefinitionService,\n    colorFieldDefinitionService: ColorFieldDefinitionService,\n    dateOnlyFieldDefinitionService: DateOnlyFieldDefinitionService,\n    decimalFieldDefinitionService: DecimalFieldDefinitionService,\n    integerFieldDefinitionService: IntegerFieldDefinitionService,\n    secureFieldDefinitionService: SecureFieldDefinitionService,\n    selectionFieldDefinitionService: SelectionFieldDefinitionService\n  ) {\n    this.fieldServices.set(RX_CONFIG_DESIGNER.dataTypes.attachment.resourceType, attachmentFieldDefinitionService);\n    this.fieldServices.set(RX_RECORD_DEFINITION.dataTypes.boolean.resourceType, booleanFieldDefinitionService);\n    this.fieldServices.set(RX_RECORD_DEFINITION.dataTypes.character.resourceType, characterFieldDefinitionService);\n    this.fieldServices.set(RX_CONFIG_DESIGNER.dataTypes.color.resourceType, colorFieldDefinitionService);\n    this.fieldServices.set(RX_RECORD_DEFINITION.dataTypes.dateOnly.resourceType, dateOnlyFieldDefinitionService);\n    this.fieldServices.set(RX_RECORD_DEFINITION.dataTypes.decimal.resourceType, decimalFieldDefinitionService);\n    this.fieldServices.set(RX_RECORD_DEFINITION.dataTypes.integer.resourceType, integerFieldDefinitionService);\n    this.fieldServices.set(RX_CONFIG_DESIGNER.dataTypes.secure.resourceType, secureFieldDefinitionService);\n    this.fieldServices.set(RX_RECORD_DEFINITION.dataTypes.selection.resourceType, selectionFieldDefinitionService);\n  }\n\n  getNewFieldDefinitionModel(\n    resourceType: string,\n    fieldProperties: Partial<IConfigFieldDefinitionModel>\n  ): IConfigFieldDefinitionModel {\n    return this.fieldServices.get(resourceType).getNewFieldDefinitionModel(fieldProperties);\n  }\n\n  getFieldInspectorConfig(resourceType: string, options: IFieldOptions): IFormBuilderConfig {\n    return this.fieldServices.get(resourceType).getFieldInspectorConfig(options);\n  }\n\n  validate(fieldModel: IConfigFieldDefinitionModel): IValidationIssue[] {\n    return this.fieldServices.get(fieldModel.dataType).validate(fieldModel);\n  }\n}\n"]}