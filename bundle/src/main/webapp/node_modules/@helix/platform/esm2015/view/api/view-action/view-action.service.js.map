{"version":3,"file":"view-action.service.js","sourceRoot":"","sources":["../../../../../../../libs/platform/view/api/view-action/view-action.service.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,2BAA2B,EAAE,MAAM,gCAAgC,CAAC;AAC7E,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC3C,OAAO,EAAE,KAAK,EAAc,UAAU,EAAE,MAAM,MAAM,CAAC;AACrD,OAAO,EAAgB,YAAY,EAAE,MAAM,4BAA4B,CAAC;;;;AAKxE,MAAM,OAAO,mBAAmB;IAC9B,YAAoB,2BAAwD,EAAU,YAA0B;QAA5F,gCAA2B,GAA3B,2BAA2B,CAA6B;QAAU,iBAAY,GAAZ,YAAY,CAAc;IAAG,CAAC;IAEpH,OAAO,CAAC,UAAkB,EAAE,UAAyB;QACnD,MAAM,oBAAoB,GAAG,IAAI,CAAC,2BAA2B,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAE9E,IAAI,oBAAoB,EAAE;YACxB,IAAI,UAAU,CAAC,WAAW,KAAK,KAAK,EAAE;gBACpC,OAAO,oBAAoB,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;aACzD;iBAAM;gBACL,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,eAAe,UAAU,WAAW,CAAC,CAAC;gBAC9D,OAAO,KAAK,CAAC;aACd;SACF;aAAM;YACL,OAAO,UAAU,CAAC,eAAe,UAAU,aAAa,CAAC,CAAC;SAC3D;IACH,CAAC;;gHAhBU,mBAAmB;oHAAnB,mBAAmB,cAFlB,MAAM;2FAEP,mBAAmB;kBAH/B,UAAU;mBAAC;oBACV,UAAU,EAAE,MAAM;iBACnB","sourcesContent":["import { RxViewActionRegistryService } from './view-action-registry.service';\nimport { Injectable } from '@angular/core';\nimport { EMPTY, Observable, throwError } from 'rxjs';\nimport { IPlainObject, RxLogService } from '@helix/platform/shared/api';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxViewActionService {\n  constructor(private rxViewActionRegistryService: RxViewActionRegistryService, private rxLogService: RxLogService) {}\n\n  execute(actionName: string, parameters?: IPlainObject): Observable<any> {\n    const viewActionDescriptor = this.rxViewActionRegistryService.get(actionName);\n\n    if (viewActionDescriptor) {\n      if (parameters.$condition$ !== false) {\n        return viewActionDescriptor.service.execute(parameters);\n      } else {\n        this.rxLogService.debug(`View Action ${actionName} skipped.`);\n        return EMPTY;\n      }\n    } else {\n      return throwError(`View Action ${actionName} not found.`);\n    }\n  }\n}\n"]}