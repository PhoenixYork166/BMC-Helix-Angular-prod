{"version":3,"file":"view-designer-ui.reducer.js","sourceRoot":"","sources":["../../../../../../../libs/platform/view/designer/+state/view-designer-ui.reducer.ts"],"names":[],"mappings":"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","sourcesContent":["import { createReducer, on } from '@ngrx/store';\n\nimport * as ViewDesignerActions from './view-designer.actions';\nimport * as ViewComponentActions from './view-component.actions';\nimport { IViewDesignerUiState } from '../interfaces/view-designer-ui-state.interface';\n\nexport function getInitialState(): IViewDesignerUiState {\n  return {\n    selectedComponentGuid: null,\n    selectedInspectorTabId: 0,\n    currentBundleId: null,\n    isViewDefinitionLoading: false,\n    areViewModelsReady: false,\n    friendlyBundleName: null\n  };\n}\n\nexport const reducer = createReducer(\n  getInitialState(),\n\n  on(ViewDesignerActions.initViewDesigner, (_, { payload }) => {\n    return {\n      ...getInitialState(),\n      currentBundleId: payload.bundleId\n    };\n  }),\n\n  on(ViewDesignerActions.destroyViewDesigner, getInitialState),\n\n  on(ViewComponentActions.selectComponent, (state, { guid }) => {\n    return {\n      ...state,\n      selectedComponentGuid: guid\n    };\n  }),\n\n  on(ViewDesignerActions.selectInspectorTab, (state, { tabId }) => {\n    return {\n      ...state,\n      selectedInspectorTabId: tabId\n    };\n  }),\n\n  on(ViewComponentActions.componentsRemoved, (state, { guids }) => {\n    if (guids.includes(state.selectedComponentGuid)) {\n      return {\n        ...state,\n        selectedComponentGuid: null\n      };\n    } else {\n      return {\n        ...state\n      };\n    }\n  }),\n\n  on(ViewDesignerActions.friendlyBundleNameLoadSuccess, (state, { friendlyBundleName }) => {\n    return {\n      ...state,\n      friendlyBundleName: friendlyBundleName\n    };\n  }),\n\n  on(ViewDesignerActions.friendlyBundleNameLoadError, (state) => {\n    return {\n      ...state,\n      friendlyBundleName: null\n    };\n  }),\n\n  on(ViewDesignerActions.saveViewDefinition, ViewDesignerActions.loadViewDefinition, (state) => {\n    return {\n      ...state,\n      isViewDefinitionLoading: true,\n      areViewModelsReady: false\n    };\n  }),\n\n  on(\n    ViewDesignerActions.viewDefinitionSaveSuccess,\n    ViewDesignerActions.viewDefinitionLoadSuccess,\n    ViewDesignerActions.viewDefinitionLoadError,\n    (state) => {\n      return {\n        ...state,\n        isViewDefinitionLoading: false\n      };\n    }\n  ),\n\n  on(ViewDesignerActions.viewDefinitionSaveError, (state) => {\n    return {\n      ...state,\n      isViewDefinitionLoading: false,\n      areViewModelsReady: true\n    };\n  }),\n\n  on(ViewDesignerActions.viewModelsUpdatedAfterSave, ViewDesignerActions.viewModelsInitialized, (state) => {\n    return {\n      ...state,\n      areViewModelsReady: true\n    };\n  }),\n\n  on(ViewComponentActions.initializeComponentModels, (state) => {\n    return {\n      ...state,\n      areViewModelsReady: false\n    };\n  })\n);\n\nexport function viewDesignerUiReducer(state, action) {\n  return reducer(state, action);\n}\n"]}