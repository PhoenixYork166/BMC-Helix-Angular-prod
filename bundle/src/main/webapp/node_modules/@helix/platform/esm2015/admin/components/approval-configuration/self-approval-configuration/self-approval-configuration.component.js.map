{"version":3,"file":"self-approval-configuration.component.js","sourceRoot":"","sources":["../../../../../../../../libs/platform/admin/components/approval-configuration/self-approval-configuration/self-approval-configuration.component.ts","../../../../../../../../libs/platform/admin/components/approval-configuration/self-approval-configuration/self-approval-configuration.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, Injector, Input, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport {\n  IExpressionEditorPropertyChange,\n  IExpressionFormControlOptions,\n  RxExpressionEditorService\n} from '@helix/platform/shared/components';\nimport { RxApprovalExpressionConfigurator } from '../approval-expression-configurator';\nimport {\n  ExpressionOperatorGroup,\n  IBundleInfo,\n  IDataPageResult,\n  RxDefinitionNameService,\n  RxGlobalCacheService,\n  RxNotificationService\n} from '@helix/platform/shared/api';\nimport { forkJoin, Observable, of } from 'rxjs';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IRecordDefinition, RX_RECORD_DEFINITION, RxRecordDefinitionCacheService } from '@helix/platform/record/api';\nimport { Alert, RxSelectOption, RxSelectOptionsGroup } from '@bmc-ux/adapt-angular';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport {\n  IRecordGridColumn,\n  IRecordGridConfig,\n  IRecordGridDataPageParams,\n  RecordGridComponent,\n  RowSelectionMode\n} from '@helix/platform/view/components';\nimport { RX_APPROVAL_CONFIGURATION } from '../approval-configuration.constant';\nimport { RxApprovalMappingDataPageService } from './approval-mapping-data-page.service';\nimport { IFieldResponse, ISelfApprovalConfiguration } from '../approval-configuration.types';\nimport { RxApprovalConfigurationService } from '../approval-configuration.service';\nimport { IDialogApi, RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { chain, find, get, map as _map, omit } from 'lodash';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport { map } from 'rxjs/operators';\nimport { DataCellTemplateParams } from '@bmc-ux/adapt-table';\n\n@Component({\n  selector: 'rx-self-approval-configuration',\n  templateUrl: './self-approval-configuration.component.html',\n  styleUrls: ['./self-approval-configuration.component.scss']\n})\nexport class SelfApprovalConfigurationComponent implements OnInit {\n  private dialogApi: IDialogApi;\n\n  @Input()\n  registeredRecordDefinitionName: string;\n\n  @ViewChild('definitionNameCellTemplate', { static: true })\n  definitionNameCellTemplate: TemplateRef<DataCellTemplateParams>;\n\n  constructor(\n    private injector: Injector,\n    private formBuilder: FormBuilder,\n    private rxModalService: RxModalService,\n    protected translateService: TranslateService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxNotificationService: RxNotificationService,\n    protected rxDefinitionNameService: RxDefinitionNameService,\n    private rxExpressionEditorService: RxExpressionEditorService,\n    private rxApprovalConfigurationService: RxApprovalConfigurationService,\n    protected rxRecordDefinitionCacheService: RxRecordDefinitionCacheService,\n    private rxApprovalMappingDataPageService: RxApprovalMappingDataPageService\n  ) {}\n\n  protected expressionConfigurator: RxApprovalExpressionConfigurator;\n\n  alertConfig: Alert = {\n    content: this.translateService.instant('com.bmc.arsys.rx.client.approval.configuration.self-approval.information'),\n    type: 'inline',\n    variant: 'info'\n  };\n\n  options: IExpressionFormControlOptions;\n  selfApprovalConfigurationForm: FormGroup;\n\n  @ViewChild('grid', { static: true })\n  grid: RecordGridComponent;\n\n  gridConfig: Observable<IRecordGridConfig>;\n  processOptions: RxSelectOptionsGroup[] = [];\n  loadingProcesses: boolean;\n  isUpdateButtonVisible: boolean;\n\n  ngOnInit(): void {\n    this.isUpdateButtonVisible = false;\n    this.expressionConfigurator = new RxApprovalExpressionConfigurator(this.injector);\n\n    this.expressionConfigurator.configureForProperty({\n      propertyPath: 'approvalQualification',\n      dataDictionary$: this.expressionConfigurator.approvalExpressionDataDictionary(\n        this.registeredRecordDefinitionName\n      ),\n      operators: this.expressionConfigurator.getOperatorRowsByGroup(ExpressionOperatorGroup.All)\n    });\n\n    this.options = {\n      label: this.translateService.instant(\n        'com.bmc.arsys.rx.client.approval.configuration.self-approval.approval-qualification-field.label'\n      ),\n      dataDictionary$: this.expressionConfigurator.getDataDictionary('approvalQualification'),\n      operators: this.expressionConfigurator.getOperators('approvalQualification'),\n      isRequired: true\n    };\n\n    this.selfApprovalConfigurationForm = this.formBuilder.group({\n      qualificationExpression: null,\n      precedence: null,\n      auditInformation: null,\n      process: []\n    });\n\n    this.gridConfig = of({\n      actionButtons: [\n        {\n          label: this.translateService.instant('com.bmc.arsys.rx.client.common.edit.label'),\n          style: 'tertiary',\n          icon: 'pencil',\n          actions: [\n            {\n              name: this.setCurrentRecordValuesToForm.bind(this)\n            }\n          ],\n          disabled: () => this.grid.api.getSelectedRowCount() > 1\n        },\n        {\n          label: this.translateService.instant('com.bmc.arsys.rx.client.common.delete.label'),\n          style: 'tertiary',\n          icon: 'trash',\n          actions: [\n            {\n              name: this.deleteConfiguration.bind(this)\n            }\n          ]\n        }\n      ],\n      recordDefinitionName: RX_APPROVAL_CONFIGURATION.selfApproval.mapping.name,\n      enableRowSelection: RowSelectionMode.Multiple,\n      getData: (queryParams: IRecordGridDataPageParams) => this.getData(queryParams),\n      getRecordDefinition: () => of(this.getRecordDefinition()),\n      columns: this.getColumns(),\n      styles: 'flex-fill'\n    });\n\n    this.grid.adaptTable.selectionChange.subscribe(() => {\n      this.isUpdateButtonVisible = false;\n      this.clearFormValues();\n    });\n\n    this.loadProcesses();\n  }\n\n  private getData(queryParams: IRecordGridDataPageParams): Observable<IDataPageResult> {\n    const params = {\n      ...omit(queryParams, ['searchText']),\n      [RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.recordDefinition]: this.registeredRecordDefinitionName\n    };\n\n    return this.rxApprovalMappingDataPageService.get({ params });\n  }\n\n  private loadProcesses(): void {\n    this.loadingProcesses = true;\n\n    const queryParams = {\n      recorddefinition: RX_APPROVAL_CONFIGURATION.selfApproval.flowList.name,\n      propertySelection: [\n        RX_APPROVAL_CONFIGURATION.selfApproval.flowList.fields.recordDefinition,\n        RX_APPROVAL_CONFIGURATION.selfApproval.flowList.fields.selfApprovalFlowName,\n        RX_APPROVAL_CONFIGURATION.selfApproval.flowList.fields.selfApprovalFlowProcessDefinitionGuid\n      ].join(',')\n    };\n\n    this.rxApprovalMappingDataPageService\n      .get({ params: queryParams })\n      .pipe(\n        map((response: IDataPageResult) => {\n          const bundleInfoRequests: Observable<IBundleInfo>[] = chain(response.data)\n            .filter({\n              [RX_APPROVAL_CONFIGURATION.selfApproval.flowList.fields.recordDefinition]:\n                this.registeredRecordDefinitionName\n            })\n            .map((processData: IFieldResponse) => {\n              const id = this.rxDefinitionNameService.getBundleId(\n                processData[RX_APPROVAL_CONFIGURATION.selfApproval.flowList.fields.selfApprovalFlowName]\n              );\n\n              return this.rxGlobalCacheService.getBundleFriendlyName(id).pipe(\n                map((friendlyName) => ({\n                  id,\n                  friendlyName\n                }))\n              );\n            })\n            .value();\n\n          forkJoin(bundleInfoRequests).subscribe(\n            (bundleIdNameData: [IBundleInfo]) => {\n              this.processOptions = chain(response.data as IFieldResponse[])\n                .filter({\n                  [RX_APPROVAL_CONFIGURATION.selfApproval.flowList.fields.recordDefinition]:\n                    this.registeredRecordDefinitionName\n                })\n                .map((processData: IFieldResponse) => {\n                  return {\n                    id: this.rxDefinitionNameService.getBundleId(\n                      processData[RX_APPROVAL_CONFIGURATION.selfApproval.flowList.fields.selfApprovalFlowName]\n                    ),\n                    processGuid:\n                      processData[\n                        RX_APPROVAL_CONFIGURATION.selfApproval.flowList.fields.selfApprovalFlowProcessDefinitionGuid\n                      ],\n                    value: processData[RX_APPROVAL_CONFIGURATION.selfApproval.flowList.fields.selfApprovalFlowName],\n                    displayValue: this.rxDefinitionNameService.getDisplayName(\n                      processData[RX_APPROVAL_CONFIGURATION.selfApproval.flowList.fields.selfApprovalFlowName]\n                    )\n                  };\n                })\n                .groupBy('id')\n                .map((options, id) => {\n                  return {\n                    name: find(bundleIdNameData, { id }).friendlyName,\n                    children: _map(options, (option) => {\n                      return {\n                        value: option.value,\n                        displayValue: option.displayValue,\n                        processGuid: option.processGuid\n                      };\n                    })\n                  };\n                })\n                .value();\n            },\n            () => {},\n            () => (this.loadingProcesses = false)\n          );\n        })\n      )\n      .subscribe();\n  }\n\n  onEvent(): void {\n    this.selectApprovalQualificationExpression();\n  }\n\n  private selectApprovalQualificationExpression(): void {\n    this.rxExpressionEditorService\n      .openEditor(\n        {\n          property: {\n            path: 'approvalQualification',\n            value: this.selfApprovalConfigurationForm.value.qualificationExpression,\n            label: this.translateService.instant(\n              'com.bmc.arsys.rx.client.approval.configuration.self-approval.approval-qualification-field.label'\n            )\n          },\n          expressionConfigurator: this.expressionConfigurator,\n          legend: [\n            {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.keyword.label'),\n              icon: 'd-icon-dollar'\n            },\n            {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.field.label'),\n              icon: 'd-icon-field_text'\n            }\n          ]\n        },\n        (dialogApi: IDialogApi) => (this.dialogApi = dialogApi)\n      )\n      .subscribe((expression: IExpressionEditorPropertyChange) => {\n        this.dialogApi = null;\n        this.selfApprovalConfigurationForm.get('qualificationExpression').setValue(expression.value);\n        this.selfApprovalConfigurationForm.get('qualificationExpression').markAsDirty();\n      });\n  }\n\n  createSelfApprovalConfiguration(): void {\n    this.selfApprovalConfigurationForm.markAsPristine();\n    const configuration: ISelfApprovalConfiguration = this.getSelfApprovalConfiguration();\n\n    this.rxApprovalConfigurationService.createSelfApprovalConfiguration(configuration).subscribe(() => {\n      this.rxNotificationService.addSuccessMessage(\n        this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.configuration.self-approval.expression-saved.message'\n        )\n      );\n\n      this.clearFormValues();\n      this.grid.api.refresh().subscribe();\n    });\n  }\n\n  updateSelfApprovalConfiguration(): void {\n    this.selfApprovalConfigurationForm.markAsPristine();\n    const configuration: ISelfApprovalConfiguration = this.getSelfApprovalConfiguration();\n    configuration.id = this.grid.api.getFirstSelectedRow()[RX_RECORD_DEFINITION.coreFieldIds.id];\n\n    this.rxApprovalConfigurationService\n      .updateSelfApprovalConfiguration(\n        this.grid.api.getFirstSelectedRow()[RX_RECORD_DEFINITION.coreFieldIds.id],\n        configuration\n      )\n      .subscribe(() => {\n        this.clearFormValues();\n        this.isUpdateButtonVisible = false;\n\n        this.rxNotificationService.addSuccessMessage(\n          this.translateService.instant(\n            'com.bmc.arsys.rx.client.approval.configuration.self-approval.expression-updated.message'\n          )\n        );\n\n        this.grid.api.refresh().subscribe();\n      });\n  }\n\n  private getSelfApprovalConfiguration(): ISelfApprovalConfiguration {\n    const selectedProcess: RxSelectOption = get(this.selfApprovalConfigurationForm.get('process').value, '[0]', {});\n\n    return {\n      auditText: this.selfApprovalConfigurationForm.value.auditInformation,\n      precedence: this.selfApprovalConfigurationForm.value.precedence,\n      qualification: this.selfApprovalConfigurationForm.value.qualificationExpression,\n      description: this.registeredRecordDefinitionName,\n      recordDefinition: this.registeredRecordDefinitionName,\n      approvalFlowName: selectedProcess.value || '',\n      approvalFlowProcessDefinitionGUID: selectedProcess.processGuid || '',\n      approvalMappingRecordDefinition: RX_APPROVAL_CONFIGURATION.selfApproval.mapping.name\n    };\n  }\n\n  private setCurrentRecordValuesToForm(): void {\n    this.isUpdateButtonVisible = true;\n    const selectedRow: IRowDataItem = this.grid.api.getFirstSelectedRow();\n\n    this.selfApprovalConfigurationForm\n      .get('qualificationExpression')\n      .setValue(selectedRow[RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.qualification]);\n\n    this.selfApprovalConfigurationForm\n      .get('precedence')\n      .setValue(selectedRow[RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.precedence]);\n\n    this.selfApprovalConfigurationForm\n      .get('auditInformation')\n      .setValue(selectedRow[RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.auditInformation]);\n\n    const process: RxSelectOption = selectedRow[RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.approvalFlowName]\n      ? [\n          {\n            value: selectedRow[RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.approvalFlowName],\n            displayValue: this.rxDefinitionNameService.getDisplayName(\n              selectedRow[RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.approvalFlowName]\n            )\n          }\n        ]\n      : [];\n\n    this.selfApprovalConfigurationForm.get('process').setValue(process);\n  }\n\n  private deleteConfiguration(): void {\n    this.rxModalService\n      .confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.configuration.self-approval.expression-delete-confirmation.message'\n        )\n      })\n      .then((result: boolean) => {\n        if (result) {\n          const deleteRequests$: Observable<any>[] = this.grid.api\n            .getSelectedRows()\n            .map((record: IRowDataItem) =>\n              this.rxApprovalConfigurationService.deleteSelfApprovalConfiguration(\n                record[RX_RECORD_DEFINITION.coreFieldIds.id]\n              )\n            );\n\n          forkJoin(deleteRequests$).subscribe(() => {\n            this.rxNotificationService.addSuccessMessage(\n              this.translateService.instant(\n                'com.bmc.arsys.rx.client.approval.configuration.self-approval.expression-deleted.message'\n              )\n            );\n\n            this.clearFormValues();\n            this.isUpdateButtonVisible = false;\n            this.grid.api.refresh().subscribe();\n          });\n        }\n      });\n  }\n\n  clearFormValues(): void {\n    this.selfApprovalConfigurationForm.reset();\n    this.selfApprovalConfigurationForm.get('process').setValue([]);\n  }\n\n  optionFormatter(option: RxSelectOption): string {\n    return option.displayValue;\n  }\n\n  private getRecordDefinition(): IRecordDefinition {\n    return {\n      fieldDefinitions: [\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.hiddenQualification,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.precedence,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.integer\n        },\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.auditInformation,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.approvalFlowName,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.qualification,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.recordDefinition,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.approvalFlowGuid,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_RECORD_DEFINITION.coreFieldIds.id,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        }\n      ]\n    };\n  }\n\n  private getColumns(): IRecordGridColumn[] {\n    return [\n      {\n        index: 0,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.hiddenQualification),\n        sortable: false,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.configuration.selfApproval.grid.column.approvalExpression'\n        )\n      },\n      {\n        index: 1,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.precedence),\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.configuration.selfApproval.grid.column.precedence'\n        )\n      },\n      {\n        index: 2,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.auditInformation),\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.configuration.selfApproval.grid.column.auditInformation'\n        )\n      },\n      {\n        index: 3,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.approvalFlowName),\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.configuration.selfApproval.grid.column.processFlow'\n        )\n      },\n      {\n        index: 4,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.qualification),\n        visible: false,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.configuration.selfApproval.grid.column.expressionValue'\n        )\n      },\n      {\n        index: 5,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.recordDefinition),\n        visible: false,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.configuration.selfApproval.grid.column.recordDefinition'\n        ),\n        cellTemplate: this.definitionNameCellTemplate\n      },\n      {\n        index: 6,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.mapping.fields.approvalFlowGuid),\n        visible: false,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.configuration.selfApproval.grid.column.processFlowGUID'\n        )\n      },\n      {\n        index: 7,\n        fieldId: String(RX_RECORD_DEFINITION.coreFieldIds.id),\n        visible: false,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.configuration.selfApproval.grid.column.id'\n        )\n      }\n    ];\n  }\n\n  isDirty(): boolean {\n    return this.selfApprovalConfigurationForm.dirty || Boolean(this.dialogApi?.isDirty());\n  }\n}\n","<adapt-alert [config]=\"alertConfig\"></adapt-alert>\n\n<form [formGroup]=\"selfApprovalConfigurationForm\">\n  <rx-expression-form-control\n    class=\"d-block form-group\"\n    [options]=\"options\"\n    formControlName=\"qualificationExpression\"\n    (events)=\"onEvent()\"\n    required=\"true\"\n  ></rx-expression-form-control>\n\n  <div class=\"row\">\n    <div class=\"col-md-4 col-12\">\n      <div class=\"row\">\n        <div class=\"col-12 form-group\">\n          <adapt-rx-counter\n            rx-id=\"precedence\"\n            label=\"{{ 'com.bmc.arsys.rx.client.approval.configuration.precedence' | translate }}\"\n            required=\"true\"\n            formControlName=\"precedence\"\n          >\n          </adapt-rx-counter>\n        </div>\n\n        <div class=\"col-12 form-group\">\n          <adapt-rx-select\n            class=\"d-block\"\n            label=\"{{ 'com.bmc.arsys.rx.client.approval.configuration.selfApproval.process' | translate }}\"\n            rx-id=\"process\"\n            formControlName=\"process\"\n            [options]=\"processOptions\"\n            enableFilter=\"true\"\n            emptyOption=\"true\"\n            [optionFormatter]=\"optionFormatter\"\n            [loadingState]=\"loadingProcesses\"\n          >\n          </adapt-rx-select>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"col-md-8 col-12 form-group\">\n      <adapt-rx-textarea\n        label=\"{{ 'com.bmc.arsys.rx.client.approval.configuration.auditInformation' | translate }}\"\n        formControlName=\"auditInformation\"\n        rx-id=\"audit-information\"\n        required=\"true\"\n        rows=\"5\"\n      >\n      </adapt-rx-textarea>\n    </div>\n  </div>\n\n  <button\n    class=\"d-icon-plus_adapt form-group\"\n    type=\"button\"\n    adapt-button\n    btn-type=\"primary\"\n    rx-id=\"add-button\"\n    size=\"small\"\n    [hidden]=\"isUpdateButtonVisible\"\n    [disabled]=\"selfApprovalConfigurationForm.pristine || selfApprovalConfigurationForm.invalid\"\n    (click)=\"createSelfApprovalConfiguration()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.add.label' | translate }}\n  </button>\n\n  <button\n    class=\"form-group\"\n    type=\"button\"\n    adapt-button\n    btn-type=\"primary\"\n    rx-id=\"update-button\"\n    size=\"small\"\n    [hidden]=\"!isUpdateButtonVisible\"\n    [disabled]=\"selfApprovalConfigurationForm.pristine || selfApprovalConfigurationForm.invalid\"\n    (click)=\"updateSelfApprovalConfiguration()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.approval.update.button.label' | translate }}\n  </button>\n</form>\n\n<rx-record-grid #grid [config]=\"gridConfig\"></rx-record-grid>\n\n<ng-template #definitionNameCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  {{ dataItem[column.field] | rxDefinitionNamePipe }}\n</ng-template>\n"]}