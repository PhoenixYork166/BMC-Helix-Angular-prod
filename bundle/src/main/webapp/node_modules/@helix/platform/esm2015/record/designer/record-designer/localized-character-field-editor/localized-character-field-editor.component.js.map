{"version":3,"file":"localized-character-field-editor.component.js","sourceRoot":"","sources":["../../../../../../../../libs/platform/record/designer/record-designer/localized-character-field-editor/localized-character-field-editor.component.ts","../../../../../../../../libs/platform/record/designer/record-designer/localized-character-field-editor/localized-character-field-editor.component.html"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AACjD,OAAO,EAAE,iBAAiB,EAAE,MAAM,gBAAgB,CAAC;AACnD,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAC;AAC9B,OAAO,EAAE,cAAc,EAAE,MAAM,wBAAwB,CAAC;AACxD,OAAO,EAAE,0CAA0C,EAAE,aAAa,EAAE,MAAM,mCAAmC,CAAC;AAC9G,OAAO,EAAE,gBAAgB,EAAE,MAAM,qBAAqB,CAAC;;;;AAevD,MAAM,OAAO,sCAAuC,SAAQ,aAA2B;IAIrF,YAAoB,cAA8B,EAAU,gBAAkC;QAC5F,KAAK,EAAE,CAAC;QADU,mBAAc,GAAd,cAAc,CAAgB;QAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;IAE9F,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,cAAc;aAChB,SAAS,CAAC;YACT,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAClC,gFAAgF,CACjF;YACD,IAAI,EAAE;gBACJ,aAAa,oBAAO,IAAI,CAAC,KAAK,CAAE;gBAChC,iBAAiB,EAAE,IAAI;gBACvB,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC,UAAU;aACpC;YACD,IAAI,EAAE,IAAI;YACV,OAAO,EAAE,0CAA0C;SACpD,CAAC;aACD,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;YACb,IAAI,IAAI,EAAE;gBACR,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC;aACjC;QACH,CAAC,CAAC;aACD,KAAK,CAAC,IAAI,CAAC,CAAC;IACjB,CAAC;;mIA5BU,sCAAsC;uHAAtC,sCAAsC,8FARtC;QACT;YACE,OAAO,EAAE,iBAAiB;YAC1B,WAAW,EAAE,sCAAsC;YACnD,KAAK,EAAE,IAAI;SACZ;KACF,iDClBH,2VAWA;2FDSa,sCAAsC;kBAXlD,SAAS;mBAAC;oBACT,QAAQ,EAAE,qCAAqC;oBAC/C,WAAW,EAAE,mDAAmD;oBAChE,SAAS,EAAE;wBACT;4BACE,OAAO,EAAE,iBAAiB;4BAC1B,WAAW,wCAAwC;4BACnD,KAAK,EAAE,IAAI;yBACZ;qBACF;iBACF;oIAGC,OAAO;sBADN,KAAK","sourcesContent":["import { Component, Input } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { noop } from 'lodash';\nimport { RxModalService } from '@helix/platform/ui-kit';\nimport { LocalizedCharacterFieldValueModalComponent, ValueAccessor } from '@helix/platform/shared/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IPlainObject } from '@helix/platform/shared/api';\nimport { ILocalizedCharacterFieldEditorOptions } from './localized-character-field-editor.interface';\n\n@Component({\n  selector: 'rx-localized-character-field-editor',\n  templateUrl: './localized-character-field-editor.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: LocalizedCharacterFieldEditorComponent,\n      multi: true\n    }\n  ]\n})\nexport class LocalizedCharacterFieldEditorComponent extends ValueAccessor<IPlainObject> {\n  @Input()\n  options: ILocalizedCharacterFieldEditorOptions;\n\n  constructor(private rxModalService: RxModalService, private translateService: TranslateService) {\n    super();\n  }\n\n  localize(): void {\n    this.rxModalService\n      .openModal({\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.view-components.localized-character-field.dialog.title'\n        ),\n        data: {\n          valueByLocale: { ...this.value },\n          hideCurrentLocale: true,\n          isReadOnly: this.options.isReadOnly\n        },\n        size: 'sm',\n        content: LocalizedCharacterFieldValueModalComponent\n      })\n      .then((data) => {\n        if (data) {\n          this.value = data.valueByLocale;\n        }\n      })\n      .catch(noop);\n  }\n}\n","<div>\n  <button\n    type=\"button\"\n    class=\"localize-button btn btn-link focusable d-icon-left-pencil p-0 float-end\"\n    (click)=\"localize()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.view-components.localized-character-field.button.localize.label' | translate }}\n  </button>\n\n  <div class=\"pl-1\">{{ value['en-US'] }}</div>\n</div>\n"]}