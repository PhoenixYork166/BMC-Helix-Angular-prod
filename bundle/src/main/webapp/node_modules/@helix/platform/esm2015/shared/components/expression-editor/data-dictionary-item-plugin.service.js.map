{"version":3,"file":"data-dictionary-item-plugin.service.js","sourceRoot":"","sources":["../../../../../../../libs/platform/shared/components/expression-editor/data-dictionary-item-plugin.service.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC3C,OAAO,EAAE,GAAG,EAAE,MAAM,QAAQ,CAAC;AAC7B,OAAO,EAAE,8BAA8B,EAAE,MAAM,wCAAwC,CAAC;;AAKxF,MAAM,OAAO,iCAAiC;IAC5C;QACE,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,IAAI,EAAE;YACxD,QAAQ,EAAE,QAAQ;YAElB,IAAI,CAAC,MAAuB;gBAC1B,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,gCAAgC,EAAE;oBACnD,MAAM,EAAE,IAAI;oBAEZ,MAAM,CAAC,OAAoC;wBACzC,OAAO,GAAG,CAAC,OAAO,CAAC,UAAU,EAAE,8BAA8B,CAAC,mBAAmB,CAAC,CAAC;oBACrF,CAAC;oBAED,QAAQ,CAAC,OAAoC;wBAC3C,OAAO,IAAI,QAAQ,CAAC,UAAU,CAAC,KAAK,CAClC,OAAO,CAAC,UAAU,CAAC,8BAA8B,CAAC,mBAAmB,CAAC,CACvE,CAAC;oBACJ,CAAC;oBAED,aAAa;oBACb,iHAAiH;oBACjH,gBAAgB;wBACd,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,8BAA8B,CAAC,mBAAmB,CAAC,CAAC;oBAC1F,CAAC;iBACF,CAAC,CAAC;YACL,CAAC;SACF,CAAC,CAAC;IACL,CAAC;;8HA3BU,iCAAiC;kIAAjC,iCAAiC,cAFhC,MAAM;2FAEP,iCAAiC;kBAH7C,UAAU;mBAAC;oBACV,UAAU,EAAE,MAAM;iBACnB","sourcesContent":["import { Injectable } from '@angular/core';\nimport { has } from 'lodash';\nimport { RX_DATA_DICTIONARY_ITEM_PLUGIN } from './data-dictionary-item-plugin.constant';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxDataDictionaryItemPluginService {\n  constructor() {\n    CKEDITOR.plugins.add(RX_DATA_DICTIONARY_ITEM_PLUGIN.name, {\n      requires: 'widget',\n\n      init(editor: CKEDITOR.editor): void {\n        editor.widgets.add('rx-data-dictionary-item-widget', {\n          inline: true,\n\n          upcast(element: CKEDITOR.htmlParser.element): boolean {\n            return has(element.attributes, RX_DATA_DICTIONARY_ITEM_PLUGIN.widgetAttributeName);\n          },\n\n          downcast(element: CKEDITOR.htmlParser.element): CKEDITOR.htmlParser.cdata {\n            return new CKEDITOR.htmlParser.cdata(\n              element.attributes[RX_DATA_DICTIONARY_ITEM_PLUGIN.widgetAttributeName]\n            );\n          },\n\n          // @ts-ignore\n          // https://ckeditor.com/docs/ckeditor4/latest/api/CKEDITOR_plugins_widget_definition.html#method-getClipboardHtml\n          getClipboardHtml(): string {\n            return this.element.getAttributes()[RX_DATA_DICTIONARY_ITEM_PLUGIN.widgetAttributeName];\n          }\n        });\n      }\n    });\n  }\n}\n"]}