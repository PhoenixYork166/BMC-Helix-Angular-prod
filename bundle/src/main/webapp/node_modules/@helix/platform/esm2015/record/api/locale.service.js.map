{"version":3,"file":"locale.service.js","sourceRoot":"","sources":["../../../../../../libs/platform/record/api/locale.service.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,oBAAoB,EAAE,MAAM,8BAA8B,CAAC;AACpE,OAAO,EAAE,+BAA+B,EAAE,MAAM,qCAAqC,CAAC;AACtF,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC3C,OAAO,EAAE,WAAW,EAAE,MAAM,gBAAgB,CAAC;;;AAK7C,MAAM,OAAO,eAAe;IAG1B,YAAoB,+BAAgE;QAAhE,oCAA+B,GAA/B,+BAA+B,CAAiC;IAAG,CAAC;IAExF,UAAU;QACR,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,+BAA+B;iBAChD,IAAI,CAAC;gBACJ,MAAM,EAAE;oBACN,gBAAgB,EAAE,oBAAoB,CAAC,sBAAsB,CAAC,oBAAoB;oBAClF,iBAAiB,EAAE;wBACjB,oBAAoB,CAAC,sBAAsB,CAAC,WAAW;wBACvD,oBAAoB,CAAC,sBAAsB,CAAC,WAAW;qBACxD,CAAC,IAAI,CAAC,GAAG,CAAC;oBACX,MAAM,EAAE,oBAAoB,CAAC,sBAAsB,CAAC,WAAW;iBAChE;aACF,CAAC;iBACD,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;SACzB;QAED,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;;4GAtBU,eAAe;gHAAf,eAAe,cAFd,MAAM;2FAEP,eAAe;kBAH3B,UAAU;mBAAC;oBACV,UAAU,EAAE,MAAM;iBACnB","sourcesContent":["import { Observable } from 'rxjs';\nimport { IDataPageResult } from '@helix/platform/shared/api';\nimport { RX_RECORD_DEFINITION } from './record-definition.constant';\nimport { RxRecordInstanceDataPageService } from './record-instance-data-page.service';\nimport { Injectable } from '@angular/core';\nimport { shareReplay } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxLocaleService {\n  private locales: Observable<IDataPageResult>;\n\n  constructor(private rxRecordInstanceDataPageService: RxRecordInstanceDataPageService) {}\n\n  getLocales(): Observable<IDataPageResult> {\n    if (!this.locales) {\n      this.locales = this.rxRecordInstanceDataPageService\n        .post({\n          params: {\n            recorddefinition: RX_RECORD_DEFINITION.supportedSystemLocales.recordDefinitionName,\n            propertySelection: [\n              RX_RECORD_DEFINITION.supportedSystemLocales.nameFieldId,\n              RX_RECORD_DEFINITION.supportedSystemLocales.codeFieldId\n            ].join(','),\n            sortBy: RX_RECORD_DEFINITION.supportedSystemLocales.nameFieldId\n          }\n        })\n        .pipe(shareReplay(1));\n    }\n\n    return this.locales;\n  }\n}\n"]}