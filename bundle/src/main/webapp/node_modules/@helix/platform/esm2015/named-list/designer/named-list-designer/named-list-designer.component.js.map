{"version":3,"file":"named-list-designer.component.js","sourceRoot":"","sources":["../../../../../../../libs/platform/named-list/designer/named-list-designer/named-list-designer.component.ts","../../../../../../../libs/platform/named-list/designer/named-list-designer/named-list-designer.component.html"],"names":[],"mappings":"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","sourcesContent":["import {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Injector,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { RxSelectOption } from '@bmc-ux/adapt-angular';\nimport { INamedListDefinition, INamedListField, RX_NAMED_LIST_DEFINITION } from '@helix/platform/named-list/api';\nimport { IRecordDefinition, RX_RECORD_DEFINITION, RxRecordDefinitionCacheService } from '@helix/platform/record/api';\n\nimport {\n  ExpressionOperatorGroup,\n  ExpressionOperatorRowsByGroup,\n  ICustomizationOptions,\n  IDesignerConfiguration,\n  IFormBuilderConfig,\n  IFormBuilderEvent,\n  IPlainObject,\n  RxFeatureService,\n  RxGlobalCacheService,\n  RxNotificationService,\n  RxOverlayService,\n  Tooltip\n} from '@helix/platform/shared/api';\nimport {\n  CustomizationOptionsComponent,\n  ExpressionFormControlComponent,\n  IDefinitionPickerComponentOptions,\n  IExpressionEditorPropertyChange,\n  IExpressionFormControlOptions,\n  IRevertCustomizationOptions,\n  ISelectFormControlOptions,\n  ISelectOption,\n  ITextFormControlOptions,\n  RX_EXPRESSION_EDITOR,\n  RX_REVERT_CUSTOMIZATION,\n  RxDefinitionPickerComponent,\n  RxDefinitionPickerType,\n  RxExpressionEditorService,\n  RxRevertCustomizationComponent,\n  SelectFormControlComponent,\n  TextFormControlComponent\n} from '@helix/platform/shared/components';\nimport {\n  IBreadcrumbItem,\n  IValidationIssue,\n  IValidationIssueSection,\n  RX_MODAL,\n  RxModalService,\n  ValidationIssueType\n} from '@helix/platform/ui-kit';\nimport { TranslateService } from '@ngx-translate/core';\nimport { isEmpty, isNil, some, trim } from 'lodash';\nimport { combineLatest, Observable, of, ReplaySubject, Subject } from 'rxjs';\nimport {\n  filter,\n  map,\n  shareReplay,\n  skip,\n  startWith,\n  switchMap,\n  take,\n  takeUntil,\n  tap,\n  withLatestFrom\n} from 'rxjs/operators';\nimport { RxNamedListExpressionConfigurator } from './named-list-expression-configurator.class';\nimport {\n  bundleIdSelector,\n  definitionModelFromDefinitionSelector,\n  definitionModelSelector,\n  isDesignModeSelector,\n  isDirtySelector,\n  originalDefinitionSelector,\n  savedDefinitionNameSelector\n} from './+state/named-list-designer.selectors';\nimport { Store } from '@ngrx/store';\nimport * as NamedListDesignerActions from './+state/named-list-designer.actions';\nimport { INamedListDefinitionModel } from '../named-list-designer.types';\nimport { NamedListDesignerService } from '../named-list-designer.service';\nimport { ContextualLabelFieldsComponent } from './contextual-label-fields/contextual-label-fields.component';\n\n@Component({\n  selector: 'rx-named-list-designer',\n  templateUrl: './named-list-designer.component.html',\n  styleUrls: ['./named-list-designer.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RxNamedListDesignerComponent implements OnChanges, OnDestroy, OnInit {\n  @Input()\n  configuration: IDesignerConfiguration;\n\n  @Output()\n  definitionSaved: EventEmitter<string> = new EventEmitter();\n\n  @Output()\n  definitionErrorLoading: EventEmitter<void> = new EventEmitter();\n\n  @Output()\n  closeDesigner: EventEmitter<void> = new EventEmitter<void>();\n\n  private bundleId$ = this.store$.select(bundleIdSelector);\n\n  private bundleFriendlyName$: Observable<string> = this.bundleId$.pipe(\n    switchMap((bundleId) => this.rxGlobalCacheService.getBundleFriendlyName(bundleId))\n  );\n\n  private destroyed$ = new ReplaySubject<boolean>(1);\n  private expressionConfigurator = new RxNamedListExpressionConfigurator(this.injector);\n  private isFormInitialized = false;\n  private definitionModel$: Observable<INamedListDefinitionModel> = this.store$.select(definitionModelSelector);\n  private isDirty$: Observable<boolean> = this.store$.select(isDirtySelector);\n  private originalDefinition$ = this.store$.select(originalDefinitionSelector);\n\n  private definitionModelFromDefinition$: Observable<INamedListDefinitionModel> = this.store$.select(\n    definitionModelFromDefinitionSelector\n  );\n\n  private definitionFromDefinitionModel$: Observable<INamedListDefinition> = this.definitionModel$.pipe(\n    withLatestFrom(this.bundleId$),\n    map(([definitionModel, bundleId]) =>\n      this.namedListDesignerService.getDefinitionFromDefinitionModel(definitionModel, bundleId)\n    )\n  );\n\n  private recordDefinition$: Observable<IRecordDefinition> = this.definitionModel$.pipe(\n    switchMap((definitionModel: INamedListDefinitionModel) =>\n      definitionModel.recordDefinitionName\n        ? this.rxRecordDefinitionCacheService.getRecordDefinition(definitionModel.recordDefinitionName)\n        : of(null)\n    ),\n    shareReplay(1)\n  );\n\n  private textFieldNameOptions$: Observable<RxSelectOption[]> = this.recordDefinition$.pipe(\n    map((recordDefinition: IRecordDefinition) =>\n      recordDefinition\n        ? recordDefinition.fieldDefinitions\n            .filter(({ resourceType }) =>\n              [\n                RX_RECORD_DEFINITION.resourceTypes.character,\n                RX_RECORD_DEFINITION.resourceTypes.localizedCharacter\n              ].includes(resourceType)\n            )\n            .map(({ id, name }) => ({ id, name } as RxSelectOption))\n        : []\n    )\n  );\n\n  private validationIssues$: Observable<IValidationIssueSection[]> = combineLatest([\n    this.definitionModel$,\n    this.textFieldNameOptions$\n  ]).pipe(\n    map(([definitionModel, textFieldNameOptions]: [INamedListDefinitionModel, RxSelectOption[]]) =>\n      this.validate(definitionModel, textFieldNameOptions)\n    ),\n    shareReplay(1)\n  );\n\n  private hasValidationErrors$: Observable<boolean> = this.validationIssues$.pipe(\n    map((issueSections) =>\n      some(issueSections, {\n        issues: [{ type: ValidationIssueType.Error }]\n      })\n    )\n  );\n\n  private areNewDefinitionsAllowed$ = this.bundleId$.pipe(\n    switchMap((bundleId) => this.rxOverlayService.areNewDefinitionsAllowed(bundleId))\n  );\n\n  private isReadOnly$ = this.definitionFromDefinitionModel$.pipe(\n    filter((definition) => !!definition.lastUpdateTime),\n    withLatestFrom(this.areNewDefinitionsAllowed$),\n    map(\n      ([definition, areNewDefinitionsAllowed]) =>\n        !areNewDefinitionsAllowed || !this.rxOverlayService.isCustomizationEnabled('allowOverlay', definition)\n    ),\n    tap((isReadOnly: boolean) => {\n      if (isReadOnly) {\n        this.rxNotificationService.addWarningMessage(\n          this.translateService.instant('com.bmc.arsys.rx.client.designer.read-only-definition-warning.message')\n        );\n      }\n    }),\n    startWith(false),\n    shareReplay(1)\n  );\n\n  private isSaveButtonDisabled$: Observable<boolean> = combineLatest([\n    this.hasValidationErrors$,\n    this.isReadOnly$,\n    this.isDirty$\n  ]).pipe(map(([hasValidationErrors, isReadOnly, isDirty]) => hasValidationErrors || isReadOnly || !isDirty));\n\n  private inspectorFocusEditorSubject = new Subject<{ editorName: string; data: IPlainObject }>();\n  inspectorFocusEditor$ = this.inspectorFocusEditorSubject.asObservable();\n\n  private isExistingDefinition$ = this.definitionModelFromDefinition$.pipe(\n    map((model) => Boolean(model.lastUpdateTime))\n  );\n\n  private breadcrumbItems$: Observable<IBreadcrumbItem[]> = this.definitionModel$.pipe(\n    map((model: INamedListDefinitionModel) => [\n      {\n        label:\n          model.name ||\n          `<${this.translateService.instant('com.bmc.arsys.rx.client.named-list-designer.new-named-list.label')}>`,\n        data: {}\n      }\n    ])\n  );\n\n  private definitionInspectorConfig$ = combineLatest([\n    this.definitionModel$,\n    this.recordDefinition$,\n    this.textFieldNameOptions$,\n    this.isReadOnly$\n  ]).pipe(\n    map(\n      ([definitionModel, recordDefinition, textFieldNameOptions, isReadOnly]: [\n        INamedListDefinitionModel,\n        IRecordDefinition,\n        RxSelectOption[],\n        boolean\n      ]) => this.getFormBuilderConfig(definitionModel, recordDefinition, textFieldNameOptions, isReadOnly)\n    )\n  );\n\n  private isDesignMode$ = this.store$.select(isDesignModeSelector);\n\n  private definitionForJsonViewer$: Observable<INamedListDefinition> = this.isDesignMode$.pipe(\n    switchMap((isDesignMode: boolean) =>\n      isDesignMode\n        ? of(null)\n        : combineLatest([this.definitionFromDefinitionModel$, this.originalDefinition$]).pipe(\n            map(([definitionFromDefinitionModel, originalDefinition]) => ({\n              ...originalDefinition,\n              ...definitionFromDefinitionModel\n            }))\n          )\n    )\n  );\n\n  vm$ = combineLatest([\n    this.breadcrumbItems$,\n    this.bundleFriendlyName$,\n    this.hasValidationErrors$,\n    this.isExistingDefinition$,\n    this.isSaveButtonDisabled$,\n    this.definitionForJsonViewer$,\n    this.definitionModel$,\n    this.definitionInspectorConfig$,\n    this.validationIssues$\n  ]).pipe(\n    map(\n      ([\n        breadcrumbItems,\n        bundleFriendlyName,\n        hasValidationErrors,\n        isExistingDefinition,\n        isSaveButtonDisabled,\n        definitionForJsonViewer,\n        definitionModel,\n        definitionInspectorConfig,\n        validationIssues\n      ]) => ({\n        breadcrumbItems,\n        bundleFriendlyName,\n        hasValidationErrors,\n        isExistingDefinition,\n        isSaveButtonDisabled,\n        definitionForJsonViewer,\n        definitionModel,\n        definitionInspectorConfig,\n        validationIssues\n      })\n    )\n  );\n\n  constructor(\n    private injector: Injector,\n    private store$: Store<any>,\n    private namedListDesignerService: NamedListDesignerService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxModalService: RxModalService,\n    private rxRecordDefinitionCacheService: RxRecordDefinitionCacheService,\n    private translateService: TranslateService,\n    private rxOverlayService: RxOverlayService,\n    private rxNotificationService: RxNotificationService,\n    private rxExpressionEditorService: RxExpressionEditorService,\n    private rxFeatureService: RxFeatureService\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.configuration.currentValue) {\n      this.store$.dispatch(NamedListDesignerActions.init({ payload: this.configuration }));\n    }\n  }\n\n  ngOnInit(): void {\n    this.store$\n      .select(savedDefinitionNameSelector)\n      .pipe(skip(1), filter(Boolean), takeUntil(this.destroyed$))\n      .subscribe((savedDefinitionName: string) => {\n        this.definitionSaved.emit(savedDefinitionName);\n      });\n\n    this.expressionConfigurator.configureForProperty({\n      propertyPath: 'queryCriteria',\n      dataDictionary$: this.definitionModel$.pipe(\n        switchMap((definitionModel) => this.expressionConfigurator.namedListExpressionDataDictionary(definitionModel))\n      ),\n      operators: ExpressionOperatorRowsByGroup.get(ExpressionOperatorGroup.All)\n    });\n  }\n\n  canDeactivate(): boolean {\n    let canDeactivate = true;\n\n    this.isDirty$.pipe(take(1)).subscribe((isDirty) => {\n      canDeactivate = !isDirty;\n    });\n\n    return canDeactivate;\n  }\n\n  onToggleDesignMode(): void {\n    this.store$.dispatch(NamedListDesignerActions.toggleDesignMode());\n  }\n\n  onCorrectIssue(validationIssue: IValidationIssue): void {\n    this.inspectorFocusEditorSubject.next({\n      editorName: validationIssue.data.propertyName,\n      data: validationIssue.data.data\n    });\n  }\n\n  onModelChange(newDefinitionModel: INamedListDefinitionModel): void {\n    if (this.isFormInitialized) {\n      this.store$.dispatch(\n        NamedListDesignerActions.updateDefinitionModelFromDesigner({\n          definitionModelFromDesigner: newDefinitionModel\n        })\n      );\n    }\n  }\n\n  onFormInitialized(): void {\n    this.isFormInitialized = true;\n  }\n\n  onEditorEvent(event: IFormBuilderEvent): void {\n    if (event.type === RX_REVERT_CUSTOMIZATION.events.revertCustomization) {\n      this.revertCustomization();\n    }\n\n    if (event.type === RX_EXPRESSION_EDITOR.events.openExpressionEditor) {\n      this.openExpressionEditor(event);\n    }\n  }\n\n  openExpressionEditor(event: IFormBuilderEvent): void {\n    this.definitionModel$.pipe(take(1)).subscribe((definitionModel) => {\n      this.rxExpressionEditorService\n        .openEditor({\n          property: {\n            path: event.payload.propertyPath,\n            value: definitionModel.queryCriteria,\n            label: event.payload.propertyLabel\n          },\n          isReadOnly: event.payload.isReadOnly,\n          expressionConfigurator: this.expressionConfigurator,\n          legend: [\n            {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.field-name.label'),\n              icon: 'd-icon-arrow_right_square_input'\n            }\n          ]\n        })\n        .subscribe((expression: IExpressionEditorPropertyChange) => {\n          this.store$.dispatch(\n            NamedListDesignerActions.updateDefinitionModelFromDesigner({\n              definitionModelFromDesigner: { queryCriteria: expression.value }\n            })\n          );\n        });\n    });\n  }\n\n  revertCustomization(): void {\n    this.store$.dispatch(NamedListDesignerActions.revertCustomization());\n  }\n\n  onSave(): void {\n    this.store$.dispatch(NamedListDesignerActions.saveDefinition());\n  }\n\n  private validate(\n    definitionModel: INamedListDefinitionModel,\n    textFieldNameOptions: RxSelectOption[]\n  ): IValidationIssueSection[] {\n    const validationIssues: IValidationIssue[] = [];\n\n    if (isEmpty(trim(definitionModel.name))) {\n      validationIssues.push({\n        type: ValidationIssueType.Error,\n        description: this.translateService.instant(\n          'com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message',\n          {\n            propertyName: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label')\n          }\n        ),\n        data: {\n          propertyName: 'name'\n        }\n      });\n    } else if (!RX_RECORD_DEFINITION.validDefinitionNameRegex.test(definitionModel.name)) {\n      validationIssues.push({\n        type: ValidationIssueType.Error,\n        description: this.translateService.instant(\n          'com.bmc.arsys.rx.client.named-list-designer.name-validation.message'\n        ),\n        data: {\n          propertyName: 'name'\n        }\n      });\n    }\n\n    if (isEmpty(trim(definitionModel.recordDefinitionName))) {\n      validationIssues.push({\n        type: ValidationIssueType.Error,\n        description: this.translateService.instant(\n          'com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message',\n          {\n            propertyName: this.translateService.instant(\n              'com.bmc.arsys.rx.client.named-list-designer.record-definition-field.label'\n            )\n          }\n        ),\n        data: {\n          propertyName: 'recordDefinitionName'\n        }\n      });\n    }\n\n    if (isNil(definitionModel.labelFieldId)) {\n      validationIssues.push({\n        type: ValidationIssueType.Error,\n        description: this.translateService.instant(\n          'com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message',\n          {\n            propertyName: this.translateService.instant(\n              'com.bmc.arsys.rx.client.named-list-designer.display-name-field.label'\n            )\n          }\n        ),\n        data: {\n          propertyName: 'labelFieldId'\n        }\n      });\n    }\n\n    if (isNil(definitionModel.valueFieldId)) {\n      validationIssues.push({\n        type: ValidationIssueType.Error,\n        description: this.translateService.instant(\n          'com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message',\n          {\n            propertyName: this.translateService.instant('com.bmc.arsys.rx.client.named-list-designer.value-field.label')\n          }\n        ),\n        data: {\n          propertyName: 'valueFieldId'\n        }\n      });\n    }\n\n    if (definitionModel.recordDefinitionName) {\n      definitionModel.fields?.forEach((field: INamedListField, index: number) => {\n        if (!textFieldNameOptions.some(({ id }) => id === field.id)) {\n          validationIssues.push({\n            type: ValidationIssueType.Error,\n            description: this.translateService.instant(\n              'com.bmc.arsys.rx.client.named-list-designer.contextual-label-fields.unknown-field.message'\n            ),\n            data: {\n              propertyName: 'fields',\n              data: {\n                fieldIndex: index\n              }\n            }\n          });\n        }\n      });\n    }\n\n    return validationIssues.length\n      ? [\n          {\n            title: this.translateService.instant('com.bmc.arsys.rx.client.named-list-designer.new-named-list.label'),\n            issues: validationIssues\n          }\n        ]\n      : [];\n  }\n\n  private getFieldNameOptions(recordDefinition: IRecordDefinition): ISelectOption[] {\n    return recordDefinition.fieldDefinitions.map(({ id, name }) => ({ id, name } as ISelectOption));\n  }\n\n  private getFormBuilderConfig(\n    definitionModel: INamedListDefinitionModel,\n    recordDefinition: IRecordDefinition,\n    textFieldNameOptions: RxSelectOption[],\n    isReadOnly: boolean\n  ): IFormBuilderConfig {\n    return [\n      {\n        controls: [\n          {\n            name: 'name',\n            component: TextFormControlComponent,\n            isDisabled: Boolean(definitionModel.lastUpdateTime),\n            options: {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label'),\n              required: true\n            } as ITextFormControlOptions\n          },\n          {\n            name: 'recordDefinitionName',\n            component: RxDefinitionPickerComponent,\n            isDisabled: isReadOnly,\n            options: {\n              definitionType: RxDefinitionPickerType.Record,\n              label: this.translateService.instant(\n                'com.bmc.arsys.rx.client.named-list-designer.record-definition-field.label'\n              ),\n              required: true,\n              beforeValueChange: (oldValue: string): Promise<boolean> => {\n                if (\n                  Boolean(oldValue) &&\n                  (definitionModel.labelFieldId ||\n                    definitionModel.valueFieldId ||\n                    definitionModel.fields?.length ||\n                    definitionModel.queryCriteria)\n                ) {\n                  const message = this.rxFeatureService.isFeatureEnabled('DRD21-43103')\n                    ? this.translateService.instant(\n                        'com.bmc.arsys.rx.client.named-list-designer.clear-values-confirmation.message'\n                      )\n                    : 'Display name field, Value field, and Filter expression will be cleared. Do you want to continue?';\n\n                  return this.rxModalService\n                    .confirm({\n                      title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n                      modalStyle: RX_MODAL.modalStyles.warning,\n                      message\n                    })\n                    .then((isConfirmed) => {\n                      if (isConfirmed) {\n                        setTimeout(() => {\n                          this.store$.dispatch(NamedListDesignerActions.clearFields());\n                        });\n                      }\n\n                      return isConfirmed;\n                    });\n                }\n\n                return Promise.resolve(true);\n              }\n            } as IDefinitionPickerComponentOptions\n          },\n          {\n            name: 'queryCriteria',\n            component: ExpressionFormControlComponent,\n            isDisabled: !definitionModel.recordDefinitionName || isReadOnly,\n            options: {\n              label: this.translateService.instant(\n                'com.bmc.arsys.rx.client.named-list-designer.filter-expression-field.label'\n              ),\n              tooltip: new Tooltip(\n                this.translateService.instant(\n                  'com.bmc.arsys.rx.client.named-list-designer.filter-expression-field.tooltip'\n                )\n              ),\n              dataDictionary$: this.expressionConfigurator.getDataDictionary('queryCriteria'),\n              operators: this.expressionConfigurator.getOperators()\n            } as IExpressionFormControlOptions\n          },\n          {\n            name: 'searchBehavior',\n            component: SelectFormControlComponent,\n            isDisabled: isReadOnly,\n            options: {\n              label: this.translateService.instant(\n                'com.bmc.arsys.rx.client.named-list-designer.search-behavior-field.label'\n              ),\n              tooltip: new Tooltip(\n                this.translateService.instant(\n                  'com.bmc.arsys.rx.client.named-list-designer.search-behavior-field.tooltip'\n                )\n              ),\n              required: true,\n              options: [\n                {\n                  id: RX_NAMED_LIST_DEFINITION.searchBehaviorTypes.contains,\n                  name: this.translateService.instant(\n                    'com.bmc.arsys.rx.client.named-list-designer.search-behavior.contains.label'\n                  )\n                },\n                {\n                  id: RX_NAMED_LIST_DEFINITION.searchBehaviorTypes.startsWith,\n                  name: this.translateService.instant(\n                    'com.bmc.arsys.rx.client.named-list-designer.search-behavior.starts-with.label'\n                  )\n                },\n                {\n                  id: RX_NAMED_LIST_DEFINITION.searchBehaviorTypes.exactMatch,\n                  name: this.translateService.instant(\n                    'com.bmc.arsys.rx.client.named-list-designer.search-behavior.exact-match.label'\n                  )\n                }\n              ],\n              emptyOption: false,\n              sortAlphabetically: false\n            } as ISelectFormControlOptions,\n            hidden: !this.rxFeatureService.isFeatureEnabled('DRD21-43015')\n          },\n          {\n            name: 'labelFieldId',\n            component: SelectFormControlComponent,\n            isDisabled: !definitionModel.recordDefinitionName || isReadOnly,\n            options: {\n              label: this.translateService.instant(\n                'com.bmc.arsys.rx.client.named-list-designer.display-name-field.label'\n              ),\n              required: true,\n              tooltip: new Tooltip(\n                this.translateService.instant('com.bmc.arsys.rx.client.named-list-designer.display-name-field.tooltip')\n              ),\n              emptyOption: true,\n              options: recordDefinition ? this.getFieldNameOptions(recordDefinition) : []\n            } as ISelectFormControlOptions\n          },\n          {\n            name: 'valueFieldId',\n            component: SelectFormControlComponent,\n            isDisabled: !definitionModel.recordDefinitionName || isReadOnly,\n            options: {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.named-list-designer.value-field.label'),\n              required: true,\n              tooltip: new Tooltip(\n                this.translateService.instant('com.bmc.arsys.rx.client.named-list-designer.value-field.tooltip')\n              ),\n              emptyOption: true,\n              options: recordDefinition ? this.getFieldNameOptions(recordDefinition) : []\n            } as ISelectFormControlOptions\n          },\n          {\n            name: 'fields',\n            component: ContextualLabelFieldsComponent,\n            isDisabled: !definitionModel.recordDefinitionName || isReadOnly,\n            options: {\n              options: textFieldNameOptions\n            },\n            hidden: !this.rxFeatureService.isFeatureEnabled('DRD21-43103')\n          },\n          {\n            component: RxRevertCustomizationComponent,\n            options: {\n              allowOverlay: definitionModel.customizationOptions.allowOverlay,\n              scope: definitionModel.customizationOptions.scope,\n              overlayGroupId: definitionModel.customizationOptions.overlayGroupId,\n              overlayDescriptor: definitionModel.customizationOptions.overlayDescriptor\n            } as IRevertCustomizationOptions\n          },\n          {\n            name: 'customizationOptions',\n            component: CustomizationOptionsComponent,\n            isDisabled: isReadOnly,\n            options: {\n              definitionTypeDisplayName: this.translateService\n                .instant('com.bmc.arsys.rx.client.named-list-definition.label')\n                .toLowerCase(),\n              allowOverlay: definitionModel.customizationOptions.allowOverlay,\n              scope: definitionModel.customizationOptions.scope,\n              overlayGroupId: definitionModel.customizationOptions.overlayGroupId,\n              overlayDescriptor: definitionModel.customizationOptions.overlayDescriptor\n            } as ICustomizationOptions\n          }\n        ]\n      }\n    ] as IFormBuilderConfig;\n  }\n\n  ngOnDestroy(): void {\n    this.inspectorFocusEditorSubject.complete();\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n    this.store$.dispatch(NamedListDesignerActions.destroy());\n  }\n}\n","<ng-container *ngIf=\"vm$ | async as vm\">\n  <rx-designer-header\n    [bundleName]=\"vm.bundleFriendlyName\"\n    [breadcrumbItems]=\"vm.breadcrumbItems\"\n    [isSaveButtonDisabled]=\"vm.isSaveButtonDisabled\"\n    (closeDesigner)=\"closeDesigner.emit()\"\n    (save)=\"onSave()\"\n    (toggleDesignMode)=\"onToggleDesignMode()\"\n    [isDesignMode]=\"!vm.definitionForJsonViewer\"\n  ></rx-designer-header>\n\n  <div class=\"rx-designer-component\" [hidden]=\"vm.definitionForJsonViewer\">\n    <adapt-sidebar position=\"right\" panelWidth=\"280px\" [openedId]=\"0\">\n      <adapt-sidebar-item\n        headerTitle=\"{{ 'com.bmc.arsys.rx.client.designer.validation-issues.label' | translate }}\"\n        tooltipText=\"{{ 'com.bmc.arsys.rx.client.designer.validation-issues.label' | translate }}\"\n        rx-id=\"validation-issues\"\n        [iconClass]=\"vm.hasValidationErrors ? 'd-icon-exclamation_triangle text-danger' : 'd-icon-exclamation_triangle'\"\n      >\n        <rx-validation-issues\n          [definitionTypeDisplayName]=\"'com.bmc.arsys.rx.client.common.named-list-definition.label' | translate\"\n          [issueSections]=\"vm.validationIssues\"\n          (correctIssue)=\"onCorrectIssue($event)\"\n        ></rx-validation-issues>\n      </adapt-sidebar-item>\n\n      <div class=\"main rx-designer-container h-100\">\n        <h1 class=\"mt-0\">\n          {{\n            vm.isExistingDefinition\n              ? ('com.bmc.arsys.rx.client.named-list-designer.edit-named-list.title' | translate)\n              : ('com.bmc.arsys.rx.client.named-list-designer.create-named-list.title' | translate)\n          }}\n        </h1>\n\n        <rx-form-builder\n          [config]=\"vm.definitionInspectorConfig\"\n          [model]=\"vm.definitionModel\"\n          (editorEvent)=\"onEditorEvent($event)\"\n          [focusEditor$]=\"inspectorFocusEditor$\"\n          (formInitialized)=\"onFormInitialized()\"\n          (modelChange)=\"onModelChange($event)\"\n        ></rx-form-builder>\n      </div>\n    </adapt-sidebar>\n  </div>\n\n  <adapt-code-viewer\n    *ngIf=\"vm.definitionForJsonViewer\"\n    [code]=\"vm.definitionForJsonViewer | json\"\n    [lang]=\"'javascript'\"\n    [hasToolbar]=\"false\"\n    [theme]=\"'light'\"\n    class=\"full-size\"\n  ></adapt-code-viewer>\n</ng-container>\n"]}