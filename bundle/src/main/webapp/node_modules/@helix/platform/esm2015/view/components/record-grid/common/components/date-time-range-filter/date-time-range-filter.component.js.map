{"version":3,"file":"date-time-range-filter.component.js","sourceRoot":"","sources":["../../../../../../../../../../libs/platform/view/components/record-grid/common/components/date-time-range-filter/date-time-range-filter.component.ts","../../../../../../../../../../libs/platform/view/components/record-grid/common/components/date-time-range-filter/date-time-range-filter.component.html"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AACjD,OAAO,EACL,4BAA4B,EAC5B,sBAAsB,EAEtB,oBAAoB,EACrB,MAAM,uBAAuB,CAAC;AAE/B,OAAO,EAAE,+BAA+B,EAAE,MAAM,qDAAqD,CAAC;AACtG,OAAO,EAAE,4BAA4B,EAAE,MAAM,4CAA4C,CAAC;;;;;;AAO1F,MAAM,OAAO,8BAA8B;IAL3C;QAqBE,yBAAoB,GAAG,oBAAoB,CAAC;KAuB7C;IArBC,iCAAiC,CAAC,KAAmC;QACnE,IAAI,CAAC,qCAAqC,CAAC,KAAK,CAAC,CAAC;IACpD,CAAC;IAED,iCAAiC,CAAC,KAAmC;QACnE,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,EAAE;YAClC,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;SACpC;QAED,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,EAAE;YAClC,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;SACpC;QAED,IAAI,CAAC,qCAAqC,CAAC,KAAK,CAAC,CAAC;IACpD,CAAC;IAED,qCAAqC,CAAC,QAAsC;;QAC1E,IAAI,CAAC,uBAAuB,CAAC,yBAAyB,CACpD,IAAI,+BAA+B,CAAC,QAAQ,EAAE,MAAA,IAAI,CAAC,WAAW,0CAAE,YAAY,CAAC,CAC9E,CAAC;IACJ,CAAC;;2HAtCU,8BAA8B;+GAA9B,8BAA8B,sOAF9B,CAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,QAAQ,EAAE,4BAA4B,EAAE,CAAC,0BCd1F,izEA+DA;2FD/Ca,8BAA8B;kBAL1C,SAAS;mBAAC;oBACT,QAAQ,EAAE,2BAA2B;oBACrC,WAAW,EAAE,yCAAyC;oBACtD,SAAS,EAAE,CAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,QAAQ,EAAE,4BAA4B,EAAE,CAAC;iBACzF;8BAGC,YAAY;sBADX,KAAK;gBAIN,uBAAuB;sBADtB,KAAK;gBAIN,WAAW;sBADV,KAAK;gBAIN,kBAAkB;sBADjB,KAAK;gBAIN,IAAI;sBADH,KAAK","sourcesContent":["import { Component, Input } from '@angular/core';\nimport {\n  AdaptFilterControlsComponent,\n  AdaptRxDatetimeAdapter,\n  AdvancedFilterOption,\n  RxDatetimePickerMode\n} from '@bmc-ux/adapt-angular';\nimport { IRecordGridColumnNamedFilterOption, RxAdvancedFilterDateDataType } from '../../types/record-grid.types';\nimport { RxRecordGridAdvancedFilterValue } from '../../types/record-grid-advanced-filter-value.class';\nimport { RxAdaptDatetimeMomentAdapter } from './rx-adapt-datetime-moment-adapter.service';\n\n@Component({\n  selector: 'rx-date-time-range-filter',\n  templateUrl: './date-time-range-filter.component.html',\n  providers: [{ provide: AdaptRxDatetimeAdapter, useClass: RxAdaptDatetimeMomentAdapter }]\n})\nexport class RxDateTimeRangeFilterComponent {\n  @Input()\n  filterOption: AdvancedFilterOption;\n\n  @Input()\n  filterControlsComponent: AdaptFilterControlsComponent;\n\n  @Input()\n  filterValue: RxRecordGridAdvancedFilterValue;\n\n  @Input()\n  namedFilterOptions: IRecordGridColumnNamedFilterOption[];\n\n  @Input()\n  mode: RxDatetimePickerMode;\n\n  rxDatetimePickerMode = RxDatetimePickerMode;\n\n  onTimeTypeFilterOptionModelChange(model: RxAdvancedFilterDateDataType): void {\n    this.onDateTimeTypeFilterOptionModelChange(model);\n  }\n\n  onDateTypeFilterOptionModelChange(model: RxAdvancedFilterDateDataType): void {\n    if (model[0] && model[0].isValid()) {\n      model[0] = model[0].startOf('day');\n    }\n\n    if (model[1] && model[1].isValid()) {\n      model[1] = model[1].startOf('day');\n    }\n\n    this.onDateTimeTypeFilterOptionModelChange(model);\n  }\n\n  onDateTimeTypeFilterOptionModelChange(newValue: RxAdvancedFilterDateDataType): void {\n    this.filterControlsComponent.onFilterOptionModelChange(\n      new RxRecordGridAdvancedFilterValue(newValue, this.filterValue?.namedOptions)\n    );\n  }\n}\n","<rx-named-filter-options-list\n  *ngIf=\"namedFilterOptions?.length\"\n  [namedFilterOptions]=\"namedFilterOptions\"\n  [filterOption]=\"filterOption\"\n  [filterValue]=\"filterValue\"\n  [filterControlsComponent]=\"filterControlsComponent\"\n></rx-named-filter-options-list>\n\n<ng-container [ngSwitch]=\"mode\">\n  <ng-container *ngSwitchCase=\"rxDatetimePickerMode.Time\" [ngTemplateOutlet]=\"inputsForTimeTypeTemplate\"></ng-container>\n  <ng-container *ngSwitchCase=\"rxDatetimePickerMode.Date\" [ngTemplateOutlet]=\"inputsForDateTypeTemplate\"></ng-container>\n  <ng-container\n    *ngSwitchCase=\"rxDatetimePickerMode.DateTime\"\n    [ngTemplateOutlet]=\"inputsForDatetimeTypeTemplate\"\n  ></ng-container>\n</ng-container>\n\n<ng-template #inputsForTimeTypeTemplate>\n  <adapt-rx-datetime-range\n    class=\"advanced-filter__datetime\"\n    [ngModel]=\"filterValue?.filterValue\"\n    (ngModelChange)=\"onTimeTypeFilterOptionModelChange($event)\"\n    [testID]=\"filterControlsComponent.testID\"\n    [mode]=\"mode\"\n    [hasSeconds]=\"true\"\n    [inline]=\"true\"\n    [inlineLight]=\"true\"\n    [texts]=\"filterControlsComponent.texts.datetimeTexts\"\n    [disabled]=\"filterControlsComponent.isInputDisabled()\"\n  >\n  </adapt-rx-datetime-range>\n</ng-template>\n\n<ng-template #inputsForDateTypeTemplate>\n  <adapt-rx-datetime-range\n    class=\"advanced-filter__datetime\"\n    [ngModel]=\"filterValue?.filterValue\"\n    (ngModelChange)=\"onDateTypeFilterOptionModelChange($event)\"\n    [testID]=\"filterControlsComponent.testID\"\n    [mode]=\"mode\"\n    [inline]=\"true\"\n    [inlineLight]=\"true\"\n    [texts]=\"filterControlsComponent.texts.datetimeTexts\"\n    [disabled]=\"filterControlsComponent.isInputDisabled()\"\n  >\n  </adapt-rx-datetime-range>\n</ng-template>\n\n<ng-template #inputsForDatetimeTypeTemplate>\n  <adapt-rx-datetime-range\n    class=\"advanced-filter__datetime\"\n    [ngModel]=\"filterValue?.filterValue\"\n    (ngModelChange)=\"onDateTimeTypeFilterOptionModelChange($event)\"\n    [testID]=\"filterControlsComponent.testID\"\n    [mode]=\"mode\"\n    [hasSeconds]=\"true\"\n    [inline]=\"true\"\n    [inlineLight]=\"true\"\n    [texts]=\"filterControlsComponent.texts.datetimeTexts\"\n    [disabled]=\"filterControlsComponent.isInputDisabled()\"\n  >\n  </adapt-rx-datetime-range>\n</ng-template>\n"]}