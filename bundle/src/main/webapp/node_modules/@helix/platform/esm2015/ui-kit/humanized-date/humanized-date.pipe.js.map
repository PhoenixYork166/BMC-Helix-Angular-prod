{"version":3,"file":"humanized-date.pipe.js","sourceRoot":"","sources":["../../../../../../libs/platform/ui-kit/humanized-date/humanized-date.pipe.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,iBAAiB,CAAC;AAC3C,OAAO,EAAE,IAAI,EAAiB,MAAM,eAAe,CAAC;AACpD,OAAO,EAAE,gBAAgB,EAAE,MAAM,qBAAqB,CAAC;AACvD,OAAO,MAAM,MAAM,YAAY,CAAC;;;;AAKhC,MAAM,OAAO,mBAAmB;IAC9B,YAAoB,QAAkB,EAAU,gBAAkC;QAA9D,aAAQ,GAAR,QAAQ,CAAU;QAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;IAAG,CAAC;IAEtF,SAAS,CAAC,KAAW;QACnB,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC;QACrB,MAAM,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;QAE3B,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE;YAC3B,OAAO,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,wCAAwC,CAAC,CAAC;SAChF;aAAM,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;YACjC,OAAO,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,4CAA4C,CAAC,CAAC;SACpF;aAAM;YACL,OAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;SACnD;IACH,CAAC;IAEO,WAAW,CAAC,KAAoB;QACtC,MAAM,SAAS,GAAG,MAAM,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAE7D,OAAO,KAAK,CAAC,MAAM,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;IACxC,CAAC;;gHApBU,mBAAmB;8GAAnB,mBAAmB;2FAAnB,mBAAmB;kBAH/B,IAAI;mBAAC;oBACJ,IAAI,EAAE,qBAAqB;iBAC5B","sourcesContent":["import { DatePipe } from '@angular/common';\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport moment from 'moment-es6';\n\n@Pipe({\n  name: 'rxHumanizedDatePipe'\n})\nexport class RxHumanizedDatePipe implements PipeTransform {\n  constructor(private datePipe: DatePipe, private translateService: TranslateService) {}\n\n  transform(value: Date): any {\n    const now = moment();\n    const date = moment(value);\n\n    if (date.isSame(now, 'day')) {\n      return this.translateService.instant('com.bmc.dsm.chatbot.common.today.label');\n    } else if (this.isYesterday(date)) {\n      return this.translateService.instant('com.bmc.dsm.chatbot.common.yesterday.label');\n    } else {\n      return this.datePipe.transform(value, 'fullDate');\n    }\n  }\n\n  private isYesterday(value: moment.Moment): boolean {\n    const yesterday = moment().subtract(1, 'day').startOf('day');\n\n    return value.isSame(yesterday, 'day');\n  }\n}\n"]}