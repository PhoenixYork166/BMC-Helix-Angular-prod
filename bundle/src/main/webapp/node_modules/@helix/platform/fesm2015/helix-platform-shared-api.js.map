{"version":3,"file":"helix-platform-shared-api.js","sources":["../../../../libs/platform/shared/api/data-page/data-page.constant.ts","../../../../libs/platform/shared/api/data-page/data-page.class.ts","../../../../libs/platform/shared/api/action-type/action-type-data-page.service.ts","../../../../libs/platform/shared/api/definition/definition-name.service.ts","../../../../libs/platform/shared/api/action-type/action-type-utils.service.ts","../../../../libs/platform/shared/api/command/command.class.ts","../../../../libs/platform/shared/api/command/command-factory.service.ts","../../../../libs/platform/shared/api/administration/admin-settings.service.ts","../../../../libs/platform/shared/api/administration/administration.constant.ts","../../../../libs/platform/shared/api/administration/system-configuration.service.ts","../../../../libs/platform/shared/api/data-page/data-page-factory.service.ts","../../../../libs/platform/shared/api/administration/admin-component-data-page.service.ts","../../../../libs/platform/shared/api/application/application.constant.ts","../../../../libs/platform/shared/api/bundle/bundle-data-page.service.ts","../../../../libs/platform/shared/api/user/current-user.service.ts","../../../../libs/platform/shared/api/logging/log.types.ts","../../../../libs/platform/shared/api/logging/log.service.ts","../../../../libs/platform/shared/api/bundle/bundle-load.types.ts","../../../../libs/platform/shared/api/function/function-data-page.service.ts","../../../../libs/platform/shared/api/caching/global-cache.service.ts","../../../../libs/platform/shared/api/bundle/bundle.service.ts","../../../../libs/platform/shared/api/bundle/bundle.constant.ts","../../../../libs/platform/shared/api/definition/definition.service.ts","../../../../libs/platform/shared/api/caching/bundle-cache.service.ts","../../../../libs/platform/shared/api/localization/localization.types.ts","../../../../libs/platform/shared/api/dev/build-environment.constant.ts","../../../../libs/platform/shared/api/dev/rsso-debug.service.ts","../../../../libs/platform/shared/api/localization/localization.service.ts","../../../../libs/platform/shared/api/localization/login-localization-resolver.service.ts","../../../../libs/platform/shared/api/localization/localized-strings-loader.service.ts","../../../../libs/platform/shared/api/localization/missing-translation-handler.service.ts","../../../../libs/platform/shared/api/localization/localization.module.ts","../../../../libs/platform/shared/api/navigation/component-can-deactivate.guard.ts","../../../../libs/platform/shared/api/application/application-loader.service.ts","../../../../libs/platform/shared/api/application/application.resolver.ts","../../../../libs/platform/shared/api/application/root-injector.class.ts","../../../../libs/platform/shared/api/notification/notification.constants.ts","../../../../libs/platform/shared/api/notification/notification.service.ts","../../../../libs/platform/shared/api/upgrade-tracker/upgrade-tracker.service.ts","../../../../libs/platform/shared/api/application/application-configurator.service.ts","../../../../libs/platform/shared/api/application/application-initializer.types.ts","../../../../libs/platform/shared/api/application/application-registry.service.ts","../../../../libs/platform/shared/api/overlay/overlay.constant.ts","../../../../libs/platform/shared/api/overlay/overlay.types.ts","../../../../libs/platform/shared/api/overlay/overlay.service.ts","../../../../libs/platform/shared/api/services/feature/feature.service.ts","../../../../libs/platform/shared/api/user/user.service.ts","../../../../libs/platform/shared/api/user/user.constant.ts","../../../../libs/platform/shared/api/security/session.service.ts","../../../../libs/platform/shared/api/theming/theming.constant.ts","../../../../libs/platform/shared/api/theming/theming.service.ts","../../../../libs/platform/shared/api/application/theme.resolver.ts","../../../../libs/platform/shared/api/application/valid-application.guard.ts","../../../../libs/platform/shared/api/application/angular-application.service.ts","../../../../libs/platform/shared/api/application/application-loader.resolver.ts","../../../../libs/platform/shared/api/security/session.constant.ts","../../../../libs/platform/shared/api/application/login-page.guard.ts","../../../../libs/platform/shared/api/application/shell-route-reuse-strategy.class.ts","../../../../libs/platform/shared/api/resource-urls.constant.ts","../../../../libs/platform/shared/api/security/auth.service.ts","../../../../libs/platform/shared/api/security/session-expiration/session-expiration.interface.ts","../../../../libs/platform/shared/api/security/session-expiration/session-expiration.component.ts","../../../../libs/platform/shared/api/security/session-expiration/session-expiration.component.html","../../../../libs/platform/shared/api/security/session-expiration/session-expiration.service.ts","../../../../libs/platform/shared/api/application/keep-session-alive.resolver.ts","../../../../libs/platform/shared/api/application/feature.guard.ts","../../../../libs/platform/shared/api/approval/approval.types.ts","../../../../libs/platform/shared/api/caching/metadata.service.ts","../../../../libs/platform/shared/api/caching/designer-cache.service.ts","../../../../libs/platform/shared/api/caching/interceptors/metadata-last-update-time.interceptor.ts","../../../../libs/platform/shared/api/caching/interceptors/metadata-request.interceptor.ts","../../../../libs/platform/shared/api/interceptors/request.interceptor.ts","../../../../libs/platform/shared/api/upgrade-tracker/upgrade-tracker-interceptor.ts","../../../../libs/platform/shared/api/caching/caching.module.ts","../../../../libs/platform/shared/api/chat/chatbot.constant.ts","../../../../libs/platform/shared/api/chat/chatbot-definition-data-page.service.ts","../../../../libs/platform/shared/api/chat/live-agent-settings.service.ts","../../../../libs/platform/shared/api/cognitive/cognitive.types.ts","../../../../libs/platform/shared/api/common-types/designer.constant.ts","../../../../libs/platform/shared/api/definition/definition.constant.ts","../../../../libs/platform/shared/api/definition/definition-adapter-registry.service.ts","../../../../libs/platform/shared/api/definition/definition-scope.pipe.ts","../../../../libs/platform/shared/api/definition/definition-name.pipe.ts","../../../../libs/platform/shared/api/definition/definition.module.ts","../../../../libs/platform/shared/api/error-handling/error-handling.constant.ts","../../../../libs/platform/shared/api/definition/definition-update.service.ts","../../../../libs/platform/shared/api/designer/command-manager.service.ts","../../../../libs/platform/shared/api/designer/designer-element-shape.constant.ts","../../../../libs/platform/shared/api/designer/designer-stencil-builder.service.ts","../../../../libs/platform/shared/api/environment/environment.constant.ts","../../../../libs/platform/shared/api/error-handling/server-error-handler.service.ts","../../../../libs/platform/shared/api/error-handling/script-error-handler.service.ts","../../../../libs/platform/shared/api/error-handling/error-handler.service.ts","../../../../libs/platform/shared/api/error-handling/server-messages-handler.service.ts","../../../../libs/platform/shared/api/error-handling/http-response-message.interceptor.ts","../../../../libs/platform/shared/api/error-handling/error-handling.module.ts","../../../../libs/platform/shared/api/expression-operator/expression-operator.enum.ts","../../../../libs/platform/shared/api/expression-configurator/expression-configurator-operator.types.ts","../../../../libs/platform/shared/api/expression-configurator/expression-configurator.class.ts","../../../../libs/platform/shared/api/expression-parser/expression-parser.types.ts","../../../../libs/platform/shared/api/expression-parser/expression-parser.service.ts","../../../../libs/platform/shared/api/form-builder/form-builder.types.ts","../../../../libs/platform/shared/api/functional-role/functional-role-data-page.service.ts","../../../../libs/platform/shared/api/data-dictionary/data-dictionary.types.ts","../../../../libs/platform/shared/api/data-dictionary/data-dictionary-utils.service.ts","../../../../libs/platform/shared/api/global-events/global-events.service.ts","../../../../libs/platform/shared/api/group/group-data-page.service.ts","../../../../libs/platform/shared/api/http/http-parameter-codec.class.ts","../../../../libs/platform/shared/api/http/http-params.interceptor.ts","../../../../libs/platform/shared/api/http/http.module.ts","../../../../libs/platform/shared/api/licensing/license-data-page.service.ts","../../../../libs/platform/shared/api/logging/http-log-interceptor.ts","../../../../libs/platform/shared/api/logging/console-logger.class.ts","../../../../libs/platform/shared/api/logging/logging.module.ts","../../../../libs/platform/shared/api/notification/notification-component/notification.component.ts","../../../../libs/platform/shared/api/notification/notification-component/notification.component.html","../../../../libs/platform/shared/api/notification/notification.module.ts","../../../../libs/platform/shared/api/overlay/customization-status.pipe.ts","../../../../libs/platform/shared/api/overlay/overlay-requests-interceptor.service.ts","../../../../libs/platform/shared/api/overlay/overlay.module.ts","../../../../libs/platform/shared/api/permission/permission.constant.ts","../../../../libs/platform/shared/api/pipes/boolean/boolean.pipe.ts","../../../../libs/platform/shared/api/pipes/pipes.module.ts","../../../../libs/platform/shared/api/previous-state/previous-state.service.ts","../../../../libs/platform/shared/api/role/role-data-page.service.ts","../../../../libs/platform/shared/api/security/auth.interceptor.ts","../../../../libs/platform/shared/api/security/auth.guard.ts","../../../../libs/platform/shared/api/security/auth.module.ts","../../../../libs/platform/shared/api/security/session-expiration/session-expiration.interceptor.ts","../../../../libs/platform/shared/api/security/session-expiration/session-expiration.module.ts","../../../../libs/platform/shared/api/server-action/server-action.service.ts","../../../../libs/platform/shared/api/server-action/server-action.mixin.ts","../../../../libs/platform/shared/api/server-action/server-action-view.mixin.ts","../../../../libs/platform/shared/api/server-action/server-action-expression-configurator.class.ts","../../../../libs/platform/shared/api/services/smart-reporting/smart-reporting.service.ts","../../../../libs/platform/shared/api/services/page-title/page-title.service.ts","../../../../libs/platform/shared/api/tooltip/tooltip.class.ts","../../../../libs/platform/shared/api/user-preferences/user-preferences.constants.ts","../../../../libs/platform/shared/api/user-preferences/user-preferences.service.ts","../../../../libs/platform/shared/api/whatfix/whatfix-configurator.service.ts","../../../../libs/platform/shared/api/administration/config-definition-data-page.service.ts","../../../../libs/platform/shared/api/helix-platform-shared-api.ts"],"sourcesContent":["import { IDataPageResult } from './data-page-result.interface';\n\nexport const RX_DATA_PAGE = {\n  defaultPageSize: 50,\n  emptyDataPage: {\n    data: [],\n    totalSize: 0\n  } as IDataPageResult\n};\n","import { IDataPageParams } from './data-page-params.interface';\nimport { IDataPageRequestConfiguration } from './data-page-request-configuration.interface';\nimport { Injector } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { IDataPageResult } from './data-page-result.interface';\nimport { RX_DATA_PAGE } from './data-page.constant';\n\nconst DATA_PAGE_API_URL = '/api/rx/application/datapage';\n\nexport class DataPage {\n  http: HttpClient;\n  dataPageType: string;\n  configuration: IDataPageRequestConfiguration;\n\n  private requiredRequestParams = {\n    pageSize: -1,\n    startIndex: 0\n  };\n\n  constructor(\n    injector: Injector,\n    dataPageType: string,\n    defaultDataPageRequestConfiguration: IDataPageRequestConfiguration = {}\n  ) {\n    this.http = injector.get(HttpClient);\n    this.dataPageType = dataPageType;\n    this.configuration = defaultDataPageRequestConfiguration;\n  }\n\n  get(dataPageRequestConfiguration: IDataPageRequestConfiguration = {}): Observable<IDataPageResult> {\n    const requestParams: IDataPageParams = {\n      ...this.requiredRequestParams,\n      ...this.configuration.params,\n      ...dataPageRequestConfiguration.params\n    };\n\n    const requestHeaders = {\n      ...this.configuration.headers,\n      ...dataPageRequestConfiguration.headers\n    };\n\n    let params = new HttpParams().set('dataPageType', this.dataPageType);\n\n    Object.keys(requestParams).forEach((name) => {\n      params = params.set(name, String(requestParams[name]));\n    });\n\n    return this.http.get<IDataPageResult>(DATA_PAGE_API_URL, {\n      headers: new HttpHeaders(requestHeaders),\n      params\n    });\n  }\n\n  getEmptyDataPage(): Observable<IDataPageResult> {\n    return of(RX_DATA_PAGE.emptyDataPage);\n  }\n\n  post(dataPageRequestConfiguration: IDataPageRequestConfiguration = {}): Observable<IDataPageResult> {\n    const requestParams: IDataPageParams = {\n      ...this.requiredRequestParams,\n      ...this.configuration.params,\n      ...dataPageRequestConfiguration.params\n    };\n\n    const requestHeaders = {\n      ...this.configuration.headers,\n      ...dataPageRequestConfiguration.headers\n    };\n\n    const requestBody = { values: { dataPageType: this.dataPageType } };\n\n    Object.keys(requestParams).forEach((name) => {\n      requestBody.values[name] = String(requestParams[name]);\n    });\n\n    return this.http.post<IDataPageResult>(DATA_PAGE_API_URL, requestBody, {\n      headers: new HttpHeaders(requestHeaders)\n    });\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { DataPage } from '../data-page/data-page.class';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxActionTypeDataPageService extends DataPage {\n  constructor(private injector: Injector) {\n    super(injector, 'com.bmc.arsys.rx.application.action.datapage.ActionTypeDataPageQuery');\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxDefinitionNameService {\n  getDisplayName(definitionName: string): string {\n    const name = definitionName || '';\n\n    return name.substring(name.lastIndexOf(':') + 1);\n  }\n\n  getDisplayNameForValidation(definitionName: string): string {\n    const name = definitionName || '';\n\n    return name.substring(name.indexOf(':') + 1);\n  }\n\n  getDefinitionName(bundleId: string, displayName: string): string {\n    return `${bundleId}:${displayName}`;\n  }\n\n  getBundleId(definitionName: string): string {\n    const name = definitionName || '';\n    const matches = name.match(/(.+):/);\n\n    return (matches && matches.pop()) || '';\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { find, includes, isString, upperFirst, words } from 'lodash';\nimport { IBundleDescriptor } from '../bundle';\nimport { RxDefinitionNameService } from '../definition/definition-name.service';\nimport { IActionType } from './action-type.interfaces';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxActionTypeUtilsService {\n  constructor(private rxDefinitionNameService: RxDefinitionNameService) {}\n\n  getActionTypeBundleFriendlyName(bundleDescriptors: IBundleDescriptor[], actionType: IActionType): string {\n    const bundleId = this.rxDefinitionNameService.getBundleId(actionType.actionTypeName);\n\n    return (bundleId && find(bundleDescriptors, { id: bundleId })?.friendlyName) || '';\n  }\n\n  isActionParameterArrayOrList(actionParameter: any) {\n    return isString(actionParameter.dataType) && /^java\\.util\\.List.*|.*\\[.*].*/.test(actionParameter.dataType);\n  }\n\n  prettifyActionTypeName(actionTypeName: string): string {\n    let result = this.rxDefinitionNameService.getDisplayName(actionTypeName);\n\n    if (!includes(actionTypeName, ' ')) {\n      result = words(result, /[a-z|A-Z|0-9]+?([A-Z|0-9]*)+?([-_a-z|0-9]*)+/g)\n        .map((value, index) => (index === 0 ? upperFirst(value) : value))\n        .join(' ');\n    }\n\n    return result;\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { IHttpPostParams } from '../http/http.interfaces';\nimport { ICommand } from './command.interface';\n\nexport class Command implements ICommand {\n  constructor(private resourceType: string, private httpClient: HttpClient) {}\n\n  execute(data?: object, options?: IHttpPostParams): Observable<any> {\n    const payload =\n      data instanceof FormData\n        ? data\n        : {\n            ...data,\n            resourceType: this.resourceType\n          };\n\n    return this.httpClient.post('/api/rx/application/command', payload, options as any);\n  }\n}\n","import { Command } from './command.class';\nimport { ICommand } from './command.interface';\nimport { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxCommandFactoryService {\n  constructor(private httpClient: HttpClient) {}\n\n  forResourceType(resourceType: string): ICommand {\n    return new Command(resourceType, this.httpClient);\n  }\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { last } from 'lodash';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { IPlainObject } from '../common-types';\nimport {\n  IAdminComponentDefinition,\n  IAdminComponentGridData,\n  IAdminComponentSetting,\n  IAdminComponentSettings,\n  IAdminNavigationMenuItem,\n  IAdminSetting\n} from './administration.types';\nimport { RxCommandFactoryService } from '../command';\n\nconst API_URL = '/api/rx/application/admin-settings/local';\nconst SETTINGS_API_URL = '/api/rx/application/admin-settings/component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxAdminSettingsService {\n  constructor(private httpClient: HttpClient, private rxCommandFactoryService: RxCommandFactoryService) {}\n\n  getComponentGridData(componentName: string, customHeaders?: IPlainObject): Observable<IAdminComponentGridData> {\n    return this.httpClient.get<IAdminComponentGridData>(`${API_URL}/component-griddata/${componentName}`, {\n      headers: new HttpHeaders(customHeaders || {})\n    });\n  }\n\n  getComponentDefinition(componentName: string, customHeaders?: IPlainObject): Observable<IAdminComponentDefinition> {\n    return this.httpClient.get<IAdminComponentDefinition>(`${API_URL}/component-definition/${componentName}`, {\n      headers: new HttpHeaders(customHeaders || {})\n    });\n  }\n\n  getAdminNavigationMenuItems(): Observable<IAdminNavigationMenuItem[]> {\n    return this.httpClient\n      .get<{ AdminNavigationMenu: { items: IAdminNavigationMenuItem[] } }>(`${API_URL}/navigation-menu`)\n      .pipe(\n        map(\n          (navigationMenu: { AdminNavigationMenu: { items: IAdminNavigationMenuItem[] } }) =>\n            navigationMenu.AdminNavigationMenu.items\n        )\n      );\n  }\n\n  getComponentSettings(componentName: string, customHeaders?: IPlainObject): Observable<IAdminComponentSettings> {\n    return this.httpClient.get<IAdminComponentSettings>(`${API_URL}/component-settings/${componentName}`, {\n      headers: new HttpHeaders(customHeaders || {})\n    });\n  }\n\n  deleteComponentSettings(componentName: string, customHeaders?: IPlainObject): Observable<any> {\n    return this.httpClient.delete(`${API_URL}/component-settings/${componentName}`, {\n      headers: new HttpHeaders(customHeaders || {})\n    });\n  }\n\n  createComponentSettings(\n    componentName: string,\n    data: IAdminComponentSetting[],\n    customHeaders?: IPlainObject\n  ): Observable<string> {\n    return this.httpClient\n      .post(`${API_URL}/component-settings/${componentName}`, data, {\n        headers: new HttpHeaders(customHeaders || {}),\n        observe: 'response'\n      })\n      .pipe(map((response) => last(response.headers.get('location')?.split('/')) || ''));\n  }\n\n  updateComponentSettings(componentName: string, data: IAdminComponentSetting[], customHeaders?: IPlainObject) {\n    return this.httpClient.put(`${API_URL}/component-settings/${componentName}`, data, {\n      headers: new HttpHeaders(customHeaders || {})\n    });\n  }\n\n  getAdminSetting(componentName: string, customHeaders?: IPlainObject): Observable<IAdminSetting> {\n    return this.httpClient.get<IAdminSetting>(`${SETTINGS_API_URL}/${componentName}`, {\n      headers: new HttpHeaders(customHeaders || {})\n    });\n  }\n\n  createAdminSetting(data: IAdminSetting) {\n    return this.httpClient.post(SETTINGS_API_URL, data);\n  }\n\n  updateAdminSetting(data: IAdminSetting) {\n    return this.httpClient.put(`${SETTINGS_API_URL}/${data.componentName}`, data);\n  }\n\n  deleteAdminSetting(definitionNames: string[]): Observable<any> {\n    return this.rxCommandFactoryService\n      .forResourceType('com.bmc.arsys.rx.application.admin.command.DeleteAdminSettingsComponentDefinitionsCommand')\n      .execute({ definitionNames });\n  }\n}\n","export const RX_ADMINISTRATION = {\n  settingNames: {\n    newApplicationUiOptOut: 'New application UI opt out',\n    newViewDesignerOptOut: 'New view designer opt out'\n  },\n  systemConfigurationUrl: '/api/rx/application/systemconfiguration',\n  submitterModes: {\n    locked: 1\n  },\n  configurationSettingTypes: {\n    shared: {\n      configurationType: 'shared-settings',\n      value: 'shared'\n    },\n    inbundle: {\n      configurationType: 'in-bundle-settings',\n      value: 'inBundle'\n    },\n    external: {\n      configurationType: 'external-settings',\n      value: 'external'\n    }\n  },\n  settingAccessOptions: {\n    application: {\n      value: 'Application'\n    },\n    innovationStudio: {\n      value: 'InnovationStudio'\n    },\n    both: {\n      value: 'Both'\n    },\n    none: {\n      value: 'None'\n    }\n  }\n};\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { isUndefined, isString } from 'lodash';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { RX_ADMINISTRATION } from './administration.constant';\nimport { ISystemConfiguration, SystemConfigurationValue, SystemConfigurationValuesById } from './administration.types';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxSystemConfigurationService {\n  constructor(private httpClient: HttpClient) {}\n\n  private systemConfigurations: SystemConfigurationValuesById = {};\n\n  initialize(): Observable<ISystemConfiguration[]> {\n    return this.queryConfiguration(['Submitter-Mode']).pipe(\n      tap((systemConfigurations: ISystemConfiguration[]) => {\n        this.systemConfigurations = systemConfigurations.reduce<SystemConfigurationValuesById>(\n          (configs, systemConfiguration) => {\n            configs[systemConfiguration.id] = systemConfiguration.value;\n\n            return configs;\n          },\n          {}\n        );\n      })\n    );\n  }\n\n  getConfigurationSync(identifier: string): SystemConfigurationValue {\n    if (this.systemConfigurations) {\n      const configValue = this.systemConfigurations[identifier];\n\n      if (isUndefined(configValue)) {\n        throw new Error(`System configuration ${identifier} is not available.`);\n      }\n\n      return configValue;\n    } else {\n      throw new Error('System configuration service is not initialized.');\n    }\n  }\n\n  getConfiguration(configurationName: string): Observable<ISystemConfiguration> {\n    return this.httpClient.get<ISystemConfiguration>(\n      `${RX_ADMINISTRATION.systemConfigurationUrl}/${configurationName}`\n    );\n  }\n\n  setConfiguration(configurationName: string, configurationValue: any): Observable<any> {\n    return this.httpClient.put(`${RX_ADMINISTRATION.systemConfigurationUrl}/${configurationName}`, {\n      name: configurationName,\n      value: isString(configurationValue) ? configurationValue : JSON.stringify(configurationValue)\n    });\n  }\n\n  queryConfiguration(identifiers: string[]): Observable<ISystemConfiguration[]> {\n    const queryString = identifiers.map((identifier) => `identifier=${encodeURIComponent(identifier)}`).join('&');\n\n    return this.httpClient.get<ISystemConfiguration[]>(\n      `${RX_ADMINISTRATION.systemConfigurationUrl}/query?${queryString}`\n    );\n  }\n}\n","import { IDataPageRequestConfiguration } from './data-page-request-configuration.interface';\nimport { DataPage } from './data-page.class';\nimport { Injectable, Injector } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxDataPageFactoryService {\n  constructor(private injector: Injector) {}\n\n  withType(dataPageType: string, defaultDataPageRequestConfiguration?: IDataPageRequestConfiguration): DataPage {\n    return new DataPage(this.injector, dataPageType, defaultDataPageRequestConfiguration);\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { DataPage } from '../data-page';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxAdminComponentDataPageService extends DataPage {\n  constructor(private injector: Injector) {\n    super(injector, 'com.bmc.arsys.rx.application.admin.datapage.AdminComponentDataPageQuery');\n  }\n}\n","export const RX_APPLICATION = {\n  platformBundleId: 'com.bmc.arsys.rx.client',\n  platformBundleIdPrefix: 'com.bmc.arsys.',\n  platformBundleIds: {\n    approvalCoreService: 'com.bmc.dsom.approval-core-service',\n    foundation: 'com.bmc.arsys.rx.foundation'\n  },\n  chatbotBundleId: 'com.bmc.dsm.chatbot',\n  settingsBundleId: 'com.bmc.arsys.rx.settings',\n  shellDefinitionName: 'BMC Modern Shell',\n  environmentConfigurationBundleId: 'com.bmc.arsys.rx.environment-configuration',\n  innovationStudioBundleId: 'com.bmc.arsys.rx.innovationstudio',\n  standardlib: 'standardlib',\n  approvalBundleId: 'com.bmc.arsys.rx.approval',\n  dataloadBundleId: 'com.bmc.arsys.rx.dataload',\n  angularJsApplicationBundleIds: [\n    'com.bmc.arsys.rx.settings',\n    'com.bmc.bsm.chatops',\n    'com.bmc.dsm.chatbot',\n    'com.bmc.dsm.comaroundMigration',\n    'com.example.taskmanager',\n    'com.example.taskmanager-lib'\n  ],\n  angularJsViewDesignerBundleIds: ['com.example.taskmanager', 'com.example.taskmanager-lib'],\n  ipaasJitterbitBundleId: 'com.bmc.dsm.ipaas-jitterbit',\n  ipaasMulesoftBundleId: 'com.bmc.dsm.ipaas-mulesoft',\n  routeReuseStrategies: {\n    checkParentParams: 'checkParentParams'\n  }\n};\n","import { Injectable, Injector } from '@angular/core';\nimport { DataPage } from '../data-page/data-page.class';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxBundleDataPageService extends DataPage {\n  constructor(private injector: Injector) {\n    super(injector, 'com.bmc.arsys.rx.application.bundle.datapage.BundleDescriptorDataPageQuery', {\n      params: {\n        includeNonLicensedBundles: true\n      }\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { shareReplay } from 'rxjs/operators';\nimport { IUser } from './user.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxCurrentUserService {\n  private userSubject$ = new BehaviorSubject<IUser | null>(null);\n  user$: Observable<IUser | null> = this.userSubject$.asObservable().pipe(shareReplay(1));\n\n  getPreferredLocale(): string {\n    return this.get()?.preferredLocale ?? '';\n  }\n\n  getPreferredUserLocale(): string {\n    return this.get()?.preferredUserLocale ?? '';\n  }\n\n  getName(): string {\n    return this.get()?.loginName ?? '';\n  }\n\n  set(user: IUser): void {\n    this.userSubject$.next(user);\n  }\n\n  get(): IUser | null {\n    return this.userSubject$.getValue();\n  }\n\n  isBusinessAnalyst(): boolean {\n    return this.get()?.isBusinessAnalyst ?? false;\n  }\n\n  isAdministrator(): boolean {\n    return this.get()?.isAdministrator ?? false;\n  }\n\n  getEditableBundles(): string[] {\n    return this.get()?.editableBundles || [];\n  }\n\n  isSupportStaff(): boolean {\n    return this.get()?.supportStaff ?? false;\n  }\n\n  isAvailableForAssignment(): boolean {\n    return this.get()?.assignmentAvailable ?? false;\n  }\n\n  setAssignmentAvailability(assignmentAvailable: boolean): void {\n    const user = this.get();\n\n    if (user) {\n      user.assignmentAvailable = assignmentAvailable;\n    }\n  }\n}\n","export enum LogCategory {\n  Sql = 'sql',\n  Api = 'api',\n  Rule = 'rule',\n  Process = 'process',\n  Bundle = 'bundle',\n  Cli = 'cli',\n  All = 'all'\n}\n\nexport const RX_LOG = {\n  serverLogCategories: [LogCategory.Sql, LogCategory.Api, LogCategory.Rule, LogCategory.Process, LogCategory.Bundle],\n  clientLogCategories: [LogCategory.Cli]\n};\n","import { Injectable } from '@angular/core';\nimport { includes, intersection } from 'lodash';\nimport moment from 'moment-es6';\nimport { RxCurrentUserService } from '../user/current-user.service';\nimport { RX_LOG, LogCategory } from './log.types';\n\nconst sessionLogCategoriesKey = 'RX_LOG_CATEGORIES';\n\n// tslint:disable:no-console\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxLogService {\n  private categories: LogCategory[];\n  private serverCategories = '';\n  private shouldLogEverything = false;\n\n  get logCategories(): string[] {\n    return this.categories || [];\n  }\n\n  get serverLogCategories(): string {\n    return this.serverCategories;\n  }\n\n  constructor(private rxCurrentUserService: RxCurrentUserService) {\n    try {\n      const storedCategories = sessionStorage.getItem(sessionLogCategoriesKey);\n\n      this.categories = storedCategories ? JSON.parse(storedCategories) : [];\n    } catch (e) {\n      this.categories = [];\n    }\n\n    this.configure(this.categories);\n  }\n\n  configure(categories: LogCategory[]): void {\n    this.shouldLogEverything = includes(categories, LogCategory.All);\n\n    this.serverCategories = this.shouldLogEverything\n      ? RX_LOG.serverLogCategories.join(',')\n      : intersection(categories, RX_LOG.serverLogCategories).join(',');\n\n    this.categories = this.shouldLogEverything ? [LogCategory.All] : categories;\n\n    this.categories.length\n      ? sessionStorage.setItem(sessionLogCategoriesKey, JSON.stringify(this.categories))\n      : sessionStorage.removeItem(sessionLogCategoriesKey);\n  }\n\n  error(message: string): void {\n    console.error(this.prepareLogMessage(message, 'E'));\n  }\n\n  warning(message: string): void {\n    console.warn(this.prepareLogMessage(message, 'W'));\n  }\n\n  info(message: string): void {\n    if (this.shouldLogEverything || includes(this.logCategories, LogCategory.Cli)) {\n      console.info(this.prepareLogMessage(message, 'I'));\n    }\n  }\n\n  debug(message: string): void {\n    if (this.shouldLogEverything || includes(this.logCategories, LogCategory.Cli)) {\n      console.debug(this.prepareLogMessage(message, 'D'));\n    }\n  }\n\n  log(message: string): void {\n    if (this.logCategories.length) {\n      console.log(message);\n    }\n  }\n\n  // tslint:disable:no-trailing-whitespace\n  private prepareLogMessage(text: string, type: string): string {\n    const currentUser = this.rxCurrentUserService.get();\n\n    return (\n      `<CLI${type}> ` +\n      '<TID: 0000000000> ' +\n      '<RPC ID: 0000000000> ' +\n      '<Queue:           > ' +\n      `<USER: ${currentUser ? currentUser.loginName : ''}                                        > ` +\n      '<Tenant-ID:                                             > ' +\n      `<Overlay-Group: ${currentUser ? currentUser.defaultOverlayGroupId : ''}         > ` +\n      `/* ${moment().format('ddd MMM DD YYYY HH:mm:ss.SSSS')} */ ${text}`\n    );\n  }\n}\n","export enum RxBundleLoadType {\n  always = 'always',\n  lazy = 'lazy',\n  never = 'never'\n}\n","import { Injectable, Injector } from '@angular/core';\n\nimport { DataPage } from '../data-page/data-page.class';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxFunctionDataPageService extends DataPage {\n  constructor(private injector: Injector) {\n    super(injector, 'com.bmc.arsys.rx.application.workflow.datapage.FunctionDescriptorDataPageQuery');\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { RxBundleDataPageService } from '../bundle/bundle-data-page.service';\nimport { IBundleDescriptor } from '../bundle/bundle.interfaces';\nimport { defaults } from 'lodash';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { map, shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { RxLogService } from '../logging/log.service';\nimport { IDataPageResult } from '../data-page';\nimport { RxBundleLoadType } from '../bundle/bundle-load.types';\nimport { RX_APPLICATION } from '../application';\nimport { IFunctionDescriptor } from '../function/function-descriptor.interfaces';\nimport { RxFunctionDataPageService } from '../function/function-data-page.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxGlobalCacheService {\n  private bundleDescriptorsById: { [id: string]: Observable<IBundleDescriptor> } = {};\n  private bundleDescriptors: Observable<IBundleDescriptor[]> | null = null;\n  private functionDescriptors: Observable<IFunctionDescriptor[]> = null;\n\n  private applicationIdValue = '';\n  private applicationIdSubject = new ReplaySubject<string>(1);\n  public applicationId$ = this.applicationIdSubject.asObservable();\n\n  get applicationId(): string {\n    return this.applicationIdValue;\n  }\n\n  set applicationId(value: string) {\n    if (this.applicationIdValue !== value) {\n      this.applicationIdValue = value;\n\n      this.applicationIdSubject.next(value);\n\n      this.rxLogService.debug(`RxGlobalCacheService: application ID set to ${value}`);\n    }\n  }\n\n  constructor(\n    private rxBundleDataPageService: RxBundleDataPageService,\n    private rxFunctionDataPageService: RxFunctionDataPageService,\n    private rxLogService: RxLogService\n  ) {}\n\n  getBundleDescriptors(): Observable<IBundleDescriptor[]> {\n    if (!this.bundleDescriptors) {\n      this.bundleDescriptors = this.rxBundleDataPageService.get().pipe(\n        map(\n          (bundleDescriptors: IDataPageResult) =>\n            bundleDescriptors.data.map((dataPageData) => {\n              const defaultUiOptions = {\n                options: {\n                  loadJs: RxBundleLoadType.always,\n                  loadCss: RxBundleLoadType.always\n                }\n              };\n\n              let uiOptions;\n\n              try {\n                uiOptions = JSON.parse(dataPageData.uiOptions) ?? defaultUiOptions;\n\n                if (Boolean(uiOptions.options) && typeof uiOptions.options === 'object') {\n                  defaults(uiOptions.options, defaultUiOptions.options);\n                } else {\n                  this.rxLogService.warning(`Invalid structure of uiOptions in bundle ${dataPageData.name}.`);\n\n                  uiOptions = defaultUiOptions;\n                }\n              } catch (e) {\n                this.rxLogService.warning(`Cannot parse uiOptions in bundle ${dataPageData.name}.`);\n\n                uiOptions = defaultUiOptions;\n              }\n\n              return {\n                ...dataPageData,\n                uiOptions\n              };\n            }) as IBundleDescriptor[]\n        ),\n        shareReplay(1)\n      );\n    }\n\n    return this.bundleDescriptors;\n  }\n\n  getFunctionDescriptors(): Observable<IFunctionDescriptor[]> {\n    if (!this.functionDescriptors) {\n      this.functionDescriptors = this.rxFunctionDataPageService.get().pipe(\n        map((dataPage) => dataPage.data as IFunctionDescriptor[]),\n        shareReplay(1)\n      );\n    }\n\n    return this.functionDescriptors;\n  }\n\n  getLicensedBundleDescriptors(): Observable<IBundleDescriptor[]> {\n    return this.getBundleDescriptors().pipe(\n      map((bundleDescriptors) => bundleDescriptors.filter((bundleDescriptor) => bundleDescriptor.isLicensed))\n    );\n  }\n\n  getBundleDescriptor(bundleId: string): Observable<IBundleDescriptor> {\n    if (!this.bundleDescriptorsById[bundleId]) {\n      this.bundleDescriptorsById[bundleId] = this.getBundleDescriptors().pipe(\n        map(\n          (bundleDescriptors) =>\n            bundleDescriptors.find((bundleDescriptor) => bundleDescriptor.id === bundleId) as IBundleDescriptor\n        ),\n        shareReplay(1)\n      );\n    }\n\n    return this.bundleDescriptorsById[bundleId];\n  }\n\n  getApplicationBundleDescriptor(): Observable<IBundleDescriptor> {\n    return this.applicationIdSubject.pipe(switchMap((applicationId) => this.getBundleDescriptor(applicationId)));\n  }\n\n  private _getBundleFriendlyName(descriptor: IBundleDescriptor, defaultValue?: string): string {\n    return descriptor?.friendlyName || descriptor?.id || defaultValue || '';\n  }\n\n  getBundleFriendlyName(bundleId: string, defaultValue?: string): Observable<string> {\n    return this.getBundleDescriptor(bundleId).pipe(\n      map((bundleDescriptor) => this._getBundleFriendlyName(bundleDescriptor, defaultValue))\n    );\n  }\n\n  getBundleDisplayName(bundleId: string): Observable<string> {\n    return this.getBundleDescriptor(bundleId).pipe(\n      map(\n        (bundleDescriptor) =>\n          (this.applicationId !== RX_APPLICATION.innovationStudioBundleId && bundleDescriptor?.localizedDisplayName) ||\n          this._getBundleFriendlyName(bundleDescriptor)\n      )\n    );\n  }\n\n  clear() {\n    this.bundleDescriptorsById = {};\n    this.bundleDescriptors = null;\n    this.functionDescriptors = null;\n\n    this.rxLogService.debug('RxGlobalCacheService: cleared.');\n  }\n}\n","import { DOCUMENT } from '@angular/common';\nimport { HttpClient } from '@angular/common/http';\nimport { Compiler, Inject, Injectable, Injector } from '@angular/core';\nimport { camelCase, includes, upperFirst } from 'lodash';\nimport { forkJoin, Observable, of } from 'rxjs';\nimport { map, shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { RxGlobalCacheService } from '../caching/global-cache.service';\nimport { IHttpGetParams } from '../http/http.interfaces';\nimport { RxLogService } from '../logging/log.service';\nimport { RxBundleLoadType } from './bundle-load.types';\nimport { IBundleContext, IBundleDescriptor } from './bundle.interfaces';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxBundleService {\n  private baseUrl = '/api/rx/application/bundle/bundledescriptor/';\n  private bundleJs = {};\n  private bundleCss = {};\n\n  constructor(\n    @Inject(DOCUMENT) private document: any,\n    private compiler: Compiler,\n    private httpClient: HttpClient,\n    private injector: Injector,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxLogService: RxLogService\n  ) {}\n\n  get(bundleId: string, options?: IHttpGetParams): Observable<IBundleDescriptor> {\n    const url = this.baseUrl + bundleId;\n\n    return this.httpClient.get<IBundleDescriptor>(url, options);\n  }\n\n  // During login we issue a call to bundle descriptor rest api to get the current bundle\n  // information. If the user is not logged in yet we have to call the jsonp\n  // version that does not return an object but a method passing the object:\n  // rxLoadBundles({...}).\n  // Since we do not have this method in Angular (not in bootstrap.js), the workaround is to\n  // read the jsonp answer as text, extract the content withing the method call using regexp\n  // and then parse the bundle descriptor object.\n  getFromJsonp(bundleId: string): Observable<IBundleDescriptor> {\n    return this.httpClient.get(this.baseUrl + bundleId + '/jsonp', { responseType: 'text' }).pipe(\n      map((jsonpResult) => {\n        return JSON.parse(/\\(([^)]+)\\)/.exec(jsonpResult)[1]);\n      })\n    );\n  }\n\n  loadBundles(bundleIds: string[], force: boolean): Observable<IBundleContext[]> {\n    const loaders$ = bundleIds.map((bundleId) =>\n      this.rxGlobalCacheService.getBundleDescriptor(bundleId).pipe(\n        tap((bundleDescriptor) => {\n          if (\n            force ||\n            bundleDescriptor.uiOptions.options.loadCss === RxBundleLoadType.always ||\n            includes(bundleDescriptor.uiOptions.applicationInitializers, this.rxGlobalCacheService.applicationId)\n          ) {\n            this.loadBundleCss(bundleDescriptor);\n          }\n        }),\n        switchMap((bundleDescriptor) =>\n          force ||\n          bundleDescriptor.uiOptions.options.loadJs === RxBundleLoadType.always ||\n          includes(bundleDescriptor.uiOptions.applicationInitializers, this.rxGlobalCacheService.applicationId)\n            ? this.loadBundle(bundleDescriptor)\n            : of({ bundleId: bundleDescriptor.id, isBundleCompiled: false, isFileLoaded: false })\n        )\n      )\n    );\n\n    return forkJoin(loaders$);\n  }\n\n  private loadBundle(bundleDescriptor: IBundleDescriptor): Observable<IBundleContext> {\n    if (!this.bundleJs[bundleDescriptor.id]) {\n      this.bundleJs[bundleDescriptor.id] = this.loadBundleJs(bundleDescriptor).pipe(\n        switchMap((bundleContext: IBundleContext) => this.compileBundle(bundleContext)),\n        shareReplay(1)\n      );\n    }\n\n    return this.bundleJs[bundleDescriptor.id];\n  }\n\n  private compileBundle(bundleContext: IBundleContext): Observable<IBundleContext> {\n    return new Observable((observer) => {\n      if (bundleContext.isFileLoaded) {\n        bundleContext.module.then((module) => {\n          const moduleName = `${upperFirst(camelCase(bundleContext.bundleId))}Module`;\n\n          try {\n            const factory = this.compiler.compileModuleSync(module[moduleName]);\n\n            if (factory) {\n              factory.create(this.injector);\n              bundleContext.isBundleCompiled = true;\n\n              this.rxLogService.debug(`${bundleContext.bundleId}: loaded successfully.`);\n            } else {\n              this.rxLogService.error(\n                `ERROR! ${bundleContext.bundleId}: cannot find module factory for ${moduleName}.`\n              );\n            }\n          } catch (error) {\n            this.rxLogService.error(`ERROR! ${bundleContext.bundleId}:\\n${error}`);\n          }\n\n          observer.next(bundleContext);\n          observer.complete();\n        });\n      } else {\n        this.rxLogService.error(\n          `ERROR! ${bundleContext.bundleId}:\\n${bundleContext.message?.stack ?? bundleContext.message}`\n        );\n\n        observer.next(bundleContext);\n        observer.complete();\n      }\n    });\n  }\n\n  private loadBundleJs(bundleDescriptor: IBundleDescriptor): Observable<IBundleContext> {\n    const dasherizedBundleId = bundleDescriptor.id.replace(/\\./g, '-');\n    const cacheBuster = new Date(bundleDescriptor.lastDeployedTime).getTime();\n    const fileName = `../${bundleDescriptor.id}/scripts/libs_${dasherizedBundleId}_src_index_ts.js?_v=${cacheBuster}`;\n    const modulePathMapping = `./libs/${dasherizedBundleId}/src/index.ts`;\n\n    this.rxLogService.debug(`${bundleDescriptor.id}: loading from ${fileName}.`);\n\n    // WARNING! webpackIgnore comment below is critical for dynamic imports to work, DO NOT REMOVE!\n    const module = import(/* webpackIgnore: true */ `${fileName}`).then(\n      // WARNING! comment below is critical for dynamic imports to work, DO NOT REMOVE!\n      // @ts-ignore\n      __webpack_require__.bind(null, `${modulePathMapping}`)\n    );\n\n    return new Observable<IBundleContext>((observer) => {\n      module.then(\n        () => {\n          observer.next({\n            bundleId: bundleDescriptor.id,\n            isBundleCompiled: false,\n            isFileLoaded: true,\n            module: module\n          });\n\n          observer.complete();\n        },\n        (error: Error) => {\n          observer.next({\n            bundleId: bundleDescriptor.id,\n            isBundleCompiled: false,\n            isFileLoaded: false,\n            message: error\n          });\n\n          observer.complete();\n        }\n      );\n    });\n  }\n\n  private loadBundleCss(bundleDescriptor: IBundleDescriptor): void {\n    if (!this.bundleCss[bundleDescriptor.id]) {\n      const cacheBuster = new Date(bundleDescriptor.lastDeployedTime).getTime();\n      const link = document.createElement('link');\n\n      link.id = bundleDescriptor.id;\n      link.href = `/${bundleDescriptor.id}/scripts/${bundleDescriptor.id.replace(/\\./g, '-')}.css?_v=${cacheBuster}`;\n      link.type = 'text/css';\n      link.rel = 'stylesheet';\n\n      this.document.head.appendChild(link);\n      this.bundleCss[bundleDescriptor.id] = true;\n    }\n  }\n}\n","const bundleTypes = {\n  application: 'Application',\n  library: 'Library'\n};\n\nconst definitionScopeNames = {\n  application: bundleTypes.application,\n  library: bundleTypes.library,\n  public: 'Public'\n};\n\nconst definitionScopeTypes = {\n  bundle: 'BUNDLE',\n  public: 'PUBLIC'\n};\n\nexport const RX_BUNDLE = {\n  bundleTypes,\n  definitionScopeNames,\n  definitionScopeTypes,\n\n  definitionScopes: {\n    application: {\n      displayName: definitionScopeNames.application,\n      type: definitionScopeTypes.bundle\n    },\n\n    library: {\n      displayName: definitionScopeNames.library,\n      type: definitionScopeTypes.bundle\n    },\n\n    public: {\n      displayName: definitionScopeNames.public,\n      type: definitionScopeTypes.public\n    }\n  },\n\n  applicationDefinitionScopeSelectionOptions: [\n    {\n      id: definitionScopeTypes.bundle,\n      name: definitionScopeNames.application\n    },\n    {\n      id: definitionScopeTypes.public,\n      name: definitionScopeNames.public\n    }\n  ],\n\n  libraryDefinitionScopeSelectionOptions: [\n    {\n      id: definitionScopeTypes.bundle,\n      name: definitionScopeNames.library\n    },\n    {\n      id: definitionScopeTypes.public,\n      name: definitionScopeNames.public\n    }\n  ]\n};\n","import { Injectable } from '@angular/core';\nimport { IBundleDescriptor } from '../bundle/bundle.interfaces';\nimport { RX_BUNDLE } from '../bundle/bundle.constant';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxDefinitionService {\n  getScopeName(definitionScopeType: string, bundleDescriptor: IBundleDescriptor): string {\n    return definitionScopeType === RX_BUNDLE.definitionScopeTypes.bundle\n      ? bundleDescriptor.isApplication\n        ? RX_BUNDLE.definitionScopeNames.application\n        : RX_BUNDLE.definitionScopeNames.library\n      : RX_BUNDLE.definitionScopeNames.public;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { RxLogService } from '../logging/log.service';\nimport { RxGlobalCacheService } from './global-cache.service';\nimport { RX_BUNDLE } from '../bundle/bundle.constant';\nimport { map, shareReplay, switchMap } from 'rxjs/operators';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { IBundleDescriptor } from '../bundle';\nimport { IScopeSelectionOption } from '../common-types';\nimport { RxActionTypeDataPageService } from '../action-type/action-type-data-page.service';\nimport { IActionType } from '../action-type/action-type.interfaces';\nimport { IDataPageResult } from '../data-page';\nimport { RxDefinitionService } from '../definition/definition.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxBundleCacheService {\n  private actionTypes$: Observable<IActionType[]> = this.rxActionTypeDataPageService\n    .get({ params: { requireDependent: true } })\n    .pipe(\n      map((actionTypes: IDataPageResult) => actionTypes.data as IActionType[]),\n      shareReplay(1)\n    );\n\n  private bundleIdValue: string;\n  private bundleIdSubject$ = new ReplaySubject<string>(1);\n  public bundleId$ = this.bundleIdSubject$.asObservable();\n\n  constructor(\n    private rxActionTypeDataPageService: RxActionTypeDataPageService,\n    private rxLogService: RxLogService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxDefinitionService: RxDefinitionService\n  ) {}\n\n  get bundleId(): string {\n    return this.bundleIdValue;\n  }\n\n  set bundleId(value: string) {\n    this.bundleIdValue = value;\n\n    this.bundleIdSubject$.next(value);\n\n    this.rxLogService.debug(`RxBundleCacheService: bundle ID set to ${value}`);\n  }\n\n  getActionTypes(): Observable<IActionType[]> {\n    return this.actionTypes$;\n  }\n\n  getCurrentBundleDescriptor(): Observable<IBundleDescriptor> {\n    return this.bundleId$.pipe(switchMap((bundleId) => this.rxGlobalCacheService.getBundleDescriptor(bundleId)));\n  }\n\n  getDefinitionScopeName(definitionScopeType: string): Observable<string> {\n    return this.getCurrentBundleDescriptor().pipe(\n      map((bundleDescriptor) => this.rxDefinitionService.getScopeName(definitionScopeType, bundleDescriptor))\n    );\n  }\n\n  getDefinitionScopeSelectionOptions(): Observable<IScopeSelectionOption[]> {\n    return this.getCurrentBundleDescriptor().pipe(\n      map((bundleDescriptor) =>\n        bundleDescriptor.isApplication\n          ? RX_BUNDLE.applicationDefinitionScopeSelectionOptions\n          : RX_BUNDLE.libraryDefinitionScopeSelectionOptions\n      )\n    );\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const RX_DEFAULT_STRINGS = new InjectionToken('RX_DEFAULT_STRINGS');\n\nexport interface ILocalizedStringsForLoginPageResponse {\n  [locale: string]: {\n    [key: string]: string;\n  };\n}\n\nexport interface ILocalizedStrings {\n  [key: string]: string;\n}\n\nexport interface ILocaleInfo {\n  moment?: string;\n  angular?: string;\n  adapt?: string;\n  similar?: string[];\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const RX_BUILD_ENVIRONMENT = new InjectionToken('buildEnvironment');\n","import { Inject, Injectable, isDevMode } from '@angular/core';\nimport { RX_BUILD_ENVIRONMENT } from './build-environment.constant';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxRssoDebugService {\n  constructor(@Inject(RX_BUILD_ENVIRONMENT) private rxBuildEnvironment: any) {}\n\n  isRssoDebugEnabled(): boolean {\n    return isDevMode() && Boolean(this.rxBuildEnvironment.isRssoDebugEnabled);\n  }\n}\n","import { DOCUMENT } from '@angular/common';\nimport { HttpClient, HttpResponse } from '@angular/common/http';\nimport { Inject, Injectable } from '@angular/core';\n\nimport { AdaptTranslateService } from '@bmc-ux/adapt-angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { findKey, some } from 'lodash';\nimport moment from 'moment-es6';\nimport { Observable, of } from 'rxjs';\nimport { filter, map, mapTo, shareReplay, switchMap, take, tap } from 'rxjs/operators';\nimport { RxCurrentUserService } from '../user/current-user.service';\nimport {\n  ILocaleInfo,\n  ILocalizedStrings,\n  ILocalizedStringsForLoginPageResponse,\n  RX_DEFAULT_STRINGS\n} from './localization.types';\nimport { RxRssoDebugService } from '../dev/rsso-debug.service';\n\nconst SUPPORTED_LOCALES: { [key: string]: ILocaleInfo } = {\n  de: { adapt: 'de-de' },\n  en: { adapt: 'en-us' },\n  es: { adapt: 'es-es' },\n  fr: { adapt: 'fr-fr' },\n  it: { adapt: 'it-it' },\n  ja: { adapt: 'ja-jp' },\n  ko: { adapt: 'ko-kr' },\n  nl: { adapt: 'nl-nl' },\n  pt: { adapt: 'pt-br' },\n  ru: { adapt: 'ru-ru' },\n  sv: { adapt: 'sv-se' },\n  da: { adapt: 'da-dk' },\n  no: { moment: 'nb', angular: 'nb', adapt: 'no-no', similar: ['nb', 'nn'] },\n  'zh-Hans': { moment: 'zh-CN', adapt: 'zh-cn', similar: ['zh-CN'] }\n};\n\nconst LOGIN_LOCALE = 'login';\nconst DEFAULT_LOCALE = 'en';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxLocalizationService {\n  currentLocale: string = DEFAULT_LOCALE;\n  angularLocale: string = DEFAULT_LOCALE;\n\n  onTranslationsLoaded$ = this.translateService.onLangChange.pipe(shareReplay(1));\n\n  loginLocalizedStrings$ = this.getLocalizedStringsForLoginPage().pipe(shareReplay(1));\n\n  private preferredLocale$: Observable<string> = this.rxCurrentUserService.user$.pipe(\n    filter(Boolean),\n    take(1),\n    map(() => this.rxCurrentUserService.getPreferredLocale() || this.rxCurrentUserService.getPreferredUserLocale()),\n    switchMap((preferredLocale) =>\n      preferredLocale\n        ? of(preferredLocale)\n        : this.loginLocalizedStrings$.pipe(map((response) => Object.keys(response.body)[0]))\n    ),\n    map((locale) => this.normalizeLocale(locale)),\n    shareReplay(1)\n  );\n\n  constructor(\n    private httpClient: HttpClient,\n    private translateService: TranslateService,\n    private rxCurrentUserService: RxCurrentUserService,\n    private adaptTranslateService: AdaptTranslateService,\n    private rxRssoDebugService: RxRssoDebugService,\n    @Inject(DOCUMENT) private document: any,\n    @Inject(RX_DEFAULT_STRINGS) private defaultStrings: ILocalizedStrings\n  ) {}\n\n  getDefaultApplicationStrings(): ILocalizedStrings {\n    return this.defaultStrings;\n  }\n\n  setDefaultApplicationStrings(defaultApplicationStrings: ILocalizedStrings) {\n    this.defaultStrings = { ...this.defaultStrings, ...defaultApplicationStrings };\n  }\n\n  initLoginTranslations(): Observable<ILocalizedStringsForLoginPageResponse> {\n    return this.loginLocalizedStrings$.pipe(\n      map((response) => response.body),\n      tap((payload) => {\n        const localeKey = Object.keys(payload)[0];\n\n        this.setLocale(this.normalizeLocale(localeKey));\n        this.translateService.setTranslation(LOGIN_LOCALE, payload[localeKey], true);\n      }),\n      switchMap(() => this.translateService.use(LOGIN_LOCALE))\n    );\n  }\n\n  initTranslations(useDefault = false): Observable<string> {\n    return (useDefault ? of(DEFAULT_LOCALE) : this.preferredLocale$).pipe(\n      switchMap((locale) => this.translateService.use(locale).pipe(mapTo(locale))),\n      tap((locale) => {\n        this.setLocale(locale);\n\n        const adaptLocale = this.getCurrentLocaleDescriptor().adapt;\n\n        Object.assign(this.adaptTranslateService.languages[adaptLocale], {\n          'adapt.rx.error.min': this.translateService.instant('com.bmc.arsys.rx.client.error.min'),\n          'adapt.rx.error.max': this.translateService.instant('com.bmc.arsys.rx.client.error.max'),\n          'adapt.rx.error.required': this.translateService.instant(\n            'com.bmc.arsys.rx.client.view-components.validation.required.message'\n          ),\n          'adapt.select.emptyStateDescription': ''\n        });\n      })\n    );\n  }\n\n  private setLocale(locale: string): void {\n    this.currentLocale = locale;\n    this.setDocumentLang(this.currentLocale);\n\n    const descriptor = this.getCurrentLocaleDescriptor();\n\n    this.adaptTranslateService.useLanguage(descriptor.adapt);\n    moment.locale(descriptor.moment);\n    this.angularLocale = descriptor.angular;\n  }\n\n  private getCurrentLocaleDescriptor(): ILocaleInfo {\n    const locale = findKey(SUPPORTED_LOCALES, (localeInfo: ILocaleInfo, key: string) => {\n      const language = this.currentLocale.split('-')[0];\n\n      return (\n        key === this.currentLocale ||\n        key === language ||\n        some(localeInfo.similar, (item) => item === this.currentLocale || item === language)\n      );\n    });\n\n    return {\n      angular: locale ? SUPPORTED_LOCALES[locale].angular || locale : DEFAULT_LOCALE,\n      moment: (SUPPORTED_LOCALES[locale] && SUPPORTED_LOCALES[locale].moment) || this.currentLocale,\n      adapt: (SUPPORTED_LOCALES[locale] && SUPPORTED_LOCALES[locale].adapt) || SUPPORTED_LOCALES[DEFAULT_LOCALE].adapt\n    };\n  }\n\n  private getLocalizedStringsForLoginPage(): Observable<HttpResponse<ILocalizedStringsForLoginPageResponse>> {\n    // When debugging on an RSSO environment, this (/api/rx/application/logincontent/login.json) call fails\n    // repeatedly with a http 401 error,so we have bypassed it. This call is only useful for the Innovation\n    // Studio login page which is not accessed in RSSO environment.\n    return this.rxRssoDebugService.isRssoDebugEnabled()\n      ? of()\n      : this.httpClient.get<ILocalizedStringsForLoginPageResponse>('/api/rx/application/logincontent/login.json', {\n          observe: 'response'\n        });\n  }\n\n  private setDocumentLang(lang: string): void {\n    this.document.documentElement.setAttribute('lang', lang);\n  }\n\n  // Safari returns the web browser locale information Region in lowercase\n  // en-us instead of en-US which causes issues with localized field.\n  private normalizeLocale(locale: string): string {\n    const localeInformation = locale.split('-');\n\n    if (localeInformation.length > 1) {\n      localeInformation[1] = localeInformation[1].toUpperCase();\n    }\n\n    return localeInformation.join('-');\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { RxLocalizationService } from './localization.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxLoginLocalizationResolver implements Resolve<Observable<any>> {\n  constructor(private rxLocalizationService: RxLocalizationService) {}\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any> {\n    return this.rxLocalizationService.initLoginTranslations();\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { ILocalizedStrings } from './localization.types';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxLocalizedStringsLoaderService {\n  baseUrl = '/api/rx/application/localizedstrings';\n\n  constructor(private httpClient: HttpClient) {}\n\n  getTranslation(locale: string): Observable<ILocalizedStrings> {\n    return locale === 'login' ? of({}) : this.httpClient.get<ILocalizedStrings>(`${this.baseUrl}?locale=${locale}`);\n  }\n\n  uploadTranslation(bundleId: string, locale: string, translations: Object): Observable<any> {\n    return this.httpClient.post(`${this.baseUrl}/${bundleId}?locale=${locale}`, translations);\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { MissingTranslationHandler, MissingTranslationHandlerParams } from '@ngx-translate/core';\nimport { RxLocalizationService } from './localization.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxMissingTranslationHandler implements MissingTranslationHandler {\n  private rxLocalizationService: RxLocalizationService;\n\n  constructor(private injector: Injector) {}\n\n  handle(params: MissingTranslationHandlerParams) {\n    this.rxLocalizationService = this.rxLocalizationService || this.injector.get(RxLocalizationService);\n\n    const defaultApplicationStrings = this.rxLocalizationService.getDefaultApplicationStrings();\n\n    return defaultApplicationStrings.hasOwnProperty(params.key)\n      ? params.translateService.parser.interpolate(defaultApplicationStrings[params.key], params.interpolateParams)\n      : params.key;\n  }\n}\n","import { CommonModule, registerLocaleData } from '@angular/common';\nimport { HttpClient } from '@angular/common/http';\nimport localeDa from '@angular/common/locales/da';\nimport localeDe from '@angular/common/locales/de';\nimport localeEs from '@angular/common/locales/es';\nimport localeFr from '@angular/common/locales/fr';\nimport localeIt from '@angular/common/locales/it';\nimport localeJa from '@angular/common/locales/ja';\nimport localeKo from '@angular/common/locales/ko';\nimport localeNb from '@angular/common/locales/nb';\nimport localeNl from '@angular/common/locales/nl';\nimport localePt from '@angular/common/locales/pt';\nimport localeRu from '@angular/common/locales/ru';\nimport localeSv from '@angular/common/locales/sv';\nimport localeZhHans from '@angular/common/locales/zh-Hans';\nimport { Injector, LOCALE_ID, NgModule } from '@angular/core';\nimport { MissingTranslationHandler, TranslateLoader, TranslateModule } from '@ngx-translate/core';\nimport { RxLocalizationService } from './localization.service';\nimport { RxLocalizedStringsLoaderService } from './localized-strings-loader.service';\nimport { RxMissingTranslationHandler } from './missing-translation-handler.service';\n\n// AoT requires an exported function for factories\nexport function LocalizedStringsLoaderFactory(http: HttpClient): RxLocalizedStringsLoaderService {\n  return new RxLocalizedStringsLoaderService(http);\n}\n\n// https://stackoverflow.com/questions/44287827/dynamically-change-locale-for-datepipe-in-angular-2/49675774#49675774\n// https://github.com/angular/angular/issues/15039\nexport class DynamicLocaleId extends String {\n  constructor(private rxLocalizationService: RxLocalizationService) {\n    super();\n  }\n\n  toString() {\n    return this.rxLocalizationService.angularLocale;\n  }\n}\n\n@NgModule({\n  imports: [\n    CommonModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: LocalizedStringsLoaderFactory,\n        deps: [HttpClient, Injector]\n      },\n      missingTranslationHandler: {\n        provide: MissingTranslationHandler,\n        useClass: RxMissingTranslationHandler,\n        deps: [Injector]\n      }\n    })\n  ],\n  providers: [\n    {\n      provide: LOCALE_ID,\n      deps: [RxLocalizationService],\n      useClass: DynamicLocaleId\n    }\n  ]\n})\nexport class RxLocalizationModule {\n  constructor() {\n    [\n      localeDe,\n      localeEs,\n      localeFr,\n      localeIt,\n      localeJa,\n      localeKo,\n      localeNb,\n      localeNl,\n      localeRu,\n      localeSv,\n      localePt,\n      localeDa,\n      localeZhHans\n    ].forEach((locale) => registerLocaleData(locale));\n  }\n}\n","import { IComponentCanDeactivate } from './component-can-deactivate.interface';\nimport { Injectable } from '@angular/core';\nimport { CanDeactivate, NavigationEnd, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { RxModalService, RxUtilityModalsService } from '@helix/platform/ui-kit';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxComponentCanDeactivateGuard implements CanDeactivate<IComponentCanDeactivate> {\n  pageComponent: IComponentCanDeactivate | undefined;\n  private isEnabled = true;\n\n  constructor(\n    private router: Router,\n    private rxModalService: RxModalService,\n    private rxUtilityModalsService: RxUtilityModalsService\n  ) {\n    window.addEventListener('beforeunload', (event) => {\n      if (\n        this.isEnabled &&\n        (this.pageComponent?.canDeactivate() === false ||\n          this.rxModalService.isAnyDockedPanelDirty() ||\n          this.rxModalService.isAnyModalDirty())\n      ) {\n        event.returnValue = true;\n      }\n    });\n\n    this.router.events.pipe(filter((event) => event instanceof NavigationEnd)).subscribe(() => this.enable());\n  }\n\n  canDeactivate(component?: IComponentCanDeactivate): Observable<boolean> | Promise<boolean> | boolean {\n    if (this.isEnabled && (this.rxModalService.isAnyDockedPanelDirty() || this.rxModalService.isAnyModalDirty())) {\n      return this.rxUtilityModalsService.confirmUnsavedChanges();\n    } else if (this.isEnabled && this.pageComponent?.canDeactivate() === false) {\n      return this.pageComponent.confirmDeactivation();\n    } else {\n      return true;\n    }\n  }\n\n  setPageComponent(component: IComponentCanDeactivate) {\n    this.pageComponent = component;\n  }\n\n  enable(): void {\n    this.isEnabled = true;\n  }\n\n  disable(): void {\n    this.isEnabled = false;\n  }\n}\n","import { Inject, Injectable } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxApplicationLoaderService {\n  constructor(@Inject(DOCUMENT) private document: any) {}\n\n  removeApplicationLoader(): void {\n    const applicationLoaderId = 'rx-application-loader-container';\n    const applicationLoaderElement = this.document.getElementById(applicationLoaderId);\n\n    if (applicationLoaderElement) {\n      applicationLoaderElement.remove();\n    }\n  }\n}\n","import { DOCUMENT } from '@angular/common';\nimport { Compiler, Inject, Injectable, Injector, isDevMode } from '@angular/core';\nimport { ActivatedRouteSnapshot, Resolve } from '@angular/router';\nimport { head, isEmpty, isUndefined } from 'lodash';\nimport { combineLatest, iif, Observable, of } from 'rxjs';\nimport { map, shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { IBundleDescriptor } from '../bundle/bundle.interfaces';\nimport { RxBundleService } from '../bundle/bundle.service';\nimport { RxBundleCacheService } from '../caching/bundle-cache.service';\nimport { RxGlobalCacheService } from '../caching/global-cache.service';\nimport { RxLocalizationService } from '../localization';\nimport { RxLogService } from '../logging/log.service';\nimport { RxComponentCanDeactivateGuard } from '../navigation/component-can-deactivate.guard';\nimport { RxApplicationLoaderService } from './application-loader.service';\nimport { RX_APPLICATION } from './application.constant';\nimport { RX_BUILD_ENVIRONMENT } from '../dev/build-environment.constant';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxApplicationResolver implements Resolve<any> {\n  private devResolver$: Observable<IBundleDescriptor[]>;\n  private prodResolver$: Observable<IBundleDescriptor[]>;\n\n  constructor(\n    @Inject(DOCUMENT) private document: any,\n    @Inject(RX_BUILD_ENVIRONMENT) private rxBuildEnvironment: any,\n    private injector: Injector,\n    private compiler: Compiler,\n    private rxBundleService: RxBundleService,\n    private rxLogService: RxLogService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxComponentCanDeactivateGuard: RxComponentCanDeactivateGuard,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxApplicationLoaderService: RxApplicationLoaderService,\n    private rxLocalizationService: RxLocalizationService\n  ) {\n    const prodBundleDescriptors$ = this.rxGlobalCacheService\n      .getBundleDescriptors()\n      .pipe(\n        map((bundleDescriptors: IBundleDescriptor[]) =>\n          bundleDescriptors.filter((bundleDescriptor) => bundleDescriptor.containsAngular)\n        )\n      );\n\n    const devBundleDescriptors$ = prodBundleDescriptors$.pipe(\n      map((bundleDescriptors: IBundleDescriptor[]) =>\n        bundleDescriptors.filter((bundleDescriptor) => bundleDescriptor.id !== this.rxBuildEnvironment.bundleId)\n      )\n    );\n\n    this.devResolver$ = iif(\n      () => isUndefined(this.rxBuildEnvironment.bundleId),\n      of<IBundleDescriptor[]>([]),\n      devBundleDescriptors$\n    );\n\n    this.prodResolver$ = prodBundleDescriptors$;\n  }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<any> {\n    const applicationId = head(route.url).path;\n\n    if (this.rxGlobalCacheService.applicationId && applicationId !== this.rxGlobalCacheService.applicationId) {\n      this.rxComponentCanDeactivateGuard.disable();\n      window.location.reload();\n    }\n\n    this.rxGlobalCacheService.applicationId = applicationId;\n\n    const bundleId = route.params['bundleId'];\n\n    if (bundleId !== RX_APPLICATION.innovationStudioBundleId) {\n      this.rxBundleCacheService.bundleId = bundleId;\n    }\n\n    const useDefaultLang = this.rxGlobalCacheService.applicationId === RX_APPLICATION.innovationStudioBundleId;\n    const initTranslations$ = this.rxLocalizationService.initTranslations(useDefaultLang);\n\n    return combineLatest([initTranslations$, this.getResolver()]);\n  }\n\n  private getResolver(): Observable<any> {\n    return iif(() => isDevMode(), this.devResolver$, this.prodResolver$).pipe(\n      switchMap((bundles: IBundleDescriptor[]) => {\n        if (isEmpty(bundles)) {\n          return of(bundles);\n        }\n\n        const bundleIds = bundles.map((bundleDescriptor: IBundleDescriptor) => bundleDescriptor.id);\n\n        return this.rxBundleService.loadBundles(bundleIds, false);\n      }),\n      tap(() => this.rxApplicationLoaderService.removeApplicationLoader()),\n      shareReplay(1)\n    );\n  }\n}\n","import { Injector } from '@angular/core';\n\n// @dynamic\nexport class RxRootInjector {\n  static injector: Injector;\n}\n","export enum NotificationType {\n  Success = 'rx-messageduration-success',\n  Info = 'rx-messageduration-info',\n  Warning = 'rx-messageduration-warn',\n  Error = 'rx-messageduration-error'\n}\n\nexport const RX_DEFAULT_NOTIFICATION_SETTINGS = {\n  [NotificationType.Success]: { ttl: 3000 },\n  [NotificationType.Info]: { ttl: 3000 },\n  [NotificationType.Warning]: { ttl: 6000 },\n  [NotificationType.Error]: { ttl: 6000 }\n};\n","import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { find, isNil, isUndefined, toNumber, values } from 'lodash';\nimport { EMPTY, Observable, Subject, throwError } from 'rxjs';\nimport { catchError, filter, switchMap, tap } from 'rxjs/operators';\nimport { RxAdminSettingsService } from '../administration/admin-settings.service';\nimport { IAdminComponentSettings } from '../administration/administration.types';\nimport { IServerResponseMessage } from '../error-handling/error-handling.types';\nimport { RxLogService } from '../logging/log.service';\nimport { RxCurrentUserService } from '../user/current-user.service';\nimport { Message } from 'primeng/api';\nimport { NotificationType, RX_DEFAULT_NOTIFICATION_SETTINGS } from './notification.constants';\nimport { INotificationConfig } from './notification.interfaces';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxNotificationService {\n  private issuesToReportSubject$ = new Subject<IServerResponseMessage>();\n  private notificationSettings = RX_DEFAULT_NOTIFICATION_SETTINGS;\n  private componentName = 'InnovationSuiteServerSetting';\n\n  private messagesSubject = new Subject<Message>();\n  messages$: Observable<Message> = this.messagesSubject.asObservable();\n  issuesToReport$ = this.issuesToReportSubject$.asObservable();\n\n  constructor(\n    private rxLogService: RxLogService,\n    private translateService: TranslateService,\n    private rxAdminSettingsService: RxAdminSettingsService,\n    private rxCurrentUserService: RxCurrentUserService\n  ) {}\n\n  addErrorMessage(message: string, title?: string, config: INotificationConfig = {}): void {\n    if (isNil(title)) {\n      title = this.translateService.instant('com.bmc.arsys.rx.client.common.error.label');\n    }\n\n    this.messagesSubject.next({\n      severity: 'error',\n      summary: title,\n      detail: message,\n      life: config.ttl || this.notificationSettings[NotificationType.Error].ttl,\n      sticky: this.isSticky(config.ttl, NotificationType.Error),\n      data: config.issue\n    });\n\n    if (!config.suppressLog) {\n      this.rxLogService.error(`${title}: ${message}`);\n    }\n  }\n\n  addWarningMessage(message: string, title?: string, config: INotificationConfig = {}): void {\n    if (isNil(title)) {\n      title = this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label');\n    }\n\n    this.messagesSubject.next({\n      severity: 'warn',\n      summary: title,\n      detail: message,\n      life: config.ttl || this.notificationSettings[NotificationType.Warning].ttl,\n      sticky: this.isSticky(config.ttl, NotificationType.Warning),\n      data: config.issue\n    });\n\n    this.rxLogService.warning(`${title}: ${message}`);\n  }\n\n  addInfoMessage(message: string, title?: string, config: INotificationConfig = {}): void {\n    if (isNil(title)) {\n      title = this.translateService.instant('com.bmc.arsys.rx.client.common.info.label');\n    }\n\n    this.messagesSubject.next({\n      severity: 'info',\n      summary: title,\n      detail: message,\n      life: config.ttl || this.notificationSettings[NotificationType.Info].ttl,\n      sticky: this.isSticky(config.ttl, NotificationType.Info)\n    });\n\n    this.rxLogService.info(`${title}: ${message}`);\n  }\n\n  addSuccessMessage(message: string, title?: string, config: INotificationConfig = {}): void {\n    if (isNil(title)) {\n      title = this.translateService.instant('com.bmc.arsys.rx.client.common.success.label');\n    }\n\n    this.messagesSubject.next({\n      severity: 'success',\n      summary: title,\n      detail: message,\n      life: config.ttl || this.notificationSettings[NotificationType.Success].ttl,\n      sticky: this.isSticky(config.ttl, NotificationType.Success)\n    });\n\n    this.rxLogService.debug(`${title}: ${message}`);\n  }\n\n  reportIssue(issue: IServerResponseMessage): void {\n    this.issuesToReportSubject$.next(issue);\n  }\n\n  initialize(): void {\n    this.rxCurrentUserService.user$\n      .pipe(\n        filter((user) => Boolean(user)),\n        switchMap(() => {\n          if (this.rxCurrentUserService.isAdministrator()) {\n            return this.rxAdminSettingsService.getComponentSettings(this.componentName).pipe(\n              tap((settings: IAdminComponentSettings) => {\n                values(NotificationType).forEach((notificationType) => {\n                  const notificationSettings = find(settings.values, ['settingName', notificationType]);\n\n                  if (notificationSettings && notificationSettings.settingValue) {\n                    this.notificationSettings[notificationType].ttl =\n                      toNumber(notificationSettings.settingValue) * 1000;\n                  }\n                });\n              }),\n              catchError((err) => {\n                this.rxLogService.warning(\n                  'Notification Message Preferences cannot be applied. Default values will be used.'\n                );\n\n                return throwError(err);\n              })\n            );\n          } else {\n            this.rxLogService.debug(\n              'Notification Message Preferences cannot be applied since the current user is not a administrator.'\n            );\n\n            return EMPTY;\n          }\n        })\n      )\n      .subscribe();\n  }\n\n  private isSticky(ttl: number, messageType: string): boolean {\n    return isUndefined(ttl) ? this.notificationSettings[messageType].ttl === 0 : ttl === 0;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { combineLatest, Observable, of, Subject } from 'rxjs';\nimport { first } from 'rxjs/operators';\nimport { RxNotificationService } from '../notification/notification.service';\nimport { RxLocalizationService } from '../localization/localization.service';\nimport { ISystemConfiguration, RxSystemConfigurationService } from '../administration';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxUpgradeTrackerService {\n  private _isUpgradeInProgress = false;\n  private _upgradeMessage = '';\n  private isUpgradeInProgressSubject = new Subject<boolean>();\n\n  isUpgradeInProgress$: Observable<boolean> = this.isUpgradeInProgressSubject.asObservable();\n\n  constructor(\n    private rxLocalizationService: RxLocalizationService,\n    private rxNotificationService: RxNotificationService,\n    private rxSystemConfigurationService: RxSystemConfigurationService\n  ) {}\n\n  set upgradeMessage(message: string) {\n    this._upgradeMessage = message;\n  }\n\n  get upgradeMessage(): string {\n    return this._upgradeMessage;\n  }\n\n  set isUpgradeInProgress(isUpgradeInProgress: boolean) {\n    const hasStatusChanged = this._isUpgradeInProgress !== isUpgradeInProgress;\n\n    this._isUpgradeInProgress = isUpgradeInProgress;\n\n    if (!this._isUpgradeInProgress) {\n      this._upgradeMessage = '';\n    }\n\n    if (hasStatusChanged) {\n      this.isUpgradeInProgressSubject.next(isUpgradeInProgress);\n    }\n  }\n\n  get isUpgradeInProgress(): boolean {\n    return this._isUpgradeInProgress;\n  }\n\n  private getUpgradeNotification(): Observable<ISystemConfiguration> {\n    let upgradeNotification: Observable<ISystemConfiguration>;\n\n    if (!this._upgradeMessage) {\n      upgradeNotification = this.rxSystemConfigurationService.getConfiguration('Upgrade-Notification-Text');\n    } else {\n      upgradeNotification = of({\n        id: '',\n        name: '',\n        value: this._upgradeMessage\n      });\n    }\n\n    return upgradeNotification;\n  }\n\n  displayUpgradeNotification(forceNotification: boolean): void {\n    if (this.isUpgradeInProgress && (!this.upgradeMessage || forceNotification)) {\n      combineLatest([this.getUpgradeNotification(), this.rxLocalizationService.onTranslationsLoaded$])\n        .pipe(first())\n        .subscribe(([upgradeMessage]) => {\n          this.upgradeMessage = upgradeMessage.value as string;\n          this.rxNotificationService.addWarningMessage(this.upgradeMessage);\n        });\n    }\n  }\n}\n","import { Inject, Injectable, Injector } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { filter, take } from 'rxjs/operators';\nimport { get } from 'lodash';\n\nimport { AdaptDockedPanelService, AdaptModalService } from '@bmc-ux/adapt-angular';\nimport { RxRootInjector } from './root-injector.class';\nimport { RxUpgradeTrackerService } from '../upgrade-tracker/upgrade-tracker.service';\nimport { RxGlobalCacheService } from '../caching/global-cache.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxApplicationConfiguratorService {\n  constructor(\n    injector: Injector,\n    private rxUpgradeTrackerService: RxUpgradeTrackerService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    @Inject(DOCUMENT) private document: any,\n    private router: Router,\n    private adaptModalService: AdaptModalService,\n    private adaptDockedPanelService: AdaptDockedPanelService\n  ) {\n    RxRootInjector.injector = injector;\n  }\n\n  configure(): void {\n    this.patchCkEditor();\n\n    this.rxGlobalCacheService.applicationId$\n      .pipe(filter<string>(Boolean), take(1))\n      .subscribe((applicationId) => this.document.body.parentNode.setAttribute('rx-app', applicationId));\n\n    this.rxUpgradeTrackerService.isUpgradeInProgress$.subscribe(() => {\n      this.rxUpgradeTrackerService.displayUpgradeNotification(false);\n    });\n\n    this.router.events.pipe(filter((event) => event instanceof NavigationEnd)).subscribe(() => {\n      this.adaptModalService.closeAllModals();\n\n      for (let i = this.adaptDockedPanelService.openedPanels.length - 1; i >= 0; i--) {\n        this.adaptDockedPanelService.close(this.adaptDockedPanelService.openedPanels[i].id);\n      }\n    });\n  }\n\n  // monkey patch CKEDITOR.dialog.add method to remove 'popup' option from Link -> Target dropdown\n  private patchCkEditor(): void {\n    const ckEditorDialogAdd = CKEDITOR.dialog.add.bind(CKEDITOR.dialog);\n\n    CKEDITOR.dialog.add = function (\n      name: string,\n      dialogDefinition: string | ((editor: CKEDITOR.editor) => CKEDITOR.dialog.IDialogDefinition)\n    ) {\n      if (typeof dialogDefinition === 'string') {\n        ckEditorDialogAdd(name, dialogDefinition);\n      } else {\n        const patchedDialogDefinitionFunc = function (editor: CKEDITOR.editor): CKEDITOR.dialog.IDialogDefinition {\n          const dialogDefinitionObj = dialogDefinition(editor);\n\n          if (name === 'link') {\n            const linkTargetConfig = dialogDefinitionObj.contents.find((item) => item.id === 'target');\n\n            get(linkTargetConfig, 'elements[0].children[0].items').splice(2, 1);\n          }\n\n          return dialogDefinitionObj;\n        };\n\n        ckEditorDialogAdd(name, patchedDialogDefinitionFunc);\n      }\n    };\n  }\n}\n","import { TypeDecorator, makeDecorator as makeDecorator } from '@angular/core';\n\nexport interface RxApplicationInitializer {\n  applicationId: string;\n}\n\nexport interface RxViewComponentDecorator {\n  (rxApplicationInitializer?: RxApplicationInitializer): TypeDecorator;\n\n  new (rxApplicationInitializer?: RxApplicationInitializer): RxApplicationInitializer;\n}\n\nexport const RxApplicationInitializer: RxViewComponentDecorator = makeDecorator('RxApplicationInitializer');\n","import { Injectable } from '@angular/core';\nimport { take } from 'rxjs/operators';\nimport { RxGlobalCacheService } from '../caching/global-cache.service';\nimport { IRxApplicationInitializer } from './application-initializer.interface';\nimport { IBundleDescriptor } from '../bundle/bundle.interfaces';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxApplicationRegistryService {\n  constructor(private rxGlobalCacheService: RxGlobalCacheService) {}\n\n  register(applicationId: string, initializer: IRxApplicationInitializer): void {\n    this.rxGlobalCacheService\n      .getApplicationBundleDescriptor()\n      .pipe(take(1))\n      .subscribe((bundleDescriptor: IBundleDescriptor) => {\n        if (bundleDescriptor?.id === applicationId) {\n          initializer.initialize();\n        }\n      });\n  }\n}\n","export const RX_OVERLAY = {\n  bundleCustomizationOperationTypes: {\n    createdInThisOverlayGroup: 'CREATED_IN_THIS_OVERLAY_GROUP'\n  },\n  operationTypes: {\n    createdInThisOverlayGroup: 'N/A',\n    notCustomizedInThisOverlayGroup: 'Not Customized',\n    customizedInThisOverlayGroup: 'Customized'\n  },\n\n  customizationPerspective: {\n    createdInThisOverlayGroup: 'CREATED_IN_THIS_OVERLAY_GROUP',\n    notCustomizedInThisOverlayGroup: 'NOT_CUSTOMIZED_IN_THIS_OVERLAY_GROUP',\n    customizedInThisOverlayGroup: 'CUSTOMIZED_IN_THIS_OVERLAY_GROUP'\n  },\n\n  overlayTypes: {\n    overwrite: 'OVERWRITE',\n    additive: 'ADDITIVE',\n    unmodified: 'UNMODIFIED'\n  },\n\n  overlayAllowedLabels: {\n    allowed: 'Allowed',\n    notAllowed: 'Not allowed'\n  },\n\n  overlayGroupIds: {\n    base: '0',\n    overlay: '1'\n  }\n};\n","export enum DevelopmentMode {\n  Base = '0',\n  BestPractice = '1'\n}\n\nexport enum OverlayType {\n  Additive = 'ADDITIVE',\n  Overwrite = 'OVERWRITE',\n  Unmodified = 'UNMODIFIED'\n}\n\nexport interface IOverlayDescriptor {\n  otherPropertiesOverlayType?: OverlayType;\n  parentOverlayGroupId?: string;\n  permissionsOverlayType?: OverlayType;\n}\n","import { Injectable } from '@angular/core';\nimport { RxTreeService } from '@helix/platform/utils';\nimport { find, get, includes, isNull, pick } from 'lodash';\nimport { RxBundleService } from '../bundle/bundle.service';\nimport { IBundleDescriptor } from '../bundle/bundle.interfaces';\nimport { IDefinition } from '../definition/definition.types';\nimport { RxLogService } from '../logging/log.service';\nimport { RxCurrentUserService } from '../user/current-user.service';\nimport { IUser, IUserOverlayGroupDescriptor, IUserOverlayGroupDescriptorChildren } from '../user/user.interface';\nimport { RX_OVERLAY } from './overlay.constant';\nimport { DevelopmentMode } from './overlay.types';\nimport { Observable } from 'rxjs';\nimport { RxGlobalCacheService } from '../caching/global-cache.service';\nimport { map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxOverlayService {\n  private overlay: IUserOverlayGroupDescriptorChildren;\n\n  constructor(\n    private rxTreeService: RxTreeService,\n    private rxLogService: RxLogService,\n    private rxBundleService: RxBundleService,\n    private rxCurrentUserService: RxCurrentUserService,\n    private rxGlobalCacheService: RxGlobalCacheService\n  ) {}\n\n  areNewDefinitionsAllowed(bundleId: string): Observable<boolean> {\n    return this.rxGlobalCacheService\n      .getBundleDescriptor(bundleId)\n      .pipe(map((bundleDescriptor) => this.areNewDefinitionsAllowedSync(bundleDescriptor)));\n  }\n\n  areNewDefinitionsAllowedSync(bundleDescriptor: IBundleDescriptor): boolean {\n    return (\n      this.isBundleEditable(bundleDescriptor.id) &&\n      !(bundleDescriptor.platformBundle && this.getCurrentOverlayGroupId() === RX_OVERLAY.overlayGroupIds.overlay)\n    );\n  }\n\n  setCurrentOverlayContextOnSessionInit(user: IUser): void {\n    const userOverlayGroupDescriptors = user.userOverlayGroupDescriptors;\n    const defaultOverlayGroupId = user.defaultOverlayGroupId;\n\n    if (!this.userHasAccessToMultipleOverlays(userOverlayGroupDescriptors)) {\n      return;\n    }\n\n    const savedOverlayGroupId = localStorage.getItem('rx-overlay-group-id');\n\n    const contextDescriptors = this.rxTreeService.flattenTree(\n      userOverlayGroupDescriptors[0],\n      'userOverlayGroupDescriptorChildren'\n    );\n\n    if (savedOverlayGroupId) {\n      this.overlay = find(contextDescriptors, { overlayGroupId: savedOverlayGroupId });\n\n      // use default defaultOverlayGroupId if the saved overlay context is missing in contextDescriptors\n      if (!this.overlay) {\n        this.overlay = find(contextDescriptors, { overlayGroupId: defaultOverlayGroupId });\n        this.rxLogService.debug(\n          `Invalid Overlay Group ID: ${savedOverlayGroupId}. The Overlay Group ID has been set to the default value: ${defaultOverlayGroupId}`\n        );\n      }\n    } else {\n      this.overlay = find(contextDescriptors, { overlayGroupId: defaultOverlayGroupId });\n    }\n  }\n\n  getOverlayOperation(overlayGroupId: string, parentOverlayGroupId: string): string {\n    const currentOverlayGroupId = this.getCurrentOverlayGroupId();\n    let operationType = RX_OVERLAY.operationTypes.notCustomizedInThisOverlayGroup;\n\n    if (currentOverlayGroupId === overlayGroupId) {\n      operationType = parentOverlayGroupId\n        ? RX_OVERLAY.operationTypes.customizedInThisOverlayGroup\n        : RX_OVERLAY.operationTypes.createdInThisOverlayGroup;\n    }\n\n    return operationType;\n  }\n\n  isCustomizationEnabled(type: string, definition: IDefinition): boolean {\n    if (definition.lastUpdateTime) {\n      const overlayDescriptor = definition.overlayDescriptor || { parentOverlayGroupId: null };\n\n      const overlayOperation = this.getOverlayOperation(\n        definition.overlayGroupId,\n        overlayDescriptor.parentOverlayGroupId\n      );\n\n      if (overlayOperation === RX_OVERLAY.operationTypes.createdInThisOverlayGroup) {\n        return true;\n      }\n\n      return isNull(type) ? false : definition[type];\n    } else {\n      return true;\n    }\n  }\n\n  isBundleEditable(bundleId: string): boolean {\n    return (\n      this.isCurrentOverlayGroupWritable() &&\n      (!this.rxCurrentUserService.isBusinessAnalyst() ||\n        includes(this.rxCurrentUserService.getEditableBundles(), bundleId))\n    );\n  }\n\n  isCurrentOverlayGroupWritable(): boolean {\n    const user = this.rxCurrentUserService.get();\n\n    const contextDescriptors = [\n      ...user.userOverlayGroupDescriptors,\n      ...user.userOverlayGroupDescriptors[0].userOverlayGroupDescriptorChildren\n    ];\n\n    const currentOverlayGroupId = this.getCurrentOverlayGroupId();\n\n    return find(contextDescriptors, { overlayGroupId: currentOverlayGroupId }).isWritable;\n  }\n\n  getCurrentOverlayContext(): IUserOverlayGroupDescriptorChildren {\n    return this.overlay;\n  }\n\n  setDevelopmentMode(developmentMode: DevelopmentMode): void {\n    const overlayGroupId =\n      developmentMode === DevelopmentMode.Base ? RX_OVERLAY.overlayGroupIds.base : RX_OVERLAY.overlayGroupIds.overlay;\n\n    localStorage.setItem('rx-overlay-group-id', overlayGroupId);\n  }\n\n  getDevelopmentMode(): DevelopmentMode {\n    const overlayGroupId = this.getCurrentOverlayContext().overlayGroupId;\n\n    return overlayGroupId === RX_OVERLAY.overlayGroupIds.base ? DevelopmentMode.Base : DevelopmentMode.BestPractice;\n  }\n\n  private userHasAccessToMultipleOverlays(overlayGroup: IUserOverlayGroupDescriptor[]): boolean {\n    return get(overlayGroup, '[0].userOverlayGroupDescriptorChildren.length') >= 1;\n  }\n\n  private getCurrentOverlayGroupId(): string {\n    return this.overlay.overlayGroupId || this.rxCurrentUserService.get().defaultOverlayGroupId;\n  }\n\n  getUserDefaultOverlayGroupId(): string {\n    return this.getCurrentOverlayContext()?.overlayGroupId ?? this.rxCurrentUserService.get().defaultOverlayGroupId;\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxFeatureService {\n  private enabledFeatures: string[];\n\n  enableFeatures(featureIds: string[]): void {\n    this.enabledFeatures = featureIds;\n  }\n\n  isFeatureEnabled(featureId: string): boolean {\n    if (this.enabledFeatures) {\n      return this.enabledFeatures.includes(featureId);\n    }\n  }\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { RxUrlUtilsService } from '@helix/platform/utils';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { RxFeatureService } from '../services/feature/feature.service';\nimport { IUser } from './user.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxUserService {\n  constructor(\n    private httpClient: HttpClient,\n    private rxFeatureService: RxFeatureService,\n    private router: Router,\n    private rxUrlUtilsService: RxUrlUtilsService\n  ) {}\n\n  getUser(id: string, bundleId?: string): Observable<IUser> {\n    return this.httpClient\n      .get<IUser>(`/api/rx/application/user/${id}`, {\n        headers: new HttpHeaders({\n          'default-bundle-scope': bundleId ?? ''\n        }),\n        observe: 'response'\n      })\n      .pipe(\n        map((response) => {\n          this.rxFeatureService.enableFeatures((response.headers.get('Enabled-Features') || '').split(','));\n\n          return {\n            ...response.body,\n            modifiedDate: new Date(response.body.modifiedDate),\n            ssoProviderType: response.headers.get('sso-provider-type')\n          };\n        })\n      );\n  }\n\n  getCurrentUser(): Observable<IUser> {\n    return this.getUser('$USER$', this.rxUrlUtilsService.getBundleIdFromUrl());\n  }\n}\n","export const RX_USER = {\n  userProfileRecordDefinitionName: 'CTM:People',\n  userProfilePictureFieldId: 1000003962\n};\n","import { Injectable } from '@angular/core';\nimport { concat, Observable, of } from 'rxjs';\nimport { mapTo, shareReplay, tap } from 'rxjs/operators';\nimport { RxSystemConfigurationService } from '../administration';\nimport { RxOverlayService } from '../overlay/overlay.service';\nimport { IUser, RxCurrentUserService, RxUserService } from '../user';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxSessionService {\n  private ssoProviderType: string = null;\n\n  sessionActive$ = concat(this.initCurrentUser(), this.rxSystemConfigurationService.initialize()).pipe(\n    mapTo(true),\n    shareReplay(1)\n  );\n\n  constructor(\n    private rxCurrentUserService: RxCurrentUserService,\n    private rxUserService: RxUserService,\n    private rxOverlayService: RxOverlayService,\n    private rxSystemConfigurationService: RxSystemConfigurationService\n  ) {}\n\n  initSession(): Observable<boolean> {\n    return this.isAlive() ? of(true) : this.sessionActive$;\n  }\n\n  isAlive(): boolean {\n    return Boolean(this.rxCurrentUserService.get());\n  }\n\n  getSsoProviderType(): string {\n    return this.ssoProviderType;\n  }\n\n  private initCurrentUser(): Observable<IUser> {\n    return this.rxUserService.getCurrentUser().pipe(\n      tap((user) => {\n        this.rxCurrentUserService.set(user);\n        this.rxOverlayService.setCurrentOverlayContextOnSessionInit(user);\n        this.ssoProviderType = user.ssoProviderType;\n      })\n    );\n  }\n}\n","const activeColor = '--active-color';\nconst dropdownBorder = '--dropdown-border';\nconst dropdownBorderRadius = '--dropdown-border-radius';\nconst dropdownBoxShadow = '--dropdown-box-shadow';\nconst dropdownFontSize = '--dropdown-font-size';\nconst dropdownItemActiveBgColor = '--dropdown-item-active-bg-color';\nconst dropdownMenuColor = '--dropdown-menu-color';\nconst dropdownPadding = '--dropdown-padding';\nconst fontFamilyBase = '--font-family-base';\nconst lineHeightBase = '--line-height-base';\nconst selectOptionPadding = '--select-option-padding';\n\nconst cssVariables = [\n  activeColor,\n  dropdownBorder,\n  dropdownBorderRadius,\n  dropdownBoxShadow,\n  dropdownFontSize,\n  dropdownItemActiveBgColor,\n  dropdownMenuColor,\n  dropdownPadding,\n  fontFamilyBase,\n  lineHeightBase,\n  selectOptionPadding\n];\n\nexport const RX_THEMING = {\n  cssVariablesForCkEditor: cssVariables,\n\n  cssVariableLocator: {\n    body: {\n      'line-height': lineHeightBase\n    },\n    '.text-active': {\n      color: activeColor\n    },\n    '.dropdown-menu': {\n      border: dropdownBorder,\n      'border-radius': dropdownBorderRadius,\n      'box-shadow': dropdownBoxShadow,\n      color: dropdownMenuColor,\n      'font-size': dropdownFontSize,\n      padding: dropdownPadding\n    },\n    '.rx-select__option': {\n      padding: selectOptionPadding\n    },\n    '.dropdown_select__menu .dropdown-item.active': {\n      'background-color': dropdownItemActiveBgColor\n    },\n    '.font-sans': {\n      'font-family': fontFamilyBase\n    }\n  }\n};\n","import { Injectable } from '@angular/core';\nimport { forOwn } from 'lodash';\nimport { RX_THEMING } from './theming.constant';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxThemingService {\n  setCssVariables() {\n    Array.from(document.querySelector<HTMLLinkElement>('link[href*=\"application/theme\"]').sheet.cssRules).forEach(\n      (cssStyleRule: CSSStyleRule) => {\n        forOwn(RX_THEMING.cssVariableLocator[cssStyleRule.selectorText] || {}, (cssVariableName, cssProperty) => {\n          const cssValue = cssStyleRule.style.getPropertyValue(cssProperty);\n\n          if (cssValue) {\n            document.documentElement.style.setProperty(cssVariableName, cssValue);\n          }\n        });\n      }\n    );\n  }\n\n  copyCssVariables(variables: string[], targetDocument: Document) {\n    const sourceStyle = document.documentElement.style;\n    const targetStyle = targetDocument.documentElement.style;\n\n    variables.forEach((variableName) => {\n      targetStyle.setProperty(variableName, sourceStyle.getPropertyValue(variableName));\n    });\n  }\n}\n","import { DOCUMENT } from '@angular/common';\nimport { Inject, Injectable } from '@angular/core';\nimport { CanActivate } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { mapTo, shareReplay, switchMapTo } from 'rxjs/operators';\nimport { RxSessionService } from '../security/session.service';\nimport { RxThemingService } from '../theming';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxThemeResolver implements CanActivate {\n  private themeLoaded$ = new Observable<void>((observer) => {\n    const link = this.document.createElement('link');\n\n    link.rel = 'stylesheet';\n    link.href = '/api/rx/application/theme/adapt-css-bs4.css';\n\n    link.onload = () => {\n      this.rxThemingService.setCssVariables();\n      observer.next();\n      observer.complete();\n    };\n\n    link.onerror = () => {\n      observer.next();\n      observer.complete();\n    };\n\n    this.document.head.appendChild(link);\n  }).pipe(shareReplay(1));\n\n  constructor(\n    @Inject(DOCUMENT) private document: any,\n    private rxSessionService: RxSessionService,\n    private rxThemingService: RxThemingService\n  ) {}\n\n  canActivate(): Observable<boolean> {\n    return this.rxSessionService.sessionActive$.pipe(switchMapTo(this.themeLoaded$), mapTo(true));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { Observable, of } from 'rxjs';\nimport { catchError, map, switchMap } from 'rxjs/operators';\nimport { RxGlobalCacheService } from '../caching/global-cache.service';\nimport { RxSessionService } from '../security/session.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxValidApplicationGuard implements CanActivate {\n  private unknownApplicationUrlTree = this.router.parseUrl('/unknown-application');\n\n  constructor(\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private router: Router,\n    private rxSessionService: RxSessionService\n  ) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<UrlTree | boolean> {\n    return this.rxSessionService.sessionActive$.pipe(switchMap(() => this.checkBundleState(route)));\n  }\n\n  private checkBundleState(route: ActivatedRouteSnapshot): Observable<UrlTree | boolean> {\n    const bundleId = route.paramMap.get('bundleId');\n\n    if (bundleId) {\n      return this.rxGlobalCacheService.getBundleDescriptor(bundleId).pipe(\n        map((bundleDescriptor) => bundleDescriptor.isApplication || this.unknownApplicationUrlTree),\n        catchError(() => of(this.unknownApplicationUrlTree))\n      );\n    } else {\n      return of(this.unknownApplicationUrlTree);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { RxStringService } from '@helix/platform/utils';\nimport { includes } from 'lodash';\nimport { Observable } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\nimport { RX_ADMINISTRATION, RxAdminSettingsService } from '../administration';\nimport { RX_APPLICATION } from './application.constant';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxAngularApplicationService {\n  private angularJsApplicationBundleIds$: Observable<string[]> = this.rxAdminSettingsService\n    .getComponentGridData(RX_ADMINISTRATION.settingNames.newApplicationUiOptOut, {\n      'default-bundle-scope': RX_APPLICATION.environmentConfigurationBundleId\n    })\n    .pipe(\n      map((gridComponentSettings) =>\n        gridComponentSettings.rows\n          .filter((newApplicationUiOptOutSetting) => newApplicationUiOptOutSetting['Use old application UI'] === 'true')\n          .map((newApplicationUiOptOutSetting) => newApplicationUiOptOutSetting['Application ID'] as string)\n          .concat(RX_APPLICATION.angularJsApplicationBundleIds)\n      ),\n      shareReplay(1)\n    );\n\n  private angularJsViewDesignerBundleIds$: Observable<string[]> = this.rxAdminSettingsService\n    .getComponentGridData(RX_ADMINISTRATION.settingNames.newViewDesignerOptOut, {\n      'default-bundle-scope': RX_APPLICATION.environmentConfigurationBundleId\n    })\n    .pipe(\n      map((gridComponentSettings) =>\n        gridComponentSettings.rows\n          .filter((newViewDesignerOptOutSetting) => newViewDesignerOptOutSetting['Use old view designer'] === 'true')\n          .map((newViewDesignerOptOutSetting) => newViewDesignerOptOutSetting['Application ID'])\n          .concat(RX_APPLICATION.angularJsViewDesignerBundleIds)\n      ),\n      shareReplay(1)\n    );\n\n  constructor(private rxAdminSettingsService: RxAdminSettingsService, private rxStringService: RxStringService) {}\n\n  isAngularJsApplication(bundleId): Observable<boolean> {\n    return this.angularJsApplicationBundleIds$.pipe(\n      map((angularJsApplicationBundleIds) => includes(angularJsApplicationBundleIds, bundleId))\n    );\n  }\n\n  isAngularJsViewDesignerBundle(bundleId): Observable<boolean> {\n    return this.angularJsViewDesignerBundleIds$.pipe(\n      map((angularJsViewDesignerBundleIds) => this.rxStringService.isIncluded(bundleId, angularJsViewDesignerBundleIds))\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\nimport { RxApplicationLoaderService } from './application-loader.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxApplicationLoaderResolver implements Resolve<void> {\n  constructor(private rxApplicationLoaderService: RxApplicationLoaderService) {}\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): void {\n    this.rxApplicationLoaderService.removeApplicationLoader();\n  }\n}\n","export const RX_SESSION = {\n  minutesBeforeLogout: 2,\n  keepAliveCommand: 'com.bmc.arsys.rx.application.user.command.KeepAliveCommand',\n  userInteractionThrottleTimeMs: 1000,\n  userInteractionEvents: ['click', 'keypress'],\n\n  expirationModes: {\n    idle: 'idleSessionExpirationMode',\n    absolute: 'absoluteSessionExpirationMode'\n  },\n\n  expirationHeaders: {\n    idle: 'Session-Expiration',\n    absolute: 'Absolute-Session-Expiration'\n  },\n\n  ssoProviderTypes: {\n    rsso: 'RSSO'\n  }\n};\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { RxLocalizationService } from '../localization';\nimport { RX_SESSION } from '../security/session.constant';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxLoginPageGuard implements CanActivate {\n  constructor(private rxLocalizationService: RxLocalizationService, private router: Router) {}\n\n  canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<UrlTree | boolean> {\n    return this.rxLocalizationService.loginLocalizedStrings$.pipe(\n      map((response) => {\n        const ssoProviderType = response.headers.get('sso-provider-type');\n\n        if (ssoProviderType === RX_SESSION.ssoProviderTypes.rsso) {\n          const bundleId = next.paramMap.get('bundleId');\n\n          return this.router.parseUrl(bundleId);\n        } else {\n          return true;\n        }\n      })\n    );\n  }\n}\n","import { ActivatedRouteSnapshot, DetachedRouteHandle, RouteReuseStrategy } from '@angular/router';\nimport { RX_APPLICATION } from './application.constant';\nimport { isEqual } from 'lodash';\n\n// Customize shouldReuseRoute, use default implementation for other methods.\nexport class ShellRouteReuseStrategy implements RouteReuseStrategy {\n  shouldReuseRoute(current: ActivatedRouteSnapshot, next: ActivatedRouteSnapshot): boolean {\n    if (\n      next.data?.routeReuseStrategy === RX_APPLICATION.routeReuseStrategies.checkParentParams &&\n      current.parent &&\n      current.parent.routeConfig === next.parent?.routeConfig\n    ) {\n      return isEqual(next.parent.params, current.parent.params);\n    } else {\n      return (\n        current.routeConfig === next.routeConfig ||\n        (current.routeConfig?.data?.routerGroup &&\n          current.routeConfig.data.routerGroup === next.routeConfig?.data?.routerGroup)\n      );\n    }\n  }\n\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\n    return false;\n  }\n\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\n    return false;\n  }\n\n  retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle | null {\n    return null;\n  }\n\n  store(route: ActivatedRouteSnapshot, handle: DetachedRouteHandle | null): void {}\n}\n","export const RX_RESOURCE_URLS = {\n  command: '/api/rx/application/command'\n};\n","import { Location } from '@angular/common';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { DefaultUrlSerializer, NavigationCancel, NavigationEnd, Router } from '@angular/router';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError, tap } from 'rxjs/operators';\nimport { RxGlobalCacheService } from '../caching/global-cache.service';\nimport { RxLocalizationService } from '../localization/localization.service';\nimport { RxLogService } from '../logging/log.service';\nimport { RX_SESSION } from './session.constant';\nimport { RxSessionService } from './session.service';\nimport { RxUrlUtilsService } from '@helix/platform/utils';\nimport { RxRssoDebugService } from '../dev/rsso-debug.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxAuthService {\n  // URL to redirect after login\n  targetUrl = '';\n  defaultUrlSerializer: DefaultUrlSerializer;\n\n  constructor(\n    private location: Location,\n    private httpClient: HttpClient,\n    private router: Router,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxLocalizationService: RxLocalizationService,\n    private rxSessionService: RxSessionService,\n    private rxLogService: RxLogService,\n    private rxUrlUtilsService: RxUrlUtilsService,\n    private rxRssoDebugService: RxRssoDebugService\n  ) {\n    this.defaultUrlSerializer = new DefaultUrlSerializer();\n\n    this.router.events.subscribe((event) => {\n      if (event instanceof NavigationCancel || event instanceof NavigationEnd) {\n        const bundleId = this.rxUrlUtilsService.getBundleIdFromUrl(event.url);\n        const bundleLoginRoute = `/${bundleId}/login`;\n\n        if (event.url !== bundleLoginRoute) {\n          this.targetUrl = event.url;\n        } else if (event.url === bundleLoginRoute && !this.targetUrl) {\n          this.targetUrl = `/${bundleId}`;\n        }\n      }\n    });\n  }\n\n  login(userName: string, password: string): Observable<any> {\n    return this.httpClient\n      .post(\n        '/api/rx/authentication/loginrequest',\n        {\n          userName,\n          password,\n          locale: this.rxLocalizationService.currentLocale\n        },\n        { responseType: 'text' }\n      )\n      .pipe(\n        tap((res) => {\n          // This is to avoid having additional url encoding when using router.navigate:\n          // for example a space %20 would be encoded to %2520\n          // https://stackoverflow.com/questions/46440887/url-encoding-breaking-angular-2-navigation\n          this.router.navigateByUrl(this.targetUrl);\n        })\n      );\n  }\n\n  redirectToLoginPage(): void {\n    this.rxLogService.debug('Redirecting to login page.');\n\n    if (this.rxSessionService.getSsoProviderType() === RX_SESSION.ssoProviderTypes.rsso) {\n      this.redirectToRssoLogoutPage();\n    } else {\n      if (this.rxRssoDebugService.isRssoDebugEnabled()) {\n        this.redirectToRssoDebugLoginPage();\n      } else {\n        this.redirectToApplicationLoginPage();\n      }\n    }\n  }\n\n  logout(): Observable<any> {\n    const onRequestEnd = () => {\n      this.rxLogService.debug('Destroying session after logout.');\n      localStorage.removeItem('lastUserInteraction');\n      localStorage.removeItem('idleTimeout');\n      localStorage.removeItem('rx-overlay-group-id');\n      this.redirectToLoginPage();\n    };\n\n    this.rxLogService.debug('Before logout.');\n\n    return this.httpClient\n      .post(\n        '/api/rx/authentication/logoutrequest',\n        {},\n        {\n          headers: new HttpHeaders({\n            'default-bundle-scope': this.rxGlobalCacheService.applicationId\n          })\n        }\n      )\n      .pipe(\n        tap(() => {\n          this.rxLogService.debug('Logout succeeded.');\n\n          onRequestEnd();\n        }),\n        catchError((err) => {\n          this.rxLogService.debug('Logout failed.');\n\n          onRequestEnd();\n\n          return throwError(err);\n        })\n      );\n  }\n\n  private redirectToRssoLogoutPage(): void {\n    window.location.href = '/api/rsso-logout';\n  }\n\n  private redirectToRssoDebugLoginPage(): void {\n    this.router.navigate(['rsso-debug/login'], {\n      state: {\n        shouldReloadPage: this.rxSessionService.isAlive()\n      }\n    });\n  }\n\n  private redirectToApplicationLoginPage(): void {\n    const url = this.location.path();\n\n    // Trying to deduce the bundleId from the url. This can happen if the user tried to directly access a view\n    // while not logged in. In this case the application resolver does not kick in and does not set\n    // the application ID rxGlobalCacheService.\n    const bundleId = this.rxGlobalCacheService.applicationId || this.rxUrlUtilsService.getBundleIdFromUrl(url);\n\n    // The login page should be reloaded in case of session timeout but\n    // not if the user connects the first time.\n    // auth.interceptor.ts detects if a a rest calls returns http 401 and\n    // calls the login page redirection.\n    // In the case of a session timeout the session object is still 'alive'.\n    if (bundleId) {\n      // Post PR #776 the event NavigationCancel / NavigationEnd is not triggered anymore.\n      // This was used when the user was directly accessing a url (DRIST-21802).\n      // The logic has been added here.\n      const bundleLoginRoute = `${bundleId}/login`;\n      const isLoginRoute = url === `/${bundleLoginRoute}`;\n\n      if (!isLoginRoute) {\n        this.targetUrl = url;\n      } else if (isLoginRoute && !this.targetUrl) {\n        this.targetUrl = `/${bundleId}`;\n      }\n\n      // The login page should be reloaded in case of session timeout but\n      // not if the user connects the first time.\n      // auth.interceptor.ts detects if a a rest calls returns http 401 and\n      // calls the login page redirection.\n      // In the case of a session timeout the session object is still 'alive'.\n      this.router.navigate([bundleLoginRoute], {\n        state: {\n          shouldReloadPage: this.rxSessionService.isAlive()\n        }\n      });\n    } else {\n      this.router.navigate(['unknown-application']);\n    }\n  }\n}\n","export enum SessionExpirationType {\n  Absolute = 'Absolute',\n  Idle = 'Idle'\n}\n\nexport interface SessionExpirationInfo {\n  timeout: Date;\n  timer: any;\n}\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\nimport { ActiveModalRef } from '@bmc-ux/adapt-angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport moment from 'moment-es6';\nimport { Observable, ReplaySubject, timer } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { SessionExpirationType } from './session-expiration.interface';\n\n@Component({\n  selector: 'rx-session-expiration',\n  templateUrl: './session-expiration.component.html',\n  styleUrls: ['./session-expiration.component.scss']\n})\nexport class RxSessionExpirationComponent implements OnInit, OnDestroy {\n  isLoading = false;\n  remainingTime: string;\n  mode: SessionExpirationType;\n  SessionExpirationType = SessionExpirationType;\n  logout: () => void;\n\n  private destroyed$ = new ReplaySubject<boolean>(1);\n  private keepSessionAlive: () => Observable<any>;\n\n  readonly expirationDate: Date;\n\n  constructor(public context: ActiveModalRef, private translateService: TranslateService, private ngZone: NgZone) {\n    const data = context.getData();\n    this.mode = data.mode;\n    this.expirationDate = data.expirationDate;\n    this.keepSessionAlive = data.keepSessionAlive;\n    this.logout = data.logout;\n  }\n\n  ngOnInit(): void {\n    if (this.mode === SessionExpirationType.Idle) {\n      this.ngZone.runOutsideAngular(() => {\n        timer(0, 1000)\n          .pipe(takeUntil(this.destroyed$))\n          .subscribe(() => {\n            this.ngZone.run(this.checkTime.bind(this));\n          });\n      });\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  keepAlive(): void {\n    this.isLoading = true;\n\n    this.keepSessionAlive().subscribe(\n      () => {\n        this.isLoading = false;\n        this.close();\n      },\n      () => {\n        this.isLoading = false;\n      }\n    );\n  }\n\n  close(): void {\n    this.context.close();\n  }\n\n  private checkTime(): void {\n    if (moment().isBefore(this.expirationDate)) {\n      const counter = moment.utc(this.expirationDate.getTime() - Date.now()).format('m:ss');\n\n      this.remainingTime = this.translateService.instant('com.bmc.arsys.rx.client.session-expiration-dialog.timer', {\n        time: counter\n      });\n    } else {\n      this.remainingTime = '0:00';\n      this.logout();\n    }\n  }\n}\n","<div class=\"modal-header\">\n  <h5 class=\"modal-title\">{{ 'com.bmc.arsys.rx.client.common.alert.label' | translate }}</h5>\n\n  <button\n    *ngIf=\"mode === SessionExpirationType.Absolute\"\n    class=\"close dp-close\"\n    aria-label=\"Close\"\n    data-dismiss=\"modal\"\n    type=\"button\"\n    rx-id=\"x-button\"\n    (click)=\"close()\"\n  ></button>\n</div>\n\n<div class=\"modal-body\" [ngSwitch]=\"mode\">\n  <div *ngSwitchCase=\"SessionExpirationType.Idle\">\n    <p>{{ 'com.bmc.arsys.rx.client.session-expiration-dialog.idle-session-message1' | translate }}</p>\n    <p>{{ 'com.bmc.arsys.rx.client.session-expiration-dialog.idle-session-message2' | translate }}</p>\n  </div>\n\n  <div *ngSwitchCase=\"SessionExpirationType.Absolute\">\n    <p>{{ 'com.bmc.arsys.rx.client.session-expiration-dialog.expiring-session-message1' | translate }}</p>\n    <p>{{ 'com.bmc.arsys.rx.client.session-expiration-dialog.expiring-session-message2' | translate }}</p>\n  </div>\n</div>\n\n<div class=\"modal-footer\" [ngSwitch]=\"mode\">\n  <div\n    class=\"rx-session-expiration-countdown text-primary d-icon-left-clock_o\"\n    *ngSwitchCase=\"SessionExpirationType.Idle\"\n    rx-id=\"timer\"\n  >\n    {{ remainingTime }}\n  </div>\n\n  <button\n    *ngSwitchCase=\"SessionExpirationType.Idle\"\n    adapt-button\n    btn-type=\"primary\"\n    size=\"small\"\n    type=\"button\"\n    rx-id=\"continue-button\"\n    [disabled]=\"isLoading\"\n    (click)=\"keepAlive()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.continue.label' | translate }}\n  </button>\n\n  <button\n    *ngSwitchCase=\"SessionExpirationType.Idle\"\n    adapt-button\n    btn-type=\"secondary\"\n    size=\"small\"\n    type=\"button\"\n    rx-id=\"logout-button\"\n    [disabled]=\"isLoading\"\n    (click)=\"logout()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.sign-out.label' | translate }}\n  </button>\n\n  <button\n    *ngSwitchCase=\"SessionExpirationType.Absolute\"\n    adapt-button\n    btn-type=\"primary\"\n    size=\"small\"\n    type=\"button\"\n    rx-id=\"ok-button\"\n    (click)=\"close()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.ok.label' | translate }}\n  </button>\n</div>\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable, NgZone } from '@angular/core';\nimport { AdaptModalService, ModalDeferred } from '@bmc-ux/adapt-angular';\nimport { RxComponentCanDeactivateGuard } from '../../navigation/component-can-deactivate.guard';\nimport { debounce, isNaN, noop } from 'lodash';\nimport moment from 'moment-es6';\nimport { Observable } from 'rxjs';\nimport { RX_RESOURCE_URLS } from '../../resource-urls.constant';\nimport { RxAuthService } from '../auth.service';\nimport { RX_SESSION } from '../session.constant';\nimport { RxSessionService } from '../session.service';\nimport { RxSessionExpirationComponent } from './session-expiration.component';\nimport { SessionExpirationInfo, SessionExpirationType } from './session-expiration.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxSessionExpirationService {\n  private sessionExpirationModal: ModalDeferred;\n\n  private trackUserInteractionDebounced = debounce(\n    this.trackUserInteraction,\n    RX_SESSION.userInteractionThrottleTimeMs,\n    { leading: true, trailing: false }\n  );\n\n  private sessionExpirationInfos = {\n    [SessionExpirationType.Absolute]: {} as SessionExpirationInfo,\n    [SessionExpirationType.Idle]: {} as SessionExpirationInfo\n  };\n\n  constructor(\n    private httpClient: HttpClient,\n    private adaptModalService: AdaptModalService,\n    private rxAuthService: RxAuthService,\n    private ngZone: NgZone,\n    private rxSessionService: RxSessionService,\n    private rxComponentCanDeactivateGuard: RxComponentCanDeactivateGuard\n  ) {\n    RX_SESSION.userInteractionEvents.forEach((e) =>\n      window.addEventListener(e, this.trackUserInteractionDebounced.bind(this))\n    );\n  }\n\n  setTimeout(type: SessionExpirationType, time: string): void {\n    const mDate = moment(time);\n    const isValid = this.isValidTimeout(mDate);\n\n    if (isValid && mDate.isAfter(this.sessionExpirationInfos[type].timeout)) {\n      this.sessionExpirationInfos[type].timeout = mDate.toDate();\n\n      if (this.isIdleTimeout(type)) {\n        localStorage.setItem('idleTimeout', this.sessionExpirationInfos[type].timeout.toString());\n        localStorage.removeItem('lastUserInteraction');\n      }\n\n      this.updateTimeoutHandler(type, this.sessionExpirationInfos[type].timeout);\n    }\n  }\n\n  keepSessionAlive(): Observable<any> {\n    const lastUserInteraction = this.getLastUserInteraction();\n\n    return this.httpClient.post(\n      RX_RESOURCE_URLS.command,\n      {\n        resourceType: RX_SESSION.keepAliveCommand\n      },\n      {\n        headers: {\n          'AR-JWT-Refresh-From': lastUserInteraction\n            ? new Date(lastUserInteraction).toUTCString()\n            : new Date().toUTCString()\n        }\n      }\n    );\n  }\n\n  logout(): void {\n    this.rxComponentCanDeactivateGuard.disable();\n    this.sessionExpirationModal.reject();\n    this.rxAuthService.logout().subscribe();\n  }\n\n  private trackUserInteraction(): void {\n    if (this.rxSessionService.isAlive()) {\n      localStorage.setItem('lastUserInteraction', Date.now().toString());\n    }\n  }\n\n  private getLastUserInteraction() {\n    const lastUserInteraction = Number(localStorage.getItem('lastUserInteraction'));\n\n    return !isNaN(lastUserInteraction) ? lastUserInteraction : null;\n  }\n\n  private getIdleSessionTimeout() {\n    const idleTimeout = new Date(localStorage.getItem('idleTimeout'));\n\n    return moment(idleTimeout).isValid() ? idleTimeout : null;\n  }\n\n  private updateTimeoutHandler(type: SessionExpirationType, expirationDate: Date): void {\n    const showWarnInMs = this.getTimeToSessionExpirationWarning(expirationDate);\n\n    this.clearTimer(type);\n    this.sessionExpirationInfos[type].timeout = expirationDate;\n\n    if (showWarnInMs > 0) {\n      // run outside angular to keep app 'stable' as required by QA automation\n      this.ngZone.runOutsideAngular(() => {\n        this.sessionExpirationInfos[type].timer = setTimeout(() => {\n          this.ngZone.run(() => {\n            if (this.isIdleTimeout(type)) {\n              this.showIdleTimeoutWarning(expirationDate);\n            } else if (type === SessionExpirationType.Absolute) {\n              this.showAbsoluteTimeoutWarning();\n            }\n          });\n        }, showWarnInMs);\n      });\n    }\n  }\n\n  private isIdleTimeout(type: SessionExpirationType): boolean {\n    return (\n      type === SessionExpirationType.Idle &&\n      !moment(this.sessionExpirationInfos[SessionExpirationType.Idle].timeout).isSame(\n        moment(this.sessionExpirationInfos[SessionExpirationType.Absolute].timeout)\n      )\n    );\n  }\n\n  private getTimeToSessionExpirationWarning(timeout: Date): number {\n    return moment(timeout).subtract(RX_SESSION.minutesBeforeLogout, 'minutes').diff(moment());\n  }\n\n  private showIdleTimeoutWarning(expirationDate: Date): void {\n    if (this.rxSessionService.isAlive() && !this.getLastUserInteraction()) {\n      const idleSessionTimeout = new Date(this.getIdleSessionTimeout());\n\n      if (\n        idleSessionTimeout &&\n        moment(idleSessionTimeout).isAfter(this.sessionExpirationInfos[SessionExpirationType.Idle].timeout)\n      ) {\n        this.updateTimeoutHandler(SessionExpirationType.Idle, idleSessionTimeout);\n      } else {\n        this.openModal(SessionExpirationType.Idle, {\n          expirationDate,\n          keepSessionAlive: this.keepSessionAlive.bind(this),\n          logout: this.logout.bind(this)\n        });\n      }\n    } else {\n      this.keepSessionAlive().subscribe();\n    }\n  }\n\n  private showAbsoluteTimeoutWarning(): void {\n    this.openModal(SessionExpirationType.Absolute);\n\n    // run outside angular to keep app 'stable' as required by QA automation\n    this.ngZone.runOutsideAngular(() => {\n      setTimeout(() => {\n        this.ngZone.run(() => {\n          this.logout();\n        });\n      }, RX_SESSION.minutesBeforeLogout * 60 * 1000);\n    });\n  }\n\n  private openModal(mode: SessionExpirationType, data?: object): void {\n    this.sessionExpirationModal = this.adaptModalService.open({\n      content: RxSessionExpirationComponent,\n      beforeDismiss: (): boolean => false,\n      size: 'sm',\n      data: {\n        mode,\n        ...data\n      }\n    });\n\n    // should be removed after ADAPT issue is resolved:\n    // https://github.bmc.com/bmc-ux/adapt-angular/issues/2746\n    this.sessionExpirationModal.then(noop, noop);\n  }\n\n  private isValidTimeout(date: moment.Moment): boolean {\n    return this.rxSessionService.isAlive() && date.isValid() && date.isAfter(moment());\n  }\n\n  private clearTimer(type: SessionExpirationType): void {\n    if (this.sessionExpirationInfos[type].timer) {\n      clearTimeout(this.sessionExpirationInfos[type].timer);\n      this.sessionExpirationInfos[type].timer = null;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { RxSessionExpirationService } from '../security/session-expiration/session-expiration.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxKeepSessionAliveResolver implements Resolve<any> {\n  constructor(private rxSessionExpirationService: RxSessionExpirationService) {}\n\n  resolve(): Observable<any> {\n    return this.rxSessionExpirationService.keepSessionAlive();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { Observable, of } from 'rxjs';\nimport { RxFeatureService } from '../services/feature/feature.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxFeatureGuard implements CanActivate {\n  constructor(private rxFeatureService: RxFeatureService) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<UrlTree | boolean> {\n    return of(this.rxFeatureService.isFeatureEnabled(route.data['featureId']));\n  }\n}\n","export enum JustificationRequirement {\n  RequiredForApproval = 'TO_APPROVE',\n  RequiredForRejection = 'TO_REJECT',\n  RequiredForApprovalOrRejection = 'TO_APPROVE_OR_REJECT',\n  NotRequired = 'NO'\n}\n","import { Injectable } from '@angular/core';\nimport { HttpRequest } from '@angular/common/http';\nimport { endsWith } from 'lodash';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxMetadataService {\n  private metadataLastUpdateTime: Date;\n\n  setMetadataLastUpdateTime(metadataLastUpdateTime: string): void {\n    this.metadataLastUpdateTime = new Date(metadataLastUpdateTime);\n  }\n\n  getMetadataLastUpdateTime(): Date {\n    return this.metadataLastUpdateTime;\n  }\n\n  isLocalizedStringsRequest(request: HttpRequest<any>): boolean {\n    return request.method === 'GET' && /\\/api\\/rx\\/application\\/localizedstrings/.test(request.url);\n  }\n\n  isMetadataDataPageQueryRequest(request: HttpRequest<any>): boolean {\n    return request.method === 'GET' &&\n      /\\/api\\/rx\\/application\\/datapage/.test(request.url) &&\n      (endsWith(request.params.get('dataPageType'), 'DefinitionDataPageQuery') ||\n        endsWith(request.params.get('dataPageType'), 'LocalizedStringsDataPageQuery'));\n  }\n\n  isMetadataRequest(request: HttpRequest<any>): boolean {\n    return request.method === 'GET' &&\n      (this.isMetadataDataPageQueryRequest(request) || /\\/api\\/rx\\/application\\/[a-zA-Z]+\\/[a-zA-Z]+definition/.test(request.url));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { find } from 'lodash';\n\nimport { IFunctionDescriptor } from '../function/function-descriptor.interfaces';\nimport { IActionType } from '../action-type/action-type.interfaces';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxDesignerCacheService {\n  private actionTypes: IActionType[];\n  private functionDescriptors: IFunctionDescriptor[];\n\n  getActionTypeByNameSync(actionTypeName: string): IActionType {\n    return find(this.actionTypes, { actionTypeName });\n  }\n\n  getFunctionDescriptorsSync(): IFunctionDescriptor[] {\n    return this.functionDescriptors;\n  }\n\n  setActionTypes(actionTypes: IActionType[]): void {\n    this.actionTypes = actionTypes;\n  }\n\n  setFunctionDescriptors(functionDescriptors: IFunctionDescriptor[]): void {\n    this.functionDescriptors = functionDescriptors;\n  }\n}\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { RxMetadataService } from '../metadata.service';\n\n@Injectable()\nexport class RxMetadataLastUpdateTimeInterceptor implements HttpInterceptor {\n  constructor(private rxMetadataService: RxMetadataService) {}\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return next.handle(request).pipe(\n      tap((event: HttpEvent<any>) => {\n        if (event instanceof HttpResponse) {\n          const metadataLastUpdateTime = event.headers.get('metadata-last-update-time');\n\n          if (metadataLastUpdateTime) {\n            this.rxMetadataService.setMetadataLastUpdateTime(metadataLastUpdateTime);\n          }\n        }\n      })\n    );\n  }\n}\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { RxCurrentUserService } from '../../user/current-user.service';\nimport { RxMetadataService } from '../metadata.service';\nimport { RxBundleCacheService } from '../bundle-cache.service';\nimport { RxLocalizationService } from '../../localization/localization.service';\n\n@Injectable()\nexport class RxMetadataRequestInterceptor implements HttpInterceptor {\n  constructor(\n    private bundleCacheService: RxBundleCacheService,\n    private rxMetadataService: RxMetadataService,\n    private rxCurrentUserService: RxCurrentUserService,\n    private rxLocalizationService: RxLocalizationService\n  ) {}\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const isLocalizedStringsRequest = this.rxMetadataService.isLocalizedStringsRequest(request);\n    const isMetadataDataPageQueryRequest = this.rxMetadataService.isMetadataDataPageQueryRequest(request);\n    const isMetadataRequest = this.rxMetadataService.isMetadataRequest(request);\n\n    if (isMetadataRequest || isLocalizedStringsRequest) {\n      const user = this.rxCurrentUserService.get();\n      const metaDataLastUpdateTime = this.rxMetadataService.getMetadataLastUpdateTime();\n      let params;\n\n      // duplicate the 'default-bundle-scope' request header as a request parameter\n      // in order to have a separate cache for requests with different bundle scope\n      const bundleId = isMetadataDataPageQueryRequest\n        ? request.headers.get('default-bundle-scope')\n        : this.bundleCacheService.bundleId;\n\n      if (isMetadataDataPageQueryRequest && bundleId) {\n        request = request.clone({\n          params: request.params.set('bundleId', bundleId)\n        });\n      }\n\n      if (metaDataLastUpdateTime) {\n        const cacheKey = [\n          user.userId,\n          user.modifiedDate.getTime(),\n          metaDataLastUpdateTime.getTime(),\n          this.rxLocalizationService.currentLocale\n        ].join('');\n\n        params = request.params.append('_v', cacheKey);\n\n        request = request.clone({\n          headers: request.headers.delete('Cache-Control').delete('Pragma').delete('If-Modified-Since'),\n          params: params\n        });\n      }\n    }\n\n    return next.handle(request);\n  }\n}\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { RX_APPLICATION } from '../application';\nimport { RxBundleCacheService } from '../caching/bundle-cache.service';\nimport { RxGlobalCacheService } from '../caching/global-cache.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxRequestInterceptor implements HttpInterceptor {\n  constructor(private rxBundleCacheService: RxBundleCacheService, private rxGlobalCacheService: RxGlobalCacheService) {}\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const bundleId = this.rxBundleCacheService.bundleId;\n    const applicationId = this.rxGlobalCacheService.applicationId;\n\n    // LMA:: Check if those headers are still necessary. Test with IE11.\n    request = request.clone({\n      headers: request.headers\n        .set('X-Requested-By', 'XMLHttpRequest')\n        .set('If-Modified-Since', 'Mon, 26 Jul 1997 05:00:00 GMT')\n        .set('Cache-Control', 'no-cache')\n        .set('Pragma', 'no-cache')\n    });\n\n    if (bundleId && !request.headers.has('default-bundle-scope')) {\n      request = request.clone({\n        headers: request.headers.set('default-bundle-scope', bundleId)\n      });\n    }\n\n    if (applicationId === RX_APPLICATION.innovationStudioBundleId) {\n      request = request.clone({\n        headers: request.headers.set('Design-Time', 'true')\n      });\n    }\n\n    return next.handle(request);\n  }\n}\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { RxMetadataService } from '../caching/metadata.service';\nimport { RxUpgradeTrackerService } from './upgrade-tracker.service';\n\n@Injectable()\nexport class RxUpgradeTrackerInterceptor implements HttpInterceptor {\n  constructor(private rxMetadataService: RxMetadataService, private rxUpgradeTrackerService: RxUpgradeTrackerService) {}\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return next.handle(request).pipe(\n      tap((httpEvent: HttpEvent<any>) => {\n        const isCachedRequest = this.rxMetadataService.isMetadataRequest(request) || this.rxMetadataService.isLocalizedStringsRequest(request);\n\n        // Exclude resource calls since they never have the upgrade-mode header in the response.\n        // Exclude API calls that may be cached by browser with an outdated value of the header.\n        if (!isCachedRequest && httpEvent instanceof HttpResponse && /\\/api\\/rx/.test(request.url)) {\n          this.rxUpgradeTrackerService.isUpgradeInProgress = httpEvent.headers.has('upgrade-mode');\n        }\n      })\n    );\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { RxMetadataLastUpdateTimeInterceptor } from './interceptors/metadata-last-update-time.interceptor';\nimport { RxMetadataRequestInterceptor } from './interceptors/metadata-request.interceptor';\nimport { RxRequestInterceptor } from '../interceptors/request.interceptor';\nimport { RxUpgradeTrackerInterceptor } from '../upgrade-tracker/upgrade-tracker-interceptor';\n\n@NgModule({\n  imports: [CommonModule]\n})\nexport class RxCachingModule {\n  static forRoot(): ModuleWithProviders<RxCachingModule> {\n    return {\n      ngModule: RxCachingModule,\n      providers: [\n        {\n          provide: HTTP_INTERCEPTORS,\n          useClass: RxRequestInterceptor,\n          multi: true\n        },\n        {\n          provide: HTTP_INTERCEPTORS,\n          useClass: RxMetadataRequestInterceptor,\n          multi: true\n        },\n        {\n          provide: HTTP_INTERCEPTORS,\n          useClass: RxMetadataLastUpdateTimeInterceptor,\n          multi: true\n        },\n        {\n          provide: HTTP_INTERCEPTORS,\n          useClass: RxUpgradeTrackerInterceptor,\n          multi: true\n        }\n      ]\n    };\n  }\n}\n","export const RX_CHATBOT = {\n  defaultChatbotId: 'AGGADGG8ECDC0AP0PA6EPJSIGS75QX',\n  chatbotLocales: {\n    recordDefinitionName: 'Chatbot Locale',\n    fieldIds: {\n      providerPassword: 123,\n      chatbotName: 1772,\n      locale: 1775,\n      botConfigurationId: 536870913\n    }\n  }\n};\n","import { Injectable, Injector } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { forEach } from 'lodash';\nimport { DataPage, IDataPageRequestConfiguration, IDataPageResult } from '../data-page';\n\nconst botDefinitionDataPageQuery = 'com.bmc.arsys.rx.application.chat.datapage.ChatbotConfigurationDataPageQuery';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxChatbotDefinitionDataPageService extends DataPage {\n  constructor(private injector: Injector) {\n    super(injector, botDefinitionDataPageQuery);\n  }\n\n  get(dataPageRequestConfiguration: IDataPageRequestConfiguration = {}): Observable<IDataPageResult> {\n    return super.get(dataPageRequestConfiguration).pipe(\n      tap((result: IDataPageResult) => {\n        forEach(result.data, (entity) => {\n          entity.name = entity.chatbotName;\n          entity.lastUpdateTime = entity.modifiedDate;\n          entity.lastChangedBy = entity.modifiedBy;\n        });\n      })\n    );\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxLiveAgentSettingsService {\n  constructor(private httpClient: HttpClient) {}\n\n  private chatbotConfigurationUrl = '/api/rx/application/chat/chatbotconfiguration';\n\n  getAvailableTopics(): Observable<string[]> {\n    return this.httpClient.get<string[]>(`${this.chatbotConfigurationUrl}/virtualchattopics`);\n  }\n}\n","export enum MachineLearningProviderNames {\n  Helix = 'HELIX',\n  Native = 'NATIVE',\n  Watson = 'WATSON'\n}\n","export const RX_DESIGNER = {\n  messageTypes: {\n    closeDesigner: 'closeDesigner',\n    afterSave: 'afterSave',\n    designerLoaded: 'designerLoaded',\n    designerLoadFailed: 'designerLoadFailed',\n    waitingForDesignerOptions: 'waitingForDesignerOptions',\n    definitionStatusChanged: 'definitionStatusChanged'\n  },\n\n  paletteIconPosition: {\n    top: 'top',\n    bottom: 'bottom'\n  },\n\n  paletteItemBorder: {\n    solid: 'solid',\n    bold: 'bold',\n    dashed: 'dashed',\n    double: 'double'\n  },\n\n  paletteItemLabel: {\n    inner: 'inner',\n    outer: 'outer',\n    none: 'none'\n  },\n\n  paletteItemShape: {\n    rectangle: 'rectangle',\n    circle: 'circle',\n    square: 'square',\n    annotation: 'annotation'\n  }\n};\n","export const RX_DEFINITION = {\n  scopes: {\n    bundle: 'BUNDLE',\n    public: 'PUBLIC'\n  }\n};\n","import { Injectable } from '@angular/core';\nimport { IDefinitionAdapter } from './definition-adapter.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxDefinitionAdapterRegistryService {\n  private runtimeAdapters: Map<string, IDefinitionAdapter> = new Map();\n  private designAdapters: Map<string, IDefinitionAdapter> = new Map();\n\n  registerRuntimeAdapter(type: string, adapter: IDefinitionAdapter): void {\n    this.runtimeAdapters.set(type, adapter);\n  }\n\n  registerDesignAdapter(type: string, adapter: IDefinitionAdapter): void {\n    this.designAdapters.set(type, adapter);\n  }\n\n  getRuntimeAdapter(type: string): IDefinitionAdapter {\n    return this.runtimeAdapters.get(type);\n  }\n\n  getDesignAdapter(type: string): IDefinitionAdapter {\n    return this.designAdapters.get(type);\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { RxDefinitionService } from './definition.service';\nimport { IBundleDescriptor } from '../bundle/bundle.interfaces';\n\n@Pipe({\n  name: 'rxDefinitionScopePipe'\n})\nexport class RxDefinitionScopePipe implements PipeTransform {\n  constructor(private rxDefinitionService: RxDefinitionService) {}\n\n  transform(value: string, bundleDescriptor: IBundleDescriptor): string {\n    return this.rxDefinitionService.getScopeName(value, bundleDescriptor);\n  }\n}\n","import { RxDefinitionNameService } from './definition-name.service';\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'rxDefinitionNamePipe'\n})\nexport class RxDefinitionNamePipe implements PipeTransform {\n  constructor(private rxDefinitionNameService: RxDefinitionNameService) {}\n\n  transform(value: string): string {\n    return this.rxDefinitionNameService.getDisplayName(value);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RxDefinitionNamePipe } from './definition-name.pipe';\nimport { RxDefinitionScopePipe } from './definition-scope.pipe';\n\n@NgModule({\n  declarations: [RxDefinitionNamePipe, RxDefinitionScopePipe],\n  exports: [RxDefinitionNamePipe, RxDefinitionScopePipe],\n  imports: [CommonModule]\n})\nexport class RxDefinitionModule {}\n","import { RX_APPLICATION } from '../application/application.constant';\n\nexport const RX_ERROR_HANDLING = {\n  optimisticLockErrorHttpStatus: 412,\n\n  ignoredErrors: [\n    { status: 404, contains: '/resources/i18n/locale' },\n    { status: 404, contains: RX_APPLICATION.shellDefinitionName },\n    { status: 412, contains: '\"messageNumber\":309' },\n    { status: 412, contains: '\"messageNumber\":9965' }\n  ],\n\n  maxErrorMessageLength: 500,\n  maxArMessageLength: 500,\n\n  arMessagesHeader: 'x-ar-messages',\n  arNoteLogInfo: 8914, // message number for server side log messages\n  arGuestUserMessageNo: 59,\n\n  messageTypes: {\n    warning: 'WARNING',\n    success: 'SUCCESS',\n    info: 'INFO',\n    error: 'ERROR'\n  }\n};\n","import { Injectable } from '@angular/core';\nimport { RxUtilityModalsService } from '@helix/platform/ui-kit';\nimport { from, Observable, throwError } from 'rxjs';\nimport { catchError, switchMap } from 'rxjs/operators';\nimport { RX_ERROR_HANDLING } from '../error-handling/error-handling.constant';\nimport { IHttpOptions } from '../http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxDefinitionUpdateService {\n  constructor(private rxUtilityModalsService: RxUtilityModalsService) {}\n\n  execute(updateFn: (httpOptions?: IHttpOptions) => Observable<any>): Observable<any> {\n    return updateFn().pipe(\n      catchError((error) => {\n        if (error.status === RX_ERROR_HANDLING.optimisticLockErrorHttpStatus) {\n          return from(this.rxUtilityModalsService.confirmExternalChange(error.error[0].messageText)).pipe(\n            switchMap((isConfirmed) => {\n              if (isConfirmed) {\n                return updateFn({\n                  headers: {\n                    'Override-Optimistic-Lock': 'true'\n                  }\n                });\n              } else {\n                return throwError(error);\n              }\n            })\n          );\n        } else {\n          return throwError(error);\n        }\n      })\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\n\n// TODO-VS: do not provide in root\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxCommandManagerService {\n  // TODO-VS: update types\n  private commandManager: any;\n\n  // TODO-VS: update types\n  get(): any {\n    return this.commandManager;\n  }\n\n  // TODO-VS: update types\n  set(commandManager: any): void {\n    this.commandManager = commandManager;\n  }\n}\n","export const RX_DESIGNER_ELEMENT_SHAPE = {\n  bpmnIcons: {\n    gear: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsSAAALEgHS3X78AAAAw0lEQVQoz22SwRGCQAxF3zIUQAnSAXSAHUgHcslZK3CswPu/YAeUQAlQgp3oJThhNTM7s8lPfv783UQWZtYAC4CklOMpNE3AAHTAzfErsAIj0EtaSwcm4ADMGeEj3CegLjwZssaXnxgDwDbQREBSLanOiBqAZGbvUFwltZkJSyQssrUrv7GTVrh1V89P7li0uNsck5TKjLkCZjN7en722rdnGxjD1gq4/JE2Rlt719oGeQB34OhY/33pP99jc66VtDPiA3vHNpWAb5BUAAAAAElFTkSuQmCC',\n    user: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsSAAALEgHS3X78AAAAgUlEQVQoz5WQwRFAMBBFn4wClKAEOlCCDtz2qhbXvdCBlKAEHVCKS8ywMsi7bfa/7CYZBhFpgT6Ug6r6az8z4RLYzB21qq5n4Uyz5cntzAoFH1hhTxV8JDO9CVVkSnn7JREpwsP6IMRYgQHwOTADzcfqFTACnfsRvtI4EsmBJUU4ANvZFcko+HmJAAAAAElFTkSuQmCC',\n    message:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAYAAACALL/6AAAACXBIWXMAAAsSAAALEgHS3X78AAAAnUlEQVQY042RwQ3CMBAEh8gF0Al0QEpIOuA+90XpADrgfZ+kA9xBWgidUAKfDTKCSL6XfZrdldc7d38Ae+rmlYBOlww8N8DDyiUtFqAFbhGxlKS7H4ELMAHnRntTwuzubQF3wAzkiLBPglzN3ZHIpBmBe0QMq0lTxsvFBI6AlfCPQKIJ6IFe569J/yqJiLzVa9LjrpX/QFI7p0o+vwFVmjBfid8AeAAAAABJRU5ErkJggg==',\n    plus: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAD1BMVEUAAABmZmZmZmZmZmb////rTs6DAAAAA3RSTlMAgMBakZ4lAAAAAWJLR0QEj2jZUQAAACZJREFUGNNjYMAAwob05TAKAoGyEYgUYGA2hgMDVA6KsgFxKDIAALWJCwe6ztRNAAAAAElFTkSuQmCC',\n    cross:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAVFBMVEUAAABmZmZVVVVgYGBxcXFnZ2dlZWVnZ2dlZWVlZWVnZ2dmZmZmZmZlZWVmZmZnZ2dmZmZnZ2dmZmZmZmZmZmZnZ2dmZmZlZWVmZmZmZmZmZmb///8fAoMMAAAAGnRSTlMABQYICUVHSElRUqOoq62ur7O0tre4ubr3+qfgKgYAAAABYktHRBsCYNSkAAAAnklEQVQoz51SyxKDIAwkgvahFkrVav7/QxuCg0nxJAdIdsmwu4MxV9a9B9lCf8vFc8OPPXA74fbgyiPiq8wAt0c57TN2psaDuDQz4xaBExOoXVyFF8Z96QhKIklBfEfapMAyU91PqwnnuIExEWNF8CNnTyQrMaoMhF+VgfIrMvjLoWTAuPQrGa/EsLwce7sqXzSztrnsBiWxGbpLP+QHwMkPHpwyEy0AAAAASUVORK5CYII=',\n    multiInstanceParallel:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACxJREFUeNpilJOT+c+AAIwPHz5mkJeXBbGJEmdioBCMGjBqwKgBg8UAgAADADERCXj6SL6VAAAAAElFTkSuQmCC',\n    multiInstanceSequential:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACtJREFUeNpilJOTYaAEsADxf0oMYGKgEFBsAMgLjEPfC6OxMBoLFBsAEGAAje8DgZ8/t18AAAAASUVORK5CYII=',\n    action:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAAnUlEQVQokY2OsQ3CQBAE596P6IKABsiIoQ1kRHZN0Ik/QbgRyAkJKQQhmSUysl7y25vtavb2zN2vwAGoKKszszYCNWATMEAl6RRmwr0sZMFH0q3UyAvPlNJe0g54TBbMTAAppXvTNFtJNfAuLfzl7hFYAt9hHodGUnD3haQjcDazdX4oZn4DvMxsNbacvxSAUbgHVAIyKQCX2bTU/gAVMS805tVavgAAAABJRU5ErkJggg==',\n    clock:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAA/1BMVEUAAAAAAABgYGBxcXFdXV1qampiYmJpaWlra2tmZmZoaGhqampmZmZkZGRqampoaGhpaWlmZmZjY2NnZ2dlZWVpaWlmZmZkZGRnZ2dnZ2dmZmZnZ2dlZWVnZ2dmZmZnZ2dmZmZmZmZmZmZlZWVmZmZlZWVmZmZnZ2dmZmZnZ2dlZWVmZmZnZ2dlZWVlZWVlZWVmZmZnZ2dmZmZnZ2dmZmZmZmZmZmZlZWVmZmZmZmZnZ2dmZmZlZWVnZ2dmZmZnZ2dmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmb///8tfJx5AAAAU3RSTlMAAQgJCwwNERMUFhgZHB0gIiMkJSYnKCkqTVBSU1daXl9kaWpsb3Bydnd5e3x+iI2bn6Okp6iqq6ytrq+ws7a4udbX2Nrb3evx8vP09/j5+vz9/rXGk28AAAABYktHRFTkA4ilAAABCElEQVQoz2WS11rCQBCFBxugKDE2ROxixBIbxi7EAlKC2Zz3fxe3JNkNOTeTzD/7ze6ZIVKqHHf9ft/vHC2RKdtjiMU8W+cbIwR3O1axaDXuJxjWk7wT4bGa/FjPYKfqs87CpoiHrZKqC9m2iMsDODLhY0tVnuG3wsMtXikLCu+4IaqyyeoUoLW/cIWaaNM0IA8n1MFuHuzhg35g58EGvmiI+TxYwIBGmEvBdYurFINvrKdAShzbxKfR3HGlFuPm+rqGxHX1A7XkA7klb4VsXlkiTLzIgitlIrc9OjfrLyNluxzUkx7USzooNdr2fm1mtnbwYI6WqOyOk2UYu+VMQ74+vSDo6fX5B1EWNtYbmlVlAAAAAElFTkSuQmCC',\n    qualification:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAOtSURBVFiFtZddaBxVGIafb2a6STfRKo1QxYhGqQWtRWxjjCD+YFHaKxHpTSSQ7MSdgHS9qlBipFjJVQohG+cwpMFIBaN31YuIRaoXLfFCgxcWsfYn8Zc0pSa7ITtnjhfNwsY07uy0eWHh/HznfV6WnbPfCDHV0dHRkE6n90dR9LSItAF3A1sBB7gKXBCR76MoOqW1/nx0dPSfOL5SrSCbzbZEUXTIGHMAuC1m3oIx5mPLsgZ83/85UYDOzs76VCr1DpAD6mKC/6sScGx5eblvbGxsKXYAz/OaS6XSpyLSmhC8GiJyxhjzilLq96oBMpnMIyLyNdB0K+AVmomiaF8QBNPrBujq6nrItu3TXP+BbYRmHMfZk8/n/ygvWOWB67qbbNs+sYFwgHu11idzudzmNQGMMUeAPRsIL3OeKBQKh1YFcF33PhE5GNPjb+CwZVk7gQallNi2/aCIvAlcjhniLc/ztsH1SwRjzNsiEudRuwI8o5T6qXJxZGTkPDDked7xMAw/A/ZW8WkMw7AP8CSXy21eXFz8C2iMEeANpZQP4LpukzHmNRHRwLhSqgDQ29u7tVQqnQdur+K16DjONmthYeGlmPBisVj8CKC/v98BvhGRYeAD4GS5aHh4eA44FcOvQWu9z6L611XWpfHx8UWA2dnZVmBHxd5zrutuqZgvxDE0xjzviMijMQM87LquWWfv4vz8fCX0sZieuyxge8zi9XQliqIDExMTGsB13SdrCPCAA6RvAv5LFEUvBkHw6wp8BzBRw/ktFrApIXwJ2F+Gd3d3twGngeYaPLQFzCUMcK58H2Qyme2WZX0J3FWjx5wFXEgY4GJ5ICKvEu9RXiURmXWMMdMi0p4gwE7XdT9ZGT+e4DzAWQuYTHjYEpEWEWkBGhJ6fGvV19d/RcyLo1IictT3/d2+7+8GVAL4VWPMF9bQ0NA1YCyBwU1JRE4opQrOyvwYkKGG5tMY05TNZlsAtNZ31sgvGmMGoKIl6+npedcY01ejUVK9p5Q6DBUdUSqVOgpMr3vk1mmqrq7uSHmyqin1PK85DMMzwD0bBP8TaFVKXSovWJW7+Xz+chRFLwO/bQB8Fni2Er4mAEAQBNOO47QBP9xC+He2ba9p5QDsG1VPTU1da29vP6611sBTrPSOCbQEDACv+75/w/+cWC+nYRgeFJFO4r+cLojIh1rr94MgmPm/wqoByvI8r1Fr/QKwN4qiXSJyP3AHsLzyOSciPwKT6XR6cnBwsBjH919eHFLEJsIcUwAAAABJRU5ErkJggg==',\n    connector:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAtklEQVQokYWRUQ2DQBBEHw0GsEAlYIFKoBJuJGChFgYJxQIWsICEVkL7AZce7ZFecj+bN5OZ3SKE8ACe/H81sJTA0/Y5R0jqNzB+yiM7SXegS0YD0J4O4AZov8YVQFZgewaufLqNwPQjkNRI6iW1tqdNNNq+RqZM4PsWYwRmScH2EJ13Akm3pGAH1LYvubgxUvVVrsqwO0G6kRHIugMUIYQX6zYG1uNMB2wNdCWwJNkBmiN3YHkDS8QzErkLgz8AAAAASUVORK5CYII=',\n    errorEnd:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAABzUlEQVRYhe2WzXHCMBCFv2RSgEsgHYQOSAXBFQCXPeMKUgKc9xJSAaQC6AA6wCW4hBwszyiyZEkZxsOBd/LPev3NeyvZ8NCd6mnsF4pIAVyBAnhV1RrgeWwQYG8g6g5idBAR2QAzc3qw740GIiJzYG1d+rbvJ8+IyXYJXFT1lAnxBhxpI8H0mNo1OY4sgQ1wNI1TIQrgy4IAx41ckIV1nAOzAdzag1uUBCIiE6dZkQIjImtaJ22d7NWSBeJpFoURkRmtG656seSALALXvTBmLvaBZ3qxJIGYl0wGSnww9gr5A6Gqja/JSwyEsBsuzF5EpsAn/eHs9BNqkAKyTKiB1rUzYfcaVd2FHh6MxuyGPouHYELyzkYSCPCRARFTMJYUkPnAvToDolHV/zkiIkvCsWyBaQbMLlYw5EgolouqVmYZloB3OTrybmJRELMh+WJpgPfuRFUv5nwIpjZ1+SABCIDS3ZASYKJuDIH4NrEq9B8SgdmlgPR+jMyX9uo2U9VVrFnKD1BIPkfcWC5AldLMcqZTUiwhEDuWBliFPlQRmIrEWMCJxlh7ti6VsY3oVnIdsd3YjgXhA+nm46SqSXNxcxCzWia0c1GOCfHQXesXYhiZ69pK0h4AAAAASUVORK5CYII=',\n    errorBoundary:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAACR0lEQVRYhe2Wz3XiQAyHv90KTAcuATpIKlioYMlF14VKIFddMBXAVhA6gA7iDkIJexhNUAaP/+Tt88shusDYsvz5p5E08G1f1H6M/UIRKYBXoAAmqnoF+Dk2CHAwiDpCjA4iIhvgwZZHf280EBGZAyt3ae/v994jltslcFHV00CIKfBCSAkWY+Z9hiiyBDbAiwXuC1EAO4Oo7fI+9RsC8tv9HwKzAaaEPRE35zF16gUiIqUFuwBPhK/rhBGRFZZO4NlinFS1/hSIBQPYq2rVB0ZEHghqXM3/V4zR5N8XJKalAjCYdQ7G9sXBlmtVvQBzW9+lpReIvaQEjr4BqerWwJpgYoVsVbXKxRgEwk2Nv+kNVX1yMAcRKaxpTQklujbXP7kYQ0CW9tsoqYMpgTOhaV2BR+c2B66W0uEg1g0LoPKSikjpU5HAXIFF9HcxGj+kFwi3nf4uqVXDGTiLyC6BmQGzpPPexWiy1hYvIm/2komt/QivCQpUBtH0fAG8EdIyaXtXVhERWXIv6Xs1EL6+BpZemcRiyVZtEK0g3CR9NrAP1WB7YEHYEzmY1ibWCWKSzgmHl4upc1cN1qgeHcwqF+NTILguaNWxsfUibUgJzMagwY2FLog2EN/E4ghf584hCczOYD6MhS67qxqbtK+EiVkT1MlWRvJs5wEoZ02KxLTEHF8IA67TnDLReqUlBxIlLbERnhtUHTBreqYFktSYtGd3aaGqra35f1mqiD8ObseCaAKJ++PkRvi4INaASmx6jgnxbV/a/gFaCwT89kIjVgAAAABJRU5ErkJggg==',\n    webRequest:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAtklEQVQokYWRUQ2DQBBEHw0GsEAlYIFKoBJuJGChFgYJxQIWsICEVkL7AZce7ZFecj+bN5OZ3SKE8ACe/H81sJTA0/Y5R0jqNzB+yiM7SXegS0YD0J4O4AZov8YVQFZgewaufLqNwPQjkNRI6iW1tqdNNNq+RqZM4PsWYwRmScH2EJ13Akm3pGAH1LYvubgxUvVVrsqwO0G6kRHIugMUIYQX6zYG1uNMB2wNdCWwJNkBmiN3YHkDS8QzErkLgz8AAAAASUVORK5CYII=',\n    transparent:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=',\n    info: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAz0lEQVQokX2SsQ3CMBBFXzJBRsgIkWsX1G6ACYANwgTABBEbMAI0aQmS6wAbMAIjoB/ZUogMv7Clu/vf/+6cEWDbvgBqYA5UwBvogKN3pot1A8G2vQquQEEaJ+/MRpnctn2ZKD4E9Yi1bftmIABNQlnFr0mslhMRFpPECZgBZcLcKk8En96ZPXBL5KoUofnR+IAU4RFu9aDRfuVEGE9D2OrwzqiXSI64ZGEH9382As7emWXunZGKljJ9fgy5GBY3/hoa4y6MOe5FYvoasgfAB64INJdEFsdVAAAAAElFTkSuQmCC',\n    jitterbit:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAEwUlEQVR4nO3aeahVVRTH8U83LW00s0GigkpRK8yKCqKiwiyQaKASI5WMoKCBoLKkOQgaiKRSooiIShqsiMoKksrmlGYaoKKSZ5PaYKg59Mc6t3fve/fdd8/Z1/v643xh8/Sx92+tvc8+a629z6OkpKSkpKSkpKSkpIMciAswdKAdGSjOxyb8hH0G0pHKANk9Kvv5Cb4ZIB9aZofNoPcn/sEBbdZuO+PxPca1UfNqsf0faqPmZuNSbMQSDG6D3mj8LRbgyDbodYSZ2IB50mLGCHwlJr88UavjXC8cf1ixnTAaX2QamzA/0Z/hieNzU8Ei4fynOKHFcYNxkQh6m2ralYn+LMPdiRq5OVjEg+ok3hET2R+DavoNwgRcg2/VT7zapib68obYlR3nKY0ntA4r0IX1ffSpbZMT/XhBmxZgUP9d6ngQpzX4/WDsJCb/qtgdP2b/3xWH4PisD+kl8LYYlqhR2PAavZ/oWtyG3ZqMHYJzxcLMSPRjGRYmahTmXfWTX4ZDc4zfHmMT7I/L7P6JrRN0CvOi7sl/jT06bP/eGvtTOmwbPJEZXyMyQyc5QpwhqgvwsfZUqLl4PTN+c6LO+Jz9x4rXrWf8uSHRj9z8Ip5CytbfGavxgO7M0Iwz8ZvGKXUjpiX4kou9MqOLEnWO0V0k/YTZmXYt2+AUvJb1+0GcIK8T1eUtIhOsF2eV2dgi0a9+uSRzZm6b9A4Tk1qX6X6PD/C57nS7Gudhyz40RoozyiYs1lpcOk6Bcryi+0BzRd7B/bCXeB02qN/eP4tFaoWZukv113AZjsYocQc5GTeJW6iFuDCvk9NrHJuVd3A/VI/Gh+P9Gjt5S+YrNI4T1Vhxn4Kxaw/xNKpi9xQRacI8HJT9uyIuTe8soFMRB6Wek1+FE4s6twPe6yG4pKhYAwaJxf1dBL1UJqn39S+xswoxUu/St9pSytlazlC/TedixwS9ClbWaE4vKjJVHG/7eqeeTHCyynbiWryndhcuVvzUWI0ji/MOrOAkLG3gVKM2s6CDsBWe60d/Fe4XdUOeO8Sq//2+UtXC4WJRmk7KjL4hcvFKkaN3x96ZIwfXjFsvPnHdn8M54tV6BMfmGLNc1AhL8SZe7qNfNaYMFhXnulbEX8IckTP7Y3fcKIJW9Uk9jTEtjN1KLNiv2biPcCvOEgu7Z6a/j7g2Pwd3Zf1qd8YdTWxMzPq81YI//1GkhByOx2uc2igKkFni9meUmMwYkc/vFE9xrQh0eb8K7SfK3y7Nc/lj2hejWuIy9Zelzdrz0j+GNrvGq02BjybaycVVmk98jThHbM7DygT1WeuVzWirIQ/pe/ITC2ruIjJNs4Wr4Gz80cNuV0GbhRmm94XFeo1vkVtlp0znbZyq/iZ4b3HJ2jNA1rajdJjLezgwJ1FvqN4LukKk6tWi4FkggvFCfNej/9OJ9nMzQveRtktaSQv76v1UF+Nkcc3eiJHiVPidhFI4hc8yw7PboDVD98S/FOm1VYbidhEbOvoqPCMc3q8NWoszrWcV303TxCKkfo5rmfn4sA06p4vJz5OePqeIT/QdYZH0P3+piO+LC/R9F/i/ZTmuHWgnWqXdf6YyRHw4ebvNuiUlJSUlJSUlJSUl7eVfZ4yXeU+b+PAAAAAASUVORK5CYII=',\n    mulesoft:\n      'data:image/png;base64,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'\n  }\n};\n","import { Injectable } from '@angular/core';\nimport { compact, flow, filter, find, flatten, map as _map, sortBy, uniq } from 'lodash';\nimport { forkJoin, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { IDesignerStencilElement, IDesignerStencilElementGroups, IDesignerStencilElementTree } from './designer.types';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxDesignerStencilBuilder {\n  buildElementsTree(\n    elementsSources: Observable<IDesignerStencilElement[]>[],\n    elementGroups: IDesignerStencilElementGroups\n  ): Observable<IDesignerStencilElementTree[]> {\n    return forkJoin(elementsSources).pipe(\n      map((elements) => {\n        return flow(\n          flatten,\n          (chainElements) => _map(chainElements, 'group'),\n          uniq,\n          compact,\n          (groupNames: string[]) => sortBy(groupNames, (groupName: string) => groupName.toLowerCase()),\n          (groupNames: string[]) =>\n            sortBy(\n              groupNames,\n              (groupName: string) => (find(elementGroups, { name: groupName }) || elementGroups.default).priority\n            ),\n          (groupNames: string[]) =>\n            _map(groupNames, (groupName: string) => {\n              return {\n                label: groupName,\n                children: flow(\n                  flatten,\n                  (chainElements: IDesignerStencilElement[]) => filter(chainElements, { group: groupName }),\n                  (chainElements: IDesignerStencilElement[]) =>\n                    sortBy(chainElements, (element) => element.label.toLowerCase())\n                )(elements)\n              };\n            })\n        )(elements);\n      })\n    );\n  }\n}\n","const tenancyModes = {\n  shared: 0,\n  dedicated: 1,\n  unified: 2\n};\n\nexport const RX_ENVIRONMENT = {\n  tenancyModes,\n\n  tenancyModeNames: {\n    [tenancyModes.shared]: 'Shared',\n    [tenancyModes.dedicated]: 'Dedicated',\n    [tenancyModes.unified]: 'Unified'\n  }\n};\n","import { HttpErrorResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { compact, includes, isString, some, truncate } from 'lodash';\nimport { RxNotificationService } from '../notification/notification.service';\nimport { RX_ERROR_HANDLING } from './error-handling.constant';\nimport { IErrorMessage, IServerResponseMessage } from './error-handling.types';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxServerErrorHandlerService {\n  constructor(private translateService: TranslateService, private rxNotificationService: RxNotificationService) {}\n\n  getServerResponseErrorDetails(responseData: any): IServerResponseMessage[] {\n    let messages;\n\n    try {\n      messages = JSON.parse(responseData);\n    } catch (ignored) {\n      messages = [...responseData];\n    }\n\n    if (Array.isArray(messages)) {\n      return messages.filter(\n        (message: IServerResponseMessage) =>\n          message.messageType !== RX_ERROR_HANDLING.messageTypes.success &&\n          (message.messageText || message.appendedText)\n      );\n    } else {\n      return null;\n    }\n  }\n\n  buildMessageFromRawResponse(response): IErrorMessage {\n    const errorMessage = {\n      title: '',\n      message: ''\n    };\n\n    if (response.status === 0) {\n      errorMessage.title = this.translateService.instant('com.bmc.arsys.rx.client.error-handling.network-error.title');\n\n      errorMessage.message = this.translateService.instant(\n        'com.bmc.arsys.rx.client.error-handling.network-error.message'\n      );\n    } else {\n      errorMessage.title = this.translateService.instant(\n        'com.bmc.arsys.rx.client.error-handling.server-communication-error.title'\n      );\n\n      errorMessage.message = this.translateService.instant(\n        'com.bmc.arsys.rx.client.error-handling.server-communication-error.message',\n        {\n          status: compact([response.status, response.statusText]).join(' ')\n        }\n      );\n    }\n\n    return errorMessage;\n  }\n\n  buildMessageFromErrorDetails(error: IServerResponseMessage): IErrorMessage {\n    return {\n      title: `${error.messageType} (${error.messageNumber})`,\n      message: truncate([error.messageText, error.appendedText].filter(Boolean).join(' '), {\n        length: RX_ERROR_HANDLING.maxErrorMessageLength\n      })\n    };\n  }\n\n  handle(error: HttpErrorResponse): void {\n    if (!this.canIgnore(error)) {\n      const operationId = error.headers.get('operation-id');\n\n      if (Array.isArray(error.error) || isString(error.error)) {\n        const messages = this.getServerResponseErrorDetails(error.error);\n\n        messages.forEach((message: IServerResponseMessage) => {\n          const messageDetails = this.buildMessageFromErrorDetails(message);\n\n          switch (message.messageType) {\n            case RX_ERROR_HANDLING.messageTypes.error:\n              this.rxNotificationService.addErrorMessage(messageDetails.message, messageDetails.title, {\n                issue: { ...message, operationId, enableIssueReporting: true }\n              });\n              break;\n\n            case RX_ERROR_HANDLING.messageTypes.warning:\n              this.rxNotificationService.addWarningMessage(messageDetails.message, messageDetails.title, {\n                issue: { ...message, operationId, enableIssueReporting: true }\n              });\n              break;\n\n            case RX_ERROR_HANDLING.messageTypes.info:\n              this.rxNotificationService.addInfoMessage(messageDetails.message, messageDetails.title);\n              break;\n          }\n        });\n      } else {\n        const errorMessage = this.buildMessageFromRawResponse(error);\n\n        this.rxNotificationService.addErrorMessage(errorMessage.message, errorMessage.title);\n      }\n    }\n  }\n\n  private canIgnore(err: HttpErrorResponse): boolean {\n    return some(\n      RX_ERROR_HANDLING.ignoredErrors,\n      (ignoredError) => ignoredError.status === err.status && includes(JSON.stringify(err.error), ignoredError.contains)\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { truncate } from 'lodash';\nimport { RxLogService } from '../logging/log.service';\nimport { RxNotificationService } from '../notification/notification.service';\nimport { RX_ERROR_HANDLING } from './error-handling.constant';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxScriptErrorHandler {\n  constructor(\n    private rxNotificationService: RxNotificationService,\n    private rxLogService: RxLogService,\n    private translateService: TranslateService\n  ) {}\n\n  handle(error: Error): void {\n    const rxErrorMessage = truncate(\n      `${this.translateService.instant('com.bmc.arsys.rx.client.error-handling.script-error.message')} ${\n        error.message\n      }`,\n      {\n        length: RX_ERROR_HANDLING.maxErrorMessageLength\n      }\n    );\n\n    this.rxNotificationService.addErrorMessage(\n      rxErrorMessage,\n      this.translateService.instant('com.bmc.arsys.rx.client.error-handling.script-error.title'),\n      {\n        suppressLog: true\n      }\n    );\n\n    this.rxLogService.error(error.stack);\n  }\n}\n","import { HttpErrorResponse } from '@angular/common/http';\nimport { ErrorHandler, Injectable } from '@angular/core';\nimport { RxScriptErrorHandler } from './script-error-handler.service';\nimport { RxServerErrorHandlerService } from './server-error-handler.service';\nimport { RxLogService } from '../logging/log.service';\nimport { RxError } from '@helix/platform/utils';\n\n@Injectable()\nexport class RxErrorHandlerService extends ErrorHandler {\n  constructor(\n    private rxServerErrorHandler: RxServerErrorHandlerService,\n    private rxScriptErrorHandler: RxScriptErrorHandler,\n    private rxLogService: RxLogService\n  ) {\n    super();\n  }\n\n  handleError(error: Error): void {\n    if (error instanceof HttpErrorResponse) {\n      this.rxServerErrorHandler.handle(error);\n      super.handleError(error);\n    } else if (error instanceof Error && !(error instanceof RxError)) {\n      // Script error is considered when \"error\" is\n      // an instance of Error but not an instance of RxError\n      // (RxError's must only be logged in the debug mode).\n      this.rxScriptErrorHandler.handle(error);\n      super.handleError(error);\n    } else {\n      this.rxLogService.debug(error.message);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { reject, truncate } from 'lodash';\nimport { RxNotificationService } from '../notification/notification.service';\nimport { RX_ERROR_HANDLING } from './error-handling.constant';\nimport { IServerResponseMessage } from './error-handling.types';\nimport { RxJsonParserService, RxStringService } from '@helix/platform/utils';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxServerMessageHandlerService {\n  constructor(\n    private rxNotificationService: RxNotificationService,\n    private rxJsonParserService: RxJsonParserService,\n    private rxStringService: RxStringService\n  ) {}\n\n  handleServerResponseMessage(serverMessage: string): void {\n    const decodedMessage = this.rxStringService.decodeQ(serverMessage);\n\n    const messages = reject(\n      this.rxJsonParserService.tryParseJson(decodedMessage, []),\n      (message: IServerResponseMessage) => message.messageNumber === RX_ERROR_HANDLING.arNoteLogInfo\n    );\n\n    messages.forEach(this.addMessage.bind(this));\n  }\n\n  private addMessage(message: IServerResponseMessage): void {\n    let messageTitle = `${message.messageType}`;\n\n    if (message.messageType !== RX_ERROR_HANDLING.messageTypes.success) {\n      messageTitle += ` (${message.messageNumber})`;\n    }\n\n    const messageString = truncate(`${[message.appendedText, message.messageText].filter(Boolean).join(' ')}`, {\n      length: RX_ERROR_HANDLING.maxArMessageLength\n    });\n\n    switch (message.messageType) {\n      case RX_ERROR_HANDLING.messageTypes.warning: {\n        this.rxNotificationService.addWarningMessage(messageString, messageTitle);\n\n        break;\n      }\n\n      case RX_ERROR_HANDLING.messageTypes.success: {\n        this.rxNotificationService.addSuccessMessage(messageString, messageTitle);\n\n        break;\n      }\n\n      default: {\n        this.rxNotificationService.addInfoMessage(messageString, messageTitle);\n\n        break;\n      }\n    }\n  }\n}\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { RX_ERROR_HANDLING } from './error-handling.constant';\nimport { RxServerMessageHandlerService } from './server-messages-handler.service';\n\n@Injectable()\nexport class RxHttpResponseMessageInterceptor implements HttpInterceptor {\n  constructor(private rxServerMessageHandler: RxServerMessageHandlerService) {}\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return next.handle(request).pipe(\n      tap((httpEvent: HttpEvent<any>) => {\n        if (httpEvent instanceof HttpResponse) {\n          const message = httpEvent.headers.get(RX_ERROR_HANDLING.arMessagesHeader);\n\n          if (message) {\n            this.rxServerMessageHandler.handleServerResponseMessage(message);\n          }\n        }\n      })\n    );\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule, ModuleWithProviders, ErrorHandler } from '@angular/core';\nimport { RxErrorHandlerService } from './error-handler.service';\nimport { RxHttpResponseMessageInterceptor } from './http-response-message.interceptor';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\n\n@NgModule({\n  imports: [CommonModule]\n})\nexport class RxErrorHandlingModule {\n  static forRoot(): ModuleWithProviders<RxErrorHandlingModule> {\n    return {\n      ngModule: RxErrorHandlingModule,\n      providers: [\n        {\n          provide: HTTP_INTERCEPTORS,\n          useClass: RxHttpResponseMessageInterceptor,\n          multi: true\n        },\n        {\n          provide: ErrorHandler,\n          useClass: RxErrorHandlerService\n        }\n      ]\n    };\n  }\n}\n","export enum ExpressionOperator {\n  LeftGrouping = '(',\n  RightGrouping = ')',\n  DoubleQuote = '\"',\n  Add = '+',\n  Subtract = '-',\n  Multiply = '*',\n  Divide = '/',\n  Remainder = '%',\n  GreaterThan = '>',\n  LessThan = '<',\n  Equal = '=',\n  NotEqual = '!=',\n  GreaterThanOrEqual = '>=',\n  LessThanOrEqual = '<=',\n  In = 'IN',\n  Like = 'LIKE',\n  Contains = 'CONTAINS',\n  And = 'AND',\n  Or = 'OR',\n  Not = 'NOT',\n  Null = 'NULL',\n  NullExpression = '$NULL$'\n}\n","import { ExpressionOperator } from '../expression-operator/expression-operator.enum';\n\nexport enum ExpressionOperatorGroup {\n  All = 'all',\n  AllServer = 'allServer',\n  AllClient = 'allClient',\n  Math = 'math',\n  MathClient = 'mathClient'\n}\n\nexport interface IExpressionOperator {\n  displayValue: string;\n  value: ExpressionOperator | string;\n  tooltip?: {\n    title: string;\n    content: string;\n  };\n}\n\nexport interface IExpressionOperatorRow extends Array<IExpressionOperator> {}\n\nconst allOperatorsMap = new Map<ExpressionOperator, IExpressionOperator>(\n  Object.values(ExpressionOperator).map((value) => [\n    value,\n    {\n      displayValue: value === ExpressionOperator.NullExpression ? 'NULL' : value,\n      value\n    }\n  ])\n);\n\nconst allOperatorRows = [\n  [\n    allOperatorsMap.get(ExpressionOperator.LeftGrouping),\n    allOperatorsMap.get(ExpressionOperator.RightGrouping),\n    allOperatorsMap.get(ExpressionOperator.DoubleQuote),\n    allOperatorsMap.get(ExpressionOperator.Add),\n    allOperatorsMap.get(ExpressionOperator.Subtract),\n    allOperatorsMap.get(ExpressionOperator.Multiply),\n    allOperatorsMap.get(ExpressionOperator.Divide),\n    allOperatorsMap.get(ExpressionOperator.Remainder)\n  ],\n  [\n    allOperatorsMap.get(ExpressionOperator.GreaterThan),\n    allOperatorsMap.get(ExpressionOperator.LessThan),\n    allOperatorsMap.get(ExpressionOperator.Equal),\n    allOperatorsMap.get(ExpressionOperator.NotEqual),\n    allOperatorsMap.get(ExpressionOperator.GreaterThanOrEqual),\n    allOperatorsMap.get(ExpressionOperator.LessThanOrEqual),\n    allOperatorsMap.get(ExpressionOperator.Like)\n  ],\n  [\n    allOperatorsMap.get(ExpressionOperator.And),\n    allOperatorsMap.get(ExpressionOperator.Or),\n    allOperatorsMap.get(ExpressionOperator.Not),\n    allOperatorsMap.get(ExpressionOperator.NullExpression)\n  ]\n];\n\nconst allClientOperatorRows = [\n  [...allOperatorRows[0]],\n  [\n    allOperatorsMap.get(ExpressionOperator.GreaterThan),\n    allOperatorsMap.get(ExpressionOperator.LessThan),\n    allOperatorsMap.get(ExpressionOperator.Equal),\n    allOperatorsMap.get(ExpressionOperator.NotEqual),\n    allOperatorsMap.get(ExpressionOperator.GreaterThanOrEqual),\n    allOperatorsMap.get(ExpressionOperator.LessThanOrEqual),\n    allOperatorsMap.get(ExpressionOperator.Contains)\n  ],\n  [\n    allOperatorsMap.get(ExpressionOperator.And),\n    allOperatorsMap.get(ExpressionOperator.Or),\n    allOperatorsMap.get(ExpressionOperator.Not),\n    allOperatorsMap.get(ExpressionOperator.Null)\n  ]\n];\n\nconst mathOperatorRow = [\n  allOperatorsMap.get(ExpressionOperator.LeftGrouping),\n  allOperatorsMap.get(ExpressionOperator.RightGrouping),\n  allOperatorsMap.get(ExpressionOperator.DoubleQuote),\n  allOperatorsMap.get(ExpressionOperator.Add),\n  allOperatorsMap.get(ExpressionOperator.Subtract),\n  allOperatorsMap.get(ExpressionOperator.Multiply),\n  allOperatorsMap.get(ExpressionOperator.Divide),\n  allOperatorsMap.get(ExpressionOperator.Remainder)\n];\n\nexport const ExpressionOperatorRowsByGroup = new Map<ExpressionOperatorGroup, IExpressionOperatorRow[]>([\n  [ExpressionOperatorGroup.All, allOperatorRows],\n  [ExpressionOperatorGroup.AllServer, allOperatorRows],\n  [ExpressionOperatorGroup.AllClient, allClientOperatorRows],\n  [ExpressionOperatorGroup.Math, [[...mathOperatorRow, allOperatorsMap.get(ExpressionOperator.NullExpression)]]],\n  [ExpressionOperatorGroup.MathClient, [[...mathOperatorRow, allOperatorsMap.get(ExpressionOperator.Null)]]]\n]);\n","import { Observable, of } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { cloneDeep, flatten, forEach, isRegExp, isUndefined, sortBy } from 'lodash';\nimport { IDataDictionary } from '../data-dictionary/data-dictionary.types';\nimport {\n  IExpressionConfigurator,\n  IExpressionConfiguratorDefaultPropertyConfig,\n  IExpressionConfiguratorPropertyConfig\n} from './expression-configurator.interfaces';\nimport {\n  ExpressionOperatorGroup,\n  ExpressionOperatorRowsByGroup,\n  IExpressionOperator,\n  IExpressionOperatorRow\n} from './expression-configurator-operator.types';\n\nexport abstract class RxExpressionConfigurator implements IExpressionConfigurator {\n  abstract commonDataDictionary$: Observable<IDataDictionary>;\n\n  private expressionConfigs: IExpressionConfiguratorPropertyConfig[] = [];\n\n  protected getDefaultConfig(): IExpressionConfiguratorDefaultPropertyConfig {\n    return {\n      dataDictionary$: this.commonDataDictionary$,\n      operators: ExpressionOperatorRowsByGroup.get(ExpressionOperatorGroup.Math),\n      validateExpression: (propertyPath, expression) => of(true)\n    };\n  }\n\n  configureForProperty(config: IExpressionConfiguratorPropertyConfig): void {\n    this.expressionConfigs.push({\n      ...this.getDefaultConfig(),\n      ...config\n    });\n  }\n\n  getDataDictionary(propertyPath?: string): Observable<IDataDictionary> {\n    return this.getExpressionConfig(propertyPath).dataDictionary$.pipe(\n      map((dataDictionary) => this.sortDataDictionary(dataDictionary))\n    );\n  }\n\n  getOperators(propertyPath?: string): IExpressionOperator[] {\n    return flatten(this.getOperatorRows(propertyPath));\n  }\n\n  getOperatorRows(propertyPath?: string): IExpressionOperatorRow[] {\n    return this.getExpressionConfig(propertyPath).operators;\n  }\n\n  getOperatorRowsByGroup(group: ExpressionOperatorGroup): IExpressionOperatorRow[] {\n    return cloneDeep(ExpressionOperatorRowsByGroup.get(group));\n  }\n\n  protected getExpressionConfig(propertyPath: string): IExpressionConfiguratorPropertyConfig {\n    return (\n      this.expressionConfigs.find((config) =>\n        isRegExp(config.propertyPath) ? config.propertyPath.test(propertyPath) : config.propertyPath === propertyPath\n      ) || {\n        propertyPath,\n        ...this.getDefaultConfig()\n      }\n    );\n  }\n\n  validateProperty(propertyPath: string, propertyValue: string): Observable<boolean> {\n    return propertyValue\n      ? this.getExpressionConfig(propertyPath).validateExpression(propertyPath, propertyValue)\n      : of(true);\n  }\n\n  private sortDataDictionary(dataDictionary: IDataDictionary): IDataDictionary {\n    forEach(dataDictionary, (node) => {\n      if (node.children) {\n        node.children = this.sortDataDictionary(\n          sortBy(node.children, [(child) => !isUndefined(child.expression), 'label'])\n        );\n      }\n    });\n\n    return dataDictionary;\n  }\n}\n","export type IReplaceExpressionValueFunc = (token: ExpressionParserToken, expression: string) => string;\n\nexport enum ExpressionParserToken {\n  SingleQuoteRxExpression = '__SINGLE_QUOTE_RX_EXPRESSION__',\n  SingleQuoteTextExpression = '__SINGLE_QUOTE_TEXT_EXPRESSION__',\n  ArExpression = '__AR_EXPRESSION__',\n  RxExpression = '__RX_EXPRESSION__',\n  RxStringExpression = '__RX_STRING_EXPRESSION__',\n  RxOperator = '__RX_OP__'\n}\n","import { Injectable } from '@angular/core';\nimport { ExpressionParserToken, IReplaceExpressionValueFunc } from './expression-parser.types';\nimport { forEach, isNil } from 'lodash';\nimport { IExpressionOperator } from '../expression-configurator';\n\ninterface IExtractExpressionsResult {\n  expression: string;\n  expressionValues: IterableIterator<string>;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxExpressionParserService {\n  private readonly tokenRegExpMap = new Map<ExpressionParserToken, RegExp>([\n    [ExpressionParserToken.SingleQuoteRxExpression, /('\\${[^{}$]+}')/g],\n    [ExpressionParserToken.SingleQuoteTextExpression, /('[^$']+')/g],\n    [ExpressionParserToken.ArExpression, /(\\$[A-Z]+\\$)|(\\$\\\\[A-Z]+\\$)/g],\n    [ExpressionParserToken.RxExpression, /(\\${[^{}$]+})/g],\n    [ExpressionParserToken.RxStringExpression, /(\"[^\"]+\")|('[^']+')/g]\n  ]);\n\n  parse(expression: string, replaceFunc: IReplaceExpressionValueFunc, operators: IExpressionOperator[] = []): string {\n    if (operators.length) {\n      const pattern = operators\n        // Sort operators in descending order by length to find a compound operator in an expression.\n        // e.g. \"${foo} >= ${bar}\" has \">=\" operator instead of \">\" and \"=\" separately.\n        .sort((prevOperator, operator) => operator.value.length - prevOperator.value.length)\n        .map((operator) => `\\\\${operator.value.split('').join('\\\\')}`)\n        .join('|');\n\n      this.tokenRegExpMap.set(ExpressionParserToken.RxOperator, new RegExp(pattern, 'g'));\n    }\n\n    const expressionValuesMap = new Map<ExpressionParserToken, IExtractExpressionsResult['expressionValues']>();\n\n    for (const [token] of this.tokenRegExpMap) {\n      let expressionValues;\n\n      ({ expression, expressionValues } = this.extractExpressionValues(\n        expression,\n        token,\n        this.tokenRegExpMap.get(token)\n      ));\n\n      if (expressionValues) {\n        expressionValuesMap.set(token, expressionValues);\n      }\n    }\n\n    return Array.from(expressionValuesMap.keys())\n      .reverse()\n      .reduce(\n        (result, token) =>\n          result.replace(new RegExp(token, 'g'), () => replaceFunc(token, expressionValuesMap.get(token).next().value)),\n        expression\n      );\n  }\n\n  // Replaces all spaces with a single space except user inputs\n  // ${view.foo} =   \"bar\" -> ${view.foo} = \"bar\"\n  // ${view.foo} =   \"    bar\" -> ${view.foo} = \"    bar\"\n  stripSpaces(expression: string): string {\n    let result = expression;\n\n    if (!isNil(expression)) {\n      const token = ExpressionParserToken.RxStringExpression;\n      const extractExpressionsResult = this.extractExpressionValues(expression, token, this.tokenRegExpMap.get(token));\n\n      result = extractExpressionsResult.expression\n        .replace(/\\s+/g, ' ')\n        .replace(\n          new RegExp(ExpressionParserToken.RxStringExpression, 'g'),\n          () => extractExpressionsResult.expressionValues.next().value\n        );\n    }\n\n    return result;\n  }\n\n  private extractExpressionValues(\n    expression: string,\n    token: ExpressionParserToken,\n    regExp: RegExp\n  ): IExtractExpressionsResult {\n    const expressionValues = expression.match(regExp);\n\n    forEach(expressionValues, (value) => (expression = expression.replace(value, token)));\n\n    return {\n      expression,\n      expressionValues: expressionValues && expressionValues.values()\n    };\n  }\n}\n","export interface IFormBuilderEvent {\n  type: string | FormBuilderEvent;\n  payload?: any;\n}\n\nexport enum FormBuilderEvent {\n  HideWidget\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { DataPage } from '../data-page/data-page.class';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxFunctionalRoleDataPageService extends DataPage {\n  constructor(private injector: Injector) {\n    super(injector, 'com.bmc.arsys.rx.application.functionalrole.datapage.FunctionalRoleDataPageQuery');\n  }\n}\n","export enum NodeInfoType {\n  function = 'function'\n}\n\ninterface IFunctionParameter {\n  name: string;\n  description: string;\n}\n\nexport interface IFunctionDataDictionaryDescriptor {\n  name: string;\n  description: string;\n  category: string;\n  signature?: string;\n  parameters: IFunctionParameter[];\n}\n\nexport interface IDataDictionaryBranch {\n  label: string;\n  expression?: string | Array<string>;\n  icon?: string;\n  expanded?: boolean;\n  hidden?: boolean;\n  children?: IDataDictionary;\n  autocompleteOptions?: IDataDictionaryAutocompleteOption[];\n  info?: INodeInfo;\n}\n\nexport interface IDataDictionary extends Array<IDataDictionaryBranch> {}\n\nexport interface IDataDictionaryAutocompleteOption {\n  label: string;\n  expression: string;\n}\n\nexport interface INodeInfo {\n  type: NodeInfoType;\n  data: any;\n}\n","import { Injectable } from '@angular/core';\nimport { chain, map } from 'lodash';\n\nimport { IFunctionDescriptor } from '../function/function-descriptor.interfaces';\nimport {\n  IDataDictionary,\n  IDataDictionaryBranch,\n  IFunctionDataDictionaryDescriptor,\n  NodeInfoType\n} from './data-dictionary.types';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxDataDictionaryUtils {\n  addTooltips(\n    dataDictionary: IDataDictionary,\n    parentNodeLabel?: string\n  ): Array<IDataDictionaryBranch & { tooltip: string }> {\n    return map(dataDictionary, (node) => {\n      const tooltip = parentNodeLabel ? `${parentNodeLabel} > ${node.label}` : node.label;\n\n      return {\n        ...node,\n        tooltip,\n        children: node.children ? this.addTooltips(node.children, tooltip) : null\n      };\n    });\n  }\n\n  // TODO-VS: refactor to use below method\n  getFunctionsDataDictionaryBranch(functionDescriptors: IFunctionDataDictionaryDescriptor[]): IDataDictionaryBranch[] {\n    return chain(functionDescriptors)\n      .groupBy('category')\n      .map((functionDescriptors: IFunctionDataDictionaryDescriptor[], category: string) => ({\n        label: category,\n        children: map(functionDescriptors, (functionDescriptor) => ({\n          label: functionDescriptor.name + '()',\n          icon: 'd-icon-mathematical_function',\n          expression: functionDescriptor.name + '()',\n          info: {\n            type: NodeInfoType.function,\n            data: functionDescriptor\n          }\n        }))\n      }))\n      .value();\n  }\n\n  getFunctionDataDictionaryBranch(functionDescriptors: IFunctionDescriptor[]): IDataDictionaryBranch[] {\n    return chain(functionDescriptors)\n      .groupBy('type')\n      .map((functionDescriptors: IFunctionDescriptor[], functionType: string) => ({\n        label: functionType,\n        children: map(functionDescriptors, (functionDescriptor) => ({\n          label: functionDescriptor.name + '()',\n          icon: 'd-icon-mathematical_function',\n          expression: functionDescriptor.name + '()',\n          info: {\n            type: NodeInfoType.function,\n            data: functionDescriptor\n          }\n        }))\n      }))\n      .value();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxGlobalEventsService {\n  viewActionsCompleted$: Subject<void> = new Subject();\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { DataPage } from '../data-page/data-page.class';\n\nconst groupDataPageQuery = 'com.bmc.arsys.rx.application.group.datapage.GroupDataPageQuery';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxGroupDataPageService extends DataPage {\n  constructor(private injector: Injector) {\n    super(injector, groupDataPageQuery);\n  }\n}\n","import { HttpParameterCodec } from '@angular/common/http';\n\nexport class RxHttpParameterCodec implements HttpParameterCodec {\n  encodeKey(key: string): string {\n    return encodeURIComponent(key);\n  }\n\n  encodeValue(value: string): string {\n    return encodeURIComponent(value);\n  }\n\n  decodeKey(key: string): string {\n    return decodeURIComponent(key);\n  }\n\n  decodeValue(value: string): string {\n    return decodeURIComponent(value);\n  }\n}\n","import { HttpInterceptor, HttpRequest, HttpEvent, HttpHandler, HttpParams } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { RxHttpParameterCodec } from './http-parameter-codec.class';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxHttpParamsInterceptor implements HttpInterceptor {\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const params = new HttpParams({\n      encoder: new RxHttpParameterCodec(),\n      fromString: request.params.toString()\n    });\n\n    return next.handle(request.clone({ params }));\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { RxHttpParamsInterceptor } from './http-params.interceptor';\n\n@NgModule()\nexport class RxHttpModule {\n  static forRoot(): ModuleWithProviders<RxHttpModule> {\n    return {\n      ngModule: RxHttpModule,\n      providers: [\n        {\n          provide: HTTP_INTERCEPTORS,\n          useClass: RxHttpParamsInterceptor,\n          multi: true\n        }\n      ]\n    };\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { DataPage } from '../data-page/data-page.class';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxLicenseDataPageService extends DataPage {\n  constructor(private injector: Injector) {\n    super(injector, 'com.bmc.arsys.rx.application.license.datapage.LicenseDataPageQuery');\n  }\n}\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { filter, forEach, startsWith } from 'lodash';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError, tap } from 'rxjs/operators';\nimport { RxJsonParserService } from '@helix/platform/utils';\nimport { RX_ERROR_HANDLING } from '../error-handling/error-handling.constant';\nimport { IServerResponseMessage } from '../error-handling/error-handling.types';\nimport { RxLogService } from './log.service';\n\n@Injectable()\nexport class RxHttpLogInterceptor implements HttpInterceptor {\n  constructor(private rxLogService: RxLogService, private rxJsonParserService: RxJsonParserService) {}\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    if (this.rxLogService.logCategories.length) {\n      const headers = request.headers.set('log-retrieval', this.rxLogService.serverLogCategories);\n      this.rxLogService.debug(`${request.method} ${this.getAbsoluteRequestUrl(request.urlWithParams)}`);\n\n      return next.handle(request.clone({ headers })).pipe(\n        tap((httpEvent: HttpEvent<any>) => {\n          if (httpEvent instanceof HttpResponse) {\n            const serverLog = httpEvent.headers.get(RX_ERROR_HANDLING.arMessagesHeader);\n\n            if (serverLog) {\n              let serverLogMessages = this.rxJsonParserService.tryParseJson(serverLog, []);\n\n              serverLogMessages = filter(serverLogMessages, 'messageText');\n\n              forEach(serverLogMessages, (logData: IServerResponseMessage) =>\n                this.rxLogService.log(logData.messageText)\n              );\n            }\n          }\n        }),\n\n        catchError((err) => {\n          this.rxLogService.warning(\n            `${request.method} ${this.getAbsoluteRequestUrl(request.urlWithParams)} ${err.status} (${err.statusText})`\n          );\n\n          return throwError(err);\n        })\n      );\n    } else {\n      return next.handle(request);\n    }\n  }\n\n  private getAbsoluteRequestUrl(url: string): string {\n    if (startsWith(url, '/')) {\n      return `${location.origin}${url}`;\n    } else {\n      return url;\n    }\n  }\n}\n","import { every, isArray } from 'lodash';\nimport { LogCategory } from './log.types';\nimport { RxLogService } from './log.service';\n\nconst allowedCategories = Object.values(LogCategory);\n\nexport class RxConsoleLogger {\n  constructor(private rxLogService: RxLogService) {}\n\n  setCategories(categories: LogCategory[]) {\n    if (!isArray(categories) || !every(categories, (category) => allowedCategories.includes(category))) {\n      const validCategories = allowedCategories.map((category) => `'${category}'`).join(', ');\n\n      throw new Error(`Invalid category specified. Valid categories: [${validCategories}].`);\n    } else {\n      this.rxLogService.configure(categories);\n    }\n  }\n\n  getCategories(): string[] {\n    return this.rxLogService.logCategories;\n  }\n\n  disable(): void {\n    this.rxLogService.configure([]);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule, ModuleWithProviders } from '@angular/core';\nimport { RxHttpLogInterceptor } from './http-log-interceptor';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { RxConsoleLogger } from './console-logger.class';\nimport { RxLogService } from './log.service';\nimport { defaults } from 'lodash';\n\n@NgModule({\n  imports: [CommonModule]\n})\nexport class RxLoggingModule {\n  static forRoot(): ModuleWithProviders<RxLoggingModule> {\n    return {\n      ngModule: RxLoggingModule,\n      providers: [\n        {\n          provide: HTTP_INTERCEPTORS,\n          useClass: RxHttpLogInterceptor,\n          multi: true\n        }\n      ]\n    };\n  }\n\n  constructor(rxLogService: RxLogService) {\n    defaults(window, { rx: {} });\n\n    window['rx'].logger = new RxConsoleLogger(rxLogService);\n  }\n}\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { AdaptMessageService } from '@bmc-ux/adapt-angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Message } from 'primeng/api';\nimport { RxNotificationService } from '../notification.service';\nimport { RxSessionService } from '../../security/session.service';\n\n@Component({\n  selector: 'rx-notification',\n  templateUrl: './notification.component.html',\n  styleUrls: ['./notification.component.scss']\n})\nexport class RxNotificationComponent implements OnInit {\n  constructor(\n    private rxNotificationService: RxNotificationService,\n    private rxSessionService: RxSessionService,\n    private translateService: TranslateService,\n    private changeDetector: ChangeDetectorRef,\n    private adaptMessageService: AdaptMessageService\n  ) {}\n\n  ngOnInit(): void {\n    this.rxNotificationService.messages$.subscribe((notificationMessage: Message) => {\n      const issueData = { ...notificationMessage.data, severity: notificationMessage.severity };\n\n      const link =\n        issueData.enableIssueReporting && this.rxSessionService.isAlive()\n          ? this.translateService.instant('com.bmc.arsys.rx.client.issue-reporter.report-issue.label')\n          : null;\n\n      this.adaptMessageService.add({\n        ...notificationMessage,\n        link,\n        linkHandler: () => {\n          this.rxNotificationService.reportIssue(issueData);\n        }\n      });\n\n      this.changeDetector.detectChanges();\n    });\n  }\n}\n","<adapt-toast placement=\"top-right\"></adapt-toast>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { AdaptToastModule } from '@bmc-ux/adapt-angular';\nimport { RxNotificationComponent } from './notification-component/notification.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { RxNotificationService } from './notification.service';\n\n@NgModule({\n  imports: [AdaptToastModule, CommonModule, TranslateModule],\n  declarations: [RxNotificationComponent],\n  exports: [RxNotificationComponent]\n})\nexport class RxNotificationModule {\n  constructor(private rxNotificationService: RxNotificationService) {\n    this.rxNotificationService.initialize();\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { RX_OVERLAY } from './overlay.constant';\n\n@Pipe({\n  name: 'rxCustomizationStatus'\n})\nexport class RxCustomizationStatusPipe implements PipeTransform {\n  constructor(private translateService: TranslateService) {}\n\n  transform(value: string): string {\n    switch (value) {\n      case RX_OVERLAY.customizationPerspective.createdInThisOverlayGroup:\n        return this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.customization-status.created-in-this-overlay-group.label'\n        );\n\n      case RX_OVERLAY.customizationPerspective.customizedInThisOverlayGroup:\n        return this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.customization-status.customized-in-this-overlay-group.label'\n        );\n\n      case RX_OVERLAY.customizationPerspective.notCustomizedInThisOverlayGroup:\n        return this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.customization-status.not-customized-in-this-overlay-group.label'\n        );\n\n      default:\n        return '';\n    }\n  }\n}\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { RxOverlayService } from './overlay.service';\n\n@Injectable()\nexport class RxOverlayRequestsInterceptor implements HttpInterceptor {\n  constructor(private rxOverlayService: RxOverlayService) {}\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const currentOverlayContext = this.rxOverlayService.getCurrentOverlayContext();\n\n    if (currentOverlayContext?.overlayGroupId && !request.headers.get('request-overlay-group')) {\n      request = request.clone({\n        headers: request.headers.set('request-overlay-group', currentOverlayContext.overlayGroupId)\n      });\n    }\n\n    return next.handle(request);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { RxCustomizationStatusPipe } from './customization-status.pipe';\nimport { RxOverlayRequestsInterceptor } from './overlay-requests-interceptor.service';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [RxCustomizationStatusPipe],\n  exports: [RxCustomizationStatusPipe]\n})\nexport class RxOverlayModule {\n  static forRoot(): ModuleWithProviders<RxOverlayModule> {\n    return {\n      ngModule: RxOverlayModule,\n      providers: [\n        {\n          provide: HTTP_INTERCEPTORS,\n          useClass: RxOverlayRequestsInterceptor,\n          multi: true\n        }\n      ]\n    };\n  }\n}\n","const publicPermissionType = 'Public';\n\nconst viewComponents = {\n  menuItem: 'rx-shell-menu-item',\n  menuGroup: 'rx-shell-menu-group'\n};\n\nexport const RX_PERMISSION = {\n  instancesWithPermissions: [\n    'record',\n    'field',\n    'process',\n    'config',\n    'runtimeconfig',\n    'view',\n    'externalconfig',\n    viewComponents.menuItem,\n    viewComponents.menuGroup\n  ],\n  editorContexts: {\n    view: 'view',\n    field: 'field',\n    record: 'record',\n    process: 'process'\n  },\n  haveOverlayLogic: ['record', 'field'],\n  permissionType: {\n    role: 'role',\n    group: 'group',\n    securityLabel: 'securityLabel'\n  },\n  administratorGroup: 'Administrator',\n  fieldPermissions: {\n    view: 'VIEW',\n    change: 'CHANGE'\n  },\n  permissionDialogMetadata: {\n    field: {\n      headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.field',\n      actions: [\n        {\n          value: 'VIEW',\n          label: 'com.bmc.arsys.rx.client.permission-editor.column.view.label'\n        },\n        {\n          value: 'CHANGE',\n          label: 'com.bmc.arsys.rx.client.permission-editor.column.change.label'\n        }\n      ],\n      uniqueAction: true,\n      filterPermissionGroupIDs: [1, 2, 5, 7, 8, 9] // these are admin group ids, that cannot be restricted in access. Therefore should be filtered\n    },\n    record: {\n      headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.record',\n      actions: [],\n      defaultPermittedAction: 'VISIBLE',\n      uniqueAction: true,\n      filterPermissionGroupIDs: [1, 2, 5, 7, 8, 9] // these are admin group ids, that cannot be restricted in access. Therefore should be filtered\n    },\n    config: {\n      headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.config',\n      actions: [\n        {\n          value: 'VIEW',\n          label: 'com.bmc.arsys.rx.client.permission-editor.column.view.label'\n        },\n        {\n          value: 'CHANGE',\n          label: 'com.bmc.arsys.rx.client.permission-editor.column.change.label'\n        }\n      ],\n      uniqueAction: true\n    },\n    externalconfig: {\n      headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.config',\n      actions: [],\n      defaultPermittedAction: 'VIEW',\n      uniqueAction: true\n    },\n    runtimeconfig: {\n      headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.config',\n      actions: [],\n      defaultPermittedAction: 'VISIBLE',\n      uniqueAction: true\n    },\n    process: {\n      headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.process',\n      actions: [\n        {\n          value: 'EXECUTE',\n          label: 'com.bmc.arsys.rx.client.permission-editor.column.execute.label'\n        },\n        {\n          value: 'READ',\n          label: 'com.bmc.arsys.rx.client.permission-editor.column.read.label'\n        }\n      ],\n      uniqueAction: true\n    },\n    view: {\n      actions: [],\n      defaultPermittedAction: 'VISIBLE',\n      uniqueAction: true\n    },\n    viewComponent: {\n      actions: [],\n      defaultPermission: {\n        value: 0,\n        name: publicPermissionType,\n        type: 'GROUP'\n      },\n      defaultPermittedAction: 'VISIBLE',\n      uniqueAction: true\n    }\n  },\n  publicPermissionType: publicPermissionType,\n  viewComponents: viewComponents,\n  viewComponentsContext: 'viewComponent',\n  permissionScope: {\n    all: 'all'\n  },\n  groupCategoryFieldId: 120,\n  groupIdFieldId: 106,\n  restrictedGroupCategoryForNonFieldPermissions: {\n    dynamic: 1\n  },\n  restrictedGroupIdForNonFieldPermissions: {\n    subAdministratorGroup: 5\n  }\n};\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Pipe({\n  name: 'rxBoolean'\n})\nexport class RxBooleanPipe implements PipeTransform {\n  constructor(private translateService: TranslateService) {}\n\n  transform(value: any, trueValueParam?: string, falseValueParam?: string): string {\n    const trueValueTranslation = this.translateService.instant('com.bmc.arsys.rx.client.common.true');\n    const falseValueTranslation = this.translateService.instant('com.bmc.arsys.rx.client.common.false');\n\n    let outputValue = value;\n\n    switch (value) {\n      case '1':\n      case true:\n      case 1: {\n        outputValue = trueValueParam || trueValueTranslation;\n        break;\n      }\n\n      case '0':\n      case false:\n      case 0: {\n        outputValue = falseValueParam || falseValueTranslation;\n        break;\n      }\n    }\n\n    return outputValue;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RxBooleanPipe } from './boolean/boolean.pipe';\n\n@NgModule({\n  declarations: [RxBooleanPipe],\n  exports: [RxBooleanPipe]\n})\nexport class RxPipesModule {}\n","import { Injectable } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { RxGlobalCacheService } from '../caching/global-cache.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxPreviousStateService {\n  private previousUrl: string;\n  private currentUrl: string;\n\n  constructor(private router: Router, private rxGlobalCacheService: RxGlobalCacheService) {\n    this.currentUrl = this.router.url;\n\n    router.events.subscribe((event) => {\n      if (event instanceof NavigationEnd) {\n        this.previousUrl = this.currentUrl;\n        this.currentUrl = event.url;\n      }\n    });\n  }\n\n  goToPrevState(): void {\n    if (\n      this.previousUrl &&\n      this.previousUrl !== this.currentUrl &&\n      this.previousUrl !== `${this.rxGlobalCacheService.applicationId}/login`\n    ) {\n      this.router.navigateByUrl(this.previousUrl);\n    } else {\n      this.router.navigate([this.rxGlobalCacheService.applicationId]);\n    }\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { DataPage } from '../data-page/data-page.class';\n\nconst roleDataPageQuery = 'com.bmc.arsys.rx.application.role.datapage.RoleDataPageQuery';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxRoleDataPageService extends DataPage {\n  constructor(private injector: Injector) {\n    super(injector, roleDataPageQuery);\n  }\n}\n","import { HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { RxAuthService } from './auth.service';\n\n@Injectable()\nexport class RxAuthInterceptor implements HttpInterceptor {\n  constructor(private rxAuthService: RxAuthService) {}\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<any> {\n    return next.handle(req).pipe(\n      catchError((err) => {\n        if (err.status === 401) {\n          this.rxAuthService.redirectToLoginPage();\n        }\n\n        return throwError(err);\n      })\n    );\n  }\n}\n","import { HttpErrorResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { head } from 'lodash';\nimport { EMPTY, Observable } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\nimport { RX_APPLICATION } from '../application/application.constant';\nimport { RxCurrentUserService } from '../user/current-user.service';\nimport { RxAuthService } from './auth.service';\nimport { RX_SESSION } from './session.constant';\nimport { RxSessionService } from './session.service';\nimport { RxGlobalCacheService } from '../caching/global-cache.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxAuthGuard implements CanActivate {\n  constructor(\n    private router: Router,\n    private rxAuthService: RxAuthService,\n    private rxSessionService: RxSessionService,\n    private rxCurrentUserService: RxCurrentUserService,\n    private rxGlobalCacheService: RxGlobalCacheService\n  ) {}\n\n  canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<UrlTree | boolean> {\n    return this.rxSessionService.initSession().pipe(\n      map(() => {\n        const applicationId = head(next.url).path;\n\n        if (\n          applicationId === RX_APPLICATION.innovationStudioBundleId &&\n          !(this.rxCurrentUserService.isAdministrator() || this.rxCurrentUserService.isBusinessAnalyst())\n        ) {\n          this.rxGlobalCacheService.applicationId = RX_APPLICATION.innovationStudioBundleId;\n\n          return this.router.parseUrl('access-denied');\n        }\n\n        return true;\n      }),\n      catchError((error: HttpErrorResponse) => {\n        if (error.headers.get('sso-provider-type') === RX_SESSION.ssoProviderTypes.rsso) {\n          this.router.navigate(['unsupported-environment']);\n\n          return EMPTY;\n        }\n\n        this.rxAuthService.redirectToLoginPage();\n\n        return EMPTY;\n      })\n    );\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { RxAuthInterceptor } from './auth.interceptor';\n\n@NgModule({\n  imports: [CommonModule]\n})\nexport class RxAuthModule {\n  static forRoot(): ModuleWithProviders<RxAuthModule> {\n    return {\n      ngModule: RxAuthModule,\n      providers: [\n        {\n          provide: HTTP_INTERCEPTORS,\n          useClass: RxAuthInterceptor,\n          multi: true\n        }\n      ]\n    };\n  }\n}\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { RX_SESSION } from '../session.constant';\nimport { SessionExpirationType } from './session-expiration.interface';\nimport { RxSessionExpirationService } from './session-expiration.service';\n\n@Injectable()\nexport class RxSessionExpirationInterceptor implements HttpInterceptor {\n  private lastResponseDate: Date;\n\n  constructor(private rxSessionExpirationService: RxSessionExpirationService) {}\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return next.handle(request).pipe(\n      tap((event: HttpEvent<any>) => {\n        if (event instanceof HttpResponse) {\n          const responseDate = new Date(event.headers.get('date'));\n\n          if (!this.lastResponseDate || responseDate >= this.lastResponseDate) {\n            this.lastResponseDate = responseDate;\n\n            const idleTimeout = event.headers.get(RX_SESSION.expirationHeaders.idle);\n            const absoluteTimeout = event.headers.get(RX_SESSION.expirationHeaders.absolute);\n\n            this.rxSessionExpirationService.setTimeout(SessionExpirationType.Idle, idleTimeout);\n            this.rxSessionExpirationService.setTimeout(SessionExpirationType.Absolute, absoluteTimeout);\n          }\n        }\n      })\n    );\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { AdaptButtonModule } from '@bmc-ux/adapt-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { RxSessionExpirationComponent } from './session-expiration.component';\nimport { RxSessionExpirationInterceptor } from './session-expiration.interceptor';\n\n@NgModule({\n  declarations: [RxSessionExpirationComponent],\n  entryComponents: [RxSessionExpirationComponent],\n  exports: [RxSessionExpirationComponent],\n  imports: [CommonModule, TranslateModule, AdaptButtonModule]\n})\nexport class RxSessionExpirationModule {\n  static forRoot(): ModuleWithProviders<RxSessionExpirationModule> {\n    return {\n      ngModule: RxSessionExpirationModule,\n      providers: [\n        {\n          provide: HTTP_INTERCEPTORS,\n          useClass: RxSessionExpirationInterceptor,\n          multi: true\n        }\n      ]\n    };\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable, of } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { IValidationIssue, ValidationIssueType } from '@helix/platform/ui-kit';\nimport { RxStringService } from '@helix/platform/utils';\n\nimport { IPlainObject } from '../common-types/plain-object.interface';\nimport { RxDesignerCacheService } from '../caching/designer-cache.service';\nimport { IActionType } from '../action-type/action-type.interfaces';\nimport { IServerActionModel } from '../designer/designer.types';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport abstract class RxServerActionService {\n  private rxDesignerCacheService: RxDesignerCacheService = this.injector.get(RxDesignerCacheService);\n  protected rxStringService: RxStringService = this.injector.get(RxStringService);\n  protected translateService: TranslateService = this.injector.get(TranslateService);\n\n  protected constructor(protected injector: Injector) {}\n\n  protected abstract getModelFromDefinition(definition: any): IServerActionModel;\n\n  protected getActionTypeByName(actionTypeName: string): IActionType {\n    return this.rxDesignerCacheService.getActionTypeByNameSync(actionTypeName);\n  }\n\n  // TODO-VS: update types\n  protected getClassConfig(options: IPlainObject): IPlainObject {\n    const model = this.getModelFromDefinition({\n      actionTypeName: options.actionTypeName\n    } as any);\n\n    return {\n      content: model.name,\n      elementModel: model,\n      icon: model.isDeprecated ? 'info' : null,\n      position: options.position,\n      type: model.type\n    };\n  }\n\n  // TODO-VS: update availableCells type\n  protected validateInputMap(model: IServerActionModel, availableCells: any[]): Observable<IValidationIssue[]> {\n    return of([]);\n  }\n\n  // TODO-VS: update availableCells type\n  protected validateServerAction(model: IServerActionModel, availableCells: any[]): Observable<IValidationIssue[]> {\n    return this.validateInputMap(model, availableCells).pipe(\n      map((inputMapValidationIssues) => {\n        const validationIssues: IValidationIssue[] = [...inputMapValidationIssues];\n\n        if (this.rxStringService.isEmptySafe(model.name)) {\n          validationIssues.push({\n            type: ValidationIssueType.Error,\n            description: this.translateService.instant(\n              'com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message',\n              {\n                propertyName: this.translateService.instant('com.bmc.arsys.rx.client.common.label.label')\n              }\n            ),\n            data: {\n              guid: model.guid,\n              inspectorTabIndex: 1\n            }\n          });\n        }\n\n        model.outputMap.forEach((output, index) => {\n          if (this.rxStringService.isEmptySafe(output.assignTarget)) {\n            validationIssues.push({\n              type: ValidationIssueType.Error,\n              description: this.translateService.instant(\n                'com.bmc.arsys.rx.client.designer.validation.output-map.message',\n                {\n                  errorMessage: this.translateService.instant(\n                    'com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message',\n                    {\n                      propertyName: this.translateService.instant(\n                        'com.bmc.arsys.rx.client.designer.assignment-expression.target.label'\n                      )\n                    }\n                  )\n                }\n              ),\n              data: {\n                fieldName: 'assignTarget',\n                guid: model.guid,\n                index,\n                inspectorTabIndex: 1,\n                propertyName: 'outputMap'\n              }\n            });\n          }\n\n          if (this.rxStringService.isEmptySafe(output.expression)) {\n            validationIssues.push({\n              type: ValidationIssueType.Error,\n              description: this.translateService.instant(\n                'com.bmc.arsys.rx.client.designer.validation.output-map.message',\n                {\n                  errorMessage: this.translateService.instant(\n                    'com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message',\n                    {\n                      propertyName: this.translateService.instant(\n                        'com.bmc.arsys.rx.client.designer.assignment-expression.source.label'\n                      )\n                    }\n                  )\n                }\n              ),\n              data: {\n                fieldName: 'expression',\n                guid: model.guid,\n                index,\n                inspectorTabIndex: 1,\n                propertyName: 'outputMap'\n              }\n            });\n          }\n        });\n\n        return validationIssues;\n      })\n    );\n  }\n}\n","import { clone, get, has, last } from 'lodash';\nimport { startWith } from 'rxjs/operators';\n\nimport { Constructor } from '@helix/platform/utils';\n\nimport { IPlainObject } from '../common-types/plain-object.interface';\nimport { IDesignerElementService } from '../designer/designer.types';\nimport { IServerActionChangedProperty } from './server-action-changed-property.interface';\n\nexport function RxServerActionMixin<TBase extends Constructor>(Base: TBase) {\n  return class RxServerAction extends Base {\n    // TODO-VS: add types after rappid update\n    initialize(config: any): any {\n      // @ts-ignore\n      super.initialize(config);\n\n      this.setDataDictionaryBranch();\n\n      // TODO-VS: add types after rappid update\n      // @ts-ignore\n      this.on(\n        'change:elementModel',\n        (element: any, elementModel: any, changedProperty: IServerActionChangedProperty) => {\n          if (startWith(changedProperty.propertyPath, 'elementModel/inputMap')) {\n            const inputMapPropertyPath: string = last(changedProperty.propertyPath.split('/'));\n\n            let inputMapPropertyValue = changedProperty.propertyValue;\n            const isCommandManagerOperation = has(changedProperty, 'commandManager');\n\n            if (isCommandManagerOperation) {\n              inputMapPropertyValue = elementModel.inputMap[inputMapPropertyPath];\n            }\n\n            this.setDataDictionaryBranch();\n\n            this.onInputMapChanged(\n              element,\n              elementModel.inputMap,\n              inputMapPropertyPath,\n              inputMapPropertyValue,\n              isCommandManagerOperation\n            );\n          }\n        }\n      );\n    }\n\n    clearOutputMap(): void {\n      // @ts-ignore\n      this.prop('elementModel/outputMap', [], {\n        rxSilent: true,\n        rewrite: true\n      });\n    }\n\n    getElementService(type: string): IDesignerElementService {\n      return null;\n    }\n\n    getInputMap(): IPlainObject {\n      // @ts-ignore\n      return clone(this.prop('elementModel/inputMap')) || {};\n    }\n\n    // TODO-VS: add types after rappid update\n    onInputMapChanged(\n      element: any,\n      inputMap: IPlainObject,\n      inputMapPropertyPath: string,\n      inputMapPropertyValue: string,\n      isCommandManagerOperation: boolean\n    ): void {}\n\n    setDataDictionaryBranch(): void {\n      // @ts-ignore\n      const elementService = this.getElementService(this.prop('type'));\n\n      elementService.setCommonDataDictionaryBranch(\n        // @ts-ignore\n        this.prop('elementModel/guid'),\n        // @ts-ignore\n        elementService.buildDataDictionaryBranch(this.prop('elementModel'))\n      );\n    }\n\n    setInputMap(inputMap: IPlainObject, options?: any): void {\n      // use 'rewrite' option to prevent the default 'merge' behavior\n      // @ts-ignore\n      this.prop('elementModel/inputMap', inputMap, {\n        rxSilent: true,\n        rewrite: true,\n        silent: get(options, 'isSilent', false)\n      });\n    }\n  };\n}\n","import { Constructor } from '@helix/platform/utils';\n\ndeclare var joint: any;\n\nexport function RxServerActionViewMixin<TBase extends Constructor>(Base: TBase) {\n  return class RxServerActionView extends Base {\n    className() {\n      const originalClassName = joint.shapes.bpmn.ActivityView.prototype.className.apply(this, arguments);\n\n      // append actionTypeName to element's class to help QA find elements in the DOM\n      // @ts-ignore\n      return `${originalClassName} ${this.model.get('elementModel').actionTypeName}`;\n    }\n  };\n}\n","import { Injector } from '@angular/core';\nimport { Observable, of } from 'rxjs';\n\nimport {\n  ExpressionOperatorGroup,\n  ExpressionOperatorRowsByGroup\n} from '../expression-configurator/expression-configurator-operator.types';\nimport { IExpressionConfiguratorDefaultPropertyConfig } from '../expression-configurator/expression-configurator.interfaces';\nimport { RxExpressionConfigurator } from '../expression-configurator/expression-configurator.class';\nimport { IDataDictionary } from '../data-dictionary/data-dictionary.types';\n\nexport abstract class RxServerActionExpressionConfigurator extends RxExpressionConfigurator {\n  commonDataDictionary$: Observable<IDataDictionary>;\n\n  private dataDictionaryService = this.getDataDictionaryService();\n\n  protected constructor(protected injector: Injector) {\n    super();\n\n    this.commonDataDictionary$ = this.dataDictionaryService.commonDataDictionary$;\n\n    this.configureForProperty({\n      propertyPath: /inputMap\\/.*/,\n      dataDictionary$: this.getInputMapDataDictionary(),\n      validateExpression: (propertyPath, expression) => this.validateInputMapExpression(propertyPath, expression),\n      operators: this.getOperatorRowsByGroup(ExpressionOperatorGroup.Math)\n    });\n  }\n\n  protected abstract getDataDictionaryService(): any;\n\n  getDefaultConfig(): IExpressionConfiguratorDefaultPropertyConfig {\n    return {\n      ...super.getDefaultConfig(),\n      dataDictionary$: this.commonDataDictionary$,\n      operators: ExpressionOperatorRowsByGroup.get(ExpressionOperatorGroup.AllClient)\n    };\n  }\n\n  getInputMapDataDictionary(): Observable<IDataDictionary> {\n    return this.commonDataDictionary$;\n  }\n\n  validateInputMapExpression(propertyPath: string, expression: string): Observable<boolean> {\n    return of(true);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { catchError, map, shareReplay } from 'rxjs/operators';\nimport { IPlainObject } from '../../common-types';\nimport { RxJsonParserService } from '@helix/platform/utils';\nimport { RxServerErrorHandlerService } from '../../error-handling';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxSmartReportingService {\n  private smartReportingUrl$: Observable<string>;\n\n  constructor(\n    private httpClient: HttpClient,\n    private rxJsonParserService: RxJsonParserService,\n    private rxServerErrorHandlerService: RxServerErrorHandlerService\n  ) {\n    this.smartReportingUrl$ = this._getSmartReportingUrl().pipe(\n      catchError((error: HttpErrorResponse) => {\n        this.rxServerErrorHandlerService.handle(error);\n\n        return of('');\n      }),\n      shareReplay(1)\n    );\n  }\n\n  // We have to open a blank tab and then or change its url or close it.\n  // Sadly there is no other way around it (even forcing a click on a button for example).\n  // https://tech.europace.de/how-to-open-async-calls-in-a-new-tab-instead-of-new-window-within-an-angularjs-app/\n  openSmartReporting(target = '_blank', queryParams: IPlainObject = {}): Observable<boolean> {\n    const smartReportingPopup = window.open('', target);\n\n    return this._getSmartReportingUrl(queryParams).pipe(\n      map((smartReportingUrl: string) => {\n        smartReportingPopup.location.href = smartReportingUrl;\n\n        return true;\n      }),\n      catchError((errorResponse: HttpErrorResponse) => {\n        smartReportingPopup.close();\n\n        if (errorResponse.error === '[]') {\n          return of(false);\n        }\n\n        throw errorResponse;\n      })\n    );\n  }\n\n  getSmartReportingUrl(): Observable<string> {\n    return this.smartReportingUrl$;\n  }\n\n  private _getSmartReportingUrl(queryParams: IPlainObject = {}): Observable<string> {\n    return this.httpClient\n      .get('/api/rx/application/smartreporting/url', {\n        responseType: 'text',\n        params: queryParams\n      })\n      .pipe(map((url) => decodeURIComponent(url)));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { isNull, isString, isUndefined } from 'lodash';\nimport { take } from 'rxjs/operators';\nimport { RxBundleCacheService } from '../../caching/bundle-cache.service';\nimport { RxGlobalCacheService } from '../../caching/global-cache.service';\nimport { RxLogService } from '../../logging/log.service';\n\nconst TITLE_SEPARATOR = ' - ';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxPageTitleService {\n  constructor(\n    private title: Title,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxLogService: RxLogService\n  ) {}\n\n  set(title?: string | string[], bundleId?: string): void {\n    let currentPageTitle = '';\n\n    if (Array.isArray(title)) {\n      currentPageTitle = title\n        .reduce((result, part) => {\n          if (isString(part) && (part = part.trim())) {\n            result.push(part);\n          }\n\n          return result;\n        }, [] as string[])\n        .join(TITLE_SEPARATOR);\n    } else if (isString(title)) {\n      currentPageTitle = title.trim();\n    } else if (!isUndefined(title)) {\n      this.rxLogService.warning('Invalid page title: ' + title);\n    }\n\n    const currentBundleId = bundleId || this.rxBundleCacheService.bundleId;\n\n    if (bundleId !== '' && currentBundleId) {\n      this.rxGlobalCacheService\n        .getBundleDisplayName(currentBundleId)\n        .pipe(take(1))\n        .subscribe((bundleDisplayName) => {\n          this.title.setTitle([currentPageTitle, bundleDisplayName].filter(Boolean).join(TITLE_SEPARATOR));\n        });\n    } else {\n      this.title.setTitle(currentPageTitle);\n    }\n  }\n}\n","import { AdaptRxControlLabelTooltip } from '@bmc-ux/adapt-angular';\n\nexport class Tooltip implements AdaptRxControlLabelTooltip {\n  content: string;\n  iconName = 'question_circle_o';\n  placement = 'auto';\n  popoverMode = true;\n\n  // default taken from AdaptRxLabelTooltipComponent\n  maxWidth = 250;\n\n  constructor(tooltipText: string) {\n    this.content = tooltipText;\n  }\n}\n","export const RX_USER_PREFERENCES = {\n  componentName: 'UI Preferences',\n  fieldPreferences: 'preferences'\n};\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { map, tap } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\nimport { RX_USER_PREFERENCES } from './user-preferences.constants';\nimport { RxJsonParserService } from '@helix/platform/utils';\nimport { IUserPreferencesSetting } from './interfaces/user-preferences-setting.interface';\nimport { IUserPreferencesData } from './interfaces/user-preferences-data.interface';\nimport { map as _map, get, isEmpty } from 'lodash';\nimport { IPlainObject } from '../common-types/plain-object.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxUserPreferencesService {\n  settingsByComponentId: Map<string, IUserPreferencesSetting[]> = new Map();\n  apiUrl = '/api/rx/application/admin-settings/user-preference/UI Preferences';\n\n  constructor(private httpClient: HttpClient, private rxJsonParserService: RxJsonParserService) {}\n\n  getUiComponentPreferences<T = IPlainObject>(guid: string): Observable<T> {\n    return this.httpClient\n      .get(this.apiUrl, {\n        headers: new HttpHeaders({\n          'default-bundle-scope': ''\n        }),\n        params: {\n          componentId: guid\n        }\n      })\n      .pipe(\n        map(({ values }: any) => {\n          this.settingsByComponentId.set(guid, values);\n\n          const preferenceSetting: IUserPreferencesSetting = values.find(\n            (value) => value.settingName === RX_USER_PREFERENCES.fieldPreferences\n          );\n\n          const settingValue = preferenceSetting ? preferenceSetting.settingValue : null;\n\n          return this.rxJsonParserService.tryParseJson(settingValue);\n        })\n      );\n  }\n\n  prepareUiPreferences(data: IUserPreferencesData, guid: string): IUserPreferencesSetting[] {\n    if (!isEmpty(this.settingsByComponentId.get(guid))) {\n      return this.createUpdatedSettings(data, guid);\n    }\n\n    const newSettings = _map(data, (value, name) => ({\n      componentName: RX_USER_PREFERENCES.componentName,\n      settingName: name,\n      settingValue: value,\n      assigneeGroupPermission: ''\n    }));\n\n    return newSettings;\n  }\n\n  setUiComponentPreferences(data: IUserPreferencesData, guid: string): Observable<any> {\n    const settings = this.prepareUiPreferences(data, guid);\n    const currentSettings = this.settingsByComponentId.get(guid);\n    const id = get(currentSettings, '[0].ownerKeyValue1');\n\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'default-bundle-scope': ''\n      })\n    };\n\n    return id\n      ? this.httpClient.put(`${this.apiUrl}/${id}`, settings, httpOptions)\n      : this.httpClient\n          .post(this.apiUrl, settings, httpOptions)\n          .pipe(tap(() => this.getUiComponentPreferences(data.componentId).subscribe()));\n  }\n\n  private createUpdatedSettings(data: IUserPreferencesData, guid: string): IUserPreferencesSetting[] {\n    const newSettings = this.settingsByComponentId.get(guid);\n    const preferenceSetting = newSettings.find(\n      (element) => element.settingName === RX_USER_PREFERENCES.fieldPreferences\n    );\n    const index = newSettings.indexOf(preferenceSetting);\n\n    preferenceSetting.settingValue = data.preferences;\n    newSettings[index] = preferenceSetting;\n\n    return newSettings;\n  }\n}\n","import { Inject, Injectable, RendererFactory2 } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { HttpClient } from '@angular/common/http';\nimport { assign, defaults, includes, isEmpty } from 'lodash';\nimport { filter, map, shareReplay, switchMapTo, take, tap } from 'rxjs/operators';\nimport { RxCurrentUserService } from '../user/current-user.service';\nimport { RxLogService } from '../logging/log.service';\nimport { RxGlobalCacheService } from '../caching/global-cache.service';\nimport { combineLatest, Observable, of } from 'rxjs';\nimport { IPlainObject } from '../common-types/plain-object.interface';\nimport { LogCategory } from '../logging/log.types';\nimport { RX_ADMINISTRATION } from '../administration/administration.constant';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxWhatfixConfiguratorService {\n  private isConfigured = false;\n  private renderer = this.rendererFactory.createRenderer(null, null);\n\n  private defaultConfig$ = combineLatest([\n    this.rxGlobalCacheService.getApplicationBundleDescriptor(),\n    this.rxCurrentUserService.user$\n  ]).pipe(\n    take(1),\n    map(([bundleDescriptor, user]) => {\n      const logCategories = this.rxLogService.logCategories;\n\n      return {\n        application: {\n          id: this.rxGlobalCacheService.applicationId,\n          version: bundleDescriptor.version\n        },\n        environment: {\n          isDebug: includes(logCategories, LogCategory.All) || includes(logCategories, LogCategory.Cli)\n        },\n        user: {\n          id: user.userId,\n          isBusinessAnalyst: this.rxCurrentUserService.isBusinessAnalyst(),\n          isAdministrator: this.rxCurrentUserService.isAdministrator()\n        }\n      };\n    }),\n    shareReplay(1)\n  );\n\n  private isEnabled$ = this.httpClient.get(`${RX_ADMINISTRATION.systemConfigurationUrl}/Whatfix-Disabled`).pipe(\n    map((result: { value: number }) => result.value === 0),\n    shareReplay(1)\n  );\n\n  constructor(\n    @Inject(DOCUMENT) private document,\n    private rendererFactory: RendererFactory2,\n    private httpClient: HttpClient,\n    private rxCurrentUserService: RxCurrentUserService,\n    private rxLogService: RxLogService,\n    private rxGlobalCacheService: RxGlobalCacheService\n  ) {}\n\n  setConfig(accountId: string, config?: IPlainObject): void {\n    if (isEmpty(accountId)) {\n      throw new Error('Invalid Whatfix account ID.');\n    }\n\n    this.isEnabled$\n      .pipe(\n        filter((isEnabled) => Boolean(isEnabled) && !this.isConfigured),\n        tap((isEnabled) => {\n          this.rxLogService.debug(isEnabled ? `Whatfix is enabled. Account ID: ${accountId}.` : 'Whatfix is disabled.');\n        }),\n        switchMapTo(config ? of(config) : this.defaultConfig$)\n      )\n      .subscribe((whatfixConfig) => {\n        this.isConfigured = true;\n\n        defaults(window, { rx: {} });\n\n        // this global variable will be used by whatfix integration script loaded below\n        window['rx'].whatfixConfig = whatfixConfig;\n\n        const url = `//cdn.whatfix.com/prod/${accountId}/embed/embed.nocache.js`;\n\n        this.rxLogService.debug(`Loading whatfix integration script from ${url}.`);\n\n        this.loadScript(url);\n      });\n  }\n\n  getDefaultConfig(): Observable<IPlainObject> {\n    return this.isEnabled$.pipe(filter(Boolean), switchMapTo(this.defaultConfig$));\n  }\n\n  private loadScript(url: string): void {\n    const scriptElement = assign(this.renderer.createElement('script'), {\n      type: 'text/javascript',\n      async: true,\n      src: url\n    });\n\n    this.renderer.appendChild(this.document.head, scriptElement);\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { DataPage } from '../data-page';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxAdminComponentDataPageQuery extends DataPage {\n  constructor(private injector: Injector) {\n    super(injector, 'com.bmc.arsys.rx.application.admin.datapage.AdminComponentDataPageQuery');\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["makeDecorator","_map","filter","map"],"mappings":"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"}