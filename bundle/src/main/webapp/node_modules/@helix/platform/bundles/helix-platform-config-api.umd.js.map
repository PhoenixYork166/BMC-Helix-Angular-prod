{"version":3,"file":"helix-platform-config-api.umd.js","sources":["../../../../libs/platform/config/api/config-definition.types.ts","../../../../libs/platform/config/api/config-definition.service.ts","../../../../libs/platform/config/api/helix-platform-config-api.ts"],"sourcesContent":["import { IAdminSettingPermission } from '@helix/platform/shared/api';\nimport { ISelectionFieldOptionProperties } from '@helix/platform/shared/components';\n\nexport enum ShowInLocationOptions {\n  Application = 'Application',\n  InnovationStudio = 'InnovationStudio',\n  Both = 'Both',\n  None = 'None'\n}\n\nexport interface IConfigLocaleList {\n  componentLabel: string;\n  firstMenu: string;\n  secondMenu: string;\n  locale: string;\n}\n\nexport interface IConfigLocale {\n  locale: string;\n  fieldGrouping: string;\n  settingLabel: string;\n}\n\nexport interface IFieldOptions {\n  isNew: boolean;\n  selectionFieldOptionProperties?: ISelectionFieldOptionProperties;\n}\n\nexport enum ImpactRowVisibility {\n  User = 'User',\n  None = 'None'\n}\n\nexport interface IConfigFieldDefinitionGridRow {\n  guid: string;\n  id: string;\n  keySetting: string;\n  dataType: string;\n  required: string;\n  defaultValue: string | number;\n  fieldGrouping: string;\n}\n\nexport interface IConfigFieldDefinition {\n  dataType: string;\n  defaultValue: string | number;\n  fieldOrder: number;\n  id: string;\n  keySetting: boolean;\n  localeList: IConfigLocale[];\n  maxValue?: number;\n  minValue?: number;\n  optionLabelsById?: { [id: number]: string };\n  optionNamesById?: { [id: number]: string };\n  required: boolean;\n}\n\nexport interface IConfigDefinition {\n  componentName: string;\n  parentComponentName: string;\n  permissions: IAdminSettingPermission[];\n  impactRowVisibility: ImpactRowVisibility;\n  showInLocation: string;\n  supportsMultiple: boolean;\n  settingMetaData: IConfigFieldDefinition[];\n  externalLink: string;\n  registeredModuleName: string;\n  viewComponent: boolean;\n  viewToOpen: string;\n  localeList: IConfigLocaleList[];\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable, of } from 'rxjs';\nimport { IConfigDefinition, ImpactRowVisibility, ShowInLocationOptions } from './config-definition.types';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxConfigDefinitionService {\n  private url = '/api/rx/application/admin-settings/component';\n\n  constructor(private httpClient: HttpClient, private translateService: TranslateService) {}\n\n  getComponents(): Observable<string[]> {\n    return this.httpClient.get<string[]>('/api/rx/application/admin-settings/components-list');\n  }\n\n  get(componentName: string): Observable<IConfigDefinition> {\n    return this.httpClient.get<IConfigDefinition>(`${this.url}/${encodeURIComponent(componentName)}`);\n  }\n\n  update(componentName: string, configDefinition: IConfigDefinition): Observable<any> {\n    return this.httpClient.put(`${this.url}/${encodeURIComponent(componentName)}`, configDefinition);\n  }\n\n  create(configDefinition: IConfigDefinition): Observable<any> {\n    return this.httpClient.post(`${this.url}`, configDefinition);\n  }\n\n  getNew(isApplication: boolean): Observable<IConfigDefinition> {\n    return of({\n      viewToOpen: 'CommonSettings',\n      componentName: null,\n      externalLink: null,\n      impactRowVisibility: ImpactRowVisibility.None,\n      localeList: [\n        {\n          componentLabel: this.translateService.instant(\n            'com.bmc.arsys.rx.client.config-designer.default-component-label.label'\n          ),\n          firstMenu: null,\n          locale: 'en',\n          secondMenu: null\n        }\n      ],\n      parentComponentName: null,\n      permissions: [],\n      registeredModuleName: null,\n      settingMetaData: [],\n      showInLocation: isApplication ? ShowInLocationOptions.Application : ShowInLocationOptions.InnovationStudio,\n      supportsMultiple: false,\n      viewComponent: false\n    });\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["ShowInLocationOptions","ImpactRowVisibility","of","Injectable"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGYA;IAAZ,WAAY,qBAAqB;QAC/B,oDAA2B,CAAA;QAC3B,8DAAqC,CAAA;QACrC,sCAAa,CAAA;QACb,sCAAa,CAAA;IACf,CAAC,EALWA,6BAAqB,KAArBA,6BAAqB,QAKhC;AAoBWC;IAAZ,WAAY,mBAAmB;QAC7B,oCAAa,CAAA;QACb,oCAAa,CAAA;IACf,CAAC,EAHWA,2BAAmB,KAAnBA,2BAAmB;;;QChB7B,mCAAoB,UAAsB,EAAU,gBAAkC;YAAlE,eAAU,GAAV,UAAU,CAAY;YAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;YAF9E,QAAG,GAAG,8CAA8C,CAAC;SAE6B;QAE1F,iDAAa,GAAb;YACE,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAW,oDAAoD,CAAC,CAAC;SAC5F;QAED,uCAAG,GAAH,UAAI,aAAqB;YACvB,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAuB,IAAI,CAAC,GAAG,SAAI,kBAAkB,CAAC,aAAa,CAAG,CAAC,CAAC;SACnG;QAED,0CAAM,GAAN,UAAO,aAAqB,EAAE,gBAAmC;YAC/D,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAI,IAAI,CAAC,GAAG,SAAI,kBAAkB,CAAC,aAAa,CAAG,EAAE,gBAAgB,CAAC,CAAC;SAClG;QAED,0CAAM,GAAN,UAAO,gBAAmC;YACxC,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAG,IAAI,CAAC,GAAK,EAAE,gBAAgB,CAAC,CAAC;SAC9D;QAED,0CAAM,GAAN,UAAO,aAAsB;YAC3B,OAAOC,OAAE,CAAC;gBACR,UAAU,EAAE,gBAAgB;gBAC5B,aAAa,EAAE,IAAI;gBACnB,YAAY,EAAE,IAAI;gBAClB,mBAAmB,EAAED,2BAAmB,CAAC,IAAI;gBAC7C,UAAU,EAAE;oBACV;wBACE,cAAc,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAC3C,uEAAuE,CACxE;wBACD,SAAS,EAAE,IAAI;wBACf,MAAM,EAAE,IAAI;wBACZ,UAAU,EAAE,IAAI;qBACjB;iBACF;gBACD,mBAAmB,EAAE,IAAI;gBACzB,WAAW,EAAE,EAAE;gBACf,oBAAoB,EAAE,IAAI;gBAC1B,eAAe,EAAE,EAAE;gBACnB,cAAc,EAAE,aAAa,GAAGD,6BAAqB,CAAC,WAAW,GAAGA,6BAAqB,CAAC,gBAAgB;gBAC1G,gBAAgB,EAAE,KAAK;gBACvB,aAAa,EAAE,KAAK;aACrB,CAAC,CAAC;SACJ;;;gJA7CU,yBAAyB;oJAAzB,yBAAyB,cAFxB,MAAM;qHAEP,yBAAyB;sBAHrCG,aAAU;uBAAC;wBACV,UAAU,EAAE,MAAM;qBACnB;;;ICRD;;;;;;;;;;;;"}