{"version":3,"file":"swimlane-ngx-graph.umd.js","sources":["../../../tslib/tslib.es6.js","../../../swimlane/ngx-graph/src/lib/utils/id.ts","../../../swimlane/ngx-graph/src/lib/graph/layouts/dagre.ts","../../../swimlane/ngx-graph/src/lib/graph/layouts/dagreCluster.ts","../../../swimlane/ngx-graph/src/lib/graph/layouts/dagreNodesOnly.ts","../../../swimlane/ngx-graph/src/lib/graph/layouts/d3ForceDirected.ts","../../../swimlane/ngx-graph/src/lib/graph/layouts/colaForceDirected.ts","../../../swimlane/ngx-graph/src/lib/graph/layouts/layout.service.ts","../../../swimlane/ngx-graph/src/lib/enums/panning.enum.ts","../../../swimlane/ngx-graph/src/lib/enums/mini-map-position.enum.ts","../../../swimlane/ngx-graph/src/lib/utils/throttle.ts","../../../swimlane/ngx-graph/src/lib/graph/graph.component.ts","../../../swimlane/ngx-graph/src/lib/graph/mouse-wheel.directive.ts","../../../swimlane/ngx-graph/src/lib/graph/graph.module.ts","../../../swimlane/ngx-graph/src/lib/ngx-graph.module.ts","../../../swimlane/ngx-graph/src/public_api.ts","../../../swimlane/ngx-graph/src/swimlane-ngx-graph.ts"],"names":["Orientation","Alignment","dagre.layout","dagre.graphlib","forceSimulation","forceManyBody","forceCollide","forceLink","Subject","d3adaptor","d3Dispatch","d3Force","d3Timer","Injectable","PanningAxis","MiniMapPosition","EventEmitter","Subscription","identity","shape.curveBundle","calculateViewDimensions","Observable","of","first","select","ease.easeSinInOut","shape\n            .line","transform","translate","scale","toSVG","smoothMatrix","ColorHelper","BaseChartComponent","Component","ViewEncapsulation","ChangeDetectionStrategy","ElementRef","NgZone","ChangeDetectorRef","Input","Output","ContentChild","ViewChild","ChartComponent","ViewChildren","HostListener","Directive","NgModule","ChartCommonModule","NgxChartsModule"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","const cache = {};\n\n/**\n * Generates a short id.\n *\n */\nexport function id(): string {\n  let newId = ('0000' + ((Math.random() * Math.pow(36, 4)) << 0).toString(36)).slice(-4);\n\n  newId = `a${newId}`;\n\n  // ensure not already used\n  if (!cache[newId]) {\n    cache[newId] = true;\n    return newId;\n  }\n\n  return id();\n}\n","import { Layout } from '../../models/layout.model';\nimport { Graph } from '../../models/graph.model';\nimport { id } from '../../utils/id';\nimport * as dagre from 'dagre';\nimport { Edge } from '../../models/edge.model';\n\nexport enum Orientation {\n  LEFT_TO_RIGHT = 'LR',\n  RIGHT_TO_LEFT = 'RL',\n  TOP_TO_BOTTOM = 'TB',\n  BOTTOM_TO_TOM = 'BT'\n}\nexport enum Alignment {\n  CENTER = 'C',\n  UP_LEFT = 'UL',\n  UP_RIGHT = 'UR',\n  DOWN_LEFT = 'DL',\n  DOWN_RIGHT = 'DR'\n}\n\nexport interface DagreSettings {\n  orientation?: Orientation;\n  marginX?: number;\n  marginY?: number;\n  edgePadding?: number;\n  rankPadding?: number;\n  nodePadding?: number;\n  align?: Alignment;\n  acyclicer?: 'greedy' | undefined;\n  ranker?: 'network-simplex' | 'tight-tree' | 'longest-path';\n  multigraph?: boolean;\n  compound?: boolean;\n}\n\nexport class DagreLayout implements Layout {\n  defaultSettings: DagreSettings = {\n    orientation: Orientation.LEFT_TO_RIGHT,\n    marginX: 20,\n    marginY: 20,\n    edgePadding: 100,\n    rankPadding: 100,\n    nodePadding: 50,\n    multigraph: true,\n    compound: true\n  };\n  settings: DagreSettings = {};\n\n  dagreGraph: any;\n  dagreNodes: any;\n  dagreEdges: any;\n\n  run(graph: Graph): Graph {\n    this.createDagreGraph(graph);\n    dagre.layout(this.dagreGraph);\n\n    graph.edgeLabels = this.dagreGraph._edgeLabels;\n\n    for (const dagreNodeId in this.dagreGraph._nodes) {\n      const dagreNode = this.dagreGraph._nodes[dagreNodeId];\n      const node = graph.nodes.find(n => n.id === dagreNode.id);\n      node.position = {\n        x: dagreNode.x,\n        y: dagreNode.y\n      };\n      node.dimension = {\n        width: dagreNode.width,\n        height: dagreNode.height\n      };\n    }\n\n    return graph;\n  }\n\n  updateEdge(graph: Graph, edge: Edge): Graph {\n    const sourceNode = graph.nodes.find(n => n.id === edge.source);\n    const targetNode = graph.nodes.find(n => n.id === edge.target);\n\n    // determine new arrow position\n    const dir = sourceNode.position.y <= targetNode.position.y ? -1 : 1;\n    const startingPoint = {\n      x: sourceNode.position.x,\n      y: sourceNode.position.y - dir * (sourceNode.dimension.height / 2)\n    };\n    const endingPoint = {\n      x: targetNode.position.x,\n      y: targetNode.position.y + dir * (targetNode.dimension.height / 2)\n    };\n\n    // generate new points\n    edge.points = [startingPoint, endingPoint];\n    return graph;\n  }\n\n  createDagreGraph(graph: Graph): any {\n    const settings = Object.assign({}, this.defaultSettings, this.settings);\n    this.dagreGraph = new dagre.graphlib.Graph({ compound: settings.compound, multigraph: settings.multigraph });\n\n    this.dagreGraph.setGraph({\n      rankdir: settings.orientation,\n      marginx: settings.marginX,\n      marginy: settings.marginY,\n      edgesep: settings.edgePadding,\n      ranksep: settings.rankPadding,\n      nodesep: settings.nodePadding,\n      align: settings.align,\n      acyclicer: settings.acyclicer,\n      ranker: settings.ranker,\n      multigraph: settings.multigraph,\n      compound: settings.compound\n    });\n\n    // Default to assigning a new object as a label for each new edge.\n    this.dagreGraph.setDefaultEdgeLabel(() => {\n      return {\n        /* empty */\n      };\n    });\n\n    this.dagreNodes = graph.nodes.map(n => {\n      const node: any = Object.assign({}, n);\n      node.width = n.dimension.width;\n      node.height = n.dimension.height;\n      node.x = n.position.x;\n      node.y = n.position.y;\n      return node;\n    });\n\n    this.dagreEdges = graph.edges.map(l => {\n      const newLink: any = Object.assign({}, l);\n      if (!newLink.id) {\n        newLink.id = id();\n      }\n      return newLink;\n    });\n\n    for (const node of this.dagreNodes) {\n      if (!node.width) {\n        node.width = 20;\n      }\n      if (!node.height) {\n        node.height = 30;\n      }\n\n      // update dagre\n      this.dagreGraph.setNode(node.id, node);\n    }\n\n    // update dagre\n    for (const edge of this.dagreEdges) {\n      if (settings.multigraph) {\n        this.dagreGraph.setEdge(edge.source, edge.target, edge, edge.id);\n      } else {\n        this.dagreGraph.setEdge(edge.source, edge.target);\n      }\n    }\n\n    return this.dagreGraph;\n  }\n}\n","import { Layout } from '../../models/layout.model';\nimport { Graph } from '../../models/graph.model';\nimport { id } from '../../utils/id';\nimport * as dagre from 'dagre';\nimport { Edge } from '../../models/edge.model';\nimport { Node, ClusterNode } from '../../models/node.model';\nimport { DagreSettings, Orientation } from './dagre';\n\nexport class DagreClusterLayout implements Layout {\n  defaultSettings: DagreSettings = {\n    orientation: Orientation.LEFT_TO_RIGHT,\n    marginX: 20,\n    marginY: 20,\n    edgePadding: 100,\n    rankPadding: 100,\n    nodePadding: 50,\n    multigraph: true,\n    compound: true\n  };\n  settings: DagreSettings = {};\n\n  dagreGraph: any;\n  dagreNodes: Node[];\n  dagreClusters: ClusterNode[];\n  dagreEdges: any;\n\n  run(graph: Graph): Graph {\n    this.createDagreGraph(graph);\n    dagre.layout(this.dagreGraph);\n\n    graph.edgeLabels = this.dagreGraph._edgeLabels;\n\n    const dagreToOutput = node => {\n      const dagreNode = this.dagreGraph._nodes[node.id];\n      return {\n        ...node,\n        position: {\n          x: dagreNode.x,\n          y: dagreNode.y\n        },\n        dimension: {\n          width: dagreNode.width,\n          height: dagreNode.height\n        }\n      };\n    };\n    graph.clusters = (graph.clusters || []).map(dagreToOutput);\n    graph.nodes = graph.nodes.map(dagreToOutput);\n\n    return graph;\n  }\n\n  updateEdge(graph: Graph, edge: Edge): Graph {\n    const sourceNode = graph.nodes.find(n => n.id === edge.source);\n    const targetNode = graph.nodes.find(n => n.id === edge.target);\n\n    // determine new arrow position\n    const dir = sourceNode.position.y <= targetNode.position.y ? -1 : 1;\n    const startingPoint = {\n      x: sourceNode.position.x,\n      y: sourceNode.position.y - dir * (sourceNode.dimension.height / 2)\n    };\n    const endingPoint = {\n      x: targetNode.position.x,\n      y: targetNode.position.y + dir * (targetNode.dimension.height / 2)\n    };\n\n    // generate new points\n    edge.points = [startingPoint, endingPoint];\n    return graph;\n  }\n\n  createDagreGraph(graph: Graph): any {\n    const settings = Object.assign({}, this.defaultSettings, this.settings);\n    this.dagreGraph = new dagre.graphlib.Graph({ compound: settings.compound, multigraph: settings.multigraph });\n    this.dagreGraph.setGraph({\n      rankdir: settings.orientation,\n      marginx: settings.marginX,\n      marginy: settings.marginY,\n      edgesep: settings.edgePadding,\n      ranksep: settings.rankPadding,\n      nodesep: settings.nodePadding,\n      align: settings.align,\n      acyclicer: settings.acyclicer,\n      ranker: settings.ranker,\n      multigraph: settings.multigraph,\n      compound: settings.compound\n    });\n\n    // Default to assigning a new object as a label for each new edge.\n    this.dagreGraph.setDefaultEdgeLabel(() => {\n      return {\n        /* empty */\n      };\n    });\n\n    this.dagreNodes = graph.nodes.map((n: Node) => {\n      const node: any = Object.assign({}, n);\n      node.width = n.dimension.width;\n      node.height = n.dimension.height;\n      node.x = n.position.x;\n      node.y = n.position.y;\n      return node;\n    });\n\n    this.dagreClusters = graph.clusters || [];\n\n    this.dagreEdges = graph.edges.map(l => {\n      const newLink: any = Object.assign({}, l);\n      if (!newLink.id) {\n        newLink.id = id();\n      }\n      return newLink;\n    });\n\n    for (const node of this.dagreNodes) {\n      this.dagreGraph.setNode(node.id, node);\n    }\n\n    for (const cluster of this.dagreClusters) {\n      this.dagreGraph.setNode(cluster.id, cluster);\n      cluster.childNodeIds.forEach(childNodeId => {\n        this.dagreGraph.setParent(childNodeId, cluster.id);\n      });\n    }\n\n    // update dagre\n    for (const edge of this.dagreEdges) {\n      if (settings.multigraph) {\n        this.dagreGraph.setEdge(edge.source, edge.target, edge, edge.id);\n      } else {\n        this.dagreGraph.setEdge(edge.source, edge.target);\n      }\n    }\n\n    return this.dagreGraph;\n  }\n}\n","import { Layout } from '../../models/layout.model';\nimport { Graph } from '../../models/graph.model';\nimport { id } from '../../utils/id';\nimport * as dagre from 'dagre';\nimport { Edge } from '../../models/edge.model';\nimport { DagreSettings, Orientation } from './dagre';\n\nexport interface DagreNodesOnlySettings extends DagreSettings {\n  curveDistance?: number;\n}\n\nconst DEFAULT_EDGE_NAME = '\\x00';\nconst GRAPH_NODE = '\\x00';\nconst EDGE_KEY_DELIM = '\\x01';\n\nexport class DagreNodesOnlyLayout implements Layout {\n  defaultSettings: DagreNodesOnlySettings = {\n    orientation: Orientation.LEFT_TO_RIGHT,\n    marginX: 20,\n    marginY: 20,\n    edgePadding: 100,\n    rankPadding: 100,\n    nodePadding: 50,\n    curveDistance: 20,\n    multigraph: true,\n    compound: true\n  };\n  settings: DagreNodesOnlySettings = {};\n\n  dagreGraph: any;\n  dagreNodes: any;\n  dagreEdges: any;\n\n  run(graph: Graph): Graph {\n    this.createDagreGraph(graph);\n    dagre.layout(this.dagreGraph);\n\n    graph.edgeLabels = this.dagreGraph._edgeLabels;\n\n    for (const dagreNodeId in this.dagreGraph._nodes) {\n      const dagreNode = this.dagreGraph._nodes[dagreNodeId];\n      const node = graph.nodes.find(n => n.id === dagreNode.id);\n      node.position = {\n        x: dagreNode.x,\n        y: dagreNode.y\n      };\n      node.dimension = {\n        width: dagreNode.width,\n        height: dagreNode.height\n      };\n    }\n    for (const edge of graph.edges) {\n      this.updateEdge(graph, edge);\n    }\n\n    return graph;\n  }\n\n  updateEdge(graph: Graph, edge: Edge): Graph {\n    const sourceNode = graph.nodes.find(n => n.id === edge.source);\n    const targetNode = graph.nodes.find(n => n.id === edge.target);\n    const rankAxis: 'x' | 'y' = this.settings.orientation === 'BT' || this.settings.orientation === 'TB' ? 'y' : 'x';\n    const orderAxis: 'x' | 'y' = rankAxis === 'y' ? 'x' : 'y';\n    const rankDimension = rankAxis === 'y' ? 'height' : 'width';\n    // determine new arrow position\n    const dir = sourceNode.position[rankAxis] <= targetNode.position[rankAxis] ? -1 : 1;\n    const startingPoint = {\n      [orderAxis]: sourceNode.position[orderAxis],\n      [rankAxis]: sourceNode.position[rankAxis] - dir * (sourceNode.dimension[rankDimension] / 2)\n    };\n    const endingPoint = {\n      [orderAxis]: targetNode.position[orderAxis],\n      [rankAxis]: targetNode.position[rankAxis] + dir * (targetNode.dimension[rankDimension] / 2)\n    };\n\n    const curveDistance = this.settings.curveDistance || this.defaultSettings.curveDistance;\n    // generate new points\n    edge.points = [\n      startingPoint,\n      {\n        [orderAxis]: startingPoint[orderAxis],\n        [rankAxis]: startingPoint[rankAxis] - dir * curveDistance\n      },\n      {\n        [orderAxis]: endingPoint[orderAxis],\n        [rankAxis]: endingPoint[rankAxis] + dir * curveDistance\n      },\n      endingPoint\n    ];\n    const edgeLabelId = `${edge.source}${EDGE_KEY_DELIM}${edge.target}${EDGE_KEY_DELIM}${DEFAULT_EDGE_NAME}`;\n    const matchingEdgeLabel = graph.edgeLabels[edgeLabelId];\n    if (matchingEdgeLabel) {\n      matchingEdgeLabel.points = edge.points;\n    }\n    return graph;\n  }\n\n  createDagreGraph(graph: Graph): any {\n    const settings = Object.assign({}, this.defaultSettings, this.settings);\n    this.dagreGraph = new dagre.graphlib.Graph({ compound: settings.compound, multigraph: settings.multigraph });\n    this.dagreGraph.setGraph({\n      rankdir: settings.orientation,\n      marginx: settings.marginX,\n      marginy: settings.marginY,\n      edgesep: settings.edgePadding,\n      ranksep: settings.rankPadding,\n      nodesep: settings.nodePadding,\n      align: settings.align,\n      acyclicer: settings.acyclicer,\n      ranker: settings.ranker,\n      multigraph: settings.multigraph,\n      compound: settings.compound\n    });\n\n    // Default to assigning a new object as a label for each new edge.\n    this.dagreGraph.setDefaultEdgeLabel(() => {\n      return {\n        /* empty */\n      };\n    });\n\n    this.dagreNodes = graph.nodes.map(n => {\n      const node: any = Object.assign({}, n);\n      node.width = n.dimension.width;\n      node.height = n.dimension.height;\n      node.x = n.position.x;\n      node.y = n.position.y;\n      return node;\n    });\n\n    this.dagreEdges = graph.edges.map(l => {\n      const newLink: any = Object.assign({}, l);\n      if (!newLink.id) {\n        newLink.id = id();\n      }\n      return newLink;\n    });\n\n    for (const node of this.dagreNodes) {\n      if (!node.width) {\n        node.width = 20;\n      }\n      if (!node.height) {\n        node.height = 30;\n      }\n\n      // update dagre\n      this.dagreGraph.setNode(node.id, node);\n    }\n\n    // update dagre\n    for (const edge of this.dagreEdges) {\n      if (settings.multigraph) {\n        this.dagreGraph.setEdge(edge.source, edge.target, edge, edge.id);\n      } else {\n        this.dagreGraph.setEdge(edge.source, edge.target);\n      }\n    }\n\n    return this.dagreGraph;\n  }\n}\n","import { Layout } from '../../models/layout.model';\nimport { Graph } from '../../models/graph.model';\nimport { Node } from '../../models/node.model';\nimport { id } from '../../utils/id';\nimport { forceCollide, forceLink, forceManyBody, forceSimulation } from 'd3-force';\nimport { Edge } from '../../models/edge.model';\nimport { Observable, Subject } from 'rxjs';\nimport { NodePosition } from '../../models';\n\nexport interface D3ForceDirectedSettings {\n  force?: any;\n  forceLink?: any;\n}\nexport interface D3Node {\n  id?: string;\n  x: number;\n  y: number;\n  width?: number;\n  height?: number;\n  fx?: number;\n  fy?: number;\n}\nexport interface D3Edge {\n  source: string | D3Node;\n  target: string | D3Node;\n  midPoint: NodePosition;\n}\nexport interface D3Graph {\n  nodes: D3Node[];\n  edges: D3Edge[];\n}\nexport interface MergedNode extends D3Node, Node {\n  id: string;\n}\n\nexport function toD3Node(maybeNode: string | D3Node): D3Node {\n  if (typeof maybeNode === 'string') {\n    return {\n      id: maybeNode,\n      x: 0,\n      y: 0\n    };\n  }\n  return maybeNode;\n}\n\nexport class D3ForceDirectedLayout implements Layout {\n  defaultSettings: D3ForceDirectedSettings = {\n    force: forceSimulation<any>().force('charge', forceManyBody().strength(-150)).force('collide', forceCollide(5)),\n    forceLink: forceLink<any, any>()\n      .id(node => node.id)\n      .distance(() => 100)\n  };\n  settings: D3ForceDirectedSettings = {};\n\n  inputGraph: Graph;\n  outputGraph: Graph;\n  d3Graph: D3Graph;\n  outputGraph$: Subject<Graph> = new Subject();\n\n  draggingStart: { x: number; y: number };\n\n  run(graph: Graph): Observable<Graph> {\n    this.inputGraph = graph;\n    this.d3Graph = {\n      nodes: [...this.inputGraph.nodes.map(n => ({ ...n }))] as any,\n      edges: [...this.inputGraph.edges.map(e => ({ ...e }))] as any\n    };\n    this.outputGraph = {\n      nodes: [],\n      edges: [],\n      edgeLabels: []\n    };\n    this.outputGraph$.next(this.outputGraph);\n    this.settings = Object.assign({}, this.defaultSettings, this.settings);\n    if (this.settings.force) {\n      this.settings.force\n        .nodes(this.d3Graph.nodes)\n        .force('link', this.settings.forceLink.links(this.d3Graph.edges))\n        .alpha(0.5)\n        .restart()\n        .on('tick', () => {\n          this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph));\n        });\n    }\n\n    return this.outputGraph$.asObservable();\n  }\n\n  updateEdge(graph: Graph, edge: Edge): Observable<Graph> {\n    const settings = Object.assign({}, this.defaultSettings, this.settings);\n    if (settings.force) {\n      settings.force\n        .nodes(this.d3Graph.nodes)\n        .force('link', settings.forceLink.links(this.d3Graph.edges))\n        .alpha(0.5)\n        .restart()\n        .on('tick', () => {\n          this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph));\n        });\n    }\n\n    return this.outputGraph$.asObservable();\n  }\n\n  d3GraphToOutputGraph(d3Graph: D3Graph): Graph {\n    this.outputGraph.nodes = this.d3Graph.nodes.map((node: MergedNode) => ({\n      ...node,\n      id: node.id || id(),\n      position: {\n        x: node.x,\n        y: node.y\n      },\n      dimension: {\n        width: (node.dimension && node.dimension.width) || 20,\n        height: (node.dimension && node.dimension.height) || 20\n      },\n      transform: `translate(${node.x - ((node.dimension && node.dimension.width) || 20) / 2 || 0}, ${\n        node.y - ((node.dimension && node.dimension.height) || 20) / 2 || 0\n      })`\n    }));\n\n    this.outputGraph.edges = this.d3Graph.edges.map(edge => ({\n      ...edge,\n      source: toD3Node(edge.source).id,\n      target: toD3Node(edge.target).id,\n      points: [\n        {\n          x: toD3Node(edge.source).x,\n          y: toD3Node(edge.source).y\n        },\n        {\n          x: toD3Node(edge.target).x,\n          y: toD3Node(edge.target).y\n        }\n      ]\n    }));\n\n    this.outputGraph.edgeLabels = this.outputGraph.edges;\n    return this.outputGraph;\n  }\n\n  onDragStart(draggingNode: Node, $event: MouseEvent): void {\n    this.settings.force.alphaTarget(0.3).restart();\n    const node = this.d3Graph.nodes.find(d3Node => d3Node.id === draggingNode.id);\n    if (!node) {\n      return;\n    }\n    this.draggingStart = { x: $event.x - node.x, y: $event.y - node.y };\n    node.fx = $event.x - this.draggingStart.x;\n    node.fy = $event.y - this.draggingStart.y;\n  }\n\n  onDrag(draggingNode: Node, $event: MouseEvent): void {\n    if (!draggingNode) {\n      return;\n    }\n    const node = this.d3Graph.nodes.find(d3Node => d3Node.id === draggingNode.id);\n    if (!node) {\n      return;\n    }\n    node.fx = $event.x - this.draggingStart.x;\n    node.fy = $event.y - this.draggingStart.y;\n  }\n\n  onDragEnd(draggingNode: Node, $event: MouseEvent): void {\n    if (!draggingNode) {\n      return;\n    }\n    const node = this.d3Graph.nodes.find(d3Node => d3Node.id === draggingNode.id);\n    if (!node) {\n      return;\n    }\n\n    this.settings.force.alphaTarget(0);\n    node.fx = undefined;\n    node.fy = undefined;\n  }\n}\n","import { Layout } from '../../models/layout.model';\nimport { Graph } from '../../models/graph.model';\nimport { Node, ClusterNode } from '../../models/node.model';\nimport { id } from '../../utils/id';\nimport { d3adaptor, ID3StyleLayoutAdaptor, Layout as ColaLayout, Group, InputNode, Link, Rectangle } from 'webcola';\nimport * as d3Dispatch from 'd3-dispatch';\nimport * as d3Force from 'd3-force';\nimport * as d3Timer from 'd3-timer';\nimport { Edge } from '../../models/edge.model';\nimport { Observable, Subject } from 'rxjs';\nimport { ViewDimensions } from '@swimlane/ngx-charts';\n\nexport interface ColaForceDirectedSettings {\n  force?: ColaLayout & ID3StyleLayoutAdaptor;\n  forceModifierFn?: (force: ColaLayout & ID3StyleLayoutAdaptor) => ColaLayout & ID3StyleLayoutAdaptor;\n  onTickListener?: (internalGraph: ColaGraph) => void;\n  viewDimensions?: ViewDimensions;\n}\nexport interface ColaGraph {\n  groups: Group[];\n  nodes: InputNode[];\n  links: Array<Link<number>>;\n}\nexport function toNode(nodes: InputNode[], nodeRef: InputNode | number): InputNode {\n  if (typeof nodeRef === 'number') {\n    return nodes[nodeRef];\n  }\n  return nodeRef;\n}\n\nexport class ColaForceDirectedLayout implements Layout {\n  defaultSettings: ColaForceDirectedSettings = {\n    force: d3adaptor({\n      ...d3Dispatch,\n      ...d3Force,\n      ...d3Timer\n    })\n      .linkDistance(150)\n      .avoidOverlaps(true),\n    viewDimensions: {\n      width: 600,\n      height: 600,\n      xOffset: 0\n    }\n  };\n  settings: ColaForceDirectedSettings = {};\n\n  inputGraph: Graph;\n  outputGraph: Graph;\n  internalGraph: ColaGraph & { groupLinks?: Edge[] };\n  outputGraph$: Subject<Graph> = new Subject();\n\n  draggingStart: { x: number; y: number };\n\n  run(graph: Graph): Observable<Graph> {\n    this.inputGraph = graph;\n    if (!this.inputGraph.clusters) {\n      this.inputGraph.clusters = [];\n    }\n    this.internalGraph = {\n      nodes: [\n        ...this.inputGraph.nodes.map(n => ({\n          ...n,\n          width: n.dimension ? n.dimension.width : 20,\n          height: n.dimension ? n.dimension.height : 20\n        }))\n      ] as any,\n      groups: [\n        ...this.inputGraph.clusters.map(\n          (cluster): Group => ({\n            padding: 5,\n            groups: cluster.childNodeIds\n              .map(nodeId => <any>this.inputGraph.clusters.findIndex(node => node.id === nodeId))\n              .filter(x => x >= 0),\n            leaves: cluster.childNodeIds\n              .map(nodeId => <any>this.inputGraph.nodes.findIndex(node => node.id === nodeId))\n              .filter(x => x >= 0)\n          })\n        )\n      ],\n      links: [\n        ...this.inputGraph.edges\n          .map(e => {\n            const sourceNodeIndex = this.inputGraph.nodes.findIndex(node => e.source === node.id);\n            const targetNodeIndex = this.inputGraph.nodes.findIndex(node => e.target === node.id);\n            if (sourceNodeIndex === -1 || targetNodeIndex === -1) {\n              return undefined;\n            }\n            return {\n              ...e,\n              source: sourceNodeIndex,\n              target: targetNodeIndex\n            };\n          })\n          .filter(x => !!x)\n      ] as any,\n      groupLinks: [\n        ...this.inputGraph.edges\n          .map(e => {\n            const sourceNodeIndex = this.inputGraph.nodes.findIndex(node => e.source === node.id);\n            const targetNodeIndex = this.inputGraph.nodes.findIndex(node => e.target === node.id);\n            if (sourceNodeIndex >= 0 && targetNodeIndex >= 0) {\n              return undefined;\n            }\n            return e;\n          })\n          .filter(x => !!x)\n      ]\n    };\n    this.outputGraph = {\n      nodes: [],\n      clusters: [],\n      edges: [],\n      edgeLabels: []\n    };\n    this.outputGraph$.next(this.outputGraph);\n    this.settings = Object.assign({}, this.defaultSettings, this.settings);\n    if (this.settings.force) {\n      this.settings.force = this.settings.force\n        .nodes(this.internalGraph.nodes)\n        .groups(this.internalGraph.groups)\n        .links(this.internalGraph.links)\n        .alpha(0.5)\n        .on('tick', () => {\n          if (this.settings.onTickListener) {\n            this.settings.onTickListener(this.internalGraph);\n          }\n          this.outputGraph$.next(this.internalGraphToOutputGraph(this.internalGraph));\n        });\n      if (this.settings.viewDimensions) {\n        this.settings.force = this.settings.force.size([\n          this.settings.viewDimensions.width,\n          this.settings.viewDimensions.height\n        ]);\n      }\n      if (this.settings.forceModifierFn) {\n        this.settings.force = this.settings.forceModifierFn(this.settings.force);\n      }\n      this.settings.force.start();\n    }\n\n    return this.outputGraph$.asObservable();\n  }\n\n  updateEdge(graph: Graph, edge: Edge): Observable<Graph> {\n    const settings = Object.assign({}, this.defaultSettings, this.settings);\n    if (settings.force) {\n      settings.force.start();\n    }\n\n    return this.outputGraph$.asObservable();\n  }\n\n  internalGraphToOutputGraph(internalGraph: any): Graph {\n    this.outputGraph.nodes = internalGraph.nodes.map(node => ({\n      ...node,\n      id: node.id || id(),\n      position: {\n        x: node.x,\n        y: node.y\n      },\n      dimension: {\n        width: (node.dimension && node.dimension.width) || 20,\n        height: (node.dimension && node.dimension.height) || 20\n      },\n      transform: `translate(${node.x - ((node.dimension && node.dimension.width) || 20) / 2 || 0}, ${\n        node.y - ((node.dimension && node.dimension.height) || 20) / 2 || 0\n      })`\n    }));\n\n    this.outputGraph.edges = internalGraph.links\n      .map(edge => {\n        const source: any = toNode(internalGraph.nodes, edge.source);\n        const target: any = toNode(internalGraph.nodes, edge.target);\n        return {\n          ...edge,\n          source: source.id,\n          target: target.id,\n          points: [\n            (source.bounds as Rectangle).rayIntersection(target.bounds.cx(), target.bounds.cy()),\n            (target.bounds as Rectangle).rayIntersection(source.bounds.cx(), source.bounds.cy())\n          ]\n        };\n      })\n      .concat(\n        internalGraph.groupLinks.map(groupLink => {\n          const sourceNode = internalGraph.nodes.find(foundNode => (foundNode as any).id === groupLink.source);\n          const targetNode = internalGraph.nodes.find(foundNode => (foundNode as any).id === groupLink.target);\n          const source =\n            sourceNode || internalGraph.groups.find(foundGroup => (foundGroup as any).id === groupLink.source);\n          const target =\n            targetNode || internalGraph.groups.find(foundGroup => (foundGroup as any).id === groupLink.target);\n          return {\n            ...groupLink,\n            source: source.id,\n            target: target.id,\n            points: [\n              (source.bounds as Rectangle).rayIntersection(target.bounds.cx(), target.bounds.cy()),\n              (target.bounds as Rectangle).rayIntersection(source.bounds.cx(), source.bounds.cy())\n            ]\n          };\n        })\n      );\n\n    this.outputGraph.clusters = internalGraph.groups.map(\n      (group, index): ClusterNode => {\n        const inputGroup = this.inputGraph.clusters[index];\n        return {\n          ...inputGroup,\n          dimension: {\n            width: group.bounds ? group.bounds.width() : 20,\n            height: group.bounds ? group.bounds.height() : 20\n          },\n          position: {\n            x: group.bounds ? group.bounds.x + group.bounds.width() / 2 : 0,\n            y: group.bounds ? group.bounds.y + group.bounds.height() / 2 : 0\n          }\n        };\n      }\n    );\n    this.outputGraph.edgeLabels = this.outputGraph.edges;\n    return this.outputGraph;\n  }\n\n  onDragStart(draggingNode: Node, $event: MouseEvent): void {\n    const nodeIndex = this.outputGraph.nodes.findIndex(foundNode => foundNode.id === draggingNode.id);\n    const node = this.internalGraph.nodes[nodeIndex];\n    if (!node) {\n      return;\n    }\n    this.draggingStart = { x: node.x - $event.x, y: node.y - $event.y };\n    node.fixed = 1;\n    this.settings.force.start();\n  }\n\n  onDrag(draggingNode: Node, $event: MouseEvent): void {\n    if (!draggingNode) {\n      return;\n    }\n    const nodeIndex = this.outputGraph.nodes.findIndex(foundNode => foundNode.id === draggingNode.id);\n    const node = this.internalGraph.nodes[nodeIndex];\n    if (!node) {\n      return;\n    }\n    node.x = this.draggingStart.x + $event.x;\n    node.y = this.draggingStart.y + $event.y;\n  }\n\n  onDragEnd(draggingNode: Node, $event: MouseEvent): void {\n    if (!draggingNode) {\n      return;\n    }\n    const nodeIndex = this.outputGraph.nodes.findIndex(foundNode => foundNode.id === draggingNode.id);\n    const node = this.internalGraph.nodes[nodeIndex];\n    if (!node) {\n      return;\n    }\n\n    node.fixed = 0;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Layout } from '../../models/layout.model';\nimport { DagreLayout } from './dagre';\nimport { DagreClusterLayout } from './dagreCluster';\nimport { DagreNodesOnlyLayout } from './dagreNodesOnly';\nimport { D3ForceDirectedLayout } from './d3ForceDirected';\nimport { ColaForceDirectedLayout } from './colaForceDirected';\n\nconst layouts = {\n  dagre: DagreLayout,\n  dagreCluster: DagreClusterLayout,\n  dagreNodesOnly: DagreNodesOnlyLayout,\n  d3ForceDirected: D3ForceDirectedLayout,\n  colaForceDirected: ColaForceDirectedLayout\n};\n\n@Injectable()\nexport class LayoutService {\n  getLayout(name: string): Layout {\n    if (layouts[name]) {\n      return new layouts[name]();\n    } else {\n      throw new Error(`Unknown layout type '${name}'`);\n    }\n  }\n}\n","export enum PanningAxis {\n  Both = 'both',\n  Horizontal = 'horizontal',\n  Vertical = 'vertical'\n}\n","export enum MiniMapPosition {\n  UpperLeft = 'UpperLeft',\n  UpperRight = 'UpperRight'\n}\n","/**\n * Throttle a function\n *\n * @export\n * @param {*}      func\n * @param {number} wait\n * @param {*}      [options]\n * @returns\n */\nexport function throttle(func: any, wait: number, options?: any) {\n  options = options || {};\n  let context;\n  let args;\n  let result;\n  let timeout = null;\n  let previous = 0;\n\n  function later() {\n    previous = options.leading === false ? 0 : +new Date();\n    timeout = null;\n    result = func.apply(context, args);\n  }\n\n  return function () {\n    const now = +new Date();\n\n    if (!previous && options.leading === false) {\n      previous = now;\n    }\n\n    const remaining = wait - (now - previous);\n    context = this;\n    args = arguments;\n\n    if (remaining <= 0) {\n      clearTimeout(timeout);\n      timeout = null;\n      previous = now;\n      result = func.apply(context, args);\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n\n    return result;\n  };\n}\n\n/**\n * Throttle decorator\n *\n *  class MyClass {\n *    throttleable(10)\n *    myFn() { ... }\n *  }\n *\n * @export\n * @param {number} duration\n * @param {*} [options]\n * @returns\n */\nexport function throttleable(duration: number, options?: any) {\n  return function innerDecorator(target, key, descriptor) {\n    return {\n      configurable: true,\n      enumerable: descriptor.enumerable,\n      get: function getter() {\n        Object.defineProperty(this, key, {\n          configurable: true,\n          enumerable: descriptor.enumerable,\n          value: throttle(descriptor.value, duration, options)\n        });\n\n        return this[key];\n      }\n    };\n  };\n}\n","// rename transition due to conflict with d3 transition\nimport { animate, style, transition as ngTransition, trigger } from '@angular/animations';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ContentChild,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  QueryList,\n  TemplateRef,\n  ViewChild,\n  ViewChildren,\n  ViewEncapsulation,\n  NgZone,\n  ChangeDetectorRef,\n  OnChanges,\n  SimpleChanges\n} from '@angular/core';\nimport {\n  BaseChartComponent,\n  ChartComponent,\n  ColorHelper,\n  ViewDimensions,\n  calculateViewDimensions\n} from '@swimlane/ngx-charts';\nimport { select } from 'd3-selection';\nimport * as shape from 'd3-shape';\nimport * as ease from 'd3-ease';\nimport 'd3-transition';\nimport { Observable, Subscription, of } from 'rxjs';\nimport { first } from 'rxjs/operators';\nimport { identity, scale, smoothMatrix, toSVG, transform, translate } from 'transformation-matrix';\nimport { Layout } from '../models/layout.model';\nimport { LayoutService } from './layouts/layout.service';\nimport { Edge } from '../models/edge.model';\nimport { Node, ClusterNode } from '../models/node.model';\nimport { Graph } from '../models/graph.model';\nimport { id } from '../utils/id';\nimport { PanningAxis } from '../enums/panning.enum';\nimport { MiniMapPosition } from '../enums/mini-map-position.enum';\nimport { throttleable } from '../utils/throttle';\n\n/**\n * Matrix\n */\nexport interface Matrix {\n  a: number;\n  b: number;\n  c: number;\n  d: number;\n  e: number;\n  f: number;\n}\n\n@Component({\n  selector: 'ngx-graph',\n  styleUrls: ['./graph.component.scss'],\n  templateUrl: 'graph.component.html',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class GraphComponent extends BaseChartComponent implements OnInit, OnChanges, OnDestroy, AfterViewInit {\n  @Input() legend: boolean = false;\n  @Input() nodes: Node[] = [];\n  @Input() clusters: ClusterNode[] = [];\n  @Input() links: Edge[] = [];\n  @Input() activeEntries: any[] = [];\n  @Input() curve: any;\n  @Input() draggingEnabled = true;\n  @Input() nodeHeight: number;\n  @Input() nodeMaxHeight: number;\n  @Input() nodeMinHeight: number;\n  @Input() nodeWidth: number;\n  @Input() nodeMinWidth: number;\n  @Input() nodeMaxWidth: number;\n  @Input() panningEnabled: boolean = true;\n  @Input() panningAxis: PanningAxis = PanningAxis.Both;\n  @Input() enableZoom = true;\n  @Input() zoomSpeed = 0.1;\n  @Input() minZoomLevel = 0.1;\n  @Input() maxZoomLevel = 4.0;\n  @Input() autoZoom = false;\n  @Input() panOnZoom = true;\n  @Input() animate? = false;\n  @Input() autoCenter = false;\n  @Input() update$: Observable<any>;\n  @Input() center$: Observable<any>;\n  @Input() zoomToFit$: Observable<any>;\n  @Input() panToNode$: Observable<any>;\n  @Input() layout: string | Layout;\n  @Input() layoutSettings: any;\n  @Input() enableTrackpadSupport = false;\n  @Input() showMiniMap: boolean = false;\n  @Input() miniMapMaxWidth: number = 100;\n  @Input() miniMapMaxHeight: number;\n  @Input() miniMapPosition: MiniMapPosition = MiniMapPosition.UpperRight;\n\n  @Output() activate: EventEmitter<any> = new EventEmitter();\n  @Output() deactivate: EventEmitter<any> = new EventEmitter();\n  @Output() zoomChange: EventEmitter<number> = new EventEmitter();\n  @Output() clickHandler: EventEmitter<MouseEvent> = new EventEmitter();\n\n  @ContentChild('linkTemplate') linkTemplate: TemplateRef<any>;\n  @ContentChild('nodeTemplate') nodeTemplate: TemplateRef<any>;\n  @ContentChild('clusterTemplate') clusterTemplate: TemplateRef<any>;\n  @ContentChild('defsTemplate') defsTemplate: TemplateRef<any>;\n  @ContentChild('miniMapNodeTemplate') miniMapNodeTemplate: TemplateRef<any>;\n\n  @ViewChild(ChartComponent, { read: ElementRef, static: true }) chart: ElementRef;\n  @ViewChildren('nodeElement') nodeElements: QueryList<ElementRef>;\n  @ViewChildren('linkElement') linkElements: QueryList<ElementRef>;\n\n  private isMouseMoveCalled: boolean = false;\n\n  graphSubscription: Subscription = new Subscription();\n  subscriptions: Subscription[] = [];\n  colors: ColorHelper;\n  dims: ViewDimensions;\n  margin = [0, 0, 0, 0];\n  results = [];\n  seriesDomain: any;\n  transform: string;\n  legendOptions: any;\n  isPanning = false;\n  isDragging = false;\n  draggingNode: Node;\n  initialized = false;\n  graph: Graph;\n  graphDims: any = { width: 0, height: 0 };\n  _oldLinks: Edge[] = [];\n  oldNodes: Set<string> = new Set();\n  oldClusters: Set<string> = new Set();\n  transformationMatrix: Matrix = identity();\n  _touchLastX = null;\n  _touchLastY = null;\n  minimapScaleCoefficient: number = 3;\n  minimapTransform: string;\n  minimapOffsetX: number = 0;\n  minimapOffsetY: number = 0;\n  isMinimapPanning = false;\n  minimapClipPathId: string;\n\n  constructor(\n    private el: ElementRef,\n    public zone: NgZone,\n    public cd: ChangeDetectorRef,\n    private layoutService: LayoutService\n  ) {\n    super(el, zone, cd);\n  }\n\n  @Input()\n  groupResultsBy: (node: any) => string = node => node.label;\n\n  /**\n   * Get the current zoom level\n   */\n  get zoomLevel() {\n    return this.transformationMatrix.a;\n  }\n\n  /**\n   * Set the current zoom level\n   */\n  @Input('zoomLevel')\n  set zoomLevel(level) {\n    this.zoomTo(Number(level));\n  }\n\n  /**\n   * Get the current `x` position of the graph\n   */\n  get panOffsetX() {\n    return this.transformationMatrix.e;\n  }\n\n  /**\n   * Set the current `x` position of the graph\n   */\n  @Input('panOffsetX')\n  set panOffsetX(x) {\n    this.panTo(Number(x), null);\n  }\n\n  /**\n   * Get the current `y` position of the graph\n   */\n  get panOffsetY() {\n    return this.transformationMatrix.f;\n  }\n\n  /**\n   * Set the current `y` position of the graph\n   */\n  @Input('panOffsetY')\n  set panOffsetY(y) {\n    this.panTo(null, Number(y));\n  }\n\n  /**\n   * Angular lifecycle event\n   *\n   *\n   * @memberOf GraphComponent\n   */\n  ngOnInit(): void {\n    if (this.update$) {\n      this.subscriptions.push(\n        this.update$.subscribe(() => {\n          this.update();\n        })\n      );\n    }\n\n    if (this.center$) {\n      this.subscriptions.push(\n        this.center$.subscribe(() => {\n          this.center();\n        })\n      );\n    }\n    if (this.zoomToFit$) {\n      this.subscriptions.push(\n        this.zoomToFit$.subscribe(() => {\n          this.zoomToFit();\n        })\n      );\n    }\n\n    if (this.panToNode$) {\n      this.subscriptions.push(\n        this.panToNode$.subscribe((nodeId: string) => {\n          this.panToNodeId(nodeId);\n        })\n      );\n    }\n\n    this.minimapClipPathId = `minimapClip${id()}`;\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const { layout, layoutSettings, nodes, clusters, links } = changes;\n    this.setLayout(this.layout);\n    if (layoutSettings) {\n      this.setLayoutSettings(this.layoutSettings);\n    }\n    this.update();\n  }\n\n  setLayout(layout: string | Layout): void {\n    this.initialized = false;\n    if (!layout) {\n      layout = 'dagre';\n    }\n    if (typeof layout === 'string') {\n      this.layout = this.layoutService.getLayout(layout);\n      this.setLayoutSettings(this.layoutSettings);\n    }\n  }\n\n  setLayoutSettings(settings: any): void {\n    if (this.layout && typeof this.layout !== 'string') {\n      this.layout.settings = settings;\n    }\n  }\n\n  /**\n   * Angular lifecycle event\n   *\n   *\n   * @memberOf GraphComponent\n   */\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n    for (const sub of this.subscriptions) {\n      sub.unsubscribe();\n    }\n    this.subscriptions = null;\n  }\n\n  /**\n   * Angular lifecycle event\n   *\n   *\n   * @memberOf GraphComponent\n   */\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    setTimeout(() => this.update());\n  }\n\n  /**\n   * Base class update implementation for the dag graph\n   *\n   * @memberOf GraphComponent\n   */\n  update(): void {\n    super.update();\n    if (!this.curve) {\n      this.curve = shape.curveBundle.beta(1);\n    }\n\n    this.zone.run(() => {\n      this.dims = calculateViewDimensions({\n        width: this.width,\n        height: this.height,\n        margins: this.margin,\n        showLegend: this.legend\n      });\n\n      this.seriesDomain = this.getSeriesDomain();\n      this.setColors();\n      this.legendOptions = this.getLegendOptions();\n\n      this.createGraph();\n      this.updateTransform();\n      this.initialized = true;\n    });\n  }\n\n  /**\n   * Creates the dagre graph engine\n   *\n   * @memberOf GraphComponent\n   */\n  createGraph(): void {\n    this.graphSubscription.unsubscribe();\n    this.graphSubscription = new Subscription();\n    const initializeNode = (n: Node) => {\n      if (!n.meta) {\n        n.meta = {};\n      }\n      if (!n.id) {\n        n.id = id();\n      }\n      if (!n.dimension) {\n        n.dimension = {\n          width: this.nodeWidth ? this.nodeWidth : 30,\n          height: this.nodeHeight ? this.nodeHeight : 30\n        };\n        n.meta.forceDimensions = false;\n      } else {\n        n.meta.forceDimensions = n.meta.forceDimensions === undefined ? true : n.meta.forceDimensions;\n      }\n      n.position = {\n        x: 0,\n        y: 0\n      };\n      n.data = n.data ? n.data : {};\n      return n;\n    };\n\n    this.graph = {\n      nodes: this.nodes.length > 0 ? [...this.nodes].map(initializeNode) : [],\n      clusters: this.clusters && this.clusters.length > 0 ? [...this.clusters].map(initializeNode) : [],\n      edges:\n        this.links.length > 0\n          ? [...this.links].map(e => {\n              if (!e.id) {\n                e.id = id();\n              }\n              return e;\n            })\n          : []\n    };\n\n    requestAnimationFrame(() => this.draw());\n  }\n\n  /**\n   * Draws the graph using dagre layouts\n   *\n   *\n   * @memberOf GraphComponent\n   */\n  draw(): void {\n    if (!this.layout || typeof this.layout === 'string') {\n      return;\n    }\n    // Calc view dims for the nodes\n    this.applyNodeDimensions();\n\n    // Recalc the layout\n    const result = this.layout.run(this.graph);\n    const result$ = result instanceof Observable ? result : of(result);\n    this.graphSubscription.add(\n      result$.subscribe(graph => {\n        this.graph = graph;\n        this.tick();\n      })\n    );\n\n    if (this.graph.nodes.length === 0) {\n      return;\n    }\n\n    result$.pipe(first()).subscribe(() => this.applyNodeDimensions());\n  }\n\n  tick() {\n    // Transposes view options to the node\n    const oldNodes: Set<string> = new Set();\n\n    this.graph.nodes.map(n => {\n      n.transform = `translate(${n.position.x - n.dimension.width / 2 || 0}, ${\n        n.position.y - n.dimension.height / 2 || 0\n      })`;\n      if (!n.data) {\n        n.data = {};\n      }\n      n.data.color = this.colors.getColor(this.groupResultsBy(n));\n      oldNodes.add(n.id);\n    });\n\n    const oldClusters: Set<string> = new Set();\n\n    (this.graph.clusters || []).map(n => {\n      n.transform = `translate(${n.position.x - n.dimension.width / 2 || 0}, ${\n        n.position.y - n.dimension.height / 2 || 0\n      })`;\n      if (!n.data) {\n        n.data = {};\n      }\n      n.data.color = this.colors.getColor(this.groupResultsBy(n));\n      oldClusters.add(n.id);\n    });\n\n    // Prevent animations on new nodes\n    setTimeout(() => {\n      this.oldNodes = oldNodes;\n      this.oldClusters = oldClusters;\n    }, 500);\n\n    // Update the labels to the new positions\n    const newLinks = [];\n    for (const edgeLabelId in this.graph.edgeLabels) {\n      const edgeLabel = this.graph.edgeLabels[edgeLabelId];\n\n      const normKey = edgeLabelId.replace(/[^\\w-]*/g, '');\n\n      const isMultigraph =\n        this.layout && typeof this.layout !== 'string' && this.layout.settings && this.layout.settings.multigraph;\n\n      let oldLink = isMultigraph\n        ? this._oldLinks.find(ol => `${ol.source}${ol.target}${ol.id}` === normKey)\n        : this._oldLinks.find(ol => `${ol.source}${ol.target}` === normKey);\n\n      const linkFromGraph = isMultigraph\n        ? this.graph.edges.find(nl => `${nl.source}${nl.target}${nl.id}` === normKey)\n        : this.graph.edges.find(nl => `${nl.source}${nl.target}` === normKey);\n\n      if (!oldLink) {\n        oldLink = linkFromGraph || edgeLabel;\n      } else if (\n        oldLink.data &&\n        linkFromGraph &&\n        linkFromGraph.data &&\n        JSON.stringify(oldLink.data) !== JSON.stringify(linkFromGraph.data)\n      ) {\n        // Compare old link to new link and replace if not equal\n        oldLink.data = linkFromGraph.data;\n      }\n\n      oldLink.oldLine = oldLink.line;\n\n      const points = edgeLabel.points;\n      const line = this.generateLine(points);\n\n      const newLink = Object.assign({}, oldLink);\n      newLink.line = line;\n      newLink.points = points;\n\n      this.updateMidpointOnEdge(newLink, points);\n\n      const textPos = points[Math.floor(points.length / 2)];\n      if (textPos) {\n        newLink.textTransform = `translate(${textPos.x || 0},${textPos.y || 0})`;\n      }\n\n      newLink.textAngle = 0;\n      if (!newLink.oldLine) {\n        newLink.oldLine = newLink.line;\n      }\n\n      this.calcDominantBaseline(newLink);\n      newLinks.push(newLink);\n    }\n\n    this.graph.edges = newLinks;\n\n    // Map the old links for animations\n    if (this.graph.edges) {\n      this._oldLinks = this.graph.edges.map(l => {\n        const newL = Object.assign({}, l);\n        newL.oldLine = l.line;\n        return newL;\n      });\n    }\n\n    this.updateMinimap();\n\n    if (this.autoZoom) {\n      this.zoomToFit();\n    }\n\n    if (this.autoCenter) {\n      // Auto-center when rendering\n      this.center();\n    }\n\n    requestAnimationFrame(() => this.redrawLines());\n    this.cd.markForCheck();\n  }\n\n  getMinimapTransform(): string {\n    switch (this.miniMapPosition) {\n      case MiniMapPosition.UpperLeft: {\n        return '';\n      }\n      case MiniMapPosition.UpperRight: {\n        return 'translate(' + (this.dims.width - this.graphDims.width / this.minimapScaleCoefficient) + ',' + 0 + ')';\n      }\n      default: {\n        return '';\n      }\n    }\n  }\n\n  updateGraphDims() {\n    let minX = +Infinity;\n    let maxX = -Infinity;\n    let minY = +Infinity;\n    let maxY = -Infinity;\n\n    for (let i = 0; i < this.graph.nodes.length; i++) {\n      const node = this.graph.nodes[i];\n      minX = node.position.x < minX ? node.position.x : minX;\n      minY = node.position.y < minY ? node.position.y : minY;\n      maxX = node.position.x + node.dimension.width > maxX ? node.position.x + node.dimension.width : maxX;\n      maxY = node.position.y + node.dimension.height > maxY ? node.position.y + node.dimension.height : maxY;\n    }\n    minX -= 100;\n    minY -= 100;\n    maxX += 100;\n    maxY += 100;\n    this.graphDims.width = maxX - minX;\n    this.graphDims.height = maxY - minY;\n    this.minimapOffsetX = minX;\n    this.minimapOffsetY = minY;\n  }\n\n  @throttleable(500)\n  updateMinimap() {\n    // Calculate the height/width total, but only if we have any nodes\n    if (this.graph.nodes && this.graph.nodes.length) {\n      this.updateGraphDims();\n\n      if (this.miniMapMaxWidth) {\n        this.minimapScaleCoefficient = this.graphDims.width / this.miniMapMaxWidth;\n      }\n      if (this.miniMapMaxHeight) {\n        this.minimapScaleCoefficient = Math.max(\n          this.minimapScaleCoefficient,\n          this.graphDims.height / this.miniMapMaxHeight\n        );\n      }\n\n      this.minimapTransform = this.getMinimapTransform();\n    }\n  }\n\n  /**\n   * Measures the node element and applies the dimensions\n   *\n   * @memberOf GraphComponent\n   */\n  applyNodeDimensions(): void {\n    if (this.nodeElements && this.nodeElements.length) {\n      this.nodeElements.map(elem => {\n        const nativeElement = elem.nativeElement;\n        const node = this.graph.nodes.find(n => n.id === nativeElement.id);\n        if (!node) {\n          return;\n        }\n\n        // calculate the height\n        let dims;\n        try {\n          dims = nativeElement.getBBox();\n          if (!dims.width || !dims.height) {\n            return;\n          }\n        } catch (ex) {\n          // Skip drawing if element is not displayed - Firefox would throw an error here\n          return;\n        }\n        if (this.nodeHeight) {\n          node.dimension.height =\n            node.dimension.height && node.meta.forceDimensions ? node.dimension.height : this.nodeHeight;\n        } else {\n          node.dimension.height =\n            node.dimension.height && node.meta.forceDimensions ? node.dimension.height : dims.height;\n        }\n\n        if (this.nodeMaxHeight) {\n          node.dimension.height = Math.max(node.dimension.height, this.nodeMaxHeight);\n        }\n        if (this.nodeMinHeight) {\n          node.dimension.height = Math.min(node.dimension.height, this.nodeMinHeight);\n        }\n\n        if (this.nodeWidth) {\n          node.dimension.width =\n            node.dimension.width && node.meta.forceDimensions ? node.dimension.width : this.nodeWidth;\n        } else {\n          // calculate the width\n          if (nativeElement.getElementsByTagName('text').length) {\n            let maxTextDims;\n            try {\n              for (const textElem of nativeElement.getElementsByTagName('text')) {\n                const currentBBox = textElem.getBBox();\n                if (!maxTextDims) {\n                  maxTextDims = currentBBox;\n                } else {\n                  if (currentBBox.width > maxTextDims.width) {\n                    maxTextDims.width = currentBBox.width;\n                  }\n                  if (currentBBox.height > maxTextDims.height) {\n                    maxTextDims.height = currentBBox.height;\n                  }\n                }\n              }\n            } catch (ex) {\n              // Skip drawing if element is not displayed - Firefox would throw an error here\n              return;\n            }\n            node.dimension.width =\n              node.dimension.width && node.meta.forceDimensions ? node.dimension.width : maxTextDims.width + 20;\n          } else {\n            node.dimension.width =\n              node.dimension.width && node.meta.forceDimensions ? node.dimension.width : dims.width;\n          }\n        }\n\n        if (this.nodeMaxWidth) {\n          node.dimension.width = Math.max(node.dimension.width, this.nodeMaxWidth);\n        }\n        if (this.nodeMinWidth) {\n          node.dimension.width = Math.min(node.dimension.width, this.nodeMinWidth);\n        }\n      });\n    }\n  }\n\n  /**\n   * Redraws the lines when dragged or viewport updated\n   *\n   * @memberOf GraphComponent\n   */\n  redrawLines(_animate = this.animate): void {\n    this.linkElements.map(linkEl => {\n      const edge = this.graph.edges.find(lin => lin.id === linkEl.nativeElement.id);\n\n      if (edge) {\n        const linkSelection = select(linkEl.nativeElement).select('.line');\n        linkSelection\n          .attr('d', edge.oldLine)\n          .transition()\n          .ease(ease.easeSinInOut)\n          .duration(_animate ? 500 : 0)\n          .attr('d', edge.line);\n\n        const textPathSelection = select(this.chartElement.nativeElement).select(`#${edge.id}`);\n        textPathSelection\n          .attr('d', edge.oldTextPath)\n          .transition()\n          .ease(ease.easeSinInOut)\n          .duration(_animate ? 500 : 0)\n          .attr('d', edge.textPath);\n\n        this.updateMidpointOnEdge(edge, edge.points);\n      }\n    });\n  }\n\n  /**\n   * Calculate the text directions / flipping\n   *\n   * @memberOf GraphComponent\n   */\n  calcDominantBaseline(link): void {\n    const firstPoint = link.points[0];\n    const lastPoint = link.points[link.points.length - 1];\n    link.oldTextPath = link.textPath;\n\n    if (lastPoint.x < firstPoint.x) {\n      link.dominantBaseline = 'text-before-edge';\n\n      // reverse text path for when its flipped upside down\n      link.textPath = this.generateLine([...link.points].reverse());\n    } else {\n      link.dominantBaseline = 'text-after-edge';\n      link.textPath = link.line;\n    }\n  }\n\n  /**\n   * Generate the new line path\n   *\n   * @memberOf GraphComponent\n   */\n  generateLine(points: any): any {\n    const lineFunction = shape\n      .line<any>()\n      .x(d => d.x)\n      .y(d => d.y)\n      .curve(this.curve);\n    return lineFunction(points);\n  }\n\n  /**\n   * Zoom was invoked from event\n   *\n   * @memberOf GraphComponent\n   */\n  onZoom($event: WheelEvent, direction): void {\n    if (this.enableTrackpadSupport && !$event.ctrlKey) {\n      this.pan($event.deltaX * -1, $event.deltaY * -1);\n      return;\n    }\n\n    const zoomFactor = 1 + (direction === 'in' ? this.zoomSpeed : -this.zoomSpeed);\n\n    // Check that zooming wouldn't put us out of bounds\n    const newZoomLevel = this.zoomLevel * zoomFactor;\n    if (newZoomLevel <= this.minZoomLevel || newZoomLevel >= this.maxZoomLevel) {\n      return;\n    }\n\n    // Check if zooming is enabled or not\n    if (!this.enableZoom) {\n      return;\n    }\n\n    if (this.panOnZoom === true && $event) {\n      // Absolute mouse X/Y on the screen\n      const mouseX = $event.clientX;\n      const mouseY = $event.clientY;\n\n      // Transform the mouse X/Y into a SVG X/Y\n      const svg = this.chart.nativeElement.querySelector('svg');\n      const svgGroup = svg.querySelector('g.chart');\n\n      const point = svg.createSVGPoint();\n      point.x = mouseX;\n      point.y = mouseY;\n      const svgPoint = point.matrixTransform(svgGroup.getScreenCTM().inverse());\n\n      // Panzoom\n      this.pan(svgPoint.x, svgPoint.y, true);\n      this.zoom(zoomFactor);\n      this.pan(-svgPoint.x, -svgPoint.y, true);\n    } else {\n      this.zoom(zoomFactor);\n    }\n  }\n\n  /**\n   * Pan by x/y\n   *\n   * @param x\n   * @param y\n   */\n  pan(x: number, y: number, ignoreZoomLevel: boolean = false): void {\n    const zoomLevel = ignoreZoomLevel ? 1 : this.zoomLevel;\n    this.transformationMatrix = transform(this.transformationMatrix, translate(x / zoomLevel, y / zoomLevel));\n\n    this.updateTransform();\n  }\n\n  /**\n   * Pan to a fixed x/y\n   *\n   */\n  panTo(x: number, y: number): void {\n    if (x === null || x === undefined || isNaN(x) || y === null || y === undefined || isNaN(y)) {\n      return;\n    }\n\n    const panX = -this.panOffsetX - x * this.zoomLevel + this.dims.width / 2;\n    const panY = -this.panOffsetY - y * this.zoomLevel + this.dims.height / 2;\n\n    this.transformationMatrix = transform(\n      this.transformationMatrix,\n      translate(panX / this.zoomLevel, panY / this.zoomLevel)\n    );\n\n    this.updateTransform();\n  }\n\n  /**\n   * Zoom by a factor\n   *\n   */\n  zoom(factor: number): void {\n    this.transformationMatrix = transform(this.transformationMatrix, scale(factor, factor));\n    this.zoomChange.emit(this.zoomLevel);\n    this.updateTransform();\n  }\n\n  /**\n   * Zoom to a fixed level\n   *\n   */\n  zoomTo(level: number): void {\n    this.transformationMatrix.a = isNaN(level) ? this.transformationMatrix.a : Number(level);\n    this.transformationMatrix.d = isNaN(level) ? this.transformationMatrix.d : Number(level);\n    this.zoomChange.emit(this.zoomLevel);\n    this.updateTransform();\n    this.update();\n  }\n\n  /**\n   * Drag was invoked from an event\n   *\n   * @memberOf GraphComponent\n   */\n  onDrag(event: MouseEvent): void {\n    if (!this.draggingEnabled) {\n      return;\n    }\n    const node = this.draggingNode;\n    if (this.layout && typeof this.layout !== 'string' && this.layout.onDrag) {\n      this.layout.onDrag(node, event);\n    }\n\n    node.position.x += event.movementX / this.zoomLevel;\n    node.position.y += event.movementY / this.zoomLevel;\n\n    // move the node\n    const x = node.position.x - node.dimension.width / 2;\n    const y = node.position.y - node.dimension.height / 2;\n    node.transform = `translate(${x}, ${y})`;\n\n    for (const link of this.graph.edges) {\n      if (\n        link.target === node.id ||\n        link.source === node.id ||\n        (link.target as any).id === node.id ||\n        (link.source as any).id === node.id\n      ) {\n        if (this.layout && typeof this.layout !== 'string') {\n          const result = this.layout.updateEdge(this.graph, link);\n          const result$ = result instanceof Observable ? result : of(result);\n          this.graphSubscription.add(\n            result$.subscribe(graph => {\n              this.graph = graph;\n              this.redrawEdge(link);\n            })\n          );\n        }\n      }\n    }\n\n    this.redrawLines(false);\n    this.updateMinimap();\n  }\n\n  redrawEdge(edge: Edge) {\n    const line = this.generateLine(edge.points);\n    this.calcDominantBaseline(edge);\n    edge.oldLine = edge.line;\n    edge.line = line;\n  }\n\n  /**\n   * Update the entire view for the new pan position\n   *\n   *\n   * @memberOf GraphComponent\n   */\n  updateTransform(): void {\n    this.transform = toSVG(smoothMatrix(this.transformationMatrix, 100));\n  }\n\n  /**\n   * Node was clicked\n   *\n   *\n   * @memberOf GraphComponent\n   */\n  onClick(event: any): void {\n    this.select.emit(event);\n  }\n\n  /**\n   * Node was focused\n   *\n   *\n   * @memberOf GraphComponent\n   */\n  onActivate(event): void {\n    if (this.activeEntries.indexOf(event) > -1) {\n      return;\n    }\n    this.activeEntries = [event, ...this.activeEntries];\n    this.activate.emit({ value: event, entries: this.activeEntries });\n  }\n\n  /**\n   * Node was defocused\n   *\n   * @memberOf GraphComponent\n   */\n  onDeactivate(event): void {\n    const idx = this.activeEntries.indexOf(event);\n\n    this.activeEntries.splice(idx, 1);\n    this.activeEntries = [...this.activeEntries];\n\n    this.deactivate.emit({ value: event, entries: this.activeEntries });\n  }\n\n  /**\n   * Get the domain series for the nodes\n   *\n   * @memberOf GraphComponent\n   */\n  getSeriesDomain(): any[] {\n    return this.nodes\n      .map(d => this.groupResultsBy(d))\n      .reduce((nodes: string[], node): any[] => (nodes.indexOf(node) !== -1 ? nodes : nodes.concat([node])), [])\n      .sort();\n  }\n\n  /**\n   * Tracking for the link\n   *\n   *\n   * @memberOf GraphComponent\n   */\n  trackLinkBy(index: number, link: Edge): any {\n    return link.id;\n  }\n\n  /**\n   * Tracking for the node\n   *\n   *\n   * @memberOf GraphComponent\n   */\n  trackNodeBy(index: number, node: Node): any {\n    return node.id;\n  }\n\n  /**\n   * Sets the colors the nodes\n   *\n   *\n   * @memberOf GraphComponent\n   */\n  setColors(): void {\n    this.colors = new ColorHelper(this.scheme, 'ordinal', this.seriesDomain, this.customColors);\n  }\n\n  /**\n   * Gets the legend options\n   *\n   * @memberOf GraphComponent\n   */\n  getLegendOptions(): any {\n    return {\n      scaleType: 'ordinal',\n      domain: this.seriesDomain,\n      colors: this.colors\n    };\n  }\n\n  /**\n   * On mouse move event, used for panning and dragging.\n   *\n   * @memberOf GraphComponent\n   */\n  @HostListener('document:mousemove', ['$event'])\n  onMouseMove($event: MouseEvent): void {\n    this.isMouseMoveCalled = true;\n    if ((this.isPanning || this.isMinimapPanning) && this.panningEnabled) {\n      this.panWithConstraints(this.panningAxis, $event);\n    } else if (this.isDragging && this.draggingEnabled) {\n      this.onDrag($event);\n    }\n  }\n\n  @HostListener('document:mousedown', ['$event'])\n  onMouseDown(event: MouseEvent): void {\n    this.isMouseMoveCalled = false;\n  }\n\n  @HostListener('document:click', ['$event'])\n  graphClick(event: MouseEvent): void {\n    if (!this.isMouseMoveCalled) this.clickHandler.emit(event);\n  }\n\n  /**\n   * On touch start event to enable panning.\n   *\n   * @memberOf GraphComponent\n   */\n  onTouchStart(event: any): void {\n    this._touchLastX = event.changedTouches[0].clientX;\n    this._touchLastY = event.changedTouches[0].clientY;\n\n    this.isPanning = true;\n  }\n\n  /**\n   * On touch move event, used for panning.\n   *\n   */\n  @HostListener('document:touchmove', ['$event'])\n  onTouchMove($event: any): void {\n    if (this.isPanning && this.panningEnabled) {\n      const clientX = $event.changedTouches[0].clientX;\n      const clientY = $event.changedTouches[0].clientY;\n      const movementX = clientX - this._touchLastX;\n      const movementY = clientY - this._touchLastY;\n      this._touchLastX = clientX;\n      this._touchLastY = clientY;\n\n      this.pan(movementX, movementY);\n    }\n  }\n\n  /**\n   * On touch end event to disable panning.\n   *\n   * @memberOf GraphComponent\n   */\n  onTouchEnd(event: any) {\n    this.isPanning = false;\n  }\n\n  /**\n   * On mouse up event to disable panning/dragging.\n   *\n   * @memberOf GraphComponent\n   */\n  @HostListener('document:mouseup', ['$event'])\n  onMouseUp(event: MouseEvent): void {\n    this.isDragging = false;\n    this.isPanning = false;\n    this.isMinimapPanning = false;\n    if (this.layout && typeof this.layout !== 'string' && this.layout.onDragEnd) {\n      this.layout.onDragEnd(this.draggingNode, event);\n    }\n  }\n\n  /**\n   * On node mouse down to kick off dragging\n   *\n   * @memberOf GraphComponent\n   */\n  onNodeMouseDown(event: MouseEvent, node: any): void {\n    if (!this.draggingEnabled) {\n      return;\n    }\n    this.isDragging = true;\n    this.draggingNode = node;\n\n    if (this.layout && typeof this.layout !== 'string' && this.layout.onDragStart) {\n      this.layout.onDragStart(node, event);\n    }\n  }\n\n  /**\n   * On minimap drag mouse down to kick off minimap panning\n   *\n   * @memberOf GraphComponent\n   */\n  onMinimapDragMouseDown(): void {\n    this.isMinimapPanning = true;\n  }\n\n  /**\n   * On minimap pan event. Pans the graph to the clicked position\n   *\n   * @memberOf GraphComponent\n   */\n  onMinimapPanTo(event: MouseEvent): void {\n    let x =\n      event.offsetX - (this.dims.width - (this.graphDims.width + this.minimapOffsetX) / this.minimapScaleCoefficient);\n    let y = event.offsetY + this.minimapOffsetY / this.minimapScaleCoefficient;\n\n    this.panTo(x * this.minimapScaleCoefficient, y * this.minimapScaleCoefficient);\n    this.isMinimapPanning = true;\n  }\n\n  /**\n   * Center the graph in the viewport\n   */\n  center(): void {\n    this.panTo(this.graphDims.width / 2, this.graphDims.height / 2);\n  }\n\n  /**\n   * Zooms to fit the entier graph\n   */\n  zoomToFit(): void {\n    const heightZoom = this.dims.height / this.graphDims.height;\n    const widthZoom = this.dims.width / this.graphDims.width;\n    let zoomLevel = Math.min(heightZoom, widthZoom, 1);\n\n    if (zoomLevel < this.minZoomLevel) {\n      zoomLevel = this.minZoomLevel;\n    }\n\n    if (zoomLevel > this.maxZoomLevel) {\n      zoomLevel = this.maxZoomLevel;\n    }\n\n    if (zoomLevel !== this.zoomLevel) {\n      this.zoomLevel = zoomLevel;\n      this.updateTransform();\n      this.zoomChange.emit(this.zoomLevel);\n    }\n  }\n\n  /**\n   * Pans to the node\n   * @param nodeId\n   */\n  panToNodeId(nodeId: string): void {\n    const node = this.graph.nodes.find(n => n.id === nodeId);\n    if (!node) {\n      return;\n    }\n\n    this.panTo(node.position.x, node.position.y);\n  }\n\n  private panWithConstraints(key: string, event: MouseEvent) {\n    let x = event.movementX;\n    let y = event.movementY;\n    if (this.isMinimapPanning) {\n      x = -this.minimapScaleCoefficient * x * this.zoomLevel;\n      y = -this.minimapScaleCoefficient * y * this.zoomLevel;\n    }\n\n    switch (key) {\n      case PanningAxis.Horizontal:\n        this.pan(x, 0);\n        break;\n      case PanningAxis.Vertical:\n        this.pan(0, y);\n        break;\n      default:\n        this.pan(x, y);\n        break;\n    }\n  }\n\n  private updateMidpointOnEdge(edge: Edge, points: any): void {\n    if (!edge || !points) {\n      return;\n    }\n\n    if (points.length % 2 === 1) {\n      edge.midPoint = points[Math.floor(points.length / 2)];\n    } else {\n      const _first = points[points.length / 2];\n      const _second = points[points.length / 2 - 1];\n      edge.midPoint = {\n        x: (_first.x + _second.x) / 2,\n        y: (_first.y + _second.y) / 2\n      };\n    }\n  }\n}\n","import { Directive, Output, HostListener, EventEmitter } from '@angular/core';\n\n/**\n * Mousewheel directive\n * https://github.com/SodhanaLibrary/angular2-examples/blob/master/app/mouseWheelDirective/mousewheel.directive.ts\n *\n * @export\n */\n// tslint:disable-next-line: directive-selector\n@Directive({ selector: '[mouseWheel]' })\nexport class MouseWheelDirective {\n  @Output()\n  mouseWheelUp = new EventEmitter();\n  @Output()\n  mouseWheelDown = new EventEmitter();\n\n  @HostListener('mousewheel', ['$event'])\n  onMouseWheelChrome(event: any): void {\n    this.mouseWheelFunc(event);\n  }\n\n  @HostListener('DOMMouseScroll', ['$event'])\n  onMouseWheelFirefox(event: any): void {\n    this.mouseWheelFunc(event);\n  }\n\n  @HostListener('wheel', ['$event'])\n  onWheel(event: any): void {\n    this.mouseWheelFunc(event);\n  }\n\n  @HostListener('onmousewheel', ['$event'])\n  onMouseWheelIE(event: any): void {\n    this.mouseWheelFunc(event);\n  }\n\n  mouseWheelFunc(event: any): void {\n    if (window.event) {\n      event = window.event;\n    }\n\n    const delta: number = Math.max(-1, Math.min(1, event.wheelDelta || -event.detail || event.deltaY || event.deltaX));\n    // Firefox don't have native support for wheel event, as a result delta values are reverse\n    const isWheelMouseUp: boolean = event.wheelDelta ? delta > 0 : delta < 0;\n    const isWheelMouseDown: boolean = event.wheelDelta ? delta < 0 : delta > 0;\n    if (isWheelMouseUp) {\n      this.mouseWheelUp.emit(event);\n    } else if (isWheelMouseDown) {\n      this.mouseWheelDown.emit(event);\n    }\n\n    // for IE\n    event.returnValue = false;\n\n    // for Chrome and Firefox\n    if (event.preventDefault) {\n      event.preventDefault();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { GraphComponent } from './graph.component';\nimport { ChartCommonModule } from '@swimlane/ngx-charts';\nimport { MouseWheelDirective } from './mouse-wheel.directive';\nimport { LayoutService } from './layouts/layout.service';\nexport { GraphComponent };\n\n@NgModule({\n  imports: [ChartCommonModule],\n  declarations: [GraphComponent, MouseWheelDirective],\n  exports: [GraphComponent, MouseWheelDirective],\n  providers: [LayoutService]\n})\nexport class GraphModule {}\n","import { NgModule } from '@angular/core';\nimport { GraphModule } from './graph/graph.module';\nimport { NgxChartsModule } from '@swimlane/ngx-charts';\n\n@NgModule({\n  imports: [NgxChartsModule],\n  exports: [GraphModule]\n})\nexport class NgxGraphModule {}\n","/*\n * Public API Surface of ngx-graph\n */\n\nexport * from './lib/ngx-graph.module';\n\nexport * from './lib/models/edge.model';\nexport * from './lib/models/graph.model';\nexport * from './lib/models/layout.model';\nexport * from './lib/models/node.model';\n\nexport * from './lib/graph/graph.component';\nexport * from './lib/graph/graph.module';\n\nexport * from './lib/graph/mouse-wheel.directive';\nexport * from './lib/graph/layouts/colaForceDirected';\nexport * from './lib/graph/layouts/customLayouts';\nexport * from './lib/graph/layouts/d3ForceDirected';\nexport * from './lib/graph/layouts/dagre';\nexport * from './lib/graph/layouts/dagreCluster';\nexport * from './lib/graph/layouts/dagreNodesOnly';\n\nexport * from './lib/enums/mini-map-position.enum';\nexport * from './lib/enums/panning.enum';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {LayoutService as a} from './lib/graph/layouts/layout.service';\nexport {throttleable as b} from './lib/utils/throttle';"]}