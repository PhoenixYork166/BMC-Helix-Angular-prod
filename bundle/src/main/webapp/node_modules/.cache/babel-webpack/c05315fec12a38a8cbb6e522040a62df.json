{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Injectable, Inject, InjectionToken, isDevMode, LOCALE_ID, Injector, NgModule, ɵmakeDecorator, Component, Pipe, ErrorHandler } from '@angular/core';\nimport * as i1 from '@angular/common/http';\nimport { HttpClient, HttpParams, HttpHeaders, HttpResponse, HTTP_INTERCEPTORS, HttpErrorResponse } from '@angular/common/http';\nimport { of, BehaviorSubject, ReplaySubject, forkJoin, Observable, iif, combineLatest, Subject, throwError, EMPTY, concat, timer, from } from 'rxjs';\nimport { find, isString, includes, words, upperFirst, last, isUndefined, intersection, defaults, camelCase, findKey, some, head, isEmpty, isNil, values, toNumber, get, isNull, forOwn, isEqual, debounce, isNaN, noop, endsWith, forEach, flow, flatten, map as map$1, uniq, compact, sortBy, filter as filter$1, truncate, reject, cloneDeep, isRegExp, chain, startsWith, isArray, every, has, clone, assign } from 'lodash';\nimport { map, tap, shareReplay, switchMap, filter, take, mapTo, catchError, first, switchMapTo, takeUntil, startWith } from 'rxjs/operators';\nimport * as i3$1 from '@angular/common';\nimport { DOCUMENT, registerLocaleData, CommonModule } from '@angular/common';\nimport moment from 'moment-es6';\nimport * as i4 from '@bmc-ux/adapt-angular';\nimport { AdaptToastModule, AdaptButtonModule } from '@bmc-ux/adapt-angular';\nimport * as i2 from '@ngx-translate/core';\nimport { TranslateModule, TranslateLoader, MissingTranslationHandler, TranslateService } from '@ngx-translate/core';\nimport localeDa from '@angular/common/locales/da';\nimport localeDe from '@angular/common/locales/de';\nimport localeEs from '@angular/common/locales/es';\nimport localeFr from '@angular/common/locales/fr';\nimport localeIt from '@angular/common/locales/it';\nimport localeJa from '@angular/common/locales/ja';\nimport localeKo from '@angular/common/locales/ko';\nimport localeNb from '@angular/common/locales/nb';\nimport localeNl from '@angular/common/locales/nl';\nimport localePt from '@angular/common/locales/pt';\nimport localeRu from '@angular/common/locales/ru';\nimport localeSv from '@angular/common/locales/sv';\nimport localeZhHans from '@angular/common/locales/zh-Hans';\nimport * as i3 from '@angular/router';\nimport { NavigationEnd, DefaultUrlSerializer, NavigationCancel } from '@angular/router';\nimport * as i2$1 from '@helix/platform/ui-kit';\nimport { ValidationIssueType } from '@helix/platform/ui-kit';\nimport * as i2$2 from '@helix/platform/utils';\nimport { RxError, RxStringService } from '@helix/platform/utils';\nimport * as i1$1 from '@angular/platform-browser';\nfunction RxSessionExpirationComponent_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function RxSessionExpirationComponent_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.close();\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RxSessionExpirationComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"com.bmc.arsys.rx.client.session-expiration-dialog.idle-session-message1\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 4, \"com.bmc.arsys.rx.client.session-expiration-dialog.idle-session-message2\"));\n  }\n}\nfunction RxSessionExpirationComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"com.bmc.arsys.rx.client.session-expiration-dialog.expiring-session-message1\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 4, \"com.bmc.arsys.rx.client.session-expiration-dialog.expiring-session-message2\"));\n  }\n}\nfunction RxSessionExpirationComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.remainingTime, \" \");\n  }\n}\nfunction RxSessionExpirationComponent_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function RxSessionExpirationComponent_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.keepAlive();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r4.isLoading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 2, \"com.bmc.arsys.rx.client.common.continue.label\"), \" \");\n  }\n}\nfunction RxSessionExpirationComponent_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function RxSessionExpirationComponent_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.logout();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r5.isLoading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 2, \"com.bmc.arsys.rx.client.common.sign-out.label\"), \" \");\n  }\n}\nfunction RxSessionExpirationComponent_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function RxSessionExpirationComponent_button_12_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.close();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"com.bmc.arsys.rx.client.common.ok.label\"), \" \");\n  }\n}\nconst RX_DATA_PAGE = {\n  defaultPageSize: 50,\n  emptyDataPage: {\n    data: [],\n    totalSize: 0\n  }\n};\nconst DATA_PAGE_API_URL = '/api/rx/application/datapage';\nclass DataPage {\n  constructor(injector, dataPageType, defaultDataPageRequestConfiguration = {}) {\n    this.requiredRequestParams = {\n      pageSize: -1,\n      startIndex: 0\n    };\n    this.http = injector.get(HttpClient);\n    this.dataPageType = dataPageType;\n    this.configuration = defaultDataPageRequestConfiguration;\n  }\n  get(dataPageRequestConfiguration = {}) {\n    const requestParams = Object.assign(Object.assign(Object.assign({}, this.requiredRequestParams), this.configuration.params), dataPageRequestConfiguration.params);\n    const requestHeaders = Object.assign(Object.assign({}, this.configuration.headers), dataPageRequestConfiguration.headers);\n    let params = new HttpParams().set('dataPageType', this.dataPageType);\n    Object.keys(requestParams).forEach(name => {\n      params = params.set(name, String(requestParams[name]));\n    });\n    return this.http.get(DATA_PAGE_API_URL, {\n      headers: new HttpHeaders(requestHeaders),\n      params\n    });\n  }\n  getEmptyDataPage() {\n    return of(RX_DATA_PAGE.emptyDataPage);\n  }\n  post(dataPageRequestConfiguration = {}) {\n    const requestParams = Object.assign(Object.assign(Object.assign({}, this.requiredRequestParams), this.configuration.params), dataPageRequestConfiguration.params);\n    const requestHeaders = Object.assign(Object.assign({}, this.configuration.headers), dataPageRequestConfiguration.headers);\n    const requestBody = {\n      values: {\n        dataPageType: this.dataPageType\n      }\n    };\n    Object.keys(requestParams).forEach(name => {\n      requestBody.values[name] = String(requestParams[name]);\n    });\n    return this.http.post(DATA_PAGE_API_URL, requestBody, {\n      headers: new HttpHeaders(requestHeaders)\n    });\n  }\n}\nclass RxActionTypeDataPageService extends DataPage {\n  constructor(injector) {\n    super(injector, 'com.bmc.arsys.rx.application.action.datapage.ActionTypeDataPageQuery');\n    this.injector = injector;\n  }\n}\nRxActionTypeDataPageService.ɵfac = function RxActionTypeDataPageService_Factory(t) {\n  return new (t || RxActionTypeDataPageService)(i0.ɵɵinject(i0.Injector));\n};\nRxActionTypeDataPageService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxActionTypeDataPageService,\n  factory: RxActionTypeDataPageService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxActionTypeDataPageService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i0.Injector\n    }];\n  }, null);\n})();\nclass RxDefinitionNameService {\n  getDisplayName(definitionName) {\n    const name = definitionName || '';\n    return name.substring(name.lastIndexOf(':') + 1);\n  }\n  getDisplayNameForValidation(definitionName) {\n    const name = definitionName || '';\n    return name.substring(name.indexOf(':') + 1);\n  }\n  getDefinitionName(bundleId, displayName) {\n    return `${bundleId}:${displayName}`;\n  }\n  getBundleId(definitionName) {\n    const name = definitionName || '';\n    const matches = name.match(/(.+):/);\n    return matches && matches.pop() || '';\n  }\n}\nRxDefinitionNameService.ɵfac = function RxDefinitionNameService_Factory(t) {\n  return new (t || RxDefinitionNameService)();\n};\nRxDefinitionNameService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxDefinitionNameService,\n  factory: RxDefinitionNameService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxDefinitionNameService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nclass RxActionTypeUtilsService {\n  constructor(rxDefinitionNameService) {\n    this.rxDefinitionNameService = rxDefinitionNameService;\n  }\n  getActionTypeBundleFriendlyName(bundleDescriptors, actionType) {\n    var _a;\n    const bundleId = this.rxDefinitionNameService.getBundleId(actionType.actionTypeName);\n    return bundleId && ((_a = find(bundleDescriptors, {\n      id: bundleId\n    })) === null || _a === void 0 ? void 0 : _a.friendlyName) || '';\n  }\n  isActionParameterArrayOrList(actionParameter) {\n    return isString(actionParameter.dataType) && /^java\\.util\\.List.*|.*\\[.*].*/.test(actionParameter.dataType);\n  }\n  prettifyActionTypeName(actionTypeName) {\n    let result = this.rxDefinitionNameService.getDisplayName(actionTypeName);\n    if (!includes(actionTypeName, ' ')) {\n      result = words(result, /[a-z|A-Z|0-9]+?([A-Z|0-9]*)+?([-_a-z|0-9]*)+/g).map((value, index) => index === 0 ? upperFirst(value) : value).join(' ');\n    }\n    return result;\n  }\n}\nRxActionTypeUtilsService.ɵfac = function RxActionTypeUtilsService_Factory(t) {\n  return new (t || RxActionTypeUtilsService)(i0.ɵɵinject(RxDefinitionNameService));\n};\nRxActionTypeUtilsService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxActionTypeUtilsService,\n  factory: RxActionTypeUtilsService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxActionTypeUtilsService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxDefinitionNameService\n    }];\n  }, null);\n})();\nclass Command {\n  constructor(resourceType, httpClient) {\n    this.resourceType = resourceType;\n    this.httpClient = httpClient;\n  }\n  execute(data, options) {\n    const payload = data instanceof FormData ? data : Object.assign(Object.assign({}, data), {\n      resourceType: this.resourceType\n    });\n    return this.httpClient.post('/api/rx/application/command', payload, options);\n  }\n}\nclass RxCommandFactoryService {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n  }\n  forResourceType(resourceType) {\n    return new Command(resourceType, this.httpClient);\n  }\n}\nRxCommandFactoryService.ɵfac = function RxCommandFactoryService_Factory(t) {\n  return new (t || RxCommandFactoryService)(i0.ɵɵinject(i1.HttpClient));\n};\nRxCommandFactoryService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxCommandFactoryService,\n  factory: RxCommandFactoryService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxCommandFactoryService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1.HttpClient\n    }];\n  }, null);\n})();\nconst API_URL = '/api/rx/application/admin-settings/local';\nconst SETTINGS_API_URL = '/api/rx/application/admin-settings/component';\nclass RxAdminSettingsService {\n  constructor(httpClient, rxCommandFactoryService) {\n    this.httpClient = httpClient;\n    this.rxCommandFactoryService = rxCommandFactoryService;\n  }\n  getComponentGridData(componentName, customHeaders) {\n    return this.httpClient.get(`${API_URL}/component-griddata/${componentName}`, {\n      headers: new HttpHeaders(customHeaders || {})\n    });\n  }\n  getComponentDefinition(componentName, customHeaders) {\n    return this.httpClient.get(`${API_URL}/component-definition/${componentName}`, {\n      headers: new HttpHeaders(customHeaders || {})\n    });\n  }\n  getAdminNavigationMenuItems() {\n    return this.httpClient.get(`${API_URL}/navigation-menu`).pipe(map(navigationMenu => navigationMenu.AdminNavigationMenu.items));\n  }\n  getComponentSettings(componentName, customHeaders) {\n    return this.httpClient.get(`${API_URL}/component-settings/${componentName}`, {\n      headers: new HttpHeaders(customHeaders || {})\n    });\n  }\n  deleteComponentSettings(componentName, customHeaders) {\n    return this.httpClient.delete(`${API_URL}/component-settings/${componentName}`, {\n      headers: new HttpHeaders(customHeaders || {})\n    });\n  }\n  createComponentSettings(componentName, data, customHeaders) {\n    return this.httpClient.post(`${API_URL}/component-settings/${componentName}`, data, {\n      headers: new HttpHeaders(customHeaders || {}),\n      observe: 'response'\n    }).pipe(map(response => {\n      var _a;\n      return last((_a = response.headers.get('location')) === null || _a === void 0 ? void 0 : _a.split('/')) || '';\n    }));\n  }\n  updateComponentSettings(componentName, data, customHeaders) {\n    return this.httpClient.put(`${API_URL}/component-settings/${componentName}`, data, {\n      headers: new HttpHeaders(customHeaders || {})\n    });\n  }\n  getAdminSetting(componentName, customHeaders) {\n    return this.httpClient.get(`${SETTINGS_API_URL}/${componentName}`, {\n      headers: new HttpHeaders(customHeaders || {})\n    });\n  }\n  createAdminSetting(data) {\n    return this.httpClient.post(SETTINGS_API_URL, data);\n  }\n  updateAdminSetting(data) {\n    return this.httpClient.put(`${SETTINGS_API_URL}/${data.componentName}`, data);\n  }\n  deleteAdminSetting(definitionNames) {\n    return this.rxCommandFactoryService.forResourceType('com.bmc.arsys.rx.application.admin.command.DeleteAdminSettingsComponentDefinitionsCommand').execute({\n      definitionNames\n    });\n  }\n}\nRxAdminSettingsService.ɵfac = function RxAdminSettingsService_Factory(t) {\n  return new (t || RxAdminSettingsService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(RxCommandFactoryService));\n};\nRxAdminSettingsService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxAdminSettingsService,\n  factory: RxAdminSettingsService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxAdminSettingsService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1.HttpClient\n    }, {\n      type: RxCommandFactoryService\n    }];\n  }, null);\n})();\nconst RX_ADMINISTRATION = {\n  settingNames: {\n    newApplicationUiOptOut: 'New application UI opt out',\n    newViewDesignerOptOut: 'New view designer opt out'\n  },\n  systemConfigurationUrl: '/api/rx/application/systemconfiguration',\n  submitterModes: {\n    locked: 1\n  },\n  configurationSettingTypes: {\n    shared: {\n      configurationType: 'shared-settings',\n      value: 'shared'\n    },\n    inbundle: {\n      configurationType: 'in-bundle-settings',\n      value: 'inBundle'\n    },\n    external: {\n      configurationType: 'external-settings',\n      value: 'external'\n    }\n  },\n  settingAccessOptions: {\n    application: {\n      value: 'Application'\n    },\n    innovationStudio: {\n      value: 'InnovationStudio'\n    },\n    both: {\n      value: 'Both'\n    },\n    none: {\n      value: 'None'\n    }\n  }\n};\nclass RxSystemConfigurationService {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n    this.systemConfigurations = {};\n  }\n  initialize() {\n    return this.queryConfiguration(['Submitter-Mode']).pipe(tap(systemConfigurations => {\n      this.systemConfigurations = systemConfigurations.reduce((configs, systemConfiguration) => {\n        configs[systemConfiguration.id] = systemConfiguration.value;\n        return configs;\n      }, {});\n    }));\n  }\n  getConfigurationSync(identifier) {\n    if (this.systemConfigurations) {\n      const configValue = this.systemConfigurations[identifier];\n      if (isUndefined(configValue)) {\n        throw new Error(`System configuration ${identifier} is not available.`);\n      }\n      return configValue;\n    } else {\n      throw new Error('System configuration service is not initialized.');\n    }\n  }\n  getConfiguration(configurationName) {\n    return this.httpClient.get(`${RX_ADMINISTRATION.systemConfigurationUrl}/${configurationName}`);\n  }\n  setConfiguration(configurationName, configurationValue) {\n    return this.httpClient.put(`${RX_ADMINISTRATION.systemConfigurationUrl}/${configurationName}`, {\n      name: configurationName,\n      value: isString(configurationValue) ? configurationValue : JSON.stringify(configurationValue)\n    });\n  }\n  queryConfiguration(identifiers) {\n    const queryString = identifiers.map(identifier => `identifier=${encodeURIComponent(identifier)}`).join('&');\n    return this.httpClient.get(`${RX_ADMINISTRATION.systemConfigurationUrl}/query?${queryString}`);\n  }\n}\nRxSystemConfigurationService.ɵfac = function RxSystemConfigurationService_Factory(t) {\n  return new (t || RxSystemConfigurationService)(i0.ɵɵinject(i1.HttpClient));\n};\nRxSystemConfigurationService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxSystemConfigurationService,\n  factory: RxSystemConfigurationService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxSystemConfigurationService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1.HttpClient\n    }];\n  }, null);\n})();\nclass RxDataPageFactoryService {\n  constructor(injector) {\n    this.injector = injector;\n  }\n  withType(dataPageType, defaultDataPageRequestConfiguration) {\n    return new DataPage(this.injector, dataPageType, defaultDataPageRequestConfiguration);\n  }\n}\nRxDataPageFactoryService.ɵfac = function RxDataPageFactoryService_Factory(t) {\n  return new (t || RxDataPageFactoryService)(i0.ɵɵinject(i0.Injector));\n};\nRxDataPageFactoryService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxDataPageFactoryService,\n  factory: RxDataPageFactoryService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxDataPageFactoryService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i0.Injector\n    }];\n  }, null);\n})();\nclass RxAdminComponentDataPageService extends DataPage {\n  constructor(injector) {\n    super(injector, 'com.bmc.arsys.rx.application.admin.datapage.AdminComponentDataPageQuery');\n    this.injector = injector;\n  }\n}\nRxAdminComponentDataPageService.ɵfac = function RxAdminComponentDataPageService_Factory(t) {\n  return new (t || RxAdminComponentDataPageService)(i0.ɵɵinject(i0.Injector));\n};\nRxAdminComponentDataPageService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxAdminComponentDataPageService,\n  factory: RxAdminComponentDataPageService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxAdminComponentDataPageService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i0.Injector\n    }];\n  }, null);\n})();\nconst RX_APPLICATION = {\n  platformBundleId: 'com.bmc.arsys.rx.client',\n  platformBundleIdPrefix: 'com.bmc.arsys.',\n  platformBundleIds: {\n    approvalCoreService: 'com.bmc.dsom.approval-core-service',\n    foundation: 'com.bmc.arsys.rx.foundation'\n  },\n  chatbotBundleId: 'com.bmc.dsm.chatbot',\n  settingsBundleId: 'com.bmc.arsys.rx.settings',\n  shellDefinitionName: 'BMC Modern Shell',\n  environmentConfigurationBundleId: 'com.bmc.arsys.rx.environment-configuration',\n  innovationStudioBundleId: 'com.bmc.arsys.rx.innovationstudio',\n  standardlib: 'standardlib',\n  approvalBundleId: 'com.bmc.arsys.rx.approval',\n  dataloadBundleId: 'com.bmc.arsys.rx.dataload',\n  angularJsApplicationBundleIds: ['com.bmc.arsys.rx.settings', 'com.bmc.bsm.chatops', 'com.bmc.dsm.chatbot', 'com.bmc.dsm.comaroundMigration', 'com.example.taskmanager', 'com.example.taskmanager-lib'],\n  angularJsViewDesignerBundleIds: ['com.example.taskmanager', 'com.example.taskmanager-lib'],\n  ipaasJitterbitBundleId: 'com.bmc.dsm.ipaas-jitterbit',\n  ipaasMulesoftBundleId: 'com.bmc.dsm.ipaas-mulesoft',\n  routeReuseStrategies: {\n    checkParentParams: 'checkParentParams'\n  }\n};\nclass RxBundleDataPageService extends DataPage {\n  constructor(injector) {\n    super(injector, 'com.bmc.arsys.rx.application.bundle.datapage.BundleDescriptorDataPageQuery', {\n      params: {\n        includeNonLicensedBundles: true\n      }\n    });\n    this.injector = injector;\n  }\n}\nRxBundleDataPageService.ɵfac = function RxBundleDataPageService_Factory(t) {\n  return new (t || RxBundleDataPageService)(i0.ɵɵinject(i0.Injector));\n};\nRxBundleDataPageService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxBundleDataPageService,\n  factory: RxBundleDataPageService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxBundleDataPageService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i0.Injector\n    }];\n  }, null);\n})();\nclass RxCurrentUserService {\n  constructor() {\n    this.userSubject$ = new BehaviorSubject(null);\n    this.user$ = this.userSubject$.asObservable().pipe(shareReplay(1));\n  }\n  getPreferredLocale() {\n    var _a, _b;\n    return (_b = (_a = this.get()) === null || _a === void 0 ? void 0 : _a.preferredLocale) !== null && _b !== void 0 ? _b : '';\n  }\n  getPreferredUserLocale() {\n    var _a, _b;\n    return (_b = (_a = this.get()) === null || _a === void 0 ? void 0 : _a.preferredUserLocale) !== null && _b !== void 0 ? _b : '';\n  }\n  getName() {\n    var _a, _b;\n    return (_b = (_a = this.get()) === null || _a === void 0 ? void 0 : _a.loginName) !== null && _b !== void 0 ? _b : '';\n  }\n  set(user) {\n    this.userSubject$.next(user);\n  }\n  get() {\n    return this.userSubject$.getValue();\n  }\n  isBusinessAnalyst() {\n    var _a, _b;\n    return (_b = (_a = this.get()) === null || _a === void 0 ? void 0 : _a.isBusinessAnalyst) !== null && _b !== void 0 ? _b : false;\n  }\n  isAdministrator() {\n    var _a, _b;\n    return (_b = (_a = this.get()) === null || _a === void 0 ? void 0 : _a.isAdministrator) !== null && _b !== void 0 ? _b : false;\n  }\n  getEditableBundles() {\n    var _a;\n    return ((_a = this.get()) === null || _a === void 0 ? void 0 : _a.editableBundles) || [];\n  }\n  isSupportStaff() {\n    var _a, _b;\n    return (_b = (_a = this.get()) === null || _a === void 0 ? void 0 : _a.supportStaff) !== null && _b !== void 0 ? _b : false;\n  }\n  isAvailableForAssignment() {\n    var _a, _b;\n    return (_b = (_a = this.get()) === null || _a === void 0 ? void 0 : _a.assignmentAvailable) !== null && _b !== void 0 ? _b : false;\n  }\n  setAssignmentAvailability(assignmentAvailable) {\n    const user = this.get();\n    if (user) {\n      user.assignmentAvailable = assignmentAvailable;\n    }\n  }\n}\nRxCurrentUserService.ɵfac = function RxCurrentUserService_Factory(t) {\n  return new (t || RxCurrentUserService)();\n};\nRxCurrentUserService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxCurrentUserService,\n  factory: RxCurrentUserService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxCurrentUserService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nvar LogCategory;\n(function (LogCategory) {\n  LogCategory[\"Sql\"] = \"sql\";\n  LogCategory[\"Api\"] = \"api\";\n  LogCategory[\"Rule\"] = \"rule\";\n  LogCategory[\"Process\"] = \"process\";\n  LogCategory[\"Bundle\"] = \"bundle\";\n  LogCategory[\"Cli\"] = \"cli\";\n  LogCategory[\"All\"] = \"all\";\n})(LogCategory || (LogCategory = {}));\nconst RX_LOG = {\n  serverLogCategories: [LogCategory.Sql, LogCategory.Api, LogCategory.Rule, LogCategory.Process, LogCategory.Bundle],\n  clientLogCategories: [LogCategory.Cli]\n};\nconst sessionLogCategoriesKey = 'RX_LOG_CATEGORIES';\n// tslint:disable:no-console\nclass RxLogService {\n  constructor(rxCurrentUserService) {\n    this.rxCurrentUserService = rxCurrentUserService;\n    this.serverCategories = '';\n    this.shouldLogEverything = false;\n    try {\n      const storedCategories = sessionStorage.getItem(sessionLogCategoriesKey);\n      this.categories = storedCategories ? JSON.parse(storedCategories) : [];\n    } catch (e) {\n      this.categories = [];\n    }\n    this.configure(this.categories);\n  }\n  get logCategories() {\n    return this.categories || [];\n  }\n  get serverLogCategories() {\n    return this.serverCategories;\n  }\n  configure(categories) {\n    this.shouldLogEverything = includes(categories, LogCategory.All);\n    this.serverCategories = this.shouldLogEverything ? RX_LOG.serverLogCategories.join(',') : intersection(categories, RX_LOG.serverLogCategories).join(',');\n    this.categories = this.shouldLogEverything ? [LogCategory.All] : categories;\n    this.categories.length ? sessionStorage.setItem(sessionLogCategoriesKey, JSON.stringify(this.categories)) : sessionStorage.removeItem(sessionLogCategoriesKey);\n  }\n  error(message) {\n    console.error(this.prepareLogMessage(message, 'E'));\n  }\n  warning(message) {\n    console.warn(this.prepareLogMessage(message, 'W'));\n  }\n  info(message) {\n    if (this.shouldLogEverything || includes(this.logCategories, LogCategory.Cli)) {\n      console.info(this.prepareLogMessage(message, 'I'));\n    }\n  }\n  debug(message) {\n    if (this.shouldLogEverything || includes(this.logCategories, LogCategory.Cli)) {\n      console.debug(this.prepareLogMessage(message, 'D'));\n    }\n  }\n  log(message) {\n    if (this.logCategories.length) {\n      console.log(message);\n    }\n  }\n  // tslint:disable:no-trailing-whitespace\n  prepareLogMessage(text, type) {\n    const currentUser = this.rxCurrentUserService.get();\n    return `<CLI${type}> ` + '<TID: 0000000000> ' + '<RPC ID: 0000000000> ' + '<Queue:           > ' + `<USER: ${currentUser ? currentUser.loginName : ''}                                        > ` + '<Tenant-ID:                                             > ' + `<Overlay-Group: ${currentUser ? currentUser.defaultOverlayGroupId : ''}         > ` + `/* ${moment().format('ddd MMM DD YYYY HH:mm:ss.SSSS')} */ ${text}`;\n  }\n}\nRxLogService.ɵfac = function RxLogService_Factory(t) {\n  return new (t || RxLogService)(i0.ɵɵinject(RxCurrentUserService));\n};\nRxLogService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxLogService,\n  factory: RxLogService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxLogService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxCurrentUserService\n    }];\n  }, null);\n})();\nvar RxBundleLoadType;\n(function (RxBundleLoadType) {\n  RxBundleLoadType[\"always\"] = \"always\";\n  RxBundleLoadType[\"lazy\"] = \"lazy\";\n  RxBundleLoadType[\"never\"] = \"never\";\n})(RxBundleLoadType || (RxBundleLoadType = {}));\nclass RxFunctionDataPageService extends DataPage {\n  constructor(injector) {\n    super(injector, 'com.bmc.arsys.rx.application.workflow.datapage.FunctionDescriptorDataPageQuery');\n    this.injector = injector;\n  }\n}\nRxFunctionDataPageService.ɵfac = function RxFunctionDataPageService_Factory(t) {\n  return new (t || RxFunctionDataPageService)(i0.ɵɵinject(i0.Injector));\n};\nRxFunctionDataPageService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxFunctionDataPageService,\n  factory: RxFunctionDataPageService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxFunctionDataPageService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i0.Injector\n    }];\n  }, null);\n})();\nclass RxGlobalCacheService {\n  constructor(rxBundleDataPageService, rxFunctionDataPageService, rxLogService) {\n    this.rxBundleDataPageService = rxBundleDataPageService;\n    this.rxFunctionDataPageService = rxFunctionDataPageService;\n    this.rxLogService = rxLogService;\n    this.bundleDescriptorsById = {};\n    this.bundleDescriptors = null;\n    this.functionDescriptors = null;\n    this.applicationIdValue = '';\n    this.applicationIdSubject = new ReplaySubject(1);\n    this.applicationId$ = this.applicationIdSubject.asObservable();\n  }\n  get applicationId() {\n    return this.applicationIdValue;\n  }\n  set applicationId(value) {\n    if (this.applicationIdValue !== value) {\n      this.applicationIdValue = value;\n      this.applicationIdSubject.next(value);\n      this.rxLogService.debug(`RxGlobalCacheService: application ID set to ${value}`);\n    }\n  }\n  getBundleDescriptors() {\n    if (!this.bundleDescriptors) {\n      this.bundleDescriptors = this.rxBundleDataPageService.get().pipe(map(bundleDescriptors => bundleDescriptors.data.map(dataPageData => {\n        var _a;\n        const defaultUiOptions = {\n          options: {\n            loadJs: RxBundleLoadType.always,\n            loadCss: RxBundleLoadType.always\n          }\n        };\n        let uiOptions;\n        try {\n          uiOptions = (_a = JSON.parse(dataPageData.uiOptions)) !== null && _a !== void 0 ? _a : defaultUiOptions;\n          if (Boolean(uiOptions.options) && typeof uiOptions.options === 'object') {\n            defaults(uiOptions.options, defaultUiOptions.options);\n          } else {\n            this.rxLogService.warning(`Invalid structure of uiOptions in bundle ${dataPageData.name}.`);\n            uiOptions = defaultUiOptions;\n          }\n        } catch (e) {\n          this.rxLogService.warning(`Cannot parse uiOptions in bundle ${dataPageData.name}.`);\n          uiOptions = defaultUiOptions;\n        }\n        return Object.assign(Object.assign({}, dataPageData), {\n          uiOptions\n        });\n      })), shareReplay(1));\n    }\n    return this.bundleDescriptors;\n  }\n  getFunctionDescriptors() {\n    if (!this.functionDescriptors) {\n      this.functionDescriptors = this.rxFunctionDataPageService.get().pipe(map(dataPage => dataPage.data), shareReplay(1));\n    }\n    return this.functionDescriptors;\n  }\n  getLicensedBundleDescriptors() {\n    return this.getBundleDescriptors().pipe(map(bundleDescriptors => bundleDescriptors.filter(bundleDescriptor => bundleDescriptor.isLicensed)));\n  }\n  getBundleDescriptor(bundleId) {\n    if (!this.bundleDescriptorsById[bundleId]) {\n      this.bundleDescriptorsById[bundleId] = this.getBundleDescriptors().pipe(map(bundleDescriptors => bundleDescriptors.find(bundleDescriptor => bundleDescriptor.id === bundleId)), shareReplay(1));\n    }\n    return this.bundleDescriptorsById[bundleId];\n  }\n  getApplicationBundleDescriptor() {\n    return this.applicationIdSubject.pipe(switchMap(applicationId => this.getBundleDescriptor(applicationId)));\n  }\n  _getBundleFriendlyName(descriptor, defaultValue) {\n    return (descriptor === null || descriptor === void 0 ? void 0 : descriptor.friendlyName) || (descriptor === null || descriptor === void 0 ? void 0 : descriptor.id) || defaultValue || '';\n  }\n  getBundleFriendlyName(bundleId, defaultValue) {\n    return this.getBundleDescriptor(bundleId).pipe(map(bundleDescriptor => this._getBundleFriendlyName(bundleDescriptor, defaultValue)));\n  }\n  getBundleDisplayName(bundleId) {\n    return this.getBundleDescriptor(bundleId).pipe(map(bundleDescriptor => this.applicationId !== RX_APPLICATION.innovationStudioBundleId && (bundleDescriptor === null || bundleDescriptor === void 0 ? void 0 : bundleDescriptor.localizedDisplayName) || this._getBundleFriendlyName(bundleDescriptor)));\n  }\n  clear() {\n    this.bundleDescriptorsById = {};\n    this.bundleDescriptors = null;\n    this.functionDescriptors = null;\n    this.rxLogService.debug('RxGlobalCacheService: cleared.');\n  }\n}\nRxGlobalCacheService.ɵfac = function RxGlobalCacheService_Factory(t) {\n  return new (t || RxGlobalCacheService)(i0.ɵɵinject(RxBundleDataPageService), i0.ɵɵinject(RxFunctionDataPageService), i0.ɵɵinject(RxLogService));\n};\nRxGlobalCacheService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxGlobalCacheService,\n  factory: RxGlobalCacheService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxGlobalCacheService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxBundleDataPageService\n    }, {\n      type: RxFunctionDataPageService\n    }, {\n      type: RxLogService\n    }];\n  }, null);\n})();\nclass RxBundleService {\n  constructor(document, compiler, httpClient, injector, rxGlobalCacheService, rxLogService) {\n    this.document = document;\n    this.compiler = compiler;\n    this.httpClient = httpClient;\n    this.injector = injector;\n    this.rxGlobalCacheService = rxGlobalCacheService;\n    this.rxLogService = rxLogService;\n    this.baseUrl = '/api/rx/application/bundle/bundledescriptor/';\n    this.bundleJs = {};\n    this.bundleCss = {};\n  }\n  get(bundleId, options) {\n    const url = this.baseUrl + bundleId;\n    return this.httpClient.get(url, options);\n  }\n  // During login we issue a call to bundle descriptor rest api to get the current bundle\n  // information. If the user is not logged in yet we have to call the jsonp\n  // version that does not return an object but a method passing the object:\n  // rxLoadBundles({...}).\n  // Since we do not have this method in Angular (not in bootstrap.js), the workaround is to\n  // read the jsonp answer as text, extract the content withing the method call using regexp\n  // and then parse the bundle descriptor object.\n  getFromJsonp(bundleId) {\n    return this.httpClient.get(this.baseUrl + bundleId + '/jsonp', {\n      responseType: 'text'\n    }).pipe(map(jsonpResult => {\n      return JSON.parse(/\\(([^)]+)\\)/.exec(jsonpResult)[1]);\n    }));\n  }\n  loadBundles(bundleIds, force) {\n    const loaders$ = bundleIds.map(bundleId => this.rxGlobalCacheService.getBundleDescriptor(bundleId).pipe(tap(bundleDescriptor => {\n      if (force || bundleDescriptor.uiOptions.options.loadCss === RxBundleLoadType.always || includes(bundleDescriptor.uiOptions.applicationInitializers, this.rxGlobalCacheService.applicationId)) {\n        this.loadBundleCss(bundleDescriptor);\n      }\n    }), switchMap(bundleDescriptor => force || bundleDescriptor.uiOptions.options.loadJs === RxBundleLoadType.always || includes(bundleDescriptor.uiOptions.applicationInitializers, this.rxGlobalCacheService.applicationId) ? this.loadBundle(bundleDescriptor) : of({\n      bundleId: bundleDescriptor.id,\n      isBundleCompiled: false,\n      isFileLoaded: false\n    }))));\n    return forkJoin(loaders$);\n  }\n  loadBundle(bundleDescriptor) {\n    if (!this.bundleJs[bundleDescriptor.id]) {\n      this.bundleJs[bundleDescriptor.id] = this.loadBundleJs(bundleDescriptor).pipe(switchMap(bundleContext => this.compileBundle(bundleContext)), shareReplay(1));\n    }\n    return this.bundleJs[bundleDescriptor.id];\n  }\n  compileBundle(bundleContext) {\n    return new Observable(observer => {\n      var _a, _b;\n      if (bundleContext.isFileLoaded) {\n        bundleContext.module.then(module => {\n          const moduleName = `${upperFirst(camelCase(bundleContext.bundleId))}Module`;\n          try {\n            const factory = this.compiler.compileModuleSync(module[moduleName]);\n            if (factory) {\n              factory.create(this.injector);\n              bundleContext.isBundleCompiled = true;\n              this.rxLogService.debug(`${bundleContext.bundleId}: loaded successfully.`);\n            } else {\n              this.rxLogService.error(`ERROR! ${bundleContext.bundleId}: cannot find module factory for ${moduleName}.`);\n            }\n          } catch (error) {\n            this.rxLogService.error(`ERROR! ${bundleContext.bundleId}:\\n${error}`);\n          }\n          observer.next(bundleContext);\n          observer.complete();\n        });\n      } else {\n        this.rxLogService.error(`ERROR! ${bundleContext.bundleId}:\\n${(_b = (_a = bundleContext.message) === null || _a === void 0 ? void 0 : _a.stack) !== null && _b !== void 0 ? _b : bundleContext.message}`);\n        observer.next(bundleContext);\n        observer.complete();\n      }\n    });\n  }\n  loadBundleJs(bundleDescriptor) {\n    const dasherizedBundleId = bundleDescriptor.id.replace(/\\./g, '-');\n    const cacheBuster = new Date(bundleDescriptor.lastDeployedTime).getTime();\n    const fileName = `../${bundleDescriptor.id}/scripts/libs_${dasherizedBundleId}_src_index_ts.js?_v=${cacheBuster}`;\n    const modulePathMapping = `./libs/${dasherizedBundleId}/src/index.ts`;\n    this.rxLogService.debug(`${bundleDescriptor.id}: loading from ${fileName}.`);\n    // WARNING! webpackIgnore comment below is critical for dynamic imports to work, DO NOT REMOVE!\n    const module = import( /* webpackIgnore: true */`${fileName}`).then(\n    // WARNING! comment below is critical for dynamic imports to work, DO NOT REMOVE!\n    // @ts-ignore\n    __webpack_require__.bind(null, `${modulePathMapping}`));\n    return new Observable(observer => {\n      module.then(() => {\n        observer.next({\n          bundleId: bundleDescriptor.id,\n          isBundleCompiled: false,\n          isFileLoaded: true,\n          module: module\n        });\n        observer.complete();\n      }, error => {\n        observer.next({\n          bundleId: bundleDescriptor.id,\n          isBundleCompiled: false,\n          isFileLoaded: false,\n          message: error\n        });\n        observer.complete();\n      });\n    });\n  }\n  loadBundleCss(bundleDescriptor) {\n    if (!this.bundleCss[bundleDescriptor.id]) {\n      const cacheBuster = new Date(bundleDescriptor.lastDeployedTime).getTime();\n      const link = document.createElement('link');\n      link.id = bundleDescriptor.id;\n      link.href = `/${bundleDescriptor.id}/scripts/${bundleDescriptor.id.replace(/\\./g, '-')}.css?_v=${cacheBuster}`;\n      link.type = 'text/css';\n      link.rel = 'stylesheet';\n      this.document.head.appendChild(link);\n      this.bundleCss[bundleDescriptor.id] = true;\n    }\n  }\n}\nRxBundleService.ɵfac = function RxBundleService_Factory(t) {\n  return new (t || RxBundleService)(i0.ɵɵinject(DOCUMENT), i0.ɵɵinject(i0.Compiler), i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i0.Injector), i0.ɵɵinject(RxGlobalCacheService), i0.ɵɵinject(RxLogService));\n};\nRxBundleService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxBundleService,\n  factory: RxBundleService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxBundleService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: i0.Compiler\n    }, {\n      type: i1.HttpClient\n    }, {\n      type: i0.Injector\n    }, {\n      type: RxGlobalCacheService\n    }, {\n      type: RxLogService\n    }];\n  }, null);\n})();\nconst bundleTypes = {\n  application: 'Application',\n  library: 'Library'\n};\nconst definitionScopeNames = {\n  application: bundleTypes.application,\n  library: bundleTypes.library,\n  public: 'Public'\n};\nconst definitionScopeTypes = {\n  bundle: 'BUNDLE',\n  public: 'PUBLIC'\n};\nconst RX_BUNDLE = {\n  bundleTypes,\n  definitionScopeNames,\n  definitionScopeTypes,\n  definitionScopes: {\n    application: {\n      displayName: definitionScopeNames.application,\n      type: definitionScopeTypes.bundle\n    },\n    library: {\n      displayName: definitionScopeNames.library,\n      type: definitionScopeTypes.bundle\n    },\n    public: {\n      displayName: definitionScopeNames.public,\n      type: definitionScopeTypes.public\n    }\n  },\n  applicationDefinitionScopeSelectionOptions: [{\n    id: definitionScopeTypes.bundle,\n    name: definitionScopeNames.application\n  }, {\n    id: definitionScopeTypes.public,\n    name: definitionScopeNames.public\n  }],\n  libraryDefinitionScopeSelectionOptions: [{\n    id: definitionScopeTypes.bundle,\n    name: definitionScopeNames.library\n  }, {\n    id: definitionScopeTypes.public,\n    name: definitionScopeNames.public\n  }]\n};\nclass RxDefinitionService {\n  getScopeName(definitionScopeType, bundleDescriptor) {\n    return definitionScopeType === RX_BUNDLE.definitionScopeTypes.bundle ? bundleDescriptor.isApplication ? RX_BUNDLE.definitionScopeNames.application : RX_BUNDLE.definitionScopeNames.library : RX_BUNDLE.definitionScopeNames.public;\n  }\n}\nRxDefinitionService.ɵfac = function RxDefinitionService_Factory(t) {\n  return new (t || RxDefinitionService)();\n};\nRxDefinitionService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxDefinitionService,\n  factory: RxDefinitionService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxDefinitionService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nclass RxBundleCacheService {\n  constructor(rxActionTypeDataPageService, rxLogService, rxGlobalCacheService, rxDefinitionService) {\n    this.rxActionTypeDataPageService = rxActionTypeDataPageService;\n    this.rxLogService = rxLogService;\n    this.rxGlobalCacheService = rxGlobalCacheService;\n    this.rxDefinitionService = rxDefinitionService;\n    this.actionTypes$ = this.rxActionTypeDataPageService.get({\n      params: {\n        requireDependent: true\n      }\n    }).pipe(map(actionTypes => actionTypes.data), shareReplay(1));\n    this.bundleIdSubject$ = new ReplaySubject(1);\n    this.bundleId$ = this.bundleIdSubject$.asObservable();\n  }\n  get bundleId() {\n    return this.bundleIdValue;\n  }\n  set bundleId(value) {\n    this.bundleIdValue = value;\n    this.bundleIdSubject$.next(value);\n    this.rxLogService.debug(`RxBundleCacheService: bundle ID set to ${value}`);\n  }\n  getActionTypes() {\n    return this.actionTypes$;\n  }\n  getCurrentBundleDescriptor() {\n    return this.bundleId$.pipe(switchMap(bundleId => this.rxGlobalCacheService.getBundleDescriptor(bundleId)));\n  }\n  getDefinitionScopeName(definitionScopeType) {\n    return this.getCurrentBundleDescriptor().pipe(map(bundleDescriptor => this.rxDefinitionService.getScopeName(definitionScopeType, bundleDescriptor)));\n  }\n  getDefinitionScopeSelectionOptions() {\n    return this.getCurrentBundleDescriptor().pipe(map(bundleDescriptor => bundleDescriptor.isApplication ? RX_BUNDLE.applicationDefinitionScopeSelectionOptions : RX_BUNDLE.libraryDefinitionScopeSelectionOptions));\n  }\n}\nRxBundleCacheService.ɵfac = function RxBundleCacheService_Factory(t) {\n  return new (t || RxBundleCacheService)(i0.ɵɵinject(RxActionTypeDataPageService), i0.ɵɵinject(RxLogService), i0.ɵɵinject(RxGlobalCacheService), i0.ɵɵinject(RxDefinitionService));\n};\nRxBundleCacheService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxBundleCacheService,\n  factory: RxBundleCacheService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxBundleCacheService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxActionTypeDataPageService\n    }, {\n      type: RxLogService\n    }, {\n      type: RxGlobalCacheService\n    }, {\n      type: RxDefinitionService\n    }];\n  }, null);\n})();\nconst RX_DEFAULT_STRINGS = new InjectionToken('RX_DEFAULT_STRINGS');\nconst RX_BUILD_ENVIRONMENT = new InjectionToken('buildEnvironment');\nclass RxRssoDebugService {\n  constructor(rxBuildEnvironment) {\n    this.rxBuildEnvironment = rxBuildEnvironment;\n  }\n  isRssoDebugEnabled() {\n    return isDevMode() && Boolean(this.rxBuildEnvironment.isRssoDebugEnabled);\n  }\n}\nRxRssoDebugService.ɵfac = function RxRssoDebugService_Factory(t) {\n  return new (t || RxRssoDebugService)(i0.ɵɵinject(RX_BUILD_ENVIRONMENT));\n};\nRxRssoDebugService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxRssoDebugService,\n  factory: RxRssoDebugService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxRssoDebugService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [RX_BUILD_ENVIRONMENT]\n      }]\n    }];\n  }, null);\n})();\nconst SUPPORTED_LOCALES = {\n  de: {\n    adapt: 'de-de'\n  },\n  en: {\n    adapt: 'en-us'\n  },\n  es: {\n    adapt: 'es-es'\n  },\n  fr: {\n    adapt: 'fr-fr'\n  },\n  it: {\n    adapt: 'it-it'\n  },\n  ja: {\n    adapt: 'ja-jp'\n  },\n  ko: {\n    adapt: 'ko-kr'\n  },\n  nl: {\n    adapt: 'nl-nl'\n  },\n  pt: {\n    adapt: 'pt-br'\n  },\n  ru: {\n    adapt: 'ru-ru'\n  },\n  sv: {\n    adapt: 'sv-se'\n  },\n  da: {\n    adapt: 'da-dk'\n  },\n  no: {\n    moment: 'nb',\n    angular: 'nb',\n    adapt: 'no-no',\n    similar: ['nb', 'nn']\n  },\n  'zh-Hans': {\n    moment: 'zh-CN',\n    adapt: 'zh-cn',\n    similar: ['zh-CN']\n  }\n};\nconst LOGIN_LOCALE = 'login';\nconst DEFAULT_LOCALE = 'en';\nclass RxLocalizationService {\n  constructor(httpClient, translateService, rxCurrentUserService, adaptTranslateService, rxRssoDebugService, document, defaultStrings) {\n    this.httpClient = httpClient;\n    this.translateService = translateService;\n    this.rxCurrentUserService = rxCurrentUserService;\n    this.adaptTranslateService = adaptTranslateService;\n    this.rxRssoDebugService = rxRssoDebugService;\n    this.document = document;\n    this.defaultStrings = defaultStrings;\n    this.currentLocale = DEFAULT_LOCALE;\n    this.angularLocale = DEFAULT_LOCALE;\n    this.onTranslationsLoaded$ = this.translateService.onLangChange.pipe(shareReplay(1));\n    this.loginLocalizedStrings$ = this.getLocalizedStringsForLoginPage().pipe(shareReplay(1));\n    this.preferredLocale$ = this.rxCurrentUserService.user$.pipe(filter(Boolean), take(1), map(() => this.rxCurrentUserService.getPreferredLocale() || this.rxCurrentUserService.getPreferredUserLocale()), switchMap(preferredLocale => preferredLocale ? of(preferredLocale) : this.loginLocalizedStrings$.pipe(map(response => Object.keys(response.body)[0]))), map(locale => this.normalizeLocale(locale)), shareReplay(1));\n  }\n  getDefaultApplicationStrings() {\n    return this.defaultStrings;\n  }\n  setDefaultApplicationStrings(defaultApplicationStrings) {\n    this.defaultStrings = Object.assign(Object.assign({}, this.defaultStrings), defaultApplicationStrings);\n  }\n  initLoginTranslations() {\n    return this.loginLocalizedStrings$.pipe(map(response => response.body), tap(payload => {\n      const localeKey = Object.keys(payload)[0];\n      this.setLocale(this.normalizeLocale(localeKey));\n      this.translateService.setTranslation(LOGIN_LOCALE, payload[localeKey], true);\n    }), switchMap(() => this.translateService.use(LOGIN_LOCALE)));\n  }\n  initTranslations(useDefault = false) {\n    return (useDefault ? of(DEFAULT_LOCALE) : this.preferredLocale$).pipe(switchMap(locale => this.translateService.use(locale).pipe(mapTo(locale))), tap(locale => {\n      this.setLocale(locale);\n      const adaptLocale = this.getCurrentLocaleDescriptor().adapt;\n      Object.assign(this.adaptTranslateService.languages[adaptLocale], {\n        'adapt.rx.error.min': this.translateService.instant('com.bmc.arsys.rx.client.error.min'),\n        'adapt.rx.error.max': this.translateService.instant('com.bmc.arsys.rx.client.error.max'),\n        'adapt.rx.error.required': this.translateService.instant('com.bmc.arsys.rx.client.view-components.validation.required.message'),\n        'adapt.select.emptyStateDescription': ''\n      });\n    }));\n  }\n  setLocale(locale) {\n    this.currentLocale = locale;\n    this.setDocumentLang(this.currentLocale);\n    const descriptor = this.getCurrentLocaleDescriptor();\n    this.adaptTranslateService.useLanguage(descriptor.adapt);\n    moment.locale(descriptor.moment);\n    this.angularLocale = descriptor.angular;\n  }\n  getCurrentLocaleDescriptor() {\n    const locale = findKey(SUPPORTED_LOCALES, (localeInfo, key) => {\n      const language = this.currentLocale.split('-')[0];\n      return key === this.currentLocale || key === language || some(localeInfo.similar, item => item === this.currentLocale || item === language);\n    });\n    return {\n      angular: locale ? SUPPORTED_LOCALES[locale].angular || locale : DEFAULT_LOCALE,\n      moment: SUPPORTED_LOCALES[locale] && SUPPORTED_LOCALES[locale].moment || this.currentLocale,\n      adapt: SUPPORTED_LOCALES[locale] && SUPPORTED_LOCALES[locale].adapt || SUPPORTED_LOCALES[DEFAULT_LOCALE].adapt\n    };\n  }\n  getLocalizedStringsForLoginPage() {\n    // When debugging on an RSSO environment, this (/api/rx/application/logincontent/login.json) call fails\n    // repeatedly with a http 401 error,so we have bypassed it. This call is only useful for the Innovation\n    // Studio login page which is not accessed in RSSO environment.\n    return this.rxRssoDebugService.isRssoDebugEnabled() ? of() : this.httpClient.get('/api/rx/application/logincontent/login.json', {\n      observe: 'response'\n    });\n  }\n  setDocumentLang(lang) {\n    this.document.documentElement.setAttribute('lang', lang);\n  }\n  // Safari returns the web browser locale information Region in lowercase\n  // en-us instead of en-US which causes issues with localized field.\n  normalizeLocale(locale) {\n    const localeInformation = locale.split('-');\n    if (localeInformation.length > 1) {\n      localeInformation[1] = localeInformation[1].toUpperCase();\n    }\n    return localeInformation.join('-');\n  }\n}\nRxLocalizationService.ɵfac = function RxLocalizationService_Factory(t) {\n  return new (t || RxLocalizationService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.TranslateService), i0.ɵɵinject(RxCurrentUserService), i0.ɵɵinject(i4.AdaptTranslateService), i0.ɵɵinject(RxRssoDebugService), i0.ɵɵinject(DOCUMENT), i0.ɵɵinject(RX_DEFAULT_STRINGS));\n};\nRxLocalizationService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxLocalizationService,\n  factory: RxLocalizationService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxLocalizationService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1.HttpClient\n    }, {\n      type: i2.TranslateService\n    }, {\n      type: RxCurrentUserService\n    }, {\n      type: i4.AdaptTranslateService\n    }, {\n      type: RxRssoDebugService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [RX_DEFAULT_STRINGS]\n      }]\n    }];\n  }, null);\n})();\nclass RxLoginLocalizationResolver {\n  constructor(rxLocalizationService) {\n    this.rxLocalizationService = rxLocalizationService;\n  }\n  resolve(route, state) {\n    return this.rxLocalizationService.initLoginTranslations();\n  }\n}\nRxLoginLocalizationResolver.ɵfac = function RxLoginLocalizationResolver_Factory(t) {\n  return new (t || RxLoginLocalizationResolver)(i0.ɵɵinject(RxLocalizationService));\n};\nRxLoginLocalizationResolver.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxLoginLocalizationResolver,\n  factory: RxLoginLocalizationResolver.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxLoginLocalizationResolver, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxLocalizationService\n    }];\n  }, null);\n})();\nclass RxLocalizedStringsLoaderService {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n    this.baseUrl = '/api/rx/application/localizedstrings';\n  }\n  getTranslation(locale) {\n    return locale === 'login' ? of({}) : this.httpClient.get(`${this.baseUrl}?locale=${locale}`);\n  }\n  uploadTranslation(bundleId, locale, translations) {\n    return this.httpClient.post(`${this.baseUrl}/${bundleId}?locale=${locale}`, translations);\n  }\n}\nRxLocalizedStringsLoaderService.ɵfac = function RxLocalizedStringsLoaderService_Factory(t) {\n  return new (t || RxLocalizedStringsLoaderService)(i0.ɵɵinject(i1.HttpClient));\n};\nRxLocalizedStringsLoaderService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxLocalizedStringsLoaderService,\n  factory: RxLocalizedStringsLoaderService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxLocalizedStringsLoaderService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1.HttpClient\n    }];\n  }, null);\n})();\nclass RxMissingTranslationHandler {\n  constructor(injector) {\n    this.injector = injector;\n  }\n  handle(params) {\n    this.rxLocalizationService = this.rxLocalizationService || this.injector.get(RxLocalizationService);\n    const defaultApplicationStrings = this.rxLocalizationService.getDefaultApplicationStrings();\n    return defaultApplicationStrings.hasOwnProperty(params.key) ? params.translateService.parser.interpolate(defaultApplicationStrings[params.key], params.interpolateParams) : params.key;\n  }\n}\nRxMissingTranslationHandler.ɵfac = function RxMissingTranslationHandler_Factory(t) {\n  return new (t || RxMissingTranslationHandler)(i0.ɵɵinject(i0.Injector));\n};\nRxMissingTranslationHandler.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxMissingTranslationHandler,\n  factory: RxMissingTranslationHandler.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxMissingTranslationHandler, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i0.Injector\n    }];\n  }, null);\n})();\n\n// AoT requires an exported function for factories\nfunction LocalizedStringsLoaderFactory(http) {\n  return new RxLocalizedStringsLoaderService(http);\n}\n// https://stackoverflow.com/questions/44287827/dynamically-change-locale-for-datepipe-in-angular-2/49675774#49675774\n// https://github.com/angular/angular/issues/15039\nclass DynamicLocaleId extends String {\n  constructor(rxLocalizationService) {\n    super();\n    this.rxLocalizationService = rxLocalizationService;\n  }\n  toString() {\n    return this.rxLocalizationService.angularLocale;\n  }\n}\nclass RxLocalizationModule {\n  constructor() {\n    [localeDe, localeEs, localeFr, localeIt, localeJa, localeKo, localeNb, localeNl, localeRu, localeSv, localePt, localeDa, localeZhHans].forEach(locale => registerLocaleData(locale));\n  }\n}\nRxLocalizationModule.ɵfac = function RxLocalizationModule_Factory(t) {\n  return new (t || RxLocalizationModule)();\n};\nRxLocalizationModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: RxLocalizationModule,\n  imports: [CommonModule, i2.TranslateModule]\n});\nRxLocalizationModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [{\n    provide: LOCALE_ID,\n    deps: [RxLocalizationService],\n    useClass: DynamicLocaleId\n  }],\n  imports: [[CommonModule, TranslateModule.forRoot({\n    loader: {\n      provide: TranslateLoader,\n      useFactory: LocalizedStringsLoaderFactory,\n      deps: [HttpClient, Injector]\n    },\n    missingTranslationHandler: {\n      provide: MissingTranslationHandler,\n      useClass: RxMissingTranslationHandler,\n      deps: [Injector]\n    }\n  })]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxLocalizationModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, TranslateModule.forRoot({\n        loader: {\n          provide: TranslateLoader,\n          useFactory: LocalizedStringsLoaderFactory,\n          deps: [HttpClient, Injector]\n        },\n        missingTranslationHandler: {\n          provide: MissingTranslationHandler,\n          useClass: RxMissingTranslationHandler,\n          deps: [Injector]\n        }\n      })],\n      providers: [{\n        provide: LOCALE_ID,\n        deps: [RxLocalizationService],\n        useClass: DynamicLocaleId\n      }]\n    }]\n  }], function () {\n    return [];\n  }, null);\n})();\nclass RxComponentCanDeactivateGuard {\n  constructor(router, rxModalService, rxUtilityModalsService) {\n    this.router = router;\n    this.rxModalService = rxModalService;\n    this.rxUtilityModalsService = rxUtilityModalsService;\n    this.isEnabled = true;\n    window.addEventListener('beforeunload', event => {\n      var _a;\n      if (this.isEnabled && (((_a = this.pageComponent) === null || _a === void 0 ? void 0 : _a.canDeactivate()) === false || this.rxModalService.isAnyDockedPanelDirty() || this.rxModalService.isAnyModalDirty())) {\n        event.returnValue = true;\n      }\n    });\n    this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(() => this.enable());\n  }\n  canDeactivate(component) {\n    var _a;\n    if (this.isEnabled && (this.rxModalService.isAnyDockedPanelDirty() || this.rxModalService.isAnyModalDirty())) {\n      return this.rxUtilityModalsService.confirmUnsavedChanges();\n    } else if (this.isEnabled && ((_a = this.pageComponent) === null || _a === void 0 ? void 0 : _a.canDeactivate()) === false) {\n      return this.pageComponent.confirmDeactivation();\n    } else {\n      return true;\n    }\n  }\n  setPageComponent(component) {\n    this.pageComponent = component;\n  }\n  enable() {\n    this.isEnabled = true;\n  }\n  disable() {\n    this.isEnabled = false;\n  }\n}\nRxComponentCanDeactivateGuard.ɵfac = function RxComponentCanDeactivateGuard_Factory(t) {\n  return new (t || RxComponentCanDeactivateGuard)(i0.ɵɵinject(i3.Router), i0.ɵɵinject(i2$1.RxModalService), i0.ɵɵinject(i2$1.RxUtilityModalsService));\n};\nRxComponentCanDeactivateGuard.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxComponentCanDeactivateGuard,\n  factory: RxComponentCanDeactivateGuard.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxComponentCanDeactivateGuard, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i3.Router\n    }, {\n      type: i2$1.RxModalService\n    }, {\n      type: i2$1.RxUtilityModalsService\n    }];\n  }, null);\n})();\nclass RxApplicationLoaderService {\n  constructor(document) {\n    this.document = document;\n  }\n  removeApplicationLoader() {\n    const applicationLoaderId = 'rx-application-loader-container';\n    const applicationLoaderElement = this.document.getElementById(applicationLoaderId);\n    if (applicationLoaderElement) {\n      applicationLoaderElement.remove();\n    }\n  }\n}\nRxApplicationLoaderService.ɵfac = function RxApplicationLoaderService_Factory(t) {\n  return new (t || RxApplicationLoaderService)(i0.ɵɵinject(DOCUMENT));\n};\nRxApplicationLoaderService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxApplicationLoaderService,\n  factory: RxApplicationLoaderService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxApplicationLoaderService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }];\n  }, null);\n})();\nclass RxApplicationResolver {\n  constructor(document, rxBuildEnvironment, injector, compiler, rxBundleService, rxLogService, rxBundleCacheService, rxComponentCanDeactivateGuard, rxGlobalCacheService, rxApplicationLoaderService, rxLocalizationService) {\n    this.document = document;\n    this.rxBuildEnvironment = rxBuildEnvironment;\n    this.injector = injector;\n    this.compiler = compiler;\n    this.rxBundleService = rxBundleService;\n    this.rxLogService = rxLogService;\n    this.rxBundleCacheService = rxBundleCacheService;\n    this.rxComponentCanDeactivateGuard = rxComponentCanDeactivateGuard;\n    this.rxGlobalCacheService = rxGlobalCacheService;\n    this.rxApplicationLoaderService = rxApplicationLoaderService;\n    this.rxLocalizationService = rxLocalizationService;\n    const prodBundleDescriptors$ = this.rxGlobalCacheService.getBundleDescriptors().pipe(map(bundleDescriptors => bundleDescriptors.filter(bundleDescriptor => bundleDescriptor.containsAngular)));\n    const devBundleDescriptors$ = prodBundleDescriptors$.pipe(map(bundleDescriptors => bundleDescriptors.filter(bundleDescriptor => bundleDescriptor.id !== this.rxBuildEnvironment.bundleId)));\n    this.devResolver$ = iif(() => isUndefined(this.rxBuildEnvironment.bundleId), of([]), devBundleDescriptors$);\n    this.prodResolver$ = prodBundleDescriptors$;\n  }\n  resolve(route) {\n    const applicationId = head(route.url).path;\n    if (this.rxGlobalCacheService.applicationId && applicationId !== this.rxGlobalCacheService.applicationId) {\n      this.rxComponentCanDeactivateGuard.disable();\n      window.location.reload();\n    }\n    this.rxGlobalCacheService.applicationId = applicationId;\n    const bundleId = route.params['bundleId'];\n    if (bundleId !== RX_APPLICATION.innovationStudioBundleId) {\n      this.rxBundleCacheService.bundleId = bundleId;\n    }\n    const useDefaultLang = this.rxGlobalCacheService.applicationId === RX_APPLICATION.innovationStudioBundleId;\n    const initTranslations$ = this.rxLocalizationService.initTranslations(useDefaultLang);\n    return combineLatest([initTranslations$, this.getResolver()]);\n  }\n  getResolver() {\n    return iif(() => isDevMode(), this.devResolver$, this.prodResolver$).pipe(switchMap(bundles => {\n      if (isEmpty(bundles)) {\n        return of(bundles);\n      }\n      const bundleIds = bundles.map(bundleDescriptor => bundleDescriptor.id);\n      return this.rxBundleService.loadBundles(bundleIds, false);\n    }), tap(() => this.rxApplicationLoaderService.removeApplicationLoader()), shareReplay(1));\n  }\n}\nRxApplicationResolver.ɵfac = function RxApplicationResolver_Factory(t) {\n  return new (t || RxApplicationResolver)(i0.ɵɵinject(DOCUMENT), i0.ɵɵinject(RX_BUILD_ENVIRONMENT), i0.ɵɵinject(i0.Injector), i0.ɵɵinject(i0.Compiler), i0.ɵɵinject(RxBundleService), i0.ɵɵinject(RxLogService), i0.ɵɵinject(RxBundleCacheService), i0.ɵɵinject(RxComponentCanDeactivateGuard), i0.ɵɵinject(RxGlobalCacheService), i0.ɵɵinject(RxApplicationLoaderService), i0.ɵɵinject(RxLocalizationService));\n};\nRxApplicationResolver.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxApplicationResolver,\n  factory: RxApplicationResolver.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxApplicationResolver, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [RX_BUILD_ENVIRONMENT]\n      }]\n    }, {\n      type: i0.Injector\n    }, {\n      type: i0.Compiler\n    }, {\n      type: RxBundleService\n    }, {\n      type: RxLogService\n    }, {\n      type: RxBundleCacheService\n    }, {\n      type: RxComponentCanDeactivateGuard\n    }, {\n      type: RxGlobalCacheService\n    }, {\n      type: RxApplicationLoaderService\n    }, {\n      type: RxLocalizationService\n    }];\n  }, null);\n})();\n\n// @dynamic\nclass RxRootInjector {}\nvar NotificationType;\n(function (NotificationType) {\n  NotificationType[\"Success\"] = \"rx-messageduration-success\";\n  NotificationType[\"Info\"] = \"rx-messageduration-info\";\n  NotificationType[\"Warning\"] = \"rx-messageduration-warn\";\n  NotificationType[\"Error\"] = \"rx-messageduration-error\";\n})(NotificationType || (NotificationType = {}));\nconst RX_DEFAULT_NOTIFICATION_SETTINGS = {\n  [NotificationType.Success]: {\n    ttl: 3000\n  },\n  [NotificationType.Info]: {\n    ttl: 3000\n  },\n  [NotificationType.Warning]: {\n    ttl: 6000\n  },\n  [NotificationType.Error]: {\n    ttl: 6000\n  }\n};\nclass RxNotificationService {\n  constructor(rxLogService, translateService, rxAdminSettingsService, rxCurrentUserService) {\n    this.rxLogService = rxLogService;\n    this.translateService = translateService;\n    this.rxAdminSettingsService = rxAdminSettingsService;\n    this.rxCurrentUserService = rxCurrentUserService;\n    this.issuesToReportSubject$ = new Subject();\n    this.notificationSettings = RX_DEFAULT_NOTIFICATION_SETTINGS;\n    this.componentName = 'InnovationSuiteServerSetting';\n    this.messagesSubject = new Subject();\n    this.messages$ = this.messagesSubject.asObservable();\n    this.issuesToReport$ = this.issuesToReportSubject$.asObservable();\n  }\n  addErrorMessage(message, title, config = {}) {\n    if (isNil(title)) {\n      title = this.translateService.instant('com.bmc.arsys.rx.client.common.error.label');\n    }\n    this.messagesSubject.next({\n      severity: 'error',\n      summary: title,\n      detail: message,\n      life: config.ttl || this.notificationSettings[NotificationType.Error].ttl,\n      sticky: this.isSticky(config.ttl, NotificationType.Error),\n      data: config.issue\n    });\n    if (!config.suppressLog) {\n      this.rxLogService.error(`${title}: ${message}`);\n    }\n  }\n  addWarningMessage(message, title, config = {}) {\n    if (isNil(title)) {\n      title = this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label');\n    }\n    this.messagesSubject.next({\n      severity: 'warn',\n      summary: title,\n      detail: message,\n      life: config.ttl || this.notificationSettings[NotificationType.Warning].ttl,\n      sticky: this.isSticky(config.ttl, NotificationType.Warning),\n      data: config.issue\n    });\n    this.rxLogService.warning(`${title}: ${message}`);\n  }\n  addInfoMessage(message, title, config = {}) {\n    if (isNil(title)) {\n      title = this.translateService.instant('com.bmc.arsys.rx.client.common.info.label');\n    }\n    this.messagesSubject.next({\n      severity: 'info',\n      summary: title,\n      detail: message,\n      life: config.ttl || this.notificationSettings[NotificationType.Info].ttl,\n      sticky: this.isSticky(config.ttl, NotificationType.Info)\n    });\n    this.rxLogService.info(`${title}: ${message}`);\n  }\n  addSuccessMessage(message, title, config = {}) {\n    if (isNil(title)) {\n      title = this.translateService.instant('com.bmc.arsys.rx.client.common.success.label');\n    }\n    this.messagesSubject.next({\n      severity: 'success',\n      summary: title,\n      detail: message,\n      life: config.ttl || this.notificationSettings[NotificationType.Success].ttl,\n      sticky: this.isSticky(config.ttl, NotificationType.Success)\n    });\n    this.rxLogService.debug(`${title}: ${message}`);\n  }\n  reportIssue(issue) {\n    this.issuesToReportSubject$.next(issue);\n  }\n  initialize() {\n    this.rxCurrentUserService.user$.pipe(filter(user => Boolean(user)), switchMap(() => {\n      if (this.rxCurrentUserService.isAdministrator()) {\n        return this.rxAdminSettingsService.getComponentSettings(this.componentName).pipe(tap(settings => {\n          values(NotificationType).forEach(notificationType => {\n            const notificationSettings = find(settings.values, ['settingName', notificationType]);\n            if (notificationSettings && notificationSettings.settingValue) {\n              this.notificationSettings[notificationType].ttl = toNumber(notificationSettings.settingValue) * 1000;\n            }\n          });\n        }), catchError(err => {\n          this.rxLogService.warning('Notification Message Preferences cannot be applied. Default values will be used.');\n          return throwError(err);\n        }));\n      } else {\n        this.rxLogService.debug('Notification Message Preferences cannot be applied since the current user is not a administrator.');\n        return EMPTY;\n      }\n    })).subscribe();\n  }\n  isSticky(ttl, messageType) {\n    return isUndefined(ttl) ? this.notificationSettings[messageType].ttl === 0 : ttl === 0;\n  }\n}\nRxNotificationService.ɵfac = function RxNotificationService_Factory(t) {\n  return new (t || RxNotificationService)(i0.ɵɵinject(RxLogService), i0.ɵɵinject(i2.TranslateService), i0.ɵɵinject(RxAdminSettingsService), i0.ɵɵinject(RxCurrentUserService));\n};\nRxNotificationService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxNotificationService,\n  factory: RxNotificationService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxNotificationService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxLogService\n    }, {\n      type: i2.TranslateService\n    }, {\n      type: RxAdminSettingsService\n    }, {\n      type: RxCurrentUserService\n    }];\n  }, null);\n})();\nclass RxUpgradeTrackerService {\n  constructor(rxLocalizationService, rxNotificationService, rxSystemConfigurationService) {\n    this.rxLocalizationService = rxLocalizationService;\n    this.rxNotificationService = rxNotificationService;\n    this.rxSystemConfigurationService = rxSystemConfigurationService;\n    this._isUpgradeInProgress = false;\n    this._upgradeMessage = '';\n    this.isUpgradeInProgressSubject = new Subject();\n    this.isUpgradeInProgress$ = this.isUpgradeInProgressSubject.asObservable();\n  }\n  set upgradeMessage(message) {\n    this._upgradeMessage = message;\n  }\n  get upgradeMessage() {\n    return this._upgradeMessage;\n  }\n  set isUpgradeInProgress(isUpgradeInProgress) {\n    const hasStatusChanged = this._isUpgradeInProgress !== isUpgradeInProgress;\n    this._isUpgradeInProgress = isUpgradeInProgress;\n    if (!this._isUpgradeInProgress) {\n      this._upgradeMessage = '';\n    }\n    if (hasStatusChanged) {\n      this.isUpgradeInProgressSubject.next(isUpgradeInProgress);\n    }\n  }\n  get isUpgradeInProgress() {\n    return this._isUpgradeInProgress;\n  }\n  getUpgradeNotification() {\n    let upgradeNotification;\n    if (!this._upgradeMessage) {\n      upgradeNotification = this.rxSystemConfigurationService.getConfiguration('Upgrade-Notification-Text');\n    } else {\n      upgradeNotification = of({\n        id: '',\n        name: '',\n        value: this._upgradeMessage\n      });\n    }\n    return upgradeNotification;\n  }\n  displayUpgradeNotification(forceNotification) {\n    if (this.isUpgradeInProgress && (!this.upgradeMessage || forceNotification)) {\n      combineLatest([this.getUpgradeNotification(), this.rxLocalizationService.onTranslationsLoaded$]).pipe(first()).subscribe(([upgradeMessage]) => {\n        this.upgradeMessage = upgradeMessage.value;\n        this.rxNotificationService.addWarningMessage(this.upgradeMessage);\n      });\n    }\n  }\n}\nRxUpgradeTrackerService.ɵfac = function RxUpgradeTrackerService_Factory(t) {\n  return new (t || RxUpgradeTrackerService)(i0.ɵɵinject(RxLocalizationService), i0.ɵɵinject(RxNotificationService), i0.ɵɵinject(RxSystemConfigurationService));\n};\nRxUpgradeTrackerService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxUpgradeTrackerService,\n  factory: RxUpgradeTrackerService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxUpgradeTrackerService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxLocalizationService\n    }, {\n      type: RxNotificationService\n    }, {\n      type: RxSystemConfigurationService\n    }];\n  }, null);\n})();\nclass RxApplicationConfiguratorService {\n  constructor(injector, rxUpgradeTrackerService, rxGlobalCacheService, document, router, adaptModalService, adaptDockedPanelService) {\n    this.rxUpgradeTrackerService = rxUpgradeTrackerService;\n    this.rxGlobalCacheService = rxGlobalCacheService;\n    this.document = document;\n    this.router = router;\n    this.adaptModalService = adaptModalService;\n    this.adaptDockedPanelService = adaptDockedPanelService;\n    RxRootInjector.injector = injector;\n  }\n  configure() {\n    this.patchCkEditor();\n    this.rxGlobalCacheService.applicationId$.pipe(filter(Boolean), take(1)).subscribe(applicationId => this.document.body.parentNode.setAttribute('rx-app', applicationId));\n    this.rxUpgradeTrackerService.isUpgradeInProgress$.subscribe(() => {\n      this.rxUpgradeTrackerService.displayUpgradeNotification(false);\n    });\n    this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(() => {\n      this.adaptModalService.closeAllModals();\n      for (let i = this.adaptDockedPanelService.openedPanels.length - 1; i >= 0; i--) {\n        this.adaptDockedPanelService.close(this.adaptDockedPanelService.openedPanels[i].id);\n      }\n    });\n  }\n  // monkey patch CKEDITOR.dialog.add method to remove 'popup' option from Link -> Target dropdown\n  patchCkEditor() {\n    const ckEditorDialogAdd = CKEDITOR.dialog.add.bind(CKEDITOR.dialog);\n    CKEDITOR.dialog.add = function (name, dialogDefinition) {\n      if (typeof dialogDefinition === 'string') {\n        ckEditorDialogAdd(name, dialogDefinition);\n      } else {\n        const patchedDialogDefinitionFunc = function (editor) {\n          const dialogDefinitionObj = dialogDefinition(editor);\n          if (name === 'link') {\n            const linkTargetConfig = dialogDefinitionObj.contents.find(item => item.id === 'target');\n            get(linkTargetConfig, 'elements[0].children[0].items').splice(2, 1);\n          }\n          return dialogDefinitionObj;\n        };\n        ckEditorDialogAdd(name, patchedDialogDefinitionFunc);\n      }\n    };\n  }\n}\nRxApplicationConfiguratorService.ɵfac = function RxApplicationConfiguratorService_Factory(t) {\n  return new (t || RxApplicationConfiguratorService)(i0.ɵɵinject(i0.Injector), i0.ɵɵinject(RxUpgradeTrackerService), i0.ɵɵinject(RxGlobalCacheService), i0.ɵɵinject(DOCUMENT), i0.ɵɵinject(i3.Router), i0.ɵɵinject(i4.AdaptModalService), i0.ɵɵinject(i4.AdaptDockedPanelService));\n};\nRxApplicationConfiguratorService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxApplicationConfiguratorService,\n  factory: RxApplicationConfiguratorService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxApplicationConfiguratorService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i0.Injector\n    }, {\n      type: RxUpgradeTrackerService\n    }, {\n      type: RxGlobalCacheService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: i3.Router\n    }, {\n      type: i4.AdaptModalService\n    }, {\n      type: i4.AdaptDockedPanelService\n    }];\n  }, null);\n})();\nconst RxApplicationInitializer = ɵmakeDecorator('RxApplicationInitializer');\nclass RxApplicationRegistryService {\n  constructor(rxGlobalCacheService) {\n    this.rxGlobalCacheService = rxGlobalCacheService;\n  }\n  register(applicationId, initializer) {\n    this.rxGlobalCacheService.getApplicationBundleDescriptor().pipe(take(1)).subscribe(bundleDescriptor => {\n      if ((bundleDescriptor === null || bundleDescriptor === void 0 ? void 0 : bundleDescriptor.id) === applicationId) {\n        initializer.initialize();\n      }\n    });\n  }\n}\nRxApplicationRegistryService.ɵfac = function RxApplicationRegistryService_Factory(t) {\n  return new (t || RxApplicationRegistryService)(i0.ɵɵinject(RxGlobalCacheService));\n};\nRxApplicationRegistryService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxApplicationRegistryService,\n  factory: RxApplicationRegistryService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxApplicationRegistryService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxGlobalCacheService\n    }];\n  }, null);\n})();\nconst RX_OVERLAY = {\n  bundleCustomizationOperationTypes: {\n    createdInThisOverlayGroup: 'CREATED_IN_THIS_OVERLAY_GROUP'\n  },\n  operationTypes: {\n    createdInThisOverlayGroup: 'N/A',\n    notCustomizedInThisOverlayGroup: 'Not Customized',\n    customizedInThisOverlayGroup: 'Customized'\n  },\n  customizationPerspective: {\n    createdInThisOverlayGroup: 'CREATED_IN_THIS_OVERLAY_GROUP',\n    notCustomizedInThisOverlayGroup: 'NOT_CUSTOMIZED_IN_THIS_OVERLAY_GROUP',\n    customizedInThisOverlayGroup: 'CUSTOMIZED_IN_THIS_OVERLAY_GROUP'\n  },\n  overlayTypes: {\n    overwrite: 'OVERWRITE',\n    additive: 'ADDITIVE',\n    unmodified: 'UNMODIFIED'\n  },\n  overlayAllowedLabels: {\n    allowed: 'Allowed',\n    notAllowed: 'Not allowed'\n  },\n  overlayGroupIds: {\n    base: '0',\n    overlay: '1'\n  }\n};\nvar DevelopmentMode;\n(function (DevelopmentMode) {\n  DevelopmentMode[\"Base\"] = \"0\";\n  DevelopmentMode[\"BestPractice\"] = \"1\";\n})(DevelopmentMode || (DevelopmentMode = {}));\nvar OverlayType;\n(function (OverlayType) {\n  OverlayType[\"Additive\"] = \"ADDITIVE\";\n  OverlayType[\"Overwrite\"] = \"OVERWRITE\";\n  OverlayType[\"Unmodified\"] = \"UNMODIFIED\";\n})(OverlayType || (OverlayType = {}));\nclass RxOverlayService {\n  constructor(rxTreeService, rxLogService, rxBundleService, rxCurrentUserService, rxGlobalCacheService) {\n    this.rxTreeService = rxTreeService;\n    this.rxLogService = rxLogService;\n    this.rxBundleService = rxBundleService;\n    this.rxCurrentUserService = rxCurrentUserService;\n    this.rxGlobalCacheService = rxGlobalCacheService;\n  }\n  areNewDefinitionsAllowed(bundleId) {\n    return this.rxGlobalCacheService.getBundleDescriptor(bundleId).pipe(map(bundleDescriptor => this.areNewDefinitionsAllowedSync(bundleDescriptor)));\n  }\n  areNewDefinitionsAllowedSync(bundleDescriptor) {\n    return this.isBundleEditable(bundleDescriptor.id) && !(bundleDescriptor.platformBundle && this.getCurrentOverlayGroupId() === RX_OVERLAY.overlayGroupIds.overlay);\n  }\n  setCurrentOverlayContextOnSessionInit(user) {\n    const userOverlayGroupDescriptors = user.userOverlayGroupDescriptors;\n    const defaultOverlayGroupId = user.defaultOverlayGroupId;\n    if (!this.userHasAccessToMultipleOverlays(userOverlayGroupDescriptors)) {\n      return;\n    }\n    const savedOverlayGroupId = localStorage.getItem('rx-overlay-group-id');\n    const contextDescriptors = this.rxTreeService.flattenTree(userOverlayGroupDescriptors[0], 'userOverlayGroupDescriptorChildren');\n    if (savedOverlayGroupId) {\n      this.overlay = find(contextDescriptors, {\n        overlayGroupId: savedOverlayGroupId\n      });\n      // use default defaultOverlayGroupId if the saved overlay context is missing in contextDescriptors\n      if (!this.overlay) {\n        this.overlay = find(contextDescriptors, {\n          overlayGroupId: defaultOverlayGroupId\n        });\n        this.rxLogService.debug(`Invalid Overlay Group ID: ${savedOverlayGroupId}. The Overlay Group ID has been set to the default value: ${defaultOverlayGroupId}`);\n      }\n    } else {\n      this.overlay = find(contextDescriptors, {\n        overlayGroupId: defaultOverlayGroupId\n      });\n    }\n  }\n  getOverlayOperation(overlayGroupId, parentOverlayGroupId) {\n    const currentOverlayGroupId = this.getCurrentOverlayGroupId();\n    let operationType = RX_OVERLAY.operationTypes.notCustomizedInThisOverlayGroup;\n    if (currentOverlayGroupId === overlayGroupId) {\n      operationType = parentOverlayGroupId ? RX_OVERLAY.operationTypes.customizedInThisOverlayGroup : RX_OVERLAY.operationTypes.createdInThisOverlayGroup;\n    }\n    return operationType;\n  }\n  isCustomizationEnabled(type, definition) {\n    if (definition.lastUpdateTime) {\n      const overlayDescriptor = definition.overlayDescriptor || {\n        parentOverlayGroupId: null\n      };\n      const overlayOperation = this.getOverlayOperation(definition.overlayGroupId, overlayDescriptor.parentOverlayGroupId);\n      if (overlayOperation === RX_OVERLAY.operationTypes.createdInThisOverlayGroup) {\n        return true;\n      }\n      return isNull(type) ? false : definition[type];\n    } else {\n      return true;\n    }\n  }\n  isBundleEditable(bundleId) {\n    return this.isCurrentOverlayGroupWritable() && (!this.rxCurrentUserService.isBusinessAnalyst() || includes(this.rxCurrentUserService.getEditableBundles(), bundleId));\n  }\n  isCurrentOverlayGroupWritable() {\n    const user = this.rxCurrentUserService.get();\n    const contextDescriptors = [...user.userOverlayGroupDescriptors, ...user.userOverlayGroupDescriptors[0].userOverlayGroupDescriptorChildren];\n    const currentOverlayGroupId = this.getCurrentOverlayGroupId();\n    return find(contextDescriptors, {\n      overlayGroupId: currentOverlayGroupId\n    }).isWritable;\n  }\n  getCurrentOverlayContext() {\n    return this.overlay;\n  }\n  setDevelopmentMode(developmentMode) {\n    const overlayGroupId = developmentMode === DevelopmentMode.Base ? RX_OVERLAY.overlayGroupIds.base : RX_OVERLAY.overlayGroupIds.overlay;\n    localStorage.setItem('rx-overlay-group-id', overlayGroupId);\n  }\n  getDevelopmentMode() {\n    const overlayGroupId = this.getCurrentOverlayContext().overlayGroupId;\n    return overlayGroupId === RX_OVERLAY.overlayGroupIds.base ? DevelopmentMode.Base : DevelopmentMode.BestPractice;\n  }\n  userHasAccessToMultipleOverlays(overlayGroup) {\n    return get(overlayGroup, '[0].userOverlayGroupDescriptorChildren.length') >= 1;\n  }\n  getCurrentOverlayGroupId() {\n    return this.overlay.overlayGroupId || this.rxCurrentUserService.get().defaultOverlayGroupId;\n  }\n  getUserDefaultOverlayGroupId() {\n    var _a, _b;\n    return (_b = (_a = this.getCurrentOverlayContext()) === null || _a === void 0 ? void 0 : _a.overlayGroupId) !== null && _b !== void 0 ? _b : this.rxCurrentUserService.get().defaultOverlayGroupId;\n  }\n}\nRxOverlayService.ɵfac = function RxOverlayService_Factory(t) {\n  return new (t || RxOverlayService)(i0.ɵɵinject(i2$2.RxTreeService), i0.ɵɵinject(RxLogService), i0.ɵɵinject(RxBundleService), i0.ɵɵinject(RxCurrentUserService), i0.ɵɵinject(RxGlobalCacheService));\n};\nRxOverlayService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxOverlayService,\n  factory: RxOverlayService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxOverlayService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i2$2.RxTreeService\n    }, {\n      type: RxLogService\n    }, {\n      type: RxBundleService\n    }, {\n      type: RxCurrentUserService\n    }, {\n      type: RxGlobalCacheService\n    }];\n  }, null);\n})();\nclass RxFeatureService {\n  enableFeatures(featureIds) {\n    this.enabledFeatures = featureIds;\n  }\n  isFeatureEnabled(featureId) {\n    if (this.enabledFeatures) {\n      return this.enabledFeatures.includes(featureId);\n    }\n  }\n}\nRxFeatureService.ɵfac = function RxFeatureService_Factory(t) {\n  return new (t || RxFeatureService)();\n};\nRxFeatureService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxFeatureService,\n  factory: RxFeatureService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxFeatureService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nclass RxUserService {\n  constructor(httpClient, rxFeatureService, router, rxUrlUtilsService) {\n    this.httpClient = httpClient;\n    this.rxFeatureService = rxFeatureService;\n    this.router = router;\n    this.rxUrlUtilsService = rxUrlUtilsService;\n  }\n  getUser(id, bundleId) {\n    return this.httpClient.get(`/api/rx/application/user/${id}`, {\n      headers: new HttpHeaders({\n        'default-bundle-scope': bundleId !== null && bundleId !== void 0 ? bundleId : ''\n      }),\n      observe: 'response'\n    }).pipe(map(response => {\n      this.rxFeatureService.enableFeatures((response.headers.get('Enabled-Features') || '').split(','));\n      return Object.assign(Object.assign({}, response.body), {\n        modifiedDate: new Date(response.body.modifiedDate),\n        ssoProviderType: response.headers.get('sso-provider-type')\n      });\n    }));\n  }\n  getCurrentUser() {\n    return this.getUser('$USER$', this.rxUrlUtilsService.getBundleIdFromUrl());\n  }\n}\nRxUserService.ɵfac = function RxUserService_Factory(t) {\n  return new (t || RxUserService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(RxFeatureService), i0.ɵɵinject(i3.Router), i0.ɵɵinject(i2$2.RxUrlUtilsService));\n};\nRxUserService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxUserService,\n  factory: RxUserService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxUserService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1.HttpClient\n    }, {\n      type: RxFeatureService\n    }, {\n      type: i3.Router\n    }, {\n      type: i2$2.RxUrlUtilsService\n    }];\n  }, null);\n})();\nconst RX_USER = {\n  userProfileRecordDefinitionName: 'CTM:People',\n  userProfilePictureFieldId: 1000003962\n};\nclass RxSessionService {\n  constructor(rxCurrentUserService, rxUserService, rxOverlayService, rxSystemConfigurationService) {\n    this.rxCurrentUserService = rxCurrentUserService;\n    this.rxUserService = rxUserService;\n    this.rxOverlayService = rxOverlayService;\n    this.rxSystemConfigurationService = rxSystemConfigurationService;\n    this.ssoProviderType = null;\n    this.sessionActive$ = concat(this.initCurrentUser(), this.rxSystemConfigurationService.initialize()).pipe(mapTo(true), shareReplay(1));\n  }\n  initSession() {\n    return this.isAlive() ? of(true) : this.sessionActive$;\n  }\n  isAlive() {\n    return Boolean(this.rxCurrentUserService.get());\n  }\n  getSsoProviderType() {\n    return this.ssoProviderType;\n  }\n  initCurrentUser() {\n    return this.rxUserService.getCurrentUser().pipe(tap(user => {\n      this.rxCurrentUserService.set(user);\n      this.rxOverlayService.setCurrentOverlayContextOnSessionInit(user);\n      this.ssoProviderType = user.ssoProviderType;\n    }));\n  }\n}\nRxSessionService.ɵfac = function RxSessionService_Factory(t) {\n  return new (t || RxSessionService)(i0.ɵɵinject(RxCurrentUserService), i0.ɵɵinject(RxUserService), i0.ɵɵinject(RxOverlayService), i0.ɵɵinject(RxSystemConfigurationService));\n};\nRxSessionService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxSessionService,\n  factory: RxSessionService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxSessionService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxCurrentUserService\n    }, {\n      type: RxUserService\n    }, {\n      type: RxOverlayService\n    }, {\n      type: RxSystemConfigurationService\n    }];\n  }, null);\n})();\nconst activeColor = '--active-color';\nconst dropdownBorder = '--dropdown-border';\nconst dropdownBorderRadius = '--dropdown-border-radius';\nconst dropdownBoxShadow = '--dropdown-box-shadow';\nconst dropdownFontSize = '--dropdown-font-size';\nconst dropdownItemActiveBgColor = '--dropdown-item-active-bg-color';\nconst dropdownMenuColor = '--dropdown-menu-color';\nconst dropdownPadding = '--dropdown-padding';\nconst fontFamilyBase = '--font-family-base';\nconst lineHeightBase = '--line-height-base';\nconst selectOptionPadding = '--select-option-padding';\nconst cssVariables = [activeColor, dropdownBorder, dropdownBorderRadius, dropdownBoxShadow, dropdownFontSize, dropdownItemActiveBgColor, dropdownMenuColor, dropdownPadding, fontFamilyBase, lineHeightBase, selectOptionPadding];\nconst RX_THEMING = {\n  cssVariablesForCkEditor: cssVariables,\n  cssVariableLocator: {\n    body: {\n      'line-height': lineHeightBase\n    },\n    '.text-active': {\n      color: activeColor\n    },\n    '.dropdown-menu': {\n      border: dropdownBorder,\n      'border-radius': dropdownBorderRadius,\n      'box-shadow': dropdownBoxShadow,\n      color: dropdownMenuColor,\n      'font-size': dropdownFontSize,\n      padding: dropdownPadding\n    },\n    '.rx-select__option': {\n      padding: selectOptionPadding\n    },\n    '.dropdown_select__menu .dropdown-item.active': {\n      'background-color': dropdownItemActiveBgColor\n    },\n    '.font-sans': {\n      'font-family': fontFamilyBase\n    }\n  }\n};\nclass RxThemingService {\n  setCssVariables() {\n    Array.from(document.querySelector('link[href*=\"application/theme\"]').sheet.cssRules).forEach(cssStyleRule => {\n      forOwn(RX_THEMING.cssVariableLocator[cssStyleRule.selectorText] || {}, (cssVariableName, cssProperty) => {\n        const cssValue = cssStyleRule.style.getPropertyValue(cssProperty);\n        if (cssValue) {\n          document.documentElement.style.setProperty(cssVariableName, cssValue);\n        }\n      });\n    });\n  }\n  copyCssVariables(variables, targetDocument) {\n    const sourceStyle = document.documentElement.style;\n    const targetStyle = targetDocument.documentElement.style;\n    variables.forEach(variableName => {\n      targetStyle.setProperty(variableName, sourceStyle.getPropertyValue(variableName));\n    });\n  }\n}\nRxThemingService.ɵfac = function RxThemingService_Factory(t) {\n  return new (t || RxThemingService)();\n};\nRxThemingService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxThemingService,\n  factory: RxThemingService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxThemingService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nclass RxThemeResolver {\n  constructor(document, rxSessionService, rxThemingService) {\n    this.document = document;\n    this.rxSessionService = rxSessionService;\n    this.rxThemingService = rxThemingService;\n    this.themeLoaded$ = new Observable(observer => {\n      const link = this.document.createElement('link');\n      link.rel = 'stylesheet';\n      link.href = '/api/rx/application/theme/adapt-css-bs4.css';\n      link.onload = () => {\n        this.rxThemingService.setCssVariables();\n        observer.next();\n        observer.complete();\n      };\n      link.onerror = () => {\n        observer.next();\n        observer.complete();\n      };\n      this.document.head.appendChild(link);\n    }).pipe(shareReplay(1));\n  }\n  canActivate() {\n    return this.rxSessionService.sessionActive$.pipe(switchMapTo(this.themeLoaded$), mapTo(true));\n  }\n}\nRxThemeResolver.ɵfac = function RxThemeResolver_Factory(t) {\n  return new (t || RxThemeResolver)(i0.ɵɵinject(DOCUMENT), i0.ɵɵinject(RxSessionService), i0.ɵɵinject(RxThemingService));\n};\nRxThemeResolver.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxThemeResolver,\n  factory: RxThemeResolver.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxThemeResolver, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: RxSessionService\n    }, {\n      type: RxThemingService\n    }];\n  }, null);\n})();\nclass RxValidApplicationGuard {\n  constructor(rxGlobalCacheService, router, rxSessionService) {\n    this.rxGlobalCacheService = rxGlobalCacheService;\n    this.router = router;\n    this.rxSessionService = rxSessionService;\n    this.unknownApplicationUrlTree = this.router.parseUrl('/unknown-application');\n  }\n  canActivate(route, state) {\n    return this.rxSessionService.sessionActive$.pipe(switchMap(() => this.checkBundleState(route)));\n  }\n  checkBundleState(route) {\n    const bundleId = route.paramMap.get('bundleId');\n    if (bundleId) {\n      return this.rxGlobalCacheService.getBundleDescriptor(bundleId).pipe(map(bundleDescriptor => bundleDescriptor.isApplication || this.unknownApplicationUrlTree), catchError(() => of(this.unknownApplicationUrlTree)));\n    } else {\n      return of(this.unknownApplicationUrlTree);\n    }\n  }\n}\nRxValidApplicationGuard.ɵfac = function RxValidApplicationGuard_Factory(t) {\n  return new (t || RxValidApplicationGuard)(i0.ɵɵinject(RxGlobalCacheService), i0.ɵɵinject(i3.Router), i0.ɵɵinject(RxSessionService));\n};\nRxValidApplicationGuard.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxValidApplicationGuard,\n  factory: RxValidApplicationGuard.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxValidApplicationGuard, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxGlobalCacheService\n    }, {\n      type: i3.Router\n    }, {\n      type: RxSessionService\n    }];\n  }, null);\n})();\nclass RxAngularApplicationService {\n  constructor(rxAdminSettingsService, rxStringService) {\n    this.rxAdminSettingsService = rxAdminSettingsService;\n    this.rxStringService = rxStringService;\n    this.angularJsApplicationBundleIds$ = this.rxAdminSettingsService.getComponentGridData(RX_ADMINISTRATION.settingNames.newApplicationUiOptOut, {\n      'default-bundle-scope': RX_APPLICATION.environmentConfigurationBundleId\n    }).pipe(map(gridComponentSettings => gridComponentSettings.rows.filter(newApplicationUiOptOutSetting => newApplicationUiOptOutSetting['Use old application UI'] === 'true').map(newApplicationUiOptOutSetting => newApplicationUiOptOutSetting['Application ID']).concat(RX_APPLICATION.angularJsApplicationBundleIds)), shareReplay(1));\n    this.angularJsViewDesignerBundleIds$ = this.rxAdminSettingsService.getComponentGridData(RX_ADMINISTRATION.settingNames.newViewDesignerOptOut, {\n      'default-bundle-scope': RX_APPLICATION.environmentConfigurationBundleId\n    }).pipe(map(gridComponentSettings => gridComponentSettings.rows.filter(newViewDesignerOptOutSetting => newViewDesignerOptOutSetting['Use old view designer'] === 'true').map(newViewDesignerOptOutSetting => newViewDesignerOptOutSetting['Application ID']).concat(RX_APPLICATION.angularJsViewDesignerBundleIds)), shareReplay(1));\n  }\n  isAngularJsApplication(bundleId) {\n    return this.angularJsApplicationBundleIds$.pipe(map(angularJsApplicationBundleIds => includes(angularJsApplicationBundleIds, bundleId)));\n  }\n  isAngularJsViewDesignerBundle(bundleId) {\n    return this.angularJsViewDesignerBundleIds$.pipe(map(angularJsViewDesignerBundleIds => this.rxStringService.isIncluded(bundleId, angularJsViewDesignerBundleIds)));\n  }\n}\nRxAngularApplicationService.ɵfac = function RxAngularApplicationService_Factory(t) {\n  return new (t || RxAngularApplicationService)(i0.ɵɵinject(RxAdminSettingsService), i0.ɵɵinject(i2$2.RxStringService));\n};\nRxAngularApplicationService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxAngularApplicationService,\n  factory: RxAngularApplicationService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxAngularApplicationService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxAdminSettingsService\n    }, {\n      type: i2$2.RxStringService\n    }];\n  }, null);\n})();\nclass RxApplicationLoaderResolver {\n  constructor(rxApplicationLoaderService) {\n    this.rxApplicationLoaderService = rxApplicationLoaderService;\n  }\n  resolve(route, state) {\n    this.rxApplicationLoaderService.removeApplicationLoader();\n  }\n}\nRxApplicationLoaderResolver.ɵfac = function RxApplicationLoaderResolver_Factory(t) {\n  return new (t || RxApplicationLoaderResolver)(i0.ɵɵinject(RxApplicationLoaderService));\n};\nRxApplicationLoaderResolver.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxApplicationLoaderResolver,\n  factory: RxApplicationLoaderResolver.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxApplicationLoaderResolver, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxApplicationLoaderService\n    }];\n  }, null);\n})();\nconst RX_SESSION = {\n  minutesBeforeLogout: 2,\n  keepAliveCommand: 'com.bmc.arsys.rx.application.user.command.KeepAliveCommand',\n  userInteractionThrottleTimeMs: 1000,\n  userInteractionEvents: ['click', 'keypress'],\n  expirationModes: {\n    idle: 'idleSessionExpirationMode',\n    absolute: 'absoluteSessionExpirationMode'\n  },\n  expirationHeaders: {\n    idle: 'Session-Expiration',\n    absolute: 'Absolute-Session-Expiration'\n  },\n  ssoProviderTypes: {\n    rsso: 'RSSO'\n  }\n};\nclass RxLoginPageGuard {\n  constructor(rxLocalizationService, router) {\n    this.rxLocalizationService = rxLocalizationService;\n    this.router = router;\n  }\n  canActivate(next, state) {\n    return this.rxLocalizationService.loginLocalizedStrings$.pipe(map(response => {\n      const ssoProviderType = response.headers.get('sso-provider-type');\n      if (ssoProviderType === RX_SESSION.ssoProviderTypes.rsso) {\n        const bundleId = next.paramMap.get('bundleId');\n        return this.router.parseUrl(bundleId);\n      } else {\n        return true;\n      }\n    }));\n  }\n}\nRxLoginPageGuard.ɵfac = function RxLoginPageGuard_Factory(t) {\n  return new (t || RxLoginPageGuard)(i0.ɵɵinject(RxLocalizationService), i0.ɵɵinject(i3.Router));\n};\nRxLoginPageGuard.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxLoginPageGuard,\n  factory: RxLoginPageGuard.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxLoginPageGuard, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxLocalizationService\n    }, {\n      type: i3.Router\n    }];\n  }, null);\n})();\n\n// Customize shouldReuseRoute, use default implementation for other methods.\nclass ShellRouteReuseStrategy {\n  shouldReuseRoute(current, next) {\n    var _a, _b, _c, _d, _e, _f;\n    if (((_a = next.data) === null || _a === void 0 ? void 0 : _a.routeReuseStrategy) === RX_APPLICATION.routeReuseStrategies.checkParentParams && current.parent && current.parent.routeConfig === ((_b = next.parent) === null || _b === void 0 ? void 0 : _b.routeConfig)) {\n      return isEqual(next.parent.params, current.parent.params);\n    } else {\n      return current.routeConfig === next.routeConfig || ((_d = (_c = current.routeConfig) === null || _c === void 0 ? void 0 : _c.data) === null || _d === void 0 ? void 0 : _d.routerGroup) && current.routeConfig.data.routerGroup === ((_f = (_e = next.routeConfig) === null || _e === void 0 ? void 0 : _e.data) === null || _f === void 0 ? void 0 : _f.routerGroup);\n    }\n  }\n  shouldAttach(route) {\n    return false;\n  }\n  shouldDetach(route) {\n    return false;\n  }\n  retrieve(route) {\n    return null;\n  }\n  store(route, handle) {}\n}\nconst RX_RESOURCE_URLS = {\n  command: '/api/rx/application/command'\n};\nclass RxAuthService {\n  constructor(location, httpClient, router, rxGlobalCacheService, rxLocalizationService, rxSessionService, rxLogService, rxUrlUtilsService, rxRssoDebugService) {\n    this.location = location;\n    this.httpClient = httpClient;\n    this.router = router;\n    this.rxGlobalCacheService = rxGlobalCacheService;\n    this.rxLocalizationService = rxLocalizationService;\n    this.rxSessionService = rxSessionService;\n    this.rxLogService = rxLogService;\n    this.rxUrlUtilsService = rxUrlUtilsService;\n    this.rxRssoDebugService = rxRssoDebugService;\n    // URL to redirect after login\n    this.targetUrl = '';\n    this.defaultUrlSerializer = new DefaultUrlSerializer();\n    this.router.events.subscribe(event => {\n      if (event instanceof NavigationCancel || event instanceof NavigationEnd) {\n        const bundleId = this.rxUrlUtilsService.getBundleIdFromUrl(event.url);\n        const bundleLoginRoute = `/${bundleId}/login`;\n        if (event.url !== bundleLoginRoute) {\n          this.targetUrl = event.url;\n        } else if (event.url === bundleLoginRoute && !this.targetUrl) {\n          this.targetUrl = `/${bundleId}`;\n        }\n      }\n    });\n  }\n  login(userName, password) {\n    return this.httpClient.post('/api/rx/authentication/loginrequest', {\n      userName,\n      password,\n      locale: this.rxLocalizationService.currentLocale\n    }, {\n      responseType: 'text'\n    }).pipe(tap(res => {\n      // This is to avoid having additional url encoding when using router.navigate:\n      // for example a space %20 would be encoded to %2520\n      // https://stackoverflow.com/questions/46440887/url-encoding-breaking-angular-2-navigation\n      this.router.navigateByUrl(this.targetUrl);\n    }));\n  }\n  redirectToLoginPage() {\n    this.rxLogService.debug('Redirecting to login page.');\n    if (this.rxSessionService.getSsoProviderType() === RX_SESSION.ssoProviderTypes.rsso) {\n      this.redirectToRssoLogoutPage();\n    } else {\n      if (this.rxRssoDebugService.isRssoDebugEnabled()) {\n        this.redirectToRssoDebugLoginPage();\n      } else {\n        this.redirectToApplicationLoginPage();\n      }\n    }\n  }\n  logout() {\n    const onRequestEnd = () => {\n      this.rxLogService.debug('Destroying session after logout.');\n      localStorage.removeItem('lastUserInteraction');\n      localStorage.removeItem('idleTimeout');\n      localStorage.removeItem('rx-overlay-group-id');\n      this.redirectToLoginPage();\n    };\n    this.rxLogService.debug('Before logout.');\n    return this.httpClient.post('/api/rx/authentication/logoutrequest', {}, {\n      headers: new HttpHeaders({\n        'default-bundle-scope': this.rxGlobalCacheService.applicationId\n      })\n    }).pipe(tap(() => {\n      this.rxLogService.debug('Logout succeeded.');\n      onRequestEnd();\n    }), catchError(err => {\n      this.rxLogService.debug('Logout failed.');\n      onRequestEnd();\n      return throwError(err);\n    }));\n  }\n  redirectToRssoLogoutPage() {\n    window.location.href = '/api/rsso-logout';\n  }\n  redirectToRssoDebugLoginPage() {\n    this.router.navigate(['rsso-debug/login'], {\n      state: {\n        shouldReloadPage: this.rxSessionService.isAlive()\n      }\n    });\n  }\n  redirectToApplicationLoginPage() {\n    const url = this.location.path();\n    // Trying to deduce the bundleId from the url. This can happen if the user tried to directly access a view\n    // while not logged in. In this case the application resolver does not kick in and does not set\n    // the application ID rxGlobalCacheService.\n    const bundleId = this.rxGlobalCacheService.applicationId || this.rxUrlUtilsService.getBundleIdFromUrl(url);\n    // The login page should be reloaded in case of session timeout but\n    // not if the user connects the first time.\n    // auth.interceptor.ts detects if a a rest calls returns http 401 and\n    // calls the login page redirection.\n    // In the case of a session timeout the session object is still 'alive'.\n    if (bundleId) {\n      // Post PR #776 the event NavigationCancel / NavigationEnd is not triggered anymore.\n      // This was used when the user was directly accessing a url (DRIST-21802).\n      // The logic has been added here.\n      const bundleLoginRoute = `${bundleId}/login`;\n      const isLoginRoute = url === `/${bundleLoginRoute}`;\n      if (!isLoginRoute) {\n        this.targetUrl = url;\n      } else if (isLoginRoute && !this.targetUrl) {\n        this.targetUrl = `/${bundleId}`;\n      }\n      // The login page should be reloaded in case of session timeout but\n      // not if the user connects the first time.\n      // auth.interceptor.ts detects if a a rest calls returns http 401 and\n      // calls the login page redirection.\n      // In the case of a session timeout the session object is still 'alive'.\n      this.router.navigate([bundleLoginRoute], {\n        state: {\n          shouldReloadPage: this.rxSessionService.isAlive()\n        }\n      });\n    } else {\n      this.router.navigate(['unknown-application']);\n    }\n  }\n}\nRxAuthService.ɵfac = function RxAuthService_Factory(t) {\n  return new (t || RxAuthService)(i0.ɵɵinject(i3$1.Location), i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i3.Router), i0.ɵɵinject(RxGlobalCacheService), i0.ɵɵinject(RxLocalizationService), i0.ɵɵinject(RxSessionService), i0.ɵɵinject(RxLogService), i0.ɵɵinject(i2$2.RxUrlUtilsService), i0.ɵɵinject(RxRssoDebugService));\n};\nRxAuthService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxAuthService,\n  factory: RxAuthService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxAuthService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i3$1.Location\n    }, {\n      type: i1.HttpClient\n    }, {\n      type: i3.Router\n    }, {\n      type: RxGlobalCacheService\n    }, {\n      type: RxLocalizationService\n    }, {\n      type: RxSessionService\n    }, {\n      type: RxLogService\n    }, {\n      type: i2$2.RxUrlUtilsService\n    }, {\n      type: RxRssoDebugService\n    }];\n  }, null);\n})();\nvar SessionExpirationType;\n(function (SessionExpirationType) {\n  SessionExpirationType[\"Absolute\"] = \"Absolute\";\n  SessionExpirationType[\"Idle\"] = \"Idle\";\n})(SessionExpirationType || (SessionExpirationType = {}));\nclass RxSessionExpirationComponent {\n  constructor(context, translateService, ngZone) {\n    this.context = context;\n    this.translateService = translateService;\n    this.ngZone = ngZone;\n    this.isLoading = false;\n    this.SessionExpirationType = SessionExpirationType;\n    this.destroyed$ = new ReplaySubject(1);\n    const data = context.getData();\n    this.mode = data.mode;\n    this.expirationDate = data.expirationDate;\n    this.keepSessionAlive = data.keepSessionAlive;\n    this.logout = data.logout;\n  }\n  ngOnInit() {\n    if (this.mode === SessionExpirationType.Idle) {\n      this.ngZone.runOutsideAngular(() => {\n        timer(0, 1000).pipe(takeUntil(this.destroyed$)).subscribe(() => {\n          this.ngZone.run(this.checkTime.bind(this));\n        });\n      });\n    }\n  }\n  ngOnDestroy() {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n  keepAlive() {\n    this.isLoading = true;\n    this.keepSessionAlive().subscribe(() => {\n      this.isLoading = false;\n      this.close();\n    }, () => {\n      this.isLoading = false;\n    });\n  }\n  close() {\n    this.context.close();\n  }\n  checkTime() {\n    if (moment().isBefore(this.expirationDate)) {\n      const counter = moment.utc(this.expirationDate.getTime() - Date.now()).format('m:ss');\n      this.remainingTime = this.translateService.instant('com.bmc.arsys.rx.client.session-expiration-dialog.timer', {\n        time: counter\n      });\n    } else {\n      this.remainingTime = '0:00';\n      this.logout();\n    }\n  }\n}\nRxSessionExpirationComponent.ɵfac = function RxSessionExpirationComponent_Factory(t) {\n  return new (t || RxSessionExpirationComponent)(i0.ɵɵdirectiveInject(i4.ActiveModalRef), i0.ɵɵdirectiveInject(i2.TranslateService), i0.ɵɵdirectiveInject(i0.NgZone));\n};\nRxSessionExpirationComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: RxSessionExpirationComponent,\n  selectors: [[\"rx-session-expiration\"]],\n  decls: 13,\n  vars: 12,\n  consts: [[1, \"modal-header\"], [1, \"modal-title\"], [\"class\", \"close dp-close\", \"aria-label\", \"Close\", \"data-dismiss\", \"modal\", \"type\", \"button\", \"rx-id\", \"x-button\", 3, \"click\", 4, \"ngIf\"], [1, \"modal-body\", 3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [1, \"modal-footer\", 3, \"ngSwitch\"], [\"class\", \"rx-session-expiration-countdown text-primary d-icon-left-clock_o\", \"rx-id\", \"timer\", 4, \"ngSwitchCase\"], [\"adapt-button\", \"\", \"btn-type\", \"primary\", \"size\", \"small\", \"type\", \"button\", \"rx-id\", \"continue-button\", 3, \"disabled\", \"click\", 4, \"ngSwitchCase\"], [\"adapt-button\", \"\", \"btn-type\", \"secondary\", \"size\", \"small\", \"type\", \"button\", \"rx-id\", \"logout-button\", 3, \"disabled\", \"click\", 4, \"ngSwitchCase\"], [\"adapt-button\", \"\", \"btn-type\", \"primary\", \"size\", \"small\", \"type\", \"button\", \"rx-id\", \"ok-button\", 3, \"click\", 4, \"ngSwitchCase\"], [\"aria-label\", \"Close\", \"data-dismiss\", \"modal\", \"type\", \"button\", \"rx-id\", \"x-button\", 1, \"close\", \"dp-close\", 3, \"click\"], [\"rx-id\", \"timer\", 1, \"rx-session-expiration-countdown\", \"text-primary\", \"d-icon-left-clock_o\"], [\"adapt-button\", \"\", \"btn-type\", \"primary\", \"size\", \"small\", \"type\", \"button\", \"rx-id\", \"continue-button\", 3, \"disabled\", \"click\"], [\"adapt-button\", \"\", \"btn-type\", \"secondary\", \"size\", \"small\", \"type\", \"button\", \"rx-id\", \"logout-button\", 3, \"disabled\", \"click\"], [\"adapt-button\", \"\", \"btn-type\", \"primary\", \"size\", \"small\", \"type\", \"button\", \"rx-id\", \"ok-button\", 3, \"click\"]],\n  template: function RxSessionExpirationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"h5\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵpipe(3, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, RxSessionExpirationComponent_button_4_Template, 1, 0, \"button\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 3);\n      i0.ɵɵtemplate(6, RxSessionExpirationComponent_div_6_Template, 7, 6, \"div\", 4);\n      i0.ɵɵtemplate(7, RxSessionExpirationComponent_div_7_Template, 7, 6, \"div\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 5);\n      i0.ɵɵtemplate(9, RxSessionExpirationComponent_div_9_Template, 2, 1, \"div\", 6);\n      i0.ɵɵtemplate(10, RxSessionExpirationComponent_button_10_Template, 3, 4, \"button\", 7);\n      i0.ɵɵtemplate(11, RxSessionExpirationComponent_button_11_Template, 3, 4, \"button\", 8);\n      i0.ɵɵtemplate(12, RxSessionExpirationComponent_button_12_Template, 3, 3, \"button\", 9);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 10, \"com.bmc.arsys.rx.client.common.alert.label\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.mode === ctx.SessionExpirationType.Absolute);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngSwitch\", ctx.mode);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngSwitchCase\", ctx.SessionExpirationType.Idle);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngSwitchCase\", ctx.SessionExpirationType.Absolute);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngSwitch\", ctx.mode);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngSwitchCase\", ctx.SessionExpirationType.Idle);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngSwitchCase\", ctx.SessionExpirationType.Idle);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngSwitchCase\", ctx.SessionExpirationType.Idle);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngSwitchCase\", ctx.SessionExpirationType.Absolute);\n    }\n  },\n  directives: [i3$1.NgIf, i3$1.NgSwitch, i3$1.NgSwitchCase, i4.AdaptButtonComponent],\n  pipes: [i2.TranslatePipe],\n  styles: [\"[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.rx-session-expiration-countdown[_ngcontent-%COMP%]{font-weight:var(--font-weight-bold);margin-right:auto}\"]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxSessionExpirationComponent, [{\n    type: Component,\n    args: [{\n      selector: 'rx-session-expiration',\n      templateUrl: './session-expiration.component.html',\n      styleUrls: ['./session-expiration.component.scss']\n    }]\n  }], function () {\n    return [{\n      type: i4.ActiveModalRef\n    }, {\n      type: i2.TranslateService\n    }, {\n      type: i0.NgZone\n    }];\n  }, null);\n})();\nclass RxSessionExpirationService {\n  constructor(httpClient, adaptModalService, rxAuthService, ngZone, rxSessionService, rxComponentCanDeactivateGuard) {\n    this.httpClient = httpClient;\n    this.adaptModalService = adaptModalService;\n    this.rxAuthService = rxAuthService;\n    this.ngZone = ngZone;\n    this.rxSessionService = rxSessionService;\n    this.rxComponentCanDeactivateGuard = rxComponentCanDeactivateGuard;\n    this.trackUserInteractionDebounced = debounce(this.trackUserInteraction, RX_SESSION.userInteractionThrottleTimeMs, {\n      leading: true,\n      trailing: false\n    });\n    this.sessionExpirationInfos = {\n      [SessionExpirationType.Absolute]: {},\n      [SessionExpirationType.Idle]: {}\n    };\n    RX_SESSION.userInteractionEvents.forEach(e => window.addEventListener(e, this.trackUserInteractionDebounced.bind(this)));\n  }\n  setTimeout(type, time) {\n    const mDate = moment(time);\n    const isValid = this.isValidTimeout(mDate);\n    if (isValid && mDate.isAfter(this.sessionExpirationInfos[type].timeout)) {\n      this.sessionExpirationInfos[type].timeout = mDate.toDate();\n      if (this.isIdleTimeout(type)) {\n        localStorage.setItem('idleTimeout', this.sessionExpirationInfos[type].timeout.toString());\n        localStorage.removeItem('lastUserInteraction');\n      }\n      this.updateTimeoutHandler(type, this.sessionExpirationInfos[type].timeout);\n    }\n  }\n  keepSessionAlive() {\n    const lastUserInteraction = this.getLastUserInteraction();\n    return this.httpClient.post(RX_RESOURCE_URLS.command, {\n      resourceType: RX_SESSION.keepAliveCommand\n    }, {\n      headers: {\n        'AR-JWT-Refresh-From': lastUserInteraction ? new Date(lastUserInteraction).toUTCString() : new Date().toUTCString()\n      }\n    });\n  }\n  logout() {\n    this.rxComponentCanDeactivateGuard.disable();\n    this.sessionExpirationModal.reject();\n    this.rxAuthService.logout().subscribe();\n  }\n  trackUserInteraction() {\n    if (this.rxSessionService.isAlive()) {\n      localStorage.setItem('lastUserInteraction', Date.now().toString());\n    }\n  }\n  getLastUserInteraction() {\n    const lastUserInteraction = Number(localStorage.getItem('lastUserInteraction'));\n    return !isNaN(lastUserInteraction) ? lastUserInteraction : null;\n  }\n  getIdleSessionTimeout() {\n    const idleTimeout = new Date(localStorage.getItem('idleTimeout'));\n    return moment(idleTimeout).isValid() ? idleTimeout : null;\n  }\n  updateTimeoutHandler(type, expirationDate) {\n    const showWarnInMs = this.getTimeToSessionExpirationWarning(expirationDate);\n    this.clearTimer(type);\n    this.sessionExpirationInfos[type].timeout = expirationDate;\n    if (showWarnInMs > 0) {\n      // run outside angular to keep app 'stable' as required by QA automation\n      this.ngZone.runOutsideAngular(() => {\n        this.sessionExpirationInfos[type].timer = setTimeout(() => {\n          this.ngZone.run(() => {\n            if (this.isIdleTimeout(type)) {\n              this.showIdleTimeoutWarning(expirationDate);\n            } else if (type === SessionExpirationType.Absolute) {\n              this.showAbsoluteTimeoutWarning();\n            }\n          });\n        }, showWarnInMs);\n      });\n    }\n  }\n  isIdleTimeout(type) {\n    return type === SessionExpirationType.Idle && !moment(this.sessionExpirationInfos[SessionExpirationType.Idle].timeout).isSame(moment(this.sessionExpirationInfos[SessionExpirationType.Absolute].timeout));\n  }\n  getTimeToSessionExpirationWarning(timeout) {\n    return moment(timeout).subtract(RX_SESSION.minutesBeforeLogout, 'minutes').diff(moment());\n  }\n  showIdleTimeoutWarning(expirationDate) {\n    if (this.rxSessionService.isAlive() && !this.getLastUserInteraction()) {\n      const idleSessionTimeout = new Date(this.getIdleSessionTimeout());\n      if (idleSessionTimeout && moment(idleSessionTimeout).isAfter(this.sessionExpirationInfos[SessionExpirationType.Idle].timeout)) {\n        this.updateTimeoutHandler(SessionExpirationType.Idle, idleSessionTimeout);\n      } else {\n        this.openModal(SessionExpirationType.Idle, {\n          expirationDate,\n          keepSessionAlive: this.keepSessionAlive.bind(this),\n          logout: this.logout.bind(this)\n        });\n      }\n    } else {\n      this.keepSessionAlive().subscribe();\n    }\n  }\n  showAbsoluteTimeoutWarning() {\n    this.openModal(SessionExpirationType.Absolute);\n    // run outside angular to keep app 'stable' as required by QA automation\n    this.ngZone.runOutsideAngular(() => {\n      setTimeout(() => {\n        this.ngZone.run(() => {\n          this.logout();\n        });\n      }, RX_SESSION.minutesBeforeLogout * 60 * 1000);\n    });\n  }\n  openModal(mode, data) {\n    this.sessionExpirationModal = this.adaptModalService.open({\n      content: RxSessionExpirationComponent,\n      beforeDismiss: () => false,\n      size: 'sm',\n      data: Object.assign({\n        mode\n      }, data)\n    });\n    // should be removed after ADAPT issue is resolved:\n    // https://github.bmc.com/bmc-ux/adapt-angular/issues/2746\n    this.sessionExpirationModal.then(noop, noop);\n  }\n  isValidTimeout(date) {\n    return this.rxSessionService.isAlive() && date.isValid() && date.isAfter(moment());\n  }\n  clearTimer(type) {\n    if (this.sessionExpirationInfos[type].timer) {\n      clearTimeout(this.sessionExpirationInfos[type].timer);\n      this.sessionExpirationInfos[type].timer = null;\n    }\n  }\n}\nRxSessionExpirationService.ɵfac = function RxSessionExpirationService_Factory(t) {\n  return new (t || RxSessionExpirationService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i4.AdaptModalService), i0.ɵɵinject(RxAuthService), i0.ɵɵinject(i0.NgZone), i0.ɵɵinject(RxSessionService), i0.ɵɵinject(RxComponentCanDeactivateGuard));\n};\nRxSessionExpirationService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxSessionExpirationService,\n  factory: RxSessionExpirationService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxSessionExpirationService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1.HttpClient\n    }, {\n      type: i4.AdaptModalService\n    }, {\n      type: RxAuthService\n    }, {\n      type: i0.NgZone\n    }, {\n      type: RxSessionService\n    }, {\n      type: RxComponentCanDeactivateGuard\n    }];\n  }, null);\n})();\nclass RxKeepSessionAliveResolver {\n  constructor(rxSessionExpirationService) {\n    this.rxSessionExpirationService = rxSessionExpirationService;\n  }\n  resolve() {\n    return this.rxSessionExpirationService.keepSessionAlive();\n  }\n}\nRxKeepSessionAliveResolver.ɵfac = function RxKeepSessionAliveResolver_Factory(t) {\n  return new (t || RxKeepSessionAliveResolver)(i0.ɵɵinject(RxSessionExpirationService));\n};\nRxKeepSessionAliveResolver.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxKeepSessionAliveResolver,\n  factory: RxKeepSessionAliveResolver.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxKeepSessionAliveResolver, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxSessionExpirationService\n    }];\n  }, null);\n})();\nclass RxFeatureGuard {\n  constructor(rxFeatureService) {\n    this.rxFeatureService = rxFeatureService;\n  }\n  canActivate(route, state) {\n    return of(this.rxFeatureService.isFeatureEnabled(route.data['featureId']));\n  }\n}\nRxFeatureGuard.ɵfac = function RxFeatureGuard_Factory(t) {\n  return new (t || RxFeatureGuard)(i0.ɵɵinject(RxFeatureService));\n};\nRxFeatureGuard.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxFeatureGuard,\n  factory: RxFeatureGuard.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxFeatureGuard, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxFeatureService\n    }];\n  }, null);\n})();\nvar JustificationRequirement;\n(function (JustificationRequirement) {\n  JustificationRequirement[\"RequiredForApproval\"] = \"TO_APPROVE\";\n  JustificationRequirement[\"RequiredForRejection\"] = \"TO_REJECT\";\n  JustificationRequirement[\"RequiredForApprovalOrRejection\"] = \"TO_APPROVE_OR_REJECT\";\n  JustificationRequirement[\"NotRequired\"] = \"NO\";\n})(JustificationRequirement || (JustificationRequirement = {}));\nclass RxMetadataService {\n  setMetadataLastUpdateTime(metadataLastUpdateTime) {\n    this.metadataLastUpdateTime = new Date(metadataLastUpdateTime);\n  }\n  getMetadataLastUpdateTime() {\n    return this.metadataLastUpdateTime;\n  }\n  isLocalizedStringsRequest(request) {\n    return request.method === 'GET' && /\\/api\\/rx\\/application\\/localizedstrings/.test(request.url);\n  }\n  isMetadataDataPageQueryRequest(request) {\n    return request.method === 'GET' && /\\/api\\/rx\\/application\\/datapage/.test(request.url) && (endsWith(request.params.get('dataPageType'), 'DefinitionDataPageQuery') || endsWith(request.params.get('dataPageType'), 'LocalizedStringsDataPageQuery'));\n  }\n  isMetadataRequest(request) {\n    return request.method === 'GET' && (this.isMetadataDataPageQueryRequest(request) || /\\/api\\/rx\\/application\\/[a-zA-Z]+\\/[a-zA-Z]+definition/.test(request.url));\n  }\n}\nRxMetadataService.ɵfac = function RxMetadataService_Factory(t) {\n  return new (t || RxMetadataService)();\n};\nRxMetadataService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxMetadataService,\n  factory: RxMetadataService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxMetadataService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nclass RxDesignerCacheService {\n  getActionTypeByNameSync(actionTypeName) {\n    return find(this.actionTypes, {\n      actionTypeName\n    });\n  }\n  getFunctionDescriptorsSync() {\n    return this.functionDescriptors;\n  }\n  setActionTypes(actionTypes) {\n    this.actionTypes = actionTypes;\n  }\n  setFunctionDescriptors(functionDescriptors) {\n    this.functionDescriptors = functionDescriptors;\n  }\n}\nRxDesignerCacheService.ɵfac = function RxDesignerCacheService_Factory(t) {\n  return new (t || RxDesignerCacheService)();\n};\nRxDesignerCacheService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxDesignerCacheService,\n  factory: RxDesignerCacheService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxDesignerCacheService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nclass RxMetadataLastUpdateTimeInterceptor {\n  constructor(rxMetadataService) {\n    this.rxMetadataService = rxMetadataService;\n  }\n  intercept(request, next) {\n    return next.handle(request).pipe(tap(event => {\n      if (event instanceof HttpResponse) {\n        const metadataLastUpdateTime = event.headers.get('metadata-last-update-time');\n        if (metadataLastUpdateTime) {\n          this.rxMetadataService.setMetadataLastUpdateTime(metadataLastUpdateTime);\n        }\n      }\n    }));\n  }\n}\nRxMetadataLastUpdateTimeInterceptor.ɵfac = function RxMetadataLastUpdateTimeInterceptor_Factory(t) {\n  return new (t || RxMetadataLastUpdateTimeInterceptor)(i0.ɵɵinject(RxMetadataService));\n};\nRxMetadataLastUpdateTimeInterceptor.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxMetadataLastUpdateTimeInterceptor,\n  factory: RxMetadataLastUpdateTimeInterceptor.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxMetadataLastUpdateTimeInterceptor, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: RxMetadataService\n    }];\n  }, null);\n})();\nclass RxMetadataRequestInterceptor {\n  constructor(bundleCacheService, rxMetadataService, rxCurrentUserService, rxLocalizationService) {\n    this.bundleCacheService = bundleCacheService;\n    this.rxMetadataService = rxMetadataService;\n    this.rxCurrentUserService = rxCurrentUserService;\n    this.rxLocalizationService = rxLocalizationService;\n  }\n  intercept(request, next) {\n    const isLocalizedStringsRequest = this.rxMetadataService.isLocalizedStringsRequest(request);\n    const isMetadataDataPageQueryRequest = this.rxMetadataService.isMetadataDataPageQueryRequest(request);\n    const isMetadataRequest = this.rxMetadataService.isMetadataRequest(request);\n    if (isMetadataRequest || isLocalizedStringsRequest) {\n      const user = this.rxCurrentUserService.get();\n      const metaDataLastUpdateTime = this.rxMetadataService.getMetadataLastUpdateTime();\n      let params;\n      // duplicate the 'default-bundle-scope' request header as a request parameter\n      // in order to have a separate cache for requests with different bundle scope\n      const bundleId = isMetadataDataPageQueryRequest ? request.headers.get('default-bundle-scope') : this.bundleCacheService.bundleId;\n      if (isMetadataDataPageQueryRequest && bundleId) {\n        request = request.clone({\n          params: request.params.set('bundleId', bundleId)\n        });\n      }\n      if (metaDataLastUpdateTime) {\n        const cacheKey = [user.userId, user.modifiedDate.getTime(), metaDataLastUpdateTime.getTime(), this.rxLocalizationService.currentLocale].join('');\n        params = request.params.append('_v', cacheKey);\n        request = request.clone({\n          headers: request.headers.delete('Cache-Control').delete('Pragma').delete('If-Modified-Since'),\n          params: params\n        });\n      }\n    }\n    return next.handle(request);\n  }\n}\nRxMetadataRequestInterceptor.ɵfac = function RxMetadataRequestInterceptor_Factory(t) {\n  return new (t || RxMetadataRequestInterceptor)(i0.ɵɵinject(RxBundleCacheService), i0.ɵɵinject(RxMetadataService), i0.ɵɵinject(RxCurrentUserService), i0.ɵɵinject(RxLocalizationService));\n};\nRxMetadataRequestInterceptor.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxMetadataRequestInterceptor,\n  factory: RxMetadataRequestInterceptor.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxMetadataRequestInterceptor, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: RxBundleCacheService\n    }, {\n      type: RxMetadataService\n    }, {\n      type: RxCurrentUserService\n    }, {\n      type: RxLocalizationService\n    }];\n  }, null);\n})();\nclass RxRequestInterceptor {\n  constructor(rxBundleCacheService, rxGlobalCacheService) {\n    this.rxBundleCacheService = rxBundleCacheService;\n    this.rxGlobalCacheService = rxGlobalCacheService;\n  }\n  intercept(request, next) {\n    const bundleId = this.rxBundleCacheService.bundleId;\n    const applicationId = this.rxGlobalCacheService.applicationId;\n    // LMA:: Check if those headers are still necessary. Test with IE11.\n    request = request.clone({\n      headers: request.headers.set('X-Requested-By', 'XMLHttpRequest').set('If-Modified-Since', 'Mon, 26 Jul 1997 05:00:00 GMT').set('Cache-Control', 'no-cache').set('Pragma', 'no-cache')\n    });\n    if (bundleId && !request.headers.has('default-bundle-scope')) {\n      request = request.clone({\n        headers: request.headers.set('default-bundle-scope', bundleId)\n      });\n    }\n    if (applicationId === RX_APPLICATION.innovationStudioBundleId) {\n      request = request.clone({\n        headers: request.headers.set('Design-Time', 'true')\n      });\n    }\n    return next.handle(request);\n  }\n}\nRxRequestInterceptor.ɵfac = function RxRequestInterceptor_Factory(t) {\n  return new (t || RxRequestInterceptor)(i0.ɵɵinject(RxBundleCacheService), i0.ɵɵinject(RxGlobalCacheService));\n};\nRxRequestInterceptor.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxRequestInterceptor,\n  factory: RxRequestInterceptor.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxRequestInterceptor, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxBundleCacheService\n    }, {\n      type: RxGlobalCacheService\n    }];\n  }, null);\n})();\nclass RxUpgradeTrackerInterceptor {\n  constructor(rxMetadataService, rxUpgradeTrackerService) {\n    this.rxMetadataService = rxMetadataService;\n    this.rxUpgradeTrackerService = rxUpgradeTrackerService;\n  }\n  intercept(request, next) {\n    return next.handle(request).pipe(tap(httpEvent => {\n      const isCachedRequest = this.rxMetadataService.isMetadataRequest(request) || this.rxMetadataService.isLocalizedStringsRequest(request);\n      // Exclude resource calls since they never have the upgrade-mode header in the response.\n      // Exclude API calls that may be cached by browser with an outdated value of the header.\n      if (!isCachedRequest && httpEvent instanceof HttpResponse && /\\/api\\/rx/.test(request.url)) {\n        this.rxUpgradeTrackerService.isUpgradeInProgress = httpEvent.headers.has('upgrade-mode');\n      }\n    }));\n  }\n}\nRxUpgradeTrackerInterceptor.ɵfac = function RxUpgradeTrackerInterceptor_Factory(t) {\n  return new (t || RxUpgradeTrackerInterceptor)(i0.ɵɵinject(RxMetadataService), i0.ɵɵinject(RxUpgradeTrackerService));\n};\nRxUpgradeTrackerInterceptor.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxUpgradeTrackerInterceptor,\n  factory: RxUpgradeTrackerInterceptor.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxUpgradeTrackerInterceptor, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: RxMetadataService\n    }, {\n      type: RxUpgradeTrackerService\n    }];\n  }, null);\n})();\nclass RxCachingModule {\n  static forRoot() {\n    return {\n      ngModule: RxCachingModule,\n      providers: [{\n        provide: HTTP_INTERCEPTORS,\n        useClass: RxRequestInterceptor,\n        multi: true\n      }, {\n        provide: HTTP_INTERCEPTORS,\n        useClass: RxMetadataRequestInterceptor,\n        multi: true\n      }, {\n        provide: HTTP_INTERCEPTORS,\n        useClass: RxMetadataLastUpdateTimeInterceptor,\n        multi: true\n      }, {\n        provide: HTTP_INTERCEPTORS,\n        useClass: RxUpgradeTrackerInterceptor,\n        multi: true\n      }]\n    };\n  }\n}\nRxCachingModule.ɵfac = function RxCachingModule_Factory(t) {\n  return new (t || RxCachingModule)();\n};\nRxCachingModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: RxCachingModule,\n  imports: [CommonModule]\n});\nRxCachingModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxCachingModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule]\n    }]\n  }], null, null);\n})();\nconst RX_CHATBOT = {\n  defaultChatbotId: 'AGGADGG8ECDC0AP0PA6EPJSIGS75QX',\n  chatbotLocales: {\n    recordDefinitionName: 'Chatbot Locale',\n    fieldIds: {\n      providerPassword: 123,\n      chatbotName: 1772,\n      locale: 1775,\n      botConfigurationId: 536870913\n    }\n  }\n};\nconst botDefinitionDataPageQuery = 'com.bmc.arsys.rx.application.chat.datapage.ChatbotConfigurationDataPageQuery';\nclass RxChatbotDefinitionDataPageService extends DataPage {\n  constructor(injector) {\n    super(injector, botDefinitionDataPageQuery);\n    this.injector = injector;\n  }\n  get(dataPageRequestConfiguration = {}) {\n    return super.get(dataPageRequestConfiguration).pipe(tap(result => {\n      forEach(result.data, entity => {\n        entity.name = entity.chatbotName;\n        entity.lastUpdateTime = entity.modifiedDate;\n        entity.lastChangedBy = entity.modifiedBy;\n      });\n    }));\n  }\n}\nRxChatbotDefinitionDataPageService.ɵfac = function RxChatbotDefinitionDataPageService_Factory(t) {\n  return new (t || RxChatbotDefinitionDataPageService)(i0.ɵɵinject(i0.Injector));\n};\nRxChatbotDefinitionDataPageService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxChatbotDefinitionDataPageService,\n  factory: RxChatbotDefinitionDataPageService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxChatbotDefinitionDataPageService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i0.Injector\n    }];\n  }, null);\n})();\nclass RxLiveAgentSettingsService {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n    this.chatbotConfigurationUrl = '/api/rx/application/chat/chatbotconfiguration';\n  }\n  getAvailableTopics() {\n    return this.httpClient.get(`${this.chatbotConfigurationUrl}/virtualchattopics`);\n  }\n}\nRxLiveAgentSettingsService.ɵfac = function RxLiveAgentSettingsService_Factory(t) {\n  return new (t || RxLiveAgentSettingsService)(i0.ɵɵinject(i1.HttpClient));\n};\nRxLiveAgentSettingsService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxLiveAgentSettingsService,\n  factory: RxLiveAgentSettingsService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxLiveAgentSettingsService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1.HttpClient\n    }];\n  }, null);\n})();\nvar MachineLearningProviderNames;\n(function (MachineLearningProviderNames) {\n  MachineLearningProviderNames[\"Helix\"] = \"HELIX\";\n  MachineLearningProviderNames[\"Native\"] = \"NATIVE\";\n  MachineLearningProviderNames[\"Watson\"] = \"WATSON\";\n})(MachineLearningProviderNames || (MachineLearningProviderNames = {}));\nconst RX_DESIGNER = {\n  messageTypes: {\n    closeDesigner: 'closeDesigner',\n    afterSave: 'afterSave',\n    designerLoaded: 'designerLoaded',\n    designerLoadFailed: 'designerLoadFailed',\n    waitingForDesignerOptions: 'waitingForDesignerOptions',\n    definitionStatusChanged: 'definitionStatusChanged'\n  },\n  paletteIconPosition: {\n    top: 'top',\n    bottom: 'bottom'\n  },\n  paletteItemBorder: {\n    solid: 'solid',\n    bold: 'bold',\n    dashed: 'dashed',\n    double: 'double'\n  },\n  paletteItemLabel: {\n    inner: 'inner',\n    outer: 'outer',\n    none: 'none'\n  },\n  paletteItemShape: {\n    rectangle: 'rectangle',\n    circle: 'circle',\n    square: 'square',\n    annotation: 'annotation'\n  }\n};\nconst RX_DEFINITION = {\n  scopes: {\n    bundle: 'BUNDLE',\n    public: 'PUBLIC'\n  }\n};\nclass RxDefinitionAdapterRegistryService {\n  constructor() {\n    this.runtimeAdapters = new Map();\n    this.designAdapters = new Map();\n  }\n  registerRuntimeAdapter(type, adapter) {\n    this.runtimeAdapters.set(type, adapter);\n  }\n  registerDesignAdapter(type, adapter) {\n    this.designAdapters.set(type, adapter);\n  }\n  getRuntimeAdapter(type) {\n    return this.runtimeAdapters.get(type);\n  }\n  getDesignAdapter(type) {\n    return this.designAdapters.get(type);\n  }\n}\nRxDefinitionAdapterRegistryService.ɵfac = function RxDefinitionAdapterRegistryService_Factory(t) {\n  return new (t || RxDefinitionAdapterRegistryService)();\n};\nRxDefinitionAdapterRegistryService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxDefinitionAdapterRegistryService,\n  factory: RxDefinitionAdapterRegistryService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxDefinitionAdapterRegistryService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nclass RxDefinitionScopePipe {\n  constructor(rxDefinitionService) {\n    this.rxDefinitionService = rxDefinitionService;\n  }\n  transform(value, bundleDescriptor) {\n    return this.rxDefinitionService.getScopeName(value, bundleDescriptor);\n  }\n}\nRxDefinitionScopePipe.ɵfac = function RxDefinitionScopePipe_Factory(t) {\n  return new (t || RxDefinitionScopePipe)(i0.ɵɵdirectiveInject(RxDefinitionService, 16));\n};\nRxDefinitionScopePipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n  name: \"rxDefinitionScopePipe\",\n  type: RxDefinitionScopePipe,\n  pure: true\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxDefinitionScopePipe, [{\n    type: Pipe,\n    args: [{\n      name: 'rxDefinitionScopePipe'\n    }]\n  }], function () {\n    return [{\n      type: RxDefinitionService\n    }];\n  }, null);\n})();\nclass RxDefinitionNamePipe {\n  constructor(rxDefinitionNameService) {\n    this.rxDefinitionNameService = rxDefinitionNameService;\n  }\n  transform(value) {\n    return this.rxDefinitionNameService.getDisplayName(value);\n  }\n}\nRxDefinitionNamePipe.ɵfac = function RxDefinitionNamePipe_Factory(t) {\n  return new (t || RxDefinitionNamePipe)(i0.ɵɵdirectiveInject(RxDefinitionNameService, 16));\n};\nRxDefinitionNamePipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n  name: \"rxDefinitionNamePipe\",\n  type: RxDefinitionNamePipe,\n  pure: true\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxDefinitionNamePipe, [{\n    type: Pipe,\n    args: [{\n      name: 'rxDefinitionNamePipe'\n    }]\n  }], function () {\n    return [{\n      type: RxDefinitionNameService\n    }];\n  }, null);\n})();\nclass RxDefinitionModule {}\nRxDefinitionModule.ɵfac = function RxDefinitionModule_Factory(t) {\n  return new (t || RxDefinitionModule)();\n};\nRxDefinitionModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: RxDefinitionModule,\n  declarations: [RxDefinitionNamePipe, RxDefinitionScopePipe],\n  imports: [CommonModule],\n  exports: [RxDefinitionNamePipe, RxDefinitionScopePipe]\n});\nRxDefinitionModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxDefinitionModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [RxDefinitionNamePipe, RxDefinitionScopePipe],\n      exports: [RxDefinitionNamePipe, RxDefinitionScopePipe],\n      imports: [CommonModule]\n    }]\n  }], null, null);\n})();\nconst RX_ERROR_HANDLING = {\n  optimisticLockErrorHttpStatus: 412,\n  ignoredErrors: [{\n    status: 404,\n    contains: '/resources/i18n/locale'\n  }, {\n    status: 404,\n    contains: RX_APPLICATION.shellDefinitionName\n  }, {\n    status: 412,\n    contains: '\"messageNumber\":309'\n  }, {\n    status: 412,\n    contains: '\"messageNumber\":9965'\n  }],\n  maxErrorMessageLength: 500,\n  maxArMessageLength: 500,\n  arMessagesHeader: 'x-ar-messages',\n  arNoteLogInfo: 8914,\n  arGuestUserMessageNo: 59,\n  messageTypes: {\n    warning: 'WARNING',\n    success: 'SUCCESS',\n    info: 'INFO',\n    error: 'ERROR'\n  }\n};\nclass RxDefinitionUpdateService {\n  constructor(rxUtilityModalsService) {\n    this.rxUtilityModalsService = rxUtilityModalsService;\n  }\n  execute(updateFn) {\n    return updateFn().pipe(catchError(error => {\n      if (error.status === RX_ERROR_HANDLING.optimisticLockErrorHttpStatus) {\n        return from(this.rxUtilityModalsService.confirmExternalChange(error.error[0].messageText)).pipe(switchMap(isConfirmed => {\n          if (isConfirmed) {\n            return updateFn({\n              headers: {\n                'Override-Optimistic-Lock': 'true'\n              }\n            });\n          } else {\n            return throwError(error);\n          }\n        }));\n      } else {\n        return throwError(error);\n      }\n    }));\n  }\n}\nRxDefinitionUpdateService.ɵfac = function RxDefinitionUpdateService_Factory(t) {\n  return new (t || RxDefinitionUpdateService)(i0.ɵɵinject(i2$1.RxUtilityModalsService));\n};\nRxDefinitionUpdateService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxDefinitionUpdateService,\n  factory: RxDefinitionUpdateService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxDefinitionUpdateService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i2$1.RxUtilityModalsService\n    }];\n  }, null);\n})();\n\n// TODO-VS: do not provide in root\nclass RxCommandManagerService {\n  // TODO-VS: update types\n  get() {\n    return this.commandManager;\n  }\n  // TODO-VS: update types\n  set(commandManager) {\n    this.commandManager = commandManager;\n  }\n}\nRxCommandManagerService.ɵfac = function RxCommandManagerService_Factory(t) {\n  return new (t || RxCommandManagerService)();\n};\nRxCommandManagerService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxCommandManagerService,\n  factory: RxCommandManagerService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxCommandManagerService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nconst RX_DESIGNER_ELEMENT_SHAPE = {\n  bpmnIcons: {\n    gear: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsSAAALEgHS3X78AAAAw0lEQVQoz22SwRGCQAxF3zIUQAnSAXSAHUgHcslZK3CswPu/YAeUQAlQgp3oJThhNTM7s8lPfv783UQWZtYAC4CklOMpNE3AAHTAzfErsAIj0EtaSwcm4ADMGeEj3CegLjwZssaXnxgDwDbQREBSLanOiBqAZGbvUFwltZkJSyQssrUrv7GTVrh1V89P7li0uNsck5TKjLkCZjN7en722rdnGxjD1gq4/JE2Rlt719oGeQB34OhY/33pP99jc66VtDPiA3vHNpWAb5BUAAAAAElFTkSuQmCC',\n    user: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsSAAALEgHS3X78AAAAgUlEQVQoz5WQwRFAMBBFn4wClKAEOlCCDtz2qhbXvdCBlKAEHVCKS8ywMsi7bfa/7CYZBhFpgT6Ug6r6az8z4RLYzB21qq5n4Uyz5cntzAoFH1hhTxV8JDO9CVVkSnn7JREpwsP6IMRYgQHwOTADzcfqFTACnfsRvtI4EsmBJUU4ANvZFcko+HmJAAAAAElFTkSuQmCC',\n    message: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAYAAACALL/6AAAACXBIWXMAAAsSAAALEgHS3X78AAAAnUlEQVQY042RwQ3CMBAEh8gF0Al0QEpIOuA+90XpADrgfZ+kA9xBWgidUAKfDTKCSL6XfZrdldc7d38Ae+rmlYBOlww8N8DDyiUtFqAFbhGxlKS7H4ELMAHnRntTwuzubQF3wAzkiLBPglzN3ZHIpBmBe0QMq0lTxsvFBI6AlfCPQKIJ6IFe569J/yqJiLzVa9LjrpX/QFI7p0o+vwFVmjBfid8AeAAAAABJRU5ErkJggg==',\n    plus: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAD1BMVEUAAABmZmZmZmZmZmb////rTs6DAAAAA3RSTlMAgMBakZ4lAAAAAWJLR0QEj2jZUQAAACZJREFUGNNjYMAAwob05TAKAoGyEYgUYGA2hgMDVA6KsgFxKDIAALWJCwe6ztRNAAAAAElFTkSuQmCC',\n    cross: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAVFBMVEUAAABmZmZVVVVgYGBxcXFnZ2dlZWVnZ2dlZWVlZWVnZ2dmZmZmZmZlZWVmZmZnZ2dmZmZnZ2dmZmZmZmZmZmZnZ2dmZmZlZWVmZmZmZmZmZmb///8fAoMMAAAAGnRSTlMABQYICUVHSElRUqOoq62ur7O0tre4ubr3+qfgKgYAAAABYktHRBsCYNSkAAAAnklEQVQoz51SyxKDIAwkgvahFkrVav7/QxuCg0nxJAdIdsmwu4MxV9a9B9lCf8vFc8OPPXA74fbgyiPiq8wAt0c57TN2psaDuDQz4xaBExOoXVyFF8Z96QhKIklBfEfapMAyU91PqwnnuIExEWNF8CNnTyQrMaoMhF+VgfIrMvjLoWTAuPQrGa/EsLwce7sqXzSztrnsBiWxGbpLP+QHwMkPHpwyEy0AAAAASUVORK5CYII=',\n    multiInstanceParallel: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACxJREFUeNpilJOT+c+AAIwPHz5mkJeXBbGJEmdioBCMGjBqwKgBg8UAgAADADERCXj6SL6VAAAAAElFTkSuQmCC',\n    multiInstanceSequential: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACtJREFUeNpilJOTYaAEsADxf0oMYGKgEFBsAMgLjEPfC6OxMBoLFBsAEGAAje8DgZ8/t18AAAAASUVORK5CYII=',\n    action: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAAnUlEQVQokY2OsQ3CQBAE596P6IKABsiIoQ1kRHZN0Ik/QbgRyAkJKQQhmSUysl7y25vtavb2zN2vwAGoKKszszYCNWATMEAl6RRmwr0sZMFH0q3UyAvPlNJe0g54TBbMTAAppXvTNFtJNfAuLfzl7hFYAt9hHodGUnD3haQjcDazdX4oZn4DvMxsNbacvxSAUbgHVAIyKQCX2bTU/gAVMS805tVavgAAAABJRU5ErkJggg==',\n    clock: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAA/1BMVEUAAAAAAABgYGBxcXFdXV1qampiYmJpaWlra2tmZmZoaGhqampmZmZkZGRqampoaGhpaWlmZmZjY2NnZ2dlZWVpaWlmZmZkZGRnZ2dnZ2dmZmZnZ2dlZWVnZ2dmZmZnZ2dmZmZmZmZmZmZlZWVmZmZlZWVmZmZnZ2dmZmZnZ2dlZWVmZmZnZ2dlZWVlZWVlZWVmZmZnZ2dmZmZnZ2dmZmZmZmZmZmZlZWVmZmZmZmZnZ2dmZmZlZWVnZ2dmZmZnZ2dmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmb///8tfJx5AAAAU3RSTlMAAQgJCwwNERMUFhgZHB0gIiMkJSYnKCkqTVBSU1daXl9kaWpsb3Bydnd5e3x+iI2bn6Okp6iqq6ytrq+ws7a4udbX2Nrb3evx8vP09/j5+vz9/rXGk28AAAABYktHRFTkA4ilAAABCElEQVQoz2WS11rCQBCFBxugKDE2ROxixBIbxi7EAlKC2Zz3fxe3JNkNOTeTzD/7ze6ZIVKqHHf9ft/vHC2RKdtjiMU8W+cbIwR3O1axaDXuJxjWk7wT4bGa/FjPYKfqs87CpoiHrZKqC9m2iMsDODLhY0tVnuG3wsMtXikLCu+4IaqyyeoUoLW/cIWaaNM0IA8n1MFuHuzhg35g58EGvmiI+TxYwIBGmEvBdYurFINvrKdAShzbxKfR3HGlFuPm+rqGxHX1A7XkA7klb4VsXlkiTLzIgitlIrc9OjfrLyNluxzUkx7USzooNdr2fm1mtnbwYI6WqOyOk2UYu+VMQ74+vSDo6fX5B1EWNtYbmlVlAAAAAElFTkSuQmCC',\n    qualification: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAOtSURBVFiFtZddaBxVGIafb2a6STfRKo1QxYhGqQWtRWxjjCD+YFHaKxHpTSSQ7MSdgHS9qlBipFjJVQohG+cwpMFIBaN31YuIRaoXLfFCgxcWsfYn8Zc0pSa7ITtnjhfNwsY07uy0eWHh/HznfV6WnbPfCDHV0dHRkE6n90dR9LSItAF3A1sBB7gKXBCR76MoOqW1/nx0dPSfOL5SrSCbzbZEUXTIGHMAuC1m3oIx5mPLsgZ83/85UYDOzs76VCr1DpAD6mKC/6sScGx5eblvbGxsKXYAz/OaS6XSpyLSmhC8GiJyxhjzilLq96oBMpnMIyLyNdB0K+AVmomiaF8QBNPrBujq6nrItu3TXP+BbYRmHMfZk8/n/ygvWOWB67qbbNs+sYFwgHu11idzudzmNQGMMUeAPRsIL3OeKBQKh1YFcF33PhE5GNPjb+CwZVk7gQallNi2/aCIvAlcjhniLc/ztsH1SwRjzNsiEudRuwI8o5T6qXJxZGTkPDDked7xMAw/A/ZW8WkMw7AP8CSXy21eXFz8C2iMEeANpZQP4LpukzHmNRHRwLhSqgDQ29u7tVQqnQdur+K16DjONmthYeGlmPBisVj8CKC/v98BvhGRYeAD4GS5aHh4eA44FcOvQWu9z6L611XWpfHx8UWA2dnZVmBHxd5zrutuqZgvxDE0xjzviMijMQM87LquWWfv4vz8fCX0sZieuyxge8zi9XQliqIDExMTGsB13SdrCPCAA6RvAv5LFEUvBkHw6wp8BzBRw/ktFrApIXwJ2F+Gd3d3twGngeYaPLQFzCUMcK58H2Qyme2WZX0J3FWjx5wFXEgY4GJ5ICKvEu9RXiURmXWMMdMi0p4gwE7XdT9ZGT+e4DzAWQuYTHjYEpEWEWkBGhJ6fGvV19d/RcyLo1IictT3/d2+7+8GVAL4VWPMF9bQ0NA1YCyBwU1JRE4opQrOyvwYkKGG5tMY05TNZlsAtNZ31sgvGmMGoKIl6+npedcY01ejUVK9p5Q6DBUdUSqVOgpMr3vk1mmqrq7uSHmyqin1PK85DMMzwD0bBP8TaFVKXSovWJW7+Xz+chRFLwO/bQB8Fni2Er4mAEAQBNOO47QBP9xC+He2ba9p5QDsG1VPTU1da29vP6611sBTrPSOCbQEDACv+75/w/+cWC+nYRgeFJFO4r+cLojIh1rr94MgmPm/wqoByvI8r1Fr/QKwN4qiXSJyP3AHsLzyOSciPwKT6XR6cnBwsBjH919eHFLEJsIcUwAAAABJRU5ErkJggg==',\n    connector: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAtklEQVQokYWRUQ2DQBBEHw0GsEAlYIFKoBJuJGChFgYJxQIWsICEVkL7AZce7ZFecj+bN5OZ3SKE8ACe/H81sJTA0/Y5R0jqNzB+yiM7SXegS0YD0J4O4AZov8YVQFZgewaufLqNwPQjkNRI6iW1tqdNNNq+RqZM4PsWYwRmScH2EJ13Akm3pGAH1LYvubgxUvVVrsqwO0G6kRHIugMUIYQX6zYG1uNMB2wNdCWwJNkBmiN3YHkDS8QzErkLgz8AAAAASUVORK5CYII=',\n    errorEnd: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAABzUlEQVRYhe2WzXHCMBCFv2RSgEsgHYQOSAXBFQCXPeMKUgKc9xJSAaQC6AA6wCW4hBwszyiyZEkZxsOBd/LPev3NeyvZ8NCd6mnsF4pIAVyBAnhV1RrgeWwQYG8g6g5idBAR2QAzc3qw740GIiJzYG1d+rbvJ8+IyXYJXFT1lAnxBhxpI8H0mNo1OY4sgQ1wNI1TIQrgy4IAx41ckIV1nAOzAdzag1uUBCIiE6dZkQIjImtaJ22d7NWSBeJpFoURkRmtG656seSALALXvTBmLvaBZ3qxJIGYl0wGSnww9gr5A6Gqja/JSwyEsBsuzF5EpsAn/eHs9BNqkAKyTKiB1rUzYfcaVd2FHh6MxuyGPouHYELyzkYSCPCRARFTMJYUkPnAvToDolHV/zkiIkvCsWyBaQbMLlYw5EgolouqVmYZloB3OTrybmJRELMh+WJpgPfuRFUv5nwIpjZ1+SABCIDS3ZASYKJuDIH4NrEq9B8SgdmlgPR+jMyX9uo2U9VVrFnKD1BIPkfcWC5AldLMcqZTUiwhEDuWBliFPlQRmIrEWMCJxlh7ti6VsY3oVnIdsd3YjgXhA+nm46SqSXNxcxCzWia0c1GOCfHQXesXYhiZ69pK0h4AAAAASUVORK5CYII=',\n    errorBoundary: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAACR0lEQVRYhe2Wz3XiQAyHv90KTAcuATpIKlioYMlF14VKIFddMBXAVhA6gA7iDkIJexhNUAaP/+Tt88shusDYsvz5p5E08G1f1H6M/UIRKYBXoAAmqnoF+Dk2CHAwiDpCjA4iIhvgwZZHf280EBGZAyt3ae/v994jltslcFHV00CIKfBCSAkWY+Z9hiiyBDbAiwXuC1EAO4Oo7fI+9RsC8tv9HwKzAaaEPRE35zF16gUiIqUFuwBPhK/rhBGRFZZO4NlinFS1/hSIBQPYq2rVB0ZEHghqXM3/V4zR5N8XJKalAjCYdQ7G9sXBlmtVvQBzW9+lpReIvaQEjr4BqerWwJpgYoVsVbXKxRgEwk2Nv+kNVX1yMAcRKaxpTQklujbXP7kYQ0CW9tsoqYMpgTOhaV2BR+c2B66W0uEg1g0LoPKSikjpU5HAXIFF9HcxGj+kFwi3nf4uqVXDGTiLyC6BmQGzpPPexWiy1hYvIm/2komt/QivCQpUBtH0fAG8EdIyaXtXVhERWXIv6Xs1EL6+BpZemcRiyVZtEK0g3CR9NrAP1WB7YEHYEzmY1ibWCWKSzgmHl4upc1cN1qgeHcwqF+NTILguaNWxsfUibUgJzMagwY2FLog2EN/E4ghf584hCczOYD6MhS67qxqbtK+EiVkT1MlWRvJs5wEoZ02KxLTEHF8IA67TnDLReqUlBxIlLbERnhtUHTBreqYFktSYtGd3aaGqra35f1mqiD8ObseCaAKJ++PkRvi4INaASmx6jgnxbV/a/gFaCwT89kIjVgAAAABJRU5ErkJggg==',\n    webRequest: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAtklEQVQokYWRUQ2DQBBEHw0GsEAlYIFKoBJuJGChFgYJxQIWsICEVkL7AZce7ZFecj+bN5OZ3SKE8ACe/H81sJTA0/Y5R0jqNzB+yiM7SXegS0YD0J4O4AZov8YVQFZgewaufLqNwPQjkNRI6iW1tqdNNNq+RqZM4PsWYwRmScH2EJ13Akm3pGAH1LYvubgxUvVVrsqwO0G6kRHIugMUIYQX6zYG1uNMB2wNdCWwJNkBmiN3YHkDS8QzErkLgz8AAAAASUVORK5CYII=',\n    transparent: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=',\n    info: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAz0lEQVQokX2SsQ3CMBBFXzJBRsgIkWsX1G6ACYANwgTABBEbMAI0aQmS6wAbMAIjoB/ZUogMv7Clu/vf/+6cEWDbvgBqYA5UwBvogKN3pot1A8G2vQquQEEaJ+/MRpnctn2ZKD4E9Yi1bftmIABNQlnFr0mslhMRFpPECZgBZcLcKk8En96ZPXBL5KoUofnR+IAU4RFu9aDRfuVEGE9D2OrwzqiXSI64ZGEH9382As7emWXunZGKljJ9fgy5GBY3/hoa4y6MOe5FYvoasgfAB64INJdEFsdVAAAAAElFTkSuQmCC',\n    jitterbit: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAEwUlEQVR4nO3aeahVVRTH8U83LW00s0GigkpRK8yKCqKiwiyQaKASI5WMoKCBoLKkOQgaiKRSooiIShqsiMoKksrmlGYaoKKSZ5PaYKg59Mc6t3fve/fdd8/Z1/v643xh8/Sx92+tvc8+a629z6OkpKSkpKSkpKSkpIMciAswdKAdGSjOxyb8hH0G0pHKANk9Kvv5Cb4ZIB9aZofNoPcn/sEBbdZuO+PxPca1UfNqsf0faqPmZuNSbMQSDG6D3mj8LRbgyDbodYSZ2IB50mLGCHwlJr88UavjXC8cf1ixnTAaX2QamzA/0Z/hieNzU8Ei4fynOKHFcYNxkQh6m2ralYn+LMPdiRq5OVjEg+ok3hET2R+DavoNwgRcg2/VT7zapib68obYlR3nKY0ntA4r0IX1ffSpbZMT/XhBmxZgUP9d6ngQpzX4/WDsJCb/qtgdP2b/3xWH4PisD+kl8LYYlqhR2PAavZ/oWtyG3ZqMHYJzxcLMSPRjGRYmahTmXfWTX4ZDc4zfHmMT7I/L7P6JrRN0CvOi7sl/jT06bP/eGvtTOmwbPJEZXyMyQyc5QpwhqgvwsfZUqLl4PTN+c6LO+Jz9x4rXrWf8uSHRj9z8Ip5CytbfGavxgO7M0Iwz8ZvGKXUjpiX4kou9MqOLEnWO0V0k/YTZmXYt2+AUvJb1+0GcIK8T1eUtIhOsF2eV2dgi0a9+uSRzZm6b9A4Tk1qX6X6PD/C57nS7Gudhyz40RoozyiYs1lpcOk6Bcryi+0BzRd7B/bCXeB02qN/eP4tFaoWZukv113AZjsYocQc5GTeJW6iFuDCvk9NrHJuVd3A/VI/Gh+P9Gjt5S+YrNI4T1Vhxn4Kxaw/xNKpi9xQRacI8HJT9uyIuTe8soFMRB6Wek1+FE4s6twPe6yG4pKhYAwaJxf1dBL1UJqn39S+xswoxUu/St9pSytlazlC/TedixwS9ClbWaE4vKjJVHG/7eqeeTHCyynbiWryndhcuVvzUWI0ji/MOrOAkLG3gVKM2s6CDsBWe60d/Fe4XdUOeO8Sq//2+UtXC4WJRmk7KjL4hcvFKkaN3x96ZIwfXjFsvPnHdn8M54tV6BMfmGLNc1AhL8SZe7qNfNaYMFhXnulbEX8IckTP7Y3fcKIJW9Uk9jTEtjN1KLNiv2biPcCvOEgu7Z6a/j7g2Pwd3Zf1qd8YdTWxMzPq81YI//1GkhByOx2uc2igKkFni9meUmMwYkc/vFE9xrQh0eb8K7SfK3y7Nc/lj2hejWuIy9Zelzdrz0j+GNrvGq02BjybaycVVmk98jThHbM7DygT1WeuVzWirIQ/pe/ITC2ruIjJNs4Wr4Gz80cNuV0GbhRmm94XFeo1vkVtlp0znbZyq/iZ4b3HJ2jNA1rajdJjLezgwJ1FvqN4LukKk6tWi4FkggvFCfNej/9OJ9nMzQveRtktaSQv76v1UF+Nkcc3eiJHiVPidhFI4hc8yw7PboDVD98S/FOm1VYbidhEbOvoqPCMc3q8NWoszrWcV303TxCKkfo5rmfn4sA06p4vJz5OePqeIT/QdYZH0P3+piO+LC/R9F/i/ZTmuHWgnWqXdf6YyRHw4ebvNuiUlJSUlJSUlJSUl7eVfZ4yXeU+b+PAAAAAASUVORK5CYII=',\n    mulesoft: 'data:image/png;base64,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'\n  }\n};\nclass RxDesignerStencilBuilder {\n  buildElementsTree(elementsSources, elementGroups) {\n    return forkJoin(elementsSources).pipe(map(elements => {\n      return flow(flatten, chainElements => map$1(chainElements, 'group'), uniq, compact, groupNames => sortBy(groupNames, groupName => groupName.toLowerCase()), groupNames => sortBy(groupNames, groupName => (find(elementGroups, {\n        name: groupName\n      }) || elementGroups.default).priority), groupNames => map$1(groupNames, groupName => {\n        return {\n          label: groupName,\n          children: flow(flatten, chainElements => filter$1(chainElements, {\n            group: groupName\n          }), chainElements => sortBy(chainElements, element => element.label.toLowerCase()))(elements)\n        };\n      }))(elements);\n    }));\n  }\n}\nRxDesignerStencilBuilder.ɵfac = function RxDesignerStencilBuilder_Factory(t) {\n  return new (t || RxDesignerStencilBuilder)();\n};\nRxDesignerStencilBuilder.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxDesignerStencilBuilder,\n  factory: RxDesignerStencilBuilder.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxDesignerStencilBuilder, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nconst tenancyModes = {\n  shared: 0,\n  dedicated: 1,\n  unified: 2\n};\nconst RX_ENVIRONMENT = {\n  tenancyModes,\n  tenancyModeNames: {\n    [tenancyModes.shared]: 'Shared',\n    [tenancyModes.dedicated]: 'Dedicated',\n    [tenancyModes.unified]: 'Unified'\n  }\n};\nclass RxServerErrorHandlerService {\n  constructor(translateService, rxNotificationService) {\n    this.translateService = translateService;\n    this.rxNotificationService = rxNotificationService;\n  }\n  getServerResponseErrorDetails(responseData) {\n    let messages;\n    try {\n      messages = JSON.parse(responseData);\n    } catch (ignored) {\n      messages = [...responseData];\n    }\n    if (Array.isArray(messages)) {\n      return messages.filter(message => message.messageType !== RX_ERROR_HANDLING.messageTypes.success && (message.messageText || message.appendedText));\n    } else {\n      return null;\n    }\n  }\n  buildMessageFromRawResponse(response) {\n    const errorMessage = {\n      title: '',\n      message: ''\n    };\n    if (response.status === 0) {\n      errorMessage.title = this.translateService.instant('com.bmc.arsys.rx.client.error-handling.network-error.title');\n      errorMessage.message = this.translateService.instant('com.bmc.arsys.rx.client.error-handling.network-error.message');\n    } else {\n      errorMessage.title = this.translateService.instant('com.bmc.arsys.rx.client.error-handling.server-communication-error.title');\n      errorMessage.message = this.translateService.instant('com.bmc.arsys.rx.client.error-handling.server-communication-error.message', {\n        status: compact([response.status, response.statusText]).join(' ')\n      });\n    }\n    return errorMessage;\n  }\n  buildMessageFromErrorDetails(error) {\n    return {\n      title: `${error.messageType} (${error.messageNumber})`,\n      message: truncate([error.messageText, error.appendedText].filter(Boolean).join(' '), {\n        length: RX_ERROR_HANDLING.maxErrorMessageLength\n      })\n    };\n  }\n  handle(error) {\n    if (!this.canIgnore(error)) {\n      const operationId = error.headers.get('operation-id');\n      if (Array.isArray(error.error) || isString(error.error)) {\n        const messages = this.getServerResponseErrorDetails(error.error);\n        messages.forEach(message => {\n          const messageDetails = this.buildMessageFromErrorDetails(message);\n          switch (message.messageType) {\n            case RX_ERROR_HANDLING.messageTypes.error:\n              this.rxNotificationService.addErrorMessage(messageDetails.message, messageDetails.title, {\n                issue: Object.assign(Object.assign({}, message), {\n                  operationId,\n                  enableIssueReporting: true\n                })\n              });\n              break;\n            case RX_ERROR_HANDLING.messageTypes.warning:\n              this.rxNotificationService.addWarningMessage(messageDetails.message, messageDetails.title, {\n                issue: Object.assign(Object.assign({}, message), {\n                  operationId,\n                  enableIssueReporting: true\n                })\n              });\n              break;\n            case RX_ERROR_HANDLING.messageTypes.info:\n              this.rxNotificationService.addInfoMessage(messageDetails.message, messageDetails.title);\n              break;\n          }\n        });\n      } else {\n        const errorMessage = this.buildMessageFromRawResponse(error);\n        this.rxNotificationService.addErrorMessage(errorMessage.message, errorMessage.title);\n      }\n    }\n  }\n  canIgnore(err) {\n    return some(RX_ERROR_HANDLING.ignoredErrors, ignoredError => ignoredError.status === err.status && includes(JSON.stringify(err.error), ignoredError.contains));\n  }\n}\nRxServerErrorHandlerService.ɵfac = function RxServerErrorHandlerService_Factory(t) {\n  return new (t || RxServerErrorHandlerService)(i0.ɵɵinject(i2.TranslateService), i0.ɵɵinject(RxNotificationService));\n};\nRxServerErrorHandlerService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxServerErrorHandlerService,\n  factory: RxServerErrorHandlerService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxServerErrorHandlerService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i2.TranslateService\n    }, {\n      type: RxNotificationService\n    }];\n  }, null);\n})();\nclass RxScriptErrorHandler {\n  constructor(rxNotificationService, rxLogService, translateService) {\n    this.rxNotificationService = rxNotificationService;\n    this.rxLogService = rxLogService;\n    this.translateService = translateService;\n  }\n  handle(error) {\n    const rxErrorMessage = truncate(`${this.translateService.instant('com.bmc.arsys.rx.client.error-handling.script-error.message')} ${error.message}`, {\n      length: RX_ERROR_HANDLING.maxErrorMessageLength\n    });\n    this.rxNotificationService.addErrorMessage(rxErrorMessage, this.translateService.instant('com.bmc.arsys.rx.client.error-handling.script-error.title'), {\n      suppressLog: true\n    });\n    this.rxLogService.error(error.stack);\n  }\n}\nRxScriptErrorHandler.ɵfac = function RxScriptErrorHandler_Factory(t) {\n  return new (t || RxScriptErrorHandler)(i0.ɵɵinject(RxNotificationService), i0.ɵɵinject(RxLogService), i0.ɵɵinject(i2.TranslateService));\n};\nRxScriptErrorHandler.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxScriptErrorHandler,\n  factory: RxScriptErrorHandler.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxScriptErrorHandler, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxNotificationService\n    }, {\n      type: RxLogService\n    }, {\n      type: i2.TranslateService\n    }];\n  }, null);\n})();\nclass RxErrorHandlerService extends ErrorHandler {\n  constructor(rxServerErrorHandler, rxScriptErrorHandler, rxLogService) {\n    super();\n    this.rxServerErrorHandler = rxServerErrorHandler;\n    this.rxScriptErrorHandler = rxScriptErrorHandler;\n    this.rxLogService = rxLogService;\n  }\n  handleError(error) {\n    if (error instanceof HttpErrorResponse) {\n      this.rxServerErrorHandler.handle(error);\n      super.handleError(error);\n    } else if (error instanceof Error && !(error instanceof RxError)) {\n      // Script error is considered when \"error\" is\n      // an instance of Error but not an instance of RxError\n      // (RxError's must only be logged in the debug mode).\n      this.rxScriptErrorHandler.handle(error);\n      super.handleError(error);\n    } else {\n      this.rxLogService.debug(error.message);\n    }\n  }\n}\nRxErrorHandlerService.ɵfac = function RxErrorHandlerService_Factory(t) {\n  return new (t || RxErrorHandlerService)(i0.ɵɵinject(RxServerErrorHandlerService), i0.ɵɵinject(RxScriptErrorHandler), i0.ɵɵinject(RxLogService));\n};\nRxErrorHandlerService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxErrorHandlerService,\n  factory: RxErrorHandlerService.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxErrorHandlerService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: RxServerErrorHandlerService\n    }, {\n      type: RxScriptErrorHandler\n    }, {\n      type: RxLogService\n    }];\n  }, null);\n})();\nclass RxServerMessageHandlerService {\n  constructor(rxNotificationService, rxJsonParserService, rxStringService) {\n    this.rxNotificationService = rxNotificationService;\n    this.rxJsonParserService = rxJsonParserService;\n    this.rxStringService = rxStringService;\n  }\n  handleServerResponseMessage(serverMessage) {\n    const decodedMessage = this.rxStringService.decodeQ(serverMessage);\n    const messages = reject(this.rxJsonParserService.tryParseJson(decodedMessage, []), message => message.messageNumber === RX_ERROR_HANDLING.arNoteLogInfo);\n    messages.forEach(this.addMessage.bind(this));\n  }\n  addMessage(message) {\n    let messageTitle = `${message.messageType}`;\n    if (message.messageType !== RX_ERROR_HANDLING.messageTypes.success) {\n      messageTitle += ` (${message.messageNumber})`;\n    }\n    const messageString = truncate(`${[message.appendedText, message.messageText].filter(Boolean).join(' ')}`, {\n      length: RX_ERROR_HANDLING.maxArMessageLength\n    });\n    switch (message.messageType) {\n      case RX_ERROR_HANDLING.messageTypes.warning:\n        {\n          this.rxNotificationService.addWarningMessage(messageString, messageTitle);\n          break;\n        }\n      case RX_ERROR_HANDLING.messageTypes.success:\n        {\n          this.rxNotificationService.addSuccessMessage(messageString, messageTitle);\n          break;\n        }\n      default:\n        {\n          this.rxNotificationService.addInfoMessage(messageString, messageTitle);\n          break;\n        }\n    }\n  }\n}\nRxServerMessageHandlerService.ɵfac = function RxServerMessageHandlerService_Factory(t) {\n  return new (t || RxServerMessageHandlerService)(i0.ɵɵinject(RxNotificationService), i0.ɵɵinject(i2$2.RxJsonParserService), i0.ɵɵinject(i2$2.RxStringService));\n};\nRxServerMessageHandlerService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxServerMessageHandlerService,\n  factory: RxServerMessageHandlerService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxServerMessageHandlerService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RxNotificationService\n    }, {\n      type: i2$2.RxJsonParserService\n    }, {\n      type: i2$2.RxStringService\n    }];\n  }, null);\n})();\nclass RxHttpResponseMessageInterceptor {\n  constructor(rxServerMessageHandler) {\n    this.rxServerMessageHandler = rxServerMessageHandler;\n  }\n  intercept(request, next) {\n    return next.handle(request).pipe(tap(httpEvent => {\n      if (httpEvent instanceof HttpResponse) {\n        const message = httpEvent.headers.get(RX_ERROR_HANDLING.arMessagesHeader);\n        if (message) {\n          this.rxServerMessageHandler.handleServerResponseMessage(message);\n        }\n      }\n    }));\n  }\n}\nRxHttpResponseMessageInterceptor.ɵfac = function RxHttpResponseMessageInterceptor_Factory(t) {\n  return new (t || RxHttpResponseMessageInterceptor)(i0.ɵɵinject(RxServerMessageHandlerService));\n};\nRxHttpResponseMessageInterceptor.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxHttpResponseMessageInterceptor,\n  factory: RxHttpResponseMessageInterceptor.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxHttpResponseMessageInterceptor, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: RxServerMessageHandlerService\n    }];\n  }, null);\n})();\nclass RxErrorHandlingModule {\n  static forRoot() {\n    return {\n      ngModule: RxErrorHandlingModule,\n      providers: [{\n        provide: HTTP_INTERCEPTORS,\n        useClass: RxHttpResponseMessageInterceptor,\n        multi: true\n      }, {\n        provide: ErrorHandler,\n        useClass: RxErrorHandlerService\n      }]\n    };\n  }\n}\nRxErrorHandlingModule.ɵfac = function RxErrorHandlingModule_Factory(t) {\n  return new (t || RxErrorHandlingModule)();\n};\nRxErrorHandlingModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: RxErrorHandlingModule,\n  imports: [CommonModule]\n});\nRxErrorHandlingModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxErrorHandlingModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule]\n    }]\n  }], null, null);\n})();\nvar ExpressionOperator;\n(function (ExpressionOperator) {\n  ExpressionOperator[\"LeftGrouping\"] = \"(\";\n  ExpressionOperator[\"RightGrouping\"] = \")\";\n  ExpressionOperator[\"DoubleQuote\"] = \"\\\"\";\n  ExpressionOperator[\"Add\"] = \"+\";\n  ExpressionOperator[\"Subtract\"] = \"-\";\n  ExpressionOperator[\"Multiply\"] = \"*\";\n  ExpressionOperator[\"Divide\"] = \"/\";\n  ExpressionOperator[\"Remainder\"] = \"%\";\n  ExpressionOperator[\"GreaterThan\"] = \">\";\n  ExpressionOperator[\"LessThan\"] = \"<\";\n  ExpressionOperator[\"Equal\"] = \"=\";\n  ExpressionOperator[\"NotEqual\"] = \"!=\";\n  ExpressionOperator[\"GreaterThanOrEqual\"] = \">=\";\n  ExpressionOperator[\"LessThanOrEqual\"] = \"<=\";\n  ExpressionOperator[\"In\"] = \"IN\";\n  ExpressionOperator[\"Like\"] = \"LIKE\";\n  ExpressionOperator[\"Contains\"] = \"CONTAINS\";\n  ExpressionOperator[\"And\"] = \"AND\";\n  ExpressionOperator[\"Or\"] = \"OR\";\n  ExpressionOperator[\"Not\"] = \"NOT\";\n  ExpressionOperator[\"Null\"] = \"NULL\";\n  ExpressionOperator[\"NullExpression\"] = \"$NULL$\";\n})(ExpressionOperator || (ExpressionOperator = {}));\nvar ExpressionOperatorGroup;\n(function (ExpressionOperatorGroup) {\n  ExpressionOperatorGroup[\"All\"] = \"all\";\n  ExpressionOperatorGroup[\"AllServer\"] = \"allServer\";\n  ExpressionOperatorGroup[\"AllClient\"] = \"allClient\";\n  ExpressionOperatorGroup[\"Math\"] = \"math\";\n  ExpressionOperatorGroup[\"MathClient\"] = \"mathClient\";\n})(ExpressionOperatorGroup || (ExpressionOperatorGroup = {}));\nconst allOperatorsMap = new Map(Object.values(ExpressionOperator).map(value => [value, {\n  displayValue: value === ExpressionOperator.NullExpression ? 'NULL' : value,\n  value\n}]));\nconst allOperatorRows = [[allOperatorsMap.get(ExpressionOperator.LeftGrouping), allOperatorsMap.get(ExpressionOperator.RightGrouping), allOperatorsMap.get(ExpressionOperator.DoubleQuote), allOperatorsMap.get(ExpressionOperator.Add), allOperatorsMap.get(ExpressionOperator.Subtract), allOperatorsMap.get(ExpressionOperator.Multiply), allOperatorsMap.get(ExpressionOperator.Divide), allOperatorsMap.get(ExpressionOperator.Remainder)], [allOperatorsMap.get(ExpressionOperator.GreaterThan), allOperatorsMap.get(ExpressionOperator.LessThan), allOperatorsMap.get(ExpressionOperator.Equal), allOperatorsMap.get(ExpressionOperator.NotEqual), allOperatorsMap.get(ExpressionOperator.GreaterThanOrEqual), allOperatorsMap.get(ExpressionOperator.LessThanOrEqual), allOperatorsMap.get(ExpressionOperator.Like)], [allOperatorsMap.get(ExpressionOperator.And), allOperatorsMap.get(ExpressionOperator.Or), allOperatorsMap.get(ExpressionOperator.Not), allOperatorsMap.get(ExpressionOperator.NullExpression)]];\nconst allClientOperatorRows = [[...allOperatorRows[0]], [allOperatorsMap.get(ExpressionOperator.GreaterThan), allOperatorsMap.get(ExpressionOperator.LessThan), allOperatorsMap.get(ExpressionOperator.Equal), allOperatorsMap.get(ExpressionOperator.NotEqual), allOperatorsMap.get(ExpressionOperator.GreaterThanOrEqual), allOperatorsMap.get(ExpressionOperator.LessThanOrEqual), allOperatorsMap.get(ExpressionOperator.Contains)], [allOperatorsMap.get(ExpressionOperator.And), allOperatorsMap.get(ExpressionOperator.Or), allOperatorsMap.get(ExpressionOperator.Not), allOperatorsMap.get(ExpressionOperator.Null)]];\nconst mathOperatorRow = [allOperatorsMap.get(ExpressionOperator.LeftGrouping), allOperatorsMap.get(ExpressionOperator.RightGrouping), allOperatorsMap.get(ExpressionOperator.DoubleQuote), allOperatorsMap.get(ExpressionOperator.Add), allOperatorsMap.get(ExpressionOperator.Subtract), allOperatorsMap.get(ExpressionOperator.Multiply), allOperatorsMap.get(ExpressionOperator.Divide), allOperatorsMap.get(ExpressionOperator.Remainder)];\nconst ExpressionOperatorRowsByGroup = new Map([[ExpressionOperatorGroup.All, allOperatorRows], [ExpressionOperatorGroup.AllServer, allOperatorRows], [ExpressionOperatorGroup.AllClient, allClientOperatorRows], [ExpressionOperatorGroup.Math, [[...mathOperatorRow, allOperatorsMap.get(ExpressionOperator.NullExpression)]]], [ExpressionOperatorGroup.MathClient, [[...mathOperatorRow, allOperatorsMap.get(ExpressionOperator.Null)]]]]);\nclass RxExpressionConfigurator {\n  constructor() {\n    this.expressionConfigs = [];\n  }\n  getDefaultConfig() {\n    return {\n      dataDictionary$: this.commonDataDictionary$,\n      operators: ExpressionOperatorRowsByGroup.get(ExpressionOperatorGroup.Math),\n      validateExpression: (propertyPath, expression) => of(true)\n    };\n  }\n  configureForProperty(config) {\n    this.expressionConfigs.push(Object.assign(Object.assign({}, this.getDefaultConfig()), config));\n  }\n  getDataDictionary(propertyPath) {\n    return this.getExpressionConfig(propertyPath).dataDictionary$.pipe(map(dataDictionary => this.sortDataDictionary(dataDictionary)));\n  }\n  getOperators(propertyPath) {\n    return flatten(this.getOperatorRows(propertyPath));\n  }\n  getOperatorRows(propertyPath) {\n    return this.getExpressionConfig(propertyPath).operators;\n  }\n  getOperatorRowsByGroup(group) {\n    return cloneDeep(ExpressionOperatorRowsByGroup.get(group));\n  }\n  getExpressionConfig(propertyPath) {\n    return this.expressionConfigs.find(config => isRegExp(config.propertyPath) ? config.propertyPath.test(propertyPath) : config.propertyPath === propertyPath) || Object.assign({\n      propertyPath\n    }, this.getDefaultConfig());\n  }\n  validateProperty(propertyPath, propertyValue) {\n    return propertyValue ? this.getExpressionConfig(propertyPath).validateExpression(propertyPath, propertyValue) : of(true);\n  }\n  sortDataDictionary(dataDictionary) {\n    forEach(dataDictionary, node => {\n      if (node.children) {\n        node.children = this.sortDataDictionary(sortBy(node.children, [child => !isUndefined(child.expression), 'label']));\n      }\n    });\n    return dataDictionary;\n  }\n}\nvar ExpressionParserToken;\n(function (ExpressionParserToken) {\n  ExpressionParserToken[\"SingleQuoteRxExpression\"] = \"__SINGLE_QUOTE_RX_EXPRESSION__\";\n  ExpressionParserToken[\"SingleQuoteTextExpression\"] = \"__SINGLE_QUOTE_TEXT_EXPRESSION__\";\n  ExpressionParserToken[\"ArExpression\"] = \"__AR_EXPRESSION__\";\n  ExpressionParserToken[\"RxExpression\"] = \"__RX_EXPRESSION__\";\n  ExpressionParserToken[\"RxStringExpression\"] = \"__RX_STRING_EXPRESSION__\";\n  ExpressionParserToken[\"RxOperator\"] = \"__RX_OP__\";\n})(ExpressionParserToken || (ExpressionParserToken = {}));\nclass RxExpressionParserService {\n  constructor() {\n    this.tokenRegExpMap = new Map([[ExpressionParserToken.SingleQuoteRxExpression, /('\\${[^{}$]+}')/g], [ExpressionParserToken.SingleQuoteTextExpression, /('[^$']+')/g], [ExpressionParserToken.ArExpression, /(\\$[A-Z]+\\$)|(\\$\\\\[A-Z]+\\$)/g], [ExpressionParserToken.RxExpression, /(\\${[^{}$]+})/g], [ExpressionParserToken.RxStringExpression, /(\"[^\"]+\")|('[^']+')/g]]);\n  }\n  parse(expression, replaceFunc, operators = []) {\n    if (operators.length) {\n      const pattern = operators\n      // Sort operators in descending order by length to find a compound operator in an expression.\n      // e.g. \"${foo} >= ${bar}\" has \">=\" operator instead of \">\" and \"=\" separately.\n      .sort((prevOperator, operator) => operator.value.length - prevOperator.value.length).map(operator => `\\\\${operator.value.split('').join('\\\\')}`).join('|');\n      this.tokenRegExpMap.set(ExpressionParserToken.RxOperator, new RegExp(pattern, 'g'));\n    }\n    const expressionValuesMap = new Map();\n    for (const [token] of this.tokenRegExpMap) {\n      let expressionValues;\n      ({\n        expression,\n        expressionValues\n      } = this.extractExpressionValues(expression, token, this.tokenRegExpMap.get(token)));\n      if (expressionValues) {\n        expressionValuesMap.set(token, expressionValues);\n      }\n    }\n    return Array.from(expressionValuesMap.keys()).reverse().reduce((result, token) => result.replace(new RegExp(token, 'g'), () => replaceFunc(token, expressionValuesMap.get(token).next().value)), expression);\n  }\n  // Replaces all spaces with a single space except user inputs\n  // ${view.foo} =   \"bar\" -> ${view.foo} = \"bar\"\n  // ${view.foo} =   \"    bar\" -> ${view.foo} = \"    bar\"\n  stripSpaces(expression) {\n    let result = expression;\n    if (!isNil(expression)) {\n      const token = ExpressionParserToken.RxStringExpression;\n      const extractExpressionsResult = this.extractExpressionValues(expression, token, this.tokenRegExpMap.get(token));\n      result = extractExpressionsResult.expression.replace(/\\s+/g, ' ').replace(new RegExp(ExpressionParserToken.RxStringExpression, 'g'), () => extractExpressionsResult.expressionValues.next().value);\n    }\n    return result;\n  }\n  extractExpressionValues(expression, token, regExp) {\n    const expressionValues = expression.match(regExp);\n    forEach(expressionValues, value => expression = expression.replace(value, token));\n    return {\n      expression,\n      expressionValues: expressionValues && expressionValues.values()\n    };\n  }\n}\nRxExpressionParserService.ɵfac = function RxExpressionParserService_Factory(t) {\n  return new (t || RxExpressionParserService)();\n};\nRxExpressionParserService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxExpressionParserService,\n  factory: RxExpressionParserService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxExpressionParserService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nvar FormBuilderEvent;\n(function (FormBuilderEvent) {\n  FormBuilderEvent[FormBuilderEvent[\"HideWidget\"] = 0] = \"HideWidget\";\n})(FormBuilderEvent || (FormBuilderEvent = {}));\nclass RxFunctionalRoleDataPageService extends DataPage {\n  constructor(injector) {\n    super(injector, 'com.bmc.arsys.rx.application.functionalrole.datapage.FunctionalRoleDataPageQuery');\n    this.injector = injector;\n  }\n}\nRxFunctionalRoleDataPageService.ɵfac = function RxFunctionalRoleDataPageService_Factory(t) {\n  return new (t || RxFunctionalRoleDataPageService)(i0.ɵɵinject(i0.Injector));\n};\nRxFunctionalRoleDataPageService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxFunctionalRoleDataPageService,\n  factory: RxFunctionalRoleDataPageService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxFunctionalRoleDataPageService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i0.Injector\n    }];\n  }, null);\n})();\nvar NodeInfoType;\n(function (NodeInfoType) {\n  NodeInfoType[\"function\"] = \"function\";\n})(NodeInfoType || (NodeInfoType = {}));\nclass RxDataDictionaryUtils {\n  addTooltips(dataDictionary, parentNodeLabel) {\n    return map$1(dataDictionary, node => {\n      const tooltip = parentNodeLabel ? `${parentNodeLabel} > ${node.label}` : node.label;\n      return Object.assign(Object.assign({}, node), {\n        tooltip,\n        children: node.children ? this.addTooltips(node.children, tooltip) : null\n      });\n    });\n  }\n  // TODO-VS: refactor to use below method\n  getFunctionsDataDictionaryBranch(functionDescriptors) {\n    return chain(functionDescriptors).groupBy('category').map((functionDescriptors, category) => ({\n      label: category,\n      children: map$1(functionDescriptors, functionDescriptor => ({\n        label: functionDescriptor.name + '()',\n        icon: 'd-icon-mathematical_function',\n        expression: functionDescriptor.name + '()',\n        info: {\n          type: NodeInfoType.function,\n          data: functionDescriptor\n        }\n      }))\n    })).value();\n  }\n  getFunctionDataDictionaryBranch(functionDescriptors) {\n    return chain(functionDescriptors).groupBy('type').map((functionDescriptors, functionType) => ({\n      label: functionType,\n      children: map$1(functionDescriptors, functionDescriptor => ({\n        label: functionDescriptor.name + '()',\n        icon: 'd-icon-mathematical_function',\n        expression: functionDescriptor.name + '()',\n        info: {\n          type: NodeInfoType.function,\n          data: functionDescriptor\n        }\n      }))\n    })).value();\n  }\n}\nRxDataDictionaryUtils.ɵfac = function RxDataDictionaryUtils_Factory(t) {\n  return new (t || RxDataDictionaryUtils)();\n};\nRxDataDictionaryUtils.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxDataDictionaryUtils,\n  factory: RxDataDictionaryUtils.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxDataDictionaryUtils, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nclass RxGlobalEventsService {\n  constructor() {\n    this.viewActionsCompleted$ = new Subject();\n  }\n}\nRxGlobalEventsService.ɵfac = function RxGlobalEventsService_Factory(t) {\n  return new (t || RxGlobalEventsService)();\n};\nRxGlobalEventsService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxGlobalEventsService,\n  factory: RxGlobalEventsService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxGlobalEventsService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nconst groupDataPageQuery = 'com.bmc.arsys.rx.application.group.datapage.GroupDataPageQuery';\nclass RxGroupDataPageService extends DataPage {\n  constructor(injector) {\n    super(injector, groupDataPageQuery);\n    this.injector = injector;\n  }\n}\nRxGroupDataPageService.ɵfac = function RxGroupDataPageService_Factory(t) {\n  return new (t || RxGroupDataPageService)(i0.ɵɵinject(i0.Injector));\n};\nRxGroupDataPageService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxGroupDataPageService,\n  factory: RxGroupDataPageService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxGroupDataPageService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i0.Injector\n    }];\n  }, null);\n})();\nclass RxHttpParameterCodec {\n  encodeKey(key) {\n    return encodeURIComponent(key);\n  }\n  encodeValue(value) {\n    return encodeURIComponent(value);\n  }\n  decodeKey(key) {\n    return decodeURIComponent(key);\n  }\n  decodeValue(value) {\n    return decodeURIComponent(value);\n  }\n}\nclass RxHttpParamsInterceptor {\n  intercept(request, next) {\n    const params = new HttpParams({\n      encoder: new RxHttpParameterCodec(),\n      fromString: request.params.toString()\n    });\n    return next.handle(request.clone({\n      params\n    }));\n  }\n}\nRxHttpParamsInterceptor.ɵfac = function RxHttpParamsInterceptor_Factory(t) {\n  return new (t || RxHttpParamsInterceptor)();\n};\nRxHttpParamsInterceptor.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxHttpParamsInterceptor,\n  factory: RxHttpParamsInterceptor.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxHttpParamsInterceptor, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nclass RxHttpModule {\n  static forRoot() {\n    return {\n      ngModule: RxHttpModule,\n      providers: [{\n        provide: HTTP_INTERCEPTORS,\n        useClass: RxHttpParamsInterceptor,\n        multi: true\n      }]\n    };\n  }\n}\nRxHttpModule.ɵfac = function RxHttpModule_Factory(t) {\n  return new (t || RxHttpModule)();\n};\nRxHttpModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: RxHttpModule\n});\nRxHttpModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxHttpModule, [{\n    type: NgModule\n  }], null, null);\n})();\nclass RxLicenseDataPageService extends DataPage {\n  constructor(injector) {\n    super(injector, 'com.bmc.arsys.rx.application.license.datapage.LicenseDataPageQuery');\n    this.injector = injector;\n  }\n}\nRxLicenseDataPageService.ɵfac = function RxLicenseDataPageService_Factory(t) {\n  return new (t || RxLicenseDataPageService)(i0.ɵɵinject(i0.Injector));\n};\nRxLicenseDataPageService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxLicenseDataPageService,\n  factory: RxLicenseDataPageService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxLicenseDataPageService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i0.Injector\n    }];\n  }, null);\n})();\nclass RxHttpLogInterceptor {\n  constructor(rxLogService, rxJsonParserService) {\n    this.rxLogService = rxLogService;\n    this.rxJsonParserService = rxJsonParserService;\n  }\n  intercept(request, next) {\n    if (this.rxLogService.logCategories.length) {\n      const headers = request.headers.set('log-retrieval', this.rxLogService.serverLogCategories);\n      this.rxLogService.debug(`${request.method} ${this.getAbsoluteRequestUrl(request.urlWithParams)}`);\n      return next.handle(request.clone({\n        headers\n      })).pipe(tap(httpEvent => {\n        if (httpEvent instanceof HttpResponse) {\n          const serverLog = httpEvent.headers.get(RX_ERROR_HANDLING.arMessagesHeader);\n          if (serverLog) {\n            let serverLogMessages = this.rxJsonParserService.tryParseJson(serverLog, []);\n            serverLogMessages = filter$1(serverLogMessages, 'messageText');\n            forEach(serverLogMessages, logData => this.rxLogService.log(logData.messageText));\n          }\n        }\n      }), catchError(err => {\n        this.rxLogService.warning(`${request.method} ${this.getAbsoluteRequestUrl(request.urlWithParams)} ${err.status} (${err.statusText})`);\n        return throwError(err);\n      }));\n    } else {\n      return next.handle(request);\n    }\n  }\n  getAbsoluteRequestUrl(url) {\n    if (startsWith(url, '/')) {\n      return `${location.origin}${url}`;\n    } else {\n      return url;\n    }\n  }\n}\nRxHttpLogInterceptor.ɵfac = function RxHttpLogInterceptor_Factory(t) {\n  return new (t || RxHttpLogInterceptor)(i0.ɵɵinject(RxLogService), i0.ɵɵinject(i2$2.RxJsonParserService));\n};\nRxHttpLogInterceptor.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxHttpLogInterceptor,\n  factory: RxHttpLogInterceptor.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxHttpLogInterceptor, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: RxLogService\n    }, {\n      type: i2$2.RxJsonParserService\n    }];\n  }, null);\n})();\nconst allowedCategories = Object.values(LogCategory);\nclass RxConsoleLogger {\n  constructor(rxLogService) {\n    this.rxLogService = rxLogService;\n  }\n  setCategories(categories) {\n    if (!isArray(categories) || !every(categories, category => allowedCategories.includes(category))) {\n      const validCategories = allowedCategories.map(category => `'${category}'`).join(', ');\n      throw new Error(`Invalid category specified. Valid categories: [${validCategories}].`);\n    } else {\n      this.rxLogService.configure(categories);\n    }\n  }\n  getCategories() {\n    return this.rxLogService.logCategories;\n  }\n  disable() {\n    this.rxLogService.configure([]);\n  }\n}\nclass RxLoggingModule {\n  constructor(rxLogService) {\n    defaults(window, {\n      rx: {}\n    });\n    window['rx'].logger = new RxConsoleLogger(rxLogService);\n  }\n  static forRoot() {\n    return {\n      ngModule: RxLoggingModule,\n      providers: [{\n        provide: HTTP_INTERCEPTORS,\n        useClass: RxHttpLogInterceptor,\n        multi: true\n      }]\n    };\n  }\n}\nRxLoggingModule.ɵfac = function RxLoggingModule_Factory(t) {\n  return new (t || RxLoggingModule)(i0.ɵɵinject(RxLogService));\n};\nRxLoggingModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: RxLoggingModule,\n  imports: [CommonModule]\n});\nRxLoggingModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxLoggingModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule]\n    }]\n  }], function () {\n    return [{\n      type: RxLogService\n    }];\n  }, null);\n})();\nclass RxNotificationComponent {\n  constructor(rxNotificationService, rxSessionService, translateService, changeDetector, adaptMessageService) {\n    this.rxNotificationService = rxNotificationService;\n    this.rxSessionService = rxSessionService;\n    this.translateService = translateService;\n    this.changeDetector = changeDetector;\n    this.adaptMessageService = adaptMessageService;\n  }\n  ngOnInit() {\n    this.rxNotificationService.messages$.subscribe(notificationMessage => {\n      const issueData = Object.assign(Object.assign({}, notificationMessage.data), {\n        severity: notificationMessage.severity\n      });\n      const link = issueData.enableIssueReporting && this.rxSessionService.isAlive() ? this.translateService.instant('com.bmc.arsys.rx.client.issue-reporter.report-issue.label') : null;\n      this.adaptMessageService.add(Object.assign(Object.assign({}, notificationMessage), {\n        link,\n        linkHandler: () => {\n          this.rxNotificationService.reportIssue(issueData);\n        }\n      }));\n      this.changeDetector.detectChanges();\n    });\n  }\n}\nRxNotificationComponent.ɵfac = function RxNotificationComponent_Factory(t) {\n  return new (t || RxNotificationComponent)(i0.ɵɵdirectiveInject(RxNotificationService), i0.ɵɵdirectiveInject(RxSessionService), i0.ɵɵdirectiveInject(i2.TranslateService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i4.AdaptMessageService));\n};\nRxNotificationComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: RxNotificationComponent,\n  selectors: [[\"rx-notification\"]],\n  decls: 1,\n  vars: 0,\n  consts: [[\"placement\", \"top-right\"]],\n  template: function RxNotificationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"adapt-toast\", 0);\n    }\n  },\n  directives: [i4.AdaptToastComponent],\n  styles: [\"adapt-toast[_ngcontent-%COMP%]{word-break:break-word}[_nghost-%COMP%]  .a-toast__detail{white-space:pre-wrap}\"]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxNotificationComponent, [{\n    type: Component,\n    args: [{\n      selector: 'rx-notification',\n      templateUrl: './notification.component.html',\n      styleUrls: ['./notification.component.scss']\n    }]\n  }], function () {\n    return [{\n      type: RxNotificationService\n    }, {\n      type: RxSessionService\n    }, {\n      type: i2.TranslateService\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i4.AdaptMessageService\n    }];\n  }, null);\n})();\nclass RxNotificationModule {\n  constructor(rxNotificationService) {\n    this.rxNotificationService = rxNotificationService;\n    this.rxNotificationService.initialize();\n  }\n}\nRxNotificationModule.ɵfac = function RxNotificationModule_Factory(t) {\n  return new (t || RxNotificationModule)(i0.ɵɵinject(RxNotificationService));\n};\nRxNotificationModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: RxNotificationModule,\n  declarations: [RxNotificationComponent],\n  imports: [AdaptToastModule, CommonModule, TranslateModule],\n  exports: [RxNotificationComponent]\n});\nRxNotificationModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[AdaptToastModule, CommonModule, TranslateModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxNotificationModule, [{\n    type: NgModule,\n    args: [{\n      imports: [AdaptToastModule, CommonModule, TranslateModule],\n      declarations: [RxNotificationComponent],\n      exports: [RxNotificationComponent]\n    }]\n  }], function () {\n    return [{\n      type: RxNotificationService\n    }];\n  }, null);\n})();\nclass RxCustomizationStatusPipe {\n  constructor(translateService) {\n    this.translateService = translateService;\n  }\n  transform(value) {\n    switch (value) {\n      case RX_OVERLAY.customizationPerspective.createdInThisOverlayGroup:\n        return this.translateService.instant('com.bmc.arsys.rx.innovation-studio.customization-status.created-in-this-overlay-group.label');\n      case RX_OVERLAY.customizationPerspective.customizedInThisOverlayGroup:\n        return this.translateService.instant('com.bmc.arsys.rx.innovation-studio.customization-status.customized-in-this-overlay-group.label');\n      case RX_OVERLAY.customizationPerspective.notCustomizedInThisOverlayGroup:\n        return this.translateService.instant('com.bmc.arsys.rx.innovation-studio.customization-status.not-customized-in-this-overlay-group.label');\n      default:\n        return '';\n    }\n  }\n}\nRxCustomizationStatusPipe.ɵfac = function RxCustomizationStatusPipe_Factory(t) {\n  return new (t || RxCustomizationStatusPipe)(i0.ɵɵdirectiveInject(i2.TranslateService, 16));\n};\nRxCustomizationStatusPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n  name: \"rxCustomizationStatus\",\n  type: RxCustomizationStatusPipe,\n  pure: true\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxCustomizationStatusPipe, [{\n    type: Pipe,\n    args: [{\n      name: 'rxCustomizationStatus'\n    }]\n  }], function () {\n    return [{\n      type: i2.TranslateService\n    }];\n  }, null);\n})();\nclass RxOverlayRequestsInterceptor {\n  constructor(rxOverlayService) {\n    this.rxOverlayService = rxOverlayService;\n  }\n  intercept(request, next) {\n    const currentOverlayContext = this.rxOverlayService.getCurrentOverlayContext();\n    if ((currentOverlayContext === null || currentOverlayContext === void 0 ? void 0 : currentOverlayContext.overlayGroupId) && !request.headers.get('request-overlay-group')) {\n      request = request.clone({\n        headers: request.headers.set('request-overlay-group', currentOverlayContext.overlayGroupId)\n      });\n    }\n    return next.handle(request);\n  }\n}\nRxOverlayRequestsInterceptor.ɵfac = function RxOverlayRequestsInterceptor_Factory(t) {\n  return new (t || RxOverlayRequestsInterceptor)(i0.ɵɵinject(RxOverlayService));\n};\nRxOverlayRequestsInterceptor.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxOverlayRequestsInterceptor,\n  factory: RxOverlayRequestsInterceptor.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxOverlayRequestsInterceptor, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: RxOverlayService\n    }];\n  }, null);\n})();\nclass RxOverlayModule {\n  static forRoot() {\n    return {\n      ngModule: RxOverlayModule,\n      providers: [{\n        provide: HTTP_INTERCEPTORS,\n        useClass: RxOverlayRequestsInterceptor,\n        multi: true\n      }]\n    };\n  }\n}\nRxOverlayModule.ɵfac = function RxOverlayModule_Factory(t) {\n  return new (t || RxOverlayModule)();\n};\nRxOverlayModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: RxOverlayModule,\n  declarations: [RxCustomizationStatusPipe],\n  imports: [CommonModule],\n  exports: [RxCustomizationStatusPipe]\n});\nRxOverlayModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxOverlayModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule],\n      declarations: [RxCustomizationStatusPipe],\n      exports: [RxCustomizationStatusPipe]\n    }]\n  }], null, null);\n})();\nconst publicPermissionType = 'Public';\nconst viewComponents = {\n  menuItem: 'rx-shell-menu-item',\n  menuGroup: 'rx-shell-menu-group'\n};\nconst RX_PERMISSION = {\n  instancesWithPermissions: ['record', 'field', 'process', 'config', 'runtimeconfig', 'view', 'externalconfig', viewComponents.menuItem, viewComponents.menuGroup],\n  editorContexts: {\n    view: 'view',\n    field: 'field',\n    record: 'record',\n    process: 'process'\n  },\n  haveOverlayLogic: ['record', 'field'],\n  permissionType: {\n    role: 'role',\n    group: 'group',\n    securityLabel: 'securityLabel'\n  },\n  administratorGroup: 'Administrator',\n  fieldPermissions: {\n    view: 'VIEW',\n    change: 'CHANGE'\n  },\n  permissionDialogMetadata: {\n    field: {\n      headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.field',\n      actions: [{\n        value: 'VIEW',\n        label: 'com.bmc.arsys.rx.client.permission-editor.column.view.label'\n      }, {\n        value: 'CHANGE',\n        label: 'com.bmc.arsys.rx.client.permission-editor.column.change.label'\n      }],\n      uniqueAction: true,\n      filterPermissionGroupIDs: [1, 2, 5, 7, 8, 9] // these are admin group ids, that cannot be restricted in access. Therefore should be filtered\n    },\n    record: {\n      headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.record',\n      actions: [],\n      defaultPermittedAction: 'VISIBLE',\n      uniqueAction: true,\n      filterPermissionGroupIDs: [1, 2, 5, 7, 8, 9] // these are admin group ids, that cannot be restricted in access. Therefore should be filtered\n    },\n    config: {\n      headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.config',\n      actions: [{\n        value: 'VIEW',\n        label: 'com.bmc.arsys.rx.client.permission-editor.column.view.label'\n      }, {\n        value: 'CHANGE',\n        label: 'com.bmc.arsys.rx.client.permission-editor.column.change.label'\n      }],\n      uniqueAction: true\n    },\n    externalconfig: {\n      headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.config',\n      actions: [],\n      defaultPermittedAction: 'VIEW',\n      uniqueAction: true\n    },\n    runtimeconfig: {\n      headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.config',\n      actions: [],\n      defaultPermittedAction: 'VISIBLE',\n      uniqueAction: true\n    },\n    process: {\n      headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.process',\n      actions: [{\n        value: 'EXECUTE',\n        label: 'com.bmc.arsys.rx.client.permission-editor.column.execute.label'\n      }, {\n        value: 'READ',\n        label: 'com.bmc.arsys.rx.client.permission-editor.column.read.label'\n      }],\n      uniqueAction: true\n    },\n    view: {\n      actions: [],\n      defaultPermittedAction: 'VISIBLE',\n      uniqueAction: true\n    },\n    viewComponent: {\n      actions: [],\n      defaultPermission: {\n        value: 0,\n        name: publicPermissionType,\n        type: 'GROUP'\n      },\n      defaultPermittedAction: 'VISIBLE',\n      uniqueAction: true\n    }\n  },\n  publicPermissionType: publicPermissionType,\n  viewComponents: viewComponents,\n  viewComponentsContext: 'viewComponent',\n  permissionScope: {\n    all: 'all'\n  },\n  groupCategoryFieldId: 120,\n  groupIdFieldId: 106,\n  restrictedGroupCategoryForNonFieldPermissions: {\n    dynamic: 1\n  },\n  restrictedGroupIdForNonFieldPermissions: {\n    subAdministratorGroup: 5\n  }\n};\nclass RxBooleanPipe {\n  constructor(translateService) {\n    this.translateService = translateService;\n  }\n  transform(value, trueValueParam, falseValueParam) {\n    const trueValueTranslation = this.translateService.instant('com.bmc.arsys.rx.client.common.true');\n    const falseValueTranslation = this.translateService.instant('com.bmc.arsys.rx.client.common.false');\n    let outputValue = value;\n    switch (value) {\n      case '1':\n      case true:\n      case 1:\n        {\n          outputValue = trueValueParam || trueValueTranslation;\n          break;\n        }\n      case '0':\n      case false:\n      case 0:\n        {\n          outputValue = falseValueParam || falseValueTranslation;\n          break;\n        }\n    }\n    return outputValue;\n  }\n}\nRxBooleanPipe.ɵfac = function RxBooleanPipe_Factory(t) {\n  return new (t || RxBooleanPipe)(i0.ɵɵdirectiveInject(i2.TranslateService, 16));\n};\nRxBooleanPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n  name: \"rxBoolean\",\n  type: RxBooleanPipe,\n  pure: true\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxBooleanPipe, [{\n    type: Pipe,\n    args: [{\n      name: 'rxBoolean'\n    }]\n  }], function () {\n    return [{\n      type: i2.TranslateService\n    }];\n  }, null);\n})();\nclass RxPipesModule {}\nRxPipesModule.ɵfac = function RxPipesModule_Factory(t) {\n  return new (t || RxPipesModule)();\n};\nRxPipesModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: RxPipesModule,\n  declarations: [RxBooleanPipe],\n  exports: [RxBooleanPipe]\n});\nRxPipesModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxPipesModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [RxBooleanPipe],\n      exports: [RxBooleanPipe]\n    }]\n  }], null, null);\n})();\nclass RxPreviousStateService {\n  constructor(router, rxGlobalCacheService) {\n    this.router = router;\n    this.rxGlobalCacheService = rxGlobalCacheService;\n    this.currentUrl = this.router.url;\n    router.events.subscribe(event => {\n      if (event instanceof NavigationEnd) {\n        this.previousUrl = this.currentUrl;\n        this.currentUrl = event.url;\n      }\n    });\n  }\n  goToPrevState() {\n    if (this.previousUrl && this.previousUrl !== this.currentUrl && this.previousUrl !== `${this.rxGlobalCacheService.applicationId}/login`) {\n      this.router.navigateByUrl(this.previousUrl);\n    } else {\n      this.router.navigate([this.rxGlobalCacheService.applicationId]);\n    }\n  }\n}\nRxPreviousStateService.ɵfac = function RxPreviousStateService_Factory(t) {\n  return new (t || RxPreviousStateService)(i0.ɵɵinject(i3.Router), i0.ɵɵinject(RxGlobalCacheService));\n};\nRxPreviousStateService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxPreviousStateService,\n  factory: RxPreviousStateService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxPreviousStateService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i3.Router\n    }, {\n      type: RxGlobalCacheService\n    }];\n  }, null);\n})();\nconst roleDataPageQuery = 'com.bmc.arsys.rx.application.role.datapage.RoleDataPageQuery';\nclass RxRoleDataPageService extends DataPage {\n  constructor(injector) {\n    super(injector, roleDataPageQuery);\n    this.injector = injector;\n  }\n}\nRxRoleDataPageService.ɵfac = function RxRoleDataPageService_Factory(t) {\n  return new (t || RxRoleDataPageService)(i0.ɵɵinject(i0.Injector));\n};\nRxRoleDataPageService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxRoleDataPageService,\n  factory: RxRoleDataPageService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxRoleDataPageService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i0.Injector\n    }];\n  }, null);\n})();\nclass RxAuthInterceptor {\n  constructor(rxAuthService) {\n    this.rxAuthService = rxAuthService;\n  }\n  intercept(req, next) {\n    return next.handle(req).pipe(catchError(err => {\n      if (err.status === 401) {\n        this.rxAuthService.redirectToLoginPage();\n      }\n      return throwError(err);\n    }));\n  }\n}\nRxAuthInterceptor.ɵfac = function RxAuthInterceptor_Factory(t) {\n  return new (t || RxAuthInterceptor)(i0.ɵɵinject(RxAuthService));\n};\nRxAuthInterceptor.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxAuthInterceptor,\n  factory: RxAuthInterceptor.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxAuthInterceptor, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: RxAuthService\n    }];\n  }, null);\n})();\nclass RxAuthGuard {\n  constructor(router, rxAuthService, rxSessionService, rxCurrentUserService, rxGlobalCacheService) {\n    this.router = router;\n    this.rxAuthService = rxAuthService;\n    this.rxSessionService = rxSessionService;\n    this.rxCurrentUserService = rxCurrentUserService;\n    this.rxGlobalCacheService = rxGlobalCacheService;\n  }\n  canActivate(next, state) {\n    return this.rxSessionService.initSession().pipe(map(() => {\n      const applicationId = head(next.url).path;\n      if (applicationId === RX_APPLICATION.innovationStudioBundleId && !(this.rxCurrentUserService.isAdministrator() || this.rxCurrentUserService.isBusinessAnalyst())) {\n        this.rxGlobalCacheService.applicationId = RX_APPLICATION.innovationStudioBundleId;\n        return this.router.parseUrl('access-denied');\n      }\n      return true;\n    }), catchError(error => {\n      if (error.headers.get('sso-provider-type') === RX_SESSION.ssoProviderTypes.rsso) {\n        this.router.navigate(['unsupported-environment']);\n        return EMPTY;\n      }\n      this.rxAuthService.redirectToLoginPage();\n      return EMPTY;\n    }));\n  }\n}\nRxAuthGuard.ɵfac = function RxAuthGuard_Factory(t) {\n  return new (t || RxAuthGuard)(i0.ɵɵinject(i3.Router), i0.ɵɵinject(RxAuthService), i0.ɵɵinject(RxSessionService), i0.ɵɵinject(RxCurrentUserService), i0.ɵɵinject(RxGlobalCacheService));\n};\nRxAuthGuard.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxAuthGuard,\n  factory: RxAuthGuard.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxAuthGuard, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i3.Router\n    }, {\n      type: RxAuthService\n    }, {\n      type: RxSessionService\n    }, {\n      type: RxCurrentUserService\n    }, {\n      type: RxGlobalCacheService\n    }];\n  }, null);\n})();\nclass RxAuthModule {\n  static forRoot() {\n    return {\n      ngModule: RxAuthModule,\n      providers: [{\n        provide: HTTP_INTERCEPTORS,\n        useClass: RxAuthInterceptor,\n        multi: true\n      }]\n    };\n  }\n}\nRxAuthModule.ɵfac = function RxAuthModule_Factory(t) {\n  return new (t || RxAuthModule)();\n};\nRxAuthModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: RxAuthModule,\n  imports: [CommonModule]\n});\nRxAuthModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxAuthModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule]\n    }]\n  }], null, null);\n})();\nclass RxSessionExpirationInterceptor {\n  constructor(rxSessionExpirationService) {\n    this.rxSessionExpirationService = rxSessionExpirationService;\n  }\n  intercept(request, next) {\n    return next.handle(request).pipe(tap(event => {\n      if (event instanceof HttpResponse) {\n        const responseDate = new Date(event.headers.get('date'));\n        if (!this.lastResponseDate || responseDate >= this.lastResponseDate) {\n          this.lastResponseDate = responseDate;\n          const idleTimeout = event.headers.get(RX_SESSION.expirationHeaders.idle);\n          const absoluteTimeout = event.headers.get(RX_SESSION.expirationHeaders.absolute);\n          this.rxSessionExpirationService.setTimeout(SessionExpirationType.Idle, idleTimeout);\n          this.rxSessionExpirationService.setTimeout(SessionExpirationType.Absolute, absoluteTimeout);\n        }\n      }\n    }));\n  }\n}\nRxSessionExpirationInterceptor.ɵfac = function RxSessionExpirationInterceptor_Factory(t) {\n  return new (t || RxSessionExpirationInterceptor)(i0.ɵɵinject(RxSessionExpirationService));\n};\nRxSessionExpirationInterceptor.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxSessionExpirationInterceptor,\n  factory: RxSessionExpirationInterceptor.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxSessionExpirationInterceptor, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: RxSessionExpirationService\n    }];\n  }, null);\n})();\nclass RxSessionExpirationModule {\n  static forRoot() {\n    return {\n      ngModule: RxSessionExpirationModule,\n      providers: [{\n        provide: HTTP_INTERCEPTORS,\n        useClass: RxSessionExpirationInterceptor,\n        multi: true\n      }]\n    };\n  }\n}\nRxSessionExpirationModule.ɵfac = function RxSessionExpirationModule_Factory(t) {\n  return new (t || RxSessionExpirationModule)();\n};\nRxSessionExpirationModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: RxSessionExpirationModule,\n  declarations: [RxSessionExpirationComponent],\n  imports: [CommonModule, TranslateModule, AdaptButtonModule],\n  exports: [RxSessionExpirationComponent]\n});\nRxSessionExpirationModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, TranslateModule, AdaptButtonModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxSessionExpirationModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [RxSessionExpirationComponent],\n      entryComponents: [RxSessionExpirationComponent],\n      exports: [RxSessionExpirationComponent],\n      imports: [CommonModule, TranslateModule, AdaptButtonModule]\n    }]\n  }], null, null);\n})();\nclass RxServerActionService {\n  constructor(injector) {\n    this.injector = injector;\n    this.rxDesignerCacheService = this.injector.get(RxDesignerCacheService);\n    this.rxStringService = this.injector.get(RxStringService);\n    this.translateService = this.injector.get(TranslateService);\n  }\n  getActionTypeByName(actionTypeName) {\n    return this.rxDesignerCacheService.getActionTypeByNameSync(actionTypeName);\n  }\n  // TODO-VS: update types\n  getClassConfig(options) {\n    const model = this.getModelFromDefinition({\n      actionTypeName: options.actionTypeName\n    });\n    return {\n      content: model.name,\n      elementModel: model,\n      icon: model.isDeprecated ? 'info' : null,\n      position: options.position,\n      type: model.type\n    };\n  }\n  // TODO-VS: update availableCells type\n  validateInputMap(model, availableCells) {\n    return of([]);\n  }\n  // TODO-VS: update availableCells type\n  validateServerAction(model, availableCells) {\n    return this.validateInputMap(model, availableCells).pipe(map(inputMapValidationIssues => {\n      const validationIssues = [...inputMapValidationIssues];\n      if (this.rxStringService.isEmptySafe(model.name)) {\n        validationIssues.push({\n          type: ValidationIssueType.Error,\n          description: this.translateService.instant('com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message', {\n            propertyName: this.translateService.instant('com.bmc.arsys.rx.client.common.label.label')\n          }),\n          data: {\n            guid: model.guid,\n            inspectorTabIndex: 1\n          }\n        });\n      }\n      model.outputMap.forEach((output, index) => {\n        if (this.rxStringService.isEmptySafe(output.assignTarget)) {\n          validationIssues.push({\n            type: ValidationIssueType.Error,\n            description: this.translateService.instant('com.bmc.arsys.rx.client.designer.validation.output-map.message', {\n              errorMessage: this.translateService.instant('com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message', {\n                propertyName: this.translateService.instant('com.bmc.arsys.rx.client.designer.assignment-expression.target.label')\n              })\n            }),\n            data: {\n              fieldName: 'assignTarget',\n              guid: model.guid,\n              index,\n              inspectorTabIndex: 1,\n              propertyName: 'outputMap'\n            }\n          });\n        }\n        if (this.rxStringService.isEmptySafe(output.expression)) {\n          validationIssues.push({\n            type: ValidationIssueType.Error,\n            description: this.translateService.instant('com.bmc.arsys.rx.client.designer.validation.output-map.message', {\n              errorMessage: this.translateService.instant('com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message', {\n                propertyName: this.translateService.instant('com.bmc.arsys.rx.client.designer.assignment-expression.source.label')\n              })\n            }),\n            data: {\n              fieldName: 'expression',\n              guid: model.guid,\n              index,\n              inspectorTabIndex: 1,\n              propertyName: 'outputMap'\n            }\n          });\n        }\n      });\n      return validationIssues;\n    }));\n  }\n}\nRxServerActionService.ɵfac = function RxServerActionService_Factory(t) {\n  return new (t || RxServerActionService)(i0.ɵɵinject(i0.Injector));\n};\nRxServerActionService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxServerActionService,\n  factory: RxServerActionService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxServerActionService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i0.Injector\n    }];\n  }, null);\n})();\nfunction RxServerActionMixin(Base) {\n  return class RxServerAction extends Base {\n    // TODO-VS: add types after rappid update\n    initialize(config) {\n      // @ts-ignore\n      super.initialize(config);\n      this.setDataDictionaryBranch();\n      // TODO-VS: add types after rappid update\n      // @ts-ignore\n      this.on('change:elementModel', (element, elementModel, changedProperty) => {\n        if (startWith(changedProperty.propertyPath, 'elementModel/inputMap')) {\n          const inputMapPropertyPath = last(changedProperty.propertyPath.split('/'));\n          let inputMapPropertyValue = changedProperty.propertyValue;\n          const isCommandManagerOperation = has(changedProperty, 'commandManager');\n          if (isCommandManagerOperation) {\n            inputMapPropertyValue = elementModel.inputMap[inputMapPropertyPath];\n          }\n          this.setDataDictionaryBranch();\n          this.onInputMapChanged(element, elementModel.inputMap, inputMapPropertyPath, inputMapPropertyValue, isCommandManagerOperation);\n        }\n      });\n    }\n    clearOutputMap() {\n      // @ts-ignore\n      this.prop('elementModel/outputMap', [], {\n        rxSilent: true,\n        rewrite: true\n      });\n    }\n    getElementService(type) {\n      return null;\n    }\n    getInputMap() {\n      // @ts-ignore\n      return clone(this.prop('elementModel/inputMap')) || {};\n    }\n    // TODO-VS: add types after rappid update\n    onInputMapChanged(element, inputMap, inputMapPropertyPath, inputMapPropertyValue, isCommandManagerOperation) {}\n    setDataDictionaryBranch() {\n      // @ts-ignore\n      const elementService = this.getElementService(this.prop('type'));\n      elementService.setCommonDataDictionaryBranch(\n      // @ts-ignore\n      this.prop('elementModel/guid'),\n      // @ts-ignore\n      elementService.buildDataDictionaryBranch(this.prop('elementModel')));\n    }\n    setInputMap(inputMap, options) {\n      // use 'rewrite' option to prevent the default 'merge' behavior\n      // @ts-ignore\n      this.prop('elementModel/inputMap', inputMap, {\n        rxSilent: true,\n        rewrite: true,\n        silent: get(options, 'isSilent', false)\n      });\n    }\n  };\n}\nfunction RxServerActionViewMixin(Base) {\n  return class RxServerActionView extends Base {\n    className() {\n      const originalClassName = joint.shapes.bpmn.ActivityView.prototype.className.apply(this, arguments);\n      // append actionTypeName to element's class to help QA find elements in the DOM\n      // @ts-ignore\n      return `${originalClassName} ${this.model.get('elementModel').actionTypeName}`;\n    }\n  };\n}\nclass RxServerActionExpressionConfigurator extends RxExpressionConfigurator {\n  constructor(injector) {\n    super();\n    this.injector = injector;\n    this.dataDictionaryService = this.getDataDictionaryService();\n    this.commonDataDictionary$ = this.dataDictionaryService.commonDataDictionary$;\n    this.configureForProperty({\n      propertyPath: /inputMap\\/.*/,\n      dataDictionary$: this.getInputMapDataDictionary(),\n      validateExpression: (propertyPath, expression) => this.validateInputMapExpression(propertyPath, expression),\n      operators: this.getOperatorRowsByGroup(ExpressionOperatorGroup.Math)\n    });\n  }\n  getDefaultConfig() {\n    return Object.assign(Object.assign({}, super.getDefaultConfig()), {\n      dataDictionary$: this.commonDataDictionary$,\n      operators: ExpressionOperatorRowsByGroup.get(ExpressionOperatorGroup.AllClient)\n    });\n  }\n  getInputMapDataDictionary() {\n    return this.commonDataDictionary$;\n  }\n  validateInputMapExpression(propertyPath, expression) {\n    return of(true);\n  }\n}\nclass RxSmartReportingService {\n  constructor(httpClient, rxJsonParserService, rxServerErrorHandlerService) {\n    this.httpClient = httpClient;\n    this.rxJsonParserService = rxJsonParserService;\n    this.rxServerErrorHandlerService = rxServerErrorHandlerService;\n    this.smartReportingUrl$ = this._getSmartReportingUrl().pipe(catchError(error => {\n      this.rxServerErrorHandlerService.handle(error);\n      return of('');\n    }), shareReplay(1));\n  }\n  // We have to open a blank tab and then or change its url or close it.\n  // Sadly there is no other way around it (even forcing a click on a button for example).\n  // https://tech.europace.de/how-to-open-async-calls-in-a-new-tab-instead-of-new-window-within-an-angularjs-app/\n  openSmartReporting(target = '_blank', queryParams = {}) {\n    const smartReportingPopup = window.open('', target);\n    return this._getSmartReportingUrl(queryParams).pipe(map(smartReportingUrl => {\n      smartReportingPopup.location.href = smartReportingUrl;\n      return true;\n    }), catchError(errorResponse => {\n      smartReportingPopup.close();\n      if (errorResponse.error === '[]') {\n        return of(false);\n      }\n      throw errorResponse;\n    }));\n  }\n  getSmartReportingUrl() {\n    return this.smartReportingUrl$;\n  }\n  _getSmartReportingUrl(queryParams = {}) {\n    return this.httpClient.get('/api/rx/application/smartreporting/url', {\n      responseType: 'text',\n      params: queryParams\n    }).pipe(map(url => decodeURIComponent(url)));\n  }\n}\nRxSmartReportingService.ɵfac = function RxSmartReportingService_Factory(t) {\n  return new (t || RxSmartReportingService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2$2.RxJsonParserService), i0.ɵɵinject(RxServerErrorHandlerService));\n};\nRxSmartReportingService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxSmartReportingService,\n  factory: RxSmartReportingService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxSmartReportingService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1.HttpClient\n    }, {\n      type: i2$2.RxJsonParserService\n    }, {\n      type: RxServerErrorHandlerService\n    }];\n  }, null);\n})();\nconst TITLE_SEPARATOR = ' - ';\nclass RxPageTitleService {\n  constructor(title, rxBundleCacheService, rxGlobalCacheService, rxLogService) {\n    this.title = title;\n    this.rxBundleCacheService = rxBundleCacheService;\n    this.rxGlobalCacheService = rxGlobalCacheService;\n    this.rxLogService = rxLogService;\n  }\n  set(title, bundleId) {\n    let currentPageTitle = '';\n    if (Array.isArray(title)) {\n      currentPageTitle = title.reduce((result, part) => {\n        if (isString(part) && (part = part.trim())) {\n          result.push(part);\n        }\n        return result;\n      }, []).join(TITLE_SEPARATOR);\n    } else if (isString(title)) {\n      currentPageTitle = title.trim();\n    } else if (!isUndefined(title)) {\n      this.rxLogService.warning('Invalid page title: ' + title);\n    }\n    const currentBundleId = bundleId || this.rxBundleCacheService.bundleId;\n    if (bundleId !== '' && currentBundleId) {\n      this.rxGlobalCacheService.getBundleDisplayName(currentBundleId).pipe(take(1)).subscribe(bundleDisplayName => {\n        this.title.setTitle([currentPageTitle, bundleDisplayName].filter(Boolean).join(TITLE_SEPARATOR));\n      });\n    } else {\n      this.title.setTitle(currentPageTitle);\n    }\n  }\n}\nRxPageTitleService.ɵfac = function RxPageTitleService_Factory(t) {\n  return new (t || RxPageTitleService)(i0.ɵɵinject(i1$1.Title), i0.ɵɵinject(RxBundleCacheService), i0.ɵɵinject(RxGlobalCacheService), i0.ɵɵinject(RxLogService));\n};\nRxPageTitleService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxPageTitleService,\n  factory: RxPageTitleService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxPageTitleService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1$1.Title\n    }, {\n      type: RxBundleCacheService\n    }, {\n      type: RxGlobalCacheService\n    }, {\n      type: RxLogService\n    }];\n  }, null);\n})();\nclass Tooltip {\n  constructor(tooltipText) {\n    this.iconName = 'question_circle_o';\n    this.placement = 'auto';\n    this.popoverMode = true;\n    // default taken from AdaptRxLabelTooltipComponent\n    this.maxWidth = 250;\n    this.content = tooltipText;\n  }\n}\nconst RX_USER_PREFERENCES = {\n  componentName: 'UI Preferences',\n  fieldPreferences: 'preferences'\n};\nclass RxUserPreferencesService {\n  constructor(httpClient, rxJsonParserService) {\n    this.httpClient = httpClient;\n    this.rxJsonParserService = rxJsonParserService;\n    this.settingsByComponentId = new Map();\n    this.apiUrl = '/api/rx/application/admin-settings/user-preference/UI Preferences';\n  }\n  getUiComponentPreferences(guid) {\n    return this.httpClient.get(this.apiUrl, {\n      headers: new HttpHeaders({\n        'default-bundle-scope': ''\n      }),\n      params: {\n        componentId: guid\n      }\n    }).pipe(map(({\n      values\n    }) => {\n      this.settingsByComponentId.set(guid, values);\n      const preferenceSetting = values.find(value => value.settingName === RX_USER_PREFERENCES.fieldPreferences);\n      const settingValue = preferenceSetting ? preferenceSetting.settingValue : null;\n      return this.rxJsonParserService.tryParseJson(settingValue);\n    }));\n  }\n  prepareUiPreferences(data, guid) {\n    if (!isEmpty(this.settingsByComponentId.get(guid))) {\n      return this.createUpdatedSettings(data, guid);\n    }\n    const newSettings = map$1(data, (value, name) => ({\n      componentName: RX_USER_PREFERENCES.componentName,\n      settingName: name,\n      settingValue: value,\n      assigneeGroupPermission: ''\n    }));\n    return newSettings;\n  }\n  setUiComponentPreferences(data, guid) {\n    const settings = this.prepareUiPreferences(data, guid);\n    const currentSettings = this.settingsByComponentId.get(guid);\n    const id = get(currentSettings, '[0].ownerKeyValue1');\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'default-bundle-scope': ''\n      })\n    };\n    return id ? this.httpClient.put(`${this.apiUrl}/${id}`, settings, httpOptions) : this.httpClient.post(this.apiUrl, settings, httpOptions).pipe(tap(() => this.getUiComponentPreferences(data.componentId).subscribe()));\n  }\n  createUpdatedSettings(data, guid) {\n    const newSettings = this.settingsByComponentId.get(guid);\n    const preferenceSetting = newSettings.find(element => element.settingName === RX_USER_PREFERENCES.fieldPreferences);\n    const index = newSettings.indexOf(preferenceSetting);\n    preferenceSetting.settingValue = data.preferences;\n    newSettings[index] = preferenceSetting;\n    return newSettings;\n  }\n}\nRxUserPreferencesService.ɵfac = function RxUserPreferencesService_Factory(t) {\n  return new (t || RxUserPreferencesService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2$2.RxJsonParserService));\n};\nRxUserPreferencesService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxUserPreferencesService,\n  factory: RxUserPreferencesService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxUserPreferencesService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1.HttpClient\n    }, {\n      type: i2$2.RxJsonParserService\n    }];\n  }, null);\n})();\nclass RxWhatfixConfiguratorService {\n  constructor(document, rendererFactory, httpClient, rxCurrentUserService, rxLogService, rxGlobalCacheService) {\n    this.document = document;\n    this.rendererFactory = rendererFactory;\n    this.httpClient = httpClient;\n    this.rxCurrentUserService = rxCurrentUserService;\n    this.rxLogService = rxLogService;\n    this.rxGlobalCacheService = rxGlobalCacheService;\n    this.isConfigured = false;\n    this.renderer = this.rendererFactory.createRenderer(null, null);\n    this.defaultConfig$ = combineLatest([this.rxGlobalCacheService.getApplicationBundleDescriptor(), this.rxCurrentUserService.user$]).pipe(take(1), map(([bundleDescriptor, user]) => {\n      const logCategories = this.rxLogService.logCategories;\n      return {\n        application: {\n          id: this.rxGlobalCacheService.applicationId,\n          version: bundleDescriptor.version\n        },\n        environment: {\n          isDebug: includes(logCategories, LogCategory.All) || includes(logCategories, LogCategory.Cli)\n        },\n        user: {\n          id: user.userId,\n          isBusinessAnalyst: this.rxCurrentUserService.isBusinessAnalyst(),\n          isAdministrator: this.rxCurrentUserService.isAdministrator()\n        }\n      };\n    }), shareReplay(1));\n    this.isEnabled$ = this.httpClient.get(`${RX_ADMINISTRATION.systemConfigurationUrl}/Whatfix-Disabled`).pipe(map(result => result.value === 0), shareReplay(1));\n  }\n  setConfig(accountId, config) {\n    if (isEmpty(accountId)) {\n      throw new Error('Invalid Whatfix account ID.');\n    }\n    this.isEnabled$.pipe(filter(isEnabled => Boolean(isEnabled) && !this.isConfigured), tap(isEnabled => {\n      this.rxLogService.debug(isEnabled ? `Whatfix is enabled. Account ID: ${accountId}.` : 'Whatfix is disabled.');\n    }), switchMapTo(config ? of(config) : this.defaultConfig$)).subscribe(whatfixConfig => {\n      this.isConfigured = true;\n      defaults(window, {\n        rx: {}\n      });\n      // this global variable will be used by whatfix integration script loaded below\n      window['rx'].whatfixConfig = whatfixConfig;\n      const url = `//cdn.whatfix.com/prod/${accountId}/embed/embed.nocache.js`;\n      this.rxLogService.debug(`Loading whatfix integration script from ${url}.`);\n      this.loadScript(url);\n    });\n  }\n  getDefaultConfig() {\n    return this.isEnabled$.pipe(filter(Boolean), switchMapTo(this.defaultConfig$));\n  }\n  loadScript(url) {\n    const scriptElement = assign(this.renderer.createElement('script'), {\n      type: 'text/javascript',\n      async: true,\n      src: url\n    });\n    this.renderer.appendChild(this.document.head, scriptElement);\n  }\n}\nRxWhatfixConfiguratorService.ɵfac = function RxWhatfixConfiguratorService_Factory(t) {\n  return new (t || RxWhatfixConfiguratorService)(i0.ɵɵinject(DOCUMENT), i0.ɵɵinject(i0.RendererFactory2), i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(RxCurrentUserService), i0.ɵɵinject(RxLogService), i0.ɵɵinject(RxGlobalCacheService));\n};\nRxWhatfixConfiguratorService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxWhatfixConfiguratorService,\n  factory: RxWhatfixConfiguratorService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxWhatfixConfiguratorService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: i0.RendererFactory2\n    }, {\n      type: i1.HttpClient\n    }, {\n      type: RxCurrentUserService\n    }, {\n      type: RxLogService\n    }, {\n      type: RxGlobalCacheService\n    }];\n  }, null);\n})();\nclass RxAdminComponentDataPageQuery extends DataPage {\n  constructor(injector) {\n    super(injector, 'com.bmc.arsys.rx.application.admin.datapage.AdminComponentDataPageQuery');\n    this.injector = injector;\n  }\n}\nRxAdminComponentDataPageQuery.ɵfac = function RxAdminComponentDataPageQuery_Factory(t) {\n  return new (t || RxAdminComponentDataPageQuery)(i0.ɵɵinject(i0.Injector));\n};\nRxAdminComponentDataPageQuery.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RxAdminComponentDataPageQuery,\n  factory: RxAdminComponentDataPageQuery.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RxAdminComponentDataPageQuery, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i0.Injector\n    }];\n  }, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { DataPage, DevelopmentMode, DynamicLocaleId, ExpressionOperator, ExpressionOperatorGroup, ExpressionOperatorRowsByGroup, ExpressionParserToken, FormBuilderEvent, JustificationRequirement, LocalizedStringsLoaderFactory, LogCategory, MachineLearningProviderNames, NodeInfoType, NotificationType, OverlayType, RX_ADMINISTRATION, RX_APPLICATION, RX_BUILD_ENVIRONMENT, RX_BUNDLE, RX_CHATBOT, RX_DATA_PAGE, RX_DEFAULT_NOTIFICATION_SETTINGS, RX_DEFAULT_STRINGS, RX_DEFINITION, RX_DESIGNER, RX_DESIGNER_ELEMENT_SHAPE, RX_ENVIRONMENT, RX_ERROR_HANDLING, RX_LOG, RX_OVERLAY, RX_PERMISSION, RX_RESOURCE_URLS, RX_THEMING, RX_USER, RX_USER_PREFERENCES, RxActionTypeDataPageService, RxActionTypeUtilsService, RxAdminComponentDataPageQuery, RxAdminComponentDataPageService, RxAdminSettingsService, RxAngularApplicationService, RxApplicationConfiguratorService, RxApplicationInitializer, RxApplicationLoaderResolver, RxApplicationLoaderService, RxApplicationRegistryService, RxApplicationResolver, RxAuthGuard, RxAuthInterceptor, RxAuthModule, RxAuthService, RxBooleanPipe, RxBundleCacheService, RxBundleDataPageService, RxBundleService, RxCachingModule, RxChatbotDefinitionDataPageService, RxCommandFactoryService, RxCommandManagerService, RxComponentCanDeactivateGuard, RxCurrentUserService, RxCustomizationStatusPipe, RxDataDictionaryUtils, RxDataPageFactoryService, RxDefinitionAdapterRegistryService, RxDefinitionModule, RxDefinitionNamePipe, RxDefinitionNameService, RxDefinitionScopePipe, RxDefinitionService, RxDefinitionUpdateService, RxDesignerCacheService, RxDesignerStencilBuilder, RxErrorHandlerService, RxErrorHandlingModule, RxExpressionConfigurator, RxExpressionParserService, RxFeatureGuard, RxFeatureService, RxFunctionDataPageService, RxFunctionalRoleDataPageService, RxGlobalCacheService, RxGlobalEventsService, RxGroupDataPageService, RxHttpLogInterceptor, RxHttpModule, RxHttpResponseMessageInterceptor, RxKeepSessionAliveResolver, RxLicenseDataPageService, RxLiveAgentSettingsService, RxLocalizationModule, RxLocalizationService, RxLocalizedStringsLoaderService, RxLogService, RxLoggingModule, RxLoginLocalizationResolver, RxLoginPageGuard, RxMetadataService, RxNotificationComponent, RxNotificationModule, RxNotificationService, RxOverlayModule, RxOverlayService, RxPageTitleService, RxPipesModule, RxPreviousStateService, RxRequestInterceptor, RxRoleDataPageService, RxRootInjector, RxRssoDebugService, RxServerActionExpressionConfigurator, RxServerActionMixin, RxServerActionService, RxServerActionViewMixin, RxServerErrorHandlerService, RxSessionExpirationComponent, RxSessionExpirationInterceptor, RxSessionExpirationModule, RxSessionExpirationService, RxSessionService, RxSmartReportingService, RxSystemConfigurationService, RxThemeResolver, RxThemingService, RxUpgradeTrackerService, RxUserPreferencesService, RxUserService, RxValidApplicationGuard, RxWhatfixConfiguratorService, ShellRouteReuseStrategy, Tooltip };\n//# sourceMappingURL=helix-platform-shared-api.js.map","map":{"version":3,"names":["i0","Injectable","Inject","InjectionToken","isDevMode","LOCALE_ID","Injector","NgModule","ɵmakeDecorator","Component","Pipe","ErrorHandler","i1","HttpClient","HttpParams","HttpHeaders","HttpResponse","HTTP_INTERCEPTORS","HttpErrorResponse","of","BehaviorSubject","ReplaySubject","forkJoin","Observable","iif","combineLatest","Subject","throwError","EMPTY","concat","timer","from","find","isString","includes","words","upperFirst","last","isUndefined","intersection","defaults","camelCase","findKey","some","head","isEmpty","isNil","values","toNumber","get","isNull","forOwn","isEqual","debounce","isNaN","noop","endsWith","forEach","flow","flatten","map","map$1","uniq","compact","sortBy","filter","filter$1","truncate","reject","cloneDeep","isRegExp","chain","startsWith","isArray","every","has","clone","assign","tap","shareReplay","switchMap","take","mapTo","catchError","first","switchMapTo","takeUntil","startWith","i3$1","DOCUMENT","registerLocaleData","CommonModule","moment","i4","AdaptToastModule","AdaptButtonModule","i2","TranslateModule","TranslateLoader","MissingTranslationHandler","TranslateService","localeDa","localeDe","localeEs","localeFr","localeIt","localeJa","localeKo","localeNb","localeNl","localePt","localeRu","localeSv","localeZhHans","i3","NavigationEnd","DefaultUrlSerializer","NavigationCancel","i2$1","ValidationIssueType","i2$2","RxError","RxStringService","i1$1","RxSessionExpirationComponent_button_4_Template","rf","ctx","_r8","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","RxSessionExpirationComponent_button_4_Template_button_click_0_listener","ɵɵrestoreView","ctx_r7","ɵɵnextContext","close","ɵɵelementEnd","RxSessionExpirationComponent_div_6_Template","ɵɵtext","ɵɵpipe","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1","RxSessionExpirationComponent_div_7_Template","RxSessionExpirationComponent_div_9_Template","ctx_r3","ɵɵtextInterpolate1","remainingTime","RxSessionExpirationComponent_button_10_Template","_r10","RxSessionExpirationComponent_button_10_Template_button_click_0_listener","ctx_r9","keepAlive","ctx_r4","ɵɵproperty","isLoading","RxSessionExpirationComponent_button_11_Template","_r12","RxSessionExpirationComponent_button_11_Template_button_click_0_listener","ctx_r11","logout","ctx_r5","RxSessionExpirationComponent_button_12_Template","_r14","RxSessionExpirationComponent_button_12_Template_button_click_0_listener","ctx_r13","RX_DATA_PAGE","defaultPageSize","emptyDataPage","data","totalSize","DATA_PAGE_API_URL","DataPage","constructor","injector","dataPageType","defaultDataPageRequestConfiguration","requiredRequestParams","pageSize","startIndex","http","configuration","dataPageRequestConfiguration","requestParams","Object","params","requestHeaders","headers","set","keys","name","String","getEmptyDataPage","post","requestBody","RxActionTypeDataPageService","ɵfac","RxActionTypeDataPageService_Factory","t","ɵɵinject","ɵprov","ɵɵdefineInjectable","token","factory","providedIn","ngDevMode","ɵsetClassMetadata","type","args","RxDefinitionNameService","getDisplayName","definitionName","substring","lastIndexOf","getDisplayNameForValidation","indexOf","getDefinitionName","bundleId","displayName","getBundleId","matches","match","pop","RxDefinitionNameService_Factory","RxActionTypeUtilsService","rxDefinitionNameService","getActionTypeBundleFriendlyName","bundleDescriptors","actionType","_a","actionTypeName","id","friendlyName","isActionParameterArrayOrList","actionParameter","dataType","test","prettifyActionTypeName","result","value","index","join","RxActionTypeUtilsService_Factory","Command","resourceType","httpClient","execute","options","payload","FormData","RxCommandFactoryService","forResourceType","RxCommandFactoryService_Factory","API_URL","SETTINGS_API_URL","RxAdminSettingsService","rxCommandFactoryService","getComponentGridData","componentName","customHeaders","getComponentDefinition","getAdminNavigationMenuItems","pipe","navigationMenu","AdminNavigationMenu","items","getComponentSettings","deleteComponentSettings","delete","createComponentSettings","observe","response","split","updateComponentSettings","put","getAdminSetting","createAdminSetting","updateAdminSetting","deleteAdminSetting","definitionNames","RxAdminSettingsService_Factory","RX_ADMINISTRATION","settingNames","newApplicationUiOptOut","newViewDesignerOptOut","systemConfigurationUrl","submitterModes","locked","configurationSettingTypes","shared","configurationType","inbundle","external","settingAccessOptions","application","innovationStudio","both","none","RxSystemConfigurationService","systemConfigurations","initialize","queryConfiguration","reduce","configs","systemConfiguration","getConfigurationSync","identifier","configValue","Error","getConfiguration","configurationName","setConfiguration","configurationValue","JSON","stringify","identifiers","queryString","encodeURIComponent","RxSystemConfigurationService_Factory","RxDataPageFactoryService","withType","RxDataPageFactoryService_Factory","RxAdminComponentDataPageService","RxAdminComponentDataPageService_Factory","RX_APPLICATION","platformBundleId","platformBundleIdPrefix","platformBundleIds","approvalCoreService","foundation","chatbotBundleId","settingsBundleId","shellDefinitionName","environmentConfigurationBundleId","innovationStudioBundleId","standardlib","approvalBundleId","dataloadBundleId","angularJsApplicationBundleIds","angularJsViewDesignerBundleIds","ipaasJitterbitBundleId","ipaasMulesoftBundleId","routeReuseStrategies","checkParentParams","RxBundleDataPageService","includeNonLicensedBundles","RxBundleDataPageService_Factory","RxCurrentUserService","userSubject$","user$","asObservable","getPreferredLocale","_b","preferredLocale","getPreferredUserLocale","preferredUserLocale","getName","loginName","user","next","getValue","isBusinessAnalyst","isAdministrator","getEditableBundles","editableBundles","isSupportStaff","supportStaff","isAvailableForAssignment","assignmentAvailable","setAssignmentAvailability","RxCurrentUserService_Factory","LogCategory","RX_LOG","serverLogCategories","Sql","Api","Rule","Process","Bundle","clientLogCategories","Cli","sessionLogCategoriesKey","RxLogService","rxCurrentUserService","serverCategories","shouldLogEverything","storedCategories","sessionStorage","getItem","categories","parse","e","configure","logCategories","All","length","setItem","removeItem","error","message","console","prepareLogMessage","warning","warn","info","debug","log","text","currentUser","defaultOverlayGroupId","format","RxLogService_Factory","RxBundleLoadType","RxFunctionDataPageService","RxFunctionDataPageService_Factory","RxGlobalCacheService","rxBundleDataPageService","rxFunctionDataPageService","rxLogService","bundleDescriptorsById","functionDescriptors","applicationIdValue","applicationIdSubject","applicationId$","applicationId","getBundleDescriptors","dataPageData","defaultUiOptions","loadJs","always","loadCss","uiOptions","Boolean","getFunctionDescriptors","dataPage","getLicensedBundleDescriptors","bundleDescriptor","isLicensed","getBundleDescriptor","getApplicationBundleDescriptor","_getBundleFriendlyName","descriptor","defaultValue","getBundleFriendlyName","getBundleDisplayName","localizedDisplayName","clear","RxGlobalCacheService_Factory","RxBundleService","document","compiler","rxGlobalCacheService","baseUrl","bundleJs","bundleCss","url","getFromJsonp","responseType","jsonpResult","exec","loadBundles","bundleIds","force","loaders$","applicationInitializers","loadBundleCss","loadBundle","isBundleCompiled","isFileLoaded","loadBundleJs","bundleContext","compileBundle","observer","module","then","moduleName","compileModuleSync","create","complete","stack","dasherizedBundleId","replace","cacheBuster","Date","lastDeployedTime","getTime","fileName","modulePathMapping","__webpack_require__","bind","link","createElement","href","rel","appendChild","RxBundleService_Factory","Compiler","undefined","decorators","bundleTypes","library","definitionScopeNames","public","definitionScopeTypes","bundle","RX_BUNDLE","definitionScopes","applicationDefinitionScopeSelectionOptions","libraryDefinitionScopeSelectionOptions","RxDefinitionService","getScopeName","definitionScopeType","isApplication","RxDefinitionService_Factory","RxBundleCacheService","rxActionTypeDataPageService","rxDefinitionService","actionTypes$","requireDependent","actionTypes","bundleIdSubject$","bundleId$","bundleIdValue","getActionTypes","getCurrentBundleDescriptor","getDefinitionScopeName","getDefinitionScopeSelectionOptions","RxBundleCacheService_Factory","RX_DEFAULT_STRINGS","RX_BUILD_ENVIRONMENT","RxRssoDebugService","rxBuildEnvironment","isRssoDebugEnabled","RxRssoDebugService_Factory","SUPPORTED_LOCALES","de","adapt","en","es","fr","it","ja","ko","nl","pt","ru","sv","da","no","angular","similar","LOGIN_LOCALE","DEFAULT_LOCALE","RxLocalizationService","translateService","adaptTranslateService","rxRssoDebugService","defaultStrings","currentLocale","angularLocale","onTranslationsLoaded$","onLangChange","loginLocalizedStrings$","getLocalizedStringsForLoginPage","preferredLocale$","body","locale","normalizeLocale","getDefaultApplicationStrings","setDefaultApplicationStrings","defaultApplicationStrings","initLoginTranslations","localeKey","setLocale","setTranslation","use","initTranslations","useDefault","adaptLocale","getCurrentLocaleDescriptor","languages","instant","setDocumentLang","useLanguage","localeInfo","key","language","item","lang","documentElement","setAttribute","localeInformation","toUpperCase","RxLocalizationService_Factory","AdaptTranslateService","RxLoginLocalizationResolver","rxLocalizationService","resolve","route","state","RxLoginLocalizationResolver_Factory","RxLocalizedStringsLoaderService","getTranslation","uploadTranslation","translations","RxLocalizedStringsLoaderService_Factory","RxMissingTranslationHandler","handle","hasOwnProperty","parser","interpolate","interpolateParams","RxMissingTranslationHandler_Factory","LocalizedStringsLoaderFactory","DynamicLocaleId","toString","RxLocalizationModule","RxLocalizationModule_Factory","ɵmod","ɵɵdefineNgModule","imports","ɵinj","ɵɵdefineInjector","providers","provide","deps","useClass","forRoot","loader","useFactory","missingTranslationHandler","RxComponentCanDeactivateGuard","router","rxModalService","rxUtilityModalsService","isEnabled","window","addEventListener","event","pageComponent","canDeactivate","isAnyDockedPanelDirty","isAnyModalDirty","returnValue","events","subscribe","enable","component","confirmUnsavedChanges","confirmDeactivation","setPageComponent","disable","RxComponentCanDeactivateGuard_Factory","Router","RxModalService","RxUtilityModalsService","RxApplicationLoaderService","removeApplicationLoader","applicationLoaderId","applicationLoaderElement","getElementById","remove","RxApplicationLoaderService_Factory","RxApplicationResolver","rxBundleService","rxBundleCacheService","rxComponentCanDeactivateGuard","rxApplicationLoaderService","prodBundleDescriptors$","containsAngular","devBundleDescriptors$","devResolver$","prodResolver$","path","location","reload","useDefaultLang","initTranslations$","getResolver","bundles","RxApplicationResolver_Factory","RxRootInjector","NotificationType","RX_DEFAULT_NOTIFICATION_SETTINGS","Success","ttl","Info","Warning","RxNotificationService","rxAdminSettingsService","issuesToReportSubject$","notificationSettings","messagesSubject","messages$","issuesToReport$","addErrorMessage","title","config","severity","summary","detail","life","sticky","isSticky","issue","suppressLog","addWarningMessage","addInfoMessage","addSuccessMessage","reportIssue","settings","notificationType","settingValue","err","messageType","RxNotificationService_Factory","RxUpgradeTrackerService","rxNotificationService","rxSystemConfigurationService","_isUpgradeInProgress","_upgradeMessage","isUpgradeInProgressSubject","isUpgradeInProgress$","upgradeMessage","isUpgradeInProgress","hasStatusChanged","getUpgradeNotification","upgradeNotification","displayUpgradeNotification","forceNotification","RxUpgradeTrackerService_Factory","RxApplicationConfiguratorService","rxUpgradeTrackerService","adaptModalService","adaptDockedPanelService","patchCkEditor","parentNode","closeAllModals","i","openedPanels","ckEditorDialogAdd","CKEDITOR","dialog","add","dialogDefinition","patchedDialogDefinitionFunc","editor","dialogDefinitionObj","linkTargetConfig","contents","splice","RxApplicationConfiguratorService_Factory","AdaptModalService","AdaptDockedPanelService","RxApplicationInitializer","RxApplicationRegistryService","register","initializer","RxApplicationRegistryService_Factory","RX_OVERLAY","bundleCustomizationOperationTypes","createdInThisOverlayGroup","operationTypes","notCustomizedInThisOverlayGroup","customizedInThisOverlayGroup","customizationPerspective","overlayTypes","overwrite","additive","unmodified","overlayAllowedLabels","allowed","notAllowed","overlayGroupIds","base","overlay","DevelopmentMode","OverlayType","RxOverlayService","rxTreeService","areNewDefinitionsAllowed","areNewDefinitionsAllowedSync","isBundleEditable","platformBundle","getCurrentOverlayGroupId","setCurrentOverlayContextOnSessionInit","userOverlayGroupDescriptors","userHasAccessToMultipleOverlays","savedOverlayGroupId","localStorage","contextDescriptors","flattenTree","overlayGroupId","getOverlayOperation","parentOverlayGroupId","currentOverlayGroupId","operationType","isCustomizationEnabled","definition","lastUpdateTime","overlayDescriptor","overlayOperation","isCurrentOverlayGroupWritable","userOverlayGroupDescriptorChildren","isWritable","getCurrentOverlayContext","setDevelopmentMode","developmentMode","Base","getDevelopmentMode","BestPractice","overlayGroup","getUserDefaultOverlayGroupId","RxOverlayService_Factory","RxTreeService","RxFeatureService","enableFeatures","featureIds","enabledFeatures","isFeatureEnabled","featureId","RxFeatureService_Factory","RxUserService","rxFeatureService","rxUrlUtilsService","getUser","modifiedDate","ssoProviderType","getCurrentUser","getBundleIdFromUrl","RxUserService_Factory","RxUrlUtilsService","RX_USER","userProfileRecordDefinitionName","userProfilePictureFieldId","RxSessionService","rxUserService","rxOverlayService","sessionActive$","initCurrentUser","initSession","isAlive","getSsoProviderType","RxSessionService_Factory","activeColor","dropdownBorder","dropdownBorderRadius","dropdownBoxShadow","dropdownFontSize","dropdownItemActiveBgColor","dropdownMenuColor","dropdownPadding","fontFamilyBase","lineHeightBase","selectOptionPadding","cssVariables","RX_THEMING","cssVariablesForCkEditor","cssVariableLocator","color","border","padding","RxThemingService","setCssVariables","Array","querySelector","sheet","cssRules","cssStyleRule","selectorText","cssVariableName","cssProperty","cssValue","style","getPropertyValue","setProperty","copyCssVariables","variables","targetDocument","sourceStyle","targetStyle","variableName","RxThemingService_Factory","RxThemeResolver","rxSessionService","rxThemingService","themeLoaded$","onload","onerror","canActivate","RxThemeResolver_Factory","RxValidApplicationGuard","unknownApplicationUrlTree","parseUrl","checkBundleState","paramMap","RxValidApplicationGuard_Factory","RxAngularApplicationService","rxStringService","angularJsApplicationBundleIds$","gridComponentSettings","rows","newApplicationUiOptOutSetting","angularJsViewDesignerBundleIds$","newViewDesignerOptOutSetting","isAngularJsApplication","isAngularJsViewDesignerBundle","isIncluded","RxAngularApplicationService_Factory","RxApplicationLoaderResolver","RxApplicationLoaderResolver_Factory","RX_SESSION","minutesBeforeLogout","keepAliveCommand","userInteractionThrottleTimeMs","userInteractionEvents","expirationModes","idle","absolute","expirationHeaders","ssoProviderTypes","rsso","RxLoginPageGuard","RxLoginPageGuard_Factory","ShellRouteReuseStrategy","shouldReuseRoute","current","_c","_d","_e","_f","routeReuseStrategy","parent","routeConfig","routerGroup","shouldAttach","shouldDetach","retrieve","store","RX_RESOURCE_URLS","command","RxAuthService","targetUrl","defaultUrlSerializer","bundleLoginRoute","login","userName","password","res","navigateByUrl","redirectToLoginPage","redirectToRssoLogoutPage","redirectToRssoDebugLoginPage","redirectToApplicationLoginPage","onRequestEnd","navigate","shouldReloadPage","isLoginRoute","RxAuthService_Factory","Location","SessionExpirationType","RxSessionExpirationComponent","context","ngZone","destroyed$","getData","mode","expirationDate","keepSessionAlive","ngOnInit","Idle","runOutsideAngular","run","checkTime","ngOnDestroy","isBefore","counter","utc","now","time","RxSessionExpirationComponent_Factory","ɵɵdirectiveInject","ActiveModalRef","NgZone","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","template","RxSessionExpirationComponent_Template","ɵɵtemplate","Absolute","directives","NgIf","NgSwitch","NgSwitchCase","AdaptButtonComponent","pipes","TranslatePipe","styles","selector","templateUrl","styleUrls","RxSessionExpirationService","rxAuthService","trackUserInteractionDebounced","trackUserInteraction","leading","trailing","sessionExpirationInfos","setTimeout","mDate","isValid","isValidTimeout","isAfter","timeout","toDate","isIdleTimeout","updateTimeoutHandler","lastUserInteraction","getLastUserInteraction","toUTCString","sessionExpirationModal","Number","getIdleSessionTimeout","idleTimeout","showWarnInMs","getTimeToSessionExpirationWarning","clearTimer","showIdleTimeoutWarning","showAbsoluteTimeoutWarning","isSame","subtract","diff","idleSessionTimeout","openModal","open","content","beforeDismiss","size","date","clearTimeout","RxSessionExpirationService_Factory","RxKeepSessionAliveResolver","rxSessionExpirationService","RxKeepSessionAliveResolver_Factory","RxFeatureGuard","RxFeatureGuard_Factory","JustificationRequirement","RxMetadataService","setMetadataLastUpdateTime","metadataLastUpdateTime","getMetadataLastUpdateTime","isLocalizedStringsRequest","request","method","isMetadataDataPageQueryRequest","isMetadataRequest","RxMetadataService_Factory","RxDesignerCacheService","getActionTypeByNameSync","getFunctionDescriptorsSync","setActionTypes","setFunctionDescriptors","RxDesignerCacheService_Factory","RxMetadataLastUpdateTimeInterceptor","rxMetadataService","intercept","RxMetadataLastUpdateTimeInterceptor_Factory","RxMetadataRequestInterceptor","bundleCacheService","metaDataLastUpdateTime","cacheKey","userId","append","RxMetadataRequestInterceptor_Factory","RxRequestInterceptor","RxRequestInterceptor_Factory","RxUpgradeTrackerInterceptor","httpEvent","isCachedRequest","RxUpgradeTrackerInterceptor_Factory","RxCachingModule","ngModule","multi","RxCachingModule_Factory","RX_CHATBOT","defaultChatbotId","chatbotLocales","recordDefinitionName","fieldIds","providerPassword","chatbotName","botConfigurationId","botDefinitionDataPageQuery","RxChatbotDefinitionDataPageService","entity","lastChangedBy","modifiedBy","RxChatbotDefinitionDataPageService_Factory","RxLiveAgentSettingsService","chatbotConfigurationUrl","getAvailableTopics","RxLiveAgentSettingsService_Factory","MachineLearningProviderNames","RX_DESIGNER","messageTypes","closeDesigner","afterSave","designerLoaded","designerLoadFailed","waitingForDesignerOptions","definitionStatusChanged","paletteIconPosition","top","bottom","paletteItemBorder","solid","bold","dashed","double","paletteItemLabel","inner","outer","paletteItemShape","rectangle","circle","square","annotation","RX_DEFINITION","scopes","RxDefinitionAdapterRegistryService","runtimeAdapters","Map","designAdapters","registerRuntimeAdapter","adapter","registerDesignAdapter","getRuntimeAdapter","getDesignAdapter","RxDefinitionAdapterRegistryService_Factory","RxDefinitionScopePipe","transform","RxDefinitionScopePipe_Factory","ɵpipe","ɵɵdefinePipe","pure","RxDefinitionNamePipe","RxDefinitionNamePipe_Factory","RxDefinitionModule","RxDefinitionModule_Factory","declarations","exports","RX_ERROR_HANDLING","optimisticLockErrorHttpStatus","ignoredErrors","status","contains","maxErrorMessageLength","maxArMessageLength","arMessagesHeader","arNoteLogInfo","arGuestUserMessageNo","success","RxDefinitionUpdateService","updateFn","confirmExternalChange","messageText","isConfirmed","RxDefinitionUpdateService_Factory","RxCommandManagerService","commandManager","RxCommandManagerService_Factory","RX_DESIGNER_ELEMENT_SHAPE","bpmnIcons","gear","plus","cross","multiInstanceParallel","multiInstanceSequential","action","clock","qualification","connector","errorEnd","errorBoundary","webRequest","transparent","jitterbit","mulesoft","RxDesignerStencilBuilder","buildElementsTree","elementsSources","elementGroups","elements","chainElements","groupNames","groupName","toLowerCase","default","priority","label","children","group","element","RxDesignerStencilBuilder_Factory","tenancyModes","dedicated","unified","RX_ENVIRONMENT","tenancyModeNames","RxServerErrorHandlerService","getServerResponseErrorDetails","responseData","messages","ignored","appendedText","buildMessageFromRawResponse","errorMessage","statusText","buildMessageFromErrorDetails","messageNumber","canIgnore","operationId","messageDetails","enableIssueReporting","ignoredError","RxServerErrorHandlerService_Factory","RxScriptErrorHandler","rxErrorMessage","RxScriptErrorHandler_Factory","RxErrorHandlerService","rxServerErrorHandler","rxScriptErrorHandler","handleError","RxErrorHandlerService_Factory","RxServerMessageHandlerService","rxJsonParserService","handleServerResponseMessage","serverMessage","decodedMessage","decodeQ","tryParseJson","addMessage","messageTitle","messageString","RxServerMessageHandlerService_Factory","RxJsonParserService","RxHttpResponseMessageInterceptor","rxServerMessageHandler","RxHttpResponseMessageInterceptor_Factory","RxErrorHandlingModule","RxErrorHandlingModule_Factory","ExpressionOperator","ExpressionOperatorGroup","allOperatorsMap","displayValue","NullExpression","allOperatorRows","LeftGrouping","RightGrouping","DoubleQuote","Add","Subtract","Multiply","Divide","Remainder","GreaterThan","LessThan","Equal","NotEqual","GreaterThanOrEqual","LessThanOrEqual","Like","And","Or","Not","allClientOperatorRows","Contains","Null","mathOperatorRow","ExpressionOperatorRowsByGroup","AllServer","AllClient","Math","MathClient","RxExpressionConfigurator","expressionConfigs","getDefaultConfig","dataDictionary$","commonDataDictionary$","operators","validateExpression","propertyPath","expression","configureForProperty","push","getDataDictionary","getExpressionConfig","dataDictionary","sortDataDictionary","getOperators","getOperatorRows","getOperatorRowsByGroup","validateProperty","propertyValue","node","child","ExpressionParserToken","RxExpressionParserService","tokenRegExpMap","SingleQuoteRxExpression","SingleQuoteTextExpression","ArExpression","RxExpression","RxStringExpression","replaceFunc","pattern","sort","prevOperator","operator","RxOperator","RegExp","expressionValuesMap","expressionValues","extractExpressionValues","reverse","stripSpaces","extractExpressionsResult","regExp","RxExpressionParserService_Factory","FormBuilderEvent","RxFunctionalRoleDataPageService","RxFunctionalRoleDataPageService_Factory","NodeInfoType","RxDataDictionaryUtils","addTooltips","parentNodeLabel","tooltip","getFunctionsDataDictionaryBranch","groupBy","category","functionDescriptor","icon","function","getFunctionDataDictionaryBranch","functionType","RxDataDictionaryUtils_Factory","RxGlobalEventsService","viewActionsCompleted$","RxGlobalEventsService_Factory","groupDataPageQuery","RxGroupDataPageService","RxGroupDataPageService_Factory","RxHttpParameterCodec","encodeKey","encodeValue","decodeKey","decodeURIComponent","decodeValue","RxHttpParamsInterceptor","encoder","fromString","RxHttpParamsInterceptor_Factory","RxHttpModule","RxHttpModule_Factory","RxLicenseDataPageService","RxLicenseDataPageService_Factory","RxHttpLogInterceptor","getAbsoluteRequestUrl","urlWithParams","serverLog","serverLogMessages","logData","origin","RxHttpLogInterceptor_Factory","allowedCategories","RxConsoleLogger","setCategories","validCategories","getCategories","RxLoggingModule","rx","logger","RxLoggingModule_Factory","RxNotificationComponent","changeDetector","adaptMessageService","notificationMessage","issueData","linkHandler","detectChanges","RxNotificationComponent_Factory","ChangeDetectorRef","AdaptMessageService","RxNotificationComponent_Template","ɵɵelement","AdaptToastComponent","RxNotificationModule","RxNotificationModule_Factory","RxCustomizationStatusPipe","RxCustomizationStatusPipe_Factory","RxOverlayRequestsInterceptor","currentOverlayContext","RxOverlayRequestsInterceptor_Factory","RxOverlayModule","RxOverlayModule_Factory","publicPermissionType","viewComponents","menuItem","menuGroup","RX_PERMISSION","instancesWithPermissions","editorContexts","view","field","record","process","haveOverlayLogic","permissionType","role","securityLabel","administratorGroup","fieldPermissions","change","permissionDialogMetadata","headerText","actions","uniqueAction","filterPermissionGroupIDs","defaultPermittedAction","externalconfig","runtimeconfig","viewComponent","defaultPermission","viewComponentsContext","permissionScope","all","groupCategoryFieldId","groupIdFieldId","restrictedGroupCategoryForNonFieldPermissions","dynamic","restrictedGroupIdForNonFieldPermissions","subAdministratorGroup","RxBooleanPipe","trueValueParam","falseValueParam","trueValueTranslation","falseValueTranslation","outputValue","RxBooleanPipe_Factory","RxPipesModule","RxPipesModule_Factory","RxPreviousStateService","currentUrl","previousUrl","goToPrevState","RxPreviousStateService_Factory","roleDataPageQuery","RxRoleDataPageService","RxRoleDataPageService_Factory","RxAuthInterceptor","req","RxAuthInterceptor_Factory","RxAuthGuard","RxAuthGuard_Factory","RxAuthModule","RxAuthModule_Factory","RxSessionExpirationInterceptor","responseDate","lastResponseDate","absoluteTimeout","RxSessionExpirationInterceptor_Factory","RxSessionExpirationModule","RxSessionExpirationModule_Factory","entryComponents","RxServerActionService","rxDesignerCacheService","getActionTypeByName","getClassConfig","model","getModelFromDefinition","elementModel","isDeprecated","position","validateInputMap","availableCells","validateServerAction","inputMapValidationIssues","validationIssues","isEmptySafe","description","propertyName","guid","inspectorTabIndex","outputMap","output","assignTarget","fieldName","RxServerActionService_Factory","RxServerActionMixin","RxServerAction","setDataDictionaryBranch","on","changedProperty","inputMapPropertyPath","inputMapPropertyValue","isCommandManagerOperation","inputMap","onInputMapChanged","clearOutputMap","prop","rxSilent","rewrite","getElementService","getInputMap","elementService","setCommonDataDictionaryBranch","buildDataDictionaryBranch","setInputMap","silent","RxServerActionViewMixin","RxServerActionView","className","originalClassName","joint","shapes","bpmn","ActivityView","prototype","apply","arguments","RxServerActionExpressionConfigurator","dataDictionaryService","getDataDictionaryService","getInputMapDataDictionary","validateInputMapExpression","RxSmartReportingService","rxServerErrorHandlerService","smartReportingUrl$","_getSmartReportingUrl","openSmartReporting","target","queryParams","smartReportingPopup","smartReportingUrl","errorResponse","getSmartReportingUrl","RxSmartReportingService_Factory","TITLE_SEPARATOR","RxPageTitleService","currentPageTitle","part","trim","currentBundleId","bundleDisplayName","setTitle","RxPageTitleService_Factory","Title","Tooltip","tooltipText","iconName","placement","popoverMode","maxWidth","RX_USER_PREFERENCES","fieldPreferences","RxUserPreferencesService","settingsByComponentId","apiUrl","getUiComponentPreferences","componentId","preferenceSetting","settingName","prepareUiPreferences","createUpdatedSettings","newSettings","assigneeGroupPermission","setUiComponentPreferences","currentSettings","httpOptions","preferences","RxUserPreferencesService_Factory","RxWhatfixConfiguratorService","rendererFactory","isConfigured","renderer","createRenderer","defaultConfig$","version","environment","isDebug","isEnabled$","setConfig","accountId","whatfixConfig","loadScript","scriptElement","async","src","RxWhatfixConfiguratorService_Factory","RendererFactory2","RxAdminComponentDataPageQuery","RxAdminComponentDataPageQuery_Factory"],"sources":["C:/projects/innovation-studio-developer/22.1/test210500/bundle/src/main/webapp/node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { Injectable, Inject, InjectionToken, isDevMode, LOCALE_ID, Injector, NgModule, ɵmakeDecorator, Component, Pipe, ErrorHandler } from '@angular/core';\nimport * as i1 from '@angular/common/http';\nimport { HttpClient, HttpParams, HttpHeaders, HttpResponse, HTTP_INTERCEPTORS, HttpErrorResponse } from '@angular/common/http';\nimport { of, BehaviorSubject, ReplaySubject, forkJoin, Observable, iif, combineLatest, Subject, throwError, EMPTY, concat, timer, from } from 'rxjs';\nimport { find, isString, includes, words, upperFirst, last, isUndefined, intersection, defaults, camelCase, findKey, some, head, isEmpty, isNil, values, toNumber, get, isNull, forOwn, isEqual, debounce, isNaN, noop, endsWith, forEach, flow, flatten, map as map$1, uniq, compact, sortBy, filter as filter$1, truncate, reject, cloneDeep, isRegExp, chain, startsWith, isArray, every, has, clone, assign } from 'lodash';\nimport { map, tap, shareReplay, switchMap, filter, take, mapTo, catchError, first, switchMapTo, takeUntil, startWith } from 'rxjs/operators';\nimport * as i3$1 from '@angular/common';\nimport { DOCUMENT, registerLocaleData, CommonModule } from '@angular/common';\nimport moment from 'moment-es6';\nimport * as i4 from '@bmc-ux/adapt-angular';\nimport { AdaptToastModule, AdaptButtonModule } from '@bmc-ux/adapt-angular';\nimport * as i2 from '@ngx-translate/core';\nimport { TranslateModule, TranslateLoader, MissingTranslationHandler, TranslateService } from '@ngx-translate/core';\nimport localeDa from '@angular/common/locales/da';\nimport localeDe from '@angular/common/locales/de';\nimport localeEs from '@angular/common/locales/es';\nimport localeFr from '@angular/common/locales/fr';\nimport localeIt from '@angular/common/locales/it';\nimport localeJa from '@angular/common/locales/ja';\nimport localeKo from '@angular/common/locales/ko';\nimport localeNb from '@angular/common/locales/nb';\nimport localeNl from '@angular/common/locales/nl';\nimport localePt from '@angular/common/locales/pt';\nimport localeRu from '@angular/common/locales/ru';\nimport localeSv from '@angular/common/locales/sv';\nimport localeZhHans from '@angular/common/locales/zh-Hans';\nimport * as i3 from '@angular/router';\nimport { NavigationEnd, DefaultUrlSerializer, NavigationCancel } from '@angular/router';\nimport * as i2$1 from '@helix/platform/ui-kit';\nimport { ValidationIssueType } from '@helix/platform/ui-kit';\nimport * as i2$2 from '@helix/platform/utils';\nimport { RxError, RxStringService } from '@helix/platform/utils';\nimport * as i1$1 from '@angular/platform-browser';\n\nconst RX_DATA_PAGE = {\n    defaultPageSize: 50,\n    emptyDataPage: {\n        data: [],\n        totalSize: 0\n    }\n};\n\nconst DATA_PAGE_API_URL = '/api/rx/application/datapage';\nclass DataPage {\n    constructor(injector, dataPageType, defaultDataPageRequestConfiguration = {}) {\n        this.requiredRequestParams = {\n            pageSize: -1,\n            startIndex: 0\n        };\n        this.http = injector.get(HttpClient);\n        this.dataPageType = dataPageType;\n        this.configuration = defaultDataPageRequestConfiguration;\n    }\n    get(dataPageRequestConfiguration = {}) {\n        const requestParams = Object.assign(Object.assign(Object.assign({}, this.requiredRequestParams), this.configuration.params), dataPageRequestConfiguration.params);\n        const requestHeaders = Object.assign(Object.assign({}, this.configuration.headers), dataPageRequestConfiguration.headers);\n        let params = new HttpParams().set('dataPageType', this.dataPageType);\n        Object.keys(requestParams).forEach((name) => {\n            params = params.set(name, String(requestParams[name]));\n        });\n        return this.http.get(DATA_PAGE_API_URL, {\n            headers: new HttpHeaders(requestHeaders),\n            params\n        });\n    }\n    getEmptyDataPage() {\n        return of(RX_DATA_PAGE.emptyDataPage);\n    }\n    post(dataPageRequestConfiguration = {}) {\n        const requestParams = Object.assign(Object.assign(Object.assign({}, this.requiredRequestParams), this.configuration.params), dataPageRequestConfiguration.params);\n        const requestHeaders = Object.assign(Object.assign({}, this.configuration.headers), dataPageRequestConfiguration.headers);\n        const requestBody = { values: { dataPageType: this.dataPageType } };\n        Object.keys(requestParams).forEach((name) => {\n            requestBody.values[name] = String(requestParams[name]);\n        });\n        return this.http.post(DATA_PAGE_API_URL, requestBody, {\n            headers: new HttpHeaders(requestHeaders)\n        });\n    }\n}\n\nclass RxActionTypeDataPageService extends DataPage {\n    constructor(injector) {\n        super(injector, 'com.bmc.arsys.rx.application.action.datapage.ActionTypeDataPageQuery');\n        this.injector = injector;\n    }\n}\nRxActionTypeDataPageService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxActionTypeDataPageService, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\nRxActionTypeDataPageService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxActionTypeDataPageService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxActionTypeDataPageService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nclass RxDefinitionNameService {\n    getDisplayName(definitionName) {\n        const name = definitionName || '';\n        return name.substring(name.lastIndexOf(':') + 1);\n    }\n    getDisplayNameForValidation(definitionName) {\n        const name = definitionName || '';\n        return name.substring(name.indexOf(':') + 1);\n    }\n    getDefinitionName(bundleId, displayName) {\n        return `${bundleId}:${displayName}`;\n    }\n    getBundleId(definitionName) {\n        const name = definitionName || '';\n        const matches = name.match(/(.+):/);\n        return (matches && matches.pop()) || '';\n    }\n}\nRxDefinitionNameService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionNameService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxDefinitionNameService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionNameService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionNameService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RxActionTypeUtilsService {\n    constructor(rxDefinitionNameService) {\n        this.rxDefinitionNameService = rxDefinitionNameService;\n    }\n    getActionTypeBundleFriendlyName(bundleDescriptors, actionType) {\n        var _a;\n        const bundleId = this.rxDefinitionNameService.getBundleId(actionType.actionTypeName);\n        return (bundleId && ((_a = find(bundleDescriptors, { id: bundleId })) === null || _a === void 0 ? void 0 : _a.friendlyName)) || '';\n    }\n    isActionParameterArrayOrList(actionParameter) {\n        return isString(actionParameter.dataType) && /^java\\.util\\.List.*|.*\\[.*].*/.test(actionParameter.dataType);\n    }\n    prettifyActionTypeName(actionTypeName) {\n        let result = this.rxDefinitionNameService.getDisplayName(actionTypeName);\n        if (!includes(actionTypeName, ' ')) {\n            result = words(result, /[a-z|A-Z|0-9]+?([A-Z|0-9]*)+?([-_a-z|0-9]*)+/g)\n                .map((value, index) => (index === 0 ? upperFirst(value) : value))\n                .join(' ');\n        }\n        return result;\n    }\n}\nRxActionTypeUtilsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxActionTypeUtilsService, deps: [{ token: RxDefinitionNameService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxActionTypeUtilsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxActionTypeUtilsService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxActionTypeUtilsService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxDefinitionNameService }]; } });\n\nclass Command {\n    constructor(resourceType, httpClient) {\n        this.resourceType = resourceType;\n        this.httpClient = httpClient;\n    }\n    execute(data, options) {\n        const payload = data instanceof FormData\n            ? data\n            : Object.assign(Object.assign({}, data), { resourceType: this.resourceType });\n        return this.httpClient.post('/api/rx/application/command', payload, options);\n    }\n}\n\nclass RxCommandFactoryService {\n    constructor(httpClient) {\n        this.httpClient = httpClient;\n    }\n    forResourceType(resourceType) {\n        return new Command(resourceType, this.httpClient);\n    }\n}\nRxCommandFactoryService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCommandFactoryService, deps: [{ token: i1.HttpClient }], target: i0.ɵɵFactoryTarget.Injectable });\nRxCommandFactoryService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCommandFactoryService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCommandFactoryService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }]; } });\n\nconst API_URL = '/api/rx/application/admin-settings/local';\nconst SETTINGS_API_URL = '/api/rx/application/admin-settings/component';\nclass RxAdminSettingsService {\n    constructor(httpClient, rxCommandFactoryService) {\n        this.httpClient = httpClient;\n        this.rxCommandFactoryService = rxCommandFactoryService;\n    }\n    getComponentGridData(componentName, customHeaders) {\n        return this.httpClient.get(`${API_URL}/component-griddata/${componentName}`, {\n            headers: new HttpHeaders(customHeaders || {})\n        });\n    }\n    getComponentDefinition(componentName, customHeaders) {\n        return this.httpClient.get(`${API_URL}/component-definition/${componentName}`, {\n            headers: new HttpHeaders(customHeaders || {})\n        });\n    }\n    getAdminNavigationMenuItems() {\n        return this.httpClient\n            .get(`${API_URL}/navigation-menu`)\n            .pipe(map((navigationMenu) => navigationMenu.AdminNavigationMenu.items));\n    }\n    getComponentSettings(componentName, customHeaders) {\n        return this.httpClient.get(`${API_URL}/component-settings/${componentName}`, {\n            headers: new HttpHeaders(customHeaders || {})\n        });\n    }\n    deleteComponentSettings(componentName, customHeaders) {\n        return this.httpClient.delete(`${API_URL}/component-settings/${componentName}`, {\n            headers: new HttpHeaders(customHeaders || {})\n        });\n    }\n    createComponentSettings(componentName, data, customHeaders) {\n        return this.httpClient\n            .post(`${API_URL}/component-settings/${componentName}`, data, {\n            headers: new HttpHeaders(customHeaders || {}),\n            observe: 'response'\n        })\n            .pipe(map((response) => { var _a; return last((_a = response.headers.get('location')) === null || _a === void 0 ? void 0 : _a.split('/')) || ''; }));\n    }\n    updateComponentSettings(componentName, data, customHeaders) {\n        return this.httpClient.put(`${API_URL}/component-settings/${componentName}`, data, {\n            headers: new HttpHeaders(customHeaders || {})\n        });\n    }\n    getAdminSetting(componentName, customHeaders) {\n        return this.httpClient.get(`${SETTINGS_API_URL}/${componentName}`, {\n            headers: new HttpHeaders(customHeaders || {})\n        });\n    }\n    createAdminSetting(data) {\n        return this.httpClient.post(SETTINGS_API_URL, data);\n    }\n    updateAdminSetting(data) {\n        return this.httpClient.put(`${SETTINGS_API_URL}/${data.componentName}`, data);\n    }\n    deleteAdminSetting(definitionNames) {\n        return this.rxCommandFactoryService\n            .forResourceType('com.bmc.arsys.rx.application.admin.command.DeleteAdminSettingsComponentDefinitionsCommand')\n            .execute({ definitionNames });\n    }\n}\nRxAdminSettingsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdminSettingsService, deps: [{ token: i1.HttpClient }, { token: RxCommandFactoryService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxAdminSettingsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdminSettingsService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdminSettingsService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }, { type: RxCommandFactoryService }]; } });\n\nconst RX_ADMINISTRATION = {\n    settingNames: {\n        newApplicationUiOptOut: 'New application UI opt out',\n        newViewDesignerOptOut: 'New view designer opt out'\n    },\n    systemConfigurationUrl: '/api/rx/application/systemconfiguration',\n    submitterModes: {\n        locked: 1\n    },\n    configurationSettingTypes: {\n        shared: {\n            configurationType: 'shared-settings',\n            value: 'shared'\n        },\n        inbundle: {\n            configurationType: 'in-bundle-settings',\n            value: 'inBundle'\n        },\n        external: {\n            configurationType: 'external-settings',\n            value: 'external'\n        }\n    },\n    settingAccessOptions: {\n        application: {\n            value: 'Application'\n        },\n        innovationStudio: {\n            value: 'InnovationStudio'\n        },\n        both: {\n            value: 'Both'\n        },\n        none: {\n            value: 'None'\n        }\n    }\n};\n\nclass RxSystemConfigurationService {\n    constructor(httpClient) {\n        this.httpClient = httpClient;\n        this.systemConfigurations = {};\n    }\n    initialize() {\n        return this.queryConfiguration(['Submitter-Mode']).pipe(tap((systemConfigurations) => {\n            this.systemConfigurations = systemConfigurations.reduce((configs, systemConfiguration) => {\n                configs[systemConfiguration.id] = systemConfiguration.value;\n                return configs;\n            }, {});\n        }));\n    }\n    getConfigurationSync(identifier) {\n        if (this.systemConfigurations) {\n            const configValue = this.systemConfigurations[identifier];\n            if (isUndefined(configValue)) {\n                throw new Error(`System configuration ${identifier} is not available.`);\n            }\n            return configValue;\n        }\n        else {\n            throw new Error('System configuration service is not initialized.');\n        }\n    }\n    getConfiguration(configurationName) {\n        return this.httpClient.get(`${RX_ADMINISTRATION.systemConfigurationUrl}/${configurationName}`);\n    }\n    setConfiguration(configurationName, configurationValue) {\n        return this.httpClient.put(`${RX_ADMINISTRATION.systemConfigurationUrl}/${configurationName}`, {\n            name: configurationName,\n            value: isString(configurationValue) ? configurationValue : JSON.stringify(configurationValue)\n        });\n    }\n    queryConfiguration(identifiers) {\n        const queryString = identifiers.map((identifier) => `identifier=${encodeURIComponent(identifier)}`).join('&');\n        return this.httpClient.get(`${RX_ADMINISTRATION.systemConfigurationUrl}/query?${queryString}`);\n    }\n}\nRxSystemConfigurationService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSystemConfigurationService, deps: [{ token: i1.HttpClient }], target: i0.ɵɵFactoryTarget.Injectable });\nRxSystemConfigurationService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSystemConfigurationService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSystemConfigurationService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }]; } });\n\nclass RxDataPageFactoryService {\n    constructor(injector) {\n        this.injector = injector;\n    }\n    withType(dataPageType, defaultDataPageRequestConfiguration) {\n        return new DataPage(this.injector, dataPageType, defaultDataPageRequestConfiguration);\n    }\n}\nRxDataPageFactoryService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDataPageFactoryService, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\nRxDataPageFactoryService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDataPageFactoryService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDataPageFactoryService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nclass RxAdminComponentDataPageService extends DataPage {\n    constructor(injector) {\n        super(injector, 'com.bmc.arsys.rx.application.admin.datapage.AdminComponentDataPageQuery');\n        this.injector = injector;\n    }\n}\nRxAdminComponentDataPageService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdminComponentDataPageService, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\nRxAdminComponentDataPageService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdminComponentDataPageService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdminComponentDataPageService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nconst RX_APPLICATION = {\n    platformBundleId: 'com.bmc.arsys.rx.client',\n    platformBundleIdPrefix: 'com.bmc.arsys.',\n    platformBundleIds: {\n        approvalCoreService: 'com.bmc.dsom.approval-core-service',\n        foundation: 'com.bmc.arsys.rx.foundation'\n    },\n    chatbotBundleId: 'com.bmc.dsm.chatbot',\n    settingsBundleId: 'com.bmc.arsys.rx.settings',\n    shellDefinitionName: 'BMC Modern Shell',\n    environmentConfigurationBundleId: 'com.bmc.arsys.rx.environment-configuration',\n    innovationStudioBundleId: 'com.bmc.arsys.rx.innovationstudio',\n    standardlib: 'standardlib',\n    approvalBundleId: 'com.bmc.arsys.rx.approval',\n    dataloadBundleId: 'com.bmc.arsys.rx.dataload',\n    angularJsApplicationBundleIds: [\n        'com.bmc.arsys.rx.settings',\n        'com.bmc.bsm.chatops',\n        'com.bmc.dsm.chatbot',\n        'com.bmc.dsm.comaroundMigration',\n        'com.example.taskmanager',\n        'com.example.taskmanager-lib'\n    ],\n    angularJsViewDesignerBundleIds: ['com.example.taskmanager', 'com.example.taskmanager-lib'],\n    ipaasJitterbitBundleId: 'com.bmc.dsm.ipaas-jitterbit',\n    ipaasMulesoftBundleId: 'com.bmc.dsm.ipaas-mulesoft',\n    routeReuseStrategies: {\n        checkParentParams: 'checkParentParams'\n    }\n};\n\nclass RxBundleDataPageService extends DataPage {\n    constructor(injector) {\n        super(injector, 'com.bmc.arsys.rx.application.bundle.datapage.BundleDescriptorDataPageQuery', {\n            params: {\n                includeNonLicensedBundles: true\n            }\n        });\n        this.injector = injector;\n    }\n}\nRxBundleDataPageService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBundleDataPageService, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\nRxBundleDataPageService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBundleDataPageService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBundleDataPageService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nclass RxCurrentUserService {\n    constructor() {\n        this.userSubject$ = new BehaviorSubject(null);\n        this.user$ = this.userSubject$.asObservable().pipe(shareReplay(1));\n    }\n    getPreferredLocale() {\n        var _a, _b;\n        return (_b = (_a = this.get()) === null || _a === void 0 ? void 0 : _a.preferredLocale) !== null && _b !== void 0 ? _b : '';\n    }\n    getPreferredUserLocale() {\n        var _a, _b;\n        return (_b = (_a = this.get()) === null || _a === void 0 ? void 0 : _a.preferredUserLocale) !== null && _b !== void 0 ? _b : '';\n    }\n    getName() {\n        var _a, _b;\n        return (_b = (_a = this.get()) === null || _a === void 0 ? void 0 : _a.loginName) !== null && _b !== void 0 ? _b : '';\n    }\n    set(user) {\n        this.userSubject$.next(user);\n    }\n    get() {\n        return this.userSubject$.getValue();\n    }\n    isBusinessAnalyst() {\n        var _a, _b;\n        return (_b = (_a = this.get()) === null || _a === void 0 ? void 0 : _a.isBusinessAnalyst) !== null && _b !== void 0 ? _b : false;\n    }\n    isAdministrator() {\n        var _a, _b;\n        return (_b = (_a = this.get()) === null || _a === void 0 ? void 0 : _a.isAdministrator) !== null && _b !== void 0 ? _b : false;\n    }\n    getEditableBundles() {\n        var _a;\n        return ((_a = this.get()) === null || _a === void 0 ? void 0 : _a.editableBundles) || [];\n    }\n    isSupportStaff() {\n        var _a, _b;\n        return (_b = (_a = this.get()) === null || _a === void 0 ? void 0 : _a.supportStaff) !== null && _b !== void 0 ? _b : false;\n    }\n    isAvailableForAssignment() {\n        var _a, _b;\n        return (_b = (_a = this.get()) === null || _a === void 0 ? void 0 : _a.assignmentAvailable) !== null && _b !== void 0 ? _b : false;\n    }\n    setAssignmentAvailability(assignmentAvailable) {\n        const user = this.get();\n        if (user) {\n            user.assignmentAvailable = assignmentAvailable;\n        }\n    }\n}\nRxCurrentUserService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCurrentUserService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxCurrentUserService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCurrentUserService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCurrentUserService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nvar LogCategory;\n(function (LogCategory) {\n    LogCategory[\"Sql\"] = \"sql\";\n    LogCategory[\"Api\"] = \"api\";\n    LogCategory[\"Rule\"] = \"rule\";\n    LogCategory[\"Process\"] = \"process\";\n    LogCategory[\"Bundle\"] = \"bundle\";\n    LogCategory[\"Cli\"] = \"cli\";\n    LogCategory[\"All\"] = \"all\";\n})(LogCategory || (LogCategory = {}));\nconst RX_LOG = {\n    serverLogCategories: [LogCategory.Sql, LogCategory.Api, LogCategory.Rule, LogCategory.Process, LogCategory.Bundle],\n    clientLogCategories: [LogCategory.Cli]\n};\n\nconst sessionLogCategoriesKey = 'RX_LOG_CATEGORIES';\n// tslint:disable:no-console\nclass RxLogService {\n    constructor(rxCurrentUserService) {\n        this.rxCurrentUserService = rxCurrentUserService;\n        this.serverCategories = '';\n        this.shouldLogEverything = false;\n        try {\n            const storedCategories = sessionStorage.getItem(sessionLogCategoriesKey);\n            this.categories = storedCategories ? JSON.parse(storedCategories) : [];\n        }\n        catch (e) {\n            this.categories = [];\n        }\n        this.configure(this.categories);\n    }\n    get logCategories() {\n        return this.categories || [];\n    }\n    get serverLogCategories() {\n        return this.serverCategories;\n    }\n    configure(categories) {\n        this.shouldLogEverything = includes(categories, LogCategory.All);\n        this.serverCategories = this.shouldLogEverything\n            ? RX_LOG.serverLogCategories.join(',')\n            : intersection(categories, RX_LOG.serverLogCategories).join(',');\n        this.categories = this.shouldLogEverything ? [LogCategory.All] : categories;\n        this.categories.length\n            ? sessionStorage.setItem(sessionLogCategoriesKey, JSON.stringify(this.categories))\n            : sessionStorage.removeItem(sessionLogCategoriesKey);\n    }\n    error(message) {\n        console.error(this.prepareLogMessage(message, 'E'));\n    }\n    warning(message) {\n        console.warn(this.prepareLogMessage(message, 'W'));\n    }\n    info(message) {\n        if (this.shouldLogEverything || includes(this.logCategories, LogCategory.Cli)) {\n            console.info(this.prepareLogMessage(message, 'I'));\n        }\n    }\n    debug(message) {\n        if (this.shouldLogEverything || includes(this.logCategories, LogCategory.Cli)) {\n            console.debug(this.prepareLogMessage(message, 'D'));\n        }\n    }\n    log(message) {\n        if (this.logCategories.length) {\n            console.log(message);\n        }\n    }\n    // tslint:disable:no-trailing-whitespace\n    prepareLogMessage(text, type) {\n        const currentUser = this.rxCurrentUserService.get();\n        return (`<CLI${type}> ` +\n            '<TID: 0000000000> ' +\n            '<RPC ID: 0000000000> ' +\n            '<Queue:           > ' +\n            `<USER: ${currentUser ? currentUser.loginName : ''}                                        > ` +\n            '<Tenant-ID:                                             > ' +\n            `<Overlay-Group: ${currentUser ? currentUser.defaultOverlayGroupId : ''}         > ` +\n            `/* ${moment().format('ddd MMM DD YYYY HH:mm:ss.SSSS')} */ ${text}`);\n    }\n}\nRxLogService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLogService, deps: [{ token: RxCurrentUserService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxLogService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLogService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLogService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxCurrentUserService }]; } });\n\nvar RxBundleLoadType;\n(function (RxBundleLoadType) {\n    RxBundleLoadType[\"always\"] = \"always\";\n    RxBundleLoadType[\"lazy\"] = \"lazy\";\n    RxBundleLoadType[\"never\"] = \"never\";\n})(RxBundleLoadType || (RxBundleLoadType = {}));\n\nclass RxFunctionDataPageService extends DataPage {\n    constructor(injector) {\n        super(injector, 'com.bmc.arsys.rx.application.workflow.datapage.FunctionDescriptorDataPageQuery');\n        this.injector = injector;\n    }\n}\nRxFunctionDataPageService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFunctionDataPageService, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\nRxFunctionDataPageService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFunctionDataPageService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFunctionDataPageService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nclass RxGlobalCacheService {\n    constructor(rxBundleDataPageService, rxFunctionDataPageService, rxLogService) {\n        this.rxBundleDataPageService = rxBundleDataPageService;\n        this.rxFunctionDataPageService = rxFunctionDataPageService;\n        this.rxLogService = rxLogService;\n        this.bundleDescriptorsById = {};\n        this.bundleDescriptors = null;\n        this.functionDescriptors = null;\n        this.applicationIdValue = '';\n        this.applicationIdSubject = new ReplaySubject(1);\n        this.applicationId$ = this.applicationIdSubject.asObservable();\n    }\n    get applicationId() {\n        return this.applicationIdValue;\n    }\n    set applicationId(value) {\n        if (this.applicationIdValue !== value) {\n            this.applicationIdValue = value;\n            this.applicationIdSubject.next(value);\n            this.rxLogService.debug(`RxGlobalCacheService: application ID set to ${value}`);\n        }\n    }\n    getBundleDescriptors() {\n        if (!this.bundleDescriptors) {\n            this.bundleDescriptors = this.rxBundleDataPageService.get().pipe(map((bundleDescriptors) => bundleDescriptors.data.map((dataPageData) => {\n                var _a;\n                const defaultUiOptions = {\n                    options: {\n                        loadJs: RxBundleLoadType.always,\n                        loadCss: RxBundleLoadType.always\n                    }\n                };\n                let uiOptions;\n                try {\n                    uiOptions = (_a = JSON.parse(dataPageData.uiOptions)) !== null && _a !== void 0 ? _a : defaultUiOptions;\n                    if (Boolean(uiOptions.options) && typeof uiOptions.options === 'object') {\n                        defaults(uiOptions.options, defaultUiOptions.options);\n                    }\n                    else {\n                        this.rxLogService.warning(`Invalid structure of uiOptions in bundle ${dataPageData.name}.`);\n                        uiOptions = defaultUiOptions;\n                    }\n                }\n                catch (e) {\n                    this.rxLogService.warning(`Cannot parse uiOptions in bundle ${dataPageData.name}.`);\n                    uiOptions = defaultUiOptions;\n                }\n                return Object.assign(Object.assign({}, dataPageData), { uiOptions });\n            })), shareReplay(1));\n        }\n        return this.bundleDescriptors;\n    }\n    getFunctionDescriptors() {\n        if (!this.functionDescriptors) {\n            this.functionDescriptors = this.rxFunctionDataPageService.get().pipe(map((dataPage) => dataPage.data), shareReplay(1));\n        }\n        return this.functionDescriptors;\n    }\n    getLicensedBundleDescriptors() {\n        return this.getBundleDescriptors().pipe(map((bundleDescriptors) => bundleDescriptors.filter((bundleDescriptor) => bundleDescriptor.isLicensed)));\n    }\n    getBundleDescriptor(bundleId) {\n        if (!this.bundleDescriptorsById[bundleId]) {\n            this.bundleDescriptorsById[bundleId] = this.getBundleDescriptors().pipe(map((bundleDescriptors) => bundleDescriptors.find((bundleDescriptor) => bundleDescriptor.id === bundleId)), shareReplay(1));\n        }\n        return this.bundleDescriptorsById[bundleId];\n    }\n    getApplicationBundleDescriptor() {\n        return this.applicationIdSubject.pipe(switchMap((applicationId) => this.getBundleDescriptor(applicationId)));\n    }\n    _getBundleFriendlyName(descriptor, defaultValue) {\n        return (descriptor === null || descriptor === void 0 ? void 0 : descriptor.friendlyName) || (descriptor === null || descriptor === void 0 ? void 0 : descriptor.id) || defaultValue || '';\n    }\n    getBundleFriendlyName(bundleId, defaultValue) {\n        return this.getBundleDescriptor(bundleId).pipe(map((bundleDescriptor) => this._getBundleFriendlyName(bundleDescriptor, defaultValue)));\n    }\n    getBundleDisplayName(bundleId) {\n        return this.getBundleDescriptor(bundleId).pipe(map((bundleDescriptor) => (this.applicationId !== RX_APPLICATION.innovationStudioBundleId && (bundleDescriptor === null || bundleDescriptor === void 0 ? void 0 : bundleDescriptor.localizedDisplayName)) ||\n            this._getBundleFriendlyName(bundleDescriptor)));\n    }\n    clear() {\n        this.bundleDescriptorsById = {};\n        this.bundleDescriptors = null;\n        this.functionDescriptors = null;\n        this.rxLogService.debug('RxGlobalCacheService: cleared.');\n    }\n}\nRxGlobalCacheService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxGlobalCacheService, deps: [{ token: RxBundleDataPageService }, { token: RxFunctionDataPageService }, { token: RxLogService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxGlobalCacheService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxGlobalCacheService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxGlobalCacheService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxBundleDataPageService }, { type: RxFunctionDataPageService }, { type: RxLogService }]; } });\n\nclass RxBundleService {\n    constructor(document, compiler, httpClient, injector, rxGlobalCacheService, rxLogService) {\n        this.document = document;\n        this.compiler = compiler;\n        this.httpClient = httpClient;\n        this.injector = injector;\n        this.rxGlobalCacheService = rxGlobalCacheService;\n        this.rxLogService = rxLogService;\n        this.baseUrl = '/api/rx/application/bundle/bundledescriptor/';\n        this.bundleJs = {};\n        this.bundleCss = {};\n    }\n    get(bundleId, options) {\n        const url = this.baseUrl + bundleId;\n        return this.httpClient.get(url, options);\n    }\n    // During login we issue a call to bundle descriptor rest api to get the current bundle\n    // information. If the user is not logged in yet we have to call the jsonp\n    // version that does not return an object but a method passing the object:\n    // rxLoadBundles({...}).\n    // Since we do not have this method in Angular (not in bootstrap.js), the workaround is to\n    // read the jsonp answer as text, extract the content withing the method call using regexp\n    // and then parse the bundle descriptor object.\n    getFromJsonp(bundleId) {\n        return this.httpClient.get(this.baseUrl + bundleId + '/jsonp', { responseType: 'text' }).pipe(map((jsonpResult) => {\n            return JSON.parse(/\\(([^)]+)\\)/.exec(jsonpResult)[1]);\n        }));\n    }\n    loadBundles(bundleIds, force) {\n        const loaders$ = bundleIds.map((bundleId) => this.rxGlobalCacheService.getBundleDescriptor(bundleId).pipe(tap((bundleDescriptor) => {\n            if (force ||\n                bundleDescriptor.uiOptions.options.loadCss === RxBundleLoadType.always ||\n                includes(bundleDescriptor.uiOptions.applicationInitializers, this.rxGlobalCacheService.applicationId)) {\n                this.loadBundleCss(bundleDescriptor);\n            }\n        }), switchMap((bundleDescriptor) => force ||\n            bundleDescriptor.uiOptions.options.loadJs === RxBundleLoadType.always ||\n            includes(bundleDescriptor.uiOptions.applicationInitializers, this.rxGlobalCacheService.applicationId)\n            ? this.loadBundle(bundleDescriptor)\n            : of({ bundleId: bundleDescriptor.id, isBundleCompiled: false, isFileLoaded: false }))));\n        return forkJoin(loaders$);\n    }\n    loadBundle(bundleDescriptor) {\n        if (!this.bundleJs[bundleDescriptor.id]) {\n            this.bundleJs[bundleDescriptor.id] = this.loadBundleJs(bundleDescriptor).pipe(switchMap((bundleContext) => this.compileBundle(bundleContext)), shareReplay(1));\n        }\n        return this.bundleJs[bundleDescriptor.id];\n    }\n    compileBundle(bundleContext) {\n        return new Observable((observer) => {\n            var _a, _b;\n            if (bundleContext.isFileLoaded) {\n                bundleContext.module.then((module) => {\n                    const moduleName = `${upperFirst(camelCase(bundleContext.bundleId))}Module`;\n                    try {\n                        const factory = this.compiler.compileModuleSync(module[moduleName]);\n                        if (factory) {\n                            factory.create(this.injector);\n                            bundleContext.isBundleCompiled = true;\n                            this.rxLogService.debug(`${bundleContext.bundleId}: loaded successfully.`);\n                        }\n                        else {\n                            this.rxLogService.error(`ERROR! ${bundleContext.bundleId}: cannot find module factory for ${moduleName}.`);\n                        }\n                    }\n                    catch (error) {\n                        this.rxLogService.error(`ERROR! ${bundleContext.bundleId}:\\n${error}`);\n                    }\n                    observer.next(bundleContext);\n                    observer.complete();\n                });\n            }\n            else {\n                this.rxLogService.error(`ERROR! ${bundleContext.bundleId}:\\n${(_b = (_a = bundleContext.message) === null || _a === void 0 ? void 0 : _a.stack) !== null && _b !== void 0 ? _b : bundleContext.message}`);\n                observer.next(bundleContext);\n                observer.complete();\n            }\n        });\n    }\n    loadBundleJs(bundleDescriptor) {\n        const dasherizedBundleId = bundleDescriptor.id.replace(/\\./g, '-');\n        const cacheBuster = new Date(bundleDescriptor.lastDeployedTime).getTime();\n        const fileName = `../${bundleDescriptor.id}/scripts/libs_${dasherizedBundleId}_src_index_ts.js?_v=${cacheBuster}`;\n        const modulePathMapping = `./libs/${dasherizedBundleId}/src/index.ts`;\n        this.rxLogService.debug(`${bundleDescriptor.id}: loading from ${fileName}.`);\n        // WARNING! webpackIgnore comment below is critical for dynamic imports to work, DO NOT REMOVE!\n        const module = import(/* webpackIgnore: true */ `${fileName}`).then(\n        // WARNING! comment below is critical for dynamic imports to work, DO NOT REMOVE!\n        // @ts-ignore\n        __webpack_require__.bind(null, `${modulePathMapping}`));\n        return new Observable((observer) => {\n            module.then(() => {\n                observer.next({\n                    bundleId: bundleDescriptor.id,\n                    isBundleCompiled: false,\n                    isFileLoaded: true,\n                    module: module\n                });\n                observer.complete();\n            }, (error) => {\n                observer.next({\n                    bundleId: bundleDescriptor.id,\n                    isBundleCompiled: false,\n                    isFileLoaded: false,\n                    message: error\n                });\n                observer.complete();\n            });\n        });\n    }\n    loadBundleCss(bundleDescriptor) {\n        if (!this.bundleCss[bundleDescriptor.id]) {\n            const cacheBuster = new Date(bundleDescriptor.lastDeployedTime).getTime();\n            const link = document.createElement('link');\n            link.id = bundleDescriptor.id;\n            link.href = `/${bundleDescriptor.id}/scripts/${bundleDescriptor.id.replace(/\\./g, '-')}.css?_v=${cacheBuster}`;\n            link.type = 'text/css';\n            link.rel = 'stylesheet';\n            this.document.head.appendChild(link);\n            this.bundleCss[bundleDescriptor.id] = true;\n        }\n    }\n}\nRxBundleService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBundleService, deps: [{ token: DOCUMENT }, { token: i0.Compiler }, { token: i1.HttpClient }, { token: i0.Injector }, { token: RxGlobalCacheService }, { token: RxLogService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxBundleService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBundleService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBundleService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }, { type: i0.Compiler }, { type: i1.HttpClient }, { type: i0.Injector }, { type: RxGlobalCacheService }, { type: RxLogService }]; } });\n\nconst bundleTypes = {\n    application: 'Application',\n    library: 'Library'\n};\nconst definitionScopeNames = {\n    application: bundleTypes.application,\n    library: bundleTypes.library,\n    public: 'Public'\n};\nconst definitionScopeTypes = {\n    bundle: 'BUNDLE',\n    public: 'PUBLIC'\n};\nconst RX_BUNDLE = {\n    bundleTypes,\n    definitionScopeNames,\n    definitionScopeTypes,\n    definitionScopes: {\n        application: {\n            displayName: definitionScopeNames.application,\n            type: definitionScopeTypes.bundle\n        },\n        library: {\n            displayName: definitionScopeNames.library,\n            type: definitionScopeTypes.bundle\n        },\n        public: {\n            displayName: definitionScopeNames.public,\n            type: definitionScopeTypes.public\n        }\n    },\n    applicationDefinitionScopeSelectionOptions: [\n        {\n            id: definitionScopeTypes.bundle,\n            name: definitionScopeNames.application\n        },\n        {\n            id: definitionScopeTypes.public,\n            name: definitionScopeNames.public\n        }\n    ],\n    libraryDefinitionScopeSelectionOptions: [\n        {\n            id: definitionScopeTypes.bundle,\n            name: definitionScopeNames.library\n        },\n        {\n            id: definitionScopeTypes.public,\n            name: definitionScopeNames.public\n        }\n    ]\n};\n\nclass RxDefinitionService {\n    getScopeName(definitionScopeType, bundleDescriptor) {\n        return definitionScopeType === RX_BUNDLE.definitionScopeTypes.bundle\n            ? bundleDescriptor.isApplication\n                ? RX_BUNDLE.definitionScopeNames.application\n                : RX_BUNDLE.definitionScopeNames.library\n            : RX_BUNDLE.definitionScopeNames.public;\n    }\n}\nRxDefinitionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxDefinitionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RxBundleCacheService {\n    constructor(rxActionTypeDataPageService, rxLogService, rxGlobalCacheService, rxDefinitionService) {\n        this.rxActionTypeDataPageService = rxActionTypeDataPageService;\n        this.rxLogService = rxLogService;\n        this.rxGlobalCacheService = rxGlobalCacheService;\n        this.rxDefinitionService = rxDefinitionService;\n        this.actionTypes$ = this.rxActionTypeDataPageService\n            .get({ params: { requireDependent: true } })\n            .pipe(map((actionTypes) => actionTypes.data), shareReplay(1));\n        this.bundleIdSubject$ = new ReplaySubject(1);\n        this.bundleId$ = this.bundleIdSubject$.asObservable();\n    }\n    get bundleId() {\n        return this.bundleIdValue;\n    }\n    set bundleId(value) {\n        this.bundleIdValue = value;\n        this.bundleIdSubject$.next(value);\n        this.rxLogService.debug(`RxBundleCacheService: bundle ID set to ${value}`);\n    }\n    getActionTypes() {\n        return this.actionTypes$;\n    }\n    getCurrentBundleDescriptor() {\n        return this.bundleId$.pipe(switchMap((bundleId) => this.rxGlobalCacheService.getBundleDescriptor(bundleId)));\n    }\n    getDefinitionScopeName(definitionScopeType) {\n        return this.getCurrentBundleDescriptor().pipe(map((bundleDescriptor) => this.rxDefinitionService.getScopeName(definitionScopeType, bundleDescriptor)));\n    }\n    getDefinitionScopeSelectionOptions() {\n        return this.getCurrentBundleDescriptor().pipe(map((bundleDescriptor) => bundleDescriptor.isApplication\n            ? RX_BUNDLE.applicationDefinitionScopeSelectionOptions\n            : RX_BUNDLE.libraryDefinitionScopeSelectionOptions));\n    }\n}\nRxBundleCacheService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBundleCacheService, deps: [{ token: RxActionTypeDataPageService }, { token: RxLogService }, { token: RxGlobalCacheService }, { token: RxDefinitionService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxBundleCacheService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBundleCacheService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBundleCacheService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxActionTypeDataPageService }, { type: RxLogService }, { type: RxGlobalCacheService }, { type: RxDefinitionService }]; } });\n\nconst RX_DEFAULT_STRINGS = new InjectionToken('RX_DEFAULT_STRINGS');\n\nconst RX_BUILD_ENVIRONMENT = new InjectionToken('buildEnvironment');\n\nclass RxRssoDebugService {\n    constructor(rxBuildEnvironment) {\n        this.rxBuildEnvironment = rxBuildEnvironment;\n    }\n    isRssoDebugEnabled() {\n        return isDevMode() && Boolean(this.rxBuildEnvironment.isRssoDebugEnabled);\n    }\n}\nRxRssoDebugService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRssoDebugService, deps: [{ token: RX_BUILD_ENVIRONMENT }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRssoDebugService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRssoDebugService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRssoDebugService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [RX_BUILD_ENVIRONMENT]\n                }] }]; } });\n\nconst SUPPORTED_LOCALES = {\n    de: { adapt: 'de-de' },\n    en: { adapt: 'en-us' },\n    es: { adapt: 'es-es' },\n    fr: { adapt: 'fr-fr' },\n    it: { adapt: 'it-it' },\n    ja: { adapt: 'ja-jp' },\n    ko: { adapt: 'ko-kr' },\n    nl: { adapt: 'nl-nl' },\n    pt: { adapt: 'pt-br' },\n    ru: { adapt: 'ru-ru' },\n    sv: { adapt: 'sv-se' },\n    da: { adapt: 'da-dk' },\n    no: { moment: 'nb', angular: 'nb', adapt: 'no-no', similar: ['nb', 'nn'] },\n    'zh-Hans': { moment: 'zh-CN', adapt: 'zh-cn', similar: ['zh-CN'] }\n};\nconst LOGIN_LOCALE = 'login';\nconst DEFAULT_LOCALE = 'en';\nclass RxLocalizationService {\n    constructor(httpClient, translateService, rxCurrentUserService, adaptTranslateService, rxRssoDebugService, document, defaultStrings) {\n        this.httpClient = httpClient;\n        this.translateService = translateService;\n        this.rxCurrentUserService = rxCurrentUserService;\n        this.adaptTranslateService = adaptTranslateService;\n        this.rxRssoDebugService = rxRssoDebugService;\n        this.document = document;\n        this.defaultStrings = defaultStrings;\n        this.currentLocale = DEFAULT_LOCALE;\n        this.angularLocale = DEFAULT_LOCALE;\n        this.onTranslationsLoaded$ = this.translateService.onLangChange.pipe(shareReplay(1));\n        this.loginLocalizedStrings$ = this.getLocalizedStringsForLoginPage().pipe(shareReplay(1));\n        this.preferredLocale$ = this.rxCurrentUserService.user$.pipe(filter(Boolean), take(1), map(() => this.rxCurrentUserService.getPreferredLocale() || this.rxCurrentUserService.getPreferredUserLocale()), switchMap((preferredLocale) => preferredLocale\n            ? of(preferredLocale)\n            : this.loginLocalizedStrings$.pipe(map((response) => Object.keys(response.body)[0]))), map((locale) => this.normalizeLocale(locale)), shareReplay(1));\n    }\n    getDefaultApplicationStrings() {\n        return this.defaultStrings;\n    }\n    setDefaultApplicationStrings(defaultApplicationStrings) {\n        this.defaultStrings = Object.assign(Object.assign({}, this.defaultStrings), defaultApplicationStrings);\n    }\n    initLoginTranslations() {\n        return this.loginLocalizedStrings$.pipe(map((response) => response.body), tap((payload) => {\n            const localeKey = Object.keys(payload)[0];\n            this.setLocale(this.normalizeLocale(localeKey));\n            this.translateService.setTranslation(LOGIN_LOCALE, payload[localeKey], true);\n        }), switchMap(() => this.translateService.use(LOGIN_LOCALE)));\n    }\n    initTranslations(useDefault = false) {\n        return (useDefault ? of(DEFAULT_LOCALE) : this.preferredLocale$).pipe(switchMap((locale) => this.translateService.use(locale).pipe(mapTo(locale))), tap((locale) => {\n            this.setLocale(locale);\n            const adaptLocale = this.getCurrentLocaleDescriptor().adapt;\n            Object.assign(this.adaptTranslateService.languages[adaptLocale], {\n                'adapt.rx.error.min': this.translateService.instant('com.bmc.arsys.rx.client.error.min'),\n                'adapt.rx.error.max': this.translateService.instant('com.bmc.arsys.rx.client.error.max'),\n                'adapt.rx.error.required': this.translateService.instant('com.bmc.arsys.rx.client.view-components.validation.required.message'),\n                'adapt.select.emptyStateDescription': ''\n            });\n        }));\n    }\n    setLocale(locale) {\n        this.currentLocale = locale;\n        this.setDocumentLang(this.currentLocale);\n        const descriptor = this.getCurrentLocaleDescriptor();\n        this.adaptTranslateService.useLanguage(descriptor.adapt);\n        moment.locale(descriptor.moment);\n        this.angularLocale = descriptor.angular;\n    }\n    getCurrentLocaleDescriptor() {\n        const locale = findKey(SUPPORTED_LOCALES, (localeInfo, key) => {\n            const language = this.currentLocale.split('-')[0];\n            return (key === this.currentLocale ||\n                key === language ||\n                some(localeInfo.similar, (item) => item === this.currentLocale || item === language));\n        });\n        return {\n            angular: locale ? SUPPORTED_LOCALES[locale].angular || locale : DEFAULT_LOCALE,\n            moment: (SUPPORTED_LOCALES[locale] && SUPPORTED_LOCALES[locale].moment) || this.currentLocale,\n            adapt: (SUPPORTED_LOCALES[locale] && SUPPORTED_LOCALES[locale].adapt) || SUPPORTED_LOCALES[DEFAULT_LOCALE].adapt\n        };\n    }\n    getLocalizedStringsForLoginPage() {\n        // When debugging on an RSSO environment, this (/api/rx/application/logincontent/login.json) call fails\n        // repeatedly with a http 401 error,so we have bypassed it. This call is only useful for the Innovation\n        // Studio login page which is not accessed in RSSO environment.\n        return this.rxRssoDebugService.isRssoDebugEnabled()\n            ? of()\n            : this.httpClient.get('/api/rx/application/logincontent/login.json', {\n                observe: 'response'\n            });\n    }\n    setDocumentLang(lang) {\n        this.document.documentElement.setAttribute('lang', lang);\n    }\n    // Safari returns the web browser locale information Region in lowercase\n    // en-us instead of en-US which causes issues with localized field.\n    normalizeLocale(locale) {\n        const localeInformation = locale.split('-');\n        if (localeInformation.length > 1) {\n            localeInformation[1] = localeInformation[1].toUpperCase();\n        }\n        return localeInformation.join('-');\n    }\n}\nRxLocalizationService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizationService, deps: [{ token: i1.HttpClient }, { token: i2.TranslateService }, { token: RxCurrentUserService }, { token: i4.AdaptTranslateService }, { token: RxRssoDebugService }, { token: DOCUMENT }, { token: RX_DEFAULT_STRINGS }], target: i0.ɵɵFactoryTarget.Injectable });\nRxLocalizationService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizationService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizationService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }, { type: i2.TranslateService }, { type: RxCurrentUserService }, { type: i4.AdaptTranslateService }, { type: RxRssoDebugService }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [RX_DEFAULT_STRINGS]\n                }] }]; } });\n\nclass RxLoginLocalizationResolver {\n    constructor(rxLocalizationService) {\n        this.rxLocalizationService = rxLocalizationService;\n    }\n    resolve(route, state) {\n        return this.rxLocalizationService.initLoginTranslations();\n    }\n}\nRxLoginLocalizationResolver.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLoginLocalizationResolver, deps: [{ token: RxLocalizationService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxLoginLocalizationResolver.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLoginLocalizationResolver, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLoginLocalizationResolver, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxLocalizationService }]; } });\n\nclass RxLocalizedStringsLoaderService {\n    constructor(httpClient) {\n        this.httpClient = httpClient;\n        this.baseUrl = '/api/rx/application/localizedstrings';\n    }\n    getTranslation(locale) {\n        return locale === 'login' ? of({}) : this.httpClient.get(`${this.baseUrl}?locale=${locale}`);\n    }\n    uploadTranslation(bundleId, locale, translations) {\n        return this.httpClient.post(`${this.baseUrl}/${bundleId}?locale=${locale}`, translations);\n    }\n}\nRxLocalizedStringsLoaderService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizedStringsLoaderService, deps: [{ token: i1.HttpClient }], target: i0.ɵɵFactoryTarget.Injectable });\nRxLocalizedStringsLoaderService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizedStringsLoaderService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizedStringsLoaderService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }]; } });\n\nclass RxMissingTranslationHandler {\n    constructor(injector) {\n        this.injector = injector;\n    }\n    handle(params) {\n        this.rxLocalizationService = this.rxLocalizationService || this.injector.get(RxLocalizationService);\n        const defaultApplicationStrings = this.rxLocalizationService.getDefaultApplicationStrings();\n        return defaultApplicationStrings.hasOwnProperty(params.key)\n            ? params.translateService.parser.interpolate(defaultApplicationStrings[params.key], params.interpolateParams)\n            : params.key;\n    }\n}\nRxMissingTranslationHandler.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxMissingTranslationHandler, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\nRxMissingTranslationHandler.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxMissingTranslationHandler, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxMissingTranslationHandler, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\n// AoT requires an exported function for factories\nfunction LocalizedStringsLoaderFactory(http) {\n    return new RxLocalizedStringsLoaderService(http);\n}\n// https://stackoverflow.com/questions/44287827/dynamically-change-locale-for-datepipe-in-angular-2/49675774#49675774\n// https://github.com/angular/angular/issues/15039\nclass DynamicLocaleId extends String {\n    constructor(rxLocalizationService) {\n        super();\n        this.rxLocalizationService = rxLocalizationService;\n    }\n    toString() {\n        return this.rxLocalizationService.angularLocale;\n    }\n}\nclass RxLocalizationModule {\n    constructor() {\n        [\n            localeDe,\n            localeEs,\n            localeFr,\n            localeIt,\n            localeJa,\n            localeKo,\n            localeNb,\n            localeNl,\n            localeRu,\n            localeSv,\n            localePt,\n            localeDa,\n            localeZhHans\n        ].forEach((locale) => registerLocaleData(locale));\n    }\n}\nRxLocalizationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizationModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxLocalizationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizationModule, imports: [CommonModule, i2.TranslateModule] });\nRxLocalizationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizationModule, providers: [\n        {\n            provide: LOCALE_ID,\n            deps: [RxLocalizationService],\n            useClass: DynamicLocaleId\n        }\n    ], imports: [[\n            CommonModule,\n            TranslateModule.forRoot({\n                loader: {\n                    provide: TranslateLoader,\n                    useFactory: LocalizedStringsLoaderFactory,\n                    deps: [HttpClient, Injector]\n                },\n                missingTranslationHandler: {\n                    provide: MissingTranslationHandler,\n                    useClass: RxMissingTranslationHandler,\n                    deps: [Injector]\n                }\n            })\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        TranslateModule.forRoot({\n                            loader: {\n                                provide: TranslateLoader,\n                                useFactory: LocalizedStringsLoaderFactory,\n                                deps: [HttpClient, Injector]\n                            },\n                            missingTranslationHandler: {\n                                provide: MissingTranslationHandler,\n                                useClass: RxMissingTranslationHandler,\n                                deps: [Injector]\n                            }\n                        })\n                    ],\n                    providers: [\n                        {\n                            provide: LOCALE_ID,\n                            deps: [RxLocalizationService],\n                            useClass: DynamicLocaleId\n                        }\n                    ]\n                }]\n        }], ctorParameters: function () { return []; } });\n\nclass RxComponentCanDeactivateGuard {\n    constructor(router, rxModalService, rxUtilityModalsService) {\n        this.router = router;\n        this.rxModalService = rxModalService;\n        this.rxUtilityModalsService = rxUtilityModalsService;\n        this.isEnabled = true;\n        window.addEventListener('beforeunload', (event) => {\n            var _a;\n            if (this.isEnabled &&\n                (((_a = this.pageComponent) === null || _a === void 0 ? void 0 : _a.canDeactivate()) === false ||\n                    this.rxModalService.isAnyDockedPanelDirty() ||\n                    this.rxModalService.isAnyModalDirty())) {\n                event.returnValue = true;\n            }\n        });\n        this.router.events.pipe(filter((event) => event instanceof NavigationEnd)).subscribe(() => this.enable());\n    }\n    canDeactivate(component) {\n        var _a;\n        if (this.isEnabled && (this.rxModalService.isAnyDockedPanelDirty() || this.rxModalService.isAnyModalDirty())) {\n            return this.rxUtilityModalsService.confirmUnsavedChanges();\n        }\n        else if (this.isEnabled && ((_a = this.pageComponent) === null || _a === void 0 ? void 0 : _a.canDeactivate()) === false) {\n            return this.pageComponent.confirmDeactivation();\n        }\n        else {\n            return true;\n        }\n    }\n    setPageComponent(component) {\n        this.pageComponent = component;\n    }\n    enable() {\n        this.isEnabled = true;\n    }\n    disable() {\n        this.isEnabled = false;\n    }\n}\nRxComponentCanDeactivateGuard.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxComponentCanDeactivateGuard, deps: [{ token: i3.Router }, { token: i2$1.RxModalService }, { token: i2$1.RxUtilityModalsService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxComponentCanDeactivateGuard.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxComponentCanDeactivateGuard, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxComponentCanDeactivateGuard, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i3.Router }, { type: i2$1.RxModalService }, { type: i2$1.RxUtilityModalsService }]; } });\n\nclass RxApplicationLoaderService {\n    constructor(document) {\n        this.document = document;\n    }\n    removeApplicationLoader() {\n        const applicationLoaderId = 'rx-application-loader-container';\n        const applicationLoaderElement = this.document.getElementById(applicationLoaderId);\n        if (applicationLoaderElement) {\n            applicationLoaderElement.remove();\n        }\n    }\n}\nRxApplicationLoaderService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplicationLoaderService, deps: [{ token: DOCUMENT }], target: i0.ɵɵFactoryTarget.Injectable });\nRxApplicationLoaderService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplicationLoaderService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplicationLoaderService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }]; } });\n\nclass RxApplicationResolver {\n    constructor(document, rxBuildEnvironment, injector, compiler, rxBundleService, rxLogService, rxBundleCacheService, rxComponentCanDeactivateGuard, rxGlobalCacheService, rxApplicationLoaderService, rxLocalizationService) {\n        this.document = document;\n        this.rxBuildEnvironment = rxBuildEnvironment;\n        this.injector = injector;\n        this.compiler = compiler;\n        this.rxBundleService = rxBundleService;\n        this.rxLogService = rxLogService;\n        this.rxBundleCacheService = rxBundleCacheService;\n        this.rxComponentCanDeactivateGuard = rxComponentCanDeactivateGuard;\n        this.rxGlobalCacheService = rxGlobalCacheService;\n        this.rxApplicationLoaderService = rxApplicationLoaderService;\n        this.rxLocalizationService = rxLocalizationService;\n        const prodBundleDescriptors$ = this.rxGlobalCacheService\n            .getBundleDescriptors()\n            .pipe(map((bundleDescriptors) => bundleDescriptors.filter((bundleDescriptor) => bundleDescriptor.containsAngular)));\n        const devBundleDescriptors$ = prodBundleDescriptors$.pipe(map((bundleDescriptors) => bundleDescriptors.filter((bundleDescriptor) => bundleDescriptor.id !== this.rxBuildEnvironment.bundleId)));\n        this.devResolver$ = iif(() => isUndefined(this.rxBuildEnvironment.bundleId), of([]), devBundleDescriptors$);\n        this.prodResolver$ = prodBundleDescriptors$;\n    }\n    resolve(route) {\n        const applicationId = head(route.url).path;\n        if (this.rxGlobalCacheService.applicationId && applicationId !== this.rxGlobalCacheService.applicationId) {\n            this.rxComponentCanDeactivateGuard.disable();\n            window.location.reload();\n        }\n        this.rxGlobalCacheService.applicationId = applicationId;\n        const bundleId = route.params['bundleId'];\n        if (bundleId !== RX_APPLICATION.innovationStudioBundleId) {\n            this.rxBundleCacheService.bundleId = bundleId;\n        }\n        const useDefaultLang = this.rxGlobalCacheService.applicationId === RX_APPLICATION.innovationStudioBundleId;\n        const initTranslations$ = this.rxLocalizationService.initTranslations(useDefaultLang);\n        return combineLatest([initTranslations$, this.getResolver()]);\n    }\n    getResolver() {\n        return iif(() => isDevMode(), this.devResolver$, this.prodResolver$).pipe(switchMap((bundles) => {\n            if (isEmpty(bundles)) {\n                return of(bundles);\n            }\n            const bundleIds = bundles.map((bundleDescriptor) => bundleDescriptor.id);\n            return this.rxBundleService.loadBundles(bundleIds, false);\n        }), tap(() => this.rxApplicationLoaderService.removeApplicationLoader()), shareReplay(1));\n    }\n}\nRxApplicationResolver.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplicationResolver, deps: [{ token: DOCUMENT }, { token: RX_BUILD_ENVIRONMENT }, { token: i0.Injector }, { token: i0.Compiler }, { token: RxBundleService }, { token: RxLogService }, { token: RxBundleCacheService }, { token: RxComponentCanDeactivateGuard }, { token: RxGlobalCacheService }, { token: RxApplicationLoaderService }, { token: RxLocalizationService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxApplicationResolver.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplicationResolver, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplicationResolver, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [RX_BUILD_ENVIRONMENT]\n                }] }, { type: i0.Injector }, { type: i0.Compiler }, { type: RxBundleService }, { type: RxLogService }, { type: RxBundleCacheService }, { type: RxComponentCanDeactivateGuard }, { type: RxGlobalCacheService }, { type: RxApplicationLoaderService }, { type: RxLocalizationService }]; } });\n\n// @dynamic\nclass RxRootInjector {\n}\n\nvar NotificationType;\n(function (NotificationType) {\n    NotificationType[\"Success\"] = \"rx-messageduration-success\";\n    NotificationType[\"Info\"] = \"rx-messageduration-info\";\n    NotificationType[\"Warning\"] = \"rx-messageduration-warn\";\n    NotificationType[\"Error\"] = \"rx-messageduration-error\";\n})(NotificationType || (NotificationType = {}));\nconst RX_DEFAULT_NOTIFICATION_SETTINGS = {\n    [NotificationType.Success]: { ttl: 3000 },\n    [NotificationType.Info]: { ttl: 3000 },\n    [NotificationType.Warning]: { ttl: 6000 },\n    [NotificationType.Error]: { ttl: 6000 }\n};\n\nclass RxNotificationService {\n    constructor(rxLogService, translateService, rxAdminSettingsService, rxCurrentUserService) {\n        this.rxLogService = rxLogService;\n        this.translateService = translateService;\n        this.rxAdminSettingsService = rxAdminSettingsService;\n        this.rxCurrentUserService = rxCurrentUserService;\n        this.issuesToReportSubject$ = new Subject();\n        this.notificationSettings = RX_DEFAULT_NOTIFICATION_SETTINGS;\n        this.componentName = 'InnovationSuiteServerSetting';\n        this.messagesSubject = new Subject();\n        this.messages$ = this.messagesSubject.asObservable();\n        this.issuesToReport$ = this.issuesToReportSubject$.asObservable();\n    }\n    addErrorMessage(message, title, config = {}) {\n        if (isNil(title)) {\n            title = this.translateService.instant('com.bmc.arsys.rx.client.common.error.label');\n        }\n        this.messagesSubject.next({\n            severity: 'error',\n            summary: title,\n            detail: message,\n            life: config.ttl || this.notificationSettings[NotificationType.Error].ttl,\n            sticky: this.isSticky(config.ttl, NotificationType.Error),\n            data: config.issue\n        });\n        if (!config.suppressLog) {\n            this.rxLogService.error(`${title}: ${message}`);\n        }\n    }\n    addWarningMessage(message, title, config = {}) {\n        if (isNil(title)) {\n            title = this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label');\n        }\n        this.messagesSubject.next({\n            severity: 'warn',\n            summary: title,\n            detail: message,\n            life: config.ttl || this.notificationSettings[NotificationType.Warning].ttl,\n            sticky: this.isSticky(config.ttl, NotificationType.Warning),\n            data: config.issue\n        });\n        this.rxLogService.warning(`${title}: ${message}`);\n    }\n    addInfoMessage(message, title, config = {}) {\n        if (isNil(title)) {\n            title = this.translateService.instant('com.bmc.arsys.rx.client.common.info.label');\n        }\n        this.messagesSubject.next({\n            severity: 'info',\n            summary: title,\n            detail: message,\n            life: config.ttl || this.notificationSettings[NotificationType.Info].ttl,\n            sticky: this.isSticky(config.ttl, NotificationType.Info)\n        });\n        this.rxLogService.info(`${title}: ${message}`);\n    }\n    addSuccessMessage(message, title, config = {}) {\n        if (isNil(title)) {\n            title = this.translateService.instant('com.bmc.arsys.rx.client.common.success.label');\n        }\n        this.messagesSubject.next({\n            severity: 'success',\n            summary: title,\n            detail: message,\n            life: config.ttl || this.notificationSettings[NotificationType.Success].ttl,\n            sticky: this.isSticky(config.ttl, NotificationType.Success)\n        });\n        this.rxLogService.debug(`${title}: ${message}`);\n    }\n    reportIssue(issue) {\n        this.issuesToReportSubject$.next(issue);\n    }\n    initialize() {\n        this.rxCurrentUserService.user$\n            .pipe(filter((user) => Boolean(user)), switchMap(() => {\n            if (this.rxCurrentUserService.isAdministrator()) {\n                return this.rxAdminSettingsService.getComponentSettings(this.componentName).pipe(tap((settings) => {\n                    values(NotificationType).forEach((notificationType) => {\n                        const notificationSettings = find(settings.values, ['settingName', notificationType]);\n                        if (notificationSettings && notificationSettings.settingValue) {\n                            this.notificationSettings[notificationType].ttl =\n                                toNumber(notificationSettings.settingValue) * 1000;\n                        }\n                    });\n                }), catchError((err) => {\n                    this.rxLogService.warning('Notification Message Preferences cannot be applied. Default values will be used.');\n                    return throwError(err);\n                }));\n            }\n            else {\n                this.rxLogService.debug('Notification Message Preferences cannot be applied since the current user is not a administrator.');\n                return EMPTY;\n            }\n        }))\n            .subscribe();\n    }\n    isSticky(ttl, messageType) {\n        return isUndefined(ttl) ? this.notificationSettings[messageType].ttl === 0 : ttl === 0;\n    }\n}\nRxNotificationService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNotificationService, deps: [{ token: RxLogService }, { token: i2.TranslateService }, { token: RxAdminSettingsService }, { token: RxCurrentUserService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxNotificationService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNotificationService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNotificationService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxLogService }, { type: i2.TranslateService }, { type: RxAdminSettingsService }, { type: RxCurrentUserService }]; } });\n\nclass RxUpgradeTrackerService {\n    constructor(rxLocalizationService, rxNotificationService, rxSystemConfigurationService) {\n        this.rxLocalizationService = rxLocalizationService;\n        this.rxNotificationService = rxNotificationService;\n        this.rxSystemConfigurationService = rxSystemConfigurationService;\n        this._isUpgradeInProgress = false;\n        this._upgradeMessage = '';\n        this.isUpgradeInProgressSubject = new Subject();\n        this.isUpgradeInProgress$ = this.isUpgradeInProgressSubject.asObservable();\n    }\n    set upgradeMessage(message) {\n        this._upgradeMessage = message;\n    }\n    get upgradeMessage() {\n        return this._upgradeMessage;\n    }\n    set isUpgradeInProgress(isUpgradeInProgress) {\n        const hasStatusChanged = this._isUpgradeInProgress !== isUpgradeInProgress;\n        this._isUpgradeInProgress = isUpgradeInProgress;\n        if (!this._isUpgradeInProgress) {\n            this._upgradeMessage = '';\n        }\n        if (hasStatusChanged) {\n            this.isUpgradeInProgressSubject.next(isUpgradeInProgress);\n        }\n    }\n    get isUpgradeInProgress() {\n        return this._isUpgradeInProgress;\n    }\n    getUpgradeNotification() {\n        let upgradeNotification;\n        if (!this._upgradeMessage) {\n            upgradeNotification = this.rxSystemConfigurationService.getConfiguration('Upgrade-Notification-Text');\n        }\n        else {\n            upgradeNotification = of({\n                id: '',\n                name: '',\n                value: this._upgradeMessage\n            });\n        }\n        return upgradeNotification;\n    }\n    displayUpgradeNotification(forceNotification) {\n        if (this.isUpgradeInProgress && (!this.upgradeMessage || forceNotification)) {\n            combineLatest([this.getUpgradeNotification(), this.rxLocalizationService.onTranslationsLoaded$])\n                .pipe(first())\n                .subscribe(([upgradeMessage]) => {\n                this.upgradeMessage = upgradeMessage.value;\n                this.rxNotificationService.addWarningMessage(this.upgradeMessage);\n            });\n        }\n    }\n}\nRxUpgradeTrackerService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUpgradeTrackerService, deps: [{ token: RxLocalizationService }, { token: RxNotificationService }, { token: RxSystemConfigurationService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxUpgradeTrackerService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUpgradeTrackerService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUpgradeTrackerService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxLocalizationService }, { type: RxNotificationService }, { type: RxSystemConfigurationService }]; } });\n\nclass RxApplicationConfiguratorService {\n    constructor(injector, rxUpgradeTrackerService, rxGlobalCacheService, document, router, adaptModalService, adaptDockedPanelService) {\n        this.rxUpgradeTrackerService = rxUpgradeTrackerService;\n        this.rxGlobalCacheService = rxGlobalCacheService;\n        this.document = document;\n        this.router = router;\n        this.adaptModalService = adaptModalService;\n        this.adaptDockedPanelService = adaptDockedPanelService;\n        RxRootInjector.injector = injector;\n    }\n    configure() {\n        this.patchCkEditor();\n        this.rxGlobalCacheService.applicationId$\n            .pipe(filter(Boolean), take(1))\n            .subscribe((applicationId) => this.document.body.parentNode.setAttribute('rx-app', applicationId));\n        this.rxUpgradeTrackerService.isUpgradeInProgress$.subscribe(() => {\n            this.rxUpgradeTrackerService.displayUpgradeNotification(false);\n        });\n        this.router.events.pipe(filter((event) => event instanceof NavigationEnd)).subscribe(() => {\n            this.adaptModalService.closeAllModals();\n            for (let i = this.adaptDockedPanelService.openedPanels.length - 1; i >= 0; i--) {\n                this.adaptDockedPanelService.close(this.adaptDockedPanelService.openedPanels[i].id);\n            }\n        });\n    }\n    // monkey patch CKEDITOR.dialog.add method to remove 'popup' option from Link -> Target dropdown\n    patchCkEditor() {\n        const ckEditorDialogAdd = CKEDITOR.dialog.add.bind(CKEDITOR.dialog);\n        CKEDITOR.dialog.add = function (name, dialogDefinition) {\n            if (typeof dialogDefinition === 'string') {\n                ckEditorDialogAdd(name, dialogDefinition);\n            }\n            else {\n                const patchedDialogDefinitionFunc = function (editor) {\n                    const dialogDefinitionObj = dialogDefinition(editor);\n                    if (name === 'link') {\n                        const linkTargetConfig = dialogDefinitionObj.contents.find((item) => item.id === 'target');\n                        get(linkTargetConfig, 'elements[0].children[0].items').splice(2, 1);\n                    }\n                    return dialogDefinitionObj;\n                };\n                ckEditorDialogAdd(name, patchedDialogDefinitionFunc);\n            }\n        };\n    }\n}\nRxApplicationConfiguratorService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplicationConfiguratorService, deps: [{ token: i0.Injector }, { token: RxUpgradeTrackerService }, { token: RxGlobalCacheService }, { token: DOCUMENT }, { token: i3.Router }, { token: i4.AdaptModalService }, { token: i4.AdaptDockedPanelService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxApplicationConfiguratorService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplicationConfiguratorService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplicationConfiguratorService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: RxUpgradeTrackerService }, { type: RxGlobalCacheService }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }, { type: i3.Router }, { type: i4.AdaptModalService }, { type: i4.AdaptDockedPanelService }]; } });\n\nconst RxApplicationInitializer = ɵmakeDecorator('RxApplicationInitializer');\n\nclass RxApplicationRegistryService {\n    constructor(rxGlobalCacheService) {\n        this.rxGlobalCacheService = rxGlobalCacheService;\n    }\n    register(applicationId, initializer) {\n        this.rxGlobalCacheService\n            .getApplicationBundleDescriptor()\n            .pipe(take(1))\n            .subscribe((bundleDescriptor) => {\n            if ((bundleDescriptor === null || bundleDescriptor === void 0 ? void 0 : bundleDescriptor.id) === applicationId) {\n                initializer.initialize();\n            }\n        });\n    }\n}\nRxApplicationRegistryService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplicationRegistryService, deps: [{ token: RxGlobalCacheService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxApplicationRegistryService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplicationRegistryService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplicationRegistryService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxGlobalCacheService }]; } });\n\nconst RX_OVERLAY = {\n    bundleCustomizationOperationTypes: {\n        createdInThisOverlayGroup: 'CREATED_IN_THIS_OVERLAY_GROUP'\n    },\n    operationTypes: {\n        createdInThisOverlayGroup: 'N/A',\n        notCustomizedInThisOverlayGroup: 'Not Customized',\n        customizedInThisOverlayGroup: 'Customized'\n    },\n    customizationPerspective: {\n        createdInThisOverlayGroup: 'CREATED_IN_THIS_OVERLAY_GROUP',\n        notCustomizedInThisOverlayGroup: 'NOT_CUSTOMIZED_IN_THIS_OVERLAY_GROUP',\n        customizedInThisOverlayGroup: 'CUSTOMIZED_IN_THIS_OVERLAY_GROUP'\n    },\n    overlayTypes: {\n        overwrite: 'OVERWRITE',\n        additive: 'ADDITIVE',\n        unmodified: 'UNMODIFIED'\n    },\n    overlayAllowedLabels: {\n        allowed: 'Allowed',\n        notAllowed: 'Not allowed'\n    },\n    overlayGroupIds: {\n        base: '0',\n        overlay: '1'\n    }\n};\n\nvar DevelopmentMode;\n(function (DevelopmentMode) {\n    DevelopmentMode[\"Base\"] = \"0\";\n    DevelopmentMode[\"BestPractice\"] = \"1\";\n})(DevelopmentMode || (DevelopmentMode = {}));\nvar OverlayType;\n(function (OverlayType) {\n    OverlayType[\"Additive\"] = \"ADDITIVE\";\n    OverlayType[\"Overwrite\"] = \"OVERWRITE\";\n    OverlayType[\"Unmodified\"] = \"UNMODIFIED\";\n})(OverlayType || (OverlayType = {}));\n\nclass RxOverlayService {\n    constructor(rxTreeService, rxLogService, rxBundleService, rxCurrentUserService, rxGlobalCacheService) {\n        this.rxTreeService = rxTreeService;\n        this.rxLogService = rxLogService;\n        this.rxBundleService = rxBundleService;\n        this.rxCurrentUserService = rxCurrentUserService;\n        this.rxGlobalCacheService = rxGlobalCacheService;\n    }\n    areNewDefinitionsAllowed(bundleId) {\n        return this.rxGlobalCacheService\n            .getBundleDescriptor(bundleId)\n            .pipe(map((bundleDescriptor) => this.areNewDefinitionsAllowedSync(bundleDescriptor)));\n    }\n    areNewDefinitionsAllowedSync(bundleDescriptor) {\n        return (this.isBundleEditable(bundleDescriptor.id) &&\n            !(bundleDescriptor.platformBundle && this.getCurrentOverlayGroupId() === RX_OVERLAY.overlayGroupIds.overlay));\n    }\n    setCurrentOverlayContextOnSessionInit(user) {\n        const userOverlayGroupDescriptors = user.userOverlayGroupDescriptors;\n        const defaultOverlayGroupId = user.defaultOverlayGroupId;\n        if (!this.userHasAccessToMultipleOverlays(userOverlayGroupDescriptors)) {\n            return;\n        }\n        const savedOverlayGroupId = localStorage.getItem('rx-overlay-group-id');\n        const contextDescriptors = this.rxTreeService.flattenTree(userOverlayGroupDescriptors[0], 'userOverlayGroupDescriptorChildren');\n        if (savedOverlayGroupId) {\n            this.overlay = find(contextDescriptors, { overlayGroupId: savedOverlayGroupId });\n            // use default defaultOverlayGroupId if the saved overlay context is missing in contextDescriptors\n            if (!this.overlay) {\n                this.overlay = find(contextDescriptors, { overlayGroupId: defaultOverlayGroupId });\n                this.rxLogService.debug(`Invalid Overlay Group ID: ${savedOverlayGroupId}. The Overlay Group ID has been set to the default value: ${defaultOverlayGroupId}`);\n            }\n        }\n        else {\n            this.overlay = find(contextDescriptors, { overlayGroupId: defaultOverlayGroupId });\n        }\n    }\n    getOverlayOperation(overlayGroupId, parentOverlayGroupId) {\n        const currentOverlayGroupId = this.getCurrentOverlayGroupId();\n        let operationType = RX_OVERLAY.operationTypes.notCustomizedInThisOverlayGroup;\n        if (currentOverlayGroupId === overlayGroupId) {\n            operationType = parentOverlayGroupId\n                ? RX_OVERLAY.operationTypes.customizedInThisOverlayGroup\n                : RX_OVERLAY.operationTypes.createdInThisOverlayGroup;\n        }\n        return operationType;\n    }\n    isCustomizationEnabled(type, definition) {\n        if (definition.lastUpdateTime) {\n            const overlayDescriptor = definition.overlayDescriptor || { parentOverlayGroupId: null };\n            const overlayOperation = this.getOverlayOperation(definition.overlayGroupId, overlayDescriptor.parentOverlayGroupId);\n            if (overlayOperation === RX_OVERLAY.operationTypes.createdInThisOverlayGroup) {\n                return true;\n            }\n            return isNull(type) ? false : definition[type];\n        }\n        else {\n            return true;\n        }\n    }\n    isBundleEditable(bundleId) {\n        return (this.isCurrentOverlayGroupWritable() &&\n            (!this.rxCurrentUserService.isBusinessAnalyst() ||\n                includes(this.rxCurrentUserService.getEditableBundles(), bundleId)));\n    }\n    isCurrentOverlayGroupWritable() {\n        const user = this.rxCurrentUserService.get();\n        const contextDescriptors = [\n            ...user.userOverlayGroupDescriptors,\n            ...user.userOverlayGroupDescriptors[0].userOverlayGroupDescriptorChildren\n        ];\n        const currentOverlayGroupId = this.getCurrentOverlayGroupId();\n        return find(contextDescriptors, { overlayGroupId: currentOverlayGroupId }).isWritable;\n    }\n    getCurrentOverlayContext() {\n        return this.overlay;\n    }\n    setDevelopmentMode(developmentMode) {\n        const overlayGroupId = developmentMode === DevelopmentMode.Base ? RX_OVERLAY.overlayGroupIds.base : RX_OVERLAY.overlayGroupIds.overlay;\n        localStorage.setItem('rx-overlay-group-id', overlayGroupId);\n    }\n    getDevelopmentMode() {\n        const overlayGroupId = this.getCurrentOverlayContext().overlayGroupId;\n        return overlayGroupId === RX_OVERLAY.overlayGroupIds.base ? DevelopmentMode.Base : DevelopmentMode.BestPractice;\n    }\n    userHasAccessToMultipleOverlays(overlayGroup) {\n        return get(overlayGroup, '[0].userOverlayGroupDescriptorChildren.length') >= 1;\n    }\n    getCurrentOverlayGroupId() {\n        return this.overlay.overlayGroupId || this.rxCurrentUserService.get().defaultOverlayGroupId;\n    }\n    getUserDefaultOverlayGroupId() {\n        var _a, _b;\n        return (_b = (_a = this.getCurrentOverlayContext()) === null || _a === void 0 ? void 0 : _a.overlayGroupId) !== null && _b !== void 0 ? _b : this.rxCurrentUserService.get().defaultOverlayGroupId;\n    }\n}\nRxOverlayService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOverlayService, deps: [{ token: i2$2.RxTreeService }, { token: RxLogService }, { token: RxBundleService }, { token: RxCurrentUserService }, { token: RxGlobalCacheService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxOverlayService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOverlayService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOverlayService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i2$2.RxTreeService }, { type: RxLogService }, { type: RxBundleService }, { type: RxCurrentUserService }, { type: RxGlobalCacheService }]; } });\n\nclass RxFeatureService {\n    enableFeatures(featureIds) {\n        this.enabledFeatures = featureIds;\n    }\n    isFeatureEnabled(featureId) {\n        if (this.enabledFeatures) {\n            return this.enabledFeatures.includes(featureId);\n        }\n    }\n}\nRxFeatureService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFeatureService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxFeatureService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFeatureService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFeatureService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RxUserService {\n    constructor(httpClient, rxFeatureService, router, rxUrlUtilsService) {\n        this.httpClient = httpClient;\n        this.rxFeatureService = rxFeatureService;\n        this.router = router;\n        this.rxUrlUtilsService = rxUrlUtilsService;\n    }\n    getUser(id, bundleId) {\n        return this.httpClient\n            .get(`/api/rx/application/user/${id}`, {\n            headers: new HttpHeaders({\n                'default-bundle-scope': bundleId !== null && bundleId !== void 0 ? bundleId : ''\n            }),\n            observe: 'response'\n        })\n            .pipe(map((response) => {\n            this.rxFeatureService.enableFeatures((response.headers.get('Enabled-Features') || '').split(','));\n            return Object.assign(Object.assign({}, response.body), { modifiedDate: new Date(response.body.modifiedDate), ssoProviderType: response.headers.get('sso-provider-type') });\n        }));\n    }\n    getCurrentUser() {\n        return this.getUser('$USER$', this.rxUrlUtilsService.getBundleIdFromUrl());\n    }\n}\nRxUserService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUserService, deps: [{ token: i1.HttpClient }, { token: RxFeatureService }, { token: i3.Router }, { token: i2$2.RxUrlUtilsService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxUserService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUserService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUserService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }, { type: RxFeatureService }, { type: i3.Router }, { type: i2$2.RxUrlUtilsService }]; } });\n\nconst RX_USER = {\n    userProfileRecordDefinitionName: 'CTM:People',\n    userProfilePictureFieldId: 1000003962\n};\n\nclass RxSessionService {\n    constructor(rxCurrentUserService, rxUserService, rxOverlayService, rxSystemConfigurationService) {\n        this.rxCurrentUserService = rxCurrentUserService;\n        this.rxUserService = rxUserService;\n        this.rxOverlayService = rxOverlayService;\n        this.rxSystemConfigurationService = rxSystemConfigurationService;\n        this.ssoProviderType = null;\n        this.sessionActive$ = concat(this.initCurrentUser(), this.rxSystemConfigurationService.initialize()).pipe(mapTo(true), shareReplay(1));\n    }\n    initSession() {\n        return this.isAlive() ? of(true) : this.sessionActive$;\n    }\n    isAlive() {\n        return Boolean(this.rxCurrentUserService.get());\n    }\n    getSsoProviderType() {\n        return this.ssoProviderType;\n    }\n    initCurrentUser() {\n        return this.rxUserService.getCurrentUser().pipe(tap((user) => {\n            this.rxCurrentUserService.set(user);\n            this.rxOverlayService.setCurrentOverlayContextOnSessionInit(user);\n            this.ssoProviderType = user.ssoProviderType;\n        }));\n    }\n}\nRxSessionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSessionService, deps: [{ token: RxCurrentUserService }, { token: RxUserService }, { token: RxOverlayService }, { token: RxSystemConfigurationService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxSessionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSessionService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSessionService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxCurrentUserService }, { type: RxUserService }, { type: RxOverlayService }, { type: RxSystemConfigurationService }]; } });\n\nconst activeColor = '--active-color';\nconst dropdownBorder = '--dropdown-border';\nconst dropdownBorderRadius = '--dropdown-border-radius';\nconst dropdownBoxShadow = '--dropdown-box-shadow';\nconst dropdownFontSize = '--dropdown-font-size';\nconst dropdownItemActiveBgColor = '--dropdown-item-active-bg-color';\nconst dropdownMenuColor = '--dropdown-menu-color';\nconst dropdownPadding = '--dropdown-padding';\nconst fontFamilyBase = '--font-family-base';\nconst lineHeightBase = '--line-height-base';\nconst selectOptionPadding = '--select-option-padding';\nconst cssVariables = [\n    activeColor,\n    dropdownBorder,\n    dropdownBorderRadius,\n    dropdownBoxShadow,\n    dropdownFontSize,\n    dropdownItemActiveBgColor,\n    dropdownMenuColor,\n    dropdownPadding,\n    fontFamilyBase,\n    lineHeightBase,\n    selectOptionPadding\n];\nconst RX_THEMING = {\n    cssVariablesForCkEditor: cssVariables,\n    cssVariableLocator: {\n        body: {\n            'line-height': lineHeightBase\n        },\n        '.text-active': {\n            color: activeColor\n        },\n        '.dropdown-menu': {\n            border: dropdownBorder,\n            'border-radius': dropdownBorderRadius,\n            'box-shadow': dropdownBoxShadow,\n            color: dropdownMenuColor,\n            'font-size': dropdownFontSize,\n            padding: dropdownPadding\n        },\n        '.rx-select__option': {\n            padding: selectOptionPadding\n        },\n        '.dropdown_select__menu .dropdown-item.active': {\n            'background-color': dropdownItemActiveBgColor\n        },\n        '.font-sans': {\n            'font-family': fontFamilyBase\n        }\n    }\n};\n\nclass RxThemingService {\n    setCssVariables() {\n        Array.from(document.querySelector('link[href*=\"application/theme\"]').sheet.cssRules).forEach((cssStyleRule) => {\n            forOwn(RX_THEMING.cssVariableLocator[cssStyleRule.selectorText] || {}, (cssVariableName, cssProperty) => {\n                const cssValue = cssStyleRule.style.getPropertyValue(cssProperty);\n                if (cssValue) {\n                    document.documentElement.style.setProperty(cssVariableName, cssValue);\n                }\n            });\n        });\n    }\n    copyCssVariables(variables, targetDocument) {\n        const sourceStyle = document.documentElement.style;\n        const targetStyle = targetDocument.documentElement.style;\n        variables.forEach((variableName) => {\n            targetStyle.setProperty(variableName, sourceStyle.getPropertyValue(variableName));\n        });\n    }\n}\nRxThemingService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxThemingService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxThemingService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxThemingService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxThemingService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RxThemeResolver {\n    constructor(document, rxSessionService, rxThemingService) {\n        this.document = document;\n        this.rxSessionService = rxSessionService;\n        this.rxThemingService = rxThemingService;\n        this.themeLoaded$ = new Observable((observer) => {\n            const link = this.document.createElement('link');\n            link.rel = 'stylesheet';\n            link.href = '/api/rx/application/theme/adapt-css-bs4.css';\n            link.onload = () => {\n                this.rxThemingService.setCssVariables();\n                observer.next();\n                observer.complete();\n            };\n            link.onerror = () => {\n                observer.next();\n                observer.complete();\n            };\n            this.document.head.appendChild(link);\n        }).pipe(shareReplay(1));\n    }\n    canActivate() {\n        return this.rxSessionService.sessionActive$.pipe(switchMapTo(this.themeLoaded$), mapTo(true));\n    }\n}\nRxThemeResolver.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxThemeResolver, deps: [{ token: DOCUMENT }, { token: RxSessionService }, { token: RxThemingService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxThemeResolver.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxThemeResolver, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxThemeResolver, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }, { type: RxSessionService }, { type: RxThemingService }]; } });\n\nclass RxValidApplicationGuard {\n    constructor(rxGlobalCacheService, router, rxSessionService) {\n        this.rxGlobalCacheService = rxGlobalCacheService;\n        this.router = router;\n        this.rxSessionService = rxSessionService;\n        this.unknownApplicationUrlTree = this.router.parseUrl('/unknown-application');\n    }\n    canActivate(route, state) {\n        return this.rxSessionService.sessionActive$.pipe(switchMap(() => this.checkBundleState(route)));\n    }\n    checkBundleState(route) {\n        const bundleId = route.paramMap.get('bundleId');\n        if (bundleId) {\n            return this.rxGlobalCacheService.getBundleDescriptor(bundleId).pipe(map((bundleDescriptor) => bundleDescriptor.isApplication || this.unknownApplicationUrlTree), catchError(() => of(this.unknownApplicationUrlTree)));\n        }\n        else {\n            return of(this.unknownApplicationUrlTree);\n        }\n    }\n}\nRxValidApplicationGuard.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxValidApplicationGuard, deps: [{ token: RxGlobalCacheService }, { token: i3.Router }, { token: RxSessionService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxValidApplicationGuard.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxValidApplicationGuard, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxValidApplicationGuard, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxGlobalCacheService }, { type: i3.Router }, { type: RxSessionService }]; } });\n\nclass RxAngularApplicationService {\n    constructor(rxAdminSettingsService, rxStringService) {\n        this.rxAdminSettingsService = rxAdminSettingsService;\n        this.rxStringService = rxStringService;\n        this.angularJsApplicationBundleIds$ = this.rxAdminSettingsService\n            .getComponentGridData(RX_ADMINISTRATION.settingNames.newApplicationUiOptOut, {\n            'default-bundle-scope': RX_APPLICATION.environmentConfigurationBundleId\n        })\n            .pipe(map((gridComponentSettings) => gridComponentSettings.rows\n            .filter((newApplicationUiOptOutSetting) => newApplicationUiOptOutSetting['Use old application UI'] === 'true')\n            .map((newApplicationUiOptOutSetting) => newApplicationUiOptOutSetting['Application ID'])\n            .concat(RX_APPLICATION.angularJsApplicationBundleIds)), shareReplay(1));\n        this.angularJsViewDesignerBundleIds$ = this.rxAdminSettingsService\n            .getComponentGridData(RX_ADMINISTRATION.settingNames.newViewDesignerOptOut, {\n            'default-bundle-scope': RX_APPLICATION.environmentConfigurationBundleId\n        })\n            .pipe(map((gridComponentSettings) => gridComponentSettings.rows\n            .filter((newViewDesignerOptOutSetting) => newViewDesignerOptOutSetting['Use old view designer'] === 'true')\n            .map((newViewDesignerOptOutSetting) => newViewDesignerOptOutSetting['Application ID'])\n            .concat(RX_APPLICATION.angularJsViewDesignerBundleIds)), shareReplay(1));\n    }\n    isAngularJsApplication(bundleId) {\n        return this.angularJsApplicationBundleIds$.pipe(map((angularJsApplicationBundleIds) => includes(angularJsApplicationBundleIds, bundleId)));\n    }\n    isAngularJsViewDesignerBundle(bundleId) {\n        return this.angularJsViewDesignerBundleIds$.pipe(map((angularJsViewDesignerBundleIds) => this.rxStringService.isIncluded(bundleId, angularJsViewDesignerBundleIds)));\n    }\n}\nRxAngularApplicationService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAngularApplicationService, deps: [{ token: RxAdminSettingsService }, { token: i2$2.RxStringService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxAngularApplicationService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAngularApplicationService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAngularApplicationService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxAdminSettingsService }, { type: i2$2.RxStringService }]; } });\n\nclass RxApplicationLoaderResolver {\n    constructor(rxApplicationLoaderService) {\n        this.rxApplicationLoaderService = rxApplicationLoaderService;\n    }\n    resolve(route, state) {\n        this.rxApplicationLoaderService.removeApplicationLoader();\n    }\n}\nRxApplicationLoaderResolver.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplicationLoaderResolver, deps: [{ token: RxApplicationLoaderService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxApplicationLoaderResolver.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplicationLoaderResolver, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplicationLoaderResolver, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxApplicationLoaderService }]; } });\n\nconst RX_SESSION = {\n    minutesBeforeLogout: 2,\n    keepAliveCommand: 'com.bmc.arsys.rx.application.user.command.KeepAliveCommand',\n    userInteractionThrottleTimeMs: 1000,\n    userInteractionEvents: ['click', 'keypress'],\n    expirationModes: {\n        idle: 'idleSessionExpirationMode',\n        absolute: 'absoluteSessionExpirationMode'\n    },\n    expirationHeaders: {\n        idle: 'Session-Expiration',\n        absolute: 'Absolute-Session-Expiration'\n    },\n    ssoProviderTypes: {\n        rsso: 'RSSO'\n    }\n};\n\nclass RxLoginPageGuard {\n    constructor(rxLocalizationService, router) {\n        this.rxLocalizationService = rxLocalizationService;\n        this.router = router;\n    }\n    canActivate(next, state) {\n        return this.rxLocalizationService.loginLocalizedStrings$.pipe(map((response) => {\n            const ssoProviderType = response.headers.get('sso-provider-type');\n            if (ssoProviderType === RX_SESSION.ssoProviderTypes.rsso) {\n                const bundleId = next.paramMap.get('bundleId');\n                return this.router.parseUrl(bundleId);\n            }\n            else {\n                return true;\n            }\n        }));\n    }\n}\nRxLoginPageGuard.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLoginPageGuard, deps: [{ token: RxLocalizationService }, { token: i3.Router }], target: i0.ɵɵFactoryTarget.Injectable });\nRxLoginPageGuard.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLoginPageGuard, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLoginPageGuard, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxLocalizationService }, { type: i3.Router }]; } });\n\n// Customize shouldReuseRoute, use default implementation for other methods.\nclass ShellRouteReuseStrategy {\n    shouldReuseRoute(current, next) {\n        var _a, _b, _c, _d, _e, _f;\n        if (((_a = next.data) === null || _a === void 0 ? void 0 : _a.routeReuseStrategy) === RX_APPLICATION.routeReuseStrategies.checkParentParams &&\n            current.parent &&\n            current.parent.routeConfig === ((_b = next.parent) === null || _b === void 0 ? void 0 : _b.routeConfig)) {\n            return isEqual(next.parent.params, current.parent.params);\n        }\n        else {\n            return (current.routeConfig === next.routeConfig ||\n                (((_d = (_c = current.routeConfig) === null || _c === void 0 ? void 0 : _c.data) === null || _d === void 0 ? void 0 : _d.routerGroup) &&\n                    current.routeConfig.data.routerGroup === ((_f = (_e = next.routeConfig) === null || _e === void 0 ? void 0 : _e.data) === null || _f === void 0 ? void 0 : _f.routerGroup)));\n        }\n    }\n    shouldAttach(route) {\n        return false;\n    }\n    shouldDetach(route) {\n        return false;\n    }\n    retrieve(route) {\n        return null;\n    }\n    store(route, handle) { }\n}\n\nconst RX_RESOURCE_URLS = {\n    command: '/api/rx/application/command'\n};\n\nclass RxAuthService {\n    constructor(location, httpClient, router, rxGlobalCacheService, rxLocalizationService, rxSessionService, rxLogService, rxUrlUtilsService, rxRssoDebugService) {\n        this.location = location;\n        this.httpClient = httpClient;\n        this.router = router;\n        this.rxGlobalCacheService = rxGlobalCacheService;\n        this.rxLocalizationService = rxLocalizationService;\n        this.rxSessionService = rxSessionService;\n        this.rxLogService = rxLogService;\n        this.rxUrlUtilsService = rxUrlUtilsService;\n        this.rxRssoDebugService = rxRssoDebugService;\n        // URL to redirect after login\n        this.targetUrl = '';\n        this.defaultUrlSerializer = new DefaultUrlSerializer();\n        this.router.events.subscribe((event) => {\n            if (event instanceof NavigationCancel || event instanceof NavigationEnd) {\n                const bundleId = this.rxUrlUtilsService.getBundleIdFromUrl(event.url);\n                const bundleLoginRoute = `/${bundleId}/login`;\n                if (event.url !== bundleLoginRoute) {\n                    this.targetUrl = event.url;\n                }\n                else if (event.url === bundleLoginRoute && !this.targetUrl) {\n                    this.targetUrl = `/${bundleId}`;\n                }\n            }\n        });\n    }\n    login(userName, password) {\n        return this.httpClient\n            .post('/api/rx/authentication/loginrequest', {\n            userName,\n            password,\n            locale: this.rxLocalizationService.currentLocale\n        }, { responseType: 'text' })\n            .pipe(tap((res) => {\n            // This is to avoid having additional url encoding when using router.navigate:\n            // for example a space %20 would be encoded to %2520\n            // https://stackoverflow.com/questions/46440887/url-encoding-breaking-angular-2-navigation\n            this.router.navigateByUrl(this.targetUrl);\n        }));\n    }\n    redirectToLoginPage() {\n        this.rxLogService.debug('Redirecting to login page.');\n        if (this.rxSessionService.getSsoProviderType() === RX_SESSION.ssoProviderTypes.rsso) {\n            this.redirectToRssoLogoutPage();\n        }\n        else {\n            if (this.rxRssoDebugService.isRssoDebugEnabled()) {\n                this.redirectToRssoDebugLoginPage();\n            }\n            else {\n                this.redirectToApplicationLoginPage();\n            }\n        }\n    }\n    logout() {\n        const onRequestEnd = () => {\n            this.rxLogService.debug('Destroying session after logout.');\n            localStorage.removeItem('lastUserInteraction');\n            localStorage.removeItem('idleTimeout');\n            localStorage.removeItem('rx-overlay-group-id');\n            this.redirectToLoginPage();\n        };\n        this.rxLogService.debug('Before logout.');\n        return this.httpClient\n            .post('/api/rx/authentication/logoutrequest', {}, {\n            headers: new HttpHeaders({\n                'default-bundle-scope': this.rxGlobalCacheService.applicationId\n            })\n        })\n            .pipe(tap(() => {\n            this.rxLogService.debug('Logout succeeded.');\n            onRequestEnd();\n        }), catchError((err) => {\n            this.rxLogService.debug('Logout failed.');\n            onRequestEnd();\n            return throwError(err);\n        }));\n    }\n    redirectToRssoLogoutPage() {\n        window.location.href = '/api/rsso-logout';\n    }\n    redirectToRssoDebugLoginPage() {\n        this.router.navigate(['rsso-debug/login'], {\n            state: {\n                shouldReloadPage: this.rxSessionService.isAlive()\n            }\n        });\n    }\n    redirectToApplicationLoginPage() {\n        const url = this.location.path();\n        // Trying to deduce the bundleId from the url. This can happen if the user tried to directly access a view\n        // while not logged in. In this case the application resolver does not kick in and does not set\n        // the application ID rxGlobalCacheService.\n        const bundleId = this.rxGlobalCacheService.applicationId || this.rxUrlUtilsService.getBundleIdFromUrl(url);\n        // The login page should be reloaded in case of session timeout but\n        // not if the user connects the first time.\n        // auth.interceptor.ts detects if a a rest calls returns http 401 and\n        // calls the login page redirection.\n        // In the case of a session timeout the session object is still 'alive'.\n        if (bundleId) {\n            // Post PR #776 the event NavigationCancel / NavigationEnd is not triggered anymore.\n            // This was used when the user was directly accessing a url (DRIST-21802).\n            // The logic has been added here.\n            const bundleLoginRoute = `${bundleId}/login`;\n            const isLoginRoute = url === `/${bundleLoginRoute}`;\n            if (!isLoginRoute) {\n                this.targetUrl = url;\n            }\n            else if (isLoginRoute && !this.targetUrl) {\n                this.targetUrl = `/${bundleId}`;\n            }\n            // The login page should be reloaded in case of session timeout but\n            // not if the user connects the first time.\n            // auth.interceptor.ts detects if a a rest calls returns http 401 and\n            // calls the login page redirection.\n            // In the case of a session timeout the session object is still 'alive'.\n            this.router.navigate([bundleLoginRoute], {\n                state: {\n                    shouldReloadPage: this.rxSessionService.isAlive()\n                }\n            });\n        }\n        else {\n            this.router.navigate(['unknown-application']);\n        }\n    }\n}\nRxAuthService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAuthService, deps: [{ token: i3$1.Location }, { token: i1.HttpClient }, { token: i3.Router }, { token: RxGlobalCacheService }, { token: RxLocalizationService }, { token: RxSessionService }, { token: RxLogService }, { token: i2$2.RxUrlUtilsService }, { token: RxRssoDebugService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxAuthService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAuthService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAuthService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i3$1.Location }, { type: i1.HttpClient }, { type: i3.Router }, { type: RxGlobalCacheService }, { type: RxLocalizationService }, { type: RxSessionService }, { type: RxLogService }, { type: i2$2.RxUrlUtilsService }, { type: RxRssoDebugService }]; } });\n\nvar SessionExpirationType;\n(function (SessionExpirationType) {\n    SessionExpirationType[\"Absolute\"] = \"Absolute\";\n    SessionExpirationType[\"Idle\"] = \"Idle\";\n})(SessionExpirationType || (SessionExpirationType = {}));\n\nclass RxSessionExpirationComponent {\n    constructor(context, translateService, ngZone) {\n        this.context = context;\n        this.translateService = translateService;\n        this.ngZone = ngZone;\n        this.isLoading = false;\n        this.SessionExpirationType = SessionExpirationType;\n        this.destroyed$ = new ReplaySubject(1);\n        const data = context.getData();\n        this.mode = data.mode;\n        this.expirationDate = data.expirationDate;\n        this.keepSessionAlive = data.keepSessionAlive;\n        this.logout = data.logout;\n    }\n    ngOnInit() {\n        if (this.mode === SessionExpirationType.Idle) {\n            this.ngZone.runOutsideAngular(() => {\n                timer(0, 1000)\n                    .pipe(takeUntil(this.destroyed$))\n                    .subscribe(() => {\n                    this.ngZone.run(this.checkTime.bind(this));\n                });\n            });\n        }\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n    keepAlive() {\n        this.isLoading = true;\n        this.keepSessionAlive().subscribe(() => {\n            this.isLoading = false;\n            this.close();\n        }, () => {\n            this.isLoading = false;\n        });\n    }\n    close() {\n        this.context.close();\n    }\n    checkTime() {\n        if (moment().isBefore(this.expirationDate)) {\n            const counter = moment.utc(this.expirationDate.getTime() - Date.now()).format('m:ss');\n            this.remainingTime = this.translateService.instant('com.bmc.arsys.rx.client.session-expiration-dialog.timer', {\n                time: counter\n            });\n        }\n        else {\n            this.remainingTime = '0:00';\n            this.logout();\n        }\n    }\n}\nRxSessionExpirationComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSessionExpirationComponent, deps: [{ token: i4.ActiveModalRef }, { token: i2.TranslateService }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component });\nRxSessionExpirationComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxSessionExpirationComponent, selector: \"rx-session-expiration\", ngImport: i0, template: \"<div class=\\\"modal-header\\\">\\n  <h5 class=\\\"modal-title\\\">{{ 'com.bmc.arsys.rx.client.common.alert.label' | translate }}</h5>\\n\\n  <button\\n    *ngIf=\\\"mode === SessionExpirationType.Absolute\\\"\\n    class=\\\"close dp-close\\\"\\n    aria-label=\\\"Close\\\"\\n    data-dismiss=\\\"modal\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"x-button\\\"\\n    (click)=\\\"close()\\\"\\n  ></button>\\n</div>\\n\\n<div class=\\\"modal-body\\\" [ngSwitch]=\\\"mode\\\">\\n  <div *ngSwitchCase=\\\"SessionExpirationType.Idle\\\">\\n    <p>{{ 'com.bmc.arsys.rx.client.session-expiration-dialog.idle-session-message1' | translate }}</p>\\n    <p>{{ 'com.bmc.arsys.rx.client.session-expiration-dialog.idle-session-message2' | translate }}</p>\\n  </div>\\n\\n  <div *ngSwitchCase=\\\"SessionExpirationType.Absolute\\\">\\n    <p>{{ 'com.bmc.arsys.rx.client.session-expiration-dialog.expiring-session-message1' | translate }}</p>\\n    <p>{{ 'com.bmc.arsys.rx.client.session-expiration-dialog.expiring-session-message2' | translate }}</p>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal-footer\\\" [ngSwitch]=\\\"mode\\\">\\n  <div\\n    class=\\\"rx-session-expiration-countdown text-primary d-icon-left-clock_o\\\"\\n    *ngSwitchCase=\\\"SessionExpirationType.Idle\\\"\\n    rx-id=\\\"timer\\\"\\n  >\\n    {{ remainingTime }}\\n  </div>\\n\\n  <button\\n    *ngSwitchCase=\\\"SessionExpirationType.Idle\\\"\\n    adapt-button\\n    btn-type=\\\"primary\\\"\\n    size=\\\"small\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"continue-button\\\"\\n    [disabled]=\\\"isLoading\\\"\\n    (click)=\\\"keepAlive()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.continue.label' | translate }}\\n  </button>\\n\\n  <button\\n    *ngSwitchCase=\\\"SessionExpirationType.Idle\\\"\\n    adapt-button\\n    btn-type=\\\"secondary\\\"\\n    size=\\\"small\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"logout-button\\\"\\n    [disabled]=\\\"isLoading\\\"\\n    (click)=\\\"logout()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.sign-out.label' | translate }}\\n  </button>\\n\\n  <button\\n    *ngSwitchCase=\\\"SessionExpirationType.Absolute\\\"\\n    adapt-button\\n    btn-type=\\\"primary\\\"\\n    size=\\\"small\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"ok-button\\\"\\n    (click)=\\\"close()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.ok.label' | translate }}\\n  </button>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.rx-session-expiration-countdown{font-weight:var(--font-weight-bold);margin-right:auto}\\n\"], components: [{ type: i4.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i3$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3$1.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { type: i3$1.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSessionExpirationComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-session-expiration',\n                    templateUrl: './session-expiration.component.html',\n                    styleUrls: ['./session-expiration.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i4.ActiveModalRef }, { type: i2.TranslateService }, { type: i0.NgZone }]; } });\n\nclass RxSessionExpirationService {\n    constructor(httpClient, adaptModalService, rxAuthService, ngZone, rxSessionService, rxComponentCanDeactivateGuard) {\n        this.httpClient = httpClient;\n        this.adaptModalService = adaptModalService;\n        this.rxAuthService = rxAuthService;\n        this.ngZone = ngZone;\n        this.rxSessionService = rxSessionService;\n        this.rxComponentCanDeactivateGuard = rxComponentCanDeactivateGuard;\n        this.trackUserInteractionDebounced = debounce(this.trackUserInteraction, RX_SESSION.userInteractionThrottleTimeMs, { leading: true, trailing: false });\n        this.sessionExpirationInfos = {\n            [SessionExpirationType.Absolute]: {},\n            [SessionExpirationType.Idle]: {}\n        };\n        RX_SESSION.userInteractionEvents.forEach((e) => window.addEventListener(e, this.trackUserInteractionDebounced.bind(this)));\n    }\n    setTimeout(type, time) {\n        const mDate = moment(time);\n        const isValid = this.isValidTimeout(mDate);\n        if (isValid && mDate.isAfter(this.sessionExpirationInfos[type].timeout)) {\n            this.sessionExpirationInfos[type].timeout = mDate.toDate();\n            if (this.isIdleTimeout(type)) {\n                localStorage.setItem('idleTimeout', this.sessionExpirationInfos[type].timeout.toString());\n                localStorage.removeItem('lastUserInteraction');\n            }\n            this.updateTimeoutHandler(type, this.sessionExpirationInfos[type].timeout);\n        }\n    }\n    keepSessionAlive() {\n        const lastUserInteraction = this.getLastUserInteraction();\n        return this.httpClient.post(RX_RESOURCE_URLS.command, {\n            resourceType: RX_SESSION.keepAliveCommand\n        }, {\n            headers: {\n                'AR-JWT-Refresh-From': lastUserInteraction\n                    ? new Date(lastUserInteraction).toUTCString()\n                    : new Date().toUTCString()\n            }\n        });\n    }\n    logout() {\n        this.rxComponentCanDeactivateGuard.disable();\n        this.sessionExpirationModal.reject();\n        this.rxAuthService.logout().subscribe();\n    }\n    trackUserInteraction() {\n        if (this.rxSessionService.isAlive()) {\n            localStorage.setItem('lastUserInteraction', Date.now().toString());\n        }\n    }\n    getLastUserInteraction() {\n        const lastUserInteraction = Number(localStorage.getItem('lastUserInteraction'));\n        return !isNaN(lastUserInteraction) ? lastUserInteraction : null;\n    }\n    getIdleSessionTimeout() {\n        const idleTimeout = new Date(localStorage.getItem('idleTimeout'));\n        return moment(idleTimeout).isValid() ? idleTimeout : null;\n    }\n    updateTimeoutHandler(type, expirationDate) {\n        const showWarnInMs = this.getTimeToSessionExpirationWarning(expirationDate);\n        this.clearTimer(type);\n        this.sessionExpirationInfos[type].timeout = expirationDate;\n        if (showWarnInMs > 0) {\n            // run outside angular to keep app 'stable' as required by QA automation\n            this.ngZone.runOutsideAngular(() => {\n                this.sessionExpirationInfos[type].timer = setTimeout(() => {\n                    this.ngZone.run(() => {\n                        if (this.isIdleTimeout(type)) {\n                            this.showIdleTimeoutWarning(expirationDate);\n                        }\n                        else if (type === SessionExpirationType.Absolute) {\n                            this.showAbsoluteTimeoutWarning();\n                        }\n                    });\n                }, showWarnInMs);\n            });\n        }\n    }\n    isIdleTimeout(type) {\n        return (type === SessionExpirationType.Idle &&\n            !moment(this.sessionExpirationInfos[SessionExpirationType.Idle].timeout).isSame(moment(this.sessionExpirationInfos[SessionExpirationType.Absolute].timeout)));\n    }\n    getTimeToSessionExpirationWarning(timeout) {\n        return moment(timeout).subtract(RX_SESSION.minutesBeforeLogout, 'minutes').diff(moment());\n    }\n    showIdleTimeoutWarning(expirationDate) {\n        if (this.rxSessionService.isAlive() && !this.getLastUserInteraction()) {\n            const idleSessionTimeout = new Date(this.getIdleSessionTimeout());\n            if (idleSessionTimeout &&\n                moment(idleSessionTimeout).isAfter(this.sessionExpirationInfos[SessionExpirationType.Idle].timeout)) {\n                this.updateTimeoutHandler(SessionExpirationType.Idle, idleSessionTimeout);\n            }\n            else {\n                this.openModal(SessionExpirationType.Idle, {\n                    expirationDate,\n                    keepSessionAlive: this.keepSessionAlive.bind(this),\n                    logout: this.logout.bind(this)\n                });\n            }\n        }\n        else {\n            this.keepSessionAlive().subscribe();\n        }\n    }\n    showAbsoluteTimeoutWarning() {\n        this.openModal(SessionExpirationType.Absolute);\n        // run outside angular to keep app 'stable' as required by QA automation\n        this.ngZone.runOutsideAngular(() => {\n            setTimeout(() => {\n                this.ngZone.run(() => {\n                    this.logout();\n                });\n            }, RX_SESSION.minutesBeforeLogout * 60 * 1000);\n        });\n    }\n    openModal(mode, data) {\n        this.sessionExpirationModal = this.adaptModalService.open({\n            content: RxSessionExpirationComponent,\n            beforeDismiss: () => false,\n            size: 'sm',\n            data: Object.assign({ mode }, data)\n        });\n        // should be removed after ADAPT issue is resolved:\n        // https://github.bmc.com/bmc-ux/adapt-angular/issues/2746\n        this.sessionExpirationModal.then(noop, noop);\n    }\n    isValidTimeout(date) {\n        return this.rxSessionService.isAlive() && date.isValid() && date.isAfter(moment());\n    }\n    clearTimer(type) {\n        if (this.sessionExpirationInfos[type].timer) {\n            clearTimeout(this.sessionExpirationInfos[type].timer);\n            this.sessionExpirationInfos[type].timer = null;\n        }\n    }\n}\nRxSessionExpirationService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSessionExpirationService, deps: [{ token: i1.HttpClient }, { token: i4.AdaptModalService }, { token: RxAuthService }, { token: i0.NgZone }, { token: RxSessionService }, { token: RxComponentCanDeactivateGuard }], target: i0.ɵɵFactoryTarget.Injectable });\nRxSessionExpirationService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSessionExpirationService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSessionExpirationService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }, { type: i4.AdaptModalService }, { type: RxAuthService }, { type: i0.NgZone }, { type: RxSessionService }, { type: RxComponentCanDeactivateGuard }]; } });\n\nclass RxKeepSessionAliveResolver {\n    constructor(rxSessionExpirationService) {\n        this.rxSessionExpirationService = rxSessionExpirationService;\n    }\n    resolve() {\n        return this.rxSessionExpirationService.keepSessionAlive();\n    }\n}\nRxKeepSessionAliveResolver.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxKeepSessionAliveResolver, deps: [{ token: RxSessionExpirationService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxKeepSessionAliveResolver.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxKeepSessionAliveResolver, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxKeepSessionAliveResolver, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxSessionExpirationService }]; } });\n\nclass RxFeatureGuard {\n    constructor(rxFeatureService) {\n        this.rxFeatureService = rxFeatureService;\n    }\n    canActivate(route, state) {\n        return of(this.rxFeatureService.isFeatureEnabled(route.data['featureId']));\n    }\n}\nRxFeatureGuard.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFeatureGuard, deps: [{ token: RxFeatureService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxFeatureGuard.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFeatureGuard, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFeatureGuard, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxFeatureService }]; } });\n\nvar JustificationRequirement;\n(function (JustificationRequirement) {\n    JustificationRequirement[\"RequiredForApproval\"] = \"TO_APPROVE\";\n    JustificationRequirement[\"RequiredForRejection\"] = \"TO_REJECT\";\n    JustificationRequirement[\"RequiredForApprovalOrRejection\"] = \"TO_APPROVE_OR_REJECT\";\n    JustificationRequirement[\"NotRequired\"] = \"NO\";\n})(JustificationRequirement || (JustificationRequirement = {}));\n\nclass RxMetadataService {\n    setMetadataLastUpdateTime(metadataLastUpdateTime) {\n        this.metadataLastUpdateTime = new Date(metadataLastUpdateTime);\n    }\n    getMetadataLastUpdateTime() {\n        return this.metadataLastUpdateTime;\n    }\n    isLocalizedStringsRequest(request) {\n        return request.method === 'GET' && /\\/api\\/rx\\/application\\/localizedstrings/.test(request.url);\n    }\n    isMetadataDataPageQueryRequest(request) {\n        return request.method === 'GET' &&\n            /\\/api\\/rx\\/application\\/datapage/.test(request.url) &&\n            (endsWith(request.params.get('dataPageType'), 'DefinitionDataPageQuery') ||\n                endsWith(request.params.get('dataPageType'), 'LocalizedStringsDataPageQuery'));\n    }\n    isMetadataRequest(request) {\n        return request.method === 'GET' &&\n            (this.isMetadataDataPageQueryRequest(request) || /\\/api\\/rx\\/application\\/[a-zA-Z]+\\/[a-zA-Z]+definition/.test(request.url));\n    }\n}\nRxMetadataService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxMetadataService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxMetadataService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxMetadataService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxMetadataService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RxDesignerCacheService {\n    getActionTypeByNameSync(actionTypeName) {\n        return find(this.actionTypes, { actionTypeName });\n    }\n    getFunctionDescriptorsSync() {\n        return this.functionDescriptors;\n    }\n    setActionTypes(actionTypes) {\n        this.actionTypes = actionTypes;\n    }\n    setFunctionDescriptors(functionDescriptors) {\n        this.functionDescriptors = functionDescriptors;\n    }\n}\nRxDesignerCacheService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDesignerCacheService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxDesignerCacheService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDesignerCacheService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDesignerCacheService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RxMetadataLastUpdateTimeInterceptor {\n    constructor(rxMetadataService) {\n        this.rxMetadataService = rxMetadataService;\n    }\n    intercept(request, next) {\n        return next.handle(request).pipe(tap((event) => {\n            if (event instanceof HttpResponse) {\n                const metadataLastUpdateTime = event.headers.get('metadata-last-update-time');\n                if (metadataLastUpdateTime) {\n                    this.rxMetadataService.setMetadataLastUpdateTime(metadataLastUpdateTime);\n                }\n            }\n        }));\n    }\n}\nRxMetadataLastUpdateTimeInterceptor.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxMetadataLastUpdateTimeInterceptor, deps: [{ token: RxMetadataService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxMetadataLastUpdateTimeInterceptor.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxMetadataLastUpdateTimeInterceptor });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxMetadataLastUpdateTimeInterceptor, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: RxMetadataService }]; } });\n\nclass RxMetadataRequestInterceptor {\n    constructor(bundleCacheService, rxMetadataService, rxCurrentUserService, rxLocalizationService) {\n        this.bundleCacheService = bundleCacheService;\n        this.rxMetadataService = rxMetadataService;\n        this.rxCurrentUserService = rxCurrentUserService;\n        this.rxLocalizationService = rxLocalizationService;\n    }\n    intercept(request, next) {\n        const isLocalizedStringsRequest = this.rxMetadataService.isLocalizedStringsRequest(request);\n        const isMetadataDataPageQueryRequest = this.rxMetadataService.isMetadataDataPageQueryRequest(request);\n        const isMetadataRequest = this.rxMetadataService.isMetadataRequest(request);\n        if (isMetadataRequest || isLocalizedStringsRequest) {\n            const user = this.rxCurrentUserService.get();\n            const metaDataLastUpdateTime = this.rxMetadataService.getMetadataLastUpdateTime();\n            let params;\n            // duplicate the 'default-bundle-scope' request header as a request parameter\n            // in order to have a separate cache for requests with different bundle scope\n            const bundleId = isMetadataDataPageQueryRequest\n                ? request.headers.get('default-bundle-scope')\n                : this.bundleCacheService.bundleId;\n            if (isMetadataDataPageQueryRequest && bundleId) {\n                request = request.clone({\n                    params: request.params.set('bundleId', bundleId)\n                });\n            }\n            if (metaDataLastUpdateTime) {\n                const cacheKey = [\n                    user.userId,\n                    user.modifiedDate.getTime(),\n                    metaDataLastUpdateTime.getTime(),\n                    this.rxLocalizationService.currentLocale\n                ].join('');\n                params = request.params.append('_v', cacheKey);\n                request = request.clone({\n                    headers: request.headers.delete('Cache-Control').delete('Pragma').delete('If-Modified-Since'),\n                    params: params\n                });\n            }\n        }\n        return next.handle(request);\n    }\n}\nRxMetadataRequestInterceptor.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxMetadataRequestInterceptor, deps: [{ token: RxBundleCacheService }, { token: RxMetadataService }, { token: RxCurrentUserService }, { token: RxLocalizationService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxMetadataRequestInterceptor.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxMetadataRequestInterceptor });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxMetadataRequestInterceptor, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: RxBundleCacheService }, { type: RxMetadataService }, { type: RxCurrentUserService }, { type: RxLocalizationService }]; } });\n\nclass RxRequestInterceptor {\n    constructor(rxBundleCacheService, rxGlobalCacheService) {\n        this.rxBundleCacheService = rxBundleCacheService;\n        this.rxGlobalCacheService = rxGlobalCacheService;\n    }\n    intercept(request, next) {\n        const bundleId = this.rxBundleCacheService.bundleId;\n        const applicationId = this.rxGlobalCacheService.applicationId;\n        // LMA:: Check if those headers are still necessary. Test with IE11.\n        request = request.clone({\n            headers: request.headers\n                .set('X-Requested-By', 'XMLHttpRequest')\n                .set('If-Modified-Since', 'Mon, 26 Jul 1997 05:00:00 GMT')\n                .set('Cache-Control', 'no-cache')\n                .set('Pragma', 'no-cache')\n        });\n        if (bundleId && !request.headers.has('default-bundle-scope')) {\n            request = request.clone({\n                headers: request.headers.set('default-bundle-scope', bundleId)\n            });\n        }\n        if (applicationId === RX_APPLICATION.innovationStudioBundleId) {\n            request = request.clone({\n                headers: request.headers.set('Design-Time', 'true')\n            });\n        }\n        return next.handle(request);\n    }\n}\nRxRequestInterceptor.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRequestInterceptor, deps: [{ token: RxBundleCacheService }, { token: RxGlobalCacheService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRequestInterceptor.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRequestInterceptor, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRequestInterceptor, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxBundleCacheService }, { type: RxGlobalCacheService }]; } });\n\nclass RxUpgradeTrackerInterceptor {\n    constructor(rxMetadataService, rxUpgradeTrackerService) {\n        this.rxMetadataService = rxMetadataService;\n        this.rxUpgradeTrackerService = rxUpgradeTrackerService;\n    }\n    intercept(request, next) {\n        return next.handle(request).pipe(tap((httpEvent) => {\n            const isCachedRequest = this.rxMetadataService.isMetadataRequest(request) || this.rxMetadataService.isLocalizedStringsRequest(request);\n            // Exclude resource calls since they never have the upgrade-mode header in the response.\n            // Exclude API calls that may be cached by browser with an outdated value of the header.\n            if (!isCachedRequest && httpEvent instanceof HttpResponse && /\\/api\\/rx/.test(request.url)) {\n                this.rxUpgradeTrackerService.isUpgradeInProgress = httpEvent.headers.has('upgrade-mode');\n            }\n        }));\n    }\n}\nRxUpgradeTrackerInterceptor.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUpgradeTrackerInterceptor, deps: [{ token: RxMetadataService }, { token: RxUpgradeTrackerService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxUpgradeTrackerInterceptor.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUpgradeTrackerInterceptor });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUpgradeTrackerInterceptor, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: RxMetadataService }, { type: RxUpgradeTrackerService }]; } });\n\nclass RxCachingModule {\n    static forRoot() {\n        return {\n            ngModule: RxCachingModule,\n            providers: [\n                {\n                    provide: HTTP_INTERCEPTORS,\n                    useClass: RxRequestInterceptor,\n                    multi: true\n                },\n                {\n                    provide: HTTP_INTERCEPTORS,\n                    useClass: RxMetadataRequestInterceptor,\n                    multi: true\n                },\n                {\n                    provide: HTTP_INTERCEPTORS,\n                    useClass: RxMetadataLastUpdateTimeInterceptor,\n                    multi: true\n                },\n                {\n                    provide: HTTP_INTERCEPTORS,\n                    useClass: RxUpgradeTrackerInterceptor,\n                    multi: true\n                }\n            ]\n        };\n    }\n}\nRxCachingModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCachingModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxCachingModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCachingModule, imports: [CommonModule] });\nRxCachingModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCachingModule, imports: [[CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCachingModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule]\n                }]\n        }] });\n\nconst RX_CHATBOT = {\n    defaultChatbotId: 'AGGADGG8ECDC0AP0PA6EPJSIGS75QX',\n    chatbotLocales: {\n        recordDefinitionName: 'Chatbot Locale',\n        fieldIds: {\n            providerPassword: 123,\n            chatbotName: 1772,\n            locale: 1775,\n            botConfigurationId: 536870913\n        }\n    }\n};\n\nconst botDefinitionDataPageQuery = 'com.bmc.arsys.rx.application.chat.datapage.ChatbotConfigurationDataPageQuery';\nclass RxChatbotDefinitionDataPageService extends DataPage {\n    constructor(injector) {\n        super(injector, botDefinitionDataPageQuery);\n        this.injector = injector;\n    }\n    get(dataPageRequestConfiguration = {}) {\n        return super.get(dataPageRequestConfiguration).pipe(tap((result) => {\n            forEach(result.data, (entity) => {\n                entity.name = entity.chatbotName;\n                entity.lastUpdateTime = entity.modifiedDate;\n                entity.lastChangedBy = entity.modifiedBy;\n            });\n        }));\n    }\n}\nRxChatbotDefinitionDataPageService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxChatbotDefinitionDataPageService, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\nRxChatbotDefinitionDataPageService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxChatbotDefinitionDataPageService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxChatbotDefinitionDataPageService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nclass RxLiveAgentSettingsService {\n    constructor(httpClient) {\n        this.httpClient = httpClient;\n        this.chatbotConfigurationUrl = '/api/rx/application/chat/chatbotconfiguration';\n    }\n    getAvailableTopics() {\n        return this.httpClient.get(`${this.chatbotConfigurationUrl}/virtualchattopics`);\n    }\n}\nRxLiveAgentSettingsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLiveAgentSettingsService, deps: [{ token: i1.HttpClient }], target: i0.ɵɵFactoryTarget.Injectable });\nRxLiveAgentSettingsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLiveAgentSettingsService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLiveAgentSettingsService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }]; } });\n\nvar MachineLearningProviderNames;\n(function (MachineLearningProviderNames) {\n    MachineLearningProviderNames[\"Helix\"] = \"HELIX\";\n    MachineLearningProviderNames[\"Native\"] = \"NATIVE\";\n    MachineLearningProviderNames[\"Watson\"] = \"WATSON\";\n})(MachineLearningProviderNames || (MachineLearningProviderNames = {}));\n\nconst RX_DESIGNER = {\n    messageTypes: {\n        closeDesigner: 'closeDesigner',\n        afterSave: 'afterSave',\n        designerLoaded: 'designerLoaded',\n        designerLoadFailed: 'designerLoadFailed',\n        waitingForDesignerOptions: 'waitingForDesignerOptions',\n        definitionStatusChanged: 'definitionStatusChanged'\n    },\n    paletteIconPosition: {\n        top: 'top',\n        bottom: 'bottom'\n    },\n    paletteItemBorder: {\n        solid: 'solid',\n        bold: 'bold',\n        dashed: 'dashed',\n        double: 'double'\n    },\n    paletteItemLabel: {\n        inner: 'inner',\n        outer: 'outer',\n        none: 'none'\n    },\n    paletteItemShape: {\n        rectangle: 'rectangle',\n        circle: 'circle',\n        square: 'square',\n        annotation: 'annotation'\n    }\n};\n\nconst RX_DEFINITION = {\n    scopes: {\n        bundle: 'BUNDLE',\n        public: 'PUBLIC'\n    }\n};\n\nclass RxDefinitionAdapterRegistryService {\n    constructor() {\n        this.runtimeAdapters = new Map();\n        this.designAdapters = new Map();\n    }\n    registerRuntimeAdapter(type, adapter) {\n        this.runtimeAdapters.set(type, adapter);\n    }\n    registerDesignAdapter(type, adapter) {\n        this.designAdapters.set(type, adapter);\n    }\n    getRuntimeAdapter(type) {\n        return this.runtimeAdapters.get(type);\n    }\n    getDesignAdapter(type) {\n        return this.designAdapters.get(type);\n    }\n}\nRxDefinitionAdapterRegistryService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionAdapterRegistryService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxDefinitionAdapterRegistryService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionAdapterRegistryService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionAdapterRegistryService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RxDefinitionScopePipe {\n    constructor(rxDefinitionService) {\n        this.rxDefinitionService = rxDefinitionService;\n    }\n    transform(value, bundleDescriptor) {\n        return this.rxDefinitionService.getScopeName(value, bundleDescriptor);\n    }\n}\nRxDefinitionScopePipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionScopePipe, deps: [{ token: RxDefinitionService }], target: i0.ɵɵFactoryTarget.Pipe });\nRxDefinitionScopePipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionScopePipe, name: \"rxDefinitionScopePipe\" });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionScopePipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: 'rxDefinitionScopePipe'\n                }]\n        }], ctorParameters: function () { return [{ type: RxDefinitionService }]; } });\n\nclass RxDefinitionNamePipe {\n    constructor(rxDefinitionNameService) {\n        this.rxDefinitionNameService = rxDefinitionNameService;\n    }\n    transform(value) {\n        return this.rxDefinitionNameService.getDisplayName(value);\n    }\n}\nRxDefinitionNamePipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionNamePipe, deps: [{ token: RxDefinitionNameService }], target: i0.ɵɵFactoryTarget.Pipe });\nRxDefinitionNamePipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionNamePipe, name: \"rxDefinitionNamePipe\" });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionNamePipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: 'rxDefinitionNamePipe'\n                }]\n        }], ctorParameters: function () { return [{ type: RxDefinitionNameService }]; } });\n\nclass RxDefinitionModule {\n}\nRxDefinitionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxDefinitionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionModule, declarations: [RxDefinitionNamePipe, RxDefinitionScopePipe], imports: [CommonModule], exports: [RxDefinitionNamePipe, RxDefinitionScopePipe] });\nRxDefinitionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionModule, imports: [[CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RxDefinitionNamePipe, RxDefinitionScopePipe],\n                    exports: [RxDefinitionNamePipe, RxDefinitionScopePipe],\n                    imports: [CommonModule]\n                }]\n        }] });\n\nconst RX_ERROR_HANDLING = {\n    optimisticLockErrorHttpStatus: 412,\n    ignoredErrors: [\n        { status: 404, contains: '/resources/i18n/locale' },\n        { status: 404, contains: RX_APPLICATION.shellDefinitionName },\n        { status: 412, contains: '\"messageNumber\":309' },\n        { status: 412, contains: '\"messageNumber\":9965' }\n    ],\n    maxErrorMessageLength: 500,\n    maxArMessageLength: 500,\n    arMessagesHeader: 'x-ar-messages',\n    arNoteLogInfo: 8914,\n    arGuestUserMessageNo: 59,\n    messageTypes: {\n        warning: 'WARNING',\n        success: 'SUCCESS',\n        info: 'INFO',\n        error: 'ERROR'\n    }\n};\n\nclass RxDefinitionUpdateService {\n    constructor(rxUtilityModalsService) {\n        this.rxUtilityModalsService = rxUtilityModalsService;\n    }\n    execute(updateFn) {\n        return updateFn().pipe(catchError((error) => {\n            if (error.status === RX_ERROR_HANDLING.optimisticLockErrorHttpStatus) {\n                return from(this.rxUtilityModalsService.confirmExternalChange(error.error[0].messageText)).pipe(switchMap((isConfirmed) => {\n                    if (isConfirmed) {\n                        return updateFn({\n                            headers: {\n                                'Override-Optimistic-Lock': 'true'\n                            }\n                        });\n                    }\n                    else {\n                        return throwError(error);\n                    }\n                }));\n            }\n            else {\n                return throwError(error);\n            }\n        }));\n    }\n}\nRxDefinitionUpdateService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionUpdateService, deps: [{ token: i2$1.RxUtilityModalsService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxDefinitionUpdateService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionUpdateService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefinitionUpdateService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i2$1.RxUtilityModalsService }]; } });\n\n// TODO-VS: do not provide in root\nclass RxCommandManagerService {\n    // TODO-VS: update types\n    get() {\n        return this.commandManager;\n    }\n    // TODO-VS: update types\n    set(commandManager) {\n        this.commandManager = commandManager;\n    }\n}\nRxCommandManagerService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCommandManagerService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxCommandManagerService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCommandManagerService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCommandManagerService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nconst RX_DESIGNER_ELEMENT_SHAPE = {\n    bpmnIcons: {\n        gear: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsSAAALEgHS3X78AAAAw0lEQVQoz22SwRGCQAxF3zIUQAnSAXSAHUgHcslZK3CswPu/YAeUQAlQgp3oJThhNTM7s8lPfv783UQWZtYAC4CklOMpNE3AAHTAzfErsAIj0EtaSwcm4ADMGeEj3CegLjwZssaXnxgDwDbQREBSLanOiBqAZGbvUFwltZkJSyQssrUrv7GTVrh1V89P7li0uNsck5TKjLkCZjN7en722rdnGxjD1gq4/JE2Rlt719oGeQB34OhY/33pP99jc66VtDPiA3vHNpWAb5BUAAAAAElFTkSuQmCC',\n        user: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsSAAALEgHS3X78AAAAgUlEQVQoz5WQwRFAMBBFn4wClKAEOlCCDtz2qhbXvdCBlKAEHVCKS8ywMsi7bfa/7CYZBhFpgT6Ug6r6az8z4RLYzB21qq5n4Uyz5cntzAoFH1hhTxV8JDO9CVVkSnn7JREpwsP6IMRYgQHwOTADzcfqFTACnfsRvtI4EsmBJUU4ANvZFcko+HmJAAAAAElFTkSuQmCC',\n        message: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAYAAACALL/6AAAACXBIWXMAAAsSAAALEgHS3X78AAAAnUlEQVQY042RwQ3CMBAEh8gF0Al0QEpIOuA+90XpADrgfZ+kA9xBWgidUAKfDTKCSL6XfZrdldc7d38Ae+rmlYBOlww8N8DDyiUtFqAFbhGxlKS7H4ELMAHnRntTwuzubQF3wAzkiLBPglzN3ZHIpBmBe0QMq0lTxsvFBI6AlfCPQKIJ6IFe569J/yqJiLzVa9LjrpX/QFI7p0o+vwFVmjBfid8AeAAAAABJRU5ErkJggg==',\n        plus: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAD1BMVEUAAABmZmZmZmZmZmb////rTs6DAAAAA3RSTlMAgMBakZ4lAAAAAWJLR0QEj2jZUQAAACZJREFUGNNjYMAAwob05TAKAoGyEYgUYGA2hgMDVA6KsgFxKDIAALWJCwe6ztRNAAAAAElFTkSuQmCC',\n        cross: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAVFBMVEUAAABmZmZVVVVgYGBxcXFnZ2dlZWVnZ2dlZWVlZWVnZ2dmZmZmZmZlZWVmZmZnZ2dmZmZnZ2dmZmZmZmZmZmZnZ2dmZmZlZWVmZmZmZmZmZmb///8fAoMMAAAAGnRSTlMABQYICUVHSElRUqOoq62ur7O0tre4ubr3+qfgKgYAAAABYktHRBsCYNSkAAAAnklEQVQoz51SyxKDIAwkgvahFkrVav7/QxuCg0nxJAdIdsmwu4MxV9a9B9lCf8vFc8OPPXA74fbgyiPiq8wAt0c57TN2psaDuDQz4xaBExOoXVyFF8Z96QhKIklBfEfapMAyU91PqwnnuIExEWNF8CNnTyQrMaoMhF+VgfIrMvjLoWTAuPQrGa/EsLwce7sqXzSztrnsBiWxGbpLP+QHwMkPHpwyEy0AAAAASUVORK5CYII=',\n        multiInstanceParallel: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACxJREFUeNpilJOT+c+AAIwPHz5mkJeXBbGJEmdioBCMGjBqwKgBg8UAgAADADERCXj6SL6VAAAAAElFTkSuQmCC',\n        multiInstanceSequential: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACtJREFUeNpilJOTYaAEsADxf0oMYGKgEFBsAMgLjEPfC6OxMBoLFBsAEGAAje8DgZ8/t18AAAAASUVORK5CYII=',\n        action: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAAnUlEQVQokY2OsQ3CQBAE596P6IKABsiIoQ1kRHZN0Ik/QbgRyAkJKQQhmSUysl7y25vtavb2zN2vwAGoKKszszYCNWATMEAl6RRmwr0sZMFH0q3UyAvPlNJe0g54TBbMTAAppXvTNFtJNfAuLfzl7hFYAt9hHodGUnD3haQjcDazdX4oZn4DvMxsNbacvxSAUbgHVAIyKQCX2bTU/gAVMS805tVavgAAAABJRU5ErkJggg==',\n        clock: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAA/1BMVEUAAAAAAABgYGBxcXFdXV1qampiYmJpaWlra2tmZmZoaGhqampmZmZkZGRqampoaGhpaWlmZmZjY2NnZ2dlZWVpaWlmZmZkZGRnZ2dnZ2dmZmZnZ2dlZWVnZ2dmZmZnZ2dmZmZmZmZmZmZlZWVmZmZlZWVmZmZnZ2dmZmZnZ2dlZWVmZmZnZ2dlZWVlZWVlZWVmZmZnZ2dmZmZnZ2dmZmZmZmZmZmZlZWVmZmZmZmZnZ2dmZmZlZWVnZ2dmZmZnZ2dmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmb///8tfJx5AAAAU3RSTlMAAQgJCwwNERMUFhgZHB0gIiMkJSYnKCkqTVBSU1daXl9kaWpsb3Bydnd5e3x+iI2bn6Okp6iqq6ytrq+ws7a4udbX2Nrb3evx8vP09/j5+vz9/rXGk28AAAABYktHRFTkA4ilAAABCElEQVQoz2WS11rCQBCFBxugKDE2ROxixBIbxi7EAlKC2Zz3fxe3JNkNOTeTzD/7ze6ZIVKqHHf9ft/vHC2RKdtjiMU8W+cbIwR3O1axaDXuJxjWk7wT4bGa/FjPYKfqs87CpoiHrZKqC9m2iMsDODLhY0tVnuG3wsMtXikLCu+4IaqyyeoUoLW/cIWaaNM0IA8n1MFuHuzhg35g58EGvmiI+TxYwIBGmEvBdYurFINvrKdAShzbxKfR3HGlFuPm+rqGxHX1A7XkA7klb4VsXlkiTLzIgitlIrc9OjfrLyNluxzUkx7USzooNdr2fm1mtnbwYI6WqOyOk2UYu+VMQ74+vSDo6fX5B1EWNtYbmlVlAAAAAElFTkSuQmCC',\n        qualification: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAOtSURBVFiFtZddaBxVGIafb2a6STfRKo1QxYhGqQWtRWxjjCD+YFHaKxHpTSSQ7MSdgHS9qlBipFjJVQohG+cwpMFIBaN31YuIRaoXLfFCgxcWsfYn8Zc0pSa7ITtnjhfNwsY07uy0eWHh/HznfV6WnbPfCDHV0dHRkE6n90dR9LSItAF3A1sBB7gKXBCR76MoOqW1/nx0dPSfOL5SrSCbzbZEUXTIGHMAuC1m3oIx5mPLsgZ83/85UYDOzs76VCr1DpAD6mKC/6sScGx5eblvbGxsKXYAz/OaS6XSpyLSmhC8GiJyxhjzilLq96oBMpnMIyLyNdB0K+AVmomiaF8QBNPrBujq6nrItu3TXP+BbYRmHMfZk8/n/ygvWOWB67qbbNs+sYFwgHu11idzudzmNQGMMUeAPRsIL3OeKBQKh1YFcF33PhE5GNPjb+CwZVk7gQallNi2/aCIvAlcjhniLc/ztsH1SwRjzNsiEudRuwI8o5T6qXJxZGTkPDDked7xMAw/A/ZW8WkMw7AP8CSXy21eXFz8C2iMEeANpZQP4LpukzHmNRHRwLhSqgDQ29u7tVQqnQdur+K16DjONmthYeGlmPBisVj8CKC/v98BvhGRYeAD4GS5aHh4eA44FcOvQWu9z6L611XWpfHx8UWA2dnZVmBHxd5zrutuqZgvxDE0xjzviMijMQM87LquWWfv4vz8fCX0sZieuyxge8zi9XQliqIDExMTGsB13SdrCPCAA6RvAv5LFEUvBkHw6wp8BzBRw/ktFrApIXwJ2F+Gd3d3twGngeYaPLQFzCUMcK58H2Qyme2WZX0J3FWjx5wFXEgY4GJ5ICKvEu9RXiURmXWMMdMi0p4gwE7XdT9ZGT+e4DzAWQuYTHjYEpEWEWkBGhJ6fGvV19d/RcyLo1IictT3/d2+7+8GVAL4VWPMF9bQ0NA1YCyBwU1JRE4opQrOyvwYkKGG5tMY05TNZlsAtNZ31sgvGmMGoKIl6+npedcY01ejUVK9p5Q6DBUdUSqVOgpMr3vk1mmqrq7uSHmyqin1PK85DMMzwD0bBP8TaFVKXSovWJW7+Xz+chRFLwO/bQB8Fni2Er4mAEAQBNOO47QBP9xC+He2ba9p5QDsG1VPTU1da29vP6611sBTrPSOCbQEDACv+75/w/+cWC+nYRgeFJFO4r+cLojIh1rr94MgmPm/wqoByvI8r1Fr/QKwN4qiXSJyP3AHsLzyOSciPwKT6XR6cnBwsBjH919eHFLEJsIcUwAAAABJRU5ErkJggg==',\n        connector: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAtklEQVQokYWRUQ2DQBBEHw0GsEAlYIFKoBJuJGChFgYJxQIWsICEVkL7AZce7ZFecj+bN5OZ3SKE8ACe/H81sJTA0/Y5R0jqNzB+yiM7SXegS0YD0J4O4AZov8YVQFZgewaufLqNwPQjkNRI6iW1tqdNNNq+RqZM4PsWYwRmScH2EJ13Akm3pGAH1LYvubgxUvVVrsqwO0G6kRHIugMUIYQX6zYG1uNMB2wNdCWwJNkBmiN3YHkDS8QzErkLgz8AAAAASUVORK5CYII=',\n        errorEnd: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAABzUlEQVRYhe2WzXHCMBCFv2RSgEsgHYQOSAXBFQCXPeMKUgKc9xJSAaQC6AA6wCW4hBwszyiyZEkZxsOBd/LPev3NeyvZ8NCd6mnsF4pIAVyBAnhV1RrgeWwQYG8g6g5idBAR2QAzc3qw740GIiJzYG1d+rbvJ8+IyXYJXFT1lAnxBhxpI8H0mNo1OY4sgQ1wNI1TIQrgy4IAx41ckIV1nAOzAdzag1uUBCIiE6dZkQIjImtaJ22d7NWSBeJpFoURkRmtG656seSALALXvTBmLvaBZ3qxJIGYl0wGSnww9gr5A6Gqja/JSwyEsBsuzF5EpsAn/eHs9BNqkAKyTKiB1rUzYfcaVd2FHh6MxuyGPouHYELyzkYSCPCRARFTMJYUkPnAvToDolHV/zkiIkvCsWyBaQbMLlYw5EgolouqVmYZloB3OTrybmJRELMh+WJpgPfuRFUv5nwIpjZ1+SABCIDS3ZASYKJuDIH4NrEq9B8SgdmlgPR+jMyX9uo2U9VVrFnKD1BIPkfcWC5AldLMcqZTUiwhEDuWBliFPlQRmIrEWMCJxlh7ti6VsY3oVnIdsd3YjgXhA+nm46SqSXNxcxCzWia0c1GOCfHQXesXYhiZ69pK0h4AAAAASUVORK5CYII=',\n        errorBoundary: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAACR0lEQVRYhe2Wz3XiQAyHv90KTAcuATpIKlioYMlF14VKIFddMBXAVhA6gA7iDkIJexhNUAaP/+Tt88shusDYsvz5p5E08G1f1H6M/UIRKYBXoAAmqnoF+Dk2CHAwiDpCjA4iIhvgwZZHf280EBGZAyt3ae/v994jltslcFHV00CIKfBCSAkWY+Z9hiiyBDbAiwXuC1EAO4Oo7fI+9RsC8tv9HwKzAaaEPRE35zF16gUiIqUFuwBPhK/rhBGRFZZO4NlinFS1/hSIBQPYq2rVB0ZEHghqXM3/V4zR5N8XJKalAjCYdQ7G9sXBlmtVvQBzW9+lpReIvaQEjr4BqerWwJpgYoVsVbXKxRgEwk2Nv+kNVX1yMAcRKaxpTQklujbXP7kYQ0CW9tsoqYMpgTOhaV2BR+c2B66W0uEg1g0LoPKSikjpU5HAXIFF9HcxGj+kFwi3nf4uqVXDGTiLyC6BmQGzpPPexWiy1hYvIm/2komt/QivCQpUBtH0fAG8EdIyaXtXVhERWXIv6Xs1EL6+BpZemcRiyVZtEK0g3CR9NrAP1WB7YEHYEzmY1ibWCWKSzgmHl4upc1cN1qgeHcwqF+NTILguaNWxsfUibUgJzMagwY2FLog2EN/E4ghf584hCczOYD6MhS67qxqbtK+EiVkT1MlWRvJs5wEoZ02KxLTEHF8IA67TnDLReqUlBxIlLbERnhtUHTBreqYFktSYtGd3aaGqra35f1mqiD8ObseCaAKJ++PkRvi4INaASmx6jgnxbV/a/gFaCwT89kIjVgAAAABJRU5ErkJggg==',\n        webRequest: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAtklEQVQokYWRUQ2DQBBEHw0GsEAlYIFKoBJuJGChFgYJxQIWsICEVkL7AZce7ZFecj+bN5OZ3SKE8ACe/H81sJTA0/Y5R0jqNzB+yiM7SXegS0YD0J4O4AZov8YVQFZgewaufLqNwPQjkNRI6iW1tqdNNNq+RqZM4PsWYwRmScH2EJ13Akm3pGAH1LYvubgxUvVVrsqwO0G6kRHIugMUIYQX6zYG1uNMB2wNdCWwJNkBmiN3YHkDS8QzErkLgz8AAAAASUVORK5CYII=',\n        transparent: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=',\n        info: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAz0lEQVQokX2SsQ3CMBBFXzJBRsgIkWsX1G6ACYANwgTABBEbMAI0aQmS6wAbMAIjoB/ZUogMv7Clu/vf/+6cEWDbvgBqYA5UwBvogKN3pot1A8G2vQquQEEaJ+/MRpnctn2ZKD4E9Yi1bftmIABNQlnFr0mslhMRFpPECZgBZcLcKk8En96ZPXBL5KoUofnR+IAU4RFu9aDRfuVEGE9D2OrwzqiXSI64ZGEH9382As7emWXunZGKljJ9fgy5GBY3/hoa4y6MOe5FYvoasgfAB64INJdEFsdVAAAAAElFTkSuQmCC',\n        jitterbit: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAEwUlEQVR4nO3aeahVVRTH8U83LW00s0GigkpRK8yKCqKiwiyQaKASI5WMoKCBoLKkOQgaiKRSooiIShqsiMoKksrmlGYaoKKSZ5PaYKg59Mc6t3fve/fdd8/Z1/v643xh8/Sx92+tvc8+a629z6OkpKSkpKSkpKSkpIMciAswdKAdGSjOxyb8hH0G0pHKANk9Kvv5Cb4ZIB9aZofNoPcn/sEBbdZuO+PxPca1UfNqsf0faqPmZuNSbMQSDG6D3mj8LRbgyDbodYSZ2IB50mLGCHwlJr88UavjXC8cf1ixnTAaX2QamzA/0Z/hieNzU8Ei4fynOKHFcYNxkQh6m2ralYn+LMPdiRq5OVjEg+ok3hET2R+DavoNwgRcg2/VT7zapib68obYlR3nKY0ntA4r0IX1ffSpbZMT/XhBmxZgUP9d6ngQpzX4/WDsJCb/qtgdP2b/3xWH4PisD+kl8LYYlqhR2PAavZ/oWtyG3ZqMHYJzxcLMSPRjGRYmahTmXfWTX4ZDc4zfHmMT7I/L7P6JrRN0CvOi7sl/jT06bP/eGvtTOmwbPJEZXyMyQyc5QpwhqgvwsfZUqLl4PTN+c6LO+Jz9x4rXrWf8uSHRj9z8Ip5CytbfGavxgO7M0Iwz8ZvGKXUjpiX4kou9MqOLEnWO0V0k/YTZmXYt2+AUvJb1+0GcIK8T1eUtIhOsF2eV2dgi0a9+uSRzZm6b9A4Tk1qX6X6PD/C57nS7Gudhyz40RoozyiYs1lpcOk6Bcryi+0BzRd7B/bCXeB02qN/eP4tFaoWZukv113AZjsYocQc5GTeJW6iFuDCvk9NrHJuVd3A/VI/Gh+P9Gjt5S+YrNI4T1Vhxn4Kxaw/xNKpi9xQRacI8HJT9uyIuTe8soFMRB6Wek1+FE4s6twPe6yG4pKhYAwaJxf1dBL1UJqn39S+xswoxUu/St9pSytlazlC/TedixwS9ClbWaE4vKjJVHG/7eqeeTHCyynbiWryndhcuVvzUWI0ji/MOrOAkLG3gVKM2s6CDsBWe60d/Fe4XdUOeO8Sq//2+UtXC4WJRmk7KjL4hcvFKkaN3x96ZIwfXjFsvPnHdn8M54tV6BMfmGLNc1AhL8SZe7qNfNaYMFhXnulbEX8IckTP7Y3fcKIJW9Uk9jTEtjN1KLNiv2biPcCvOEgu7Z6a/j7g2Pwd3Zf1qd8YdTWxMzPq81YI//1GkhByOx2uc2igKkFni9meUmMwYkc/vFE9xrQh0eb8K7SfK3y7Nc/lj2hejWuIy9Zelzdrz0j+GNrvGq02BjybaycVVmk98jThHbM7DygT1WeuVzWirIQ/pe/ITC2ruIjJNs4Wr4Gz80cNuV0GbhRmm94XFeo1vkVtlp0znbZyq/iZ4b3HJ2jNA1rajdJjLezgwJ1FvqN4LukKk6tWi4FkggvFCfNej/9OJ9nMzQveRtktaSQv76v1UF+Nkcc3eiJHiVPidhFI4hc8yw7PboDVD98S/FOm1VYbidhEbOvoqPCMc3q8NWoszrWcV303TxCKkfo5rmfn4sA06p4vJz5OePqeIT/QdYZH0P3+piO+LC/R9F/i/ZTmuHWgnWqXdf6YyRHw4ebvNuiUlJSUlJSUlJSUl7eVfZ4yXeU+b+PAAAAAASUVORK5CYII=',\n        mulesoft: 'data:image/png;base64,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'\n    }\n};\n\nclass RxDesignerStencilBuilder {\n    buildElementsTree(elementsSources, elementGroups) {\n        return forkJoin(elementsSources).pipe(map((elements) => {\n            return flow(flatten, (chainElements) => map$1(chainElements, 'group'), uniq, compact, (groupNames) => sortBy(groupNames, (groupName) => groupName.toLowerCase()), (groupNames) => sortBy(groupNames, (groupName) => (find(elementGroups, { name: groupName }) || elementGroups.default).priority), (groupNames) => map$1(groupNames, (groupName) => {\n                return {\n                    label: groupName,\n                    children: flow(flatten, (chainElements) => filter$1(chainElements, { group: groupName }), (chainElements) => sortBy(chainElements, (element) => element.label.toLowerCase()))(elements)\n                };\n            }))(elements);\n        }));\n    }\n}\nRxDesignerStencilBuilder.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDesignerStencilBuilder, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxDesignerStencilBuilder.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDesignerStencilBuilder, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDesignerStencilBuilder, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nconst tenancyModes = {\n    shared: 0,\n    dedicated: 1,\n    unified: 2\n};\nconst RX_ENVIRONMENT = {\n    tenancyModes,\n    tenancyModeNames: {\n        [tenancyModes.shared]: 'Shared',\n        [tenancyModes.dedicated]: 'Dedicated',\n        [tenancyModes.unified]: 'Unified'\n    }\n};\n\nclass RxServerErrorHandlerService {\n    constructor(translateService, rxNotificationService) {\n        this.translateService = translateService;\n        this.rxNotificationService = rxNotificationService;\n    }\n    getServerResponseErrorDetails(responseData) {\n        let messages;\n        try {\n            messages = JSON.parse(responseData);\n        }\n        catch (ignored) {\n            messages = [...responseData];\n        }\n        if (Array.isArray(messages)) {\n            return messages.filter((message) => message.messageType !== RX_ERROR_HANDLING.messageTypes.success &&\n                (message.messageText || message.appendedText));\n        }\n        else {\n            return null;\n        }\n    }\n    buildMessageFromRawResponse(response) {\n        const errorMessage = {\n            title: '',\n            message: ''\n        };\n        if (response.status === 0) {\n            errorMessage.title = this.translateService.instant('com.bmc.arsys.rx.client.error-handling.network-error.title');\n            errorMessage.message = this.translateService.instant('com.bmc.arsys.rx.client.error-handling.network-error.message');\n        }\n        else {\n            errorMessage.title = this.translateService.instant('com.bmc.arsys.rx.client.error-handling.server-communication-error.title');\n            errorMessage.message = this.translateService.instant('com.bmc.arsys.rx.client.error-handling.server-communication-error.message', {\n                status: compact([response.status, response.statusText]).join(' ')\n            });\n        }\n        return errorMessage;\n    }\n    buildMessageFromErrorDetails(error) {\n        return {\n            title: `${error.messageType} (${error.messageNumber})`,\n            message: truncate([error.messageText, error.appendedText].filter(Boolean).join(' '), {\n                length: RX_ERROR_HANDLING.maxErrorMessageLength\n            })\n        };\n    }\n    handle(error) {\n        if (!this.canIgnore(error)) {\n            const operationId = error.headers.get('operation-id');\n            if (Array.isArray(error.error) || isString(error.error)) {\n                const messages = this.getServerResponseErrorDetails(error.error);\n                messages.forEach((message) => {\n                    const messageDetails = this.buildMessageFromErrorDetails(message);\n                    switch (message.messageType) {\n                        case RX_ERROR_HANDLING.messageTypes.error:\n                            this.rxNotificationService.addErrorMessage(messageDetails.message, messageDetails.title, {\n                                issue: Object.assign(Object.assign({}, message), { operationId, enableIssueReporting: true })\n                            });\n                            break;\n                        case RX_ERROR_HANDLING.messageTypes.warning:\n                            this.rxNotificationService.addWarningMessage(messageDetails.message, messageDetails.title, {\n                                issue: Object.assign(Object.assign({}, message), { operationId, enableIssueReporting: true })\n                            });\n                            break;\n                        case RX_ERROR_HANDLING.messageTypes.info:\n                            this.rxNotificationService.addInfoMessage(messageDetails.message, messageDetails.title);\n                            break;\n                    }\n                });\n            }\n            else {\n                const errorMessage = this.buildMessageFromRawResponse(error);\n                this.rxNotificationService.addErrorMessage(errorMessage.message, errorMessage.title);\n            }\n        }\n    }\n    canIgnore(err) {\n        return some(RX_ERROR_HANDLING.ignoredErrors, (ignoredError) => ignoredError.status === err.status && includes(JSON.stringify(err.error), ignoredError.contains));\n    }\n}\nRxServerErrorHandlerService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxServerErrorHandlerService, deps: [{ token: i2.TranslateService }, { token: RxNotificationService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxServerErrorHandlerService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxServerErrorHandlerService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxServerErrorHandlerService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i2.TranslateService }, { type: RxNotificationService }]; } });\n\nclass RxScriptErrorHandler {\n    constructor(rxNotificationService, rxLogService, translateService) {\n        this.rxNotificationService = rxNotificationService;\n        this.rxLogService = rxLogService;\n        this.translateService = translateService;\n    }\n    handle(error) {\n        const rxErrorMessage = truncate(`${this.translateService.instant('com.bmc.arsys.rx.client.error-handling.script-error.message')} ${error.message}`, {\n            length: RX_ERROR_HANDLING.maxErrorMessageLength\n        });\n        this.rxNotificationService.addErrorMessage(rxErrorMessage, this.translateService.instant('com.bmc.arsys.rx.client.error-handling.script-error.title'), {\n            suppressLog: true\n        });\n        this.rxLogService.error(error.stack);\n    }\n}\nRxScriptErrorHandler.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxScriptErrorHandler, deps: [{ token: RxNotificationService }, { token: RxLogService }, { token: i2.TranslateService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxScriptErrorHandler.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxScriptErrorHandler, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxScriptErrorHandler, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxNotificationService }, { type: RxLogService }, { type: i2.TranslateService }]; } });\n\nclass RxErrorHandlerService extends ErrorHandler {\n    constructor(rxServerErrorHandler, rxScriptErrorHandler, rxLogService) {\n        super();\n        this.rxServerErrorHandler = rxServerErrorHandler;\n        this.rxScriptErrorHandler = rxScriptErrorHandler;\n        this.rxLogService = rxLogService;\n    }\n    handleError(error) {\n        if (error instanceof HttpErrorResponse) {\n            this.rxServerErrorHandler.handle(error);\n            super.handleError(error);\n        }\n        else if (error instanceof Error && !(error instanceof RxError)) {\n            // Script error is considered when \"error\" is\n            // an instance of Error but not an instance of RxError\n            // (RxError's must only be logged in the debug mode).\n            this.rxScriptErrorHandler.handle(error);\n            super.handleError(error);\n        }\n        else {\n            this.rxLogService.debug(error.message);\n        }\n    }\n}\nRxErrorHandlerService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxErrorHandlerService, deps: [{ token: RxServerErrorHandlerService }, { token: RxScriptErrorHandler }, { token: RxLogService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxErrorHandlerService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxErrorHandlerService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxErrorHandlerService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: RxServerErrorHandlerService }, { type: RxScriptErrorHandler }, { type: RxLogService }]; } });\n\nclass RxServerMessageHandlerService {\n    constructor(rxNotificationService, rxJsonParserService, rxStringService) {\n        this.rxNotificationService = rxNotificationService;\n        this.rxJsonParserService = rxJsonParserService;\n        this.rxStringService = rxStringService;\n    }\n    handleServerResponseMessage(serverMessage) {\n        const decodedMessage = this.rxStringService.decodeQ(serverMessage);\n        const messages = reject(this.rxJsonParserService.tryParseJson(decodedMessage, []), (message) => message.messageNumber === RX_ERROR_HANDLING.arNoteLogInfo);\n        messages.forEach(this.addMessage.bind(this));\n    }\n    addMessage(message) {\n        let messageTitle = `${message.messageType}`;\n        if (message.messageType !== RX_ERROR_HANDLING.messageTypes.success) {\n            messageTitle += ` (${message.messageNumber})`;\n        }\n        const messageString = truncate(`${[message.appendedText, message.messageText].filter(Boolean).join(' ')}`, {\n            length: RX_ERROR_HANDLING.maxArMessageLength\n        });\n        switch (message.messageType) {\n            case RX_ERROR_HANDLING.messageTypes.warning: {\n                this.rxNotificationService.addWarningMessage(messageString, messageTitle);\n                break;\n            }\n            case RX_ERROR_HANDLING.messageTypes.success: {\n                this.rxNotificationService.addSuccessMessage(messageString, messageTitle);\n                break;\n            }\n            default: {\n                this.rxNotificationService.addInfoMessage(messageString, messageTitle);\n                break;\n            }\n        }\n    }\n}\nRxServerMessageHandlerService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxServerMessageHandlerService, deps: [{ token: RxNotificationService }, { token: i2$2.RxJsonParserService }, { token: i2$2.RxStringService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxServerMessageHandlerService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxServerMessageHandlerService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxServerMessageHandlerService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxNotificationService }, { type: i2$2.RxJsonParserService }, { type: i2$2.RxStringService }]; } });\n\nclass RxHttpResponseMessageInterceptor {\n    constructor(rxServerMessageHandler) {\n        this.rxServerMessageHandler = rxServerMessageHandler;\n    }\n    intercept(request, next) {\n        return next.handle(request).pipe(tap((httpEvent) => {\n            if (httpEvent instanceof HttpResponse) {\n                const message = httpEvent.headers.get(RX_ERROR_HANDLING.arMessagesHeader);\n                if (message) {\n                    this.rxServerMessageHandler.handleServerResponseMessage(message);\n                }\n            }\n        }));\n    }\n}\nRxHttpResponseMessageInterceptor.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxHttpResponseMessageInterceptor, deps: [{ token: RxServerMessageHandlerService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxHttpResponseMessageInterceptor.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxHttpResponseMessageInterceptor });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxHttpResponseMessageInterceptor, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: RxServerMessageHandlerService }]; } });\n\nclass RxErrorHandlingModule {\n    static forRoot() {\n        return {\n            ngModule: RxErrorHandlingModule,\n            providers: [\n                {\n                    provide: HTTP_INTERCEPTORS,\n                    useClass: RxHttpResponseMessageInterceptor,\n                    multi: true\n                },\n                {\n                    provide: ErrorHandler,\n                    useClass: RxErrorHandlerService\n                }\n            ]\n        };\n    }\n}\nRxErrorHandlingModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxErrorHandlingModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxErrorHandlingModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxErrorHandlingModule, imports: [CommonModule] });\nRxErrorHandlingModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxErrorHandlingModule, imports: [[CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxErrorHandlingModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule]\n                }]\n        }] });\n\nvar ExpressionOperator;\n(function (ExpressionOperator) {\n    ExpressionOperator[\"LeftGrouping\"] = \"(\";\n    ExpressionOperator[\"RightGrouping\"] = \")\";\n    ExpressionOperator[\"DoubleQuote\"] = \"\\\"\";\n    ExpressionOperator[\"Add\"] = \"+\";\n    ExpressionOperator[\"Subtract\"] = \"-\";\n    ExpressionOperator[\"Multiply\"] = \"*\";\n    ExpressionOperator[\"Divide\"] = \"/\";\n    ExpressionOperator[\"Remainder\"] = \"%\";\n    ExpressionOperator[\"GreaterThan\"] = \">\";\n    ExpressionOperator[\"LessThan\"] = \"<\";\n    ExpressionOperator[\"Equal\"] = \"=\";\n    ExpressionOperator[\"NotEqual\"] = \"!=\";\n    ExpressionOperator[\"GreaterThanOrEqual\"] = \">=\";\n    ExpressionOperator[\"LessThanOrEqual\"] = \"<=\";\n    ExpressionOperator[\"In\"] = \"IN\";\n    ExpressionOperator[\"Like\"] = \"LIKE\";\n    ExpressionOperator[\"Contains\"] = \"CONTAINS\";\n    ExpressionOperator[\"And\"] = \"AND\";\n    ExpressionOperator[\"Or\"] = \"OR\";\n    ExpressionOperator[\"Not\"] = \"NOT\";\n    ExpressionOperator[\"Null\"] = \"NULL\";\n    ExpressionOperator[\"NullExpression\"] = \"$NULL$\";\n})(ExpressionOperator || (ExpressionOperator = {}));\n\nvar ExpressionOperatorGroup;\n(function (ExpressionOperatorGroup) {\n    ExpressionOperatorGroup[\"All\"] = \"all\";\n    ExpressionOperatorGroup[\"AllServer\"] = \"allServer\";\n    ExpressionOperatorGroup[\"AllClient\"] = \"allClient\";\n    ExpressionOperatorGroup[\"Math\"] = \"math\";\n    ExpressionOperatorGroup[\"MathClient\"] = \"mathClient\";\n})(ExpressionOperatorGroup || (ExpressionOperatorGroup = {}));\nconst allOperatorsMap = new Map(Object.values(ExpressionOperator).map((value) => [\n    value,\n    {\n        displayValue: value === ExpressionOperator.NullExpression ? 'NULL' : value,\n        value\n    }\n]));\nconst allOperatorRows = [\n    [\n        allOperatorsMap.get(ExpressionOperator.LeftGrouping),\n        allOperatorsMap.get(ExpressionOperator.RightGrouping),\n        allOperatorsMap.get(ExpressionOperator.DoubleQuote),\n        allOperatorsMap.get(ExpressionOperator.Add),\n        allOperatorsMap.get(ExpressionOperator.Subtract),\n        allOperatorsMap.get(ExpressionOperator.Multiply),\n        allOperatorsMap.get(ExpressionOperator.Divide),\n        allOperatorsMap.get(ExpressionOperator.Remainder)\n    ],\n    [\n        allOperatorsMap.get(ExpressionOperator.GreaterThan),\n        allOperatorsMap.get(ExpressionOperator.LessThan),\n        allOperatorsMap.get(ExpressionOperator.Equal),\n        allOperatorsMap.get(ExpressionOperator.NotEqual),\n        allOperatorsMap.get(ExpressionOperator.GreaterThanOrEqual),\n        allOperatorsMap.get(ExpressionOperator.LessThanOrEqual),\n        allOperatorsMap.get(ExpressionOperator.Like)\n    ],\n    [\n        allOperatorsMap.get(ExpressionOperator.And),\n        allOperatorsMap.get(ExpressionOperator.Or),\n        allOperatorsMap.get(ExpressionOperator.Not),\n        allOperatorsMap.get(ExpressionOperator.NullExpression)\n    ]\n];\nconst allClientOperatorRows = [\n    [...allOperatorRows[0]],\n    [\n        allOperatorsMap.get(ExpressionOperator.GreaterThan),\n        allOperatorsMap.get(ExpressionOperator.LessThan),\n        allOperatorsMap.get(ExpressionOperator.Equal),\n        allOperatorsMap.get(ExpressionOperator.NotEqual),\n        allOperatorsMap.get(ExpressionOperator.GreaterThanOrEqual),\n        allOperatorsMap.get(ExpressionOperator.LessThanOrEqual),\n        allOperatorsMap.get(ExpressionOperator.Contains)\n    ],\n    [\n        allOperatorsMap.get(ExpressionOperator.And),\n        allOperatorsMap.get(ExpressionOperator.Or),\n        allOperatorsMap.get(ExpressionOperator.Not),\n        allOperatorsMap.get(ExpressionOperator.Null)\n    ]\n];\nconst mathOperatorRow = [\n    allOperatorsMap.get(ExpressionOperator.LeftGrouping),\n    allOperatorsMap.get(ExpressionOperator.RightGrouping),\n    allOperatorsMap.get(ExpressionOperator.DoubleQuote),\n    allOperatorsMap.get(ExpressionOperator.Add),\n    allOperatorsMap.get(ExpressionOperator.Subtract),\n    allOperatorsMap.get(ExpressionOperator.Multiply),\n    allOperatorsMap.get(ExpressionOperator.Divide),\n    allOperatorsMap.get(ExpressionOperator.Remainder)\n];\nconst ExpressionOperatorRowsByGroup = new Map([\n    [ExpressionOperatorGroup.All, allOperatorRows],\n    [ExpressionOperatorGroup.AllServer, allOperatorRows],\n    [ExpressionOperatorGroup.AllClient, allClientOperatorRows],\n    [ExpressionOperatorGroup.Math, [[...mathOperatorRow, allOperatorsMap.get(ExpressionOperator.NullExpression)]]],\n    [ExpressionOperatorGroup.MathClient, [[...mathOperatorRow, allOperatorsMap.get(ExpressionOperator.Null)]]]\n]);\n\nclass RxExpressionConfigurator {\n    constructor() {\n        this.expressionConfigs = [];\n    }\n    getDefaultConfig() {\n        return {\n            dataDictionary$: this.commonDataDictionary$,\n            operators: ExpressionOperatorRowsByGroup.get(ExpressionOperatorGroup.Math),\n            validateExpression: (propertyPath, expression) => of(true)\n        };\n    }\n    configureForProperty(config) {\n        this.expressionConfigs.push(Object.assign(Object.assign({}, this.getDefaultConfig()), config));\n    }\n    getDataDictionary(propertyPath) {\n        return this.getExpressionConfig(propertyPath).dataDictionary$.pipe(map((dataDictionary) => this.sortDataDictionary(dataDictionary)));\n    }\n    getOperators(propertyPath) {\n        return flatten(this.getOperatorRows(propertyPath));\n    }\n    getOperatorRows(propertyPath) {\n        return this.getExpressionConfig(propertyPath).operators;\n    }\n    getOperatorRowsByGroup(group) {\n        return cloneDeep(ExpressionOperatorRowsByGroup.get(group));\n    }\n    getExpressionConfig(propertyPath) {\n        return (this.expressionConfigs.find((config) => isRegExp(config.propertyPath) ? config.propertyPath.test(propertyPath) : config.propertyPath === propertyPath) || Object.assign({ propertyPath }, this.getDefaultConfig()));\n    }\n    validateProperty(propertyPath, propertyValue) {\n        return propertyValue\n            ? this.getExpressionConfig(propertyPath).validateExpression(propertyPath, propertyValue)\n            : of(true);\n    }\n    sortDataDictionary(dataDictionary) {\n        forEach(dataDictionary, (node) => {\n            if (node.children) {\n                node.children = this.sortDataDictionary(sortBy(node.children, [(child) => !isUndefined(child.expression), 'label']));\n            }\n        });\n        return dataDictionary;\n    }\n}\n\nvar ExpressionParserToken;\n(function (ExpressionParserToken) {\n    ExpressionParserToken[\"SingleQuoteRxExpression\"] = \"__SINGLE_QUOTE_RX_EXPRESSION__\";\n    ExpressionParserToken[\"SingleQuoteTextExpression\"] = \"__SINGLE_QUOTE_TEXT_EXPRESSION__\";\n    ExpressionParserToken[\"ArExpression\"] = \"__AR_EXPRESSION__\";\n    ExpressionParserToken[\"RxExpression\"] = \"__RX_EXPRESSION__\";\n    ExpressionParserToken[\"RxStringExpression\"] = \"__RX_STRING_EXPRESSION__\";\n    ExpressionParserToken[\"RxOperator\"] = \"__RX_OP__\";\n})(ExpressionParserToken || (ExpressionParserToken = {}));\n\nclass RxExpressionParserService {\n    constructor() {\n        this.tokenRegExpMap = new Map([\n            [ExpressionParserToken.SingleQuoteRxExpression, /('\\${[^{}$]+}')/g],\n            [ExpressionParserToken.SingleQuoteTextExpression, /('[^$']+')/g],\n            [ExpressionParserToken.ArExpression, /(\\$[A-Z]+\\$)|(\\$\\\\[A-Z]+\\$)/g],\n            [ExpressionParserToken.RxExpression, /(\\${[^{}$]+})/g],\n            [ExpressionParserToken.RxStringExpression, /(\"[^\"]+\")|('[^']+')/g]\n        ]);\n    }\n    parse(expression, replaceFunc, operators = []) {\n        if (operators.length) {\n            const pattern = operators\n                // Sort operators in descending order by length to find a compound operator in an expression.\n                // e.g. \"${foo} >= ${bar}\" has \">=\" operator instead of \">\" and \"=\" separately.\n                .sort((prevOperator, operator) => operator.value.length - prevOperator.value.length)\n                .map((operator) => `\\\\${operator.value.split('').join('\\\\')}`)\n                .join('|');\n            this.tokenRegExpMap.set(ExpressionParserToken.RxOperator, new RegExp(pattern, 'g'));\n        }\n        const expressionValuesMap = new Map();\n        for (const [token] of this.tokenRegExpMap) {\n            let expressionValues;\n            ({ expression, expressionValues } = this.extractExpressionValues(expression, token, this.tokenRegExpMap.get(token)));\n            if (expressionValues) {\n                expressionValuesMap.set(token, expressionValues);\n            }\n        }\n        return Array.from(expressionValuesMap.keys())\n            .reverse()\n            .reduce((result, token) => result.replace(new RegExp(token, 'g'), () => replaceFunc(token, expressionValuesMap.get(token).next().value)), expression);\n    }\n    // Replaces all spaces with a single space except user inputs\n    // ${view.foo} =   \"bar\" -> ${view.foo} = \"bar\"\n    // ${view.foo} =   \"    bar\" -> ${view.foo} = \"    bar\"\n    stripSpaces(expression) {\n        let result = expression;\n        if (!isNil(expression)) {\n            const token = ExpressionParserToken.RxStringExpression;\n            const extractExpressionsResult = this.extractExpressionValues(expression, token, this.tokenRegExpMap.get(token));\n            result = extractExpressionsResult.expression\n                .replace(/\\s+/g, ' ')\n                .replace(new RegExp(ExpressionParserToken.RxStringExpression, 'g'), () => extractExpressionsResult.expressionValues.next().value);\n        }\n        return result;\n    }\n    extractExpressionValues(expression, token, regExp) {\n        const expressionValues = expression.match(regExp);\n        forEach(expressionValues, (value) => (expression = expression.replace(value, token)));\n        return {\n            expression,\n            expressionValues: expressionValues && expressionValues.values()\n        };\n    }\n}\nRxExpressionParserService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExpressionParserService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxExpressionParserService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExpressionParserService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExpressionParserService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nvar FormBuilderEvent;\n(function (FormBuilderEvent) {\n    FormBuilderEvent[FormBuilderEvent[\"HideWidget\"] = 0] = \"HideWidget\";\n})(FormBuilderEvent || (FormBuilderEvent = {}));\n\nclass RxFunctionalRoleDataPageService extends DataPage {\n    constructor(injector) {\n        super(injector, 'com.bmc.arsys.rx.application.functionalrole.datapage.FunctionalRoleDataPageQuery');\n        this.injector = injector;\n    }\n}\nRxFunctionalRoleDataPageService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFunctionalRoleDataPageService, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\nRxFunctionalRoleDataPageService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFunctionalRoleDataPageService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFunctionalRoleDataPageService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nvar NodeInfoType;\n(function (NodeInfoType) {\n    NodeInfoType[\"function\"] = \"function\";\n})(NodeInfoType || (NodeInfoType = {}));\n\nclass RxDataDictionaryUtils {\n    addTooltips(dataDictionary, parentNodeLabel) {\n        return map$1(dataDictionary, (node) => {\n            const tooltip = parentNodeLabel ? `${parentNodeLabel} > ${node.label}` : node.label;\n            return Object.assign(Object.assign({}, node), { tooltip, children: node.children ? this.addTooltips(node.children, tooltip) : null });\n        });\n    }\n    // TODO-VS: refactor to use below method\n    getFunctionsDataDictionaryBranch(functionDescriptors) {\n        return chain(functionDescriptors)\n            .groupBy('category')\n            .map((functionDescriptors, category) => ({\n            label: category,\n            children: map$1(functionDescriptors, (functionDescriptor) => ({\n                label: functionDescriptor.name + '()',\n                icon: 'd-icon-mathematical_function',\n                expression: functionDescriptor.name + '()',\n                info: {\n                    type: NodeInfoType.function,\n                    data: functionDescriptor\n                }\n            }))\n        }))\n            .value();\n    }\n    getFunctionDataDictionaryBranch(functionDescriptors) {\n        return chain(functionDescriptors)\n            .groupBy('type')\n            .map((functionDescriptors, functionType) => ({\n            label: functionType,\n            children: map$1(functionDescriptors, (functionDescriptor) => ({\n                label: functionDescriptor.name + '()',\n                icon: 'd-icon-mathematical_function',\n                expression: functionDescriptor.name + '()',\n                info: {\n                    type: NodeInfoType.function,\n                    data: functionDescriptor\n                }\n            }))\n        }))\n            .value();\n    }\n}\nRxDataDictionaryUtils.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDataDictionaryUtils, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxDataDictionaryUtils.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDataDictionaryUtils, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDataDictionaryUtils, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RxGlobalEventsService {\n    constructor() {\n        this.viewActionsCompleted$ = new Subject();\n    }\n}\nRxGlobalEventsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxGlobalEventsService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxGlobalEventsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxGlobalEventsService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxGlobalEventsService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nconst groupDataPageQuery = 'com.bmc.arsys.rx.application.group.datapage.GroupDataPageQuery';\nclass RxGroupDataPageService extends DataPage {\n    constructor(injector) {\n        super(injector, groupDataPageQuery);\n        this.injector = injector;\n    }\n}\nRxGroupDataPageService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxGroupDataPageService, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\nRxGroupDataPageService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxGroupDataPageService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxGroupDataPageService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nclass RxHttpParameterCodec {\n    encodeKey(key) {\n        return encodeURIComponent(key);\n    }\n    encodeValue(value) {\n        return encodeURIComponent(value);\n    }\n    decodeKey(key) {\n        return decodeURIComponent(key);\n    }\n    decodeValue(value) {\n        return decodeURIComponent(value);\n    }\n}\n\nclass RxHttpParamsInterceptor {\n    intercept(request, next) {\n        const params = new HttpParams({\n            encoder: new RxHttpParameterCodec(),\n            fromString: request.params.toString()\n        });\n        return next.handle(request.clone({ params }));\n    }\n}\nRxHttpParamsInterceptor.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxHttpParamsInterceptor, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxHttpParamsInterceptor.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxHttpParamsInterceptor, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxHttpParamsInterceptor, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RxHttpModule {\n    static forRoot() {\n        return {\n            ngModule: RxHttpModule,\n            providers: [\n                {\n                    provide: HTTP_INTERCEPTORS,\n                    useClass: RxHttpParamsInterceptor,\n                    multi: true\n                }\n            ]\n        };\n    }\n}\nRxHttpModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxHttpModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxHttpModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxHttpModule });\nRxHttpModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxHttpModule });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxHttpModule, decorators: [{\n            type: NgModule\n        }] });\n\nclass RxLicenseDataPageService extends DataPage {\n    constructor(injector) {\n        super(injector, 'com.bmc.arsys.rx.application.license.datapage.LicenseDataPageQuery');\n        this.injector = injector;\n    }\n}\nRxLicenseDataPageService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLicenseDataPageService, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\nRxLicenseDataPageService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLicenseDataPageService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLicenseDataPageService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nclass RxHttpLogInterceptor {\n    constructor(rxLogService, rxJsonParserService) {\n        this.rxLogService = rxLogService;\n        this.rxJsonParserService = rxJsonParserService;\n    }\n    intercept(request, next) {\n        if (this.rxLogService.logCategories.length) {\n            const headers = request.headers.set('log-retrieval', this.rxLogService.serverLogCategories);\n            this.rxLogService.debug(`${request.method} ${this.getAbsoluteRequestUrl(request.urlWithParams)}`);\n            return next.handle(request.clone({ headers })).pipe(tap((httpEvent) => {\n                if (httpEvent instanceof HttpResponse) {\n                    const serverLog = httpEvent.headers.get(RX_ERROR_HANDLING.arMessagesHeader);\n                    if (serverLog) {\n                        let serverLogMessages = this.rxJsonParserService.tryParseJson(serverLog, []);\n                        serverLogMessages = filter$1(serverLogMessages, 'messageText');\n                        forEach(serverLogMessages, (logData) => this.rxLogService.log(logData.messageText));\n                    }\n                }\n            }), catchError((err) => {\n                this.rxLogService.warning(`${request.method} ${this.getAbsoluteRequestUrl(request.urlWithParams)} ${err.status} (${err.statusText})`);\n                return throwError(err);\n            }));\n        }\n        else {\n            return next.handle(request);\n        }\n    }\n    getAbsoluteRequestUrl(url) {\n        if (startsWith(url, '/')) {\n            return `${location.origin}${url}`;\n        }\n        else {\n            return url;\n        }\n    }\n}\nRxHttpLogInterceptor.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxHttpLogInterceptor, deps: [{ token: RxLogService }, { token: i2$2.RxJsonParserService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxHttpLogInterceptor.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxHttpLogInterceptor });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxHttpLogInterceptor, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: RxLogService }, { type: i2$2.RxJsonParserService }]; } });\n\nconst allowedCategories = Object.values(LogCategory);\nclass RxConsoleLogger {\n    constructor(rxLogService) {\n        this.rxLogService = rxLogService;\n    }\n    setCategories(categories) {\n        if (!isArray(categories) || !every(categories, (category) => allowedCategories.includes(category))) {\n            const validCategories = allowedCategories.map((category) => `'${category}'`).join(', ');\n            throw new Error(`Invalid category specified. Valid categories: [${validCategories}].`);\n        }\n        else {\n            this.rxLogService.configure(categories);\n        }\n    }\n    getCategories() {\n        return this.rxLogService.logCategories;\n    }\n    disable() {\n        this.rxLogService.configure([]);\n    }\n}\n\nclass RxLoggingModule {\n    constructor(rxLogService) {\n        defaults(window, { rx: {} });\n        window['rx'].logger = new RxConsoleLogger(rxLogService);\n    }\n    static forRoot() {\n        return {\n            ngModule: RxLoggingModule,\n            providers: [\n                {\n                    provide: HTTP_INTERCEPTORS,\n                    useClass: RxHttpLogInterceptor,\n                    multi: true\n                }\n            ]\n        };\n    }\n}\nRxLoggingModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLoggingModule, deps: [{ token: RxLogService }], target: i0.ɵɵFactoryTarget.NgModule });\nRxLoggingModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLoggingModule, imports: [CommonModule] });\nRxLoggingModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLoggingModule, imports: [[CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLoggingModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule]\n                }]\n        }], ctorParameters: function () { return [{ type: RxLogService }]; } });\n\nclass RxNotificationComponent {\n    constructor(rxNotificationService, rxSessionService, translateService, changeDetector, adaptMessageService) {\n        this.rxNotificationService = rxNotificationService;\n        this.rxSessionService = rxSessionService;\n        this.translateService = translateService;\n        this.changeDetector = changeDetector;\n        this.adaptMessageService = adaptMessageService;\n    }\n    ngOnInit() {\n        this.rxNotificationService.messages$.subscribe((notificationMessage) => {\n            const issueData = Object.assign(Object.assign({}, notificationMessage.data), { severity: notificationMessage.severity });\n            const link = issueData.enableIssueReporting && this.rxSessionService.isAlive()\n                ? this.translateService.instant('com.bmc.arsys.rx.client.issue-reporter.report-issue.label')\n                : null;\n            this.adaptMessageService.add(Object.assign(Object.assign({}, notificationMessage), { link, linkHandler: () => {\n                    this.rxNotificationService.reportIssue(issueData);\n                } }));\n            this.changeDetector.detectChanges();\n        });\n    }\n}\nRxNotificationComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNotificationComponent, deps: [{ token: RxNotificationService }, { token: RxSessionService }, { token: i2.TranslateService }, { token: i0.ChangeDetectorRef }, { token: i4.AdaptMessageService }], target: i0.ɵɵFactoryTarget.Component });\nRxNotificationComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxNotificationComponent, selector: \"rx-notification\", ngImport: i0, template: \"<adapt-toast placement=\\\"top-right\\\"></adapt-toast>\\n\", styles: [\"adapt-toast{word-break:break-word}:host::ng-deep .a-toast__detail{white-space:pre-wrap}\\n\"], components: [{ type: i4.AdaptToastComponent, selector: \"adapt-toast\", inputs: [\"link\", \"appendToBody\", \"aria-label\", \"aria-labelledby\", \"tabindex\", \"testID\", \"id\", \"placement\", \"adaptRadarDisableEventSending\"], outputs: [\"linkClick\", \"onAnimationEnd\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNotificationComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-notification',\n                    templateUrl: './notification.component.html',\n                    styleUrls: ['./notification.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: RxNotificationService }, { type: RxSessionService }, { type: i2.TranslateService }, { type: i0.ChangeDetectorRef }, { type: i4.AdaptMessageService }]; } });\n\nclass RxNotificationModule {\n    constructor(rxNotificationService) {\n        this.rxNotificationService = rxNotificationService;\n        this.rxNotificationService.initialize();\n    }\n}\nRxNotificationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNotificationModule, deps: [{ token: RxNotificationService }], target: i0.ɵɵFactoryTarget.NgModule });\nRxNotificationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNotificationModule, declarations: [RxNotificationComponent], imports: [AdaptToastModule, CommonModule, TranslateModule], exports: [RxNotificationComponent] });\nRxNotificationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNotificationModule, imports: [[AdaptToastModule, CommonModule, TranslateModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNotificationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [AdaptToastModule, CommonModule, TranslateModule],\n                    declarations: [RxNotificationComponent],\n                    exports: [RxNotificationComponent]\n                }]\n        }], ctorParameters: function () { return [{ type: RxNotificationService }]; } });\n\nclass RxCustomizationStatusPipe {\n    constructor(translateService) {\n        this.translateService = translateService;\n    }\n    transform(value) {\n        switch (value) {\n            case RX_OVERLAY.customizationPerspective.createdInThisOverlayGroup:\n                return this.translateService.instant('com.bmc.arsys.rx.innovation-studio.customization-status.created-in-this-overlay-group.label');\n            case RX_OVERLAY.customizationPerspective.customizedInThisOverlayGroup:\n                return this.translateService.instant('com.bmc.arsys.rx.innovation-studio.customization-status.customized-in-this-overlay-group.label');\n            case RX_OVERLAY.customizationPerspective.notCustomizedInThisOverlayGroup:\n                return this.translateService.instant('com.bmc.arsys.rx.innovation-studio.customization-status.not-customized-in-this-overlay-group.label');\n            default:\n                return '';\n        }\n    }\n}\nRxCustomizationStatusPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCustomizationStatusPipe, deps: [{ token: i2.TranslateService }], target: i0.ɵɵFactoryTarget.Pipe });\nRxCustomizationStatusPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCustomizationStatusPipe, name: \"rxCustomizationStatus\" });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCustomizationStatusPipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: 'rxCustomizationStatus'\n                }]\n        }], ctorParameters: function () { return [{ type: i2.TranslateService }]; } });\n\nclass RxOverlayRequestsInterceptor {\n    constructor(rxOverlayService) {\n        this.rxOverlayService = rxOverlayService;\n    }\n    intercept(request, next) {\n        const currentOverlayContext = this.rxOverlayService.getCurrentOverlayContext();\n        if ((currentOverlayContext === null || currentOverlayContext === void 0 ? void 0 : currentOverlayContext.overlayGroupId) && !request.headers.get('request-overlay-group')) {\n            request = request.clone({\n                headers: request.headers.set('request-overlay-group', currentOverlayContext.overlayGroupId)\n            });\n        }\n        return next.handle(request);\n    }\n}\nRxOverlayRequestsInterceptor.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOverlayRequestsInterceptor, deps: [{ token: RxOverlayService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxOverlayRequestsInterceptor.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOverlayRequestsInterceptor });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOverlayRequestsInterceptor, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: RxOverlayService }]; } });\n\nclass RxOverlayModule {\n    static forRoot() {\n        return {\n            ngModule: RxOverlayModule,\n            providers: [\n                {\n                    provide: HTTP_INTERCEPTORS,\n                    useClass: RxOverlayRequestsInterceptor,\n                    multi: true\n                }\n            ]\n        };\n    }\n}\nRxOverlayModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOverlayModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxOverlayModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOverlayModule, declarations: [RxCustomizationStatusPipe], imports: [CommonModule], exports: [RxCustomizationStatusPipe] });\nRxOverlayModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOverlayModule, imports: [[CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOverlayModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule],\n                    declarations: [RxCustomizationStatusPipe],\n                    exports: [RxCustomizationStatusPipe]\n                }]\n        }] });\n\nconst publicPermissionType = 'Public';\nconst viewComponents = {\n    menuItem: 'rx-shell-menu-item',\n    menuGroup: 'rx-shell-menu-group'\n};\nconst RX_PERMISSION = {\n    instancesWithPermissions: [\n        'record',\n        'field',\n        'process',\n        'config',\n        'runtimeconfig',\n        'view',\n        'externalconfig',\n        viewComponents.menuItem,\n        viewComponents.menuGroup\n    ],\n    editorContexts: {\n        view: 'view',\n        field: 'field',\n        record: 'record',\n        process: 'process'\n    },\n    haveOverlayLogic: ['record', 'field'],\n    permissionType: {\n        role: 'role',\n        group: 'group',\n        securityLabel: 'securityLabel'\n    },\n    administratorGroup: 'Administrator',\n    fieldPermissions: {\n        view: 'VIEW',\n        change: 'CHANGE'\n    },\n    permissionDialogMetadata: {\n        field: {\n            headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.field',\n            actions: [\n                {\n                    value: 'VIEW',\n                    label: 'com.bmc.arsys.rx.client.permission-editor.column.view.label'\n                },\n                {\n                    value: 'CHANGE',\n                    label: 'com.bmc.arsys.rx.client.permission-editor.column.change.label'\n                }\n            ],\n            uniqueAction: true,\n            filterPermissionGroupIDs: [1, 2, 5, 7, 8, 9] // these are admin group ids, that cannot be restricted in access. Therefore should be filtered\n        },\n        record: {\n            headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.record',\n            actions: [],\n            defaultPermittedAction: 'VISIBLE',\n            uniqueAction: true,\n            filterPermissionGroupIDs: [1, 2, 5, 7, 8, 9] // these are admin group ids, that cannot be restricted in access. Therefore should be filtered\n        },\n        config: {\n            headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.config',\n            actions: [\n                {\n                    value: 'VIEW',\n                    label: 'com.bmc.arsys.rx.client.permission-editor.column.view.label'\n                },\n                {\n                    value: 'CHANGE',\n                    label: 'com.bmc.arsys.rx.client.permission-editor.column.change.label'\n                }\n            ],\n            uniqueAction: true\n        },\n        externalconfig: {\n            headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.config',\n            actions: [],\n            defaultPermittedAction: 'VIEW',\n            uniqueAction: true\n        },\n        runtimeconfig: {\n            headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.config',\n            actions: [],\n            defaultPermittedAction: 'VISIBLE',\n            uniqueAction: true\n        },\n        process: {\n            headerText: 'com.bmc.arsys.rx.client.permission-editor.header.caption.process',\n            actions: [\n                {\n                    value: 'EXECUTE',\n                    label: 'com.bmc.arsys.rx.client.permission-editor.column.execute.label'\n                },\n                {\n                    value: 'READ',\n                    label: 'com.bmc.arsys.rx.client.permission-editor.column.read.label'\n                }\n            ],\n            uniqueAction: true\n        },\n        view: {\n            actions: [],\n            defaultPermittedAction: 'VISIBLE',\n            uniqueAction: true\n        },\n        viewComponent: {\n            actions: [],\n            defaultPermission: {\n                value: 0,\n                name: publicPermissionType,\n                type: 'GROUP'\n            },\n            defaultPermittedAction: 'VISIBLE',\n            uniqueAction: true\n        }\n    },\n    publicPermissionType: publicPermissionType,\n    viewComponents: viewComponents,\n    viewComponentsContext: 'viewComponent',\n    permissionScope: {\n        all: 'all'\n    },\n    groupCategoryFieldId: 120,\n    groupIdFieldId: 106,\n    restrictedGroupCategoryForNonFieldPermissions: {\n        dynamic: 1\n    },\n    restrictedGroupIdForNonFieldPermissions: {\n        subAdministratorGroup: 5\n    }\n};\n\nclass RxBooleanPipe {\n    constructor(translateService) {\n        this.translateService = translateService;\n    }\n    transform(value, trueValueParam, falseValueParam) {\n        const trueValueTranslation = this.translateService.instant('com.bmc.arsys.rx.client.common.true');\n        const falseValueTranslation = this.translateService.instant('com.bmc.arsys.rx.client.common.false');\n        let outputValue = value;\n        switch (value) {\n            case '1':\n            case true:\n            case 1: {\n                outputValue = trueValueParam || trueValueTranslation;\n                break;\n            }\n            case '0':\n            case false:\n            case 0: {\n                outputValue = falseValueParam || falseValueTranslation;\n                break;\n            }\n        }\n        return outputValue;\n    }\n}\nRxBooleanPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBooleanPipe, deps: [{ token: i2.TranslateService }], target: i0.ɵɵFactoryTarget.Pipe });\nRxBooleanPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBooleanPipe, name: \"rxBoolean\" });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBooleanPipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: 'rxBoolean'\n                }]\n        }], ctorParameters: function () { return [{ type: i2.TranslateService }]; } });\n\nclass RxPipesModule {\n}\nRxPipesModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxPipesModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxPipesModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxPipesModule, declarations: [RxBooleanPipe], exports: [RxBooleanPipe] });\nRxPipesModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxPipesModule });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxPipesModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RxBooleanPipe],\n                    exports: [RxBooleanPipe]\n                }]\n        }] });\n\nclass RxPreviousStateService {\n    constructor(router, rxGlobalCacheService) {\n        this.router = router;\n        this.rxGlobalCacheService = rxGlobalCacheService;\n        this.currentUrl = this.router.url;\n        router.events.subscribe((event) => {\n            if (event instanceof NavigationEnd) {\n                this.previousUrl = this.currentUrl;\n                this.currentUrl = event.url;\n            }\n        });\n    }\n    goToPrevState() {\n        if (this.previousUrl &&\n            this.previousUrl !== this.currentUrl &&\n            this.previousUrl !== `${this.rxGlobalCacheService.applicationId}/login`) {\n            this.router.navigateByUrl(this.previousUrl);\n        }\n        else {\n            this.router.navigate([this.rxGlobalCacheService.applicationId]);\n        }\n    }\n}\nRxPreviousStateService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxPreviousStateService, deps: [{ token: i3.Router }, { token: RxGlobalCacheService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxPreviousStateService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxPreviousStateService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxPreviousStateService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i3.Router }, { type: RxGlobalCacheService }]; } });\n\nconst roleDataPageQuery = 'com.bmc.arsys.rx.application.role.datapage.RoleDataPageQuery';\nclass RxRoleDataPageService extends DataPage {\n    constructor(injector) {\n        super(injector, roleDataPageQuery);\n        this.injector = injector;\n    }\n}\nRxRoleDataPageService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRoleDataPageService, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRoleDataPageService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRoleDataPageService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRoleDataPageService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nclass RxAuthInterceptor {\n    constructor(rxAuthService) {\n        this.rxAuthService = rxAuthService;\n    }\n    intercept(req, next) {\n        return next.handle(req).pipe(catchError((err) => {\n            if (err.status === 401) {\n                this.rxAuthService.redirectToLoginPage();\n            }\n            return throwError(err);\n        }));\n    }\n}\nRxAuthInterceptor.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAuthInterceptor, deps: [{ token: RxAuthService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxAuthInterceptor.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAuthInterceptor });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAuthInterceptor, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: RxAuthService }]; } });\n\nclass RxAuthGuard {\n    constructor(router, rxAuthService, rxSessionService, rxCurrentUserService, rxGlobalCacheService) {\n        this.router = router;\n        this.rxAuthService = rxAuthService;\n        this.rxSessionService = rxSessionService;\n        this.rxCurrentUserService = rxCurrentUserService;\n        this.rxGlobalCacheService = rxGlobalCacheService;\n    }\n    canActivate(next, state) {\n        return this.rxSessionService.initSession().pipe(map(() => {\n            const applicationId = head(next.url).path;\n            if (applicationId === RX_APPLICATION.innovationStudioBundleId &&\n                !(this.rxCurrentUserService.isAdministrator() || this.rxCurrentUserService.isBusinessAnalyst())) {\n                this.rxGlobalCacheService.applicationId = RX_APPLICATION.innovationStudioBundleId;\n                return this.router.parseUrl('access-denied');\n            }\n            return true;\n        }), catchError((error) => {\n            if (error.headers.get('sso-provider-type') === RX_SESSION.ssoProviderTypes.rsso) {\n                this.router.navigate(['unsupported-environment']);\n                return EMPTY;\n            }\n            this.rxAuthService.redirectToLoginPage();\n            return EMPTY;\n        }));\n    }\n}\nRxAuthGuard.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAuthGuard, deps: [{ token: i3.Router }, { token: RxAuthService }, { token: RxSessionService }, { token: RxCurrentUserService }, { token: RxGlobalCacheService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxAuthGuard.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAuthGuard, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAuthGuard, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i3.Router }, { type: RxAuthService }, { type: RxSessionService }, { type: RxCurrentUserService }, { type: RxGlobalCacheService }]; } });\n\nclass RxAuthModule {\n    static forRoot() {\n        return {\n            ngModule: RxAuthModule,\n            providers: [\n                {\n                    provide: HTTP_INTERCEPTORS,\n                    useClass: RxAuthInterceptor,\n                    multi: true\n                }\n            ]\n        };\n    }\n}\nRxAuthModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAuthModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxAuthModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAuthModule, imports: [CommonModule] });\nRxAuthModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAuthModule, imports: [[CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAuthModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule]\n                }]\n        }] });\n\nclass RxSessionExpirationInterceptor {\n    constructor(rxSessionExpirationService) {\n        this.rxSessionExpirationService = rxSessionExpirationService;\n    }\n    intercept(request, next) {\n        return next.handle(request).pipe(tap((event) => {\n            if (event instanceof HttpResponse) {\n                const responseDate = new Date(event.headers.get('date'));\n                if (!this.lastResponseDate || responseDate >= this.lastResponseDate) {\n                    this.lastResponseDate = responseDate;\n                    const idleTimeout = event.headers.get(RX_SESSION.expirationHeaders.idle);\n                    const absoluteTimeout = event.headers.get(RX_SESSION.expirationHeaders.absolute);\n                    this.rxSessionExpirationService.setTimeout(SessionExpirationType.Idle, idleTimeout);\n                    this.rxSessionExpirationService.setTimeout(SessionExpirationType.Absolute, absoluteTimeout);\n                }\n            }\n        }));\n    }\n}\nRxSessionExpirationInterceptor.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSessionExpirationInterceptor, deps: [{ token: RxSessionExpirationService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxSessionExpirationInterceptor.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSessionExpirationInterceptor });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSessionExpirationInterceptor, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: RxSessionExpirationService }]; } });\n\nclass RxSessionExpirationModule {\n    static forRoot() {\n        return {\n            ngModule: RxSessionExpirationModule,\n            providers: [\n                {\n                    provide: HTTP_INTERCEPTORS,\n                    useClass: RxSessionExpirationInterceptor,\n                    multi: true\n                }\n            ]\n        };\n    }\n}\nRxSessionExpirationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSessionExpirationModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxSessionExpirationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSessionExpirationModule, declarations: [RxSessionExpirationComponent], imports: [CommonModule, TranslateModule, AdaptButtonModule], exports: [RxSessionExpirationComponent] });\nRxSessionExpirationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSessionExpirationModule, imports: [[CommonModule, TranslateModule, AdaptButtonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSessionExpirationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RxSessionExpirationComponent],\n                    entryComponents: [RxSessionExpirationComponent],\n                    exports: [RxSessionExpirationComponent],\n                    imports: [CommonModule, TranslateModule, AdaptButtonModule]\n                }]\n        }] });\n\nclass RxServerActionService {\n    constructor(injector) {\n        this.injector = injector;\n        this.rxDesignerCacheService = this.injector.get(RxDesignerCacheService);\n        this.rxStringService = this.injector.get(RxStringService);\n        this.translateService = this.injector.get(TranslateService);\n    }\n    getActionTypeByName(actionTypeName) {\n        return this.rxDesignerCacheService.getActionTypeByNameSync(actionTypeName);\n    }\n    // TODO-VS: update types\n    getClassConfig(options) {\n        const model = this.getModelFromDefinition({\n            actionTypeName: options.actionTypeName\n        });\n        return {\n            content: model.name,\n            elementModel: model,\n            icon: model.isDeprecated ? 'info' : null,\n            position: options.position,\n            type: model.type\n        };\n    }\n    // TODO-VS: update availableCells type\n    validateInputMap(model, availableCells) {\n        return of([]);\n    }\n    // TODO-VS: update availableCells type\n    validateServerAction(model, availableCells) {\n        return this.validateInputMap(model, availableCells).pipe(map((inputMapValidationIssues) => {\n            const validationIssues = [...inputMapValidationIssues];\n            if (this.rxStringService.isEmptySafe(model.name)) {\n                validationIssues.push({\n                    type: ValidationIssueType.Error,\n                    description: this.translateService.instant('com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message', {\n                        propertyName: this.translateService.instant('com.bmc.arsys.rx.client.common.label.label')\n                    }),\n                    data: {\n                        guid: model.guid,\n                        inspectorTabIndex: 1\n                    }\n                });\n            }\n            model.outputMap.forEach((output, index) => {\n                if (this.rxStringService.isEmptySafe(output.assignTarget)) {\n                    validationIssues.push({\n                        type: ValidationIssueType.Error,\n                        description: this.translateService.instant('com.bmc.arsys.rx.client.designer.validation.output-map.message', {\n                            errorMessage: this.translateService.instant('com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message', {\n                                propertyName: this.translateService.instant('com.bmc.arsys.rx.client.designer.assignment-expression.target.label')\n                            })\n                        }),\n                        data: {\n                            fieldName: 'assignTarget',\n                            guid: model.guid,\n                            index,\n                            inspectorTabIndex: 1,\n                            propertyName: 'outputMap'\n                        }\n                    });\n                }\n                if (this.rxStringService.isEmptySafe(output.expression)) {\n                    validationIssues.push({\n                        type: ValidationIssueType.Error,\n                        description: this.translateService.instant('com.bmc.arsys.rx.client.designer.validation.output-map.message', {\n                            errorMessage: this.translateService.instant('com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message', {\n                                propertyName: this.translateService.instant('com.bmc.arsys.rx.client.designer.assignment-expression.source.label')\n                            })\n                        }),\n                        data: {\n                            fieldName: 'expression',\n                            guid: model.guid,\n                            index,\n                            inspectorTabIndex: 1,\n                            propertyName: 'outputMap'\n                        }\n                    });\n                }\n            });\n            return validationIssues;\n        }));\n    }\n}\nRxServerActionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxServerActionService, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\nRxServerActionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxServerActionService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxServerActionService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nfunction RxServerActionMixin(Base) {\n    return class RxServerAction extends Base {\n        // TODO-VS: add types after rappid update\n        initialize(config) {\n            // @ts-ignore\n            super.initialize(config);\n            this.setDataDictionaryBranch();\n            // TODO-VS: add types after rappid update\n            // @ts-ignore\n            this.on('change:elementModel', (element, elementModel, changedProperty) => {\n                if (startWith(changedProperty.propertyPath, 'elementModel/inputMap')) {\n                    const inputMapPropertyPath = last(changedProperty.propertyPath.split('/'));\n                    let inputMapPropertyValue = changedProperty.propertyValue;\n                    const isCommandManagerOperation = has(changedProperty, 'commandManager');\n                    if (isCommandManagerOperation) {\n                        inputMapPropertyValue = elementModel.inputMap[inputMapPropertyPath];\n                    }\n                    this.setDataDictionaryBranch();\n                    this.onInputMapChanged(element, elementModel.inputMap, inputMapPropertyPath, inputMapPropertyValue, isCommandManagerOperation);\n                }\n            });\n        }\n        clearOutputMap() {\n            // @ts-ignore\n            this.prop('elementModel/outputMap', [], {\n                rxSilent: true,\n                rewrite: true\n            });\n        }\n        getElementService(type) {\n            return null;\n        }\n        getInputMap() {\n            // @ts-ignore\n            return clone(this.prop('elementModel/inputMap')) || {};\n        }\n        // TODO-VS: add types after rappid update\n        onInputMapChanged(element, inputMap, inputMapPropertyPath, inputMapPropertyValue, isCommandManagerOperation) { }\n        setDataDictionaryBranch() {\n            // @ts-ignore\n            const elementService = this.getElementService(this.prop('type'));\n            elementService.setCommonDataDictionaryBranch(\n            // @ts-ignore\n            this.prop('elementModel/guid'), \n            // @ts-ignore\n            elementService.buildDataDictionaryBranch(this.prop('elementModel')));\n        }\n        setInputMap(inputMap, options) {\n            // use 'rewrite' option to prevent the default 'merge' behavior\n            // @ts-ignore\n            this.prop('elementModel/inputMap', inputMap, {\n                rxSilent: true,\n                rewrite: true,\n                silent: get(options, 'isSilent', false)\n            });\n        }\n    };\n}\n\nfunction RxServerActionViewMixin(Base) {\n    return class RxServerActionView extends Base {\n        className() {\n            const originalClassName = joint.shapes.bpmn.ActivityView.prototype.className.apply(this, arguments);\n            // append actionTypeName to element's class to help QA find elements in the DOM\n            // @ts-ignore\n            return `${originalClassName} ${this.model.get('elementModel').actionTypeName}`;\n        }\n    };\n}\n\nclass RxServerActionExpressionConfigurator extends RxExpressionConfigurator {\n    constructor(injector) {\n        super();\n        this.injector = injector;\n        this.dataDictionaryService = this.getDataDictionaryService();\n        this.commonDataDictionary$ = this.dataDictionaryService.commonDataDictionary$;\n        this.configureForProperty({\n            propertyPath: /inputMap\\/.*/,\n            dataDictionary$: this.getInputMapDataDictionary(),\n            validateExpression: (propertyPath, expression) => this.validateInputMapExpression(propertyPath, expression),\n            operators: this.getOperatorRowsByGroup(ExpressionOperatorGroup.Math)\n        });\n    }\n    getDefaultConfig() {\n        return Object.assign(Object.assign({}, super.getDefaultConfig()), { dataDictionary$: this.commonDataDictionary$, operators: ExpressionOperatorRowsByGroup.get(ExpressionOperatorGroup.AllClient) });\n    }\n    getInputMapDataDictionary() {\n        return this.commonDataDictionary$;\n    }\n    validateInputMapExpression(propertyPath, expression) {\n        return of(true);\n    }\n}\n\nclass RxSmartReportingService {\n    constructor(httpClient, rxJsonParserService, rxServerErrorHandlerService) {\n        this.httpClient = httpClient;\n        this.rxJsonParserService = rxJsonParserService;\n        this.rxServerErrorHandlerService = rxServerErrorHandlerService;\n        this.smartReportingUrl$ = this._getSmartReportingUrl().pipe(catchError((error) => {\n            this.rxServerErrorHandlerService.handle(error);\n            return of('');\n        }), shareReplay(1));\n    }\n    // We have to open a blank tab and then or change its url or close it.\n    // Sadly there is no other way around it (even forcing a click on a button for example).\n    // https://tech.europace.de/how-to-open-async-calls-in-a-new-tab-instead-of-new-window-within-an-angularjs-app/\n    openSmartReporting(target = '_blank', queryParams = {}) {\n        const smartReportingPopup = window.open('', target);\n        return this._getSmartReportingUrl(queryParams).pipe(map((smartReportingUrl) => {\n            smartReportingPopup.location.href = smartReportingUrl;\n            return true;\n        }), catchError((errorResponse) => {\n            smartReportingPopup.close();\n            if (errorResponse.error === '[]') {\n                return of(false);\n            }\n            throw errorResponse;\n        }));\n    }\n    getSmartReportingUrl() {\n        return this.smartReportingUrl$;\n    }\n    _getSmartReportingUrl(queryParams = {}) {\n        return this.httpClient\n            .get('/api/rx/application/smartreporting/url', {\n            responseType: 'text',\n            params: queryParams\n        })\n            .pipe(map((url) => decodeURIComponent(url)));\n    }\n}\nRxSmartReportingService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSmartReportingService, deps: [{ token: i1.HttpClient }, { token: i2$2.RxJsonParserService }, { token: RxServerErrorHandlerService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxSmartReportingService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSmartReportingService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSmartReportingService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }, { type: i2$2.RxJsonParserService }, { type: RxServerErrorHandlerService }]; } });\n\nconst TITLE_SEPARATOR = ' - ';\nclass RxPageTitleService {\n    constructor(title, rxBundleCacheService, rxGlobalCacheService, rxLogService) {\n        this.title = title;\n        this.rxBundleCacheService = rxBundleCacheService;\n        this.rxGlobalCacheService = rxGlobalCacheService;\n        this.rxLogService = rxLogService;\n    }\n    set(title, bundleId) {\n        let currentPageTitle = '';\n        if (Array.isArray(title)) {\n            currentPageTitle = title\n                .reduce((result, part) => {\n                if (isString(part) && (part = part.trim())) {\n                    result.push(part);\n                }\n                return result;\n            }, [])\n                .join(TITLE_SEPARATOR);\n        }\n        else if (isString(title)) {\n            currentPageTitle = title.trim();\n        }\n        else if (!isUndefined(title)) {\n            this.rxLogService.warning('Invalid page title: ' + title);\n        }\n        const currentBundleId = bundleId || this.rxBundleCacheService.bundleId;\n        if (bundleId !== '' && currentBundleId) {\n            this.rxGlobalCacheService\n                .getBundleDisplayName(currentBundleId)\n                .pipe(take(1))\n                .subscribe((bundleDisplayName) => {\n                this.title.setTitle([currentPageTitle, bundleDisplayName].filter(Boolean).join(TITLE_SEPARATOR));\n            });\n        }\n        else {\n            this.title.setTitle(currentPageTitle);\n        }\n    }\n}\nRxPageTitleService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxPageTitleService, deps: [{ token: i1$1.Title }, { token: RxBundleCacheService }, { token: RxGlobalCacheService }, { token: RxLogService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxPageTitleService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxPageTitleService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxPageTitleService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.Title }, { type: RxBundleCacheService }, { type: RxGlobalCacheService }, { type: RxLogService }]; } });\n\nclass Tooltip {\n    constructor(tooltipText) {\n        this.iconName = 'question_circle_o';\n        this.placement = 'auto';\n        this.popoverMode = true;\n        // default taken from AdaptRxLabelTooltipComponent\n        this.maxWidth = 250;\n        this.content = tooltipText;\n    }\n}\n\nconst RX_USER_PREFERENCES = {\n    componentName: 'UI Preferences',\n    fieldPreferences: 'preferences'\n};\n\nclass RxUserPreferencesService {\n    constructor(httpClient, rxJsonParserService) {\n        this.httpClient = httpClient;\n        this.rxJsonParserService = rxJsonParserService;\n        this.settingsByComponentId = new Map();\n        this.apiUrl = '/api/rx/application/admin-settings/user-preference/UI Preferences';\n    }\n    getUiComponentPreferences(guid) {\n        return this.httpClient\n            .get(this.apiUrl, {\n            headers: new HttpHeaders({\n                'default-bundle-scope': ''\n            }),\n            params: {\n                componentId: guid\n            }\n        })\n            .pipe(map(({ values }) => {\n            this.settingsByComponentId.set(guid, values);\n            const preferenceSetting = values.find((value) => value.settingName === RX_USER_PREFERENCES.fieldPreferences);\n            const settingValue = preferenceSetting ? preferenceSetting.settingValue : null;\n            return this.rxJsonParserService.tryParseJson(settingValue);\n        }));\n    }\n    prepareUiPreferences(data, guid) {\n        if (!isEmpty(this.settingsByComponentId.get(guid))) {\n            return this.createUpdatedSettings(data, guid);\n        }\n        const newSettings = map$1(data, (value, name) => ({\n            componentName: RX_USER_PREFERENCES.componentName,\n            settingName: name,\n            settingValue: value,\n            assigneeGroupPermission: ''\n        }));\n        return newSettings;\n    }\n    setUiComponentPreferences(data, guid) {\n        const settings = this.prepareUiPreferences(data, guid);\n        const currentSettings = this.settingsByComponentId.get(guid);\n        const id = get(currentSettings, '[0].ownerKeyValue1');\n        const httpOptions = {\n            headers: new HttpHeaders({\n                'default-bundle-scope': ''\n            })\n        };\n        return id\n            ? this.httpClient.put(`${this.apiUrl}/${id}`, settings, httpOptions)\n            : this.httpClient\n                .post(this.apiUrl, settings, httpOptions)\n                .pipe(tap(() => this.getUiComponentPreferences(data.componentId).subscribe()));\n    }\n    createUpdatedSettings(data, guid) {\n        const newSettings = this.settingsByComponentId.get(guid);\n        const preferenceSetting = newSettings.find((element) => element.settingName === RX_USER_PREFERENCES.fieldPreferences);\n        const index = newSettings.indexOf(preferenceSetting);\n        preferenceSetting.settingValue = data.preferences;\n        newSettings[index] = preferenceSetting;\n        return newSettings;\n    }\n}\nRxUserPreferencesService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUserPreferencesService, deps: [{ token: i1.HttpClient }, { token: i2$2.RxJsonParserService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxUserPreferencesService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUserPreferencesService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUserPreferencesService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }, { type: i2$2.RxJsonParserService }]; } });\n\nclass RxWhatfixConfiguratorService {\n    constructor(document, rendererFactory, httpClient, rxCurrentUserService, rxLogService, rxGlobalCacheService) {\n        this.document = document;\n        this.rendererFactory = rendererFactory;\n        this.httpClient = httpClient;\n        this.rxCurrentUserService = rxCurrentUserService;\n        this.rxLogService = rxLogService;\n        this.rxGlobalCacheService = rxGlobalCacheService;\n        this.isConfigured = false;\n        this.renderer = this.rendererFactory.createRenderer(null, null);\n        this.defaultConfig$ = combineLatest([\n            this.rxGlobalCacheService.getApplicationBundleDescriptor(),\n            this.rxCurrentUserService.user$\n        ]).pipe(take(1), map(([bundleDescriptor, user]) => {\n            const logCategories = this.rxLogService.logCategories;\n            return {\n                application: {\n                    id: this.rxGlobalCacheService.applicationId,\n                    version: bundleDescriptor.version\n                },\n                environment: {\n                    isDebug: includes(logCategories, LogCategory.All) || includes(logCategories, LogCategory.Cli)\n                },\n                user: {\n                    id: user.userId,\n                    isBusinessAnalyst: this.rxCurrentUserService.isBusinessAnalyst(),\n                    isAdministrator: this.rxCurrentUserService.isAdministrator()\n                }\n            };\n        }), shareReplay(1));\n        this.isEnabled$ = this.httpClient.get(`${RX_ADMINISTRATION.systemConfigurationUrl}/Whatfix-Disabled`).pipe(map((result) => result.value === 0), shareReplay(1));\n    }\n    setConfig(accountId, config) {\n        if (isEmpty(accountId)) {\n            throw new Error('Invalid Whatfix account ID.');\n        }\n        this.isEnabled$\n            .pipe(filter((isEnabled) => Boolean(isEnabled) && !this.isConfigured), tap((isEnabled) => {\n            this.rxLogService.debug(isEnabled ? `Whatfix is enabled. Account ID: ${accountId}.` : 'Whatfix is disabled.');\n        }), switchMapTo(config ? of(config) : this.defaultConfig$))\n            .subscribe((whatfixConfig) => {\n            this.isConfigured = true;\n            defaults(window, { rx: {} });\n            // this global variable will be used by whatfix integration script loaded below\n            window['rx'].whatfixConfig = whatfixConfig;\n            const url = `//cdn.whatfix.com/prod/${accountId}/embed/embed.nocache.js`;\n            this.rxLogService.debug(`Loading whatfix integration script from ${url}.`);\n            this.loadScript(url);\n        });\n    }\n    getDefaultConfig() {\n        return this.isEnabled$.pipe(filter(Boolean), switchMapTo(this.defaultConfig$));\n    }\n    loadScript(url) {\n        const scriptElement = assign(this.renderer.createElement('script'), {\n            type: 'text/javascript',\n            async: true,\n            src: url\n        });\n        this.renderer.appendChild(this.document.head, scriptElement);\n    }\n}\nRxWhatfixConfiguratorService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxWhatfixConfiguratorService, deps: [{ token: DOCUMENT }, { token: i0.RendererFactory2 }, { token: i1.HttpClient }, { token: RxCurrentUserService }, { token: RxLogService }, { token: RxGlobalCacheService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxWhatfixConfiguratorService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxWhatfixConfiguratorService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxWhatfixConfiguratorService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }, { type: i0.RendererFactory2 }, { type: i1.HttpClient }, { type: RxCurrentUserService }, { type: RxLogService }, { type: RxGlobalCacheService }]; } });\n\nclass RxAdminComponentDataPageQuery extends DataPage {\n    constructor(injector) {\n        super(injector, 'com.bmc.arsys.rx.application.admin.datapage.AdminComponentDataPageQuery');\n        this.injector = injector;\n    }\n}\nRxAdminComponentDataPageQuery.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdminComponentDataPageQuery, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\nRxAdminComponentDataPageQuery.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdminComponentDataPageQuery, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdminComponentDataPageQuery, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { DataPage, DevelopmentMode, DynamicLocaleId, ExpressionOperator, ExpressionOperatorGroup, ExpressionOperatorRowsByGroup, ExpressionParserToken, FormBuilderEvent, JustificationRequirement, LocalizedStringsLoaderFactory, LogCategory, MachineLearningProviderNames, NodeInfoType, NotificationType, OverlayType, RX_ADMINISTRATION, RX_APPLICATION, RX_BUILD_ENVIRONMENT, RX_BUNDLE, RX_CHATBOT, RX_DATA_PAGE, RX_DEFAULT_NOTIFICATION_SETTINGS, RX_DEFAULT_STRINGS, RX_DEFINITION, RX_DESIGNER, RX_DESIGNER_ELEMENT_SHAPE, RX_ENVIRONMENT, RX_ERROR_HANDLING, RX_LOG, RX_OVERLAY, RX_PERMISSION, RX_RESOURCE_URLS, RX_THEMING, RX_USER, RX_USER_PREFERENCES, RxActionTypeDataPageService, RxActionTypeUtilsService, RxAdminComponentDataPageQuery, RxAdminComponentDataPageService, RxAdminSettingsService, RxAngularApplicationService, RxApplicationConfiguratorService, RxApplicationInitializer, RxApplicationLoaderResolver, RxApplicationLoaderService, RxApplicationRegistryService, RxApplicationResolver, RxAuthGuard, RxAuthInterceptor, RxAuthModule, RxAuthService, RxBooleanPipe, RxBundleCacheService, RxBundleDataPageService, RxBundleService, RxCachingModule, RxChatbotDefinitionDataPageService, RxCommandFactoryService, RxCommandManagerService, RxComponentCanDeactivateGuard, RxCurrentUserService, RxCustomizationStatusPipe, RxDataDictionaryUtils, RxDataPageFactoryService, RxDefinitionAdapterRegistryService, RxDefinitionModule, RxDefinitionNamePipe, RxDefinitionNameService, RxDefinitionScopePipe, RxDefinitionService, RxDefinitionUpdateService, RxDesignerCacheService, RxDesignerStencilBuilder, RxErrorHandlerService, RxErrorHandlingModule, RxExpressionConfigurator, RxExpressionParserService, RxFeatureGuard, RxFeatureService, RxFunctionDataPageService, RxFunctionalRoleDataPageService, RxGlobalCacheService, RxGlobalEventsService, RxGroupDataPageService, RxHttpLogInterceptor, RxHttpModule, RxHttpResponseMessageInterceptor, RxKeepSessionAliveResolver, RxLicenseDataPageService, RxLiveAgentSettingsService, RxLocalizationModule, RxLocalizationService, RxLocalizedStringsLoaderService, RxLogService, RxLoggingModule, RxLoginLocalizationResolver, RxLoginPageGuard, RxMetadataService, RxNotificationComponent, RxNotificationModule, RxNotificationService, RxOverlayModule, RxOverlayService, RxPageTitleService, RxPipesModule, RxPreviousStateService, RxRequestInterceptor, RxRoleDataPageService, RxRootInjector, RxRssoDebugService, RxServerActionExpressionConfigurator, RxServerActionMixin, RxServerActionService, RxServerActionViewMixin, RxServerErrorHandlerService, RxSessionExpirationComponent, RxSessionExpirationInterceptor, RxSessionExpirationModule, RxSessionExpirationService, RxSessionService, RxSmartReportingService, RxSystemConfigurationService, RxThemeResolver, RxThemingService, RxUpgradeTrackerService, RxUserPreferencesService, RxUserService, RxValidApplicationGuard, RxWhatfixConfiguratorService, ShellRouteReuseStrategy, Tooltip };\n//# sourceMappingURL=helix-platform-shared-api.js.map\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}