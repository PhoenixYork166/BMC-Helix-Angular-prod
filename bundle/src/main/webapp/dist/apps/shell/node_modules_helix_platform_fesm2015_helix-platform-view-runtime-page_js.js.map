{"version":3,"sources":["./node_modules/@helix/platform/fesm2015/helix-platform-approval-components.js","./node_modules/@helix/platform/fesm2015/helix-platform-dataload-components.js","./node_modules/@helix/platform/fesm2015/helix-platform-view-actions.js","./node_modules/@helix/platform/fesm2015/helix-platform-view-components.js","./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js","./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime-page.js","./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js","./node_modules/angular-split/fesm2015/angular-split.js","./node_modules/css-element-queries/index.js","./node_modules/css-element-queries/src/ElementQueries.js","./node_modules/css-element-queries/src/ResizeSensor.js"],"names":["ApprovalRequestReassignComponent_ng_template_15_Template","rf","ctx","i0","option_r2","$implicit","displayValue","value","ApprovalRequestActionReasonInputComponent_div_11_Template","ApprovalRequestGeneralDetailsComponent_adapt_empty_state_1_Template","ApprovalRequestGeneralDetailsComponent_div_2_rx_read_only_field_1_Template","field_r4","label","ApprovalRequestGeneralDetailsComponent_div_2_Template","requestFields_r2","ngIf","ctx_r1","approvalRequest","_c0","a0","busy","_c1","ApprovalRequestApproversComponent_adapt_empty_state_0_Template","ApprovalRequestApproversComponent_rx_record_grid_1_Template","gridConfig$","ApprovalRequestQuestionComponent_ng_template_19_Template","_c2","ApprovalRequestQuestionsComponent_adapt_empty_state_0_Template","ApprovalRequestQuestionsComponent_button_1_Template","_r4","askNewQuestion","isNewQuestionButtonDisabled","ApprovalRequestQuestionsComponent_rx_record_grid_2_Template","ctx_r2","_c3","ApprovalRequestCommentsComponent_adapt_empty_state_0_Template","ApprovalRequestCommentsComponent_button_1_Template","addNewComment","ApprovalRequestCommentsComponent_rx_record_grid_2_Template","_c4","ApprovalRequestAttachmentsComponent_adapt_empty_state_0_Template","ApprovalRequestAttachmentsComponent_rx_record_grid_1_Template","_c5","_c6","_c7","_c8","ApprovalConsoleComponent_adapt_tabset_5_adapt_tab_panel_1_Template","requestType_r14","requestsTypeCounts_r12","countType","badgeType","ApprovalConsoleComponent_adapt_tabset_5_Template","_r17","$event","fetchApprovalRequests","ctx_r0","approvalRequestTypes","ApprovalConsoleComponent_rx_record_grid_7_Template","_r20","onDataLoaded","ApprovalConsoleComponent_span_15_Template","currentRequestId","ApprovalConsoleComponent_rx_approval_request_approvers_23_Template","ctx_r4","selectedApprovalRequest","selectedApprovalRequestsTab","gridType","ApprovalConsoleComponent_rx_approval_request_questions_26_Template","_r22","onQuestionSubmitted","ctx_r5","status","ApprovalConsoleComponent_rx_approval_request_comments_29_Template","ctx_r6","ApprovalConsoleComponent_rx_approval_request_attachments_32_Template","ctx_r7","ApprovalConsoleComponent_ng_template_33_Template","dataItem_r23","dataItem","column_r24","column","field","ApprovalConsoleComponent_ng_template_35_Template","dataItem_r25","column_r26","resolvedDisplayValues","RxSignatureDetailDataPageService","DataPage","constructor","injector","super","this","ApprovalRequestStatus","ApprovalGridType","ApprovalCommandType","ɵfac","t","ɵprov","token","factory","providedIn","RX_APPROVAL_CONSOLE","approvalServerCommand","approvalCommandForm","approvalUserNameField","pending","Pending","ApprovalRequests","labelKey","onHold","Hold","moreInfo","RequestMoreInfo","needAttention","NeedsAttention","NeedAttentionRequests","approved","Approved","rejected","Rejected","cancelled","Cancelled","error","Error","closed","Closed","approvalRequestsGrid","fields","application","summary","requester","request","createDateSig","process","signatureInstanceID","justificationReasonField","sigTermStateDate","signatureID","otherDetail1","otherDetail2","otherDetail3","otherDetail4","justificationRequired","canReassign","processInstanceId","ifMultipleApprovers","actingAs","needAttentionRequestsGrid","definition","fromUser","toUser","description","requestID","attachment","question","response","state","requestDetailsGrid","approverDefinition","questionDefinition","questionTypeValue","commentTypeValue","from","to","type","requestNumber","approver","RxApprovalUsersDataPageService","RxApprovalConsoleService","httpClient","rxSignatureDetailDataPageService","rxCurrentUserService","rxRecordInstanceUtilsService","rxApprovalUsersDataPageService","getApprovalRequestCounts","get","RX_APPLICATION","getRequestLabelDetails","registeredDefinitionName","approvalFlowName","encodeURIComponent","getCurrentRequestDetails","requestId","params","ignoreAssignedUser","pipe","map","data","approveRequest","approvalCommands","post","RX_RESOURCE_URLS","resourceType","commands","rejectRequest","holdRequest","reassignRequest","getCommandPayload","commandType","requestSignatureInstanceId","formName","command","saveQuestion","formData","saveAttachment","guid","RX_RECORD_DEFINITION","getApprovalUsers","startIndex","pageSize","searchQuery","queryParams","propertySelection","queryExpression","getName","escapeTextWildcards","Object","assign","totalSize","options","fullName","loginName","i1","i3","i2","ApprovalRequestReassignComponent","RxModalClass","translateService","rxNotificationService","activeModalRef","rxApprovalConsoleService","selectedUser","userLoaderFunc","bind","isDirty","length","reassign","allowDismiss","map$1","getData","selectedRequestInstanceIds","signatureInstance","assignToApprovers","Reassign","finalize","subscribe","addSuccessMessage","instant","close","cancel","dismiss","DismissReasons","optionFormatter","option","i1$1","i1$2","ɵcmp","selectors","features","decls","vars","consts","template","_r0","directives","i5","i6","pipes","encapsulation","ApprovalRequestQuestionResponseComponent","rxRecordInstanceService","selectedRequest","enableCustomDownload","existingAttachmentName","downloadAttachment","Number","isSaveButtonDisabled","ngOnInit","getExistingFile","sendResponse","switchMap","recordInstance","setFieldValue","save","tap","shouldSaveAttachment","recordInstanceFormData","FormData","append","name","of","onRemovedFileFromQueue","onAfterFilesAdded","File","inUploading","inDeleting","uploaded","errorText","allowDeletion","_a","i6$1","styles","ApprovalRequestActionReasonInputComponent","currentRequestIndex","requests","title","modalTitle","some","reason","selectedRequests","isReasonRequired","isReasonEmpty","shouldApplySameReasonToAll","goToPreviousRequest","goToNextRequest","saveRequests","commonReason","justificationOrReason","trim","i3$1","RxApprovalConsoleHelperService","datePipe","formatValue","timeFormat","dateFormat","test","moment","isValid","transform","Date","format","ApprovalRequestGeneralDetailsComponent","rxApprovalConsoleHelperService","rxDefinitionNameService","approvalRequest$","Subject","allRequestFields$","NEVER","currentRequest","combineLatest","requestLabelDetails","allFields","statuses","actionDate","push","justification","labelValues","forEach","key","getDisplayName","EMPTY","MoreInfo","ngOnChanges","changes","currentValue","next","inputs","ApprovalRequestApproversComponent","rxRecordInstanceDataPageService","enableRowSelection","getApproversData","columns","getColumns","getRecordDefinition","recordDefinitionName","_b","requestApproversGrid","api","refresh","iif","omit","shouldIncludeTotalSize","fieldDefinitions","id","optionNamesById","index","fieldId","toString","filterable","sortable","viewQuery","_t","first","i10","ApprovalRequestQuestionComponent","ApprovalRequestQuestionsComponent","rxModalService","adaptModalService","questionSubmitted","EventEmitter","getQuestionData","getQuestionColumns","getQuestionRecordDefinition","requestQuestionsGrid","includes","requestsTabStatus","openModal","content","size","then","result","emit","catch","noop","clickable","actions","previousAction","selectedRow","showQuestionDetails","visible","split","open","ReadOnlyFieldsModalComponent","outputs","ApprovalRequestCommentComponent","comment","saveComment","isCommentEmpty","RxApprovalQCIDataPageService","ApprovalRequestCommentsComponent","rxApprovalQCIDataPageService","rxDataPageService","getCommentData","getCommentColumns","getCommentRecordDefinition","requestCommentsGrid","showCommentDetails","ApprovalRequestAttachmentsComponent","getAttachmentData","getAttachmentColumns","getAttachmentRecordDefinition","requestAttachmentsGrid","reject","item","ApprovalConsoleComponent","BaseViewComponent","rxStringService","recordGridFilterService","dataLoaded$","attentionGridParams","recorddefinition","needAttentionRequestCount$","availableRequestCount$","forkJoin","requestCounts","needAttentionResponse","needAttentionCount","activeTabIndex","selectedRecordsInSequence","updateGridConfig","gridSubscription","unsubscribe","adaptTable","selectionChange","selectedRows","selectedRecord","isNil","isReassignButtonDisabled","row","getSelectedRows","selectedRecordIndex","findIndex","RowDataItemIdFieldName","reloadGridData","confirm","modalStyle","RX_MODAL","message","OnHold","isHoldButtonDisabled","selectedApprovalRequestCount","getSelectedRowCount","event","adaptTableConfig","selectedItems","showNextRequestDetails","showPreviousRequestDetails","isPreviousButtonDisabled","isNextButtonDisabled","isApprovalRequestGrid","isNeedAttentionGrid","onTabChanged","needAttentionGridColumns","openQuestionResponseDialog","cellTemplate","definitionNameCellTemplate","ngOnDestroy","complete","textSearchQuery","generateTextFilterQuery","searchText","clonedSelectedFilters","cloneDeep","advancedFiltering","selectedFilters","clonedDefinitionNameFilters","find","filterOptionId","appliedDefinitionNameFilters","filterValue","resultingQuery","addQueries","buildQueryByAdvancedFilters","ignoreAlternateUser","filter","property","dataPage","getNeedAttentionData","shouldShowGrid","prepareGridConfiguration","setTimeout","defaultConfig","enableFiltering","RowSelectionMode","actionButtons","getActionButtons","recordIdField","toRxId","style","iconCls","disabled","resolvedFieldCellTemplate","searchable","JustificationRequirement","i1$3","requestDetailsTabs","ApprovalConsoleRegistrationModule","componentFactoryResolver","rxViewComponentRegistryService","register","componentFactory","resolveComponentFactory","isPageComponent","availableInBundles","i1$4","ɵmod","declarations","imports","CommonModule","RecordGridModule","AdaptButtonModule","AdaptDropdownModule","FormsModule","TranslateModule","AdaptTabsModule","ReadOnlyFieldModule","RxBusyIndicatorModule","RxDefinitionModule","RxSelectWithPaginationModule","AdaptEmptyStateModule","AdaptRxTextareaModule","AdaptRxUploaderModule","AdaptBusyModule","AdaptDownloadModule","AdaptRxLabelModule","AdaptRxSwitchModule","AdaptAlertModule","AdaptRxTextfieldModule","ɵinj","providers","ApprovalConsoleModule","ImportRecordStatusInfoComponent_ng_template_0_Template","ImportRecordStatusInfoComponent_div_2_div_2_Template","fileUploadedNotProcessedMsg","variant","ImportRecordStatusInfoComponent_div_2_adapt_alert_3_Template","processStartInfo","ImportRecordStatusInfoComponent_div_2_Template","statusData_r3","DataImportMappingStepComponent_div_5_adapt_rx_radiobutton_6_Template","definitionType_r11","index_r12","DataImportMappingStepComponent_div_5_rx_definition_picker_7_Template","_r14","currentSheetDataImportMapping","configurations","definitionMappings","targetDefinition","onDefinitionChange","ctx_r8","recordPickerOptions","DataImportMappingStepComponent_div_5_rx_definition_picker_8_Template","ctx_r9","associationPickerOptions","DataImportMappingStepComponent_div_5_div_9_div_9_Template","DataImportMappingStepComponent_div_5_div_9_div_10_Template","standalone","DataImportMappingStepComponent_div_5_div_9_div_11_Template","_r25","sourceField","fieldName","updateDataChangesToSheetMapContext","targetField","$index_r23","onTargetFieldSelection","removeMapping","fieldMapping_r22","ctx_r21","sourceFieldNameList","targetFieldList","isRequiredTargetField","DataImportMappingStepComponent_div_5_div_9_Template","_r31","addFieldMapping","ctx_r10","fieldMappings","areFieldsLoading","DataImportMappingStepComponent_div_5_Template","_r33","autoMapping","onDefinitionTypeChange","definitionTypeOptions","definitionTypes","record","association","DataImportMappingStepComponent_adapt_rx_select_10_Template","_r37","selectedMatchDuplicateByFields","matchDuplicateByFields","shouldGenerateNewIdForDuplicateRecords","DataImportMappingStepComponent_adapt_rx_checkbox_13_Template","_r41","isSelected","dataOption_r38","index_r39","DataImportMappingStepComponent_div_16_Template","timeFormatExample","DataImportMappingStepComponent_ng_template_17_Template","option_r42","example","UploadDataFileStepComponent_adapt_rx_textfield_8_Template","_r3","updateWizardButtons","UploadDataFileStepComponent_div_9_Template","_c9","DataImportComponent_ng_template_5_Template","dataItem_r5","getRecordNames","DataImportComponent_ng_template_7_Template","_r8","dataItem_r6","showStatusInfo","ExportRecordStatusInfoComponent_ng_template_0_Template","ExportRecordStatusInfoComponent_div_2_div_2_Template","exportConfiguredNotProcessedMsg","ExportRecordStatusInfoComponent_div_2_adapt_alert_3_Template","ExportRecordStatusInfoComponent_div_2_Template","DataExportConfigurationComponent_div_11_adapt_rx_radiobutton_8_Template","$index_r4","clearFieldsSelection","definitionType_r10","index_r11","DataExportConfigurationComponent_div_11_rx_definition_picker_9_Template","definition_r3","DataExportConfigurationComponent_div_11_rx_definition_picker_10_Template","_r23","DataExportConfigurationComponent_div_11_div_12_adapt_rx_select_1_Template","criteria","options_r27","ctx_r32","ctx_r28","DataExportConfigurationComponent_div_11_div_12_Template","DataExportConfigurationComponent_div_11_button_15_Template","openExportingDataPreview","isPreviewDisabled","DataExportConfigurationComponent_div_11_Template","_r40","remove","onExpressionEvent","definitionFields$","dataFilterExpressionOptions","DataExportComponent_ng_template_5_Template","DataExportComponent_ng_template_7_Template","_c11","DL_DATA_IMPORT","archiveTrueValue","uploadFileStepId","temporaryStepConfig","attachmentTypes","xlsx","extension","zip","importJobName","uploadedOn","importJobDescription","dataFile","attachmentOut","attachmentType","archivedWorksheetFileName","isArchived","mappingConfig","dataStatuses","all","queued","new","processing","processed","stopping","stopped","errored","mergeOptions","generateNewIds","rejectDuplicates","generateNewIdsForDuplicates","updateRecords","replaceRecords","DataImportService","url","runLoadProcess","stopDataProcessing","getDataRecordWorksheet","recordId","getEmptyCurrentSheetDataMapConfig","sheetName","dataHandlingOptions","timeFormatOptions","duplicateHandlingOptions","matchDuplicateBy","handleDuplicateBy","ImportRecordStatusInfoComponent","rxTranslateService","rxJsonParserService","statusData$","dataRecordId","dataLoadProgressStatus","tryParseJson","statusInfo","updateTime","header","width","i4","i4$1","i7","DataExportService","isRecordDefinitionResponse","definitionResponse","isUndefined","startDataExport","instanceId","DataImportMappingStepComponent","dataImportService","dataExportService","rxRecordDefinitionCacheService","changeDetectorRef","rxWizardModalComponent","definitionNameService","rxAssociationDefinitionService","definitionType","RxDefinitionPickerType","availableDefinitionPickerStates","definitionButtonsGroups","RX_DEFINITION_PICKER","search","destroyed$","ReplaySubject","dataOptions","dateTimeFormatOptions","excelSheetName","currentExcelSheetConfiguration","context","excelSheetsConfiguration","Boolean","clonedConfigurationInstanceId","isClonedConfigMatched","getRefactoredClonedConfiguration","dataImportContext","dataImportConfigurations","sheets","getRecordDefinitionName","loadTargetAndOtherFields","setTypeFromExcelSheet","ngAfterViewInit","dataImportConfigurationForm","control","valueChanges","distinctUntilChanged","takeUntil","values","splice","sourceFieldName","setDefinitionTypeNameFromExcelSheet","getTypeFromExcelSheet","clearMappingFields","isAutoMapping","autoPopulateRequiredFields","requiredFieldNames","isDefinitionTypeRecord","sort","a","b","fieldOption","RecordFieldOption","defaultValue","localeCompare","fieldDefinition","isMappingFieldDefinitionRequired","_fieldId","nodeAName","nodeAKeys","nodeBName","nodeBKeys","generateAutoMappingFields","sortBy","fieldMap","matchedTargetField","String","targetFieldMappings","flatten","definitionName","getBundleId","showInvalidDefinitionSelectedMsg","clearDefinitionSelection","detectChanges","addErrorMessage","isStepActive","isCurrentStepActive","stepId","flow","alreadySelectedFields","preventDefault","onTabActivated","compact","defaultMatchByField","intersectionBy","lowerCase","areFieldMappingsInvalid","config","allowFinish","steps","invalid","disableNextButton","disableFinishButton","enableNextButton","enableFinishButton","markDirty","currentConfigurations","configuration","i7$1","i2$1","i8","_r5","UploadDataFileStepComponent","formBuilder","rxWizardService","isWorksheetProcessed","processCustomizedImport$","saveDataFileConfiguration","createdRecordInstanceId","getNew","updateRecordInstanceFields","create","recordInstanceResponse","withLatestFrom","timer","uploadedExcelFile","clonedRecordInstance","gotoNextStep","uploadedExcelSheets","removeStep","sheet","camelCase","addStep","clonedConfig","JSON","parse","fieldInstances","nonMatchedSheetNames","clonedSheet","excelSheet","buttons","confirmButton","dismissButton","deleteCreatedDataImportInstance","recordDeleted","markPristine","goToDataConfigurationStep","uploadDataFileForm","markAsDirty","next$","filter$1","saveDataloadFileAndProceedToConfigurations","group","Validators","isZipAttachmentUploaded","updateContext","importJobInfo","pristine","saveDataloadFile","markAsPristine","isCustomizedImportStarted","handleWorksheetNameInput","enable","disable","isZipExtension","controls","setValue","getAllowedTypes","fileName","pop","toLowerCase","delete","DataImportComponent","hostClass","loadDataFromSelectedRecords","grid","isNewOrStoppedRecord","icon","cloneDataImportConfiguration","deleteSelectedDataRecords","archiveSelectedDataRecords","areAllSelectedArchived","stopSelectedRecordProcessing","isProcessingOrQueuedRecord","every","newDataImport","selectedRecordInstanceId","dataloadWizardContext","finishButtonLabel","handlesNext","savePrepareDataImportConfiguration","loadDataFromFile","stopRecordProcessing","stopProcessingRequests$","deleteDataRequests$","archiveDataRequests$","displayId","getFirstSelectedRow","loadDataRequests$","definitionQualifiedName","join","recordNamesCellTemplate","statusInfoCellTemplate","alignment","RecordGridColumnAlignment","stringify","hostVars","hostBindings","i9","DataImportRegistrationModule","AdaptPopoverModule","AdaptTableModule","RxLineLoaderModule","AdaptRxSelectModule","ReactiveFormsModule","AdaptRxRadiobuttonModule","RxDefinitionPickerModule","AdaptRxCheckboxModule","DL_DATA_EXPORT","generatedFile","startTime","endTime","progressDetail","isArchive","configDescription","failed","ExportRecordStatusInfoComponent","dataExportProgressStatus","DataExportFiltersExpressionConfigurator","RxExpressionConfigurator","TranslateService","RxDefinitionNameService","RxRecordDefinitionCacheService","rxAssociationDefinitionCacheService","RxAssociationDefinitionCacheService","commonDataDictionary$","children","expression","geDataDefinitionField","recordOrAssociationDefinitionName","getAssociationDefinition","associationDefinitionResponse","nodeAId","fetchedRecordDefinitionName","commonDataDictionary","ExportDataPreviewComponent","gridContext","gridConfig","selectedFields","queryFilter","DataExportConfigurationComponent","rxFieldDefinitionService","rxRecordDefinitionService","rxExpressionEditorService","dockedPanelContext","index$","BehaviorSubject","recordDefinitionNames$","exportConfiguration","exportConfigName","exportConfigDescription","definitions","required","expressionConfigurator","configureForProperty","propertyPath","dataDictionary$","operators","getOperatorRowsByGroup","ExpressionOperatorGroup","getDataDictionary","getOperators","addDefinition","nextRowIndex","isCoreField","visibleOnPreviewPriority","criteriaFields","criteriaField","rowIndex","openEditor","path","legend","isSaveInProgress","saveExportConfiguration","name$","_r1","DataExportComponent","startDataExportProcess","archiveExportRecords","deleteExportRecords","exportRequests","newExport","openDockedPanel","DataExportRegistrationModule","AdaptAccordionModule","ExpressionFormControlModule","DL_DATA_TEMPLATES","templateName","dataLoadTemplateVersion","dataloadTemplateDescription","isActive","bundleFriendlyName","bundleId","DataTemplateEditorComponent","rxGlobalCacheService","isEditMode","applicationOptions$","getBundleDescriptors","bundleDescriptors","bundleDescriptor","friendlyName","templateRecordInstanceId","dataTemplateForm","dirty","version","setTemplateFormValues","take","saveTemplate","successCallback","DataTemplatesComponent","showDeprecated","deleteSelectedDataTemplate","editDataTemplate","createDataTemplate","DataTemplatesRegistrationModule","DataloadModule","ResultModalComponent_div_13_Template","details","ProcessDesignerFrameComponent_div_0_Template","RxProcessDesignerElementPickerComponent_span_6_Template","clearDefinition","RxApplyGridFilterActionName","RxApplyGridFilterViewActionService","execute","targetApi","applyFilters","filters","mode","throwError","RxError","RxApplyGridFilterViewActionDesignModelClass","RxViewDesignerActionModel","sandbox","viewDesignerFacade","ViewDesignerFacade","rxRecordGridDesignUtilsService","RxRecordGridDesignUtilsService","rxRecordGridFilterSelectHelperService","RxRecordGridFilterSelectHelperService","children$","actionProperties$","pluck","filterComponents","filtersJson","basicFilters","getBasicRecordGridFiltersFromChildData","updateActionProperties","skip","filterPayloads","getGridFilterComponentPayloads","setChildren","mode$","gridGuid$","extractGuidFromExpression","merge","ApplyGridFilterMode","gridProperties$","getComponent","RX_RECORD_GRID","recordDefinition$","gridColumns$","gridData","recordDefinitionFiltered$","recordDefinition","fieldIds","col","namedFilterOptionsMap$","getNamedFilterOptionsFromColumns","namedFilterOptions","setActionPropertyEditorConfig","getActionEditorConfig","getInitialProperties","initialProperties","getPropertiesByName","tooltip","Tooltip","maxWidth","component","ExpressionFormControlComponent","isRequired","RadioFormControlComponent","items","filterSelectControl","RecordGridFilterSelectControlComponent","primaryRecordDefinition","selectedFieldIds","anchorDisabled","emptyFilterMessageControl","ValidationFormControlComponent","text","messageType","MessageType","customStyle","val","matches","match","RxApplyGridFilterViewActionDefinitionAdapterService","rxRecordGridFilterHelperService","adaptDefinition","componentDefinitions","propertiesByName","recordGridFilters","parsedValue","RecordGridNamedFilterOptionKey","getRecordGridFilterDataFromPredefinedFilter","ApplyGridFilterViewActionModule","rxViewActionRegistryService","rxApplyGridFilterViewActionService","rxApplyGridFilterViewActionDefinitionAdapterService","rxViewActionDefinitionAdapterRegistryService","service","designModel","parameters","enableExpressionEvaluation","registerRuntimeAdapter","RX_OPEN_VIEW","actionName","modalSize","OpenViewActionModalSize","OpenViewActionType","launchBehavior","OpenViewActionLaunchBehavior","RxOpenViewActionService","adaptDockedPanelService","router","rxRuntimeViewUtilsService","rxViewActionUtilsService","inputParams","viewParams","isObject","isViewCancellable","viewDefinitionName","runtimeViewApi","modalData","onRegisterApi","presentation","notification","isCancellable","modalConfig","beforeDismiss","isCloseViewAction","catchError","blockKeyboard","RuntimeViewModalComponent","FullWidth","openFullWidth","CenteredModal","DockedLeftModal","defaults","direction","DockedPanelDirection","DockedRightModal","generateViewUrl","NewWindow","window","location","pathname","navigateByUrl","switchMapTo","RxAssociateViewActionService","rxAssociationInstanceService","rxOpenViewActionService","rxLogService","associatedRecordId","getInstanceIds","associationDefinitionName","instanceIds","associationDefinition","nodeAIds","nodeBIds","associationDefinitionRole","RX_ASSOCIATED_RECORD_NODE_SIDES","cardinality","RX_ASSOCIATION_DEFINITION","associateRecords","useDefaultRoles","nodeARole","nodeBRole","mapTo","Large","output","outs","out","extractRecordIds","uniq","debug","RxOpenViewDefinitionAdapterService","modalSizeMap","small","Small","medium","Medium","large","viewComponentDefinition","RX_OPEN_VIEW_MODAL_SIZE_OPTIONS","RX_OPEN_VIEW_TYPE_OPTIONS","RX_OPEN_VIEW_LAUNCH_BEHAVIOR_OPTIONS","RxOpenViewModelHelperService","getOpenViewInspector","presentationType","presentationModalSize","viewInputControls","param","isFullWidthType","isCenteredModalWithFullSize","RxDefinitionPickerComponent","SelectFormControlComponent","sortAlphabetically","TextFormControlComponent","RxOpenViewActionDesignModel","rxViewDefinitionCacheService","RxViewDefinitionCacheService","rxOpenViewModelHelperService","viewDefinitionName$","presentationType$","presentationModalSize$","getViewOutputParams","outputParams","setActionOutputDataDictionary","getOutputExpressionForPropertyPath","props","getActionProperties","getActionPropertyValue","setActionProperties","getViewInputParams","getViewDefinition","OpenViewActionModule","openViewDefinitionAdapterService","attributes","localizable","RuntimeViewModule","AdaptDockedPanelModule","RxAssociateViewActionDesignModel","RxAssociationDefinitionService","recordDefinitionName$","associationDefinitionName$","associationNameOptions$","getRecordAssociationDefinitions","associationDefinitions","associationDefinition$","shareReplay","isSymmetricalAssociation$","nodeBId","isManyToManyAssociation$","useDefaultRoles$","associationRoleOptions$","RxAssociatedRecordNodeSide","isSymmetricalAssociation","associationNameOptions","associationRoleOptions","isManyToManyAssociation","isDisabled","SwitchFormControlComponent","AssociateViewActionModule","rxAssociateViewActionService","ViewComponentPropertyType","RxAvcAssociateActionService","rxGuidService","recordInstances","outputsItem","extractRecordInstance","associationViewComponent","associate","source","recordInstanceFields","isFunction","convertFromDataPageRowToPlainRecordInstance","isNonEmptyString","isArray","dummyId","generate","isNewInstance","AvcAssociateActionModule","rxAvcAssociateActionService","hidden","RxCloseViewActionService","actAsCancel","viewApi","CloseViewActionModule","rxCloseViewActionService","editor","designType","RxDeleteRecordsViewActionService","isEmpty","records","castArray","recordIds","count","res","deleteObservables","i2$2","DeleteRecordsViewActionModule","rxDeleteRecordsViewActionService","editorOptions","RxDisassociateViewActionService","disassociatedRecordIds","disassociateRecords","RxDisassociateViewActionDesignModel","DisassociateViewActionModule","rxDisassociateViewActionService","ResultModalComponent","activeModelRef","hasActionResultDetails","prop","successCount","warningCount","errorCount","i2$3","RxEditRecordsDataService","rxCommandFactoryService","editRecordsCommand","forResourceType","editRecords","preparedRecordData","showActionResults","actionResults","runAction","recordInstanceIds","prepareRecordData","commandInstance","attachments","file","keys","prepareActionResults","Promise","resolve","cleanUnchangedFields","forIn","isNull","prepareFiles","keyPrefix","has","cleanFiles","hasOwnProperty","prepareAssociationInstancesForSaving","associationInstances","associationInstance","associationGroups","role","nodeSide","RX_RECORD_INSTANCE","pick","shouldOverrideOptimisticLock","associationOperations","requestData","updatedInstanceIdsCount","detailsMessageLabel","infoCount","messages","RX_ERROR_HANDLING","recordInstanceId","convertMessageToString","newLine","messageText","appendedText","RxEditRecordsViewBuilder","rxDefaultRecordEditorInputType","rxSystemConfigurationService","columnDescriptors","closeButtonId","containerId","recordEditorId","saveButtonId","viewDefinitionId","recordEditorComponentDefinitions","getComponentDefinitions","layout","outlets","RX_VIEW_DEFINITION","height","RxViewComponentType","RecordEditorMode","componentDefinition","getConfigurationSync","RX_ADMINISTRATION","columnDescriptor","fieldContainerComponentDefinitions","getFieldContainerComponentDefinitions","rowWrap","ContainerRowWrap","columnCount","isSystemField","componentType","isAssociated","associationDescriptor","getFieldTypeByFieldDefinition","associatedRecordNodeSide","editingMode","RxAssociationEditingMode","reduce","fieldComponentDefinition","fieldComponentDefinitions","slice","span","RxEditRecordsViewActionService","rxEditRecordsViewBuilder","rxEditRecordsDataService","rxRecordGridUtilsService","openViewAction","getColumnDescriptors","localizedViewTitle","localizedViewNotification","viewOutput","EditRecordsViewActionModule","rxEditRecordsActionService","AdaptIconModule","RxLaunchProcessViewActionDesignManagerService","rxProcessDefinitionService","rxViewExpressionValidatorService","validate","properties","propertyName","processDefinitionName","processDefinition","validateInputParams","validateInputParamExpressions","actionParams","issuePropertyName","processInputParams","actionDescriptor","issues","processInputParam","issue","defaultIfEmpty","validationIssues","actionParamName","i3$2","i3$3","RxLaunchProcessViewActionDesignModel","rxProcessDefinitionCacheService","RxProcessDefinitionCacheService","defaultProps","waitForProcessCompletion","processDefinitionName$","getProcessDefinition","isEqual","getActionOutputDataDictionary","dataDictionary","synchronous","getOutputParams","fieldTypeName","RX_PROCESS_DEFINITION","recordInstanceParam","RxLaunchProcessViewActionService","rxProcessInstanceCommandsService","rxProcessInstanceService","processId","processDefinitionOutputParams","start","actionProcessInputParams","headers","last","plainOutputParams","processOutputVariables","outputResult","variableValue","variableName","recordInstanceOutputData","fieldInstance","warning","LaunchProcessViewActionModule","rxLaunchProcessViewActionService","rxLaunchProcessViewActionDesignManagerService","designManager","RxLaunchUrlViewActionService","RX_LAUNCH_BEHAVIOR","target","RxLaunchUrlViewActionDesignModel","RxLaunchUrlViewActionDefinitionAdapterService","LaunchUrlViewActionModule","rxLaunchUrlViewActionService","rxLaunchUrlActionDefinitionAdapterService","RxRefreshViewActionService","RefreshViewActionModule","rxRefreshViewActionService","RxSaveViewActionService","closeAfterSave$","concat","closeAfterSave","SaveViewActionModule","rxSaveViewActionService","RxSetPropertyViewActionService","executionResult","componentApi","setProperty","propertyValue","isObservable","RxSetPropertyViewActionExpressionConfigurator","RxViewActionExpressionConfigurator","actionType","actionGuid","RxViewDataDictionaryService","settablePropertiesDataDictionary$","RxSetPropertyViewActionDesignModel","descriptor","RxSetPropertyViewActionDesignManagerService","actionProperties","SetPropertyViewActionModule","rxSetPropertyViewActionService","rxSetPropertyViewActionDesignManagerService","ProcessDesignerFrameComponent","rxApplicationLoaderService","rxBundleCacheService","domSanitizer","rxUtilityModalsService","isProcessDesignerLoadingInProgress","isDefinitionDirty","localStorage","setItem","paletteElements","iframeSrc","bypassSecurityTrustResourceUrl","onMessage","RX_DESIGNER","payload","confirmUnsavedChanges","isConfirmed","closeProcessDesigner","clearCache","i4$2","RxLaunchProcessDesignerActionService","defer","RxProcessDesignerElementPickerComponent","ValueAccessor","rxDesignerStencilBuilder","rxProcessElementsService","renderer","selection","paletteElementsControl","innerValue","selectedPaletteElements","buildElementsTree","getProcessElements","processElementsTree","expanded","allChildElementsSelected","element","selectedPaletteElement","stencilElements","updatePickerFakeInputValue","onSelectionChange","node","selectedPaletteElementsByLabel","e","stopPropagation","setDropdownWidth","dropdownButton","selectRootElement","nativeElement","dropdownWidth","Math","max","clientWidth","provide","NG_VALUE_ACCESSOR","useExisting","multi","ProcessDesignerElementPickerModule","AdaptTreeModule","exports","LaunchProcessDesignerActionDesignModelClass","DefinitionPickerOrExpressionFormControlComponent","RxLaunchProcessDesignerExpressionEvaluatorService","rxDefaultExpressionEvaluatorService","evaluate","evaluatedExpression","parseExpression","parsedExpression","LaunchProcessDesignerActionModule","rxLaunchProcessDesignerActionService","rxLaunchProcessDesignerExpressionActionEvaluatorService","evaluatorService","RxProcessApiModule","RxIframeModule","RxUnknownViewActionService","RxUnknownViewActionDesignManager","RxUnknownViewActionDesignModel","UnknownViewActionModule","rxUnknownViewActionService","rxUnknownViewActionDesignManager","ViewActionsModule","RxApplyGridFilterViewActionDesignManagerService","applyGridFilterActions$","getComponentsByType","components","comp","refCount","bufferSize","gridGuids$","action","guids","updateActionFiltersOnGridColumnsChange$","gridGuids","actionsToUpdate$","gridGuid","getActionsToUpdate","clearFiltersOnGridDefinitionChange$","getGridDefinitionChanges","actionComponent","updatedActionComponent","updateComponentProperties","getGridColumnChanges","actionsWithFilters$","getChildComponents","actionComponents","gridColumnIds","componentsToUpdate","getUpdatedFilterComponents","getComponentPropertyValue","Array","filterComponentsForColumns","updatedFilterComponents","newFilterData","denormalizeFilterString","filterValidation","ApplyGridFilterViewActionDesignModule","rxApplyGridFilterViewActionDesignManagerService","registerDesignManager","ViewActionsDesignModule","a1","ActionButtonComponent_button_0_Template","_r2","click","buttonType","cls","buttonLabel","ButtonBarDropdownItemComponent_button_0_Template","ButtonBarComponent_div_0_div_1_Template","buttonLayout_r3","showInDropdown","ButtonBarComponent_div_0_div_2_ng_container_4_rx_button_bar_dropdown_item_component_1_Template","buttonLayout_r7","runtimeViewModelApi","ButtonBarComponent_div_0_div_2_ng_container_4_Template","ButtonBarComponent_div_0_div_2_Template","childLayouts","trackByFn","ButtonBarComponent_div_0_Template","alignClass","isDropdownVisible","ContainerCanvasItemComponent_as_split_area_2_Template","_r6","onDropListDropped","column_r1","colIndex_r2","isReadOnly","FieldSelectorComponent_div_12_div_5_Template","availableField_r4","selectedFieldIdsModel","updateApplyButtonDisabledStatus","ctx_r3","FieldSelectorComponent_div_12_Template","_r9","availableFieldsGroup_r2","select","groupLabel","selectAllFieldsInGroupButtonLabel","trackById","FieldSelectorComponent_div_13_Template","FieldsInspectorWidgetComponent_span_5_Template","FieldsInspectorWidgetComponent_div_8_span_8_Template","_r7","field_r3","removeField","FieldsInspectorWidgetComponent_div_8_Template","componentName","RecordEditorDesignComponent_adapt_empty_state_0_Template","RecordEditorComponent_div_0_Template","RecordEditorComponent_div_1_Template","RecordEditorComponent_div_2_button_2_Template","switchToEditState","RecordEditorComponent_div_2_button_4_Template","onSaveClick","RecordEditorComponent_div_2_button_5_Template","_r11","onCancelClick","RecordEditorComponent_div_2_Template","isEditStateAvailable","isSaveButtonAvailable","isCancelButtonAvailable","RxRecordPreviewCardComponent_li_2_span_1_Template","field_r2","RxRecordPreviewCardComponent_li_2_span_2_Template","RxRecordPreviewCardComponent_li_2_Template","isEditableState","RxRecordPreviewCardComponent_button_3_Template","onDelete","RxAssociationComponent_rx_read_only_field_0_Template","getAssociatedValue","RxAssociationComponent_div_1_div_1_adapt_rx_control_label_1_Template","RxAssociationComponent_div_1_div_1_div_2_Template","RxAssociationComponent_div_1_div_1_div_3_div_2_div_1_Template","existingPreviewConfigurations","pendingPreviewConfigurations","RxAssociationComponent_div_1_div_1_div_3_div_2_Template","RxAssociationComponent_div_1_div_1_div_3_div_3_rx_record_preview_card_2_Template","previewCardConfig_r13","RxAssociationComponent_div_1_div_1_div_3_div_3_button_3_Template","_r15","loadExistingAssociations","RxAssociationComponent_div_1_div_1_div_3_div_3_Template","associationManager","totalExistingCount","deleted","RxAssociationComponent_div_1_div_1_div_3_Template","cardinalityType","cardinalityTypes","One","RxAssociationComponent_div_1_div_1_div_4_div_1_rx_record_preview_card_10_Template","previewCardConfig_r20","RxAssociationComponent_div_1_div_1_div_4_div_1_button_11_Template","RxAssociationComponent_div_1_div_1_div_4_div_1_Template","_r24","deleteAllExisting","ctx_r16","areActionsAvailable","RxAssociationComponent_div_1_div_1_div_4_div_2_rx_record_preview_card_14_Template","previewCardConfig_r27","RxAssociationComponent_div_1_div_1_div_4_div_2_button_15_Template","_r29","showPendingAssociations","RxAssociationComponent_div_1_div_1_div_4_div_2_Template","deleteAllPending","ctx_r17","totalPendingCount","getPendingPreviewConfigurations","currentPendingCount","RxAssociationComponent_div_1_div_1_div_4_Template","RxAssociationComponent_div_1_div_1_Template","isReadModeEnabled","isEditModeEnabled","RxAssociationComponent_div_1_div_2_div_1_Template","formControl","modelToViewValueAdapterFunc","optionLoaderFunc","viewToModelValueAdapterFunc","RxAssociationComponent_div_1_div_2_Template","RxAssociationComponent_div_1_Template","AssociationRecordFieldSelectorEditorDialogComponent_div_2_div_6_ng_template_2_div_0_Template","_r13","field_r9","addField","AssociationRecordFieldSelectorEditorDialogComponent_div_2_div_6_ng_template_2_Template","AssociationRecordFieldSelectorEditorDialogComponent_div_2_div_6_Template","availableFieldTreeNodes","treeWrap","AssociationRecordFieldSelectorEditorDialogComponent_div_2_ng_template_7_Template","AssociationRecordFieldSelectorEditorDialogComponent_div_2_Template","AssociationRecordFieldSelectorEditorDialogComponent_div_7_Template","_r18","toggleOpen","AssociationRecordFieldSelectorEditorDialogComponent_div_10_div_7_Template","_r27","ctx_r26","field_r20","index_r21","ctx_r25","onMoveDown","ctx_r29","onMoveUp","onRemove","last_r23","first_r22","AssociationRecordFieldSelectorEditorDialogComponent_div_10_Template","_r34","isOpen","labelText","canSave","fieldLabelsMap","AssociationRecordFieldSelectorEditorDialogComponent_div_11_Template","AssociationRecordFieldSelectorEditorDialogComponent_button_13_Template","_r39","onSave","AssociationRecordFieldSelectorFormControlComponent_ul_4_li_1_Template","editField","AssociationRecordFieldSelectorFormControlComponent_ul_4_Template","RxAssociationDesignContainerComponent_rx_canvas_item_0_Template","layout_r1","RxAssociationDesignComponent_div_2_li_17_span_1_Template","RxAssociationDesignComponent_div_2_li_17_span_2_Template","RxAssociationDesignComponent_div_2_li_17_Template","RxAssociationDesignComponent_div_2_Template","model","label$","containerComponent","hidePlaceholder","displayedFields$","RxAssociationDesignComponent_div_3_Template","_c10","AttachmentFieldComponent_ng_container_0_ng_container_1_div_1_adapt_downloader_3_Template","readStateConfig","AttachmentFieldComponent_ng_container_0_ng_container_1_div_1_Template","getDisplayValue","AttachmentFieldComponent_ng_container_0_ng_container_1_Template","AttachmentFieldComponent_ng_container_0_Template","inReadState","AttachmentFieldComponent_ng_template_1_Template","removeAttachment","addAttachment","onBlur","selectionMode","filesCount","maxFileSize","chunkSize","texts","attachmentFormControl","AttachmentFieldComponent_ng_template_3_Template","BooleanFieldDesignComponent_ng_container_0_span_5_Template","BooleanFieldDesignComponent_ng_container_0_Template","booleanValue","isRequired$","BooleanFieldDesignComponent_ng_container_1_Template","_c12","BooleanFieldComponent_ng_container_0_rx_read_only_field_1_Template","BooleanFieldComponent_ng_container_0_Template","BooleanFieldComponent_ng_template_1_Template","isHidden","shouldDisplayAsCheckbox","DateFieldComponent_ng_container_0_rx_read_only_field_1_Template","DateFieldComponent_ng_container_0_Template","DateFieldComponent_ng_template_1_Template","DateTimeFieldComponent_ng_container_0_rx_read_only_field_1_Template","DateTimeFieldComponent_ng_container_0_Template","DateTimeFieldComponent_ng_template_1_Template","pickerMode","_c13","IntegerFieldComponent_ng_container_0_rx_read_only_field_1_Template","IntegerFieldComponent_ng_container_0_Template","IntegerFieldComponent_ng_template_1_Template","onFocus","counterFormControl","minValue","maxValue","DecimalFieldComponent_ng_container_0_rx_read_only_field_1_Template","DecimalFieldComponent_ng_container_0_Template","DecimalFieldComponent_ng_template_1_Template","SelectionFieldDesignComponent_adapt_rx_select_0_Template","SelectionFieldDesignComponent_ng_container_1_span_5_Template","SelectionFieldDesignComponent_ng_container_1_adapt_rx_radiobutton_8_Template","SelectionFieldDesignComponent_ng_container_1_Template","isRadioButtonMode","SelectionFieldComponent_ng_container_0_rx_read_only_field_1_Template","SelectionFieldComponent_ng_container_0_Template","SelectionFieldComponent_ng_template_1_adapt_rx_radiobutton_group_0_adapt_rx_radiobutton_1_Template","item_r7","isLast_r8","SelectionFieldComponent_ng_template_1_adapt_rx_radiobutton_group_0_Template","selectOptions","SelectionFieldComponent_ng_template_1_adapt_rx_select_1_Template","_r10","onPopupStatusChange","selectFormControl","SelectionFieldComponent_ng_template_1_Template","SelectGroupFieldComponent$1_ng_container_0_rx_read_only_field_1_Template","SelectGroupFieldComponent$1_ng_container_0_Template","SelectGroupFieldComponent$1_ng_template_1_Template","showDefaultTitle","_c15","iconName","placement","popoverMode","SelectGroupFieldComponent_adapt_rx_textfield_4_Template","sourceRecordDefinitionDisplayName","_c17","SelectGroupFieldComponent_adapt_rx_select_5_Template","onSelectFilterField","filterField","filterFieldIdOptions","fieldformGroup","_c18","FieldSetFormControlComponent_div_2_button_2_Template","index_r2","FieldSetFormControlComponent_div_2_Template","formGroupControl_r1","targetFieldOptions","SelectGroupDesignComponent_ng_template_0_adapt_rx_textfield_0_Template","isFieldRequired","SelectGroupDesignComponent_ng_template_0_Template","fieldsDesignData$","SelectGroupDesignComponent_ng_template_2_Template","TextFieldComponent_ng_container_0_rx_read_only_field_1_Template","TextFieldComponent_ng_container_0_Template","TextFieldComponent_ng_template_1_adapt_rx_textfield_0_Template","isPasswordField","maxLength","TextFieldComponent_ng_template_1_rx_select_with_pagination_1_Template","onToggleDropdown","isMultipleSelectionEnabled","TextFieldComponent_ng_template_1_Template","isNamedListAttached","TextFieldComponent_ng_template_3_div_1_span_1_Template","contextualFieldValue_r13","TextFieldComponent_ng_template_3_div_1_Template","option_r10","contextualFields","TextFieldComponent_ng_template_3_Template","TextareaFieldComponent_ng_container_0_rx_read_only_field_1_Template","TextareaFieldComponent_ng_container_0_Template","TextareaFieldComponent_ng_template_1_Template","TimeFieldComponent_ng_container_0_rx_read_only_field_1_Template","TimeFieldComponent_ng_container_0_Template","TimeFieldComponent_ng_template_1_Template","ExtensionContainerSectionComponent_rx_runtime_view_canvas_outlet_3_Template","RichTextareaFieldDesignComponent_span_4_Template","RichTextareaFieldComponent_ng_container_0_div_1_Template","ckEditorConfig","ckEditorType","RichTextareaFieldComponent_ng_container_0_Template","RichTextareaFieldComponent_ng_template_1_Template","hasUIErrorState","errors","touched","LocalizedCharacterFieldComponent_ng_container_0_rx_read_only_field_1_Template","LocalizedCharacterFieldComponent_ng_container_0_Template","LocalizedCharacterFieldComponent_ng_template_1_Template","selectLocalizedValue","ColumnEditorAlignmentComponent_label_1_Template","selectionValue_r1","RecordGridCellDisplayPropertiesEditorComponent_button_5_Template","addCellProperties","RecordGridCellDisplayPropertiesEditorComponent_div_7_Template","RecordGridCellDisplayPropertiesEditorComponent_div_8_div_2_div_1_Template","RecordGridCellDisplayPropertiesEditorComponent_div_8_div_2_div_8_Template","_r21","index_r14","ctx_r19","moveCellProperties","ctx_r22","ctx_r24","removeCellProperties","last_r16","first_r15","_c19","active","RecordGridCellDisplayPropertiesEditorComponent_div_8_div_2_Template","_r28","props_r13","openExpressionEditor","ctx_r31","resetIconAndTextProps","toggleProp","ctx_r12","queryExpressionOptions","badgeColors","iconPickerOptions","iconPositions","textColors","backgroundColors","fontSizes","RecordGridCellDisplayPropertiesEditorComponent_div_8_Template","onSelectedCellPropertyDrop","propsFormArray","RecordGridCellDisplayPropertiesEditorComponent_div_9_Template","RecordGridCellDisplayPropertiesEditorComponent_button_11_Template","_r43","RecordGridCellDisplayPropertiesEditorComponent_ng_template_16_Template","option_r44","colorsList","RecordGridCellDisplayPropertiesComponent_span_4_Template","RecordGridCellDisplayPropertiesComponent_span_5_Template","RecordGridNamedFilterOptionsEditorModalComponent_button_4_Template","addNamedFilterOption","RecordGridNamedFilterOptionsEditorModalComponent_div_5_Template","RecordGridNamedFilterOptionsEditorModalComponent_div_6_div_2_div_1_Template","RecordGridNamedFilterOptionsEditorModalComponent_div_6_div_2_div_8_Template","_r19","moveNamedFilterOption","ctx_r20","removeNamedFilterOption","last_r14","first_r13","RecordGridNamedFilterOptionsEditorModalComponent_div_6_div_2_Template","_r26","namedFilterOption_r11","accordionTabs","RecordGridNamedFilterOptionsEditorModalComponent_div_6_Template","_r30","onSelectedNamedFilterOptionDrop","namedFilterOptionsFormArray","RecordGridNamedFilterOptionsEditorModalComponent_div_7_Template","RecordGridNamedFilterOptionsEditorModalComponent_button_9_Template","_r32","_c20","RecordGridNamedFilterOptionsComponent_span_3_Template","RecordGridNamedFilterOptionsComponent_div_5_Template","RecordGridNamedFilterOptionsComponent_ul_6_li_1_button_4_Template","option_r4","removeFilterOption","RecordGridNamedFilterOptionsComponent_ul_6_li_1_Template","index_r5","editNamedFilterOption","RecordGridNamedFilterOptionsComponent_ul_6_Template","_c21","_c22","_c23","_c24","RecordGridColumnEditorModalComponent_div_2_div_7_ng_template_3_span_0_Template","node_r9","RecordGridColumnEditorModalComponent_div_2_div_7_ng_template_3_div_1_Template","onAssociatedAvailableColumnsDragStarted","addColumn","availableColumn","RecordGridColumnEditorModalComponent_div_2_div_7_ng_template_3_Template","_c25","RecordGridColumnEditorModalComponent_div_2_div_7_Template","onNodeExpand","filteredColumns","availableColumnsTree","RecordGridColumnEditorModalComponent_div_2_div_8_Template","RecordGridColumnEditorModalComponent_div_2_Template","isTreeEmpty","RecordGridColumnEditorModalComponent_adapt_accordion_10_div_1_div_2_Template","RecordGridColumnEditorModalComponent_adapt_accordion_10_div_1_div_9_button_4_Template","index_r25","ctx_r37","removeColumn","RecordGridColumnEditorModalComponent_adapt_accordion_10_div_1_div_9_Template","_r42","ctx_r40","moveColumn","ctx_r43","ctx_r45","last_r27","first_r26","ctx_r30","isActionsColumn","RecordGridColumnEditorModalComponent_adapt_accordion_10_div_1_ng_container_10_div_1_Template","RecordGridColumnEditorModalComponent_adapt_accordion_10_div_1_ng_container_10_Template","RecordGridColumnEditorModalComponent_adapt_accordion_10_div_1_ng_template_11_ng_container_3_div_1_span_5_Template","columnProperty_r51","RecordGridColumnEditorModalComponent_adapt_accordion_10_div_1_ng_template_11_ng_container_3_div_1_Template","_r58","onColumnCheckboxPropertyChange","ctx_r52","isPropertyEditable","RecordGridColumnEditorModalComponent_adapt_accordion_10_div_1_ng_template_11_ng_container_3_rx_column_editor_alignment_2_Template","_r66","ctx_r53","_c26","RecordGridColumnEditorModalComponent_adapt_accordion_10_div_1_ng_template_11_ng_container_3_Template","RecordGridColumnEditorModalComponent_adapt_accordion_10_div_1_ng_template_11_rx_select_form_control_6_Template","_r71","typeaheadKeystrokeCount","ctx_r49","typeaheadKeystrokeCountOptions","RecordGridColumnEditorModalComponent_adapt_accordion_10_div_1_ng_template_11_rx_expression_form_control_7_Template","_r77","additionalQueryCriteria","_r74","openAdditionalQueryCriteriaExpressionEditor","ctx_r50","additionalQueryCriteriaExpressionOptions","RecordGridColumnEditorModalComponent_adapt_accordion_10_div_1_ng_template_11_Template","_r83","cellDisplayProperties","ctx_r33","columnProperties","trackByForColumnProperties","columnWidthPropertyOptions","namedListDefinition","RecordGridColumnEditorModalComponent_adapt_accordion_10_div_1_ng_template_13_div_4_Template","_r102","actionsColumnProperty_r99","ctx_r98","RecordGridColumnEditorModalComponent_adapt_accordion_10_div_1_ng_template_13_Template","_r107","ctx_r35","actionsColumnProperties","RecordGridColumnEditorModalComponent_adapt_accordion_10_div_1_Template","_r114","onColumnDragStarted","ctx_r23","RecordGridColumnEditorModalComponent_adapt_accordion_10_Template","trackByForColumns","RecordGridColumnEditorModalComponent_div_11_Template","RecordGridColumnEditorModalComponent_button_13_Template","_r118","saveChanges","RecordGridColumnEditorControlComponent_div_3_span_2_Template","RecordGridColumnEditorControlComponent_div_3_div_3_button_4_Template","column_r4","RecordGridColumnEditorControlComponent_div_3_div_3_button_5_Template","RecordGridColumnEditorControlComponent_div_3_div_3_span_8_Template","_c27","RecordGridColumnEditorControlComponent_div_3_div_3_Template","fallbackTitle","getColumnResourceTypeName","RecordGridColumnEditorControlComponent_div_3_Template","columns_r1","getSortedColumns","RxNamedFilterOptionsListComponent_div_0_adapt_rx_checkbox_1_Template","namedFilterOptionsModel","onNamedFilterOptionChange","RxNamedFilterOptionsListComponent_div_0_Template","trackByOptionGuid","RxBooleanFilterComponent_rx_named_filter_options_list_0_Template","filterOption","filterControlsComponent","RxBooleanFilterComponent_adapt_rx_select_1_Template","onValueChange","selectOptionFormatter","getSelectOptions","selectedValues","RxBooleanFilterComponent_ng_template_2_adapt_rx_radiobutton_3_Template","getBooleanTypeBlankValue","configsTexts","blankLabel","testID","isInputDisabled","RxBooleanFilterComponent_ng_template_2_Template","onValueChangeRequired","falseLabel","trueLabel","getBooleanTypeOptionParams","hasBlankValue","RxStringWithTypeAheadFilterComponent_rx_named_filter_options_list_0_Template","RxStringWithTypeAheadFilterComponent_div_4_Template","RxStringWithTypeAheadFilterComponent_ng_template_5_Template","tag_r6","tag","tmp_0_0","undefined","RxStringWithTypeAheadFilterComponent_ng_template_7_div_1_span_1_Template","contextualFieldValue_r10","RxStringWithTypeAheadFilterComponent_ng_template_7_div_1_Template","result_r7","RxStringWithTypeAheadFilterComponent_ng_template_7_Template","RxStringFilterComponent_rx_named_filter_options_list_0_Template","RxNumberFilterComponent_rx_named_filter_options_list_0_Template","RxDateTimeRangeFilterComponent_rx_named_filter_options_list_0_Template","RxDateTimeRangeFilterComponent_ng_container_2_Template","RxDateTimeRangeFilterComponent_ng_container_3_Template","RxDateTimeRangeFilterComponent_ng_container_4_Template","RxDateTimeRangeFilterComponent_ng_template_5_Template","onTimeTypeFilterOptionModelChange","datetimeTexts","RxDateTimeRangeFilterComponent_ng_template_7_Template","onDateTypeFilterOptionModelChange","RxDateTimeRangeFilterComponent_ng_template_9_Template","onDateTimeTypeFilterOptionModelChange","RxSelectionFilterComponent_rx_named_filter_options_list_0_Template","_c28","_c29","_c30","_c31","_c32","_c33","_c34","_c35","_c36","RxAdvancedFilteringFieldsProviderComponent_ng_template_0_Template","filterOption_r18","filterValue_r19","filterControlsComponent_r20","namedFilterOptionsGetter","RxAdvancedFilteringFieldsProviderComponent_ng_template_2_Template","filterOption_r21","filterValue_r22","filterControlsComponent_r23","RxAdvancedFilteringFieldsProviderComponent_ng_template_4_Template","filterOption_r24","filterValue_r25","filterControlsComponent_r26","RxAdvancedFilteringFieldsProviderComponent_ng_template_6_Template","filterOption_r27","filterValue_r28","filterControlsComponent_r29","RxAdvancedFilteringFieldsProviderComponent_ng_template_8_Template","filterOption_r30","filterValue_r31","filterControlsComponent_r32","RxAdvancedFilteringFieldsProviderComponent_ng_template_10_Template","filterOption_r33","filterValue_r34","filterControlsComponent_r35","ctx_r11","rxDatetimePickerMode","Time","RxAdvancedFilteringFieldsProviderComponent_ng_template_12_Template","filterOption_r36","filterValue_r37","filterControlsComponent_r38","ctx_r13","RxAdvancedFilteringFieldsProviderComponent_ng_template_14_Template","filterOption_r39","filterValue_r40","filterControlsComponent_r41","ctx_r15","DateTime","RxAdvancedFilteringFieldsProviderComponent_ng_template_16_Template","filterOption_r42","filterValue_r43","filterControlsComponent_r44","FilterTagsComponent_adapt_tag_1_Template","tag_r2","onRemoveFilterTag","tmp_2_0","FilterTagsComponent_span_3_div_5_Template","tag_r7","tmp_1_0","FilterTagsComponent_span_3_Template","restTagsDropdownPlacement","getTranslateParams","tags","getRestTagsCount","trackByForFilterTags","_c37","RecordGridFilterSelectControlComponent_ng_container_0_Template","onAdvancedFiltersChange","advancedFilterData","filterOptions","filterTexts","getTags","filtersExpressionsTags","tagsLimit","RecordGridFilterSelectControlComponent_ng_template_1_div_0_adapt_rx_radiobutton_4_Template","groupItem_r9","RecordGridFilterSelectControlComponent_ng_template_1_div_0_Template","onGroupFilterValueModelChange","getGroupFilterName","groupFilterValue","groupFilterItems","RecordGridFilterSelectControlComponent_ng_template_1_Template","_c38","RecordGridFilterPresetEditorModalComponent_button_4_Template","addFilterPreset","RecordGridFilterPresetEditorModalComponent_div_5_Template","RecordGridFilterPresetEditorModalComponent_div_10_div_8_Template","removeFilterPreset","RecordGridFilterPresetEditorModalComponent_div_10_div_11_Template","filterSelect","filterPreset_r11","filterSelectOptions","RecordGridFilterPresetEditorModalComponent_div_10_Template","getCheckPresetTitleDuplicateValidator","isOpenOrCloseAnimationProcessing","RecordGridFilterPresetEditorModalComponent_div_11_Template","RecordGridFilterPresetEditorModalComponent_button_13_Template","onSaveChangesClick","form","RecordGridFilterPresetEditorControlComponent_adapt_rx_control_label_0_Template","RecordGridFilterPresetEditorControlComponent_adapt_button_1_Template","RecordGridFilterPresetEditorControlComponent_div_3_button_4_Template","filterPreset_r6","RecordGridFilterPresetEditorControlComponent_div_3_button_5_Template","RecordGridFilterPresetEditorControlComponent_div_3_Template","RecordGridFilterPresetEditorControlComponent_span_4_Template","_c39","_c40","_c41","RecordGridRowActionEditorModalComponent_button_4_Template","addRowAction","RecordGridRowActionEditorModalComponent_div_5_Template","RecordGridRowActionEditorModalComponent_div_11_div_2_Template","RecordGridRowActionEditorModalComponent_div_11_div_9_Template","index_r13","moveRowAction","removeRowAction","last_r15","first_r14","RecordGridRowActionEditorModalComponent_div_11_Template","rowAction_r12","onRecordDefinitionChange","availableOnDevices","recordDefinitionPickerOptions","securityFieldDefinitions$","selectFormControlOptions","getExpressionFormControlOptions","availableOnDevicesFormControlOptions","RecordGridRowActionEditorModalComponent_div_12_Template","RecordGridRowActionEditorModalComponent_button_14_Template","_r46","saveActions","RxRecordGridRowActionEditorWidgetComponent_div_3_span_1_Template","RxRecordGridRowActionEditorWidgetComponent_div_3_div_2_Template","rowActions_r1","rowAction_r4","RxRecordGridRowActionEditorWidgetComponent_div_3_Template","trackByForRowActions","_c42","RecordGridSortEditorControlComponent_label_1_Template","RecordGridSortEditorControlComponent_adapt_rx_select_3_Template","onSelectModelChange","columnOptions_r3","selectedColumnOption","RecordGridSortEditorControlComponent_div_5_Template","setSortDirection","ColumnSortDirection","Asc","Desc","selectedSortDirection","_c43","RecordGridViewPresetColumnsModalComponent_div_13_div_1_Template","RecordGridViewPresetColumnsModalComponent_div_13_div_8_Template","column_r2","RecordGridViewPresetColumnsModalComponent_div_13_div_9_Template","_r12","index_r3","last_r5","first_r4","RecordGridViewPresetColumnsModalComponent_div_13_Template","RecordGridViewPresetColumnsModalComponent_button_15_Template","RecordGridEditViewPresetsModalComponent_div_13_adapt_tag_11_Template","RecordGridEditViewPresetsModalComponent_div_13_button_12_Template","preset_r2","openPresetColumnsModal","restCount","RecordGridEditViewPresetsModalComponent_div_13_Template","sortModel","onSortChange","presetName","sortEditorControlOptions","filterSelectControlOptions","RecordGridEditViewPresetsModalComponent_button_15_Template","RecordGridViewPresetsWidgetComponent_div_1_adapt_button_1_Template","RecordGridViewPresetsWidgetComponent_div_1_span_2_Template","RecordGridViewPresetsWidgetComponent_div_1_div_4_Template","preset_r7","RecordGridViewPresetsWidgetComponent_div_1_Template","presetsList_r1","currentPresetSelectorGuid","trackByGuid","_c44","_c45","RecordGridDesignComponent_adapt_empty_state_2_Template","RecordGridDesignComponent_ng_template_4_Template","onBeforeViewComponentDrop","onSort","actionButtonDropPredicate","adaptTableConfig$","toolbarConfig","sortMeta","order","RecordGridDesignComponent_ng_template_6_div_1_Template","RecordGridDesignComponent_ng_template_6_Template","enableFiltering$","RecordGridDesignComponent_ng_template_8_Template","_c46","CardLayoutCellHeaderComponent_ng_template_7_div_9_Template","column_r5","onSortDescClick","onSortAscClick","getSortDescBtnClass","getSortAscBtnClass","CardLayoutCellHeaderComponent_ng_template_7_Template","clearAllSorting","close_r2","applySorting","getSortableColumns","getCurrentSortingSummary","_c47","_c48","_c49","_c50","_c51","_c52","_c53","RecordGridComponent_ng_template_2_div_2_Template","column_r31","onColumnVisibilityChange","RecordGridComponent_ng_template_2_adapt_empty_state_3_Template","RecordGridComponent_ng_template_2_Template","_r36","columnSearchText","onSearchColumns","filteredVisibleColumns","trackByColumnField","RecordGridComponent_ng_template_4_ng_container_1_Template","ctx_r38","getMultipleRowsSelectedText","RecordGridComponent_ng_template_4_ng_container_2_Template","loadTotalRowCount","ctx_r39","getMultipleRowsSelectedTextFirstPart","getLoadRecordCountLinkText","getMultipleRowsSelectedTextSecondPart","RecordGridComponent_ng_template_4_Template","isTotalRecordCountKnown","RecordGridComponent_ng_template_6_div_0_div_1_ng_template_1_Template","hidden_r47","actionButton_r44","ctx_r46","getActionButtonConfig","RecordGridComponent_ng_template_6_div_0_div_1_Template","_r45","RecordGridComponent_ng_template_6_div_0_Template","ctx_r42","RecordGridComponent_ng_template_6_Template","shouldDisplayActionButtons","_c54","RecordGridComponent_ng_template_8_adapt_advanced_filter_2_Template","_r54","onDeleteSavedFilterPreset","onCreateNewFilterPreset","onUpdateSavedFilterPreset","onActiveSavedAdvancedFilterChange","onBeforeActiveSavedFilterChange","onEditSavedFilterClick","onAdvancedFilterExpressionTagsChanged","context_r49","collapsed","savedFilters","enableFilterPresets","activeSavedFilter","isLoading","RecordGridComponent_ng_template_8_span_3_Template","ctx_r51","toolbarTags","_c55","RecordGridComponent_ng_template_8_Template","_r64","onRefreshClick","filterTagsLimit","RecordGridComponent_ng_template_10_div_0_ng_template_4_Template","_c56","_c57","RecordGridComponent_ng_template_10_div_0_Template","_r75","_r70","ctx_r74","column_r67","dataItem_r66","onCellClick","onCellMouseOver","ctx_r78","ctx_r68","isCellSelected","wrapText","customTemplate","RecordGridComponent_ng_template_10_div_1_ng_template_3_Template","RecordGridComponent_ng_template_10_div_1_Template","_r79","ctx_r82","ctx_r86","ctx_r69","RecordGridComponent_ng_template_10_Template","RecordGridComponent_ng_template_12_ng_container_0_Template","ctx_r94","column_r88","dataItem_r87","ctx_r89","getCellValue","RecordGridComponent_ng_template_12_a_1_Template","_r97","ctx_r96","ctx_r95","ctx_r99","ctx_r100","ctx_r90","RecordGridComponent_ng_template_12_a_2_Template","_r103","ctx_r102","gridEvents","cellClick","ctx_r105","cellKeyDown","ctx_r106","ctx_r91","RecordGridComponent_ng_template_12_a_3_Template","ctx_r107","ctx_r92","RecordGridComponent_ng_template_12_a_4_Template","ctx_r108","ctx_r93","RecordGridComponent_ng_template_12_Template","clickableWithHref","isDownloadableAttachment","RecordGridComponent_ng_template_14_Template","_r111","onSortCards","column_r109","ctx_r14","openSortByDialog","RecordGridComponent_ng_template_16_Template","column_r112","RecordGridComponent_ng_template_18_div_1_Template","column_r116","testId","RecordGridComponent_ng_template_18_Template","ctx_r18","visibleColumns","_c58","RecordGridComponent_ng_template_20_div_1_div_1_Template","dataItem_r119","RecordGridComponent_ng_template_20_div_1_div_2_Template","column_r122","ctx_r124","RecordGridComponent_ng_template_20_div_1_a_3_Template","_r134","ctx_r132","ctx_r136","ctx_r125","RecordGridComponent_ng_template_20_div_1_a_4_Template","_r143","ctx_r126","RecordGridComponent_ng_template_20_div_1_a_5_Template","ctx_r127","RecordGridComponent_ng_template_20_div_1_a_6_Template","ctx_r128","RecordGridComponent_ng_template_20_div_1_Template","isRowActionsColumn","RecordGridComponent_ng_template_20_button_2_Template","_r156","ctx_r155","onFilterBySelection","RecordGridComponent_ng_template_20_Template","_r159","ctx_r158","openRowDetails","isFilterBySelectionButtonVisible","RecordGridComponent_ng_template_22_div_1_div_3_Template","column_r163","getData_r161","ctx_r164","rowDataItem","RecordGridComponent_ng_template_22_div_1_div_4_Template","_r171","ctx_r169","ctx_r173","ctx_r165","RecordGridComponent_ng_template_22_div_1_div_5_Template","RecordGridComponent_ng_template_22_div_1_Template","RecordGridComponent_ng_template_22_Template","_r180","close_r160","RecordGridComponent_ng_template_24_Template","_r182","applyFilterBySelection","RecordGridComponent_ng_template_26_rx_action_button_3_Template","rowActionButton_r185","RecordGridComponent_ng_template_26_Template","_r187","dataItem_r183","onRowActionOpen","rowActionButtons","RecordGridComponent_ng_template_28_rx_action_button_5_Template","rowActionButton_r190","RecordGridComponent_ng_template_28_Template","_r193","dataItem_r188","RxTabContainerComponent_rx_runtime_view_canvas_outlet_0_Template","RxTabPanelComponent_adapt_tabset_0_ng_template_1_adapt_tab_panel_0_rx_runtime_view_canvas_item_1_Template","tab_r2","RxTabPanelComponent_adapt_tabset_0_ng_template_1_adapt_tab_panel_0_Template","canRenderContentForTab","RxTabPanelComponent_adapt_tabset_0_ng_template_1_rx_runtime_view_canvas_item_1_Template","RxTabPanelComponent_adapt_tabset_0_ng_template_1_Template","isHiddenTab","RxTabPanelComponent_adapt_tabset_0_Template","onActiveTabChanged","getActiveTabIndexForAdaptTabset","trackByForTabs","_c59","TabPanelDesignComponent_adapt_tab_panel_2_Template","component_r2","ImageComponent_div_0_img_1_Template","imageUrl","altText","ImageComponent_div_0_span_2_Template","ImageComponent_div_0_Template","alignmentStyle","isImageBroken","RenameViewPresetComponent_p_2_Template","ShareViewPresetComponent_div_5_Template","strings","maxRecipientsWarning","ShareViewPresetComponent_ng_template_19_Template","result_r3","emailAddress","ViewPresetSelectorComponent_ng_container_0_div_1_ng_container_5_div_1_Template","customPresetsTitle","ViewPresetSelectorComponent_ng_container_0_div_1_ng_container_5_button_2_adapt_icon_2_Template","sharedTooltip","ViewPresetSelectorComponent_ng_container_0_div_1_ng_container_5_button_2_Template","customViewPresetOption_r14","selectPreset","appliedViewPresetOption","userSharedViewPresetGuid","isSharingFeatureEnabled","ViewPresetSelectorComponent_ng_container_0_div_1_ng_container_5_div_3_Template","ViewPresetSelectorComponent_ng_container_0_div_1_ng_container_5_Template","customViewPresetOptions","ViewPresetSelectorComponent_ng_container_0_div_1_ng_container_6_button_5_Template","sharedViewPresetOption_r19","ViewPresetSelectorComponent_ng_container_0_div_1_ng_container_6_Template","onAddSharedPresetsClick","sharedPresetsTitle","addSharedViewPresets","sharedViewPresetOptions","ViewPresetSelectorComponent_ng_container_0_div_1_div_7_Template","systemPresetsTitle","ViewPresetSelectorComponent_ng_container_0_div_1_button_8_Template","systemViewPresetOption_r24","ViewPresetSelectorComponent_ng_container_0_div_1_span_9_Template","editedViewPresetTagLabel","ViewPresetSelectorComponent_ng_container_0_div_1_adapt_button_10_Template","saveViewPreset","viewPresetSelectorModel_r1","isOperationInProgress","saveLabel","ViewPresetSelectorComponent_ng_container_0_div_1_adapt_button_11_Template","saveAsViewPreset","saveAsLabel","ViewPresetSelectorComponent_ng_container_0_div_1_div_12_adapt_button_3_Template","discardViewPresetChanges","discardChangesButtonLabel","ViewPresetSelectorComponent_ng_container_0_div_1_div_12_adapt_button_4_Template","ctx_r34","ViewPresetSelectorComponent_ng_container_0_div_1_div_12_adapt_button_5_Template","renameViewPreset","renameLabel","ViewPresetSelectorComponent_ng_container_0_div_1_div_12_adapt_button_6_Template","ctx_r44","deleteViewPreset","ctx_r36","deleteLabel","ViewPresetSelectorComponent_ng_container_0_div_1_div_12_adapt_button_7_Template","_r47","shareViewPreset","shareLabel","ViewPresetSelectorComponent_ng_container_0_div_1_div_12_Template","isViewPresetEdited","isSystem","isShared","isSharingEnabled","ViewPresetSelectorComponent_ng_container_0_div_1_Template","systemViewPresetOptions","ViewPresetSelectorComponent_ng_container_0_Template","GainsightAdminOptInComponent_ng_container_0_Template","adaptAgreementState","useAdaptRadar","loadGainsightFromBmcIt","deploymentTypeOptions","environmentTypeOptions","vm_r3","GainsightAdminOptInComponent_ng_template_2_Template","ActionButtonStyle","DeprecatedActionButtonStyle","ActionButtonSize","ActionButtonIconAlignment","RxActionButtonService","getButtonType","Secondary","Tertiary","getIconCssClass","iconClass","iconAlignment","Left","ACTIONS_KEY","ActionButtonDesignModel","ViewDesignerComponentModel","arguments","componentProperties$","viewActionValidatorService","RxViewActionValidatorService","style$","size$","icon$","iconAlignment$","fieldDefinitions$","Default","Primary","RX_DISABLED_PROP_DEFAULT_VALUE","RX_STANDARD_PROPS_DEFAULT_VALUES","rxInit","componentProperties","getInspectorConfig","inspectorConfig","updateInspectorConfig","actions$","validateCssClassNames","RX_AVAILABLE_ON_DEVICES_PROP_NAME","validateAvailableOnDevicesProp","setValidationIssues","inspector","pairwise","oldName","newName","setBreadcrumbs","setSettablePropertiesDataDictionary","getExpressionForProperty","securitySectionControls","emptyOption","ExpressionInspectorControlComponent","inspectorSectionConfigs","IconPickerFormControlComponent","getDisabledFieldInspectorConfig","getStandardPropsInspectorConfigs","widgetName","ActionListWidgetComponent","ActionButtonDesignComponent","rxActionButtonService","iconCssClass$","iconCssName","buttonType$","changeDetection","ActionButtonAdapterService","deprecatedButtonStyles","Link","Clear","RX_LEGACY_ICONS","ActionButtonDesignModule","rxDefinitionAdapterRegistryService","actionButtonAdapterService","registerDesignAdapter","ViewDesignerCanvasModule","ActionListWidgetModule","IconPickerFormControlModule","ActionButtonComponent","isActionInProgress","className","notifyPropertyChanged","validateRecordDefinitionName","isHiddenFunc","isDisabledFunc","triggerViewActions","err","permissionType","buttonName","errorMessage","ActionButtonModule","RxButtonBarAlignment","RX_BUTTON_BAR","alignmentOptions","left","center","Center","right","Right","RxButtonBarService","getAlignClass","ButtonBarDropdownItemComponent","ɵButtonBarDropdownItemComponent_BaseFactory","ButtonBarComponent","elementRef","runtimeCanvasItemComponent","changeDetector","ngZone","rxButtonBarService","resize$","onResizeThrottled","throttle","onResize","getChildren","el","buttonConfigs","runOutsideAngular","resizeSensor","ResizeSensor","run","offsetWidth","detach","containerWidth","totalButtonsWidth","toggleButtonOffsetWidth","dropdownToggleButton","buttonItemsQueryList","containerFitsButton","floor","ceil","button","ElementRef","ButtonBarModule","RuntimeViewCanvasModule","ButtonBarDesignModel","hasChildren$","getChildComponentGuids","getInspector","dropPredicate","draggedViewComponentDescriptor","validateStandardProps","ButtonBarDesignComponent","ButtonBarDesignModule","ContainerComponent","tagName","ContainerComponentDefinitionAdapterService","viewDefinitionParserService","componentDefinitionType","containerComponentDefinition","getComponents","componentPair","componentDefinitionId","columnSpan","cssClass","child","outlet","columnClass","marginBottomClass","ContainerModule","containerComponentDefinitionAdapterService","ContainerCanvasItemComponent","CanvasItemContainerComponent","canvasItemApi","canvasOutletHelperService","maxNumberOfColumns","defaultGutterStep","percentSpanSize","gutterStep","columnResize","onWindowResize","setGutterStep","spans","setSpanSizes","onDragEnd","getPercentToSpanSizes","sizes","percentSizes","round","splitComponent","setVisibleAreaSizes","getSpanToPercentSizes","ViewDesignerCanvasItemApiToken","SplitComponent","isSelected$","trackByColFn","RX_CONTAINER","maxColumnSpan","rowWrapOptions","xs","Xs","sm","Sm","md","Md","lg","Lg","xl","Xl","xxl","Xxl","cssClassesAutocompleteValues","ContainerDesignModel","setLayout","getDefaultColumnSpans","setContainerLayout","columnSizes","columnSpans","times","getHiddenFieldInspectorConfig","getAvailableOnDevicesInspectorConfig","getStylesFieldInspectorConfig","ContainerDesignComponent","containerCanvasItemComponent","canvasOutletComponent","containerComponentInstance","CanvasOutletComponent","ContainerDesignModule","AngularSplitModule","DragDropModule","RECORD_EDITOR","fieldTypes","RecordEditorState","CardinalityType","FieldSelectorComponent","stringService","availableFieldGroups","hideSystemFields","isApplyButtonDisabled","selectedFieldDefinitionIds","availableFieldDefinitions","availableFields","groupFieldsByFieldOption","idsToModel","closeModal","modelToIds","fieldGroup","caseInsensitiveSearch","groupName","ids","recordField","xor","groups","groupBy","groupTypes","groupType","prettify","trackByLabel","selected","FieldsInspectorWidgetComponent","InspectorWidgetBase","encapsulateClass","focus","openModalButton","designerItemModel","childFieldIds$","recordFieldDefinitionItems$","isExtensionView$","concatMap","isExtensionView","hideBackdrop","customClass","updateSelectedFieldComponents","removeComponent","selectedFieldComponents$","RxRecordEditorDesignHelpersService","rxAssociationDefinitionDataPageService","rxViewDefinitionParserService","getRecordFieldDefinitionItems","viewComponentType","getViewComponentType","inRange","getComponentProperties","requiredPropertyNames","omitBy","childFieldIds","isAssociationRequired","createError","Edit","Create","createWarning","systemFieldNames","selectedFieldId","isLocalizedCharacterField","hasDefaultValue","isFinite","defaultValueByLocale","showReadOnlyState","recordFieldDefinitionItems","associationOptions","onBeforeModeChange","beforeValueChange","oldValue","newValue","GroupButtonFormControlComponent","Temporary","generalSectionControls","Read","OptionalExpressionInspectorControlComponent","formContentsSection","getAssociationOptions","firstRecordDefinitionName","secondRecordDefinitionName","getAssociations","nodeAModality","shouldCascadeDelete","getTargetRecordEditorProperties","viewDefinition","targetExtensionContainerGuid","targetRecordEditor","findParentComponentDefinition","confirmSystemFieldRemoval","getSystemFieldModelGuids","plainFieldModels","systemFieldGuids","isFieldComponent","i1$5","i1$6","i2$4","RecordEditorDesignModel","RxFieldDefinitionService","RxViewComponentRegistryService","rxRecordEditorDesignHelpersService","updateInspector$","showReadOnlyState$","targetExtensionContainerGuid$","getViewPropertyValue","targetViewDefinitionName$","childComponentGuids$","allChildFieldComponentGuids$","associationComponentGuids$","systemFieldComponentGuids$","mergeMap","initialProps","defaultState","allowEdit","RX_AVAILABLE_ON_DEVICES_DEFAULT_VALUE","targetRecordEditorProperties$","targetViewDefinitionName","associationOptions$","targetRecordEditorProperties","extensionRecordDefinitionName","isAssociationRequired$","_onBeforeModeChange","prevName","currentName","_setSettableProperties","_setCommonDataDictionary","removeComponents","fieldIdsToAdd","fieldComponentsToAdd$","fieldIdsSet","Set","componentGuidsToRemove","fieldComponentsToAdd","fieldGuidsToRemove","addComponent","_dropPredicate","canBeEmbeddedInRecordEditor","prevMode","currentMode","systemFieldComponentGuids","toPromise","_getComponentName","setCommonDataDictionary","_getCommonProps","_getRecordInstanceChildProps","autocompleteOptions","optionName","optionValue","RecordEditorDesignComponent","dropPredicateFn","FieldsInspectorWidgetModule","RecordEditorDesignModule","FormControlsModule","RxAssociationManagerService","rxAssociationInstanceDataPageService","extensions","existing","existingSubject$","existing$","asObservable","pendingSubject$","pending$","extensionsSubject$","extensions$","remainingAssociatedRecordCount","getExistingAssociationInstances$","getExistingAssociationInstances","share","canLoadAssociations","associatedRecordInstanceId","mergeFieldIds","initialize","isDataLoading","initialize$","getCardinalityType","allFieldIds","instances","instance","addToExisting","loadExtensions","getExtensionRecordInstance","extensionRecordInstance","addExtension","existingAssociation","isInExisting","isDefaultNodeRoleUsed","rolesConfig","addToPending","associations","Many","associationsForAppending","isInDeleted","isInPending","prototype","apply","previouslyDeletedAssociations","deletedAssociation","deleteFromExisting","restore","reset","associationId","deleteFromPending","associationIds","extendOptions","loadFullInstance","nodeToQuery","dataPageRow","createInstanceFromDataPageRow","useDefaultRoleNames","nodeARoleName","nodeBRoleName","getFieldIds","clone","removedAssociation","destroy","__decorate","__param","Optional","__metadata","RxAssociationInstanceDataPageService","RxRecordInstanceUtilsService","RxRecordInstanceService","RxJsonParserService","RxRecordEditorUtilsService","getComponentDefinitionsAsFlatList","flattenDeep","getSelectionFieldOptionNames","selectionFieldOptionNamesById","selectionFieldLocalizableStrings","localizableStringsByFieldId","localizableStringId","RecordEditorFormControl","FormControl","_touchedSubject","touched$","markAsTouched","opts","markAsUntouched","RecordEditorFormDelimiter","BASE_FORM_GROUP_KEY","RecordEditorForm","FormGroup","addFieldControl","initialValue","validator","asyncValidator","formGroup","addControl","getControlId","addAssociatedFieldControl","associatedRecordPath","associatedFormGroupName","associatedFormGroup","resetFieldControls","formStateByFieldId","prepareFormGroupState","syncFormControlValues","associatedFromGroupName","getControlsBoundToRecordField","isFieldValueEqual","formControlId","getFieldId","clearAndReset","forOwn","removeControl","markInvalidControlsAsTouched","getFormControl","RecordEditorComponent","rxRecordInstanceUpdateService","rxGlobalEventsService","rxRecordEditorUtilsService","recordEditorForm","rxAssociationManagerServiceFactory","isReady","notifyComponentReady","getFieldValue","getAssociationManager","getFieldControl","getAttachmentDownloadUrl","getPermissionType","getFieldInstanceProp","getRecordEditorMode","setFieldInstanceProp","isSaving","isReadOnlyStateAvailable","currentState","recordInstanceChangedSubject","notReadyComponentIds","associationManagers","recordInstanceChanged$","statusChanges","config$","updateCanSaveProperty","takeWhile","BulkEdit","initializeRecordInstance","isNoRecordFoundError","setRecordEditorState","isInEditMode","isNewAttachment","attachmentDownloadUrl","rolesConfigValues","associationManagerKey","getAssociationInstances","syncRecordInstanceWithForm","updateIsDirtyProperty","handleNoRecordFoundError","isInTemporaryMode","componentId","matchFieldInstanceId","shouldSwitchToEditState","getRecordInstance","isFieldValueChanged","updateSelectionFieldOptionNames","closeViewAfterSave","savingObservable$","isInCreateMode","set","viewActionsCompleted$","existingControl","recordInstanceValidator","getFieldInstanceControlValidator","observeOn","asyncScheduler","getFieldInstance","getFieldProp","setFieldProp","valid","restoreRecordEditor","isConfigValid","setRecordInstance","setRecordDefinition","asapScheduler","addWarningMessage","manager","validateSingleField","isInBulkEditMode","setFieldDefinitionsToOptional","fieldDefinitionsById","buildFieldDefinitionsByIdMap","getOriginalRecordInstance","getEmpty","rolesConfigKey","nodeSideRolesConfigKey","associationRecords","newSelectionFieldOptionNames","revertFieldInstances","RecordEditorComponentDefinitionAdapterService","recordEditorComponentDefinition","AssociationManagerFactory","RecordEditorModule","recordEditorComponentDefinitionAdapterService","RxModalModule","useFactory","deps","RxDefaultRecordEditorInputType","resourceTypeFieldTypeMap","initResourceTypeFieldTypeMap","RX_ASSOCIATION","createAndAssociate","componentTypes","associationFilter","associatedRecordField","RxRecordPreviewCardComponent","maxFieldValueLength","RxAssociationComponent","rxRecordDefinitionInheritanceDataPageService","extractRolesConfig","modelToViewValueAdapter","getAssociationsOptionPage","viewToModelValueAdapter","selectedOptions","pendingPageSize","associationCandidateRecordInstances","onConfigInitialized","onConfigUpdated","previewRolesConfig","Dropdown","startWith","updateSelectedOptions","Views","recordEditorApi","forceUpdatePreviewCardConfigState","updatePreviewCardConfigState","selectWithPaginationComponent","resetLoadedOptions","associationFilterNodeSide","recordDefinitionInheritanceDataPage","recordDefinitionAncestors","head","delay","onAssociationsChanged","updateTotalExistingAssociationsCount","fieldsIds","instanceDataPageService","modelValue","resetDropdownSelection","previewCardConfig","getStateForPreviewConfiguration","pendingAssociation","selectedRecordInstance","filedId","buildPreviewConfig","isString","getFirstAssociationRecord","configName","firstAssociatedRecord","associationsToPreview","rebuildPreviewConfigurations","RxSelectWithPaginationComponent","i2$5","RxAssociationDefinitionAdapterService","associationComponentDefinition","targetRecordEditorComponentDefinition","getTargetRecordEditorComponentDefinition","childButtons","childSortedButtons","extensionContainerComponentDefinition","parentComponentDefinition","AssociationModule","rxAssociationDefinitionAdapterService","AdaptRxFormControlModule","DatePipe","AssociationRecordFieldSelectorEditorDialogComponent","TreeWrap","field1","field2","fieldItem","indexOrder","fieldToEdit","refreshFieldDescriptorsList","onSelectedFieldsListDrop","pull","prevField","sortFields","nextAction","expandAll","filteredFieldDescriptors","fieldDescriptor","AssociationRecordFieldSelectorFormControlComponent","openFieldSelector","onSetValue","updateSortedFieldList","onWriteValue","AssociationRecordFieldSelectorEditorDialogModule","AdaptRxSearchModule","AssociationRecordFieldSelectorFormControlModule","AssociationDesignHelperService","getDropdownModeInspectorControls","recordDefinitionField","associationDefinitionFilters","associationDefinitionField","getDisplayedFieldsControl","recordDefinitionFields","getRecordIdControl","getUseDefaultRolesControl","getNodeABRoleControls","getViewModeInspectorControls","getInitialInspectorControls","displayedFields","filterByAssociation","viewDefinitionNameForCreate","viewDefinitionNameForSelect","getActionButtonDefinition","parentGuid","insertIndex","isCardinalityOne","getAvailableAssociations","getParametersForAssociation","requireDependent","recordDefinitionToAssociateName","getFieldsInChildComponentsWithNames","acc","fieldDescriptorItem","cleanEditingModeDependentData","getNodeSideOptions","resetRolesData","childComponents","AssociationDesignModel","RxGuidService","associationDesignHelperService","childComponents$","getChildComponentsTree","associationChildComponentsData$","getChildComponentsData","editingMode$","recordDefinitionFields$","updateRecordDefinitionFields","recordEditorGuid$","getParentComponentGuid","otherAssociationRecordEditorComponentGuids$","getComponentModel","recordDefinitionNameFromHostRecordEditor$","recordEditorGuid","recordDefinitionRecordEditorName","associationChildComponentsData","updateParameters","generateInitialUpdateParameters","childComponentGuids","concatMapTo","updateAssociationDefinitionsOptions","updateAssociationDefinitionsFilterOptions","updateAssociationNodeSideOptions","updatePreviousDropdownFieldDefinition","componentProps","recordDefinitionNameFromHostRecordEditor","previousProperties","updatedProperties","updatedParametersStreams","updateChildActionButtonDefinition","filterComponent","updateAssociationFilterComponent","updateComponentRecordFields","setIsManyToManyAssociation","prevFieldId","prevFieldDefinitionName","currentFieldDefinitionName","definitionDisplayName","filterNew","actionButtonComponent","viewDefinitionNameToUpdate","recordFields","associationFilters","createAndAssociateView","getViewDefinitionNameForAssociation","associateView","previousDropdownFieldDefinition","actionButton","getViewDefinitionNameFromActionButton","associatedRecordNodeSideOptions","associatedRecordName","associationDefinitionOptions","associatedRecordNames","componentGuid","RxAssociationDesignContainerComponent","RxAssociationDesignComponent","AssociationDesignAdapterService","_c","_d","_e","actionButtonGuids","adaptedProperties","AssociationDesignModule","associationDesignAdapterService","RX_BASE_FIELD_PROPERTIES","RX_AVAILABLE_ON_DEVICES_PROP_DESC","RX_FIELD_COMPONENTS","AssociationExpressionConfigurator","RxViewComponentExpressionConfigurator","componentModel","getCommonDataDictionary","getRecordEditorBranch","associationsBranch$","getComponentCommonDataDictionary","recordEditorBranch","associationsBranch","AssociationRegistrationModule","isContainerComponent","designComponentModel","designComponentFactory","canBeInsertedInto","configPropertyName","isDataComponent","BaseRecordEditorFieldDesign","pipeline","parentGuid$","recordEditorMode$","selectedFieldDefinition$","selectedFieldDefinition","isSystemField$","oldField","newField","availableFieldDefinitions$","recordEditorMode","fieldResourceTypes","getBreadcrumb","breadcrumb","getSettableProperties","initial","recordFieldsSelectItems","getBaseInspectorConfig","getBaseInspectorFields","selectedFieldDefinitions","displayName","AttachmentFieldDesignModel","AttachmentFieldDesignComponent","AttachmentFieldDesignModule","BaseRecordEditorFieldComponent","validationErrorMessage","configReady$","recordInstance$","subscribeOnConfigValueChange","getFieldValidators","checkValidation","updateValidationMessage","isAlwaysDisabled","isAlwaysHidden","submitterMode","RxSystemConfigurationService","updateValueAndValidity","getRequiredFieldValidationError","value$","setErrors","ɵdir","RX_ATTACHMENT_FIELD","defaultOptions","UploaderMode","UploaderSelectionMode","AttachmentFieldComponent","showFiles","downloadURL","maxSize","previous","addAttachedFileToAttachmentList","downloadAttachmentUrl","isUploading","first$1","UploaderFactory","UploaderService","AttachmentFieldModule","uploader","AttachmentFieldRegistrationModule","BooleanFieldEditingMode","BooleanFieldModelValue","BooleanFieldDesignModel","Switch","editInspectorConfig","valueControlIndex","editingModeControl","BooleanFieldDesignComponent","Checkbox","BooleanFieldDesignModule","BooleanFieldComponent","rxBooleanPipe","False","ngModel","NgModel","BooleanFieldModule","RxBooleanModule","BooleanFieldRegistrationModule","DateFieldDesignModel","DateFieldDesignComponent","dateValue","DateFieldDesignModule","AdaptRxDatetimeModule","DateAdapter","AdaptRxDatetimeAdapter","storeDateFormat","fromModel","dateString","adaptedValue","date","year","month","hours","minutes","seconds","toModel","parseError","ɵDateAdapter_BaseFactory","DateFieldComponent","rxDatetimeFormat","RxDatetimePickerMode","useClass","DateFieldModule","DateFieldRegistrationModule","DateTimeFieldDesignModel","DateTimeFieldDesignComponent","dateTimeValue","DateTimeFieldDesignModule","DateTimeAdapter","toISOString","ɵDateTimeAdapter_BaseFactory","DateTimeFieldComponent","hasSeconds","DateTimeFieldModule","DateTimeFieldRegistrationModule","DecimalFieldDesignModel","DecimalFieldDesignComponent","DecimalFieldDesignModule","IntegerFieldComponent","hasFocus","decimalPipe","DecimalPipe","fieldValue","bigNumberVal","BigNumber","eq","counterComponent","DecimalFieldComponent","precision","digitsInfo","ɵDecimalFieldComponent_BaseFactory","DecimalFieldModule","AdaptTextFieldFormBuilderModule","AdaptRxCounterModule","AdaptRxValidatorsModule","DecimalFieldRegistrationModule","decimalFieldComponentFactory","aliases","IntegerFieldDesignModel","IntegerFieldDesignComponent","IntegerFieldDesignModule","IntegerFieldModule","IntegerFieldRegistrationModule","RX_SELECTION_FIELD","radioButtons","dropdown","SelectionFieldDesignModel","SelectionFieldDesignComponent","setMode","SelectionFieldDesignModule","SelectionFieldMode","TextFieldMultiSelectionType","SelectionFieldComponent","getSelectValue","RadioButton","generateControlOptions","optionLabelsById","optionId","unshift","ɵSelectionFieldComponent_BaseFactory","SelectionFieldModule","SelectionFieldRegistrationModule","SelectGroupComponent","fieldComponents","Map","registerFieldComponent","fieldIndex","getValueForPreviousField","currentFieldIndex","resetValueForNextFields","nextFieldIndex","resetFieldValue","ɵSelectGroupComponent_BaseFactory","SelectGroupFieldComponent$1","selectGroupComponent","rxNamedListDefinitionService","rxNamedListService","getNamedListOptionPage","namedListDefinitionName","namedListDefinition$","valueChanges$","fieldIdToFilterBy","optionFilterFieldId","valueFieldId","updateSelectedOption","readOnlyValue","getOptionPage","getSelectionQueryCriteria","namedListOptions$","loadedOptions","namedListOptionCandidate","getOptionsForValues","triggerModelToViewValueUpdate","updateReadOnlyValue","queryCriteria","previousFieldValue","emitEvent","i2$6","SelectGroupComponentDefinitionAdapterService","childComponentDefinition","labelId","SelectGroupModule","viewComponentDefinitionAdapterRegistryService","selectGroupComponentDefinitionAdapterService","SelectGroupFieldComponent","rxNamedListDefinitionCacheService","definitionPickerOptions","onNamedListDefinitionNameChange","getNamedListDefinition","sourceRecordDefinitionName","setFilterId","setOptionFilterFieldIdOptions","setSourceRecordDefinitionDisplayName","fieldIdOptions","filterFieldId","onSelectField","FieldSetFormControlComponent","formArray","array","maxSelectGroupFieldCount","fieldProperties$","fieldModels","setDisabledState","valueChangeSubscription","formGroups","onFormValueChange","formValue","inspectorFieldModel","onFieldPropertiesChange","getFieldFormGroup","removeAt","isAddFieldButtonDisabled","SelectGroupDesignModel","inspectorTargetFieldOptions$","characterFieldDefinitions","fieldComponentsDesignData","inspectorTargetFieldOptions","fieldProperties","fieldComponentPayloads","getFieldComponentPayloads","validationErrorMessages","fieldsWithLabel","uniqBy","generalGroup","SelectGroupDesignComponent","SelectGroupDesignModule","SelectGroupRegistrationModule","TextFieldDesignModel","enableMultiSelection","getNamedListInspectorConfig","namedListFilterExpressionConfigurator","NamedListFilterExpressionConfigurator","enableMultiSelectionControl","additionalQueryCriteriaControls","TextFieldDesignComponent","TextFieldDesignModule","TextFieldExpressionConfigurator","ExpressionOperatorRowsByGroup","TextFieldComponent","fieldDefinitionService","multiSelectDelimiter","isDropdownOpen","shouldPersistHashed","Enabled","debounceTime","updateSelection","namedListFormattedValue","updateNamedListFormattedValue","getOptionValues","selectedOptionValues","selectedValue","visibleOptionsCount","TextFieldModule","TextFieldRegistrationModule","rxRecordQueryExpressionEvaluatorService","TextareaFieldDesignModel","TextareaFieldDesignComponent","TextareaFieldDesignModule","TextareaFieldComponent","TextareaFieldModule","TextareaFieldRegistrationModule","TimeFieldDesignModel","TimeFieldDesignComponent","timeValue","TimeFieldDesignModule","TimeAdapter","storeTimeFormat","hour","minute","ɵTimeAdapter_BaseFactory","TimeFieldComponent","readOnlyTimeValue","toDate","TimeFieldModule","TimeFieldRegistrationModule","RxExtensionContainerComponent","recordDefinitions","loadRecordDefinition","RxExtensionContainerHelperService","getSelectionFieldOptionNamesByIdExpression","ExtensionContainerSectionComponent","rxExtensionContainerComponent","rxExtensionContainerHelperService","recordEditorComponent","isInitialized","recordInstanceUpdated","addNewRecordInstanceToExtension","arr","inst","fieldValueChanged$","change","propName","RX_EXTENSION_CONTAINER","recordDefinitionsReferencingExpression","extensionContainerSectionComponent","RxExtensionContainerDefinitionAdapterService","rxViewDefinitionDataPageService","rxTreeService","rxViewDefinitionLocalizationService","getExtensionViewDefinitions","getViewDefinitionMap","filterDuplicatedRecordEditorComponentDefinitions","viewDefinitionMaps","filterIncompatibleRecordEditorComponentDefinitions","setRecordEditorLabels","getExtensionRecordEditorComponentDefinitions","extensionRecordEditorComponentDefinitions","processAndAddChildrenToExtensionContainer","extensionRecordEditorComponentDefinition","processRecordEditorComponentDefinition","getExtensionContainerSectionViewComponentDefinition","adapters$","runAdaptersForComponents","extensionContainerGuid","viewType","ViewDefinitionType","excludeExtensionViews","associationsInExtensionContainer","applyLocalization","viewDefinitions","viewDefinitionMap","lastUpdateTime","hasSameMode","hasSameRecordDefinitionName","hasAssociation","getBundleFriendlyName","flattenTree","patchFieldComponentExpressions","targetExtensionContainerComponentDefinition","recordInstanceReferencingExpression","recordDefinitionNameReferencingExpression","recordDefinitionReferencingExpression","recordInstanceIdReferencingExpression","selectionFieldOptionNamesByIdReferencingExpression","expressionMap","regExp","RegExp","expressionConfig","replace","RxExtensionContainerModule","rxExtensionContainerDefinitionAdapterService","ExtensionContainerDesignModel","ExtensionContainerDesignComponent","ExtensionContainerDesignModule","ExtensionContainerRegistrationModule","RX_STANDARD_PROPS_DESC","RichTextareaFieldDesignModel","newInspectorConfig","RichTextareaFieldDesignComponent","rxCkEditorConfiguratorService","getCKEditorConfig","i2$7","RichTextareaFieldDesignModule","CKEditorModule","RichTextareaFieldComponent","RichTextareaFieldModule","RichTextareaFieldRegistrationModule","LocalizedCharacterFieldComponent","rxLocalizationService","hideCurrentLocale","valueByLocale","currentLocale","shouldShowValidationError","LocalizedCharacterFieldValueModalComponent","setLocalizedFieldValue","currentLocaleValue","currentLocaleCode","currentValueByLocale","RxLocalizedCharacterFieldModule","AdaptTooltipModule","LocalizedCharacterFieldDesignModel","LocalizedCharacterFieldDesignComponent","RxLocalizedCharacterFieldDesignModule","LocalizedCharacterFieldRegistrationModule","FieldComponentsModule","GridCardLayoutWidth","defaultUnit","units","stepperOptionByUnits","px","selectionValues","defaultColumnMinWidth","defaultRowHeight","filterPreset","viewPreset","columnViewPreset","columnAlignment","selectionTypes","multiple","single","userPreferences","cardLayoutWidthOptions","Xsmall","Xlarge","Xxlarge","sharedFilterPresets","recordGridGuid","filterExpression","sortOrder","isDefault","defaultFilter","associatedFieldIdPrefixPattern","RX_EXPRESSION_EVALUATOR","defaultPageSize","rowActionsOutletName","actionsColumnFieldDefinition","numberOfFiltersOptions","defaultTypeaheadKeystrokeCount","externalPresetFilterOptionId","RxRecordGridUtilsService","isAssociatedRecordFieldId","getAssociationDescriptor","constant","getAssociationDescriptors","associationDescriptors","isOneToMany","isNeedSide","getAssociationLabel","getFieldDefinition","gridColumnFieldId","locator","getFieldLocator","fieldDefinition$","AsyncSubject","recordDefinitionPromise","associationGuid","findAssociationDescriptor","recordDefinitionNameKey","getFieldIdForGridColumn","getDisplayFieldDescriptor","associatedRecordDefinitionName","fieldLocator","associatedRecordDefinition","isCoreIdField","displayFieldId","displayFieldIdInAssociation","getColumnLabel","associationNodeSide","exec","sideName","nodeSideName","defaultName","isSharedFilterPresetTag","isSharedFilterPreset","getTestIdForGridColumn","isSearchable","isPassword","isSecured","isDataProviderIdField","RxGridCellFontSize","RxGridCellColor","RxGridCellIconPosition","RxRecordGridConfigUtilsService","parseConfigString","str","isBoolean","getBooleanValue","getColumnSortOrder","SortOrder","getColumnSortDirection","configDeepClone","configClone","columnsDeepClone","columnDeepClone","columnClone","ColumnEditorAlignmentComponent","trackByForAlignmentOptions","columnProperty","RxGridCellFontColorCssMap","Light","Active","Info","Success","Warning","Danger","RxGridCellBgColorCssMap","RX_CELL_PROPERTIES","ReplaceText","RecordGridCellDisplayPropertiesExpressionConfigurator","cellDisplayExpressionDataDictionary","RecordGridCellDisplayPropertiesEditorComponent","color","appendToBody","getFormGroup","fieldValueCondition","displayAsBadge","badgeColor","iconPosition","textColor","backgroundColor","fontSize","bold","italic","accordionTabEls","scrollIntoView","block","selectOption","enabled","optionsList","fromIndex","toIndex","moveItemInArray","previousIndex","currentIndex","isDisplayAsBadge","cellProps","getRawValue","AdaptAccordionTabComponent","RecordGridCellDisplayPropertiesComponent","openPropertiesEditor","columnName","RX_RECORD_GRID_DESIGN","keywords","NamedFilterOptionExpressionConfigurator","RxViewExpressionConfigurator","rxViewDataDictionaryService","getExpressionEvaluator","RecordGridNamedFilterOptionsEditorModalComponent","activeIndex","toArray","counter","titleAlreadyExists","titles","getCheckTitleDuplicateValidator","currentNamedFilterOption","namedFilterOption","duplicateFilterOptionName","invalidName","RecordGridNamedFilterOptionsComponent","openNamedFilterOptions","without","RecordGridColumnEditorModalComponent","startedLoadingAssociationDescriptors","columnParams","activeColumn","activeActionIndex","getAdditionalQueryCriteriaExpressionOptions","getAvailableColumnsTree","updateSelectedColumnsDropList","openActiveAction","openGridColumnIndex","updateColumnsDropList","draggableSelectedColumns","selectedColumnsDropList","updateAssociatedAvailableColumnsDropList","draggableAssociatedAvailableColumns","associatedAvailableColumnsDropList","draggableColumnsList","dropList","draggableColumns","column1","column2","indexOf","_dropListRef","withItems","drag","dragRef","_dragRef","_initialContainer","onDropInSelectedColumnsContainer","previousContainer","container","isColumnEditorAvailableColumn","fieldDefinitionName","updateColumnIndexes","associatedAvailableColumnsNode","getAssociatedAvailableColumnsNode","allAvailableColumns","getColumnMetadata","updateAvailableColumnsTree","associationDescriptorLabel","associatedAvailableColumn","recordNode","leaf","expandedIcon","collapsedIcon","descriptor1","descriptor2","availableColumns","sortAvailableColumns","getAvailableColumns","newColumn","getColumnEditorColumnData","removeFromAvailableColumns","isSortable","isFilterableColumnWithNamedList","filterType","listControl","actionListControlComponents","actionIndex","CdkDropList","CdkDrag","ActionListControlComponent","RecordGridColumnEditorControlComponent","rxRecordGridConfigUtilsService","updateColumnsSubject","columns$","inspectorColumns","inspectorColumn","columnsData","columnData","previousValue","updateValue","columnGuid","QueryFiltersLogic","RecordGridFilterMode","RecordGridDesignDefinitionMode","RxRecordGridAdvancedFilterValue","namedOptions","isEmptyWithRange","AdvancedFilterDataTypesConfigsService","RxRecordGridAdvancedFilteringService","rxObjectUtilsService","advancedFilterDataTypesConfigsService","adaptTranslateService","translation","getCurrentLanguage","adaptTexts","fromLabel","toLabel","validationErrors","invalidRangeName","invalidRangeText","numberTypeTexts","fromValueMustBeNumber","toValueMustBeNumber","invalidBetweenMinAndMax","invalidMinValue","invalidMaxValue","getConfigs","addAssociationFieldsToFieldDefinitionsById","associatedRecordDefinitions","addFieldDefinitionToMap","expandProperties","getAdvancedFilterOption","filterConfig","customFilterTemplates","prefixLabel","dataType","filterOptionDataType","getDataForAdvancedFilter","AdvancedFilterOptionDataType","inputsTemplate","optionalBooleanFilter","requiredBooleanFilter","customConfig","getExpressionFieldTips","getNamedFilterOptionTips","formatAdvancedFilterTagText","formatValueForTag","filterValueLabels","buildTagLabel","getNamedOptionTitles","needRemoveTagValue","updateFilterValue","parseTagFieldExpression","searchTerm","rawValues","getFilterValueFromString","optionLabel","inputsForStringWithTypeAheadTemplate","inputsForStringTypeTemplate","parseStringTagFieldExpression","inputsForSelectionTypeTemplate","inputsForDatetimeTypeTemplate","getDatetimeCustomConfig","inputsForDateTypeTemplate","inputsForTimeTypeTemplate","inputsForNumberTypeTemplate","formattedValue","valuesStr","getExpressionRawValues","validateValue","prefixConfig","getTagText","replaceFilterValue","namedOptionTitles","filterValueSeparator","namedOptionsSeparator","isNamedListOption","optionGuids","option1","option2","fieldType","tagValueFormat","dateStr","mask","startsWith","isEmptyOrWhitespace","namedOptionGuid","filterOptionConfig","RxRecordGridFilterHelperService","filtersKeywords","filterJson","normalizeFilterString","clearFilterData","filterString","$DISPLAYVALUE$","replacer","denormalize","fn","RecordGridFilterOperator","operator","nodeKeys","replaceKeywords","query","singleQuoteRegexTemplate","tripleQuoteRegexTemplate","singleQuoteRegex","tripleQuoteRegex","RxRecordGridFilterService","rxRecordGridAdvancedFilteringService","getFilterForAvailableColumns","filterableColumns","nodeChild","filterQuery","getQueryFilterField","queryString","escapeDoubleQuotes","isNaN","queries","joinQueryFilters","logic","And","getAdvancedFilterData","filterData","recordGridFilterConfigs","and","gridFilterData","filterLogic","filterOperators","firstFilterOperator","columnField","newFieldDefinition","getSelectedAdvancedFilterData","advancedFiltersData","getQueryFromRecordGridFilterData","primitiveOperators","evaluatePrimitive","operatorsResult","condition","operatorValuesResult","conditionValue","conditionId","filterOperator","isLikeOperation","getStringDataTypeFilterData","getQueryExpression","evaluateExpression","intersection","isPrimitive","childExpression","childExpressionResult","RecordGridFilterDataLogic","getSelectedFiltersFromPredefinedFilter","recordGridFilterData","deserializeNamedOptions","getRecordGridFilterDataFromAdvancedFilter","mappedFilters","mappedFilter","getRecordGridFilterData","buildQueryFilter","needQuotes","filterRows","rows","filterConfigs","groupField","getFilteredItems","matchRow","rowDataItems","filteredItems","itemsRow","findKey","checkCondition","rowValue","caseInsensitiveIsEqual","isSame","isSameOrBefore","isBefore","isSameOrAfter","isAfter","searchDefinition","filterValueSplitData","clearRemovedNamedFilterOptions","namedFilterOptionsGuids","RxRecordGridFilterConfigService","rxRecordGridFilterService","rxNumberUtilsService","associatedFieldIdPatternRegExp","textColumnFilterConfig","getQueryFilter","filterTag","selectedNamedOptionExpressions","getSelectedNamedOptionExpressions","builtQuery","chain","Or","namedFilterOptionOperators","getNamedFilterOptionsOperators","or","getRecordGridFilterOperator","filterValues","namedListFilterValues","rxRecordGridAdvancedFilterValue","getToolbarTagInfo","loadedAssociationDescriptor","displayFieldDefinition","displayValuesData$","getNamesFromTypeAheadOptions","getFieldValues","displayValueRows","nameWithAssociationLabel","displayValues","strFilterValue","displayValueRow","displayTagValue","filterValueExpression","filterDisplayText","namedOption","tagInfo","numericColumnFilterConfig","fromValue","toValue","isFiniteOrNumberString","valueQuery","getFilterRangeDataOperator","processRange","gteOperator","parseFloat","lteOperator","andOperator","eqValue","namedFilterOptionGuids","getNamedFilterOptionGuids","selectTexts","getDateSelectedAdvancedFilterData","getBooleanFilterValue","eqOperator","savedFilterValue","booleanDataTypeBlankValue","operatorElementElement","RxNamedFilterOptionsListComponent","defaultFilterValue","namedFilterOptionsChange","_filterValue","selectedGuids","getSelectedNamedOptionsIds","onFilterOptionModelChange","RxBooleanFilterComponent","oldModelValue","RxStringWithTypeAheadFilterComponent","rxFeatureService","isSearchInProgress","text$","term","getOptionPageByLabelOrValue","optionPage","RxStringFilterComponent","onStringTypeFilterOptionModelChange","tagField","newModel","writeValue","stringTypeTagFieldPlaceholder","RxNumberFilterComponent","getNumberDataTypeModel","indexOfCounter","onNumberTypeFilterOptionModelChange","controlComponent","hasValidationErrors","counterFromLabel","getNumberDataTypeMinAllowedValue","getNumberDataTypeMaxAllowedValue","counterToLabel","RxAdaptDatetimeMomentAdapter","_f","currentDateTime","invalidFormat","parsedDateParts","meridiem","use12HoursTime","ɵRxAdaptDatetimeMomentAdapter_BaseFactory","RxDateTimeRangeFilterComponent","startOf","RxSelectionFilterComponent","getSelectionTypeOptions","selectionTypeModel","onSelectionTypeFilterOptionModelChange","canShowSimpleInlineSelect","getSelectionTypeTexts","disabledSelectInputResolverBind","RxAdvancedFilteringFieldsProviderComponent","FilterTagsComponent","removeTag","toolbarTag","removedTag","newTags","rxRecordGridFilterConfigService","initialDropdownAnchorLabel","fieldDefinitionsInitialized$","filterValueInitialized$","subscription","Subscription","getNamedFilterOptions","initEmptyValue","add","initSelectedAdvancedFilters","initFilterOptions","recordDefinitionNames","currentRecordDefinition","getFilterOptions","gropFilter","gropFilterToCompare","mainRecordDefinitionName","selectedFilter","prefix","fieldsProvider","filterOption1","filterOption2","oldBasicFilters","columnRecordGridFilterData","recordGridFilterOperator","gridFilterValue","gridFilterDisplayValue","columnOldBasicFilter","oldBasicFilter","gridFilter","recordGridFilter","filtersModel","tags$","RxFilterTagsModule","AdaptTagModule","RxNamedFilterOptionsListModule","RecordGridCommonModule","AdaptMetatagModule","RxStringFilterModule","RxNumberFilterModule","RxDateTimeRangeFilterModule","RxSelectionFilterModule","RxBooleanFilterModule","RxStringWithTypeAheadFilterModule","RxAdvancedFilteringFieldsProviderModule","RecordGridFilterSelectControlModule","AdaptAdvancedFilteringModule","toNumber","RecordGridFilterPresetEditorModalComponent","filterPresets","activeFilterPreset","createFilterPresetEditorData","openFilterPresetIndex","currentFilterPreset","duplicatePresetName","trackByForFilterPresets","confirmResult","NgForm","filterPresetsForm","RecordGridFilterPresetEditorControlComponent","filterPreset1","filterPreset2","filterPresetToRemove","RecordGridRowActionEditorModalComponent","rowActions","rowActionIndex","rowAction","setSecurityFieldDefinitions","getSelectFormControlOptions","getRowActionLabel","onDropInSelectedRowActionsContainer","rowActionLabel","rowActionsForm","selectedRowActionsDropList","draggableSelectedRowAction","RxRecordGridRowActionEditorWidgetComponent","rowActions$","rowActionButtonComponents$","rowActionButtonComponent","newRowActions","setRowActions","RecordGridSortEditorControlComponent","updateOptionsSubject","columnOptions$","gridColumns","gridColumn","isEmptySafe","columnOptions","adaptRxSelect","selectButtonRef","sortDirection","RecordGridViewPresetColumnsModalComponent","presetColumns","expandAllColumns","collapseAllColumns","RecordGridEditViewPresetsModalComponent","presets","presetsList","presetComponent","viewPresets","viewPresetGuid","gridColumnsIds","sortedColumn","activePreset","preset","collapseAll","trackByPreset","allColumnTitles","displayedColumnTitles","RecordGridViewPresetsWidgetComponent","currentPresetSelectorGuid$","presetSelectors$","presetSelectorOptions$","selectedPresetsList$","updateViewPresetSelectorProp","getPresetsList","viewPresetSelectorProp$","gridColumnGuids$","extractViewPresetSelectorGuid","presetSelectorOptions","selectedOption","c","childComponentsTree$","allComponents","updateColumnPresets","viewPresetsPayload","presetColumnComponents","presetFilterComponents","getPresetFilterComponentsForColumns","updatedPresetColumns","existingPresetColumn","presetColumn","columnPresetPayload","getColumnPresetPayload","presetCol","i","setChildrenByType","filteredPresetFilterComponents","presetFilterComponent","presetFiltersObj","namedFilterOptionGuid","presetFilters","gridViewPresets$","onPresetModalClose","columnPayloads","viewPresetSelector","getColumnActionComponentPayloads","getNamedFilterOptionPayloads","gridFilters","getColumnComponentPayloads","initialSortColumn","columnDesignModel","outletName","getGridFilterPresetComponentPayloads","namedFilterGuids","namedFilter","newRecordGridFilters","getFilterPresetDescriptorsFromChildData","filterPresetsDescriptor","presetFilter","getActionsFromComponent","componentDesignData","columnAction","getNamedFilterOptionsFromComponent","namedFilterOptionData","getDefaultColumns","coreFieldIds","modifiedDate","defaultValues","getInitialSortColumnModel","selectedSortColumn","getInspectorColumnsFromDesignData","columnsDesignModel","componentDesignProperties","bordered","expandable","showDataForAllLocales","associatedRoleName","defaultFilterPreset","getDefaultFilterPreset","cardLayoutWidth","requiredFilters","getDataForHiddenColumns","striped","getComponentDesignProperties","initialComponentProperties","basicRecordGridFilters","Association","Record","filterMode","Expression","Basic","getActionButtonDescriptorsFromChildData","getGridViewPresetsFromChildData","basicFilterDescriptor","getRowActionButtonPayloads","recordAssociationDefinitions","hasRecordDefinition","generalControls","presentationControls","OptionalSelectFormControlComponent","isFeatureEnabled","selectedAssociationDefinition","filtersControls","isLabelHidden","getColumnDataDictionaryBranch","componentDescriptorName","componentName$","columnComponents$","associationDefinitionDisplayName$","columnDataDictionaryBranch$","columnComponents","getColumnsDataDictionaryBuilder","buildColumnDataDictionary","dataDictionaryBranch","associationDefinitionDisplayName","getComponentName","getColumnDataDictionaryBranchBuilder","builders","gridPropertyName","buildColumnDataDictionaryBranch","call","columnComponent","selectionList","recordDefinitionDisplayName","additionalLabels","getGridViewPresetPayload","RecordGridDesignModel","rxViewActionValidatorService","preservedRecordDefinition","preservedRecordAssociationDefinitions","currentGridDesignProperties","componentPropertiesChangeFromCanvas$","associatedRecordNodeSide$","viewPresetSelectors$","viewPresetSelectorGuid$","rowActionButtonGuids$","getLayout","rowActionsOutlet","recordAssociationDefinitions$","basicRecordGridFilters$","filterPresets$","actionButtonComponents$","rowActionButtonGuids","viewPresetSelectors","selector","viewPresetSelectorGuid","viewModelsInitialized$","viewModelsInitialized","rowActionButton","previousComponentDesignProperties","actionButtonComponents","rowActionButtonComponents","gridViewPresets","propertiesToUpdate","payloads","childrenModels","previousChildrenModels","newInspectorColumns","filterPresetComponentPayloads","getAssociatedRecordNodeSide","updateComponentPropertiesAndConfig","validateColumns","validateAssociationModeProps","validateActionButtons","validateRowActions","skipWhile","names","selectedPresetsList","updatePresetViewComponents","gridViewPresetComponents","gridViewPresetPayloads","childComponentsTree","childComponentPayloads","childComponent","toggleActionsColumn","showActionsColumn","actionsColumn","validateColumnActions","actionViewComponents","deleteActions","RecordGridDesignComponent","initialSortGridColumn","gridSortableObject","quickFilter","filterTemplate","filterResults","visibleColumnsMenu","visibleColumnsMenuTemplate","quickFilterTriggerable","hasRecordDefinitionName$","draggedViewComponentGuid","initialPropertiesByName","i1$7","RxRecordGridDesignAdapterService","elementDefinition","rowActionGuid","RxViewLayout","requireFiltering","RecordGridSortEditorControlModule","RecordGridViewPresetColumnsModalModule","StepperWithUnitsFormControlModule","RecordGridEditViewPresetsModalModule","RecordGridViewPresetsWidgetModule","SelectFormControlModule","RecordGridDesignModule","rxRecordGridDesignAdapterService","AdaptTextFieldModule","ActionListControlModule","GroupButtonFormControlModule","ExpressionEditorModule","RxDirectivesModule","RxUniqueValidatorModule","RxNoWhitespaceValidatorModule","PageComponent","RxFilterByCardSelectionDialogComponent","alertConfig","dismissible","filterableFields","RxRecordGridConfiguratorService","getGridConfig","rxConfiguration","enableColumnSelection","useExternalFiltering","emptyStateLabelText","emptyStateWithFilterLabelText","searchFieldPlaceholderText","getColumnsWithMetadata","columnsClone","allowedOpenViewActionExpressionsForHrefRegex","columnsDefinitions$","getFieldDefinitionResourceTypeShortName","isColumnClickableWithHref","getSelectionFieldOptionLabelsByFieldId","RX_VIEW_ACTION","canViewParamsBeEvaluatedForHref","canExpressionBeEvaluatedForHref","$condition$","viewParamValue","expressionToken","RxRecordGridSharedFilterPresetsCacheService","cache","getSharedFilterPresets","getQueryParams","sharedFilterPreset","isCreatedByOtherUsers","RxRecordGridUserPreferencesService","recordGridConfigUtilsService","rxUserPreferencesService","initialPreferences","visibleCardFieldIds","appliedExternalFilterPresetGuid","preferences","saveUserPreferences","cardLayoutColumns","getVisibleCardFieldIds","getColumnsPreferences","savedFilter","getPreferencesFilterPresets","currentFilters","appliedSharedFilterPreset","selectedViewPresetGuid","selectedPreset","newPreset","edited","getUiComponentPreferences","getAppliedSharedFilterPresetGuid","applyUserPreferencesForColumns","columnsWithMetadata","reviseColumnPreferences","columnSortMeta","getColumnSortMeta","sortColumnsConfigs","setColumnsWidths","columnResizeMode","tableColumn","multiSortMeta","setCardFieldsVisibility","setColumnsVisibility","columnPreferences","isColumnPreferencesChanged","existingAdaptColumnIds","removedReferences","isSortingPreferencesChanged","preferencesSize","sortableColumnPreferences","columnPreference","sortMetaForSortableColumns","updateColumnSortPreferences","applyUserPreferences","observable$","isFilterPresetDataChanged","prevFilterDataLength","prevFilters","getAdvancedFilterPresets","predefinedFilterPresets","predefinedFilterPreset","builtInPresets","defaultBuiltInFilterPreset","builtInPreset","defaultSharedFilterPreset","isEmptyObject","defaultBuildInPresetFilterData","selectedAdvancedFilters","getFiltersForSelectedColumns","newSelectedAdvancedFilters","getFilterForAvailableNamedFilterOptions","addExternalPresetToSelectedFilters","applySharedViewPreset","gridState","viewPresetData","applyViewPresetInner","applyViewPreset","systemViewPreset","newViewPresetPreferences","createSystemViewPresetPreferences","selectedViewPreset","viewPresetPreferences","presetToApply","updateColumnsOrder","updateColumnsVisibility","updateGridSorting","isCurrentViewPresetEdited","sharedViewPreset","columnViewPresets","priority","isExistingViewPreset","presetPreferences","advancedFilterPreset","appliedSharedFilterPresetGuid","savedFilter1","savedFilter2","parseInt","componentTypeName","setUiComponentPreferences","columnsPreferences","columnIndexesMap","columnIndex","columnSavedPreferences","columnWithMetadata","isColumnWidthInPixels","endsWith","ResizeMode","minWidth","defaultVisibleColumnsCount","visibleColumnsCount","advancedFilters","advancedFilter","availableNamedFilters","getSharedViewPresetData","presetData","CardLayoutCellHeaderComponent","modalService","onSortMenuItemClick","openDialog","cardLayoutSortModalTemplate","isSortableColumn","changeSort","sortIndex","getColumnSortIndex","getColumnSort","hasColumnSortOrder","getSortBtnClass","isActiveSortDesc","ordersTitles","GridCardLayoutDirective","changedCardLayout","hasCardLayout","_hasViewInitialized","_cardLayoutWidth","changeTableCardLayout","recordGrid","recordGridElementRef","gridWidth","scrollToFirstVisibleRow","addClass","removeClass","tableService","getCardLayoutColumns","headerTitleTemplate","cardLayoutFieldsHeaderTemplate","dataCellClass","getDataCellClass","cardLayoutFieldsDataCellTemplate","cardLayoutValuesHeaderTemplate","cardLayoutValuesDataCellTemplate","recordGridGetDataCellClass","scrollable","scrollableBody","querySelector","scrollableBodyScrollTop","scrollTop","firstVisibleRow","dataRows","dataRow","rowEl","offsetTop","offsetHeight","scrollRowProportion","onStable","CellDisplayPropertiesDirective","rxExpressionEvaluatorService","evaluationData","updateCellClasses","rxCellDisplayPropsDataItem","firstChange","getActiveProps","tryEvaluate","getCellCssClasses","getSpanCssClasses","rxCellDisplayProps","cssClasses","expandedRxCellDisplayPropsDataItem","activeProps","rxCellDisplayPropsBadgeElem","spanClasses","classList","RecordGridComponent","adaptDeviceDetectionService","rxGridConfiguratorService","rxRecordGridSharedFilterPresetsCacheService","rxRecordGridUserPreferencesService","rxViewActionService","pageComponent","runtimeViewCanvasItemComponent","dataLoaded","isExportInProgress","lastPropertySelection","leftCustomSection","leftCustomSectionTemplate","filterResultsTemplate","rightCustomSection","rightCustomSectionTemplate","export","exportTypes","ExportType","showExportForSelected","rowSelectionMode","isLoadingData","totalRecords","primaryKey","isLoadingMoreData","expandedGroupsKeys","virtualScroll","virtualRowHeight","adaptTableHeaderSelectionMode","AdaptTableHeaderSelectionMode","setFilter","setSelectedRows","onRowsSelectionChange","getVisibleRows","getDataCellClassBind","gridRow","columnId","columnWithActions","addSelectionFieldOptionNames","expandRowProperties","lastActionRow","executeViewActions","code","isUserAllowedToDeleteRecords","openSortByDialogFn","rowSelectionChanged","selectedFilteredRowsCount","showCellTooltip","sortedColumnsByTitle","Multiple","initialFilters","expandGroups","hasLoadedSharedFilterPresets","pendingSelectedFilters","selectedCardValues","cellValueFormatters","clickableWithHrefColumnActions","dataLoadContextSubject","popovers","userPreferencesChanged$","exportSelectedRowText","exportSelectedRowsText","pendingFiltersToApply","registerConsumer","onClickOutside","closest","clearSelectedCells","isProgrammaticUse","initializationCompleted$","rxGridConfiguration","requests$","initRecordDefinitions","checkIfViewPresetEdited","initGrid","configChanged$","initializationCompleted","configChanged","differenceBy","changedColumns","namedListColumns","existingColumnIndex","existingColumn","namedFilterOptionCache","getNamedFilterOptionsState","namedFilterOptionsMap","dataLoadContext","namedFilterOptionsList","selectedNamedFilterOptionsGuids","isOptionCached","isFilterValueChanged","shouldLoadData","v","loadRowData","cfg","getProgrammaticActionButtons","initAdvancedFilterTexts","initCustomTexts","propertyChanged","applyPendingSelectedFilters","cardLayoutOpenedModal","isRequiredField","queryFilters","dataPageResult","promise","VIEW_COMPONENT_DEFAULT_EVENT_NAME","actionButtonConfig","cellValueFormatter","total","substring","totalParameterForTranslate","onLoadingEnd","getSortedColumnsByTitle","getToolbarTags","filterTags","toolbarTags$","getVisibleColumns","handleHeaderCheckboxToggle","setSelectedFilteredRowsCount","cellPopover","popover","loadSavedFilterPresetFilters","getTotalRowCount","filterExpressionTags","oldToolbarTags","updateToolbarTags","appliedExternalPresetFilter","getAppliedExternalPresetFilter","filterPresetData","updateAdaptTableFilters","originalRows","savedFilterToSelect","areNonExternalPresetFiltersApplied","rowItem","isCardLayout","metaKey","ctrlKey","toggleCellSelection","currentTarget","scrollWidth","onChangedCardLayout","getVirtualRowHeight","onColReorder","colReorderEvent","onColumnResize","adaptTableRectData","getBoundingClientRect","tableWidth","availableColumnWidth","dataHeaderCells","accum","cell","defaultColumnWidth","visibleColumnWidthMap","renderingColumnConfig","renderingColumn","columnsConfigs","isVisible","avoidSystemColumnExpansion","newFilter","appliedSharedPreset","filterPresetToDelete","editCustomTagsFn","initSavedFilterEditing","onExport","addInfoMessage","columnHeaders","rows$","selectionOnly","getHeaders","prepareQueryParamsAndQueryArgs","cursor","getDataPageService","cellValues","getCellValues","exportDataToCsv","onLazyLoad","loadMore","eventSource","AdaptTableEventSource","toolbarComponent","getQuickFilterInputValue","setQuickFilter","setToolbarTags","oldSelectedItems","expandSelectedRowsProperties","leftCustomSectionFixed","rightCustomSectionFixed","exportSelected","getExportSelectedText","prepareFieldsValueByFieldIdData","sortEvent","multisortmeta","oldSavedFilter","newSavedFilter","cardLayoutRowDetailsTemplate","updateToolbarItems","addAssociationFieldsToRecordDefinition","selectedData","columnIds","selectionFieldOptionLabelsByFieldId","filtersToApply","resultingFilters","currentFilter","filterToApply","isRangeFilter","existingFilter","f","existingFilters","pendingSelectedFilter","min","sharedViewPresets","getGuid","areUserFiltersApplied","isSearchApplied","markAppliedViewPresetAsEdited","compareRows","firstRow","secondRow","sortMetas","sortRank","firstValue","secondValue","groupValue","firstValueNum","secondValueNum","createCsvExportFile","csvData","Blob","saveAs","getExportFileName","enrichRowEntity","gridRowDataItem","hrefParams","expandedGridRowData","clickableWithHrefActionExpressionEvaluationData","gridActions","gridAction","findEnabledGridAction","evaluateViewInputParameters","viewInputParams","evaluatedViewInputParams","parameterName","filteredRows","sortRows","getGroupItemsCount","rowsWithGroups","conditionExpression","getAdvancedFilterOptions","getBaseDataPageParams","recordDefinitionToQuery","roleName","getCellValueFormatter","attachmentName","visibleColumnConfig","columnMetadata","getValueOrFunc","getDataBase","onlyForTotalCount","data$","getEmptyDataPage","getFiltersRequiredMessage","isNumber","lastQueryExpression","hasAssociationAndEmptyRecordId","getDataCellStyle","textAlign","rightAlignmentTypes","visibleColumn","getGridColumnDefinitions","columnsConfig","sortConfig","columnWidth","columnMinWidth","rowActionButtonsTemplate","editTemplate","cellTooltip","headerTooltip","headerClass","editable","dataCellStyle","filterName","filterParams","isDownloadableAttachmentColumn","referenced","getGridData","onRequestEnd","mappedData","expandGroupsDeep","expandedGroupKey","scrollToTop","markForCheck","recordGridActionButtons","viewActionTriggerEventName","inSortOrder","initActionButtons","searchPlaceholder","exportEntireDocument","allowNonAdminToDeleteRecordInstances","isAdministrator","view","getViewInputParameters","initRowActionButtons","avoidSystemCardColumnExpansion","columnsWithWidthInPixels","columnsWithWidthInPercent","visibleActionsColumn","maxWidthInPixels","maxWidthInPercent","totalWidthInPercent","hasColumnsWithWidthInPercent","hasColumnsWithWidthInPixels","toFixed","findLast","iosPlatform","hasAssociatedRecordFieldColumns","recordDefinitionType","fieldDefinitionType","rangeFields","union","metaItem","sharedFilterPresetExpression","scrollableBodyElement","getScrollableBodyElement","hasFilter","isRequiredBooleanFilter","existingPendingFilter","isFilterAvailable","elementIndex","trackPopoverAnchor","isCurrentPopoverLast","globalFilter","global","dummyFilter","filterSection","toolbarContentItems","toolbarContentItem","adaptToolbarItem","ToolbarItemsByPriority","itemContext","requiredFiltersCount","adaptAdvancedFilter","i28","RxRecordGridDefinitionAdapterService","recordGridContainerViewComponentDefinition","cellDisplayPropertiesList","getActionButtonsForOutlet","isReferenced","columnFieldId","isReferencedInExpression","viewComponentExpressions","isReferencedInCellDisplayProperties","actionButtonsGuids","RxRecordGridQueryExpressionEvaluatorService","RxRecordQueryExpressionEvaluatorService","ɵRxRecordGridQueryExpressionEvaluatorService_BaseFactory","rxRecordGridDefinitionAdapterService","AdaptSelectModule","AdaptSubnavModule","RouterModule","RxBooleanPipe","RichTextComponent","sanitizer","CKEDITOR","allow","getContentRules","html","updateHtml","fragment","htmlParser","fromHtml","writer","basicWriter","applyTo","writeHtml","getHtml","bypassSecurityTrustHtml","i1$8","RxRichTextExpressionEvaluatorService","tempElement","document","createElement","innerHTML","querySelectorAll","RX_RICH_TEXT","getAttribute","textNode","createTextNode","parentElement","replaceChild","RichTextDefinitionAdapterService","dtd","$removeEmpty","RichTextModule","richTextDefinitionAdapterService","RX_CKEDITOR_CONFIG","skin","toolbar","stylesSet","class","cellpadding","cellspacing","format_tags","extraPlugins","extraAllowedContent","RichTextDesignModel","html$","RichTextDesignComponent","rxExpressionParserService","renderer2","ckConfig","removeExpressionLabels","setExpressionLabelHtml","addExpressionLabels","getExpressionWithLabels","flatDataDictionary","onEditorReady","getElementById","display","ckEditor","on","evt","runTask","labelHtmlString","setAttribute","setHtml","fire","insertHtml","escape","moveCursorToEnd","expressionValue","ExpressionParserToken","range","createRange","moveToElementEditEnd","root","getSelection","selectRanges","predicate","htmlString","DOCUMENT","CKEditorComponent","RxExpressionEditorPluginService","me","plugins","init","addCommand","getSelectedExpressionElement","ui","addButton","getPath","is","hasAttribute","getParent","clearSelection","removeAllRanges","RichTextDesignModule","rxExpressionEditorPluginService","ServiceListDesignComponent","ServiceListDesignModule","ServiceListComponent","serviceListOptions","serviceRequestId$","chatbotServices","serviceRequestId","catalogs","catalogsByGroup","catalog","catalogDetailsList","selectServiceRequest","i1$9","ServiceListModule","RxTabContainerComponent","enableLazyLoading","ɵRxTabContainerComponent_BaseFactory","RxTabPanelComponent","childLayout","isRendered","childLayoutConfig","ensureActiveTabIsSet","trySetFirstVisibleTab","setActiveTabIndex","tab","getAllTabsData","adaptTabsetIndex","activeTabIndexForAllTabs","activateTab","allTabs","firstVisibleTab","RxTabPanelComponentDefinitionAdapterService","tabPanelViewComponentDefinition","RxTabContainerComponentDefinitionAdapterService","RxTabPanelModule","rxTabPanelComponentDefinitionAdapterService","rxTabContainerComponentDefinitionAdapterService","TabPanelDesignModel","tabContainerGuids$","tabContainerComponents$","selectedTabGuid$","hasChildComponents","addTab","removeTab","selectedTabGuid","tabContainerGuids","selectTab","skipSelectComponent","selectComponent","moveComponent","TabPanelDesignComponent","adaptTabset","checkActiveIndex","onTabClicked","activeTabChanged","onTabAdded","setActiveTab","MouseEvent","onTabDropped","tabs","TabContainerDesignComponent","tabPanelDesignComponent","TabPanelDesignModule","PageDesignModel","pageComponentType","PageDesignComponent","PageDesignModule","PageComponentDefinitionAdapterService","PageModule","pageComponentDefinitionAdapterService","ImageDesignComponent","ImageDesignModule","ImageAlignment","RX_IMAGE_ALIGNMENT_OPTIONS","RX_IMAGE_ALIGNMENT_STYLES","ImageComponent","newState","getAlignmentStyle","responseType","observe","fileStream","body","tryParseContentDisposition","fileReader","FileReader","onloadend","onerror","onImageLoadFailed","readAsDataURL","imageName","ImageModule","ActionButtonRegistrationModule","RX_DISABLED_PROP_DESC","RX_VIEW_DESIGNER","ButtonBarRegistrationModule","ContainerRegistrationModule","ImageDesignModel","attachmentFields$","getAttachmentFieldsFromRecordDefinition","RxModalService","maxWidthUnits","newProperties","attachmentFields","validateEmptyProp","validateMaxWidth","StepperWithUnitsFormControlComponent","numberValue","ImageRegistrationModule","PageRegistrationModule","RecordEditorRegistrationModule","RecordGridExpressionConfigurator","filterExpressionBranch$","componentCommonBranch","associationRecordDefinition","filterByBranch","RecordGridRegistrationModule","rxRecordGridQueryExpressionEvaluatorService","RichTextRegistrationModule","rxRichTextExpressionEvaluatorService","TabContainerDesignModel","hiddenOnCanvas$","TabPanelRegistrationModule","ServiceListDesignModel","serviceRequestName","serviceRequestGuid","getCommonProps","ServiceListRegistrationModule","UnknownDesignModel","UnknownDesignComponent","UnknownDesignModule","UnknownRegistrationModule","RX_CHATBOT_USER_MAPPING","createUserMapping","mappingStatus","check","inProgress","missingParameters","success","ChatbotUserMappingComponent","encryptedChatUserAndChatId","chatbotProvider","isMappingInProgress","updateMessage","isMappingButtonVisible","mapUser","commandPayload","ChatbotUserMappingRegistrationModule","RX_IFRAME_LOGIN_EVENT","IframeLoginEventComponent","opener","postMessage","ɵIframeLoginEventComponent_BaseFactory","IframeLoginEventRegistrationModule","SmartReportingRedirectorComponent","rxSmartReportingService","openSmartReporting","SmartReportingRedirectorRegistrationModule","RX_SHARABLE_VIEW_RESETS_FEATURE_NAME","RX_VIEW_PRESET","user","lastName","firstName","loginId","email","viewPresetName","viewName","viewPresetInfo","sharedUsers","ownerFullName","RxShareViewPresetDataService","searchUsers","RX_DATA_PAGE","getSharedViewPresets","getSharedViewPreset","createSharedViewPreset","getUrl","updateSharedViewPreset","put","deleteSharedViewPreset","RxShareViewPresetService","rxShareViewPresetDataService","getAutocompleteSearch","trimmedValue","users","getSharedViewPresetUsers","createUpdateSharedViewPreset","presetGuid","saveSharedViewPreset","sharedUsers$","presetSelectorGuid","currentViewPreset","submitter","presetInformation","sharedViewPresetInstanceGuid","getSharedViewPresetsForCurrentUser","RxViewPresetSelectorUserPreferencesService","rxShareViewPresetService","viewPresetSelectorState","customViewPresets","customViewPresetOption","sharedViewPresetOption","checkSharedViewPresets","sharedPresets","shouldUpdatePreferences","removedPresetGuid","presetOption","existingPreset","sharedPreset","isOptionStillAvailable","RenameViewPresetComponent","viewPresetNameFormControl","generateUniqueViewPresetName","isViewPresetNameUnique","trimmedViewPresetName","existingViewPresetNames","existingViewPresetName","uniqueViewPresetName","suffix","fieldLabel","ShareViewPresetUsersGridComponent","recordGridConfig$","getRecordGridConfig","gridRecordDefinition","selectedUserLoginIds","ShareViewPresetComponent","maxRecipients","placeholder","notifyRecipients","recipients","savedNotification","removedNotification","maxUserCount","selectedUsers","currentUserLoginName","isSelectedUsersChanged","selectedUsersLoginIDs","tagsInputLoginIDs","isRecipientsLimitReached","loadExistingSharedViewPresetUsers","removeViewPreset","onAdd","usersToAdd","removeSelectedUsers","AddSharedViewPresetsComponent","newPresets","isAddButtonDisabled$","ViewPresetSelectorComponent","rxViewPresetSelectorUserPreferencesService","isOperationInProgressSubject","isViewPresetEditedSubject","viewPresetSelectorModel$","userPreferencesChangedSubject","enableSharing","viewPresetOptionToRemove","viewPresetGuidToDelete","openRenamingModal","viewPresetOption","sharedViewPresetGuid","existingSharedPresetsGuids","openAddSharedPresetsModal","addedPresets","isEdit","existingViewPresets","handleSharedViewPresetLoadError","ViewPresetSelectorAdapterService","viewPresetSelectorComponentDefinition","ShareViewPresetModule","AddSharedViewPresetsModule","ViewPresetSelectorModule","viewPresetSelectorAdapterService","PresetsListWidgetComponent","editedPreset","cannotBeBlank","duplicateValue","itemValidationFn","itemValidation","onPresetsListChange","onListItemAdd","shift","onListItemEdit","onListItemUpdate","adaptRxListBuilderComponent","inputEl","otherItemNames","AdaptRxListBuilderComponent","ViewPresetSelectorDesignModel","presetComponentGuids$","otherPresetSelectorsNames$","RxFeatureService","setInspectorConfig","presetGuids","otherPresetSelectorsNames","trimmedModelName","ViewPresetSelectorDesignComponent","PresetsListWidgetModule","AdaptRxListBuilderModule","ViewPresetSelectorDesignModule","ViewPresetSelectorRegistrationModule","GainsightAdminOptInComponent","rxGainsightConfiguratorService","RX_GAINSIGHT","vm$","getGainsightConfiguration","settings","deploymentType","environmentType","organizationPerformance","enableGainsight","accountMarketing","accountPerformance","organizationMarketing","vm","gainsightSettings","saveGainsightConfiguration","GainsightAdminOptInRegistrationModule","AdaptAgreementModule","ViewComponentsModule","ViewDesignerCanvasComponent_rx_canvas_item_0_Template","CanvasItemColumnComponent_div_1_button_8_Template","CanvasItemColumnComponent_div_1_Template","onDragEntered","onDragStarted","onSelectComponent","getViewComponentDragData","static","CanvasItemContainerComponent_div_1_Template","isLastCol_r3","DesignerComponent_rx_canvas_outlet_0_Template","viewDesignerCanvasComponent","beforeComponentDropInRoot","outlet_r1","canvasItemComponent","defaultOutletName","ViewDesignerPaletteComponent_adapt_accordion_tab_3_div_2_Template","viewComponent_r3","ViewDesignerPaletteComponent_adapt_accordion_tab_3_Template","viewComponentsGroup_r1","allowedDropListIds","trackByNameFn","multiselect","RxViewDesignerComponent_rx_view_designer_palette_7_Template","paletteComponents$","canvasDndListIds","RxViewDesignerComponent_adapt_alert_9_Template","RxViewDesignerComponent_adapt_alert_11_Template","RxViewDesignerComponent_adapt_code_viewer_44_Template","viewDefinition$","RuntimeViewParamsModalComponent_div_1_Template","inputParam_r1","isFirst_r2","i_r3","ActionListEditorDialogComponent_div_2_div_6_div_1_ng_template_2_div_0_Template","action_r11","addAction","ActionListEditorDialogComponent_div_2_div_6_div_1_ng_template_2_Template","ActionListEditorDialogComponent_div_2_div_6_div_1_Template","availableActionTreeNodes_r6","ActionListEditorDialogComponent_div_2_div_6_ng_template_2_Template","ActionListEditorDialogComponent_div_2_div_6_Template","ActionListEditorDialogComponent_div_2_Template","availableActionTreeNodes$","ActionListEditorDialogComponent_div_11_Template","ActionListEditorDialogComponent_div_14_div_2_Template","ActionListEditorDialogComponent_div_14_div_7_Template","actionLabelsMap_r31","action_r23","ActionListEditorDialogComponent_div_14_div_9_Template","_r35","index_r24","moveAction","removeAction","last_r26","first_r25","ActionListEditorDialogComponent_div_14_Template","markEditorAsDirty","onEvent","actionLabelsMap$","ActionListEditorDialogComponent_div_15_Template","ActionListEditorDialogComponent_button_17_Template","isSaveButtonDisabled$","ActionListControlComponent_span_3_Template","ActionListControlComponent_span_5_Template","ActionListControlComponent_ul_6_li_1_button_4_Template","action_r4","ActionListControlComponent_ul_6_li_1_Template","editAction","actionLabelsMap","ActionListControlComponent_ul_6_Template","selectedActions","findParentComponentModel","currentComponent","findAllParentComponentGuids","parentModel","nextGuid","isComponentContainsChild","childDataComponentGuids","addChildComponent","newComponentModel","removeChildComponent","componentGuidToRemove","parentComponentModel","newParentComponentModel","getChildGuidsFromModel","getAllChildGuids","parentComponent","componentModelsState","RxViewDataDictionaryBuilderService","componentIcon","componentPropertyIcon","settablePropertiesIcon","actionOutputIcon","getActionOutputDataDictionaryBranch","buildDataDictionaryBranch","getComponentCommonDataDictionaryBranch","branch","getSettablePropertiesDataDictionary","branches","RxViewDataDictionaryStoreService","componentsCommon","componentsCommonSubject","componentsCommon$","viewCommon","viewCommonSubject","viewCommon$","actionsOutput","actionsOutputSubject","actionsOutput$","settableProperties","settablePropertiesSubject","settableProperties$","setCommonDataDictionaryBranch","setComponentCommon","setViewCommonDataDictionaryBranch","setViewCommon","setSettableProperties","removeDataDictionaryForComponents","setActionOutputDataDictionaryBranch","setActionsOutput","updateActionOutputDataDictionaryBranchOrder","actionOutput","removeActionOutputDataDictionaryBranch","removeAllActionOutputDataDictionaryBranches","clear","RxViewDesignerInspectorService","onChangeSubject","configs","onChange$","componentsRemoved","createAction","initializeComponentModels","initializeDataComponentModels","setExpressionValidationIssues","setComponentData","setChildComponents","setComponentLayout","insertComponent","addNewComponents","updateComponentModel","ViewDesignerDispatcher","store$","dispatch","viewDefinitionSaveSuccess","viewDefinitionSaveError","viewDefinitionLoadSuccess","viewDefinitionLoadError","setGeneratedViewDefinition","loadViewDefinition","friendlyBundleNameLoadSuccess","friendlyBundleNameLoadError","viewModelsUpdatedAfterSave","updateViewModel","setViewModel","selectInspectorTab","saveViewDefinition","runPreview","loadFriendlyBundleName","generateViewDefinition","clearCanvas","initViewDesigner","destroyViewDesigner","viewDesignerState","createFeatureSelector","viewDesignerModelsSelector","createSelector","viewDesigner","viewModelSelector","models","viewDesignModel","viewModelPropertyValueSelector","viewModel","viewComponentModelsSelector","viewComponentDesignModels","firstViewComponentModelTypeSelector","viewComponentModelSelector","componentModels","parentComponentModelGuidSelector","componentPropertiesByNameSelector","componentTypeSelector","componentLayoutSelector","componentPermissionsSelector","permissions","childDataComponentGuidsSelector","viewDesignerUISelector","isViewDefinitionLoadingSelector","isViewDefinitionLoading","bundleFriendlyNameSelector","friendlyBundleName","currentBundleIdSelector","currentBundleId","viewDefinitionSelector","validationIssuesSelector","validation","breadcrumbsSelector","breadcrumbs","selectedInspectorTabIdSelector","selectedInspectorTabId","selectedComponentGuidSelector","selectedComponentGuid","areViewModelsReadySelector","areViewModelsReady","componentDesignModel","dispatcher","rxViewDesignerInspectorService","rxViewDataDictionaryBuilderService","rxOverlayService","validationIssues$","breadcrumbs$","viewDesignerModelState$","viewModel$","viewModelGuid$","viewComponentModels$","firstViewComponentModelType$","isExtensionContainerSet$","allComponentGuids$","selectedComponentGuid$","viewGuid","selectedComponentProperties$","isViewDefinitionLoading$","selectedInspectorTabId$","bundleFriendlyName$","currentBundleId$","viewInspectorLayout$","selectedComponentInspectorLayout$","isViewReadOnly$","areNewDefinitionsAllowed","isCustomizationEnabled","viewDefinitionLoadError$","ofType","viewDefinitionSaveSuccess$","initViewDesigner$","destroyViewDesignerSubject","destroyViewDesigner$","areViewModelsReady$","viewCommonDataDictionaryState$","componentsCommonDataDictionaryState$","actionsDataDictionaryState$","settablePropertiesDataDictionaryState$","settablePropertiesDataDictionarySubject","bufferToggle","isFinite$1","partialModel","getComponentType","getComponentPermissions","getComponentLayout","updateSelectedComponentProperties","updateViewProperties","setViewProperties","setComponentInspector","setViewInspectorConfig","removeViewComponents","selectParent","setComponentSettablePropertiesDataDictionary","setComponentCommonDataDictionaryBranch","removeAllActionDataDictionaryBranches","removeActionDataDictionaryBranch","setActionDataDictionaryBranch","updateActionDataDictionaryBranchOrder","parentComponentGuid","recursive","filterPredicate","nestedGuids","availableComponentGuids","getChildComponentTree","viewComponentModels","getChildrenData","childGuid","parentComponentType","RxViewDesignerModels","RxViewDefinitionGeneratorService","viewDesignerModels","forSave","clonedViewModel","getDefinitionName","generateComponentDefinitions","localizableStringsByComponentId","extractLocalizableStrings","localizablePropertyToStringGuidMap","componentModelItems","serializeComponentDefinitionProperties","isPlainObject","obj","k","validateCssClassName","RX_STYLES_PROP_NAME","RxViewExpressionValidatorService","rxDefaultExpressionValidatorService","propertyLabel","expressionEvaluator","issues$","referencedComponentGuidsSet","expressionFragment","referencedComponentGuids","rxDataDictionaryUtils","componentsCommonDataDictionaryStateClone$","componentsDataDictionaryState","viewCommonDataDictionaryStateClone$","viewDataDictionary","settablePropsDataDictionaryState","viewDesignerModelState","getSettablePropsDataDictionary","getActionDataDictionary","actionsDataDictionaryState","currentActionData","take$1","componentBranchToReplace","viewDataDictionaryBranch","componentDataDictionaryBranches","getFunctionsDataDictionaryBranch","RX_EXPRESSION_FUNCTIONS","getSettablePropsDataDictionaryBranch","modelState","settablePropsState","componentPropsState","childGuids","componentsDataDictionary","propsDataDictionary","rxExpressionHelperService","RxExpressionHelperService","getDefaultConfig","validateExpression","prepare","RxDefaultExpressionEvaluatorService","propertyDescriptor","componentBranchToReplace$","RxViewCustomizationOptionsComponent","allowOverlay","scope","overlayGroupId","overlayDescriptor","controlOptions","definitionTypeDisplayName","setCustomization","customizationOptions","RxViewRevertCustomizationComponent","events","controlOptions$","RxViewRevertCustomizationModule","RxRevertCustomizationModule","RxViewModel","viewDesignerDispatcher","allViewDefinitionNamesByBundleId$","getViewDefinitionNames","getDisplayNameForValidation","targetExtensionContainerOptions$","getTargetExtensionContainerOptions","targetViewDefinition$","pageComponentModel","targetExtensionContainerOptions","onTargetExtensionContainerOptionsChange","onPageComponentChange","validateDisplayName","validateOutputParamExpressions","validateExtensionContainer","getViewCommonDataDictionary","targetViewDefinition","getTargetRecordDefinitionName","pageComponentGuid","isCustomizationAllowed","availablePageComponents","getBundlePageComponents","pageComponentControl","isConfirmationRequired","extensionContainerControl","isTargetRecordDefinitionChanged","isRecordDefinitionChanged","TextareaFormControlComponent","isViewParametersPresent","TagsFormControlComponent","errorCheck","RxPermissionEditorComponent","ListFormControlComponent","addItemText","emptyListText","targetViewDefinitionNameControlIndex","viewDefinitionNames","notBlankInputParams","uniqueInputParams","sourceValues","previousTargetExtensionContainerGuid","currentTargetExtensionContainerGuid","i5$1","InjectionToken","CanvasItemApi","core","registerCoreApi","apiObject","DropComponentData","targetGuid","ViewDesignerCanvasService","componentSelectSubject","componentRemoveSubject","componentDropSubject","componentDrop$","componentSelect$","componentRemove$","dropComponent","CanvasItemComponent","viewDesignerCanvasService","interactive","childContainers","initializeItemApi","layoutChange","prevGuid","currGuid","prevOutlets","currOutlets","componentReference","cleanUp","renderViewComponent","ref","registerOutlet","outletViewContainerRef","containerFactory","currentOutlet","componentRef","renderContainerComponent","transferData","createComponent","containerRef","ViewContainerRef","ViewDesignerCanvasComponent","componentSelect","componentDrop","componentRemove","CanvasOutletHelperService","beforeViewComponentDropSubject","beforeViewComponentDrop$","setBeforeViewComponentDropState","viewComponentDropData","canBeDropped","dropTargetViewComponentWithParents","_isParentRecordEditorChanging","viewComponentWithParents","draggedViewComponentParents","componentDropPredicate","skipPredicate","parentOutletComponent","skipParentPredicate","targetContainerParentComponents","sourceComponentParentComponents","sourceRecordEditor","isMovingBetweenRecordEditors","isDroppingOutsideRecordEditor","isDroppingInsideRecordEditor","CanvasItemColumnComponent","dropListDropped","dropListEnterPredicateBind","dropListEnterPredicate","dropListOrientation","enforceDragToSelf","dropContainer","siblings","connectedTo","listInstance","list","dropListRef","colIndex","dndListIds","listId","preventDrop","beforeViewComponentDrop","DesignerComponent","RxViewDesignerHelperService","designerComponentFactory","extensionViewAllowedComponentTypes","BwfViewComponentType","canvasLayout$","getRecursiveViewLayoutGuids","designModelState","initializeCanvasItem","reverse","viewBreadcrumbItem$","viewBreadcrumbLabel","selectedComponentBreadcrumbItems$","breadcrumbItems$","viewItem","componentItems","validationIssuesState","mergeWith","expressionIssues","issuesByComponentGuid","disableCorrection","getLicensedComponents","isDataComponentDescriptor","getRecursiveComponentLayoutGuids","canvasLayout","canvasOutlet","stencilGroups","basicComponents","chatbotComponents","recordEditorInputs","inspectorTabs","viewProperties","tabId","ViewDesignerPaletteComponent","filterFormControl","componentsSubject$","viewComponentGroups$","componentNameFilterText","viewComponentDescriptors","descriptors","groupsByName","RX_VIEW_MODEL","RxViewDesignerComponent","rxDefinitionPickerCacheService","rxViewDesignerHelperService","rxViewDefinitionService","rxComponentCanDeactivateGuard","rxViewDefinitionGeneratorService","rxViewDesignerModels","viewDefinitionSaved","viewDefinitionErrorLoading","closeDesigner","inspectorFocusEditorSubject","isViewDefinitionChanged$","extensionViewRootComponentType","isDesignMode","isStencilExpanded","isInspectorExpanded","inspectorFocusEditor$","viewComponentInspectorEmptyText$","selectedComponentLayout","selectedComponentModel$","isReadOnly$","isExtensionContainerSet","paletteComponentsPredicate","componentDescriptors","firstViewComponentType","customViewModel","InjectFlags","rxViewModel","isPreviewAvailable$","disablePreview","isPageView","hasValidationErrors$","ValidationIssueType","hasValidationWarning$","isChanged","updateGlobalContext","subProductLevel1","subProductLevel2","unRegisterConsumer","removeGlobalContext","dispatchInitViewDesignerAction","getValue","viewDefinitionChangeSubscription","initViewDefinitionChangeSubscription","onDropComponent","onRemoveComponent","onInspectorTabChange","toggleDesignMode","onComponentPropertiesChange","onEditorEvent","inspectorElementRef","RX_VALIDATION_FORM_CONTROL","correctValidationIssue","RX_REVERT_CUSTOMIZATION","revertCustomization","RX_EXPRESSION_EDITOR","getExpressionProperties","viewComponentPropertyInspectorElementRef","isComponentInspectorChange","props$","expressionPropertyNavigator","getProperties","headPropertyName","toPath","isAngularJsView","onCorrectIssue","validationIssue","editorName","reload","onViewPropertiesChange","showPreview","canDeactivate","isPristineOrReadOnly","onBeforeComponentDropInRoot","i11","i12","i13","viewPropertyInspectorElementRef","DesignerModule","RxViewDesignerPaletteModule","RuntimeViewParamsModalComponent","inputParamNames","paramValue","RuntimeViewParamsModalModule","AdaptModalModule","RxViewActionRegistryService","RxNamedListDefinitionCacheService","getNamedListBranch","namedListBranch","namedListDictionaryNodes","ActionSandbox","destroyedSubject","actionPropertyEditorConfigSubject","actionPropertiesSubject","actionPropertyEditorConfig$","actionEditorConfig","getActionPropertyEditorConfig","onDestroy","getExpressionConfigurator","RxViewDesignerDefaultActionModel","RxActionListModelManagerService","actionModel","ActionListEditorDialogComponent","rxActionListModelManagerService","availableActionDescriptors$","getLicensedActions","isEditorDirtySubject","actionToEdit","updateIndexProp","onSelectedActionsListDrop","controlElement","openActionIndex","ActionListEditorDialogModule","RxFormBuilderModule","availableActions$","openActionSelector","updateSortedActionsList","RxComponentPermissionEditorWidgetComponent","onPermissionsChange","RxComponentPermissionEditorWidgetModule","RxPermissionEditorModule","RxViewCustomizationOptionsModule","CustomizationOptionsModule","modelSandbox","onActionsChange","getActionComponentPayloads","actionListControlComponent","actionInspectorModels","_expressionConfigurator","RX_AVAILABLE_ON_DEVICES_OPTIONS","RxDevice","hideSelectAllButton","hideDeselectAllButton","RX_HIDDEN_PROP_NAME","RX_DISABLED_PROP_NAME","autocompleteValues","actionsDesignData","validateRequiredProps","performCustomValidation","validateExpressions","validateActionSequence","actionProps","getDesignManager","descriptorParams","actionIssues","paramDescriptor","referencedAction","ComponentSandbox","systemActions$","Actions","childModelsInitialized$","dispatcher$","setUpPublicStreams","isExistingViewComponent","isComponentSelected$","types","actionPayload","cols","viewComponentsRemovedAction$","RxViewExpressionValidatorRegistryService","issuesObservableMap","registerComponents","getComponentValidationIssues","initValidation","unregisterComponents","unregisterAllComponents","validateSubscription","entries","merge$1","expressionProps","expressionPropertyNames","descriptorPropMap","publishReplay","RxViewDesignerStateHelperService","getInitialComponentProperties","componentDescriptor","getDefaultComponentPermissions","getDefaultPermissions","ViewDesignerComponentEffects","rxViewExpressionValidatorRegistryService","rxViewDesignerStateHelperService","rxViewDataDictionaryStoreService","initializeComponentModel$","registerComponentsValidation$","onComponentsRemoved$","unregisterAllComponentsValidation$","insertComponent$","newPayload","addNewComponent$","viewComponentsState","initializeComponentModelPayloads","initializeDataComponentModelPayloads","componentGuidsToSelect","processAddComponentPayload","removeComponent$","guidsToRemove","removedComponentModel","removeGuidsSet","lastRemovedModel","setChildren$","addComponentsPayloadAll","editComponentPayloadAll","getAddComponentPayload","processChildComponents","componentsToSet","componentsGuidsToSet","existingChildGuids","componentGuidsToRemoveLocal","difference","componentGuidsToAdd","componentsGuidsToUpdate","addComponentsPayload","editComponentPayload","existingModel","initializeComponentModelPayload","payloadParent","modelParent","parentWithoutLayout","Effect","ViewDesignerEffects","rxDefinitionUpdateService","rxOldViewLayoutAdapterService","errorHandler","layoutTemplate","clearStorages","loadFriendlyBundleName$","getBundleDescriptor","result$","handleError","loadViewDefinition$","viewDefinitionLoadSuccess$","getActionsToUpdateExistingViewModels","getActionsToInitializeViewModels","selectViewComponent$","currentInspectorTabId","selectedInspectorTab","generateViewDefinition$","saveViewDefinition$","update","decodeURIComponent","clearCanvas$","runPreview$","encodedViewDefinitionName","noop$1","inputConfig","convertViewDefinitionToModel","convertLayout","layoutName","convertComponentDefinitionToModel","processComponentDefinitionProperties","isComponentHasLayout","propertyKey","isGuid","traverseByComponents","componentLayout","childComponentDefinitions","childComponentGuid","viewDefinitionClone","initComponentModelsPayload","initDataComponentModelsPayload","adapter","getDesignAdapter","registerUnknownAction","pageComponentChildDescriptor","unknownComponentDescriptor","registerSync","updateComponentModelPayloads","getInitialState$4","reducer$4","createReducer","viewDefinitionReducer","getInitialState$3","reducer$3","viewDesignerBreadcrumbsReducer","getInitialState$2","reducer$2","initializeComponentModel","oldParentComponentModel","defaultOutlet","existingColumns","removedColumns","colSpan","removedColumnChildComponents","lastExistingCol","viewDesignerModelReducer","getInitialState$1","reducer$1","_","viewDesignerUiReducer","getInitialState","reducer","viewDesignerValidationReducer","ViewDesignerModule","AdaptCodeViewerModule","RxBladeModule","RxValidationIssuesModule","RxJsonViewerModule","ViewActionDesignModule","RxDesignerHeaderModule","RxInspectorModule","StoreModule","EffectsModule","ViewRuntimePageComponent_rx_runtime_view_0_Template","onCancelView","onCloseView","ViewRuntimePageComponent","route","rxPageTitleService","rxPreviousStateService","rxRuntimeViewRegistryService","rxIframeUtilsService","showRuntimeView","currentRoute","setPageComponent","isRunningInIframe","gainsightInitConfiguration$","updateConfig","getAll","runtimeView","canClose","confirmDeactivation","onCloseOrCancel","RX_RUNTIME_VIEW","postMessageToHost","goToPrevState","routes","pathMatch","ViewRuntimePageRoutingModule","ViewRuntimePageModule","RuntimeViewCanvasItemContainerComponent_ng_container_0_div_2_ng_container_1_Template","RuntimeViewCanvasItemContainerComponent_ng_container_0_div_2_Template","RuntimeViewCanvasItemContainerComponent_ng_container_0_Template","RuntimeViewCanvasItemContainerComponent_ng_container_1_ng_container_1_Template","RuntimeViewCanvasItemContainerComponent_ng_container_1_Template","RuntimeViewCanvasItemContainerComponent_ng_template_2_rx_runtime_view_canvas_item_0_Template","layoutItem_r10","RuntimeViewCanvasItemContainerComponent_ng_template_2_Template","layoutItems_r8","a2","RuntimeViewRootComponent_rx_runtime_view_canvas_item_container_0_Template","layoutRole","Header","Footer","RuntimeViewCanvasComponent_rx_runtime_view_canvas_item_0_Template","RuntimeViewComponent_rx_runtime_view_canvas_0_Template","runtimeViewModel","onViewComponentPropertyChanged","runtimeViewLayoutService","RuntimeViewModalComponent_ng_container_0_div_1_button_3_Template","closeLabel","RuntimeViewModalComponent_ng_container_0_div_1_Template","RuntimeViewModalComponent_ng_container_0_Template","isBlade","RuntimeViewModalComponent_ng_template_1_button_3_Template","RuntimeViewModalComponent_ng_template_1_Template","RuntimeViewModalComponent_adapt_alert_3_Template","loaderType","backdrop","RuntimeLayoutOutletColumn","RuntimeLayoutOutlet","RuntimeLayoutItem","parent","initializeOutlets","layoutOutletItem","addLayoutItem","layoutTreeItem","columnConfig","outletItem","parentOutlet","RuntimeViewCanvasService","componentPropertyChangedSubject","componentPropertyChanged$","componentPropertyChange","RuntimeViewCanvasItemService","runtimeViewCanvasService","hasMargin","hasAutoFill","hasAutoScroll","componentInstance","propertyChange","autoScroll","autoFill","containerComponentFactory","RuntimeViewCanvasItemComponent","runtimeViewCanvasItemService","RuntimeViewCanvasItemContainerComponent","RuntimeViewRootComponent","ViewLayoutRole","RuntimeViewLayoutService","factoryResolver","tree","componentDefinitionItem","isDataViewComponentDefinition","parentComponentDefinitionLayout","viewComponentConfig","viewComponentStates","parentLayoutItem","getLayoutItem","initializeView","flattenBy","currentLayout","flattenedLayoutItem","RuntimeViewModelApi","eventName","skipDirtyCheck","ComponentExpression","customEvaluatorService","expressionContext","hasDependency","hasTokens","hasKeywordTokens","hasViewTokens","hasViewIsValidToken","hasComponentTokens","ViewComponentEventManager","executeActions","actionCallback","resultValue","mergeScan","currentAction","RxRuntimeViewUtilsService","hasPageComponent","hasViewCancellingAction","containerViewComponentDefinition","componentPairs","regex","RX_GUID","adapterObservables$","getRuntimeAdapter","findViewComponent","RxViewDefinitionAdapterService","rxDeviceDetectionService","preProcessViewDefinition","postProcessViewDefinition","filterComponentsForDevice","RX_AVAILABLE_ON_DEVICES_ALL_VALUE","currentDevice","updatedLayout","RuntimeViewModel","rxBundleService","rxViewDefinitionAdapterService","viewComponentEventManager","saveSubject","closeSubject","cancelSubject","save$","close$","cancel$","ownerBundleIds","viewComponent","getActionOwnerBundleId","getComponentOwnerBundleId","distinct","bundleIds","loadBundles","resolveAsyncDescriptors","processViewDefinition","callRuntimeComponentsApi","viewOutputParams","evaluateViewOutputParams","isDirtyView","actionsResult","viewComponentState","eventState","eventStates","actionStates","actionState","onViewComponentActionOutputChanged","publicState","updateEvaluationData","updateComponentConfigProperty","updateViewComponentConfig","dependentViewComponentGuids","dependentViewComponentsMap","dependentViewComponentStates","viewComponentGuid","getDependentViewComponentStates","dependentViewComponentState","evaluateDependentProperties","isDataViewComponent","getParentViewComponent","triggerViewValidation","isDirtySubject","isUserInteractionDetected","dependentOnViewIsValidPropViewComponentGuids","evaluateComponentExpressions","currentViewComponentState","parentViewComponentGuid","expressionFilterFn","isDependentComponentState","expressions","isDependentEventState","buildComponentConfig","viewComponentConfigState","configState","buildComponentChildDataConfig","viewComponentChildConfig","dataViewComponentChildStates","childViewComponentGuids","dataViewComponentChildStateGroups","dataViewComponentState","dataViewComponentStateChild","dataViewComponentChildState","viewActionOutput","outputParam","processComponentDefinition","componentExpression","buildViewComponentState","configuredParamNames","passedParamNames","inputParamName","paramIndex","definitionParamName","viewComponentPropertyDescriptor","isExpressionEvaluationEnabled","isContainerComponentDefinition","currentComponentDefinition","actionComponentDefinition","buildViewComponentActionState","actionPropertyDescriptor","initializeActionExpressionForProperty","updateActionConfigProperty","methodName","args","resultSubject","apiCallResults","Observable","results","expressionFilterFunc","evaluatedValue","viewComponentDescriptor","processPropertyValue","viewActionDescriptor","viewActionParameterDescriptor","primaryPropertyName","RxRuntimeViewRegistryService","activeRuntimeViews","unregister","RuntimeViewCanvasComponent","componentPropertyChanged","destroy$","RuntimeViewComponent","closeView","cancelView","beforeLoad","afterLoad","onTrigger","viewDefinitionGuid","customCssClasses","isComponentHidden","RuntimeViewCanvasOutletComponent","onClose","onBeforeLoad","busySubscription","onAfterLoad","SplitComponent_ng_template_1_div_0_Template","index_r1","startDragging","clickGutter","gutterSize","SplitComponent_ng_template_1_Template","last_r2","getPointFromEvent","changedTouches","x","clientX","y","clientY","getElementPixelSize","elRef","rect","getInputBoolean","getInputPositiveNumber","isUserSizesValid","unit","s","getAreaMinSize","lockSize","minSize","getAreaMaxSize","getGutterSideAbsorptionCapacity","sideAreas","pixels","allAreasSizePixel","area","areaSnapshot","pixelAbsorb","percentAfterAbsorption","sizePercentAtStart","pixelRemain","sizePixelAtStart","tempPixelSize","tempPercentSize","maxSizePixel","minSizePixel","getAreaAbsorptionCapacityPercent","containerSizePixel","getAreaAbsorptionCapacityPixel","getAreaAbsorptionCapacity","remain","updateAreaSize","cdRef","_direction","_unit","_gutterSize","_gutterStep","_restrictMove","_useTransition","_disabled","_dir","_gutterDblClickDuration","dragStart","dragEnd","gutterClick","gutterDblClick","dragProgressSubject","dragProgress$","isDragging","isWaitingClear","dragListeners","snapshot","startPoint","endPoint","displayedAreas","hidedAreas","_clickTimeout","build","restrictMove","useTransition","dir","gutterDblClickDuration","transitionEnd","subscriber","transitionEndSubscriber","getNbGutters","addArea","newArea","removeArea","updateArea","resetOrders","resetSizes","showArea","areas","hideArea","getVisibleAreaSizes","formatedSizes","_size","stopDragging","setStyleOrder","useUserSizes","defaultSize","wildcardSizeAreas","alreadyGotOne","refreshStyleSizes","setStyleFlex","sumGutterSize","gutterNum","tempPoint","clearTimeout","notify","gutterOrder","lastSteppedOffset","allInvolvedAreasSizePercent","areasBeforeGutter","areasAfterGutter","listen","dragEvent","lockEvents","gutterEls","offset","steppedOffset","areasBefore","areasAfter","abs","areaToReset","unlockEvents","fct","exportAs","ngContentSelectors","ctorParameters","NgZone","ChangeDetectorRef","Renderer2","propDecorators","Input","Output","ViewChildren","SplitAreaDirective","_order","_minSize","_maxSize","_lockSize","_visible","lockListeners","transitionListener","setStyle","grow","shrink","basis","isMin","isMax","forRoot","ngModule","forChild","ngJitMode","module","ElementQueries","cssStyleElement","allQueries","idToSelectorMapping","getEmSize","documentElement","getComputedStyle","getElementSize","convertToPx","numbers","clientHeight","vw","vh","chooser","SetupInformation","elementSize","actualValue","attrValues","attrValue","attrName","substr","removeAttribute","setupElement","elementQueriesSetupInformation","elementQueriesSensor","queueQuery","getQuery","$$","jQuery","findElementQueriesElements","elements","j","attachResponsiveImage","rules","sources","defaultImageId","lastActiveImage","loadedImages","src","rule","imageToDisplay","image","Image","onload","resizeSensorInstance","findResponsiveImages","attrRegex","extractQuery","css","smatch","attrs","attrMatch","readRules","selectorText","cssText","cssRules","styleSheet","defaultCssInjected","animationStart","addEventListener","animationName","getPropertyValue","getElementsByTagName","appendChild","styleSheets","href","console","warn","domLoaded","callback","navigator","userAgent","DOMLoadTimer","setInterval","readyState","clearInterval","globalWindow","self","Function","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","forEachElement","elementsType","isCollectionTyped","Elements","lastAnimationFrameForInvisibleCheck","EventQueue","q","ev","sizeInfo","newQueue","attachResizeEvent","resized","resizedAttached","pointerEvents","position","top","bottom","overflow","zIndex","visibility","styleChild","transition","expand","expandChild","shrinkChild","computedStyle","rafId","lastWidth","lastHeight","initialHiddenCheck","resetExpandShrink","scrollLeft","resetSensor","onResized","onScroll","addEvent","cb","attachEvent","elem","contains","removeChild","MutationObserver","observer","mutations","addedNodes","childList","subtree"],"mappings":"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","file":"node_modules_helix_platform_fesm2015_helix-platform-view-runtime-page_js.js","sourcesContent":["import * as i0 from '@angular/core';\nimport { Injectable, Component, Input, ViewChild, EventEmitter, Output, NgModule } from '@angular/core';\nimport * as i3$1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i1$4 from '@helix/platform/view/api';\nimport { RowDataItemIdFieldName } from '@helix/platform/view/api';\nimport * as i3 from '@helix/platform/shared/api';\nimport { DataPage, RX_APPLICATION, RX_RESOURCE_URLS, JustificationRequirement, RxDefinitionModule } from '@helix/platform/shared/api';\nimport { of, Subject, NEVER, combineLatest, EMPTY, iif, forkJoin } from 'rxjs';\nimport * as i10 from '@helix/platform/view/components';\nimport { RowSelectionMode, RecordGridModule } from '@helix/platform/view/components';\nimport * as i2 from '@helix/platform/record/api';\nimport { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport * as i1$1 from '@ngx-translate/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { map as map$1, some, trim, forEach, omit, includes, noop, reject, isNil, findIndex, cloneDeep, find } from 'lodash';\nimport * as i1 from '@angular/common/http';\nimport { map, finalize, switchMap, tap } from 'rxjs/operators';\nimport * as i6$1 from '@helix/platform/ui-kit';\nimport { RxModalClass, ReadOnlyFieldsModalComponent, RX_MODAL, ReadOnlyFieldModule, RxBusyIndicatorModule } from '@helix/platform/ui-kit';\nimport * as i1$2 from '@bmc-ux/adapt-angular';\nimport { DismissReasons, AdaptButtonModule, AdaptDropdownModule, AdaptTabsModule, AdaptEmptyStateModule, AdaptRxTextareaModule, AdaptRxUploaderModule, AdaptBusyModule, AdaptDownloadModule, AdaptRxLabelModule, AdaptRxSwitchModule, AdaptAlertModule, AdaptRxTextfieldModule } from '@bmc-ux/adapt-angular';\nimport * as i5 from '@helix/platform/shared/components';\nimport { RxSelectWithPaginationModule } from '@helix/platform/shared/components';\nimport * as i6 from '@angular/forms';\nimport { FormsModule } from '@angular/forms';\nimport moment from 'moment-es6';\nimport * as i1$3 from '@helix/platform/utils';\nimport { BaseViewComponent } from '@helix/platform/view/runtime';\n\nclass RxSignatureDetailDataPageService extends DataPage {\n    constructor(injector) {\n        super(injector, 'com.bmc.arsys.rx.approval.application.datapage.SignatureDetailDataPageQuery');\n        this.injector = injector;\n    }\n}\nRxSignatureDetailDataPageService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSignatureDetailDataPageService, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\nRxSignatureDetailDataPageService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSignatureDetailDataPageService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSignatureDetailDataPageService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nvar ApprovalRequestStatus;\n(function (ApprovalRequestStatus) {\n    ApprovalRequestStatus[\"Pending\"] = \"Pending\";\n    ApprovalRequestStatus[\"Hold\"] = \"On Hold\";\n    ApprovalRequestStatus[\"MoreInfo\"] = \"More Information\";\n    ApprovalRequestStatus[\"RequestMoreInfo\"] = \"Request More Information\";\n    ApprovalRequestStatus[\"NeedsAttention\"] = \"Needs Attention\";\n    ApprovalRequestStatus[\"Approved\"] = \"Approved\";\n    ApprovalRequestStatus[\"Rejected\"] = \"Rejected\";\n    ApprovalRequestStatus[\"Cancelled\"] = \"Cancelled\";\n    ApprovalRequestStatus[\"Error\"] = \"Error\";\n    ApprovalRequestStatus[\"Closed\"] = \"Closed\";\n})(ApprovalRequestStatus || (ApprovalRequestStatus = {}));\nvar ApprovalGridType;\n(function (ApprovalGridType) {\n    ApprovalGridType[\"ApprovalRequests\"] = \"approvalRequests\";\n    ApprovalGridType[\"NeedAttentionRequests\"] = \"needAttentionRequests\";\n})(ApprovalGridType || (ApprovalGridType = {}));\nvar ApprovalCommandType;\n(function (ApprovalCommandType) {\n    ApprovalCommandType[\"Approved\"] = \"Approved\";\n    ApprovalCommandType[\"Rejected\"] = \"Rejected\";\n    ApprovalCommandType[\"OnHold\"] = \"OnHold\";\n    ApprovalCommandType[\"Reassign\"] = \"Reassign\";\n})(ApprovalCommandType || (ApprovalCommandType = {}));\n\nconst RX_APPROVAL_CONSOLE = {\n    approvalServerCommand: 'com.bmc.arsys.rx.approval.application.command.ApprovalServerCommand',\n    approvalCommandForm: 'AP:Signature',\n    approvalUserNameField: 101,\n    approvalRequestTypes: {\n        pending: {\n            status: ApprovalRequestStatus.Pending,\n            countType: 'pendingCount',\n            gridType: ApprovalGridType.ApprovalRequests,\n            badgeType: 'warning',\n            labelKey: 'com.bmc.arsys.rx.client.approval.console.request.pending.label'\n        },\n        onHold: {\n            status: ApprovalRequestStatus.Hold,\n            countType: 'holdCount',\n            gridType: ApprovalGridType.ApprovalRequests,\n            badgeType: 'warning',\n            labelKey: 'com.bmc.arsys.rx.client.approval.console.request.hold.label'\n        },\n        moreInfo: {\n            status: ApprovalRequestStatus.RequestMoreInfo,\n            countType: 'moreInformationCount',\n            gridType: ApprovalGridType.ApprovalRequests,\n            badgeType: 'info',\n            labelKey: 'com.bmc.arsys.rx.client.approval.console.request.more-info.label'\n        },\n        needAttention: {\n            status: ApprovalRequestStatus.NeedsAttention,\n            countType: 'needAttentionCount',\n            gridType: ApprovalGridType.NeedAttentionRequests,\n            badgeType: 'warning',\n            labelKey: 'com.bmc.arsys.rx.client.approval.console.request.needs-attention.label'\n        },\n        approved: {\n            status: ApprovalRequestStatus.Approved,\n            countType: 'approvedCount',\n            gridType: ApprovalGridType.ApprovalRequests,\n            badgeType: 'success',\n            labelKey: 'com.bmc.arsys.rx.client.approval.console.request.approved.label'\n        },\n        rejected: {\n            status: ApprovalRequestStatus.Rejected,\n            countType: 'rejectedCount',\n            gridType: ApprovalGridType.ApprovalRequests,\n            badgeType: 'danger',\n            labelKey: 'com.bmc.arsys.rx.client.approval.console.request.rejected.label'\n        },\n        cancelled: {\n            status: ApprovalRequestStatus.Cancelled,\n            countType: 'cancelledCount',\n            gridType: ApprovalGridType.ApprovalRequests,\n            badgeType: 'secondary',\n            labelKey: 'com.bmc.arsys.rx.client.approval.console.request.canceled.label'\n        },\n        error: {\n            status: ApprovalRequestStatus.Error,\n            countType: 'errorCount',\n            gridType: ApprovalGridType.ApprovalRequests,\n            badgeType: 'danger',\n            labelKey: 'com.bmc.arsys.rx.client.approval.console.request.errored.label'\n        },\n        closed: {\n            status: ApprovalRequestStatus.Closed,\n            countType: 'closedCount',\n            gridType: ApprovalGridType.ApprovalRequests,\n            badgeType: 'secondary',\n            labelKey: 'com.bmc.arsys.rx.client.approval.console.request.closed.label'\n        }\n    },\n    approvalRequestsGrid: {\n        fields: {\n            application: 'application',\n            summary: 'summary',\n            requester: 'requester',\n            status: 'status',\n            request: 'request',\n            createDateSig: 'createDateSig',\n            process: 'process',\n            signatureInstanceID: 'signatureInstanceID',\n            justificationReasonField: 'justification',\n            sigTermStateDate: 'sigTermStateDate',\n            signatureID: 'signatureID',\n            otherDetail1: 'otherDetail1',\n            otherDetail2: 'otherDetail2',\n            otherDetail3: 'otherDetail3',\n            otherDetail4: 'otherDetail4',\n            justificationRequired: 'justificationRequired',\n            canReassign: 'canReassign',\n            processInstanceId: 'processInstanceId',\n            ifMultipleApprovers: 'ifMultipleApprovers',\n            actingAs: 'actingAs'\n        }\n    },\n    needAttentionRequestsGrid: {\n        definition: 'AP:More Information',\n        fields: {\n            fromUser: '2',\n            toUser: '4',\n            description: '14506',\n            application: '10050',\n            requestID: '10051',\n            attachment: '14893',\n            question: '13300',\n            response: '13301',\n            state: '11016'\n        }\n    },\n    requestDetailsGrid: {\n        definition: 'AP:QCI-Detail-Join',\n        approverDefinition: 'AP:PreviewInfo',\n        questionDefinition: 'AP:Question-Comment-Info',\n        questionTypeValue: 0,\n        commentTypeValue: 1,\n        fields: {\n            from: 2,\n            to: 4,\n            application: 11001,\n            type: 11002,\n            signatureID: 11003,\n            request: 11004,\n            requestNumber: 13334,\n            process: 10000,\n            response: 11005,\n            question: 11006,\n            attachment: 11011,\n            approver: 14201\n        }\n    }\n};\n\nclass RxApprovalUsersDataPageService extends DataPage {\n    constructor(injector) {\n        super(injector, 'com.bmc.arsys.rx.approval.application.datapage.ApprovalUsersDataPageQuery');\n        this.injector = injector;\n    }\n}\nRxApprovalUsersDataPageService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApprovalUsersDataPageService, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\nRxApprovalUsersDataPageService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApprovalUsersDataPageService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApprovalUsersDataPageService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nclass RxApprovalConsoleService {\n    constructor(httpClient, rxSignatureDetailDataPageService, rxCurrentUserService, rxRecordInstanceUtilsService, rxApprovalUsersDataPageService) {\n        this.httpClient = httpClient;\n        this.rxSignatureDetailDataPageService = rxSignatureDetailDataPageService;\n        this.rxCurrentUserService = rxCurrentUserService;\n        this.rxRecordInstanceUtilsService = rxRecordInstanceUtilsService;\n        this.rxApprovalUsersDataPageService = rxApprovalUsersDataPageService;\n    }\n    getApprovalRequestCounts() {\n        return this.httpClient.get(`/api/${RX_APPLICATION.approvalBundleId}/rx/application/approval/counts?ignoreAlternateUser=false`);\n    }\n    getRequestLabelDetails(registeredDefinitionName, approvalFlowName) {\n        return this.httpClient.get(`/api/${RX_APPLICATION.approvalBundleId}/rx/application/approval/labels/${encodeURIComponent(registeredDefinitionName)}/${encodeURIComponent(approvalFlowName)}`);\n    }\n    getCurrentRequestDetails(requestId, application) {\n        return this.rxSignatureDetailDataPageService\n            .get({\n            params: {\n                request: requestId,\n                application,\n                ignoreAssignedUser: true\n            }\n        })\n            .pipe(map((response) => response.data[0]));\n    }\n    approveRequest(approvalCommands) {\n        return this.httpClient.post(RX_RESOURCE_URLS.command, {\n            resourceType: RX_APPROVAL_CONSOLE.approvalServerCommand,\n            commands: approvalCommands\n        });\n    }\n    rejectRequest(approvalCommands) {\n        return this.httpClient.post(RX_RESOURCE_URLS.command, {\n            resourceType: RX_APPROVAL_CONSOLE.approvalServerCommand,\n            commands: approvalCommands\n        });\n    }\n    holdRequest(approvalCommands) {\n        return this.httpClient.post(RX_RESOURCE_URLS.command, {\n            resourceType: RX_APPROVAL_CONSOLE.approvalServerCommand,\n            commands: approvalCommands\n        });\n    }\n    reassignRequest(approvalCommands) {\n        return this.httpClient.post(RX_RESOURCE_URLS.command, {\n            resourceType: RX_APPROVAL_CONSOLE.approvalServerCommand,\n            commands: approvalCommands\n        });\n    }\n    getCommandPayload(commandType, requestSignatureInstanceId) {\n        return {\n            formName: RX_APPROVAL_CONSOLE.approvalCommandForm,\n            requestID: requestSignatureInstanceId,\n            command: commandType\n        };\n    }\n    saveQuestion(formData, type) {\n        return this.httpClient.post(`/api/${RX_APPLICATION.approvalBundleId}/rx/application/approval/moreinformation/${type}`, formData);\n    }\n    saveAttachment(formData, guid) {\n        return this.httpClient.post(`${RX_RECORD_DEFINITION.recordInstanceAttachment}/${encodeURIComponent(RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.definition)}/${guid}`, formData);\n    }\n    getApprovalUsers(startIndex, pageSize, searchQuery) {\n        const queryParams = {\n            startIndex: startIndex,\n            pageSize: pageSize,\n            propertySelection: ['loginName', 'fullName']\n        };\n        queryParams.queryExpression = `'${RX_APPROVAL_CONSOLE.approvalUserNameField}'!=\"${this.rxCurrentUserService.getName()}\"`;\n        if (searchQuery) {\n            queryParams.queryExpression +=\n                ` AND ('${RX_RECORD_DEFINITION.coreFieldIds.description}' LIKE \"%${this.rxRecordInstanceUtilsService.escapeTextWildcards(searchQuery)}%\"` +\n                    ` OR '${RX_APPROVAL_CONSOLE.approvalUserNameField}' LIKE \"%${this.rxRecordInstanceUtilsService.escapeTextWildcards(searchQuery)}%\")`;\n        }\n        return this.rxApprovalUsersDataPageService\n            .get({\n            params: Object.assign({ startIndex, pageSize }, queryParams)\n        })\n            .pipe(map((response) => ({\n            totalSize: response.totalSize,\n            options: response.data.map(({ fullName, loginName }) => ({\n                displayValue: fullName,\n                value: loginName\n            }))\n        })));\n    }\n}\nRxApprovalConsoleService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApprovalConsoleService, deps: [{ token: i1.HttpClient }, { token: RxSignatureDetailDataPageService }, { token: i3.RxCurrentUserService }, { token: i2.RxRecordInstanceUtilsService }, { token: RxApprovalUsersDataPageService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxApprovalConsoleService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApprovalConsoleService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApprovalConsoleService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }, { type: RxSignatureDetailDataPageService }, { type: i3.RxCurrentUserService }, { type: i2.RxRecordInstanceUtilsService }, { type: RxApprovalUsersDataPageService }]; } });\n\nclass ApprovalRequestReassignComponent extends RxModalClass {\n    constructor(translateService, rxNotificationService, activeModalRef, rxApprovalConsoleService, injector) {\n        super(activeModalRef, injector);\n        this.translateService = translateService;\n        this.rxNotificationService = rxNotificationService;\n        this.activeModalRef = activeModalRef;\n        this.rxApprovalConsoleService = rxApprovalConsoleService;\n        this.injector = injector;\n        this.selectedUser = [];\n        this.userLoaderFunc = this.getApprovalUsers.bind(this);\n    }\n    isDirty() {\n        return !!this.selectedUser.length;\n    }\n    reassign() {\n        this.allowDismiss = false;\n        const commands = map$1(this.activeModalRef.getData().selectedRequestInstanceIds, (signatureInstance) => (Object.assign({ assignToApprovers: this.selectedUser[0].value }, this.rxApprovalConsoleService.getCommandPayload(ApprovalCommandType.Reassign, signatureInstance))));\n        this.rxApprovalConsoleService\n            .reassignRequest(commands)\n            .pipe(finalize(() => {\n            this.allowDismiss = true;\n        }))\n            .subscribe(() => {\n            this.rxNotificationService.addSuccessMessage(this.translateService.instant('com.bmc.arsys.rx.client.approval.console.request.reassigned.message'));\n            this.activeModalRef.close(true);\n        });\n    }\n    cancel() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n    getApprovalUsers(startIndex, pageSize, searchQuery) {\n        return this.rxApprovalConsoleService.getApprovalUsers(startIndex, pageSize, searchQuery);\n    }\n    optionFormatter(option) {\n        return `${option.value} ${option.displayValue}`;\n    }\n}\nApprovalRequestReassignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestReassignComponent, deps: [{ token: i1$1.TranslateService }, { token: i3.RxNotificationService }, { token: i1$2.ActiveModalRef }, { token: RxApprovalConsoleService }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nApprovalRequestReassignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ApprovalRequestReassignComponent, selector: \"rx-approval-request-reassign\", usesInheritance: true, ngImport: i0, template: \"<div class=\\\"modal-header\\\">\\n  <h5 class=\\\"modal-title\\\">\\n    {{ 'com.bmc.arsys.rx.client.approval.console.request.reassign-dialog.title' | translate }}\\n  </h5>\\n\\n  <button\\n    class=\\\"close dp-close\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"x-button\\\"\\n    [disabled]=\\\"!allowDismiss\\\"\\n    (click)=\\\"cancel()\\\"\\n  ></button>\\n</div>\\n\\n<div class=\\\"modal-body\\\">\\n  <rx-select-with-pagination\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.approval.console.request.reassign.label' | translate }}\\\"\\n    class=\\\"form-group d-block\\\"\\n    [(ngModel)]=\\\"selectedUser\\\"\\n    [optionLoader]=\\\"userLoaderFunc\\\"\\n    [required]=\\\"true\\\"\\n    [template]=\\\"optionTemplate\\\"\\n    [optionFormatter]=\\\"optionFormatter\\\"\\n  ></rx-select-with-pagination>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button\\n    adapt-button\\n    class=\\\"mr-2\\\"\\n    btn-type=\\\"primary\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"save-button\\\"\\n    [adaptInlineLoader]=\\\"!allowDismiss\\\"\\n    [disabled]=\\\"!selectedUser.length || !allowDismiss\\\"\\n    (click)=\\\"reassign()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n\\n  <button\\n    adapt-button\\n    type=\\\"button\\\"\\n    btn-type=\\\"secondary\\\"\\n    rx-id=\\\"cancel-button\\\"\\n    (click)=\\\"cancel()\\\"\\n    [disabled]=\\\"!allowDismiss\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\\n  </button>\\n</div>\\n\\n<ng-template #optionTemplate let-option>\\n  <strong>{{ option.displayValue }}</strong>\\n\\n  <div class=\\\"text-secondary\\\">\\n    {{ option.value }}\\n  </div>\\n</ng-template>\\n\", components: [{ type: i5.RxSelectWithPaginationComponent, selector: \"rx-select-with-pagination\", inputs: [\"label\", \"required\", \"isMultiSelectionMode\", \"optionLoader\", \"pageSize\", \"showDefaultTitle\", \"showUncheckAll\", \"readonly\", \"template\", \"viewToModelValueAdapter\", \"modelToViewValueAdapter\", \"optionFormatter\"], outputs: [\"toggleDropdown\", \"selectionChange\"] }, { type: i1$2.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i6.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i6.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i6.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i1$2.AdaptInlineStandaloneDirective, selector: \"[adaptInlineLoader]\", inputs: [\"adaptInlineLoader\", \"activeText\"] }], pipes: { \"translate\": i1$1.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestReassignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-approval-request-reassign',\n                    templateUrl: './approval-request-reassign.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.TranslateService }, { type: i3.RxNotificationService }, { type: i1$2.ActiveModalRef }, { type: RxApprovalConsoleService }, { type: i0.Injector }]; } });\n\nclass ApprovalRequestQuestionResponseComponent extends RxModalClass {\n    constructor(activeModalRef, rxRecordInstanceService, rxNotificationService, translateService, rxApprovalConsoleService, injector) {\n        super(activeModalRef, injector);\n        this.activeModalRef = activeModalRef;\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.rxNotificationService = rxNotificationService;\n        this.translateService = translateService;\n        this.rxApprovalConsoleService = rxApprovalConsoleService;\n        this.injector = injector;\n        this.request = this.activeModalRef.getData().selectedRequest;\n        this.attachment = [];\n        this.enableCustomDownload = true;\n        this.existingAttachmentName = this.request[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.attachment];\n        this.downloadAttachment = () => {\n            this.rxRecordInstanceService.downloadAttachment(RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.definition, Number(RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.attachment), this.request[RX_RECORD_DEFINITION.coreFieldIds.id], this.request[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.attachment]);\n        };\n    }\n    isDirty() {\n        return !this.isSaveButtonDisabled();\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        if (this.existingAttachmentName) {\n            this.attachment = this.getExistingFile();\n        }\n    }\n    sendResponse() {\n        this.allowDismiss = false;\n        this.rxRecordInstanceService\n            .get(RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.definition, this.request[RX_RECORD_DEFINITION.coreFieldIds.id])\n            .pipe(switchMap((recordInstance) => {\n            recordInstance.setFieldValue(Number(RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.response), this.response);\n            return this.rxRecordInstanceService.save(recordInstance);\n        }), tap(() => {\n            this.rxNotificationService.addSuccessMessage(this.translateService.instant('com.bmc.arsys.rx.client.approval.console.question-response-dialog.response-added.message'));\n        }), switchMap(() => {\n            if (this.shouldSaveAttachment) {\n                const recordInstanceFormData = new FormData();\n                recordInstanceFormData.append(RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.attachment, this.attachment[0].data, this.attachment[0].data.name);\n                return this.rxApprovalConsoleService.saveAttachment(recordInstanceFormData, this.request[RX_RECORD_DEFINITION.coreFieldIds.id]);\n            }\n            else {\n                return of(null);\n            }\n        }), finalize(() => {\n            this.allowDismiss = true;\n        }))\n            .subscribe(() => {\n            this.activeModalRef.close(true);\n        });\n    }\n    onRemovedFileFromQueue() {\n        this.enableCustomDownload = false;\n    }\n    onAfterFilesAdded() {\n        this.shouldSaveAttachment = true;\n    }\n    cancel() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n    getExistingFile() {\n        return [\n            {\n                data: new File([], this.existingAttachmentName),\n                inUploading: false,\n                inDeleting: false,\n                uploaded: 100,\n                error: false,\n                errorText: '',\n                allowDeletion: true\n            }\n        ];\n    }\n    isSaveButtonDisabled() {\n        var _a;\n        return !this.allowDismiss || !this.response || (this.existingAttachmentName && !((_a = this.attachment[0]) === null || _a === void 0 ? void 0 : _a.data));\n    }\n}\nApprovalRequestQuestionResponseComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestQuestionResponseComponent, deps: [{ token: i1$2.ActiveModalRef }, { token: i2.RxRecordInstanceService }, { token: i3.RxNotificationService }, { token: i1$1.TranslateService }, { token: RxApprovalConsoleService }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nApprovalRequestQuestionResponseComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ApprovalRequestQuestionResponseComponent, selector: \"rx-approval-request-question-response\", usesInheritance: true, ngImport: i0, template: \"<div class=\\\"modal-header\\\">\\n  <h5 class=\\\"modal-title\\\">\\n    {{ 'com.bmc.arsys.rx.client.approval.console.question-response-dialog.title' | translate }}\\n  </h5>\\n\\n  <button\\n    class=\\\"close dp-close\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"x-button\\\"\\n    [disabled]=\\\"!allowDismiss\\\"\\n    (click)=\\\"cancel()\\\"\\n  ></button>\\n</div>\\n\\n<div class=\\\"modal-body\\\">\\n  <rx-read-only-field\\n    class=\\\"d-block form-group\\\"\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.approval.console.question-response-dialog.to-field.label' | translate }}\\\"\\n    value=\\\"{{ request['2'] }}\\\"\\n  ></rx-read-only-field>\\n\\n  <rx-read-only-field\\n    class=\\\"d-block form-group\\\"\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.common.question.label' | translate }}\\\"\\n    value=\\\"{{ request['13300'] }}\\\"\\n  ></rx-read-only-field>\\n\\n  <adapt-rx-textarea\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.approval.console.question-response-dialog.response-field.label' | translate }}\\\"\\n    class=\\\"d-block form-group\\\"\\n    [(ngModel)]=\\\"response\\\"\\n    [required]=\\\"true\\\"\\n    [autofocus]=\\\"true\\\"\\n    rows=\\\"2\\\"\\n  ></adapt-rx-textarea>\\n\\n  <adapt-rx-uploader\\n    adaptRequired\\n    [(ngModel)]=\\\"attachment\\\"\\n    [required]=\\\"existingAttachmentName\\\"\\n    [showMaxSizeRestriction]=\\\"false\\\"\\n    (removedFileFromQueue)=\\\"onRemovedFileFromQueue()\\\"\\n    (afterFilesAdded)=\\\"onAfterFilesAdded()\\\"\\n    [enableCustomDownload]=\\\"enableCustomDownload\\\"\\n    [customDownload]=\\\"downloadAttachment\\\"\\n    [reusable]=\\\"true\\\"\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.common.attachment.label' | translate }}\\\"\\n  >\\n  </adapt-rx-uploader>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button\\n    adapt-button\\n    class=\\\"mr-2\\\"\\n    btn-type=\\\"primary\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"save-button\\\"\\n    [disabled]=\\\"isSaveButtonDisabled()\\\"\\n    [adaptInlineLoader]=\\\"!allowDismiss\\\"\\n    (click)=\\\"sendResponse()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n\\n  <button\\n    adapt-button\\n    type=\\\"button\\\"\\n    btn-type=\\\"secondary\\\"\\n    rx-id=\\\"cancel-button\\\"\\n    (click)=\\\"cancel()\\\"\\n    [disabled]=\\\"!allowDismiss\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\\n  </button>\\n</div>\\n\", styles: [\":host ::ng-deep rx-read-only-field .read-only-content{max-height:9em;overflow-y:auto;word-break:break-all;white-space:pre-wrap}:host ::ng-deep adapt-rx-uploader .adapt-uploader-file-uploaded{display:none}\\n\"], components: [{ type: i6$1.ReadOnlyFieldComponent, selector: \"rx-read-only-field\", inputs: [\"label\", \"value\"] }, { type: i1$2.AdaptRxTextareaComponent, selector: \"adapt-rx-textarea\", inputs: [\"rows\", \"maxRows\", \"autocomplete\", \"placeholder\", \"size\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i1$2.AdaptRxUploaderComponent, selector: \"adapt-rx-uploader\", inputs: [\"uploadMode\", \"selectionMode\", \"enableFileDialog\", \"allowedTypes\", \"forbiddenTypes\", \"suppressParallel\", \"filesCount\", \"allowDuplicates\", \"showUploadFolderAlert\", \"visibleFiles\", \"reusable\", \"allowDeletion\", \"customErrors\", \"indeterminateFileLoader\", \"url\", \"deleteUrl\", \"droppableArea\", \"enableCustomDownload\", \"customDownload\", \"popoverAppendToBody\", \"showTypesRestriction\", \"showMinSizeRestriction\", \"showMaxSizeRestriction\", \"showFilesCountRestriction\", \"texts\", \"icons\", \"fileErrors\", \"enableDnD\", \"maxFileSize\", \"minFileSize\", \"chunkSize\", \"testID\"], outputs: [\"beforeFileDialogOpen\", \"afterFileDialogOpen\", \"beforeFilesAdded\", \"afterFilesAdded\", \"dropped\", \"dragOver\", \"startFileUploading\", \"processFileUploading\", \"endFileUploading\", \"errorFileUploading\", \"finishedFileUploading\", \"removedFileFromQueue\", \"deletedFile\", \"cancelUploading\"] }, { type: i1$2.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i6.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i6.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i6.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i1$2.AdaptInlineStandaloneDirective, selector: \"[adaptInlineLoader]\", inputs: [\"adaptInlineLoader\", \"activeText\"] }], pipes: { \"translate\": i1$1.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestQuestionResponseComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-approval-request-question-response',\n                    templateUrl: './approval-request-question-response.component.html',\n                    styleUrls: ['./approval-request-question-response.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1$2.ActiveModalRef }, { type: i2.RxRecordInstanceService }, { type: i3.RxNotificationService }, { type: i1$1.TranslateService }, { type: RxApprovalConsoleService }, { type: i0.Injector }]; } });\n\nclass ApprovalRequestActionReasonInputComponent extends RxModalClass {\n    constructor(activeModalRef, rxNotificationService, translateService, rxApprovalConsoleService, injector) {\n        super(activeModalRef, injector);\n        this.activeModalRef = activeModalRef;\n        this.rxNotificationService = rxNotificationService;\n        this.translateService = translateService;\n        this.rxApprovalConsoleService = rxApprovalConsoleService;\n        this.injector = injector;\n        this.currentRequestIndex = 0;\n        this.requests = [];\n        this.title = this.activeModalRef.getData().modalTitle;\n        this.commandType = this.activeModalRef.getData().commandType;\n    }\n    isDirty() {\n        return some(this.requests, (request) => request.reason);\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.requests = map$1(this.activeModalRef.getData().selectedRequests, (request) => ({\n            requestId: request[RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.request],\n            requestSignatureInstanceId: request[RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.signatureInstanceID],\n            reason: null,\n            isReasonRequired: request.justificationRequired === 'TO_APPROVE_OR_REJECT' ||\n                (this.commandType === ApprovalCommandType.Approved && request.justificationRequired === 'TO_APPROVE') ||\n                (this.commandType === ApprovalCommandType.Rejected && request.justificationRequired === 'TO_REJECT')\n        }));\n    }\n    isSaveButtonDisabled() {\n        return (!this.allowDismiss ||\n            (some(this.requests, (request) => request.isReasonRequired && this.isReasonEmpty(request.reason)) &&\n                !this.shouldApplySameReasonToAll));\n    }\n    goToPreviousRequest() {\n        this.currentRequestIndex--;\n    }\n    goToNextRequest() {\n        this.currentRequestIndex++;\n    }\n    saveRequests() {\n        this.allowDismiss = false;\n        const commonReason = this.requests[this.currentRequestIndex].reason;\n        const commands = [\n            ...map$1(this.requests, (request) => (Object.assign({ justificationOrReason: this.shouldApplySameReasonToAll ? commonReason : request.reason }, this.rxApprovalConsoleService.getCommandPayload(this.commandType, request.requestSignatureInstanceId))))\n        ];\n        this.rxApprovalConsoleService\n            .rejectRequest(commands)\n            .pipe(finalize(() => {\n            this.allowDismiss = true;\n        }))\n            .subscribe(() => {\n            this.rxNotificationService.addSuccessMessage(this.translateService.instant(this.commandType === ApprovalCommandType.Rejected\n                ? 'com.bmc.arsys.rx.client.approval.console.request.rejected.message'\n                : 'com.bmc.arsys.rx.client.approval.console.request.approved.message'));\n            this.activeModalRef.close(true);\n        });\n    }\n    cancel() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n    isReasonEmpty(reason) {\n        return !trim(reason);\n    }\n}\nApprovalRequestActionReasonInputComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestActionReasonInputComponent, deps: [{ token: i1$2.ActiveModalRef }, { token: i3.RxNotificationService }, { token: i1$1.TranslateService }, { token: RxApprovalConsoleService }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nApprovalRequestActionReasonInputComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ApprovalRequestActionReasonInputComponent, selector: \"rx-approval-request-action-reason-input\", usesInheritance: true, ngImport: i0, template: \"<div class=\\\"modal-header\\\">\\n  <h5 class=\\\"modal-title\\\">\\n    {{ title }}\\n  </h5>\\n\\n  <button\\n    class=\\\"close dp-close\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"x-button\\\"\\n    [disabled]=\\\"!allowDismiss\\\"\\n    (click)=\\\"cancel()\\\"\\n  ></button>\\n</div>\\n\\n<div class=\\\"modal-body\\\">\\n  <adapt-rx-textfield\\n    class=\\\"form-group d-block\\\"\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.approval.configuration.grid.column.requestId' | translate }}\\\"\\n    [(ngModel)]=\\\"requests[currentRequestIndex].requestId\\\"\\n    [readonly]=\\\"true\\\"\\n    rx-id=\\\"request-id\\\"\\n  >\\n  </adapt-rx-textfield>\\n\\n  <adapt-rx-textarea\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.approval.justification-reason.label' | translate }}\\\"\\n    class=\\\"d-block form-group\\\"\\n    [(ngModel)]=\\\"requests[currentRequestIndex].reason\\\"\\n    [required]=\\\"requests[currentRequestIndex].isReasonRequired\\\"\\n    rx-id=\\\"justification-reason\\\"\\n    rows=\\\"2\\\"\\n    [autofocus]=\\\"true\\\"\\n  ></adapt-rx-textarea>\\n\\n  <adapt-rx-switch\\n    class=\\\"d-block mb-2\\\"\\n    [(ngModel)]=\\\"shouldApplySameReasonToAll\\\"\\n    [disabled]=\\\"isReasonEmpty(requests[currentRequestIndex].reason)\\\"\\n    rx-id=\\\"all-request-reason\\\"\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.approval.console.apply-common-justification-reason.label' | translate }}\\\"\\n  ></adapt-rx-switch>\\n\\n  <div class=\\\"text-warning\\\" *ngIf=\\\"shouldApplySameReasonToAll\\\">\\n    {{ 'com.bmc.arsys.rx.client.approval.console.overwrite-justification-reason.warning' | translate }}\\n  </div>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button\\n    type=\\\"button\\\"\\n    adapt-button\\n    class=\\\"mr-2\\\"\\n    btn-type=\\\"secondary\\\"\\n    rx-id=\\\"previous-button\\\"\\n    [disabled]=\\\"currentRequestIndex === 0 || shouldApplySameReasonToAll\\\"\\n    (click)=\\\"goToPreviousRequest()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.previous-step.label' | translate }}\\n  </button>\\n\\n  <button\\n    type=\\\"button\\\"\\n    adapt-button\\n    class=\\\"mr-auto\\\"\\n    btn-type=\\\"secondary\\\"\\n    rx-id=\\\"next-button\\\"\\n    [disabled]=\\\"currentRequestIndex === requests.length - 1 || shouldApplySameReasonToAll\\\"\\n    (click)=\\\"goToNextRequest()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.next-step.label' | translate }}\\n  </button>\\n\\n  <button\\n    type=\\\"button\\\"\\n    adapt-button\\n    class=\\\"mr-2\\\"\\n    btn-type=\\\"primary\\\"\\n    rx-id=\\\"save-button\\\"\\n    [disabled]=\\\"isSaveButtonDisabled()\\\"\\n    [adaptInlineLoader]=\\\"!allowDismiss\\\"\\n    (click)=\\\"saveRequests()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n\\n  <button\\n    adapt-button\\n    type=\\\"button\\\"\\n    btn-type=\\\"secondary\\\"\\n    rx-id=\\\"cancel-button\\\"\\n    (click)=\\\"cancel()\\\"\\n    [disabled]=\\\"!allowDismiss\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\\n  </button>\\n</div>\\n\", components: [{ type: i1$2.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i1$2.AdaptRxTextareaComponent, selector: \"adapt-rx-textarea\", inputs: [\"rows\", \"maxRows\", \"autocomplete\", \"placeholder\", \"size\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i1$2.AdaptRxSwitchComponent, selector: \"adapt-rx-switch\", inputs: [\"value\", \"size\", \"isLabelBefore\", \"checked\"] }, { type: i1$2.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i6.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i6.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i6.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i3$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$2.AdaptInlineStandaloneDirective, selector: \"[adaptInlineLoader]\", inputs: [\"adaptInlineLoader\", \"activeText\"] }], pipes: { \"translate\": i1$1.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestActionReasonInputComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-approval-request-action-reason-input',\n                    templateUrl: './approval-request-action-reason-input.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$2.ActiveModalRef }, { type: i3.RxNotificationService }, { type: i1$1.TranslateService }, { type: RxApprovalConsoleService }, { type: i0.Injector }]; } });\n\nclass RxApprovalConsoleHelperService {\n    constructor(datePipe) {\n        this.datePipe = datePipe;\n    }\n    formatValue(value) {\n        const timeFormat = 'h:mm:ss A';\n        const dateFormat = 'M/D/YYYY';\n        if (!/^\\d+$/.test(value) && moment(value, [`${dateFormat} ${timeFormat}`, moment.ISO_8601], true).isValid()) {\n            value = this.datePipe.transform(new Date(value), 'medium');\n        }\n        else if (moment(value, dateFormat, true).isValid()) {\n            value = this.datePipe.transform(new Date(value), 'mediumDate');\n        }\n        else if (moment(value, timeFormat, true).isValid()) {\n            value = moment(value, timeFormat).format('HH:mm A');\n        }\n        return value;\n    }\n}\nRxApprovalConsoleHelperService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApprovalConsoleHelperService, deps: [{ token: i3$1.DatePipe }], target: i0.ɵɵFactoryTarget.Injectable });\nRxApprovalConsoleHelperService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApprovalConsoleHelperService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApprovalConsoleHelperService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i3$1.DatePipe }]; } });\n\nclass ApprovalRequestGeneralDetailsComponent {\n    constructor(rxApprovalConsoleHelperService, rxDefinitionNameService, datePipe, translateService, rxApprovalConsoleService) {\n        this.rxApprovalConsoleHelperService = rxApprovalConsoleHelperService;\n        this.rxDefinitionNameService = rxDefinitionNameService;\n        this.datePipe = datePipe;\n        this.translateService = translateService;\n        this.rxApprovalConsoleService = rxApprovalConsoleService;\n        this.approvalRequest$ = new Subject();\n        this.allRequestFields$ = this.approvalRequest$.pipe(tap(() => {\n            this.busy = NEVER.subscribe();\n        }), switchMap((currentRequest) => this.gridType === ApprovalGridType.NeedAttentionRequests\n            ? this.rxApprovalConsoleService.getCurrentRequestDetails(currentRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.requestID], currentRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.application])\n            : of(currentRequest)), switchMap((approvalRequest) => combineLatest([\n            of(approvalRequest),\n            this.rxApprovalConsoleService.getRequestLabelDetails(approvalRequest.application, approvalRequest.process)\n        ])), map(([approvalRequest, requestLabelDetails]) => {\n            const allFields = [\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.request-id.label'),\n                    value: approvalRequest.resolvedDisplayValues.request || approvalRequest.request\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.requester.label'),\n                    value: approvalRequest.resolvedDisplayValues.requester || approvalRequest.requester\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.request-date.label'),\n                    value: this.datePipe.transform(approvalRequest.createDateSig, 'medium')\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.common.description.label'),\n                    value: approvalRequest.resolvedDisplayValues.summary || approvalRequest.summary\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.common.status.label'),\n                    value: this.statuses[approvalRequest.status]\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.status-date.label'),\n                    value: this.datePipe.transform(approvalRequest.sigTermStateDate, 'medium')\n                }\n            ];\n            if (approvalRequest.actionDate) {\n                allFields.push({\n                    label: '',\n                    value: this.datePipe.transform(approvalRequest.actionDate, 'medium')\n                });\n            }\n            if (approvalRequest.justification) {\n                allFields.push({\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.approval.justification-reason.label'),\n                    value: approvalRequest.justification\n                });\n            }\n            const labelValues = {\n                14508: approvalRequest.resolvedDisplayValues.otherDetail1,\n                14509: approvalRequest.resolvedDisplayValues.otherDetail2,\n                14510: approvalRequest.resolvedDisplayValues.otherDetail3,\n                14511: approvalRequest.resolvedDisplayValues.otherDetail4\n            };\n            forEach(requestLabelDetails, (label, key) => {\n                if (label) {\n                    allFields.push({\n                        label: requestLabelDetails[key],\n                        value: this.rxApprovalConsoleHelperService.formatValue(labelValues[key])\n                    });\n                }\n            });\n            allFields.push({\n                label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.activity-log.label'),\n                value: `${this.rxDefinitionNameService.getDisplayName(approvalRequest.application)} ${approvalRequest.resolvedDisplayValues.request || approvalRequest.request}, ${approvalRequest.resolvedDisplayValues.requester || approvalRequest.requester}`\n            });\n            return allFields;\n        }), tap(() => {\n            this.busy = EMPTY.subscribe();\n        }));\n        this.statuses = {\n            [ApprovalRequestStatus.Pending]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.pending.labelKey),\n            [ApprovalRequestStatus.RequestMoreInfo]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.moreInfo.labelKey),\n            [ApprovalRequestStatus.Hold]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.onHold.labelKey),\n            [ApprovalRequestStatus.MoreInfo]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.moreInfo.labelKey),\n            [ApprovalRequestStatus.NeedsAttention]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.needAttention.labelKey),\n            [ApprovalRequestStatus.Approved]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.approved.labelKey),\n            [ApprovalRequestStatus.Rejected]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.rejected.labelKey),\n            [ApprovalRequestStatus.Cancelled]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.cancelled.labelKey),\n            [ApprovalRequestStatus.Error]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.error.labelKey),\n            [ApprovalRequestStatus.Closed]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.closed.labelKey)\n        };\n    }\n    ngOnChanges(changes) {\n        var _a;\n        if ((_a = changes.approvalRequest) === null || _a === void 0 ? void 0 : _a.currentValue) {\n            this.approvalRequest$.next(changes.approvalRequest.currentValue);\n        }\n    }\n}\nApprovalRequestGeneralDetailsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestGeneralDetailsComponent, deps: [{ token: RxApprovalConsoleHelperService }, { token: i3.RxDefinitionNameService }, { token: i3$1.DatePipe }, { token: i1$1.TranslateService }, { token: RxApprovalConsoleService }], target: i0.ɵɵFactoryTarget.Component });\nApprovalRequestGeneralDetailsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ApprovalRequestGeneralDetailsComponent, selector: \"rx-approval-request-general-details\", inputs: { approvalRequest: \"approvalRequest\", gridType: \"gridType\" }, usesOnChanges: true, ngImport: i0, template: \"<rx-busy-indicator [options]=\\\"{ busy: busy }\\\"></rx-busy-indicator>\\n\\n<adapt-empty-state\\n  type=\\\"alerts\\\"\\n  *ngIf=\\\"!approvalRequest\\\"\\n  label=\\\"{{ 'com.bmc.arsys.rx.client.approval.console.no-request-selected.message' | translate }}\\\"\\n></adapt-empty-state>\\n\\n<div [hidden]=\\\"!approvalRequest\\\" *ngIf=\\\"allRequestFields$ | async as requestFields\\\" class=\\\"pt-2 pl-3\\\">\\n  <rx-read-only-field\\n    *ngFor=\\\"let field of requestFields\\\"\\n    class=\\\"d-block form-group\\\"\\n    label=\\\"{{ field.label }}\\\"\\n    value=\\\"{{ field.value }}\\\"\\n  ></rx-read-only-field>\\n</div>\\n\", styles: [\":host{display:block;position:relative;min-height:65%}\\n\"], components: [{ type: i6$1.RxBusyIndicatorComponent, selector: \"rx-busy-indicator\", inputs: [\"options\"] }, { type: i1$2.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }, { type: i6$1.ReadOnlyFieldComponent, selector: \"rx-read-only-field\", inputs: [\"label\", \"value\"] }], directives: [{ type: i3$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], pipes: { \"translate\": i1$1.TranslatePipe, \"async\": i3$1.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestGeneralDetailsComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-approval-request-general-details',\n                    templateUrl: './approval-request-general-details.component.html',\n                    styleUrls: ['./approval-request-general-details.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: RxApprovalConsoleHelperService }, { type: i3.RxDefinitionNameService }, { type: i3$1.DatePipe }, { type: i1$1.TranslateService }, { type: RxApprovalConsoleService }]; }, propDecorators: { approvalRequest: [{\n                type: Input\n            }], gridType: [{\n                type: Input\n            }] } });\n\nclass ApprovalRequestApproversComponent {\n    constructor(translateService, rxApprovalConsoleService, rxRecordInstanceDataPageService) {\n        this.translateService = translateService;\n        this.rxApprovalConsoleService = rxApprovalConsoleService;\n        this.rxRecordInstanceDataPageService = rxRecordInstanceDataPageService;\n    }\n    ngOnInit() {\n        this.gridConfig$ = of({\n            enableRowSelection: null,\n            getData: (queryParams) => this.getApproversData(queryParams),\n            columns: this.getColumns(),\n            getRecordDefinition: () => of(this.getRecordDefinition()),\n            recordDefinitionName: RX_APPROVAL_CONSOLE.requestDetailsGrid.approverDefinition,\n            styles: 'flex-fill'\n        });\n    }\n    ngOnChanges(changes) {\n        var _a, _b;\n        if ((_a = changes.approvalRequest) === null || _a === void 0 ? void 0 : _a.currentValue) {\n            (_b = this.requestApproversGrid) === null || _b === void 0 ? void 0 : _b.api.refresh().subscribe();\n        }\n    }\n    getApproversData(queryParams) {\n        return iif(() => this.gridType === ApprovalGridType.NeedAttentionRequests, this.rxApprovalConsoleService.getCurrentRequestDetails(this.approvalRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.requestID], this.approvalRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.application]), of(this.approvalRequest)).pipe(switchMap((currentRequest) => this.rxRecordInstanceDataPageService.post({\n            params: omit(Object.assign(Object.assign({}, queryParams), { shouldIncludeTotalSize: true, [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.requestNumber]: currentRequest[RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.request], [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.process]: currentRequest[RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.process] }), ['searchText', 'propertySelection'])\n        })));\n    }\n    getRecordDefinition() {\n        return {\n            fieldDefinitions: [\n                {\n                    id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.approver,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_RECORD_DEFINITION.coreFieldIds.status,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.selection,\n                    optionNamesById: {\n                        0: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.pending.labelKey),\n                        1: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.approved.labelKey),\n                        2: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.rejected.labelKey),\n                        3: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.onHold.labelKey),\n                        4: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.moreInfo.labelKey),\n                        5: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.cancelled.labelKey),\n                        6: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.error.labelKey),\n                        7: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.closed.labelKey)\n                    }\n                }\n            ]\n        };\n    }\n    getColumns() {\n        return [\n            {\n                index: 0,\n                fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.approver.toString(),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.approvers.grid.approver.title'),\n                filterable: false,\n                sortable: false\n            },\n            {\n                index: 1,\n                fieldId: RX_RECORD_DEFINITION.coreFieldIds.status.toString(),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.status.label')\n            }\n        ];\n    }\n}\nApprovalRequestApproversComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestApproversComponent, deps: [{ token: i1$1.TranslateService }, { token: RxApprovalConsoleService }, { token: i2.RxRecordInstanceDataPageService }], target: i0.ɵɵFactoryTarget.Component });\nApprovalRequestApproversComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ApprovalRequestApproversComponent, selector: \"rx-approval-request-approvers\", inputs: { approvalRequest: \"approvalRequest\", gridType: \"gridType\" }, viewQueries: [{ propertyName: \"requestApproversGrid\", first: true, predicate: [\"requestApproversGrid\"], descendants: true }], usesOnChanges: true, ngImport: i0, template: \"<adapt-empty-state\\n  type=\\\"objects\\\"\\n  *ngIf=\\\"!approvalRequest\\\"\\n  label=\\\"{{ 'com.bmc.arsys.rx.client.approval.console.no-request-selected.message' | translate }}\\\"\\n></adapt-empty-state>\\n\\n<rx-record-grid [config]=\\\"gridConfig$\\\" *ngIf=\\\"approvalRequest\\\" #requestApproversGrid></rx-record-grid>\\n\", styles: [\":host ::ng-deep rx-record-grid .adapt-table-search-toolbar-container{display:none}\\n\"], components: [{ type: i1$2.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }, { type: i10.RecordGridComponent, selector: \"rx-record-grid\", inputs: [\"config\"], outputs: [\"dataLoaded\"] }], directives: [{ type: i3$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"translate\": i1$1.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestApproversComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-approval-request-approvers',\n                    templateUrl: './approval-request-approvers.component.html',\n                    styleUrls: ['./approval-request-approvers.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.TranslateService }, { type: RxApprovalConsoleService }, { type: i2.RxRecordInstanceDataPageService }]; }, propDecorators: { approvalRequest: [{\n                type: Input\n            }], gridType: [{\n                type: Input\n            }], requestApproversGrid: [{\n                type: ViewChild,\n                args: ['requestApproversGrid']\n            }] } });\n\nclass ApprovalRequestQuestionComponent extends RxModalClass {\n    constructor(rxApprovalConsoleService, rxNotificationService, translateService, activeModalRef, injector) {\n        super(activeModalRef, injector);\n        this.rxApprovalConsoleService = rxApprovalConsoleService;\n        this.rxNotificationService = rxNotificationService;\n        this.translateService = translateService;\n        this.activeModalRef = activeModalRef;\n        this.injector = injector;\n        this.selectedUser = [];\n        this.userLoaderFunc = this.getApprovalUsers.bind(this);\n        this.attachment = [];\n    }\n    isDirty() {\n        var _a, _b;\n        return !!(this.question || ((_a = this.attachment[0]) === null || _a === void 0 ? void 0 : _a.data) || ((_b = this.selectedUser[0]) === null || _b === void 0 ? void 0 : _b.value));\n    }\n    saveQuestion() {\n        var _a;\n        this.allowDismiss = false;\n        const formData = new FormData();\n        const request = this.activeModalRef.getData().selectedRequest;\n        formData.append('to', this.selectedUser[0].value);\n        formData.append('question', this.question);\n        formData.append('application', request.application);\n        formData.append('applicationRequestId', request.resolvedDisplayValues.request);\n        formData.append('signatureID', request.signatureID);\n        if ((_a = this.attachment[0]) === null || _a === void 0 ? void 0 : _a.data) {\n            formData.append('attachment', this.attachment[0].data, this.attachment[0].data.name);\n        }\n        this.rxApprovalConsoleService\n            .saveQuestion(formData, 'question')\n            .pipe(finalize(() => {\n            this.allowDismiss = true;\n        }))\n            .subscribe(() => {\n            this.rxNotificationService.addSuccessMessage(this.translateService.instant('com.bmc.arsys.rx.client.approval.console.questions.question-added.message'));\n            this.activeModalRef.close(true);\n        });\n    }\n    cancel() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n    getApprovalUsers(startIndex, pageSize, searchQuery) {\n        return this.rxApprovalConsoleService.getApprovalUsers(startIndex, pageSize, searchQuery);\n    }\n    optionFormatter(option) {\n        return `${option.value} ${option.displayValue}`;\n    }\n}\nApprovalRequestQuestionComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestQuestionComponent, deps: [{ token: RxApprovalConsoleService }, { token: i3.RxNotificationService }, { token: i1$1.TranslateService }, { token: i1$2.ActiveModalRef }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nApprovalRequestQuestionComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ApprovalRequestQuestionComponent, selector: \"rx-approval-request-question\", usesInheritance: true, ngImport: i0, template: \"<div class=\\\"modal-header\\\">\\n  <h5 class=\\\"modal-title\\\">\\n    {{ 'com.bmc.arsys.rx.client.approval.console.questions.new.label' | translate }}\\n  </h5>\\n\\n  <button\\n    class=\\\"close dp-close\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"x-button\\\"\\n    [disabled]=\\\"!allowDismiss\\\"\\n    (click)=\\\"cancel()\\\"\\n  ></button>\\n</div>\\n\\n<div class=\\\"modal-body\\\">\\n  <rx-select-with-pagination\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.common.send-to.label' | translate }}\\\"\\n    class=\\\"form-group d-block\\\"\\n    [(ngModel)]=\\\"selectedUser\\\"\\n    [optionLoader]=\\\"userLoaderFunc\\\"\\n    [required]=\\\"true\\\"\\n    [template]=\\\"optionTemplate\\\"\\n    [optionFormatter]=\\\"optionFormatter\\\"\\n  ></rx-select-with-pagination>\\n\\n  <adapt-rx-textarea\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.common.question.label' | translate }}\\\"\\n    class=\\\"d-block form-group\\\"\\n    [(ngModel)]=\\\"question\\\"\\n    [required]=\\\"true\\\"\\n    [autofocus]=\\\"true\\\"\\n    rows=\\\"2\\\"\\n  ></adapt-rx-textarea>\\n\\n  <adapt-rx-uploader\\n    adaptRequired\\n    [(ngModel)]=\\\"attachment\\\"\\n    [enableDnD]=\\\"true\\\"\\n    [showMaxSizeRestriction]=\\\"false\\\"\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.common.attachment.label' | translate }}\\\"\\n  >\\n  </adapt-rx-uploader>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button\\n    adapt-button\\n    class=\\\"mr-2\\\"\\n    btn-type=\\\"primary\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"save-button\\\"\\n    [disabled]=\\\"!selectedUser.length || !question || !allowDismiss\\\"\\n    [adaptInlineLoader]=\\\"!allowDismiss\\\"\\n    (click)=\\\"saveQuestion()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n\\n  <button\\n    adapt-button\\n    type=\\\"button\\\"\\n    btn-type=\\\"secondary\\\"\\n    rx-id=\\\"cancel-button\\\"\\n    (click)=\\\"cancel()\\\"\\n    [disabled]=\\\"!allowDismiss\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\\n  </button>\\n</div>\\n\\n<ng-template #optionTemplate let-option>\\n  <strong>{{ option.displayValue }}</strong>\\n\\n  <div class=\\\"text-secondary\\\">\\n    {{ option.value }}\\n  </div>\\n</ng-template>\\n\", components: [{ type: i5.RxSelectWithPaginationComponent, selector: \"rx-select-with-pagination\", inputs: [\"label\", \"required\", \"isMultiSelectionMode\", \"optionLoader\", \"pageSize\", \"showDefaultTitle\", \"showUncheckAll\", \"readonly\", \"template\", \"viewToModelValueAdapter\", \"modelToViewValueAdapter\", \"optionFormatter\"], outputs: [\"toggleDropdown\", \"selectionChange\"] }, { type: i1$2.AdaptRxTextareaComponent, selector: \"adapt-rx-textarea\", inputs: [\"rows\", \"maxRows\", \"autocomplete\", \"placeholder\", \"size\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i1$2.AdaptRxUploaderComponent, selector: \"adapt-rx-uploader\", inputs: [\"uploadMode\", \"selectionMode\", \"enableFileDialog\", \"allowedTypes\", \"forbiddenTypes\", \"suppressParallel\", \"filesCount\", \"allowDuplicates\", \"showUploadFolderAlert\", \"visibleFiles\", \"reusable\", \"allowDeletion\", \"customErrors\", \"indeterminateFileLoader\", \"url\", \"deleteUrl\", \"droppableArea\", \"enableCustomDownload\", \"customDownload\", \"popoverAppendToBody\", \"showTypesRestriction\", \"showMinSizeRestriction\", \"showMaxSizeRestriction\", \"showFilesCountRestriction\", \"texts\", \"icons\", \"fileErrors\", \"enableDnD\", \"maxFileSize\", \"minFileSize\", \"chunkSize\", \"testID\"], outputs: [\"beforeFileDialogOpen\", \"afterFileDialogOpen\", \"beforeFilesAdded\", \"afterFilesAdded\", \"dropped\", \"dragOver\", \"startFileUploading\", \"processFileUploading\", \"endFileUploading\", \"errorFileUploading\", \"finishedFileUploading\", \"removedFileFromQueue\", \"deletedFile\", \"cancelUploading\"] }, { type: i1$2.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i6.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i6.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i6.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i1$2.AdaptInlineStandaloneDirective, selector: \"[adaptInlineLoader]\", inputs: [\"adaptInlineLoader\", \"activeText\"] }], pipes: { \"translate\": i1$1.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestQuestionComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-approval-request-question',\n                    templateUrl: './approval-request-question.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: RxApprovalConsoleService }, { type: i3.RxNotificationService }, { type: i1$1.TranslateService }, { type: i1$2.ActiveModalRef }, { type: i0.Injector }]; } });\n\nclass ApprovalRequestQuestionsComponent {\n    constructor(translateService, rxRecordInstanceService, rxModalService, adaptModalService, rxApprovalConsoleService, rxRecordInstanceDataPageService) {\n        this.translateService = translateService;\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.rxModalService = rxModalService;\n        this.adaptModalService = adaptModalService;\n        this.rxApprovalConsoleService = rxApprovalConsoleService;\n        this.rxRecordInstanceDataPageService = rxRecordInstanceDataPageService;\n        this.questionSubmitted = new EventEmitter();\n    }\n    ngOnInit() {\n        this.gridConfig$ = of({\n            enableRowSelection: null,\n            getData: (queryParams) => this.getQuestionData(queryParams),\n            columns: this.getQuestionColumns(),\n            getRecordDefinition: () => of(this.getQuestionRecordDefinition()),\n            recordDefinitionName: RX_APPROVAL_CONSOLE.requestDetailsGrid.definition,\n            styles: 'flex-fill'\n        });\n    }\n    ngOnChanges(changes) {\n        var _a, _b;\n        if ((_a = changes.approvalRequest) === null || _a === void 0 ? void 0 : _a.currentValue) {\n            (_b = this.requestQuestionsGrid) === null || _b === void 0 ? void 0 : _b.api.refresh().subscribe();\n        }\n    }\n    isNewQuestionButtonDisabled() {\n        return !includes([ApprovalRequestStatus.Pending, ApprovalRequestStatus.Hold], this.requestsTabStatus);\n    }\n    askNewQuestion() {\n        this.rxModalService\n            .openModal({\n            content: ApprovalRequestQuestionComponent,\n            size: 'sm',\n            data: {\n                selectedRequest: this.approvalRequest\n            }\n        })\n            .then((result) => {\n            if (result) {\n                this.questionSubmitted.emit();\n            }\n        })\n            .catch(noop);\n    }\n    getQuestionData(queryParams) {\n        return iif(() => this.gridType === ApprovalGridType.NeedAttentionRequests, this.rxApprovalConsoleService.getCurrentRequestDetails(this.approvalRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.requestID], this.approvalRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.application]), of(this.approvalRequest)).pipe(switchMap((currentRequest) => this.rxRecordInstanceDataPageService.post({\n            params: omit(Object.assign(Object.assign({}, queryParams), { shouldIncludeTotalSize: true, [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.application]: currentRequest.application, [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.type]: RX_APPROVAL_CONSOLE.requestDetailsGrid.questionTypeValue, [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.request]: currentRequest.request }), ['searchText'])\n        })));\n    }\n    getQuestionColumns() {\n        return [\n            {\n                index: 0,\n                fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.to.toString(),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.questions.grid.column.question-to.title')\n            },\n            {\n                index: 1,\n                fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.from.toString(),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.from.label')\n            },\n            {\n                index: 2,\n                fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.question.toString(),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.question.label'),\n                clickable: true,\n                actions: [\n                    {\n                        name: (previousAction, selectedRow) => {\n                            this.showQuestionDetails(selectedRow);\n                        }\n                    }\n                ],\n                filterable: false,\n                sortable: false\n            },\n            {\n                index: 3,\n                fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.response.toString(),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.questions.grid.column.response.title'),\n                filterable: false,\n                sortable: false\n            },\n            {\n                index: 4,\n                fieldId: RX_RECORD_DEFINITION.coreFieldIds.id.toString(),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.id.label'),\n                visible: false,\n                filterable: false\n            },\n            {\n                index: 5,\n                fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment.toString(),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.attachment.label'),\n                clickable: true,\n                actions: [\n                    {\n                        name: (previousAction, selectedRow) => {\n                            this.rxRecordInstanceService.downloadAttachment(RX_APPROVAL_CONSOLE.requestDetailsGrid.questionDefinition, Number(RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment), selectedRow[RX_RECORD_DEFINITION.coreFieldIds.id].split('|')[0], selectedRow[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment]);\n                        }\n                    }\n                ]\n            }\n        ];\n    }\n    getQuestionRecordDefinition() {\n        return {\n            fieldDefinitions: [\n                {\n                    id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.to,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.from,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.question,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.response,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.attachment\n                },\n                {\n                    id: RX_RECORD_DEFINITION.coreFieldIds.id,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                }\n            ]\n        };\n    }\n    showQuestionDetails(selectedRow) {\n        this.adaptModalService\n            .open({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.question-response-dialog.title'),\n            content: ReadOnlyFieldsModalComponent,\n            size: 'sm',\n            data: {\n                fields: [\n                    {\n                        label: this.translateService.instant('com.bmc.arsys.rx.client.common.send-to.label'),\n                        value: selectedRow[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.to]\n                    },\n                    {\n                        label: this.translateService.instant('com.bmc.arsys.rx.client.common.question.label'),\n                        value: selectedRow[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.question]\n                    },\n                    {\n                        label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.question-response-dialog.response-field.label'),\n                        value: selectedRow[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.response] ||\n                            this.translateService.instant('com.bmc.arsys.rx.client.approval.console.question-response-dialog.not-responded.message')\n                    }\n                ]\n            }\n        })\n            .catch(noop);\n    }\n}\nApprovalRequestQuestionsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestQuestionsComponent, deps: [{ token: i1$1.TranslateService }, { token: i2.RxRecordInstanceService }, { token: i6$1.RxModalService }, { token: i1$2.AdaptModalService }, { token: RxApprovalConsoleService }, { token: i2.RxRecordInstanceDataPageService }], target: i0.ɵɵFactoryTarget.Component });\nApprovalRequestQuestionsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ApprovalRequestQuestionsComponent, selector: \"rx-approval-request-questions\", inputs: { approvalRequest: \"approvalRequest\", requestsTabStatus: \"requestsTabStatus\", gridType: \"gridType\" }, outputs: { questionSubmitted: \"questionSubmitted\" }, viewQueries: [{ propertyName: \"requestQuestionsGrid\", first: true, predicate: [\"requestQuestionsGrid\"], descendants: true }], usesOnChanges: true, ngImport: i0, template: \"<adapt-empty-state\\n  type=\\\"rules\\\"\\n  *ngIf=\\\"!approvalRequest\\\"\\n  label=\\\"{{ 'com.bmc.arsys.rx.client.approval.console.no-request-selected.message' | translate }}\\\"\\n></adapt-empty-state>\\n\\n<button\\n  type=\\\"button\\\"\\n  class=\\\"p-0 mb-2 d-icon-plus_circle align-self-start\\\"\\n  adapt-button\\n  btn-type=\\\"tertiary\\\"\\n  rx-id=\\\"new-question-button\\\"\\n  (click)=\\\"askNewQuestion()\\\"\\n  *ngIf=\\\"approvalRequest\\\"\\n  [disabled]=\\\"isNewQuestionButtonDisabled()\\\"\\n>\\n  {{ 'com.bmc.arsys.rx.client.approval.console.questions.new.label' | translate }}\\n</button>\\n\\n<rx-record-grid [config]=\\\"gridConfig$\\\" *ngIf=\\\"approvalRequest\\\" #requestQuestionsGrid></rx-record-grid>\\n\", components: [{ type: i1$2.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }, { type: i1$2.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i10.RecordGridComponent, selector: \"rx-record-grid\", inputs: [\"config\"], outputs: [\"dataLoaded\"] }], directives: [{ type: i3$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"translate\": i1$1.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestQuestionsComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-approval-request-questions',\n                    templateUrl: './approval-request-questions.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.TranslateService }, { type: i2.RxRecordInstanceService }, { type: i6$1.RxModalService }, { type: i1$2.AdaptModalService }, { type: RxApprovalConsoleService }, { type: i2.RxRecordInstanceDataPageService }]; }, propDecorators: { approvalRequest: [{\n                type: Input\n            }], requestsTabStatus: [{\n                type: Input\n            }], gridType: [{\n                type: Input\n            }], questionSubmitted: [{\n                type: Output\n            }], requestQuestionsGrid: [{\n                type: ViewChild,\n                args: ['requestQuestionsGrid']\n            }] } });\n\nclass ApprovalRequestCommentComponent extends RxModalClass {\n    constructor(activeModalRef, translateService, rxNotificationService, rxApprovalConsoleService, injector) {\n        super(activeModalRef, injector);\n        this.activeModalRef = activeModalRef;\n        this.translateService = translateService;\n        this.rxNotificationService = rxNotificationService;\n        this.rxApprovalConsoleService = rxApprovalConsoleService;\n        this.injector = injector;\n        this.attachment = [];\n    }\n    isDirty() {\n        var _a;\n        return !!(this.comment || ((_a = this.attachment[0]) === null || _a === void 0 ? void 0 : _a.data));\n    }\n    saveComment() {\n        var _a;\n        this.allowDismiss = false;\n        const formData = new FormData();\n        const request = this.activeModalRef.getData().selectedRequest;\n        formData.append('comments', this.comment);\n        formData.append('application', request.application);\n        formData.append('applicationRequestId', request.resolvedDisplayValues.request);\n        formData.append('signatureID', request.signatureID);\n        if ((_a = this.attachment[0]) === null || _a === void 0 ? void 0 : _a.data) {\n            formData.append('attachment', this.attachment[0].data, this.attachment[0].data.name);\n        }\n        this.rxApprovalConsoleService\n            .saveQuestion(formData, 'comment')\n            .pipe(finalize(() => {\n            this.allowDismiss = true;\n        }))\n            .subscribe(() => {\n            this.rxNotificationService.addSuccessMessage(this.translateService.instant('com.bmc.arsys.rx.client.approval.console.comments.comment-added.message'));\n            this.activeModalRef.close(true);\n        });\n    }\n    cancel() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n    isCommentEmpty() {\n        return !trim(this.comment);\n    }\n}\nApprovalRequestCommentComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestCommentComponent, deps: [{ token: i1$2.ActiveModalRef }, { token: i1$1.TranslateService }, { token: i3.RxNotificationService }, { token: RxApprovalConsoleService }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nApprovalRequestCommentComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ApprovalRequestCommentComponent, selector: \"rx-approval-request-comment\", usesInheritance: true, ngImport: i0, template: \"<div class=\\\"modal-header\\\">\\n  <h5 class=\\\"modal-title\\\">\\n    {{ 'com.bmc.arsys.rx.client.approval.console.comments.new.label' | translate }}\\n  </h5>\\n\\n  <button\\n    class=\\\"close dp-close\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"x-button\\\"\\n    [disabled]=\\\"!allowDismiss\\\"\\n    (click)=\\\"cancel()\\\"\\n  ></button>\\n</div>\\n\\n<div class=\\\"modal-body\\\">\\n  <adapt-rx-textarea\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.common.comment.label' | translate }}\\\"\\n    class=\\\"d-block form-group\\\"\\n    [(ngModel)]=\\\"comment\\\"\\n    [required]=\\\"true\\\"\\n    [autofocus]=\\\"true\\\"\\n    rows=\\\"3\\\"\\n  ></adapt-rx-textarea>\\n\\n  <adapt-rx-uploader\\n    adaptRequired\\n    [(ngModel)]=\\\"attachment\\\"\\n    [enableDnD]=\\\"true\\\"\\n    [showMaxSizeRestriction]=\\\"false\\\"\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.common.attachment.label' | translate }}\\\"\\n  >\\n  </adapt-rx-uploader>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button\\n    adapt-button\\n    class=\\\"mr-2\\\"\\n    btn-type=\\\"primary\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"save-button\\\"\\n    [disabled]=\\\"isCommentEmpty() || !allowDismiss\\\"\\n    [adaptInlineLoader]=\\\"!allowDismiss\\\"\\n    (click)=\\\"saveComment()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n\\n  <button\\n    adapt-button\\n    type=\\\"button\\\"\\n    btn-type=\\\"secondary\\\"\\n    rx-id=\\\"cancel-button\\\"\\n    (click)=\\\"cancel()\\\"\\n    [disabled]=\\\"!allowDismiss\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\\n  </button>\\n</div>\\n\", components: [{ type: i1$2.AdaptRxTextareaComponent, selector: \"adapt-rx-textarea\", inputs: [\"rows\", \"maxRows\", \"autocomplete\", \"placeholder\", \"size\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i1$2.AdaptRxUploaderComponent, selector: \"adapt-rx-uploader\", inputs: [\"uploadMode\", \"selectionMode\", \"enableFileDialog\", \"allowedTypes\", \"forbiddenTypes\", \"suppressParallel\", \"filesCount\", \"allowDuplicates\", \"showUploadFolderAlert\", \"visibleFiles\", \"reusable\", \"allowDeletion\", \"customErrors\", \"indeterminateFileLoader\", \"url\", \"deleteUrl\", \"droppableArea\", \"enableCustomDownload\", \"customDownload\", \"popoverAppendToBody\", \"showTypesRestriction\", \"showMinSizeRestriction\", \"showMaxSizeRestriction\", \"showFilesCountRestriction\", \"texts\", \"icons\", \"fileErrors\", \"enableDnD\", \"maxFileSize\", \"minFileSize\", \"chunkSize\", \"testID\"], outputs: [\"beforeFileDialogOpen\", \"afterFileDialogOpen\", \"beforeFilesAdded\", \"afterFilesAdded\", \"dropped\", \"dragOver\", \"startFileUploading\", \"processFileUploading\", \"endFileUploading\", \"errorFileUploading\", \"finishedFileUploading\", \"removedFileFromQueue\", \"deletedFile\", \"cancelUploading\"] }, { type: i1$2.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i6.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i6.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i6.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i1$2.AdaptInlineStandaloneDirective, selector: \"[adaptInlineLoader]\", inputs: [\"adaptInlineLoader\", \"activeText\"] }], pipes: { \"translate\": i1$1.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestCommentComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-approval-request-comment',\n                    templateUrl: './approval-request-comment.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$2.ActiveModalRef }, { type: i1$1.TranslateService }, { type: i3.RxNotificationService }, { type: RxApprovalConsoleService }, { type: i0.Injector }]; } });\n\nclass RxApprovalQCIDataPageService extends DataPage {\n    constructor(injector) {\n        super(injector, 'com.bmc.arsys.rx.approval.application.datapage.ApprovalQCIDataPageQuery');\n        this.injector = injector;\n    }\n}\nRxApprovalQCIDataPageService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApprovalQCIDataPageService, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\nRxApprovalQCIDataPageService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApprovalQCIDataPageService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApprovalQCIDataPageService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nclass ApprovalRequestCommentsComponent {\n    constructor(rxApprovalQCIDataPageService, rxModalService, rxApprovalConsoleService, adaptModalService, rxDataPageService, rxRecordInstanceService, translateService) {\n        this.rxApprovalQCIDataPageService = rxApprovalQCIDataPageService;\n        this.rxModalService = rxModalService;\n        this.rxApprovalConsoleService = rxApprovalConsoleService;\n        this.adaptModalService = adaptModalService;\n        this.rxDataPageService = rxDataPageService;\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.translateService = translateService;\n    }\n    ngOnInit() {\n        this.gridConfig$ = of({\n            enableRowSelection: null,\n            getData: (queryParams) => this.getCommentData(queryParams),\n            columns: this.getCommentColumns(),\n            getRecordDefinition: () => of(this.getCommentRecordDefinition()),\n            recordDefinitionName: RX_APPROVAL_CONSOLE.requestDetailsGrid.definition,\n            styles: 'flex-fill'\n        });\n    }\n    ngOnChanges(changes) {\n        var _a, _b;\n        if ((_a = changes.approvalRequest) === null || _a === void 0 ? void 0 : _a.currentValue) {\n            (_b = this.requestCommentsGrid) === null || _b === void 0 ? void 0 : _b.api.refresh().subscribe();\n        }\n    }\n    addNewComment() {\n        this.rxModalService\n            .openModal({\n            content: ApprovalRequestCommentComponent,\n            size: 'sm',\n            data: {\n                selectedRequest: this.selectedRequest\n            }\n        })\n            .then((result) => {\n            if (result) {\n                this.requestCommentsGrid.api.refresh().subscribe();\n            }\n        })\n            .catch(noop);\n    }\n    getCommentData(queryParams) {\n        return iif(() => this.gridType === ApprovalGridType.NeedAttentionRequests, this.rxApprovalConsoleService.getCurrentRequestDetails(this.approvalRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.requestID], this.approvalRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.application]), of(this.approvalRequest)).pipe(tap((currentRequest) => {\n            this.selectedRequest = currentRequest;\n        }), switchMap((currentRequest) => this.rxApprovalQCIDataPageService.get({\n            params: omit(Object.assign(Object.assign({}, queryParams), { shouldIncludeTotalSize: true, [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.application]: currentRequest.application, [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.signatureID]: currentRequest.signatureID, [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.type]: RX_APPROVAL_CONSOLE.requestDetailsGrid.commentTypeValue, [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.request]: currentRequest.request }), ['searchText'])\n        })));\n    }\n    getCommentColumns() {\n        return [\n            {\n                index: 1,\n                fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.from.toString(),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.submitter.label')\n            },\n            {\n                index: 2,\n                fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.response.toString(),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.comment.label'),\n                clickable: true,\n                actions: [\n                    {\n                        name: (previousAction, selectedRow) => {\n                            this.showCommentDetails(selectedRow);\n                        }\n                    }\n                ],\n                sortable: false\n            },\n            {\n                index: 3,\n                fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment.toString(),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.attachment.label'),\n                clickable: true,\n                actions: [\n                    {\n                        name: (previousAction, selectedRow) => {\n                            this.rxRecordInstanceService.downloadAttachment(RX_APPROVAL_CONSOLE.requestDetailsGrid.questionDefinition, Number(RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment), selectedRow[RX_RECORD_DEFINITION.coreFieldIds.id].split('|')[0], selectedRow[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment]);\n                        }\n                    }\n                ]\n            },\n            {\n                index: 4,\n                fieldId: RX_RECORD_DEFINITION.coreFieldIds.id.toString(),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.id.label'),\n                visible: false,\n                filterable: false\n            }\n        ];\n    }\n    getCommentRecordDefinition() {\n        return {\n            fieldDefinitions: [\n                {\n                    id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.from,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.response,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.attachment\n                },\n                {\n                    id: RX_RECORD_DEFINITION.coreFieldIds.id,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                }\n            ]\n        };\n    }\n    showCommentDetails(selectedRow) {\n        this.adaptModalService\n            .open({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.common.comment.label'),\n            content: ReadOnlyFieldsModalComponent,\n            data: {\n                fields: [\n                    {\n                        label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.submitter.label'),\n                        value: selectedRow[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.from]\n                    },\n                    {\n                        label: this.translateService.instant('com.bmc.arsys.rx.client.common.comment.label'),\n                        value: selectedRow[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.response]\n                    }\n                ]\n            },\n            size: 'sm'\n        })\n            .catch(noop);\n    }\n}\nApprovalRequestCommentsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestCommentsComponent, deps: [{ token: RxApprovalQCIDataPageService }, { token: i6$1.RxModalService }, { token: RxApprovalConsoleService }, { token: i1$2.AdaptModalService }, { token: i3.RxDataPageFactoryService }, { token: i2.RxRecordInstanceService }, { token: i1$1.TranslateService }], target: i0.ɵɵFactoryTarget.Component });\nApprovalRequestCommentsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ApprovalRequestCommentsComponent, selector: \"rx-approval-request-comments\", inputs: { approvalRequest: \"approvalRequest\", gridType: \"gridType\" }, viewQueries: [{ propertyName: \"requestCommentsGrid\", first: true, predicate: [\"requestCommentsGrid\"], descendants: true }], usesOnChanges: true, ngImport: i0, template: \"<adapt-empty-state\\n  type=\\\"events\\\"\\n  *ngIf=\\\"!approvalRequest\\\"\\n  label=\\\"{{ 'com.bmc.arsys.rx.client.approval.console.no-request-selected.message' | translate }}\\\"\\n></adapt-empty-state>\\n\\n<button\\n  type=\\\"button\\\"\\n  class=\\\"p-0 mb-2 d-icon-plus_circle align-self-start\\\"\\n  adapt-button\\n  btn-type=\\\"tertiary\\\"\\n  rx-id=\\\"new-comment-button\\\"\\n  *ngIf=\\\"approvalRequest\\\"\\n  (click)=\\\"addNewComment()\\\"\\n>\\n  {{ 'com.bmc.arsys.rx.client.approval.console.comments.new.label' | translate }}\\n</button>\\n\\n<rx-record-grid [config]=\\\"gridConfig$\\\" *ngIf=\\\"approvalRequest\\\" #requestCommentsGrid></rx-record-grid>\\n\", components: [{ type: i1$2.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }, { type: i1$2.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i10.RecordGridComponent, selector: \"rx-record-grid\", inputs: [\"config\"], outputs: [\"dataLoaded\"] }], directives: [{ type: i3$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"translate\": i1$1.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestCommentsComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-approval-request-comments',\n                    templateUrl: './approval-request-comments.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: RxApprovalQCIDataPageService }, { type: i6$1.RxModalService }, { type: RxApprovalConsoleService }, { type: i1$2.AdaptModalService }, { type: i3.RxDataPageFactoryService }, { type: i2.RxRecordInstanceService }, { type: i1$1.TranslateService }]; }, propDecorators: { approvalRequest: [{\n                type: Input\n            }], gridType: [{\n                type: Input\n            }], requestCommentsGrid: [{\n                type: ViewChild,\n                args: ['requestCommentsGrid']\n            }] } });\n\nclass ApprovalRequestAttachmentsComponent {\n    constructor(rxApprovalConsoleService, translateService, rxRecordInstanceService, rxRecordInstanceDataPageService) {\n        this.rxApprovalConsoleService = rxApprovalConsoleService;\n        this.translateService = translateService;\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.rxRecordInstanceDataPageService = rxRecordInstanceDataPageService;\n    }\n    ngOnInit() {\n        this.gridConfig$ = of({\n            enableRowSelection: null,\n            getData: (queryParams) => this.getAttachmentData(queryParams),\n            columns: this.getAttachmentColumns(),\n            getRecordDefinition: () => of(this.getAttachmentRecordDefinition()),\n            recordDefinitionName: RX_APPROVAL_CONSOLE.requestDetailsGrid.definition,\n            styles: 'flex-fill'\n        });\n    }\n    ngOnChanges(changes) {\n        var _a, _b;\n        if ((_a = changes.approvalRequest) === null || _a === void 0 ? void 0 : _a.currentValue) {\n            (_b = this.requestAttachmentsGrid) === null || _b === void 0 ? void 0 : _b.api.refresh().subscribe();\n        }\n    }\n    getAttachmentData(queryParams) {\n        return iif(() => this.gridType === ApprovalGridType.NeedAttentionRequests, this.rxApprovalConsoleService.getCurrentRequestDetails(this.approvalRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.requestID], this.approvalRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.application]), of(this.approvalRequest)).pipe(switchMap((currentRequest) => this.rxRecordInstanceDataPageService\n            .post({\n            params: omit(Object.assign(Object.assign({}, queryParams), { shouldIncludeTotalSize: true, [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.application]: currentRequest.application, [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.request]: currentRequest.request }), ['searchText', 'propertySelection'])\n        })\n            .pipe(map((response) => {\n            response.data = reject(response.data, (item) => !item[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment]);\n            return response;\n        }))));\n    }\n    getAttachmentColumns() {\n        return [\n            {\n                index: 0,\n                fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.from.toString(),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.submitter.label')\n            },\n            {\n                index: 1,\n                fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment.toString(),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.attachments.grid.file-name.title'),\n                clickable: true,\n                actions: [\n                    {\n                        name: (previousAction, selectedRow) => {\n                            this.rxRecordInstanceService.downloadAttachment(RX_APPROVAL_CONSOLE.requestDetailsGrid.questionDefinition, Number(RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment), selectedRow[RX_RECORD_DEFINITION.coreFieldIds.id].split('|')[0], selectedRow[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment]);\n                        }\n                    }\n                ]\n            },\n            {\n                index: 2,\n                fieldId: RX_RECORD_DEFINITION.coreFieldIds.id.toString(),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.id.label'),\n                visible: false,\n                filterable: false\n            }\n        ];\n    }\n    getAttachmentRecordDefinition() {\n        return {\n            fieldDefinitions: [\n                {\n                    id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.from,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.attachment\n                },\n                {\n                    id: RX_RECORD_DEFINITION.coreFieldIds.id,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                }\n            ]\n        };\n    }\n}\nApprovalRequestAttachmentsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestAttachmentsComponent, deps: [{ token: RxApprovalConsoleService }, { token: i1$1.TranslateService }, { token: i2.RxRecordInstanceService }, { token: i2.RxRecordInstanceDataPageService }], target: i0.ɵɵFactoryTarget.Component });\nApprovalRequestAttachmentsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ApprovalRequestAttachmentsComponent, selector: \"rx-approval-request-attachments\", inputs: { approvalRequest: \"approvalRequest\", gridType: \"gridType\" }, viewQueries: [{ propertyName: \"requestAttachmentsGrid\", first: true, predicate: [\"requestAttachmentsGrid\"], descendants: true }], usesOnChanges: true, ngImport: i0, template: \"<adapt-empty-state\\n  type=\\\"grid\\\"\\n  *ngIf=\\\"!approvalRequest\\\"\\n  label=\\\"{{ 'com.bmc.arsys.rx.client.approval.console.no-request-selected.message' | translate }}\\\"\\n></adapt-empty-state>\\n\\n<rx-record-grid [config]=\\\"gridConfig$\\\" *ngIf=\\\"approvalRequest\\\" #requestAttachmentsGrid></rx-record-grid>\\n\", components: [{ type: i1$2.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }, { type: i10.RecordGridComponent, selector: \"rx-record-grid\", inputs: [\"config\"], outputs: [\"dataLoaded\"] }], directives: [{ type: i3$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"translate\": i1$1.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalRequestAttachmentsComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-approval-request-attachments',\n                    templateUrl: './approval-request-attachments.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: RxApprovalConsoleService }, { type: i1$1.TranslateService }, { type: i2.RxRecordInstanceService }, { type: i2.RxRecordInstanceDataPageService }]; }, propDecorators: { approvalRequest: [{\n                type: Input\n            }], gridType: [{\n                type: Input\n            }], requestAttachmentsGrid: [{\n                type: ViewChild,\n                args: ['requestAttachmentsGrid']\n            }] } });\n\nclass ApprovalConsoleComponent extends BaseViewComponent {\n    constructor(rxStringService, rxApprovalConsoleHelperService, rxCurrentUserService, translateService, rxModalService, rxNotificationService, rxApprovalConsoleService, rxRecordInstanceService, adaptModalService, rxSignatureDetailDataPageService, recordGridFilterService, rxRecordInstanceDataPageService, rxDefinitionNameService) {\n        super();\n        this.rxStringService = rxStringService;\n        this.rxApprovalConsoleHelperService = rxApprovalConsoleHelperService;\n        this.rxCurrentUserService = rxCurrentUserService;\n        this.translateService = translateService;\n        this.rxModalService = rxModalService;\n        this.rxNotificationService = rxNotificationService;\n        this.rxApprovalConsoleService = rxApprovalConsoleService;\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.adaptModalService = adaptModalService;\n        this.rxSignatureDetailDataPageService = rxSignatureDetailDataPageService;\n        this.recordGridFilterService = recordGridFilterService;\n        this.rxRecordInstanceDataPageService = rxRecordInstanceDataPageService;\n        this.rxDefinitionNameService = rxDefinitionNameService;\n        this.selectedApprovalRequestsTab = RX_APPROVAL_CONSOLE.approvalRequestTypes.pending;\n        this.approvalRequestTypes = map$1(RX_APPROVAL_CONSOLE.approvalRequestTypes, (request) => (Object.assign(Object.assign({}, request), { label: this.translateService.instant(request.labelKey) })));\n        this.dataLoaded$ = new Subject();\n        this.attentionGridParams = {\n            recorddefinition: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.definition,\n            [RX_RECORD_DEFINITION.coreFieldIds.assignee]: this.rxCurrentUserService.getName(),\n            [RX_RECORD_DEFINITION.coreFieldIds.status]: '0',\n            [RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.state]: '0'\n        };\n        this.needAttentionRequestCount$ = this.rxRecordInstanceDataPageService.post({\n            params: this.attentionGridParams\n        });\n        this.availableRequestCount$ = this.dataLoaded$\n            .pipe(switchMap(() => forkJoin([this.rxApprovalConsoleService.getApprovalRequestCounts(), this.needAttentionRequestCount$])))\n            .pipe(map(([requestCounts, needAttentionResponse]) => (Object.assign(Object.assign({}, requestCounts), { needAttentionCount: needAttentionResponse.totalSize }))));\n        this.activeTabIndex = 0;\n        this.selectedRecordsInSequence = [];\n    }\n    ngOnInit() {\n        this.updateGridConfig();\n    }\n    onDataLoaded() {\n        var _a;\n        (_a = this.gridSubscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n        this.gridSubscription = this.approvalRequestsGrid.adaptTable.selectionChange.subscribe((selectedRows) => {\n            const selectedRecord = isNil(this.selectedApprovalRequest)\n                ? selectedRows[0]\n                : selectedRows[selectedRows.length - 1];\n            this.isReassignButtonDisabled = some(selectedRows, (row) => row.canReassign === 'No');\n            this.selectedRecordsInSequence = this.approvalRequestsGrid.api.getSelectedRows(true);\n            this.selectedRecordIndex = findIndex(this.selectedRecordsInSequence, {\n                [RowDataItemIdFieldName]: selectedRecord === null || selectedRecord === void 0 ? void 0 : selectedRecord[RowDataItemIdFieldName]\n            });\n            this.selectedApprovalRequest = selectedRecord;\n        });\n        this.dataLoaded$.next();\n    }\n    approveRequest() {\n        this.rxModalService\n            .openModal({\n            content: ApprovalRequestActionReasonInputComponent,\n            size: 'sm',\n            data: {\n                commandType: ApprovalCommandType.Approved,\n                selectedRequests: this.approvalRequestsGrid.api.getSelectedRows(),\n                modalTitle: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.approve-request-dialog.title')\n            }\n        })\n            .then((result) => {\n            if (result) {\n                this.reloadGridData();\n            }\n        })\n            .catch(noop);\n    }\n    rejectRequest() {\n        this.rxModalService\n            .openModal({\n            content: ApprovalRequestActionReasonInputComponent,\n            size: 'sm',\n            data: {\n                commandType: ApprovalCommandType.Rejected,\n                selectedRequests: this.approvalRequestsGrid.api.getSelectedRows(),\n                modalTitle: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.reject-request-dialog.title')\n            }\n        })\n            .then((result) => {\n            if (result) {\n                this.reloadGridData();\n            }\n        })\n            .catch(noop);\n    }\n    holdRequest() {\n        this.rxModalService\n            .confirm({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n            modalStyle: RX_MODAL.modalStyles.warning,\n            message: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.request.hold-dialog.message')\n        })\n            .then((result) => {\n            if (result) {\n                const commands = map$1(this.approvalRequestsGrid.api.getSelectedRows(), (request) => this.rxApprovalConsoleService.getCommandPayload(ApprovalCommandType.OnHold, request[RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.signatureInstanceID]));\n                this.rxApprovalConsoleService.holdRequest(commands).subscribe(() => {\n                    this.rxNotificationService.addSuccessMessage(this.translateService.instant('com.bmc.arsys.rx.client.approval.console.request.hold-success.message'));\n                    this.reloadGridData();\n                });\n            }\n        });\n    }\n    reassignRequest() {\n        this.rxModalService\n            .openModal({\n            content: ApprovalRequestReassignComponent,\n            size: 'sm',\n            data: {\n                selectedRequestInstanceIds: map$1(this.approvalRequestsGrid.api.getSelectedRows(), (request) => request.signatureInstanceID)\n            }\n        })\n            .then((result) => {\n            if (result) {\n                this.reloadGridData();\n            }\n        })\n            .catch(noop);\n    }\n    isHoldButtonDisabled() {\n        return this.selectedApprovalRequestsTab.status === ApprovalRequestStatus.Hold;\n    }\n    get currentRequestId() {\n        var _a, _b;\n        return (((_a = this.selectedApprovalRequest) === null || _a === void 0 ? void 0 : _a.request) ||\n            ((_b = this.selectedApprovalRequest) === null || _b === void 0 ? void 0 : _b[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.requestID]));\n    }\n    get selectedApprovalRequestCount() {\n        var _a, _b;\n        return ((_b = (_a = this.approvalRequestsGrid) === null || _a === void 0 ? void 0 : _a.api) === null || _b === void 0 ? void 0 : _b.getSelectedRowCount()) || 0;\n    }\n    fetchApprovalRequests(event) {\n        this.approvalRequestsGrid.adaptTableConfig.selectedItems = [];\n        this.selectedApprovalRequest = null;\n        this.selectedApprovalRequestsTab = this.approvalRequestTypes[event.index];\n        this.updateGridConfig();\n    }\n    showNextRequestDetails() {\n        this.selectedApprovalRequest = this.selectedRecordsInSequence[++this.selectedRecordIndex];\n    }\n    showPreviousRequestDetails() {\n        this.selectedApprovalRequest = this.selectedRecordsInSequence[--this.selectedRecordIndex];\n    }\n    isPreviousButtonDisabled() {\n        return this.selectedApprovalRequestCount === 0 || this.selectedRecordIndex <= 0;\n    }\n    isNextButtonDisabled() {\n        return (this.selectedApprovalRequestCount === 0 || this.selectedRecordIndex === this.selectedRecordsInSequence.length - 1);\n    }\n    isApprovalRequestGrid() {\n        return this.selectedApprovalRequestsTab.gridType === ApprovalGridType.ApprovalRequests;\n    }\n    isNeedAttentionGrid() {\n        return this.selectedApprovalRequestsTab.gridType === ApprovalGridType.NeedAttentionRequests;\n    }\n    onTabChanged(event) {\n        if (event.event) {\n            this.activeTabIndex = event.index;\n        }\n    }\n    needAttentionGridColumns() {\n        return [\n            {\n                index: 0,\n                fieldId: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.fromUser,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.from.label')\n            },\n            {\n                index: 1,\n                fieldId: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.toUser,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.send-to.label')\n            },\n            {\n                index: 2,\n                fieldId: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.description,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.description.label'),\n                clickable: true,\n                actions: [\n                    {\n                        name: (previousAction, selectedRow) => {\n                            this.openQuestionResponseDialog(selectedRow);\n                        }\n                    }\n                ]\n            },\n            {\n                index: 3,\n                fieldId: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.application,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.needs-attention.grid.column.application.title'),\n                cellTemplate: this.definitionNameCellTemplate\n            },\n            {\n                index: 4,\n                fieldId: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.requestID,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.needs-attention.grid.column.request.title')\n            },\n            {\n                index: 5,\n                fieldId: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.attachment,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.attachment.label'),\n                clickable: true,\n                actions: [\n                    {\n                        name: (previousAction, selectedRow) => {\n                            this.rxRecordInstanceService.downloadAttachment(RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.definition, Number(RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.attachment), selectedRow[RX_RECORD_DEFINITION.coreFieldIds.id], selectedRow[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.attachment]);\n                        }\n                    }\n                ]\n            },\n            {\n                index: 6,\n                fieldId: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.question,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.question.label'),\n                visible: false,\n                filterable: false,\n                sortable: false\n            },\n            {\n                index: 7,\n                fieldId: RX_RECORD_DEFINITION.coreFieldIds.id.toString(),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.id.label'),\n                visible: false,\n                filterable: false\n            }\n        ];\n    }\n    ngOnDestroy() {\n        this.dataLoaded$.complete();\n        this.gridSubscription.unsubscribe();\n    }\n    onQuestionSubmitted() {\n        this.reloadGridData();\n    }\n    getData(queryParams) {\n        const textSearchQuery = this.recordGridFilterService.generateTextFilterQuery(queryParams.searchText, this.approvalRequestsGrid.adaptTableConfig.columns);\n        const clonedSelectedFilters = cloneDeep(this.approvalRequestsGrid.state.advancedFiltering.selectedFilters);\n        const clonedDefinitionNameFilters = find(clonedSelectedFilters, {\n            filterOptionId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.application\n        });\n        if (clonedDefinitionNameFilters) {\n            const appliedDefinitionNameFilters = find(this.approvalRequestsGrid.state.advancedFiltering.selectedFilters, {\n                filterOptionId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.application\n            });\n            appliedDefinitionNameFilters.value.filterValue = map$1(appliedDefinitionNameFilters.value.filterValue, (filterValue) => this.rxDefinitionNameService.getDisplayName(filterValue));\n            clonedDefinitionNameFilters.value.filterValue = map$1(clonedDefinitionNameFilters.value.filterValue, (filterValue) => `%${filterValue}`);\n        }\n        const resultingQuery = this.recordGridFilterService.addQueries(this.approvalRequestsGrid.buildQueryByAdvancedFilters(clonedSelectedFilters), textSearchQuery);\n        if (resultingQuery) {\n            queryParams.queryExpression = resultingQuery;\n        }\n        queryParams.propertySelection.push(RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.ifMultipleApprovers);\n        return this.rxSignatureDetailDataPageService\n            .get({\n            params: omit(Object.assign(Object.assign({}, queryParams), { status: this.selectedApprovalRequestsTab.status, shouldIncludeTotalSize: true, ignoreAlternateUser: false, propertySelection: queryParams.propertySelection.filter((property) => property !== RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.actingAs) }), ['searchText', 'recorddefinition'])\n        })\n            .pipe(tap((dataPage) => {\n            dataPage.data.forEach((row) => {\n                row.otherDetail1 = this.rxApprovalConsoleHelperService.formatValue(row.otherDetail1);\n                row.otherDetail2 = this.rxApprovalConsoleHelperService.formatValue(row.otherDetail2);\n                row.otherDetail3 = this.rxApprovalConsoleHelperService.formatValue(row.otherDetail3);\n                row.otherDetail4 = this.rxApprovalConsoleHelperService.formatValue(row.otherDetail4);\n            });\n        }));\n    }\n    getNeedAttentionData(queryParams) {\n        const params = omit(Object.assign(Object.assign({}, this.attentionGridParams), queryParams), ['searchText']);\n        return this.rxRecordInstanceDataPageService.post({\n            params\n        });\n    }\n    updateGridConfig() {\n        this.shouldShowGrid = false;\n        this.gridConfig$ = this.prepareGridConfiguration();\n        setTimeout(() => {\n            this.shouldShowGrid = true;\n        });\n    }\n    prepareGridConfiguration() {\n        const defaultConfig = {\n            enableFiltering: true,\n            enableRowSelection: RowSelectionMode.Multiple\n        };\n        if (this.isApprovalRequestGrid()) {\n            return of(Object.assign(Object.assign({}, defaultConfig), { actionButtons: this.getActionButtons(), getData: (queryParams) => this.getData(queryParams), columns: this.getColumns(), getRecordDefinition: () => of(this.getRecordDefinition()), recordIdField: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.signatureInstanceID, styles: 'flex-fill', guid: `ap-${this.rxStringService.toRxId(this.selectedApprovalRequestsTab.status)}-grid` }));\n        }\n        else if (this.isNeedAttentionGrid()) {\n            return of(Object.assign(Object.assign({}, defaultConfig), { recordDefinitionName: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.definition, getData: (queryParams) => this.getNeedAttentionData(queryParams), columns: this.needAttentionGridColumns(), styles: 'flex-fill', guid: 'ap-need-attention-grid' }));\n        }\n    }\n    getActionButtons() {\n        return includes([ApprovalRequestStatus.Pending, ApprovalRequestStatus.RequestMoreInfo, ApprovalRequestStatus.Hold], this.selectedApprovalRequestsTab.status)\n            ? [\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.button.approve.label'),\n                    style: 'success',\n                    iconCls: 'check_circle_o',\n                    size: 'small',\n                    actions: [\n                        {\n                            name: () => this.approveRequest()\n                        }\n                    ]\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.button.reject.label'),\n                    style: 'critical',\n                    iconCls: 'cross_circle_o',\n                    size: 'small',\n                    actions: [\n                        {\n                            name: () => this.rejectRequest()\n                        }\n                    ]\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.button.hold.label'),\n                    style: 'warning',\n                    iconCls: 'pause_circle_o',\n                    size: 'small',\n                    disabled: () => this.isHoldButtonDisabled(),\n                    actions: [\n                        {\n                            name: () => this.holdRequest()\n                        }\n                    ]\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.button.reassign.label'),\n                    iconCls: 'user_arrow_o',\n                    style: 'secondary',\n                    size: 'small',\n                    disabled: () => this.isReassignButtonDisabled,\n                    actions: [\n                        {\n                            name: () => this.reassignRequest()\n                        }\n                    ]\n                }\n            ]\n            : [];\n    }\n    reloadGridData() {\n        this.selectedApprovalRequest = null;\n        this.approvalRequestsGrid.api.refresh().subscribe();\n    }\n    openQuestionResponseDialog(selectedRow) {\n        this.rxModalService\n            .openModal({\n            content: ApprovalRequestQuestionResponseComponent,\n            size: 'sm',\n            data: {\n                selectedRequest: selectedRow\n            }\n        })\n            .then((result) => {\n            if (result) {\n                this.reloadGridData();\n            }\n        })\n            .catch(noop);\n    }\n    getColumns() {\n        return [\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.application,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.record-definition.label'),\n                cellTemplate: this.definitionNameCellTemplate\n            },\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.summary,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.description.label'),\n                cellTemplate: this.resolvedFieldCellTemplate,\n                sortable: false\n            },\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.requester,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.requester.label'),\n                cellTemplate: this.resolvedFieldCellTemplate,\n                sortable: true\n            },\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.status,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.status.label'),\n                filterable: false,\n                sortable: false\n            },\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.request,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.request-id.label'),\n                cellTemplate: this.resolvedFieldCellTemplate,\n                sortable: true\n            },\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.actingAs,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.grid.column.acting-as.title'),\n                filterable: false,\n                searchable: false,\n                sortable: false\n            },\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.createDateSig,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.request-date.label'),\n                visible: false,\n                filterable: false\n            },\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.process,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.grid.column.process.title'),\n                visible: false,\n                filterable: false\n            },\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.signatureInstanceID,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.grid.column.signature-instance-id.title'),\n                visible: false,\n                filterable: false\n            },\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.justificationReasonField,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.grid.column.justification.title'),\n                visible: false,\n                filterable: false,\n                sortable: false\n            },\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.sigTermStateDate,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.grid.column.status-updated-on.title'),\n                visible: false,\n                filterable: false\n            },\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.signatureID,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.grid.column.signature-id.title'),\n                visible: false,\n                filterable: false\n            },\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.otherDetail1,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.grid.column.other-detail1.title'),\n                visible: false,\n                filterable: false,\n                sortable: false\n            },\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.otherDetail2,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.grid.column.other-detail2.title'),\n                visible: false,\n                filterable: false,\n                sortable: false\n            },\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.otherDetail3,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.grid.column.other-detail3.title'),\n                visible: false,\n                filterable: false,\n                sortable: false\n            },\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.otherDetail4,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.grid.column.other-detail4.title'),\n                visible: false,\n                filterable: false,\n                sortable: false\n            },\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.justificationRequired,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.justification.require-on.label'),\n                visible: false,\n                filterable: false\n            },\n            {\n                fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.processInstanceId,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.grid.column.process-instance-id.title'),\n                visible: false,\n                filterable: false,\n                sortable: false\n            }\n        ];\n    }\n    getRecordDefinition() {\n        return {\n            fieldDefinitions: [\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.application,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.summary,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.requester,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.status,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.selection,\n                    optionNamesById: {\n                        [ApprovalRequestStatus.Pending]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.pending.labelKey),\n                        [ApprovalRequestStatus.RequestMoreInfo]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.moreInfo.labelKey),\n                        [ApprovalRequestStatus.Approved]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.approved.labelKey),\n                        [ApprovalRequestStatus.Rejected]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.rejected.labelKey),\n                        [ApprovalRequestStatus.Cancelled]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.cancelled.labelKey),\n                        [ApprovalRequestStatus.Error]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.error.labelKey),\n                        [ApprovalRequestStatus.Hold]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.onHold.labelKey),\n                        [ApprovalRequestStatus.Closed]: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.closed.labelKey)\n                    }\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.request,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.actingAs,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.createDateSig,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.process,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.signatureInstanceID,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.justificationReasonField,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.sigTermStateDate,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.signatureID,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.otherDetail1,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.otherDetail2,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.otherDetail3,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.otherDetail4,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.justificationRequired,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.selection,\n                    optionNamesById: {\n                        [JustificationRequirement.RequiredForApproval]: this.translateService.instant('com.bmc.arsys.rx.client.approval.justification.require-on.approval.label'),\n                        [JustificationRequirement.RequiredForRejection]: this.translateService.instant('com.bmc.arsys.rx.client.approval.justification.require-on.rejection.label'),\n                        [JustificationRequirement.RequiredForApprovalOrRejection]: this.translateService.instant('com.bmc.arsys.rx.client.approval.justification.require-on.approval-rejection.label'),\n                        [JustificationRequirement.NotRequired]: this.translateService.instant('com.bmc.arsys.rx.client.common.not-applicable.label')\n                    }\n                },\n                {\n                    id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.processInstanceId,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                }\n            ]\n        };\n    }\n}\nApprovalConsoleComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalConsoleComponent, deps: [{ token: i1$3.RxStringService }, { token: RxApprovalConsoleHelperService }, { token: i3.RxCurrentUserService }, { token: i1$1.TranslateService }, { token: i6$1.RxModalService }, { token: i3.RxNotificationService }, { token: RxApprovalConsoleService }, { token: i2.RxRecordInstanceService }, { token: i1$2.AdaptModalService }, { token: RxSignatureDetailDataPageService }, { token: i10.RxRecordGridFilterService }, { token: i2.RxRecordInstanceDataPageService }, { token: i3.RxDefinitionNameService }], target: i0.ɵɵFactoryTarget.Component });\nApprovalConsoleComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ApprovalConsoleComponent, selector: \"rx-approval-console\", viewQueries: [{ propertyName: \"requestDetailsTabs\", first: true, predicate: [\"requestDetailsTabs\"], descendants: true }, { propertyName: \"resolvedFieldCellTemplate\", first: true, predicate: [\"resolvedFieldCellTemplate\"], descendants: true, static: true }, { propertyName: \"definitionNameCellTemplate\", first: true, predicate: [\"definitionNameCellTemplate\"], descendants: true, static: true }, { propertyName: \"approvalRequestsGrid\", first: true, predicate: [\"approvalRequestsGrid\"], descendants: true }], usesInheritance: true, ngImport: i0, template: \"<div class=\\\"row h-100\\\">\\n  <div class=\\\"col-12 col-md-7 d-flex flex-column flex-fill h-100\\\">\\n    <h2 class=\\\"mt-0\\\">{{ 'com.bmc.arsys.rx.client.approval.console.requests.title' | translate }}</h2>\\n\\n    <adapt-tabset\\n      type=\\\"pills\\\"\\n      [tab-active]=\\\"0\\\"\\n      *ngIf=\\\"availableRequestCount$ | async as requestsTypeCounts\\\"\\n      (tab-active-changed)=\\\"fetchApprovalRequests($event)\\\"\\n      rx-id=\\\"approval-requests-tabs\\\"\\n    >\\n      <adapt-tab-panel\\n        *ngFor=\\\"let requestType of approvalRequestTypes\\\"\\n        adapt-tab-title=\\\"{{ requestType.label }}\\\"\\n        [badge]=\\\"requestsTypeCounts[requestType.countType]\\\"\\n        [badge-type]=\\\"requestType.badgeType\\\"\\n      >\\n      </adapt-tab-panel>\\n    </adapt-tabset>\\n\\n    <rx-record-grid\\n      #approvalRequestsGrid\\n      [config]=\\\"gridConfig$\\\"\\n      *ngIf=\\\"shouldShowGrid\\\"\\n      (dataLoaded)=\\\"onDataLoaded()\\\"\\n    ></rx-record-grid>\\n  </div>\\n\\n  <div class=\\\"col-12 col-md-5 mt-4 mt-md-0 d-flex flex-column flex-fill h-100\\\">\\n    <div class=\\\"mb-1\\\">\\n      <button\\n        type=\\\"button\\\"\\n        adapt-button\\n        btn-type=\\\"secondary\\\"\\n        size=\\\"small\\\"\\n        class=\\\"d-icon-left-angle_left mr-2\\\"\\n        rx-id=\\\"prev-button\\\"\\n        [disabled]=\\\"isPreviousButtonDisabled()\\\"\\n        (click)=\\\"showPreviousRequestDetails()\\\"\\n      ></button>\\n\\n      <button\\n        type=\\\"button\\\"\\n        adapt-button\\n        btn-type=\\\"secondary\\\"\\n        size=\\\"small\\\"\\n        class=\\\"d-icon-left-angle_right mr-3\\\"\\n        rx-id=\\\"next-button\\\"\\n        [disabled]=\\\"isNextButtonDisabled()\\\"\\n        (click)=\\\"showNextRequestDetails()\\\"\\n      ></button>\\n\\n      <h2 class=\\\"d-inline-block my-0 align-middle\\\">\\n        {{ 'com.bmc.arsys.rx.client.approval.console.request-details.title' | translate }}\\n        <span *ngIf=\\\"currentRequestId\\\">({{ currentRequestId }})</span>\\n      </h2>\\n    </div>\\n\\n    <adapt-tabset\\n      type=\\\"pills\\\"\\n      [tab-active]=\\\"0\\\"\\n      #requestDetailsTabs\\n      (tab-active-changed)=\\\"onTabChanged($event)\\\"\\n      class=\\\"d-flex flex-column flex-fill h-100\\\"\\n      rx-id=\\\"request-details-tabs\\\"\\n    >\\n      <adapt-tab-panel\\n        adapt-tab-title=\\\"{{ 'com.bmc.arsys.rx.client.common.general-items.label' | translate }}\\\"\\n        badge-type=\\\"primary\\\"\\n      >\\n        <rx-approval-request-general-details\\n          [approvalRequest]=\\\"selectedApprovalRequest\\\"\\n          [gridType]=\\\"selectedApprovalRequestsTab.gridType\\\"\\n        ></rx-approval-request-general-details>\\n      </adapt-tab-panel>\\n\\n      <adapt-tab-panel adapt-tab-title=\\\"{{ 'com.bmc.arsys.rx.client.approval.console.approvers.title' | translate }}\\\">\\n        <rx-approval-request-approvers\\n          class=\\\"d-flex flex-column flex-fill h-100\\\"\\n          [approvalRequest]=\\\"selectedApprovalRequest\\\"\\n          [gridType]=\\\"selectedApprovalRequestsTab.gridType\\\"\\n          *ngIf=\\\"activeTabIndex === 1\\\"\\n        ></rx-approval-request-approvers>\\n      </adapt-tab-panel>\\n\\n      <adapt-tab-panel adapt-tab-title=\\\"{{ 'com.bmc.arsys.rx.client.approval.console.questions.label' | translate }}\\\">\\n        <rx-approval-request-questions\\n          class=\\\"d-flex flex-column flex-fill h-100\\\"\\n          [approvalRequest]=\\\"selectedApprovalRequest\\\"\\n          [gridType]=\\\"selectedApprovalRequestsTab.gridType\\\"\\n          [requestsTabStatus]=\\\"selectedApprovalRequestsTab.status\\\"\\n          (questionSubmitted)=\\\"onQuestionSubmitted()\\\"\\n          *ngIf=\\\"activeTabIndex === 2\\\"\\n        ></rx-approval-request-questions>\\n      </adapt-tab-panel>\\n\\n      <adapt-tab-panel adapt-tab-title=\\\"{{ 'com.bmc.arsys.rx.client.approval.console.comments.title' | translate }}\\\">\\n        <rx-approval-request-comments\\n          class=\\\"d-flex flex-column flex-fill h-100\\\"\\n          [approvalRequest]=\\\"selectedApprovalRequest\\\"\\n          [gridType]=\\\"selectedApprovalRequestsTab.gridType\\\"\\n          *ngIf=\\\"activeTabIndex === 3\\\"\\n        ></rx-approval-request-comments>\\n      </adapt-tab-panel>\\n\\n      <adapt-tab-panel adapt-tab-title=\\\"{{ 'com.bmc.arsys.rx.client.approval.console.attachments.title' | translate }}\\\">\\n        <rx-approval-request-attachments\\n          class=\\\"d-flex flex-column flex-fill h-100\\\"\\n          [approvalRequest]=\\\"selectedApprovalRequest\\\"\\n          [gridType]=\\\"selectedApprovalRequestsTab.gridType\\\"\\n          *ngIf=\\\"activeTabIndex === 4\\\"\\n        ></rx-approval-request-attachments>\\n      </adapt-tab-panel>\\n    </adapt-tabset>\\n  </div>\\n</div>\\n\\n<ng-template #definitionNameCellTemplate let-dataItem=\\\"dataItem\\\" let-column=\\\"column\\\">\\n  {{ dataItem[column.field] | rxDefinitionNamePipe }}\\n</ng-template>\\n\\n<ng-template #resolvedFieldCellTemplate let-dataItem=\\\"dataItem\\\" let-column=\\\"column\\\">\\n  {{ dataItem.resolvedDisplayValues[column.field] }}\\n</ng-template>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}:host{display:block;padding:1rem;height:100%}:host::ng-deep adapt-tabset .tab-content{padding:.5rem 0 0}:host::ng-deep rx-record-grid{height:100%}:host::ng-deep rx-record-grid .rx-action-button_success button{background:#89c341;border-color:#78ac36}:host::ng-deep rx-record-grid .rx-action-button_success button:hover{background-color:#78ac36}:host::ng-deep rx-record-grid .rx-action-button_critical button{background:#f83200;border-color:#d72b00}:host::ng-deep rx-record-grid .rx-action-button_critical button:hover{background-color:#d72b00}:host::ng-deep rx-record-grid .rx-action-button_warning button{color:#313538;background:#f1b521;border-color:#e3a50e}:host::ng-deep rx-record-grid .rx-action-button_warning button:hover{background-color:#e3a50e}:host::ng-deep rx-record-grid .rx-action-button_warning button:disabled{color:#313538;background-color:#f6cf6f}\\n\"], components: [{ type: i1$2.AdaptTabsComponent, selector: \"adapt-tabset\", inputs: [\"showTabToolbar\", \"customCssTabContent\", \"fullHeight\", \"texts\", \"enableDnD\", \"customClassTabList\", \"allow-tabs-adding\", \"id\", \"testID\", \"dropdown-title\", \"fadeColor\", \"carouselMode\", \"justify\", \"type\", \"tab-active\"], outputs: [\"tab-index-closed\", \"tab-active-changed\", \"add-tab-clicked\", \"tabClicked\", \"tabDropped\"], exportAs: [\"adaptTabset\"] }, { type: i1$2.AdaptTabsPanelComponent, selector: \"adapt-tab-panel, div[tab-panel]\", inputs: [\"isActive\", \"badge-type\", \"animateBadge\", \"showBadgeAlert\", \"badgeAlertVariant\", \"badgeCustomClass\", \"adapt-tab-title\", \"disabled\", \"isHidden\", \"icon\", \"subtext\", \"icon-right\", \"icon-close\", \"aria-label\", \"aria-labelledby\", \"kebabMenu\", \"id\", \"renderContentWhenInactive\", \"badge\"] }, { type: i10.RecordGridComponent, selector: \"rx-record-grid\", inputs: [\"config\"], outputs: [\"dataLoaded\"] }, { type: i1$2.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: ApprovalRequestGeneralDetailsComponent, selector: \"rx-approval-request-general-details\", inputs: [\"approvalRequest\", \"gridType\"] }, { type: ApprovalRequestApproversComponent, selector: \"rx-approval-request-approvers\", inputs: [\"approvalRequest\", \"gridType\"] }, { type: ApprovalRequestQuestionsComponent, selector: \"rx-approval-request-questions\", inputs: [\"approvalRequest\", \"requestsTabStatus\", \"gridType\"], outputs: [\"questionSubmitted\"] }, { type: ApprovalRequestCommentsComponent, selector: \"rx-approval-request-comments\", inputs: [\"approvalRequest\", \"gridType\"] }, { type: ApprovalRequestAttachmentsComponent, selector: \"rx-approval-request-attachments\", inputs: [\"approvalRequest\", \"gridType\"] }], directives: [{ type: i3$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], pipes: { \"translate\": i1$1.TranslatePipe, \"async\": i3$1.AsyncPipe, \"rxDefinitionNamePipe\": i3.RxDefinitionNamePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalConsoleComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-approval-console',\n                    templateUrl: './approval-console.component.html',\n                    styleUrls: ['./approval-console.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1$3.RxStringService }, { type: RxApprovalConsoleHelperService }, { type: i3.RxCurrentUserService }, { type: i1$1.TranslateService }, { type: i6$1.RxModalService }, { type: i3.RxNotificationService }, { type: RxApprovalConsoleService }, { type: i2.RxRecordInstanceService }, { type: i1$2.AdaptModalService }, { type: RxSignatureDetailDataPageService }, { type: i10.RxRecordGridFilterService }, { type: i2.RxRecordInstanceDataPageService }, { type: i3.RxDefinitionNameService }]; }, propDecorators: { requestDetailsTabs: [{\n                type: ViewChild,\n                args: ['requestDetailsTabs']\n            }], resolvedFieldCellTemplate: [{\n                type: ViewChild,\n                args: ['resolvedFieldCellTemplate', { static: true }]\n            }], definitionNameCellTemplate: [{\n                type: ViewChild,\n                args: ['definitionNameCellTemplate', { static: true }]\n            }], approvalRequestsGrid: [{\n                type: ViewChild,\n                args: ['approvalRequestsGrid']\n            }] } });\n\nclass ApprovalConsoleRegistrationModule {\n    constructor(componentFactoryResolver, rxViewComponentRegistryService) {\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        rxViewComponentRegistryService.register({\n            type: 'rx-approval-console',\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(ApprovalConsoleComponent),\n            name: 'Approval console',\n            isPageComponent: true,\n            availableInBundles: [RX_APPLICATION.approvalBundleId]\n        });\n    }\n}\nApprovalConsoleRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalConsoleRegistrationModule, deps: [{ token: i0.ComponentFactoryResolver }, { token: i1$4.RxViewComponentRegistryService }], target: i0.ɵɵFactoryTarget.NgModule });\nApprovalConsoleRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalConsoleRegistrationModule, declarations: [ApprovalConsoleComponent,\n        ApprovalRequestGeneralDetailsComponent,\n        ApprovalRequestReassignComponent,\n        ApprovalRequestApproversComponent,\n        ApprovalRequestQuestionsComponent,\n        ApprovalRequestCommentsComponent,\n        ApprovalRequestAttachmentsComponent,\n        ApprovalRequestQuestionResponseComponent,\n        ApprovalRequestQuestionComponent,\n        ApprovalRequestCommentComponent,\n        ApprovalRequestActionReasonInputComponent], imports: [CommonModule,\n        RecordGridModule,\n        AdaptButtonModule,\n        AdaptDropdownModule,\n        FormsModule,\n        TranslateModule,\n        AdaptTabsModule,\n        ReadOnlyFieldModule,\n        RxBusyIndicatorModule,\n        RxDefinitionModule,\n        RxSelectWithPaginationModule,\n        AdaptEmptyStateModule,\n        AdaptRxTextareaModule,\n        AdaptRxUploaderModule,\n        AdaptBusyModule,\n        AdaptDownloadModule,\n        AdaptRxLabelModule,\n        AdaptRxSwitchModule,\n        AdaptAlertModule,\n        AdaptRxTextfieldModule] });\nApprovalConsoleRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalConsoleRegistrationModule, providers: [RxApprovalConsoleHelperService], imports: [[\n            CommonModule,\n            RecordGridModule,\n            AdaptButtonModule,\n            AdaptDropdownModule,\n            FormsModule,\n            TranslateModule,\n            AdaptTabsModule,\n            ReadOnlyFieldModule,\n            RxBusyIndicatorModule,\n            RxDefinitionModule,\n            RxSelectWithPaginationModule,\n            AdaptEmptyStateModule,\n            AdaptRxTextareaModule,\n            AdaptRxUploaderModule,\n            AdaptBusyModule,\n            AdaptDownloadModule,\n            AdaptRxLabelModule,\n            AdaptRxSwitchModule,\n            AdaptAlertModule,\n            AdaptRxTextfieldModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalConsoleRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [\n                        ApprovalConsoleComponent,\n                        ApprovalRequestGeneralDetailsComponent,\n                        ApprovalRequestReassignComponent,\n                        ApprovalRequestApproversComponent,\n                        ApprovalRequestQuestionsComponent,\n                        ApprovalRequestCommentsComponent,\n                        ApprovalRequestAttachmentsComponent,\n                        ApprovalRequestQuestionResponseComponent,\n                        ApprovalRequestQuestionComponent,\n                        ApprovalRequestCommentComponent,\n                        ApprovalRequestActionReasonInputComponent\n                    ],\n                    imports: [\n                        CommonModule,\n                        RecordGridModule,\n                        AdaptButtonModule,\n                        AdaptDropdownModule,\n                        FormsModule,\n                        TranslateModule,\n                        AdaptTabsModule,\n                        ReadOnlyFieldModule,\n                        RxBusyIndicatorModule,\n                        RxDefinitionModule,\n                        RxSelectWithPaginationModule,\n                        AdaptEmptyStateModule,\n                        AdaptRxTextareaModule,\n                        AdaptRxUploaderModule,\n                        AdaptBusyModule,\n                        AdaptDownloadModule,\n                        AdaptRxLabelModule,\n                        AdaptRxSwitchModule,\n                        AdaptAlertModule,\n                        AdaptRxTextfieldModule\n                    ],\n                    entryComponents: [ApprovalConsoleComponent],\n                    providers: [RxApprovalConsoleHelperService]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ComponentFactoryResolver }, { type: i1$4.RxViewComponentRegistryService }]; } });\n\nclass ApprovalConsoleModule {\n}\nApprovalConsoleModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalConsoleModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nApprovalConsoleModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalConsoleModule, imports: [ApprovalConsoleRegistrationModule] });\nApprovalConsoleModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalConsoleModule, providers: [], imports: [[ApprovalConsoleRegistrationModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApprovalConsoleModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [ApprovalConsoleRegistrationModule],\n                    providers: [],\n                    declarations: []\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ApprovalConsoleComponent, ApprovalConsoleModule, ApprovalConsoleRegistrationModule };\n//# sourceMappingURL=helix-platform-approval-components.js.map\n","import * as i0 from '@angular/core';\nimport { Injectable, Component, Input, ViewChild, HostBinding, NgModule } from '@angular/core';\nimport * as i1$1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i1$2 from '@helix/platform/view/api';\nimport * as i2$1 from '@helix/platform/shared/api';\nimport { RX_APPLICATION, RxExpressionConfigurator, RxDefinitionNameService, ExpressionOperatorGroup } from '@helix/platform/shared/api';\nimport * as i6 from '@angular/forms';\nimport { Validators, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport * as i2 from '@ngx-translate/core';\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\nimport { ReplaySubject, iif, Subject, NEVER, of, timer, from, forkJoin, BehaviorSubject } from 'rxjs';\nimport * as i9 from '@helix/platform/view/components';\nimport { RowSelectionMode, RecordGridColumnAlignment, RecordGridModule } from '@helix/platform/view/components';\nimport * as i5 from '@helix/platform/record/api';\nimport { RX_RECORD_DEFINITION, RecordFieldOption, RxRecordDefinitionCacheService } from '@helix/platform/record/api';\nimport * as i3 from '@helix/platform/utils';\nimport { get, map as map$1, isUndefined, find, cloneDeep, sortBy, forEach, flatten, flow, filter, includes, compact, intersectionBy, lowerCase, some, camelCase, omit, every, noop } from 'lodash';\nimport * as i4$1 from '@helix/platform/ui-kit';\nimport { RX_MODAL, RxLineLoaderModule, RxBusyIndicatorModule, RxModalClass } from '@helix/platform/ui-kit';\nimport * as i1 from '@angular/common/http';\nimport * as i4 from '@bmc-ux/adapt-angular';\nimport { AdaptButtonModule, AdaptPopoverModule, AdaptRxTextfieldModule, AdaptRxUploaderModule, AdaptRxSelectModule, AdaptTabsModule, AdaptRxRadiobuttonModule, AdaptRxLabelModule, AdaptAlertModule, AdaptRxCheckboxModule, DismissReasons, AdaptAccordionModule, AdaptBusyModule, AdaptRxTextareaModule } from '@bmc-ux/adapt-angular';\nimport { map, distinctUntilChanged, takeUntil, tap, finalize, switchMap, withLatestFrom, filter as filter$1, take } from 'rxjs/operators';\nimport * as i7 from '@bmc-ux/adapt-table';\nimport { AdaptTableModule } from '@bmc-ux/adapt-table';\nimport * as i7$1 from '@helix/platform/shared/components';\nimport { RxDefinitionPickerType, RX_DEFINITION_PICKER, RxDefinitionPickerModule, ExpressionFormControlModule } from '@helix/platform/shared/components';\nimport * as i8 from '@helix/platform/association/api';\nimport { RxAssociationDefinitionCacheService } from '@helix/platform/association/api';\n\nconst DL_DATA_IMPORT = {\n    recordDefinitionName: 'com.bmc.arsys.rx.dataload:Data Load Files',\n    archiveTrueValue: 1,\n    uploadFileStepId: 'uploadDataFile',\n    temporaryStepConfig: {\n        id: 'temporaryStep',\n        name: '',\n        componentFactory: null\n    },\n    attachmentTypes: {\n        xlsx: {\n            value: 1,\n            extension: 'xlsx'\n        },\n        zip: {\n            value: 2,\n            extension: 'zip'\n        }\n    },\n    fields: {\n        importJobName: 536870913,\n        uploadedOn: 536870914,\n        importJobDescription: 536870915,\n        dataFile: 536870916,\n        attachmentOut: 536870917,\n        message: 536870918,\n        attachmentType: 536870919,\n        archivedWorksheetFileName: 536870920,\n        isArchived: 536870921,\n        mappingConfig: 536870923\n    },\n    dataStatuses: {\n        all: -1,\n        queued: 6,\n        new: 0,\n        processing: 1,\n        processed: 2,\n        stopping: 7,\n        stopped: 8,\n        errored: 3\n    },\n    mergeOptions: {\n        generateNewIds: 1,\n        rejectDuplicates: 2,\n        generateNewIdsForDuplicates: 3,\n        updateRecords: 4,\n        replaceRecords: 5\n    }\n};\n\nclass DataImportService {\n    constructor(httpClient) {\n        this.httpClient = httpClient;\n        this.url = `/api/${RX_APPLICATION.dataloadBundleId}/rx/application/dataload/`;\n    }\n    runLoadProcess(id) {\n        return this.httpClient.post(`${this.url}${id}`, {});\n    }\n    stopDataProcessing(id) {\n        return this.httpClient.post(`${this.url}stop/${id}`, {});\n    }\n    getDataRecordWorksheet(recordId) {\n        return this.httpClient.get(`${this.url}${recordId}/input_file_conf`);\n    }\n    getEmptyCurrentSheetDataMapConfig(sheetName) {\n        return {\n            name: sheetName,\n            configurations: {\n                definitionMappings: {\n                    targetDefinition: {\n                        type: null,\n                        name: null\n                    },\n                    fieldMappings: []\n                },\n                dataHandlingOptions: [],\n                timeFormatOptions: null,\n                duplicateHandlingOptions: {\n                    matchDuplicateBy: [],\n                    handleDuplicateBy: null\n                }\n            }\n        };\n    }\n}\nDataImportService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataImportService, deps: [{ token: i1.HttpClient }], target: i0.ɵɵFactoryTarget.Injectable });\nDataImportService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataImportService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataImportService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }]; } });\n\nclass ImportRecordStatusInfoComponent {\n    constructor(datePipe, rxTranslateService, rxJsonParserService, activeModalRef, rxRecordInstanceDataPageService) {\n        this.datePipe = datePipe;\n        this.rxTranslateService = rxTranslateService;\n        this.rxJsonParserService = rxJsonParserService;\n        this.activeModalRef = activeModalRef;\n        this.rxRecordInstanceDataPageService = rxRecordInstanceDataPageService;\n        this.statusData$ = this.rxRecordInstanceDataPageService\n            .post({\n            params: {\n                [RX_RECORD_DEFINITION.coreFieldIds.id]: this.activeModalRef.getData().dataRecordId,\n                recorddefinition: DL_DATA_IMPORT.recordDefinitionName\n            }\n        })\n            .pipe(map((dataPage) => {\n            if (dataPage.data[0][RX_RECORD_DEFINITION.coreFieldIds.status] === DL_DATA_IMPORT.dataStatuses.processing) {\n                this.processStartInfo = `${this.rxTranslateService.instant('com.bmc.arsys.rx.client.dataload.process-started.message')} ${this.datePipe.transform(dataPage.data[0][RX_RECORD_DEFINITION.coreFieldIds.modifiedDate], 'medium')}`;\n            }\n            const dataLoadProgressStatus = get(this.rxJsonParserService.tryParseJson(dataPage.data[0][DL_DATA_IMPORT.fields.message], []), 'dataLoadProgressStatus');\n            if (dataLoadProgressStatus) {\n                return map$1(dataLoadProgressStatus, (statusInfo) => (Object.assign(Object.assign({}, statusInfo), { updateTime: this.datePipe.transform(statusInfo.updateTime, 'medium') })));\n            }\n            else {\n                this.fileUploadedNotProcessedMsg = dataPage.data[0][DL_DATA_IMPORT.fields.message];\n                return [];\n            }\n        }));\n        this.columns = [\n            {\n                field: 'updateTime',\n                header: this.rxTranslateService.instant('com.bmc.arsys.rx.client.dataload.status-info-grid.column.updated-date.title'),\n                sortable: false,\n                width: '20%'\n            },\n            {\n                field: 'status',\n                header: this.rxTranslateService.instant('com.bmc.arsys.rx.client.common.status.label'),\n                width: '20%'\n            },\n            {\n                field: 'message',\n                header: this.rxTranslateService.instant('com.bmc.arsys.rx.client.common.message.label'),\n                width: '80%'\n            }\n        ];\n    }\n    close() {\n        this.activeModalRef.close();\n    }\n}\nImportRecordStatusInfoComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImportRecordStatusInfoComponent, deps: [{ token: i1$1.DatePipe }, { token: i2.TranslateService }, { token: i3.RxJsonParserService }, { token: i4.ActiveModalRef }, { token: i5.RxRecordInstanceDataPageService }], target: i0.ɵɵFactoryTarget.Component });\nImportRecordStatusInfoComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ImportRecordStatusInfoComponent, selector: \"dl-import-record-status-info\", ngImport: i0, template: \"<ng-template #loaderTemplate>\\n  <rx-line-loader></rx-line-loader>\\n</ng-template>\\n\\n<div *ngIf=\\\"statusData$ | async as statusData; else loaderTemplate\\\">\\n  <div class=\\\"data-status-info\\\">\\n    <div *ngIf=\\\"fileUploadedNotProcessedMsg\\\">\\n      {{ fileUploadedNotProcessedMsg }}\\n    </div>\\n\\n    <adapt-alert\\n      *ngIf=\\\"processStartInfo\\\"\\n      [config]=\\\"{\\n        content: processStartInfo,\\n        type: 'inline',\\n        variant: 'warning'\\n      }\\\"\\n    ></adapt-alert>\\n\\n    <adapt-table\\n      [hidden]=\\\"fileUploadedNotProcessedMsg\\\"\\n      rx-id=\\\"imported-status-info-grid\\\"\\n      [columns]=\\\"columns\\\"\\n      [bordered]=\\\"true\\\"\\n      [value]=\\\"statusData\\\"\\n      [wrapCellText]=\\\"true\\\"\\n    >\\n    </adapt-table>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button (click)=\\\"close()\\\" adapt-button btn-type=\\\"secondary\\\" rx-id=\\\"close-button\\\" type=\\\"button\\\">\\n    {{ 'com.bmc.arsys.rx.client.common.close.label' | translate }}\\n  </button>\\n</div>\\n\", styles: [\".data-status-info{padding:15px}\\n\"], components: [{ type: i4$1.RxLineLoaderComponent, selector: \"rx-line-loader\", inputs: [\"loaderMessage\"] }, { type: i4.AdaptAlertComponent, selector: \"adapt-alert\", inputs: [\"config\"], outputs: [\"onClose\"] }, { type: i7.AdaptTableComponent, selector: \"adapt-table\", inputs: [\"sortable\", \"filterable\", \"triggerableFilters\", \"explicitSearchBtn\", \"enableReorderableRows\", \"suppressTooltip\", \"toolbarConfig\", \"dataColumnsColsTemplate\", \"dataColumnsHeaderTemplate\", \"dataColumnsDataCellsTemplate\", \"headerGroupsTemplate\", \"alwaysShowHeaderTooltip\", \"alwaysShowCellTooltip\", \"expandedCellClass\", \"expandedGroupsKeys\", \"nestedGroupPadding\", \"expandindCellInitialPadding\", \"groupValueDataCellTemplate\", \"tooltipInitialDelayMs\", \"tooltipClass\", \"rowsCustomClass\", \"paginatorAlign\", \"hasEmptyState\", \"enableInfiniteScrolling\", \"updateFirstColumnWidth\", \"busyConfig\", \"defaultFiltersMatchMode\", \"wrapCellText\", \"minBufferPx\", \"maxBufferPx\", \"testID\", \"headerSelectionMode\", \"disabledSelectedRowsCount\", \"disabledNotSelectedRowsCount\", \"disabledSelectedFilteredRowsCount\", \"disabledNotSelectedFilteredRowsCount\", \"selectedFilteredRowsCount\", \"totalRecordsInGroup\", \"disableRowSelection\", \"nestingStructureData\", \"nestingKey\", \"enableRowEditing\", \"autoScrollToTop\", \"paginationTexts\", \"toolbarTexts\", \"tableTexts\", \"filtersTexts\", \"headerCellMenuTexts\", \"texts\", \"loadingMore\", \"mergeColumns\", \"disabledRowSelectionResolver\", \"allowColumnReorderingResolver\", \"disableRowExpandingResolver\", \"rowAriaDataResolver\", \"tableWidthConfig\", \"expandedRowTemplate\", \"isRefreshingRowData\", \"value\", \"bordered\", \"paginator\", \"striped\", \"loading\"], outputs: [\"onLazyLoad\", \"rowDataRefresh\", \"savedRowEditing\", \"canceledRowEditing\", \"groupSelection\", \"allGroupedRowsSelection\", \"groupExpansion\", \"columnsVisibilityChange\", \"rowDragStart\", \"rowDragRelease\", \"rowDragEnd\", \"rowDragDrop\", \"export\", \"toolbarPopupAnimationDone\"] }, { type: i4.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i1$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i1$1.AsyncPipe, \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImportRecordStatusInfoComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'dl-import-record-status-info',\n                    templateUrl: './import-record-status-info.component.html',\n                    styleUrls: ['./import-data-status-info.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.DatePipe }, { type: i2.TranslateService }, { type: i3.RxJsonParserService }, { type: i4.ActiveModalRef }, { type: i5.RxRecordInstanceDataPageService }]; } });\n\nclass DataExportService {\n    constructor(httpClient) {\n        this.httpClient = httpClient;\n        this.url = `/api/${RX_APPLICATION.dataloadBundleId}/rx/application/dataexport/`;\n    }\n    isRecordDefinitionResponse(definitionResponse) {\n        return !isUndefined(definitionResponse.fieldDefinitions);\n    }\n    startDataExport(instanceId) {\n        return this.httpClient.post(`${this.url}${instanceId}`, {});\n    }\n}\nDataExportService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataExportService, deps: [{ token: i1.HttpClient }], target: i0.ɵɵFactoryTarget.Injectable });\nDataExportService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataExportService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataExportService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }]; } });\n\nclass DataImportMappingStepComponent {\n    constructor(dataImportService, dataExportService, rxRecordDefinitionCacheService, changeDetectorRef, rxModalService, rxWizardModalComponent, definitionNameService, translateService, rxAssociationDefinitionService, rxNotificationService) {\n        this.dataImportService = dataImportService;\n        this.dataExportService = dataExportService;\n        this.rxRecordDefinitionCacheService = rxRecordDefinitionCacheService;\n        this.changeDetectorRef = changeDetectorRef;\n        this.rxModalService = rxModalService;\n        this.rxWizardModalComponent = rxWizardModalComponent;\n        this.definitionNameService = definitionNameService;\n        this.translateService = translateService;\n        this.rxAssociationDefinitionService = rxAssociationDefinitionService;\n        this.rxNotificationService = rxNotificationService;\n        this.sourceFieldNameList = [];\n        this.targetFieldList = [];\n        this.definitionTypes = {\n            record: 'record',\n            association: 'association'\n        };\n        this.definitionTypeOptions = [\n            {\n                value: this.definitionTypes.record,\n                displayValue: this.translateService.instant('com.bmc.arsys.rx.client.definition-type.record.label')\n            },\n            {\n                value: this.definitionTypes.association,\n                displayValue: this.translateService.instant('com.bmc.arsys.rx.client.definition-type.association.label')\n            }\n        ];\n        this.recordPickerOptions = {\n            label: '',\n            definitionType: RxDefinitionPickerType.Record,\n            availableDefinitionPickerStates: {\n                definitionButtonsGroups: [RX_DEFINITION_PICKER.definitionScopes.all],\n                search: RX_DEFINITION_PICKER.definitionScopes.all\n            }\n        };\n        this.associationPickerOptions = {\n            label: '',\n            definitionType: RxDefinitionPickerType.Association,\n            availableDefinitionPickerStates: {\n                definitionButtonsGroups: [RX_DEFINITION_PICKER.definitionScopes.all],\n                search: RX_DEFINITION_PICKER.definitionScopes.all\n            }\n        };\n        this.destroyed$ = new ReplaySubject(1);\n        this.duplicateHandlingOptions = [\n            {\n                id: DL_DATA_IMPORT.mergeOptions.generateNewIds,\n                name: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.wizard.tabs.duplicate-handling.handle-by.generating-new-id-for-all')\n            },\n            {\n                id: DL_DATA_IMPORT.mergeOptions.generateNewIdsForDuplicates,\n                name: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.wizard.tabs.duplicate-handling.handle-by.generating-new-id-for-duplicates')\n            },\n            {\n                id: DL_DATA_IMPORT.mergeOptions.rejectDuplicates,\n                name: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.wizard.tabs.duplicate-handling.handle-by.rejecting-duplicate')\n            },\n            {\n                id: DL_DATA_IMPORT.mergeOptions.replaceRecords,\n                name: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.wizard.tabs.duplicate-handling.handle-by.replacing-existing-records')\n            },\n            {\n                id: DL_DATA_IMPORT.mergeOptions.updateRecords,\n                name: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.wizard.tabs.duplicate-handling.handle-by.updating-old-with-new')\n            }\n        ];\n        this.dataOptions = [\n            {\n                id: 1,\n                name: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.wizard.tabs.options.remove-leading-spaces-and-tabs'),\n                isSelected: false\n            },\n            {\n                id: 2,\n                name: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.wizard.tabs.options.remove-trailing-spaces-and-tabs'),\n                isSelected: false\n            },\n            {\n                id: 3,\n                name: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.wizard.tabs.options.truncate-long-strings'),\n                isSelected: false\n            }\n        ];\n        this.matchDuplicateByFields = [];\n        this.selectedMatchDuplicateByFields = [];\n        this.dateTimeFormatOptions = [\n            {\n                id: 1,\n                name: 'dd/MM/yy',\n                example: '25/11/21'\n            },\n            {\n                id: 2,\n                name: 'dd/MM/yyyy',\n                example: '25/11/2021'\n            },\n            {\n                id: 3,\n                name: 'MM/dd/yyyy',\n                example: '11/25/2021'\n            },\n            {\n                id: 4,\n                name: 'yyyy/MM/dd',\n                example: '2021/11/25'\n            },\n            {\n                id: 5,\n                name: `yyyy-MM-dd'T'HH:mm:ss:SSSZ`,\n                example: '2021-11-25T11:12:13:000+0530'\n            }\n        ];\n    }\n    ngOnInit() {\n        this.excelSheetName = this.options.sheetName;\n        this.currentSheetDataImportMapping = this.dataImportService.getEmptyCurrentSheetDataMapConfig(this.excelSheetName);\n        this.currentExcelSheetConfiguration = this.context.excelSheetsConfiguration[this.excelSheetName];\n        this.sourceFieldNameList = map$1(this.currentExcelSheetConfiguration.fields, 'name');\n        this.currentSheetDataImportMapping.configurations.duplicateHandlingOptions.handleDuplicateBy = [\n            find(this.duplicateHandlingOptions, { id: DL_DATA_IMPORT.mergeOptions.generateNewIds })\n        ];\n        const isCloningConfig = Boolean(this.context.clonedConfigurationInstanceId);\n        if (isCloningConfig && this.context.isClonedConfigMatched) {\n            this.currentSheetDataImportMapping = cloneDeep(this.getRefactoredClonedConfiguration(find(this.context.dataImportContext.dataImportConfigurations.sheets, {\n                name: this.excelSheetName\n            })));\n            setTimeout(() => this.updateDataChangesToSheetMapContext());\n            if (this.getRecordDefinitionName()) {\n                this.loadTargetAndOtherFields(false, false);\n            }\n            else {\n                this.setTypeFromExcelSheet();\n            }\n        }\n        else {\n            this.setTypeFromExcelSheet();\n        }\n    }\n    ngAfterViewInit() {\n        this.dataImportConfigurationForm.control.valueChanges\n            .pipe(distinctUntilChanged(), takeUntil(this.destroyed$))\n            .subscribe((values) => setTimeout(() => this.updateDataChangesToSheetMapContext()));\n    }\n    removeMapping(index) {\n        this.currentSheetDataImportMapping.configurations.definitionMappings.fieldMappings.splice(index, 1);\n    }\n    addFieldMapping(sourceFieldName = null, targetField = null) {\n        this.currentSheetDataImportMapping.configurations.definitionMappings.fieldMappings.push({\n            sourceField: { fieldName: sourceFieldName ? [sourceFieldName] : null },\n            targetField: targetField ? [targetField] : null\n        });\n        this.updateWizardButtons();\n    }\n    setDefinitionTypeNameFromExcelSheet() {\n        this.setTypeFromExcelSheet();\n        this.currentSheetDataImportMapping.configurations.definitionMappings.targetDefinition.name =\n            this.currentExcelSheetConfiguration.definition.value;\n    }\n    setTypeFromExcelSheet() {\n        this.currentSheetDataImportMapping.configurations.definitionMappings.targetDefinition.type =\n            this.getTypeFromExcelSheet();\n    }\n    autoMapping() {\n        this.clearMappingFields();\n        this.setDefinitionTypeNameFromExcelSheet();\n        this.loadTargetAndOtherFields(true);\n    }\n    loadTargetAndOtherFields(isAutoMapping = false, autoPopulateRequiredFields = false) {\n        this.areFieldsLoading = true;\n        this.requiredFieldNames = [];\n        iif(() => this.isDefinitionTypeRecord(), this.rxRecordDefinitionCacheService.getRecordDefinition(this.getRecordDefinitionName()), this.rxAssociationDefinitionService.get(this.getRecordDefinitionName()))\n            .pipe(map((definitionResponse) => {\n            if (this.dataExportService.isRecordDefinitionResponse(definitionResponse)) {\n                this.targetFieldList = definitionResponse.fieldDefinitions\n                    .sort(function (a, b) {\n                    if (a.fieldOption === RecordFieldOption.Required && !a.defaultValue) {\n                        return -1;\n                    }\n                    else {\n                        b.name.localeCompare(a.name);\n                    }\n                })\n                    .map((fieldDefinition) => {\n                    if (this.isMappingFieldDefinitionRequired(fieldDefinition)) {\n                        this.requiredFieldNames.push(fieldDefinition.name);\n                        if (autoPopulateRequiredFields) {\n                            this.addFieldMapping(null, {\n                                name: fieldDefinition.name,\n                                _fieldId: fieldDefinition.id\n                            });\n                        }\n                    }\n                    return {\n                        name: fieldDefinition.name,\n                        _fieldId: fieldDefinition.id\n                    };\n                });\n            }\n            else {\n                this.targetFieldList = [\n                    {\n                        name: definitionResponse.nodeAName || '',\n                        _fieldId: definitionResponse.nodeAKeys[0] || ''\n                    },\n                    {\n                        name: definitionResponse.nodeBName || '',\n                        _fieldId: definitionResponse.nodeBKeys[0]\n                    }\n                ].filter((field) => field.name);\n            }\n        }), tap(() => {\n            if (isAutoMapping) {\n                this.generateAutoMappingFields();\n            }\n        }), finalize(() => {\n            this.areFieldsLoading = false;\n        }))\n            .subscribe(() => {\n            this.currentSheetDataImportMapping.configurations.definitionMappings.fieldMappings = sortBy(this.currentSheetDataImportMapping.configurations.definitionMappings.fieldMappings, (fieldMap) => get(fieldMap, 'targetField[0].name'));\n        });\n    }\n    isMappingFieldDefinitionRequired(fieldDefinition) {\n        return fieldDefinition.fieldOption === RecordFieldOption.Required && !fieldDefinition.defaultValue;\n    }\n    generateAutoMappingFields() {\n        forEach(this.sourceFieldNameList, (sourceFieldName) => {\n            const matchedTargetField = this.targetFieldList.find((targetField) => sourceFieldName === targetField.name || sourceFieldName === String(targetField._fieldId));\n            if (matchedTargetField) {\n                this.addFieldMapping(sourceFieldName, matchedTargetField);\n            }\n            else {\n                this.addFieldMapping(sourceFieldName, null);\n            }\n        });\n        const targetFieldMappings = flatten(map$1(this.currentSheetDataImportMapping.configurations.definitionMappings.fieldMappings, 'targetField'));\n        forEach(this.targetFieldList, (targetField) => {\n            if (!find(targetFieldMappings, { name: targetField.name }) && this.isRequiredTargetField(targetField)) {\n                this.addFieldMapping(null, targetField);\n            }\n        });\n    }\n    onDefinitionChange(definitionName) {\n        this.clearMappingFields();\n        if (definitionName) {\n            if (!this.definitionNameService.getBundleId(definitionName)) {\n                this.showInvalidDefinitionSelectedMsg();\n            }\n            else {\n                this.loadTargetAndOtherFields(false, true);\n            }\n        }\n    }\n    clearMappingFields() {\n        this.currentSheetDataImportMapping.configurations.definitionMappings.fieldMappings = [];\n    }\n    getRecordDefinitionName(isAutoMapping) {\n        return isAutoMapping\n            ? this.currentExcelSheetConfiguration.definition.value\n            : this.currentSheetDataImportMapping.configurations.definitionMappings.targetDefinition.name;\n    }\n    clearDefinitionSelection() {\n        this.changeDetectorRef.detectChanges();\n        this.currentSheetDataImportMapping.configurations.definitionMappings.targetDefinition.name = null;\n    }\n    onDefinitionTypeChange() {\n        this.clearMappingFields();\n        this.clearDefinitionSelection();\n    }\n    showInvalidDefinitionSelectedMsg() {\n        this.rxNotificationService.addErrorMessage(this.translateService.instant('com.bmc.arsys.rx.client.dataload.global-record-not-allowed.message'));\n        this.clearDefinitionSelection();\n    }\n    isDefinitionTypeRecord() {\n        return (this.currentSheetDataImportMapping.configurations.definitionMappings.targetDefinition.type ===\n            this.definitionTypes.record);\n    }\n    optionFormatter(field) {\n        return field.name;\n    }\n    ngOnDestroy() {\n        this.destroyed$.next();\n        this.destroyed$.complete();\n    }\n    isStepActive() {\n        var _a;\n        return this.rxWizardModalComponent.api.isCurrentStepActive((_a = this.currentExcelSheetConfiguration) === null || _a === void 0 ? void 0 : _a.stepId);\n    }\n    onTargetFieldSelection($event, index) {\n        const isFieldAlreadySelected = flow((fields) => filter(fields, (value, key) => key !== index), (alreadySelectedFields) => find(alreadySelectedFields, (fieldMap) => { var _a, _b; return fieldMap.targetField && ((_a = fieldMap === null || fieldMap === void 0 ? void 0 : fieldMap.targetField[0]) === null || _a === void 0 ? void 0 : _a.name) === ((_b = $event.options[0]) === null || _b === void 0 ? void 0 : _b.name); }), (fieldMap) => fieldMap)(this.currentSheetDataImportMapping.configurations.definitionMappings.fieldMappings);\n        if (isFieldAlreadySelected) {\n            this.rxNotificationService.addErrorMessage(this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.wizard.target-field-already-selected.message.title'));\n            $event.preventDefault();\n        }\n        else {\n            setTimeout(() => this.updateDataChangesToSheetMapContext());\n        }\n    }\n    isRequiredTargetField(targetField) {\n        return includes(this.requiredFieldNames, (targetField === null || targetField === void 0 ? void 0 : targetField.name) || get(targetField, '[0].name'));\n    }\n    shouldGenerateNewIdForDuplicateRecords() {\n        var _a;\n        return (this.currentSheetDataImportMapping.configurations.duplicateHandlingOptions.handleDuplicateBy &&\n            ((_a = this.currentSheetDataImportMapping.configurations.duplicateHandlingOptions.handleDuplicateBy[0]) === null || _a === void 0 ? void 0 : _a.id) === 1);\n    }\n    onTabActivated(event) {\n        if (event.index === 1) {\n            this.matchDuplicateByFields = flow((fields) => map$1(fields, 'targetField'), compact, flatten)(this.currentSheetDataImportMapping.configurations.definitionMappings.fieldMappings);\n            const defaultMatchByField = find(this.matchDuplicateByFields, { _fieldId: RX_RECORD_DEFINITION.coreFieldIds.id });\n            if (defaultMatchByField && !this.selectedMatchDuplicateByFields.length) {\n                this.selectedMatchDuplicateByFields = [defaultMatchByField];\n            }\n            this.selectedMatchDuplicateByFields = intersectionBy(this.matchDuplicateByFields, this.selectedMatchDuplicateByFields, 'name');\n        }\n    }\n    getTypeFromExcelSheet() {\n        return lowerCase(this.currentExcelSheetConfiguration.definition.name);\n    }\n    get timeFormatExample() {\n        var _a;\n        return (this.currentSheetDataImportMapping.configurations.timeFormatOptions &&\n            ((_a = this.currentSheetDataImportMapping.configurations.timeFormatOptions[0]) === null || _a === void 0 ? void 0 : _a.example));\n    }\n    areFieldMappingsInvalid() {\n        return some(this.currentSheetDataImportMapping.configurations.definitionMappings.fieldMappings, (fieldMap) => !fieldMap.sourceField.fieldName || !fieldMap.targetField);\n    }\n    updateWizardButtons() {\n        this.rxWizardModalComponent.config.options.allowFinish =\n            this.rxWizardModalComponent.activeTabIndex === this.rxWizardModalComponent.config.options.steps.length - 1;\n        if (this.dataImportConfigurationForm.invalid || this.areFieldMappingsInvalid()) {\n            this.rxWizardModalComponent.api.disableNextButton();\n            this.rxWizardModalComponent.api.disableFinishButton();\n        }\n        else {\n            this.rxWizardModalComponent.api.enableNextButton();\n            this.rxWizardModalComponent.api.enableFinishButton();\n        }\n    }\n    updateDataChangesToSheetMapContext() {\n        this.updateWizardButtons();\n        this.rxWizardModalComponent.api.markDirty();\n        const currentConfigurations = cloneDeep(this.currentSheetDataImportMapping.configurations);\n        filter(currentConfigurations.definitionMappings.fieldMappings, (field) => field.targetField).forEach((field) => {\n            field.sourceField = { fieldName: get(field.sourceField, 'fieldName[0]') };\n            field.targetField = field.targetField[0];\n        });\n        currentConfigurations.duplicateHandlingOptions.handleDuplicateBy = get(currentConfigurations.duplicateHandlingOptions.handleDuplicateBy, '[0].id');\n        if (this.shouldGenerateNewIdForDuplicateRecords()) {\n            currentConfigurations.duplicateHandlingOptions.matchDuplicateBy = [];\n        }\n        else {\n            currentConfigurations.duplicateHandlingOptions.matchDuplicateBy = map$1(this.selectedMatchDuplicateByFields, (field) => ({\n                _fieldId: field._fieldId,\n                name: field.name\n            }));\n        }\n        currentConfigurations.dataHandlingOptions = this.dataOptions\n            .filter((option) => option.isSelected)\n            .map((option) => option.id);\n        currentConfigurations.timeFormatOptions = get(currentConfigurations.timeFormatOptions, '[0].name');\n        const sheetImportConfig = find(this.context.dataImportContext.dataImportConfigurations.sheets, {\n            name: this.excelSheetName\n        });\n        sheetImportConfig.configurations = currentConfigurations;\n    }\n    getRefactoredClonedConfiguration(configuration) {\n        forEach(configuration.configurations.definitionMappings.fieldMappings, (fieldMap) => {\n            fieldMap.targetField = [fieldMap.targetField];\n            fieldMap.sourceField.fieldName = [fieldMap.sourceField.fieldName];\n        });\n        this.dataOptions.forEach((option) => {\n            option.isSelected = includes(configuration.configurations.dataHandlingOptions, option.id);\n        });\n        configuration.configurations.timeFormatOptions = configuration.configurations.timeFormatOptions\n            ? [\n                find(this.dateTimeFormatOptions, {\n                    name: configuration.configurations.timeFormatOptions\n                })\n            ]\n            : [];\n        configuration.configurations.duplicateHandlingOptions.handleDuplicateBy = configuration.configurations\n            .duplicateHandlingOptions.handleDuplicateBy\n            ? [\n                find(this.duplicateHandlingOptions, {\n                    id: configuration.configurations.duplicateHandlingOptions.handleDuplicateBy\n                })\n            ]\n            : [find(this.duplicateHandlingOptions, { id: DL_DATA_IMPORT.mergeOptions.generateNewIds })];\n        if (configuration.configurations.duplicateHandlingOptions.matchDuplicateBy.length) {\n            this.selectedMatchDuplicateByFields = configuration.configurations.duplicateHandlingOptions.matchDuplicateBy;\n        }\n        return configuration;\n    }\n}\nDataImportMappingStepComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataImportMappingStepComponent, deps: [{ token: DataImportService }, { token: DataExportService }, { token: i5.RxRecordDefinitionCacheService }, { token: i0.ChangeDetectorRef }, { token: i4$1.RxModalService }, { token: i7$1.RxWizardModalComponent }, { token: i2$1.RxDefinitionNameService }, { token: i2.TranslateService }, { token: i8.RxAssociationDefinitionService }, { token: i2$1.RxNotificationService }], target: i0.ɵɵFactoryTarget.Component });\nDataImportMappingStepComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: DataImportMappingStepComponent, selector: \"dl-data-import-mapping-step\", inputs: { context: \"context\", options: \"options\" }, viewQueries: [{ propertyName: \"dataImportConfigurationForm\", first: true, predicate: [\"dataImportConfigurationForm\"], descendants: true }], ngImport: i0, template: \"<form #dataImportConfigurationForm=\\\"ngForm\\\">\\n  <adapt-tabset type=\\\"pills\\\" [tab-active]=\\\"0\\\" (tab-active-changed)=\\\"onTabActivated($event)\\\">\\n    <adapt-tab-panel\\n      adapt-tab-title=\\\"{{ 'com.bmc.arsys.rx.client.dataload.import.wizard.tabs.data-mapping.title' | translate }}\\\"\\n    >\\n      <div *ngIf=\\\"isStepActive()\\\" class=\\\"mt-2\\\">\\n        <button\\n          adapt-button\\n          btn-type=\\\"primary\\\"\\n          type=\\\"button\\\"\\n          rx-id=\\\"auto-mapping\\\"\\n          (click)=\\\"autoMapping()\\\"\\n          size=\\\"small\\\"\\n          class=\\\"d-icon-left-arrow_schema form-group\\\"\\n          [disabled]=\\\"areFieldsLoading\\\"\\n        >\\n          {{ 'com.bmc.arsys.rx.client.dataload.import.wizard.tabs.data-mapping.types.auto-mapping.label' | translate }}\\n        </button>\\n\\n        <adapt-rx-radiobutton-group\\n          [(ngModel)]=\\\"currentSheetDataImportMapping.configurations.definitionMappings.targetDefinition.type\\\"\\n          (ngModelChange)=\\\"onDefinitionTypeChange()\\\"\\n          name=\\\"definitionType\\\"\\n          label=\\\"{{ 'com.bmc.arsys.rx.client.common.definition.label' | translate }}\\\"\\n          rx-id=\\\"definition-type\\\"\\n        >\\n          <adapt-rx-radiobutton\\n            *ngFor=\\\"let definitionType of definitionTypeOptions; let index = index\\\"\\n            class=\\\"radio-inline m-0\\\"\\n            [value]=\\\"definitionType.value\\\"\\n            [label]=\\\"definitionType.displayValue\\\"\\n            [ngClass]=\\\"{ 'mr-3': index === 0 }\\\"\\n          ></adapt-rx-radiobutton>\\n        </adapt-rx-radiobutton-group>\\n\\n        <rx-definition-picker\\n          *ngIf=\\\"\\n            currentSheetDataImportMapping.configurations.definitionMappings.targetDefinition.type ===\\n            definitionTypes.record\\n          \\\"\\n          class=\\\"d-block form-group\\\"\\n          [options]=\\\"recordPickerOptions\\\"\\n          rx-id=\\\"record-definition-picker\\\"\\n          [(ngModel)]=\\\"currentSheetDataImportMapping.configurations.definitionMappings.targetDefinition.name\\\"\\n          (ngModelChange)=\\\"onDefinitionChange($event)\\\"\\n          name=\\\"recordDefinitionName\\\"\\n        >\\n        </rx-definition-picker>\\n\\n        <rx-definition-picker\\n          *ngIf=\\\"\\n            currentSheetDataImportMapping.configurations.definitionMappings.targetDefinition.type ===\\n            definitionTypes.association\\n          \\\"\\n          class=\\\"d-block form-group\\\"\\n          [options]=\\\"associationPickerOptions\\\"\\n          rx-id=\\\"association-definition-picker\\\"\\n          [(ngModel)]=\\\"currentSheetDataImportMapping.configurations.definitionMappings.targetDefinition.name\\\"\\n          (ngModelChange)=\\\"onDefinitionChange($event)\\\"\\n          name=\\\"associationDefinitionName\\\"\\n        >\\n        </rx-definition-picker>\\n\\n        <div *ngIf=\\\"currentSheetDataImportMapping.configurations.definitionMappings.targetDefinition.name\\\">\\n          <div class=\\\"row border-bottom form-group\\\">\\n            <div class=\\\"col-6\\\">\\n              <adapt-rx-control-label\\n                label=\\\"{{\\n                  'com.bmc.arsys.rx.client.dataload.import.wizard.tabs.data-mapping.mapping-title.title' | translate\\n                }}\\\"\\n              >\\n              </adapt-rx-control-label>\\n            </div>\\n\\n            <div class=\\\"col-6\\\">\\n              <button\\n                class=\\\"d-icon-left-plus_circle float-right py-0 px-2\\\"\\n                adapt-button\\n                btn-type=\\\"tertiary\\\"\\n                type=\\\"button\\\"\\n                rx-id=\\\"add-mapping\\\"\\n                (click)=\\\"addFieldMapping()\\\"\\n              >\\n                {{\\n                  'com.bmc.arsys.rx.client.dataload.import.wizard.tabs.data-mapping.types.manual-mapping.label'\\n                    | translate\\n                }}\\n              </button>\\n            </div>\\n          </div>\\n\\n          <div class=\\\"row\\\" *ngIf=\\\"currentSheetDataImportMapping.configurations.definitionMappings.fieldMappings.length\\\">\\n            <div class=\\\"col-6\\\">\\n              <adapt-rx-control-label\\n                label=\\\"{{\\n                  'com.bmc.arsys.rx.client.dataload.import.wizard.tabs.data-mapping.source-fields.label' | translate\\n                }}\\\"\\n              ></adapt-rx-control-label>\\n            </div>\\n\\n            <div class=\\\"col-6 pl-0\\\">\\n              <adapt-rx-control-label\\n                label=\\\"{{\\n                  'com.bmc.arsys.rx.client.dataload.import.wizard.tabs.data-mapping.target-fields.label' | translate\\n                }}\\\"\\n              ></adapt-rx-control-label>\\n            </div>\\n          </div>\\n\\n          <div class=\\\"loader-container\\\" *ngIf=\\\"areFieldsLoading\\\">\\n            <div class=\\\"loader-section\\\"></div>\\n          </div>\\n\\n          <div\\n            class=\\\"row no-gutters\\\"\\n            *ngFor=\\\"\\n              let fieldMapping of currentSheetDataImportMapping.configurations.definitionMappings.fieldMappings;\\n              let $index = index\\n            \\\"\\n          >\\n            <div class=\\\"col-5\\\">\\n              <adapt-rx-select\\n                class=\\\"d-block form-group\\\"\\n                [(ngModel)]=\\\"fieldMapping.sourceField.fieldName\\\"\\n                [options]=\\\"sourceFieldNameList\\\"\\n                [required]=\\\"true\\\"\\n                [enableFilter]=\\\"true\\\"\\n                [ngModelOptions]=\\\"{ standalone: true }\\\"\\n                (ngModelChange)=\\\"updateDataChangesToSheetMapContext()\\\"\\n                rx-id=\\\"source-field-names\\\"\\n              >\\n              </adapt-rx-select>\\n            </div>\\n\\n            <div class=\\\"col-1 d-icon-arrow_right text-tertiary mt-2 text-center\\\"></div>\\n\\n            <div class=\\\"col-5\\\">\\n              <adapt-rx-select\\n                class=\\\"d-block form-group\\\"\\n                [(ngModel)]=\\\"fieldMapping.targetField\\\"\\n                [options]=\\\"targetFieldList\\\"\\n                [optionFormatter]=\\\"optionFormatter\\\"\\n                [required]=\\\"true\\\"\\n                (onSelectionChange)=\\\"onTargetFieldSelection($event, $index)\\\"\\n                [enableFilter]=\\\"true\\\"\\n                [disabled]=\\\"isRequiredTargetField(fieldMapping.targetField)\\\"\\n                [ngModelOptions]=\\\"{ standalone: true }\\\"\\n                rx-id=\\\"target-fields\\\"\\n              >\\n              </adapt-rx-select>\\n            </div>\\n\\n            <div class=\\\"col-1 pl-3\\\">\\n              <button\\n                [disabled]=\\\"isRequiredTargetField(fieldMapping.targetField)\\\"\\n                [ngClass]=\\\"{ 'text-tertiary': isRequiredTargetField(fieldMapping.targetField) }\\\"\\n                class=\\\"d-icon-minus_circle text-danger form-group px-0\\\"\\n                adapt-button\\n                btn-type=\\\"tertiary\\\"\\n                type=\\\"button\\\"\\n                rx-id=\\\"remove-mapping-button\\\"\\n                (click)=\\\"removeMapping($index)\\\"\\n              ></button>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </adapt-tab-panel>\\n\\n    <adapt-tab-panel\\n      adapt-tab-title=\\\"{{ 'com.bmc.arsys.rx.client.dataload.import.wizard.tabs.duplicate-handling.title' | translate }}\\\"\\n    >\\n      <adapt-rx-select\\n        label=\\\"{{\\n          'com.bmc.arsys.rx.client.dataload.import.wizard.tabs.duplicate-handling.handle-by.label' | translate\\n        }}\\\"\\n        class=\\\"d-block form-group mt-2\\\"\\n        [(ngModel)]=\\\"currentSheetDataImportMapping.configurations.duplicateHandlingOptions.handleDuplicateBy\\\"\\n        [options]=\\\"duplicateHandlingOptions\\\"\\n        name=\\\"handleDuplicatesBy\\\"\\n        rx-id=\\\"handle-duplicates-by\\\"\\n        [optionFormatter]=\\\"optionFormatter\\\"\\n      >\\n      </adapt-rx-select>\\n\\n      <adapt-rx-select\\n        label=\\\"{{\\n          'com.bmc.arsys.rx.client.dataload.import.wizard.tabs.duplicate-handling.match-by.label' | translate\\n        }}\\\"\\n        *ngIf=\\\"!shouldGenerateNewIdForDuplicateRecords()\\\"\\n        class=\\\"d-block form-group\\\"\\n        [(ngModel)]=\\\"selectedMatchDuplicateByFields\\\"\\n        [options]=\\\"matchDuplicateByFields\\\"\\n        [multiple]=\\\"true\\\"\\n        [enableFilter]=\\\"true\\\"\\n        [selectAllButton]=\\\"true\\\"\\n        [deselectAllButton]=\\\"true\\\"\\n        [optionFormatter]=\\\"optionFormatter\\\"\\n        [required]=\\\"!shouldGenerateNewIdForDuplicateRecords()\\\"\\n        name=\\\"matchDuplicatesBy\\\"\\n        rx-id=\\\"match-duplicates-by\\\"\\n      >\\n      </adapt-rx-select>\\n    </adapt-tab-panel>\\n\\n    <adapt-tab-panel adapt-tab-title=\\\"{{ 'com.bmc.arsys.rx.client.common.options.label' | translate }}\\\">\\n      <adapt-rx-checkbox\\n        *ngFor=\\\"let dataOption of dataOptions; let index = index\\\"\\n        [(ngModel)]=\\\"dataOption.isSelected\\\"\\n        label=\\\"{{ dataOption.name }}\\\"\\n        [ngClass]=\\\"{ 'd-block form-group': index === 2 }\\\"\\n        name=\\\"{{ 'data-option' + dataOption.id }}\\\"\\n        [attr.rx-id]=\\\"'data-option' + dataOption.id\\\"\\n      ></adapt-rx-checkbox>\\n\\n      <adapt-rx-select\\n        label=\\\"{{ 'com.bmc.arsys.rx.client.dataload.import.wizard.tabs.options.date-format.label' | translate }}\\\"\\n        class=\\\"d-block mb-1\\\"\\n        [(ngModel)]=\\\"currentSheetDataImportMapping.configurations.timeFormatOptions\\\"\\n        [options]=\\\"dateTimeFormatOptions\\\"\\n        [optionFormatter]=\\\"optionFormatter\\\"\\n        [optionContentTemplate]=\\\"optionTemplate\\\"\\n        name=\\\"dateFormat\\\"\\n        rx-id=\\\"date-format\\\"\\n      >\\n      </adapt-rx-select>\\n\\n      <div class=\\\"text-tertiary\\\" *ngIf=\\\"timeFormatExample\\\">\\n        {{ 'com.bmc.arsys.rx.client.common.example.label' | translate }}:\\n        {{ timeFormatExample }}\\n      </div>\\n    </adapt-tab-panel>\\n  </adapt-tabset>\\n</form>\\n\\n<ng-template #optionTemplate let-option>\\n  <strong>{{ option.name }}</strong>\\n\\n  <div class=\\\"text-tertiary\\\">e.g. {{ option.example }}</div>\\n</ng-template>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}:host::ng-deep adapt-rx-radiobutton .radio{margin:8px 0}:host::ng-deep .dropdown-item{white-space:normal;word-break:break-all}adapt-rx-select,rx-definition-picker{max-width:400px}\\n\"], components: [{ type: i4.AdaptTabsComponent, selector: \"adapt-tabset\", inputs: [\"showTabToolbar\", \"customCssTabContent\", \"fullHeight\", \"texts\", \"enableDnD\", \"customClassTabList\", \"allow-tabs-adding\", \"id\", \"testID\", \"dropdown-title\", \"fadeColor\", \"carouselMode\", \"justify\", \"type\", \"tab-active\"], outputs: [\"tab-index-closed\", \"tab-active-changed\", \"add-tab-clicked\", \"tabClicked\", \"tabDropped\"], exportAs: [\"adaptTabset\"] }, { type: i4.AdaptTabsPanelComponent, selector: \"adapt-tab-panel, div[tab-panel]\", inputs: [\"isActive\", \"badge-type\", \"animateBadge\", \"showBadgeAlert\", \"badgeAlertVariant\", \"badgeCustomClass\", \"adapt-tab-title\", \"disabled\", \"isHidden\", \"icon\", \"subtext\", \"icon-right\", \"icon-close\", \"aria-label\", \"aria-labelledby\", \"kebabMenu\", \"id\", \"renderContentWhenInactive\", \"badge\"] }, { type: i4.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i4.AdaptRxRadiobuttonGroupComponent, selector: \"adapt-rx-radiobutton-group\", inputs: [\"formControlName\"] }, { type: i4.AdaptRxRadiobuttonComponent, selector: \"adapt-rx-radiobutton\", inputs: [\"name\", \"label\", \"id\", \"value\", \"checked\", \"disabled\", \"ariaLabel\", \"ariaLabeledBy\", \"ariaDescribedBy\", \"testID\", \"tabIndex\"], outputs: [\"onFocus\", \"onBlur\", \"checkedChange\"] }, { type: i7$1.RxDefinitionPickerComponent, selector: \"rx-definition-picker\", inputs: [\"options\", \"isDisabled\"] }, { type: i4.AdaptRxControlLabelComponent, selector: \"adapt-rx-control-label\", inputs: [\"for\", \"id\", \"label\", \"subLabel\", \"requiredLabel\", \"showRequiredLabel\", \"tooltip\", \"testID\"] }, { type: i4.AdaptRxSelectComponent, selector: \"adapt-rx-select\", inputs: [\"options\", \"emptyOption\", \"optionFormatter\", \"optionContentTemplate\", \"disabledOptionResolver\", \"titleFormatter\", \"focusFirst\", \"texts\", \"multiple\", \"singleSelectStyle\", \"enableFilter\", \"inline\", \"selectAllButton\", \"deselectAllButton\", \"loadMoreButton\", \"loadMoreCallback\", \"loadMoreInProgress\", \"loadingState\", \"placeholder\", \"size\", \"closeOnSelect\", \"placement\", \"appendToBody\", \"popupMaxHeight\", \"popupClass\", \"pageSize\", \"ariaInvalid\", \"virtualScroll\", \"virtualScrollItemSize\", \"virtualScrollTemplateCacheSize\", \"minBufferPx\", \"maxBufferPx\"], outputs: [\"onSelectionChange\", \"onPopupOpenChange\", \"onFilterValueChange\"] }, { type: i4.AdaptRxCheckboxComponent, selector: \"adapt-rx-checkbox\", inputs: [\"value\", \"checked\", \"indeterminate\"], outputs: [\"indeterminateChange\"] }], directives: [{ type: i6.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i6.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i6.NgForm, selector: \"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]\", inputs: [\"ngFormOptions\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i1$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i6.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i6.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i1$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1$1.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i6.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataImportMappingStepComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'dl-data-import-mapping-step',\n                    templateUrl: './data-import-mapping-step.component.html',\n                    styleUrls: ['./data-import-mapping-step.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: DataImportService }, { type: DataExportService }, { type: i5.RxRecordDefinitionCacheService }, { type: i0.ChangeDetectorRef }, { type: i4$1.RxModalService }, { type: i7$1.RxWizardModalComponent }, { type: i2$1.RxDefinitionNameService }, { type: i2.TranslateService }, { type: i8.RxAssociationDefinitionService }, { type: i2$1.RxNotificationService }]; }, propDecorators: { context: [{\n                type: Input\n            }], options: [{\n                type: Input\n            }], dataImportConfigurationForm: [{\n                type: ViewChild,\n                args: ['dataImportConfigurationForm']\n            }] } });\n\nclass UploadDataFileStepComponent {\n    constructor(rxRecordInstanceService, rxNotificationService, dataImportService, rxModalService, translateService, formBuilder, rxWizardModalComponent, rxWizardService, componentFactoryResolver) {\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.rxNotificationService = rxNotificationService;\n        this.dataImportService = dataImportService;\n        this.rxModalService = rxModalService;\n        this.translateService = translateService;\n        this.formBuilder = formBuilder;\n        this.rxWizardModalComponent = rxWizardModalComponent;\n        this.rxWizardService = rxWizardService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.isWorksheetProcessed = false;\n        this.destroyed$ = new ReplaySubject(1);\n        this.processCustomizedImport$ = new Subject();\n        this.saveDataFileConfiguration = this.processCustomizedImport$\n            .pipe(takeUntil(this.destroyed$), tap(() => {\n            this.busy = NEVER.subscribe();\n        }), switchMap(() => {\n            if (this.isWorksheetProcessed) {\n                return of(null);\n            }\n            else {\n                return iif(() => !!this.context.createdRecordInstanceId, this.rxRecordInstanceService.get(DL_DATA_IMPORT.recordDefinitionName, this.context.createdRecordInstanceId), this.rxRecordInstanceService.getNew(DL_DATA_IMPORT.recordDefinitionName)).pipe(switchMap((recordInstance) => {\n                    this.updateRecordInstanceFields(recordInstance);\n                    return this.context.createdRecordInstanceId\n                        ? this.rxRecordInstanceService.save(recordInstance)\n                        : this.rxRecordInstanceService.create(recordInstance);\n                }), tap((recordInstanceResponse) => {\n                    if (!this.context.createdRecordInstanceId) {\n                        this.context.createdRecordInstanceId = recordInstanceResponse === null || recordInstanceResponse === void 0 ? void 0 : recordInstanceResponse.id;\n                    }\n                }));\n            }\n        }), switchMap(() => this.isWorksheetProcessed\n            ? of(null)\n            : this.dataImportService.getDataRecordWorksheet(this.context.createdRecordInstanceId)), withLatestFrom(timer(0).pipe(switchMap(() => {\n            var _a;\n            return ((_a = this.context) === null || _a === void 0 ? void 0 : _a.clonedConfigurationInstanceId)\n                ? this.rxRecordInstanceService.get(DL_DATA_IMPORT.recordDefinitionName, this.context.clonedConfigurationInstanceId)\n                : of(null);\n        }))), tap(() => {\n            this.busy.unsubscribe();\n        }), switchMap(([uploadedExcelFile, clonedRecordInstance]) => {\n            if (this.isWorksheetProcessed) {\n                return of({ gotoNextStep: true });\n            }\n            else if (uploadedExcelFile === null || uploadedExcelFile === void 0 ? void 0 : uploadedExcelFile.sheets) {\n                this.isWorksheetProcessed = true;\n                this.uploadedExcelSheets = uploadedExcelFile.sheets;\n                this.rxWizardModalComponent.api.removeStep(1);\n                forEach(this.uploadedExcelSheets, (sheet) => {\n                    const stepId = camelCase(sheet.sheetName);\n                    sheet.configurations.stepId = stepId;\n                    this.context.excelSheetsConfiguration[sheet.sheetName] = sheet.configurations;\n                    this.rxWizardModalComponent.api.addStep({\n                        id: stepId,\n                        name: sheet.sheetName,\n                        options: {\n                            sheetName: sheet.sheetName\n                        },\n                        componentFactory: this.componentFactoryResolver.resolveComponentFactory(DataImportMappingStepComponent)\n                    });\n                    this.context.dataImportContext.dataImportConfigurations.sheets.push(this.dataImportService.getEmptyCurrentSheetDataMapConfig(sheet.sheetName));\n                });\n                if (this.context.clonedConfigurationInstanceId) {\n                    const clonedConfig = JSON.parse(clonedRecordInstance.fieldInstances[DL_DATA_IMPORT.fields.mappingConfig].value) || { dataImportConfigurations: { sheets: [] } };\n                    const nonMatchedSheetNames = clonedConfig.dataImportConfigurations.sheets.filter((clonedSheet) => !uploadedExcelFile.sheets.some((excelSheet) => excelSheet.sheetName === clonedSheet.name));\n                    if (clonedConfig.dataImportConfigurations.sheets.length !== uploadedExcelFile.sheets.length ||\n                        nonMatchedSheetNames.length) {\n                        return from(this.rxModalService.confirm({\n                            title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n                            modalStyle: RX_MODAL.modalStyles.warning,\n                            message: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.configuration-mismatch.message'),\n                            buttons: {\n                                confirmButton: this.translateService.instant('com.bmc.arsys.rx.client.common.cancel.label'),\n                                dismissButton: this.translateService.instant('com.bmc.arsys.rx.client.common.continue.label')\n                            }\n                        })).pipe(switchMap((result) => iif(() => result, this.deleteCreatedDataImportInstance(), of({ recordDeleted: false }))), tap((response) => {\n                            if (response.recordDeleted) {\n                                this.rxWizardModalComponent.api.markPristine();\n                                this.rxWizardModalComponent.close();\n                            }\n                            else {\n                                this.goToDataConfigurationStep();\n                            }\n                        }));\n                    }\n                    else {\n                        this.context.dataImportContext.dataImportConfigurations.sheets =\n                            clonedConfig.dataImportConfigurations.sheets;\n                        this.context.isClonedConfigMatched = true;\n                        return of({ gotoNextStep: true });\n                    }\n                }\n                else {\n                    return of({ gotoNextStep: true });\n                }\n            }\n            else {\n                this.isWorksheetProcessed = false;\n                this.uploadDataFileForm.markAsDirty();\n                this.rxNotificationService.addErrorMessage(this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.invalid-attachment-uploaded-error.message'));\n                return this.deleteCreatedDataImportInstance();\n            }\n        }))\n            .subscribe((response) => {\n            if (response.gotoNextStep) {\n                setTimeout(() => this.goToDataConfigurationStep());\n            }\n        });\n    }\n    ngOnInit() {\n        this.rxWizardModalComponent.next$\n            .pipe(filter$1((stepId) => stepId === DL_DATA_IMPORT.uploadFileStepId), takeUntil(this.destroyed$))\n            .subscribe(() => {\n            this.saveDataloadFileAndProceedToConfigurations();\n        });\n        this.rxWizardModalComponent.api.disableNextButton();\n        this.uploadDataFileForm = this.formBuilder.group({\n            importJobName: [null, [Validators.required, Validators.maxLength(254)]],\n            importJobDescription: [null, Validators.maxLength(254)],\n            dataFile: null,\n            archivedWorksheetFileName: [null, [Validators.required, Validators.maxLength(254)]]\n        });\n        this.uploadDataFileForm.valueChanges.pipe(distinctUntilChanged(), takeUntil(this.destroyed$)).subscribe(() => {\n            this.updateWizardButtons();\n            const context = {\n                importJobName: this.uploadDataFileForm.get('importJobName').value,\n                importJobDescription: this.uploadDataFileForm.get('importJobDescription').value,\n                attachmentType: this.isZipAttachmentUploaded\n                    ? DL_DATA_IMPORT.attachmentTypes.zip.value\n                    : DL_DATA_IMPORT.attachmentTypes.xlsx.value,\n                archivedWorksheetFileName: this.uploadDataFileForm.get('archivedWorksheetFileName').value\n            };\n            this.rxWizardModalComponent.api.updateContext({\n                importJobInfo: context\n            });\n        });\n    }\n    updateWizardButtons() {\n        if (this.uploadDataFileForm.pristine || this.uploadDataFileForm.invalid) {\n            this.rxWizardModalComponent.api.disableNextButton();\n        }\n        else {\n            this.rxWizardModalComponent.api.enableNextButton();\n        }\n    }\n    saveDataloadFile() {\n        this.rxWizardModalComponent.api.disableNextButton();\n        this.uploadDataFileForm.markAsPristine();\n        this.rxWizardModalComponent.api.markPristine();\n        this.rxRecordInstanceService\n            .getNew(DL_DATA_IMPORT.recordDefinitionName)\n            .pipe(switchMap((recordInstance) => {\n            this.updateRecordInstanceFields(recordInstance);\n            return this.rxRecordInstanceService.create(recordInstance);\n        }))\n            .subscribe(() => {\n            this.rxNotificationService.addSuccessMessage(this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.data-record-saved.message'));\n            this.rxWizardModalComponent.close();\n        });\n    }\n    saveDataloadFileAndProceedToConfigurations() {\n        this.isCustomizedImportStarted = true;\n        this.rxWizardModalComponent.api.disableNextButton();\n        this.uploadDataFileForm.markAsPristine();\n        this.processCustomizedImport$.next();\n    }\n    handleWorksheetNameInput() {\n        if (this.isZipAttachmentUploaded) {\n            this.uploadDataFileForm.get('archivedWorksheetFileName').enable();\n        }\n        else {\n            this.uploadDataFileForm.get('archivedWorksheetFileName').disable();\n        }\n    }\n    onAfterFilesAdded(event) {\n        if (event.length) {\n            this.isWorksheetProcessed = false;\n            this.isZipAttachmentUploaded = this.isZipExtension(event[0].data.name);\n            this.handleWorksheetNameInput();\n        }\n    }\n    onRemovedFileFromQueue() {\n        this.isZipAttachmentUploaded = false;\n        this.handleWorksheetNameInput();\n        this.uploadDataFileForm.controls.archivedWorksheetFileName.setValue('');\n    }\n    getAllowedTypes() {\n        return [DL_DATA_IMPORT.attachmentTypes.zip.extension, DL_DATA_IMPORT.attachmentTypes.xlsx.extension];\n    }\n    isZipExtension(fileName) {\n        return fileName.split('.').pop().toLowerCase() === DL_DATA_IMPORT.attachmentTypes.zip.extension;\n    }\n    deleteCreatedDataImportInstance() {\n        return this.rxRecordInstanceService\n            .delete(DL_DATA_IMPORT.recordDefinitionName, this.context.createdRecordInstanceId)\n            .pipe(tap(() => {\n            this.context.createdRecordInstanceId = null;\n        }), map(() => ({\n            recordDeleted: true\n        })));\n    }\n    goToDataConfigurationStep() {\n        this.rxWizardModalComponent.next(true);\n    }\n    ngOnDestroy() {\n        this.destroyed$.next();\n        this.destroyed$.complete();\n    }\n    updateRecordInstanceFields(recordInstance) {\n        recordInstance.setFieldValue(DL_DATA_IMPORT.fields.importJobName, this.uploadDataFileForm.get('importJobName').value);\n        recordInstance.setFieldValue(DL_DATA_IMPORT.fields.importJobDescription, this.uploadDataFileForm.get('importJobDescription').value);\n        recordInstance.setFieldValue(DL_DATA_IMPORT.fields.attachmentType, this.isZipAttachmentUploaded\n            ? DL_DATA_IMPORT.attachmentTypes.zip.value\n            : DL_DATA_IMPORT.attachmentTypes.xlsx.value);\n        recordInstance.setFieldValue(DL_DATA_IMPORT.fields.dataFile, this.uploadDataFileForm.get('dataFile').value[0].data);\n        recordInstance.setFieldValue(DL_DATA_IMPORT.fields.archivedWorksheetFileName, this.uploadDataFileForm.get('archivedWorksheetFileName').value);\n    }\n}\nUploadDataFileStepComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: UploadDataFileStepComponent, deps: [{ token: i5.RxRecordInstanceService }, { token: i2$1.RxNotificationService }, { token: DataImportService }, { token: i4$1.RxModalService }, { token: i2.TranslateService }, { token: i6.FormBuilder }, { token: i7$1.RxWizardModalComponent }, { token: i7$1.RxWizardService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.Component });\nUploadDataFileStepComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: UploadDataFileStepComponent, selector: \"dl-upload-data-file-step\", inputs: { context: \"context\" }, ngImport: i0, template: \"<rx-busy-indicator [options]=\\\"{ busy: busy }\\\"></rx-busy-indicator>\\n\\n<form [formGroup]=\\\"uploadDataFileForm\\\" class=\\\"d-flex flex-column flex-fill h-100\\\">\\n  <adapt-rx-textfield\\n    class=\\\"d-block form-group\\\"\\n    formControlName=\\\"importJobName\\\"\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.dataload.import.import-job-name.label' | translate }}\\\"\\n    rx-id=\\\"import-job-name\\\"\\n    [autofocus]=\\\"true\\\"\\n  >\\n  </adapt-rx-textfield>\\n\\n  <adapt-rx-textfield\\n    class=\\\"d-block form-group\\\"\\n    formControlName=\\\"importJobDescription\\\"\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.dataload.import.import-job-description.label' | translate }}\\\"\\n    rx-id=\\\"import-job-description\\\"\\n  >\\n  </adapt-rx-textfield>\\n\\n  <adapt-rx-uploader\\n    class=\\\"d-block form-group\\\"\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.dataload.import.data-file.label' | translate }}\\\"\\n    formControlName=\\\"dataFile\\\"\\n    [required]=\\\"true\\\"\\n    [showMaxSizeRestriction]=\\\"false\\\"\\n    [allowedTypes]=\\\"getAllowedTypes()\\\"\\n    (afterFilesAdded)=\\\"onAfterFilesAdded($event)\\\"\\n    (removedFileFromQueue)=\\\"onRemovedFileFromQueue()\\\"\\n    rx-id=\\\"data-file\\\"\\n  >\\n  </adapt-rx-uploader>\\n\\n  <adapt-rx-textfield\\n    *ngIf=\\\"isZipAttachmentUploaded\\\"\\n    class=\\\"d-block mb-1\\\"\\n    formControlName=\\\"archivedWorksheetFileName\\\"\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.dataload.import.attachment-type.zip.content-file.label' | translate }}\\\"\\n    rx-id=\\\"archived-worksheet-file-name\\\"\\n    [autofocus]=\\\"true\\\"\\n    (onFocus)=\\\"updateWizardButtons()\\\"\\n  >\\n  </adapt-rx-textfield>\\n\\n  <div class=\\\"text-tertiary form-group\\\" *ngIf=\\\"isZipAttachmentUploaded\\\">\\n    {{ 'com.bmc.arsys.rx.client.common.example.label' | translate }} Worksheet.xlsx\\n  </div>\\n\\n  <button\\n    adapt-button\\n    class=\\\"mt-auto align-self-end\\\"\\n    type=\\\"button\\\"\\n    btn-type=\\\"primary\\\"\\n    rx-id=\\\"quick-import-button\\\"\\n    (click)=\\\"saveDataloadFile()\\\"\\n    [disabled]=\\\"uploadDataFileForm.pristine || uploadDataFileForm.invalid || isCustomizedImportStarted\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.dataload.import.wizard.quick-data-import.label' | translate }}\\n  </button>\\n</form>\\n\", styles: [\":host{position:relative;display:block;height:100%}\\n\"], components: [{ type: i4$1.RxBusyIndicatorComponent, selector: \"rx-busy-indicator\", inputs: [\"options\"] }, { type: i4.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i4.AdaptRxUploaderComponent, selector: \"adapt-rx-uploader\", inputs: [\"uploadMode\", \"selectionMode\", \"enableFileDialog\", \"allowedTypes\", \"forbiddenTypes\", \"suppressParallel\", \"filesCount\", \"allowDuplicates\", \"showUploadFolderAlert\", \"visibleFiles\", \"reusable\", \"allowDeletion\", \"customErrors\", \"indeterminateFileLoader\", \"url\", \"deleteUrl\", \"droppableArea\", \"enableCustomDownload\", \"customDownload\", \"popoverAppendToBody\", \"showTypesRestriction\", \"showMinSizeRestriction\", \"showMaxSizeRestriction\", \"showFilesCountRestriction\", \"texts\", \"icons\", \"fileErrors\", \"enableDnD\", \"maxFileSize\", \"minFileSize\", \"chunkSize\", \"testID\"], outputs: [\"beforeFileDialogOpen\", \"afterFileDialogOpen\", \"beforeFilesAdded\", \"afterFilesAdded\", \"dropped\", \"dragOver\", \"startFileUploading\", \"processFileUploading\", \"endFileUploading\", \"errorFileUploading\", \"finishedFileUploading\", \"removedFileFromQueue\", \"deletedFile\", \"cancelUploading\"] }, { type: i4.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i6.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i6.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i6.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i6.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i6.FormControlName, selector: \"[formControlName]\", inputs: [\"disabled\", \"formControlName\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i6.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i1$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: UploadDataFileStepComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'dl-upload-data-file-step',\n                    templateUrl: './upload-data-file-step.component.html',\n                    styleUrls: ['./upload-data-file-step.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i5.RxRecordInstanceService }, { type: i2$1.RxNotificationService }, { type: DataImportService }, { type: i4$1.RxModalService }, { type: i2.TranslateService }, { type: i6.FormBuilder }, { type: i7$1.RxWizardModalComponent }, { type: i7$1.RxWizardService }, { type: i0.ComponentFactoryResolver }]; }, propDecorators: { context: [{\n                type: Input\n            }] } });\n\nclass DataImportComponent {\n    constructor(componentFactoryResolver, rxModalService, rxDefinitionNameService, rxNotificationService, rxWizardService, translateService, rxRecordInstanceService, adaptModalService, rxJsonParserService, dataImportService, rxRecordInstanceDataPageService) {\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxModalService = rxModalService;\n        this.rxDefinitionNameService = rxDefinitionNameService;\n        this.rxNotificationService = rxNotificationService;\n        this.rxWizardService = rxWizardService;\n        this.translateService = translateService;\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.adaptModalService = adaptModalService;\n        this.rxJsonParserService = rxJsonParserService;\n        this.dataImportService = dataImportService;\n        this.rxRecordInstanceDataPageService = rxRecordInstanceDataPageService;\n        this.hostClass = 'd-flex mh-100 flex-column';\n    }\n    ngOnInit() {\n        this.gridConfig$ = of({\n            guid: 'dl-import-grid',\n            actionButtons: [\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.grid.load-data.label'),\n                    style: 'tertiary',\n                    iconCls: 'arrow_right_square_input',\n                    actions: [\n                        {\n                            name: () => {\n                                this.loadDataFromSelectedRecords();\n                            }\n                        }\n                    ],\n                    disabled: () => !some(this.grid.api.getSelectedRows(), this.isNewOrStoppedRecord)\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.clone-configuration.label'),\n                    style: 'tertiary',\n                    icon: 'files_copy_o',\n                    actions: [\n                        {\n                            name: () => {\n                                this.cloneDataImportConfiguration();\n                            }\n                        }\n                    ],\n                    disabled: () => this.grid.api.getSelectedRows().length !== 1\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.common.delete.label'),\n                    style: 'tertiary',\n                    icon: 'trash',\n                    actions: [\n                        {\n                            name: () => {\n                                this.deleteSelectedDataRecords();\n                            }\n                        }\n                    ]\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.common.archive.label'),\n                    style: 'tertiary',\n                    iconCls: 'file_o_archive',\n                    actions: [\n                        {\n                            name: () => {\n                                this.archiveSelectedDataRecords();\n                            }\n                        }\n                    ],\n                    disabled: () => this.areAllSelectedArchived()\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.common.stop.label'),\n                    style: 'tertiary',\n                    iconCls: 'pause',\n                    actions: [\n                        {\n                            name: () => this.stopSelectedRecordProcessing()\n                        }\n                    ],\n                    disabled: () => !some(this.grid.api.getSelectedRows(), this.isProcessingOrQueuedRecord)\n                }\n            ],\n            recordDefinitionName: DL_DATA_IMPORT.recordDefinitionName,\n            enableRowSelection: RowSelectionMode.Multiple,\n            columns: this.getColumns(),\n            getData: (queryParams) => this.getData(queryParams),\n            styles: 'flex-fill'\n        });\n    }\n    getData(queryParams) {\n        return this.rxRecordInstanceDataPageService.post({\n            params: Object.assign({}, omit(Object.assign(Object.assign({}, queryParams), { propertySelection: [\n                    String(DL_DATA_IMPORT.fields.importJobName),\n                    String(DL_DATA_IMPORT.fields.uploadedOn),\n                    String(DL_DATA_IMPORT.fields.importJobDescription),\n                    String(DL_DATA_IMPORT.fields.dataFile),\n                    String(DL_DATA_IMPORT.fields.attachmentOut),\n                    String(RX_RECORD_DEFINITION.coreFieldIds.status),\n                    String(DL_DATA_IMPORT.fields.isArchived),\n                    String(DL_DATA_IMPORT.fields.mappingConfig),\n                    String(RX_RECORD_DEFINITION.coreFieldIds.id)\n                ] }), ['searchText']))\n        });\n    }\n    isNewOrStoppedRecord(row) {\n        return (row[RX_RECORD_DEFINITION.coreFieldIds.status] === DL_DATA_IMPORT.dataStatuses.new ||\n            row[RX_RECORD_DEFINITION.coreFieldIds.status] === DL_DATA_IMPORT.dataStatuses.stopped);\n    }\n    areAllSelectedArchived() {\n        return every(this.grid.api.getSelectedRows(), (row) => row[DL_DATA_IMPORT.fields.isArchived] === 1);\n    }\n    newDataImport(selectedRecordInstanceId = null) {\n        this.dataloadWizardContext = {\n            clonedConfigurationInstanceId: selectedRecordInstanceId,\n            createdRecordInstanceId: null,\n            isClonedConfigMatched: false,\n            dataImportContext: {\n                dataImportConfigurations: {\n                    sheets: []\n                }\n            },\n            excelSheetsConfiguration: {}\n        };\n        this.rxWizardService\n            .open({\n            context: this.dataloadWizardContext,\n            options: {\n                title: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.wizard.title'),\n                finishButtonLabel: this.translateService.instant('com.bmc.arsys.rx.client.common.save.label'),\n                steps: [\n                    {\n                        id: DL_DATA_IMPORT.uploadFileStepId,\n                        name: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.wizard.steps.upload-data-file.label'),\n                        componentFactory: this.componentFactoryResolver.resolveComponentFactory(UploadDataFileStepComponent),\n                        handlesNext: true\n                    },\n                    // This temporary step is needed to display wizard Next button\n                    DL_DATA_IMPORT.temporaryStepConfig\n                ]\n            }\n        })\n            .then((result) => {\n            if (result) {\n                this.savePrepareDataImportConfiguration();\n            }\n            else {\n                this.grid.api.refresh().subscribe();\n            }\n        });\n    }\n    loadDataFromSelectedRecords() {\n        const newOrStoppedRecords = filter(this.grid.api.getSelectedRows(), this.isNewOrStoppedRecord);\n        if (newOrStoppedRecords.length < this.grid.api.getSelectedRows().length) {\n            this.rxModalService\n                .confirm({\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n                modalStyle: RX_MODAL.modalStyles.default,\n                message: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.already-loaded-data-warning.message')\n            })\n                .then((result) => {\n                if (result) {\n                    this.loadDataFromFile();\n                }\n            });\n        }\n        else {\n            this.loadDataFromFile();\n        }\n    }\n    isProcessingOrQueuedRecord(row) {\n        return (row[RX_RECORD_DEFINITION.coreFieldIds.status] === DL_DATA_IMPORT.dataStatuses.processing ||\n            row[RX_RECORD_DEFINITION.coreFieldIds.status] === DL_DATA_IMPORT.dataStatuses.queued);\n    }\n    stopSelectedRecordProcessing() {\n        const alreadyProcessedRecords = filter(this.grid.api.getSelectedRows(), this.isProcessingOrQueuedRecord);\n        if (alreadyProcessedRecords.length !== this.grid.api.getSelectedRows().length) {\n            this.rxModalService\n                .confirm({\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n                modalStyle: RX_MODAL.modalStyles.default,\n                message: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.stop-data-processing-warning.message')\n            })\n                .then((result) => {\n                if (result) {\n                    this.stopRecordProcessing();\n                }\n            });\n        }\n        else {\n            this.stopRecordProcessing();\n        }\n    }\n    stopRecordProcessing() {\n        const stopProcessingRequests$ = filter(this.grid.api.getSelectedRows(), this.isProcessingOrQueuedRecord).map((row) => this.dataImportService.stopDataProcessing(row[RX_RECORD_DEFINITION.coreFieldIds.id]));\n        forkJoin(stopProcessingRequests$).subscribe(() => {\n            this.grid.api.refresh().subscribe();\n        });\n    }\n    deleteSelectedDataRecords() {\n        this.rxModalService\n            .confirm({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n            modalStyle: RX_MODAL.modalStyles.default,\n            message: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.delete-import-record-confirmation.message')\n        })\n            .then((result) => {\n            if (result) {\n                const deleteDataRequests$ = map$1(this.grid.api.getSelectedRows(), (row) => this.rxRecordInstanceService.delete(DL_DATA_IMPORT.recordDefinitionName, row[RX_RECORD_DEFINITION.coreFieldIds.id]));\n                forkJoin(deleteDataRequests$).subscribe(() => {\n                    this.rxNotificationService.addSuccessMessage(this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.delete-import-record-success.message'));\n                    this.grid.api.refresh().subscribe();\n                });\n            }\n        });\n    }\n    archiveSelectedDataRecords() {\n        this.rxModalService\n            .confirm({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n            modalStyle: RX_MODAL.modalStyles.default,\n            message: this.translateService.instant('com.bmc.arsys.rx.client.dataload.archive-records-warning.message')\n        })\n            .then((result) => {\n            if (result) {\n                const archiveDataRequests$ = filter(this.grid.api.getSelectedRows(), {\n                    [DL_DATA_IMPORT.fields.isArchived]: 0\n                }).map((row) => this.rxRecordInstanceService\n                    .get(DL_DATA_IMPORT.recordDefinitionName, row[RX_RECORD_DEFINITION.coreFieldIds.id])\n                    .pipe(switchMap((recordInstance) => {\n                    recordInstance.id = row[RX_RECORD_DEFINITION.coreFieldIds.id];\n                    recordInstance.displayId = row[RX_RECORD_DEFINITION.coreFieldIds.displayId];\n                    recordInstance.setFieldValue(DL_DATA_IMPORT.fields.isArchived, DL_DATA_IMPORT.archiveTrueValue);\n                    return this.rxRecordInstanceService.save(recordInstance);\n                })));\n                forkJoin(archiveDataRequests$).subscribe(() => {\n                    this.grid.api.refresh().subscribe();\n                });\n            }\n        });\n    }\n    cloneDataImportConfiguration() {\n        this.newDataImport(this.grid.api.getFirstSelectedRow()[RX_RECORD_DEFINITION.coreFieldIds.id]);\n    }\n    loadDataFromFile() {\n        const loadDataRequests$ = filter(this.grid.api.getSelectedRows(), this.isNewOrStoppedRecord).map((row) => this.dataImportService.runLoadProcess(row[RX_RECORD_DEFINITION.coreFieldIds.id]));\n        forkJoin(loadDataRequests$).subscribe(() => {\n            this.grid.api.refresh().subscribe();\n        });\n    }\n    getRecordNames(selectedRow) {\n        return map$1(get(this.rxJsonParserService.tryParseJson(selectedRow[DL_DATA_IMPORT.fields.mappingConfig]), 'dataImportConfigurations.sheets'), 'configurations.definitionMappings.targetDefinition.name')\n            .filter(Boolean)\n            .map((definitionQualifiedName) => this.rxDefinitionNameService.getDisplayName(definitionQualifiedName))\n            .join(', ');\n    }\n    showStatusInfo(selectedRow) {\n        this.adaptModalService\n            .open({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.common.status.label'),\n            content: ImportRecordStatusInfoComponent,\n            data: {\n                dataRecordId: selectedRow[RX_RECORD_DEFINITION.coreFieldIds.id]\n            },\n            size: 'lg'\n        })\n            .catch(noop);\n    }\n    getColumns() {\n        return [\n            {\n                fieldId: String(DL_DATA_IMPORT.fields.importJobName),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label')\n            },\n            {\n                fieldId: String(DL_DATA_IMPORT.fields.uploadedOn),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.wizard.steps.uploaded-on.label')\n            },\n            {\n                fieldId: String(DL_DATA_IMPORT.fields.importJobDescription),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.description.label')\n            },\n            {\n                fieldId: String(DL_DATA_IMPORT.fields.mappingConfig),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.definitions.label'),\n                cellTemplate: this.recordNamesCellTemplate,\n                sortable: false\n            },\n            {\n                fieldId: String(DL_DATA_IMPORT.fields.dataFile),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.grid.data-load-input.title'),\n                sortable: false,\n                filterable: false,\n                clickable: true,\n                actions: [\n                    {\n                        name: (previousAction, row) => {\n                            this.rxRecordInstanceService.downloadAttachment(DL_DATA_IMPORT.recordDefinitionName, DL_DATA_IMPORT.fields.dataFile, row[RX_RECORD_DEFINITION.coreFieldIds.id], row[DL_DATA_IMPORT.fields.dataFile]);\n                        }\n                    }\n                ]\n            },\n            {\n                fieldId: String(DL_DATA_IMPORT.fields.attachmentOut),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.dataload.import.grid.data-load-result.title'),\n                sortable: false,\n                filterable: false,\n                clickable: true,\n                actions: [\n                    {\n                        name: (previousAction, row) => {\n                            this.rxRecordInstanceService.downloadAttachment(DL_DATA_IMPORT.recordDefinitionName, DL_DATA_IMPORT.fields.attachmentOut, row[RX_RECORD_DEFINITION.coreFieldIds.id], row[DL_DATA_IMPORT.fields.attachmentOut]);\n                        }\n                    }\n                ]\n            },\n            {\n                fieldId: String(RX_RECORD_DEFINITION.coreFieldIds.status),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.status.label')\n            },\n            {\n                fieldId: String(DL_DATA_IMPORT.fields.isArchived),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.dataload.grid.column.archived-record.title')\n            },\n            {\n                fieldId: String(DL_DATA_IMPORT.fields.message),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.dataload.grid.column.status-message.title'),\n                cellTemplate: this.statusInfoCellTemplate,\n                alignment: RecordGridColumnAlignment.Center,\n                filterable: false,\n                sortable: false\n            },\n            {\n                fieldId: String(RX_RECORD_DEFINITION.coreFieldIds.id),\n                visible: false,\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.id.label')\n            }\n        ];\n    }\n    savePrepareDataImportConfiguration() {\n        this.rxRecordInstanceService\n            .get(DL_DATA_IMPORT.recordDefinitionName, this.dataloadWizardContext.createdRecordInstanceId)\n            .pipe(switchMap((recordInstance) => {\n            recordInstance.setFieldValue(DL_DATA_IMPORT.fields.mappingConfig, JSON.stringify(this.dataloadWizardContext.dataImportContext));\n            recordInstance.setFieldValue(DL_DATA_IMPORT.fields.importJobName, this.dataloadWizardContext.importJobInfo.importJobName);\n            recordInstance.setFieldValue(DL_DATA_IMPORT.fields.importJobDescription, this.dataloadWizardContext.importJobInfo.importJobDescription);\n            recordInstance.setFieldValue(DL_DATA_IMPORT.fields.attachmentType, this.dataloadWizardContext.importJobInfo.attachmentType);\n            recordInstance.setFieldValue(DL_DATA_IMPORT.fields.archivedWorksheetFileName, this.dataloadWizardContext.importJobInfo.archivedWorksheetFileName);\n            return this.rxRecordInstanceService.save(recordInstance);\n        }), switchMap(() => this.grid.api.refresh()))\n            .subscribe();\n    }\n}\nDataImportComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataImportComponent, deps: [{ token: i0.ComponentFactoryResolver }, { token: i4$1.RxModalService }, { token: i2$1.RxDefinitionNameService }, { token: i2$1.RxNotificationService }, { token: i7$1.RxWizardService }, { token: i2.TranslateService }, { token: i5.RxRecordInstanceService }, { token: i4.AdaptModalService }, { token: i3.RxJsonParserService }, { token: DataImportService }, { token: i5.RxRecordInstanceDataPageService }], target: i0.ɵɵFactoryTarget.Component });\nDataImportComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: DataImportComponent, selector: \"dl-data-import\", host: { properties: { \"class\": \"this.hostClass\" } }, viewQueries: [{ propertyName: \"grid\", first: true, predicate: [\"grid\"], descendants: true }, { propertyName: \"recordNamesCellTemplate\", first: true, predicate: [\"recordNamesCellTemplate\"], descendants: true, static: true }, { propertyName: \"statusInfoCellTemplate\", first: true, predicate: [\"statusInfoCellTemplate\"], descendants: true, static: true }], ngImport: i0, template: \"<button\\n  adapt-button\\n  type=\\\"button\\\"\\n  btn-type=\\\"tertiary\\\"\\n  class=\\\"d-icon-plus_circle px-0 align-self-start\\\"\\n  rx-id=\\\"new-import-button\\\"\\n  (click)=\\\"newDataImport()\\\"\\n>\\n  {{ 'com.bmc.arsys.rx.client.dataload.import.new-import.title' | translate }}\\n</button>\\n\\n<rx-record-grid #grid [config]=\\\"gridConfig$\\\"></rx-record-grid>\\n\\n<ng-template #recordNamesCellTemplate let-dataItem=\\\"dataItem\\\">\\n  {{ getRecordNames(dataItem) }}\\n</ng-template>\\n\\n<ng-template #statusInfoCellTemplate let-dataItem=\\\"dataItem\\\">\\n  <a href=\\\"javascript:void(0)\\\" (click)=\\\"showStatusInfo(dataItem)\\\">{{\\n    'com.bmc.arsys.rx.client.common.action-view.label' | translate\\n  }}</a>\\n</ng-template>\\n\", styles: [\":host{display:block;padding:1rem;height:100%}:host::ng-deep rx-record-grid{height:100%}\\n\"], components: [{ type: i4.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i9.RecordGridComponent, selector: \"rx-record-grid\", inputs: [\"config\"], outputs: [\"dataLoaded\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataImportComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'dl-data-import',\n                    templateUrl: './data-import.component.html',\n                    styleUrls: ['./data-import.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ComponentFactoryResolver }, { type: i4$1.RxModalService }, { type: i2$1.RxDefinitionNameService }, { type: i2$1.RxNotificationService }, { type: i7$1.RxWizardService }, { type: i2.TranslateService }, { type: i5.RxRecordInstanceService }, { type: i4.AdaptModalService }, { type: i3.RxJsonParserService }, { type: DataImportService }, { type: i5.RxRecordInstanceDataPageService }]; }, propDecorators: { hostClass: [{\n                type: HostBinding,\n                args: ['class']\n            }], grid: [{\n                type: ViewChild,\n                args: ['grid']\n            }], recordNamesCellTemplate: [{\n                type: ViewChild,\n                args: ['recordNamesCellTemplate', { static: true }]\n            }], statusInfoCellTemplate: [{\n                type: ViewChild,\n                args: ['statusInfoCellTemplate', { static: true }]\n            }] } });\n\nclass DataImportRegistrationModule {\n    constructor(componentFactoryResolver, rxViewComponentRegistryService) {\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        rxViewComponentRegistryService.register({\n            type: 'dl-dataload-data-import',\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(DataImportComponent),\n            name: 'Data import',\n            isPageComponent: true,\n            availableInBundles: [RX_APPLICATION.dataloadBundleId]\n        });\n    }\n}\nDataImportRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataImportRegistrationModule, deps: [{ token: i0.ComponentFactoryResolver }, { token: i1$2.RxViewComponentRegistryService }], target: i0.ɵɵFactoryTarget.NgModule });\nDataImportRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataImportRegistrationModule, declarations: [DataImportComponent,\n        ImportRecordStatusInfoComponent,\n        UploadDataFileStepComponent,\n        DataImportMappingStepComponent], imports: [AdaptButtonModule,\n        CommonModule,\n        FormsModule,\n        TranslateModule,\n        RecordGridModule,\n        AdaptPopoverModule,\n        AdaptTableModule,\n        RxLineLoaderModule,\n        AdaptRxTextfieldModule,\n        AdaptRxUploaderModule,\n        AdaptRxSelectModule,\n        ReactiveFormsModule,\n        AdaptTabsModule,\n        AdaptRxRadiobuttonModule,\n        RxDefinitionPickerModule,\n        AdaptRxLabelModule,\n        AdaptAlertModule,\n        AdaptRxCheckboxModule,\n        RxBusyIndicatorModule] });\nDataImportRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataImportRegistrationModule, imports: [[\n            AdaptButtonModule,\n            CommonModule,\n            FormsModule,\n            TranslateModule,\n            RecordGridModule,\n            AdaptPopoverModule,\n            AdaptTableModule,\n            RxLineLoaderModule,\n            AdaptRxTextfieldModule,\n            AdaptRxUploaderModule,\n            AdaptRxSelectModule,\n            ReactiveFormsModule,\n            AdaptTabsModule,\n            AdaptRxRadiobuttonModule,\n            RxDefinitionPickerModule,\n            AdaptRxLabelModule,\n            AdaptAlertModule,\n            AdaptRxCheckboxModule,\n            RxBusyIndicatorModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataImportRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [\n                        DataImportComponent,\n                        ImportRecordStatusInfoComponent,\n                        UploadDataFileStepComponent,\n                        DataImportMappingStepComponent\n                    ],\n                    imports: [\n                        AdaptButtonModule,\n                        CommonModule,\n                        FormsModule,\n                        TranslateModule,\n                        RecordGridModule,\n                        AdaptPopoverModule,\n                        AdaptTableModule,\n                        RxLineLoaderModule,\n                        AdaptRxTextfieldModule,\n                        AdaptRxUploaderModule,\n                        AdaptRxSelectModule,\n                        ReactiveFormsModule,\n                        AdaptTabsModule,\n                        AdaptRxRadiobuttonModule,\n                        RxDefinitionPickerModule,\n                        AdaptRxLabelModule,\n                        AdaptAlertModule,\n                        AdaptRxCheckboxModule,\n                        RxBusyIndicatorModule\n                    ],\n                    entryComponents: [DataImportComponent]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ComponentFactoryResolver }, { type: i1$2.RxViewComponentRegistryService }]; } });\n\nconst DL_DATA_EXPORT = {\n    recordDefinitionName: 'com.bmc.arsys.rx.dataload:Data Export Form',\n    archiveTrueValue: 1,\n    associationDefinitionDataFilterProperty: 'associationDefinitionDataFilter',\n    fields: {\n        name: 536870913,\n        generatedFile: 536870914,\n        startTime: 536870915,\n        endTime: 536870916,\n        progressDetail: 536870917,\n        message: 536870918,\n        configurations: 536870919,\n        isArchive: 536870920,\n        fileName: 536870921,\n        configDescription: 536870922\n    },\n    dataStatuses: {\n        new: 0,\n        processing: 1,\n        processed: 2,\n        failed: 3\n    }\n};\n\nclass ExportRecordStatusInfoComponent {\n    constructor(datePipe, rxTranslateService, rxJsonParserService, activeModalRef, rxRecordInstanceDataPageService) {\n        this.datePipe = datePipe;\n        this.rxTranslateService = rxTranslateService;\n        this.rxJsonParserService = rxJsonParserService;\n        this.activeModalRef = activeModalRef;\n        this.rxRecordInstanceDataPageService = rxRecordInstanceDataPageService;\n        this.statusData$ = this.rxRecordInstanceDataPageService\n            .post({\n            params: {\n                [RX_RECORD_DEFINITION.coreFieldIds.id]: this.activeModalRef.getData().dataRecordId,\n                recorddefinition: DL_DATA_EXPORT.recordDefinitionName\n            }\n        })\n            .pipe(map((dataPage) => {\n            if (dataPage.data[0][RX_RECORD_DEFINITION.coreFieldIds.status] === DL_DATA_EXPORT.dataStatuses.processing) {\n                this.processStartInfo = `${this.rxTranslateService.instant('com.bmc.arsys.rx.client.dataload.process-started.message')} ${this.datePipe.transform(dataPage.data[0][RX_RECORD_DEFINITION.coreFieldIds.modifiedDate], 'medium')}`;\n            }\n            const dataExportProgressStatus = get(this.rxJsonParserService.tryParseJson(dataPage.data[0][DL_DATA_EXPORT.fields.message], []), 'dataExportProgressStatus');\n            if (dataExportProgressStatus) {\n                return map$1(dataExportProgressStatus, (statusInfo) => (Object.assign(Object.assign({}, statusInfo), { updateTime: this.datePipe.transform(statusInfo.updateTime, 'medium') })));\n            }\n            else {\n                this.exportConfiguredNotProcessedMsg = dataPage.data[0][DL_DATA_EXPORT.fields.message];\n                return [];\n            }\n        }));\n        this.columns = [\n            {\n                field: 'updateTime',\n                header: this.rxTranslateService.instant('com.bmc.arsys.rx.client.dataload.status-info-grid.column.updated-date.title'),\n                sortable: false,\n                width: '20%'\n            },\n            {\n                field: 'status',\n                header: this.rxTranslateService.instant('com.bmc.arsys.rx.client.common.status.label'),\n                width: '20%'\n            },\n            {\n                field: 'message',\n                header: this.rxTranslateService.instant('com.bmc.arsys.rx.client.common.message.label'),\n                width: '80%'\n            }\n        ];\n    }\n    close() {\n        this.activeModalRef.close();\n    }\n}\nExportRecordStatusInfoComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ExportRecordStatusInfoComponent, deps: [{ token: i1$1.DatePipe }, { token: i2.TranslateService }, { token: i3.RxJsonParserService }, { token: i4.ActiveModalRef }, { token: i5.RxRecordInstanceDataPageService }], target: i0.ɵɵFactoryTarget.Component });\nExportRecordStatusInfoComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ExportRecordStatusInfoComponent, selector: \"dl-export-record-status-info\", ngImport: i0, template: \"<ng-template #loaderTemplate>\\n  <rx-line-loader></rx-line-loader>\\n</ng-template>\\n\\n<div *ngIf=\\\"statusData$ | async as statusData; else loaderTemplate\\\">\\n  <div class=\\\"data-status-info\\\">\\n    <div *ngIf=\\\"exportConfiguredNotProcessedMsg\\\">\\n      {{ exportConfiguredNotProcessedMsg }}\\n    </div>\\n\\n    <adapt-alert\\n      *ngIf=\\\"processStartInfo\\\"\\n      [config]=\\\"{\\n        content: processStartInfo,\\n        type: 'inline',\\n        variant: 'warning'\\n      }\\\"\\n    ></adapt-alert>\\n\\n    <adapt-table\\n      [hidden]=\\\"exportConfiguredNotProcessedMsg\\\"\\n      rx-id=\\\"exported-status-info-grid\\\"\\n      [columns]=\\\"columns\\\"\\n      [bordered]=\\\"true\\\"\\n      [value]=\\\"statusData\\\"\\n      [wrapCellText]=\\\"true\\\"\\n    >\\n    </adapt-table>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button (click)=\\\"close()\\\" adapt-button btn-type=\\\"secondary\\\" rx-id=\\\"close-button\\\" type=\\\"button\\\">\\n    {{ 'com.bmc.arsys.rx.client.common.close.label' | translate }}\\n  </button>\\n</div>\\n\", styles: [\".data-status-info{padding:15px}\\n\"], components: [{ type: i4$1.RxLineLoaderComponent, selector: \"rx-line-loader\", inputs: [\"loaderMessage\"] }, { type: i4.AdaptAlertComponent, selector: \"adapt-alert\", inputs: [\"config\"], outputs: [\"onClose\"] }, { type: i7.AdaptTableComponent, selector: \"adapt-table\", inputs: [\"sortable\", \"filterable\", \"triggerableFilters\", \"explicitSearchBtn\", \"enableReorderableRows\", \"suppressTooltip\", \"toolbarConfig\", \"dataColumnsColsTemplate\", \"dataColumnsHeaderTemplate\", \"dataColumnsDataCellsTemplate\", \"headerGroupsTemplate\", \"alwaysShowHeaderTooltip\", \"alwaysShowCellTooltip\", \"expandedCellClass\", \"expandedGroupsKeys\", \"nestedGroupPadding\", \"expandindCellInitialPadding\", \"groupValueDataCellTemplate\", \"tooltipInitialDelayMs\", \"tooltipClass\", \"rowsCustomClass\", \"paginatorAlign\", \"hasEmptyState\", \"enableInfiniteScrolling\", \"updateFirstColumnWidth\", \"busyConfig\", \"defaultFiltersMatchMode\", \"wrapCellText\", \"minBufferPx\", \"maxBufferPx\", \"testID\", \"headerSelectionMode\", \"disabledSelectedRowsCount\", \"disabledNotSelectedRowsCount\", \"disabledSelectedFilteredRowsCount\", \"disabledNotSelectedFilteredRowsCount\", \"selectedFilteredRowsCount\", \"totalRecordsInGroup\", \"disableRowSelection\", \"nestingStructureData\", \"nestingKey\", \"enableRowEditing\", \"autoScrollToTop\", \"paginationTexts\", \"toolbarTexts\", \"tableTexts\", \"filtersTexts\", \"headerCellMenuTexts\", \"texts\", \"loadingMore\", \"mergeColumns\", \"disabledRowSelectionResolver\", \"allowColumnReorderingResolver\", \"disableRowExpandingResolver\", \"rowAriaDataResolver\", \"tableWidthConfig\", \"expandedRowTemplate\", \"isRefreshingRowData\", \"value\", \"bordered\", \"paginator\", \"striped\", \"loading\"], outputs: [\"onLazyLoad\", \"rowDataRefresh\", \"savedRowEditing\", \"canceledRowEditing\", \"groupSelection\", \"allGroupedRowsSelection\", \"groupExpansion\", \"columnsVisibilityChange\", \"rowDragStart\", \"rowDragRelease\", \"rowDragEnd\", \"rowDragDrop\", \"export\", \"toolbarPopupAnimationDone\"] }, { type: i4.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i1$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i1$1.AsyncPipe, \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ExportRecordStatusInfoComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'dl-export-record-status-info',\n                    templateUrl: './export-record-status-info.component.html',\n                    styleUrls: ['./export-record-status-info.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.DatePipe }, { type: i2.TranslateService }, { type: i3.RxJsonParserService }, { type: i4.ActiveModalRef }, { type: i5.RxRecordInstanceDataPageService }]; } });\n\nclass DataExportFiltersExpressionConfigurator extends RxExpressionConfigurator {\n    constructor(injector) {\n        super();\n        this.injector = injector;\n        this.translateService = this.injector.get(TranslateService);\n        this.rxDefinitionNameService = this.injector.get(RxDefinitionNameService);\n        this.rxRecordDefinitionCacheService = this.injector.get(RxRecordDefinitionCacheService);\n        this.rxAssociationDefinitionCacheService = this.injector.get(RxAssociationDefinitionCacheService);\n        this.commonDataDictionary$ = of([\n            {\n                label: this.translateService.instant('com.bmc.arsys.rx.client.common.general-items.label'),\n                children: [\n                    {\n                        label: this.translateService.instant('com.bmc.arsys.rx.client.approval.expression-editor.data-dictionary.values.general-group.pill.current-user.title'),\n                        icon: 'd-icon-dollar',\n                        expression: '$USER$'\n                    },\n                    {\n                        label: this.translateService.instant('com.bmc.arsys.rx.client.approval.expression-editor.data-dictionary.values.general-group.pill.current-date.title'),\n                        icon: 'd-icon-dollar',\n                        expression: '$DATE$'\n                    },\n                    {\n                        label: this.translateService.instant('com.bmc.arsys.rx.client.approval.expression-editor.data-dictionary.values.general-group.pill.current-time.title'),\n                        icon: 'd-icon-dollar',\n                        expression: '$TIME$'\n                    },\n                    {\n                        label: this.translateService.instant('com.bmc.arsys.rx.client.approval.expression-editor.data-dictionary.values.general-group.pill.current-date-time.title'),\n                        icon: 'd-icon-dollar',\n                        expression: '$TIMESTAMP$'\n                    }\n                ]\n            }\n        ]);\n    }\n    geDataDefinitionField(definitionType, recordOrAssociationDefinitionName) {\n        if (recordOrAssociationDefinitionName) {\n            return iif(() => definitionType === 'record', this.rxRecordDefinitionCacheService.getRecordDefinition(recordOrAssociationDefinitionName), this.rxAssociationDefinitionCacheService.getAssociationDefinition(recordOrAssociationDefinitionName).pipe(map((associationDefinitionResponse) => associationDefinitionResponse.nodeAId), switchMap((fetchedRecordDefinitionName) => this.rxRecordDefinitionCacheService.getRecordDefinition(fetchedRecordDefinitionName)))).pipe(withLatestFrom(this.commonDataDictionary$), map(([definitionResponse, commonDataDictionary]) => {\n                return [\n                    ...commonDataDictionary,\n                    {\n                        label: this.rxDefinitionNameService.getDisplayName(definitionResponse.name),\n                        children: definitionResponse.fieldDefinitions.map((fieldDefinition) => ({\n                            label: fieldDefinition.name,\n                            icon: 'd-icon-field_text',\n                            expression: `'${fieldDefinition.id}'`\n                        }))\n                    }\n                ];\n            }));\n        }\n        else {\n            return of([]);\n        }\n    }\n}\n\nclass ExportDataPreviewComponent {\n    constructor(activeModalRef, rxRecordInstanceDataPageService) {\n        this.activeModalRef = activeModalRef;\n        this.rxRecordInstanceDataPageService = rxRecordInstanceDataPageService;\n        this.gridContext = this.activeModalRef.getData();\n    }\n    ngOnInit() {\n        this.gridConfig = of({\n            recordDefinitionName: this.gridContext.definitionName,\n            enableRowSelection: RowSelectionMode.Multiple,\n            columns: sortBy(this.gridContext.selectedFields, 'visibleOnPreviewPriority').map((field, index) => ({\n                title: field.name,\n                fieldId: field.id.toString(),\n                visible: index < 9\n            })),\n            styles: 'flex-fill h-100',\n            getData: (queryParams) => this.getData(queryParams)\n        });\n    }\n    getData(queryParams) {\n        queryParams.queryExpression = [queryParams.queryExpression, this.gridContext.queryFilter]\n            .filter(Boolean)\n            .join('AND');\n        return this.rxRecordInstanceDataPageService.post({\n            params: omit(Object.assign({}, queryParams), ['searchText'])\n        });\n    }\n    close() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n}\nExportDataPreviewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ExportDataPreviewComponent, deps: [{ token: i4.ActiveModalRef }, { token: i5.RxRecordInstanceDataPageService }], target: i0.ɵɵFactoryTarget.Component });\nExportDataPreviewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ExportDataPreviewComponent, selector: \"dl-export-data-preview\", ngImport: i0, template: \"<div class=\\\"p-4 data-preview-modal-body\\\">\\n  <rx-record-grid [config]=\\\"gridConfig\\\"></rx-record-grid>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button adapt-button type=\\\"button\\\" btn-type=\\\"secondary\\\" rx-id=\\\"close-button\\\" (click)=\\\"close()\\\">\\n    {{ 'com.bmc.arsys.rx.client.common.close.label' | translate }}\\n  </button>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.data-preview-modal-body{overflow:auto;flex-grow:1;height:645px}\\n\"], components: [{ type: i9.RecordGridComponent, selector: \"rx-record-grid\", inputs: [\"config\"], outputs: [\"dataLoaded\"] }, { type: i4.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ExportDataPreviewComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'dl-export-data-preview',\n                    templateUrl: './export-data-preview.component.html',\n                    styleUrls: ['./export-data-preview.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i4.ActiveModalRef }, { type: i5.RxRecordInstanceDataPageService }]; } });\n\nclass DataExportConfigurationComponent extends RxModalClass {\n    constructor(rxFieldDefinitionService, rxRecordInstanceService, rxRecordDefinitionService, adaptModalService, rxNotificationService, rxExpressionEditorService, translateService, changeDetectorRef, definitionNameService, dockedPanelContext, injector) {\n        super(dockedPanelContext, injector);\n        this.rxFieldDefinitionService = rxFieldDefinitionService;\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.rxRecordDefinitionService = rxRecordDefinitionService;\n        this.adaptModalService = adaptModalService;\n        this.rxNotificationService = rxNotificationService;\n        this.rxExpressionEditorService = rxExpressionEditorService;\n        this.translateService = translateService;\n        this.changeDetectorRef = changeDetectorRef;\n        this.definitionNameService = definitionNameService;\n        this.dockedPanelContext = dockedPanelContext;\n        this.injector = injector;\n        this.index$ = new BehaviorSubject(null);\n        this.recordDefinitionNames$ = [];\n        this.definitionFields$ = [];\n        this.destroyed$ = new ReplaySubject(1);\n        this.exportConfiguration = {\n            exportConfigName: null,\n            exportConfigDescription: null,\n            definitions: []\n        };\n        this.recordPickerOptions = {\n            label: '',\n            definitionType: RxDefinitionPickerType.Record,\n            availableDefinitionPickerStates: {\n                definitionButtonsGroups: [RX_DEFINITION_PICKER.definitionScopes.all],\n                search: RX_DEFINITION_PICKER.definitionScopes.all\n            },\n            required: true\n        };\n        this.associationPickerOptions = {\n            label: '',\n            definitionType: RxDefinitionPickerType.Association,\n            availableDefinitionPickerStates: {\n                definitionButtonsGroups: [RX_DEFINITION_PICKER.definitionScopes.all],\n                search: RX_DEFINITION_PICKER.definitionScopes.all\n            },\n            required: true\n        };\n        this.definitionTypes = {\n            record: 'record',\n            association: 'association'\n        };\n        this.definitionTypeOptions = [\n            {\n                value: this.definitionTypes.record,\n                displayValue: this.translateService.instant('com.bmc.arsys.rx.client.definition-type.record.label')\n            },\n            {\n                value: this.definitionTypes.association,\n                displayValue: this.translateService.instant('com.bmc.arsys.rx.client.definition-type.association.label')\n            }\n        ];\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.expressionConfigurator = new DataExportFiltersExpressionConfigurator(this.injector);\n        this.expressionConfigurator.configureForProperty({\n            propertyPath: DL_DATA_EXPORT.associationDefinitionDataFilterProperty,\n            dataDictionary$: this.index$.pipe(switchMap((index) => this.recordDefinitionNames$[index].pipe(switchMap((recordDefinitionName) => this.expressionConfigurator.geDataDefinitionField(this.exportConfiguration.definitions[index].type, recordDefinitionName))))),\n            operators: this.expressionConfigurator.getOperatorRowsByGroup(ExpressionOperatorGroup.All)\n        });\n        this.dataFilterExpressionOptions = {\n            label: this.translateService.instant('com.bmc.arsys.rx.client.dataload.export.new-configuration.data-filters.label'),\n            dataDictionary$: this.expressionConfigurator.getDataDictionary(DL_DATA_EXPORT.associationDefinitionDataFilterProperty),\n            operators: this.expressionConfigurator.getOperators(DL_DATA_EXPORT.associationDefinitionDataFilterProperty)\n        };\n    }\n    addDefinition() {\n        this.markAsDirty();\n        const nextRowIndex = this.exportConfiguration.definitions.length;\n        this.recordDefinitionNames$[nextRowIndex] = new BehaviorSubject(null);\n        this.definitionFields$[nextRowIndex] = this.recordDefinitionNames$[nextRowIndex].pipe(takeUntil(this.destroyed$), switchMap((definitionName) => {\n            return iif(() => definitionName && this.exportConfiguration.definitions[nextRowIndex].type === this.definitionTypes.record, this.rxRecordDefinitionService.get(definitionName), of({ fieldDefinitions: [] }));\n        }), map((response) => {\n            return response.fieldDefinitions\n                .sort((a, b) => {\n                if (this.rxFieldDefinitionService.isCoreField(a)) {\n                    return -1;\n                }\n                if (this.rxFieldDefinitionService.isCoreField(b)) {\n                    return 1;\n                }\n                if (a.fieldOption === RX_RECORD_DEFINITION.fieldOptions.required) {\n                    return -1;\n                }\n                if (b.fieldOption === RX_RECORD_DEFINITION.fieldOptions.required) {\n                    return 1;\n                }\n                return Number(a.id) - Number(b.id);\n            })\n                .map((fieldDefinition, index) => ({\n                name: fieldDefinition.name,\n                id: fieldDefinition.id,\n                disabled: fieldDefinition.fieldOption === RX_RECORD_DEFINITION.fieldOptions.required &&\n                    fieldDefinition.defaultValue === null,\n                visibleOnPreviewPriority: index\n            }));\n        }), tap((criteriaFields) => {\n            this.exportConfiguration.definitions[nextRowIndex].criteria.fields = criteriaFields\n                .filter((criteriaField) => criteriaField.disabled)\n                .map((criteriaField) => (Object.assign({}, criteriaField)));\n        }));\n        this.exportConfiguration.definitions.push({\n            type: 'record',\n            name: null,\n            criteria: {\n                filter: null,\n                fields: []\n            }\n        });\n    }\n    remove(index) {\n        this.exportConfiguration.definitions.splice(index, 1);\n    }\n    cancel() {\n        this.dockedPanelContext.dismiss(DismissReasons.CLOSE_BTN);\n    }\n    onDefinitionChange(definitionName, rowIndex) {\n        if (definitionName && !this.definitionNameService.getBundleId(definitionName)) {\n            this.rxNotificationService.addErrorMessage(this.translateService.instant('com.bmc.arsys.rx.client.dataload.global-record-not-allowed.message'));\n            this.changeDetectorRef.detectChanges();\n            this.exportConfiguration.definitions[rowIndex].name = null;\n        }\n        else {\n            this.exportConfiguration.definitions[rowIndex].criteria.filter = null;\n            this.index$.next(rowIndex);\n            this.recordDefinitionNames$[rowIndex].next(definitionName);\n        }\n    }\n    onExpressionEvent(rowIndex) {\n        this.index$.next(rowIndex);\n        this.rxExpressionEditorService\n            .openEditor({\n            property: {\n                path: DL_DATA_EXPORT.associationDefinitionDataFilterProperty,\n                value: this.exportConfiguration.definitions[rowIndex].criteria.filter,\n                label: this.translateService.instant('com.bmc.arsys.rx.client.dataload.export.new-configuration.data-filters.label')\n            },\n            expressionConfigurator: this.expressionConfigurator,\n            legend: [\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.keyword.label'),\n                    icon: 'd-icon-dollar'\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.bundle-action-wizard.add-data.expression-editor.legend.activity-result.label'),\n                    icon: 'd-icon-field_text'\n                }\n            ]\n        })\n            .subscribe((expression) => {\n            this.exportConfiguration.definitions[rowIndex].criteria.filter = expression.value || null;\n        });\n    }\n    isSaveButtonDisabled() {\n        return (this.isSaveInProgress ||\n            !this.exportConfiguration.definitions.length ||\n            some(this.exportConfiguration.definitions, (definition) => {\n                return ((definition.type === this.definitionTypes.record &&\n                    (!definition.name || !definition.criteria.fields.length)) ||\n                    (definition.type === this.definitionTypes.association && !definition.name));\n            }));\n    }\n    saveExportConfiguration() {\n        this.isSaveInProgress = true;\n        this.rxRecordInstanceService\n            .getNew(DL_DATA_EXPORT.recordDefinitionName)\n            .pipe(switchMap((recordInstance) => {\n            recordInstance.setFieldValue(DL_DATA_EXPORT.fields.name, this.exportConfiguration.exportConfigName);\n            recordInstance.setFieldValue(DL_DATA_EXPORT.fields.configDescription, this.exportConfiguration.exportConfigDescription);\n            recordInstance.setFieldValue(DL_DATA_EXPORT.fields.configurations, JSON.stringify({\n                definitions: map$1(cloneDeep(this.exportConfiguration.definitions), (definition) => {\n                    definition.criteria.fields = map$1(definition.criteria.fields, (field) => ({\n                        id: field.id,\n                        name: field.name\n                    }));\n                    return definition;\n                })\n            }));\n            return this.rxRecordInstanceService.create(recordInstance);\n        }), finalize(() => {\n            this.isSaveInProgress = false;\n        }))\n            .subscribe(() => {\n            this.dockedPanelContext.close(null);\n        });\n    }\n    clearFieldsSelection(index) {\n        this.exportConfiguration.definitions[index].name = null;\n        this.exportConfiguration.definitions[index].criteria.filter = null;\n        this.exportConfiguration.definitions[index].criteria.fields = [];\n    }\n    openExportingDataPreview(definition) {\n        this.adaptModalService\n            .open({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.dataload.export.new-configuration.preview-data.label'),\n            content: ExportDataPreviewComponent,\n            size: 'lg',\n            data: {\n                definitionName: definition.name,\n                selectedFields: definition.criteria.fields,\n                queryFilter: definition.criteria.filter\n            }\n        })\n            .catch(noop);\n    }\n    isPreviewDisabled(definition) {\n        return !definition.name || !definition.criteria.fields.length;\n    }\n    ngOnDestroy() {\n        forEach(this.recordDefinitionNames$, (name$) => name$.complete());\n        this.index$.complete();\n        this.destroyed$.next();\n        this.destroyed$.complete();\n    }\n    optionFormatter(field) {\n        return field.name;\n    }\n}\nDataExportConfigurationComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataExportConfigurationComponent, deps: [{ token: i5.RxFieldDefinitionService }, { token: i5.RxRecordInstanceService }, { token: i5.RxRecordDefinitionService }, { token: i4.AdaptModalService }, { token: i2$1.RxNotificationService }, { token: i7$1.RxExpressionEditorService }, { token: i2.TranslateService }, { token: i0.ChangeDetectorRef }, { token: i2$1.RxDefinitionNameService }, { token: i4.DockedPanelContext }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nDataExportConfigurationComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: DataExportConfigurationComponent, selector: \"dl-data-export-configuration\", usesInheritance: true, ngImport: i0, template: \"<div class=\\\"dp-body\\\">\\n  <adapt-rx-textfield\\n    class=\\\"form-group d-block\\\"\\n    rx-id=\\\"export-config-name\\\"\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.common.name.label' | translate }}\\\"\\n    name=\\\"exportConfigName\\\"\\n    [(ngModel)]=\\\"exportConfiguration.exportConfigName\\\"\\n    [required]=\\\"true\\\"\\n    maxlength=\\\"254\\\"\\n    [autofocus]=\\\"true\\\"\\n    (ngModelChange)=\\\"markAsDirty()\\\"\\n    #exportConfigName=\\\"ngModel\\\"\\n  >\\n  </adapt-rx-textfield>\\n\\n  <adapt-rx-textfield\\n    class=\\\"form-group d-block\\\"\\n    rx-id=\\\"export-config-description\\\"\\n    label=\\\"{{ 'com.bmc.arsys.rx.client.common.description.label' | translate }}\\\"\\n    name=\\\"exportConfigDescription\\\"\\n    [(ngModel)]=\\\"exportConfiguration.exportConfigDescription\\\"\\n    maxlength=\\\"254\\\"\\n    (ngModelChange)=\\\"markAsDirty()\\\"\\n    #exportConfigDescription=\\\"ngModel\\\"\\n  >\\n  </adapt-rx-textfield>\\n\\n  <button\\n    adapt-button\\n    type=\\\"button\\\"\\n    btn-type=\\\"tertiary\\\"\\n    class=\\\"d-icon-plus_circle px-0\\\"\\n    rx-id=\\\"add-definition-button\\\"\\n    (click)=\\\"addDefinition()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.dataload.export.new-configuration.add-definition-button.label' | translate }}\\n  </button>\\n\\n  <adapt-accordion [multiselect]=\\\"true\\\">\\n    <div\\n      *ngFor=\\\"let definition of exportConfiguration.definitions; let $index = index\\\"\\n      class=\\\"position-relative form-group\\\"\\n    >\\n      <span class=\\\"actions\\\">\\n        <button\\n          class=\\\"d-icon-left-cross_adapt py-0 pr-3 btn btn-sm\\\"\\n          adapt-button\\n          size=\\\"small\\\"\\n          type=\\\"button\\\"\\n          (click)=\\\"remove($index)\\\"\\n        >\\n          {{ 'com.bmc.arsys.rx.client.common.remove.label' | translate }}\\n        </button>\\n      </span>\\n\\n      <adapt-accordion-tab class=\\\"w-100 d-block\\\" isOpen=\\\"true\\\">\\n        <adapt-rx-radiobutton-group\\n          [(ngModel)]=\\\"definition.type\\\"\\n          label=\\\"{{ 'com.bmc.arsys.rx.client.dataload.export.new-configuration.definition.label' | translate }}\\\"\\n          [required]=\\\"true\\\"\\n        >\\n          <adapt-rx-radiobutton\\n            *ngFor=\\\"let definitionType of definitionTypeOptions; let index = index\\\"\\n            class=\\\"radio-inline m-0\\\"\\n            [value]=\\\"definitionType.value\\\"\\n            [label]=\\\"definitionType.displayValue\\\"\\n            [ngClass]=\\\"{ 'mr-3': index === 0 }\\\"\\n            (checkedChange)=\\\"clearFieldsSelection($index)\\\"\\n          ></adapt-rx-radiobutton>\\n        </adapt-rx-radiobutton-group>\\n\\n        <rx-definition-picker\\n          class=\\\"d-block form-group\\\"\\n          *ngIf=\\\"definition.type === definitionTypes.record\\\"\\n          [options]=\\\"recordPickerOptions\\\"\\n          rx-id=\\\"record-definition-picker\\\"\\n          [(ngModel)]=\\\"definition.name\\\"\\n          (ngModelChange)=\\\"onDefinitionChange($event, $index)\\\"\\n        >\\n        </rx-definition-picker>\\n\\n        <rx-definition-picker\\n          class=\\\"d-block form-group\\\"\\n          *ngIf=\\\"definition.type === definitionTypes.association\\\"\\n          [options]=\\\"associationPickerOptions\\\"\\n          rx-id=\\\"association-definition-picker\\\"\\n          [(ngModel)]=\\\"definition.name\\\"\\n          (ngModelChange)=\\\"onDefinitionChange($event, $index)\\\"\\n        >\\n        </rx-definition-picker>\\n\\n        <div [hidden]=\\\"!definition.name\\\">\\n          <div *ngIf=\\\"definitionFields$[$index] | async as options\\\">\\n            <adapt-rx-select\\n              class=\\\"d-block form-group\\\"\\n              [(ngModel)]=\\\"definition.criteria.fields\\\"\\n              *ngIf=\\\"definition.type === definitionTypes.record\\\"\\n              label=\\\"{{ 'com.bmc.arsys.rx.client.dataload.export.new-configuration.fields.label' | translate }}\\\"\\n              [options]=\\\"options\\\"\\n              [required]=\\\"true\\\"\\n              [multiple]=\\\"true\\\"\\n              [enableFilter]=\\\"true\\\"\\n              [selectAllButton]=\\\"true\\\"\\n              [deselectAllButton]=\\\"true\\\"\\n              [optionFormatter]=\\\"optionFormatter\\\"\\n              [attr.rx-id]=\\\"'definition-' + $index + '_fields'\\\"\\n            >\\n            </adapt-rx-select>\\n          </div>\\n\\n          <rx-expression-form-control\\n            class=\\\"d-block form-group\\\"\\n            rx-id=\\\"data-filter\\\"\\n            [options]=\\\"dataFilterExpressionOptions\\\"\\n            [(ngModel)]=\\\"definition.criteria.filter\\\"\\n            (events)=\\\"onExpressionEvent($index)\\\"\\n          ></rx-expression-form-control>\\n\\n          <button\\n            type=\\\"button\\\"\\n            adapt-button\\n            btn-type=\\\"secondary\\\"\\n            rx-id=\\\"preview-button\\\"\\n            (click)=\\\"openExportingDataPreview(definition)\\\"\\n            *ngIf=\\\"definition.type === definitionTypes.record\\\"\\n            [disabled]=\\\"isPreviewDisabled(definition)\\\"\\n          >\\n            {{ 'com.bmc.arsys.rx.client.dataload.export.new-configuration.preview-data.label' | translate }}\\n          </button>\\n        </div>\\n      </adapt-accordion-tab>\\n    </div>\\n  </adapt-accordion>\\n</div>\\n\\n<div class=\\\"dp-footer\\\">\\n  <button\\n    type=\\\"button\\\"\\n    adapt-button\\n    btn-type=\\\"primary\\\"\\n    rx-id=\\\"save-button\\\"\\n    class=\\\"mr-2\\\"\\n    [adaptInlineLoader]=\\\"isSaveInProgress\\\"\\n    [disabled]=\\\"exportConfigName.invalid || exportConfigDescription.invalid || isSaveButtonDisabled()\\\"\\n    (click)=\\\"saveExportConfiguration()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n\\n  <button type=\\\"button\\\" adapt-button (click)=\\\"cancel()\\\" btn-type=\\\"secondary\\\" rx-id=\\\"cancel-button\\\">\\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\\n  </button>\\n</div>\\n\", styles: [\".actions{position:absolute;top:4px;right:35px;z-index:1}\\n\"], components: [{ type: i4.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i4.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i4.AdaptAccordionComponent, selector: \"adapt-accordion\", inputs: [\"config\", \"multiselect\", \"bordered\"], outputs: [\"openTab\", \"closeTab\"] }, { type: i4.AdaptAccordionTabComponent, selector: \"adapt-accordion-tab\", inputs: [\"title\", \"renderContentWhenClosed\", \"customClass\", \"multiline\", \"icon\", \"disabled\", \"isOpen\"], outputs: [\"open\", \"close\"] }, { type: i4.AdaptRxRadiobuttonGroupComponent, selector: \"adapt-rx-radiobutton-group\", inputs: [\"formControlName\"] }, { type: i4.AdaptRxRadiobuttonComponent, selector: \"adapt-rx-radiobutton\", inputs: [\"name\", \"label\", \"id\", \"value\", \"checked\", \"disabled\", \"ariaLabel\", \"ariaLabeledBy\", \"ariaDescribedBy\", \"testID\", \"tabIndex\"], outputs: [\"onFocus\", \"onBlur\", \"checkedChange\"] }, { type: i7$1.RxDefinitionPickerComponent, selector: \"rx-definition-picker\", inputs: [\"options\", \"isDisabled\"] }, { type: i4.AdaptRxSelectComponent, selector: \"adapt-rx-select\", inputs: [\"options\", \"emptyOption\", \"optionFormatter\", \"optionContentTemplate\", \"disabledOptionResolver\", \"titleFormatter\", \"focusFirst\", \"texts\", \"multiple\", \"singleSelectStyle\", \"enableFilter\", \"inline\", \"selectAllButton\", \"deselectAllButton\", \"loadMoreButton\", \"loadMoreCallback\", \"loadMoreInProgress\", \"loadingState\", \"placeholder\", \"size\", \"closeOnSelect\", \"placement\", \"appendToBody\", \"popupMaxHeight\", \"popupClass\", \"pageSize\", \"ariaInvalid\", \"virtualScroll\", \"virtualScrollItemSize\", \"virtualScrollTemplateCacheSize\", \"minBufferPx\", \"maxBufferPx\"], outputs: [\"onSelectionChange\", \"onPopupOpenChange\", \"onFilterValueChange\"] }, { type: i7$1.ExpressionFormControlComponent, selector: \"rx-expression-form-control\", inputs: [\"options\", \"isDisabled\", \"propertyPath\"], outputs: [\"events\"] }], directives: [{ type: i6.MaxLengthValidator, selector: \"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]\", inputs: [\"maxlength\"] }, { type: i6.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i6.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i6.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i1$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1$1.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i1$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i4.AdaptInlineStandaloneDirective, selector: \"[adaptInlineLoader]\", inputs: [\"adaptInlineLoader\", \"activeText\"] }], pipes: { \"translate\": i2.TranslatePipe, \"async\": i1$1.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataExportConfigurationComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'dl-data-export-configuration',\n                    templateUrl: './data-export-configuration.component.html',\n                    styleUrls: ['./data-export-configuration.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i5.RxFieldDefinitionService }, { type: i5.RxRecordInstanceService }, { type: i5.RxRecordDefinitionService }, { type: i4.AdaptModalService }, { type: i2$1.RxNotificationService }, { type: i7$1.RxExpressionEditorService }, { type: i2.TranslateService }, { type: i0.ChangeDetectorRef }, { type: i2$1.RxDefinitionNameService }, { type: i4.DockedPanelContext }, { type: i0.Injector }]; } });\n\nclass DataExportComponent {\n    constructor(dataExportService, rxModalService, translateService, rxDefinitionNameService, adaptModalService, rxJsonParserService, rxNotificationService, rxRecordInstanceService) {\n        this.dataExportService = dataExportService;\n        this.rxModalService = rxModalService;\n        this.translateService = translateService;\n        this.rxDefinitionNameService = rxDefinitionNameService;\n        this.adaptModalService = adaptModalService;\n        this.rxJsonParserService = rxJsonParserService;\n        this.rxNotificationService = rxNotificationService;\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.hostClass = 'd-flex mh-100 flex-column';\n    }\n    ngOnInit() {\n        this.gridConfig$ = of({\n            guid: 'dl-export-grid',\n            actionButtons: [\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.dataload.export.export-data.label'),\n                    style: 'tertiary',\n                    iconCls: 'arrow_right_square_input',\n                    actions: [\n                        {\n                            name: () => this.startDataExportProcess()\n                        }\n                    ]\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.common.archive.label'),\n                    style: 'tertiary',\n                    iconCls: 'file_o_archive',\n                    actions: [\n                        {\n                            name: () => {\n                                this.archiveExportRecords();\n                            }\n                        }\n                    ],\n                    disabled: () => every(this.grid.api.getSelectedRows(), (row) => row[DL_DATA_EXPORT.fields.isArchive] === DL_DATA_EXPORT.archiveTrueValue)\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.common.delete.label'),\n                    style: 'tertiary',\n                    icon: 'trash',\n                    actions: [\n                        {\n                            name: () => {\n                                this.deleteExportRecords();\n                            }\n                        }\n                    ]\n                }\n            ],\n            recordDefinitionName: DL_DATA_EXPORT.recordDefinitionName,\n            enableRowSelection: RowSelectionMode.Multiple,\n            columns: this.getColumns(),\n            styles: 'flex-fill'\n        });\n    }\n    startDataExportProcess() {\n        const allUploadedRecordsFromSelectedRecords = this.grid.api.getSelectedRows().filter((row) => {\n            return row[RX_RECORD_DEFINITION.coreFieldIds.status] === DL_DATA_EXPORT.dataStatuses.new;\n        });\n        if (allUploadedRecordsFromSelectedRecords.length !== this.grid.api.getSelectedRows().length) {\n            this.rxModalService\n                .confirm({\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n                modalStyle: RX_MODAL.modalStyles.warning,\n                message: this.translateService.instant('com.bmc.arsys.rx.client.dataload.export.data-already-exported-warning.message')\n            })\n                .then((result) => {\n                if (result) {\n                    this.startDataExport();\n                }\n            });\n        }\n        else {\n            this.startDataExport();\n        }\n    }\n    startDataExport() {\n        const exportRequests = map$1(this.grid.api.getSelectedRows(), (row) => this.dataExportService.startDataExport(row[RX_RECORD_DEFINITION.coreFieldIds.id]));\n        forkJoin(exportRequests).subscribe(() => {\n            this.grid.api.refresh().subscribe();\n        });\n    }\n    getRecordNames(selectedRow) {\n        return map$1(get(this.rxJsonParserService.tryParseJson(selectedRow[DL_DATA_EXPORT.fields.configurations], []), 'definitions'), 'name')\n            .filter(Boolean)\n            .map((definitionQualifiedName) => this.rxDefinitionNameService.getDisplayName(definitionQualifiedName))\n            .join(', ');\n    }\n    deleteExportRecords() {\n        this.rxModalService\n            .confirm({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n            modalStyle: RX_MODAL.modalStyles.warning,\n            message: this.translateService.instant('com.bmc.arsys.rx.client.dataload.export.delete-data-warning.message')\n        })\n            .then((result) => {\n            if (result) {\n                const deleteDataRequests$ = map$1(this.grid.api.getSelectedRows(), (row) => this.rxRecordInstanceService.delete(DL_DATA_EXPORT.recordDefinitionName, row[RX_RECORD_DEFINITION.coreFieldIds.id]));\n                forkJoin(deleteDataRequests$).subscribe(() => {\n                    this.rxNotificationService.addSuccessMessage(this.translateService.instant('com.bmc.arsys.rx.client.dataload.export.delete-export-record-success.message'));\n                    this.grid.api.refresh().subscribe();\n                });\n            }\n        });\n    }\n    archiveExportRecords() {\n        this.rxModalService\n            .confirm({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n            modalStyle: RX_MODAL.modalStyles.default,\n            message: this.translateService.instant('com.bmc.arsys.rx.client.dataload.archive-records-warning.message')\n        })\n            .then((result) => {\n            if (result) {\n                const archiveDataRequests$ = filter(this.grid.api.getSelectedRows(), {\n                    [DL_DATA_EXPORT.fields.isArchive]: 0\n                }).map((row) => this.rxRecordInstanceService\n                    .get(DL_DATA_EXPORT.recordDefinitionName, row[RX_RECORD_DEFINITION.coreFieldIds.id])\n                    .pipe(switchMap((recordInstance) => {\n                    recordInstance.id = row[RX_RECORD_DEFINITION.coreFieldIds.id];\n                    recordInstance.displayId = row[RX_RECORD_DEFINITION.coreFieldIds.displayId];\n                    recordInstance.setFieldValue(DL_DATA_EXPORT.fields.isArchive, DL_DATA_EXPORT.archiveTrueValue);\n                    return this.rxRecordInstanceService.save(recordInstance);\n                })));\n                forkJoin(archiveDataRequests$).subscribe(() => {\n                    this.grid.api.refresh().subscribe();\n                });\n            }\n        });\n    }\n    newExport() {\n        this.rxModalService\n            .openDockedPanel({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.dataload.export.new-configuration.label'),\n            content: DataExportConfigurationComponent,\n            data: {}\n        })\n            .then(() => {\n            this.grid.api.refresh().subscribe();\n        })\n            .catch(noop);\n    }\n    showStatusInfo(selectedRow) {\n        this.adaptModalService\n            .open({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.common.status.label'),\n            content: ExportRecordStatusInfoComponent,\n            data: {\n                dataRecordId: selectedRow[RX_RECORD_DEFINITION.coreFieldIds.id]\n            },\n            size: 'lg'\n        })\n            .catch(noop);\n    }\n    getColumns() {\n        return [\n            {\n                fieldId: String(DL_DATA_EXPORT.fields.name),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label')\n            },\n            {\n                fieldId: String(DL_DATA_EXPORT.fields.endTime),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.dataload.export.grid.column.exported-on.title')\n            },\n            {\n                fieldId: String(DL_DATA_EXPORT.fields.configDescription),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.description.label')\n            },\n            {\n                fieldId: String(DL_DATA_EXPORT.fields.configurations),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.definitions.label'),\n                sortable: false,\n                cellTemplate: this.recordNamesCellTemplate\n            },\n            {\n                fieldId: String(DL_DATA_EXPORT.fields.generatedFile),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.dataload.export.grid.column.export-output-file.title'),\n                sortable: false,\n                filterable: false,\n                clickable: true,\n                actions: [\n                    {\n                        name: (previousAction, row) => {\n                            this.rxRecordInstanceService.downloadAttachment(DL_DATA_EXPORT.recordDefinitionName, DL_DATA_EXPORT.fields.generatedFile, row[RX_RECORD_DEFINITION.coreFieldIds.id], row[DL_DATA_EXPORT.fields.generatedFile]);\n                        }\n                    }\n                ]\n            },\n            {\n                fieldId: String(RX_RECORD_DEFINITION.coreFieldIds.status),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.status.label')\n            },\n            {\n                fieldId: String(DL_DATA_EXPORT.fields.isArchive),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.dataload.grid.column.archived-record.title')\n            },\n            {\n                fieldId: String(DL_DATA_EXPORT.fields.message),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.dataload.grid.column.status-message.title'),\n                sortable: false,\n                filterable: false,\n                cellTemplate: this.statusInfoCellTemplate\n            },\n            {\n                fieldId: String(RX_RECORD_DEFINITION.coreFieldIds.id),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.id.label'),\n                visible: false\n            }\n        ];\n    }\n}\nDataExportComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataExportComponent, deps: [{ token: DataExportService }, { token: i4$1.RxModalService }, { token: i2.TranslateService }, { token: i2$1.RxDefinitionNameService }, { token: i4.AdaptModalService }, { token: i3.RxJsonParserService }, { token: i2$1.RxNotificationService }, { token: i5.RxRecordInstanceService }], target: i0.ɵɵFactoryTarget.Component });\nDataExportComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: DataExportComponent, selector: \"dl-data-export\", host: { properties: { \"class\": \"this.hostClass\" } }, viewQueries: [{ propertyName: \"grid\", first: true, predicate: [\"grid\"], descendants: true }, { propertyName: \"recordNamesCellTemplate\", first: true, predicate: [\"recordNamesCellTemplate\"], descendants: true, static: true }, { propertyName: \"statusInfoCellTemplate\", first: true, predicate: [\"statusInfoCellTemplate\"], descendants: true, static: true }], ngImport: i0, template: \"<button\\n  adapt-button\\n  type=\\\"button\\\"\\n  btn-type=\\\"tertiary\\\"\\n  class=\\\"d-icon-plus_circle px-0 align-self-start\\\"\\n  rx-id=\\\"new-export-button\\\"\\n  (click)=\\\"newExport()\\\"\\n>\\n  {{ 'com.bmc.arsys.rx.client.dataload.export.new.label' | translate }}\\n</button>\\n\\n<rx-record-grid #grid [config]=\\\"gridConfig$\\\"></rx-record-grid>\\n\\n<ng-template #recordNamesCellTemplate let-dataItem=\\\"dataItem\\\">\\n  {{ getRecordNames(dataItem) }}\\n</ng-template>\\n\\n<ng-template #statusInfoCellTemplate let-dataItem=\\\"dataItem\\\">\\n  <a href=\\\"javascript:void(0)\\\" (click)=\\\"showStatusInfo(dataItem)\\\">{{\\n    'com.bmc.arsys.rx.client.common.action-view.label' | translate\\n  }}</a>\\n</ng-template>\\n\", styles: [\":host{display:block;padding:1rem;height:100%}:host::ng-deep rx-record-grid{height:100%}\\n\"], components: [{ type: i4.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i9.RecordGridComponent, selector: \"rx-record-grid\", inputs: [\"config\"], outputs: [\"dataLoaded\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataExportComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'dl-data-export',\n                    templateUrl: './data-export.component.html',\n                    styleUrls: ['./data-export.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: DataExportService }, { type: i4$1.RxModalService }, { type: i2.TranslateService }, { type: i2$1.RxDefinitionNameService }, { type: i4.AdaptModalService }, { type: i3.RxJsonParserService }, { type: i2$1.RxNotificationService }, { type: i5.RxRecordInstanceService }]; }, propDecorators: { hostClass: [{\n                type: HostBinding,\n                args: ['class']\n            }], grid: [{\n                type: ViewChild,\n                args: ['grid']\n            }], recordNamesCellTemplate: [{\n                type: ViewChild,\n                args: ['recordNamesCellTemplate', { static: true }]\n            }], statusInfoCellTemplate: [{\n                type: ViewChild,\n                args: ['statusInfoCellTemplate', { static: true }]\n            }] } });\n\nclass DataExportRegistrationModule {\n    constructor(componentFactoryResolver, rxViewComponentRegistryService) {\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        rxViewComponentRegistryService.register({\n            type: 'dl-dataload-data-export',\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(DataExportComponent),\n            name: 'Data export',\n            isPageComponent: true,\n            availableInBundles: [RX_APPLICATION.dataloadBundleId]\n        });\n    }\n}\nDataExportRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataExportRegistrationModule, deps: [{ token: i0.ComponentFactoryResolver }, { token: i1$2.RxViewComponentRegistryService }], target: i0.ɵɵFactoryTarget.NgModule });\nDataExportRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataExportRegistrationModule, declarations: [DataExportComponent,\n        ExportRecordStatusInfoComponent,\n        DataExportConfigurationComponent,\n        ExportDataPreviewComponent], imports: [AdaptButtonModule,\n        CommonModule,\n        FormsModule,\n        TranslateModule,\n        RecordGridModule,\n        RxLineLoaderModule,\n        AdaptAlertModule,\n        AdaptTableModule,\n        ReactiveFormsModule,\n        AdaptRxTextfieldModule,\n        AdaptAccordionModule,\n        RxDefinitionPickerModule,\n        AdaptRxRadiobuttonModule,\n        AdaptRxSelectModule,\n        ExpressionFormControlModule,\n        AdaptBusyModule] });\nDataExportRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataExportRegistrationModule, imports: [[\n            AdaptButtonModule,\n            CommonModule,\n            FormsModule,\n            TranslateModule,\n            RecordGridModule,\n            RxLineLoaderModule,\n            AdaptAlertModule,\n            AdaptTableModule,\n            ReactiveFormsModule,\n            AdaptRxTextfieldModule,\n            AdaptAccordionModule,\n            RxDefinitionPickerModule,\n            AdaptRxRadiobuttonModule,\n            AdaptRxSelectModule,\n            ExpressionFormControlModule,\n            AdaptBusyModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataExportRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [\n                        DataExportComponent,\n                        ExportRecordStatusInfoComponent,\n                        DataExportConfigurationComponent,\n                        ExportDataPreviewComponent\n                    ],\n                    imports: [\n                        AdaptButtonModule,\n                        CommonModule,\n                        FormsModule,\n                        TranslateModule,\n                        RecordGridModule,\n                        RxLineLoaderModule,\n                        AdaptAlertModule,\n                        AdaptTableModule,\n                        ReactiveFormsModule,\n                        AdaptRxTextfieldModule,\n                        AdaptAccordionModule,\n                        RxDefinitionPickerModule,\n                        AdaptRxRadiobuttonModule,\n                        AdaptRxSelectModule,\n                        ExpressionFormControlModule,\n                        AdaptBusyModule\n                    ],\n                    entryComponents: [DataExportComponent]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ComponentFactoryResolver }, { type: i1$2.RxViewComponentRegistryService }]; } });\n\nconst DL_DATA_TEMPLATES = {\n    recordDefinitionName: 'com.bmc.arsys.rx.dataload:Data Load Template',\n    fields: {\n        templateName: 8,\n        dataLoadTemplateVersion: 304412331,\n        dataloadTemplateDescription: 304412341,\n        template: 304412351,\n        isActive: 304412361,\n        bundleFriendlyName: 304412371,\n        bundleId: 61001\n    },\n    allowedFileTypes: {\n        xlsx: 'xlsx',\n        zip: 'zip'\n    }\n};\n\nclass DataTemplateEditorComponent extends RxModalClass {\n    constructor(translateService, rxNotificationService, rxGlobalCacheService, rxRecordInstanceService, injector, dockedPanelContext, formBuilder) {\n        super(dockedPanelContext, injector);\n        this.translateService = translateService;\n        this.rxNotificationService = rxNotificationService;\n        this.rxGlobalCacheService = rxGlobalCacheService;\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.injector = injector;\n        this.dockedPanelContext = dockedPanelContext;\n        this.formBuilder = formBuilder;\n        this.destroyed$ = new ReplaySubject(1);\n        this.isEditMode = this.dockedPanelContext.getData().isEditMode;\n        this.enableCustomDownload = true;\n        this.applicationOptions$ = this.rxGlobalCacheService.getBundleDescriptors().pipe(takeUntil(this.destroyed$), map((bundleDescriptors) => {\n            return bundleDescriptors\n                .filter((bundleDescriptor) => ![RX_APPLICATION.innovationStudioBundleId, RX_APPLICATION.standardlib].includes(bundleDescriptor.id))\n                .sort((a, b) => a.friendlyName.localeCompare(b.friendlyName))\n                .map((bundleDescriptor) => ({\n                displayValue: bundleDescriptor.friendlyName,\n                value: bundleDescriptor.id\n            }));\n        }));\n        this.downloadAttachment = () => {\n            this.rxRecordInstanceService.downloadAttachment(DL_DATA_TEMPLATES.recordDefinitionName, DL_DATA_TEMPLATES.fields.template, this.dockedPanelContext.getData().templateRecordInstanceId, this.recordInstance.fieldInstances[DL_DATA_TEMPLATES.fields.template].value);\n        };\n    }\n    isDirty() {\n        return this.dataTemplateForm.dirty;\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.dataTemplateForm = this.formBuilder.group({\n            application: [[], Validators.required],\n            templateName: [null, [Validators.required, Validators.maxLength(254)]],\n            version: [null, [Validators.required, Validators.maxLength(254)]],\n            isActive: null,\n            description: [null, Validators.maxLength(500)],\n            template: [null, Validators.required]\n        });\n        this.dataTemplateForm.get('isActive').setValue(0);\n        this.busy = iif(() => this.isEditMode, this.rxRecordInstanceService.get(DL_DATA_TEMPLATES.recordDefinitionName, this.dockedPanelContext.getData().templateRecordInstanceId), this.rxRecordInstanceService.getNew(DL_DATA_TEMPLATES.recordDefinitionName))\n            .pipe(tap((recordInstance) => {\n            this.recordInstance = recordInstance;\n            if (this.isEditMode) {\n                this.setTemplateFormValues();\n            }\n        }), switchMap(() => iif(() => this.isEditMode, this.applicationOptions$.pipe(take(1)), of([]))), map((options) => find(options, {\n            displayValue: this.recordInstance.fieldInstances[DL_DATA_TEMPLATES.fields.bundleFriendlyName].value\n        })), tap((option) => {\n            if (this.isEditMode) {\n                this.dataTemplateForm.get('application').setValue([option]);\n            }\n        }))\n            .subscribe();\n    }\n    setTemplateFormValues() {\n        this.dataTemplateForm\n            .get('templateName')\n            .setValue(this.recordInstance.fieldInstances[DL_DATA_TEMPLATES.fields.templateName].value);\n        this.dataTemplateForm\n            .get('version')\n            .setValue(this.recordInstance.fieldInstances[DL_DATA_TEMPLATES.fields.dataLoadTemplateVersion].value);\n        this.dataTemplateForm\n            .get('isActive')\n            .setValue(this.recordInstance.fieldInstances[DL_DATA_TEMPLATES.fields.isActive].value);\n        this.dataTemplateForm\n            .get('description')\n            .setValue(this.recordInstance.fieldInstances[DL_DATA_TEMPLATES.fields.dataloadTemplateDescription].value);\n        this.dataTemplateForm.get('template').setValue([\n            {\n                data: new File([], this.recordInstance.fieldInstances[DL_DATA_TEMPLATES.fields.template].value),\n                inUploading: false,\n                inDeleting: false,\n                uploaded: 100,\n                error: false,\n                errorText: '',\n                allowDeletion: true\n            }\n        ]);\n    }\n    optionFormatter(option) {\n        return option.displayValue;\n    }\n    saveTemplate() {\n        this.recordInstance.setFieldValue(DL_DATA_TEMPLATES.fields.bundleFriendlyName, this.dataTemplateForm.get('application').value[0].displayValue);\n        this.recordInstance.setFieldValue(DL_DATA_TEMPLATES.fields.bundleId, this.dataTemplateForm.get('application').value[0].value);\n        this.recordInstance.setFieldValue(DL_DATA_TEMPLATES.fields.templateName, this.dataTemplateForm.get('templateName').value);\n        this.recordInstance.setFieldValue(DL_DATA_TEMPLATES.fields.dataLoadTemplateVersion, this.dataTemplateForm.get('version').value);\n        this.recordInstance.setFieldValue(DL_DATA_TEMPLATES.fields.isActive, this.dataTemplateForm.get('isActive').value);\n        this.recordInstance.setFieldValue(DL_DATA_TEMPLATES.fields.dataloadTemplateDescription, this.dataTemplateForm.get('description').value);\n        this.recordInstance.setFieldValue(DL_DATA_TEMPLATES.fields.template, this.dataTemplateForm.get('template').value[0].data);\n        if (this.isEditMode) {\n            this.rxRecordInstanceService.save(this.recordInstance).subscribe(() => this.successCallback());\n        }\n        else {\n            this.rxRecordInstanceService.create(this.recordInstance).subscribe(() => this.successCallback());\n        }\n    }\n    onRemovedFileFromQueue() {\n        this.enableCustomDownload = false;\n    }\n    cancel() {\n        this.dockedPanelContext.dismiss(DismissReasons.CLOSE_BTN);\n    }\n    successCallback() {\n        this.rxNotificationService.addSuccessMessage(this.translateService.instant('com.bmc.arsys.rx.client.dataload.templates.template-saved.message'));\n        this.dockedPanelContext.close(null);\n    }\n    getAllowedTypes() {\n        return [DL_DATA_TEMPLATES.allowedFileTypes.xlsx, DL_DATA_TEMPLATES.allowedFileTypes.zip];\n    }\n    ngOnDestroy() {\n        this.destroyed$.next();\n        this.destroyed$.complete();\n    }\n}\nDataTemplateEditorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataTemplateEditorComponent, deps: [{ token: i2.TranslateService }, { token: i2$1.RxNotificationService }, { token: i2$1.RxGlobalCacheService }, { token: i5.RxRecordInstanceService }, { token: i0.Injector }, { token: i4.DockedPanelContext }, { token: i6.FormBuilder }], target: i0.ɵɵFactoryTarget.Component });\nDataTemplateEditorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: DataTemplateEditorComponent, selector: \"dl-data-template-editor\", usesInheritance: true, ngImport: i0, template: \"<rx-busy-indicator [options]=\\\"{ busy: busy }\\\"></rx-busy-indicator>\\n\\n<div class=\\\"dp-body\\\">\\n  <form [formGroup]=\\\"dataTemplateForm\\\">\\n    <adapt-rx-select\\n      class=\\\"form-group d-block\\\"\\n      label=\\\"{{ 'com.bmc.arsys.rx.client.common.application.label' | translate }}\\\"\\n      rx-id=\\\"application\\\"\\n      formControlName=\\\"application\\\"\\n      [options]=\\\"applicationOptions$ | async\\\"\\n      [optionFormatter]=\\\"optionFormatter\\\"\\n      [autofocus]=\\\"true\\\"\\n    >\\n    </adapt-rx-select>\\n\\n    <adapt-rx-textfield\\n      class=\\\"form-group d-block\\\"\\n      rx-id=\\\"template-name\\\"\\n      label=\\\"{{ 'com.bmc.arsys.rx.client.dataload.templates.template-name.label' | translate }}\\\"\\n      formControlName=\\\"templateName\\\"\\n    >\\n    </adapt-rx-textfield>\\n\\n    <adapt-rx-textfield\\n      class=\\\"form-group d-block\\\"\\n      rx-id=\\\"version\\\"\\n      label=\\\"{{ 'com.bmc.arsys.rx.client.common.version.label' | translate }}\\\"\\n      formControlName=\\\"version\\\"\\n    >\\n    </adapt-rx-textfield>\\n\\n    <adapt-rx-radiobutton-group\\n      formControlName=\\\"isActive\\\"\\n      label=\\\"{{ 'com.bmc.arsys.rx.client.dataload.templates.is-active-template.label' | translate }}\\\"\\n    >\\n      <adapt-rx-radiobutton\\n        [value]=\\\"1\\\"\\n        label=\\\"{{ 'com.bmc.arsys.rx.client.common.yes.label' | translate }}\\\"\\n      ></adapt-rx-radiobutton>\\n\\n      <adapt-rx-radiobutton\\n        [value]=\\\"0\\\"\\n        label=\\\"{{ 'com.bmc.arsys.rx.client.common.no.label' | translate }}\\\"\\n      ></adapt-rx-radiobutton>\\n    </adapt-rx-radiobutton-group>\\n\\n    <adapt-rx-textarea\\n      class=\\\"form-group d-block\\\"\\n      rx-id=\\\"description\\\"\\n      label=\\\"{{ 'com.bmc.arsys.rx.client.common.description.label' | translate }}\\\"\\n      formControlName=\\\"description\\\"\\n      rows=\\\"4\\\"\\n    >\\n    </adapt-rx-textarea>\\n\\n    <adapt-rx-uploader\\n      label=\\\"{{ 'com.bmc.arsys.rx.client.common.template.label' | translate }}\\\"\\n      formControlName=\\\"template\\\"\\n      [showMaxSizeRestriction]=\\\"false\\\"\\n      [enableCustomDownload]=\\\"enableCustomDownload\\\"\\n      [customDownload]=\\\"downloadAttachment\\\"\\n      (removedFileFromQueue)=\\\"onRemovedFileFromQueue()\\\"\\n      [reusable]=\\\"true\\\"\\n      [allowedTypes]=\\\"getAllowedTypes()\\\"\\n    >\\n    </adapt-rx-uploader>\\n  </form>\\n</div>\\n\\n<div class=\\\"dp-footer\\\">\\n  <button\\n    type=\\\"button\\\"\\n    adapt-button\\n    btn-type=\\\"primary\\\"\\n    rx-id=\\\"save-button\\\"\\n    class=\\\"mr-2\\\"\\n    [disabled]=\\\"dataTemplateForm.pristine || dataTemplateForm.invalid\\\"\\n    (click)=\\\"saveTemplate()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n\\n  <button type=\\\"button\\\" adapt-button (click)=\\\"cancel()\\\" btn-type=\\\"secondary\\\" rx-id=\\\"cancel-button\\\">\\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\\n  </button>\\n</div>\\n\", styles: [\":host ::ng-deep adapt-rx-uploader .adapt-uploader-file-uploaded{display:none}\\n\"], components: [{ type: i4$1.RxBusyIndicatorComponent, selector: \"rx-busy-indicator\", inputs: [\"options\"] }, { type: i4.AdaptRxSelectComponent, selector: \"adapt-rx-select\", inputs: [\"options\", \"emptyOption\", \"optionFormatter\", \"optionContentTemplate\", \"disabledOptionResolver\", \"titleFormatter\", \"focusFirst\", \"texts\", \"multiple\", \"singleSelectStyle\", \"enableFilter\", \"inline\", \"selectAllButton\", \"deselectAllButton\", \"loadMoreButton\", \"loadMoreCallback\", \"loadMoreInProgress\", \"loadingState\", \"placeholder\", \"size\", \"closeOnSelect\", \"placement\", \"appendToBody\", \"popupMaxHeight\", \"popupClass\", \"pageSize\", \"ariaInvalid\", \"virtualScroll\", \"virtualScrollItemSize\", \"virtualScrollTemplateCacheSize\", \"minBufferPx\", \"maxBufferPx\"], outputs: [\"onSelectionChange\", \"onPopupOpenChange\", \"onFilterValueChange\"] }, { type: i4.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i4.AdaptRxRadiobuttonGroupComponent, selector: \"adapt-rx-radiobutton-group\", inputs: [\"formControlName\"] }, { type: i4.AdaptRxRadiobuttonComponent, selector: \"adapt-rx-radiobutton\", inputs: [\"name\", \"label\", \"id\", \"value\", \"checked\", \"disabled\", \"ariaLabel\", \"ariaLabeledBy\", \"ariaDescribedBy\", \"testID\", \"tabIndex\"], outputs: [\"onFocus\", \"onBlur\", \"checkedChange\"] }, { type: i4.AdaptRxTextareaComponent, selector: \"adapt-rx-textarea\", inputs: [\"rows\", \"maxRows\", \"autocomplete\", \"placeholder\", \"size\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i4.AdaptRxUploaderComponent, selector: \"adapt-rx-uploader\", inputs: [\"uploadMode\", \"selectionMode\", \"enableFileDialog\", \"allowedTypes\", \"forbiddenTypes\", \"suppressParallel\", \"filesCount\", \"allowDuplicates\", \"showUploadFolderAlert\", \"visibleFiles\", \"reusable\", \"allowDeletion\", \"customErrors\", \"indeterminateFileLoader\", \"url\", \"deleteUrl\", \"droppableArea\", \"enableCustomDownload\", \"customDownload\", \"popoverAppendToBody\", \"showTypesRestriction\", \"showMinSizeRestriction\", \"showMaxSizeRestriction\", \"showFilesCountRestriction\", \"texts\", \"icons\", \"fileErrors\", \"enableDnD\", \"maxFileSize\", \"minFileSize\", \"chunkSize\", \"testID\"], outputs: [\"beforeFileDialogOpen\", \"afterFileDialogOpen\", \"beforeFilesAdded\", \"afterFilesAdded\", \"dropped\", \"dragOver\", \"startFileUploading\", \"processFileUploading\", \"endFileUploading\", \"errorFileUploading\", \"finishedFileUploading\", \"removedFileFromQueue\", \"deletedFile\", \"cancelUploading\"] }, { type: i4.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i6.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i6.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i6.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i6.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i6.FormControlName, selector: \"[formControlName]\", inputs: [\"disabled\", \"formControlName\", \"ngModel\"], outputs: [\"ngModelChange\"] }], pipes: { \"translate\": i2.TranslatePipe, \"async\": i1$1.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataTemplateEditorComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'dl-data-template-editor',\n                    templateUrl: './data-template-editor.component.html',\n                    styleUrls: ['./data-template-editor.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i2.TranslateService }, { type: i2$1.RxNotificationService }, { type: i2$1.RxGlobalCacheService }, { type: i5.RxRecordInstanceService }, { type: i0.Injector }, { type: i4.DockedPanelContext }, { type: i6.FormBuilder }]; } });\n\nclass DataTemplatesComponent {\n    constructor(rxNotificationService, rxModalService, translateService, rxRecordInstanceService) {\n        this.rxNotificationService = rxNotificationService;\n        this.rxModalService = rxModalService;\n        this.translateService = translateService;\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.hostClass = 'd-flex mh-100 flex-column';\n        this.showDeprecated = false;\n    }\n    ngOnInit() {\n        this.gridConfig$ = of({\n            guid: 'dl-templates-grid',\n            actionButtons: [\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.common.delete.label'),\n                    style: 'tertiary',\n                    icon: 'trash',\n                    actions: [\n                        {\n                            name: () => {\n                                this.deleteSelectedDataTemplate();\n                            }\n                        }\n                    ]\n                }\n            ],\n            recordDefinitionName: DL_DATA_TEMPLATES.recordDefinitionName,\n            enableRowSelection: RowSelectionMode.Multiple,\n            columns: this.getColumns(),\n            getRecordDefinition: () => of(this.getRecordDefinition()),\n            styles: 'flex-fill'\n        });\n    }\n    deleteSelectedDataTemplate() {\n        this.rxModalService\n            .confirm({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n            modalStyle: RX_MODAL.modalStyles.default,\n            message: this.translateService.instant('com.bmc.arsys.rx.client.dataload.templates.template-delete-warning.message')\n        })\n            .then((result) => {\n            if (result) {\n                const deleteDataRequests$ = map$1(this.grid.api.getSelectedRows(), (row) => this.rxRecordInstanceService.delete(DL_DATA_TEMPLATES.recordDefinitionName, row[RX_RECORD_DEFINITION.coreFieldIds.id]));\n                forkJoin(deleteDataRequests$).subscribe(() => {\n                    this.rxNotificationService.addSuccessMessage(this.translateService.instant('com.bmc.arsys.rx.client.dataload.templates.template-delete-success.message'));\n                    this.grid.api.refresh().subscribe();\n                });\n            }\n        });\n    }\n    getColumns() {\n        return [\n            {\n                fieldId: String(DL_DATA_TEMPLATES.fields.templateName),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label'),\n                clickable: true,\n                actions: [\n                    {\n                        name: (previousAction, selectedRow) => {\n                            this.editDataTemplate(selectedRow);\n                        }\n                    }\n                ]\n            },\n            {\n                fieldId: String(DL_DATA_TEMPLATES.fields.bundleFriendlyName),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.application.label')\n            },\n            {\n                fieldId: String(DL_DATA_TEMPLATES.fields.dataloadTemplateDescription),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.description.label')\n            },\n            {\n                fieldId: String(DL_DATA_TEMPLATES.fields.dataLoadTemplateVersion),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.version.label')\n            },\n            {\n                fieldId: String(DL_DATA_TEMPLATES.fields.template),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.download.label'),\n                sortable: false,\n                filterable: false,\n                clickable: true,\n                actions: [\n                    {\n                        name: (previousAction, row) => {\n                            this.rxRecordInstanceService.downloadAttachment(DL_DATA_TEMPLATES.recordDefinitionName, DL_DATA_TEMPLATES.fields.template, row[RX_RECORD_DEFINITION.coreFieldIds.id], row[DL_DATA_TEMPLATES.fields.template]);\n                        }\n                    }\n                ]\n            },\n            {\n                fieldId: String(DL_DATA_TEMPLATES.fields.isActive),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.dataload.templates.is-active-template.label'),\n                visible: false\n            },\n            {\n                fieldId: String(RX_RECORD_DEFINITION.coreFieldIds.id),\n                title: this.translateService.instant('com.bmc.arsys.rx.client.common.id.label'),\n                visible: false\n            }\n        ];\n    }\n    editDataTemplate(selectedRow) {\n        this.openDockedPanel(true, selectedRow[RX_RECORD_DEFINITION.coreFieldIds.id]);\n    }\n    createDataTemplate() {\n        this.openDockedPanel(false);\n    }\n    openDockedPanel(isEditMode, templateRecordInstanceId) {\n        return this.rxModalService\n            .openDockedPanel({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.common.template.label'),\n            content: DataTemplateEditorComponent,\n            data: {\n                isEditMode,\n                templateRecordInstanceId\n            }\n        })\n            .then(() => {\n            this.grid.api.refresh().subscribe();\n        })\n            .catch(noop);\n    }\n    getRecordDefinition() {\n        return {\n            fieldDefinitions: [\n                {\n                    id: DL_DATA_TEMPLATES.fields.templateName,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: DL_DATA_TEMPLATES.fields.bundleFriendlyName,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: DL_DATA_TEMPLATES.fields.isActive,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.selection,\n                    optionNamesById: {\n                        1: this.translateService.instant('com.bmc.arsys.rx.client.common.yes.label'),\n                        0: this.translateService.instant('com.bmc.arsys.rx.client.common.no.label')\n                    }\n                },\n                {\n                    id: DL_DATA_TEMPLATES.fields.dataloadTemplateDescription,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: DL_DATA_TEMPLATES.fields.dataLoadTemplateVersion,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: DL_DATA_TEMPLATES.fields.template,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: RX_RECORD_DEFINITION.coreFieldIds.id,\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                }\n            ]\n        };\n    }\n}\nDataTemplatesComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataTemplatesComponent, deps: [{ token: i2$1.RxNotificationService }, { token: i4$1.RxModalService }, { token: i2.TranslateService }, { token: i5.RxRecordInstanceService }], target: i0.ɵɵFactoryTarget.Component });\nDataTemplatesComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: DataTemplatesComponent, selector: \"dl-data-templates\", host: { properties: { \"class\": \"this.hostClass\" } }, viewQueries: [{ propertyName: \"grid\", first: true, predicate: [\"grid\"], descendants: true }], ngImport: i0, template: \"<button\\n  adapt-button\\n  type=\\\"button\\\"\\n  btn-type=\\\"tertiary\\\"\\n  class=\\\"d-icon-plus_circle px-0 align-self-start\\\"\\n  rx-id=\\\"new-template-button\\\"\\n  (click)=\\\"createDataTemplate()\\\"\\n>\\n  {{ 'com.bmc.arsys.rx.client.dataload.templates.new-template.label' | translate }}\\n</button>\\n\\n<rx-record-grid #grid [config]=\\\"gridConfig$\\\"></rx-record-grid>\\n\", styles: [\":host{display:block;padding:1rem;height:100%}:host::ng-deep rx-record-grid{height:100%}\\n\"], components: [{ type: i4.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i9.RecordGridComponent, selector: \"rx-record-grid\", inputs: [\"config\"], outputs: [\"dataLoaded\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataTemplatesComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'dl-data-templates',\n                    templateUrl: './data-templates.component.html',\n                    styleUrls: ['./data-templates.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i2$1.RxNotificationService }, { type: i4$1.RxModalService }, { type: i2.TranslateService }, { type: i5.RxRecordInstanceService }]; }, propDecorators: { hostClass: [{\n                type: HostBinding,\n                args: ['class']\n            }], grid: [{\n                type: ViewChild,\n                args: ['grid']\n            }] } });\n\nclass DataTemplatesRegistrationModule {\n    constructor(componentFactoryResolver, rxViewComponentRegistryService) {\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        rxViewComponentRegistryService.register({\n            type: 'dl-dataload-data-templates',\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(DataTemplatesComponent),\n            name: 'Data templates',\n            isPageComponent: true,\n            availableInBundles: [RX_APPLICATION.dataloadBundleId]\n        });\n    }\n}\nDataTemplatesRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataTemplatesRegistrationModule, deps: [{ token: i0.ComponentFactoryResolver }, { token: i1$2.RxViewComponentRegistryService }], target: i0.ɵɵFactoryTarget.NgModule });\nDataTemplatesRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataTemplatesRegistrationModule, declarations: [DataTemplatesComponent, DataTemplateEditorComponent], imports: [AdaptButtonModule,\n        CommonModule,\n        FormsModule,\n        TranslateModule,\n        RecordGridModule,\n        AdaptRxSelectModule,\n        ReactiveFormsModule,\n        AdaptRxTextfieldModule,\n        AdaptRxRadiobuttonModule,\n        AdaptRxUploaderModule,\n        AdaptRxTextareaModule,\n        RxBusyIndicatorModule] });\nDataTemplatesRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataTemplatesRegistrationModule, imports: [[\n            AdaptButtonModule,\n            CommonModule,\n            FormsModule,\n            TranslateModule,\n            RecordGridModule,\n            AdaptRxSelectModule,\n            ReactiveFormsModule,\n            AdaptRxTextfieldModule,\n            AdaptRxRadiobuttonModule,\n            AdaptRxUploaderModule,\n            AdaptRxTextareaModule,\n            RxBusyIndicatorModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataTemplatesRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [DataTemplatesComponent, DataTemplateEditorComponent],\n                    imports: [\n                        AdaptButtonModule,\n                        CommonModule,\n                        FormsModule,\n                        TranslateModule,\n                        RecordGridModule,\n                        AdaptRxSelectModule,\n                        ReactiveFormsModule,\n                        AdaptRxTextfieldModule,\n                        AdaptRxRadiobuttonModule,\n                        AdaptRxUploaderModule,\n                        AdaptRxTextareaModule,\n                        RxBusyIndicatorModule\n                    ],\n                    entryComponents: [DataTemplatesComponent]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ComponentFactoryResolver }, { type: i1$2.RxViewComponentRegistryService }]; } });\n\nclass DataloadModule {\n}\nDataloadModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataloadModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nDataloadModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataloadModule, imports: [DataImportRegistrationModule, DataExportRegistrationModule, DataTemplatesRegistrationModule] });\nDataloadModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataloadModule, providers: [], imports: [[DataImportRegistrationModule, DataExportRegistrationModule, DataTemplatesRegistrationModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DataloadModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [DataImportRegistrationModule, DataExportRegistrationModule, DataTemplatesRegistrationModule],\n                    providers: [],\n                    declarations: []\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { DataImportComponent, DataImportRegistrationModule, DataloadModule };\n//# sourceMappingURL=helix-platform-dataload-components.js.map\n","import * as i0 from '@angular/core';\nimport { Injectable, NgModule, Component, HostListener, Input, ViewChild } from '@angular/core';\nimport * as i1$1 from '@helix/platform/view/api';\nimport { ApplyGridFilterMode, RecordGridNamedFilterOptionKey, OpenViewActionModalSize, OpenViewActionType, OpenViewActionLaunchBehavior, RxViewDefinitionCacheService, ViewComponentPropertyType, RowDataItemIdFieldName, RX_VIEW_DEFINITION, RxViewComponentType, RX_LAUNCH_BEHAVIOR } from '@helix/platform/view/api';\nimport * as i1$4 from '@helix/platform/shared/api';\nimport { Tooltip, RX_APPLICATION, RxDefinitionNameService, RX_ERROR_HANDLING, RX_ADMINISTRATION, ExpressionOperatorGroup, RX_DESIGNER } from '@helix/platform/shared/api';\nimport * as i1 from '@helix/platform/utils';\nimport { RxError } from '@helix/platform/utils';\nimport { EMPTY, throwError, merge, of, combineLatest, from, forkJoin, concat, isObservable, defer, ReplaySubject } from 'rxjs';\nimport * as i3$3 from '@helix/platform/view/designer';\nimport { RxViewDesignerActionModel, ViewDesignerFacade, RxViewActionExpressionConfigurator, RxViewDataDictionaryService } from '@helix/platform/view/designer';\nimport { ExpressionFormControlComponent, RadioFormControlComponent, ValidationFormControlComponent, MessageType, RxDefinitionPickerComponent, RxDefinitionPickerType, SelectFormControlComponent, TextFormControlComponent, SwitchFormControlComponent, ValueAccessor, DefinitionPickerOrExpressionFormControlComponent, RxIframeModule } from '@helix/platform/shared/components';\nimport { first, withLatestFrom, pluck, takeUntil, distinctUntilChanged, skip, map, filter, switchMap, take, catchError, switchMapTo, mapTo, shareReplay, tap, defaultIfEmpty } from 'rxjs/operators';\nimport * as i2 from '@helix/platform/view/components';\nimport { RxRecordGridDesignUtilsService, RxRecordGridFilterSelectHelperService, RX_RECORD_GRID, RecordGridFilterSelectControlComponent, RecordEditorMode, ContainerRowWrap, RxAssociationEditingMode } from '@helix/platform/view/components';\nimport * as i4 from '@helix/platform/record/api';\nimport { RxRecordDefinitionCacheService, RX_RECORD_DEFINITION, RX_RECORD_INSTANCE } from '@helix/platform/record/api';\nimport { omit, includes, transform, isObject, defaults, flow, map as map$1, flatten, compact, uniq, get, isFunction, isArray, some, isEmpty, castArray, noop, forEach, forIn, isNull, values, has, pick, filter as filter$1, assign, isNil, isEqual, last, reduce, keys, sortBy, cloneDeep } from 'lodash';\nimport * as i1$3 from '@helix/platform/association/api';\nimport { RX_ASSOCIATED_RECORD_NODE_SIDES, RX_ASSOCIATION_DEFINITION, RxAssociationDefinitionService, RxAssociatedRecordNodeSide } from '@helix/platform/association/api';\nimport * as i2$1 from '@angular/router';\nimport * as i1$2 from '@bmc-ux/adapt-angular';\nimport { DismissReasons, DockedPanelDirection, AdaptDockedPanelModule, AdaptIconModule, AdaptRxTextareaModule, AdaptRxCheckboxModule, AdaptRxLabelModule, AdaptTreeModule, AdaptDropdownModule } from '@bmc-ux/adapt-angular';\nimport * as i3 from '@helix/platform/view/runtime';\nimport { RuntimeViewModalComponent, RuntimeViewModule } from '@helix/platform/view/runtime';\nimport * as i2$3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i4$1 from '@ngx-translate/core';\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\nimport * as i2$2 from '@helix/platform/ui-kit';\nimport { RX_MODAL } from '@helix/platform/ui-kit';\nimport * as i3$1 from '@angular/forms';\nimport { FormsModule, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport * as i3$2 from '@helix/platform/process/api';\nimport { RxProcessDefinitionCacheService, RX_PROCESS_DEFINITION, RxProcessApiModule } from '@helix/platform/process/api';\nimport * as i4$2 from '@angular/platform-browser';\n\nconst RxApplyGridFilterActionName = 'rxApplyGridFilterAction';\n\nclass RxApplyGridFilterViewActionService {\n    execute(params) {\n        if (params.targetApi) {\n            if (params.targetApi.applyFilters) {\n                params.targetApi.applyFilters(params.filters, params.mode);\n                return EMPTY;\n            }\n            else {\n                throwError(new RxError(`${RxApplyGridFilterActionName}: target component does not support applyFilters API.`));\n            }\n            return EMPTY;\n        }\n        else {\n            return throwError(new RxError('rxApplyGridFilterAction: component is not specified.'));\n        }\n    }\n}\nRxApplyGridFilterViewActionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplyGridFilterViewActionService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxApplyGridFilterViewActionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplyGridFilterViewActionService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplyGridFilterViewActionService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RxApplyGridFilterViewActionDesignModelClass extends RxViewDesignerActionModel {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.injector = injector;\n        this.sandbox = sandbox;\n        this.viewDesignerFacade = this.injector.get(ViewDesignerFacade);\n        this.rxRecordDefinitionCacheService = this.injector.get(RxRecordDefinitionCacheService);\n        this.rxRecordGridDesignUtilsService = this.injector.get(RxRecordGridDesignUtilsService);\n        this.rxRecordGridFilterSelectHelperService = this.injector.get(RxRecordGridFilterSelectHelperService);\n        // set initial filters select value from child filter components\n        this.sandbox.children$\n            .pipe(first(), withLatestFrom(this.sandbox.actionProperties$.pipe(pluck('filters'))), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([filterComponents, filtersJson]) => {\n            const basicFilters = this.rxRecordGridDesignUtilsService.getBasicRecordGridFiltersFromChildData(filterComponents);\n            this.sandbox.updateActionProperties({\n                filterValue: {\n                    basicFilters,\n                    filtersJson\n                }\n            });\n        });\n        const filterValue$ = this.sandbox.actionProperties$.pipe(pluck('filterValue'), distinctUntilChanged());\n        // set filters data on filter select change\n        filterValue$.pipe(skip(1), takeUntil(this.sandbox.destroyed$)).subscribe(({ filtersJson, basicFilters }) => {\n            const filterPayloads = this.rxRecordGridDesignUtilsService.getGridFilterComponentPayloads(basicFilters);\n            this.sandbox.setChildren(filterPayloads);\n            this.sandbox.updateActionProperties({\n                filters: filtersJson\n            });\n        });\n        const mode$ = this.sandbox.actionProperties$.pipe(pluck('mode'), distinctUntilChanged());\n        const targetApi$ = this.sandbox.actionProperties$.pipe(pluck('targetApi'), distinctUntilChanged());\n        const gridGuid$ = targetApi$.pipe(map(RxApplyGridFilterViewActionDesignModelClass.extractGuidFromExpression));\n        // reset filters after grid change or when clear mode is selected\n        merge(gridGuid$.pipe(skip(1)), mode$.pipe(filter((mode) => mode === ApplyGridFilterMode.Clear)))\n            .pipe(takeUntil(this.sandbox.destroyed$))\n            .subscribe(() => {\n            this.sandbox.updateActionProperties({\n                filterValue: {\n                    basicFilters: null,\n                    filtersJson: null\n                }\n            });\n        });\n        const gridProperties$ = gridGuid$.pipe(switchMap((guid) => (guid ? this.viewDesignerFacade.getComponent(guid) : of(null))), map((item) => ((item === null || item === void 0 ? void 0 : item.type) === RX_RECORD_GRID.type ? item.data : null)));\n        const recordDefinition$ = gridProperties$.pipe(map((item) => { var _a; return (_a = item === null || item === void 0 ? void 0 : item.recordDefinitionName) !== null && _a !== void 0 ? _a : null; }), switchMap((recordDefinitionName) => recordDefinitionName ? this.rxRecordDefinitionCacheService.getRecordDefinition(recordDefinitionName) : of(null)));\n        const gridColumns$ = gridProperties$.pipe(map((gridData) => { var _a; return (_a = gridData === null || gridData === void 0 ? void 0 : gridData.columns) !== null && _a !== void 0 ? _a : []; }));\n        const recordDefinitionFiltered$ = recordDefinition$.pipe(withLatestFrom(gridColumns$), map(([recordDefinition, columns]) => {\n            const fieldIds = columns.filter((col) => col.filterable).map((col) => col.fieldId);\n            return recordDefinition\n                ? Object.assign(Object.assign({}, recordDefinition), { fieldDefinitions: recordDefinition.fieldDefinitions.filter((definition) => fieldIds.includes(String(definition.id))) }) : null;\n        }));\n        const namedFilterOptionsMap$ = gridColumns$.pipe(map((columns) => this.rxRecordGridFilterSelectHelperService.getNamedFilterOptionsFromColumns(columns)));\n        combineLatest([recordDefinitionFiltered$, mode$])\n            .pipe(withLatestFrom(namedFilterOptionsMap$, gridColumns$), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([[recordDefinition, mode], namedFilterOptions, columns]) => {\n            this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig(recordDefinition, namedFilterOptions, mode, columns));\n        });\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign({ targetApi: null, mode: ApplyGridFilterMode.Append, filterValue: {\n                filtersJson: null,\n                basicFilters: null\n            } }, initialProperties);\n    }\n    getPropertiesByName() {\n        return omit(super.getPropertiesByName(), 'filterValue');\n    }\n    getActionEditorConfig(recordDefinition, namedFilterOptions, mode, columns) {\n        const tooltip = new Tooltip('<b>Begin</b><p>Begin a batch of filter updates.</p><br><b>Append</b><p>Applied filters are added with the AND operator; existing filters for the specified fields are removed.</p><br><b>Remove</b><p>Existing filters are removed if they match the applied filters.</p><br><b>Overwrite</b><p>All existing filters are replaced with the applied filters.</p><br><b>Merge</b><p>Existing filters with a range of values are replaced with the matching applied filters; existing filters for the other fields are combined with the matching applied filters using the OR operator; applied filters for new fields are added with the AND operator.</p><br><b>Clear</b><p>All existing filters are removed.</p><br><b>End</b><p>Apply all pending filter updates executed in a batch.</p>');\n        tooltip.maxWidth = 310;\n        const controls = [\n            {\n                name: 'targetApi',\n                component: ExpressionFormControlComponent,\n                options: {\n                    label: 'Record grid',\n                    dataDictionary$: this.expressionConfigurator.getDataDictionary(),\n                    operators: this.expressionConfigurator.getOperators(),\n                    isRequired: true\n                }\n            },\n            {\n                name: 'mode',\n                component: RadioFormControlComponent,\n                options: {\n                    label: 'Mode',\n                    tooltip,\n                    items: [\n                        { label: 'Begin', value: ApplyGridFilterMode.Begin },\n                        { label: 'Append', value: ApplyGridFilterMode.Append },\n                        { label: 'Remove', value: ApplyGridFilterMode.Remove },\n                        { label: 'Overwrite', value: ApplyGridFilterMode.Overwrite },\n                        { label: 'Merge', value: ApplyGridFilterMode.Merge },\n                        { label: 'Clear', value: ApplyGridFilterMode.Clear },\n                        { label: 'End', value: ApplyGridFilterMode.End }\n                    ]\n                }\n            }\n        ];\n        const filterSelectControl = {\n            name: 'filterValue',\n            component: RecordGridFilterSelectControlComponent,\n            options: {\n                primaryRecordDefinition: recordDefinition,\n                selectedFieldIds: columns.map((column) => column.fieldId),\n                namedFilterOptions,\n                anchorDisabled: !recordDefinition\n            }\n        };\n        const emptyFilterMessageControl = {\n            name: 'emptyFilterMessage',\n            component: ValidationFormControlComponent,\n            options: {\n                text: 'Record grid expression required to define a filter.',\n                messageType: MessageType.Error,\n                customStyle: { 'margin-top': '-1rem' }\n            }\n        };\n        if (!includes([ApplyGridFilterMode.Begin, ApplyGridFilterMode.End, ApplyGridFilterMode.Clear], mode)) {\n            controls.push(filterSelectControl);\n            if (!recordDefinition) {\n                controls.push(emptyFilterMessageControl);\n            }\n        }\n        return controls;\n    }\n    static extractGuidFromExpression(val) {\n        var _a;\n        const matches = val === null || val === void 0 ? void 0 : val.match(/^\\${view\\.components\\.([0-9a-z-]+)\\.api}$/);\n        return (_a = (matches && matches[1])) !== null && _a !== void 0 ? _a : null;\n    }\n}\n\nclass RxApplyGridFilterViewActionDefinitionAdapterService {\n    constructor(rxJsonParserService, rxRecordGridFilterHelperService) {\n        this.rxJsonParserService = rxJsonParserService;\n        this.rxRecordGridFilterHelperService = rxRecordGridFilterHelperService;\n    }\n    adaptDefinition({ componentDefinitions, propertiesByName }) {\n        const recordGridFilters = componentDefinitions.map((definition) => {\n            let value = definition.propertiesByName.value;\n            const parsedValue = this.rxJsonParserService.tryParseJson(value);\n            if (parsedValue && parsedValue[RecordGridNamedFilterOptionKey]) {\n                value = parsedValue;\n            }\n            return {\n                guid: definition.guid,\n                fieldId: definition.propertiesByName.fieldId,\n                value\n            };\n        });\n        // @ts-ignore - converting type\n        propertiesByName.filters = this.rxRecordGridFilterHelperService.getRecordGridFilterDataFromPredefinedFilter(propertiesByName.filters, recordGridFilters);\n    }\n}\nRxApplyGridFilterViewActionDefinitionAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplyGridFilterViewActionDefinitionAdapterService, deps: [{ token: i1.RxJsonParserService }, { token: i2.RxRecordGridFilterHelperService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxApplyGridFilterViewActionDefinitionAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplyGridFilterViewActionDefinitionAdapterService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplyGridFilterViewActionDefinitionAdapterService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.RxJsonParserService }, { type: i2.RxRecordGridFilterHelperService }]; } });\n\nclass ApplyGridFilterViewActionModule {\n    constructor(rxViewActionRegistryService, rxApplyGridFilterViewActionService, rxApplyGridFilterViewActionDefinitionAdapterService, rxViewActionDefinitionAdapterRegistryService) {\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxApplyGridFilterViewActionService = rxApplyGridFilterViewActionService;\n        this.rxApplyGridFilterViewActionDefinitionAdapterService = rxApplyGridFilterViewActionDefinitionAdapterService;\n        this.rxViewActionDefinitionAdapterRegistryService = rxViewActionDefinitionAdapterRegistryService;\n        this.rxViewActionRegistryService.register({\n            name: RxApplyGridFilterActionName,\n            label: 'Apply grid filter',\n            bundleId: RX_APPLICATION.platformBundleId,\n            service: rxApplyGridFilterViewActionService,\n            designModel: RxApplyGridFilterViewActionDesignModelClass,\n            parameters: [\n                {\n                    name: 'targetApi',\n                    label: 'Record grid',\n                    isRequired: true,\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'mode',\n                    label: 'Mode'\n                },\n                {\n                    name: 'filters'\n                }\n            ]\n        });\n        rxViewActionDefinitionAdapterRegistryService.registerRuntimeAdapter(RxApplyGridFilterActionName, this.rxApplyGridFilterViewActionDefinitionAdapterService);\n    }\n}\nApplyGridFilterViewActionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApplyGridFilterViewActionModule, deps: [{ token: i1$1.RxViewActionRegistryService }, { token: RxApplyGridFilterViewActionService }, { token: RxApplyGridFilterViewActionDefinitionAdapterService }, { token: i1$1.RxViewActionDefinitionAdapterRegistryService }], target: i0.ɵɵFactoryTarget.NgModule });\nApplyGridFilterViewActionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApplyGridFilterViewActionModule });\nApplyGridFilterViewActionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApplyGridFilterViewActionModule });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApplyGridFilterViewActionModule, decorators: [{\n            type: NgModule\n        }], ctorParameters: function () { return [{ type: i1$1.RxViewActionRegistryService }, { type: RxApplyGridFilterViewActionService }, { type: RxApplyGridFilterViewActionDefinitionAdapterService }, { type: i1$1.RxViewActionDefinitionAdapterRegistryService }]; } });\n\nconst RX_OPEN_VIEW = {\n    actionName: 'rxOpenViewAction',\n    modalSize: OpenViewActionModalSize,\n    type: OpenViewActionType,\n    launchBehavior: OpenViewActionLaunchBehavior\n};\n\nclass RxOpenViewActionService {\n    constructor(adaptDockedPanelService, adaptModalService, router, rxRuntimeViewUtilsService, rxViewActionUtilsService) {\n        this.adaptDockedPanelService = adaptDockedPanelService;\n        this.adaptModalService = adaptModalService;\n        this.router = router;\n        this.rxRuntimeViewUtilsService = rxRuntimeViewUtilsService;\n        this.rxViewActionUtilsService = rxViewActionUtilsService;\n    }\n    execute(params) {\n        const inputParams = transform(params.viewParams, (result, value, key) => {\n            result[key] = isObject(value) ? JSON.stringify(value) : String(value !== null && value !== void 0 ? value : '');\n        }, {});\n        return this.rxRuntimeViewUtilsService.isViewCancellable(params.viewDefinitionName).pipe(switchMap((isViewCancellable) => {\n            let runtimeViewApi;\n            const modalData = {\n                configuration: {\n                    viewDefinitionName: params.viewDefinitionName,\n                    inputParams: inputParams,\n                    onRegisterApi(api) {\n                        runtimeViewApi = api;\n                    }\n                },\n                title: params.presentation.title,\n                notification: params.presentation.notification,\n                isCancellable: isViewCancellable\n            };\n            const modalConfig = {\n                beforeDismiss: (reason) => {\n                    // determine if the view is being closed programmatically,\n                    // i.e. via executing the Close View action.\n                    const isCloseViewAction = !Object.values(DismissReasons).includes(reason);\n                    // do not close modal/blade when user clicked on backdrop except when view is cancellable\n                    if (!isCloseViewAction && (reason !== DismissReasons.BACKDROP_CLICK || isViewCancellable)) {\n                        runtimeViewApi\n                            .cancel()\n                            .pipe(take(1), catchError((error) => (error ? throwError(error) : EMPTY)))\n                            .subscribe();\n                    }\n                    // only allow to close view if dismiss is triggered by close view action with act as cancel\n                    return isCloseViewAction;\n                },\n                blockKeyboard: !isViewCancellable,\n                content: RuntimeViewModalComponent,\n                size: params.presentation.modalSize,\n                data: modalData\n            };\n            switch (params.presentation.type) {\n                case RX_OPEN_VIEW.type.FullWidth: {\n                    return this.openFullWidth(params.presentation.launchBehavior, params.viewDefinitionName, inputParams);\n                }\n                case RX_OPEN_VIEW.type.CenteredModal: {\n                    return this.adaptModalService.open(modalConfig);\n                }\n                case RX_OPEN_VIEW.type.DockedLeftModal: {\n                    return this.adaptDockedPanelService.open(defaults({ direction: DockedPanelDirection.LEFT }, modalConfig));\n                }\n                case RX_OPEN_VIEW.type.DockedRightModal: {\n                    return this.adaptDockedPanelService.open(defaults({ direction: DockedPanelDirection.RIGHT }, modalConfig));\n                }\n                default: {\n                    return this.openFullWidth(params.presentation.launchBehavior, params.viewDefinitionName, inputParams);\n                }\n            }\n        }));\n    }\n    openFullWidth(launchBehavior, viewDefinitionName, inputParams) {\n        const url = this.rxViewActionUtilsService.generateViewUrl(viewDefinitionName, inputParams);\n        if (launchBehavior === RX_OPEN_VIEW.launchBehavior.NewWindow) {\n            window.open(`${window.location.pathname}#${url}`);\n            return throwError(null);\n        }\n        else {\n            return from(this.router.navigateByUrl(url)).pipe(switchMapTo(throwError(null)));\n        }\n    }\n}\nRxOpenViewActionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOpenViewActionService, deps: [{ token: i1$2.AdaptDockedPanelService }, { token: i1$2.AdaptModalService }, { token: i2$1.Router }, { token: i3.RxRuntimeViewUtilsService }, { token: i1$1.RxViewActionUtilsService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxOpenViewActionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOpenViewActionService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOpenViewActionService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$2.AdaptDockedPanelService }, { type: i1$2.AdaptModalService }, { type: i2$1.Router }, { type: i3.RxRuntimeViewUtilsService }, { type: i1$1.RxViewActionUtilsService }]; } });\n\nclass RxAssociateViewActionService {\n    constructor(rxAssociationInstanceService, rxOpenViewActionService, rxAssociationDefinitionService, rxLogService, rxViewActionUtilsService) {\n        this.rxAssociationInstanceService = rxAssociationInstanceService;\n        this.rxOpenViewActionService = rxOpenViewActionService;\n        this.rxAssociationDefinitionService = rxAssociationDefinitionService;\n        this.rxLogService = rxLogService;\n        this.rxViewActionUtilsService = rxViewActionUtilsService;\n    }\n    execute(params) {\n        if (!params.associatedRecordId) {\n            return throwError(new RxError('rxAssociateAction: Associated Record ID is not defined.'));\n        }\n        return forkJoin([\n            this.getInstanceIds(params),\n            this.rxAssociationDefinitionService.get(params.associationDefinitionName)\n        ]).pipe(switchMap(([instanceIds, associationDefinition]) => {\n            let nodeAIds = [];\n            let nodeBIds = [];\n            if (instanceIds.length) {\n                if (params.associationDefinitionRole === RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.value) {\n                    nodeAIds = instanceIds;\n                    nodeBIds = [params.associatedRecordId];\n                }\n                else if (params.associationDefinitionRole === RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value) {\n                    nodeAIds = [params.associatedRecordId];\n                    nodeBIds = instanceIds;\n                }\n                if (associationDefinition.cardinality === RX_ASSOCIATION_DEFINITION.cardinality.oneToOne.value) {\n                    nodeAIds = nodeAIds[0];\n                    nodeBIds = nodeBIds[0];\n                }\n                else if (associationDefinition.cardinality === RX_ASSOCIATION_DEFINITION.cardinality.oneToMany.value) {\n                    nodeAIds = nodeAIds[0];\n                }\n                return this.rxAssociationInstanceService\n                    .associateRecords(params.associationDefinitionName, nodeAIds, nodeBIds, params.useDefaultRoles, params.nodeARole, params.nodeBRole)\n                    .pipe(mapTo(instanceIds));\n            }\n            return of(instanceIds);\n        }));\n    }\n    getInstanceIds(params) {\n        return this.rxOpenViewActionService\n            .execute({\n            presentation: {\n                modalSize: RX_OPEN_VIEW.modalSize.Large,\n                type: RX_OPEN_VIEW.type.DockedRightModal\n            },\n            viewDefinitionName: params.viewDefinitionName,\n            viewParams: null\n        })\n            .pipe(map((output) => {\n            const instanceIds = flow((outs) => map$1(outs, (out) => this.rxViewActionUtilsService.extractRecordIds(out)), flatten, compact, uniq)(output);\n            this.rxLogService.debug(`RxAssociateAction: associating ${instanceIds.length} record(s)`);\n            return instanceIds;\n        }));\n    }\n}\nRxAssociateViewActionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAssociateViewActionService, deps: [{ token: i1$3.RxAssociationInstanceService }, { token: RxOpenViewActionService }, { token: i1$3.RxAssociationDefinitionService }, { token: i1$4.RxLogService }, { token: i1$1.RxViewActionUtilsService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxAssociateViewActionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAssociateViewActionService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAssociateViewActionService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$3.RxAssociationInstanceService }, { type: RxOpenViewActionService }, { type: i1$3.RxAssociationDefinitionService }, { type: i1$4.RxLogService }, { type: i1$1.RxViewActionUtilsService }]; } });\n\nclass RxOpenViewDefinitionAdapterService {\n    constructor() {\n        this.modalSizeMap = {\n            small: RX_OPEN_VIEW.modalSize.Small,\n            medium: RX_OPEN_VIEW.modalSize.Medium,\n            large: RX_OPEN_VIEW.modalSize.Large\n        };\n    }\n    adaptDefinition(viewComponentDefinition) {\n        const propertiesByName = get(viewComponentDefinition, 'propertiesByName', {});\n        if (propertiesByName.name === RX_OPEN_VIEW.actionName) {\n            const modalSize = propertiesByName.presentation.modalSize;\n            if (this.modalSizeMap[modalSize]) {\n                propertiesByName.presentation.modalSize = this.modalSizeMap[modalSize];\n            }\n        }\n    }\n}\nRxOpenViewDefinitionAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOpenViewDefinitionAdapterService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxOpenViewDefinitionAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOpenViewDefinitionAdapterService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOpenViewDefinitionAdapterService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nconst RX_OPEN_VIEW_MODAL_SIZE_OPTIONS = [\n    {\n        id: OpenViewActionModalSize.Xsmall,\n        name: 'Extra Small (450 px)'\n    },\n    {\n        id: OpenViewActionModalSize.Small,\n        name: 'Small (650 px)'\n    },\n    {\n        id: OpenViewActionModalSize.Medium,\n        name: 'Medium (800 px)'\n    },\n    {\n        id: OpenViewActionModalSize.Large,\n        name: 'Large (1024 px)'\n    },\n    {\n        id: OpenViewActionModalSize.Xlarge,\n        name: 'Extra Large (1200 px)'\n    },\n    {\n        id: OpenViewActionModalSize.Xxlarge,\n        name: 'Extra Extra Large (1600 px)'\n    },\n    {\n        id: OpenViewActionModalSize.FullSize,\n        name: 'Full Size'\n    }\n];\nconst RX_OPEN_VIEW_TYPE_OPTIONS = [\n    {\n        id: OpenViewActionType.FullWidth,\n        name: 'Full width'\n    },\n    {\n        id: OpenViewActionType.CenteredModal,\n        name: 'Centered modal'\n    },\n    {\n        id: OpenViewActionType.DockedLeftModal,\n        name: 'Docked left modal'\n    },\n    {\n        id: OpenViewActionType.DockedRightModal,\n        name: 'Docked right modal'\n    }\n];\nconst RX_OPEN_VIEW_LAUNCH_BEHAVIOR_OPTIONS = [\n    {\n        id: OpenViewActionLaunchBehavior.NewWindow,\n        name: 'Open in a new tab'\n    },\n    {\n        id: OpenViewActionLaunchBehavior.SameWindow,\n        name: 'Open in the same tab'\n    }\n];\n\nclass RxOpenViewModelHelperService {\n    getOpenViewInspector(inputParams, presentationType, presentationModalSize, expressionConfigurator) {\n        const viewInputControls = inputParams.map((param) => ({\n            name: `viewParams.${param.name}`,\n            component: ExpressionFormControlComponent,\n            options: {\n                label: param.name,\n                dataDictionary$: expressionConfigurator.getDataDictionary(param.name),\n                operators: expressionConfigurator.getOperators(param.name)\n            }\n        }));\n        const isFullWidthType = presentationType === OpenViewActionType.FullWidth;\n        const isCenteredModalWithFullSize = presentationType === OpenViewActionType.CenteredModal &&\n            presentationModalSize === OpenViewActionModalSize.FullSize;\n        return [\n            {\n                name: 'viewDefinitionName',\n                component: RxDefinitionPickerComponent,\n                options: {\n                    label: 'View',\n                    required: true,\n                    definitionType: RxDefinitionPickerType.View\n                }\n            },\n            ...viewInputControls,\n            {\n                name: 'presentation.type',\n                component: SelectFormControlComponent,\n                options: {\n                    label: 'Presentation',\n                    tooltip: new Tooltip('Select how to display the view in the application.'),\n                    options: RX_OPEN_VIEW_TYPE_OPTIONS,\n                    sortAlphabetically: false\n                }\n            },\n            ...(isFullWidthType\n                ? [\n                    {\n                        name: 'presentation.launchBehavior',\n                        component: SelectFormControlComponent,\n                        options: {\n                            label: 'Launch behavior',\n                            options: RX_OPEN_VIEW_LAUNCH_BEHAVIOR_OPTIONS,\n                            sortAlphabetically: true\n                        }\n                    }\n                ]\n                : [\n                    {\n                        name: 'presentation.modalSize',\n                        component: SelectFormControlComponent,\n                        options: {\n                            label: 'Size',\n                            options: presentationType === OpenViewActionType.CenteredModal\n                                ? RX_OPEN_VIEW_MODAL_SIZE_OPTIONS\n                                : RX_OPEN_VIEW_MODAL_SIZE_OPTIONS.filter((option) => option.id !== OpenViewActionModalSize.FullSize),\n                            sortAlphabetically: false\n                        }\n                    },\n                    ...(isCenteredModalWithFullSize\n                        ? []\n                        : [\n                            {\n                                name: 'presentation.title',\n                                component: TextFormControlComponent,\n                                options: {\n                                    label: 'Title'\n                                }\n                            }\n                        ])\n                ])\n        ];\n    }\n}\nRxOpenViewModelHelperService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOpenViewModelHelperService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxOpenViewModelHelperService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOpenViewModelHelperService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxOpenViewModelHelperService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RxOpenViewActionDesignModel extends RxViewDesignerActionModel {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.sandbox = sandbox;\n        this.rxViewDefinitionCacheService = this.injector.get(RxViewDefinitionCacheService);\n        this.rxOpenViewModelHelperService = this.injector.get(RxOpenViewModelHelperService);\n        const viewDefinitionName$ = this.sandbox.actionProperties$.pipe(pluck('viewDefinitionName'), distinctUntilChanged());\n        const presentationType$ = this.sandbox.actionProperties$.pipe(pluck('presentation.type'), distinctUntilChanged());\n        const presentationModalSize$ = this.sandbox.actionProperties$.pipe(pluck('presentation.modalSize'), distinctUntilChanged());\n        combineLatest([viewDefinitionName$, presentationType$, presentationModalSize$])\n            .pipe(switchMap(([viewDefinitionName, presentationType, presentationModalSize]) => this.getActionEditorConfig(viewDefinitionName, presentationType, presentationModalSize)))\n            .subscribe((config) => this.sandbox.setActionPropertyEditorConfig(config));\n        viewDefinitionName$\n            .pipe(switchMap((viewDefinitionName) => this.getViewOutputParams(viewDefinitionName)))\n            .subscribe((outputParams) => {\n            this.sandbox.setActionOutputDataDictionary(outputParams.map(({ name }) => ({\n                label: name,\n                expression: this.getOutputExpressionForPropertyPath(name)\n            })));\n        });\n        presentationType$.pipe(skip(1)).subscribe((presentationType) => {\n            let props = this.sandbox.getActionProperties();\n            if (presentationType === OpenViewActionType.FullWidth) {\n                props['presentation.launchBehavior'] = OpenViewActionLaunchBehavior.SameWindow;\n                props = omit(props, ['presentation.modalSize', 'presentation.title']);\n            }\n            else {\n                props = omit(props, ['presentation.launchBehavior']);\n                if (!props['presentation.modalSize'] ||\n                    this.sandbox.getActionPropertyValue('presentation.modalSize') === OpenViewActionModalSize.FullSize) {\n                    props['presentation.modalSize'] = OpenViewActionModalSize.Medium;\n                }\n            }\n            this.sandbox.setActionProperties(props);\n        });\n        presentationModalSize$.pipe(skip(1)).subscribe((presentationModalSize) => {\n            if (presentationModalSize === OpenViewActionModalSize.FullSize) {\n                this.sandbox.setActionProperties(omit(this.sandbox.getActionProperties(), ['presentation.title']));\n            }\n        });\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign({ viewDefinitionName: null, 'presentation.type': OpenViewActionType.FullWidth, 'presentation.launchBehavior': OpenViewActionLaunchBehavior.SameWindow }, initialProperties);\n    }\n    getActionEditorConfig(viewDefinitionName, presentationType, presentationModalSize) {\n        return this.getViewInputParams(viewDefinitionName).pipe(map((inputParams) => this.rxOpenViewModelHelperService.getOpenViewInspector(inputParams, presentationType, presentationModalSize, this.expressionConfigurator)));\n    }\n    getViewInputParams(viewDefinitionName) {\n        return viewDefinitionName\n            ? this.rxViewDefinitionCacheService.getViewDefinition(viewDefinitionName).pipe(pluck('inputParams'))\n            : of([]);\n    }\n    getViewOutputParams(viewDefinitionName) {\n        return viewDefinitionName\n            ? this.rxViewDefinitionCacheService.getViewDefinition(viewDefinitionName).pipe(pluck('outputParams'))\n            : of([]);\n    }\n}\n\nclass OpenViewActionModule {\n    constructor(rxViewActionDefinitionAdapterRegistryService, openViewDefinitionAdapterService, rxViewActionRegistryService, rxOpenViewActionService) {\n        this.rxViewActionDefinitionAdapterRegistryService = rxViewActionDefinitionAdapterRegistryService;\n        this.openViewDefinitionAdapterService = openViewDefinitionAdapterService;\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxOpenViewActionService = rxOpenViewActionService;\n        this.rxViewActionRegistryService.register({\n            name: RX_OPEN_VIEW.actionName,\n            label: 'Open view',\n            bundleId: RX_APPLICATION.platformBundleId,\n            service: this.rxOpenViewActionService,\n            designModel: RxOpenViewActionDesignModel,\n            parameters: [\n                {\n                    name: 'viewDefinitionName',\n                    label: 'View',\n                    isRequired: true\n                },\n                {\n                    name: 'viewParams',\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'presentation',\n                    attributes: [\n                        {\n                            name: 'title',\n                            localizable: true\n                        }\n                    ]\n                }\n            ]\n        });\n        rxViewActionDefinitionAdapterRegistryService.registerRuntimeAdapter(RX_OPEN_VIEW.actionName, this.openViewDefinitionAdapterService);\n    }\n}\nOpenViewActionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: OpenViewActionModule, deps: [{ token: i1$1.RxViewActionDefinitionAdapterRegistryService }, { token: RxOpenViewDefinitionAdapterService }, { token: i1$1.RxViewActionRegistryService }, { token: RxOpenViewActionService }], target: i0.ɵɵFactoryTarget.NgModule });\nOpenViewActionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: OpenViewActionModule, imports: [CommonModule, RuntimeViewModule, AdaptDockedPanelModule] });\nOpenViewActionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: OpenViewActionModule, imports: [[CommonModule, RuntimeViewModule, AdaptDockedPanelModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: OpenViewActionModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, RuntimeViewModule, AdaptDockedPanelModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxViewActionDefinitionAdapterRegistryService }, { type: RxOpenViewDefinitionAdapterService }, { type: i1$1.RxViewActionRegistryService }, { type: RxOpenViewActionService }]; } });\n\nclass RxAssociateViewActionDesignModel extends RxViewDesignerActionModel {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.injector = injector;\n        this.sandbox = sandbox;\n        this.rxRecordDefinitionCacheService = this.injector.get(RxRecordDefinitionCacheService);\n        this.rxDefinitionNameService = this.injector.get(RxDefinitionNameService);\n        this.rxAssociationDefinitionService = this.injector.get(RxAssociationDefinitionService);\n        const recordDefinitionName$ = this.sandbox.actionProperties$.pipe(pluck('recordDefinitionName'), distinctUntilChanged());\n        const associationDefinitionName$ = this.sandbox.actionProperties$.pipe(pluck('associationDefinitionName'), distinctUntilChanged());\n        const associationNameOptions$ = recordDefinitionName$.pipe(switchMap((recordDefinitionName) => recordDefinitionName\n            ? this.rxRecordDefinitionCacheService.getRecordAssociationDefinitions(recordDefinitionName).pipe(map((associationDefinitions) => associationDefinitions[recordDefinitionName].map((recordDefinition) => ({\n                id: recordDefinition.name,\n                name: this.rxDefinitionNameService.getDisplayName(recordDefinition.name)\n            }))))\n            : of([])));\n        const associationDefinition$ = associationDefinitionName$.pipe(switchMap((associationDefinitionName) => associationDefinitionName ? this.rxAssociationDefinitionService.get(associationDefinitionName) : of(null)), shareReplay(1));\n        const isSymmetricalAssociation$ = associationDefinition$.pipe(map((association) => (association ? association.nodeAId === association.nodeBId : false)));\n        const isManyToManyAssociation$ = associationDefinition$.pipe(map((association) => association ? association.cardinality === RX_ASSOCIATION_DEFINITION.cardinality.manyToMany.value : false));\n        const useDefaultRoles$ = this.sandbox.actionProperties$.pipe(pluck('useDefaultRoles'), map(Boolean), distinctUntilChanged());\n        useDefaultRoles$.pipe(distinctUntilChanged(), skip(1)).subscribe((useDefaultRoles) => {\n            if (useDefaultRoles) {\n                this.sandbox.setActionProperties(omit(this.sandbox.getActionProperties(), ['nodeARole', 'nodeBRole']));\n            }\n        });\n        const associationRoleOptions$ = associationDefinition$.pipe(map((association) => association\n            ? [\n                {\n                    id: RxAssociatedRecordNodeSide.NodeA,\n                    name: association.nodeAName || RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.defaultName\n                },\n                {\n                    id: RxAssociatedRecordNodeSide.NodeB,\n                    name: association.nodeBName || RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.defaultName\n                }\n            ]\n            : []));\n        // skip initial props set\n        recordDefinitionName$.pipe(skip(1)).subscribe(() => {\n            this.sandbox.updateActionProperties({\n                associationDefinitionName: null,\n                associationDefinitionRole: null\n            });\n        });\n        associationDefinition$\n            .pipe(\n        // skip initial props set\n        skip(1), withLatestFrom(isSymmetricalAssociation$, recordDefinitionName$))\n            .subscribe(([associationDefinition, isSymmetricalAssociation, recordDefinitionName]) => {\n            if (associationDefinition && !isSymmetricalAssociation) {\n                const associationDefinitionRole = recordDefinitionName === associationDefinition.nodeAId\n                    ? RxAssociatedRecordNodeSide.NodeA\n                    : RxAssociatedRecordNodeSide.NodeB;\n                this.sandbox.updateActionProperties({\n                    associationDefinitionRole\n                });\n            }\n            else {\n                this.sandbox.updateActionProperties({\n                    associationDefinitionRole: null\n                });\n            }\n        });\n        combineLatest([recordDefinitionName$, associationNameOptions$, associationRoleOptions$, useDefaultRoles$])\n            .pipe(withLatestFrom(isSymmetricalAssociation$, isManyToManyAssociation$))\n            .subscribe(([[recordDefinitionName, associationNameOptions, associationRoleOptions, useDefaultRoles], isSymmetricalAssociation, isManyToManyAssociation]) => {\n            this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig(recordDefinitionName, associationNameOptions, associationRoleOptions, isSymmetricalAssociation, isManyToManyAssociation, useDefaultRoles));\n        });\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign({ recordDefinitionName: null, associationDefinitionName: null, associationDefinitionRole: null, associatedRecordId: null, viewDefinitionName: null }, initialProperties);\n    }\n    getActionEditorConfig(recordDefinitionName, associationNameOptions, associationRoleOptions, isSymmetricalAssociation, isManyToManyAssociation, useDefaultRoles) {\n        return [\n            {\n                name: 'recordDefinitionName',\n                component: RxDefinitionPickerComponent,\n                options: {\n                    label: 'Record definition to associate',\n                    definitionType: RxDefinitionPickerType.StandardDataRecord,\n                    required: true\n                }\n            },\n            ...(recordDefinitionName\n                ? [\n                    {\n                        name: 'associationDefinitionName',\n                        component: SelectFormControlComponent,\n                        options: {\n                            label: 'Association to use',\n                            options: associationNameOptions,\n                            required: true\n                        }\n                    },\n                    {\n                        name: 'associationDefinitionRole',\n                        component: SelectFormControlComponent,\n                        isDisabled: !isSymmetricalAssociation,\n                        options: {\n                            label: 'Associated record node side',\n                            required: true,\n                            options: associationRoleOptions\n                        }\n                    },\n                    {\n                        name: 'associatedRecordId',\n                        component: ExpressionFormControlComponent,\n                        options: {\n                            label: 'Associated record ID',\n                            dataDictionary$: this.expressionConfigurator.getDataDictionary(),\n                            operators: this.expressionConfigurator.getOperators(),\n                            isRequired: true\n                        }\n                    },\n                    {\n                        name: 'viewDefinitionName',\n                        component: RxDefinitionPickerComponent,\n                        options: {\n                            label: 'View for selecting or creating associated records',\n                            required: true,\n                            definitionType: RxDefinitionPickerType.View\n                        }\n                    },\n                    ...(isManyToManyAssociation\n                        ? [\n                            {\n                                name: 'useDefaultRoles',\n                                component: SwitchFormControlComponent,\n                                options: {\n                                    label: 'Use default roles'\n                                }\n                            },\n                            ...(isManyToManyAssociation && useDefaultRoles\n                                ? []\n                                : [\n                                    {\n                                        name: 'nodeARole',\n                                        component: ExpressionFormControlComponent,\n                                        options: {\n                                            label: 'First record role',\n                                            dataDictionary$: this.expressionConfigurator.getDataDictionary(),\n                                            operators: this.expressionConfigurator.getOperators()\n                                        }\n                                    },\n                                    {\n                                        name: 'nodeBRole',\n                                        component: ExpressionFormControlComponent,\n                                        options: {\n                                            label: 'Second record role',\n                                            dataDictionary$: this.expressionConfigurator.getDataDictionary(),\n                                            operators: this.expressionConfigurator.getOperators()\n                                        }\n                                    }\n                                ])\n                        ]\n                        : [])\n                ]\n                : [])\n        ];\n    }\n}\n\nclass AssociateViewActionModule {\n    constructor(rxViewActionRegistryService, rxAssociateViewActionService) {\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxAssociateViewActionService = rxAssociateViewActionService;\n        this.rxViewActionRegistryService.register({\n            name: 'rxAssociateAction',\n            label: 'Associate records',\n            bundleId: RX_APPLICATION.platformBundleId,\n            service: this.rxAssociateViewActionService,\n            designModel: RxAssociateViewActionDesignModel,\n            parameters: [\n                {\n                    name: 'recordDefinitionName',\n                    label: 'Record definition to associate',\n                    isRequired: true,\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'associationDefinitionName',\n                    label: 'Association to use',\n                    isRequired: true\n                },\n                {\n                    name: 'associationDefinitionRole',\n                    label: 'Associated record node side',\n                    isRequired: true\n                },\n                {\n                    name: 'associatedRecordId',\n                    label: 'Associated record ID',\n                    enableExpressionEvaluation: true,\n                    isRequired: true\n                },\n                {\n                    name: 'viewDefinitionName',\n                    label: 'View for selecting or creating associated records',\n                    isRequired: true,\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'useDefaultRoles'\n                },\n                {\n                    name: 'nodeARole',\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'nodeBRole',\n                    enableExpressionEvaluation: true\n                }\n            ]\n        });\n    }\n}\nAssociateViewActionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociateViewActionModule, deps: [{ token: i1$1.RxViewActionRegistryService }, { token: RxAssociateViewActionService }], target: i0.ɵɵFactoryTarget.NgModule });\nAssociateViewActionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociateViewActionModule, imports: [OpenViewActionModule] });\nAssociateViewActionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociateViewActionModule, imports: [[OpenViewActionModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociateViewActionModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [OpenViewActionModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxViewActionRegistryService }, { type: RxAssociateViewActionService }]; } });\n\nclass RxAvcAssociateActionService {\n    constructor(rxGuidService, rxOpenViewActionService, rxStringService, rxRecordInstanceUtilsService) {\n        this.rxGuidService = rxGuidService;\n        this.rxOpenViewActionService = rxOpenViewActionService;\n        this.rxStringService = rxStringService;\n        this.rxRecordInstanceUtilsService = rxRecordInstanceUtilsService;\n    }\n    execute(params) {\n        return this.rxOpenViewActionService\n            .execute({\n            viewDefinitionName: params.viewDefinitionName,\n            viewParams: null,\n            presentation: {\n                modalSize: OpenViewActionModalSize.Large,\n                type: OpenViewActionType.DockedRightModal\n            }\n        })\n            .pipe(tap((output) => {\n            const recordInstances = flow((outputs) => map$1(outputs, (outputsItem) => this.extractRecordInstance(outputsItem)), flatten, compact, uniq)(output);\n            params.associationViewComponent.associate(recordInstances);\n        }), switchMapTo(EMPTY));\n    }\n    extractRecordInstance(source) {\n        let recordInstanceFields = [];\n        // for record grid\n        if (isFunction(source.getSelectedRows)) {\n            recordInstanceFields = map$1(source.getSelectedRows(), this.rxRecordInstanceUtilsService.convertFromDataPageRowToPlainRecordInstance);\n            // for record grid row\n        }\n        else if (isObject(source) && this.rxStringService.isNonEmptyString(source[RowDataItemIdFieldName])) {\n            recordInstanceFields.push(this.rxRecordInstanceUtilsService.convertFromDataPageRowToPlainRecordInstance(source));\n            // for selected rows\n        }\n        else if (isArray(source) && some(source, isObject)) {\n            recordInstanceFields = map$1(source, this.rxRecordInstanceUtilsService.convertFromDataPageRowToPlainRecordInstance);\n            // for existing record instance\n        }\n        else if (isObject(source) && isObject(source.fieldInstances) && source.id) {\n            recordInstanceFields.push(source);\n            // for new record instance\n        }\n        else if (isObject(source) && isObject(source.fieldInstances) && !source.id) {\n            const dummyId = this.rxGuidService.generate();\n            source.id = dummyId;\n            source.fieldInstances[RX_RECORD_DEFINITION.coreFieldIds.id].value = dummyId;\n            source.isNewInstance = true;\n            recordInstanceFields.push(source);\n        }\n        return recordInstanceFields;\n    }\n}\nRxAvcAssociateActionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAvcAssociateActionService, deps: [{ token: i1.RxGuidService }, { token: RxOpenViewActionService }, { token: i1.RxStringService }, { token: i4.RxRecordInstanceUtilsService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxAvcAssociateActionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAvcAssociateActionService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAvcAssociateActionService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.RxGuidService }, { type: RxOpenViewActionService }, { type: i1.RxStringService }, { type: i4.RxRecordInstanceUtilsService }]; } });\n\nclass AvcAssociateActionModule {\n    constructor(rxViewActionRegistryService, rxAvcAssociateActionService) {\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxAvcAssociateActionService = rxAvcAssociateActionService;\n        this.rxViewActionRegistryService.register({\n            name: 'rxAvcAssociate',\n            label: 'Avc associate',\n            bundleId: RX_APPLICATION.platformBundleId,\n            hidden: true,\n            service: this.rxAvcAssociateActionService,\n            parameters: [\n                {\n                    name: 'viewDefinitionName'\n                },\n                {\n                    name: 'associationViewComponent',\n                    enableExpressionEvaluation: true\n                }\n            ]\n        });\n    }\n}\nAvcAssociateActionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AvcAssociateActionModule, deps: [{ token: i1$1.RxViewActionRegistryService }, { token: RxAvcAssociateActionService }], target: i0.ɵɵFactoryTarget.NgModule });\nAvcAssociateActionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AvcAssociateActionModule, imports: [CommonModule] });\nAvcAssociateActionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AvcAssociateActionModule, imports: [[CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AvcAssociateActionModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxViewActionRegistryService }, { type: RxAvcAssociateActionService }]; } });\n\nclass RxCloseViewActionService {\n    execute(params) {\n        return params.actAsCancel\n            ? params.viewApi.cancel()\n            : EMPTY.pipe(tap({\n                complete() {\n                    params.viewApi.close();\n                }\n            }));\n    }\n}\nRxCloseViewActionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCloseViewActionService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxCloseViewActionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCloseViewActionService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxCloseViewActionService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass CloseViewActionModule {\n    constructor(rxViewActionRegistryService, rxCloseViewActionService) {\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxCloseViewActionService = rxCloseViewActionService;\n        this.rxViewActionRegistryService.register({\n            name: 'rxCloseViewAction',\n            label: 'Close view',\n            bundleId: RX_APPLICATION.platformBundleId,\n            service: this.rxCloseViewActionService,\n            parameters: [\n                {\n                    name: 'viewApi',\n                    enableExpressionEvaluation: true,\n                    defaultValue: '${view.api}'\n                },\n                {\n                    name: 'actAsCancel',\n                    label: 'Act as cancel',\n                    editor: SwitchFormControlComponent,\n                    type: ViewComponentPropertyType.Boolean,\n                    designType: ViewComponentPropertyType.Boolean\n                }\n            ]\n        });\n    }\n}\nCloseViewActionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CloseViewActionModule, deps: [{ token: i1$1.RxViewActionRegistryService }, { token: RxCloseViewActionService }], target: i0.ɵɵFactoryTarget.NgModule });\nCloseViewActionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CloseViewActionModule });\nCloseViewActionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CloseViewActionModule });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CloseViewActionModule, decorators: [{\n            type: NgModule\n        }], ctorParameters: function () { return [{ type: i1$1.RxViewActionRegistryService }, { type: RxCloseViewActionService }]; } });\n\nclass RxDeleteRecordsViewActionService {\n    constructor(rxLogService, rxModalService, translateService, rxNotificationService, rxRecordInstanceService, rxViewActionUtilsService, rxStringService) {\n        this.rxLogService = rxLogService;\n        this.rxModalService = rxModalService;\n        this.translateService = translateService;\n        this.rxNotificationService = rxNotificationService;\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.rxViewActionUtilsService = rxViewActionUtilsService;\n        this.rxStringService = rxStringService;\n    }\n    execute(params) {\n        if (isEmpty(params.recordDefinitionName) &&\n            params.records &&\n            isFunction(params.records.getRecordDefinitionName)) {\n            params.recordDefinitionName = params.records.getRecordDefinitionName();\n        }\n        if (this.rxStringService.isNonEmptyString(params.recordDefinitionName)) {\n            let records = [];\n            if (params.records) {\n                if (isFunction(params.records.getSelectedRows)) {\n                    records = castArray(params.records.getSelectedRows());\n                }\n                else {\n                    records = castArray(params.records);\n                }\n            }\n            const recordIds = this.rxViewActionUtilsService.extractRecordIds(records);\n            if (recordIds.length) {\n                const message = recordIds.length === 1\n                    ? 'com.bmc.arsys.rx.client.view-actions.delete-record.confirmation-dialog.message'\n                    : 'com.bmc.arsys.rx.client.view-actions.delete-records.confirmation-dialog.message';\n                return from(this.rxModalService.confirm({\n                    title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n                    modalStyle: RX_MODAL.modalStyles.warning,\n                    message: this.translateService.instant(message, { count: recordIds.length })\n                })).pipe(switchMap((res) => {\n                    if (res) {\n                        const deleteObservables = recordIds.map((recordId) => this.rxRecordInstanceService.delete(params.recordDefinitionName, recordId));\n                        return forkJoin(deleteObservables).pipe(tap(() => {\n                            this.rxNotificationService.addSuccessMessage(this.translateService.instant('com.bmc.arsys.rx.client.view-actions.delete-records.records-deleted.message'));\n                        }), switchMapTo(isFunction(params.records.refresh)\n                            ? params.records.refresh()\n                            : EMPTY));\n                    }\n                    else {\n                        return throwError(null);\n                    }\n                }));\n            }\n            else {\n                this.rxLogService.debug('rxDeleteRecordsAction: no records to delete.');\n                return EMPTY;\n            }\n        }\n        else {\n            return throwError(new RxError('rxDeleteRecordsAction: Record Definition Name is not defined.'));\n        }\n    }\n}\nRxDeleteRecordsViewActionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDeleteRecordsViewActionService, deps: [{ token: i1$4.RxLogService }, { token: i2$2.RxModalService }, { token: i4$1.TranslateService }, { token: i1$4.RxNotificationService }, { token: i4.RxRecordInstanceService }, { token: i1$1.RxViewActionUtilsService }, { token: i1.RxStringService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxDeleteRecordsViewActionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDeleteRecordsViewActionService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDeleteRecordsViewActionService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxLogService }, { type: i2$2.RxModalService }, { type: i4$1.TranslateService }, { type: i1$4.RxNotificationService }, { type: i4.RxRecordInstanceService }, { type: i1$1.RxViewActionUtilsService }, { type: i1.RxStringService }]; } });\n\nclass DeleteRecordsViewActionModule {\n    constructor(rxViewActionRegistryService, rxDeleteRecordsViewActionService) {\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxDeleteRecordsViewActionService = rxDeleteRecordsViewActionService;\n        this.rxViewActionRegistryService.register({\n            name: 'rxDeleteRecordsAction',\n            label: 'Delete records',\n            bundleId: RX_APPLICATION.platformBundleId,\n            service: this.rxDeleteRecordsViewActionService,\n            parameters: [\n                {\n                    name: 'records',\n                    label: 'Records',\n                    enableExpressionEvaluation: true,\n                    isRequired: true,\n                    editor: ExpressionFormControlComponent,\n                    tooltip: new Tooltip(`Build an expression that evaluates to one of the following:<br>\n            1) Record grid<br>\n            2) A collection of record instances or<br>\n            3) A collection of record instance IDs. <br>For options 2 and 3, select a record definition in the field below.`)\n                },\n                {\n                    name: 'recordDefinitionName',\n                    label: 'Record definition',\n                    type: ViewComponentPropertyType.String,\n                    editor: RxDefinitionPickerComponent,\n                    editorOptions: {\n                        definitionType: RxDefinitionPickerType.StandardDataRecord\n                    },\n                    defaultValue: null\n                }\n            ]\n        });\n    }\n}\nDeleteRecordsViewActionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DeleteRecordsViewActionModule, deps: [{ token: i1$1.RxViewActionRegistryService }, { token: RxDeleteRecordsViewActionService }], target: i0.ɵɵFactoryTarget.NgModule });\nDeleteRecordsViewActionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DeleteRecordsViewActionModule });\nDeleteRecordsViewActionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DeleteRecordsViewActionModule });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DeleteRecordsViewActionModule, decorators: [{\n            type: NgModule\n        }], ctorParameters: function () { return [{ type: i1$1.RxViewActionRegistryService }, { type: RxDeleteRecordsViewActionService }]; } });\n\nclass RxDisassociateViewActionService {\n    constructor(rxLogService, rxViewActionUtilsService, rxAssociationDefinitionService, rxAssociationInstanceService) {\n        this.rxLogService = rxLogService;\n        this.rxViewActionUtilsService = rxViewActionUtilsService;\n        this.rxAssociationDefinitionService = rxAssociationDefinitionService;\n        this.rxAssociationInstanceService = rxAssociationInstanceService;\n    }\n    execute(params) {\n        if (!params.associatedRecordId) {\n            return throwError(new RxError('rxDisassociateAction: Associated Record ID is not defined.'));\n        }\n        const instanceIds = this.rxViewActionUtilsService.extractRecordIds(params.disassociatedRecordIds);\n        this.rxLogService.debug(`RxDisassociateAction: disassociating ${instanceIds.length} record(s)`);\n        if (instanceIds.length) {\n            return this.rxAssociationDefinitionService.get(params.associationDefinitionName).pipe(switchMap(() => {\n                let nodeAIds, nodeBIds = [];\n                if (params.associationDefinitionRole === RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.value) {\n                    nodeAIds = instanceIds;\n                    nodeBIds = [params.associatedRecordId];\n                }\n                else if (params.associationDefinitionRole === RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value) {\n                    nodeAIds = [params.associatedRecordId];\n                    nodeBIds = instanceIds;\n                }\n                return this.rxAssociationInstanceService\n                    .disassociateRecords(params.associationDefinitionName, nodeAIds, nodeBIds)\n                    .pipe(mapTo(instanceIds));\n            }));\n        }\n        else {\n            return of([]);\n        }\n    }\n}\nRxDisassociateViewActionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDisassociateViewActionService, deps: [{ token: i1$4.RxLogService }, { token: i1$1.RxViewActionUtilsService }, { token: i1$3.RxAssociationDefinitionService }, { token: i1$3.RxAssociationInstanceService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxDisassociateViewActionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDisassociateViewActionService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDisassociateViewActionService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxLogService }, { type: i1$1.RxViewActionUtilsService }, { type: i1$3.RxAssociationDefinitionService }, { type: i1$3.RxAssociationInstanceService }]; } });\n\nclass RxDisassociateViewActionDesignModel extends RxViewDesignerActionModel {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.injector = injector;\n        this.sandbox = sandbox;\n        this.rxRecordDefinitionCacheService = this.injector.get(RxRecordDefinitionCacheService);\n        this.rxDefinitionNameService = this.injector.get(RxDefinitionNameService);\n        this.rxAssociationDefinitionService = this.injector.get(RxAssociationDefinitionService);\n        const recordDefinitionName$ = this.sandbox.actionProperties$.pipe(pluck('recordDefinitionName'), distinctUntilChanged());\n        const associationDefinitionName$ = this.sandbox.actionProperties$.pipe(pluck('associationDefinitionName'), distinctUntilChanged());\n        const associationNameOptions$ = recordDefinitionName$.pipe(switchMap((recordDefinitionName) => recordDefinitionName\n            ? this.rxRecordDefinitionCacheService.getRecordAssociationDefinitions(recordDefinitionName).pipe(map((associationDefinitions) => associationDefinitions[recordDefinitionName].map((recordDefinition) => ({\n                id: recordDefinition.name,\n                name: this.rxDefinitionNameService.getDisplayName(recordDefinition.name)\n            }))))\n            : of([])));\n        const associationDefinition$ = associationDefinitionName$.pipe(switchMap((associationDefinitionName) => associationDefinitionName ? this.rxAssociationDefinitionService.get(associationDefinitionName) : of(null)), shareReplay(1));\n        const isSymmetricalAssociation$ = associationDefinition$.pipe(map((association) => (association ? association.nodeAId === association.nodeBId : false)));\n        const associationRoleOptions$ = associationDefinition$.pipe(map((association) => association\n            ? [\n                {\n                    id: RxAssociatedRecordNodeSide.NodeA,\n                    name: association.nodeAName || RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.defaultName\n                },\n                {\n                    id: RxAssociatedRecordNodeSide.NodeB,\n                    name: association.nodeBName || RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.defaultName\n                }\n            ]\n            : []));\n        // skip initial props set\n        recordDefinitionName$.pipe(skip(1)).subscribe(() => {\n            this.sandbox.updateActionProperties({\n                associationDefinitionName: null,\n                associationDefinitionRole: null\n            });\n        });\n        associationDefinition$\n            .pipe(\n        // skip initial props set\n        skip(1), withLatestFrom(isSymmetricalAssociation$, recordDefinitionName$))\n            .subscribe(([associationDefinition, isSymmetricalAssociation, recordDefinitionName]) => {\n            if (associationDefinition && !isSymmetricalAssociation) {\n                const associationDefinitionRole = recordDefinitionName === associationDefinition.nodeAId\n                    ? RxAssociatedRecordNodeSide.NodeA\n                    : RxAssociatedRecordNodeSide.NodeB;\n                this.sandbox.updateActionProperties({\n                    associationDefinitionRole\n                });\n            }\n            else {\n                this.sandbox.updateActionProperties({\n                    associationDefinitionRole: null\n                });\n            }\n        });\n        combineLatest([recordDefinitionName$, associationNameOptions$, associationRoleOptions$])\n            .pipe(withLatestFrom(isSymmetricalAssociation$))\n            .subscribe(([[recordDefinitionName, associationNameOptions, associationRoleOptions], isSymmetricalAssociation]) => {\n            this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig(recordDefinitionName, associationNameOptions, associationRoleOptions, isSymmetricalAssociation));\n        });\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign({ recordDefinitionName: null, associationDefinitionName: null, associationDefinitionRole: null, associatedRecordId: null, disassociatedRecordIds: null }, initialProperties);\n    }\n    getActionEditorConfig(recordDefinitionName, associationNameOptions, associationRoleOptions, isSymmetricalAssociation) {\n        return [\n            {\n                name: 'recordDefinitionName',\n                component: RxDefinitionPickerComponent,\n                options: {\n                    label: 'Record definition to disassociate',\n                    definitionType: RxDefinitionPickerType.StandardDataRecord,\n                    required: true\n                }\n            },\n            ...(recordDefinitionName\n                ? [\n                    {\n                        name: 'associationDefinitionName',\n                        component: SelectFormControlComponent,\n                        options: {\n                            label: 'Association to use',\n                            options: associationNameOptions,\n                            required: true\n                        }\n                    },\n                    {\n                        name: 'associationDefinitionRole',\n                        component: SelectFormControlComponent,\n                        isDisabled: !isSymmetricalAssociation,\n                        options: {\n                            label: 'Associated record node side',\n                            required: true,\n                            options: associationRoleOptions\n                        }\n                    },\n                    {\n                        name: 'associatedRecordId',\n                        component: ExpressionFormControlComponent,\n                        options: {\n                            label: 'Associated record ID',\n                            dataDictionary$: this.expressionConfigurator.getDataDictionary(),\n                            operators: this.expressionConfigurator.getOperators(),\n                            isRequired: true\n                        }\n                    },\n                    {\n                        name: 'disassociatedRecordIds',\n                        component: ExpressionFormControlComponent,\n                        options: {\n                            label: 'Records to disassociate',\n                            dataDictionary$: this.expressionConfigurator.getDataDictionary(),\n                            operators: this.expressionConfigurator.getOperators(),\n                            isRequired: true\n                        }\n                    }\n                ]\n                : [])\n        ];\n    }\n}\n\nclass DisassociateViewActionModule {\n    constructor(rxViewActionRegistryService, rxDisassociateViewActionService) {\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxDisassociateViewActionService = rxDisassociateViewActionService;\n        this.rxViewActionRegistryService.register({\n            name: 'rxDisassociateAction',\n            label: 'Disassociate records',\n            bundleId: RX_APPLICATION.platformBundleId,\n            service: this.rxDisassociateViewActionService,\n            designModel: RxDisassociateViewActionDesignModel,\n            parameters: [\n                {\n                    name: 'recordDefinitionName',\n                    label: 'Record definition to disassociate',\n                    isRequired: true,\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'associationDefinitionName',\n                    label: 'Association to use',\n                    isRequired: true\n                },\n                {\n                    name: 'associationDefinitionRole',\n                    label: 'Associated record node side',\n                    isRequired: true\n                },\n                {\n                    name: 'associatedRecordId',\n                    label: 'Associated record ID',\n                    enableExpressionEvaluation: true,\n                    isRequired: true\n                },\n                {\n                    name: 'disassociatedRecordIds',\n                    label: 'Records to disassociate',\n                    enableExpressionEvaluation: true,\n                    isRequired: true\n                }\n            ]\n        });\n    }\n}\nDisassociateViewActionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DisassociateViewActionModule, deps: [{ token: i1$1.RxViewActionRegistryService }, { token: RxDisassociateViewActionService }], target: i0.ɵɵFactoryTarget.NgModule });\nDisassociateViewActionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DisassociateViewActionModule });\nDisassociateViewActionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DisassociateViewActionModule });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DisassociateViewActionModule, decorators: [{\n            type: NgModule\n        }], ctorParameters: function () { return [{ type: i1$1.RxViewActionRegistryService }, { type: RxDisassociateViewActionService }]; } });\n\nclass ResultModalComponent {\n    constructor(activeModelRef) {\n        this.activeModelRef = activeModelRef;\n        this.data = this.activeModelRef.getData();\n    }\n    close() {\n        this.activeModelRef.close();\n    }\n    hasActionResultDetails(data) {\n        return ['warningCount', 'errorCount', 'infoCount', 'successCount'].some((prop) => data.summary[prop]);\n    }\n}\nResultModalComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ResultModalComponent, deps: [{ token: i1$2.ActiveModalRef }], target: i0.ɵɵFactoryTarget.Component });\nResultModalComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ResultModalComponent, selector: \"rx-edit-records-result-modal\", ngImport: i0, template: \"<div class=\\\"modal-body\\\">\\n  <div class=\\\"mb-2\\\">\\n    <adapt-icon [name]=\\\"'check_circle'\\\" class=\\\"mr-1 text-success-icon\\\"></adapt-icon>\\n    {{'com.bmc.arsys.rx.client.view-actions.edit-records.action-results-dialog.updated-successfully.label' |\\n    translate}}: {{data.summary.successCount}}\\n  </div>\\n\\n  <div class=\\\"mb-2\\\">\\n    <adapt-icon [name]=\\\"'exclamation_circle'\\\" class=\\\"mr-1 text-warning-icon\\\"></adapt-icon>\\n    {{'com.bmc.arsys.rx.client.view-actions.edit-records.action-results-dialog.updated-with-warnings.label' | translate\\n    }}: {{data.summary.warningCount}}\\n  </div>\\n\\n  <div>\\n    <adapt-icon [name]=\\\"'exclamation_triangle'\\\" class=\\\"mr-1 text-danger-icon\\\"></adapt-icon>\\n    {{'com.bmc.arsys.rx.client.view-actions.edit-records.action-results-dialog.update-failures.label' | translate }}:\\n    {{data.summary.errorCount}}\\n  </div>\\n\\n  <div class=\\\"mt-2\\\" *ngIf=\\\"hasActionResultDetails(data) && data.details\\\">\\n    <adapt-rx-textarea\\n      class=\\\"resize-none\\\"\\n      label=\\\"{{'com.bmc.arsys.rx.client.common.messages.label' | translate }}\\\"\\n      readonly\\n      rows=\\\"15\\\"\\n      [ngModel]=\\\"data.details\\\"\\n    >\\n    </adapt-rx-textarea>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button class=\\\"btn btn-secondary btn-sm\\\" (click)=\\\"close()\\\" type=\\\"button\\\">\\n    {{'com.bmc.arsys.rx.client.common.close.label' | translate}}\\n  </button>\\n</div>\\n\", styles: [\":host ::ng-deep .resize-none{resize:none}\\n\"], components: [{ type: i1$2.AdaptIconComponent, selector: \"adapt-icon\", inputs: [\"name\", \"classList\", \"description\", \"testID\"] }, { type: i1$2.AdaptRxTextareaComponent, selector: \"adapt-rx-textarea\", inputs: [\"rows\", \"maxRows\", \"autocomplete\", \"placeholder\", \"size\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }], directives: [{ type: i2$3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3$1.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i3$1.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }], pipes: { \"translate\": i4$1.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ResultModalComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-edit-records-result-modal',\n                    styleUrls: ['./result-modal.scss'],\n                    templateUrl: './result-modal.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$2.ActiveModalRef }]; } });\n\nclass RxEditRecordsDataService {\n    constructor(adaptModalService, translateService, rxCommandFactoryService) {\n        this.adaptModalService = adaptModalService;\n        this.translateService = translateService;\n        this.rxCommandFactoryService = rxCommandFactoryService;\n        this.resourceType = 'com.bmc.arsys.rx.application.record.command.UpdateRecordInstancesCommand';\n        this.editRecordsCommand = this.rxCommandFactoryService.forResourceType(this.resourceType);\n    }\n    editRecords(preparedRecordData) {\n        return this.editRecordsCommand.execute(preparedRecordData);\n    }\n    showActionResults(actionResults) {\n        return this.adaptModalService\n            .open({\n            size: 'sm',\n            title: this.translateService.instant('com.bmc.arsys.rx.client.view-actions.edit-records.action-results-dialog.title'),\n            data: actionResults,\n            content: ResultModalComponent\n        })\n            .catch(noop);\n    }\n    runAction(recordInstanceIds, recordInstance) {\n        const preparedRecordData = this.prepareRecordData(recordInstanceIds, recordInstance);\n        const formData = new FormData();\n        formData.append('commandInstance', JSON.stringify(preparedRecordData.commandInstance));\n        forEach(preparedRecordData.attachments, (attachment) => {\n            formData.append(attachment.key, attachment.file);\n        });\n        Object.keys(preparedRecordData || {}).map((item) => {\n            if (item !== 'commandInstance' && item !== 'attachments') {\n                formData.append(item, JSON.stringify(preparedRecordData[item]));\n            }\n        });\n        return this.editRecords(formData).pipe(map((response) => this.prepareActionResults(response, preparedRecordData)), switchMap((actionResults) => {\n            return from(Promise.resolve(this.showActionResults(actionResults)));\n        }));\n    }\n    cleanUnchangedFields(recordInstance) {\n        return forIn(recordInstance.fieldInstances, (field, key) => {\n            if (isNull(field.value)) {\n                delete recordInstance.fieldInstances[key];\n            }\n        });\n    }\n    prepareFiles(fields, keyPrefix) {\n        return values(fields)\n            .filter((field) => has(field, 'file'))\n            .map((attachment) => ({\n            key: keyPrefix ? keyPrefix + '/' + attachment.id : attachment.id,\n            file: attachment.file\n        }));\n    }\n    cleanFiles(fields) {\n        Object.keys(fields).map((key, index) => {\n            fields[key].hasOwnProperty('file') ? delete fields[key] : delete fields[key].file;\n        });\n        return fields;\n    }\n    prepareAssociationInstancesForSaving(associationInstances) {\n        return transform(associationInstances, (result, associationInstance, associationDefinitionName) => {\n            forEach(associationInstance, (associationGroups, role) => {\n                if (!isEmpty(associationGroups.pending)) {\n                    result.push({\n                        associationDefinitionName: associationDefinitionName,\n                        recordInstanceIds: map$1(associationGroups.pending, 'id'),\n                        nodeSide: role,\n                        resourceType: RX_RECORD_INSTANCE.association.operationResourceTypes.associate\n                    });\n                }\n            });\n        }, []);\n    }\n    prepareRecordData(recordInstanceIds, recordInstance) {\n        const record = pick(recordInstance, ['resourceType', 'recordDefinitionName', 'fieldInstances']);\n        const resourceType = 'com.bmc.arsys.rx.application.record.command.UpdateRecordInstancesCommand';\n        record.fieldInstances = this.cleanUnchangedFields(record);\n        const attachments = this.prepareFiles(record.fieldInstances);\n        record.fieldInstances = this.cleanFiles(record.fieldInstances);\n        const associationInstances = this.prepareAssociationInstancesForSaving(recordInstance.associationInstances);\n        const data = {\n            shouldOverrideOptimisticLock: false,\n            commandInstance: { resourceType },\n            recordInstanceIds: recordInstanceIds,\n            recordInstance: record,\n            attachments: attachments\n        };\n        if (!isEmpty(associationInstances)) {\n            data.associationOperations = associationInstances.map((associationInstance) => (Object.assign(Object.assign({}, associationInstance), { nodeSide: associationInstance.nodeSide.split(':')[0] })));\n        }\n        return data;\n    }\n    prepareActionResults(response, requestData) {\n        const newLine = '\\n';\n        const updatedInstanceIdsCount = requestData.recordInstanceIds.length;\n        const detailsMessageLabel = this.translateService.instant('com.bmc.arsys.rx.client.view-actions.edit-records.action-results-dialog.details.record-instance-id.label');\n        const summary = {\n            successCount: 0,\n            errorCount: 0,\n            warningCount: 0,\n            infoCount: 0\n        };\n        let details;\n        if (!isEmpty(response)) {\n            summary.errorCount = filter$1(response, (messages) => some(messages, ['messageType', RX_ERROR_HANDLING.messageTypes.error])).length;\n            summary.warningCount = filter$1(response, (messages) => some(messages, ['messageType', RX_ERROR_HANDLING.messageTypes.warning])).length;\n            summary.infoCount = filter$1(response, (messages) => some(messages, ['messageType', RX_ERROR_HANDLING.messageTypes.info])).length;\n            summary.successCount = filter$1(response, (messages) => some(messages, ['messageType', RX_ERROR_HANDLING.messageTypes.success])).length;\n            details = map$1(response, (messages, recordInstanceId) => {\n                const recordInstanceIdMessageHeader = detailsMessageLabel + ': ' + recordInstanceId;\n                const messageText = values(messages).map(this.convertMessageToString).join(', ');\n                return recordInstanceIdMessageHeader + newLine + messageText;\n            }).join(newLine + newLine);\n        }\n        else {\n            details = '';\n        }\n        summary.successCount = updatedInstanceIdsCount - summary.errorCount - summary.warningCount;\n        return { summary, details };\n    }\n    convertMessageToString(message) {\n        return `${message.messageType}: ${values([message.messageText, message.appendedText]).join(' ')}`;\n    }\n}\nRxEditRecordsDataService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxEditRecordsDataService, deps: [{ token: i1$2.AdaptModalService }, { token: i4$1.TranslateService }, { token: i1$4.RxCommandFactoryService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxEditRecordsDataService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxEditRecordsDataService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxEditRecordsDataService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$2.AdaptModalService }, { type: i4$1.TranslateService }, { type: i1$4.RxCommandFactoryService }]; } });\n\nclass RxEditRecordsViewBuilder {\n    constructor(rxGuidService, rxDefaultRecordEditorInputType, rxFieldDefinitionService, translateService, rxSystemConfigurationService) {\n        this.rxGuidService = rxGuidService;\n        this.rxDefaultRecordEditorInputType = rxDefaultRecordEditorInputType;\n        this.rxFieldDefinitionService = rxFieldDefinitionService;\n        this.translateService = translateService;\n        this.rxSystemConfigurationService = rxSystemConfigurationService;\n    }\n    getViewDefinition(recordDefinitionName, columnDescriptors) {\n        const closeButtonId = this.rxGuidService.generate(), containerId = this.rxGuidService.generate(), recordEditorId = this.rxGuidService.generate(), recordInstanceId = null, saveButtonId = this.rxGuidService.generate(), viewDefinitionId = this.rxGuidService.generate(), recordEditorComponentDefinitions = this.getComponentDefinitions(columnDescriptors, recordEditorId);\n        return {\n            guid: viewDefinitionId,\n            layout: JSON.stringify({\n                outlets: [\n                    {\n                        name: RX_VIEW_DEFINITION.defaultOutletName,\n                        columns: [\n                            {\n                                children: [recordEditorId]\n                            }\n                        ]\n                    },\n                    {\n                        name: 'footer',\n                        height: 60,\n                        columns: [\n                            {\n                                children: [containerId]\n                            }\n                        ]\n                    }\n                ]\n            }),\n            outputParams: [\n                {\n                    name: 'recordInstance',\n                    source: '${view.components.' + recordEditorId + '.recordInstance}'\n                }\n            ],\n            inputParams: [],\n            componentDefinitions: [\n                {\n                    resourceType: RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,\n                    guid: recordEditorId,\n                    type: RxViewComponentType.RecordEditor,\n                    propertiesByName: {\n                        recordInstanceId: `${recordInstanceId}`,\n                        mode: RecordEditorMode.BulkEdit,\n                        recordDefinitionName: recordDefinitionName,\n                        styles: 'p-0 border-0'\n                    },\n                    componentDefinitions: recordEditorComponentDefinitions,\n                    layout: JSON.stringify({\n                        outlets: [\n                            {\n                                name: RX_VIEW_DEFINITION.defaultOutletName,\n                                columns: [\n                                    {\n                                        children: recordEditorComponentDefinitions.map((componentDefinition) => componentDefinition.guid)\n                                    }\n                                ]\n                            }\n                        ]\n                    })\n                },\n                {\n                    resourceType: RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,\n                    guid: containerId,\n                    type: RxViewComponentType.ButtonBar,\n                    propertiesByName: {\n                        alignment: 'right',\n                        hidden: '0'\n                    },\n                    layout: JSON.stringify({\n                        outlets: [\n                            {\n                                name: RX_VIEW_DEFINITION.defaultOutletName,\n                                columns: [\n                                    {\n                                        children: [saveButtonId, closeButtonId]\n                                    }\n                                ]\n                            }\n                        ]\n                    }),\n                    componentDefinitions: [\n                        {\n                            resourceType: RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,\n                            guid: closeButtonId,\n                            type: RxViewComponentType.ActionButton,\n                            propertiesByName: {\n                                label: this.translateService.instant('com.bmc.arsys.rx.client.common.cancel.label'),\n                                style: 'secondary',\n                                size: 'default'\n                            },\n                            componentDefinitions: [\n                                {\n                                    resourceType: RX_VIEW_DEFINITION.resourceTypes.viewComponent,\n                                    guid: this.rxGuidService.generate(),\n                                    type: RxViewComponentType.Action,\n                                    propertiesByName: {\n                                        viewApi: '${view.api}',\n                                        name: 'rxCloseViewAction',\n                                        actAsCancel: 'true'\n                                    }\n                                }\n                            ]\n                        },\n                        {\n                            resourceType: RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,\n                            guid: saveButtonId,\n                            type: RxViewComponentType.ActionButton,\n                            propertiesByName: {\n                                label: this.translateService.instant('com.bmc.arsys.rx.client.common.save.label'),\n                                style: 'primary',\n                                disabled: 'NOT${view.components.' + recordEditorId + '.canSave}',\n                                size: 'default'\n                            },\n                            componentDefinitions: [\n                                {\n                                    resourceType: RX_VIEW_DEFINITION.resourceTypes.viewComponent,\n                                    guid: this.rxGuidService.generate(),\n                                    type: RxViewComponentType.Action,\n                                    propertiesByName: {\n                                        viewApi: '${view.api}',\n                                        name: 'rxCloseViewAction',\n                                        actAsCancel: 'false'\n                                    }\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        };\n    }\n    getComponentDefinitions(columnDescriptors, recordEditorId) {\n        const submitterMode = this.rxSystemConfigurationService.getConfigurationSync('Submitter-Mode');\n        if (submitterMode === RX_ADMINISTRATION.submitterModes.locked) {\n            columnDescriptors = columnDescriptors.filter((columnDescriptor) => Number(columnDescriptor.fieldId) !== RX_RECORD_DEFINITION.coreFieldIds.createdBy);\n        }\n        const fieldContainerComponentDefinitions = this.getFieldContainerComponentDefinitions(columnDescriptors, recordEditorId);\n        return [\n            {\n                resourceType: RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,\n                guid: this.rxGuidService.generate(),\n                type: RxViewComponentType.Container,\n                propertiesByName: {\n                    rowWrap: ContainerRowWrap.Sm,\n                    columnCount: '1'\n                },\n                componentDefinitions: fieldContainerComponentDefinitions,\n                layout: JSON.stringify({\n                    outlets: [\n                        {\n                            name: RX_VIEW_DEFINITION.defaultOutletName,\n                            columns: [\n                                {\n                                    children: fieldContainerComponentDefinitions.map((componentDefinition) => componentDefinition.guid)\n                                }\n                            ]\n                        }\n                    ]\n                })\n            }\n        ];\n    }\n    getFieldContainerComponentDefinitions(columnDescriptors, recordEditorId) {\n        return columnDescriptors\n            .filter((columnDescriptor) => !this.rxFieldDefinitionService.isSystemField(columnDescriptor.fieldDefinition))\n            .map((columnDescriptor) => {\n            let resourceType, componentType;\n            const isAssociated = Boolean(columnDescriptor.associationDescriptor);\n            if (isAssociated) {\n                resourceType = RX_VIEW_DEFINITION.resourceTypes.containerViewComponent;\n                componentType = RxViewComponentType.Association;\n            }\n            else {\n                resourceType = RX_VIEW_DEFINITION.resourceTypes.viewComponent;\n                componentType = this.rxDefaultRecordEditorInputType.getFieldTypeByFieldDefinition(columnDescriptor.fieldDefinition);\n            }\n            const componentDefinition = {\n                resourceType: resourceType,\n                guid: this.rxGuidService.generate(),\n                type: componentType,\n                propertiesByName: {\n                    fieldId: columnDescriptor.fieldDefinition.id,\n                    recordDefinition: '${view.components.' + recordEditorId + '.recordDefinition}',\n                    recordInstance: '${view.components.' + recordEditorId + '.recordInstance}',\n                    label: columnDescriptor.title,\n                    fieldOption: RX_RECORD_DEFINITION.fieldOptions.optional\n                }\n            };\n            if (isAssociated) {\n                componentDefinition.componentDefinitions = [];\n                assign(componentDefinition.propertiesByName, {\n                    associatedRecordNodeSide: columnDescriptor.associationDescriptor.nodeSide,\n                    editingMode: RxAssociationEditingMode.Dropdown,\n                    associationDefinitionName: columnDescriptor.associationDescriptor.associationDefinition.name,\n                    recordDefinitionName: columnDescriptor.associationDescriptor.recordDefinitionName\n                });\n            }\n            return componentDefinition;\n        })\n            .reduce((fieldContainerComponentDefinitions, fieldComponentDefinition, index, fieldComponentDefinitions) => {\n            if (index % 2 === 0) {\n                fieldContainerComponentDefinitions.push({\n                    resourceType: RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,\n                    guid: this.rxGuidService.generate(),\n                    type: RxViewComponentType.Container,\n                    propertiesByName: {\n                        rowWrap: ContainerRowWrap.Sm,\n                        columnCount: '2'\n                    },\n                    componentDefinitions: fieldComponentDefinitions.slice(index, index + 2),\n                    layout: JSON.stringify({\n                        outlets: [\n                            {\n                                name: RX_VIEW_DEFINITION.defaultOutletName,\n                                columns: [\n                                    {\n                                        children: [fieldComponentDefinition.guid],\n                                        span: '6'\n                                    },\n                                    {\n                                        children: fieldComponentDefinitions.length > index + 1\n                                            ? [fieldComponentDefinitions[index + 1].guid]\n                                            : [],\n                                        span: '6'\n                                    }\n                                ]\n                            }\n                        ]\n                    })\n                });\n            }\n            return fieldContainerComponentDefinitions;\n        }, []);\n    }\n}\nRxEditRecordsViewBuilder.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxEditRecordsViewBuilder, deps: [{ token: i1.RxGuidService }, { token: i2.RxDefaultRecordEditorInputType }, { token: i4.RxFieldDefinitionService }, { token: i4$1.TranslateService }, { token: i1$4.RxSystemConfigurationService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxEditRecordsViewBuilder.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxEditRecordsViewBuilder, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxEditRecordsViewBuilder, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.RxGuidService }, { type: i2.RxDefaultRecordEditorInputType }, { type: i4.RxFieldDefinitionService }, { type: i4$1.TranslateService }, { type: i1$4.RxSystemConfigurationService }]; } });\n\nclass RxEditRecordsViewActionService {\n    constructor(rxEditRecordsViewBuilder, rxEditRecordsDataService, rxLogService, rxRecordGridUtilsService, translateService, rxDefinitionNameService, openViewAction, rxViewActionUtilsService) {\n        this.rxEditRecordsViewBuilder = rxEditRecordsViewBuilder;\n        this.rxEditRecordsDataService = rxEditRecordsDataService;\n        this.rxLogService = rxLogService;\n        this.rxRecordGridUtilsService = rxRecordGridUtilsService;\n        this.translateService = translateService;\n        this.rxDefinitionNameService = rxDefinitionNameService;\n        this.openViewAction = openViewAction;\n        this.rxViewActionUtilsService = rxViewActionUtilsService;\n    }\n    execute(params) {\n        let { recordDefinitionName } = params;\n        if (isNil(params.records)) {\n            return throwError(new RxError('rxEditRecordsAction: no records to edit.'));\n        }\n        if (isEmpty(recordDefinitionName) && isFunction(params.records.getRecordDefinitionName)) {\n            recordDefinitionName = params.records.getRecordDefinitionName();\n        }\n        if (recordDefinitionName) {\n            const recordIds = this.rxViewActionUtilsService.extractRecordIds(params.records);\n            if (recordIds.length) {\n                return from(this.rxRecordGridUtilsService.getColumnDescriptors(recordDefinitionName, params.records)).pipe(switchMap((columnDescriptors) => {\n                    const localizedViewTitle = this.translateService.instant('com.bmc.arsys.rx.client.view-actions.edit-records.view.title', { recordDefinitionName: this.rxDefinitionNameService.getDisplayName(recordDefinitionName) });\n                    const localizedViewNotification = this.translateService.instant('com.bmc.arsys.rx.client.view-actions.edit-records.view.notification');\n                    return this.openViewAction\n                        .execute({\n                        presentation: {\n                            modalSize: RX_OPEN_VIEW.modalSize.Large,\n                            title: localizedViewTitle,\n                            notification: localizedViewNotification,\n                            type: RX_OPEN_VIEW.type.DockedRightModal\n                        },\n                        viewDefinitionName: this.rxEditRecordsViewBuilder.getViewDefinition(recordDefinitionName, columnDescriptors),\n                        viewParams: null\n                    })\n                        .pipe(switchMap((viewOutput) => viewOutput && viewOutput.recordInstance\n                        ? this.rxEditRecordsDataService\n                            .runAction(recordIds, viewOutput.recordInstance)\n                            .pipe(switchMap(() => isFunction(params.records.refresh)\n                            ? params.records.refresh()\n                            : EMPTY))\n                        : EMPTY));\n                }));\n            }\n            else {\n                this.rxLogService.debug('rxEditRecordsAction: no records to edit.');\n            }\n        }\n        else {\n            this.rxLogService.error('rxEditRecordsAction: Record Definition Name is not defined.');\n        }\n        return EMPTY;\n    }\n}\nRxEditRecordsViewActionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxEditRecordsViewActionService, deps: [{ token: RxEditRecordsViewBuilder }, { token: RxEditRecordsDataService }, { token: i1$4.RxLogService }, { token: i2.RxRecordGridUtilsService }, { token: i4$1.TranslateService }, { token: i1$4.RxDefinitionNameService }, { token: RxOpenViewActionService }, { token: i1$1.RxViewActionUtilsService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxEditRecordsViewActionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxEditRecordsViewActionService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxEditRecordsViewActionService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxEditRecordsViewBuilder }, { type: RxEditRecordsDataService }, { type: i1$4.RxLogService }, { type: i2.RxRecordGridUtilsService }, { type: i4$1.TranslateService }, { type: i1$4.RxDefinitionNameService }, { type: RxOpenViewActionService }, { type: i1$1.RxViewActionUtilsService }]; } });\n\nclass EditRecordsViewActionModule {\n    constructor(rxViewActionRegistryService, rxEditRecordsActionService) {\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxEditRecordsActionService = rxEditRecordsActionService;\n        this.rxViewActionRegistryService.register({\n            name: 'rxEditRecordsAction',\n            label: 'Edit records',\n            bundleId: RX_APPLICATION.platformBundleId,\n            service: this.rxEditRecordsActionService,\n            parameters: [\n                {\n                    name: 'records',\n                    label: 'Records',\n                    isRequired: true,\n                    tooltip: new Tooltip(`Build an expression that evaluates to one of the following:<br>\n            1) Record Grid;<br>\n            2) A collection of Record Instances, or<br>\n            3) A collection of Record Instance IDs. <br>For options 2 and 3, select a Record Definition in the field below.`),\n                    enableExpressionEvaluation: true,\n                    editor: ExpressionFormControlComponent\n                },\n                {\n                    name: 'recordDefinitionName',\n                    label: 'Record definition',\n                    type: ViewComponentPropertyType.String,\n                    editor: RxDefinitionPickerComponent,\n                    editorOptions: {\n                        definitionType: RxDefinitionPickerType.StandardDataRecord\n                    },\n                    defaultValue: null\n                }\n            ]\n        });\n    }\n}\nEditRecordsViewActionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: EditRecordsViewActionModule, deps: [{ token: i1$1.RxViewActionRegistryService }, { token: RxEditRecordsViewActionService }], target: i0.ɵɵFactoryTarget.NgModule });\nEditRecordsViewActionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: EditRecordsViewActionModule, declarations: [ResultModalComponent], imports: [CommonModule, AdaptIconModule, TranslateModule, FormsModule, AdaptRxTextareaModule] });\nEditRecordsViewActionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: EditRecordsViewActionModule, imports: [[CommonModule, AdaptIconModule, TranslateModule, FormsModule, AdaptRxTextareaModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: EditRecordsViewActionModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, AdaptIconModule, TranslateModule, FormsModule, AdaptRxTextareaModule],\n                    declarations: [ResultModalComponent],\n                    entryComponents: [ResultModalComponent]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxViewActionRegistryService }, { type: RxEditRecordsViewActionService }]; } });\n\nclass RxLaunchProcessViewActionDesignManagerService {\n    constructor(rxProcessDefinitionService, rxViewActionRegistryService, rxViewExpressionValidatorService) {\n        this.rxProcessDefinitionService = rxProcessDefinitionService;\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxViewExpressionValidatorService = rxViewExpressionValidatorService;\n    }\n    validate(properties, propertyName) {\n        if (properties.processDefinitionName) {\n            return this.rxProcessDefinitionService.get(properties.processDefinitionName).pipe(switchMap((processDefinition) => combineLatest([\n                this.validateInputParams(properties, propertyName, processDefinition.inputParams),\n                this.validateInputParamExpressions(properties, propertyName, processDefinition.inputParams)\n            ])), map(flatten));\n        }\n        else {\n            return of([]);\n        }\n    }\n    validateInputParamExpressions(actionParams, issuePropertyName, processInputParams) {\n        const actionDescriptor = this.rxViewActionRegistryService.get(actionParams.name);\n        const issues = processInputParams\n            .filter((processInputParam) => actionParams[`actionProcessInputParams.${processInputParam.name}`])\n            .map((processInputParam) => this.rxViewExpressionValidatorService\n            .validate(actionParams[`actionProcessInputParams.${processInputParam.name}`], issuePropertyName, actionDescriptor.label)\n            .pipe(map((issues) => issues.map((issue) => (Object.assign(Object.assign({}, issue), { description: `${actionDescriptor.label} action: ${issue.description}` }))))));\n        return combineLatest(issues).pipe(defaultIfEmpty([]), map(flatten));\n    }\n    validateInputParams(actionParams, issuePropertyName, processInputParams) {\n        const actionDescriptor = this.rxViewActionRegistryService.get(actionParams.name);\n        const validationIssues = [];\n        forEach(processInputParams, (processInputParam) => {\n            const actionParamName = `actionProcessInputParams.${processInputParam.name}`;\n            if (processInputParam.fieldOption === 'REQUIRED' && isEmpty(actionParams[actionParamName])) {\n                validationIssues.push({\n                    type: 'error',\n                    description: `${actionDescriptor.label}: ${processInputParam.name} cannot be blank.`,\n                    propertyName: issuePropertyName\n                });\n            }\n        });\n        return of(validationIssues);\n    }\n}\nRxLaunchProcessViewActionDesignManagerService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchProcessViewActionDesignManagerService, deps: [{ token: i3$2.RxProcessDefinitionService }, { token: i1$1.RxViewActionRegistryService }, { token: i3$3.RxViewExpressionValidatorService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxLaunchProcessViewActionDesignManagerService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchProcessViewActionDesignManagerService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchProcessViewActionDesignManagerService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i3$2.RxProcessDefinitionService }, { type: i1$1.RxViewActionRegistryService }, { type: i3$3.RxViewExpressionValidatorService }]; } });\n\nclass RxLaunchProcessViewActionDesignModel extends RxViewDesignerActionModel {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.injector = injector;\n        this.sandbox = sandbox;\n        this.rxProcessDefinitionCacheService = this.injector.get(RxProcessDefinitionCacheService);\n        this.rxRecordDefinitionCacheService = this.injector.get(RxRecordDefinitionCacheService);\n        this.defaultProps = {\n            processDefinitionName: null,\n            waitForProcessCompletion: false\n        };\n        const processDefinitionName$ = this.sandbox.actionProperties$.pipe(pluck('processDefinitionName'), distinctUntilChanged());\n        processDefinitionName$.pipe(skip(1)).subscribe((processDefinitionName) => {\n            this.sandbox.setActionProperties({\n                processDefinitionName,\n                waitForProcessCompletion: false\n            });\n        });\n        processDefinitionName$\n            .pipe(switchMap((processDefinitionName) => processDefinitionName\n            ? this.rxProcessDefinitionCacheService.getProcessDefinition(processDefinitionName)\n            : of(null)))\n            .subscribe((processDefinition) => this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig(processDefinition)));\n        this.sandbox.actionProperties$\n            .pipe(map((props) => [props.processDefinitionName, props.waitForProcessCompletion]), distinctUntilChanged(isEqual), switchMap(([processDefinitionName, waitForProcessCompletion]) => this.getActionOutputDataDictionary(processDefinitionName, waitForProcessCompletion)))\n            .subscribe((dataDictionary) => this.sandbox.setActionOutputDataDictionary(dataDictionary));\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign({ processDefinitionName: null, waitForProcessCompletion: false }, initialProperties);\n    }\n    getActionEditorConfig(processDefinition) {\n        return [\n            {\n                name: 'processDefinitionName',\n                component: RxDefinitionPickerComponent,\n                options: {\n                    label: 'Process to start',\n                    definitionType: RxDefinitionPickerType.Process,\n                    required: true\n                }\n            },\n            {\n                name: 'waitForProcessCompletion',\n                component: SwitchFormControlComponent,\n                isDisabled: processDefinition ? !processDefinition.synchronous : true,\n                options: {\n                    label: 'Wait for process completion',\n                    tooltip: new Tooltip('If a process runs synchronously, it is possible to get output data from the process once the process completes. Enable Wait for completion in order to define an output map for the selected process.')\n                }\n            },\n            ...(processDefinition\n                ? map$1(processDefinition.inputParams, (param) => ({\n                    name: `actionProcessInputParams.${param.name}`,\n                    component: ExpressionFormControlComponent,\n                    options: {\n                        label: param.name,\n                        dataDictionary$: this.expressionConfigurator.getDataDictionary(),\n                        operators: this.expressionConfigurator.getOperators(),\n                        isRequired: param.fieldOption === 'REQUIRED'\n                    }\n                }))\n                : [])\n        ];\n    }\n    getActionOutputDataDictionary(processDefinitionName, waitForProcessCompletion) {\n        return waitForProcessCompletion\n            ? this.rxProcessDefinitionCacheService.getOutputParams(processDefinitionName).pipe(switchMap((outputParams) => forkJoin(outputParams.map((param) => {\n                let dataDictionary;\n                if (param.fieldTypeName === RX_PROCESS_DEFINITION.processVariableTypes.record) {\n                    const recordInstanceParam = param;\n                    dataDictionary = this.rxRecordDefinitionCacheService\n                        .getRecordDefinition(recordInstanceParam.recordDefinitionName)\n                        .pipe(map((recordDefinition) => ({\n                        label: recordInstanceParam.name,\n                        expression: this.getOutputExpressionForPropertyPath(recordInstanceParam.name),\n                        children: map$1(recordDefinition.fieldDefinitions, (fieldDefinition) => ({\n                            label: fieldDefinition.name,\n                            expression: this.getOutputExpressionForPropertyPath(`${recordInstanceParam.name}.${fieldDefinition.id}`)\n                        }))\n                    })));\n                }\n                else {\n                    dataDictionary = of({\n                        label: param.name,\n                        expression: this.getOutputExpressionForPropertyPath(param.name)\n                    });\n                }\n                return dataDictionary;\n            }))))\n            : of([]);\n    }\n}\n\nclass RxLaunchProcessViewActionService {\n    constructor(rxJsonParserService, rxLogService, rxProcessDefinitionCacheService, rxRecordDefinitionCacheService, rxProcessInstanceCommandsService, rxProcessInstanceService, rxRecordInstanceService) {\n        this.rxJsonParserService = rxJsonParserService;\n        this.rxLogService = rxLogService;\n        this.rxProcessDefinitionCacheService = rxProcessDefinitionCacheService;\n        this.rxRecordDefinitionCacheService = rxRecordDefinitionCacheService;\n        this.rxProcessInstanceCommandsService = rxProcessInstanceCommandsService;\n        this.rxProcessInstanceService = rxProcessInstanceService;\n        this.rxRecordInstanceService = rxRecordInstanceService;\n    }\n    execute(params) {\n        let processId;\n        let processDefinitionOutputParams;\n        return this.rxProcessInstanceCommandsService\n            .start(params.processDefinitionName, params.actionProcessInputParams)\n            .pipe(switchMap((res) => {\n            if (params.waitForProcessCompletion) {\n                const location = res.headers.get('location');\n                processId = location ? last(location.split('/')) : null;\n                return this.rxProcessDefinitionCacheService.getOutputParams(params.processDefinitionName);\n            }\n            else {\n                return of(null);\n            }\n        }), switchMap((plainOutputParams) => {\n            if (!isEmpty(plainOutputParams)) {\n                processDefinitionOutputParams = plainOutputParams.reduce((outputParams, value) => {\n                    outputParams[value.name] = value;\n                    return outputParams;\n                }, {});\n                return this.rxProcessInstanceService.get(params.processDefinitionName, `${processId}/processOutputVariables`);\n            }\n            else {\n                return of(null);\n            }\n        }), switchMap((processOutputVariables) => {\n            const outputResult = {};\n            forEach(processOutputVariables, (variableValue, variableName) => {\n                if (processDefinitionOutputParams[variableName].fieldTypeName ===\n                    RX_PROCESS_DEFINITION.processVariableTypes.record) {\n                    const recordInstanceOutputData = this.rxJsonParserService.tryParseJson(variableValue);\n                    if (recordInstanceOutputData &&\n                        recordInstanceOutputData.recordDefinitionName &&\n                        recordInstanceOutputData.id) {\n                        outputResult[variableName] = this.rxRecordInstanceService\n                            .get(recordInstanceOutputData.recordDefinitionName, recordInstanceOutputData.id)\n                            .pipe(map((recordInstance) => reduce(recordInstance.fieldInstances, (result, fieldInstance) => {\n                            result[fieldInstance.id] = fieldInstance.value;\n                            return result;\n                        }, {})));\n                    }\n                    else {\n                        this.rxLogService.warning('rxLaunchProcessAction: unknown format for record instance as output data for process');\n                    }\n                }\n                else {\n                    outputResult[variableName] = of(variableValue);\n                }\n            });\n            return forkJoin(outputResult);\n        }));\n    }\n}\nRxLaunchProcessViewActionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchProcessViewActionService, deps: [{ token: i1.RxJsonParserService }, { token: i1$4.RxLogService }, { token: i3$2.RxProcessDefinitionCacheService }, { token: i4.RxRecordDefinitionCacheService }, { token: i3$2.RxProcessInstanceCommandsService }, { token: i3$2.RxProcessInstanceService }, { token: i4.RxRecordInstanceService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxLaunchProcessViewActionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchProcessViewActionService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchProcessViewActionService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.RxJsonParserService }, { type: i1$4.RxLogService }, { type: i3$2.RxProcessDefinitionCacheService }, { type: i4.RxRecordDefinitionCacheService }, { type: i3$2.RxProcessInstanceCommandsService }, { type: i3$2.RxProcessInstanceService }, { type: i4.RxRecordInstanceService }]; } });\n\nclass LaunchProcessViewActionModule {\n    constructor(rxViewActionRegistryService, rxLaunchProcessViewActionService, rxLaunchProcessViewActionDesignManagerService) {\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxLaunchProcessViewActionService = rxLaunchProcessViewActionService;\n        this.rxLaunchProcessViewActionDesignManagerService = rxLaunchProcessViewActionDesignManagerService;\n        this.rxViewActionRegistryService.register({\n            name: 'rxLaunchProcessAction',\n            label: 'Launch process',\n            bundleId: RX_APPLICATION.platformBundleId,\n            service: this.rxLaunchProcessViewActionService,\n            designManager: this.rxLaunchProcessViewActionDesignManagerService,\n            designModel: RxLaunchProcessViewActionDesignModel,\n            parameters: [\n                {\n                    name: 'processDefinitionName',\n                    label: 'Process to start',\n                    type: ViewComponentPropertyType.String,\n                    isRequired: true\n                },\n                {\n                    name: 'waitForProcessCompletion',\n                    type: ViewComponentPropertyType.Boolean,\n                    designType: ViewComponentPropertyType.Boolean\n                },\n                {\n                    name: 'actionProcessInputParams',\n                    label: 'Input map',\n                    enableExpressionEvaluation: true\n                }\n            ]\n        });\n    }\n}\nLaunchProcessViewActionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LaunchProcessViewActionModule, deps: [{ token: i1$1.RxViewActionRegistryService }, { token: RxLaunchProcessViewActionService }, { token: RxLaunchProcessViewActionDesignManagerService }], target: i0.ɵɵFactoryTarget.NgModule });\nLaunchProcessViewActionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LaunchProcessViewActionModule });\nLaunchProcessViewActionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LaunchProcessViewActionModule, providers: [RxLaunchProcessViewActionDesignManagerService] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LaunchProcessViewActionModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    providers: [RxLaunchProcessViewActionDesignManagerService]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxViewActionRegistryService }, { type: RxLaunchProcessViewActionService }, { type: RxLaunchProcessViewActionDesignManagerService }]; } });\n\nclass RxLaunchUrlViewActionService {\n    execute(params) {\n        if (params.url) {\n            window.open(params.url, RX_LAUNCH_BEHAVIOR[params.launchBehavior].target);\n            return EMPTY;\n        }\n        else {\n            return throwError(new RxError('rxLaunchUrlAction: URL is not specified.'));\n        }\n    }\n}\nRxLaunchUrlViewActionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchUrlViewActionService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxLaunchUrlViewActionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchUrlViewActionService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchUrlViewActionService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RxLaunchUrlViewActionDesignModel extends RxViewDesignerActionModel {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.injector = injector;\n        this.sandbox = sandbox;\n        this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig());\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign({ url: null, launchBehavior: RX_LAUNCH_BEHAVIOR.newWindow.value }, initialProperties);\n    }\n    getActionEditorConfig() {\n        return [\n            {\n                name: 'url',\n                component: ExpressionFormControlComponent,\n                options: {\n                    label: 'URL',\n                    isRequired: true,\n                    dataDictionary$: this.expressionConfigurator.getDataDictionary(),\n                    operators: this.expressionConfigurator.getOperators()\n                }\n            },\n            {\n                name: 'launchBehavior',\n                component: SelectFormControlComponent,\n                options: {\n                    label: 'Launch behavior',\n                    options: map$1(RX_LAUNCH_BEHAVIOR, (value) => ({\n                        name: value.content,\n                        id: value.value\n                    })),\n                    sortAlphabetically: false\n                }\n            }\n        ];\n    }\n}\n\nclass RxLaunchUrlViewActionDefinitionAdapterService {\n    adaptDefinition(viewComponentDefinition) {\n        var _a;\n        const propertiesByName = get(viewComponentDefinition, 'propertiesByName', {});\n        propertiesByName.launchBehavior = (_a = propertiesByName.launchBehavior) !== null && _a !== void 0 ? _a : RX_LAUNCH_BEHAVIOR.newWindow.value;\n    }\n}\nRxLaunchUrlViewActionDefinitionAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchUrlViewActionDefinitionAdapterService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxLaunchUrlViewActionDefinitionAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchUrlViewActionDefinitionAdapterService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchUrlViewActionDefinitionAdapterService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass LaunchUrlViewActionModule {\n    constructor(rxViewActionDefinitionAdapterRegistryService, rxViewActionRegistryService, rxLaunchUrlViewActionService, rxLaunchUrlActionDefinitionAdapterService) {\n        this.rxViewActionDefinitionAdapterRegistryService = rxViewActionDefinitionAdapterRegistryService;\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxLaunchUrlViewActionService = rxLaunchUrlViewActionService;\n        this.rxLaunchUrlActionDefinitionAdapterService = rxLaunchUrlActionDefinitionAdapterService;\n        this.rxViewActionRegistryService.register({\n            name: 'rxLaunchUrlAction',\n            label: 'Launch URL',\n            bundleId: RX_APPLICATION.platformBundleId,\n            service: this.rxLaunchUrlViewActionService,\n            designModel: RxLaunchUrlViewActionDesignModel,\n            parameters: [\n                {\n                    name: 'url',\n                    label: 'URL',\n                    enableExpressionEvaluation: true,\n                    isRequired: true\n                },\n                {\n                    name: 'launchBehavior',\n                    label: 'Launch behavior'\n                }\n            ]\n        });\n        rxViewActionDefinitionAdapterRegistryService.registerRuntimeAdapter('rxLaunchUrlAction', this.rxLaunchUrlActionDefinitionAdapterService);\n    }\n}\nLaunchUrlViewActionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LaunchUrlViewActionModule, deps: [{ token: i1$1.RxViewActionDefinitionAdapterRegistryService }, { token: i1$1.RxViewActionRegistryService }, { token: RxLaunchUrlViewActionService }, { token: RxLaunchUrlViewActionDefinitionAdapterService }], target: i0.ɵɵFactoryTarget.NgModule });\nLaunchUrlViewActionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LaunchUrlViewActionModule });\nLaunchUrlViewActionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LaunchUrlViewActionModule });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LaunchUrlViewActionModule, decorators: [{\n            type: NgModule\n        }], ctorParameters: function () { return [{ type: i1$1.RxViewActionDefinitionAdapterRegistryService }, { type: i1$1.RxViewActionRegistryService }, { type: RxLaunchUrlViewActionService }, { type: RxLaunchUrlViewActionDefinitionAdapterService }]; } });\n\nclass RxRefreshViewActionService {\n    execute(params) {\n        if (params.component) {\n            return isFunction(params.component.refresh)\n                ? params.component.refresh()\n                : throwError(new RxError('rxRefreshAction: target component does not support refresh API.'));\n        }\n        else {\n            return throwError(new RxError('rxRefreshAction: component is not specified.'));\n        }\n    }\n}\nRxRefreshViewActionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRefreshViewActionService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxRefreshViewActionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRefreshViewActionService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRefreshViewActionService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RefreshViewActionModule {\n    constructor(rxViewActionRegistryService, rxRefreshViewActionService) {\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxRefreshViewActionService = rxRefreshViewActionService;\n        this.rxViewActionRegistryService.register({\n            name: 'rxRefreshAction',\n            label: 'Refresh',\n            bundleId: RX_APPLICATION.platformBundleId,\n            service: this.rxRefreshViewActionService,\n            parameters: [\n                {\n                    name: 'component',\n                    label: 'View/Component',\n                    enableExpressionEvaluation: true,\n                    isRequired: true,\n                    editor: ExpressionFormControlComponent\n                }\n            ]\n        });\n    }\n}\nRefreshViewActionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RefreshViewActionModule, deps: [{ token: i1$1.RxViewActionRegistryService }, { token: RxRefreshViewActionService }], target: i0.ɵɵFactoryTarget.NgModule });\nRefreshViewActionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RefreshViewActionModule });\nRefreshViewActionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RefreshViewActionModule });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RefreshViewActionModule, decorators: [{\n            type: NgModule\n        }], ctorParameters: function () { return [{ type: i1$1.RxViewActionRegistryService }, { type: RxRefreshViewActionService }]; } });\n\nclass RxSaveViewActionService {\n    execute(params) {\n        if (isFunction(params.targetApi.save)) {\n            const closeAfterSave$ = isFunction(params.viewApi.close)\n                ? EMPTY.pipe(tap({\n                    complete() {\n                        params.viewApi.close();\n                    }\n                }))\n                : throwError(new RxError('rxSaveAction: target view does not support close API.'));\n            return concat(params.targetApi.save(params.closeAfterSave), params.closeAfterSave ? closeAfterSave$ : EMPTY);\n        }\n        else {\n            return throwError(new RxError('rxSaveAction: target view/component does not support save API.'));\n        }\n    }\n}\nRxSaveViewActionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSaveViewActionService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxSaveViewActionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSaveViewActionService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSaveViewActionService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass SaveViewActionModule {\n    constructor(rxViewActionRegistryService, rxSaveViewActionService) {\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxSaveViewActionService = rxSaveViewActionService;\n        this.rxViewActionRegistryService.register({\n            name: 'rxSaveAction',\n            label: 'Save',\n            bundleId: RX_APPLICATION.platformBundleId,\n            service: this.rxSaveViewActionService,\n            parameters: [\n                {\n                    name: 'targetApi',\n                    label: 'View/Component',\n                    editor: ExpressionFormControlComponent,\n                    isRequired: true,\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'closeAfterSave',\n                    label: 'Close after save',\n                    editor: SwitchFormControlComponent,\n                    type: ViewComponentPropertyType.Boolean,\n                    designType: ViewComponentPropertyType.Boolean\n                },\n                {\n                    name: 'viewApi',\n                    enableExpressionEvaluation: true,\n                    defaultValue: '${view.api}'\n                }\n            ]\n        });\n    }\n}\nSaveViewActionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SaveViewActionModule, deps: [{ token: i1$1.RxViewActionRegistryService }, { token: RxSaveViewActionService }], target: i0.ɵɵFactoryTarget.NgModule });\nSaveViewActionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SaveViewActionModule });\nSaveViewActionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SaveViewActionModule });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SaveViewActionModule, decorators: [{\n            type: NgModule\n        }], ctorParameters: function () { return [{ type: i1$1.RxViewActionRegistryService }, { type: RxSaveViewActionService }]; } });\n\nclass RxSetPropertyViewActionService {\n    execute(params) {\n        let executionResult = throwError(new RxError('rxSetPropertyAction: component is not specified.'));\n        if (params.componentApi && isFunction(params.componentApi.setProperty) && params.propertyPath) {\n            // Extract <Path> from  ${view.components.<ID>.<Path>}\n            const matches = params.propertyPath.match(/^\\$\\{view\\.components\\.[0-9a-z-]+\\.(.+)}$/);\n            if (matches && matches[1]) {\n                executionResult = params.componentApi.setProperty(matches[1], params.propertyValue);\n            }\n        }\n        return isObservable(executionResult) ? executionResult : EMPTY;\n    }\n}\nRxSetPropertyViewActionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSetPropertyViewActionService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxSetPropertyViewActionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSetPropertyViewActionService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSetPropertyViewActionService, decorators: [{\n            type: Injectable\n        }] });\n\nclass RxSetPropertyViewActionExpressionConfigurator extends RxViewActionExpressionConfigurator {\n    constructor(injector, actionType, actionGuid) {\n        super(injector, actionType, actionGuid);\n        this.configureForProperty({\n            propertyPath: 'propertyPath',\n            dataDictionary$: injector.get(RxViewDataDictionaryService).settablePropertiesDataDictionary$,\n            operators: this.getOperatorRowsByGroup(ExpressionOperatorGroup.MathClient)\n        });\n    }\n}\n\nclass RxSetPropertyViewActionDesignModel extends RxViewDesignerActionModel {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.injector = injector;\n        this.sandbox = sandbox;\n        this.expressionConfigurator = new RxSetPropertyViewActionExpressionConfigurator(this.injector, this.sandbox.descriptor.name, this.guid);\n        this.sandbox.actionProperties$\n            .pipe(take(1))\n            .subscribe(() => this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig()));\n        this.sandbox.actionProperties$.pipe(pluck('propertyPath'), distinctUntilChanged()).subscribe((propertyPath) => {\n            let componentApi = null;\n            if (propertyPath && propertyPath.length) {\n                // Extract <ID> from ${view.components.<ID>.<Path>}\n                const matches = propertyPath.match(/\\${view\\.components\\.([0-9a-z-]+)\\..+}/);\n                if (matches && matches[1]) {\n                    componentApi = `\\${view.components.${matches[1]}.api}`;\n                }\n            }\n            this.sandbox.updateActionProperties({\n                componentApi\n            });\n        });\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign({ componentApi: null, propertyPath: null, propertyValue: null }, initialProperties);\n    }\n    getActionEditorConfig() {\n        return [\n            {\n                name: 'propertyPath',\n                component: ExpressionFormControlComponent,\n                options: {\n                    label: 'Property path',\n                    dataDictionary$: this.expressionConfigurator.getDataDictionary('propertyPath'),\n                    operators: this.expressionConfigurator.getOperators('propertyPath'),\n                    isRequired: true\n                }\n            },\n            {\n                name: 'propertyValue',\n                component: ExpressionFormControlComponent,\n                options: {\n                    label: 'Property value',\n                    dataDictionary$: this.expressionConfigurator.getDataDictionary('propertyValue'),\n                    operators: this.expressionConfigurator.getOperators('propertyValue')\n                }\n            }\n        ];\n    }\n}\n\nclass RxSetPropertyViewActionDesignManagerService {\n    validate(actionProperties, propertyName) {\n        return of(actionProperties.propertyPath && !/\\${view\\.components\\.([0-9a-z-]+)\\..+}/.test(actionProperties.propertyPath)\n            ? [\n                {\n                    type: 'error',\n                    description: 'Set property action: Property path is invalid.',\n                    propertyName\n                }\n            ]\n            : []);\n    }\n}\nRxSetPropertyViewActionDesignManagerService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSetPropertyViewActionDesignManagerService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxSetPropertyViewActionDesignManagerService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSetPropertyViewActionDesignManagerService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSetPropertyViewActionDesignManagerService, decorators: [{\n            type: Injectable\n        }] });\n\nclass SetPropertyViewActionModule {\n    constructor(rxViewActionRegistryService, rxSetPropertyViewActionService, rxSetPropertyViewActionDesignManagerService) {\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxSetPropertyViewActionService = rxSetPropertyViewActionService;\n        this.rxSetPropertyViewActionDesignManagerService = rxSetPropertyViewActionDesignManagerService;\n        this.rxViewActionRegistryService.register({\n            name: 'rxSetPropertyAction',\n            label: 'Set property',\n            bundleId: RX_APPLICATION.platformBundleId,\n            service: this.rxSetPropertyViewActionService,\n            designModel: RxSetPropertyViewActionDesignModel,\n            designManager: rxSetPropertyViewActionDesignManagerService,\n            parameters: [\n                {\n                    name: 'componentApi',\n                    label: 'Component API',\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'propertyPath',\n                    label: 'Property path',\n                    isRequired: true\n                },\n                {\n                    name: 'propertyValue',\n                    enableExpressionEvaluation: true\n                }\n            ]\n        });\n    }\n}\nSetPropertyViewActionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SetPropertyViewActionModule, deps: [{ token: i1$1.RxViewActionRegistryService }, { token: RxSetPropertyViewActionService }, { token: RxSetPropertyViewActionDesignManagerService }], target: i0.ɵɵFactoryTarget.NgModule });\nSetPropertyViewActionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SetPropertyViewActionModule });\nSetPropertyViewActionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SetPropertyViewActionModule, providers: [RxSetPropertyViewActionService, RxSetPropertyViewActionDesignManagerService] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SetPropertyViewActionModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    providers: [RxSetPropertyViewActionService, RxSetPropertyViewActionDesignManagerService]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxViewActionRegistryService }, { type: RxSetPropertyViewActionService }, { type: RxSetPropertyViewActionDesignManagerService }]; } });\n\nclass ProcessDesignerFrameComponent {\n    constructor(rxApplicationLoaderService, rxBundleCacheService, rxJsonParserService, rxProcessDefinitionCacheService, domSanitizer, activeModalRef, rxUtilityModalsService) {\n        this.rxApplicationLoaderService = rxApplicationLoaderService;\n        this.rxBundleCacheService = rxBundleCacheService;\n        this.rxJsonParserService = rxJsonParserService;\n        this.rxProcessDefinitionCacheService = rxProcessDefinitionCacheService;\n        this.domSanitizer = domSanitizer;\n        this.activeModalRef = activeModalRef;\n        this.rxUtilityModalsService = rxUtilityModalsService;\n        this.isProcessDesignerLoadingInProgress = true;\n        this.isDefinitionDirty = false;\n        this.context = activeModalRef;\n        const data = this.context.getData();\n        localStorage.setItem('ProcessDesignerPaletteElements', data.paletteElements);\n        this.iframeSrc = this.domSanitizer.bypassSecurityTrustResourceUrl(`/com.bmc.arsys.rx.innovationstudio/index.html#/app/bundle/${this.rxBundleCacheService.bundleId}/iprocess/${data.processDefinitionName ? data.processDefinitionName : ''}`);\n    }\n    onMessage(event) {\n        if (event.data) {\n            const message = this.rxJsonParserService.tryParseJson(event.data);\n            if (message) {\n                switch (message.messageType) {\n                    case RX_DESIGNER.messageTypes.designerLoaded: {\n                        this.isProcessDesignerLoadingInProgress = false;\n                        break;\n                    }\n                    case RX_DESIGNER.messageTypes.afterSave: {\n                        this.isDefinitionDirty = false;\n                        break;\n                    }\n                    case RX_DESIGNER.messageTypes.definitionStatusChanged: {\n                        this.isDefinitionDirty = message.payload.isDirty;\n                        break;\n                    }\n                    case RX_DESIGNER.messageTypes.closeDesigner: {\n                        if (message.payload.processDefinitionName) {\n                            if (this.isDefinitionDirty) {\n                                this.rxUtilityModalsService.confirmUnsavedChanges().then((isConfirmed) => {\n                                    if (isConfirmed) {\n                                        this.closeProcessDesigner(message.payload.processDefinitionName);\n                                    }\n                                });\n                            }\n                            else {\n                                this.closeProcessDesigner(message.payload.processDefinitionName);\n                            }\n                        }\n                        else {\n                            if (this.isDefinitionDirty) {\n                                this.rxUtilityModalsService.confirmUnsavedChanges().then((isConfirmed) => {\n                                    if (isConfirmed) {\n                                        this.context.dismiss(DismissReasons.CLOSE_BTN);\n                                    }\n                                });\n                            }\n                            else {\n                                this.context.dismiss(DismissReasons.CLOSE_BTN);\n                            }\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    }\n    closeProcessDesigner(processDefinitionName) {\n        this.rxProcessDefinitionCacheService.clearCache([processDefinitionName]);\n        this.context.close({ processDefinitionName });\n    }\n}\nProcessDesignerFrameComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ProcessDesignerFrameComponent, deps: [{ token: i1$4.RxApplicationLoaderService }, { token: i1$4.RxBundleCacheService }, { token: i1.RxJsonParserService }, { token: i3$2.RxProcessDefinitionCacheService }, { token: i4$2.DomSanitizer }, { token: i1$2.ActiveModalRef }, { token: i2$2.RxUtilityModalsService }], target: i0.ɵɵFactoryTarget.Component });\nProcessDesignerFrameComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ProcessDesignerFrameComponent, selector: \"rx-process-designer-frame\", host: { listeners: { \"window:message\": \"onMessage($event)\" } }, ngImport: i0, template: \"<div id=\\\"rx-application-loader-container\\\" class=\\\"position-absolute w-100\\\" *ngIf=\\\"isProcessDesignerLoadingInProgress\\\">\\n  <div class=\\\"rx-application-loader\\\"></div>\\n</div>\\n\\n<iframe [src]=\\\"iframeSrc\\\" class=\\\"h-100\\\"></iframe>\\n\", styles: [\":host{height:100vh}\\n\"], directives: [{ type: i2$3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ProcessDesignerFrameComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-process-designer-frame',\n                    templateUrl: './process-designer-frame.component.html',\n                    styleUrls: ['./process-designer-frame.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxApplicationLoaderService }, { type: i1$4.RxBundleCacheService }, { type: i1.RxJsonParserService }, { type: i3$2.RxProcessDefinitionCacheService }, { type: i4$2.DomSanitizer }, { type: i1$2.ActiveModalRef }, { type: i2$2.RxUtilityModalsService }]; }, propDecorators: { onMessage: [{\n                type: HostListener,\n                args: ['window:message', ['$event']]\n            }] } });\n\nclass RxLaunchProcessDesignerActionService {\n    constructor(adaptModalService, rxProcessDefinitionCacheService) {\n        this.adaptModalService = adaptModalService;\n        this.rxProcessDefinitionCacheService = rxProcessDefinitionCacheService;\n    }\n    execute(parameters) {\n        return parameters.processDefinitionName\n            ? this.rxProcessDefinitionCacheService\n                .getProcessDefinition(parameters.processDefinitionName)\n                .pipe(switchMap(() => this.openModal(parameters)))\n            : defer(() => from(this.openModal(parameters)));\n    }\n    openModal(parameters) {\n        return this.adaptModalService.open({\n            content: ProcessDesignerFrameComponent,\n            size: OpenViewActionModalSize.FullSize,\n            data: parameters\n        });\n    }\n}\nRxLaunchProcessDesignerActionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchProcessDesignerActionService, deps: [{ token: i1$2.AdaptModalService }, { token: i3$2.RxProcessDefinitionCacheService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxLaunchProcessDesignerActionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchProcessDesignerActionService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchProcessDesignerActionService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$2.AdaptModalService }, { type: i3$2.RxProcessDefinitionCacheService }]; } });\n\nclass RxProcessDesignerElementPickerComponent extends ValueAccessor {\n    constructor(rxDesignerStencilBuilder, rxJsonParserService, rxProcessElementsService, renderer, translateService) {\n        super();\n        this.rxDesignerStencilBuilder = rxDesignerStencilBuilder;\n        this.rxJsonParserService = rxJsonParserService;\n        this.rxProcessElementsService = rxProcessElementsService;\n        this.renderer = renderer;\n        this.translateService = translateService;\n        this.selection = [];\n        this.destroyed$ = new ReplaySubject(1);\n    }\n    ngOnInit() {\n        const paletteElementsControl = this.innerValue;\n        this.selectedPaletteElements =\n            paletteElementsControl === '*' ? '*' : this.rxJsonParserService.tryParseJson(paletteElementsControl, null);\n        this.rxDesignerStencilBuilder\n            .buildElementsTree(this.rxProcessElementsService.getProcessElements(), RX_PROCESS_DEFINITION.standardProcessElementGroups)\n            .pipe(take(1))\n            .subscribe((processElementsTree) => {\n            forEach(processElementsTree, (group) => {\n                var _a;\n                group.expanded = true;\n                group.allChildElementsSelected = true;\n                if ((_a = this.selectedPaletteElements) === null || _a === void 0 ? void 0 : _a.length) {\n                    forEach(group.children, (element) => {\n                        if (this.selectedPaletteElements === '*' ||\n                            some(this.selectedPaletteElements, (selectedPaletteElement) => isEqual(selectedPaletteElement, element.value))) {\n                            this.selection.push(element);\n                        }\n                        else {\n                            group.allChildElementsSelected = false;\n                        }\n                    });\n                    if (group.allChildElementsSelected) {\n                        this.selection.push(group);\n                    }\n                }\n            });\n            this.processElementsTree = [\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.process-designer.all-elements.label'),\n                    expanded: true,\n                    children: processElementsTree\n                }\n            ];\n            this.stencilElements = flatten(map$1(processElementsTree, 'children'));\n            if (this.selectedPaletteElements === '*') {\n                this.selection.push(...this.processElementsTree);\n                this.selectedPaletteElements = map$1(this.stencilElements, 'value');\n            }\n            this.updatePickerFakeInputValue();\n        });\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n    onSelectionChange() {\n        this.selectedPaletteElements = this.selection.filter((node) => !node.children).map((node) => node.value);\n        if (this.selectedPaletteElements.length === 0) {\n            this.selectedPaletteElements = null;\n            this.value = null;\n        }\n        else if (this.stencilElements.length === this.selectedPaletteElements.length) {\n            this.value = '*';\n        }\n        else {\n            this.value = JSON.stringify(this.selectedPaletteElements);\n        }\n        this.updatePickerFakeInputValue();\n    }\n    updatePickerFakeInputValue() {\n        if (isEmpty(this.selectedPaletteElements)) {\n            this.selectedPaletteElementsByLabel = '';\n        }\n        else if (this.stencilElements.length === this.selectedPaletteElements.length) {\n            this.selectedPaletteElementsByLabel = this.translateService.instant('com.bmc.arsys.rx.client.common.all.label');\n        }\n        else if (this.selectedPaletteElements.length === 1) {\n            this.selectedPaletteElementsByLabel = this.translateService.instant('com.bmc.arsys.rx.client.process-designer.one-element-selected.label');\n        }\n        else {\n            this.selectedPaletteElementsByLabel = this.translateService.instant('com.bmc.arsys.rx.client.process-designer.many-elements-selected.label', {\n                count: this.selectedPaletteElements.length\n            });\n        }\n    }\n    clearDefinition(e) {\n        e.stopPropagation();\n        this.selection = [];\n        this.selectedPaletteElements = null;\n        this.selectedPaletteElementsByLabel = '';\n        this.value = null;\n    }\n    setDropdownWidth() {\n        setTimeout(() => {\n            const dropdownButton = this.renderer.selectRootElement(this.dropdownButton.nativeElement, true);\n            // 2px - border\n            this.dropdownWidth = Math.max(dropdownButton.clientWidth) + 2;\n        });\n    }\n}\nRxProcessDesignerElementPickerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxProcessDesignerElementPickerComponent, deps: [{ token: i1$4.RxDesignerStencilBuilder }, { token: i1.RxJsonParserService }, { token: i3$2.RxProcessElementsService }, { token: i0.Renderer2 }, { token: i4$1.TranslateService }], target: i0.ɵɵFactoryTarget.Component });\nRxProcessDesignerElementPickerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxProcessDesignerElementPickerComponent, selector: \"rx-process-designer-element-picker\", inputs: { options: \"options\" }, providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: RxProcessDesignerElementPickerComponent,\n            multi: true\n        }\n    ], viewQueries: [{ propertyName: \"dropdownButton\", first: true, predicate: [\"dropdownButton\"], descendants: true, static: true }], usesInheritance: true, ngImport: i0, template: \"<adapt-rx-control-label [label]=\\\"options.label\\\"></adapt-rx-control-label>\\n\\n<div\\n  adaptDropdown\\n  appendToBody=\\\"true\\\"\\n  autoClose=\\\"outside\\\"\\n  class=\\\"dropdown\\\"\\n  placement=\\\"bottom-left\\\"\\n  (onOpen)=\\\"setDropdownWidth()\\\"\\n>\\n  <button\\n    adaptDropdownToggle\\n    class=\\\"btn btn-secondary d-flex text-center w-100\\\"\\n    rx-id=\\\"toggle-button\\\"\\n    type=\\\"button\\\"\\n    #dropdownButton\\n  >\\n    <span class=\\\"rx-selected-item text-left flex-grow-1\\\">{{ selectedPaletteElementsByLabel }}</span>\\n\\n    <span rx-id=\\\"clear-button\\\" class=\\\"d-icon-cross_adapt btn-link\\\" (click)=\\\"clearDefinition($event)\\\" *ngIf=\\\"value\\\">\\n    </span>\\n  </button>\\n\\n  <div class=\\\"dropdown-menu px-3\\\" [style.width.px]=\\\"dropdownWidth\\\" adaptDropdownMenu>\\n    <adapt-tree\\n      [value]=\\\"processElementsTree\\\"\\n      [selectionMode]=\\\"'checkbox'\\\"\\n      [(selection)]=\\\"selection\\\"\\n      (selectionChange)=\\\"onSelectionChange()\\\"\\n    ></adapt-tree>\\n  </div>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.rx-selected-item{min-height:20px}span[rx-id=clear-button]{cursor:pointer;margin-right:5px}span[rx-id=clear-button]:not(:hover){color:#313538}.dropdown-menu{height:400px}\\n\"], components: [{ type: i1$2.AdaptRxControlLabelComponent, selector: \"adapt-rx-control-label\", inputs: [\"for\", \"id\", \"label\", \"subLabel\", \"requiredLabel\", \"showRequiredLabel\", \"tooltip\", \"testID\"] }, { type: i1$2.AdaptDropdownDirective, selector: \"adapt-dropdown, [adaptDropdown]\", inputs: [\"autoClose\", \"customClass\", \"closeOnEscape\", \"placement\", \"animationPlacement\", \"holdFocusInMenu\", \"holdFocusOnOpen\", \"autoFocusFirst\", \"restoreFocusAfterClose\", \"focusNextElementAfterClose\", \"appendToBody\", \"appendTo\", \"positionTo\", \"anchorPositionTrackingIntervalMs\", \"enableAnchorPositionTracking\", \"recalculatePositionOnElementResize\", \"setMobileState\", \"mobileView\"], outputs: [\"onOpen\", \"onClose\", \"anchorPositionChange\", \"popupAnimationDone\"], exportAs: [\"adaptDropdown\"] }, { type: i1$2.AdaptTreeComponent, selector: \"adapt-tree\", inputs: [\"value\", \"filter\", \"texts\", \"filterBtnClearText\", \"filterPlaceholder\", \"testID\", \"lazy\", \"lazyLoading\", \"trim\", \"wrap\", \"selectAllButton\", \"deselectAllButton\", \"treeScrollHeight\", \"adaptRadarDisableEventSending\", \"draggableScope\", \"droppableScope\", \"draggableNodes\", \"droppableNodes\", \"validateDrop\"], outputs: [\"onNodeDrop\", \"lazyLoad\"] }], directives: [{ type: i1$2.AdaptDropdownToggleDirective, selector: \"[adaptDropdownToggle]\", inputs: [\"showCaret\", \"dropdownTogglerType\"] }, { type: i2$3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$2.AdaptDropdownMenuDirective, selector: \"[adaptDropdownMenu]\" }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxProcessDesignerElementPickerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-process-designer-element-picker',\n                    templateUrl: './process-designer-element-picker.component.html',\n                    styleUrls: ['./process-designer-element-picker.component.scss'],\n                    providers: [\n                        {\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: RxProcessDesignerElementPickerComponent,\n                            multi: true\n                        }\n                    ]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxDesignerStencilBuilder }, { type: i1.RxJsonParserService }, { type: i3$2.RxProcessElementsService }, { type: i0.Renderer2 }, { type: i4$1.TranslateService }]; }, propDecorators: { options: [{\n                type: Input\n            }], dropdownButton: [{\n                type: ViewChild,\n                args: ['dropdownButton', { static: true }]\n            }] } });\n\nclass ProcessDesignerElementPickerModule {\n}\nProcessDesignerElementPickerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ProcessDesignerElementPickerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nProcessDesignerElementPickerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ProcessDesignerElementPickerModule, declarations: [RxProcessDesignerElementPickerComponent], imports: [CommonModule,\n        FormsModule,\n        AdaptRxCheckboxModule, i1$2.AdaptDropdownModule, AdaptRxLabelModule,\n        AdaptTreeModule], exports: [RxProcessDesignerElementPickerComponent] });\nProcessDesignerElementPickerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ProcessDesignerElementPickerModule, imports: [[\n            CommonModule,\n            FormsModule,\n            AdaptRxCheckboxModule,\n            AdaptDropdownModule.forRoot(),\n            AdaptRxLabelModule,\n            AdaptTreeModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ProcessDesignerElementPickerModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RxProcessDesignerElementPickerComponent],\n                    exports: [RxProcessDesignerElementPickerComponent],\n                    entryComponents: [RxProcessDesignerElementPickerComponent],\n                    imports: [\n                        CommonModule,\n                        FormsModule,\n                        AdaptRxCheckboxModule,\n                        AdaptDropdownModule.forRoot(),\n                        AdaptRxLabelModule,\n                        AdaptTreeModule\n                    ]\n                }]\n        }] });\n\nclass LaunchProcessDesignerActionDesignModelClass extends RxViewDesignerActionModel {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.sandbox = sandbox;\n        this.translateService = this.injector.get(TranslateService);\n        this.sandbox.actionProperties$.pipe(take(1)).subscribe(() => {\n            this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig());\n            this.sandbox.setActionOutputDataDictionary([\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.common.process-definition-name.label'),\n                    expression: this.getOutputExpressionForPropertyPath('processDefinitionName')\n                }\n            ]);\n        });\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign({ processDefinitionName: null, paletteElements: null }, initialProperties);\n    }\n    getActionEditorConfig() {\n        return [\n            {\n                name: 'processDefinitionName',\n                component: DefinitionPickerOrExpressionFormControlComponent,\n                options: {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.common.process-definition-name.label'),\n                    definitionType: RxDefinitionPickerType.Process,\n                    dataDictionary$: this.expressionConfigurator.getDataDictionary(),\n                    operators: this.expressionConfigurator.getOperators()\n                }\n            },\n            {\n                name: 'paletteElements',\n                component: RxProcessDesignerElementPickerComponent,\n                options: {\n                    label: 'Available palette elements'\n                }\n            }\n        ];\n    }\n}\n\nclass RxLaunchProcessDesignerExpressionEvaluatorService {\n    constructor(rxDefaultExpressionEvaluatorService) {\n        this.rxDefaultExpressionEvaluatorService = rxDefaultExpressionEvaluatorService;\n    }\n    evaluate(expression, data) {\n        let evaluatedExpression = expression;\n        if (!RX_RECORD_DEFINITION.validFullDefinitionName.test(expression)) {\n            evaluatedExpression = this.rxDefaultExpressionEvaluatorService.evaluate(expression, data);\n        }\n        return evaluatedExpression;\n    }\n    parseExpression(expression) {\n        let parsedExpression;\n        if (!RX_RECORD_DEFINITION.validFullDefinitionName.test(expression)) {\n            parsedExpression = this.rxDefaultExpressionEvaluatorService.parseExpression(expression);\n        }\n        return parsedExpression;\n    }\n}\nRxLaunchProcessDesignerExpressionEvaluatorService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchProcessDesignerExpressionEvaluatorService, deps: [{ token: i1$1.RxDefaultExpressionEvaluatorService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxLaunchProcessDesignerExpressionEvaluatorService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchProcessDesignerExpressionEvaluatorService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLaunchProcessDesignerExpressionEvaluatorService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$1.RxDefaultExpressionEvaluatorService }]; } });\n\nclass LaunchProcessDesignerActionModule {\n    constructor(rxViewActionRegistryService, rxLaunchProcessDesignerActionService, rxLaunchProcessDesignerExpressionActionEvaluatorService) {\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxLaunchProcessDesignerActionService = rxLaunchProcessDesignerActionService;\n        this.rxLaunchProcessDesignerExpressionActionEvaluatorService = rxLaunchProcessDesignerExpressionActionEvaluatorService;\n        this.rxViewActionRegistryService.register({\n            name: 'rxLaunchProcessDesignerAction',\n            label: 'Launch process designer',\n            bundleId: RX_APPLICATION.platformBundleId,\n            service: this.rxLaunchProcessDesignerActionService,\n            designModel: LaunchProcessDesignerActionDesignModelClass,\n            parameters: [\n                {\n                    name: 'processDefinitionName',\n                    label: 'Process definition name',\n                    type: ViewComponentPropertyType.String,\n                    enableExpressionEvaluation: true,\n                    evaluatorService: this.rxLaunchProcessDesignerExpressionActionEvaluatorService\n                },\n                {\n                    name: 'paletteElements',\n                    label: 'Available palette elements',\n                    type: ViewComponentPropertyType.String\n                }\n            ]\n        });\n    }\n}\nLaunchProcessDesignerActionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LaunchProcessDesignerActionModule, deps: [{ token: i1$1.RxViewActionRegistryService }, { token: RxLaunchProcessDesignerActionService }, { token: RxLaunchProcessDesignerExpressionEvaluatorService }], target: i0.ɵɵFactoryTarget.NgModule });\nLaunchProcessDesignerActionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LaunchProcessDesignerActionModule, declarations: [ProcessDesignerFrameComponent], imports: [CommonModule, RxProcessApiModule, RxIframeModule] });\nLaunchProcessDesignerActionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LaunchProcessDesignerActionModule, providers: [RxLaunchProcessDesignerExpressionEvaluatorService], imports: [[CommonModule, RxProcessApiModule, RxIframeModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LaunchProcessDesignerActionModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, RxProcessApiModule, RxIframeModule],\n                    declarations: [ProcessDesignerFrameComponent],\n                    entryComponents: [ProcessDesignerFrameComponent],\n                    providers: [RxLaunchProcessDesignerExpressionEvaluatorService]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxViewActionRegistryService }, { type: RxLaunchProcessDesignerActionService }, { type: RxLaunchProcessDesignerExpressionEvaluatorService }]; } });\n\nclass RxUnknownViewActionService {\n    execute() {\n        return EMPTY;\n    }\n}\nRxUnknownViewActionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUnknownViewActionService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxUnknownViewActionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUnknownViewActionService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUnknownViewActionService, decorators: [{\n            type: Injectable\n        }] });\n\nclass RxUnknownViewActionDesignManager {\n    validate(actionProperties, propertyName) {\n        return of([\n            {\n                type: 'error',\n                description: `Unknown action: ${actionProperties.name}`,\n                propertyName\n            }\n        ]);\n    }\n}\nRxUnknownViewActionDesignManager.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUnknownViewActionDesignManager, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxUnknownViewActionDesignManager.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUnknownViewActionDesignManager });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxUnknownViewActionDesignManager, decorators: [{\n            type: Injectable\n        }] });\n\nclass RxUnknownViewActionDesignModel extends RxViewDesignerActionModel {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.injector = injector;\n        this.sandbox = sandbox;\n        this.sandbox.actionProperties$.pipe(take(1)).subscribe((actionProperties) => {\n            this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig(actionProperties));\n        });\n    }\n    getActionEditorConfig(actionProperties) {\n        return keys(actionProperties).map((propertyName) => ({\n            name: propertyName,\n            component: TextFormControlComponent,\n            isDisabled: true,\n            options: {\n                label: propertyName\n            }\n        }));\n    }\n}\n\nclass UnknownViewActionModule {\n    constructor(rxViewActionRegistryService, rxUnknownViewActionService, rxUnknownViewActionDesignManager) {\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxUnknownViewActionService = rxUnknownViewActionService;\n        this.rxUnknownViewActionDesignManager = rxUnknownViewActionDesignManager;\n        this.rxViewActionRegistryService.register({\n            name: 'rxUnknownViewAction',\n            label: 'Unknown',\n            bundleId: RX_APPLICATION.platformBundleId,\n            designModel: RxUnknownViewActionDesignModel,\n            designManager: this.rxUnknownViewActionDesignManager,\n            service: this.rxUnknownViewActionService,\n            parameters: [],\n            hidden: true\n        });\n    }\n}\nUnknownViewActionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: UnknownViewActionModule, deps: [{ token: i1$1.RxViewActionRegistryService }, { token: RxUnknownViewActionService }, { token: RxUnknownViewActionDesignManager }], target: i0.ɵɵFactoryTarget.NgModule });\nUnknownViewActionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: UnknownViewActionModule });\nUnknownViewActionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: UnknownViewActionModule, providers: [RxUnknownViewActionService, RxUnknownViewActionDesignManager] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: UnknownViewActionModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    providers: [RxUnknownViewActionService, RxUnknownViewActionDesignManager]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxViewActionRegistryService }, { type: RxUnknownViewActionService }, { type: RxUnknownViewActionDesignManager }]; } });\n\nclass ViewActionsModule {\n}\nViewActionsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewActionsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nViewActionsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewActionsModule, imports: [ApplyGridFilterViewActionModule,\n        AssociateViewActionModule,\n        AvcAssociateActionModule,\n        CloseViewActionModule,\n        DeleteRecordsViewActionModule,\n        DisassociateViewActionModule,\n        EditRecordsViewActionModule,\n        LaunchProcessViewActionModule,\n        LaunchProcessDesignerActionModule,\n        LaunchUrlViewActionModule,\n        OpenViewActionModule,\n        RefreshViewActionModule,\n        SaveViewActionModule,\n        SetPropertyViewActionModule,\n        UnknownViewActionModule] });\nViewActionsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewActionsModule, imports: [[\n            ApplyGridFilterViewActionModule,\n            AssociateViewActionModule,\n            AvcAssociateActionModule,\n            CloseViewActionModule,\n            DeleteRecordsViewActionModule,\n            DisassociateViewActionModule,\n            EditRecordsViewActionModule,\n            LaunchProcessViewActionModule,\n            LaunchProcessDesignerActionModule,\n            LaunchUrlViewActionModule,\n            OpenViewActionModule,\n            RefreshViewActionModule,\n            SaveViewActionModule,\n            SetPropertyViewActionModule,\n            UnknownViewActionModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewActionsModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        ApplyGridFilterViewActionModule,\n                        AssociateViewActionModule,\n                        AvcAssociateActionModule,\n                        CloseViewActionModule,\n                        DeleteRecordsViewActionModule,\n                        DisassociateViewActionModule,\n                        EditRecordsViewActionModule,\n                        LaunchProcessViewActionModule,\n                        LaunchProcessDesignerActionModule,\n                        LaunchUrlViewActionModule,\n                        OpenViewActionModule,\n                        RefreshViewActionModule,\n                        SaveViewActionModule,\n                        SetPropertyViewActionModule,\n                        UnknownViewActionModule\n                    ]\n                }]\n        }] });\n\nclass RxApplyGridFilterViewActionDesignManagerService {\n    constructor(viewDesignerFacade, rxRecordGridDesignUtilsService, rxRecordGridFilterHelperService) {\n        this.viewDesignerFacade = viewDesignerFacade;\n        this.rxRecordGridDesignUtilsService = rxRecordGridDesignUtilsService;\n        this.rxRecordGridFilterHelperService = rxRecordGridFilterHelperService;\n        const applyGridFilterActions$ = this.viewDesignerFacade\n            .getComponentsByType(RxViewComponentType.Action)\n            .pipe(map((components) => components.filter((comp) => comp.data.name === RxApplyGridFilterActionName)), shareReplay({ refCount: true, bufferSize: 1 }));\n        const gridGuids$ = applyGridFilterActions$.pipe(map((actions) => actions.map((action) => RxApplyGridFilterViewActionDesignModelClass.extractGuidFromExpression(action.data.targetApi))), map((guids) => sortBy(uniq(compact(guids)))), filter((guids) => Boolean(guids.length)), distinctUntilChanged((a, b) => isEqual(a, b)), shareReplay({ refCount: true, bufferSize: 1 }));\n        const updateActionFiltersOnGridColumnsChange$ = gridGuids$.pipe(switchMap((gridGuids) => {\n            const actionsToUpdate$ = gridGuids.map((gridGuid) => this.getActionsToUpdate(gridGuid, applyGridFilterActions$));\n            return merge(...actionsToUpdate$);\n        }));\n        const clearFiltersOnGridDefinitionChange$ = gridGuids$.pipe(switchMap((gridGuids) => {\n            const actionsToUpdate$ = gridGuids.map((gridGuid) => this.getGridDefinitionChanges(gridGuid).pipe(skip(1), map(() => gridGuid), withLatestFrom(applyGridFilterActions$), map(([guid, actions]) => {\n                const affectedActions = actions.filter((action) => action.data.targetApi.includes(guid));\n                return affectedActions.map((actionComponent) => {\n                    const updatedActionComponent = cloneDeep(actionComponent);\n                    updatedActionComponent.data.filters = null;\n                    return {\n                        component: updatedActionComponent,\n                        children: []\n                    };\n                });\n            })));\n            return merge(...actionsToUpdate$);\n        }));\n        merge(clearFiltersOnGridDefinitionChange$, updateActionFiltersOnGridColumnsChange$).subscribe((components) => {\n            components.forEach((item) => {\n                this.viewDesignerFacade.updateComponentProperties(item.component.guid, item.component.data);\n                this.viewDesignerFacade.setChildren(item.component.guid, item.children);\n            });\n        });\n    }\n    getActionsToUpdate(gridGuid, applyGridFilterActions$) {\n        return this.getGridColumnChanges(gridGuid).pipe(skip(1), withLatestFrom(applyGridFilterActions$), switchMap(([gridData, actions]) => {\n            // getting actions bound to changed grid\n            const affectedActions = actions.filter((action) => action.data.targetApi.includes(gridData.guid));\n            const actionsWithFilters$ = affectedActions.map((action) => this.viewDesignerFacade.getChildComponents(action.guid).pipe(map((filterComponents) => (Object.assign(Object.assign({}, cloneDeep(action)), { children: filterComponents }))), take(1)));\n            return forkJoin(actionsWithFilters$).pipe(map((actionComponents) => {\n                const gridColumnIds = gridData.columns.map((col) => col.fieldId);\n                return actionComponents.reduce((result, actionComponent) => {\n                    const componentsToUpdate = this.getUpdatedFilterComponents(omit(actionComponent, 'children'), actionComponent.children, gridColumnIds);\n                    return componentsToUpdate ? result.concat(componentsToUpdate) : result;\n                }, []);\n            }));\n        }));\n    }\n    getGridColumnChanges(guid) {\n        return this.viewDesignerFacade\n            .getComponentPropertyValue(guid, 'columns')\n            .pipe(filter((columns) => Array.isArray(columns)), map((columns) => ({\n            guid,\n            columns: columns.map((col) => ({\n                fieldId: col.fieldId,\n                namedFilterOptions: col.namedFilterOptions\n            }))\n        })), distinctUntilChanged(isEqual));\n    }\n    getGridDefinitionChanges(guid) {\n        return this.viewDesignerFacade.getComponentPropertyValue(guid, 'recordDefinitionName').pipe(distinctUntilChanged());\n    }\n    getUpdatedFilterComponents(component, filterComponents, gridColumnIds) {\n        const filterComponentsForColumns = filterComponents.filter((item) => gridColumnIds.includes(item.data.fieldId));\n        if (filterComponentsForColumns.length !== filterComponents.length) {\n            const updatedFilterComponents = this.rxRecordGridDesignUtilsService.getBasicRecordGridFiltersFromChildData(filterComponentsForColumns);\n            const newFilterData = this.rxRecordGridFilterHelperService.getRecordGridFilterDataFromPredefinedFilter(component.data.filters, updatedFilterComponents);\n            // updating filters JSON after column remove\n            component.data.filters = newFilterData\n                ? this.rxRecordGridFilterHelperService.denormalizeFilterString(JSON.stringify(newFilterData), updatedFilterComponents)\n                : null;\n            return {\n                component,\n                children: filterComponentsForColumns\n            };\n        }\n        return null;\n    }\n    validate(actionProperties, propertyName) {\n        const filterValidation = !actionProperties.filters &&\n            !includes([ApplyGridFilterMode.Begin, ApplyGridFilterMode.End, ApplyGridFilterMode.Clear], actionProperties.mode)\n            ? {\n                type: 'error',\n                description: 'Apply grid filter action: Filter is required',\n                propertyName\n            }\n            : null;\n        return of(actionProperties.targetApi).pipe(map((targetApi) => RxApplyGridFilterViewActionDesignModelClass.extractGuidFromExpression(targetApi)), switchMap((guid) => (guid ? this.viewDesignerFacade.getComponent(guid) : of(null))), take(1), map((item) => {\n            const issues = [];\n            if (actionProperties.targetApi && (item === null || item === void 0 ? void 0 : item.type) !== RX_RECORD_GRID.type) {\n                issues.push({\n                    type: 'error',\n                    description: 'Apply grid filter action: Record grid expression must point to a record grid.',\n                    propertyName\n                });\n            }\n            if (actionProperties.targetApi && !issues.length && filterValidation) {\n                issues.push(filterValidation);\n            }\n            return issues;\n        }));\n    }\n}\nRxApplyGridFilterViewActionDesignManagerService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplyGridFilterViewActionDesignManagerService, deps: [{ token: i3$3.ViewDesignerFacade }, { token: i2.RxRecordGridDesignUtilsService }, { token: i2.RxRecordGridFilterHelperService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxApplyGridFilterViewActionDesignManagerService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplyGridFilterViewActionDesignManagerService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxApplyGridFilterViewActionDesignManagerService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i3$3.ViewDesignerFacade }, { type: i2.RxRecordGridDesignUtilsService }, { type: i2.RxRecordGridFilterHelperService }]; } });\n\nclass ApplyGridFilterViewActionDesignModule {\n    constructor(rxViewActionRegistryService, rxApplyGridFilterViewActionDesignManagerService) {\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxApplyGridFilterViewActionDesignManagerService = rxApplyGridFilterViewActionDesignManagerService;\n        this.rxViewActionRegistryService.registerDesignManager(RxApplyGridFilterActionName, rxApplyGridFilterViewActionDesignManagerService);\n    }\n}\nApplyGridFilterViewActionDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApplyGridFilterViewActionDesignModule, deps: [{ token: i1$1.RxViewActionRegistryService }, { token: RxApplyGridFilterViewActionDesignManagerService }], target: i0.ɵɵFactoryTarget.NgModule });\nApplyGridFilterViewActionDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApplyGridFilterViewActionDesignModule });\nApplyGridFilterViewActionDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApplyGridFilterViewActionDesignModule, providers: [RxApplyGridFilterViewActionDesignManagerService] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ApplyGridFilterViewActionDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    providers: [RxApplyGridFilterViewActionDesignManagerService]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxViewActionRegistryService }, { type: RxApplyGridFilterViewActionDesignManagerService }]; } });\n\nclass ViewActionsDesignModule {\n}\nViewActionsDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewActionsDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nViewActionsDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewActionsDesignModule, imports: [ViewActionsModule, ApplyGridFilterViewActionDesignModule] });\nViewActionsDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewActionsDesignModule, imports: [[ViewActionsModule, ApplyGridFilterViewActionDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewActionsDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [ViewActionsModule, ApplyGridFilterViewActionDesignModule]\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ApplyGridFilterViewActionModule, AssociateViewActionModule, AvcAssociateActionModule, CloseViewActionModule, DeleteRecordsViewActionModule, DisassociateViewActionModule, EditRecordsViewActionModule, LaunchProcessDesignerActionModule, LaunchProcessViewActionModule, LaunchUrlViewActionModule, OpenViewActionModule, ProcessDesignerElementPickerModule, RX_OPEN_VIEW, RefreshViewActionModule, RxApplyGridFilterActionName, RxApplyGridFilterViewActionService, RxAssociateViewActionService, RxAvcAssociateActionService, RxCloseViewActionService, RxDeleteRecordsViewActionService, RxDisassociateViewActionService, RxEditRecordsViewActionService, RxLaunchProcessDesignerActionService, RxLaunchProcessViewActionService, RxLaunchUrlViewActionService, RxOpenViewActionService, RxOpenViewModelHelperService, RxProcessDesignerElementPickerComponent, RxRefreshViewActionService, RxSaveViewActionService, RxSetPropertyViewActionService, RxUnknownViewActionDesignManager, RxUnknownViewActionService, SaveViewActionModule, SetPropertyViewActionModule, UnknownViewActionModule, ViewActionsDesignModule, ViewActionsModule };\n//# sourceMappingURL=helix-platform-view-actions.js.map\n","import * as i0 from '@angular/core';\nimport { Injectable, Component, ChangeDetectionStrategy, Input, NgModule, HostBinding, ElementRef, ViewChildren, ViewChild, EventEmitter, Inject, Output, HostListener, ViewEncapsulation, Optional, Directive, Host } from '@angular/core';\nimport { of, combineLatest, EMPTY, throwError, Subject, merge, ReplaySubject, from, forkJoin, BehaviorSubject, defer, asyncScheduler, asapScheduler, AsyncSubject, Subscription, zip, iif } from 'rxjs';\nimport { switchMap, takeUntil, map, catchError, take, withLatestFrom, pairwise, skip, concatMap, shareReplay, distinctUntilChanged, mergeMap, first, filter, tap, share, takeWhile, pluck, switchMapTo, finalize, observeOn, startWith, delay, concatMapTo, mapTo, debounceTime, defaultIfEmpty, skipWhile } from 'rxjs/operators';\nimport * as i1$5 from '@helix/platform/record/api';\nimport { RxRecordDefinitionCacheService, RX_RECORD_DEFINITION, RecordFieldOption, RxFieldDefinitionService, RxRecordInstanceUtilsService, RxRecordInstanceService, UploaderService } from '@helix/platform/record/api';\nimport * as i1$1 from '@helix/platform/shared/api';\nimport { Tooltip, RxDefinitionNameService, RX_APPLICATION, RxSystemConfigurationService, RX_ADMINISTRATION, ExpressionOperatorRowsByGroup, ExpressionOperatorGroup, RxExpressionConfigurator, RxDefinitionModule, RxBooleanPipe, ExpressionParserToken, RX_DATA_PAGE, RxFeatureService } from '@helix/platform/shared/api';\nimport * as i2$5 from '@helix/platform/shared/components';\nimport { RxDefinitionPickerComponent, RxDefinitionPickerType, SelectFormControlComponent, ExpressionInspectorControlComponent, TextFormControlComponent, IconPickerFormControlComponent, IconPickerFormControlModule, InspectorWidgetBase, GroupButtonFormControlComponent, SwitchFormControlComponent, OptionalExpressionInspectorControlComponent, RxDefinitionPickerModule, FormControlsModule, RxSelectWithPaginationComponent, RxSelectWithPaginationModule, ValueAccessor, ValidationFormControlComponent, RxBooleanModule, RX_DEFINITION_PICKER, ExpressionFormControlComponent, LocalizedCharacterFieldValueModalComponent, OptionalSelectFormControlComponent, StepperWithUnitsFormControlModule, SelectFormControlModule, GroupButtonFormControlModule, ExpressionEditorModule, ExpressionFormControlModule, StepperWithUnitsFormControlComponent, RX_GAINSIGHT } from '@helix/platform/shared/components';\nimport * as i1$4 from '@helix/platform/view/api';\nimport { RX_DISABLED_PROP_DEFAULT_VALUE, RX_STANDARD_PROPS_DEFAULT_VALUES, RX_AVAILABLE_ON_DEVICES_PROP_NAME, RX_LEGACY_ICONS, RxViewComponentType, RX_VIEW_DEFINITION, RxViewComponentRegistryService, RX_AVAILABLE_ON_DEVICES_DEFAULT_VALUE, ViewComponentPropertyType, RX_AVAILABLE_ON_DEVICES_PROP_DESC, ViewDefinitionType, RX_STANDARD_PROPS_DESC, RX_EXPRESSION_EVALUATOR, OpenViewActionModalSize, RecordGridFilterOperator, RecordGridFilterDataLogic, RecordGridNamedFilterOptionKey, RxViewLayout, RX_VIEW_ACTION, OpenViewActionLaunchBehavior, OpenViewActionType, RowDataItemIdFieldName, ApplyGridFilterMode, RX_LAUNCH_BEHAVIOR, RxRecordQueryExpressionEvaluatorService, RX_RICH_TEXT, RX_DISABLED_PROP_DESC } from '@helix/platform/view/api';\nimport * as i1$3 from '@helix/platform/view/designer';\nimport { ViewDesignerComponentModel, RxViewActionValidatorService, validateCssClassNames, validateAvailableOnDevicesProp, getDisabledFieldInspectorConfig, getStandardPropsInspectorConfigs, ActionListWidgetComponent, ViewDesignerCanvasModule, ActionListWidgetModule, validateStandardProps, CanvasItemContainerComponent, ViewDesignerCanvasItemApiToken, getHiddenFieldInspectorConfig, getAvailableOnDevicesInspectorConfig, getStylesFieldInspectorConfig, CanvasOutletComponent, RxViewComponentExpressionConfigurator, NamedListFilterExpressionConfigurator, RxViewExpressionConfigurator, ActionListControlComponent, ActionListControlModule, RX_VIEW_DESIGNER } from '@helix/platform/view/designer';\nimport * as i2 from '@ngx-translate/core';\nimport { TranslateService, TranslateModule } from '@ngx-translate/core';\nimport { flatten, map as map$1, includes, get, find, throttle, isEmpty, isUndefined, last, values, times, xor, groupBy, reduce, inRange, flow, omit, omitBy, isNil, isFinite, isEqual, uniq, reject, assign, forEach, remove, filter as filter$1, clone, flattenDeep, transform, isObject, forOwn, compact, set, isFunction, head, castArray, isString, every, sortBy, pull, noop, defaults, isNull, toString, has, first as first$1, findIndex, pick, uniqBy, cloneDeep, constant, some, isBoolean, without, isArray, keys, intersection, findKey, chain, toNumber, endsWith, differenceBy, round, intersectionBy, min, max, isNumber, findLast, escape, trim } from 'lodash';\nimport * as i1 from '@bmc-ux/adapt-angular';\nimport { AdaptButtonModule, AdaptIconModule, AdaptDropdownModule, AdaptRxTextfieldModule, AdaptEmptyStateModule, AdaptAlertModule, AdaptRxFormControlModule, TreeWrap, DismissReasons, AdaptRxSearchModule, AdaptAccordionModule, AdaptTreeModule, AdaptRxSelectModule, AdaptRxUploaderModule, UploaderMode, UploaderSelectionMode, AdaptDownloadModule, AdaptRxSwitchModule, AdaptRxCheckboxModule, AdaptRxDatetimeModule, AdaptRxDatetimeAdapter, RxDatetimePickerMode, AdaptRxCounterModule, AdaptRxValidatorsModule, AdaptRxRadiobuttonModule, AdaptRxLabelModule, AdaptRxTextareaModule, AdaptTooltipModule, AdaptBusyModule, AdaptAccordionTabComponent, AdvancedFilterDataTypesConfigsService, AdvancedFilterOptionDataType, formatAdvancedFilterTagText, isEmptyOrWhitespace, booleanDataTypeBlankValue, getTagText, AdaptTagModule, AdaptMetatagModule, AdaptAdvancedFilteringModule, AdaptPopoverModule, getValueOrFunc, AdaptSubnavModule, AdaptTabsModule, AdaptRxListBuilderComponent, AdaptRxListBuilderModule, AdaptAgreementModule } from '@bmc-ux/adapt-angular';\nimport * as i3 from '@angular/common';\nimport { CommonModule, DatePipe, DecimalPipe, DOCUMENT } from '@angular/common';\nimport * as i1$2 from '@helix/platform/view/runtime';\nimport { BaseViewComponent, RuntimeViewCanvasModule, VIEW_COMPONENT_DEFAULT_EVENT_NAME } from '@helix/platform/view/runtime';\nimport { ResizeSensor } from 'css-element-queries';\nimport * as i2$1 from '@helix/platform/utils';\nimport { RxJsonParserService, RxGuidService, RxUniqueValidatorModule, RxNoWhitespaceValidatorModule, RxError } from '@helix/platform/utils';\nimport * as i2$2 from 'angular-split';\nimport { SplitComponent, AngularSplitModule } from 'angular-split';\nimport * as i8 from '@angular/cdk/drag-drop';\nimport { DragDropModule, moveItemInArray, CdkDropList, CdkDrag } from '@angular/cdk/drag-drop';\nimport * as i2$3 from '@angular/forms';\nimport { FormsModule, FormControl, FormGroup, ReactiveFormsModule, NG_VALUE_ACCESSOR, NgModel, Validators, NgForm } from '@angular/forms';\nimport * as i2$4 from '@helix/platform/association/api';\nimport { RX_ASSOCIATION_DEFINITION, RX_ASSOCIATED_RECORD_NODE_SIDES, RxAssociationInstanceDataPageService, RxAssociationDefinitionCacheService, RxAssociatedRecordNodeSide } from '@helix/platform/association/api';\nimport * as i1$6 from '@helix/platform/ui-kit';\nimport { RX_MODAL, RxModalModule, ReadOnlyFieldModule, RxModalClass, RxBusyIndicatorModule, RxDirectivesModule, RxModalService } from '@helix/platform/ui-kit';\nimport { __decorate, __param, __metadata } from 'tslib';\nimport moment from 'moment-es6';\nimport BigNumber from 'bignumber.js';\nimport { AdaptTextFieldFormBuilderModule, AdaptTextFieldModule, AdaptSelectModule } from '@bmc-ux/obsolete';\nimport * as i2$6 from '@helix/platform/named-list/api';\nimport * as i2$7 from 'ckeditor4-angular';\nimport { CKEditorModule, CKEditorComponent } from 'ckeditor4-angular';\nimport * as i1$7 from '@bmc-ux/adapt-table';\nimport { SortOrder, AdaptTableModule, ResizeMode, ExportType, AdaptTableHeaderSelectionMode, AdaptTableEventSource, ToolbarItemsByPriority } from '@bmc-ux/adapt-table';\nimport { saveAs } from 'file-saver';\nimport * as i28 from '@angular/router';\nimport { RouterModule } from '@angular/router';\nimport * as i1$8 from '@angular/platform-browser';\nimport * as i1$9 from '@angular/common/http';\n\nvar ActionButtonStyle;\n(function (ActionButtonStyle) {\n    ActionButtonStyle[\"Primary\"] = \"primary\";\n    ActionButtonStyle[\"Secondary\"] = \"secondary\";\n    ActionButtonStyle[\"Tertiary\"] = \"tertiary\";\n})(ActionButtonStyle || (ActionButtonStyle = {}));\nvar DeprecatedActionButtonStyle;\n(function (DeprecatedActionButtonStyle) {\n    DeprecatedActionButtonStyle[\"Link\"] = \"link\";\n    DeprecatedActionButtonStyle[\"Clear\"] = \"clear\";\n})(DeprecatedActionButtonStyle || (DeprecatedActionButtonStyle = {}));\nvar ActionButtonSize;\n(function (ActionButtonSize) {\n    ActionButtonSize[\"Small\"] = \"small\";\n    ActionButtonSize[\"Default\"] = \"default\";\n    ActionButtonSize[\"Large\"] = \"large\";\n})(ActionButtonSize || (ActionButtonSize = {}));\nvar ActionButtonIconAlignment;\n(function (ActionButtonIconAlignment) {\n    ActionButtonIconAlignment[\"Left\"] = \"left\";\n    ActionButtonIconAlignment[\"Right\"] = \"right\";\n})(ActionButtonIconAlignment || (ActionButtonIconAlignment = {}));\n\nclass RxActionButtonService {\n    getButtonType(style) {\n        let result;\n        switch (style) {\n            case ActionButtonStyle.Secondary:\n                result = 'secondary';\n                break;\n            case ActionButtonStyle.Tertiary:\n                result = 'tertiary';\n                break;\n            default:\n                result = 'primary';\n                break;\n        }\n        return result;\n    }\n    getIconCssClass(iconClass, iconAlignment = ActionButtonIconAlignment.Left) {\n        return iconClass ? `d-icon-${iconAlignment}-${iconClass}` : '';\n    }\n}\nRxActionButtonService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxActionButtonService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxActionButtonService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxActionButtonService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxActionButtonService, decorators: [{\n            type: Injectable\n        }] });\n\nconst ACTIONS_KEY = 'actions';\nclass ActionButtonDesignModel extends ViewDesignerComponentModel {\n    constructor() {\n        super(...arguments);\n        this.componentProperties$ = this.sandbox.componentProperties$;\n        this.rxRecordDefinitionCacheService = this.injector.get(RxRecordDefinitionCacheService);\n        this.viewActionValidatorService = this.injector.get(RxViewActionValidatorService);\n        this.translateService = this.injector.get(TranslateService);\n        this.label$ = this.sandbox.getComponentPropertyValue('labelKey').pipe(switchMap((labelKey) => labelKey ? of(this.translateService.instant(labelKey)) : this.sandbox.getComponentPropertyValue('label')), takeUntil(this.sandbox.destroyed$));\n        this.style$ = this.sandbox.getComponentPropertyValue('style');\n        this.size$ = this.sandbox.getComponentPropertyValue('size');\n        this.icon$ = this.sandbox.getComponentPropertyValue('icon');\n        this.iconAlignment$ = this.sandbox.getComponentPropertyValue('iconAlignment');\n        this.fieldDefinitions$ = this.sandbox.getComponentPropertyValue('recordDefinitionName').pipe(switchMap((recordDefinitionName) => recordDefinitionName\n            ? this.rxRecordDefinitionCacheService.getRecordDefinition(recordDefinitionName).pipe(map((recordDefinition) => recordDefinition.fieldDefinitions), catchError(() => of([])))\n            : of([])));\n    }\n    static getInitialProperties(props) {\n        return Object.assign(Object.assign(Object.assign({ iconAlignment: ActionButtonIconAlignment.Left, label: 'New button', size: ActionButtonSize.Default, icon: null, style: ActionButtonStyle.Primary, recordDefinitionName: null, fieldId: null, recordInstance: null }, RX_DISABLED_PROP_DEFAULT_VALUE), RX_STANDARD_PROPS_DEFAULT_VALUES), props);\n    }\n    rxInit() {\n        // Set initial inspector config.\n        combineLatest([this.sandbox.componentProperties$, this.fieldDefinitions$])\n            .pipe(map(([componentProperties, fieldDefinitions]) => this.getInspectorConfig(componentProperties, fieldDefinitions)), take(1), takeUntil(this.sandbox.destroyed$))\n            .subscribe((inspectorConfig) => {\n            this.sandbox.updateInspectorConfig(inspectorConfig);\n        });\n        const actions$ = this.sandbox.getChildComponents();\n        combineLatest([\n            actions$.pipe(switchMap((actions) => this.viewActionValidatorService.validate(actions, ACTIONS_KEY))),\n            this.sandbox.getComponentPropertyValue('styles').pipe(map(validateCssClassNames)),\n            this.sandbox\n                .getComponentPropertyValue(RX_AVAILABLE_ON_DEVICES_PROP_NAME)\n                .pipe(map(validateAvailableOnDevicesProp))\n        ])\n            .pipe(map(flatten), takeUntil(this.sandbox.destroyed$))\n            .subscribe((validationIssues) => {\n            this.setValidationIssues(validationIssues);\n        });\n        // update field names when Record Definition Name changed\n        this.fieldDefinitions$\n            .pipe(withLatestFrom(this.componentProperties$), map(([fieldDefinitions, properties]) => this.getInspectorConfig(properties, fieldDefinitions)))\n            .subscribe((inspector) => this.sandbox.updateInspectorConfig(inspector));\n        // clear fieldId and recordInstance if recordDefinitionName changed\n        this.sandbox\n            .getComponentPropertyValue('recordDefinitionName')\n            .pipe(pairwise())\n            .subscribe(([oldName, newName]) => {\n            if (oldName && oldName !== newName) {\n                this.sandbox.updateComponentProperties({\n                    fieldId: null,\n                    recordInstance: null\n                });\n            }\n        });\n        this.label$.subscribe((label) => {\n            this.sandbox.setBreadcrumbs(label);\n        });\n        this.sandbox\n            .getComponentPropertyValue('action')\n            .pipe(switchMap((action) => (action ? EMPTY : this.label$)), takeUntil(this.sandbox.destroyed$))\n            .subscribe((label) => {\n            // Don't build settable properties if 'action' property is not empty.\n            // In this case button threads as a child of association component only.\n            this.sandbox.setSettablePropertiesDataDictionary(label, [\n                {\n                    label: 'Disabled',\n                    expression: this.getExpressionForProperty('disabled')\n                },\n                {\n                    label: 'Hidden',\n                    expression: this.getExpressionForProperty('hidden')\n                }\n            ]);\n        });\n    }\n    setValidationIssues(issues) {\n        this.sandbox.setValidationIssues(issues);\n    }\n    getInspectorConfig(props, fieldDefinitions) {\n        const securitySectionControls = [\n            {\n                name: 'recordDefinitionName',\n                component: RxDefinitionPickerComponent,\n                options: {\n                    label: 'Record definition name',\n                    tooltip: new Tooltip('The view component will be hidden if the user has no access to the specified record definition.'),\n                    definitionType: RxDefinitionPickerType.StandardDataRecord\n                }\n            }\n        ];\n        if (props.recordDefinitionName) {\n            securitySectionControls.push({\n                name: 'fieldId',\n                component: SelectFormControlComponent,\n                options: {\n                    label: 'Field name',\n                    tooltip: new Tooltip('The view component will be hidden if the user has no access to the specified field, or disabled if the user only has View permission ' +\n                        'for the specified field. <br><br> Record definition name, Field name, and Record instance must all be ' +\n                        'specified in order to control the disabled/hidden state of the view component using field permissions.'),\n                    options: fieldDefinitions.map((definition) => ({ name: definition.name, id: String(definition.id) })),\n                    emptyOption: true\n                }\n            }, {\n                name: 'recordInstance',\n                component: ExpressionInspectorControlComponent,\n                options: {\n                    label: 'Record instance',\n                    tooltip: new Tooltip('Expression pointing to a record instance that provides the field permission details.')\n                }\n            });\n        }\n        return {\n            inspectorSectionConfigs: [\n                {\n                    label: 'General',\n                    controls: [\n                        {\n                            name: 'label',\n                            component: TextFormControlComponent,\n                            options: {\n                                label: 'Label'\n                            }\n                        },\n                        {\n                            name: 'style',\n                            component: SelectFormControlComponent,\n                            options: {\n                                label: 'Style',\n                                required: true,\n                                options: map$1(ActionButtonStyle, (value, name) => ({\n                                    id: value,\n                                    name\n                                }))\n                            }\n                        },\n                        {\n                            name: 'size',\n                            component: SelectFormControlComponent,\n                            options: {\n                                label: 'Size',\n                                options: map$1(ActionButtonSize, (value, name) => ({\n                                    id: value,\n                                    name\n                                })),\n                                sortAlphabetically: false\n                            }\n                        },\n                        {\n                            name: 'icon',\n                            component: IconPickerFormControlComponent,\n                            options: {\n                                label: 'Icon'\n                            }\n                        },\n                        {\n                            name: 'iconAlignment',\n                            component: SelectFormControlComponent,\n                            options: {\n                                label: 'Icon alignment',\n                                options: map$1(ActionButtonIconAlignment, (value, name) => ({\n                                    id: value,\n                                    name\n                                }))\n                            }\n                        },\n                        getDisabledFieldInspectorConfig(),\n                        ...getStandardPropsInspectorConfigs()\n                    ]\n                },\n                {\n                    label: 'Actions',\n                    controls: [\n                        {\n                            widgetName: ACTIONS_KEY,\n                            component: ActionListWidgetComponent\n                        }\n                    ]\n                },\n                {\n                    label: 'Security',\n                    controls: securitySectionControls\n                }\n            ]\n        };\n    }\n}\n\nclass ActionButtonDesignComponent {\n    constructor(rxActionButtonService) {\n        this.rxActionButtonService = rxActionButtonService;\n    }\n    ngOnInit() {\n        this.iconCssClass$ = combineLatest([this.model.icon$, this.model.iconAlignment$]).pipe(map(([iconCssName, iconAlignment]) => this.rxActionButtonService.getIconCssClass(iconCssName, iconAlignment)));\n        this.buttonType$ = this.model.style$.pipe(map((style) => this.rxActionButtonService.getButtonType(style)));\n        this.size$ = this.model.size$.pipe(map((size) => size || ActionButtonSize.Default));\n    }\n}\nActionButtonDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonDesignComponent, deps: [{ token: RxActionButtonService }], target: i0.ɵɵFactoryTarget.Component });\nActionButtonDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ActionButtonDesignComponent, selector: \"rx-action-button-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<button adapt-button [btn-type]=\\\"buttonType$ | async\\\" [size]=\\\"size$ | async\\\" [ngClass]=\\\"iconCssClass$ | async\\\">\\n  {{ model.label$ | async }}\\n</button>\\n\", components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-action-button-design',\n                    templateUrl: './action-button-design.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush\n                }]\n        }], ctorParameters: function () { return [{ type: RxActionButtonService }]; }, propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass ActionButtonAdapterService {\n    constructor() {\n        this.deprecatedButtonStyles = [DeprecatedActionButtonStyle.Link, DeprecatedActionButtonStyle.Clear];\n    }\n    adaptDefinition(componentDefinition) {\n        if (includes(this.deprecatedButtonStyles, componentDefinition.propertiesByName.style)) {\n            componentDefinition.propertiesByName.style = ActionButtonStyle.Tertiary;\n        }\n        if (!componentDefinition.propertiesByName.size) {\n            componentDefinition.propertiesByName.size = ActionButtonSize.Small;\n        }\n        if (componentDefinition.propertiesByName.icon) {\n            componentDefinition.propertiesByName.icon = get(RX_LEGACY_ICONS, componentDefinition.propertiesByName.icon, componentDefinition.propertiesByName.icon);\n        }\n    }\n}\nActionButtonAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonAdapterService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nActionButtonAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonAdapterService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonAdapterService, decorators: [{\n            type: Injectable\n        }] });\n\nclass ActionButtonDesignModule {\n    constructor(rxDefinitionAdapterRegistryService, actionButtonAdapterService) {\n        this.rxDefinitionAdapterRegistryService = rxDefinitionAdapterRegistryService;\n        this.actionButtonAdapterService = actionButtonAdapterService;\n        this.rxDefinitionAdapterRegistryService.registerDesignAdapter(RxViewComponentType.ActionButton, this.actionButtonAdapterService);\n    }\n}\nActionButtonDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonDesignModule, deps: [{ token: i1$1.RxDefinitionAdapterRegistryService }, { token: ActionButtonAdapterService }], target: i0.ɵɵFactoryTarget.NgModule });\nActionButtonDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonDesignModule, declarations: [ActionButtonDesignComponent], imports: [CommonModule,\n        AdaptButtonModule,\n        ViewDesignerCanvasModule,\n        ActionListWidgetModule,\n        IconPickerFormControlModule] });\nActionButtonDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonDesignModule, providers: [RxActionButtonService, ActionButtonAdapterService], imports: [[\n            CommonModule,\n            AdaptButtonModule,\n            ViewDesignerCanvasModule,\n            ActionListWidgetModule,\n            IconPickerFormControlModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        AdaptButtonModule,\n                        ViewDesignerCanvasModule,\n                        ActionListWidgetModule,\n                        IconPickerFormControlModule\n                    ],\n                    declarations: [ActionButtonDesignComponent],\n                    entryComponents: [ActionButtonDesignComponent],\n                    providers: [RxActionButtonService, ActionButtonAdapterService]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxDefinitionAdapterRegistryService }, { type: ActionButtonAdapterService }]; } });\n\nclass ActionButtonComponent extends BaseViewComponent {\n    constructor(rxLogService, translateService, rxNotificationService, rxActionButtonService) {\n        super();\n        this.rxLogService = rxLogService;\n        this.translateService = translateService;\n        this.rxNotificationService = rxNotificationService;\n        this.rxActionButtonService = rxActionButtonService;\n        this.api = {\n            click: this.click.bind(this),\n            setProperty: this.setProperty.bind(this)\n        };\n        this.state = {};\n        this.isActionInProgress = false;\n        this.isDisabled = false;\n        this.buttonType = '';\n    }\n    get hostClass() {\n        const state = this.state;\n        const className = `${RxViewComponentType.ActionButton}_${state.style}`;\n        return state.styles ? `${className} ${state.styles}` : className;\n    }\n    ngOnInit() {\n        this.notifyPropertyChanged('api', this.api);\n        this.config.pipe(takeUntil(this.destroyed$)).subscribe((config) => {\n            Object.assign(this.state, config);\n            if (config.labelKey) {\n                this.state.buttonLabel = this.translateService.instant(config.labelKey);\n            }\n            else {\n                this.state.buttonLabel = config.label;\n            }\n            this.state.icon = '';\n            this.state.cls = config.cls || '';\n            if (config.iconCls || config.icon) {\n                const icon = config.iconCls || config.icon;\n                const iconAlignment = ((config.label || config.labelKey) && config.iconAlignment) || 'left';\n                this.state.icon = this.rxActionButtonService.getIconCssClass(icon, iconAlignment);\n            }\n            if (config.iconCls && config.icon) {\n                this.rxLogService.warning('iconCls option is specified, icon will be ignored.');\n            }\n            if (!config.cls) {\n                this.buttonType = this.rxActionButtonService.getButtonType(this.state.style);\n            }\n            if (config.cls && config.style) {\n                this.rxLogService.warning('cls option is specified, style will be ignored.');\n            }\n            this.validateRecordDefinitionName();\n            this.isHidden = this.isHiddenFunc();\n            this.isDisabled = this.isDisabledFunc();\n        });\n    }\n    // api\n    click() {\n        if (!this.isDisabled) {\n            this.isActionInProgress = true;\n            this.isDisabled = true;\n            return this\n                .triggerViewActions()\n                .then((res) => {\n                this.isActionInProgress = false;\n                this.isDisabled = this.isDisabledFunc();\n            })\n                .catch((err) => {\n                this.isActionInProgress = false;\n                this.isDisabled = this.isDisabledFunc();\n            });\n        }\n    }\n    isDisabledFunc() {\n        return (Boolean(this.state.disabled) ||\n            this.isActionInProgress ||\n            (this.state.recordInstance &&\n                this.state.fieldId &&\n                this.state.recordInstance.recordDefinitionName === this.state.recordDefinitionName &&\n                find(this.state.recordInstance.fieldInstances, { id: Number(this.state.fieldId) }) &&\n                find(this.state.recordInstance.fieldInstances, { id: Number(this.state.fieldId) }).permissionType ===\n                    RX_RECORD_DEFINITION.fieldPermissionTypes.view));\n    }\n    isHiddenFunc() {\n        return (this.isHidden =\n            Boolean(this.state.hidden) ||\n                (this.state.recordInstance &&\n                    (this.state.recordInstance.recordDefinitionName !== this.state.recordDefinitionName ||\n                        (this.state.fieldId &&\n                            !find(this.state.recordInstance.fieldInstances, { id: Number(this.state.fieldId) })))));\n    }\n    setProperty(propertyPath, value) {\n        if (includes(['hidden', 'disabled'], propertyPath)) {\n            this.state[propertyPath] = value;\n            this.notifyPropertyChanged(propertyPath, this.state[propertyPath]);\n        }\n        else {\n            return throwError(`Action Button: property ${propertyPath} is not settable.`);\n        }\n    }\n    validateRecordDefinitionName() {\n        if (this.state.recordInstance &&\n            this.state.recordInstance.recordDefinitionName !== this.state.recordDefinitionName) {\n            const buttonName = this.translateService.instant('com.bmc.arsys.rx.client.view-components.action-button.component-name.label', {\n                label: this.state.label\n            });\n            const errorMessage = this.translateService.instant('com.bmc.arsys.rx.client.view-components.action-button.configuration-error.message', {\n                componentName: buttonName\n            });\n            this.rxNotificationService.addErrorMessage(errorMessage);\n        }\n    }\n}\nActionButtonComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonComponent, deps: [{ token: i1$1.RxLogService }, { token: i2.TranslateService }, { token: i1$1.RxNotificationService }, { token: RxActionButtonService }], target: i0.ɵɵFactoryTarget.Component });\nActionButtonComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ActionButtonComponent, selector: \"rx-action-button\", inputs: { guid: \"guid\", config: \"config\", runtimeViewModelApi: \"runtimeViewModelApi\" }, host: { properties: { \"class\": \"this.hostClass\" } }, usesInheritance: true, ngImport: i0, template: \"<button\\n  adapt-button\\n  type=\\\"button\\\"\\n  class=\\\"mw-100 rx-ellipsis\\\"\\n  *ngIf=\\\"!isHidden\\\"\\n  [btn-type]=\\\"buttonType\\\"\\n  [ngClass]=\\\"[state.icon, state.cls]\\\"\\n  [disabled]=\\\"isDisabled\\\"\\n  [size]=\\\"state.size\\\"\\n  (click)=\\\"api.click($event)\\\"\\n>\\n  <span>{{ state.buttonLabel }}</span>\\n</button>\\n\", styles: [\":host{display:block}\\n\"], components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-action-button',\n                    templateUrl: './action-button.component.html',\n                    styleUrls: ['./action-button.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxLogService }, { type: i2.TranslateService }, { type: i1$1.RxNotificationService }, { type: RxActionButtonService }]; }, propDecorators: { guid: [{\n                type: Input\n            }], config: [{\n                type: Input\n            }], runtimeViewModelApi: [{\n                type: Input\n            }], hostClass: [{\n                type: HostBinding,\n                args: ['class']\n            }] } });\n\nclass ActionButtonModule {\n    constructor(rxDefinitionAdapterRegistryService, actionButtonAdapterService) {\n        this.rxDefinitionAdapterRegistryService = rxDefinitionAdapterRegistryService;\n        this.actionButtonAdapterService = actionButtonAdapterService;\n        this.rxDefinitionAdapterRegistryService.registerRuntimeAdapter(RxViewComponentType.ActionButton, this.actionButtonAdapterService);\n    }\n}\nActionButtonModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonModule, deps: [{ token: i1$1.RxDefinitionAdapterRegistryService }, { token: ActionButtonAdapterService }], target: i0.ɵɵFactoryTarget.NgModule });\nActionButtonModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonModule, declarations: [ActionButtonComponent], imports: [AdaptButtonModule, CommonModule, TranslateModule, AdaptIconModule], exports: [ActionButtonComponent] });\nActionButtonModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonModule, providers: [RxActionButtonService, ActionButtonAdapterService], imports: [[AdaptButtonModule, CommonModule, TranslateModule, AdaptIconModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [AdaptButtonModule, CommonModule, TranslateModule, AdaptIconModule],\n                    exports: [ActionButtonComponent],\n                    declarations: [ActionButtonComponent],\n                    entryComponents: [ActionButtonComponent],\n                    providers: [RxActionButtonService, ActionButtonAdapterService]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxDefinitionAdapterRegistryService }, { type: ActionButtonAdapterService }]; } });\n\nvar RxButtonBarAlignment;\n(function (RxButtonBarAlignment) {\n    RxButtonBarAlignment[\"Left\"] = \"left\";\n    RxButtonBarAlignment[\"Right\"] = \"right\";\n    RxButtonBarAlignment[\"Center\"] = \"center\";\n})(RxButtonBarAlignment || (RxButtonBarAlignment = {}));\nconst RX_BUTTON_BAR = {\n    alignmentOptions: {\n        left: {\n            id: RxButtonBarAlignment.Left,\n            name: 'Left',\n            cls: 'align-left'\n        },\n        center: {\n            id: RxButtonBarAlignment.Center,\n            name: 'Center',\n            cls: 'align-center'\n        },\n        right: {\n            id: RxButtonBarAlignment.Right,\n            name: 'Right',\n            cls: 'align-right'\n        }\n    }\n};\n\nclass RxButtonBarService {\n    getAlignClass(alignment) {\n        return get(RX_BUTTON_BAR.alignmentOptions, [alignment, 'cls'], '');\n    }\n}\nRxButtonBarService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxButtonBarService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxButtonBarService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxButtonBarService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxButtonBarService, decorators: [{\n            type: Injectable\n        }] });\n\nclass ButtonBarDropdownItemComponent extends ActionButtonComponent {\n}\nButtonBarDropdownItemComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarDropdownItemComponent, deps: null, target: i0.ɵɵFactoryTarget.Component });\nButtonBarDropdownItemComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ButtonBarDropdownItemComponent, selector: \"rx-button-bar-dropdown-item-component\", inputs: { guid: \"guid\", config: \"config\", runtimeViewModelApi: \"runtimeViewModelApi\" }, usesInheritance: true, ngImport: i0, template: \"<button type=\\\"button\\\" class=\\\"dropdown-item\\\" *ngIf=\\\"!isHidden\\\" [disabled]=\\\"isDisabled\\\" (click)=\\\"api.click($event)\\\">\\n  {{ state.label }}\\n</button>\\n\", directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarDropdownItemComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-button-bar-dropdown-item-component',\n                    templateUrl: './button-bar-dropdown-item.component.html'\n                }]\n        }], propDecorators: { guid: [{\n                type: Input\n            }], config: [{\n                type: Input\n            }], runtimeViewModelApi: [{\n                type: Input\n            }] } });\n\nclass ButtonBarComponent extends BaseViewComponent {\n    constructor(elementRef, runtimeCanvasItemComponent, changeDetector, ngZone, rxButtonBarService, renderer) {\n        super();\n        this.elementRef = elementRef;\n        this.runtimeCanvasItemComponent = runtimeCanvasItemComponent;\n        this.changeDetector = changeDetector;\n        this.ngZone = ngZone;\n        this.rxButtonBarService = rxButtonBarService;\n        this.renderer = renderer;\n        this.api = {\n            setProperty: this.setProperty.bind(this)\n        };\n        this.childLayouts = null;\n        this.isDropdownVisible = false;\n        this.resize$ = new Subject();\n        this.onResizeThrottled = throttle(this.onResize.bind(this), 100);\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.notifyPropertyChanged('api', this.api);\n        this.config.pipe(takeUntil(this.destroyed$)).subscribe((config) => {\n            this.isHidden = Boolean(config.hidden);\n            this.alignClass = this.rxButtonBarService.getAlignClass(config.alignment);\n        });\n        this.childLayouts = get(this.runtimeCanvasItemComponent.getChildren(RX_VIEW_DEFINITION.defaultOutletName), '[0].children');\n    }\n    ngAfterViewInit() {\n        const el = this.renderer.selectRootElement(this.elementRef.nativeElement, true);\n        if (!isEmpty(this.childLayouts)) {\n            const buttonConfigs = this.childLayouts.map((layout) => layout.config);\n            this.ngZone.runOutsideAngular(() => {\n                this.resizeSensor = new ResizeSensor(el, (size) => {\n                    this.ngZone.run(() => this.resize$.next(size));\n                });\n            });\n            merge(...buttonConfigs, this.resize$)\n                .pipe(map((size) => size.width || el.offsetWidth), takeUntil(this.destroyed$))\n                .subscribe((width) => this.onResizeThrottled(width));\n        }\n        this.onResize(el.offsetWidth);\n        this.changeDetector.detectChanges();\n    }\n    ngOnDestroy() {\n        super.ngOnDestroy();\n        if (this.resizeSensor) {\n            this.resizeSensor.detach();\n        }\n    }\n    onResize(containerWidth) {\n        let totalButtonsWidth = 0;\n        const toggleButtonOffsetWidth = this.dropdownToggleButton\n            ? this.renderer.selectRootElement(this.dropdownToggleButton.nativeElement, true).offsetWidth\n            : 0;\n        this.buttonItemsQueryList.forEach((item, index) => {\n            totalButtonsWidth += this.renderer.selectRootElement(item.nativeElement, true).offsetWidth;\n            const containerFitsButton = Math.floor(containerWidth) >= Math.ceil(totalButtonsWidth) + toggleButtonOffsetWidth;\n            this.childLayouts[index].showInDropdown = !containerFitsButton;\n            if (!isUndefined(this.childLayouts[index - 1]) &&\n                this.childLayouts.filter((button) => button.showInDropdown).length < 2) {\n                this.childLayouts[index - 1].showInDropdown = !containerFitsButton;\n            }\n        });\n        this.isDropdownVisible = isEmpty(this.childLayouts) ? false : last(this.childLayouts).showInDropdown;\n    }\n    trackByFn(index, item) {\n        return item.guid;\n    }\n    setProperty(propertyPath, propertyValue) {\n        if (propertyPath === 'hidden') {\n            this.isHidden = propertyValue;\n            this.notifyPropertyChanged(propertyPath, this.isHidden);\n        }\n        else {\n            return throwError(`Button Bar: property ${propertyPath} is not settable.`);\n        }\n    }\n}\nButtonBarComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarComponent, deps: [{ token: i0.ElementRef }, { token: i1$2.RuntimeViewCanvasItemComponent }, { token: i0.ChangeDetectorRef }, { token: i0.NgZone }, { token: RxButtonBarService }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Component });\nButtonBarComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ButtonBarComponent, selector: \"rx-button-bar\", viewQueries: [{ propertyName: \"dropdownToggleButton\", first: true, predicate: [\"dropdownToggle\"], descendants: true, read: ElementRef }, { propertyName: \"buttonItemsQueryList\", predicate: [\"buttonItems\"], descendants: true, read: ElementRef }], usesInheritance: true, ngImport: i0, template: \"<div class=\\\"button-container\\\" [ngClass]=\\\"alignClass\\\" *ngIf=\\\"childLayouts && !isHidden\\\">\\n  <div\\n    *ngFor=\\\"let buttonLayout of childLayouts; trackBy: trackByFn\\\"\\n    [ngClass]=\\\"{ 'nav-item--hidden': buttonLayout.showInDropdown }\\\"\\n  >\\n    <rx-runtime-view-canvas-item #buttonItems [layout]=\\\"buttonLayout\\\"></rx-runtime-view-canvas-item>\\n  </div>\\n\\n  <div\\n    *ngIf=\\\"isDropdownVisible\\\"\\n    class=\\\"dropdown\\\"\\n    adaptDropdown\\n    [placement]=\\\"['bottom-right', 'bottom-left', 'bottom', 'top-right', 'top-left', 'top', 'auto']\\\"\\n  >\\n    <button\\n      class=\\\"btn btn-secondary rx-toggle\\\"\\n      [attr.id]=\\\"'rx-' + guid\\\"\\n      type=\\\"button\\\"\\n      adaptDropdownToggle\\n      #dropdownToggle\\n    ></button>\\n    <div class=\\\"dropdown-menu\\\" [attr.aria-labelledby]=\\\"'rx-' + guid\\\" adaptDropdownMenu>\\n      <ng-container *ngFor=\\\"let buttonLayout of childLayouts; trackBy: trackByFn\\\">\\n        <rx-button-bar-dropdown-item-component\\n          *ngIf=\\\"buttonLayout.showInDropdown\\\"\\n          [config]=\\\"buttonLayout.config\\\"\\n          [runtimeViewModelApi]=\\\"buttonLayout.runtimeViewModelApi\\\"\\n          [guid]=\\\"buttonLayout.guid\\\"\\n        ></rx-button-bar-dropdown-item-component>\\n      </ng-container>\\n    </div>\\n  </div>\\n</div>\\n\", styles: [\":host{display:block}.button-container{display:flex}.button-container.align-center{justify-content:center}.button-container.align-right{justify-content:flex-end}.button-container.align-left{justify-content:flex-start}.button-container rx-runtime-view-canvas-item{display:inline-block}.button-container rx-runtime-view-canvas-item:not(:has(> [hidden])){padding-right:5px}.rx-toggle{padding-left:1px;height:100%}\\n\"], components: [{ type: i1$2.RuntimeViewCanvasItemComponent, selector: \"rx-runtime-view-canvas-item\", inputs: [\"layout\"] }, { type: i1.AdaptDropdownDirective, selector: \"adapt-dropdown, [adaptDropdown]\", inputs: [\"autoClose\", \"customClass\", \"closeOnEscape\", \"placement\", \"animationPlacement\", \"holdFocusInMenu\", \"holdFocusOnOpen\", \"autoFocusFirst\", \"restoreFocusAfterClose\", \"focusNextElementAfterClose\", \"appendToBody\", \"appendTo\", \"positionTo\", \"anchorPositionTrackingIntervalMs\", \"enableAnchorPositionTracking\", \"recalculatePositionOnElementResize\", \"setMobileState\", \"mobileView\"], outputs: [\"onOpen\", \"onClose\", \"anchorPositionChange\", \"popupAnimationDone\"], exportAs: [\"adaptDropdown\"] }, { type: ButtonBarDropdownItemComponent, selector: \"rx-button-bar-dropdown-item-component\", inputs: [\"guid\", \"config\", \"runtimeViewModelApi\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1.AdaptDropdownToggleDirective, selector: \"[adaptDropdownToggle]\", inputs: [\"showCaret\", \"dropdownTogglerType\"] }, { type: i1.AdaptDropdownMenuDirective, selector: \"[adaptDropdownMenu]\" }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-button-bar',\n                    templateUrl: './button-bar.component.html',\n                    styleUrls: ['./button-bar.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i1$2.RuntimeViewCanvasItemComponent }, { type: i0.ChangeDetectorRef }, { type: i0.NgZone }, { type: RxButtonBarService }, { type: i0.Renderer2 }]; }, propDecorators: { buttonItemsQueryList: [{\n                type: ViewChildren,\n                args: ['buttonItems', { read: ElementRef }]\n            }], dropdownToggleButton: [{\n                type: ViewChild,\n                args: ['dropdownToggle', { read: ElementRef }]\n            }] } });\n\nclass ButtonBarModule {\n}\nButtonBarModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nButtonBarModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarModule, declarations: [ButtonBarComponent, ButtonBarDropdownItemComponent], imports: [CommonModule, RuntimeViewCanvasModule, i1.AdaptDropdownModule], exports: [ButtonBarComponent] });\nButtonBarModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarModule, providers: [RxButtonBarService], imports: [[CommonModule, RuntimeViewCanvasModule, AdaptDropdownModule.forRoot()]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [ButtonBarComponent, ButtonBarDropdownItemComponent],\n                    imports: [CommonModule, RuntimeViewCanvasModule, AdaptDropdownModule.forRoot()],\n                    exports: [ButtonBarComponent],\n                    entryComponents: [ButtonBarComponent],\n                    providers: [RxButtonBarService]\n                }]\n        }] });\n\nclass ButtonBarDesignModel extends ViewDesignerComponentModel {\n    constructor() {\n        super(...arguments);\n        this.hasChildren$ = this.sandbox.getChildComponentGuids().pipe(map((guids) => !isEmpty(guids)));\n        this.componentProperties$ = this.sandbox.componentProperties$;\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign(Object.assign({ alignment: RxButtonBarAlignment.Left, name: null }, RX_STANDARD_PROPS_DEFAULT_VALUES), initialProperties);\n    }\n    rxInit() {\n        this.componentProperties$.pipe(take(1)).subscribe(() => {\n            this.sandbox.updateInspectorConfig(this.getInspector());\n        });\n        this.sandbox.getComponentPropertyValue('name').subscribe((name) => {\n            const componentName = name ? `${this.sandbox.descriptor.name} (${name})` : this.sandbox.descriptor.name;\n            this.sandbox.setSettablePropertiesDataDictionary(componentName, [\n                {\n                    label: 'Hidden',\n                    expression: this.getExpressionForProperty('hidden')\n                }\n            ]);\n        });\n        this.componentProperties$.subscribe((props) => {\n            this.validate(props);\n        });\n    }\n    dropPredicate(data) {\n        return data.draggedViewComponentDescriptor.type === RxViewComponentType.ActionButton;\n    }\n    validate(model) {\n        this.sandbox.setValidationIssues(validateStandardProps(model));\n    }\n    getInspector() {\n        return {\n            inspectorSectionConfigs: [\n                {\n                    label: 'General',\n                    controls: [\n                        {\n                            name: 'name',\n                            component: TextFormControlComponent,\n                            options: {\n                                label: 'Name',\n                                tooltip: new Tooltip('Enter a name to uniquely identify the Button bar.')\n                            }\n                        },\n                        {\n                            name: 'alignment',\n                            component: SelectFormControlComponent,\n                            options: {\n                                label: 'Alignment',\n                                options: values(RX_BUTTON_BAR.alignmentOptions),\n                                sortAlphabetically: false\n                            }\n                        },\n                        ...getStandardPropsInspectorConfigs()\n                    ]\n                }\n            ]\n        };\n    }\n}\n\nclass ButtonBarDesignComponent {\n    constructor(rxButtonBarService) {\n        this.rxButtonBarService = rxButtonBarService;\n        this.alignment = '';\n        this.destroyed$ = new ReplaySubject(1);\n    }\n    ngOnInit() {\n        this.model.componentProperties$.pipe(takeUntil(this.destroyed$)).subscribe((componentProperties) => {\n            this.alignment = this.rxButtonBarService.getAlignClass(componentProperties.alignment);\n        });\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n}\nButtonBarDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarDesignComponent, deps: [{ token: RxButtonBarService }], target: i0.ɵɵFactoryTarget.Component });\nButtonBarDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ButtonBarDesignComponent, selector: \"rx-button-bar-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<rx-canvas-outlet\\n  class=\\\"button-bar-design-container border\\\"\\n  [class.border-transparent]=\\\"model.hasChildren$ | async\\\"\\n  [ngClass]=\\\"alignment\\\"\\n  [dropPredicate]=\\\"model.dropPredicate\\\"\\n  dropListOrientation=\\\"horizontal\\\"\\n></rx-canvas-outlet>\\n\", styles: [\":host::ng-deep .button-bar-design-container{display:block}:host::ng-deep .button-bar-design-container.align-center .cdk-drop-list{justify-content:center}:host::ng-deep .button-bar-design-container.align-right .cdk-drop-list{justify-content:flex-end}:host::ng-deep .button-bar-design-container.align-left .cdk-drop-list{justify-content:flex-start}:host::ng-deep .button-bar-design-container rx-canvas-item-container{min-width:100%}:host::ng-deep .button-bar-design-container rx-canvas-item-container .cdk-drop-list{min-height:50px;display:flex;flex-flow:row wrap}.border-transparent{border-color:transparent!important}\\n\"], components: [{ type: i1$3.CanvasOutletComponent, selector: \"rx-canvas-outlet\", inputs: [\"name\", \"skipParentPredicate\", \"containerComponent\", \"dropListOrientation\", \"dropPredicate\"], outputs: [\"beforeViewComponentDrop\"] }], directives: [{ type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-button-bar-design',\n                    templateUrl: './button-bar-design.component.html',\n                    styleUrls: ['./button-bar-design.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: RxButtonBarService }]; }, propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass ButtonBarDesignModule {\n}\nButtonBarDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nButtonBarDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarDesignModule, declarations: [ButtonBarDesignComponent], imports: [CommonModule, ViewDesignerCanvasModule] });\nButtonBarDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarDesignModule, providers: [RxButtonBarService], imports: [[CommonModule, ViewDesignerCanvasModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, ViewDesignerCanvasModule],\n                    declarations: [ButtonBarDesignComponent],\n                    entryComponents: [ButtonBarDesignComponent],\n                    providers: [RxButtonBarService]\n                }]\n        }] });\n\nclass ContainerComponent extends BaseViewComponent {\n    constructor(elementRef, renderer) {\n        super();\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.state = {};\n        this.api = {\n            setProperty: this.setProperty.bind(this)\n        };\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.notifyPropertyChanged('api', this.api);\n        this.config.pipe(takeUntil(this.destroyed$)).subscribe((config) => {\n            this.isHidden = Boolean(config.hidden);\n            this.state = Object.assign({}, config);\n        });\n    }\n    setProperty(propertyPath, propertyValue) {\n        if (propertyPath === 'hidden') {\n            this.state.hidden = propertyValue;\n            this.notifyPropertyChanged(propertyPath, propertyValue);\n        }\n        else {\n            const componentName = this.renderer.selectRootElement(this.elementRef.nativeElement, true).tagName.toLowerCase();\n            return throwError(`${componentName}: property ${propertyPath} is not settable.`);\n        }\n    }\n}\nContainerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerComponent, deps: [{ token: i0.ElementRef }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Component });\nContainerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ContainerComponent, selector: \"rx-container\", usesInheritance: true, ngImport: i0, template: \"<rx-runtime-view-canvas-outlet [hidden]=\\\"state.hidden\\\"></rx-runtime-view-canvas-outlet>\\n\", styles: [\":host{display:block}:host.rx-auto-fill::ng-deep>rx-runtime-view-canvas-outlet>rx-runtime-view-canvas-item-container{display:flex;flex-direction:column;height:100%}\\n\"], components: [{ type: i1$2.RuntimeViewCanvasOutletComponent, selector: \"rx-runtime-view-canvas-outlet\", inputs: [\"name\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-container',\n                    templateUrl: './container.component.html',\n                    styleUrls: ['./container.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.Renderer2 }]; } });\n\nclass ContainerComponentDefinitionAdapterService {\n    constructor(viewDefinitionParserService, rxJsonParserService) {\n        this.viewDefinitionParserService = viewDefinitionParserService;\n        this.rxJsonParserService = rxJsonParserService;\n        this.componentDefinitionType = RxViewComponentType.Container;\n    }\n    // converting layout of old view definition into new format\n    adaptDefinition(containerComponentDefinition) {\n        this.viewDefinitionParserService\n            .getComponents(containerComponentDefinition)\n            .filter((componentPair) => componentPair.componentDefinition.type === this.componentDefinitionType)\n            .map((componentPair) => componentPair.componentDefinition)\n            .forEach((componentDefinition) => {\n            if (componentDefinition.layout) {\n                let layout = this.rxJsonParserService.tryParseJson(componentDefinition.layout);\n                if (layout && layout.componentDefinitionId) {\n                    const columns = layout.columns.map((column) => {\n                        const rowWrap = componentDefinition.propertiesByName.rowWrap || 'sm';\n                        const columnSpan = column.span || 12;\n                        const columnClass = rowWrap === 'xs' ? `col-${columnSpan}` : `col-${rowWrap}-${columnSpan}`;\n                        const marginBottomClass = rowWrap !== 'xs' ? `rx-mb-${rowWrap}` : '';\n                        return {\n                            cssClass: `${columnClass} ${marginBottomClass}`,\n                            children: column.children.map((child) => child.componentDefinitionId)\n                        };\n                    });\n                    layout = {\n                        outlets: [\n                            {\n                                name: 'DEFAULT',\n                                columns: columns\n                            }\n                        ]\n                    };\n                    componentDefinition.layout = JSON.stringify(layout);\n                }\n                else if (layout && layout.outlets) {\n                    layout.outlets.forEach((outlet) => {\n                        outlet.columns\n                            .filter((column) => !column.cssClass)\n                            .forEach((column) => {\n                            const rowWrap = componentDefinition.propertiesByName.rowWrap || 'sm';\n                            const columnSpan = column.span || 12;\n                            const columnClass = rowWrap === 'xs' ? `col-${columnSpan}` : `col-${rowWrap}-${columnSpan}`;\n                            const marginBottomClass = rowWrap !== 'xs' ? `rx-mb-${rowWrap}` : '';\n                            column.cssClass = `${columnClass} ${marginBottomClass}`;\n                        });\n                    });\n                    componentDefinition.layout = JSON.stringify(layout);\n                }\n            }\n        });\n    }\n}\nContainerComponentDefinitionAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerComponentDefinitionAdapterService, deps: [{ token: i1$4.RxViewDefinitionParserService }, { token: i2$1.RxJsonParserService }], target: i0.ɵɵFactoryTarget.Injectable });\nContainerComponentDefinitionAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerComponentDefinitionAdapterService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerComponentDefinitionAdapterService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewDefinitionParserService }, { type: i2$1.RxJsonParserService }]; } });\n\nclass ContainerModule {\n    constructor(containerComponentDefinitionAdapterService, rxDefinitionAdapterRegistryService) {\n        this.containerComponentDefinitionAdapterService = containerComponentDefinitionAdapterService;\n        this.rxDefinitionAdapterRegistryService = rxDefinitionAdapterRegistryService;\n        rxDefinitionAdapterRegistryService.registerRuntimeAdapter(RxViewComponentType.Container, this.containerComponentDefinitionAdapterService);\n    }\n}\nContainerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerModule, deps: [{ token: ContainerComponentDefinitionAdapterService }, { token: i1$1.RxDefinitionAdapterRegistryService }], target: i0.ɵɵFactoryTarget.NgModule });\nContainerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerModule, declarations: [ContainerComponent], imports: [CommonModule, RuntimeViewCanvasModule], exports: [ContainerComponent] });\nContainerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerModule, imports: [[CommonModule, RuntimeViewCanvasModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [ContainerComponent],\n                    exports: [ContainerComponent],\n                    entryComponents: [ContainerComponent],\n                    imports: [CommonModule, RuntimeViewCanvasModule]\n                }]\n        }], ctorParameters: function () { return [{ type: ContainerComponentDefinitionAdapterService }, { type: i1$1.RxDefinitionAdapterRegistryService }]; } });\n\nclass ContainerCanvasItemComponent extends CanvasItemContainerComponent {\n    constructor(canvasItemApi, canvasOutletHelperService, elementRef, renderer) {\n        super(canvasItemApi, canvasOutletHelperService);\n        this.canvasItemApi = canvasItemApi;\n        this.canvasOutletHelperService = canvasOutletHelperService;\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.maxNumberOfColumns = 12;\n        this.defaultGutterStep = 50;\n        this.percentSpanSize = 100 / this.maxNumberOfColumns;\n        this.gutterStep = this.defaultGutterStep;\n        this.columnResize = new EventEmitter();\n    }\n    onWindowResize() {\n        this.setGutterStep();\n    }\n    ngAfterViewInit() {\n        const spans = this.outlet.columns.map((column) => column.span);\n        this.setSpanSizes(spans);\n        this.setGutterStep();\n    }\n    onDragEnd(event) {\n        const spans = this.getPercentToSpanSizes(event.sizes);\n        this.columnResize.emit(spans);\n        this.setSpanSizes(spans);\n    }\n    getPercentToSpanSizes(percentSizes) {\n        return percentSizes.map((size) => Math.round((size * this.maxNumberOfColumns) / 100));\n    }\n    setSpanSizes(spans) {\n        this.splitComponent.setVisibleAreaSizes(this.getSpanToPercentSizes(spans));\n    }\n    getSpanToPercentSizes(spans) {\n        return spans.map((span) => span * this.percentSpanSize);\n    }\n    setGutterStep() {\n        const element = this.renderer.selectRootElement(this.elementRef.nativeElement, true);\n        this.gutterStep = Math.round(element.clientWidth / this.maxNumberOfColumns) || this.defaultGutterStep;\n    }\n}\nContainerCanvasItemComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerCanvasItemComponent, deps: [{ token: ViewDesignerCanvasItemApiToken }, { token: i1$3.CanvasOutletHelperService }, { token: i0.ElementRef }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Component });\nContainerCanvasItemComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ContainerCanvasItemComponent, selector: \"rx-container-canvas-item\", outputs: { columnResize: \"columnResize\" }, host: { listeners: { \"window:resize\": \"onWindowResize()\" } }, viewQueries: [{ propertyName: \"splitComponent\", first: true, predicate: SplitComponent, descendants: true, static: true }], usesInheritance: true, ngImport: i0, template: \"<as-split\\n  unit=\\\"percent\\\"\\n  [class.selected]=\\\"layout.isSelected$ | async\\\"\\n  [class.readonly]=\\\"isReadOnly\\\"\\n  [gutterStep]=\\\"gutterStep\\\"\\n  gutterSize=\\\"1\\\"\\n  (dragEnd)=\\\"onDragEnd($event)\\\"\\n>\\n  <as-split-area\\n    *ngFor=\\\"\\n      let column of outlet.columns;\\n      trackBy: trackByColFn;\\n      let colIndex = index;\\n      let first = first;\\n      let last = last\\n    \\\"\\n    minSize=\\\"8\\\"\\n  >\\n    <rx-canvas-item-column\\n      [isReadOnly]=\\\"isReadOnly\\\"\\n      [colIndex]=\\\"colIndex\\\"\\n      [column]=\\\"column\\\"\\n      [layout]=\\\"layout\\\"\\n      (dropListDropped)=\\\"onDropListDropped($event)\\\"\\n    ></rx-canvas-item-column>\\n  </as-split-area>\\n</as-split>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}:host{display:block}as-split:not(.readonly).selected ::ng-deep>.as-split-gutter{visibility:visible}as-split ::ng-deep as-split-area{height:revert!important;min-height:200px}as-split ::ng-deep as-split-area>rx-canvas-item-column{height:100%}as-split ::ng-deep as-split-area>rx-canvas-item-column>.cdk-drop-list{height:100%;min-height:auto}as-split ::ng-deep .as-split-gutter{visibility:hidden;height:revert!important;position:relative;background-color:#d6d7d8!important}as-split ::ng-deep .as-split-gutter .as-split-gutter-icon{border:1px solid #d6d7d8;height:72px!important;width:11px!important;background:white!important;border-radius:2px;position:absolute}as-split ::ng-deep .as-split-gutter .as-split-gutter-icon:hover:before,as-split ::ng-deep .as-split-gutter .as-split-gutter-icon:hover:after{background-color:#d6d7d8}as-split ::ng-deep .as-split-gutter .as-split-gutter-icon:before,as-split ::ng-deep .as-split-gutter .as-split-gutter-icon:after{display:inline-block;content:\\\"\\\";position:absolute;top:50%;width:2px;height:64px;background-color:#f0f1f1;border-radius:2px;transform:translateY(-50%);transition:background-color .25s ease}as-split ::ng-deep .as-split-gutter .as-split-gutter-icon:before{left:2px}as-split ::ng-deep .as-split-gutter .as-split-gutter-icon:after{left:5px}\\n\"], components: [{ type: i2$2.SplitComponent, selector: \"as-split\", inputs: [\"direction\", \"unit\", \"gutterSize\", \"gutterStep\", \"restrictMove\", \"useTransition\", \"disabled\", \"dir\", \"gutterDblClickDuration\"], outputs: [\"dragStart\", \"dragEnd\", \"gutterClick\", \"gutterDblClick\", \"transitionEnd\"], exportAs: [\"asSplit\"] }, { type: i1$3.CanvasItemColumnComponent, selector: \"rx-canvas-item-column\", inputs: [\"isReadOnly\", \"colIndex\", \"column\", \"layout\"], outputs: [\"dropListDropped\"] }], directives: [{ type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$2.SplitAreaDirective, selector: \"as-split-area, [as-split-area]\", inputs: [\"order\", \"size\", \"minSize\", \"maxSize\", \"lockSize\", \"visible\"], exportAs: [\"asSplitArea\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerCanvasItemComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-container-canvas-item',\n                    templateUrl: './container-canvas-item.component.html',\n                    styleUrls: ['./container-canvas-item.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1$3.CanvasItemApi, decorators: [{\n                    type: Inject,\n                    args: [ViewDesignerCanvasItemApiToken]\n                }] }, { type: i1$3.CanvasOutletHelperService }, { type: i0.ElementRef }, { type: i0.Renderer2 }]; }, propDecorators: { splitComponent: [{\n                type: ViewChild,\n                args: [SplitComponent, { static: true }]\n            }], columnResize: [{\n                type: Output\n            }], onWindowResize: [{\n                type: HostListener,\n                args: ['window:resize']\n            }] } });\n\nvar ContainerRowWrap;\n(function (ContainerRowWrap) {\n    ContainerRowWrap[\"Xs\"] = \"xs\";\n    ContainerRowWrap[\"Sm\"] = \"sm\";\n    ContainerRowWrap[\"Md\"] = \"md\";\n    ContainerRowWrap[\"Lg\"] = \"lg\";\n    ContainerRowWrap[\"Xl\"] = \"xl\";\n    ContainerRowWrap[\"Xxl\"] = \"xxl\";\n})(ContainerRowWrap || (ContainerRowWrap = {}));\n\nconst RX_CONTAINER = {\n    type: RxViewComponentType.Container,\n    maxColumnSpan: 12,\n    rowWrapOptions: {\n        xs: {\n            id: ContainerRowWrap.Xs,\n            name: 'Extra Small (No wrapping)'\n        },\n        sm: {\n            id: ContainerRowWrap.Sm,\n            name: 'Small (576 px)'\n        },\n        md: {\n            id: ContainerRowWrap.Md,\n            name: 'Medium (768 px)'\n        },\n        lg: {\n            id: ContainerRowWrap.Lg,\n            name: 'Large (992 px)'\n        },\n        xl: {\n            id: ContainerRowWrap.Xl,\n            name: 'Extra Large (1200 px)'\n        },\n        xxl: {\n            id: ContainerRowWrap.Xxl,\n            name: 'Extra Extra Large (1600 px)'\n        }\n    }\n};\n\nconst cssClassesAutocompleteValues = RX_VIEW_DEFINITION.styles.map((style) => ({ text: style.name, data: { value: style.id } }));\nclass ContainerDesignModel extends ViewDesignerComponentModel {\n    constructor() {\n        super(...arguments);\n        this.componentProperties$ = this.sandbox.componentProperties$;\n        this.hasChildren$ = this.sandbox.getChildComponentGuids().pipe(map((guids) => !isEmpty(guids)));\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign(Object.assign({ name: null, rowWrap: ContainerRowWrap.Sm, columnCount: '1' }, RX_STANDARD_PROPS_DEFAULT_VALUES), initialProperties);\n    }\n    rxInit() {\n        this.componentProperties$.pipe(take(1)).subscribe(() => {\n            this.sandbox.updateInspectorConfig(this.getInspector());\n        });\n        this.componentProperties$.subscribe((componentProperties) => this.validate(componentProperties));\n        this.sandbox\n            .getComponentPropertyValue('columnCount')\n            .pipe(skip(1), takeUntil(this.sandbox.destroyed$))\n            .subscribe((columnCount) => {\n            this.sandbox.setLayout(this.getDefaultColumnSpans(Number(columnCount)));\n        });\n        this.sandbox.getComponentPropertyValue('name').subscribe((name) => {\n            const componentName = name ? `${this.sandbox.descriptor.name} (${name})` : this.sandbox.descriptor.name;\n            this.sandbox.setSettablePropertiesDataDictionary(componentName, [\n                {\n                    label: 'Hidden',\n                    expression: this.getExpressionForProperty('hidden')\n                }\n            ]);\n        });\n    }\n    validate(model) {\n        this.sandbox.setValidationIssues(validateStandardProps(model));\n    }\n    getPropertiesByName(properties) {\n        const result = Object.assign({}, properties);\n        if (!result.styles) {\n            delete result.styles;\n        }\n        return result;\n    }\n    setContainerLayout(columnSizes) {\n        this.sandbox.setLayout(columnSizes);\n    }\n    getDefaultColumnSpans(columnCount) {\n        const columnSpans = [];\n        const span = Math.floor(RX_CONTAINER.maxColumnSpan / columnCount);\n        times(columnCount, () => columnSpans.push(span));\n        columnSpans[columnSpans.length - 1] = (RX_CONTAINER.maxColumnSpan % columnCount) + span;\n        return columnSpans;\n    }\n    getInspector() {\n        return {\n            inspectorSectionConfigs: [\n                {\n                    label: 'General',\n                    controls: [\n                        {\n                            name: 'name',\n                            component: TextFormControlComponent,\n                            options: {\n                                label: 'Name',\n                                tooltip: new Tooltip('Enter a name to uniquely identify the Container.')\n                            }\n                        },\n                        {\n                            name: 'columnCount',\n                            component: SelectFormControlComponent,\n                            options: {\n                                label: 'Number of columns',\n                                required: true,\n                                tooltip: new Tooltip('Resize container columns on the canvas by dragging the dashed column separator line.'),\n                                options: times(6, (index) => ({ id: (++index).toString(), name: index.toString() }))\n                            }\n                        },\n                        {\n                            name: 'rowWrap',\n                            component: SelectFormControlComponent,\n                            options: {\n                                label: 'Row wrap',\n                                sortAlphabetically: false,\n                                options: values(RX_CONTAINER.rowWrapOptions),\n                                tooltip: new Tooltip(`The Row wrap property controls the layout of multi-column containers based on\n                    the width of the view. When the width of the view is decreased to a width less\n                    than the selected Row wrap value, each container column after the first one\n                    wraps onto a new line.`)\n                            }\n                        },\n                        getHiddenFieldInspectorConfig(),\n                        getAvailableOnDevicesInspectorConfig(),\n                        getStylesFieldInspectorConfig(cssClassesAutocompleteValues)\n                    ]\n                }\n            ]\n        };\n    }\n}\n\nclass ContainerDesignComponent {\n    constructor() {\n        this.containerCanvasItemComponent = ContainerCanvasItemComponent;\n        this.destroyed$ = new ReplaySubject(1);\n    }\n    ngAfterViewInit() {\n        this.canvasOutletComponent.containerComponentInstance.columnResize\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe((columnSizes) => {\n            this.model.setContainerLayout(columnSizes);\n        });\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n}\nContainerDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nContainerDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ContainerDesignComponent, selector: \"rx-container-design\", inputs: { model: \"model\" }, viewQueries: [{ propertyName: \"canvasOutletComponent\", first: true, predicate: CanvasOutletComponent, descendants: true, static: true }], ngImport: i0, template: \"<rx-canvas-outlet\\n  class=\\\"border d-block\\\"\\n  [class.has-children]=\\\"model.hasChildren$ | async\\\"\\n  [containerComponent]=\\\"containerCanvasItemComponent\\\"\\n></rx-canvas-outlet>\\n\", styles: [\".has-children ::ng-deep>rx-container-canvas-item>as-split>as-split-area{min-height:auto}\\n\"], components: [{ type: i1$3.CanvasOutletComponent, selector: \"rx-canvas-outlet\", inputs: [\"name\", \"skipParentPredicate\", \"containerComponent\", \"dropListOrientation\", \"dropPredicate\"], outputs: [\"beforeViewComponentDrop\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-container-design',\n                    templateUrl: './container-design.component.html',\n                    styleUrls: ['./container-design.component.scss']\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }], canvasOutletComponent: [{\n                type: ViewChild,\n                args: [CanvasOutletComponent, { static: true }]\n            }] } });\n\nclass ContainerDesignModule {\n}\nContainerDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nContainerDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerDesignModule, declarations: [ContainerDesignComponent, ContainerCanvasItemComponent], imports: [CommonModule, ViewDesignerCanvasModule, AngularSplitModule, DragDropModule] });\nContainerDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerDesignModule, providers: [RxActionButtonService], imports: [[CommonModule, ViewDesignerCanvasModule, AngularSplitModule, DragDropModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, ViewDesignerCanvasModule, AngularSplitModule, DragDropModule],\n                    declarations: [ContainerDesignComponent, ContainerCanvasItemComponent],\n                    entryComponents: [ContainerDesignComponent, ContainerCanvasItemComponent],\n                    providers: [RxActionButtonService]\n                }]\n        }] });\n\nconst RECORD_EDITOR = {\n    type: RxViewComponentType.RecordEditor,\n    fieldTypes: {\n        [RX_RECORD_DEFINITION.resourceTypes.character]: RxViewComponentType.Character,\n        [RX_RECORD_DEFINITION.resourceTypes.dateTime]: RxViewComponentType.DateTime,\n        [RX_RECORD_DEFINITION.resourceTypes.selection]: RxViewComponentType.Selection,\n        [RX_RECORD_DEFINITION.resourceTypes.timeOnly]: RxViewComponentType.Time,\n        [RX_RECORD_DEFINITION.resourceTypes.dateOnly]: RxViewComponentType.Date,\n        [RX_RECORD_DEFINITION.resourceTypes.boolean]: RxViewComponentType.Boolean,\n        [RX_RECORD_DEFINITION.resourceTypes.attachment]: RxViewComponentType.Attachment,\n        [RX_RECORD_DEFINITION.resourceTypes.integer]: RxViewComponentType.Integer,\n        [RX_RECORD_DEFINITION.resourceTypes.real]: RxViewComponentType.Floating,\n        [RX_RECORD_DEFINITION.resourceTypes.decimal]: RxViewComponentType.Decimal,\n        [RX_RECORD_DEFINITION.resourceTypes.localizedCharacter]: RxViewComponentType.LocalizedCharacter\n    }\n};\nvar RecordEditorMode;\n(function (RecordEditorMode) {\n    RecordEditorMode[\"Create\"] = \"CREATE\";\n    RecordEditorMode[\"Edit\"] = \"EDIT\";\n    RecordEditorMode[\"BulkEdit\"] = \"BULK EDIT\";\n    RecordEditorMode[\"Temporary\"] = \"TEMPORARY\";\n})(RecordEditorMode || (RecordEditorMode = {}));\nvar RecordEditorState;\n(function (RecordEditorState) {\n    RecordEditorState[\"Read\"] = \"READ\";\n    RecordEditorState[\"Edit\"] = \"EDIT\";\n})(RecordEditorState || (RecordEditorState = {}));\n\nclass FieldSelectorComponent {\n    constructor(context, stringService) {\n        this.context = context;\n        this.stringService = stringService;\n        this.selectedFieldIdsModel = {};\n        this.availableFieldGroups = [];\n        this.hideSystemFields = false;\n        this.isApplyButtonDisabled = true;\n        this.selectedFieldDefinitionIds = [];\n        this.availableFieldDefinitions = [];\n    }\n    ngOnInit() {\n        const data = this.context.getData();\n        this.availableFieldDefinitions = data.availableFields;\n        this.selectedFieldDefinitionIds = data.selectedFieldIds;\n        this.hideSystemFields = Boolean(data.hideSystemFields);\n        this.availableFieldGroups = this.groupFieldsByFieldOption(this.availableFieldDefinitions);\n        this.selectedFieldIdsModel = this.idsToModel(this.selectedFieldDefinitionIds);\n    }\n    closeModal() {\n        this.context.close(this.modelToIds(this.selectedFieldIdsModel));\n    }\n    search(searchQuery) {\n        this.availableFieldGroups = this.groupFieldsByFieldOption(this.availableFieldDefinitions)\n            .map((fieldGroup) => (Object.assign(Object.assign({}, fieldGroup), { fields: fieldGroup.fields.filter((field) => this.stringService.caseInsensitiveSearch(field.name, searchQuery)) })))\n            .filter((fieldGroup) => !isEmpty(fieldGroup.fields));\n    }\n    select(groupName) {\n        if (groupName === 'all') {\n            const ids = this.availableFieldDefinitions\n                .filter((recordField) => {\n                return recordField.fieldOption !== RecordFieldOption.System || !this.hideSystemFields;\n            })\n                .map((recordField) => recordField.id);\n            this.selectedFieldIdsModel = this.idsToModel(ids);\n        }\n        else {\n            const ids = this.availableFieldGroups\n                .find((group) => group.groupLabel === groupName)\n                .fields.map((recordField) => recordField.id);\n            this.selectedFieldIdsModel = Object.assign(Object.assign({}, this.selectedFieldIdsModel), this.idsToModel(ids));\n        }\n        this.updateApplyButtonDisabledStatus();\n    }\n    updateApplyButtonDisabledStatus() {\n        this.isApplyButtonDisabled = !xor(this.selectedFieldDefinitionIds, this.modelToIds(this.selectedFieldIdsModel))\n            .length;\n    }\n    groupFieldsByFieldOption(availableFields) {\n        const groups = groupBy(availableFields, 'fieldOption');\n        const groupTypes = [RecordFieldOption.Required, RecordFieldOption.Optional];\n        if (!this.hideSystemFields) {\n            groupTypes.push(RecordFieldOption.System);\n        }\n        return groupTypes\n            .filter((groupType) => groups[groupType])\n            .map((groupType) => ({\n            groupLabel: `${this.stringService.prettify(groupType)} fields`,\n            selectAllFieldsInGroupButtonLabel: `Select all ${groupType.toLowerCase()} fields`,\n            fields: groups[groupType].map(({ id, name }) => ({ id, name })).sort((a, b) => a.name.localeCompare(b.name))\n        }));\n    }\n    trackByLabel(index, item) {\n        return item.groupLabel;\n    }\n    trackById(index, item) {\n        return item.id;\n    }\n    idsToModel(ids, selected = true) {\n        return ids.filter(Boolean).reduce((result, id) => {\n            result[id] = selected;\n            return result;\n        }, {});\n    }\n    modelToIds(model) {\n        return reduce(model, (result, value, id) => {\n            if (value) {\n                result.push(id);\n            }\n            return result;\n        }, []);\n    }\n}\nFieldSelectorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: FieldSelectorComponent, deps: [{ token: i1.ActiveModalRef }, { token: i2$1.RxStringService }], target: i0.ɵɵFactoryTarget.Component });\nFieldSelectorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: FieldSelectorComponent, selector: \"ng-component\", ngImport: i0, template: \"<div class=\\\"modal-header pr-0\\\">\\n  <h5 class=\\\"modal-title pl-0 mr-auto\\\">Quick edit fields</h5>\\n\\n  <button\\n    adapt-button\\n    type=\\\"button\\\"\\n    size=\\\"small\\\"\\n    btn-type=\\\"primary\\\"\\n    rx-id=\\\"apply-button\\\"\\n    (click)=\\\"closeModal()\\\"\\n    [disabled]=\\\"isApplyButtonDisabled\\\"\\n    class=\\\"mr-5\\\"\\n  >\\n    Apply\\n  </button>\\n\\n  <button\\n    class=\\\"close my-1\\\"\\n    adapt-button\\n    type=\\\"button\\\"\\n    size=\\\"small\\\"\\n    btn-type=\\\"tertiary\\\"\\n    (click)=\\\"context.dismiss(0)\\\"\\n    rx-id=\\\"x-button\\\"\\n  ></button>\\n</div>\\n\\n<div class=\\\"modal-body\\\">\\n  <div class=\\\"body-controls\\\">\\n    <adapt-button btn-type=\\\"tertiary\\\" rx-id=\\\"select-all-button\\\" class=\\\"pl-0\\\" (click)=\\\"select('all')\\\">\\n      Select all\\n    </adapt-button>\\n\\n    <adapt-rx-textfield\\n      [placeholder]=\\\"'Search fields'\\\"\\n      [ngModel]=\\\"searchQuery\\\"\\n      [attr.rx-id]=\\\"'search-field'\\\"\\n      (ngModelChange)=\\\"search($event)\\\"\\n      class=\\\"form-group\\\"\\n    >\\n    </adapt-rx-textfield>\\n  </div>\\n\\n  <div class=\\\"rx-record-definition-fields\\\">\\n    <div\\n      class=\\\"rx-record-definition-field-group\\\"\\n      *ngFor=\\\"let availableFieldsGroup of availableFieldGroups; trackBy: trackByLabel\\\"\\n    >\\n      <div class=\\\"font-weight-bold\\\">\\n        {{ availableFieldsGroup.groupLabel }}\\n      </div>\\n\\n      <adapt-button btn-type=\\\"tertiary\\\" class=\\\"py-0 pl-0\\\" (click)=\\\"select(availableFieldsGroup.groupLabel)\\\">\\n        {{ availableFieldsGroup.selectAllFieldsInGroupButtonLabel }}\\n      </adapt-button>\\n\\n      <div class=\\\"checkbox\\\" *ngFor=\\\"let availableField of availableFieldsGroup.fields; trackBy: trackById\\\">\\n        <label>\\n          <input\\n            type=\\\"checkbox\\\"\\n            [(ngModel)]=\\\"selectedFieldIdsModel[availableField.id]\\\"\\n            (ngModelChange)=\\\"updateApplyButtonDisabledStatus()\\\"\\n          />\\n\\n          <span class=\\\"checkbox__item\\\">{{ availableField.name }}</span>\\n        </label>\\n      </div>\\n    </div>\\n\\n    <div *ngIf=\\\"availableFieldGroups.length === 0\\\">No Fields Found</div>\\n  </div>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.modal-title{margin:auto 0}span[rx-id=x-button]{cursor:pointer;margin:auto 0}span[rx-id=x-button]:hover{color:#959899}.body-controls{display:flex}.body-controls adapt-rx-textfield{flex:1}.rx-record-definition-fields{padding:10px;border:1px solid #d6d7d8;max-height:300px;overflow:auto}.rx-record-definition-field-group{margin-bottom:20px}\\n\"], components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }], directives: [{ type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$3.CheckboxControlValueAccessor, selector: \"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]\" }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: FieldSelectorComponent, decorators: [{\n            type: Component,\n            args: [{\n                    templateUrl: './field-selector.component.html',\n                    styleUrls: ['./field-selector.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1.ActiveModalRef }, { type: i2$1.RxStringService }]; } });\n\nclass FieldsInspectorWidgetComponent extends InspectorWidgetBase {\n    constructor(injector, adaptModalService, renderer) {\n        super(injector);\n        this.adaptModalService = adaptModalService;\n        this.renderer = renderer;\n        this.encapsulateClass = true;\n    }\n    focus() {\n        this.renderer.selectRootElement(this.openModalButton.nativeElement, true).click();\n    }\n    openModal() {\n        combineLatest([\n            this.designerItemModel.childFieldIds$,\n            this.designerItemModel.recordFieldDefinitionItems$,\n            this.designerItemModel.isExtensionView$,\n            this.designerItemModel.associationDefinitionName$\n        ])\n            .pipe(take(1), concatMap(([selectedFieldIds, availableFields, isExtensionView, associationDefinitionName]) => this.adaptModalService.open({\n            content: FieldSelectorComponent,\n            data: {\n                selectedFieldIds,\n                availableFields: isExtensionView && associationDefinitionName\n                    ? availableFields.filter((field) => field.resourceType !== RX_RECORD_DEFINITION.resourceTypes.attachment)\n                    : availableFields,\n                hideSystemFields: this.options.hideSystemFields\n            },\n            size: 'sm',\n            hideBackdrop: false,\n            customClass: 'rx-record-editor-field-selector-modal'\n        })))\n            .subscribe((selectedFieldIds) => {\n            this.designerItemModel.updateSelectedFieldComponents(selectedFieldIds);\n        });\n    }\n    removeField(guid) {\n        this.designerItemModel.removeComponent([guid]);\n    }\n    trackByGuid(index, item) {\n        return item.guid;\n    }\n}\nFieldsInspectorWidgetComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: FieldsInspectorWidgetComponent, deps: [{ token: i0.Injector }, { token: i1.AdaptModalService }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Component });\nFieldsInspectorWidgetComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: FieldsInspectorWidgetComponent, selector: \"rx-fields-inspector-widget\", host: { properties: { \"class.rx-record-definition-fields\": \"this.encapsulateClass\" } }, viewQueries: [{ propertyName: \"openModalButton\", first: true, predicate: [\"openModalButton\"], descendants: true, read: ElementRef, static: true }], usesInheritance: true, ngImport: i0, template: \"<adapt-button\\n  btn-type=\\\"tertiary\\\"\\n  #openModalButton\\n  rx-id=\\\"open-modal-button\\\"\\n  class=\\\"px-0 py-0\\\"\\n  (click)=\\\"openModal()\\\"\\n  [hidden]=\\\"options.isDisabled\\\"\\n>\\n  <span class=\\\"d-icon-plus_circle\\\"></span>\\n  Quick edit fields\\n</adapt-button>\\n\\n<div rx-id=\\\"columns\\\">\\n  <span *ngIf=\\\"(designerItemModel.selectedFieldComponents$ | async).length === 0\\\" class=\\\"text-tertiary\\\"\\n    >No fields added.</span\\n  >\\n</div>\\n\\n<div class=\\\"mt-2\\\">\\n  <div\\n    class=\\\"rx-field-item\\\"\\n    *ngFor=\\\"let field of designerItemModel.selectedFieldComponents$ | async; trackBy: trackByGuid\\\"\\n  >\\n    <div>\\n      <div class=\\\"rx-field-name\\\">{{ field.label }}</div>\\n\\n      <div class=\\\"rx-field-type\\\">\\n        <small>{{ field.componentName }}</small>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"rx-action-button\\\">\\n      <span\\n        *ngIf=\\\"!options.isDisabled\\\"\\n        (click)=\\\"removeField(field.guid)\\\"\\n        class=\\\"d-icon-cross btn-link\\\"\\n        rx-id=\\\"delete-button\\\"\\n      >\\n      </span>\\n    </div>\\n  </div>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.rx-record-definition-fields .rx-field-item{margin-bottom:5px;border:1px solid #d6d7d8;border-radius:2px;padding:5px 10px;font-size:12px;display:flex;justify-content:space-between;word-break:break-all}.rx-record-definition-fields .rx-field-name{font-weight:var(--font-weight-bold)}.rx-record-definition-fields .rx-field-type{color:#959899}.rx-record-definition-fields .d-icon-cross{cursor:pointer}.rx-record-definition-fields .d-icon-cross:not(:hover){color:#313538}.rx-record-editor-field-selector-modal .modal{justify-content:flex-end}.rx-record-editor-field-selector-modal .modal-scroll-container{padding:15px;min-height:0}.rx-record-editor-field-selector-modal .modal-dialog{margin:auto 0 0 auto;min-height:0;width:350px}\\n\"], components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: FieldsInspectorWidgetComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-fields-inspector-widget',\n                    templateUrl: './fields-inspector-widget.component.html',\n                    styleUrls: ['./fields-inspector-widget.component.scss'],\n                    encapsulation: ViewEncapsulation.None,\n                    changeDetection: ChangeDetectionStrategy.OnPush\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1.AdaptModalService }, { type: i0.Renderer2 }]; }, propDecorators: { encapsulateClass: [{\n                type: HostBinding,\n                args: ['class.rx-record-definition-fields']\n            }], openModalButton: [{\n                type: ViewChild,\n                args: ['openModalButton', { read: ElementRef, static: true }]\n            }] } });\n\nclass RxRecordEditorDesignHelpersService {\n    constructor(rxRecordDefinitionCacheService, rxModalService, rxFieldDefinitionService, rxViewDefinitionCacheService, rxAssociationDefinitionDataPageService, rxDefinitionNameService, rxViewComponentRegistryService, rxViewDefinitionParserService) {\n        this.rxRecordDefinitionCacheService = rxRecordDefinitionCacheService;\n        this.rxModalService = rxModalService;\n        this.rxFieldDefinitionService = rxFieldDefinitionService;\n        this.rxViewDefinitionCacheService = rxViewDefinitionCacheService;\n        this.rxAssociationDefinitionDataPageService = rxAssociationDefinitionDataPageService;\n        this.rxDefinitionNameService = rxDefinitionNameService;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.rxViewDefinitionParserService = rxViewDefinitionParserService;\n    }\n    getRecordFieldDefinitionItems(recordDefinition) {\n        return recordDefinition.fieldDefinitions.map((fieldDefinition) => ({\n            id: String(fieldDefinition.id),\n            name: fieldDefinition.name,\n            resourceType: fieldDefinition.resourceType,\n            fieldOption: fieldDefinition.fieldOption,\n            viewComponentType: this.getViewComponentType(fieldDefinition)\n        }));\n    }\n    getViewComponentType(fieldDefinition) {\n        let viewComponentType = RECORD_EDITOR.fieldTypes[fieldDefinition.resourceType];\n        if (fieldDefinition.resourceType === RX_RECORD_DEFINITION.resourceTypes.character) {\n            viewComponentType =\n                fieldDefinition.namedListDefinition || inRange(fieldDefinition.maxLength, 1, 255)\n                    ? RxViewComponentType.Character\n                    : RxViewComponentType.Textarea;\n        }\n        if (fieldDefinition.resourceType === RX_RECORD_DEFINITION.resourceTypes.real) {\n            viewComponentType = RxViewComponentType.Decimal;\n        }\n        return viewComponentType;\n    }\n    getComponentProperties(properties) {\n        const requiredPropertyNames = ['recordDefinitionName', 'mode', 'allowEdit'];\n        return flow(\n        // Remove design properties.\n        (props) => omit(props, 'showReadOnlyState'), \n        // Remove optional properties with empty values.\n        (props) => omitBy(props, (propertyValue, propertyName) => !requiredPropertyNames.includes(propertyName) && (isNil(propertyValue) || propertyValue === '')))(properties);\n    }\n    getRecordDefinition(recordDefinitionName) {\n        if (recordDefinitionName) {\n            return this.rxRecordDefinitionCacheService\n                .getRecordDefinition(recordDefinitionName)\n                .pipe(catchError((error) => EMPTY));\n        }\n        else {\n            return of(null);\n        }\n    }\n    validate(sandbox, properties, recordDefinition, childFieldIds, isAssociationRequired = false, isExtensionView = false) {\n        const validationIssues = [];\n        if (!properties.recordDefinitionName) {\n            validationIssues.push(sandbox.createError('Record definition name cannot be blank.', 'recordDefinitionName'));\n        }\n        if (isAssociationRequired && properties.recordDefinitionName && !properties.associationDefinitionName) {\n            validationIssues.push(sandbox.createError('Association to use cannot be blank.', 'associationDefinitionName'));\n        }\n        if (!isExtensionView && properties.mode === RecordEditorMode.Edit && !properties.recordInstanceId) {\n            validationIssues.push(sandbox.createError('Record ID cannot be blank.', 'recordInstanceId'));\n        }\n        if (recordDefinition && properties.recordDefinitionName && properties.mode === RecordEditorMode.Create) {\n            // Add warning for Join Record Definition case\n            if (recordDefinition.resourceType === RX_RECORD_DEFINITION.recordDefinitionTypes.join.recordDefinitionType) {\n                validationIssues.push(sandbox.createWarning(`You have configured a record editor to create join record instances.\n                        Please ensure that one or more processes or rules have been defined to perform the creation\n                        of the join record instance.`, undefined, true));\n            }\n            // System fields in 'CREATE' mode cannot be chosen\n            const systemFieldNames = childFieldIds\n                .map((selectedFieldId) => recordDefinition.fieldDefinitions.find((fieldDefinition) => fieldDefinition.id === Number(selectedFieldId)))\n                .filter(this.rxFieldDefinitionService.isSystemField)\n                .map((fieldDefinition) => fieldDefinition.name);\n            if (systemFieldNames.length) {\n                validationIssues.push(sandbox.createError(`System fields (${systemFieldNames.join(', ')}) cannot be present when Record editor is in Create mode.`));\n            }\n            // Required fields without default value must be included when in 'CREATE' mode.\n            // When in extension view, this validation is only needed when the Record Editor\n            // is bound to an associated record, i.e. not the same record as the target Record Editor,\n            // which should already contain all such fields.\n            if (!isExtensionView || properties.associationDefinitionName) {\n                const requiredFieldsWithoutDefaultValues = recordDefinition.fieldDefinitions.filter((fieldDefinition) => {\n                    const isLocalizedCharacterField = fieldDefinition.resourceType === RX_RECORD_DEFINITION.resourceTypes.localizedCharacter;\n                    const hasDefaultValue = fieldDefinition.defaultValue ||\n                        isFinite(fieldDefinition.defaultValue) ||\n                        (isLocalizedCharacterField && !isEmpty(fieldDefinition.defaultValueByLocale));\n                    return fieldDefinition.fieldOption === RX_RECORD_DEFINITION.fieldOptions.required && !hasDefaultValue;\n                });\n                const requiredFieldNames = requiredFieldsWithoutDefaultValues\n                    .filter((fieldDefinition) => !childFieldIds.includes(String(fieldDefinition.id)))\n                    .map((fieldDefinition) => fieldDefinition.name);\n                if (requiredFieldNames.length) {\n                    validationIssues.push(sandbox.createError(`Required fields are missing: ${requiredFieldNames.join(', ')}.`));\n                }\n            }\n        }\n        validationIssues.push(...validateStandardProps(properties));\n        return validationIssues;\n    }\n    getViewDefinition(viewDefinitionName) {\n        if (viewDefinitionName) {\n            return this.rxViewDefinitionCacheService.getViewDefinition(viewDefinitionName).pipe(catchError(() => of(null)));\n        }\n        else {\n            return of(null);\n        }\n    }\n    getInspector(recordDefinitionName, mode, showReadOnlyState, recordFieldDefinitionItems = [], isExtensionView = false, associationOptions = [], isAssociationRequired = false, onBeforeModeChange) {\n        const inspectorConfig = {\n            inspectorSectionConfigs: [\n                {\n                    label: 'General',\n                    controls: [\n                        {\n                            name: 'name',\n                            component: TextFormControlComponent,\n                            options: {\n                                label: 'Name',\n                                tooltip: new Tooltip('Enter a name to uniquely identify the Record editor.')\n                            }\n                        },\n                        {\n                            name: 'recordDefinitionName',\n                            component: RxDefinitionPickerComponent,\n                            options: {\n                                label: 'Record definition name',\n                                definitionType: RxDefinitionPickerType.StandardDataRecord,\n                                required: true,\n                                beforeValueChange: (oldValue, newValue) => {\n                                    if (Boolean(oldValue)) {\n                                        return this.rxModalService.confirm({\n                                            title: 'Warning',\n                                            modalStyle: RX_MODAL.modalStyles.warning,\n                                            message: 'All view components will be removed from the Record editor. Do you want to continue?'\n                                        });\n                                    }\n                                    else {\n                                        return Promise.resolve(true);\n                                    }\n                                }\n                            }\n                        },\n                        {\n                            name: 'mode',\n                            component: GroupButtonFormControlComponent,\n                            options: {\n                                label: 'Mode',\n                                tooltip: new Tooltip('<b>Record editor modes:</b><br><ul><li>Create mode is for creating new records.</li><li>Edit mode is for updating records.</li><li>Temporary mode is for holding data that does not need to be saved.</li></ul>'),\n                                required: true,\n                                items: [\n                                    {\n                                        name: 'Create',\n                                        value: RecordEditorMode.Create\n                                    },\n                                    {\n                                        name: 'Edit',\n                                        value: RecordEditorMode.Edit\n                                    },\n                                    {\n                                        name: 'Temporary',\n                                        value: RecordEditorMode.Temporary\n                                    }\n                                ],\n                                beforeValueChange: onBeforeModeChange\n                            }\n                        }\n                    ]\n                }\n            ]\n        };\n        const generalSectionControls = inspectorConfig.inspectorSectionConfigs[0].controls;\n        if (mode === RecordEditorMode.Edit && !isExtensionView) {\n            generalSectionControls.push({\n                name: 'recordInstanceId',\n                component: ExpressionInspectorControlComponent,\n                options: {\n                    label: 'Record ID',\n                    tooltip: new Tooltip('Enter the record ID of the record that the users need to edit.'),\n                    isRequired: true\n                }\n            });\n            generalSectionControls.push({\n                name: 'showReadOnlyState',\n                component: SwitchFormControlComponent,\n                options: {\n                    label: 'Enable read state'\n                }\n            });\n            if (showReadOnlyState) {\n                generalSectionControls.push({\n                    name: 'defaultState',\n                    component: GroupButtonFormControlComponent,\n                    options: {\n                        label: 'Default state',\n                        items: [\n                            {\n                                name: 'Read',\n                                value: RecordEditorState.Read\n                            },\n                            {\n                                name: 'Edit',\n                                value: RecordEditorState.Edit\n                            }\n                        ]\n                    }\n                });\n            }\n            generalSectionControls.push({\n                name: 'allowEdit',\n                component: OptionalExpressionInspectorControlComponent,\n                options: {\n                    label: 'Allow edit'\n                }\n            });\n        }\n        generalSectionControls.push(getAvailableOnDevicesInspectorConfig(), getStylesFieldInspectorConfig());\n        if (isExtensionView) {\n            generalSectionControls.splice(1, 0, {\n                name: 'label',\n                component: TextFormControlComponent,\n                options: {\n                    label: 'Display label',\n                    tooltip: new Tooltip(`Enter a Display label for the Record editor. When this view is injected into the view to extend,\n              the Display label will be shown above the Record editor's fields. If a Display label is not defined,\n              the name of the source application or library will be shown above the fields.`)\n                }\n            });\n            if (recordDefinitionName) {\n                generalSectionControls.splice(3, 0, {\n                    name: 'associationDefinitionName',\n                    component: SelectFormControlComponent,\n                    options: {\n                        label: 'Association to use',\n                        options: associationOptions,\n                        emptyOption: !isAssociationRequired,\n                        required: isAssociationRequired\n                    }\n                });\n            }\n        }\n        const formContentsSection = {\n            label: 'Form contents',\n            controls: [\n                {\n                    component: FieldsInspectorWidgetComponent,\n                    options: {\n                        label: 'Selected fields',\n                        hideSystemFields: mode === RecordEditorMode.Create\n                    }\n                }\n            ]\n        };\n        if (recordDefinitionName) {\n            inspectorConfig.inspectorSectionConfigs.push(formContentsSection);\n        }\n        return inspectorConfig;\n    }\n    getAssociationOptions(firstRecordDefinitionName, secondRecordDefinitionName) {\n        if (firstRecordDefinitionName && secondRecordDefinitionName) {\n            return this.getAssociations(firstRecordDefinitionName, secondRecordDefinitionName).pipe(map((res) => res.data\n                .filter((association) => association.nodeAId === firstRecordDefinitionName)\n                .map((association) => ({\n                id: association.name,\n                name: this.rxDefinitionNameService.getDisplayName(association.name)\n            }))));\n        }\n        else {\n            return of([]);\n        }\n    }\n    getAssociations(firstRecordDefinitionName, secondRecordDefinitionName) {\n        return this.rxAssociationDefinitionDataPageService.get({\n            params: {\n                propertySelection: ['name', 'scope', 'nodeAId'],\n                firstRecordDefinitionName: firstRecordDefinitionName,\n                secondRecordDefinitionName: secondRecordDefinitionName,\n                cardinality: RX_ASSOCIATION_DEFINITION.cardinality.oneToOne.value,\n                nodeAModality: RX_ASSOCIATION_DEFINITION.modality.required,\n                shouldCascadeDelete: true\n            },\n            headers: { 'default-bundle-scope': '' }\n        });\n    }\n    getTargetRecordEditorProperties(viewDefinition, targetExtensionContainerGuid) {\n        let targetRecordEditor;\n        if (viewDefinition && targetExtensionContainerGuid) {\n            targetRecordEditor = this.rxViewDefinitionParserService.findParentComponentDefinition(viewDefinition, { guid: targetExtensionContainerGuid }, (definition) => definition.type === RxViewComponentType.RecordEditor);\n        }\n        return get(targetRecordEditor, 'propertiesByName', {});\n    }\n    confirmSystemFieldRemoval() {\n        return from(this.rxModalService.confirm({\n            title: 'Warning',\n            modalStyle: RX_MODAL.modalStyles.warning,\n            message: 'System fields will be removed. Do you want to continue?'\n        }));\n    }\n    getSystemFieldModelGuids(plainFieldModels, recordDefinition) {\n        if (!isEmpty(plainFieldModels)) {\n            return plainFieldModels.reduce((systemFieldGuids, model) => {\n                const fieldDefinition = recordDefinition.fieldDefinitions.find((definition) => String(definition.id) === model.data.fieldId);\n                if (this.rxFieldDefinitionService.isSystemField(fieldDefinition)) {\n                    systemFieldGuids.push(model.guid);\n                }\n                return systemFieldGuids;\n            }, []);\n        }\n        else {\n            return [];\n        }\n    }\n    isFieldComponent(component) {\n        return (![\n            RxViewComponentType.Action,\n            RxViewComponentType.ActionButton,\n            RxViewComponentType.Association,\n            RxViewComponentType.AssociatedRecordField\n        ].includes(component.type) &&\n            Boolean(this.rxViewComponentRegistryService.get(component.type).properties.find((prop) => prop.name === 'fieldId')));\n    }\n}\nRxRecordEditorDesignHelpersService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordEditorDesignHelpersService, deps: [{ token: i1$5.RxRecordDefinitionCacheService }, { token: i1$6.RxModalService }, { token: i1$5.RxFieldDefinitionService }, { token: i1$4.RxViewDefinitionCacheService }, { token: i2$4.RxAssociationDefinitionDataPageService }, { token: i1$1.RxDefinitionNameService }, { token: i1$4.RxViewComponentRegistryService }, { token: i1$4.RxViewDefinitionParserService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRecordEditorDesignHelpersService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordEditorDesignHelpersService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordEditorDesignHelpersService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$5.RxRecordDefinitionCacheService }, { type: i1$6.RxModalService }, { type: i1$5.RxFieldDefinitionService }, { type: i1$4.RxViewDefinitionCacheService }, { type: i2$4.RxAssociationDefinitionDataPageService }, { type: i1$1.RxDefinitionNameService }, { type: i1$4.RxViewComponentRegistryService }, { type: i1$4.RxViewDefinitionParserService }]; } });\n\nclass RecordEditorDesignModel extends ViewDesignerComponentModel {\n    constructor() {\n        super(...arguments);\n        this.rxFieldDefinitionService = this.injector.get(RxFieldDefinitionService);\n        this.rxViewComponentRegistryService = this.injector.get(RxViewComponentRegistryService);\n        this.rxRecordEditorDesignHelpersService = this.injector.get(RxRecordEditorDesignHelpersService);\n        this.rxDefinitionNameService = this.injector.get(RxDefinitionNameService);\n        this.updateInspector$ = new Subject();\n        this.recordDefinitionName$ = this.sandbox.getComponentPropertyValue('recordDefinitionName');\n        this.mode$ = this.sandbox.getComponentPropertyValue('mode');\n        this.showReadOnlyState$ = this.sandbox.getComponentPropertyValue('showReadOnlyState');\n        this.targetExtensionContainerGuid$ = this.sandbox.getViewPropertyValue('targetExtensionContainerGuid');\n        this.targetViewDefinitionName$ = this.sandbox.getViewPropertyValue('targetViewDefinitionName');\n        this.recordDefinition$ = this.recordDefinitionName$.pipe(switchMap((name) => this.rxRecordEditorDesignHelpersService.getRecordDefinition(name)), shareReplay(1));\n        this.childComponentGuids$ = this.sandbox.getChildComponentGuids().pipe(shareReplay(1));\n        this.allChildFieldComponentGuids$ = this.sandbox\n            .getChildComponentGuids((component) => this.rxRecordEditorDesignHelpersService.isFieldComponent(component), true)\n            .pipe(distinctUntilChanged(isEqual), shareReplay(1));\n        this.isExtensionView$ = this.targetViewDefinitionName$.pipe(map(Boolean), shareReplay(1));\n        this.childFieldIds$ = this.allChildFieldComponentGuids$.pipe(switchMap((guids) => guids.length\n            ? combineLatest(guids.map((guid) => this.sandbox.getComponentPropertyValue('fieldId', guid))).pipe(map(uniq))\n            : of([])), shareReplay(1));\n        this.selectedFieldComponents$ = this.allChildFieldComponentGuids$.pipe(switchMap((guids) => guids.length\n            ? combineLatest(guids.map((guid) => combineLatest([\n                this.sandbox.getComponent(guid).pipe(take(1), map((component) => this.rxViewComponentRegistryService.get(component.type).name)),\n                this.sandbox.getComponentPropertyValue('fieldId', guid),\n                this.sandbox.getComponentPropertyValue('label', guid)\n            ]).pipe(map(([componentName, fieldId, label]) => ({\n                fieldId,\n                label: label || '<No field selected>',\n                componentName,\n                guid\n            })))))\n            : of([])), shareReplay(1));\n        this.associationComponentGuids$ = this.sandbox\n            .getChildComponentGuids((component) => component.type === RxViewComponentType.Association, true)\n            .pipe(shareReplay(1), takeUntil(this.sandbox.destroyed$));\n        this.associationDefinitionName$ = this.sandbox.getComponentPropertyValue('associationDefinitionName');\n        this.hasChildren$ = this.childComponentGuids$.pipe(map((guids) => Boolean(guids.length)), distinctUntilChanged(), shareReplay(1));\n        this.systemFieldComponentGuids$ = this.recordDefinition$.pipe(mergeMap((recordDefinition) => recordDefinition\n            ? this.selectedFieldComponents$.pipe(map((components) => components\n                .filter((component) => {\n                const fieldDefinition = recordDefinition.fieldDefinitions.find((definition) => String(definition.id) === component.fieldId);\n                return this.rxFieldDefinitionService.isSystemField(fieldDefinition);\n            })\n                .map((component) => component.guid)), take(1))\n            : of([])));\n        this.recordFieldDefinitionItems$ = this.recordDefinition$.pipe(map((recordDefinition) => recordDefinition ? this.rxRecordEditorDesignHelpersService.getRecordFieldDefinitionItems(recordDefinition) : []), shareReplay(1));\n    }\n    static getInitialProperties(initialProps) {\n        const result = Object.assign(Object.assign({ name: null, label: null, mode: RecordEditorMode.Edit, recordInstanceId: null, recordDefinitionName: null, associationDefinitionName: null, defaultState: initialProps.defaultState || null, allowEdit: '1', styles: null }, RX_AVAILABLE_ON_DEVICES_DEFAULT_VALUE), initialProps);\n        return Object.assign(Object.assign({}, result), { showReadOnlyState: Boolean(result.defaultState), allowEdit: result.mode === RecordEditorMode.Edit ? result.allowEdit : null });\n    }\n    rxInit() {\n        const targetRecordEditorProperties$ = combineLatest([\n            this.targetViewDefinitionName$.pipe(switchMap((targetViewDefinitionName) => this.rxRecordEditorDesignHelpersService.getViewDefinition(targetViewDefinitionName))),\n            this.targetExtensionContainerGuid$\n        ]).pipe(map(([viewDefinition, targetExtensionContainerGuid]) => this.rxRecordEditorDesignHelpersService.getTargetRecordEditorProperties(viewDefinition, targetExtensionContainerGuid)));\n        this.associationOptions$ = combineLatest([targetRecordEditorProperties$, this.recordDefinitionName$]).pipe(switchMap(([targetRecordEditorProperties, extensionRecordDefinitionName]) => this.rxRecordEditorDesignHelpersService.getAssociationOptions(targetRecordEditorProperties.recordDefinitionName, extensionRecordDefinitionName)));\n        this.isAssociationRequired$ = combineLatest([\n            this.isExtensionView$,\n            this.recordDefinitionName$,\n            targetRecordEditorProperties$\n        ]).pipe(map(([isExtensionView, recordDefinitionName, targetRecordEditorProperties]) => isExtensionView && recordDefinitionName !== targetRecordEditorProperties.recordDefinitionName));\n        this.updateInspector$.pipe(takeUntil(this.sandbox.destroyed$)).subscribe((inspector) => {\n            this.sandbox.updateInspectorConfig(inspector);\n        });\n        // initial set of inspector\n        combineLatest([\n            this.sandbox.componentProperties$,\n            this.isExtensionView$,\n            this.associationOptions$,\n            this.isAssociationRequired$,\n            targetRecordEditorProperties$\n        ])\n            .pipe(first(), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([{ recordDefinitionName, mode, showReadOnlyState }, isExtensionView, associationOptions, isAssociationRequired, targetRecordEditorProperties]) => {\n            if (isExtensionView && !recordDefinitionName) {\n                recordDefinitionName = targetRecordEditorProperties.recordDefinitionName;\n                mode = targetRecordEditorProperties.mode;\n                this.sandbox.updateComponentProperties({ mode, recordDefinitionName });\n            }\n            this.updateInspector$.next(this.rxRecordEditorDesignHelpersService.getInspector(recordDefinitionName, mode, showReadOnlyState, [], isExtensionView, associationOptions, isAssociationRequired, this._onBeforeModeChange.bind(this)));\n        });\n        this.mode$\n            .pipe(skip(1), withLatestFrom(this.sandbox.componentProperties$), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([mode, props]) => {\n            this.sandbox.updateComponentProperties(mode === RecordEditorMode.Create || mode === RecordEditorMode.Temporary\n                ? Object.assign(Object.assign({}, props), { recordInstanceId: null, defaultState: null, allowEdit: null, showReadOnlyState: null }) : Object.assign(Object.assign({}, props), { defaultState: null, allowEdit: '1', showReadOnlyState: false }));\n        });\n        this.showReadOnlyState$\n            .pipe(skip(1), withLatestFrom(this.sandbox.componentProperties$), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([showReadOnlyState, props]) => {\n            this.sandbox.updateComponentProperties(Object.assign(Object.assign({}, props), { defaultState: showReadOnlyState ? RecordEditorState.Read : null }));\n        });\n        combineLatest([\n            combineLatest([\n                this.sandbox.getComponentPropertyValue('recordDefinitionName'),\n                this.sandbox.getComponentPropertyValue('mode'),\n                this.showReadOnlyState$\n            ]).pipe(skip(1)),\n            this.recordFieldDefinitionItems$,\n            this.isExtensionView$,\n            this.associationOptions$,\n            this.isAssociationRequired$\n        ])\n            .pipe(map(([[recordDefinitionName, mode, showReadOnlyState], recordFieldDefinitionItems, isExtensionView, associationOptions, isAssociationRequired]) => this.rxRecordEditorDesignHelpersService.getInspector(recordDefinitionName, mode, showReadOnlyState, recordFieldDefinitionItems, isExtensionView, associationOptions, isAssociationRequired, this._onBeforeModeChange.bind(this))), takeUntil(this.sandbox.destroyed$))\n            .subscribe(this.updateInspector$);\n        // clear child components after changing of record definition\n        this.recordDefinitionName$\n            .pipe(pairwise(), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([prevName, currentName]) => {\n            if (prevName) {\n                this.sandbox.setChildren([]);\n                this.sandbox.updateComponentProperties({ associationDefinitionName: null });\n            }\n        });\n        this.associationOptions$\n            .pipe(skip(1), filter((associationOptions) => associationOptions.length === 1), withLatestFrom(this.isAssociationRequired$), filter(([, isAssociationRequired]) => isAssociationRequired), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([[{ id: associationDefinitionName }]]) => this.sandbox.updateComponentProperties({ associationDefinitionName }));\n        // TODO: performance\n        // validation\n        combineLatest([\n            this.sandbox.componentProperties$,\n            this.recordDefinition$,\n            this.childFieldIds$,\n            this.isAssociationRequired$,\n            this.isExtensionView$\n        ])\n            .pipe(map(([componentProperties, recordDefinition, childFieldIds, isAssociationRequired, isExtensionView]) => {\n            return this.rxRecordEditorDesignHelpersService.validate(this.sandbox, componentProperties, recordDefinition, childFieldIds, isAssociationRequired, isExtensionView);\n        }), distinctUntilChanged(isEqual), takeUntil(this.sandbox.destroyed$))\n            .subscribe((validationIssues) => {\n            this.sandbox.setValidationIssues(validationIssues);\n        });\n        combineLatest([\n            this.sandbox.getComponentPropertyValue('name').pipe(map((name) => name || null), distinctUntilChanged()),\n            this.recordDefinition$\n        ])\n            .pipe(takeUntil(this.sandbox.destroyed$))\n            .subscribe(([name, recordDefinition]) => {\n            this._setSettableProperties(name, recordDefinition);\n            this._setCommonDataDictionary(name, recordDefinition);\n        });\n    }\n    removeComponent(guids) {\n        this.sandbox.removeComponents(guids);\n    }\n    updateSelectedFieldComponents(fieldIds) {\n        this.selectedFieldComponents$\n            .pipe(take(1), mergeMap((components) => {\n            const fieldIdsToAdd = fieldIds.filter((fieldId) => !components.find((component) => component.fieldId === fieldId));\n            const fieldComponentsToAdd$ = fieldIdsToAdd.length\n                ? this.recordFieldDefinitionItems$.pipe(map((items) => fieldIdsToAdd.map((fieldId) => {\n                    const { viewComponentType: type, name: label } = items.find((item) => item.id === fieldId);\n                    return {\n                        type,\n                        propertiesByName: {\n                            fieldId,\n                            label\n                        }\n                    };\n                })), take(1))\n                : of([]);\n            const fieldIdsSet = new Set(fieldIds);\n            const componentGuidsToRemove = components\n                .filter((component) => component.fieldId)\n                .filter((component) => !fieldIdsSet.has(component.fieldId))\n                .map((component) => component.guid);\n            return forkJoin([fieldComponentsToAdd$, of(componentGuidsToRemove)]);\n        }), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([fieldComponentsToAdd, fieldGuidsToRemove]) => {\n            if (fieldComponentsToAdd.length) {\n                this.sandbox.addComponent(fieldComponentsToAdd);\n            }\n            if (fieldGuidsToRemove.length) {\n                this.sandbox.removeComponents(fieldGuidsToRemove);\n            }\n        });\n    }\n    getPropertiesByName(properties) {\n        return this.rxRecordEditorDesignHelpersService.getComponentProperties(properties);\n    }\n    _dropPredicate(data) {\n        var _a;\n        return (_a = data.draggedViewComponentDescriptor.options) === null || _a === void 0 ? void 0 : _a.canBeEmbeddedInRecordEditor;\n    }\n    _onBeforeModeChange(prevMode, currentMode) {\n        if (prevMode !== RecordEditorMode.Create && currentMode === RecordEditorMode.Create) {\n            return this.systemFieldComponentGuids$\n                .pipe(mergeMap((systemFieldComponentGuids) => systemFieldComponentGuids.length\n                ? this.rxRecordEditorDesignHelpersService.confirmSystemFieldRemoval().pipe(tap((isConfirmed) => {\n                    if (isConfirmed) {\n                        this.sandbox.removeComponents(systemFieldComponentGuids);\n                    }\n                }))\n                : of(true)), take(1))\n                .toPromise();\n        }\n        else {\n            return Promise.resolve(true);\n        }\n    }\n    dropPredicate(data) {\n        var _a;\n        return (_a = data.draggedViewComponentDescriptor.options) === null || _a === void 0 ? void 0 : _a.canBeEmbeddedInRecordEditor;\n    }\n    _setCommonDataDictionary(name, recordDefinition) {\n        const componentName = this._getComponentName(name, recordDefinition);\n        this.sandbox.setCommonDataDictionary(this._getCommonProps(componentName, recordDefinition));\n    }\n    _setSettableProperties(name, recordDefinition) {\n        const componentName = this._getComponentName(name, recordDefinition);\n        this.sandbox.setSettablePropertiesDataDictionary(componentName, [\n            {\n                label: 'Edit state',\n                expression: this.getExpressionForProperty('editState')\n            },\n            {\n                label: 'Read state',\n                expression: this.getExpressionForProperty('readState')\n            },\n            ...(recordDefinition\n                ? [\n                    {\n                        label: 'Record instance',\n                        children: recordDefinition.fieldDefinitions.map((definition) => ({\n                            label: definition.name,\n                            expression: this.getExpressionForProperty(`recordInstance.fieldInstances.${definition.id}.value`)\n                        }))\n                    }\n                ]\n                : [])\n        ]);\n    }\n    _getCommonProps(componentName, recordDefinition) {\n        return {\n            label: componentName,\n            expression: this.getExpressionForProperty('api'),\n            children: [\n                {\n                    label: 'Can save',\n                    expression: this.getExpressionForProperty('canSave')\n                },\n                {\n                    label: 'In read state',\n                    expression: this.getExpressionForProperty('inReadState')\n                },\n                {\n                    label: 'Is dirty',\n                    expression: this.getExpressionForProperty('isDirty')\n                },\n                {\n                    label: 'Is valid',\n                    expression: this.getExpressionForProperty('isValid')\n                },\n                {\n                    label: 'Record definition name',\n                    expression: this.getExpressionForProperty('recordDefinitionName')\n                },\n                {\n                    label: 'Record instance',\n                    expression: this.getExpressionForProperty('recordInstance'),\n                    children: recordDefinition ? this._getRecordInstanceChildProps(recordDefinition) : []\n                },\n                {\n                    label: 'Record instance ID',\n                    expression: this.getExpressionForProperty('recordInstanceId')\n                }\n            ]\n        };\n    }\n    _getRecordInstanceChildProps(recordDefinition) {\n        return flow((fieldDefinitions) => reject(fieldDefinitions, { resourceType: RX_RECORD_DEFINITION.resourceTypes.attachment }), (fieldDefinitions) => map$1(fieldDefinitions, (fieldDefinition) => {\n            const child = {\n                label: fieldDefinition.name,\n                expression: this.getExpressionForProperty(`recordInstance.fieldInstances.${fieldDefinition.id}.value`)\n            };\n            if (fieldDefinition.resourceType === RX_RECORD_DEFINITION.resourceTypes.selection) {\n                const children = (child.autocompleteOptions = map$1(fieldDefinition.optionNamesById, (optionName, optionValue) => ({\n                    label: optionName,\n                    expression: this.getExpressionForProperty(`recordDefinition.fieldDefinitionsById[${fieldDefinition.id}].optionsById[${optionValue}].id`)\n                })));\n                child.children = [\n                    {\n                        label: `${fieldDefinition.name} (Option name)`,\n                        expression: this.getExpressionForProperty(`selectionFieldOptionNamesById.${fieldDefinition.id}`)\n                    },\n                    {\n                        label: 'Options',\n                        children\n                    }\n                ];\n            }\n            return child;\n        }))(recordDefinition.fieldDefinitions);\n    }\n    _getComponentName(name, recordDefinition) {\n        let componentName = this.sandbox.descriptor.name;\n        const recordDefinitionName = recordDefinition\n            ? this.rxDefinitionNameService.getDisplayName(recordDefinition.name)\n            : null;\n        if (recordDefinitionName && name) {\n            componentName += ` (${recordDefinitionName}: ${name})`;\n        }\n        else if (recordDefinitionName) {\n            componentName += ` (${recordDefinitionName})`;\n        }\n        else if (name) {\n            componentName += ` (${name})`;\n        }\n        return componentName;\n    }\n}\n\nclass RecordEditorDesignComponent {\n    ngOnInit() {\n        this.dropPredicateFn = this.model._dropPredicate.bind(this.model);\n    }\n}\nRecordEditorDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nRecordEditorDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordEditorDesignComponent, selector: \"rx-record-editor-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<adapt-empty-state\\n  *ngIf=\\\"(model.hasChildren$ | async) === false\\\"\\n  type=\\\"objects\\\"\\n  label=\\\"Drop fields from the Palette here or select a Record definition and add fields in the Properties panel.\\\"\\n></adapt-empty-state>\\n\\n<rx-canvas-outlet [dropPredicate]=\\\"dropPredicateFn\\\"></rx-canvas-outlet>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}:host{border:1px solid #d6d7d8;display:block;position:relative;padding:1rem;min-height:200px}adapt-empty-state{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden}rx-canvas-outlet ::ng-deep>rx-canvas-item-container>.row>.col>rx-canvas-item-column>.cdk-drop-list{min-height:calc(200px - 1rem * 2)}\\n\"], components: [{ type: i1.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }, { type: i1$3.CanvasOutletComponent, selector: \"rx-canvas-outlet\", inputs: [\"name\", \"skipParentPredicate\", \"containerComponent\", \"dropListOrientation\", \"dropPredicate\"], outputs: [\"beforeViewComponentDrop\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-record-editor-design',\n                    templateUrl: './record-editor-design.component.html',\n                    styleUrls: ['./record-editor-design.component.scss']\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass FieldsInspectorWidgetModule {\n}\nFieldsInspectorWidgetModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: FieldsInspectorWidgetModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nFieldsInspectorWidgetModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: FieldsInspectorWidgetModule, declarations: [FieldSelectorComponent, FieldsInspectorWidgetComponent], imports: [CommonModule, FormsModule, AdaptButtonModule, AdaptRxTextfieldModule], exports: [FieldsInspectorWidgetComponent] });\nFieldsInspectorWidgetModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: FieldsInspectorWidgetModule, imports: [[CommonModule, FormsModule, AdaptButtonModule, AdaptRxTextfieldModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: FieldsInspectorWidgetModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [FieldSelectorComponent, FieldsInspectorWidgetComponent],\n                    exports: [FieldsInspectorWidgetComponent],\n                    entryComponents: [FieldSelectorComponent, FieldsInspectorWidgetComponent],\n                    imports: [CommonModule, FormsModule, AdaptButtonModule, AdaptRxTextfieldModule]\n                }]\n        }] });\n\nclass RecordEditorDesignModule {\n}\nRecordEditorDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRecordEditorDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorDesignModule, declarations: [RecordEditorDesignComponent], imports: [CommonModule,\n        RxDefinitionPickerModule,\n        FormsModule,\n        FormControlsModule,\n        ViewDesignerCanvasModule,\n        FieldsInspectorWidgetModule,\n        AdaptEmptyStateModule] });\nRecordEditorDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorDesignModule, providers: [RxRecordEditorDesignHelpersService], imports: [[\n            CommonModule,\n            RxDefinitionPickerModule,\n            FormsModule,\n            FormControlsModule,\n            ViewDesignerCanvasModule,\n            FieldsInspectorWidgetModule,\n            AdaptEmptyStateModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        RxDefinitionPickerModule,\n                        FormsModule,\n                        FormControlsModule,\n                        ViewDesignerCanvasModule,\n                        FieldsInspectorWidgetModule,\n                        AdaptEmptyStateModule\n                    ],\n                    declarations: [RecordEditorDesignComponent],\n                    entryComponents: [RecordEditorDesignComponent],\n                    providers: [RxRecordEditorDesignHelpersService]\n                }]\n        }] });\n\nvar CardinalityType;\n(function (CardinalityType) {\n    CardinalityType[\"One\"] = \"ONE\";\n    CardinalityType[\"Many\"] = \"MANY\";\n})(CardinalityType || (CardinalityType = {}));\nlet RxAssociationManagerService = class RxAssociationManagerService {\n    constructor(options, rxAssociationInstanceDataPageService, rxRecordDefinitionCacheService, rxRecordInstanceUtilsService, rxRecordInstanceService, rxJsonParserService, rxAssociationDefinitionCacheService) {\n        this.options = options;\n        this.rxAssociationInstanceDataPageService = rxAssociationInstanceDataPageService;\n        this.rxRecordDefinitionCacheService = rxRecordDefinitionCacheService;\n        this.rxRecordInstanceUtilsService = rxRecordInstanceUtilsService;\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.rxJsonParserService = rxJsonParserService;\n        this.rxAssociationDefinitionCacheService = rxAssociationDefinitionCacheService;\n        this.extensions = [];\n        this.existing = [];\n        this.pending = [];\n        this.deleted = [];\n        this.existingSubject$ = new BehaviorSubject([]);\n        this.existing$ = this.existingSubject$.asObservable();\n        this.pendingSubject$ = new BehaviorSubject([]);\n        this.pending$ = this.pendingSubject$.asObservable();\n        this.extensionsSubject$ = new BehaviorSubject([]);\n        this.extensions$ = this.extensionsSubject$.asObservable();\n        this.cardinalityTypes = CardinalityType;\n        this.totalExistingCount = 0;\n        this.associationDefinition = null;\n        this.cardinalityType = null;\n        this.remainingAssociatedRecordCount = 0;\n        // create a shared observable to eliminate duplicate API calls from multiple association components in dropdown mode\n        this.getExistingAssociationInstances$ = defer(() => this.getExistingAssociationInstances()).pipe(share());\n        assign(this.options, {\n            canLoadAssociations: Boolean(this.options.associatedRecordInstanceId),\n            pageSize: 10,\n            startIndex: 0\n        });\n        this.extensions = this.options.associationInstances.extensions;\n        this.existing = this.options.associationInstances.existing;\n        this.pending = this.options.associationInstances.pending;\n        this.deleted = this.options.associationInstances.deleted;\n        this.options.fieldIds = this.options.fieldIds || [];\n        // add id to core fields for tracking changes on associationInstances\n        this.mergeFieldIds([RX_RECORD_DEFINITION.coreFieldIds.id]);\n    }\n    initialize() {\n        this.isDataLoading = true;\n        if (!this.initialize$) {\n            this.initialize$ = forkJoin([\n                this.rxAssociationDefinitionCacheService.getAssociationDefinition(this.options.associationDefinitionName),\n                this.rxRecordDefinitionCacheService.getRecordDefinition(this.options.recordDefinitionName)\n            ]).pipe(tap(([associationDefinition, recordDefinition]) => {\n                this.isDataLoading = false;\n                this.associationDefinition = associationDefinition;\n                this.recordDefinition = recordDefinition;\n                // determine whether a single or multiple instances can be associated based on association's cardinality and record role\n                this.cardinalityType = this.getCardinalityType(this.associationDefinition.cardinality, this.options.associatedRecordNodeSide);\n                // set up field ids if they are not be provided\n                if (this.options.allFieldIds) {\n                    this.options.fieldIds = map$1(this.recordDefinition.fieldDefinitions, 'id');\n                    this.mergeFieldIds([RX_RECORD_DEFINITION.coreFieldIds.id]);\n                }\n            }));\n        }\n        return this.initialize$;\n    }\n    loadExistingAssociations() {\n        if (this.options.canLoadAssociations) {\n            return this.initialize().pipe(switchMap(() => {\n                return this.getExistingAssociationInstances$.pipe(tap((instances) => {\n                    forEach(instances.data, (instance) => {\n                        this.addToExisting(this.rxRecordInstanceUtilsService.convertFromDataPageRowToPlainRecordInstance(instance));\n                    });\n                    this.options.startIndex += instances.data.length;\n                    this.remainingAssociatedRecordCount = instances.totalSize - this.options.startIndex;\n                }));\n            }));\n        }\n        else {\n            return of([]);\n        }\n    }\n    loadExtensions() {\n        return this.initialize().pipe(switchMap(() => {\n            return this.getExtensionRecordInstance().pipe(tap((extensionRecordInstance) => {\n                if (extensionRecordInstance) {\n                    this.addExtension(extensionRecordInstance);\n                }\n            }));\n        }));\n    }\n    addToExisting(association) {\n        // Existing association can be loaded twice by parallel requests either with or without filtering by `roleName` attribute.\n        const existingAssociation = this.isInExisting(association.id);\n        if (existingAssociation) {\n            if (this.isDefaultNodeRoleUsed(existingAssociation) && !this.isDefaultNodeRoleUsed(this.options.rolesConfig)) {\n                // Remove and add association again instead of config update is needed to correctly observe associations collection change.\n                remove(this.existing, existingAssociation);\n                association.rolesConfig = this.options.rolesConfig;\n                this.existing.push(association);\n                this.existingSubject$.next(this.existing);\n            }\n            else {\n                // Existing association already has custom roles of nodes, so newly added association instance will be skipped.\n            }\n        }\n        else {\n            if (this.options.rolesConfig && !association.rolesConfig) {\n                association.rolesConfig = this.options.rolesConfig;\n            }\n            this.existing.push(association);\n            this.existingSubject$.next(this.existing);\n        }\n    }\n    isDefaultNodeRoleUsed(association) {\n        return this.rxJsonParserService.tryParseJson(get(association, 'rolesConfig.useDefaultRoles', true));\n    }\n    addToPending(associations, rolesConfig) {\n        if (!isEmpty(associations) && this.associationDefinition) {\n            if (this.cardinalityType === CardinalityType.Many) {\n                const associationsForAppending = filter$1(associations, (association) => {\n                    return (!this.isInExisting(association.id) && !this.isInDeleted(association.id) && !this.isInPending(association.id));\n                });\n                if (rolesConfig) {\n                    forEach(associationsForAppending, (association) => {\n                        association.rolesConfig = rolesConfig;\n                    });\n                }\n                Array.prototype.push.apply(this.pending, associationsForAppending);\n                this.pendingSubject$.next(this.pending);\n                const previouslyDeletedAssociations = remove(this.deleted, (deletedAssociation) => {\n                    return find(associations, {\n                        id: deletedAssociation.id\n                    });\n                });\n                forEach(previouslyDeletedAssociations, (deletedAssociation) => {\n                    this.addToExisting(deletedAssociation);\n                });\n            }\n            else if (this.cardinalityType === CardinalityType.One) {\n                const association = associations[0];\n                switch (true) {\n                    case isEmpty(this.existing) && isEmpty(this.deleted):\n                        this.pending.length = 0;\n                        this.pending.push(association);\n                        break;\n                    case isEmpty(this.existing):\n                        const deletedAssociation = this.deleted[0];\n                        this.pending.length = 0;\n                        if (deletedAssociation.id === association.id) {\n                            this.addToExisting(this.deleted.splice(0, 1)[0]);\n                        }\n                        else {\n                            this.pending.push(association);\n                        }\n                        break;\n                    case isEmpty(this.deleted):\n                        const existingAssociation = this.existing[0];\n                        if (existingAssociation.id !== association.id) {\n                            this.deleteFromExisting(existingAssociation.id);\n                            this.pending.length = 0;\n                            this.pending.push(association);\n                        }\n                        break;\n                }\n                this.pendingSubject$.next(this.pending);\n            }\n        }\n    }\n    addExtension(extensionRecordInstance) {\n        this.extensions.push(extensionRecordInstance);\n        this.extensionsSubject$.next(this.extensions);\n    }\n    restore() {\n        this.extensionsSubject$.next(this.extensions);\n        forEach(this.deleted, (deletedAssociation) => {\n            this.addToExisting(deletedAssociation);\n        });\n        this.deleted.splice(0, this.deleted.length);\n        this.deleteAllPending();\n    }\n    reset() {\n        this.existing.splice(0, this.existing.length);\n        this.pending.splice(0, this.pending.length);\n        this.deleted.splice(0, this.deleted.length);\n        this.totalExistingCount = 0;\n        this.options.startIndex = 0;\n    }\n    delete(associationId) {\n        if (this.isInExisting(associationId)) {\n            this.deleteFromExisting(associationId);\n        }\n        else if (this.isInPending(associationId)) {\n            this.deleteFromPending(associationId);\n        }\n    }\n    deleteAllExisting() {\n        const associationIds = map$1(this.existing, 'id');\n        forEach(associationIds, (associationId) => {\n            this.deleteFromExisting(associationId);\n        });\n    }\n    deleteAllPending() {\n        this.pending.splice(0, this.pending.length);\n        this.pendingSubject$.next(this.pending);\n    }\n    mergeFieldIds(fieldIds) {\n        if (fieldIds) {\n            this.options.fieldIds = uniq(this.options.fieldIds.concat(fieldIds));\n        }\n    }\n    extendOptions(options) {\n        if (options.fieldIds) {\n            this.mergeFieldIds(options.fieldIds);\n        }\n        this.options.allFieldIds = options.allFieldIds;\n    }\n    getCardinalityType(cardinality, associatedRecordNodeSide) {\n        let cardinalityType;\n        switch (true) {\n            case cardinality === RX_ASSOCIATION_DEFINITION.cardinality.oneToOne.value:\n                cardinalityType = CardinalityType.One;\n                break;\n            case cardinality === RX_ASSOCIATION_DEFINITION.cardinality.oneToMany.value:\n                if (associatedRecordNodeSide === RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value) {\n                    cardinalityType = CardinalityType.Many;\n                }\n                else {\n                    cardinalityType = CardinalityType.One;\n                }\n                break;\n            case cardinality === RX_ASSOCIATION_DEFINITION.cardinality.manyToMany.value:\n                cardinalityType = CardinalityType.Many;\n                break;\n        }\n        return cardinalityType;\n    }\n    getExtensionRecordInstance(loadFullInstance = true) {\n        const fields = loadFullInstance ? RX_RECORD_DEFINITION.coreFieldIds.id : this.options.fieldIds.join(',');\n        return this.rxAssociationInstanceDataPageService\n            .post({\n            params: {\n                associationDefinition: this.options.associationDefinitionName,\n                nodeToQuery: this.options.associatedRecordNodeSide,\n                associatedRecordInstanceId: this.options.associatedRecordInstanceId,\n                propertySelection: fields\n            }\n        })\n            .pipe(map((instances) => instances.data[0]), switchMap((dataPageRow) => {\n            if (dataPageRow && loadFullInstance) {\n                return this.rxRecordInstanceService.get(this.options.recordDefinitionName, dataPageRow[RX_RECORD_DEFINITION.coreFieldIds.id]);\n            }\n            else if (dataPageRow && !loadFullInstance) {\n                return of(this.rxRecordInstanceService.createInstanceFromDataPageRow(dataPageRow, this.recordDefinition));\n            }\n            else {\n                return of(null);\n            }\n        }));\n    }\n    getExistingAssociationInstances() {\n        const params = {\n            pageSize: this.options.pageSize,\n            startIndex: this.options.startIndex,\n            associationDefinition: this.options.associationDefinitionName,\n            nodeToQuery: this.options.associatedRecordNodeSide,\n            associatedRecordInstanceId: this.options.associatedRecordInstanceId,\n            propertySelection: this.options.fieldIds.join(','),\n            useDefaultRoleNames: false,\n            nodeARoleName: '',\n            nodeBRoleName: ''\n        };\n        if (this.options.rolesConfig.useDefaultRoles) {\n            params.useDefaultRoleNames = this.options.rolesConfig.useDefaultRoles;\n            delete params.nodeARoleName;\n            delete params.nodeBRoleName;\n        }\n        else {\n            delete params.useDefaultRoleNames;\n            params.nodeARoleName = this.options.rolesConfig.nodeARole || '';\n            params.nodeBRoleName = this.options.rolesConfig.nodeBRole || '';\n        }\n        return this.rxAssociationInstanceDataPageService.post({ params });\n    }\n    isInExisting(associationId) {\n        return find(this.existing, {\n            id: associationId\n        });\n    }\n    isInPending(associationId) {\n        return find(this.pending, {\n            id: associationId\n        });\n    }\n    getFieldIds() {\n        return clone(this.options.fieldIds);\n    }\n    isInDeleted(associationId) {\n        return find(this.deleted, {\n            id: associationId\n        });\n    }\n    deleteFromExisting(associationId) {\n        const removedAssociation = remove(this.existing, {\n            id: associationId\n        })[0];\n        this.deleted.push(removedAssociation);\n        this.existingSubject$.next(this.existing);\n    }\n    deleteFromPending(associationId) {\n        remove(this.pending, {\n            id: associationId\n        });\n        this.pendingSubject$.next(this.pending);\n    }\n    destroy() {\n        this.existingSubject$.complete();\n        this.pendingSubject$.complete();\n        this.extensionsSubject$.complete();\n    }\n};\nRxAssociationManagerService = __decorate([\n    __param(0, Optional()),\n    __metadata(\"design:paramtypes\", [Object, RxAssociationInstanceDataPageService,\n        RxRecordDefinitionCacheService,\n        RxRecordInstanceUtilsService,\n        RxRecordInstanceService,\n        RxJsonParserService,\n        RxAssociationDefinitionCacheService])\n], RxAssociationManagerService);\n\nclass RxRecordEditorUtilsService {\n    getComponentDefinitionsAsFlatList(componentDefinitions) {\n        return flattenDeep(transform(componentDefinitions, (result, componentDefinition) => {\n            // do not include container view components\n            if (componentDefinition.resourceType !== RX_VIEW_DEFINITION.resourceTypes.containerViewComponent) {\n                result.push(componentDefinition);\n                // do not look inside container view components that have their own recordDefinitionName property,\n                // e.g. Association View Component\n            }\n            else if (!componentDefinition.propertiesByName.recordDefinitionName) {\n                result.push(...this.getComponentDefinitionsAsFlatList(componentDefinition.componentDefinitions));\n            }\n        }));\n    }\n    getSelectionFieldOptionNames(recordDefinition, recordInstance) {\n        const selectionFieldOptionNamesById = {};\n        filter$1(recordDefinition.fieldDefinitions, { resourceType: RX_RECORD_DEFINITION.resourceTypes.selection }).forEach((fieldDefinition) => {\n            const selectionFieldLocalizableStrings = get(recordDefinition.localizableStringsByFieldId, fieldDefinition.id);\n            const fieldInstance = recordInstance.fieldInstances[fieldDefinition.id];\n            if (fieldInstance) {\n                if (isObject(fieldDefinition.optionNamesById) &&\n                    selectionFieldLocalizableStrings &&\n                    isEmpty(selectionFieldLocalizableStrings)) {\n                    const localizableStringId = fieldDefinition.optionNamesById[fieldInstance.value];\n                    selectionFieldOptionNamesById[fieldDefinition.id] = selectionFieldLocalizableStrings[localizableStringId];\n                }\n                else {\n                    selectionFieldOptionNamesById[fieldDefinition.id] = fieldDefinition.optionNamesById[fieldInstance.value];\n                }\n            }\n            else {\n                // field instance is not available for system selection fields,\n                // e.g. field 16 (Notifier Listening), when the record instance\n                // is retrieved via GET recordinstance/0 API (get new record instance)\n                selectionFieldOptionNamesById[fieldDefinition.id] = '';\n            }\n        });\n        return selectionFieldOptionNamesById;\n    }\n}\nRxRecordEditorUtilsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordEditorUtilsService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxRecordEditorUtilsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordEditorUtilsService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordEditorUtilsService, decorators: [{\n            type: Injectable\n        }] });\n\nclass RecordEditorFormControl extends FormControl {\n    constructor() {\n        super(...arguments);\n        this._touchedSubject = new BehaviorSubject(this.touched);\n        this.touched$ = this._touchedSubject.asObservable().pipe(distinctUntilChanged());\n    }\n    markAsTouched(opts) {\n        super.markAsTouched(opts);\n        this._touchedSubject.next(this.touched);\n    }\n    markAsUntouched(opts) {\n        super.markAsUntouched(opts);\n        this._touchedSubject.next(this.touched);\n    }\n}\n\nconst RecordEditorFormDelimiter = '%';\nconst BASE_FORM_GROUP_KEY = 'baseFormGroup';\nclass RecordEditorForm extends FormGroup {\n    constructor(rxGuidService, rxRecordInstanceUtilsService) {\n        super({});\n        this.rxGuidService = rxGuidService;\n        this.rxRecordInstanceUtilsService = rxRecordInstanceUtilsService;\n    }\n    addFieldControl(fieldId, guid, initialValue = null, validator, asyncValidator) {\n        const formControl = new RecordEditorFormControl('', validator, asyncValidator);\n        const formGroup = this.controls[BASE_FORM_GROUP_KEY];\n        formControl.setValue(initialValue);\n        if (!formGroup) {\n            this.addControl(BASE_FORM_GROUP_KEY, new FormGroup({\n                [this.getControlId(fieldId, guid)]: formControl\n            }));\n        }\n        else {\n            formGroup.addControl(this.getControlId(fieldId, guid), formControl);\n        }\n        return formControl;\n    }\n    addAssociatedFieldControl(fieldId, guid, associatedRecordPath, initialValue = null, validator, asyncValidator) {\n        const associatedFormGroupName = associatedRecordPath.join(RecordEditorFormDelimiter);\n        const associatedFormGroup = this.controls[associatedFormGroupName];\n        const formControl = new RecordEditorFormControl(initialValue, validator, asyncValidator);\n        if (!associatedFormGroup) {\n            this.addControl(associatedFormGroupName, new FormGroup({\n                [this.getControlId(fieldId, guid)]: formControl\n            }));\n        }\n        else {\n            associatedFormGroup.addControl(this.getControlId(fieldId, guid), formControl);\n        }\n        return formControl;\n    }\n    resetFieldControls(formStateByFieldId, associatedRecordPath) {\n        const formGroup = this.controls[associatedRecordPath ? associatedRecordPath.join(RecordEditorFormDelimiter) : BASE_FORM_GROUP_KEY];\n        if (formStateByFieldId) {\n            formGroup.reset(this.prepareFormGroupState(formStateByFieldId, formGroup));\n        }\n        else {\n            formGroup.reset();\n        }\n    }\n    syncFormControlValues(fieldId, value, associatedFromGroupName, options = {}) {\n        this.getControlsBoundToRecordField(String(fieldId), associatedFromGroupName).forEach((formControl) => {\n            if (options.markAsDirty !== false) {\n                formControl.markAsDirty();\n            }\n            if (options.markAsTouched !== false) {\n                formControl.markAsTouched();\n            }\n            if (!this.rxRecordInstanceUtilsService.isFieldValueEqual(formControl.value, value)) {\n                formControl.setValue(value);\n            }\n        });\n    }\n    getFieldIds(associatedRecordPath) {\n        const formGroup = this.controls[associatedRecordPath ? associatedRecordPath.join(RecordEditorFormDelimiter) : BASE_FORM_GROUP_KEY];\n        if (formGroup) {\n            return reduce(formGroup.controls, (result, control, formControlId) => {\n                const fieldId = this.getFieldId(formControlId);\n                if (control instanceof FormControl && !includes(result, fieldId)) {\n                    result.push(fieldId);\n                }\n                return result;\n            }, []);\n        }\n        else {\n            return [];\n        }\n    }\n    clearAndReset() {\n        forOwn(this.controls, (control, name) => this.removeControl(name));\n        this.reset();\n    }\n    markInvalidControlsAsTouched() {\n        forEach(this.controls, (formGroup) => {\n            forEach(formGroup.controls, (control) => {\n                if (control.invalid) {\n                    control.markAsTouched();\n                }\n            });\n        });\n    }\n    getFormControl(fieldId, guid, associatedRecordPath) {\n        let control;\n        let formGroup;\n        formGroup = this.controls[associatedRecordPath ? associatedRecordPath.join(RecordEditorFormDelimiter) : BASE_FORM_GROUP_KEY];\n        if (formGroup) {\n            control = formGroup.get(this.getControlId(fieldId, guid));\n        }\n        return control;\n    }\n    getControlsBoundToRecordField(fieldId, associatedFormGroupName) {\n        const formGroup = this.controls[associatedFormGroupName || BASE_FORM_GROUP_KEY];\n        return reduce(formGroup.controls, (result, control, formControlId) => {\n            if (control instanceof FormControl && this.getFieldId(formControlId) === fieldId) {\n                result.push(control);\n            }\n            return result;\n        }, []);\n    }\n    getControlId(fieldId, guid) {\n        return `${fieldId}:${guid || this.rxGuidService.generate()}`;\n    }\n    getFieldId(formControlId) {\n        return formControlId.split(':')[0];\n    }\n    prepareFormGroupState(formStateByFieldId, formGroup) {\n        return reduce(formGroup.controls, (result, control, formControlId) => {\n            result[formControlId] = formStateByFieldId[this.getFieldId(formControlId)];\n            return result;\n        }, {});\n    }\n}\nRecordEditorForm.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorForm, deps: [{ token: i2$1.RxGuidService }, { token: i1$5.RxRecordInstanceUtilsService }], target: i0.ɵɵFactoryTarget.Injectable });\nRecordEditorForm.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorForm });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorForm, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i2$1.RxGuidService }, { type: i1$5.RxRecordInstanceUtilsService }]; } });\n\nclass RecordEditorComponent extends BaseViewComponent {\n    constructor(rxRecordInstanceService, rxRecordInstanceUpdateService, translateService, rxGlobalEventsService, rxNotificationService, rxRecordDefinitionService, rxRecordEditorUtilsService, rxRecordInstanceUtilsService, rxStringService, rxLogService, rxUtilityModalsService, recordEditorForm, rxAssociationManagerServiceFactory) {\n        super();\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.rxRecordInstanceUpdateService = rxRecordInstanceUpdateService;\n        this.translateService = translateService;\n        this.rxGlobalEventsService = rxGlobalEventsService;\n        this.rxNotificationService = rxNotificationService;\n        this.rxRecordDefinitionService = rxRecordDefinitionService;\n        this.rxRecordEditorUtilsService = rxRecordEditorUtilsService;\n        this.rxRecordInstanceUtilsService = rxRecordInstanceUtilsService;\n        this.rxStringService = rxStringService;\n        this.rxLogService = rxLogService;\n        this.rxUtilityModalsService = rxUtilityModalsService;\n        this.rxAssociationManagerServiceFactory = rxAssociationManagerServiceFactory;\n        this.api = {\n            refresh: this.refresh.bind(this),\n            isDirty: this.isDirty.bind(this),\n            isReady: this.isReady.bind(this),\n            isValid: this.isValid.bind(this),\n            notifyComponentReady: this.notifyComponentReady.bind(this),\n            save: this.save.bind(this),\n            setProperty: this.setProperty.bind(this),\n            setFieldValue: this.setFieldValue.bind(this),\n            getFieldValue: this.getFieldValue.bind(this),\n            getAssociationManager: this.getAssociationManager.bind(this),\n            getFieldControl: this.getFieldControl.bind(this),\n            downloadAttachment: this.downloadAttachment.bind(this),\n            getAttachmentDownloadUrl: this.getAttachmentDownloadUrl.bind(this),\n            getPermissionType: this.getPermissionType.bind(this),\n            getFieldInstanceProp: this.getFieldInstanceProp.bind(this),\n            getRecordEditorMode: this.getRecordEditorMode.bind(this),\n            setFieldInstanceProp: this.setFieldInstanceProp.bind(this),\n            markAsDirty: this.markAsDirty.bind(this)\n        };\n        this.state = {\n            recordInstanceId: '',\n            recordDefinitionName: '',\n            recordInstance: null,\n            recordDefinition: null,\n            isDataLoading: false,\n            isDirty: false,\n            isSaving: false,\n            canSave: false,\n            mode: null,\n            isReadOnlyStateAvailable: false,\n            defaultState: null,\n            currentState: RecordEditorState.Edit,\n            form: null,\n            selectionFieldOptionNamesById: {},\n            allowEdit: null\n        };\n        this.recordInstanceChangedSubject = new Subject();\n        this.notReadyComponentIds = {};\n        this.associationManagers = {};\n        this.associationInstances = {};\n        this.recordInstanceChanged$ = this.recordInstanceChangedSubject.asObservable();\n        this.state.form = recordEditorForm;\n        this.state.form.statusChanges.pipe(distinctUntilChanged(), takeUntil(this.destroyed$)).subscribe(() => {\n            this.notifyPropertyChanged('isValid', this.isValid());\n        });\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.notifyPropertyChanged('api', this.api);\n        this.notifyPropertyChanged('isDirty', this.state.isDirty);\n        this.notifyPropertyChanged('canSave', this.state.canSave);\n        const config$ = this.config.pipe(distinctUntilChanged(isEqual), tap((config) => Object.assign(this.state, config)));\n        config$.pipe(take(1)).subscribe((config) => {\n            if (config.mode === RecordEditorMode.Create) {\n                this.notifyPropertyChanged('inReadState', false);\n            }\n            else if (config.mode === RecordEditorMode.Temporary) {\n                this.notifyPropertyChanged('inReadState', false);\n                this.updateCanSaveProperty();\n            }\n            else if (this.state.defaultState) {\n                this.state.isReadOnlyStateAvailable = true;\n            }\n        });\n        merge(config$.pipe(takeWhile((config) => config.mode === RecordEditorMode.Edit)), config$.pipe(takeWhile((config) => includes([RecordEditorMode.Create, RecordEditorMode.BulkEdit, RecordEditorMode.Temporary], config.mode)), take(1)))\n            .pipe(map((config) => config.recordInstanceId || null), distinctUntilChanged(), switchMap(() => this.initializeRecordInstance().pipe(catchError((error) => {\n            if (this.rxRecordInstanceUtilsService.isNoRecordFoundError(error)) {\n                this.runtimeViewModelApi.cancel(true).subscribe();\n            }\n            return throwError(error);\n        }))), takeUntil(this.destroyed$))\n            .subscribe();\n        config$\n            .pipe(takeWhile((config) => config.mode === RecordEditorMode.Edit), pluck('allowEdit'), distinctUntilChanged(), takeUntil(this.destroyed$))\n            .subscribe((allowEdit) => {\n            const state = allowEdit ? this.state.defaultState || RecordEditorState.Edit : RecordEditorState.Read;\n            this.setRecordEditorState(state);\n        });\n    }\n    downloadAttachment(fieldId) {\n        if (this.isInEditMode() && !this.isNewAttachment(fieldId)) {\n            this.rxRecordInstanceService.downloadAttachment(this.state.recordDefinitionName, fieldId, this.state.recordInstanceId, this.state.recordInstance.fieldInstances[fieldId].value);\n        }\n    }\n    getAttachmentDownloadUrl(fieldId) {\n        let attachmentDownloadUrl = '';\n        if (this.isInEditMode() && !this.isNewAttachment(fieldId)) {\n            attachmentDownloadUrl = this.rxRecordInstanceService.getAttachmentDownloadUrl(this.state.recordDefinitionName, fieldId, this.state.recordInstanceId);\n        }\n        return attachmentDownloadUrl;\n    }\n    getAssociationManager(options) {\n        // Custom roles config:\n        // {\n        //   useDefaultRoles: 'false',\n        //   nodeARole: 'CustomA',\n        //   nodeBRole: 'CustomB'\n        // }\n        // will be converted to 'false_CustomA_CustomB'\n        // Default roles config (node roles are null) will be converted to 'true__'\n        // Empty roles config will be converted to an empty string\n        const rolesConfigValues = values(options.rolesConfig).join('_');\n        const associationManagerKey = compact([\n            options.associationDefinitionName,\n            rolesConfigValues,\n            options.associatedRecordNodeSide\n        ]).join(':');\n        let associationManager = this.associationManagers[associationManagerKey];\n        if (!associationManager) {\n            options.associationInstances = this.getAssociationInstances(options.associationDefinitionName, options.associatedRecordNodeSide, rolesConfigValues);\n            associationManager = this.rxAssociationManagerServiceFactory(options);\n            merge(associationManager.pending$, associationManager.existing$)\n                .pipe(filter(() => associationManager.deleted.length !== 0 || associationManager.pending.length !== 0), take(1))\n                .subscribe(() => this.markAsDirty());\n            associationManager.extensions$\n                .pipe(\n            // Extensions will be an empty array on first emit as initial value and\n            // when no extension containers are used in the record editor.\n            filter((extensions) => !isEmpty(extensions)), takeUntil(this.destroyed$))\n                .subscribe(() => {\n                this.syncRecordInstanceWithForm(options.associatedRecordPath);\n                this.notifyPropertyChanged('recordInstance', this.state.recordInstance);\n            });\n            this.associationManagers[associationManagerKey] = associationManager;\n        }\n        else {\n            associationManager.extendOptions(options);\n        }\n        return associationManager;\n    }\n    markAsDirty() {\n        this.state.form.markAsTouched();\n        this.state.form.markAsDirty();\n        this.updateIsDirtyProperty();\n        this.updateCanSaveProperty();\n    }\n    refresh() {\n        if (this.isInEditMode() && this.state.currentState === RecordEditorState.Read) {\n            return this.initializeRecordInstance().pipe(catchError((error) => this.handleNoRecordFoundError(error)));\n        }\n        else {\n            return EMPTY;\n        }\n    }\n    isDirty() {\n        return this.isInTemporaryMode() ? false : this.state.form.dirty;\n    }\n    isReady() {\n        return isEmpty(this.notReadyComponentIds);\n    }\n    notifyComponentReady(componentId, isReady) {\n        if (isReady) {\n            delete this.notReadyComponentIds[componentId];\n        }\n        else {\n            this.notReadyComponentIds[componentId] = true;\n        }\n    }\n    setProperty(propertyPath, propertyValue) {\n        const matchFieldInstanceId = propertyPath.match(/^recordInstance\\.fieldInstances\\.(\\d+)\\.value$/);\n        const shouldSwitchToReadState = (propertyPath === 'readState' && propertyValue) || (propertyPath === 'editState' && !propertyValue);\n        const shouldSwitchToEditState = (propertyPath === 'readState' && !propertyValue) || (propertyPath === 'editState' && propertyValue);\n        if (shouldSwitchToReadState) {\n            if (this.state.currentState !== RecordEditorState.Read) {\n                return this.cancel();\n            }\n        }\n        else if (shouldSwitchToEditState) {\n            if (this.state.currentState !== RecordEditorState.Edit) {\n                this.switchToEditState();\n            }\n        }\n        else if (matchFieldInstanceId) {\n            const fieldId = Number(matchFieldInstanceId[1]);\n            this.setFieldValue(fieldId, propertyValue);\n        }\n        else {\n            return throwError(`Record editor: property ${propertyPath} is not settable.`);\n        }\n    }\n    setFieldValue(fieldId, value, associatedRecordPath, options = {}) {\n        if (this.state.recordInstance &&\n            this.state.recordInstance.getRecordInstance(associatedRecordPath) &&\n            this.state.recordInstance.isFieldValueChanged(fieldId, value, associatedRecordPath)) {\n            this.state.recordInstance.setFieldValue(fieldId, value, associatedRecordPath);\n            this.state.form.syncFormControlValues(String(fieldId), this.state.recordInstance.getFieldValue(fieldId, associatedRecordPath), associatedRecordPath && associatedRecordPath.join(RecordEditorFormDelimiter), options);\n            this.updateSelectionFieldOptionNames(this.state.recordInstance);\n            this.notifyPropertyChanged('recordInstance', this.state.recordInstance);\n            this.updateIsDirtyProperty();\n            this.updateCanSaveProperty();\n        }\n    }\n    getFieldValue(fieldId, associatedRecordPath) {\n        return this.state.recordInstance && this.state.recordInstance.getFieldValue(fieldId, associatedRecordPath);\n    }\n    save(closeViewAfterSave = false) {\n        if (this.isInTemporaryMode()) {\n            this.rxLogService.debug('Record Editor: skip saving record instance in Temporary mode.');\n            return EMPTY;\n        }\n        else if (!this.isValid()) {\n            this.state.form.markInvalidControlsAsTouched();\n            this.rxNotificationService.addErrorMessage(this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-editor.validation-error.message'));\n            return throwError(null);\n        }\n        else if (this.canSave()) {\n            let savingObservable$;\n            this.state.isSaving = true;\n            this.updateCanSaveProperty();\n            if (this.isInCreateMode()) {\n                savingObservable$ = this.rxRecordInstanceService.create(this.state.recordInstance).pipe(tap((recordInstance) => {\n                    this.rxNotificationService.addSuccessMessage(this.translateService.instant('com.bmc.arsys.rx.client.common.saved-successfully.message'));\n                    if (!this.state.recordInstanceId) {\n                        set(this.state.recordInstance, `fieldInstances[${RX_RECORD_DEFINITION.coreFieldIds.id}].value`, recordInstance.id);\n                        this.state.recordInstance.id = recordInstance.id;\n                        this.state.recordInstanceId = recordInstance.id;\n                    }\n                    this.notifyPropertyChanged('recordInstance', this.state.recordInstance);\n                    this.notifyPropertyChanged('recordInstanceId', this.state.recordInstanceId);\n                    if (!closeViewAfterSave) {\n                        this.rxGlobalEventsService.viewActionsCompleted$\n                            .pipe(take(1), switchMap(() => this.initializeRecordInstance()), takeUntil(this.destroyed$))\n                            .subscribe();\n                    }\n                }), switchMapTo(EMPTY));\n            }\n            else if (this.isInEditMode()) {\n                savingObservable$ = this.rxRecordInstanceUpdateService.execute(this.state.recordInstance).pipe(tap(() => {\n                    this.rxNotificationService.addSuccessMessage(this.translateService.instant('com.bmc.arsys.rx.client.common.saved-successfully.message'));\n                }), switchMap(() => {\n                    return this.initializeRecordInstance().pipe(catchError((error) => this.handleNoRecordFoundError(error)), tap({\n                        complete: () => {\n                            if (this.state.isReadOnlyStateAvailable) {\n                                this.setRecordEditorState(RecordEditorState.Read);\n                            }\n                        }\n                    }));\n                }));\n            }\n            return savingObservable$.pipe(tap({\n                complete: () => {\n                    // Mark record editor form as pristine due to:\n                    // - prevent showing dirty state confirmation dialog when any action after\n                    // the save will close current view e.g open view in the same window action.\n                    // - we don't have to wait until all extension containers data will be loaded\n                    // to reset record editor form while synchronization.\n                    this.state.form.markAsPristine();\n                }\n            }), finalize(() => {\n                this.state.isSaving = false;\n                this.updateCanSaveProperty();\n                this.updateIsDirtyProperty();\n            }));\n        }\n        else {\n            this.rxLogService.debug('Record Editor: cannot save unmodified record instance.');\n            return throwError(null);\n        }\n    }\n    getFieldControl(fieldId, guid, validator = [], associatedRecordPath) {\n        const existingControl = this.state.form.getFormControl(String(fieldId), guid, associatedRecordPath);\n        if (existingControl) {\n            return existingControl;\n        }\n        const initialValue = this.state.recordInstance\n            ? this.state.recordInstance.getFieldValue(fieldId, associatedRecordPath)\n            : null;\n        const recordInstanceValidator = this.getFieldInstanceControlValidator(fieldId, associatedRecordPath);\n        validator = Array.isArray(validator) ? validator : [validator];\n        validator.push(recordInstanceValidator);\n        let formControl;\n        if (associatedRecordPath) {\n            formControl = this.state.form.addAssociatedFieldControl(String(fieldId), guid, associatedRecordPath, initialValue, validator);\n        }\n        else {\n            formControl = this.state.form.addFieldControl(String(fieldId), guid, initialValue, validator);\n        }\n        formControl.valueChanges\n            .pipe(distinctUntilChanged(this.rxRecordInstanceUtilsService.isFieldValueEqual), \n        // Use asyncScheduler to allow all observers to be notified about the original (non-normalized) field value change,\n        // before the value gets normalized by `this.setFieldValue` call in the subscription below.\n        // This resolves an issue where the subscriptions were executed with the normalized value first, followed by\n        // non-normalized value.\n        // In the example below, the actual form control value is already normalized but valueChange observer\n        // receives a non-normalized value.\n        // formControl.valueChange.subscribe(nonNormalizedValue => formControl.value !== nonNormalizedValue);\n        observeOn(asyncScheduler), takeUntil(this.destroyed$))\n            .subscribe(() => {\n            // Use formControl.value instead of the emitted value that comes asynchronously\n            // and may be different than the actual value, e.g. when user types quickly\n            this.setFieldValue(fieldId, formControl.value, associatedRecordPath, {\n                markAsDirty: formControl.dirty,\n                markAsTouched: false\n            });\n        });\n        return formControl;\n    }\n    getPermissionType(fieldId, associatedRecordPath) {\n        const fieldInstance = this.state.recordInstance\n            ? this.state.recordInstance.getFieldInstance(fieldId, associatedRecordPath)\n            : null;\n        if (fieldInstance) {\n            return get(fieldInstance, 'permissionType') || RX_RECORD_DEFINITION.fieldPermissionTypes.change;\n        }\n        else {\n            return null;\n        }\n    }\n    getFieldInstanceProp(fieldId, prop, associatedRecordPath) {\n        return this.state.recordInstance && this.state.recordInstance.getFieldProp(fieldId, prop, associatedRecordPath);\n    }\n    getRecordEditorMode() {\n        return this.state.mode;\n    }\n    setFieldInstanceProp(fieldId, prop, value, associatedRecordPath) {\n        if (this.state.recordInstance) {\n            this.state.recordInstance.setFieldProp(fieldId, prop, value, associatedRecordPath);\n        }\n    }\n    isValid() {\n        return this.state.form.valid;\n    }\n    switchToEditState() {\n        this.setRecordEditorState(RecordEditorState.Edit);\n    }\n    isEditStateAvailable() {\n        return (this.state.isReadOnlyStateAvailable &&\n            this.state.currentState === RecordEditorState.Read &&\n            Boolean(this.state.recordInstanceId) &&\n            Boolean(this.state.allowEdit));\n    }\n    isSaveButtonAvailable() {\n        return this.state.isReadOnlyStateAvailable && this.state.currentState === RecordEditorState.Edit;\n    }\n    isSaveButtonDisabled() {\n        return !this.canSave();\n    }\n    isCancelButtonAvailable() {\n        return (this.state.isReadOnlyStateAvailable && this.state.currentState === RecordEditorState.Edit && this.isInEditMode());\n    }\n    cancel() {\n        if (this.state.isReadOnlyStateAvailable && this.state.recordInstance) {\n            if (this.isDirty()) {\n                return defer(() => from(this.rxUtilityModalsService.confirmUnsavedChanges())).pipe(switchMap((isConfirmed) => {\n                    if (isConfirmed) {\n                        this.restoreRecordEditor();\n                        this.setRecordEditorState(RecordEditorState.Read);\n                        return EMPTY;\n                    }\n                    else {\n                        return throwError(null);\n                    }\n                }));\n            }\n            else {\n                this.setRecordEditorState(RecordEditorState.Read);\n            }\n        }\n        return EMPTY;\n    }\n    canSave() {\n        return this.isInTemporaryMode() ? true : !this.state.isSaving && (this.isInCreateMode() || this.isDirty());\n    }\n    isConfigValid() {\n        return this.isInEditMode() ? this.rxStringService.isNonEmptyString(this.state.recordInstanceId) : true;\n    }\n    onSaveClick() {\n        this.save()\n            .pipe(take(1), catchError((error) => (error === null ? of(error) : throwError(error))))\n            .subscribe();\n    }\n    onCancelClick() {\n        this.cancel().subscribe();\n    }\n    initializeRecordInstance() {\n        let initialize$ = EMPTY;\n        if (this.isConfigValid()) {\n            this.state.isDataLoading = true;\n            initialize$ = this.getRecordInstance().pipe(tap((recordInstance) => {\n                this.setRecordInstance(recordInstance);\n                this.setRecordDefinition(recordInstance.recordDefinition);\n                this.updateSelectionFieldOptionNames(recordInstance);\n            }), switchMapTo(EMPTY), catchError((error) => {\n                // delay record instance id update to allow throwing an error.\n                asapScheduler.schedule(() => {\n                    this.setRecordInstance(null);\n                    this.setRecordDefinition(null);\n                });\n                return throwError(error);\n            }), finalize(() => {\n                this.state.isDataLoading = false;\n            }));\n        }\n        else {\n            if (this.state.recordInstanceId !== '' && !isNil(this.state.recordInstanceId)) {\n                this.rxNotificationService.addErrorMessage(this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-editor.invalid-record-instance-id.message'));\n            }\n            if (this.state.recordInstance) {\n                this.setRecordInstance(null);\n                this.setRecordDefinition(null);\n            }\n        }\n        return initialize$;\n    }\n    handleNoRecordFoundError(error) {\n        const isNoRecordFoundError = this.rxRecordInstanceUtilsService.isNoRecordFoundError(error);\n        if (isNoRecordFoundError) {\n            this.rxNotificationService.addWarningMessage(this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-editor.no-access-to-record.message'));\n            this.runtimeViewModelApi.cancel(true).subscribe();\n        }\n        return throwError(isNoRecordFoundError ? null : error);\n    }\n    updateIsDirtyProperty() {\n        const isDirty = this.isDirty();\n        if (this.state.isDirty !== isDirty) {\n            this.state.isDirty = isDirty;\n            this.notifyPropertyChanged('isDirty', isDirty);\n        }\n    }\n    updateCanSaveProperty() {\n        const canSave = this.canSave();\n        if (this.state.canSave !== canSave) {\n            this.state.canSave = canSave;\n            this.notifyPropertyChanged('canSave', canSave);\n        }\n    }\n    setRecordInstance(recordInstance) {\n        forEach(this.associationManagers, (manager) => manager.destroy());\n        this.associationInstances = {};\n        this.associationManagers = {};\n        if (recordInstance && !recordInstance.associationInstances) {\n            recordInstance.associationInstances = {};\n            this.associationInstances = recordInstance.associationInstances;\n        }\n        this.state.recordInstance = recordInstance;\n        this.state.recordInstanceId = recordInstance && recordInstance.id;\n        recordInstance ? this.syncRecordInstanceWithForm() : this.state.form.clearAndReset();\n        this.notifyPropertyChanged('recordInstance', this.state.recordInstance);\n        this.notifyPropertyChanged('recordInstanceId', this.state.recordInstanceId);\n        this.updateIsDirtyProperty();\n        this.updateCanSaveProperty();\n        if (recordInstance) {\n            this.recordInstanceChangedSubject.next();\n        }\n    }\n    getFieldInstanceControlValidator(fieldId, associatedRecordPath) {\n        return (control) => this.state.recordInstance &&\n            this.state.recordInstance.validateSingleField(fieldId, control.value, associatedRecordPath);\n    }\n    setRecordDefinition(recordDefinition) {\n        if (recordDefinition) {\n            if (this.isInBulkEditMode()) {\n                recordDefinition = this.rxRecordDefinitionService.setFieldDefinitionsToOptional(recordDefinition);\n            }\n            recordDefinition.fieldDefinitionsById =\n                this.rxRecordDefinitionService.buildFieldDefinitionsByIdMap(recordDefinition);\n        }\n        this.state.recordDefinition = recordDefinition;\n        this.notifyPropertyChanged('recordDefinition', this.state.recordDefinition);\n    }\n    getRecordInstance() {\n        if (this.isInCreateMode() || this.isInTemporaryMode()) {\n            if (this.state.recordInstance) {\n                this.state.recordInstance = this.state.recordInstance.getOriginalRecordInstance();\n                return of(this.state.recordInstance);\n            }\n            else {\n                return this.rxRecordInstanceService.getNew(this.state.recordDefinitionName);\n            }\n        }\n        else if (this.isInBulkEditMode()) {\n            return this.rxRecordInstanceService.getEmpty(this.state.recordDefinitionName);\n        }\n        else if (this.isInEditMode()) {\n            return this.rxRecordInstanceService.get(this.state.recordDefinitionName, this.state.recordInstanceId);\n        }\n    }\n    getAssociationInstances(associationDefinitionName, nodeSide, rolesConfigKey) {\n        const nodeSideRolesConfigKey = compact([nodeSide, rolesConfigKey]).join(':');\n        let associationRecords = get(this.associationInstances, [\n            associationDefinitionName,\n            nodeSideRolesConfigKey\n        ]);\n        if (!associationRecords) {\n            associationRecords = {\n                existing: [],\n                pending: [],\n                deleted: [],\n                extensions: []\n            };\n            set(this.associationInstances, [associationDefinitionName, nodeSideRolesConfigKey], associationRecords);\n        }\n        return associationRecords;\n    }\n    setRecordEditorState(state) {\n        this.state.currentState = state;\n        this.notifyPropertyChanged('inReadState', state === RecordEditorState.Read);\n    }\n    isInCreateMode() {\n        return this.state.mode === RecordEditorMode.Create;\n    }\n    isInBulkEditMode() {\n        return this.state.mode === RecordEditorMode.BulkEdit;\n    }\n    isInEditMode() {\n        return this.state.mode === RecordEditorMode.Edit;\n    }\n    isInTemporaryMode() {\n        return this.state.mode === RecordEditorMode.Temporary;\n    }\n    isNewAttachment(fieldId) {\n        return Boolean(this.state.recordInstance.fieldInstances[fieldId].file);\n    }\n    updateSelectionFieldOptionNames(recordInstance) {\n        if (recordInstance && get(this.state.recordDefinition, 'fieldDefinitions')) {\n            const newSelectionFieldOptionNames = this.rxRecordEditorUtilsService.getSelectionFieldOptionNames(this.state.recordDefinition, recordInstance);\n            if (!isEqual(this.state.selectionFieldOptionNamesById, newSelectionFieldOptionNames)) {\n                this.notifyPropertyChanged('selectionFieldOptionNamesById', newSelectionFieldOptionNames);\n            }\n        }\n    }\n    syncRecordInstanceWithForm(associatedRecordPath) {\n        const fieldIds = this.state.form.getFieldIds(associatedRecordPath);\n        if (!isEmpty(fieldIds)) {\n            const formStateByFieldId = fieldIds.reduce((result, fieldId) => {\n                result[fieldId] = this.state.recordInstance.getFieldValue(Number(fieldId), associatedRecordPath);\n                return result;\n            }, {});\n            this.state.form.resetFieldControls(formStateByFieldId, associatedRecordPath);\n        }\n    }\n    restoreRecordEditor() {\n        this.state.recordInstance.revertFieldInstances();\n        forEach(this.associationManagers, (manager) => manager.restore());\n        this.syncRecordInstanceWithForm();\n        this.notifyPropertyChanged('recordInstance', this.state.recordInstance);\n        this.updateIsDirtyProperty();\n        this.updateCanSaveProperty();\n    }\n}\nRecordEditorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorComponent, deps: [{ token: i1$5.RxRecordInstanceService }, { token: i1$5.RxRecordInstanceUpdateService }, { token: i2.TranslateService }, { token: i1$1.RxGlobalEventsService }, { token: i1$1.RxNotificationService }, { token: i1$5.RxRecordDefinitionService }, { token: RxRecordEditorUtilsService }, { token: i1$5.RxRecordInstanceUtilsService }, { token: i2$1.RxStringService }, { token: i1$1.RxLogService }, { token: i1$6.RxUtilityModalsService }, { token: RecordEditorForm }, { token: RxAssociationManagerService }], target: i0.ɵɵFactoryTarget.Component });\nRecordEditorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordEditorComponent, selector: \"rx-record-editor\", inputs: { config: \"config\", runtimeViewModelApi: \"runtimeViewModelApi\" }, providers: [RecordEditorForm], usesInheritance: true, ngImport: i0, template: \"<div class=\\\"loader-container\\\" *ngIf=\\\"state.isDataLoading && !state.recordInstance\\\">\\n  <div class=\\\"loader-inline mr-1\\\"></div>\\n  <span>{{ 'com.bmc.arsys.rx.client.common.loading-data' | translate }}</span>\\n</div>\\n\\n<div *ngIf=\\\"!state.isDataLoading && (!isConfigValid() || !state.recordInstance)\\\">\\n  {{ 'com.bmc.arsys.rx.client.view-components.record-editor.invalid-record.message' | translate }}\\n</div>\\n\\n<div *ngIf=\\\"state.recordInstance && isConfigValid()\\\" class=\\\"clearfix\\\">\\n  <div class=\\\"d-flex justify-content-end\\\">\\n    <button\\n      *ngIf=\\\"isEditStateAvailable()\\\"\\n      class=\\\"py-0 mb-1\\\"\\n      adapt-button\\n      size=\\\"small\\\"\\n      btn-type=\\\"tertiary\\\"\\n      (click)=\\\"switchToEditState()\\\"\\n    >\\n      {{ 'com.bmc.arsys.rx.client.common.edit.label' | translate }}\\n    </button>\\n  </div>\\n\\n  <rx-runtime-view-canvas-outlet></rx-runtime-view-canvas-outlet>\\n\\n  <button\\n    *ngIf=\\\"isSaveButtonAvailable()\\\"\\n    class=\\\"mr-1 mt-3\\\"\\n    rx-id=\\\"save-button\\\"\\n    adapt-button\\n    btn-type=\\\"primary\\\"\\n    size=\\\"small\\\"\\n    [disabled]=\\\"isSaveButtonDisabled()\\\"\\n    (click)=\\\"onSaveClick()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n\\n  <button\\n    *ngIf=\\\"isCancelButtonAvailable()\\\"\\n    class=\\\"mt-3\\\"\\n    rx-id=\\\"cancel-button\\\"\\n    adapt-button\\n    btn-type=\\\"secondary\\\"\\n    size=\\\"small\\\"\\n    (click)=\\\"onCancelClick()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\\n  </button>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}:host{display:block;border:1px solid #d6d7d8;padding:1rem;position:relative}\\n\"], components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1$2.RuntimeViewCanvasOutletComponent, selector: \"rx-runtime-view-canvas-outlet\", inputs: [\"name\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-record-editor',\n                    templateUrl: './record-editor.component.html',\n                    styleUrls: ['record-editor.component.scss'],\n                    providers: [RecordEditorForm]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$5.RxRecordInstanceService }, { type: i1$5.RxRecordInstanceUpdateService }, { type: i2.TranslateService }, { type: i1$1.RxGlobalEventsService }, { type: i1$1.RxNotificationService }, { type: i1$5.RxRecordDefinitionService }, { type: RxRecordEditorUtilsService }, { type: i1$5.RxRecordInstanceUtilsService }, { type: i2$1.RxStringService }, { type: i1$1.RxLogService }, { type: i1$6.RxUtilityModalsService }, { type: RecordEditorForm }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [RxAssociationManagerService]\n                }] }]; }, propDecorators: { config: [{\n                type: Input\n            }], runtimeViewModelApi: [{\n                type: Input\n            }] } });\n\nclass RecordEditorComponentDefinitionAdapterService {\n    constructor(viewDefinitionParserService) {\n        this.viewDefinitionParserService = viewDefinitionParserService;\n    }\n    adaptDefinition(recordEditorComponentDefinition) {\n        const properties = get(recordEditorComponentDefinition, 'propertiesByName');\n        if (properties.mode === RecordEditorMode.Edit && isUndefined(properties.allowEdit)) {\n            properties.allowEdit = '1';\n        }\n        this.viewDefinitionParserService\n            .getComponents(recordEditorComponentDefinition)\n            .filter((componentPair) => componentPair.componentDefinition.type !== RxViewComponentType.ActionButton &&\n            (componentPair.componentDefinition.propertiesByName.hasOwnProperty('fieldId') ||\n                componentPair.componentDefinition.type === RxViewComponentType.Association))\n            .map((componentPair) => componentPair.componentDefinition)\n            .forEach((fieldComponentDefinition) => {\n            Object.assign(fieldComponentDefinition.propertiesByName, {\n                api: `\\${view.components.${recordEditorComponentDefinition.guid}.api}`,\n                inReadState: `\\${view.components.${recordEditorComponentDefinition.guid}.inReadState}`,\n                recordDefinition: `\\${view.components.${recordEditorComponentDefinition.guid}.recordDefinition}`,\n                recordInstance: `\\${view.components.${recordEditorComponentDefinition.guid}.recordInstance}`\n            });\n        });\n    }\n}\nRecordEditorComponentDefinitionAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorComponentDefinitionAdapterService, deps: [{ token: i1$4.RxViewDefinitionParserService }], target: i0.ɵɵFactoryTarget.Injectable });\nRecordEditorComponentDefinitionAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorComponentDefinitionAdapterService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorComponentDefinitionAdapterService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewDefinitionParserService }]; } });\n\n// AoT requires an exported function for factories\nfunction AssociationManagerFactory(rxAssociationInstanceDataPageService, rxRecordDefinitionCacheService, rxRecordInstanceUtilsService, rxRecordInstanceService, rxJsonParserService, rxAssociationDefinitionCacheService) {\n    const service = function (options) {\n        return new RxAssociationManagerService(options, rxAssociationInstanceDataPageService, rxRecordDefinitionCacheService, rxRecordInstanceUtilsService, rxRecordInstanceService, rxJsonParserService, rxAssociationDefinitionCacheService);\n    };\n    return service;\n}\nclass RecordEditorModule {\n    constructor(rxDefinitionAdapterRegistryService, recordEditorComponentDefinitionAdapterService) {\n        this.rxDefinitionAdapterRegistryService = rxDefinitionAdapterRegistryService;\n        this.recordEditorComponentDefinitionAdapterService = recordEditorComponentDefinitionAdapterService;\n        rxDefinitionAdapterRegistryService.registerRuntimeAdapter(RxViewComponentType.RecordEditor, this.recordEditorComponentDefinitionAdapterService);\n    }\n}\nRecordEditorModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorModule, deps: [{ token: i1$1.RxDefinitionAdapterRegistryService }, { token: RecordEditorComponentDefinitionAdapterService }], target: i0.ɵɵFactoryTarget.NgModule });\nRecordEditorModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorModule, declarations: [RecordEditorComponent], imports: [CommonModule,\n        RuntimeViewCanvasModule,\n        ReactiveFormsModule,\n        AdaptButtonModule,\n        RxModalModule,\n        TranslateModule, i1.AdaptAlertModule], exports: [RecordEditorComponent] });\nRecordEditorModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorModule, providers: [\n        RecordEditorComponentDefinitionAdapterService,\n        RxRecordEditorUtilsService,\n        {\n            provide: RxAssociationManagerService,\n            useFactory: AssociationManagerFactory,\n            deps: [\n                RxAssociationInstanceDataPageService,\n                RxRecordDefinitionCacheService,\n                RxRecordInstanceUtilsService,\n                RxRecordInstanceService,\n                RxJsonParserService,\n                RxAssociationDefinitionCacheService\n            ]\n        }\n    ], imports: [[\n            CommonModule,\n            RuntimeViewCanvasModule,\n            ReactiveFormsModule,\n            AdaptButtonModule,\n            RxModalModule,\n            TranslateModule,\n            AdaptAlertModule.forRoot()\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        RuntimeViewCanvasModule,\n                        ReactiveFormsModule,\n                        AdaptButtonModule,\n                        RxModalModule,\n                        TranslateModule,\n                        AdaptAlertModule.forRoot()\n                    ],\n                    providers: [\n                        RecordEditorComponentDefinitionAdapterService,\n                        RxRecordEditorUtilsService,\n                        {\n                            provide: RxAssociationManagerService,\n                            useFactory: AssociationManagerFactory,\n                            deps: [\n                                RxAssociationInstanceDataPageService,\n                                RxRecordDefinitionCacheService,\n                                RxRecordInstanceUtilsService,\n                                RxRecordInstanceService,\n                                RxJsonParserService,\n                                RxAssociationDefinitionCacheService\n                            ]\n                        }\n                    ],\n                    exports: [RecordEditorComponent],\n                    declarations: [RecordEditorComponent],\n                    entryComponents: [RecordEditorComponent]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxDefinitionAdapterRegistryService }, { type: RecordEditorComponentDefinitionAdapterService }]; } });\n\nclass RxDefaultRecordEditorInputType {\n    constructor() {\n        this.resourceTypeFieldTypeMap = {};\n        this.initResourceTypeFieldTypeMap();\n    }\n    getFieldTypeByFieldDefinition(fieldDefinition) {\n        if (isFunction(this.resourceTypeFieldTypeMap[fieldDefinition.resourceType])) {\n            return this.resourceTypeFieldTypeMap[fieldDefinition.resourceType](fieldDefinition);\n        }\n        else {\n            return this.resourceTypeFieldTypeMap[fieldDefinition.resourceType];\n        }\n    }\n    initResourceTypeFieldTypeMap() {\n        this.resourceTypeFieldTypeMap = Object.assign(Object.assign({}, RECORD_EDITOR.fieldTypes), { [RX_RECORD_DEFINITION.resourceTypes.character]: (fieldDefinition) => {\n                return fieldDefinition.namedListDefinition || inRange(fieldDefinition.maxLength, 1, 255)\n                    ? RxViewComponentType.Character\n                    : RxViewComponentType.Textarea;\n            } });\n    }\n}\nRxDefaultRecordEditorInputType.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefaultRecordEditorInputType, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxDefaultRecordEditorInputType.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefaultRecordEditorInputType, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDefaultRecordEditorInputType, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return []; } });\n\nconst RX_ASSOCIATION = {\n    actions: {\n        associate: 'associate',\n        createAndAssociate: 'createAndAssociate'\n    },\n    componentTypes: {\n        associationFilter: 'rx-association-filter',\n        associatedRecordField: 'rx-associated-record-field'\n    }\n};\nvar RxAssociationEditingMode;\n(function (RxAssociationEditingMode) {\n    RxAssociationEditingMode[\"Dropdown\"] = \"dropdown\";\n    RxAssociationEditingMode[\"Views\"] = \"views\";\n})(RxAssociationEditingMode || (RxAssociationEditingMode = {}));\n\nclass RxRecordPreviewCardComponent {\n    ngOnInit() {\n        this.maxFieldValueLength = this.config.maxFieldValueLength || 200;\n    }\n    isEditableState() {\n        return this.config.state === RecordEditorState.Edit;\n    }\n}\nRxRecordPreviewCardComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordPreviewCardComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nRxRecordPreviewCardComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxRecordPreviewCardComponent, selector: \"rx-record-preview-card\", inputs: { config: \"config\" }, ngImport: i0, template: \"<div class=\\\"rx-record-preview-card d-flex align-items-start justify-content-between w-100\\\">\\n  <ul class=\\\"rx-card-fields d-flex flex-column list-unstyled focusable mb-0\\\" tabindex=\\\"0\\\">\\n    <li class=\\\"d-flex rx-card-field\\\" *ngFor=\\\"let field of config.fields\\\">\\n      <span class=\\\"rx-card-field-label\\\" *ngIf=\\\"field.label\\\">{{ field.label }}</span>\\n      <span *ngIf=\\\"field.label\\\">: </span>\\n      <span class=\\\"rx-card-field-value px-1\\\" [ngClass]=\\\"{ 'font-weight-bold': !isEditableState() }\\\">{{\\n        field.value\\n      }}</span>\\n    </li>\\n  </ul>\\n\\n  <button\\n    *ngIf=\\\"isEditableState()\\\"\\n    (click)=\\\"config.onDelete(config.id)\\\"\\n    class=\\\"btn btn-link d-icon-cross p-0\\\"\\n    adapt-button\\n    size=\\\"small\\\"\\n    btn-type=\\\"tertiary\\\"\\n    [attr.aria-label]=\\\"'com.bmc.arsys.rx.client.common.remove.label' | translate\\\"\\n  ></button>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}:host{display:flex}.rx-record-preview-card{flex:1}.rx-card-field{flex:1;line-height:20px}.rx-card-field:not(:first-child){color:#959899}.rx-card-fields{flex:1;white-space:nowrap;min-width:0}.rx-card-field-label{flex-shrink:0;max-width:30%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.rx-card-field-value{text-overflow:ellipsis;overflow:hidden}\\n\"], components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordPreviewCardComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-record-preview-card',\n                    templateUrl: './record-preview-card.component.html',\n                    styleUrls: ['./record-preview-card.component.scss']\n                }]\n        }], propDecorators: { config: [{\n                type: Input\n            }] } });\n\nclass RxAssociationComponent extends BaseViewComponent {\n    constructor(datePipe, rxAssociationDefinitionService, rxAssociationInstanceDataPageService, rxRecordDefinitionInheritanceDataPageService, rxRecordInstanceDataPageService, rxRecordInstanceUtilsService) {\n        super();\n        this.datePipe = datePipe;\n        this.rxAssociationDefinitionService = rxAssociationDefinitionService;\n        this.rxAssociationInstanceDataPageService = rxAssociationInstanceDataPageService;\n        this.rxRecordDefinitionInheritanceDataPageService = rxRecordDefinitionInheritanceDataPageService;\n        this.rxRecordInstanceDataPageService = rxRecordInstanceDataPageService;\n        this.rxRecordInstanceUtilsService = rxRecordInstanceUtilsService;\n        this.isDisabled = false;\n        this.api = {\n            associate: (associations) => {\n                this.associationManager.addToPending(associations, this.extractRolesConfig());\n            }\n        };\n        this.modelToViewValueAdapterFunc = this.modelToViewValueAdapter.bind(this);\n        this.optionLoaderFunc = this.getAssociationsOptionPage.bind(this);\n        this.viewToModelValueAdapterFunc = this.viewToModelValueAdapter.bind(this);\n        this.existingPreviewConfigurations = [];\n        this.pendingPreviewConfigurations = [];\n        this.selectedOptions = [];\n        this.pendingPageSize = 10;\n        this.currentPendingCount = 10;\n        this.totalPendingCount = 0;\n        this.associationCandidateRecordInstances = [];\n        this.fieldDefinitions = {};\n        this.fieldId = null;\n        this.fields = [];\n        this.inReadState = false;\n        this.label = null;\n        this.recordDefinition = null;\n        this.recordDefinitionName = null;\n        this.useDefaultRoles = null;\n        this.nodeARole = null;\n        this.nodeBRole = null;\n        this.formControl = new FormControl('', null);\n        this.isHidden = false;\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        const config$ = this.config.pipe(filter((config) => Boolean(config.api && config.recordDefinition)), takeUntil(this.destroyed$));\n        config$.pipe(take(1)).subscribe((config) => {\n            this.onConfigInitialized(config);\n            this.onConfigUpdated(config);\n        });\n        config$.pipe(skip(1)).subscribe(this.onConfigUpdated.bind(this));\n        this.notifyPropertyChanged('api', this.api);\n        this.previewRolesConfig = this.extractRolesConfig();\n    }\n    ngAfterViewInit() {\n        if (this.editingMode === RxAssociationEditingMode.Dropdown) {\n            this.formControl.valueChanges\n                .pipe(distinctUntilChanged(), startWith(this.formControl.value), takeUntil(this.destroyed$))\n                .subscribe(() => {\n                this.updateSelectedOptions();\n            });\n        }\n    }\n    onConfigInitialized(config) {\n        this.associationDefinitionName = config.associationDefinitionName;\n        this.associatedRecordNodeSide = config.associatedRecordNodeSide;\n        this.editingMode = config.editingMode || RxAssociationEditingMode.Views;\n        this.fieldId = config.fieldId;\n        this.fields = config.fields;\n        this.recordDefinition = config.recordDefinition;\n        this.recordDefinitionName = config.recordDefinitionName;\n        this.recordEditorApi = config.api;\n        this.state = config.state;\n        this.useDefaultRoles = config.useDefaultRoles;\n        this.nodeARole = config.nodeARole;\n        this.nodeBRole = config.nodeBRole;\n        if (this.fieldId) {\n            this.fieldDefinition = config.recordDefinition.fieldDefinitions.find((definition) => definition.id === Number(this.fieldId));\n        }\n    }\n    onConfigUpdated(config) {\n        var _a;\n        const inReadState = Boolean(config.inReadState);\n        const isDisabled = Boolean(config.disabled) || this.permissionType === RX_RECORD_DEFINITION.fieldPermissionTypes.view;\n        let forceUpdatePreviewCardConfigState = false;\n        this.isHidden = Boolean(config.hidden);\n        this.areActionsAvailable = !inReadState && this.editingMode === RxAssociationEditingMode.Views;\n        if (this.isDisabled !== isDisabled) {\n            this.isDisabled = isDisabled;\n            forceUpdatePreviewCardConfigState = true;\n        }\n        if (this.inReadState !== inReadState) {\n            this.inReadState = inReadState;\n            forceUpdatePreviewCardConfigState = true;\n        }\n        if (forceUpdatePreviewCardConfigState && this.existingPreviewConfigurations.length) {\n            this.updatePreviewCardConfigState();\n        }\n        this.label = isUndefined(config.label) ? (_a = this.fieldDefinition.name) !== null && _a !== void 0 ? _a : '' : config.label;\n        if (this.selectWithPaginationComponent &&\n            this.associationFilter &&\n            get(config, 'associationFilter[0]') &&\n            this.associationFilter.recordInstanceId !== config.associationFilter[0].recordInstanceId) {\n            // Do not delete existing association until Record editor is ready.\n            // This is needed in case when e.g. one association view component\n            // is filtered by the value selected in the other association view component.\n            // If during initialization, the value in the second view component gets loaded\n            // faster than the value in the first one, the value in the second view component\n            // would be cleared after the first component's value is loaded.\n            if (this.recordEditorApi.isReady()) {\n                this.deleteAllExisting();\n            }\n            this.deleteAllPending();\n            this.selectWithPaginationComponent.resetLoadedOptions();\n            this.associationCandidateRecordInstances = [];\n            if (!this.associationFilterNodeSide) {\n                this.rxAssociationDefinitionService\n                    .get(this.associationFilter.associationDefinitionName)\n                    .pipe(switchMap((associationDefinition) => {\n                    if (associationDefinition.nodeAId === this.recordDefinitionName) {\n                        this.associationFilterNodeSide = RxAssociatedRecordNodeSide.NodeA;\n                    }\n                    else if (associationDefinition.nodeBId === this.recordDefinitionName) {\n                        this.associationFilterNodeSide = RxAssociatedRecordNodeSide.NodeB;\n                    }\n                    else {\n                        return this.rxRecordDefinitionInheritanceDataPageService\n                            .get({ params: { recorddefinition: this.recordDefinitionName } })\n                            .pipe(tap((recordDefinitionInheritanceDataPage) => {\n                            const recordDefinitionAncestors = recordDefinitionInheritanceDataPage.data;\n                            if (includes(recordDefinitionAncestors, associationDefinition.nodeAId)) {\n                                this.associationFilterNodeSide = RxAssociatedRecordNodeSide.NodeA;\n                            }\n                            else if (includes(recordDefinitionAncestors, associationDefinition.nodeBId)) {\n                                this.associatedRecordNodeSide = RxAssociatedRecordNodeSide.NodeB;\n                            }\n                            else {\n                                throw new Error('No matches for association definition node side within inheritance ancestors.');\n                            }\n                        }));\n                    }\n                    return EMPTY;\n                }))\n                    .subscribe();\n            }\n        }\n        this.associationFilter = head(config.associationFilter);\n        if (config.recordInstance && this.recordInstance !== config.recordInstance) {\n            this.recordInstance = config.recordInstance;\n            this.isDisabled = true;\n            this.notifyPropertyChanged('isDisabled', this.isDisabled);\n            this.recordEditorApi.notifyComponentReady(this.guid, false);\n            this.associationManager = this.getAssociationManager();\n            this.associationManager\n                .initialize()\n                .pipe(delay(0), switchMap(() => this.associationManager.loadExistingAssociations()), tap(() => {\n                this.isDisabled =\n                    Boolean(config.disabled) || this.permissionType === RX_RECORD_DEFINITION.fieldPermissionTypes.view;\n                this.notifyPropertyChanged('isDisabled', this.isDisabled);\n                this.areActionsAvailable = !this.inReadState && this.editingMode === RxAssociationEditingMode.Views;\n                if (this.editingMode === RxAssociationEditingMode.Views) {\n                    this.fieldDefinitions = transform(this.fields, (result, field) => {\n                        const fieldDefinition = find(this.associationManager.recordDefinition.fieldDefinitions, {\n                            id: Number(field.fieldId)\n                        });\n                        result[fieldDefinition.id] = fieldDefinition;\n                    }, {});\n                }\n                this.associationManager.existing$.pipe(takeUntil(this.destroyed$)).subscribe((newValue) => {\n                    this.onAssociationsChanged(newValue, 'existingPreviewConfigurations');\n                    this.updateTotalExistingAssociationsCount();\n                });\n                this.associationManager.pending$.pipe(takeUntil(this.destroyed$)).subscribe((newValue) => {\n                    this.onAssociationsChanged(newValue, 'pendingPreviewConfigurations');\n                    this.totalPendingCount = this.pendingPreviewConfigurations.length;\n                });\n                combineLatest([this.associationManager.pending$, this.associationManager.existing$])\n                    .pipe(take(1))\n                    .subscribe(() => {\n                    this.recordEditorApi.notifyComponentReady(this.guid, true);\n                });\n            }))\n                .subscribe();\n        }\n    }\n    getAssociationManager() {\n        const fieldsIds = this.fieldId\n            ? [this.fieldId, RX_RECORD_DEFINITION.coreFieldIds.id]\n            : map$1(this.fields, 'fieldId');\n        return this.recordEditorApi.getAssociationManager({\n            associationDefinitionName: this.associationDefinitionName,\n            associatedRecordNodeSide: this.associatedRecordNodeSide || RX_ASSOCIATION_DEFINITION.roles.second.value,\n            associatedRecordInstanceId: this.recordInstance.id,\n            recordDefinitionName: this.recordDefinitionName,\n            fieldIds: fieldsIds,\n            rolesConfig: this.extractRolesConfig()\n        });\n    }\n    getAssociationsOptionPage(startIndex, pageSize, searchQuery) {\n        const params = {\n            pageSize: pageSize,\n            startIndex: startIndex,\n            recorddefinition: this.recordDefinitionName,\n            propertySelection: this.associationManager.getFieldIds()\n        };\n        let instanceDataPageService;\n        if (this.associationFilter) {\n            if (this.associationFilter.recordInstanceId) {\n                params.associationDefinition = this.associationFilter.associationDefinitionName;\n                params.associatedRecordInstanceId = this.associationFilter.recordInstanceId;\n                params.nodeToQuery = this.associationFilterNodeSide;\n                instanceDataPageService = this.rxAssociationInstanceDataPageService;\n            }\n        }\n        else {\n            params.sortBy = this.fieldId;\n            if (searchQuery) {\n                params.queryExpression = `('${this.fieldId}' LIKE \"%${this.rxRecordInstanceUtilsService.escapeTextWildcards(searchQuery)}%\")`;\n            }\n            instanceDataPageService = this.rxRecordInstanceDataPageService;\n        }\n        return instanceDataPageService\n            ? instanceDataPageService.post({ params: params }).pipe(map((result) => {\n                this.associationCandidateRecordInstances.push(...result.data);\n                return {\n                    totalSize: result.totalSize,\n                    options: result.data.map((recordInstance) => ({\n                        displayValue: recordInstance[this.fieldId] || '',\n                        value: recordInstance[RX_RECORD_DEFINITION.coreFieldIds.id]\n                    }))\n                };\n            }))\n            : of({\n                options: [],\n                totalSize: 0\n            });\n    }\n    deleteAllExisting() {\n        this.associationManager.deleteAllExisting();\n    }\n    deleteAllPending() {\n        this.associationManager.deleteAllPending();\n    }\n    loadExistingAssociations() {\n        this.associationManager\n            .loadExistingAssociations()\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe(() => this.updateTotalExistingAssociationsCount());\n    }\n    isReadModeEnabled() {\n        return this.inReadState;\n    }\n    isEditModeEnabled() {\n        return !this.inReadState;\n    }\n    getAssociatedValue() {\n        return get(this, 'selectedOptions[0].displayValue');\n    }\n    // [{displayValue: 'FOO', value: 'foo'}, {displayValue: 'BAR', value: 'bar'}] -> 'foo;bar;baz'\n    viewToModelValueAdapter(selectedOptions) {\n        return selectedOptions.map((option) => option.value).join(';');\n    }\n    // 'foo;bar;baz' -> [{displayValue: 'FOO', value: 'foo'}, {displayValue: 'BAR', value: 'bar'}]\n    modelToViewValueAdapter(modelValue) {\n        return modelValue ? castArray(this.selectedOptions) : [];\n    }\n    resetDropdownSelection() {\n        this.selectedOptions = [];\n    }\n    updatePreviewCardConfigState() {\n        forEach(this.existingPreviewConfigurations, (previewCardConfig) => {\n            previewCardConfig.state = this.getStateForPreviewConfiguration();\n        });\n    }\n    updateSelectedOptions() {\n        if (this.formControl.value && !isNil(this.formControl.value)) {\n            const pendingAssociation = {\n                id: this.formControl.value,\n                fieldInstances: null\n            };\n            const selectedRecordInstance = find(this.associationCandidateRecordInstances, function (association) {\n                return association[RX_RECORD_DEFINITION.coreFieldIds.id] === pendingAssociation.id;\n            });\n            pendingAssociation.fieldInstances = transform(selectedRecordInstance, function (result, value, filedId) {\n                result[filedId] = { value: value };\n            }, {});\n            this.associationManager.addToPending([pendingAssociation], null);\n        }\n        else {\n            this.deleteAllExisting();\n            this.deleteAllPending();\n        }\n    }\n    buildPreviewConfig(association, fields, state) {\n        return {\n            id: association.id,\n            state: state,\n            onDelete: (associationId) => {\n                this.associationManager.delete(associationId);\n            },\n            fields: map$1(fields, (field) => {\n                const fieldDefinition = this.fieldDefinitions[field.fieldId];\n                const fieldInstance = association.fieldInstances[field.fieldId];\n                let value;\n                if (fieldInstance) {\n                    value = fieldInstance.value;\n                }\n                if (fieldDefinition.resourceType === RX_RECORD_DEFINITION.dataTypes.selection.resourceType) {\n                    value = fieldDefinition.optionNamesById[value];\n                }\n                if (fieldDefinition.resourceType === RX_RECORD_DEFINITION.dataTypes.dateTime.resourceType ||\n                    (fieldDefinition.resourceType === RX_RECORD_DEFINITION.dataTypes.dateOnly.resourceType && isString(value))) {\n                    value = this.datePipe.transform(value, 'mediumDate');\n                }\n                return {\n                    label: field.label,\n                    value: value || '<unknown>',\n                    index: field.index,\n                    fieldId: field.fieldId\n                };\n            })\n        };\n    }\n    showPendingAssociations() {\n        this.currentPendingCount += this.pendingPageSize;\n    }\n    getPendingPreviewConfigurations() {\n        return this.pendingPreviewConfigurations.slice(0, this.currentPendingCount);\n    }\n    extractRolesConfig() {\n        return {\n            useDefaultRoles: this.useDefaultRoles,\n            nodeARole: this.nodeARole,\n            nodeBRole: this.nodeBRole\n        };\n    }\n    updateTotalExistingAssociationsCount() {\n        this.associationManager.totalExistingCount =\n            (this.associationManager.remainingAssociatedRecordCount || 0) + this.existingPreviewConfigurations.length;\n    }\n    getStateForPreviewConfiguration() {\n        return this.areActionsAvailable && !this.isDisabled ? RecordEditorState.Edit : RecordEditorState.Read;\n    }\n    getFirstAssociationRecord() {\n        return this.associationManager.existing[0] || this.associationManager.pending[0] || {};\n    }\n    onAssociationsChanged(associations, configName) {\n        var _a;\n        const firstAssociatedRecord = this.getFirstAssociationRecord();\n        this.notifyPropertyChanged('firstAssociatedRecord', { id: firstAssociatedRecord.id || '' });\n        if (this.editingMode === RxAssociationEditingMode.Views) {\n            const associationsToPreview = associations.filter((association) => every(this.previewRolesConfig, isEmpty) || isEqual(this.previewRolesConfig, association.rolesConfig));\n            this[configName] = this.rebuildPreviewConfigurations(associationsToPreview);\n        }\n        else if (this.editingMode === RxAssociationEditingMode.Dropdown) {\n            if (firstAssociatedRecord.id) {\n                this.selectedOptions = [\n                    {\n                        displayValue: (_a = firstAssociatedRecord.fieldInstances[this.fieldId]) === null || _a === void 0 ? void 0 : _a.value,\n                        value: firstAssociatedRecord.id\n                    }\n                ];\n            }\n            else {\n                this.resetDropdownSelection();\n            }\n            this.formControl.setValue(firstAssociatedRecord.id);\n        }\n    }\n    rebuildPreviewConfigurations(associations) {\n        const state = this.getStateForPreviewConfiguration();\n        return map$1(associations, (association) => {\n            return this.buildPreviewConfig(association, this.fields, state);\n        });\n    }\n}\nRxAssociationComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAssociationComponent, deps: [{ token: i3.DatePipe }, { token: i2$4.RxAssociationDefinitionService }, { token: i2$4.RxAssociationInstanceDataPageService }, { token: i1$5.RxRecordDefinitionInheritanceDataPageService }, { token: i1$5.RxRecordInstanceDataPageService }, { token: i1$5.RxRecordInstanceUtilsService }], target: i0.ɵɵFactoryTarget.Component });\nRxAssociationComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxAssociationComponent, selector: \"rx-association\", host: { properties: { \"class.rx-field-disabled\": \"this.isDisabled\" } }, viewQueries: [{ propertyName: \"selectWithPaginationComponent\", first: true, predicate: RxSelectWithPaginationComponent, descendants: true }], usesInheritance: true, ngImport: i0, template: \"<rx-read-only-field\\n  *ngIf=\\\"!isHidden && isReadModeEnabled() && (existingPreviewConfigurations.length === 0 || editingMode === 'dropdown')\\\"\\n  [label]=\\\"label\\\"\\n  [value]=\\\"getAssociatedValue()\\\"\\n></rx-read-only-field>\\n\\n<div *ngIf=\\\"!isHidden\\\" [ngSwitch]=\\\"editingMode\\\">\\n  <div *ngSwitchCase=\\\"'views'\\\" [attr.aria-label]=\\\"label\\\" [ngClass]=\\\"{ 'read-state': isReadModeEnabled() }\\\">\\n    <adapt-rx-control-label *ngIf=\\\"isEditModeEnabled() || existingPreviewConfigurations.length > 0\\\" [label]=\\\"label\\\">\\n    </adapt-rx-control-label>\\n\\n    <div *ngIf=\\\"areActionsAvailable\\\">\\n      <rx-runtime-view-canvas-outlet></rx-runtime-view-canvas-outlet>\\n    </div>\\n\\n    <div *ngIf=\\\"isReadModeEnabled()\\\">\\n      <div [ngSwitch]=\\\"associationManager.cardinalityType\\\">\\n        <div *ngSwitchCase=\\\"associationManager.cardinalityTypes.One\\\">\\n          <div *ngIf=\\\"existingPreviewConfigurations.length || pendingPreviewConfigurations.length\\\" class=\\\"list-group\\\">\\n            <rx-record-preview-card\\n              [config]=\\\"existingPreviewConfigurations[0] || pendingPreviewConfigurations[0]\\\"\\n              class=\\\"list-group-item\\\"\\n            ></rx-record-preview-card>\\n          </div>\\n        </div>\\n\\n        <div *ngSwitchDefault>\\n          <div class=\\\"list-group\\\">\\n            <rx-record-preview-card\\n              *ngFor=\\\"let previewCardConfig of existingPreviewConfigurations\\\"\\n              [config]=\\\"previewCardConfig\\\"\\n              class=\\\"list-group-item\\\"\\n            ></rx-record-preview-card>\\n          </div>\\n\\n          <button\\n            *ngIf=\\\"\\n              associationManager.totalExistingCount >\\n              existingPreviewConfigurations.length + associationManager.deleted.length\\n            \\\"\\n            (click)=\\\"loadExistingAssociations()\\\"\\n            adapt-button\\n            size=\\\"small\\\"\\n            btn-type=\\\"tertiary\\\"\\n            type=\\\"button\\\"\\n          >\\n            {{ 'com.bmc.arsys.rx.client.common.show-more.label' | translate }}\\n          </button>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div *ngIf=\\\"isEditModeEnabled()\\\">\\n      <div *ngIf=\\\"existingPreviewConfigurations.length\\\" class=\\\"form-group\\\">\\n        <div class=\\\"d-flex justify-content-end pb-1\\\">\\n          <span class=\\\"preview-count\\\">\\n            {{\\n              associationManager.totalExistingCount > 1\\n                ? ('com.bmc.arsys.rx.client.view-components.record-editor.association.total-items.label'\\n                  | translate\\n                    : {\\n                        count: associationManager.totalExistingCount\\n                      })\\n                : ('com.bmc.arsys.rx.client.view-components.record-editor.association.single-item.label' | translate)\\n            }}\\n          </span>\\n\\n          <button\\n            [hidden]=\\\"!areActionsAvailable || isDisabled\\\"\\n            (click)=\\\"deleteAllExisting()\\\"\\n            adapt-button\\n            size=\\\"small\\\"\\n            btn-type=\\\"tertiary\\\"\\n            class=\\\"btn btn-link py-0\\\"\\n            type=\\\"button\\\"\\n          >\\n            {{ 'com.bmc.arsys.rx.client.view-components.record-editor.association.button.clear-all.label' | translate }}\\n          </button>\\n        </div>\\n\\n        <div class=\\\"list-group\\\">\\n          <rx-record-preview-card\\n            *ngFor=\\\"let previewCardConfig of existingPreviewConfigurations\\\"\\n            [config]=\\\"previewCardConfig\\\"\\n            class=\\\"list-group-item\\\"\\n          ></rx-record-preview-card>\\n        </div>\\n\\n        <button\\n          *ngIf=\\\"\\n            associationManager.totalExistingCount >\\n            existingPreviewConfigurations.length + associationManager.deleted.length\\n          \\\"\\n          (click)=\\\"loadExistingAssociations()\\\"\\n          adapt-button\\n          size=\\\"small\\\"\\n          btn-type=\\\"tertiary\\\"\\n          type=\\\"button\\\"\\n        >\\n          {{ 'com.bmc.arsys.rx.client.common.show-more.label' | translate }}\\n        </button>\\n      </div>\\n\\n      <div *ngIf=\\\"pendingPreviewConfigurations.length\\\" class=\\\"form-group mt-3\\\">\\n        <div class=\\\"d-flex justify-content-between\\\">\\n          <div class=\\\"m-0\\\">\\n            {{\\n              'com.bmc.arsys.rx.client.view-components.record-editor.association.pending-associations.label' | translate\\n            }}\\n            :\\n          </div>\\n\\n          <div class=\\\"d-flex pb-1\\\">\\n            <span class=\\\"preview-count\\\">\\n              {{\\n                totalPendingCount > 1\\n                  ? ('com.bmc.arsys.rx.client.view-components.record-editor.association.total-items.label'\\n                    | translate\\n                      : {\\n                          count: totalPendingCount\\n                        })\\n                  : ('com.bmc.arsys.rx.client.view-components.record-editor.association.single-item.label' | translate)\\n              }}\\n            </span>\\n\\n            <button\\n              [hidden]=\\\"!areActionsAvailable || isDisabled\\\"\\n              (click)=\\\"deleteAllPending()\\\"\\n              adapt-button\\n              size=\\\"small\\\"\\n              btn-type=\\\"tertiary\\\"\\n              class=\\\"btn btn-link py-0\\\"\\n              type=\\\"button\\\"\\n            >\\n              {{\\n                'com.bmc.arsys.rx.client.view-components.record-editor.association.button.clear-all.label' | translate\\n              }}\\n            </button>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"list-group\\\">\\n          <rx-record-preview-card\\n            *ngFor=\\\"let previewCardConfig of getPendingPreviewConfigurations()\\\"\\n            [config]=\\\"previewCardConfig\\\"\\n            class=\\\"list-group-item\\\"\\n          ></rx-record-preview-card>\\n        </div>\\n\\n        <button\\n          *ngIf=\\\"totalPendingCount > currentPendingCount\\\"\\n          (click)=\\\"showPendingAssociations()\\\"\\n          adapt-button\\n          size=\\\"small\\\"\\n          btn-type=\\\"tertiary\\\"\\n          type=\\\"button\\\"\\n        >\\n          {{ 'com.bmc.arsys.rx.client.common.show-more.label' | translate }}\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div *ngSwitchCase=\\\"'dropdown'\\\">\\n    <div *ngIf=\\\"isEditModeEnabled()\\\" [attr.aria-label]=\\\"label\\\">\\n      <rx-select-with-pagination\\n        [formControl]=\\\"formControl\\\"\\n        [readonly]=\\\"isDisabled\\\"\\n        [label]=\\\"label\\\"\\n        [modelToViewValueAdapter]=\\\"modelToViewValueAdapterFunc\\\"\\n        [optionLoader]=\\\"optionLoaderFunc\\\"\\n        [viewToModelValueAdapter]=\\\"viewToModelValueAdapterFunc\\\"\\n      ></rx-select-with-pagination>\\n    </div>\\n  </div>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}:host{display:block}:host::ng-deep rx-runtime-view-canvas-item-container{display:flex}:host::ng-deep .rx-runtime-view-canvas-item-margin{margin-bottom:0}:host::ng-deep rx-runtime-view-canvas-item+rx-runtime-view-canvas-item{margin-left:5px}:host::ng-deep .read-state .form-control-label{font-weight:var(--font-weight-normal)}.rx-group-title{font-size:.8125rem;color:#959899;display:flex;align-items:center}.rx-preview-existing-head{margin-top:-30px}.rx-preview-count{font-size:.8125rem;color:#959899;vertical-align:middle}\\n\"], components: [{ type: i1$6.ReadOnlyFieldComponent, selector: \"rx-read-only-field\", inputs: [\"label\", \"value\"] }, { type: i1.AdaptRxControlLabelComponent, selector: \"adapt-rx-control-label\", inputs: [\"for\", \"id\", \"label\", \"subLabel\", \"requiredLabel\", \"showRequiredLabel\", \"tooltip\", \"testID\"] }, { type: i1$2.RuntimeViewCanvasOutletComponent, selector: \"rx-runtime-view-canvas-outlet\", inputs: [\"name\"] }, { type: RxRecordPreviewCardComponent, selector: \"rx-record-preview-card\", inputs: [\"config\"] }, { type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i2$5.RxSelectWithPaginationComponent, selector: \"rx-select-with-pagination\", inputs: [\"label\", \"required\", \"isMultiSelectionMode\", \"optionLoader\", \"pageSize\", \"showDefaultTitle\", \"showUncheckAll\", \"readonly\", \"template\", \"viewToModelValueAdapter\", \"modelToViewValueAdapter\", \"optionFormatter\"], outputs: [\"toggleDropdown\", \"selectionChange\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { type: i3.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i3.NgSwitchDefault, selector: \"[ngSwitchDefault]\" }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlDirective, selector: \"[formControl]\", inputs: [\"disabled\", \"formControl\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAssociationComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-association',\n                    templateUrl: './association.component.html',\n                    styleUrls: ['./association.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i3.DatePipe }, { type: i2$4.RxAssociationDefinitionService }, { type: i2$4.RxAssociationInstanceDataPageService }, { type: i1$5.RxRecordDefinitionInheritanceDataPageService }, { type: i1$5.RxRecordInstanceDataPageService }, { type: i1$5.RxRecordInstanceUtilsService }]; }, propDecorators: { selectWithPaginationComponent: [{\n                type: ViewChild,\n                args: [RxSelectWithPaginationComponent]\n            }], isDisabled: [{\n                type: HostBinding,\n                args: ['class.rx-field-disabled']\n            }] } });\n\nclass RxAssociationDefinitionAdapterService {\n    constructor(rxViewDefinitionParserService) {\n        this.rxViewDefinitionParserService = rxViewDefinitionParserService;\n    }\n    adaptDefinition(associationComponentDefinition, viewDefinition) {\n        const targetRecordEditorComponentDefinition = this.getTargetRecordEditorComponentDefinition(viewDefinition, associationComponentDefinition);\n        const childButtons = associationComponentDefinition.componentDefinitions.filter((component) => component.type === RxViewComponentType.ActionButton);\n        const childSortedButtons = sortBy(childButtons, (componentDefinition) => componentDefinition.propertiesByName.action === RX_ASSOCIATION.actions.associate ? 0 : 1);\n        associationComponentDefinition.propertiesByName.state = targetRecordEditorComponentDefinition.propertiesByName.mode;\n        associationComponentDefinition.propertiesByName.useDefaultRoles =\n            associationComponentDefinition.propertiesByName.useDefaultRoles === 'true';\n        associationComponentDefinition.propertiesByName.fields = flow((componentDefinitions) => filter$1(componentDefinitions, {\n            type: RX_ASSOCIATION.componentTypes.associatedRecordField\n        }), (componentDefinitions) => map$1(componentDefinitions, (fieldComponentDefinition) => ({\n            fieldId: fieldComponentDefinition.propertiesByName.fieldId,\n            label: fieldComponentDefinition.propertiesByName.label,\n            index: Number(fieldComponentDefinition.propertiesByName.index)\n        })), (componentDefinitions) => sortBy(componentDefinitions, 'index'))(associationComponentDefinition.componentDefinitions);\n        associationComponentDefinition.layout = JSON.stringify({\n            outlets: [\n                {\n                    name: 'DEFAULT',\n                    columns: [\n                        {\n                            children: childSortedButtons.map((component) => component.guid)\n                        }\n                    ]\n                }\n            ]\n        });\n        associationComponentDefinition.componentDefinitions\n            .filter((componentDefinition) => componentDefinition.type === RxViewComponentType.ActionButton)\n            .forEach((componentDefinition) => {\n            componentDefinition.propertiesByName.disabled =\n                associationComponentDefinition.propertiesByName.disabled +\n                    ' OR ${view.components.' +\n                    associationComponentDefinition.guid +\n                    '.isDisabled}';\n        });\n    }\n    getTargetRecordEditorComponentDefinition(viewDefinition, extensionContainerComponentDefinition) {\n        return this.rxViewDefinitionParserService.findParentComponentDefinition(viewDefinition, extensionContainerComponentDefinition, (parentComponentDefinition) => parentComponentDefinition.type === RxViewComponentType.RecordEditor);\n    }\n}\nRxAssociationDefinitionAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAssociationDefinitionAdapterService, deps: [{ token: i1$4.RxViewDefinitionParserService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxAssociationDefinitionAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAssociationDefinitionAdapterService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAssociationDefinitionAdapterService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewDefinitionParserService }]; } });\n\nclass AssociationModule {\n    constructor(rxAssociationDefinitionAdapterService, rxDefinitionAdapterRegistryService) {\n        this.rxAssociationDefinitionAdapterService = rxAssociationDefinitionAdapterService;\n        this.rxDefinitionAdapterRegistryService = rxDefinitionAdapterRegistryService;\n        this.rxDefinitionAdapterRegistryService.registerRuntimeAdapter(RxViewComponentType.Association, this.rxAssociationDefinitionAdapterService);\n    }\n}\nAssociationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationModule, deps: [{ token: RxAssociationDefinitionAdapterService }, { token: i1$1.RxDefinitionAdapterRegistryService }], target: i0.ɵɵFactoryTarget.NgModule });\nAssociationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationModule, declarations: [RxAssociationComponent, RxRecordPreviewCardComponent], imports: [AdaptButtonModule,\n        AdaptRxFormControlModule,\n        CommonModule,\n        FormsModule,\n        ReadOnlyFieldModule,\n        ReactiveFormsModule,\n        RuntimeViewCanvasModule,\n        RxSelectWithPaginationModule,\n        TranslateModule] });\nAssociationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationModule, providers: [DatePipe, RxAssociationDefinitionAdapterService], imports: [[\n            AdaptButtonModule,\n            AdaptRxFormControlModule,\n            CommonModule,\n            FormsModule,\n            ReadOnlyFieldModule,\n            ReactiveFormsModule,\n            RuntimeViewCanvasModule,\n            RxSelectWithPaginationModule,\n            TranslateModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        AdaptButtonModule,\n                        AdaptRxFormControlModule,\n                        CommonModule,\n                        FormsModule,\n                        ReadOnlyFieldModule,\n                        ReactiveFormsModule,\n                        RuntimeViewCanvasModule,\n                        RxSelectWithPaginationModule,\n                        TranslateModule\n                    ],\n                    declarations: [RxAssociationComponent, RxRecordPreviewCardComponent],\n                    entryComponents: [RxAssociationComponent, RxRecordPreviewCardComponent],\n                    providers: [DatePipe, RxAssociationDefinitionAdapterService]\n                }]\n        }], ctorParameters: function () { return [{ type: RxAssociationDefinitionAdapterService }, { type: i1$1.RxDefinitionAdapterRegistryService }]; } });\n\nclass AssociationRecordFieldSelectorEditorDialogComponent extends RxModalClass {\n    constructor(rxStringService, rxGuidService, activeModalRef, injector) {\n        super(activeModalRef, injector);\n        this.rxStringService = rxStringService;\n        this.rxGuidService = rxGuidService;\n        this.activeModalRef = activeModalRef;\n        this.injector = injector;\n        this.availableFieldTreeNodes = [];\n        this.canSave = false;\n        this.selectedFields = [];\n        this.treeWrap = TreeWrap.WrapAll;\n        this.config = this.activeModalRef.getData();\n    }\n    isDirty() {\n        return this.canSave;\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.fieldLabelsMap = transform(this.config.fields, (result, field) => {\n            result[field.id] = field.name;\n        }, {});\n        this.availableFieldTreeNodes = this.config.fields\n            .map((field) => ({\n            data: field,\n            label: field.name\n        }))\n            .sort((field1, field2) => field1.label.localeCompare(field2.label));\n        this.selectedFields = map$1(this.config.selectedFields, (field) => {\n            const descriptor = this.config.fields.find((fieldItem) => fieldItem.id === Number(field.data.fieldId));\n            return Object.assign(Object.assign({}, field), { labelText: field.data.label, indexOrder: Number(field.data.index), descriptor, isOpen: field === this.config.fieldToEdit });\n        });\n        this.refreshFieldDescriptorsList();\n    }\n    addField(field) {\n        this.canSave = true;\n        this.selectedFields.push({\n            guid: this.rxGuidService.generate(),\n            data: {\n                fieldId: String(field.id),\n                label: field.name,\n                index: String(this.selectedFields.length)\n            },\n            descriptor: field,\n            labelText: field.name,\n            indexOrder: this.selectedFields.length,\n            isOpen: true\n        });\n        this.refreshFieldDescriptorsList();\n    }\n    onSelectedFieldsListDrop(event) {\n        this.addField(event.item.data);\n    }\n    onSave() {\n        const result = this.selectedFields.map((field) => {\n            return {\n                guid: field.guid,\n                type: 'rx-associated-record-field',\n                data: {\n                    fieldId: field.data.fieldId,\n                    index: String(field.indexOrder),\n                    label: field.labelText\n                }\n            };\n        });\n        this.activeModalRef.close(result);\n    }\n    onRemove(field) {\n        this.canSave = true;\n        pull(this.selectedFields, field);\n        this.refreshFieldDescriptorsList();\n    }\n    onMoveUp(field, index) {\n        this.canSave = true;\n        const prevField = this.selectedFields[index - 1];\n        if (prevField) {\n            prevField.indexOrder++;\n            field.indexOrder--;\n            this.sortFields();\n        }\n    }\n    onMoveDown(field, index) {\n        this.canSave = true;\n        const nextAction = this.selectedFields[index + 1];\n        if (nextAction) {\n            nextAction.indexOrder--;\n            field.indexOrder++;\n            this.sortFields();\n        }\n    }\n    toggleOpen(expandAll) {\n        this.selectedFields.forEach((field) => (field.isOpen = expandAll));\n    }\n    sortFields() {\n        this.selectedFields = sortBy(this.selectedFields, (field) => field.indexOrder);\n    }\n    refreshFieldDescriptorsList() {\n        const selectedFieldIds = this.selectedFields.map((field) => String(field.data.fieldId));\n        this.filteredFieldDescriptors = this.config.fields\n            .filter((fieldDescriptor) => !includes(selectedFieldIds, String(fieldDescriptor.id)))\n            .sort((field1, field2) => field1.name.localeCompare(field2.name));\n    }\n    cancel() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n}\nAssociationRecordFieldSelectorEditorDialogComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationRecordFieldSelectorEditorDialogComponent, deps: [{ token: i2$1.RxStringService }, { token: i2$1.RxGuidService }, { token: i1.ActiveModalRef }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nAssociationRecordFieldSelectorEditorDialogComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: AssociationRecordFieldSelectorEditorDialogComponent, selector: \"rx-association-record-field-selector-editor-dialog\", usesInheritance: true, ngImport: i0, template: \"<div class=\\\"designer-modal-body modal-body d-flex mh-100\\\">\\n  <div class=\\\"row flex-grow-1 w-100\\\">\\n    <div *ngIf=\\\"!config.isReadOnly\\\" class=\\\"col-4 border-right d-flex flex-column mh-100\\\">\\n      <div class=\\\"d-flex align-items-start justify-content-between\\\">\\n        <h4 class=\\\"mt-2\\\">Available fields</h4>\\n      </div>\\n\\n      <div class=\\\"rx-card card flex-grow-1 mt-2\\\">\\n        <div class=\\\"card-block\\\">\\n          <div\\n            *ngIf=\\\"availableFieldTreeNodes.length; else adaptTreeEmptyStateTemplate\\\"\\n            cdkDropList\\n            cdkDropListSortingDisabled\\n            [cdkDropListConnectedTo]=\\\"['selected-fields']\\\"\\n          >\\n            <adapt-tree [value]=\\\"availableFieldTreeNodes\\\" filter=\\\"true\\\" [wrap]=\\\"treeWrap\\\">\\n              <ng-template let-field adaptTreeNodeTemplate>\\n                <div *ngIf=\\\"field.data\\\" class=\\\"rx-tree-draggable-node\\\" cdkDrag [cdkDragData]=\\\"field.data\\\">\\n                  <div (dblclick)=\\\"addField(field.data)\\\">\\n                    <button\\n                      type=\\\"button\\\"\\n                      class=\\\"rx-button-unstyled d-icon-plus_circle\\\"\\n                      (click)=\\\"addField(field.data)\\\"\\n                    ></button>\\n\\n                    <span class=\\\"rx-tree-node-label ml-3\\\">{{ field.data.name }}</span>\\n                  </div>\\n                </div>\\n              </ng-template>\\n            </adapt-tree>\\n          </div>\\n\\n          <ng-template #adaptTreeEmptyStateTemplate>\\n            <div class=\\\"d-flex justify-content-center h-100 align-items-center mt-2\\\">\\n              <adapt-empty-state class=\\\"w-100\\\" label=\\\"No fields found\\\" type=\\\"search\\\"></adapt-empty-state>\\n            </div>\\n          </ng-template>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"d-flex flex-column mh-100 {{ config.isReadOnly ? 'col' : 'col-8' }}\\\">\\n      <div class=\\\"d-flex align-items-start justify-content-between\\\">\\n        <h4 class=\\\"mt-2\\\">Selected fileds</h4>\\n\\n        <div *ngIf=\\\"selectedFields.length\\\" class=\\\"btn-group\\\">\\n          <button adapt-button btn-type=\\\"tertiary\\\" type=\\\"button\\\" rx-id=\\\"expand-all-button\\\" (click)=\\\"toggleOpen(true)\\\">\\n            {{ 'com.bmc.arsys.rx.client.common.expand-all.label' | translate }}\\n          </button>\\n\\n          <button\\n            adapt-button\\n            btn-type=\\\"tertiary\\\"\\n            type=\\\"button\\\"\\n            rx-id=\\\"collapse-all-button\\\"\\n            (click)=\\\"toggleOpen(false)\\\"\\n          >\\n            {{ 'com.bmc.arsys.rx.client.common.collapse-all.label' | translate }}\\n          </button>\\n        </div>\\n      </div>\\n\\n      <div\\n        id=\\\"selected-fields\\\"\\n        class=\\\"designer-modal-accordion-wrapper\\\"\\n        cdkDropList\\n        (cdkDropListDropped)=\\\"onSelectedFieldsListDrop($event)\\\"\\n      >\\n        <adapt-accordion [multiselect]=\\\"true\\\">\\n          <div\\n            *ngFor=\\\"let field of selectedFields; let index = index; let first = first; let last = last\\\"\\n            class=\\\"designer-modal-accordion-content\\\"\\n            cdkDrag\\n            cdkDragLockAxis=\\\"y\\\"\\n            [cdkDragDisabled]=\\\"true\\\"\\n          >\\n            <adapt-accordion-tab\\n              class=\\\"d-block\\\"\\n              [isOpen]=\\\"field.isOpen\\\"\\n              (open)=\\\"field.isOpen = true\\\"\\n              (close)=\\\"field.isOpen = false\\\"\\n            >\\n              <div class=\\\"card-title-text w-100\\\">\\n                <div class=\\\"designer-modal-card-title-content\\\">\\n                  <div class=\\\"left-header-block pl-0\\\">\\n                    <div class=\\\"rx-ellipsis\\\" [title]=\\\"fieldLabelsMap[field.data.fieldId]\\\" rx-id=\\\"card-title\\\">\\n                      {{ fieldLabelsMap[field.data.fieldId] }}\\n                    </div>\\n                  </div>\\n\\n                  <div *ngIf=\\\"!config.isReadOnly\\\" class=\\\"right-header-block\\\">\\n                    <div class=\\\"designer-modal-card-title-index-buttons\\\">\\n                      <button\\n                        class=\\\"d-icon-left-triangle_down rx-button-unstyled\\\"\\n                        type=\\\"button\\\"\\n                        [disabled]=\\\"last\\\"\\n                        (click)=\\\"$event.stopPropagation(); onMoveDown(field, index)\\\"\\n                        rx-id=\\\"move-down-button\\\"\\n                      ></button>\\n\\n                      <button\\n                        class=\\\"d-icon-left-triangle_up rx-button-unstyled\\\"\\n                        type=\\\"button\\\"\\n                        [disabled]=\\\"first\\\"\\n                        (click)=\\\"$event.stopPropagation(); onMoveUp(field, index)\\\"\\n                        rx-id=\\\"move-up-button\\\"\\n                      ></button>\\n                    </div>\\n\\n                    <button\\n                      class=\\\"d-icon-left-cross_adapt p-1 pr-4 ml-3\\\"\\n                      adapt-button\\n                      size=\\\"small\\\"\\n                      type=\\\"button\\\"\\n                      (click)=\\\"onRemove(field)\\\"\\n                      rx-id=\\\"remove-button\\\"\\n                    >\\n                      {{ 'com.bmc.arsys.rx.client.common.remove.label' | translate }}\\n                    </button>\\n                  </div>\\n                </div>\\n              </div>\\n\\n              <adapt-rx-textfield\\n                class=\\\"text-aria-resize\\\"\\n                label=\\\"Label\\\"\\n                [(ngModel)]=\\\"field.labelText\\\"\\n                (ngModelChange)=\\\"canSave = true\\\"\\n              >\\n              </adapt-rx-textfield>\\n            </adapt-accordion-tab>\\n          </div>\\n        </adapt-accordion>\\n      </div>\\n\\n      <div *ngIf=\\\"!selectedFields.length\\\" class=\\\"d-flex justify-content-center h-100 align-items-center mt-2\\\">\\n        <adapt-empty-state class=\\\"w-100\\\" label=\\\"No fields selected\\\" type=\\\"config\\\"></adapt-empty-state>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button\\n    *ngIf=\\\"!config.isReadOnly\\\"\\n    adapt-button\\n    btn-type=\\\"primary\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"save-button\\\"\\n    [disabled]=\\\"!canSave\\\"\\n    (click)=\\\"onSave()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n\\n  <button adapt-button btn-type=\\\"secondary\\\" type=\\\"button\\\" rx-id=\\\"cancel-button\\\" (click)=\\\"cancel()\\\">\\n    {{\\n      config.isReadOnly\\n        ? ('com.bmc.arsys.rx.client.common.close.label' | translate)\\n        : ('com.bmc.arsys.rx.client.common.cancel.label' | translate)\\n    }}\\n  </button>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.designer-modal-body{height:645px;min-height:calc(100% - 61px)!important}.designer-modal-accordion-wrapper{display:flex;flex-direction:column;height:100%;overflow:auto;padding-top:10px}.designer-modal-accordion-content{position:relative}.designer-modal-accordion-content.cdk-drag-preview{z-index:1200!important}.designer-modal-drag-handle{cursor:move;position:absolute;top:0;left:0;height:46px;padding:14px 10px 14px 14px;z-index:1}.designer-modal-card-title-content{width:100%;display:flex}.designer-modal-card-title-content .left-header-block,.designer-modal-card-title-content .right-header-block{display:flex;align-items:center}.designer-modal-card-title-content .left-header-block{flex-grow:1;min-width:0;font-size:14px;padding-left:22px}.designer-modal-card-sub-title{color:#7c7f81;font-weight:normal}.designer-modal-card-title-index-buttons{display:flex;font-size:19px}.rx-card{overflow:auto}.rx-tree-draggable-node{cursor:pointer}.rx-tree-draggable-node.cdk-drag-preview{z-index:1200!important}.rx-tree-draggable-node.cdk-drag{opacity:1}.rx-tree-node-label{word-break:break-all}rx-form-builder{max-width:400px}\\n\"], components: [{ type: i1.AdaptTreeComponent, selector: \"adapt-tree\", inputs: [\"value\", \"filter\", \"texts\", \"filterBtnClearText\", \"filterPlaceholder\", \"testID\", \"lazy\", \"lazyLoading\", \"trim\", \"wrap\", \"selectAllButton\", \"deselectAllButton\", \"treeScrollHeight\", \"adaptRadarDisableEventSending\", \"draggableScope\", \"droppableScope\", \"draggableNodes\", \"droppableNodes\", \"validateDrop\"], outputs: [\"onNodeDrop\", \"lazyLoad\"] }, { type: i1.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }, { type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1.AdaptAccordionComponent, selector: \"adapt-accordion\", inputs: [\"config\", \"multiselect\", \"bordered\"], outputs: [\"openTab\", \"closeTab\"] }, { type: i1.AdaptAccordionTabComponent, selector: \"adapt-accordion-tab\", inputs: [\"title\", \"renderContentWhenClosed\", \"customClass\", \"multiline\", \"icon\", \"disabled\", \"isOpen\"], outputs: [\"open\", \"close\"] }, { type: i1.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i8.CdkDropList, selector: \"[cdkDropList], cdk-drop-list\", inputs: [\"cdkDropListConnectedTo\", \"id\", \"cdkDropListEnterPredicate\", \"cdkDropListSortPredicate\", \"cdkDropListDisabled\", \"cdkDropListSortingDisabled\", \"cdkDropListAutoScrollDisabled\", \"cdkDropListOrientation\", \"cdkDropListLockAxis\", \"cdkDropListData\", \"cdkDropListAutoScrollStep\"], outputs: [\"cdkDropListDropped\", \"cdkDropListEntered\", \"cdkDropListExited\", \"cdkDropListSorted\"], exportAs: [\"cdkDropList\"] }, { type: i1.AdaptTreeNodeTemplateDirective, selector: \"[adaptTreeNodeTemplate]\", inputs: [\"adaptTreeNodeTemplate\"] }, { type: i8.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragDisabled\", \"cdkDragStartDelay\", \"cdkDragLockAxis\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragBoundary\", \"cdkDragRootElement\", \"cdkDragPreviewContainer\", \"cdkDragData\", \"cdkDragFreeDragPosition\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationRecordFieldSelectorEditorDialogComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-association-record-field-selector-editor-dialog',\n                    templateUrl: './association-record-field-selector-editor-dialog.component.html',\n                    styleUrls: ['./association-record-field-selector-editor-dialog.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i2$1.RxStringService }, { type: i2$1.RxGuidService }, { type: i1.ActiveModalRef }, { type: i0.Injector }]; } });\n\nclass AssociationRecordFieldSelectorFormControlComponent extends ValueAccessor {\n    constructor(rxModalService, renderer) {\n        super();\n        this.rxModalService = rxModalService;\n        this.renderer = renderer;\n        this.selectedFields = [];\n    }\n    focus() {\n        this.renderer.selectRootElement(this.openModalButton.nativeElement, true).click();\n    }\n    openFieldSelector(fieldToEdit) {\n        this.rxModalService\n            .openModal({\n            title: this.options.label,\n            data: {\n                fields: this.options.fields,\n                selectedFields: this.value,\n                fieldToEdit: fieldToEdit,\n                isReadOnly: this.isDisabled\n            },\n            content: AssociationRecordFieldSelectorEditorDialogComponent\n        })\n            .then((fields) => {\n            this.value = fields;\n        })\n            .catch(noop);\n    }\n    onSetValue() {\n        this.updateSortedFieldList();\n    }\n    onWriteValue(value) {\n        this.updateSortedFieldList();\n    }\n    removeField(guid) {\n        this.value = this.value.filter((field) => field.guid !== guid);\n    }\n    editField(field) {\n        this.openFieldSelector(field);\n    }\n    updateSortedFieldList() {\n        this.selectedFields = sortBy(this.value, (field) => Number(field.data.index)).map((field) => (Object.assign(Object.assign({}, field), { label: this.options.fields.find((fieldDefinition) => fieldDefinition.id === Number(field.data.fieldId)).name })));\n    }\n}\nAssociationRecordFieldSelectorFormControlComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationRecordFieldSelectorFormControlComponent, deps: [{ token: i1$6.RxModalService }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Component });\nAssociationRecordFieldSelectorFormControlComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: AssociationRecordFieldSelectorFormControlComponent, selector: \"rx-association-record-field-selector-form-control\", inputs: { options: \"options\" }, providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: AssociationRecordFieldSelectorFormControlComponent,\n            multi: true\n        }\n    ], viewQueries: [{ propertyName: \"openModalButton\", first: true, predicate: [\"openModalButton\"], descendants: true, read: ElementRef, static: true }], usesInheritance: true, ngImport: i0, template: \"<button\\n  #openModalButton\\n  adapt-button\\n  type=\\\"button\\\"\\n  class=\\\"px-0 py-0\\\"\\n  btn-type=\\\"tertiary\\\"\\n  (click)=\\\"openFieldSelector()\\\"\\n  [disabled]=\\\"isDisabled\\\"\\n>\\n  <adapt-icon name=\\\"plus_circle\\\" class=\\\"mr-1\\\"></adapt-icon>\\n  {{ options.label }}\\n</button>\\n\\n<ul class=\\\"list-unstyled mb-0 mt-2\\\" *ngIf=\\\"selectedFields.length > 0\\\">\\n  <li class=\\\"border px-2 py-1 mb-1 d-flex align-items-center\\\" *ngFor=\\\"let field of selectedFields\\\">\\n    <strong class=\\\"mr-auto\\\">{{ field.label }}</strong>\\n\\n    <button\\n      class=\\\"d-icon-left-pencil p-1\\\"\\n      adapt-button\\n      btn-type=\\\"tertiary\\\"\\n      size=\\\"small\\\"\\n      type=\\\"button\\\"\\n      [disabled]=\\\"isDisabled\\\"\\n      (click)=\\\"editField(field)\\\"\\n    ></button>\\n\\n    <button\\n      class=\\\"d-icon-left-cross_adapt p-1\\\"\\n      adapt-button\\n      btn-type=\\\"tertiary\\\"\\n      size=\\\"small\\\"\\n      type=\\\"button\\\"\\n      [disabled]=\\\"isDisabled\\\"\\n      (click)=\\\"removeField(field.guid)\\\"\\n    ></button>\\n  </li>\\n</ul>\\n\", components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1.AdaptIconComponent, selector: \"adapt-icon\", inputs: [\"name\", \"classList\", \"description\", \"testID\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationRecordFieldSelectorFormControlComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-association-record-field-selector-form-control',\n                    templateUrl: './association-record-field-selector-form-control.component.html',\n                    providers: [\n                        {\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: AssociationRecordFieldSelectorFormControlComponent,\n                            multi: true\n                        }\n                    ]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$6.RxModalService }, { type: i0.Renderer2 }]; }, propDecorators: { options: [{\n                type: Input\n            }], openModalButton: [{\n                type: ViewChild,\n                args: ['openModalButton', { read: ElementRef, static: true }]\n            }] } });\n\nclass AssociationRecordFieldSelectorEditorDialogModule {\n}\nAssociationRecordFieldSelectorEditorDialogModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationRecordFieldSelectorEditorDialogModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nAssociationRecordFieldSelectorEditorDialogModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationRecordFieldSelectorEditorDialogModule, declarations: [AssociationRecordFieldSelectorEditorDialogComponent], imports: [CommonModule,\n        AdaptRxSearchModule,\n        AdaptButtonModule,\n        AdaptAccordionModule,\n        FormsModule,\n        AdaptRxTextfieldModule,\n        DragDropModule,\n        AdaptTreeModule,\n        AdaptEmptyStateModule,\n        TranslateModule], exports: [AssociationRecordFieldSelectorEditorDialogComponent] });\nAssociationRecordFieldSelectorEditorDialogModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationRecordFieldSelectorEditorDialogModule, imports: [[\n            CommonModule,\n            AdaptRxSearchModule,\n            AdaptButtonModule,\n            AdaptAccordionModule,\n            FormsModule,\n            AdaptRxTextfieldModule,\n            DragDropModule,\n            AdaptTreeModule,\n            AdaptEmptyStateModule,\n            TranslateModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationRecordFieldSelectorEditorDialogModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [AssociationRecordFieldSelectorEditorDialogComponent],\n                    exports: [AssociationRecordFieldSelectorEditorDialogComponent],\n                    entryComponents: [AssociationRecordFieldSelectorEditorDialogComponent],\n                    imports: [\n                        CommonModule,\n                        AdaptRxSearchModule,\n                        AdaptButtonModule,\n                        AdaptAccordionModule,\n                        FormsModule,\n                        AdaptRxTextfieldModule,\n                        DragDropModule,\n                        AdaptTreeModule,\n                        AdaptEmptyStateModule,\n                        TranslateModule\n                    ]\n                }]\n        }] });\n\nclass AssociationRecordFieldSelectorFormControlModule {\n}\nAssociationRecordFieldSelectorFormControlModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationRecordFieldSelectorFormControlModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nAssociationRecordFieldSelectorFormControlModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationRecordFieldSelectorFormControlModule, declarations: [AssociationRecordFieldSelectorFormControlComponent], imports: [CommonModule,\n        FormsModule,\n        AdaptButtonModule,\n        AdaptIconModule,\n        AssociationRecordFieldSelectorEditorDialogModule], exports: [AssociationRecordFieldSelectorFormControlComponent] });\nAssociationRecordFieldSelectorFormControlModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationRecordFieldSelectorFormControlModule, imports: [[\n            CommonModule,\n            FormsModule,\n            AdaptButtonModule,\n            AdaptIconModule,\n            AssociationRecordFieldSelectorEditorDialogModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationRecordFieldSelectorFormControlModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [AssociationRecordFieldSelectorFormControlComponent],\n                    exports: [AssociationRecordFieldSelectorFormControlComponent],\n                    entryComponents: [AssociationRecordFieldSelectorFormControlComponent],\n                    imports: [\n                        CommonModule,\n                        FormsModule,\n                        AdaptButtonModule,\n                        AdaptIconModule,\n                        AssociationRecordFieldSelectorEditorDialogModule\n                    ]\n                }]\n        }] });\n\nclass AssociationDesignHelperService {\n    constructor(rxRecordDefinitionCacheService, rxAssociationDefinitionDataPageService, rxGuidService, rxDefinitionNameService) {\n        this.rxRecordDefinitionCacheService = rxRecordDefinitionCacheService;\n        this.rxAssociationDefinitionDataPageService = rxAssociationDefinitionDataPageService;\n        this.rxGuidService = rxGuidService;\n        this.rxDefinitionNameService = rxDefinitionNameService;\n    }\n    getDropdownModeInspectorControls(recordDefinitionField, associationDefinitionFilters) {\n        return [\n            {\n                name: 'fieldId',\n                component: SelectFormControlComponent,\n                options: {\n                    label: 'Field to display',\n                    options: recordDefinitionField\n                        ? recordDefinitionField\n                            .filter((associationDefinitionField) => [\n                            RX_RECORD_DEFINITION.resourceTypes.character,\n                            RX_RECORD_DEFINITION.resourceTypes.localizedCharacter\n                        ].includes(associationDefinitionField.resourceType))\n                            .map((associationDefinitionField) => ({\n                            id: String(associationDefinitionField.id),\n                            name: associationDefinitionField.name\n                        }))\n                        : [],\n                    emptyOption: true,\n                    required: true\n                }\n            },\n            {\n                name: 'filterByAssociation',\n                component: SelectFormControlComponent,\n                options: {\n                    label: 'Filter by association',\n                    options: associationDefinitionFilters\n                        ? associationDefinitionFilters.map((associationDefinition) => ({\n                            id: associationDefinition.name,\n                            name: this.rxDefinitionNameService.getDisplayName(associationDefinition.name)\n                        }))\n                        : [],\n                    emptyOption: true\n                }\n            }\n        ];\n    }\n    getDisplayedFieldsControl(recordDefinitionFields) {\n        return {\n            name: 'displayedFields',\n            component: AssociationRecordFieldSelectorFormControlComponent,\n            options: {\n                label: 'Show/Hide fields',\n                fields: recordDefinitionFields,\n                required: true\n            }\n        };\n    }\n    getRecordIdControl() {\n        return {\n            name: 'recordId',\n            component: ExpressionInspectorControlComponent,\n            options: {\n                label: 'Record ID',\n                isRequired: true\n            }\n        };\n    }\n    getUseDefaultRolesControl() {\n        return {\n            name: 'useDefaultRoles',\n            component: SwitchFormControlComponent,\n            options: {\n                label: 'Use default roles'\n            }\n        };\n    }\n    getNodeABRoleControls() {\n        return [\n            {\n                name: 'nodeARole',\n                component: ExpressionInspectorControlComponent,\n                options: {\n                    label: 'First record role'\n                }\n            },\n            {\n                name: 'nodeBRole',\n                component: ExpressionInspectorControlComponent,\n                options: {\n                    label: 'Second record role'\n                }\n            }\n        ];\n    }\n    getViewModeInspectorControls() {\n        return [\n            {\n                name: 'viewDefinitionNameForSelect',\n                component: RxDefinitionPickerComponent,\n                options: {\n                    label: 'View for selecting associated records',\n                    definitionType: RxDefinitionPickerType.View,\n                    required: true\n                }\n            },\n            {\n                name: 'viewDefinitionNameForCreate',\n                component: RxDefinitionPickerComponent,\n                options: {\n                    label: 'View for creating associated records',\n                    definitionType: RxDefinitionPickerType.View\n                }\n            }\n        ];\n    }\n    getInitialInspectorControls(expressionConfigurator) {\n        return [\n            {\n                name: 'label',\n                component: TextFormControlComponent,\n                options: {\n                    label: 'Display label'\n                }\n            },\n            getDisabledFieldInspectorConfig(),\n            ...getStandardPropsInspectorConfigs()\n        ];\n    }\n    getInitialProperties() {\n        return Object.assign(Object.assign({ associatedRecordNodeSide: '', associationDefinitionName: '', displayedFields: [], editingMode: RxAssociationEditingMode.Views, fieldId: null, filterByAssociation: '', label: null, nodeARole: '', nodeBRole: '', recordDefinition: '', recordDefinitionName: '', recordId: '', recordInstance: '', useDefaultRoles: true, viewDefinitionNameForCreate: '', viewDefinitionNameForSelect: '' }, RX_DISABLED_PROP_DEFAULT_VALUE), RX_STANDARD_PROPS_DEFAULT_VALUES);\n    }\n    getActionButtonDefinition(componentProperties, action, parentGuid) {\n        return {\n            type: RxViewComponentType.ActionButton,\n            guid: this.rxGuidService.generate(),\n            propertiesByName: {\n                labelKey: action === RX_ASSOCIATION.actions.associate\n                    ? 'com.bmc.arsys.rx.client.view-components.record-editor.association.button.associate.label'\n                    : 'com.bmc.arsys.rx.client.view-components.record-editor.association.button.create-new.label',\n                style: 'secondary',\n                action\n            },\n            children: [\n                {\n                    guid: this.rxGuidService.generate(),\n                    type: RxViewComponentType.Action,\n                    propertiesByName: {\n                        name: 'rxAvcAssociate',\n                        associationViewComponent: `\\${view.components.${parentGuid}.api}`,\n                        viewDefinitionName: action === RX_ASSOCIATION.actions.associate\n                            ? componentProperties.viewDefinitionNameForSelect\n                            : componentProperties.viewDefinitionNameForCreate\n                    }\n                }\n            ],\n            insertIndex: action === RX_ASSOCIATION.actions.associate ? 0 : 1\n        };\n    }\n    isCardinalityOne(componentProperties, associationDefinitions) {\n        const associationDefinition = associationDefinitions.find((association) => association.name === componentProperties.associationDefinitionName);\n        return Boolean(associationDefinition &&\n            (associationDefinition.cardinality === RX_ASSOCIATION_DEFINITION.cardinality.oneToOne.value ||\n                (associationDefinition.cardinality === RX_ASSOCIATION_DEFINITION.cardinality.oneToMany.value &&\n                    componentProperties.associatedRecordNodeSide === RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.value)));\n    }\n    getAvailableAssociations(firstRecordDefinitionName, secondRecordDefinitionName) {\n        const getParametersForAssociation = {\n            headers: { 'default-bundle-scope': '' },\n            params: { firstRecordDefinitionName, secondRecordDefinitionName, requireDependent: true }\n        };\n        return this.rxAssociationDefinitionDataPageService\n            .get(getParametersForAssociation)\n            .pipe(map((response) => response.data));\n    }\n    getRecordDefinition(recordDefinitionToAssociateName) {\n        return this.rxRecordDefinitionCacheService.getRecordDefinition(recordDefinitionToAssociateName);\n    }\n    getFieldsInChildComponentsWithNames(components, availableFields) {\n        return components.reduce((acc, definition) => {\n            const fieldDescriptor = availableFields.find((fieldDescriptorItem) => fieldDescriptorItem.id === Number(definition.data.fieldId));\n            acc.push(Object.assign(Object.assign({}, definition), { data: Object.assign(Object.assign({}, definition.data), { name: fieldDescriptor ? fieldDescriptor.name : definition.data.label }) }));\n            return acc;\n        }, []);\n    }\n    cleanEditingModeDependentData(componentProperties) {\n        if (componentProperties.editingMode === RxAssociationEditingMode.Dropdown) {\n            componentProperties.viewDefinitionNameForSelect = null;\n            componentProperties.viewDefinitionNameForCreate = null;\n            componentProperties.displayedFields = [];\n        }\n        else {\n            componentProperties.filterByAssociation = null;\n            componentProperties.recordId = null;\n            componentProperties.fieldId = null;\n        }\n    }\n    getNodeSideOptions(associationDefinition) {\n        return associationDefinition.nodeAId === associationDefinition.nodeBId\n            ? [\n                {\n                    id: RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.value,\n                    name: associationDefinition.nodeAName || RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.defaultName\n                },\n                {\n                    id: RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value,\n                    name: associationDefinition.nodeBName || RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.defaultName\n                }\n            ]\n            : [];\n    }\n    resetRolesData(componentProperties) {\n        componentProperties.useDefaultRoles = false;\n        componentProperties.nodeARole = null;\n        componentProperties.nodeBRole = null;\n    }\n    validate(sandbox, properties, associationDefinition, childComponents) {\n        const validationIssues = [];\n        if (!properties.recordDefinitionName) {\n            validationIssues.push(sandbox.createError('Record definition to associate cannot be blank.', 'recordDefinitionName'));\n        }\n        if (properties.recordDefinitionName && !properties.associationDefinitionName) {\n            validationIssues.push(sandbox.createError('Association to Use cannot be blank.', 'associationDefinitionName'));\n        }\n        if (properties.associationDefinitionName) {\n            if (associationDefinition.nodeAId === associationDefinition.nodeBId && !properties.associatedRecordNodeSide) {\n                validationIssues.push(sandbox.createError('Associated Record Node Side cannot be blank.', 'fieldId'));\n            }\n        }\n        if (properties.editingMode === RxAssociationEditingMode.Views || !properties.editingMode) {\n            if (properties.recordDefinitionName && childComponents.displayedFields.length === 0) {\n                validationIssues.push(sandbox.createError('Preview Fields cannot be empty.', 'displayedFields'));\n            }\n            if (!properties.viewDefinitionNameForSelect) {\n                validationIssues.push(sandbox.createError('View for selecting associated records cannot be blank.', 'viewDefinitionNameForSelect'));\n            }\n        }\n        else if (properties.editingMode === RxAssociationEditingMode.Dropdown) {\n            if (properties.filterByAssociation && !childComponents.recordId) {\n                validationIssues.push(sandbox.createError('Record ID cannot be blank.', 'recordId'));\n            }\n            if (!properties.fieldId) {\n                validationIssues.push(sandbox.createError('Field to display cannot be blank.', 'fieldId'));\n            }\n        }\n        validationIssues.push(...validateStandardProps(properties));\n        return validationIssues;\n    }\n}\nAssociationDesignHelperService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationDesignHelperService, deps: [{ token: i1$5.RxRecordDefinitionCacheService }, { token: i2$4.RxAssociationDefinitionDataPageService }, { token: i2$1.RxGuidService }, { token: i1$1.RxDefinitionNameService }], target: i0.ɵɵFactoryTarget.Injectable });\nAssociationDesignHelperService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationDesignHelperService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationDesignHelperService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$5.RxRecordDefinitionCacheService }, { type: i2$4.RxAssociationDefinitionDataPageService }, { type: i2$1.RxGuidService }, { type: i1$1.RxDefinitionNameService }]; } });\n\nclass AssociationDesignModel extends ViewDesignerComponentModel {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.injector = injector;\n        this.sandbox = sandbox;\n        this.rxAssociationDefinitionCacheService = this.injector.get(RxAssociationDefinitionCacheService);\n        this.rxGuidService = this.injector.get(RxGuidService);\n        this.rxDefinitionNameService = this.injector.get(RxDefinitionNameService);\n        this.associationDesignHelperService = this.injector.get(AssociationDesignHelperService);\n        this.updateInspector$ = new Subject();\n        this.childComponents$ = this.sandbox.getChildComponentsTree();\n        this.associationChildComponentsData$ = this.getChildComponentsData();\n        this.associationDefinitions = [];\n        this.associationDefinitionFilters = [];\n        this.recordDefinitionFields = [];\n        this.associatedRecordNodeSide = [];\n        this.isManyToManyAssociation = false;\n        this.editingMode$ = this.sandbox.getComponentPropertyValue('editingMode');\n        this.label$ = this.sandbox.getComponentPropertyValue('label');\n        // TODO: performance\n        this.updateInspector$\n            .pipe(distinctUntilChanged(isEqual), takeUntil(this.sandbox.destroyed$))\n            .subscribe((inspector) => {\n            this.sandbox.updateInspectorConfig(inspector);\n        });\n        const recordDefinitionName$ = sandbox.getComponentPropertyValue('recordDefinitionName');\n        const recordDefinitionFields$ = recordDefinitionName$.pipe(switchMap((recordDefinitionName) => recordDefinitionName ? this.updateRecordDefinitionFields(recordDefinitionName) : of([])));\n        this.displayedFields$ = combineLatest([\n            this.sandbox.getChildComponents((component) => component.type === RX_ASSOCIATION.componentTypes.associatedRecordField),\n            recordDefinitionFields$\n        ]).pipe(map(([components, availableFields]) => this.associationDesignHelperService.getFieldsInChildComponentsWithNames(components, availableFields)));\n        this.recordEditorGuid$ = this.sandbox.getParentComponentGuid(RxViewComponentType.RecordEditor).pipe(take(1));\n        this.otherAssociationRecordEditorComponentGuids$ = this.recordEditorGuid$.pipe(map((guid) => this.sandbox.getComponentModel(guid)), switchMap((model) => model.associationComponentGuids$.pipe(map((guids) => guids.filter((guid) => guid !== this.sandbox.guid)))), shareReplay(1), takeUntil(this.sandbox.destroyed$));\n        this.recordDefinitionNameFromHostRecordEditor$ = this.recordEditorGuid$.pipe(switchMap((recordEditorGuid) => {\n            return this.sandbox.getComponentPropertyValue('recordDefinitionName', recordEditorGuid);\n        }), shareReplay(1));\n        this.recordDefinitionNameFromHostRecordEditor$\n            .pipe(switchMap((recordDefinitionRecordEditorName) => recordDefinitionRecordEditorName\n            ? combineLatest([this.sandbox.componentProperties$, this.associationChildComponentsData$]).pipe(switchMap(([componentProperties, associationChildComponentsData]) => {\n                const updateParameters = recordDefinitionRecordEditorName\n                    ? this.generateInitialUpdateParameters(componentProperties)\n                    : [];\n                const updateParameters$ = updateParameters.length > 0 ? combineLatest(updateParameters) : of(null);\n                return updateParameters$.pipe(map(() => ({\n                    componentProperties: Object.assign(Object.assign({}, associationChildComponentsData), componentProperties),\n                    recordDefinitionRecordEditorName\n                })));\n            }), take(1))\n            : of({\n                componentProperties: null,\n                recordDefinitionRecordEditorName: null\n            })), withLatestFrom(this.recordEditorGuid$), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([{ componentProperties, recordDefinitionRecordEditorName }, recordEditorGuid]) => {\n            const initialProperties = this.associationDesignHelperService.getInitialProperties();\n            const properties = Object.assign(Object.assign(Object.assign({}, initialProperties), componentProperties), { useDefaultRoles: Boolean((componentProperties === null || componentProperties === void 0 ? void 0 : componentProperties.useDefaultRoles) === 'true') });\n            this.recordEditorGuid = recordEditorGuid;\n            this.sandbox.updateComponentProperties(properties);\n            this.updateInspector$.next(this.getInspectorConfig(properties, recordDefinitionRecordEditorName, recordEditorGuid));\n        });\n        const childComponentGuids$ = this.childComponents$.pipe(map((components) => components.map((component) => component.guid)));\n        this.sandbox\n            .getComponentPropertyValue('recordDefinitionName')\n            .pipe(skip(1), withLatestFrom(childComponentGuids$), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([recordDefinitionName, childComponentGuids]) => {\n            this.sandbox.updateComponentProperties({\n                recordDefinitionName,\n                label: null,\n                associationDefinitionName: null,\n                associatedRecordNodeSide: null,\n                editingMode: RxAssociationEditingMode.Views,\n                viewDefinitionNameForSelect: null,\n                viewDefinitionNameForCreate: null,\n                fieldId: null,\n                useDefaultRoles: false,\n                nodeARole: null,\n                nodeBRole: null,\n                displayedFields: [],\n                filterByAssociation: null,\n                recordId: null\n            });\n            this.sandbox.removeComponents(childComponentGuids);\n        });\n        this.sandbox\n            .getComponentPropertyValue('recordDefinitionName')\n            .pipe(skip(1), concatMapTo(this.sandbox.componentProperties$), concatMap((props) => combineLatest([\n            this.updateAssociationDefinitionsOptions(props.recordDefinitionName),\n            this.updateRecordDefinitionFields(props.recordDefinitionName),\n            this.updateAssociationDefinitionsFilterOptions(props.recordDefinitionName),\n            this.updateAssociationNodeSideOptions(props.associationDefinitionName),\n            this.updatePreviousDropdownFieldDefinition(props.recordDefinitionName, props.fieldId)\n        ]).pipe(take(1), mapTo(props))), withLatestFrom(this.recordDefinitionNameFromHostRecordEditor$, this.recordEditorGuid$), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([componentProps, recordDefinitionNameFromHostRecordEditor, recordEditorGuid]) => {\n            this.updateInspector$.next(this.getInspectorConfig(componentProps, recordDefinitionNameFromHostRecordEditor, recordEditorGuid));\n        });\n        this.sandbox\n            .getComponentPropertyValue('editingMode')\n            .pipe(skip(1), withLatestFrom(childComponentGuids$), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([editingMode, childComponentGuids]) => {\n            this.sandbox.updateComponentProperties({\n                editingMode,\n                viewDefinitionNameForSelect: null,\n                viewDefinitionNameForCreate: null,\n                fieldId: null,\n                useDefaultRoles: false,\n                nodeARole: null,\n                nodeBRole: null,\n                displayedFields: [],\n                filterByAssociation: null,\n                recordId: null\n            });\n            this.sandbox.removeComponents(childComponentGuids);\n        });\n        this.sandbox.componentProperties$\n            .pipe(skip(1), pairwise(), withLatestFrom(this.childComponents$), switchMap(([[previousProperties, properties], children]) => {\n            const updatedProperties = Object.assign({}, properties);\n            const updatedParametersStreams = [];\n            switch (true) {\n                case previousProperties.viewDefinitionNameForSelect !== properties.viewDefinitionNameForSelect:\n                    this.updateChildActionButtonDefinition(properties, children, RX_ASSOCIATION.actions.associate);\n                    break;\n                case previousProperties.viewDefinitionNameForCreate !== properties.viewDefinitionNameForCreate:\n                    this.updateChildActionButtonDefinition(properties, children, RX_ASSOCIATION.actions.createAndAssociate);\n                    break;\n                case previousProperties.filterByAssociation !== properties.filterByAssociation:\n                case previousProperties.recordId !== properties.recordId:\n                    const filterComponent = children.find((component) => component.type === RX_ASSOCIATION.componentTypes.associationFilter);\n                    this.updateAssociationFilterComponent(properties, filterComponent);\n                    break;\n                case !isEqual(previousProperties.displayedFields, properties.displayedFields):\n                    this.updateComponentRecordFields(properties.displayedFields, children);\n                    break;\n                case previousProperties.associationDefinitionName !== properties.associationDefinitionName:\n                    updatedProperties.editingMode = RxAssociationEditingMode.Views;\n                    this.associationDesignHelperService.cleanEditingModeDependentData(updatedProperties);\n                    if (properties.associationDefinitionName) {\n                        updatedParametersStreams.push(this.rxAssociationDefinitionCacheService\n                            .getAssociationDefinition(properties.associationDefinitionName)\n                            .pipe(map((associationDefinition) => {\n                            updatedProperties.associatedRecordNodeSide =\n                                associationDefinition.nodeAId === properties.recordDefinitionName\n                                    ? RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.value\n                                    : RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value;\n                            this.setIsManyToManyAssociation(associationDefinition);\n                            this.sandbox.updateComponentProperties(updatedProperties);\n                            if (this.isManyToManyAssociation) {\n                                this.associationDesignHelperService.resetRolesData(updatedProperties);\n                            }\n                        })));\n                    }\n                    else {\n                        this.isManyToManyAssociation = false;\n                    }\n                    updatedParametersStreams.push(this.updateAssociationNodeSideOptions(properties.associationDefinitionName));\n                    break;\n                case previousProperties.associatedRecordNodeSide !== properties.associatedRecordNodeSide:\n                    updatedProperties.editingMode = RxAssociationEditingMode.Views;\n                    this.associationDesignHelperService.cleanEditingModeDependentData(updatedProperties);\n                    break;\n                case previousProperties.useDefaultRoles !== properties.useDefaultRoles:\n                    if (properties.useDefaultRoles === true) {\n                        updatedProperties.nodeARole = null;\n                        updatedProperties.nodeBRole = null;\n                    }\n                    break;\n                case previousProperties.nodeARole !== properties.nodeARole ||\n                    previousProperties.nodeBRole !== properties.nodeBRole:\n                    if (isUndefined(properties.useDefaultRoles)) {\n                        defaults(updatedProperties, {\n                            nodeARole: null,\n                            nodeBRole: null,\n                            useDefaultRoles: false\n                        });\n                    }\n                    else {\n                        updatedProperties.useDefaultRoles = false;\n                    }\n                    break;\n            }\n            const updateParameters$ = updatedParametersStreams.length > 0 ? combineLatest(updatedParametersStreams) : of(null);\n            return updateParameters$.pipe(map((parameters) => ({ parameters, componentProperties: updatedProperties })), withLatestFrom(this.recordDefinitionNameFromHostRecordEditor$, this.recordEditorGuid$));\n        }), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([{ parameters, componentProperties }, recordDefinitionNameFromHostRecordEditor, recordEditorGuid]) => {\n            const initialProperties = this.associationDesignHelperService.getInitialProperties();\n            this.recordEditorGuid = recordEditorGuid;\n            this.updateInspector$.next(this.getInspectorConfig(Object.assign(Object.assign({}, initialProperties), componentProperties), recordDefinitionNameFromHostRecordEditor, recordEditorGuid));\n        });\n        this.sandbox\n            .getComponentPropertyValue('fieldId')\n            .pipe(\n        // transform initial value to null if it is undefined\n        map((value) => (isNil(value) ? null : value)), distinctUntilChanged(), pairwise())\n            .pipe(withLatestFrom(this.sandbox.componentProperties$), \n        // Check if editing mode is dropdown to prevent label reset after change fieldId to null.\n        filter(([fieldIds, props]) => Boolean(props.editingMode === RxAssociationEditingMode.Dropdown)), switchMap(([[prevFieldId, fieldId], props]) => this.associationDesignHelperService.getRecordDefinition(props.recordDefinitionName).pipe(map((recordDefinition) => {\n            var _a, _b;\n            const prevFieldDefinitionName = (_a = recordDefinition.fieldDefinitions.find((field) => field.id === Number(prevFieldId))) === null || _a === void 0 ? void 0 : _a.name;\n            const currentFieldDefinitionName = (_b = recordDefinition.fieldDefinitions.find((field) => field.id === Number(fieldId))) === null || _b === void 0 ? void 0 : _b.name;\n            // If the label is changed by user it must not be updated after fieldId change.\n            return !props.label || prevFieldDefinitionName === props.label ? currentFieldDefinitionName : props.label;\n        }))), distinctUntilChanged(), takeUntil(this.sandbox.destroyed$))\n            .subscribe((label) => {\n            this.sandbox.updateComponentProperties({ label });\n        });\n        combineLatest([\n            this.sandbox.componentProperties$,\n            this.associationChildComponentsData$.pipe(distinctUntilChanged(isEqual))\n        ])\n            .pipe(switchMap(([componentProperties, childComponents]) => {\n            const association$ = componentProperties.associationDefinitionName\n                ? this.rxAssociationDefinitionCacheService.getAssociationDefinition(componentProperties.associationDefinitionName)\n                : of({});\n            return association$.pipe(map((associationDefinition) => {\n                return this.associationDesignHelperService.validate(this.sandbox, componentProperties, associationDefinition, childComponents);\n            }));\n        }), takeUntil(this.sandbox.destroyed$))\n            .subscribe((validationIssues) => {\n            this.sandbox.setValidationIssues(validationIssues);\n        });\n        combineLatest([\n            this.label$,\n            this.sandbox\n                .getComponentPropertyValue('associationDefinitionName')\n                .pipe(map((associationDefinitionName) => associationDefinitionName ? this.rxDefinitionNameService.getDisplayName(associationDefinitionName) : null))\n        ])\n            .pipe(map(([label, definitionDisplayName]) => {\n            let componentName = this.sandbox.descriptor.name;\n            if (definitionDisplayName && label) {\n                componentName += ` (${definitionDisplayName}: ${label})`;\n            }\n            else if (definitionDisplayName || label) {\n                componentName += ` (${definitionDisplayName || label})`;\n            }\n            return componentName;\n        }), distinctUntilChanged(), takeUntil(this.sandbox.destroyed$))\n            .subscribe((componentName) => {\n            this.sandbox.setSettablePropertiesDataDictionary(componentName, [\n                {\n                    label: 'Disabled',\n                    expression: this.getExpressionForProperty('disabled')\n                },\n                {\n                    label: 'Hidden',\n                    expression: this.getExpressionForProperty('hidden')\n                }\n            ]);\n        });\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign(Object.assign({}, RX_AVAILABLE_ON_DEVICES_DEFAULT_VALUE), initialProperties);\n    }\n    getPropertiesByName(properties) {\n        return omit(Object.assign(Object.assign({}, properties), { recordInstance: this.recordEditorGuid\n                ? `\\${view.components.${this.recordEditorGuid}.recordInstance}`\n                : properties.recordInstance, recordDefinition: this.recordEditorGuid\n                ? `\\${view.components.${this.recordEditorGuid}.recordDefinition}`\n                : properties.recordDefinition }), [\n            'displayedFields',\n            'filterByAssociation',\n            'recordId',\n            'viewDefinitionNameForSelect',\n            'viewDefinitionNameForCreate'\n        ]);\n    }\n    updateAssociationFilterComponent(componentProperties, filterComponent) {\n        if (filterComponent) {\n            this.sandbox.removeComponents([filterComponent.guid]);\n        }\n        if (componentProperties.filterByAssociation) {\n            const filterNew = {\n                guid: this.rxGuidService.generate(),\n                type: RX_ASSOCIATION.componentTypes.associationFilter,\n                propertiesByName: {\n                    associationDefinitionName: componentProperties.filterByAssociation,\n                    recordInstanceId: componentProperties.recordId\n                }\n            };\n            this.sandbox.addComponent([filterNew]);\n        }\n    }\n    updateChildActionButtonDefinition(properties, children, action) {\n        const actionButtonComponent = children.find((component) => component.type === RxViewComponentType.ActionButton && component.data['action'] === action);\n        const viewDefinitionNameToUpdate = action === RX_ASSOCIATION.actions.createAndAssociate\n            ? properties.viewDefinitionNameForCreate\n            : properties.viewDefinitionNameForSelect;\n        if (actionButtonComponent) {\n            this.sandbox.removeComponents([actionButtonComponent.guid]);\n        }\n        if (viewDefinitionNameToUpdate) {\n            const button = this.associationDesignHelperService.getActionButtonDefinition(properties, action, this.sandbox['guid']);\n            this.sandbox.addComponent([button]);\n        }\n    }\n    updateComponentRecordFields(displayedFields, children) {\n        const guids = children\n            .filter((component) => component.type === RX_ASSOCIATION.componentTypes.associatedRecordField)\n            .map((component) => component.guid);\n        const recordFields = displayedFields.map((field) => ({\n            type: RX_ASSOCIATION.componentTypes.associatedRecordField,\n            guid: this.rxGuidService.generate(),\n            propertiesByName: {\n                fieldId: field.data.fieldId,\n                label: field.data.label || '',\n                index: field.data.index\n            }\n        }));\n        if (guids.length > 0) {\n            this.sandbox.removeComponents(guids);\n        }\n        this.sandbox.addComponent(recordFields);\n    }\n    getChildComponentsData() {\n        return this.childComponents$.pipe(map((components) => {\n            var _a, _b;\n            const associationChildComponentsData = {};\n            const associationFilters = components.filter((component) => component.type === RX_ASSOCIATION.componentTypes.associationFilter);\n            associationChildComponentsData.displayedFields = components.filter((definition) => definition.type === RX_ASSOCIATION.componentTypes.associatedRecordField);\n            if (associationFilters.length > 0) {\n                associationChildComponentsData.recordId = (_a = associationFilters[0].data) === null || _a === void 0 ? void 0 : _a.recordInstanceId;\n                associationChildComponentsData.filterByAssociation = (_b = associationFilters[0].data) === null || _b === void 0 ? void 0 : _b.associationDefinitionName;\n            }\n            const createAndAssociateView = this.getViewDefinitionNameForAssociation(components, RX_ASSOCIATION.actions.createAndAssociate);\n            if (createAndAssociateView) {\n                associationChildComponentsData.viewDefinitionNameForCreate = createAndAssociateView;\n            }\n            const associateView = this.getViewDefinitionNameForAssociation(components, RX_ASSOCIATION.actions.associate);\n            if (associateView) {\n                associationChildComponentsData.viewDefinitionNameForSelect = associateView;\n            }\n            return associationChildComponentsData;\n        }));\n    }\n    generateInitialUpdateParameters(componentProperties) {\n        const updateParameters = [];\n        if (componentProperties.recordDefinitionName) {\n            updateParameters.push(this.updateRecordDefinitionFields(componentProperties.recordDefinitionName));\n            if (componentProperties.fieldId) {\n                updateParameters.push(this.updatePreviousDropdownFieldDefinition(componentProperties.recordDefinitionName, componentProperties.fieldId));\n            }\n            updateParameters.push(this.updateAssociationDefinitionsOptions(componentProperties.recordDefinitionName));\n        }\n        if (componentProperties.associationDefinitionName) {\n            updateParameters.push(this.updateAssociationDefinitionsFilterOptions(componentProperties.recordDefinitionName));\n            updateParameters.push(this.rxAssociationDefinitionCacheService\n                .getAssociationDefinition(componentProperties.associationDefinitionName)\n                .pipe(map((associationDefinition) => this.setIsManyToManyAssociation(associationDefinition))));\n        }\n        if (componentProperties.associatedRecordNodeSide) {\n            updateParameters.push(this.updateAssociationNodeSideOptions(componentProperties.associationDefinitionName));\n        }\n        return updateParameters;\n    }\n    updatePreviousDropdownFieldDefinition(recordDefinitionToAssociateName, fieldId) {\n        return this.updateRecordDefinitionFields(recordDefinitionToAssociateName).pipe(map((fields) => {\n            return (this.previousDropdownFieldDefinition = fields.find((field) => field.id === Number(fieldId)));\n        }));\n    }\n    setIsManyToManyAssociation(associationDefinition) {\n        if (associationDefinition) {\n            this.isManyToManyAssociation =\n                associationDefinition.cardinality === RX_ASSOCIATION_DEFINITION.cardinality.manyToMany.value;\n        }\n    }\n    getViewDefinitionNameForAssociation(components, action) {\n        const actionButton = components.find((definition) => { var _a; return ((_a = definition.data) === null || _a === void 0 ? void 0 : _a.action) === action; });\n        return actionButton && actionButton.children ? this.getViewDefinitionNameFromActionButton(actionButton) : null;\n    }\n    getViewDefinitionNameFromActionButton(actionButton) {\n        const actionComponent = actionButton.children.find((children) => children.type === RxViewComponentType.Action);\n        return get(actionComponent, 'data.viewDefinitionName', null);\n    }\n    updateRecordDefinitionFields(recordDefinitionToAssociateName) {\n        return (recordDefinitionToAssociateName\n            ? this.associationDesignHelperService\n                .getRecordDefinition(recordDefinitionToAssociateName)\n                .pipe(map((recordDefinition) => recordDefinition.fieldDefinitions))\n            : of([])).pipe(tap((fieldDefinitions) => (this.recordDefinitionFields = fieldDefinitions)));\n    }\n    updateAssociationNodeSideOptions(associationDefinitionName) {\n        const associatedRecordNodeSideOptions$ = associationDefinitionName\n            ? this.rxAssociationDefinitionCacheService\n                .getAssociationDefinition(associationDefinitionName)\n                .pipe(map((associationDefinition) => this.associationDesignHelperService.getNodeSideOptions(associationDefinition)))\n            : of([]);\n        return associatedRecordNodeSideOptions$.pipe(tap((associatedRecordNodeSideOptions) => (this.associatedRecordNodeSide = associatedRecordNodeSideOptions)));\n    }\n    updateAssociationDefinitionsOptions(recordDefinitionToAssociateName) {\n        return this.recordDefinitionNameFromHostRecordEditor$.pipe(switchMap((associatedRecordName) => recordDefinitionToAssociateName && associatedRecordName\n            ? this.associationDesignHelperService.getAvailableAssociations(recordDefinitionToAssociateName, associatedRecordName)\n            : of([])), tap((associationDefinitionOptions) => (this.associationDefinitions = associationDefinitionOptions)));\n    }\n    updateAssociationDefinitionsFilterOptions(recordDefinitionToAssociateName) {\n        return this.otherAssociationRecordEditorComponentGuids$.pipe(mergeMap((guids) => guids.length\n            ? combineLatest(guids.map((guid) => this.sandbox.getComponentPropertyValue('recordDefinitionName', guid))).pipe(take(1))\n            : of([])), switchMap((associatedRecordNames) => associatedRecordNames.length && recordDefinitionToAssociateName\n            ? merge(...associatedRecordNames.map((associatedRecordName) => this.associationDesignHelperService.getAvailableAssociations(recordDefinitionToAssociateName, associatedRecordName)))\n            : of([])), map((associationDefinitionFilters) => (this.associationDefinitionFilters = associationDefinitionFilters)));\n    }\n    getInspectorConfig(properties, recordDefinitionNameFromHostRecordEditor, recordEditorGuid) {\n        const inspectorConfig = {\n            inspectorSectionConfigs: [\n                {\n                    label: 'General',\n                    controls: []\n                }\n            ]\n        };\n        if (recordDefinitionNameFromHostRecordEditor) {\n            const generalSectionControls = inspectorConfig.inspectorSectionConfigs[0].controls;\n            generalSectionControls.push({\n                name: 'recordDefinitionName',\n                component: RxDefinitionPickerComponent,\n                options: {\n                    label: 'Record definition to associate',\n                    definitionType: RxDefinitionPickerType.StandardDataRecord,\n                    required: true\n                }\n            });\n            if (properties.recordDefinitionName) {\n                generalSectionControls.push({\n                    name: 'associationDefinitionName',\n                    component: SelectFormControlComponent,\n                    options: {\n                        label: 'Association to use',\n                        options: this.associationDefinitions.map((associationDefinition) => ({\n                            id: associationDefinition.name,\n                            name: this.rxDefinitionNameService.getDisplayName(associationDefinition.name)\n                        })),\n                        emptyOption: true,\n                        required: true\n                    }\n                });\n            }\n            if (properties.recordDefinitionName && this.associatedRecordNodeSide.length > 0) {\n                generalSectionControls.push({\n                    name: 'associatedRecordNodeSide',\n                    component: SelectFormControlComponent,\n                    options: {\n                        label: 'Associated record node Side',\n                        options: this.associatedRecordNodeSide,\n                        required: true\n                    }\n                });\n            }\n            if (properties.recordDefinitionName &&\n                this.associationDesignHelperService.isCardinalityOne(properties, this.associationDefinitions)) {\n                generalSectionControls.push({\n                    name: 'editingMode',\n                    component: SelectFormControlComponent,\n                    options: {\n                        label: 'Association editing mode',\n                        options: map$1(RxAssociationEditingMode, (id, name) => ({ id, name })),\n                        required: true\n                    }\n                });\n            }\n            // View Mode\n            if (!properties.editingMode || properties.editingMode === RxAssociationEditingMode.Views) {\n                generalSectionControls.push(...this.associationDesignHelperService.getViewModeInspectorControls());\n                if (this.isManyToManyAssociation && properties.associationDefinitionName) {\n                    generalSectionControls.push(this.associationDesignHelperService.getUseDefaultRolesControl());\n                    if (!properties.useDefaultRoles) {\n                        generalSectionControls.push(...this.associationDesignHelperService.getNodeABRoleControls());\n                    }\n                }\n                if (properties.recordDefinitionName) {\n                    generalSectionControls.push(this.associationDesignHelperService.getDisplayedFieldsControl(this.recordDefinitionFields));\n                }\n            }\n            // Dropdown Mode\n            if (properties.editingMode === RxAssociationEditingMode.Dropdown) {\n                generalSectionControls.push(...this.associationDesignHelperService.getDropdownModeInspectorControls(this.recordDefinitionFields, this.associationDefinitionFilters));\n                if (properties.filterByAssociation) {\n                    generalSectionControls.push(this.associationDesignHelperService.getRecordIdControl());\n                }\n            }\n            generalSectionControls.push(...this.associationDesignHelperService.getInitialInspectorControls(this.expressionConfigurator));\n        }\n        else {\n            inspectorConfig.inspectorSectionConfigs[0].controls = [\n                {\n                    component: ValidationFormControlComponent,\n                    options: {\n                        text: 'You must select a Record definition before editing field component.',\n                        componentGuid: recordEditorGuid,\n                        propertyName: 'recordDefinitionName'\n                    }\n                }\n            ];\n        }\n        return inspectorConfig;\n    }\n}\n\nclass RxAssociationDesignContainerComponent {\n}\nRxAssociationDesignContainerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAssociationDesignContainerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nRxAssociationDesignContainerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxAssociationDesignContainerComponent, selector: \"rx-association-design-item-container\", inputs: { outlet: \"outlet\", isReadOnly: \"isReadOnly\", layout: \"layout\" }, ngImport: i0, template: \"<rx-canvas-item\\n  *ngFor=\\\"let layout of outlet.columns[0].children\\\"\\n  [interactive]=\\\"false\\\"\\n  [layout]=\\\"layout\\\"\\n  [isReadOnly]=\\\"isReadOnly\\\"\\n  class=\\\"mr-1\\\"\\n>\\n</rx-canvas-item>\\n\", styles: [\":host{display:flex}\\n\"], components: [{ type: i1$3.CanvasItemComponent, selector: \"rx-canvas-item\", inputs: [\"layout\", \"interactive\", \"isReadOnly\"] }], directives: [{ type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAssociationDesignContainerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-association-design-item-container',\n                    templateUrl: './association-design-container.component.html',\n                    styleUrls: ['./association-design-container.component.scss']\n                }]\n        }], propDecorators: { outlet: [{\n                type: Input\n            }], isReadOnly: [{\n                type: Input\n            }], layout: [{\n                type: Input\n            }] } });\n\nclass RxAssociationDesignComponent {\n    constructor() {\n        this.hidePlaceholder = false;\n        this.destroyed$ = new ReplaySubject(1);\n        this.containerComponent = RxAssociationDesignContainerComponent;\n    }\n    ngOnInit() {\n        this.model.displayedFields$.pipe(takeUntil(this.destroyed$)).subscribe((fields) => {\n            this.hidePlaceholder = fields.length > 0;\n        });\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n}\nRxAssociationDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAssociationDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nRxAssociationDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxAssociationDesignComponent, selector: \"rx-association-field-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<div [ngSwitch]=\\\"model.editingMode$ | async\\\">\\n  <div *ngSwitchCase=\\\"'views'\\\" [attr.aria-label]=\\\"model.label$ | async\\\">\\n    <label class=\\\"d-block form-control-label\\\">{{ model.label$ | async }}</label>\\n\\n    <div class=\\\"d-flex flex-wrap\\\">\\n      <rx-canvas-outlet class=\\\"flex-grow-1\\\" [containerComponent]=\\\"containerComponent\\\"></rx-canvas-outlet>\\n\\n      <button\\n        adapt-button\\n        size=\\\"small\\\"\\n        btn-type=\\\"tertiary\\\"\\n        class=\\\"btn btn-link py-0 align-right\\\"\\n        type=\\\"button\\\"\\n        [hidden]=\\\"!hidePlaceholder\\\"\\n      >\\n        {{ 'com.bmc.arsys.rx.client.view-components.record-editor.association.button.clear-all.label' | translate }}\\n      </button>\\n    </div>\\n\\n    <adapt-empty-state\\n      [hidden]=\\\"hidePlaceholder\\\"\\n      type=\\\"objects\\\"\\n      label=\\\"Add fields in the Properties panel.\\\"\\n    ></adapt-empty-state>\\n\\n    <div class=\\\"form-group mt-2\\\" [hidden]=\\\"!hidePlaceholder\\\">\\n      <div class=\\\"list-group\\\">\\n        <div class=\\\"list-group-item\\\">\\n          <div class=\\\"rx-record-preview-card w-100\\\">\\n            <button\\n              class=\\\"btn btn-link float-right d-icon-cross p-0\\\"\\n              adapt-button\\n              size=\\\"small\\\"\\n              btn-type=\\\"tertiary\\\"\\n              type=\\\"button\\\"\\n            ></button>\\n\\n            <ul class=\\\"list-unstyled mb-0\\\">\\n              <li class=\\\"rx-record-preview-card__field\\\" *ngFor=\\\"let field of model.displayedFields$ | async\\\">\\n                <span class=\\\"rx-record-preview-card__label\\\" *ngIf=\\\"field.data.label\\\">{{ field.data.label }}</span>\\n                <span *ngIf=\\\"field.data.label\\\">: </span>\\n                <span class=\\\"rx-record-preview-card__value\\\">{{ field.data.name }}</span>\\n              </li>\\n            </ul>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div *ngSwitchCase=\\\"'dropdown'\\\">\\n    <div [attr.aria-label]=\\\"model.label$ | async\\\">\\n      <adapt-rx-select [label]=\\\"model.label$ | async\\\" [disabled]=\\\"true\\\" ngModel></adapt-rx-select>\\n    </div>\\n  </div>\\n</div>\\n\", components: [{ type: i1$3.CanvasOutletComponent, selector: \"rx-canvas-outlet\", inputs: [\"name\", \"skipParentPredicate\", \"containerComponent\", \"dropListOrientation\", \"dropPredicate\"], outputs: [\"beforeViewComponentDrop\"] }, { type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }, { type: i1.AdaptRxSelectComponent, selector: \"adapt-rx-select\", inputs: [\"options\", \"emptyOption\", \"optionFormatter\", \"optionContentTemplate\", \"disabledOptionResolver\", \"titleFormatter\", \"focusFirst\", \"texts\", \"multiple\", \"singleSelectStyle\", \"enableFilter\", \"inline\", \"selectAllButton\", \"deselectAllButton\", \"loadMoreButton\", \"loadMoreCallback\", \"loadMoreInProgress\", \"loadingState\", \"placeholder\", \"size\", \"closeOnSelect\", \"placement\", \"appendToBody\", \"popupMaxHeight\", \"popupClass\", \"pageSize\", \"ariaInvalid\", \"virtualScroll\", \"virtualScrollItemSize\", \"virtualScrollTemplateCacheSize\", \"minBufferPx\", \"maxBufferPx\"], outputs: [\"onSelectionChange\", \"onPopupOpenChange\", \"onFilterValueChange\"] }], directives: [{ type: i3.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { type: i3.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }], pipes: { \"async\": i3.AsyncPipe, \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAssociationDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-association-field-design',\n                    templateUrl: './association-design.component.html'\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass AssociationDesignAdapterService {\n    adaptDefinition(componentDefinition) {\n        var _a, _b, _c, _d, _e;\n        // If a view from old view designer gets opened we have to add a layout with\n        // action button guids, so they can be rendered inside association view component.\n        if (!componentDefinition.layout) {\n            const actionButtonGuids = componentDefinition.componentDefinitions\n                .filter((definition) => definition.type === RxViewComponentType.ActionButton)\n                .map((definition) => definition.guid);\n            componentDefinition.layout = JSON.stringify({\n                outlets: [\n                    {\n                        name: RX_VIEW_DEFINITION.defaultOutletName,\n                        columns: [\n                            {\n                                children: actionButtonGuids\n                            }\n                        ]\n                    }\n                ]\n            });\n        }\n        const adaptedProperties = {\n            editingMode: (_a = componentDefinition.propertiesByName.editingMode) !== null && _a !== void 0 ? _a : RxAssociationEditingMode.Views,\n            nodeARole: (_b = componentDefinition.propertiesByName.nodeARole) !== null && _b !== void 0 ? _b : null,\n            nodeBRole: (_c = componentDefinition.propertiesByName.nodeBRole) !== null && _c !== void 0 ? _c : null,\n            styles: (_d = componentDefinition.propertiesByName.styles) !== null && _d !== void 0 ? _d : null,\n            useDefaultRoles: (_e = componentDefinition.propertiesByName.useDefaultRoles) !== null && _e !== void 0 ? _e : false\n        };\n        Object.assign(componentDefinition.propertiesByName, adaptedProperties);\n    }\n}\nAssociationDesignAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationDesignAdapterService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nAssociationDesignAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationDesignAdapterService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationDesignAdapterService, decorators: [{\n            type: Injectable\n        }] });\n\nclass AssociationDesignModule {\n    constructor(associationDesignAdapterService, rxDefinitionAdapterRegistryService) {\n        rxDefinitionAdapterRegistryService.registerDesignAdapter(RxViewComponentType.Association, associationDesignAdapterService);\n    }\n}\nAssociationDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationDesignModule, deps: [{ token: AssociationDesignAdapterService }, { token: i1$1.RxDefinitionAdapterRegistryService }], target: i0.ɵɵFactoryTarget.NgModule });\nAssociationDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationDesignModule, declarations: [RxAssociationDesignComponent, RxAssociationDesignContainerComponent], imports: [CommonModule,\n        AdaptButtonModule,\n        TranslateModule,\n        AssociationRecordFieldSelectorFormControlModule,\n        AdaptRxSelectModule,\n        FormsModule,\n        AdaptEmptyStateModule,\n        ViewDesignerCanvasModule] });\nAssociationDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationDesignModule, providers: [AssociationDesignHelperService, AssociationDesignAdapterService], imports: [[\n            CommonModule,\n            AdaptButtonModule,\n            TranslateModule,\n            AssociationRecordFieldSelectorFormControlModule,\n            AdaptRxSelectModule,\n            FormsModule,\n            AdaptEmptyStateModule,\n            ViewDesignerCanvasModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        AdaptButtonModule,\n                        TranslateModule,\n                        AssociationRecordFieldSelectorFormControlModule,\n                        AdaptRxSelectModule,\n                        FormsModule,\n                        AdaptEmptyStateModule,\n                        ViewDesignerCanvasModule\n                    ],\n                    declarations: [RxAssociationDesignComponent, RxAssociationDesignContainerComponent],\n                    entryComponents: [RxAssociationDesignComponent],\n                    providers: [AssociationDesignHelperService, AssociationDesignAdapterService]\n                }]\n        }], ctorParameters: function () { return [{ type: AssociationDesignAdapterService }, { type: i1$1.RxDefinitionAdapterRegistryService }]; } });\n\nconst RX_BASE_FIELD_PROPERTIES = [\n    'api',\n    'disabled',\n    'recordDefinition',\n    'recordInstance',\n    'hidden',\n    'inReadState',\n    'value'\n].map((propertyName) => {\n    const result = {\n        name: propertyName,\n        enableExpressionEvaluation: true\n    };\n    if (['hidden', 'disabled'].includes(propertyName)) {\n        result.type = ViewComponentPropertyType.Boolean;\n    }\n    return result;\n});\nRX_BASE_FIELD_PROPERTIES.push({\n    name: 'label',\n    localizable: true\n}, {\n    name: 'fieldId'\n}, RX_AVAILABLE_ON_DEVICES_PROP_DESC);\n\nconst RX_FIELD_COMPONENTS = {\n    stencilGroupName: 'Record editor inputs'\n};\n\nclass AssociationExpressionConfigurator extends RxViewComponentExpressionConfigurator {\n    constructor(injector, componentGuid, componentModel) {\n        super(injector, componentGuid, componentModel);\n        this.injector = injector;\n        this.componentGuid = componentGuid;\n        this.componentModel = componentModel;\n        this.rxDefinitionNameService = this.injector.get(RxDefinitionNameService);\n        this.configureForProperty({\n            propertyPath: 'recordId',\n            dataDictionary$: componentModel.recordEditorGuid$.pipe(concatMap((recordEditorGuid) => this.getCommonDataDictionary(this.getRecordEditorBranch(recordEditorGuid), recordEditorGuid)))\n        });\n    }\n    getRecordEditorBranch(recordEditorGuid) {\n        const associationsBranch$ = this.componentModel.otherAssociationRecordEditorComponentGuids$.pipe(switchMap((guids) => guids.length\n            ? combineLatest(guids.map((guid) => this.componentModel.sandbox\n                .getComponentPropertyValue('associationDefinitionName', guid)\n                .pipe(map((associationDefinitionName) => ({\n                label: this.rxDefinitionNameService.getDisplayName(associationDefinitionName),\n                children: [\n                    {\n                        label: 'First associated record',\n                        children: [\n                            {\n                                label: 'ID',\n                                expression: `\\${view.components.${guid}.firstAssociatedRecord.id}`\n                            }\n                        ]\n                    }\n                ]\n            }))))).pipe(map((children) => ({\n                label: 'Associations',\n                children\n            })))\n            : of(null)));\n        return this.getComponentCommonDataDictionary(recordEditorGuid).pipe(switchMap((recordEditorBranch) => associationsBranch$.pipe(map((associationsBranch) => associationsBranch\n            ? Object.assign(Object.assign({}, recordEditorBranch), { children: [associationsBranch, ...recordEditorBranch.children] }) : recordEditorBranch))));\n    }\n}\n\nclass AssociationRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.Association,\n            isContainerComponent: true,\n            designComponentModel: AssociationDesignModel,\n            bundleId: RX_APPLICATION.platformBundleId,\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(RxAssociationDesignComponent),\n            expressionConfigurator: AssociationExpressionConfigurator,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(RxAssociationComponent),\n            canBeInsertedInto(componentTypes) {\n                return componentTypes.includes(RxViewComponentType.RecordEditor);\n            },\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            name: 'Association',\n            group: RX_FIELD_COMPONENTS.stencilGroupName,\n            icon: 'arrow_schema',\n            properties: RX_BASE_FIELD_PROPERTIES.concat({\n                name: 'recordInstance',\n                enableExpressionEvaluation: true\n            }),\n            outlets: [\n                {\n                    name: RX_VIEW_DEFINITION.defaultOutletName\n                }\n            ]\n        }, {\n            type: RX_ASSOCIATION.componentTypes.associationFilter,\n            configPropertyName: 'associationFilter',\n            properties: [\n                {\n                    name: 'associationDefinitionName'\n                },\n                {\n                    name: 'recordInstanceId',\n                    enableExpressionEvaluation: true\n                }\n            ],\n            isDataComponent: true\n        }, {\n            type: RX_ASSOCIATION.componentTypes.associatedRecordField,\n            configPropertyName: 'associatedRecordField',\n            isDataComponent: true,\n            properties: [\n                {\n                    name: 'label',\n                    localizable: true\n                }\n            ]\n        });\n    }\n}\nAssociationRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nAssociationRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationRegistrationModule, imports: [AssociationModule, AssociationDesignModule] });\nAssociationRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationRegistrationModule, imports: [[AssociationModule, AssociationDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AssociationRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [AssociationModule, AssociationDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass BaseRecordEditorFieldDesign extends ViewDesignerComponentModel {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.injector = injector;\n        this.sandbox = sandbox;\n        this.rxRecordDefinitionCacheService = this.injector.get(RxRecordDefinitionCacheService);\n        this.rxDefinitionNameService = this.injector.get(RxDefinitionNameService);\n        this.rxFieldDefinitionService = this.injector.get(RxFieldDefinitionService);\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign(Object.assign(Object.assign({ fieldId: null, label: null, value: null }, RX_DISABLED_PROP_DEFAULT_VALUE), RX_STANDARD_PROPS_DEFAULT_VALUES), initialProperties);\n    }\n    rxInit() {\n        this.pipeline();\n    }\n    pipeline() {\n        this.parentGuid$ = this.sandbox.getParentComponentGuid(RxViewComponentType.RecordEditor).pipe(take(1));\n        this.recordEditorMode$ = this.parentGuid$.pipe(switchMap((recordEditorGuid) => {\n            return this.sandbox.getComponentPropertyValue('mode', recordEditorGuid);\n        }));\n        this.recordDefinitionName$ = this.parentGuid$.pipe(switchMap((recordEditorGuid) => {\n            return this.sandbox.getComponentPropertyValue('recordDefinitionName', recordEditorGuid);\n        }), shareReplay(1));\n        this.recordDefinition$ = this.recordDefinitionName$.pipe(switchMap((recordDefinitionName) => {\n            if (recordDefinitionName) {\n                return this.rxRecordDefinitionCacheService\n                    .getRecordDefinition(recordDefinitionName)\n                    .pipe(catchError((error) => EMPTY));\n            }\n            else {\n                return of(null);\n            }\n        }), distinctUntilChanged());\n        this.selectedFieldDefinition$ = this.sandbox.getComponentPropertyValue('fieldId').pipe(switchMap((fieldId) => this.recordDefinition$.pipe(map((recordDefinition) => {\n            if (recordDefinition && fieldId) {\n                return (recordDefinition.fieldDefinitions.find((fieldDefinition) => fieldDefinition.id === Number(fieldId)) || null);\n            }\n            else {\n                return null;\n            }\n        }))), shareReplay(1));\n        this.isRequired$ = this.selectedFieldDefinition$.pipe(map((selectedFieldDefinition) => selectedFieldDefinition && selectedFieldDefinition.fieldOption === RX_RECORD_DEFINITION.fieldOptions.required));\n        this.isSystemField$ = this.selectedFieldDefinition$.pipe(startWith(false), map((selectedFieldDefinition) => this.rxFieldDefinitionService.isSystemField(selectedFieldDefinition)));\n        // set field label\n        this.selectedFieldDefinition$\n            .pipe(pairwise(), withLatestFrom(this.sandbox.componentProperties$), filter(([[oldField, newField], componentProperties]) => newField && ((oldField && oldField.name === componentProperties.label) || !componentProperties.label)), map(([[oldField, newField]]) => newField.name))\n            .subscribe((label) => {\n            this.sandbox.updateComponentProperties({ label });\n        });\n        this.availableFieldDefinitions$ = combineLatest([this.recordDefinition$, this.recordEditorMode$]).pipe(map(([recordDefinition, recordEditorMode]) => {\n            if (recordDefinition && recordDefinition.fieldDefinitions) {\n                return recordDefinition.fieldDefinitions\n                    .filter((fieldDefinition) => includes(this.fieldResourceTypes, fieldDefinition.resourceType))\n                    .filter((fieldDefinition) => {\n                    const isSystemField = this.rxFieldDefinitionService.isSystemField(fieldDefinition);\n                    return !isSystemField || (isSystemField && recordEditorMode === RecordEditorMode.Edit);\n                });\n            }\n            else {\n                return [];\n            }\n        }), shareReplay(1));\n        this.label$ = this.sandbox.componentProperties$.pipe(map((componentProperties) => {\n            return componentProperties && componentProperties.fieldId ? componentProperties.label : '<No field selected>';\n        }));\n        this.sandbox.componentProperties$\n            .pipe(mergeMap((componentProperties) => this.validate(componentProperties)), distinctUntilChanged(isEqual))\n            .subscribe((validationIssues) => {\n            this.sandbox.setValidationIssues(validationIssues);\n        });\n        this.availableFieldDefinitions$\n            .pipe(switchMap(() => this.getInspectorConfig()))\n            .subscribe((inspectorConfig) => {\n            this.sandbox.updateInspectorConfig(inspectorConfig);\n        });\n        this.sandbox.componentProperties$\n            .pipe(switchMap(() => this.getBreadcrumb()), distinctUntilChanged())\n            .subscribe((breadcrumb) => {\n            this.sandbox.setBreadcrumbs(breadcrumb);\n        });\n        combineLatest([this.sandbox.getComponentPropertyValue('label'), this.selectedFieldDefinition$])\n            .pipe(map(([label, fieldDefinition]) => label || (fieldDefinition ? `[${fieldDefinition.name}]` : `[${this.sandbox.descriptor.name}]`)), distinctUntilChanged())\n            .subscribe((componentName) => {\n            this.sandbox.setSettablePropertiesDataDictionary(componentName, this.getSettableProperties());\n        });\n    }\n    getPropertiesByName(properties) {\n        const result = Object.assign({}, properties);\n        if (!result.styles) {\n            delete result.styles;\n        }\n        return result;\n    }\n    validate(componentProperties) {\n        const validationIssues = [];\n        if (isEmpty(componentProperties.fieldId)) {\n            validationIssues.push(this.sandbox.createError('Field name cannot be blank.', 'fieldId'));\n        }\n        validationIssues.push(...validateStandardProps(componentProperties));\n        return of(validationIssues);\n    }\n    getBreadcrumb() {\n        return of(null).pipe(withLatestFrom(this.sandbox.componentProperties$), map(([initial, componentProperties]) => componentProperties.label));\n    }\n    getInspectorConfig() {\n        return of(null).pipe(withLatestFrom(this.availableFieldDefinitions$, this.recordDefinitionName$, this.parentGuid$, this.isSystemField$), map(([initial, recordFieldsSelectItems, recordDefinitionName, parentGuid, isSystemField]) => {\n            return this.getBaseInspectorConfig(recordFieldsSelectItems, recordDefinitionName, parentGuid, isSystemField);\n        }));\n    }\n    getSettableProperties() {\n        const disabledPropDataDictionary = find(this.sandbox.descriptor.properties, { name: 'disabled' })\n            ? [\n                {\n                    label: 'Disabled',\n                    expression: `\\${view.components.${this.sandbox.guid}.disabled}`\n                }\n            ]\n            : [];\n        const hiddenPropDataDictionary = find(this.sandbox.descriptor.properties, { name: 'disabled' })\n            ? [\n                {\n                    label: 'Hidden',\n                    expression: `\\${view.components.${this.sandbox.guid}.hidden}`\n                }\n            ]\n            : [];\n        return [...disabledPropDataDictionary, ...hiddenPropDataDictionary];\n    }\n    getBaseInspectorFields(selectedFieldDefinitions, isSystemField) {\n        return [].concat([\n            {\n                name: 'fieldId',\n                component: SelectFormControlComponent,\n                options: {\n                    label: 'Field name',\n                    required: true,\n                    options: selectedFieldDefinitions.map((definition) => ({\n                        name: definition.name,\n                        id: String(definition.id)\n                    }))\n                }\n            },\n            {\n                name: 'label',\n                component: TextFormControlComponent,\n                options: {\n                    label: 'Display label'\n                }\n            }\n        ], isSystemField\n            ? []\n            : [\n                {\n                    name: 'value',\n                    component: ExpressionInspectorControlComponent,\n                    options: {\n                        label: 'Value'\n                    }\n                },\n                getDisabledFieldInspectorConfig()\n            ], getStandardPropsInspectorConfigs());\n    }\n    getBaseInspectorConfig(recordFieldsSelectItems, recordDefinitionName, parentGuid, isSystemField) {\n        const displayName = this.rxDefinitionNameService.getDisplayName(recordDefinitionName || '');\n        let controls;\n        if (recordDefinitionName) {\n            if (recordFieldsSelectItems.length) {\n                controls = this.getBaseInspectorFields(recordFieldsSelectItems, isSystemField);\n            }\n            else {\n                controls = [\n                    {\n                        component: ValidationFormControlComponent,\n                        options: {\n                            text: `${displayName} does not have fields that can be bound to this field type.`,\n                            componentGuid: parentGuid,\n                            propertyName: 'recordDefinitionName'\n                        }\n                    }\n                ];\n            }\n        }\n        else {\n            controls = [\n                {\n                    component: ValidationFormControlComponent,\n                    options: {\n                        text: 'You must select a Record definition before editing field component.',\n                        componentGuid: parentGuid,\n                        propertyName: 'recordDefinitionName' // todo remove that hardcode\n                    }\n                }\n            ];\n        }\n        return {\n            inspectorSectionConfigs: [\n                {\n                    label: 'General',\n                    controls\n                }\n            ]\n        };\n    }\n}\n\nclass AttachmentFieldDesignModel extends BaseRecordEditorFieldDesign {\n    constructor() {\n        super(...arguments);\n        this.fieldResourceTypes = [RX_RECORD_DEFINITION.resourceTypes.attachment];\n    }\n    static getInitialProperties(initialProperties) {\n        const result = BaseRecordEditorFieldDesign.getInitialProperties(initialProperties);\n        delete result.value;\n        return result;\n    }\n    getInspectorConfig() {\n        return super.getInspectorConfig().pipe(map((inspectorConfig) => {\n            inspectorConfig.inspectorSectionConfigs[0].controls =\n                inspectorConfig.inspectorSectionConfigs[0].controls.filter((field) => field.name !== 'value');\n            return inspectorConfig;\n        }));\n    }\n}\n\nclass AttachmentFieldDesignComponent {\n}\nAttachmentFieldDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AttachmentFieldDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nAttachmentFieldDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: AttachmentFieldDesignComponent, selector: \"rx-attachment-field-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<adapt-rx-uploader\\n  class=\\\"rx-pointer-events-none\\\"\\n  [required]=\\\"model.isRequired$ | async\\\"\\n  [ngModel]=\\\"[]\\\"\\n  [disabled]=\\\"true\\\"\\n  [label]=\\\"model.label$ | async\\\"\\n></adapt-rx-uploader>\\n\", styles: [\"adapt-rx-uploader ::ng-deep .adapt-rx-uploader__restrict{display:none}\\n\"], components: [{ type: i1.AdaptRxUploaderComponent, selector: \"adapt-rx-uploader\", inputs: [\"uploadMode\", \"selectionMode\", \"enableFileDialog\", \"allowedTypes\", \"forbiddenTypes\", \"suppressParallel\", \"filesCount\", \"allowDuplicates\", \"showUploadFolderAlert\", \"visibleFiles\", \"reusable\", \"allowDeletion\", \"customErrors\", \"indeterminateFileLoader\", \"url\", \"deleteUrl\", \"droppableArea\", \"enableCustomDownload\", \"customDownload\", \"popoverAppendToBody\", \"showTypesRestriction\", \"showMinSizeRestriction\", \"showMaxSizeRestriction\", \"showFilesCountRestriction\", \"texts\", \"icons\", \"fileErrors\", \"enableDnD\", \"maxFileSize\", \"minFileSize\", \"chunkSize\", \"testID\"], outputs: [\"beforeFileDialogOpen\", \"afterFileDialogOpen\", \"beforeFilesAdded\", \"afterFilesAdded\", \"dropped\", \"dragOver\", \"startFileUploading\", \"processFileUploading\", \"endFileUploading\", \"errorFileUploading\", \"finishedFileUploading\", \"removedFileFromQueue\", \"deletedFile\", \"cancelUploading\"] }], directives: [{ type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AttachmentFieldDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-attachment-field-design',\n                    templateUrl: './attachment-field-design.component.html',\n                    styleUrls: ['./attachment-field-design.component.scss']\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass AttachmentFieldDesignModule {\n}\nAttachmentFieldDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AttachmentFieldDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nAttachmentFieldDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AttachmentFieldDesignModule, declarations: [AttachmentFieldDesignComponent], imports: [CommonModule, FormsModule, AdaptRxUploaderModule] });\nAttachmentFieldDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AttachmentFieldDesignModule, imports: [[CommonModule, FormsModule, AdaptRxUploaderModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AttachmentFieldDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, FormsModule, AdaptRxUploaderModule],\n                    declarations: [AttachmentFieldDesignComponent],\n                    entryComponents: [AttachmentFieldDesignComponent]\n                }]\n        }] });\n\n// tslint:disable-next-line:directive-class-suffix\nclass BaseRecordEditorFieldComponent extends BaseViewComponent {\n    constructor(injector) {\n        super();\n        this.injector = injector;\n        this.isRequired = false;\n        this.isDisabled = false;\n        this.translateService = this.injector.get(TranslateService);\n        this.api = {\n            setProperty: this.setProperty.bind(this)\n        };\n        this.inReadState = false;\n        this.isLoading = true;\n        this.validationErrorMessage = null;\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.notifyPropertyChanged('api', this.api);\n        this.configReady$ = this.config.pipe(filter((config) => Boolean(config.api && config.recordDefinition)), takeUntil(this.destroyed$));\n        this.recordInstance$ = this.configReady$.pipe(pluck('recordInstance'), distinctUntilChanged(), skip(1), takeUntil(this.destroyed$));\n        this.recordInstance$.subscribe(this.subscribeOnConfigValueChange.bind(this));\n        this.configReady$.pipe(take(1)).subscribe((config) => {\n            this.isLoading = false;\n            this.onConfigInitialized(config);\n            this.onConfigUpdated(config);\n        });\n        this.configReady$\n            .pipe(skip(1), filter((config) => Boolean(config.recordInstance)), takeUntil(this.destroyed$))\n            .subscribe(this.onConfigUpdated.bind(this));\n    }\n    setFieldValue(value, options = {}) {\n        if (!isEqual(value, this.formControl.value)) {\n            if (options.markAsDirty !== false) {\n                this.formControl.markAsDirty();\n            }\n            if (options.markAsTouched !== false) {\n                this.formControl.markAsTouched();\n            }\n            this.formControl.setValue(value);\n        }\n    }\n    getFieldValue() {\n        var _a;\n        return (_a = this.formControl) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    getDisplayValue() {\n        return this.getFieldValue();\n    }\n    onConfigInitialized(config) {\n        this.fieldId = Number(config.fieldId);\n        this.fieldDefinition = find(config.recordDefinition.fieldDefinitions, { id: this.fieldId });\n        this.isRequired = this.fieldDefinition.fieldOption === RX_RECORD_DEFINITION.fieldOptions.required;\n        this.recordEditorApi = config.api;\n        this.formControl = this.recordEditorApi.getFieldControl(this.fieldId, this.guid, this.getFieldValidators(), config.associatedRecordPath);\n        this.associatedRecordPath = config.associatedRecordPath;\n        this.permissionType = this.recordEditorApi.getPermissionType(this.fieldId, this.associatedRecordPath);\n        this.subscribeOnConfigValueChange();\n        this.formControl.valueChanges.pipe(startWith(this.formControl.value), takeUntil(this.destroyed$)).subscribe(() => {\n            this.checkValidation();\n            this.updateValidationMessage();\n        });\n        this.isAlwaysDisabled =\n            this.permissionType === RX_RECORD_DEFINITION.fieldPermissionTypes.view ||\n                this.injector.get(RxFieldDefinitionService).isSystemField(this.fieldDefinition);\n        this.isAlwaysHidden = !this.permissionType;\n        const recordEditorMode = config.api.getRecordEditorMode();\n        if (Number(config.fieldId) === RX_RECORD_DEFINITION.coreFieldIds.createdBy) {\n            const submitterMode = this.injector\n                .get(RxSystemConfigurationService)\n                .getConfigurationSync('Submitter-Mode');\n            this.isAlwaysDisabled =\n                this.isAlwaysDisabled ||\n                    (recordEditorMode === RecordEditorMode.Edit && submitterMode === RX_ADMINISTRATION.submitterModes.locked);\n        }\n    }\n    onConfigUpdated(config) {\n        const isDisabled = this.isAlwaysDisabled || Boolean(config.disabled);\n        if (this.isDisabled !== isDisabled) {\n            // In order to support accessibility for fields, \"disabled\" control status will be always \"false\" and will not\n            // be synced with \"isDisabled\" component property. Field might not be focusable when control is disabled.\n            this.isDisabled = isDisabled;\n            if (!this.isDisabled) {\n                // Update validation status of the control after change \"isDisabled\" status to false.\n                this.formControl.updateValueAndValidity();\n            }\n            this.checkValidation();\n        }\n        this.isHidden = this.isAlwaysHidden || Boolean(config.hidden);\n        this.label = isUndefined(config.label) ? this.fieldDefinition.name : config.label;\n        this.inReadState = Boolean(config.inReadState);\n    }\n    getFieldValidators() {\n        return [];\n    }\n    getRequiredFieldValidationError() {\n        return this.translateService.instant('com.bmc.arsys.rx.client.view-components.validation.required.message');\n    }\n    getFieldInstanceProp(prop, fieldId = this.fieldId, associatedRecordPath = this.associatedRecordPath) {\n        return this.recordEditorApi.getFieldInstanceProp(fieldId, prop, associatedRecordPath);\n    }\n    setFieldInstanceProp(prop, value, fieldId = this.fieldId, associatedRecordPath = this.associatedRecordPath) {\n        this.recordEditorApi.setFieldInstanceProp(fieldId, prop, value, associatedRecordPath);\n    }\n    setProperty(propertyPath, propertyValue) {\n        if (includes(['hidden', 'disabled'], propertyPath)) {\n            this.notifyPropertyChanged(propertyPath, propertyValue);\n        }\n        else {\n            return throwError(`Field property ${propertyPath} is not settable.`);\n        }\n    }\n    subscribeOnConfigValueChange() {\n        const value$ = this.configReady$.pipe(pluck('value'), \n        // Do not update field value if expression gets evaluated to undefined, e.g when:\n        // - expression references a removed view component, or\n        // - view component hasn't loaded the data yet\n        filter((val) => !isUndefined(val)), distinctUntilChanged(), takeUntil(this.recordInstance$), takeUntil(this.destroyed$));\n        value$.pipe(take(1)).subscribe((val) => {\n            // Only update field with non empty value on first expression change.\n            // At this time we don't know if null is a default value or it was evaluated from expression.\n            if (!isNull(val)) {\n                this.setFieldValue(val, { markAsTouched: false, markAsDirty: false });\n            }\n        });\n        value$.pipe(skip(1)).subscribe((val) => this.setFieldValue(val));\n    }\n    checkValidation() {\n        if (this.isDisabled && this.formControl.invalid) {\n            // Remove errors to make control valid when \"isDisabled\" status is true.\n            this.formControl.setErrors(null);\n            this.updateValidationMessage();\n        }\n    }\n    updateValidationMessage() {\n        if (this.formControl.errors) {\n            if (this.formControl.errors.required) {\n                this.formControl.errors.required = this.getRequiredFieldValidationError();\n            }\n            this.validationErrorMessage = values(this.formControl.errors).join(', ');\n        }\n        else {\n            this.validationErrorMessage = null;\n        }\n    }\n}\nBaseRecordEditorFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BaseRecordEditorFieldComponent, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Directive });\nBaseRecordEditorFieldComponent.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.1.3\", type: BaseRecordEditorFieldComponent, inputs: { config: \"config\" }, host: { properties: { \"class.rx-field-required\": \"this.isRequired\", \"class.rx-field-disabled\": \"this.isDisabled\" } }, usesInheritance: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BaseRecordEditorFieldComponent, decorators: [{\n            type: Directive\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; }, propDecorators: { isRequired: [{\n                type: HostBinding,\n                args: ['class.rx-field-required']\n            }], isDisabled: [{\n                type: HostBinding,\n                args: ['class.rx-field-disabled']\n            }], config: [{\n                type: Input\n            }] } });\n\nconst RX_ATTACHMENT_FIELD = {\n    defaultOptions: {\n        filesCount: 1,\n        mode: UploaderMode.Manual,\n        selectionMode: UploaderSelectionMode.File,\n        chunkSize: '100KB',\n        maxFileSize: '2GB' // Default is 20 MB\n    }\n};\n\nclass AttachmentFieldComponent extends BaseRecordEditorFieldComponent {\n    constructor(injector) {\n        super(injector);\n        // Uploader options\n        this.filesCount = RX_ATTACHMENT_FIELD.defaultOptions.filesCount;\n        this.mode = RX_ATTACHMENT_FIELD.defaultOptions.mode;\n        this.selectionMode = RX_ATTACHMENT_FIELD.defaultOptions.selectionMode;\n        this.chunkSize = RX_ATTACHMENT_FIELD.defaultOptions.chunkSize;\n        this.maxFileSize = RX_ATTACHMENT_FIELD.defaultOptions.maxFileSize;\n        this.showFiles = [];\n        this.texts = {};\n        this.readStateConfig = {\n            fileName: null,\n            downloadURL: null\n        };\n    }\n    onConfigInitialized(config) {\n        super.onConfigInitialized(config);\n        this.attachmentFormControl = new FormControl(this.showFiles);\n        this.maxFileSize = this.fieldDefinition.maxSize\n            ? toString(this.fieldDefinition.maxSize)\n            : RX_ATTACHMENT_FIELD.defaultOptions.maxFileSize;\n        this.formControl.valueChanges\n            .pipe(startWith(this.formControl.value), \n        // Update ADAPT component only when formControl value will be a file name string.\n        // When value comes as a File, it means this file is already attached to ADAPT component.\n        filter((value) => !(value instanceof File)), distinctUntilChanged((previous, next) => {\n            return (previous === next &&\n                // After uploading a file, adapt-rx-uploader component has to be updated with the URL to download the file.\n                // This happens when the record editor updates the entire form with values from the saved record instance.\n                // valueChange will emit the same value as before, but adapt-rx-uploader will not have a downloadURL yet.\n                has(this.attachmentFormControl.value, '[0].downloadURL'));\n        }), takeUntil(this.destroyed$))\n            .subscribe(() => {\n            this.attachmentFormControl.reset();\n            this.addAttachedFileToAttachmentList(this.getFieldValue());\n        });\n        this.formControl.touched$.pipe(takeUntil(this.destroyed$)).subscribe((touched) => {\n            touched ? this.attachmentFormControl.markAsTouched() : this.attachmentFormControl.markAsUntouched();\n        });\n    }\n    addAttachedFileToAttachmentList(fileName) {\n        if (fileName) {\n            const downloadAttachmentUrl = this.recordEditorApi.getAttachmentDownloadUrl(this.fieldId);\n            let attachment;\n            attachment = {\n                data: {\n                    name: fileName\n                },\n                isUploading: true\n            };\n            if (downloadAttachmentUrl) {\n                attachment.downloadURL = downloadAttachmentUrl;\n            }\n            this.showFiles = [attachment];\n        }\n        else {\n            this.showFiles = [];\n        }\n        this.attachmentFormControl.setValue(this.showFiles);\n    }\n    onConfigUpdated(config) {\n        super.onConfigUpdated(config);\n        if (this.inReadState) {\n            this.readStateConfig = {\n                fileName: this.getDisplayValue(),\n                downloadURL: this.recordEditorApi.getAttachmentDownloadUrl(this.fieldId)\n            };\n        }\n    }\n    removeAttachment(attachment) {\n        if (attachment) {\n            this.attachment = null;\n        }\n        this.addAttachedFileToAttachmentList();\n        this.setFieldValue(this.attachment);\n    }\n    addAttachment(attachments) {\n        const attachment = first$1(attachments);\n        if (attachment) {\n            this.attachment = attachment.data;\n            this.setFieldValue(this.attachment);\n        }\n    }\n    onBlur() {\n        this.formControl.markAsTouched();\n    }\n}\nAttachmentFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AttachmentFieldComponent, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nAttachmentFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: AttachmentFieldComponent, selector: \"rx-attachment-field\", usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"!isHidden\\\">\\n  <ng-container *ngIf=\\\"inReadState; else editStateElementRef\\\">\\n    <div *ngIf=\\\"getDisplayValue(); else emptyReadonlyField\\\" [attr.aria-label]=\\\"label\\\">\\n      <label aria-hidden=\\\"true\\\">{{ label }}</label>\\n\\n      <adapt-downloader class=\\\"d-block\\\" *ngIf=\\\"getDisplayValue()\\\" [config]=\\\"readStateConfig\\\"></adapt-downloader>\\n    </div>\\n  </ng-container>\\n</ng-container>\\n\\n<ng-template #editStateElementRef>\\n  <adapt-rx-uploader\\n    [ngClass]=\\\"{ 'attachment-disabled': isDisabled }\\\"\\n    [reusable]=\\\"true\\\"\\n    [label]=\\\"label\\\"\\n    [readonly]=\\\"isDisabled\\\"\\n    [required]=\\\"isRequired\\\"\\n    [allowDeletion]=\\\"false\\\"\\n    [uploadMode]=\\\"mode\\\"\\n    [selectionMode]=\\\"selectionMode\\\"\\n    [filesCount]=\\\"filesCount\\\"\\n    [maxFileSize]=\\\"maxFileSize\\\"\\n    [chunkSize]=\\\"chunkSize\\\"\\n    [texts]=\\\"texts\\\"\\n    (removedFileFromQueue)=\\\"removeAttachment($event)\\\"\\n    (deletedFile)=\\\"removeAttachment($event)\\\"\\n    (afterFilesAdded)=\\\"addAttachment($event)\\\"\\n    [formControl]=\\\"attachmentFormControl\\\"\\n    (onBlur)=\\\"onBlur()\\\"\\n  >\\n  </adapt-rx-uploader>\\n</ng-template>\\n\\n<ng-template #emptyReadonlyField>\\n  <rx-read-only-field [label]=\\\"label\\\" [value]=\\\"'-'\\\"></rx-read-only-field>\\n</ng-template>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}::ng-deep .d-icon-exclamation_triangle{display:none}::ng-deep .adapt-rx-uploader__restrict{display:none}::ng-deep .upload-status{display:none}::ng-deep .adapt-uploader-item{border-top:0;height:37px!important;border-bottom:0}::ng-deep .adapt-rx-uploader-file-attach-btn__wrp{max-width:100%}::ng-deep .adapt-rx-uploader-attach-btn{overflow:hidden;text-overflow:ellipsis;max-width:100%}::ng-deep .adapt-uploader-file{margin-left:0;padding-bottom:10px;padding-left:0!important;flex:auto;height:100%;border-bottom:1px solid #f0f1f1}::ng-deep .adapt-uploader-status{margin-right:20px;width:15px;border-bottom:1px solid #f0f1f1}::ng-deep .attachment-disabled .adapt-uploader-list-files-zone__header{margin:0;display:none}::ng-deep .attachment-disabled .empty-state{display:none}::ng-deep .attachment-disabled .empty-state__container{margin:0;padding:0}::ng-deep .attachment-disabled .empty-state__label{margin-top:0;text-align:left}\\n\"], components: [{ type: i1.AdaptDownloaderComponent, selector: \"adapt-downloader\", inputs: [\"config\", \"icons\", \"width\"], outputs: [\"downloadLinkPressed\"] }, { type: i1.AdaptRxUploaderComponent, selector: \"adapt-rx-uploader\", inputs: [\"uploadMode\", \"selectionMode\", \"enableFileDialog\", \"allowedTypes\", \"forbiddenTypes\", \"suppressParallel\", \"filesCount\", \"allowDuplicates\", \"showUploadFolderAlert\", \"visibleFiles\", \"reusable\", \"allowDeletion\", \"customErrors\", \"indeterminateFileLoader\", \"url\", \"deleteUrl\", \"droppableArea\", \"enableCustomDownload\", \"customDownload\", \"popoverAppendToBody\", \"showTypesRestriction\", \"showMinSizeRestriction\", \"showMaxSizeRestriction\", \"showFilesCountRestriction\", \"texts\", \"icons\", \"fileErrors\", \"enableDnD\", \"maxFileSize\", \"minFileSize\", \"chunkSize\", \"testID\"], outputs: [\"beforeFileDialogOpen\", \"afterFileDialogOpen\", \"beforeFilesAdded\", \"afterFilesAdded\", \"dropped\", \"dragOver\", \"startFileUploading\", \"processFileUploading\", \"endFileUploading\", \"errorFileUploading\", \"finishedFileUploading\", \"removedFileFromQueue\", \"deletedFile\", \"cancelUploading\"] }, { type: i1$6.ReadOnlyFieldComponent, selector: \"rx-read-only-field\", inputs: [\"label\", \"value\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlDirective, selector: \"[formControl]\", inputs: [\"disabled\", \"formControl\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AttachmentFieldComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-attachment-field',\n                    styleUrls: ['./attachment-field.scss'],\n                    templateUrl: './attachment-field.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nfunction UploaderFactory() {\n    return new UploaderService();\n}\nclass AttachmentFieldModule {\n}\nAttachmentFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AttachmentFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nAttachmentFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AttachmentFieldModule, declarations: [AttachmentFieldComponent], imports: [i1.AdaptRxUploaderModule, CommonModule,\n        ReadOnlyFieldModule,\n        ReactiveFormsModule,\n        TranslateModule,\n        AdaptDownloadModule] });\nAttachmentFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AttachmentFieldModule, imports: [[\n            AdaptRxUploaderModule.forRoot({\n                uploader: {\n                    provide: 'UploaderService',\n                    useFactory: UploaderFactory,\n                    deps: []\n                }\n            }),\n            CommonModule,\n            ReadOnlyFieldModule,\n            ReactiveFormsModule,\n            TranslateModule,\n            AdaptDownloadModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AttachmentFieldModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        AdaptRxUploaderModule.forRoot({\n                            uploader: {\n                                provide: 'UploaderService',\n                                useFactory: UploaderFactory,\n                                deps: []\n                            }\n                        }),\n                        CommonModule,\n                        ReadOnlyFieldModule,\n                        ReactiveFormsModule,\n                        TranslateModule,\n                        AdaptDownloadModule\n                    ],\n                    declarations: [AttachmentFieldComponent],\n                    entryComponents: [AttachmentFieldComponent]\n                }]\n        }] });\n\nclass AttachmentFieldRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.Attachment,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(AttachmentFieldComponent),\n            properties: RX_BASE_FIELD_PROPERTIES,\n            name: 'Attachment',\n            group: RX_FIELD_COMPONENTS.stencilGroupName,\n            icon: 'paperclip',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(AttachmentFieldDesignComponent),\n            designComponentModel: AttachmentFieldDesignModel,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            canBeInsertedInto(componentTypes) {\n                return componentTypes.includes(RxViewComponentType.RecordEditor);\n            },\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nAttachmentFieldRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AttachmentFieldRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nAttachmentFieldRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AttachmentFieldRegistrationModule, imports: [AttachmentFieldModule, AttachmentFieldDesignModule] });\nAttachmentFieldRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AttachmentFieldRegistrationModule, imports: [[AttachmentFieldModule, AttachmentFieldDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AttachmentFieldRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [AttachmentFieldModule, AttachmentFieldDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nvar BooleanFieldEditingMode;\n(function (BooleanFieldEditingMode) {\n    BooleanFieldEditingMode[\"Checkbox\"] = \"checkbox\";\n    BooleanFieldEditingMode[\"Switch\"] = \"switch\";\n})(BooleanFieldEditingMode || (BooleanFieldEditingMode = {}));\nvar BooleanFieldModelValue;\n(function (BooleanFieldModelValue) {\n    BooleanFieldModelValue[BooleanFieldModelValue[\"True\"] = 1] = \"True\";\n    BooleanFieldModelValue[BooleanFieldModelValue[\"False\"] = 0] = \"False\";\n})(BooleanFieldModelValue || (BooleanFieldModelValue = {}));\n\nclass BooleanFieldDesignModel extends BaseRecordEditorFieldDesign {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.injector = injector;\n        this.sandbox = sandbox;\n        this.componentProperties$ = this.sandbox.componentProperties$;\n        this.fieldResourceTypes = [RX_RECORD_DEFINITION.resourceTypes.boolean];\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign(Object.assign(Object.assign({}, BaseRecordEditorFieldDesign.getInitialProperties()), { editingMode: BooleanFieldEditingMode.Switch }), initialProperties);\n    }\n    getInspectorConfig() {\n        return super\n            .getInspectorConfig()\n            .pipe(map((inspectorConfig) => this.editInspectorConfig(inspectorConfig)));\n    }\n    editInspectorConfig(inspectorConfig) {\n        const valueControlIndex = findIndex(inspectorConfig.inspectorSectionConfigs[0].controls, (item) => item.name === 'value');\n        const editingModeControl = {\n            name: 'editingMode',\n            component: SelectFormControlComponent,\n            options: {\n                label: 'Editing mode',\n                tooltip: new Tooltip('An optional Boolean field will always be displayed as a Switch.'),\n                required: false,\n                options: map$1(BooleanFieldEditingMode, (value, name) => ({\n                    id: value,\n                    name\n                }))\n            }\n        };\n        if (valueControlIndex !== -1) {\n            inspectorConfig.inspectorSectionConfigs[0].controls.splice(valueControlIndex, 0, editingModeControl);\n        }\n        return inspectorConfig;\n    }\n}\n\nclass BooleanFieldDesignComponent {\n    constructor() {\n        this.shouldDisplayAsCheckbox = false;\n        this.destroyed$ = new ReplaySubject(1);\n    }\n    ngOnInit() {\n        const editingMode$ = this.model.componentProperties$.pipe(map((componentProperties) => componentProperties.editingMode || BooleanFieldEditingMode.Switch));\n        combineLatest([editingMode$, this.model.isRequired$])\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe(([editingMode, isRequired]) => {\n            this.shouldDisplayAsCheckbox = isRequired && editingMode === BooleanFieldEditingMode.Checkbox;\n        });\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n}\nBooleanFieldDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BooleanFieldDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nBooleanFieldDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: BooleanFieldDesignComponent, selector: \"rx-boolean-field-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<ng-container *ngIf=\\\"!shouldDisplayAsCheckbox\\\">\\n  <div>\\n    <strong>\\n      {{ model.label$ | async }}\\n      <span *ngIf=\\\"model.isRequired$ | async\\\" class=\\\"form-control-required\\\">(required)</span>\\n    </strong>\\n  </div>\\n  <adapt-rx-switch [(ngModel)]=\\\"booleanValue\\\" [disabled]=\\\"true\\\"></adapt-rx-switch>\\n</ng-container>\\n\\n<ng-container *ngIf=\\\"shouldDisplayAsCheckbox\\\">\\n  <adapt-rx-checkbox\\n    [(ngModel)]=\\\"booleanValue\\\"\\n    [label]=\\\"model.label$ | async\\\"\\n    [required]=\\\"model.isRequired$ | async\\\"\\n    [disabled]=\\\"true\\\"\\n  >\\n  </adapt-rx-checkbox>\\n</ng-container>\\n\", components: [{ type: i1.AdaptRxSwitchComponent, selector: \"adapt-rx-switch\", inputs: [\"value\", \"size\", \"isLabelBefore\", \"checked\"] }, { type: i1.AdaptRxCheckboxComponent, selector: \"adapt-rx-checkbox\", inputs: [\"value\", \"checked\", \"indeterminate\"], outputs: [\"indeterminateChange\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BooleanFieldDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-boolean-field-design',\n                    templateUrl: './boolean-field-design.component.html'\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass BooleanFieldDesignModule {\n}\nBooleanFieldDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BooleanFieldDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nBooleanFieldDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BooleanFieldDesignModule, declarations: [BooleanFieldDesignComponent], imports: [CommonModule, FormsModule, AdaptRxSwitchModule, AdaptRxCheckboxModule], exports: [BooleanFieldDesignComponent] });\nBooleanFieldDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BooleanFieldDesignModule, imports: [[CommonModule, FormsModule, AdaptRxSwitchModule, AdaptRxCheckboxModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BooleanFieldDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, FormsModule, AdaptRxSwitchModule, AdaptRxCheckboxModule],\n                    declarations: [BooleanFieldDesignComponent],\n                    exports: [BooleanFieldDesignComponent],\n                    entryComponents: [BooleanFieldDesignComponent]\n                }]\n        }] });\n\nclass BooleanFieldComponent extends BaseRecordEditorFieldComponent {\n    constructor(injector, rxBooleanPipe) {\n        super(injector);\n        this.rxBooleanPipe = rxBooleanPipe;\n    }\n    get booleanValue() {\n        const value = this.getFieldValue();\n        return isNull(value) ? null : Boolean(value);\n    }\n    set booleanValue(value) {\n        if (isNull(value)) {\n            this.setFieldValue(null);\n        }\n        else {\n            this.setFieldValue(Number(value));\n        }\n    }\n    getDisplayValue() {\n        const displayValue = super.getDisplayValue();\n        if (!isNil(displayValue)) {\n            return this.rxBooleanPipe.transform(displayValue);\n        }\n        else {\n            return '-';\n        }\n    }\n    onConfigInitialized(config) {\n        super.onConfigInitialized(config);\n        this.editingMode = config.editingMode;\n    }\n    onConfigUpdated(config) {\n        super.onConfigUpdated(config);\n        // Set 0 as a default value for checkbox, e.g. scenario in the create record editor mode\n        if (this.shouldDisplayAsCheckbox && this.getFieldValue() === null) {\n            this.setFieldValue(BooleanFieldModelValue.False, { markAsDirty: false, markAsTouched: false });\n        }\n    }\n    ngAfterViewInit() {\n        this.formControl.touched$\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe((touched) => { var _a, _b; return touched ? (_a = this.ngModel) === null || _a === void 0 ? void 0 : _a.control.markAsTouched() : (_b = this.ngModel) === null || _b === void 0 ? void 0 : _b.control.markAsUntouched(); });\n    }\n    get shouldDisplayAsCheckbox() {\n        return this.editingMode === BooleanFieldEditingMode.Checkbox && this.isRequired;\n    }\n    onBlur() {\n        this.formControl.markAsTouched();\n    }\n}\nBooleanFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BooleanFieldComponent, deps: [{ token: i0.Injector }, { token: i1$1.RxBooleanPipe }], target: i0.ɵɵFactoryTarget.Component });\nBooleanFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: BooleanFieldComponent, selector: \"rx-boolean-field\", viewQueries: [{ propertyName: \"ngModel\", first: true, predicate: [\"booleanComponent\"], descendants: true, read: NgModel }], usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"!isHidden\\\">\\n  <rx-read-only-field\\n    *ngIf=\\\"inReadState; else editStateElementRef\\\"\\n    [label]=\\\"label\\\"\\n    [value]=\\\"getDisplayValue()\\\"\\n  ></rx-read-only-field>\\n</ng-container>\\n\\n<ng-template #editStateElementRef>\\n  <rx-boolean\\n    #booleanComponent\\n    [hidden]=\\\"isHidden\\\"\\n    [label]=\\\"label\\\"\\n    [isDisabled]=\\\"isDisabled\\\"\\n    [required]=\\\"isRequired\\\"\\n    [shouldDisplayAsCheckbox]=\\\"shouldDisplayAsCheckbox\\\"\\n    [(ngModel)]=\\\"booleanValue\\\"\\n    (rxBlur)=\\\"onBlur()\\\"\\n  >\\n  </rx-boolean>\\n</ng-template>\\n\", components: [{ type: i1$6.ReadOnlyFieldComponent, selector: \"rx-read-only-field\", inputs: [\"label\", \"value\"] }, { type: i2$5.RxBooleanComponent, selector: \"rx-boolean\", inputs: [\"shouldDisplayAsCheckbox\", \"required\", \"isDisabled\", \"label\", \"tooltip\"], outputs: [\"rxBlur\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BooleanFieldComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-boolean-field',\n                    templateUrl: './boolean-field.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1$1.RxBooleanPipe }]; }, propDecorators: { ngModel: [{\n                type: ViewChild,\n                args: ['booleanComponent', { read: NgModel }]\n            }] } });\n\nclass BooleanFieldModule {\n}\nBooleanFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BooleanFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nBooleanFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BooleanFieldModule, declarations: [BooleanFieldComponent], imports: [CommonModule,\n        AdaptRxFormControlModule,\n        ReadOnlyFieldModule,\n        AdaptButtonModule,\n        AdaptRxCheckboxModule,\n        TranslateModule,\n        ReactiveFormsModule,\n        FormsModule,\n        RxBooleanModule] });\nBooleanFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BooleanFieldModule, imports: [[\n            CommonModule,\n            AdaptRxFormControlModule,\n            ReadOnlyFieldModule,\n            AdaptButtonModule,\n            AdaptRxCheckboxModule,\n            TranslateModule,\n            ReactiveFormsModule,\n            FormsModule,\n            RxBooleanModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BooleanFieldModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        AdaptRxFormControlModule,\n                        ReadOnlyFieldModule,\n                        AdaptButtonModule,\n                        AdaptRxCheckboxModule,\n                        TranslateModule,\n                        ReactiveFormsModule,\n                        FormsModule,\n                        RxBooleanModule\n                    ],\n                    declarations: [BooleanFieldComponent],\n                    entryComponents: [BooleanFieldComponent]\n                }]\n        }] });\n\nclass BooleanFieldRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.Boolean,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(BooleanFieldComponent),\n            properties: RX_BASE_FIELD_PROPERTIES,\n            name: 'Boolean',\n            group: RX_FIELD_COMPONENTS.stencilGroupName,\n            icon: 'switcher_check',\n            designComponentModel: BooleanFieldDesignModel,\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(BooleanFieldDesignComponent),\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            canBeInsertedInto(componentTypes) {\n                return componentTypes.includes(RxViewComponentType.RecordEditor);\n            },\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nBooleanFieldRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BooleanFieldRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nBooleanFieldRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BooleanFieldRegistrationModule, imports: [BooleanFieldModule, BooleanFieldDesignModule] });\nBooleanFieldRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BooleanFieldRegistrationModule, imports: [[BooleanFieldModule, BooleanFieldDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BooleanFieldRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [BooleanFieldModule, BooleanFieldDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass DateFieldDesignModel extends BaseRecordEditorFieldDesign {\n    constructor() {\n        super(...arguments);\n        this.fieldResourceTypes = [RX_RECORD_DEFINITION.resourceTypes.dateOnly];\n    }\n}\n\nclass DateFieldDesignComponent {\n}\nDateFieldDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateFieldDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nDateFieldDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: DateFieldDesignComponent, selector: \"rx-date-field-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<adapt-rx-datetime\\n  class=\\\"rx-pointer-events-none\\\"\\n  [required]=\\\"model.isRequired$ | async\\\"\\n  [(ngModel)]=\\\"dateValue\\\"\\n  [disabled]=\\\"true\\\"\\n  [label]=\\\"model.label$ | async\\\"\\n></adapt-rx-datetime>\\n\", components: [{ type: i1.AdaptRxDatetimeComponent, selector: \"adapt-rx-datetime\", inputs: [\"placeholder\", \"inline\", \"placement\", \"appendToBody\", \"inlineLight\", \"inlineCompact\", \"dayFilter\", \"disableWizard\", \"mode\", \"hasSeconds\", \"use12HoursTime\", \"firstDayOfWeek\", \"initialDatetime\", \"defaultDatetime\", \"disabledStyleForReadonlyState\", \"popupClass\", \"texts\", \"inputFormat\"], outputs: [\"onPopupOpenChange\", \"onDatetimeChange\"] }], directives: [{ type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateFieldDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-date-field-design',\n                    templateUrl: './date-field-design.component.html'\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass DateFieldDesignModule {\n}\nDateFieldDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateFieldDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nDateFieldDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateFieldDesignModule, declarations: [DateFieldDesignComponent], imports: [AdaptRxDatetimeModule, CommonModule, FormsModule] });\nDateFieldDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateFieldDesignModule, imports: [[AdaptRxDatetimeModule, CommonModule, FormsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateFieldDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [AdaptRxDatetimeModule, CommonModule, FormsModule],\n                    declarations: [DateFieldDesignComponent],\n                    entryComponents: [DateFieldDesignComponent]\n                }]\n        }] });\n\nclass DateAdapter extends AdaptRxDatetimeAdapter {\n    constructor() {\n        super(...arguments);\n        this.storeDateFormat = 'YYYY-MM-DD'; // AR server only accepts this format for Date.\n    }\n    fromModel(dateString) {\n        let adaptedValue = null;\n        const date = moment(dateString);\n        if (date && date.isValid()) {\n            adaptedValue = {\n                year: date.year(),\n                month: date.month(),\n                date: date.date(),\n                hours: date.hours(),\n                minutes: date.minutes(),\n                seconds: date.seconds()\n            };\n        }\n        return adaptedValue;\n    }\n    toModel(date) {\n        return date\n            ? date.parseError\n                ? moment.invalid().toString()\n                : moment([date.year || 0, date.month || 0, date.date || 0]).format(this.storeDateFormat)\n            : null;\n    }\n}\nDateAdapter.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateAdapter, deps: null, target: i0.ɵɵFactoryTarget.Injectable });\nDateAdapter.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateAdapter });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateAdapter, decorators: [{\n            type: Injectable\n        }] });\n\nclass DateFieldComponent extends BaseRecordEditorFieldComponent {\n    constructor(injector, datePipe) {\n        super(injector);\n        this.datePipe = datePipe;\n    }\n    getDisplayValue() {\n        const displayValue = super.getDisplayValue();\n        if (displayValue) {\n            return this.datePipe.transform(displayValue, 'mediumDate');\n        }\n    }\n    getFieldValidators() {\n        const validatorFn = (control) => {\n            const date = control.value ? moment(control.value) : null;\n            return control.value && date && !date.isValid()\n                ? { rxDatetimeFormat: { mode: RxDatetimePickerMode.Date } }\n                : null;\n        };\n        return [validatorFn];\n    }\n}\nDateFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateFieldComponent, deps: [{ token: i0.Injector }, { token: i3.DatePipe }], target: i0.ɵɵFactoryTarget.Component });\nDateFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: DateFieldComponent, selector: \"rx-date-field\", providers: [{ provide: AdaptRxDatetimeAdapter, useClass: DateAdapter }], usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"!isHidden\\\">\\n  <rx-read-only-field\\n    *ngIf=\\\"inReadState; else editStateElementRef\\\"\\n    [label]=\\\"label\\\"\\n    [value]=\\\"getDisplayValue()\\\"\\n  ></rx-read-only-field>\\n</ng-container>\\n\\n<ng-template #editStateElementRef>\\n  <adapt-rx-datetime\\n    [label]=\\\"label\\\"\\n    [required]=\\\"isRequired\\\"\\n    [formControl]=\\\"formControl\\\"\\n    [readonly]=\\\"isDisabled\\\"\\n    [disabledStyleForReadonlyState]=\\\"true\\\"\\n  ></adapt-rx-datetime>\\n</ng-template>\\n\", components: [{ type: i1$6.ReadOnlyFieldComponent, selector: \"rx-read-only-field\", inputs: [\"label\", \"value\"] }, { type: i1.AdaptRxDatetimeComponent, selector: \"adapt-rx-datetime\", inputs: [\"placeholder\", \"inline\", \"placement\", \"appendToBody\", \"inlineLight\", \"inlineCompact\", \"dayFilter\", \"disableWizard\", \"mode\", \"hasSeconds\", \"use12HoursTime\", \"firstDayOfWeek\", \"initialDatetime\", \"defaultDatetime\", \"disabledStyleForReadonlyState\", \"popupClass\", \"texts\", \"inputFormat\"], outputs: [\"onPopupOpenChange\", \"onDatetimeChange\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlDirective, selector: \"[formControl]\", inputs: [\"disabled\", \"formControl\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateFieldComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-date-field',\n                    templateUrl: './date-field.component.html',\n                    providers: [{ provide: AdaptRxDatetimeAdapter, useClass: DateAdapter }]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i3.DatePipe }]; } });\n\nclass DateFieldModule {\n}\nDateFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nDateFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateFieldModule, declarations: [DateFieldComponent], imports: [AdaptRxDatetimeModule,\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        ReadOnlyFieldModule,\n        TranslateModule] });\nDateFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateFieldModule, providers: [DatePipe], imports: [[\n            AdaptRxDatetimeModule,\n            CommonModule,\n            FormsModule,\n            ReactiveFormsModule,\n            ReadOnlyFieldModule,\n            TranslateModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateFieldModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        AdaptRxDatetimeModule,\n                        CommonModule,\n                        FormsModule,\n                        ReactiveFormsModule,\n                        ReadOnlyFieldModule,\n                        TranslateModule\n                    ],\n                    declarations: [DateFieldComponent],\n                    providers: [DatePipe],\n                    entryComponents: [DateFieldComponent]\n                }]\n        }] });\n\nclass DateFieldRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.Date,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(DateFieldComponent),\n            properties: RX_BASE_FIELD_PROPERTIES,\n            name: 'Date',\n            group: RX_FIELD_COMPONENTS.stencilGroupName,\n            icon: 'calendar',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(DateFieldDesignComponent),\n            designComponentModel: DateFieldDesignModel,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            canBeInsertedInto(componentTypes) {\n                return componentTypes.includes(RxViewComponentType.RecordEditor);\n            },\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nDateFieldRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateFieldRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nDateFieldRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateFieldRegistrationModule, imports: [DateFieldModule, DateFieldDesignModule] });\nDateFieldRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateFieldRegistrationModule, imports: [[DateFieldModule, DateFieldDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateFieldRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [DateFieldModule, DateFieldDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass DateTimeFieldDesignModel extends BaseRecordEditorFieldDesign {\n    constructor() {\n        super(...arguments);\n        this.fieldResourceTypes = [RX_RECORD_DEFINITION.resourceTypes.dateTime];\n    }\n}\n\nclass DateTimeFieldDesignComponent {\n    constructor() {\n        this.pickerMode = RxDatetimePickerMode.DateTime;\n    }\n}\nDateTimeFieldDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeFieldDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nDateTimeFieldDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: DateTimeFieldDesignComponent, selector: \"rx-date-time-field-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<adapt-rx-datetime\\n  class=\\\"rx-pointer-events-none\\\"\\n  [required]=\\\"model.isRequired$ | async\\\"\\n  [(ngModel)]=\\\"dateTimeValue\\\"\\n  [disabled]=\\\"true\\\"\\n  [mode]=\\\"pickerMode\\\"\\n  [label]=\\\"model.label$ | async\\\"\\n>\\n</adapt-rx-datetime>\\n\", components: [{ type: i1.AdaptRxDatetimeComponent, selector: \"adapt-rx-datetime\", inputs: [\"placeholder\", \"inline\", \"placement\", \"appendToBody\", \"inlineLight\", \"inlineCompact\", \"dayFilter\", \"disableWizard\", \"mode\", \"hasSeconds\", \"use12HoursTime\", \"firstDayOfWeek\", \"initialDatetime\", \"defaultDatetime\", \"disabledStyleForReadonlyState\", \"popupClass\", \"texts\", \"inputFormat\"], outputs: [\"onPopupOpenChange\", \"onDatetimeChange\"] }], directives: [{ type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeFieldDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-date-time-field-design',\n                    templateUrl: './date-time-field-design.component.html'\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass DateTimeFieldDesignModule {\n}\nDateTimeFieldDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeFieldDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nDateTimeFieldDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeFieldDesignModule, declarations: [DateTimeFieldDesignComponent], imports: [AdaptRxDatetimeModule, CommonModule, FormsModule] });\nDateTimeFieldDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeFieldDesignModule, imports: [[AdaptRxDatetimeModule, CommonModule, FormsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeFieldDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [AdaptRxDatetimeModule, CommonModule, FormsModule],\n                    declarations: [DateTimeFieldDesignComponent],\n                    entryComponents: [DateTimeFieldDesignComponent]\n                }]\n        }] });\n\nclass DateTimeAdapter extends AdaptRxDatetimeAdapter {\n    fromModel(dateString) {\n        let adaptedValue = null;\n        const date = moment(dateString);\n        if (date && date.isValid()) {\n            adaptedValue = {\n                year: date.year(),\n                month: date.month(),\n                date: date.date(),\n                hours: date.hours(),\n                minutes: date.minutes(),\n                seconds: date.seconds()\n            };\n        }\n        return adaptedValue;\n    }\n    toModel(date) {\n        return date\n            ? date.parseError\n                ? moment.invalid().toString()\n                : moment([\n                    date.year || 0,\n                    date.month || 0,\n                    date.date || 0,\n                    date.hours || 0,\n                    date.minutes || 0,\n                    date.seconds || 0\n                ]).toISOString()\n            : null;\n    }\n}\nDateTimeAdapter.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeAdapter, deps: null, target: i0.ɵɵFactoryTarget.Injectable });\nDateTimeAdapter.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeAdapter });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeAdapter, decorators: [{\n            type: Injectable\n        }] });\n\nclass DateTimeFieldComponent extends BaseRecordEditorFieldComponent {\n    constructor(injector, datePipe) {\n        super(injector);\n        this.datePipe = datePipe;\n        this.pickerMode = RxDatetimePickerMode.DateTime;\n    }\n    getDisplayValue() {\n        const displayValue = super.getDisplayValue();\n        if (displayValue) {\n            return this.datePipe.transform(displayValue, 'medium');\n        }\n    }\n    getFieldValidators() {\n        const validatorFn = (control) => {\n            const date = control.value ? moment(control.value) : null;\n            return control.value && date && !date.isValid()\n                ? { rxDatetimeFormat: { mode: this.pickerMode, hasSeconds: true } }\n                : null;\n        };\n        return [validatorFn];\n    }\n}\nDateTimeFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeFieldComponent, deps: [{ token: i0.Injector }, { token: i3.DatePipe }], target: i0.ɵɵFactoryTarget.Component });\nDateTimeFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: DateTimeFieldComponent, selector: \"rx-date-time-field\", providers: [{ provide: AdaptRxDatetimeAdapter, useClass: DateTimeAdapter }], usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"!isHidden\\\">\\n  <rx-read-only-field\\n    *ngIf=\\\"inReadState; else editStateElementRef\\\"\\n    [label]=\\\"label\\\"\\n    [value]=\\\"getDisplayValue()\\\"\\n  ></rx-read-only-field>\\n</ng-container>\\n\\n<ng-template #editStateElementRef>\\n  <adapt-rx-datetime\\n    [label]=\\\"label\\\"\\n    [required]=\\\"isRequired\\\"\\n    [formControl]=\\\"formControl\\\"\\n    [readonly]=\\\"isDisabled\\\"\\n    [disabledStyleForReadonlyState]=\\\"true\\\"\\n    [mode]=\\\"pickerMode\\\"\\n    hasSeconds=\\\"true\\\"\\n  ></adapt-rx-datetime>\\n</ng-template>\\n\", components: [{ type: i1$6.ReadOnlyFieldComponent, selector: \"rx-read-only-field\", inputs: [\"label\", \"value\"] }, { type: i1.AdaptRxDatetimeComponent, selector: \"adapt-rx-datetime\", inputs: [\"placeholder\", \"inline\", \"placement\", \"appendToBody\", \"inlineLight\", \"inlineCompact\", \"dayFilter\", \"disableWizard\", \"mode\", \"hasSeconds\", \"use12HoursTime\", \"firstDayOfWeek\", \"initialDatetime\", \"defaultDatetime\", \"disabledStyleForReadonlyState\", \"popupClass\", \"texts\", \"inputFormat\"], outputs: [\"onPopupOpenChange\", \"onDatetimeChange\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlDirective, selector: \"[formControl]\", inputs: [\"disabled\", \"formControl\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeFieldComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-date-time-field',\n                    templateUrl: './date-time-field.component.html',\n                    providers: [{ provide: AdaptRxDatetimeAdapter, useClass: DateTimeAdapter }]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i3.DatePipe }]; } });\n\nclass DateTimeFieldModule {\n}\nDateTimeFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nDateTimeFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeFieldModule, declarations: [DateTimeFieldComponent], imports: [AdaptRxDatetimeModule,\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        ReadOnlyFieldModule,\n        TranslateModule] });\nDateTimeFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeFieldModule, providers: [DatePipe], imports: [[\n            AdaptRxDatetimeModule,\n            CommonModule,\n            FormsModule,\n            ReactiveFormsModule,\n            ReadOnlyFieldModule,\n            TranslateModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeFieldModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        AdaptRxDatetimeModule,\n                        CommonModule,\n                        FormsModule,\n                        ReactiveFormsModule,\n                        ReadOnlyFieldModule,\n                        TranslateModule\n                    ],\n                    declarations: [DateTimeFieldComponent],\n                    providers: [DatePipe],\n                    entryComponents: [DateTimeFieldComponent]\n                }]\n        }] });\n\nclass DateTimeFieldRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.DateTime,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(DateTimeFieldComponent),\n            properties: RX_BASE_FIELD_PROPERTIES,\n            name: 'Date/Time',\n            group: RX_FIELD_COMPONENTS.stencilGroupName,\n            icon: 'calendar_clock_o',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(DateTimeFieldDesignComponent),\n            designComponentModel: DateTimeFieldDesignModel,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            canBeInsertedInto(componentTypes) {\n                return componentTypes.includes(RxViewComponentType.RecordEditor);\n            },\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nDateTimeFieldRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeFieldRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nDateTimeFieldRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeFieldRegistrationModule, imports: [DateTimeFieldModule, DateTimeFieldDesignModule] });\nDateTimeFieldRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeFieldRegistrationModule, imports: [[DateTimeFieldModule, DateTimeFieldDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DateTimeFieldRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [DateTimeFieldModule, DateTimeFieldDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass DecimalFieldDesignModel extends BaseRecordEditorFieldDesign {\n    constructor() {\n        super(...arguments);\n        this.fieldResourceTypes = [RX_RECORD_DEFINITION.resourceTypes.decimal, RX_RECORD_DEFINITION.resourceTypes.real];\n    }\n}\n\nclass DecimalFieldDesignComponent {\n}\nDecimalFieldDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DecimalFieldDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nDecimalFieldDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: DecimalFieldDesignComponent, selector: \"rx-decimal-field-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<adapt-rx-textfield\\n  class=\\\"rx-pointer-events-none\\\"\\n  [required]=\\\"model.isRequired$ | async\\\"\\n  [label]=\\\"model.label$ | async\\\"\\n  [disabled]=\\\"true\\\"\\n  ngModel\\n></adapt-rx-textfield>\\n\", components: [{ type: i1.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }], directives: [{ type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DecimalFieldDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-decimal-field-design',\n                    templateUrl: './decimal-field-design.component.html'\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass DecimalFieldDesignModule {\n}\nDecimalFieldDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DecimalFieldDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nDecimalFieldDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DecimalFieldDesignModule, declarations: [DecimalFieldDesignComponent], imports: [CommonModule, AdaptRxTextfieldModule, FormsModule] });\nDecimalFieldDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DecimalFieldDesignModule, imports: [[CommonModule, AdaptRxTextfieldModule, FormsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DecimalFieldDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, AdaptRxTextfieldModule, FormsModule],\n                    declarations: [DecimalFieldDesignComponent],\n                    entryComponents: [DecimalFieldDesignComponent]\n                }]\n        }] });\n\nclass IntegerFieldComponent extends BaseRecordEditorFieldComponent {\n    constructor(injector) {\n        super(injector);\n        this.hasFocus = false;\n        this.decimalPipe = injector.get(DecimalPipe);\n    }\n    onConfigInitialized(config) {\n        super.onConfigInitialized(config);\n        // A separate formControl is used to handle the scenario when invalid number typed to the counter component.\n        this.counterFormControl = new FormControl(this.formControl.value, this.formControl.validator);\n        this.counterFormControl.valueChanges\n            .pipe(filter((value) => !isEqual(this.formControl.value, value)), takeUntil(this.destroyed$))\n            .subscribe((value) => {\n            this.setFieldValue(value);\n        });\n        this.formControl.valueChanges\n            .pipe(startWith(this.formControl.value), distinctUntilChanged(isEqual), takeUntil(this.destroyed$))\n            .subscribe(() => {\n            // To prevent reset the counter invalid value (e.g '-', 'e') during the typing,\n            // in this case counterFormControl value is NaN and formControl value is null,\n            // counter must be updated only when it doesn't have a focus\n            if (!this.hasFocus) {\n                this.counterFormControl.setValue(this.formControl.value);\n            }\n        });\n        this.formControl.touched$.pipe(takeUntil(this.destroyed$)).subscribe((touched) => {\n            touched ? this.counterFormControl.markAsTouched() : this.counterFormControl.markAsUntouched();\n        });\n    }\n    onBlur() {\n        this.hasFocus = false;\n        this.formControl.markAsTouched();\n    }\n    onFocus() {\n        this.hasFocus = true;\n    }\n    getDisplayValue() {\n        const fieldValue = this.getFieldValue();\n        return isNil(fieldValue) ? fieldValue : this.decimalPipe.transform(String(fieldValue));\n    }\n    setFieldValue(value) {\n        if (!isNull(value) && isFinite(value)) {\n            const bigNumberVal = new BigNumber(value);\n            if (!bigNumberVal.eq(this.formControl.value)) {\n                this.formControl.markAsDirty();\n                this.formControl.setValue(bigNumberVal);\n            }\n        }\n        else {\n            super.setFieldValue(value);\n        }\n    }\n}\nIntegerFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IntegerFieldComponent, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nIntegerFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: IntegerFieldComponent, selector: \"rx-integer-field\", viewQueries: [{ propertyName: \"counterComponent\", first: true, predicate: [\"counterComponent\"], descendants: true }], usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"!isHidden\\\">\\n  <rx-read-only-field\\n    *ngIf=\\\"inReadState; else editStateElementRef\\\"\\n    [label]=\\\"label\\\"\\n    [value]=\\\"getDisplayValue()\\\"\\n  ></rx-read-only-field>\\n</ng-container>\\n\\n<ng-template #editStateElementRef>\\n  <adapt-rx-counter\\n    #counterComponent\\n    class=\\\"mb-0\\\"\\n    [label]=\\\"label\\\"\\n    [formControl]=\\\"counterFormControl\\\"\\n    [readonly]=\\\"isDisabled\\\"\\n    [disabledStyleForReadonlyState]=\\\"true\\\"\\n    [required]=\\\"isRequired\\\"\\n    [min]=\\\"fieldDefinition.minValue\\\"\\n    [max]=\\\"fieldDefinition.maxValue\\\"\\n    [adaptMin]=\\\"fieldDefinition.minValue\\\"\\n    [adaptMax]=\\\"fieldDefinition.maxValue\\\"\\n    adaptIntegerNumber\\n    (onBlur)=\\\"onBlur()\\\"\\n    (onFocus)=\\\"onFocus()\\\"\\n  ></adapt-rx-counter>\\n</ng-template>\\n\", components: [{ type: i1$6.ReadOnlyFieldComponent, selector: \"rx-read-only-field\", inputs: [\"label\", \"value\"] }, { type: i1.AdaptRxCounterComponent, selector: \"adapt-rx-counter\", inputs: [\"prefix\", \"suffix\", \"max\", \"min\", \"step\", \"size\", \"placeholder\", \"disabledStyleForReadonlyState\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1.AdaptIntegerNumberValidatorDirective, selector: \"[adaptIntegerNumber][ngModel], [adaptIntegerNumber][formControl]\", inputs: [\"adaptIntegerNumberMessageFn\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlDirective, selector: \"[formControl]\", inputs: [\"disabled\", \"formControl\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i1.AdaptMinValidatorDirective, selector: \"[adaptMin][ngModel],[adaptMin][formControl]\", inputs: [\"adaptMin\", \"adaptMinMessageFn\"] }, { type: i1.AdaptMaxValidatorDirective, selector: \"[adaptMax][ngModel],[adaptMax][formControl]\", inputs: [\"adaptMax\", \"adaptMaxMessageFn\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IntegerFieldComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-integer-field',\n                    templateUrl: './integer-field.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; }, propDecorators: { counterComponent: [{\n                type: ViewChild,\n                args: ['counterComponent']\n            }] } });\n\nclass DecimalFieldComponent extends IntegerFieldComponent {\n    getDisplayValue() {\n        const fieldValue = this.getFieldValue();\n        const precision = this.fieldDefinition.precision;\n        const digitsInfo = precision === -1 ? null : `1.${precision}-${precision}`;\n        return isNil(fieldValue) ? fieldValue : this.decimalPipe.transform(String(fieldValue), digitsInfo);\n    }\n}\nDecimalFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DecimalFieldComponent, deps: null, target: i0.ɵɵFactoryTarget.Component });\nDecimalFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: DecimalFieldComponent, selector: \"rx-decimal-field\", usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"!isHidden\\\">\\n  <rx-read-only-field\\n    *ngIf=\\\"inReadState; else editStateElementRef\\\"\\n    [label]=\\\"label\\\"\\n    [value]=\\\"getDisplayValue()\\\"\\n  ></rx-read-only-field>\\n</ng-container>\\n\\n<ng-template #editStateElementRef>\\n  <adapt-rx-counter\\n    class=\\\"mb-0\\\"\\n    [label]=\\\"label\\\"\\n    [formControl]=\\\"counterFormControl\\\"\\n    [required]=\\\"isRequired\\\"\\n    [min]=\\\"fieldDefinition.minValue\\\"\\n    [max]=\\\"fieldDefinition.maxValue\\\"\\n    [adaptMin]=\\\"fieldDefinition.minValue\\\"\\n    [adaptMax]=\\\"fieldDefinition.maxValue\\\"\\n    (onBlur)=\\\"onBlur()\\\"\\n    (onFocus)=\\\"onFocus()\\\"\\n    [readonly]=\\\"isDisabled\\\"\\n    [disabledStyleForReadonlyState]=\\\"true\\\"\\n    [requiredLabel]=\\\"'com.bmc.arsys.rx.client.common.required-field.label' | translate\\\"\\n  ></adapt-rx-counter>\\n</ng-template>\\n\", components: [{ type: i1$6.ReadOnlyFieldComponent, selector: \"rx-read-only-field\", inputs: [\"label\", \"value\"] }, { type: i1.AdaptRxCounterComponent, selector: \"adapt-rx-counter\", inputs: [\"prefix\", \"suffix\", \"max\", \"min\", \"step\", \"size\", \"placeholder\", \"disabledStyleForReadonlyState\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlDirective, selector: \"[formControl]\", inputs: [\"disabled\", \"formControl\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i1.AdaptMinValidatorDirective, selector: \"[adaptMin][ngModel],[adaptMin][formControl]\", inputs: [\"adaptMin\", \"adaptMinMessageFn\"] }, { type: i1.AdaptMaxValidatorDirective, selector: \"[adaptMax][ngModel],[adaptMax][formControl]\", inputs: [\"adaptMax\", \"adaptMaxMessageFn\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DecimalFieldComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-decimal-field',\n                    templateUrl: './decimal-field.component.html'\n                }]\n        }] });\n\nclass DecimalFieldModule {\n}\nDecimalFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DecimalFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nDecimalFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DecimalFieldModule, declarations: [DecimalFieldComponent], imports: [AdaptTextFieldFormBuilderModule,\n        AdaptRxCounterModule,\n        AdaptRxValidatorsModule,\n        CommonModule,\n        ReactiveFormsModule,\n        ReadOnlyFieldModule,\n        TranslateModule] });\nDecimalFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DecimalFieldModule, imports: [[\n            AdaptTextFieldFormBuilderModule,\n            AdaptRxCounterModule,\n            AdaptRxValidatorsModule,\n            CommonModule,\n            ReactiveFormsModule,\n            ReadOnlyFieldModule,\n            TranslateModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DecimalFieldModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        AdaptTextFieldFormBuilderModule,\n                        AdaptRxCounterModule,\n                        AdaptRxValidatorsModule,\n                        CommonModule,\n                        ReactiveFormsModule,\n                        ReadOnlyFieldModule,\n                        TranslateModule\n                    ],\n                    declarations: [DecimalFieldComponent],\n                    entryComponents: [DecimalFieldComponent]\n                }]\n        }] });\n\nclass DecimalFieldRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        const decimalFieldComponentFactory = this.componentFactoryResolver.resolveComponentFactory(DecimalFieldComponent);\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.Decimal,\n            aliases: [RxViewComponentType.Floating],\n            componentFactory: decimalFieldComponentFactory,\n            properties: RX_BASE_FIELD_PROPERTIES,\n            name: 'Decimal',\n            group: RX_FIELD_COMPONENTS.stencilGroupName,\n            icon: 'field_decimal_number',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(DecimalFieldDesignComponent),\n            designComponentModel: DecimalFieldDesignModel,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            canBeInsertedInto(componentTypes) {\n                return componentTypes.includes(RxViewComponentType.RecordEditor);\n            },\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nDecimalFieldRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DecimalFieldRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nDecimalFieldRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DecimalFieldRegistrationModule, imports: [DecimalFieldModule, DecimalFieldDesignModule] });\nDecimalFieldRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DecimalFieldRegistrationModule, imports: [[DecimalFieldModule, DecimalFieldDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DecimalFieldRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [DecimalFieldModule, DecimalFieldDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass IntegerFieldDesignModel extends BaseRecordEditorFieldDesign {\n    constructor() {\n        super(...arguments);\n        this.fieldResourceTypes = [RX_RECORD_DEFINITION.resourceTypes.integer];\n    }\n}\n\nclass IntegerFieldDesignComponent {\n}\nIntegerFieldDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IntegerFieldDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nIntegerFieldDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: IntegerFieldDesignComponent, selector: \"rx-integer-field-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<adapt-rx-textfield\\n  class=\\\"rx-pointer-events-none\\\"\\n  [required]=\\\"model.isRequired$ | async\\\"\\n  [label]=\\\"model.label$ | async\\\"\\n  [disabled]=\\\"true\\\"\\n  ngModel\\n></adapt-rx-textfield>\\n\", components: [{ type: i1.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }], directives: [{ type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IntegerFieldDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-integer-field-design',\n                    templateUrl: './integer-field-design.component.html'\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass IntegerFieldDesignModule {\n}\nIntegerFieldDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IntegerFieldDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nIntegerFieldDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IntegerFieldDesignModule, declarations: [IntegerFieldDesignComponent], imports: [CommonModule, AdaptRxTextfieldModule, FormsModule] });\nIntegerFieldDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IntegerFieldDesignModule, imports: [[CommonModule, AdaptRxTextfieldModule, FormsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IntegerFieldDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, AdaptRxTextfieldModule, FormsModule],\n                    declarations: [IntegerFieldDesignComponent],\n                    entryComponents: [IntegerFieldDesignComponent]\n                }]\n        }] });\n\nclass IntegerFieldModule {\n}\nIntegerFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IntegerFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nIntegerFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IntegerFieldModule, declarations: [IntegerFieldComponent], imports: [AdaptTextFieldFormBuilderModule,\n        AdaptRxCounterModule,\n        AdaptRxValidatorsModule,\n        CommonModule,\n        ReadOnlyFieldModule,\n        ReactiveFormsModule,\n        TranslateModule] });\nIntegerFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IntegerFieldModule, imports: [[\n            AdaptTextFieldFormBuilderModule,\n            AdaptRxCounterModule,\n            AdaptRxValidatorsModule,\n            CommonModule,\n            ReadOnlyFieldModule,\n            ReactiveFormsModule,\n            TranslateModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IntegerFieldModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        AdaptTextFieldFormBuilderModule,\n                        AdaptRxCounterModule,\n                        AdaptRxValidatorsModule,\n                        CommonModule,\n                        ReadOnlyFieldModule,\n                        ReactiveFormsModule,\n                        TranslateModule\n                    ],\n                    declarations: [IntegerFieldComponent],\n                    entryComponents: [IntegerFieldComponent]\n                }]\n        }] });\n\nclass IntegerFieldRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.Integer,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(IntegerFieldComponent),\n            properties: RX_BASE_FIELD_PROPERTIES,\n            name: 'Integer',\n            group: RX_FIELD_COMPONENTS.stencilGroupName,\n            icon: 'field_integer_number',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(IntegerFieldDesignComponent),\n            designComponentModel: IntegerFieldDesignModel,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            canBeInsertedInto(componentTypes) {\n                return componentTypes.includes(RxViewComponentType.RecordEditor);\n            },\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nIntegerFieldRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IntegerFieldRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nIntegerFieldRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IntegerFieldRegistrationModule, imports: [IntegerFieldModule, IntegerFieldDesignModule] });\nIntegerFieldRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IntegerFieldRegistrationModule, imports: [[IntegerFieldModule, IntegerFieldDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IntegerFieldRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [IntegerFieldModule, IntegerFieldDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nconst RX_SELECTION_FIELD = {\n    emptyOption: {\n        id: null,\n        name: 'None'\n    },\n    editingMode: {\n        radioButtons: 'Radio Buttons',\n        dropdown: 'Dropdown'\n    },\n    editingModeValue: {\n        radioButtons: 'radio-buttons',\n        dropdown: 'dropdown'\n    }\n};\n\nclass SelectionFieldDesignModel extends BaseRecordEditorFieldDesign {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.injector = injector;\n        this.sandbox = sandbox;\n        this.fieldResourceTypes = [RX_RECORD_DEFINITION.resourceTypes.selection];\n        this.editingMode$ = this.sandbox.componentProperties$.pipe(map((componentProperties) => componentProperties.editingMode));\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign(Object.assign(Object.assign({}, BaseRecordEditorFieldDesign.getInitialProperties()), { editingMode: RX_SELECTION_FIELD.editingModeValue.dropdown }), initialProperties);\n    }\n    getInspectorConfig() {\n        return super\n            .getInspectorConfig()\n            .pipe(map((inspectorConfig) => this.editInspectorConfig(inspectorConfig)));\n    }\n    editInspectorConfig(inspectorConfig) {\n        const valueControlIndex = findIndex(inspectorConfig.inspectorSectionConfigs[0].controls, (item) => item.name === 'value');\n        const editingModeControl = {\n            name: 'editingMode',\n            component: SelectFormControlComponent,\n            options: {\n                label: 'Editing mode',\n                required: false,\n                options: [\n                    {\n                        id: RX_SELECTION_FIELD.editingModeValue.dropdown,\n                        name: RX_SELECTION_FIELD.editingMode.dropdown\n                    },\n                    {\n                        id: RX_SELECTION_FIELD.editingModeValue.radioButtons,\n                        name: RX_SELECTION_FIELD.editingMode.radioButtons\n                    }\n                ]\n            }\n        };\n        if (valueControlIndex !== -1) {\n            inspectorConfig.inspectorSectionConfigs[0].controls.splice(valueControlIndex, 0, editingModeControl);\n        }\n        return inspectorConfig;\n    }\n}\n\nclass SelectionFieldDesignComponent {\n    ngOnInit() {\n        this.model.editingMode$.subscribe((mode) => {\n            this.setMode(mode);\n        });\n    }\n    setMode(mode) {\n        this.isRadioButtonMode = mode === RX_SELECTION_FIELD.editingModeValue.radioButtons;\n    }\n}\nSelectionFieldDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectionFieldDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nSelectionFieldDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: SelectionFieldDesignComponent, selector: \"rx-selection-field-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<adapt-rx-select\\n  class=\\\"rx-pointer-events-none\\\"\\n  [label]=\\\"model.label$ | async\\\"\\n  [options]=\\\"[]\\\"\\n  [disabled]=\\\"true\\\"\\n  *ngIf=\\\"!isRadioButtonMode\\\"\\n  [required]=\\\"model.isRequired$ | async\\\"\\n  ngModel\\n>\\n</adapt-rx-select>\\n\\n<ng-container *ngIf=\\\"isRadioButtonMode\\\">\\n  <div class=\\\"form-group\\\">\\n    <label class=\\\"form-control-label\\\">\\n      {{ model.label$ | async }}\\n      <span *ngIf=\\\"model.isRequired$ | async\\\" class=\\\"form-control-required\\\">(required)</span>\\n    </label>\\n\\n    <adapt-rx-radiobutton-group [(ngModel)]=\\\"isRadioButtonMode\\\" [disabled]=\\\"true\\\">\\n      <adapt-rx-radiobutton *ngIf=\\\"!(model.isRequired$ | async)\\\" value=\\\"None\\\" label=\\\"None\\\"></adapt-rx-radiobutton>\\n      <adapt-rx-radiobutton label=\\\"Option 1\\\"></adapt-rx-radiobutton>\\n      <adapt-rx-radiobutton label=\\\"Option 2\\\"></adapt-rx-radiobutton>\\n    </adapt-rx-radiobutton-group>\\n  </div>\\n</ng-container>\\n\", styles: [\"::ng-deep adapt-select{width:100%}\\n\"], components: [{ type: i1.AdaptRxSelectComponent, selector: \"adapt-rx-select\", inputs: [\"options\", \"emptyOption\", \"optionFormatter\", \"optionContentTemplate\", \"disabledOptionResolver\", \"titleFormatter\", \"focusFirst\", \"texts\", \"multiple\", \"singleSelectStyle\", \"enableFilter\", \"inline\", \"selectAllButton\", \"deselectAllButton\", \"loadMoreButton\", \"loadMoreCallback\", \"loadMoreInProgress\", \"loadingState\", \"placeholder\", \"size\", \"closeOnSelect\", \"placement\", \"appendToBody\", \"popupMaxHeight\", \"popupClass\", \"pageSize\", \"ariaInvalid\", \"virtualScroll\", \"virtualScrollItemSize\", \"virtualScrollTemplateCacheSize\", \"minBufferPx\", \"maxBufferPx\"], outputs: [\"onSelectionChange\", \"onPopupOpenChange\", \"onFilterValueChange\"] }, { type: i1.AdaptRxRadiobuttonGroupComponent, selector: \"adapt-rx-radiobutton-group\", inputs: [\"formControlName\"] }, { type: i1.AdaptRxRadiobuttonComponent, selector: \"adapt-rx-radiobutton\", inputs: [\"name\", \"label\", \"id\", \"value\", \"checked\", \"disabled\", \"ariaLabel\", \"ariaLabeledBy\", \"ariaDescribedBy\", \"testID\", \"tabIndex\"], outputs: [\"onFocus\", \"onBlur\", \"checkedChange\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectionFieldDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-selection-field-design',\n                    templateUrl: './selection-field-design.component.html',\n                    styleUrls: ['./selection-field-design.component.scss']\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass SelectionFieldDesignModule {\n}\nSelectionFieldDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectionFieldDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nSelectionFieldDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectionFieldDesignModule, declarations: [SelectionFieldDesignComponent], imports: [CommonModule, AdaptRxRadiobuttonModule, FormsModule, AdaptRxSelectModule] });\nSelectionFieldDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectionFieldDesignModule, imports: [[CommonModule, AdaptRxRadiobuttonModule, FormsModule, AdaptRxSelectModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectionFieldDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, AdaptRxRadiobuttonModule, FormsModule, AdaptRxSelectModule],\n                    declarations: [SelectionFieldDesignComponent],\n                    entryComponents: [SelectionFieldDesignComponent]\n                }]\n        }] });\n\nvar SelectionFieldMode;\n(function (SelectionFieldMode) {\n    SelectionFieldMode[\"RadioButton\"] = \"radio-buttons\";\n    SelectionFieldMode[\"Dropdown\"] = \"dropdown\";\n})(SelectionFieldMode || (SelectionFieldMode = {}));\n\nclass SelectionFieldComponent extends BaseRecordEditorFieldComponent {\n    getSelectValue() {\n        return isNil(this.formControl.value)\n            ? []\n            : compact([this.selectOptions.find((option) => option.id === Number(this.formControl.value))]);\n    }\n    onConfigInitialized(config) {\n        super.onConfigInitialized(config);\n        this.isRadioButtonMode = config.editingMode === SelectionFieldMode.RadioButton;\n        this.generateControlOptions(this.fieldDefinition);\n        this.selectFormControl = new FormControl(this.getSelectValue());\n        this.selectFormControl.valueChanges.pipe(takeUntil(this.destroyed$)).subscribe((value) => {\n            this.setFieldValue(get(value, '[0].id', null));\n        });\n        this.formControl.valueChanges\n            .pipe(startWith(this.formControl.value), distinctUntilChanged(), takeUntil(this.destroyed$))\n            .subscribe(() => {\n            this.selectFormControl.setValue(this.getSelectValue());\n        });\n        this.formControl.touched$.pipe(takeUntil(this.destroyed$)).subscribe((touched) => {\n            touched ? this.selectFormControl.markAsTouched() : this.selectFormControl.markAsUntouched();\n        });\n    }\n    generateControlOptions(fieldDefinition) {\n        this.selectOptions = map$1(fieldDefinition.optionLabelsById, (label, optionId) => ({\n            name: label,\n            id: Number(optionId)\n        }));\n        if (!this.isRequired && this.isRadioButtonMode) {\n            this.selectOptions.unshift(RX_SELECTION_FIELD.emptyOption);\n        }\n    }\n    getDisplayValue() {\n        return this.fieldDefinition.optionLabelsById[this.formControl.value];\n    }\n    optionFormatter(option) {\n        return option.name;\n    }\n    onPopupStatusChange(isOpen) {\n        if (!isOpen) {\n            this.formControl.markAsTouched();\n        }\n    }\n}\nSelectionFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectionFieldComponent, deps: null, target: i0.ɵɵFactoryTarget.Component });\nSelectionFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: SelectionFieldComponent, selector: \"rx-selection-field\", usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"!isHidden\\\">\\n  <rx-read-only-field\\n    *ngIf=\\\"inReadState; else editStateElementRef\\\"\\n    [label]=\\\"label\\\"\\n    [value]=\\\"getDisplayValue()\\\"\\n  ></rx-read-only-field>\\n</ng-container>\\n\\n<ng-template #editStateElementRef>\\n  <adapt-rx-radiobutton-group\\n    *ngIf=\\\"isRadioButtonMode\\\"\\n    [name]=\\\"guid\\\"\\n    [formControl]=\\\"formControl\\\"\\n    [readonly]=\\\"isDisabled\\\"\\n    [label]=\\\"label\\\"\\n  >\\n    <adapt-rx-radiobutton\\n      *ngFor=\\\"let item of selectOptions; last as isLast\\\"\\n      [value]=\\\"item.id\\\"\\n      [label]=\\\"item.name\\\"\\n      class=\\\"mt-0 {{ isLast ? 'mb-1' : '' }}\\\"\\n    >\\n    </adapt-rx-radiobutton>\\n  </adapt-rx-radiobutton-group>\\n\\n  <adapt-rx-select\\n    *ngIf=\\\"!isRadioButtonMode\\\"\\n    [options]=\\\"selectOptions\\\"\\n    [required]=\\\"isRequired\\\"\\n    [label]=\\\"label\\\"\\n    [formControl]=\\\"selectFormControl\\\"\\n    [readonly]=\\\"isDisabled\\\"\\n    [optionFormatter]=\\\"optionFormatter\\\"\\n    [enableFilter]=\\\"true\\\"\\n    [emptyOption]=\\\"!isRequired\\\"\\n    (onPopupOpenChange)=\\\"onPopupStatusChange($event)\\\"\\n  >\\n  </adapt-rx-select>\\n</ng-template>\\n\", components: [{ type: i1$6.ReadOnlyFieldComponent, selector: \"rx-read-only-field\", inputs: [\"label\", \"value\"] }, { type: i1.AdaptRxRadiobuttonGroupComponent, selector: \"adapt-rx-radiobutton-group\", inputs: [\"formControlName\"] }, { type: i1.AdaptRxRadiobuttonComponent, selector: \"adapt-rx-radiobutton\", inputs: [\"name\", \"label\", \"id\", \"value\", \"checked\", \"disabled\", \"ariaLabel\", \"ariaLabeledBy\", \"ariaDescribedBy\", \"testID\", \"tabIndex\"], outputs: [\"onFocus\", \"onBlur\", \"checkedChange\"] }, { type: i1.AdaptRxSelectComponent, selector: \"adapt-rx-select\", inputs: [\"options\", \"emptyOption\", \"optionFormatter\", \"optionContentTemplate\", \"disabledOptionResolver\", \"titleFormatter\", \"focusFirst\", \"texts\", \"multiple\", \"singleSelectStyle\", \"enableFilter\", \"inline\", \"selectAllButton\", \"deselectAllButton\", \"loadMoreButton\", \"loadMoreCallback\", \"loadMoreInProgress\", \"loadingState\", \"placeholder\", \"size\", \"closeOnSelect\", \"placement\", \"appendToBody\", \"popupMaxHeight\", \"popupClass\", \"pageSize\", \"ariaInvalid\", \"virtualScroll\", \"virtualScrollItemSize\", \"virtualScrollTemplateCacheSize\", \"minBufferPx\", \"maxBufferPx\"], outputs: [\"onSelectionChange\", \"onPopupOpenChange\", \"onFilterValueChange\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlDirective, selector: \"[formControl]\", inputs: [\"disabled\", \"formControl\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectionFieldComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-selection-field',\n                    templateUrl: './selection-field.component.html'\n                }]\n        }] });\n\nclass SelectionFieldModule {\n}\nSelectionFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectionFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nSelectionFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectionFieldModule, declarations: [SelectionFieldComponent], imports: [AdaptRxFormControlModule,\n        AdaptRxRadiobuttonModule,\n        CommonModule,\n        ReadOnlyFieldModule,\n        FormsModule,\n        ReactiveFormsModule,\n        TranslateModule,\n        AdaptRxLabelModule,\n        AdaptRxSelectModule] });\nSelectionFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectionFieldModule, imports: [[\n            AdaptRxFormControlModule,\n            AdaptRxRadiobuttonModule,\n            CommonModule,\n            ReadOnlyFieldModule,\n            FormsModule,\n            ReactiveFormsModule,\n            TranslateModule,\n            AdaptRxLabelModule,\n            AdaptRxSelectModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectionFieldModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        AdaptRxFormControlModule,\n                        AdaptRxRadiobuttonModule,\n                        CommonModule,\n                        ReadOnlyFieldModule,\n                        FormsModule,\n                        ReactiveFormsModule,\n                        TranslateModule,\n                        AdaptRxLabelModule,\n                        AdaptRxSelectModule\n                    ],\n                    declarations: [SelectionFieldComponent],\n                    entryComponents: [SelectionFieldComponent]\n                }]\n        }] });\n\nclass SelectionFieldRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.Selection,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(SelectionFieldComponent),\n            properties: RX_BASE_FIELD_PROPERTIES,\n            name: 'Select',\n            group: RX_FIELD_COMPONENTS.stencilGroupName,\n            icon: 'field_dropdown',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(SelectionFieldDesignComponent),\n            designComponentModel: SelectionFieldDesignModel,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            canBeInsertedInto(componentTypes) {\n                return componentTypes.includes(RxViewComponentType.RecordEditor);\n            },\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nSelectionFieldRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectionFieldRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nSelectionFieldRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectionFieldRegistrationModule, imports: [SelectionFieldModule, SelectionFieldDesignModule] });\nSelectionFieldRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectionFieldRegistrationModule, imports: [[SelectionFieldModule, SelectionFieldDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectionFieldRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [SelectionFieldModule, SelectionFieldDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass SelectGroupComponent extends BaseViewComponent {\n    constructor() {\n        super(...arguments);\n        this.fieldComponents = new Map();\n    }\n    registerFieldComponent(fieldIndex, component) {\n        this.fieldComponents.set(fieldIndex, component);\n    }\n    getValueForPreviousField(currentFieldIndex) {\n        const component = this.fieldComponents.get(currentFieldIndex - 1);\n        return component ? component.getFieldValue() : null;\n    }\n    resetValueForNextFields(currentFieldIndex) {\n        const nextFieldIndex = currentFieldIndex + 1;\n        const component = this.fieldComponents.get(nextFieldIndex);\n        if (component) {\n            component.resetFieldValue();\n            this.resetValueForNextFields(nextFieldIndex);\n        }\n    }\n}\nSelectGroupComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupComponent, deps: null, target: i0.ɵɵFactoryTarget.Component });\nSelectGroupComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: SelectGroupComponent, selector: \"rx-select-group\", inputs: { config: \"config\" }, usesInheritance: true, ngImport: i0, template: \"<rx-runtime-view-canvas-outlet></rx-runtime-view-canvas-outlet>\\n\", components: [{ type: i1$2.RuntimeViewCanvasOutletComponent, selector: \"rx-runtime-view-canvas-outlet\", inputs: [\"name\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-select-group',\n                    templateUrl: './select-group.component.html'\n                }]\n        }], propDecorators: { config: [{\n                type: Input\n            }] } });\n\nclass SelectGroupFieldComponent$1 extends BaseRecordEditorFieldComponent {\n    constructor(injector, selectGroupComponent, rxNamedListDefinitionService, rxNamedListService) {\n        super(injector);\n        this.selectGroupComponent = selectGroupComponent;\n        this.rxNamedListDefinitionService = rxNamedListDefinitionService;\n        this.rxNamedListService = rxNamedListService;\n        this.optionLoaderFunc = this.getNamedListOptionPage.bind(this);\n        this.viewToModelValueAdapterFunc = this.viewToModelValueAdapter.bind(this);\n        this.modelToViewValueAdapterFunc = this.modelToViewValueAdapter.bind(this);\n        this.selectedOptions = [];\n    }\n    onConfigInitialized(config) {\n        super.onConfigInitialized(config);\n        this.fieldIndex = Number(config.index);\n        this.namedListDefinitionName = config.namedListDefinitionName;\n        this.selectGroupComponent.registerFieldComponent(this.fieldIndex, this);\n        const namedListDefinition$ = this.rxNamedListDefinitionService.get(this.namedListDefinitionName).pipe(take(1));\n        const valueChanges$ = this.formControl.valueChanges.pipe(distinctUntilChanged(isEqual), startWith(this.formControl.value), takeUntil(this.destroyed$));\n        combineLatest([namedListDefinition$, valueChanges$]).subscribe(([namedListDefinition]) => {\n            this.namedListDefinition = namedListDefinition;\n            this.fieldIdToFilterBy = config.optionFilterFieldId || namedListDefinition.valueFieldId;\n            this.updateSelectedOption();\n            // do not reset value for next fields after record instance id change,\n            // in this case formControl is pristine and untouched\n            if (this.formControl.dirty) {\n                this.selectGroupComponent.resetValueForNextFields(this.fieldIndex);\n            }\n            else {\n                this.resetLoadedOptions();\n            }\n        });\n    }\n    resetFieldValue() {\n        super.setFieldValue(null);\n        this.resetLoadedOptions();\n    }\n    getDisplayValue() {\n        return this.readOnlyValue;\n    }\n    getNamedListOptionPage(startIndex, pageSize, searchQuery) {\n        return this.rxNamedListService.getOptionPage(this.namedListDefinition, searchQuery, this.getSelectionQueryCriteria(), startIndex, pageSize);\n    }\n    // [{displayValue: 'FOO', value: 'foo'}] -> 'foo'\n    viewToModelValueAdapter(selectedOptions) {\n        return get(selectedOptions, '[0].value', '');\n    }\n    // 'foo' -> [{displayValue: 'FOO', value: 'foo'}]\n    modelToViewValueAdapter(modelValue) {\n        return isNil(modelValue) ? [] : this.selectedOptions;\n    }\n    updateSelectedOption() {\n        this.showDefaultTitle = false;\n        let namedListOptions$;\n        if (isEmpty(this.formControl.value)) {\n            namedListOptions$ = of([]);\n        }\n        else {\n            // Select with pagination component is not available in the record editor READ mode.\n            const loadedOptions = get(this.selectWithPaginationComponent, 'options', []);\n            const namedListOptionCandidate = find(loadedOptions, { value: this.formControl.value });\n            namedListOptions$ = namedListOptionCandidate\n                ? of([namedListOptionCandidate])\n                : this.rxNamedListService.getOptionsForValues(this.namedListDefinition, [this.formControl.value]);\n        }\n        namedListOptions$.pipe(take(1)).subscribe((options) => {\n            this.showDefaultTitle = true;\n            this.selectedOptions = options;\n            if (isEmpty(options) && this.formControl.value) {\n                // Selected option might be removed from the named list,\n                // in this case we have to show an empty display value.\n                this.selectedOptions = [\n                    {\n                        displayValue: null,\n                        value: this.formControl.value\n                    }\n                ];\n            }\n            if (this.formControl.dirty) {\n                this.formControl.markAsTouched();\n            }\n            this.triggerModelToViewValueUpdate();\n            this.updateReadOnlyValue();\n        });\n    }\n    resetLoadedOptions() {\n        if (this.selectWithPaginationComponent) {\n            this.selectWithPaginationComponent.resetLoadedOptions();\n        }\n    }\n    getSelectionQueryCriteria() {\n        let queryCriteria = null;\n        if (this.fieldIndex > 0) {\n            const previousFieldValue = this.selectGroupComponent.getValueForPreviousField(this.fieldIndex);\n            if (previousFieldValue) {\n                queryCriteria = `('${this.fieldIdToFilterBy}' = \"${previousFieldValue}\")`;\n            }\n        }\n        return queryCriteria;\n    }\n    updateReadOnlyValue() {\n        this.readOnlyValue = get(this.selectedOptions, '[0].displayValue', null);\n    }\n    triggerModelToViewValueUpdate() {\n        // trigger writeValue function in the control value accessor\n        this.formControl.setValue(this.formControl.value, { emitEvent: false });\n    }\n}\nSelectGroupFieldComponent$1.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupFieldComponent$1, deps: [{ token: i0.Injector }, { token: SelectGroupComponent }, { token: i2$6.RxNamedListDefinitionService }, { token: i2$6.RxNamedListService }], target: i0.ɵɵFactoryTarget.Component });\nSelectGroupFieldComponent$1.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: SelectGroupFieldComponent$1, selector: \"rx-select-group-field\", viewQueries: [{ propertyName: \"selectWithPaginationComponent\", first: true, predicate: RxSelectWithPaginationComponent, descendants: true }], usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"!isHidden\\\">\\n  <rx-read-only-field\\n    *ngIf=\\\"inReadState; else editStateElementRef\\\"\\n    [label]=\\\"label\\\"\\n    [value]=\\\"getDisplayValue()\\\"\\n  ></rx-read-only-field>\\n</ng-container>\\n\\n<ng-template #editStateElementRef>\\n  <rx-select-with-pagination\\n    [label]=\\\"label\\\"\\n    [formControl]=\\\"formControl\\\"\\n    [required]=\\\"isRequired\\\"\\n    [readonly]=\\\"isDisabled\\\"\\n    [optionLoader]=\\\"optionLoaderFunc\\\"\\n    [showDefaultTitle]=\\\"showDefaultTitle\\\"\\n    [viewToModelValueAdapter]=\\\"viewToModelValueAdapterFunc\\\"\\n    [modelToViewValueAdapter]=\\\"modelToViewValueAdapterFunc\\\"\\n  ></rx-select-with-pagination>\\n</ng-template>\\n\", components: [{ type: i1$6.ReadOnlyFieldComponent, selector: \"rx-read-only-field\", inputs: [\"label\", \"value\"] }, { type: i2$5.RxSelectWithPaginationComponent, selector: \"rx-select-with-pagination\", inputs: [\"label\", \"required\", \"isMultiSelectionMode\", \"optionLoader\", \"pageSize\", \"showDefaultTitle\", \"showUncheckAll\", \"readonly\", \"template\", \"viewToModelValueAdapter\", \"modelToViewValueAdapter\", \"optionFormatter\"], outputs: [\"toggleDropdown\", \"selectionChange\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlDirective, selector: \"[formControl]\", inputs: [\"disabled\", \"formControl\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupFieldComponent$1, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-select-group-field',\n                    templateUrl: './select-group-field.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: SelectGroupComponent }, { type: i2$6.RxNamedListDefinitionService }, { type: i2$6.RxNamedListService }]; }, propDecorators: { selectWithPaginationComponent: [{\n                type: ViewChild,\n                args: [RxSelectWithPaginationComponent]\n            }] } });\n\nclass SelectGroupComponentDefinitionAdapterService {\n    adaptDefinition(componentDefinition) {\n        componentDefinition.componentDefinitions.forEach((childComponentDefinition) => {\n            assign(childComponentDefinition.propertiesByName, {\n                disabled: componentDefinition.propertiesByName.disabled,\n                hidden: componentDefinition.propertiesByName.hidden,\n                index: Number(childComponentDefinition.propertiesByName.index)\n            });\n            delete childComponentDefinition.propertiesByName.labelId;\n        });\n        const layout = {\n            outlets: [\n                {\n                    name: RX_VIEW_DEFINITION.defaultOutletName,\n                    columns: [\n                        {\n                            children: sortBy(componentDefinition.componentDefinitions, 'propertiesByName.index').map((component) => component.guid)\n                        }\n                    ]\n                }\n            ]\n        };\n        componentDefinition.propertiesByName = omit(componentDefinition.propertiesByName, [\n            'disabled',\n            'hidden',\n            'recordInstance',\n            'recordDefinition'\n        ]);\n        componentDefinition.layout = JSON.stringify(layout);\n    }\n}\nSelectGroupComponentDefinitionAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupComponentDefinitionAdapterService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nSelectGroupComponentDefinitionAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupComponentDefinitionAdapterService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupComponentDefinitionAdapterService, decorators: [{\n            type: Injectable\n        }] });\n\nclass SelectGroupModule {\n    constructor(viewComponentDefinitionAdapterRegistryService, selectGroupComponentDefinitionAdapterService) {\n        this.viewComponentDefinitionAdapterRegistryService = viewComponentDefinitionAdapterRegistryService;\n        this.selectGroupComponentDefinitionAdapterService = selectGroupComponentDefinitionAdapterService;\n        viewComponentDefinitionAdapterRegistryService.registerRuntimeAdapter(RxViewComponentType.SelectGroup, this.selectGroupComponentDefinitionAdapterService);\n    }\n}\nSelectGroupModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupModule, deps: [{ token: i1$1.RxDefinitionAdapterRegistryService }, { token: SelectGroupComponentDefinitionAdapterService }], target: i0.ɵɵFactoryTarget.NgModule });\nSelectGroupModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupModule, declarations: [SelectGroupComponent, SelectGroupFieldComponent$1], imports: [CommonModule,\n        RuntimeViewCanvasModule,\n        ReactiveFormsModule,\n        RxSelectWithPaginationModule,\n        ReadOnlyFieldModule] });\nSelectGroupModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupModule, providers: [SelectGroupComponentDefinitionAdapterService], imports: [[\n            CommonModule,\n            RuntimeViewCanvasModule,\n            ReactiveFormsModule,\n            RxSelectWithPaginationModule,\n            ReadOnlyFieldModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        RuntimeViewCanvasModule,\n                        ReactiveFormsModule,\n                        RxSelectWithPaginationModule,\n                        ReadOnlyFieldModule\n                    ],\n                    declarations: [SelectGroupComponent, SelectGroupFieldComponent$1],\n                    providers: [SelectGroupComponentDefinitionAdapterService],\n                    entryComponents: [SelectGroupComponent, SelectGroupFieldComponent$1]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxDefinitionAdapterRegistryService }, { type: SelectGroupComponentDefinitionAdapterService }]; } });\n\nclass SelectGroupFieldComponent {\n    constructor(rxDefinitionNameService, rxNamedListDefinitionCacheService, rxRecordDefinitionCacheService) {\n        this.rxDefinitionNameService = rxDefinitionNameService;\n        this.rxNamedListDefinitionCacheService = rxNamedListDefinitionCacheService;\n        this.rxRecordDefinitionCacheService = rxRecordDefinitionCacheService;\n        this.definitionPickerOptions = {\n            label: 'Named list for options',\n            definitionType: RxDefinitionPickerType.NamedList,\n            required: true\n        };\n        this.filterField = [];\n        this.filterFieldIdOptions = [];\n        this.sourceRecordDefinitionDisplayName = '';\n        this.fieldId = [];\n    }\n    ngOnInit() {\n        this.onNamedListDefinitionNameChange(false);\n    }\n    onNamedListDefinitionNameChange(emitEvent = true) {\n        of(this.fieldformGroup.get('namedListDefinitionName').value)\n            .pipe(switchMap((namedListDefinitionName) => {\n            if (namedListDefinitionName) {\n                return this.rxNamedListDefinitionCacheService\n                    .getNamedListDefinition(namedListDefinitionName)\n                    .pipe(map((namedListDefinition) => namedListDefinition.recordDefinitionName));\n            }\n            else {\n                return of(null);\n            }\n        }), take(1))\n            .subscribe((sourceRecordDefinitionName) => {\n            this.fieldformGroup.get('sourceRecordDefinitionName').setValue(sourceRecordDefinitionName, { emitEvent });\n            this.filterFieldIdOptions = [];\n            this.setFilterId();\n            if (this.index > 0) {\n                this.setOptionFilterFieldIdOptions();\n                this.setSourceRecordDefinitionDisplayName();\n            }\n        });\n    }\n    setFilterId() {\n        const fieldId = this.fieldformGroup.get('fieldId').value;\n        this.fieldId = isEmpty(fieldId) ? [] : [this.targetFieldOptions.find((option) => option.id === fieldId)];\n    }\n    setSourceRecordDefinitionDisplayName() {\n        const recordDefinitionName = this.fieldformGroup.get('sourceRecordDefinitionName').value;\n        this.sourceRecordDefinitionDisplayName =\n            recordDefinitionName && this.rxDefinitionNameService.getDisplayName(recordDefinitionName);\n    }\n    setOptionFilterFieldIdOptions() {\n        const recordDefinitionName = this.fieldformGroup.get('sourceRecordDefinitionName').value;\n        this.filterField = [];\n        if (recordDefinitionName) {\n            this.rxRecordDefinitionCacheService\n                .getRecordDefinition(recordDefinitionName)\n                .pipe(map((recordDefinition) => {\n                return recordDefinition.fieldDefinitions.map((fieldDefinition) => ({\n                    name: fieldDefinition.name,\n                    id: String(fieldDefinition.id)\n                }));\n            }))\n                .subscribe((fieldIdOptions) => {\n                const filterFieldId = this.fieldformGroup.get('optionFilterFieldId').value;\n                this.filterFieldIdOptions = fieldIdOptions;\n                this.filterField = isEmpty(filterFieldId)\n                    ? []\n                    : [this.filterFieldIdOptions.find((option) => option.id === filterFieldId)];\n            });\n        }\n    }\n    optionFormatter(option) {\n        return option.name;\n    }\n    onSelectFilterField(filterField) {\n        this.fieldformGroup.get('optionFilterFieldId').setValue(head(filterField).id);\n    }\n    onSelectField(field) {\n        this.fieldformGroup.get('fieldId').setValue(head(field).id);\n    }\n}\nSelectGroupFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupFieldComponent, deps: [{ token: i1$1.RxDefinitionNameService }, { token: i2$6.RxNamedListDefinitionCacheService }, { token: i1$5.RxRecordDefinitionCacheService }], target: i0.ɵɵFactoryTarget.Component });\nSelectGroupFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: SelectGroupFieldComponent, selector: \"rx-select-group-field\", inputs: { fieldformGroup: \"fieldformGroup\", index: \"index\", targetFieldOptions: \"targetFieldOptions\" }, ngImport: i0, template: \"<div>\\n  <adapt-rx-textfield\\n    label=\\\"Display label\\\"\\n    required=\\\"true\\\"\\n    rx-id=\\\"display-label-field\\\"\\n    [formControl]=\\\"fieldformGroup.get('label')\\\"\\n    class=\\\"form-group d-block\\\"\\n  ></adapt-rx-textfield>\\n\\n  <rx-definition-picker\\n    [options]=\\\"definitionPickerOptions\\\"\\n    [formControl]=\\\"fieldformGroup.get('namedListDefinitionName')\\\"\\n    (ngModelChange)=\\\"onNamedListDefinitionNameChange()\\\"\\n    required=\\\"true\\\"\\n    rx-id=\\\"named-list-definition-name-field\\\"\\n    class=\\\"form-group d-block\\\"\\n  ></rx-definition-picker>\\n\\n  <adapt-rx-select\\n    label=\\\"Field for storing selected option value\\\"\\n    rx-id=\\\"selected-option-value-target-field\\\"\\n    [ngModel]=\\\"fieldId\\\"\\n    (ngModelChange)=\\\"onSelectField($event)\\\"\\n    [options]=\\\"targetFieldOptions\\\"\\n    [optionFormatter]=\\\"optionFormatter\\\"\\n    [required]=\\\"true\\\"\\n    [disabled]=\\\"fieldformGroup.disabled\\\"\\n    [ngClass]=\\\"{ 'form-group d-block': index > 0 }\\\"\\n  ></adapt-rx-select>\\n\\n  <adapt-rx-textfield\\n    label=\\\"Source record definition\\\"\\n    *ngIf=\\\"index > 0\\\"\\n    class=\\\"form-group d-block\\\"\\n    [ngModel]=\\\"sourceRecordDefinitionDisplayName\\\"\\n    disabled\\n    rx-id=\\\"source-record-definition-name-field\\\"\\n    [tooltip]=\\\"{\\n      iconName: 'question_circle_o',\\n      content: 'This is the record definition that provides the option values for this named list.',\\n      placement: 'top',\\n      popoverMode: true\\n    }\\\"\\n  ></adapt-rx-textfield>\\n\\n  <adapt-rx-select\\n    *ngIf=\\\"index > 0\\\"\\n    label=\\\"Field for filtering option values\\\"\\n    rx-id=\\\"option-values-filter-field\\\"\\n    [ngModel]=\\\"filterField\\\"\\n    (ngModelChange)=\\\"onSelectFilterField($event)\\\"\\n    [options]=\\\"filterFieldIdOptions\\\"\\n    [optionFormatter]=\\\"optionFormatter\\\"\\n    [disabled]=\\\"fieldformGroup.disabled\\\"\\n    [tooltip]=\\\"{\\n      iconName: 'question_circle_o',\\n      content: 'Select the field in the source record definition that filters the option values for this named list.',\\n      placement: 'top',\\n      popoverMode: true\\n    }\\\"\\n  ></adapt-rx-select>\\n</div>\\n\", components: [{ type: i1.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i2$5.RxDefinitionPickerComponent, selector: \"rx-definition-picker\", inputs: [\"options\", \"isDisabled\"] }, { type: i1.AdaptRxSelectComponent, selector: \"adapt-rx-select\", inputs: [\"options\", \"emptyOption\", \"optionFormatter\", \"optionContentTemplate\", \"disabledOptionResolver\", \"titleFormatter\", \"focusFirst\", \"texts\", \"multiple\", \"singleSelectStyle\", \"enableFilter\", \"inline\", \"selectAllButton\", \"deselectAllButton\", \"loadMoreButton\", \"loadMoreCallback\", \"loadMoreInProgress\", \"loadingState\", \"placeholder\", \"size\", \"closeOnSelect\", \"placement\", \"appendToBody\", \"popupMaxHeight\", \"popupClass\", \"pageSize\", \"ariaInvalid\", \"virtualScroll\", \"virtualScrollItemSize\", \"virtualScrollTemplateCacheSize\", \"minBufferPx\", \"maxBufferPx\"], outputs: [\"onSelectionChange\", \"onPopupOpenChange\", \"onFilterValueChange\"] }], directives: [{ type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlDirective, selector: \"[formControl]\", inputs: [\"disabled\", \"formControl\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupFieldComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-select-group-field',\n                    templateUrl: './select-group-field.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxDefinitionNameService }, { type: i2$6.RxNamedListDefinitionCacheService }, { type: i1$5.RxRecordDefinitionCacheService }]; }, propDecorators: { fieldformGroup: [{\n                type: Input\n            }], index: [{\n                type: Input\n            }], targetFieldOptions: [{\n                type: Input\n            }] } });\n\nclass FieldSetFormControlComponent extends InspectorWidgetBase {\n    constructor(formBuilder, rxGuidService, rxModalService, injector) {\n        super(injector);\n        this.formBuilder = formBuilder;\n        this.rxGuidService = rxGuidService;\n        this.rxModalService = rxModalService;\n        this.formArray = this.formBuilder.array([]);\n        this.maxSelectGroupFieldCount = 6;\n        this.destroyed$ = new ReplaySubject(1);\n    }\n    ngOnInit() {\n        this.designerItemModel.fieldProperties$\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe((fieldModels) => this.onWriteValue(fieldModels));\n        this.setDisabledState(this.isDisabled);\n    }\n    onWriteValue(fieldModels) {\n        var _a;\n        (_a = this.valueChangeSubscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n        const formGroups = fieldModels\n            .sort((a, b) => Number(a.index) - Number(b.index))\n            .map((model) => this.formBuilder.group(Object.assign(Object.assign({}, omit(model, 'index')), { sourceRecordDefinitionName: { value: null, disabled: true } })));\n        this.formArray = this.formBuilder.array(formGroups);\n        this.valueChangeSubscription = this.formArray.valueChanges\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe(this.onFormValueChange.bind(this));\n    }\n    onFormValueChange(formValue) {\n        const value = formValue.map((formGroup, index) => {\n            const inspectorFieldModel = Object.assign(Object.assign({}, omit(formGroup, ['sourceRecordDefinitionName', 'optionFilterFieldId'])), { index: String(index), fieldId: formGroup.namedListDefinitionName ? formGroup.fieldId : null });\n            if (index > 0) {\n                inspectorFieldModel.optionFilterFieldId = formGroup.namedListDefinitionName\n                    ? formGroup.optionFilterFieldId\n                    : null;\n            }\n            return inspectorFieldModel;\n        });\n        this.designerItemModel.onFieldPropertiesChange(value);\n    }\n    addField() {\n        this.formArray.push(this.getFieldFormGroup());\n    }\n    removeField(index) {\n        this.rxModalService\n            .confirm({\n            title: 'Warning',\n            modalStyle: RX_MODAL.modalStyles.warning,\n            message: 'Are you sure you want to delete this field?'\n        })\n            .then((response) => {\n            if (response) {\n                this.formArray.removeAt(index);\n            }\n        });\n    }\n    isAddFieldButtonDisabled() {\n        return this.isDisabled || this.formArray.length >= this.maxSelectGroupFieldCount;\n    }\n    trackByFn(index, control) {\n        return control.get('guid').value;\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n    getFieldFormGroup() {\n        return this.formBuilder.group({\n            guid: this.rxGuidService.generate(),\n            label: null,\n            namedListDefinitionName: null,\n            fieldId: null,\n            sourceRecordDefinitionName: null,\n            optionFilterFieldId: null\n        });\n    }\n    setDisabledState(isDisabled) {\n        isDisabled ? this.formArray.disable() : this.formArray.enable();\n    }\n}\nFieldSetFormControlComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: FieldSetFormControlComponent, deps: [{ token: i2$3.FormBuilder }, { token: i2$1.RxGuidService }, { token: i1$6.RxModalService }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nFieldSetFormControlComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: FieldSetFormControlComponent, selector: \"rx-field-set-form-control\", inputs: { options: \"options\", isDisabled: \"isDisabled\" }, usesInheritance: true, ngImport: i0, template: \"<adapt-button\\n  btn-type=\\\"tertiary\\\"\\n  rx-id=\\\"add-field-button\\\"\\n  class=\\\"d-icon-plus_circle px-0 py-0\\\"\\n  (click)=\\\"addField()\\\"\\n  [disabled]=\\\"isAddFieldButtonDisabled()\\\"\\n>\\n  Add dependent field\\n</adapt-button>\\n\\n<div\\n  class=\\\"card mt-2\\\"\\n  *ngFor=\\\"let formGroupControl of formArray.controls; trackBy: trackByFn; let index = index\\\"\\n  rx-id=\\\"select-group-field-card\\\"\\n>\\n  <div class=\\\"card-block p-2\\\">\\n    <button\\n      (click)=\\\"removeField(index)\\\"\\n      class=\\\"close position-relative\\\"\\n      type=\\\"button\\\"\\n      aria-label=\\\"Remove\\\"\\n      rx-id=\\\"remove-field-button\\\"\\n      *ngIf=\\\"!isDisabled\\\"\\n    ></button>\\n\\n    <rx-select-group-field\\n      [fieldformGroup]=\\\"formGroupControl\\\"\\n      [index]=\\\"index\\\"\\n      [targetFieldOptions]=\\\"options.targetFieldOptions\\\"\\n    ></rx-select-group-field>\\n  </div>\\n</div>\\n\", styles: [\".close{z-index:1}\\n\"], components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: SelectGroupFieldComponent, selector: \"rx-select-group-field\", inputs: [\"fieldformGroup\", \"index\", \"targetFieldOptions\"] }], directives: [{ type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: FieldSetFormControlComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-field-set-form-control',\n                    templateUrl: './field-set-form-control.component.html',\n                    styleUrls: ['./field-set-form-control.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i2$3.FormBuilder }, { type: i2$1.RxGuidService }, { type: i1$6.RxModalService }, { type: i0.Injector }]; }, propDecorators: { options: [{\n                type: Input\n            }], isDisabled: [{\n                type: Input\n            }] } });\n\nclass SelectGroupDesignModel extends ViewDesignerComponentModel {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.injector = injector;\n        this.sandbox = sandbox;\n        this.rxRecordDefinitionCacheService = this.injector.get(RxRecordDefinitionCacheService);\n        this.rxFieldDefinitionService = this.injector.get(RxFieldDefinitionService);\n        this.recordEditorGuid$ = this.sandbox\n            .getParentComponentGuid(RxViewComponentType.RecordEditor)\n            .pipe(take(1), shareReplay(1));\n        this.recordEditorMode$ = this.recordEditorGuid$.pipe(switchMap((recordEditorGuid) => {\n            return this.sandbox.getComponentPropertyValue('mode', recordEditorGuid);\n        }));\n        this.recordDefinitionName$ = this.recordEditorGuid$.pipe(switchMap((recordEditorGuid) => {\n            return this.sandbox.getComponentPropertyValue('recordDefinitionName', recordEditorGuid);\n        }), shareReplay(1));\n        this.fieldDefinitions$ = this.recordDefinitionName$.pipe(switchMap((recordDefinitionName) => {\n            if (recordDefinitionName) {\n                return this.rxRecordDefinitionCacheService\n                    .getRecordDefinition(recordDefinitionName)\n                    .pipe(catchError((error) => EMPTY));\n            }\n            else {\n                return of(null);\n            }\n        }), distinctUntilChanged(), map((recordDefinition) => {\n            if (recordDefinition && recordDefinition.fieldDefinitions) {\n                return filter$1(recordDefinition.fieldDefinitions, {\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                });\n            }\n            else {\n                return [];\n            }\n        }), shareReplay(1));\n        this.inspectorTargetFieldOptions$ = combineLatest([this.fieldDefinitions$, this.recordEditorMode$]).pipe(map(([fieldDefinitions, recordEditorMode]) => [\n            filter$1(fieldDefinitions, { resourceType: RX_RECORD_DEFINITION.resourceTypes.character }),\n            recordEditorMode\n        ]), map(([characterFieldDefinitions, recordEditorMode]) => flow((fieldDefinitions) => filter$1(fieldDefinitions, (definition) => {\n            const isSystemField = this.rxFieldDefinitionService.isSystemField(definition);\n            return !isSystemField || (isSystemField && recordEditorMode === RecordEditorMode.Edit);\n        }), (fieldDefinitions) => map$1(fieldDefinitions, (definition) => ({\n            name: definition.name,\n            id: String(definition.id)\n        })), (options) => sortBy(options, 'name'))(characterFieldDefinitions)), shareReplay(1));\n        this.fieldsDesignData$ = this.sandbox.getChildComponents();\n        this.fieldProperties$ = this.fieldsDesignData$.pipe(map((fieldComponentsDesignData) => map$1(fieldComponentsDesignData, (field) => (Object.assign(Object.assign({}, field.data), { guid: field.guid })))));\n        // initial inspector configuration and component properties set\n        combineLatest([this.recordDefinitionName$, this.inspectorTargetFieldOptions$, this.recordEditorGuid$])\n            .pipe(take(1))\n            .subscribe(([recordDefinitionName, inspectorTargetFieldOptions, recordEditorGuid]) => {\n            this.sandbox.updateInspectorConfig(this.getBaseInspectorConfig(inspectorTargetFieldOptions, recordDefinitionName, recordEditorGuid));\n        });\n        this.inspectorTargetFieldOptions$\n            .pipe(withLatestFrom(this.recordDefinitionName$, this.recordEditorGuid$))\n            .subscribe(([inspectorTargetFieldOptions, recordDefinitionName, recordEditorGuid]) => {\n            this.sandbox.updateInspectorConfig(this.getBaseInspectorConfig(inspectorTargetFieldOptions, recordDefinitionName, recordEditorGuid));\n        });\n        combineLatest([this.sandbox.componentProperties$, this.fieldProperties$])\n            .pipe(switchMap(([componentProperties, fieldProperties]) => this.validate(componentProperties, fieldProperties)))\n            .subscribe((validationIssues) => {\n            this.sandbox.setValidationIssues(validationIssues);\n        });\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign(Object.assign(Object.assign({}, RX_DISABLED_PROP_DEFAULT_VALUE), RX_STANDARD_PROPS_DEFAULT_VALUES), initialProperties);\n    }\n    onFieldPropertiesChange(fieldProperties) {\n        const fieldComponentPayloads = this.getFieldComponentPayloads(fieldProperties);\n        this.sandbox.setChildren(fieldComponentPayloads);\n    }\n    isFieldRequired(field) {\n        return this.fieldDefinitions$.pipe(map((fieldDefinitions) => {\n            const fieldDefinition = field.data.fieldId && find(fieldDefinitions, { id: Number(field.data.fieldId) });\n            return Boolean(fieldDefinition) && fieldDefinition.fieldOption === RX_RECORD_DEFINITION.fieldOptions.required;\n        }));\n    }\n    getPropertiesByName(properties) {\n        return pick(properties, ['disabled', 'hidden', 'styles', RX_AVAILABLE_ON_DEVICES_PROP_NAME]);\n    }\n    validate(componentProperties, fieldProperties) {\n        const validationErrorMessages = [];\n        if (isEmpty(fieldProperties)) {\n            validationErrorMessages.push('Field set cannot be empty.');\n        }\n        else {\n            const fieldsWithLabel = filter$1(fieldProperties, (model) => model.label);\n            if (fieldsWithLabel.length !== fieldProperties.length) {\n                validationErrorMessages.push('Display label cannot be blank.');\n            }\n            if (uniqBy(fieldsWithLabel, 'label').length !== fieldsWithLabel.length) {\n                validationErrorMessages.push('Display labels must be unique.');\n            }\n            if (reject(fieldProperties, (model) => model.namedListDefinitionName).length) {\n                validationErrorMessages.push('Named list for options cannot be blank.');\n            }\n            if (reject(fieldProperties, (model) => model.fieldId).length) {\n                validationErrorMessages.push('Field for storing selected option value cannot be blank.');\n            }\n        }\n        const validationIssues = validationErrorMessages\n            .map((message) => this.sandbox.createError(message))\n            .concat(validateStandardProps(componentProperties));\n        return of(validationIssues);\n    }\n    getFieldComponentPayloads(fieldProperties) {\n        return map$1(fieldProperties, (model) => ({\n            type: RxViewComponentType.SelectGroupField,\n            guid: model.guid,\n            data: omit(model, 'guid')\n        }));\n    }\n    getBaseInspectorConfig(targetFieldOptions, recordDefinitionName, recordEditorGuid) {\n        const generalGroup = {\n            label: 'General',\n            controls: []\n        };\n        if (recordDefinitionName) {\n            generalGroup.controls = [getDisabledFieldInspectorConfig(), ...getStandardPropsInspectorConfigs()];\n        }\n        else {\n            generalGroup.controls = [\n                {\n                    component: ValidationFormControlComponent,\n                    options: {\n                        text: 'You must select a Record definition before editing field component.',\n                        propertyName: 'recordDefinitionName',\n                        componentGuid: recordEditorGuid\n                    }\n                }\n            ];\n        }\n        return {\n            inspectorSectionConfigs: recordDefinitionName\n                ? [\n                    generalGroup,\n                    {\n                        label: 'Field set',\n                        controls: [\n                            {\n                                component: FieldSetFormControlComponent,\n                                options: {\n                                    targetFieldOptions: targetFieldOptions\n                                }\n                            }\n                        ]\n                    }\n                ]\n                : [generalGroup]\n        };\n    }\n}\n\nclass SelectGroupDesignComponent {\n    trackByFn(index, item) {\n        return item.data.guid;\n    }\n}\nSelectGroupDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nSelectGroupDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: SelectGroupDesignComponent, selector: \"rx-select-group-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<ng-template [ngIf]=\\\"(model.fieldsDesignData$ | async).length\\\" [ngIfElse]=\\\"placeholderTemplate\\\">\\n  <adapt-rx-textfield\\n    *ngFor=\\\"let field of model.fieldsDesignData$ | async; trackBy: trackByFn\\\"\\n    [label]=\\\"field.data.label || '<No Label>'\\\"\\n    [required]=\\\"model.isFieldRequired(field) | async\\\"\\n    [disabled]=\\\"true\\\"\\n    ngModel\\n    rx-id=\\\"select-group-field\\\"\\n    class=\\\"form-group d-block\\\"\\n  ></adapt-rx-textfield>\\n</ng-template>\\n\\n<ng-template #placeholderTemplate>\\n  <adapt-empty-state type=\\\"objects\\\" label=\\\"Add dependent fields in the Properties panel.\\\"></adapt-empty-state>\\n</ng-template>\\n\", components: [{ type: i1.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i1.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-select-group-design',\n                    templateUrl: './select-group-design.component.html'\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass SelectGroupDesignModule {\n}\nSelectGroupDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nSelectGroupDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupDesignModule, declarations: [SelectGroupDesignComponent, FieldSetFormControlComponent, SelectGroupFieldComponent], imports: [FormsModule,\n        CommonModule,\n        AdaptButtonModule,\n        ReactiveFormsModule,\n        RxDefinitionPickerModule,\n        AdaptRxTextfieldModule,\n        AdaptRxSelectModule,\n        AdaptEmptyStateModule], exports: [SelectGroupDesignComponent, FieldSetFormControlComponent, SelectGroupFieldComponent] });\nSelectGroupDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupDesignModule, imports: [[\n            FormsModule,\n            CommonModule,\n            AdaptButtonModule,\n            ReactiveFormsModule,\n            RxDefinitionPickerModule,\n            AdaptRxTextfieldModule,\n            AdaptRxSelectModule,\n            AdaptEmptyStateModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [SelectGroupDesignComponent, FieldSetFormControlComponent, SelectGroupFieldComponent],\n                    imports: [\n                        FormsModule,\n                        CommonModule,\n                        AdaptButtonModule,\n                        ReactiveFormsModule,\n                        RxDefinitionPickerModule,\n                        AdaptRxTextfieldModule,\n                        AdaptRxSelectModule,\n                        AdaptEmptyStateModule\n                    ],\n                    exports: [SelectGroupDesignComponent, FieldSetFormControlComponent, SelectGroupFieldComponent],\n                    entryComponents: [SelectGroupDesignComponent, FieldSetFormControlComponent, SelectGroupFieldComponent]\n                }]\n        }] });\n\nclass SelectGroupRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.SelectGroup,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(SelectGroupComponent),\n            properties: [RX_AVAILABLE_ON_DEVICES_PROP_DESC],\n            outlets: [\n                {\n                    name: RX_VIEW_DEFINITION.defaultOutletName\n                }\n            ],\n            name: 'Select group',\n            designComponentFactory: componentFactoryResolver.resolveComponentFactory(SelectGroupDesignComponent),\n            designComponentModel: SelectGroupDesignModel,\n            isContainerComponent: true,\n            group: RX_FIELD_COMPONENTS.stencilGroupName,\n            icon: 'field_dropdowns',\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            canBeInsertedInto(componentTypes) {\n                return componentTypes.includes(RxViewComponentType.RecordEditor);\n            },\n            bundleId: RX_APPLICATION.platformBundleId\n        }, {\n            type: RxViewComponentType.SelectGroupField,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(SelectGroupFieldComponent$1),\n            properties: RX_BASE_FIELD_PROPERTIES,\n            isDataComponent: true\n        });\n    }\n}\nSelectGroupRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nSelectGroupRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupRegistrationModule, imports: [SelectGroupModule, SelectGroupDesignModule] });\nSelectGroupRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupRegistrationModule, imports: [[SelectGroupModule, SelectGroupDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SelectGroupRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [SelectGroupModule, SelectGroupDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass TextFieldDesignModel extends BaseRecordEditorFieldDesign {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.injector = injector;\n        this.sandbox = sandbox;\n        this.fieldResourceTypes = [RX_RECORD_DEFINITION.resourceTypes.character];\n        this.translateService = this.injector.get(TranslateService);\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign(Object.assign(Object.assign({}, BaseRecordEditorFieldDesign.getInitialProperties()), { enableMultiSelection: null, additionalQueryCriteria: null }), initialProperties);\n    }\n    getInspectorConfig() {\n        return this.selectedFieldDefinition$.pipe(switchMap((fieldDefinition) => super\n            .getInspectorConfig()\n            .pipe(map((inspectorConfig) => (fieldDefinition === null || fieldDefinition === void 0 ? void 0 : fieldDefinition.namedListDefinition)\n            ? this.getNamedListInspectorConfig(inspectorConfig, fieldDefinition)\n            : inspectorConfig))));\n    }\n    getNamedListInspectorConfig(inspectorConfig, fieldDefinition) {\n        const namedListFilterExpressionConfigurator = new NamedListFilterExpressionConfigurator(fieldDefinition, this.injector);\n        const enableMultiSelectionControl = {\n            name: 'enableMultiSelection',\n            component: SwitchFormControlComponent,\n            options: {\n                label: 'Enable multi-selection'\n            }\n        };\n        const additionalQueryCriteriaControls = [\n            {\n                name: 'namedListDefinitionName',\n                component: RxDefinitionPickerComponent,\n                isDisabled: true,\n                options: {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.definition-type.named-list.label'),\n                    definitionType: RX_DEFINITION_PICKER.definitionTypes.namedList.type\n                }\n            },\n            {\n                name: 'additionalQueryCriteria',\n                component: ExpressionFormControlComponent,\n                options: {\n                    label: 'Additional named list filter',\n                    tooltip: new Tooltip('Build a filter to apply at runtime in addition to the filter, if any, specified in the named list definition.'),\n                    dataDictionary$: namedListFilterExpressionConfigurator.getDataDictionary(),\n                    operators: namedListFilterExpressionConfigurator.getOperators()\n                }\n            }\n        ];\n        inspectorConfig.inspectorSectionConfigs[0].controls.push(enableMultiSelectionControl);\n        inspectorConfig.inspectorSectionConfigs[0].controls.push(...additionalQueryCriteriaControls);\n        // update the named list name for named list inspector control\n        this.sandbox.updateComponentProperties({ namedListDefinitionName: fieldDefinition.namedListDefinition });\n        return inspectorConfig;\n    }\n    getPropertiesByName(properties) {\n        return omit(super.getPropertiesByName(properties), 'namedListDefinitionName');\n    }\n}\n\nclass TextFieldDesignComponent {\n}\nTextFieldDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextFieldDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nTextFieldDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: TextFieldDesignComponent, selector: \"rx-character-field-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<adapt-rx-textfield\\n  class=\\\"rx-pointer-events-none\\\"\\n  [required]=\\\"model.isRequired$ | async\\\"\\n  [label]=\\\"model.label$ | async\\\"\\n  [disabled]=\\\"true\\\"\\n  ngModel\\n></adapt-rx-textfield>\\n\", components: [{ type: i1.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }], directives: [{ type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextFieldDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-character-field-design',\n                    templateUrl: 'text-field-design.component.html'\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass TextFieldDesignModule {\n}\nTextFieldDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextFieldDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nTextFieldDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextFieldDesignModule, declarations: [TextFieldDesignComponent], imports: [CommonModule, AdaptRxTextfieldModule, FormsModule] });\nTextFieldDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextFieldDesignModule, imports: [[CommonModule, AdaptRxTextfieldModule, FormsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextFieldDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, AdaptRxTextfieldModule, FormsModule],\n                    declarations: [TextFieldDesignComponent],\n                    entryComponents: [TextFieldDesignComponent]\n                }]\n        }] });\n\nclass TextFieldExpressionConfigurator extends RxViewComponentExpressionConfigurator {\n    constructor(injector, componentGuid, componentModel) {\n        super(injector, componentGuid, componentModel);\n        this.injector = injector;\n        this.componentGuid = componentGuid;\n        this.componentModel = componentModel;\n        const dataDictionary$ = this.componentModel.selectedFieldDefinition$.pipe(filter((fieldDefinition) => Boolean(fieldDefinition.namedListDefinition)), switchMap((fieldDefinition) => {\n            const namedListFilterExpressionConfigurator = new NamedListFilterExpressionConfigurator(fieldDefinition, this.injector);\n            return namedListFilterExpressionConfigurator.getDataDictionary();\n        }));\n        this.configureForProperty({\n            propertyPath: 'additionalQueryCriteria',\n            dataDictionary$,\n            operators: ExpressionOperatorRowsByGroup.get(ExpressionOperatorGroup.AllServer)\n        });\n    }\n}\n\nvar TextFieldMultiSelectionType;\n(function (TextFieldMultiSelectionType) {\n    TextFieldMultiSelectionType[\"Enabled\"] = \"true\";\n    TextFieldMultiSelectionType[\"Disabled\"] = \"false\";\n})(TextFieldMultiSelectionType || (TextFieldMultiSelectionType = {}));\n\nclass TextFieldComponent extends BaseRecordEditorFieldComponent {\n    constructor(injector, fieldDefinitionService, rxNamedListDefinitionService, rxNamedListService) {\n        super(injector);\n        this.fieldDefinitionService = fieldDefinitionService;\n        this.rxNamedListDefinitionService = rxNamedListDefinitionService;\n        this.rxNamedListService = rxNamedListService;\n        this.optionLoaderFunc = this.getNamedListOptionPage.bind(this);\n        this.viewToModelValueAdapterFunc = this.viewToModelValueAdapter.bind(this);\n        this.modelToViewValueAdapterFunc = this.modelToViewValueAdapter.bind(this);\n        this.selectedOptions = [];\n        this.multiSelectDelimiter = ';';\n        this.isDropdownOpen = false;\n    }\n    onConfigInitialized(config) {\n        super.onConfigInitialized(config);\n        this.isPasswordField =\n            includes(RX_RECORD_DEFINITION.passwordFieldIds, this.fieldId) || this.fieldDefinition.shouldPersistHashed;\n        this.namedListDefinitionName = this.fieldDefinition.namedListDefinition;\n        this.isNamedListAttached = Boolean(this.namedListDefinitionName);\n        this.isMultipleSelectionEnabled = config.enableMultiSelection === TextFieldMultiSelectionType.Enabled;\n        if (this.fieldDefinition.maxLength && !this.fieldDefinitionService.isSystemField(this.fieldDefinition)) {\n            this.maxLength = this.fieldDefinition.maxLength;\n        }\n        if (this.isNamedListAttached) {\n            const namedListDefinition$ = this.rxNamedListDefinitionService\n                .get(this.namedListDefinitionName)\n                .pipe(shareReplay(1), take(1));\n            const valueChanges$ = this.formControl.valueChanges.pipe(distinctUntilChanged(isEqual), startWith(this.formControl.value), filter(() => !this.isDropdownOpen), takeUntil(this.destroyed$));\n            this.config\n                .pipe(debounceTime(250), pluck('additionalQueryCriteria'), distinctUntilChanged(), takeUntil(this.destroyed$))\n                .subscribe((additionalQueryCriteria) => {\n                if (!isNil(this.additionalQueryCriteria)) {\n                    this.selectWithPaginationComponent.resetLoadedOptions();\n                    this.setFieldValue(null);\n                }\n                this.additionalQueryCriteria = additionalQueryCriteria;\n            });\n            combineLatest([namedListDefinition$, valueChanges$]).subscribe(([namedListDefinition]) => {\n                this.namedListDefinition = namedListDefinition;\n                this.updateSelection();\n            });\n        }\n    }\n    getDisplayValue() {\n        let displayValue = super.getDisplayValue();\n        if (this.isPasswordField) {\n            displayValue = '********';\n        }\n        else if (this.isNamedListAttached) {\n            displayValue = this.namedListFormattedValue;\n        }\n        return displayValue;\n    }\n    getNamedListOptionPage(startIndex, pageSize, searchQuery) {\n        return this.rxNamedListService.getOptionPage(this.namedListDefinition, searchQuery, this.additionalQueryCriteria, startIndex, pageSize);\n    }\n    // [{displayValue: 'FOO', value: 'foo'}, {displayValue: 'BAR', value: 'bar'}] -> 'foo;bar'\n    viewToModelValueAdapter(selectedOptions) {\n        this.selectedOptions = selectedOptions;\n        this.updateNamedListFormattedValue();\n        return selectedOptions.map((option) => option.value).join(this.multiSelectDelimiter);\n    }\n    // 'foo;bar' -> [{displayValue: 'FOO', value: 'foo'}, {displayValue: 'BAR', value: 'bar'}]\n    modelToViewValueAdapter(modelValue) {\n        return modelValue ? this.selectedOptions : [];\n    }\n    onToggleDropdown(isOpen) {\n        this.isDropdownOpen = isOpen;\n    }\n    getOptionValues(modelValue) {\n        return modelValue ? compact(modelValue.split(this.multiSelectDelimiter)) : [];\n    }\n    // Update selection by form control value.\n    // Usually, this needs to be done when form control value changes programmatically, e.g:\n    // - in initialization text field component phase\n    // - by set property action\n    // - after record editor record instance id change\n    updateSelection() {\n        this.showDefaultTitle = false;\n        const selectedOptionValues = this.getOptionValues(this.formControl.value);\n        if (!this.isMultipleSelectionEnabled && selectedOptionValues.length > 1) {\n            // If the field instance contains multiple values but the component doesn't have multiple selection enabled\n            // e.g. when field was edited in the data editor, the display value will be blank (null).\n            this.selectedOptions = [\n                {\n                    displayValue: null,\n                    value: this.formControl.value\n                }\n            ];\n            this.triggerModelToViewValueUpdate();\n            this.updateNamedListFormattedValue();\n        }\n        else {\n            // Select with pagination component is not available in the record editor READ mode.\n            const loadedOptions = get(this.selectWithPaginationComponent, 'options', []);\n            // Check if all options for selected values are already loaded.\n            (selectedOptionValues.every((selectedValue) => loadedOptions.find((option) => option.value === selectedValue))\n                ? of(loadedOptions)\n                : this.rxNamedListService.getOptionsForValues(this.namedListDefinition, selectedOptionValues)).subscribe((options) => {\n                this.showDefaultTitle = true;\n                if (!this.isMultipleSelectionEnabled && selectedOptionValues.length > 1) {\n                    // If the field instance contains multiple values but the component doesn't have multiple selection\n                    // enabled e.g. when field was edited in the data editor, the display value will be blank (null).\n                    this.selectedOptions = [\n                        {\n                            displayValue: null,\n                            value: this.formControl.value\n                        }\n                    ];\n                }\n                else {\n                    // If the record instance with a given value is not found e.g. referenced record\n                    // was deleted, the display value for such record instance will be blank (null).\n                    this.selectedOptions = selectedOptionValues.map((optionValue) => find(options, { value: optionValue }) || {\n                        displayValue: null,\n                        value: optionValue\n                    });\n                }\n                if (this.formControl.dirty) {\n                    this.formControl.markAsTouched();\n                }\n                this.triggerModelToViewValueUpdate();\n                this.updateNamedListFormattedValue();\n            });\n        }\n    }\n    updateNamedListFormattedValue() {\n        if (this.isMultipleSelectionEnabled) {\n            const visibleOptionsCount = 50;\n            this.namedListFormattedValue =\n                this.selectedOptions\n                    .slice(0, visibleOptionsCount)\n                    .map((option) => option.displayValue)\n                    .filter(Boolean)\n                    .join(', ') || null;\n            if (this.selectedOptions.length >= visibleOptionsCount) {\n                this.namedListFormattedValue += '...';\n            }\n        }\n        else {\n            this.namedListFormattedValue = this.selectedOptions.length ? first$1(this.selectedOptions).displayValue : null;\n        }\n    }\n    triggerModelToViewValueUpdate() {\n        // trigger writeValue function in the control value accessor\n        this.formControl.setValue(this.formControl.value, { emitEvent: false });\n    }\n}\nTextFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextFieldComponent, deps: [{ token: i0.Injector }, { token: i1$5.RxFieldDefinitionService }, { token: i2$6.RxNamedListDefinitionService }, { token: i2$6.RxNamedListService }], target: i0.ɵɵFactoryTarget.Component });\nTextFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: TextFieldComponent, selector: \"rx-text-field\", viewQueries: [{ propertyName: \"selectWithPaginationComponent\", first: true, predicate: RxSelectWithPaginationComponent, descendants: true }], usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"!isHidden\\\">\\n  <rx-read-only-field\\n    *ngIf=\\\"inReadState; else editStateElementRef\\\"\\n    [label]=\\\"label\\\"\\n    [value]=\\\"getDisplayValue()\\\"\\n  ></rx-read-only-field>\\n</ng-container>\\n\\n<ng-template #editStateElementRef>\\n  <adapt-rx-textfield\\n    *ngIf=\\\"!isNamedListAttached\\\"\\n    [label]=\\\"label\\\"\\n    [isPassword]=\\\"isPasswordField\\\"\\n    [formControl]=\\\"formControl\\\"\\n    [maxlength]=\\\"maxLength\\\"\\n    [required]=\\\"isRequired\\\"\\n    [readonly]=\\\"isDisabled\\\"\\n    [disabledStyleForReadonlyState]=\\\"true\\\"\\n    [autocomplete]=\\\"!isPasswordField\\\"\\n    [requiredLabel]=\\\"'com.bmc.arsys.rx.client.common.required-field.label' | translate\\\"\\n  ></adapt-rx-textfield>\\n\\n  <rx-select-with-pagination\\n    *ngIf=\\\"isNamedListAttached\\\"\\n    [showDefaultTitle]=\\\"showDefaultTitle\\\"\\n    [label]=\\\"label\\\"\\n    [formControl]=\\\"formControl\\\"\\n    [readonly]=\\\"isDisabled\\\"\\n    [viewToModelValueAdapter]=\\\"viewToModelValueAdapterFunc\\\"\\n    [modelToViewValueAdapter]=\\\"modelToViewValueAdapterFunc\\\"\\n    [optionLoader]=\\\"optionLoaderFunc\\\"\\n    [required]=\\\"isRequired\\\"\\n    [isMultiSelectionMode]=\\\"isMultipleSelectionEnabled\\\"\\n    (toggleDropdown)=\\\"onToggleDropdown($event)\\\"\\n    [template]=\\\"namedListOptionTemplate\\\"\\n  ></rx-select-with-pagination>\\n</ng-template>\\n\\n<ng-template #namedListOptionTemplate let-option>\\n  {{ option.displayValue }}\\n  <div *ngIf=\\\"option.contextualFields\\\" class=\\\"text-secondary text-truncate\\\" [title]=\\\"option.title\\\">\\n    <span class=\\\"breadcrumb-item active\\\" *ngFor=\\\"let contextualFieldValue of option.contextualFields\\\">\\n      <small> {{ contextualFieldValue }} </small>\\n    </span>\\n  </div>\\n</ng-template>\\n\", components: [{ type: i1$6.ReadOnlyFieldComponent, selector: \"rx-read-only-field\", inputs: [\"label\", \"value\"] }, { type: i1.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i2$5.RxSelectWithPaginationComponent, selector: \"rx-select-with-pagination\", inputs: [\"label\", \"required\", \"isMultiSelectionMode\", \"optionLoader\", \"pageSize\", \"showDefaultTitle\", \"showUncheckAll\", \"readonly\", \"template\", \"viewToModelValueAdapter\", \"modelToViewValueAdapter\", \"optionFormatter\"], outputs: [\"toggleDropdown\", \"selectionChange\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlDirective, selector: \"[formControl]\", inputs: [\"disabled\", \"formControl\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { type: i2$3.MaxLengthValidator, selector: \"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]\", inputs: [\"maxlength\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextFieldComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-text-field',\n                    templateUrl: './text-field.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1$5.RxFieldDefinitionService }, { type: i2$6.RxNamedListDefinitionService }, { type: i2$6.RxNamedListService }]; }, propDecorators: { selectWithPaginationComponent: [{\n                type: ViewChild,\n                args: [RxSelectWithPaginationComponent]\n            }] } });\n\nclass TextFieldModule {\n}\nTextFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nTextFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextFieldModule, declarations: [TextFieldComponent], imports: [CommonModule,\n        ReadOnlyFieldModule,\n        ReactiveFormsModule,\n        TranslateModule,\n        RxSelectWithPaginationModule,\n        AdaptRxTextfieldModule], exports: [TextFieldComponent] });\nTextFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextFieldModule, imports: [[\n            CommonModule,\n            ReadOnlyFieldModule,\n            ReactiveFormsModule,\n            TranslateModule,\n            RxSelectWithPaginationModule,\n            AdaptRxTextfieldModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextFieldModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        ReadOnlyFieldModule,\n                        ReactiveFormsModule,\n                        TranslateModule,\n                        RxSelectWithPaginationModule,\n                        AdaptRxTextfieldModule\n                    ],\n                    declarations: [TextFieldComponent],\n                    exports: [TextFieldComponent],\n                    entryComponents: [TextFieldComponent]\n                }]\n        }] });\n\nclass TextFieldRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver, rxRecordQueryExpressionEvaluatorService) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxRecordQueryExpressionEvaluatorService = rxRecordQueryExpressionEvaluatorService;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.Character,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(TextFieldComponent),\n            properties: [\n                ...RX_BASE_FIELD_PROPERTIES,\n                {\n                    name: 'enableMultiSelection',\n                    designType: ViewComponentPropertyType.Boolean\n                },\n                {\n                    name: 'namedListDefinitionName',\n                    designType: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'additionalQueryCriteria',\n                    designType: ViewComponentPropertyType.String,\n                    enableExpressionEvaluation: true,\n                    evaluatorService: this.rxRecordQueryExpressionEvaluatorService\n                }\n            ],\n            name: 'Text',\n            group: RX_FIELD_COMPONENTS.stencilGroupName,\n            icon: 'field_text',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(TextFieldDesignComponent),\n            designComponentModel: TextFieldDesignModel,\n            expressionConfigurator: TextFieldExpressionConfigurator,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            canBeInsertedInto(componentTypes) {\n                return componentTypes.includes(RxViewComponentType.RecordEditor);\n            },\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nTextFieldRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextFieldRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }, { token: i1$4.RxRecordQueryExpressionEvaluatorService }], target: i0.ɵɵFactoryTarget.NgModule });\nTextFieldRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextFieldRegistrationModule, imports: [TextFieldModule, TextFieldDesignModule] });\nTextFieldRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextFieldRegistrationModule, imports: [[TextFieldModule, TextFieldDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextFieldRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [TextFieldModule, TextFieldDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }, { type: i1$4.RxRecordQueryExpressionEvaluatorService }]; } });\n\nclass TextareaFieldDesignModel extends BaseRecordEditorFieldDesign {\n    constructor() {\n        super(...arguments);\n        this.fieldResourceTypes = [RX_RECORD_DEFINITION.resourceTypes.character];\n    }\n}\n\nclass TextareaFieldDesignComponent {\n}\nTextareaFieldDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextareaFieldDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nTextareaFieldDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: TextareaFieldDesignComponent, selector: \"rx-textarea-field-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<adapt-rx-textarea\\n  class=\\\"rx-pointer-events-none\\\"\\n  [label]=\\\"model.label$ | async\\\"\\n  [required]=\\\"model.isRequired$ | async\\\"\\n  [disabled]=\\\"true\\\"\\n  ngModel\\n  rows=\\\"3\\\"\\n></adapt-rx-textarea>\\n\", components: [{ type: i1.AdaptRxTextareaComponent, selector: \"adapt-rx-textarea\", inputs: [\"rows\", \"maxRows\", \"autocomplete\", \"placeholder\", \"size\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }], directives: [{ type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextareaFieldDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-textarea-field-design',\n                    templateUrl: './textarea-field-design.component.html'\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass TextareaFieldDesignModule {\n}\nTextareaFieldDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextareaFieldDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nTextareaFieldDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextareaFieldDesignModule, declarations: [TextareaFieldDesignComponent], imports: [CommonModule, AdaptRxTextareaModule, FormsModule] });\nTextareaFieldDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextareaFieldDesignModule, imports: [[CommonModule, AdaptRxTextareaModule, FormsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextareaFieldDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, AdaptRxTextareaModule, FormsModule],\n                    declarations: [TextareaFieldDesignComponent],\n                    entryComponents: [TextareaFieldDesignComponent]\n                }]\n        }] });\n\nclass TextareaFieldComponent extends BaseRecordEditorFieldComponent {\n    constructor(injector, rxFieldDefinitionService) {\n        super(injector);\n        this.rxFieldDefinitionService = rxFieldDefinitionService;\n    }\n    onConfigInitialized(config) {\n        super.onConfigInitialized(config);\n        if (this.fieldDefinition.maxLength && !this.rxFieldDefinitionService.isSystemField(this.fieldDefinition)) {\n            this.maxLength = this.fieldDefinition.maxLength;\n        }\n    }\n}\nTextareaFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextareaFieldComponent, deps: [{ token: i0.Injector }, { token: i1$5.RxFieldDefinitionService }], target: i0.ɵɵFactoryTarget.Component });\nTextareaFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: TextareaFieldComponent, selector: \"rx-textarea-field\", usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"!isHidden\\\">\\n  <rx-read-only-field\\n    *ngIf=\\\"inReadState; else editStateElementRef\\\"\\n    [label]=\\\"label\\\"\\n    [value]=\\\"getDisplayValue()\\\"\\n  ></rx-read-only-field>\\n</ng-container>\\n\\n<ng-template #editStateElementRef>\\n  <adapt-rx-textarea\\n    [formControl]=\\\"formControl\\\"\\n    [required]=\\\"isRequired\\\"\\n    [maxlength]=\\\"maxLength\\\"\\n    [rows]=\\\"3\\\"\\n    [readonly]=\\\"isDisabled\\\"\\n    [disabledStyleForReadonlyState]=\\\"true\\\"\\n    [label]=\\\"label\\\"\\n    [requiredLabel]=\\\"'com.bmc.arsys.rx.client.common.required-field.label' | translate\\\"\\n  >\\n  </adapt-rx-textarea>\\n</ng-template>\\n\", styles: [\":host ::ng-deep textarea{resize:none}:host ::ng-deep rx-read-only-field .read-only-content{max-height:6em;overflow-y:auto;word-break:break-all;white-space:pre-wrap}\\n\"], components: [{ type: i1$6.ReadOnlyFieldComponent, selector: \"rx-read-only-field\", inputs: [\"label\", \"value\"] }, { type: i1.AdaptRxTextareaComponent, selector: \"adapt-rx-textarea\", inputs: [\"rows\", \"maxRows\", \"autocomplete\", \"placeholder\", \"size\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlDirective, selector: \"[formControl]\", inputs: [\"disabled\", \"formControl\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i2$3.MaxLengthValidator, selector: \"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]\", inputs: [\"maxlength\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextareaFieldComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-textarea-field',\n                    templateUrl: './textarea-field.component.html',\n                    styleUrls: ['./textarea-field.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1$5.RxFieldDefinitionService }]; } });\n\nclass TextareaFieldModule {\n}\nTextareaFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextareaFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nTextareaFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextareaFieldModule, declarations: [TextareaFieldComponent], imports: [CommonModule, ReactiveFormsModule, ReadOnlyFieldModule, TranslateModule, AdaptRxTextareaModule] });\nTextareaFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextareaFieldModule, imports: [[CommonModule, ReactiveFormsModule, ReadOnlyFieldModule, TranslateModule, AdaptRxTextareaModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextareaFieldModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, ReactiveFormsModule, ReadOnlyFieldModule, TranslateModule, AdaptRxTextareaModule],\n                    declarations: [TextareaFieldComponent],\n                    entryComponents: [TextareaFieldComponent]\n                }]\n        }] });\n\nclass TextareaFieldRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.Textarea,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(TextareaFieldComponent),\n            properties: RX_BASE_FIELD_PROPERTIES,\n            name: 'Textarea',\n            group: RX_FIELD_COMPONENTS.stencilGroupName,\n            icon: 'area_text',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(TextareaFieldDesignComponent),\n            designComponentModel: TextareaFieldDesignModel,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            canBeInsertedInto(componentTypes) {\n                return componentTypes.includes(RxViewComponentType.RecordEditor);\n            },\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nTextareaFieldRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextareaFieldRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nTextareaFieldRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextareaFieldRegistrationModule, imports: [TextareaFieldModule, TextareaFieldDesignModule] });\nTextareaFieldRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextareaFieldRegistrationModule, imports: [[TextareaFieldModule, TextareaFieldDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TextareaFieldRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [TextareaFieldModule, TextareaFieldDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass TimeFieldDesignModel extends BaseRecordEditorFieldDesign {\n    constructor() {\n        super(...arguments);\n        this.fieldResourceTypes = [RX_RECORD_DEFINITION.resourceTypes.timeOnly];\n    }\n}\n\nclass TimeFieldDesignComponent {\n    constructor() {\n        this.pickerMode = RxDatetimePickerMode.Time;\n    }\n}\nTimeFieldDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeFieldDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nTimeFieldDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: TimeFieldDesignComponent, selector: \"rx-time-field-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<adapt-rx-datetime\\n  class=\\\"rx-pointer-events-none\\\"\\n  [(ngModel)]=\\\"timeValue\\\"\\n  [required]=\\\"model.isRequired$ | async\\\"\\n  [disabled]=\\\"true\\\"\\n  [mode]=\\\"pickerMode\\\"\\n  [label]=\\\"model.label$ | async\\\"\\n></adapt-rx-datetime>\\n\", components: [{ type: i1.AdaptRxDatetimeComponent, selector: \"adapt-rx-datetime\", inputs: [\"placeholder\", \"inline\", \"placement\", \"appendToBody\", \"inlineLight\", \"inlineCompact\", \"dayFilter\", \"disableWizard\", \"mode\", \"hasSeconds\", \"use12HoursTime\", \"firstDayOfWeek\", \"initialDatetime\", \"defaultDatetime\", \"disabledStyleForReadonlyState\", \"popupClass\", \"texts\", \"inputFormat\"], outputs: [\"onPopupOpenChange\", \"onDatetimeChange\"] }], directives: [{ type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeFieldDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-time-field-design',\n                    templateUrl: './time-field-design.component.html'\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass TimeFieldDesignModule {\n}\nTimeFieldDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeFieldDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nTimeFieldDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeFieldDesignModule, declarations: [TimeFieldDesignComponent], imports: [AdaptRxDatetimeModule, CommonModule, FormsModule] });\nTimeFieldDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeFieldDesignModule, imports: [[AdaptRxDatetimeModule, CommonModule, FormsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeFieldDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [AdaptRxDatetimeModule, CommonModule, FormsModule],\n                    declarations: [TimeFieldDesignComponent],\n                    entryComponents: [TimeFieldDesignComponent]\n                }]\n        }] });\n\nclass TimeAdapter extends AdaptRxDatetimeAdapter {\n    constructor() {\n        super(...arguments);\n        this.storeTimeFormat = 'HH:mm:ss';\n    }\n    fromModel(dateString) {\n        let adaptedValue = null;\n        const date = moment(dateString, 'LTS');\n        if (date && date.isValid()) {\n            adaptedValue = {\n                year: date.year(),\n                month: date.month(),\n                date: date.date(),\n                hours: date.hours(),\n                minutes: date.minutes(),\n                seconds: date.seconds()\n            };\n        }\n        return adaptedValue;\n    }\n    toModel(date) {\n        return date\n            ? date.parseError\n                ? moment.invalid().toString()\n                : moment({\n                    hour: date.hours || 0,\n                    minute: date.minutes || 0,\n                    seconds: date.seconds || 0\n                }).format(this.storeTimeFormat)\n            : null;\n    }\n}\nTimeAdapter.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeAdapter, deps: null, target: i0.ɵɵFactoryTarget.Injectable });\nTimeAdapter.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeAdapter });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeAdapter, decorators: [{\n            type: Injectable\n        }] });\n\nclass TimeFieldComponent extends BaseRecordEditorFieldComponent {\n    constructor(injector, datePipe) {\n        super(injector);\n        this.datePipe = datePipe;\n        this.pickerMode = RxDatetimePickerMode.Time;\n    }\n    getDisplayValue() {\n        var _a;\n        const displayValue = super.getDisplayValue();\n        if (!displayValue) {\n            return '-';\n        }\n        else {\n            const readOnlyTimeValue = moment(displayValue, 'LTS').toDate();\n            return (_a = this.datePipe.transform(readOnlyTimeValue, 'mediumTime')) !== null && _a !== void 0 ? _a : '-';\n        }\n    }\n    getFieldValidators() {\n        const validatorFn = (control) => {\n            const date = control.value ? moment(control.value, 'LTS') : null;\n            return control.value && date && !date.isValid()\n                ? { rxDatetimeFormat: { mode: this.pickerMode, hasSeconds: true } }\n                : null;\n        };\n        return [validatorFn];\n    }\n}\nTimeFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeFieldComponent, deps: [{ token: i0.Injector }, { token: i3.DatePipe }], target: i0.ɵɵFactoryTarget.Component });\nTimeFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: TimeFieldComponent, selector: \"rx-time-field\", providers: [{ provide: AdaptRxDatetimeAdapter, useClass: TimeAdapter }], usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"!isHidden\\\">\\n  <rx-read-only-field\\n    *ngIf=\\\"inReadState; else editStateElementRef\\\"\\n    [label]=\\\"label\\\"\\n    [value]=\\\"getDisplayValue()\\\"\\n  ></rx-read-only-field>\\n</ng-container>\\n\\n<ng-template #editStateElementRef>\\n  <adapt-rx-datetime\\n    [label]=\\\"label\\\"\\n    [required]=\\\"isRequired\\\"\\n    [formControl]=\\\"formControl\\\"\\n    [readonly]=\\\"isDisabled\\\"\\n    [disabledStyleForReadonlyState]=\\\"true\\\"\\n    [mode]=\\\"pickerMode\\\"\\n    hasSeconds=\\\"true\\\"\\n  ></adapt-rx-datetime>\\n</ng-template>\\n\", components: [{ type: i1$6.ReadOnlyFieldComponent, selector: \"rx-read-only-field\", inputs: [\"label\", \"value\"] }, { type: i1.AdaptRxDatetimeComponent, selector: \"adapt-rx-datetime\", inputs: [\"placeholder\", \"inline\", \"placement\", \"appendToBody\", \"inlineLight\", \"inlineCompact\", \"dayFilter\", \"disableWizard\", \"mode\", \"hasSeconds\", \"use12HoursTime\", \"firstDayOfWeek\", \"initialDatetime\", \"defaultDatetime\", \"disabledStyleForReadonlyState\", \"popupClass\", \"texts\", \"inputFormat\"], outputs: [\"onPopupOpenChange\", \"onDatetimeChange\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlDirective, selector: \"[formControl]\", inputs: [\"disabled\", \"formControl\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeFieldComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-time-field',\n                    templateUrl: './time-field.component.html',\n                    providers: [{ provide: AdaptRxDatetimeAdapter, useClass: TimeAdapter }]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i3.DatePipe }]; } });\n\nclass TimeFieldModule {\n}\nTimeFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nTimeFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeFieldModule, declarations: [TimeFieldComponent], imports: [AdaptRxDatetimeModule, CommonModule, ReadOnlyFieldModule, TranslateModule, ReactiveFormsModule] });\nTimeFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeFieldModule, providers: [DatePipe], imports: [[AdaptRxDatetimeModule, CommonModule, ReadOnlyFieldModule, TranslateModule, ReactiveFormsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeFieldModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [AdaptRxDatetimeModule, CommonModule, ReadOnlyFieldModule, TranslateModule, ReactiveFormsModule],\n                    declarations: [TimeFieldComponent],\n                    providers: [DatePipe],\n                    entryComponents: [TimeFieldComponent]\n                }]\n        }] });\n\nclass TimeFieldRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.Time,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(TimeFieldComponent),\n            properties: RX_BASE_FIELD_PROPERTIES,\n            name: 'Time',\n            group: RX_FIELD_COMPONENTS.stencilGroupName,\n            icon: 'clock_o',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(TimeFieldDesignComponent),\n            designComponentModel: TimeFieldDesignModel,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            canBeInsertedInto(componentTypes) {\n                return componentTypes.includes(RxViewComponentType.RecordEditor);\n            },\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nTimeFieldRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeFieldRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nTimeFieldRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeFieldRegistrationModule, imports: [TimeFieldModule, TimeFieldDesignModule] });\nTimeFieldRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeFieldRegistrationModule, imports: [[TimeFieldModule, TimeFieldDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TimeFieldRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [TimeFieldModule, TimeFieldDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass RxExtensionContainerComponent extends BaseViewComponent {\n    constructor(rxRecordDefinitionCacheService, rxRecordDefinitionService) {\n        super();\n        this.rxRecordDefinitionCacheService = rxRecordDefinitionCacheService;\n        this.rxRecordDefinitionService = rxRecordDefinitionService;\n        this.recordDefinitions = {};\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.config.pipe(takeUntil(this.destroyed$)).subscribe((config) => {\n            this.state = config;\n        });\n    }\n    loadRecordDefinition(name) {\n        this.rxRecordDefinitionCacheService.getRecordDefinition(name).subscribe((recordDefinition) => {\n            recordDefinition.fieldDefinitionsById =\n                this.rxRecordDefinitionService.buildFieldDefinitionsByIdMap(recordDefinition);\n            this.recordDefinitions[name] = recordDefinition;\n            this.notifyPropertyChanged('recordDefinitions', this.recordDefinitions);\n        });\n    }\n}\nRxExtensionContainerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExtensionContainerComponent, deps: [{ token: i1$5.RxRecordDefinitionCacheService }, { token: i1$5.RxRecordDefinitionService }], target: i0.ɵɵFactoryTarget.Component });\nRxExtensionContainerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxExtensionContainerComponent, selector: \"rx-extension-container\", usesInheritance: true, ngImport: i0, template: \"<rx-runtime-view-canvas-outlet [hidden]=\\\"state.hidden\\\"></rx-runtime-view-canvas-outlet>\\n\", components: [{ type: i1$2.RuntimeViewCanvasOutletComponent, selector: \"rx-runtime-view-canvas-outlet\", inputs: [\"name\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExtensionContainerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-extension-container',\n                    templateUrl: './extension-container.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$5.RxRecordDefinitionCacheService }, { type: i1$5.RxRecordDefinitionService }]; } });\n\nclass RxExtensionContainerHelperService {\n    // generate unique expression for 'selectionFieldOptionNamesById' property depending on extension Record editor guid\n    getSelectionFieldOptionNamesByIdExpression(guid) {\n        return `${guid}:selectionFieldOptionNamesById`;\n    }\n}\nRxExtensionContainerHelperService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExtensionContainerHelperService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxExtensionContainerHelperService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExtensionContainerHelperService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExtensionContainerHelperService, decorators: [{\n            type: Injectable\n        }] });\n\nclass ExtensionContainerSectionComponent extends BaseViewComponent {\n    constructor(rxExtensionContainerComponent, rxRecordInstanceService, rxRecordEditorUtilsService, rxExtensionContainerHelperService, recordEditorComponent) {\n        super();\n        this.rxExtensionContainerComponent = rxExtensionContainerComponent;\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.rxRecordEditorUtilsService = rxRecordEditorUtilsService;\n        this.rxExtensionContainerHelperService = rxExtensionContainerHelperService;\n        this.recordEditorComponent = recordEditorComponent;\n        this.isInitialized = false;\n        this.selectionFieldOptionNamesById = null;\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        // will close once officially fixed : https://github.com/ReactiveX/rxjs/issues/4772\n        combineLatest([this.config, this.recordEditorComponent.recordInstanceChanged$.pipe(startWith(null))])\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe(([config, recordInstanceUpdated]) => {\n            if (config.recordDefinitionName) {\n                this.rxExtensionContainerComponent.loadRecordDefinition(config.recordDefinitionName);\n            }\n            if (!config.associationDefinitionName) {\n                return (this.isInitialized = true);\n            }\n            if (config.api) {\n                let associatedRecordInstanceId = null;\n                if (this.recordEditorComponent.state.mode === RecordEditorMode.Edit) {\n                    associatedRecordInstanceId = this.recordEditorComponent.state.recordInstance.id;\n                }\n                const associationManager = config.api.getAssociationManager({\n                    associationDefinitionName: config.associationDefinitionName,\n                    associatedRecordNodeSide: RX_ASSOCIATION_DEFINITION.roles.second.value,\n                    associatedRecordInstanceId: associatedRecordInstanceId,\n                    recordDefinitionName: config.recordDefinitionName,\n                    allFieldIds: true,\n                    associatedRecordPath: config.associatedRecordPath\n                });\n                let initialize$;\n                if (this.recordEditorComponent.state.mode === RecordEditorMode.Edit) {\n                    initialize$ = associationManager.loadExtensions().pipe(switchMap((recordInstance) => {\n                        if (isEmpty(associationManager.extensions)) {\n                            return this.addNewRecordInstanceToExtension(associationManager);\n                        }\n                        else {\n                            return of(recordInstance);\n                        }\n                    }));\n                }\n                else if (this.recordEditorComponent.state.mode === RecordEditorMode.Create ||\n                    this.recordEditorComponent.state.mode === RecordEditorMode.Temporary) {\n                    initialize$ = forkJoin([\n                        associationManager.initialize(),\n                        this.addNewRecordInstanceToExtension(associationManager)\n                    ]);\n                }\n                initialize$\n                    .pipe(tap(() => {\n                    this.isInitialized = true;\n                }), switchMap(() => {\n                    const recordInstance$ = associationManager.extensions$.pipe(map((arr) => arr[0]), tap((recordInstance) => this.updateSelectionFieldOptionNames(recordInstance)), shareReplay(1));\n                    return recordInstance$.pipe(switchMap((inst) => inst.fieldValueChanged$), withLatestFrom(recordInstance$));\n                }), takeUntil(this.destroyed$))\n                    .subscribe(([change, recordInstance]) => {\n                    this.updateSelectionFieldOptionNames(recordInstance);\n                });\n            }\n        });\n    }\n    addNewRecordInstanceToExtension(associationManager) {\n        return this.rxRecordInstanceService.getNew(associationManager.options.recordDefinitionName).pipe(tap((recordInstance) => {\n            recordInstance.isNewInstance = true;\n            associationManager.addExtension(recordInstance);\n        }));\n    }\n    updateSelectionFieldOptionNames(recordInstance) {\n        if (get(recordInstance, 'recordDefinition.fieldDefinitions')) {\n            const newSelectionFieldOptionNames = this.rxRecordEditorUtilsService.getSelectionFieldOptionNames(recordInstance.recordDefinition, recordInstance);\n            if (!isEqual(this.selectionFieldOptionNamesById, newSelectionFieldOptionNames)) {\n                const propName = this.rxExtensionContainerHelperService.getSelectionFieldOptionNamesByIdExpression(this.guid);\n                this.rxExtensionContainerComponent.notifyPropertyChanged(propName, newSelectionFieldOptionNames);\n            }\n        }\n    }\n}\nExtensionContainerSectionComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ExtensionContainerSectionComponent, deps: [{ token: RxExtensionContainerComponent }, { token: i1$5.RxRecordInstanceService }, { token: RxRecordEditorUtilsService }, { token: RxExtensionContainerHelperService }, { token: RecordEditorComponent }], target: i0.ɵɵFactoryTarget.Component });\nExtensionContainerSectionComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ExtensionContainerSectionComponent, selector: \"rx-extension-container-section\", usesInheritance: true, ngImport: i0, template: \"<h5>{{ (config | async)?.label }}</h5>\\n<rx-runtime-view-canvas-outlet *ngIf=\\\"isInitialized\\\"></rx-runtime-view-canvas-outlet>\\n\", components: [{ type: i1$2.RuntimeViewCanvasOutletComponent, selector: \"rx-runtime-view-canvas-outlet\", inputs: [\"name\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ExtensionContainerSectionComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-extension-container-section',\n                    templateUrl: './extension-container-section.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: RxExtensionContainerComponent }, { type: i1$5.RxRecordInstanceService }, { type: RxRecordEditorUtilsService }, { type: RxExtensionContainerHelperService }, { type: RecordEditorComponent }]; } });\n\nconst RX_EXTENSION_CONTAINER = {\n    type: RxViewComponentType.ExtensionContainer,\n    recordDefinitionsReferencingExpression: 'recordDefinitions',\n    extensionContainerSectionComponent: 'rx-extension-container-section'\n};\n\nclass RxExtensionContainerDefinitionAdapterService {\n    constructor(rxViewDefinitionParserService, rxViewDefinitionDataPageService, rxGlobalCacheService, rxDefinitionNameService, rxTreeService, rxExtensionContainerHelperService, rxNotificationService, rxRuntimeViewUtilsService, rxViewDefinitionLocalizationService, translateService) {\n        this.rxViewDefinitionParserService = rxViewDefinitionParserService;\n        this.rxViewDefinitionDataPageService = rxViewDefinitionDataPageService;\n        this.rxGlobalCacheService = rxGlobalCacheService;\n        this.rxDefinitionNameService = rxDefinitionNameService;\n        this.rxTreeService = rxTreeService;\n        this.rxExtensionContainerHelperService = rxExtensionContainerHelperService;\n        this.rxNotificationService = rxNotificationService;\n        this.rxRuntimeViewUtilsService = rxRuntimeViewUtilsService;\n        this.rxViewDefinitionLocalizationService = rxViewDefinitionLocalizationService;\n        this.translateService = translateService;\n    }\n    adaptDefinition(extensionContainerComponentDefinition, viewDefinition) {\n        const targetRecordEditorComponentDefinition = this.getTargetRecordEditorComponentDefinition(viewDefinition, extensionContainerComponentDefinition);\n        extensionContainerComponentDefinition.propertiesByName.mode =\n            targetRecordEditorComponentDefinition.propertiesByName.mode;\n        return this.getExtensionViewDefinitions(extensionContainerComponentDefinition.guid).pipe(map(this.getViewDefinitionMap.bind(this)), map(this.filterDuplicatedRecordEditorComponentDefinitions.bind(this)), map((viewDefinitionMaps) => this.filterIncompatibleRecordEditorComponentDefinitions(viewDefinitionMaps, targetRecordEditorComponentDefinition)), switchMap(this.setRecordEditorLabels.bind(this)), map(this.getExtensionRecordEditorComponentDefinitions.bind(this)), switchMap((extensionRecordEditorComponentDefinitions) => {\n            const processAndAddChildrenToExtensionContainer = () => {\n                extensionContainerComponentDefinition.componentDefinitions = [];\n                extensionContainerComponentDefinition.resourceType =\n                    RX_VIEW_DEFINITION.resourceTypes.containerViewComponent;\n                forEach(extensionRecordEditorComponentDefinitions, (extensionRecordEditorComponentDefinition) => {\n                    // re-assign expression for child Record editor component definitions\n                    this.processRecordEditorComponentDefinition(extensionRecordEditorComponentDefinition, targetRecordEditorComponentDefinition, extensionContainerComponentDefinition);\n                    extensionContainerComponentDefinition.componentDefinitions.push(this.getExtensionContainerSectionViewComponentDefinition(extensionRecordEditorComponentDefinition, targetRecordEditorComponentDefinition));\n                });\n                const children = extensionContainerComponentDefinition.componentDefinitions.map((component) => component.guid);\n                extensionContainerComponentDefinition.layout = JSON.stringify({\n                    outlets: [\n                        {\n                            name: RX_VIEW_DEFINITION.defaultOutletName,\n                            columns: [\n                                {\n                                    children\n                                }\n                            ]\n                        }\n                    ]\n                });\n                return extensionRecordEditorComponentDefinitions;\n            };\n            // run adapters for all Record editors and it's children\n            const adapters$ = extensionRecordEditorComponentDefinitions.map((recordEditorComponent) => {\n                return combineLatest([\n                    ...this.rxRuntimeViewUtilsService.runAdaptersForComponents(viewDefinition, recordEditorComponent)\n                ]);\n            });\n            return combineLatest(adapters$).pipe(tap({\n                complete: () => processAndAddChildrenToExtensionContainer()\n            }));\n        }));\n    }\n    getExtensionViewDefinitions(extensionContainerGuid) {\n        return this.rxViewDefinitionDataPageService\n            .get({\n            params: {\n                propertySelection: [\n                    'name',\n                    'targetExtensionContainerGuid',\n                    'targetViewDefinitionName',\n                    'componentDefinitions',\n                    'localizableStringsByComponentId',\n                    'lastUpdateTime'\n                ],\n                viewType: ViewDefinitionType.Regular,\n                targetExtensionContainerGuid: extensionContainerGuid,\n                excludeExtensionViews: false\n            },\n            headers: {\n                'default-bundle-scope': ''\n            }\n        })\n            .pipe(map((response) => {\n            const associationsInExtensionContainer = [];\n            forEach(response.data, (viewDefinition) => {\n                var _a;\n                this.rxViewDefinitionLocalizationService.applyLocalization(viewDefinition);\n                const associationDefinitionName = (_a = viewDefinition.componentDefinitions[0]) === null || _a === void 0 ? void 0 : _a.propertiesByName.associationDefinitionName;\n                if (isString(associationDefinitionName)) {\n                    if (associationsInExtensionContainer.includes(associationDefinitionName)) {\n                        this.rxNotificationService.addWarningMessage(this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-editor.extension-container.duplicate-extensions.warning'));\n                    }\n                    else {\n                        associationsInExtensionContainer.push(associationDefinitionName);\n                    }\n                }\n            });\n            return response.data;\n        }));\n    }\n    getTargetRecordEditorComponentDefinition(viewDefinition, extensionContainerComponentDefinition) {\n        return this.rxViewDefinitionParserService.findParentComponentDefinition(viewDefinition, extensionContainerComponentDefinition, (parentComponentDefinition) => parentComponentDefinition.type === RxViewComponentType.RecordEditor);\n    }\n    getViewDefinitionMap(viewDefinitions) {\n        return reduce(viewDefinitions, (result, viewDefinition) => {\n            const recordEditorComponentDefinition = viewDefinition.componentDefinitions[0];\n            // View may not contain Record editor component definition because of permission restrictions\n            if (recordEditorComponentDefinition) {\n                result.push({\n                    viewDefinition,\n                    recordEditorComponentDefinition\n                });\n            }\n            return result;\n        }, []);\n    }\n    filterDuplicatedRecordEditorComponentDefinitions(viewDefinitionMaps) {\n        return values(reduce(viewDefinitionMaps, (result, viewDefinitionMap) => {\n            // Allow multiple record editors to be displayed in the extension container if they are bound\n            // to the same parent record instance. In this case they have no associationDefinitionName.\n            if (!viewDefinitionMap.recordEditorComponentDefinition.propertiesByName.associationDefinitionName) {\n                result[viewDefinitionMap.recordEditorComponentDefinition.guid] = viewDefinitionMap;\n                return result;\n            }\n            const key = [\n                viewDefinitionMap.recordEditorComponentDefinition.propertiesByName.recordDefinitionName,\n                viewDefinitionMap.recordEditorComponentDefinition.propertiesByName.associationDefinitionName\n            ].join('');\n            if (!result[key]) {\n                result[key] = viewDefinitionMap;\n            }\n            else if (moment(viewDefinitionMap.viewDefinition.lastUpdateTime) < moment(result[key].viewDefinition.lastUpdateTime)) {\n                result[key] = viewDefinitionMap;\n            }\n            return result;\n        }, {}));\n    }\n    filterIncompatibleRecordEditorComponentDefinitions(viewDefinitionMaps, targetRecordEditorComponentDefinition) {\n        return filter$1(viewDefinitionMaps, (viewDefinitionMap) => {\n            const hasSameMode = viewDefinitionMap.recordEditorComponentDefinition.propertiesByName.mode ===\n                targetRecordEditorComponentDefinition.propertiesByName.mode;\n            const hasSameRecordDefinitionName = targetRecordEditorComponentDefinition.propertiesByName.recordDefinitionName ===\n                viewDefinitionMap.recordEditorComponentDefinition.propertiesByName.recordDefinitionName;\n            const hasAssociation = viewDefinitionMap.recordEditorComponentDefinition.propertiesByName.associationDefinitionName;\n            const validExtensionWithoutAssociation = hasSameRecordDefinitionName && !hasAssociation && hasSameMode;\n            const validExtensionWithAssociation = hasAssociation && hasSameMode;\n            return validExtensionWithoutAssociation || validExtensionWithAssociation;\n        });\n    }\n    setRecordEditorLabels(viewDefinitionMaps) {\n        return forkJoin([\n            ...viewDefinitionMaps.map((viewDefinitionMap) => {\n                let label$;\n                if (viewDefinitionMap.recordEditorComponentDefinition.propertiesByName.label) {\n                    label$ = of(viewDefinitionMap.recordEditorComponentDefinition.propertiesByName.label);\n                }\n                else {\n                    label$ = this.rxGlobalCacheService.getBundleFriendlyName(this.rxDefinitionNameService.getBundleId(viewDefinitionMap.viewDefinition.name));\n                }\n                return label$.pipe(map((label) => {\n                    viewDefinitionMap.recordEditorComponentDefinition.propertiesByName.label = label;\n                    return viewDefinitionMap;\n                }));\n            })\n        ]);\n    }\n    getExtensionRecordEditorComponentDefinitions(viewDefinitionMaps) {\n        return map$1(viewDefinitionMaps, 'recordEditorComponentDefinition');\n    }\n    processRecordEditorComponentDefinition(extensionRecordEditorComponentDefinition, targetRecordEditorComponentDefinition, extensionContainerComponentDefinition) {\n        this.rxTreeService\n            .flattenTree(extensionRecordEditorComponentDefinition, 'componentDefinitions')\n            .forEach((componentDefinition) => {\n            this.patchFieldComponentExpressions(componentDefinition, extensionRecordEditorComponentDefinition, targetRecordEditorComponentDefinition, extensionContainerComponentDefinition);\n        });\n        return extensionRecordEditorComponentDefinition;\n    }\n    // re-assign all expressions from extension Record editor to target Record editor\n    // old path: ${view.components.<extension-record-editor-guid>.recordInstance}\n    // new path: ${view.components.<target-record-editor-guid>.recordInstance.associationInstances[<association-definition-name>].extensions[0]}\n    patchFieldComponentExpressions(componentDefinition, extensionRecordEditorComponentDefinition, targetRecordEditorComponentDefinition, targetExtensionContainerComponentDefinition) {\n        // ${view.components.<target-record-editor-guid>.recordInstance.associationInstances[<association-definition-name>].extensions[0]}\n        const recordInstanceReferencingExpression = extensionRecordEditorComponentDefinition.propertiesByName\n            .associationDefinitionName\n            ? [\n                targetRecordEditorComponentDefinition.guid,\n                '.',\n                \"recordInstance.associationInstances['\",\n                extensionRecordEditorComponentDefinition.propertiesByName.associationDefinitionName,\n                \"'].\",\n                RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value,\n                '.extensions[0]'\n            ].join('')\n            : [targetRecordEditorComponentDefinition.guid, '.recordInstance'].join('');\n        // ${view.components.<target-record-editor-guid>.recordInstance.associationInstances[<association-definition-name>].extensions[0].recordDefinitionName}\n        const recordDefinitionNameReferencingExpression = [\n            recordInstanceReferencingExpression,\n            '.recordDefinitionName'\n        ].join('');\n        // ${view.components.<target-extension-container-guid>.recordDefinitions.<extension-record-definition-name>}\n        const recordDefinitionReferencingExpression = extensionRecordEditorComponentDefinition.propertiesByName\n            .associationDefinitionName\n            ? [\n                targetExtensionContainerComponentDefinition.guid,\n                '.',\n                RX_EXTENSION_CONTAINER.recordDefinitionsReferencingExpression,\n                \"['\",\n                extensionRecordEditorComponentDefinition.propertiesByName.recordDefinitionName,\n                \"']\"\n            ].join('')\n            : [targetRecordEditorComponentDefinition.guid, '.recordDefinition'].join('');\n        // ${view.components.<target-record-editor-guid>.recordInstance.associationInstances[<association-definition-name>].extensions[0].id}\n        const recordInstanceIdReferencingExpression = [recordInstanceReferencingExpression, '.id'].join('');\n        let selectionFieldOptionNamesByIdReferencingExpression;\n        if (extensionRecordEditorComponentDefinition.propertiesByName.associationDefinitionName) {\n            // ${view.components.<target-extension-container-guid>.<extension-record-editor-guid>:selectionFieldOptionNamesById}\n            selectionFieldOptionNamesByIdReferencingExpression = [\n                targetExtensionContainerComponentDefinition.guid,\n                '.',\n                this.rxExtensionContainerHelperService.getSelectionFieldOptionNamesByIdExpression(extensionRecordEditorComponentDefinition.guid)\n            ].join('');\n        }\n        else {\n            // ${view.components.<targetRecordEditorComponentDefinition>.selectionFieldOptionNamesById}\n            selectionFieldOptionNamesByIdReferencingExpression = `${targetRecordEditorComponentDefinition.guid}.selectionFieldOptionNamesById`;\n        }\n        /*\n         * {\n         *   regExp - determines the part of the old expression\n         *   expression - determines new value which should replace <regExp> match\n         * }\n         * */\n        const expressionMap = [\n            // patch record instance id expression\n            {\n                regExp: new RegExp(extensionRecordEditorComponentDefinition.guid + '.recordInstanceId', 'g'),\n                expression: recordInstanceIdReferencingExpression\n            },\n            // patch record instance expression\n            {\n                regExp: new RegExp(extensionRecordEditorComponentDefinition.guid + '.recordInstance', 'g'),\n                expression: recordInstanceReferencingExpression\n            },\n            // patch record definition name expression\n            {\n                regExp: new RegExp(extensionRecordEditorComponentDefinition.guid + '.recordDefinitionName', 'g'),\n                expression: recordDefinitionNameReferencingExpression\n            },\n            // patch record definition name expression\n            {\n                regExp: new RegExp(extensionRecordEditorComponentDefinition.guid + '.recordDefinition', 'g'),\n                expression: recordDefinitionReferencingExpression\n            },\n            // patch selection field option names by id expression\n            {\n                regExp: new RegExp(extensionRecordEditorComponentDefinition.guid + '.selectionFieldOptionNamesById', 'g'),\n                expression: selectionFieldOptionNamesByIdReferencingExpression\n            },\n            // patch record editor properties like 'canSave', 'inReadState', 'isValid', 'isDirty'\n            // ${view.components.<target-record-editor-guid>.canSave}\n            // ${view.components.<target-record-editor-guid>.inReadState} ...\n            {\n                regExp: new RegExp(`${extensionRecordEditorComponentDefinition.guid}\\\\.(\\\\w+)}`, 'g'),\n                expression: `${targetRecordEditorComponentDefinition.guid}.$1}`\n            }\n        ];\n        const propertiesToPatch = ['disabled', 'hidden', 'value', 'html'];\n        propertiesToPatch\n            .filter((propertyName) => isString(componentDefinition.propertiesByName[propertyName]))\n            .forEach((propertyName) => {\n            forEach(expressionMap, (expressionConfig) => {\n                componentDefinition.propertiesByName[propertyName] = componentDefinition.propertiesByName[propertyName].replace(expressionConfig.regExp, expressionConfig.expression);\n            });\n        });\n        componentDefinition.propertiesByName.api = `\\${view.components.${targetRecordEditorComponentDefinition.guid}.api}`;\n        componentDefinition.propertiesByName.inReadState = `\\${view.components.${targetRecordEditorComponentDefinition.guid}.inReadState}`;\n        if (extensionRecordEditorComponentDefinition.propertiesByName.associationDefinitionName) {\n            componentDefinition.propertiesByName.associatedRecordPath = [\n                extensionRecordEditorComponentDefinition.propertiesByName.associationDefinitionName,\n                RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value,\n                'extensions',\n                0\n            ];\n        }\n        if (componentDefinition.propertiesByName.recordInstance) {\n            componentDefinition.propertiesByName.recordInstance = [\n                '${view.components.',\n                recordInstanceReferencingExpression,\n                '}'\n            ].join('');\n        }\n        if (componentDefinition.propertiesByName.recordDefinition) {\n            componentDefinition.propertiesByName.recordDefinition = [\n                '${view.components.',\n                recordDefinitionReferencingExpression,\n                '}'\n            ].join('');\n        }\n    }\n    getExtensionContainerSectionViewComponentDefinition(recordEditorComponentDefinition, targetRecordEditorComponentDefinition) {\n        return {\n            guid: recordEditorComponentDefinition.guid,\n            type: RX_EXTENSION_CONTAINER.extensionContainerSectionComponent,\n            layout: recordEditorComponentDefinition.layout,\n            resourceType: RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,\n            componentDefinitions: recordEditorComponentDefinition.componentDefinitions,\n            propertiesByName: {\n                label: recordEditorComponentDefinition.propertiesByName.label,\n                styles: recordEditorComponentDefinition.propertiesByName.styles,\n                recordDefinitionName: recordEditorComponentDefinition.propertiesByName.recordDefinitionName,\n                associationDefinitionName: recordEditorComponentDefinition.propertiesByName.associationDefinitionName,\n                [RX_AVAILABLE_ON_DEVICES_PROP_NAME]: recordEditorComponentDefinition.propertiesByName[RX_AVAILABLE_ON_DEVICES_PROP_NAME],\n                api: `\\${view.components.${targetRecordEditorComponentDefinition.guid}.api}`,\n                associatedRecordPath: [\n                    recordEditorComponentDefinition.propertiesByName.associationDefinitionName,\n                    RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value,\n                    'extensions',\n                    0\n                ]\n            }\n        };\n    }\n}\nRxExtensionContainerDefinitionAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExtensionContainerDefinitionAdapterService, deps: [{ token: i1$4.RxViewDefinitionParserService }, { token: i1$4.RxViewDefinitionDataPageService }, { token: i1$1.RxGlobalCacheService }, { token: i1$1.RxDefinitionNameService }, { token: i2$1.RxTreeService }, { token: RxExtensionContainerHelperService }, { token: i1$1.RxNotificationService }, { token: i1$2.RxRuntimeViewUtilsService }, { token: i1$4.RxViewDefinitionLocalizationService }, { token: i2.TranslateService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxExtensionContainerDefinitionAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExtensionContainerDefinitionAdapterService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExtensionContainerDefinitionAdapterService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewDefinitionParserService }, { type: i1$4.RxViewDefinitionDataPageService }, { type: i1$1.RxGlobalCacheService }, { type: i1$1.RxDefinitionNameService }, { type: i2$1.RxTreeService }, { type: RxExtensionContainerHelperService }, { type: i1$1.RxNotificationService }, { type: i1$2.RxRuntimeViewUtilsService }, { type: i1$4.RxViewDefinitionLocalizationService }, { type: i2.TranslateService }]; } });\n\nclass RxExtensionContainerModule {\n    constructor(rxDefinitionAdapterRegistryService, rxExtensionContainerDefinitionAdapterService) {\n        this.rxDefinitionAdapterRegistryService = rxDefinitionAdapterRegistryService;\n        this.rxExtensionContainerDefinitionAdapterService = rxExtensionContainerDefinitionAdapterService;\n        rxDefinitionAdapterRegistryService.registerRuntimeAdapter(RX_EXTENSION_CONTAINER.type, this.rxExtensionContainerDefinitionAdapterService);\n    }\n}\nRxExtensionContainerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExtensionContainerModule, deps: [{ token: i1$1.RxDefinitionAdapterRegistryService }, { token: RxExtensionContainerDefinitionAdapterService }], target: i0.ɵɵFactoryTarget.NgModule });\nRxExtensionContainerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExtensionContainerModule, declarations: [RxExtensionContainerComponent, ExtensionContainerSectionComponent], imports: [CommonModule, RuntimeViewCanvasModule], exports: [RxExtensionContainerComponent] });\nRxExtensionContainerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExtensionContainerModule, providers: [RxExtensionContainerDefinitionAdapterService, RxExtensionContainerHelperService], imports: [[CommonModule, RuntimeViewCanvasModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExtensionContainerModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    providers: [RxExtensionContainerDefinitionAdapterService, RxExtensionContainerHelperService],\n                    declarations: [RxExtensionContainerComponent, ExtensionContainerSectionComponent],\n                    exports: [RxExtensionContainerComponent],\n                    entryComponents: [RxExtensionContainerComponent, ExtensionContainerSectionComponent],\n                    imports: [CommonModule, RuntimeViewCanvasModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxDefinitionAdapterRegistryService }, { type: RxExtensionContainerDefinitionAdapterService }]; } });\n\nclass ExtensionContainerDesignModel extends ViewDesignerComponentModel {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.injector = injector;\n        this.sandbox = sandbox;\n        this.componentProperties$ = this.sandbox.componentProperties$;\n        this.parentGuid$ = this.sandbox.getParentComponentGuid(RxViewComponentType.RecordEditor).pipe(take(1));\n        this.initialProperties = Object.assign({ name: '', recordDefinition: '', recordInstance: '' }, RX_STANDARD_PROPS_DEFAULT_VALUES);\n        combineLatest([this.parentGuid$, this.componentProperties$])\n            .pipe(first())\n            .subscribe(([parentGuid, componentProperties]) => {\n            const properties = Object.assign(Object.assign(Object.assign({}, this.initialProperties), componentProperties), { recordInstance: `\\${view.components.${parentGuid}.recordInstance}`, recordDefinition: `\\${view.components.${parentGuid}.recordDefinition}` });\n            this.sandbox.updateComponentProperties(properties);\n            this.sandbox.updateInspectorConfig(this.getInspectorConfig());\n        });\n        combineLatest([\n            this.sandbox.getComponentPropertyValue('name').pipe(map((value) => {\n                if (isEmpty(value)) {\n                    return this.sandbox.createError('Name cannot be blank.', 'name');\n                }\n            })),\n            this.sandbox.getComponentPropertyValue('styles').pipe(map(validateCssClassNames)),\n            this.sandbox\n                .getComponentPropertyValue(RX_AVAILABLE_ON_DEVICES_PROP_NAME)\n                .pipe(map(validateAvailableOnDevicesProp))\n        ])\n            .pipe(map(flatten), map(compact), takeUntil(this.sandbox.destroyed$))\n            .subscribe((validationIssues) => this.sandbox.setValidationIssues(validationIssues));\n    }\n    getInspectorConfig() {\n        return {\n            inspectorSectionConfigs: [\n                {\n                    label: 'General',\n                    controls: [\n                        {\n                            name: 'name',\n                            component: TextFormControlComponent,\n                            options: {\n                                label: 'Name',\n                                required: true,\n                                tooltip: new Tooltip('Enter a name to uniquely identify the Extension container')\n                            }\n                        },\n                        ...getStandardPropsInspectorConfigs()\n                    ]\n                }\n            ]\n        };\n    }\n}\n\nclass ExtensionContainerDesignComponent {\n}\nExtensionContainerDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ExtensionContainerDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nExtensionContainerDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ExtensionContainerDesignComponent, selector: \"rx-extension-container-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<adapt-empty-state type=\\\"objects\\\" label=\\\"Contains fields from extensions of the record definition.\\\"></adapt-empty-state>\\n\", components: [{ type: i1.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ExtensionContainerDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-extension-container-design',\n                    templateUrl: './extension-container-design.component.html'\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass ExtensionContainerDesignModule {\n}\nExtensionContainerDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ExtensionContainerDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nExtensionContainerDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ExtensionContainerDesignModule, declarations: [ExtensionContainerDesignComponent], imports: [CommonModule, AdaptEmptyStateModule] });\nExtensionContainerDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ExtensionContainerDesignModule, imports: [[CommonModule, AdaptEmptyStateModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ExtensionContainerDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, AdaptEmptyStateModule],\n                    declarations: [ExtensionContainerDesignComponent],\n                    entryComponents: [ExtensionContainerDesignComponent]\n                }]\n        }] });\n\nclass ExtensionContainerRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxViewComponentRegistryService.register({\n            type: RX_EXTENSION_CONTAINER.type,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(RxExtensionContainerComponent),\n            properties: RX_STANDARD_PROPS_DESC,\n            outlets: [\n                {\n                    name: RX_VIEW_DEFINITION.defaultOutletName\n                }\n            ],\n            name: 'Extension container',\n            group: RX_FIELD_COMPONENTS.stencilGroupName,\n            icon: 'widget',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(ExtensionContainerDesignComponent),\n            designComponentModel: ExtensionContainerDesignModel,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            canBeInsertedInto(componentTypes) {\n                return componentTypes.includes(RxViewComponentType.RecordEditor);\n            },\n            bundleId: RX_APPLICATION.platformBundleId\n        }, {\n            type: RX_EXTENSION_CONTAINER.extensionContainerSectionComponent,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(ExtensionContainerSectionComponent),\n            properties: [\n                {\n                    name: 'api',\n                    enableExpressionEvaluation: true\n                }\n            ],\n            outlets: [\n                {\n                    name: RX_VIEW_DEFINITION.defaultOutletName\n                }\n            ]\n        });\n    }\n}\nExtensionContainerRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ExtensionContainerRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nExtensionContainerRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ExtensionContainerRegistrationModule, imports: [RxExtensionContainerModule, ExtensionContainerDesignModule] });\nExtensionContainerRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ExtensionContainerRegistrationModule, imports: [[RxExtensionContainerModule, ExtensionContainerDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ExtensionContainerRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [RxExtensionContainerModule, ExtensionContainerDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass RichTextareaFieldDesignModel extends BaseRecordEditorFieldDesign {\n    constructor() {\n        super(...arguments);\n        this.fieldResourceTypes = [RX_RECORD_DEFINITION.resourceTypes.character];\n    }\n    getInspectorConfig() {\n        return super.getInspectorConfig().pipe(withLatestFrom(this.availableFieldDefinitions$), map(([inspectorConfig, recordFieldsSelectItems]) => {\n            const availableFields = recordFieldsSelectItems\n                .filter((field) => !field.maxLength)\n                .map((field) => ({\n                id: String(field.id),\n                name: field.name\n            }));\n            const newInspectorConfig = cloneDeep(inspectorConfig);\n            newInspectorConfig.inspectorSectionConfigs[0].controls[0].options.options = [...availableFields];\n            return newInspectorConfig;\n        }));\n    }\n}\n\nclass RichTextareaFieldDesignComponent {\n    constructor(rxCkEditorConfiguratorService) {\n        this.rxCkEditorConfiguratorService = rxCkEditorConfiguratorService;\n        this.ckEditorType = \"divarea\" /* DIVAREA */;\n        this.ckEditorConfig = this.rxCkEditorConfiguratorService.getCKEditorConfig();\n    }\n}\nRichTextareaFieldDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextareaFieldDesignComponent, deps: [{ token: i1$4.RxCkEditorConfiguratorService }], target: i0.ɵɵFactoryTarget.Component });\nRichTextareaFieldDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RichTextareaFieldDesignComponent, selector: \"rx-rich-textarea-field-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<div>\\n  <strong>\\n    {{ model.label$ | async }}\\n    <span *ngIf=\\\"model.isRequired$ | async\\\" class=\\\"form-control-required\\\">(required)</span>\\n  </strong>\\n</div>\\n\\n<div class=\\\"mt-1\\\">\\n  <ckeditor [type]=\\\"ckEditorType\\\" [config]=\\\"ckEditorConfig\\\" [readOnly]=\\\"true\\\"></ckeditor>\\n</div>\\n\", styles: [\"ckeditor ::ng-deep .cke_inner{box-shadow:none}\\n\"], components: [{ type: i2$7.CKEditorComponent, selector: \"ckeditor\", inputs: [\"tagName\", \"type\", \"editorUrl\", \"data\", \"readOnly\", \"config\"], outputs: [\"ready\", \"dataReady\", \"change\", \"dataChange\", \"dragStart\", \"dragEnd\", \"drop\", \"fileUploadResponse\", \"fileUploadRequest\", \"focus\", \"paste\", \"afterPaste\", \"blur\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextareaFieldDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-rich-textarea-field-design',\n                    templateUrl: './rich-textarea-field-design.component.html',\n                    styleUrls: ['./rich-textarea-field-design.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxCkEditorConfiguratorService }]; }, propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass RichTextareaFieldDesignModule {\n}\nRichTextareaFieldDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextareaFieldDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRichTextareaFieldDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextareaFieldDesignModule, declarations: [RichTextareaFieldDesignComponent], imports: [CommonModule, CKEditorModule] });\nRichTextareaFieldDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextareaFieldDesignModule, imports: [[CommonModule, CKEditorModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextareaFieldDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, CKEditorModule],\n                    declarations: [RichTextareaFieldDesignComponent],\n                    entryComponents: [RichTextareaFieldDesignComponent]\n                }]\n        }] });\n\nclass RichTextareaFieldComponent extends BaseRecordEditorFieldComponent {\n    constructor(injector, rxCkEditorConfiguratorService) {\n        super(injector);\n        this.rxCkEditorConfiguratorService = rxCkEditorConfiguratorService;\n        this.ckEditorType = \"divarea\" /* DIVAREA */;\n        this.ckEditorConfig = this.rxCkEditorConfiguratorService.getCKEditorConfig();\n    }\n    setFieldValue(value, options = {}) {\n        // When pressing a toolbar button, e.g. Bold, while the field is blank, ckeditor triggers\n        // a `dataChange` event with an empty string as data. If we allow this value to be set,\n        // it will be converted back to null and result in all toolbar buttons being reset,\n        // e.g. the Bold button will be unpressed.\n        // As a workaround, we do not accept empty string if the current field value is null.\n        if (!(this.formControl.value === null && value === '')) {\n            super.setFieldValue(value);\n        }\n    }\n    onBlur() {\n        this.formControl.markAsTouched();\n    }\n}\nRichTextareaFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextareaFieldComponent, deps: [{ token: i0.Injector }, { token: i1$4.RxCkEditorConfiguratorService }], target: i0.ɵɵFactoryTarget.Component });\nRichTextareaFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RichTextareaFieldComponent, selector: \"rx-rich-textarea-field\", usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"!isHidden\\\">\\n  <div class=\\\"read-only-content-wrapper focusable\\\" *ngIf=\\\"inReadState; else editStateElementRef\\\" tabindex=\\\"0\\\">\\n    <label>{{ label }}</label>\\n\\n    <ckeditor\\n      [config]=\\\"ckEditorConfig\\\"\\n      [type]=\\\"ckEditorType\\\"\\n      [readOnly]=\\\"true\\\"\\n      [ngModel]=\\\"getDisplayValue()\\\"\\n    ></ckeditor>\\n  </div>\\n</ng-container>\\n\\n<ng-template #editStateElementRef>\\n  <div [class.has-danger]=\\\"adaptRxFeedbackRef.hasUIErrorState\\\">\\n    <adapt-rx-control-label [label]=\\\"label\\\" [showRequiredLabel]=\\\"isRequired\\\"></adapt-rx-control-label>\\n\\n    <ckeditor\\n      (dataChange)=\\\"setFieldValue($event)\\\"\\n      [data]=\\\"formControl.value\\\"\\n      [config]=\\\"ckEditorConfig\\\"\\n      [type]=\\\"ckEditorType\\\"\\n      [readOnly]=\\\"isDisabled\\\"\\n      (blur)=\\\"onBlur()\\\"\\n    ></ckeditor>\\n\\n    <adapt-rx-feedback\\n      #adaptRxFeedbackRef\\n      [errors]=\\\"formControl.errors\\\"\\n      [controlTouched]=\\\"formControl.touched\\\"\\n    ></adapt-rx-feedback>\\n  </div>\\n</ng-template>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}ckeditor ::ng-deep .cke_inner{box-shadow:none}.read-only-content-wrapper ckeditor ::ng-deep .cke{border:none}.read-only-content-wrapper ckeditor ::ng-deep .cke_top{display:none}.read-only-content-wrapper ckeditor ::ng-deep .cke_editable{padding:0}.has-danger ::ng-deep .cke{border-color:#f83200}\\n\"], components: [{ type: i2$7.CKEditorComponent, selector: \"ckeditor\", inputs: [\"tagName\", \"type\", \"editorUrl\", \"data\", \"readOnly\", \"config\"], outputs: [\"ready\", \"dataReady\", \"change\", \"dataChange\", \"dragStart\", \"dragEnd\", \"drop\", \"fileUploadResponse\", \"fileUploadRequest\", \"focus\", \"paste\", \"afterPaste\", \"blur\"] }, { type: i1.AdaptRxControlLabelComponent, selector: \"adapt-rx-control-label\", inputs: [\"for\", \"id\", \"label\", \"subLabel\", \"requiredLabel\", \"showRequiredLabel\", \"tooltip\", \"testID\"] }, { type: i1.AdaptRxFeedbackComponent, selector: \"adapt-rx-feedback\", inputs: [\"ariaErrorMessage\", \"errors\", \"controlTouched\", \"successMessage\", \"warningMessage\", \"alertFeedbackStyle\", \"alertFeedbackTruncation\"], outputs: [\"messageAppeared\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextareaFieldComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-rich-textarea-field',\n                    templateUrl: './rich-textarea-field.component.html',\n                    styleUrls: ['./rich-textarea-field.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1$4.RxCkEditorConfiguratorService }]; } });\n\nclass RichTextareaFieldModule {\n}\nRichTextareaFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextareaFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRichTextareaFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextareaFieldModule, declarations: [RichTextareaFieldComponent], imports: [CommonModule, FormsModule, AdaptRxFormControlModule, TranslateModule, ReactiveFormsModule, CKEditorModule] });\nRichTextareaFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextareaFieldModule, imports: [[CommonModule, FormsModule, AdaptRxFormControlModule, TranslateModule, ReactiveFormsModule, CKEditorModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextareaFieldModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, FormsModule, AdaptRxFormControlModule, TranslateModule, ReactiveFormsModule, CKEditorModule],\n                    declarations: [RichTextareaFieldComponent],\n                    entryComponents: [RichTextareaFieldComponent]\n                }]\n        }] });\n\nclass RichTextareaFieldRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.RichTextarea,\n            properties: RX_BASE_FIELD_PROPERTIES,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(RichTextareaFieldComponent),\n            name: 'Rich text area',\n            icon: 'text_colorpicker_adapt',\n            group: RX_FIELD_COMPONENTS.stencilGroupName,\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(RichTextareaFieldDesignComponent),\n            designComponentModel: RichTextareaFieldDesignModel,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            canBeInsertedInto(componentTypes) {\n                return componentTypes.includes(RxViewComponentType.RecordEditor);\n            },\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nRichTextareaFieldRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextareaFieldRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nRichTextareaFieldRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextareaFieldRegistrationModule, imports: [RichTextareaFieldDesignModule, RichTextareaFieldModule] });\nRichTextareaFieldRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextareaFieldRegistrationModule, imports: [[RichTextareaFieldDesignModule, RichTextareaFieldModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextareaFieldRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [RichTextareaFieldDesignModule, RichTextareaFieldModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass LocalizedCharacterFieldComponent extends BaseRecordEditorFieldComponent {\n    constructor(injector, rxModalService, rxLocalizationService) {\n        super(injector);\n        this.rxModalService = rxModalService;\n        this.rxLocalizationService = rxLocalizationService;\n    }\n    onConfigUpdated(config) {\n        super.onConfigUpdated(config);\n        const fieldValue = this.getFieldValue();\n        this.hideCurrentLocale = this.getFieldInstanceProp('hideCurrentLocale');\n        if (config.value === fieldValue) {\n            const valueByLocale = this.getFieldInstanceProp('valueByLocale');\n            valueByLocale[this.rxLocalizationService.currentLocale] = fieldValue;\n            this.setFieldInstanceProp('valueByLocale', valueByLocale);\n        }\n    }\n    shouldShowValidationError() {\n        return this.isRequired && !this.formControl.value && (this.formControl.touched || this.formControl.dirty);\n    }\n    selectLocalizedValue() {\n        const valueByLocale = this.getFieldInstanceProp('valueByLocale');\n        this.rxModalService\n            .openModal({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.view-components.localized-character-field.dialog.title'),\n            data: {\n                fieldDefinition: this.fieldDefinition,\n                valueByLocale: cloneDeep(valueByLocale),\n                hideCurrentLocale: this.hideCurrentLocale\n            },\n            size: 'sm',\n            content: LocalizedCharacterFieldValueModalComponent\n        })\n            .then((data) => {\n            if (data) {\n                this.setLocalizedFieldValue(data.valueByLocale, data.currentLocaleValue);\n            }\n        })\n            .catch(noop);\n    }\n    setLocalizedFieldValue(valueByLocale, currentLocaleValue) {\n        const currentLocaleCode = this.rxLocalizationService.currentLocale;\n        const defaultLocaleCode = 'en-US';\n        const fieldValue = currentLocaleValue || valueByLocale[currentLocaleCode] || valueByLocale[defaultLocaleCode];\n        const currentValueByLocale = this.getFieldInstanceProp('valueByLocale');\n        if (!isEqual(valueByLocale, currentValueByLocale)) {\n            this.setFieldInstanceProp('valueByLocale', valueByLocale);\n            this.formControl.markAsDirty();\n            this.recordEditorApi.markAsDirty();\n        }\n        this.setFieldValue(fieldValue);\n    }\n}\nLocalizedCharacterFieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LocalizedCharacterFieldComponent, deps: [{ token: i0.Injector }, { token: i1$6.RxModalService }, { token: i1$1.RxLocalizationService }], target: i0.ɵɵFactoryTarget.Component });\nLocalizedCharacterFieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: LocalizedCharacterFieldComponent, selector: \"rx-localized-character-field\", usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"!isHidden\\\">\\n  <rx-read-only-field\\n    *ngIf=\\\"inReadState; else editStateElementRef\\\"\\n    [label]=\\\"label\\\"\\n    [value]=\\\"getDisplayValue()\\\"\\n  ></rx-read-only-field>\\n</ng-container>\\n\\n<ng-template #editStateElementRef>\\n  <span class=\\\"d-flex justify-content-between\\\" [class.has-danger]=\\\"formControl.errors && formControl.touched\\\">\\n    <adapt-rx-control-label [label]=\\\"label\\\" [id]=\\\"guid\\\" [showRequiredLabel]=\\\"isRequired\\\"></adapt-rx-control-label>\\n\\n    <button\\n      type=\\\"button\\\"\\n      class=\\\"localize-button btn btn-link focusable d-icon-left-pencil p-0\\\"\\n      [disabled]=\\\"isDisabled\\\"\\n      [attr.aria-describedby]=\\\"guid\\\"\\n      (click)=\\\"selectLocalizedValue()\\\"\\n    >\\n      {{ 'com.bmc.arsys.rx.client.view-components.localized-character-field.button.localize.label' | translate }}\\n    </button>\\n  </span>\\n\\n  <adapt-rx-textfield\\n    class=\\\"mb-0\\\"\\n    [readonly]=\\\"true\\\"\\n    [formControl]=\\\"formControl\\\"\\n    [disabledStyleForReadonlyState]=\\\"true\\\"\\n    [required]=\\\"isRequired\\\"\\n    [attr.aria-describedby]=\\\"guid\\\"\\n  >\\n  </adapt-rx-textfield>\\n</ng-template>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.localize-button:hover{text-decoration:underline}:host ::ng-deep .form-control-feedback{color:#f83200}:host ::ng-deep .has-danger .form-control{border-color:#f83200!important}\\n\"], components: [{ type: i1$6.ReadOnlyFieldComponent, selector: \"rx-read-only-field\", inputs: [\"label\", \"value\"] }, { type: i1.AdaptRxControlLabelComponent, selector: \"adapt-rx-control-label\", inputs: [\"for\", \"id\", \"label\", \"subLabel\", \"requiredLabel\", \"showRequiredLabel\", \"tooltip\", \"testID\"] }, { type: i1.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlDirective, selector: \"[formControl]\", inputs: [\"disabled\", \"formControl\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LocalizedCharacterFieldComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-localized-character-field',\n                    templateUrl: './localized-character-field.component.html',\n                    styleUrls: ['./localized-character-field.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1$6.RxModalService }, { type: i1$1.RxLocalizationService }]; } });\n\nclass RxLocalizedCharacterFieldModule {\n}\nRxLocalizedCharacterFieldModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizedCharacterFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxLocalizedCharacterFieldModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizedCharacterFieldModule, declarations: [LocalizedCharacterFieldComponent], imports: [CommonModule,\n        FormsModule,\n        AdaptRxFormControlModule,\n        ReadOnlyFieldModule,\n        AdaptTooltipModule,\n        AdaptButtonModule,\n        TranslateModule, i1.AdaptBusyModule, RxBusyIndicatorModule,\n        AdaptRxTextfieldModule,\n        ReactiveFormsModule] });\nRxLocalizedCharacterFieldModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizedCharacterFieldModule, imports: [[\n            CommonModule,\n            FormsModule,\n            AdaptRxFormControlModule,\n            ReadOnlyFieldModule,\n            AdaptTooltipModule,\n            AdaptButtonModule,\n            TranslateModule,\n            AdaptBusyModule.forRoot(),\n            RxBusyIndicatorModule,\n            AdaptRxTextfieldModule,\n            ReactiveFormsModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizedCharacterFieldModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        FormsModule,\n                        AdaptRxFormControlModule,\n                        ReadOnlyFieldModule,\n                        AdaptTooltipModule,\n                        AdaptButtonModule,\n                        TranslateModule,\n                        AdaptBusyModule.forRoot(),\n                        RxBusyIndicatorModule,\n                        AdaptRxTextfieldModule,\n                        ReactiveFormsModule\n                    ],\n                    declarations: [LocalizedCharacterFieldComponent],\n                    entryComponents: [LocalizedCharacterFieldComponent]\n                }]\n        }] });\n\nclass LocalizedCharacterFieldDesignModel extends BaseRecordEditorFieldDesign {\n    constructor() {\n        super(...arguments);\n        this.fieldResourceTypes = [RX_RECORD_DEFINITION.resourceTypes.localizedCharacter];\n    }\n}\n\nclass LocalizedCharacterFieldDesignComponent {\n}\nLocalizedCharacterFieldDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LocalizedCharacterFieldDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nLocalizedCharacterFieldDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: LocalizedCharacterFieldDesignComponent, selector: \"rx-localized-character-field-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<button type=\\\"button\\\" class=\\\"btn float-end p-0 btn-link d-icon-left-pencil\\\">Localize</button>\\n\\n<adapt-rx-textfield\\n  class=\\\"rx-pointer-events-none\\\"\\n  [label]=\\\"model.label$ | async\\\"\\n  [required]=\\\"model.isRequired$ | async\\\"\\n  [disabled]=\\\"true\\\"\\n  ngModel\\n>\\n</adapt-rx-textfield>\\n\", components: [{ type: i1.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }], directives: [{ type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LocalizedCharacterFieldDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-localized-character-field-design',\n                    templateUrl: './localized-character-field-design.component.html'\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass RxLocalizedCharacterFieldDesignModule {\n}\nRxLocalizedCharacterFieldDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizedCharacterFieldDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxLocalizedCharacterFieldDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizedCharacterFieldDesignModule, declarations: [LocalizedCharacterFieldDesignComponent], imports: [CommonModule, AdaptRxTextfieldModule, FormsModule] });\nRxLocalizedCharacterFieldDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizedCharacterFieldDesignModule, imports: [[CommonModule, AdaptRxTextfieldModule, FormsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxLocalizedCharacterFieldDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [LocalizedCharacterFieldDesignComponent],\n                    entryComponents: [LocalizedCharacterFieldDesignComponent],\n                    imports: [CommonModule, AdaptRxTextfieldModule, FormsModule]\n                }]\n        }] });\n\nclass LocalizedCharacterFieldRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.LocalizedCharacter,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(LocalizedCharacterFieldComponent),\n            properties: RX_BASE_FIELD_PROPERTIES,\n            name: 'Localized text',\n            icon: 'field_text_mapmarker',\n            group: RX_FIELD_COMPONENTS.stencilGroupName,\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(LocalizedCharacterFieldDesignComponent),\n            designComponentModel: LocalizedCharacterFieldDesignModel,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            canBeInsertedInto(componentTypes) {\n                return componentTypes.includes(RxViewComponentType.RecordEditor);\n            },\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nLocalizedCharacterFieldRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LocalizedCharacterFieldRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nLocalizedCharacterFieldRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LocalizedCharacterFieldRegistrationModule, imports: [RxLocalizedCharacterFieldModule, RxLocalizedCharacterFieldDesignModule] });\nLocalizedCharacterFieldRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LocalizedCharacterFieldRegistrationModule, imports: [[RxLocalizedCharacterFieldModule, RxLocalizedCharacterFieldDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: LocalizedCharacterFieldRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [RxLocalizedCharacterFieldModule, RxLocalizedCharacterFieldDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass FieldComponentsModule {\n}\nFieldComponentsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: FieldComponentsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nFieldComponentsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: FieldComponentsModule, imports: [AssociationRegistrationModule,\n        AttachmentFieldRegistrationModule,\n        BooleanFieldRegistrationModule,\n        DateFieldRegistrationModule,\n        DateTimeFieldRegistrationModule,\n        DecimalFieldRegistrationModule,\n        IntegerFieldRegistrationModule,\n        SelectionFieldRegistrationModule,\n        TextareaFieldRegistrationModule,\n        SelectGroupRegistrationModule,\n        TextFieldRegistrationModule,\n        TimeFieldRegistrationModule,\n        ExtensionContainerRegistrationModule,\n        LocalizedCharacterFieldRegistrationModule,\n        RichTextareaFieldRegistrationModule], exports: [AssociationRegistrationModule,\n        AttachmentFieldRegistrationModule,\n        BooleanFieldRegistrationModule,\n        DateFieldRegistrationModule,\n        DateTimeFieldRegistrationModule,\n        DecimalFieldRegistrationModule,\n        IntegerFieldRegistrationModule,\n        SelectionFieldRegistrationModule,\n        TextareaFieldRegistrationModule,\n        SelectGroupRegistrationModule,\n        TextFieldRegistrationModule,\n        TimeFieldRegistrationModule,\n        ExtensionContainerRegistrationModule,\n        LocalizedCharacterFieldRegistrationModule,\n        RichTextareaFieldRegistrationModule] });\nFieldComponentsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: FieldComponentsModule, imports: [[\n            AssociationRegistrationModule,\n            AttachmentFieldRegistrationModule,\n            BooleanFieldRegistrationModule,\n            DateFieldRegistrationModule,\n            DateTimeFieldRegistrationModule,\n            DecimalFieldRegistrationModule,\n            IntegerFieldRegistrationModule,\n            SelectionFieldRegistrationModule,\n            TextareaFieldRegistrationModule,\n            SelectGroupRegistrationModule,\n            TextFieldRegistrationModule,\n            TimeFieldRegistrationModule,\n            ExtensionContainerRegistrationModule,\n            LocalizedCharacterFieldRegistrationModule,\n            RichTextareaFieldRegistrationModule\n        ], AssociationRegistrationModule,\n        AttachmentFieldRegistrationModule,\n        BooleanFieldRegistrationModule,\n        DateFieldRegistrationModule,\n        DateTimeFieldRegistrationModule,\n        DecimalFieldRegistrationModule,\n        IntegerFieldRegistrationModule,\n        SelectionFieldRegistrationModule,\n        TextareaFieldRegistrationModule,\n        SelectGroupRegistrationModule,\n        TextFieldRegistrationModule,\n        TimeFieldRegistrationModule,\n        ExtensionContainerRegistrationModule,\n        LocalizedCharacterFieldRegistrationModule,\n        RichTextareaFieldRegistrationModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: FieldComponentsModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        AssociationRegistrationModule,\n                        AttachmentFieldRegistrationModule,\n                        BooleanFieldRegistrationModule,\n                        DateFieldRegistrationModule,\n                        DateTimeFieldRegistrationModule,\n                        DecimalFieldRegistrationModule,\n                        IntegerFieldRegistrationModule,\n                        SelectionFieldRegistrationModule,\n                        TextareaFieldRegistrationModule,\n                        SelectGroupRegistrationModule,\n                        TextFieldRegistrationModule,\n                        TimeFieldRegistrationModule,\n                        ExtensionContainerRegistrationModule,\n                        LocalizedCharacterFieldRegistrationModule,\n                        RichTextareaFieldRegistrationModule\n                    ],\n                    exports: [\n                        AssociationRegistrationModule,\n                        AttachmentFieldRegistrationModule,\n                        BooleanFieldRegistrationModule,\n                        DateFieldRegistrationModule,\n                        DateTimeFieldRegistrationModule,\n                        DecimalFieldRegistrationModule,\n                        IntegerFieldRegistrationModule,\n                        SelectionFieldRegistrationModule,\n                        TextareaFieldRegistrationModule,\n                        SelectGroupRegistrationModule,\n                        TextFieldRegistrationModule,\n                        TimeFieldRegistrationModule,\n                        ExtensionContainerRegistrationModule,\n                        LocalizedCharacterFieldRegistrationModule,\n                        RichTextareaFieldRegistrationModule\n                    ]\n                }]\n        }] });\n\nvar GridCardLayoutWidth;\n(function (GridCardLayoutWidth) {\n    GridCardLayoutWidth[\"Xsmall\"] = \"450\";\n    GridCardLayoutWidth[\"Small\"] = \"650\";\n    GridCardLayoutWidth[\"Medium\"] = \"800\";\n    GridCardLayoutWidth[\"Large\"] = \"1024\";\n    GridCardLayoutWidth[\"Xlarge\"] = \"1200\";\n    GridCardLayoutWidth[\"Xxlarge\"] = \"1600\";\n})(GridCardLayoutWidth || (GridCardLayoutWidth = {}));\n\nvar RecordGridColumnAlignment;\n(function (RecordGridColumnAlignment) {\n    RecordGridColumnAlignment[\"Default\"] = \"false\";\n    RecordGridColumnAlignment[\"Left\"] = \"Left\";\n    RecordGridColumnAlignment[\"Right\"] = \"Right\";\n    RecordGridColumnAlignment[\"Center\"] = \"Center\";\n})(RecordGridColumnAlignment || (RecordGridColumnAlignment = {}));\n\nconst defaultTypeaheadKeystrokeCount = 1;\nconst columnProperties = [\n    {\n        name: 'visible',\n        defaultValue: true,\n        label: 'Visible'\n    },\n    {\n        name: 'sortable',\n        defaultValue: true,\n        label: 'Sortable',\n        tooltip: new Tooltip('Sorting will be disabled for character fields longer than 4000 characters.')\n    },\n    {\n        name: 'filterable',\n        defaultValue: true,\n        label: 'Filterable'\n    },\n    {\n        name: 'searchable',\n        label: 'Searchable',\n        defaultValue: true\n    },\n    {\n        name: 'width',\n        label: '',\n        defaultValue: null,\n        options: {\n            label: 'Width',\n            defaultUnit: 'px',\n            units: [\n                {\n                    name: 'pixels',\n                    id: 'px'\n                },\n                {\n                    name: 'percent',\n                    id: '%'\n                }\n            ],\n            stepperOptionByUnits: {\n                px: {\n                    minValue: 1\n                },\n                '%': {\n                    minValue: 1,\n                    maxValue: 100\n                }\n            }\n        }\n    },\n    {\n        name: 'wrapText',\n        defaultValue: false,\n        label: 'Wrap text'\n    },\n    {\n        name: 'alignment',\n        defaultValue: false,\n        label: 'Alignment',\n        selectionValues: [\n            {\n                name: 'Align left',\n                value: RecordGridColumnAlignment.Left,\n                icon: 'd-icon-align_left_adapt'\n            },\n            {\n                name: 'Center',\n                value: RecordGridColumnAlignment.Center,\n                icon: 'd-icon-align_center_adapt'\n            },\n            {\n                name: 'Align right',\n                value: RecordGridColumnAlignment.Right,\n                icon: 'd-icon-align_right_adapt'\n            }\n        ]\n    },\n    {\n        name: 'typeaheadKeystrokeCount',\n        label: '',\n        defaultValue: defaultTypeaheadKeystrokeCount,\n        options: {\n            label: 'Typeahead keystroke count',\n            options: [\n                {\n                    id: 0,\n                    name: '0'\n                },\n                {\n                    id: 1,\n                    name: '1'\n                },\n                {\n                    id: 2,\n                    name: '2'\n                },\n                {\n                    id: 3,\n                    name: '3'\n                },\n                {\n                    id: 4,\n                    name: '4'\n                },\n                {\n                    id: 5,\n                    name: '5'\n                }\n            ],\n            emptyOption: false\n        }\n    }\n];\nconst RX_RECORD_GRID = {\n    type: 'rx-record-grid',\n    version: '1.0',\n    defaultColumnMinWidth: 45,\n    defaultRowHeight: 37,\n    components: {\n        filter: 'rx-record-grid-filter',\n        column: 'rx-record-grid-column',\n        filterPreset: 'rx-record-grid-filter-preset',\n        viewPreset: 'rx-record-grid-view-preset',\n        columnViewPreset: 'rx-record-grid-column-view-preset'\n    },\n    columnAlignment: {\n        left: 'Left',\n        right: 'Right',\n        center: 'Center'\n    },\n    selectionTypes: {\n        multiple: 'multiple',\n        single: 'single'\n    },\n    userPreferences: {\n        filters: 'filters',\n        columns: 'columns'\n    },\n    cardLayoutWidthOptions: [\n        {\n            id: GridCardLayoutWidth.Xsmall,\n            name: 'Extra Small (450px)'\n        },\n        {\n            id: GridCardLayoutWidth.Small,\n            name: 'Small (650px)'\n        },\n        {\n            id: GridCardLayoutWidth.Medium,\n            name: 'Medium (800px)'\n        },\n        {\n            id: GridCardLayoutWidth.Large,\n            name: 'Large (1024px)'\n        },\n        {\n            id: GridCardLayoutWidth.Xlarge,\n            name: 'Extra Large (1200px)'\n        },\n        {\n            id: GridCardLayoutWidth.Xxlarge,\n            name: 'Extra Extra Large (1600px)'\n        }\n    ],\n    actionsColumnProperties: [\n        {\n            name: 'visible',\n            defaultValue: true,\n            label: 'Visible'\n        }\n    ],\n    columnProperties,\n    sharedFilterPresets: {\n        recordDefinitionName: 'Record Grid Filter Presets',\n        fields: {\n            recordGridGuid: 300000001,\n            name: 300000002,\n            filterExpression: 300000003,\n            sortOrder: 300000004,\n            isDefault: 300000005\n        }\n    },\n    defaultFilter: '{}',\n    associatedFieldIdPrefixPattern: RX_EXPRESSION_EVALUATOR.associatedFieldIdPrefixPattern,\n    defaultPageSize: 50,\n    rowActionsOutletName: 'ROW_ACTIONS',\n    actionsColumnFieldDefinition: {\n        name: 'Actions',\n        id: '$ACTIONS$'\n    },\n    numberOfFiltersOptions: [\n        {\n            id: 0,\n            name: 'None'\n        },\n        {\n            id: 1,\n            name: '1'\n        },\n        {\n            id: 2,\n            name: '2'\n        },\n        {\n            id: 3,\n            name: '3'\n        },\n        {\n            id: 4,\n            name: '4'\n        },\n        {\n            id: 5,\n            name: '5'\n        }\n    ],\n    defaultTypeaheadKeystrokeCount,\n    externalPresetFilterOptionId: '$EXTERNAL_PRESET$'\n};\n\nclass RxRecordGridUtilsService {\n    constructor(rxLogService, rxRecordDefinitionCacheService, stringService, rxDefinitionNameService, rxFieldDefinitionService) {\n        this.rxLogService = rxLogService;\n        this.rxRecordDefinitionCacheService = rxRecordDefinitionCacheService;\n        this.stringService = stringService;\n        this.rxDefinitionNameService = rxDefinitionNameService;\n        this.rxFieldDefinitionService = rxFieldDefinitionService;\n    }\n    getColumnDescriptors(recordDefinitionName, source) {\n        return this.rxRecordDefinitionCacheService\n            .getRecordDefinition(recordDefinitionName)\n            .toPromise()\n            .then((recordDefinition) => {\n            if (isFunction(source.getColumns)) {\n                const columns = source\n                    .getColumns()\n                    .map((column, index) => ({\n                    fieldId: column.field,\n                    index,\n                    title: column.header,\n                    fieldDefinition: column.fieldDefinition\n                }));\n                return Promise.all(columns\n                    .filter((column) => this.isAssociatedRecordFieldId(column.fieldId))\n                    .map((column) => this.getAssociationDescriptor(column.fieldId, recordDefinition)\n                    .toPromise()\n                    .then((associationDescriptor) => {\n                    column.associationDescriptor = associationDescriptor;\n                }))).then(constant(columns));\n            }\n            else {\n                return recordDefinition.fieldDefinitions.map((fieldDefinition, index) => ({\n                    fieldId: fieldDefinition.id,\n                    index,\n                    title: fieldDefinition.name,\n                    fieldDefinition: fieldDefinition\n                }));\n            }\n        });\n    }\n    getAssociationDescriptors(recordDefinitionName) {\n        return forkJoin([\n            this.rxRecordDefinitionCacheService.getRecordAssociationDefinitions(recordDefinitionName),\n            this.rxRecordDefinitionCacheService.getRecordDefinition(recordDefinitionName)\n        ]).pipe(map(([associations, recordDefinition]) => {\n            const associationDescriptors = [];\n            forEach(associations[recordDefinitionName], (associationDefinition) => {\n                const isOneToMany = associationDefinition.cardinality === RX_ASSOCIATION_DEFINITION.cardinality.oneToMany.value;\n                const isManyToManyAssociation = associationDefinition.cardinality === RX_ASSOCIATION_DEFINITION.cardinality.manyToMany.value;\n                if (!isManyToManyAssociation) {\n                    if (this.isNeedSide(associationDefinition.nodeBId, recordDefinitionName, recordDefinition)) {\n                        associationDescriptors.push({\n                            associationDefinition: associationDefinition,\n                            recordDefinitionName: associationDefinition.nodeAId,\n                            nodeSide: RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.value,\n                            label: this.getAssociationLabel(associationDefinition, RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA)\n                        });\n                    }\n                    if (this.isNeedSide(associationDefinition.nodeAId, recordDefinitionName, recordDefinition) &&\n                        !isOneToMany) {\n                        associationDescriptors.push({\n                            associationDefinition: associationDefinition,\n                            recordDefinitionName: associationDefinition.nodeBId,\n                            nodeSide: RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value,\n                            label: this.getAssociationLabel(associationDefinition, RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB)\n                        });\n                    }\n                }\n            });\n            return sortBy(associationDescriptors, 'label');\n        }));\n    }\n    getFieldDefinition(gridColumnFieldId, primaryRecordDefinition) {\n        const locator = this.getFieldLocator(gridColumnFieldId);\n        const fieldDefinition$ = new AsyncSubject();\n        let recordDefinitionPromise;\n        if (locator.fieldId === RX_RECORD_GRID.actionsColumnFieldDefinition.id) {\n            return of(RX_RECORD_GRID.actionsColumnFieldDefinition);\n        }\n        else {\n            if (locator.associationGuid) {\n                recordDefinitionPromise = this.getAssociationDescriptors(primaryRecordDefinition.name)\n                    .pipe(map((associationDescriptors) => this.findAssociationDescriptor(associationDescriptors, locator)), filter((associationDescriptor) => Boolean(associationDescriptor)), map((associationDescriptor) => associationDescriptor.associationDefinition[RX_ASSOCIATED_RECORD_NODE_SIDES[associationDescriptor.nodeSide].recordDefinitionNameKey]), switchMap((recordDefinitionName) => {\n                    return this.rxRecordDefinitionCacheService.getRecordDefinition(recordDefinitionName);\n                }))\n                    .toPromise();\n            }\n            else {\n                recordDefinitionPromise = Promise.resolve(primaryRecordDefinition);\n            }\n            recordDefinitionPromise.then((recordDefinition) => {\n                let fieldDefinition;\n                if (recordDefinition) {\n                    fieldDefinition = find(recordDefinition.fieldDefinitions, {\n                        id: Number(locator.fieldId) || locator.fieldId\n                    });\n                }\n                fieldDefinition$.next(fieldDefinition);\n                fieldDefinition$.complete();\n            });\n            return fieldDefinition$;\n        }\n    }\n    isAssociatedRecordFieldId(fieldId) {\n        return !some(this.getFieldLocator(fieldId), isUndefined);\n    }\n    getFieldIdForGridColumn(fieldId, associationDescriptor) {\n        return associationDescriptor\n            ? `recordContext._associations.${associationDescriptor.associationDefinition.guid}.${associationDescriptor.nodeSide}[0].${fieldId}`\n            : String(fieldId);\n    }\n    getAssociationDescriptor(gridColumnFieldId, primaryRecordDefinition) {\n        const locator = this.getFieldLocator(gridColumnFieldId);\n        let associationDescriptor = of(null);\n        if (locator.associationGuid) {\n            associationDescriptor = this.getAssociationDescriptors(primaryRecordDefinition.name).pipe(map((associationDescriptors) => this.findAssociationDescriptor(associationDescriptors, locator)));\n        }\n        return associationDescriptor;\n    }\n    getDisplayFieldDescriptor(fieldId, primaryRecordDefinition, associatedRecordDefinitionName) {\n        const fieldLocator = this.getFieldLocator(fieldId);\n        const fieldDefinition$ = this.isAssociatedRecordFieldId(fieldId)\n            ? this.rxRecordDefinitionCacheService.getRecordDefinition(associatedRecordDefinitionName).pipe(map((associatedRecordDefinition) => {\n                const isCoreIdField = fieldLocator.fieldId === String(RX_RECORD_DEFINITION.coreFieldIds.id);\n                const displayFieldId = String((isCoreIdField && associatedRecordDefinition.displayFieldIdInAssociation) || fieldLocator.fieldId);\n                return find(associatedRecordDefinition.fieldDefinitions, (fieldDefinition) => String(fieldDefinition.id) === displayFieldId);\n            }))\n            : of(find(primaryRecordDefinition.fieldDefinitions, (fieldDefinition) => String(fieldDefinition.id) === fieldId));\n        return fieldDefinition$;\n    }\n    getColumnLabel(fieldDefinition, associationDescriptor) {\n        return associationDescriptor ? `${associationDescriptor.label} > ${fieldDefinition.name}` : fieldDefinition.name;\n    }\n    findAssociationDescriptor(associationDescriptors, locator) {\n        return find(associationDescriptors, (associationDescriptor) => {\n            return (associationDescriptor.associationDefinition.guid === locator.associationGuid &&\n                associationDescriptor.nodeSide === locator.associationNodeSide);\n        });\n    }\n    getFieldLocator(gridColumnFieldId) {\n        const match = new RegExp('(?:' + RX_RECORD_GRID.associatedFieldIdPrefixPattern + ')?(.+)').exec(gridColumnFieldId);\n        return {\n            associationGuid: match[1],\n            associationNodeSide: match[2],\n            fieldId: match[3]\n        };\n    }\n    isNeedSide(sideName, recordDefinitionName, recordDefinition) {\n        return includes([recordDefinitionName, get(recordDefinition, 'inheritanceDescriptor.inheritingFrom')], sideName);\n    }\n    getAssociationLabel(associationDefinition, nodeSide) {\n        let nodeSideName;\n        let label = this.rxDefinitionNameService.getDisplayName(associationDefinition.name);\n        if (associationDefinition.nodeAId === associationDefinition.nodeBId) {\n            if (nodeSide === RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA) {\n                nodeSideName = associationDefinition.nodeAName;\n            }\n            if (nodeSide === RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB) {\n                nodeSideName = associationDefinition.nodeBName;\n            }\n            nodeSideName = nodeSideName || nodeSide.defaultName;\n            label += ' (' + nodeSideName + ')';\n        }\n        return label;\n    }\n    isSharedFilterPresetTag(tag) {\n        return tag.data.isSharedFilterPreset;\n    }\n    getTestIdForGridColumn(fieldId) {\n        if (this.isAssociatedRecordFieldId(fieldId)) {\n            const fieldLocator = this.getFieldLocator(fieldId);\n            return `field-id-${fieldLocator.associationGuid}-${fieldLocator.fieldId}`;\n        }\n        else {\n            return `field-id-${fieldId}`;\n        }\n    }\n    isSearchable(fieldDefinition, recordDefinition) {\n        return (includes([\n            RX_RECORD_DEFINITION.dataTypes.character.resourceType,\n            RX_RECORD_DEFINITION.dataTypes.localizedCharacter.resourceType,\n            RX_RECORD_DEFINITION.dataTypes.integer.resourceType,\n            RX_RECORD_DEFINITION.dataTypes.decimal.resourceType,\n            RX_RECORD_DEFINITION.dataTypes.real.resourceType\n        ], fieldDefinition.resourceType) &&\n            !this.rxFieldDefinitionService.isPassword(fieldDefinition) &&\n            !this.rxFieldDefinitionService.isSecured(fieldDefinition) &&\n            !this.rxFieldDefinitionService.isDataProviderIdField(fieldDefinition, recordDefinition));\n    }\n}\nRxRecordGridUtilsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridUtilsService, deps: [{ token: i1$1.RxLogService }, { token: i1$5.RxRecordDefinitionCacheService }, { token: i2$1.RxStringService }, { token: i1$1.RxDefinitionNameService }, { token: i1$5.RxFieldDefinitionService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRecordGridUtilsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridUtilsService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridUtilsService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxLogService }, { type: i1$5.RxRecordDefinitionCacheService }, { type: i2$1.RxStringService }, { type: i1$1.RxDefinitionNameService }, { type: i1$5.RxFieldDefinitionService }]; } });\n\nvar ColumnSortDirection;\n(function (ColumnSortDirection) {\n    ColumnSortDirection[\"Asc\"] = \"asc\";\n    ColumnSortDirection[\"Desc\"] = \"desc\";\n})(ColumnSortDirection || (ColumnSortDirection = {}));\n\nclass RxRecordGridConfigUtilsService {\n    constructor(rxJsonParserService) {\n        this.rxJsonParserService = rxJsonParserService;\n    }\n    parseConfigString(str) {\n        if (!str) {\n            return false;\n        }\n        if (includes(['1', 'true'], str)) {\n            return true;\n        }\n        if (includes(['0', 'false'], str)) {\n            return false;\n        }\n        if (isString(str)) {\n            return this.rxJsonParserService.tryParseJson(str, false);\n        }\n        if (isObject(str)) {\n            return str;\n        }\n        return isBoolean(str) ? str : false;\n    }\n    getBooleanValue(str) {\n        return this.parseConfigString(str);\n    }\n    getColumnSortOrder(direction) {\n        return direction === ColumnSortDirection.Asc ? SortOrder.Asc : SortOrder.Desc;\n    }\n    getColumnSortDirection(sortOrder) {\n        return sortOrder === SortOrder.Asc ? ColumnSortDirection.Asc : ColumnSortDirection.Desc;\n    }\n    configDeepClone(configuration) {\n        const configClone = cloneDeep(omit(configuration, ['columns']));\n        const columns = this.columnsDeepClone(configuration.columns);\n        return assign(configClone, { columns });\n    }\n    columnsDeepClone(columns) {\n        return map$1(columns, this.columnDeepClone);\n    }\n    columnDeepClone(column) {\n        const columnClone = cloneDeep(omit(column, ['cellTemplate']));\n        return assign(columnClone, { cellTemplate: column.cellTemplate });\n    }\n}\nRxRecordGridConfigUtilsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridConfigUtilsService, deps: [{ token: i2$1.RxJsonParserService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRecordGridConfigUtilsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridConfigUtilsService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridConfigUtilsService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i2$1.RxJsonParserService }]; } });\n\nclass ColumnEditorAlignmentComponent {\n    trackByForAlignmentOptions(index, alignment) {\n        return alignment || index;\n    }\n}\nColumnEditorAlignmentComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ColumnEditorAlignmentComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nColumnEditorAlignmentComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ColumnEditorAlignmentComponent, selector: \"rx-column-editor-alignment\", inputs: { column: \"column\", isReadOnly: \"isReadOnly\", columnProperty: \"columnProperty\" }, ngImport: i0, template: \"<div class=\\\"btn-group py-2 btn-group-toggle\\\" data-toggle=\\\"buttons\\\">\\n  <label\\n    class=\\\"btn btn-sm rounded btn-secondary {{ selectionValue.icon }}\\\"\\n    *ngFor=\\\"let selectionValue of columnProperty.selectionValues; trackBy: trackByForAlignmentOptions\\\"\\n    [class.active]=\\\"column.alignment === selectionValue.value\\\"\\n    [class.disabled]=\\\"isReadOnly\\\"\\n    [adaptTooltip]=\\\"selectionValue.name\\\"\\n    [attr.rx-id]=\\\"selectionValue.name\\\"\\n  >\\n    <input\\n      size=\\\"small\\\"\\n      type=\\\"radio\\\"\\n      name=\\\"selectionValue.name\\\"\\n      [attr.rx-id]=\\\"selectionValue.value\\\"\\n      [value]=\\\"selectionValue.value\\\"\\n      [(ngModel)]=\\\"column.alignment\\\"\\n      [disabled]=\\\"isReadOnly\\\"\\n    />\\n  </label>\\n</div>\\n\", styles: [\".alignment-field{min-width:140px}\\n\"], directives: [{ type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1.AdaptTooltipDirective, selector: \"[adaptTooltip]\", inputs: [\"popupDelay\", \"placement\", \"width\", \"minWidth\", \"useWidthFitting\", \"adaptRadarDisableEventSending\", \"adaptTooltip\", \"manual\"], outputs: [\"shown\", \"hidden\"], exportAs: [\"tooltip\"] }, { type: i2$3.RadioControlValueAccessor, selector: \"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]\", inputs: [\"name\", \"formControlName\", \"value\"] }, { type: i2$3.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ColumnEditorAlignmentComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-column-editor-alignment',\n                    templateUrl: './column-editor-alignment.component.html',\n                    styleUrls: ['./column-editor-alignment.component.scss']\n                }]\n        }], propDecorators: { column: [{\n                type: Input\n            }], isReadOnly: [{\n                type: Input\n            }], columnProperty: [{\n                type: Input\n            }] } });\n\nvar RxGridCellFontSize;\n(function (RxGridCellFontSize) {\n    RxGridCellFontSize[\"Small\"] = \"small\";\n    RxGridCellFontSize[\"Large\"] = \"large\";\n})(RxGridCellFontSize || (RxGridCellFontSize = {}));\nvar RxGridCellColor;\n(function (RxGridCellColor) {\n    RxGridCellColor[\"Primary\"] = \"primary\";\n    RxGridCellColor[\"Secondary\"] = \"secondary\";\n    RxGridCellColor[\"Light\"] = \"light\";\n    RxGridCellColor[\"Active\"] = \"active\";\n    RxGridCellColor[\"Info\"] = \"info\";\n    RxGridCellColor[\"Success\"] = \"success\";\n    RxGridCellColor[\"Warning\"] = \"warning\";\n    RxGridCellColor[\"Danger\"] = \"danger\";\n})(RxGridCellColor || (RxGridCellColor = {}));\nvar RxGridCellIconPosition;\n(function (RxGridCellIconPosition) {\n    RxGridCellIconPosition[\"Left\"] = \"left\";\n    RxGridCellIconPosition[\"Right\"] = \"right\";\n    RxGridCellIconPosition[\"ReplaceText\"] = \"replaceText\";\n})(RxGridCellIconPosition || (RxGridCellIconPosition = {}));\nconst RxGridCellFontColorCssMap = {\n    [RxGridCellColor.Primary]: 'text-primary',\n    [RxGridCellColor.Secondary]: 'text-secondary',\n    [RxGridCellColor.Light]: 'text-white',\n    [RxGridCellColor.Active]: 'text-active',\n    [RxGridCellColor.Info]: 'text-info',\n    [RxGridCellColor.Success]: 'text-success',\n    [RxGridCellColor.Warning]: 'text-warning',\n    [RxGridCellColor.Danger]: 'text-danger'\n};\nconst RxGridCellBgColorCssMap = {\n    [RxGridCellColor.Primary]: 'bg-primary',\n    [RxGridCellColor.Secondary]: 'bg-secondary',\n    [RxGridCellColor.Active]: 'bg-active',\n    [RxGridCellColor.Info]: 'bg-info',\n    [RxGridCellColor.Success]: 'bg-success',\n    [RxGridCellColor.Warning]: 'bg-warning',\n    [RxGridCellColor.Danger]: 'bg-danger'\n};\nconst RX_CELL_PROPERTIES = {\n    colorsList: [\n        {\n            label: 'Default',\n            value: null\n        },\n        {\n            label: 'Primary',\n            value: RxGridCellColor.Primary\n        },\n        {\n            label: 'Secondary',\n            value: RxGridCellColor.Secondary\n        },\n        {\n            label: 'Light',\n            value: RxGridCellColor.Light\n        },\n        {\n            label: 'Active',\n            value: RxGridCellColor.Active\n        },\n        {\n            label: 'Information',\n            value: RxGridCellColor.Info\n        },\n        {\n            label: 'Success',\n            value: RxGridCellColor.Success\n        },\n        {\n            label: 'Warning',\n            value: RxGridCellColor.Warning\n        },\n        {\n            label: 'Danger',\n            value: RxGridCellColor.Danger\n        }\n    ],\n    iconPositions: [\n        {\n            label: 'Left',\n            value: RxGridCellIconPosition.Left\n        },\n        {\n            label: 'Right',\n            value: RxGridCellIconPosition.Right\n        },\n        {\n            label: 'Replace text',\n            value: RxGridCellIconPosition.ReplaceText\n        }\n    ],\n    fontSizes: [\n        {\n            label: 'Default',\n            value: null\n        },\n        {\n            label: 'Small',\n            value: RxGridCellFontSize.Small\n        },\n        {\n            label: 'Large',\n            value: RxGridCellFontSize.Large\n        }\n    ]\n};\n\nclass RecordGridCellDisplayPropertiesExpressionConfigurator extends RxExpressionConfigurator {\n    cellDisplayExpressionDataDictionary(columns) {\n        if (columns.length) {\n            return of(columns.map((column) => ({\n                label: column.label,\n                icon: 'd-icon-field_text',\n                expression: `\\${view.components.grid.clickableRow.${column.fieldId}}`,\n                resourceType: column.fieldDefinition.resourceType\n            })));\n        }\n        else {\n            return of([]);\n        }\n    }\n}\n\nclass RecordGridCellDisplayPropertiesEditorComponent extends RxModalClass {\n    constructor(activeModalRef, rxExpressionEditorService, formBuilder, translateService, injector) {\n        super(activeModalRef, injector);\n        this.activeModalRef = activeModalRef;\n        this.rxExpressionEditorService = rxExpressionEditorService;\n        this.formBuilder = formBuilder;\n        this.translateService = translateService;\n        this.injector = injector;\n        this.destroyed$ = new ReplaySubject(1);\n        this.config = this.activeModalRef.getData();\n        this.propsFormArray = this.formBuilder.array([]);\n        this.iconPositions = RX_CELL_PROPERTIES.iconPositions;\n        this.textColors = RX_CELL_PROPERTIES.colorsList;\n        this.fontSizes = RX_CELL_PROPERTIES.fontSizes;\n        this.colorsList = RxGridCellBgColorCssMap;\n        this.backgroundColors = RX_CELL_PROPERTIES.colorsList.filter((color) => color.value !== RxGridCellColor.Light);\n        this.badgeColors = RX_CELL_PROPERTIES.colorsList.filter((color) => ![RxGridCellColor.Light, RxGridCellColor.Active, null].includes(color.value));\n        this.iconPickerOptions = {\n            label: 'Icon',\n            appendToBody: true,\n            required: false\n        };\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.expressionConfigurator = new RecordGridCellDisplayPropertiesExpressionConfigurator();\n        this.expressionConfigurator.configureForProperty({\n            propertyPath: 'cellDisplayProperties',\n            dataDictionary$: this.expressionConfigurator.cellDisplayExpressionDataDictionary(this.config.columns),\n            operators: this.expressionConfigurator.getOperatorRowsByGroup(ExpressionOperatorGroup.AllClient)\n        });\n        this.queryExpressionOptions = {\n            label: 'Field value condition',\n            dataDictionary$: this.expressionConfigurator.getDataDictionary('cellDisplayProperties'),\n            operators: this.expressionConfigurator.getOperators('cellDisplayProperties'),\n            isRequired: true\n        };\n        forEach(this.config.cellDisplayProperties, (props) => this.propsFormArray.push(this.getFormGroup(props)));\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n    addCellProperties() {\n        this.markAsDirty();\n        this.propsFormArray.push(this.getFormGroup({\n            fieldValueCondition: '',\n            displayAsBadge: false,\n            badgeColor: null,\n            icon: null,\n            iconPosition: null,\n            textColor: null,\n            backgroundColor: null,\n            fontSize: null,\n            bold: false,\n            italic: false,\n            isOpen: true\n        }));\n        setTimeout(() => {\n            this.accordionTabEls.last.nativeElement.scrollIntoView({\n                block: 'nearest'\n            });\n        });\n    }\n    removeCellProperties(index) {\n        this.propsFormArray.removeAt(index);\n        this.markAsDirty();\n    }\n    optionFormatter(selectOption) {\n        return selectOption.label;\n    }\n    getFormGroup(properties) {\n        var _a;\n        const formGroup = this.formBuilder.group({\n            fieldValueCondition: [properties.fieldValueCondition, Validators.required],\n            displayAsBadge: [properties.displayAsBadge],\n            badgeColor: {\n                value: this.getSelectValue(this.badgeColors, 'value', properties.badgeColor),\n                disabled: !properties.displayAsBadge\n            },\n            icon: {\n                value: properties.icon,\n                disabled: properties.displayAsBadge\n            },\n            iconPosition: {\n                value: this.getSelectValue(this.iconPositions, 'value', properties.iconPosition),\n                disabled: !properties.icon\n            },\n            textColor: {\n                value: this.getSelectValue(this.textColors, 'value', properties.textColor),\n                disabled: properties.displayAsBadge\n            },\n            backgroundColor: {\n                value: this.getSelectValue(this.backgroundColors, 'value', properties.backgroundColor),\n                disabled: properties.displayAsBadge\n            },\n            fontSize: {\n                value: this.getSelectValue(this.fontSizes, 'value', properties.fontSize),\n                disabled: properties.displayAsBadge\n            },\n            bold: [properties.bold],\n            italic: [properties.italic],\n            isOpen: [(_a = properties.isOpen) !== null && _a !== void 0 ? _a : false]\n        });\n        formGroup.controls.displayAsBadge.valueChanges\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe((displayAsBadge) => {\n            if (displayAsBadge && formGroup.controls.badgeColor.disabled) {\n                formGroup.controls.badgeColor.reset({ value: [this.badgeColors[0]], disabled: false });\n            }\n            if (!displayAsBadge && formGroup.controls.badgeColor.enabled) {\n                formGroup.controls.badgeColor.reset({ value: [], disabled: true });\n            }\n        });\n        formGroup.controls.icon.valueChanges.pipe(takeUntil(this.destroyed$)).subscribe((iconName) => {\n            if (iconName && formGroup.controls.iconPosition.disabled) {\n                formGroup.controls.iconPosition.reset({ value: [this.iconPositions[0]], disabled: false });\n            }\n            if (!iconName && formGroup.controls.iconPosition.enabled) {\n                formGroup.controls.iconPosition.reset({ value: [], disabled: true });\n            }\n        });\n        return formGroup;\n    }\n    getSelectValue(optionsList, key, value) {\n        const item = optionsList.find((option) => option[key] === value);\n        return item ? [item] : [];\n    }\n    openExpressionEditor(control) {\n        this.rxExpressionEditorService\n            .openEditor({\n            property: {\n                path: 'cellDisplayProperties',\n                value: control.value,\n                label: 'Cell display properties'\n            },\n            isReadOnly: false,\n            expressionConfigurator: this.expressionConfigurator,\n            legend: [\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.column.label'),\n                    icon: 'd-icon-field_text'\n                }\n            ]\n        })\n            .subscribe((expression) => {\n            control.setValue(expression.value);\n            this.markAsDirty();\n        });\n    }\n    moveCellProperties(fromIndex, toIndex) {\n        moveItemInArray(this.propsFormArray.controls, fromIndex, toIndex);\n        this.markAsDirty();\n    }\n    onSelectedCellPropertyDrop(event) {\n        moveItemInArray(this.propsFormArray.controls, event.previousIndex, event.currentIndex);\n        this.markAsDirty();\n    }\n    toggleProp(control) {\n        control.setValue(!control.value);\n        this.markAsDirty();\n    }\n    toggleOpen(expandAll) {\n        this.propsFormArray.controls.forEach((control) => {\n            control.get('isOpen').setValue(expandAll);\n        });\n    }\n    resetIconAndTextProps(props) {\n        const isDisplayAsBadge = props.get('displayAsBadge').value;\n        props.get('icon').reset({ value: null, disabled: isDisplayAsBadge });\n        props.get('textColor').reset({ value: [this.textColors[0]], disabled: isDisplayAsBadge });\n        props.get('backgroundColor').reset({ value: [this.backgroundColors[0]], disabled: isDisplayAsBadge });\n        props.get('fontSize').reset({ value: [this.fontSizes[0]], disabled: isDisplayAsBadge });\n        props.get('bold').reset({ value: false, disabled: isDisplayAsBadge });\n        props.get('italic').reset({ value: false, disabled: isDisplayAsBadge });\n    }\n    onSave() {\n        const formValues = this.propsFormArray.getRawValue().map((value) => (Object.assign(Object.assign({}, value), { icon: get(value, 'icon', null), badgeColor: get(value, 'badgeColor[0].value', null), iconPosition: get(value, 'iconPosition[0].value', null), textColor: get(value, 'textColor[0].value', null), backgroundColor: get(value, 'backgroundColor[0].value', null), fontSize: get(value, 'fontSize[0].value', null) })));\n        const cellProps = formValues.map((value) => (Object.assign({}, omit(value, 'isOpen'))));\n        this.activeModalRef.close(cellProps);\n    }\n    cancel() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n}\nRecordGridCellDisplayPropertiesEditorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridCellDisplayPropertiesEditorComponent, deps: [{ token: i1.ActiveModalRef }, { token: i2$5.RxExpressionEditorService }, { token: i2$3.FormBuilder }, { token: i2.TranslateService }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nRecordGridCellDisplayPropertiesEditorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordGridCellDisplayPropertiesEditorComponent, selector: \"rx-cell-display-properties-editor\", viewQueries: [{ propertyName: \"accordionTabEls\", predicate: AdaptAccordionTabComponent, descendants: true, read: ElementRef }], usesInheritance: true, ngImport: i0, template: \"<div class=\\\"designer-modal-body modal-body d-flex mh-100\\\">\\n  <div class=\\\"row flex-grow-1 w-100\\\">\\n    <div class=\\\"d-flex flex-column mh-100 col\\\">\\n      <div class=\\\"d-flex align-items-start justify-content-between\\\">\\n        <div>\\n          <button\\n            *ngIf=\\\"!config.isReadOnly\\\"\\n            class=\\\"pl-0 pr-0\\\"\\n            rx-id=\\\"add-button\\\"\\n            adapt-button\\n            type=\\\"button\\\"\\n            btn-type=\\\"tertiary\\\"\\n            (click)=\\\"addCellProperties()\\\"\\n          >\\n            <span class=\\\"d-icon-left-plus_circle\\\"></span>\\n\\n            {{ 'com.bmc.arsys.rx.client.view-components.cell-display-properties.add-cell-display-property.button.label' | translate }}\\n          </button>\\n\\n          <span\\n            class=\\\"d-icon-right-question_circle_o ml-1 mt-1\\\"\\n            adaptPopover=\\\"Cell display properties will be applied based on the first field value condition evaluating to true.\\\"\\n            placement=\\\"bottom\\\"\\n            appendToBody=\\\"true\\\"\\n          ></span>\\n        </div>\\n\\n        <div *ngIf=\\\"propsFormArray.controls.length\\\" class=\\\"btn-group\\\">\\n          <button\\n            adapt-button\\n            btn-type=\\\"tertiary\\\"\\n            type=\\\"button\\\"\\n            rx-id=\\\"expand-all-button\\\"\\n            (click)=\\\"toggleOpen(true)\\\"\\n          >\\n            {{ 'com.bmc.arsys.rx.client.common.expand-all.label' | translate }}\\n          </button>\\n\\n          <button\\n            adapt-button\\n            btn-type=\\\"tertiary\\\"\\n            type=\\\"button\\\"\\n            rx-id=\\\"collapse-all-button\\\"\\n            (click)=\\\"toggleOpen(false)\\\"\\n          >\\n            {{ 'com.bmc.arsys.rx.client.common.collapse-all.label' | translate }}\\n          </button>\\n        </div>\\n      </div>\\n\\n      <div\\n        *ngIf=\\\"propsFormArray.controls.length\\\"\\n        id=\\\"selected-cell-property\\\"\\n        class=\\\"designer-modal-accordion-wrapper\\\"\\n        cdkDropList\\n        (cdkDropListDropped)=\\\"onSelectedCellPropertyDrop($event)\\\"\\n      >\\n        <adapt-accordion [multiselect]=\\\"true\\\">\\n          <div\\n            *ngFor=\\\"\\n              let props of propsFormArray.controls;\\n              let index = index;\\n              let first = first;\\n              let last = last;\\n            \\\"\\n            class=\\\"designer-modal-accordion-content\\\"\\n            cdkDrag\\n            cdkDragLockAxis=\\\"y\\\"\\n            [cdkDragData]=\\\"props\\\"\\n            [cdkDragDisabled]=\\\"config.isReadOnly\\\"\\n          >\\n            <div *ngIf=\\\"!config.isReadOnly\\\" class=\\\"designer-modal-drag-handle d-icon-left-dots\\\" cdkDragHandle></div>\\n\\n            <adapt-accordion-tab\\n              class=\\\"d-block\\\"\\n              [formGroup]=\\\"props\\\"\\n              [isOpen]=\\\"props.get('isOpen').value\\\"\\n              (open)=\\\"props.get('isOpen').setValue(true)\\\"\\n              (close)=\\\"props.get('isOpen').setValue(false)\\\"\\n            >\\n              <div class=\\\"card-title-text w-100\\\">\\n                <div class=\\\"designer-modal-card-title-content\\\">\\n                  <div class=\\\"left-header-block\\\" [class.pl-0]=\\\"config.isReadOnly\\\">\\n                    <div class=\\\"rx-ellipsis\\\" [title]=\\\"'Cell display properties ' + (index + 1)\\\" rx-id=\\\"card-title\\\">\\n                      Cell display properties {{ index + 1 }}\\n                    </div>\\n                  </div>\\n\\n                  <div *ngIf=\\\"!config.isReadOnly\\\" class=\\\"right-header-block\\\">\\n                    <div class=\\\"designer-modal-card-title-index-buttons\\\">\\n                      <button\\n                        class=\\\"d-icon-left-triangle_down rx-button-unstyled\\\"\\n                        type=\\\"button\\\"\\n                        [disabled]=\\\"last\\\"\\n                        (click)=\\\"$event.stopPropagation(); moveCellProperties(index, index + 1)\\\"\\n                        rx-id=\\\"move-down-button\\\"\\n                      ></button>\\n\\n                      <button\\n                        class=\\\"d-icon-left-triangle_up rx-button-unstyled\\\"\\n                        type=\\\"button\\\"\\n                        [disabled]=\\\"first\\\"\\n                        (click)=\\\"$event.stopPropagation(); moveCellProperties(index, index - 1)\\\"\\n                        rx-id=\\\"move-up-button\\\"\\n                      ></button>\\n                    </div>\\n\\n                    <button\\n                      class=\\\"d-icon-left-cross_adapt p-1 pr-4 ml-3\\\"\\n                      adapt-button\\n                      size=\\\"small\\\"\\n                      type=\\\"button\\\"\\n                      (click)=\\\"$event.stopPropagation(); removeCellProperties(index)\\\"\\n                      rx-id=\\\"remove-button\\\"\\n                    >\\n                      {{ 'com.bmc.arsys.rx.client.common.remove.label' | translate }}\\n                    </button>\\n                  </div>\\n                </div>\\n              </div>\\n\\n              <div class=\\\"row\\\">\\n                <rx-expression-form-control\\n                  formControlName=\\\"fieldValueCondition\\\"\\n                  class=\\\"form-group d-block col-12\\\"\\n                  rx-id=\\\"query-expression-field\\\"\\n                  [options]=\\\"queryExpressionOptions\\\"\\n                  (events)=\\\"openExpressionEditor(props.get('fieldValueCondition'))\\\"\\n                ></rx-expression-form-control>\\n              </div>\\n\\n              <div class=\\\"row form-group\\\">\\n                <div class=\\\"col-3\\\">\\n                  <adapt-rx-control-label\\n                    label=\\\"{{ 'com.bmc.arsys.rx.client.view-components.cell-display-properties.display-as-badge-field.label' | translate }}\\\"\\n                  ></adapt-rx-control-label>\\n\\n                  <adapt-rx-switch\\n                    [disabled]=\\\"config.isReadOnly\\\"\\n                    formControlName=\\\"displayAsBadge\\\"\\n                    (ngModelChange)=\\\"markAsDirty(); resetIconAndTextProps(props)\\\"\\n                  ></adapt-rx-switch>\\n                </div>\\n\\n                <adapt-rx-select\\n                  class=\\\"d-block col-3\\\"\\n                  label=\\\"{{ 'com.bmc.arsys.rx.client.view-components.cell-display-properties.badge-color-field.label' | translate }}\\\"\\n                  formControlName=\\\"badgeColor\\\"\\n                  [disabled]=\\\"config.isReadOnly\\\"\\n                  [options]=\\\"badgeColors\\\"\\n                  [optionFormatter]=\\\"optionFormatter\\\"\\n                  [optionContentTemplate]=\\\"optionTemplate\\\"\\n                  (ngModelChange)=\\\"markAsDirty()\\\"\\n                ></adapt-rx-select>\\n\\n                <rx-icon-picker-form-control\\n                  class=\\\"d-block col-3\\\"\\n                  [disabled]=\\\"config.isReadOnly\\\"\\n                  [options]=\\\"iconPickerOptions\\\"\\n                  formControlName=\\\"icon\\\"\\n                  (ngModelChange)=\\\"markAsDirty()\\\"\\n                ></rx-icon-picker-form-control>\\n\\n                <adapt-rx-select\\n                  class=\\\"d-block col-3\\\"\\n                  label=\\\"{{ 'com.bmc.arsys.rx.client.view-components.cell-display-properties.icon-position-field.label' | translate }}\\\"\\n                  formControlName=\\\"iconPosition\\\"\\n                  [disabled]=\\\"config.isReadOnly\\\"\\n                  [options]=\\\"iconPositions\\\"\\n                  [optionFormatter]=\\\"optionFormatter\\\"\\n                  (ngModelChange)=\\\"markAsDirty()\\\"\\n                ></adapt-rx-select>\\n              </div>\\n\\n              <div class=\\\"row\\\">\\n                <adapt-rx-select\\n                  class=\\\"d-block col-3\\\"\\n                  label=\\\"{{ 'com.bmc.arsys.rx.client.view-components.cell-display-properties.text-color-field.label' | translate }}\\\"\\n                  formControlName=\\\"textColor\\\"\\n                  [disabled]=\\\"config.isReadOnly\\\"\\n                  [options]=\\\"textColors\\\"\\n                  [optionFormatter]=\\\"optionFormatter\\\"\\n                  [optionContentTemplate]=\\\"optionTemplate\\\"\\n                  (ngModelChange)=\\\"markAsDirty()\\\"\\n                ></adapt-rx-select>\\n\\n                <adapt-rx-select\\n                  class=\\\"d-block col-3\\\"\\n                  label=\\\"{{ 'com.bmc.arsys.rx.client.view-components.cell-display-properties.background-color-field.label' | translate }}\\\"\\n                  formControlName=\\\"backgroundColor\\\"\\n                  [disabled]=\\\"config.isReadOnly\\\"\\n                  [options]=\\\"backgroundColors\\\"\\n                  [optionFormatter]=\\\"optionFormatter\\\"\\n                  [optionContentTemplate]=\\\"optionTemplate\\\"\\n                  (ngModelChange)=\\\"markAsDirty()\\\"\\n                ></adapt-rx-select>\\n\\n                <adapt-rx-select\\n                  class=\\\"d-block col-3\\\"\\n                  label=\\\"{{ 'com.bmc.arsys.rx.client.view-components.cell-display-properties.font-size-field.label' | translate }}\\\"\\n                  formControlName=\\\"fontSize\\\"\\n                  [disabled]=\\\"config.isReadOnly\\\"\\n                  [options]=\\\"fontSizes\\\"\\n                  [optionFormatter]=\\\"optionFormatter\\\"\\n                  (ngModelChange)=\\\"markAsDirty()\\\"\\n                ></adapt-rx-select>\\n\\n                <div class=\\\"col-3 pt-4 d-flex align-item-center\\\">\\n                  <div class=\\\"btn-group btn-group-toggle\\\" data-toggle=\\\"buttons\\\">\\n                    <label\\n                      class=\\\"btn btn-secondary d-icon-bold_adapt\\\"\\n                      [ngClass]=\\\"{\\n                        active: props.get('bold').value,\\n                        'disabled not-allowed': (props.get('displayAsBadge').value || config.isReadOnly)\\n                      }\\\"\\n                    >\\n                      <input\\n                        (click)=\\\"toggleProp(props.get('bold'))\\\"\\n                        type=\\\"checkbox\\\"\\n                        name=\\\"fontStyle\\\"\\n                        [disabled]=\\\"props.get('displayAsBadge').value || config.isReadOnly\\\"\\n                      />\\n                    </label>\\n\\n                    <label\\n                      class=\\\"btn btn-secondary ml-2 d-icon-italic_adapt\\\"\\n                      [ngClass]=\\\"{\\n                        active: props.get('italic').value,\\n                        'disabled not-allowed': (props.get('displayAsBadge').value || config.isReadOnly)\\n                      }\\\"\\n                    >\\n                      <input\\n                        (click)=\\\"toggleProp(props.get('italic'))\\\"\\n                        type=\\\"checkbox\\\"\\n                        name=\\\"fontStyle\\\"\\n                        [disabled]=\\\"props.get('displayAsBadge').value || config.isReadOnly\\\"\\n                      />\\n                    </label>\\n                  </div>\\n                </div>\\n              </div>\\n            </adapt-accordion-tab>\\n          </div>\\n        </adapt-accordion>\\n      </div>\\n\\n      <div *ngIf=\\\"!propsFormArray.controls.length\\\" class=\\\"d-flex justify-content-center h-100 align-items-center mt-2\\\">\\n        <adapt-empty-state\\n          class=\\\"w-100\\\"\\n          label=\\\"{{ 'com.bmc.arsys.rx.client.view-components.cell-display-properties.empty-state.message' | translate }}\\\"\\n          type=\\\"grid\\\"\\n        ></adapt-empty-state>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button\\n    *ngIf=\\\"!config.isReadOnly\\\"\\n    adapt-button\\n    btn-type=\\\"primary\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"save-button\\\"\\n    [disabled]=\\\"propsFormArray.invalid || !isDirty()\\\"\\n    (click)=\\\"onSave()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n\\n  <button adapt-button btn-type=\\\"secondary\\\" type=\\\"button\\\" rx-id=\\\"cancel-button\\\" (click)=\\\"cancel()\\\">\\n    {{ config.isReadOnly ? ('com.bmc.arsys.rx.client.common.close.label' | translate) : ('com.bmc.arsys.rx.client.common.cancel.label' | translate) }}\\n  </button>\\n</div>\\n\\n<ng-template #optionTemplate let-option>\\n  <div class=\\\"d-flex align-items-center\\\">\\n    <div [ngClass]=\\\"option.value ? 'color-option-box rounded mr-2 ' + colorsList[option.value] : ''\\\"></div>\\n    {{ option.label }}\\n  </div>\\n</ng-template>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.designer-modal-body{height:645px;min-height:calc(100% - 61px)!important}.designer-modal-accordion-wrapper{display:flex;flex-direction:column;height:100%;overflow:auto;padding-top:10px}.designer-modal-accordion-content{position:relative}.designer-modal-accordion-content.cdk-drag-preview{z-index:1200!important}.designer-modal-drag-handle{cursor:move;position:absolute;top:0;left:0;height:46px;padding:14px 10px 14px 14px;z-index:1}.designer-modal-card-title-content{width:100%;display:flex}.designer-modal-card-title-content .left-header-block,.designer-modal-card-title-content .right-header-block{display:flex;align-items:center}.designer-modal-card-title-content .left-header-block{flex-grow:1;min-width:0;font-size:14px;padding-left:22px}.designer-modal-card-sub-title{color:#7c7f81;font-weight:normal}.designer-modal-card-title-index-buttons{display:flex;font-size:19px}.rx-card{overflow:auto}.rx-tree-draggable-node{cursor:pointer}.rx-tree-draggable-node.cdk-drag-preview{z-index:1200!important}.rx-tree-draggable-node.cdk-drag{opacity:1}.rx-tree-node-label{word-break:break-all}rx-form-builder{max-width:400px}.color-option-box{display:inline-block;width:20px;height:20px}\\n\"], components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1.AdaptAccordionComponent, selector: \"adapt-accordion\", inputs: [\"config\", \"multiselect\", \"bordered\"], outputs: [\"openTab\", \"closeTab\"] }, { type: i1.AdaptAccordionTabComponent, selector: \"adapt-accordion-tab\", inputs: [\"title\", \"renderContentWhenClosed\", \"customClass\", \"multiline\", \"icon\", \"disabled\", \"isOpen\"], outputs: [\"open\", \"close\"] }, { type: i2$5.ExpressionFormControlComponent, selector: \"rx-expression-form-control\", inputs: [\"options\", \"isDisabled\", \"propertyPath\"], outputs: [\"events\"] }, { type: i1.AdaptRxControlLabelComponent, selector: \"adapt-rx-control-label\", inputs: [\"for\", \"id\", \"label\", \"subLabel\", \"requiredLabel\", \"showRequiredLabel\", \"tooltip\", \"testID\"] }, { type: i1.AdaptRxSwitchComponent, selector: \"adapt-rx-switch\", inputs: [\"value\", \"size\", \"isLabelBefore\", \"checked\"] }, { type: i1.AdaptRxSelectComponent, selector: \"adapt-rx-select\", inputs: [\"options\", \"emptyOption\", \"optionFormatter\", \"optionContentTemplate\", \"disabledOptionResolver\", \"titleFormatter\", \"focusFirst\", \"texts\", \"multiple\", \"singleSelectStyle\", \"enableFilter\", \"inline\", \"selectAllButton\", \"deselectAllButton\", \"loadMoreButton\", \"loadMoreCallback\", \"loadMoreInProgress\", \"loadingState\", \"placeholder\", \"size\", \"closeOnSelect\", \"placement\", \"appendToBody\", \"popupMaxHeight\", \"popupClass\", \"pageSize\", \"ariaInvalid\", \"virtualScroll\", \"virtualScrollItemSize\", \"virtualScrollTemplateCacheSize\", \"minBufferPx\", \"maxBufferPx\"], outputs: [\"onSelectionChange\", \"onPopupOpenChange\", \"onFilterValueChange\"] }, { type: i2$5.IconPickerFormControlComponent, selector: \"rx-icon-picker-form-control\", inputs: [\"options\"] }, { type: i1.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1.AdaptPopoverDirective, selector: \"[adaptPopover]\", inputs: [\"adaptPopover\", \"popoverTitle\", \"placement\", \"fallbackPlacement\", \"triggers\", \"container\", \"appendToBody\", \"closeBtn\", \"popupDelay\", \"disablePopover\", \"popoverClass\", \"autoClose\", \"closeOnOutOfView\", \"maxWidth\", \"minWidth\"], outputs: [\"shown\", \"hidden\"], exportAs: [\"adaptPopover\"] }, { type: i8.CdkDropList, selector: \"[cdkDropList], cdk-drop-list\", inputs: [\"cdkDropListConnectedTo\", \"id\", \"cdkDropListEnterPredicate\", \"cdkDropListSortPredicate\", \"cdkDropListDisabled\", \"cdkDropListSortingDisabled\", \"cdkDropListAutoScrollDisabled\", \"cdkDropListOrientation\", \"cdkDropListLockAxis\", \"cdkDropListData\", \"cdkDropListAutoScrollStep\"], outputs: [\"cdkDropListDropped\", \"cdkDropListEntered\", \"cdkDropListExited\", \"cdkDropListSorted\"], exportAs: [\"cdkDropList\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i8.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragDisabled\", \"cdkDragStartDelay\", \"cdkDragLockAxis\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragBoundary\", \"cdkDragRootElement\", \"cdkDragPreviewContainer\", \"cdkDragData\", \"cdkDragFreeDragPosition\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }, { type: i8.CdkDragHandle, selector: \"[cdkDragHandle]\", inputs: [\"cdkDragHandleDisabled\"] }, { type: i2$3.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i2$3.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlName, selector: \"[formControlName]\", inputs: [\"disabled\", \"formControlName\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridCellDisplayPropertiesEditorComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-cell-display-properties-editor',\n                    templateUrl: './cell-display-properties-editor.component.html',\n                    styleUrls: ['./cell-display-properties-editor.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1.ActiveModalRef }, { type: i2$5.RxExpressionEditorService }, { type: i2$3.FormBuilder }, { type: i2.TranslateService }, { type: i0.Injector }]; }, propDecorators: { accordionTabEls: [{\n                type: ViewChildren,\n                args: [AdaptAccordionTabComponent, { read: ElementRef }]\n            }] } });\n\nclass RecordGridCellDisplayPropertiesComponent extends ValueAccessor {\n    constructor(rxModalService) {\n        super();\n        this.rxModalService = rxModalService;\n    }\n    openPropertiesEditor() {\n        this.rxModalService\n            .openModal({\n            title: `Edit cell display properties for ${this.columnName}`,\n            data: {\n                cellDisplayProperties: this.value ? cloneDeep(this.value) : [],\n                isReadOnly: this.isDisabled,\n                columns: this.columns\n            },\n            content: RecordGridCellDisplayPropertiesEditorComponent,\n            size: OpenViewActionModalSize.Large,\n            testID: 'edit-cell-display-properties'\n        })\n            .then((properties) => {\n            this.value = properties;\n        })\n            .catch(noop);\n    }\n}\nRecordGridCellDisplayPropertiesComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridCellDisplayPropertiesComponent, deps: [{ token: i1$6.RxModalService }], target: i0.ɵɵFactoryTarget.Component });\nRecordGridCellDisplayPropertiesComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordGridCellDisplayPropertiesComponent, selector: \"rx-cell-display-properties\", inputs: { columnName: \"columnName\", columns: \"columns\" }, providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: RecordGridCellDisplayPropertiesComponent,\n            multi: true\n        }\n    ], usesInheritance: true, ngImport: i0, template: \"<adapt-button rx-id=\\\"open-modal-button\\\" btn-type=\\\"tertiary\\\" class=\\\"px-0 py-0\\\" (click)=\\\"openPropertiesEditor()\\\">\\n  <adapt-icon name=\\\"plus_circle\\\" class=\\\"mr-1\\\"></adapt-icon>\\n  Edit cell display properties\\n</adapt-button>\\n\\n<div rx-id=\\\"columns\\\">\\n  <span *ngIf=\\\"!value?.length\\\" class=\\\"text-tertiary\\\">No cell display properties added.</span>\\n  <span *ngIf=\\\"value?.length > 0\\\" class=\\\"text-tertiary\\\">Cell display properties added.</span>\\n</div>\\n\", components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1.AdaptIconComponent, selector: \"adapt-icon\", inputs: [\"name\", \"classList\", \"description\", \"testID\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridCellDisplayPropertiesComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-cell-display-properties',\n                    templateUrl: './cell-display-properties.component.html',\n                    providers: [\n                        {\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: RecordGridCellDisplayPropertiesComponent,\n                            multi: true\n                        }\n                    ]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$6.RxModalService }]; }, propDecorators: { columnName: [{\n                type: Input\n            }], columns: [{\n                type: Input\n            }] } });\n\nconst RX_RECORD_GRID_DESIGN = {\n    keywords: {\n        label: 'Keywords',\n        children: [\n            {\n                label: 'Current user',\n                icon: 'd-icon-dollar',\n                expression: '$USER$'\n            },\n            {\n                label: 'Current date',\n                icon: 'd-icon-dollar',\n                expression: '$DATE$'\n            },\n            {\n                label: 'Current time',\n                icon: 'd-icon-dollar',\n                expression: '$TIME$'\n            },\n            {\n                label: 'Current date and time',\n                icon: 'd-icon-dollar',\n                expression: '$TIMESTAMP$'\n            },\n            {\n                label: 'Current week day',\n                icon: 'd-icon-dollar',\n                expression: '$WEEKDAY$'\n            },\n            {\n                label: 'Current groups',\n                icon: 'd-icon-dollar',\n                expression: '$GROUPS$'\n            },\n            {\n                label: 'Current group IDs',\n                icon: 'd-icon-dollar',\n                expression: '$GROUPIDS$'\n            },\n            {\n                label: 'Current roles',\n                icon: 'd-icon-dollar',\n                expression: '$ROLES$'\n            },\n            {\n                label: 'Current user locale',\n                icon: 'd-icon-dollar',\n                expression: '$LOCALE$'\n            },\n            {\n                label: 'Current server URL',\n                icon: 'd-icon-dollar',\n                expression: '$SERVERURL$'\n            },\n            {\n                label: 'NULL',\n                icon: 'd-icon-dollar',\n                expression: '$NULL$',\n                hidden: true\n            }\n        ]\n    }\n};\n\nclass NamedFilterOptionExpressionConfigurator extends RxViewExpressionConfigurator {\n    constructor(injector, activeModalRef, rxViewDataDictionaryService, rxDefaultExpressionEvaluatorService) {\n        super(injector);\n        this.injector = injector;\n        this.activeModalRef = activeModalRef;\n        this.rxViewDataDictionaryService = rxViewDataDictionaryService;\n        this.rxDefaultExpressionEvaluatorService = rxDefaultExpressionEvaluatorService;\n        this.commonDataDictionary$ = this.rxViewDataDictionaryService.commonDataDictionary$.pipe(map((dataDictionary) => [\n            {\n                expression: `'${this.activeModalRef.getData().column.fieldId}'`,\n                icon: 'd-icon-file_o_gear',\n                label: this.activeModalRef.getData().column.title\n            },\n            RX_RECORD_GRID_DESIGN.keywords,\n            // removing 'General' and 'Functions' groups from data dictionary.\n            ...dataDictionary.slice(2)\n        ]));\n    }\n    getExpressionEvaluator() {\n        return this.rxDefaultExpressionEvaluatorService;\n    }\n}\nNamedFilterOptionExpressionConfigurator.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: NamedFilterOptionExpressionConfigurator, deps: [{ token: i0.Injector }, { token: i1.ActiveModalRef }, { token: i1$3.RxViewDataDictionaryService }, { token: i1$4.RxDefaultExpressionEvaluatorService }], target: i0.ɵɵFactoryTarget.Injectable });\nNamedFilterOptionExpressionConfigurator.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: NamedFilterOptionExpressionConfigurator });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: NamedFilterOptionExpressionConfigurator, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1.ActiveModalRef }, { type: i1$3.RxViewDataDictionaryService }, { type: i1$4.RxDefaultExpressionEvaluatorService }]; } });\n\nclass RecordGridNamedFilterOptionsEditorModalComponent extends RxModalClass {\n    constructor(activeModalRef, rxGuidService, rxExpressionEditorService, formBuilder, translateService, expressionConfigurator, injector) {\n        super(activeModalRef, injector);\n        this.activeModalRef = activeModalRef;\n        this.rxGuidService = rxGuidService;\n        this.rxExpressionEditorService = rxExpressionEditorService;\n        this.formBuilder = formBuilder;\n        this.translateService = translateService;\n        this.expressionConfigurator = expressionConfigurator;\n        this.config = this.activeModalRef.getData();\n        this.namedFilterOptionsFormArray = this.formBuilder.array([]);\n        this.accordionTabs = {};\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.expressionConfigurator.configureForProperty({\n            propertyPath: 'namedFilterOptions',\n            operators: ExpressionOperatorRowsByGroup.get(ExpressionOperatorGroup.All)\n        });\n        this.queryExpressionOptions = {\n            label: 'Filter',\n            dataDictionary$: this.expressionConfigurator.getDataDictionary('namedFilterOptions'),\n            operators: this.expressionConfigurator.getOperators('namedFilterOptions'),\n            isRequired: true\n        };\n        forEach(this.config.namedFilterOptions, (props, index) => {\n            this.accordionTabs[props.guid] = index === this.config.activeIndex;\n            this.namedFilterOptionsFormArray.push(this.getFormGroup(props));\n        });\n        if (this.config.isReadOnly) {\n            this.namedFilterOptionsFormArray.disable();\n        }\n    }\n    ngAfterViewInit() {\n        if (this.config.activeIndex) {\n            this.accordionTabEls.toArray()[this.config.activeIndex].nativeElement.scrollIntoView({\n                block: 'nearest'\n            });\n        }\n    }\n    addNamedFilterOption() {\n        this.markAsDirty();\n        const guid = this.rxGuidService.generate();\n        this.accordionTabs[guid] = true;\n        let title = 'New filter option';\n        let counter = 0;\n        let titleAlreadyExists = false;\n        const titles = map$1(this.namedFilterOptionsFormArray.getRawValue(), 'title');\n        do {\n            title = counter === 0 ? title : `New filter option ${counter}`;\n            counter++;\n            titleAlreadyExists = includes(titles, title);\n        } while (titleAlreadyExists);\n        this.namedFilterOptionsFormArray.push(this.getFormGroup({\n            data: {\n                title,\n                filterExpression: '',\n                index: this.namedFilterOptionsFormArray.length\n            },\n            guid\n        }));\n        setTimeout(() => {\n            this.accordionTabEls.last.nativeElement.scrollIntoView({\n                block: 'nearest'\n            });\n        });\n    }\n    removeNamedFilterOption(index) {\n        this.namedFilterOptionsFormArray.removeAt(index);\n        this.markAsDirty();\n    }\n    openExpressionEditor(title, filterExpression) {\n        this.rxExpressionEditorService\n            .openEditor({\n            property: {\n                path: 'namedFilterOptions',\n                value: filterExpression.value,\n                label: title.value\n            },\n            isReadOnly: false,\n            expressionConfigurator: this.expressionConfigurator,\n            legend: [\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.keyword.label'),\n                    icon: 'd-icon-dollar'\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.view-component-property.label'),\n                    icon: 'd-icon-file_o_gear'\n                }\n            ]\n        })\n            .subscribe((expression) => {\n            filterExpression.setValue(expression.value);\n            this.markAsDirty();\n        });\n    }\n    moveNamedFilterOption(fromIndex, toIndex) {\n        moveItemInArray(this.namedFilterOptionsFormArray.controls, fromIndex, toIndex);\n        this.markAsDirty();\n    }\n    onSelectedNamedFilterOptionDrop(event) {\n        moveItemInArray(this.namedFilterOptionsFormArray.controls, event.previousIndex, event.currentIndex);\n        this.markAsDirty();\n    }\n    onSave() {\n        const formValues = this.namedFilterOptionsFormArray.getRawValue();\n        const namedFilterOptions = formValues.map(({ guid, title, filterExpression }, index) => ({\n            guid,\n            data: {\n                title,\n                filterExpression,\n                index\n            }\n        }));\n        this.activeModalRef.close(namedFilterOptions);\n    }\n    cancel() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n    toggleOpen(expandAll) {\n        forEach(this.accordionTabs, (val, key) => {\n            this.accordionTabs[key] = expandAll;\n        });\n    }\n    getCheckTitleDuplicateValidator(currentNamedFilterOption) {\n        return (control) => {\n            const title = control.value;\n            if (title &&\n                this.namedFilterOptionsFormArray.controls.some((namedFilterOption) => namedFilterOption.value.title === title && namedFilterOption.value.guid !== currentNamedFilterOption.guid)) {\n                return { duplicateFilterOptionName: { message: 'Filter option with this name already exists.' } };\n            }\n            return null;\n        };\n    }\n    getFormGroup(properties) {\n        return this.formBuilder.group({\n            guid: properties.guid,\n            title: [\n                properties.data.title,\n                [\n                    Validators.required,\n                    this.getCheckTitleDuplicateValidator(properties).bind(this),\n                    (control) => {\n                        var _a;\n                        return ((_a = control === null || control === void 0 ? void 0 : control.value) === null || _a === void 0 ? void 0 : _a.includes(';'))\n                            ? { invalidName: { message: 'A filter option name cannot contain any of the following characters: ;' } }\n                            : null;\n                    }\n                ]\n            ],\n            filterExpression: [properties.data.filterExpression, Validators.required]\n        });\n    }\n}\nRecordGridNamedFilterOptionsEditorModalComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridNamedFilterOptionsEditorModalComponent, deps: [{ token: i1.ActiveModalRef }, { token: i2$1.RxGuidService }, { token: i2$5.RxExpressionEditorService }, { token: i2$3.FormBuilder }, { token: i2.TranslateService }, { token: NamedFilterOptionExpressionConfigurator }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nRecordGridNamedFilterOptionsEditorModalComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordGridNamedFilterOptionsEditorModalComponent, selector: \"rx-named-filter-options-editor-modal\", providers: [NamedFilterOptionExpressionConfigurator], viewQueries: [{ propertyName: \"accordionTabEls\", predicate: AdaptAccordionTabComponent, descendants: true, read: ElementRef }], usesInheritance: true, ngImport: i0, template: \"<div class=\\\"designer-modal-body modal-body d-flex mh-100\\\">\\n  <div class=\\\"row flex-grow-1 w-100\\\">\\n    <div class=\\\"d-flex flex-column mh-100 col\\\">\\n      <div class=\\\"d-flex align-items-start justify-content-between\\\">\\n        <button\\n          *ngIf=\\\"!config.isReadOnly\\\"\\n          class=\\\"mt-2 p-0\\\"\\n          rx-id=\\\"add-button\\\"\\n          adapt-button\\n          type=\\\"button\\\"\\n          btn-type=\\\"tertiary\\\"\\n          (click)=\\\"addNamedFilterOption()\\\"\\n        >\\n          <span class=\\\"d-icon-left-plus_circle\\\"></span>\\n\\n          {{\\n            'com.bmc.arsys.rx.client.view-components.named-filter-options.add-named-filter-option.button.label'\\n              | translate\\n          }}\\n        </button>\\n\\n        <div *ngIf=\\\"namedFilterOptionsFormArray.controls.length\\\" class=\\\"btn-group\\\">\\n          <button adapt-button btn-type=\\\"tertiary\\\" type=\\\"button\\\" rx-id=\\\"expand-all-button\\\" (click)=\\\"toggleOpen(true)\\\">\\n            {{ 'com.bmc.arsys.rx.client.common.expand-all.label' | translate }}\\n          </button>\\n\\n          <button\\n            adapt-button\\n            btn-type=\\\"tertiary\\\"\\n            type=\\\"button\\\"\\n            rx-id=\\\"collapse-all-button\\\"\\n            (click)=\\\"toggleOpen(false)\\\"\\n          >\\n            {{ 'com.bmc.arsys.rx.client.common.collapse-all.label' | translate }}\\n          </button>\\n        </div>\\n      </div>\\n\\n      <div\\n        *ngIf=\\\"namedFilterOptionsFormArray.controls.length\\\"\\n        class=\\\"designer-modal-accordion-wrapper\\\"\\n        cdkDropList\\n        (cdkDropListDropped)=\\\"onSelectedNamedFilterOptionDrop($event)\\\"\\n      >\\n        <adapt-accordion [multiselect]=\\\"true\\\">\\n          <div\\n            *ngFor=\\\"\\n              let namedFilterOption of namedFilterOptionsFormArray.controls;\\n              let index = index;\\n              let first = first;\\n              let last = last\\n            \\\"\\n            class=\\\"designer-modal-accordion-content\\\"\\n            cdkDrag\\n            cdkDragLockAxis=\\\"y\\\"\\n            [cdkDragData]=\\\"namedFilterOption\\\"\\n            [cdkDragDisabled]=\\\"config.isReadOnly\\\"\\n          >\\n            <div *ngIf=\\\"!config.isReadOnly\\\" class=\\\"designer-modal-drag-handle d-icon-left-dots\\\" cdkDragHandle></div>\\n\\n            <adapt-accordion-tab\\n              class=\\\"d-block\\\"\\n              [formGroup]=\\\"namedFilterOption\\\"\\n              [isOpen]=\\\"accordionTabs[namedFilterOption.get('guid').value]\\\"\\n            >\\n              <div class=\\\"card-title-text w-100\\\">\\n                <div class=\\\"designer-modal-card-title-content\\\">\\n                  <div class=\\\"left-header-block\\\" [class.pl-0]=\\\"config.isReadOnly\\\">\\n                    <div class=\\\"rx-ellipsis\\\" [title]=\\\"namedFilterOption.get('title').value\\\" rx-id=\\\"card-title\\\">\\n                      {{ namedFilterOption.get('title').value }}\\n                    </div>\\n                  </div>\\n\\n                  <div *ngIf=\\\"!config.isReadOnly\\\" class=\\\"right-header-block\\\">\\n                    <div class=\\\"designer-modal-card-title-index-buttons\\\">\\n                      <button\\n                        class=\\\"d-icon-left-triangle_down rx-button-unstyled\\\"\\n                        type=\\\"button\\\"\\n                        [disabled]=\\\"last\\\"\\n                        (click)=\\\"$event.stopPropagation(); moveNamedFilterOption(index, index + 1)\\\"\\n                        rx-id=\\\"move-down-button\\\"\\n                      ></button>\\n\\n                      <button\\n                        class=\\\"d-icon-left-triangle_up rx-button-unstyled\\\"\\n                        type=\\\"button\\\"\\n                        [disabled]=\\\"first\\\"\\n                        (click)=\\\"$event.stopPropagation(); moveNamedFilterOption(index, index - 1)\\\"\\n                        rx-id=\\\"move-up-button\\\"\\n                      ></button>\\n                    </div>\\n\\n                    <button\\n                      class=\\\"d-icon-left-cross_adapt p-1 pr-4 ml-3\\\"\\n                      adapt-button\\n                      size=\\\"small\\\"\\n                      type=\\\"button\\\"\\n                      (click)=\\\"$event.stopPropagation(); removeNamedFilterOption(index)\\\"\\n                      rx-id=\\\"remove-button\\\"\\n                    >\\n                      {{ 'com.bmc.arsys.rx.client.common.remove.label' | translate }}\\n                    </button>\\n                  </div>\\n                </div>\\n              </div>\\n\\n              <adapt-rx-textfield\\n                class=\\\"form-group d-block\\\"\\n                rx-id=\\\"filter-option-name-field\\\"\\n                label=\\\"{{\\n                  'com.bmc.arsys.rx.client.view-components.named-filter-options.name-field.label' | translate\\n                }}\\\"\\n                formControlName=\\\"title\\\"\\n                [required]=\\\"true\\\"\\n                (ngModelChange)=\\\"markAsDirty()\\\"\\n                rxNoWhitespace\\n              ></adapt-rx-textfield>\\n\\n              <rx-expression-form-control\\n                formControlName=\\\"filterExpression\\\"\\n                rx-id=\\\"query-expression-field\\\"\\n                [options]=\\\"queryExpressionOptions\\\"\\n                (events)=\\\"\\n                  openExpressionEditor(namedFilterOption.get('title'), namedFilterOption.get('filterExpression'))\\n                \\\"\\n                [required]=\\\"true\\\"\\n                (ngModelChange)=\\\"markAsDirty()\\\"\\n              ></rx-expression-form-control>\\n            </adapt-accordion-tab>\\n          </div>\\n        </adapt-accordion>\\n      </div>\\n\\n      <div\\n        *ngIf=\\\"!namedFilterOptionsFormArray.controls.length\\\"\\n        class=\\\"d-flex justify-content-center h-100 align-items-center mt-2\\\"\\n      >\\n        <adapt-empty-state\\n          class=\\\"w-100\\\"\\n          label=\\\"{{ 'com.bmc.arsys.rx.client.view-components.named-filter-options.empty-state.message' | translate }}\\\"\\n          type=\\\"search\\\"\\n        ></adapt-empty-state>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button\\n    *ngIf=\\\"!config.isReadOnly\\\"\\n    adapt-button\\n    btn-type=\\\"primary\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"save-button\\\"\\n    [disabled]=\\\"this.namedFilterOptionsFormArray.invalid || !isDirty()\\\"\\n    (click)=\\\"onSave()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n\\n  <button adapt-button btn-type=\\\"secondary\\\" type=\\\"button\\\" rx-id=\\\"cancel-button\\\" (click)=\\\"cancel()\\\">\\n    {{\\n      config.isReadOnly\\n        ? ('com.bmc.arsys.rx.client.common.close.label' | translate)\\n        : ('com.bmc.arsys.rx.client.common.cancel.label' | translate)\\n    }}\\n  </button>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.designer-modal-body{height:645px;min-height:calc(100% - 61px)!important}.designer-modal-accordion-wrapper{display:flex;flex-direction:column;height:100%;overflow:auto;padding-top:10px}.designer-modal-accordion-content{position:relative}.designer-modal-accordion-content.cdk-drag-preview{z-index:1200!important}.designer-modal-drag-handle{cursor:move;position:absolute;top:0;left:0;height:46px;padding:14px 10px 14px 14px;z-index:1}.designer-modal-card-title-content{width:100%;display:flex}.designer-modal-card-title-content .left-header-block,.designer-modal-card-title-content .right-header-block{display:flex;align-items:center}.designer-modal-card-title-content .left-header-block{flex-grow:1;min-width:0;font-size:14px;padding-left:22px}.designer-modal-card-sub-title{color:#7c7f81;font-weight:normal}.designer-modal-card-title-index-buttons{display:flex;font-size:19px}.rx-card{overflow:auto}.rx-tree-draggable-node{cursor:pointer}.rx-tree-draggable-node.cdk-drag-preview{z-index:1200!important}.rx-tree-draggable-node.cdk-drag{opacity:1}.rx-tree-node-label{word-break:break-all}rx-form-builder{max-width:400px}\\n\"], components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1.AdaptAccordionComponent, selector: \"adapt-accordion\", inputs: [\"config\", \"multiselect\", \"bordered\"], outputs: [\"openTab\", \"closeTab\"] }, { type: i1.AdaptAccordionTabComponent, selector: \"adapt-accordion-tab\", inputs: [\"title\", \"renderContentWhenClosed\", \"customClass\", \"multiline\", \"icon\", \"disabled\", \"isOpen\"], outputs: [\"open\", \"close\"] }, { type: i1.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i2$5.ExpressionFormControlComponent, selector: \"rx-expression-form-control\", inputs: [\"options\", \"isDisabled\", \"propertyPath\"], outputs: [\"events\"] }, { type: i1.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i8.CdkDropList, selector: \"[cdkDropList], cdk-drop-list\", inputs: [\"cdkDropListConnectedTo\", \"id\", \"cdkDropListEnterPredicate\", \"cdkDropListSortPredicate\", \"cdkDropListDisabled\", \"cdkDropListSortingDisabled\", \"cdkDropListAutoScrollDisabled\", \"cdkDropListOrientation\", \"cdkDropListLockAxis\", \"cdkDropListData\", \"cdkDropListAutoScrollStep\"], outputs: [\"cdkDropListDropped\", \"cdkDropListEntered\", \"cdkDropListExited\", \"cdkDropListSorted\"], exportAs: [\"cdkDropList\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i8.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragDisabled\", \"cdkDragStartDelay\", \"cdkDragLockAxis\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragBoundary\", \"cdkDragRootElement\", \"cdkDragPreviewContainer\", \"cdkDragData\", \"cdkDragFreeDragPosition\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }, { type: i8.CdkDragHandle, selector: \"[cdkDragHandle]\", inputs: [\"cdkDragHandleDisabled\"] }, { type: i2$3.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i2$3.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlName, selector: \"[formControlName]\", inputs: [\"disabled\", \"formControlName\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i2$1.RxNoWhitespaceValidator, selector: \"[rxNoWhitespace]\", inputs: [\"rxNoWhitespace\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridNamedFilterOptionsEditorModalComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-named-filter-options-editor-modal',\n                    templateUrl: './named-filter-options-editor-modal.component.html',\n                    styleUrls: ['./named-filter-options-editor-modal.component.scss'],\n                    providers: [NamedFilterOptionExpressionConfigurator]\n                }]\n        }], ctorParameters: function () { return [{ type: i1.ActiveModalRef }, { type: i2$1.RxGuidService }, { type: i2$5.RxExpressionEditorService }, { type: i2$3.FormBuilder }, { type: i2.TranslateService }, { type: NamedFilterOptionExpressionConfigurator }, { type: i0.Injector }]; }, propDecorators: { accordionTabEls: [{\n                type: ViewChildren,\n                args: [AdaptAccordionTabComponent, { read: ElementRef }]\n            }] } });\n\nclass RecordGridNamedFilterOptionsComponent extends ValueAccessor {\n    constructor(rxModalService) {\n        super();\n        this.rxModalService = rxModalService;\n    }\n    openNamedFilterOptions(activeIndex) {\n        this.rxModalService\n            .openModal({\n            title: `Edit named filter options for ${this.column.title}`,\n            data: {\n                namedFilterOptions: this.value ? cloneDeep(this.value) : [],\n                isReadOnly: this.isDisabled,\n                activeIndex,\n                column: this.column\n            },\n            content: RecordGridNamedFilterOptionsEditorModalComponent,\n            size: OpenViewActionModalSize.Large,\n            testID: 'edit-named-filter-options'\n        })\n            .then((namedFilterOptions) => {\n            this.value = namedFilterOptions;\n        })\n            .catch(noop);\n    }\n    editNamedFilterOption(activeIndex) {\n        this.openNamedFilterOptions(activeIndex);\n    }\n    removeFilterOption(namedFilterOption) {\n        this.value = without(this.value, namedFilterOption);\n    }\n}\nRecordGridNamedFilterOptionsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridNamedFilterOptionsComponent, deps: [{ token: i1$6.RxModalService }], target: i0.ɵɵFactoryTarget.Component });\nRecordGridNamedFilterOptionsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordGridNamedFilterOptionsComponent, selector: \"rx-named-filter-options\", inputs: { column: \"column\", tooltip: \"tooltip\" }, providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: RecordGridNamedFilterOptionsComponent,\n            multi: true\n        }\n    ], usesInheritance: true, ngImport: i0, template: \"<adapt-button rx-id=\\\"open-modal-button\\\" btn-type=\\\"tertiary\\\" class=\\\"px-0 py-0 pb-1\\\" (click)=\\\"openNamedFilterOptions()\\\">\\n  <adapt-icon name=\\\"plus_circle\\\" class=\\\"mr-1\\\"></adapt-icon>\\n  Edit named filter options\\n</adapt-button>\\n\\n<span *ngIf=\\\"tooltip\\\" class=\\\"align-middle\\\">\\n  <span class=\\\"letter-space\\\"></span>\\n  <adapt-icon [name]=\\\"'question_circle_o'\\\" [adaptPopover]=\\\"tooltip\\\" appendToBody=\\\"true\\\"></adapt-icon>\\n</span>\\n\\n<div rx-id=\\\"named-filter-options\\\">\\n  <div *ngIf=\\\"!value?.length\\\" class=\\\"text-tertiary\\\">No named filter options added.</div>\\n  <ul class=\\\"list-unstyled mb-0\\\" *ngIf=\\\"value?.length > 0\\\">\\n    <li class=\\\"border px-2 py-1 mb-1 d-flex align-items-center\\\" *ngFor=\\\"let option of value; let index = index\\\">\\n      <strong class=\\\"mr-auto text-break\\\">{{ option.data.title }}</strong>\\n\\n      <button\\n        class=\\\"d-icon-left-pencil p-1\\\"\\n        adapt-button\\n        btn-type=\\\"tertiary\\\"\\n        size=\\\"small\\\"\\n        type=\\\"button\\\"\\n        (click)=\\\"editNamedFilterOption(index)\\\"\\n        rx-id=\\\"edit-button\\\"\\n      ></button>\\n\\n      <button\\n        class=\\\"d-icon-left-cross_adapt p-1\\\"\\n        adapt-button\\n        btn-type=\\\"tertiary\\\"\\n        size=\\\"small\\\"\\n        type=\\\"button\\\"\\n        *ngIf=\\\"!isDisabled\\\"\\n        (click)=\\\"removeFilterOption(option)\\\"\\n        rx-id=\\\"remove-button\\\"\\n      ></button>\\n    </li>\\n  </ul>\\n</div>\\n\", components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1.AdaptIconComponent, selector: \"adapt-icon\", inputs: [\"name\", \"classList\", \"description\", \"testID\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1.AdaptPopoverDirective, selector: \"[adaptPopover]\", inputs: [\"adaptPopover\", \"popoverTitle\", \"placement\", \"fallbackPlacement\", \"triggers\", \"container\", \"appendToBody\", \"closeBtn\", \"popupDelay\", \"disablePopover\", \"popoverClass\", \"autoClose\", \"closeOnOutOfView\", \"maxWidth\", \"minWidth\"], outputs: [\"shown\", \"hidden\"], exportAs: [\"adaptPopover\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridNamedFilterOptionsComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-named-filter-options',\n                    templateUrl: './named-filter-options.component.html',\n                    providers: [\n                        {\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: RecordGridNamedFilterOptionsComponent,\n                            multi: true\n                        }\n                    ]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$6.RxModalService }]; }, propDecorators: { column: [{\n                type: Input\n            }], tooltip: [{\n                type: Input\n            }] } });\n\nclass RecordGridColumnEditorModalComponent extends RxModalClass {\n    constructor(activeModalRef, rxModalService, definitionNameService, rxRecordGridUtilsService, rxFieldDefinitionService, rxRecordDefinitionCacheService, rxGuidService, ngZone, injector, translateService, rxExpressionEditorService) {\n        super(activeModalRef, injector);\n        this.activeModalRef = activeModalRef;\n        this.rxModalService = rxModalService;\n        this.definitionNameService = definitionNameService;\n        this.rxRecordGridUtilsService = rxRecordGridUtilsService;\n        this.rxFieldDefinitionService = rxFieldDefinitionService;\n        this.rxRecordDefinitionCacheService = rxRecordDefinitionCacheService;\n        this.rxGuidService = rxGuidService;\n        this.ngZone = ngZone;\n        this.injector = injector;\n        this.translateService = translateService;\n        this.rxExpressionEditorService = rxExpressionEditorService;\n        this.columnProperties = RX_RECORD_GRID.columnProperties;\n        this.actionsColumnProperties = RX_RECORD_GRID.actionsColumnProperties;\n        this.filteredColumns = [];\n        this.availableColumnsTree = [];\n        this.startedLoadingAssociationDescriptors = false;\n        this.treeWrap = TreeWrap.WrapAll;\n        this.columnWidthPropertyOptions = this.columnProperties.find(({ name }) => name === 'width').options;\n        this.typeaheadKeystrokeCountOptions = Object.assign(Object.assign({}, this.columnProperties.find(({ name }) => name === 'typeaheadKeystrokeCount').options), { tooltip: new Tooltip(this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid-column.keystroke-count.tooltip')) });\n        const params = this.activeModalRef.getData().columnParams;\n        this.activeColumn = params.activeColumn;\n        this.activeActionIndex = params.activeActionIndex;\n        this.recordDefinition = params.recordDefinition;\n        this.isReadOnly = params.isReadOnly;\n        this.columns = params.columns\n            .map((column) => {\n            const additionalQueryCriteriaExpressionOptions = column.fieldDefinition.namedListDefinition\n                ? this.getAdditionalQueryCriteriaExpressionOptions(column)\n                : null;\n            return Object.assign(Object.assign({}, column), { isOpen: column === this.activeColumn, label: this.rxRecordGridUtilsService.getColumnLabel(column.fieldDefinition, column.associationDescriptor), clickable: !isEmpty(column.actions), additionalQueryCriteriaExpressionOptions });\n        })\n            .sort((a, b) => a.index - b.index);\n        this.getAvailableColumnsTree();\n    }\n    ngAfterViewInit() {\n        this.updateSelectedColumnsDropList();\n        this.openActiveAction();\n        const openGridColumnIndex = findIndex(this.columns, 'isOpen');\n        if (openGridColumnIndex !== -1) {\n            this.accordionTabEls.toArray()[openGridColumnIndex].nativeElement.scrollIntoView({\n                block: 'nearest'\n            });\n        }\n    }\n    isActionsColumn(fieldId) {\n        return fieldId === RX_RECORD_GRID.actionsColumnFieldDefinition.id;\n    }\n    updateSelectedColumnsDropList() {\n        this.updateColumnsDropList(this.draggableSelectedColumns, this.selectedColumnsDropList);\n    }\n    updateAssociatedAvailableColumnsDropList() {\n        this.updateColumnsDropList(this.draggableAssociatedAvailableColumns, this.associatedAvailableColumnsDropList);\n    }\n    updateColumnsDropList(draggableColumnsList, dropList) {\n        // Workaround: update due to injection bug with the adapt-accordion and adapt-tree\n        const draggableColumns = draggableColumnsList.toArray();\n        const columns = this.columns;\n        draggableColumns.sort((column1, column2) => {\n            return columns.indexOf(column1.data) - columns.indexOf(column2.data);\n        });\n        dropList._dropListRef.withItems(draggableColumns.map((drag) => {\n            const dragRef = drag._dragRef;\n            if (!dragRef._initialContainer) {\n                dragRef._initialContainer = dropList._dropListRef;\n            }\n            return drag._dragRef;\n        }));\n    }\n    cancel() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n    onDropInSelectedColumnsContainer(event) {\n        if (event.previousContainer !== event.container && this.isColumnEditorAvailableColumn(event.item.data)) {\n            this.addColumn(event.item.data, event.currentIndex);\n        }\n        else if (event.previousIndex !== event.currentIndex) {\n            this.moveColumn(event.previousIndex, event.currentIndex);\n        }\n    }\n    onColumnCheckboxPropertyChange(value, column, columnProperty) {\n        if (columnProperty.name === 'filterable' && column.fieldDefinition.namedListDefinition) {\n            if (value) {\n                column.typeaheadKeystrokeCount = RX_RECORD_GRID.defaultTypeaheadKeystrokeCount;\n            }\n            else {\n                column.typeaheadKeystrokeCount = null;\n                column.additionalQueryCriteria = null;\n            }\n        }\n        this.markAsDirty();\n    }\n    onColumnDragStarted() {\n        this.updateSelectedColumnsDropList();\n    }\n    onAssociatedAvailableColumnsDragStarted() {\n        this.onColumnDragStarted();\n        this.updateAssociatedAvailableColumnsDropList();\n    }\n    isColumnEditorAvailableColumn(column) {\n        return Boolean(column.fieldDefinitionName);\n    }\n    moveColumn(fromIndex, toIndex) {\n        this.markAsDirty();\n        moveItemInArray(this.columns, fromIndex, toIndex);\n        this.updateColumnIndexes();\n    }\n    removeColumn(index) {\n        this.markAsDirty();\n        const column = this.columns[index];\n        this.columns.splice(index, 1);\n        const associatedAvailableColumnsNode = column.associationDescriptor\n            ? this.getAssociatedAvailableColumnsNode(column.associationDescriptor.label)\n            : this.availableColumnsTree[0];\n        // variable can be null when we want remove column, but associations are not loaded yet\n        if (associatedAvailableColumnsNode && associatedAvailableColumnsNode.data.allAvailableColumns) {\n            associatedAvailableColumnsNode.data.allAvailableColumns.push(this.getColumnMetadata(column.fieldDefinition, column.associationDescriptor));\n            this.updateAvailableColumnsTree();\n        }\n    }\n    getAssociatedAvailableColumnsNode(associationDescriptorLabel) {\n        return this.availableColumnsTree.find((associatedAvailableColumn) => associatedAvailableColumn.data.associationDescriptor &&\n            associatedAvailableColumn.data.associationDescriptor.label === associationDescriptorLabel);\n    }\n    getAvailableColumnsTree() {\n        const recordNode = {\n            children: null,\n            leaf: false,\n            expanded: true,\n            expandedIcon: 'd-icon-file_text',\n            collapsedIcon: 'd-icon-file_text',\n            label: this.definitionNameService.getDisplayName(this.recordDefinition.name),\n            key: this.definitionNameService.getDisplayName(this.recordDefinition.name),\n            data: {\n                allAvailableColumns: null\n            }\n        };\n        if (!this.startedLoadingAssociationDescriptors) {\n            this.startedLoadingAssociationDescriptors = true;\n            this.rxRecordGridUtilsService\n                .getAssociationDescriptors(this.recordDefinition.name)\n                .subscribe((associationDescriptors) => {\n                associationDescriptors = associationDescriptors.slice();\n                associationDescriptors.sort((descriptor1, descriptor2) => descriptor1.label.localeCompare(descriptor2.label));\n                this.availableColumnsTree = associationDescriptors.map((associationDescriptor) => {\n                    return {\n                        children: null,\n                        leaf: false,\n                        expandedIcon: 'd-icon-arrow_schema',\n                        collapsedIcon: 'd-icon-arrow_schema',\n                        label: associationDescriptor.label,\n                        key: associationDescriptor.associationDefinition.name,\n                        data: {\n                            associationDescriptor,\n                            allAvailableColumns: null\n                        }\n                    };\n                });\n                this.availableColumnsTree.unshift(recordNode);\n                this.availableColumnsTree.forEach((node) => {\n                    this.onNodeExpand({ node });\n                });\n            });\n        }\n    }\n    updateAvailableColumnsTree() {\n        this.availableColumnsTree.forEach((node) => {\n            const allAvailableColumns = node.data.allAvailableColumns;\n            if (allAvailableColumns) {\n                const availableColumns = this.sortAvailableColumns(allAvailableColumns);\n                const definitionName = node.data.associationDescriptor\n                    ? node.data.associationDescriptor.associationDefinition.name\n                    : this.recordDefinition.name;\n                node.children = availableColumns.map((availableColumn) => {\n                    return {\n                        children: null,\n                        leaf: true,\n                        label: availableColumn.fieldDefinitionName,\n                        key: `${definitionName}-${availableColumn.fieldDefinition.id}`,\n                        data: {\n                            availableColumn\n                        }\n                    };\n                });\n            }\n        });\n    }\n    onNodeExpand({ node }) {\n        const associationDescriptor = node.data.associationDescriptor;\n        if (associationDescriptor && !node.data.allAvailableColumns) {\n            node.data.allAvailableColumns = [];\n            this.rxRecordDefinitionCacheService\n                .getRecordDefinition(associationDescriptor.recordDefinitionName)\n                .subscribe((recordDefinition) => {\n                node.data.allAvailableColumns = this.getAvailableColumns(recordDefinition, associationDescriptor);\n                this.updateAvailableColumnsTree();\n            });\n        }\n        else if (!associationDescriptor) {\n            node.data.allAvailableColumns = this.getAvailableColumns(this.recordDefinition);\n            this.updateAvailableColumnsTree();\n        }\n    }\n    addColumn(availableColumn, insertIndex) {\n        this.markAsDirty();\n        if (!find(this.columns, (column) => column.fieldId === availableColumn.fieldId)) {\n            const additionalQueryCriteriaExpressionOptions = availableColumn.fieldDefinition.namedListDefinition\n                ? this.getAdditionalQueryCriteriaExpressionOptions(availableColumn)\n                : null;\n            const newColumn = Object.assign(Object.assign({}, this.getColumnEditorColumnData(availableColumn)), { additionalQueryCriteriaExpressionOptions });\n            if (isNil(insertIndex)) {\n                this.columns.push(newColumn);\n            }\n            else {\n                this.columns.splice(insertIndex, 0, newColumn);\n            }\n            this.updateColumnIndexes();\n            this.removeFromAvailableColumns(availableColumn);\n            setTimeout(() => {\n                this.accordionTabEls.toArray()[insertIndex !== null && insertIndex !== void 0 ? insertIndex : this.columns.length - 1].nativeElement.scrollIntoView();\n            });\n        }\n    }\n    getColumnEditorColumnData(availableColumn) {\n        const column = {\n            guid: this.rxGuidService.generate(),\n            label: availableColumn.label,\n            fieldId: availableColumn.fieldId,\n            associationDescriptor: availableColumn.associationDescriptor,\n            fieldDefinition: availableColumn.fieldDefinition,\n            actions: [],\n            title: availableColumn.fieldDefinitionName,\n            isOpen: true\n        };\n        forEach(RX_RECORD_GRID.columnProperties, (columnProperty) => {\n            if (columnProperty.name === 'sortable') {\n                column.sortable = availableColumn.isSortable;\n            }\n            else if (columnProperty.name === 'searchable') {\n                column.searchable = this.rxRecordGridUtilsService.isSearchable(availableColumn.fieldDefinition, this.recordDefinition);\n            }\n            else {\n                column[columnProperty.name] = columnProperty.defaultValue;\n            }\n        });\n        return column;\n    }\n    removeFromAvailableColumns(column) {\n        if (column.associationDescriptor) {\n            const associatedAvailableColumnsNode = this.getAssociatedAvailableColumnsNode(column.associationDescriptor.label);\n            remove(associatedAvailableColumnsNode.data.allAvailableColumns, column);\n        }\n        else {\n            remove(this.availableColumnsTree[0].data.allAvailableColumns, column);\n        }\n        this.updateAvailableColumnsTree();\n    }\n    sortAvailableColumns(availableColumns) {\n        this.filteredColumns = availableColumns.sort((column1, column2) => column1.fieldDefinitionName.localeCompare(column2.fieldDefinitionName));\n        return this.filteredColumns;\n    }\n    getAvailableColumns(recordDefinition, associationDescriptor) {\n        return recordDefinition.fieldDefinitions\n            .map((fieldDefinition) => this.getColumnMetadata(fieldDefinition, associationDescriptor))\n            .filter((availableColumn) => !find(this.columns, (column) => column.fieldId === availableColumn.fieldId));\n    }\n    getColumnMetadata(fieldDefinition, associationDescriptor) {\n        return {\n            fieldDefinitionName: fieldDefinition.name,\n            label: this.rxRecordGridUtilsService.getColumnLabel(fieldDefinition, associationDescriptor),\n            fieldId: this.rxRecordGridUtilsService.getFieldIdForGridColumn(fieldDefinition.id, associationDescriptor),\n            isSortable: this.rxFieldDefinitionService.isSortable(fieldDefinition),\n            associationDescriptor,\n            fieldDefinition\n        };\n    }\n    saveChanges() {\n        const result = {\n            columns: this.columns.map((column) => {\n                const isFilterableColumnWithNamedList = column.filterable && column.fieldDefinition.namedListDefinition;\n                return {\n                    actions: column.actions,\n                    alignment: column.alignment,\n                    fieldId: column.fieldId,\n                    filterable: column.filterable,\n                    filterType: column.filterType,\n                    guid: column.guid,\n                    index: column.index,\n                    sortable: column.sortable,\n                    searchable: column.searchable,\n                    title: column.title,\n                    visible: column.visible,\n                    associationDescriptor: column.associationDescriptor,\n                    fieldDefinition: column.fieldDefinition,\n                    cellDisplayProperties: column.cellDisplayProperties,\n                    namedFilterOptions: column.namedFilterOptions,\n                    width: column.width,\n                    wrapText: column.wrapText,\n                    typeaheadKeystrokeCount: isFilterableColumnWithNamedList ? column.typeaheadKeystrokeCount : null,\n                    additionalQueryCriteria: isFilterableColumnWithNamedList ? column.additionalQueryCriteria : null\n                };\n            })\n        };\n        this.activeModalRef.close(result);\n    }\n    trackByForColumns(index, column) {\n        return column.fieldId;\n    }\n    trackByForColumnProperties(index, columnProperty) {\n        return columnProperty.name;\n    }\n    isPropertyEditable(column, propertyName) {\n        if (propertyName === 'searchable') {\n            return (!this.isReadOnly && this.rxRecordGridUtilsService.isSearchable(column.fieldDefinition, this.recordDefinition));\n        }\n        else {\n            return !this.isReadOnly;\n        }\n    }\n    updateColumnIndexes() {\n        this.columns.forEach((column, index) => {\n            column.index = index;\n        });\n    }\n    openActiveAction() {\n        if (this.activeColumn && this.activeActionIndex >= 0) {\n            this.ngZone.runOutsideAngular(() => {\n                // timeout is required to let control set initial value\n                setTimeout(() => {\n                    const listControl = this.actionListControlComponents.find((control) => control.value === this.activeColumn.actions);\n                    if (listControl) {\n                        listControl.focus({ actionIndex: this.activeActionIndex });\n                    }\n                });\n            });\n        }\n    }\n    isTreeEmpty() {\n        return every(this.availableColumnsTree, (node) => node.data.allAvailableColumns.length === 0);\n    }\n    openAdditionalQueryCriteriaExpressionEditor(column, control) {\n        const namedListFilterExpressionConfigurator = new NamedListFilterExpressionConfigurator(column.fieldDefinition, this.injector);\n        this.rxExpressionEditorService\n            .openEditor({\n            property: {\n                path: 'additionalQueryCriteria',\n                value: column.additionalQueryCriteria,\n                label: 'Additional named list filter'\n            },\n            isReadOnly: this.isReadOnly,\n            expressionConfigurator: namedListFilterExpressionConfigurator,\n            legend: [\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.function.label'),\n                    icon: 'd-icon-mathematical_function'\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.keyword.label'),\n                    icon: 'd-icon-dollar'\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.view-component.label'),\n                    icon: 'd-icon-file_o'\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.view-component-property.label'),\n                    icon: 'd-icon-file_o_gear'\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.view-input-parameter.label'),\n                    icon: 'd-icon-arrow_right_square_input'\n                }\n            ]\n        })\n            .subscribe((expression) => {\n            column.additionalQueryCriteria = expression.value;\n            control.value = expression.value;\n            control.onWriteValue(expression.value);\n            this.markAsDirty();\n        });\n    }\n    getAdditionalQueryCriteriaExpressionOptions(column) {\n        const namedListFilterExpressionConfigurator = new NamedListFilterExpressionConfigurator(column.fieldDefinition, this.injector);\n        return {\n            label: 'Additional named list filter',\n            tooltip: new Tooltip('Build a filter to apply at runtime in addition to the filter, if any, specified in the named list definition.'),\n            dataDictionary$: namedListFilterExpressionConfigurator.getDataDictionary(),\n            operators: namedListFilterExpressionConfigurator.getOperators()\n        };\n    }\n}\nRecordGridColumnEditorModalComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridColumnEditorModalComponent, deps: [{ token: i1.ActiveModalRef }, { token: i1$6.RxModalService }, { token: i1$1.RxDefinitionNameService }, { token: RxRecordGridUtilsService }, { token: i1$5.RxFieldDefinitionService }, { token: i1$5.RxRecordDefinitionCacheService }, { token: i2$1.RxGuidService }, { token: i0.NgZone }, { token: i0.Injector }, { token: i2.TranslateService }, { token: i2$5.RxExpressionEditorService }], target: i0.ɵɵFactoryTarget.Component });\nRecordGridColumnEditorModalComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordGridColumnEditorModalComponent, selector: \"ng-component\", viewQueries: [{ propertyName: \"selectedColumnsDropList\", first: true, predicate: [\"selectedColumnsDropList\"], descendants: true, read: CdkDropList }, { propertyName: \"associatedAvailableColumnsDropList\", first: true, predicate: [\"associatedAvailableColumnsDropList\"], descendants: true, read: CdkDropList }, { propertyName: \"draggableSelectedColumns\", predicate: [\"draggableSelectedColumn\"], descendants: true, read: CdkDrag }, { propertyName: \"draggableAssociatedAvailableColumns\", predicate: [\"draggableAssociatedAvailableColumn\"], descendants: true, read: CdkDrag }, { propertyName: \"actionListControlComponents\", predicate: ActionListControlComponent, descendants: true }, { propertyName: \"accordionTabEls\", predicate: AdaptAccordionTabComponent, descendants: true, read: ElementRef }], usesInheritance: true, ngImport: i0, template: \"<div class=\\\"designer-modal-body modal-body d-flex mh-100\\\">\\n  <div class=\\\"row flex-grow-1 w-100\\\">\\n    <div *ngIf=\\\"!isReadOnly\\\" class=\\\"col-4 border-right d-flex flex-column mh-100\\\">\\n      <div class=\\\"d-flex align-items-start justify-content-between\\\">\\n        <h4 class=\\\"mt-2\\\">\\n          {{ 'com.bmc.arsys.rx.client.view-components.record-grid-column.available-columns.title' | translate }}\\n        </h4>\\n      </div>\\n\\n      <div class=\\\"rx-card card flex-grow-1 mt-2\\\">\\n        <div class=\\\"card-block d-flex flex-column\\\">\\n          <div\\n            *ngIf=\\\"!isTreeEmpty()\\\"\\n            #associatedAvailableColumnsDropList=\\\"cdkDropList\\\"\\n            cdkDropList\\n            [cdkDropListData]=\\\"filteredColumns\\\"\\n            cdkDropListSortingDisabled\\n            [cdkDropListConnectedTo]=\\\"['selectedColumnsDropList']\\\"\\n          >\\n            <adapt-tree\\n              [value]=\\\"availableColumnsTree\\\"\\n              (onNodeExpand)=\\\"onNodeExpand($event)\\\"\\n              filter=\\\"true\\\"\\n              [wrap]=\\\"treeWrap\\\"\\n            >\\n              <ng-template let-node adaptTreeNodeTemplate>\\n                <span *ngIf=\\\"!node.data.availableColumn\\\" [title]=\\\"node.label\\\">\\n                  {{ node.label }}\\n                </span>\\n\\n                <div\\n                  *ngIf=\\\"node.data.availableColumn\\\"\\n                  class=\\\"rx-tree-draggable-node\\\"\\n                  #draggableAssociatedAvailableColumn\\n                  cdkDrag\\n                  [cdkDragData]=\\\"node.data.availableColumn\\\"\\n                  (cdkDragStarted)=\\\"onAssociatedAvailableColumnsDragStarted()\\\"\\n                >\\n                  <div (dblclick)=\\\"addColumn(node.data.availableColumn)\\\">\\n                    <button\\n                      type=\\\"button\\\"\\n                      class=\\\"rx-button-unstyled d-icon-plus_circle\\\"\\n                      (click)=\\\"addColumn(node.data.availableColumn)\\\"\\n                    ></button>\\n\\n                    <span class=\\\"rx-tree-node-label ml-3\\\">{{ node.label }}</span>\\n                  </div>\\n                </div>\\n              </ng-template>\\n            </adapt-tree>\\n          </div>\\n\\n          <div *ngIf=\\\"isTreeEmpty()\\\" class=\\\"d-flex justify-content-center h-100 align-items-center mt-2\\\">\\n            <adapt-empty-state\\n              class=\\\"w-100\\\"\\n              label=\\\"{{\\n                'com.bmc.arsys.rx.client.view-components.record-grid-column.available-columns.empty-state.message'\\n                  | translate\\n              }}\\\"\\n              type=\\\"search\\\"\\n            ></adapt-empty-state>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"d-flex flex-column mh-100 {{ isReadOnly ? 'col' : 'col-8' }}\\\">\\n      <div class=\\\"d-flex align-items-start justify-content-between\\\">\\n        <h4 class=\\\"mt-2\\\">\\n          {{ 'com.bmc.arsys.rx.client.view-components.record-grid-column.selected-columns.title' | translate }}\\n        </h4>\\n      </div>\\n\\n      <div\\n        id=\\\"selectedColumnsDropList\\\"\\n        class=\\\"designer-modal-accordion-wrapper\\\"\\n        cdkDropList\\n        [cdkDropListData]=\\\"columns\\\"\\n        (cdkDropListDropped)=\\\"onDropInSelectedColumnsContainer($event)\\\"\\n        #selectedColumnsDropList=\\\"cdkDropList\\\"\\n      >\\n        <adapt-accordion [multiselect]=\\\"false\\\" *ngIf=\\\"columns.length\\\">\\n          <div\\n            *ngFor=\\\"\\n              let column of columns;\\n              let index = index;\\n              let first = first;\\n              let last = last;\\n              trackBy: trackByForColumns\\n            \\\"\\n            class=\\\"designer-modal-accordion-content\\\"\\n            cdkDrag\\n            cdkDragLockAxis=\\\"y\\\"\\n            [cdkDragData]=\\\"column\\\"\\n            [cdkDragDisabled]=\\\"isReadOnly\\\"\\n            (cdkDragStarted)=\\\"onColumnDragStarted()\\\"\\n            #draggableSelectedColumn\\n          >\\n            <div *ngIf=\\\"!isReadOnly\\\" class=\\\"designer-modal-drag-handle d-icon-left-dots\\\" cdkDragHandle></div>\\n\\n            <adapt-accordion-tab\\n              class=\\\"d-block\\\"\\n              [isOpen]=\\\"column.isOpen\\\"\\n              (open)=\\\"column.isOpen = true\\\"\\n              (close)=\\\"column.isOpen = false\\\"\\n            >\\n              <div class=\\\"card-title-text w-100\\\">\\n                <div class=\\\"designer-modal-card-title-content\\\">\\n                  <div class=\\\"left-header-block\\\" [class.pl-0]=\\\"isReadOnly\\\">\\n                    <div class=\\\"rx-ellipsis\\\" [title]=\\\"column.label\\\" rx-id=\\\"card-title\\\">\\n                      {{ column.label }}\\n                    </div>\\n                  </div>\\n\\n                  <div *ngIf=\\\"!isReadOnly\\\" class=\\\"right-header-block\\\">\\n                    <div class=\\\"designer-modal-card-title-index-buttons\\\">\\n                      <button\\n                        class=\\\"d-icon-left-triangle_down rx-button-unstyled\\\"\\n                        type=\\\"button\\\"\\n                        [disabled]=\\\"last\\\"\\n                        (click)=\\\"$event.stopPropagation(); moveColumn(index, index + 1)\\\"\\n                        rx-id=\\\"move-down-button\\\"\\n                      ></button>\\n\\n                      <button\\n                        class=\\\"d-icon-left-triangle_up rx-button-unstyled\\\"\\n                        type=\\\"button\\\"\\n                        [disabled]=\\\"first\\\"\\n                        (click)=\\\"$event.stopPropagation(); moveColumn(index, index - 1)\\\"\\n                        rx-id=\\\"move-up-button\\\"\\n                      ></button>\\n                    </div>\\n\\n                    <button\\n                      *ngIf=\\\"!isActionsColumn(column.fieldId)\\\"\\n                      class=\\\"d-icon-left-cross_adapt p-1 pr-4 ml-3\\\"\\n                      adapt-button\\n                      size=\\\"small\\\"\\n                      type=\\\"button\\\"\\n                      (click)=\\\"$event.stopPropagation(); removeColumn(index)\\\"\\n                      rx-id=\\\"remove-button\\\"\\n                    >\\n                      {{ 'com.bmc.arsys.rx.client.common.remove.label' | translate }}\\n                    </button>\\n                  </div>\\n                </div>\\n              </div>\\n\\n              <ng-container *ngIf=\\\"column.isOpen\\\">\\n                <div\\n                  *ngIf=\\\"\\n                    isActionsColumn(column.fieldId);\\n                    then actionsColumnEditorTemplate;\\n                    else dataColumnEditorTemplate\\n                  \\\"\\n                ></div>\\n              </ng-container>\\n\\n              <ng-template #dataColumnEditorTemplate>\\n                <adapt-rx-textfield\\n                  class=\\\"rx-record-grid-column-editor-text-field\\\"\\n                  label=\\\"{{\\n                    'com.bmc.arsys.rx.client.view-components.record-grid-column.column-header-field.label' | translate\\n                  }}\\\"\\n                  [disabled]=\\\"isReadOnly\\\"\\n                  [(ngModel)]=\\\"column.title\\\"\\n                  (ngModelChange)=\\\"markAsDirty()\\\"\\n                ></adapt-rx-textfield>\\n\\n                <div class=\\\"d-flex flex-wrap\\\">\\n                  <ng-container *ngFor=\\\"let columnProperty of columnProperties; trackBy: trackByForColumnProperties\\\">\\n                    <div\\n                      class=\\\"checkbox rx-record-grid-column-editor__checkbox-field\\\"\\n                      *ngIf=\\\"\\n                        ['visible', 'sortable', 'filterable', 'searchable', 'wrapText'].includes(columnProperty.name)\\n                      \\\"\\n                    >\\n                      <label>\\n                        <input\\n                          type=\\\"checkbox\\\"\\n                          [(ngModel)]=\\\"column[columnProperty.name]\\\"\\n                          (ngModelChange)=\\\"onColumnCheckboxPropertyChange($event, column, columnProperty)\\\"\\n                          [disabled]=\\\"!isPropertyEditable(column, columnProperty.name)\\\"\\n                        />\\n\\n                        <span class=\\\"checkbox__item\\\">{{ columnProperty.label }}</span>\\n                      </label>\\n\\n                      <span class=\\\"ml-1\\\" *ngIf=\\\"columnProperty.tooltip\\\">\\n                        <span class=\\\"letter-space\\\"></span>\\n                        <adapt-icon\\n                          [name]=\\\"'question_circle_o'\\\"\\n                          [adaptPopover]=\\\"columnProperty.tooltip.content\\\"\\n                          appendToBody=\\\"true\\\"\\n                        >\\n                        </adapt-icon>\\n                      </span>\\n                    </div>\\n                    <rx-column-editor-alignment\\n                      *ngIf=\\\"columnProperty.name === 'alignment'\\\"\\n                      [isReadOnly]=\\\"isReadOnly\\\"\\n                      [column]=\\\"column\\\"\\n                      [columnProperty]=\\\"columnProperty\\\"\\n                      class=\\\"flex-fill\\\"\\n                      [ngModel]=\\\"column.alignment\\\"\\n                      (ngModelChange)=\\\"markAsDirty()\\\"\\n                      ngDefaultControl\\n                    ></rx-column-editor-alignment>\\n                  </ng-container>\\n                </div>\\n\\n                <div class=\\\"d-flex flex-row\\\">\\n                  <rx-stepper-with-units-form-control\\n                    class=\\\"d-block col-5 p-0\\\"\\n                    [options]=\\\"columnWidthPropertyOptions\\\"\\n                    [(ngModel)]=\\\"column.width\\\"\\n                    (ngModelChange)=\\\"markAsDirty()\\\"\\n                  ></rx-stepper-with-units-form-control>\\n\\n                  <rx-select-form-control\\n                    *ngIf=\\\"column.filterable && column.fieldDefinition.namedListDefinition\\\"\\n                    class=\\\"d-block col-5 p-0 pb-2 pl-5\\\"\\n                    [options]=\\\"typeaheadKeystrokeCountOptions\\\"\\n                    [(ngModel)]=\\\"column.typeaheadKeystrokeCount\\\"\\n                    (ngModelChange)=\\\"markAsDirty()\\\"\\n                    [disabled]=\\\"isReadOnly\\\"\\n                  ></rx-select-form-control>\\n                </div>\\n\\n                <rx-expression-form-control\\n                  #additionalQueryCriteriaExpression\\n                  *ngIf=\\\"column.filterable && column.fieldDefinition.namedListDefinition\\\"\\n                  rx-id=\\\"additional-query-criteria-expression\\\"\\n                  class=\\\"d-block p-0 pb-2\\\"\\n                  [options]=\\\"column.additionalQueryCriteriaExpressionOptions\\\"\\n                  [(ngModel)]=\\\"column.additionalQueryCriteria\\\"\\n                  (events)=\\\"openAdditionalQueryCriteriaExpressionEditor(column, additionalQueryCriteriaExpression)\\\"\\n                  [disabled]=\\\"isReadOnly\\\"\\n                ></rx-expression-form-control>\\n\\n                <rx-cell-display-properties\\n                  class=\\\"d-block pb-2\\\"\\n                  [columns]=\\\"columns\\\"\\n                  [columnName]=\\\"column.title\\\"\\n                  [disabled]=\\\"isReadOnly\\\"\\n                  [(ngModel)]=\\\"column.cellDisplayProperties\\\"\\n                  (ngModelChange)=\\\"markAsDirty()\\\"\\n                ></rx-cell-display-properties>\\n\\n                <rx-named-filter-options\\n                  class=\\\"d-block pb-2\\\"\\n                  [column]=\\\"column\\\"\\n                  [disabled]=\\\"isReadOnly\\\"\\n                  [(ngModel)]=\\\"column.namedFilterOptions\\\"\\n                  (ngModelChange)=\\\"markAsDirty()\\\"\\n                  tooltip=\\\"{{\\n                    'com.bmc.arsys.rx.client.view-components.record-grid-column.named-filter-options-field.tooltip'\\n                      | translate\\n                  }}\\\"\\n                ></rx-named-filter-options>\\n\\n                <rx-action-list-control\\n                  class=\\\"d-block\\\"\\n                  [disabled]=\\\"isReadOnly\\\"\\n                  [(ngModel)]=\\\"column.actions\\\"\\n                  (ngModelChange)=\\\"markAsDirty()\\\"\\n                  tooltip=\\\"{{\\n                    'com.bmc.arsys.rx.client.view-components.record-grid-column.column-actions-field.tooltip'\\n                      | translate\\n                  }}\\\"\\n                ></rx-action-list-control>\\n              </ng-template>\\n\\n              <ng-template #actionsColumnEditorTemplate>\\n                <adapt-rx-textfield\\n                  class=\\\"rx-record-grid-column-editor-text-field d-block form-group\\\"\\n                  label=\\\"{{\\n                    'com.bmc.arsys.rx.client.view-components.record-grid-column.column-header-field.label' | translate\\n                  }}\\\"\\n                  [disabled]=\\\"isReadOnly\\\"\\n                  [(ngModel)]=\\\"column.title\\\"\\n                  (ngModelChange)=\\\"markAsDirty()\\\"\\n                ></adapt-rx-textfield>\\n\\n                <rx-stepper-with-units-form-control\\n                  class=\\\"d-block col-5 p-0\\\"\\n                  [options]=\\\"columnWidthPropertyOptions\\\"\\n                  [(ngModel)]=\\\"column.width\\\"\\n                  (ngModelChange)=\\\"markAsDirty()\\\"\\n                ></rx-stepper-with-units-form-control>\\n\\n                <div class=\\\"d-flex flex-wrap\\\">\\n                  <div\\n                    class=\\\"checkbox rx-record-grid-column-editor__checkbox-field\\\"\\n                    *ngFor=\\\"let actionsColumnProperty of actionsColumnProperties; trackBy: trackByForColumnProperties\\\"\\n                  >\\n                    <label>\\n                      <input\\n                        type=\\\"checkbox\\\"\\n                        [(ngModel)]=\\\"column[actionsColumnProperty.name]\\\"\\n                        (ngModelChange)=\\\"markAsDirty()\\\"\\n                        [disabled]=\\\"!isPropertyEditable(column, actionsColumnProperty.name)\\\"\\n                      />\\n\\n                      <span class=\\\"checkbox__item\\\">{{ actionsColumnProperty.label }}</span>\\n                    </label>\\n                  </div>\\n                </div>\\n              </ng-template>\\n            </adapt-accordion-tab>\\n          </div>\\n        </adapt-accordion>\\n      </div>\\n\\n      <div *ngIf=\\\"!columns.length\\\" class=\\\"d-flex justify-content-center h-100 align-items-center mt-2\\\">\\n        <adapt-empty-state\\n          class=\\\"w-100\\\"\\n          label=\\\"{{\\n            'com.bmc.arsys.rx.client.view-components.record-grid-column.selected-columns.empty-state.message'\\n              | translate\\n          }}\\\"\\n          type=\\\"grid\\\"\\n        ></adapt-empty-state>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button\\n    *ngIf=\\\"!isReadOnly\\\"\\n    adapt-button\\n    btn-type=\\\"primary\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"save-button\\\"\\n    [disabled]=\\\"!isDirty()\\\"\\n    (click)=\\\"saveChanges()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n\\n  <button adapt-button btn-type=\\\"secondary\\\" type=\\\"button\\\" rx-id=\\\"cancel-button\\\" (click)=\\\"cancel()\\\">\\n    {{\\n      isReadOnly\\n        ? ('com.bmc.arsys.rx.client.common.close.label' | translate)\\n        : ('com.bmc.arsys.rx.client.common.cancel.label' | translate)\\n    }}\\n  </button>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.designer-modal-body{height:645px;min-height:calc(100% - 61px)!important}.designer-modal-accordion-wrapper{display:flex;flex-direction:column;height:100%;overflow:auto;padding-top:10px}.designer-modal-accordion-content{position:relative}.designer-modal-accordion-content.cdk-drag-preview{z-index:1200!important}.designer-modal-drag-handle{cursor:move;position:absolute;top:0;left:0;height:46px;padding:14px 10px 14px 14px;z-index:1}.designer-modal-card-title-content{width:100%;display:flex}.designer-modal-card-title-content .left-header-block,.designer-modal-card-title-content .right-header-block{display:flex;align-items:center}.designer-modal-card-title-content .left-header-block{flex-grow:1;min-width:0;font-size:14px;padding-left:22px}.designer-modal-card-sub-title{color:#7c7f81;font-weight:normal}.designer-modal-card-title-index-buttons{display:flex;font-size:19px}.rx-card{overflow:auto}.rx-tree-draggable-node{cursor:pointer}.rx-tree-draggable-node.cdk-drag-preview{z-index:1200!important}.rx-tree-draggable-node.cdk-drag{opacity:1}.rx-tree-node-label{word-break:break-all}rx-form-builder{max-width:400px}.rx-record-grid-column-editor__checkbox-field{flex-basis:20%;min-width:140px}.rx-record-grid-column-editor__checkbox-field+.rx-record-grid-column-editor__checkbox-field{margin-top:calc(.5rem + 1px)!important}\\n\"], components: [{ type: i1.AdaptTreeComponent, selector: \"adapt-tree\", inputs: [\"value\", \"filter\", \"texts\", \"filterBtnClearText\", \"filterPlaceholder\", \"testID\", \"lazy\", \"lazyLoading\", \"trim\", \"wrap\", \"selectAllButton\", \"deselectAllButton\", \"treeScrollHeight\", \"adaptRadarDisableEventSending\", \"draggableScope\", \"droppableScope\", \"draggableNodes\", \"droppableNodes\", \"validateDrop\"], outputs: [\"onNodeDrop\", \"lazyLoad\"] }, { type: i1.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }, { type: i1.AdaptAccordionComponent, selector: \"adapt-accordion\", inputs: [\"config\", \"multiselect\", \"bordered\"], outputs: [\"openTab\", \"closeTab\"] }, { type: i1.AdaptAccordionTabComponent, selector: \"adapt-accordion-tab\", inputs: [\"title\", \"renderContentWhenClosed\", \"customClass\", \"multiline\", \"icon\", \"disabled\", \"isOpen\"], outputs: [\"open\", \"close\"] }, { type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i1.AdaptIconComponent, selector: \"adapt-icon\", inputs: [\"name\", \"classList\", \"description\", \"testID\"] }, { type: ColumnEditorAlignmentComponent, selector: \"rx-column-editor-alignment\", inputs: [\"column\", \"isReadOnly\", \"columnProperty\"] }, { type: i2$5.StepperWithUnitsFormControlComponent, selector: \"rx-stepper-with-units-form-control\", inputs: [\"options\"] }, { type: i2$5.SelectFormControlComponent, selector: \"rx-select-form-control\", inputs: [\"options\", \"appendToBody\", \"formControl\"] }, { type: i2$5.ExpressionFormControlComponent, selector: \"rx-expression-form-control\", inputs: [\"options\", \"isDisabled\", \"propertyPath\"], outputs: [\"events\"] }, { type: RecordGridCellDisplayPropertiesComponent, selector: \"rx-cell-display-properties\", inputs: [\"columnName\", \"columns\"] }, { type: RecordGridNamedFilterOptionsComponent, selector: \"rx-named-filter-options\", inputs: [\"column\", \"tooltip\"] }, { type: i1$3.ActionListControlComponent, selector: \"rx-action-list-control\", inputs: [\"options\", \"tooltip\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i8.CdkDropList, selector: \"[cdkDropList], cdk-drop-list\", inputs: [\"cdkDropListConnectedTo\", \"id\", \"cdkDropListEnterPredicate\", \"cdkDropListSortPredicate\", \"cdkDropListDisabled\", \"cdkDropListSortingDisabled\", \"cdkDropListAutoScrollDisabled\", \"cdkDropListOrientation\", \"cdkDropListLockAxis\", \"cdkDropListData\", \"cdkDropListAutoScrollStep\"], outputs: [\"cdkDropListDropped\", \"cdkDropListEntered\", \"cdkDropListExited\", \"cdkDropListSorted\"], exportAs: [\"cdkDropList\"] }, { type: i1.AdaptTreeNodeTemplateDirective, selector: \"[adaptTreeNodeTemplate]\", inputs: [\"adaptTreeNodeTemplate\"] }, { type: i8.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragDisabled\", \"cdkDragStartDelay\", \"cdkDragLockAxis\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragBoundary\", \"cdkDragRootElement\", \"cdkDragPreviewContainer\", \"cdkDragData\", \"cdkDragFreeDragPosition\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i8.CdkDragHandle, selector: \"[cdkDragHandle]\", inputs: [\"cdkDragHandleDisabled\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i2$3.CheckboxControlValueAccessor, selector: \"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]\" }, { type: i1.AdaptPopoverDirective, selector: \"[adaptPopover]\", inputs: [\"adaptPopover\", \"popoverTitle\", \"placement\", \"fallbackPlacement\", \"triggers\", \"container\", \"appendToBody\", \"closeBtn\", \"popupDelay\", \"disablePopover\", \"popoverClass\", \"autoClose\", \"closeOnOutOfView\", \"maxWidth\", \"minWidth\"], outputs: [\"shown\", \"hidden\"], exportAs: [\"adaptPopover\"] }, { type: i2$3.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }], pipes: { \"translate\": i2.TranslatePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridColumnEditorModalComponent, decorators: [{\n            type: Component,\n            args: [{\n                    templateUrl: './record-grid-column-editor-modal.component.html',\n                    styleUrls: ['./record-grid-column-editor-modal.component.scss'],\n                    encapsulation: ViewEncapsulation.None,\n                    changeDetection: ChangeDetectionStrategy.OnPush\n                }]\n        }], ctorParameters: function () { return [{ type: i1.ActiveModalRef }, { type: i1$6.RxModalService }, { type: i1$1.RxDefinitionNameService }, { type: RxRecordGridUtilsService }, { type: i1$5.RxFieldDefinitionService }, { type: i1$5.RxRecordDefinitionCacheService }, { type: i2$1.RxGuidService }, { type: i0.NgZone }, { type: i0.Injector }, { type: i2.TranslateService }, { type: i2$5.RxExpressionEditorService }]; }, propDecorators: { draggableSelectedColumns: [{\n                type: ViewChildren,\n                args: ['draggableSelectedColumn', { read: CdkDrag }]\n            }], selectedColumnsDropList: [{\n                type: ViewChild,\n                args: ['selectedColumnsDropList', { read: CdkDropList }]\n            }], draggableAssociatedAvailableColumns: [{\n                type: ViewChildren,\n                args: ['draggableAssociatedAvailableColumn', { read: CdkDrag }]\n            }], actionListControlComponents: [{\n                type: ViewChildren,\n                args: [ActionListControlComponent]\n            }], associatedAvailableColumnsDropList: [{\n                type: ViewChild,\n                args: ['associatedAvailableColumnsDropList', { read: CdkDropList }]\n            }], accordionTabEls: [{\n                type: ViewChildren,\n                args: [AdaptAccordionTabComponent, { read: ElementRef }]\n            }] } });\n\nclass RecordGridColumnEditorControlComponent extends ValueAccessor {\n    constructor(rxModalService, rxFieldDefinitionService, rxRecordGridConfigUtilsService, rxRecordGridUtilsService) {\n        super();\n        this.rxModalService = rxModalService;\n        this.rxFieldDefinitionService = rxFieldDefinitionService;\n        this.rxRecordGridConfigUtilsService = rxRecordGridConfigUtilsService;\n        this.rxRecordGridUtilsService = rxRecordGridUtilsService;\n        this.updateColumnsSubject = new BehaviorSubject([]);\n        this.columns$ = this.updateColumnsSubject.pipe(switchMap((inspectorColumns) => forkJoin(inspectorColumns.map((inspectorColumn) => forkJoin([\n            this.rxRecordGridUtilsService.getAssociationDescriptor(inspectorColumn.fieldId, this.options.recordDefinition),\n            this.rxRecordGridUtilsService.getFieldDefinition(inspectorColumn.fieldId, this.options.recordDefinition)\n        ]).pipe(map(([associationDescriptor, fieldDefinition]) => ({\n            associationDescriptor,\n            fieldDefinition,\n            inspectorColumn\n        }))))).pipe(defaultIfEmpty([]), map((columnsData) => columnsData.map((columnData) => {\n            var _a;\n            return Object.assign(Object.assign({}, columnData.inspectorColumn), { fieldDefinition: columnData.fieldDefinition, associationDescriptor: columnData.associationDescriptor, title: (_a = columnData.inspectorColumn.title) === null || _a === void 0 ? void 0 : _a.trim(), searchable: has(columnData.inspectorColumn, 'searchable')\n                    ? this.rxRecordGridConfigUtilsService.getBooleanValue(columnData.inspectorColumn.searchable)\n                    : columnData.inspectorColumn.filterable &&\n                        this.rxRecordGridUtilsService.isSearchable(columnData.fieldDefinition, this.options.recordDefinition), fallbackTitle: `[${columnData.fieldDefinition.name}]` });\n        })), shareReplay(1))));\n    }\n    ngOnChanges(changes) {\n        var _a;\n        if (((_a = changes.options) === null || _a === void 0 ? void 0 : _a.previousValue) &&\n            changes.options.currentValue.recordDefinition.name !==\n                changes.options.previousValue.recordDefinition.name) {\n            this.updateColumnsSubject.next(this.value);\n        }\n    }\n    onWriteValue(inspectorColumns) {\n        this.updateColumnsSubject.next(inspectorColumns);\n    }\n    removeColumn(columnData) {\n        this.updateValue(this.value.filter((column) => column.fieldId !== columnData.fieldId));\n    }\n    updateValue(columns) {\n        this.value = columns;\n        this.onWriteValue(columns);\n    }\n    openEditor(columnGuid, activeActionIndex) {\n        this.columns$.pipe(take(1)).subscribe((columns) => {\n            const data = {\n                isReadOnly: this.isDisabled,\n                columns,\n                activeColumn: columns.find((item) => item.guid === columnGuid),\n                recordDefinition: this.options.recordDefinition,\n                activeActionIndex\n            };\n            this.rxModalService\n                .openModal({\n                title: 'Edit grid columns',\n                content: RecordGridColumnEditorModalComponent,\n                data: {\n                    columnParams: data\n                },\n                size: OpenViewActionModalSize.Large,\n                testID: 'edit-grid-columns'\n            })\n                .then((result) => {\n                if (result && result.columns) {\n                    this.updateValue(result.columns);\n                }\n            })\n                .catch(noop);\n        });\n    }\n    focus(data) {\n        this.openEditor(data === null || data === void 0 ? void 0 : data.columnGuid, data === null || data === void 0 ? void 0 : data.actionIndex);\n    }\n    getColumnResourceTypeName(column) {\n        const resourceType = RX_RECORD_DEFINITION.resourceTypesByFullName[column.fieldDefinition.resourceType];\n        return get(RX_RECORD_DEFINITION.dataTypes[resourceType], 'displayName', '');\n    }\n    getSortedColumns(columns) {\n        return columns.sort((column1, column2) => column1.index - column2.index);\n    }\n    trackByForColumns(index, column) {\n        return column.fieldId;\n    }\n    isActionsColumn(fieldId) {\n        return fieldId === RX_RECORD_GRID.actionsColumnFieldDefinition.id;\n    }\n    ngOnDestroy() {\n        this.updateColumnsSubject.complete();\n    }\n}\nRecordGridColumnEditorControlComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridColumnEditorControlComponent, deps: [{ token: i1$6.RxModalService }, { token: i1$5.RxFieldDefinitionService }, { token: RxRecordGridConfigUtilsService }, { token: RxRecordGridUtilsService }], target: i0.ɵɵFactoryTarget.Component });\nRecordGridColumnEditorControlComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordGridColumnEditorControlComponent, selector: \"rx-record-grid-column-editor\", inputs: { options: \"options\" }, providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: RecordGridColumnEditorControlComponent,\n            multi: true\n        }\n    ], usesInheritance: true, usesOnChanges: true, ngImport: i0, template: \"<adapt-button btn-type=\\\"tertiary\\\" rx-id=\\\"open-modal-button\\\" class=\\\"p-0 pb-1\\\" (click)=\\\"openEditor()\\\">\\n  <span class=\\\"d-icon-plus_circle\\\"></span>\\n  Edit grid columns\\n</adapt-button>\\n\\n<div *ngIf=\\\"columns$ | async as columns\\\">\\n  <div rx-id=\\\"columns\\\">\\n    <span *ngIf=\\\"columns.length === 0\\\" class=\\\"text-tertiary\\\"> No grid columns added. </span>\\n  </div>\\n\\n  <div class=\\\"rx-selected-column\\\" *ngFor=\\\"let column of getSortedColumns(columns); trackBy: trackByForColumns\\\">\\n    <div class=\\\"rx-selected-column__header-container\\\">\\n      <span\\n        class=\\\"rx-selected-column__header-title\\\"\\n        rx-id=\\\"card-title\\\"\\n        [ngClass]=\\\"{ 'd-icon-left-arrow_schema': column.associationDescriptor }\\\"\\n        [title]=\\\"column.title\\\"\\n      >\\n        {{ column.title || column.fallbackTitle }}\\n      </span>\\n\\n      <button\\n        type=\\\"button\\\"\\n        class=\\\"rx-button-unstyled d-icon-left-pencil btn-link\\\"\\n        rx-id=\\\"open-editor\\\"\\n        (click)=\\\"openEditor(column.guid)\\\"\\n        *ngIf=\\\"!isDisabled\\\"\\n      ></button>\\n      <button\\n        type=\\\"button\\\"\\n        class=\\\"rx-button-unstyled d-icon-cross btn-link\\\"\\n        rx-id=\\\"remove-column\\\"\\n        (click)=\\\"removeColumn(column)\\\"\\n        *ngIf=\\\"!isActionsColumn(column.fieldId) && !isDisabled\\\"\\n      ></button>\\n    </div>\\n\\n    <div class=\\\"rx-column-type\\\" rx-id=\\\"column-type\\\">\\n      {{ getColumnResourceTypeName(column) }}\\n      <span *ngIf=\\\"column.associationDescriptor\\\">\\u2013 {{ column.associationDescriptor.label }}</span>\\n    </div>\\n  </div>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.rx-selected-column{margin-bottom:5px;border:1px solid #d6d7d8;border-radius:2px;padding:5px 10px;word-break:break-all;font-weight:var(--font-weight-bold)}.rx-selected-column__header-container{display:flex;margin-bottom:5px}.rx-selected-column__header-title{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;font-size:14px}.rx-column-type{color:#959899;font-size:10px;overflow:hidden;text-overflow:ellipsis}.d-icon-cross,.d-icon-left-pencil{cursor:pointer}.d-icon-cross:not(:hover),.d-icon-left-pencil:not(:hover){color:#313538}\\n\"], components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridColumnEditorControlComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-record-grid-column-editor',\n                    templateUrl: './record-grid-column-editor-control.component.html',\n                    styleUrls: ['./record-grid-column-editor-control.component.scss'],\n                    providers: [\n                        {\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: RecordGridColumnEditorControlComponent,\n                            multi: true\n                        }\n                    ]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$6.RxModalService }, { type: i1$5.RxFieldDefinitionService }, { type: RxRecordGridConfigUtilsService }, { type: RxRecordGridUtilsService }]; }, propDecorators: { options: [{\n                type: Input\n            }] } });\n\nvar QueryFiltersLogic;\n(function (QueryFiltersLogic) {\n    QueryFiltersLogic[\"And\"] = \"AND\";\n    QueryFiltersLogic[\"Or\"] = \"OR\";\n})(QueryFiltersLogic || (QueryFiltersLogic = {}));\n\nclass RxRecordGridAdvancedFilterValue {\n    constructor(value, namedOptions = []) {\n        this.namedOptions = [];\n        this.filterValue = value;\n        if (Array.isArray(namedOptions)) {\n            this.namedOptions = namedOptions;\n        }\n    }\n    get length() {\n        return ((Array.isArray(this.filterValue) ? this.filterValue.length : isNil(this.filterValue) ? 0 : 1) +\n            this.namedOptions.length);\n    }\n    static isEmpty(item) {\n        return item instanceof RxRecordGridAdvancedFilterValue && !item.length;\n    }\n    static isEmptyWithRange(item) {\n        return (item instanceof RxRecordGridAdvancedFilterValue &&\n            !item.namedOptions.length &&\n            AdvancedFilterDataTypesConfigsService.isEmptyOnEmptyValues(item.filterValue));\n    }\n}\n\nclass RxRecordGridAdvancedFilteringService {\n    constructor(rxRecordDefinitionService, rxObjectUtilsService, rxRecordGridUtilsService, rxNamedListService, advancedFilterDataTypesConfigsService, adaptTranslateService) {\n        this.rxRecordDefinitionService = rxRecordDefinitionService;\n        this.rxObjectUtilsService = rxObjectUtilsService;\n        this.rxRecordGridUtilsService = rxRecordGridUtilsService;\n        this.rxNamedListService = rxNamedListService;\n        this.advancedFilterDataTypesConfigsService = advancedFilterDataTypesConfigsService;\n        this.adaptTranslateService = adaptTranslateService;\n        this.translation = this.adaptTranslateService.getCurrentLanguage();\n        this.adaptTexts = {\n            fromLabel: this.translation['adapt.advancedFilter.configsTexts.fromLabel'],\n            toLabel: this.translation['adapt.advancedFilter.configsTexts.toLabel'],\n            trueLabel: this.translation['adapt.advancedFilter.configsTexts.trueLabel'],\n            falseLabel: this.translation['adapt.advancedFilter.configsTexts.falseLabel'],\n            blankLabel: this.translation['adapt.advancedFilter.configsTexts.blankLabel'],\n            validationErrors: {\n                invalidRangeName: this.translation['adapt.advancedFilter.validationErrors.invalidRangeName'],\n                invalidRangeText: this.translation['adapt.advancedFilter.validationErrors.invalidRangeText'],\n                numberTypeTexts: {\n                    fromValueMustBeNumber: this.translation['adapt.advancedFilter.validationErrors.numberTypeTexts.fromValueMustBeNumber'],\n                    toValueMustBeNumber: this.translation['adapt.advancedFilter.validationErrors.numberTypeTexts.toValueMustBeNumber'],\n                    invalidBetweenMinAndMax: this.translation['adapt.advancedFilter.validationErrors.numberTypeTexts.invalidBetweenMinAndMax'],\n                    invalidMinValue: this.translation['adapt.advancedFilter.validationErrors.numberTypeTexts.invalidMinValue'],\n                    invalidMaxValue: this.translation['adapt.advancedFilter.validationErrors.numberTypeTexts.invalidMaxValue']\n                }\n            }\n        };\n        this.defaultConfig = this.advancedFilterDataTypesConfigsService.getConfigs(this.adaptTexts);\n    }\n    addAssociationFieldsToFieldDefinitionsById(fieldDefinitionsById, associationDescriptors, associatedRecordDefinitions) {\n        associationDescriptors.forEach((associationDescriptor) => {\n            const associatedRecordDefinition = associatedRecordDefinitions.find((recordDefinition) => recordDefinition.name === associationDescriptor.recordDefinitionName);\n            associatedRecordDefinition.fieldDefinitions.forEach((fieldDefinition) => {\n                const field = this.rxRecordGridUtilsService.getFieldIdForGridColumn(fieldDefinition.id, associationDescriptor);\n                if (!fieldDefinitionsById[field]) {\n                    this.rxRecordDefinitionService.addFieldDefinitionToMap(fieldDefinition, fieldDefinitionsById, field);\n                }\n            });\n        });\n        fieldDefinitionsById = Object.assign(Object.assign({}, fieldDefinitionsById), this.rxObjectUtilsService.expandProperties(fieldDefinitionsById));\n        return fieldDefinitionsById;\n    }\n    getAdvancedFilterOption(fieldId, header, fieldDefinition, filterConfig, isHidden, customFilterTemplates, prefixLabel, namedFilterOptions, typeaheadKeystrokeCount, additionalQueryCriteria) {\n        const config = {\n            id: fieldId,\n            label: header,\n            dataType: filterConfig.filterOptionDataType,\n            isHidden,\n            data: isFunction(filterConfig.getDataForAdvancedFilter)\n                ? filterConfig.getDataForAdvancedFilter(fieldDefinition, fieldId)\n                : null\n        };\n        namedFilterOptions = namedFilterOptions !== null && namedFilterOptions !== void 0 ? namedFilterOptions : [];\n        if (filterConfig.filterOptionDataType === AdvancedFilterOptionDataType.boolean) {\n            config.inputsTemplate =\n                fieldDefinition.fieldOption !== RecordFieldOption.Required\n                    ? customFilterTemplates.optionalBooleanFilter\n                    : customFilterTemplates.requiredBooleanFilter;\n            config.customConfig = {\n                getExpressionFieldTips: (filterOption) => {\n                    const data = filterOption.data;\n                    const selectOptions = (data === null || data === void 0 ? void 0 : data.selectOptions) || [];\n                    const namedFilterOptionTips = this.getNamedFilterOptionTips(namedFilterOptions, filterOption, config.customConfig);\n                    return namedFilterOptionTips.concat(selectOptions.map((selectOption) => {\n                        return AdvancedFilterDataTypesConfigsService.createAdvancedFilterTag(new RxRecordGridAdvancedFilterValue([selectOption.id]), filterOption, config.customConfig, false, formatAdvancedFilterTagText(filterOption, selectOption.name));\n                    }));\n                },\n                formatValueForTag: (value, option) => {\n                    const data = option.data;\n                    const selectOptions = (data === null || data === void 0 ? void 0 : data.selectOptions) || [];\n                    const filterValueLabels = value.filterValue.map((id) => selectOptions.find((selectOption) => selectOption.id === id).name);\n                    return this.buildTagLabel(filterValueLabels, this.getNamedOptionTitles(value, namedFilterOptions));\n                },\n                needRemoveTagValue: (value) => RxRecordGridAdvancedFilterValue.isEmpty(value),\n                updateFilterValue: (newValue, oldValue, filterOption) => this.updateFilterValue(oldValue, newValue, filterOption.data.isRequired),\n                parseTagFieldExpression: (filterOption, searchTerm) => {\n                    const rawValues = AdvancedFilterDataTypesConfigsService.getExpressionRawValues(filterOption, searchTerm);\n                    const value = this.getFilterValueFromString(namedFilterOptions, rawValues);\n                    const data = filterOption.data;\n                    const selectOptions = (data === null || data === void 0 ? void 0 : data.selectOptions) || [];\n                    value.filterValue =\n                        value.filterValue\n                            .map((optionLabel) => {\n                            var _a;\n                            optionLabel = optionLabel.trim().toLowerCase();\n                            const selectOption = selectOptions.find((option) => option.name.toLowerCase() === optionLabel);\n                            return (_a = selectOption === null || selectOption === void 0 ? void 0 : selectOption.id) !== null && _a !== void 0 ? _a : null;\n                        })\n                            .filter((val) => !isNil(val)) || [];\n                    return value.length ? { value } : null;\n                }\n            };\n        }\n        if (filterConfig.filterOptionDataType === AdvancedFilterOptionDataType.string) {\n            if (fieldDefinition.namedListDefinition) {\n                config.inputsTemplate = customFilterTemplates.inputsForStringWithTypeAheadTemplate;\n                config.data = Object.assign(Object.assign({}, config.data), { typeaheadKeystrokeCount, additionalQueryCriteria });\n            }\n            else {\n                config.inputsTemplate = customFilterTemplates.inputsForStringTypeTemplate;\n            }\n            config.customConfig = {\n                needRemoveTagValue(value) {\n                    return RxRecordGridAdvancedFilterValue.isEmpty(value);\n                },\n                formatValueForTag: (value, filterOption) => this.buildTagLabel(value.filterValue, this.getNamedOptionTitles(value, namedFilterOptions)),\n                getExpressionFieldTips: (option, searchTerm) => {\n                    return [\n                        ...this.getNamedFilterOptionTips(namedFilterOptions, option, config.customConfig),\n                        AdvancedFilterDataTypesConfigsService.createAdvancedFilterTag(new RxRecordGridAdvancedFilterValue(), option, config.customConfig, true, formatAdvancedFilterTagText(option, ''))\n                    ];\n                },\n                updateFilterValue: (newValue, oldValue, filterOption) => this.updateFilterValue(oldValue, newValue),\n                parseTagFieldExpression: (filterOption, searchTerm) => {\n                    return this.parseStringTagFieldExpression(filterOption, searchTerm, namedFilterOptions);\n                }\n            };\n        }\n        if (filterConfig.filterOptionDataType === AdvancedFilterOptionDataType.selection) {\n            config.inputsTemplate = customFilterTemplates.inputsForSelectionTypeTemplate;\n            config.customConfig = {\n                needRemoveTagValue(value) {\n                    return RxRecordGridAdvancedFilterValue.isEmpty(value);\n                },\n                formatValueForTag: (value, option) => {\n                    const filterValueLabels = this.defaultConfig[filterConfig.filterOptionDataType].formatValueForTag(value.filterValue, option);\n                    return this.buildTagLabel(filterValueLabels, this.getNamedOptionTitles(value, namedFilterOptions));\n                },\n                getExpressionFieldTips: (filterOption, searchTerm) => {\n                    const data = filterOption.data;\n                    const selectOptions = (data && data.selectOptions) || [];\n                    return this.getNamedFilterOptionTips(namedFilterOptions, filterOption, config.customConfig).concat(selectOptions.map((selectOption) => {\n                        return AdvancedFilterDataTypesConfigsService.createAdvancedFilterTag(new RxRecordGridAdvancedFilterValue([selectOption.id]), filterOption, config.customConfig, false, formatAdvancedFilterTagText(filterOption, selectOption.name));\n                    }));\n                },\n                updateFilterValue: (newValue, oldValue, filterOption) => this.updateFilterValue(oldValue, newValue),\n                parseTagFieldExpression: (filterOption, searchTerm) => {\n                    return this.parseStringTagFieldExpression(filterOption, searchTerm, namedFilterOptions);\n                }\n            };\n        }\n        if (filterConfig.filterOptionDataType === AdvancedFilterOptionDataType.datetime) {\n            config.inputsTemplate = customFilterTemplates.inputsForDatetimeTypeTemplate;\n            config.customConfig = this.getDatetimeCustomConfig(namedFilterOptions, config, AdvancedFilterOptionDataType.datetime, 'll LTS');\n        }\n        if (filterConfig.filterOptionDataType === AdvancedFilterOptionDataType.date) {\n            config.inputsTemplate = customFilterTemplates.inputsForDateTypeTemplate;\n            config.customConfig = this.getDatetimeCustomConfig(namedFilterOptions, config, AdvancedFilterOptionDataType.date, 'll');\n        }\n        if (filterConfig.filterOptionDataType === AdvancedFilterOptionDataType.time) {\n            config.inputsTemplate = customFilterTemplates.inputsForTimeTypeTemplate;\n            config.customConfig = this.getDatetimeCustomConfig(namedFilterOptions, config, AdvancedFilterOptionDataType.time, 'LTS');\n        }\n        if (filterConfig.filterOptionDataType === AdvancedFilterOptionDataType.number) {\n            config.inputsTemplate = customFilterTemplates.inputsForNumberTypeTemplate;\n            config.customConfig = {\n                needRemoveTagValue(value) {\n                    return RxRecordGridAdvancedFilterValue.isEmptyWithRange(value);\n                },\n                getExpressionFieldTips: (option, searchTerm) => {\n                    return this.getNamedFilterOptionTips(namedFilterOptions, option, config.customConfig, [null, null]).concat(this.defaultConfig[filterConfig.filterOptionDataType].getExpressionFieldTips(option, searchTerm));\n                },\n                updateFilterValue: (newValue, oldValue, filterOption) => {\n                    newValue.filterValue = this.defaultConfig[filterConfig.filterOptionDataType].updateFilterValue(newValue.filterValue, oldValue.filterValue, filterOption);\n                    newValue.namedOptions = uniq(oldValue.namedOptions.concat(newValue.namedOptions));\n                    return newValue;\n                },\n                formatValueForTag: (value) => {\n                    const formattedValue = value.filterValue.filter((val) => val != null).join(' - ');\n                    return this.buildTagLabel(formattedValue, this.getNamedOptionTitles(value, namedFilterOptions));\n                },\n                parseTagFieldExpression: (filterOption, searchTerm) => {\n                    var _a, _b;\n                    const { value: valuesStr, label } = this.getExpressionRawValues(filterOption, searchTerm);\n                    if (!valuesStr) {\n                        return null;\n                    }\n                    const value = this.getFilterValueFromString(namedFilterOptions, valuesStr);\n                    value.filterValue =\n                        (_b = (_a = this.defaultConfig[filterConfig.filterOptionDataType].parseTagFieldExpression(filterOption, `${label} ${value.filterValue[0]}`)) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : [];\n                    return value.length ? { value } : null;\n                },\n                validateValue: (value, filterOption) => this.defaultConfig[filterConfig.filterOptionDataType].validateValue(value.filterValue, filterOption)\n            };\n        }\n        if (prefixLabel) {\n            const prefixConfig = {\n                getTagText(value, option, formattedValue) {\n                    return `${prefixLabel}: ${formattedValue}`;\n                }\n            };\n            config.customConfig = Object.assign(Object.assign({}, config.customConfig), prefixConfig);\n        }\n        return config;\n    }\n    parseStringTagFieldExpression(filterOption, searchTerm, namedFilterOptions) {\n        const valuesStr = AdvancedFilterDataTypesConfigsService.getExpressionRawValues(filterOption, searchTerm);\n        if (!valuesStr) {\n            return null;\n        }\n        const value = this.getFilterValueFromString(namedFilterOptions, valuesStr);\n        return value.length ? { value } : null;\n    }\n    updateFilterValue(oldValue, newValue, replaceFilterValue = false) {\n        if (!replaceFilterValue) {\n            newValue.filterValue = uniq(oldValue.filterValue.concat(newValue.filterValue));\n        }\n        newValue.namedOptions = uniq(oldValue.namedOptions.concat(newValue.namedOptions));\n        return newValue;\n    }\n    buildTagLabel(filterValueLabels, namedOptionTitles, filterValueSeparator = ', ', namedOptionsSeparator = '; ') {\n        return [\n            isString(filterValueLabels)\n                ? filterValueLabels\n                : isArray(filterValueLabels) && !isEmpty(filterValueLabels)\n                    ? this.rxNamedListService.isNamedListOption(filterValueLabels[0])\n                        ? filterValueLabels.map((value) => { var _a; return (_a = value.displayValue) !== null && _a !== void 0 ? _a : value.value; }).join(filterValueSeparator)\n                        : filterValueLabels.join(filterValueSeparator)\n                    : '',\n            ...namedOptionTitles\n        ]\n            .filter(Boolean)\n            .join(namedOptionsSeparator);\n    }\n    getNamedOptionTitles(value, options) {\n        const optionGuids = options.map((option) => option.guid);\n        return value.namedOptions\n            .sort((option1, option2) => optionGuids.indexOf(option1) - optionGuids.indexOf(option2))\n            .map((guid) => { var _a; return (_a = options.find((option) => option.guid === guid)) === null || _a === void 0 ? void 0 : _a.title; });\n    }\n    getDatetimeCustomConfig(namedFilterOptions, config, fieldType, tagValueFormat) {\n        return {\n            getExpressionFieldTips: (option, searchTerm) => {\n                return this.getNamedFilterOptionTips(namedFilterOptions, option, config.customConfig).concat(this.defaultConfig[fieldType].getExpressionFieldTips(option, searchTerm));\n            },\n            needRemoveTagValue(value) {\n                return RxRecordGridAdvancedFilterValue.isEmptyWithRange(value);\n            },\n            formatValueForTag: (value) => {\n                const formattedValue = value.filterValue\n                    .filter((val) => val)\n                    .map((date) => moment(date).format(tagValueFormat))\n                    .join(' - ');\n                return this.buildTagLabel(formattedValue, this.getNamedOptionTitles(value, namedFilterOptions));\n            },\n            updateFilterValue: (newValue, oldValue, filterOption) => {\n                newValue.filterValue = this.defaultConfig[fieldType].updateFilterValue(newValue.filterValue, oldValue.filterValue, filterOption);\n                newValue.namedOptions = uniq(oldValue.namedOptions.concat(newValue.namedOptions));\n                return newValue;\n            },\n            parseTagFieldExpression: (filterOption, searchTerm) => {\n                var _a, _b;\n                const { value: valuesStr } = this.getExpressionRawValues(filterOption, searchTerm);\n                if (!valuesStr) {\n                    return null;\n                }\n                const value = this.getFilterValueFromString(namedFilterOptions, valuesStr);\n                const [dateStr] = searchTerm.split('; ');\n                value.filterValue = (_b = (_a = this.defaultConfig[fieldType].parseTagFieldExpression(filterOption, dateStr)) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : [];\n                return value.length ? { value } : null;\n            },\n            validateValue: (value, filterOption) => this.defaultConfig[fieldType].validateValue(value.filterValue, filterOption)\n        };\n    }\n    getExpressionRawValues(filterOption, searchTerm) {\n        return [\n            `${filterOption.label}:`,\n            `${filterOption.label} ${this.adaptTexts.fromLabel}`,\n            `${filterOption.label} ${this.adaptTexts.toLabel}`\n        ].reduce((result, mask) => {\n            if (searchTerm.startsWith(mask)) {\n                result.label = mask;\n                result.value = searchTerm.replace(mask, '').trim();\n            }\n            return result;\n        }, { label: null, value: null });\n    }\n    getFilterValueFromString(namedFilterOptions, valuesStr) {\n        const values = (valuesStr !== null && valuesStr !== void 0 ? valuesStr : '')\n            .trim()\n            .split(';')\n            .filter((str) => !isEmptyOrWhitespace(str))\n            .map((str) => str.trim());\n        const value = new RxRecordGridAdvancedFilterValue([]);\n        values.forEach((val) => {\n            var _a;\n            const namedOptionGuid = (_a = namedFilterOptions.find((item) => item.title === val)) === null || _a === void 0 ? void 0 : _a.guid;\n            if (namedOptionGuid) {\n                value.namedOptions.push(namedOptionGuid);\n            }\n            else {\n                value.filterValue.push(...val\n                    .split(',')\n                    .map((str) => str.trim())\n                    .filter(Boolean));\n            }\n        });\n        value.namedOptions = uniq(value.namedOptions);\n        return value;\n    }\n    getNamedFilterOptionTips(namedFilterOptions, option, filterOptionConfig, value = []) {\n        return (namedFilterOptions !== null && namedFilterOptions !== void 0 ? namedFilterOptions : []).map((item) => AdvancedFilterDataTypesConfigsService.createAdvancedFilterTag(new RxRecordGridAdvancedFilterValue(value, [item.guid]), option, filterOptionConfig, false, formatAdvancedFilterTagText(option, item.title)));\n    }\n}\nRxRecordGridAdvancedFilteringService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridAdvancedFilteringService, deps: [{ token: i1$5.RxRecordDefinitionService }, { token: i2$1.RxObjectUtilsService }, { token: RxRecordGridUtilsService }, { token: i2$6.RxNamedListService }, { token: i1.AdvancedFilterDataTypesConfigsService }, { token: i1.AdaptTranslateService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRecordGridAdvancedFilteringService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridAdvancedFilteringService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridAdvancedFilteringService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$5.RxRecordDefinitionService }, { type: i2$1.RxObjectUtilsService }, { type: RxRecordGridUtilsService }, { type: i2$6.RxNamedListService }, { type: i1.AdvancedFilterDataTypesConfigsService }, { type: i1.AdaptTranslateService }]; } });\n\nclass RxRecordGridFilterHelperService {\n    constructor(rxJsonParserService) {\n        this.rxJsonParserService = rxJsonParserService;\n        this.filtersKeywords = ['$NULL$', '$TIME$', '$DATE$', '$TIMESTAMP$', '$USER$'];\n    }\n    // Convert predefined filter data from:\n    // \"{\n    //   and: [\n    //     \"or\": [\n    //       {\n    //         \"eq\": \"36dfbd6f-7a19-4b4a-81bf-431fe41f6862\"\n    //       }\n    //     ]\n    //   ]\n    // }\"\n    //\n    //\n    // to:\n    // {\n    //   and: [\n    //     \"or\": [\n    //       {\n    //         \"eq\": {\n    //           \"1\": \"bar\"\n    //         }\n    //       }\n    //     ]\n    //   ]\n    // }\n    //\n    getRecordGridFilterDataFromPredefinedFilter(filterJson, recordGridFilters) {\n        if (!isEmpty(recordGridFilters) && filterJson) {\n            filterJson = this.normalizeFilterString(filterJson, recordGridFilters);\n        }\n        return this.clearFilterData(this.rxJsonParserService.tryParseJson(filterJson));\n    }\n    // Convert predefined filter string from:\n    // \"{\n    //   and: [\n    //     \"or\": [\n    //       {\n    //         \"eq\": \"36dfbd6f-7a19-4b4a-81bf-431fe41f6862\"\n    //       }\n    //     ]\n    //   ]\n    // }\"\n    //\n    // to:\n    // \"{\n    //   and: [\n    //     \"or\": [\n    //       {\n    //         \"eq\": {\n    //           \"1\": \"bar\"\n    //         }\n    //       }\n    //     ]\n    //   ]\n    // }\"\n    //\n    normalizeFilterString(filterString, filterComponents) {\n        forEach(filterComponents, (filterComponent) => {\n            const filterExpression = Object.assign({ [filterComponent.fieldId]: filterComponent.value }, (filterComponent.$DISPLAYVALUE$ && { $DISPLAYVALUE$: filterComponent.$DISPLAYVALUE$ }));\n            filterString = filterString.replace(`\"${filterComponent.guid}\"`, JSON.stringify(filterExpression));\n        });\n        return filterString;\n    }\n    // Convert predefined filter string from:\n    // \"{\n    //   and: [\n    //     \"or\": [\n    //       {\n    //         \"eq\": {\n    //           \"1\": \"bar\"\n    //         }\n    //       }\n    //     ]\n    //   ]\n    // }\"\n    //\n    //\n    // to:\n    // \"{\n    //   and: [\n    //     \"or\": [\n    //       {\n    //         \"eq\": \"36dfbd6f-7a19-4b4a-81bf-431fe41f6862\"\n    //       }\n    //     ]\n    //   ]\n    // }\"\n    //\n    denormalizeFilterString(filterString, filterComponents) {\n        forEach(filterComponents, (filterComponent) => {\n            const filterExpression = Object.assign({ [filterComponent.fieldId]: filterComponent.value }, (filterComponent.$DISPLAYVALUE$ && { $DISPLAYVALUE$: filterComponent.$DISPLAYVALUE$ }));\n            if (filterExpression.$DISPLAYVALUE$) {\n                filterString = JSON.stringify(JSON.parse(filterString), this.replacer(this.denormalize(filterComponent.guid, filterExpression)));\n            }\n            else {\n                filterString = filterString.replace(JSON.stringify(filterExpression), `\"${filterComponent.guid}\"`);\n            }\n        });\n        return filterString;\n    }\n    // e.g.\n    // fn = denormalize(guid, {\"536870913\":\"AGGADG1AAXPMRARKA0FGRKA0FG6I01\",\"$DISPLAYVALUE$\":\"foo\"});\n    //\n    // var filterExpression = {\n    //   \"and\": [\n    //     {\n    //       \"or\": [\n    //         {\n    //           \"eq\": {\n    //             \"536870913\": \"AGGADG1AAXPMRARKA0FGRKA0FG6I01\",\n    //             \"$DISPLAYVALUE$\": \"foo\"\n    //           }\n    //         }\n    //       ]\n    //     }\n    //   ]\n    // };\n    //\n    // JSON.stringify(filterExpression,replacer(fn));\n    // Here the filterExpression's keys are \"add\", “0”, “or”, “0”, “eq”\n    //\n    replacer(fn) {\n        return (key, value) => (typeof key === 'string' && fn[key] ? fn[key](value) : value);\n    }\n    // This method declares, how object's value of an operator key should denormalize.\n    //\n    // Converts the Enum RecordGridFilterOperator\n    // to\n    // \"\n    // {\n    //   \"eq\": fn(),\n    //   \"gte\": fn(),\n    //   \"lte\": fn(),\n    //   \"like\": fn(),\n    //   \"ne\": fn(),\n    //   \"lt\": fn(),\n    //   \"gt\": fn(),\n    //   \"in\": fn()\n    // }\n    // \"\n    //  Note : fn() defines, how the value should be updated.\n    //\n    // e.g.\n    // Converts predefined filter string from:\n    //  {\"and\":[{\"or\":[{\"eq\":{\"Foo\":\"Bar\",\"$DISPLAYVALUE$\":\"Baz\"}}]}]}\n    // to:\n    //  {“and\":[{\"or\":[{\"eq\":\"aa88747c-8b8e-4dee-abf2-556b84b7d28e\"}]}]}\n    denormalize(guid, filterExpression) {\n        return reduce(RecordGridFilterOperator, (result, operator) => {\n            result[operator] = (value) => (isEqual(value, filterExpression) ? guid : value);\n            return result;\n        }, {});\n    }\n    clearFilterData(node) {\n        const nodeKeys = keys(node);\n        let result = node;\n        if (!isEmpty(nodeKeys)) {\n            const operator = nodeKeys[0];\n            switch (true) {\n                case includes(['or', 'and'], operator): {\n                    const children = node[operator].map(this.clearFilterData.bind(this)).filter((child) => Boolean(child));\n                    if (!isEmpty(children)) {\n                        node[operator] = children;\n                    }\n                    else {\n                        result = null;\n                    }\n                    break;\n                }\n                case isString(node[operator]): {\n                    result = null;\n                    break;\n                }\n            }\n        }\n        return result;\n    }\n    replaceKeywords(query) {\n        const singleQuoteRegexTemplate = '([^|^\"])\"(' + this.filtersKeywords.join('|').replace(/\\$/g, '\\\\$') + ')\"(?!\")';\n        const tripleQuoteRegexTemplate = '([^|^\"])\"\"\"(' + this.filtersKeywords.join('|').replace(/\\$/g, '\\\\$') + ')\"\"\"(?!\")';\n        const singleQuoteRegex = new RegExp(singleQuoteRegexTemplate, 'g');\n        const tripleQuoteRegex = new RegExp(tripleQuoteRegexTemplate, 'g');\n        return query.replace(singleQuoteRegex, '$1$2').replace(tripleQuoteRegex, '$1\"$2\"');\n    }\n}\nRxRecordGridFilterHelperService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridFilterHelperService, deps: [{ token: i2$1.RxJsonParserService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRecordGridFilterHelperService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridFilterHelperService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridFilterHelperService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i2$1.RxJsonParserService }]; } });\n\nclass RxRecordGridFilterService {\n    constructor(rxStringService, rxRecordGridUtilsService, rxJsonParserService, rxRecordGridAdvancedFilteringService, rxRecordDefinitionService, rxObjectUtilsService, rxRecordGridFilterHelperService) {\n        this.rxStringService = rxStringService;\n        this.rxRecordGridUtilsService = rxRecordGridUtilsService;\n        this.rxJsonParserService = rxJsonParserService;\n        this.rxRecordGridAdvancedFilteringService = rxRecordGridAdvancedFilteringService;\n        this.rxRecordDefinitionService = rxRecordDefinitionService;\n        this.rxObjectUtilsService = rxObjectUtilsService;\n        this.rxRecordGridFilterHelperService = rxRecordGridFilterHelperService;\n        this.filtersKeywords = ['$NULL$', '$TIME$', '$DATE$', '$TIMESTAMP$', '$USER$'];\n    }\n    clearFilterData(node) {\n        const nodeKeys = keys(node);\n        let result = node;\n        if (!isEmpty(nodeKeys)) {\n            const operator = nodeKeys[0];\n            switch (true) {\n                case includes(['or', 'and'], operator): {\n                    const children = node[operator].map(this.clearFilterData.bind(this)).filter((child) => Boolean(child));\n                    if (!isEmpty(children)) {\n                        node[operator] = children;\n                    }\n                    else {\n                        result = null;\n                    }\n                    break;\n                }\n                case isString(node[operator]): {\n                    result = null;\n                    break;\n                }\n            }\n        }\n        return result;\n    }\n    getFilterForAvailableColumns(node, filterableColumns) {\n        const nodeKeys = keys(node);\n        let result = node;\n        if (!isEmpty(nodeKeys)) {\n            const operator = nodeKeys[0];\n            const fieldId = Object.keys(node[operator])[0];\n            switch (true) {\n                case includes(['or', 'and'], operator): {\n                    const children = node[operator]\n                        .map((nodeChild) => this.getFilterForAvailableColumns(nodeChild, filterableColumns))\n                        .filter((child) => Boolean(child));\n                    if (!isEmpty(children)) {\n                        node[operator] = children;\n                    }\n                    else {\n                        result = null;\n                    }\n                    break;\n                }\n                case !some(filterableColumns, { fieldId }): {\n                    result = null;\n                    break;\n                }\n                case includes(['eq'], operator): {\n                    const fieldDefinition = find(filterableColumns, { fieldId }).fieldDefinition;\n                    // remove selection field filter option that is not available\n                    if (fieldDefinition.resourceType === RX_RECORD_DEFINITION.resourceTypes.selection &&\n                        !has(fieldDefinition.optionNamesById, node[operator][fieldId])) {\n                        result = null;\n                    }\n                    break;\n                }\n            }\n        }\n        return result;\n    }\n    replaceKeywords(query) {\n        const singleQuoteRegexTemplate = '([^|^\"])\"(' + this.filtersKeywords.join('|').replace(/\\$/g, '\\\\$') + ')\"(?!\")';\n        const tripleQuoteRegexTemplate = '([^|^\"])\"\"\"(' + this.filtersKeywords.join('|').replace(/\\$/g, '\\\\$') + ')\"\"\"(?!\")';\n        const singleQuoteRegex = new RegExp(singleQuoteRegexTemplate, 'g');\n        const tripleQuoteRegex = new RegExp(tripleQuoteRegexTemplate, 'g');\n        return query.replace(singleQuoteRegex, '$1$2').replace(tripleQuoteRegex, '$1\"$2\"');\n    }\n    generateTextFilterQuery(text, columns) {\n        let filterQuery = null;\n        if (text) {\n            const query = columns\n                .filter((column) => !column.hidden && column.searchable)\n                .map((column) => {\n                const fieldId = this.getQueryFilterField(column.field);\n                let queryString = '';\n                if (column.filterType === RX_RECORD_DEFINITION.dataTypes.character.shortName ||\n                    column.filterType === RX_RECORD_DEFINITION.dataTypes.localizedCharacter.shortName) {\n                    queryString = `${fieldId} LIKE \"%${this.escapeDoubleQuotes(text).replace(/[%_]/g, '\\\\$&')}%\"`;\n                }\n                else {\n                    if (!isNaN(text)) {\n                        queryString = `${fieldId} = \"${this.escapeDoubleQuotes(text)}\"`;\n                    }\n                }\n                return queryString;\n            })\n                .filter(Boolean)\n                .join(' OR ');\n            filterQuery = query ? `(${query})` : '';\n        }\n        return filterQuery;\n    }\n    addQueries(...queries) {\n        return filter$1(queries, Boolean).join(' AND ');\n    }\n    joinQueryFilters(queries, logic) {\n        const query = queries.join(logic === QueryFiltersLogic.And ? ' AND ' : ' OR ');\n        return query ? `(${query})` : '';\n    }\n    /**\n     * Convert saved filter preset data from:\n     * {\n     *   and: {\n     *     \"or\": [\n     *       {\n     *         \"eq\": {\n     *           \"1\": \"bar\"\n     *         }\n     *       },\n     *       {\n     *         \"eq\": {\n     *           \"1\": \"foo\"\n     *         }\n     *       }\n     *     ]\n     *   }\n     * }\n     *\n     *\n     * to:\n     * [{\n     *   filterOptionId: '1',\n     *   value: ['bar', 'foo']\n     * }]\n     */\n    getAdvancedFilterData(filterData, fieldDefinitionsById, recordGridFilterConfigs, primaryRecordDefinition, filterOptions, associationDescriptors) {\n        return forkJoin(filterData && filterData.and\n            ? filterData.and.map((gridFilterData) => {\n                const filterLogic = Object.keys(gridFilterData)[0];\n                const filterOperators = gridFilterData[filterLogic];\n                const firstFilterOperator = values(filterOperators[0])[0];\n                const columnField = String(Object.keys(firstFilterOperator)[0]);\n                let fieldDefinition = fieldDefinitionsById[columnField];\n                const fieldDefinition$ = fieldDefinition\n                    ? of(fieldDefinition)\n                    : this.rxRecordGridUtilsService.getFieldDefinition(columnField, primaryRecordDefinition);\n                return fieldDefinition$.pipe(filter(Boolean), map((newFieldDefinition) => {\n                    fieldDefinition = newFieldDefinition;\n                    const filterConfig = recordGridFilterConfigs[fieldDefinition.resourceType];\n                    if (!fieldDefinitionsById[columnField]) {\n                        this.rxRecordDefinitionService.addFieldDefinitionToMap(fieldDefinition, fieldDefinitionsById, columnField);\n                        fieldDefinitionsById = primaryRecordDefinition.fieldDefinitionsById = Object.assign(Object.assign({}, fieldDefinitionsById), this.rxObjectUtilsService.expandProperties(fieldDefinitionsById));\n                        const associationDescriptor = this.rxRecordGridUtilsService.findAssociationDescriptor(associationDescriptors, this.rxRecordGridUtilsService.getFieldLocator(columnField));\n                        filterOptions.push(this.rxRecordGridAdvancedFilteringService.getAdvancedFilterOption(columnField, this.rxRecordGridUtilsService.getColumnLabel(fieldDefinition, associationDescriptor), fieldDefinition, filterConfig, true));\n                    }\n                    return filterConfig.getSelectedAdvancedFilterData(filterLogic, filterOperators, fieldDefinition, columnField);\n                }));\n            })\n            : []).pipe(defaultIfEmpty([]), map((advancedFiltersData) => advancedFiltersData.filter(Boolean)));\n    }\n    getQueryFromRecordGridFilterData(filterData, fieldDefinitionsById) {\n        const primitiveOperators = [\n            RecordGridFilterOperator.Eq,\n            RecordGridFilterOperator.Like,\n            RecordGridFilterOperator.Ne,\n            RecordGridFilterOperator.Lt,\n            RecordGridFilterOperator.Lte,\n            RecordGridFilterOperator.Gt,\n            RecordGridFilterOperator.Gte,\n            RecordGridFilterOperator.In,\n            'regex'\n        ];\n        const isPrimitive = (expression) => {\n            return intersection(primitiveOperators.slice(), keys(expression)).length > 0;\n        };\n        const evaluatePrimitive = (expression) => {\n            return reduce(expression, (operatorsResult, condition, operator) => {\n                return (operatorsResult +\n                    reduce(condition, (operatorValuesResult, conditionValue, conditionId) => {\n                        const fieldDefinition = fieldDefinitionsById[conditionId];\n                        let filterOperator = operator;\n                        let value = conditionValue;\n                        const isTextField = !!fieldDefinition &&\n                            includes([\n                                RX_RECORD_DEFINITION.dataTypes.character.resourceType,\n                                RX_RECORD_DEFINITION.dataTypes.localizedCharacter.resourceType\n                            ], fieldDefinition.resourceType);\n                        if (isTextField) {\n                            const { isLikeOperation, filterValue } = this.getStringDataTypeFilterData(conditionValue, fieldDefinition);\n                            filterOperator = isLikeOperation ? RecordGridFilterOperator.Like : filterOperator;\n                            value = filterValue;\n                        }\n                        // following code removes the $DISPLAYVALUE$ from the filter expression\n                        // e.g.  {\"and\":[{\"or\":[{\"eq\":{\"536870913\":\"AGGADG1AAXPMRARKA0FGRKA0FG6I01\",\"$DISPLAYVALUE$\":\"Alex\"}}]}]}\n                        if (conditionId === '$DISPLAYVALUE$') {\n                            return operatorValuesResult;\n                        }\n                        return operatorValuesResult + this.getQueryExpression(value, conditionId, filterOperator);\n                    }, ''));\n            }, '');\n        };\n        let evaluateExpression = (expression) => {\n            if (isPrimitive(expression)) {\n                return evaluatePrimitive(expression);\n            }\n            return reduce(expression, (result, childExpression, operator) => {\n                const childExpressionResult = map$1(childExpression, evaluateExpression);\n                switch (operator) {\n                    case RecordGridFilterDataLogic.And:\n                        return result + `(${childExpressionResult.join(' AND ')})`;\n                    case RecordGridFilterDataLogic.Or:\n                        return result + `(${childExpressionResult.join(' OR ')})`;\n                    default:\n                        return result + `(${childExpressionResult.join(' AND ')})`;\n                }\n            }, '');\n        };\n        evaluateExpression = evaluateExpression.bind(this);\n        return evaluateExpression(filterData);\n    }\n    getSelectedFiltersFromPredefinedFilter(filters, recordGridFilters, fieldDefinitionsById, recordGridFilterConfigs, primaryRecordDefinition, filterOptions, associationDescriptors) {\n        const recordGridFilterData = this.rxRecordGridFilterHelperService.getRecordGridFilterDataFromPredefinedFilter(filters, this.deserializeNamedOptions(recordGridFilters));\n        const selectedFilters$ = this.getAdvancedFilterData(recordGridFilterData, fieldDefinitionsById, recordGridFilterConfigs, primaryRecordDefinition, filterOptions, associationDescriptors);\n        return selectedFilters$;\n    }\n    getRecordGridFilterDataFromAdvancedFilter(filters, fieldDefinitionsById, recordGridFilterConfigs, namedFilterOptions) {\n        const mappedFilters = filters.map((filterData) => {\n            let mappedFilter = null;\n            const fieldId = String(filterData.filterOptionId);\n            const fieldDefinition = fieldDefinitionsById[fieldId];\n            if (fieldDefinition) {\n                const filterConfig = recordGridFilterConfigs[fieldDefinition.resourceType];\n                mappedFilter = filterConfig.getRecordGridFilterData(filterData.value, fieldDefinition, fieldId, namedFilterOptions && namedFilterOptions[fieldId]);\n            }\n            return mappedFilter;\n        });\n        return mappedFilters.length\n            ? {\n                and: mappedFilters\n            }\n            : {};\n    }\n    getQueryFilterField(fieldId) {\n        if (this.rxRecordGridUtilsService.isAssociatedRecordFieldId(fieldId)) {\n            return `\\${${fieldId}}`;\n        }\n        else {\n            return `'${fieldId}'`;\n        }\n    }\n    buildQueryFilter(fieldId, operator, value) {\n        const needQuotes = isString(value) && !this.filtersKeywords.includes(value);\n        const result = isString(value) ? (needQuotes ? `\"${this.escapeDoubleQuotes(value)}\"` : value) : String(value);\n        return `${this.getQueryFilterField(fieldId)} ${operator} ${result}`;\n    }\n    filterRows(rows, filters, recordDefinition, filterConfigs) {\n        const filterData = this.getRecordGridFilterDataFromAdvancedFilter(filters, recordDefinition.fieldDefinitionsById, filterConfigs);\n        return rows.filter((row) => {\n            if (row.groupField) {\n                row.items = this.getFilteredItems(row.items, filterData, recordDefinition);\n                return row.items.length;\n            }\n            else {\n                return every(filterData.and, (filterExpression) => this.matchRow(row, filterExpression, recordDefinition));\n            }\n        });\n    }\n    getFilteredItems(rowDataItems, filterData, recordDefinition) {\n        return reduce(rowDataItems, (filteredItems, itemsRow) => {\n            let { items = [] } = itemsRow;\n            if (!itemsRow.items &&\n                every(filterData.and, (filterExpression) => this.matchRow(itemsRow, filterExpression, recordDefinition))) {\n                filteredItems.push(itemsRow);\n            }\n            else {\n                items = this.getFilteredItems(items, filterData, recordDefinition);\n                if (items.length) {\n                    filteredItems.push(Object.assign(Object.assign({}, itemsRow), { items }));\n                }\n            }\n            return filteredItems;\n        }, []);\n    }\n    matchRow(row, filterExpression, recordDefinition) {\n        const operator = findKey(filterExpression);\n        switch (operator) {\n            case 'and':\n                return every(filterExpression[operator], (childExpression) => this.checkCondition(row, childExpression, recordDefinition));\n            case 'or':\n                return some(filterExpression[operator], (childExpression) => this.checkCondition(row, childExpression, recordDefinition));\n            default:\n                return false;\n        }\n    }\n    checkCondition(row, childExpression, recordDefinition) {\n        const operator = findKey(childExpression);\n        const fieldId = findKey(childExpression[operator]);\n        const filterValue = childExpression[operator][fieldId];\n        const rowValue = row[fieldId];\n        if (recordDefinition.fieldDefinitionsById[fieldId].resourceType ===\n            RX_RECORD_DEFINITION.dataTypes.dateTime.resourceType) {\n            switch (operator) {\n                case 'eq':\n                    return moment(rowValue).isSame(filterValue);\n                case 'lte':\n                    return moment(rowValue).isSameOrBefore(filterValue);\n                case 'lt':\n                    return moment(rowValue).isBefore(filterValue);\n                case 'gte':\n                    return moment(rowValue).isSameOrAfter(filterValue);\n                case 'gt':\n                    return moment(rowValue).isAfter(filterValue);\n                default:\n                    return false;\n            }\n        }\n        else {\n            return operator === 'eq' ? this.rxStringService.caseInsensitiveIsEqual(rowValue, filterValue) : false;\n        }\n    }\n    escapeDoubleQuotes(text) {\n        return text.replace(/\"/g, '\"\"');\n    }\n    getQueryExpression(conditionValue, conditionId, operator) {\n        const value = isString(conditionValue) ? '\"' + conditionValue + '\"' : conditionValue;\n        conditionId = this.getQueryFilterField(conditionId);\n        switch (operator) {\n            case RecordGridFilterOperator.Eq:\n                return conditionId + '=' + value;\n            case RecordGridFilterOperator.Like:\n                return conditionId + ' LIKE ' + value;\n            case RecordGridFilterOperator.Ne:\n                return conditionId + '!=' + value;\n            case RecordGridFilterOperator.Lt:\n                return conditionId + '<' + value;\n            case RecordGridFilterOperator.Lte:\n                return conditionId + '<=' + value;\n            case RecordGridFilterOperator.Gt:\n                return conditionId + '>' + value;\n            case RecordGridFilterOperator.Gte:\n                return conditionId + '>=' + value;\n            case RecordGridFilterOperator.In:\n                return conditionId + ' IN ' + value;\n            default:\n                return conditionId + '=' + value;\n        }\n    }\n    getStringDataTypeFilterData(filterValue, fieldDefinition) {\n        let isLikeOperation = false;\n        if (!get(fieldDefinition.searchDefinition, 'enableFTSSearch')) {\n            if (includes(filterValue, '%')) {\n                const filterValueSplitData = filterValue.split(/\\\\\\\\/);\n                isLikeOperation = some(filterValueSplitData, (value) => value.replace(/\\\\%/g, '').match('%'));\n                if (!isLikeOperation) {\n                    filterValue = map$1(filterValueSplitData, (value) => value.replace(/\\\\%/g, '%')).join('\\\\');\n                }\n            }\n            else {\n                filterValue = filterValue.replace('\\\\\\\\', '\\\\');\n            }\n        }\n        return { isLikeOperation, filterValue };\n    }\n    clearRemovedNamedFilterOptions(selectedFilters, namedFilterOptions) {\n        return selectedFilters.reduce((result, filter) => {\n            var _a, _b;\n            const namedFilterOptionsGuids = (_b = (_a = namedFilterOptions[filter.filterOptionId]) === null || _a === void 0 ? void 0 : _a.map((option) => option.guid)) !== null && _b !== void 0 ? _b : [];\n            filter.value.namedOptions = filter.value.namedOptions.filter((option) => namedFilterOptionsGuids.includes(option));\n            if (!RxRecordGridAdvancedFilterValue.isEmptyWithRange(filter.value)) {\n                result.push(filter);\n            }\n            return result;\n        }, []);\n    }\n    deserializeNamedOptions(recordGridFilters) {\n        return recordGridFilters.map((filter) => {\n            const value = this.rxJsonParserService.tryParseJson(filter.value);\n            if (value && value[RecordGridNamedFilterOptionKey]) {\n                return Object.assign(Object.assign({}, filter), { value });\n            }\n            return filter;\n        });\n    }\n}\nRxRecordGridFilterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridFilterService, deps: [{ token: i2$1.RxStringService }, { token: RxRecordGridUtilsService }, { token: i2$1.RxJsonParserService }, { token: RxRecordGridAdvancedFilteringService }, { token: i1$5.RxRecordDefinitionService }, { token: i2$1.RxObjectUtilsService }, { token: RxRecordGridFilterHelperService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRecordGridFilterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridFilterService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridFilterService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i2$1.RxStringService }, { type: RxRecordGridUtilsService }, { type: i2$1.RxJsonParserService }, { type: RxRecordGridAdvancedFilteringService }, { type: i1$5.RxRecordDefinitionService }, { type: i2$1.RxObjectUtilsService }, { type: RxRecordGridFilterHelperService }]; } });\n\nclass RxRecordGridFilterConfigService {\n    constructor(rxRecordGridFilterService, rxNumberUtilsService, rxNamedListService, translateService, rxRecordInstanceUtilsService, rxRecordGridUtilsService, rxDefinitionNameService) {\n        this.rxRecordGridFilterService = rxRecordGridFilterService;\n        this.rxNumberUtilsService = rxNumberUtilsService;\n        this.rxNamedListService = rxNamedListService;\n        this.translateService = translateService;\n        this.rxRecordInstanceUtilsService = rxRecordInstanceUtilsService;\n        this.rxRecordGridUtilsService = rxRecordGridUtilsService;\n        this.rxDefinitionNameService = rxDefinitionNameService;\n        this.associatedFieldIdPatternRegExp = new RegExp(`'(${RX_RECORD_GRID.associatedFieldIdPrefixPattern}\\\\d+)'`, 'g');\n    }\n    getConfigs() {\n        const textColumnFilterConfig = {\n            filterOptionDataType: AdvancedFilterOptionDataType.string,\n            getQueryFilter: (filterTag, fieldDefinition, fieldId, namedFilterOptions) => {\n                const selectedNamedOptionExpressions = this.getSelectedNamedOptionExpressions(namedFilterOptions, filterTag);\n                const builtQuery = chain(filterTag.value.filterValue)\n                    .filter(Boolean)\n                    .map((optionValue) => {\n                    const { isLikeOperation, filterValue } = this.rxRecordGridFilterService.getStringDataTypeFilterData(get(optionValue, 'value', optionValue), fieldDefinition);\n                    return this.rxRecordGridFilterService.buildQueryFilter(fieldId, isLikeOperation ? 'like' : '=', filterValue.trim());\n                })\n                    .concat(selectedNamedOptionExpressions)\n                    .value();\n                return this.rxRecordGridFilterService.joinQueryFilters(builtQuery, QueryFiltersLogic.Or);\n            },\n            getRecordGridFilterData: (value, fieldDefinition, fieldId, namedFilterOptions) => {\n                const namedFilterOptionOperators = this.getNamedFilterOptionsOperators(value, fieldId);\n                const filterOperators = value.filterValue.map((filterValue) => {\n                    const operators = this.getRecordGridFilterOperator(RecordGridFilterOperator.Eq, fieldId, get(filterValue, 'value', filterValue).trim());\n                    const displayValue = get(filterValue, 'displayValue');\n                    if (fieldDefinition.namedListDefinition && displayValue) {\n                        operators.eq['$DISPLAYVALUE$'] = displayValue;\n                    }\n                    return operators;\n                });\n                return {\n                    or: filterOperators.concat(namedFilterOptionOperators)\n                };\n            },\n            getSelectedAdvancedFilterData: (filterLogic, filterOperators, fieldDefinition, fieldId) => {\n                const filterValues = [];\n                const namedListFilterValues = [];\n                const namedFilterOptionsGuids = [];\n                if (filterLogic === RecordGridFilterDataLogic.Or) {\n                    filterOperators.forEach((filterOperator) => {\n                        const operator = Object.keys(filterOperator)[0];\n                        const value = filterOperator[operator][fieldId];\n                        if (isString(value)) {\n                            if (fieldDefinition.namedListDefinition) {\n                                const displayValue = filterOperator[operator]['$DISPLAYVALUE$'];\n                                namedListFilterValues.push({ displayValue, value, title: '', contextualFields: [] });\n                            }\n                            else {\n                                filterValues.push(value);\n                            }\n                        }\n                        else if (value[RecordGridNamedFilterOptionKey]) {\n                            namedFilterOptionsGuids.push(value[RecordGridNamedFilterOptionKey]);\n                        }\n                    });\n                }\n                const rxRecordGridAdvancedFilterValue = isEmpty(namedListFilterValues)\n                    ? new RxRecordGridAdvancedFilterValue(filterValues, namedFilterOptionsGuids)\n                    : new RxRecordGridAdvancedFilterValue(namedListFilterValues, namedFilterOptionsGuids);\n                return {\n                    filterOptionId: fieldId,\n                    value: rxRecordGridAdvancedFilterValue\n                };\n            },\n            getToolbarTagInfo: ({ primaryRecordDefinition, value, tag, fieldId, namedFilterOptions }) => {\n                const fieldLocator = this.rxRecordGridUtilsService.getFieldLocator(fieldId);\n                let associationDescriptor;\n                return this.rxRecordGridUtilsService.getAssociationDescriptor(fieldId, primaryRecordDefinition).pipe(mergeMap((loadedAssociationDescriptor) => {\n                    associationDescriptor = loadedAssociationDescriptor;\n                    return this.rxRecordGridUtilsService.getDisplayFieldDescriptor(fieldId, primaryRecordDefinition, associationDescriptor && associationDescriptor.recordDefinitionName);\n                }), mergeMap((displayFieldDefinition) => {\n                    const isRecordDisplayField = fieldLocator.fieldId !== String(displayFieldDefinition.id);\n                    let displayValuesData$;\n                    if (isRecordDisplayField) {\n                        const filterValues = this.rxNamedListService.getNamesFromTypeAheadOptions(value.filterValue);\n                        displayValuesData$ = this.rxRecordInstanceUtilsService\n                            .getFieldValues(associationDescriptor.recordDefinitionName, filterValues, [\n                            String(RX_RECORD_DEFINITION.coreFieldIds.id),\n                            String(displayFieldDefinition.id)\n                        ])\n                            .pipe(map((displayValueRows) => {\n                            const nameWithAssociationLabel = compact([\n                                this.rxDefinitionNameService.getDisplayName(associationDescriptor.associationDefinition.name),\n                                displayFieldDefinition.name\n                            ]).join(' > ');\n                            const displayValues = value.filterValue.map((strFilterValue) => {\n                                const row = find(displayValueRows, (displayValueRow) => displayValueRow[RX_RECORD_DEFINITION.coreFieldIds.id] === strFilterValue);\n                                return row ? row[displayFieldDefinition.id] : strFilterValue;\n                            });\n                            return {\n                                displayValues: new RxRecordGridAdvancedFilterValue(displayValues),\n                                label: nameWithAssociationLabel\n                            };\n                        }));\n                    }\n                    else {\n                        displayValuesData$ = of({ displayValues: value, label: tag.data.filterOption.label });\n                    }\n                    return displayValuesData$.pipe(map(({ displayValues, label }) => {\n                        const displayTagValue = displayValues.filterValue\n                            .map((filterValue) => {\n                            var _a, _b;\n                            const filterValueExpression = get(filterValue, 'value', filterValue);\n                            const filterDisplayText = (_a = get(filterValue, 'displayValue')) !== null && _a !== void 0 ? _a : get(filterValue, 'value', filterValue);\n                            const text = filterValueExpression === '$USER$'\n                                ? this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.filters.me.label')\n                                : filterDisplayText;\n                            const tooltip = (filterValue === null || filterValue === void 0 ? void 0 : filterValue.displayValue)\n                                ? `${filterValue.displayValue} (${filterValue.value})`\n                                : (_b = filterValue === null || filterValue === void 0 ? void 0 : filterValue.value) !== null && _b !== void 0 ? _b : filterValue;\n                            return { tooltip, text };\n                        })\n                            .concat(displayValues.namedOptions.map((namedOption) => {\n                            var _a;\n                            const namedFilterOption = ((_a = namedFilterOptions.find((option) => option.guid === namedOption)) === null || _a === void 0 ? void 0 : _a.title) || namedOption;\n                            return { text: namedFilterOption, tooltip: namedFilterOption };\n                        }));\n                        const displayText = displayTagValue.map((tagInfo) => tagInfo.text).join(', ');\n                        const tooltip = displayTagValue.map((tagInfo) => tagInfo.tooltip).join(', ');\n                        return {\n                            text: `${label}: ${displayText}`,\n                            tooltip: `${label}: ${tooltip}`\n                        };\n                    }));\n                }));\n            },\n            getDataForAdvancedFilter: (fieldDefinition) => fieldDefinition\n        };\n        const numericColumnFilterConfig = {\n            filterOptionDataType: AdvancedFilterOptionDataType.number,\n            getQueryFilter: (filterTag, fieldDefinition, fieldId, namedFilterOptions) => {\n                const selectedNamedOptionExpressions = this.getSelectedNamedOptionExpressions(namedFilterOptions, filterTag);\n                const [fromValue, toValue] = filterTag.value.filterValue;\n                const queries = [];\n                if (this.rxNumberUtilsService.isFiniteOrNumberString(fromValue)) {\n                    queries.push(this.rxRecordGridFilterService.buildQueryFilter(fieldId, '>=', String(fromValue)));\n                }\n                if (this.rxNumberUtilsService.isFiniteOrNumberString(toValue)) {\n                    queries.push(this.rxRecordGridFilterService.buildQueryFilter(fieldId, '<=', String(toValue)));\n                }\n                const valueQuery = this.rxRecordGridFilterService.joinQueryFilters(queries, QueryFiltersLogic.And);\n                return this.rxRecordGridFilterService.joinQueryFilters(valueQuery ? [valueQuery, ...selectedNamedOptionExpressions] : selectedNamedOptionExpressions, QueryFiltersLogic.Or);\n            },\n            getRecordGridFilterData: (value, fieldDefinition, fieldId) => {\n                const [fromValue, toValue] = value.filterValue;\n                const queries = [];\n                if (this.rxNumberUtilsService.isFiniteOrNumberString(fromValue)) {\n                    queries.push(this.getRecordGridFilterOperator(RecordGridFilterOperator.Gte, fieldId, String(fromValue)));\n                }\n                if (this.rxNumberUtilsService.isFiniteOrNumberString(toValue)) {\n                    queries.push(this.getRecordGridFilterOperator(RecordGridFilterOperator.Lte, fieldId, String(toValue)));\n                }\n                return this.getFilterRangeDataOperator(queries, this.getNamedFilterOptionsOperators(value, fieldId));\n            },\n            getDataForAdvancedFilter: (fieldDefinition) => {\n                return {\n                    minValue: fieldDefinition.minValue,\n                    maxValue: fieldDefinition.maxValue\n                };\n            },\n            getSelectedAdvancedFilterData: (filterLogic, filterOperators, fieldDefinition, fieldId) => {\n                /**\n                 * Convert from:\n                 *\n                 *  \"and\": [\n                 *    {\n                 *      \"gte\": {\n                 *        \"536870917\": -5\n                 *      }\n                 *    },\n                 *    {\n                 *      \"lte\": {\n                 *        \"536870917\": -1 // or \"-1\"\n                 *      }\n                 *    }\n                 *  ]\n                 *\n                 * to:\n                 *\n                 * {\n                 *   filterOptionId: '536870917',\n                 *   value: [-5, -1]\n                 * }\n                 *\n                 */\n                let filterValue = [null, null];\n                const processRange = (operators) => {\n                    const gteOperator = find(operators, (filterOperator) => filterOperator[RecordGridFilterOperator.Gte]);\n                    if (gteOperator) {\n                        const fromValue = parseFloat(gteOperator[RecordGridFilterOperator.Gte][fieldId]);\n                        if (this.rxNumberUtilsService.isFiniteOrNumberString(fromValue)) {\n                            filterValue[0] = fromValue;\n                        }\n                    }\n                    const lteOperator = find(operators, (filterOperator) => filterOperator[RecordGridFilterOperator.Lte]);\n                    if (lteOperator) {\n                        const toValue = parseFloat(lteOperator[RecordGridFilterOperator.Lte][fieldId]);\n                        if (this.rxNumberUtilsService.isFiniteOrNumberString(toValue)) {\n                            filterValue[1] = toValue;\n                        }\n                    }\n                };\n                if (filterLogic === RecordGridFilterDataLogic.And) {\n                    processRange(filterOperators);\n                }\n                else if (filterLogic === RecordGridFilterDataLogic.Or) {\n                    const andOperator = find(filterOperators, (filterOperator) => filterOperator[RecordGridFilterDataLogic.And]);\n                    if (andOperator) {\n                        processRange(andOperator[RecordGridFilterDataLogic.And]);\n                    }\n                    else if (filterOperators.length === 1) {\n                        let eqValue = filterOperators[0][RecordGridFilterOperator.Eq][fieldId];\n                        if (eqValue !== '$NULL$' && !eqValue[RecordGridNamedFilterOptionKey]) {\n                            eqValue = parseFloat(eqValue);\n                            filterValue = [eqValue, eqValue];\n                        }\n                    }\n                }\n                const namedFilterOptionGuids = this.getNamedFilterOptionGuids(filterOperators, fieldId);\n                return {\n                    filterOptionId: fieldId,\n                    value: new RxRecordGridAdvancedFilterValue(filterValue, namedFilterOptionGuids)\n                };\n            }\n        };\n        return {\n            [RX_RECORD_DEFINITION.resourceTypes.character]: textColumnFilterConfig,\n            [RX_RECORD_DEFINITION.resourceTypes.localizedCharacter]: textColumnFilterConfig,\n            [RX_RECORD_DEFINITION.resourceTypes.attachment]: textColumnFilterConfig,\n            [RX_RECORD_DEFINITION.resourceTypes.integer]: numericColumnFilterConfig,\n            [RX_RECORD_DEFINITION.resourceTypes.decimal]: numericColumnFilterConfig,\n            [RX_RECORD_DEFINITION.resourceTypes.real]: numericColumnFilterConfig,\n            [RX_RECORD_DEFINITION.resourceTypes.selection]: {\n                filterOptionDataType: AdvancedFilterOptionDataType.selection,\n                getQueryFilter: (filterTag, fieldDefinition, fieldId, namedFilterOptions) => {\n                    const selectedNamedOptionExpressions = this.getSelectedNamedOptionExpressions(namedFilterOptions, filterTag);\n                    return this.rxRecordGridFilterService.joinQueryFilters(filterTag.value.filterValue\n                        .map((filterValue) => this.rxRecordGridFilterService.buildQueryFilter(fieldId, '=', filterValue))\n                        .concat(selectedNamedOptionExpressions), QueryFiltersLogic.Or);\n                },\n                getDataForAdvancedFilter: (fieldDefinition) => {\n                    const selectOptions = map$1(fieldDefinition.optionLabelsById, (label, optionId) => ({\n                        id: optionId,\n                        name: label\n                    }));\n                    if (fieldDefinition.fieldOption === RX_RECORD_DEFINITION.fieldOptions.optional) {\n                        selectOptions.unshift({\n                            id: '$NULL$',\n                            name: this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.filters.blank.label')\n                        });\n                    }\n                    return {\n                        selectOptions,\n                        selectTexts: null\n                    };\n                },\n                getRecordGridFilterData: (value, fieldDefinition, fieldId) => {\n                    const namedFilterOptionOperators = this.getNamedFilterOptionsOperators(value, fieldId);\n                    return {\n                        or: value.filterValue\n                            .map((optionId) => {\n                            return this.getRecordGridFilterOperator(RecordGridFilterOperator.Eq, fieldId, optionId);\n                        })\n                            .concat(namedFilterOptionOperators)\n                    };\n                },\n                getSelectedAdvancedFilterData: (filterLogic, filterOperators, fieldDefinition, fieldId) => {\n                    const filterValue = [];\n                    const namedFilterOptionsGuids = [];\n                    if (filterLogic === RecordGridFilterDataLogic.Or) {\n                        filterOperators.forEach((filterOperator) => {\n                            const operator = Object.keys(filterOperator)[0];\n                            if (operator === RecordGridFilterOperator.Eq) {\n                                const value = filterOperator[operator][fieldId];\n                                if (isString(value)) {\n                                    filterValue.push(value);\n                                }\n                                else if (value[RecordGridNamedFilterOptionKey]) {\n                                    namedFilterOptionsGuids.push(value[RecordGridNamedFilterOptionKey]);\n                                }\n                            }\n                        });\n                    }\n                    return {\n                        filterOptionId: fieldId,\n                        value: new RxRecordGridAdvancedFilterValue(filterValue, namedFilterOptionsGuids)\n                    };\n                }\n            },\n            [RX_RECORD_DEFINITION.resourceTypes.timeOnly]: {\n                filterOptionDataType: AdvancedFilterOptionDataType.time,\n                getQueryFilter: (filterTag, fieldDefinition, fieldId, namedFilterOptions) => {\n                    const selectedNamedOptionExpressions = this.getSelectedNamedOptionExpressions(namedFilterOptions, filterTag);\n                    const [fromValue, toValue] = filterTag.value.filterValue.map((value) => moment(value));\n                    const queries = [];\n                    if (fromValue && fromValue.isValid()) {\n                        queries.push(this.rxRecordGridFilterService.buildQueryFilter(fieldId, '>=', fromValue.format('HH:mm:ss')));\n                    }\n                    if (toValue && toValue.isValid()) {\n                        queries.push(this.rxRecordGridFilterService.buildQueryFilter(fieldId, '<=', toValue.format('HH:mm:ss')));\n                    }\n                    const valueQuery = this.rxRecordGridFilterService.joinQueryFilters(queries, QueryFiltersLogic.And);\n                    return this.rxRecordGridFilterService.joinQueryFilters(valueQuery ? [valueQuery, ...selectedNamedOptionExpressions] : selectedNamedOptionExpressions, QueryFiltersLogic.Or);\n                },\n                getRecordGridFilterData: (value, fieldDefinition, fieldId) => {\n                    const [fromValue, toValue] = value.filterValue.map((value) => moment(value));\n                    const queries = [];\n                    if (fromValue) {\n                        queries.push(this.getRecordGridFilterOperator(RecordGridFilterOperator.Gte, fieldId, fromValue && fromValue.isValid() ? fromValue.format('HH:mm:ss') : ''));\n                    }\n                    if (toValue) {\n                        queries.push(this.getRecordGridFilterOperator(RecordGridFilterOperator.Lte, fieldId, toValue && toValue.isValid() ? toValue.format('HH:mm:ss') : ''));\n                    }\n                    return this.getFilterRangeDataOperator(queries, this.getNamedFilterOptionsOperators(value, fieldId));\n                },\n                getSelectedAdvancedFilterData: (filterLogic, filterOperators, fieldDefinition, fieldId) => {\n                    let filterValue = [null, null];\n                    const processRange = (operators) => {\n                        const gteOperator = find(operators, (filterOperator) => filterOperator[RecordGridFilterOperator.Gte]);\n                        if (gteOperator) {\n                            const fromValue = moment(gteOperator[RecordGridFilterOperator.Gte][fieldId], 'LTS');\n                            if (fromValue.isValid()) {\n                                filterValue[0] = fromValue;\n                            }\n                        }\n                        const lteOperator = find(operators, (filterOperator) => filterOperator[RecordGridFilterOperator.Lte]);\n                        if (lteOperator) {\n                            const toValue = moment(lteOperator[RecordGridFilterOperator.Lte][fieldId], 'LTS');\n                            if (toValue.isValid()) {\n                                filterValue[1] = toValue;\n                            }\n                        }\n                    };\n                    if (filterLogic === RecordGridFilterDataLogic.And) {\n                        processRange(filterOperators);\n                    }\n                    else if (filterLogic === RecordGridFilterDataLogic.Or) {\n                        const andOperator = find(filterOperators, (filterOperator) => filterOperator[RecordGridFilterDataLogic.And]);\n                        if (andOperator) {\n                            processRange(andOperator[RecordGridFilterDataLogic.And]);\n                        }\n                        else if (filterOperators.length === 1) {\n                            let eqValue = filterOperators[0][RecordGridFilterOperator.Eq][fieldId];\n                            if (eqValue !== '$NULL$' && !eqValue[RecordGridNamedFilterOptionKey]) {\n                                eqValue = moment(eqValue, 'LTS');\n                                filterValue = [eqValue, eqValue];\n                            }\n                        }\n                    }\n                    const namedFilterOptionGuids = this.getNamedFilterOptionGuids(filterOperators, fieldId);\n                    return {\n                        filterOptionId: fieldId,\n                        value: new RxRecordGridAdvancedFilterValue(filterValue, namedFilterOptionGuids)\n                    };\n                }\n            },\n            [RX_RECORD_DEFINITION.resourceTypes.dateOnly]: {\n                filterOptionDataType: AdvancedFilterOptionDataType.date,\n                getQueryFilter: (filterTag, fieldDefinition, fieldId, namedFilterOptions) => {\n                    const selectedNamedOptionExpressions = this.getSelectedNamedOptionExpressions(namedFilterOptions, filterTag);\n                    const [fromValue, toValue] = filterTag.value.filterValue.map((value) => moment(value));\n                    const queries = [];\n                    if (fromValue && fromValue.isValid()) {\n                        queries.push(this.rxRecordGridFilterService.buildQueryFilter(fieldId, '>=', fromValue.format('YYYY-MM-DD')));\n                    }\n                    if (toValue && toValue.isValid()) {\n                        queries.push(this.rxRecordGridFilterService.buildQueryFilter(fieldId, '<=', toValue.format('YYYY-MM-DD')));\n                    }\n                    const valueQuery = this.rxRecordGridFilterService.joinQueryFilters(queries, QueryFiltersLogic.And);\n                    return this.rxRecordGridFilterService.joinQueryFilters(valueQuery ? [valueQuery, ...selectedNamedOptionExpressions] : selectedNamedOptionExpressions, QueryFiltersLogic.Or);\n                },\n                getRecordGridFilterData: (value, fieldDefinition, fieldId) => {\n                    const [fromValue, toValue] = value.filterValue.map((value) => moment(value));\n                    const queries = [];\n                    if (fromValue) {\n                        queries.push(this.getRecordGridFilterOperator(RecordGridFilterOperator.Gte, fieldId, fromValue && fromValue.isValid() ? fromValue.format('YYYY-MM-DD') : ''));\n                    }\n                    if (toValue) {\n                        queries.push(this.getRecordGridFilterOperator(RecordGridFilterOperator.Lte, fieldId, toValue && toValue.isValid() ? toValue.format('YYYY-MM-DD') : ''));\n                    }\n                    return this.getFilterRangeDataOperator(queries, this.getNamedFilterOptionsOperators(value, fieldId));\n                },\n                getSelectedAdvancedFilterData: (filterLogic, filterOperators, fieldDefinition, fieldId) => {\n                    return this.getDateSelectedAdvancedFilterData(fieldId, filterLogic, filterOperators);\n                }\n            },\n            [RX_RECORD_DEFINITION.resourceTypes.dateTime]: {\n                filterOptionDataType: AdvancedFilterOptionDataType.datetime,\n                getQueryFilter: (filterTag, fieldDefinition, fieldId, namedFilterOptions) => {\n                    const selectedNamedOptionExpressions = this.getSelectedNamedOptionExpressions(namedFilterOptions, filterTag);\n                    const [fromValue, toValue] = filterTag.value.filterValue.map((value) => moment(value));\n                    const queries = [];\n                    if (fromValue === null || fromValue === void 0 ? void 0 : fromValue.isValid()) {\n                        queries.push(this.rxRecordGridFilterService.buildQueryFilter(fieldId, '>=', fromValue.toISOString()));\n                    }\n                    if (toValue === null || toValue === void 0 ? void 0 : toValue.isValid()) {\n                        queries.push(this.rxRecordGridFilterService.buildQueryFilter(fieldId, '<=', toValue.toISOString()));\n                    }\n                    const valueQuery = this.rxRecordGridFilterService.joinQueryFilters(queries, QueryFiltersLogic.And);\n                    return this.rxRecordGridFilterService.joinQueryFilters(valueQuery ? [valueQuery, ...selectedNamedOptionExpressions] : selectedNamedOptionExpressions, QueryFiltersLogic.Or);\n                },\n                getRecordGridFilterData: (value, fieldDefinition, fieldId) => {\n                    const [fromValue, toValue] = value.filterValue.map((value) => moment(value));\n                    const queries = [];\n                    if (fromValue === null || fromValue === void 0 ? void 0 : fromValue.isValid()) {\n                        queries.push(this.getRecordGridFilterOperator(RecordGridFilterOperator.Gte, fieldId, fromValue.toISOString()));\n                    }\n                    if (toValue === null || toValue === void 0 ? void 0 : toValue.isValid()) {\n                        queries.push(this.getRecordGridFilterOperator(RecordGridFilterOperator.Lte, fieldId, toValue.toISOString()));\n                    }\n                    return this.getFilterRangeDataOperator(queries, this.getNamedFilterOptionsOperators(value, fieldId));\n                },\n                getSelectedAdvancedFilterData: (filterLogic, filterOperators, fieldDefinition, fieldId) => {\n                    return this.getDateSelectedAdvancedFilterData(fieldId, filterLogic, filterOperators);\n                }\n            },\n            [RX_RECORD_DEFINITION.resourceTypes.boolean]: {\n                filterOptionDataType: AdvancedFilterOptionDataType.boolean,\n                getQueryFilter: (filterTag, fieldDefinition, fieldId, namedFilterOptions) => {\n                    const selectedNamedOptionExpressions = this.getSelectedNamedOptionExpressions(namedFilterOptions, filterTag);\n                    return this.rxRecordGridFilterService.joinQueryFilters(castArray(filterTag.value.filterValue)\n                        .map((filterValue) => this.rxRecordGridFilterService.buildQueryFilter(fieldId, '=', this.getBooleanFilterValue(filterValue)))\n                        .concat(selectedNamedOptionExpressions), QueryFiltersLogic.Or);\n                },\n                getRecordGridFilterData: (value, fieldDefinition, fieldId) => {\n                    return {\n                        or: castArray(value.filterValue)\n                            .map((filterValue) => this.getRecordGridFilterOperator(RecordGridFilterOperator.Eq, fieldId, this.getBooleanFilterValue(filterValue)))\n                            .concat(this.getNamedFilterOptionsOperators(value, fieldId))\n                    };\n                },\n                getDataForAdvancedFilter: (fieldDefinition) => {\n                    return {\n                        selectOptions: [\n                            {\n                                name: this.translateService.instant('com.bmc.arsys.rx.client.common.true'),\n                                id: true\n                            },\n                            {\n                                name: this.translateService.instant('com.bmc.arsys.rx.client.common.false'),\n                                id: false\n                            },\n                            {\n                                name: this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.filters.blank.label'),\n                                id: 'blank'\n                            }\n                        ],\n                        isRequired: fieldDefinition.fieldOption === RecordFieldOption.Required\n                    };\n                },\n                getSelectedAdvancedFilterData: (filterLogic, filterOperators, fieldDefinition, fieldId) => {\n                    let filterValue;\n                    if (fieldDefinition.fieldOption === RecordFieldOption.Required) {\n                        if (filterOperators.length === 1) {\n                            const eqOperator = find(filterOperators, (filterOperator) => filterOperator[RecordGridFilterOperator.Eq]);\n                            if (eqOperator) {\n                                const savedFilterValue = eqOperator[RecordGridFilterOperator.Eq][fieldId];\n                                if (savedFilterValue === '$NULL$') {\n                                    filterValue = null;\n                                }\n                                else {\n                                    filterValue = [savedFilterValue === 'true'];\n                                }\n                            }\n                        }\n                        else {\n                            filterValue = null;\n                        }\n                    }\n                    else {\n                        filterValue = [];\n                        if (filterLogic === RecordGridFilterDataLogic.Or) {\n                            filterOperators.forEach((filterOperator) => {\n                                const operator = Object.keys(filterOperator)[0];\n                                if (operator === RecordGridFilterOperator.Eq) {\n                                    const value = filterOperator[operator][fieldId];\n                                    if (!value[RecordGridNamedFilterOptionKey]) {\n                                        switch (value) {\n                                            case 'true':\n                                                filterValue.push(true);\n                                                break;\n                                            case '$NULL$':\n                                                filterValue.push(booleanDataTypeBlankValue);\n                                                break;\n                                            default:\n                                                filterValue.push(false);\n                                                break;\n                                        }\n                                    }\n                                }\n                            });\n                        }\n                    }\n                    const namedFilterOptionGuids = this.getNamedFilterOptionGuids(filterOperators, fieldId);\n                    return filterValue\n                        ? {\n                            filterOptionId: fieldId,\n                            value: new RxRecordGridAdvancedFilterValue(filterValue, namedFilterOptionGuids)\n                        }\n                        : null;\n                }\n            },\n            [RX_RECORD_DEFINITION.resourceTypes.recordInstance]: null,\n            [RX_RECORD_DEFINITION.resourceTypes.object]: null,\n            [RX_RECORD_DEFINITION.resourceTypes.recordInstanceProcessVariable]: null,\n            [RX_RECORD_DEFINITION.resourceTypes.localizedFieldInstance]: null\n        };\n    }\n    getDateSelectedAdvancedFilterData(fieldId, filterLogic, filterOperators) {\n        let filterValue = [null, null];\n        const processRange = (operators) => {\n            const gteOperator = find(operators, (filterOperator) => filterOperator[RecordGridFilterOperator.Gte]);\n            if (gteOperator) {\n                const fromValue = moment(gteOperator[RecordGridFilterOperator.Gte][fieldId]);\n                if (fromValue.isValid()) {\n                    filterValue[0] = fromValue;\n                }\n            }\n            const lteOperator = find(operators, (filterOperator) => filterOperator[RecordGridFilterOperator.Lte]);\n            if (lteOperator) {\n                const toValue = moment(lteOperator[RecordGridFilterOperator.Lte][fieldId]);\n                if (toValue.isValid()) {\n                    filterValue[1] = toValue;\n                }\n            }\n        };\n        if (filterLogic === RecordGridFilterDataLogic.And) {\n            processRange(filterOperators);\n        }\n        else if (filterLogic === RecordGridFilterDataLogic.Or) {\n            const andOperator = find(filterOperators, (filterOperator) => filterOperator[RecordGridFilterDataLogic.And]);\n            if (andOperator) {\n                processRange(andOperator[RecordGridFilterDataLogic.And]);\n            }\n            else if (filterOperators.length === 1) {\n                let eqValue = filterOperators[0][RecordGridFilterOperator.Eq][fieldId];\n                if (eqValue !== '$NULL$' && !eqValue[RecordGridNamedFilterOptionKey]) {\n                    eqValue = moment(eqValue);\n                    filterValue = [eqValue, eqValue];\n                }\n            }\n        }\n        return {\n            filterOptionId: fieldId,\n            value: new RxRecordGridAdvancedFilterValue(filterValue, this.getNamedFilterOptionGuids(filterOperators, fieldId))\n        };\n    }\n    getFilterRangeDataOperator(queries, namedFilterOptionOperators) {\n        const andOperator = {\n            and: queries\n        };\n        if (namedFilterOptionOperators.length) {\n            return {\n                or: queries.length ? namedFilterOptionOperators.concat(andOperator) : namedFilterOptionOperators\n            };\n        }\n        else {\n            return andOperator;\n        }\n    }\n    getNamedFilterOptionGuids(filterOperators, fieldId) {\n        return filterOperators\n            .filter((filterOperator) => filterOperator[RecordGridFilterOperator.Eq])\n            .map((operator) => {\n            const operatorElementElement = operator[RecordGridFilterOperator.Eq][fieldId];\n            return operatorElementElement ? operatorElementElement[RecordGridNamedFilterOptionKey] : null;\n        })\n            .filter((guid) => Boolean(guid));\n    }\n    getSelectedNamedOptionExpressions(namedFilterOptions, filterTag) {\n        return namedFilterOptions\n            .filter((option) => filterTag.value.namedOptions.includes(option.guid))\n            .map((option) => option.filterExpression.replace(this.associatedFieldIdPatternRegExp, '${$1}'));\n    }\n    getNamedFilterOptionsOperators(value, fieldId) {\n        return value.namedOptions.map((guid) => this.getRecordGridFilterOperator(RecordGridFilterOperator.Eq, fieldId, {\n            [RecordGridNamedFilterOptionKey]: guid\n        }));\n    }\n    getRecordGridFilterOperator(operator, fieldId, value) {\n        return { [operator]: { [fieldId]: value } };\n    }\n    getBooleanFilterValue(filterValue) {\n        return filterValue ? (filterValue === booleanDataTypeBlankValue ? '$NULL$' : 'true') : 'false';\n    }\n}\nRxRecordGridFilterConfigService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridFilterConfigService, deps: [{ token: RxRecordGridFilterService }, { token: i2$1.RxNumberUtilsService }, { token: i2$6.RxNamedListService }, { token: i2.TranslateService }, { token: i1$5.RxRecordInstanceUtilsService }, { token: RxRecordGridUtilsService }, { token: i1$1.RxDefinitionNameService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRecordGridFilterConfigService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridFilterConfigService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridFilterConfigService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: RxRecordGridFilterService }, { type: i2$1.RxNumberUtilsService }, { type: i2$6.RxNamedListService }, { type: i2.TranslateService }, { type: i1$5.RxRecordInstanceUtilsService }, { type: RxRecordGridUtilsService }, { type: i1$1.RxDefinitionNameService }]; } });\n\nclass RxNamedFilterOptionsListComponent {\n    constructor() {\n        this.defaultFilterValue = [];\n        this.namedFilterOptionsChange = new EventEmitter();\n        this.namedFilterOptionsModel = {};\n    }\n    set filterValue(values) {\n        const ids = values === null || values === void 0 ? void 0 : values.namedOptions;\n        this._filterValue = values;\n        Object.keys(this.namedFilterOptionsModel).forEach((key) => (this.namedFilterOptionsModel[key] = false));\n        ids === null || ids === void 0 ? void 0 : ids.forEach((id) => (this.namedFilterOptionsModel[id] = true));\n    }\n    get filterValue() {\n        return this._filterValue;\n    }\n    trackByOptionGuid(index, option) {\n        return option['guid'];\n    }\n    onNamedFilterOptionChange() {\n        var _a, _b;\n        const selectedGuids = this.getSelectedNamedOptionsIds();\n        this.namedFilterOptionsChange.emit(selectedGuids);\n        const value = new RxRecordGridAdvancedFilterValue((_b = (_a = this.filterValue) === null || _a === void 0 ? void 0 : _a.filterValue) !== null && _b !== void 0 ? _b : this.defaultFilterValue, selectedGuids);\n        this.filterControlsComponent.onFilterOptionModelChange(value);\n    }\n    getSelectedNamedOptionsIds() {\n        return reduce(this.namedFilterOptionsModel, (result, value, id) => {\n            if (value) {\n                result.push(id);\n            }\n            return result;\n        }, []);\n    }\n}\nRxNamedFilterOptionsListComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNamedFilterOptionsListComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nRxNamedFilterOptionsListComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxNamedFilterOptionsListComponent, selector: \"rx-named-filter-options-list\", inputs: { namedFilterOptions: \"namedFilterOptions\", filterOption: \"filterOption\", filterValue: \"filterValue\", filterControlsComponent: \"filterControlsComponent\", defaultFilterValue: \"defaultFilterValue\" }, outputs: { namedFilterOptionsChange: \"namedFilterOptionsChange\" }, ngImport: i0, template: \"<div class=\\\"options-wrapper\\\" *ngIf=\\\"namedFilterOptions?.length\\\">\\n  <adapt-rx-checkbox\\n    class=\\\"dropdown-item p-0 text-break\\\"\\n    *ngFor=\\\"let option of namedFilterOptions; trackBy: trackByOptionGuid\\\"\\n    [label]=\\\"option.title\\\"\\n    [(ngModel)]=\\\"namedFilterOptionsModel[option.guid]\\\"\\n    (ngModelChange)=\\\"onNamedFilterOptionChange()\\\"\\n  ></adapt-rx-checkbox>\\n</div>\\n\", styles: [\".options-wrapper{margin-top:-1.5rem;margin-bottom:-2px}adapt-rx-checkbox:not(:last-child){margin-bottom:14px}.dropdown-item{white-space:normal}\\n\"], components: [{ type: i1.AdaptRxCheckboxComponent, selector: \"adapt-rx-checkbox\", inputs: [\"value\", \"checked\", \"indeterminate\"], outputs: [\"indeterminateChange\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNamedFilterOptionsListComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-named-filter-options-list',\n                    templateUrl: './named-filter-options-list.component.html',\n                    styleUrls: ['./named-filter-options-list.component.scss']\n                }]\n        }], propDecorators: { namedFilterOptions: [{\n                type: Input\n            }], filterOption: [{\n                type: Input\n            }], filterValue: [{\n                type: Input\n            }], filterControlsComponent: [{\n                type: Input\n            }], defaultFilterValue: [{\n                type: Input\n            }], namedFilterOptionsChange: [{\n                type: Output\n            }] } });\n\nclass RxBooleanFilterComponent {\n    constructor() {\n        this.namedFilterOptions = [];\n        this.isRequired = false;\n    }\n    set filterValue(values) {\n        const selectOptions = this.getSelectOptions();\n        this._filterValue = values;\n        this.selectedValues = (values === null || values === void 0 ? void 0 : values.filterValue)\n            ? values.filterValue.map((value) => find(selectOptions, { id: value }))\n            : [];\n    }\n    get filterValue() {\n        return this._filterValue;\n    }\n    selectOptionFormatter(option) {\n        return option.name;\n    }\n    onValueChange(values) {\n        var _a;\n        const filterValue = values.map((value) => value.id);\n        this.filterControlsComponent.onFilterOptionModelChange(new RxRecordGridAdvancedFilterValue(filterValue, (_a = this.filterValue) === null || _a === void 0 ? void 0 : _a.namedOptions));\n    }\n    getSelectOptions() {\n        var _a;\n        return ((_a = this.filterOption.data) === null || _a === void 0 ? void 0 : _a.selectOptions) || [];\n    }\n    onValueChangeRequired(model) {\n        var _a, _b, _c;\n        const oldModelValue = Array.isArray((_a = this.filterValue) === null || _a === void 0 ? void 0 : _a.filterValue)\n            ? this.filterValue.filterValue[0]\n            : (_b = this.filterValue) === null || _b === void 0 ? void 0 : _b.filterValue;\n        this.filterControlsComponent.onFilterOptionModelChange(new RxRecordGridAdvancedFilterValue(model === oldModelValue ? null : [model], (_c = this.filterValue) === null || _c === void 0 ? void 0 : _c.namedOptions));\n    }\n}\nRxBooleanFilterComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBooleanFilterComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nRxBooleanFilterComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxBooleanFilterComponent, selector: \"rx-boolean-filter\", inputs: { filterOption: \"filterOption\", filterValue: \"filterValue\", filterControlsComponent: \"filterControlsComponent\", namedFilterOptions: \"namedFilterOptions\", isRequired: \"isRequired\" }, ngImport: i0, template: \"<rx-named-filter-options-list\\n  *ngIf=\\\"namedFilterOptions?.length\\\"\\n  [namedFilterOptions]=\\\"namedFilterOptions\\\"\\n  [filterOption]=\\\"filterOption\\\"\\n  [filterValue]=\\\"filterValue\\\"\\n  [filterControlsComponent]=\\\"filterControlsComponent\\\"\\n></rx-named-filter-options-list>\\n\\n<adapt-rx-select\\n  *ngIf=\\\"!isRequired; else inputsForBooleanTypeTemplate\\\"\\n  class=\\\"advanced-filter__rx-select advanced-filter__rx-select_simple\\\"\\n  [inline]=\\\"true\\\"\\n  [multiple]=\\\"true\\\"\\n  [optionFormatter]=\\\"selectOptionFormatter\\\"\\n  [options]=\\\"getSelectOptions()\\\"\\n  [popupMaxHeight]=\\\"null\\\"\\n  [ngModel]=\\\"selectedValues\\\"\\n  (ngModelChange)=\\\"onValueChange($event)\\\"\\n>\\n</adapt-rx-select>\\n\\n<ng-template #inputsForBooleanTypeTemplate>\\n  <adapt-rx-radiobutton-group\\n    class=\\\"advanced-filter__radiobutton-group\\\"\\n    [ngModel]=\\\"filterValue ? filterValue.filterValue[0] : null\\\"\\n    (ngModelChange)=\\\"onValueChangeRequired($event)\\\"\\n  >\\n    <adapt-rx-radiobutton\\n      name=\\\"booleanTypeGroup\\\"\\n      class=\\\"advanced-filter__radiobutton\\\"\\n      [value]=\\\"false\\\"\\n      [label]=\\\"filterControlsComponent.texts.configsTexts.falseLabel\\\"\\n      [testID]=\\\"filterControlsComponent.testID + '_radio_false'\\\"\\n      [disabled]=\\\"filterControlsComponent.isInputDisabled(false)\\\"\\n    >\\n    </adapt-rx-radiobutton>\\n    <adapt-rx-radiobutton\\n      name=\\\"booleanTypeGroup\\\"\\n      class=\\\"advanced-filter__radiobutton\\\"\\n      [value]=\\\"true\\\"\\n      [label]=\\\"filterControlsComponent.texts.configsTexts.trueLabel\\\"\\n      [testID]=\\\"filterControlsComponent.testID + '_radio_true'\\\"\\n      [disabled]=\\\"filterControlsComponent.isInputDisabled(true)\\\"\\n    >\\n    </adapt-rx-radiobutton>\\n    <adapt-rx-radiobutton\\n      *ngIf=\\\"filterControlsComponent.getBooleanTypeOptionParams().hasBlankValue\\\"\\n      name=\\\"booleanTypeGroup\\\"\\n      class=\\\"advanced-filter__radiobutton\\\"\\n      [value]=\\\"filterControlsComponent.getBooleanTypeBlankValue()\\\"\\n      [label]=\\\"filterControlsComponent.texts.configsTexts.blankLabel\\\"\\n      [testID]=\\\"filterControlsComponent.testID + '_radio_blank'\\\"\\n      [disabled]=\\\"filterControlsComponent.isInputDisabled(filterControlsComponent.getBooleanTypeBlankValue())\\\"\\n    >\\n    </adapt-rx-radiobutton>\\n  </adapt-rx-radiobutton-group>\\n</ng-template>\\n\", components: [{ type: RxNamedFilterOptionsListComponent, selector: \"rx-named-filter-options-list\", inputs: [\"namedFilterOptions\", \"filterOption\", \"filterValue\", \"filterControlsComponent\", \"defaultFilterValue\"], outputs: [\"namedFilterOptionsChange\"] }, { type: i1.AdaptRxSelectComponent, selector: \"adapt-rx-select\", inputs: [\"options\", \"emptyOption\", \"optionFormatter\", \"optionContentTemplate\", \"disabledOptionResolver\", \"titleFormatter\", \"focusFirst\", \"texts\", \"multiple\", \"singleSelectStyle\", \"enableFilter\", \"inline\", \"selectAllButton\", \"deselectAllButton\", \"loadMoreButton\", \"loadMoreCallback\", \"loadMoreInProgress\", \"loadingState\", \"placeholder\", \"size\", \"closeOnSelect\", \"placement\", \"appendToBody\", \"popupMaxHeight\", \"popupClass\", \"pageSize\", \"ariaInvalid\", \"virtualScroll\", \"virtualScrollItemSize\", \"virtualScrollTemplateCacheSize\", \"minBufferPx\", \"maxBufferPx\"], outputs: [\"onSelectionChange\", \"onPopupOpenChange\", \"onFilterValueChange\"] }, { type: i1.AdaptRxRadiobuttonGroupComponent, selector: \"adapt-rx-radiobutton-group\", inputs: [\"formControlName\"] }, { type: i1.AdaptRxRadiobuttonComponent, selector: \"adapt-rx-radiobutton\", inputs: [\"name\", \"label\", \"id\", \"value\", \"checked\", \"disabled\", \"ariaLabel\", \"ariaLabeledBy\", \"ariaDescribedBy\", \"testID\", \"tabIndex\"], outputs: [\"onFocus\", \"onBlur\", \"checkedChange\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBooleanFilterComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-boolean-filter',\n                    templateUrl: './boolean-filter.component.html'\n                }]\n        }], propDecorators: { filterOption: [{\n                type: Input\n            }], filterValue: [{\n                type: Input\n            }], filterControlsComponent: [{\n                type: Input\n            }], namedFilterOptions: [{\n                type: Input\n            }], isRequired: [{\n                type: Input\n            }] } });\n\nclass RxStringWithTypeAheadFilterComponent {\n    constructor(rxNamedListService, rxNamedListDefinitionService, rxFeatureService) {\n        this.rxNamedListService = rxNamedListService;\n        this.rxNamedListDefinitionService = rxNamedListDefinitionService;\n        this.rxFeatureService = rxFeatureService;\n        this.namedFilterOptions = [];\n        this.selectedValues = [];\n        this.isSearchInProgress = false;\n        this.search = (text$) => text$.pipe(debounceTime(250), distinctUntilChanged(), tap(() => {\n            this.isSearchInProgress = true;\n        }), switchMap((term) => this.getSelectOptions(term)), finalize(() => {\n            this.isSearchInProgress = false;\n        }));\n    }\n    set filterValue(values) {\n        this._filterValue = values;\n        this.selectedValues = (values === null || values === void 0 ? void 0 : values.filterValue) || [];\n    }\n    get filterValue() {\n        return this._filterValue;\n    }\n    ngOnInit() {\n        var _a;\n        this.namedListDefinition$ = this.rxNamedListDefinitionService\n            .get(this.filterOption.data.namedListDefinition)\n            .pipe(shareReplay(1));\n        this.typeaheadKeystrokeCount =\n            (_a = this.filterOption.data.typeaheadKeystrokeCount) !== null && _a !== void 0 ? _a : RX_RECORD_GRID.defaultTypeaheadKeystrokeCount;\n    }\n    onValueChange(selectedValues) {\n        var _a;\n        this.filterControlsComponent.onFilterOptionModelChange(new RxRecordGridAdvancedFilterValue(selectedValues.map((selectedValue) => this.rxNamedListService.isNamedListOption(selectedValue)\n            ? selectedValue\n            : { displayValue: undefined, value: selectedValue, title: '', contextualFields: [] }), (_a = this.filterValue) === null || _a === void 0 ? void 0 : _a.namedOptions));\n    }\n    getSelectOptions(term) {\n        return term.length >= this.typeaheadKeystrokeCount\n            ? this.namedListDefinition$.pipe(switchMap((namedListDefinition) => this.rxNamedListService\n                .getOptionPageByLabelOrValue(namedListDefinition, term, this.filterOption.data.additionalQueryCriteria)\n                .pipe(map((optionPage) => optionPage.options))))\n            : of([]);\n    }\n}\nRxStringWithTypeAheadFilterComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxStringWithTypeAheadFilterComponent, deps: [{ token: i2$6.RxNamedListService }, { token: i2$6.RxNamedListDefinitionService }, { token: i1$1.RxFeatureService }], target: i0.ɵɵFactoryTarget.Component });\nRxStringWithTypeAheadFilterComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxStringWithTypeAheadFilterComponent, selector: \"rx-string-with-type-ahead-filter\", inputs: { filterOption: \"filterOption\", filterControlsComponent: \"filterControlsComponent\", filterValue: \"filterValue\", namedFilterOptions: \"namedFilterOptions\" }, ngImport: i0, template: \"<rx-named-filter-options-list\\n  *ngIf=\\\"namedFilterOptions?.length\\\"\\n  [namedFilterOptions]=\\\"namedFilterOptions\\\"\\n  [filterOption]=\\\"filterOption\\\"\\n  [filterValue]=\\\"filterValue\\\"\\n  [filterControlsComponent]=\\\"filterControlsComponent\\\"\\n></rx-named-filter-options-list>\\n\\n<div style=\\\"position: relative\\\">\\n  <adapt-tag-field\\n    [search]=\\\"search\\\"\\n    [ngModel]=\\\"selectedValues\\\"\\n    (ngModelChange)=\\\"onValueChange($event)\\\"\\n    [replaceModelOnWrite]=\\\"true\\\"\\n    [selectItemTemplate]=\\\"selectItemTemplate\\\"\\n    [tagTemplate]=\\\"tagTemplate\\\"\\n    [openDropdownOnFocus]=\\\"typeaheadKeystrokeCount === 0\\\"\\n    [placeholder]=\\\"'com.bmc.arsys.rx.client.view-components.record-grid.filters.typeahead.placeholder' | translate\\\"\\n  ></adapt-tag-field>\\n  <div *ngIf=\\\"isSearchInProgress\\\" class=\\\"position-absolute text-info inline-loader\\\">\\n    <div class=\\\"d-icon-circle_75_o animated infinite spin-360 transition-out slow\\\"></div>\\n  </div>\\n</div>\\n\\n<ng-template #tagTemplate let-tag=\\\"tag\\\">\\n  {{ tag.displayValue ?? tag.value }}\\n</ng-template>\\n\\n<ng-template #selectItemTemplate let-result=\\\"result\\\">\\n  {{ result.displayValue ?? result.value }}\\n\\n  <div\\n    *ngIf=\\\"result.contextualFields\\\"\\n    class=\\\"text-secondary selection-item-contextual-fields text-truncate\\\"\\n    [title]=\\\"result.title\\\"\\n  >\\n    <span class=\\\"breadcrumb-item active\\\" *ngFor=\\\"let contextualFieldValue of result.contextualFields\\\">\\n      <small> {{ contextualFieldValue }} </small>\\n    </span>\\n  </div>\\n</ng-template>\\n\", styles: [\".inline-loader{z-index:10;right:15px;top:8px}.selection-item-contextual-fields{max-width:300px}\\n\"], components: [{ type: RxNamedFilterOptionsListComponent, selector: \"rx-named-filter-options-list\", inputs: [\"namedFilterOptions\", \"filterOption\", \"filterValue\", \"filterControlsComponent\", \"defaultFilterValue\"], outputs: [\"namedFilterOptionsChange\"] }, { type: i1.AdaptMetatagComponent, selector: \"adapt-metatag, adapt-tag-field\", inputs: [\"prefix\", \"suffix\", \"maxTagLength\", \"truncateConfig\", \"id\", \"testID\", \"name\", \"ariaLabel\", \"search\", \"maxHeight\", \"suppressManual\", \"label\", \"placeholder\", \"mainErrorText\", \"warningStateText\", \"width\", \"errorCheck\", \"warningCheck\", \"selectItemTemplate\", \"tagTemplate\", \"replaceModelOnWrite\", \"delimiterSymbol\", \"popupClass\", \"disabledInput\", \"openDropdownOnFocus\", \"selectItemFormatter\", \"fullWidthEdit\", \"tagStyleFormatter\"], outputs: [\"focus\", \"blur\", \"removeTag\", \"addTag\", \"initTagEditing\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxStringWithTypeAheadFilterComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-string-with-type-ahead-filter',\n                    templateUrl: './string-with-type-ahead-filter.component.html',\n                    styleUrls: ['./string-with-type-ahead-filter.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i2$6.RxNamedListService }, { type: i2$6.RxNamedListDefinitionService }, { type: i1$1.RxFeatureService }]; }, propDecorators: { filterOption: [{\n                type: Input\n            }], filterControlsComponent: [{\n                type: Input\n            }], filterValue: [{\n                type: Input\n            }], namedFilterOptions: [{\n                type: Input\n            }] } });\n\nclass RxStringFilterComponent {\n    constructor() {\n        this.namedFilterOptions = [];\n    }\n    onStringTypeFilterOptionModelChange(model, tagField) {\n        var _a, _b;\n        const newModel = model.filter((tag) => !isEmptyOrWhitespace(getTagText(tag)));\n        if (newModel.length < model.length && isEqual(newModel, ((_a = this.filterValue) === null || _a === void 0 ? void 0 : _a.filterValue) || [])) {\n            tagField.writeValue(newModel);\n        }\n        else {\n            this.filterControlsComponent.onFilterOptionModelChange(new RxRecordGridAdvancedFilterValue(newModel, (_b = this.filterValue) === null || _b === void 0 ? void 0 : _b.namedOptions));\n        }\n    }\n}\nRxStringFilterComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxStringFilterComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nRxStringFilterComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxStringFilterComponent, selector: \"rx-string-filter\", inputs: { filterOption: \"filterOption\", filterValue: \"filterValue\", filterControlsComponent: \"filterControlsComponent\", namedFilterOptions: \"namedFilterOptions\" }, ngImport: i0, template: \"<rx-named-filter-options-list\\n  *ngIf=\\\"namedFilterOptions?.length\\\"\\n  [namedFilterOptions]=\\\"namedFilterOptions\\\"\\n  [filterOption]=\\\"filterOption\\\"\\n  [filterValue]=\\\"filterValue\\\"\\n  [filterControlsComponent]=\\\"filterControlsComponent\\\"\\n></rx-named-filter-options-list>\\n\\n<adapt-tag-field\\n  #stringDataTypeTagField\\n  mainCls=\\\"advanced-filter__string-tag-field\\\"\\n  [ngModel]=\\\"filterValue?.filterValue || []\\\"\\n  popupClass=\\\"advanced-filter__typeahead-window\\\"\\n  [testID]=\\\"filterControlsComponent.testID\\\"\\n  (ngModelChange)=\\\"onStringTypeFilterOptionModelChange($event, stringDataTypeTagField)\\\"\\n  [delimiterSymbol]=\\\"null\\\"\\n  [placeholder]=\\\"filterControlsComponent.texts.stringTypeTagFieldPlaceholder\\\"\\n  [replaceModelOnWrite]=\\\"true\\\"\\n  [disabled]=\\\"filterControlsComponent.isInputDisabled()\\\"\\n  [hideLabel]=\\\"true\\\"\\n>\\n</adapt-tag-field>\\n\", components: [{ type: RxNamedFilterOptionsListComponent, selector: \"rx-named-filter-options-list\", inputs: [\"namedFilterOptions\", \"filterOption\", \"filterValue\", \"filterControlsComponent\", \"defaultFilterValue\"], outputs: [\"namedFilterOptionsChange\"] }, { type: i1.AdaptMetatagComponent, selector: \"adapt-metatag, adapt-tag-field\", inputs: [\"prefix\", \"suffix\", \"maxTagLength\", \"truncateConfig\", \"id\", \"testID\", \"name\", \"ariaLabel\", \"search\", \"maxHeight\", \"suppressManual\", \"label\", \"placeholder\", \"mainErrorText\", \"warningStateText\", \"width\", \"errorCheck\", \"warningCheck\", \"selectItemTemplate\", \"tagTemplate\", \"replaceModelOnWrite\", \"delimiterSymbol\", \"popupClass\", \"disabledInput\", \"openDropdownOnFocus\", \"selectItemFormatter\", \"fullWidthEdit\", \"tagStyleFormatter\"], outputs: [\"focus\", \"blur\", \"removeTag\", \"addTag\", \"initTagEditing\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxStringFilterComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-string-filter',\n                    templateUrl: './string-filter.component.html'\n                }]\n        }], propDecorators: { filterOption: [{\n                type: Input\n            }], filterValue: [{\n                type: Input\n            }], filterControlsComponent: [{\n                type: Input\n            }], namedFilterOptions: [{\n                type: Input\n            }] } });\n\nclass RxNumberFilterComponent {\n    getNumberDataTypeModel(value, indexOfCounter) {\n        return value && value.filterValue ? value.filterValue[indexOfCounter] : null;\n    }\n    onNumberTypeFilterOptionModelChange(filterValue, controlComponent, newValue) {\n        controlComponent.onFilterOptionModelChange(new RxRecordGridAdvancedFilterValue(newValue, filterValue === null || filterValue === void 0 ? void 0 : filterValue.namedOptions));\n    }\n}\nRxNumberFilterComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNumberFilterComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nRxNumberFilterComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxNumberFilterComponent, selector: \"rx-number-filter\", inputs: { filterOption: \"filterOption\", filterControlsComponent: \"filterControlsComponent\", filterValue: \"filterValue\", namedFilterOptions: \"namedFilterOptions\" }, ngImport: i0, template: \"<rx-named-filter-options-list\\n  *ngIf=\\\"namedFilterOptions?.length\\\"\\n  [namedFilterOptions]=\\\"namedFilterOptions\\\"\\n  [filterOption]=\\\"filterOption\\\"\\n  [filterValue]=\\\"filterValue\\\"\\n  [filterControlsComponent]=\\\"filterControlsComponent\\\"\\n></rx-named-filter-options-list>\\n\\n<div class=\\\"d-flex\\\" [class.has-danger]=\\\"filterControlsComponent.hasValidationErrors\\\">\\n  <div class=\\\"advanced-filter__counter-from-wrap\\\">\\n    <adapt-rx-counter\\n      #counterFrom\\n      class=\\\"advanced-filter__counter-from\\\"\\n      [label]=\\\"filterControlsComponent.texts.counterFromLabel\\\"\\n      [ngModel]=\\\"getNumberDataTypeModel(filterValue, 0)\\\"\\n      (ngModelChange)=\\\"\\n        onNumberTypeFilterOptionModelChange(filterValue, filterControlsComponent, [\\n          $event,\\n          counterTo ? getNumberDataTypeModel(filterValue, 1) : null\\n        ])\\n      \\\"\\n      [min]=\\\"filterControlsComponent.getNumberDataTypeMinAllowedValue()\\\"\\n      [max]=\\\"filterControlsComponent.getNumberDataTypeMaxAllowedValue()\\\"\\n      [disabled]=\\\"filterControlsComponent.isInputDisabled()\\\"\\n      [testID]=\\\"filterControlsComponent.testID + '_from'\\\"\\n    >\\n    </adapt-rx-counter>\\n  </div>\\n  <div class=\\\"advanced-filter__counter-to-wrap\\\">\\n    <adapt-rx-counter\\n      #counterTo\\n      class=\\\"advanced-filter__counter-to\\\"\\n      [label]=\\\"filterControlsComponent.texts.counterToLabel\\\"\\n      [ngModel]=\\\"getNumberDataTypeModel(filterValue, 1)\\\"\\n      (ngModelChange)=\\\"\\n        onNumberTypeFilterOptionModelChange(filterValue, filterControlsComponent, [\\n          counterFrom ? getNumberDataTypeModel(filterValue, 0) : null,\\n          $event\\n        ])\\n      \\\"\\n      [min]=\\\"filterControlsComponent.getNumberDataTypeMinAllowedValue()\\\"\\n      [max]=\\\"filterControlsComponent.getNumberDataTypeMaxAllowedValue()\\\"\\n      [disabled]=\\\"filterControlsComponent.isInputDisabled()\\\"\\n      [testID]=\\\"filterControlsComponent.testID + '_to'\\\"\\n    >\\n    </adapt-rx-counter>\\n  </div>\\n</div>\\n\", components: [{ type: RxNamedFilterOptionsListComponent, selector: \"rx-named-filter-options-list\", inputs: [\"namedFilterOptions\", \"filterOption\", \"filterValue\", \"filterControlsComponent\", \"defaultFilterValue\"], outputs: [\"namedFilterOptionsChange\"] }, { type: i1.AdaptRxCounterComponent, selector: \"adapt-rx-counter\", inputs: [\"prefix\", \"suffix\", \"max\", \"min\", \"step\", \"size\", \"placeholder\", \"disabledStyleForReadonlyState\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNumberFilterComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-number-filter',\n                    templateUrl: './number-filter.component.html'\n                }]\n        }], propDecorators: { filterOption: [{\n                type: Input\n            }], filterControlsComponent: [{\n                type: Input\n            }], filterValue: [{\n                type: Input\n            }], namedFilterOptions: [{\n                type: Input\n            }] } });\n\n// Adapt dropped moment and changed the signature of AdvancedFilterTimeDataType from [moment.Moment, moment.Moment] to [RxDatetimeStruct, RxDatetimeStruct].\n// We need to extend the AdaptRxDatetimeAdapter class to implement the missing moment methods that we rely on.\nclass RxAdaptDatetimeMomentAdapter extends AdaptRxDatetimeAdapter {\n    /**\n     * Converts moment.Moment => RxDatetimeStruct\n     */\n    fromModel(dateValue) {\n        let adaptedValue = null;\n        const date = moment(dateValue);\n        if (date && date.isValid()) {\n            adaptedValue = {\n                year: date.year(),\n                month: date.month(),\n                date: date.date(),\n                hours: date.hours(),\n                minutes: date.minutes(),\n                seconds: date.seconds()\n            };\n        }\n        return adaptedValue;\n    }\n    /**\n     * Converts RxDatetimeStruct => moment.Moment\n     */\n    toModel(date) {\n        var _a, _b, _c, _d, _e, _f;\n        let adaptedValue = null;\n        if (date) {\n            const currentDateTime = moment();\n            adaptedValue = date.parseError\n                ? moment.invalid({\n                    invalidFormat: true,\n                    parsedDateParts: [date.parseError.query],\n                    meridiem: date.parseError.use12HoursTime ? '12' : '24'\n                })\n                : moment([\n                    (_a = date.year) !== null && _a !== void 0 ? _a : currentDateTime.year(),\n                    (_b = date.month) !== null && _b !== void 0 ? _b : currentDateTime.month(),\n                    (_c = date.date) !== null && _c !== void 0 ? _c : currentDateTime.date(),\n                    (_d = date.hours) !== null && _d !== void 0 ? _d : 0,\n                    (_e = date.minutes) !== null && _e !== void 0 ? _e : 0,\n                    (_f = date.seconds) !== null && _f !== void 0 ? _f : 0\n                ]);\n        }\n        return adaptedValue;\n    }\n}\nRxAdaptDatetimeMomentAdapter.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdaptDatetimeMomentAdapter, deps: null, target: i0.ɵɵFactoryTarget.Injectable });\nRxAdaptDatetimeMomentAdapter.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdaptDatetimeMomentAdapter });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdaptDatetimeMomentAdapter, decorators: [{\n            type: Injectable\n        }] });\n\nclass RxDateTimeRangeFilterComponent {\n    constructor() {\n        this.rxDatetimePickerMode = RxDatetimePickerMode;\n    }\n    onTimeTypeFilterOptionModelChange(model) {\n        this.onDateTimeTypeFilterOptionModelChange(model);\n    }\n    onDateTypeFilterOptionModelChange(model) {\n        if (model[0] && model[0].isValid()) {\n            model[0] = model[0].startOf('day');\n        }\n        if (model[1] && model[1].isValid()) {\n            model[1] = model[1].startOf('day');\n        }\n        this.onDateTimeTypeFilterOptionModelChange(model);\n    }\n    onDateTimeTypeFilterOptionModelChange(newValue) {\n        var _a;\n        this.filterControlsComponent.onFilterOptionModelChange(new RxRecordGridAdvancedFilterValue(newValue, (_a = this.filterValue) === null || _a === void 0 ? void 0 : _a.namedOptions));\n    }\n}\nRxDateTimeRangeFilterComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDateTimeRangeFilterComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nRxDateTimeRangeFilterComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxDateTimeRangeFilterComponent, selector: \"rx-date-time-range-filter\", inputs: { filterOption: \"filterOption\", filterControlsComponent: \"filterControlsComponent\", filterValue: \"filterValue\", namedFilterOptions: \"namedFilterOptions\", mode: \"mode\" }, providers: [{ provide: AdaptRxDatetimeAdapter, useClass: RxAdaptDatetimeMomentAdapter }], ngImport: i0, template: \"<rx-named-filter-options-list\\n  *ngIf=\\\"namedFilterOptions?.length\\\"\\n  [namedFilterOptions]=\\\"namedFilterOptions\\\"\\n  [filterOption]=\\\"filterOption\\\"\\n  [filterValue]=\\\"filterValue\\\"\\n  [filterControlsComponent]=\\\"filterControlsComponent\\\"\\n></rx-named-filter-options-list>\\n\\n<ng-container [ngSwitch]=\\\"mode\\\">\\n  <ng-container *ngSwitchCase=\\\"rxDatetimePickerMode.Time\\\" [ngTemplateOutlet]=\\\"inputsForTimeTypeTemplate\\\"></ng-container>\\n  <ng-container *ngSwitchCase=\\\"rxDatetimePickerMode.Date\\\" [ngTemplateOutlet]=\\\"inputsForDateTypeTemplate\\\"></ng-container>\\n  <ng-container\\n    *ngSwitchCase=\\\"rxDatetimePickerMode.DateTime\\\"\\n    [ngTemplateOutlet]=\\\"inputsForDatetimeTypeTemplate\\\"\\n  ></ng-container>\\n</ng-container>\\n\\n<ng-template #inputsForTimeTypeTemplate>\\n  <adapt-rx-datetime-range\\n    class=\\\"advanced-filter__datetime\\\"\\n    [ngModel]=\\\"filterValue?.filterValue\\\"\\n    (ngModelChange)=\\\"onTimeTypeFilterOptionModelChange($event)\\\"\\n    [testID]=\\\"filterControlsComponent.testID\\\"\\n    [mode]=\\\"mode\\\"\\n    [hasSeconds]=\\\"true\\\"\\n    [inline]=\\\"true\\\"\\n    [inlineLight]=\\\"true\\\"\\n    [texts]=\\\"filterControlsComponent.texts.datetimeTexts\\\"\\n    [disabled]=\\\"filterControlsComponent.isInputDisabled()\\\"\\n  >\\n  </adapt-rx-datetime-range>\\n</ng-template>\\n\\n<ng-template #inputsForDateTypeTemplate>\\n  <adapt-rx-datetime-range\\n    class=\\\"advanced-filter__datetime\\\"\\n    [ngModel]=\\\"filterValue?.filterValue\\\"\\n    (ngModelChange)=\\\"onDateTypeFilterOptionModelChange($event)\\\"\\n    [testID]=\\\"filterControlsComponent.testID\\\"\\n    [mode]=\\\"mode\\\"\\n    [inline]=\\\"true\\\"\\n    [inlineLight]=\\\"true\\\"\\n    [texts]=\\\"filterControlsComponent.texts.datetimeTexts\\\"\\n    [disabled]=\\\"filterControlsComponent.isInputDisabled()\\\"\\n  >\\n  </adapt-rx-datetime-range>\\n</ng-template>\\n\\n<ng-template #inputsForDatetimeTypeTemplate>\\n  <adapt-rx-datetime-range\\n    class=\\\"advanced-filter__datetime\\\"\\n    [ngModel]=\\\"filterValue?.filterValue\\\"\\n    (ngModelChange)=\\\"onDateTimeTypeFilterOptionModelChange($event)\\\"\\n    [testID]=\\\"filterControlsComponent.testID\\\"\\n    [mode]=\\\"mode\\\"\\n    [hasSeconds]=\\\"true\\\"\\n    [inline]=\\\"true\\\"\\n    [inlineLight]=\\\"true\\\"\\n    [texts]=\\\"filterControlsComponent.texts.datetimeTexts\\\"\\n    [disabled]=\\\"filterControlsComponent.isInputDisabled()\\\"\\n  >\\n  </adapt-rx-datetime-range>\\n</ng-template>\\n\", components: [{ type: RxNamedFilterOptionsListComponent, selector: \"rx-named-filter-options-list\", inputs: [\"namedFilterOptions\", \"filterOption\", \"filterValue\", \"filterControlsComponent\", \"defaultFilterValue\"], outputs: [\"namedFilterOptionsChange\"] }, { type: i1.AdaptRxDatetimeRangeComponent, selector: \"adapt-rx-datetime-range\", inputs: [\"placeholder\", \"inline\", \"placement\", \"appendToBody\", \"inlineLight\", \"inlineCompact\", \"dayFilter\", \"disableWizard\", \"mode\", \"hasSeconds\", \"use12HoursTime\", \"firstDayOfWeek\", \"initialDatetime\", \"defaultDatetime\", \"disabledStyleForReadonlyState\", \"popupClass\", \"texts\", \"inputFormat\"], outputs: [\"onPopupOpenChange\", \"onDatetimeChange\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { type: i3.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { type: i3.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDateTimeRangeFilterComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-date-time-range-filter',\n                    templateUrl: './date-time-range-filter.component.html',\n                    providers: [{ provide: AdaptRxDatetimeAdapter, useClass: RxAdaptDatetimeMomentAdapter }]\n                }]\n        }], propDecorators: { filterOption: [{\n                type: Input\n            }], filterControlsComponent: [{\n                type: Input\n            }], filterValue: [{\n                type: Input\n            }], namedFilterOptions: [{\n                type: Input\n            }], mode: [{\n                type: Input\n            }] } });\n\nclass RxSelectionFilterComponent {\n    set filterValue(values) {\n        this._filterValue = values;\n        const options = this.getSelectionTypeOptions();\n        this.selectionTypeModel =\n            options.length && (values === null || values === void 0 ? void 0 : values.filterValue)\n                ? values.filterValue.map((id) => options.find((option) => option.id === id))\n                : null;\n    }\n    get filterValue() {\n        return this._filterValue;\n    }\n    getSelectionTypeOptions() {\n        var _a;\n        const data = this.filterOption.data;\n        return (_a = data === null || data === void 0 ? void 0 : data.selectOptions) !== null && _a !== void 0 ? _a : [];\n    }\n    onSelectionTypeFilterOptionModelChange(value) {\n        var _a;\n        this.filterControlsComponent.onFilterOptionModelChange(new RxRecordGridAdvancedFilterValue(value.map((val) => val.id), (_a = this.filterValue) === null || _a === void 0 ? void 0 : _a.namedOptions));\n    }\n}\nRxSelectionFilterComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSelectionFilterComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nRxSelectionFilterComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxSelectionFilterComponent, selector: \"rx-selection-filter\", inputs: { filterOption: \"filterOption\", filterControlsComponent: \"filterControlsComponent\", filterValue: \"filterValue\", namedFilterOptions: \"namedFilterOptions\" }, ngImport: i0, template: \"<rx-named-filter-options-list\\n  *ngIf=\\\"namedFilterOptions?.length\\\"\\n  [namedFilterOptions]=\\\"namedFilterOptions\\\"\\n  [filterOption]=\\\"filterOption\\\"\\n  [filterValue]=\\\"filterValue\\\"\\n  [filterControlsComponent]=\\\"filterControlsComponent\\\"\\n></rx-named-filter-options-list>\\n\\n<adapt-rx-select\\n  class=\\\"advanced-filter__rx-select\\\"\\n  [class.advanced-filter__rx-select_simple]=\\\"filterControlsComponent.canShowSimpleInlineSelect()\\\"\\n  [inline]=\\\"true\\\"\\n  [multiple]=\\\"true\\\"\\n  [selectAllButton]=\\\"true\\\"\\n  [deselectAllButton]=\\\"true\\\"\\n  [enableFilter]=\\\"!filterControlsComponent.canShowSimpleInlineSelect()\\\"\\n  [optionFormatter]=\\\"filterControlsComponent.selectOptionFormatter\\\"\\n  [options]=\\\"filterControlsComponent.getSelectionTypeOptions()\\\"\\n  [texts]=\\\"filterControlsComponent.getSelectionTypeTexts()\\\"\\n  [popupMaxHeight]=\\\"null\\\"\\n  [ngModel]=\\\"selectionTypeModel\\\"\\n  (ngModelChange)=\\\"onSelectionTypeFilterOptionModelChange($event)\\\"\\n  [disabledOptionResolver]=\\\"filterControlsComponent.disabledSelectInputResolverBind\\\"\\n>\\n</adapt-rx-select>\\n\", components: [{ type: RxNamedFilterOptionsListComponent, selector: \"rx-named-filter-options-list\", inputs: [\"namedFilterOptions\", \"filterOption\", \"filterValue\", \"filterControlsComponent\", \"defaultFilterValue\"], outputs: [\"namedFilterOptionsChange\"] }, { type: i1.AdaptRxSelectComponent, selector: \"adapt-rx-select\", inputs: [\"options\", \"emptyOption\", \"optionFormatter\", \"optionContentTemplate\", \"disabledOptionResolver\", \"titleFormatter\", \"focusFirst\", \"texts\", \"multiple\", \"singleSelectStyle\", \"enableFilter\", \"inline\", \"selectAllButton\", \"deselectAllButton\", \"loadMoreButton\", \"loadMoreCallback\", \"loadMoreInProgress\", \"loadingState\", \"placeholder\", \"size\", \"closeOnSelect\", \"placement\", \"appendToBody\", \"popupMaxHeight\", \"popupClass\", \"pageSize\", \"ariaInvalid\", \"virtualScroll\", \"virtualScrollItemSize\", \"virtualScrollTemplateCacheSize\", \"minBufferPx\", \"maxBufferPx\"], outputs: [\"onSelectionChange\", \"onPopupOpenChange\", \"onFilterValueChange\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSelectionFilterComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-selection-filter',\n                    templateUrl: './selection-filter.component.html'\n                }]\n        }], propDecorators: { filterOption: [{\n                type: Input\n            }], filterControlsComponent: [{\n                type: Input\n            }], filterValue: [{\n                type: Input\n            }], namedFilterOptions: [{\n                type: Input\n            }] } });\n\nclass RxAdvancedFilteringFieldsProviderComponent {\n    constructor() {\n        this.rxDatetimePickerMode = RxDatetimePickerMode;\n        this.namedFilterOptionsGetter = (filterOptionConfig) => [];\n    }\n}\nRxAdvancedFilteringFieldsProviderComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdvancedFilteringFieldsProviderComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nRxAdvancedFilteringFieldsProviderComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxAdvancedFilteringFieldsProviderComponent, selector: \"rx-advanced-filtering-fields-provider\", inputs: { namedFilterOptionsGetter: \"namedFilterOptionsGetter\" }, viewQueries: [{ propertyName: \"optionalBooleanFilter\", first: true, predicate: [\"optionalBooleanFilter\"], descendants: true, static: true }, { propertyName: \"requiredBooleanFilter\", first: true, predicate: [\"requiredBooleanFilter\"], descendants: true, static: true }, { propertyName: \"inputsForStringWithTypeAheadTemplate\", first: true, predicate: [\"inputsForStringWithTypeAheadTemplate\"], descendants: true, static: true }, { propertyName: \"inputsForStringTypeTemplate\", first: true, predicate: [\"inputsForStringTypeTemplate\"], descendants: true, static: true }, { propertyName: \"inputsForNumberTypeTemplate\", first: true, predicate: [\"inputsForNumberTypeTemplate\"], descendants: true, static: true }, { propertyName: \"inputsForTimeTypeTemplate\", first: true, predicate: [\"inputsForTimeTypeTemplate\"], descendants: true, static: true }, { propertyName: \"inputsForDateTypeTemplate\", first: true, predicate: [\"inputsForDateTypeTemplate\"], descendants: true, static: true }, { propertyName: \"inputsForDatetimeTypeTemplate\", first: true, predicate: [\"inputsForDatetimeTypeTemplate\"], descendants: true, static: true }, { propertyName: \"inputsForSelectionTypeTemplate\", first: true, predicate: [\"inputsForSelectionTypeTemplate\"], descendants: true, static: true }], ngImport: i0, template: \"<ng-template\\n  #optionalBooleanFilter\\n  let-filterOption=\\\"filterOption\\\"\\n  let-filterValue=\\\"value\\\"\\n  let-filterControlsComponent=\\\"filterControlsComponent\\\"\\n>\\n  <rx-boolean-filter\\n    [filterControlsComponent]=\\\"filterControlsComponent\\\"\\n    [filterOption]=\\\"filterOption\\\"\\n    [filterValue]=\\\"filterValue\\\"\\n    [isRequired]=\\\"false\\\"\\n    [namedFilterOptions]=\\\"namedFilterOptionsGetter(filterOption)\\\"\\n  ></rx-boolean-filter>\\n</ng-template>\\n\\n<ng-template\\n  #requiredBooleanFilter\\n  let-filterOption=\\\"filterOption\\\"\\n  let-filterValue=\\\"value\\\"\\n  let-filterControlsComponent=\\\"filterControlsComponent\\\"\\n>\\n  <rx-boolean-filter\\n    [filterControlsComponent]=\\\"filterControlsComponent\\\"\\n    [filterOption]=\\\"filterOption\\\"\\n    [filterValue]=\\\"filterValue\\\"\\n    [isRequired]=\\\"true\\\"\\n    [namedFilterOptions]=\\\"namedFilterOptionsGetter(filterOption)\\\"\\n  ></rx-boolean-filter>\\n</ng-template>\\n\\n<ng-template\\n  #inputsForStringWithTypeAheadTemplate\\n  let-filterOption=\\\"filterOption\\\"\\n  let-filterValue=\\\"value\\\"\\n  let-filterControlsComponent=\\\"filterControlsComponent\\\"\\n>\\n  <rx-string-with-type-ahead-filter\\n    [filterControlsComponent]=\\\"filterControlsComponent\\\"\\n    [filterOption]=\\\"filterOption\\\"\\n    [filterValue]=\\\"filterValue\\\"\\n    [namedFilterOptions]=\\\"namedFilterOptionsGetter(filterOption)\\\"\\n  ></rx-string-with-type-ahead-filter>\\n</ng-template>\\n\\n<ng-template\\n  #inputsForStringTypeTemplate\\n  let-filterOption=\\\"filterOption\\\"\\n  let-filterValue=\\\"value\\\"\\n  let-filterControlsComponent=\\\"filterControlsComponent\\\"\\n>\\n  <rx-string-filter\\n    [filterControlsComponent]=\\\"filterControlsComponent\\\"\\n    [filterOption]=\\\"filterOption\\\"\\n    [filterValue]=\\\"filterValue\\\"\\n    [namedFilterOptions]=\\\"namedFilterOptionsGetter(filterOption)\\\"\\n  ></rx-string-filter>\\n</ng-template>\\n\\n<ng-template\\n  #inputsForNumberTypeTemplate\\n  let-filterOption=\\\"filterOption\\\"\\n  let-filterValue=\\\"value\\\"\\n  let-filterControlsComponent=\\\"filterControlsComponent\\\"\\n>\\n  <rx-number-filter\\n    [filterOption]=\\\"filterOption\\\"\\n    [filterValue]=\\\"filterValue\\\"\\n    [filterControlsComponent]=\\\"filterControlsComponent\\\"\\n    [namedFilterOptions]=\\\"namedFilterOptionsGetter(filterOption)\\\"\\n  ></rx-number-filter>\\n</ng-template>\\n\\n<ng-template\\n  #inputsForTimeTypeTemplate\\n  let-filterOption=\\\"filterOption\\\"\\n  let-filterValue=\\\"value\\\"\\n  let-filterControlsComponent=\\\"filterControlsComponent\\\"\\n>\\n  <rx-date-time-range-filter\\n    [filterOption]=\\\"filterOption\\\"\\n    [filterValue]=\\\"filterValue\\\"\\n    [filterControlsComponent]=\\\"filterControlsComponent\\\"\\n    [mode]=\\\"rxDatetimePickerMode.Time\\\"\\n    [namedFilterOptions]=\\\"namedFilterOptionsGetter(filterOption)\\\"\\n  ></rx-date-time-range-filter>\\n</ng-template>\\n\\n<ng-template\\n  #inputsForDateTypeTemplate\\n  let-filterOption=\\\"filterOption\\\"\\n  let-filterValue=\\\"value\\\"\\n  let-filterControlsComponent=\\\"filterControlsComponent\\\"\\n>\\n  <rx-date-time-range-filter\\n    [filterOption]=\\\"filterOption\\\"\\n    [filterValue]=\\\"filterValue\\\"\\n    [filterControlsComponent]=\\\"filterControlsComponent\\\"\\n    [mode]=\\\"rxDatetimePickerMode.Date\\\"\\n    [namedFilterOptions]=\\\"namedFilterOptionsGetter(filterOption)\\\"\\n  ></rx-date-time-range-filter>\\n</ng-template>\\n\\n<ng-template\\n  #inputsForDatetimeTypeTemplate\\n  let-filterOption=\\\"filterOption\\\"\\n  let-filterValue=\\\"value\\\"\\n  let-filterControlsComponent=\\\"filterControlsComponent\\\"\\n>\\n  <rx-date-time-range-filter\\n    [filterOption]=\\\"filterOption\\\"\\n    [filterValue]=\\\"filterValue\\\"\\n    [filterControlsComponent]=\\\"filterControlsComponent\\\"\\n    [mode]=\\\"rxDatetimePickerMode.DateTime\\\"\\n    [namedFilterOptions]=\\\"namedFilterOptionsGetter(filterOption)\\\"\\n  ></rx-date-time-range-filter>\\n</ng-template>\\n\\n<ng-template\\n  #inputsForSelectionTypeTemplate\\n  let-filterOption=\\\"filterOption\\\"\\n  let-filterValue=\\\"value\\\"\\n  let-filterControlsComponent=\\\"filterControlsComponent\\\"\\n>\\n  <rx-selection-filter\\n    [filterOption]=\\\"filterOption\\\"\\n    [filterValue]=\\\"filterValue\\\"\\n    [filterControlsComponent]=\\\"filterControlsComponent\\\"\\n    [namedFilterOptions]=\\\"namedFilterOptionsGetter(filterOption)\\\"\\n  ></rx-selection-filter>\\n</ng-template>\\n\", components: [{ type: RxBooleanFilterComponent, selector: \"rx-boolean-filter\", inputs: [\"filterOption\", \"filterValue\", \"filterControlsComponent\", \"namedFilterOptions\", \"isRequired\"] }, { type: RxStringWithTypeAheadFilterComponent, selector: \"rx-string-with-type-ahead-filter\", inputs: [\"filterOption\", \"filterControlsComponent\", \"filterValue\", \"namedFilterOptions\"] }, { type: RxStringFilterComponent, selector: \"rx-string-filter\", inputs: [\"filterOption\", \"filterValue\", \"filterControlsComponent\", \"namedFilterOptions\"] }, { type: RxNumberFilterComponent, selector: \"rx-number-filter\", inputs: [\"filterOption\", \"filterControlsComponent\", \"filterValue\", \"namedFilterOptions\"] }, { type: RxDateTimeRangeFilterComponent, selector: \"rx-date-time-range-filter\", inputs: [\"filterOption\", \"filterControlsComponent\", \"filterValue\", \"namedFilterOptions\", \"mode\"] }, { type: RxSelectionFilterComponent, selector: \"rx-selection-filter\", inputs: [\"filterOption\", \"filterControlsComponent\", \"filterValue\", \"namedFilterOptions\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdvancedFilteringFieldsProviderComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-advanced-filtering-fields-provider',\n                    templateUrl: './advanced-filtering-fields-provider.component.html'\n                }]\n        }], propDecorators: { optionalBooleanFilter: [{\n                type: ViewChild,\n                args: ['optionalBooleanFilter', { static: true }]\n            }], requiredBooleanFilter: [{\n                type: ViewChild,\n                args: ['requiredBooleanFilter', { static: true }]\n            }], inputsForStringWithTypeAheadTemplate: [{\n                type: ViewChild,\n                args: ['inputsForStringWithTypeAheadTemplate', { static: true }]\n            }], inputsForStringTypeTemplate: [{\n                type: ViewChild,\n                args: ['inputsForStringTypeTemplate', { static: true }]\n            }], inputsForNumberTypeTemplate: [{\n                type: ViewChild,\n                args: ['inputsForNumberTypeTemplate', { static: true }]\n            }], inputsForTimeTypeTemplate: [{\n                type: ViewChild,\n                args: ['inputsForTimeTypeTemplate', { static: true }]\n            }], inputsForDateTypeTemplate: [{\n                type: ViewChild,\n                args: ['inputsForDateTypeTemplate', { static: true }]\n            }], inputsForDatetimeTypeTemplate: [{\n                type: ViewChild,\n                args: ['inputsForDatetimeTypeTemplate', { static: true }]\n            }], inputsForSelectionTypeTemplate: [{\n                type: ViewChild,\n                args: ['inputsForSelectionTypeTemplate', { static: true }]\n            }], namedFilterOptionsGetter: [{\n                type: Input\n            }] } });\n\nclass FilterTagsComponent {\n    constructor(rxRecordGridUtilsService) {\n        this.rxRecordGridUtilsService = rxRecordGridUtilsService;\n        this.restTagsDropdownPlacement = ['bottom', 'bottom-right', 'auto'];\n        this.removeTag = new EventEmitter();\n        this.trackByForFilterTags = this.trackByForFilterTags.bind(this);\n    }\n    getTranslateParams() {\n        return { count: this.getRestTagsCount() };\n    }\n    getRestTagsCount() {\n        return this.tagsLimit && this.tags ? this.tags.length - this.tagsLimit : 0;\n    }\n    onRemoveFilterTag(tag) {\n        const filterOption = tag.data.filterOption;\n        const tags = clone(this.tags);\n        let index;\n        if (isNull(filterOption)) {\n            index = findIndex(tags, (toolbarTag) => this.rxRecordGridUtilsService.isSharedFilterPresetTag(toolbarTag));\n        }\n        else {\n            const filterOptionId = tag.data.filterOption.id;\n            index = findIndex(tags, (toolbarTag) => get(toolbarTag.data.filterOption, 'id') === filterOptionId);\n        }\n        if (index > -1) {\n            tags.splice(index, 1);\n        }\n        this.removeTag.emit({ removedTag: tag, newTags: tags });\n    }\n    trackByForFilterTags(index, tag) {\n        return this.rxRecordGridUtilsService.isSharedFilterPresetTag(tag) ? index : tag.data.filterOption.id || index;\n    }\n}\nFilterTagsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: FilterTagsComponent, deps: [{ token: RxRecordGridUtilsService }], target: i0.ɵɵFactoryTarget.Component });\nFilterTagsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: FilterTagsComponent, selector: \"rx-filter-tags\", inputs: { tags: \"tags\", isDisabled: \"isDisabled\", tagsLimit: \"tagsLimit\", restTagsDropdownPlacement: \"restTagsDropdownPlacement\" }, outputs: { removeTag: \"removeTag\" }, ngImport: i0, template: \"<div>\\n  <adapt-tag\\n    class=\\\"mr-1\\\"\\n    [removable]=\\\"!isDisabled\\\"\\n    [disabled]=\\\"isDisabled\\\"\\n    *ngFor=\\\"\\n      let tag of tags | slice: 0:(tagsLimit ? tagsLimit : tags?.length);\\n      let index = index;\\n      trackBy: trackByForFilterTags\\n    \\\"\\n    type=\\\"active\\\"\\n    (remove)=\\\"onRemoveFilterTag(tag)\\\"\\n  >\\n    <span class=\\\"filter-tags__tag-text\\\" [title]=\\\"tag.data.value?.title ?? tag.text\\\">{{ tag.text }}</span>\\n  </adapt-tag>\\n\\n  <span adaptDropdown *ngIf=\\\"getRestTagsCount() > 0\\\" [appendToBody]=\\\"true\\\" [placement]=\\\"restTagsDropdownPlacement\\\">\\n    <button adaptDropdownToggle type=\\\"button\\\" class=\\\"filter-tags__dropdown-toggle btn btn-link p-0 ml-1\\\">\\n      {{\\n        'com.bmc.arsys.rx.client.view-components.record-grid.filters.show-more-filters.label'\\n          | translate: getTranslateParams()\\n      }}\\n    </button>\\n\\n    <div adaptDropdownMenu class=\\\"dropdown-menu filter-tags__dropdown-menu p-2\\\">\\n      <div *ngFor=\\\"let tag of tags | slice: -getRestTagsCount(); let index = index; trackBy: trackByForFilterTags\\\">\\n        <adapt-tag type=\\\"active\\\" [removable]=\\\"!isDisabled\\\" (remove)=\\\"onRemoveFilterTag(tag)\\\">\\n          <span class=\\\"filter-tags__tag-text\\\" [title]=\\\"tag.data.value?.title ?? tag.text\\\">{{ tag.text }}</span>\\n        </adapt-tag>\\n      </div>\\n    </div>\\n  </span>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.filter-tags__dropdown-toggle:after{border:0!important}.filter-tags__tag-text{display:table-cell;max-width:190px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.filter-tags__dropdown-menu .filter-tags__tag-text{max-width:350px}\\n\"], components: [{ type: i1.AdaptTagComponent, selector: \"adapt-tag\", inputs: [\"type\", \"removable\", \"disabled\"], outputs: [\"remove\"] }, { type: i1.AdaptDropdownDirective, selector: \"adapt-dropdown, [adaptDropdown]\", inputs: [\"autoClose\", \"customClass\", \"closeOnEscape\", \"placement\", \"animationPlacement\", \"holdFocusInMenu\", \"holdFocusOnOpen\", \"autoFocusFirst\", \"restoreFocusAfterClose\", \"focusNextElementAfterClose\", \"appendToBody\", \"appendTo\", \"positionTo\", \"anchorPositionTrackingIntervalMs\", \"enableAnchorPositionTracking\", \"recalculatePositionOnElementResize\", \"setMobileState\", \"mobileView\"], outputs: [\"onOpen\", \"onClose\", \"anchorPositionChange\", \"popupAnimationDone\"], exportAs: [\"adaptDropdown\"] }], directives: [{ type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1.AdaptDropdownToggleDirective, selector: \"[adaptDropdownToggle]\", inputs: [\"showCaret\", \"dropdownTogglerType\"] }, { type: i1.AdaptDropdownMenuDirective, selector: \"[adaptDropdownMenu]\" }], pipes: { \"slice\": i3.SlicePipe, \"translate\": i2.TranslatePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: FilterTagsComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-filter-tags',\n                    templateUrl: './filter-tags.component.html',\n                    styleUrls: ['./filter-tags.component.scss'],\n                    changeDetection: ChangeDetectionStrategy.OnPush\n                }]\n        }], ctorParameters: function () { return [{ type: RxRecordGridUtilsService }]; }, propDecorators: { tags: [{\n                type: Input\n            }], isDisabled: [{\n                type: Input\n            }], tagsLimit: [{\n                type: Input\n            }], restTagsDropdownPlacement: [{\n                type: Input\n            }], removeTag: [{\n                type: Output\n            }] } });\n\nclass RecordGridFilterSelectControlComponent extends ValueAccessor {\n    constructor(injector, rxModalService, rxRecordGridUtilsService, rxRecordGridFilterConfigService, rxRecordDefinitionCacheService, rxRecordGridFilterService, rxRecordGridFilterHelperService, rxRecordDefinitionService, rxGuidService, rxRecordGridAdvancedFilteringService, rxGlobalCacheService, rxDefinitionNameService) {\n        super();\n        this.injector = injector;\n        this.rxModalService = rxModalService;\n        this.rxRecordGridUtilsService = rxRecordGridUtilsService;\n        this.rxRecordGridFilterConfigService = rxRecordGridFilterConfigService;\n        this.rxRecordDefinitionCacheService = rxRecordDefinitionCacheService;\n        this.rxRecordGridFilterService = rxRecordGridFilterService;\n        this.rxRecordGridFilterHelperService = rxRecordGridFilterHelperService;\n        this.rxRecordDefinitionService = rxRecordDefinitionService;\n        this.rxGuidService = rxGuidService;\n        this.rxRecordGridAdvancedFilteringService = rxRecordGridAdvancedFilteringService;\n        this.rxGlobalCacheService = rxGlobalCacheService;\n        this.rxDefinitionNameService = rxDefinitionNameService;\n        this.advancedFilterData = {\n            filterOptions: [],\n            selectedFilters: [],\n            filterTexts: {\n                initialDropdownAnchorLabel: 'Filter'\n            },\n            recordGridFilterConfigs: null,\n            fieldDefinitionsById: {},\n            fieldDefinitionsInitialized$: new Subject(),\n            filterValueInitialized$: new Subject(),\n            associationDescriptors: []\n        };\n        this.subscription = new Subscription();\n        this.getNamedFilterOptions = this.getNamedFilterOptions.bind(this);\n        this.initEmptyValue();\n        this.advancedFilterData.recordGridFilterConfigs = this.rxRecordGridFilterConfigService.getConfigs();\n        this.subscription.add(combineLatest([\n            this.advancedFilterData.filterValueInitialized$,\n            this.advancedFilterData.fieldDefinitionsInitialized$\n        ]).subscribe(() => {\n            this.initSelectedAdvancedFilters(this.value);\n        }));\n    }\n    getGroupFilterName(model) {\n        var _a;\n        return (_a = this.groupFilterItems.find((item) => item.value === model)) === null || _a === void 0 ? void 0 : _a.name;\n    }\n    onGroupFilterValueModelChange(model) {\n        this.groupFilterValue = model;\n    }\n    ngOnInit() {\n        this.initFilterOptions();\n    }\n    initEmptyValue() {\n        this.innerValue = {\n            basicFilters: null,\n            filtersJson: null\n        };\n    }\n    ngOnChanges(changes) {\n        var _a, _b;\n        if (changes.options &&\n            changes.options.previousValue &&\n            ((_a = changes.options.currentValue.primaryRecordDefinition) === null || _a === void 0 ? void 0 : _a.name) !==\n                ((_b = changes.options.previousValue.primaryRecordDefinition) === null || _b === void 0 ? void 0 : _b.name)) {\n            this.initEmptyValue();\n            this.advancedFilterData.selectedFilters = [];\n            this.advancedFilterData.filterOptions = [];\n            this.initFilterOptions();\n        }\n    }\n    initFilterOptions() {\n        this.groupFilterItems = [];\n        if (this.options.primaryRecordDefinition) {\n            this.rxRecordGridUtilsService\n                .getAssociationDescriptors(this.options.primaryRecordDefinition.name)\n                .pipe(switchMap((associationDescriptors) => {\n                this.advancedFilterData.associationDescriptors = associationDescriptors;\n                const recordDefinitionNames = uniq(associationDescriptors.map((associationDescriptor) => associationDescriptor.recordDefinitionName));\n                const recordDefinitions$ = recordDefinitionNames.length\n                    ? forkJoin(recordDefinitionNames.map((name) => this.rxRecordDefinitionCacheService.getRecordDefinition(name)))\n                    : of([]);\n                return recordDefinitions$.pipe(map((recordDefinitions) => ({ recordDefinitions, associationDescriptors })));\n            }), take(1))\n                .subscribe(({ recordDefinitions, associationDescriptors }) => {\n                const primaryRecordDefinition = cloneDeep(this.options.primaryRecordDefinition);\n                [primaryRecordDefinition, ...recordDefinitions].forEach((recordDefinition) => {\n                    if (!recordDefinition.fieldDefinitionsById) {\n                        recordDefinition.fieldDefinitionsById =\n                            this.rxRecordDefinitionService.buildFieldDefinitionsByIdMap(recordDefinition);\n                    }\n                });\n                this.groupFilterValue = primaryRecordDefinition.name;\n                this.advancedFilterData.fieldDefinitionsById =\n                    this.rxRecordGridAdvancedFilteringService.addAssociationFieldsToFieldDefinitionsById(primaryRecordDefinition.fieldDefinitionsById, associationDescriptors, recordDefinitions);\n                associationDescriptors.forEach((associationDescriptor) => {\n                    const currentRecordDefinition = find(recordDefinitions, (recordDefinition) => recordDefinition.name === associationDescriptor.recordDefinitionName);\n                    this.groupFilterItems.push({\n                        name: associationDescriptor.label,\n                        value: associationDescriptor.label\n                    });\n                    this.advancedFilterData.filterOptions.push(...this.getFilterOptions(currentRecordDefinition, associationDescriptor, associationDescriptor.label));\n                });\n                this.groupFilterItems = this.groupFilterItems.sort((gropFilter, gropFilterToCompare) => gropFilter.name.localeCompare(gropFilterToCompare.name));\n                const mainRecordDefinitionName = this.rxDefinitionNameService.getDisplayName(primaryRecordDefinition.name);\n                this.advancedFilterData.filterOptions.push(...this.getFilterOptions(primaryRecordDefinition, null, null));\n                this.groupFilterItems.unshift({\n                    name: mainRecordDefinitionName,\n                    value: primaryRecordDefinition.name\n                });\n                this.advancedFilterData.fieldDefinitionsInitialized$.next();\n            });\n        }\n    }\n    onRemoveFilterTag(event) {\n        const selectedFilters = this.advancedFilterData.selectedFilters.slice();\n        const filterOptionId = event.removedTag.data.filterOption.id;\n        const index = findIndex(selectedFilters, (selectedFilter) => selectedFilter.filterOptionId === filterOptionId);\n        selectedFilters.splice(index, 1);\n        this.onAdvancedFiltersChange(selectedFilters);\n    }\n    getFilterOptions(recordDefinition, associationDescriptor, prefix) {\n        const fieldDefinitions = recordDefinition.fieldDefinitions;\n        return fieldDefinitions\n            .map((fieldDefinition) => {\n            const filterConfig = this.advancedFilterData.recordGridFilterConfigs[fieldDefinition.resourceType];\n            const label = this.rxRecordGridUtilsService.getColumnLabel(fieldDefinition, null);\n            const fieldId = this.rxRecordGridUtilsService.getFieldIdForGridColumn(fieldDefinition.id, associationDescriptor);\n            const filterOption = this.rxRecordGridAdvancedFilteringService.getAdvancedFilterOption(fieldId, label, fieldDefinition, filterConfig, false, {\n                optionalBooleanFilter: this.fieldsProvider.optionalBooleanFilter,\n                requiredBooleanFilter: this.fieldsProvider.requiredBooleanFilter,\n                inputsForStringWithTypeAheadTemplate: this.fieldsProvider.inputsForStringWithTypeAheadTemplate,\n                inputsForStringTypeTemplate: this.fieldsProvider.inputsForStringTypeTemplate,\n                inputsForNumberTypeTemplate: this.fieldsProvider.inputsForNumberTypeTemplate,\n                inputsForTimeTypeTemplate: this.fieldsProvider.inputsForTimeTypeTemplate,\n                inputsForDateTypeTemplate: this.fieldsProvider.inputsForDateTypeTemplate,\n                inputsForDatetimeTypeTemplate: this.fieldsProvider.inputsForDatetimeTypeTemplate,\n                inputsForSelectionTypeTemplate: this.fieldsProvider.inputsForSelectionTypeTemplate\n            }, prefix ? `${prefix} > ${label}` : null, this.options.namedFilterOptions ? this.options.namedFilterOptions[fieldId] : []);\n            const recordDefinitionName = associationDescriptor\n                ? associationDescriptor.label\n                : this.options.primaryRecordDefinition.name;\n            filterOption.isHidden = () => { var _a; return this.groupFilterValue !== recordDefinitionName || ((_a = this.options.selectedFieldIds) === null || _a === void 0 ? void 0 : _a.includes(fieldId)) === false; };\n            return filterOption;\n        })\n            .sort((filterOption1, filterOption2) => filterOption1.label.localeCompare(filterOption2.label));\n    }\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n    }\n    onAdvancedFiltersChange(selectedFilters) {\n        this.advancedFilterData.selectedFilters = selectedFilters;\n        const oldBasicFilters = this.value.basicFilters || [];\n        const basicFilters = reduce(selectedFilters, (recordGridFilters, selectedFilter) => {\n            const fieldId = selectedFilter.filterOptionId;\n            const fieldDefinition = this.advancedFilterData.fieldDefinitionsById[fieldId];\n            const filterConfig = this.advancedFilterData.recordGridFilterConfigs[fieldDefinition.resourceType];\n            const columnRecordGridFilterData = filterConfig.getRecordGridFilterData(selectedFilter.value, fieldDefinition, fieldId);\n            (columnRecordGridFilterData.or || columnRecordGridFilterData.and).forEach((recordGridFilterOperator) => {\n                const gridFilterValue = values(recordGridFilterOperator)[0][fieldId];\n                const gridFilterDisplayValue = values(recordGridFilterOperator)[0]['$DISPLAYVALUE$'];\n                const columnOldBasicFilter = find(oldBasicFilters, (oldBasicFilter) => oldBasicFilter.fieldId === fieldId &&\n                    oldBasicFilter.value === gridFilterValue &&\n                    every(recordGridFilters, (gridFilter) => gridFilter.guid !== oldBasicFilter.guid));\n                const recordGridFilter = {\n                    fieldId,\n                    value: gridFilterValue,\n                    $DISPLAYVALUE$: gridFilterDisplayValue,\n                    guid: (columnOldBasicFilter && columnOldBasicFilter.guid) || this.rxGuidService.generate()\n                };\n                recordGridFilters.push(recordGridFilter);\n            });\n            return recordGridFilters;\n        }, []);\n        const recordGridFilterData = this.rxRecordGridFilterService.getRecordGridFilterDataFromAdvancedFilter(selectedFilters, this.advancedFilterData.fieldDefinitionsById, this.advancedFilterData.recordGridFilterConfigs);\n        let filtersJson = isEmpty(recordGridFilterData) ? null : JSON.stringify(recordGridFilterData);\n        if (filtersJson) {\n            filtersJson = this.rxRecordGridFilterHelperService.denormalizeFilterString(filtersJson, basicFilters);\n        }\n        this.filtersModel = {\n            basicFilters,\n            filtersJson\n        };\n        this.value = {\n            basicFilters,\n            filtersJson\n        };\n    }\n    onWriteValue(value) {\n        if (!isEqual(this.filtersModel, value)) {\n            this.advancedFilterData.filterValueInitialized$.next();\n        }\n    }\n    initSelectedAdvancedFilters(value) {\n        if ((value === null || value === void 0 ? void 0 : value.filtersJson) && !isEmpty(value.basicFilters)) {\n            this.rxRecordGridFilterService\n                .getSelectedFiltersFromPredefinedFilter(value.filtersJson, value.basicFilters, this.advancedFilterData.fieldDefinitionsById, this.advancedFilterData.recordGridFilterConfigs, this.options.primaryRecordDefinition, this.advancedFilterData.filterOptions, this.advancedFilterData.associationDescriptors)\n                .pipe(map((selectedFilters) => this.options.namedFilterOptions\n                ? this.rxRecordGridFilterService.clearRemovedNamedFilterOptions(selectedFilters, this.options.namedFilterOptions)\n                : selectedFilters))\n                .subscribe((selectedFilters) => {\n                this.advancedFilterData.selectedFilters = selectedFilters;\n            });\n        }\n    }\n    getNamedFilterOptions(filterOptionConfig) {\n        return this.options.namedFilterOptions ? this.options.namedFilterOptions[filterOptionConfig.id] : [];\n    }\n    getTags(filtersExpressionsTags) {\n        var _a;\n        const tags = (_a = filtersExpressionsTags === null || filtersExpressionsTags === void 0 ? void 0 : filtersExpressionsTags.filter((filterTag) => isEmpty(filterTag.data.validationErrors))) !== null && _a !== void 0 ? _a : [];\n        const tags$ = tags.map((tag) => {\n            var _a, _b;\n            if (tag.data.filterOption) {\n                const fieldId = tag.data.filterOption.id;\n                const fieldDefinition = tag.data.filterOption.data;\n                const filterConfig = this.advancedFilterData.recordGridFilterConfigs[fieldDefinition === null || fieldDefinition === void 0 ? void 0 : fieldDefinition.resourceType];\n                if (isFunction(filterConfig === null || filterConfig === void 0 ? void 0 : filterConfig.getToolbarTagInfo)) {\n                    return filterConfig\n                        .getToolbarTagInfo({\n                        primaryRecordDefinition: this.options.primaryRecordDefinition,\n                        fieldDefinition,\n                        value: tag.data.value,\n                        tag,\n                        fieldId,\n                        namedFilterOptions: (_b = (_a = this.options.namedFilterOptions) === null || _a === void 0 ? void 0 : _a[fieldId]) !== null && _b !== void 0 ? _b : []\n                    })\n                        .pipe(tap((tagInfo) => (tag.data.value.title = tagInfo.tooltip)), map((tagInfo) => (Object.assign(Object.assign({}, tag), { text: tagInfo.text }))));\n                }\n            }\n            return of(Object.assign({}, tag));\n        });\n        return tags$.length ? forkJoin(tags$) : of([]);\n    }\n}\nRecordGridFilterSelectControlComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridFilterSelectControlComponent, deps: [{ token: i0.Injector }, { token: i1$6.RxModalService }, { token: RxRecordGridUtilsService }, { token: RxRecordGridFilterConfigService }, { token: i1$5.RxRecordDefinitionCacheService }, { token: RxRecordGridFilterService }, { token: RxRecordGridFilterHelperService }, { token: i1$5.RxRecordDefinitionService }, { token: i2$1.RxGuidService }, { token: RxRecordGridAdvancedFilteringService }, { token: i1$1.RxGlobalCacheService }, { token: i1$1.RxDefinitionNameService }], target: i0.ɵɵFactoryTarget.Component });\nRecordGridFilterSelectControlComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordGridFilterSelectControlComponent, selector: \"rx-record-grid-filter-select-control\", inputs: { options: \"options\" }, providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: RecordGridFilterSelectControlComponent,\n            multi: true\n        }\n    ], viewQueries: [{ propertyName: \"fieldsProvider\", first: true, predicate: RxAdvancedFilteringFieldsProviderComponent, descendants: true, static: true }], usesInheritance: true, usesOnChanges: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"advancedFilterData.filterOptions\\\">\\n  <adapt-advanced-filter\\n    #advancedFilter\\n    [hidden]=\\\"isDisabled\\\"\\n    [appendDropdownToBody]=\\\"true\\\"\\n    [enableSavedFilters]=\\\"false\\\"\\n    [filterOptions]=\\\"advancedFilterData.filterOptions\\\"\\n    (selectedFiltersChange)=\\\"onAdvancedFiltersChange($event)\\\"\\n    [selectedFilters]=\\\"advancedFilterData.selectedFilters\\\"\\n    [texts]=\\\"advancedFilterData.filterTexts\\\"\\n    [applyFiltersByUserAction]=\\\"true\\\"\\n    [filterOptionsCustomAreaTemplate]=\\\"filterOptionsCustomAreaTemplate\\\"\\n    [selectedFiltersIndicationStyle]=\\\"'mark'\\\"\\n    [anchorDisabled]=\\\"options.anchorDisabled\\\"\\n  ></adapt-advanced-filter>\\n\\n  <rx-filter-tags\\n    [isDisabled]=\\\"isDisabled\\\"\\n    [tags]=\\\"getTags(advancedFilter.filtersExpressionsTags) | async\\\"\\n    [tagsLimit]=\\\"options.tagsLimit\\\"\\n    (removeTag)=\\\"onRemoveFilterTag($event)\\\"\\n    [restTagsDropdownPlacement]=\\\"['right', 'bottom', 'bottom-right', 'auto']\\\"\\n  ></rx-filter-tags>\\n</ng-container>\\n\\n<ng-template #filterOptionsCustomAreaTemplate>\\n  <div class=\\\"p-3 pt-4 pb-4\\\" *ngIf=\\\"this.groupFilterItems.length > 1\\\">\\n    <adapt-accordion>\\n      <adapt-accordion-tab [title]=\\\"'Show filters for: ' + getGroupFilterName(groupFilterValue)\\\" [multiline]=\\\"true\\\">\\n        <adapt-rx-radiobutton-group\\n          class=\\\"advanced-filter__radiobutton-group\\\"\\n          [ngModel]=\\\"groupFilterValue\\\"\\n          (ngModelChange)=\\\"onGroupFilterValueModelChange($event)\\\"\\n        >\\n          <adapt-rx-radiobutton\\n            name=\\\"booleanTypeGroup\\\"\\n            class=\\\"advanced-filter__radiobutton\\\"\\n            *ngFor=\\\"let groupItem of groupFilterItems\\\"\\n            [value]=\\\"groupItem.value\\\"\\n            [label]=\\\"groupItem.name\\\"\\n          >\\n          </adapt-rx-radiobutton>\\n        </adapt-rx-radiobutton-group>\\n      </adapt-accordion-tab>\\n    </adapt-accordion>\\n  </div>\\n</ng-template>\\n\\n<rx-advanced-filtering-fields-provider\\n  [namedFilterOptionsGetter]=\\\"getNamedFilterOptions\\\"\\n></rx-advanced-filtering-fields-provider>\\n\", styles: [\":host ::ng-deep .filter-tags__tag-text{max-width:185px!important}\\n\"], components: [{ type: i1.AdaptAdvancedFilterComponent, selector: \"adapt-advanced-filter\", inputs: [\"filterOptions\", \"savedFilters\", \"enableDefaultSavedFilter\", \"defaultSavedFilterId\", \"busyConfig\", \"activeSavedFilter\", \"disableExpressionEditing\", \"showAnchorButtonLabel\", \"getCustomExpressionTagFieldModel\", \"enableSavedFilters\", \"applyFiltersByUserAction\", \"canCloseDropdownResolver\", \"showTabToolbar\", \"disabledTabResolver\", \"disabledInputResolver\", \"showSelectedFiltersCount\", \"selectedFiltersIndicationStyle\", \"filterOptionsCustomAreaTemplate\", \"showTags\", \"anchorDisabled\", \"fullWidthEdit\", \"translateFilterEditingTitleXPixels\", \"selectedFilters\", \"isLoading\"], outputs: [\"selectedFiltersChange\", \"filterSelectionChange\", \"deleteSavedFilter\", \"createNewFilter\", \"updateSavedFilter\", \"beforeActiveSavedFilterChange\", \"activeSavedFilterChange\", \"removeTag\", \"filtersCleared\", \"saveNewFilterClick\", \"filtersSelectionCanceled\", \"editSavedFilterClick\", \"markDefaultSavedFilterClick\", \"editingSavedFilterCanceled\", \"filterExpressionTagsChanged\"] }, { type: FilterTagsComponent, selector: \"rx-filter-tags\", inputs: [\"tags\", \"isDisabled\", \"tagsLimit\", \"restTagsDropdownPlacement\"], outputs: [\"removeTag\"] }, { type: i1.AdaptAccordionComponent, selector: \"adapt-accordion\", inputs: [\"config\", \"multiselect\", \"bordered\"], outputs: [\"openTab\", \"closeTab\"] }, { type: i1.AdaptAccordionTabComponent, selector: \"adapt-accordion-tab\", inputs: [\"title\", \"renderContentWhenClosed\", \"customClass\", \"multiline\", \"icon\", \"disabled\", \"isOpen\"], outputs: [\"open\", \"close\"] }, { type: i1.AdaptRxRadiobuttonGroupComponent, selector: \"adapt-rx-radiobutton-group\", inputs: [\"formControlName\"] }, { type: i1.AdaptRxRadiobuttonComponent, selector: \"adapt-rx-radiobutton\", inputs: [\"name\", \"label\", \"id\", \"value\", \"checked\", \"disabled\", \"ariaLabel\", \"ariaLabeledBy\", \"ariaDescribedBy\", \"testID\", \"tabIndex\"], outputs: [\"onFocus\", \"onBlur\", \"checkedChange\"] }, { type: RxAdvancedFilteringFieldsProviderComponent, selector: \"rx-advanced-filtering-fields-provider\", inputs: [\"namedFilterOptionsGetter\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridFilterSelectControlComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-record-grid-filter-select-control',\n                    templateUrl: './record-grid-filter-select-control.component.html',\n                    styleUrls: ['./record-grid-filter-select-control.component.scss'],\n                    providers: [\n                        {\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: RecordGridFilterSelectControlComponent,\n                            multi: true\n                        }\n                    ]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1$6.RxModalService }, { type: RxRecordGridUtilsService }, { type: RxRecordGridFilterConfigService }, { type: i1$5.RxRecordDefinitionCacheService }, { type: RxRecordGridFilterService }, { type: RxRecordGridFilterHelperService }, { type: i1$5.RxRecordDefinitionService }, { type: i2$1.RxGuidService }, { type: RxRecordGridAdvancedFilteringService }, { type: i1$1.RxGlobalCacheService }, { type: i1$1.RxDefinitionNameService }]; }, propDecorators: { options: [{\n                type: Input\n            }], fieldsProvider: [{\n                type: ViewChild,\n                args: [RxAdvancedFilteringFieldsProviderComponent, { static: true }]\n            }] } });\n\nvar RecordGridFilterMode;\n(function (RecordGridFilterMode) {\n    RecordGridFilterMode[\"Basic\"] = \"basic\";\n    RecordGridFilterMode[\"Expression\"] = \"expression\";\n})(RecordGridFilterMode || (RecordGridFilterMode = {}));\n\nclass RxFilterTagsModule {\n}\nRxFilterTagsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFilterTagsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxFilterTagsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFilterTagsModule, declarations: [FilterTagsComponent], imports: [CommonModule, AdaptTagModule, AdaptDropdownModule, TranslateModule], exports: [FilterTagsComponent] });\nRxFilterTagsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFilterTagsModule, imports: [[CommonModule, AdaptTagModule, AdaptDropdownModule, TranslateModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFilterTagsModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, AdaptTagModule, AdaptDropdownModule, TranslateModule],\n                    declarations: [FilterTagsComponent],\n                    exports: [FilterTagsComponent]\n                }]\n        }] });\n\nclass RxNamedFilterOptionsListModule {\n}\nRxNamedFilterOptionsListModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNamedFilterOptionsListModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxNamedFilterOptionsListModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNamedFilterOptionsListModule, declarations: [RxNamedFilterOptionsListComponent], imports: [CommonModule, AdaptRxCheckboxModule, FormsModule], exports: [RxNamedFilterOptionsListComponent] });\nRxNamedFilterOptionsListModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNamedFilterOptionsListModule, imports: [[CommonModule, AdaptRxCheckboxModule, FormsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNamedFilterOptionsListModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RxNamedFilterOptionsListComponent],\n                    exports: [RxNamedFilterOptionsListComponent],\n                    imports: [CommonModule, AdaptRxCheckboxModule, FormsModule]\n                }]\n        }] });\n\nclass RecordGridCommonModule {\n}\nRecordGridCommonModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridCommonModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRecordGridCommonModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridCommonModule, imports: [CommonModule,\n        AdaptRxRadiobuttonModule,\n        AdaptRxSelectModule,\n        TranslateModule,\n        AdaptTagModule,\n        FormsModule, i1.AdaptDropdownModule, AdaptMetatagModule,\n        RxNamedFilterOptionsListModule,\n        RxFilterTagsModule], exports: [RxFilterTagsModule, RxNamedFilterOptionsListModule] });\nRecordGridCommonModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridCommonModule, imports: [[\n            CommonModule,\n            AdaptRxRadiobuttonModule,\n            AdaptRxSelectModule,\n            TranslateModule,\n            AdaptTagModule,\n            FormsModule,\n            AdaptDropdownModule.forRoot(),\n            AdaptMetatagModule,\n            RxNamedFilterOptionsListModule,\n            RxFilterTagsModule\n        ], RxFilterTagsModule, RxNamedFilterOptionsListModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridCommonModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        AdaptRxRadiobuttonModule,\n                        AdaptRxSelectModule,\n                        TranslateModule,\n                        AdaptTagModule,\n                        FormsModule,\n                        AdaptDropdownModule.forRoot(),\n                        AdaptMetatagModule,\n                        RxNamedFilterOptionsListModule,\n                        RxFilterTagsModule\n                    ],\n                    exports: [RxFilterTagsModule, RxNamedFilterOptionsListModule]\n                }]\n        }] });\n\nclass RxStringFilterModule {\n}\nRxStringFilterModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxStringFilterModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxStringFilterModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxStringFilterModule, declarations: [RxStringFilterComponent], imports: [CommonModule, FormsModule, RxNamedFilterOptionsListModule, AdaptMetatagModule], exports: [RxStringFilterComponent] });\nRxStringFilterModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxStringFilterModule, imports: [[CommonModule, FormsModule, RxNamedFilterOptionsListModule, AdaptMetatagModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxStringFilterModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RxStringFilterComponent],\n                    exports: [RxStringFilterComponent],\n                    imports: [CommonModule, FormsModule, RxNamedFilterOptionsListModule, AdaptMetatagModule]\n                }]\n        }] });\n\nclass RxNumberFilterModule {\n}\nRxNumberFilterModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNumberFilterModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxNumberFilterModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNumberFilterModule, declarations: [RxNumberFilterComponent], imports: [CommonModule, FormsModule, RxNamedFilterOptionsListModule, AdaptRxCounterModule], exports: [RxNumberFilterComponent] });\nRxNumberFilterModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNumberFilterModule, imports: [[CommonModule, FormsModule, RxNamedFilterOptionsListModule, AdaptRxCounterModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxNumberFilterModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RxNumberFilterComponent],\n                    exports: [RxNumberFilterComponent],\n                    imports: [CommonModule, FormsModule, RxNamedFilterOptionsListModule, AdaptRxCounterModule]\n                }]\n        }] });\n\nclass RxDateTimeRangeFilterModule {\n}\nRxDateTimeRangeFilterModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDateTimeRangeFilterModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxDateTimeRangeFilterModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDateTimeRangeFilterModule, declarations: [RxDateTimeRangeFilterComponent], imports: [CommonModule, FormsModule, RxNamedFilterOptionsListModule, AdaptRxDatetimeModule], exports: [RxDateTimeRangeFilterComponent] });\nRxDateTimeRangeFilterModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDateTimeRangeFilterModule, imports: [[CommonModule, FormsModule, RxNamedFilterOptionsListModule, AdaptRxDatetimeModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxDateTimeRangeFilterModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RxDateTimeRangeFilterComponent],\n                    exports: [RxDateTimeRangeFilterComponent],\n                    imports: [CommonModule, FormsModule, RxNamedFilterOptionsListModule, AdaptRxDatetimeModule]\n                }]\n        }] });\n\nclass RxSelectionFilterModule {\n}\nRxSelectionFilterModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSelectionFilterModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxSelectionFilterModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSelectionFilterModule, declarations: [RxSelectionFilterComponent], imports: [CommonModule, FormsModule, RxNamedFilterOptionsListModule, AdaptRxSelectModule], exports: [RxSelectionFilterComponent] });\nRxSelectionFilterModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSelectionFilterModule, imports: [[CommonModule, FormsModule, RxNamedFilterOptionsListModule, AdaptRxSelectModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxSelectionFilterModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RxSelectionFilterComponent],\n                    exports: [RxSelectionFilterComponent],\n                    imports: [CommonModule, FormsModule, RxNamedFilterOptionsListModule, AdaptRxSelectModule]\n                }]\n        }] });\n\nclass RxBooleanFilterModule {\n}\nRxBooleanFilterModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBooleanFilterModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxBooleanFilterModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBooleanFilterModule, declarations: [RxBooleanFilterComponent], imports: [CommonModule, RxNamedFilterOptionsListModule, AdaptRxRadiobuttonModule, AdaptRxSelectModule, FormsModule], exports: [RxBooleanFilterComponent] });\nRxBooleanFilterModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBooleanFilterModule, imports: [[CommonModule, RxNamedFilterOptionsListModule, AdaptRxRadiobuttonModule, AdaptRxSelectModule, FormsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxBooleanFilterModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RxBooleanFilterComponent],\n                    exports: [RxBooleanFilterComponent],\n                    imports: [CommonModule, RxNamedFilterOptionsListModule, AdaptRxRadiobuttonModule, AdaptRxSelectModule, FormsModule]\n                }]\n        }] });\n\nclass RxStringWithTypeAheadFilterModule {\n}\nRxStringWithTypeAheadFilterModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxStringWithTypeAheadFilterModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxStringWithTypeAheadFilterModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxStringWithTypeAheadFilterModule, declarations: [RxStringWithTypeAheadFilterComponent], imports: [CommonModule, RxNamedFilterOptionsListModule, AdaptMetatagModule, FormsModule, TranslateModule], exports: [RxStringWithTypeAheadFilterComponent] });\nRxStringWithTypeAheadFilterModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxStringWithTypeAheadFilterModule, imports: [[CommonModule, RxNamedFilterOptionsListModule, AdaptMetatagModule, FormsModule, TranslateModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxStringWithTypeAheadFilterModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RxStringWithTypeAheadFilterComponent],\n                    exports: [RxStringWithTypeAheadFilterComponent],\n                    imports: [CommonModule, RxNamedFilterOptionsListModule, AdaptMetatagModule, FormsModule, TranslateModule]\n                }]\n        }] });\n\nclass RxAdvancedFilteringFieldsProviderModule {\n}\nRxAdvancedFilteringFieldsProviderModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdvancedFilteringFieldsProviderModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxAdvancedFilteringFieldsProviderModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdvancedFilteringFieldsProviderModule, declarations: [RxAdvancedFilteringFieldsProviderComponent], imports: [CommonModule,\n        RxStringFilterModule,\n        RxNumberFilterModule,\n        RxDateTimeRangeFilterModule,\n        RxSelectionFilterModule,\n        RxBooleanFilterModule,\n        RxStringWithTypeAheadFilterModule], exports: [RxAdvancedFilteringFieldsProviderComponent] });\nRxAdvancedFilteringFieldsProviderModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdvancedFilteringFieldsProviderModule, imports: [[\n            CommonModule,\n            RxStringFilterModule,\n            RxNumberFilterModule,\n            RxDateTimeRangeFilterModule,\n            RxSelectionFilterModule,\n            RxBooleanFilterModule,\n            RxStringWithTypeAheadFilterModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxAdvancedFilteringFieldsProviderModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RxAdvancedFilteringFieldsProviderComponent],\n                    exports: [RxAdvancedFilteringFieldsProviderComponent],\n                    imports: [\n                        CommonModule,\n                        RxStringFilterModule,\n                        RxNumberFilterModule,\n                        RxDateTimeRangeFilterModule,\n                        RxSelectionFilterModule,\n                        RxBooleanFilterModule,\n                        RxStringWithTypeAheadFilterModule\n                    ]\n                }]\n        }] });\n\nclass RecordGridFilterSelectControlModule {\n}\nRecordGridFilterSelectControlModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridFilterSelectControlModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRecordGridFilterSelectControlModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridFilterSelectControlModule, declarations: [RecordGridFilterSelectControlComponent], imports: [CommonModule,\n        AdaptAdvancedFilteringModule,\n        RecordGridCommonModule,\n        AdaptAccordionModule,\n        AdaptRxRadiobuttonModule,\n        FormsModule,\n        RxAdvancedFilteringFieldsProviderModule], exports: [RecordGridFilterSelectControlComponent] });\nRecordGridFilterSelectControlModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridFilterSelectControlModule, imports: [[\n            CommonModule,\n            AdaptAdvancedFilteringModule,\n            RecordGridCommonModule,\n            AdaptAccordionModule,\n            AdaptRxRadiobuttonModule,\n            FormsModule,\n            RxAdvancedFilteringFieldsProviderModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridFilterSelectControlModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RecordGridFilterSelectControlComponent],\n                    exports: [RecordGridFilterSelectControlComponent],\n                    entryComponents: [RecordGridFilterSelectControlComponent],\n                    imports: [\n                        CommonModule,\n                        AdaptAdvancedFilteringModule,\n                        RecordGridCommonModule,\n                        AdaptAccordionModule,\n                        AdaptRxRadiobuttonModule,\n                        FormsModule,\n                        RxAdvancedFilteringFieldsProviderModule\n                    ]\n                }]\n        }] });\n\nclass RxRecordGridFilterSelectHelperService {\n    getNamedFilterOptionsFromColumns(columns) {\n        return columns.reduce((result, col) => {\n            var _a;\n            if ((_a = col.namedFilterOptions) === null || _a === void 0 ? void 0 : _a.length) {\n                result[col.fieldId] = col.namedFilterOptions\n                    .map((column) => (Object.assign(Object.assign({ guid: column.guid }, column.data), { index: toNumber(column.data.index) })))\n                    .sort((a, b) => a.index - b.index);\n            }\n            return result;\n        }, {});\n    }\n}\nRxRecordGridFilterSelectHelperService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridFilterSelectHelperService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxRecordGridFilterSelectHelperService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridFilterSelectHelperService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridFilterSelectHelperService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RecordGridFilterPresetEditorModalComponent extends RxModalClass {\n    constructor(activeModalRef, rxModalService, rxGuidService, injector) {\n        super(activeModalRef, injector);\n        this.activeModalRef = activeModalRef;\n        this.rxModalService = rxModalService;\n        this.rxGuidService = rxGuidService;\n        this.injector = injector;\n        this.filterPresets = [];\n        this.params = this.activeModalRef.getData();\n        const activeFilterPreset = this.params.activeFilterPreset;\n        this.recordDefinition = this.params.primaryRecordDefinition;\n        this.selectedFieldIds = this.params.selectedFieldIds;\n        this.isReadOnly = this.params.isReadOnly;\n        this.filterPresets = map$1(this.params.filterPresets, (filterPreset) => this.createFilterPresetEditorData(filterPreset, filterPreset === activeFilterPreset));\n    }\n    ngAfterViewInit() {\n        const openFilterPresetIndex = findIndex(this.filterPresets, 'isOpen');\n        if (openFilterPresetIndex !== -1) {\n            this.accordionTabEls.toArray()[openFilterPresetIndex].nativeElement.scrollIntoView({\n                block: 'nearest'\n            });\n        }\n    }\n    addFilterPreset() {\n        this.markAsDirty();\n        this.filterPresets.push(this.createFilterPresetEditorData({\n            guid: this.rxGuidService.generate(),\n            title: 'New preset' + (this.filterPresets.length === 0 ? '' : ' ' + this.filterPresets.length),\n            filters: '',\n            recordGridFilters: []\n        }, true));\n        setTimeout(() => {\n            this.accordionTabEls.last.nativeElement.scrollIntoView({\n                block: 'nearest'\n            });\n        });\n    }\n    removeFilterPreset(index) {\n        this.markAsDirty();\n        this.filterPresets.splice(index, 1);\n    }\n    createFilterPresetEditorData(filterPreset, isOpen) {\n        return Object.assign(Object.assign({}, filterPreset), { isOpen, filterSelectOptions: {\n                primaryRecordDefinition: this.recordDefinition,\n                tagsLimit: 2,\n                namedFilterOptions: this.params.namedFilterOptions,\n                selectedFieldIds: this.selectedFieldIds\n            }, filterSelect: {\n                basicFilters: filterPreset.recordGridFilters,\n                filtersJson: filterPreset.filters\n            } });\n    }\n    getCheckPresetTitleDuplicateValidator(currentFilterPreset) {\n        return (control) => {\n            const title = control.value;\n            if (title &&\n                this.filterPresets.some((filterPreset) => filterPreset.title === title && filterPreset.guid !== currentFilterPreset.guid)) {\n                return { duplicatePresetName: { message: 'Duplicate Name' } };\n            }\n            return null;\n        };\n    }\n    trackByForFilterPresets(index, filterPreset) {\n        return filterPreset.guid;\n    }\n    toggleOpen(expandAll) {\n        this.filterPresets.forEach((action) => (action.isOpen = expandAll));\n    }\n    onSaveChangesClick() {\n        const result = {\n            filterPresets: this.filterPresets.map((filterPreset) => ({\n                filters: filterPreset.filterSelect.filtersJson,\n                recordGridFilters: filterPreset.filterSelect.basicFilters,\n                guid: filterPreset.guid,\n                title: filterPreset.title\n            }))\n        };\n        const hasEmptyFilterPreset = some(result.filterPresets, (filterPreset) => isEmpty(filterPreset.recordGridFilters));\n        if (hasEmptyFilterPreset) {\n            this.rxModalService\n                .confirm({\n                title: 'Warning',\n                modalStyle: RX_MODAL.modalStyles.warning,\n                message: 'The filter preset will not filter records because no filters have been specified. Do you want to continue?'\n            })\n                .then((confirmResult) => {\n                if (confirmResult) {\n                    this.activeModalRef.close(result);\n                }\n            });\n        }\n        else {\n            this.activeModalRef.close(result);\n        }\n    }\n    cancel() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n}\nRecordGridFilterPresetEditorModalComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridFilterPresetEditorModalComponent, deps: [{ token: i1.ActiveModalRef }, { token: i1$6.RxModalService }, { token: i2$1.RxGuidService }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nRecordGridFilterPresetEditorModalComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordGridFilterPresetEditorModalComponent, selector: \"rx-record-grid-filter-preset-editor-modal\", viewQueries: [{ propertyName: \"filterPresetsForm\", first: true, predicate: [\"filterPresetsForm\"], descendants: true, read: NgForm, static: true }, { propertyName: \"accordionTabEls\", predicate: AdaptAccordionTabComponent, descendants: true, read: ElementRef }], usesInheritance: true, ngImport: i0, template: \"<div class=\\\"designer-modal-body modal-body d-flex mh-100\\\">\\n  <div class=\\\"row flex-grow-1 w-100\\\">\\n    <div class=\\\"d-flex flex-column mh-100 col\\\">\\n      <div class=\\\"d-flex align-items-start justify-content-between\\\">\\n        <button\\n          *ngIf=\\\"!isReadOnly\\\"\\n          class=\\\"mt-2 p-0\\\"\\n          rx-id=\\\"add-button\\\"\\n          adapt-button\\n          type=\\\"button\\\"\\n          btn-type=\\\"tertiary\\\"\\n          (click)=\\\"addFilterPreset()\\\"\\n        >\\n          <span class=\\\"d-icon-left-plus_circle\\\"></span>\\n\\n          {{\\n            'com.bmc.arsys.rx.client.view-components.record-grid-filter-preset.add-filter-preset.button.label'\\n              | translate\\n          }}\\n        </button>\\n\\n        <div *ngIf=\\\"filterPresets.length\\\" class=\\\"btn-group\\\">\\n          <button adapt-button btn-type=\\\"tertiary\\\" type=\\\"button\\\" rx-id=\\\"expand-all-button\\\" (click)=\\\"toggleOpen(true)\\\">\\n            {{ 'com.bmc.arsys.rx.client.common.expand-all.label' | translate }}\\n          </button>\\n\\n          <button\\n            adapt-button\\n            btn-type=\\\"tertiary\\\"\\n            type=\\\"button\\\"\\n            rx-id=\\\"collapse-all-button\\\"\\n            (click)=\\\"toggleOpen(false)\\\"\\n          >\\n            {{ 'com.bmc.arsys.rx.client.common.collapse-all.label' | translate }}\\n          </button>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"designer-modal-accordion-wrapper\\\">\\n        <adapt-accordion [multiselect]=\\\"true\\\">\\n          <form #filterPresetsForm=\\\"ngForm\\\">\\n            <div\\n              *ngFor=\\\"let filterPreset of filterPresets; let index = index; trackBy: trackByForFilterPresets\\\"\\n              class=\\\"designer-modal-accordion-content\\\"\\n            >\\n              <adapt-accordion-tab\\n                class=\\\"d-block\\\"\\n                [isOpen]=\\\"filterPreset.isOpen\\\"\\n                (open)=\\\"filterPreset.isOpen = true\\\"\\n                (close)=\\\"filterPreset.isOpen = false\\\"\\n                #accordionTab\\n              >\\n                <div class=\\\"card-title-text w-100\\\">\\n                  <div class=\\\"designer-modal-card-title-content\\\">\\n                    <div class=\\\"left-header-block pl-0\\\">\\n                      <div class=\\\"rx-ellipsis\\\" [title]=\\\"filterPreset.title\\\" rx-id=\\\"card-title\\\">\\n                        {{ filterPreset.title }}\\n                      </div>\\n                    </div>\\n\\n                    <div *ngIf=\\\"!isReadOnly\\\" class=\\\"right-header-block\\\">\\n                      <button\\n                        class=\\\"d-icon-left-cross_adapt p-1 pr-4 ml-3\\\"\\n                        adapt-button\\n                        size=\\\"small\\\"\\n                        type=\\\"button\\\"\\n                        (click)=\\\"$event.stopPropagation(); removeFilterPreset(index)\\\"\\n                        rx-id=\\\"remove-button\\\"\\n                      >\\n                        {{ 'com.bmc.arsys.rx.client.common.remove.label' | translate }}\\n                      </button>\\n                    </div>\\n                  </div>\\n                </div>\\n\\n                <adapt-rx-textfield\\n                  label=\\\"{{\\n                    'com.bmc.arsys.rx.client.view-components.record-grid-filter-preset.name-field.label' | translate\\n                  }}\\\"\\n                  [name]=\\\"'filterPresetTitle-' + filterPreset.guid\\\"\\n                  [required]=\\\"true\\\"\\n                  [disabled]=\\\"isReadOnly\\\"\\n                  [rxCustomValidators]=\\\"getCheckPresetTitleDuplicateValidator(filterPreset)\\\"\\n                  (ngModelChange)=\\\"markAsDirty()\\\"\\n                  [(ngModel)]=\\\"filterPreset.title\\\"\\n                  rxNoWhitespace\\n                ></adapt-rx-textfield>\\n\\n                <div *ngIf=\\\"accordionTab.isOpenOrCloseAnimationProcessing\\\">\\n                  <rx-record-grid-filter-select-control\\n                    [name]=\\\"'filterPresetFilterSelect-' + filterPreset.guid\\\"\\n                    [disabled]=\\\"isReadOnly\\\"\\n                    [options]=\\\"filterPreset.filterSelectOptions\\\"\\n                    (ngModelChange)=\\\"markAsDirty()\\\"\\n                    [(ngModel)]=\\\"filterPreset.filterSelect\\\"\\n                  ></rx-record-grid-filter-select-control>\\n                </div>\\n              </adapt-accordion-tab>\\n            </div>\\n          </form>\\n        </adapt-accordion>\\n      </div>\\n\\n      <div *ngIf=\\\"!filterPresets.length\\\" class=\\\"d-flex justify-content-center h-100 align-items-center mt-2\\\">\\n        <adapt-empty-state\\n          class=\\\"w-100\\\"\\n          label=\\\"{{\\n            'com.bmc.arsys.rx.client.view-components.record-grid-filter-preset.empty-state.message' | translate\\n          }}\\\"\\n          type=\\\"search\\\"\\n        ></adapt-empty-state>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button\\n    *ngIf=\\\"!isReadOnly\\\"\\n    adapt-button\\n    btn-type=\\\"primary\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"save-button\\\"\\n    [disabled]=\\\"filterPresetsForm.form.invalid || !isDirty()\\\"\\n    (click)=\\\"onSaveChangesClick()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n\\n  <button adapt-button btn-type=\\\"secondary\\\" type=\\\"button\\\" rx-id=\\\"cancel-button\\\" (click)=\\\"cancel()\\\">\\n    {{\\n      isReadOnly\\n        ? ('com.bmc.arsys.rx.client.common.close.label' | translate)\\n        : ('com.bmc.arsys.rx.client.common.cancel.label' | translate)\\n    }}\\n  </button>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.designer-modal-body{height:645px;min-height:calc(100% - 61px)!important}.designer-modal-accordion-wrapper{display:flex;flex-direction:column;height:100%;overflow:auto;padding-top:10px}.designer-modal-accordion-content{position:relative}.designer-modal-accordion-content.cdk-drag-preview{z-index:1200!important}.designer-modal-drag-handle{cursor:move;position:absolute;top:0;left:0;height:46px;padding:14px 10px 14px 14px;z-index:1}.designer-modal-card-title-content{width:100%;display:flex}.designer-modal-card-title-content .left-header-block,.designer-modal-card-title-content .right-header-block{display:flex;align-items:center}.designer-modal-card-title-content .left-header-block{flex-grow:1;min-width:0;font-size:14px;padding-left:22px}.designer-modal-card-sub-title{color:#7c7f81;font-weight:normal}.designer-modal-card-title-index-buttons{display:flex;font-size:19px}.rx-card{overflow:auto}.rx-tree-draggable-node{cursor:pointer}.rx-tree-draggable-node.cdk-drag-preview{z-index:1200!important}.rx-tree-draggable-node.cdk-drag{opacity:1}.rx-tree-node-label{word-break:break-all}rx-form-builder{max-width:400px}\\n\"], components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1.AdaptAccordionComponent, selector: \"adapt-accordion\", inputs: [\"config\", \"multiselect\", \"bordered\"], outputs: [\"openTab\", \"closeTab\"] }, { type: i1.AdaptAccordionTabComponent, selector: \"adapt-accordion-tab\", inputs: [\"title\", \"renderContentWhenClosed\", \"customClass\", \"multiline\", \"icon\", \"disabled\", \"isOpen\"], outputs: [\"open\", \"close\"] }, { type: i1.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: RecordGridFilterSelectControlComponent, selector: \"rx-record-grid-filter-select-control\", inputs: [\"options\"] }, { type: i1.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i2$3.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i2$3.NgForm, selector: \"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]\", inputs: [\"ngFormOptions\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$1.RxNoWhitespaceValidator, selector: \"[rxNoWhitespace]\", inputs: [\"rxNoWhitespace\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i1$6.RxCustomValidatorsDirective, selector: \"[rxCustomValidators][ngModel],[rxCustomValidators][formControl]\", inputs: [\"rxCustomValidators\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }], pipes: { \"translate\": i2.TranslatePipe }, encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridFilterPresetEditorModalComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-record-grid-filter-preset-editor-modal',\n                    templateUrl: './record-grid-filter-preset-editor-modal.component.html',\n                    styleUrls: ['./record-grid-filter-preset-editor-modal.component.scss'],\n                    encapsulation: ViewEncapsulation.None\n                }]\n        }], ctorParameters: function () { return [{ type: i1.ActiveModalRef }, { type: i1$6.RxModalService }, { type: i2$1.RxGuidService }, { type: i0.Injector }]; }, propDecorators: { accordionTabEls: [{\n                type: ViewChildren,\n                args: [AdaptAccordionTabComponent, { read: ElementRef }]\n            }], filterPresetsForm: [{\n                type: ViewChild,\n                args: ['filterPresetsForm', { read: NgForm, static: true }]\n            }] } });\n\nclass RecordGridFilterPresetEditorControlComponent extends ValueAccessor {\n    constructor(rxModalService, rxRecordGridFilterSelectHelperService) {\n        super();\n        this.rxModalService = rxModalService;\n        this.rxRecordGridFilterSelectHelperService = rxRecordGridFilterSelectHelperService;\n        this.filterPresets = [];\n    }\n    onWriteValue(filterPresets) {\n        this.filterPresets = filterPresets.slice();\n        this.filterPresets.sort((filterPreset1, filterPreset2) => filterPreset1.title.localeCompare(filterPreset2.title));\n    }\n    removeFilterPreset(filterPresetToRemove) {\n        this.updateValue(this.filterPresets.filter((filterPreset) => filterPreset.guid !== filterPresetToRemove.guid));\n    }\n    updateValue(filterPresets) {\n        this.value = filterPresets;\n        this.onWriteValue(filterPresets);\n    }\n    openEditor(filterPreset) {\n        const selectedFieldIds = this.options.columns.map((column) => column.fieldId);\n        const selectedFieldDefinitions = this.options.primaryRecordDefinition.fieldDefinitions.filter((fieldDefinition) => selectedFieldIds.includes(fieldDefinition.id.toString()));\n        const namedFilterOptions = this.rxRecordGridFilterSelectHelperService.getNamedFilterOptionsFromColumns(this.options.columns);\n        const data = {\n            filterPresets: this.filterPresets,\n            activeFilterPreset: filterPreset,\n            isReadOnly: this.isDisabled,\n            namedFilterOptions,\n            primaryRecordDefinition: cloneDeep(Object.assign(Object.assign({}, this.options.primaryRecordDefinition), { fieldDefinitions: selectedFieldDefinitions })),\n            selectedFieldIds\n        };\n        this.rxModalService\n            .openModal({\n            title: 'Edit filter presets',\n            content: RecordGridFilterPresetEditorModalComponent,\n            size: OpenViewActionModalSize.Large,\n            testID: 'edit-filter-presets',\n            data\n        })\n            .then((result) => {\n            if (result && result.filterPresets) {\n                this.updateValue(result.filterPresets);\n            }\n        })\n            .catch(noop);\n    }\n    trackByForFilterPresets(index, filterPreset) {\n        return filterPreset.guid;\n    }\n}\nRecordGridFilterPresetEditorControlComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridFilterPresetEditorControlComponent, deps: [{ token: i1$6.RxModalService }, { token: RxRecordGridFilterSelectHelperService }], target: i0.ɵɵFactoryTarget.Component });\nRecordGridFilterPresetEditorControlComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordGridFilterPresetEditorControlComponent, selector: \"rx-record-grid-filter-preset-editor\", inputs: { options: \"options\" }, providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: RecordGridFilterPresetEditorControlComponent,\n            multi: true\n        }\n    ], usesInheritance: true, ngImport: i0, template: \"<adapt-rx-control-label *ngIf=\\\"options.label\\\" [label]=\\\"options.label\\\" [tooltip]=\\\"options?.tooltip\\\">\\n</adapt-rx-control-label>\\n\\n<adapt-button *ngIf=\\\"!isDisabled\\\" btn-type=\\\"tertiary\\\" rx-id=\\\"open-modal-button\\\" class=\\\"p-0 pb-1\\\" (click)=\\\"openEditor()\\\">\\n  <span class=\\\"d-icon-plus_circle\\\"></span>\\n  Edit filter presets\\n</adapt-button>\\n\\n<div>\\n  <div class=\\\"rx-selected-filter-preset\\\" *ngFor=\\\"let filterPreset of filterPresets; trackBy: trackByForFilterPresets\\\">\\n    <div class=\\\"rx-selected-filter-preset__header-container\\\">\\n      <span class=\\\"rx-selected-filter-preset__header-title\\\" rx-id=\\\"card-title\\\" [title]=\\\"filterPreset.title\\\">\\n        {{ filterPreset.title }}\\n      </span>\\n\\n      <button\\n        type=\\\"button\\\"\\n        class=\\\"rx-button-unstyled d-icon-left-pencil btn-link\\\"\\n        rx-id=\\\"open-editor\\\"\\n        *ngIf=\\\"!isDisabled\\\"\\n        (click)=\\\"openEditor(filterPreset)\\\"\\n      ></button>\\n      <button\\n        type=\\\"button\\\"\\n        class=\\\"rx-button-unstyled d-icon-cross btn-link\\\"\\n        rx-id=\\\"remove-filter-preset\\\"\\n        *ngIf=\\\"!isDisabled\\\"\\n        (click)=\\\"removeFilterPreset(filterPreset)\\\"\\n      ></button>\\n    </div>\\n\\n    <div rx-id=\\\"filter-count\\\" class=\\\"rx-filter-count\\\">Filters: {{ filterPreset.recordGridFilters.length }}</div>\\n  </div>\\n  <span class=\\\"text-tertiary\\\" *ngIf=\\\"filterPresets.length === 0\\\"> No filter presets added. </span>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.rx-selected-filter-preset{margin-bottom:5px;border:1px solid #d6d7d8;border-radius:2px;padding:5px 10px;word-break:break-all;font-weight:var(--font-weight-bold)}.rx-selected-filter-preset__header-container{display:flex;margin-bottom:5px}.rx-selected-filter-preset__header-title{flex:1 1 auto;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:.875rem}.rx-filter-count{font-size:.625rem;color:#959899}.d-icon-cross,.d-icon-left-pencil{cursor:pointer}.d-icon-cross:not(:hover),.d-icon-left-pencil:not(:hover){color:#313538}\\n\"], components: [{ type: i1.AdaptRxControlLabelComponent, selector: \"adapt-rx-control-label\", inputs: [\"for\", \"id\", \"label\", \"subLabel\", \"requiredLabel\", \"showRequiredLabel\", \"tooltip\", \"testID\"] }, { type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridFilterPresetEditorControlComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-record-grid-filter-preset-editor',\n                    templateUrl: './record-grid-filter-preset-editor-control.component.html',\n                    styleUrls: ['./record-grid-filter-preset-editor-control.component.scss'],\n                    providers: [\n                        {\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: RecordGridFilterPresetEditorControlComponent,\n                            multi: true\n                        }\n                    ]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$6.RxModalService }, { type: RxRecordGridFilterSelectHelperService }]; }, propDecorators: { options: [{\n                type: Input\n            }] } });\n\nclass RecordGridRowActionEditorModalComponent extends RxModalClass {\n    constructor(context, adaptModalService, rxExpressionEditorService, translateService, rxRecordDefinitionCacheService, ngZone, rxGuidService, injector) {\n        super(context, injector);\n        this.context = context;\n        this.adaptModalService = adaptModalService;\n        this.rxExpressionEditorService = rxExpressionEditorService;\n        this.translateService = translateService;\n        this.rxRecordDefinitionCacheService = rxRecordDefinitionCacheService;\n        this.ngZone = ngZone;\n        this.rxGuidService = rxGuidService;\n        this.injector = injector;\n        this.rowActions = [];\n        this.selectFormControlOptions = {\n            label: this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid-row-actions.field-name.label'),\n            tooltip: new Tooltip(this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid-row-actions.field-name.tooltip')),\n            options: [],\n            emptyOption: true\n        };\n        this.availableOnDevicesFormControlOptions = getAvailableOnDevicesInspectorConfig().options;\n        this.recordDefinitionPickerOptions = {\n            label: this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid-row-actions.security-definition-name.label'),\n            tooltip: new Tooltip(this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid-row-actions.security-definition-name.tooltip')),\n            definitionType: RxDefinitionPickerType.StandardDataRecord,\n            required: false\n        };\n        this.iconPickerOptions = {\n            label: this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid-row-actions.icon.label'),\n            appendToBody: true,\n            required: false\n        };\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        const params = this.context.getData();\n        this.expressionConfigurator = params.expressionConfigurator;\n        this.rowActionIndex = params.rowActionIndex;\n        this.activeActionIndex = params.activeActionIndex;\n        this.isReadOnly = params.isReadOnly;\n        this.rowActions = cloneDeep(params.rowActions).map((rowAction, index) => {\n            this.setSecurityFieldDefinitions(rowAction);\n            return Object.assign(Object.assign({}, rowAction), { isOpen: index === this.rowActionIndex });\n        });\n    }\n    ngAfterViewInit() {\n        this.openActiveAction();\n        if (this.rowActionIndex) {\n            this.accordionTabEls.toArray()[this.rowActionIndex].nativeElement.scrollIntoView({\n                block: 'nearest'\n            });\n        }\n    }\n    cancel() {\n        this.context.dismiss(DismissReasons.CLOSE_BTN);\n    }\n    trackByGuid(index, rowAction) {\n        return rowAction.guid;\n    }\n    addRowAction() {\n        this.markAsDirty();\n        this.rowActions.push(Object.assign({ guid: this.rxGuidService.generate(), label: 'New row action' + (this.rowActions.length === 0 ? '' : ' ' + this.rowActions.length), icon: '', recordDefinitionName: null, fieldId: null, recordInstance: null, disabled: null, hidden: null, actions: [], isOpen: true, securityFieldDefinitions$: of(this.getSelectFormControlOptions()) }, RX_AVAILABLE_ON_DEVICES_DEFAULT_VALUE));\n        setTimeout(() => {\n            this.accordionTabEls.last.nativeElement.scrollIntoView({\n                block: 'nearest'\n            });\n        });\n    }\n    removeRowAction(index, $event) {\n        $event.stopPropagation();\n        this.markAsDirty();\n        this.rowActions.splice(index, 1);\n    }\n    openExpressionEditor(event, rowAction, propertyPath) {\n        this.rxExpressionEditorService\n            .openEditor({\n            property: {\n                path: propertyPath,\n                value: rowAction[propertyPath],\n                label: this.getRowActionLabel(propertyPath)\n            },\n            isReadOnly: false,\n            expressionConfigurator: this.expressionConfigurator,\n            legend: [\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.function.label'),\n                    icon: 'd-icon-mathematical_function'\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.keyword.label'),\n                    icon: 'd-icon-dollar'\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.view-component.label'),\n                    icon: 'd-icon-file_o'\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.view-component-property.label'),\n                    icon: 'd-icon-file_o_gear'\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.view-input-parameter.label'),\n                    icon: 'd-icon-arrow_right_square_input'\n                }\n            ]\n        })\n            .subscribe((expression) => {\n            this.markAsDirty();\n            rowAction[propertyPath] = expression.value;\n        });\n    }\n    getExpressionFormControlOptions(propertyPath) {\n        return {\n            label: this.getRowActionLabel(propertyPath),\n            tooltip: propertyPath === 'recordInstance'\n                ? new Tooltip(this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid-row-actions.recordInstance.tooltip'))\n                : null,\n            dataDictionary$: this.context.getData().expressionConfigurator.getDataDictionary(propertyPath),\n            operators: this.context.getData().expressionConfigurator.getOperators(propertyPath)\n        };\n    }\n    saveActions() {\n        const rowActions = this.rowActions.map((rowAction) => (Object.assign(Object.assign({}, omit(rowAction, ['isOpen', 'securityFieldDefinitions$'])), { action: 'rowAction' })));\n        this.context.close(rowActions);\n    }\n    moveRowAction(fromIndex, toIndex) {\n        moveItemInArray(this.rowActions, fromIndex, toIndex);\n        this.markAsDirty();\n    }\n    onDropInSelectedRowActionsContainer($event) {\n        moveItemInArray(this.rowActions, $event.previousIndex, $event.currentIndex);\n        this.markAsDirty();\n    }\n    onRecordDefinitionChange(rowAction) {\n        this.markAsDirty();\n        rowAction.fieldId = null;\n        this.setSecurityFieldDefinitions(rowAction);\n    }\n    setSecurityFieldDefinitions(rowAction) {\n        rowAction.securityFieldDefinitions$ = rowAction.recordDefinitionName\n            ? this.rxRecordDefinitionCacheService\n                .getRecordDefinition(rowAction.recordDefinitionName)\n                .pipe(map((recordDefinition) => this.getSelectFormControlOptions(recordDefinition)))\n            : of(this.getSelectFormControlOptions());\n    }\n    getRowActionLabel(key) {\n        let rowActionLabel;\n        switch (key) {\n            case 'disabled':\n                rowActionLabel = 'com.bmc.arsys.rx.client.view-components.record-grid-row-actions.disabled.label';\n                break;\n            case 'hidden':\n                rowActionLabel = 'com.bmc.arsys.rx.client.view-components.record-grid-row-actions.hidden.label';\n                break;\n            case 'recordInstance':\n                rowActionLabel = 'com.bmc.arsys.rx.client.view-components.record-grid-row-actions.recordInstance.label';\n                break;\n        }\n        return this.translateService.instant(rowActionLabel);\n    }\n    getSelectFormControlOptions(recordDefinition = null) {\n        return Object.assign(Object.assign({}, this.selectFormControlOptions), { options: recordDefinition\n                ? recordDefinition.fieldDefinitions.map((definition) => ({\n                    name: definition.name,\n                    id: String(definition.id)\n                }))\n                : [] });\n    }\n    openActiveAction() {\n        if (this.activeActionIndex >= 0 && this.rowActionIndex >= 0) {\n            this.ngZone.runOutsideAngular(() => {\n                // timeout is required to let control set initial value\n                setTimeout(() => {\n                    const listControl = this.actionListControlComponents.find((control) => { var _a; return isEqual(control.value, (_a = this.rowActions[this.rowActionIndex]) === null || _a === void 0 ? void 0 : _a.actions); });\n                    if (listControl) {\n                        listControl.focus({ actionIndex: this.activeActionIndex });\n                    }\n                });\n            });\n        }\n    }\n    toggleOpen(expandAll) {\n        this.rowActions.forEach((action) => (action.isOpen = expandAll));\n    }\n}\nRecordGridRowActionEditorModalComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridRowActionEditorModalComponent, deps: [{ token: i1.ActiveModalRef }, { token: i1.AdaptModalService }, { token: i2$5.RxExpressionEditorService }, { token: i2.TranslateService }, { token: i1$5.RxRecordDefinitionCacheService }, { token: i0.NgZone }, { token: i2$1.RxGuidService }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nRecordGridRowActionEditorModalComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordGridRowActionEditorModalComponent, selector: \"rx-record-grid-row-action-editor-modal\", viewQueries: [{ propertyName: \"rowActionsForm\", first: true, predicate: [\"rowActionsForm\"], descendants: true, read: NgForm, static: true }, { propertyName: \"selectedRowActionsDropList\", first: true, predicate: [\"selectedRowActionsDropList\"], descendants: true, read: CdkDropList }, { propertyName: \"accordionTabEls\", predicate: AdaptAccordionTabComponent, descendants: true, read: ElementRef }, { propertyName: \"draggableSelectedRowAction\", predicate: [\"draggableSelectedRowAction\"], descendants: true, read: CdkDrag }, { propertyName: \"actionListControlComponents\", predicate: ActionListControlComponent, descendants: true }], usesInheritance: true, ngImport: i0, template: \"<div class=\\\"designer-modal-body modal-body d-flex mh-100\\\">\\n  <div class=\\\"row flex-grow-1 w-100\\\">\\n    <div class=\\\"d-flex flex-column mh-100 col\\\">\\n      <div class=\\\"d-flex align-items-start justify-content-between\\\">\\n        <button\\n          *ngIf=\\\"!isReadOnly\\\"\\n          class=\\\"mt-2 p-0\\\"\\n          rx-id=\\\"add-button\\\"\\n          adapt-button\\n          type=\\\"button\\\"\\n          btn-type=\\\"tertiary\\\"\\n          (click)=\\\"addRowAction()\\\"\\n        >\\n          <span class=\\\"d-icon-left-plus_circle\\\"></span>\\n\\n          {{\\n            'com.bmc.arsys.rx.client.view-components.record-grid-row-actions.add-row-action.button.label' | translate\\n          }}\\n        </button>\\n\\n        <div *ngIf=\\\"rowActions.length\\\" class=\\\"btn-group\\\">\\n          <button adapt-button btn-type=\\\"tertiary\\\" type=\\\"button\\\" rx-id=\\\"expand-all-button\\\" (click)=\\\"toggleOpen(true)\\\">\\n            {{ 'com.bmc.arsys.rx.client.common.expand-all.label' | translate }}\\n          </button>\\n\\n          <button\\n            adapt-button\\n            btn-type=\\\"tertiary\\\"\\n            type=\\\"button\\\"\\n            rx-id=\\\"collapse-all-button\\\"\\n            (click)=\\\"toggleOpen(false)\\\"\\n          >\\n            {{ 'com.bmc.arsys.rx.client.common.collapse-all.label' | translate }}\\n          </button>\\n        </div>\\n      </div>\\n\\n      <div\\n        id=\\\"selectedRowActionsDropList\\\"\\n        class=\\\"designer-modal-accordion-wrapper\\\"\\n        cdkDropList\\n        [cdkDropListData]=\\\"rowActions\\\"\\n        (cdkDropListDropped)=\\\"onDropInSelectedRowActionsContainer($event)\\\"\\n        #selectedRowActionsDropList=\\\"cdkDropList\\\"\\n      >\\n        <adapt-accordion [multiselect]=\\\"true\\\">\\n          <form #rowActionsForm=\\\"ngForm\\\">\\n            <div\\n              *ngFor=\\\"\\n                let rowAction of rowActions;\\n                let index = index;\\n                let first = first;\\n                let last = last;\\n                trackBy: trackByGuid\\n              \\\"\\n              class=\\\"designer-modal-accordion-content\\\"\\n              cdkDrag\\n              cdkDragLockAxis=\\\"y\\\"\\n              [cdkDragData]=\\\"rowAction\\\"\\n              [cdkDragDisabled]=\\\"isReadOnly\\\"\\n              #draggableSelectedRowAction\\n            >\\n              <div *ngIf=\\\"!isReadOnly\\\" class=\\\"designer-modal-drag-handle d-icon-left-dots\\\" cdkDragHandle></div>\\n\\n              <adapt-accordion-tab\\n                class=\\\"d-block\\\"\\n                [isOpen]=\\\"rowAction.isOpen\\\"\\n                (open)=\\\"rowAction.isOpen = true\\\"\\n                (close)=\\\"rowAction.isOpen = false\\\"\\n              >\\n                <div class=\\\"card-title-text w-100\\\">\\n                  <div class=\\\"designer-modal-card-title-content\\\">\\n                    <div class=\\\"left-header-block\\\" [class.pl-0]=\\\"isReadOnly\\\">\\n                      <div class=\\\"rx-ellipsis\\\" [title]=\\\"rowAction.label\\\" rx-id=\\\"card-title\\\">\\n                        {{ rowAction.label }}\\n                      </div>\\n                    </div>\\n\\n                    <div *ngIf=\\\"!isReadOnly\\\" class=\\\"right-header-block\\\">\\n                      <div class=\\\"designer-modal-card-title-index-buttons\\\">\\n                        <button\\n                          class=\\\"d-icon-left-triangle_down rx-button-unstyled\\\"\\n                          type=\\\"button\\\"\\n                          [disabled]=\\\"last\\\"\\n                          (click)=\\\"$event.stopPropagation(); moveRowAction(index, index + 1)\\\"\\n                          rx-id=\\\"move-down-button\\\"\\n                        ></button>\\n\\n                        <button\\n                          class=\\\"d-icon-left-triangle_up rx-button-unstyled\\\"\\n                          type=\\\"button\\\"\\n                          [disabled]=\\\"first\\\"\\n                          (click)=\\\"$event.stopPropagation(); moveRowAction(index, index - 1)\\\"\\n                          rx-id=\\\"move-up-button\\\"\\n                        ></button>\\n                      </div>\\n\\n                      <button\\n                        class=\\\"d-icon-left-cross_adapt p-1 pr-4 ml-3\\\"\\n                        adapt-button\\n                        size=\\\"small\\\"\\n                        type=\\\"button\\\"\\n                        (click)=\\\"removeRowAction(index, $event)\\\"\\n                        rx-id=\\\"remove-button\\\"\\n                      >\\n                        {{ 'com.bmc.arsys.rx.client.common.remove.label' | translate }}\\n                      </button>\\n                    </div>\\n                  </div>\\n                </div>\\n\\n                <div class=\\\"d-flex row\\\">\\n                  <adapt-rx-textfield\\n                    class=\\\"form-group d-block col-4\\\"\\n                    label=\\\"{{\\n                      'com.bmc.arsys.rx.client.view-components.record-grid-row-actions.label-field.label' | translate\\n                    }}\\\"\\n                    [disabled]=\\\"isReadOnly\\\"\\n                    [required]=\\\"true\\\"\\n                    [name]=\\\"'label_' + rowAction.guid\\\"\\n                    rx-id=\\\"label\\\"\\n                    [(ngModel)]=\\\"rowAction.label\\\"\\n                    (ngModelChange)=\\\"markAsDirty()\\\"\\n                    rxNoWhitespace\\n                  >\\n                  </adapt-rx-textfield>\\n\\n                  <rx-icon-picker-form-control\\n                    [disabled]=\\\"isReadOnly\\\"\\n                    class=\\\"form-group d-block col-4 px-2\\\"\\n                    [options]=\\\"iconPickerOptions\\\"\\n                    [name]=\\\"'icon_' + rowAction.guid\\\"\\n                    rx-id=\\\"icon\\\"\\n                    [(ngModel)]=\\\"rowAction.icon\\\"\\n                    (ngModelChange)=\\\"markAsDirty()\\\"\\n                  ></rx-icon-picker-form-control>\\n                </div>\\n\\n                <div class=\\\"d-flex row\\\">\\n                  <rx-definition-picker\\n                    [isDisabled]=\\\"isReadOnly\\\"\\n                    [options]=\\\"recordDefinitionPickerOptions\\\"\\n                    [(ngModel)]=\\\"rowAction.recordDefinitionName\\\"\\n                    [name]=\\\"'recordDefinition_' + rowAction.guid\\\"\\n                    rx-id=\\\"recordDefinition\\\"\\n                    (ngModelChange)=\\\"onRecordDefinitionChange(rowAction)\\\"\\n                    class=\\\"form-group d-block col-4\\\"\\n                  >\\n                  </rx-definition-picker>\\n\\n                  <rx-select-form-control\\n                    [options]=\\\"(rowAction.securityFieldDefinitions$ | async) || selectFormControlOptions\\\"\\n                    [(ngModel)]=\\\"rowAction.fieldId\\\"\\n                    [name]=\\\"'fieldId_' + rowAction.guid\\\"\\n                    rx-id=\\\"fieldId\\\"\\n                    [disabled]=\\\"!rowAction.recordDefinitionName || isReadOnly\\\"\\n                    [appendToBody]=\\\"true\\\"\\n                    class=\\\"col-4 px-2\\\"\\n                    (ngModelChange)=\\\"markAsDirty()\\\"\\n                  >\\n                  </rx-select-form-control>\\n\\n                  <rx-expression-form-control\\n                    [disabled]=\\\"!rowAction.recordDefinitionName || isReadOnly\\\"\\n                    [options]=\\\"getExpressionFormControlOptions('recordInstance')\\\"\\n                    propertyPath=\\\"recordInstance\\\"\\n                    [ngModel]=\\\"rowAction.recordInstance\\\"\\n                    (events)=\\\"openExpressionEditor($event, rowAction, 'recordInstance')\\\"\\n                    [name]=\\\"'recordInstance_' + rowAction.guid\\\"\\n                    rx-id=\\\"recordInstance\\\"\\n                    class=\\\"col-4\\\"\\n                  >\\n                  </rx-expression-form-control>\\n                </div>\\n\\n                <div class=\\\"d-flex row\\\">\\n                  <rx-expression-form-control\\n                    [disabled]=\\\"isReadOnly\\\"\\n                    [options]=\\\"getExpressionFormControlOptions('disabled')\\\"\\n                    propertyPath=\\\"disabled\\\"\\n                    [ngModel]=\\\"rowAction.disabled\\\"\\n                    (events)=\\\"openExpressionEditor($event, rowAction, 'disabled')\\\"\\n                    [name]=\\\"'disabled_' + rowAction.guid\\\"\\n                    rx-id=\\\"disabled\\\"\\n                    class=\\\"col-4\\\"\\n                  >\\n                  </rx-expression-form-control>\\n\\n                  <rx-expression-form-control\\n                    [disabled]=\\\"isReadOnly\\\"\\n                    [options]=\\\"getExpressionFormControlOptions('hidden')\\\"\\n                    propertyPath=\\\"hidden\\\"\\n                    [ngModel]=\\\"rowAction.hidden\\\"\\n                    (events)=\\\"openExpressionEditor($event, rowAction, 'hidden')\\\"\\n                    [name]=\\\"'hidden_' + rowAction.guid\\\"\\n                    rx-id=\\\"hidden\\\"\\n                    class=\\\"col-4\\\"\\n                  >\\n                  </rx-expression-form-control>\\n\\n                  <rx-select-form-control\\n                    [options]=\\\"availableOnDevicesFormControlOptions\\\"\\n                    [(ngModel)]=\\\"rowAction.availableOnDevices\\\"\\n                    [name]=\\\"'availableOnDevices_' + rowAction.guid\\\"\\n                    rx-id=\\\"availableOnDevices\\\"\\n                    [disabled]=\\\"isReadOnly\\\"\\n                    [appendToBody]=\\\"true\\\"\\n                    class=\\\"col-4 px-2\\\"\\n                    (ngModelChange)=\\\"markAsDirty()\\\"\\n                    required\\n                  >\\n                  </rx-select-form-control>\\n                </div>\\n\\n                <div class=\\\"d-flex row\\\">\\n                  <rx-action-list-control\\n                    class=\\\"d-inline-block col-4 mt-2\\\"\\n                    [(ngModel)]=\\\"rowAction.actions\\\"\\n                    (ngModelChange)=\\\"markAsDirty()\\\"\\n                    [name]=\\\"'action_' + rowAction.guid\\\"\\n                  ></rx-action-list-control>\\n                </div>\\n              </adapt-accordion-tab>\\n            </div>\\n          </form>\\n        </adapt-accordion>\\n      </div>\\n\\n      <div *ngIf=\\\"!rowActions.length\\\" class=\\\"d-flex justify-content-center h-100 align-items-center mt-2\\\">\\n        <adapt-empty-state\\n          class=\\\"w-100\\\"\\n          label=\\\"{{\\n            'com.bmc.arsys.rx.client.view-components.record-grid-row-actions.empty-state.message' | translate\\n          }}\\\"\\n          type=\\\"config\\\"\\n        ></adapt-empty-state>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button\\n    *ngIf=\\\"!isReadOnly\\\"\\n    adapt-button\\n    btn-type=\\\"primary\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"save-button\\\"\\n    [disabled]=\\\"rowActionsForm.invalid || !isDirty()\\\"\\n    (click)=\\\"saveActions()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n\\n  <button adapt-button btn-type=\\\"secondary\\\" type=\\\"button\\\" rx-id=\\\"cancel-button\\\" (click)=\\\"cancel()\\\">\\n    {{\\n      isReadOnly\\n        ? ('com.bmc.arsys.rx.client.common.close.label' | translate)\\n        : ('com.bmc.arsys.rx.client.common.cancel.label' | translate)\\n    }}\\n  </button>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.designer-modal-body{height:645px;min-height:calc(100% - 61px)!important}.designer-modal-accordion-wrapper{display:flex;flex-direction:column;height:100%;overflow:auto;padding-top:10px}.designer-modal-accordion-content{position:relative}.designer-modal-accordion-content.cdk-drag-preview{z-index:1200!important}.designer-modal-drag-handle{cursor:move;position:absolute;top:0;left:0;height:46px;padding:14px 10px 14px 14px;z-index:1}.designer-modal-card-title-content{width:100%;display:flex}.designer-modal-card-title-content .left-header-block,.designer-modal-card-title-content .right-header-block{display:flex;align-items:center}.designer-modal-card-title-content .left-header-block{flex-grow:1;min-width:0;font-size:14px;padding-left:22px}.designer-modal-card-sub-title{color:#7c7f81;font-weight:normal}.designer-modal-card-title-index-buttons{display:flex;font-size:19px}.rx-card{overflow:auto}.rx-tree-draggable-node{cursor:pointer}.rx-tree-draggable-node.cdk-drag-preview{z-index:1200!important}.rx-tree-draggable-node.cdk-drag{opacity:1}.rx-tree-node-label{word-break:break-all}rx-form-builder{max-width:400px}\\n\"], components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1.AdaptAccordionComponent, selector: \"adapt-accordion\", inputs: [\"config\", \"multiselect\", \"bordered\"], outputs: [\"openTab\", \"closeTab\"] }, { type: i1.AdaptAccordionTabComponent, selector: \"adapt-accordion-tab\", inputs: [\"title\", \"renderContentWhenClosed\", \"customClass\", \"multiline\", \"icon\", \"disabled\", \"isOpen\"], outputs: [\"open\", \"close\"] }, { type: i1.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i2$5.IconPickerFormControlComponent, selector: \"rx-icon-picker-form-control\", inputs: [\"options\"] }, { type: i2$5.RxDefinitionPickerComponent, selector: \"rx-definition-picker\", inputs: [\"options\", \"isDisabled\"] }, { type: i2$5.SelectFormControlComponent, selector: \"rx-select-form-control\", inputs: [\"options\", \"appendToBody\", \"formControl\"] }, { type: i2$5.ExpressionFormControlComponent, selector: \"rx-expression-form-control\", inputs: [\"options\", \"isDisabled\", \"propertyPath\"], outputs: [\"events\"] }, { type: i1$3.ActionListControlComponent, selector: \"rx-action-list-control\", inputs: [\"options\", \"tooltip\"] }, { type: i1.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i8.CdkDropList, selector: \"[cdkDropList], cdk-drop-list\", inputs: [\"cdkDropListConnectedTo\", \"id\", \"cdkDropListEnterPredicate\", \"cdkDropListSortPredicate\", \"cdkDropListDisabled\", \"cdkDropListSortingDisabled\", \"cdkDropListAutoScrollDisabled\", \"cdkDropListOrientation\", \"cdkDropListLockAxis\", \"cdkDropListData\", \"cdkDropListAutoScrollStep\"], outputs: [\"cdkDropListDropped\", \"cdkDropListEntered\", \"cdkDropListExited\", \"cdkDropListSorted\"], exportAs: [\"cdkDropList\"] }, { type: i2$3.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i2$3.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i2$3.NgForm, selector: \"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]\", inputs: [\"ngFormOptions\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i8.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragDisabled\", \"cdkDragStartDelay\", \"cdkDragLockAxis\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragBoundary\", \"cdkDragRootElement\", \"cdkDragPreviewContainer\", \"cdkDragData\", \"cdkDragFreeDragPosition\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }, { type: i8.CdkDragHandle, selector: \"[cdkDragHandle]\", inputs: [\"cdkDragHandleDisabled\"] }, { type: i2$1.RxNoWhitespaceValidator, selector: \"[rxNoWhitespace]\", inputs: [\"rxNoWhitespace\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }], pipes: { \"translate\": i2.TranslatePipe, \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridRowActionEditorModalComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-record-grid-row-action-editor-modal',\n                    templateUrl: './record-grid-row-action-editor-modal.component.html',\n                    styleUrls: ['./record-grid-row-action-editor-modal.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1.ActiveModalRef }, { type: i1.AdaptModalService }, { type: i2$5.RxExpressionEditorService }, { type: i2.TranslateService }, { type: i1$5.RxRecordDefinitionCacheService }, { type: i0.NgZone }, { type: i2$1.RxGuidService }, { type: i0.Injector }]; }, propDecorators: { accordionTabEls: [{\n                type: ViewChildren,\n                args: [AdaptAccordionTabComponent, { read: ElementRef }]\n            }], rowActionsForm: [{\n                type: ViewChild,\n                args: ['rowActionsForm', { static: true, read: NgForm }]\n            }], draggableSelectedRowAction: [{\n                type: ViewChildren,\n                args: ['draggableSelectedRowAction', { read: CdkDrag }]\n            }], selectedRowActionsDropList: [{\n                type: ViewChild,\n                args: ['selectedRowActionsDropList', { read: CdkDropList }]\n            }], actionListControlComponents: [{\n                type: ViewChildren,\n                args: [ActionListControlComponent]\n            }] } });\n\nclass RxRecordGridRowActionEditorWidgetComponent extends InspectorWidgetBase {\n    constructor(injector, rxModalService, translateService) {\n        super(injector);\n        this.injector = injector;\n        this.rxModalService = rxModalService;\n        this.translateService = translateService;\n        this.rowActions$ = this.designerItemModel.rowActionButtonComponents$.pipe(map((rowActionButtons) => {\n            return rowActionButtons.map((rowActionButtonComponent) => {\n                const actions = rowActionButtonComponent.children.map((action) => omit(action, 'type', 'children'));\n                return Object.assign(Object.assign({}, pick(rowActionButtonComponent.data, [\n                    'recordDefinitionName',\n                    'recordInstance',\n                    'fieldId',\n                    'icon',\n                    'disabled',\n                    'hidden',\n                    'label',\n                    RX_AVAILABLE_ON_DEVICES_PROP_NAME\n                ])), { guid: rowActionButtonComponent.guid, actions });\n            });\n        }), shareReplay(1));\n    }\n    openEditor(rowActionIndex, activeActionIndex) {\n        this.rowActions$\n            .pipe(take(1), switchMap((rowActions) => from(this.rxModalService.openModal({\n            content: RecordGridRowActionEditorModalComponent,\n            title: this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid-row-actions.modal.title'),\n            size: OpenViewActionModalSize.Large,\n            testID: 'edit-row-actions',\n            data: {\n                expressionConfigurator: this.designerItemModel.expressionConfigurator,\n                isReadOnly: this.isDisabled,\n                rowActionIndex,\n                rowActions,\n                activeActionIndex\n            }\n        }))))\n            .subscribe({\n            next: (newRowActions) => this.designerItemModel.setRowActions(newRowActions),\n            error: noop\n        });\n    }\n    trackByForRowActions(index, rowAction) {\n        return rowAction.label;\n    }\n    removeRowAction(index, rowActions) {\n        this.rxModalService\n            .confirm({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n            modalStyle: RX_MODAL.modalStyles.warning,\n            message: this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid-row-actions.row-action-delete.warning', { name: rowActions[index].label })\n        })\n            .then((response) => {\n            if (response) {\n                rowActions.splice(index, 1);\n                this.designerItemModel.setRowActions(rowActions);\n            }\n        });\n    }\n    focus(data) {\n        this.openEditor(data.rowActionIndex, data.actionIndex);\n    }\n}\nRxRecordGridRowActionEditorWidgetComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridRowActionEditorWidgetComponent, deps: [{ token: i0.Injector }, { token: i1$6.RxModalService }, { token: i2.TranslateService }], target: i0.ɵɵFactoryTarget.Component });\nRxRecordGridRowActionEditorWidgetComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxRecordGridRowActionEditorWidgetComponent, selector: \"rx-record-grid-row-action-editor-widget\", usesInheritance: true, ngImport: i0, template: \"<adapt-button btn-type=\\\"tertiary\\\" rx-id=\\\"open-row-action-editor-modal-button\\\" class=\\\"p-0 pb-1\\\" (click)=\\\"openEditor()\\\">\\n  <span class=\\\"d-icon-plus_circle\\\"></span>\\n  Edit row actions\\n</adapt-button>\\n\\n<div *ngIf=\\\"rowActions$ | async as rowActions\\\">\\n  <span rx-id=\\\"no-row-actions\\\" *ngIf=\\\"rowActions.length === 0\\\" class=\\\"text-tertiary\\\"> No row actions added. </span>\\n  <div\\n    rx-id=\\\"row-actions-list\\\"\\n    class=\\\"rx-selected-row-action\\\"\\n    *ngFor=\\\"let rowAction of rowActions; let index = index; trackBy: trackByForRowActions\\\"\\n  >\\n    <div class=\\\"rx-selected-row-action__header-container\\\">\\n      <span rx-id=\\\"row-action\\\" class=\\\"rx-selected-row-action__header-title\\\" [title]=\\\"rowAction.label\\\">\\n        {{ rowAction.label }}\\n      </span>\\n\\n      <button\\n        type=\\\"button\\\"\\n        class=\\\"rx-button-unstyled d-icon-left-pencil btn-link\\\"\\n        rx-id=\\\"edit-button\\\"\\n        (click)=\\\"openEditor(index)\\\"\\n      ></button>\\n      <button\\n        type=\\\"button\\\"\\n        class=\\\"rx-button-unstyled d-icon-cross btn-link\\\"\\n        rx-id=\\\"remove-button\\\"\\n        (click)=\\\"removeRowAction(index, rowActions)\\\"\\n      ></button>\\n    </div>\\n  </div>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.rx-selected-row-action{margin-bottom:5px;border:1px solid #d6d7d8;border-radius:2px;padding:5px 10px;word-break:break-all;font-weight:var(--font-weight-bold)}.rx-selected-row-action__header-container{display:flex}.rx-selected-row-action__header-title{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;font-size:14px}.d-icon-cross,.d-icon-left-pencil{cursor:pointer}.d-icon-cross:not(:hover),.d-icon-left-pencil:not(:hover){color:#313538}\\n\"], components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridRowActionEditorWidgetComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-record-grid-row-action-editor-widget',\n                    templateUrl: './record-grid-row-action-editor-widget.component.html',\n                    styleUrls: ['./record-grid-row-action-editor-widget.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1$6.RxModalService }, { type: i2.TranslateService }]; } });\n\nclass RecordGridSortEditorControlComponent extends ValueAccessor {\n    constructor(renderer, rxRecordGridUtilsService, rxStringService) {\n        super();\n        this.renderer = renderer;\n        this.rxRecordGridUtilsService = rxRecordGridUtilsService;\n        this.rxStringService = rxStringService;\n        this.ColumnSortDirection = ColumnSortDirection;\n        this.updateOptionsSubject = new BehaviorSubject(null);\n        this.columnOptions$ = this.updateOptionsSubject.pipe(switchMap(() => this.options.gridColumns && this.options.recordDefinition\n            ? forkJoin(this.options.gridColumns\n                .filter((gridColumn) => gridColumn.sortable)\n                .map((gridColumn) => {\n                if (this.rxStringService.isEmptySafe(gridColumn.title)) {\n                    return this.rxRecordGridUtilsService\n                        .getFieldDefinition(gridColumn.fieldId, this.options.recordDefinition)\n                        .pipe(map((fieldDefinition) => ({ id: gridColumn.fieldId, name: `[${fieldDefinition.name}]` })));\n                }\n                return of({ id: gridColumn.fieldId, name: gridColumn.title });\n            })).pipe(defaultIfEmpty([]))\n            : of([])));\n        this.selectedColumnOption = [];\n    }\n    get selectedSortDirection() {\n        return this.value ? this.value.direction : null;\n    }\n    ngOnChanges(changes) {\n        var _a, _b, _c;\n        if (((_a = changes.options) === null || _a === void 0 ? void 0 : _a.previousValue) &&\n            (!isEqual(changes.options.currentValue.gridColumns, changes.options.previousValue.gridColumns) ||\n                ((_b = changes.options.currentValue.recordDefinition) === null || _b === void 0 ? void 0 : _b.name) !==\n                    ((_c = changes.options.previousValue.recordDefinition) === null || _c === void 0 ? void 0 : _c.name))) {\n            this.updateOptionsSubject.next();\n        }\n    }\n    onWriteValue(value) {\n        this.columnOptions$.pipe(take(1)).subscribe((columnOptions) => {\n            this.selectedColumnOption = value ? [columnOptions.find((option) => option.id === value.fieldId)] : [];\n        });\n    }\n    focus() {\n        this.renderer.selectRootElement(this.adaptRxSelect.selectButtonRef.nativeElement, true).focus();\n    }\n    onSelectModelChange(value) {\n        this.selectedColumnOption = value;\n        this.value = isEmpty(value) ? null : { fieldId: head(value).id, direction: ColumnSortDirection.Asc };\n    }\n    setSortDirection(sortDirection) {\n        this.value = Object.assign(Object.assign({}, this.value), { direction: sortDirection });\n    }\n    optionFormatter(option) {\n        return option.name;\n    }\n    ngOnDestroy() {\n        this.updateOptionsSubject.complete();\n    }\n}\nRecordGridSortEditorControlComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridSortEditorControlComponent, deps: [{ token: i0.Renderer2 }, { token: RxRecordGridUtilsService }, { token: i2$1.RxStringService }], target: i0.ɵɵFactoryTarget.Component });\nRecordGridSortEditorControlComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordGridSortEditorControlComponent, selector: \"rx-record-grid-sort-editor-control\", inputs: { options: \"options\" }, providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: RecordGridSortEditorControlComponent,\n            multi: true\n        }\n    ], viewQueries: [{ propertyName: \"adaptRxSelect\", first: true, predicate: [\"adaptRxSelect\"], descendants: true, static: true }], usesInheritance: true, usesOnChanges: true, ngImport: i0, template: \"<div class=\\\"form-group\\\" [ngClass]=\\\"{ 'is-required': options.required }\\\">\\n  <label class=\\\"form-control-label\\\" *ngIf=\\\"options.label\\\">{{ options.label }}</label>\\n\\n  <div class=\\\"d-flex\\\">\\n    <adapt-rx-select\\n      #adaptRxSelect\\n      class=\\\"pr-1 w-100\\\"\\n      *ngIf=\\\"columnOptions$ | async as columnOptions\\\"\\n      [options]=\\\"columnOptions\\\"\\n      [required]=\\\"options.required\\\"\\n      [disabled]=\\\"isDisabled\\\"\\n      [ngModel]=\\\"selectedColumnOption\\\"\\n      (ngModelChange)=\\\"onSelectModelChange($event)\\\"\\n      [optionFormatter]=\\\"optionFormatter\\\"\\n      [emptyOption]=\\\"true\\\"\\n    ></adapt-rx-select>\\n\\n    <div class=\\\"btn-group\\\" data-toggle=\\\"buttons\\\" *ngIf=\\\"selectedColumnOption.length\\\">\\n      <button\\n        adapt-button\\n        btn-type=\\\"secondary\\\"\\n        type=\\\"button\\\"\\n        class=\\\"pl-2 pr-2 d-icon-arrow_up\\\"\\n        (click)=\\\"setSortDirection(ColumnSortDirection.Asc)\\\"\\n        [class.active]=\\\"selectedSortDirection === ColumnSortDirection.Asc\\\"\\n      ></button>\\n      <button\\n        adapt-button\\n        btn-type=\\\"secondary\\\"\\n        type=\\\"button\\\"\\n        class=\\\"pl-2 pr-2 d-icon-arrow_down\\\"\\n        (click)=\\\"setSortDirection(ColumnSortDirection.Desc)\\\"\\n        [class.active]=\\\"selectedSortDirection === ColumnSortDirection.Desc\\\"\\n      ></button>\\n    </div>\\n  </div>\\n</div>\\n\", components: [{ type: i1.AdaptRxSelectComponent, selector: \"adapt-rx-select\", inputs: [\"options\", \"emptyOption\", \"optionFormatter\", \"optionContentTemplate\", \"disabledOptionResolver\", \"titleFormatter\", \"focusFirst\", \"texts\", \"multiple\", \"singleSelectStyle\", \"enableFilter\", \"inline\", \"selectAllButton\", \"deselectAllButton\", \"loadMoreButton\", \"loadMoreCallback\", \"loadMoreInProgress\", \"loadingState\", \"placeholder\", \"size\", \"closeOnSelect\", \"placement\", \"appendToBody\", \"popupMaxHeight\", \"popupClass\", \"pageSize\", \"ariaInvalid\", \"virtualScroll\", \"virtualScrollItemSize\", \"virtualScrollTemplateCacheSize\", \"minBufferPx\", \"maxBufferPx\"], outputs: [\"onSelectionChange\", \"onPopupOpenChange\", \"onFilterValueChange\"] }, { type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridSortEditorControlComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-record-grid-sort-editor-control',\n                    templateUrl: './record-grid-sort-editor-control.component.html',\n                    providers: [\n                        {\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: RecordGridSortEditorControlComponent,\n                            multi: true\n                        }\n                    ]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Renderer2 }, { type: RxRecordGridUtilsService }, { type: i2$1.RxStringService }]; }, propDecorators: { options: [{\n                type: Input\n            }], adaptRxSelect: [{\n                type: ViewChild,\n                args: ['adaptRxSelect', { static: true }]\n            }] } });\n\nvar RecordGridDesignDefinitionMode;\n(function (RecordGridDesignDefinitionMode) {\n    RecordGridDesignDefinitionMode[\"Record\"] = \"record\";\n    RecordGridDesignDefinitionMode[\"Association\"] = \"association\";\n})(RecordGridDesignDefinitionMode || (RecordGridDesignDefinitionMode = {}));\n\nclass RecordGridViewPresetColumnsModalComponent extends RxModalClass {\n    constructor(activeModalRef, injector) {\n        super(activeModalRef, injector);\n        this.activeModalRef = activeModalRef;\n        this.injector = injector;\n        this.params = this.activeModalRef.getData();\n        this.presetColumns = this.params.presetColumns.map((column, index) => {\n            const gridColumn = this.params.gridColumns.find((col) => col.fieldId === column.data.fieldId);\n            return Object.assign(Object.assign({}, cloneDeep(column)), { isOpen: index === 0, title: gridColumn.title, fallbackTitle: gridColumn.fallbackTitle });\n        });\n        this.isReadOnly = this.params.isReadOnly;\n        this.columnWidthPropertyOptions = RX_RECORD_GRID.columnProperties.find(({ name }) => name === 'width').options;\n        this.presetColumns.sort((a, b) => a.data.index - b.data.index);\n    }\n    expandAllColumns(event) {\n        event.stopPropagation();\n        this.presetColumns.forEach((column) => (column.isOpen = true));\n    }\n    collapseAllColumns(event) {\n        event.stopPropagation();\n        this.presetColumns.forEach((column) => (column.isOpen = false));\n    }\n    saveChanges() {\n        this.activeModalRef.close({\n            presetColumns: this.presetColumns.map((column) => omit(column, ['isOpen', 'title']))\n        });\n    }\n    cancel() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n    moveColumn(fromIndex, toIndex) {\n        this.markAsDirty();\n        moveItemInArray(this.presetColumns, fromIndex, toIndex);\n        this.updateColumnIndexes();\n    }\n    onDropInSelectedColumnsContainer(event) {\n        this.moveColumn(event.previousIndex, event.currentIndex);\n    }\n    trackByGuid(index, column) {\n        return column.guid;\n    }\n    updateColumnIndexes() {\n        this.presetColumns.forEach((column, index) => {\n            column.data.index = index;\n        });\n    }\n}\nRecordGridViewPresetColumnsModalComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridViewPresetColumnsModalComponent, deps: [{ token: i1.ActiveModalRef }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nRecordGridViewPresetColumnsModalComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordGridViewPresetColumnsModalComponent, selector: \"rx-record-grid-view-preset-columns-modal\", usesInheritance: true, ngImport: i0, template: \"<div class=\\\"designer-modal-body modal-body d-flex mh-100\\\">\\n  <div class=\\\"row flex-grow-1 w-100\\\">\\n    <div class=\\\"d-flex flex-column mh-100 col\\\">\\n      <div class=\\\"d-flex justify-content-end\\\">\\n        <div class=\\\"btn-group\\\">\\n          <button\\n            adapt-button\\n            btn-type=\\\"tertiary\\\"\\n            type=\\\"button\\\"\\n            rx-id=\\\"expand-all-button\\\"\\n            (click)=\\\"expandAllColumns($event)\\\"\\n          >\\n            {{ 'com.bmc.arsys.rx.client.common.expand-all.label' | translate }}\\n          </button>\\n\\n          <button\\n            adapt-button\\n            btn-type=\\\"tertiary\\\"\\n            type=\\\"button\\\"\\n            rx-id=\\\"collapse-all-button\\\"\\n            (click)=\\\"collapseAllColumns($event)\\\"\\n          >\\n            {{ 'com.bmc.arsys.rx.client.common.collapse-all.label' | translate }}\\n          </button>\\n        </div>\\n      </div>\\n\\n      <div\\n        class=\\\"designer-modal-accordion-wrapper\\\"\\n        cdkDropList\\n        [cdkDropListData]=\\\"presetColumns\\\"\\n        (cdkDropListDropped)=\\\"onDropInSelectedColumnsContainer($event)\\\"\\n      >\\n        <adapt-accordion [multiselect]=\\\"true\\\">\\n          <div\\n            *ngFor=\\\"\\n              let column of presetColumns;\\n              let index = index;\\n              let first = first;\\n              let last = last;\\n              trackBy: trackByGuid\\n            \\\"\\n            class=\\\"designer-modal-accordion-content\\\"\\n            cdkDrag\\n            [cdkDragDisabled]=\\\"isReadOnly\\\"\\n            [cdkDragData]=\\\"column\\\"\\n            cdkDragLockAxis=\\\"y\\\"\\n          >\\n            <div *ngIf=\\\"!isReadOnly\\\" class=\\\"designer-modal-drag-handle d-icon-left-dots\\\" cdkDragHandle></div>\\n\\n            <adapt-accordion-tab\\n              class=\\\"d-block\\\"\\n              [isOpen]=\\\"column.isOpen\\\"\\n              (open)=\\\"column.isOpen = true\\\"\\n              (close)=\\\"column.isOpen = false\\\"\\n            >\\n              <div class=\\\"card-title-text w-100\\\">\\n                <div class=\\\"designer-modal-card-title-content\\\">\\n                  <div class=\\\"left-header-block\\\" [class.pl-0]=\\\"isReadOnly\\\">\\n                    <div class=\\\"rx-ellipsis\\\" [title]=\\\"column.title\\\">\\n                      {{ column.title || column.fallbackTitle }}\\n                    </div>\\n\\n                    <div *ngIf=\\\"column.data.visible\\\" class=\\\"designer-modal-card-sub-title ml-2\\\" [title]=\\\"column.title\\\">\\n                      visible\\n                    </div>\\n                  </div>\\n\\n                  <div *ngIf=\\\"!isReadOnly\\\" class=\\\"right-header-block\\\">\\n                    <div class=\\\"designer-modal-card-title-index-buttons\\\">\\n                      <button\\n                        class=\\\"d-icon-left-triangle_down rx-button-unstyled\\\"\\n                        type=\\\"button\\\"\\n                        [disabled]=\\\"last\\\"\\n                        (click)=\\\"$event.stopPropagation(); moveColumn(index, index + 1)\\\"\\n                        rx-id=\\\"move-down-button\\\"\\n                      ></button>\\n\\n                      <button\\n                        class=\\\"d-icon-left-triangle_up rx-button-unstyled\\\"\\n                        type=\\\"button\\\"\\n                        [disabled]=\\\"first\\\"\\n                        (click)=\\\"$event.stopPropagation(); moveColumn(index, index - 1)\\\"\\n                        rx-id=\\\"move-up-button\\\"\\n                      ></button>\\n                    </div>\\n                  </div>\\n                </div>\\n              </div>\\n\\n              <adapt-rx-textfield\\n                label=\\\"Column header\\\"\\n                [disabled]=\\\"true\\\"\\n                [(ngModel)]=\\\"column.title\\\"\\n              ></adapt-rx-textfield>\\n\\n              <adapt-rx-checkbox\\n                label=\\\"Visible\\\"\\n                [(ngModel)]=\\\"column.data.visible\\\"\\n                [disabled]=\\\"isReadOnly\\\"\\n                (ngModelChange)=\\\"markAsDirty()\\\"\\n              ></adapt-rx-checkbox>\\n\\n              <rx-stepper-with-units-form-control\\n                class=\\\"d-block col-5 p-0\\\"\\n                [options]=\\\"columnWidthPropertyOptions\\\"\\n                [(ngModel)]=\\\"column.data.width\\\"\\n                (ngModelChange)=\\\"markAsDirty()\\\"\\n              ></rx-stepper-with-units-form-control>\\n            </adapt-accordion-tab>\\n          </div>\\n        </adapt-accordion>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button\\n    *ngIf=\\\"!isReadOnly\\\"\\n    adapt-button\\n    btn-type=\\\"primary\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"save-button\\\"\\n    [disabled]=\\\"!isDirty()\\\"\\n    (click)=\\\"saveChanges()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n\\n  <button adapt-button btn-type=\\\"secondary\\\" type=\\\"button\\\" rx-id=\\\"cancel-button\\\" (click)=\\\"cancel()\\\">\\n    {{\\n      isReadOnly\\n        ? ('com.bmc.arsys.rx.client.common.close.label' | translate)\\n        : ('com.bmc.arsys.rx.client.common.cancel.label' | translate)\\n    }}\\n  </button>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.designer-modal-body{height:645px;min-height:calc(100% - 61px)!important}.designer-modal-accordion-wrapper{display:flex;flex-direction:column;height:100%;overflow:auto;padding-top:10px}.designer-modal-accordion-content{position:relative}.designer-modal-accordion-content.cdk-drag-preview{z-index:1200!important}.designer-modal-drag-handle{cursor:move;position:absolute;top:0;left:0;height:46px;padding:14px 10px 14px 14px;z-index:1}.designer-modal-card-title-content{width:100%;display:flex}.designer-modal-card-title-content .left-header-block,.designer-modal-card-title-content .right-header-block{display:flex;align-items:center}.designer-modal-card-title-content .left-header-block{flex-grow:1;min-width:0;font-size:14px;padding-left:22px}.designer-modal-card-sub-title{color:#7c7f81;font-weight:normal}.designer-modal-card-title-index-buttons{display:flex;font-size:19px}.rx-card{overflow:auto}.rx-tree-draggable-node{cursor:pointer}.rx-tree-draggable-node.cdk-drag-preview{z-index:1200!important}.rx-tree-draggable-node.cdk-drag{opacity:1}.rx-tree-node-label{word-break:break-all}rx-form-builder{max-width:400px}\\n\"], components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1.AdaptAccordionComponent, selector: \"adapt-accordion\", inputs: [\"config\", \"multiselect\", \"bordered\"], outputs: [\"openTab\", \"closeTab\"] }, { type: i1.AdaptAccordionTabComponent, selector: \"adapt-accordion-tab\", inputs: [\"title\", \"renderContentWhenClosed\", \"customClass\", \"multiline\", \"icon\", \"disabled\", \"isOpen\"], outputs: [\"open\", \"close\"] }, { type: i1.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i1.AdaptRxCheckboxComponent, selector: \"adapt-rx-checkbox\", inputs: [\"value\", \"checked\", \"indeterminate\"], outputs: [\"indeterminateChange\"] }, { type: i2$5.StepperWithUnitsFormControlComponent, selector: \"rx-stepper-with-units-form-control\", inputs: [\"options\"] }], directives: [{ type: i8.CdkDropList, selector: \"[cdkDropList], cdk-drop-list\", inputs: [\"cdkDropListConnectedTo\", \"id\", \"cdkDropListEnterPredicate\", \"cdkDropListSortPredicate\", \"cdkDropListDisabled\", \"cdkDropListSortingDisabled\", \"cdkDropListAutoScrollDisabled\", \"cdkDropListOrientation\", \"cdkDropListLockAxis\", \"cdkDropListData\", \"cdkDropListAutoScrollStep\"], outputs: [\"cdkDropListDropped\", \"cdkDropListEntered\", \"cdkDropListExited\", \"cdkDropListSorted\"], exportAs: [\"cdkDropList\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i8.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragDisabled\", \"cdkDragStartDelay\", \"cdkDragLockAxis\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragBoundary\", \"cdkDragRootElement\", \"cdkDragPreviewContainer\", \"cdkDragData\", \"cdkDragFreeDragPosition\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i8.CdkDragHandle, selector: \"[cdkDragHandle]\", inputs: [\"cdkDragHandleDisabled\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridViewPresetColumnsModalComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-record-grid-view-preset-columns-modal',\n                    templateUrl: './record-grid-view-preset-columns-modal.component.html',\n                    styleUrls: ['./record-grid-view-preset-columns-modal.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1.ActiveModalRef }, { type: i0.Injector }]; } });\n\nclass RecordGridEditViewPresetsModalComponent extends RxModalClass {\n    constructor(activeModalRef, injector, rxModalService, rxRecordGridDesignUtilsService, rxRecordGridFilterSelectHelperService, rxRecordGridUtilsService, rxStringService) {\n        super(activeModalRef, injector);\n        this.activeModalRef = activeModalRef;\n        this.injector = injector;\n        this.rxModalService = rxModalService;\n        this.rxRecordGridDesignUtilsService = rxRecordGridDesignUtilsService;\n        this.rxRecordGridFilterSelectHelperService = rxRecordGridFilterSelectHelperService;\n        this.rxRecordGridUtilsService = rxRecordGridUtilsService;\n        this.rxStringService = rxStringService;\n        this.params = this.activeModalRef.getData();\n        this.presets = [];\n        this.isReadOnly = this.params.isReadOnly;\n        this.gridColumns$ = this.params.gridColumns && this.params.recordDefinition\n            ? forkJoin(this.params.gridColumns.map((gridColumn) => {\n                if (this.rxStringService.isEmptySafe(gridColumn.title)) {\n                    return this.rxRecordGridUtilsService\n                        .getFieldDefinition(gridColumn.fieldId, this.params.recordDefinition)\n                        .pipe(map((fieldDefinition) => (Object.assign(Object.assign({}, gridColumn), { fallbackTitle: `[${fieldDefinition.name}]` }))));\n                }\n                return of(Object.assign(Object.assign({}, gridColumn), { fallbackTitle: `[${gridColumn.title}]` }));\n            })).pipe(defaultIfEmpty([]))\n            : of([]);\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.gridColumns$.pipe(take(1)).subscribe((gridColumns) => {\n            this.namedFilterOptions =\n                this.rxRecordGridFilterSelectHelperService.getNamedFilterOptionsFromColumns(gridColumns);\n            this.presets = this.params.presetsList.map(({ guid, name }, index) => {\n                const presetComponent = this.params.viewPresets.find(({ data }) => data.viewPresetGuid === guid);\n                const gridColumnsIds = gridColumns.filter((col) => col.filterable).map((col) => col.fieldId);\n                const viewPresetGuid = presetComponent.data.viewPresetGuid;\n                const presetColumns = cloneDeep(presetComponent.children.filter((col) => col.type === RX_RECORD_GRID.components.columnViewPreset));\n                const sortedColumn = presetColumns.find((col) => isObject(col.data.sortable));\n                const sortModel = sortedColumn\n                    ? {\n                        fieldId: sortedColumn.data.fieldId,\n                        direction: sortedColumn.data.sortable.direction\n                    }\n                    : null;\n                return {\n                    presetName: name,\n                    gridColumns,\n                    presetColumns,\n                    guid: viewPresetGuid,\n                    tags: this.getTags(presetColumns, gridColumns),\n                    isOpen: this.params.activePreset ? this.params.activePreset === viewPresetGuid : index === 0,\n                    sortModel,\n                    filters: {\n                        basicFilters: this.rxRecordGridDesignUtilsService.getBasicRecordGridFiltersFromChildData(presetComponent.children),\n                        filtersJson: presetComponent.data.filters\n                    },\n                    filterSelectControlOptions: {\n                        primaryRecordDefinition: Object.assign(Object.assign({}, this.params.recordDefinition), { fieldDefinitions: this.params.recordDefinition.fieldDefinitions.filter((definition) => gridColumnsIds.includes(String(definition.id))) }),\n                        selectedFieldIds: gridColumns.map((column) => column.fieldId),\n                        namedFilterOptions: this.namedFilterOptions\n                    },\n                    sortEditorControlOptions: {\n                        label: 'Initial column sort',\n                        gridColumns: sortBy(gridColumns, 'title'),\n                        recordDefinition: this.params.recordDefinition\n                    }\n                };\n            });\n        });\n    }\n    saveChanges() {\n        this.activeModalRef.close({\n            presets: this.presets\n        });\n    }\n    cancel() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n    expandAll(event) {\n        event.stopPropagation();\n        this.presets.forEach((preset) => (preset.isOpen = true));\n    }\n    collapseAll(event) {\n        event.stopPropagation();\n        this.presets.forEach((preset) => (preset.isOpen = false));\n    }\n    openPresetColumnsModal(preset) {\n        this.rxModalService\n            .openModal({\n            title: `Edit grid columns for ${preset.presetName}`,\n            content: RecordGridViewPresetColumnsModalComponent,\n            size: OpenViewActionModalSize.Large,\n            data: {\n                gridColumns: preset.gridColumns,\n                presetColumns: preset.presetColumns,\n                isReadOnly: this.isReadOnly\n            },\n            testID: 'edit-grid-columns-for-view-preset'\n        })\n            .then((result) => {\n            if (result === null || result === void 0 ? void 0 : result.presetColumns) {\n                preset.presetColumns = result.presetColumns;\n                preset.tags = this.getTags(preset.presetColumns, preset.gridColumns);\n                this.markAsDirty();\n            }\n        })\n            .catch(noop);\n    }\n    trackByPreset(index, item) {\n        return item.guid;\n    }\n    getTags(presetColumns, gridColumns) {\n        const allColumnTitles = presetColumns\n            .filter((column) => column.data.visible)\n            .map((column) => {\n            const gridColumn = gridColumns.find((col) => col.fieldId === column.data.fieldId);\n            return gridColumn.title || gridColumn.fallbackTitle;\n        });\n        const displayedColumnTitles = allColumnTitles.slice(0, 5);\n        return {\n            items: displayedColumnTitles,\n            restCount: allColumnTitles.length - displayedColumnTitles.length\n        };\n    }\n    onSortChange(sortModel, preset) {\n        preset.presetColumns.forEach((column) => {\n            column.data.sortable = column.data.fieldId === (sortModel === null || sortModel === void 0 ? void 0 : sortModel.fieldId) ? pick(sortModel, 'direction') : null;\n        });\n        this.markAsDirty();\n    }\n}\nRecordGridEditViewPresetsModalComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridEditViewPresetsModalComponent, deps: [{ token: i1.ActiveModalRef }, { token: i0.Injector }, { token: i1$6.RxModalService }, { token: RxRecordGridDesignUtilsService }, { token: RxRecordGridFilterSelectHelperService }, { token: RxRecordGridUtilsService }, { token: i2$1.RxStringService }], target: i0.ɵɵFactoryTarget.Component });\nRecordGridEditViewPresetsModalComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordGridEditViewPresetsModalComponent, selector: \"rx-record-grid-edit-view-presets-modal\", usesInheritance: true, ngImport: i0, template: \"<div class=\\\"designer-modal-body modal-body d-flex mh-100\\\">\\n  <div class=\\\"row flex-grow-1 w-100\\\">\\n    <div class=\\\"d-flex flex-column mh-100 col\\\">\\n      <div class=\\\"d-flex justify-content-end\\\">\\n        <div class=\\\"btn-group\\\">\\n          <button adapt-button btn-type=\\\"tertiary\\\" type=\\\"button\\\" rx-id=\\\"expand-all-button\\\" (click)=\\\"expandAll($event)\\\">\\n            {{ 'com.bmc.arsys.rx.client.common.expand-all.label' | translate }}\\n          </button>\\n\\n          <button\\n            adapt-button\\n            btn-type=\\\"tertiary\\\"\\n            type=\\\"button\\\"\\n            rx-id=\\\"collapse-all-button\\\"\\n            (click)=\\\"collapseAll($event)\\\"\\n          >\\n            {{ 'com.bmc.arsys.rx.client.common.collapse-all.label' | translate }}\\n          </button>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"designer-modal-accordion-wrapper\\\">\\n        <adapt-accordion [multiselect]=\\\"true\\\">\\n          <div\\n            *ngFor=\\\"let preset of presets; let index = index; trackBy: trackByPreset\\\"\\n            class=\\\"designer-modal-accordion-content\\\"\\n          >\\n            <adapt-accordion-tab\\n              class=\\\"d-block\\\"\\n              [isOpen]=\\\"preset.isOpen\\\"\\n              (open)=\\\"preset.isOpen = true\\\"\\n              (close)=\\\"preset.isOpen = false\\\"\\n            >\\n              <div class=\\\"card-title-text w-100\\\">\\n                <div class=\\\"designer-modal-card-title-content\\\">\\n                  <div class=\\\"left-header-block pl-0\\\">\\n                    <div class=\\\"rx-ellipsis\\\" [title]=\\\"preset.presetName\\\" rx-id=\\\"card-title\\\">\\n                      {{ preset.presetName }}\\n                    </div>\\n                  </div>\\n                </div>\\n              </div>\\n\\n              <adapt-button\\n                btn-type=\\\"tertiary\\\"\\n                rx-id=\\\"open-grid-preset-columns-modal-button\\\"\\n                class=\\\"p-0 pb-1\\\"\\n                (click)=\\\"openPresetColumnsModal(preset)\\\"\\n              >\\n                <span class=\\\"d-icon-plus_circle\\\"></span>\\n\\n                Edit grid columns\\n              </adapt-button>\\n\\n              <div class=\\\"mb-3\\\">\\n                <adapt-tag type=\\\"active\\\" *ngFor=\\\"let tag of preset.tags.items\\\">{{ tag }}</adapt-tag>\\n\\n                <button\\n                  *ngIf=\\\"preset.tags.restCount\\\"\\n                  class=\\\"btn-link rx-button-unstyled ml-1\\\"\\n                  type=\\\"button\\\"\\n                  (click)=\\\"openPresetColumnsModal(preset)\\\"\\n                >\\n                  +{{ preset.tags.restCount }} more\\n                </button>\\n              </div>\\n\\n              <rx-record-grid-sort-editor-control\\n                class=\\\"d-block w-50\\\"\\n                [options]=\\\"preset.sortEditorControlOptions\\\"\\n                [disabled]=\\\"isReadOnly\\\"\\n                [(ngModel)]=\\\"preset.sortModel\\\"\\n                (ngModelChange)=\\\"onSortChange($event, preset)\\\"\\n              ></rx-record-grid-sort-editor-control>\\n\\n              <rx-record-grid-filter-select-control\\n                [options]=\\\"preset.filterSelectControlOptions\\\"\\n                [disabled]=\\\"isReadOnly\\\"\\n                [(ngModel)]=\\\"preset.filters\\\"\\n                (ngModelChange)=\\\"markAsDirty()\\\"\\n              ></rx-record-grid-filter-select-control>\\n            </adapt-accordion-tab>\\n          </div>\\n        </adapt-accordion>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button\\n    *ngIf=\\\"!isReadOnly\\\"\\n    adapt-button\\n    btn-type=\\\"primary\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"save-button\\\"\\n    [disabled]=\\\"!isDirty()\\\"\\n    (click)=\\\"saveChanges()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n\\n  <button adapt-button btn-type=\\\"secondary\\\" type=\\\"button\\\" rx-id=\\\"cancel-button\\\" (click)=\\\"cancel()\\\">\\n    {{\\n      isReadOnly\\n        ? ('com.bmc.arsys.rx.client.common.close.label' | translate)\\n        : ('com.bmc.arsys.rx.client.common.cancel.label' | translate)\\n    }}\\n  </button>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.designer-modal-body{height:645px;min-height:calc(100% - 61px)!important}.designer-modal-accordion-wrapper{display:flex;flex-direction:column;height:100%;overflow:auto;padding-top:10px}.designer-modal-accordion-content{position:relative}.designer-modal-accordion-content.cdk-drag-preview{z-index:1200!important}.designer-modal-drag-handle{cursor:move;position:absolute;top:0;left:0;height:46px;padding:14px 10px 14px 14px;z-index:1}.designer-modal-card-title-content{width:100%;display:flex}.designer-modal-card-title-content .left-header-block,.designer-modal-card-title-content .right-header-block{display:flex;align-items:center}.designer-modal-card-title-content .left-header-block{flex-grow:1;min-width:0;font-size:14px;padding-left:22px}.designer-modal-card-sub-title{color:#7c7f81;font-weight:normal}.designer-modal-card-title-index-buttons{display:flex;font-size:19px}.rx-card{overflow:auto}.rx-tree-draggable-node{cursor:pointer}.rx-tree-draggable-node.cdk-drag-preview{z-index:1200!important}.rx-tree-draggable-node.cdk-drag{opacity:1}.rx-tree-node-label{word-break:break-all}rx-form-builder{max-width:400px}\\n\"], components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1.AdaptAccordionComponent, selector: \"adapt-accordion\", inputs: [\"config\", \"multiselect\", \"bordered\"], outputs: [\"openTab\", \"closeTab\"] }, { type: i1.AdaptAccordionTabComponent, selector: \"adapt-accordion-tab\", inputs: [\"title\", \"renderContentWhenClosed\", \"customClass\", \"multiline\", \"icon\", \"disabled\", \"isOpen\"], outputs: [\"open\", \"close\"] }, { type: i1.AdaptTagComponent, selector: \"adapt-tag\", inputs: [\"type\", \"removable\", \"disabled\"], outputs: [\"remove\"] }, { type: RecordGridSortEditorControlComponent, selector: \"rx-record-grid-sort-editor-control\", inputs: [\"options\"] }, { type: RecordGridFilterSelectControlComponent, selector: \"rx-record-grid-filter-select-control\", inputs: [\"options\"] }], directives: [{ type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridEditViewPresetsModalComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-record-grid-edit-view-presets-modal',\n                    templateUrl: './record-grid-edit-view-presets-modal.component.html',\n                    styleUrls: ['./record-grid-edit-view-presets-modal.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1.ActiveModalRef }, { type: i0.Injector }, { type: i1$6.RxModalService }, { type: RxRecordGridDesignUtilsService }, { type: RxRecordGridFilterSelectHelperService }, { type: RxRecordGridUtilsService }, { type: i2$1.RxStringService }]; } });\n\nclass RecordGridViewPresetsWidgetComponent extends InspectorWidgetBase {\n    constructor(injector, rxModalService, viewDesignerFacade, rxGuidService, rxRecordGridDesignUtilsService, rxRecordGridFilterHelperService, rxJsonParserService) {\n        super(injector);\n        this.injector = injector;\n        this.rxModalService = rxModalService;\n        this.viewDesignerFacade = viewDesignerFacade;\n        this.rxGuidService = rxGuidService;\n        this.rxRecordGridDesignUtilsService = rxRecordGridDesignUtilsService;\n        this.rxRecordGridFilterHelperService = rxRecordGridFilterHelperService;\n        this.rxJsonParserService = rxJsonParserService;\n        this.currentPresetSelectorGuid$ = new ReplaySubject(1);\n        this.presetSelectors$ = this.viewDesignerFacade.getComponentsByType(RxViewComponentType.ViewPresetSelector);\n        this.presetSelectorOptions$ = this.presetSelectors$.pipe(map((items) => items.map(({ guid, data }) => ({ id: guid, name: data.name }))));\n        this.destroyed$ = new ReplaySubject(1);\n        this.selectedPresetsList$ = this.currentPresetSelectorGuid$.pipe(tap((guid) => this.updateViewPresetSelectorProp(guid)), switchMap((guid) => this.rxRecordGridDesignUtilsService.getPresetsList(guid)), shareReplay({ refCount: true, bufferSize: 1 }), takeUntil(this.destroyed$));\n        this.viewPresetSelectorProp$ = this.designerItemModel.sandbox.getComponentPropertyValue('viewPresetSelector');\n        this.gridColumnGuids$ = this.designerItemModel.sandbox.getChildComponentGuids((component) => component.type === RX_RECORD_GRID.components.column);\n        this.selectOptions = {\n            options: [],\n            emptyOption: true,\n            label: 'View preset selector',\n            beforeValueChange: (oldValue, newValue) => {\n                if (oldValue && oldValue !== newValue) {\n                    return this.rxModalService.confirm({\n                        title: 'Warning',\n                        modalStyle: RX_MODAL.modalStyles.warning,\n                        message: 'All record grid view presets will be cleared. Do you want to continue?'\n                    });\n                }\n                else {\n                    return Promise.resolve(true);\n                }\n            }\n        };\n    }\n    ngOnChanges(changes) {\n        var _a, _b;\n        if (((_a = changes.options.currentValue.recordDefinition) === null || _a === void 0 ? void 0 : _a.name) !== ((_b = changes.options.previousValue.recordDefinition) === null || _b === void 0 ? void 0 : _b.name)) {\n            this.currentPresetSelectorGuid = null;\n            this.currentPresetSelectorGuid$.next(null);\n        }\n    }\n    ngOnInit() {\n        this.presetSelectorOptions$.pipe(takeUntil(this.destroyed$)).subscribe((options) => {\n            this.selectOptions.options = options;\n        });\n        // select current preset selector item\n        this.viewPresetSelectorProp$\n            .pipe(first(), map((val) => this.designerItemModel.extractViewPresetSelectorGuid(val)), withLatestFrom(this.presetSelectorOptions$), takeUntil(this.destroyed$))\n            .subscribe(([guid, presetSelectorOptions]) => {\n            var _a;\n            const selectedOption = (_a = presetSelectorOptions.find((item) => item.id === guid)) === null || _a === void 0 ? void 0 : _a.id;\n            if (selectedOption) {\n                this.currentPresetSelectorGuid = selectedOption;\n                this.currentPresetSelectorGuid$.next(this.currentPresetSelectorGuid);\n            }\n        });\n        this.gridColumnGuids$\n            .pipe(filter(() => !!this.currentPresetSelectorGuid), switchMap((guids) => combineLatest(guids.map((guid) => combineLatest([\n            this.designerItemModel.sandbox.getComponentPropertyValue('sortable', guid),\n            this.designerItemModel.sandbox.getComponentPropertyValue('filterable', guid),\n            this.viewDesignerFacade.getChildComponents(guid, (c) => c.type === RX_RECORD_GRID.components.filterPreset)\n        ])))), distinctUntilChanged(isEqual), \n        // in case of removing and adding columns at a same time from columns modal\n        // stream updated several times with according to adding/removing columns\n        // we need it to be stabilized to proceed with column presets updating\n        debounceTime(100), switchMap(() => this.designerItemModel.columns$.pipe(first())), withLatestFrom(this.designerItemModel.childComponentsTree$.pipe(map((components) => cloneDeep(components)))), skip(1), takeUntil(this.destroyed$))\n            .subscribe(([gridColumns, allComponents]) => {\n            this.updateColumnPresets(allComponents, gridColumns);\n        });\n    }\n    updateColumnPresets(allComponents, gridColumns) {\n        const viewPresetsPayload = allComponents\n            .filter((component) => component.type === RX_RECORD_GRID.components.viewPreset)\n            .map((component) => {\n            const presetColumnComponents = component.children.filter((item) => item.type === RX_RECORD_GRID.components.columnViewPreset);\n            const presetFilterComponents = this.getPresetFilterComponentsForColumns(component, gridColumns);\n            const updatedPresetColumns = gridColumns\n                .map((gridColumn) => {\n                const existingPresetColumn = presetColumnComponents.find((presetColumn) => presetColumn.data.fieldId === gridColumn.fieldId);\n                if (existingPresetColumn) {\n                    if (!gridColumn.sortable) {\n                        existingPresetColumn.data.sortable = null;\n                    }\n                    return existingPresetColumn;\n                }\n                else {\n                    const columnPresetPayload = this.rxRecordGridDesignUtilsService.getColumnPresetPayload(gridColumn);\n                    columnPresetPayload.data.visible = false;\n                    columnPresetPayload.data.index = null;\n                    columnPresetPayload.data.width = null;\n                    return columnPresetPayload;\n                }\n            })\n                .map((presetCol, i, array) => {\n                if (presetCol.data.index === null) {\n                    presetCol.data.index = Math.max(...array.map((col) => col.data.index)) + 1;\n                }\n                return presetCol;\n            });\n            component.children = [...updatedPresetColumns, ...presetFilterComponents];\n            return component;\n        });\n        this.designerItemModel.sandbox.setChildrenByType(viewPresetsPayload, [RX_RECORD_GRID.components.viewPreset]);\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n    getPresetFilterComponentsForColumns(presetComponent, gridColumns) {\n        const gridColumnsIds = gridColumns.filter((col) => col.filterable).map((col) => col.fieldId);\n        const presetFilterComponents = presetComponent.children.filter((item) => item.type !== RX_RECORD_GRID.components.columnViewPreset);\n        // removing filter presets for removed columns or ones that have removed named filter option reference\n        const filteredPresetFilterComponents = presetFilterComponents.reduce((result, presetFilterComponent) => {\n            var _a, _b, _c;\n            // checking if column still can be used for filtering\n            if (gridColumnsIds.includes(presetFilterComponent.data.fieldId)) {\n                const namedFilterOptions = (_b = (_a = gridColumns.find((col) => col.fieldId === presetFilterComponent.data.fieldId)) === null || _a === void 0 ? void 0 : _a.namedFilterOptions) !== null && _b !== void 0 ? _b : [];\n                const namedFilterOptionsGuids = namedFilterOptions.map((option) => option.guid);\n                let presetFiltersObj = this.rxRecordGridDesignUtilsService.getBasicRecordGridFiltersFromChildData([\n                    presetFilterComponent\n                ]);\n                presetFiltersObj = this.deserializeNamedOptions(presetFiltersObj);\n                const namedFilterOptionGuid = (_c = presetFiltersObj[0].value) === null || _c === void 0 ? void 0 : _c[RecordGridNamedFilterOptionKey];\n                // if named filter option selected then check if it's still available\n                if (namedFilterOptionGuid) {\n                    if (namedFilterOptionsGuids.includes(namedFilterOptionGuid)) {\n                        result.push(presetFilterComponent);\n                    }\n                }\n                else {\n                    result.push(presetFilterComponent);\n                }\n            }\n            return result;\n        }, []);\n        if (presetFilterComponents.length) {\n            if (filteredPresetFilterComponents.length < presetFilterComponents.length) {\n                const presetFilters = this.rxRecordGridDesignUtilsService.getBasicRecordGridFiltersFromChildData(filteredPresetFilterComponents);\n                const newFilterData = this.rxRecordGridFilterHelperService.getRecordGridFilterDataFromPredefinedFilter(presetComponent.data.filters, presetFilters);\n                // updating filters JSON after column remove\n                presetComponent.data.filters = newFilterData\n                    ? this.rxRecordGridFilterHelperService.denormalizeFilterString(JSON.stringify(newFilterData), presetFilters)\n                    : null;\n            }\n            return filteredPresetFilterComponents;\n        }\n        return presetFilterComponents;\n    }\n    deserializeNamedOptions(recordGridFilters) {\n        return recordGridFilters.map((filter) => {\n            const value = this.rxJsonParserService.tryParseJson(filter.value);\n            if (value && value[RecordGridNamedFilterOptionKey]) {\n                return Object.assign(Object.assign({}, filter), { value });\n            }\n            return filter;\n        });\n    }\n    openEditor(preset) {\n        combineLatest([\n            this.designerItemModel.gridViewPresets$,\n            this.selectedPresetsList$,\n            this.designerItemModel.columns$,\n            this.designerItemModel.recordDefinition$\n        ])\n            .pipe(first(), takeUntil(this.destroyed$))\n            .subscribe(([viewPresets, presetsList, columns, recordDefinition]) => {\n            this.rxModalService\n                .openModal({\n                title: 'Edit view presets',\n                content: RecordGridEditViewPresetsModalComponent,\n                size: OpenViewActionModalSize.Large,\n                data: {\n                    viewPresets,\n                    presetsList,\n                    gridColumns: columns,\n                    recordDefinition,\n                    activePreset: preset === null || preset === void 0 ? void 0 : preset.guid,\n                    isReadOnly: this.isDisabled\n                }\n            })\n                .then((result) => {\n                this.onPresetModalClose(result);\n            })\n                .catch(noop);\n        });\n    }\n    trackByGuid(index, item) {\n        return item.name;\n    }\n    onPresetModalClose(result) {\n        if (result && result.presets) {\n            this.designerItemModel.childComponentsTree$\n                .pipe(first(), map((components) => cloneDeep(components)), takeUntil(this.destroyed$))\n                .subscribe((components) => {\n                result.presets.forEach((preset) => {\n                    const presetComponent = components.find((c) => c.type === RX_RECORD_GRID.components.viewPreset && c.data.viewPresetGuid === preset.guid);\n                    if (presetComponent) {\n                        const columnPayloads = preset.presetColumns.map((column) => this.rxRecordGridDesignUtilsService.getColumnPresetPayload(column.data));\n                        const filterPayloads = this.rxRecordGridDesignUtilsService.getGridFilterComponentPayloads(preset.filters.basicFilters);\n                        presetComponent.data = {\n                            viewPresetGuid: preset.guid,\n                            filters: preset.filters.filtersJson\n                        };\n                        presetComponent.children = [...columnPayloads, ...filterPayloads];\n                    }\n                });\n                this.designerItemModel.sandbox.setChildren(components);\n            });\n        }\n    }\n    updateViewPresetSelectorProp(guid) {\n        this.designerItemModel.sandbox.updateComponentProperties({\n            viewPresetSelector: guid ? `\\${view.components.${guid}.api}` : null\n        });\n    }\n}\nRecordGridViewPresetsWidgetComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridViewPresetsWidgetComponent, deps: [{ token: i0.Injector }, { token: i1$6.RxModalService }, { token: i1$3.ViewDesignerFacade }, { token: i2$1.RxGuidService }, { token: RxRecordGridDesignUtilsService }, { token: RxRecordGridFilterHelperService }, { token: i2$1.RxJsonParserService }], target: i0.ɵɵFactoryTarget.Component });\nRecordGridViewPresetsWidgetComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordGridViewPresetsWidgetComponent, selector: \"rx-record-grid-view-presets-widget\", inputs: { options: \"options\" }, usesInheritance: true, usesOnChanges: true, ngImport: i0, template: \"<rx-select-form-control\\n  class=\\\"d-block mb-3\\\"\\n  rx-id=\\\"preset-selector\\\"\\n  [options]=\\\"selectOptions\\\"\\n  [(ngModel)]=\\\"currentPresetSelectorGuid\\\"\\n  (ngModelChange)=\\\"currentPresetSelectorGuid$.next($event)\\\"\\n  [disabled]=\\\"isDisabled\\\"\\n>\\n</rx-select-form-control>\\n\\n<div [hidden]=\\\"!options.recordDefinition\\\" *ngIf=\\\"selectedPresetsList$ | async as presetsList\\\">\\n  <adapt-button\\n    *ngIf=\\\"presetsList.length\\\"\\n    btn-type=\\\"tertiary\\\"\\n    rx-id=\\\"edit-view-presets-button\\\"\\n    class=\\\"p-0 pb-1\\\"\\n    (click)=\\\"openEditor()\\\"\\n  >\\n    <span class=\\\"d-icon-left-plus_circle\\\"></span>\\n    Edit view presets\\n  </adapt-button>\\n\\n  <span rx-id=\\\"no-presets\\\" *ngIf=\\\"currentPresetSelectorGuid && presetsList.length === 0\\\" class=\\\"text-tertiary\\\">\\n    No presets added.\\n  </span>\\n\\n  <div rx-id=\\\"presets-list\\\">\\n    <div\\n      class=\\\"border mb-1 pr-2 d-flex justify-content-between text-break\\\"\\n      *ngFor=\\\"let preset of presetsList; let index = index; trackBy: trackByGuid\\\"\\n    >\\n      <strong class=\\\"preset-name\\\" rx-id=\\\"preset-name\\\" [title]=\\\"preset.name\\\">\\n        {{ preset.name }}\\n      </strong>\\n\\n      <button\\n        type=\\\"button\\\"\\n        class=\\\"rx-button-unstyled d-icon-pencil btn-link\\\"\\n        rx-id=\\\"edit-button\\\"\\n        (click)=\\\"openEditor(preset)\\\"\\n      ></button>\\n    </div>\\n  </div>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.preset-name{padding:5px 10px;font-size:14px}.d-icon-pencil{cursor:pointer}.d-icon-pencil:not(:hover){color:#313538}\\n\"], components: [{ type: i2$5.SelectFormControlComponent, selector: \"rx-select-form-control\", inputs: [\"options\", \"appendToBody\", \"formControl\"] }, { type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridViewPresetsWidgetComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-record-grid-view-presets-widget',\n                    templateUrl: './record-grid-view-presets-widget.component.html',\n                    styleUrls: ['./record-grid-view-presets-widget.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1$6.RxModalService }, { type: i1$3.ViewDesignerFacade }, { type: i2$1.RxGuidService }, { type: RxRecordGridDesignUtilsService }, { type: RxRecordGridFilterHelperService }, { type: i2$1.RxJsonParserService }]; }, propDecorators: { options: [{\n                type: Input\n            }] } });\n\nclass RxRecordGridDesignUtilsService {\n    constructor(rxGuidService, rxRecordGridConfigUtilsService, rxDefinitionNameService, rxFeatureService, rxModalService, rxRecordGridUtilsService, rxRecordGridFilterHelperService, translateService, viewDesignerFacade, rxJsonParserService) {\n        this.rxGuidService = rxGuidService;\n        this.rxRecordGridConfigUtilsService = rxRecordGridConfigUtilsService;\n        this.rxDefinitionNameService = rxDefinitionNameService;\n        this.rxFeatureService = rxFeatureService;\n        this.rxModalService = rxModalService;\n        this.rxRecordGridUtilsService = rxRecordGridUtilsService;\n        this.rxRecordGridFilterHelperService = rxRecordGridFilterHelperService;\n        this.translateService = translateService;\n        this.viewDesignerFacade = viewDesignerFacade;\n        this.rxJsonParserService = rxJsonParserService;\n    }\n    getColumnActionComponentPayloads(actions) {\n        return map$1(actions, (action) => (Object.assign(Object.assign({}, action), { type: RxViewComponentType.Action })));\n    }\n    getNamedFilterOptionPayloads(namedFilterOptions) {\n        return map$1(namedFilterOptions, (namedFilterOption) => (Object.assign(Object.assign({}, namedFilterOption), { type: RX_RECORD_GRID.components.filterPreset })));\n    }\n    getGridFilterComponentPayloads(gridFilters) {\n        return map$1(gridFilters, (gridFilter) => ({\n            guid: gridFilter.guid,\n            type: RX_RECORD_GRID.components.filter,\n            data: Object.assign({ fieldId: gridFilter.fieldId, value: gridFilter.value }, (gridFilter.$DISPLAYVALUE$ && { $DISPLAYVALUE$: gridFilter.$DISPLAYVALUE$ }))\n        }));\n    }\n    getColumnComponentPayloads(columns, initialSortColumn) {\n        return map$1(columns, (inspectorColumn, index) => {\n            let sortable = 'false';\n            if ((initialSortColumn === null || initialSortColumn === void 0 ? void 0 : initialSortColumn.fieldId) === inspectorColumn.fieldId && inspectorColumn.sortable !== false) {\n                sortable = JSON.stringify({\n                    direction: initialSortColumn.direction\n                });\n            }\n            else if (isObject(inspectorColumn.sortable) || inspectorColumn.sortable === true) {\n                sortable = 'true';\n            }\n            const columnDesignModel = {\n                alignment: inspectorColumn.alignment,\n                fieldId: inspectorColumn.fieldId,\n                filterable: inspectorColumn.filterable,\n                filterType: inspectorColumn.filterType,\n                index: String(inspectorColumn.index),\n                sortable,\n                title: inspectorColumn.title,\n                searchable: inspectorColumn.searchable,\n                visible: inspectorColumn.visible,\n                cellDisplayProperties: inspectorColumn.cellDisplayProperties,\n                width: inspectorColumn.width,\n                wrapText: inspectorColumn.wrapText,\n                typeaheadKeystrokeCount: inspectorColumn.typeaheadKeystrokeCount,\n                additionalQueryCriteria: inspectorColumn.additionalQueryCriteria\n            };\n            return {\n                type: RX_RECORD_GRID.components.column,\n                guid: inspectorColumn.guid,\n                insertIndex: index,\n                outletName: RX_VIEW_DEFINITION.defaultOutletName,\n                data: columnDesignModel,\n                children: [\n                    ...this.getColumnActionComponentPayloads(inspectorColumn.actions),\n                    ...this.getNamedFilterOptionPayloads(inspectorColumn.namedFilterOptions)\n                ]\n            };\n        });\n    }\n    getGridFilterPresetComponentPayloads(filterPresets, columns) {\n        const namedFilterGuids = columns.reduce((result, column) => result.concat(...column.namedFilterOptions.map((namedFilter) => namedFilter.guid)), []);\n        const selectedFieldIds = columns.map((column) => column.fieldId);\n        return map$1(filterPresets, (filterPreset) => {\n            const newRecordGridFilters = filterPreset.recordGridFilters\n                .filter((filter) => selectedFieldIds.includes(filter.fieldId))\n                .filter((filter) => {\n                const value = isObject(filter.value) ? filter.value : this.rxJsonParserService.tryParseJson(filter.value);\n                return (!(value === null || value === void 0 ? void 0 : value[RecordGridNamedFilterOptionKey]) ||\n                    namedFilterGuids.includes(value[RecordGridNamedFilterOptionKey]));\n            });\n            const newFilterData = this.rxRecordGridFilterHelperService.getRecordGridFilterDataFromPredefinedFilter(filterPreset.filters, newRecordGridFilters);\n            return {\n                guid: filterPreset.guid,\n                type: RX_RECORD_GRID.components.filterPreset,\n                data: {\n                    title: filterPreset.title,\n                    filters: newFilterData\n                        ? this.rxRecordGridFilterHelperService.denormalizeFilterString(JSON.stringify(newFilterData), newRecordGridFilters)\n                        : null\n                },\n                children: map$1(newRecordGridFilters, (recordGridFilter) => ({\n                    guid: recordGridFilter.guid,\n                    type: RX_RECORD_GRID.components.filter,\n                    data: Object.assign({ fieldId: recordGridFilter.fieldId, value: recordGridFilter.value }, (recordGridFilter.$DISPLAYVALUE$ && { $DISPLAYVALUE$: recordGridFilter.$DISPLAYVALUE$ }))\n                }))\n            };\n        });\n    }\n    getFilterPresetDescriptorsFromChildData(definitions) {\n        return map$1(definitions.filter((definition) => definition.type === RX_RECORD_GRID.components.filterPreset), (filterPresetsDescriptor) => ({\n            filters: filterPresetsDescriptor.data.filters,\n            recordGridFilters: map$1(filter$1(filterPresetsDescriptor.children, (definition) => definition.type === RX_RECORD_GRID.components.filter), (presetFilter) => ({\n                fieldId: presetFilter.data.fieldId,\n                value: presetFilter.data.value,\n                guid: presetFilter.guid,\n                $DISPLAYVALUE$: presetFilter.data.$DISPLAYVALUE$\n            })),\n            title: filterPresetsDescriptor.data.title,\n            guid: filterPresetsDescriptor.guid\n        })).filter((filterPreset) => { var _a; return ((_a = filterPreset.recordGridFilters) === null || _a === void 0 ? void 0 : _a.length) > 0; });\n    }\n    getActionsFromComponent(componentDesignData) {\n        return map$1(filter$1(componentDesignData.children, (definition) => definition.type === RxViewComponentType.Action), (columnAction) => (Object.assign(Object.assign({}, columnAction), { data: Object.assign({}, columnAction.data) })));\n    }\n    getNamedFilterOptionsFromComponent(componentDesignData) {\n        return componentDesignData.children\n            .filter((definition) => definition.type === RX_RECORD_GRID.components.filterPreset)\n            .map((namedFilterOptionData) => (Object.assign(Object.assign({}, namedFilterOptionData), { data: Object.assign({}, namedFilterOptionData.data) })));\n    }\n    getDefaultColumns(recordDefinition) {\n        let columns = [];\n        if (recordDefinition) {\n            const fieldDefinitions = recordDefinition.fieldDefinitions;\n            const coreFieldIds = RX_RECORD_DEFINITION.coreFieldIds;\n            columns = [\n                {\n                    title: find(fieldDefinitions, (fieldDefinition) => fieldDefinition.id === coreFieldIds.displayId).name,\n                    fieldId: String(coreFieldIds.displayId),\n                    searchable: true\n                }\n            ];\n            if (recordDefinition.resourceType === RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType) {\n                columns.push({\n                    title: find(fieldDefinitions, (fieldDefinition) => fieldDefinition.id === coreFieldIds.modifiedDate).name,\n                    fieldId: String(coreFieldIds.modifiedDate),\n                    searchable: false\n                });\n                columns.push({\n                    title: find(fieldDefinitions, (fieldDefinition) => fieldDefinition.id === coreFieldIds.description).name,\n                    fieldId: String(coreFieldIds.description),\n                    searchable: true\n                });\n            }\n            const defaultValues = reduce(RX_RECORD_GRID.columnProperties, (result, columnProperty) => {\n                result[columnProperty.name] = columnProperty.defaultValue;\n                return result;\n            }, {});\n            forEach(columns, (column, index) => defaults(column, defaultValues, {\n                index,\n                guid: this.rxGuidService.generate()\n            }));\n        }\n        return columns;\n    }\n    getInitialSortColumnModel(columns) {\n        const selectedSortColumn = find(columns, (column) => isObject(column.sortable));\n        return selectedSortColumn\n            ? {\n                direction: selectedSortColumn.sortable.direction,\n                fieldId: selectedSortColumn.fieldId\n            }\n            : null;\n    }\n    getInspectorColumnsFromDesignData(columnsDesignModel) {\n        return columnsDesignModel.map((columnDescriptor) => {\n            const column = columnDescriptor.data;\n            return Object.assign(Object.assign({}, pick(column, [\n                'alignment',\n                'fieldId',\n                'filterType',\n                'searchable',\n                'title',\n                'cellDisplayProperties',\n                'width',\n                'typeaheadKeystrokeCount',\n                'additionalQueryCriteria'\n            ])), { actions: this.getActionsFromComponent(columnDescriptor), namedFilterOptions: this.getNamedFilterOptionsFromComponent(columnDescriptor), guid: columnDescriptor.guid, filterable: this.rxRecordGridConfigUtilsService.getBooleanValue(column.filterable) || isUndefined(column.filterable), sortable: this.rxRecordGridConfigUtilsService.parseConfigString(column.sortable) ||\n                    isUndefined(column.sortable), visible: this.rxRecordGridConfigUtilsService.getBooleanValue(column.visible) || isUndefined(column.visible), wrapText: this.rxRecordGridConfigUtilsService.getBooleanValue(column.wrapText), index: Number(column.index) });\n        });\n    }\n    getComponentProperties(componentDesignProperties) {\n        var _a, _b, _c;\n        return {\n            bordered: (_a = componentDesignProperties.bordered) !== null && _a !== void 0 ? _a : true,\n            expandable: componentDesignProperties.expandable,\n            name: componentDesignProperties.name,\n            recordDefinitionName: componentDesignProperties.recordDefinitionName,\n            showDataForAllLocales: componentDesignProperties.showDataForAllLocales,\n            associationDefinitionName: componentDesignProperties.associationDefinitionName,\n            associatedRecordNodeSide: componentDesignProperties.associatedRecordNodeSide,\n            associatedRecordId: componentDesignProperties.associatedRecordId,\n            associatedRoleName: componentDesignProperties.associatedRoleName,\n            filterExpression: componentDesignProperties.filterExpression,\n            filters: isObject(componentDesignProperties.filters)\n                ? componentDesignProperties.filters.filtersJson\n                : componentDesignProperties.filters,\n            defaultFilterPreset: this.getDefaultFilterPreset(componentDesignProperties),\n            cardLayoutWidth: componentDesignProperties.cardLayoutWidth,\n            enableFiltering: componentDesignProperties.enableFiltering,\n            requiredFilters: (_b = componentDesignProperties.requiredFilters) !== null && _b !== void 0 ? _b : 0,\n            getDataForHiddenColumns: (_c = componentDesignProperties.getDataForHiddenColumns) !== null && _c !== void 0 ? _c : true,\n            enableFilterPresets: componentDesignProperties.enableFilterPresets,\n            enableRowSelection: componentDesignProperties.enableRowSelection,\n            styles: componentDesignProperties.styles,\n            striped: !!componentDesignProperties.striped,\n            viewPresetSelector: componentDesignProperties.viewPresetSelector,\n            [RX_AVAILABLE_ON_DEVICES_PROP_NAME]: componentDesignProperties[RX_AVAILABLE_ON_DEVICES_PROP_NAME]\n        };\n    }\n    getDefaultFilterPreset(componentDesignProperties) {\n        if (componentDesignProperties.defaultFilterPreset && componentDesignProperties.filterPresets) {\n            return componentDesignProperties.filterPresets.some((filterPreset) => filterPreset.guid === componentDesignProperties.defaultFilterPreset)\n                ? componentDesignProperties.defaultFilterPreset\n                : null;\n        }\n        else if (componentDesignProperties.defaultFilterPreset && !componentDesignProperties.filterPresets) {\n            return componentDesignProperties.defaultFilterPreset;\n        }\n        return null;\n    }\n    getComponentDesignProperties(componentProperties, initialComponentProperties, columnsDesignModel, basicRecordGridFilters, filterPresets) {\n        const columns = this.getInspectorColumnsFromDesignData(columnsDesignModel);\n        componentProperties = Object.assign(Object.assign({}, initialComponentProperties), componentProperties);\n        return Object.assign(Object.assign({}, componentProperties), { mode: componentProperties.associationDefinitionName\n                ? RecordGridDesignDefinitionMode.Association\n                : RecordGridDesignDefinitionMode.Record, filters: {\n                basicFilters: basicRecordGridFilters,\n                filtersJson: componentProperties.filters\n            }, filterMode: componentProperties.filterExpression ? RecordGridFilterMode.Expression : RecordGridFilterMode.Basic, filterPresets, initialSortColumn: this.getInitialSortColumnModel(columns), columns });\n    }\n    getActionButtonDescriptorsFromChildData(definitions) {\n        return definitions.filter((definition) => definition.type === RxViewComponentType.ActionButton);\n    }\n    getGridViewPresetsFromChildData(definitions) {\n        return definitions.filter((definition) => definition.type === RX_RECORD_GRID.components.viewPreset);\n    }\n    getBasicRecordGridFiltersFromChildData(definitions) {\n        return map$1(definitions.filter((definition) => definition.type === RX_RECORD_GRID.components.filter), (basicFilterDescriptor) => ({\n            fieldId: basicFilterDescriptor.data.fieldId,\n            value: basicFilterDescriptor.data.value,\n            guid: basicFilterDescriptor.guid,\n            $DISPLAYVALUE$: basicFilterDescriptor.data.$DISPLAYVALUE$\n        }));\n    }\n    getRowActionButtonPayloads(rowActions) {\n        return rowActions.map((rowAction) => ({\n            type: RxViewComponentType.ActionButton,\n            guid: rowAction.guid,\n            data: omit(rowAction, 'actions', 'guid'),\n            outletName: RX_RECORD_GRID.rowActionsOutletName,\n            children: this.getColumnActionComponentPayloads(rowAction.actions)\n        }));\n    }\n    getInspector(model, recordDefinition, recordAssociationDefinitions) {\n        const hasRecordDefinition = Boolean(model.recordDefinitionName && recordDefinition);\n        const generalControls = [\n            {\n                name: 'name',\n                component: TextFormControlComponent,\n                options: {\n                    label: 'Name',\n                    tooltip: new Tooltip('Enter a name to uniquely identify the Record grid.')\n                }\n            },\n            {\n                name: 'mode',\n                component: GroupButtonFormControlComponent,\n                options: {\n                    required: false,\n                    label: 'Mode',\n                    items: [\n                        {\n                            value: RecordGridDesignDefinitionMode.Record,\n                            name: 'Record'\n                        },\n                        {\n                            value: RecordGridDesignDefinitionMode.Association,\n                            name: 'Association'\n                        }\n                    ]\n                }\n            },\n            {\n                name: 'recordDefinitionName',\n                component: RxDefinitionPickerComponent,\n                options: {\n                    label: model.mode === RecordGridDesignDefinitionMode.Association\n                        ? 'Record definition to show'\n                        : 'Record definition name',\n                    definitionType: model.mode === RecordGridDesignDefinitionMode.Association\n                        ? RxDefinitionPickerType.RegularDataRecord\n                        : RxDefinitionPickerType.Record,\n                    required: true,\n                    beforeValueChange: (oldValue, newValue) => {\n                        if (!isEmpty(model.columns) && Boolean(oldValue)) {\n                            return this.rxModalService.confirm({\n                                title: 'Warning',\n                                modalStyle: RX_MODAL.modalStyles.warning,\n                                message: 'Initial column sort, initial filters, and added grid columns will be cleared. Do you want to continue?'\n                            });\n                        }\n                        else {\n                            return Promise.resolve(true);\n                        }\n                    }\n                }\n            }\n        ];\n        const presentationControls = [\n            {\n                name: 'cardLayoutWidth',\n                component: SelectFormControlComponent,\n                options: {\n                    label: 'Card layout width',\n                    sortAlphabetically: false,\n                    options: RX_RECORD_GRID.cardLayoutWidthOptions,\n                    emptyOption: true,\n                    tooltip: new Tooltip('The width of the Record grid view component at which it will switch to card layout.')\n                }\n            },\n            {\n                name: 'initialSortColumn',\n                component: RecordGridSortEditorControlComponent,\n                options: {\n                    label: 'Initial column sort',\n                    gridColumns: sortBy(model.columns, 'title'),\n                    recordDefinition\n                }\n            },\n            {\n                name: 'enableRowSelection',\n                component: OptionalSelectFormControlComponent,\n                options: {\n                    label: 'Enable row selection',\n                    options: [\n                        {\n                            id: RX_RECORD_GRID.selectionTypes.multiple,\n                            name: 'Multiple rows'\n                        },\n                        {\n                            id: RX_RECORD_GRID.selectionTypes.single,\n                            name: 'Single row'\n                        }\n                    ]\n                }\n            },\n            {\n                name: 'expandable',\n                component: SwitchFormControlComponent,\n                hidden: !this.rxFeatureService.isFeatureEnabled('DRD21-44922'),\n                options: {\n                    label: 'Enable grid width expansion',\n                    tooltip: new Tooltip('If enabled, the grid will expand in width to accommodate wider columns. If one or more columns extend beyond the right border of the grid, a horizontal scroll bar will appear.<br>Column width will be converted to pixels if grid width expansion mode is enabled.')\n                }\n            },\n            {\n                name: 'bordered',\n                component: SwitchFormControlComponent,\n                options: {\n                    label: 'Show border lines'\n                }\n            },\n            {\n                name: 'striped',\n                component: SwitchFormControlComponent,\n                options: {\n                    label: 'Show striped rows'\n                }\n            },\n            {\n                name: 'showDataForAllLocales',\n                component: SwitchFormControlComponent,\n                options: {\n                    label: 'Show data for all locales',\n                    tooltip: new Tooltip('If enabled, data for all locales will be displayed in the grid at runtime. If disabled, only data for current locale will be displayed.')\n                }\n            },\n            getAvailableOnDevicesInspectorConfig(),\n            getStylesFieldInspectorConfig()\n        ];\n        if (model.mode === RecordGridDesignDefinitionMode.Association) {\n            if (hasRecordDefinition) {\n                generalControls.push({\n                    name: 'associationDefinitionName',\n                    component: SelectFormControlComponent,\n                    options: {\n                        required: true,\n                        label: 'Association to use',\n                        options: map$1(recordAssociationDefinitions, (associationDescriptor) => ({\n                            id: associationDescriptor.name,\n                            name: this.rxDefinitionNameService.getDisplayName(associationDescriptor.name)\n                        })),\n                        emptyOption: true\n                    }\n                });\n            }\n            const selectedAssociationDefinition = find(recordAssociationDefinitions, (definition) => definition.name === model.associationDefinitionName);\n            if (selectedAssociationDefinition &&\n                selectedAssociationDefinition.nodeAId === selectedAssociationDefinition.nodeBId) {\n                generalControls.push({\n                    name: 'associatedRecordNodeSide',\n                    component: SelectFormControlComponent,\n                    options: {\n                        required: true,\n                        label: 'Associated record node side',\n                        options: [\n                            {\n                                id: RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.value,\n                                name: selectedAssociationDefinition.nodeAName || RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.defaultName\n                            },\n                            {\n                                id: RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value,\n                                name: selectedAssociationDefinition.nodeBName || RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.defaultName\n                            }\n                        ],\n                        emptyOption: true\n                    }\n                });\n            }\n            generalControls.push({\n                name: 'associatedRecordId',\n                component: ExpressionInspectorControlComponent,\n                options: {\n                    label: 'Associated record ID',\n                    isRequired: true\n                }\n            });\n            if (selectedAssociationDefinition &&\n                selectedAssociationDefinition.cardinality === RX_ASSOCIATION_DEFINITION.cardinality.manyToMany.value) {\n                generalControls.push({\n                    name: 'associatedRoleName',\n                    component: ExpressionInspectorControlComponent,\n                    options: {\n                        label: 'Associated role name'\n                    }\n                });\n            }\n        }\n        if (hasRecordDefinition) {\n            generalControls.push({\n                name: 'columns',\n                component: RecordGridColumnEditorControlComponent,\n                options: {\n                    recordDefinition\n                }\n            });\n            generalControls.push({\n                name: 'getDataForHiddenColumns',\n                component: SwitchFormControlComponent,\n                options: {\n                    label: 'Get data for hidden columns',\n                    tooltip: new Tooltip(this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.get-data-for-hidden-columns.tooltip'))\n                }\n            });\n            generalControls.push({\n                widgetName: 'rowActions',\n                component: RxRecordGridRowActionEditorWidgetComponent\n            });\n        }\n        const filtersControls = [\n            {\n                name: 'enableFiltering',\n                component: SwitchFormControlComponent,\n                options: {\n                    label: 'Enable filtering'\n                }\n            },\n            {\n                name: 'requiredFilters',\n                component: SelectFormControlComponent,\n                isDisabled: !model.enableFiltering,\n                options: {\n                    label: 'Required number of filters',\n                    sortAlphabetically: false,\n                    options: RX_RECORD_GRID.numberOfFiltersOptions,\n                    emptyOption: false,\n                    tooltip: new Tooltip('Data will be displayed in the grid only if a) the number of applied filters is greater than or equal to the required number of filters, or b) a search is performed.')\n                }\n            }\n        ];\n        if (hasRecordDefinition) {\n            filtersControls.push({\n                name: 'filterMode',\n                component: GroupButtonFormControlComponent,\n                options: {\n                    label: 'Initial filters',\n                    items: [\n                        {\n                            name: 'Basic',\n                            value: RecordGridFilterMode.Basic\n                        },\n                        {\n                            name: 'Expression',\n                            value: RecordGridFilterMode.Expression\n                        }\n                    ],\n                    tooltip: new Tooltip('Select the records that should be displayed on the deployed application UI. Application users can add filters in the deployed application.'),\n                    beforeValueChange: (oldValue, newValue) => {\n                        if ((newValue === RecordGridFilterMode.Expression && model.filters.filtersJson) ||\n                            (newValue === RecordGridFilterMode.Basic && model.filterExpression)) {\n                            return this.rxModalService.confirm({\n                                title: 'Change filter type',\n                                modalStyle: RX_MODAL.modalStyles.warning,\n                                message: 'Current filter will be cleared. Do you want to continue?'\n                            });\n                        }\n                        else {\n                            return Promise.resolve(true);\n                        }\n                    }\n                }\n            });\n            if (model.filterMode === RecordGridFilterMode.Basic) {\n                filtersControls.push({\n                    name: 'filters',\n                    component: RecordGridFilterSelectControlComponent,\n                    options: {\n                        primaryRecordDefinition: recordDefinition\n                    }\n                });\n            }\n            else {\n                filtersControls.push({\n                    name: 'filterExpression',\n                    component: ExpressionInspectorControlComponent,\n                    options: {\n                        label: 'Initial filters',\n                        isLabelHidden: true\n                    }\n                });\n            }\n            filtersControls.push({\n                name: 'enableFilterPresets',\n                component: SwitchFormControlComponent,\n                isDisabled: !model.enableFiltering,\n                options: {\n                    label: 'Enable filter presets'\n                }\n            });\n            filtersControls.push({\n                name: 'filterPresets',\n                component: RecordGridFilterPresetEditorControlComponent,\n                options: {\n                    label: 'Filter presets',\n                    tooltip: new Tooltip('Predefine sets of record grid filters users can apply.'),\n                    primaryRecordDefinition: recordDefinition,\n                    columns: model.columns.filter((column) => column.filterable)\n                }\n            });\n        }\n        if (!isEmpty(model.filterPresets)) {\n            filtersControls.push({\n                name: 'defaultFilterPreset',\n                component: SelectFormControlComponent,\n                options: {\n                    label: 'Default filter preset',\n                    tooltip: new Tooltip('Select a filter preset to be applied when a user opens this view for the first time.'),\n                    options: map$1(model.filterPresets, (filterPreset) => ({ id: filterPreset.guid, name: filterPreset.title })),\n                    emptyOption: true\n                }\n            });\n        }\n        const inspectorSectionConfigs = [\n            {\n                label: 'General',\n                controls: generalControls\n            },\n            {\n                label: 'Filters',\n                controls: filtersControls\n            },\n            {\n                label: 'Presentation',\n                controls: presentationControls\n            },\n            {\n                label: 'View presets',\n                controls: [\n                    {\n                        component: RecordGridViewPresetsWidgetComponent,\n                        options: {\n                            recordDefinition: recordDefinition\n                        }\n                    }\n                ]\n            }\n        ];\n        return { inspectorSectionConfigs };\n    }\n    getColumnDataDictionaryBranch(recordGridGuid, componentDescriptorName, componentName$, columnComponents$, recordDefinition$, associationDefinitionDisplayName$) {\n        const columnDataDictionaryBranch$ = combineLatest([columnComponents$, recordDefinition$]).pipe(switchMap(([columnComponents, recordDefinition]) => recordDefinition\n            ? this.getColumnsDataDictionaryBuilder(recordGridGuid, columnComponents, recordDefinition).pipe(map((buildColumnDataDictionary) => ({\n                label: this.rxDefinitionNameService.getDisplayName(recordDefinition.name),\n                expression: `\\${view.components.${recordGridGuid}.api}`,\n                children: [\n                    {\n                        label: 'First selected row',\n                        expression: `\\${view.components.${recordGridGuid}.firstSelectedRow}`,\n                        children: buildColumnDataDictionary('firstSelectedRow')\n                    },\n                    {\n                        label: 'Is user allowed to delete records',\n                        expression: `\\${view.components.${recordGridGuid}.isUserAllowedToDeleteRecords}`\n                    },\n                    {\n                        label: 'Last action row',\n                        expression: `\\${view.components.${recordGridGuid}.clickableRow}`,\n                        children: buildColumnDataDictionary('clickableRow')\n                    },\n                    {\n                        label: 'Selected rows',\n                        expression: `\\${view.components.${recordGridGuid}.selectedRows}`,\n                        children: buildColumnDataDictionary('fieldValuesByFieldId')\n                    },\n                    {\n                        label: 'Selected row count',\n                        expression: `\\${view.components.${recordGridGuid}.selectedRowCount}`\n                    },\n                    {\n                        label: 'Total row count',\n                        expression: `\\${view.components.${recordGridGuid}.totalRowCount}`\n                    },\n                    {\n                        label: 'Query expression',\n                        expression: `\\${view.components.${recordGridGuid}.queryExpression}`\n                    },\n                    {\n                        label: 'Last refresh time',\n                        expression: `\\${view.components.${recordGridGuid}.lastRefreshTime}`\n                    }\n                ]\n            })), take(1))\n            : of(null)));\n        return combineLatest([componentName$, columnDataDictionaryBranch$, associationDefinitionDisplayName$]).pipe(map(([label, dataDictionaryBranch, associationDefinitionDisplayName]) => dataDictionaryBranch\n            ? Object.assign(Object.assign({}, dataDictionaryBranch), { label: this.getComponentName(componentDescriptorName, dataDictionaryBranch.label, associationDefinitionDisplayName, label) })\n            : null));\n    }\n    getColumnsDataDictionaryBuilder(recordGridGuid, columnComponents, recordDefinition) {\n        return (columnComponents.length\n            ? forkJoin(columnComponents.map((component) => this.rxRecordGridUtilsService.getFieldDefinition(component.data.fieldId, recordDefinition).pipe(filter((fieldDefinition) => !!fieldDefinition), map((fieldDefinition) => this.getColumnDataDictionaryBranchBuilder(recordGridGuid, component, fieldDefinition)))))\n            : of([])).pipe(map((builders) => (gridPropertyName) => builders.map((buildColumnDataDictionaryBranch) => buildColumnDataDictionaryBranch.call(this, gridPropertyName))));\n    }\n    getColumnDataDictionaryBranchBuilder(recordGridGuid, columnComponent, fieldDefinition) {\n        const selectionList = fieldDefinition.resourceType === RX_RECORD_DEFINITION.resourceTypes.selection\n            ? map$1(fieldDefinition.optionNamesById, (optionName, optionValue) => ({\n                label: optionName,\n                expression: `\\${view.components.${recordGridGuid}.recordDefinition.fieldDefinitionsById[${columnComponent.data.fieldId}].optionsById[${optionValue}].id}`\n            }))\n            : undefined;\n        return (propertyName) => {\n            var _a;\n            return ({\n                label: ((_a = columnComponent.data.title) === null || _a === void 0 ? void 0 : _a.trim()) || `[${fieldDefinition.name}]`,\n                expression: `\\${view.components.${recordGridGuid}.${propertyName}.${columnComponent.data.fieldId}}`,\n                autocompleteOptions: selectionList,\n                children: fieldDefinition.resourceType === RX_RECORD_DEFINITION.resourceTypes.selection\n                    ? [\n                        {\n                            label: `${columnComponent.data.title} (Option name)`,\n                            expression: `\\${view.components.${recordGridGuid}.${propertyName}.selectionFieldOptionNamesById.${columnComponent.data.fieldId}}`\n                        },\n                        {\n                            label: 'Options',\n                            children: selectionList\n                        }\n                    ]\n                    : null\n            });\n        };\n    }\n    getComponentName(componentDescriptorName, recordDefinitionDisplayName, associationDefinitionDisplayName, name) {\n        const additionalLabels = [recordDefinitionDisplayName, associationDefinitionDisplayName, name].filter(Boolean);\n        return additionalLabels.length\n            ? `${componentDescriptorName} (${additionalLabels.join(': ')})`\n            : componentDescriptorName;\n    }\n    getGridViewPresetPayload(viewPresetGuid, columns) {\n        return {\n            type: RX_RECORD_GRID.components.viewPreset,\n            guid: this.rxGuidService.generate(),\n            data: {\n                viewPresetGuid,\n                filters: null\n            },\n            children: columns.map((column) => this.getColumnPresetPayload(column))\n        };\n    }\n    getColumnPresetPayload(column) {\n        return {\n            type: RX_RECORD_GRID.components.columnViewPreset,\n            data: {\n                fieldId: column.fieldId,\n                index: column.index,\n                visible: column.visible,\n                sortable: isObject(column.sortable) ? column.sortable : null,\n                width: column.width\n            }\n        };\n    }\n    getPresetsList(guid) {\n        return guid\n            ? this.viewDesignerFacade.getChildComponents(guid).pipe(map((res) => res.sort((a, b) => a.data.index - b.data.index)), map((res) => res.map((item) => ({ guid: item.guid, name: item.data.label }))), debounceTime(50) // used to let store be `stabilized` when indexes are updating for each preset\n            )\n            : of([]);\n    }\n}\nRxRecordGridDesignUtilsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridDesignUtilsService, deps: [{ token: i2$1.RxGuidService }, { token: RxRecordGridConfigUtilsService }, { token: i1$1.RxDefinitionNameService }, { token: i1$1.RxFeatureService }, { token: i1$6.RxModalService }, { token: RxRecordGridUtilsService }, { token: RxRecordGridFilterHelperService }, { token: i2.TranslateService }, { token: i1$3.ViewDesignerFacade }, { token: i2$1.RxJsonParserService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRecordGridDesignUtilsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridDesignUtilsService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridDesignUtilsService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i2$1.RxGuidService }, { type: RxRecordGridConfigUtilsService }, { type: i1$1.RxDefinitionNameService }, { type: i1$1.RxFeatureService }, { type: i1$6.RxModalService }, { type: RxRecordGridUtilsService }, { type: RxRecordGridFilterHelperService }, { type: i2.TranslateService }, { type: i1$3.ViewDesignerFacade }, { type: i2$1.RxJsonParserService }]; } });\n\nclass RecordGridDesignModel extends ViewDesignerComponentModel {\n    constructor() {\n        super(...arguments);\n        this.rxRecordDefinitionCacheService = this.injector.get(RxRecordDefinitionCacheService);\n        this.rxViewActionValidatorService = this.injector.get(RxViewActionValidatorService);\n        this.rxRecordGridDesignUtilsService = this.injector.get(RxRecordGridDesignUtilsService);\n        this.rxGuidService = this.injector.get(RxGuidService);\n        this.rxDefinitionNameService = this.injector.get(RxDefinitionNameService);\n        this.preservedRecordDefinition = null;\n        this.preservedRecordAssociationDefinitions = [];\n        this.currentGridDesignProperties = null;\n        this.componentPropertiesChangeFromCanvas$ = new Subject();\n        this.columns$ = this.sandbox.getComponentPropertyValue('columns');\n        this.enableFiltering$ = this.sandbox.getComponentPropertyValue('enableFiltering');\n        this.recordDefinitionName$ = this.sandbox.getComponentPropertyValue('recordDefinitionName');\n        this.associationDefinitionName$ = this.sandbox.getComponentPropertyValue('associationDefinitionName');\n        this.associatedRecordNodeSide$ = this.sandbox.getComponentPropertyValue('associatedRecordNodeSide');\n        this.childComponentsTree$ = this.sandbox.getChildComponentsTree();\n        this.viewPresetSelectors$ = this.sandbox.getComponentsByType(RxViewComponentType.ViewPresetSelector);\n        this.gridViewPresets$ = this.childComponentsTree$.pipe(map((components) => this.rxRecordGridDesignUtilsService.getGridViewPresetsFromChildData(components)));\n        this.viewPresetSelectorGuid$ = this.sandbox.getComponentPropertyValue('viewPresetSelector').pipe(map((val) => this.extractViewPresetSelectorGuid(val)), shareReplay({ refCount: true, bufferSize: 1 }));\n        this.selectedPresetsList$ = this.viewPresetSelectorGuid$.pipe(switchMap((guid) => this.rxRecordGridDesignUtilsService.getPresetsList(guid)), distinctUntilChanged(isEqual), takeUntil(this.sandbox.destroyed$));\n        this.rowActionButtonGuids$ = this.sandbox.getLayout(this.sandbox.guid).pipe(filter(Boolean), map((layout) => {\n            const rowActionsOutlet = find(layout.outlets, { name: RX_RECORD_GRID.rowActionsOutletName });\n            return head(rowActionsOutlet.columns).children;\n        }), shareReplay(1));\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign(Object.assign({}, RX_AVAILABLE_ON_DEVICES_DEFAULT_VALUE), initialProperties);\n    }\n    rxInit() {\n        const initialProps = Object.assign({ bordered: true, expandable: false, name: null, mode: RecordGridDesignDefinitionMode.Record, recordDefinitionName: null, showDataForAllLocales: false, associationDefinitionName: null, associatedRecordId: null, associatedRoleName: null, enableRowSelection: RX_RECORD_GRID.selectionTypes.multiple, styles: null, cardLayoutWidth: null, enableFiltering: true, getDataForHiddenColumns: true, requiredFilters: 0, enableFilterPresets: true, defaultFilterPreset: null, initialSortColumn: null, columns: [], filterMode: RecordGridFilterMode.Basic, filters: { basicFilters: [], filtersJson: null }, filterExpression: null, filterPresets: [], striped: false }, RX_AVAILABLE_ON_DEVICES_DEFAULT_VALUE);\n        this.recordDefinition$ = this.recordDefinitionName$.pipe(switchMap((recordDefinitionName) => this.getRecordDefinition(recordDefinitionName)), shareReplay(1));\n        this.recordAssociationDefinitions$ = this.recordDefinitionName$.pipe(mergeMap((recordDefinitionName) => this.getRecordAssociationDefinitions(recordDefinitionName)), shareReplay(1));\n        const columnComponents$ = this.childComponentsTree$.pipe(map((components) => components.filter((component) => component.type === RX_RECORD_GRID.components.column)), \n        // ignore child action button component updates\n        distinctUntilChanged(isEqual));\n        const basicRecordGridFilters$ = this.childComponentsTree$.pipe(map((components) => this.rxRecordGridDesignUtilsService.getBasicRecordGridFiltersFromChildData(components)), distinctUntilChanged(isEqual));\n        const filterPresets$ = this.childComponentsTree$.pipe(map((components) => this.rxRecordGridDesignUtilsService.getFilterPresetDescriptorsFromChildData(components)), distinctUntilChanged(isEqual));\n        this.actionButtonComponents$ = this.childComponentsTree$.pipe(withLatestFrom(this.rowActionButtonGuids$), map(([definitions, rowActionButtonGuids]) => this.rxRecordGridDesignUtilsService\n            .getActionButtonDescriptorsFromChildData(definitions)\n            .filter((definition) => !includes(rowActionButtonGuids, definition.guid))));\n        this.rowActionButtonComponents$ = this.childComponentsTree$.pipe(withLatestFrom(this.rowActionButtonGuids$), map(([definitions, rowActionButtonGuids]) => this.rxRecordGridDesignUtilsService\n            .getActionButtonDescriptorsFromChildData(definitions)\n            .filter((definition) => includes(rowActionButtonGuids, definition.guid))));\n        // remove grid view presets in case if bound preset selector is removed\n        this.viewPresetSelectors$\n            .pipe(map((viewPresetSelectors) => viewPresetSelectors.map((selector) => selector.guid).sort()), distinctUntilChanged(isEqual), withLatestFrom(this.viewPresetSelectorGuid$), filter(([viewPresetSelectors, viewPresetSelectorGuid]) => viewPresetSelectorGuid && !viewPresetSelectors.includes(viewPresetSelectorGuid)), switchMap(() => this.childComponentsTree$.pipe(take(1))), map((components) => components.filter((comp) => comp.type !== RX_RECORD_GRID.components.viewPreset)), takeUntil(this.sandbox.destroyed$))\n            .subscribe((components) => {\n            this.sandbox.setChildren(components);\n            this.sandbox.updateComponentProperties({ viewPresetSelector: null });\n        });\n        this.sandbox.viewModelsInitialized$\n            .pipe(withLatestFrom(this.rowActionButtonComponents$), map(([viewModelsInitialized, rowActionButtons]) => rowActionButtons), filter((rowActionButtons) => !!rowActionButtons.length))\n            .subscribe((rowActionButtons) => {\n            rowActionButtons.forEach((rowActionButton) => {\n                const model = this.sandbox.getComponentModel(rowActionButton.guid);\n                model.setValidationIssues([]);\n            });\n        });\n        merge(this.sandbox.componentProperties$.pipe(skip(1)), this.componentPropertiesChangeFromCanvas$)\n            .pipe(distinctUntilChanged((oldValue, newValue) => isEqual(this.currentGridDesignProperties, newValue)), mergeMap((componentDesignProperties) => {\n            const previousComponentDesignProperties = this.currentGridDesignProperties;\n            if (previousComponentDesignProperties.recordDefinitionName !== componentDesignProperties.recordDefinitionName) {\n                return zip(this.getRecordDefinition(componentDesignProperties.recordDefinitionName), this.getRecordAssociationDefinitions(componentDesignProperties.recordDefinitionName)).pipe(map(() => [previousComponentDesignProperties, componentDesignProperties]));\n            }\n            else {\n                return of([previousComponentDesignProperties, componentDesignProperties]);\n            }\n        }), withLatestFrom(this.actionButtonComponents$, this.rowActionButtonComponents$, this.gridViewPresets$), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([[previousComponentDesignProperties, componentDesignProperties], actionButtonComponents, rowActionButtonComponents, gridViewPresets]) => {\n            const recordDefinition = this.preservedRecordDefinition;\n            const recordAssociationDefinitions = this.preservedRecordAssociationDefinitions;\n            let propertiesToUpdate;\n            if (!componentDesignProperties.enableFiltering) {\n                propertiesToUpdate = {\n                    enableFilterPresets: false\n                };\n            }\n            else if (!previousComponentDesignProperties.enableFiltering && componentDesignProperties.enableFiltering) {\n                propertiesToUpdate = {\n                    enableFilterPresets: true\n                };\n            }\n            if (previousComponentDesignProperties.recordDefinitionName !== componentDesignProperties.recordDefinitionName) {\n                propertiesToUpdate = {\n                    filterPresets: [],\n                    filters: { basicFilters: [], filtersJson: null },\n                    initialSortColumn: null,\n                    associationDefinitionName: null,\n                    filterExpression: null\n                };\n                if (recordDefinition) {\n                    const columns = this.rxRecordGridDesignUtilsService.getDefaultColumns(recordDefinition);\n                    const payloads = this.rxRecordGridDesignUtilsService.getColumnComponentPayloads(columns, null);\n                    payloads.push(...actionButtonComponents);\n                    this.sandbox.setChildren(payloads);\n                    propertiesToUpdate.columns = columns;\n                }\n                else {\n                    this.sandbox.setChildren(actionButtonComponents);\n                    propertiesToUpdate.columns = [];\n                }\n            }\n            else {\n                const childrenModels = pick(componentDesignProperties, 'columns', 'initialSortColumn', 'filters', 'filterPresets');\n                const previousChildrenModels = pick(previousComponentDesignProperties, 'columns', 'initialSortColumn', 'filters', 'filterPresets');\n                if (!isEqual(previousChildrenModels, childrenModels)) {\n                    const payloads = this.rxRecordGridDesignUtilsService.getColumnComponentPayloads(childrenModels.columns, childrenModels.initialSortColumn);\n                    const newInspectorColumns = this.rxRecordGridDesignUtilsService.getInspectorColumnsFromDesignData(payloads);\n                    payloads.push(...this.rxRecordGridDesignUtilsService.getGridFilterComponentPayloads(childrenModels.filters.basicFilters || []));\n                    const filterPresetComponentPayloads = this.rxRecordGridDesignUtilsService.getGridFilterPresetComponentPayloads(childrenModels.filterPresets, newInspectorColumns.filter((column) => column.filterable));\n                    payloads.push(...filterPresetComponentPayloads);\n                    childrenModels.filterPresets =\n                        this.rxRecordGridDesignUtilsService.getFilterPresetDescriptorsFromChildData(filterPresetComponentPayloads);\n                    payloads.push(...actionButtonComponents, ...rowActionButtonComponents, ...gridViewPresets);\n                    this.sandbox.setChildren(payloads);\n                    propertiesToUpdate = {\n                        columns: newInspectorColumns,\n                        initialSortColumn: this.rxRecordGridDesignUtilsService.getInitialSortColumnModel(newInspectorColumns),\n                        filterPresets: childrenModels.filterPresets\n                    };\n                }\n            }\n            if (previousComponentDesignProperties.filterMode !== componentDesignProperties.filterMode) {\n                if (componentDesignProperties.filterMode === RecordGridFilterMode.Basic) {\n                    propertiesToUpdate = {\n                        filterExpression: null\n                    };\n                }\n                else {\n                    propertiesToUpdate = {\n                        filters: { basicFilters: [], filtersJson: null }\n                    };\n                }\n            }\n            if (previousComponentDesignProperties.associationDefinitionName !==\n                componentDesignProperties.associationDefinitionName) {\n                propertiesToUpdate = Object.assign(Object.assign({}, (propertiesToUpdate || {})), { associatedRecordNodeSide: this.getAssociatedRecordNodeSide(componentDesignProperties, recordAssociationDefinitions) });\n            }\n            if (previousComponentDesignProperties.mode !== componentDesignProperties.mode) {\n                propertiesToUpdate = {\n                    associationDefinitionName: null,\n                    associatedRecordId: null,\n                    associatedRoleName: null,\n                    associatedRecordNodeSide: null\n                };\n            }\n            componentDesignProperties = Object.assign(Object.assign({}, componentDesignProperties), propertiesToUpdate);\n            if (previousComponentDesignProperties.enableFiltering && !componentDesignProperties.enableFiltering) {\n                propertiesToUpdate = Object.assign(Object.assign({}, propertiesToUpdate), { requiredFilters: 0 });\n            }\n            this.updateComponentPropertiesAndConfig(componentDesignProperties, propertiesToUpdate, recordDefinition, recordAssociationDefinitions);\n        });\n        combineLatest([\n            this.recordDefinitionName$.pipe(map((recordDefinitionName) => recordDefinitionName\n                ? null\n                : this.sandbox.createError('Record definition name cannot be blank.', 'recordDefinitionName'))),\n            columnComponents$.pipe(switchMap((columns) => this.validateColumns(columns))),\n            this.sandbox.getComponentPropertyValue('styles').pipe(map(validateCssClassNames)),\n            this.sandbox\n                .getComponentPropertyValue('mode')\n                .pipe(switchMap((mode) => mode === RecordGridDesignDefinitionMode.Association\n                ? this.validateAssociationModeProps()\n                : this.actionButtonComponents$.pipe(switchMap((components) => this.validateActionButtons(components))))),\n            this.rowActionButtonComponents$.pipe(switchMap((rowActionButtons) => this.validateRowActions(rowActionButtons))),\n            this.sandbox\n                .getComponentPropertyValue(RX_AVAILABLE_ON_DEVICES_PROP_NAME)\n                .pipe(map(validateAvailableOnDevicesProp))\n        ])\n            .pipe(map(compact), map(flatten), takeUntil(this.sandbox.destroyed$))\n            .subscribe((issues) => {\n            this.sandbox.setValidationIssues(issues);\n        });\n        // set initial properties and inspector config\n        combineLatest([\n            this.sandbox.componentProperties$,\n            this.recordDefinition$,\n            this.recordAssociationDefinitions$,\n            columnComponents$,\n            basicRecordGridFilters$,\n            filterPresets$\n        ])\n            .pipe(take(1), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([componentProperties, recordDefinition, recordAssociationDefinitions, columnComponents, basicRecordGridFilters, filterPresets]) => {\n            const componentDesignProperties = this.rxRecordGridDesignUtilsService.getComponentDesignProperties(componentProperties, initialProps, columnComponents, basicRecordGridFilters, filterPresets);\n            this.updateComponentPropertiesAndConfig(componentDesignProperties, componentDesignProperties, recordDefinition, recordAssociationDefinitions);\n        });\n        const name$ = this.sandbox\n            .getComponentPropertyValue('name')\n            .pipe(shareReplay(1), takeUntil(this.sandbox.destroyed$));\n        const associationDefinitionDisplayName$ = this.associationDefinitionName$.pipe(map((name) => this.rxDefinitionNameService.getDisplayName(name)), shareReplay(1), takeUntil(this.sandbox.destroyed$));\n        this.rxRecordGridDesignUtilsService\n            .getColumnDataDictionaryBranch(this.sandbox.guid, this.sandbox.descriptor.name, name$, columnComponents$, this.recordDefinition$, associationDefinitionDisplayName$)\n            .pipe(skipWhile(isEmpty), takeUntil(this.sandbox.destroyed$))\n            .subscribe((dataDictionaryBranch) => {\n            this.sandbox.setCommonDataDictionary(dataDictionaryBranch);\n        });\n        combineLatest([\n            this.recordDefinitionName$.pipe(map((name) => this.rxDefinitionNameService.getDisplayName(name))),\n            associationDefinitionDisplayName$,\n            name$\n        ])\n            .pipe(map((names) => this.rxRecordGridDesignUtilsService.getComponentName(this.sandbox.descriptor.name, ...names)), takeUntil(this.sandbox.destroyed$))\n            .subscribe((name) => {\n            // Set name to be used in the data dictionary for set property action if record grid will have child action buttons.\n            this.sandbox.setSettablePropertiesDataDictionary(name, []);\n        });\n        // updates grid view presets when view preset changes\n        this.selectedPresetsList$\n            .pipe(skip(1), withLatestFrom(this.childComponentsTree$, this.columns$), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([selectedPresetsList, childComponents, columns]) => {\n            this.updatePresetViewComponents(childComponents, selectedPresetsList, columns);\n        });\n    }\n    updatePresetViewComponents(childComponents, selectedPresetsList, columns) {\n        const gridViewPresetComponents = childComponents.filter((c) => c.type === RX_RECORD_GRID.components.viewPreset);\n        const gridViewPresetPayloads = selectedPresetsList.map(({ guid }) => {\n            const existing = gridViewPresetComponents.find((c) => c.data.viewPresetGuid === guid);\n            return existing !== null && existing !== void 0 ? existing : this.rxRecordGridDesignUtilsService.getGridViewPresetPayload(guid, columns);\n        });\n        this.sandbox.setChildrenByType(gridViewPresetPayloads, [RX_RECORD_GRID.components.viewPreset]);\n    }\n    getAssociatedRecordNodeSide(componentDesignProperties, recordAssociationDefinitions) {\n        const selectedAssociationDefinition = componentDesignProperties.associationDefinitionName\n            ? recordAssociationDefinitions.find(({ name }) => name === componentDesignProperties.associationDefinitionName)\n            : null;\n        return selectedAssociationDefinition\n            ? selectedAssociationDefinition.nodeAId === componentDesignProperties.recordDefinitionName\n                ? RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.value\n                : RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value\n            : null;\n    }\n    actionButtonDropPredicate(data) {\n        return data.draggedViewComponentDescriptor.type === RxViewComponentType.ActionButton;\n    }\n    getPropertiesByName(properties) {\n        return this.rxRecordGridDesignUtilsService.getComponentProperties(properties);\n    }\n    setRowActions(rowActions) {\n        this.rowActionButtonGuids$\n            .pipe(take(1), withLatestFrom(this.childComponentsTree$))\n            .subscribe(([rowActionButtonGuids, childComponentsTree]) => {\n            const childComponentPayloads = childComponentsTree.filter((childComponent) => !includes(rowActionButtonGuids, childComponent.guid));\n            childComponentPayloads.push(...this.rxRecordGridDesignUtilsService.getRowActionButtonPayloads(rowActions));\n            this.sandbox.setChildren(childComponentPayloads);\n            this.toggleActionsColumn(rowActions.length > 0);\n        });\n    }\n    extractViewPresetSelectorGuid(val) {\n        var _a;\n        const matches = val === null || val === void 0 ? void 0 : val.match(/^\\${view\\.components\\.([0-9a-z-]+)\\.api}$/);\n        return (_a = (matches && matches[1])) !== null && _a !== void 0 ? _a : null;\n    }\n    toggleActionsColumn(showActionsColumn) {\n        this.sandbox.componentProperties$.pipe(take(1)).subscribe((componentProperties) => {\n            const columns = cloneDeep(componentProperties.columns);\n            const actionsColumn = find(columns, { fieldId: RX_RECORD_GRID.actionsColumnFieldDefinition.id });\n            if (showActionsColumn && !actionsColumn) {\n                columns.push({\n                    fieldId: RX_RECORD_GRID.actionsColumnFieldDefinition.id,\n                    guid: this.rxGuidService.generate(),\n                    title: RX_RECORD_GRID.actionsColumnFieldDefinition.name,\n                    visible: true,\n                    index: columns.length,\n                    filterable: false,\n                    sortable: false,\n                    searchable: false\n                });\n            }\n            else if (!showActionsColumn) {\n                pull(columns, actionsColumn);\n                columns.forEach((column, index) => {\n                    column.index = index;\n                });\n            }\n            this.updateComponentPropertiesAndConfig(componentProperties, {\n                columns\n            }, this.preservedRecordDefinition, this.preservedRecordAssociationDefinitions);\n        });\n    }\n    updateComponentPropertiesAndConfig(componentDesignProperties, propertiesToUpdate, recordDefinition, recordAssociationDefinitions) {\n        this.currentGridDesignProperties = componentDesignProperties;\n        if (propertiesToUpdate) {\n            this.sandbox.updateComponentProperties(propertiesToUpdate);\n        }\n        this.sandbox.updateInspectorConfig(this.rxRecordGridDesignUtilsService.getInspector(componentDesignProperties, recordDefinition, recordAssociationDefinitions));\n    }\n    getRecordDefinition(recordDefinitionName) {\n        if (recordDefinitionName) {\n            return this.rxRecordDefinitionCacheService.getRecordDefinition(recordDefinitionName).pipe(catchError((error) => of(null)), tap((recordDefinition) => (this.preservedRecordDefinition = recordDefinition)));\n        }\n        else {\n            this.preservedRecordDefinition = null;\n            return of(null);\n        }\n    }\n    getRecordAssociationDefinitions(recordDefinitionName) {\n        if (recordDefinitionName) {\n            return this.rxRecordDefinitionCacheService.getRecordAssociationDefinitions(recordDefinitionName).pipe(map((result) => result[recordDefinitionName] || []), catchError((error) => of([])), tap((recordAssociationDefinitions) => (this.preservedRecordAssociationDefinitions = recordAssociationDefinitions)));\n        }\n        else {\n            this.preservedRecordAssociationDefinitions = [];\n            return of([]);\n        }\n    }\n    validateColumns(columns) {\n        return columns.length\n            ? this.validateColumnActions(columns)\n            : of([this.sandbox.createError('Record grid must have at least one column.', 'columns')]);\n    }\n    validateColumnActions(columns) {\n        return combineLatest(columns.map((column) => {\n            const actionViewComponents = filter$1(column.children, { type: RxViewComponentType.Action });\n            return this.rxViewActionValidatorService.validate(actionViewComponents, 'columns').pipe(map((issues) => issues.map((issue) => (Object.assign(Object.assign({}, issue), { data: Object.assign(Object.assign({}, issue.data), { columnGuid: column.guid }) })))));\n        })).pipe(map(flatten));\n    }\n    validateRowActions(rowActionButtons) {\n        return rowActionButtons.length\n            ? combineLatest(rowActionButtons.map((rowActionButton, index) => this.rxViewActionValidatorService.validate(rowActionButton.children, 'rowActions').pipe(map((issues) => issues.map((issue) => (Object.assign(Object.assign({}, issue), { data: Object.assign(Object.assign({}, issue.data), { rowActionIndex: index }) }))))))).pipe(map(flatten))\n            : of([]);\n    }\n    validateAssociationModeProps() {\n        return combineLatest([\n            combineLatest([this.associationDefinitionName$, this.associatedRecordNodeSide$]).pipe(map(([associationDefinitionName, associatedRecordNodeSide]) => {\n                if (associationDefinitionName) {\n                    return associatedRecordNodeSide\n                        ? null\n                        : this.sandbox.createError('Associated record node side cannot be blank.', 'associatedRecordNodeSide');\n                }\n                else {\n                    return this.sandbox.createError('Association definition name cannot be blank.', 'associationDefinitionName');\n                }\n            })),\n            this.sandbox\n                .getComponentPropertyValue('associatedRecordId')\n                .pipe(map((associatedRecordId) => associatedRecordId\n                ? null\n                : this.sandbox.createError('Associated record ID cannot be blank.', 'associatedRecordId')))\n        ]).pipe(map(compact));\n    }\n    validateActionButtons(components) {\n        const deleteActions = flatten(components.map((component) => component.children)).filter(({ data }) => data.name === 'rxDeleteRecordsAction' && data.recordDefinitionName);\n        return deleteActions.length\n            ? combineLatest(deleteActions.map(({ data }) => this.rxRecordDefinitionCacheService\n                .getRecordDefinition(data.recordDefinitionName)\n                .pipe(map(({ resourceType }) => resourceType === RX_RECORD_DEFINITION.recordDefinitionTypes.join.recordDefinitionType\n                ? this.sandbox.createWarning('You have configured a Record grid action to delete Join records. Please ensure that one or more processes or rules have been defined to perform the deletion of the selected Join record instances.')\n                : null)))).pipe(map(compact))\n            : of([]);\n    }\n}\n\nclass RecordGridDesignComponent {\n    constructor(rxRecordGridConfigUtilsService, rxRecordGridUtilsService) {\n        this.rxRecordGridConfigUtilsService = rxRecordGridConfigUtilsService;\n        this.rxRecordGridUtilsService = rxRecordGridUtilsService;\n    }\n    ngOnInit() {\n        this.adaptTableConfig$ = this.model.columns$.pipe(map((columns) => {\n            const gridColumns = sortBy(columns, (column) => column.index);\n            const initialSortGridColumn = gridColumns.find((gridColumn) => isObject(gridColumn.sortable));\n            let sortMeta = {\n                field: null,\n                order: null\n            };\n            if (initialSortGridColumn) {\n                const gridSortableObject = initialSortGridColumn.sortable;\n                sortMeta = {\n                    field: String(initialSortGridColumn.fieldId),\n                    order: this.rxRecordGridConfigUtilsService.getColumnSortOrder(gridSortableObject.direction)\n                };\n            }\n            return {\n                columns: gridColumns.map((gridColumn) => ({\n                    field: gridColumn.fieldId,\n                    header: gridColumn.title,\n                    sortable: Boolean(gridColumn.sortable),\n                    hidden: !gridColumn.visible,\n                    testId: this.rxRecordGridUtilsService.getTestIdForGridColumn(gridColumn.fieldId)\n                })),\n                sortMeta,\n                toolbarConfig: {\n                    counter: false,\n                    quickFilter: true,\n                    filter: true,\n                    filterTemplate: this.filterTemplate,\n                    filterResults: false,\n                    visibleColumnsMenu: true,\n                    visibleColumnsMenuTemplate: this.visibleColumnsMenuTemplate,\n                    quickFilterTriggerable: true\n                }\n            };\n        }), shareReplay(1));\n        this.hasRecordDefinitionName$ = this.model.recordDefinition$.pipe(map(Boolean), shareReplay(1));\n    }\n    onSort(event) {\n        this.adaptTableConfig$.pipe(take(1)).subscribe((adaptTableConfig) => {\n            if (!isEqual(event, adaptTableConfig.sortMeta)) {\n                let initialSortColumn;\n                const column = this.model.currentGridDesignProperties.columns.find((gridColumn) => gridColumn.fieldId === event.field);\n                if (isObject(column.sortable)) {\n                    if (column.sortable.direction === ColumnSortDirection.Desc) {\n                        initialSortColumn = null;\n                    }\n                    else {\n                        initialSortColumn = { fieldId: column.fieldId, direction: ColumnSortDirection.Desc };\n                    }\n                }\n                else {\n                    initialSortColumn = { fieldId: column.fieldId, direction: ColumnSortDirection.Asc };\n                }\n                this.model.componentPropertiesChangeFromCanvas$.next(Object.assign(Object.assign({}, this.model.currentGridDesignProperties), { initialSortColumn }));\n            }\n        });\n    }\n    onBeforeViewComponentDrop(data) {\n        if (data.draggedViewComponentDescriptor.type === RxViewComponentType.ActionButton &&\n            !data.draggedViewComponentGuid) {\n            data.initialPropertiesByName = Object.assign(Object.assign({}, data.initialPropertiesByName), { style: ActionButtonStyle.Tertiary });\n        }\n    }\n}\nRecordGridDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridDesignComponent, deps: [{ token: RxRecordGridConfigUtilsService }, { token: RxRecordGridUtilsService }], target: i0.ɵɵFactoryTarget.Component });\nRecordGridDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordGridDesignComponent, selector: \"rx-record-grid-design\", inputs: { model: \"model\", isReadOnly: \"isReadOnly\" }, viewQueries: [{ propertyName: \"filterTemplate\", first: true, predicate: [\"filterTemplate\"], descendants: true, static: true }, { propertyName: \"visibleColumnsMenuTemplate\", first: true, predicate: [\"visibleColumnsMenuTemplate\"], descendants: true, static: true }], ngImport: i0, template: \"<div class=\\\"rx-record-grid-design\\\" [class.border]=\\\"!(hasRecordDefinitionName$ | async)\\\">\\n  <adapt-empty-state\\n    *ngIf=\\\"!(hasRecordDefinitionName$ | async); else gridTemplate\\\"\\n    type=\\\"objects\\\"\\n    label=\\\"Select a record definition and edit grid columns in the Properties panel.\\\"\\n  ></adapt-empty-state>\\n\\n  <ng-template #gridTemplate>\\n    <rx-canvas-outlet\\n      [dropListOrientation]=\\\"'horizontal'\\\"\\n      class=\\\"rx-record-grid-design__action-buttons-canvas\\\"\\n      (beforeViewComponentDrop)=\\\"onBeforeViewComponentDrop($event)\\\"\\n      [dropPredicate]=\\\"model.actionButtonDropPredicate\\\"\\n    ></rx-canvas-outlet>\\n\\n    <adapt-table\\n      #adaptTable\\n      class=\\\"rx-record-grid-design__table\\\"\\n      [columns]=\\\"(adaptTableConfig$ | async).columns\\\"\\n      [sortable]=\\\"!isReadOnly\\\"\\n      [scrollable]=\\\"true\\\"\\n      [scrollHeight]=\\\"'80px'\\\"\\n      [rowExpandMode]=\\\"\\\"\\n      [sortMode]=\\\"'single'\\\"\\n      [toolbarConfig]=\\\"(adaptTableConfig$ | async).toolbarConfig\\\"\\n      [filterable]=\\\"false\\\"\\n      [sortField]=\\\"(adaptTableConfig$ | async).sortMeta.field\\\"\\n      [sortOrder]=\\\"(adaptTableConfig$ | async).sortMeta.order\\\"\\n      [bordered]=\\\"true\\\"\\n      [totalRecords]=\\\"0\\\"\\n      (onSort)=\\\"onSort($event)\\\"\\n      [hasEmptyState]=\\\"false\\\"\\n      [dontEmitLazyLoadOnInputChange]=\\\"false\\\"\\n    ></adapt-table>\\n  </ng-template>\\n</div>\\n\\n<ng-template #filterTemplate let-context>\\n  <span class=\\\"rx-record-grid-design__toolbar-item btn-link d-icon-refresh grid-toolbar-icon mx-2 p-1\\\"></span>\\n  <div class=\\\"btn-link px-0 d-icon-left-filter d-icon-right-triangle_down\\\" *ngIf=\\\"model.enableFiltering$ | async\\\">\\n    Filter\\n  </div>\\n</ng-template>\\n\\n<ng-template #visibleColumnsMenuTemplate></ng-template>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.rx-record-grid-design__action-buttons-canvas ::ng-deep rx-canvas-item-container{min-width:100%}.rx-record-grid-design__action-buttons-canvas ::ng-deep .cdk-drop-list{background-color:#f0f1f1;border:1px solid #d6d7d8;border-bottom:0;min-height:48px;display:flex;flex-flow:row wrap}.rx-record-grid-design__action-buttons-canvas ::ng-deep .cdk-drop-list:empty:after{content:\\\"Drop Action buttons here\\\";display:block;text-align:center;width:100%;line-height:48px;color:#959899;font-size:.875rem}.rx-record-grid-design__toolbar-item{font-size:.9375rem}.rx-record-grid-design__table ::ng-deep .adapt-table-toolbar{pointer-events:none}\\n\"], components: [{ type: i1.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }, { type: i1$3.CanvasOutletComponent, selector: \"rx-canvas-outlet\", inputs: [\"name\", \"skipParentPredicate\", \"containerComponent\", \"dropListOrientation\", \"dropPredicate\"], outputs: [\"beforeViewComponentDrop\"] }, { type: i1$7.AdaptTableComponent, selector: \"adapt-table\", inputs: [\"sortable\", \"filterable\", \"triggerableFilters\", \"explicitSearchBtn\", \"enableReorderableRows\", \"suppressTooltip\", \"toolbarConfig\", \"dataColumnsColsTemplate\", \"dataColumnsHeaderTemplate\", \"dataColumnsDataCellsTemplate\", \"headerGroupsTemplate\", \"alwaysShowHeaderTooltip\", \"alwaysShowCellTooltip\", \"expandedCellClass\", \"expandedGroupsKeys\", \"nestedGroupPadding\", \"expandindCellInitialPadding\", \"groupValueDataCellTemplate\", \"tooltipInitialDelayMs\", \"tooltipClass\", \"rowsCustomClass\", \"paginatorAlign\", \"hasEmptyState\", \"enableInfiniteScrolling\", \"updateFirstColumnWidth\", \"busyConfig\", \"defaultFiltersMatchMode\", \"wrapCellText\", \"minBufferPx\", \"maxBufferPx\", \"testID\", \"headerSelectionMode\", \"disabledSelectedRowsCount\", \"disabledNotSelectedRowsCount\", \"disabledSelectedFilteredRowsCount\", \"disabledNotSelectedFilteredRowsCount\", \"selectedFilteredRowsCount\", \"totalRecordsInGroup\", \"disableRowSelection\", \"nestingStructureData\", \"nestingKey\", \"enableRowEditing\", \"autoScrollToTop\", \"paginationTexts\", \"toolbarTexts\", \"tableTexts\", \"filtersTexts\", \"headerCellMenuTexts\", \"texts\", \"loadingMore\", \"mergeColumns\", \"disabledRowSelectionResolver\", \"allowColumnReorderingResolver\", \"disableRowExpandingResolver\", \"rowAriaDataResolver\", \"tableWidthConfig\", \"expandedRowTemplate\", \"isRefreshingRowData\", \"value\", \"bordered\", \"paginator\", \"striped\", \"loading\"], outputs: [\"onLazyLoad\", \"rowDataRefresh\", \"savedRowEditing\", \"canceledRowEditing\", \"groupSelection\", \"allGroupedRowsSelection\", \"groupExpansion\", \"columnsVisibilityChange\", \"rowDragStart\", \"rowDragRelease\", \"rowDragEnd\", \"rowDragDrop\", \"export\", \"toolbarPopupAnimationDone\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-record-grid-design',\n                    templateUrl: './record-grid-design.component.html',\n                    styleUrls: ['./record-grid-design.component.scss'],\n                    changeDetection: ChangeDetectionStrategy.OnPush\n                }]\n        }], ctorParameters: function () { return [{ type: RxRecordGridConfigUtilsService }, { type: RxRecordGridUtilsService }]; }, propDecorators: { model: [{\n                type: Input\n            }], filterTemplate: [{\n                type: ViewChild,\n                args: ['filterTemplate', { static: true }]\n            }], visibleColumnsMenuTemplate: [{\n                type: ViewChild,\n                args: ['visibleColumnsMenuTemplate', { static: true }]\n            }], isReadOnly: [{\n                type: Input\n            }] } });\n\nclass RxRecordGridDesignAdapterService {\n    constructor(rxJsonParserService, rxViewDefinitionParserService) {\n        this.rxJsonParserService = rxJsonParserService;\n        this.rxViewDefinitionParserService = rxViewDefinitionParserService;\n    }\n    adaptDefinition(elementDefinition) {\n        var _a, _b, _c, _d, _e;\n        const layout = this.rxJsonParserService.tryParseJson(elementDefinition.layout);\n        const rowActionsOutlet = find(layout.outlets, { name: RX_RECORD_GRID.rowActionsOutletName });\n        elementDefinition.propertiesByName.enableFilterPresets =\n            (_a = elementDefinition.propertiesByName.enableFilterPresets) !== null && _a !== void 0 ? _a : 'true';\n        if (!rowActionsOutlet) {\n            layout.outlets.push(RxViewLayout.getOutlet(RX_RECORD_GRID.rowActionsOutletName));\n        }\n        else {\n            // move row actions to the end to make sure they are in the same order as in layout outlet\n            forEach((_b = rowActionsOutlet.columns[0]) === null || _b === void 0 ? void 0 : _b.children, (rowActionGuid) => {\n                const rowAction = find(elementDefinition.componentDefinitions, { guid: rowActionGuid });\n                pull(elementDefinition.componentDefinitions, rowAction).push(rowAction);\n            });\n        }\n        elementDefinition.layout = JSON.stringify(layout);\n        Object.assign(elementDefinition.propertiesByName, {\n            expandable: (_c = elementDefinition.propertiesByName.expandable) !== null && _c !== void 0 ? _c : false,\n            showDataForAllLocales: (_d = elementDefinition.propertiesByName.showDataForAllLocales) !== null && _d !== void 0 ? _d : false,\n            requiredFilters: (_e = elementDefinition.propertiesByName.requiredFilters) !== null && _e !== void 0 ? _e : (elementDefinition.propertiesByName.requireFiltering === 'true' ? 1 : 0)\n        });\n        delete elementDefinition.propertiesByName.requireFiltering;\n        this.rxViewDefinitionParserService\n            .getComponents(elementDefinition)\n            .map((componentDefinition) => componentDefinition.componentDefinition)\n            .forEach((componentDefinition) => {\n            var _a, _b;\n            if (componentDefinition.type === RX_RECORD_GRID.components.column) {\n                Object.assign(componentDefinition.propertiesByName, {\n                    wrapText: (_a = componentDefinition.propertiesByName.wrapText) !== null && _a !== void 0 ? _a : false,\n                    typeaheadKeystrokeCount: Number((_b = componentDefinition.propertiesByName.typeaheadKeystrokeCount) !== null && _b !== void 0 ? _b : RX_RECORD_GRID.defaultTypeaheadKeystrokeCount)\n                });\n            }\n        });\n    }\n}\nRxRecordGridDesignAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridDesignAdapterService, deps: [{ token: i2$1.RxJsonParserService }, { token: i1$4.RxViewDefinitionParserService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRecordGridDesignAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridDesignAdapterService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridDesignAdapterService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i2$1.RxJsonParserService }, { type: i1$4.RxViewDefinitionParserService }]; } });\n\nclass RecordGridSortEditorControlModule {\n}\nRecordGridSortEditorControlModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridSortEditorControlModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRecordGridSortEditorControlModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridSortEditorControlModule, declarations: [RecordGridSortEditorControlComponent], imports: [CommonModule, FormsModule, AdaptButtonModule, AdaptRxSelectModule], exports: [RecordGridSortEditorControlComponent] });\nRecordGridSortEditorControlModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridSortEditorControlModule, imports: [[CommonModule, FormsModule, AdaptButtonModule, AdaptRxSelectModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridSortEditorControlModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RecordGridSortEditorControlComponent],\n                    exports: [RecordGridSortEditorControlComponent],\n                    entryComponents: [RecordGridSortEditorControlComponent],\n                    imports: [CommonModule, FormsModule, AdaptButtonModule, AdaptRxSelectModule]\n                }]\n        }] });\n\nclass RecordGridViewPresetColumnsModalModule {\n}\nRecordGridViewPresetColumnsModalModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridViewPresetColumnsModalModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRecordGridViewPresetColumnsModalModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridViewPresetColumnsModalModule, declarations: [RecordGridViewPresetColumnsModalComponent], imports: [AdaptAccordionModule,\n        AdaptButtonModule,\n        AdaptRxCheckboxModule,\n        AdaptRxTextfieldModule,\n        CommonModule,\n        DragDropModule,\n        FormsModule,\n        StepperWithUnitsFormControlModule,\n        TranslateModule], exports: [RecordGridViewPresetColumnsModalComponent] });\nRecordGridViewPresetColumnsModalModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridViewPresetColumnsModalModule, imports: [[\n            AdaptAccordionModule,\n            AdaptButtonModule,\n            AdaptRxCheckboxModule,\n            AdaptRxTextfieldModule,\n            CommonModule,\n            DragDropModule,\n            FormsModule,\n            StepperWithUnitsFormControlModule,\n            TranslateModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridViewPresetColumnsModalModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RecordGridViewPresetColumnsModalComponent],\n                    exports: [RecordGridViewPresetColumnsModalComponent],\n                    imports: [\n                        AdaptAccordionModule,\n                        AdaptButtonModule,\n                        AdaptRxCheckboxModule,\n                        AdaptRxTextfieldModule,\n                        CommonModule,\n                        DragDropModule,\n                        FormsModule,\n                        StepperWithUnitsFormControlModule,\n                        TranslateModule\n                    ]\n                }]\n        }] });\n\nclass RecordGridEditViewPresetsModalModule {\n}\nRecordGridEditViewPresetsModalModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridEditViewPresetsModalModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRecordGridEditViewPresetsModalModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridEditViewPresetsModalModule, declarations: [RecordGridEditViewPresetsModalComponent], imports: [AdaptAccordionModule,\n        AdaptButtonModule,\n        AdaptTagModule,\n        CommonModule,\n        FormsModule,\n        RecordGridFilterSelectControlModule,\n        RecordGridSortEditorControlModule,\n        RecordGridViewPresetColumnsModalModule,\n        TranslateModule], exports: [RecordGridEditViewPresetsModalComponent] });\nRecordGridEditViewPresetsModalModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridEditViewPresetsModalModule, imports: [[\n            AdaptAccordionModule,\n            AdaptButtonModule,\n            AdaptTagModule,\n            CommonModule,\n            FormsModule,\n            RecordGridFilterSelectControlModule,\n            RecordGridSortEditorControlModule,\n            RecordGridViewPresetColumnsModalModule,\n            TranslateModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridEditViewPresetsModalModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RecordGridEditViewPresetsModalComponent],\n                    exports: [RecordGridEditViewPresetsModalComponent],\n                    imports: [\n                        AdaptAccordionModule,\n                        AdaptButtonModule,\n                        AdaptTagModule,\n                        CommonModule,\n                        FormsModule,\n                        RecordGridFilterSelectControlModule,\n                        RecordGridSortEditorControlModule,\n                        RecordGridViewPresetColumnsModalModule,\n                        TranslateModule\n                    ]\n                }]\n        }] });\n\nclass RecordGridViewPresetsWidgetModule {\n}\nRecordGridViewPresetsWidgetModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridViewPresetsWidgetModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRecordGridViewPresetsWidgetModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridViewPresetsWidgetModule, declarations: [RecordGridViewPresetsWidgetComponent], imports: [CommonModule, AdaptButtonModule, FormsModule, RecordGridEditViewPresetsModalModule, SelectFormControlModule], exports: [RecordGridViewPresetsWidgetComponent] });\nRecordGridViewPresetsWidgetModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridViewPresetsWidgetModule, imports: [[CommonModule, AdaptButtonModule, FormsModule, RecordGridEditViewPresetsModalModule, SelectFormControlModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridViewPresetsWidgetModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RecordGridViewPresetsWidgetComponent],\n                    exports: [RecordGridViewPresetsWidgetComponent],\n                    imports: [CommonModule, AdaptButtonModule, FormsModule, RecordGridEditViewPresetsModalModule, SelectFormControlModule]\n                }]\n        }] });\n\nclass RecordGridDesignModule {\n    constructor(rxDefinitionAdapterRegistryService, rxRecordGridDesignAdapterService) {\n        this.rxDefinitionAdapterRegistryService = rxDefinitionAdapterRegistryService;\n        this.rxRecordGridDesignAdapterService = rxRecordGridDesignAdapterService;\n        this.rxDefinitionAdapterRegistryService.registerDesignAdapter(RX_RECORD_GRID.type, this.rxRecordGridDesignAdapterService);\n    }\n}\nRecordGridDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridDesignModule, deps: [{ token: i1$1.RxDefinitionAdapterRegistryService }, { token: RxRecordGridDesignAdapterService }], target: i0.ɵɵFactoryTarget.NgModule });\nRecordGridDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridDesignModule, declarations: [RecordGridDesignComponent,\n        RecordGridColumnEditorControlComponent,\n        RecordGridColumnEditorModalComponent,\n        ColumnEditorAlignmentComponent,\n        RecordGridFilterPresetEditorControlComponent,\n        RecordGridFilterPresetEditorModalComponent,\n        RxRecordGridRowActionEditorWidgetComponent,\n        RecordGridRowActionEditorModalComponent,\n        RecordGridCellDisplayPropertiesComponent,\n        RecordGridCellDisplayPropertiesEditorComponent,\n        RecordGridNamedFilterOptionsComponent,\n        RecordGridNamedFilterOptionsEditorModalComponent], imports: [CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        RecordGridSortEditorControlModule,\n        AdaptButtonModule,\n        AdaptTooltipModule,\n        AdaptAccordionModule,\n        AdaptTextFieldModule,\n        AdaptRxSearchModule,\n        AdaptTreeModule,\n        AdaptRxCheckboxModule,\n        AdaptRxRadiobuttonModule,\n        ActionListControlModule,\n        GroupButtonFormControlModule,\n        DragDropModule,\n        ExpressionEditorModule,\n        AdaptAdvancedFilteringModule,\n        AdaptRxTextfieldModule,\n        RxDirectivesModule,\n        AdaptRxLabelModule,\n        RecordGridCommonModule,\n        ViewDesignerCanvasModule,\n        AdaptTableModule,\n        AdaptEmptyStateModule,\n        RxDefinitionModule,\n        AdaptRxSelectModule,\n        RxDefinitionPickerModule,\n        ExpressionFormControlModule,\n        AdaptIconModule,\n        TranslateModule,\n        SelectFormControlModule,\n        RxUniqueValidatorModule,\n        AdaptRxSwitchModule,\n        IconPickerFormControlModule,\n        AdaptPopoverModule,\n        RxAdvancedFilteringFieldsProviderModule,\n        RecordGridViewPresetsWidgetModule,\n        RecordGridFilterSelectControlModule,\n        StepperWithUnitsFormControlModule,\n        RxNoWhitespaceValidatorModule] });\nRecordGridDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridDesignModule, imports: [[\n            CommonModule,\n            FormsModule,\n            ReactiveFormsModule,\n            RecordGridSortEditorControlModule,\n            AdaptButtonModule,\n            AdaptTooltipModule,\n            AdaptAccordionModule,\n            AdaptTextFieldModule,\n            AdaptRxSearchModule,\n            AdaptTreeModule,\n            AdaptRxCheckboxModule,\n            AdaptRxRadiobuttonModule,\n            ActionListControlModule,\n            GroupButtonFormControlModule,\n            DragDropModule,\n            ExpressionEditorModule,\n            AdaptAdvancedFilteringModule,\n            AdaptRxTextfieldModule,\n            RxDirectivesModule,\n            AdaptRxLabelModule,\n            RecordGridCommonModule,\n            ViewDesignerCanvasModule,\n            AdaptTableModule,\n            AdaptEmptyStateModule,\n            RxDefinitionModule,\n            AdaptRxSelectModule,\n            RxDefinitionPickerModule,\n            ExpressionFormControlModule,\n            AdaptIconModule,\n            TranslateModule,\n            SelectFormControlModule,\n            RxUniqueValidatorModule,\n            AdaptRxSwitchModule,\n            IconPickerFormControlModule,\n            AdaptPopoverModule,\n            RxAdvancedFilteringFieldsProviderModule,\n            RecordGridViewPresetsWidgetModule,\n            RecordGridFilterSelectControlModule,\n            StepperWithUnitsFormControlModule,\n            RxNoWhitespaceValidatorModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        FormsModule,\n                        ReactiveFormsModule,\n                        RecordGridSortEditorControlModule,\n                        AdaptButtonModule,\n                        AdaptTooltipModule,\n                        AdaptAccordionModule,\n                        AdaptTextFieldModule,\n                        AdaptRxSearchModule,\n                        AdaptTreeModule,\n                        AdaptRxCheckboxModule,\n                        AdaptRxRadiobuttonModule,\n                        ActionListControlModule,\n                        GroupButtonFormControlModule,\n                        DragDropModule,\n                        ExpressionEditorModule,\n                        AdaptAdvancedFilteringModule,\n                        AdaptRxTextfieldModule,\n                        RxDirectivesModule,\n                        AdaptRxLabelModule,\n                        RecordGridCommonModule,\n                        ViewDesignerCanvasModule,\n                        AdaptTableModule,\n                        AdaptEmptyStateModule,\n                        RxDefinitionModule,\n                        AdaptRxSelectModule,\n                        RxDefinitionPickerModule,\n                        ExpressionFormControlModule,\n                        AdaptIconModule,\n                        TranslateModule,\n                        SelectFormControlModule,\n                        RxUniqueValidatorModule,\n                        AdaptRxSwitchModule,\n                        IconPickerFormControlModule,\n                        AdaptPopoverModule,\n                        RxAdvancedFilteringFieldsProviderModule,\n                        RecordGridViewPresetsWidgetModule,\n                        RecordGridFilterSelectControlModule,\n                        StepperWithUnitsFormControlModule,\n                        RxNoWhitespaceValidatorModule\n                    ],\n                    declarations: [\n                        RecordGridDesignComponent,\n                        RecordGridColumnEditorControlComponent,\n                        RecordGridColumnEditorModalComponent,\n                        ColumnEditorAlignmentComponent,\n                        RecordGridFilterPresetEditorControlComponent,\n                        RecordGridFilterPresetEditorModalComponent,\n                        RxRecordGridRowActionEditorWidgetComponent,\n                        RecordGridRowActionEditorModalComponent,\n                        RecordGridCellDisplayPropertiesComponent,\n                        RecordGridCellDisplayPropertiesEditorComponent,\n                        RecordGridNamedFilterOptionsComponent,\n                        RecordGridNamedFilterOptionsEditorModalComponent\n                    ],\n                    entryComponents: [\n                        RecordGridDesignComponent,\n                        RecordGridColumnEditorControlComponent,\n                        RecordGridColumnEditorModalComponent,\n                        RecordGridFilterPresetEditorControlComponent,\n                        RecordGridFilterPresetEditorModalComponent\n                    ]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxDefinitionAdapterRegistryService }, { type: RxRecordGridDesignAdapterService }]; } });\n\nclass PageComponent extends BaseViewComponent {\n    constructor() {\n        super();\n    }\n}\nPageComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nPageComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: PageComponent, selector: \"rx-page\", usesInheritance: true, ngImport: i0, template: \"<rx-runtime-view-canvas-outlet></rx-runtime-view-canvas-outlet>\\n\", components: [{ type: i1$2.RuntimeViewCanvasOutletComponent, selector: \"rx-runtime-view-canvas-outlet\", inputs: [\"name\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-page',\n                    templateUrl: './page.component.html'\n                }]\n        }], ctorParameters: function () { return []; } });\n\nclass RxFilterByCardSelectionDialogComponent {\n    constructor(context, translateService) {\n        this.context = context;\n        this.translateService = translateService;\n        this.alertConfig = {\n            content: this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.cards.filter-by-selection.dialog.info.message'),\n            type: 'section',\n            dismissible: false,\n            variant: 'info',\n            icon: true\n        };\n        this.options = this.context.getData().filterableFields;\n    }\n    optionFormatter(option) {\n        return option.name;\n    }\n    apply() {\n        this.context.close(this.field[0].id);\n    }\n}\nRxFilterByCardSelectionDialogComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFilterByCardSelectionDialogComponent, deps: [{ token: i1.ActiveModalRef }, { token: i2.TranslateService }], target: i0.ɵɵFactoryTarget.Component });\nRxFilterByCardSelectionDialogComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxFilterByCardSelectionDialogComponent, selector: \"rx-filter-by-card-selection\", ngImport: i0, template: \"<adapt-alert [config]=\\\"alertConfig\\\"></adapt-alert>\\n\\n<div class=\\\"modal-body pt-0\\\">\\n  <adapt-rx-select\\n    [label]=\\\"\\n      'com.bmc.arsys.rx.client.view-components.record-grid.cards.filter-by-selection.dialog.field.label' | translate\\n    \\\"\\n    [options]=\\\"options\\\"\\n    [(ngModel)]=\\\"field\\\"\\n    [required]=\\\"true\\\"\\n    [optionFormatter]=\\\"optionFormatter\\\"\\n    [popupClass]=\\\"'rx-filter-by-card-selection-field-dropdown'\\\"\\n  >\\n  </adapt-rx-select>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button adapt-button type=\\\"button\\\" btn-type=\\\"primary\\\" rx-id=\\\"apply-button\\\" [disabled]=\\\"!field\\\" (click)=\\\"apply()\\\">\\n    {{ 'com.bmc.arsys.rx.client.common.apply.label' | translate }}\\n  </button>\\n\\n  <button adapt-button type=\\\"button\\\" btn-type=\\\"secondary\\\" rx-id=\\\"cancel-button\\\" (click)=\\\"context.dismiss()\\\">\\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\\n  </button>\\n</div>\\n\", components: [{ type: i1.AdaptAlertComponent, selector: \"adapt-alert\", inputs: [\"config\"], outputs: [\"onClose\"] }, { type: i1.AdaptRxSelectComponent, selector: \"adapt-rx-select\", inputs: [\"options\", \"emptyOption\", \"optionFormatter\", \"optionContentTemplate\", \"disabledOptionResolver\", \"titleFormatter\", \"focusFirst\", \"texts\", \"multiple\", \"singleSelectStyle\", \"enableFilter\", \"inline\", \"selectAllButton\", \"deselectAllButton\", \"loadMoreButton\", \"loadMoreCallback\", \"loadMoreInProgress\", \"loadingState\", \"placeholder\", \"size\", \"closeOnSelect\", \"placement\", \"appendToBody\", \"popupMaxHeight\", \"popupClass\", \"pageSize\", \"ariaInvalid\", \"virtualScroll\", \"virtualScrollItemSize\", \"virtualScrollTemplateCacheSize\", \"minBufferPx\", \"maxBufferPx\"], outputs: [\"onSelectionChange\", \"onPopupOpenChange\", \"onFilterValueChange\"] }, { type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxFilterByCardSelectionDialogComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-filter-by-card-selection',\n                    templateUrl: './filter-by-card-selection-dialog.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.ActiveModalRef }, { type: i2.TranslateService }]; } });\n\nclass RxRecordGridConfiguratorService {\n    constructor(rxGuidService, rxFieldDefinitionService, rxRecordGridConfigUtilsService, rxRecordGridUtilsService, translateService) {\n        this.rxGuidService = rxGuidService;\n        this.rxFieldDefinitionService = rxFieldDefinitionService;\n        this.rxRecordGridConfigUtilsService = rxRecordGridConfigUtilsService;\n        this.rxRecordGridUtilsService = rxRecordGridUtilsService;\n        this.translateService = translateService;\n    }\n    getGridConfig(rxConfiguration) {\n        const config = defaults(this.rxRecordGridConfigUtilsService.configDeepClone(rxConfiguration), {\n            associatedRecordId: null,\n            associatedRoleName: null,\n            enableColumnSelection: true,\n            enableFiltering: true,\n            expandable: false,\n            useExternalFiltering: true,\n            enableRowSelection: RX_RECORD_GRID.selectionTypes.multiple,\n            filterExpression: null,\n            filters: RX_RECORD_GRID.defaultFilter,\n            filterTagsLimit: 3,\n            recordIdField: RX_RECORD_DEFINITION.coreFieldIds.id.toString(),\n            emptyStateLabelText: this.translateService.instant('com.bmc.arsys.rx.client.empty-state.no-items-to-display.label'),\n            emptyStateWithFilterLabelText: this.translateService.instant('com.bmc.arsys.rx.client.empty-state.no-items-to-display.label'),\n            searchFieldPlaceholderText: this.translateService.instant('com.bmc.arsys.rx.client.common.search.label'),\n            styles: ''\n        });\n        if (!config.recordDefinitionName) {\n            if (!rxConfiguration.getRecordDefinition) {\n                throwError(new RxError('getRecordDefinition function must be defined if recordDefinitionName is not set.'));\n            }\n            if (!rxConfiguration.getData) {\n                throwError(new RxError('getData function must be defined if recordDefinitionName is not set.'));\n            }\n        }\n        config.enableFiltering = Boolean(config.enableFiltering);\n        config.cardLayoutWidth = parseFloat(config.cardLayoutWidth) || null;\n        return config;\n    }\n    getColumnsWithMetadata(recordGridGuid, columns, recordDefinition) {\n        const columnsClone = this.rxRecordGridConfigUtilsService.columnsDeepClone(columns);\n        this.allowedOpenViewActionExpressionsForHrefRegex = new RegExp(`^\\\\$\\\\{view\\\\.components\\\\.${recordGridGuid}\\\\.(clickableRow|recordDefinition)\\\\.|^\\\\$\\\\{view\\\\.inputParams\\\\.`);\n        const columnsDefinitions$ = columnsClone.map((column) => {\n            return this.rxRecordGridUtilsService.getFieldDefinition(column.fieldId, recordDefinition).pipe(map((fieldDefinition) => {\n                var _a;\n                let filterType = fieldDefinition.resourceType\n                    ? this.getFieldDefinitionResourceTypeShortName(fieldDefinition.resourceType)\n                    : null;\n                if (filterType === RX_RECORD_DEFINITION.dataTypes.attachment.shortName) {\n                    filterType = RX_RECORD_DEFINITION.dataTypes.character.shortName;\n                }\n                const filterable = this.rxRecordGridConfigUtilsService.getBooleanValue(column.filterable) || isUndefined(column.filterable);\n                const searchable = has(column, 'searchable')\n                    ? this.rxRecordGridConfigUtilsService.getBooleanValue(column.searchable)\n                    : filterable && this.rxRecordGridUtilsService.isSearchable(fieldDefinition, recordDefinition);\n                const columnWithMetadata = Object.assign(Object.assign({}, column), { clickable: this.rxRecordGridConfigUtilsService.getBooleanValue(column.clickable), filterable, sortable: this.rxRecordGridConfigUtilsService.parseConfigString(column.sortable) ||\n                        isUndefined(column.sortable), visible: this.rxRecordGridConfigUtilsService.getBooleanValue(column.visible) || isUndefined(column.visible), searchable,\n                    fieldDefinition,\n                    filterType, clickableWithHref: this.isColumnClickableWithHref(column), title: (_a = column.title) === null || _a === void 0 ? void 0 : _a.trim(), fallbackTitle: `[${fieldDefinition.name}]` });\n                return columnWithMetadata;\n            }));\n        });\n        return forkJoin(columnsDefinitions$);\n    }\n    getSelectionFieldOptionLabelsByFieldId(columns, recordDefinition) {\n        return reduce(columns, (result, column) => {\n            const fieldDefinition = recordDefinition.fieldDefinitionsById[column.fieldId];\n            if (fieldDefinition.resourceType === RX_RECORD_DEFINITION.dataTypes.selection.resourceType) {\n                result[column.fieldId] = fieldDefinition.optionLabelsById;\n            }\n            return result;\n        }, {});\n    }\n    getFieldDefinitionResourceTypeShortName(resourceType) {\n        return resourceType\n            .split('.')\n            .pop()\n            .replace(/fieldDefinition/i, '');\n    }\n    isColumnClickableWithHref(column) {\n        let clickableWithHref = false;\n        if (this.rxRecordGridConfigUtilsService.getBooleanValue(column.clickable)) {\n            clickableWithHref = column.actions.every((action) => {\n                return ((action.name === RX_VIEW_ACTION.viewActionNames.launchUrl ||\n                    (action.name === RX_VIEW_ACTION.viewActionNames.openView &&\n                        action.presentation.launchBehavior === OpenViewActionLaunchBehavior.SameWindow &&\n                        action.presentation.type === OpenViewActionType.FullWidth &&\n                        this.canViewParamsBeEvaluatedForHref(action.viewParams))) &&\n                    this.canExpressionBeEvaluatedForHref(action.$condition$));\n            });\n        }\n        return clickableWithHref;\n    }\n    canViewParamsBeEvaluatedForHref(viewParams) {\n        return every(viewParams, (viewParamValue) => this.canExpressionBeEvaluatedForHref(viewParamValue));\n    }\n    canExpressionBeEvaluatedForHref(expression) {\n        return every(expression === null || expression === void 0 ? void 0 : expression.match(/\\$\\{[^{]*\\}/g), (expressionToken) => this.allowedOpenViewActionExpressionsForHrefRegex.test(expressionToken));\n    }\n}\nRxRecordGridConfiguratorService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridConfiguratorService, deps: [{ token: i2$1.RxGuidService }, { token: i1$5.RxFieldDefinitionService }, { token: RxRecordGridConfigUtilsService }, { token: RxRecordGridUtilsService }, { token: i2.TranslateService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRecordGridConfiguratorService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridConfiguratorService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridConfiguratorService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i2$1.RxGuidService }, { type: i1$5.RxFieldDefinitionService }, { type: RxRecordGridConfigUtilsService }, { type: RxRecordGridUtilsService }, { type: i2.TranslateService }]; } });\n\nclass RxRecordGridSharedFilterPresetsCacheService {\n    constructor(rxRecordInstanceDataPageService) {\n        this.rxRecordInstanceDataPageService = rxRecordInstanceDataPageService;\n        this.cache = {};\n    }\n    // return preset from \"Record Grid Filter Presets\"\n    getSharedFilterPresets(recordGridGuid) {\n        if (!this.cache[recordGridGuid]) {\n            const params = this.getQueryParams(recordGridGuid);\n            return this.rxRecordInstanceDataPageService.post({ params }).pipe(map((sharedFilterPresets) => {\n                return (this.cache[recordGridGuid] = map$1(sharedFilterPresets.data, (sharedFilterPreset) => ({\n                    id: sharedFilterPreset[RX_RECORD_DEFINITION.coreFieldIds.id],\n                    name: sharedFilterPreset[RX_RECORD_GRID.sharedFilterPresets.fields.name],\n                    filters: [\n                        {\n                            filterOptionId: RX_RECORD_GRID.externalPresetFilterOptionId,\n                            value: sharedFilterPreset[RX_RECORD_DEFINITION.coreFieldIds.id]\n                        }\n                    ],\n                    isCreatedByOtherUsers: true,\n                    filterExpression: sharedFilterPreset[RX_RECORD_GRID.sharedFilterPresets.fields.filterExpression],\n                    isDefault: sharedFilterPreset[RX_RECORD_GRID.sharedFilterPresets.fields.isDefault]\n                })));\n            }));\n        }\n        return of(this.cache[recordGridGuid]);\n    }\n    getQueryParams(recordGridGuid) {\n        const queryExpression = `('${RX_RECORD_GRID.sharedFilterPresets.fields.recordGridGuid}'=\"${recordGridGuid}\")`;\n        const propertySelection = [\n            RX_RECORD_DEFINITION.coreFieldIds.id,\n            RX_RECORD_GRID.sharedFilterPresets.fields.name,\n            RX_RECORD_GRID.sharedFilterPresets.fields.filterExpression,\n            RX_RECORD_GRID.sharedFilterPresets.fields.isDefault\n        ].join(',');\n        const sortBy = [\n            RX_RECORD_GRID.sharedFilterPresets.fields.sortOrder,\n            RX_RECORD_GRID.sharedFilterPresets.fields.name\n        ].join(',');\n        return {\n            pageSize: -1,\n            startIndex: 0,\n            queryExpression: queryExpression,\n            propertySelection: propertySelection,\n            shouldIncludeTotalSize: false,\n            recorddefinition: RX_RECORD_GRID.sharedFilterPresets.recordDefinitionName,\n            sortBy\n        };\n    }\n}\nRxRecordGridSharedFilterPresetsCacheService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridSharedFilterPresetsCacheService, deps: [{ token: i1$5.RxRecordInstanceDataPageService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRecordGridSharedFilterPresetsCacheService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridSharedFilterPresetsCacheService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridSharedFilterPresetsCacheService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$5.RxRecordInstanceDataPageService }]; } });\n\nclass RxRecordGridUserPreferencesService {\n    constructor(recordGridConfigUtilsService, rxUserPreferencesService, rxRecordGridFilterService, rxRecordGridFilterHelperService, rxObjectUtilsService) {\n        this.recordGridConfigUtilsService = recordGridConfigUtilsService;\n        this.rxUserPreferencesService = rxUserPreferencesService;\n        this.rxRecordGridFilterService = rxRecordGridFilterService;\n        this.rxRecordGridFilterHelperService = rxRecordGridFilterHelperService;\n        this.rxObjectUtilsService = rxObjectUtilsService;\n        this.initialPreferences = {\n            columns: [],\n            filterPresets: [],\n            filters: null,\n            visibleCardFieldIds: [],\n            appliedExternalFilterPresetGuid: null,\n            viewPresets: {}\n        };\n        this.preferences = Object.assign({}, this.initialPreferences);\n    }\n    saveUserPreferences(guid, adaptTableConfig, state) {\n        if (adaptTableConfig.cardLayoutColumns) {\n            this.preferences.visibleCardFieldIds = this.getVisibleCardFieldIds(adaptTableConfig);\n        }\n        else {\n            this.preferences.columns = this.getColumnsPreferences(adaptTableConfig);\n        }\n        this.preferences.filterPresets = state.advancedFiltering.savedFilters\n            .filter((savedFilter) => !savedFilter.isCreatedByOtherUsers)\n            .map((savedFilter) => this.getPreferencesFilterPresets(savedFilter, state.recordDefinition.fieldDefinitionsById, state.advancedFiltering.recordGridFilterConfigs));\n        const currentFilters = this.rxRecordGridFilterService.getRecordGridFilterDataFromAdvancedFilter(state.advancedFiltering.selectedFilters, state.recordDefinition.fieldDefinitionsById, state.advancedFiltering.recordGridFilterConfigs);\n        this.preferences.filters = currentFilters;\n        const appliedSharedFilterPreset = state.advancedFiltering.appliedSharedFilterPreset;\n        this.preferences.appliedExternalFilterPresetGuid = appliedSharedFilterPreset && appliedSharedFilterPreset.id;\n        if (this.selectedViewPresetGuid) {\n            const selectedPreset = this.preferences.viewPresets[this.selectedViewPresetGuid];\n            const newPreset = {\n                viewPresetGuid: this.selectedViewPresetGuid,\n                columns: this.getColumnsPreferences(adaptTableConfig),\n                filters: isEmpty(currentFilters) ? null : currentFilters\n            };\n            if (isEqual(selectedPreset.initial, newPreset)) {\n                this.discardViewPresetChanges(this.selectedViewPresetGuid);\n            }\n            else {\n                selectedPreset.edited = newPreset;\n            }\n        }\n        this.save(guid, this.preferences);\n    }\n    get(guid) {\n        this.preferences = Object.assign({}, this.initialPreferences);\n        return this.rxUserPreferencesService\n            .getUiComponentPreferences(guid)\n            .pipe(map((preferences) => assign(this.preferences, preferences)));\n    }\n    getAppliedSharedFilterPresetGuid() {\n        return this.preferences.appliedExternalFilterPresetGuid;\n    }\n    applyUserPreferencesForColumns(adaptTableConfig, columnsWithMetadata, gridGuid) {\n        const isColumnPreferencesUpdated = this.reviseColumnPreferences(this.preferences.columns, adaptTableConfig);\n        if (isColumnPreferencesUpdated) {\n            this.save(gridGuid, this.preferences);\n        }\n        let columnSortMeta = this.getColumnSortMeta(this.preferences.columns);\n        this.sortColumnsConfigs(adaptTableConfig.columns);\n        this.setColumnsWidths(adaptTableConfig.columns, this.preferences.columns, adaptTableConfig.columnResizeMode);\n        columnSortMeta = filter$1(columnSortMeta, (sortMeta) => some(adaptTableConfig.columns, (tableColumn) => tableColumn.field === sortMeta.field));\n        if (this.preferences.columns.length) {\n            adaptTableConfig.multiSortMeta = columnSortMeta;\n        }\n        if (adaptTableConfig.cardLayoutColumns) {\n            this.setCardFieldsVisibility(adaptTableConfig.columns);\n        }\n        else {\n            this.setColumnsVisibility(adaptTableConfig.columns, columnsWithMetadata);\n        }\n    }\n    reviseColumnPreferences(columnPreferences, { columns }) {\n        let isColumnPreferencesChanged = false;\n        if (columnPreferences.length) {\n            const existingAdaptColumnIds = map$1(columns, 'field');\n            const removedReferences = remove(columnPreferences, ({ fieldId }) => !existingAdaptColumnIds.includes(fieldId));\n            let isSortingPreferencesChanged = removedReferences.some(({ sort }) => Boolean(sort));\n            const preferencesSize = columnPreferences.length;\n            const sortableColumnPreferences = [];\n            columns.forEach((tableColumn, index) => {\n                var _a;\n                const columnPreference = find(columnPreferences, { fieldId: tableColumn.field });\n                if (columnPreference) {\n                    // Nullish width can be saved to preferences for column without width customization or without resizing.\n                    // Non-empty value appearing means the width is customized after previous preferences saving.\n                    (_a = columnPreference.width) !== null && _a !== void 0 ? _a : (columnPreference.width = tableColumn.width);\n                    if (tableColumn.sortable) {\n                        sortableColumnPreferences.push(columnPreference);\n                    }\n                    else if (columnPreference.sort) {\n                        isSortingPreferencesChanged = true;\n                    }\n                }\n                else {\n                    columnPreferences.splice(index, 0, {\n                        fieldId: tableColumn.field,\n                        index: index,\n                        visible: !tableColumn.hidden,\n                        width: tableColumn.width\n                    });\n                }\n            });\n            if (isSortingPreferencesChanged) {\n                const sortMetaForSortableColumns = this.getColumnSortMeta(sortableColumnPreferences);\n                this.updateColumnSortPreferences(columnPreferences, sortMetaForSortableColumns);\n            }\n            isColumnPreferencesChanged =\n                !isEmpty(removedReferences) || preferencesSize < columnPreferences.length || isSortingPreferencesChanged;\n        }\n        return isColumnPreferencesChanged;\n    }\n    applyUserPreferences(adaptTableConfig, columnsWithMetadata, state, sharedFilterPresets) {\n        var _a, _b, _c, _d;\n        if (!state.viewPresetSelector) {\n            this.applyUserPreferencesForColumns(adaptTableConfig, columnsWithMetadata, state.guid);\n        }\n        let observable$;\n        if (state === null || state === void 0 ? void 0 : state.enableFiltering) {\n            let isFilterPresetDataChanged = false;\n            // Remove filter presets that do not have any filters left.\n            // These filters could have been removed as a result of removing a column,\n            // used by the filter, from the grid.\n            this.preferences.filterPresets.forEach((filterPreset) => {\n                var _a, _b, _c, _d;\n                const prevFilterDataLength = (_b = (_a = filterPreset.filterData) === null || _a === void 0 ? void 0 : _a.and) === null || _b === void 0 ? void 0 : _b.length;\n                filterPreset.filterData = this.rxRecordGridFilterService.getFilterForAvailableColumns(filterPreset.filterData, columnsWithMetadata.filter((column) => column.filterable));\n                if (prevFilterDataLength !== ((_d = (_c = filterPreset.filterData) === null || _c === void 0 ? void 0 : _c.and) === null || _d === void 0 ? void 0 : _d.length)) {\n                    isFilterPresetDataChanged = true;\n                }\n            });\n            this.preferences.filterPresets = this.preferences.filterPresets.filter((filterPreset) => !isEmpty(filterPreset.filterData));\n            const prevFilters = cloneDeep((_a = this.preferences.filters) === null || _a === void 0 ? void 0 : _a.and);\n            this.preferences.filters = this.rxRecordGridFilterService.getFilterForAvailableColumns(this.preferences.filters, columnsWithMetadata.filter((column) => column.filterable));\n            if (isFilterPresetDataChanged ||\n                ((_c = (_b = this.preferences.filters) === null || _b === void 0 ? void 0 : _b.and) === null || _c === void 0 ? void 0 : _c.length) !== (prevFilters === null || prevFilters === void 0 ? void 0 : prevFilters.length) ||\n                !isEqual(prevFilters, (_d = this.preferences.filters) === null || _d === void 0 ? void 0 : _d.and)) {\n                this.save(state.guid, this.preferences);\n            }\n            state.advancedFiltering.savedFilters = this.getAdvancedFilterPresets(this.preferences.filterPresets, false);\n            state.predefinedFilterPresets = state.predefinedFilterPresets.filter((filterPreset) => !isNull(filterPreset.filters));\n            const predefinedFilterPresets = state.predefinedFilterPresets\n                .map((predefinedFilterPreset) => {\n                var _a;\n                return ({\n                    title: predefinedFilterPreset.title,\n                    guid: predefinedFilterPreset.guid,\n                    filterData: this.rxRecordGridFilterHelperService.getRecordGridFilterDataFromPredefinedFilter(predefinedFilterPreset.filters, this.rxRecordGridFilterService.deserializeNamedOptions((_a = predefinedFilterPreset.recordGridFilters) !== null && _a !== void 0 ? _a : []))\n                });\n            })\n                .filter((preset) => preset.filterData);\n            const builtInPresets = this.getAdvancedFilterPresets(predefinedFilterPresets, true);\n            state.advancedFiltering.savedFilters.push(...builtInPresets);\n            if (sharedFilterPresets) {\n                if (this.getAppliedSharedFilterPresetGuid()) {\n                    const appliedSharedFilterPreset = find(sharedFilterPresets, { id: this.getAppliedSharedFilterPresetGuid() });\n                    state.advancedFiltering.appliedSharedFilterPreset = appliedSharedFilterPreset;\n                    state.advancedFiltering.activeSavedFilter = appliedSharedFilterPreset;\n                }\n                state.advancedFiltering.savedFilters.push(...sharedFilterPresets);\n            }\n            const defaultBuiltInFilterPreset = isString(state.defaultFilterPreset)\n                ? find(builtInPresets, (builtInPreset) => builtInPreset.id === state.defaultFilterPreset)\n                : state.defaultFilterPreset;\n            const defaultSharedFilterPreset = find(sharedFilterPresets, (sharedFilterPreset) => sharedFilterPreset.isDefault);\n            if (!isEmpty(this.preferences.filters)) {\n                observable$ = this.rxRecordGridFilterService\n                    .getAdvancedFilterData(this.preferences.filters, state.recordDefinition.fieldDefinitionsById, state.advancedFiltering.recordGridFilterConfigs, state.recordDefinition, state.advancedFiltering.filterOptions, state.associationDescriptors)\n                    .pipe(tap((selectedAdvancedFilters) => {\n                    // Remove named filter options that do not have any filters left.\n                    // These filters could have been removed as a result of removing named filter option,\n                    // used by the filter, from the grid.\n                    const newSelectedAdvancedFilters = this.getFilterForAvailableNamedFilterOptions(selectedAdvancedFilters, state.namedFilterOptions);\n                    state.advancedFiltering.selectedFilters = this.getFiltersForSelectedColumns(newSelectedAdvancedFilters, adaptTableConfig.columns.filter((column) => column.filterable));\n                    this.preferences.filters = this.rxRecordGridFilterService.getRecordGridFilterDataFromAdvancedFilter(state.advancedFiltering.selectedFilters, state.recordDefinition.fieldDefinitionsById, state.advancedFiltering.recordGridFilterConfigs);\n                    if (state.advancedFiltering.appliedSharedFilterPreset) {\n                        this.addExternalPresetToSelectedFilters(state);\n                    }\n                }));\n            }\n            else if (this.rxObjectUtilsService.isEmptyObject(this.preferences.filters) &&\n                !state.advancedFiltering.appliedSharedFilterPreset) {\n                if (defaultSharedFilterPreset && !defaultBuiltInFilterPreset) {\n                    state.advancedFiltering.appliedSharedFilterPreset = defaultSharedFilterPreset;\n                    state.advancedFiltering.activeSavedFilter = defaultSharedFilterPreset;\n                }\n            }\n            else if (isNull(this.preferences.filters) && !state.advancedFiltering.appliedSharedFilterPreset) {\n                if (defaultBuiltInFilterPreset) {\n                    const defaultBuildInPresetFilterData = isString(state.defaultFilterPreset)\n                        ? defaultBuiltInFilterPreset.filterData\n                        : defaultBuiltInFilterPreset;\n                    observable$ = this.rxRecordGridFilterService\n                        .getAdvancedFilterData(defaultBuildInPresetFilterData, state.recordDefinition.fieldDefinitionsById, state.advancedFiltering.recordGridFilterConfigs, state.recordDefinition, state.advancedFiltering.filterOptions, state.associationDescriptors)\n                        .pipe(tap((selectedAdvancedFilters) => {\n                        state.advancedFiltering.selectedFilters = this.getFiltersForSelectedColumns(selectedAdvancedFilters, adaptTableConfig.columns);\n                        if (isString(state.defaultFilterPreset)) {\n                            defaultBuiltInFilterPreset.filters =\n                                state.advancedFiltering.selectedFilters;\n                            state.advancedFiltering.activeSavedFilter =\n                                defaultBuiltInFilterPreset;\n                        }\n                    }));\n                }\n                else if (defaultSharedFilterPreset) {\n                    state.advancedFiltering.appliedSharedFilterPreset = defaultSharedFilterPreset;\n                    state.advancedFiltering.activeSavedFilter = defaultSharedFilterPreset;\n                }\n            }\n            if (state.advancedFiltering.appliedSharedFilterPreset) {\n                this.addExternalPresetToSelectedFilters(state);\n            }\n        }\n        return observable$ || of(null);\n    }\n    applySharedViewPreset(gridState, adaptTableConfig, viewPresetGuid, viewPresetData) {\n        if (!this.preferences.viewPresets[viewPresetGuid]) {\n            this.preferences.viewPresets[viewPresetGuid] = {\n                initial: Object.assign(Object.assign({}, viewPresetData), { viewPresetGuid })\n            };\n        }\n        else {\n            // updating initial and keeping user changes\n            this.preferences.viewPresets[viewPresetGuid].initial = Object.assign(Object.assign({}, viewPresetData), { viewPresetGuid });\n        }\n        return this.applyViewPresetInner(viewPresetGuid, adaptTableConfig, gridState);\n    }\n    applyViewPreset(gridState, adaptTableConfig, viewPresetGuid) {\n        const systemViewPreset = gridState.viewPresets.find((preset) => preset.viewPresetGuid === viewPresetGuid);\n        if (systemViewPreset && !has(this.preferences.viewPresets, [viewPresetGuid, 'edited'])) {\n            // create/update the initial system view preset preferences\n            const newViewPresetPreferences = this.createSystemViewPresetPreferences(systemViewPreset, gridState.columnsWithMetadata);\n            this.preferences.viewPresets[viewPresetGuid] = { initial: newViewPresetPreferences };\n        }\n        else if (!this.preferences.viewPresets[viewPresetGuid] && this.selectedViewPresetGuid) {\n            // save existing view preset preferences as new custom view preset preferences\n            const selectedViewPreset = this.preferences.viewPresets[this.selectedViewPresetGuid];\n            this.preferences.viewPresets[viewPresetGuid] = {\n                initial: Object.assign(Object.assign({}, cloneDeep(selectedViewPreset.edited || selectedViewPreset.initial)), { viewPresetGuid })\n            };\n        }\n        return this.applyViewPresetInner(viewPresetGuid, adaptTableConfig, gridState);\n    }\n    applyViewPresetInner(viewPresetGuid, adaptTableConfig, gridState) {\n        const viewPresetPreferences = this.preferences.viewPresets[viewPresetGuid];\n        const presetToApply = (viewPresetPreferences === null || viewPresetPreferences === void 0 ? void 0 : viewPresetPreferences.edited) || (viewPresetPreferences === null || viewPresetPreferences === void 0 ? void 0 : viewPresetPreferences.initial);\n        let observable$ = of(null);\n        if (presetToApply) {\n            this.selectedViewPresetGuid = presetToApply.viewPresetGuid;\n            this.updateColumnsOrder(adaptTableConfig.columns, presetToApply.columns);\n            this.updateColumnsVisibility(adaptTableConfig.columns, presetToApply.columns);\n            this.setColumnsWidths(adaptTableConfig.columns, presetToApply.columns, adaptTableConfig.columnResizeMode);\n            this.updateGridSorting(presetToApply, adaptTableConfig);\n            observable$ = this.rxRecordGridFilterService\n                .getAdvancedFilterData(presetToApply.filters, gridState.recordDefinition.fieldDefinitionsById, gridState.advancedFiltering.recordGridFilterConfigs, gridState.recordDefinition, gridState.advancedFiltering.filterOptions, gridState.associationDescriptors)\n                .pipe(tap((selectedAdvancedFilters) => {\n                const newSelectedAdvancedFilters = this.getFilterForAvailableNamedFilterOptions(selectedAdvancedFilters, gridState.namedFilterOptions);\n                gridState.advancedFiltering.selectedFilters = this.getFiltersForSelectedColumns(newSelectedAdvancedFilters, adaptTableConfig.columns.filter((column) => column.filterable));\n            }));\n        }\n        return observable$;\n    }\n    isCurrentViewPresetEdited() {\n        var _a;\n        return Boolean((_a = this.preferences.viewPresets[this.selectedViewPresetGuid]) === null || _a === void 0 ? void 0 : _a.edited);\n    }\n    addExternalPresetToSelectedFilters(state) {\n        const selectedFilter = cloneDeep(state.advancedFiltering.selectedFilters);\n        selectedFilter.push({\n            filterOptionId: RX_RECORD_GRID.externalPresetFilterOptionId,\n            value: state.advancedFiltering.appliedSharedFilterPreset.id\n        });\n        state.advancedFiltering.selectedFilters = selectedFilter;\n    }\n    createSystemViewPresetPreferences(sharedViewPreset, columnsWithMetadata) {\n        const recordGridFilterData = this.rxRecordGridFilterHelperService.getRecordGridFilterDataFromPredefinedFilter(sharedViewPreset.filters, sharedViewPreset.recordGridFilters\n            ? this.rxRecordGridFilterService.deserializeNamedOptions(sharedViewPreset.recordGridFilters)\n            : []);\n        const columns = sharedViewPreset.columnViewPresets\n            .sort((a, b) => a.index - b.index)\n            .map((columnViewPreset, index) => {\n            var _a, _b;\n            const width = has(columnViewPreset, 'width')\n                ? columnViewPreset.width\n                : (_b = (_a = find(columnsWithMetadata, { fieldId: columnViewPreset.fieldId })) === null || _a === void 0 ? void 0 : _a.width) !== null && _b !== void 0 ? _b : null;\n            const result = Object.assign(Object.assign({}, omit(columnViewPreset, 'sortable')), { index,\n                width });\n            if (columnViewPreset.sortable) {\n                result.sort = {\n                    priority: 0,\n                    direction: columnViewPreset.sortable.direction\n                };\n            }\n            return result;\n        });\n        return cloneDeep({\n            columns,\n            filters: recordGridFilterData,\n            viewPresetGuid: sharedViewPreset.viewPresetGuid\n        });\n    }\n    deleteViewPreset(viewPresetGuid) {\n        delete this.preferences.viewPresets[viewPresetGuid];\n    }\n    isExistingViewPreset(viewPresetGuid) {\n        return has(this.preferences.viewPresets, viewPresetGuid);\n    }\n    discardViewPresetChanges(viewPresetGuid) {\n        var _a;\n        (_a = this.preferences.viewPresets[viewPresetGuid]) === null || _a === void 0 ? true : delete _a.edited;\n    }\n    updateGridSorting(presetPreferences, adaptTableConfig) {\n        let columnSortMeta = this.getColumnSortMeta(presetPreferences.columns);\n        columnSortMeta = filter$1(columnSortMeta, (sortMeta) => some(adaptTableConfig.columns, (tableColumn) => tableColumn.sortable && tableColumn.field === sortMeta.field));\n        adaptTableConfig.multiSortMeta = columnSortMeta;\n    }\n    getAdvancedFilterPresets(filterPresets, isCreatedByOtherUsers) {\n        return filterPresets\n            .map((filterPreset) => {\n            const advancedFilterPreset = {\n                id: filterPreset.guid,\n                name: filterPreset.title,\n                filters: null,\n                filterData: filterPreset.filterData,\n                isCreatedByOtherUsers\n            };\n            if (filterPreset.appliedSharedFilterPresetGuid) {\n                advancedFilterPreset.appliedSharedFilterPresetGuid = filterPreset.appliedSharedFilterPresetGuid;\n                advancedFilterPreset.filters = [\n                    {\n                        filterOptionId: RX_RECORD_GRID.externalPresetFilterOptionId,\n                        value: filterPreset.appliedSharedFilterPresetGuid\n                    }\n                ];\n            }\n            return advancedFilterPreset;\n        })\n            .sort((savedFilter1, savedFilter2) => savedFilter1.name.localeCompare(savedFilter2.name));\n    }\n    getColumnsPreferences({ columns, multiSortMeta }) {\n        const columnPreferences = columns.map(({ field, hidden, width }, index) => {\n            const column = {\n                fieldId: field,\n                index,\n                visible: !hidden,\n                width\n            };\n            return column;\n        });\n        this.updateColumnSortPreferences(columnPreferences, multiSortMeta);\n        return columnPreferences;\n    }\n    getPreferencesFilterPresets(savedFilter, fieldDefinitionsById, recordGridFilterConfigs) {\n        const filterPreset = {\n            guid: savedFilter.id,\n            title: savedFilter.name,\n            filterData: savedFilter.filters\n                ? this.rxRecordGridFilterService.getRecordGridFilterDataFromAdvancedFilter(savedFilter.filters, fieldDefinitionsById, recordGridFilterConfigs)\n                : savedFilter.filterData\n        };\n        if (savedFilter.appliedSharedFilterPresetGuid) {\n            filterPreset.appliedSharedFilterPresetGuid = savedFilter.appliedSharedFilterPresetGuid;\n        }\n        return filterPreset;\n    }\n    getVisibleCardFieldIds({ columns, multiSortMeta }) {\n        this.updateColumnSortPreferences(this.preferences.columns, multiSortMeta);\n        return columns.filter((column) => !column.hidden).map((column) => parseInt(column.field, 10) || column.field);\n    }\n    updateColumnSortPreferences(columns, sortMeta) {\n        if (sortMeta) {\n            columns.forEach((column) => {\n                delete column.sort;\n            });\n            sortMeta.forEach(({ field, order }, index) => {\n                const sortedColumn = columns.find((column) => column.fieldId === field);\n                if (sortedColumn) {\n                    sortedColumn.sort = {\n                        priority: index,\n                        direction: this.recordGridConfigUtilsService.getColumnSortDirection(order)\n                    };\n                }\n            });\n        }\n    }\n    save(guid, preferences) {\n        if (guid) {\n            const data = {\n                preferences: JSON.stringify(preferences),\n                componentTypeName: RX_RECORD_GRID.type,\n                version: RX_RECORD_GRID.version,\n                componentId: guid\n            };\n            this.rxUserPreferencesService.setUiComponentPreferences(data, guid).subscribe();\n        }\n    }\n    sortColumnsConfigs(gridColumns) {\n        this.updateColumnsOrder(gridColumns, this.preferences.columns);\n    }\n    updateColumnsOrder(gridColumns, columnsPreferences) {\n        const columnIndexesMap = reduce(gridColumns, (result, column, columnIndex) => {\n            const columnSavedPreferences = find(columnsPreferences, (columnPreferences) => columnPreferences.fieldId === column.field);\n            if (columnSavedPreferences) {\n                result[column.field] = columnSavedPreferences.index;\n            }\n            else {\n                result[column.field] = columnIndex;\n            }\n            return result;\n        }, {});\n        gridColumns.sort((column1, column2) => columnIndexesMap[column1.field] - columnIndexesMap[column2.field]);\n    }\n    setColumnsVisibility(gridColumns, columnsWithMetadata) {\n        const columnsPreferences = this.preferences.columns;\n        if (isEmpty(columnsPreferences)) {\n            gridColumns.forEach((gridColumn) => {\n                const columnWithMetadata = find(columnsWithMetadata, (column) => column.fieldId === gridColumn.field);\n                gridColumn.hidden = columnWithMetadata ? !columnWithMetadata.visible : false;\n            });\n        }\n        else {\n            this.updateColumnsVisibility(gridColumns, columnsPreferences);\n        }\n    }\n    updateColumnsVisibility(gridColumns, columnsPreferences) {\n        gridColumns.forEach((column) => {\n            const preferences = find(columnsPreferences, (columnPreferences) => columnPreferences.fieldId === column.field);\n            if (preferences) {\n                column.hidden = !preferences.visible;\n            }\n        });\n    }\n    setColumnsWidths(gridColumns, columnsPreferences, columnResizeMode) {\n        if (columnsPreferences.length) {\n            gridColumns.forEach((column) => {\n                const preferences = find(columnsPreferences, { fieldId: column.field });\n                // Default measure unit of native html table is px, but outdated user preferences use %.\n                // Only px units are supported in Expand mode.\n                if (preferences) {\n                    const isColumnWidthInPixels = endsWith(preferences.width, 'px');\n                    if (columnResizeMode === ResizeMode.Expand && !isColumnWidthInPixels) {\n                        column.width = null;\n                        column.minWidth = null;\n                    }\n                    else {\n                        column.width = /[0-9]+$/.test(preferences.width) ? `${preferences.width}%` : preferences.width;\n                        if (isColumnWidthInPixels && parseInt(column.width) < 45) {\n                            column.minWidth = column.width;\n                        }\n                    }\n                }\n            });\n        }\n    }\n    setCardFieldsVisibility(gridColumns) {\n        const visibleCardFieldIds = this.preferences.visibleCardFieldIds;\n        if (isEmpty(visibleCardFieldIds)) {\n            const defaultVisibleColumnsCount = 5;\n            let visibleColumnsCount = 0;\n            gridColumns.forEach((column) => {\n                if (visibleColumnsCount >= defaultVisibleColumnsCount) {\n                    column.hidden = true;\n                    return;\n                }\n                if (!column.hidden) {\n                    visibleColumnsCount++;\n                }\n            });\n        }\n        else {\n            gridColumns.forEach((column) => (column.hidden = !some(visibleCardFieldIds, (field) => String(field) === column.field)));\n        }\n    }\n    getColumnSortMeta(columnPreferences) {\n        return flow((columns) => filter$1(columns, 'sort'), (columns) => sortBy(columns, 'sort.priority'), (columns) => map$1(columns, (column) => ({\n            field: column.fieldId,\n            order: this.recordGridConfigUtilsService.getColumnSortOrder(column.sort.direction)\n        })))(columnPreferences);\n    }\n    getFiltersForSelectedColumns(advancedFilters, gridColumns) {\n        return advancedFilters.filter((advancedFilter) => some(gridColumns, { field: advancedFilter.filterOptionId }));\n    }\n    getFilterForAvailableNamedFilterOptions(advancedFilters, availableNamedFilters) {\n        return advancedFilters\n            .map((advancedFilter) => {\n            advancedFilter.value.namedOptions = !isEmpty(availableNamedFilters)\n                ? advancedFilter.value.namedOptions.filter((namedFilterOptionGuid) => some(availableNamedFilters[Number(advancedFilter.filterOptionId)], { guid: namedFilterOptionGuid }))\n                : [];\n            return advancedFilter;\n        })\n            .filter((advancedFilter) => !RxRecordGridAdvancedFilterValue.isEmptyWithRange(advancedFilter.value));\n    }\n    saveViewPreset(viewPresetGuid) {\n        const preset = this.preferences.viewPresets[viewPresetGuid];\n        if (preset === null || preset === void 0 ? void 0 : preset.edited) {\n            preset.initial = cloneDeep(preset.edited);\n            delete preset.edited;\n        }\n    }\n    getSharedViewPresetData() {\n        const selectedViewPreset = this.preferences.viewPresets[this.selectedViewPresetGuid];\n        const presetData = selectedViewPreset.edited || selectedViewPreset.initial;\n        return {\n            columns: presetData.columns,\n            filters: presetData.filters\n        };\n    }\n}\nRxRecordGridUserPreferencesService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridUserPreferencesService, deps: [{ token: RxRecordGridConfigUtilsService }, { token: i1$1.RxUserPreferencesService }, { token: RxRecordGridFilterService }, { token: RxRecordGridFilterHelperService }, { token: i2$1.RxObjectUtilsService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRecordGridUserPreferencesService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridUserPreferencesService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridUserPreferencesService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: RxRecordGridConfigUtilsService }, { type: i1$1.RxUserPreferencesService }, { type: RxRecordGridFilterService }, { type: RxRecordGridFilterHelperService }, { type: i2$1.RxObjectUtilsService }]; } });\n\nvar RowSelectionMode;\n(function (RowSelectionMode) {\n    RowSelectionMode[\"Multiple\"] = \"multiple\";\n    RowSelectionMode[\"Single\"] = \"single\";\n})(RowSelectionMode || (RowSelectionMode = {}));\n\nclass CardLayoutCellHeaderComponent {\n    constructor(modalService, translateService) {\n        this.modalService = modalService;\n        this.translateService = translateService;\n        this.sort = new EventEmitter();\n    }\n    onSortMenuItemClick() {\n        this.multiSortMeta = this.adaptTable.multiSortMeta || [];\n        this.openDialog({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.cards.sort-by.dialog.title'),\n            content: this.cardLayoutSortModalTemplate\n        }).catch(() => { });\n    }\n    getSortableColumns() {\n        return this.columns\n            .filter((column) => this.adaptTable.isSortableColumn(column))\n            .sort((column1, column2) => column1.header.localeCompare(column2.header));\n    }\n    onSortAscClick(column) {\n        this.changeSort(column, SortOrder.Asc);\n    }\n    onSortDescClick(column) {\n        this.changeSort(column, SortOrder.Desc);\n    }\n    changeSort(column, order) {\n        const sortIndex = this.getColumnSortIndex(column);\n        const sort = this.multiSortMeta[sortIndex];\n        if (sort) {\n            if (sort.order === order) {\n                this.multiSortMeta.splice(sortIndex, 1);\n            }\n            else {\n                sort.order = order;\n            }\n        }\n        else {\n            this.multiSortMeta.push({\n                field: column.field,\n                order\n            });\n        }\n    }\n    getColumnSort(column) {\n        return this.multiSortMeta[this.getColumnSortIndex(column)];\n    }\n    getColumnSortIndex(column) {\n        return this.multiSortMeta.findIndex((sort) => sort.field === column.field);\n    }\n    hasColumnSortOrder(column, order) {\n        const sort = this.getColumnSort(column);\n        return sort ? sort.order === order : false;\n    }\n    getSortAscBtnClass(column) {\n        return this.getSortBtnClass(column, SortOrder.Asc);\n    }\n    getSortDescBtnClass(column) {\n        return this.getSortBtnClass(column, SortOrder.Desc);\n    }\n    getSortBtnClass(column, order) {\n        const isActiveSortDesc = this.hasColumnSortOrder(column, order);\n        return { 'btn-success': isActiveSortDesc, 'btn-secondary': !isActiveSortDesc };\n    }\n    clearAllSorting() {\n        this.multiSortMeta = [];\n    }\n    applySorting() {\n        this.sort.emit(this.multiSortMeta);\n    }\n    getCurrentSortingSummary() {\n        const ordersTitles = {\n            [SortOrder.Asc]: this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.cards.sort-by.sort.ascending'),\n            [SortOrder.Desc]: this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.cards.sort-by.sort.descending')\n        };\n        return this.multiSortMeta\n            .map((sortMeta, index) => {\n            const column = this.columns.find((c) => c.field === sortMeta.field);\n            return `${index + 1}. ${column.header} (${ordersTitles[sortMeta.order]})`;\n        })\n            .join('\\n');\n    }\n}\nCardLayoutCellHeaderComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CardLayoutCellHeaderComponent, deps: [{ token: i1.AdaptModalService }, { token: i2.TranslateService }], target: i0.ɵɵFactoryTarget.Component });\nCardLayoutCellHeaderComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: CardLayoutCellHeaderComponent, selector: \"rx-card-layout-cell-header\", inputs: { title: \"title\", columns: \"columns\", adaptTable: \"adaptTable\", openDialog: \"openDialog\" }, outputs: { sort: \"sort\" }, viewQueries: [{ propertyName: \"cardLayoutSortModalTemplate\", first: true, predicate: [\"cardLayoutSortModalTemplate\"], descendants: true }], ngImport: i0, template: \"{{ title }}\\n\\n<div class=\\\"dropdown header-cell-menu-btn\\\" adaptDropdown [appendToBody]=\\\"true\\\" [restoreFocusAfterClose]=\\\"true\\\">\\n  <button\\n    id=\\\"card-column-menu-dropdown-toggle\\\"\\n    class=\\\"d-icon-ellipsis adapt-table-sort-menu__kebab py-2 btn btn-link\\\"\\n    type=\\\"button\\\"\\n    adaptDropdownToggle\\n    [showCaret]=\\\"false\\\"\\n  ></button>\\n\\n  <div class=\\\"dropdown-menu\\\" aria-labelledby=\\\"card-column-menu-dropdown-toggle\\\" adaptDropdownMenu tabindex=\\\"0\\\">\\n    <button class=\\\"dropdown-item\\\" type=\\\"button\\\" (click)=\\\"onSortMenuItemClick()\\\">\\n      {{ 'com.bmc.arsys.rx.client.view-components.record-grid.card-column-menu.items.sort-by.label' | translate }}\\n    </button>\\n  </div>\\n</div>\\n\\n<ng-template #cardLayoutSortModalTemplate let-close=\\\"close\\\" let-getData=\\\"getData\\\">\\n  <div class=\\\"modal-body rx-record-grid-sort-by-dialog\\\">\\n    <div class=\\\"rx-card-fields\\\">\\n      <div class=\\\"rx-card-fields__headers\\\">\\n        <div class=\\\"rx-card-fields__headers-field\\\">\\n          {{\\n            'com.bmc.arsys.rx.client.view-components.record-grid.cards.sort-by.dialog.field.column.title' | translate\\n          }}\\n        </div>\\n        <div class=\\\"rx-card-fields__headers-order\\\">\\n          {{\\n            'com.bmc.arsys.rx.client.view-components.record-grid.cards.sort-by.dialog.order.column.title' | translate\\n          }}\\n        </div>\\n      </div>\\n      <div class=\\\"rx-card-field\\\" *ngFor=\\\"let column of getSortableColumns()\\\">\\n        <div class=\\\"rx-card-field__name\\\">{{ column.header }}</div>\\n        <div class=\\\"rx-card-field__order\\\">\\n          <div class=\\\"btn-group\\\">\\n            <button class=\\\"btn btn-xs\\\" [ngClass]=\\\"getSortDescBtnClass(column)\\\" (click)=\\\"onSortDescClick(column)\\\">\\n              <span class=\\\"d-icon-arrow_down\\\"></span>\\n            </button>\\n            <button class=\\\"btn btn-xs\\\" [ngClass]=\\\"getSortAscBtnClass(column)\\\" (click)=\\\"onSortAscClick(column)\\\">\\n              <span class=\\\"d-icon-arrow_up\\\"></span>\\n            </button>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div>\\n      <textarea\\n        rows=\\\"4\\\"\\n        disabled\\n        class=\\\"form-control rx-sort-summary\\\"\\n        title=\\\"summary\\\"\\n        [value]=\\\"getCurrentSortingSummary()\\\"\\n        [placeholder]=\\\"\\n          'com.bmc.arsys.rx.client.view-components.record-grid.cards.sort-by.dialog.field.summary.empty.title'\\n            | translate\\n        \\\"\\n      ></textarea>\\n    </div>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-secondary btn-sm\\\" (click)=\\\"clearAllSorting()\\\">\\n      {{\\n        'com.bmc.arsys.rx.client.view-components.record-grid.cards.sort-by.dialog.clear-all.button.label' | translate\\n      }}\\n    </button>\\n    <button class=\\\"btn btn-primary btn-sm\\\" (click)=\\\"applySorting(); close()\\\">\\n      {{ 'com.bmc.arsys.rx.client.common.apply.label' | translate }}\\n    </button>\\n    <button class=\\\"btn btn-secondary btn-sm\\\" (click)=\\\"close()\\\">\\n      {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\\n    </button>\\n  </div>\\n</ng-template>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.header-cell-menu-btn{position:absolute;right:0;top:0}.rx-record-grid-sort-by-dialog .rx-card-fields{border:1px solid #d6d7d8;display:flex;flex-direction:column;height:370px;overflow-y:auto}.rx-record-grid-sort-by-dialog .rx-card-fields__headers{font-weight:var(--font-weight-bold);display:flex;height:35px;align-items:center;border-bottom:1px solid #d6d7d8;color:#666;flex-shrink:0}.rx-record-grid-sort-by-dialog .rx-card-field{display:flex;border-bottom:1px solid #d6d7d8;align-items:center;height:35px;flex-shrink:0}.rx-record-grid-sort-by-dialog .rx-card-field:last-child{border-bottom:none}.rx-record-grid-sort-by-dialog .rx-card-field__name{flex:3;padding-left:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rx-record-grid-sort-by-dialog .rx-card-field__order{flex:1;padding-left:5px}.rx-record-grid-sort-by-dialog .rx-card-fields__headers-field{flex:3;padding-left:10px}.rx-record-grid-sort-by-dialog .rx-card-fields__headers-order{flex:1;padding-left:5px}.rx-record-grid-sort-by-dialog .rx-sort-summary{margin-top:15px;resize:none}\\n\"], components: [{ type: i1.AdaptDropdownDirective, selector: \"adapt-dropdown, [adaptDropdown]\", inputs: [\"autoClose\", \"customClass\", \"closeOnEscape\", \"placement\", \"animationPlacement\", \"holdFocusInMenu\", \"holdFocusOnOpen\", \"autoFocusFirst\", \"restoreFocusAfterClose\", \"focusNextElementAfterClose\", \"appendToBody\", \"appendTo\", \"positionTo\", \"anchorPositionTrackingIntervalMs\", \"enableAnchorPositionTracking\", \"recalculatePositionOnElementResize\", \"setMobileState\", \"mobileView\"], outputs: [\"onOpen\", \"onClose\", \"anchorPositionChange\", \"popupAnimationDone\"], exportAs: [\"adaptDropdown\"] }], directives: [{ type: i1.AdaptDropdownToggleDirective, selector: \"[adaptDropdownToggle]\", inputs: [\"showCaret\", \"dropdownTogglerType\"] }, { type: i1.AdaptDropdownMenuDirective, selector: \"[adaptDropdownMenu]\" }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CardLayoutCellHeaderComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-card-layout-cell-header',\n                    templateUrl: './card-layout-cell-header.component.html',\n                    styleUrls: ['card-layout-cell-header.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1.AdaptModalService }, { type: i2.TranslateService }]; }, propDecorators: { title: [{\n                type: Input\n            }], columns: [{\n                type: Input\n            }], adaptTable: [{\n                type: Input\n            }], openDialog: [{\n                type: Input\n            }], sort: [{\n                type: Output\n            }], cardLayoutSortModalTemplate: [{\n                type: ViewChild,\n                args: ['cardLayoutSortModalTemplate']\n            }] } });\n\nclass GridCardLayoutDirective {\n    constructor(adaptTable, ngZone, renderer) {\n        this.adaptTable = adaptTable;\n        this.ngZone = ngZone;\n        this.renderer = renderer;\n        this.changedCardLayout = new EventEmitter();\n        this.hasCardLayout = false;\n        this._hasViewInitialized = false;\n    }\n    set cardLayoutWidth(value) {\n        this._cardLayoutWidth = value;\n        if (this._hasViewInitialized) {\n            const { offsetWidth } = this.renderer.selectRootElement(this.adaptTable.el.nativeElement, true);\n            this.changeTableCardLayout(offsetWidth);\n        }\n    }\n    get cardLayoutWidth() {\n        return this._cardLayoutWidth;\n    }\n    ngAfterViewInit() {\n        setTimeout(() => {\n            const recordGrid = this.renderer.selectRootElement(this.recordGridElementRef.nativeElement, true);\n            this.changeTableCardLayout(recordGrid.offsetWidth);\n        });\n        this.ngZone.runOutsideAngular(() => {\n            this.resizeSensor = new ResizeSensor(this.recordGridElementRef.nativeElement, (size) => {\n                this.ngZone.run(() => {\n                    this.changeTableCardLayout(size.width);\n                });\n            });\n        });\n        this._hasViewInitialized = true;\n    }\n    changeTableCardLayout(gridWidth) {\n        const hasCardLayout = gridWidth <= this.cardLayoutWidth;\n        if (this.hasCardLayout === hasCardLayout || !gridWidth) {\n            return;\n        }\n        this.hasCardLayout = hasCardLayout;\n        const adaptTable = this.adaptTable;\n        this.scrollToFirstVisibleRow();\n        if (hasCardLayout) {\n            this.renderer.addClass(adaptTable.el.nativeElement, 'rx-table-card-layout');\n        }\n        else {\n            this.renderer.removeClass(adaptTable.el.nativeElement, 'rx-table-card-layout');\n        }\n        // fix for updating margin in header. Just primeng flaw\n        adaptTable.tableService.onValueChange(adaptTable.value);\n        this.changedCardLayout.emit({\n            cardLayoutColumns: hasCardLayout ? this.getCardLayoutColumns() : null\n        });\n    }\n    getCardLayoutColumns() {\n        return [\n            {\n                field: 'fields',\n                header: 'Fields',\n                filterable: false,\n                sortable: false,\n                headerTitleTemplate: this.cardLayoutFieldsHeaderTemplate,\n                width: '35%',\n                dataCellClass: this.getDataCellClass.bind(this),\n                cellTemplate: this.cardLayoutFieldsDataCellTemplate,\n                testId: 'fields-column'\n            },\n            {\n                field: 'fields',\n                header: 'Values',\n                filterable: false,\n                sortable: false,\n                headerTitleTemplate: this.cardLayoutValuesHeaderTemplate,\n                width: '65%',\n                dataCellClass: this.getDataCellClass.bind(this),\n                cellTemplate: this.cardLayoutValuesDataCellTemplate,\n                testId: 'values-column'\n            }\n        ];\n    }\n    getDataCellClass() {\n        return `${this.recordGridGetDataCellClass()} rx-card-layout-data-cell`;\n    }\n    scrollToFirstVisibleRow() {\n        const adaptTable = this.adaptTable;\n        if (adaptTable.scrollable) {\n            const scrollableBody = this.renderer\n                .selectRootElement(adaptTable.el.nativeElement, true)\n                .querySelector('.ui-table-scrollable-body');\n            const scrollableBodyScrollTop = scrollableBody && scrollableBody.scrollTop;\n            if (scrollableBodyScrollTop) {\n                const firstVisibleRow = adaptTable.dataRows.find((dataRow) => {\n                    const rowEl = dataRow.element.nativeElement;\n                    return rowEl.offsetTop + rowEl.offsetHeight >= scrollableBodyScrollTop;\n                });\n                if (firstVisibleRow) {\n                    let rowEl = firstVisibleRow.element.nativeElement;\n                    const scrollRowProportion = (scrollableBodyScrollTop - rowEl.offsetTop) / rowEl.offsetHeight;\n                    this.ngZone.onStable.pipe(take(1)).subscribe(() => {\n                        rowEl = firstVisibleRow.element.nativeElement;\n                        scrollableBody.scrollTop = rowEl.offsetTop + rowEl.offsetHeight * scrollRowProportion;\n                    });\n                }\n            }\n        }\n    }\n    ngOnDestroy() {\n        this.resizeSensor.detach();\n    }\n}\nGridCardLayoutDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: GridCardLayoutDirective, deps: [{ token: i1$7.AdaptTableComponent, host: true }, { token: i0.NgZone }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Directive });\nGridCardLayoutDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.1.3\", type: GridCardLayoutDirective, selector: \"[rxCardLayout]\", inputs: { cardLayoutFieldsHeaderTemplate: \"cardLayoutFieldsHeaderTemplate\", cardLayoutValuesHeaderTemplate: \"cardLayoutValuesHeaderTemplate\", cardLayoutFieldsDataCellTemplate: \"cardLayoutFieldsDataCellTemplate\", cardLayoutValuesDataCellTemplate: \"cardLayoutValuesDataCellTemplate\", recordGridGetDataCellClass: [\"cardLayoutGetDataCellClass\", \"recordGridGetDataCellClass\"], recordGridElementRef: [\"cardLayoutRecordGridElementRef\", \"recordGridElementRef\"], cardLayoutWidth: \"cardLayoutWidth\" }, outputs: { changedCardLayout: \"changedCardLayout\" }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: GridCardLayoutDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[rxCardLayout]'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$7.AdaptTableComponent, decorators: [{\n                    type: Host\n                }] }, { type: i0.NgZone }, { type: i0.Renderer2 }]; }, propDecorators: { cardLayoutFieldsHeaderTemplate: [{\n                type: Input\n            }], cardLayoutValuesHeaderTemplate: [{\n                type: Input\n            }], cardLayoutFieldsDataCellTemplate: [{\n                type: Input\n            }], cardLayoutValuesDataCellTemplate: [{\n                type: Input\n            }], recordGridGetDataCellClass: [{\n                type: Input,\n                args: ['cardLayoutGetDataCellClass']\n            }], recordGridElementRef: [{\n                type: Input,\n                args: ['cardLayoutRecordGridElementRef']\n            }], cardLayoutWidth: [{\n                type: Input\n            }], changedCardLayout: [{\n                type: Output\n            }] } });\n\nclass CellDisplayPropertiesDirective {\n    constructor(rxExpressionEvaluatorService, rxObjectUtilsService) {\n        this.rxExpressionEvaluatorService = rxExpressionEvaluatorService;\n        this.rxObjectUtilsService = rxObjectUtilsService;\n        this.evaluationData = {};\n    }\n    ngOnInit() {\n        this.updateCellClasses();\n    }\n    ngOnChanges(changes) {\n        if (!changes.rxCellDisplayPropsDataItem.firstChange &&\n            changes.rxCellDisplayPropsDataItem.currentValue !== changes.rxCellDisplayPropsDataItem.previousValue) {\n            this.updateCellClasses();\n        }\n    }\n    getActiveProps(items) {\n        return (items.find((props) => this.rxExpressionEvaluatorService.tryEvaluate(props.fieldValueCondition, this.evaluationData)) || null);\n    }\n    getCellCssClasses(props) {\n        const result = [];\n        if (!props.displayAsBadge) {\n            if (props.bold) {\n                result.push('font-weight-bold');\n            }\n            if (props.italic) {\n                result.push('font-italic');\n            }\n            if (props.fontSize === RxGridCellFontSize.Small) {\n                result.push('small');\n            }\n            else if (props.fontSize === RxGridCellFontSize.Large) {\n                result.push('large');\n            }\n            if (props.textColor) {\n                result.push(RxGridCellFontColorCssMap[props.textColor]);\n            }\n            if (props.backgroundColor) {\n                result.push(RxGridCellBgColorCssMap[props.backgroundColor]);\n            }\n            if (props.icon) {\n                if (props.iconPosition === RxGridCellIconPosition.ReplaceText) {\n                    result.push(`d-icon-${props.icon}`);\n                }\n                else {\n                    result.push(`d-icon-${props.iconPosition}-${props.icon}`);\n                }\n            }\n        }\n        return result;\n    }\n    getSpanCssClasses(props) {\n        if (props.displayAsBadge) {\n            return ['badge', `badge-${props.badgeColor}`];\n        }\n        else if (props.iconPosition === RxGridCellIconPosition.ReplaceText) {\n            return ['hidden'];\n        }\n        else {\n            return [];\n        }\n    }\n    updateCellClasses() {\n        var _a;\n        if ((_a = this.rxCellDisplayProps) === null || _a === void 0 ? void 0 : _a.length) {\n            let cssClasses = '';\n            const expandedRxCellDisplayPropsDataItem = Object.assign(Object.assign({}, this.rxCellDisplayPropsDataItem), this.rxObjectUtilsService.expandProperties(this.rxCellDisplayPropsDataItem));\n            set(this.evaluationData, `view.components.grid.clickableRow`, expandedRxCellDisplayPropsDataItem);\n            const activeProps = this.getActiveProps(this.rxCellDisplayProps);\n            if (activeProps) {\n                const cellClasses = this.getCellCssClasses(activeProps);\n                cssClasses = cellClasses.join(' ');\n            }\n            if (this.rxCellDisplayPropsBadgeElem) {\n                const spanClasses = activeProps ? this.getSpanCssClasses(activeProps) : [];\n                this.rxCellDisplayPropsBadgeElem.classList.value = '';\n                this.rxCellDisplayPropsBadgeElem.classList.add(...spanClasses);\n            }\n            this.cssClasses = cssClasses;\n        }\n    }\n}\nCellDisplayPropertiesDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CellDisplayPropertiesDirective, deps: [{ token: i1$4.RxExpressionEvaluatorService }, { token: i2$1.RxObjectUtilsService }], target: i0.ɵɵFactoryTarget.Directive });\nCellDisplayPropertiesDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.1.3\", type: CellDisplayPropertiesDirective, selector: \"[rxCellDisplayProps]\", inputs: { rxCellDisplayProps: \"rxCellDisplayProps\", rxCellDisplayPropsBadgeElem: \"rxCellDisplayPropsBadgeElem\", rxCellDisplayPropsDataItem: \"rxCellDisplayPropsDataItem\" }, host: { properties: { \"class\": \"this.cssClasses\" } }, usesOnChanges: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CellDisplayPropertiesDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[rxCellDisplayProps]'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxExpressionEvaluatorService }, { type: i2$1.RxObjectUtilsService }]; }, propDecorators: { rxCellDisplayProps: [{\n                type: Input\n            }], rxCellDisplayPropsBadgeElem: [{\n                type: Input\n            }], rxCellDisplayPropsDataItem: [{\n                type: Input\n            }], cssClasses: [{\n                type: HostBinding,\n                args: ['class']\n            }] } });\n\nclass RecordGridComponent extends BaseViewComponent {\n    constructor(adaptDeviceDetectionService, adaptModalService, changeDetector, datePipe, decimalPipe, ngZone, rxAssociationInstanceDataPageService, rxBooleanPipe, rxCurrentUserService, rxExpressionEvaluatorService, rxFieldDefinitionService, rxGridConfiguratorService, rxGuidService, rxLogService, rxNotificationService, rxObjectUtilsService, rxRecordDefinitionCacheService, rxRecordDefinitionService, rxRecordGridAdvancedFilteringService, rxRecordGridConfigUtilsService, rxRecordGridFilterConfigService, rxRecordGridFilterService, rxRecordGridFilterHelperService, rxRecordGridSharedFilterPresetsCacheService, rxRecordGridUserPreferencesService, rxRecordGridUtilsService, rxRecordInstanceDataPageService, rxRecordInstanceService, rxViewActionService, rxViewActionUtilsService, translateService, elementRef, rxStringService, rxGlobalEventsService, pageComponent, runtimeViewCanvasItemComponent) {\n        super();\n        this.adaptDeviceDetectionService = adaptDeviceDetectionService;\n        this.adaptModalService = adaptModalService;\n        this.changeDetector = changeDetector;\n        this.datePipe = datePipe;\n        this.decimalPipe = decimalPipe;\n        this.ngZone = ngZone;\n        this.rxAssociationInstanceDataPageService = rxAssociationInstanceDataPageService;\n        this.rxBooleanPipe = rxBooleanPipe;\n        this.rxCurrentUserService = rxCurrentUserService;\n        this.rxExpressionEvaluatorService = rxExpressionEvaluatorService;\n        this.rxFieldDefinitionService = rxFieldDefinitionService;\n        this.rxGridConfiguratorService = rxGridConfiguratorService;\n        this.rxGuidService = rxGuidService;\n        this.rxLogService = rxLogService;\n        this.rxNotificationService = rxNotificationService;\n        this.rxObjectUtilsService = rxObjectUtilsService;\n        this.rxRecordDefinitionCacheService = rxRecordDefinitionCacheService;\n        this.rxRecordDefinitionService = rxRecordDefinitionService;\n        this.rxRecordGridAdvancedFilteringService = rxRecordGridAdvancedFilteringService;\n        this.rxRecordGridConfigUtilsService = rxRecordGridConfigUtilsService;\n        this.rxRecordGridFilterConfigService = rxRecordGridFilterConfigService;\n        this.rxRecordGridFilterService = rxRecordGridFilterService;\n        this.rxRecordGridFilterHelperService = rxRecordGridFilterHelperService;\n        this.rxRecordGridSharedFilterPresetsCacheService = rxRecordGridSharedFilterPresetsCacheService;\n        this.rxRecordGridUserPreferencesService = rxRecordGridUserPreferencesService;\n        this.rxRecordGridUtilsService = rxRecordGridUtilsService;\n        this.rxRecordInstanceDataPageService = rxRecordInstanceDataPageService;\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.rxViewActionService = rxViewActionService;\n        this.rxViewActionUtilsService = rxViewActionUtilsService;\n        this.translateService = translateService;\n        this.elementRef = elementRef;\n        this.rxStringService = rxStringService;\n        this.rxGlobalEventsService = rxGlobalEventsService;\n        this.pageComponent = pageComponent;\n        this.runtimeViewCanvasItemComponent = runtimeViewCanvasItemComponent;\n        this.dataLoaded = new EventEmitter();\n        this.isExportInProgress = false;\n        this.lastPropertySelection = [];\n        this.adaptTableConfig = {\n            data: [],\n            columns: [],\n            columnResizeMode: ResizeMode.Fit,\n            cardLayoutColumns: null,\n            bordered: true,\n            scrollable: true,\n            striped: false,\n            toolbarConfig: {\n                counter: false,\n                quickFilter: true,\n                leftCustomSection: true,\n                leftCustomSectionTemplate: null,\n                filter: true,\n                filterTemplate: null,\n                filterResults: false,\n                filterResultsTemplate: null,\n                rightCustomSection: false,\n                rightCustomSectionTemplate: null,\n                visibleColumnsMenu: true,\n                visibleColumnsMenuTemplate: null,\n                quickFilterTriggerable: true,\n                export: {\n                    exportTypes: [{ type: ExportType.CSV }],\n                    showExportForSelected: true\n                }\n            },\n            filterable: false,\n            selectedItems: [],\n            filters: {},\n            rows: 50,\n            first: 0,\n            multiSortMeta: null,\n            rowSelectionMode: null,\n            isLoadingData: false,\n            totalRecords: null,\n            primaryKey: null,\n            isLoadingMoreData: false,\n            texts: null,\n            expandedGroupsKeys: {},\n            virtualScroll: true,\n            virtualRowHeight: RX_RECORD_GRID.defaultRowHeight\n        };\n        this.actionButtons = null;\n        this.adaptTableHeaderSelectionMode = AdaptTableHeaderSelectionMode.Chunk;\n        this.api = {\n            applyViewPreset: this.applyViewPreset.bind(this),\n            shareViewPreset: this.shareViewPreset.bind(this),\n            refresh: this.refresh.bind(this),\n            setFilter: this.setFilter.bind(this),\n            deleteViewPreset: this.deleteViewPreset.bind(this),\n            discardViewPresetChanges: this.discardViewPresetChanges.bind(this),\n            getColumns: this.getColumns.bind(this),\n            getRecordDefinitionName: this.getRecordDefinitionName.bind(this),\n            getSelectedRows: this.getSelectedRows.bind(this),\n            getFirstSelectedRow: this.getFirstSelectedRow.bind(this),\n            getSelectedRowCount: this.getSelectedRowCount.bind(this),\n            setSelectedRows: this.onRowsSelectionChange.bind(this),\n            getVisibleRows: this.getVisibleRows.bind(this),\n            saveViewPreset: this.saveViewPreset.bind(this),\n            applyFilters: this.applyFilters.bind(this)\n        };\n        this.filteredVisibleColumns = [];\n        this.getDataCellClassBind = this.getDataCellClass.bind(this);\n        this.gridEvents = {\n            cellClick: (gridRow, columnId) => {\n                const columnWithActions = this.state.columnsWithMetadata.find((column) => column.fieldId === columnId);\n                this.addSelectionFieldOptionNames(gridRow);\n                gridRow = this.expandRowProperties(gridRow);\n                this.state.lastActionRow = gridRow;\n                this.notifyPropertyChanged('clickableRow', gridRow, null);\n                this.executeViewActions(columnWithActions.guid, get(columnWithActions, 'actions'), gridRow).catch(noop);\n            },\n            cellKeyDown: (event, gridRow, columnId) => {\n                if (includes(['Space', 'Enter'], event.code)) {\n                    this.gridEvents.cellClick(gridRow, columnId);\n                    event.preventDefault();\n                }\n            }\n        };\n        this.isFilterBySelectionButtonVisible = false;\n        this.isUserAllowedToDeleteRecords = false;\n        this.openSortByDialog = this.openSortByDialogFn.bind(this);\n        this.rowActionButtons = null;\n        this.rowSelectionChanged = new BehaviorSubject([]);\n        this.selectedFilteredRowsCount = 0;\n        this.shouldDisplayActionButtons = false;\n        this.showCellTooltip = false;\n        this.sortedColumnsByTitle = [];\n        this.state = {\n            actionButtons: [],\n            rowActionButtons: [],\n            lastActionRow: null,\n            associatedRecordId: null,\n            associatedRoleName: null,\n            associatedRecordNodeSide: null,\n            associationDefinitionName: null,\n            bordered: true,\n            cardLayoutWidth: null,\n            columns: [],\n            columnsWithMetadata: [],\n            defaultFilterPreset: null,\n            enableFiltering: false,\n            requiredFilters: 0,\n            getDataForHiddenColumns: true,\n            enableFilterPresets: true,\n            enableRowSelection: RowSelectionMode.Multiple,\n            expandable: false,\n            filterExpression: null,\n            filters: null,\n            filterTagsLimit: null,\n            getData: null,\n            recordDefinition: null,\n            associationDescriptors: [],\n            recordDefinitionName: null,\n            recordGridFilters: [],\n            recordIdField: null,\n            showDataForAllLocales: null,\n            striped: false,\n            styles: null,\n            initialFilters: null,\n            expandGroups: false,\n            advancedFiltering: {\n                activeSavedFilter: null,\n                savedFilters: [],\n                filterOptions: [],\n                selectedFilters: [],\n                recordGridFilterConfigs: null,\n                filterTexts: null,\n                hasLoadedSharedFilterPresets: false,\n                isLoading: false,\n                appliedSharedFilterPreset: null,\n                toolbarTags: [],\n                pendingSelectedFilters: [],\n                selectedCardValues: {}\n            },\n            emptyStateLabelText: this.translateService.instant('com.bmc.arsys.rx.client.empty-state.no-items-to-display.label'),\n            emptyStateWithFilterLabelText: this.translateService.instant('com.bmc.arsys.rx.client.empty-state.no-items-to-display.label'),\n            searchFieldPlaceholderText: this.translateService.instant('com.bmc.arsys.rx.client.common.search.label'),\n            enableColumnSelection: true,\n            namedFilterOptions: null,\n            predefinedFilterPresets: [],\n            viewPresetSelector: null,\n            virtualScroll: true\n        };\n        this.visibleColumns = [];\n        this.cellValueFormatters = {};\n        this.clickableWithHrefColumnActions = {};\n        this.dataLoadContextSubject = new Subject();\n        this.popovers = [];\n        this.userPreferencesChanged$ = new Subject();\n        this.exportSelectedRowText = this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.export-selected-row.label');\n        this.exportSelectedRowsText = this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.export-selected-rows.label');\n        this.pendingFiltersToApply = null;\n        this.getNamedFilterOptions = this.getNamedFilterOptions.bind(this);\n        this.rxRecordDefinitionCacheService.registerConsumer(this.destroyed$);\n    }\n    // Check if user clicked on a cell, filter popover,\n    // filter by selection dialog, or filter by selection dropdown.\n    // If not, then clear the selected cell.\n    onClickOutside(event) {\n        const isClickOutside = !(event.target.closest('.ui-table-tbody') ||\n            event.target.closest('.popover.table-filtering') ||\n            event.target.closest('.rx-filter-by-card-selection-dialog') ||\n            event.target.closest('.rx-filter-by-card-selection-field-dropdown'));\n        if (isClickOutside) {\n            this.clearSelectedCells();\n        }\n    }\n    get isTotalRecordCountKnown() {\n        return !isNull(this.adaptTableConfig.totalRecords);\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.isProgrammaticUse = Boolean(this.pageComponent) || !this.runtimeViewCanvasItemComponent;\n        if (this.isProgrammaticUse) {\n            this.adaptTableConfig.toolbarConfig.export = null;\n        }\n        this.notifyPropertyChanged('api', this.api);\n        this.initializationCompleted$ = this.config.pipe(take(1), map((rxGridConfiguration) => this.rxGridConfiguratorService.getGridConfig(rxGridConfiguration)), tap((gridConfig) => {\n            Object.assign(this.state, gridConfig);\n        }), switchMap(() => {\n            if (this.state.guid) {\n                this.guid = this.state.guid;\n            }\n            const requests$ = [this.initRecordDefinitions()];\n            if (this.guid) {\n                this.userPreferencesChanged$.pipe(debounceTime(1000), takeUntil(this.destroyed$)).subscribe(() => {\n                    this.rxRecordGridUserPreferencesService.saveUserPreferences(this.guid, this.adaptTableConfig, this.state);\n                    this.checkIfViewPresetEdited();\n                });\n                requests$.push(this.rxRecordGridUserPreferencesService.get(this.guid));\n            }\n            return forkJoin(requests$);\n        }), switchMap(() => this.initGrid()), shareReplay(1));\n        this.initializationCompleted$.subscribe();\n        const configChanged$ = combineLatest([\n            this.initializationCompleted$,\n            this.dataLoaded,\n            this.config.pipe(skip(1), debounceTime(250), map((rxGridConfiguration) => this.rxGridConfiguratorService.getGridConfig(rxGridConfiguration)), takeUntil(this.destroyed$))\n        ]).pipe(map(([initializationCompleted, dataLoaded, configChanged]) => configChanged));\n        // updates named list column filter options after additional query expression evaluation\n        configChanged$\n            .pipe(map((config) => differenceBy(config.columns, this.state.columns, 'additionalQueryCriteria')), filter((changedColumns) => changedColumns.length > 0), takeUntil(this.destroyed$))\n            .subscribe((namedListColumns) => {\n            namedListColumns.forEach((column) => {\n                const namedListColumnFilterOption = this.state.advancedFiltering.filterOptions.find((filterOption) => filterOption.id === column.fieldId);\n                namedListColumnFilterOption.data.additionalQueryCriteria = column.additionalQueryCriteria;\n                const existingColumnIndex = this.state.columns.findIndex((existingColumn) => existingColumn.fieldId === column.fieldId);\n                this.state.columns[existingColumnIndex].additionalQueryCriteria = column.additionalQueryCriteria;\n            });\n        });\n        const namedFilterOptionCache = new Map();\n        // updates namedFilterOptions after expression evaluation and triggers data load if expression value is changed\n        configChanged$\n            .pipe(\n        // cut additional configChanged$ emissions that can happen in a moment after first dataLoadContextSubject emission\n        debounceTime(10), map((config) => this.getNamedFilterOptionsState(config.columns)), withLatestFrom(this.dataLoadContextSubject), filter(([namedFilterOptionsMap, dataLoadContext]) => !isEqual(namedFilterOptionsMap, dataLoadContext.namedFilterOptions)), tap(([namedFilterOptionsMap]) => {\n            this.state.namedFilterOptions = namedFilterOptionsMap;\n        }), map(([namedFilterOptionsMap]) => Object.values(namedFilterOptionsMap).reduce((res, options) => res.concat(options), [])), map((namedFilterOptionsList) => {\n            const selectedNamedFilterOptionsGuids = this.state.advancedFiltering.selectedFilters.reduce((res, filterValue) => res.concat(filterValue.value.namedOptions), []);\n            return namedFilterOptionsList.some((option) => {\n                const isOptionCached = Boolean(namedFilterOptionCache.get(option.guid));\n                if (!isOptionCached) {\n                    namedFilterOptionCache.set(option.guid, option);\n                }\n                const isFilterValueChanged = option.filterExpression !== namedFilterOptionCache.get(option.guid).filterExpression;\n                const shouldLoadData = selectedNamedFilterOptionsGuids.includes(option.guid) && (isFilterValueChanged || !isOptionCached);\n                if (isFilterValueChanged) {\n                    namedFilterOptionCache.set(option.guid, option);\n                }\n                return shouldLoadData;\n            });\n        }), filter((v) => v), takeUntil(this.destroyed$))\n            .subscribe(() => {\n            this.loadRowData();\n        });\n        configChanged$\n            .pipe(\n        // cut additional configChanged$ emissions that can happen in a moment after first dataLoadContextSubject emission\n        debounceTime(10), withLatestFrom(this.dataLoadContextSubject), filter(([config, dataLoadContext]) => config.associatedRecordId !== dataLoadContext.associatedRecordId ||\n            config.associatedRoleName !== dataLoadContext.associatedRoleName ||\n            config.filterExpression !== dataLoadContext.filterExpression), tap(([config]) => {\n            Object.assign(this.state, config);\n        }))\n            .subscribe(() => {\n            this.loadRowData();\n        });\n        this.config\n            .pipe(map((cfg) => cfg.viewPresetSelector), distinctUntilChanged(), takeUntil(this.destroyed$))\n            .subscribe((viewPresetSelector) => {\n            this.state.viewPresetSelector = viewPresetSelector;\n        });\n        if (this.isProgrammaticUse) {\n            configChanged$\n                .pipe(map((config) => ({\n                actionButtons: config.actionButtons,\n                rowActionButtons: config.rowActionButtons\n            })), distinctUntilChanged(isEqual))\n                .subscribe(({ actionButtons, rowActionButtons }) => {\n                this.state.actionButtons = actionButtons;\n                this.actionButtons = this.getProgrammaticActionButtons(this.state.actionButtons);\n                this.state.rowActionButtons = rowActionButtons;\n                this.rowActionButtons = this.getProgrammaticActionButtons(this.state.rowActionButtons);\n            });\n            configChanged$\n                .pipe(distinctUntilChanged(isEqual), map((rxGridConfiguration) => this.rxGridConfiguratorService.getGridConfig(rxGridConfiguration)), tap((gridConfig) => {\n                Object.assign(this.state, gridConfig);\n                this.state.advancedFiltering.selectedFilters = [];\n                this.adaptTableConfig.multiSortMeta = [];\n            }), switchMap(() => {\n                if (this.state.guid) {\n                    this.guid = this.state.guid;\n                }\n                const requests$ = [this.initRecordDefinitions()];\n                if (this.guid) {\n                    requests$.push(this.rxRecordGridUserPreferencesService.get(this.guid));\n                }\n                return forkJoin(requests$);\n            }), switchMap(() => this.initGrid()))\n                .subscribe();\n        }\n        this.adaptTableConfig.virtualScroll = this.state.virtualScroll;\n        const toolbarConfig = this.adaptTableConfig.toolbarConfig;\n        toolbarConfig.visibleColumnsMenu = this.state.enableColumnSelection;\n        toolbarConfig.visibleColumnsMenuTemplate = this.visibleColumnsMenuTemplate;\n        toolbarConfig.rightCustomSectionTemplate = this.rightCustomSectionTemplate;\n        toolbarConfig.leftCustomSectionTemplate = this.leftCustomSectionTemplate;\n        toolbarConfig.filterTemplate = this.filterTemplate;\n        this.notifyPropertyChanged('totalRowCount', 0);\n        this.notifyPropertyChanged('selectedRows', []);\n        this.notifyPropertyChanged('selectedRowCount', 0);\n        this.notifyPropertyChanged('fieldValuesByFieldId', {});\n        this.notifyPropertyChanged('firstSelectedRow', null);\n        this.notifyPropertyChanged('queryExpression', '');\n        this.notifyPropertyChanged('lastRefreshTime', '');\n        this.initAdvancedFilterTexts();\n        this.initCustomTexts();\n        this.rxGlobalEventsService.viewActionsCompleted$.pipe(takeUntil(this.destroyed$)).subscribe(() => {\n            if (!isEmpty(this.pendingFiltersToApply)) {\n                this.onAdvancedFiltersChange(this.pendingFiltersToApply);\n            }\n            this.pendingFiltersToApply = null;\n        });\n    }\n    ngAfterViewInit() {\n        // The action buttons are rendered by the record grid component,\n        // hence we have to handle their property changes here.\n        this.actionButtonComponents.changes\n            .pipe(switchMap((buttons) => merge(\n        // Emit \"api\" change because native action button's property change happens later and we cannot catch it.\n        ...buttons.map((button) => of({\n            guid: button.guid,\n            propertyName: 'api',\n            newValue: button.api,\n            oldValue: null\n        })), \n        // Handle other property changes, e.g \"hidden\", or \"disabled\".\n        ...buttons.map((button) => button.propertyChanged.asObservable()))))\n            .subscribe((event) => this.propertyChanged.emit(event));\n    }\n    ngOnDestroy() {\n        super.ngOnDestroy();\n        this.dataLoadContextSubject.complete();\n        this.userPreferencesChanged$.complete();\n    }\n    applyFilterBySelection() {\n        if (isEmpty(this.state.advancedFiltering.selectedCardValues)) {\n            this.applyPendingSelectedFilters();\n        }\n        else {\n            this.cardLayoutOpenedModal = this.adaptModalService.open({\n                title: this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.filter-by-selection.title'),\n                content: RxFilterByCardSelectionDialogComponent,\n                data: {\n                    filterableFields: this.visibleColumns\n                        .filter((column) => {\n                        if (column.filterable) {\n                            const fieldDefinition = this.state.recordDefinition.fieldDefinitionsById[column.field];\n                            const isRequiredBooleanFilter = fieldDefinition.resourceType === RX_RECORD_DEFINITION.dataTypes.boolean.resourceType &&\n                                this.rxFieldDefinitionService.isRequiredField(fieldDefinition);\n                            return !isRequiredBooleanFilter;\n                        }\n                        else {\n                            return false;\n                        }\n                    })\n                        .map((column) => ({\n                        id: column.field,\n                        name: column.header || column.fallbackTitle\n                    }))\n                },\n                customClass: 'rx-filter-by-card-selection-dialog'\n            });\n            this.cardLayoutOpenedModal\n                .then((fieldId) => {\n                this.state.advancedFiltering.pendingSelectedFilters = [\n                    {\n                        filterOptionId: fieldId,\n                        value: this.state.advancedFiltering.selectedCardValues[fieldId]\n                    }\n                ];\n                this.applyPendingSelectedFilters();\n            })\n                .catch(noop);\n        }\n    }\n    buildQueryByAdvancedFilters(advancedFilters) {\n        const queryFilters = advancedFilters.map((filter) => {\n            var _a;\n            let queryFilter = null;\n            const fieldId = filter.filterOptionId;\n            const fieldDefinition = this.state.recordDefinition.fieldDefinitionsById[fieldId];\n            if (fieldDefinition) {\n                const filterConfig = this.state.advancedFiltering.recordGridFilterConfigs[fieldDefinition.resourceType];\n                queryFilter = filterConfig.getQueryFilter(filter, fieldDefinition, fieldId, (_a = this.state.namedFilterOptions[fieldId]) !== null && _a !== void 0 ? _a : []);\n            }\n            return queryFilter;\n        });\n        return this.rxRecordGridFilterService.addQueries(...queryFilters);\n    }\n    downloadAttachment(row, col, fileName, event) {\n        if (event && !includes(['Space', 'Enter'], event.code)) {\n            return;\n        }\n        if (this.rxRecordGridUtilsService.isAssociatedRecordFieldId(col.field)) {\n            const fieldLocator = this.rxRecordGridUtilsService.getFieldLocator(col.field);\n            const associationDescriptor = find(this.state.associationDescriptors, {\n                associationDefinition: { guid: fieldLocator.associationGuid }\n            });\n            this.rxAssociationInstanceDataPageService\n                .post({\n                params: {\n                    pageSize: 1,\n                    startIndex: 0,\n                    associationDefinition: associationDescriptor.associationDefinition.name,\n                    nodeToQuery: fieldLocator.associationNodeSide,\n                    associatedRecordInstanceId: row[RX_RECORD_DEFINITION.coreFieldIds.id],\n                    propertySelection: RX_RECORD_DEFINITION.coreFieldIds.id\n                }\n            })\n                .pipe(take(1))\n                .subscribe((dataPageResult) => {\n                const recordInstanceId = dataPageResult.data[0][RX_RECORD_DEFINITION.coreFieldIds.id];\n                this.rxRecordInstanceService.downloadAttachment(associationDescriptor.recordDefinitionName, Number(fieldLocator.fieldId), recordInstanceId, fileName);\n            });\n        }\n        else {\n            this.rxRecordInstanceService.downloadAttachment(this.state.recordDefinitionName, Number(col.field), row[RX_RECORD_DEFINITION.coreFieldIds.id], fileName);\n        }\n    }\n    executeViewActions(guid, actions, lastActionRow) {\n        if (this.isProgrammaticUse) {\n            const sortedActions = sortBy(actions, 'index');\n            return sortedActions.reduce((promise, action) => {\n                return isFunction(action.name)\n                    ? promise.then((result) => action.name(result, lastActionRow))\n                    : isString(action.name)\n                        ? promise.then((result) => (() => {\n                            this.rxViewActionService.execute(action.name.toString(), action.params).subscribe();\n                        })(result, lastActionRow))\n                        : promise;\n            }, Promise.resolve());\n        }\n        return this.runtimeViewModelApi.triggerViewActions(guid, VIEW_COMPONENT_DEFAULT_EVENT_NAME);\n    }\n    getActionButtonConfig(isHidden, actionButtonConfig) {\n        return isHidden\n            ? actionButtonConfig.pipe(map((config) => (Object.assign(Object.assign({}, config), { cls: 'dropdown-item' }))))\n            : actionButtonConfig;\n    }\n    getCellValue(row, col) {\n        const cellValueFormatter = this.cellValueFormatters[col.field];\n        return cellValueFormatter(row[col.field]);\n    }\n    getDataCellClass() {\n        return this.popovers.length ? 'rx-cell-selection-mode' : '';\n    }\n    getLoadRecordCountLinkText() {\n        return `${this.adaptTableConfig.data.length}+`;\n    }\n    getMultipleRowsSelectedText() {\n        return this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.multiple-rows-selected.label', {\n            count: this.adaptTableConfig.selectedItems.length,\n            total: this.isTotalRecordCountKnown ? this.adaptTableConfig.totalRecords : this.getLoadRecordCountLinkText()\n        });\n    }\n    getMultipleRowsSelectedTextFirstPart() {\n        const text = this.getMultipleRowsSelectedText();\n        return text.substring(0, text.indexOf(this.getLoadRecordCountLinkText()));\n    }\n    getMultipleRowsSelectedTextSecondPart() {\n        const text = this.getMultipleRowsSelectedText();\n        const totalParameterForTranslate = this.getLoadRecordCountLinkText();\n        return text.substring(text.indexOf(totalParameterForTranslate) + totalParameterForTranslate.length);\n    }\n    getNamedFilterOptions(filterOptionConfig) {\n        return this.state.namedFilterOptions[filterOptionConfig.id];\n    }\n    getSharedFilterPresets() {\n        this.state.advancedFiltering.isLoading = true;\n        const onLoadingEnd = () => {\n            this.state.advancedFiltering.isLoading = false;\n            this.state.advancedFiltering.hasLoadedSharedFilterPresets = true;\n        };\n        return this.rxRecordGridSharedFilterPresetsCacheService.getSharedFilterPresets(this.guid).pipe(catchError((err) => {\n            onLoadingEnd();\n            return throwError(err);\n        }), tap(() => {\n            onLoadingEnd();\n        }));\n    }\n    getSortedColumnsByTitle() {\n        return this.adaptTableConfig.columns\n            .slice()\n            .sort((column1, column2) => column1.header.localeCompare(column2.header));\n    }\n    getToolbarTags(filterTags) {\n        const toolbarTags$ = (filterTags || []).map((tag) => {\n            if (tag.data.filterOption && tag.data.filterOption.id !== RX_RECORD_GRID.externalPresetFilterOptionId) {\n                const fieldId = tag.data.filterOption.id;\n                const fieldDefinition = this.state.recordDefinition.fieldDefinitionsById[fieldId];\n                const filterConfig = this.state.advancedFiltering.recordGridFilterConfigs[fieldDefinition.resourceType];\n                if (isFunction(filterConfig.getToolbarTagInfo)) {\n                    return filterConfig\n                        .getToolbarTagInfo({\n                        primaryRecordDefinition: this.state.recordDefinition,\n                        fieldDefinition,\n                        value: tag.data.value,\n                        tag,\n                        fieldId,\n                        namedFilterOptions: this.state.namedFilterOptions[fieldId]\n                    })\n                        .pipe(tap((tagInfo) => (tag.data.value.title = tagInfo.tooltip)), map((tagInfo) => (Object.assign(Object.assign({}, tag), { text: tagInfo.text }))));\n                }\n            }\n            return of(Object.assign({}, tag));\n        });\n        return toolbarTags$.length ? forkJoin(toolbarTags$) : of([]);\n    }\n    getVisibleColumns() {\n        return this.adaptTable.getVisibleColumns(this.adaptTableConfig.columns);\n    }\n    getVisibleRows() {\n        return this.adaptTableConfig.data;\n    }\n    handleHeaderCheckboxToggle(event) {\n        this.setSelectedFilteredRowsCount();\n    }\n    isCellSelected(cellPopover) {\n        return some(this.popovers, (popover) => popover === cellPopover);\n    }\n    loadSavedFilterPresetFilters(savedFilter) {\n        this.state.advancedFiltering.isLoading = true;\n        return this.rxRecordGridFilterService\n            .getAdvancedFilterData(savedFilter.filterData, this.state.recordDefinition.fieldDefinitionsById, this.state.advancedFiltering.recordGridFilterConfigs, this.state.recordDefinition, this.state.advancedFiltering.filterOptions, this.state.associationDescriptors)\n            .pipe(tap((filters) => {\n            // combined fake preset filters with actual filters.\n            savedFilter.filters = (savedFilter.filters || []).concat(filters);\n            this.state.advancedFiltering.isLoading = false;\n        }));\n    }\n    loadTotalRowCount() {\n        this.getTotalRowCount().subscribe((result) => {\n            this.adaptTableConfig.totalRecords = result.totalSize;\n        });\n    }\n    onActiveSavedAdvancedFilterChange(savedFilter) {\n        this.state.advancedFiltering.activeSavedFilter = savedFilter;\n    }\n    onAdvancedFilterExpressionTagsChanged(event) {\n        const hasAllValidTags = event.filterExpressionTags.every((filterTag) => isEmpty(filterTag.data.validationErrors));\n        if (hasAllValidTags) {\n            const oldToolbarTags = this.state.advancedFiltering.toolbarTags;\n            this.updateToolbarTags(event.filterExpressionTags);\n            // workaround: run changeDetector to avoid the ExpressionChangedAfterItHasBeenCheckedError\n            if (oldToolbarTags !== this.state.advancedFiltering.toolbarTags) {\n                this.changeDetector.detectChanges();\n            }\n        }\n    }\n    onAdvancedFiltersChange(filters) {\n        this.state.advancedFiltering.appliedSharedFilterPreset = null;\n        const appliedExternalPresetFilter = this.getAppliedExternalPresetFilter(filters);\n        if (appliedExternalPresetFilter) {\n            const filterPresetData = this.state.advancedFiltering.savedFilters.find((savedFilter) => savedFilter.id === appliedExternalPresetFilter.value);\n            if (this.isSharedFilterPreset(filterPresetData)) {\n                this.state.advancedFiltering.appliedSharedFilterPreset = filterPresetData;\n            }\n            else {\n                if (filterPresetData.appliedSharedFilterPresetGuid) {\n                    const appliedSharedFilterPreset = find(this.state.advancedFiltering.savedFilters, {\n                        id: filterPresetData.appliedSharedFilterPresetGuid\n                    });\n                    this.state.advancedFiltering.appliedSharedFilterPreset = appliedSharedFilterPreset;\n                }\n            }\n        }\n        this.adaptTableConfig.first = 0;\n        this.state.advancedFiltering.selectedFilters = filters;\n        this.adaptTableConfig.isLoadingMoreData = false;\n        this.updateAdaptTableFilters();\n        this.userPreferencesChanged$.next();\n        this.updateToolbarTags(this.state.advancedFiltering.toolbarTags);\n        if (this.state.useExternalFiltering) {\n            this.loadRowData(false);\n        }\n        else {\n            this.adaptTableConfig.data = this.filterRows(this.adaptTableConfig.originalRows);\n        }\n    }\n    onBeforeActiveSavedFilterChange(event) {\n        const savedFilterToSelect = event.savedFilterToSelect;\n        if (savedFilterToSelect) {\n            if (!savedFilterToSelect.filters || !this.areNonExternalPresetFiltersApplied(savedFilterToSelect.filters)) {\n                this.loadSavedFilterPresetFilters(savedFilterToSelect).subscribe();\n            }\n        }\n    }\n    onCellClick(event, columns, rowItem, popover, isCardLayout) {\n        const isLinkClicked = !!event.target.closest('a');\n        if (isLinkClicked) {\n            this.clearSelectedCells();\n        }\n        else {\n            if (this.popovers.length) {\n                if (!(event.metaKey || event.ctrlKey)) {\n                    this.clearSelectedCells();\n                }\n            }\n            if (columns) {\n                this.toggleCellSelection(columns.filter((col) => !col.isRowActionsColumn), rowItem, popover, isCardLayout);\n            }\n        }\n    }\n    onFilterBySelection(event, columns, rowItem) {\n        this.onCellClick(event, columns, rowItem, null, true);\n        this.applyFilterBySelection();\n    }\n    onCellMouseOver($event) {\n        const element = $event.currentTarget;\n        this.showCellTooltip = element.offsetWidth < element.scrollWidth;\n    }\n    onChangedCardLayout(event) {\n        this.adaptTableConfig.cardLayoutColumns = event.cardLayoutColumns;\n        this.clearSelectedCells();\n        if (this.cardLayoutOpenedModal) {\n            this.cardLayoutOpenedModal.reject();\n            this.cardLayoutOpenedModal = null;\n        }\n        if (this.guid) {\n            this.rxRecordGridUserPreferencesService.applyUserPreferencesForColumns(this.adaptTableConfig, this.state.columnsWithMetadata, this.guid);\n        }\n        this.visibleColumns = this.getVisibleColumns();\n        this.adaptTableConfig.virtualRowHeight = this.getVirtualRowHeight();\n    }\n    onColReorder(colReorderEvent) {\n        this.visibleColumns = this.getVisibleColumns();\n        this.userPreferencesChanged$.next();\n    }\n    onColumnResize() {\n        const adaptTableRectData = this.adaptTable.el.nativeElement.getBoundingClientRect();\n        const tableWidth = adaptTableRectData === null || adaptTableRectData === void 0 ? void 0 : adaptTableRectData.width;\n        const availableColumnWidth = this.adaptTable.dataHeaderCells.reduce((accum, cell) => accum + cell.element.nativeElement.offsetWidth, 0);\n        const defaultColumnWidth = `${(availableColumnWidth * 100) / (tableWidth * this.getVisibleColumns().length)}%`;\n        const visibleColumnWidthMap = reduce(this.adaptTable.dataHeaderCells.toArray(), (result, cell) => {\n            const renderingColumnConfig = cell.data.renderingColumn.columnsConfigs[0];\n            let width = null;\n            if (availableColumnWidth) {\n                width =\n                    endsWith(renderingColumnConfig.width, 'px') || this.state.expandable\n                        ? `${cell.element.nativeElement.offsetWidth}px`\n                        : `${round((cell.element.nativeElement.offsetWidth / availableColumnWidth) * 100, 2)}%`;\n            }\n            result[renderingColumnConfig.field] = width;\n            return result;\n        }, {});\n        this.adaptTableConfig.columns.forEach((column) => {\n            var _a;\n            if (!column.hidden) {\n                column.width = (_a = visibleColumnWidthMap[column.field]) !== null && _a !== void 0 ? _a : defaultColumnWidth;\n            }\n        });\n        this.userPreferencesChanged$.next();\n    }\n    onColumnVisibilityChange(isVisible, column) {\n        if (column.hidden === isVisible) {\n            column.hidden = !isVisible;\n            this.userPreferencesChanged$.next();\n            this.visibleColumns = this.getVisibleColumns();\n            this.adaptTableConfig.virtualRowHeight = this.getVirtualRowHeight();\n            if (isVisible) {\n                if (!this.lastPropertySelection.includes(column.field)) {\n                    this.loadRowData();\n                }\n            }\n            else {\n                // #ADAPT-8052 workaround.\n                this.avoidSystemColumnExpansion();\n            }\n        }\n    }\n    onCreateNewFilterPreset(event) {\n        const newFilter = {\n            filters: event.filters,\n            name: event.name,\n            id: this.rxGuidService.generate()\n        };\n        const appliedSharedPreset = this.getAppliedExternalPresetFilter(event.filters);\n        if (appliedSharedPreset) {\n            newFilter.appliedSharedFilterPresetGuid = appliedSharedPreset.value;\n        }\n        this.state.advancedFiltering.savedFilters.push(newFilter);\n        this.state.advancedFiltering.activeSavedFilter = newFilter;\n        this.userPreferencesChanged$.next();\n    }\n    onDeleteSavedFilterPreset(filterPresetToDelete) {\n        remove(this.state.advancedFiltering.savedFilters, (filterPreset) => filterPreset.id === filterPresetToDelete.id);\n        this.userPreferencesChanged$.next();\n    }\n    onEditSavedFilterClick(event) {\n        let editCustomTagsFn = null;\n        if (event.savedFilter.appliedSharedFilterPresetGuid) {\n            editCustomTagsFn = (tags) => tags;\n        }\n        if (!event.savedFilter.filters || !this.areNonExternalPresetFiltersApplied(event.savedFilter.filters)) {\n            event.preventDefault();\n            this.loadSavedFilterPresetFilters(event.savedFilter).subscribe(() => {\n                event.initSavedFilterEditing(editCustomTagsFn && editCustomTagsFn.bind(this));\n            });\n        }\n        else if (event.savedFilter.appliedSharedFilterPresetGuid) {\n            event.preventDefault();\n            event.initSavedFilterEditing(editCustomTagsFn.bind(this));\n        }\n    }\n    onExport(options) {\n        if (this.isExportInProgress) {\n            this.rxNotificationService.addInfoMessage(this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.export-in-progress.message'));\n            return;\n        }\n        const visibleColumns = this.getVisibleColumns().filter((column) => !column.isRowActionsColumn);\n        if (!visibleColumns.length) {\n            this.rxNotificationService.addWarningMessage(this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.no-data-to-export.message'));\n            return;\n        }\n        const columnHeaders = visibleColumns.map((column) => column.header || column.fallbackTitle);\n        let rows$;\n        if (options.selectionOnly) {\n            rows$ = of(intersectionBy(this.adaptTableConfig.data, this.getSelectedRows(), RowDataItemIdFieldName));\n        }\n        else {\n            const headers = this.getHeaders();\n            const params = this.prepareQueryParamsAndQueryArgs(false);\n            params.pageSize = -1;\n            params.propertySelection = visibleColumns.map((column) => column.field);\n            delete params.cursor;\n            this.isExportInProgress = true;\n            rows$ = this.getDataPageService()\n                .post({ params, headers })\n                .pipe(map((dataPage) => dataPage.data), finalize(() => {\n                this.isExportInProgress = false;\n            }));\n        }\n        rows$.subscribe((rows) => {\n            const cellValues = this.getCellValues(rows, visibleColumns);\n            this.exportDataToCsv(cellValues, columnHeaders);\n        });\n    }\n    onLazyLoad(event) {\n        if (this.state.useExternalFiltering) {\n            if (event.loadMore || event.eventSource !== AdaptTableEventSource.LoadMore) {\n                this.adaptTableConfig.multiSortMeta = event.multiSortMeta;\n                this.adaptTableConfig.filters = event.filters;\n                this.adaptTableConfig.isLoadingMoreData = event.loadMore;\n                this.loadRowData(event.loadMore);\n            }\n        }\n        else {\n            if (event.eventSource === AdaptTableEventSource.FilterChange) {\n                this.adaptTableConfig.filters = event.filters;\n                this.adaptTableConfig.data = this.filterRows(this.adaptTableConfig.originalRows);\n            }\n        }\n    }\n    onRefreshClick() {\n        if (!this.state.useExternalFiltering) {\n            this.loadRowData(false);\n        }\n        const searchText = this.adaptTable.toolbarComponent.getQuickFilterInputValue();\n        // this will trigger onLazyLoad event\n        this.adaptTable.setQuickFilter(searchText);\n    }\n    onRemoveFilterTag(event) {\n        this.state.advancedFiltering.activeSavedFilter = null;\n        const selectedFilters = this.state.advancedFiltering.selectedFilters.slice();\n        const filterOptionId = event.removedTag.data.filterOption.id;\n        const index = findIndex(selectedFilters, (selectedFilter) => selectedFilter.filterOptionId === filterOptionId);\n        selectedFilters.splice(index, 1);\n        this.onAdvancedFiltersChange(selectedFilters);\n        this.setToolbarTags(event.newTags);\n    }\n    onRowsSelectionChange(rowDataItems) {\n        const selectedItems = rowDataItems ? castArray(rowDataItems) : [];\n        const oldSelectedItems = this.adaptTableConfig.selectedItems;\n        this.shouldDisplayActionButtons = !isEmpty(selectedItems) && !isEmpty(this.actionButtons);\n        this.expandSelectedRowsProperties(selectedItems);\n        this.adaptTableConfig.selectedItems = selectedItems;\n        this.adaptTableConfig.toolbarConfig = Object.assign(Object.assign(Object.assign({}, this.adaptTableConfig.toolbarConfig), { quickFilter: !this.shouldDisplayActionButtons, leftCustomSectionFixed: this.shouldDisplayActionButtons, rightCustomSectionFixed: this.shouldDisplayActionButtons, leftCustomSection: this.shouldDisplayActionButtons, filter: !this.shouldDisplayActionButtons }), this.state.toolbarConfig);\n        this.adaptTableConfig.texts = Object.assign(Object.assign({}, this.adaptTableConfig.texts), { exportSelected: this.getExportSelectedText(selectedItems) });\n        this.addSelectionFieldOptionNames(selectedItems[0]);\n        this.notifyPropertyChanged('selectedRows', selectedItems, oldSelectedItems);\n        this.notifyPropertyChanged('selectedRowCount', selectedItems.length, oldSelectedItems.length);\n        this.notifyPropertyChanged('firstSelectedRow', selectedItems[0], oldSelectedItems[0]);\n        this.notifyPropertyChanged('fieldValuesByFieldId', this.prepareFieldsValueByFieldIdData(selectedItems), {});\n        this.rowSelectionChanged.next(selectedItems);\n    }\n    onSearchColumns() {\n        this.filteredVisibleColumns = this.sortedColumnsByTitle.filter((column) => this.rxStringService.caseInsensitiveSearch(column.header, this.columnSearchText));\n    }\n    onSort(sortEvent) {\n        this.applySorting(sortEvent.multisortmeta);\n    }\n    onSortCards(multiSortMeta) {\n        this.applySorting(multiSortMeta);\n        this.loadRowData();\n    }\n    onRowActionOpen(row) {\n        var _a;\n        (_a = last(this.popovers)) === null || _a === void 0 ? void 0 : _a.close();\n        this.addSelectionFieldOptionNames(row);\n        const gridRow = this.expandRowProperties(row);\n        this.state.lastActionRow = gridRow;\n        this.notifyPropertyChanged('clickableRow', gridRow, null);\n    }\n    onUpdateSavedFilterPreset(event) {\n        const savedFilter = find(this.state.advancedFiltering.savedFilters, (filterPreset) => filterPreset.id === event.oldSavedFilter.id);\n        if (savedFilter) {\n            if (savedFilter.appliedSharedFilterPresetGuid &&\n                !find(event.newSavedFilter.filters, (filter) => filter.filterOptionId === RX_RECORD_GRID.externalPresetFilterOptionId)) {\n                delete savedFilter.appliedSharedFilterPresetGuid;\n            }\n            Object.assign(savedFilter, event.newSavedFilter);\n            this.userPreferencesChanged$.next();\n        }\n    }\n    openRowDetails(columns, rowDataItem) {\n        var _a;\n        (_a = last(this.popovers)) === null || _a === void 0 ? void 0 : _a.close();\n        this.cardLayoutOpenedModal = this.adaptModalService.open({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.cards.record-details.dialog.title'),\n            content: this.cardLayoutRowDetailsTemplate,\n            data: {\n                columns,\n                rowDataItem\n            }\n        });\n        this.cardLayoutOpenedModal.catch(noop);\n    }\n    setToolbarTags(toolbarTags) {\n        this.state.advancedFiltering.toolbarTags = toolbarTags;\n        this.updateToolbarItems();\n    }\n    trackByColumnField(index, column) {\n        return column.field;\n    }\n    updateToolbarTags(filterTags) {\n        this.getToolbarTags(filterTags).subscribe((toolbarTags) => {\n            this.setToolbarTags(toolbarTags);\n        });\n    }\n    addAssociationFieldsToRecordDefinition(columnsWithMetadata) {\n        const fieldDefinitionsById = this.state.recordDefinition.fieldDefinitionsById;\n        columnsWithMetadata.forEach((columnWithMetadata) => {\n            if (!fieldDefinitionsById[columnWithMetadata.fieldId]) {\n                this.rxRecordDefinitionService.addFieldDefinitionToMap(columnWithMetadata.fieldDefinition, fieldDefinitionsById, columnWithMetadata.fieldId);\n            }\n        });\n        this.state.recordDefinition.fieldDefinitionsById = Object.assign(Object.assign({}, fieldDefinitionsById), this.rxObjectUtilsService.expandProperties(fieldDefinitionsById));\n        this.notifyPropertyChanged('recordDefinition', this.state.recordDefinition);\n    }\n    areNonExternalPresetFiltersApplied(filters) {\n        return filters.some((filter) => filter.filterOptionId !== RX_RECORD_GRID.externalPresetFilterOptionId);\n    }\n    getAppliedExternalPresetFilter(filters) {\n        return filters.find((filter) => filter.filterOptionId === RX_RECORD_GRID.externalPresetFilterOptionId);\n    }\n    prepareFieldsValueByFieldIdData(selectedData) {\n        const columnIds = map$1(this.adaptTableConfig.columns, 'field');\n        return reduce(selectedData, (result, row, index) => {\n            columnIds.forEach(function (id) {\n                result[id] = result[id] || [];\n                result[id][index] = row[id];\n            });\n            return result;\n        }, {});\n    }\n    addSelectionFieldOptionNames(row) {\n        if (row) {\n            row.selectionFieldOptionNamesById = transform(this.selectionFieldOptionLabelsByFieldId, (result, value, fieldId) => {\n                result[fieldId] = value[row[fieldId]];\n            }, {});\n        }\n    }\n    applyFilters(filters, mode) {\n        this.initializationCompleted$\n            .pipe(switchMap(() => this.rxRecordGridFilterService.getAdvancedFilterData(filters, this.state.recordDefinition.fieldDefinitionsById, this.state.advancedFiltering.recordGridFilterConfigs, this.state.recordDefinition, this.state.advancedFiltering.filterOptions, this.state.associationDescriptors)), take(1), takeUntil(this.destroyed$))\n            .subscribe((filtersToApply) => {\n            let currentFilters = !isEmpty(this.pendingFiltersToApply)\n                ? this.pendingFiltersToApply\n                : cloneDeep(this.state.advancedFiltering.selectedFilters);\n            let resultingFilters;\n            switch (mode) {\n                case ApplyGridFilterMode.Begin:\n                    if (this.pendingFiltersToApply) {\n                        resultingFilters = this.pendingFiltersToApply;\n                    }\n                    else {\n                        this.pendingFiltersToApply = [];\n                    }\n                    break;\n                case ApplyGridFilterMode.Append:\n                    // filters that will not be affected\n                    const remainingFilters = currentFilters.filter((currentFilter) => !filtersToApply.find((filter) => filter.filterOptionId === currentFilter.filterOptionId));\n                    resultingFilters = [...remainingFilters, ...filtersToApply];\n                    break;\n                case ApplyGridFilterMode.Remove:\n                    resultingFilters = currentFilters.reduce((result, currentFilter) => {\n                        const filterToApply = filtersToApply.find((filter) => filter.filterOptionId === currentFilter.filterOptionId);\n                        if (filterToApply) {\n                            if (this.isRangeFilter(currentFilter.filterOptionId)) {\n                                if (isEqual(currentFilter.value.filterValue, filterToApply.value.filterValue)) {\n                                    currentFilter.value.filterValue = [null, null];\n                                }\n                            }\n                            else {\n                                currentFilter.value.filterValue = currentFilter.value.filterValue.filter((val) => !filterToApply.value.filterValue.includes(val));\n                            }\n                            currentFilter.value.namedOptions = currentFilter.value.namedOptions.filter((val) => !filterToApply.value.namedOptions.includes(val));\n                            if (!RxRecordGridAdvancedFilterValue.isEmptyWithRange(currentFilter.value)) {\n                                result.push(currentFilter);\n                            }\n                        }\n                        else {\n                            result.push(currentFilter);\n                        }\n                        return result;\n                    }, []);\n                    break;\n                case ApplyGridFilterMode.Merge:\n                    resultingFilters = [...currentFilters, ...filtersToApply].reduce((result, filter) => {\n                        const existingFilter = result.find((f) => f.filterOptionId === filter.filterOptionId);\n                        if (!existingFilter) {\n                            result.push(filter);\n                        }\n                        else {\n                            if (this.isRangeFilter(filter.filterOptionId)) {\n                                existingFilter.value.filterValue = [...filter.value.filterValue];\n                            }\n                            else {\n                                existingFilter.value.filterValue = uniq(existingFilter.value.filterValue.concat(filter.value.filterValue));\n                            }\n                            existingFilter.value.namedOptions = uniq(existingFilter.value.namedOptions.concat(filter.value.namedOptions));\n                        }\n                        return result;\n                    }, []);\n                    break;\n                case ApplyGridFilterMode.Overwrite:\n                    this.state.advancedFiltering.appliedSharedFilterPreset = null;\n                    this.state.advancedFiltering.activeSavedFilter = null;\n                    resultingFilters = filtersToApply;\n                    break;\n                case ApplyGridFilterMode.Clear:\n                    this.state.advancedFiltering.appliedSharedFilterPreset = null;\n                    this.state.advancedFiltering.activeSavedFilter = null;\n                    resultingFilters = [];\n                    if (this.pendingFiltersToApply) {\n                        this.state.advancedFiltering.selectedFilters = [];\n                    }\n                    break;\n                case ApplyGridFilterMode.End:\n                    if (this.pendingFiltersToApply) {\n                        resultingFilters = this.pendingFiltersToApply;\n                        this.pendingFiltersToApply = null;\n                    }\n                    break;\n            }\n            if (this.pendingFiltersToApply) {\n                this.pendingFiltersToApply = resultingFilters || [];\n            }\n            else if (resultingFilters) {\n                this.onAdvancedFiltersChange(resultingFilters);\n            }\n        });\n    }\n    applyPendingSelectedFilters() {\n        const existingFilters = cloneDeep(this.state.advancedFiltering.selectedFilters);\n        forEach(this.state.advancedFiltering.pendingSelectedFilters, (pendingSelectedFilter) => {\n            const existingFilter = find(existingFilters, { filterOptionId: pendingSelectedFilter.filterOptionId });\n            const fieldDefinition = this.state.recordDefinition.fieldDefinitionsById[pendingSelectedFilter.filterOptionId];\n            let filterValues = [];\n            switch (fieldDefinition.resourceType) {\n                case RX_RECORD_DEFINITION.dataTypes.dateOnly.resourceType:\n                case RX_RECORD_DEFINITION.dataTypes.dateTime.resourceType: {\n                    filterValues = pendingSelectedFilter.value.map((filterValue) => moment(filterValue));\n                    filterValues = [moment.min(filterValues), moment.max(filterValues)];\n                    break;\n                }\n                case RX_RECORD_DEFINITION.dataTypes.timeOnly.resourceType: {\n                    filterValues = pendingSelectedFilter.value.map((filterValue) => moment(filterValue, 'LTS'));\n                    filterValues = [moment.min(filterValues), moment.max(filterValues)];\n                    break;\n                }\n                case RX_RECORD_DEFINITION.dataTypes.integer.resourceType:\n                case RX_RECORD_DEFINITION.dataTypes.decimal.resourceType:\n                case RX_RECORD_DEFINITION.dataTypes.real.resourceType: {\n                    filterValues = [min(pendingSelectedFilter.value), max(pendingSelectedFilter.value)];\n                    break;\n                }\n                case RX_RECORD_DEFINITION.dataTypes.boolean.resourceType: {\n                    filterValues = pendingSelectedFilter.value.map((filterValue) => filterValue === '$NULL$' ? 'blank' : filterValue === 1);\n                    break;\n                }\n                default: {\n                    filterValues = uniq(pendingSelectedFilter.value.map((filterValue) => String(filterValue)));\n                    break;\n                }\n            }\n            if (existingFilter) {\n                existingFilter.value.filterValue = filterValues;\n            }\n            else {\n                pendingSelectedFilter.value = new RxRecordGridAdvancedFilterValue(filterValues);\n                existingFilters.push(pendingSelectedFilter);\n            }\n        });\n        this.onAdvancedFiltersChange(existingFilters);\n        this.clearSelectedCells();\n    }\n    applySorting(multiSortMeta) {\n        this.adaptTableConfig.multiSortMeta = multiSortMeta;\n        this.userPreferencesChanged$.next();\n        if (!this.state.useExternalFiltering) {\n            this.adaptTableConfig.data = this.filterRows(this.adaptTableConfig.data);\n        }\n    }\n    applyViewPreset(viewPresetSelectorGuid, viewPresetGuid, sharedViewPresets) {\n        var _a;\n        if (viewPresetSelectorGuid === ((_a = this.state.viewPresetSelector) === null || _a === void 0 ? void 0 : _a.getGuid())) {\n            return this.applyViewPresetInner(viewPresetGuid, sharedViewPresets);\n        }\n        return EMPTY;\n    }\n    shareViewPreset(viewPresetSelectorGuid) {\n        var _a;\n        if (viewPresetSelectorGuid === ((_a = this.state.viewPresetSelector) === null || _a === void 0 ? void 0 : _a.getGuid())) {\n            return of(this.rxRecordGridUserPreferencesService.getSharedViewPresetData());\n        }\n        return of(null);\n    }\n    applyViewPresetInner(viewPresetGuid, sharedViewPresets) {\n        return this.initializationCompleted$.pipe(switchMap(() => {\n            const viewPresetData = sharedViewPresets && sharedViewPresets[this.guid];\n            if (viewPresetData) {\n                return this.rxRecordGridUserPreferencesService.applySharedViewPreset(this.state, this.adaptTableConfig, viewPresetGuid, viewPresetData);\n            }\n            else {\n                return this.rxRecordGridUserPreferencesService.applyViewPreset(this.state, this.adaptTableConfig, viewPresetGuid);\n            }\n        }), take(1), tap(() => {\n            this.loadRowData();\n            this.userPreferencesChanged$.next();\n            this.checkIfViewPresetEdited();\n        }));\n    }\n    areUserFiltersApplied() {\n        return (this.isSearchApplied() ||\n            Boolean(this.state.advancedFiltering.appliedSharedFilterPreset) ||\n            !isEmpty(this.state.advancedFiltering.selectedFilters));\n    }\n    isSearchApplied() {\n        const searchText = get(this.adaptTableConfig.filters, 'global.value', '').toString().trim();\n        return Boolean(searchText);\n    }\n    checkIfViewPresetEdited() {\n        if (this.state.viewPresetSelector && this.rxRecordGridUserPreferencesService.isCurrentViewPresetEdited()) {\n            this.state.viewPresetSelector.markAppliedViewPresetAsEdited();\n        }\n    }\n    clearSelectedCells() {\n        var _a;\n        (_a = last(this.popovers)) === null || _a === void 0 ? void 0 : _a.close();\n        this.popovers = [];\n        this.state.advancedFiltering.pendingSelectedFilters = [];\n        this.state.advancedFiltering.selectedCardValues = {};\n    }\n    compareRows(firstRow, secondRow) {\n        const sortMetas = this.adaptTableConfig.multiSortMeta;\n        return reduce(sortMetas, (sortRank, sortMeta) => {\n            let firstValue;\n            let secondValue;\n            if (firstRow.groupField && secondRow.groupField) {\n                firstValue = firstRow.groupField === sortMeta.field ? firstRow.groupValue : null;\n                secondValue = secondRow.groupField === sortMeta.field ? secondRow.groupValue : null;\n            }\n            else {\n                firstValue = firstRow[sortMeta.field];\n                secondValue = secondRow[sortMeta.field];\n            }\n            // TODO: this is a naive implementation that needs to be improved to\n            // take into account the type of data.\n            // For example, this implementation will sort dates as strings.\n            if (!isNaN(firstValue) && !isNaN(secondValue)) {\n                const firstValueNum = Number(firstValue);\n                const secondValueNum = Number(secondValue);\n                sortRank =\n                    sortRank || sortMeta.order * (firstValueNum < secondValueNum ? -1 : firstValueNum > secondValueNum ? 1 : 0);\n            }\n            else {\n                // toString will convert null to '' to allow comparison with strings using localeCompare\n                sortRank = sortRank || sortMeta.order * toString(firstValue).localeCompare(toString(secondValue));\n            }\n            return sortRank;\n        }, 0);\n    }\n    createCsvExportFile(csvData) {\n        const byteOrderMark = '\\uFEFF';\n        // Prepend byte order mark to indicate that csvData may contain unicode characters\n        const file = new Blob([`${byteOrderMark}${csvData}`], { type: 'text/csv;charset=utf-8' });\n        this.ngZone.runOutsideAngular(() => {\n            saveAs(file, `${this.getExportFileName()}.csv`);\n        });\n    }\n    deleteViewPreset(viewPresetGuid) {\n        this.rxRecordGridUserPreferencesService.deleteViewPreset(viewPresetGuid);\n        this.userPreferencesChanged$.next();\n        return EMPTY;\n    }\n    discardViewPresetChanges(viewPresetGuid, sharedViewPresets) {\n        if (this.rxRecordGridUserPreferencesService.isExistingViewPreset(viewPresetGuid)) {\n            this.rxRecordGridUserPreferencesService.discardViewPresetChanges(viewPresetGuid);\n            return this.applyViewPresetInner(viewPresetGuid, sharedViewPresets);\n        }\n        else {\n            return EMPTY;\n        }\n    }\n    enrichRowEntity(gridRowDataItem) {\n        let hrefParams = {};\n        if (!isEmpty(this.clickableWithHrefColumnActions)) {\n            this.addSelectionFieldOptionNames(gridRowDataItem);\n            const expandedGridRowData = this.expandRowProperties(gridRowDataItem);\n            set(this.clickableWithHrefActionExpressionEvaluationData, `view.components.${this.guid}.clickableRow`, expandedGridRowData);\n            hrefParams = reduce(this.clickableWithHrefColumnActions, (result, gridActions, columnId) => {\n                const gridAction = this.findEnabledGridAction(gridActions);\n                if ((gridAction === null || gridAction === void 0 ? void 0 : gridAction.name) === RX_VIEW_ACTION.viewActionNames.openView) {\n                    result[`${columnId}$ROUTER_LINK$`] = this.rxViewActionUtilsService.generateViewUrl(gridAction.viewDefinitionName);\n                    result[`${columnId}$QUERY_PARAMS$`] = this.evaluateViewInputParameters(gridAction.viewParams);\n                }\n                else if ((gridAction === null || gridAction === void 0 ? void 0 : gridAction.name) === RX_VIEW_ACTION.viewActionNames.launchUrl) {\n                    result[`${columnId}$LAUNCH_URL$`] = this.rxExpressionEvaluatorService.tryEvaluate(gridAction.url, this.clickableWithHrefActionExpressionEvaluationData);\n                    result[`${columnId}$TARGET$`] = RX_LAUNCH_BEHAVIOR[gridAction.launchBehavior].target;\n                }\n                else {\n                    result[`${columnId}$LAUNCH_URL$`] = null;\n                    result[`${columnId}$ROUTER_LINK$`] = null;\n                }\n                return result;\n            }, {});\n        }\n        return Object.assign({}, gridRowDataItem, {\n            [RowDataItemIdFieldName]: gridRowDataItem[this.adaptTableConfig.primaryKey]\n        }, hrefParams);\n    }\n    expandRowProperties(rowDataItem) {\n        return Object.assign(Object.assign({}, rowDataItem), this.rxObjectUtilsService.expandProperties(rowDataItem));\n    }\n    expandSelectedRowsProperties(rowDataItems) {\n        forEach(rowDataItems, (rowDataItem, index) => {\n            rowDataItems[index] = this.expandRowProperties(rowDataItem);\n        });\n    }\n    exportDataToCsv(cellValues, columnHeaders) {\n        const csvSeparator = '\",\"';\n        const newLineSymbol = '\\n';\n        const columnHeadersString = `\"${columnHeaders.join(csvSeparator)}\"${newLineSymbol}`;\n        const rowsString = cellValues.map((row) => `\"${row.join(csvSeparator)}\"${newLineSymbol}`).join('');\n        const csvData = `${columnHeadersString}${rowsString}`;\n        this.createCsvExportFile(csvData);\n    }\n    evaluateViewInputParameters(viewInputParams) {\n        const evaluatedViewInputParams = {};\n        forEach(viewInputParams, (expression, parameterName) => {\n            const evaluatedExpression = this.rxExpressionEvaluatorService.tryEvaluate(expression, this.clickableWithHrefActionExpressionEvaluationData);\n            evaluatedViewInputParams[parameterName] = evaluatedExpression || '';\n        });\n        return evaluatedViewInputParams;\n    }\n    filterRows(rows) {\n        const searchText = get(this.adaptTableConfig.filters, 'global.value', '').toString().trim();\n        let filteredRows = cloneDeep(rows);\n        if (searchText) {\n            const visibleColumns = this.getVisibleColumns();\n            filteredRows = filteredRows.filter((row) => some(visibleColumns, (column) => {\n                if (row.groupField) {\n                    if (this.rxStringService.caseInsensitiveSearch(row.groupValue, searchText)) {\n                        return true;\n                    }\n                    else {\n                        row.items = this.getFilteredItems(row.items, visibleColumns, searchText);\n                        return row.items.length;\n                    }\n                }\n                else {\n                    return this.rxStringService.caseInsensitiveSearch(this.getCellValue(row, column), searchText);\n                }\n            }));\n        }\n        if (!isEmpty(this.state.advancedFiltering.selectedFilters)) {\n            filteredRows = this.rxRecordGridFilterService.filterRows(filteredRows, this.state.advancedFiltering.selectedFilters, this.state.recordDefinition, this.state.advancedFiltering.recordGridFilterConfigs);\n        }\n        if (this.adaptTableConfig.multiSortMeta) {\n            if (this.state.expandGroups) {\n                this.sortRows(filteredRows);\n            }\n            else {\n                filteredRows.sort((firstRow, secondRow) => this.compareRows(firstRow, secondRow));\n            }\n        }\n        if (this.state.expandGroups) {\n            const getGroupItemsCount = (rowsWithGroups) => {\n                const groups = rowsWithGroups.filter((row) => row.items);\n                let count = rowsWithGroups.length - groups.length;\n                groups === null || groups === void 0 ? void 0 : groups.forEach((group) => (count += getGroupItemsCount(group.items)));\n                return count;\n            };\n            this.adaptTableConfig.totalRecords = getGroupItemsCount(filteredRows);\n        }\n        else {\n            this.adaptTableConfig.totalRecords = filteredRows.length;\n        }\n        return filteredRows;\n    }\n    findEnabledGridAction(gridActions) {\n        return gridActions.find((gridAction) => {\n            const conditionExpression = gridAction['$condition$'];\n            const condition = this.rxExpressionEvaluatorService.tryEvaluate(conditionExpression, this.clickableWithHrefActionExpressionEvaluationData);\n            return condition !== false;\n        });\n    }\n    getAdvancedFilterOptions() {\n        return reduce(this.state.recordDefinition.fieldDefinitionsById, (filterOptions, fieldDefinition, field) => {\n            var _a;\n            // Due to nested structure need to check if it is a fieldDefinition\n            if (!isUndefined(fieldDefinition.id)) {\n                const gridColumn = this.adaptTableConfig.columns.find((column) => column.field === field);\n                const isHidden = !gridColumn || !gridColumn.filterable;\n                const filterConfig = this.state.advancedFiltering.recordGridFilterConfigs[fieldDefinition.resourceType];\n                const additionalQueryCriteria = gridColumn === null || gridColumn === void 0 ? void 0 : gridColumn.additionalQueryCriteria;\n                if (filterConfig) {\n                    filterOptions.push(this.rxRecordGridAdvancedFilteringService.getAdvancedFilterOption(field, gridColumn ? gridColumn.header || gridColumn.fallbackTitle : fieldDefinition.name, fieldDefinition, filterConfig, isHidden, {\n                        optionalBooleanFilter: this.fieldsProvider.optionalBooleanFilter,\n                        requiredBooleanFilter: this.fieldsProvider.requiredBooleanFilter,\n                        inputsForStringWithTypeAheadTemplate: this.fieldsProvider.inputsForStringWithTypeAheadTemplate,\n                        inputsForStringTypeTemplate: this.fieldsProvider.inputsForStringTypeTemplate,\n                        inputsForNumberTypeTemplate: this.fieldsProvider.inputsForNumberTypeTemplate,\n                        inputsForTimeTypeTemplate: this.fieldsProvider.inputsForTimeTypeTemplate,\n                        inputsForDateTypeTemplate: this.fieldsProvider.inputsForDateTypeTemplate,\n                        inputsForDatetimeTypeTemplate: this.fieldsProvider.inputsForDatetimeTypeTemplate,\n                        inputsForSelectionTypeTemplate: this.fieldsProvider.inputsForSelectionTypeTemplate\n                    }, null, this.state.namedFilterOptions[field], (_a = gridColumn === null || gridColumn === void 0 ? void 0 : gridColumn.typeaheadKeystrokeCount) !== null && _a !== void 0 ? _a : null, (gridColumn === null || gridColumn === void 0 ? void 0 : gridColumn.filterable) ? additionalQueryCriteria : null));\n                }\n            }\n            return filterOptions;\n        }, []).sort((filterOption1, filterOption2) => filterOption1.label.localeCompare(filterOption2.label));\n    }\n    getAssociationDescriptors() {\n        const recordDefinitionName = this.getRecordDefinitionName();\n        return recordDefinitionName\n            ? this.rxRecordGridUtilsService.getAssociationDescriptors(recordDefinitionName)\n            : of([]);\n    }\n    getBaseDataPageParams() {\n        const state = this.state;\n        const params = {\n            recorddefinition: state.recordDefinitionName\n        };\n        if (Boolean(state.associationDefinitionName)) {\n            Object.assign(params, {\n                associatedRecordInstanceId: state.associatedRecordId,\n                associationDefinition: state.associationDefinitionName,\n                nodeToQuery: state.associatedRecordNodeSide,\n                recordDefinitionToQuery: state.recordDefinitionName\n            });\n        }\n        if (state.associatedRoleName) {\n            params.roleName = state.associatedRoleName;\n        }\n        return params;\n    }\n    getCellValueFormatter(column) {\n        const fieldDefinition = column.fieldDefinition;\n        let cellValueFormatter = (value) => value;\n        switch (fieldDefinition.resourceType) {\n            case RX_RECORD_DEFINITION.dataTypes.boolean.resourceType: {\n                cellValueFormatter = (value) => this.rxBooleanPipe.transform(value);\n                break;\n            }\n            case RX_RECORD_DEFINITION.dataTypes.selection.resourceType: {\n                // column.fieldId should be used here because fieldId uniquely identifies the field,\n                // while fieldDefinition.id may be the same for core and associated fields\n                cellValueFormatter = (value) => this.selectionFieldOptionLabelsByFieldId[column.fieldId][value];\n                break;\n            }\n            case RX_RECORD_DEFINITION.dataTypes.dateTime.resourceType: {\n                cellValueFormatter = (value) => this.datePipe.transform(value, 'medium');\n                break;\n            }\n            case RX_RECORD_DEFINITION.dataTypes.dateOnly.resourceType: {\n                cellValueFormatter = (value) => this.datePipe.transform(value);\n                break;\n            }\n            case RX_RECORD_DEFINITION.dataTypes.timeOnly.resourceType: {\n                cellValueFormatter = (value) => value ? this.datePipe.transform(new Date(`2000-01-01T${value}`), 'mediumTime') : value;\n                break;\n            }\n            case RX_RECORD_DEFINITION.dataTypes.attachment.resourceType: {\n                cellValueFormatter = (value) => {\n                    const attachmentName = get(value, 'name');\n                    return isString(attachmentName) ? attachmentName : value;\n                };\n                break;\n            }\n            case RX_RECORD_DEFINITION.dataTypes.decimal.resourceType:\n            case RX_RECORD_DEFINITION.dataTypes.real.resourceType: {\n                const precision = fieldDefinition.precision;\n                const digitsInfo = isNil(precision) || precision === -1 ? null : `1.${precision}-${precision}`;\n                cellValueFormatter = (value) => this.decimalPipe.transform(value, digitsInfo);\n                break;\n            }\n            case RX_RECORD_DEFINITION.dataTypes.integer.resourceType: {\n                cellValueFormatter = (value) => this.decimalPipe.transform(value);\n                break;\n            }\n        }\n        return cellValueFormatter;\n    }\n    getCellValues(rows, visibleColumns) {\n        return rows.map((row) => visibleColumns.map((visibleColumnConfig) => this.getCellValue(row, visibleColumnConfig)));\n    }\n    getColumns() {\n        return this.adaptTableConfig.columns.map((column) => {\n            const columnMetadata = find(this.state.columnsWithMetadata, {\n                fieldId: column.field\n            });\n            return {\n                field: column.field,\n                header: column.header,\n                hidden: getValueOrFunc(column.hidden),\n                fieldDefinition: columnMetadata.fieldDefinition\n            };\n        });\n    }\n    getData(startIndex) {\n        return this.getDataBase(startIndex, false).pipe(tap((dataPage) => {\n            this.cursor = dataPage.cursor || undefined;\n        }));\n    }\n    getDataBase(startIndex, onlyForTotalCount) {\n        var _a, _b;\n        let data$;\n        const params = this.prepareQueryParamsAndQueryArgs(onlyForTotalCount);\n        if ((_a = params.queryExpression) === null || _a === void 0 ? void 0 : _a.includes(RX_EXPRESSION_EVALUATOR.operands.undefined)) {\n            this.rxLogService.debug(`Query expression contains undefined operands: ${params.queryExpression}`);\n            return this.rxRecordInstanceDataPageService.getEmptyDataPage();\n        }\n        if (this.state.enableFiltering &&\n            !this.isSearchApplied() &&\n            this.state.requiredFilters > this.state.advancedFiltering.selectedFilters.length) {\n            this.rxNotificationService.addWarningMessage(this.getFiltersRequiredMessage(this.state.requiredFilters), this.translateService.instant('com.bmc.arsys.rx.client.common.alert.label'));\n            return this.rxRecordInstanceDataPageService.getEmptyDataPage();\n        }\n        if (isNumber(startIndex)) {\n            params.startIndex = startIndex;\n        }\n        if (startIndex === 0) {\n            delete params.cursor;\n        }\n        this.lastQueryExpression = (_b = params.queryExpression) !== null && _b !== void 0 ? _b : '';\n        if (!onlyForTotalCount) {\n            this.lastPropertySelection = params.propertySelection;\n        }\n        if (this.state.getData) {\n            data$ = this.state.getData(Object.assign(Object.assign({}, params), { searchText: get(this.adaptTableConfig.filters, 'global.value', '').toString().trim() }));\n        }\n        else if (this.hasAssociationAndEmptyRecordId()) {\n            data$ = this.rxAssociationInstanceDataPageService.getEmptyDataPage();\n        }\n        else {\n            const dataPageService = this.getDataPageService();\n            data$ = dataPageService.post({ params, headers: this.getHeaders() });\n        }\n        return data$;\n    }\n    getDataCellStyle(column) {\n        let textAlign = '';\n        switch (column.alignment) {\n            case RX_RECORD_GRID.columnAlignment.left:\n                textAlign = 'left';\n                break;\n            case RX_RECORD_GRID.columnAlignment.right:\n                textAlign = 'right';\n                break;\n            case RX_RECORD_GRID.columnAlignment.center:\n                textAlign = 'center';\n                break;\n            default:\n                const rightAlignmentTypes = [\n                    RX_RECORD_DEFINITION.dataTypes.integer.resourceType,\n                    RX_RECORD_DEFINITION.dataTypes.decimal.resourceType,\n                    RX_RECORD_DEFINITION.dataTypes.real.resourceType\n                ];\n                if (column.fieldDefinition.resourceType.search(rightAlignmentTypes.join('|')) !== -1) {\n                    textAlign = 'right';\n                }\n                break;\n        }\n        return {\n            'text-align': textAlign\n        };\n    }\n    getDataPageService() {\n        return Boolean(this.state.associationDefinitionName)\n            ? this.rxAssociationInstanceDataPageService\n            : this.rxRecordInstanceDataPageService;\n    }\n    getExportFileName() {\n        const date = this.datePipe.transform(new Date(), 'yyyy-MM-dd');\n        return `${date} Grid Data`;\n    }\n    getFilteredItems(items, visibleColumns, searchText) {\n        return items.filter((item) => {\n            let result;\n            if (item.groupField) {\n                if (this.rxStringService.caseInsensitiveSearch(item.groupValue, searchText)) {\n                    result = true;\n                }\n                else {\n                    item.items = this.getFilteredItems(item.items, visibleColumns, searchText);\n                    result = item.items.length;\n                }\n            }\n            else {\n                result = some(visibleColumns, (visibleColumn) => this.rxStringService.caseInsensitiveSearch(this.getCellValue(item, visibleColumn), searchText));\n            }\n            return result;\n        });\n    }\n    getFirstSelectedRow() {\n        return get(this.adaptTableConfig.selectedItems, '0', null);\n    }\n    getGridColumnDefinitions(columnsWithMetadata) {\n        const columnsConfig = [];\n        columnsWithMetadata\n            .slice()\n            .sort((a, b) => a.index - b.index)\n            .map((column) => {\n            let sortable;\n            const sortConfig = this.rxRecordGridConfigUtilsService.parseConfigString(column.sortable);\n            const testId = this.rxRecordGridUtilsService.getTestIdForGridColumn(column.fieldId);\n            if (isObject(sortConfig)) {\n                sortable = true;\n                if (this.adaptTableConfig.multiSortMeta) {\n                    this.adaptTableConfig.multiSortMeta.splice(sortConfig.priority, 0, {\n                        field: column.fieldId,\n                        order: this.rxRecordGridConfigUtilsService.getColumnSortOrder(sortConfig.direction)\n                    });\n                }\n                else {\n                    this.adaptTableConfig.multiSortMeta = [\n                        {\n                            field: column.fieldId,\n                            order: this.rxRecordGridConfigUtilsService.getColumnSortOrder(sortConfig.direction)\n                        }\n                    ];\n                }\n            }\n            else {\n                sortable = sortConfig;\n            }\n            const isColumnWidthInPixels = endsWith(column.width, 'px');\n            const columnWidth = this.adaptTableConfig.columnResizeMode === ResizeMode.Expand && !isColumnWidthInPixels ? null : column.width;\n            const columnMinWidth = (isColumnWidthInPixels && parseInt(columnWidth) < RX_RECORD_GRID.defaultColumnMinWidth ? columnWidth : null);\n            if (column.fieldId === RX_RECORD_GRID.actionsColumnFieldDefinition.id) {\n                columnsConfig.push({\n                    field: column.fieldId,\n                    header: column.title,\n                    fallbackTitle: column.fallbackTitle,\n                    width: columnWidth,\n                    minWidth: columnMinWidth,\n                    hidden: !column.visible,\n                    cellTemplate: this.rowActionButtonsTemplate,\n                    editTemplate: null,\n                    filterTemplate: null,\n                    headerTitleTemplate: null,\n                    cellTooltip: null,\n                    headerTooltip: null,\n                    headerClass: null,\n                    filterable: column.filterable,\n                    searchable: column.searchable,\n                    sortable,\n                    editable: false,\n                    customTemplate: this.rowActionButtonsTemplate,\n                    clickable: false,\n                    dataCellClass: 'rx-row-action-cell',\n                    isRowActionsColumn: true,\n                    testId\n                });\n            }\n            else {\n                columnsConfig.push({\n                    field: column.fieldId,\n                    header: column.title,\n                    fallbackTitle: column.fallbackTitle,\n                    width: columnWidth,\n                    minWidth: columnMinWidth,\n                    hidden: !column.visible,\n                    cellTemplate: this.cellTemplate,\n                    editTemplate: null,\n                    filterTemplate: null,\n                    headerTitleTemplate: null,\n                    cellTooltip: (params) => {\n                        return (this.showCellTooltip && this.getCellValue(params.dataItem, params.column)) || null;\n                    },\n                    headerTooltip: column.headerTooltip,\n                    dataCellClass: this.getDataCellClass.bind(this),\n                    dataCellStyle: this.getDataCellStyle(column),\n                    headerClass: null,\n                    sortable,\n                    editable: null,\n                    filterable: column.filterable,\n                    searchable: column.searchable,\n                    filterName: null,\n                    filterParams: null,\n                    clickable: column.clickable,\n                    filterType: column.filterType,\n                    isDownloadableAttachment: this.isDownloadableAttachmentColumn(column),\n                    clickableWithHref: column.clickableWithHref,\n                    customTemplate: column.cellTemplate,\n                    wrapText: column.wrapText,\n                    referenced: column.referenced,\n                    cellDisplayProperties: column.cellDisplayProperties,\n                    typeaheadKeystrokeCount: column.typeaheadKeystrokeCount,\n                    additionalQueryCriteria: column.additionalQueryCriteria,\n                    testId\n                });\n                this.cellValueFormatters[column.fieldId] = this.getCellValueFormatter(column);\n            }\n        });\n        return columnsConfig;\n    }\n    getGridData(loadMore) {\n        const onRequestEnd = () => {\n            this.adaptTableConfig.isLoadingData = false;\n            this.adaptTableConfig.isLoadingMoreData = false;\n        };\n        this.adaptTableConfig.isLoadingData = true;\n        return this.getData(loadMore ? this.adaptTableConfig.data.length : 0).pipe(tap((res) => {\n            onRequestEnd();\n            const mappedData = res.data.map(this.enrichRowEntity.bind(this));\n            if (this.state.useExternalFiltering) {\n                if (loadMore) {\n                    this.adaptTableConfig.data = this.adaptTableConfig.data.concat(mappedData);\n                    if (mappedData.length === 0 || mappedData.length < this.adaptTableConfig.rows) {\n                        this.adaptTableConfig.totalRecords = this.adaptTableConfig.data.length;\n                    }\n                }\n                else {\n                    this.adaptTableConfig.data = mappedData;\n                    if (mappedData.length < this.adaptTableConfig.rows) {\n                        this.adaptTableConfig.totalRecords = mappedData.length;\n                    }\n                    else {\n                        this.adaptTableConfig.totalRecords = null;\n                    }\n                }\n            }\n            else {\n                this.adaptTableConfig.originalRows = mappedData;\n                this.adaptTableConfig.data = this.filterRows(this.adaptTableConfig.originalRows);\n            }\n            if (this.state.expandGroups) {\n                this.adaptTableConfig.expandedGroupsKeys = {};\n                const expandGroupsDeep = (rows) => {\n                    rows.forEach((row) => {\n                        if (row.items) {\n                            const expandedGroupKey = this.adaptTableConfig.expandedGroupsKeys[row.groupField];\n                            if (expandedGroupKey) {\n                                expandedGroupKey[row.groupValue] = true;\n                            }\n                            else {\n                                this.adaptTableConfig.expandedGroupsKeys[row.groupField] = { [row.groupValue]: true };\n                            }\n                            expandGroupsDeep(row.items);\n                        }\n                    });\n                };\n                expandGroupsDeep(this.adaptTableConfig.data);\n            }\n            this.adaptTableConfig.toolbarConfig.rightCustomSection = Boolean(this.state.enableRowSelection && this.adaptTableConfig.data.length);\n            this.notifyPropertyChanged('totalRowCount', this.adaptTableConfig.data.length);\n            this.notifyPropertyChanged('queryExpression', this.lastQueryExpression);\n            this.notifyPropertyChanged('lastRefreshTime', new Date().toISOString());\n            if (!loadMore) {\n                this.onRowsSelectionChange([]);\n                this.scrollToTop();\n            }\n            this.setSelectedFilteredRowsCount();\n            this.dataLoaded.emit();\n            this.dataLoadContextSubject.next({\n                associatedRecordId: this.state.associatedRecordId,\n                associatedRoleName: this.state.associatedRoleName,\n                filterExpression: this.state.filterExpression,\n                namedFilterOptions: this.state.namedFilterOptions\n            });\n            this.changeDetector.markForCheck();\n        }), catchError((err) => {\n            onRequestEnd();\n            return throwError(err);\n        }));\n    }\n    getHeaders() {\n        return {\n            'Should-Query-All-Locales': this.state.showDataForAllLocales ? 'true' : []\n        };\n    }\n    getNamedFilterOptionsState(columns) {\n        return columns.reduce((result, col) => {\n            if (col.predefinedFilterPresets) {\n                result[col.fieldId] = col.predefinedFilterPresets.sort((a, b) => a.index - b.index);\n            }\n            return result;\n        }, {});\n    }\n    getProgrammaticActionButtons(recordGridActionButtons) {\n        return recordGridActionButtons.map((actionButton) => {\n            let actionButtonConfig;\n            if (isFunction(actionButton.disabled) || isFunction(actionButton.hidden)) {\n                actionButtonConfig = this.rowSelectionChanged.pipe(map((selectedItems) => {\n                    return Object.assign(Object.assign({}, actionButton), { disabled: isFunction(actionButton.disabled)\n                            ? actionButton.disabled(selectedItems)\n                            : actionButton.disabled, hidden: isFunction(actionButton.hidden) ? actionButton.hidden(selectedItems) : actionButton.hidden });\n                }));\n            }\n            else {\n                actionButtonConfig = of(actionButton);\n            }\n            return {\n                guid: actionButton.guid,\n                config: actionButtonConfig,\n                runtimeViewModelApi: {\n                    triggerViewActions: (guid, viewActionTriggerEventName) => this.executeViewActions(actionButton.guid, get(actionButton, 'actions'), this.state.lastActionRow)\n                },\n                factory: null,\n                outlets: null\n            };\n        });\n    }\n    getRecordDefinition() {\n        if (this.state.getRecordDefinition) {\n            return this.state\n                .getRecordDefinition()\n                .pipe(tap((recordDefinition) => this.rxRecordDefinitionService.applyLocalization(recordDefinition)));\n        }\n        return this.rxRecordDefinitionCacheService.getRecordDefinition(this.state.recordDefinitionName);\n    }\n    getRecordDefinitionName() {\n        return this.state.recordDefinitionName;\n    }\n    getSelectedRowCount() {\n        return this.adaptTableConfig.selectedItems.length;\n    }\n    getSelectedRows(inSortOrder = false) {\n        if (inSortOrder) {\n            // returns selected rows in order of sorting applied to grid\n            return intersectionBy(this.adaptTableConfig.data, this.adaptTableConfig.selectedItems, RowDataItemIdFieldName);\n        }\n        else {\n            // returns selected rows in order of selection\n            return this.adaptTableConfig.selectedItems;\n        }\n    }\n    getTotalRowCount() {\n        return this.getDataBase(null, true);\n    }\n    getVirtualRowHeight() {\n        var _a;\n        if (!((_a = this.adaptTableConfig.cardLayoutColumns) === null || _a === void 0 ? void 0 : _a.length)) {\n            return RX_RECORD_GRID.defaultRowHeight;\n        }\n        const singleRowHeight = 32;\n        const padding = 3;\n        return singleRowHeight * this.visibleColumns.length + 2 * padding;\n    }\n    hasAssociationAndEmptyRecordId() {\n        return Boolean(this.state.associationDefinitionName) && !this.state.associatedRecordId;\n    }\n    initActionButtons() {\n        if (this.isProgrammaticUse) {\n            this.actionButtons = this.getProgrammaticActionButtons(this.state.actionButtons);\n        }\n        else {\n            this.actionButtons = get(this.runtimeViewCanvasItemComponent.getChildren(RX_VIEW_DEFINITION.defaultOutletName), '[0].children');\n        }\n    }\n    initAdvancedFilterTexts() {\n        this.state.advancedFiltering.filterTexts = {\n            initialDropdownAnchorLabel: this.translateService.instant('com.bmc.arsys.rx.client.common.filter-data.label')\n        };\n    }\n    initCustomTexts() {\n        this.adaptTableConfig.texts = {\n            searchPlaceholder: this.state.searchFieldPlaceholderText,\n            emptyStateLabelText: this.state.emptyStateLabelText,\n            emptyStateWithFilterLabelText: this.state.emptyStateWithFilterLabelText,\n            exportEntireDocument: this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.export-all-rows.label'),\n            exportSelected: this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.export-selected-rows.label')\n        };\n    }\n    initGrid() {\n        this.state.guid = this.guid;\n        return forkJoin([\n            this.rxGridConfiguratorService.getColumnsWithMetadata(this.guid, this.state.columns, this.state.recordDefinition),\n            this.guid && this.state.enableFiltering ? this.getSharedFilterPresets() : of(null)\n        ]).pipe(switchMap(([columnsWithMetadata, sharedFilterPresets]) => {\n            this.state.columnsWithMetadata = columnsWithMetadata;\n            this.state.namedFilterOptions = this.getNamedFilterOptionsState(columnsWithMetadata);\n            this.isUserAllowedToDeleteRecords = this.state.recordDefinition\n                ? this.state.recordDefinition.allowNonAdminToDeleteRecordInstances !== false ||\n                    this.rxCurrentUserService.isAdministrator()\n                : false;\n            this.notifyPropertyChanged('isUserAllowedToDeleteRecords', this.isUserAllowedToDeleteRecords);\n            this.addAssociationFieldsToRecordDefinition(columnsWithMetadata);\n            // this has to be set prior to calling getGridColumnDefinitions\n            this.selectionFieldOptionLabelsByFieldId =\n                this.rxGridConfiguratorService.getSelectionFieldOptionLabelsByFieldId(this.state.columns, this.state.recordDefinition);\n            this.adaptTableConfig.columnResizeMode = this.state.expandable ? ResizeMode.Expand : ResizeMode.Fit;\n            this.adaptTableConfig.columns = this.getGridColumnDefinitions(columnsWithMetadata);\n            this.state.advancedFiltering.recordGridFilterConfigs = this.rxRecordGridFilterConfigService.getConfigs();\n            this.state.advancedFiltering.filterOptions = this.getAdvancedFilterOptions();\n            this.state.advancedFiltering.filterOptions.push({\n                id: RX_RECORD_GRID.externalPresetFilterOptionId,\n                label: RX_RECORD_GRID.externalPresetFilterOptionId,\n                dataType: AdvancedFilterOptionDataType.custom,\n                isHidden: true,\n                customConfig: {\n                    getTagText: (value) => { var _a; return (_a = this.state.advancedFiltering.savedFilters.find((savedFilter) => savedFilter.id === value)) === null || _a === void 0 ? void 0 : _a.name; }\n                }\n            });\n            this.adaptTableConfig.rowSelectionMode = this.state.enableRowSelection;\n            this.adaptTableConfig.primaryKey = this.state.recordIdField;\n            this.adaptTableConfig.bordered = this.state.bordered;\n            this.adaptTableConfig.striped = this.state.striped;\n            this.adaptTableConfig.toolbarConfig.rightCustomSection = Boolean(this.state.enableRowSelection && this.adaptTableConfig.data.length);\n            this.state.initialFilters = this.rxRecordGridFilterHelperService.getRecordGridFilterDataFromPredefinedFilter(this.state.filters, this.state.recordGridFilters);\n            this.clickableWithHrefColumnActions = reduce(columnsWithMetadata, (result, column) => {\n                if (column.clickableWithHref) {\n                    result[column.fieldId] = column.actions;\n                }\n                return result;\n            }, {});\n            if (!isEmpty(this.clickableWithHrefColumnActions)) {\n                this.clickableWithHrefActionExpressionEvaluationData = {\n                    view: {\n                        components: {\n                            [this.guid]: {\n                                recordDefinition: this.state.recordDefinition\n                            }\n                        },\n                        inputParams: this.runtimeViewModelApi.getViewInputParameters()\n                    }\n                };\n            }\n            if (this.guid) {\n                return this.rxRecordGridUserPreferencesService.applyUserPreferences(this.adaptTableConfig, this.state.columnsWithMetadata, this.state, sharedFilterPresets);\n            }\n            return of(null);\n        }), tap(() => {\n            this.sortedColumnsByTitle = this.getSortedColumnsByTitle();\n            this.filteredVisibleColumns = this.sortedColumnsByTitle;\n            this.visibleColumns = this.getVisibleColumns();\n            this.isFilterBySelectionButtonVisible = this.state.enableFiltering && some(this.visibleColumns, 'filterable');\n            this.initActionButtons();\n            this.initRowActionButtons();\n            if (!this.state.viewPresetSelector) {\n                // #ADAPT-8052 workaround.\n                this.avoidSystemColumnExpansion();\n                this.loadRowData();\n            }\n            this.updateToolbarTags(this.state.advancedFiltering.toolbarTags);\n            this.updateAdaptTableFilters();\n        }));\n    }\n    // #ADAPT-8052 workaround. System column width changes when removing a column from the grid.\n    // If all columns have custom width in percents, proportionally increase the width of all columns.\n    // If all columns have custom width in pixels, change the largest column width property to auto-expandable (width = null).\n    // If % and px are both used, change the largest column width in % to auto-expandable (width= null).\n    // If Actions column has customized width, avoid width change when possible. Preserving width in pixels is in priority.\n    // Note:\n    // Those column width modifications applied during initial rendering of the grid are not saved to User preferences,\n    // because it is not the user intention but a workaround.\n    avoidSystemColumnExpansion() {\n        if (this.adaptTableConfig.cardLayoutColumns) {\n            this.avoidSystemCardColumnExpansion();\n            return;\n        }\n        const columnsWithWidthInPixels = [];\n        const columnsWithWidthInPercent = [];\n        const visibleActionsColumn = find(this.adaptTableConfig.columns, {\n            field: RX_RECORD_GRID.actionsColumnFieldDefinition.id,\n            hidden: false\n        });\n        let maxWidthInPixels = 0;\n        let maxWidthInPercent = 0;\n        let totalWidthInPercent = 0;\n        const isEveryVisibleColumnWithCustomWidth = this.adaptTableConfig.columns.every((column) => {\n            if (!column.hidden) {\n                if (isNil(column.width)) {\n                    return false;\n                }\n                const columnWidth = parseFloat(column.width);\n                if (column.width.endsWith('px')) {\n                    columnsWithWidthInPixels.push(column);\n                    if (column !== visibleActionsColumn) {\n                        maxWidthInPixels = Math.max(maxWidthInPixels, columnWidth);\n                    }\n                }\n                else {\n                    columnsWithWidthInPercent.push(column);\n                    totalWidthInPercent += columnWidth;\n                    if (column !== visibleActionsColumn) {\n                        maxWidthInPercent = Math.max(maxWidthInPercent, columnWidth);\n                    }\n                }\n            }\n            return true;\n        });\n        if (isEveryVisibleColumnWithCustomWidth && totalWidthInPercent < 100) {\n            const hasColumnsWithWidthInPercent = Boolean(columnsWithWidthInPercent.length);\n            const hasColumnsWithWidthInPixels = Boolean(columnsWithWidthInPixels.length);\n            if (hasColumnsWithWidthInPercent && !hasColumnsWithWidthInPixels) {\n                columnsWithWidthInPercent.forEach((column) => {\n                    column.width = `${((parseFloat(column.width) / totalWidthInPercent) * 100).toFixed(4)}%`;\n                });\n            }\n            if (!hasColumnsWithWidthInPercent && hasColumnsWithWidthInPixels) {\n                if (columnsWithWidthInPixels.length === 1 && visibleActionsColumn) {\n                    visibleActionsColumn.width = null;\n                    visibleActionsColumn.minWidth = null;\n                }\n                else {\n                    findLast(columnsWithWidthInPixels, (column) => {\n                        if (parseInt(column.width) === maxWidthInPixels && column !== visibleActionsColumn) {\n                            column.width = null;\n                            column.minWidth = null;\n                            return true;\n                        }\n                        else {\n                            return false;\n                        }\n                    });\n                }\n            }\n            if (hasColumnsWithWidthInPercent && hasColumnsWithWidthInPixels) {\n                if (columnsWithWidthInPercent.length === 1 && visibleActionsColumn) {\n                    visibleActionsColumn.width = null;\n                    visibleActionsColumn.minWidth = null;\n                }\n                else {\n                    findLast(columnsWithWidthInPercent, (column) => {\n                        if (parseFloat(column.width) === maxWidthInPercent && column !== visibleActionsColumn) {\n                            column.width = null;\n                            return true;\n                        }\n                        else {\n                            return false;\n                        }\n                    });\n                }\n            }\n        }\n    }\n    // This is a workaround for Adapt defect on System column (checkbox)\n    // when the user is using an Ios device and the grid is in card mode.\n    // It seems setting the columns in % does not work correctly, in the case of\n    // card display we have only two columns with 35% and 65%, however\n    // the Adapt grid tries to display the cards around 50% each.\n    // For example for an Iphone 14 Pro on Xcode simulator the grid total size is 359px:\n    // -> 96.31px for the system column (instead of 33px),\n    // -> 130.34px for the second column,\n    // -> 131.34px for the third column,\n    // In order to \"fix\" the issue, the user has to \"tap\" on the separator\n    // between columns 2 and 3, which then seems to \"redraw\" the grid.\n    // Workaround:\n    // Setting the values of both columns in px instead of % solves the problem.\n    // For now, we only apply this workaround on ios platform.\n    avoidSystemCardColumnExpansion() {\n        if (!this.adaptDeviceDetectionService.iosPlatform()) {\n            return;\n        }\n        const adaptSystemColumnWidth = 33;\n        const availableColumnWidth = this.adaptTable.dataHeaderCells.reduce((accum, cell) => accum + cell.element.nativeElement.offsetWidth, 0) -\n            adaptSystemColumnWidth;\n        this.adaptTableConfig.cardLayoutColumns.forEach((column) => {\n            column.width = `${((parseFloat(column.width) * availableColumnWidth) / 100).toFixed(4)}px`;\n        });\n    }\n    initRecordDefinitions() {\n        this.setRecordDefinition(null);\n        this.state.associationDescriptors = [];\n        const hasAssociatedRecordFieldColumns = some(this.state.columns, (column) => this.rxRecordGridUtilsService.isAssociatedRecordFieldId(column.fieldId));\n        return forkJoin([\n            this.getRecordDefinition(),\n            hasAssociatedRecordFieldColumns ? this.getAssociationDescriptors() : of([])\n        ]).pipe(tap(([recordDefinition, associationDescriptors]) => {\n            this.setRecordDefinition(recordDefinition);\n            this.state.associationDescriptors = associationDescriptors;\n        }), map(([recordDefinition]) => recordDefinition));\n    }\n    initRowActionButtons() {\n        if (this.isProgrammaticUse) {\n            this.rowActionButtons = this.getProgrammaticActionButtons(this.state.rowActionButtons);\n        }\n        else {\n            this.rowActionButtons = get(this.runtimeViewCanvasItemComponent.getChildren(RX_RECORD_GRID.rowActionsOutletName), '[0].children');\n        }\n    }\n    isDownloadableAttachmentColumn(column) {\n        const recordDefinitionType = get(this.state.recordDefinition, 'resourceType');\n        const fieldDefinitionType = get(column, 'fieldDefinition.resourceType');\n        return (!this.isProgrammaticUse &&\n            (recordDefinitionType === RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType ||\n                recordDefinitionType === RX_RECORD_DEFINITION.recordDefinitionTypes.join.recordDefinitionType) &&\n            fieldDefinitionType === RX_RECORD_DEFINITION.dataTypes.attachment.resourceType);\n    }\n    isRangeFilter(fieldId) {\n        const rangeFields = [\n            RX_RECORD_DEFINITION.dataTypes.dateOnly.resourceType,\n            RX_RECORD_DEFINITION.dataTypes.dateTime.resourceType,\n            RX_RECORD_DEFINITION.dataTypes.timeOnly.resourceType,\n            RX_RECORD_DEFINITION.dataTypes.integer.resourceType,\n            RX_RECORD_DEFINITION.dataTypes.decimal.resourceType,\n            RX_RECORD_DEFINITION.dataTypes.real.resourceType\n        ];\n        const fieldDefinition = this.state.recordDefinition.fieldDefinitionsById[fieldId];\n        return includes(rangeFields, fieldDefinition.resourceType);\n    }\n    isSharedFilterPreset(savedFilter) {\n        return Boolean(savedFilter.filterExpression);\n    }\n    loadRowData(loadMore) {\n        this.getGridData(loadMore).subscribe();\n    }\n    openSortByDialogFn(config) {\n        this.cardLayoutOpenedModal = this.adaptModalService.open(config);\n        return this.cardLayoutOpenedModal;\n    }\n    prepareQueryParamsAndQueryArgs(onlyForTotalCount) {\n        const primaryKey = this.adaptTableConfig.primaryKey;\n        const queryParams = Object.assign(Object.assign({}, this.getBaseDataPageParams()), { shouldIncludeTotalSize: onlyForTotalCount, pageSize: onlyForTotalCount ? 0 : this.adaptTableConfig.rows, startIndex: onlyForTotalCount ? 0 : this.adaptTableConfig.first });\n        if (this.cursor && !onlyForTotalCount) {\n            queryParams.cursor = this.cursor;\n        }\n        if (!onlyForTotalCount) {\n            queryParams.propertySelection = chain(this.adaptTableConfig.columns\n                .filter((col) => !col.isRowActionsColumn && (this.state.getDataForHiddenColumns || !col.hidden || col.referenced))\n                .map((col) => col.field))\n                .union([primaryKey])\n                .value();\n        }\n        const multiSortMeta = this.adaptTableConfig.multiSortMeta;\n        if (!onlyForTotalCount && multiSortMeta && multiSortMeta.length) {\n            queryParams.sortBy = multiSortMeta.map((metaItem) => metaItem.order === SortOrder.Asc ? `${metaItem.field}` : `-${metaItem.field}`);\n        }\n        const searchText = get(this.adaptTableConfig.filters, 'global.value', '').toString().trim();\n        const textSearchQuery = this.rxRecordGridFilterService.generateTextFilterQuery(searchText, this.adaptTableConfig.columns);\n        const appliedSharedFilterPreset = this.state.advancedFiltering.appliedSharedFilterPreset;\n        const sharedFilterPresetExpression = appliedSharedFilterPreset && appliedSharedFilterPreset.filterExpression\n            ? `(${appliedSharedFilterPreset.filterExpression})`\n            : null;\n        const resultingQuery = this.rxRecordGridFilterService.addQueries(this.rxRecordGridFilterService.getQueryFromRecordGridFilterData(this.state.initialFilters, this.state.recordDefinition.fieldDefinitionsById), this.buildQueryByAdvancedFilters(this.state.advancedFiltering.selectedFilters), textSearchQuery, this.state.filterExpression, sharedFilterPresetExpression);\n        if (resultingQuery) {\n            queryParams.queryExpression = resultingQuery;\n        }\n        return queryParams;\n    }\n    refresh() {\n        return this.initializationCompleted$.pipe(switchMap(() => this.getGridData()), switchMapTo(EMPTY));\n    }\n    saveViewPreset(viewPresetGuid) {\n        this.rxRecordGridUserPreferencesService.saveViewPreset(viewPresetGuid);\n        this.userPreferencesChanged$.next();\n        return EMPTY;\n    }\n    scrollToTop() {\n        if (this.adaptTable) {\n            const scrollableBodyElement = this.adaptTable.getScrollableBodyElement();\n            if (scrollableBodyElement) {\n                scrollableBodyElement.scrollTop = 0;\n            }\n        }\n    }\n    setFilter(newFilter) {\n        this.state.advancedFiltering.selectedFilters = newFilter;\n    }\n    setRecordDefinition(recordDefinition) {\n        this.state.recordDefinition = cloneDeep(recordDefinition);\n        if (recordDefinition) {\n            this.state.recordDefinition.fieldDefinitionsById = this.rxRecordDefinitionService.buildFieldDefinitionsByIdMap(this.state.recordDefinition);\n        }\n        this.notifyPropertyChanged('recordDefinition', this.state.recordDefinition);\n    }\n    setSelectedFilteredRowsCount() {\n        this.selectedFilteredRowsCount = this.adaptTable.hasFilter() ? this.getSelectedRows().length : 0;\n    }\n    sortRows(rows) {\n        rows.sort((firstRow, secondRow) => this.compareRows(firstRow, secondRow));\n        forEach(rows, (row) => {\n            var _a;\n            if ((_a = row.items) === null || _a === void 0 ? void 0 : _a.length) {\n                this.sortRows(row.items);\n            }\n        });\n    }\n    toggleCellSelection(columns, rowItem, popover, isCardLayout) {\n        if (this.state.enableFiltering) {\n            if (!isCardLayout) {\n                const column = columns[0];\n                if (column.filterable) {\n                    const existingPendingFilter = find(this.state.advancedFiltering.pendingSelectedFilters, {\n                        filterOptionId: column.field\n                    });\n                    const filterValue = !rowItem[column.field] && rowItem[column.field] !== 0 ? '$NULL$' : rowItem[column.field];\n                    const fieldDefinition = this.state.recordDefinition.fieldDefinitionsById[column.field];\n                    const isRangeFilter = this.isRangeFilter(column.field);\n                    const isRequiredBooleanFilter = fieldDefinition.resourceType === RX_RECORD_DEFINITION.dataTypes.boolean.resourceType &&\n                        this.rxFieldDefinitionService.isRequiredField(fieldDefinition);\n                    const isFilterAvailable = !((isRangeFilter && existingPendingFilter && existingPendingFilter.value.length === 2) ||\n                        (isRequiredBooleanFilter && existingPendingFilter) ||\n                        (filterValue === '$NULL$' && (isRangeFilter || isRequiredBooleanFilter)));\n                    if (existingPendingFilter) {\n                        if (this.isCellSelected(popover)) {\n                            const elementIndex = findIndex(existingPendingFilter.value, filterValue);\n                            existingPendingFilter.value.splice(elementIndex, 1);\n                            this.trackPopoverAnchor(popover);\n                            if (!existingPendingFilter.value.length) {\n                                remove(this.state.advancedFiltering.pendingSelectedFilters, existingPendingFilter);\n                            }\n                        }\n                        else if (isFilterAvailable) {\n                            existingPendingFilter.value.push(filterValue);\n                            this.trackPopoverAnchor(popover);\n                        }\n                    }\n                    else if (isFilterAvailable) {\n                        const selectedFilter = {\n                            filterOptionId: column.field,\n                            value: [filterValue]\n                        };\n                        this.state.advancedFiltering.pendingSelectedFilters.push(selectedFilter);\n                        this.trackPopoverAnchor(popover);\n                    }\n                }\n            }\n            else {\n                const filterableColumns = columns.filter((column) => {\n                    const fieldDefinition = this.state.recordDefinition.fieldDefinitionsById[column.field];\n                    const isRequiredBooleanFilter = fieldDefinition.resourceType === RX_RECORD_DEFINITION.dataTypes.boolean.resourceType &&\n                        this.rxFieldDefinitionService.isRequiredField(fieldDefinition);\n                    return column.filterable && !isRequiredBooleanFilter;\n                });\n                const isCellSelected = this.isCellSelected(popover);\n                forEach(filterableColumns, (column) => {\n                    if (column.filterable) {\n                        const filterValue = !rowItem[column.field] && rowItem[column.field] !== 0 ? '$NULL$' : rowItem[column.field];\n                        if (!this.state.advancedFiltering.selectedCardValues[column.field]) {\n                            this.state.advancedFiltering.selectedCardValues[column.field] = [filterValue];\n                        }\n                        else if (isCellSelected) {\n                            remove(this.state.advancedFiltering.selectedCardValues[column.field], filterValue);\n                        }\n                        else {\n                            this.state.advancedFiltering.selectedCardValues[column.field].push(filterValue);\n                        }\n                    }\n                });\n            }\n        }\n    }\n    trackPopoverAnchor(cellPopover) {\n        var _a, _b;\n        if (this.isCellSelected(cellPopover)) {\n            const isCurrentPopoverLast = cellPopover === last(this.popovers);\n            remove(this.popovers, cellPopover);\n            if (isCurrentPopoverLast) {\n                cellPopover.close();\n                (_a = last(this.popovers)) === null || _a === void 0 ? void 0 : _a.open();\n            }\n        }\n        else {\n            (_b = last(this.popovers)) === null || _b === void 0 ? void 0 : _b.close();\n            this.popovers.push(cellPopover);\n            cellPopover.open();\n        }\n    }\n    updateAdaptTableFilters() {\n        const globalFilter = this.adaptTable.filters.global;\n        this.adaptTable.filters = this.areUserFiltersApplied() ? { dummyFilter: {} } : {};\n        if (globalFilter) {\n            this.adaptTable.filters.global = globalFilter;\n        }\n    }\n    updateToolbarItems() {\n        if (this.adaptTable) {\n            const toolbarComponent = this.adaptTable.toolbarComponent;\n            const filterSection = toolbarComponent.toolbarContentItems.find((toolbarContentItem) => toolbarContentItem.adaptToolbarItem === ToolbarItemsByPriority.FILTER);\n            setTimeout(() => {\n                // don't update toolbar items when filter is hidden\n                if (filterSection && !filterSection.itemContext.hidden) {\n                    toolbarComponent.updateToolbarItems();\n                }\n            });\n        }\n    }\n    getExportSelectedText(selectedItems) {\n        return selectedItems.length > 1 ? this.exportSelectedRowsText : this.exportSelectedRowText;\n    }\n    getFiltersRequiredMessage(requiredFiltersCount) {\n        return requiredFiltersCount > 1\n            ? this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.require-filtering.missing-filters-warning.message', {\n                requiredFiltersCount: requiredFiltersCount\n            })\n            : this.translateService.instant('com.bmc.arsys.rx.client.view-components.record-grid.require-filtering.missing-filter-warning.message');\n    }\n}\nRecordGridComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridComponent, deps: [{ token: i1.AdaptDeviceDetectionService }, { token: i1.AdaptModalService }, { token: i0.ChangeDetectorRef }, { token: i3.DatePipe }, { token: i3.DecimalPipe }, { token: i0.NgZone }, { token: i2$4.RxAssociationInstanceDataPageService }, { token: i1$1.RxBooleanPipe }, { token: i1$1.RxCurrentUserService }, { token: i1$4.RxExpressionEvaluatorService }, { token: i1$5.RxFieldDefinitionService }, { token: RxRecordGridConfiguratorService }, { token: i2$1.RxGuidService }, { token: i1$1.RxLogService }, { token: i1$1.RxNotificationService }, { token: i2$1.RxObjectUtilsService }, { token: i1$5.RxRecordDefinitionCacheService }, { token: i1$5.RxRecordDefinitionService }, { token: RxRecordGridAdvancedFilteringService }, { token: RxRecordGridConfigUtilsService }, { token: RxRecordGridFilterConfigService }, { token: RxRecordGridFilterService }, { token: RxRecordGridFilterHelperService }, { token: RxRecordGridSharedFilterPresetsCacheService }, { token: RxRecordGridUserPreferencesService }, { token: RxRecordGridUtilsService }, { token: i1$5.RxRecordInstanceDataPageService }, { token: i1$5.RxRecordInstanceService }, { token: i1$4.RxViewActionService }, { token: i1$4.RxViewActionUtilsService }, { token: i2.TranslateService }, { token: i0.ElementRef }, { token: i2$1.RxStringService }, { token: i1$1.RxGlobalEventsService }, { token: PageComponent, optional: true }, { token: i1$2.RuntimeViewCanvasItemComponent, optional: true }], target: i0.ɵɵFactoryTarget.Component });\nRecordGridComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RecordGridComponent, selector: \"rx-record-grid\", inputs: { config: \"config\" }, outputs: { dataLoaded: \"dataLoaded\" }, host: { listeners: { \"document:click\": \"onClickOutside($event)\" } }, providers: [RxRecordGridUserPreferencesService], viewQueries: [{ propertyName: \"adaptTable\", first: true, predicate: [\"adaptTable\"], descendants: true, static: true }, { propertyName: \"adaptAdvancedFilter\", first: true, predicate: [\"adaptAdvancedFilter\"], descendants: true }, { propertyName: \"cardLayoutRowDetailsTemplate\", first: true, predicate: [\"cardLayoutRowDetailsTemplate\"], descendants: true, static: true }, { propertyName: \"cellTemplate\", first: true, predicate: [\"cellTemplate\"], descendants: true, static: true }, { propertyName: \"filterTemplate\", first: true, predicate: [\"filterTemplate\"], descendants: true, static: true }, { propertyName: \"leftCustomSectionTemplate\", first: true, predicate: [\"leftCustomSectionTemplate\"], descendants: true, static: true }, { propertyName: \"rightCustomSectionTemplate\", first: true, predicate: [\"rightCustomSectionTemplate\"], descendants: true, static: true }, { propertyName: \"rowActionButtonsTemplate\", first: true, predicate: [\"rowActionButtonsTemplate\"], descendants: true, static: true }, { propertyName: \"visibleColumnsMenuTemplate\", first: true, predicate: [\"visibleColumnsMenuTemplate\"], descendants: true, static: true }, { propertyName: \"fieldsProvider\", first: true, predicate: RxAdvancedFilteringFieldsProviderComponent, descendants: true, static: true }, { propertyName: \"actionButtonComponents\", predicate: ActionButtonComponent, descendants: true }], usesInheritance: true, ngImport: i0, template: \"<adapt-table\\n  #adaptTable\\n  rxCardLayout\\n  scrollHeight=\\\"flex\\\"\\n  (changedCardLayout)=\\\"onChangedCardLayout($event)\\\"\\n  [cardLayoutWidth]=\\\"state.cardLayoutWidth\\\"\\n  [cardLayoutFieldsHeaderTemplate]=\\\"cardLayoutFieldsHeaderTemplate\\\"\\n  [cardLayoutFieldsDataCellTemplate]=\\\"cardLayoutFieldsDataCellTemplate\\\"\\n  [cardLayoutValuesDataCellTemplate]=\\\"cardLayoutValuesDataCellTemplate\\\"\\n  [cardLayoutValuesHeaderTemplate]=\\\"cardLayoutValuesHeaderTemplate\\\"\\n  [cardLayoutRecordGridElementRef]=\\\"elementRef\\\"\\n  [cardLayoutGetDataCellClass]=\\\"getDataCellClassBind\\\"\\n  [value]=\\\"adaptTableConfig.data\\\"\\n  [columns]=\\\"adaptTableConfig.cardLayoutColumns || adaptTableConfig.columns\\\"\\n  [rows]=\\\"adaptTableConfig.rows\\\"\\n  [first]=\\\"adaptTableConfig.first\\\"\\n  [scrollable]=\\\"adaptTableConfig.scrollable\\\"\\n  [sortable]=\\\"true\\\"\\n  [rowExpandMode]=\\\"\\\"\\n  [sortMode]=\\\"'multiple'\\\"\\n  [resizableColumns]=\\\"true\\\"\\n  [columnResizeMode]=\\\"adaptTableConfig.columnResizeMode\\\"\\n  [selectionMode]=\\\"adaptTableConfig.rowSelectionMode\\\"\\n  [selection]=\\\"adaptTableConfig.selectedItems\\\"\\n  [toolbarConfig]=\\\"adaptTableConfig.toolbarConfig\\\"\\n  [filterable]=\\\"adaptTableConfig.filterable\\\"\\n  [filters]=\\\"adaptTableConfig.filters\\\"\\n  [multiSortMeta]=\\\"adaptTableConfig.multiSortMeta\\\"\\n  [dataKey]=\\\"adaptTableConfig.primaryKey\\\"\\n  [bordered]=\\\"adaptTableConfig.bordered\\\"\\n  [totalRecords]=\\\"adaptTableConfig.totalRecords\\\"\\n  [totalRecordsInGroup]=\\\"state.expandGroups ? adaptTableConfig.totalRecords : 0\\\"\\n  [lazy]=\\\"true\\\"\\n  [lazyLoadOnInit]=\\\"false\\\"\\n  [loading]=\\\"adaptTableConfig.isLoadingData\\\"\\n  [enableInfiniteScrolling]=\\\"true\\\"\\n  [expandedGroupsKeys]=\\\"adaptTableConfig.expandedGroupsKeys\\\"\\n  [loadingMore]=\\\"adaptTableConfig.isLoadingMoreData\\\"\\n  [suppressTooltip]=\\\"false\\\"\\n  [virtualScroll]=\\\"adaptTableConfig.virtualScroll\\\"\\n  [virtualRowHeight]=\\\"adaptTableConfig.virtualRowHeight\\\"\\n  (selectionChange)=\\\"onRowsSelectionChange($event)\\\"\\n  (onSort)=\\\"onSort($event)\\\"\\n  (onLazyLoad)=\\\"onLazyLoad($event)\\\"\\n  (onColReorder)=\\\"onColReorder($event)\\\"\\n  [striped]=\\\"adaptTableConfig.striped\\\"\\n  [texts]=\\\"adaptTableConfig.texts\\\"\\n  (onColResize)=\\\"onColumnResize()\\\"\\n  (export)=\\\"onExport($event)\\\"\\n  [selectedFilteredRowsCount]=\\\"selectedFilteredRowsCount\\\"\\n  [headerSelectionMode]=\\\"adaptTableHeaderSelectionMode\\\"\\n  (onHeaderCheckboxToggle)=\\\"handleHeaderCheckboxToggle($event)\\\"\\n></adapt-table>\\n\\n<ng-template #visibleColumnsMenuTemplate>\\n  <adapt-rx-search\\n    [(ngModel)]=\\\"columnSearchText\\\"\\n    [placeholder]=\\\"\\n      'com.bmc.arsys.rx.client.view-components.record-grid.visible-columns-menu.search.placeholder' | translate\\n    \\\"\\n    [autofocus]=\\\"true\\\"\\n    (ngModelChange)=\\\"onSearchColumns()\\\"\\n  >\\n  </adapt-rx-search>\\n  <div\\n    class=\\\"dropdown-item visible-columns-item px-3\\\"\\n    *ngFor=\\\"let column of filteredVisibleColumns; trackBy: trackByColumnField\\\"\\n    (click)=\\\"$event.stopPropagation()\\\"\\n  >\\n    <adapt-rx-checkbox\\n      class=\\\"m-0 adapt-table-toolbar__column-visibility-control\\\"\\n      [label]=\\\"column.header || column.fallbackTitle\\\"\\n      [ngModel]=\\\"!column.hidden\\\"\\n      (ngModelChange)=\\\"onColumnVisibilityChange($event, column)\\\"\\n    ></adapt-rx-checkbox>\\n  </div>\\n  <adapt-empty-state\\n    *ngIf=\\\"!filteredVisibleColumns.length\\\"\\n    [type]=\\\"'search'\\\"\\n    [label]=\\\"'com.bmc.arsys.rx.client.view-components.record-grid.visible-columns-menu.empty.label' | translate\\\"\\n  >\\n  </adapt-empty-state>\\n</ng-template>\\n\\n<ng-template #rightCustomSectionTemplate>\\n  <div class=\\\"px-2\\\" rx-id=\\\"selected-row-count\\\">\\n    <ng-container *ngIf=\\\"isTotalRecordCountKnown\\\">\\n      {{ getMultipleRowsSelectedText() }}\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"!isTotalRecordCountKnown\\\">\\n      <div class=\\\"d-flex align-items-center\\\">\\n        {{ getMultipleRowsSelectedTextFirstPart() }}\\n        <button type=\\\"button\\\" class=\\\"btn btn-link p-0 mx-1\\\" (click)=\\\"loadTotalRowCount()\\\">\\n          {{ getLoadRecordCountLinkText() }}\\n        </button>\\n        {{ getMultipleRowsSelectedTextSecondPart() }}\\n      </div>\\n    </ng-container>\\n  </div>\\n</ng-template>\\n\\n<ng-template #leftCustomSectionTemplate>\\n  <div [adaptSubnav] *ngIf=\\\"shouldDisplayActionButtons\\\" class=\\\"pl-1 w-100 align-items-center\\\">\\n    <div [adaptSubnavItem]=\\\"actionButtonTemplate\\\" *ngFor=\\\"let actionButton of actionButtons\\\">\\n      <ng-template #actionButtonTemplate let-hidden>\\n        <rx-action-button\\n          class=\\\"m-1\\\"\\n          [guid]=\\\"actionButton.guid\\\"\\n          [config]=\\\"getActionButtonConfig(hidden, actionButton.config)\\\"\\n          [runtimeViewModelApi]=\\\"actionButton.runtimeViewModelApi\\\"\\n        ></rx-action-button>\\n      </ng-template>\\n    </div>\\n\\n    <div [adaptSubnavDropdown]>\\n      <button type=\\\"button\\\" class=\\\"btn btn-secondary btn-xs d-icon-triangle_down ml-1\\\"></button>\\n    </div>\\n  </div>\\n</ng-template>\\n\\n<ng-template #filterTemplate let-context>\\n  <button\\n    type=\\\"button\\\"\\n    class=\\\"btn btn-link d-icon-refresh grid-toolbar-icon ml-2 p-1\\\"\\n    [ngClass]=\\\"{ 'd-block': context.hidden }\\\"\\n    rx-id=\\\"refresh-button\\\"\\n    [attr.aria-label]=\\\"'com.bmc.arsys.rx.client.common.refresh.label' | translate\\\"\\n    (click)=\\\"onRefreshClick()\\\"\\n  ></button>\\n\\n  <adapt-advanced-filter\\n    #adaptAdvancedFilter\\n    *ngIf=\\\"state.enableFiltering\\\"\\n    class=\\\"ml-2\\\"\\n    [ngClass]=\\\"{ 'd-inline-block': context.hidden, 'd-block': !context.hidden }\\\"\\n    [appendDropdownToBody]=\\\"true\\\"\\n    [texts]=\\\"state.advancedFiltering.filterTexts\\\"\\n    [showAnchorButtonLabel]=\\\"!context.collapsed\\\"\\n    [filterOptions]=\\\"state.advancedFiltering.filterOptions\\\"\\n    (selectedFiltersChange)=\\\"onAdvancedFiltersChange($event)\\\"\\n    [selectedFilters]=\\\"state.advancedFiltering.selectedFilters\\\"\\n    [savedFilters]=\\\"state.advancedFiltering.savedFilters\\\"\\n    [enableSavedFilters]=\\\"!!guid && state.enableFilterPresets\\\"\\n    (deleteSavedFilter)=\\\"onDeleteSavedFilterPreset($event)\\\"\\n    (createNewFilter)=\\\"onCreateNewFilterPreset($event)\\\"\\n    (updateSavedFilter)=\\\"onUpdateSavedFilterPreset($event)\\\"\\n    [activeSavedFilter]=\\\"state.advancedFiltering.activeSavedFilter\\\"\\n    (activeSavedFilterChange)=\\\"onActiveSavedAdvancedFilterChange($event)\\\"\\n    (beforeActiveSavedFilterChange)=\\\"onBeforeActiveSavedFilterChange($event)\\\"\\n    (editSavedFilterClick)=\\\"onEditSavedFilterClick($event)\\\"\\n    [isLoading]=\\\"state.advancedFiltering.isLoading\\\"\\n    [selectedFiltersIndicationStyle]=\\\"'mark'\\\"\\n    (filterExpressionTagsChanged)=\\\"onAdvancedFilterExpressionTagsChanged($event)\\\"\\n    [applyFiltersByUserAction]=\\\"true\\\"\\n  ></adapt-advanced-filter>\\n\\n  <span\\n    *ngIf=\\\"(context.collapsed || context.hidden) && state.advancedFiltering.toolbarTags.length\\\"\\n    class=\\\"btn-link ml-1\\\"\\n    >{{\\n      'com.bmc.arsys.rx.client.view-components.record-grid.filters.number-of-active-filters.label'\\n        | translate: { count: state.advancedFiltering.toolbarTags.length }\\n    }}</span\\n  >\\n\\n  <rx-filter-tags\\n    class=\\\"ml-2\\\"\\n    [hidden]=\\\"context.collapsed || context.hidden\\\"\\n    [tags]=\\\"state.advancedFiltering.toolbarTags\\\"\\n    [tagsLimit]=\\\"state.filterTagsLimit\\\"\\n    (removeTag)=\\\"onRemoveFilterTag($event)\\\"\\n  ></rx-filter-tags>\\n</ng-template>\\n\\n<ng-template #cellTemplate let-dataItem=\\\"dataItem\\\" let-column=\\\"column\\\">\\n  <div\\n    *ngIf=\\\"column.cellDisplayProperties\\\"\\n    class=\\\"rx-custom-cell rx-ellipsis\\\"\\n    [rxCellDisplayProps]=\\\"column.cellDisplayProperties\\\"\\n    [rxCellDisplayPropsBadgeElem]=\\\"badgeElem\\\"\\n    [rxCellDisplayPropsDataItem]=\\\"dataItem\\\"\\n    #popoverAnchor=\\\"adaptPopover\\\"\\n    [adaptPopover]=\\\"filterButton\\\"\\n    [autoClose]=\\\"false\\\"\\n    [popoverClass]=\\\"'table-filtering'\\\"\\n    [triggers]=\\\"'manual'\\\"\\n    [appendToBody]=\\\"true\\\"\\n    [placement]=\\\"'top'\\\"\\n    [class.rx-selected-custom-cell]=\\\"isCellSelected(popoverAnchor)\\\"\\n    (click)=\\\"onCellClick($event, [column], dataItem, popoverAnchor)\\\"\\n    (mouseover)=\\\"onCellMouseOver($event)\\\"\\n  >\\n    <span #badgeElem (click)=\\\"$event.stopPropagation()\\\" [ngClass]=\\\"{ 'rx-cell-wrap': column.wrapText }\\\">\\n      <ng-template\\n        [ngTemplateOutlet]=\\\"column.customTemplate || defaultCellTemplate\\\"\\n        [ngTemplateOutletContext]=\\\"{ column: column, dataItem: dataItem }\\\"\\n      >\\n      </ng-template>\\n    </span>\\n  </div>\\n\\n  <div\\n    *ngIf=\\\"!column.cellDisplayProperties\\\"\\n    class=\\\"rx-custom-cell rx-ellipsis\\\"\\n    #popoverAnchor=\\\"adaptPopover\\\"\\n    [adaptPopover]=\\\"filterButton\\\"\\n    [autoClose]=\\\"false\\\"\\n    [popoverClass]=\\\"'table-filtering'\\\"\\n    [triggers]=\\\"'manual'\\\"\\n    [appendToBody]=\\\"true\\\"\\n    [placement]=\\\"'top'\\\"\\n    [class.rx-selected-custom-cell]=\\\"isCellSelected(popoverAnchor)\\\"\\n    (click)=\\\"onCellClick($event, [column], dataItem, popoverAnchor)\\\"\\n    (mouseover)=\\\"onCellMouseOver($event)\\\"\\n  >\\n    <span (click)=\\\"$event.stopPropagation()\\\" [ngClass]=\\\"{ 'rx-cell-wrap': column.wrapText }\\\">\\n      <ng-template\\n        [ngTemplateOutlet]=\\\"column.customTemplate || defaultCellTemplate\\\"\\n        [ngTemplateOutletContext]=\\\"{ column: column, dataItem: dataItem }\\\"\\n      >\\n      </ng-template>\\n    </span>\\n  </div>\\n</ng-template>\\n\\n<ng-template #defaultCellTemplate let-dataItem=\\\"dataItem\\\" let-column=\\\"column\\\">\\n  <ng-container\\n    *ngIf=\\\"\\n      (!column.clickable ||\\n        (column.clickableWithHref &&\\n          !dataItem[column.field + '$ROUTER_LINK$'] &&\\n          !dataItem[column.field + '$LAUNCH_URL$'])) &&\\n      !column.isDownloadableAttachment\\n    \\\"\\n  >\\n    <span [ngClass]=\\\"{ 'rx-cell-wrap': column.wrapText }\\\"> {{ getCellValue(dataItem, column) }}</span>\\n  </ng-container>\\n\\n  <a\\n    tabindex=\\\"0\\\"\\n    class=\\\"attachment-link\\\"\\n    *ngIf=\\\"!column.clickable && column.isDownloadableAttachment\\\"\\n    (click)=\\\"downloadAttachment(dataItem, column, getCellValue(dataItem, column))\\\"\\n    (keydown)=\\\"downloadAttachment(dataItem, column, getCellValue(dataItem, column), $event)\\\"\\n  >\\n    <span [ngClass]=\\\"{ 'rx-cell-wrap': column.wrapText }\\\">\\n      {{ getCellValue(dataItem, column) }}\\n    </span>\\n  </a>\\n\\n  <a\\n    tabindex=\\\"0\\\"\\n    class=\\\"no-href-link\\\"\\n    *ngIf=\\\"column.clickable && !column.clickableWithHref\\\"\\n    (click)=\\\"gridEvents.cellClick(dataItem, column.field)\\\"\\n    (keydown)=\\\"gridEvents.cellKeyDown($event, dataItem, column.field)\\\"\\n  >\\n    <span [ngClass]=\\\"{ 'rx-cell-wrap': column.wrapText }\\\">\\n      {{ getCellValue(dataItem, column) }}\\n    </span>\\n  </a>\\n\\n  <a\\n    *ngIf=\\\"column.clickableWithHref && dataItem[column.field + '$ROUTER_LINK$']\\\"\\n    [routerLink]=\\\"'/' + dataItem[column.field + '$ROUTER_LINK$']\\\"\\n    [queryParams]=\\\"dataItem[column.field + '$QUERY_PARAMS$']\\\"\\n  >\\n    <span [ngClass]=\\\"{ 'rx-cell-wrap': column.wrapText }\\\">\\n      {{ getCellValue(dataItem, column) }}\\n    </span>\\n  </a>\\n\\n  <a\\n    *ngIf=\\\"column.clickableWithHref && dataItem[column.field + '$LAUNCH_URL$']\\\"\\n    [href]=\\\"dataItem[column.field + '$LAUNCH_URL$']\\\"\\n    [target]=\\\"dataItem[column.field + '$TARGET$']\\\"\\n  >\\n    <span [ngClass]=\\\"{ 'rx-cell-wrap': column.wrapText }\\\">\\n      {{ getCellValue(dataItem, column) }}\\n    </span>\\n  </a>\\n</ng-template>\\n\\n<ng-template #cardLayoutFieldsHeaderTemplate let-column=\\\"column\\\">\\n  <rx-card-layout-cell-header\\n    [title]=\\\"column.header || column.fallbackTitle\\\"\\n    [columns]=\\\"adaptTableConfig.columns\\\"\\n    [adaptTable]=\\\"adaptTable\\\"\\n    [openDialog]=\\\"openSortByDialog\\\"\\n    (sort)=\\\"onSortCards($event)\\\"\\n  ></rx-card-layout-cell-header>\\n</ng-template>\\n\\n<ng-template #cardLayoutValuesHeaderTemplate let-column=\\\"column\\\">\\n  <rx-card-layout-cell-header\\n    [title]=\\\"column.header || column.fallbackTitle\\\"\\n    [columns]=\\\"adaptTableConfig.columns\\\"\\n    [adaptTable]=\\\"adaptTable\\\"\\n    [openDialog]=\\\"openSortByDialog\\\"\\n    (sort)=\\\"onSortCards($event)\\\"\\n  ></rx-card-layout-cell-header>\\n</ng-template>\\n\\n<ng-template #cardLayoutFieldsDataCellTemplate>\\n  <div class=\\\"rx-card-layout-cell\\\" (click)=\\\"onCellClick($event)\\\">\\n    <div\\n      class=\\\"rx-card-layout-cell-item\\\"\\n      *ngFor=\\\"let column of visibleColumns; trackBy: trackByColumnField\\\"\\n      [attr.data-testid]=\\\"column.testId + '-name'\\\"\\n    >\\n      {{ column.header || column.fallbackTitle }}:\\n    </div>\\n  </div>\\n</ng-template>\\n\\n<ng-template #cardLayoutValuesDataCellTemplate let-dataItem=\\\"dataItem\\\">\\n  <div class=\\\"rx-card-layout-cell-values rx-card-layout-cell\\\">\\n    <div\\n      *ngFor=\\\"let column of visibleColumns; trackBy: trackByColumnField\\\"\\n      class=\\\"rx-card-layout-cell-item\\\"\\n      [attr.data-testid]=\\\"column.testId + '-value'\\\"\\n    >\\n      <div *ngIf=\\\"column.isRowActionsColumn\\\">\\n        <ng-container\\n          [ngTemplateOutlet]=\\\"cardLayoutRowActionButtonsTemplate\\\"\\n          [ngTemplateOutletContext]=\\\"{ dataItem: dataItem }\\\"\\n        ></ng-container>\\n      </div>\\n      <div\\n        *ngIf=\\\"\\n          (!column.clickable ||\\n            (column.clickableWithHref &&\\n              !dataItem[column.field + '$ROUTER_LINK$'] &&\\n              !dataItem[column.field + '$LAUNCH_URL$'])) &&\\n          !column.isDownloadableAttachment &&\\n          !column.isRowActionsColumn\\n        \\\"\\n      >\\n        {{ getCellValue(dataItem, column) }}\\n      </div>\\n      <a\\n        *ngIf=\\\"!column.clickable && column.isDownloadableAttachment\\\"\\n        tabindex=\\\"0\\\"\\n        class=\\\"attachment-link\\\"\\n        (click)=\\\"downloadAttachment(dataItem, column, getCellValue(dataItem, column))\\\"\\n        (keydown)=\\\"downloadAttachment(dataItem, column, getCellValue(dataItem, column), $event)\\\"\\n      >\\n        {{ getCellValue(dataItem, column) }}\\n      </a>\\n\\n      <a\\n        tabindex=\\\"0\\\"\\n        *ngIf=\\\"column.clickable && !column.clickableWithHref\\\"\\n        class=\\\"no-href-link\\\"\\n        (click)=\\\"gridEvents.cellClick(dataItem, column.field)\\\"\\n        (keydown)=\\\"gridEvents.cellKeyDown($event, dataItem, column.field)\\\"\\n      >\\n        {{ getCellValue(dataItem, column) }}\\n      </a>\\n\\n      <a\\n        *ngIf=\\\"column.clickableWithHref && dataItem[column.field + '$ROUTER_LINK$']\\\"\\n        [routerLink]=\\\"'/' + dataItem[column.field + '$ROUTER_LINK$']\\\"\\n        [queryParams]=\\\"dataItem[column.field + '$QUERY_PARAMS$']\\\"\\n      >\\n        {{ getCellValue(dataItem, column) }}\\n      </a>\\n\\n      <a\\n        *ngIf=\\\"column.clickableWithHref && dataItem[column.field + '$LAUNCH_URL$']\\\"\\n        [href]=\\\"dataItem[column.field + '$LAUNCH_URL$']\\\"\\n        [target]=\\\"dataItem[column.field + '$TARGET$']\\\"\\n      >\\n        {{ getCellValue(dataItem, column) }}\\n      </a>\\n    </div>\\n  </div>\\n\\n  <button\\n    *ngIf=\\\"isFilterBySelectionButtonVisible\\\"\\n    adapt-button\\n    rx-id=\\\"filter-by-selection-button\\\"\\n    class=\\\"btn btn-link d-icon-filter_adapt filter-by-selection-icon\\\"\\n    (click)=\\\"onFilterBySelection($event, visibleColumns, dataItem)\\\"\\n  ></button>\\n\\n  <button\\n    class=\\\"btn btn-link d-icon-pop_up record-details-icon\\\"\\n    rx-id=\\\"show-record-details-button\\\"\\n    [attr.aria-label]=\\\"\\n      'com.bmc.arsys.rx.client.view-components.record-grid.cards.record-details.button.label' | translate\\n    \\\"\\n    (click)=\\\"openRowDetails(adaptTableConfig.columns, dataItem)\\\"\\n  ></button>\\n</ng-template>\\n\\n<ng-template #cardLayoutRowDetailsTemplate let-close=\\\"close\\\" let-getData=\\\"getData\\\">\\n  <div class=\\\"modal-body rx-record-details\\\">\\n    <div class=\\\"row mb-3\\\" *ngFor=\\\"let column of getData().columns\\\">\\n      <div class=\\\"col-sm-4 font-weight-bold rx-text-break\\\">{{ column.header || column.fallbackTitle }}:</div>\\n\\n      <div class=\\\"col-sm-8 rx-text-break\\\" *ngIf=\\\"!column.isDownloadableAttachment && !column.isRowActionsColumn\\\">\\n        {{ getCellValue(getData().rowDataItem, column) }}\\n      </div>\\n\\n      <div class=\\\"col-sm-8\\\" *ngIf=\\\"column.isDownloadableAttachment\\\">\\n        <a\\n          tabindex=\\\"0\\\"\\n          class=\\\"row-details-attachment-link\\\"\\n          (click)=\\\"downloadAttachment(getData().rowDataItem, column, getCellValue(getData().rowDataItem, column))\\\"\\n          (keydown)=\\\"\\n            downloadAttachment(getData().rowDataItem, column, getCellValue(getData().rowDataItem, column), $event)\\n          \\\"\\n        >\\n          {{ getCellValue(getData().rowDataItem, column) }}</a\\n        >\\n      </div>\\n\\n      <div class=\\\"col-sm-8\\\" *ngIf=\\\"column.isRowActionsColumn\\\">\\n        <ng-container\\n          [ngTemplateOutlet]=\\\"cardLayoutRowActionButtonsTemplate\\\"\\n          [ngTemplateOutletContext]=\\\"{ dataItem: getData().rowDataItem }\\\"\\n        ></ng-container>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <button type=\\\"button\\\" class=\\\"btn btn-secondary btn-sm\\\" (click)=\\\"close()\\\">\\n      {{ 'com.bmc.arsys.rx.client.common.close.label' | translate }}\\n    </button>\\n  </div>\\n</ng-template>\\n\\n<ng-template #filterButton>\\n  <button\\n    adapt-button\\n    btn-type=\\\"tertiary\\\"\\n    size=\\\"small\\\"\\n    class=\\\"d-icon-filter_adapt p-0\\\"\\n    (click)=\\\"applyFilterBySelection()\\\"\\n  ></button>\\n</ng-template>\\n\\n<ng-template #rowActionButtonsTemplate let-dataItem=\\\"dataItem\\\">\\n  <div class=\\\"dropdown dropdown-kabob\\\" adaptDropdown appendToBody=\\\"true\\\" (onOpen)=\\\"onRowActionOpen(dataItem)\\\">\\n    <button id=\\\"row-actions-dropdown-button\\\" class=\\\"dropdown-kabob-btn\\\" adaptDropdownToggle></button>\\n    <div class=\\\"dropdown-menu\\\" aria-labelledby=\\\"row-actions-dropdown-button\\\" adaptDropdownMenu>\\n      <rx-action-button\\n        class=\\\"action-button-list\\\"\\n        *ngFor=\\\"let rowActionButton of rowActionButtons\\\"\\n        [guid]=\\\"rowActionButton.guid\\\"\\n        [config]=\\\"rowActionButton.config\\\"\\n        [runtimeViewModelApi]=\\\"rowActionButton.runtimeViewModelApi\\\"\\n      ></rx-action-button>\\n\\n      <div class=\\\"empty-list-label pl-3\\\">\\n        {{ 'com.bmc.arsys.rx.client.view-components.record-grid-row-actions.no-actions-available.label' | translate }}\\n      </div>\\n    </div>\\n  </div>\\n</ng-template>\\n\\n<ng-template #cardLayoutRowActionButtonsTemplate let-dataItem=\\\"dataItem\\\">\\n  <div\\n    class=\\\"dropdown mb-1\\\"\\n    adaptDropdown\\n    appendToBody=\\\"true\\\"\\n    (click)=\\\"$event.stopPropagation()\\\"\\n    (onOpen)=\\\"onRowActionOpen(dataItem)\\\"\\n  >\\n    <button id=\\\"card-layout-dropdown-button\\\" class=\\\"btn btn-secondary btn-xs\\\" size=\\\"xtra-small\\\" adaptDropdownToggle>\\n      {{ 'com.bmc.arsys.rx.client.view-components.record-grid-row-actions.dropdown.label' | translate }}\\n    </button>\\n    <div class=\\\"dropdown-menu\\\" aria-labelledby=\\\"card-layout-dropdown-button\\\" adaptDropdownMenu>\\n      <rx-action-button\\n        class=\\\"row-actions-dropdown-item\\\"\\n        *ngFor=\\\"let rowActionButton of rowActionButtons\\\"\\n        [guid]=\\\"rowActionButton.guid\\\"\\n        [config]=\\\"rowActionButton.config\\\"\\n        [runtimeViewModelApi]=\\\"rowActionButton.runtimeViewModelApi\\\"\\n      ></rx-action-button>\\n    </div>\\n  </div>\\n</ng-template>\\n\\n<rx-advanced-filtering-fields-provider\\n  [namedFilterOptionsGetter]=\\\"getNamedFilterOptions\\\"\\n></rx-advanced-filtering-fields-provider>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}:host{display:block;height:420px}:host ::ng-deep .rx-table-card-layout .adapt-selection-cell{vertical-align:middle!important}:host ::ng-deep .rx-table-card-layout .c-header-name{width:100%}:host ::ng-deep .rx-card-layout-data-cell{position:relative}:host ::ng-deep .rx-card-layout-cell-item{padding:0;line-height:32px;min-height:32px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}:host ::ng-deep .rx-card-layout-cell-values>div:first-child .rx-card-layout-cell-item{padding-right:20px}:host ::ng-deep .rx-card-layout-cell-icon,:host ::ng-deep .filter-by-selection-icon,:host ::ng-deep .record-details-icon{top:2px;padding:2px;position:absolute}:host ::ng-deep .record-details-icon{right:7px}:host ::ng-deep .filter-by-selection-icon{right:25px}:host ::ng-deep adapt-table td.at-data-cell{padding:0;-moz-user-select:text}:host ::ng-deep adapt-table td.rx-cell-selection-mode:focus{outline:none!important}:host ::ng-deep adapt-table adapt-table-toolbar rx-action-button{margin:5px}:host ::ng-deep adapt-table adapt-table-toolbar rx-action-button .btn-link{padding-right:0;padding-left:0}:host ::ng-deep adapt-table .at-wrap-cell-text .at-data-cell{word-break:break-word}:host ::ng-deep .rx-row-action-cell .dropdown{margin-top:3px}.rx-custom-cell{min-height:36px;padding:.5rem 13px}.rx-custom-cell .rx-cell-wrap{white-space:normal;text-overflow:clip;word-break:break-word}.rx-selected-custom-cell{outline:1px solid #00a79d!important;border-color:transparent!important;outline-offset:-1px}.rx-card-layout-cell{padding:3px 10px}:host ::ng-deep .dropdown-menu rx-action-button button.btn{width:100%;text-align:left;background:none;border:0;font-size:.8125rem}:host ::ng-deep .dropdown-menu rx-action-button button.btn:before{width:18px}:host ::ng-deep .dropdown-menu rx-action-button button.btn>span{margin-left:18px}:host ::ng-deep .dropdown-menu rx-action-button button.btn[class^=d-icon-left]>span{margin-left:0!important}.grid-toolbar-icon{font-size:16px}.no-href-link{cursor:pointer;text-decoration:none}.attachment-link,.row-details-attachment-link{cursor:pointer}::ng-deep .table-filtering.popover.popover-mobile{height:auto;display:block;top:auto!important;bottom:0;width:100vw}::ng-deep .table-filtering.popover.popover-mobile .a-popover-wrap{margin:0}::ng-deep .table-filtering.popover.popover-mobile .close{display:none}::ng-deep .visible-columns-dropdown{padding-top:0;width:14rem}.action-button-list:not(:empty)~.empty-list-label{display:none}.empty-list-label{color:#959899}.visible-columns-item{white-space:normal;word-break:break-word}\\n\"], components: [{ type: i1$7.AdaptTableComponent, selector: \"adapt-table\", inputs: [\"sortable\", \"filterable\", \"triggerableFilters\", \"explicitSearchBtn\", \"enableReorderableRows\", \"suppressTooltip\", \"toolbarConfig\", \"dataColumnsColsTemplate\", \"dataColumnsHeaderTemplate\", \"dataColumnsDataCellsTemplate\", \"headerGroupsTemplate\", \"alwaysShowHeaderTooltip\", \"alwaysShowCellTooltip\", \"expandedCellClass\", \"expandedGroupsKeys\", \"nestedGroupPadding\", \"expandindCellInitialPadding\", \"groupValueDataCellTemplate\", \"tooltipInitialDelayMs\", \"tooltipClass\", \"rowsCustomClass\", \"paginatorAlign\", \"hasEmptyState\", \"enableInfiniteScrolling\", \"updateFirstColumnWidth\", \"busyConfig\", \"defaultFiltersMatchMode\", \"wrapCellText\", \"minBufferPx\", \"maxBufferPx\", \"testID\", \"headerSelectionMode\", \"disabledSelectedRowsCount\", \"disabledNotSelectedRowsCount\", \"disabledSelectedFilteredRowsCount\", \"disabledNotSelectedFilteredRowsCount\", \"selectedFilteredRowsCount\", \"totalRecordsInGroup\", \"disableRowSelection\", \"nestingStructureData\", \"nestingKey\", \"enableRowEditing\", \"autoScrollToTop\", \"paginationTexts\", \"toolbarTexts\", \"tableTexts\", \"filtersTexts\", \"headerCellMenuTexts\", \"texts\", \"loadingMore\", \"mergeColumns\", \"disabledRowSelectionResolver\", \"allowColumnReorderingResolver\", \"disableRowExpandingResolver\", \"rowAriaDataResolver\", \"tableWidthConfig\", \"expandedRowTemplate\", \"isRefreshingRowData\", \"value\", \"bordered\", \"paginator\", \"striped\", \"loading\"], outputs: [\"onLazyLoad\", \"rowDataRefresh\", \"savedRowEditing\", \"canceledRowEditing\", \"groupSelection\", \"allGroupedRowsSelection\", \"groupExpansion\", \"columnsVisibilityChange\", \"rowDragStart\", \"rowDragRelease\", \"rowDragEnd\", \"rowDragDrop\", \"export\", \"toolbarPopupAnimationDone\"] }, { type: i1.AdaptRxSearchComponent, selector: \"adapt-rx-search\", inputs: [\"mode\", \"autocomplete\", \"placeholder\", \"size\", \"searchButton\", \"searchButtonText\", \"clearButtonText\", \"debounceTime\", \"ariaControlsPopupId\", \"ariaActiveDescendant\", \"initialAlign\"], outputs: [\"editModeChange\"] }, { type: i1.AdaptRxCheckboxComponent, selector: \"adapt-rx-checkbox\", inputs: [\"value\", \"checked\", \"indeterminate\"], outputs: [\"indeterminateChange\"] }, { type: i1.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }, { type: i1.AdaptSubnavComponent, selector: \"adapt-subnav, [adaptSubnav]\", inputs: [\"adaptSubnav\", \"gutter\", \"defaultCssClass\"], outputs: [\"visibilityChanged\"] }, { type: i1.AdaptSubnavItemComponent, selector: \"adapt-subnav-item, [adaptSubnavItem]\", inputs: [\"adaptSubnavItem\", \"defaultCssClass\", \"preventHiding\", \"priority\"] }, { type: ActionButtonComponent, selector: \"rx-action-button\", inputs: [\"guid\", \"config\", \"runtimeViewModelApi\"] }, { type: i1.AdaptSubnavDropdownComponent, selector: \"adapt-subnav-dropdown, [adaptSubnavDropdown]\", inputs: [\"adaptSubnavDropdown\", \"defaultCssClass\", \"autoClose\"] }, { type: i1.AdaptAdvancedFilterComponent, selector: \"adapt-advanced-filter\", inputs: [\"filterOptions\", \"savedFilters\", \"enableDefaultSavedFilter\", \"defaultSavedFilterId\", \"busyConfig\", \"activeSavedFilter\", \"disableExpressionEditing\", \"showAnchorButtonLabel\", \"getCustomExpressionTagFieldModel\", \"enableSavedFilters\", \"applyFiltersByUserAction\", \"canCloseDropdownResolver\", \"showTabToolbar\", \"disabledTabResolver\", \"disabledInputResolver\", \"showSelectedFiltersCount\", \"selectedFiltersIndicationStyle\", \"filterOptionsCustomAreaTemplate\", \"showTags\", \"anchorDisabled\", \"fullWidthEdit\", \"translateFilterEditingTitleXPixels\", \"selectedFilters\", \"isLoading\"], outputs: [\"selectedFiltersChange\", \"filterSelectionChange\", \"deleteSavedFilter\", \"createNewFilter\", \"updateSavedFilter\", \"beforeActiveSavedFilterChange\", \"activeSavedFilterChange\", \"removeTag\", \"filtersCleared\", \"saveNewFilterClick\", \"filtersSelectionCanceled\", \"editSavedFilterClick\", \"markDefaultSavedFilterClick\", \"editingSavedFilterCanceled\", \"filterExpressionTagsChanged\"] }, { type: FilterTagsComponent, selector: \"rx-filter-tags\", inputs: [\"tags\", \"isDisabled\", \"tagsLimit\", \"restTagsDropdownPlacement\"], outputs: [\"removeTag\"] }, { type: CardLayoutCellHeaderComponent, selector: \"rx-card-layout-cell-header\", inputs: [\"title\", \"columns\", \"adaptTable\", \"openDialog\"], outputs: [\"sort\"] }, { type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1.AdaptDropdownDirective, selector: \"adapt-dropdown, [adaptDropdown]\", inputs: [\"autoClose\", \"customClass\", \"closeOnEscape\", \"placement\", \"animationPlacement\", \"holdFocusInMenu\", \"holdFocusOnOpen\", \"autoFocusFirst\", \"restoreFocusAfterClose\", \"focusNextElementAfterClose\", \"appendToBody\", \"appendTo\", \"positionTo\", \"anchorPositionTrackingIntervalMs\", \"enableAnchorPositionTracking\", \"recalculatePositionOnElementResize\", \"setMobileState\", \"mobileView\"], outputs: [\"onOpen\", \"onClose\", \"anchorPositionChange\", \"popupAnimationDone\"], exportAs: [\"adaptDropdown\"] }, { type: RxAdvancedFilteringFieldsProviderComponent, selector: \"rx-advanced-filtering-fields-provider\", inputs: [\"namedFilterOptionsGetter\"] }], directives: [{ type: GridCardLayoutDirective, selector: \"[rxCardLayout]\", inputs: [\"cardLayoutFieldsHeaderTemplate\", \"cardLayoutValuesHeaderTemplate\", \"cardLayoutFieldsDataCellTemplate\", \"cardLayoutValuesDataCellTemplate\", \"cardLayoutGetDataCellClass\", \"cardLayoutRecordGridElementRef\", \"cardLayoutWidth\"], outputs: [\"changedCardLayout\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: CellDisplayPropertiesDirective, selector: \"[rxCellDisplayProps]\", inputs: [\"rxCellDisplayProps\", \"rxCellDisplayPropsBadgeElem\", \"rxCellDisplayPropsDataItem\"] }, { type: i1.AdaptPopoverDirective, selector: \"[adaptPopover]\", inputs: [\"adaptPopover\", \"popoverTitle\", \"placement\", \"fallbackPlacement\", \"triggers\", \"container\", \"appendToBody\", \"closeBtn\", \"popupDelay\", \"disablePopover\", \"popoverClass\", \"autoClose\", \"closeOnOutOfView\", \"maxWidth\", \"minWidth\"], outputs: [\"shown\", \"hidden\"], exportAs: [\"adaptPopover\"] }, { type: i3.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }, { type: i28.RouterLinkWithHref, selector: \"a[routerLink],area[routerLink]\", inputs: [\"routerLink\", \"target\", \"queryParams\", \"fragment\", \"queryParamsHandling\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"state\", \"relativeTo\"] }, { type: i1.AdaptDropdownToggleDirective, selector: \"[adaptDropdownToggle]\", inputs: [\"showCaret\", \"dropdownTogglerType\"] }, { type: i1.AdaptDropdownMenuDirective, selector: \"[adaptDropdownMenu]\" }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-record-grid',\n                    templateUrl: './record-grid.component.html',\n                    styleUrls: ['record-grid.component.scss'],\n                    providers: [RxRecordGridUserPreferencesService]\n                }]\n        }], ctorParameters: function () { return [{ type: i1.AdaptDeviceDetectionService }, { type: i1.AdaptModalService }, { type: i0.ChangeDetectorRef }, { type: i3.DatePipe }, { type: i3.DecimalPipe }, { type: i0.NgZone }, { type: i2$4.RxAssociationInstanceDataPageService }, { type: i1$1.RxBooleanPipe }, { type: i1$1.RxCurrentUserService }, { type: i1$4.RxExpressionEvaluatorService }, { type: i1$5.RxFieldDefinitionService }, { type: RxRecordGridConfiguratorService }, { type: i2$1.RxGuidService }, { type: i1$1.RxLogService }, { type: i1$1.RxNotificationService }, { type: i2$1.RxObjectUtilsService }, { type: i1$5.RxRecordDefinitionCacheService }, { type: i1$5.RxRecordDefinitionService }, { type: RxRecordGridAdvancedFilteringService }, { type: RxRecordGridConfigUtilsService }, { type: RxRecordGridFilterConfigService }, { type: RxRecordGridFilterService }, { type: RxRecordGridFilterHelperService }, { type: RxRecordGridSharedFilterPresetsCacheService }, { type: RxRecordGridUserPreferencesService }, { type: RxRecordGridUtilsService }, { type: i1$5.RxRecordInstanceDataPageService }, { type: i1$5.RxRecordInstanceService }, { type: i1$4.RxViewActionService }, { type: i1$4.RxViewActionUtilsService }, { type: i2.TranslateService }, { type: i0.ElementRef }, { type: i2$1.RxStringService }, { type: i1$1.RxGlobalEventsService }, { type: PageComponent, decorators: [{\n                    type: Optional\n                }] }, { type: i1$2.RuntimeViewCanvasItemComponent, decorators: [{\n                    type: Optional\n                }] }]; }, propDecorators: { config: [{\n                type: Input\n            }], dataLoaded: [{\n                type: Output\n            }], adaptTable: [{\n                type: ViewChild,\n                args: ['adaptTable', { static: true }]\n            }], adaptAdvancedFilter: [{\n                type: ViewChild,\n                args: ['adaptAdvancedFilter']\n            }], cardLayoutRowDetailsTemplate: [{\n                type: ViewChild,\n                args: ['cardLayoutRowDetailsTemplate', { static: true }]\n            }], cellTemplate: [{\n                type: ViewChild,\n                args: ['cellTemplate', { static: true }]\n            }], filterTemplate: [{\n                type: ViewChild,\n                args: ['filterTemplate', { static: true }]\n            }], leftCustomSectionTemplate: [{\n                type: ViewChild,\n                args: ['leftCustomSectionTemplate', { static: true }]\n            }], rightCustomSectionTemplate: [{\n                type: ViewChild,\n                args: ['rightCustomSectionTemplate', { static: true }]\n            }], rowActionButtonsTemplate: [{\n                type: ViewChild,\n                args: ['rowActionButtonsTemplate', { static: true }]\n            }], visibleColumnsMenuTemplate: [{\n                type: ViewChild,\n                args: ['visibleColumnsMenuTemplate', { static: true }]\n            }], fieldsProvider: [{\n                type: ViewChild,\n                args: [RxAdvancedFilteringFieldsProviderComponent, { static: true }]\n            }], actionButtonComponents: [{\n                type: ViewChildren,\n                args: [ActionButtonComponent]\n            }], onClickOutside: [{\n                type: HostListener,\n                args: ['document:click', ['$event']]\n            }] } });\n\nclass RxRecordGridDefinitionAdapterService {\n    constructor(viewDefinitionParserService, rxJsonParserService, rxRecordGridConfigUtilsService) {\n        this.viewDefinitionParserService = viewDefinitionParserService;\n        this.rxJsonParserService = rxJsonParserService;\n        this.rxRecordGridConfigUtilsService = rxRecordGridConfigUtilsService;\n    }\n    adaptDefinition(recordGridContainerViewComponentDefinition, viewDefinition) {\n        const cellDisplayPropertiesList = recordGridContainerViewComponentDefinition.componentDefinitions\n            .filter(({ type }) => type === RX_RECORD_GRID.components.column)\n            .map(({ propertiesByName }) => propertiesByName.cellDisplayProperties)\n            .filter(Boolean);\n        this.viewDefinitionParserService\n            .getComponents(recordGridContainerViewComponentDefinition)\n            .map((componentDefinition) => componentDefinition.componentDefinition)\n            .forEach((componentDefinition) => {\n            var _a, _b, _c, _d;\n            switch (componentDefinition.type) {\n                case RX_RECORD_GRID.type: {\n                    componentDefinition.propertiesByName.enableFilterPresets =\n                        (_a = componentDefinition.propertiesByName.enableFilterPresets) !== null && _a !== void 0 ? _a : 'true';\n                    componentDefinition.propertiesByName.requiredFilters =\n                        (_b = componentDefinition.propertiesByName.requiredFilters) !== null && _b !== void 0 ? _b : (componentDefinition.propertiesByName['requireFiltering'] === 'true' ? 1 : 0);\n                    const layout = this.rxJsonParserService.tryParseJson(componentDefinition.layout);\n                    const actionButtons = filter$1(componentDefinition.componentDefinitions, {\n                        type: RxViewComponentType.ActionButton\n                    });\n                    const rowActionButtons = this.getActionButtonsForOutlet(layout, RX_RECORD_GRID.rowActionsOutletName, actionButtons);\n                    rowActionButtons.forEach((action) => {\n                        action.propertiesByName = Object.assign(Object.assign({}, action.propertiesByName), { cls: 'dropdown-item', styles: 'p-0' });\n                    });\n                    without(actionButtons, ...rowActionButtons).forEach((actionButton) => {\n                        if ([ActionButtonStyle.Primary, ActionButtonStyle.Secondary].includes(actionButton.propertiesByName.style)) {\n                            actionButton.propertiesByName.size = ActionButtonSize.Small;\n                        }\n                    });\n                    break;\n                }\n                case RX_RECORD_GRID.components.column: {\n                    let isReferenced = null;\n                    if (!this.rxRecordGridConfigUtilsService.getBooleanValue(recordGridContainerViewComponentDefinition.propertiesByName.getDataForHiddenColumns)) {\n                        const recordGridGuid = recordGridContainerViewComponentDefinition.guid;\n                        const columnFieldId = componentDefinition.propertiesByName.fieldId;\n                        const isReferencedInExpression = viewDefinition.viewComponentExpressions.some((expression) => expression.includes(`\\$\\{view.components.${recordGridGuid}.firstSelectedRow.${columnFieldId}`) ||\n                            expression.includes(`\\$\\{view.components.${recordGridGuid}.clickableRow.${columnFieldId}`));\n                        const isReferencedInCellDisplayProperties = cellDisplayPropertiesList.some((cellDisplayProperties) => cellDisplayProperties.includes(`\\$\\{view.components.grid.clickableRow.${columnFieldId}`));\n                        isReferenced = isReferencedInExpression || isReferencedInCellDisplayProperties;\n                    }\n                    const adaptedProperties = {\n                        actions: [],\n                        clickable: false,\n                        guid: componentDefinition.guid,\n                        wrapText: (_c = componentDefinition.propertiesByName.wrapText) !== null && _c !== void 0 ? _c : false,\n                        referenced: isReferenced,\n                        typeaheadKeystrokeCount: (_d = componentDefinition.propertiesByName.typeaheadKeystrokeCount) !== null && _d !== void 0 ? _d : RX_RECORD_GRID.defaultTypeaheadKeystrokeCount\n                    };\n                    const actions = filter$1(componentDefinition.componentDefinitions, {\n                        type: 'rx-action'\n                    }).map((action) => action.propertiesByName);\n                    if (actions.length) {\n                        adaptedProperties.clickable = true;\n                        adaptedProperties.actions = actions;\n                    }\n                    Object.assign(componentDefinition.propertiesByName, adaptedProperties);\n                    break;\n                }\n                case RX_RECORD_GRID.components.filterPreset:\n                case RX_RECORD_GRID.components.filter: {\n                    Object.assign(componentDefinition.propertiesByName, {\n                        guid: componentDefinition.guid\n                    });\n                    break;\n                }\n            }\n        });\n    }\n    getActionButtonsForOutlet(layout, outletName, actionButtons) {\n        const actionButtonsGuids = chain(layout.outlets)\n            .filter({\n            name: outletName\n        })\n            .head()\n            .get('columns[0].children', [])\n            .value();\n        return filter$1(actionButtons, (actionButton) => actionButtonsGuids.includes(actionButton.guid));\n    }\n}\nRxRecordGridDefinitionAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridDefinitionAdapterService, deps: [{ token: i1$4.RxViewDefinitionParserService }, { token: i2$1.RxJsonParserService }, { token: RxRecordGridConfigUtilsService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRecordGridDefinitionAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridDefinitionAdapterService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridDefinitionAdapterService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewDefinitionParserService }, { type: i2$1.RxJsonParserService }, { type: RxRecordGridConfigUtilsService }]; } });\n\n// @deprecated\nclass RxRecordGridQueryExpressionEvaluatorService extends RxRecordQueryExpressionEvaluatorService {\n}\nRxRecordGridQueryExpressionEvaluatorService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridQueryExpressionEvaluatorService, deps: null, target: i0.ɵɵFactoryTarget.Injectable });\nRxRecordGridQueryExpressionEvaluatorService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridQueryExpressionEvaluatorService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRecordGridQueryExpressionEvaluatorService, decorators: [{\n            type: Injectable\n        }] });\n\nclass RecordGridModule {\n    constructor(rxRecordGridDefinitionAdapterService, rxDefinitionAdapterRegistryService) {\n        this.rxRecordGridDefinitionAdapterService = rxRecordGridDefinitionAdapterService;\n        this.rxDefinitionAdapterRegistryService = rxDefinitionAdapterRegistryService;\n        rxDefinitionAdapterRegistryService.registerRuntimeAdapter(RX_RECORD_GRID.type, this.rxRecordGridDefinitionAdapterService);\n    }\n}\nRecordGridModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridModule, deps: [{ token: RxRecordGridDefinitionAdapterService }, { token: i1$1.RxDefinitionAdapterRegistryService }], target: i0.ɵɵFactoryTarget.NgModule });\nRecordGridModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridModule, declarations: [RecordGridComponent,\n        GridCardLayoutDirective,\n        CardLayoutCellHeaderComponent,\n        RxFilterByCardSelectionDialogComponent,\n        CellDisplayPropertiesDirective], imports: [RxDefinitionModule,\n        CommonModule,\n        RuntimeViewCanvasModule, i1$7.AdaptTableModule, AdaptSelectModule,\n        FormsModule,\n        AdaptRxCheckboxModule,\n        AdaptRxSelectModule, i1.AdaptAlertModule, i1.AdaptPopoverModule, AdaptAccordionModule,\n        AdaptButtonModule,\n        AdaptDropdownModule,\n        TranslateModule,\n        ActionButtonModule,\n        AdaptSubnavModule,\n        AdaptAdvancedFilteringModule,\n        RecordGridCommonModule,\n        RouterModule,\n        RxAdvancedFilteringFieldsProviderModule,\n        AdaptRxSearchModule,\n        AdaptEmptyStateModule], exports: [RecordGridComponent] });\nRecordGridModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridModule, providers: [\n        DatePipe,\n        DecimalPipe,\n        RxBooleanPipe,\n        RxRecordGridConfiguratorService,\n        RxRecordGridConfigUtilsService,\n        RxRecordGridDefinitionAdapterService,\n        RxRecordGridFilterService,\n        RxRecordGridUtilsService,\n        RxRecordGridFilterConfigService,\n        RxRecordGridQueryExpressionEvaluatorService,\n        RxRecordGridSharedFilterPresetsCacheService,\n        RxRecordGridAdvancedFilteringService\n    ], imports: [[\n            RxDefinitionModule,\n            CommonModule,\n            RuntimeViewCanvasModule,\n            AdaptTableModule.forRoot(),\n            AdaptSelectModule,\n            FormsModule,\n            AdaptRxCheckboxModule,\n            AdaptRxSelectModule,\n            AdaptAlertModule.forRoot(),\n            AdaptPopoverModule.forRoot(),\n            AdaptAccordionModule,\n            AdaptButtonModule,\n            AdaptDropdownModule,\n            TranslateModule,\n            ActionButtonModule,\n            AdaptSubnavModule,\n            AdaptAdvancedFilteringModule,\n            RecordGridCommonModule,\n            RouterModule,\n            RxAdvancedFilteringFieldsProviderModule,\n            AdaptRxSearchModule,\n            AdaptEmptyStateModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        RxDefinitionModule,\n                        CommonModule,\n                        RuntimeViewCanvasModule,\n                        AdaptTableModule.forRoot(),\n                        AdaptSelectModule,\n                        FormsModule,\n                        AdaptRxCheckboxModule,\n                        AdaptRxSelectModule,\n                        AdaptAlertModule.forRoot(),\n                        AdaptPopoverModule.forRoot(),\n                        AdaptAccordionModule,\n                        AdaptButtonModule,\n                        AdaptDropdownModule,\n                        TranslateModule,\n                        ActionButtonModule,\n                        AdaptSubnavModule,\n                        AdaptAdvancedFilteringModule,\n                        RecordGridCommonModule,\n                        RouterModule,\n                        RxAdvancedFilteringFieldsProviderModule,\n                        AdaptRxSearchModule,\n                        AdaptEmptyStateModule\n                    ],\n                    providers: [\n                        DatePipe,\n                        DecimalPipe,\n                        RxBooleanPipe,\n                        RxRecordGridConfiguratorService,\n                        RxRecordGridConfigUtilsService,\n                        RxRecordGridDefinitionAdapterService,\n                        RxRecordGridFilterService,\n                        RxRecordGridUtilsService,\n                        RxRecordGridFilterConfigService,\n                        RxRecordGridQueryExpressionEvaluatorService,\n                        RxRecordGridSharedFilterPresetsCacheService,\n                        RxRecordGridAdvancedFilteringService\n                    ],\n                    exports: [RecordGridComponent],\n                    declarations: [\n                        RecordGridComponent,\n                        GridCardLayoutDirective,\n                        CardLayoutCellHeaderComponent,\n                        RxFilterByCardSelectionDialogComponent,\n                        CellDisplayPropertiesDirective\n                    ],\n                    entryComponents: [RecordGridComponent]\n                }]\n        }], ctorParameters: function () { return [{ type: RxRecordGridDefinitionAdapterService }, { type: i1$1.RxDefinitionAdapterRegistryService }]; } });\n\nclass RichTextComponent extends BaseViewComponent {\n    constructor(sanitizer, rxCkEditorConfiguratorService) {\n        super();\n        this.sanitizer = sanitizer;\n        this.rxCkEditorConfiguratorService = rxCkEditorConfiguratorService;\n        this.filter = new CKEDITOR.filter('');\n        this.api = {\n            setProperty: this.setProperty.bind(this)\n        };\n        this.filter.allow(this.rxCkEditorConfiguratorService.getContentRules());\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.notifyPropertyChanged('api', this.api);\n        this.config.pipe(takeUntil(this.destroyed$)).subscribe((config) => {\n            this.isHidden = Boolean(config.hidden);\n            this.html = this.updateHtml(config.html);\n        });\n    }\n    updateHtml(value) {\n        if (value) {\n            value = value.replace(/\\n/g, '<br>');\n            const fragment = CKEDITOR.htmlParser.fragment.fromHtml(value);\n            const writer = new CKEDITOR.htmlParser.basicWriter();\n            this.filter.applyTo(fragment);\n            fragment.writeHtml(writer);\n            value = writer.getHtml(true);\n        }\n        else {\n            value = '';\n        }\n        return this.sanitizer.bypassSecurityTrustHtml(value);\n    }\n    setProperty(propertyPath, value) {\n        if (propertyPath === 'hidden') {\n            this.isHidden = value;\n            this.notifyPropertyChanged(propertyPath, this.isHidden);\n        }\n        else {\n            return throwError(`Rich text: property ${propertyPath} is not settable.`);\n        }\n    }\n}\nRichTextComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextComponent, deps: [{ token: i1$8.DomSanitizer }, { token: i1$4.RxCkEditorConfiguratorService }], target: i0.ɵɵFactoryTarget.Component });\nRichTextComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RichTextComponent, selector: \"rx-rich-text\", inputs: { config: \"config\" }, usesInheritance: true, ngImport: i0, template: `\n    <div\n      class=\"text-container focusable\"\n      [hidden]=\"isHidden\"\n      tabindex=\"0\"\n      [innerHTML]=\"html\"\n      [attr.aria-hidden]=\"isHidden\"\n    ></div>\n  `, isInline: true, styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.text-container{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}\\n\"] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-rich-text',\n                    template: `\n    <div\n      class=\"text-container focusable\"\n      [hidden]=\"isHidden\"\n      tabindex=\"0\"\n      [innerHTML]=\"html\"\n      [attr.aria-hidden]=\"isHidden\"\n    ></div>\n  `,\n                    styleUrls: ['./rich-text.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1$8.DomSanitizer }, { type: i1$4.RxCkEditorConfiguratorService }]; }, propDecorators: { config: [{\n                type: Input\n            }] } });\n\nclass RxRichTextExpressionEvaluatorService {\n    constructor(rxDefaultExpressionEvaluatorService) {\n        this.rxDefaultExpressionEvaluatorService = rxDefaultExpressionEvaluatorService;\n    }\n    evaluate(expression, data) {\n        const tempElement = document.createElement('div');\n        tempElement.innerHTML = expression;\n        tempElement.querySelectorAll(`span[${RX_RICH_TEXT.expressionAttributeName}]`).forEach((span) => {\n            const evaluatedExpression = this.rxDefaultExpressionEvaluatorService.evaluate(span.getAttribute(RX_RICH_TEXT.expressionAttributeName), data);\n            const textNode = document.createTextNode(isNil(evaluatedExpression) ? '' : evaluatedExpression);\n            span.parentElement.replaceChild(textNode, span);\n        });\n        return tempElement.innerHTML;\n    }\n}\nRxRichTextExpressionEvaluatorService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRichTextExpressionEvaluatorService, deps: [{ token: i1$4.RxDefaultExpressionEvaluatorService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRichTextExpressionEvaluatorService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRichTextExpressionEvaluatorService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRichTextExpressionEvaluatorService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$4.RxDefaultExpressionEvaluatorService }]; } });\n\nclass RichTextDefinitionAdapterService {\n    constructor(rxCkEditorConfiguratorService) {\n        this.rxCkEditorConfiguratorService = rxCkEditorConfiguratorService;\n        this.filter = new CKEDITOR.filter('');\n        this.filter.allow(this.rxCkEditorConfiguratorService.getContentRules());\n    }\n    adaptDefinition(definition) {\n        if (definition.propertiesByName.html) {\n            const initialValue = CKEDITOR.dtd.$removeEmpty['span'];\n            // Allow empty span tags, used for holding the expressions in rx-expression attributes,\n            // to be parsed by CKEDITOR.htmlParser.fragment.fromHtml\n            // https://stackoverflow.com/questions/18250404/ckeditor-strips-i-tag\n            // @ts-ignore\n            CKEDITOR.dtd.$removeEmpty['span'] = 0;\n            const fragment = CKEDITOR.htmlParser.fragment.fromHtml(definition.propertiesByName.html);\n            const writer = new CKEDITOR.htmlParser.basicWriter();\n            // sanitize HTML\n            this.filter.applyTo(fragment);\n            fragment.writeHtml(writer);\n            definition.propertiesByName.html = writer.getHtml(true);\n            CKEDITOR.dtd.$removeEmpty['span'] = initialValue;\n        }\n    }\n}\nRichTextDefinitionAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextDefinitionAdapterService, deps: [{ token: i1$4.RxCkEditorConfiguratorService }], target: i0.ɵɵFactoryTarget.Injectable });\nRichTextDefinitionAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextDefinitionAdapterService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextDefinitionAdapterService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$4.RxCkEditorConfiguratorService }]; } });\n\nclass RichTextModule {\n    constructor(rxDefinitionAdapterRegistryService, richTextDefinitionAdapterService) {\n        this.rxDefinitionAdapterRegistryService = rxDefinitionAdapterRegistryService;\n        this.richTextDefinitionAdapterService = richTextDefinitionAdapterService;\n        rxDefinitionAdapterRegistryService.registerRuntimeAdapter(RxViewComponentType.RichText, this.richTextDefinitionAdapterService);\n    }\n}\nRichTextModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextModule, deps: [{ token: i1$1.RxDefinitionAdapterRegistryService }, { token: RichTextDefinitionAdapterService }], target: i0.ɵɵFactoryTarget.NgModule });\nRichTextModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextModule, declarations: [RichTextComponent], imports: [CommonModule, CKEditorModule], exports: [RichTextComponent] });\nRichTextModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextModule, providers: [RxRichTextExpressionEvaluatorService], imports: [[CommonModule, CKEditorModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RichTextComponent],\n                    imports: [CommonModule, CKEditorModule],\n                    exports: [RichTextComponent],\n                    entryComponents: [RichTextComponent],\n                    providers: [RxRichTextExpressionEvaluatorService]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxDefinitionAdapterRegistryService }, { type: RichTextDefinitionAdapterService }]; } });\n\nconst RX_CKEDITOR_CONFIG = {\n    title: false,\n    skin: 'rich-text,skins/rich-text/',\n    toolbar: [\n        [\n            'Bold',\n            'Italic',\n            'Strike',\n            'Underline',\n            '-',\n            'Link',\n            'Unlink',\n            '-',\n            'NumberedList',\n            'BulletedList',\n            'Outdent',\n            'Indent',\n            '-',\n            'JustifyLeft',\n            'JustifyCenter',\n            'JustifyRight',\n            '-',\n            'ExpressionEditor'\n        ],\n        '/',\n        ['Format', 'Styles', 'Font', 'FontSize', 'TextColor']\n    ],\n    stylesSet: [\n        {\n            name: 'Italic Title',\n            element: 'h2',\n            attributes: {\n                class: 'italic-title'\n            }\n        },\n        {\n            name: 'Subtitle',\n            element: 'h3',\n            attributes: {\n                class: 'subtitle'\n            }\n        },\n        {\n            name: 'Special Container',\n            element: 'div',\n            attributes: {\n                class: 'special-containers'\n            }\n        },\n        {\n            name: 'Marker',\n            element: 'span',\n            attributes: {\n                class: 'marker'\n            }\n        },\n        {\n            name: 'Small',\n            element: 'small'\n        },\n        {\n            name: 'Computer Code',\n            element: 'code'\n        },\n        {\n            name: 'Keyboard Phrase',\n            element: 'kbd'\n        },\n        {\n            name: 'Sample Text',\n            element: 'samp'\n        },\n        {\n            name: 'Variable',\n            element: 'var'\n        },\n        {\n            name: 'Deleted Text',\n            element: 'del'\n        },\n        {\n            name: 'Inserted Text',\n            element: 'ins'\n        },\n        {\n            name: 'Cited Work',\n            element: 'cite'\n        },\n        {\n            name: 'Inline Quotation',\n            element: 'q'\n        },\n        {\n            name: 'Compact Table',\n            element: 'table',\n            attributes: {\n                cellpadding: '5',\n                cellspacing: '0',\n                class: 'compact-table'\n            }\n        },\n        {\n            name: 'Borderless Table',\n            element: 'table',\n            attributes: {\n                class: 'borderless-table'\n            }\n        },\n        {\n            name: 'Square Bulleted List',\n            element: 'ul',\n            attributes: {\n                class: 'square-bulleted-list'\n            }\n        }\n    ],\n    format_tags: 'p;h1;h2;h3;pre',\n    extraPlugins: 'expression-editor, colordialog',\n    extraAllowedContent: 'span [rx-expression, contenteditable, title] (rx-expression)'\n};\n\nclass RichTextDesignModel extends ViewDesignerComponentModel {\n    constructor() {\n        super(...arguments);\n        this.html$ = this.sandbox.getComponentPropertyValue('html');\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign(Object.assign({ name: null, html: null }, RX_STANDARD_PROPS_DEFAULT_VALUES), initialProperties);\n    }\n    rxInit() {\n        this.sandbox.componentProperties$.pipe(take(1)).subscribe(() => {\n            this.sandbox.updateInspectorConfig(this.getInspector());\n        });\n        this.sandbox.componentProperties$.subscribe((properties) => {\n            const validationIssues = properties.html ? [] : [this.sandbox.createError('Rich text value cannot be blank.')];\n            validationIssues.push(...validateStandardProps(properties));\n            this.sandbox.setValidationIssues(validationIssues);\n        });\n        this.sandbox.getComponentPropertyValue('name').subscribe((name) => {\n            const componentName = name ? `${this.sandbox.descriptor.name} (${name})` : this.sandbox.descriptor.name;\n            this.sandbox.setSettablePropertiesDataDictionary(componentName, [\n                {\n                    label: 'Hidden',\n                    expression: this.getExpressionForProperty('hidden')\n                }\n            ]);\n        });\n    }\n    getInspector() {\n        return {\n            inspectorSectionConfigs: [\n                {\n                    label: 'General',\n                    controls: [\n                        {\n                            name: 'name',\n                            component: TextFormControlComponent,\n                            options: {\n                                label: 'Name',\n                                tooltip: new Tooltip('Enter a name to uniquely identify the Rich text component')\n                            }\n                        },\n                        ...getStandardPropsInspectorConfigs()\n                    ]\n                }\n            ]\n        };\n    }\n    updateComponentProperties(props) {\n        this.sandbox.updateComponentProperties(props);\n    }\n}\n\nclass RichTextDesignComponent {\n    constructor(rxExpressionEditorService, rxTreeService, rxExpressionParserService, renderer2, document, ngZone) {\n        this.rxExpressionEditorService = rxExpressionEditorService;\n        this.rxTreeService = rxTreeService;\n        this.rxExpressionParserService = rxExpressionParserService;\n        this.renderer2 = renderer2;\n        this.document = document;\n        this.ngZone = ngZone;\n        this.type = \"inline\" /* INLINE */;\n        this.ckConfig = RX_CKEDITOR_CONFIG;\n        this.formControl = new FormControl(null);\n        this.destroyed$ = new ReplaySubject(1);\n        // remove inner span with expression title and content value, e.g.:\n        // \"<p>text<span contenteditable=\"false\" rx-expression=\"${foo}\"><span title=\"Foo\">Foo</span></span></p>\" ->\n        // \"<p>text<span contenteditable=\"false\" rx-expression=\"${foo}\"></span></p>\"\n        this.removeExpressionLabels = this.setExpressionLabelHtml.bind(this, null);\n        // set inner span with expression title and content value, e.g.:\n        // \"<p>text<span contenteditable=\"false\" rx-expression=\"${foo}\"></span></p>\" ->\n        // \"<p>text<span contenteditable=\"false\" rx-expression=\"${foo}\"><span title=\"Foo\">Foo</span></span></p>\"\n        this.addExpressionLabels = this.setExpressionLabelHtml.bind(this, this.getExpressionWithLabels.bind(this));\n    }\n    ngOnInit() {\n        const dataDictionary$ = this.model.expressionConfigurator.getDataDictionary();\n        dataDictionary$\n            .pipe(withLatestFrom(this.model.html$), takeUntil(this.destroyed$))\n            .subscribe(([dataDictionary, html]) => {\n            this.flatDataDictionary = this.rxTreeService.flatten({\n                children: dataDictionary\n            });\n            this.formControl.setValue(this.addExpressionLabels(html));\n        });\n        this.formControl.valueChanges\n            .pipe(map((value) => this.removeExpressionLabels(value)), distinctUntilChanged(), skip(1), takeUntil(this.destroyed$))\n            .subscribe((html) => {\n            this.model.updateComponentProperties({ html });\n        });\n        // set initial value\n        this.model.html$.pipe(take(1), takeUntil(this.destroyed$)).subscribe((html) => {\n            this.formControl.setValue(this.addExpressionLabels(html));\n        });\n    }\n    onEditorReady(event) {\n        if (this.isReadOnly) {\n            this.ckConfig.toolbar = [];\n            this.document.getElementById(`${event.editor.id}_top`).style.display = 'none';\n        }\n        this.ckEditor.instance.on('openExpressionEditor', (evt) => {\n            const initialValue = evt.data && evt.data.getAttribute(RX_RICH_TEXT.expressionAttributeName);\n            this.ngZone.runTask(() => this.rxExpressionEditorService\n                .openEditor({\n                property: {\n                    path: 'html',\n                    value: initialValue,\n                    label: 'Rich Text'\n                },\n                expressionConfigurator: this.model.expressionConfigurator\n            })\n                .pipe(takeUntil(this.destroyed$))\n                .subscribe({\n                next: ({ path, value }) => {\n                    if (value) {\n                        const labelHtmlString = this.getExpressionWithLabels(value);\n                        if (initialValue) {\n                            evt.data.setAttribute(RX_RICH_TEXT.expressionAttributeName, value);\n                            evt.data.setHtml(labelHtmlString);\n                            // trigger change event in CKEDITOR, ref: https://stackoverflow.com/a/24599219/4449154\n                            this.ckEditor.instance.fire('saveSnapshot');\n                        }\n                        else {\n                            this.ckEditor.instance.insertHtml(`<span contenteditable=\"false\" ${RX_RICH_TEXT.expressionAttributeName}=\"${escape(value)}\">${labelHtmlString}</span>`);\n                        }\n                    }\n                    else {\n                        evt.data.remove();\n                        // trigger change event in CKEDITOR, ref: https://stackoverflow.com/a/24599219/4449154\n                        this.ckEditor.instance.fire('saveSnapshot');\n                    }\n                    this.moveCursorToEnd();\n                },\n                error: () => {\n                    this.moveCursorToEnd();\n                }\n            }));\n        });\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n    getExpressionWithLabels(expressionValue) {\n        return this.rxExpressionParserService.parse(expressionValue, (token, expression) => {\n            if (token !== ExpressionParserToken.RxStringExpression) {\n                const node = this.flatDataDictionary.find((item) => item.expression === expression);\n                const label = node && node.label ? escape(node.label) : expression;\n                return `<span title=\"${label}\">${label}</span>`;\n            }\n            return expression;\n        });\n    }\n    moveCursorToEnd() {\n        const range = this.ckEditor.instance.createRange();\n        range.moveToElementEditEnd(range.root);\n        this.ckEditor.instance.getSelection().selectRanges([range]);\n    }\n    setExpressionLabelHtml(predicate, htmlString) {\n        const tempElement = this.renderer2.createElement('div');\n        tempElement.innerHTML = htmlString;\n        tempElement\n            .querySelectorAll(`span[${RX_RICH_TEXT.expressionAttributeName}]`)\n            .forEach((el) => (el.innerHTML = predicate ? predicate(el.getAttribute(RX_RICH_TEXT.expressionAttributeName)) : null));\n        return tempElement.innerHTML.replace(/<br>/g, '<br />');\n    }\n}\nRichTextDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextDesignComponent, deps: [{ token: i2$5.RxExpressionEditorService }, { token: i2$1.RxTreeService }, { token: i1$1.RxExpressionParserService }, { token: i0.Renderer2 }, { token: DOCUMENT }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component });\nRichTextDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RichTextDesignComponent, selector: \"rx-rich-text-design\", inputs: { model: \"model\", isReadOnly: \"isReadOnly\" }, viewQueries: [{ propertyName: \"ckEditor\", first: true, predicate: CKEditorComponent, descendants: true, static: true }], ngImport: i0, template: \"<ckeditor\\n  class=\\\"border\\\"\\n  [class.border-transparent]=\\\"formControl.value\\\"\\n  [formControl]=\\\"formControl\\\"\\n  [config]=\\\"ckConfig\\\"\\n  [type]=\\\"type\\\"\\n  (ready)=\\\"onEditorReady($event)\\\"\\n  [readOnly]=\\\"isReadOnly\\\"\\n></ckeditor>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}:host{display:block}ckeditor{min-height:42px;display:block;border:1px solid #d6d7d8}ckeditor.border-transparent{border-color:transparent!important}ckeditor ::ng-deep [rx-expression]{padding:2px 5px;display:inline-block;color:#7c7f81;background-color:#f0f1f1;border-radius:2px;-webkit-user-select:all;user-select:all}ckeditor ::ng-deep [rx-expression] span{padding:2px 5px;background-color:#d6d7d8;border-radius:2px}ckeditor ::ng-deep .cke_editable{padding:5px;outline:none}\\n\"], components: [{ type: i2$7.CKEditorComponent, selector: \"ckeditor\", inputs: [\"tagName\", \"type\", \"editorUrl\", \"data\", \"readOnly\", \"config\"], outputs: [\"ready\", \"dataReady\", \"change\", \"dataChange\", \"dragStart\", \"dragEnd\", \"drop\", \"fileUploadResponse\", \"fileUploadRequest\", \"focus\", \"paste\", \"afterPaste\", \"blur\"] }], directives: [{ type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlDirective, selector: \"[formControl]\", inputs: [\"disabled\", \"formControl\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-rich-text-design',\n                    templateUrl: './rich-text-design.component.html',\n                    styleUrls: ['./rich-text-design.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i2$5.RxExpressionEditorService }, { type: i2$1.RxTreeService }, { type: i1$1.RxExpressionParserService }, { type: i0.Renderer2 }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }, { type: i0.NgZone }]; }, propDecorators: { model: [{\n                type: Input\n            }], isReadOnly: [{\n                type: Input\n            }], ckEditor: [{\n                type: ViewChild,\n                args: [CKEditorComponent, { static: true }]\n            }] } });\n\nclass RxExpressionEditorPluginService {\n    constructor() {\n        const me = this;\n        CKEDITOR.plugins.add('expression-editor', {\n            init(editor) {\n                editor.addCommand('insertExpression', {\n                    exec() {\n                        editor.fire('openExpressionEditor', null);\n                        return true;\n                    }\n                });\n                editor.on('doubleclick', (evt) => {\n                    const element = me.getSelectedExpressionElement(evt.data.element);\n                    if (element) {\n                        editor.fire('openExpressionEditor', element);\n                    }\n                }, null, null, 0);\n                editor.ui.addButton('ExpressionEditor', {\n                    label: 'Insert Expression',\n                    command: 'insertExpression',\n                    toolbar: '',\n                    icon: CKEDITOR.plugins.getPath('expression-editor') + 'toolbar.png'\n                });\n            }\n        });\n    }\n    getSelectedExpressionElement(element) {\n        if (element.is('span') && element.hasAttribute('rx-expression')) {\n            return element;\n        }\n        else {\n            const parentElement = element.getParent();\n            if (parentElement.is('span') && parentElement.hasAttribute('rx-expression')) {\n                return parentElement;\n            }\n        }\n    }\n    clearSelection(editor) {\n        const selection = editor.getSelection();\n        if (selection) {\n            selection.removeAllRanges();\n        }\n    }\n}\nRxExpressionEditorPluginService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExpressionEditorPluginService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxExpressionEditorPluginService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExpressionEditorPluginService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxExpressionEditorPluginService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return []; } });\n\nclass RichTextDesignModule {\n    constructor(rxExpressionEditorPluginService, rxDefinitionAdapterRegistryService, richTextDefinitionAdapterService) {\n        this.rxExpressionEditorPluginService = rxExpressionEditorPluginService;\n        this.rxDefinitionAdapterRegistryService = rxDefinitionAdapterRegistryService;\n        this.richTextDefinitionAdapterService = richTextDefinitionAdapterService;\n        rxDefinitionAdapterRegistryService.registerDesignAdapter(RxViewComponentType.RichText, this.richTextDefinitionAdapterService);\n    }\n}\nRichTextDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextDesignModule, deps: [{ token: RxExpressionEditorPluginService }, { token: i1$1.RxDefinitionAdapterRegistryService }, { token: RichTextDefinitionAdapterService }], target: i0.ɵɵFactoryTarget.NgModule });\nRichTextDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextDesignModule, declarations: [RichTextDesignComponent], imports: [CommonModule, CKEditorModule, ReactiveFormsModule] });\nRichTextDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextDesignModule, imports: [[CommonModule, CKEditorModule, ReactiveFormsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RichTextDesignComponent],\n                    entryComponents: [RichTextDesignComponent],\n                    imports: [CommonModule, CKEditorModule, ReactiveFormsModule]\n                }]\n        }], ctorParameters: function () { return [{ type: RxExpressionEditorPluginService }, { type: i1$1.RxDefinitionAdapterRegistryService }, { type: RichTextDefinitionAdapterService }]; } });\n\nclass ServiceListDesignComponent {\n}\nServiceListDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ServiceListDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nServiceListDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ServiceListDesignComponent, selector: \"rx-service-list-design\", ngImport: i0, template: \"<div class=\\\"row\\\">\\n  <div class=\\\"col-md-12\\\">\\n    <adapt-rx-select label=\\\"Service list\\\" required=\\\"true\\\" disabled=\\\"true\\\" ngModel> </adapt-rx-select>\\n  </div>\\n</div>\\n\", components: [{ type: i1.AdaptRxSelectComponent, selector: \"adapt-rx-select\", inputs: [\"options\", \"emptyOption\", \"optionFormatter\", \"optionContentTemplate\", \"disabledOptionResolver\", \"titleFormatter\", \"focusFirst\", \"texts\", \"multiple\", \"singleSelectStyle\", \"enableFilter\", \"inline\", \"selectAllButton\", \"deselectAllButton\", \"loadMoreButton\", \"loadMoreCallback\", \"loadMoreInProgress\", \"loadingState\", \"placeholder\", \"size\", \"closeOnSelect\", \"placement\", \"appendToBody\", \"popupMaxHeight\", \"popupClass\", \"pageSize\", \"ariaInvalid\", \"virtualScroll\", \"virtualScrollItemSize\", \"virtualScrollTemplateCacheSize\", \"minBufferPx\", \"maxBufferPx\"], outputs: [\"onSelectionChange\", \"onPopupOpenChange\", \"onFilterValueChange\"] }], directives: [{ type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ServiceListDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-service-list-design',\n                    templateUrl: './service-list-design.component.html'\n                }]\n        }] });\n\nclass ServiceListDesignModule {\n}\nServiceListDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ServiceListDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nServiceListDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ServiceListDesignModule, declarations: [ServiceListDesignComponent], imports: [CommonModule, RxDefinitionPickerModule, FormControlsModule, AdaptRxSelectModule, FormsModule] });\nServiceListDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ServiceListDesignModule, imports: [[CommonModule, RxDefinitionPickerModule, FormControlsModule, AdaptRxSelectModule, FormsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ServiceListDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, RxDefinitionPickerModule, FormControlsModule, AdaptRxSelectModule, FormsModule],\n                    declarations: [ServiceListDesignComponent],\n                    entryComponents: [ServiceListDesignComponent]\n                }]\n        }] });\n\nclass ServiceListComponent extends BaseViewComponent {\n    constructor(httpClient) {\n        super();\n        this.httpClient = httpClient;\n        this.isDisabled = true;\n        this.serviceListOptions = [];\n        this.service = {\n            id: null,\n            name: null,\n            guid: null\n        };\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        const serviceRequestId$ = this.config.pipe(pluck('serviceRequestId'), distinctUntilChanged(), takeUntil(this.destroyed$));\n        this.httpClient\n            .get('/api/com.bmc.dsm.chatbot/rx/application/chatbot/services')\n            .pipe(withLatestFrom(serviceRequestId$), finalize(() => {\n            this.isDisabled = false;\n        }), takeUntil(this.destroyed$))\n            .subscribe(([chatbotServices, serviceRequestId]) => {\n            this.serviceListOptions = flow((catalogs) => groupBy(catalogs, 'groupName'), (catalogsByGroup) => map$1(catalogsByGroup, (catalogs, groupName) => ({\n                name: groupName,\n                children: map$1(catalogs, (catalog) => ({\n                    id: catalog.id,\n                    name: catalog.name,\n                    guid: catalog.guid\n                }))\n            })))((chatbotServices === null || chatbotServices === void 0 ? void 0 : chatbotServices.catalogDetailsList) || []);\n            this.selectServiceRequest(serviceRequestId);\n        });\n        serviceRequestId$.pipe(takeUntil(this.destroyed$)).subscribe((requestId) => {\n            this.selectServiceRequest(requestId);\n        });\n    }\n    selectServiceRequest(serviceRequestId) {\n        let service;\n        forEach(this.serviceListOptions, (item) => {\n            if (service) {\n                return false;\n            }\n            service = find(item.children, {\n                id: serviceRequestId\n            });\n        });\n        this.service = service\n            ? [\n                {\n                    id: service.id,\n                    name: service.name,\n                    guid: service.guid\n                }\n            ]\n            : [];\n    }\n    onSelectionChange(event) {\n        const service = event.options[0];\n        this.notifyPropertyChanged('serviceRequestId', service.id);\n        this.notifyPropertyChanged('serviceRequestName', service.name);\n        this.notifyPropertyChanged('serviceRequestGuid', service.guid);\n    }\n    optionFormatter(option) {\n        return option.name;\n    }\n}\nServiceListComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ServiceListComponent, deps: [{ token: i1$9.HttpClient }], target: i0.ɵɵFactoryTarget.Component });\nServiceListComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ServiceListComponent, selector: \"rx-service-list\", inputs: { config: \"config\" }, usesInheritance: true, ngImport: i0, template: \"<adapt-rx-select\\n  label=\\\"Service name\\\"\\n  required=\\\"true\\\"\\n  [options]=\\\"serviceListOptions\\\"\\n  [disabled]=\\\"isDisabled\\\"\\n  (onSelectionChange)=\\\"onSelectionChange($event)\\\"\\n  [ngModel]=\\\"service\\\"\\n  [optionFormatter]=\\\"optionFormatter\\\"\\n  enableFilter=\\\"true\\\"\\n>\\n</adapt-rx-select>\\n\", components: [{ type: i1.AdaptRxSelectComponent, selector: \"adapt-rx-select\", inputs: [\"options\", \"emptyOption\", \"optionFormatter\", \"optionContentTemplate\", \"disabledOptionResolver\", \"titleFormatter\", \"focusFirst\", \"texts\", \"multiple\", \"singleSelectStyle\", \"enableFilter\", \"inline\", \"selectAllButton\", \"deselectAllButton\", \"loadMoreButton\", \"loadMoreCallback\", \"loadMoreInProgress\", \"loadingState\", \"placeholder\", \"size\", \"closeOnSelect\", \"placement\", \"appendToBody\", \"popupMaxHeight\", \"popupClass\", \"pageSize\", \"ariaInvalid\", \"virtualScroll\", \"virtualScrollItemSize\", \"virtualScrollTemplateCacheSize\", \"minBufferPx\", \"maxBufferPx\"], outputs: [\"onSelectionChange\", \"onPopupOpenChange\", \"onFilterValueChange\"] }], directives: [{ type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ServiceListComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-service-list',\n                    templateUrl: './service-list.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$9.HttpClient }]; }, propDecorators: { config: [{\n                type: Input\n            }] } });\n\nclass ServiceListModule {\n}\nServiceListModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ServiceListModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nServiceListModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ServiceListModule, declarations: [ServiceListComponent], imports: [CommonModule, AdaptRxSelectModule, FormsModule], exports: [ServiceListComponent] });\nServiceListModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ServiceListModule, imports: [[CommonModule, AdaptRxSelectModule, FormsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ServiceListModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, AdaptRxSelectModule, FormsModule],\n                    declarations: [ServiceListComponent],\n                    entryComponents: [ServiceListComponent],\n                    exports: [ServiceListComponent]\n                }]\n        }] });\n\nclass RxTabContainerComponent extends ContainerComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            enableLazyLoading: false,\n            label: ''\n        };\n    }\n}\nRxTabContainerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxTabContainerComponent, deps: null, target: i0.ɵɵFactoryTarget.Component });\nRxTabContainerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxTabContainerComponent, selector: \"rx-tab-container\", usesInheritance: true, ngImport: i0, template: \"<rx-runtime-view-canvas-outlet *ngIf=\\\"!state.hidden\\\"></rx-runtime-view-canvas-outlet>\\n\", styles: [\":host{display:block}\\n\"], components: [{ type: i1$2.RuntimeViewCanvasOutletComponent, selector: \"rx-runtime-view-canvas-outlet\", inputs: [\"name\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxTabContainerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-tab-container',\n                    templateUrl: './tab-container.component.html',\n                    styleUrls: ['./tab-container.component.scss']\n                }]\n        }] });\n\nclass RxTabPanelComponent extends BaseViewComponent {\n    constructor(runtimeCanvasItemComponent) {\n        super();\n        this.runtimeCanvasItemComponent = runtimeCanvasItemComponent;\n        this.childLayouts = [];\n        this.state = {\n            activeTabIndex: null\n        };\n        this.api = {\n            setProperty: this.setProperty.bind(this)\n        };\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.notifyPropertyChanged('api', this.api);\n        this.config.pipe(takeUntil(this.destroyed$)).subscribe((config) => {\n            this.state = Object.assign(Object.assign({}, this.state), config);\n            this.isHidden = Boolean(this.state.hidden);\n        });\n        this.childLayouts = get(this.runtimeCanvasItemComponent.getChildren(RX_VIEW_DEFINITION.defaultOutletName), '[0].children');\n        this.childLayouts.forEach((childLayout) => {\n            childLayout.state = {\n                enableLazyLoading: false,\n                label: '',\n                isRendered: false,\n                hidden: 0\n            };\n            childLayout.config\n                .pipe(tap((childLayoutConfig) => {\n                childLayout.state = Object.assign(Object.assign({}, childLayout.state), childLayoutConfig);\n            }), pluck('hidden'), distinctUntilChanged(), skip(1), takeUntil(this.destroyed$))\n                .subscribe(() => {\n                this.ensureActiveTabIsSet();\n            });\n        });\n        this.trySetFirstVisibleTab();\n    }\n    setProperty(propertyPath, propertyValue) {\n        if (propertyPath === 'hidden') {\n            this.state.hidden = propertyValue;\n            this.notifyPropertyChanged(propertyPath, propertyValue);\n        }\n        else if (propertyPath === 'activeTabIndex') {\n            this.setActiveTabIndex(parseInt(propertyValue, 10));\n        }\n        else {\n            return throwError(`Tab panel: property ${propertyPath} is not settable.`);\n        }\n    }\n    trackByForTabs(index, item) {\n        return item.guid;\n    }\n    canRenderContentForTab(tab) {\n        return !tab.state.enableLazyLoading || tab.state.isRendered;\n    }\n    getAllTabsData() {\n        let adaptTabsetIndex = 0;\n        return this.childLayouts.map((tab) => {\n            return {\n                adaptTabsetIndex: this.isHiddenTab(tab) ? null : adaptTabsetIndex++,\n                tab\n            };\n        });\n    }\n    isHiddenTab(tab) {\n        return Boolean(tab.state.hidden);\n    }\n    getActiveTabIndexForAdaptTabset() {\n        return isNull(this.state.activeTabIndex) ? 0 : this.getAllTabsData()[this.state.activeTabIndex].adaptTabsetIndex;\n    }\n    onActiveTabChanged(adaptTabsetIndex) {\n        const activeTabIndexForAllTabs = findIndex(this.getAllTabsData(), (tab) => tab.adaptTabsetIndex === adaptTabsetIndex);\n        this.activateTab(activeTabIndexForAllTabs);\n    }\n    setActiveTabIndex(index) {\n        const tab = this.childLayouts[index];\n        if (tab && !this.isHiddenTab(tab)) {\n            this.activateTab(index);\n        }\n    }\n    activateTab(index) {\n        this.state.activeTabIndex = index;\n        if (!isNil(index)) {\n            this.childLayouts[index].state.isRendered = true;\n        }\n        this.notifyPropertyChanged('activeTabIndex', index);\n    }\n    ensureActiveTabIsSet() {\n        const allTabs = this.childLayouts;\n        const isAllTabsHidden = every(allTabs, (tab) => this.isHiddenTab(tab));\n        if (isAllTabsHidden) {\n            this.activateTab(null);\n        }\n        else if (!isNull(this.state.activeTabIndex) && this.isHiddenTab(allTabs[this.state.activeTabIndex])) {\n            this.trySetFirstVisibleTab();\n        }\n        else if (isNull(this.state.activeTabIndex)) {\n            this.trySetFirstVisibleTab();\n        }\n    }\n    trySetFirstVisibleTab() {\n        const firstVisibleTab = findIndex(this.childLayouts, (tab) => !this.isHiddenTab(tab));\n        if (firstVisibleTab !== -1) {\n            this.activateTab(firstVisibleTab);\n        }\n    }\n}\nRxTabPanelComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxTabPanelComponent, deps: [{ token: i1$2.RuntimeViewCanvasItemComponent }], target: i0.ɵɵFactoryTarget.Component });\nRxTabPanelComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxTabPanelComponent, selector: \"rx-tab-panel\", usesInheritance: true, ngImport: i0, template: \"<adapt-tabset\\n  *ngIf=\\\"!isHidden\\\"\\n  [fullHeight]=\\\"true\\\"\\n  (tab-active-changed)=\\\"onActiveTabChanged($event.index)\\\"\\n  [tab-active]=\\\"getActiveTabIndexForAdaptTabset()\\\"\\n>\\n  <ng-template ngFor let-tab [ngForOf]=\\\"childLayouts\\\" [ngForTrackBy]=\\\"trackByForTabs\\\" let-index=\\\"index\\\">\\n    <adapt-tab-panel [adapt-tab-title]=\\\"tab.state.label\\\" *ngIf=\\\"!isHiddenTab(tab)\\\">\\n      <rx-runtime-view-canvas-item *ngIf=\\\"canRenderContentForTab(tab)\\\" [layout]=\\\"tab\\\"> </rx-runtime-view-canvas-item>\\n    </adapt-tab-panel>\\n\\n    <!-- Hidden tab should have instance for using API  -->\\n    <rx-runtime-view-canvas-item *ngIf=\\\"isHiddenTab(tab) && canRenderContentForTab(tab)\\\" [layout]=\\\"tab\\\">\\n    </rx-runtime-view-canvas-item>\\n  </ng-template>\\n</adapt-tabset>\\n\", components: [{ type: i1.AdaptTabsComponent, selector: \"adapt-tabset\", inputs: [\"showTabToolbar\", \"customCssTabContent\", \"fullHeight\", \"texts\", \"enableDnD\", \"customClassTabList\", \"allow-tabs-adding\", \"id\", \"testID\", \"dropdown-title\", \"fadeColor\", \"carouselMode\", \"justify\", \"type\", \"tab-active\"], outputs: [\"tab-index-closed\", \"tab-active-changed\", \"add-tab-clicked\", \"tabClicked\", \"tabDropped\"], exportAs: [\"adaptTabset\"] }, { type: i1.AdaptTabsPanelComponent, selector: \"adapt-tab-panel, div[tab-panel]\", inputs: [\"isActive\", \"badge-type\", \"animateBadge\", \"showBadgeAlert\", \"badgeAlertVariant\", \"badgeCustomClass\", \"adapt-tab-title\", \"disabled\", \"isHidden\", \"icon\", \"subtext\", \"icon-right\", \"icon-close\", \"aria-label\", \"aria-labelledby\", \"kebabMenu\", \"id\", \"renderContentWhenInactive\", \"badge\"] }, { type: i1$2.RuntimeViewCanvasItemComponent, selector: \"rx-runtime-view-canvas-item\", inputs: [\"layout\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxTabPanelComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-tab-panel',\n                    templateUrl: './tab-panel.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$2.RuntimeViewCanvasItemComponent }]; } });\n\nclass RxTabPanelComponentDefinitionAdapterService {\n    constructor(viewDefinitionParserService, rxJsonParserService) {\n        this.viewDefinitionParserService = viewDefinitionParserService;\n        this.rxJsonParserService = rxJsonParserService;\n    }\n    adaptDefinition(tabPanelViewComponentDefinition) {\n        this.viewDefinitionParserService\n            .getComponents(tabPanelViewComponentDefinition)\n            .filter((componentPair) => componentPair.componentDefinition.type === RxViewComponentType.TabPanel)\n            .map((componentPair) => componentPair.componentDefinition)\n            .forEach((componentDefinition) => {\n            if (componentDefinition.layout) {\n                let layout = this.rxJsonParserService.tryParseJson(componentDefinition.layout);\n                if (layout && layout.componentDefinitionId) {\n                    const columns = layout.columns.map((column) => {\n                        return {\n                            children: column.children.map((child) => child.columns[0].children[0].componentDefinitionId)\n                        };\n                    });\n                    layout = {\n                        outlets: [\n                            {\n                                name: 'DEFAULT',\n                                columns: columns\n                            }\n                        ]\n                    };\n                    componentDefinition.layout = JSON.stringify(layout);\n                }\n            }\n        });\n    }\n}\nRxTabPanelComponentDefinitionAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxTabPanelComponentDefinitionAdapterService, deps: [{ token: i1$4.RxViewDefinitionParserService }, { token: i2$1.RxJsonParserService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxTabPanelComponentDefinitionAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxTabPanelComponentDefinitionAdapterService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxTabPanelComponentDefinitionAdapterService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewDefinitionParserService }, { type: i2$1.RxJsonParserService }]; } });\n\nclass RxTabContainerComponentDefinitionAdapterService extends ContainerComponentDefinitionAdapterService {\n    constructor(viewDefinitionParserService, rxJsonParserService) {\n        super(viewDefinitionParserService, rxJsonParserService);\n        this.componentDefinitionType = RxViewComponentType.TabContainer;\n    }\n}\nRxTabContainerComponentDefinitionAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxTabContainerComponentDefinitionAdapterService, deps: [{ token: i1$4.RxViewDefinitionParserService }, { token: i2$1.RxJsonParserService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxTabContainerComponentDefinitionAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxTabContainerComponentDefinitionAdapterService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxTabContainerComponentDefinitionAdapterService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewDefinitionParserService }, { type: i2$1.RxJsonParserService }]; } });\n\nclass RxTabPanelModule {\n    constructor(rxTabPanelComponentDefinitionAdapterService, rxTabContainerComponentDefinitionAdapterService, rxDefinitionAdapterRegistryService) {\n        this.rxTabPanelComponentDefinitionAdapterService = rxTabPanelComponentDefinitionAdapterService;\n        this.rxTabContainerComponentDefinitionAdapterService = rxTabContainerComponentDefinitionAdapterService;\n        this.rxDefinitionAdapterRegistryService = rxDefinitionAdapterRegistryService;\n        rxDefinitionAdapterRegistryService.registerRuntimeAdapter(RxViewComponentType.TabPanel, rxTabPanelComponentDefinitionAdapterService);\n        rxDefinitionAdapterRegistryService.registerRuntimeAdapter(RxViewComponentType.TabContainer, rxTabContainerComponentDefinitionAdapterService);\n    }\n}\nRxTabPanelModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxTabPanelModule, deps: [{ token: RxTabPanelComponentDefinitionAdapterService }, { token: RxTabContainerComponentDefinitionAdapterService }, { token: i1$1.RxDefinitionAdapterRegistryService }], target: i0.ɵɵFactoryTarget.NgModule });\nRxTabPanelModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxTabPanelModule, declarations: [RxTabPanelComponent, RxTabContainerComponent], imports: [CommonModule, RuntimeViewCanvasModule, i1.AdaptTabsModule], exports: [RxTabPanelComponent, RxTabContainerComponent] });\nRxTabPanelModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxTabPanelModule, providers: [RxTabPanelComponentDefinitionAdapterService, RxTabContainerComponentDefinitionAdapterService], imports: [[CommonModule, RuntimeViewCanvasModule, AdaptTabsModule.forRoot()]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxTabPanelModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RxTabPanelComponent, RxTabContainerComponent],\n                    exports: [RxTabPanelComponent, RxTabContainerComponent],\n                    entryComponents: [RxTabPanelComponent, RxTabContainerComponent],\n                    imports: [CommonModule, RuntimeViewCanvasModule, AdaptTabsModule.forRoot()],\n                    providers: [RxTabPanelComponentDefinitionAdapterService, RxTabContainerComponentDefinitionAdapterService]\n                }]\n        }], ctorParameters: function () { return [{ type: RxTabPanelComponentDefinitionAdapterService }, { type: RxTabContainerComponentDefinitionAdapterService }, { type: i1$1.RxDefinitionAdapterRegistryService }]; } });\n\nclass TabPanelDesignModel extends ViewDesignerComponentModel {\n    constructor() {\n        super(...arguments);\n        this.tabContainerGuids$ = this.sandbox.getChildComponentGuids().pipe(shareReplay(1));\n        this.tabContainerComponents$ = this.sandbox\n            .getChildComponents((component) => component.type === RxViewComponentType.TabContainer)\n            .pipe(shareReplay(1), takeUntil(this.sandbox.destroyed$));\n        this.selectedTabGuid$ = new ReplaySubject(null);\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign(Object.assign({ name: null }, RX_STANDARD_PROPS_DEFAULT_VALUES), initialProperties);\n    }\n    rxInit() {\n        this.sandbox.componentProperties$.pipe(take(1)).subscribe(() => {\n            this.sandbox.updateInspectorConfig(this.getInspector());\n        });\n        this.sandbox.componentProperties$.subscribe((componentProperties) => this.validate(componentProperties));\n        this.tabContainerGuids$\n            .pipe(map((guids) => !isEmpty(guids)), take(1))\n            .subscribe((hasChildComponents) => {\n            if (!hasChildComponents) {\n                this.sandbox.setChildren([\n                    {\n                        type: RxViewComponentType.TabContainer,\n                        data: {\n                            label: 'Tab 1'\n                        }\n                    },\n                    {\n                        type: RxViewComponentType.TabContainer,\n                        data: {\n                            label: 'Tab 2'\n                        }\n                    }\n                ]);\n            }\n        });\n        this.sandbox.getComponentPropertyValue('name').subscribe((name) => {\n            const componentName = name ? `${this.sandbox.descriptor.name} (${name})` : this.sandbox.descriptor.name;\n            this.sandbox.setSettablePropertiesDataDictionary(componentName, [\n                {\n                    label: 'Hidden',\n                    expression: this.getExpressionForProperty('hidden')\n                },\n                {\n                    label: 'Active Tab Index',\n                    expression: this.getExpressionForProperty('activeTabIndex')\n                }\n            ]);\n        });\n    }\n    addTab() {\n        this.sandbox.addComponent({\n            type: RxViewComponentType.TabContainer,\n            propertiesByName: {\n                label: 'New tab'\n            }\n        });\n    }\n    removeTab(guid) {\n        this.sandbox.removeComponents([guid]);\n        combineLatest([this.selectedTabGuid$, this.tabContainerGuids$])\n            .pipe(take(1), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([selectedTabGuid, tabContainerGuids]) => {\n            if (guid === selectedTabGuid) {\n                this.selectTab(tabContainerGuids[0]);\n            }\n        });\n    }\n    selectTab(guid, skipSelectComponent = false) {\n        this.selectedTabGuid$.next(guid);\n        if (!skipSelectComponent) {\n            setTimeout(() => {\n                this.sandbox.selectComponent(guid);\n            });\n        }\n    }\n    dropPredicate() {\n        return false;\n    }\n    moveComponent(guid, insertIndex) {\n        this.sandbox.moveComponent(guid, insertIndex, this.sandbox.guid);\n    }\n    validate(properties) {\n        this.sandbox.setValidationIssues(validateStandardProps(properties));\n    }\n    getInspector() {\n        return {\n            inspectorSectionConfigs: [\n                {\n                    label: 'General',\n                    controls: [\n                        {\n                            name: 'name',\n                            component: TextFormControlComponent,\n                            options: {\n                                label: 'Name',\n                                tooltip: new Tooltip('Enter a name to uniquely identify the Tab panel')\n                            }\n                        },\n                        ...getStandardPropsInspectorConfigs()\n                    ]\n                }\n            ]\n        };\n    }\n}\n\nclass TabPanelDesignComponent {\n    constructor(rxUtilityModalsService) {\n        this.rxUtilityModalsService = rxUtilityModalsService;\n        this.components = [];\n        this.destroyed$ = new ReplaySubject(1);\n    }\n    ngOnInit() {\n        this.model.tabContainerComponents$.pipe(takeUntil(this.destroyed$)).subscribe((components) => {\n            this.components = components;\n            this.adaptTabset.checkActiveIndex();\n        });\n        this.model.tabContainerComponents$.pipe(take(1)).subscribe((components) => {\n            this.model.selectTab(first$1(components).guid, true);\n        });\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n    trackByForTabs(index, item) {\n        return item.guid;\n    }\n    onTabClicked(event) {\n        this.activeTabChanged(event);\n    }\n    onTabAdded(e) {\n        e.stopPropagation();\n        this.model.addTab();\n        setTimeout(() => {\n            this.adaptTabset.setActiveTab(this.components.length - 1, true, new MouseEvent('click'));\n        });\n    }\n    activeTabChanged({ index, event }) {\n        event.stopPropagation();\n        this.model.tabContainerGuids$.pipe(take(1)).subscribe((guids) => {\n            this.model.selectTab(guids[index]);\n        });\n    }\n    onTabDropped(tabs) {\n        for (let i = 0; i < this.components.length; i++) {\n            if (this.components[i].guid !== tabs[i].id) {\n                if (this.components[i].guid === tabs[i + 1].id) {\n                    this.model.moveComponent(tabs[i].id, i);\n                    break;\n                }\n                else {\n                    this.model.moveComponent(this.components[i].guid, findIndex(tabs, { id: this.components[i].guid }));\n                    break;\n                }\n            }\n        }\n    }\n    removeTab({ index }) {\n        this.rxUtilityModalsService\n            .confirm('Are you sure you want to delete this view component?')\n            .then((isConfirmed) => {\n            if (isConfirmed) {\n                this.model.tabContainerGuids$.pipe(take(1)).subscribe((guids) => {\n                    this.model.removeTab(guids[index]);\n                });\n            }\n        });\n    }\n}\nTabPanelDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TabPanelDesignComponent, deps: [{ token: i1$6.RxUtilityModalsService }], target: i0.ɵɵFactoryTarget.Component });\nTabPanelDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: TabPanelDesignComponent, selector: \"rx-tab-panel-design\", inputs: { model: \"model\", isReadOnly: \"isReadOnly\" }, viewQueries: [{ propertyName: \"adaptTabset\", first: true, predicate: [\"adaptTabset\"], descendants: true, static: true }], ngImport: i0, template: \"<adapt-tabset\\n  #adaptTabset\\n  (tab-index-closed)=\\\"removeTab($event)\\\"\\n  (tab-active-changed)=\\\"activeTabChanged($event)\\\"\\n  (tabClicked)=\\\"onTabClicked($event)\\\"\\n  (tabDropped)=\\\"onTabDropped($event)\\\"\\n  (add-tab-clicked)=\\\"onTabAdded($event)\\\"\\n  [allow-tabs-adding]=\\\"!isReadOnly\\\"\\n  [enableDnD]=\\\"true\\\"\\n>\\n  <adapt-tab-panel\\n    *ngFor=\\\"\\n      let component of components;\\n      let index = index;\\n      trackBy: trackByForTabs\\n    \\\"\\n    [adapt-tab-title]=\\\"component.data.label\\\"\\n    [icon-close]=\\\"!isReadOnly && components.length && components.length > 1\\\"\\n    [id]=\\\"component.guid\\\"\\n  >\\n  </adapt-tab-panel>\\n</adapt-tabset>\\n\\n<rx-canvas-outlet [dropPredicate]=\\\"model.dropPredicate\\\"></rx-canvas-outlet>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}:host{display:block;border:1px solid #d6d7d8}:host::ng-deep .adapt-tabset>.tab-container>.tab-content{display:none}:host::ng-deep>rx-canvas-outlet>rx-canvas-item-container>div>div>rx-canvas-item-column>.cdk-drop-list>.cdk-drag>.canvas-item{border-width:0;padding:0}:host::ng-deep>rx-canvas-outlet>rx-canvas-item-container>div>div>rx-canvas-item-column>.cdk-drop-list>.cdk-drag>.canvas-item>.canvas-item-header{display:none}\\n\"], components: [{ type: i1.AdaptTabsComponent, selector: \"adapt-tabset\", inputs: [\"showTabToolbar\", \"customCssTabContent\", \"fullHeight\", \"texts\", \"enableDnD\", \"customClassTabList\", \"allow-tabs-adding\", \"id\", \"testID\", \"dropdown-title\", \"fadeColor\", \"carouselMode\", \"justify\", \"type\", \"tab-active\"], outputs: [\"tab-index-closed\", \"tab-active-changed\", \"add-tab-clicked\", \"tabClicked\", \"tabDropped\"], exportAs: [\"adaptTabset\"] }, { type: i1.AdaptTabsPanelComponent, selector: \"adapt-tab-panel, div[tab-panel]\", inputs: [\"isActive\", \"badge-type\", \"animateBadge\", \"showBadgeAlert\", \"badgeAlertVariant\", \"badgeCustomClass\", \"adapt-tab-title\", \"disabled\", \"isHidden\", \"icon\", \"subtext\", \"icon-right\", \"icon-close\", \"aria-label\", \"aria-labelledby\", \"kebabMenu\", \"id\", \"renderContentWhenInactive\", \"badge\"] }, { type: i1$3.CanvasOutletComponent, selector: \"rx-canvas-outlet\", inputs: [\"name\", \"skipParentPredicate\", \"containerComponent\", \"dropListOrientation\", \"dropPredicate\"], outputs: [\"beforeViewComponentDrop\"] }], directives: [{ type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TabPanelDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-tab-panel-design',\n                    templateUrl: './tab-panel-design.component.html',\n                    styleUrls: ['./tab-panel-design.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1$6.RxUtilityModalsService }]; }, propDecorators: { model: [{\n                type: Input\n            }], isReadOnly: [{\n                type: Input\n            }], adaptTabset: [{\n                type: ViewChild,\n                args: ['adaptTabset', { static: true }]\n            }] } });\n\nclass TabContainerDesignComponent extends ContainerDesignComponent {\n    constructor(tabPanelDesignComponent) {\n        super();\n        this.tabPanelDesignComponent = tabPanelDesignComponent;\n    }\n    ngOnInit() {\n        this.tabPanelDesignComponent.model.selectedTabGuid$\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe(this.model.selectedTabGuid$);\n    }\n}\nTabContainerDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TabContainerDesignComponent, deps: [{ token: TabPanelDesignComponent }], target: i0.ɵɵFactoryTarget.Component });\nTabContainerDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: TabContainerDesignComponent, selector: \"rx-tab-container-design\", inputs: { model: \"model\" }, usesInheritance: true, ngImport: i0, template: \"<rx-canvas-outlet [skipParentPredicate]=\\\"true\\\" [containerComponent]=\\\"containerCanvasItemComponent\\\"></rx-canvas-outlet>\\n\", components: [{ type: i1$3.CanvasOutletComponent, selector: \"rx-canvas-outlet\", inputs: [\"name\", \"skipParentPredicate\", \"containerComponent\", \"dropListOrientation\", \"dropPredicate\"], outputs: [\"beforeViewComponentDrop\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TabContainerDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-tab-container-design',\n                    templateUrl: './tab-container-design.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: TabPanelDesignComponent }]; }, propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass TabPanelDesignModule {\n}\nTabPanelDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TabPanelDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nTabPanelDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TabPanelDesignModule, declarations: [TabPanelDesignComponent, TabContainerDesignComponent], imports: [CommonModule, AdaptButtonModule, AdaptTabsModule, ViewDesignerCanvasModule] });\nTabPanelDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TabPanelDesignModule, imports: [[CommonModule, AdaptButtonModule, AdaptTabsModule, ViewDesignerCanvasModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TabPanelDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [TabPanelDesignComponent, TabContainerDesignComponent],\n                    entryComponents: [TabPanelDesignComponent, TabContainerDesignComponent],\n                    imports: [CommonModule, AdaptButtonModule, AdaptTabsModule, ViewDesignerCanvasModule]\n                }]\n        }] });\n\nclass PageDesignModel extends ViewDesignerComponentModel {\n    constructor() {\n        super(...arguments);\n        this.rxViewComponentRegistryService = this.injector.get(RxViewComponentRegistryService);\n        this.componentName$ = this.sandbox.getChildComponents().pipe(filter((childComponents) => childComponents.length > 0), map((childComponents) => {\n            const pageComponentType = childComponents[0].type;\n            const descriptor = this.rxViewComponentRegistryService.get(pageComponentType);\n            return (descriptor === null || descriptor === void 0 ? void 0 : descriptor.name) || RX_VIEW_DEFINITION.unknownPageComponent.name;\n        }));\n    }\n}\n\nclass PageDesignComponent {\n}\nPageDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nPageDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: PageDesignComponent, selector: \"rx-page-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<adapt-empty-state type=\\\"objects\\\" [label]=\\\"model.componentName$ | async\\\"></adapt-empty-state>\\n\", components: [{ type: i1.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-page-design',\n                    templateUrl: './page-design.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass PageDesignModule {\n}\nPageDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nPageDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageDesignModule, declarations: [PageDesignComponent], imports: [CommonModule, AdaptEmptyStateModule] });\nPageDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageDesignModule, imports: [[CommonModule, AdaptEmptyStateModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, AdaptEmptyStateModule],\n                    declarations: [PageDesignComponent],\n                    entryComponents: [PageDesignComponent]\n                }]\n        }] });\n\nclass PageComponentDefinitionAdapterService {\n    adaptDefinition(componentDefinition) {\n        componentDefinition.layout = JSON.stringify({\n            outlets: [\n                {\n                    name: RX_VIEW_DEFINITION.defaultOutletName,\n                    columns: [\n                        {\n                            children: componentDefinition.componentDefinitions[0].guid\n                        }\n                    ]\n                }\n            ]\n        });\n    }\n}\nPageComponentDefinitionAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageComponentDefinitionAdapterService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nPageComponentDefinitionAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageComponentDefinitionAdapterService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageComponentDefinitionAdapterService, decorators: [{\n            type: Injectable\n        }] });\n\nclass PageModule {\n    constructor(rxDefinitionAdapterRegistryService, pageComponentDefinitionAdapterService) {\n        this.rxDefinitionAdapterRegistryService = rxDefinitionAdapterRegistryService;\n        this.pageComponentDefinitionAdapterService = pageComponentDefinitionAdapterService;\n        this.rxDefinitionAdapterRegistryService.registerRuntimeAdapter(RxViewComponentType.Page, this.pageComponentDefinitionAdapterService);\n    }\n}\nPageModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageModule, deps: [{ token: i1$1.RxDefinitionAdapterRegistryService }, { token: PageComponentDefinitionAdapterService }], target: i0.ɵɵFactoryTarget.NgModule });\nPageModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageModule, declarations: [PageComponent], imports: [CommonModule, RuntimeViewCanvasModule], exports: [PageComponent] });\nPageModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageModule, providers: [PageComponentDefinitionAdapterService], imports: [[CommonModule, RuntimeViewCanvasModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, RuntimeViewCanvasModule],\n                    providers: [PageComponentDefinitionAdapterService],\n                    declarations: [PageComponent],\n                    exports: [PageComponent],\n                    entryComponents: [PageComponent]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxDefinitionAdapterRegistryService }, { type: PageComponentDefinitionAdapterService }]; } });\n\nclass ImageDesignComponent {\n}\nImageDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImageDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nImageDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ImageDesignComponent, selector: \"rx-image-design\", ngImport: i0, template: \"<div class=\\\"placeholder d-flex justify-content-center align-items-center\\\">\\n  <span class=\\\"component-icon d-icon-attachment_image_adapt\\\"></span>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}:host{display:block;border:1px solid #d6d7d8}.placeholder{height:132px;color:#959899}.component-icon{height:100px;width:100px;font-size:100px;position:relative}.component-icon:before{position:absolute;top:0;bottom:0;right:0;left:0}\\n\"] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImageDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-image-design',\n                    templateUrl: './image-design.component.html',\n                    styleUrls: ['./image-design.component.scss']\n                }]\n        }] });\n\nclass ImageDesignModule {\n}\nImageDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImageDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nImageDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImageDesignModule, declarations: [ImageDesignComponent], imports: [CommonModule, RxDefinitionPickerModule, FormControlsModule] });\nImageDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImageDesignModule, imports: [[CommonModule, RxDefinitionPickerModule, FormControlsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImageDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, RxDefinitionPickerModule, FormControlsModule],\n                    declarations: [ImageDesignComponent],\n                    entryComponents: [ImageDesignComponent]\n                }]\n        }] });\n\nvar ImageAlignment;\n(function (ImageAlignment) {\n    ImageAlignment[\"Left\"] = \"left\";\n    ImageAlignment[\"Center\"] = \"center\";\n    ImageAlignment[\"Right\"] = \"right\";\n})(ImageAlignment || (ImageAlignment = {}));\nconst RX_IMAGE_ALIGNMENT_OPTIONS = [\n    {\n        id: ImageAlignment.Left,\n        name: 'Left'\n    },\n    {\n        id: ImageAlignment.Center,\n        name: 'Center'\n    },\n    {\n        id: ImageAlignment.Right,\n        name: 'Right'\n    }\n];\nconst RX_IMAGE_ALIGNMENT_STYLES = {\n    [ImageAlignment.Left]: 'justify-content-start',\n    [ImageAlignment.Center]: 'justify-content-center',\n    [ImageAlignment.Right]: 'justify-content-end'\n};\n\nclass ImageComponent extends BaseViewComponent {\n    constructor(rxRecordInstanceService, rxLogService, httpClient, domSanitizer, translateService, rxRecordInstanceUtilsService) {\n        super();\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.rxLogService = rxLogService;\n        this.httpClient = httpClient;\n        this.domSanitizer = domSanitizer;\n        this.translateService = translateService;\n        this.rxRecordInstanceUtilsService = rxRecordInstanceUtilsService;\n        this.state = {\n            recordDefinitionName: '',\n            recordInstanceId: '',\n            fieldId: '',\n            maxWidth: '',\n            imageUrl: null,\n            isImageBroken: false,\n            alignmentStyle: '',\n            altText: ''\n        };\n        this.api = {\n            setProperty: this.setProperty.bind(this)\n        };\n        this.fileName = '';\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.notifyPropertyChanged('api', this.api);\n        const config$ = this.config.pipe(distinctUntilChanged(isEqual), tap((config) => {\n            const newState = Object.assign({}, config);\n            this.isHidden = newState.hidden;\n            if (!this.state.alignmentStyle && newState.alignment) {\n                newState.alignmentStyle = this.getAlignmentStyle(newState.alignment);\n            }\n            delete newState.alignment;\n            this.state = Object.assign(Object.assign({}, this.state), newState);\n        }), shareReplay(1));\n        config$\n            .pipe(map(() => (this.state.recordInstanceId ? this.state.recordInstanceId : null)), filter((recordInstanceId) => Boolean(recordInstanceId)), distinctUntilChanged(), takeUntil(this.destroyed$))\n            .subscribe((recordInstanceId) => {\n            const imageUrl = this.rxRecordInstanceService.getAttachmentDownloadUrl(this.state.recordDefinitionName, Number(this.state.fieldId), recordInstanceId);\n            this.httpClient.get(imageUrl, { responseType: 'blob', observe: 'response' }).subscribe({\n                next: (response) => {\n                    const fileStream = response.body;\n                    this.fileName = this.rxRecordInstanceUtilsService.tryParseContentDisposition(response.headers.get('content-disposition'));\n                    if (fileStream && fileStream.type.split('/')[0] === 'image') {\n                        const fileReader = new FileReader();\n                        fileReader.onloadend = () => {\n                            this.state.imageUrl = this.domSanitizer.bypassSecurityTrustResourceUrl(fileReader.result);\n                            this.state.isImageBroken = false;\n                            this.state.altText = this.fileName;\n                        };\n                        fileReader.onerror = this.onImageLoadFailed.bind(this);\n                        fileReader.readAsDataURL(fileStream);\n                    }\n                    else {\n                        this.rxLogService.warning(`rx-image: attachment is not a valid image.`);\n                        this.onImageLoadFailed();\n                    }\n                },\n                error: (err) => {\n                    this.state.imageUrl = null;\n                    this.state.isImageBroken = false;\n                    this.state.altText = '';\n                }\n            });\n        });\n    }\n    onImageLoadFailed() {\n        this.state.imageUrl = null;\n        this.state.isImageBroken = true;\n        this.state.altText = this.translateService.instant('com.bmc.arsys.rx.client.view-components.image.invalid-image.label', { imageName: this.fileName });\n    }\n    getAlignmentStyle(alignment) {\n        return RX_IMAGE_ALIGNMENT_STYLES[alignment];\n    }\n    setProperty(propertyPath, value) {\n        if (propertyPath === 'hidden') {\n            this.isHidden = value;\n            this.notifyPropertyChanged(propertyPath, this.isHidden);\n        }\n        else {\n            return throwError(`Image: property ${propertyPath} is not settable.`);\n        }\n    }\n}\nImageComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImageComponent, deps: [{ token: i1$5.RxRecordInstanceService }, { token: i1$1.RxLogService }, { token: i1$9.HttpClient }, { token: i1$8.DomSanitizer }, { token: i2.TranslateService }, { token: i1$5.RxRecordInstanceUtilsService }], target: i0.ɵɵFactoryTarget.Component });\nImageComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ImageComponent, selector: \"rx-image\", inputs: { config: \"config\" }, usesInheritance: true, ngImport: i0, template: \"<div *ngIf=\\\"!isHidden\\\" class=\\\"d-flex {{ state.alignmentStyle }} image-container\\\">\\n  <img\\n    class=\\\"image\\\"\\n    *ngIf=\\\"state.imageUrl\\\"\\n    [src]=\\\"state.imageUrl\\\"\\n    [attr.alt]=\\\"state.altText\\\"\\n    [style.max-width]=\\\"state.maxWidth\\\"\\n  />\\n\\n  <span\\n    *ngIf=\\\"state.isImageBroken\\\"\\n    role=\\\"img\\\"\\n    [attr.aria-label]=\\\"state.altText\\\"\\n    class=\\\"broken-image d-icon-broken_image\\\"\\n  ></span>\\n</div>\\n\", styles: [\".broken-image{font-size:64px}.image{align-self:flex-start}.image-container{width:100%;overflow:hidden}\\n\"], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImageComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-image',\n                    templateUrl: './image.component.html',\n                    styleUrls: ['./image.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1$5.RxRecordInstanceService }, { type: i1$1.RxLogService }, { type: i1$9.HttpClient }, { type: i1$8.DomSanitizer }, { type: i2.TranslateService }, { type: i1$5.RxRecordInstanceUtilsService }]; }, propDecorators: { config: [{\n                type: Input\n            }] } });\n\nclass ImageModule {\n}\nImageModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImageModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nImageModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImageModule, declarations: [ImageComponent], imports: [CommonModule], exports: [ImageComponent] });\nImageModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImageModule, imports: [[CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImageModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule],\n                    declarations: [ImageComponent],\n                    entryComponents: [ImageComponent],\n                    exports: [ImageComponent]\n                }]\n        }] });\n\nclass ActionButtonRegistrationModule {\n    constructor(componentFactoryResolver, rxViewComponentRegistryService) {\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.ActionButton,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(ActionButtonComponent),\n            properties: [\n                {\n                    name: 'recordDefinitionName'\n                },\n                {\n                    name: 'fieldId'\n                },\n                {\n                    name: 'recordInstance',\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'label',\n                    localizable: true\n                },\n                RX_DISABLED_PROP_DESC,\n                ...RX_STANDARD_PROPS_DESC\n            ],\n            name: 'Action button',\n            isContainerComponent: true,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            group: RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,\n            icon: 'action_button_cursor',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(ActionButtonDesignComponent),\n            designComponentModel: ActionButtonDesignModel,\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nActionButtonRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonRegistrationModule, deps: [{ token: i0.ComponentFactoryResolver }, { token: i1$4.RxViewComponentRegistryService }], target: i0.ɵɵFactoryTarget.NgModule });\nActionButtonRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonRegistrationModule, imports: [ActionButtonDesignModule, ActionButtonModule] });\nActionButtonRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonRegistrationModule, imports: [[ActionButtonDesignModule, ActionButtonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionButtonRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [ActionButtonDesignModule, ActionButtonModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ComponentFactoryResolver }, { type: i1$4.RxViewComponentRegistryService }]; } });\n\nclass ButtonBarRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.ButtonBar,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(ButtonBarComponent),\n            outlets: [\n                {\n                    name: RX_VIEW_DEFINITION.defaultOutletName\n                }\n            ],\n            properties: RX_STANDARD_PROPS_DESC,\n            name: 'Button bar',\n            group: RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,\n            icon: 'button_panel_o',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(ButtonBarDesignComponent),\n            designComponentModel: ButtonBarDesignModel,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nButtonBarRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nButtonBarRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarRegistrationModule, imports: [ButtonBarModule, ButtonBarDesignModule] });\nButtonBarRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarRegistrationModule, imports: [[ButtonBarModule, ButtonBarDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ButtonBarRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [ButtonBarModule, ButtonBarDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass ContainerRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.Container,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(ContainerComponent),\n            properties: RX_STANDARD_PROPS_DESC,\n            outlets: [\n                {\n                    name: RX_VIEW_DEFINITION.defaultOutletName\n                }\n            ],\n            name: 'Container',\n            group: RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,\n            icon: 'layout',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(ContainerDesignComponent),\n            designComponentModel: ContainerDesignModel,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nContainerRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nContainerRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerRegistrationModule, imports: [ContainerModule, ContainerDesignModule] });\nContainerRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerRegistrationModule, imports: [[ContainerModule, ContainerDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ContainerRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [ContainerModule, ContainerDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass ImageDesignModel extends ViewDesignerComponentModel {\n    constructor() {\n        super(...arguments);\n        this.recordDefinitionName$ = this.sandbox.getComponentPropertyValue('recordDefinitionName');\n        this.attachmentFields$ = this.recordDefinitionName$.pipe(switchMap((recordDefinitionName) => recordDefinitionName ? this.getAttachmentFieldsFromRecordDefinition(recordDefinitionName) : of([])));\n        this.rxModalService = this.injector.get(RxModalService);\n        this.rxRecordDefinitionCacheService = this.injector.get(RxRecordDefinitionCacheService);\n        this.maxWidthUnits = [\n            {\n                name: 'pixels',\n                id: 'px'\n            },\n            {\n                name: '%',\n                id: '%'\n            }\n        ];\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign(Object.assign({ name: null, recordDefinitionName: null, recordInstanceId: null, fieldId: null, maxWidth: null, alignment: ImageAlignment.Left }, RX_STANDARD_PROPS_DEFAULT_VALUES), initialProperties);\n    }\n    rxInit() {\n        this.sandbox.componentProperties$.pipe(take(1)).subscribe((componentProperties) => {\n            this.sandbox.updateInspectorConfig(this.getInspector(componentProperties));\n        });\n        this.recordDefinitionName$\n            .pipe(skip(1), withLatestFrom(this.sandbox.componentProperties$), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([recordDefinitionName, properties]) => {\n            const newProperties = Object.assign(Object.assign({}, properties), { recordInstanceId: null, fieldId: null });\n            this.sandbox.updateComponentProperties(newProperties);\n            this.sandbox.updateInspectorConfig(this.getInspector(newProperties));\n        });\n        this.attachmentFields$\n            .pipe(withLatestFrom(this.sandbox.componentProperties$), takeUntil(this.sandbox.destroyed$))\n            .subscribe(([attachmentFields, properties]) => {\n            this.sandbox.updateInspectorConfig(this.getInspector(properties, attachmentFields));\n        });\n        combineLatest([\n            this.validateEmptyProp('recordDefinitionName', 'Record definition name cannot be blank.'),\n            this.validateEmptyProp('recordInstanceId', 'Record instance ID cannot be blank.'),\n            this.validateEmptyProp('fieldId', 'Field ID cannot be blank.'),\n            this.sandbox.getComponentPropertyValue('maxWidth').pipe(map((value) => this.validateMaxWidth(value))),\n            this.sandbox.getComponentPropertyValue('styles').pipe(map(validateCssClassNames)),\n            this.sandbox\n                .getComponentPropertyValue(RX_AVAILABLE_ON_DEVICES_PROP_NAME)\n                .pipe(map(validateAvailableOnDevicesProp))\n        ])\n            .pipe(map(flatten), map(compact), takeUntil(this.sandbox.destroyed$))\n            .subscribe((validationIssues) => this.sandbox.setValidationIssues(validationIssues));\n        this.sandbox.getComponentPropertyValue('name').subscribe((name) => {\n            const componentName = name ? `${this.sandbox.descriptor.name} (${name})` : this.sandbox.descriptor.name;\n            this.sandbox.setSettablePropertiesDataDictionary(componentName, [\n                {\n                    label: 'Hidden',\n                    expression: this.getExpressionForProperty('hidden')\n                }\n            ]);\n        });\n    }\n    getAttachmentFieldsFromRecordDefinition(recordDefinitionName) {\n        return this.rxRecordDefinitionCacheService.getRecordDefinition(recordDefinitionName).pipe(map((recordDefinition) => recordDefinition.fieldDefinitions\n            .filter((definition) => definition.resourceType === RX_RECORD_DEFINITION.dataTypes.attachment.resourceType)\n            .map(({ id, name }) => ({\n            id: id.toString(),\n            name\n        }))));\n    }\n    getInspector(props, attachmentFields = []) {\n        return {\n            inspectorSectionConfigs: [\n                {\n                    label: 'General',\n                    controls: [\n                        {\n                            name: 'name',\n                            component: TextFormControlComponent,\n                            options: {\n                                label: 'Name',\n                                tooltip: new Tooltip('Enter a name to uniquely identify the Image view component.')\n                            }\n                        },\n                        {\n                            name: 'recordDefinitionName',\n                            component: RxDefinitionPickerComponent,\n                            options: {\n                                label: 'Record definition name',\n                                definitionType: RxDefinitionPickerType.RegularRecord,\n                                beforeValueChange: (oldValue, newValue) => {\n                                    if (Boolean(oldValue) && props.recordInstanceId && props.fieldId) {\n                                        return this.rxModalService.confirm({\n                                            title: 'Warning',\n                                            modalStyle: RX_MODAL.modalStyles.warning,\n                                            message: 'Record Instance ID and Field ID will be cleared. Do you want to continue?'\n                                        });\n                                    }\n                                    else {\n                                        return Promise.resolve(true);\n                                    }\n                                },\n                                required: true\n                            }\n                        },\n                        {\n                            name: 'fieldId',\n                            component: SelectFormControlComponent,\n                            options: {\n                                label: 'Field name',\n                                options: attachmentFields,\n                                required: true\n                            }\n                        },\n                        {\n                            name: 'recordInstanceId',\n                            component: ExpressionInspectorControlComponent,\n                            options: {\n                                label: 'Record ID',\n                                isRequired: true\n                            }\n                        },\n                        {\n                            name: 'alignment',\n                            component: SelectFormControlComponent,\n                            options: {\n                                label: 'Horizontal alignment',\n                                options: RX_IMAGE_ALIGNMENT_OPTIONS\n                            }\n                        },\n                        {\n                            name: 'maxWidth',\n                            component: StepperWithUnitsFormControlComponent,\n                            options: {\n                                label: 'Maximum width',\n                                defaultUnit: 'px',\n                                units: this.maxWidthUnits,\n                                stepperOptionByUnits: {\n                                    px: {\n                                        minValue: 0\n                                    },\n                                    '%': {\n                                        minValue: 0,\n                                        maxValue: 100,\n                                        defaultValue: 100\n                                    }\n                                }\n                            }\n                        },\n                        ...getStandardPropsInspectorConfigs()\n                    ]\n                }\n            ]\n        };\n    }\n    validateEmptyProp(propertyName, description) {\n        return this.sandbox\n            .getComponentPropertyValue(propertyName)\n            .pipe(map((value) => (value ? null : this.sandbox.createError(description, propertyName))));\n    }\n    validateMaxWidth(maxWidth) {\n        if (maxWidth) {\n            const matches = maxWidth.match(/^([+-]?\\d+(?:\\.\\d+)?)(.*)/);\n            if (matches) {\n                const numberValue = Number(matches[1]);\n                const unitValue = matches[2];\n                if (unitValue === '%' && numberValue > 100) {\n                    return this.sandbox.createError('Maximum width cannot be greater than 100%.');\n                }\n                else if (numberValue < 0) {\n                    return this.sandbox.createError('Maximum width should be a positive number.');\n                }\n            }\n        }\n    }\n}\n\nclass ImageRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxViewComponentRegistryService.register({\n            type: RxViewComponentType.Image,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(ImageComponent),\n            name: 'Image',\n            group: RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            properties: [\n                {\n                    name: 'recordInstanceId',\n                    enableExpressionEvaluation: true\n                },\n                ...RX_STANDARD_PROPS_DESC\n            ],\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(ImageDesignComponent),\n            designComponentModel: ImageDesignModel,\n            icon: 'attachment_image_adapt',\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nImageRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImageRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nImageRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImageRegistrationModule, imports: [ImageModule, ImageDesignModule] });\nImageRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImageRegistrationModule, imports: [[ImageModule, ImageDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ImageRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [ImageModule, ImageDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass PageRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxViewComponentRegistryService.register({\n            type: RxViewComponentType.Page,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(PageComponent),\n            outlets: [\n                {\n                    name: RX_VIEW_DEFINITION.defaultOutletName\n                }\n            ],\n            name: 'Page',\n            group: RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(PageDesignComponent),\n            designComponentModel: PageDesignModel,\n            hidden: true,\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nPageRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nPageRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageRegistrationModule, imports: [PageModule, PageDesignModule] });\nPageRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageRegistrationModule, imports: [[PageModule, PageDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PageRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [PageModule, PageDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass RecordEditorRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.RecordEditor,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(RecordEditorComponent),\n            properties: [\n                {\n                    name: 'recordInstanceId',\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'allowEdit',\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'label',\n                    localizable: true\n                },\n                RX_AVAILABLE_ON_DEVICES_PROP_DESC\n            ],\n            outlets: [\n                {\n                    name: RX_VIEW_DEFINITION.defaultOutletName\n                }\n            ],\n            name: 'Record editor',\n            group: RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,\n            icon: 'file_text',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(RecordEditorDesignComponent),\n            designComponentModel: RecordEditorDesignModel,\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nRecordEditorRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nRecordEditorRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorRegistrationModule, imports: [RecordEditorModule, RecordEditorDesignModule] });\nRecordEditorRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorRegistrationModule, imports: [[RecordEditorModule, RecordEditorDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordEditorRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [RecordEditorModule, RecordEditorDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass RecordGridExpressionConfigurator extends RxViewComponentExpressionConfigurator {\n    constructor(injector, componentGuid, componentModel) {\n        super(injector, componentGuid, componentModel);\n        this.componentGuid = componentGuid;\n        this.componentModel = componentModel;\n        this.rxDefinitionNameService = this.injector.get(RxDefinitionNameService);\n        this.rxRecordGridUtilsService = this.injector.get(RxRecordGridUtilsService);\n        this.rxRecordDefinitionCacheService = this.injector.get(RxRecordDefinitionCacheService);\n        const filterExpressionBranch$ = this.getComponentCommonDataDictionary().pipe(switchMap((componentCommonBranch) => componentCommonBranch\n            ? componentModel.recordDefinition$.pipe(concatMap((recordDefinition) => this.rxRecordGridUtilsService.getAssociationDescriptors(recordDefinition.name).pipe(concatMap((associationDescriptors) => associationDescriptors.length\n                ? forkJoin(associationDescriptors.map((associationDescriptor) => this.rxRecordDefinitionCacheService\n                    .getRecordDefinition(associationDescriptor.recordDefinitionName)\n                    .pipe(map((associationRecordDefinition) => (Object.assign(Object.assign({}, associationDescriptor), { recordDefinition: associationRecordDefinition }))))))\n                : of([])), map((associationDescriptors) => recordDefinition\n                ? {\n                    label: 'Filter by',\n                    children: [\n                        {\n                            label: this.rxDefinitionNameService.getDisplayName(recordDefinition.name),\n                            icon: 'd-icon-file_o_gear',\n                            children: recordDefinition.fieldDefinitions.map((fieldDefinition) => {\n                                const selectionList = fieldDefinition.resourceType === RX_RECORD_DEFINITION.resourceTypes.selection\n                                    ? map$1(fieldDefinition.optionNamesById, (optionName, optionValue) => ({\n                                        label: optionName,\n                                        expression: `\\${view.components.${componentGuid}.recordDefinition.fieldDefinitionsById[${fieldDefinition.id}].optionsById[${optionValue}].id}`\n                                    }))\n                                    : undefined;\n                                return {\n                                    label: fieldDefinition.name,\n                                    icon: 'd-icon-file_o_gear',\n                                    expression: `'${fieldDefinition.id}'`,\n                                    children: fieldDefinition.resourceType === RX_RECORD_DEFINITION.resourceTypes.selection\n                                        ? [\n                                            {\n                                                label: 'Options',\n                                                children: selectionList\n                                            }\n                                        ]\n                                        : null,\n                                    autocompleteOptions: selectionList\n                                };\n                            })\n                        },\n                        ...(associationDescriptors\n                            ? associationDescriptors.map((descriptor) => ({\n                                label: this.rxDefinitionNameService.getDisplayName(descriptor.associationDefinition.name),\n                                icon: 'd-icon-file_o_gear',\n                                children: descriptor.recordDefinition.fieldDefinitions.map((fieldDefinition) => ({\n                                    label: fieldDefinition.name,\n                                    icon: 'd-icon-file_o_gear',\n                                    expression: `'\\${recordContext._associations.${descriptor.associationDefinition.guid}.${descriptor.nodeSide}[0].${fieldDefinition.id}}'`\n                                }))\n                            }))\n                            : [])\n                    ]\n                }\n                : []))), map((filterByBranch) => (Object.assign(Object.assign({}, componentCommonBranch), { children: [filterByBranch, ...componentCommonBranch.children] }))))\n            : of(null)));\n        this.configureForProperty({\n            propertyPath: 'filterExpression',\n            operators: this.getOperatorRowsByGroup(ExpressionOperatorGroup.AllServer),\n            dataDictionary$: this.getCommonDataDictionary(filterExpressionBranch$).pipe(map((dataDictionary) => [\n                RX_RECORD_GRID_DESIGN.keywords,\n                ...(dataDictionary.filter((dataDictionaryBranch) => dataDictionaryBranch.label !== 'General' && dataDictionaryBranch.label !== 'Functions') || [])\n            ]))\n        });\n    }\n}\n\nclass RecordGridRegistrationModule {\n    constructor(componentFactoryResolver, rxViewComponentRegistryService, rxRecordGridQueryExpressionEvaluatorService, rxRecordQueryExpressionEvaluatorService) {\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.rxRecordGridQueryExpressionEvaluatorService = rxRecordGridQueryExpressionEvaluatorService;\n        this.rxRecordQueryExpressionEvaluatorService = rxRecordQueryExpressionEvaluatorService;\n        rxViewComponentRegistryService.register({\n            type: RX_RECORD_GRID.type,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(RecordGridComponent),\n            properties: [\n                {\n                    name: 'recordDefinitionName',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'enableRowSelection',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'enableFiltering',\n                    type: ViewComponentPropertyType.Boolean,\n                    designType: ViewComponentPropertyType.Boolean,\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'getDataForHiddenColumns',\n                    type: ViewComponentPropertyType.Boolean,\n                    designType: ViewComponentPropertyType.Boolean,\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'requiredFilters',\n                    type: ViewComponentPropertyType.Number,\n                    designType: ViewComponentPropertyType.Number,\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'showDataForAllLocales',\n                    type: ViewComponentPropertyType.Boolean,\n                    designType: ViewComponentPropertyType.Boolean,\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'expandable',\n                    type: ViewComponentPropertyType.Boolean,\n                    designType: ViewComponentPropertyType.Boolean\n                },\n                {\n                    name: 'bordered',\n                    type: ViewComponentPropertyType.Boolean,\n                    designType: ViewComponentPropertyType.Boolean,\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'striped',\n                    type: ViewComponentPropertyType.Boolean,\n                    designType: ViewComponentPropertyType.Boolean,\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'defaultFilterPreset',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'filters',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'filterExpression',\n                    type: ViewComponentPropertyType.String,\n                    enableExpressionEvaluation: true,\n                    evaluatorService: this.rxRecordGridQueryExpressionEvaluatorService\n                },\n                {\n                    name: 'selectedRows',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'firstSelectedRow',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'clickableRow',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'selectedRowCount',\n                    type: ViewComponentPropertyType.Number\n                },\n                {\n                    name: 'totalRowCount',\n                    type: ViewComponentPropertyType.Number\n                },\n                {\n                    name: 'isUserAllowedToDeleteRecords',\n                    type: ViewComponentPropertyType.Boolean\n                },\n                {\n                    name: 'associationDefinitionName',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'associatedRecordNodeSide',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'associatedRecordId',\n                    type: ViewComponentPropertyType.String,\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'associatedRoleName',\n                    type: ViewComponentPropertyType.String,\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'enableFilterPresets',\n                    type: ViewComponentPropertyType.Boolean,\n                    designType: ViewComponentPropertyType.Boolean,\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'queryExpression',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'lastRefreshTime',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'viewPresetSelector',\n                    enableExpressionEvaluation: true\n                },\n                RX_AVAILABLE_ON_DEVICES_PROP_DESC\n            ],\n            outlets: [\n                {\n                    name: RX_VIEW_DEFINITION.defaultOutletName\n                },\n                {\n                    name: RX_RECORD_GRID.rowActionsOutletName\n                }\n            ],\n            name: 'Record grid',\n            group: RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,\n            icon: 'table',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(RecordGridDesignComponent),\n            designComponentModel: RecordGridDesignModel,\n            expressionConfigurator: RecordGridExpressionConfigurator,\n            bundleId: RX_APPLICATION.platformBundleId\n        }, {\n            type: RX_RECORD_GRID.components.column,\n            configPropertyName: 'columns',\n            properties: [\n                {\n                    name: 'title',\n                    type: ViewComponentPropertyType.String,\n                    localizable: true\n                },\n                {\n                    name: 'fieldId',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'visible',\n                    type: ViewComponentPropertyType.String,\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'sortable',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'filterable',\n                    type: ViewComponentPropertyType.String,\n                    designType: ViewComponentPropertyType.Boolean,\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'clickable',\n                    type: ViewComponentPropertyType.String,\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'index',\n                    type: ViewComponentPropertyType.Number\n                },\n                {\n                    name: 'alignment',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'cellDisplayProperties',\n                    designType: ViewComponentPropertyType.Array,\n                    type: ViewComponentPropertyType.Array\n                },\n                {\n                    name: 'wrapText',\n                    type: ViewComponentPropertyType.Boolean\n                },\n                {\n                    name: 'typeaheadKeystrokeCount',\n                    type: ViewComponentPropertyType.Number\n                },\n                {\n                    name: 'additionalQueryCriteria',\n                    type: ViewComponentPropertyType.String,\n                    enableExpressionEvaluation: true,\n                    evaluatorService: this.rxRecordQueryExpressionEvaluatorService\n                }\n            ],\n            isDataComponent: true,\n            isContainerComponent: true\n        }, {\n            type: RX_RECORD_GRID.components.filter,\n            configPropertyName: 'recordGridFilters',\n            properties: [\n                {\n                    name: 'value',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'fieldId',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: '$DISPLAYVALUE$',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'label',\n                    localizable: true\n                }\n            ],\n            isDataComponent: true\n        }, {\n            type: RX_RECORD_GRID.components.filterPreset,\n            configPropertyName: 'predefinedFilterPresets',\n            properties: [\n                {\n                    name: 'title',\n                    type: ViewComponentPropertyType.String,\n                    localizable: true\n                },\n                {\n                    name: 'filters',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'filterExpression',\n                    enableExpressionEvaluation: true,\n                    evaluatorService: this.rxRecordGridQueryExpressionEvaluatorService\n                }\n            ],\n            isDataComponent: true,\n            isContainerComponent: true\n        }, {\n            type: RX_RECORD_GRID.components.viewPreset,\n            configPropertyName: 'viewPresets',\n            properties: [\n                {\n                    name: 'viewPresetGuid',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'filters',\n                    type: ViewComponentPropertyType.String\n                }\n            ],\n            isDataComponent: true,\n            isContainerComponent: true\n        }, {\n            type: RX_RECORD_GRID.components.columnViewPreset,\n            configPropertyName: 'columnViewPresets',\n            properties: [\n                {\n                    name: 'fieldId',\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'index',\n                    designType: ViewComponentPropertyType.Number,\n                    type: ViewComponentPropertyType.Number\n                },\n                {\n                    name: 'visible',\n                    designType: ViewComponentPropertyType.Boolean,\n                    type: ViewComponentPropertyType.Boolean\n                },\n                {\n                    name: 'sortable',\n                    designType: ViewComponentPropertyType.Object,\n                    type: ViewComponentPropertyType.Object\n                }\n            ],\n            isDataComponent: true,\n            isContainerComponent: true\n        });\n    }\n}\nRecordGridRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridRegistrationModule, deps: [{ token: i0.ComponentFactoryResolver }, { token: i1$4.RxViewComponentRegistryService }, { token: RxRecordGridQueryExpressionEvaluatorService }, { token: i1$4.RxRecordQueryExpressionEvaluatorService }], target: i0.ɵɵFactoryTarget.NgModule });\nRecordGridRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridRegistrationModule, imports: [RecordGridModule, RecordGridDesignModule] });\nRecordGridRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridRegistrationModule, imports: [[RecordGridModule, RecordGridDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RecordGridRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [RecordGridModule, RecordGridDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ComponentFactoryResolver }, { type: i1$4.RxViewComponentRegistryService }, { type: RxRecordGridQueryExpressionEvaluatorService }, { type: i1$4.RxRecordQueryExpressionEvaluatorService }]; } });\n\nclass RichTextRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver, rxRichTextExpressionEvaluatorService) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxRichTextExpressionEvaluatorService = rxRichTextExpressionEvaluatorService;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.RichText,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(RichTextComponent),\n            properties: [\n                {\n                    name: 'html',\n                    enableExpressionEvaluation: true,\n                    evaluatorService: this.rxRichTextExpressionEvaluatorService,\n                    localizable: true\n                },\n                ...RX_STANDARD_PROPS_DESC\n            ],\n            name: 'Rich text',\n            isContainerComponent: true,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            group: RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,\n            icon: 'text',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(RichTextDesignComponent),\n            designComponentModel: RichTextDesignModel,\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nRichTextRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }, { token: RxRichTextExpressionEvaluatorService }], target: i0.ɵɵFactoryTarget.NgModule });\nRichTextRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextRegistrationModule, imports: [RichTextModule, RichTextDesignModule] });\nRichTextRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextRegistrationModule, providers: [RichTextDefinitionAdapterService], imports: [[RichTextModule, RichTextDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RichTextRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [RichTextModule, RichTextDesignModule],\n                    providers: [RichTextDefinitionAdapterService]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }, { type: RxRichTextExpressionEvaluatorService }]; } });\n\nclass TabContainerDesignModel extends ViewDesignerComponentModel {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.injector = injector;\n        this.sandbox = sandbox;\n        this.componentProperties$ = this.sandbox.componentProperties$;\n        this.hiddenOnCanvas$ = new BehaviorSubject(false);\n        this.selectedTabGuid$ = new Subject();\n        this.componentProperties$.pipe(take(1)).subscribe(() => {\n            this.sandbox.updateInspectorConfig(this.getInspector());\n        });\n        combineLatest([\n            this.sandbox\n                .getComponentPropertyValue('label')\n                .pipe(map((value) => (value ? null : this.sandbox.createError('Label cannot be blank.', 'label')))),\n            this.sandbox.getComponentPropertyValue('styles').pipe(map(validateCssClassNames)),\n            this.sandbox\n                .getComponentPropertyValue(RX_AVAILABLE_ON_DEVICES_PROP_NAME)\n                .pipe(map(validateAvailableOnDevicesProp))\n        ])\n            .pipe(map(flatten), map(compact))\n            .subscribe((validationIssues) => this.sandbox.setValidationIssues(validationIssues));\n        this.selectedTabGuid$.pipe(takeUntil(this.sandbox.destroyed$)).subscribe((selectedTabGuid) => {\n            this.hiddenOnCanvas$.next(this.sandbox.guid !== selectedTabGuid);\n        });\n        this.sandbox\n            .getComponentPropertyValue('columnCount')\n            .pipe(skip(1))\n            .subscribe((columnCount) => {\n            this.sandbox.setLayout(this.getDefaultColumnSpans(Number(columnCount)));\n        });\n        this.sandbox.getComponentPropertyValue('label').subscribe((label) => {\n            const componentName = label ? `${this.sandbox.descriptor.name} (${label})` : this.sandbox.descriptor.name;\n            this.sandbox.setSettablePropertiesDataDictionary(componentName, [\n                {\n                    label: 'Hidden',\n                    expression: this.getExpressionForProperty('hidden')\n                }\n            ]);\n            this.sandbox.setBreadcrumbs(label);\n        });\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign(Object.assign({ columnCount: '1', enableLazyLoading: false, label: '', rowWrap: ContainerRowWrap.Sm }, RX_STANDARD_PROPS_DEFAULT_VALUES), initialProperties);\n    }\n    setContainerLayout(columnSizes) {\n        this.sandbox.setLayout(columnSizes);\n    }\n    getDefaultColumnSpans(columnCount) {\n        const columnSpans = [];\n        const span = Math.floor(RX_CONTAINER.maxColumnSpan / columnCount);\n        times(columnCount, () => columnSpans.push(span));\n        columnSpans[columnSpans.length - 1] = (RX_CONTAINER.maxColumnSpan % columnCount) + span;\n        return columnSpans;\n    }\n    getInspector() {\n        return {\n            inspectorSectionConfigs: [\n                {\n                    label: 'General',\n                    controls: [\n                        {\n                            name: 'label',\n                            component: TextFormControlComponent,\n                            options: {\n                                label: 'Label',\n                                required: true\n                            }\n                        },\n                        {\n                            name: 'enableLazyLoading',\n                            component: SwitchFormControlComponent,\n                            options: {\n                                label: 'Enable lazy loading'\n                            }\n                        },\n                        {\n                            name: 'columnCount',\n                            component: SelectFormControlComponent,\n                            options: {\n                                label: 'Number of columns',\n                                required: true,\n                                tooltip: new Tooltip('Resize container columns on the canvas by dragging the dashed column separator line.'),\n                                options: times(6, (index) => ({ id: (++index).toString(), name: index.toString() }))\n                            }\n                        },\n                        {\n                            name: 'rowWrap',\n                            component: SelectFormControlComponent,\n                            options: {\n                                label: 'Row wrap',\n                                sortAlphabetically: false,\n                                options: values(RX_CONTAINER.rowWrapOptions),\n                                tooltip: new Tooltip(`The Row wrap property controls the layout of multi-column containers based on\n                    the width of the view. When the width of the view is decreased to a width less\n                    than the selected Row wrap value, each container column after the first one\n                    wraps onto a new line.`)\n                            }\n                        },\n                        ...getStandardPropsInspectorConfigs()\n                    ]\n                }\n            ]\n        };\n    }\n}\n\nclass TabPanelRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.TabPanel,\n            componentFactory: componentFactoryResolver.resolveComponentFactory(RxTabPanelComponent),\n            properties: RX_STANDARD_PROPS_DESC,\n            outlets: [\n                {\n                    name: RX_VIEW_DEFINITION.defaultOutletName\n                }\n            ],\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            name: 'Tab panel',\n            group: RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,\n            icon: 'app_tab',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(TabPanelDesignComponent),\n            designComponentModel: TabPanelDesignModel,\n            bundleId: RX_APPLICATION.platformBundleId\n        }, {\n            type: RxViewComponentType.TabContainer,\n            componentFactory: componentFactoryResolver.resolveComponentFactory(RxTabContainerComponent),\n            properties: [\n                ...RX_STANDARD_PROPS_DESC,\n                {\n                    name: 'label',\n                    type: ViewComponentPropertyType.String,\n                    localizable: true\n                },\n                {\n                    name: 'enableLazyLoading',\n                    type: ViewComponentPropertyType.Boolean,\n                    designType: ViewComponentPropertyType.Boolean,\n                    enableExpressionEvaluation: true\n                }\n            ],\n            outlets: [\n                {\n                    name: RX_VIEW_DEFINITION.defaultOutletName\n                }\n            ],\n            name: 'Tab',\n            group: RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,\n            hidden: true,\n            icon: 'app_tab',\n            designComponentFactory: componentFactoryResolver.resolveComponentFactory(TabContainerDesignComponent),\n            designComponentModel: TabContainerDesignModel,\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nTabPanelRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TabPanelRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nTabPanelRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TabPanelRegistrationModule, imports: [RxTabPanelModule, TabPanelDesignModule] });\nTabPanelRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TabPanelRegistrationModule, imports: [[RxTabPanelModule, TabPanelDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: TabPanelRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [RxTabPanelModule, TabPanelDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass ServiceListDesignModel extends ViewDesignerComponentModel {\n    static getInitialProperties(initialProperties) {\n        return Object.assign({ serviceRequestId: null, serviceRequestName: null, serviceRequestGuid: null }, initialProperties);\n    }\n    rxInit() {\n        this.sandbox\n            .getComponentPropertyValue('serviceRequestId')\n            .pipe(map((value) => value ? [] : [this.sandbox.createError('Selected service request ID cannot be blank.', 'serviceRequestId')]), takeUntil(this.sandbox.destroyed$))\n            .subscribe((validationIssues) => this.sandbox.setValidationIssues(validationIssues));\n        this.sandbox.componentProperties$.pipe(take(1)).subscribe(() => {\n            this.sandbox.updateInspectorConfig(this.getInspector());\n            this.sandbox.setCommonDataDictionary(this.getCommonProps());\n        });\n    }\n    getCommonProps() {\n        return {\n            label: this.sandbox.descriptor.name,\n            expression: this.getExpressionForProperty('api'),\n            children: [\n                {\n                    label: 'Service request ID',\n                    expression: this.getExpressionForProperty('serviceRequestId')\n                },\n                {\n                    label: 'Service request name',\n                    expression: this.getExpressionForProperty('serviceRequestName')\n                },\n                {\n                    label: 'Service request GUID',\n                    expression: this.getExpressionForProperty('serviceRequestGuid')\n                }\n            ]\n        };\n    }\n    getInspector() {\n        return {\n            inspectorSectionConfigs: [\n                {\n                    label: 'General',\n                    controls: [\n                        {\n                            name: 'serviceRequestId',\n                            component: ExpressionInspectorControlComponent,\n                            options: {\n                                label: 'Service request ID',\n                                isRequired: true\n                            }\n                        },\n                        {\n                            name: 'serviceRequestName',\n                            component: ExpressionInspectorControlComponent,\n                            options: {\n                                label: 'Service request name'\n                            }\n                        },\n                        {\n                            name: 'serviceRequestGuid',\n                            component: ExpressionInspectorControlComponent,\n                            options: {\n                                label: 'Service request GUID'\n                            }\n                        }\n                    ]\n                }\n            ]\n        };\n    }\n}\n\nclass ServiceListRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxViewComponentRegistryService.register({\n            type: RxViewComponentType.ServiceList,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(ServiceListComponent),\n            name: 'Service list',\n            group: RX_VIEW_DESIGNER.stencilGroups.chatbotComponents.label,\n            options: {\n                canBeEmbeddedInRecordEditor: true\n            },\n            canBeInsertedInto(componentTypes) {\n                return componentTypes.includes(RxViewComponentType.RecordEditor);\n            },\n            properties: [\n                {\n                    name: 'serviceRequestId',\n                    enableExpressionEvaluation: true,\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'serviceRequestName',\n                    enableExpressionEvaluation: true,\n                    type: ViewComponentPropertyType.String\n                },\n                {\n                    name: 'serviceRequestGuid',\n                    enableExpressionEvaluation: true,\n                    type: ViewComponentPropertyType.String\n                }\n            ],\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(ServiceListDesignComponent),\n            designComponentModel: ServiceListDesignModel,\n            icon: 'field_dropdown',\n            bundleId: RX_APPLICATION.chatbotBundleId,\n            availableInBundles: [RX_APPLICATION.chatbotBundleId]\n        });\n    }\n}\nServiceListRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ServiceListRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nServiceListRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ServiceListRegistrationModule, imports: [ServiceListModule, ServiceListDesignModule] });\nServiceListRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ServiceListRegistrationModule, imports: [[ServiceListModule, ServiceListDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ServiceListRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [ServiceListModule, ServiceListDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass UnknownDesignModel extends ViewDesignerComponentModel {\n    constructor() {\n        super(...arguments);\n        this.label = `Unknown component: ${this.sandbox.componentType}`;\n    }\n    rxInit() {\n        this.sandbox.componentProperties$.pipe(take(1)).subscribe((componentProperties) => {\n            this.sandbox.updateInspectorConfig(this.getInspector(componentProperties));\n            this.sandbox.setValidationIssues([this.sandbox.createError(this.label)]);\n        });\n    }\n    getInspector(componentProperties) {\n        const controls = keys(componentProperties).map((propertyName) => ({\n            name: propertyName,\n            component: TextFormControlComponent,\n            options: {\n                label: propertyName\n            },\n            isDisabled: true\n        }));\n        return {\n            inspectorSectionConfigs: [\n                {\n                    label: 'General',\n                    controls\n                }\n            ]\n        };\n    }\n}\n\nclass UnknownDesignComponent {\n}\nUnknownDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: UnknownDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nUnknownDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: UnknownDesignComponent, selector: \"rx-unknown\", inputs: { model: \"model\" }, ngImport: i0, template: \"<adapt-empty-state type=\\\"objects\\\" [label]=\\\"model.label\\\"></adapt-empty-state>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}:host{border:1px solid #d6d7d8;display:block;position:relative;padding:1rem;height:200px}\\n\"], components: [{ type: i1.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: UnknownDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-unknown',\n                    templateUrl: 'unknown-design.component.html',\n                    styleUrls: ['./unknown-design.component.scss'],\n                    changeDetection: ChangeDetectionStrategy.OnPush\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass UnknownDesignModule {\n}\nUnknownDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: UnknownDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nUnknownDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: UnknownDesignModule, declarations: [UnknownDesignComponent], imports: [CommonModule, AdaptEmptyStateModule] });\nUnknownDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: UnknownDesignModule, imports: [[CommonModule, AdaptEmptyStateModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: UnknownDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, AdaptEmptyStateModule],\n                    declarations: [UnknownDesignComponent]\n                }]\n        }] });\n\nclass UnknownRegistrationModule {\n    constructor(componentFactoryResolver, rxViewComponentRegistryService) {\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.Unknown,\n            outlets: [\n                {\n                    name: RX_VIEW_DEFINITION.defaultOutletName\n                }\n            ],\n            name: 'Unknown',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(UnknownDesignComponent),\n            designComponentModel: UnknownDesignModel,\n            hidden: true,\n            bundleId: RX_APPLICATION.platformBundleId\n        });\n    }\n}\nUnknownRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: UnknownRegistrationModule, deps: [{ token: i0.ComponentFactoryResolver }, { token: i1$4.RxViewComponentRegistryService }], target: i0.ɵɵFactoryTarget.NgModule });\nUnknownRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: UnknownRegistrationModule, imports: [UnknownDesignModule] });\nUnknownRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: UnknownRegistrationModule, imports: [[UnknownDesignModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: UnknownRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [UnknownDesignModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ComponentFactoryResolver }, { type: i1$4.RxViewComponentRegistryService }]; } });\n\nconst RX_CHATBOT_USER_MAPPING = {\n    commands: {\n        createUserMapping: 'com.bmc.arsys.rx.application.chat.command.CreateChatUserMappingCommand'\n    },\n    mappingStatus: {\n        check: 'check',\n        failed: 'failed',\n        inProgress: 'inProgress',\n        missingParameters: 'missingParameters',\n        pending: 'pending',\n        success: 'success'\n    },\n    messages: {\n        check: 'com.bmc.arsys.rx.settings.check',\n        failed: 'com.bmc.arsys.rx.settings.failed',\n        inProgress: 'com.bmc.arsys.rx.settings.inProgress',\n        missingParameters: 'com.bmc.arsys.rx.settings.missingParameters',\n        pending: 'com.bmc.arsys.rx.settings.pending',\n        success: 'com.bmc.arsys.rx.settings.success'\n    }\n};\n\nclass ChatbotUserMappingComponent extends BaseViewComponent {\n    constructor(translateService, rxCommandFactoryService, rxNotificationService) {\n        super();\n        this.translateService = translateService;\n        this.rxCommandFactoryService = rxCommandFactoryService;\n        this.rxNotificationService = rxNotificationService;\n        this.encryptedChatUserAndChatId = null;\n        this.chatbotProvider = null;\n        this.isMappingInProgress = false;\n        this.message = '';\n        this.mappingStatus = '';\n    }\n    ngOnInit() {\n        this.isMappingInProgress = false;\n        this.config.pipe(take(1)).subscribe((config) => {\n            this.encryptedChatUserAndChatId = config.encryptedChatUserAndChatId;\n            this.chatbotProvider = config.chatbotProvider;\n            if (!this.encryptedChatUserAndChatId) {\n                this.mappingStatus = RX_CHATBOT_USER_MAPPING.mappingStatus.missingParameters;\n                this.rxNotificationService.addErrorMessage(this.translateService.instant(RX_CHATBOT_USER_MAPPING.messages.missingParameters));\n            }\n            else {\n                this.mappingStatus = RX_CHATBOT_USER_MAPPING.mappingStatus.pending;\n            }\n            this.updateMessage();\n        });\n    }\n    isMappingButtonVisible() {\n        return this.mappingStatus === RX_CHATBOT_USER_MAPPING.mappingStatus.pending;\n    }\n    mapUser() {\n        this.isMappingInProgress = true;\n        this.mappingStatus = RX_CHATBOT_USER_MAPPING.mappingStatus.inProgress;\n        this.updateMessage();\n        const commandPayload = {\n            encryptedChatUserAndChatId: this.encryptedChatUserAndChatId,\n            chatbotProvider: this.chatbotProvider\n        };\n        this.rxCommandFactoryService\n            .forResourceType(RX_CHATBOT_USER_MAPPING.commands.createUserMapping)\n            .execute(commandPayload)\n            .pipe(catchError((error) => {\n            this.mappingStatus = RX_CHATBOT_USER_MAPPING.mappingStatus.failed;\n            this.updateMessage();\n            this.isMappingInProgress = false;\n            return throwError(error);\n        }))\n            .subscribe(() => {\n            this.mappingStatus = RX_CHATBOT_USER_MAPPING.mappingStatus.success;\n            this.updateMessage();\n            this.isMappingInProgress = false;\n        });\n    }\n    updateMessage() {\n        this.message = this.translateService.instant(RX_CHATBOT_USER_MAPPING.messages[this.mappingStatus]);\n    }\n}\nChatbotUserMappingComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ChatbotUserMappingComponent, deps: [{ token: i2.TranslateService }, { token: i1$1.RxCommandFactoryService }, { token: i1$1.RxNotificationService }], target: i0.ɵɵFactoryTarget.Component });\nChatbotUserMappingComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ChatbotUserMappingComponent, selector: \"com-bmc-arsys-rx-user-mapping\", usesInheritance: true, ngImport: i0, template: \"<div class=\\\"text-center mt-1 container\\\">\\n  <div>\\n    <span class=\\\"text-logo\\\">{{ 'com.bmc.arsys.rx.settings.title' | translate }}</span>\\n  </div>\\n  <div class=\\\"mt-4\\\">{{ message }}</div>\\n  <div>\\n    <button\\n      rx-id=\\\"verify-bmc-cloud-account\\\"\\n      class=\\\"mt-4\\\"\\n      adapt-button\\n      btn-type=\\\"primary\\\"\\n      size=\\\"large\\\"\\n      type=\\\"button\\\"\\n      [disabled]=\\\"isMappingInProgress\\\"\\n      (click)=\\\"mapUser()\\\"\\n      [hidden]=\\\"!isMappingButtonVisible()\\\"\\n    >\\n      {{ 'com.bmc.arsys.rx.settings.verify-cloud-account' | translate }}\\n    </button>\\n  </div>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.container{width:400px;margin:auto}.text-logo{font-size:var(--h1-font-size)}\\n\"], components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ChatbotUserMappingComponent, decorators: [{\n            type: Component,\n            args: [{\n                    // This is for retro compatibility to reuse the same view \"com.bmc.arsys.rx.settings:BMCCloudVerification\".\n                    // tslint:disable-next-line:component-selector\n                    selector: 'com-bmc-arsys-rx-user-mapping',\n                    templateUrl: './chatbot-user-mapping.component.html',\n                    styleUrls: ['./chatbot-user-mapping.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i2.TranslateService }, { type: i1$1.RxCommandFactoryService }, { type: i1$1.RxNotificationService }]; } });\n\n/**\n * This component is used by Chatbot to map users from a third party channel\n * as Slack, Skype for Enterprise to their Innovation Studio account.\n * Backend sends a link in Slack for example and when the user clicks on it,\n * a page on the rx.settings bundle will be displayed, leveraging this view component:\n * http://localhost:4200/helix/index.html#/com.bmc.arsys.rx.settings/view/com.bmc.arsys.rx.settings:BMCCloudVerification?encryptedChatUserAndChatId=12345&chatbotProvider=slack\n */\nclass ChatbotUserMappingRegistrationModule {\n    constructor(componentFactoryResolver, rxViewComponentRegistryService) {\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        rxViewComponentRegistryService.register({\n            // This is for retro compatibility to reuse the same view \"com.bmc.arsys.rx.settings:BMCCloudVerification\".\n            type: 'com-bmc-arsys-rx-user-mapping',\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(ChatbotUserMappingComponent),\n            name: 'Chatbot User Mapping',\n            availableInBundles: [RX_APPLICATION.settingsBundleId],\n            hidden: true,\n            properties: [\n                {\n                    name: 'encryptedChatUserAndChatId',\n                    enableExpressionEvaluation: true\n                },\n                {\n                    name: 'chatbotProvider',\n                    enableExpressionEvaluation: true\n                }\n            ]\n        });\n    }\n}\nChatbotUserMappingRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ChatbotUserMappingRegistrationModule, deps: [{ token: i0.ComponentFactoryResolver }, { token: i1$4.RxViewComponentRegistryService }], target: i0.ɵɵFactoryTarget.NgModule });\nChatbotUserMappingRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ChatbotUserMappingRegistrationModule, declarations: [ChatbotUserMappingComponent], imports: [AdaptButtonModule, CommonModule, FormsModule, TranslateModule] });\nChatbotUserMappingRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ChatbotUserMappingRegistrationModule, imports: [[AdaptButtonModule, CommonModule, FormsModule, TranslateModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ChatbotUserMappingRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [ChatbotUserMappingComponent],\n                    imports: [AdaptButtonModule, CommonModule, FormsModule, TranslateModule],\n                    entryComponents: [ChatbotUserMappingComponent]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ComponentFactoryResolver }, { type: i1$4.RxViewComponentRegistryService }]; } });\n\nconst RX_IFRAME_LOGIN_EVENT = {\n    eventMessage: 'LOGIN_SUCCESSFUL'\n};\n\nclass IframeLoginEventComponent extends BaseViewComponent {\n    ngOnInit() {\n        var _a;\n        (_a = window.opener) === null || _a === void 0 ? void 0 : _a.postMessage(RX_IFRAME_LOGIN_EVENT.eventMessage, '*');\n    }\n}\nIframeLoginEventComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IframeLoginEventComponent, deps: null, target: i0.ɵɵFactoryTarget.Component });\nIframeLoginEventComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: IframeLoginEventComponent, selector: \"com-bmc-arsys-rx-settings-iframe-login-event\", usesInheritance: true, ngImport: i0, template: \"<img\\n  src=\\\"/com.bmc.arsys.rx.settings/resources/images/login-successful.gif\\\"\\n  alt=\\\"Login successful\\\"\\n  class=\\\"login-verification\\\"\\n/>\\n\", styles: [\".login-verification{top:50%;left:50%;position:fixed;transform:translate(-50%,-50%);width:670px}\\n\"] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IframeLoginEventComponent, decorators: [{\n            type: Component,\n            args: [{\n                    // This is for retro compatibility to reuse the same view \"com.bmc.arsys.rx.settings:BMCLoginVerification\".\n                    // tslint:disable-next-line:component-selector\n                    selector: 'com-bmc-arsys-rx-settings-iframe-login-event',\n                    templateUrl: './iframe-login-event.component.html',\n                    styleUrls: ['./iframe-login-event.component.scss']\n                }]\n        }] });\n\n/**\n * This component is used by view-loader.js script when the login cannot be achieved\n * in an iFrame (for example with Microsoft IDP).\n * In this case view-loader.js loads a view in a window popup that will require the user\n * to log in. Once the user is logged in, this View Component will send a PostMessage to\n * view-loader.js that will close the popup.\n */\nclass IframeLoginEventRegistrationModule {\n    constructor(componentFactoryResolver, rxViewComponentRegistryService) {\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        rxViewComponentRegistryService.register({\n            // This is for retro compatibility to reuse the same view \"com.bmc.arsys.rx.settings:BMCLoginVerification\".\n            type: 'com-bmc-arsys-rx-settings-iframe-login-event',\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(IframeLoginEventComponent),\n            name: 'IFrame Login Event',\n            availableInBundles: [RX_APPLICATION.settingsBundleId],\n            hidden: true\n        });\n    }\n}\nIframeLoginEventRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IframeLoginEventRegistrationModule, deps: [{ token: i0.ComponentFactoryResolver }, { token: i1$4.RxViewComponentRegistryService }], target: i0.ɵɵFactoryTarget.NgModule });\nIframeLoginEventRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IframeLoginEventRegistrationModule, declarations: [IframeLoginEventComponent], imports: [CommonModule] });\nIframeLoginEventRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IframeLoginEventRegistrationModule, imports: [[CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: IframeLoginEventRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [IframeLoginEventComponent],\n                    imports: [CommonModule],\n                    entryComponents: [IframeLoginEventComponent]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ComponentFactoryResolver }, { type: i1$4.RxViewComponentRegistryService }]; } });\n\nclass SmartReportingRedirectorComponent {\n    constructor(rxSmartReportingService) {\n        this.rxSmartReportingService = rxSmartReportingService;\n    }\n    ngOnInit() {\n        this.rxSmartReportingService\n            .openSmartReporting('_self', {\n            query: this.runtimeViewModelApi.getViewInputParameters().param\n        })\n            .subscribe();\n    }\n}\nSmartReportingRedirectorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SmartReportingRedirectorComponent, deps: [{ token: i1$1.RxSmartReportingService }], target: i0.ɵɵFactoryTarget.Component });\nSmartReportingRedirectorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: SmartReportingRedirectorComponent, selector: \"rx-smart-reporting-redirector\", inputs: { runtimeViewModelApi: \"runtimeViewModelApi\" }, ngImport: i0, template: \"<div class=\\\"p-3\\\">{{ 'com.bmc.arsys.rx.client.smart-reporting-redirector.message' | translate }}</div>\\n\", pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SmartReportingRedirectorComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-smart-reporting-redirector',\n                    templateUrl: './smart-reporting-redirector.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxSmartReportingService }]; }, propDecorators: { runtimeViewModelApi: [{\n                type: Input\n            }] } });\n\nclass SmartReportingRedirectorRegistrationModule {\n    constructor(componentFactoryResolver, rxViewComponentRegistryService) {\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        rxViewComponentRegistryService.register({\n            type: 'rx-smart-reporting-redirector',\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(SmartReportingRedirectorComponent),\n            name: 'Smart reporting redirector',\n            isPageComponent: true,\n            hidden: true,\n            availableInBundles: [RX_APPLICATION.settingsBundleId]\n        });\n    }\n}\nSmartReportingRedirectorRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SmartReportingRedirectorRegistrationModule, deps: [{ token: i0.ComponentFactoryResolver }, { token: i1$4.RxViewComponentRegistryService }], target: i0.ɵɵFactoryTarget.NgModule });\nSmartReportingRedirectorRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SmartReportingRedirectorRegistrationModule, declarations: [SmartReportingRedirectorComponent], imports: [TranslateModule] });\nSmartReportingRedirectorRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SmartReportingRedirectorRegistrationModule, imports: [[TranslateModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: SmartReportingRedirectorRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [SmartReportingRedirectorComponent],\n                    imports: [TranslateModule],\n                    entryComponents: [SmartReportingRedirectorComponent]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ComponentFactoryResolver }, { type: i1$4.RxViewComponentRegistryService }]; } });\n\nconst RX_SHARABLE_VIEW_RESETS_FEATURE_NAME = '23503_SHARABLE_VIEW_PRESET';\nconst RX_VIEW_PRESET = {\n    user: {\n        recordDefinitionName: 'CTM:People',\n        fields: {\n            fullName: 1000000017,\n            lastName: 1000000018,\n            firstName: 1000000019,\n            loginId: RX_RECORD_DEFINITION.coreFieldIds.assignee,\n            recordId: RX_RECORD_DEFINITION.coreFieldIds.id,\n            email: 1000000048\n        }\n    },\n    sharedViewPreset: {\n        recordDefinitionName: 'com.bmc.arsys.rx.settings:SharedViewPreset',\n        fields: {\n            viewPresetName: 58200,\n            viewName: 58201,\n            viewPresetInfo: 58202,\n            viewPresetSelectorGuid: 58203,\n            sharedUsers: 58204,\n            id: RX_RECORD_DEFINITION.coreFieldIds.id,\n            ownerFullName: 58205\n        }\n    }\n};\n\nclass RxShareViewPresetDataService {\n    constructor(rxRecordInstanceDataPageService, rxRecordInstanceService, httpClient, rxJsonParserService) {\n        this.rxRecordInstanceDataPageService = rxRecordInstanceDataPageService;\n        this.rxRecordInstanceService = rxRecordInstanceService;\n        this.httpClient = httpClient;\n        this.rxJsonParserService = rxJsonParserService;\n    }\n    searchUsers(query) {\n        return this.rxRecordInstanceDataPageService\n            .post({\n            params: {\n                recorddefinition: RX_VIEW_PRESET.user.recordDefinitionName,\n                propertySelection: [\n                    RX_VIEW_PRESET.user.fields.fullName,\n                    RX_VIEW_PRESET.user.fields.email,\n                    RX_VIEW_PRESET.user.fields.loginId\n                ],\n                pageSize: RX_DATA_PAGE.defaultPageSize,\n                queryExpression: [\n                    RX_VIEW_PRESET.user.fields.fullName,\n                    RX_VIEW_PRESET.user.fields.email,\n                    RX_VIEW_PRESET.user.fields.loginId\n                ]\n                    .map((fieldId) => `('${fieldId}' LIKE \"%${query}%\")`)\n                    .join(' OR ')\n            }\n        })\n            .pipe(map((result) => result.data));\n    }\n    getSharedViewPresets(viewPresetSelectorGuid, loginId) {\n        return this.rxRecordInstanceDataPageService\n            .post({\n            params: {\n                recorddefinition: RX_VIEW_PRESET.sharedViewPreset.recordDefinitionName,\n                queryExpression: [\n                    `'${RX_VIEW_PRESET.sharedViewPreset.fields.viewPresetSelectorGuid}' = \"${viewPresetSelectorGuid}\"`\n                ].join(' AND '),\n                propertySelection: [\n                    RX_VIEW_PRESET.sharedViewPreset.fields.viewPresetName,\n                    RX_VIEW_PRESET.sharedViewPreset.fields.id,\n                    RX_VIEW_PRESET.sharedViewPreset.fields.ownerFullName,\n                    RX_VIEW_PRESET.sharedViewPreset.fields.sharedUsers\n                ]\n            }\n        })\n            .pipe(map((dataPageResult) => dataPageResult.data.filter((sharedViewPreset) => {\n            const users = this.rxJsonParserService.tryParseJson(sharedViewPreset[RX_VIEW_PRESET.sharedViewPreset.fields.sharedUsers], []);\n            return users.find((user) => user.loginId === loginId);\n        })));\n    }\n    getSharedViewPreset(guid) {\n        return this.rxRecordInstanceService.get(RX_VIEW_PRESET.sharedViewPreset.recordDefinitionName, guid);\n    }\n    createSharedViewPreset(payload) {\n        return this.httpClient.post(this.getUrl(), payload, {\n            responseType: 'text'\n        });\n    }\n    updateSharedViewPreset(guid, payload) {\n        return this.httpClient.put(this.getUrl(guid), payload);\n    }\n    deleteSharedViewPreset(guid) {\n        return this.rxRecordInstanceService.delete(RX_VIEW_PRESET.sharedViewPreset.recordDefinitionName, guid);\n    }\n    getUrl(guid) {\n        return guid\n            ? `/api/rx/application/configuration/viewpreset/${guid}`\n            : `/api/rx/application/configuration/viewpreset`;\n    }\n}\nRxShareViewPresetDataService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxShareViewPresetDataService, deps: [{ token: i1$5.RxRecordInstanceDataPageService }, { token: i1$5.RxRecordInstanceService }, { token: i1$9.HttpClient }, { token: i2$1.RxJsonParserService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxShareViewPresetDataService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxShareViewPresetDataService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxShareViewPresetDataService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$5.RxRecordInstanceDataPageService }, { type: i1$5.RxRecordInstanceService }, { type: i1$9.HttpClient }, { type: i2$1.RxJsonParserService }]; } });\n\nclass RxShareViewPresetService {\n    constructor(rxShareViewPresetDataService, rxStringService, rxJsonParserService, rxCurrentUserService) {\n        this.rxShareViewPresetDataService = rxShareViewPresetDataService;\n        this.rxStringService = rxStringService;\n        this.rxJsonParserService = rxJsonParserService;\n        this.rxCurrentUserService = rxCurrentUserService;\n    }\n    getAutocompleteSearch(text$) {\n        return text$.pipe(debounceTime(250), distinctUntilChanged(), switchMap((searchTerm) => {\n            const trimmedValue = searchTerm.trim();\n            if (trimmedValue.length > 0) {\n                return this.rxShareViewPresetDataService.searchUsers(trimmedValue);\n            }\n            else {\n                return of([]);\n            }\n        }), map((users) => users.map((user) => ({\n            text: user[RX_VIEW_PRESET.user.fields.fullName],\n            data: {\n                loginId: user[RX_VIEW_PRESET.user.fields.loginId],\n                fullName: user[RX_VIEW_PRESET.user.fields.fullName],\n                emailAddress: user[RX_VIEW_PRESET.user.fields.email]\n            }\n        }))));\n    }\n    getSharedViewPresetUsers(guid) {\n        return this.rxShareViewPresetDataService\n            .getSharedViewPreset(guid)\n            .pipe(map((sharedViewPreset) => this.rxJsonParserService.tryParseJson(sharedViewPreset === null || sharedViewPreset === void 0 ? void 0 : sharedViewPreset.fieldInstances[RX_VIEW_PRESET.sharedViewPreset.fields.sharedUsers].value, [])));\n    }\n    getSharedViewPresetData(guid) {\n        return this.rxShareViewPresetDataService.getSharedViewPreset(guid).pipe(map((sharedViewPreset) => ({\n            viewPresetName: sharedViewPreset === null || sharedViewPreset === void 0 ? void 0 : sharedViewPreset.fieldInstances[RX_VIEW_PRESET.sharedViewPreset.fields.viewPresetName].value,\n            sharedViewPresets: this.rxJsonParserService.tryParseJson(sharedViewPreset === null || sharedViewPreset === void 0 ? void 0 : sharedViewPreset.fieldInstances[RX_VIEW_PRESET.sharedViewPreset.fields.viewPresetInfo].value, null)\n        })));\n    }\n    createUpdateSharedViewPreset(payload, presetGuid) {\n        if (presetGuid) {\n            return this.rxShareViewPresetDataService.updateSharedViewPreset(presetGuid, payload).pipe(map(() => presetGuid));\n        }\n        else {\n            return this.rxShareViewPresetDataService.createSharedViewPreset(payload);\n        }\n    }\n    saveSharedViewPreset(data, presetGuid) {\n        const sharedUsers$ = data.sharedUsers ? of(data.sharedUsers) : this.getSharedViewPresetUsers(presetGuid);\n        return combineLatest([data.runtimeViewModelApi.shareViewPreset(data.presetSelectorGuid), sharedUsers$]).pipe(map(([sharedViewPresets, sharedUsers]) => ({\n            viewPresetName: data.currentViewPreset.label,\n            viewName: '',\n            viewPresetGuid: data.presetSelectorGuid,\n            submitter: this.rxCurrentUserService.get().fullName,\n            sharedUsers,\n            presetInformation: JSON.stringify(sharedViewPresets)\n        })), switchMap((payload) => this.createUpdateSharedViewPreset(payload, presetGuid)));\n    }\n    deleteSharedViewPreset(sharedViewPresetInstanceGuid) {\n        return this.rxShareViewPresetDataService.deleteSharedViewPreset(sharedViewPresetInstanceGuid);\n    }\n    getSharedViewPresetsForCurrentUser(presetSelectorGuid) {\n        return this.rxShareViewPresetDataService\n            .getSharedViewPresets(presetSelectorGuid, this.rxCurrentUserService.getName())\n            .pipe(map((presets) => presets.map((preset) => ({\n            label: preset[RX_VIEW_PRESET.sharedViewPreset.fields.viewPresetName],\n            guid: preset[RX_VIEW_PRESET.sharedViewPreset.fields.id],\n            ownerFullName: preset[RX_VIEW_PRESET.sharedViewPreset.fields.ownerFullName]\n        }))));\n    }\n}\nRxShareViewPresetService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxShareViewPresetService, deps: [{ token: RxShareViewPresetDataService }, { token: i2$1.RxStringService }, { token: i2$1.RxJsonParserService }, { token: i1$1.RxCurrentUserService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxShareViewPresetService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxShareViewPresetService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxShareViewPresetService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RxShareViewPresetDataService }, { type: i2$1.RxStringService }, { type: i2$1.RxJsonParserService }, { type: i1$1.RxCurrentUserService }]; } });\n\nclass RxViewPresetSelectorUserPreferencesService {\n    constructor(rxUserPreferencesService, rxShareViewPresetService) {\n        this.rxUserPreferencesService = rxUserPreferencesService;\n        this.rxShareViewPresetService = rxShareViewPresetService;\n    }\n    save(viewPresetSelectorState) {\n        const customViewPresets = viewPresetSelectorState.customViewPresetOptions.map((customViewPresetOption) => pick(customViewPresetOption, ['guid', 'label', 'userSharedViewPresetGuid']));\n        const sharedViewPresets = viewPresetSelectorState.sharedViewPresetOptions.map((sharedViewPresetOption) => pick(sharedViewPresetOption, ['guid', 'label']));\n        const data = {\n            preferences: JSON.stringify({\n                customViewPresets,\n                sharedViewPresets,\n                viewPresetGuid: viewPresetSelectorState.appliedViewPresetOption.guid\n            }),\n            componentTypeName: RxViewComponentType.ViewPresetSelector,\n            version: '1.0',\n            componentId: this.viewPresetSelectorGuid\n        };\n        return this.rxUserPreferencesService.setUiComponentPreferences(data, this.viewPresetSelectorGuid);\n    }\n    applyUserPreferences(viewPresetSelectorGuid, viewPresetSelectorState) {\n        this.viewPresetSelectorGuid = viewPresetSelectorGuid;\n        return this.get(viewPresetSelectorGuid).pipe(map((preferences) => {\n            viewPresetSelectorState.customViewPresetOptions = preferences.customViewPresets;\n            if (preferences.sharedViewPresets) {\n                viewPresetSelectorState.sharedViewPresetOptions = preferences.sharedViewPresets.map((preset) => (Object.assign(Object.assign({}, preset), { isShared: true })));\n            }\n            viewPresetSelectorState.appliedViewPresetOption =\n                find(viewPresetSelectorState.customViewPresetOptions, { guid: preferences.viewPresetGuid }) ||\n                    find(viewPresetSelectorState.systemViewPresetOptions, { guid: preferences.viewPresetGuid }) ||\n                    find(viewPresetSelectorState.sharedViewPresetOptions, { guid: preferences.viewPresetGuid }) ||\n                    viewPresetSelectorState.systemViewPresetOptions[0];\n            return viewPresetSelectorState;\n        }), switchMap((state) => this.checkSharedViewPresets(state)));\n    }\n    get(guid) {\n        return this.rxUserPreferencesService.getUiComponentPreferences(guid).pipe(map((preferences) => preferences !== null && preferences !== void 0 ? preferences : {\n            customViewPresets: [],\n            sharedViewPresets: [],\n            viewPresetGuid: null\n        }));\n    }\n    checkSharedViewPresets(state) {\n        if (state.sharedViewPresetOptions.length) {\n            return this.rxShareViewPresetService.getSharedViewPresetsForCurrentUser(this.viewPresetSelectorGuid).pipe(map((sharedPresets) => {\n                let shouldUpdatePreferences = false;\n                let removedPresetGuid = null;\n                // checking if already added shared presets are still available\n                // and updating preset names in case of renaming\n                state.sharedViewPresetOptions = state.sharedViewPresetOptions.reduce((result, presetOption) => {\n                    const existingPreset = sharedPresets.find((sharedPreset) => sharedPreset.guid === presetOption.guid);\n                    if (existingPreset) {\n                        if (presetOption.label !== existingPreset.label) {\n                            presetOption.label = existingPreset.label;\n                            shouldUpdatePreferences = true;\n                        }\n                        result.push(presetOption);\n                    }\n                    else {\n                        shouldUpdatePreferences = true;\n                    }\n                    return result;\n                }, []);\n                // checking if current selected preset is still available\n                // and if not - switching to first system preset\n                if (state.appliedViewPresetOption.isShared) {\n                    const isOptionStillAvailable = state.sharedViewPresetOptions.find((option) => option.guid === state.appliedViewPresetOption.guid);\n                    // if preset it not available anymore or sharing was disabled\n                    if (!isOptionStillAvailable || !state.isSharingEnabled) {\n                        if (!isOptionStillAvailable) {\n                            removedPresetGuid = state.appliedViewPresetOption.guid;\n                        }\n                        state.appliedViewPresetOption = state.systemViewPresetOptions[0];\n                    }\n                }\n                return { state, shouldUpdatePreferences, removedPresetGuid };\n            }));\n        }\n        else {\n            return of({ state, shouldUpdatePreferences: false, removedPresetGuid: null });\n        }\n    }\n}\nRxViewPresetSelectorUserPreferencesService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewPresetSelectorUserPreferencesService, deps: [{ token: i1$1.RxUserPreferencesService }, { token: RxShareViewPresetService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxViewPresetSelectorUserPreferencesService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewPresetSelectorUserPreferencesService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewPresetSelectorUserPreferencesService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1$1.RxUserPreferencesService }, { type: RxShareViewPresetService }]; } });\n\nclass RenameViewPresetComponent extends RxModalClass {\n    constructor(activeModalRef, injector) {\n        super(activeModalRef, injector);\n        this.activeModalRef = activeModalRef;\n        this.injector = injector;\n        this.viewPresetNameFormControl = new FormControl('');\n        this.destroyed$ = new ReplaySubject(1);\n        this.modalData = this.activeModalRef.getData();\n        this.viewPresetNameFormControl.setValue(this.modalData.viewPresetName);\n        this.viewPresetNameFormControl.valueChanges.pipe(takeUntil(this.destroyed$)).subscribe((value) => {\n            if (this.viewPresetNameFormControl.dirty && value === this.modalData.viewPresetName) {\n                this.viewPresetNameFormControl.reset(this.modalData.viewPresetName);\n            }\n        });\n    }\n    ngOnInit() {\n        super.ngOnInit();\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n    save() {\n        this.activeModalRef.close(this.generateUniqueViewPresetName(this.viewPresetNameFormControl.value));\n    }\n    cancel() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n    isViewPresetNameUnique(viewPresetName) {\n        const trimmedViewPresetName = viewPresetName.trim();\n        return !this.modalData.existingViewPresetNames.some((existingViewPresetName) => existingViewPresetName === trimmedViewPresetName);\n    }\n    generateUniqueViewPresetName(viewPresetName) {\n        const trimmedViewPresetName = viewPresetName.trim();\n        let uniqueViewPresetName = trimmedViewPresetName;\n        let suffix = 1;\n        while (!this.isViewPresetNameUnique(uniqueViewPresetName)) {\n            uniqueViewPresetName = `${trimmedViewPresetName}-${suffix++}`;\n        }\n        return uniqueViewPresetName;\n    }\n}\nRenameViewPresetComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RenameViewPresetComponent, deps: [{ token: i1.ActiveModalRef }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nRenameViewPresetComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RenameViewPresetComponent, selector: \"rx-rename-view-preset\", usesInheritance: true, ngImport: i0, template: \"<div class=\\\"modal-body\\\">\\n  <adapt-rx-textfield\\n    [formControl]=\\\"viewPresetNameFormControl\\\"\\n    [label]=\\\"modalData.fieldLabel\\\"\\n    name=\\\"viewPresetName\\\"\\n    rx-id=\\\"view-preset-name-field\\\"\\n    [maxlength]=\\\"254\\\"\\n    required=\\\"true\\\"\\n    rxNoWhitespace\\n    [autofocus]=\\\"true\\\"\\n  >\\n  </adapt-rx-textfield>\\n\\n  <p *ngIf=\\\"!isViewPresetNameUnique(viewPresetNameFormControl.value)\\\" class=\\\"text-info m-0 pt-1\\\">\\n    {{\\n      'com.bmc.arsys.rx.client.view-components.view-preset-selector.view-preset-already-exists.error.message'\\n        | translate\\n    }}\\n  </p>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n  <button\\n    adapt-button\\n    btn-type=\\\"primary\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"save-button\\\"\\n    (click)=\\\"save()\\\"\\n    [disabled]=\\\"viewPresetNameFormControl.invalid || viewPresetNameFormControl.pristine\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n  <button adapt-button btn-type=\\\"secondary\\\" type=\\\"button\\\" rx-id=\\\"cancel-button\\\" (click)=\\\"cancel()\\\">\\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\\n  </button>\\n</div>\\n\", components: [{ type: i1.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i2$3.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i2$1.RxNoWhitespaceValidator, selector: \"[rxNoWhitespace]\", inputs: [\"rxNoWhitespace\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlDirective, selector: \"[formControl]\", inputs: [\"disabled\", \"formControl\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { type: i2$3.MaxLengthValidator, selector: \"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]\", inputs: [\"maxlength\"] }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RenameViewPresetComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-rename-view-preset',\n                    templateUrl: './rename-view-preset.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.ActiveModalRef }, { type: i0.Injector }]; } });\n\nclass ShareViewPresetUsersGridComponent {\n    constructor(translateService) {\n        this.translateService = translateService;\n        this.users = [];\n        this.remove = new EventEmitter();\n        this.recordGridConfig$ = this.getRecordGridConfig();\n    }\n    ngOnChanges(changes) {\n        if (changes.users.currentValue && !changes.users.firstChange) {\n            this.recordGrid.api.refresh().subscribe();\n        }\n    }\n    getRecordGridConfig() {\n        const gridColumns = [\n            {\n                fieldId: 'fullName',\n                title: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.grid.column.name.title')\n            },\n            {\n                fieldId: 'emailAddress',\n                title: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.grid.column.email.title')\n            }\n        ];\n        const gridRecordDefinition = {\n            fieldDefinitions: [\n                {\n                    id: 'fullName',\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                },\n                {\n                    id: 'emailAddress',\n                    resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                }\n            ]\n        };\n        return of({\n            columns: gridColumns,\n            enableFiltering: false,\n            enableRowSelection: RowSelectionMode.Multiple,\n            recordIdField: 'loginId',\n            styles: 'flex-fill',\n            toolbarConfig: {\n                filter: false,\n                visibleColumnsMenu: false\n            },\n            useExternalFiltering: false,\n            actionButtons: [\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.common.remove.label'),\n                    style: 'tertiary',\n                    iconCls: 'minus_circle_o',\n                    disabled: () => this.recordGrid.api.getSelectedRows().length === 0,\n                    actions: [\n                        {\n                            name: () => {\n                                const selectedUserLoginIds = this.recordGrid.api.getSelectedRows().map((row) => row.loginId);\n                                this.remove.emit(selectedUserLoginIds);\n                            }\n                        }\n                    ]\n                }\n            ],\n            getRecordDefinition: () => of(gridRecordDefinition),\n            getData: () => of({\n                data: this.users,\n                totalSize: this.users.length\n            })\n        });\n    }\n}\nShareViewPresetUsersGridComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ShareViewPresetUsersGridComponent, deps: [{ token: i2.TranslateService }], target: i0.ɵɵFactoryTarget.Component });\nShareViewPresetUsersGridComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ShareViewPresetUsersGridComponent, selector: \"rx-share-view-preset-users-grid\", inputs: { users: \"users\" }, outputs: { remove: \"remove\" }, viewQueries: [{ propertyName: \"recordGrid\", first: true, predicate: RecordGridComponent, descendants: true, static: true }], usesOnChanges: true, ngImport: i0, template: \"<rx-record-grid [config]=\\\"recordGridConfig$\\\"></rx-record-grid>\\n\", components: [{ type: RecordGridComponent, selector: \"rx-record-grid\", inputs: [\"config\"], outputs: [\"dataLoaded\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ShareViewPresetUsersGridComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-share-view-preset-users-grid',\n                    templateUrl: './share-view-preset-users-grid.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush\n                }]\n        }], ctorParameters: function () { return [{ type: i2.TranslateService }]; }, propDecorators: { recordGrid: [{\n                type: ViewChild,\n                args: [RecordGridComponent, { static: true }]\n            }], users: [{\n                type: Input\n            }], remove: [{\n                type: Output\n            }] } });\n\nclass ShareViewPresetComponent extends RxModalClass {\n    constructor(activeModalRef, injector, formBuilder, translateService, rxShareViewPresetService, rxCurrentUserService, rxNotificationService) {\n        super(activeModalRef, injector);\n        this.activeModalRef = activeModalRef;\n        this.injector = injector;\n        this.formBuilder = formBuilder;\n        this.translateService = translateService;\n        this.rxShareViewPresetService = rxShareViewPresetService;\n        this.rxCurrentUserService = rxCurrentUserService;\n        this.rxNotificationService = rxNotificationService;\n        this.maxRecipients = 100;\n        this.strings = {\n            users: {\n                label: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.users-control.label'),\n                placeholder: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.users-control.placeholder')\n            },\n            addButton: this.translateService.instant('com.bmc.arsys.rx.client.common.add.label'),\n            notifyRecipients: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.notify-recipients.label'),\n            recipients: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.recipients.label'),\n            savedNotification: {\n                title: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.saved-notification.title'),\n                message: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.saved-notification.message')\n            },\n            removedNotification: {\n                title: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.removed-notification.title'),\n                message: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.removed-notification.message')\n            },\n            maxRecipientsWarning: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.max-users-warning.message', {\n                maxUserCount: this.maxRecipients\n            })\n        };\n        this.form = this.formBuilder.group({\n            users: this.formBuilder.control([]),\n            notifyRecipients: this.formBuilder.control(false)\n        });\n        this.modalData = this.activeModalRef.getData();\n        this.runtimeViewModelApi = this.modalData.runtimeViewModelApi;\n        this.selectedUsers = [];\n        this.destroyed$ = new ReplaySubject(1);\n        this.currentUserLoginName = this.rxCurrentUserService.getName();\n        this.isSelectedUsersChanged = false;\n        this.search = (text$) => {\n            return this.rxShareViewPresetService.getAutocompleteSearch(text$).pipe(map((tags) => {\n                const selectedUsersLoginIDs = this.selectedUsers.map((user) => user.loginId);\n                const tagsInputLoginIDs = this.form.get('users').value.map(({ data }) => data.loginId);\n                // exclude current user and users that have already been added\n                return tags.filter((item) => item.data.loginId !== this.currentUserLoginName &&\n                    !selectedUsersLoginIDs.includes(item.data.loginId) &&\n                    !tagsInputLoginIDs.includes(item.data.loginId));\n            }));\n        };\n    }\n    get isRecipientsLimitReached() {\n        return this.form.get('users').value.length + this.selectedUsers.length > this.maxRecipients;\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.loadExistingSharedViewPresetUsers();\n    }\n    loadExistingSharedViewPresetUsers() {\n        if (this.modalData.currentViewPreset.userSharedViewPresetGuid) {\n            this.sharedViewPresetInstanceGuid = this.modalData.currentViewPreset.userSharedViewPresetGuid;\n            this.rxShareViewPresetService.getSharedViewPresetUsers(this.sharedViewPresetInstanceGuid).subscribe((users) => {\n                this.selectedUsers = users;\n            });\n        }\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n    save() {\n        if (this.selectedUsers.length) {\n            this.saveViewPreset();\n        }\n        else {\n            this.removeViewPreset();\n        }\n    }\n    removeViewPreset() {\n        this.rxShareViewPresetService.deleteSharedViewPreset(this.sharedViewPresetInstanceGuid).subscribe(() => {\n            this.rxNotificationService.addSuccessMessage(this.strings.removedNotification.message, this.strings.removedNotification.title);\n            this.activeModalRef.close(null);\n        });\n    }\n    saveViewPreset() {\n        this.rxShareViewPresetService\n            .saveSharedViewPreset({\n            runtimeViewModelApi: this.runtimeViewModelApi,\n            currentViewPreset: this.modalData.currentViewPreset,\n            presetSelectorGuid: this.modalData.presetSelectorGuid,\n            sharedUsers: this.selectedUsers\n        }, this.sharedViewPresetInstanceGuid)\n            .subscribe((sharedViewPresetInstanceGuid) => {\n            this.rxNotificationService.addSuccessMessage(this.strings.savedNotification.message, this.strings.savedNotification.title);\n            this.activeModalRef.close(sharedViewPresetInstanceGuid);\n        });\n    }\n    cancel() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n    onAdd() {\n        const usersToAdd = this.form.get('users').value.map((tag) => (Object.assign({}, tag.data)));\n        this.selectedUsers = this.selectedUsers.concat(usersToAdd);\n        this.form.get('users').setValue([]);\n        this.isSelectedUsersChanged = true;\n    }\n    removeSelectedUsers(selectedUserLoginIds) {\n        this.selectedUsers = this.selectedUsers.filter((user) => !selectedUserLoginIds.includes(user.loginId));\n        this.isSelectedUsersChanged = true;\n        this.markAsDirty();\n    }\n    // saving is allowed when changing users of existing preset\n    // or creating new preset with at least one user selected\n    isSaveButtonDisabled() {\n        return !((this.sharedViewPresetInstanceGuid && this.isSelectedUsersChanged) ||\n            (!this.sharedViewPresetInstanceGuid && this.selectedUsers.length > 0));\n    }\n}\nShareViewPresetComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ShareViewPresetComponent, deps: [{ token: i1.ActiveModalRef }, { token: i0.Injector }, { token: i2$3.FormBuilder }, { token: i2.TranslateService }, { token: RxShareViewPresetService }, { token: i1$1.RxCurrentUserService }, { token: i1$1.RxNotificationService }], target: i0.ɵɵFactoryTarget.Component });\nShareViewPresetComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ShareViewPresetComponent, selector: \"rx-share-view-preset\", usesInheritance: true, ngImport: i0, template: \"<div class=\\\"modal-body\\\">\\n  <form [formGroup]=\\\"form\\\">\\n    <div class=\\\"row row-no-gutters\\\">\\n      <div class=\\\"col\\\">\\n        <adapt-tag-field\\n          formControlName=\\\"users\\\"\\n          rx-id=\\\"users-input\\\"\\n          [label]=\\\"strings.users.label\\\"\\n          [placeholder]=\\\"strings.users.placeholder\\\"\\n          [replaceModelOnWrite]=\\\"true\\\"\\n          [suppressManual]=\\\"true\\\"\\n          [search]=\\\"search\\\"\\n          [selectItemTemplate]=\\\"selectItemTemplate\\\"\\n          (ngModelChange)=\\\"markAsDirty()\\\"\\n        >\\n        </adapt-tag-field>\\n        <div class=\\\"warning mb-3\\\" *ngIf=\\\"isRecipientsLimitReached\\\">\\n          <adapt-icon name=\\\"exclamation_triangle\\\" class=\\\"text-warning\\\"></adapt-icon>\\n          {{ strings.maxRecipientsWarning }}\\n        </div>\\n      </div>\\n      <div class=\\\"col-auto pl-0\\\">\\n        <button\\n          class=\\\"add-button\\\"\\n          adapt-button\\n          type=\\\"button\\\"\\n          btn-type=\\\"secondary\\\"\\n          rx-id=\\\"add-button\\\"\\n          [disabled]=\\\"!form.get('users').value.length || isRecipientsLimitReached\\\"\\n          (click)=\\\"onAdd()\\\"\\n        >\\n          <span>{{ strings.addButton }}</span>\\n        </button>\\n      </div>\\n    </div>\\n  </form>\\n\\n  <adapt-rx-control-label [label]=\\\"strings.recipients\\\"></adapt-rx-control-label>\\n\\n  <rx-share-view-preset-users-grid\\n    [users]=\\\"selectedUsers\\\"\\n    (remove)=\\\"removeSelectedUsers($event)\\\"\\n  ></rx-share-view-preset-users-grid>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button\\n    adapt-button\\n    btn-type=\\\"primary\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"save-button\\\"\\n    [disabled]=\\\"isSaveButtonDisabled()\\\"\\n    (click)=\\\"save()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n  <button adapt-button btn-type=\\\"secondary\\\" type=\\\"button\\\" rx-id=\\\"cancel-button\\\" (click)=\\\"cancel()\\\">\\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\\n  </button>\\n</div>\\n\\n<ng-template #selectItemTemplate let-result=\\\"result\\\" let-term=\\\"term\\\">\\n  <strong>{{ result.text }}</strong>\\n  <div>{{ result.data.emailAddress }}</div>\\n</ng-template>\\n\", styles: [\".add-button{margin-top:23px}.warning{margin-top:-10px}:host::ng-deep adapt-tag-field .adapt-mt-wrapper{min-height:80px;padding-right:5px}:host::ng-deep adapt-tag-field .adapt-mt-wrapper .adapt-mt{max-height:72px!important}\\n\"], components: [{ type: i1.AdaptMetatagComponent, selector: \"adapt-metatag, adapt-tag-field\", inputs: [\"prefix\", \"suffix\", \"maxTagLength\", \"truncateConfig\", \"id\", \"testID\", \"name\", \"ariaLabel\", \"search\", \"maxHeight\", \"suppressManual\", \"label\", \"placeholder\", \"mainErrorText\", \"warningStateText\", \"width\", \"errorCheck\", \"warningCheck\", \"selectItemTemplate\", \"tagTemplate\", \"replaceModelOnWrite\", \"delimiterSymbol\", \"popupClass\", \"disabledInput\", \"openDropdownOnFocus\", \"selectItemFormatter\", \"fullWidthEdit\", \"tagStyleFormatter\"], outputs: [\"focus\", \"blur\", \"removeTag\", \"addTag\", \"initTagEditing\"] }, { type: i1.AdaptIconComponent, selector: \"adapt-icon\", inputs: [\"name\", \"classList\", \"description\", \"testID\"] }, { type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1.AdaptRxControlLabelComponent, selector: \"adapt-rx-control-label\", inputs: [\"for\", \"id\", \"label\", \"subLabel\", \"requiredLabel\", \"showRequiredLabel\", \"tooltip\", \"testID\"] }, { type: ShareViewPresetUsersGridComponent, selector: \"rx-share-view-preset-users-grid\", inputs: [\"users\"], outputs: [\"remove\"] }], directives: [{ type: i2$3.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i2$3.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i2$3.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.FormControlName, selector: \"[formControlName]\", inputs: [\"disabled\", \"formControlName\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"translate\": i2.TranslatePipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ShareViewPresetComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-share-view-preset',\n                    templateUrl: './share-view-preset.component.html',\n                    styleUrls: ['./share-view-preset.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i1.ActiveModalRef }, { type: i0.Injector }, { type: i2$3.FormBuilder }, { type: i2.TranslateService }, { type: RxShareViewPresetService }, { type: i1$1.RxCurrentUserService }, { type: i1$1.RxNotificationService }]; } });\n\nclass AddSharedViewPresetsComponent extends RxModalClass {\n    constructor(activeModalRef, injector, translateService) {\n        super(activeModalRef, injector);\n        this.activeModalRef = activeModalRef;\n        this.injector = injector;\n        this.translateService = translateService;\n        this.recordGridConfig$ = of({\n            columns: [\n                {\n                    fieldId: 'label',\n                    title: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.add-shared-view-preset.grid.column.preset-name.title')\n                },\n                {\n                    fieldId: 'ownerFullName',\n                    title: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.add-shared-view-preset.grid.column.shared-by.title')\n                }\n            ],\n            enableFiltering: false,\n            enableRowSelection: RowSelectionMode.Multiple,\n            recordIdField: 'guid',\n            styles: 'flex-fill',\n            toolbarConfig: {\n                filter: false,\n                visibleColumnsMenu: false\n            },\n            useExternalFiltering: false,\n            getRecordDefinition: () => of({\n                fieldDefinitions: [\n                    {\n                        id: 'label',\n                        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                    },\n                    {\n                        id: 'ownerFullName',\n                        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n                    }\n                ]\n            }),\n            getData: () => of({\n                data: this.presets,\n                totalSize: this.presets.length\n            })\n        });\n        this.modalData = this.activeModalRef.getData();\n        this.presets = this.modalData.newPresets;\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.isAddButtonDisabled$ = this.recordGrid.rowSelectionChanged.pipe(map(isEmpty));\n    }\n    add() {\n        const result = this.recordGrid.api.getSelectedRows().map(({ label, guid }) => ({\n            label,\n            guid\n        }));\n        this.activeModalRef.close(result);\n    }\n    cancel() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n}\nAddSharedViewPresetsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AddSharedViewPresetsComponent, deps: [{ token: i1.ActiveModalRef }, { token: i0.Injector }, { token: i2.TranslateService }], target: i0.ɵɵFactoryTarget.Component });\nAddSharedViewPresetsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: AddSharedViewPresetsComponent, selector: \"rx-add-shared-view-presets\", viewQueries: [{ propertyName: \"recordGrid\", first: true, predicate: RecordGridComponent, descendants: true, static: true }], usesInheritance: true, ngImport: i0, template: \"<div class=\\\"modal-body\\\">\\n  <div class=\\\"mb-4\\\" style=\\\"white-space: pre-line\\\">\\n    {{\\n      'com.bmc.arsys.rx.client.view-components.view-preset-selector.add-shared-view-preset.description.label'\\n        | translate\\n    }}\\n  </div>\\n\\n  <rx-record-grid [config]=\\\"recordGridConfig$\\\"></rx-record-grid>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button\\n    adapt-button\\n    btn-type=\\\"primary\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"add-button\\\"\\n    (click)=\\\"add()\\\"\\n    [disabled]=\\\"isAddButtonDisabled$ | async\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.add.label' | translate }}\\n  </button>\\n  <button adapt-button btn-type=\\\"secondary\\\" type=\\\"button\\\" rx-id=\\\"cancel-button\\\" (click)=\\\"cancel()\\\">\\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\\n  </button>\\n</div>\\n\", components: [{ type: RecordGridComponent, selector: \"rx-record-grid\", inputs: [\"config\"], outputs: [\"dataLoaded\"] }, { type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], pipes: { \"translate\": i2.TranslatePipe, \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AddSharedViewPresetsComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-add-shared-view-presets',\n                    templateUrl: './add-shared-view-presets.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush\n                }]\n        }], ctorParameters: function () { return [{ type: i1.ActiveModalRef }, { type: i0.Injector }, { type: i2.TranslateService }]; }, propDecorators: { recordGrid: [{\n                type: ViewChild,\n                args: [RecordGridComponent, { static: true }]\n            }] } });\n\nclass ViewPresetSelectorComponent extends BaseViewComponent {\n    constructor(changeDetectorRef, rxGuidService, rxModalService, rxUtilityModalsService, rxViewPresetSelectorUserPreferencesService, translateService, rxFeatureService, rxNotificationService, rxShareViewPresetService) {\n        super();\n        this.changeDetectorRef = changeDetectorRef;\n        this.rxGuidService = rxGuidService;\n        this.rxModalService = rxModalService;\n        this.rxUtilityModalsService = rxUtilityModalsService;\n        this.rxViewPresetSelectorUserPreferencesService = rxViewPresetSelectorUserPreferencesService;\n        this.translateService = translateService;\n        this.rxFeatureService = rxFeatureService;\n        this.rxNotificationService = rxNotificationService;\n        this.rxShareViewPresetService = rxShareViewPresetService;\n        this.api = {\n            getGuid: () => this.guid,\n            markAppliedViewPresetAsEdited: this.markAppliedViewPresetAsEdited.bind(this)\n        };\n        this.isOperationInProgressSubject = new BehaviorSubject(false);\n        this.isViewPresetEditedSubject = new BehaviorSubject(false);\n        this.viewPresetSelectorModel$ = combineLatest([this.isOperationInProgressSubject, this.isViewPresetEditedSubject]).pipe(map(([isOperationInProgress, isViewPresetEdited]) => ({\n            isOperationInProgress,\n            isViewPresetEdited\n        })));\n        this.strings = {\n            deleteLabel: this.translateService.instant('com.bmc.arsys.rx.client.common.delete.label'),\n            discardChangesButtonLabel: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.discard-changes.button.label'),\n            editedViewPresetTagLabel: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.edited-view-preset-tag.label'),\n            renameLabel: this.translateService.instant('com.bmc.arsys.rx.client.common.rename.label'),\n            saveLabel: this.translateService.instant('com.bmc.arsys.rx.client.common.save.label'),\n            saveAsLabel: this.translateService.instant('com.bmc.arsys.rx.client.common.save-as.label'),\n            shareLabel: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.share.button.label'),\n            systemPresetsTitle: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.preset-type.system.label'),\n            sharedPresetsTitle: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.preset-type.shared-with-me.label'),\n            customPresetsTitle: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.preset-type.created-by-me.label'),\n            sharedTooltip: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.shared-preset.tooltip'),\n            addSharedViewPresets: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.add-shared-view-preset.title')\n        };\n        this.userPreferencesChangedSubject = new Subject();\n        this.isSharingFeatureEnabled = this.rxFeatureService.isFeatureEnabled(RX_SHARABLE_VIEW_RESETS_FEATURE_NAME);\n        this.userPreferencesChangedSubject\n            .pipe(switchMap(() => this.rxViewPresetSelectorUserPreferencesService.save(this.state)), takeUntil(this.destroyed$))\n            .subscribe();\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.notifyPropertyChanged('api', this.api);\n        this.config\n            .pipe(take(1), map((config) => ({\n            systemViewPresetOptions: config.viewPresets,\n            customViewPresetOptions: [],\n            sharedViewPresetOptions: [],\n            appliedViewPresetOption: null,\n            isSharingEnabled: config.enableSharing && this.isSharingFeatureEnabled\n        })), switchMap((state) => this.rxViewPresetSelectorUserPreferencesService.applyUserPreferences(this.guid, state)), tap(({ state, shouldUpdatePreferences, removedPresetGuid }) => {\n            this.state = state;\n            this.changeDetectorRef.detectChanges();\n            this.isOperationInProgressSubject.next(true);\n            if (removedPresetGuid) {\n                this.runtimeViewModelApi.deleteViewPreset(removedPresetGuid).subscribe();\n            }\n            if (shouldUpdatePreferences) {\n                this.userPreferencesChangedSubject.next();\n            }\n        }), switchMap(() => this.applyViewPreset(this.state.appliedViewPresetOption)), finalize(() => this.isOperationInProgressSubject.next(false)))\n            .subscribe();\n    }\n    ngOnDestroy() {\n        super.ngOnDestroy();\n        this.isOperationInProgressSubject.complete();\n        this.isViewPresetEditedSubject.complete();\n        this.userPreferencesChangedSubject.complete();\n    }\n    deleteViewPreset(viewPresetOptionToRemove) {\n        this.rxUtilityModalsService\n            .confirm(this.translateService.instant(viewPresetOptionToRemove.userSharedViewPresetGuid\n            ? 'com.bmc.arsys.rx.client.view-components.view-preset-selector.delete-shared-view-preset-confirmation.message'\n            : 'com.bmc.arsys.rx.client.view-components.view-preset-selector.delete-view-preset-confirmation.message'))\n            .then((isConfirmed) => {\n            if (isConfirmed) {\n                const viewPresetGuidToDelete = this.state.appliedViewPresetOption.guid;\n                this.state.appliedViewPresetOption = this.state.systemViewPresetOptions[0];\n                this.isViewPresetEditedSubject.next(false);\n                this.state.customViewPresetOptions = reject(this.state.customViewPresetOptions, {\n                    guid: viewPresetGuidToDelete\n                });\n                this.state.sharedViewPresetOptions = reject(this.state.sharedViewPresetOptions, {\n                    guid: viewPresetGuidToDelete\n                });\n                this.userPreferencesChangedSubject.next();\n                this.isOperationInProgressSubject.next(true);\n                this.runtimeViewModelApi\n                    .applyViewPreset(this.guid, this.state.appliedViewPresetOption.guid)\n                    .pipe(finalize(() => {\n                    const deleteSharedViewPreset$ = viewPresetOptionToRemove.userSharedViewPresetGuid\n                        ? this.rxShareViewPresetService.deleteSharedViewPreset(viewPresetOptionToRemove.userSharedViewPresetGuid)\n                        : of(null);\n                    deleteSharedViewPreset$\n                        .pipe(switchMap(() => this.runtimeViewModelApi.deleteViewPreset(viewPresetGuidToDelete)), finalize(() => this.isOperationInProgressSubject.next(false)))\n                        .subscribe();\n                }))\n                    .subscribe();\n            }\n        })\n            .catch(noop);\n    }\n    discardViewPresetChanges() {\n        this.rxUtilityModalsService\n            .confirm(this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.discard-changes-confirmation.message'))\n            .then((isConfirmed) => {\n            if (isConfirmed) {\n                this.isViewPresetEditedSubject.next(false);\n                this.isOperationInProgressSubject.next(true);\n                const appliedViewPresetOption = this.state.appliedViewPresetOption;\n                iif(() => appliedViewPresetOption.isShared, this.getSharedViewPresetData(appliedViewPresetOption).pipe(switchMap((sharedViewPresets) => this.runtimeViewModelApi.discardViewPresetChanges(appliedViewPresetOption.guid, sharedViewPresets))), this.runtimeViewModelApi.discardViewPresetChanges(appliedViewPresetOption.guid))\n                    .pipe(finalize(() => this.isOperationInProgressSubject.next(false)))\n                    .subscribe();\n            }\n        })\n            .catch(noop);\n    }\n    renameViewPreset() {\n        this.openRenamingModal(this.strings.renameLabel, true)\n            .then((viewPresetName) => {\n            this.state.appliedViewPresetOption.label = viewPresetName;\n            this.state.customViewPresetOptions = sortBy(this.state.customViewPresetOptions, 'label');\n            this.userPreferencesChangedSubject.next();\n            this.changeDetectorRef.detectChanges();\n            // if preset is shared with others - updating with new name\n            if (this.state.appliedViewPresetOption.userSharedViewPresetGuid) {\n                this.saveSharedViewPreset().subscribe();\n            }\n        })\n            .catch(noop);\n    }\n    selectPreset(viewPresetOption) {\n        this.state.appliedViewPresetOption = viewPresetOption;\n        this.isViewPresetEditedSubject.next(false);\n        this.userPreferencesChangedSubject.next();\n        this.isOperationInProgressSubject.next(true);\n        this.applyViewPreset(viewPresetOption)\n            .pipe(finalize(() => this.isOperationInProgressSubject.next(false)))\n            .subscribe();\n    }\n    saveAsViewPreset() {\n        this.openRenamingModal(this.strings.saveAsLabel)\n            .then((viewPresetName) => {\n            const viewPreset = {\n                guid: this.rxGuidService.generate(),\n                label: viewPresetName\n            };\n            this.state.customViewPresetOptions.push(viewPreset);\n            this.state.customViewPresetOptions = sortBy(this.state.customViewPresetOptions, 'label');\n            this.state.appliedViewPresetOption = viewPreset;\n            this.isViewPresetEditedSubject.next(false);\n            this.userPreferencesChangedSubject.next();\n            this.isOperationInProgressSubject.next(true);\n            this.runtimeViewModelApi\n                .applyViewPreset(this.guid, this.state.appliedViewPresetOption.guid)\n                .pipe(finalize(() => this.isOperationInProgressSubject.next(false)))\n                .subscribe();\n        })\n            .catch(noop);\n    }\n    saveViewPreset() {\n        this.isViewPresetEditedSubject.next(false);\n        this.isOperationInProgressSubject.next(true);\n        const saveSharedViewPreset$ = this.state.appliedViewPresetOption.userSharedViewPresetGuid\n            ? this.saveSharedViewPreset()\n            : of(null);\n        saveSharedViewPreset$\n            .pipe(switchMap(() => this.runtimeViewModelApi.saveViewPreset(this.state.appliedViewPresetOption.guid)), finalize(() => this.isOperationInProgressSubject.next(false)))\n            .subscribe();\n    }\n    shareViewPreset() {\n        this.rxModalService\n            .openModal({\n            content: ShareViewPresetComponent,\n            title: this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.title'),\n            data: {\n                runtimeViewModelApi: this.runtimeViewModelApi,\n                currentViewPreset: this.state.appliedViewPresetOption,\n                presetSelectorGuid: this.guid\n            },\n            size: 'sm'\n        })\n            .then((sharedViewPresetGuid) => {\n            this.state.appliedViewPresetOption.userSharedViewPresetGuid = sharedViewPresetGuid;\n            this.userPreferencesChangedSubject.next();\n        })\n            .catch(noop);\n    }\n    onAddSharedPresetsClick() {\n        this.rxShareViewPresetService.getSharedViewPresetsForCurrentUser(this.guid).subscribe((presets) => {\n            const existingSharedPresetsGuids = this.state.sharedViewPresetOptions.map((option) => option.guid);\n            const newPresets = presets.filter((preset) => !existingSharedPresetsGuids.includes(preset.guid));\n            if (newPresets.length) {\n                this.openAddSharedPresetsModal(newPresets);\n            }\n            else {\n                this.rxNotificationService.addInfoMessage(this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.add-shared-view-preset.notification.no-new-presets.message'), this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.add-shared-view-preset.notification.no-new-presets.title'));\n            }\n        });\n    }\n    openAddSharedPresetsModal(newPresets) {\n        this.rxModalService\n            .openModal({\n            content: AddSharedViewPresetsComponent,\n            title: this.strings.addSharedViewPresets,\n            data: {\n                presetSelectorGuid: this.guid,\n                newPresets\n            },\n            size: 'sm'\n        })\n            .then((addedPresets) => {\n            this.state.sharedViewPresetOptions = this.state.sharedViewPresetOptions.concat(addedPresets.map((preset) => (Object.assign(Object.assign({}, preset), { isShared: true }))));\n            this.userPreferencesChangedSubject.next();\n            if (addedPresets.length) {\n                this.rxNotificationService.addSuccessMessage(this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.add-shared-view-preset.notification.presets-added.message'), this.translateService.instant('com.bmc.arsys.rx.client.view-components.view-preset-selector.add-shared-view-preset.notification.presets-added.title'));\n            }\n        })\n            .catch(noop);\n    }\n    markAppliedViewPresetAsEdited() {\n        this.isViewPresetEditedSubject.next(true);\n    }\n    openRenamingModal(fieldLabel, isEdit) {\n        let existingViewPresets = [...this.state.customViewPresetOptions, ...this.state.systemViewPresetOptions];\n        if (isEdit) {\n            existingViewPresets = existingViewPresets.filter((viewPreset) => viewPreset.guid !== this.state.appliedViewPresetOption.guid);\n        }\n        return this.rxModalService.openModal({\n            content: RenameViewPresetComponent,\n            data: {\n                fieldLabel,\n                existingViewPresetNames: existingViewPresets.map(({ label }) => label),\n                viewPresetName: this.state.appliedViewPresetOption.label\n            },\n            size: 'sm'\n        });\n    }\n    applyViewPreset(viewPresetOption) {\n        if (viewPresetOption.isShared) {\n            return this.getSharedViewPresetData(viewPresetOption).pipe(switchMap((sharedViewPresets) => this.runtimeViewModelApi.applyViewPreset(this.guid, viewPresetOption.guid, sharedViewPresets)), catchError((error) => this.handleSharedViewPresetLoadError(error, viewPresetOption)));\n        }\n        else {\n            return this.runtimeViewModelApi.applyViewPreset(this.guid, viewPresetOption.guid);\n        }\n    }\n    saveSharedViewPreset() {\n        return this.rxShareViewPresetService.saveSharedViewPreset({\n            runtimeViewModelApi: this.runtimeViewModelApi,\n            currentViewPreset: this.state.appliedViewPresetOption,\n            presetSelectorGuid: this.guid\n        }, this.state.appliedViewPresetOption.userSharedViewPresetGuid);\n    }\n    getSharedViewPresetData(viewPresetOption) {\n        return this.rxShareViewPresetService.getSharedViewPresetData(viewPresetOption.guid).pipe(map(({ viewPresetName, sharedViewPresets }) => {\n            viewPresetOption.label = viewPresetName;\n            return sharedViewPresets;\n        }));\n    }\n    handleSharedViewPresetLoadError(error, viewPresetOption) {\n        if (error.status === 404) {\n            this.state.sharedViewPresetOptions = this.state.sharedViewPresetOptions.filter((option) => option.guid !== viewPresetOption.guid);\n            this.runtimeViewModelApi.deleteViewPreset(viewPresetOption.guid).subscribe();\n            // if preset was removed - selecting first system preset instead\n            this.selectPreset(this.state.systemViewPresetOptions[0]);\n            return EMPTY;\n        }\n        else {\n            return throwError(error);\n        }\n    }\n}\nViewPresetSelectorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorComponent, deps: [{ token: i0.ChangeDetectorRef }, { token: i2$1.RxGuidService }, { token: i1$6.RxModalService }, { token: i1$6.RxUtilityModalsService }, { token: RxViewPresetSelectorUserPreferencesService }, { token: i2.TranslateService }, { token: i1$1.RxFeatureService }, { token: i1$1.RxNotificationService }, { token: RxShareViewPresetService }], target: i0.ɵɵFactoryTarget.Component });\nViewPresetSelectorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ViewPresetSelectorComponent, selector: \"rx-view-preset-selector\", inputs: { config: \"config\", runtimeViewModelApi: \"runtimeViewModelApi\" }, providers: [RxViewPresetSelectorUserPreferencesService], usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"viewPresetSelectorModel$ | async as viewPresetSelectorModel\\\">\\n  <div class=\\\"btn-group align-items-center\\\" *ngIf=\\\"state\\\">\\n    <div adaptDropdown>\\n      <button\\n        adapt-button\\n        adaptDropdownToggle\\n        type=\\\"button\\\"\\n        btn-type=\\\"tertiary\\\"\\n        class=\\\"text-default font-weight-bold text-left\\\"\\n        rx-id=\\\"toggle-button\\\"\\n        [disabled]=\\\"viewPresetSelectorModel.isOperationInProgress\\\"\\n      >\\n        {{ state.appliedViewPresetOption.label }}\\n      </button>\\n\\n      <div class=\\\"dropdown-menu {{ isSharingFeatureEnabled ? 'preset-selector' : '' }}\\\" adaptDropdownMenu tabindex=\\\"0\\\">\\n        <ng-container *ngIf=\\\"state.customViewPresetOptions.length\\\">\\n          <div class=\\\"dropdown-heading\\\" *ngIf=\\\"isSharingFeatureEnabled\\\">{{ strings.customPresetsTitle }}</div>\\n          <button\\n            *ngFor=\\\"let customViewPresetOption of state.customViewPresetOptions\\\"\\n            [class.active]=\\\"customViewPresetOption.guid === state.appliedViewPresetOption.guid\\\"\\n            class=\\\"dropdown-item\\\"\\n            type=\\\"button\\\"\\n            (click)=\\\"selectPreset(customViewPresetOption)\\\"\\n            rx-id=\\\"custom-view-preset\\\"\\n          >\\n            {{ customViewPresetOption.label }}\\n\\n            <adapt-icon\\n              *ngIf=\\\"customViewPresetOption.userSharedViewPresetGuid && isSharingFeatureEnabled\\\"\\n              name=\\\"users\\\"\\n              [adaptTooltip]=\\\"strings.sharedTooltip\\\"\\n              class=\\\"btn-link float-end ml-2\\\"\\n            ></adapt-icon>\\n          </button>\\n\\n          <div *ngIf=\\\"!isSharingFeatureEnabled\\\" class=\\\"dropdown-divider\\\"></div>\\n        </ng-container>\\n\\n        <ng-container *ngIf=\\\"state.isSharingEnabled\\\">\\n          <div class=\\\"dropdown-heading\\\">\\n            {{ strings.sharedPresetsTitle }}\\n\\n            <button\\n              type=\\\"button\\\"\\n              class=\\\"btn btn-link float-end p-0 pl-1 btn-add-shared\\\"\\n              rx-id=\\\"add-preset-button\\\"\\n              [adaptTooltip]=\\\"strings.addSharedViewPresets\\\"\\n              (click)=\\\"onAddSharedPresetsClick()\\\"\\n            >\\n              <adapt-icon name=\\\"plus\\\"></adapt-icon>\\n            </button>\\n          </div>\\n\\n          <button\\n            *ngFor=\\\"let sharedViewPresetOption of state.sharedViewPresetOptions\\\"\\n            class=\\\"dropdown-item\\\"\\n            [class.active]=\\\"sharedViewPresetOption.guid === state.appliedViewPresetOption.guid\\\"\\n            type=\\\"button\\\"\\n            (click)=\\\"selectPreset(sharedViewPresetOption)\\\"\\n            rx-id=\\\"shared-view-preset\\\"\\n          >\\n            {{ sharedViewPresetOption.label }}\\n          </button>\\n        </ng-container>\\n\\n        <div class=\\\"dropdown-heading\\\" *ngIf=\\\"isSharingFeatureEnabled\\\">{{ strings.systemPresetsTitle }}</div>\\n\\n        <button\\n          *ngFor=\\\"let systemViewPresetOption of state.systemViewPresetOptions\\\"\\n          class=\\\"dropdown-item\\\"\\n          [class.active]=\\\"systemViewPresetOption.guid === state.appliedViewPresetOption.guid\\\"\\n          type=\\\"button\\\"\\n          (click)=\\\"selectPreset(systemViewPresetOption)\\\"\\n          rx-id=\\\"system-view-preset\\\"\\n        >\\n          {{ systemViewPresetOption.label }}\\n        </button>\\n      </div>\\n    </div>\\n\\n    <span class=\\\"badge badge-secondary extra-small mx-2\\\" *ngIf=\\\"viewPresetSelectorModel.isViewPresetEdited\\\">\\n      {{ strings.editedViewPresetTagLabel }}\\n    </span>\\n\\n    <adapt-button\\n      btn-type=\\\"tertiary\\\"\\n      *ngIf=\\\"\\n        !state.appliedViewPresetOption.isSystem &&\\n        !state.appliedViewPresetOption.isShared &&\\n        viewPresetSelectorModel.isViewPresetEdited\\n      \\\"\\n      class=\\\"d-icon-left-floppy p-2\\\"\\n      rx-id=\\\"save-button\\\"\\n      [disabled]=\\\"viewPresetSelectorModel.isOperationInProgress\\\"\\n      (click)=\\\"saveViewPreset()\\\"\\n    >\\n      {{ strings.saveLabel }}\\n    </adapt-button>\\n\\n    <adapt-button\\n      btn-type=\\\"tertiary\\\"\\n      [disabled]=\\\"viewPresetSelectorModel.isOperationInProgress\\\"\\n      (click)=\\\"saveAsViewPreset()\\\"\\n      class=\\\"d-icon-left-save_all_o\\\"\\n      rx-id=\\\"save-as-button\\\"\\n      *ngIf=\\\"\\n        state.appliedViewPresetOption.isSystem ||\\n        state.appliedViewPresetOption.isShared ||\\n        !viewPresetSelectorModel.isViewPresetEdited\\n      \\\"\\n    >\\n      {{ strings.saveAsLabel }}\\n    </adapt-button>\\n\\n    <div\\n      class=\\\"dropdown header-cell-menu-btn\\\"\\n      adaptDropdown\\n      *ngIf=\\\"viewPresetSelectorModel.isViewPresetEdited || !state.appliedViewPresetOption.isSystem\\\"\\n    >\\n      <button\\n        rx-id=\\\"more-actions-toggle-button\\\"\\n        class=\\\"d-icon-ellipsis btn btn-link px-0\\\"\\n        type=\\\"button\\\"\\n        adaptDropdownToggle\\n        [disabled]=\\\"viewPresetSelectorModel.isOperationInProgress\\\"\\n        [showCaret]=\\\"false\\\"\\n      ></button>\\n\\n      <div class=\\\"dropdown-menu\\\" adaptDropdownMenu tabindex=\\\"0\\\">\\n        <adapt-button\\n          btn-type=\\\"tertiary\\\"\\n          *ngIf=\\\"viewPresetSelectorModel.isViewPresetEdited\\\"\\n          class=\\\"d-icon-left-undo_adapt dropdown-item\\\"\\n          rx-id=\\\"discard-changes-button\\\"\\n          (click)=\\\"discardViewPresetChanges()\\\"\\n        >\\n          {{ strings.discardChangesButtonLabel }}\\n        </adapt-button>\\n\\n        <adapt-button\\n          btn-type=\\\"tertiary\\\"\\n          (click)=\\\"saveAsViewPreset()\\\"\\n          class=\\\"d-icon-left-save_all_o dropdown-item\\\"\\n          rx-id=\\\"save-as-button\\\"\\n          *ngIf=\\\"\\n            !state.appliedViewPresetOption.isSystem &&\\n            !state.appliedViewPresetOption.isShared &&\\n            viewPresetSelectorModel.isViewPresetEdited\\n          \\\"\\n        >\\n          {{ strings.saveAsLabel }}\\n        </adapt-button>\\n\\n        <adapt-button\\n          btn-type=\\\"tertiary\\\"\\n          *ngIf=\\\"!state.appliedViewPresetOption.isSystem && !state.appliedViewPresetOption.isShared\\\"\\n          class=\\\"d-icon-left-field_text dropdown-item\\\"\\n          rx-id=\\\"rename-selected-view-preset-button\\\"\\n          (click)=\\\"renameViewPreset()\\\"\\n        >\\n          {{ strings.renameLabel }}\\n        </adapt-button>\\n\\n        <adapt-button\\n          btn-type=\\\"tertiary\\\"\\n          *ngIf=\\\"!state.appliedViewPresetOption.isSystem\\\"\\n          class=\\\"d-icon-left-trash_adapt dropdown-item\\\"\\n          rx-id=\\\"remove-selected-view-preset-button\\\"\\n          (click)=\\\"deleteViewPreset(state.appliedViewPresetOption)\\\"\\n        >\\n          {{ strings.deleteLabel }}\\n        </adapt-button>\\n\\n        <adapt-button\\n          btn-type=\\\"tertiary\\\"\\n          *ngIf=\\\"\\n            state.isSharingEnabled &&\\n            !state.appliedViewPresetOption.isSystem &&\\n            !state.appliedViewPresetOption.isShared &&\\n            !viewPresetSelectorModel.isViewPresetEdited\\n          \\\"\\n          class=\\\"d-icon-left-share dropdown-item\\\"\\n          rx-id=\\\"share-view-preset-button\\\"\\n          (click)=\\\"shareViewPreset()\\\"\\n        >\\n          {{ strings.shareLabel }}\\n        </adapt-button>\\n      </div>\\n    </div>\\n  </div>\\n</ng-container>\\n\", styles: [\"button[rx-id=toggle-button],button[rx-id=shared-view-preset]{white-space:normal;word-break:break-word}.preset-selector .dropdown-heading{padding:.375rem .875rem;font-weight:bold}.preset-selector .dropdown-item{padding-left:1.75rem}.btn-add-shared{margin-top:-1px}\\n\"], components: [{ type: i1.AdaptDropdownDirective, selector: \"adapt-dropdown, [adaptDropdown]\", inputs: [\"autoClose\", \"customClass\", \"closeOnEscape\", \"placement\", \"animationPlacement\", \"holdFocusInMenu\", \"holdFocusOnOpen\", \"autoFocusFirst\", \"restoreFocusAfterClose\", \"focusNextElementAfterClose\", \"appendToBody\", \"appendTo\", \"positionTo\", \"anchorPositionTrackingIntervalMs\", \"enableAnchorPositionTracking\", \"recalculatePositionOnElementResize\", \"setMobileState\", \"mobileView\"], outputs: [\"onOpen\", \"onClose\", \"anchorPositionChange\", \"popupAnimationDone\"], exportAs: [\"adaptDropdown\"] }, { type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1.AdaptIconComponent, selector: \"adapt-icon\", inputs: [\"name\", \"classList\", \"description\", \"testID\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1.AdaptDropdownToggleDirective, selector: \"[adaptDropdownToggle]\", inputs: [\"showCaret\", \"dropdownTogglerType\"] }, { type: i1.AdaptDropdownMenuDirective, selector: \"[adaptDropdownMenu]\" }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1.AdaptTooltipDirective, selector: \"[adaptTooltip]\", inputs: [\"popupDelay\", \"placement\", \"width\", \"minWidth\", \"useWidthFitting\", \"adaptRadarDisableEventSending\", \"adaptTooltip\", \"manual\"], outputs: [\"shown\", \"hidden\"], exportAs: [\"tooltip\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-view-preset-selector',\n                    templateUrl: './view-preset-selector.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    providers: [RxViewPresetSelectorUserPreferencesService],\n                    styleUrls: ['./view-preset-selector.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }, { type: i2$1.RxGuidService }, { type: i1$6.RxModalService }, { type: i1$6.RxUtilityModalsService }, { type: RxViewPresetSelectorUserPreferencesService }, { type: i2.TranslateService }, { type: i1$1.RxFeatureService }, { type: i1$1.RxNotificationService }, { type: RxShareViewPresetService }]; }, propDecorators: { config: [{\n                type: Input\n            }], runtimeViewModelApi: [{\n                type: Input\n            }] } });\n\nclass ViewPresetSelectorAdapterService {\n    adaptDefinition(viewPresetSelectorComponentDefinition) {\n        viewPresetSelectorComponentDefinition.componentDefinitions\n            .sort((a, b) => a.propertiesByName.index - b.propertiesByName.index)\n            .forEach((componentDefinition) => {\n            Object.assign(componentDefinition.propertiesByName, {\n                guid: componentDefinition.guid,\n                isSystem: true\n            });\n        });\n    }\n}\nViewPresetSelectorAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorAdapterService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nViewPresetSelectorAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorAdapterService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorAdapterService, decorators: [{\n            type: Injectable\n        }] });\n\nclass ShareViewPresetModule {\n}\nShareViewPresetModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ShareViewPresetModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nShareViewPresetModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ShareViewPresetModule, declarations: [ShareViewPresetComponent, ShareViewPresetUsersGridComponent], imports: [AdaptMetatagModule,\n        AdaptButtonModule,\n        ReactiveFormsModule,\n        TranslateModule,\n        RecordGridModule,\n        CommonModule,\n        AdaptIconModule,\n        AdaptRxLabelModule] });\nShareViewPresetModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ShareViewPresetModule, imports: [[\n            AdaptMetatagModule,\n            AdaptButtonModule,\n            ReactiveFormsModule,\n            TranslateModule,\n            RecordGridModule,\n            CommonModule,\n            AdaptIconModule,\n            AdaptRxLabelModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ShareViewPresetModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        AdaptMetatagModule,\n                        AdaptButtonModule,\n                        ReactiveFormsModule,\n                        TranslateModule,\n                        RecordGridModule,\n                        CommonModule,\n                        AdaptIconModule,\n                        AdaptRxLabelModule\n                    ],\n                    declarations: [ShareViewPresetComponent, ShareViewPresetUsersGridComponent]\n                }]\n        }] });\n\nclass AddSharedViewPresetsModule {\n}\nAddSharedViewPresetsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AddSharedViewPresetsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nAddSharedViewPresetsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AddSharedViewPresetsModule, declarations: [AddSharedViewPresetsComponent], imports: [CommonModule, TranslateModule, AdaptButtonModule, RecordGridModule] });\nAddSharedViewPresetsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AddSharedViewPresetsModule, imports: [[CommonModule, TranslateModule, AdaptButtonModule, RecordGridModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: AddSharedViewPresetsModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [AddSharedViewPresetsComponent],\n                    imports: [CommonModule, TranslateModule, AdaptButtonModule, RecordGridModule]\n                }]\n        }] });\n\nclass ViewPresetSelectorModule {\n    constructor(rxDefinitionAdapterRegistryService, viewPresetSelectorAdapterService) {\n        this.rxDefinitionAdapterRegistryService = rxDefinitionAdapterRegistryService;\n        this.viewPresetSelectorAdapterService = viewPresetSelectorAdapterService;\n        rxDefinitionAdapterRegistryService.registerRuntimeAdapter(RxViewComponentType.ViewPresetSelector, this.viewPresetSelectorAdapterService);\n    }\n}\nViewPresetSelectorModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorModule, deps: [{ token: i1$1.RxDefinitionAdapterRegistryService }, { token: ViewPresetSelectorAdapterService }], target: i0.ɵɵFactoryTarget.NgModule });\nViewPresetSelectorModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorModule, declarations: [RenameViewPresetComponent, ViewPresetSelectorComponent], imports: [AdaptButtonModule,\n        AdaptDropdownModule,\n        AdaptRxTextfieldModule,\n        AdaptTooltipModule,\n        CommonModule,\n        ReactiveFormsModule,\n        RxUniqueValidatorModule,\n        TranslateModule,\n        RxNoWhitespaceValidatorModule,\n        ShareViewPresetModule,\n        AddSharedViewPresetsModule,\n        AdaptIconModule], exports: [ViewPresetSelectorComponent] });\nViewPresetSelectorModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorModule, providers: [ViewPresetSelectorAdapterService], imports: [[\n            AdaptButtonModule,\n            AdaptDropdownModule,\n            AdaptRxTextfieldModule,\n            AdaptTooltipModule,\n            CommonModule,\n            ReactiveFormsModule,\n            RxUniqueValidatorModule,\n            TranslateModule,\n            RxNoWhitespaceValidatorModule,\n            ShareViewPresetModule,\n            AddSharedViewPresetsModule,\n            AdaptIconModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        AdaptButtonModule,\n                        AdaptDropdownModule,\n                        AdaptRxTextfieldModule,\n                        AdaptTooltipModule,\n                        CommonModule,\n                        ReactiveFormsModule,\n                        RxUniqueValidatorModule,\n                        TranslateModule,\n                        RxNoWhitespaceValidatorModule,\n                        ShareViewPresetModule,\n                        AddSharedViewPresetsModule,\n                        AdaptIconModule\n                    ],\n                    exports: [ViewPresetSelectorComponent],\n                    declarations: [RenameViewPresetComponent, ViewPresetSelectorComponent],\n                    entryComponents: [ViewPresetSelectorComponent],\n                    providers: [ViewPresetSelectorAdapterService]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.RxDefinitionAdapterRegistryService }, { type: ViewPresetSelectorAdapterService }]; } });\n\nclass PresetsListWidgetComponent extends InspectorWidgetBase {\n    constructor(injector, translateService) {\n        super(injector);\n        this.injector = injector;\n        this.translateService = translateService;\n        this.editedPreset = null;\n        this.presets = [];\n        this.strings = {\n            cannotBeBlank: this.translateService.instant('com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message', {\n                propertyName: 'View preset name'\n            }),\n            duplicateValue: this.translateService.instant('com.bmc.arsys.rx.client.designer.validation.duplicate-value.message')\n        };\n        this.itemValidationFn = this.itemValidation.bind(this);\n    }\n    ngOnInit() {\n        this.designerItemModel.sandbox\n            .getChildComponents()\n            .pipe(first(), takeUntil(this.designerItemModel.sandbox.destroyed$))\n            .subscribe((res) => {\n            res.sort((a, b) => a.data.index - b.data.index);\n            this.presets = res.map((component) => ({\n                name: component.data.label,\n                id: component.guid\n            }));\n        });\n    }\n    onPresetsListChange(items) {\n        items.forEach((item) => {\n            item.name = trim(item.name);\n        });\n        this.presets = cloneDeep(items);\n        const payload = items.map(({ name, id }, index) => ({\n            type: RxViewComponentType.ViewPreset,\n            guid: String(id),\n            data: {\n                label: name,\n                index\n            }\n        }));\n        this.designerItemModel.sandbox.setChildren(payload);\n    }\n    onListItemAdd() {\n        this.presets.push(this.presets.shift());\n    }\n    onListItemEdit(preset) {\n        this.editedPreset = preset;\n    }\n    onListItemUpdate() {\n        this.editedPreset = null;\n    }\n    focus() {\n        this.adaptRxListBuilderComponent.inputEl.nativeElement.focus();\n    }\n    itemValidation(value, items, isEdit) {\n        let errorMessage = null;\n        const otherItemNames = chain(items)\n            .reject((item) => isEdit && item.id === this.editedPreset.id)\n            .map('name')\n            .value();\n        const trimmedValue = trim(value);\n        if (trimmedValue.length === 0) {\n            errorMessage = this.strings.cannotBeBlank;\n        }\n        else if (otherItemNames.includes(trimmedValue)) {\n            errorMessage = this.strings.duplicateValue;\n        }\n        return errorMessage;\n    }\n}\nPresetsListWidgetComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PresetsListWidgetComponent, deps: [{ token: i0.Injector }, { token: i2.TranslateService }], target: i0.ɵɵFactoryTarget.Component });\nPresetsListWidgetComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: PresetsListWidgetComponent, selector: \"rx-presets-list-widget\", viewQueries: [{ propertyName: \"adaptRxListBuilderComponent\", first: true, predicate: AdaptRxListBuilderComponent, descendants: true }], usesInheritance: true, ngImport: i0, template: \"<adapt-rx-list-builder\\n  [label]=\\\"'View preset names'\\\"\\n  [(ngModel)]=\\\"presets\\\"\\n  (ngModelChange)=\\\"onPresetsListChange($event)\\\"\\n  [hideListAreaLabel]=\\\"true\\\"\\n  [texts]=\\\"options.texts\\\"\\n  [readonly]=\\\"isDisabled\\\"\\n  (listItemAdd)=\\\"onListItemAdd()\\\"\\n  (listItemEdit)=\\\"onListItemEdit($event)\\\"\\n  (listItemUpdate)=\\\"onListItemUpdate()\\\"\\n  [itemValidation]=\\\"itemValidationFn\\\"\\n>\\n</adapt-rx-list-builder>\\n\", styles: [\"\"], components: [{ type: i1.AdaptRxListBuilderComponent, selector: \"adapt-rx-list-builder\", inputs: [\"hideSearchField\", \"hideEdit\", \"hideDelete\", \"hideListAreaLabel\", \"customSort\", \"texts\", \"menuHeight\", \"listItemMaxLength\", \"generateListItemId\", \"itemValidation\", \"disabled\", \"treeStructure\", \"listItemFormatter\", \"listItemSetterProp\", \"listItemContentTemplate\", \"selectionMode\"], outputs: [\"listItemAdd\", \"listItemEdit\", \"listItemUpdate\", \"listItemRemove\"] }], directives: [{ type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PresetsListWidgetComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-presets-list-widget',\n                    templateUrl: './presets-list-widget.component.html',\n                    styleUrls: ['./presets-list-widget.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i2.TranslateService }]; }, propDecorators: { adaptRxListBuilderComponent: [{\n                type: ViewChild,\n                args: [AdaptRxListBuilderComponent]\n            }] } });\n\nclass ViewPresetSelectorDesignModel extends ViewDesignerComponentModel {\n    constructor() {\n        super(...arguments);\n        this.presetComponentGuids$ = this.sandbox.getChildComponentGuids();\n        this.otherPresetSelectorsNames$ = this.sandbox\n            .getComponentsByType(RxViewComponentType.ViewPresetSelector)\n            .pipe(map((selectors) => selectors\n            .filter((component) => component.guid !== this.sandbox.guid)\n            .map((component) => component.data.name.trim())));\n        this.label$ = this.sandbox.getChildComponents().pipe(map((components) => components.sort((a, b) => a.data.index - b.data.index)), map((components) => (components[0] ? components[0].data.label : 'No view presets added')), takeUntil(this.sandbox.destroyed$));\n        this.rxFeatureService = this.injector.get(RxFeatureService);\n    }\n    static getInitialProperties(initialProperties) {\n        return Object.assign(Object.assign({ name: 'View preset selector', styles: null, enableSharing: false }, RX_AVAILABLE_ON_DEVICES_DEFAULT_VALUE), initialProperties);\n    }\n    rxInit() {\n        this.sandbox.updateInspectorConfig(this.setInspectorConfig());\n        combineLatest([this.sandbox.componentProperties$, this.presetComponentGuids$])\n            .pipe(withLatestFrom(this.otherPresetSelectorsNames$), map(([[componentProperties, presetGuids], otherPresetSelectorsNames]) => this.validate(componentProperties, presetGuids, otherPresetSelectorsNames)), takeUntil(this.sandbox.destroyed$))\n            .subscribe((validationIssues) => {\n            this.sandbox.setValidationIssues(validationIssues);\n        });\n    }\n    setInspectorConfig() {\n        return {\n            inspectorSectionConfigs: [\n                {\n                    label: 'General',\n                    controls: [\n                        {\n                            name: 'name',\n                            component: TextFormControlComponent,\n                            options: {\n                                label: 'Name',\n                                required: true\n                            }\n                        },\n                        {\n                            component: PresetsListWidgetComponent,\n                            widgetName: 'presetsList'\n                        },\n                        this.rxFeatureService.isFeatureEnabled(RX_SHARABLE_VIEW_RESETS_FEATURE_NAME)\n                            ? {\n                                name: 'enableSharing',\n                                component: SwitchFormControlComponent,\n                                options: {\n                                    label: 'Enable sharing'\n                                }\n                            }\n                            : null,\n                        getAvailableOnDevicesInspectorConfig(),\n                        getStylesFieldInspectorConfig()\n                    ].filter(Boolean)\n                }\n            ]\n        };\n    }\n    validate(model, presetGuids, otherPresetSelectorsNames) {\n        let validationIssues = [];\n        const trimmedModelName = model.name.trim();\n        if (!trimmedModelName) {\n            validationIssues.push(this.sandbox.createError('Name cannot be blank.', 'name'));\n        }\n        else if (otherPresetSelectorsNames.includes(trimmedModelName)) {\n            validationIssues.push(this.sandbox.createError('Name must be unique.', 'name'));\n        }\n        if (!presetGuids.length) {\n            validationIssues.push(this.sandbox.createError('At least one view preset must be added.', 'presetsList'));\n        }\n        validationIssues = validationIssues.concat(validateStandardProps(model));\n        return validationIssues;\n    }\n}\n\nclass ViewPresetSelectorDesignComponent {\n}\nViewPresetSelectorDesignComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorDesignComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nViewPresetSelectorDesignComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ViewPresetSelectorDesignComponent, selector: \"rx-view-preset-selector-design\", inputs: { model: \"model\" }, ngImport: i0, template: \"<button\\n  class=\\\"dropdown-toggle text-default font-weight-bold text-left\\\"\\n  adapt-button\\n  btn-type=\\\"tertiary\\\"\\n  type=\\\"button\\\"\\n  readonly\\n>\\n  {{ model.label$ | async }}\\n</button>\\n\", styles: [\"button{white-space:normal;word-break:break-word}\\n\"], components: [{ type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], pipes: { \"async\": i3.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorDesignComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-view-preset-selector-design',\n                    templateUrl: './view-preset-selector-design.component.html',\n                    styleUrls: ['./view-preset-selector-design.component.scss']\n                }]\n        }], propDecorators: { model: [{\n                type: Input\n            }] } });\n\nclass PresetsListWidgetModule {\n}\nPresetsListWidgetModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PresetsListWidgetModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nPresetsListWidgetModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PresetsListWidgetModule, declarations: [PresetsListWidgetComponent], imports: [CommonModule, AdaptRxListBuilderModule, FormsModule], exports: [PresetsListWidgetComponent] });\nPresetsListWidgetModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PresetsListWidgetModule, imports: [[CommonModule, AdaptRxListBuilderModule, FormsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: PresetsListWidgetModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [PresetsListWidgetComponent],\n                    exports: [PresetsListWidgetComponent],\n                    imports: [CommonModule, AdaptRxListBuilderModule, FormsModule]\n                }]\n        }] });\n\nclass ViewPresetSelectorDesignModule {\n}\nViewPresetSelectorDesignModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorDesignModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nViewPresetSelectorDesignModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorDesignModule, declarations: [ViewPresetSelectorDesignComponent], imports: [CommonModule, PresetsListWidgetModule, AdaptButtonModule] });\nViewPresetSelectorDesignModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorDesignModule, imports: [[CommonModule, PresetsListWidgetModule, AdaptButtonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorDesignModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, PresetsListWidgetModule, AdaptButtonModule],\n                    declarations: [ViewPresetSelectorDesignComponent],\n                    entryComponents: [ViewPresetSelectorDesignComponent]\n                }]\n        }] });\n\nclass ViewPresetSelectorRegistrationModule {\n    constructor(rxViewComponentRegistryService, componentFactoryResolver) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        rxViewComponentRegistryService.register({\n            type: RxViewComponentType.ViewPresetSelector,\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(ViewPresetSelectorComponent),\n            properties: [\n                {\n                    name: 'styles'\n                },\n                {\n                    name: 'enableSharing',\n                    type: ViewComponentPropertyType.Boolean,\n                    designType: ViewComponentPropertyType.Boolean\n                },\n                RX_AVAILABLE_ON_DEVICES_PROP_DESC\n            ],\n            isContainerComponent: true,\n            name: 'View preset selector',\n            group: RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,\n            icon: 'screens_triangle_down_circle',\n            designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(ViewPresetSelectorDesignComponent),\n            designComponentModel: ViewPresetSelectorDesignModel,\n            bundleId: RX_APPLICATION.platformBundleId\n        }, {\n            type: RxViewComponentType.ViewPreset,\n            configPropertyName: 'viewPresets',\n            isDataComponent: true,\n            properties: [\n                {\n                    name: 'label',\n                    localizable: true\n                },\n                {\n                    name: 'index',\n                    designType: ViewComponentPropertyType.Number,\n                    type: ViewComponentPropertyType.Number\n                }\n            ]\n        });\n    }\n}\nViewPresetSelectorRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorRegistrationModule, deps: [{ token: i1$4.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.NgModule });\nViewPresetSelectorRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorRegistrationModule, imports: [ViewPresetSelectorDesignModule, ViewPresetSelectorModule] });\nViewPresetSelectorRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorRegistrationModule, imports: [[ViewPresetSelectorDesignModule, ViewPresetSelectorModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewPresetSelectorRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [ViewPresetSelectorDesignModule, ViewPresetSelectorModule]\n                }]\n        }], ctorParameters: function () { return [{ type: i1$4.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }]; } });\n\nclass GainsightAdminOptInComponent extends BaseViewComponent {\n    constructor(translateService, rxNotificationService, rxGainsightConfiguratorService) {\n        super();\n        this.translateService = translateService;\n        this.rxNotificationService = rxNotificationService;\n        this.rxGainsightConfiguratorService = rxGainsightConfiguratorService;\n        this.deploymentTypeOptions = RX_GAINSIGHT.deploymentTypes;\n        this.environmentTypeOptions = RX_GAINSIGHT.environmentTypes;\n        this.vm$ = this.rxGainsightConfiguratorService.getGainsightConfiguration(RX_APPLICATION.innovationStudioBundleId).pipe(take(1), filter((config) => Boolean(config)), map((config) => config.settings), map((settings) => ({\n            deploymentTypeOptions: this.deploymentTypeOptions.filter((deploymentType) => deploymentType.name === settings.deploymentType),\n            environmentTypeOptions: [settings.environmentType],\n            useAdaptRadar: settings.useAdaptRadar,\n            loadGainsightFromBmcIt: settings.loadGainsightFromBmcIt,\n            adaptAgreementState: {\n                organizationPerformance: settings.enableGainsight,\n                accountMarketing: false,\n                accountPerformance: false,\n                organizationMarketing: false\n            }\n        })), shareReplay(1));\n    }\n    optionFormatter(deploymentType) {\n        return deploymentType.name;\n    }\n    save() {\n        this.vm$\n            .pipe(take(1), map((vm) => (Object.assign(Object.assign({}, vm), { deploymentType: vm.deploymentTypeOptions[0].id, environmentType: vm.environmentTypeOptions[0], enableGainsight: vm.adaptAgreementState.organizationPerformance }))), switchMap((gainsightSettings) => this.rxGainsightConfiguratorService.saveGainsightConfiguration(gainsightSettings)))\n            .subscribe(() => {\n            this.rxNotificationService.addSuccessMessage(this.translateService.instant('com.bmc.arsys.rx.client.gainsight.gainsight-settings-saved.success.message'));\n        });\n    }\n}\nGainsightAdminOptInComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: GainsightAdminOptInComponent, deps: [{ token: i2.TranslateService }, { token: i1$1.RxNotificationService }, { token: i2$5.RxGainsightConfiguratorService }], target: i0.ɵɵFactoryTarget.Component });\nGainsightAdminOptInComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: GainsightAdminOptInComponent, selector: \"rx-gainsight-admin-opt-in\", usesInheritance: true, ngImport: i0, template: \"<ng-container class=\\\"p-0\\\" *ngIf=\\\"vm$ | async as vm; else emptyStateTemplate\\\">\\n  <div class=\\\"mt-1 container\\\">\\n    <h1>\\n      <span class=\\\"text-logo\\\">{{ 'com.bmc.arsys.rx.client.gainsight.gainsight-settings.title' | translate }}</span>\\n    </h1>\\n\\n    <div>\\n      <adapt-agreement-card\\n        [showOrganizationSettings]=\\\"true\\\"\\n        [showMarketingSection]=\\\"false\\\"\\n        [multiProductUsage]=\\\"false\\\"\\n        [showShadow]=\\\"false\\\"\\n        rx-id=\\\"enable-gainsight\\\"\\n        [(state)]=\\\"vm.adaptAgreementState\\\"\\n      >\\n      </adapt-agreement-card>\\n    </div>\\n\\n    <div class=\\\"pt-4 pl-0 col-md-4\\\" [hidden]=\\\"true\\\">\\n      <adapt-rx-switch\\n        [isLabelBefore]=\\\"true\\\"\\n        [size]=\\\"'lg'\\\"\\n        label=\\\"Use ADAPT Radar\\\"\\n        [(ngModel)]=\\\"vm.useAdaptRadar\\\"\\n        name=\\\"useAdaptRadar\\\"\\n        rx-id=\\\"use-adapt-radar\\\"\\n      ></adapt-rx-switch>\\n    </div>\\n\\n    <div class=\\\"pt-4 pl-0 col-md-4\\\">\\n      <adapt-rx-switch\\n        [isLabelBefore]=\\\"true\\\"\\n        [size]=\\\"'lg'\\\"\\n        label=\\\"{{\\n          'com.bmc.arsys.rx.client.gainsight.gainsight-settings.load-gainsight-script-from-bmc-it.label' | translate\\n        }}\\\"\\n        [(ngModel)]=\\\"vm.loadGainsightFromBmcIt\\\"\\n        name=\\\"loadGainsightFromBmcIt\\\"\\n        rx-id=\\\"load-gainsight-from-bmc\\\"\\n      ></adapt-rx-switch>\\n    </div>\\n\\n    <adapt-rx-select\\n      class=\\\"col-md-3 pt-4 pl-0\\\"\\n      label=\\\"{{ 'com.bmc.arsys.rx.client.gainsight.gainsight-settings.deployment-type.label' | translate }}\\\"\\n      [options]=\\\"deploymentTypeOptions\\\"\\n      [optionFormatter]=\\\"optionFormatter\\\"\\n      [(ngModel)]=\\\"vm.deploymentTypeOptions\\\"\\n      name=\\\"deploymentType\\\"\\n      rx-id=\\\"deployment-type\\\"\\n    >\\n    </adapt-rx-select>\\n\\n    <adapt-rx-select\\n      class=\\\"col-md-3 pt-4 pl-0\\\"\\n      label=\\\"{{ 'com.bmc.arsys.rx.client.gainsight.gainsight-settings.environment-type.label' | translate }}\\\"\\n      [options]=\\\"environmentTypeOptions\\\"\\n      [(ngModel)]=\\\"vm.environmentTypeOptions\\\"\\n      name=\\\"environmentType\\\"\\n      rx-id=\\\"environment-type\\\"\\n    >\\n    </adapt-rx-select>\\n\\n    <div class=\\\"modal-footer mt-4\\\">\\n      <button rx-id=\\\"save-button\\\" adapt-button btn-type=\\\"primary\\\" type=\\\"button\\\" (click)=\\\"save()\\\" rx-id=\\\"save-button\\\">\\n        {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n      </button>\\n    </div>\\n  </div>\\n</ng-container>\\n\\n<ng-template #emptyStateTemplate>\\n  <div class=\\\"d-flex align-items-center justify-content-center h-100\\\">\\n    <adapt-empty-state\\n      class=\\\"w-100\\\"\\n      label=\\\"{{ 'com.bmc.arsys.rx.client.gainsight.feature-is-disabled.label' | translate }}\\\"\\n      type=\\\"config\\\"\\n    ></adapt-empty-state>\\n  </div>\\n</ng-template>\\n\", styles: [\":host ::ng-deep adapt-agreement-card adapt-agreement-admin-content div:nth-of-type(2)>adapt-rx-switch,:host ::ng-deep adapt-agreement-card adapt-agreement-admin-content hr:nth-of-type(2)~div,:host ::ng-deep adapt-agreement-card adapt-agreement-admin-content h4,:host ::ng-deep adapt-agreement-card adapt-agreement-admin-content hr:nth-of-type(3){display:none}\\n\"], components: [{ type: i1.AdaptAgreementCardComponent, selector: \"adapt-agreement-card\", inputs: [\"multiProductUsage\", \"state\", \"showOrganizationSettings\", \"showMarketingSection\", \"showShadow\"], outputs: [\"stateChange\"] }, { type: i1.AdaptRxSwitchComponent, selector: \"adapt-rx-switch\", inputs: [\"value\", \"size\", \"isLabelBefore\", \"checked\"] }, { type: i1.AdaptRxSelectComponent, selector: \"adapt-rx-select\", inputs: [\"options\", \"emptyOption\", \"optionFormatter\", \"optionContentTemplate\", \"disabledOptionResolver\", \"titleFormatter\", \"focusFirst\", \"texts\", \"multiple\", \"singleSelectStyle\", \"enableFilter\", \"inline\", \"selectAllButton\", \"deselectAllButton\", \"loadMoreButton\", \"loadMoreCallback\", \"loadMoreInProgress\", \"loadingState\", \"placeholder\", \"size\", \"closeOnSelect\", \"placement\", \"appendToBody\", \"popupMaxHeight\", \"popupClass\", \"pageSize\", \"ariaInvalid\", \"virtualScroll\", \"virtualScrollItemSize\", \"virtualScrollTemplateCacheSize\", \"minBufferPx\", \"maxBufferPx\"], outputs: [\"onSelectionChange\", \"onPopupOpenChange\", \"onFilterValueChange\"] }, { type: i1.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i1.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$3.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i2$3.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }], pipes: { \"async\": i3.AsyncPipe, \"translate\": i2.TranslatePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: GainsightAdminOptInComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-gainsight-admin-opt-in',\n                    templateUrl: './gainsight-admin-opt-in.component.html',\n                    styleUrls: ['./gainsight-admin-opt-in.component.scss'],\n                    changeDetection: ChangeDetectionStrategy.OnPush\n                }]\n        }], ctorParameters: function () { return [{ type: i2.TranslateService }, { type: i1$1.RxNotificationService }, { type: i2$5.RxGainsightConfiguratorService }]; } });\n\nclass GainsightAdminOptInRegistrationModule {\n    constructor(componentFactoryResolver, rxViewComponentRegistryService) {\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        rxViewComponentRegistryService.register({\n            type: 'rx-gainsight-admin-opt-in',\n            componentFactory: this.componentFactoryResolver.resolveComponentFactory(GainsightAdminOptInComponent),\n            name: 'Gainsight Admin Opt In',\n            hidden: true,\n            availableInBundles: [RX_APPLICATION.settingsBundleId]\n        });\n    }\n}\nGainsightAdminOptInRegistrationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: GainsightAdminOptInRegistrationModule, deps: [{ token: i0.ComponentFactoryResolver }, { token: i1$4.RxViewComponentRegistryService }], target: i0.ɵɵFactoryTarget.NgModule });\nGainsightAdminOptInRegistrationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: GainsightAdminOptInRegistrationModule, declarations: [GainsightAdminOptInComponent], imports: [TranslateModule,\n        AdaptAgreementModule,\n        AdaptRxSelectModule,\n        FormsModule,\n        AdaptRxSwitchModule,\n        CommonModule,\n        AdaptButtonModule,\n        AdaptEmptyStateModule] });\nGainsightAdminOptInRegistrationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: GainsightAdminOptInRegistrationModule, imports: [[\n            TranslateModule,\n            AdaptAgreementModule,\n            AdaptRxSelectModule,\n            FormsModule,\n            AdaptRxSwitchModule,\n            CommonModule,\n            AdaptButtonModule,\n            AdaptEmptyStateModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: GainsightAdminOptInRegistrationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [GainsightAdminOptInComponent],\n                    imports: [\n                        TranslateModule,\n                        AdaptAgreementModule,\n                        AdaptRxSelectModule,\n                        FormsModule,\n                        AdaptRxSwitchModule,\n                        CommonModule,\n                        AdaptButtonModule,\n                        AdaptEmptyStateModule\n                    ],\n                    entryComponents: [GainsightAdminOptInComponent]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ComponentFactoryResolver }, { type: i1$4.RxViewComponentRegistryService }]; } });\n\nclass ViewComponentsModule {\n}\nViewComponentsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewComponentsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nViewComponentsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewComponentsModule, imports: [ActionButtonRegistrationModule,\n        ButtonBarRegistrationModule,\n        ChatbotUserMappingRegistrationModule,\n        ContainerRegistrationModule,\n        RecordEditorRegistrationModule,\n        FieldComponentsModule,\n        IframeLoginEventRegistrationModule,\n        RecordGridRegistrationModule,\n        RichTextRegistrationModule,\n        TabPanelRegistrationModule,\n        PageRegistrationModule,\n        ImageRegistrationModule,\n        ServiceListRegistrationModule,\n        SmartReportingRedirectorRegistrationModule,\n        UnknownRegistrationModule,\n        ViewPresetSelectorRegistrationModule,\n        GainsightAdminOptInRegistrationModule] });\nViewComponentsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewComponentsModule, imports: [[\n            ActionButtonRegistrationModule,\n            ButtonBarRegistrationModule,\n            ChatbotUserMappingRegistrationModule,\n            ContainerRegistrationModule,\n            RecordEditorRegistrationModule,\n            FieldComponentsModule,\n            IframeLoginEventRegistrationModule,\n            RecordGridRegistrationModule,\n            RichTextRegistrationModule,\n            TabPanelRegistrationModule,\n            PageRegistrationModule,\n            ImageRegistrationModule,\n            ServiceListRegistrationModule,\n            SmartReportingRedirectorRegistrationModule,\n            UnknownRegistrationModule,\n            ViewPresetSelectorRegistrationModule,\n            GainsightAdminOptInRegistrationModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewComponentsModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        ActionButtonRegistrationModule,\n                        ButtonBarRegistrationModule,\n                        ChatbotUserMappingRegistrationModule,\n                        ContainerRegistrationModule,\n                        RecordEditorRegistrationModule,\n                        FieldComponentsModule,\n                        IframeLoginEventRegistrationModule,\n                        RecordGridRegistrationModule,\n                        RichTextRegistrationModule,\n                        TabPanelRegistrationModule,\n                        PageRegistrationModule,\n                        ImageRegistrationModule,\n                        ServiceListRegistrationModule,\n                        SmartReportingRedirectorRegistrationModule,\n                        UnknownRegistrationModule,\n                        ViewPresetSelectorRegistrationModule,\n                        GainsightAdminOptInRegistrationModule\n                    ]\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ActionButtonComponent, ActionButtonDesignComponent, ActionButtonDesignModule, ActionButtonIconAlignment, ActionButtonModule, ActionButtonSize, ActionButtonStyle, AssociationDesignModule, AssociationManagerFactory, AssociationModule, AssociationRegistrationModule, AttachmentFieldComponent, AttachmentFieldDesignComponent, AttachmentFieldDesignModule, AttachmentFieldModule, AttachmentFieldRegistrationModule, BaseRecordEditorFieldComponent, BaseRecordEditorFieldDesign, BooleanFieldComponent, BooleanFieldDesignComponent, BooleanFieldDesignModule, BooleanFieldModule, BooleanFieldRegistrationModule, ButtonBarComponent, ButtonBarDesignComponent, ButtonBarDesignModel, ButtonBarDesignModule, ButtonBarModule, ChatbotUserMappingComponent, ChatbotUserMappingRegistrationModule, ColumnSortDirection, ContainerComponent, ContainerDesignComponent, ContainerDesignModule, ContainerModule, ContainerRowWrap, DateFieldComponent, DateFieldDesignComponent, DateFieldDesignModule, DateFieldModule, DateFieldRegistrationModule, DateTimeFieldComponent, DateTimeFieldDesignComponent, DateTimeFieldDesignModule, DateTimeFieldModule, DateTimeFieldRegistrationModule, DecimalFieldComponent, DecimalFieldDesignComponent, DecimalFieldDesignModule, DecimalFieldModule, DecimalFieldRegistrationModule, DeprecatedActionButtonStyle, ExtensionContainerDesignComponent, ExtensionContainerDesignModule, ExtensionContainerRegistrationModule, ExtensionContainerSectionComponent, FieldComponentsModule, GainsightAdminOptInRegistrationModule, IframeLoginEventComponent, IframeLoginEventRegistrationModule, ImageComponent, ImageDesignComponent, ImageDesignModule, ImageModule, IntegerFieldComponent, IntegerFieldDesignComponent, IntegerFieldDesignModule, IntegerFieldModule, IntegerFieldRegistrationModule, LocalizedCharacterFieldComponent, LocalizedCharacterFieldRegistrationModule, PageComponent, PageComponentDefinitionAdapterService, PageDesignComponent, PageDesignModule, PageModule, RECORD_EDITOR, RX_ASSOCIATION, RX_BASE_FIELD_PROPERTIES, RX_RECORD_GRID, RX_RECORD_GRID_DESIGN, RecordEditorComponent, RecordEditorDesignComponent, RecordEditorDesignModule, RecordEditorMode, RecordEditorModule, RecordEditorState, RecordGridColumnAlignment, RecordGridColumnEditorControlComponent, RecordGridColumnEditorModalComponent, RecordGridComponent, RecordGridDesignComponent, RecordGridDesignDefinitionMode, RecordGridDesignModule, RecordGridFilterMode, RecordGridFilterSelectControlComponent, RecordGridFilterSelectControlModule, RecordGridModule, RichTextComponent, RichTextDesignComponent, RichTextDesignModule, RichTextModule, RichTextareaFieldComponent, RichTextareaFieldDesignComponent, RichTextareaFieldDesignModule, RichTextareaFieldModule, RichTextareaFieldRegistrationModule, RowSelectionMode, RxAssociationComponent, RxAssociationDesignComponent, RxAssociationEditingMode, RxAssociationManagerService, RxDefaultRecordEditorInputType, RxExtensionContainerComponent, RxExtensionContainerModule, RxLocalizedCharacterFieldModule, RxRecordEditorUtilsService, RxRecordGridAdvancedFilterValue, RxRecordGridAdvancedFilteringService, RxRecordGridDesignUtilsService, RxRecordGridFilterHelperService, RxRecordGridFilterSelectHelperService, RxRecordGridFilterService, RxRecordGridQueryExpressionEvaluatorService, RxRecordGridUtilsService, RxTabContainerComponent, RxTabPanelComponent, RxTabPanelModule, SelectGroupComponent, SelectGroupComponentDefinitionAdapterService, SelectGroupDesignComponent, SelectGroupDesignModel, SelectGroupFieldComponent$1 as SelectGroupFieldComponent, SelectGroupModule, SelectGroupRegistrationModule, SelectionFieldComponent, SelectionFieldDesignComponent, SelectionFieldDesignModule, SelectionFieldModule, SelectionFieldRegistrationModule, ServiceListComponent, ServiceListDesignComponent, ServiceListDesignModule, ServiceListModule, TabPanelDesignModule, TextFieldComponent, TextFieldDesignComponent, TextFieldDesignModule, TextFieldExpressionConfigurator, TextFieldModule, TextFieldMultiSelectionType, TextFieldRegistrationModule, TextareaFieldComponent, TextareaFieldDesignComponent, TextareaFieldDesignModule, TextareaFieldModule, TextareaFieldRegistrationModule, TimeFieldComponent, TimeFieldDesignComponent, TimeFieldDesignModule, TimeFieldModule, TimeFieldRegistrationModule, UploaderFactory, ViewComponentsModule };\n//# sourceMappingURL=helix-platform-view-components.js.map\n","import * as i0 from '@angular/core';\nimport { Injectable, Component, Input, EventEmitter, Output, NgModule, InjectionToken, ViewContainerRef, Inject, ViewChild, ChangeDetectionStrategy, SkipSelf, Optional, InjectFlags, ElementRef, ViewChildren } from '@angular/core';\nimport * as i12 from '@helix/platform/association/api';\nimport * as i4$2 from '@helix/platform/named-list/api';\nimport { RxNamedListDefinitionCacheService } from '@helix/platform/named-list/api';\nimport * as i13 from '@helix/platform/process/api';\nimport * as i11 from '@helix/platform/record/api';\nimport { RX_RECORD_DEFINITION, RxRecordDefinitionCacheService } from '@helix/platform/record/api';\nimport * as i3 from '@helix/platform/shared/api';\nimport { ExpressionParserToken, RxExpressionConfigurator, ExpressionOperatorRowsByGroup, ExpressionOperatorGroup, Tooltip, RX_APPLICATION } from '@helix/platform/shared/api';\nimport * as i3$1 from '@helix/platform/shared/components';\nimport { RxRevertCustomizationModule, SelectFormControlComponent, TextFormControlComponent, TextareaFormControlComponent, RxDefinitionPickerComponent, RxDefinitionPickerType, TagsFormControlComponent, RxPermissionEditorComponent, ListFormControlComponent, RX_VALIDATION_FORM_CONTROL, RX_REVERT_CUSTOMIZATION, RX_EXPRESSION_EDITOR, ExpressionFormControlComponent, ExpressionEditorModule, RxFormBuilderModule, ValueAccessor, RxPermissionEditorModule, CustomizationOptionsModule, InspectorWidgetBase, OptionalExpressionInspectorControlComponent, FormControlsModule, RxDesignerHeaderModule, RxInspectorModule } from '@helix/platform/shared/components';\nimport * as i5$1 from '@helix/platform/ui-kit';\nimport { RX_MODAL, ValidationIssueType, RxModalClass, RxBladeModule, RxValidationIssuesModule, RxJsonViewerModule } from '@helix/platform/ui-kit';\nimport * as i5 from '@helix/platform/view/api';\nimport { RxViewLayout, RxViewComponentType, RX_AVAILABLE_ON_DEVICES_PROP_NAME, RX_STYLES_PROP_NAME, RX_EXPRESSION_FUNCTIONS, RxExpressionHelperService, RxDefaultExpressionEvaluatorService, RxViewComponentRegistryService, RX_VIEW_DEFINITION, BwfViewComponentType, ViewDefinitionType, RxViewActionRegistryService, OpenViewActionModalSize, RxDevice, RX_HIDDEN_PROP_NAME, RX_DISABLED_PROP_NAME, ViewComponentPropertyType, ViewActionDesignModule } from '@helix/platform/view/api';\nimport * as i6 from '@ngx-translate/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { includes, some, uniq, map, flow, compact, isEmpty, omit, has, reject, sortBy, get, isFinite as isFinite$1, flatten, filter as filter$1, isFunction, transform, isUndefined, isObject, isPlainObject, isBoolean, isNumber, isArray, isEqual, find, take as take$1, findIndex, throttle, isString, mergeWith, reduce, groupBy, lowerCase, pick, toPath, set, cloneDeep, values, chain, pull, noop, without, castArray, merge as merge$1, every, last, difference, forEach, omitBy } from 'lodash';\nimport { ReplaySubject, Subject, of, merge, combineLatest, EMPTY, asapScheduler, BehaviorSubject, throwError, noop as noop$1 } from 'rxjs';\nimport { filter, map as map$1, shareReplay, switchMap, take, withLatestFrom, distinctUntilChanged, bufferToggle, takeUntil, switchMapTo, concatMapTo, skip, first, tap, concatMap, debounceTime, startWith, skipWhile, mapTo, publishReplay, refCount, mergeMap, catchError } from 'rxjs/operators';\nimport * as i2$1 from '@helix/platform/utils';\nimport * as i1 from '@ngrx/effects';\nimport { ofType, Actions, Effect, EffectsModule } from '@ngrx/effects';\nimport * as i2 from '@ngrx/store';\nimport { createAction, props, createFeatureSelector, createSelector, createReducer, on, StoreModule } from '@ngrx/store';\nimport * as i3$2 from '@angular/forms';\nimport { FormControl, ReactiveFormsModule, FormsModule, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport * as i4 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i4$1 from '@angular/cdk/drag-drop';\nimport { CdkDropList, DragDropModule, moveItemInArray } from '@angular/cdk/drag-drop';\nimport * as i3$3 from '@bmc-ux/adapt-angular';\nimport { AdaptAccordionModule, AdaptRxSearchModule, DismissReasons, AdaptButtonModule, AdaptModalModule, AdaptRxTextfieldModule, TreeWrap, toNumber, AdaptAccordionTabComponent, AdaptEmptyStateModule, AdaptIconModule, AdaptPopoverModule, AdaptTreeModule, AdaptCodeViewerModule, AdaptAlertModule, AdaptTabsModule } from '@bmc-ux/adapt-angular';\nimport { AdaptTextFieldModule } from '@bmc-ux/obsolete';\nimport { __decorate, __metadata } from 'tslib';\n\nfunction findParentComponentModel(guid, components) {\n    const currentComponent = components[guid];\n    return components[currentComponent === null || currentComponent === void 0 ? void 0 : currentComponent.parentGuid];\n}\nfunction findAllParentComponentGuids(guid, components) {\n    const result = [guid];\n    let parentModel = findParentComponentModel(guid, components);\n    let nextGuid = parentModel ? parentModel.guid : null;\n    while (nextGuid) {\n        result.unshift(nextGuid);\n        parentModel = findParentComponentModel(nextGuid, components);\n        nextGuid = parentModel ? parentModel.guid : null;\n    }\n    return result;\n}\nfunction findParentComponentByType(guid, componentType, components) {\n    let result;\n    let parentModel = findParentComponentModel(guid, components);\n    let nextGuid = parentModel ? parentModel.guid : null;\n    while (nextGuid) {\n        if (parentModel.type === componentType) {\n            result = parentModel;\n            nextGuid = null;\n        }\n        else {\n            parentModel = findParentComponentModel(nextGuid, components);\n            nextGuid = parentModel ? parentModel.guid : null;\n        }\n    }\n    return result;\n}\nfunction isComponentContainsChild(guid, componentModel) {\n    if (componentModel.layout) {\n        const hasChild = RxViewLayout.hasChild(componentModel.layout, guid);\n        if (hasChild) {\n            return true;\n        }\n    }\n    if (componentModel.childDataComponentGuids) {\n        return includes(componentModel.childDataComponentGuids, guid);\n    }\n    else {\n        return false;\n    }\n}\nfunction addChildComponent(componentModel, guid, outletName, insertIndex, columnIndex = 0, columnSpan = 0) {\n    const newComponentModel = Object.assign({}, componentModel);\n    newComponentModel.layout = {\n        outlets: componentModel.layout.outlets.map((outlet) => {\n            if (outlet.name === outletName) {\n                const columns = [...outlet.columns];\n                insertIndex = isFinite(insertIndex) ? insertIndex : columns[columnIndex].children.length;\n                if (!columns[columnIndex]) {\n                    columns[columnIndex] = {\n                        children: []\n                    };\n                    if (columnSpan) {\n                        columns[columnIndex].span = columnSpan;\n                    }\n                }\n                // todo handle drop in non-first column\n                columns[columnIndex] = {\n                    children: [\n                        ...columns[columnIndex].children.slice(0, insertIndex),\n                        guid,\n                        ...columns[columnIndex].children.slice(insertIndex)\n                    ],\n                    span: columns[columnIndex].span\n                };\n                return Object.assign(Object.assign({}, outlet), { columns });\n            }\n            else {\n                return outlet;\n            }\n        })\n    };\n    return newComponentModel;\n}\nfunction removeChildComponent(componentGuidToRemove, parentComponentModel) {\n    const newParentComponentModel = Object.assign({}, parentComponentModel);\n    if (some(newParentComponentModel.childDataComponentGuids, (guid) => componentGuidToRemove === guid)) {\n        newParentComponentModel.childDataComponentGuids = newParentComponentModel.childDataComponentGuids.filter((guid) => guid !== componentGuidToRemove);\n    }\n    if (parentComponentModel.layout && RxViewLayout.hasChild(parentComponentModel.layout, componentGuidToRemove)) {\n        newParentComponentModel.layout = RxViewLayout.removeChildFromLayout(parentComponentModel.layout, componentGuidToRemove);\n    }\n    return newParentComponentModel;\n}\nfunction getChildGuidsFromModel(model) {\n    const guids = [];\n    if (model.childDataComponentGuids) {\n        guids.push(...model.childDataComponentGuids);\n    }\n    if (model.layout) {\n        guids.push(...RxViewLayout.getViewLayoutChildGuids(model.layout));\n    }\n    return uniq(guids);\n}\nfunction getAllChildGuids(parentComponent, componentModelsState) {\n    const guids = getChildGuidsFromModel(parentComponent);\n    return guids.reduce((result, guid) => {\n        result.push(...getAllChildGuids(componentModelsState[guid], componentModelsState));\n        return result;\n    }, guids);\n}\n\nclass RxViewDataDictionaryBuilderService {\n    constructor() {\n        this.componentIcon = 'd-icon-file_o';\n        this.componentPropertyIcon = 'd-icon-file_o_gear';\n        this.settablePropertiesIcon = 'd-icon-arrow_right_square_input';\n        this.actionOutputIcon = 'd-icon-arrow_chart';\n    }\n    getActionOutputDataDictionaryBranch(actionName, dataDictionary) {\n        return {\n            label: actionName,\n            icon: 'd-icon-arrow_chart',\n            children: map(dataDictionary, (dataDictionaryBranch) => this.buildDataDictionaryBranch(dataDictionaryBranch, this.actionOutputIcon))\n        };\n    }\n    getComponentCommonDataDictionaryBranch(branch) {\n        return Object.assign(Object.assign({}, branch), { icon: this.componentIcon, children: flow((children) => map(children, (child) => this.buildDataDictionaryBranch(child, this.componentPropertyIcon)), compact)(branch.children) });\n    }\n    getSettablePropertiesDataDictionary(branches) {\n        return map(branches, (branch) => this.buildDataDictionaryBranch(branch, this.settablePropertiesIcon));\n    }\n    buildDataDictionaryBranch(branch, icon) {\n        const node = Object.assign({}, branch);\n        if (branch.expression) {\n            node.icon = icon;\n        }\n        if (branch.children) {\n            node.children = flow((children) => map(children, (child) => this.buildDataDictionaryBranch(child, icon)), compact)(branch.children);\n        }\n        return node;\n    }\n}\nRxViewDataDictionaryBuilderService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDataDictionaryBuilderService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxViewDataDictionaryBuilderService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDataDictionaryBuilderService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDataDictionaryBuilderService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RxViewDataDictionaryStoreService {\n    constructor() {\n        this.componentsCommon = null;\n        this.componentsCommonSubject = new ReplaySubject(1);\n        this.componentsCommon$ = this.componentsCommonSubject.asObservable();\n        this.viewCommon = null;\n        this.viewCommonSubject = new ReplaySubject(1);\n        this.viewCommon$ = this.viewCommonSubject.asObservable();\n        this.actionsOutput = [];\n        this.actionsOutputSubject = new ReplaySubject(1);\n        this.actionsOutput$ = this.actionsOutputSubject.asObservable();\n        this.settableProperties = null;\n        this.settablePropertiesSubject = new ReplaySubject(1);\n        this.settableProperties$ = this.settablePropertiesSubject.asObservable();\n    }\n    setCommonDataDictionaryBranch(guid, dataDictionaryBranch) {\n        this.setComponentCommon(isEmpty(dataDictionaryBranch)\n            ? omit(this.componentsCommon, [guid])\n            : Object.assign(Object.assign({}, this.componentsCommon), { [guid]: dataDictionaryBranch }));\n    }\n    setViewCommonDataDictionaryBranch(dataDictionaryBranch) {\n        this.setViewCommon(dataDictionaryBranch);\n    }\n    setSettablePropertiesDataDictionary(items) {\n        this.setSettableProperties(Object.assign(Object.assign({}, this.settableProperties), items.reduce((result, { guid, componentName, dataDictionary }) => {\n            result[guid] = { componentName, dataDictionary };\n            return result;\n        }, {})));\n    }\n    removeDataDictionaryForComponents(guids) {\n        if (guids.some((guid) => has(this.componentsCommon, guid))) {\n            this.setComponentCommon(omit(this.componentsCommon, guids));\n        }\n        if (guids.some((guid) => has(this.settableProperties, guid))) {\n            this.setSettableProperties(omit(this.settableProperties, guids));\n        }\n    }\n    setActionOutputDataDictionaryBranch(guid, index, dataDictionaryBranch) {\n        this.setActionsOutput(flow((actions) => [\n            ...reject(actions, { guid }),\n            { guid, index, dataDictionaryBranch }\n        ], (actions) => sortBy(actions, 'index'))(this.actionsOutput));\n    }\n    updateActionOutputDataDictionaryBranchOrder(actions) {\n        this.setActionsOutput(flow((actionsOutput) => map(actionsOutput, (actionOutput) => (Object.assign(Object.assign({}, actionOutput), { index: actions[actionOutput.guid] }))), (actionsOutput) => sortBy(actionsOutput, 'index'))(this.actionsOutput));\n    }\n    removeActionOutputDataDictionaryBranch(guid) {\n        this.setActionsOutput(reject(this.actionsOutput, { guid }));\n    }\n    removeAllActionOutputDataDictionaryBranches() {\n        this.setActionsOutput(null);\n    }\n    clear() {\n        this.setComponentCommon(null);\n        this.setViewCommon(null);\n        this.setSettableProperties(null);\n        this.setActionsOutput([]);\n    }\n    setComponentCommon(state) {\n        this.componentsCommon = state;\n        this.componentsCommonSubject.next(this.componentsCommon);\n    }\n    setViewCommon(state) {\n        this.viewCommon = state;\n        this.viewCommonSubject.next(this.viewCommon);\n    }\n    setActionsOutput(state) {\n        this.actionsOutput = state;\n        this.actionsOutputSubject.next(this.actionsOutput);\n    }\n    setSettableProperties(state) {\n        this.settableProperties = state;\n        this.settablePropertiesSubject.next(this.settableProperties);\n    }\n}\nRxViewDataDictionaryStoreService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDataDictionaryStoreService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxViewDataDictionaryStoreService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDataDictionaryStoreService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDataDictionaryStoreService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RxViewDesignerInspectorService {\n    constructor() {\n        this.onChangeSubject = new Subject();\n        this.configs = new Map();\n        this.onChange$ = this.onChangeSubject.asObservable();\n    }\n    clear() {\n        this.configs.clear();\n    }\n    set(guid, config) {\n        this.configs.set(guid, config);\n        this.onChangeSubject.next({ guid, config });\n    }\n    get(guid) {\n        return this.configs.get(guid);\n    }\n    delete(guid) {\n        this.onChangeSubject.next({ guid, config: null });\n        this.configs.delete(guid);\n    }\n}\nRxViewDesignerInspectorService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerInspectorService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxViewDesignerInspectorService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerInspectorService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerInspectorService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nconst componentsRemoved = createAction('[View Component] Components Removed', props());\nconst initializeComponentModels = createAction('[View Component] Initialize Component Models', props());\nconst initializeDataComponentModels = createAction('[View Component] Initialize Data Component Models', props());\nconst setValidationIssues = createAction('[View Component] Set Validation Issues', props());\nconst setExpressionValidationIssues = createAction('[View Component] Set Expression Validation Issues', props());\nconst setComponentData = createAction('[View Component] Set Component Properties', props());\nconst setChildComponents = createAction('[View Component] Set Child Components', props());\nconst setBreadcrumbs = createAction('[View Component] Set Breadcrumbs', props());\nconst selectComponent = createAction('[View Component] Select Component', props());\nconst setComponentLayout = createAction('[View Component] Set Component Layout', props());\nconst moveComponent = createAction('[View Component] Move Component', props());\nconst insertComponent = createAction('[View Component] Insert Component', props());\nconst addNewComponents = createAction('[View Component] Add New Components', props());\nconst updateComponentModel = createAction('[View Component] Update Component Model', props());\nconst removeComponents = createAction('[View Component] Remove Components', props());\n\n/**\n * Public class for dispatching actions\n * Protects ngrx store$ service from selecting data from the store\n */\nclass ViewDesignerDispatcher {\n    constructor(store$) {\n        this.store$ = store$;\n    }\n    dispatch(action) {\n        this.store$.dispatch(action);\n    }\n}\nViewDesignerDispatcher.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerDispatcher, deps: [{ token: i2.Store }], target: i0.ɵɵFactoryTarget.Injectable });\nViewDesignerDispatcher.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerDispatcher, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerDispatcher, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i2.Store }]; } });\n\nconst viewDefinitionSaveSuccess = createAction('[View Designer] View Definition Save Success', props());\nconst viewDefinitionSaveError = createAction('[View Designer] View Definition Save Error');\nconst viewDefinitionLoadSuccess = createAction('[View Designer] View Definition Load Success', props());\nconst viewDefinitionLoadError = createAction('[View Designer] View Definition Load Error');\nconst setGeneratedViewDefinition = createAction('[View Designer] Set Generated View Definition', props());\nconst loadViewDefinition = createAction('[View Designer] Load View Definition', props());\nconst friendlyBundleNameLoadSuccess = createAction('[View Designer] Bundle Friendly Name Load Success', props());\nconst friendlyBundleNameLoadError = createAction('[View Designer] Bundle Friendly Name Load Error', props());\nconst viewModelsInitialized = createAction('[View Designer] View Models Initialized');\nconst viewModelsUpdatedAfterSave = createAction('[View Designer] View Models Updated After Save');\nconst updateViewModel = createAction('[View Designer] Update View Model', props());\nconst setViewModel = createAction('[View Designer] Set View Model', props());\nconst selectInspectorTab = createAction('[View Designer] Select Inspector Tab', props());\nconst saveViewDefinition = createAction('[View Designer] Save View Definition', props());\nconst runPreview = createAction('[View Designer] Run Preview');\nconst loadFriendlyBundleName = createAction('[View Designer] Load Bundle Friendly Name');\nconst generateViewDefinition = createAction('[View Designer] Generate View Definition', props());\nconst clearCanvas = createAction('[View Designer] Clear Canvas');\nconst initViewDesigner = createAction('[View Designer] Init', props());\nconst destroyViewDesigner = createAction('[View Designer] Destroy');\n\nconst viewDesignerState = createFeatureSelector('viewDesigner');\nconst viewDesignerModelsSelector = createSelector(viewDesignerState, (viewDesigner) => viewDesigner.model);\nconst viewModelSelector = createSelector(viewDesignerModelsSelector, (models) => models.viewDesignModel);\nconst viewModelPropertyValueSelector = createSelector(viewModelSelector, (viewModel, { propertyName }) => get(viewModel, propertyName));\nconst viewComponentModelsSelector = createSelector(viewDesignerModelsSelector, (models) => models.viewComponentDesignModels);\nconst firstViewComponentModelTypeSelector = createSelector(viewDesignerModelsSelector, (models) => { var _a; return (_a = Object.values(models.viewComponentDesignModels)[0]) === null || _a === void 0 ? void 0 : _a.type; });\nconst viewComponentModelSelector = createSelector(viewComponentModelsSelector, (componentModels, { guid }) => componentModels[guid]);\nconst parentComponentModelGuidSelector = createSelector(viewComponentModelSelector, (componentModel) => componentModel === null || componentModel === void 0 ? void 0 : componentModel.parentGuid);\nconst componentPropertiesByNameSelector = createSelector(viewComponentModelsSelector, (componentModels, { guid, propertyName }) => componentModels[guid]\n    ? propertyName\n        ? get(componentModels[guid].propertiesByName, propertyName)\n        : componentModels[guid].propertiesByName\n    : null);\nconst componentTypeSelector = createSelector(viewComponentModelsSelector, (componentModels, { guid }) => componentModels[guid] ? componentModels[guid].type : null);\nconst componentLayoutSelector = createSelector(viewComponentModelSelector, (componentModel) => componentModel === null || componentModel === void 0 ? void 0 : componentModel.layout);\nconst componentPermissionsSelector = createSelector(viewComponentModelSelector, (componentModel) => componentModel === null || componentModel === void 0 ? void 0 : componentModel.permissions);\nconst childDataComponentGuidsSelector = createSelector(viewComponentModelSelector, (componentModel) => componentModel === null || componentModel === void 0 ? void 0 : componentModel.childDataComponentGuids);\nconst viewDesignerUISelector = createSelector(viewDesignerState, (viewDesigner) => viewDesigner.ui);\nconst isViewDefinitionLoadingSelector = createSelector(viewDesignerUISelector, (ui) => ui.isViewDefinitionLoading);\nconst bundleFriendlyNameSelector = createSelector(viewDesignerUISelector, (ui) => ui.friendlyBundleName);\nconst currentBundleIdSelector = createSelector(viewDesignerUISelector, (ui) => ui.currentBundleId);\nconst viewDefinitionSelector = createSelector(viewDesignerState, (viewDesigner) => viewDesigner.viewDefinition);\nconst validationIssuesSelector = createSelector(viewDesignerState, (viewDesigner) => viewDesigner.validation);\nconst breadcrumbsSelector = createSelector(viewDesignerState, (viewDesigner) => viewDesigner.breadcrumbs);\nconst selectedInspectorTabIdSelector = createSelector(viewDesignerUISelector, (ui) => ui.selectedInspectorTabId);\nconst selectedComponentGuidSelector = createSelector(viewDesignerUISelector, (ui) => ui.selectedComponentGuid);\nconst areViewModelsReadySelector = createSelector(viewDesignerUISelector, (ui) => ui.areViewModelsReady);\nconst selectedComponentPropsSelector = createSelector(selectedComponentGuidSelector, viewComponentModelsSelector, (selectedComponentGuid, componentModels) => {\n    if (componentModels && selectedComponentGuid) {\n        const componentDesignModel = componentModels[selectedComponentGuid];\n        return componentDesignModel ? componentDesignModel.propertiesByName : null;\n    }\n    else {\n        return null;\n    }\n});\n\nclass ViewDesignerFacade {\n    constructor(dispatcher, store$, actions$, rxViewDesignerInspectorService, rxGuidService, rxViewDataDictionaryBuilderService, rxViewDataDictionaryService, rxOverlayService) {\n        this.dispatcher = dispatcher;\n        this.store$ = store$;\n        this.actions$ = actions$;\n        this.rxViewDesignerInspectorService = rxViewDesignerInspectorService;\n        this.rxGuidService = rxGuidService;\n        this.rxViewDataDictionaryBuilderService = rxViewDataDictionaryBuilderService;\n        this.rxViewDataDictionaryService = rxViewDataDictionaryService;\n        this.rxOverlayService = rxOverlayService;\n        this.viewDefinition$ = this.store$.select(viewDefinitionSelector);\n        this.validationIssues$ = this.store$.select(validationIssuesSelector);\n        this.breadcrumbs$ = this.store$.select(breadcrumbsSelector);\n        this.viewDesignerModelState$ = this.store$.select(viewDesignerModelsSelector);\n        // filter operator is used to ignore the empty model when:\n        // - the view definition has not been loaded for the first time, or\n        // - the view definition is being saved.\n        this.viewModel$ = this.store$.select(viewModelSelector).pipe(filter(Boolean));\n        this.viewModelGuid$ = this.getViewPropertyValue('guid');\n        this.viewComponentModels$ = this.store$.select(viewComponentModelsSelector);\n        this.firstViewComponentModelType$ = this.store$.select(firstViewComponentModelTypeSelector);\n        this.isExtensionView$ = this.getViewPropertyValue('targetViewDefinitionName').pipe(map$1(Boolean), shareReplay(1));\n        this.isExtensionContainerSet$ = this.getViewPropertyValue('targetExtensionContainerGuid').pipe(map$1(Boolean), shareReplay(1));\n        this.allComponentGuids$ = this.viewComponentModels$.pipe(map$1((models) => new Set(Object.keys(models))), shareReplay({\n            refCount: true,\n            bufferSize: 1\n        }));\n        this.selectedComponentGuid$ = this.store$.select(selectedComponentGuidSelector).pipe(switchMap((componentGuid) => this.viewModelGuid$.pipe(map$1((viewGuid) => (componentGuid === viewGuid ? null : componentGuid)), take(1))));\n        this.selectedComponentProperties$ = this.selectedComponentGuid$.pipe(switchMap((guid) => (guid ? this.getComponentProperties(guid) : of(null))));\n        this.isViewDefinitionLoading$ = this.store$.select(isViewDefinitionLoadingSelector);\n        this.selectedInspectorTabId$ = this.store$.select(selectedInspectorTabIdSelector);\n        this.bundleFriendlyName$ = this.store$.select(bundleFriendlyNameSelector);\n        this.currentBundleId$ = this.store$.select(currentBundleIdSelector);\n        this.viewInspectorLayout$ = merge(this.viewModelGuid$, this.rxViewDesignerInspectorService.onChange$.pipe(withLatestFrom(this.viewModelGuid$), filter(([config, guid]) => config.guid === guid), map$1(([config, guid]) => guid))).pipe(map$1((guid) => {\n            const inspectorConfig = this.rxViewDesignerInspectorService.get(guid);\n            return inspectorConfig ? inspectorConfig.inspectorSectionConfigs : null;\n        }));\n        this.selectedComponentInspectorLayout$ = merge(this.selectedComponentGuid$.pipe(distinctUntilChanged()), this.rxViewDesignerInspectorService.onChange$.pipe(withLatestFrom(this.selectedComponentGuid$), filter(([config, guid]) => config.guid === guid), map$1(([config, guid]) => guid))).pipe(map$1((guid) => {\n            const inspectorConfig = this.rxViewDesignerInspectorService.get(guid);\n            return inspectorConfig ? inspectorConfig.inspectorSectionConfigs : null;\n        }));\n        this.isViewReadOnly$ = combineLatest([\n            this.viewModel$,\n            this.currentBundleId$.pipe(switchMap((bundleId) => this.rxOverlayService.areNewDefinitionsAllowed(bundleId)))\n        ]).pipe(map$1(([viewModel, areNewDefinitionsAllowed]) => !areNewDefinitionsAllowed || !this.rxOverlayService.isCustomizationEnabled('allowOverlay', viewModel)), distinctUntilChanged(), shareReplay(1));\n        // Actions Stream\n        this.viewDefinitionLoadError$ = this.actions$.pipe(ofType(viewDefinitionLoadError));\n        this.viewDefinitionSaveSuccess$ = this.actions$.pipe(ofType(viewDefinitionSaveSuccess));\n        this.initViewDesigner$ = this.actions$.pipe(ofType(initViewDesigner));\n        this.destroyViewDesignerSubject = new Subject();\n        this.destroyViewDesigner$ = this.destroyViewDesignerSubject.asObservable();\n        this.viewModelsInitialized$ = this.actions$.pipe(ofType(viewModelsInitialized));\n        this.areViewModelsReady$ = this.store$.select(areViewModelsReadySelector);\n        this.viewCommonDataDictionaryState$ = this.rxViewDataDictionaryService.viewCommon$;\n        this.componentsCommonDataDictionaryState$ = this.rxViewDataDictionaryService.componentsCommon$;\n        this.actionsDataDictionaryState$ = this.rxViewDataDictionaryService.actionsOutput$;\n        this.settablePropertiesDataDictionaryState$ = this.rxViewDataDictionaryService.settableProperties$;\n        this.settablePropertiesDataDictionarySubject = new Subject();\n        // for performance reasons grouping actions before sending them to store\n        merge(this.settablePropertiesDataDictionarySubject.pipe(bufferToggle(this.initViewDesigner$, (v) => this.viewModelsInitialized$)), this.viewModelsInitialized$.pipe(switchMap(() => this.settablePropertiesDataDictionarySubject.pipe(map$1((data) => [data]), takeUntil(this.initViewDesigner$))))).subscribe((items) => {\n            this.rxViewDataDictionaryService.setSettablePropertiesDataDictionary(items);\n        });\n    }\n    getComponentModel(guid) {\n        return this.store$.select(viewComponentModelSelector, { guid });\n    }\n    initViewDesigner(payload) {\n        this.dispatcher.dispatch(initViewDesigner({\n            payload\n        }));\n    }\n    destroyViewDesigner() {\n        this.destroyViewDesignerSubject.next();\n        // trigger action after subject to allow store to be cleared after every component is destroyed\n        // and its streams are completed\n        this.dispatcher.dispatch(destroyViewDesigner());\n    }\n    selectComponent(guid) {\n        this.dispatcher.dispatch(selectComponent({ guid }));\n    }\n    insertComponent(payload) {\n        this.dispatcher.dispatch(insertComponent(Object.assign(Object.assign({ columnIndex: isFinite$1(payload.data && payload.data.columnIndex) ? payload.data.columnIndex : 0 }, payload), { data: {\n                guid: payload.data.draggedViewComponentGuid,\n                type: payload.data.draggedViewComponentDescriptor.type,\n                initialPropertiesByName: payload.data.initialPropertiesByName\n            } })));\n    }\n    selectInspectorTab(payload) {\n        this.dispatcher.dispatch(selectInspectorTab(payload));\n    }\n    generateViewDefinition(payload) {\n        this.dispatcher.dispatch(generateViewDefinition({ payload }));\n    }\n    updateComponentProperties(guid, componentProperties) {\n        this.dispatcher.dispatch(updateComponentModel({\n            payload: [\n                {\n                    guid,\n                    partialModel: {\n                        propertiesByName: componentProperties\n                    }\n                }\n            ]\n        }));\n    }\n    updateComponentModel(guid, payload) {\n        this.dispatcher.dispatch(updateComponentModel({\n            payload: [\n                {\n                    guid,\n                    partialModel: payload\n                }\n            ]\n        }));\n    }\n    getComponentProperties(guid) {\n        return this.store$.select(componentPropertiesByNameSelector, { guid });\n    }\n    getComponentPropertyValue(guid, propertyName) {\n        return this.store$.select(componentPropertiesByNameSelector, { guid, propertyName: propertyName }).pipe(withLatestFrom(this.getComponentModel(guid)), switchMap(([value, model]) => (model ? of(value) : EMPTY)));\n    }\n    getComponentType(guid) {\n        return this.store$.select(componentTypeSelector, { guid });\n    }\n    getComponentPermissions(guid) {\n        return this.store$.select(componentPermissionsSelector, { guid });\n    }\n    getComponentLayout(guid) {\n        return this.store$.select(componentLayoutSelector, { guid });\n    }\n    updateSelectedComponentProperties(properties) {\n        this.selectedComponentGuid$.pipe(take(1)).subscribe((guid) => {\n            this.updateComponentProperties(guid, properties);\n        });\n    }\n    saveViewDefinition(payload) {\n        this.dispatcher.dispatch(saveViewDefinition({ payload }));\n    }\n    updateViewProperties(properties) {\n        this.dispatcher.dispatch(updateViewModel({ payload: properties }));\n    }\n    setViewProperties(properties) {\n        this.dispatcher.dispatch(setViewModel({ payload: properties }));\n    }\n    getViewPropertyValue(propertyName) {\n        return this.store$.select(viewModelPropertyValueSelector, { propertyName }).pipe(switchMapTo(this.viewModel$.pipe(map$1((model) => model[propertyName]), take(1))), distinctUntilChanged());\n    }\n    runPreview() {\n        this.dispatcher.dispatch(runPreview());\n    }\n    clearCanvas() {\n        this.dispatcher.dispatch(clearCanvas());\n    }\n    setComponentInspector(guid, inspectorConfig) {\n        this.rxViewDesignerInspectorService.set(guid, inspectorConfig);\n    }\n    setValidationIssues(guid, issues) {\n        this.dispatcher.dispatch(setValidationIssues({ guid, issues }));\n    }\n    setExpressionValidationIssues(issues) {\n        this.dispatcher.dispatch(setExpressionValidationIssues({ issues }));\n    }\n    setViewInspectorConfig(inspectorConfig) {\n        this.viewModelGuid$.pipe(take(1)).subscribe((guid) => {\n            this.setComponentInspector(guid, inspectorConfig);\n        });\n    }\n    removeViewComponents(guids, selectParent) {\n        if (guids.length) {\n            this.dispatcher.dispatch(removeComponents({ guids, selectParent }));\n        }\n    }\n    setComponentSettablePropertiesDataDictionary(guid, componentName, properties) {\n        this.settablePropertiesDataDictionarySubject.next({\n            guid,\n            componentName,\n            dataDictionary: this.rxViewDataDictionaryBuilderService.getSettablePropertiesDataDictionary(properties)\n        });\n    }\n    setComponentCommonDataDictionaryBranch(guid, dataDictionaryBranch) {\n        this.rxViewDataDictionaryService.setCommonDataDictionaryBranch(guid, dataDictionaryBranch\n            ? this.rxViewDataDictionaryBuilderService.getComponentCommonDataDictionaryBranch(dataDictionaryBranch)\n            : null);\n    }\n    setViewCommonDataDictionaryBranch(dataDictionaryBranch) {\n        this.rxViewDataDictionaryService.setViewCommonDataDictionaryBranch(dataDictionaryBranch);\n    }\n    removeAllActionDataDictionaryBranches() {\n        this.rxViewDataDictionaryService.removeAllActionOutputDataDictionaryBranches();\n    }\n    removeActionDataDictionaryBranch(actionGuid) {\n        this.rxViewDataDictionaryService.removeActionOutputDataDictionaryBranch(actionGuid);\n    }\n    setActionDataDictionaryBranch(actionGuid, index, actionName, dataDictionary = null) {\n        this.rxViewDataDictionaryService.setActionOutputDataDictionaryBranch(actionGuid, index, this.rxViewDataDictionaryBuilderService.getActionOutputDataDictionaryBranch(actionName, dataDictionary));\n    }\n    updateActionDataDictionaryBranchOrder(actions) {\n        this.rxViewDataDictionaryService.updateActionOutputDataDictionaryBranchOrder(actions);\n    }\n    getChildComponentGuids(parentComponentGuid, recursive = false, filterPredicate) {\n        // watch for layout and childDataComponentGuids properties change\n        // TODO: store child component guids separately as a final result from layout and childDataComponentGuids\n        return combineLatest([\n            this.store$.select(componentLayoutSelector, { guid: parentComponentGuid }),\n            this.store$.select(childDataComponentGuidsSelector, { guid: parentComponentGuid })\n        ]).pipe(\n        // get component model with actual data where layout and childDataComponentGuids are already updated\n        switchMap(() => this.getComponentModel(parentComponentGuid).pipe(take(1))), switchMap((model) => model\n            ? of(compact([\n                ...(model.layout ? RxViewLayout.getViewLayoutChildGuids(model.layout) : []),\n                ...(model.childDataComponentGuids || [])\n            ]))\n            : EMPTY), switchMap((guids) => guids.length && recursive\n            ? combineLatest(guids.map((guid) => this.getChildComponentGuids(guid, true))).pipe(map$1(flatten), map$1((nestedGuids) => [...nestedGuids, ...guids]))\n            : of(guids)), switchMap((guids) => guids.length\n            ? this.viewComponentModels$.pipe(map$1((models) => {\n                // The model of a removed component may be already unavailable, but the GUID may still be there.\n                // This can happen when multiple nested components are removed from different\n                // parent containers e.g. using record editor field selector dialog component.\n                // In this case, we will get two observable emits for each removed component.\n                // TODO: enhance getFlattenChildComponentGuids logic to reach a single observable emit.\n                let availableComponentGuids = guids.filter((guid) => models[guid]);\n                if (filterPredicate) {\n                    availableComponentGuids = availableComponentGuids.filter((guid) => filterPredicate({\n                        type: models[guid].type,\n                        guid: models[guid].guid,\n                        data: models[guid].propertiesByName\n                    }));\n                }\n                return availableComponentGuids;\n            }), take(1))\n            : of(guids)));\n    }\n    getChildComponents(parentComponentGuid, filterPredicate) {\n        return this.getChildComponentGuids(parentComponentGuid, false, filterPredicate).pipe(switchMap((guids) => guids.length\n            ? combineLatest(guids.map((guid) => this.getComponentProperties(guid).pipe(withLatestFrom(this.getComponentModel(guid)), switchMap(([props, model]) => model\n                ? of({\n                    type: model.type,\n                    data: props,\n                    guid\n                })\n                : EMPTY))))\n            : of([])));\n    }\n    getComponent(guid) {\n        return this.getComponentModel(guid).pipe(map$1((model) => model\n            ? {\n                data: model.propertiesByName,\n                guid: model.guid,\n                type: model.type\n            }\n            : null));\n    }\n    getComponentsByType(type) {\n        return this.viewComponentModels$.pipe(map$1((models) => filter$1(models, { type }).map((model) => ({\n            guid: model.guid,\n            data: model.propertiesByName,\n            type: model.type\n        }))));\n    }\n    getChildComponentTree(parentComponentGuid) {\n        return this.viewComponentModels$.pipe(map$1((viewComponentModels) => {\n            const getChildrenData = (model) => getChildGuidsFromModel(model).reduce((res, childGuid) => {\n                if (viewComponentModels[childGuid]) {\n                    res.push({\n                        guid: childGuid,\n                        data: viewComponentModels[childGuid].propertiesByName,\n                        type: viewComponentModels[childGuid].type,\n                        children: getChildrenData(viewComponentModels[childGuid])\n                    });\n                }\n                return res;\n            }, []);\n            return viewComponentModels[parentComponentGuid]\n                ? getChildrenData(viewComponentModels[parentComponentGuid])\n                : [];\n        }));\n    }\n    getParentComponentGuid(guid, componentType) {\n        return this.store$\n            .select(parentComponentModelGuidSelector, { guid })\n            .pipe(switchMap((parentGuid) => parentGuid && componentType\n            ? this.store$\n                .select(componentTypeSelector, { guid: parentGuid })\n                .pipe(switchMap((parentComponentType) => parentComponentType === componentType\n                ? of(parentGuid)\n                : this.getParentComponentGuid(parentGuid, componentType)))\n            : of(parentGuid || null)));\n    }\n    setChildren(guid, data) {\n        this.dispatcher.dispatch(setChildComponents({\n            payload: {\n                guid,\n                data\n            }\n        }));\n    }\n}\nViewDesignerFacade.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerFacade, deps: [{ token: ViewDesignerDispatcher }, { token: i2.Store }, { token: i1.Actions }, { token: RxViewDesignerInspectorService }, { token: i2$1.RxGuidService }, { token: RxViewDataDictionaryBuilderService }, { token: RxViewDataDictionaryStoreService }, { token: i3.RxOverlayService }], target: i0.ɵɵFactoryTarget.Injectable });\nViewDesignerFacade.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerFacade, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerFacade, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: ViewDesignerDispatcher }, { type: i2.Store }, { type: i1.Actions }, { type: RxViewDesignerInspectorService }, { type: i2$1.RxGuidService }, { type: RxViewDataDictionaryBuilderService }, { type: RxViewDataDictionaryStoreService }, { type: i3.RxOverlayService }]; } });\n\nclass RxViewDesignerModels {\n    constructor() {\n        this.models = new Map();\n    }\n    clear() {\n        this.models.clear();\n    }\n    set(guid, model) {\n        this.models.set(guid, model);\n    }\n    get(guid) {\n        return this.models.get(guid);\n    }\n    delete(guid) {\n        this.models.delete(guid);\n    }\n}\nRxViewDesignerModels.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerModels, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxViewDesignerModels.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerModels, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerModels, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RxViewDefinitionGeneratorService {\n    constructor(rxDefinitionNameService, rxBundleCacheService, viewDesignerModels, rxViewDefinitionLocalizationService) {\n        this.rxDefinitionNameService = rxDefinitionNameService;\n        this.rxBundleCacheService = rxBundleCacheService;\n        this.viewDesignerModels = viewDesignerModels;\n        this.rxViewDefinitionLocalizationService = rxViewDefinitionLocalizationService;\n    }\n    generate(viewModel, componentModels, forSave = false) {\n        const clonedViewModel = viewModel;\n        const viewDefinition = omit(clonedViewModel, 'displayName', 'layout', 'layoutName', 'pageComponent', 'isAngularJsView');\n        viewDefinition.name =\n            viewDefinition.name ||\n                this.rxDefinitionNameService.getDefinitionName(this.rxBundleCacheService.bundleId, clonedViewModel.displayName);\n        viewDefinition.componentDefinitions = this.generateComponentDefinitions(clonedViewModel, componentModels);\n        if (forSave) {\n            viewDefinition.localizableStringsByComponentId =\n                this.rxViewDefinitionLocalizationService.extractLocalizableStrings(viewDefinition);\n        }\n        delete viewDefinition.localizablePropertyToStringGuidMap;\n        viewDefinition.layout = JSON.stringify(clonedViewModel.layout);\n        return viewDefinition;\n    }\n    generateComponentDefinitions(model, componentModelItems) {\n        return getChildGuidsFromModel(model).map((guid) => {\n            const componentDefinition = Object.assign({}, componentModelItems[guid]);\n            const componentModel = this.viewDesignerModels.get(guid);\n            const propertiesByName = isFunction(componentModel === null || componentModel === void 0 ? void 0 : componentModel.getPropertiesByName)\n                ? componentModel.getPropertiesByName(componentDefinition.propertiesByName)\n                : componentDefinition.propertiesByName;\n            componentDefinition.propertiesByName = this.serializeComponentDefinitionProperties(propertiesByName);\n            delete componentDefinition.parentGuid;\n            // Move name out of propertiesByName for all components except actions.\n            if (componentDefinition.type !== RxViewComponentType.Action &&\n                has(componentDefinition.propertiesByName, 'name')) {\n                if (componentDefinition.propertiesByName.name) {\n                    componentDefinition.name = componentDefinition.propertiesByName.name;\n                }\n                delete componentDefinition.propertiesByName.name;\n            }\n            if (componentDefinition.layout || componentDefinition.childDataComponentGuids) {\n                componentDefinition.componentDefinitions = this.generateComponentDefinitions(componentDefinition, componentModelItems);\n                delete componentDefinition.childDataComponentGuids;\n            }\n            if (componentDefinition.layout) {\n                componentDefinition.layout = JSON.stringify(componentDefinition.layout);\n            }\n            return componentDefinition;\n        });\n    }\n    serializeComponentDefinitionProperties(componentProperties) {\n        return transform(componentProperties, (result, value, key) => {\n            switch (true) {\n                case isArray(value):\n                case isNumber(value):\n                case isBoolean(value):\n                case isPlainObject(value):\n                    result[key] = JSON.stringify(value);\n                    break;\n                case isObject(value):\n                    // support Set, Map\n                    const obj = Object.create(null);\n                    value.forEach((v, k) => (obj[k] = v));\n                    result[key] = JSON.stringify(obj);\n                    break;\n                case isFunction(value):\n                case isUndefined(value):\n                    result[key] = null;\n                    break;\n                default:\n                    result[key] = value;\n                    break;\n            }\n        }, {});\n    }\n}\nRxViewDefinitionGeneratorService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDefinitionGeneratorService, deps: [{ token: i3.RxDefinitionNameService }, { token: i3.RxBundleCacheService }, { token: RxViewDesignerModels }, { token: i5.RxViewDefinitionLocalizationService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxViewDefinitionGeneratorService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDefinitionGeneratorService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDefinitionGeneratorService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i3.RxDefinitionNameService }, { type: i3.RxBundleCacheService }, { type: RxViewDesignerModels }, { type: i5.RxViewDefinitionLocalizationService }]; } });\n\nfunction validateCssClassName(tag) {\n    return !/^[a-z][-\\w]+$/gi.test(isObject(tag) ? tag.data.value : tag);\n}\nfunction validateCssClassNames(styles) {\n    const validationIssues = [];\n    if (styles) {\n        const tags = styles.split(' ');\n        if (tags.some(validateCssClassName)) {\n            validationIssues.push({\n                type: 'error',\n                propertyName: 'styles',\n                description: 'CSS class name is invalid.'\n            });\n        }\n    }\n    return validationIssues;\n}\nfunction validateAvailableOnDevicesProp(value) {\n    const validationIssues = [];\n    if (!(value === null || value === void 0 ? void 0 : value.length)) {\n        validationIssues.push({\n            type: 'error',\n            propertyName: RX_AVAILABLE_ON_DEVICES_PROP_NAME,\n            description: 'At least one device must be selected.'\n        });\n    }\n    return validationIssues;\n}\nfunction validateStandardProps(model) {\n    return [\n        ...validateCssClassNames(model[RX_STYLES_PROP_NAME]),\n        ...validateAvailableOnDevicesProp(model[RX_AVAILABLE_ON_DEVICES_PROP_NAME])\n    ];\n}\n\nclass RxViewExpressionValidatorService {\n    constructor(rxDefaultExpressionValidatorService, rxDefaultExpressionEvaluatorService, rxStringService, rxExpressionParserService, viewDesignerFacade) {\n        this.rxDefaultExpressionValidatorService = rxDefaultExpressionValidatorService;\n        this.rxDefaultExpressionEvaluatorService = rxDefaultExpressionEvaluatorService;\n        this.rxStringService = rxStringService;\n        this.rxExpressionParserService = rxExpressionParserService;\n        this.viewDesignerFacade = viewDesignerFacade;\n    }\n    validate(expression, propertyName, propertyLabel = this.rxStringService.prettify(propertyName), expressionEvaluator = this.rxDefaultExpressionEvaluatorService) {\n        let issues$ = of([]);\n        if (this.rxDefaultExpressionValidatorService.isValid(expression, expressionEvaluator)) {\n            if (this.rxStringService.isNonEmptyString(expression)) {\n                const referencedComponentGuidsSet = new Set();\n                this.rxExpressionParserService.parse(expression, (token, expressionFragment) => {\n                    if (token === ExpressionParserToken.RxExpression || token === ExpressionParserToken.SingleQuoteRxExpression) {\n                        // Extract <ID> from ${view.components.<ID>.<Path>}\n                        const result = /\\${view\\.components\\.([0-9a-z-]+)\\..+}/.exec(expressionFragment);\n                        if (result && result[1]) {\n                            referencedComponentGuidsSet.add(result[1]);\n                        }\n                    }\n                    return expressionFragment;\n                });\n                if (referencedComponentGuidsSet.size) {\n                    const referencedComponentGuids = Array.from(referencedComponentGuidsSet);\n                    issues$ = this.viewDesignerFacade.allComponentGuids$.pipe(map$1((guids) => referencedComponentGuids.filter((guid) => !guids.has(guid))), distinctUntilChanged(isEqual), map$1((guids) => guids.map(() => ({\n                        type: 'error',\n                        description: 'Expression references a non-existent view component.',\n                        propertyName\n                    }))));\n                }\n            }\n        }\n        else {\n            issues$ = of([\n                {\n                    type: 'error',\n                    description: `${propertyLabel} must be a valid expression.`,\n                    propertyName\n                }\n            ]);\n        }\n        return issues$;\n    }\n}\nRxViewExpressionValidatorService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewExpressionValidatorService, deps: [{ token: i5.RxDefaultExpressionValidatorService }, { token: i5.RxDefaultExpressionEvaluatorService }, { token: i2$1.RxStringService }, { token: i3.RxExpressionParserService }, { token: ViewDesignerFacade }], target: i0.ɵɵFactoryTarget.Injectable });\nRxViewExpressionValidatorService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewExpressionValidatorService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewExpressionValidatorService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i5.RxDefaultExpressionValidatorService }, { type: i5.RxDefaultExpressionEvaluatorService }, { type: i2$1.RxStringService }, { type: i3.RxExpressionParserService }, { type: ViewDesignerFacade }]; } });\n\nclass RxViewDataDictionaryService {\n    constructor(viewDesignerFacade, rxViewDataDictionaryBuilderService, rxViewComponentRegistryService, rxObjectUtilsService, rxDataDictionaryUtils) {\n        this.viewDesignerFacade = viewDesignerFacade;\n        this.rxViewDataDictionaryBuilderService = rxViewDataDictionaryBuilderService;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.rxObjectUtilsService = rxObjectUtilsService;\n        this.rxDataDictionaryUtils = rxDataDictionaryUtils;\n        this.componentsCommonDataDictionaryStateClone$ = this.viewDesignerFacade.componentsCommonDataDictionaryState$.pipe(map$1((componentsDataDictionaryState) => componentsDataDictionaryState ? this.rxObjectUtilsService.cloneDeep(componentsDataDictionaryState) : {}), shareReplay(1));\n        this.viewCommonDataDictionaryStateClone$ = this.viewDesignerFacade.viewCommonDataDictionaryState$.pipe(filter(Boolean), map$1((viewDataDictionary) => this.rxObjectUtilsService.cloneDeep(viewDataDictionary)), shareReplay(1));\n        this.commonDataDictionary$ = this.getCommonDataDictionary();\n        this.settablePropertiesDataDictionary$ = this.viewDesignerFacade.settablePropertiesDataDictionaryState$.pipe(withLatestFrom(this.viewDesignerFacade.viewDesignerModelState$), map$1(([settablePropsDataDictionaryState, viewDesignerModelState]) => this.rxObjectUtilsService.cloneDeep(this.getSettablePropsDataDictionary(settablePropsDataDictionaryState, viewDesignerModelState))));\n    }\n    getActionDataDictionary(guid) {\n        return combineLatest([this.viewDesignerFacade.actionsDataDictionaryState$, this.getCommonDataDictionary()]).pipe(map$1(([actionsDataDictionaryState, commonDataDictionary]) => {\n            const currentActionData = find(actionsDataDictionaryState, { guid });\n            return [\n                {\n                    label: 'Actions',\n                    children: currentActionData\n                        ? flow((branches) => take$1(branches, currentActionData.index), (branches) => map(branches, 'dataDictionaryBranch'), compact, (branches) => filter$1(branches, (branch) => { var _a; return (_a = branch.children) === null || _a === void 0 ? void 0 : _a.length; }), (branches) => this.rxObjectUtilsService.cloneDeep(branches))(actionsDataDictionaryState)\n                        : []\n                },\n                ...commonDataDictionary\n            ];\n        }), \n        // TODO: performance\n        distinctUntilChanged(isEqual));\n    }\n    getComponentCommonDataDictionary(guid) {\n        return this.componentsCommonDataDictionaryStateClone$.pipe(map$1((state) => state[guid]));\n    }\n    getCommonDataDictionary(componentBranchToReplace) {\n        return combineLatest([\n            this.viewCommonDataDictionaryStateClone$,\n            this.componentsCommonDataDictionaryStateClone$.pipe(map$1((componentsDataDictionaryState) => Object.values(componentBranchToReplace\n                ? Object.assign(Object.assign({}, componentsDataDictionaryState), componentBranchToReplace) : componentsDataDictionaryState)))\n        ]).pipe(map$1(([viewDataDictionaryBranch, componentDataDictionaryBranches]) => [\n            {\n                label: 'General',\n                children: [\n                    {\n                        label: 'Current user',\n                        icon: 'd-icon-dollar',\n                        expression: '${keywords.user}'\n                    },\n                    {\n                        label: 'New line',\n                        icon: 'd-icon-dollar',\n                        expression: '${keywords.newLine}'\n                    }\n                ]\n            },\n            {\n                label: 'Functions',\n                children: this.rxDataDictionaryUtils.getFunctionsDataDictionaryBranch(RX_EXPRESSION_FUNCTIONS)\n            },\n            Object.assign(Object.assign({}, viewDataDictionaryBranch), { children: [\n                    { label: 'Components', children: compact(componentDataDictionaryBranches), expanded: true },\n                    ...viewDataDictionaryBranch.children\n                ] })\n        ]));\n    }\n    getSettablePropsDataDictionary(settablePropsDataDictionaryState, viewDesignerModelState) {\n        return getChildGuidsFromModel(viewDesignerModelState.viewDesignModel)\n            .map((guid) => this.getSettablePropsDataDictionaryBranch(guid, viewDesignerModelState, settablePropsDataDictionaryState, true))\n            .filter(Boolean);\n    }\n    getSettablePropsDataDictionaryBranch(guid, modelState, settablePropsState, expanded = false) {\n        const componentPropsState = settablePropsState[guid];\n        const model = modelState.viewComponentDesignModels[guid];\n        const descriptor = this.rxViewComponentRegistryService.get(model.type);\n        const childGuids = descriptor.outlets && model.layout ? RxViewLayout.getViewLayoutChildGuids(model.layout) : null;\n        const componentsDataDictionary = map(childGuids, (componentGuid) => this.getSettablePropsDataDictionaryBranch(componentGuid, modelState, settablePropsState)).filter(Boolean);\n        const propsDataDictionary = get(componentPropsState, 'dataDictionary', []);\n        if (componentsDataDictionary.length || propsDataDictionary.length) {\n            return {\n                label: (componentPropsState === null || componentPropsState === void 0 ? void 0 : componentPropsState.componentName) || descriptor.name,\n                expanded,\n                children: componentsDataDictionary.length && propsDataDictionary.length\n                    ? [\n                        {\n                            label: 'Components',\n                            children: componentsDataDictionary\n                        },\n                        {\n                            label: 'Properties',\n                            children: propsDataDictionary\n                        }\n                    ]\n                    : componentsDataDictionary.length\n                        ? componentsDataDictionary\n                        : propsDataDictionary\n            };\n        }\n    }\n}\nRxViewDataDictionaryService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDataDictionaryService, deps: [{ token: ViewDesignerFacade }, { token: RxViewDataDictionaryBuilderService }, { token: i5.RxViewComponentRegistryService }, { token: i2$1.RxObjectUtilsService }, { token: i3.RxDataDictionaryUtils }], target: i0.ɵɵFactoryTarget.Injectable });\nRxViewDataDictionaryService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDataDictionaryService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDataDictionaryService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: ViewDesignerFacade }, { type: RxViewDataDictionaryBuilderService }, { type: i5.RxViewComponentRegistryService }, { type: i2$1.RxObjectUtilsService }, { type: i3.RxDataDictionaryUtils }]; } });\n\nclass RxViewExpressionConfigurator extends RxExpressionConfigurator {\n    constructor(injector) {\n        super();\n        this.injector = injector;\n        this.rxExpressionHelperService = this.injector.get(RxExpressionHelperService);\n    }\n    getDefaultConfig() {\n        return Object.assign(Object.assign({}, super.getDefaultConfig()), { dataDictionary$: this.commonDataDictionary$, operators: ExpressionOperatorRowsByGroup.get(ExpressionOperatorGroup.AllClient), validateExpression: (propertyName, expression) => {\n                let isValid = true;\n                const expressionEvaluator = this.getExpressionEvaluator(propertyName);\n                try {\n                    expressionEvaluator.parseExpression(this.rxExpressionHelperService.prepare(expression));\n                }\n                catch (e) {\n                    isValid = false;\n                }\n                return of(isValid);\n            } });\n    }\n}\n\nclass RxViewComponentExpressionConfigurator extends RxViewExpressionConfigurator {\n    constructor(injector, componentGuid, componentModel, componentType) {\n        super(injector);\n        this.injector = injector;\n        this.componentGuid = componentGuid;\n        this.componentModel = componentModel;\n        this.componentType = componentType;\n        this.rxDefaultExpressionEvaluatorService = this.injector.get(RxDefaultExpressionEvaluatorService);\n        this.rxViewDataDictionaryService = this.injector.get(RxViewDataDictionaryService);\n        this.rxViewComponentRegistryService = this.injector.get(RxViewComponentRegistryService);\n        this.commonDataDictionary$ = this.rxViewDataDictionaryService.commonDataDictionary$;\n    }\n    getExpressionEvaluator(propertyName) {\n        var _a;\n        const propertyDescriptor = this.componentType &&\n            this.rxViewComponentRegistryService\n                .get(this.componentType)\n                .properties.find((property) => property.name === propertyName);\n        return isFunction((_a = propertyDescriptor === null || propertyDescriptor === void 0 ? void 0 : propertyDescriptor.evaluatorService) === null || _a === void 0 ? void 0 : _a.parseExpression)\n            ? propertyDescriptor.evaluatorService\n            : this.rxDefaultExpressionEvaluatorService;\n    }\n    getCommonDataDictionary(componentBranchToReplace$, componentGuid = this.componentGuid) {\n        return componentBranchToReplace$\n            ? componentBranchToReplace$.pipe(switchMap((dataDictionary) => this.rxViewDataDictionaryService.getCommonDataDictionary({\n                [componentGuid]: dataDictionary\n            })))\n            : this.commonDataDictionary$;\n    }\n    getComponentCommonDataDictionary(guid) {\n        return this.rxViewDataDictionaryService.getComponentCommonDataDictionary(guid || this.componentGuid);\n    }\n}\n\nclass RxViewCustomizationOptionsComponent {\n    constructor(viewDesignerFacade, rxOverlayService, translateService) {\n        this.viewDesignerFacade = viewDesignerFacade;\n        this.rxOverlayService = rxOverlayService;\n        this.translateService = translateService;\n        this.destroyed$ = new ReplaySubject(1);\n    }\n    ngOnInit() {\n        combineLatest([\n            this.viewDesignerFacade.getViewPropertyValue('allowOverlay'),\n            this.viewDesignerFacade.getViewPropertyValue('scope'),\n            this.viewDesignerFacade.getViewPropertyValue('overlayGroupId'),\n            this.viewDesignerFacade.getViewPropertyValue('overlayDescriptor'),\n            this.viewDesignerFacade.getViewPropertyValue('lastUpdateTime')\n        ])\n            .pipe(withLatestFrom(this.viewDesignerFacade.viewModel$), takeUntil(this.destroyed$))\n            .subscribe(([[allowOverlay, scope, overlayGroupId, overlayDescriptor, lastUpdateTime], viewModel]) => {\n            this.controlOptions = {\n                allowOverlay,\n                scope,\n                overlayGroupId,\n                overlayDescriptor,\n                isDisabled: !this.rxOverlayService.isCustomizationEnabled('allowOverlay', viewModel),\n                definitionTypeDisplayName: this.translateService.instant('com.bmc.arsys.rx.client.view-definition.label').toLowerCase()\n            };\n        });\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n    setCustomization(customizationOptions) {\n        this.viewDesignerFacade.updateViewProperties(customizationOptions);\n    }\n}\nRxViewCustomizationOptionsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewCustomizationOptionsComponent, deps: [{ token: ViewDesignerFacade }, { token: i3.RxOverlayService }, { token: i6.TranslateService }], target: i0.ɵɵFactoryTarget.Component });\nRxViewCustomizationOptionsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxViewCustomizationOptionsComponent, selector: \"rx-view-customization-options\", inputs: { options: \"options\" }, ngImport: i0, template: \"<rx-scope-customization-control\\n  [options]=\\\"controlOptions\\\"\\n  [(ngModel)]=\\\"value\\\"\\n  (ngModelChange)=\\\"setCustomization($event)\\\"\\n></rx-scope-customization-control>\\n\", components: [{ type: i3$1.CustomizationOptionsComponent, selector: \"rx-scope-customization-control\", inputs: [\"options\"] }], directives: [{ type: i3$2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i3$2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewCustomizationOptionsComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-view-customization-options',\n                    templateUrl: './view-customization-options.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: ViewDesignerFacade }, { type: i3.RxOverlayService }, { type: i6.TranslateService }]; }, propDecorators: { options: [{\n                type: Input\n            }] } });\n\nclass RxViewRevertCustomizationComponent {\n    constructor(viewDesignerFacade) {\n        this.viewDesignerFacade = viewDesignerFacade;\n        this.events = new EventEmitter();\n        this.controlOptions$ = combineLatest([\n            this.viewDesignerFacade.getViewPropertyValue('allowOverlay'),\n            this.viewDesignerFacade.getViewPropertyValue('scope'),\n            this.viewDesignerFacade.getViewPropertyValue('overlayGroupId'),\n            this.viewDesignerFacade.getViewPropertyValue('overlayDescriptor')\n        ]).pipe(map$1(([allowOverlay, scope, overlayGroupId, overlayDescriptor]) => ({\n            allowOverlay,\n            scope,\n            overlayGroupId,\n            overlayDescriptor\n        })));\n    }\n}\nRxViewRevertCustomizationComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewRevertCustomizationComponent, deps: [{ token: ViewDesignerFacade }], target: i0.ɵɵFactoryTarget.Component });\nRxViewRevertCustomizationComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxViewRevertCustomizationComponent, selector: \"rx-view-revert-customization\", inputs: { options: \"options\", isDisabled: \"isDisabled\" }, outputs: { events: \"events\" }, ngImport: i0, template: \"<rx-revert-customization\\n  [options]=\\\"controlOptions$ | async\\\"\\n  [isDisabled]=\\\"isDisabled\\\"\\n  (events)=\\\"events.emit($event)\\\"\\n></rx-revert-customization>\\n\", components: [{ type: i3$1.RxRevertCustomizationComponent, selector: \"rx-revert-customization\", inputs: [\"options\", \"isDisabled\"], outputs: [\"events\"] }], pipes: { \"async\": i4.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewRevertCustomizationComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-view-revert-customization',\n                    templateUrl: './view-revert-customization.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: ViewDesignerFacade }]; }, propDecorators: { options: [{\n                type: Input\n            }], isDisabled: [{\n                type: Input\n            }], events: [{\n                type: Output\n            }] } });\n\nclass RxViewRevertCustomizationModule {\n}\nRxViewRevertCustomizationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewRevertCustomizationModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxViewRevertCustomizationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewRevertCustomizationModule, declarations: [RxViewRevertCustomizationComponent], imports: [CommonModule, RxRevertCustomizationModule] });\nRxViewRevertCustomizationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewRevertCustomizationModule, imports: [[CommonModule, RxRevertCustomizationModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewRevertCustomizationModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RxViewRevertCustomizationComponent],\n                    imports: [CommonModule, RxRevertCustomizationModule]\n                }]\n        }] });\n\nclass RxViewModel {\n    constructor(injector, viewDesignerFacade, rxStringService, rxOverlayService, rxViewComponentRegistryService, rxBundleCacheService, rxModalService, rxViewDefinitionCacheService, rxViewDefinitionParserService, rxGuidService, viewDesignerDispatcher, rxDefinitionNameService, rxViewExpressionValidatorService) {\n        this.injector = injector;\n        this.viewDesignerFacade = viewDesignerFacade;\n        this.rxStringService = rxStringService;\n        this.rxOverlayService = rxOverlayService;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.rxBundleCacheService = rxBundleCacheService;\n        this.rxModalService = rxModalService;\n        this.rxViewDefinitionCacheService = rxViewDefinitionCacheService;\n        this.rxViewDefinitionParserService = rxViewDefinitionParserService;\n        this.rxGuidService = rxGuidService;\n        this.viewDesignerDispatcher = viewDesignerDispatcher;\n        this.rxDefinitionNameService = rxDefinitionNameService;\n        this.rxViewExpressionValidatorService = rxViewExpressionValidatorService;\n        this.expressionConfigurator = new RxViewComponentExpressionConfigurator(this.injector, null, this);\n        this.destroyed$ = new ReplaySubject(1);\n        this.allViewDefinitionNamesByBundleId$ = this.viewDesignerFacade.currentBundleId$.pipe(filter(Boolean), switchMap((bundleId) => this.rxViewDefinitionCacheService\n            .getViewDefinitionNames(bundleId)\n            .pipe(map$1((names) => names.map((name) => this.rxDefinitionNameService.getDisplayNameForValidation(name))))));\n        this.targetExtensionContainerOptions$ = this.viewDesignerFacade\n            .getViewPropertyValue('targetViewDefinitionName')\n            .pipe(switchMap((targetViewDefinitionName) => targetViewDefinitionName\n            ? this.getTargetExtensionContainerOptions(targetViewDefinitionName).pipe(take(1))\n            : of(null)), shareReplay(1));\n        this.targetViewDefinition$ = this.viewDesignerFacade.getViewPropertyValue('targetViewDefinitionName').pipe(filter(Boolean), switchMap((targetViewDefinitionName) => this.rxViewDefinitionCacheService.getViewDefinition(targetViewDefinitionName)));\n        this.init();\n    }\n    init() {\n        // Initial model and inspector configuration.\n        this.viewDesignerFacade.initViewDesigner$\n            .pipe(concatMapTo(this.viewDesignerFacade.viewModelsInitialized$.pipe(switchMapTo(combineLatest([\n            this.viewDesignerFacade.viewComponentModels$.pipe(map$1((viewComponentModels) => {\n                const pageComponentModel = Object.values(viewComponentModels).find((model) => model.type === RxViewComponentType.Page);\n                return pageComponentModel\n                    ? viewComponentModels[pageComponentModel.childDataComponentGuids[0]].type\n                    : null;\n            })),\n            this.viewDesignerFacade.viewModel$,\n            this.targetExtensionContainerOptions$\n        ]).pipe(take(1))))), takeUntil(this.destroyed$))\n            .subscribe(([componentType, viewModel, targetExtensionContainerOptions]) => {\n            this.viewDesignerFacade.updateViewProperties({\n                pageComponent: componentType\n            });\n            this.viewDesignerFacade.setViewInspectorConfig(this.getInspector(Object.assign(Object.assign({}, viewModel), { pageComponent: componentType }), targetExtensionContainerOptions));\n        });\n        this.viewDesignerFacade.initViewDesigner$\n            .pipe(switchMapTo(this.targetExtensionContainerOptions$.pipe(\n        // Ignore initial property change.\n        skip(1), withLatestFrom(this.viewDesignerFacade.viewModel$))), takeUntil(this.destroyed$))\n            .subscribe(([options, viewModel]) => this.onTargetExtensionContainerOptionsChange(options, viewModel));\n        this.viewDesignerFacade.initViewDesigner$\n            .pipe(switchMapTo(this.viewDesignerFacade.getViewPropertyValue('pageComponent').pipe(\n        // Ignore initial property change.\n        skip(1), switchMapTo(combineLatest([\n            this.viewDesignerFacade.viewModel$,\n            this.viewDesignerFacade.viewComponentModels$,\n            this.targetExtensionContainerOptions$\n        ]).pipe(take(1))))), takeUntil(this.destroyed$))\n            .subscribe(([viewModel, viewComponentModels, targetExtensionContainerOptions]) => this.onPageComponentChange(viewModel, viewComponentModels, targetExtensionContainerOptions));\n        this.viewDesignerFacade.initViewDesigner$\n            .pipe(switchMapTo(this.viewDesignerFacade.getViewPropertyValue('targetViewDefinitionName').pipe(skip(1))), switchMap(() => this.viewDesignerFacade.viewComponentModels$.pipe(first())), takeUntil(this.destroyed$))\n            .subscribe((viewComponentModels) => {\n            if (!isEmpty(viewComponentModels)) {\n                this.viewDesignerFacade.clearCanvas();\n            }\n        });\n        this.viewDesignerFacade.initViewDesigner$\n            .pipe(switchMapTo(combineLatest([\n            this.viewDesignerFacade.getViewPropertyValue('styles').pipe(map$1(validateCssClassNames)),\n            this.validateDisplayName(),\n            this.validateInputParams(),\n            this.validateOutputParamExpressions(),\n            this.validateExtensionContainer()\n        ]).pipe(map$1(flatten), map$1(compact), withLatestFrom(this.viewDesignerFacade.viewModelGuid$))), takeUntil(this.destroyed$))\n            .subscribe(([issues, guid]) => {\n            this.viewDesignerFacade.setValidationIssues(guid, issues);\n        });\n        this.viewDesignerFacade.initViewDesigner$\n            .pipe(switchMapTo(this.viewDesignerFacade.getViewPropertyValue('inputParams')), takeUntil(this.destroyed$))\n            .subscribe((inputParams) => this.viewDesignerFacade.setViewCommonDataDictionaryBranch(this.getViewCommonDataDictionary(inputParams)));\n        this.viewDesignerFacade\n            .getViewPropertyValue('targetExtensionContainerGuid')\n            .pipe(withLatestFrom(this.targetViewDefinition$), map$1(([targetExtensionContainerGuid, targetViewDefinition]) => this.getTargetRecordDefinitionName(targetViewDefinition, targetExtensionContainerGuid)), distinctUntilChanged(), switchMapTo(this.viewDesignerFacade.viewComponentModels$.pipe(take(1))), filter((viewComponentModels) => !isEmpty(viewComponentModels)), takeUntil(this.destroyed$))\n            .subscribe(() => this.viewDesignerFacade.clearCanvas());\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n    getTargetExtensionContainerOptions(targetViewDefinitionName) {\n        return this.rxViewDefinitionCacheService.getViewDefinition(targetViewDefinitionName).pipe(map$1((viewDefinition) => this.rxViewDefinitionParserService\n            .getComponents(viewDefinition)\n            .filter(({ componentDefinition }) => componentDefinition.type === RxViewComponentType.ExtensionContainer)\n            .map(({ componentDefinition }) => ({\n            id: componentDefinition.guid,\n            name: componentDefinition.propertiesByName.name || componentDefinition.name\n        }))));\n    }\n    onTargetExtensionContainerOptionsChange(options, viewModel) {\n        this.viewDesignerFacade.setViewInspectorConfig(this.getInspector(viewModel, options));\n        // targetViewDefinitionName is not selected when options are not defined.\n        if (!options) {\n            this.viewDesignerFacade.updateViewProperties({\n                targetExtensionContainerGuid: null\n            });\n        }\n        else if (options.length === 1) {\n            this.viewDesignerFacade.updateViewProperties({\n                targetExtensionContainerGuid: options[0].id\n            });\n        }\n    }\n    onPageComponentChange(viewModel, componentModels, options) {\n        const pageComponentModel = find(componentModels, { type: RxViewComponentType.Page });\n        this.viewDesignerFacade.setViewInspectorConfig(this.getInspector(viewModel, options));\n        const actions = [];\n        if (viewModel.pageComponent) {\n            if (pageComponentModel) {\n                this.viewDesignerFacade.updateComponentModel(pageComponentModel.childDataComponentGuids[0], {\n                    type: viewModel.pageComponent\n                });\n            }\n            else {\n                const pageComponentGuid = this.rxGuidService.generate();\n                if (!isEmpty(componentModels)) {\n                    this.viewDesignerFacade.removeViewComponents(getChildGuidsFromModel(viewModel));\n                }\n                actions.push(initializeComponentModels({\n                    payload: [\n                        {\n                            componentModel: {\n                                guid: pageComponentGuid,\n                                resourceType: RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,\n                                type: RxViewComponentType.Page,\n                                propertiesByName: {},\n                                parentGuid: viewModel.guid\n                            },\n                            insertIndex: 0,\n                            columnIndex: 0,\n                            outletName: RX_VIEW_DEFINITION.defaultOutletName\n                        }\n                    ]\n                }), initializeDataComponentModels({\n                    payload: [\n                        {\n                            componentModel: {\n                                guid: this.rxGuidService.generate(),\n                                type: viewModel.pageComponent,\n                                resourceType: RX_VIEW_DEFINITION.resourceTypes.viewComponent,\n                                propertiesByName: {},\n                                parentGuid: pageComponentGuid\n                            }\n                        }\n                    ]\n                }));\n            }\n            this.viewDesignerFacade.updateViewProperties({\n                inputParams: [],\n                outputParams: []\n            });\n        }\n        else if (pageComponentModel) {\n            this.viewDesignerFacade.removeViewComponents([pageComponentModel.guid]);\n        }\n        actions.forEach((action) => this.viewDesignerDispatcher.dispatch(action));\n    }\n    getInspector(viewDesignModel, targetExtensionContainerOptions = []) {\n        const isExistingView = Boolean(viewDesignModel.lastUpdateTime);\n        const isCustomizationAllowed = isExistingView\n            ? this.rxOverlayService.isCustomizationEnabled('allowOverlay', viewDesignModel)\n            : true;\n        const availablePageComponents = this.rxViewComponentRegistryService\n            .getBundlePageComponents(this.rxBundleCacheService.bundleId)\n            .map((pageComponent) => ({\n            id: pageComponent.type,\n            name: pageComponent.name\n        }));\n        if (viewDesignModel.pageComponent && !this.rxViewComponentRegistryService.get(viewDesignModel.pageComponent)) {\n            availablePageComponents.unshift({\n                name: RX_VIEW_DEFINITION.unknownPageComponent.name,\n                id: viewDesignModel.pageComponent\n            });\n        }\n        const pageComponentControl = {\n            name: 'pageComponent',\n            component: SelectFormControlComponent,\n            options: {\n                label: 'Page component',\n                options: availablePageComponents,\n                beforeValueChange: (oldValue, newValue) => this.viewDesignerFacade.viewModel$\n                    .pipe(take(1), withLatestFrom(this.viewDesignerFacade.viewComponentModels$), map$1(([viewModel, viewComponentModels]) => !(oldValue === null || oldValue === void 0 ? void 0 : oldValue.length) &&\n                    newValue.length &&\n                    (viewModel.inputParams.length || viewModel.outputParams.length || !isEmpty(viewComponentModels))))\n                    .toPromise()\n                    .then((isConfirmationRequired) => isConfirmationRequired\n                    ? this.rxModalService.confirm({\n                        title: 'Warning',\n                        modalStyle: RX_MODAL.modalStyles.warning,\n                        message: 'The view canvas, input and output parameters will be cleared. Do you want to continue?'\n                    })\n                    : true),\n                emptyOption: true\n            }\n        };\n        const extensionContainerControl = {\n            name: 'targetExtensionContainerGuid',\n            component: SelectFormControlComponent,\n            options: {\n                label: 'Extension container',\n                tooltip: new Tooltip(`Select an extension container in the view to extend where record editor fields from this view will be injected.\n            The records defined for the view to extend and for this view must be associated one-to-one.`),\n                options: targetExtensionContainerOptions || [],\n                required: true,\n                beforeValueChange: (oldValue, newValue) => {\n                    return this.isTargetRecordDefinitionChanged(oldValue, newValue)\n                        .pipe(withLatestFrom(this.viewDesignerFacade.viewComponentModels$), map$1(([isRecordDefinitionChanged, viewComponentModels]) => !isEmpty(viewComponentModels) && isRecordDefinitionChanged), take(1))\n                        .toPromise()\n                        .then((isConfirmationRequired) => isConfirmationRequired\n                        ? this.rxModalService.confirm({\n                            title: 'Warning',\n                            modalStyle: RX_MODAL.modalStyles.warning,\n                            message: 'The view canvas will be cleared. Do you want to continue?'\n                        })\n                        : true);\n                }\n            }\n        };\n        const layout = [\n            {\n                label: 'General',\n                controls: [\n                    {\n                        name: 'displayName',\n                        component: TextFormControlComponent,\n                        isDisabled: Boolean(viewDesignModel.lastUpdateTime),\n                        options: {\n                            required: true,\n                            label: 'Name'\n                        }\n                    },\n                    {\n                        name: 'description',\n                        component: TextareaFormControlComponent,\n                        isDisabled: !isCustomizationAllowed,\n                        options: {\n                            label: 'Description',\n                            rows: 3\n                        }\n                    },\n                    {\n                        name: 'layoutName',\n                        component: TextFormControlComponent,\n                        isDisabled: true,\n                        options: {\n                            label: 'Layout template'\n                        }\n                    },\n                    {\n                        name: 'targetViewDefinitionName',\n                        component: RxDefinitionPickerComponent,\n                        isDisabled: !isCustomizationAllowed,\n                        options: {\n                            label: 'View to extend',\n                            tooltip: new Tooltip(`Select a view to extend in order to inject this view into it.\n                The view to extend may be read-only, but must contain at least one Record editor with an Extension container.`),\n                            definitionType: RxDefinitionPickerType.View,\n                            beforeValueChange: (oldValue, newValue) => this.viewDesignerFacade.viewComponentModels$\n                                .pipe(first(), withLatestFrom(this.viewDesignerFacade.viewModel$))\n                                .toPromise()\n                                .then(([components, viewModel]) => {\n                                const isViewParametersPresent = Boolean(!(oldValue === null || oldValue === void 0 ? void 0 : oldValue.length) &&\n                                    newValue.length &&\n                                    (viewModel.inputParams.length || viewModel.outputParams.length));\n                                let message;\n                                if (!isEmpty(components) && isViewParametersPresent) {\n                                    message =\n                                        'The view canvas, input and output parameters will be cleared. Do you want to continue?';\n                                }\n                                else if (!isEmpty(components)) {\n                                    message = 'The view canvas will be cleared. Do you want to continue?';\n                                }\n                                else if (isViewParametersPresent) {\n                                    message = 'The input and output parameters will be cleared. Do you want to continue?';\n                                }\n                                return message\n                                    ? this.rxModalService.confirm({\n                                        title: 'Warning',\n                                        modalStyle: RX_MODAL.modalStyles.warning,\n                                        message: message\n                                    })\n                                    : true;\n                            })\n                        }\n                    },\n                    {\n                        name: 'styles',\n                        component: TagsFormControlComponent,\n                        isDisabled: !isCustomizationAllowed,\n                        options: {\n                            label: 'CSS classes',\n                            placeholder: 'Add CSS classes',\n                            tooltip: new Tooltip('Enter CSS class names to apply to this view.'),\n                            errorCheck: validateCssClassName\n                        }\n                    },\n                    {\n                        name: 'permissions',\n                        component: RxPermissionEditorComponent,\n                        isDisabled: !isCustomizationAllowed,\n                        options: {\n                            label: 'Permissions',\n                            type: 'view'\n                        }\n                    },\n                    {\n                        component: RxViewRevertCustomizationComponent\n                    },\n                    {\n                        component: RxViewCustomizationOptionsComponent\n                    }\n                ]\n            },\n            {\n                label: 'Input parameters',\n                controls: [\n                    {\n                        name: 'inputParams',\n                        component: ListFormControlComponent,\n                        isDisabled: !isCustomizationAllowed,\n                        options: {\n                            addItemText: 'Add',\n                            emptyListText: 'No input parameters added.',\n                            items: [\n                                {\n                                    label: 'Name',\n                                    propertyName: 'name'\n                                }\n                            ]\n                        }\n                    }\n                ]\n            },\n            {\n                label: 'Output parameters',\n                controls: [\n                    {\n                        name: 'outputParams',\n                        component: ListFormControlComponent,\n                        isDisabled: !isCustomizationAllowed,\n                        options: {\n                            addItemText: 'Add',\n                            emptyListText: 'No output parameters added.',\n                            items: [\n                                {\n                                    label: 'Name',\n                                    propertyName: 'name'\n                                },\n                                {\n                                    label: 'Source',\n                                    propertyName: 'source',\n                                    dataDictionary$: this.expressionConfigurator.getDataDictionary(),\n                                    operators: this.expressionConfigurator.getOperators()\n                                }\n                            ]\n                        }\n                    }\n                ]\n            }\n        ];\n        if (availablePageComponents.length) {\n            layout[0].controls.splice(2, 0, pageComponentControl);\n        }\n        // hide 'View to extend' and 'Extention container' controls if a page component is selected\n        if (viewDesignModel.pageComponent) {\n            layout.splice(1, 2);\n            layout[0].controls.splice(findIndex(layout[0].controls, { name: 'targetViewDefinitionName' }), 1);\n        }\n        if (viewDesignModel.targetViewDefinitionName) {\n            const targetViewDefinitionNameControlIndex = findIndex(layout[0].controls, { name: 'targetViewDefinitionName' });\n            layout[0].controls.splice(targetViewDefinitionNameControlIndex + 1, 0, extensionContainerControl);\n            // hide 'Page component' control if 'View to extend' is selected\n            layout[0].controls.splice(findIndex(layout[0].controls, { name: 'pageComponent' }), 1);\n            // hide 'Input parameters' and 'Output parameters' control if 'View to extend' is selected\n            layout.splice(1, 2);\n            this.viewDesignerFacade.updateViewProperties({\n                inputParams: [],\n                outputParams: []\n            });\n        }\n        return {\n            inspectorSectionConfigs: layout\n        };\n    }\n    validateDisplayName() {\n        // View definition names for validation will be loaded only in case if user changes view name.\n        return this.viewDesignerFacade\n            .getViewPropertyValue('displayName')\n            .pipe(switchMap((displayName) => combineLatest([\n            of(displayName\n                ? RX_RECORD_DEFINITION.validDefinitionNameRegex.test(displayName)\n                    ? null\n                    : {\n                        type: 'error',\n                        propertyName: 'displayName',\n                        description: 'View name can only contain letters, numbers, spaces, dashes, and underscores.'\n                    }\n                : {\n                    type: 'error',\n                    propertyName: 'displayName',\n                    description: 'View name cannot be blank.'\n                }),\n            this.viewDesignerFacade.getViewPropertyValue('lastUpdateTime').pipe(switchMap((lastUpdateTime) => displayName && !lastUpdateTime\n                ? this.allViewDefinitionNamesByBundleId$.pipe(map$1((viewDefinitionNames) => {\n                    const isNameAlreadyExists = !lastUpdateTime &&\n                        (viewDefinitionNames === null || viewDefinitionNames === void 0 ? void 0 : viewDefinitionNames.some((name) => this.rxStringService.caseInsensitiveIsEqual(displayName, name)));\n                    return isNameAlreadyExists\n                        ? {\n                            type: 'error',\n                            propertyName: 'displayName',\n                            description: 'View definition with this name already exists.'\n                        }\n                        : null;\n                }), take(1))\n                : of(null)), take(1))\n        ])))\n            .pipe(map$1(compact));\n    }\n    validateInputParams() {\n        return this.viewDesignerFacade.getViewPropertyValue('inputParams').pipe(map$1((inputParams) => {\n            const notBlankInputParams = flow((params) => map(params, (param) => param.name), compact)(inputParams);\n            const uniqueInputParams = uniq(notBlankInputParams);\n            const validationIssues = [];\n            if (inputParams.length && notBlankInputParams.length !== inputParams.length) {\n                validationIssues.push({\n                    type: 'error',\n                    propertyName: 'inputParams',\n                    description: 'Input parameter name cannot be blank.'\n                });\n            }\n            if (notBlankInputParams.length !== uniqueInputParams.length) {\n                validationIssues.push({\n                    type: 'error',\n                    propertyName: 'inputParams',\n                    description: 'Input parameter names must be unique.'\n                });\n            }\n            return validationIssues;\n        }));\n    }\n    validateOutputParamExpressions() {\n        return this.viewDesignerFacade.getViewPropertyValue('outputParams').pipe(map$1((outputParams) => map(outputParams, (param) => param.source).filter(Boolean)), distinctUntilChanged(isEqual), switchMap((sourceValues) => sourceValues.length\n            ? combineLatest(sourceValues.map((value) => this.rxViewExpressionValidatorService.validate(value, 'source', 'Output parameter source'))).pipe(map$1(flatten))\n            : of([])));\n    }\n    validateExtensionContainer() {\n        return combineLatest([\n            this.viewDesignerFacade.getViewPropertyValue('targetViewDefinitionName'),\n            this.viewDesignerFacade.getViewPropertyValue('targetExtensionContainerGuid')\n        ]).pipe(map$1(([targetViewDefinitionName, targetExtensionContainerGuid]) => targetViewDefinitionName && !targetExtensionContainerGuid\n            ? {\n                type: 'error',\n                propertyName: 'targetExtensionContainerGuid',\n                description: 'Extension container cannot be blank.'\n            }\n            : null));\n    }\n    getViewCommonDataDictionary(inputParams) {\n        return {\n            label: 'View',\n            expression: '${view.api}',\n            icon: 'd-icon-file_o',\n            expanded: true,\n            children: [\n                ...(isEmpty(inputParams)\n                    ? []\n                    : [\n                        {\n                            label: 'Input parameters',\n                            expanded: true,\n                            children: inputParams\n                                .filter((param) => param.name)\n                                .map((param) => ({\n                                label: param.name,\n                                expression: `$\\{view.inputParams.${param.name}}`,\n                                icon: 'd-icon-arrow_right_square_input'\n                            }))\n                        }\n                    ]),\n                {\n                    label: 'Properties',\n                    expanded: true,\n                    children: [\n                        {\n                            label: 'Is valid',\n                            expression: '${view.isValid}',\n                            icon: 'd-icon-arrow_right_square_input'\n                        }\n                    ]\n                }\n            ]\n        };\n    }\n    isTargetRecordDefinitionChanged(previousTargetExtensionContainerGuid, currentTargetExtensionContainerGuid) {\n        return this.targetViewDefinition$.pipe(map$1((viewDefinition) => {\n            const previousTargetRecordDefinitionName = this.getTargetRecordDefinitionName(viewDefinition, previousTargetExtensionContainerGuid);\n            const currentTargetRecordDefinitionName = this.getTargetRecordDefinitionName(viewDefinition, currentTargetExtensionContainerGuid);\n            return previousTargetRecordDefinitionName !== currentTargetRecordDefinitionName;\n        }));\n    }\n    getTargetRecordDefinitionName(viewDefinition, targetExtensionContainerGuid) {\n        const targetRecordEditor = this.rxViewDefinitionParserService.findParentComponentDefinition(viewDefinition, { guid: targetExtensionContainerGuid }, (definition) => definition.type === RxViewComponentType.RecordEditor);\n        return targetRecordEditor === null || targetRecordEditor === void 0 ? void 0 : targetRecordEditor.propertiesByName.recordDefinitionName;\n    }\n}\nRxViewModel.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewModel, deps: [{ token: i0.Injector }, { token: ViewDesignerFacade }, { token: i2$1.RxStringService }, { token: i3.RxOverlayService }, { token: i5.RxViewComponentRegistryService }, { token: i3.RxBundleCacheService }, { token: i5$1.RxModalService }, { token: i5.RxViewDefinitionCacheService }, { token: i5.RxViewDefinitionParserService }, { token: i2$1.RxGuidService }, { token: ViewDesignerDispatcher }, { token: i3.RxDefinitionNameService }, { token: RxViewExpressionValidatorService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxViewModel.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewModel });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewModel, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: ViewDesignerFacade }, { type: i2$1.RxStringService }, { type: i3.RxOverlayService }, { type: i5.RxViewComponentRegistryService }, { type: i3.RxBundleCacheService }, { type: i5$1.RxModalService }, { type: i5.RxViewDefinitionCacheService }, { type: i5.RxViewDefinitionParserService }, { type: i2$1.RxGuidService }, { type: ViewDesignerDispatcher }, { type: i3.RxDefinitionNameService }, { type: RxViewExpressionValidatorService }]; } });\n\n/* tslint:disable:variable-name */\nconst ViewDesignerCanvasItemApiToken = new InjectionToken('CanvasItemApi');\n\nclass CanvasItemApi {\n    constructor() {\n        this.core = null;\n    }\n    registerCoreApi(apiObject) {\n        this.core = apiObject;\n    }\n}\nCanvasItemApi.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CanvasItemApi, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nCanvasItemApi.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CanvasItemApi });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CanvasItemApi, decorators: [{\n            type: Injectable\n        }] });\n\nclass DropComponentData {\n    constructor(data, targetGuid, outletName, insertIndex) {\n        this.data = data;\n        this.targetGuid = targetGuid;\n        this.outletName = outletName;\n        this.insertIndex = insertIndex;\n    }\n}\n\nclass ViewDesignerCanvasService {\n    constructor() {\n        this.componentSelectSubject = new ReplaySubject();\n        this.componentRemoveSubject = new ReplaySubject();\n        this.componentDropSubject = new ReplaySubject();\n        this.componentDrop$ = this.componentDropSubject.asObservable();\n        this.componentSelect$ = this.componentSelectSubject.asObservable();\n        this.componentRemove$ = this.componentRemoveSubject.asObservable();\n    }\n    selectComponent(guid) {\n        this.componentSelectSubject.next(guid);\n    }\n    removeComponent(guid) {\n        this.componentRemoveSubject.next(guid);\n    }\n    dropComponent(data, targetGuid, outletName, insertIndex) {\n        this.componentDropSubject.next(new DropComponentData(data, targetGuid, outletName, insertIndex));\n    }\n}\nViewDesignerCanvasService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerCanvasService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nViewDesignerCanvasService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerCanvasService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerCanvasService, decorators: [{\n            type: Injectable\n        }] });\n\nclass CanvasItemComponent {\n    constructor(injector, renderer, canvasItemApi, viewDesignerCanvasService) {\n        this.injector = injector;\n        this.renderer = renderer;\n        this.canvasItemApi = canvasItemApi;\n        this.viewDesignerCanvasService = viewDesignerCanvasService;\n        this.interactive = true;\n        this.childContainers = new Map();\n    }\n    ngOnInit() {\n        this.initializeItemApi();\n    }\n    ngOnChanges(changes) {\n        const layoutChange = changes.layout;\n        if (layoutChange) {\n            const prevGuid = get(layoutChange, 'previousValue.guid');\n            const currGuid = get(layoutChange, 'currentValue.guid');\n            const prevOutlets = get(layoutChange, 'previousValue.outlets');\n            const currOutlets = get(layoutChange, 'currentValue.outlets');\n            if (prevGuid !== currGuid) {\n                if (this.componentReference) {\n                    this.cleanUp();\n                }\n                this.renderViewComponent();\n            }\n            else if (!isEqual(prevOutlets, currOutlets)) {\n                currOutlets.forEach((outlet) => {\n                    const ref = this.childContainers.get(outlet.name);\n                    if (ref) {\n                        ref.instance.outlet = outlet;\n                        ref.instance.layout = this.layout;\n                    }\n                });\n            }\n        }\n    }\n    ngOnDestroy() {\n        this.cleanUp();\n    }\n    cleanUp() {\n        this.componentReference.destroy();\n        this.childContainers.clear();\n    }\n    registerOutlet(outletName, outletViewContainerRef, containerFactory) {\n        const currentOutlet = this.layout.outlets.find((outlet) => outlet.name === outletName);\n        const componentRef = this.renderContainerComponent(outletViewContainerRef, currentOutlet, containerFactory);\n        this.childContainers.set(outletName, componentRef);\n        return componentRef;\n    }\n    onSelectComponent(event) {\n        if (this.interactive) {\n            event.stopPropagation();\n            this.viewDesignerCanvasService.selectComponent(this.layout.guid);\n        }\n    }\n    dropComponent(transferData, insertIndex, outletName = RX_VIEW_DEFINITION.defaultOutletName) {\n        this.viewDesignerCanvasService.dropComponent(transferData, this.layout.guid, outletName, insertIndex);\n    }\n    initializeItemApi() {\n        this.canvasItemApi.registerCoreApi({\n            dropComponent: this.dropComponent.bind(this),\n            registerOutlet: this.registerOutlet.bind(this)\n        });\n    }\n    renderViewComponent() {\n        this.componentReference = this.container.createComponent(this.layout.factory, null, this.injector);\n        const instance = this.componentReference.instance;\n        const nativeElement = this.componentReference.location.nativeElement;\n        instance.guid = this.layout.guid;\n        instance.model = this.layout.model;\n        instance.isReadOnly = this.isReadOnly;\n        this.renderer.setAttribute(nativeElement, 'rx-view-component-id', this.layout.guid);\n    }\n    renderContainerComponent(outletViewContainerRef, outlet, containerFactory) {\n        const containerRef = outletViewContainerRef.createComponent(containerFactory);\n        containerRef.instance.outlet = outlet;\n        containerRef.instance.layout = this.layout;\n        containerRef.instance.isReadOnly = this.isReadOnly;\n        return containerRef;\n    }\n}\nCanvasItemComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CanvasItemComponent, deps: [{ token: i0.Injector }, { token: i0.Renderer2 }, { token: ViewDesignerCanvasItemApiToken }, { token: ViewDesignerCanvasService }], target: i0.ɵɵFactoryTarget.Component });\nCanvasItemComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: CanvasItemComponent, selector: \"rx-canvas-item\", inputs: { layout: \"layout\", interactive: \"interactive\", isReadOnly: \"isReadOnly\" }, providers: [\n        {\n            provide: ViewDesignerCanvasItemApiToken,\n            useClass: CanvasItemApi\n        }\n    ], viewQueries: [{ propertyName: \"container\", first: true, predicate: [\"container\"], descendants: true, read: ViewContainerRef, static: true }], usesOnChanges: true, ngImport: i0, template: \"<div [hidden]=\\\"layout?.model?.hiddenOnCanvas$ | async\\\" (click)=\\\"onSelectComponent($event)\\\">\\n  <ng-container #container></ng-container>\\n</div>\\n\", pipes: { \"async\": i4.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CanvasItemComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-canvas-item',\n                    templateUrl: './canvas-item.component.html',\n                    providers: [\n                        {\n                            provide: ViewDesignerCanvasItemApiToken,\n                            useClass: CanvasItemApi\n                        }\n                    ]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i0.Renderer2 }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [ViewDesignerCanvasItemApiToken]\n                }] }, { type: ViewDesignerCanvasService }]; }, propDecorators: { layout: [{\n                type: Input\n            }], interactive: [{\n                type: Input\n            }], isReadOnly: [{\n                type: Input\n            }], container: [{\n                type: ViewChild,\n                args: ['container', { read: ViewContainerRef, static: true }]\n            }] } });\n\nclass ViewDesignerCanvasComponent {\n    constructor(viewDesignerCanvasService) {\n        this.viewDesignerCanvasService = viewDesignerCanvasService;\n        this.componentSelect = new EventEmitter();\n        this.componentDrop = new EventEmitter();\n        this.componentRemove = new EventEmitter();\n        this.beforeComponentDropInRoot = new EventEmitter();\n    }\n    ngOnInit() {\n        this.viewDesignerCanvasService.componentSelect$.subscribe((event) => {\n            this.componentSelect.emit(event);\n        });\n        this.viewDesignerCanvasService.componentRemove$.subscribe((event) => {\n            this.componentRemove.emit(event);\n        });\n        this.viewDesignerCanvasService.componentDrop$.subscribe((event) => {\n            this.componentDrop.emit(event);\n        });\n    }\n}\nViewDesignerCanvasComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerCanvasComponent, deps: [{ token: ViewDesignerCanvasService }], target: i0.ɵɵFactoryTarget.Component });\nViewDesignerCanvasComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ViewDesignerCanvasComponent, selector: \"rx-view-designer-canvas\", inputs: { layout: \"layout\", isReadOnly: \"isReadOnly\" }, outputs: { componentSelect: \"componentSelect\", componentDrop: \"componentDrop\", componentRemove: \"componentRemove\", beforeComponentDropInRoot: \"beforeComponentDropInRoot\" }, providers: [ViewDesignerCanvasService], ngImport: i0, template: \"<rx-canvas-item class=\\\"root-item\\\" *ngIf=\\\"layout\\\" [layout]=\\\"layout\\\" [isReadOnly]=\\\"isReadOnly\\\"></rx-canvas-item>\\n\", components: [{ type: CanvasItemComponent, selector: \"rx-canvas-item\", inputs: [\"layout\", \"interactive\", \"isReadOnly\"] }], directives: [{ type: i4.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerCanvasComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-view-designer-canvas',\n                    templateUrl: './view-designer-canvas.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    providers: [ViewDesignerCanvasService]\n                }]\n        }], ctorParameters: function () { return [{ type: ViewDesignerCanvasService }]; }, propDecorators: { layout: [{\n                type: Input\n            }], isReadOnly: [{\n                type: Input\n            }], componentSelect: [{\n                type: Output\n            }], componentDrop: [{\n                type: Output\n            }], componentRemove: [{\n                type: Output\n            }], beforeComponentDropInRoot: [{\n                type: Output\n            }] } });\n\nclass CanvasOutletHelperService {\n    constructor() {\n        this.beforeViewComponentDropSubject = new ReplaySubject();\n        this.beforeViewComponentDrop$ = this.beforeViewComponentDropSubject.asObservable();\n    }\n    setBeforeViewComponentDropState(viewComponentDropData) {\n        this.beforeViewComponentDropSubject.next(viewComponentDropData);\n    }\n    canBeDropped(data) {\n        let canBeInsertedInto = true;\n        if (isFunction(data.draggedViewComponentDescriptor.canBeInsertedInto)) {\n            canBeInsertedInto = data.draggedViewComponentDescriptor.canBeInsertedInto(data.dropTargetViewComponentWithParents.map((component) => component.type));\n        }\n        if (canBeInsertedInto) {\n            canBeInsertedInto =\n                (!data.draggedViewComponentGuid ||\n                    !this._isParentRecordEditorChanging(this.containerComponentInstance['layout'].viewComponentWithParents, data.draggedViewComponentParents)) &&\n                    this.componentDropPredicate(data);\n        }\n        return canBeInsertedInto;\n    }\n    componentDropPredicate(data, skipPredicate = false) {\n        return ((skipPredicate || this.dropPredicate(data)) &&\n            (!this.parentOutletComponent || this.parentOutletComponent.componentDropPredicate(data, this.skipParentPredicate)));\n    }\n    _isParentRecordEditorChanging(targetContainerParentComponents, sourceComponentParentComponents) {\n        const targetRecordEditor = find(targetContainerParentComponents, {\n            type: RxViewComponentType.RecordEditor\n        });\n        const sourceRecordEditor = find(sourceComponentParentComponents, {\n            type: RxViewComponentType.RecordEditor\n        });\n        const isMovingBetweenRecordEditors = Boolean(targetRecordEditor) && Boolean(sourceRecordEditor) && targetRecordEditor.guid !== sourceRecordEditor.guid;\n        const isDroppingOutsideRecordEditor = !targetRecordEditor && Boolean(sourceRecordEditor);\n        const isDroppingInsideRecordEditor = !sourceRecordEditor && Boolean(targetRecordEditor);\n        return isMovingBetweenRecordEditors || isDroppingOutsideRecordEditor || isDroppingInsideRecordEditor;\n    }\n}\nCanvasOutletHelperService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CanvasOutletHelperService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nCanvasOutletHelperService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CanvasOutletHelperService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CanvasOutletHelperService, decorators: [{\n            type: Injectable\n        }] });\n\nclass CanvasItemColumnComponent {\n    constructor(viewDesignerCanvasService, canvasOutletHelperService) {\n        this.viewDesignerCanvasService = viewDesignerCanvasService;\n        this.canvasOutletHelperService = canvasOutletHelperService;\n        this.dropListDropped = new EventEmitter();\n        this.dropListEnterPredicateBind = throttle(this.dropListEnterPredicate.bind(this), 200);\n    }\n    ngOnInit() {\n        this.dropListOrientation = this.canvasOutletHelperService.dropListOrientation;\n    }\n    getViewComponentDragData(layout) {\n        return {\n            draggedViewComponentGuid: layout.guid,\n            draggedViewComponentDescriptor: layout.descriptor,\n            draggedViewComponentParents: this.layout.viewComponentWithParents\n        };\n    }\n    onDragEntered(event) {\n        this.enforceDragToSelf(event.container);\n    }\n    onDragStarted(event) {\n        this.enforceDragToSelf(event.source.dropContainer);\n    }\n    remove(event, layout) {\n        event.stopPropagation();\n        this.viewDesignerCanvasService.removeComponent(layout.guid);\n    }\n    onSelectComponent(event, layout) {\n        event.stopPropagation();\n        this.viewDesignerCanvasService.selectComponent(layout.guid);\n    }\n    trackByFn(index, item) {\n        return item.guid;\n    }\n    dropListEnterPredicate(event) {\n        return this.canvasOutletHelperService.canBeDropped(Object.assign(Object.assign({}, event.data), { dropTargetViewComponentWithParents: this.layout.viewComponentWithParents || [] }));\n    }\n    // todo remove after\n    // https://github.com/angular/components/issues/16671\n    // will be fixed\n    enforceDragToSelf(dropList) {\n        let siblings = dropList.connectedTo;\n        siblings = siblings.reduce((result, item) => {\n            if (isString(item)) {\n                const listInstance = CdkDropList['_dropLists'].find((list) => list.id === item);\n                if (listInstance) {\n                    result.push(listInstance);\n                }\n            }\n            return result;\n        }, []);\n        const dropListRef = dropList._dropListRef;\n        asapScheduler.schedule(() => {\n            dropListRef.connectedTo(siblings.map((list) => list._dropListRef));\n        });\n    }\n}\nCanvasItemColumnComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CanvasItemColumnComponent, deps: [{ token: ViewDesignerCanvasService }, { token: CanvasOutletHelperService }], target: i0.ɵɵFactoryTarget.Component });\nCanvasItemColumnComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: CanvasItemColumnComponent, selector: \"rx-canvas-item-column\", inputs: { isReadOnly: \"isReadOnly\", colIndex: \"colIndex\", column: \"column\", layout: \"layout\" }, outputs: { dropListDropped: \"dropListDropped\" }, ngImport: i0, template: \"<div\\n  cdkDropList\\n  [cdkDropListOrientation]=\\\"dropListOrientation\\\"\\n  [cdkDropListConnectedTo]=\\\"column.dndListIds\\\"\\n  (cdkDropListDropped)=\\\"dropListDropped.next($event)\\\"\\n  [cdkDropListEnterPredicate]=\\\"dropListEnterPredicateBind\\\"\\n  [cdkDropListData]=\\\"{ columnIndex: colIndex }\\\"\\n  [id]=\\\"column.listId\\\"\\n>\\n  <!-- mw-100 class is used for DnD to restrict component width, see DRD21-5845 for more details -->\\n  <div\\n    class=\\\"canvas-item-wrapper mw-100 canvas-{{ layout.descriptor.type }}\\\"\\n    cdkDrag\\n    [cdkDragData]=\\\"getViewComponentDragData(layout)\\\"\\n    [cdkDragDisabled]=\\\"isReadOnly || layout.descriptor.options?.static\\\"\\n    (cdkDragEntered)=\\\"onDragEntered($event)\\\"\\n    (cdkDragStarted)=\\\"onDragStarted($event)\\\"\\n    *ngFor=\\\"let layout of column.children; let last = last; trackBy: trackByFn\\\"\\n  >\\n    <div class=\\\"canvas-item\\\" [class.active]=\\\"layout.isSelected$ | async\\\" (click)=\\\"onSelectComponent($event, layout)\\\">\\n      <div class=\\\"canvas-item-header\\\" [hidden]=\\\"!(layout.isSelected$ | async)\\\" cdkDragHandle>\\n        <span class=\\\"icon d-icon-dots mr-1\\\"></span>\\n        <span class=\\\"label\\\">{{ layout.label }}</span>\\n\\n        <button\\n          (click)=\\\"remove($event, layout)\\\"\\n          *ngIf=\\\"!isReadOnly && !layout.descriptor.options?.static\\\"\\n          class=\\\"remove-button btn btn-sm btn-link d-icon-cross_adapt p-0 px-1\\\"\\n          type=\\\"button\\\"\\n          aria-label=\\\"Close\\\"\\n        ></button>\\n      </div>\\n\\n      <rx-canvas-item [layout]=\\\"layout\\\" [isReadOnly]=\\\"isReadOnly\\\"></rx-canvas-item>\\n    </div>\\n  </div>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}:host{display:block}.cdk-drop-list{min-height:100px}.cdk-drop-list>.cdk-drag-placeholder{opacity:.5}.card-header{cursor:move}.canvas-item-wrapper.cdk-drag-preview{background:white;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.canvas-item{border:1px solid transparent;position:relative;padding:3px}.canvas-item.active{border-color:#20c997}.canvas-item-header{color:#fff;position:absolute;top:0;right:0;padding:1px 0 1px 5px;background:#20c997;cursor:move;z-index:1;display:flex}.canvas-item-header .label{white-space:nowrap}.remove-button{color:#fff}\\n\"], components: [{ type: CanvasItemComponent, selector: \"rx-canvas-item\", inputs: [\"layout\", \"interactive\", \"isReadOnly\"] }], directives: [{ type: i4$1.CdkDropList, selector: \"[cdkDropList], cdk-drop-list\", inputs: [\"cdkDropListConnectedTo\", \"id\", \"cdkDropListEnterPredicate\", \"cdkDropListSortPredicate\", \"cdkDropListDisabled\", \"cdkDropListSortingDisabled\", \"cdkDropListAutoScrollDisabled\", \"cdkDropListOrientation\", \"cdkDropListLockAxis\", \"cdkDropListData\", \"cdkDropListAutoScrollStep\"], outputs: [\"cdkDropListDropped\", \"cdkDropListEntered\", \"cdkDropListExited\", \"cdkDropListSorted\"], exportAs: [\"cdkDropList\"] }, { type: i4.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i4$1.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragDisabled\", \"cdkDragStartDelay\", \"cdkDragLockAxis\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragBoundary\", \"cdkDragRootElement\", \"cdkDragPreviewContainer\", \"cdkDragData\", \"cdkDragFreeDragPosition\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }, { type: i4$1.CdkDragHandle, selector: \"[cdkDragHandle]\", inputs: [\"cdkDragHandleDisabled\"] }, { type: i4.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i4.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CanvasItemColumnComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-canvas-item-column',\n                    templateUrl: './canvas-item-column.component.html',\n                    styleUrls: ['./canvas-item-column.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: ViewDesignerCanvasService }, { type: CanvasOutletHelperService }]; }, propDecorators: { isReadOnly: [{\n                type: Input\n            }], colIndex: [{\n                type: Input\n            }], column: [{\n                type: Input\n            }], layout: [{\n                type: Input\n            }], dropListDropped: [{\n                type: Output\n            }] } });\n\nclass CanvasItemContainerComponent {\n    constructor(canvasItemApi, canvasOutletHelperService) {\n        this.canvasItemApi = canvasItemApi;\n        this.canvasOutletHelperService = canvasOutletHelperService;\n    }\n    trackByColFn(index, item) {\n        return item.listId;\n    }\n    onDropListDropped(event) {\n        const viewComponentDropData = Object.assign(Object.assign({}, event.item.data), { initialPropertiesByName: {}, columnIndex: event.container.data.columnIndex });\n        this.canvasOutletHelperService.setBeforeViewComponentDropState(viewComponentDropData);\n        if (!viewComponentDropData.preventDrop) {\n            this.canvasItemApi.core.dropComponent(viewComponentDropData, event.currentIndex, this.outlet.name);\n        }\n    }\n}\nCanvasItemContainerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CanvasItemContainerComponent, deps: [{ token: ViewDesignerCanvasItemApiToken }, { token: CanvasOutletHelperService }], target: i0.ɵɵFactoryTarget.Component });\nCanvasItemContainerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: CanvasItemContainerComponent, selector: \"rx-canvas-item-container\", inputs: { outlet: \"outlet\", isReadOnly: \"isReadOnly\", layout: \"layout\" }, ngImport: i0, template: \"<div class=\\\"row\\\">\\n  <div\\n    *ngFor=\\\"let column of outlet.columns; let colIndex = index; let isLastCol = last; trackBy: trackByColFn\\\"\\n    class=\\\"{{ column.span ? 'col-' + column.span : 'col' }}\\\"\\n    [ngClass]=\\\"{ 'col-border': !isLastCol }\\\"\\n  >\\n    <rx-canvas-item-column\\n      [ngClass]=\\\"{ 'mb-3': !isLastCol }\\\"\\n      [isReadOnly]=\\\"isReadOnly\\\"\\n      [colIndex]=\\\"colIndex\\\"\\n      [column]=\\\"column\\\"\\n      [layout]=\\\"layout\\\"\\n      (dropListDropped)=\\\"onDropListDropped($event)\\\"\\n    ></rx-canvas-item-column>\\n  </div>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.col-border{border-right:1px dashed #d6d7d8}\\n\"], components: [{ type: CanvasItemColumnComponent, selector: \"rx-canvas-item-column\", inputs: [\"isReadOnly\", \"colIndex\", \"column\", \"layout\"], outputs: [\"dropListDropped\"] }], directives: [{ type: i4.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i4.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CanvasItemContainerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-canvas-item-container',\n                    templateUrl: './canvas-item-container.component.html',\n                    styleUrls: ['./canvas-item-container.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: CanvasItemApi, decorators: [{\n                    type: Inject,\n                    args: [ViewDesignerCanvasItemApiToken]\n                }] }, { type: CanvasOutletHelperService }]; }, propDecorators: { outlet: [{\n                type: Input\n            }], isReadOnly: [{\n                type: Input\n            }], layout: [{\n                type: Input\n            }] } });\n\nclass CanvasOutletComponent {\n    constructor(canvasItemApi, parentOutletComponent, canvasOutletHelperService, componentFactoryResolver) {\n        this.canvasItemApi = canvasItemApi;\n        this.parentOutletComponent = parentOutletComponent;\n        this.canvasOutletHelperService = canvasOutletHelperService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.containerComponentInstance = null;\n        this.destroyed$ = new ReplaySubject(1);\n        this.name = RX_VIEW_DEFINITION.defaultOutletName;\n        this.skipParentPredicate = false;\n        this.dropListOrientation = 'vertical';\n        this.beforeViewComponentDrop = new EventEmitter();\n        this.dropPredicate = () => true;\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n    ngOnInit() {\n        this.containerComponentInstance = this.canvasItemApi.core.registerOutlet(this.name, this.container, this.componentFactoryResolver.resolveComponentFactory(this.containerComponent || CanvasItemContainerComponent)).instance;\n        this.canvasOutletHelperService.dropListOrientation = this.dropListOrientation;\n        this.canvasOutletHelperService.parentOutletComponent = this.parentOutletComponent;\n        this.canvasOutletHelperService.dropPredicate = this.dropPredicate;\n        this.canvasOutletHelperService.skipParentPredicate = this.skipParentPredicate;\n        this.canvasOutletHelperService.containerComponentInstance = this.containerComponentInstance;\n        this.canvasOutletHelperService.beforeViewComponentDrop$.pipe(takeUntil(this.destroyed$)).subscribe((event) => {\n            this.beforeViewComponentDrop.emit(event);\n        });\n    }\n    canBeDropped(data) {\n        return this.canvasOutletHelperService.canBeDropped(data);\n    }\n    componentDropPredicate(data, skipPredicate = false) {\n        return this.canvasOutletHelperService.componentDropPredicate(data, skipPredicate);\n    }\n}\nCanvasOutletComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CanvasOutletComponent, deps: [{ token: ViewDesignerCanvasItemApiToken }, { token: CanvasOutletComponent, optional: true, skipSelf: true }, { token: CanvasOutletHelperService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.Component });\nCanvasOutletComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: CanvasOutletComponent, selector: \"rx-canvas-outlet\", inputs: { name: \"name\", skipParentPredicate: \"skipParentPredicate\", containerComponent: \"containerComponent\", dropListOrientation: \"dropListOrientation\", dropPredicate: \"dropPredicate\" }, outputs: { beforeViewComponentDrop: \"beforeViewComponentDrop\" }, providers: [CanvasOutletHelperService], viewQueries: [{ propertyName: \"container\", first: true, predicate: [\"container\"], descendants: true, read: ViewContainerRef, static: true }], ngImport: i0, template: \"<ng-container #container></ng-container>\\n\" });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: CanvasOutletComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-canvas-outlet',\n                    templateUrl: './canvas-outlet.component.html',\n                    providers: [CanvasOutletHelperService]\n                }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [ViewDesignerCanvasItemApiToken]\n                }] }, { type: CanvasOutletComponent, decorators: [{\n                    type: SkipSelf\n                }, {\n                    type: Optional\n                }] }, { type: CanvasOutletHelperService }, { type: i0.ComponentFactoryResolver }]; }, propDecorators: { name: [{\n                type: Input\n            }], skipParentPredicate: [{\n                type: Input\n            }], containerComponent: [{\n                type: Input\n            }], dropListOrientation: [{\n                type: Input\n            }], container: [{\n                type: ViewChild,\n                args: ['container', { read: ViewContainerRef, static: true }]\n            }], beforeViewComponentDrop: [{\n                type: Output\n            }], dropPredicate: [{\n                type: Input\n            }] } });\n\nclass DesignerComponent {\n    constructor(canvasItemComponent, viewDesignerCanvasComponent) {\n        this.canvasItemComponent = canvasItemComponent;\n        this.viewDesignerCanvasComponent = viewDesignerCanvasComponent;\n        this.defaultOutletName = RX_VIEW_DEFINITION.defaultOutletName;\n    }\n    trackByFn(index, item) {\n        return item.name;\n    }\n}\nDesignerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DesignerComponent, deps: [{ token: CanvasItemComponent }, { token: ViewDesignerCanvasComponent }], target: i0.ɵɵFactoryTarget.Component });\nDesignerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: DesignerComponent, selector: \"rx-designer\", ngImport: i0, template: \"<rx-canvas-outlet\\n  [class.border]=\\\"canvasItemComponent.layout.outlets.length > 1\\\"\\n  [class.default-outlet]=\\\"outlet.name === defaultOutletName\\\"\\n  *ngFor=\\\"let outlet of canvasItemComponent.layout.outlets; trackBy: trackByFn\\\"\\n  [name]=\\\"outlet.name\\\"\\n  (beforeViewComponentDrop)=\\\"viewDesignerCanvasComponent.beforeComponentDropInRoot.emit($event)\\\"\\n></rx-canvas-outlet>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}rx-canvas-outlet{display:block}rx-canvas-outlet.default-outlet:not(:only-child) ::ng-deep>rx-canvas-item-container>.row>*>rx-canvas-item-column>.cdk-drop-list{min-height:300px}rx-canvas-outlet.default-outlet:only-child ::ng-deep>rx-canvas-item-container>.row>*>rx-canvas-item-column>.cdk-drop-list{min-height:calc(100vh - 155px)}rx-canvas-outlet.border{border:1px solid #d6d7d8}rx-canvas-outlet+rx-canvas-outlet{margin-top:10px}\\n\"], components: [{ type: CanvasOutletComponent, selector: \"rx-canvas-outlet\", inputs: [\"name\", \"skipParentPredicate\", \"containerComponent\", \"dropListOrientation\", \"dropPredicate\"], outputs: [\"beforeViewComponentDrop\"] }], directives: [{ type: i4.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DesignerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-designer',\n                    templateUrl: './designer.component.html',\n                    styleUrls: ['./designer.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: CanvasItemComponent }, { type: ViewDesignerCanvasComponent }]; } });\n\nclass RxViewDesignerHelperService {\n    constructor(viewDesignerFacade, rxViewComponentRegistryService, componentFactoryResolver, viewDesignerModels) {\n        this.viewDesignerFacade = viewDesignerFacade;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.viewDesignerModels = viewDesignerModels;\n        this.designerComponentFactory = this.componentFactoryResolver.resolveComponentFactory(DesignerComponent);\n        this.canvasDndListIds = [];\n        this.extensionViewAllowedComponentTypes = new Set([\n            RxViewComponentType.Container,\n            RxViewComponentType.RichText,\n            RxViewComponentType.RecordEditor,\n            RxViewComponentType.Character,\n            RxViewComponentType.Textarea,\n            RxViewComponentType.Boolean,\n            RxViewComponentType.Date,\n            RxViewComponentType.DateTime,\n            RxViewComponentType.Time,\n            RxViewComponentType.Decimal,\n            RxViewComponentType.Floating,\n            RxViewComponentType.Integer,\n            RxViewComponentType.LocalizedCharacter,\n            RxViewComponentType.Selection,\n            RxViewComponentType.SelectGroup,\n            RxViewComponentType.RichTextarea,\n            BwfViewComponentType.DynamicNamedList\n        ]);\n        this.canvasLayout$ = this.getRecursiveViewLayoutGuids().pipe(switchMap((guids) => guids.length\n            ? this.viewDesignerFacade.areViewModelsReady$.pipe(\n            // Wait until component models will be instantiated after save view definition.\n            filter(Boolean), switchMapTo(this.viewDesignerFacade.viewDesignerModelState$.pipe(take(1))))\n            : this.viewDesignerFacade.viewDesignerModelState$.pipe(take(1))), map$1((designModelState) => {\n            const viewModel = designModelState.viewDesignModel;\n            const componentModels = designModelState.viewComponentDesignModels;\n            this.canvasDndListIds.length = 0;\n            return {\n                guid: viewModel.guid,\n                factory: this.designerComponentFactory,\n                outlets: viewModel.layout.outlets.map((outlet) => ({\n                    name: outlet.name,\n                    columns: outlet.columns.map((column, i) => {\n                        const listId = String(`${viewModel.guid}-${outlet.name}-${i}`);\n                        // do not allow components to be dropped in the root of a SHELL view\n                        if (viewModel.type !== ViewDefinitionType.Shell) {\n                            this.canvasDndListIds.push(listId);\n                        }\n                        return Object.assign(Object.assign({}, column), { children: column.children.map((childGuid) => this.initializeCanvasItem(childGuid, componentModels, this.canvasDndListIds)), listId, dndListIds: this.canvasDndListIds });\n                    })\n                })),\n                model: null,\n                descriptor: null,\n                isSelected$: of(false)\n            };\n        }), tap(() => {\n            // required for DND\n            // https://github.com/angular/components/issues/16671\n            this.canvasDndListIds.reverse();\n        }));\n        this.viewBreadcrumbItem$ = this.viewDesignerFacade.getViewPropertyValue('displayName').pipe(concatMap((displayName) => of(displayName\n            ? displayName === RX_APPLICATION.shellDefinitionName\n                ? 'Application shell'\n                : displayName\n            : '<New view>')), withLatestFrom(this.viewDesignerFacade.viewModelGuid$), map$1(([viewBreadcrumbLabel, guid]) => ({\n            label: viewBreadcrumbLabel,\n            data: { guid }\n        })));\n        this.selectedComponentBreadcrumbItems$ = this.viewDesignerFacade.selectedComponentGuid$.pipe(switchMap((componentGuid) => componentGuid\n            ? combineLatest([\n                this.viewDesignerFacade.breadcrumbs$,\n                this.viewDesignerFacade.getParentComponentGuid(componentGuid)\n            ]).pipe(withLatestFrom(this.viewDesignerFacade.viewComponentModels$), map$1(([[breadcrumbs], viewComponentModels]) => \n            // Handle empty viewComponentModels state during view definition save.\n            isEmpty(viewComponentModels)\n                ? []\n                : findAllParentComponentGuids(componentGuid, viewComponentModels).map((parentGuid) => {\n                    let label = breadcrumbs[parentGuid];\n                    if (!label) {\n                        const component = viewComponentModels[parentGuid];\n                        const descriptor = this.rxViewComponentRegistryService.get(component.type);\n                        label = descriptor.name;\n                    }\n                    return { label, data: { guid: parentGuid } };\n                })))\n            : of([])));\n        this.breadcrumbItems$ = combineLatest([this.viewBreadcrumbItem$, this.selectedComponentBreadcrumbItems$]).pipe(map$1(([viewItem, componentItems]) => [viewItem, ...componentItems]));\n        this.validationIssues$ = this.viewDesignerFacade.validationIssues$.pipe(withLatestFrom(this.viewDesignerFacade.viewDesignerModelState$), map$1(([validationIssuesState, modelState]) => flow((state) => mergeWith(Object.assign({}, state.issues), state.expressionIssues, (issues = [], expressionIssues = []) => issues.concat(expressionIssues)), (issuesByComponentGuid) => reduce(issuesByComponentGuid, (result, issues, guid) => {\n            var _a;\n            let name;\n            if (((_a = modelState.viewDesignModel) === null || _a === void 0 ? void 0 : _a.guid) === guid) {\n                name = modelState.viewDesignModel.displayName || 'View designer';\n            }\n            else if (modelState.viewComponentDesignModels[guid]) {\n                const type = modelState.viewComponentDesignModels[guid].type;\n                const descriptor = this.rxViewComponentRegistryService.get(type);\n                name = descriptor && descriptor.name;\n            }\n            if (name) {\n                result.push({\n                    title: name,\n                    issues: issues.map((issue) => ({\n                        type: issue.type,\n                        description: issue.description,\n                        disableCorrection: issue.disableCorrection,\n                        data: {\n                            guid,\n                            propertyName: issue.propertyName,\n                            data: issue.data\n                        }\n                    }))\n                });\n            }\n            return result;\n        }, []))(validationIssuesState)));\n    }\n    getLicensedComponents() {\n        return this.rxViewComponentRegistryService.getLicensedComponents().pipe(first(), map$1((components) => components.filter((component) => !this.rxViewComponentRegistryService.isDataComponentDescriptor(component) &&\n            !component.hidden &&\n            !component.isPageComponent)));\n    }\n    getRecursiveViewLayoutGuids() {\n        return this.viewDesignerFacade\n            .getViewPropertyValue('layout')\n            .pipe(switchMap((layout) => this.getRecursiveComponentLayoutGuids(layout)));\n    }\n    getRecursiveComponentLayoutGuids(layout) {\n        const guids = RxViewLayout.getViewLayoutChildGuids(layout);\n        return guids.length\n            ? combineLatest(guids.map((guid) => this.viewDesignerFacade\n                .getComponentLayout(guid)\n                .pipe(switchMap((childLayout) => childLayout\n                ? this.getRecursiveComponentLayoutGuids(childLayout).pipe(map$1((childGuids) => [...childGuids, ...guids]))\n                : of(guids)))))\n            : of([]);\n    }\n    initializeCanvasItem(componentGuid, componentModels, dndListIds) {\n        const componentModel = componentModels[componentGuid];\n        const descriptor = this.rxViewComponentRegistryService.get(componentModel.type);\n        const canvasLayout = {\n            guid: componentModel.guid,\n            descriptor,\n            factory: descriptor.designComponentFactory,\n            model: this.viewDesignerModels.get(componentModel.guid),\n            outlets: [],\n            isSelected$: this.viewDesignerFacade.selectedComponentGuid$.pipe(map$1((guid) => guid === componentModel.guid)),\n            label: descriptor.name\n        };\n        if (componentModel.layout) {\n            canvasLayout.viewComponentWithParents = findAllParentComponentGuids(componentModel.guid, componentModels).map((guid) => ({ guid, type: componentModels[guid].type }));\n            componentModel.layout.outlets.forEach((outlet) => {\n                const canvasOutlet = {\n                    name: outlet.name,\n                    columns: outlet.columns.map((column, i) => {\n                        const listId = `${componentModel.guid}-${outlet.name}-${i}`;\n                        dndListIds.push(listId);\n                        return {\n                            children: column.children.map((childGuid) => this.initializeCanvasItem(childGuid, componentModels, dndListIds)),\n                            span: column.span,\n                            listId,\n                            dndListIds\n                        };\n                    })\n                };\n                canvasLayout.outlets.push(canvasOutlet);\n            });\n        }\n        return canvasLayout;\n    }\n}\nRxViewDesignerHelperService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerHelperService, deps: [{ token: ViewDesignerFacade }, { token: i5.RxViewComponentRegistryService }, { token: i0.ComponentFactoryResolver }, { token: RxViewDesignerModels }], target: i0.ɵɵFactoryTarget.Injectable });\nRxViewDesignerHelperService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerHelperService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerHelperService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: ViewDesignerFacade }, { type: i5.RxViewComponentRegistryService }, { type: i0.ComponentFactoryResolver }, { type: RxViewDesignerModels }]; } });\n\nconst RX_VIEW_DESIGNER = {\n    stencilGroups: {\n        basicComponents: {\n            label: 'Basic components'\n        },\n        chatbotComponents: {\n            label: 'Chatbot components'\n        },\n        recordEditorInputs: {\n            label: 'Record editor inputs'\n        }\n    },\n    inspectorTabs: {\n        viewProperties: {\n            tabId: 0\n        },\n        componentProperties: {\n            tabId: 1\n        },\n        validationIssues: {\n            tabId: 2\n        }\n    }\n};\n\nclass ViewDesignerPaletteComponent {\n    constructor(stringService) {\n        this.stringService = stringService;\n        this.allowedDropListIds = [];\n        this.filterFormControl = new FormControl();\n        this.componentsSubject$ = new ReplaySubject(1);\n    }\n    set components(value) {\n        this.componentsSubject$.next(value);\n    }\n    ngOnInit() {\n        this.viewComponentGroups$ = combineLatest([\n            this.filterFormControl.valueChanges.pipe(debounceTime(200), startWith(null)),\n            this.componentsSubject$\n        ]).pipe(map$1(([componentNameFilterText, viewComponentDescriptors]) => flow((descriptors) => groupBy(descriptors, (component) => component.group), (groupsByName) => map(groupsByName, (components, groupName) => ({\n            name: groupName,\n            components: sortBy(components, (component) => isFinite(component.index) ? component.index : component.name)\n        })), (groups) => sortBy(groups, (group) => {\n            if (group.name === RX_VIEW_DESIGNER.stencilGroups.basicComponents.label) {\n                return '1';\n            }\n            else if (group.name === RX_VIEW_DESIGNER.stencilGroups.recordEditorInputs.label) {\n                return '2';\n            }\n            else {\n                return '3' + lowerCase(group.name);\n            }\n        }), (groups) => componentNameFilterText\n            ? groups\n                .map((group) => (Object.assign(Object.assign({}, group), { components: group.components.filter((component) => this.stringService.caseInsensitiveSearch(component.name, componentNameFilterText)) })))\n                .filter((group) => group.components.length)\n            : groups)(viewComponentDescriptors)));\n    }\n    getViewComponentDragData(descriptor) {\n        return {\n            draggedViewComponentDescriptor: descriptor\n        };\n    }\n    trackByNameFn(index, item) {\n        return item.name;\n    }\n    ngOnDestroy() {\n        this.componentsSubject$.complete();\n    }\n}\nViewDesignerPaletteComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerPaletteComponent, deps: [{ token: i2$1.RxStringService }], target: i0.ɵɵFactoryTarget.Component });\nViewDesignerPaletteComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ViewDesignerPaletteComponent, selector: \"rx-view-designer-palette\", inputs: { components: \"components\", allowedDropListIds: \"allowedDropListIds\" }, ngImport: i0, template: \"<div class=\\\"search-field-container\\\">\\n  <adapt-rx-search\\n    [formControl]=\\\"filterFormControl\\\"\\n    rx-id=\\\"stencil-search-field\\\"\\n    placeholder=\\\"Search\\\"\\n  ></adapt-rx-search>\\n</div>\\n\\n<adapt-accordion [config]=\\\"{ multiselect: true, tabs: [] }\\\">\\n  <adapt-accordion-tab\\n    *ngFor=\\\"let viewComponentsGroup of viewComponentGroups$ | async; trackBy: trackByNameFn\\\"\\n    [title]=\\\"viewComponentsGroup.name\\\"\\n    [attr.rx-id]=\\\"stringService.toRxId(viewComponentsGroup.name)\\\"\\n    [isOpen]=\\\"true\\\"\\n  >\\n    <div\\n      class=\\\"group-items-container\\\"\\n      cdkDropList\\n      cdkDropListSortingDisabled\\n      [cdkDropListConnectedTo]=\\\"allowedDropListIds\\\"\\n    >\\n      <div\\n        *ngFor=\\\"let viewComponent of viewComponentsGroup.components; trackBy: trackByNameFn\\\"\\n        [attr.rx-id]=\\\"viewComponent.type\\\"\\n        class=\\\"group-item\\\"\\n        cdkDrag\\n        [cdkDragData]=\\\"getViewComponentDragData(viewComponent)\\\"\\n      >\\n        <div class=\\\"group-item-inner\\\">\\n          <span class=\\\"item-image d-icon-{{ viewComponent.icon || 'wall' }}\\\"></span>\\n\\n          <span class=\\\"item-name\\\" title=\\\"{{ viewComponent.name }}\\\">\\n            {{ viewComponent.name }}\\n          </span>\\n        </div>\\n      </div>\\n    </div>\\n  </adapt-accordion-tab>\\n</adapt-accordion>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}:host{display:block}.group-items-container{display:flex;flex-wrap:wrap}.group-items-container .group-item.cdk-drag-placeholder{width:33.3%}.group-item{border-right:1px solid #d6d7d8;border-bottom:1px solid #d6d7d8;text-align:center;width:33.3%;cursor:move;height:90px;padding:3px 0}.group-item.cdk-drag-preview{background:white;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.group-item.cdk-drag-placeholder{border:0;width:100px;height:40px;padding:0;position:relative;z-index:3}.group-item.cdk-drag-placeholder .group-item-inner{border:1px solid #d6d7d8;background:#fff}.group-item:nth-child(3n){border-right:none}.group-item-inner{position:relative;display:flex;flex-direction:column}.item-image{color:#626668;font-size:40px;height:54px;flex-grow:1}.item-name{font-size:10px;overflow:hidden;height:34px}.cdk-drag-placeholder{opacity:1!important}adapt-accordion-tab ::ng-deep .card-block{padding:0}.form-group{margin:10px 20px}.search-field-container{padding:.9375rem}\\n\"], components: [{ type: i3$3.AdaptRxSearchComponent, selector: \"adapt-rx-search\", inputs: [\"mode\", \"autocomplete\", \"placeholder\", \"size\", \"searchButton\", \"searchButtonText\", \"clearButtonText\", \"debounceTime\", \"ariaControlsPopupId\", \"ariaActiveDescendant\", \"initialAlign\"], outputs: [\"editModeChange\"] }, { type: i3$3.AdaptAccordionComponent, selector: \"adapt-accordion\", inputs: [\"config\", \"multiselect\", \"bordered\"], outputs: [\"openTab\", \"closeTab\"] }, { type: i3$3.AdaptAccordionTabComponent, selector: \"adapt-accordion-tab\", inputs: [\"title\", \"renderContentWhenClosed\", \"customClass\", \"multiline\", \"icon\", \"disabled\", \"isOpen\"], outputs: [\"open\", \"close\"] }], directives: [{ type: i3$2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i3$2.FormControlDirective, selector: \"[formControl]\", inputs: [\"disabled\", \"formControl\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { type: i4.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i4$1.CdkDropList, selector: \"[cdkDropList], cdk-drop-list\", inputs: [\"cdkDropListConnectedTo\", \"id\", \"cdkDropListEnterPredicate\", \"cdkDropListSortPredicate\", \"cdkDropListDisabled\", \"cdkDropListSortingDisabled\", \"cdkDropListAutoScrollDisabled\", \"cdkDropListOrientation\", \"cdkDropListLockAxis\", \"cdkDropListData\", \"cdkDropListAutoScrollStep\"], outputs: [\"cdkDropListDropped\", \"cdkDropListEntered\", \"cdkDropListExited\", \"cdkDropListSorted\"], exportAs: [\"cdkDropList\"] }, { type: i4$1.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragDisabled\", \"cdkDragStartDelay\", \"cdkDragLockAxis\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragBoundary\", \"cdkDragRootElement\", \"cdkDragPreviewContainer\", \"cdkDragData\", \"cdkDragFreeDragPosition\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }], pipes: { \"async\": i4.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerPaletteComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-view-designer-palette',\n                    templateUrl: './view-designer-palette.component.html',\n                    styleUrls: ['./view-designer-palette.component.scss'],\n                    changeDetection: ChangeDetectionStrategy.OnPush\n                }]\n        }], ctorParameters: function () { return [{ type: i2$1.RxStringService }]; }, propDecorators: { components: [{\n                type: Input\n            }], allowedDropListIds: [{\n                type: Input\n            }] } });\n\nconst RX_VIEW_MODEL = new InjectionToken('RX_VIEW_MODEL');\nclass RxViewDesignerComponent {\n    constructor(viewDesignerFacade, rxNotificationService, rxDefinitionPickerCacheService, rxNamedListDefinitionCacheService, rxModalService, translateService, rxUtilityModalsService, rxViewDesignerHelperService, rxExpressionEditorService, rxViewDefinitionService, rxComponentCanDeactivateGuard, rxViewDefinitionGeneratorService, rxViewDesignerModels, rxLogService, injector, renderer, rxRecordDefinitionCacheService, rxAssociationDefinitionCacheService, rxProcessDefinitionCacheService, rxViewDefinitionCacheService, rxGainsightConfiguratorService, rxDefinitionNameService, rxFeatureService) {\n        this.viewDesignerFacade = viewDesignerFacade;\n        this.rxNotificationService = rxNotificationService;\n        this.rxDefinitionPickerCacheService = rxDefinitionPickerCacheService;\n        this.rxNamedListDefinitionCacheService = rxNamedListDefinitionCacheService;\n        this.rxModalService = rxModalService;\n        this.translateService = translateService;\n        this.rxUtilityModalsService = rxUtilityModalsService;\n        this.rxViewDesignerHelperService = rxViewDesignerHelperService;\n        this.rxExpressionEditorService = rxExpressionEditorService;\n        this.rxViewDefinitionService = rxViewDefinitionService;\n        this.rxComponentCanDeactivateGuard = rxComponentCanDeactivateGuard;\n        this.rxViewDefinitionGeneratorService = rxViewDefinitionGeneratorService;\n        this.rxViewDesignerModels = rxViewDesignerModels;\n        this.rxLogService = rxLogService;\n        this.injector = injector;\n        this.renderer = renderer;\n        this.rxRecordDefinitionCacheService = rxRecordDefinitionCacheService;\n        this.rxAssociationDefinitionCacheService = rxAssociationDefinitionCacheService;\n        this.rxProcessDefinitionCacheService = rxProcessDefinitionCacheService;\n        this.rxViewDefinitionCacheService = rxViewDefinitionCacheService;\n        this.rxGainsightConfiguratorService = rxGainsightConfiguratorService;\n        this.rxDefinitionNameService = rxDefinitionNameService;\n        this.rxFeatureService = rxFeatureService;\n        this.viewDefinitionSaved = new EventEmitter();\n        this.viewDefinitionErrorLoading = new EventEmitter();\n        this.closeDesigner = new EventEmitter();\n        this.destroyed$ = new ReplaySubject(1);\n        this.inspectorFocusEditorSubject = new Subject();\n        this.isViewDefinitionChanged$ = new BehaviorSubject(false);\n        this.validationIssues$ = this.rxViewDesignerHelperService.validationIssues$.pipe(shareReplay(1), takeUntil(this.destroyed$));\n        this.breadcrumbItems$ = this.rxViewDesignerHelperService.breadcrumbItems$;\n        this.canvasLayout$ = this.rxViewDesignerHelperService.canvasLayout$;\n        this.canvasDndListIds = this.rxViewDesignerHelperService.canvasDndListIds;\n        this.extensionViewRootComponentType = RxViewComponentType.RecordEditor;\n        // Component UI State\n        this.isDesignMode = true;\n        this.isStencilExpanded = true;\n        this.isInspectorExpanded = true;\n        this.inspectorFocusEditor$ = this.inspectorFocusEditorSubject.asObservable();\n        this.viewComponentInspectorEmptyText$ = this.viewDesignerFacade.selectedComponentInspectorLayout$.pipe(switchMap((selectedComponentLayout) => selectedComponentLayout\n            ? of(null)\n            : this.viewDesignerFacade.selectedComponentGuid$.pipe(withLatestFrom(this.viewDesignerFacade.viewModel$), map$1(([selectedComponentGuid, viewModel]) => selectedComponentGuid && selectedComponentGuid !== viewModel.guid\n                ? 'Selected component has no properties.'\n                : 'Select a component to view its properties here.'))), shareReplay({\n            refCount: true,\n            bufferSize: 1\n        }));\n        this.selectedComponentModel$ = this.viewDesignerFacade.selectedComponentGuid$.pipe(map$1((guid) => this.rxViewDesignerModels.get(guid)));\n        this.isReadOnly$ = this.viewDesignerFacade.isViewReadOnly$;\n        this.paletteComponents$ = combineLatest([\n            this.viewDesignerFacade.isExtensionView$.pipe(tap((isExtensionView) => (this.isExtensionView = isExtensionView))),\n            this.viewDesignerFacade.isExtensionContainerSet$.pipe(tap((isExtensionContainerSet) => (this.isExtensionContainerSet = isExtensionContainerSet))),\n            this.rxViewDesignerHelperService\n                .getLicensedComponents()\n                .pipe(map$1((descriptors) => this.configuration.paletteComponentsPredicate\n                ? descriptors.filter((descriptor) => this.configuration.paletteComponentsPredicate(descriptor))\n                : descriptors))\n        ]).pipe(switchMap(([isExtensionView, isExtensionContainerSet, componentDescriptors]) => isExtensionView\n            ? this.viewDesignerFacade.firstViewComponentModelType$.pipe(map$1((firstViewComponentType) => firstViewComponentType === this.extensionViewRootComponentType\n                ? componentDescriptors.filter(({ type }) => type !== this.extensionViewRootComponentType &&\n                    this.rxViewDesignerHelperService.extensionViewAllowedComponentTypes.has(type))\n                : componentDescriptors.filter(({ type }) => type === this.extensionViewRootComponentType)))\n            : of(componentDescriptors)));\n        const customViewModel = this.injector.get(RX_VIEW_MODEL, null, InjectFlags.Optional);\n        this.rxViewModel = customViewModel || this.injector.get(RxViewModel);\n        this.rxDefinitionPickerCacheService.registerConsumer();\n        this.rxNamedListDefinitionCacheService.registerConsumer(this.destroyed$);\n        this.rxAssociationDefinitionCacheService.registerConsumer(this.destroyed$);\n        this.rxProcessDefinitionCacheService.registerConsumer(this.destroyed$);\n        this.rxRecordDefinitionCacheService.registerConsumer(this.destroyed$);\n        this.rxViewDefinitionCacheService.registerConsumer(this.destroyed$);\n    }\n    ngOnInit() {\n        this.isPreviewAvailable$ = this.viewDesignerFacade.getViewPropertyValue('lastUpdateTime').pipe(map$1((lastUpdateTime) => !this.configuration.disablePreview &&\n            (Boolean(lastUpdateTime) || !isUndefined(this.configuration.viewDefinitionName))), takeUntil(this.destroyed$));\n        this.viewDefinitionName$ = this.viewDesignerFacade.getViewPropertyValue('name');\n        this.viewDesignerFacade\n            .getViewPropertyValue('pageComponent')\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe((pageComponent) => {\n            this.isPageView = Boolean(pageComponent);\n        });\n        this.viewDesignerFacade.viewDefinitionSaveSuccess$\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe(({ viewDefinitionName }) => {\n            this.rxNotificationService.addSuccessMessage('View definition saved successfully.');\n            this.viewDefinitionSaved.emit(viewDefinitionName);\n            this.initViewDesigner();\n        });\n        this.viewDesignerFacade.viewDefinitionLoadError$\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe(() => this.viewDefinitionErrorLoading.emit());\n        this.hasValidationErrors$ = this.validationIssues$.pipe(map$1((validationIssues) => Boolean(filter$1(validationIssues, {\n            issues: [{ type: ValidationIssueType.Error }]\n        }).length)), distinctUntilChanged());\n        this.hasValidationWarning$ = this.validationIssues$.pipe(map$1((validationIssues) => Boolean(filter$1(validationIssues, {\n            issues: [{ type: ValidationIssueType.Warning }]\n        }).length)), distinctUntilChanged());\n        this.isSaveButtonDisabled$ = combineLatest([\n            this.hasValidationErrors$,\n            this.viewDesignerFacade.areViewModelsReady$,\n            this.isViewDefinitionChanged$,\n            this.isReadOnly$\n        ]).pipe(map$1(([hasValidationErrors, areViewModelsReady, isChanged, isReadOnly]) => hasValidationErrors || !areViewModelsReady || !isChanged || isReadOnly), startWith(true));\n        this.isReadOnly$.pipe(takeUntil(this.destroyed$)).subscribe((isReadOnly) => {\n            if (isReadOnly) {\n                this.rxNotificationService.addWarningMessage(this.translateService.instant('com.bmc.arsys.rx.client.designer.read-only-definition-warning.message'));\n            }\n        });\n        if (this.rxFeatureService.isFeatureEnabled('DRD21-11744')) {\n            this.viewDefinitionName$.pipe(take(1)).subscribe((viewDefinitionName) => {\n                this.rxGainsightConfiguratorService.updateGlobalContext({\n                    subProductLevel1: {\n                        name: 'Design'\n                    },\n                    subProductLevel2: {\n                        name: this.rxDefinitionNameService.getDisplayName(viewDefinitionName) == RX_APPLICATION.shellDefinitionName\n                            ? 'Shell designer'\n                            : 'View designer'\n                    }\n                });\n            });\n        }\n    }\n    ngOnChanges(changes) {\n        if (changes.configuration.currentValue) {\n            this.initViewDesigner(true);\n        }\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n        this.inspectorFocusEditorSubject.complete();\n        this.isViewDefinitionChanged$.complete();\n        this.rxDefinitionPickerCacheService.unRegisterConsumer();\n        this.viewDesignerFacade.destroyViewDesigner();\n        this.rxGainsightConfiguratorService.removeGlobalContext(['subProductLevel2', 'subProductLevel3']);\n    }\n    initViewDesigner(dispatchInitViewDesignerAction = false) {\n        var _a;\n        // Mark view definition as not changed if it's not. This needs for scenario when view designer\n        // will be reinitialized with another view definition name and current view is dirty.\n        if (this.isViewDefinitionChanged$.getValue()) {\n            this.isViewDefinitionChanged$.next(false);\n        }\n        (_a = this.viewDefinitionChangeSubscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n        if (dispatchInitViewDesignerAction) {\n            this.viewDesignerFacade.initViewDesigner(pick(this.configuration, ['bundleId', 'viewDefinitionName', 'layoutTemplate']));\n        }\n        this.initViewDefinitionChangeSubscription();\n    }\n    initViewDefinitionChangeSubscription() {\n        this.viewDefinitionChangeSubscription = this.viewDesignerFacade.areViewModelsReady$\n            .pipe(\n        // Wait until models state will be updated with view and view components data.\n        filter(Boolean), take(1), switchMap(() => combineLatest([this.viewDesignerFacade.viewModel$, this.viewDesignerFacade.viewComponentModels$]).pipe(map$1(([viewModel, viewComponentModels]) => this.rxViewDefinitionGeneratorService.generate(viewModel, viewComponentModels)), distinctUntilChanged(isEqual), \n        // Skip first emit from distinctUntilChanged.\n        skip(1), \n        // Complete after first emit, it's considered that view definition gets changed so no needs for further emits.\n        take(1), takeUntil(this.destroyed$))), takeUntil(this.destroyed$))\n            .subscribe(() => {\n            this.isViewDefinitionChanged$.next(true);\n        });\n    }\n    onSelectComponent(guid) {\n        this.viewDesignerFacade.selectComponent(guid);\n    }\n    onDropComponent(data) {\n        this.viewDesignerFacade.insertComponent(data);\n    }\n    onRemoveComponent(guid) {\n        this.rxUtilityModalsService\n            .confirm('Are you sure you want to delete this view component?')\n            .then((isConfirmed) => {\n            if (isConfirmed) {\n                this.viewDesignerFacade.removeViewComponents([guid], true);\n                if (this.isPageView) {\n                    this.viewDesignerFacade.updateViewProperties({ pageComponent: null });\n                }\n            }\n        });\n    }\n    onInspectorTabChange(event) {\n        this.viewDesignerFacade.selectInspectorTab({ tabId: event.index });\n    }\n    toggleDesignMode() {\n        if (this.isDesignMode) {\n            this.viewDesignerFacade.generateViewDefinition();\n        }\n        this.isDesignMode = !this.isDesignMode;\n    }\n    onComponentPropertiesChange(properties) {\n        this.viewDesignerFacade.updateSelectedComponentProperties(properties);\n    }\n    onEditorEvent(event, inspectorElementRef) {\n        if (event.type === RX_VALIDATION_FORM_CONTROL.events.correctValidationIssue) {\n            this.correctValidationIssue(event.payload.componentGuid, event.payload.propertyName);\n        }\n        if (event.type === RX_REVERT_CUSTOMIZATION.events.revertCustomization) {\n            this.revertCustomization();\n        }\n        if (event.type === RX_EXPRESSION_EDITOR.events.openExpressionEditor) {\n            this.openExpressionEditor(event.payload, inspectorElementRef);\n        }\n    }\n    getExpressionProperties(inspectorElementRef) {\n        return (this.viewComponentPropertyInspectorElementRef === inspectorElementRef\n            ? this.viewDesignerFacade.selectedComponentProperties$\n            : this.viewDesignerFacade.viewModel$).pipe(map$1((properties) => Array.from(this.renderer\n            .selectRootElement(inspectorElementRef.nativeElement, true)\n            .querySelectorAll('rx-expression-form-control')).map((element) => {\n            const propertyPath = element.getAttribute('property-path');\n            return {\n                path: propertyPath,\n                value: get(properties, propertyPath),\n                label: element.getAttribute('property-label')\n            };\n        })));\n    }\n    openExpressionEditor(payload, inspectorElementRef) {\n        const isComponentInspectorChange = this.viewComponentPropertyInspectorElementRef === inspectorElementRef;\n        const props$ = isComponentInspectorChange\n            ? this.viewDesignerFacade.selectedComponentProperties$\n            : this.viewDesignerFacade.viewModel$;\n        combineLatest([this.viewDesignerFacade.selectedComponentGuid$, props$])\n            .pipe(take(1), switchMap(([componentGuid, properties]) => {\n            const model = isComponentInspectorChange ? this.rxViewDesignerModels.get(componentGuid) : this.rxViewModel;\n            const expressionConfigurator = model === null || model === void 0 ? void 0 : model.expressionConfigurator;\n            if (expressionConfigurator) {\n                return this.rxExpressionEditorService\n                    .openEditor({\n                    property: {\n                        path: payload.propertyPath,\n                        value: get(properties, payload.propertyPath),\n                        label: payload.propertyLabel\n                    },\n                    isReadOnly: payload.isReadOnly,\n                    expressionConfigurator,\n                    legend: [\n                        {\n                            label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.function.label'),\n                            icon: 'd-icon-mathematical_function'\n                        },\n                        {\n                            label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.keyword.label'),\n                            icon: 'd-icon-dollar'\n                        },\n                        {\n                            label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.view-component.label'),\n                            icon: 'd-icon-file_o'\n                        },\n                        {\n                            label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.view-component-property.label'),\n                            icon: 'd-icon-file_o_gear'\n                        },\n                        {\n                            label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.view-input-parameter.label'),\n                            icon: 'd-icon-arrow_right_square_input'\n                        }\n                    ],\n                    expressionPropertyNavigator: {\n                        getProperties: this.getExpressionProperties.bind(this, inspectorElementRef)\n                    }\n                })\n                    .pipe(withLatestFrom(props$), map$1(([{ path, value }, props]) => {\n                    if (props.hasOwnProperty(path)) {\n                        return { [path]: value };\n                    }\n                    else {\n                        // Don't override nested model properties e.g,\n                        // when 'path' = \"outputParams[1].source\" and 'value' = \"${bar}\", model will be updated from:\n                        // {..., outputParams: [{name: 'foo', source: ${foo}}, {name: 'bar', source: null}] } to:\n                        // {..., outputParams: [{name: 'foo', source: ${foo}}, {name: 'bar', source: ${bar}}] }\n                        const headPropertyName = toPath(path)[0];\n                        // clone value because \"set\" mutates object, otherwise expression\n                        // form control component will not be updated with new value.\n                        return set({ [headPropertyName]: cloneDeep(props[headPropertyName]) }, path, value);\n                    }\n                }));\n            }\n            else {\n                this.rxLogService.debug('View designer: Expression editor cannot be opened without expression configurator.');\n                return EMPTY;\n            }\n        }), takeUntil(this.destroyed$))\n            .subscribe((value) => isComponentInspectorChange\n            ? this.viewDesignerFacade.updateSelectedComponentProperties(value)\n            : this.viewDesignerFacade.updateViewProperties(value));\n    }\n    saveViewDefinition() {\n        this.viewDesignerFacade.viewModel$\n            .pipe(take(1), switchMap((viewModel) => {\n            const message = viewModel.type === ViewDefinitionType.Shell\n                ? 'If you save your changes now, you will not be able to run this application using the old UI. Do you want to continue?'\n                : 'If you save this view definition, you will not be able to open it in the old view designer. Do you want to continue?';\n            if (viewModel.isAngularJsView) {\n                return this.rxModalService.confirm({\n                    title: 'Warning',\n                    modalStyle: RX_MODAL.modalStyles.warning,\n                    message\n                });\n            }\n            else {\n                return of(true);\n            }\n        }), filter(Boolean), takeUntil(this.destroyed$))\n            .subscribe(() => {\n            this.viewDesignerFacade.saveViewDefinition();\n        });\n    }\n    onCorrectIssue(validationIssue) {\n        this.correctValidationIssue(validationIssue.data.guid, validationIssue.data.propertyName, validationIssue.data.data);\n    }\n    correctValidationIssue(guid, propertyName, data) {\n        this.viewDesignerFacade.selectComponent(guid);\n        // need to wait until inspector will be visible\n        // there are no way to focus to invisible elements\n        setTimeout(() => this.inspectorFocusEditorSubject.next({ editorName: propertyName, data }), 10);\n    }\n    revertCustomization() {\n        this.viewDefinitionName$\n            .pipe(switchMap((viewDefinitionName) => this.rxViewDefinitionService.revertCustomization(viewDefinitionName)), takeUntil(this.destroyed$))\n            .subscribe(() => {\n            this.rxComponentCanDeactivateGuard.disable();\n            window.location.reload();\n        });\n    }\n    onViewPropertiesChange(properties) {\n        this.viewDesignerFacade.updateViewProperties(properties);\n    }\n    showPreview() {\n        this.viewDesignerFacade.runPreview();\n    }\n    canDeactivate() {\n        let canDeactivate = true;\n        combineLatest([this.isViewDefinitionChanged$, this.isReadOnly$])\n            .pipe(map$1(([isChanged, isReadOnly]) => !isChanged || isReadOnly), take(1))\n            .subscribe((isPristineOrReadOnly) => {\n            canDeactivate = isPristineOrReadOnly;\n        });\n        return canDeactivate;\n    }\n    onBeforeComponentDropInRoot(event) {\n        if (this.isExtensionView) {\n            if (!this.isExtensionContainerSet) {\n                this.rxNotificationService.addWarningMessage('Select Extension container before adding view components.');\n                event.preventDrop = true;\n            }\n            else if (event.draggedViewComponentDescriptor.type !== RxViewComponentType.RecordEditor) {\n                this.rxNotificationService.addWarningMessage('This view component can only be added inside a Record editor.');\n                event.preventDrop = true;\n            }\n        }\n    }\n}\nRxViewDesignerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerComponent, deps: [{ token: ViewDesignerFacade }, { token: i3.RxNotificationService }, { token: i3$1.RxDefinitionPickerCacheService }, { token: i4$2.RxNamedListDefinitionCacheService }, { token: i5$1.RxModalService }, { token: i6.TranslateService }, { token: i5$1.RxUtilityModalsService }, { token: RxViewDesignerHelperService }, { token: i3$1.RxExpressionEditorService }, { token: i5.RxViewDefinitionService }, { token: i3.RxComponentCanDeactivateGuard }, { token: RxViewDefinitionGeneratorService }, { token: RxViewDesignerModels }, { token: i3.RxLogService }, { token: i0.Injector }, { token: i0.Renderer2 }, { token: i11.RxRecordDefinitionCacheService }, { token: i12.RxAssociationDefinitionCacheService }, { token: i13.RxProcessDefinitionCacheService }, { token: i5.RxViewDefinitionCacheService }, { token: i3$1.RxGainsightConfiguratorService }, { token: i3.RxDefinitionNameService }, { token: i3.RxFeatureService }], target: i0.ɵɵFactoryTarget.Component });\nRxViewDesignerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxViewDesignerComponent, selector: \"rx-view-designer\", inputs: { configuration: \"configuration\" }, outputs: { viewDefinitionSaved: \"viewDefinitionSaved\", viewDefinitionErrorLoading: \"viewDefinitionErrorLoading\", closeDesigner: \"closeDesigner\" }, providers: [RxViewModel], viewQueries: [{ propertyName: \"viewPropertyInspectorElementRef\", first: true, predicate: [\"viewPropertyInspector\"], descendants: true, read: ElementRef }, { propertyName: \"viewComponentPropertyInspectorElementRef\", first: true, predicate: [\"viewComponentPropertyInspector\"], descendants: true, read: ElementRef }], usesOnChanges: true, ngImport: i0, template: \"<rx-designer-header\\n  [bundleName]=\\\"viewDesignerFacade.bundleFriendlyName$ | async\\\"\\n  [breadcrumbItems]=\\\"breadcrumbItems$ | async\\\"\\n  [isDesignMode]=\\\"isDesignMode\\\"\\n  [isPreviewAvailable]=\\\"isPreviewAvailable$ | async\\\"\\n  [isSaveButtonDisabled]=\\\"isSaveButtonDisabled$ | async\\\"\\n  (breadcrumbSelected)=\\\"onSelectComponent($event.data.guid)\\\"\\n  (toggleDesignMode)=\\\"toggleDesignMode()\\\"\\n  (showPreview)=\\\"showPreview()\\\"\\n  (save)=\\\"saveViewDefinition()\\\"\\n  (closeDesigner)=\\\"closeDesigner.emit()\\\"\\n></rx-designer-header>\\n\\n<div class=\\\"rx-component-view-designer\\\" [hidden]=\\\"!isDesignMode\\\">\\n  <rx-blade\\n    [title]=\\\"'Palette'\\\"\\n    rx-id=\\\"palette\\\"\\n    (toggle)=\\\"isStencilExpanded = !isStencilExpanded\\\"\\n    [isExpanded]=\\\"isStencilExpanded\\\"\\n  >\\n    <rx-view-designer-palette\\n      *ngIf=\\\"!isPageView && !(isReadOnly$ | async)\\\"\\n      [components]=\\\"paletteComponents$ | async\\\"\\n      [allowedDropListIds]=\\\"canvasDndListIds\\\"\\n    ></rx-view-designer-palette>\\n\\n    <adapt-alert\\n      *ngIf=\\\"isPageView && !(isReadOnly$ | async)\\\"\\n      class=\\\"p-3\\\"\\n      [config]=\\\"{\\n        content:\\n          'There are no view components to display. View with a Page view component cannot contain any other view components.',\\n        variant: 'info',\\n        type: 'inline'\\n      }\\\"\\n    ></adapt-alert>\\n\\n    <adapt-alert\\n      *ngIf=\\\"!(viewDesignerFacade.isViewDefinitionLoading$ | async) && isReadOnly$ | async\\\"\\n      class=\\\"p-3\\\"\\n      [config]=\\\"{\\n        content: 'This view is not editable. There are no view components to display.',\\n        variant: 'info',\\n        type: 'inline'\\n      }\\\"\\n    ></adapt-alert>\\n  </rx-blade>\\n\\n  <section class=\\\"rx-view-designer-container\\\">\\n    <rx-view-designer-canvas\\n      class=\\\"flex-grow-1\\\"\\n      [layout]=\\\"canvasLayout$ | async\\\"\\n      [isReadOnly]=\\\"isReadOnly$ | async\\\"\\n      (componentSelect)=\\\"onSelectComponent($event)\\\"\\n      (componentRemove)=\\\"onRemoveComponent($event)\\\"\\n      (componentDrop)=\\\"onDropComponent($event)\\\"\\n      (beforeComponentDropInRoot)=\\\"onBeforeComponentDropInRoot($event)\\\"\\n    ></rx-view-designer-canvas>\\n  </section>\\n\\n  <rx-blade\\n    [title]=\\\"'Properties'\\\"\\n    dockTo=\\\"right\\\"\\n    rx-id=\\\"properties\\\"\\n    (toggle)=\\\"isInspectorExpanded = !isInspectorExpanded\\\"\\n    [isExpanded]=\\\"isInspectorExpanded\\\"\\n  >\\n    <adapt-tabset\\n      [tab-active]=\\\"viewDesignerFacade.selectedInspectorTabId$ | async\\\"\\n      (tab-active-changed)=\\\"onInspectorTabChange($event)\\\"\\n      [class.has-validation-warning]=\\\"hasValidationWarning$ | async\\\"\\n      [class.has-validation-errors]=\\\"hasValidationErrors$ | async\\\"\\n      customCssTabContent=\\\"p-0\\\"\\n      justify=\\\"justified\\\"\\n    >\\n      <adapt-tab-panel icon=\\\"d-icon-pencil\\\">\\n        <rx-form-builder\\n          #viewPropertyInspector\\n          (modelChange)=\\\"onViewPropertiesChange($event)\\\"\\n          (editorEvent)=\\\"onEditorEvent($event, viewPropertyInspectorElementRef)\\\"\\n          [focusEditor$]=\\\"inspectorFocusEditor$\\\"\\n          [config]=\\\"viewDesignerFacade.viewInspectorLayout$ | async\\\"\\n          [model]=\\\"viewDesignerFacade.viewModel$ | async\\\"\\n          [isReadOnly]=\\\"isReadOnly$ | async\\\"\\n        ></rx-form-builder>\\n      </adapt-tab-panel>\\n\\n      <adapt-tab-panel icon=\\\"d-icon-gear\\\">\\n        <rx-form-builder\\n          rxInspector\\n          [designerItemModel]=\\\"selectedComponentModel$ | async\\\"\\n          #viewComponentPropertyInspector\\n          (modelChange)=\\\"onComponentPropertiesChange($event)\\\"\\n          (editorEvent)=\\\"onEditorEvent($event, viewComponentPropertyInspectorElementRef)\\\"\\n          [focusEditor$]=\\\"inspectorFocusEditor$\\\"\\n          [config]=\\\"viewDesignerFacade.selectedComponentInspectorLayout$ | async\\\"\\n          [model]=\\\"viewDesignerFacade.selectedComponentProperties$ | async\\\"\\n          [guid]=\\\"viewDesignerFacade.selectedComponentGuid$ | async\\\"\\n          [isReadOnly]=\\\"isReadOnly$ | async\\\"\\n        ></rx-form-builder>\\n\\n        <adapt-alert\\n          [hidden]=\\\"!(viewComponentInspectorEmptyText$ | async)\\\"\\n          class=\\\"p-3\\\"\\n          [config]=\\\"{\\n            content: viewComponentInspectorEmptyText$ | async,\\n            variant: 'info',\\n            type: 'inline'\\n          }\\\"\\n        ></adapt-alert>\\n      </adapt-tab-panel>\\n\\n      <adapt-tab-panel icon=\\\"d-icon-exclamation_triangle\\\">\\n        <rx-validation-issues\\n          [definitionTypeDisplayName]=\\\"'com.bmc.arsys.rx.client.view-definition.label' | translate\\\"\\n          (correctIssue)=\\\"onCorrectIssue($event)\\\"\\n          [issueSections]=\\\"validationIssues$ | async\\\"\\n        ></rx-validation-issues>\\n      </adapt-tab-panel>\\n    </adapt-tabset>\\n  </rx-blade>\\n</div>\\n\\n<adapt-code-viewer\\n  *ngIf=\\\"!isDesignMode\\\"\\n  [code]=\\\"viewDesignerFacade.viewDefinition$ | async | json\\\"\\n  [lang]=\\\"'javascript'\\\"\\n  [hasToolbar]=\\\"false\\\"\\n  [theme]=\\\"'light'\\\"\\n  class=\\\"full-size\\\"\\n>\\n</adapt-code-viewer>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}:host{display:flex;flex-direction:column;height:100%;width:100%}.rx-component-view-designer{display:flex;flex-grow:1;height:calc(100% - 50px);overflow:hidden}.rx-view-designer-container{display:flex;flex-direction:column;flex-grow:1;overflow:auto;padding:2.2rem 1rem 1rem}:host ::ng-deep .has-validation-warning:not(.has-validation-errors) .nav-link .d-icon-exclamation_triangle{color:#f1b521}:host ::ng-deep .has-validation-errors .nav-link .d-icon-exclamation_triangle{color:#f83200}:host ::ng-deep adapt-tabset .nav-tabs .nav-link-icon{margin-right:0}\\n\"], components: [{ type: i3$1.RxDesignerHeaderComponent, selector: \"rx-designer-header\", inputs: [\"bundleName\", \"breadcrumbItems\", \"isDesignMode\", \"isPreviewAvailable\", \"isSaveButtonDisabled\"], outputs: [\"breadcrumbSelected\", \"toggleDesignMode\", \"showPreview\", \"save\", \"closeDesigner\"] }, { type: i5$1.RxBladeComponent, selector: \"rx-blade\", inputs: [\"title\", \"isExpanded\", \"dockTo\"], outputs: [\"toggle\"] }, { type: ViewDesignerPaletteComponent, selector: \"rx-view-designer-palette\", inputs: [\"components\", \"allowedDropListIds\"] }, { type: i3$3.AdaptAlertComponent, selector: \"adapt-alert\", inputs: [\"config\"], outputs: [\"onClose\"] }, { type: ViewDesignerCanvasComponent, selector: \"rx-view-designer-canvas\", inputs: [\"layout\", \"isReadOnly\"], outputs: [\"componentSelect\", \"componentDrop\", \"componentRemove\", \"beforeComponentDropInRoot\"] }, { type: i3$3.AdaptTabsComponent, selector: \"adapt-tabset\", inputs: [\"showTabToolbar\", \"customCssTabContent\", \"fullHeight\", \"texts\", \"enableDnD\", \"customClassTabList\", \"allow-tabs-adding\", \"id\", \"testID\", \"dropdown-title\", \"fadeColor\", \"carouselMode\", \"justify\", \"type\", \"tab-active\"], outputs: [\"tab-index-closed\", \"tab-active-changed\", \"add-tab-clicked\", \"tabClicked\", \"tabDropped\"], exportAs: [\"adaptTabset\"] }, { type: i3$3.AdaptTabsPanelComponent, selector: \"adapt-tab-panel, div[tab-panel]\", inputs: [\"isActive\", \"badge-type\", \"animateBadge\", \"showBadgeAlert\", \"badgeAlertVariant\", \"badgeCustomClass\", \"adapt-tab-title\", \"disabled\", \"isHidden\", \"icon\", \"subtext\", \"icon-right\", \"icon-close\", \"aria-label\", \"aria-labelledby\", \"kebabMenu\", \"id\", \"renderContentWhenInactive\", \"badge\"] }, { type: i3$1.FormBuilderComponent, selector: \"rx-form-builder\", inputs: [\"config\", \"model\", \"guid\", \"isReadOnly\", \"focusEditor$\"], outputs: [\"modelChange\", \"editorEvent\", \"formInitialized\"] }, { type: i5$1.RxValidationIssuesComponent, selector: \"rx-validation-issues\", inputs: [\"definitionTypeDisplayName\", \"issueSections\"], outputs: [\"correctIssue\"] }, { type: i3$3.AdaptCodeViewerComponent, selector: \"adapt-code-viewer\", inputs: [\"code\", \"theme\", \"lang\", \"texts\", \"hasToolbar\"] }], directives: [{ type: i4.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3$1.InspectorDirective, selector: \"[rxInspector]\", inputs: [\"designerItemModel\"] }], pipes: { \"async\": i4.AsyncPipe, \"translate\": i6.TranslatePipe, \"json\": i4.JsonPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-view-designer',\n                    templateUrl: './view-designer.component.html',\n                    styleUrls: ['./view-designer.component.scss'],\n                    providers: [RxViewModel]\n                }]\n        }], ctorParameters: function () { return [{ type: ViewDesignerFacade }, { type: i3.RxNotificationService }, { type: i3$1.RxDefinitionPickerCacheService }, { type: i4$2.RxNamedListDefinitionCacheService }, { type: i5$1.RxModalService }, { type: i6.TranslateService }, { type: i5$1.RxUtilityModalsService }, { type: RxViewDesignerHelperService }, { type: i3$1.RxExpressionEditorService }, { type: i5.RxViewDefinitionService }, { type: i3.RxComponentCanDeactivateGuard }, { type: RxViewDefinitionGeneratorService }, { type: RxViewDesignerModels }, { type: i3.RxLogService }, { type: i0.Injector }, { type: i0.Renderer2 }, { type: i11.RxRecordDefinitionCacheService }, { type: i12.RxAssociationDefinitionCacheService }, { type: i13.RxProcessDefinitionCacheService }, { type: i5.RxViewDefinitionCacheService }, { type: i3$1.RxGainsightConfiguratorService }, { type: i3.RxDefinitionNameService }, { type: i3.RxFeatureService }]; }, propDecorators: { configuration: [{\n                type: Input\n            }], viewDefinitionSaved: [{\n                type: Output\n            }], viewDefinitionErrorLoading: [{\n                type: Output\n            }], closeDesigner: [{\n                type: Output\n            }], viewPropertyInspectorElementRef: [{\n                type: ViewChild,\n                args: ['viewPropertyInspector', { read: ElementRef }]\n            }], viewComponentPropertyInspectorElementRef: [{\n                type: ViewChild,\n                args: ['viewComponentPropertyInspector', { read: ElementRef }]\n            }] } });\n\nclass ViewDesignerCanvasModule {\n}\nViewDesignerCanvasModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerCanvasModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nViewDesignerCanvasModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerCanvasModule, declarations: [ViewDesignerCanvasComponent,\n        CanvasItemComponent,\n        CanvasItemContainerComponent,\n        CanvasOutletComponent,\n        CanvasItemColumnComponent], imports: [CommonModule, DragDropModule], exports: [ViewDesignerCanvasComponent, CanvasOutletComponent, CanvasItemComponent, CanvasItemColumnComponent] });\nViewDesignerCanvasModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerCanvasModule, imports: [[CommonModule, DragDropModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerCanvasModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, DragDropModule],\n                    exports: [ViewDesignerCanvasComponent, CanvasOutletComponent, CanvasItemComponent, CanvasItemColumnComponent],\n                    declarations: [\n                        ViewDesignerCanvasComponent,\n                        CanvasItemComponent,\n                        CanvasItemContainerComponent,\n                        CanvasOutletComponent,\n                        CanvasItemColumnComponent\n                    ],\n                    entryComponents: [CanvasItemComponent, CanvasItemContainerComponent, CanvasOutletComponent, CanvasItemColumnComponent]\n                }]\n        }] });\n\nclass DesignerModule {\n}\nDesignerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DesignerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nDesignerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DesignerModule, declarations: [DesignerComponent], imports: [ViewDesignerCanvasModule, CommonModule] });\nDesignerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DesignerModule, imports: [[ViewDesignerCanvasModule, CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: DesignerModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [ViewDesignerCanvasModule, CommonModule],\n                    declarations: [DesignerComponent],\n                    entryComponents: [DesignerComponent]\n                }]\n        }] });\n\nclass RxViewDesignerPaletteModule {\n}\nRxViewDesignerPaletteModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerPaletteModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxViewDesignerPaletteModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerPaletteModule, declarations: [ViewDesignerPaletteComponent], imports: [CommonModule,\n        DragDropModule,\n        ReactiveFormsModule,\n        AdaptAccordionModule,\n        AdaptTextFieldModule,\n        AdaptRxSearchModule], exports: [ViewDesignerPaletteComponent] });\nRxViewDesignerPaletteModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerPaletteModule, imports: [[\n            CommonModule,\n            DragDropModule,\n            ReactiveFormsModule,\n            AdaptAccordionModule,\n            AdaptTextFieldModule,\n            AdaptRxSearchModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerPaletteModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        DragDropModule,\n                        ReactiveFormsModule,\n                        AdaptAccordionModule,\n                        AdaptTextFieldModule,\n                        AdaptRxSearchModule\n                    ],\n                    exports: [ViewDesignerPaletteComponent],\n                    declarations: [ViewDesignerPaletteComponent]\n                }]\n        }] });\n\nclass RuntimeViewParamsModalComponent extends RxModalClass {\n    constructor(activeModalRef, injector) {\n        super(activeModalRef, injector);\n        this.activeModalRef = activeModalRef;\n        this.injector = injector;\n        this.inputParams = {};\n        this.inputParamNames = this.activeModalRef.getData().inputParams;\n    }\n    isDirty() {\n        return values(this.inputParams).some((paramValue) => paramValue);\n    }\n    cancel() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n}\nRuntimeViewParamsModalComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewParamsModalComponent, deps: [{ token: i3$3.ActiveModalRef }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nRuntimeViewParamsModalComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RuntimeViewParamsModalComponent, selector: \"rx-runtime-view-params-modal\", usesInheritance: true, ngImport: i0, template: \"<div class=\\\"modal-body\\\">\\n  <div *ngFor=\\\"let inputParam of inputParamNames; first as isFirst; index as i\\\">\\n    <adapt-rx-textfield\\n      [attr.rx-id]=\\\"'input-param-' + (i + 1)\\\"\\n      [label]=\\\"inputParam\\\"\\n      [autofocus]=\\\"isFirst\\\"\\n      [(ngModel)]=\\\"inputParams[inputParam]\\\"\\n    >\\n    </adapt-rx-textfield>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <adapt-button btn-type=\\\"primary\\\" (click)=\\\"activeModalRef.close(inputParams)\\\" rx-id=\\\"ok-button\\\">\\n    OK\\n  </adapt-button>\\n\\n  <adapt-button btn-type=\\\"secondary\\\" (click)=\\\"cancel()\\\" rx-id=\\\"cancel-button\\\"> Cancel </adapt-button>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.modal-body{padding:20px}.modal-footer{display:flex;justify-content:flex-end;border-top:1px solid #d6d7d8;padding:10px 15px}.modal-footer adapt-button{margin-right:5px}\\n\"], components: [{ type: i3$3.AdaptRxTextfieldComponent, selector: \"adapt-rx-textfield\", inputs: [\"prepend\", \"append\", \"isPassword\", \"autocomplete\", \"placeholder\", \"size\", \"fieldTagText\", \"fieldTagType\", \"showValidState\", \"showValidStateIcon\", \"showInvalidStateIcon\", \"validStateMessage\", \"disabledStyleForReadonlyState\"] }, { type: i3$3.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }], directives: [{ type: i4.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i3$2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i3$2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewParamsModalComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-runtime-view-params-modal',\n                    templateUrl: './runtime-view-params-modal.component.html',\n                    styleUrls: ['./runtime-view-params-modal.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: i3$3.ActiveModalRef }, { type: i0.Injector }]; } });\n\nclass RuntimeViewParamsModalModule {\n}\nRuntimeViewParamsModalModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewParamsModalModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRuntimeViewParamsModalModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewParamsModalModule, declarations: [RuntimeViewParamsModalComponent], imports: [CommonModule, FormsModule, AdaptButtonModule, AdaptModalModule, AdaptRxTextfieldModule], exports: [RuntimeViewParamsModalComponent] });\nRuntimeViewParamsModalModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewParamsModalModule, imports: [[CommonModule, FormsModule, AdaptButtonModule, AdaptModalModule, AdaptRxTextfieldModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewParamsModalModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, FormsModule, AdaptButtonModule, AdaptModalModule, AdaptRxTextfieldModule],\n                    exports: [RuntimeViewParamsModalComponent],\n                    declarations: [RuntimeViewParamsModalComponent],\n                    entryComponents: [RuntimeViewParamsModalComponent]\n                }]\n        }] });\n\nclass RxViewActionExpressionConfigurator extends RxViewExpressionConfigurator {\n    constructor(injector, actionType, actionGuid) {\n        super(injector);\n        this.injector = injector;\n        this.actionType = actionType;\n        this.actionGuid = actionGuid;\n        this.rxViewDataDictionaryService = this.injector.get(RxViewDataDictionaryService);\n        this.rxDefaultExpressionEvaluatorService = this.injector.get(RxDefaultExpressionEvaluatorService);\n        this.rxViewActionRegistryService = this.injector.get(RxViewActionRegistryService);\n        this.commonDataDictionary$ = this.rxViewDataDictionaryService.getActionDataDictionary(this.actionGuid);\n    }\n    getExpressionEvaluator(propertyName) {\n        const propertyDescriptor = this.rxViewActionRegistryService\n            .get(this.actionType)\n            .parameters.find((param) => param.name === propertyName);\n        return get(propertyDescriptor, 'evaluatorService', this.rxDefaultExpressionEvaluatorService);\n    }\n}\n\nclass NamedListFilterExpressionConfigurator extends RxViewExpressionConfigurator {\n    constructor(fieldDefinition, injector) {\n        super(injector);\n        this.fieldDefinition = fieldDefinition;\n        this.injector = injector;\n        this.rxNamedListDefinitionCacheService = this.injector.get(RxNamedListDefinitionCacheService);\n        this.rxRecordDefinitionCacheService = this.injector.get(RxRecordDefinitionCacheService);\n        this.rxViewDataDictionaryService = this.injector.get(RxViewDataDictionaryService);\n        this.rxDefaultExpressionEvaluatorService = this.injector.get(RxDefaultExpressionEvaluatorService);\n        this.commonDataDictionary$ = this.rxNamedListDefinitionCacheService\n            .getNamedListDefinition(this.fieldDefinition.namedListDefinition)\n            .pipe(switchMap((namedListDefinition) => this.rxRecordDefinitionCacheService.getRecordDefinition(namedListDefinition.recordDefinitionName)), switchMap((recordDefinition) => this.getNamedListBranch(recordDefinition)), withLatestFrom(this.rxViewDataDictionaryService.getCommonDataDictionary()), map$1(([namedListBranch, dataDictionary]) => [namedListBranch, ...dataDictionary]));\n    }\n    getExpressionEvaluator() {\n        return this.rxDefaultExpressionEvaluatorService;\n    }\n    getDefaultConfig() {\n        return Object.assign(Object.assign({}, super.getDefaultConfig()), { operators: ExpressionOperatorRowsByGroup.get(ExpressionOperatorGroup.AllServer) });\n    }\n    getNamedListBranch(recordDefinition) {\n        const namedListDictionaryNodes = chain(recordDefinition.fieldDefinitions)\n            .reject({ resourceType: RX_RECORD_DEFINITION.resourceTypes.attachment })\n            .map((fieldDefinition) => ({\n            label: fieldDefinition.name,\n            expression: `'${fieldDefinition.id}'`,\n            icon: 'd-icon-file_o_gear',\n            children: fieldDefinition.resourceType === RX_RECORD_DEFINITION.resourceTypes.selection\n                ? [\n                    {\n                        label: 'Options',\n                        children: map(fieldDefinition.optionNamesById, (optionName, optionValue) => ({\n                            label: optionName,\n                            expression: optionValue,\n                            icon: 'd-icon-file_o_gear'\n                        }))\n                    }\n                ]\n                : []\n        }))\n            .sortBy('label')\n            .value();\n        return of({\n            label: 'Filter by',\n            expanded: true,\n            children: namedListDictionaryNodes\n        });\n    }\n}\n\nclass ActionSandbox {\n    constructor(injector, descriptor, guid, initialProps) {\n        this.injector = injector;\n        this.descriptor = descriptor;\n        this.guid = guid;\n        this.initialProps = initialProps;\n        this.destroyedSubject = new Subject();\n        this.viewDesignerFacade = this.injector.get(ViewDesignerFacade);\n        this.actionPropertyEditorConfigSubject = new BehaviorSubject([]);\n        this.actionPropertiesSubject = new BehaviorSubject(this.initialProps);\n        this.children = [];\n        this.children$ = this.viewDesignerFacade.getChildComponents(this.guid);\n        this.destroyed$ = this.destroyedSubject.asObservable();\n        this.actionPropertyEditorConfig$ = this.actionPropertyEditorConfigSubject.pipe(takeUntil(this.destroyed$));\n        this.actionProperties$ = this.actionPropertiesSubject.pipe(map$1(() => omit(this.getActionProperties(), ['name'])), distinctUntilChanged(isEqual), takeUntil(this.destroyed$));\n        this.children$.pipe(first(), takeUntil(this.destroyed$)).subscribe((children) => {\n            this.setChildren(children);\n        });\n    }\n    updateActionProperties(props) {\n        this.actionPropertiesSubject.next(Object.assign(Object.assign({}, this.actionPropertiesSubject.getValue()), props));\n    }\n    setActionProperties(props) {\n        const { name, index } = this.actionPropertiesSubject.getValue();\n        this.actionPropertiesSubject.next(Object.assign(Object.assign({ $condition$: null }, props), { name,\n            index }));\n    }\n    getActionProperties() {\n        return this.actionPropertiesSubject.getValue();\n    }\n    getActionPropertyValue(propertyName) {\n        return this.actionPropertiesSubject.getValue()[propertyName];\n    }\n    setActionPropertyEditorConfig(actionEditorConfig) {\n        const expressionConfigurator = new RxViewActionExpressionConfigurator(this.injector, this.descriptor.name, this.guid);\n        actionEditorConfig = [\n            {\n                name: '$condition$',\n                component: ExpressionFormControlComponent,\n                options: {\n                    label: 'Condition',\n                    tooltip: new Tooltip('The action will execute if the condition is true, or if no condition is defined.'),\n                    dataDictionary$: expressionConfigurator.getDataDictionary(),\n                    operators: expressionConfigurator.getOperators()\n                }\n            },\n            ...actionEditorConfig\n        ];\n        this.actionPropertyEditorConfigSubject.next(actionEditorConfig);\n    }\n    getActionPropertyEditorConfig() {\n        return this.actionPropertyEditorConfigSubject.getValue();\n    }\n    setActionOutputDataDictionary(dataDictionary) {\n        // check why index is coming as a string for existing actions\n        this.viewDesignerFacade.setActionDataDictionaryBranch(this.guid, this.getActionPropertyValue('index'), this.descriptor.label, dataDictionary);\n    }\n    setChildren(data) {\n        this.children = data;\n    }\n    getChildren() {\n        return this.children;\n    }\n    onDestroy() {\n        this.destroyedSubject.next();\n        this.destroyedSubject.complete();\n    }\n}\n\nclass RxViewDesignerActionModel {\n    constructor(injector, sandbox) {\n        this.injector = injector;\n        this.sandbox = sandbox;\n        this.guid = this.sandbox.guid;\n        this.expressionConfigurator = new RxViewActionExpressionConfigurator(this.injector, this.sandbox.descriptor.name, this.sandbox.guid);\n    }\n    getExpressionConfigurator() {\n        return this.expressionConfigurator;\n    }\n    getPropertiesByName() {\n        return this.sandbox.getActionProperties();\n    }\n    getChildren() {\n        return this.sandbox.getChildren();\n    }\n    getOutputExpressionForPropertyPath(propertyPath) {\n        return `\\${view.components.${this.guid}.output.${propertyPath}}`;\n    }\n}\n\nclass RxViewDesignerDefaultActionModel extends RxViewDesignerActionModel {\n    constructor(injector, sandbox) {\n        super(injector, sandbox);\n        this.injector = injector;\n        this.sandbox = sandbox;\n        this.defaultProps = this.sandbox.descriptor.parameters.reduce((initialProps, param) => {\n            initialProps[param.name] = param.defaultValue;\n            return initialProps;\n        }, {});\n        this.sandbox.actionProperties$.pipe(take(1)).subscribe((props) => {\n            this.sandbox.updateActionProperties(Object.assign(Object.assign({}, this.defaultProps), props));\n            this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig());\n        });\n    }\n    getActionEditorConfig() {\n        return this.sandbox.descriptor.parameters\n            .filter((param) => param.editor)\n            .map((param) => ({\n            name: param.name,\n            component: param.editor,\n            options: Object.assign({ label: param.label, isRequired: param.isRequired, tooltip: param.tooltip }, (param.editor === ExpressionFormControlComponent\n                ? {\n                    dataDictionary$: this.expressionConfigurator.getDataDictionary(param.name),\n                    operators: this.expressionConfigurator.getOperators(param.name)\n                }\n                : param.editorOptions || {}))\n        }));\n    }\n}\n\nclass RxActionListModelManagerService {\n    constructor(injector) {\n        this.injector = injector;\n        this.models = new Map();\n    }\n    create(descriptor, guid, initialProps) {\n        var _a;\n        const sandbox = new ActionSandbox(this.injector, descriptor, guid, isFunction((_a = descriptor === null || descriptor === void 0 ? void 0 : descriptor.designModel) === null || _a === void 0 ? void 0 : _a.getInitialProperties)\n            ? Object.assign(Object.assign({}, descriptor.designModel.getInitialProperties(omit(initialProps, ['index', 'name']))), { name: initialProps.name, index: initialProps.index }) : initialProps);\n        const Model = descriptor.designModel || RxViewDesignerDefaultActionModel;\n        const actionModel = new Model(this.injector, sandbox);\n        this.models.set(guid, actionModel);\n        return actionModel;\n    }\n    remove(guid) {\n        this.models.delete(guid);\n    }\n    get(guid) {\n        return this.models.get(guid);\n    }\n    ngOnDestroy() {\n        this.models.forEach((model) => model.sandbox.onDestroy());\n        this.models.clear();\n    }\n}\nRxActionListModelManagerService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxActionListModelManagerService, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\nRxActionListModelManagerService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxActionListModelManagerService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxActionListModelManagerService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nclass ActionListEditorDialogComponent extends RxModalClass {\n    constructor(rxViewActionRegistryService, rxStringService, activeModalRef, viewDesignerFacade, rxActionListModelManagerService, rxExpressionEditorService, rxGuidService, translateService, injector) {\n        super(activeModalRef, injector);\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxStringService = rxStringService;\n        this.activeModalRef = activeModalRef;\n        this.viewDesignerFacade = viewDesignerFacade;\n        this.rxActionListModelManagerService = rxActionListModelManagerService;\n        this.rxExpressionEditorService = rxExpressionEditorService;\n        this.rxGuidService = rxGuidService;\n        this.translateService = translateService;\n        this.injector = injector;\n        this.availableActionDescriptors$ = this.rxViewActionRegistryService.getLicensedActions();\n        this.selectedActions = [];\n        this.config = this.activeModalRef.getData();\n        this.treeWrap = TreeWrap.WrapAll;\n        this.destroyed$ = new ReplaySubject(1);\n        this.isEditorDirtySubject = new BehaviorSubject(false);\n        this.isSaveButtonDisabled$ = this.isEditorDirtySubject.asObservable().pipe(map$1((isDirty) => !isDirty));\n        this.availableActionTreeNodes$ = this.availableActionDescriptors$.pipe(map$1((actions) => actions\n            .filter((action) => !action.hidden)\n            .sort((a, b) => a.label.localeCompare(b.label))\n            .map((action) => ({\n            data: action,\n            label: action.label\n        }))));\n        this.actionLabelsMap$ = this.availableActionDescriptors$.pipe(map$1((actions) => transform(actions, (result, action) => {\n            result[action.name] = action.label;\n        }, {})));\n        this.config.selectedActions = map(this.config.selectedActions, (action) => (Object.assign(Object.assign({}, action), { data: Object.assign(Object.assign({}, action.data), { index: toNumber(action.data.index) }) })));\n        this.selectedActions = flow((actions) => sortBy(actions, (action) => action.data.index), (actions) => map(actions, (action) => {\n            const descriptor = this.rxViewActionRegistryService.get(action.data.name);\n            this.viewDesignerFacade.setActionDataDictionaryBranch(action.guid, action.data.index, action.data.name);\n            const model = this.rxActionListModelManagerService.create(descriptor, action.guid, action.data);\n            return {\n                isOpen: Boolean(this.config.actionToEdit) && action.guid === this.config.actionToEdit.guid,\n                model,\n                config$: model.sandbox.actionPropertyEditorConfig$.pipe(map$1((config) => [{ controls: config }])),\n                name: descriptor.name\n            };\n        }))(this.config.selectedActions);\n    }\n    isDirty() {\n        return this.isEditorDirtySubject.getValue();\n    }\n    addAction(actionDescriptor, index = this.selectedActions.length) {\n        const guid = this.rxGuidService.generate();\n        this.viewDesignerFacade.setActionDataDictionaryBranch(guid, index, actionDescriptor.name);\n        const model = this.rxActionListModelManagerService.create(actionDescriptor, guid, {\n            name: actionDescriptor.name,\n            index\n        });\n        this.selectedActions.splice(index, 0, {\n            isOpen: true,\n            model,\n            config$: model.sandbox.actionPropertyEditorConfig$.pipe(map$1((config) => [{ controls: config }])),\n            name: actionDescriptor.name\n        });\n        this.updateIndexProp();\n        this.markEditorAsDirty();\n        setTimeout(() => {\n            this.accordionTabEls.toArray()[index].nativeElement.scrollIntoView({\n                block: 'nearest'\n            });\n        });\n    }\n    onSave() {\n        const result = this.selectedActions.map((action) => {\n            var _a, _b, _c;\n            return ({\n                guid: action.model.guid,\n                data: action.model.getPropertiesByName(),\n                children: (_c = (_b = (_a = action.model).getChildren) === null || _b === void 0 ? void 0 : _b.call(_a)) !== null && _c !== void 0 ? _c : null\n            });\n        });\n        this.activeModalRef.close(result);\n    }\n    removeAction(action) {\n        pull(this.selectedActions, action);\n        this.rxActionListModelManagerService.remove(action.model.guid);\n        this.viewDesignerFacade.removeActionDataDictionaryBranch(action.model.guid);\n        this.markEditorAsDirty();\n    }\n    moveAction(fromIndex, toIndex) {\n        moveItemInArray(this.selectedActions, fromIndex, toIndex);\n        this.updateIndexProp();\n        this.markEditorAsDirty();\n    }\n    toggleOpen(expandAll) {\n        this.selectedActions.forEach((action) => (action.isOpen = expandAll));\n    }\n    onSelectedActionsListDrop(event) {\n        var _a;\n        const data = event.item.data;\n        if ((_a = data.model) === null || _a === void 0 ? void 0 : _a.guid) {\n            this.moveAction(event.previousIndex, event.currentIndex);\n        }\n        else {\n            this.addAction(data, event.currentIndex);\n        }\n    }\n    openExpressionEditor(model, propertyPath, propertyLabel, isReadOnly = false, element) {\n        this.rxExpressionEditorService\n            .openEditor({\n            property: {\n                path: propertyPath,\n                value: get(model.sandbox.getActionProperties(), propertyPath),\n                label: propertyLabel\n            },\n            isReadOnly,\n            expressionConfigurator: model.getExpressionConfigurator(),\n            legend: [\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.function.label'),\n                    icon: 'd-icon-mathematical_function'\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.keyword.label'),\n                    icon: 'd-icon-dollar'\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.view-component.label'),\n                    icon: 'd-icon-file_o'\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.view-component-property.label'),\n                    icon: 'd-icon-file_o_gear'\n                },\n                {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.legend.view-input-parameter.label'),\n                    icon: 'd-icon-arrow_right_square_input'\n                }\n            ],\n            expressionPropertyNavigator: {\n                getProperties: () => {\n                    const properties = Array.from(element.querySelectorAll('rx-expression-form-control')).map((controlElement) => {\n                        const path = controlElement.getAttribute('property-path');\n                        return {\n                            path,\n                            value: get(model.sandbox.getActionProperties(), path),\n                            label: controlElement.getAttribute('property-label')\n                        };\n                    });\n                    return of(properties);\n                }\n            }\n        })\n            .pipe(map$1(({ path, value }) => {\n            const props = model.sandbox.getActionProperties();\n            const headPropertyName = path in props ? path : toPath(path)[0];\n            return set({ [headPropertyName]: cloneDeep(props[headPropertyName]) }, path, value);\n        }))\n            .subscribe((props) => {\n            model.sandbox.updateActionProperties(props);\n            this.markEditorAsDirty();\n        });\n    }\n    onEvent(event, model, element) {\n        if (event.type === RX_EXPRESSION_EDITOR.events.openExpressionEditor) {\n            this.openExpressionEditor(model, event.payload.propertyPath, event.payload.propertyLabel, event.payload.isReadOnly, element);\n        }\n    }\n    updateIndexProp() {\n        this.selectedActions.forEach((action, index) => {\n            action.model.sandbox.updateActionProperties({\n                index\n            });\n        });\n        this.viewDesignerFacade.updateActionDataDictionaryBranchOrder(this.selectedActions.reduce((result, action, index) => {\n            result[action.model.guid] = index;\n            return result;\n        }, {}));\n    }\n    markEditorAsDirty() {\n        this.isEditorDirtySubject.next(true);\n    }\n    ngAfterViewInit() {\n        const openActionIndex = findIndex(this.selectedActions, 'isOpen');\n        if (openActionIndex !== -1) {\n            this.accordionTabEls.toArray()[openActionIndex].nativeElement.scrollIntoView({\n                block: 'nearest'\n            });\n        }\n    }\n    ngOnDestroy() {\n        this.isEditorDirtySubject.complete();\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n        this.viewDesignerFacade.removeAllActionDataDictionaryBranches();\n    }\n    cancel() {\n        this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n    }\n}\nActionListEditorDialogComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListEditorDialogComponent, deps: [{ token: i5.RxViewActionRegistryService }, { token: i2$1.RxStringService }, { token: i3$3.ActiveModalRef }, { token: ViewDesignerFacade }, { token: RxActionListModelManagerService }, { token: i3$1.RxExpressionEditorService }, { token: i2$1.RxGuidService }, { token: i6.TranslateService }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nActionListEditorDialogComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ActionListEditorDialogComponent, selector: \"rx-action-list-editor-dialog\", providers: [RxActionListModelManagerService], viewQueries: [{ propertyName: \"accordionTabEls\", predicate: AdaptAccordionTabComponent, descendants: true, read: ElementRef }], usesInheritance: true, ngImport: i0, template: \"<div class=\\\"designer-modal-body modal-body d-flex mh-100\\\">\\n  <div class=\\\"row flex-grow-1 w-100\\\">\\n    <div *ngIf=\\\"!config.isReadOnly\\\" class=\\\"col-4 border-right d-flex flex-column mh-100\\\">\\n      <div class=\\\"d-flex align-items-start justify-content-between\\\">\\n        <h4 class=\\\"mt-2\\\">\\n          {{ 'com.bmc.arsys.rx.client.view-components.action-list.available-actions.title' | translate }}\\n        </h4>\\n      </div>\\n\\n      <div class=\\\"rx-card card flex-grow-1 mt-2\\\">\\n        <div class=\\\"card-block\\\" *ngIf=\\\"availableActionTreeNodes$ | async as availableActionTreeNodes\\\">\\n          <div\\n            *ngIf=\\\"availableActionTreeNodes.length; else adaptTreeEmptyStateTemplate\\\"\\n            cdkDropList\\n            cdkDropListSortingDisabled\\n            [cdkDropListConnectedTo]=\\\"'selected-action-list'\\\"\\n          >\\n            <adapt-tree\\n              [value]=\\\"availableActionTreeNodes\\\"\\n              filter=\\\"true\\\"\\n              [wrap]=\\\"treeWrap\\\"\\n            >\\n              <ng-template let-action adaptTreeNodeTemplate>\\n                <div\\n                  *ngIf=\\\"action.data\\\"\\n                  class=\\\"rx-tree-draggable-node\\\"\\n                  cdkDrag\\n                  [cdkDragData]=\\\"action.data\\\"\\n                >\\n                  <div (dblclick)=\\\"addAction(action.data)\\\">\\n                    <button\\n                      type=\\\"button\\\"\\n                      class=\\\"rx-button-unstyled d-icon-plus_circle\\\"\\n                      (click)=\\\"addAction(action.data)\\\"\\n                    ></button>\\n\\n                    <span class=\\\"rx-tree-node-label ml-3\\\">{{ action.data.label }}</span>\\n                  </div>\\n                </div>\\n              </ng-template>\\n            </adapt-tree>\\n          </div>\\n\\n          <ng-template #adaptTreeEmptyStateTemplate>\\n            <div class=\\\"d-flex justify-content-center h-100 align-items-center mt-2\\\">\\n              <adapt-empty-state\\n                class=\\\"w-100\\\"\\n                label=\\\"{{ 'com.bmc.arsys.rx.client.view-components.action-list.available-actions.empty-state.message' | translate }}\\\"\\n                type=\\\"search\\\"\\n              ></adapt-empty-state>\\n            </div>\\n          </ng-template>         \\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"d-flex flex-column mh-100 {{ config.isReadOnly ? 'col' : 'col-8' }}\\\">\\n      <div class=\\\"d-flex align-items-start justify-content-between\\\">\\n        <div class=\\\"d-flex align-items-center\\\">\\n          <h4 class=\\\"mt-2\\\">\\n            {{ 'com.bmc.arsys.rx.client.view-components.action-list.selected-actions.title' | translate }}\\n          </h4>\\n\\n          <adapt-icon\\n            class=\\\"ml-2\\\"\\n            name=\\\"question_circle_o\\\"\\n            adaptPopover=\\\"{{ 'com.bmc.arsys.rx.client.view-components.action-list.selected-actions.tooltip' | translate }}\\\"\\n            appendToBody=\\\"true\\\"\\n          >\\n          </adapt-icon>\\n        </div>\\n\\n        <div *ngIf=\\\"selectedActions.length\\\" class=\\\"btn-group\\\">\\n          <button\\n            adapt-button\\n            btn-type=\\\"tertiary\\\"\\n            type=\\\"button\\\"\\n            rx-id=\\\"expand-all-button\\\"\\n            (click)=\\\"toggleOpen(true)\\\"\\n          >\\n            {{ 'com.bmc.arsys.rx.client.common.expand-all.label' | translate }}\\n          </button>\\n\\n          <button\\n            adapt-button\\n            btn-type=\\\"tertiary\\\"\\n            type=\\\"button\\\"\\n            rx-id=\\\"collapse-all-button\\\"\\n            (click)=\\\"toggleOpen(false)\\\"\\n          >\\n            {{ 'com.bmc.arsys.rx.client.common.collapse-all.label' | translate }}\\n          </button>\\n        </div>\\n      </div>\\n\\n      <div\\n        id=\\\"selected-action-list\\\"\\n        class=\\\"designer-modal-accordion-wrapper\\\"\\n        cdkDropList\\n        (cdkDropListDropped)=\\\"onSelectedActionsListDrop($event)\\\"\\n      >\\n        <adapt-accordion [multiselect]=\\\"true\\\">\\n          <div\\n            *ngFor=\\\"\\n              let action of selectedActions;\\n              let index = index;\\n              let first = first;\\n              let last = last;\\n            \\\"\\n            class=\\\"designer-modal-accordion-content\\\"\\n            cdkDrag\\n            cdkDragLockAxis=\\\"y\\\"\\n            [cdkDragData]=\\\"action\\\"\\n            [cdkDragDisabled]=\\\"config.isReadOnly\\\"\\n            #container\\n          >\\n            <div *ngIf=\\\"!config.isReadOnly\\\" class=\\\"designer-modal-drag-handle d-icon-left-dots\\\" cdkDragHandle></div>\\n\\n            <adapt-accordion-tab\\n              class=\\\"d-block\\\"\\n              [isOpen]=\\\"action.isOpen\\\"\\n              (open)=\\\"action.isOpen = true\\\"\\n              (close)=\\\"action.isOpen = false\\\"\\n            >\\n              <div class=\\\"card-title-text w-100\\\">\\n                <div class=\\\"designer-modal-card-title-content\\\">\\n                  <div class=\\\"left-header-block\\\" [class.pl-0]=\\\"config.isReadOnly\\\">\\n                    <div *ngIf=\\\"actionLabelsMap$ | async as actionLabelsMap\\\" class=\\\"rx-ellipsis\\\" [title]=\\\"actionLabelsMap[action.name]\\\"\\n                      rx-id=\\\"card-title\\\">\\n                      {{ actionLabelsMap[action.name] }}\\n                    </div>\\n                  </div>\\n\\n                  <div *ngIf=\\\"!config.isReadOnly\\\" class=\\\"right-header-block\\\">\\n                    <div class=\\\"designer-modal-card-title-index-buttons\\\">\\n                      <button\\n                        class=\\\"d-icon-left-triangle_down rx-button-unstyled\\\"\\n                        type=\\\"button\\\"\\n                        [disabled]=\\\"last\\\"\\n                        (click)=\\\"$event.stopPropagation(); moveAction(index, index + 1)\\\"\\n                        rx-id=\\\"move-down-button\\\"\\n                      ></button>\\n\\n                      <button\\n                        class=\\\"d-icon-left-triangle_up rx-button-unstyled\\\"\\n                        type=\\\"button\\\"\\n                        [disabled]=\\\"first\\\"\\n                        (click)=\\\"$event.stopPropagation(); moveAction(index, index - 1)\\\"\\n                        rx-id=\\\"move-up-button\\\"\\n                      ></button>\\n                    </div>\\n\\n                    <button\\n                      class=\\\"d-icon-left-cross_adapt p-1 pr-4 ml-3\\\"\\n                      adapt-button\\n                      size=\\\"small\\\"\\n                      type=\\\"button\\\"\\n                      (click)=\\\"$event.stopPropagation(); removeAction(action)\\\"\\n                      rx-id=\\\"remove-button\\\"\\n                    >\\n                      {{ 'com.bmc.arsys.rx.client.common.remove.label' | translate }}\\n                    </button>\\n                  </div>\\n                </div>\\n              </div>\\n\\n              <rx-form-builder\\n                class=\\\"d-block\\\"\\n                [config]=\\\"action.config$ | async\\\"\\n                [model]=\\\"action.model.sandbox.actionProperties$ | async\\\"\\n                (modelChange)=\\\"action.model.sandbox.updateActionProperties($event); markEditorAsDirty()\\\"\\n                (editorEvent)=\\\"onEvent($event, action.model, container)\\\"\\n                [isReadOnly]=\\\"config.isReadOnly\\\"\\n              ></rx-form-builder>\\n            </adapt-accordion-tab>\\n          </div>\\n        </adapt-accordion>\\n      </div>\\n\\n      <div *ngIf=\\\"!selectedActions.length\\\" class=\\\"d-flex justify-content-center h-100 align-items-center mt-2\\\">\\n        <adapt-empty-state\\n          class=\\\"w-100\\\"\\n          label=\\\"{{ 'com.bmc.arsys.rx.client.view-components.action-list.selected-actions.empty-state.message' | translate }}\\\"\\n          type=\\\"config\\\"\\n        ></adapt-empty-state>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n  <button\\n    *ngIf=\\\"!config.isReadOnly\\\"\\n    adapt-button\\n    btn-type=\\\"primary\\\"\\n    type=\\\"button\\\"\\n    rx-id=\\\"save-button\\\"\\n    [disabled]=\\\"isSaveButtonDisabled$ | async\\\"\\n    (click)=\\\"onSave()\\\"\\n  >\\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\\n  </button>\\n\\n  <button adapt-button btn-type=\\\"secondary\\\" type=\\\"button\\\" rx-id=\\\"cancel-button\\\" (click)=\\\"cancel()\\\">\\n    {{ config.isReadOnly ? ('com.bmc.arsys.rx.client.common.close.label' | translate) :\\n    ('com.bmc.arsys.rx.client.common.cancel.label' | translate) }}\\n  </button>\\n</div>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.designer-modal-body{height:645px;min-height:calc(100% - 61px)!important}.designer-modal-accordion-wrapper{display:flex;flex-direction:column;height:100%;overflow:auto;padding-top:10px}.designer-modal-accordion-content{position:relative}.designer-modal-accordion-content.cdk-drag-preview{z-index:1200!important}.designer-modal-drag-handle{cursor:move;position:absolute;top:0;left:0;height:46px;padding:14px 10px 14px 14px;z-index:1}.designer-modal-card-title-content{width:100%;display:flex}.designer-modal-card-title-content .left-header-block,.designer-modal-card-title-content .right-header-block{display:flex;align-items:center}.designer-modal-card-title-content .left-header-block{flex-grow:1;min-width:0;font-size:14px;padding-left:22px}.designer-modal-card-sub-title{color:#7c7f81;font-weight:normal}.designer-modal-card-title-index-buttons{display:flex;font-size:19px}.rx-card{overflow:auto}.rx-tree-draggable-node{cursor:pointer}.rx-tree-draggable-node.cdk-drag-preview{z-index:1200!important}.rx-tree-draggable-node.cdk-drag{opacity:1}.rx-tree-node-label{word-break:break-all}rx-form-builder{max-width:400px}:host::ng-deep .a-tree__node_leaf .a-tree__toggle{display:none}\\n\"], components: [{ type: i3$3.AdaptTreeComponent, selector: \"adapt-tree\", inputs: [\"value\", \"filter\", \"texts\", \"filterBtnClearText\", \"filterPlaceholder\", \"testID\", \"lazy\", \"lazyLoading\", \"trim\", \"wrap\", \"selectAllButton\", \"deselectAllButton\", \"treeScrollHeight\", \"adaptRadarDisableEventSending\", \"draggableScope\", \"droppableScope\", \"draggableNodes\", \"droppableNodes\", \"validateDrop\"], outputs: [\"onNodeDrop\", \"lazyLoad\"] }, { type: i3$3.AdaptEmptyStateComponent, selector: \"adapt-empty-state\", inputs: [\"label\", \"type\", \"inverted\"] }, { type: i3$3.AdaptIconComponent, selector: \"adapt-icon\", inputs: [\"name\", \"classList\", \"description\", \"testID\"] }, { type: i3$3.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i3$3.AdaptAccordionComponent, selector: \"adapt-accordion\", inputs: [\"config\", \"multiselect\", \"bordered\"], outputs: [\"openTab\", \"closeTab\"] }, { type: i3$3.AdaptAccordionTabComponent, selector: \"adapt-accordion-tab\", inputs: [\"title\", \"renderContentWhenClosed\", \"customClass\", \"multiline\", \"icon\", \"disabled\", \"isOpen\"], outputs: [\"open\", \"close\"] }, { type: i3$1.FormBuilderComponent, selector: \"rx-form-builder\", inputs: [\"config\", \"model\", \"guid\", \"isReadOnly\", \"focusEditor$\"], outputs: [\"modelChange\", \"editorEvent\", \"formInitialized\"] }], directives: [{ type: i4.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i4$1.CdkDropList, selector: \"[cdkDropList], cdk-drop-list\", inputs: [\"cdkDropListConnectedTo\", \"id\", \"cdkDropListEnterPredicate\", \"cdkDropListSortPredicate\", \"cdkDropListDisabled\", \"cdkDropListSortingDisabled\", \"cdkDropListAutoScrollDisabled\", \"cdkDropListOrientation\", \"cdkDropListLockAxis\", \"cdkDropListData\", \"cdkDropListAutoScrollStep\"], outputs: [\"cdkDropListDropped\", \"cdkDropListEntered\", \"cdkDropListExited\", \"cdkDropListSorted\"], exportAs: [\"cdkDropList\"] }, { type: i3$3.AdaptTreeNodeTemplateDirective, selector: \"[adaptTreeNodeTemplate]\", inputs: [\"adaptTreeNodeTemplate\"] }, { type: i4$1.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragDisabled\", \"cdkDragStartDelay\", \"cdkDragLockAxis\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragBoundary\", \"cdkDragRootElement\", \"cdkDragPreviewContainer\", \"cdkDragData\", \"cdkDragFreeDragPosition\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }, { type: i3$3.AdaptPopoverDirective, selector: \"[adaptPopover]\", inputs: [\"adaptPopover\", \"popoverTitle\", \"placement\", \"fallbackPlacement\", \"triggers\", \"container\", \"appendToBody\", \"closeBtn\", \"popupDelay\", \"disablePopover\", \"popoverClass\", \"autoClose\", \"closeOnOutOfView\", \"maxWidth\", \"minWidth\"], outputs: [\"shown\", \"hidden\"], exportAs: [\"adaptPopover\"] }, { type: i4.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i4$1.CdkDragHandle, selector: \"[cdkDragHandle]\", inputs: [\"cdkDragHandleDisabled\"] }], pipes: { \"translate\": i6.TranslatePipe, \"async\": i4.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListEditorDialogComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-action-list-editor-dialog',\n                    templateUrl: './action-list-editor-dialog.component.html',\n                    styleUrls: ['./action-list-editor-dialog.component.scss'],\n                    providers: [RxActionListModelManagerService]\n                }]\n        }], ctorParameters: function () { return [{ type: i5.RxViewActionRegistryService }, { type: i2$1.RxStringService }, { type: i3$3.ActiveModalRef }, { type: ViewDesignerFacade }, { type: RxActionListModelManagerService }, { type: i3$1.RxExpressionEditorService }, { type: i2$1.RxGuidService }, { type: i6.TranslateService }, { type: i0.Injector }]; }, propDecorators: { accordionTabEls: [{\n                type: ViewChildren,\n                args: [AdaptAccordionTabComponent, { read: ElementRef }]\n            }] } });\n\nclass ActionListEditorDialogModule {\n}\nActionListEditorDialogModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListEditorDialogModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nActionListEditorDialogModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListEditorDialogModule, declarations: [ActionListEditorDialogComponent], imports: [CommonModule,\n        AdaptRxSearchModule,\n        AdaptButtonModule,\n        AdaptAccordionModule,\n        DragDropModule,\n        AdaptEmptyStateModule,\n        ExpressionEditorModule,\n        FormsModule,\n        RxFormBuilderModule,\n        AdaptIconModule,\n        AdaptPopoverModule,\n        TranslateModule,\n        AdaptTreeModule], exports: [ActionListEditorDialogComponent] });\nActionListEditorDialogModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListEditorDialogModule, imports: [[\n            CommonModule,\n            AdaptRxSearchModule,\n            AdaptButtonModule,\n            AdaptAccordionModule,\n            DragDropModule,\n            AdaptEmptyStateModule,\n            ExpressionEditorModule,\n            FormsModule,\n            RxFormBuilderModule,\n            AdaptIconModule,\n            AdaptPopoverModule,\n            TranslateModule,\n            AdaptTreeModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListEditorDialogModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [ActionListEditorDialogComponent],\n                    exports: [ActionListEditorDialogComponent],\n                    entryComponents: [ActionListEditorDialogComponent],\n                    imports: [\n                        CommonModule,\n                        AdaptRxSearchModule,\n                        AdaptButtonModule,\n                        AdaptAccordionModule,\n                        DragDropModule,\n                        AdaptEmptyStateModule,\n                        ExpressionEditorModule,\n                        FormsModule,\n                        RxFormBuilderModule,\n                        AdaptIconModule,\n                        AdaptPopoverModule,\n                        TranslateModule,\n                        AdaptTreeModule\n                    ]\n                }]\n        }] });\n\nclass ActionListControlComponent extends ValueAccessor {\n    constructor(rxModalService, rxViewActionRegistryService) {\n        super();\n        this.rxModalService = rxModalService;\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.availableActions$ = this.rxViewActionRegistryService.getLicensedActions();\n        this.selectedActions = [];\n        this.availableActions$.subscribe((actions) => {\n            this.actionLabelsMap = transform(actions, (result, action) => {\n                result[action.name] = action.label;\n            }, {});\n        });\n    }\n    focus(data) {\n        if ((data === null || data === void 0 ? void 0 : data.actionIndex) >= 0) {\n            this.openActionSelector(this.selectedActions.find((item) => item.data.index === data.actionIndex));\n        }\n        else {\n            this.openActionSelector();\n        }\n    }\n    openActionSelector(actionToEdit) {\n        this.rxModalService\n            .openModal({\n            title: 'Edit actions',\n            data: {\n                selectedActions: this.value,\n                actionToEdit,\n                isReadOnly: this.isDisabled\n            },\n            content: ActionListEditorDialogComponent,\n            size: OpenViewActionModalSize.Large,\n            testID: 'edit-actions'\n        })\n            .then((actions) => {\n            this.value = actions;\n        })\n            .catch(noop);\n    }\n    onSetValue() {\n        this.updateSortedActionsList();\n    }\n    onWriteValue(value) {\n        this.updateSortedActionsList();\n    }\n    removeAction(action) {\n        this.value = without(this.value, action);\n    }\n    editAction(action) {\n        this.openActionSelector(action);\n    }\n    updateSortedActionsList() {\n        this.selectedActions = sortBy(this.value, (action) => action.data.index);\n    }\n}\nActionListControlComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListControlComponent, deps: [{ token: i5$1.RxModalService }, { token: i5.RxViewActionRegistryService }], target: i0.ɵɵFactoryTarget.Component });\nActionListControlComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ActionListControlComponent, selector: \"rx-action-list-control\", inputs: { options: \"options\", tooltip: \"tooltip\" }, providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: ActionListControlComponent,\n            multi: true\n        }\n    ], usesInheritance: true, ngImport: i0, template: \"<adapt-button rx-id=\\\"open-modal-button\\\" btn-type=\\\"tertiary\\\" class=\\\"px-0 py-0 pb-1\\\" (click)=\\\"openActionSelector()\\\">\\n  <adapt-icon name=\\\"plus_circle\\\" class=\\\"mr-1\\\"></adapt-icon>\\n  Edit actions\\n</adapt-button>\\n\\n<span *ngIf=\\\"tooltip\\\" class=\\\"align-middle\\\">\\n  <span class=\\\"letter-space\\\"></span>\\n  <adapt-icon [name]=\\\"'question_circle_o'\\\" [adaptPopover]=\\\"tooltip\\\" appendToBody=\\\"true\\\"></adapt-icon>\\n</span>\\n\\n<div rx-id=\\\"columns\\\">\\n  <span *ngIf=\\\"selectedActions.length === 0\\\" class=\\\"text-tertiary\\\">No actions added.</span>\\n</div>\\n\\n<ul class=\\\"list-unstyled mb-0\\\" *ngIf=\\\"selectedActions.length > 0\\\">\\n  <li class=\\\"border px-2 py-1 mb-1 d-flex align-items-center\\\" *ngFor=\\\"let action of selectedActions\\\">\\n    <strong class=\\\"mr-auto\\\">{{ actionLabelsMap[action.data.name] }}</strong>\\n\\n    <button\\n      class=\\\"d-icon-left-pencil p-1\\\"\\n      adapt-button\\n      btn-type=\\\"tertiary\\\"\\n      size=\\\"small\\\"\\n      type=\\\"button\\\"\\n      (click)=\\\"editAction(action)\\\"\\n    ></button>\\n\\n    <button\\n      class=\\\"d-icon-left-cross_adapt p-1\\\"\\n      adapt-button\\n      btn-type=\\\"tertiary\\\"\\n      size=\\\"small\\\"\\n      type=\\\"button\\\"\\n      *ngIf=\\\"!isDisabled\\\"\\n      (click)=\\\"removeAction(action)\\\"\\n    ></button>\\n  </li>\\n</ul>\\n\", components: [{ type: i3$3.AdaptButtonComponent, selector: \"adapt-button, button[adapt-button], a[adapt-button]\", inputs: [\"btn-type\", \"size\", \"disabled\", \"type\", \"tabIndex\"], exportAs: [\"adaptBtn\"] }, { type: i3$3.AdaptIconComponent, selector: \"adapt-icon\", inputs: [\"name\", \"classList\", \"description\", \"testID\"] }], directives: [{ type: i4.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3$3.AdaptPopoverDirective, selector: \"[adaptPopover]\", inputs: [\"adaptPopover\", \"popoverTitle\", \"placement\", \"fallbackPlacement\", \"triggers\", \"container\", \"appendToBody\", \"closeBtn\", \"popupDelay\", \"disablePopover\", \"popoverClass\", \"autoClose\", \"closeOnOutOfView\", \"maxWidth\", \"minWidth\"], outputs: [\"shown\", \"hidden\"], exportAs: [\"adaptPopover\"] }, { type: i4.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListControlComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-action-list-control',\n                    templateUrl: './action-list-control.component.html',\n                    providers: [\n                        {\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: ActionListControlComponent,\n                            multi: true\n                        }\n                    ]\n                }]\n        }], ctorParameters: function () { return [{ type: i5$1.RxModalService }, { type: i5.RxViewActionRegistryService }]; }, propDecorators: { options: [{\n                type: Input\n            }], tooltip: [{\n                type: Input\n            }] } });\n\nclass ActionListControlModule {\n}\nActionListControlModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListControlModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nActionListControlModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListControlModule, declarations: [ActionListControlComponent], imports: [CommonModule, AdaptIconModule, AdaptButtonModule, ActionListEditorDialogModule, AdaptPopoverModule], exports: [ActionListControlComponent] });\nActionListControlModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListControlModule, imports: [[CommonModule, AdaptIconModule, AdaptButtonModule, ActionListEditorDialogModule, AdaptPopoverModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListControlModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [ActionListControlComponent],\n                    exports: [ActionListControlComponent],\n                    entryComponents: [ActionListControlComponent],\n                    imports: [CommonModule, AdaptIconModule, AdaptButtonModule, ActionListEditorDialogModule, AdaptPopoverModule]\n                }]\n        }] });\n\nclass RxComponentPermissionEditorWidgetComponent {\n    constructor(viewDesignerFacade) {\n        this.viewDesignerFacade = viewDesignerFacade;\n        this.permissions = [];\n        this.destroyed$ = new ReplaySubject(1);\n    }\n    ngOnInit() {\n        this.viewDesignerFacade\n            .getComponentPermissions(this.options.componentGuid)\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe((permissions) => {\n            this.permissions = permissions;\n        });\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n    onPermissionsChange(permissions) {\n        this.viewDesignerFacade.updateComponentModel(this.options.componentGuid, {\n            permissions\n        });\n    }\n}\nRxComponentPermissionEditorWidgetComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxComponentPermissionEditorWidgetComponent, deps: [{ token: ViewDesignerFacade }], target: i0.ɵɵFactoryTarget.Component });\nRxComponentPermissionEditorWidgetComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RxComponentPermissionEditorWidgetComponent, selector: \"rx-component-permission-editor-widget\", inputs: { options: \"options\", isDisabled: \"isDisabled\" }, ngImport: i0, template: \"<rx-permission-editor\\n  [options]=\\\"options\\\"\\n  [disabled]=\\\"isDisabled\\\"\\n  [(ngModel)]=\\\"permissions\\\"\\n  (ngModelChange)=\\\"onPermissionsChange($event)\\\"\\n></rx-permission-editor>\\n\", components: [{ type: i3$1.RxPermissionEditorComponent, selector: \"rx-permission-editor\", inputs: [\"options\"] }], directives: [{ type: i3$2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i3$2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxComponentPermissionEditorWidgetComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-component-permission-editor-widget',\n                    templateUrl: './component-permission-editor-widget.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: ViewDesignerFacade }]; }, propDecorators: { options: [{\n                type: Input\n            }], isDisabled: [{\n                type: Input\n            }] } });\n\nclass RxComponentPermissionEditorWidgetModule {\n}\nRxComponentPermissionEditorWidgetModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxComponentPermissionEditorWidgetModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxComponentPermissionEditorWidgetModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxComponentPermissionEditorWidgetModule, declarations: [RxComponentPermissionEditorWidgetComponent], imports: [CommonModule, FormsModule, RxPermissionEditorModule] });\nRxComponentPermissionEditorWidgetModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxComponentPermissionEditorWidgetModule, imports: [[CommonModule, FormsModule, RxPermissionEditorModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxComponentPermissionEditorWidgetModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RxComponentPermissionEditorWidgetComponent],\n                    imports: [CommonModule, FormsModule, RxPermissionEditorModule]\n                }]\n        }] });\n\nclass RxViewCustomizationOptionsModule {\n}\nRxViewCustomizationOptionsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewCustomizationOptionsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRxViewCustomizationOptionsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewCustomizationOptionsModule, declarations: [RxViewCustomizationOptionsComponent], imports: [CommonModule, FormsModule, CustomizationOptionsModule] });\nRxViewCustomizationOptionsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewCustomizationOptionsModule, imports: [[CommonModule, FormsModule, CustomizationOptionsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewCustomizationOptionsModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, FormsModule, CustomizationOptionsModule],\n                    declarations: [RxViewCustomizationOptionsComponent]\n                }]\n        }] });\n\nclass ActionListWidgetComponent extends InspectorWidgetBase {\n    constructor(injector) {\n        super(injector);\n        this.injector = injector;\n        this.actions = [];\n        // @ts-ignore\n        this.modelSandbox = this.designerItemModel.sandbox;\n        this.destroyed$ = new ReplaySubject(1);\n    }\n    ngOnInit() {\n        const actions$ = this.modelSandbox.getChildComponents();\n        actions$.pipe(takeUntil(this.destroyed$)).subscribe((actions) => {\n            this.actions = actions;\n        });\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n    onActionsChange(actions) {\n        this.modelSandbox.setChildren(this.getActionComponentPayloads(actions));\n    }\n    focus(data) {\n        this.actionListControlComponent.focus(data);\n    }\n    getActionComponentPayloads(actionInspectorModels) {\n        return actionInspectorModels.map((model) => (Object.assign({ type: RxViewComponentType.Action }, model)));\n    }\n}\nActionListWidgetComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListWidgetComponent, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });\nActionListWidgetComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ActionListWidgetComponent, selector: \"rx-action-list-widget\", viewQueries: [{ propertyName: \"actionListControlComponent\", first: true, predicate: ActionListControlComponent, descendants: true }], usesInheritance: true, ngImport: i0, template: \"<rx-action-list-control\\n  [disabled]=\\\"modelSandbox.isViewReadOnly$ | async\\\"\\n  [(ngModel)]=\\\"actions\\\"\\n  (ngModelChange)=\\\"onActionsChange($event)\\\"\\n  [tooltip]=\\\"options?.tooltip\\\"\\n></rx-action-list-control>\\n\", components: [{ type: ActionListControlComponent, selector: \"rx-action-list-control\", inputs: [\"options\", \"tooltip\"] }], directives: [{ type: i3$2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i3$2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }], pipes: { \"async\": i4.AsyncPipe } });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListWidgetComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-action-list-widget',\n                    templateUrl: './action-list-widget.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; }, propDecorators: { actionListControlComponent: [{\n                type: ViewChild,\n                args: [ActionListControlComponent]\n            }] } });\n\nclass ActionListWidgetModule {\n}\nActionListWidgetModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListWidgetModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nActionListWidgetModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListWidgetModule, declarations: [ActionListWidgetComponent], imports: [CommonModule, ActionListControlModule, FormsModule] });\nActionListWidgetModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListWidgetModule, imports: [[CommonModule, ActionListControlModule, FormsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ActionListWidgetModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [ActionListWidgetComponent],\n                    imports: [CommonModule, ActionListControlModule, FormsModule]\n                }]\n        }] });\n\nclass ViewDesignerComponentModel {\n    constructor(injector, sandbox) {\n        this.injector = injector;\n        this.sandbox = sandbox;\n    }\n    get expressionConfigurator() {\n        if (!this._expressionConfigurator) {\n            this._expressionConfigurator = new (this.sandbox.descriptor.expressionConfigurator ||\n                RxViewComponentExpressionConfigurator)(this.injector, this.sandbox.guid, this, this.sandbox.descriptor.type);\n        }\n        return this._expressionConfigurator;\n    }\n    getExpressionForProperty(propertyPath) {\n        return `\\${view.components.${this.sandbox.guid}.${propertyPath}}`;\n    }\n}\n\nconst RX_AVAILABLE_ON_DEVICES_OPTIONS = [\n    {\n        id: RxDevice.Desktop,\n        name: 'Desktop'\n    },\n    {\n        id: RxDevice.Tablet,\n        name: 'Tablet'\n    },\n    {\n        id: RxDevice.Mobile,\n        name: 'Mobile'\n    }\n];\nfunction getAvailableOnDevicesInspectorConfig() {\n    return {\n        name: RX_AVAILABLE_ON_DEVICES_PROP_NAME,\n        component: SelectFormControlComponent,\n        options: {\n            label: 'Available on devices',\n            options: RX_AVAILABLE_ON_DEVICES_OPTIONS,\n            multiple: true,\n            required: true,\n            hideSelectAllButton: true,\n            hideDeselectAllButton: true\n        }\n    };\n}\nfunction getHiddenFieldInspectorConfig() {\n    return {\n        name: RX_HIDDEN_PROP_NAME,\n        component: OptionalExpressionInspectorControlComponent,\n        options: {\n            label: 'Hidden'\n        }\n    };\n}\nfunction getDisabledFieldInspectorConfig() {\n    return {\n        name: RX_DISABLED_PROP_NAME,\n        component: OptionalExpressionInspectorControlComponent,\n        options: {\n            label: 'Disabled'\n        }\n    };\n}\nfunction getStylesFieldInspectorConfig(autocompleteValues = []) {\n    return {\n        name: RX_STYLES_PROP_NAME,\n        component: TagsFormControlComponent,\n        options: {\n            label: 'CSS classes',\n            placeholder: 'Add CSS classes',\n            tooltip: new Tooltip('Enter CSS class names to apply to this view component.'),\n            errorCheck: validateCssClassName,\n            autocompleteValues: autocompleteValues\n        }\n    };\n}\nfunction getStandardPropsInspectorConfigs() {\n    return [getHiddenFieldInspectorConfig(), getAvailableOnDevicesInspectorConfig(), getStylesFieldInspectorConfig()];\n}\n\nclass RxViewActionValidatorService {\n    constructor(rxViewActionRegistryService, rxStringService, rxLogService, rxViewExpressionValidatorService) {\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxStringService = rxStringService;\n        this.rxLogService = rxLogService;\n        this.rxViewExpressionValidatorService = rxViewExpressionValidatorService;\n    }\n    validate(actionsDesignData, propertyName) {\n        const issues = flow((actions) => actions.map(({ data }) => {\n            const descriptor = this.rxViewActionRegistryService.get(data.name);\n            return [\n                of(this.validateRequiredProps(data, descriptor, propertyName)),\n                this.performCustomValidation(data, descriptor, propertyName),\n                this.validateExpressions(data, descriptor, propertyName)\n            ];\n        }), flatten)(actionsDesignData);\n        return combineLatest([of(this.validateActionSequence(actionsDesignData, propertyName)), ...issues]).pipe(map$1(flatten));\n    }\n    performCustomValidation(actionProps, descriptor, issuePropertyName) {\n        const designManager = this.rxViewActionRegistryService.getDesignManager(descriptor.name);\n        return designManager\n            ? designManager.validate(actionProps, issuePropertyName).pipe(map$1((issues) => issues.map((issue) => (Object.assign(Object.assign({}, issue), { data: {\n                    actionIndex: actionProps.index\n                } })))))\n            : of([]);\n    }\n    validateRequiredProps(actionProps, descriptor, issuePropertyName) {\n        return flow((descriptorParams) => descriptorParams.filter((param) => param.isRequired === true && this.rxStringService.isEmptySafe(actionProps[param.name])), (descriptorParams) => descriptorParams.map((param) => ({\n            type: 'error',\n            description: `${descriptor.label} action: ${param.label || param.name} cannot be blank.`,\n            propertyName: issuePropertyName,\n            data: {\n                actionIndex: actionProps.index\n            }\n        })))(descriptor.parameters);\n    }\n    validateExpressions(actionProps, descriptor, issuePropertyName) {\n        const actionIssues = descriptor.parameters\n            .filter((paramDescriptor) => paramDescriptor.enableExpressionEvaluation === true && actionProps[paramDescriptor.name])\n            .map((paramDescriptor) => this.rxViewExpressionValidatorService\n            .validate(actionProps[paramDescriptor.name], issuePropertyName, paramDescriptor.label || paramDescriptor.name, paramDescriptor.evaluatorService)\n            .pipe(map$1((issues) => issues.map((issue) => (Object.assign(Object.assign({}, issue), { description: `${descriptor.label} action: ${issue.description}`, data: {\n                actionIndex: actionProps.index\n            } }))))));\n        return actionIssues.length ? combineLatest(actionIssues).pipe(map$1(flatten)) : of([]);\n    }\n    validateActionSequence(actions, issuePropertyName) {\n        return flow((actionsDesignData) => map(actionsDesignData, ({ data }) => {\n            const descriptor = this.rxViewActionRegistryService.get(data.name);\n            return descriptor\n                ? map(data, (propertyValue, propertyName) => {\n                    var _a;\n                    if (((_a = descriptor.parameters.find((param) => param.name === propertyName)) === null || _a === void 0 ? void 0 : _a.enableExpressionEvaluation) &&\n                        this.rxStringService.isNonEmptyString(propertyValue)) {\n                        // Extract <ID> from ${view.components.<ID>.<Path>}\n                        const matches = propertyValue.match(/\\${view\\.components\\.([0-9a-z-]+)\\..+}/);\n                        if (matches && matches[1]) {\n                            const referencedAction = find(actionsDesignData, { guid: matches[1] });\n                            if (Number(referencedAction === null || referencedAction === void 0 ? void 0 : referencedAction.data.index) > Number(data.index)) {\n                                return {\n                                    type: 'error',\n                                    description: `${descriptor.label} action: invalid expression for ${propertyName}.`,\n                                    propertyName: issuePropertyName\n                                };\n                            }\n                        }\n                    }\n                })\n                : [];\n        }), flatten, compact)(actions);\n    }\n}\nRxViewActionValidatorService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewActionValidatorService, deps: [{ token: i5.RxViewActionRegistryService }, { token: i2$1.RxStringService }, { token: i3.RxLogService }, { token: RxViewExpressionValidatorService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxViewActionValidatorService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewActionValidatorService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewActionValidatorService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i5.RxViewActionRegistryService }, { type: i2$1.RxStringService }, { type: i3.RxLogService }, { type: RxViewExpressionValidatorService }]; } });\n\nclass ComponentSandbox {\n    constructor(injector, guid, descriptor) {\n        this.injector = injector;\n        this.guid = guid;\n        this.descriptor = descriptor;\n        this.viewDesignerFacade = this.injector.get(ViewDesignerFacade);\n        this.systemActions$ = this.injector.get(Actions);\n        this.viewDesignerDispatcher = this.injector.get(ViewDesignerDispatcher);\n        this.rxViewDesignerModels = this.injector.get(RxViewDesignerModels);\n        this.childModelsInitialized$ = new BehaviorSubject(false);\n        this.dispatcher$ = new Subject();\n        this.breadcrumbs$ = new ReplaySubject(1);\n        this.setUpPublicStreams();\n        this.viewDesignerFacade\n            .getComponentType(guid)\n            .pipe(take(1))\n            .subscribe((componentType) => (this.componentType = componentType));\n        this.viewDesignerFacade\n            .getComponentModel(this.guid)\n            .pipe(map$1((model) => Boolean(model.lastUpdateTime || model.name)), switchMap((isExistingViewComponent) => {\n            if (isExistingViewComponent) {\n                return this.viewDesignerFacade.viewModelsInitialized$;\n            }\n            else {\n                return of(null);\n            }\n        }), take(1), takeUntil(this.destroyed$))\n            .subscribe(() => {\n            this.childModelsInitialized$.next(true);\n        });\n        this.viewModelsInitialized$ = this.viewDesignerFacade.viewModelsInitialized$.pipe(takeUntil(this.destroyed$));\n        // for optimization reasons postpone emit of breadcrumbs till component gets selected\n        this.isComponentSelected$\n            .pipe(filter((isSelected) => isSelected), first(), switchMap(() => this.breadcrumbs$), distinctUntilChanged(), takeUntil(this.destroyed$))\n            .subscribe((label) => {\n            this.dispatcher$.next(setBreadcrumbs({\n                guid: this.guid,\n                label\n            }));\n        });\n        merge(\n        // skip initial batch of setValidationIssues actions that are emitted during view designer initialization with empty payload\n        this.dispatcher$.pipe(ofType(setValidationIssues), skipWhile((action) => action.issues.length === 0)), this.dispatcher$.pipe(filter((action) => action.type !== setValidationIssues.type)))\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe((action) => this.viewDesignerDispatcher.dispatch(action));\n        // complete created subjects\n        this.destroyed$.subscribe(() => {\n            this.childModelsInitialized$.complete();\n            this.dispatcher$.complete();\n            this.breadcrumbs$.complete();\n        });\n    }\n    createError(description, propertyName, disableCorrection) {\n        return { type: 'error', description, propertyName, disableCorrection };\n    }\n    createWarning(description, propertyName, disableCorrection) {\n        return { type: 'warning', description, propertyName, disableCorrection };\n    }\n    getComponent(guid) {\n        return this.viewDesignerFacade.getComponent(guid);\n    }\n    getChildComponents(filterPredicate) {\n        return this.childModelsInitialized$\n            .asObservable()\n            .pipe(filter(Boolean), switchMapTo(this.viewDesignerFacade.getChildComponents(this.guid, filterPredicate)), takeUntil(this.destroyed$));\n    }\n    getChildComponentsTree() {\n        return this.childModelsInitialized$.asObservable().pipe(filter((isInitialized) => isInitialized), switchMapTo(this.viewDesignerFacade.getChildComponentTree(this.guid)), shareReplay(1), takeUntil(this.destroyed$));\n    }\n    getChildComponentGuids(filterPredicate, recursive = false) {\n        return this.childModelsInitialized$\n            .asObservable()\n            .pipe(filter(Boolean), switchMapTo(this.viewDesignerFacade.getChildComponentGuids(this.guid, recursive, filterPredicate)), takeUntil(this.destroyed$));\n    }\n    setChildren(data, parentGuid) {\n        this.dispatcher$.next(setChildComponents({\n            payload: {\n                guid: parentGuid || this.guid,\n                data\n            }\n        }));\n    }\n    setChildrenByType(data, types) {\n        this.dispatcher$.next(setChildComponents({\n            payload: {\n                guid: this.guid,\n                data,\n                types\n            }\n        }));\n    }\n    getParentComponentGuid(componentType) {\n        return this.viewDesignerFacade\n            .getParentComponentGuid(this.guid, componentType)\n            .pipe(distinctUntilChanged(), takeUntil(this.destroyed$));\n    }\n    setValidationIssues(issues) {\n        this.dispatcher$.next(setValidationIssues({ issues, guid: this.guid }));\n    }\n    updateComponentProperties(properties) {\n        this.viewDesignerFacade.updateComponentProperties(this.guid, properties);\n    }\n    getComponentPropertyValue(propertyName, componentGuid = this.guid) {\n        return this.viewDesignerFacade\n            .getComponentPropertyValue(componentGuid, propertyName)\n            .pipe(shareReplay(1), takeUntil(this.destroyed$));\n    }\n    getViewPropertyValue(propertyName) {\n        return this.viewDesignerFacade.getViewPropertyValue(propertyName).pipe(shareReplay(1), takeUntil(this.destroyed$));\n    }\n    updateInspectorConfig(inspectorConfig) {\n        this.viewDesignerFacade.setComponentInspector(this.guid, inspectorConfig);\n    }\n    setBreadcrumbs(label) {\n        this.breadcrumbs$.next(label);\n    }\n    addComponent(data) {\n        const dataArray = castArray(data);\n        const actionPayload = dataArray.map((component) => (Object.assign(Object.assign({}, component), { parentGuid: this.guid })));\n        this.dispatcher$.next(addNewComponents({ payload: actionPayload }));\n    }\n    selectComponent(guid) {\n        this.dispatcher$.next(selectComponent({ guid }));\n    }\n    removeComponents(guids, selectParent) {\n        this.viewDesignerFacade.removeViewComponents(guids, selectParent);\n    }\n    moveComponent(guid, insertIndex, targetGuid) {\n        const data = { guid };\n        const columnIndex = 0;\n        const outletName = RX_VIEW_DEFINITION.defaultOutletName;\n        this.dispatcher$.next(insertComponent({\n            data,\n            insertIndex,\n            columnIndex,\n            outletName,\n            targetGuid\n        }));\n    }\n    setLayout(cols) {\n        this.dispatcher$.next(setComponentLayout({\n            guid: this.guid,\n            cols\n        }));\n    }\n    getLayout(guid) {\n        return this.viewDesignerFacade.getComponentLayout(guid).pipe(shareReplay(1), takeUntil(this.destroyed$));\n    }\n    setCommonDataDictionary(dataDictionaryBranch) {\n        this.viewDesignerFacade.setComponentCommonDataDictionaryBranch(this.guid, dataDictionaryBranch);\n    }\n    setSettablePropertiesDataDictionary(componentName, dataDictionary) {\n        this.viewDesignerFacade.setComponentSettablePropertiesDataDictionary(this.guid, componentName, dataDictionary);\n    }\n    getComponentModel(guid) {\n        return this.rxViewDesignerModels.get(guid);\n    }\n    getComponentsByType(type) {\n        return this.viewDesignerFacade\n            .getComponentsByType(type)\n            .pipe(takeUntil(this.destroyed$));\n    }\n    setUpPublicStreams() {\n        const viewComponentsRemovedAction$ = this.systemActions$.pipe(ofType(componentsRemoved), filter((action) => action.guids.includes(this.guid)));\n        this.destroyed$ = merge(viewComponentsRemovedAction$, this.viewDesignerFacade.initViewDesigner$, this.viewDesignerFacade.destroyViewDesigner$).pipe(mapTo(true), first());\n        this.componentProperties$ = this.viewDesignerFacade\n            .getComponentProperties(this.guid)\n            .pipe(filter(Boolean), takeUntil(this.destroyed$), shareReplay(1));\n        this.isComponentSelected$ = this.systemActions$.pipe(ofType(selectComponent), map$1(({ guid }) => guid === this.guid), distinctUntilChanged(), startWith(false), takeUntil(this.destroyed$), shareReplay(1));\n        this.isViewReadOnly$ = this.viewDesignerFacade.isViewReadOnly$;\n    }\n}\n\nclass RxViewExpressionValidatorRegistryService {\n    constructor(rxViewComponentRegistryService, viewDesignerFacade, rxViewExpressionValidatorService) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.viewDesignerFacade = viewDesignerFacade;\n        this.rxViewExpressionValidatorService = rxViewExpressionValidatorService;\n        this.issuesObservableMap = new Map();\n    }\n    registerComponents(guids) {\n        guids.forEach((guid) => this.issuesObservableMap.set(guid, this.getComponentValidationIssues(guid)));\n        this.initValidation();\n    }\n    unregisterComponents(guids) {\n        guids.forEach((guid) => this.issuesObservableMap.delete(guid));\n        this.initValidation();\n    }\n    unregisterAllComponents() {\n        var _a;\n        this.issuesObservableMap.clear();\n        (_a = this.validateSubscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n    }\n    initValidation() {\n        var _a;\n        (_a = this.validateSubscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n        this.validateSubscription = combineLatest(Array.from(this.issuesObservableMap.entries()).map(([guid, issues$]) => issues$.pipe(map$1((issues) => ({\n            [guid]: issues\n        })))))\n            .pipe(map$1((issuesByComponentGuid) => merge$1({}, ...issuesByComponentGuid)), skipWhile((issuesByComponentGuid) => every(Object.values(issuesByComponentGuid), isEmpty)), \n        // debounceTime will allow Set expression validation issues action to be executed once for improved performance.\n        debounceTime(0))\n            .subscribe((issues) => {\n            this.viewDesignerFacade.setExpressionValidationIssues(issues);\n        });\n    }\n    getComponentValidationIssues(guid) {\n        return this.viewDesignerFacade.getComponentType(guid).pipe(take(1), switchMap((componentType) => {\n            const descriptor = this.rxViewComponentRegistryService.get(componentType);\n            const expressionProps = filter$1(descriptor === null || descriptor === void 0 ? void 0 : descriptor.properties, {\n                enableExpressionEvaluation: true\n            });\n            const expressionPropertyNames = map(expressionProps, 'name');\n            const descriptorPropMap = new Map(expressionProps.map((prop) => [prop.name, prop]));\n            return expressionPropertyNames.length\n                ? combineLatest(expressionPropertyNames.map((propertyName) => this.viewDesignerFacade\n                    .getComponentPropertyValue(guid, propertyName)\n                    .pipe(switchMap((propertyValue) => this.rxViewExpressionValidatorService\n                    .validate(propertyValue, propertyName, descriptorPropMap.get(propertyName).label, descriptorPropMap.get(propertyName).evaluatorService)\n                    .pipe(takeUntil(this.viewDesignerFacade.allComponentGuids$.pipe(filter((guids) => !guids.has(guid))))))))).pipe(map$1(flatten))\n                : of([]);\n        }), publishReplay(1), refCount());\n    }\n}\nRxViewExpressionValidatorRegistryService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewExpressionValidatorRegistryService, deps: [{ token: i5.RxViewComponentRegistryService }, { token: ViewDesignerFacade }, { token: RxViewExpressionValidatorService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxViewExpressionValidatorRegistryService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewExpressionValidatorRegistryService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewExpressionValidatorRegistryService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i5.RxViewComponentRegistryService }, { type: ViewDesignerFacade }, { type: RxViewExpressionValidatorService }]; } });\n\nclass RxViewDesignerStateHelperService {\n    getInitialComponentProperties(initialProperties, componentDescriptor) {\n        var _a;\n        let result = initialProperties;\n        if (isFunction((_a = componentDescriptor.designComponentModel) === null || _a === void 0 ? void 0 : _a.getInitialProperties)) {\n            result = componentDescriptor.designComponentModel.getInitialProperties(initialProperties);\n        }\n        return result;\n    }\n    getDefaultComponentPermissions(componentDescriptor) {\n        var _a;\n        let permissions = null;\n        if (isFunction((_a = componentDescriptor.designComponentModel) === null || _a === void 0 ? void 0 : _a.getDefaultPermissions)) {\n            permissions = componentDescriptor.designComponentModel.getDefaultPermissions();\n        }\n        return permissions;\n    }\n}\nRxViewDesignerStateHelperService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerStateHelperService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxViewDesignerStateHelperService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerStateHelperService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDesignerStateHelperService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass ViewDesignerComponentEffects {\n    constructor(actions$, injector, viewDesignerModels, rxGuidService, store$, rxViewComponentRegistryService, rxViewDesignerInspectorService, rxViewExpressionValidatorRegistryService, rxViewDesignerStateHelperService, rxViewDataDictionaryStoreService) {\n        this.actions$ = actions$;\n        this.injector = injector;\n        this.viewDesignerModels = viewDesignerModels;\n        this.rxGuidService = rxGuidService;\n        this.store$ = store$;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.rxViewDesignerInspectorService = rxViewDesignerInspectorService;\n        this.rxViewExpressionValidatorRegistryService = rxViewExpressionValidatorRegistryService;\n        this.rxViewDesignerStateHelperService = rxViewDesignerStateHelperService;\n        this.rxViewDataDictionaryStoreService = rxViewDataDictionaryStoreService;\n        this.initializeComponentModel$ = this.actions$.pipe(ofType(initializeComponentModels), tap((action) => {\n            action.payload.forEach(({ componentModel }) => {\n                const componentDescriptor = this.rxViewComponentRegistryService.get(componentModel.type);\n                const sandbox = new ComponentSandbox(this.injector, componentModel.guid, componentDescriptor);\n                const model = new componentDescriptor.designComponentModel(this.injector, sandbox);\n                if (isFunction(model.rxInit)) {\n                    model.rxInit();\n                }\n                this.viewDesignerModels.set(componentModel.guid, model);\n            });\n        }), map$1(() => viewModelsInitialized()));\n        this.registerComponentsValidation$ = this.actions$.pipe(ofType(initializeDataComponentModels, initializeComponentModels), tap((action) => this.rxViewExpressionValidatorRegistryService.registerComponents(map(action.payload, (payload) => payload.componentModel.guid))));\n        this.onComponentsRemoved$ = this.actions$.pipe(ofType(componentsRemoved), tap(({ guids }) => {\n            this.rxViewExpressionValidatorRegistryService.unregisterComponents(guids);\n            this.rxViewDataDictionaryStoreService.removeDataDictionaryForComponents(guids);\n        }));\n        this.unregisterAllComponentsValidation$ = this.actions$.pipe(ofType(initViewDesigner, destroyViewDesigner), tap(() => this.rxViewExpressionValidatorRegistryService.unregisterAllComponents()));\n        this.insertComponent$ = this.actions$.pipe(ofType(insertComponent), map$1((payload) => {\n            const newPayload = {\n                insertIndex: payload.insertIndex,\n                columnIndex: payload.columnIndex,\n                outletName: payload.outletName,\n                parentGuid: payload.targetGuid\n            };\n            return payload.data.guid\n                ? moveComponent(Object.assign(Object.assign({}, newPayload), { guid: payload.data.guid }))\n                : addNewComponents({\n                    payload: [\n                        Object.assign(Object.assign({}, newPayload), { type: payload.data.type, selectComponent: true, propertiesByName: payload.data.initialPropertiesByName })\n                    ]\n                });\n        }));\n        this.addNewComponent$ = this.actions$.pipe(ofType(addNewComponents), withLatestFrom(this.store$.select(viewComponentModelsSelector)), mergeMap(([action, viewComponentsState]) => {\n            const initializeComponentModelPayloads = [];\n            const initializeDataComponentModelPayloads = [];\n            const componentGuidsToSelect = [];\n            action.payload.forEach((component) => {\n                this.processAddComponentPayload(component, initializeComponentModelPayloads, initializeDataComponentModelPayloads, componentGuidsToSelect, viewComponentsState);\n            });\n            return [\n                initializeComponentModelPayloads.length\n                    ? initializeComponentModels({ payload: initializeComponentModelPayloads })\n                    : null,\n                initializeDataComponentModelPayloads.length\n                    ? initializeDataComponentModels({ payload: initializeDataComponentModelPayloads })\n                    : null,\n                componentGuidsToSelect.length\n                    ? selectComponent({\n                        guid: last(componentGuidsToSelect)\n                    })\n                    : null\n            ].filter(Boolean);\n        }));\n        this.removeComponent$ = this.actions$.pipe(ofType(removeComponents), filter(({ guids }) => !isEmpty(guids)), withLatestFrom(this.store$.select(viewComponentModelsSelector)), mergeMap(([payload, viewComponentsState]) => {\n            const guidsToRemove = payload.guids.reduce((result, guid) => {\n                const removedComponentModel = viewComponentsState[guid];\n                if (removedComponentModel) {\n                    result.push(guid, ...getAllChildGuids(removedComponentModel, viewComponentsState));\n                }\n                return result;\n            }, []);\n            const removeGuidsSet = new Set(guidsToRemove);\n            removeGuidsSet.forEach((guid) => {\n                this.viewDesignerModels.delete(guid);\n                this.rxViewDesignerInspectorService.delete(guid);\n            });\n            const actions = [componentsRemoved({ guids: [...removeGuidsSet] })];\n            if (payload.selectParent) {\n                const lastRemovedModel = viewComponentsState[last(payload.guids)];\n                if (lastRemovedModel === null || lastRemovedModel === void 0 ? void 0 : lastRemovedModel.parentGuid) {\n                    actions.push(selectComponent({\n                        guid: lastRemovedModel.parentGuid\n                    }));\n                }\n            }\n            return actions;\n        }));\n        this.setChildren$ = this.actions$.pipe(ofType(setChildComponents), map$1((action) => action.payload), withLatestFrom(this.store$.select(viewComponentModelsSelector)), mergeMap(([actionPayload, viewComponentsState]) => {\n            const actions = [];\n            const componentGuidsToRemove = [];\n            const addComponentsPayloadAll = [];\n            const editComponentPayloadAll = [];\n            processChildComponents(actionPayload);\n            function processChildComponents(payload) {\n                const componentsToSet = payload.data;\n                const componentsGuidsToSet = componentsToSet.map((component) => component.guid);\n                const hostComponent = viewComponentsState[payload.guid];\n                let existingChildGuids = getChildGuidsFromModel(hostComponent);\n                if (payload.types) {\n                    existingChildGuids = existingChildGuids.filter((guid) => payload.types.includes(viewComponentsState[guid].type));\n                }\n                const componentGuidsToRemoveLocal = difference(existingChildGuids, componentsGuidsToSet);\n                const componentGuidsToAdd = difference(componentsGuidsToSet, existingChildGuids);\n                const componentsGuidsToUpdate = difference(existingChildGuids, componentGuidsToAdd, componentGuidsToRemoveLocal);\n                componentGuidsToRemove.push(...componentGuidsToRemoveLocal);\n                const addComponentsPayload = componentsToSet.reduce((result, action) => {\n                    if (includes(componentGuidsToAdd, action.guid)) {\n                        result.push(getAddComponentPayload(action, payload.guid));\n                    }\n                    return result;\n                }, []);\n                addComponentsPayloadAll.push(...addComponentsPayload);\n                const editComponentPayload = componentsToSet.reduce((result, action) => {\n                    if (includes(componentsGuidsToUpdate, action.guid)) {\n                        const existingModel = viewComponentsState[action.guid];\n                        if (!isEqual(existingModel.propertiesByName, action.data || {})) {\n                            result.push({ guid: action.guid, data: action.data });\n                        }\n                        if (action.children) {\n                            processChildComponents({\n                                guid: action.guid,\n                                data: action.children\n                            });\n                        }\n                    }\n                    return result;\n                }, []);\n                editComponentPayloadAll.push(...editComponentPayload);\n            }\n            function getAddComponentPayload(action, parentGuid) {\n                const result = {\n                    propertiesByName: action.data,\n                    guid: action.guid,\n                    parentGuid,\n                    type: action.type,\n                    columnIndex: action.columnIndex || 0,\n                    insertIndex: action.insertIndex,\n                    outletName: action.outletName || RX_VIEW_DEFINITION.defaultOutletName\n                };\n                if (action.children) {\n                    result.children = map(action.children, (child) => getAddComponentPayload(child, action.guid));\n                }\n                return result;\n            }\n            if (componentGuidsToRemove.length) {\n                actions.push(removeComponents({ guids: componentGuidsToRemove }));\n            }\n            if (addComponentsPayloadAll.length) {\n                actions.push(addNewComponents({ payload: addComponentsPayloadAll }));\n            }\n            if (editComponentPayloadAll.length) {\n                actions.push(setComponentData({ payload: editComponentPayloadAll }));\n            }\n            return actions;\n        }));\n    }\n    processAddComponentPayload(component, initializeComponentModelPayload, initializeDataComponentModelPayloads, componentGuidsToSelect, viewComponentsState) {\n        const componentDescriptor = this.rxViewComponentRegistryService.get(component.type);\n        const payloadParent = initializeComponentModelPayload.find((payload) => payload.componentModel.guid === component.parentGuid);\n        const modelParent = viewComponentsState[component.parentGuid];\n        const parentWithoutLayout = (payloadParent && !payloadParent.componentModel.layout) || (modelParent && !modelParent.layout);\n        const componentModel = {\n            guid: component.guid || this.rxGuidService.generate(),\n            type: component.type,\n            parentGuid: component.parentGuid,\n            propertiesByName: this.rxViewDesignerStateHelperService.getInitialComponentProperties(component.propertiesByName, componentDescriptor),\n            permissions: this.rxViewDesignerStateHelperService.getDefaultComponentPermissions(componentDescriptor)\n        };\n        if (this.rxViewComponentRegistryService.isDataComponentDescriptor(componentDescriptor) || parentWithoutLayout) {\n            componentModel.resourceType = componentDescriptor.isContainerComponent\n                ? RX_VIEW_DEFINITION.resourceTypes.containerViewComponent\n                : RX_VIEW_DEFINITION.resourceTypes.viewComponent;\n            initializeDataComponentModelPayloads.push({\n                componentModel: componentModel\n            });\n        }\n        else {\n            componentModel.resourceType =\n                componentDescriptor.outlets || componentDescriptor.isContainerComponent\n                    ? RX_VIEW_DEFINITION.resourceTypes.containerViewComponent\n                    : RX_VIEW_DEFINITION.resourceTypes.viewComponent;\n            if (componentDescriptor.outlets) {\n                componentModel.layout = RxViewLayout.getEmptyViewLayoutForOutletNames(componentDescriptor.outlets);\n            }\n            initializeComponentModelPayload.push({\n                componentModel: componentModel,\n                insertIndex: component.insertIndex,\n                columnIndex: component.columnIndex || 0,\n                outletName: component.outletName || RX_VIEW_DEFINITION.defaultOutletName\n            });\n            if (component.selectComponent) {\n                componentGuidsToSelect.push(componentModel.guid);\n            }\n        }\n        forEach(component.children, (child) => {\n            this.processAddComponentPayload(Object.assign(Object.assign({}, child), { parentGuid: componentModel.guid }), initializeComponentModelPayload, initializeDataComponentModelPayloads, componentGuidsToSelect, viewComponentsState);\n        });\n    }\n}\nViewDesignerComponentEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerComponentEffects, deps: [{ token: i1.Actions }, { token: i0.Injector }, { token: RxViewDesignerModels }, { token: i2$1.RxGuidService }, { token: i2.Store }, { token: i5.RxViewComponentRegistryService }, { token: RxViewDesignerInspectorService }, { token: RxViewExpressionValidatorRegistryService }, { token: RxViewDesignerStateHelperService }, { token: RxViewDataDictionaryStoreService }], target: i0.ɵɵFactoryTarget.Injectable });\nViewDesignerComponentEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerComponentEffects });\n__decorate([\n    Effect(),\n    __metadata(\"design:type\", Object)\n], ViewDesignerComponentEffects.prototype, \"initializeComponentModel$\", void 0);\n__decorate([\n    Effect({ dispatch: false }),\n    __metadata(\"design:type\", Object)\n], ViewDesignerComponentEffects.prototype, \"registerComponentsValidation$\", void 0);\n__decorate([\n    Effect({ dispatch: false }),\n    __metadata(\"design:type\", Object)\n], ViewDesignerComponentEffects.prototype, \"onComponentsRemoved$\", void 0);\n__decorate([\n    Effect({ dispatch: false }),\n    __metadata(\"design:type\", Object)\n], ViewDesignerComponentEffects.prototype, \"unregisterAllComponentsValidation$\", void 0);\n__decorate([\n    Effect(),\n    __metadata(\"design:type\", Object)\n], ViewDesignerComponentEffects.prototype, \"insertComponent$\", void 0);\n__decorate([\n    Effect(),\n    __metadata(\"design:type\", Object)\n], ViewDesignerComponentEffects.prototype, \"addNewComponent$\", void 0);\n__decorate([\n    Effect(),\n    __metadata(\"design:type\", Object)\n], ViewDesignerComponentEffects.prototype, \"removeComponent$\", void 0);\n__decorate([\n    Effect(),\n    __metadata(\"design:type\", Object)\n], ViewDesignerComponentEffects.prototype, \"setChildren$\", void 0);\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerComponentEffects, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1.Actions }, { type: i0.Injector }, { type: RxViewDesignerModels }, { type: i2$1.RxGuidService }, { type: i2.Store }, { type: i5.RxViewComponentRegistryService }, { type: RxViewDesignerInspectorService }, { type: RxViewExpressionValidatorRegistryService }, { type: RxViewDesignerStateHelperService }, { type: RxViewDataDictionaryStoreService }]; }, propDecorators: { initializeComponentModel$: [], registerComponentsValidation$: [], onComponentsRemoved$: [], unregisterAllComponentsValidation$: [], insertComponent$: [], addNewComponent$: [], removeComponent$: [], setChildren$: [] } });\n\nclass ViewDesignerEffects {\n    constructor(actions$, store$, rxBundleCacheService, rxDefinitionNameService, rxDefinitionUpdateService, rxGlobalCacheService, rxJsonParserService, rxViewComponentRegistryService, rxViewActionRegistryService, rxViewDefinitionService, viewDesignerModels, rxOldViewLayoutAdapterService, rxViewDefinitionParserService, rxLogService, rxModalService, errorHandler, rxUtilityModalsService, rxDefinitionAdapterRegistryService, rxViewDesignerInspectorService, rxViewDefinitionGeneratorService, rxViewDesignerStateHelperService, rxViewActionDefinitionAdapterRegistryService, rxGuidService, rxViewDataDictionaryStoreService) {\n        this.actions$ = actions$;\n        this.store$ = store$;\n        this.rxBundleCacheService = rxBundleCacheService;\n        this.rxDefinitionNameService = rxDefinitionNameService;\n        this.rxDefinitionUpdateService = rxDefinitionUpdateService;\n        this.rxGlobalCacheService = rxGlobalCacheService;\n        this.rxJsonParserService = rxJsonParserService;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxViewDefinitionService = rxViewDefinitionService;\n        this.viewDesignerModels = viewDesignerModels;\n        this.rxOldViewLayoutAdapterService = rxOldViewLayoutAdapterService;\n        this.rxViewDefinitionParserService = rxViewDefinitionParserService;\n        this.rxLogService = rxLogService;\n        this.rxModalService = rxModalService;\n        this.errorHandler = errorHandler;\n        this.rxUtilityModalsService = rxUtilityModalsService;\n        this.rxDefinitionAdapterRegistryService = rxDefinitionAdapterRegistryService;\n        this.rxViewDesignerInspectorService = rxViewDesignerInspectorService;\n        this.rxViewDefinitionGeneratorService = rxViewDefinitionGeneratorService;\n        this.rxViewDesignerStateHelperService = rxViewDesignerStateHelperService;\n        this.rxViewActionDefinitionAdapterRegistryService = rxViewActionDefinitionAdapterRegistryService;\n        this.rxGuidService = rxGuidService;\n        this.rxViewDataDictionaryStoreService = rxViewDataDictionaryStoreService;\n        this.initViewDesigner$ = this.actions$.pipe(ofType(initViewDesigner), switchMap(({ payload }) => {\n            const { viewDefinitionName, layoutTemplate } = payload;\n            this.clearStorages();\n            return [\n                loadFriendlyBundleName(),\n                loadViewDefinition({\n                    viewDefinitionName,\n                    layoutTemplate\n                })\n            ];\n        }));\n        this.destroyViewDesigner$ = this.actions$.pipe(ofType(destroyViewDesigner), tap(() => this.clearStorages()));\n        this.loadFriendlyBundleName$ = this.actions$.pipe(ofType(loadFriendlyBundleName), switchMap(() => this.rxGlobalCacheService.getBundleDescriptor(this.rxBundleCacheService.bundleId)), switchMap((descriptor) => {\n            let result$;\n            if (descriptor) {\n                result$ = of(friendlyBundleNameLoadSuccess({\n                    friendlyBundleName: descriptor.friendlyName\n                }));\n            }\n            else {\n                result$ = throwError(`Bundle \"${this.rxBundleCacheService.bundleId}\" not found`);\n            }\n            return result$.pipe(catchError((error) => {\n                this.errorHandler.handleError(error);\n                return of(friendlyBundleNameLoadError({ payload: error }));\n            }));\n        }));\n        this.loadViewDefinition$ = this.actions$.pipe(ofType(loadViewDefinition), switchMap(({ viewDefinitionName, layoutTemplate }) => {\n            const viewDefinition$ = viewDefinitionName\n                ? this.rxViewDefinitionService.get(viewDefinitionName)\n                : this.rxViewDefinitionService.getNew(layoutTemplate);\n            return viewDefinition$.pipe(map$1((viewDefinition) => viewDefinitionLoadSuccess({\n                viewDefinition\n            })), catchError((error) => {\n                this.errorHandler.handleError(error);\n                return of(viewDefinitionLoadError());\n            }));\n        }));\n        this.viewDefinitionLoadSuccess$ = this.actions$.pipe(ofType(viewDefinitionLoadSuccess), withLatestFrom(this.store$.select(viewModelSelector)), mergeMap(([payload, viewModel]) => {\n            // If viewModel isn't empty it's considered that view definition is loaded after save to update\n            // existing view models with properties added by server e.g 'lastChangedBy', 'lastUpdateTime' and etc.\n            return viewModel\n                ? this.getActionsToUpdateExistingViewModels(payload.viewDefinition)\n                : this.getActionsToInitializeViewModels(payload.viewDefinition);\n        }));\n        this.selectViewComponent$ = this.actions$.pipe(ofType(selectComponent), withLatestFrom(this.store$.select(viewModelSelector), this.store$.select(selectedInspectorTabIdSelector)), mergeMap(([action, viewModel, currentInspectorTabId]) => {\n            const selectedInspectorTab = viewModel.guid === action.guid ? 0 : 1;\n            if (selectedInspectorTab !== currentInspectorTabId) {\n                return [\n                    selectInspectorTab({\n                        tabId: selectedInspectorTab\n                    })\n                ];\n            }\n            else {\n                return [];\n            }\n        }));\n        this.generateViewDefinition$ = this.actions$.pipe(ofType(generateViewDefinition), withLatestFrom(this.store$.select(viewModelSelector), this.store$.select(viewComponentModelsSelector), (action, viewModel, componentModels) => ({ viewModel, componentModels })), map$1(({ viewModel, componentModels }) => this.rxViewDefinitionGeneratorService.generate(viewModel, componentModels)), map$1((viewDefinition) => setGeneratedViewDefinition({ payload: viewDefinition })));\n        this.saveViewDefinition$ = this.actions$.pipe(ofType(saveViewDefinition), withLatestFrom(this.store$.select(viewModelSelector), this.store$.select(viewComponentModelsSelector), (action, viewModel, components) => ({ viewModel, components })), switchMap(({ viewModel, components }) => {\n            const viewDefinition = this.rxViewDefinitionGeneratorService.generate(viewModel, components, true);\n            return (viewDefinition.lastUpdateTime\n                ? this.rxDefinitionUpdateService.execute(this.rxViewDefinitionService.update.bind(this.rxViewDefinitionService, viewDefinition.name, viewDefinition))\n                : this.rxViewDefinitionService.create(viewDefinition)).pipe(switchMap((response) => {\n                const definitionName = decodeURIComponent(last(response === null || response === void 0 ? void 0 : response.headers.get('Location').split('/')) || '') || viewDefinition.name;\n                return [\n                    viewDefinitionSaveSuccess({ viewDefinitionName: definitionName }),\n                    viewDefinition.lastUpdateTime\n                        ? loadViewDefinition({\n                            viewDefinitionName: viewDefinition.name\n                        })\n                        : null\n                ].filter(Boolean);\n            }), catchError((error) => {\n                this.errorHandler.handleError(error);\n                return of(viewDefinitionSaveError());\n            }));\n        }));\n        this.clearCanvas$ = this.actions$.pipe(ofType(clearCanvas), withLatestFrom(this.store$.select(viewModelSelector)), map$1(([action, viewModel]) => removeComponents({ guids: getChildGuidsFromModel(viewModel) })));\n        this.runPreview$ = this.actions$.pipe(ofType(runPreview), withLatestFrom(this.store$.select(viewModelSelector), (action, viewModel) => viewModel), switchMap((viewModel) => viewModel.targetViewDefinitionName\n            ? this.rxViewDefinitionService.get(viewModel.targetViewDefinitionName)\n            : of(viewModel)), tap((viewModel) => {\n            const encodedViewDefinitionName = encodeURIComponent(viewModel.name);\n            let url = `/helix/index.html#/${this.rxBundleCacheService.bundleId}/preview/${encodedViewDefinitionName}`;\n            if (viewModel.inputParams.length) {\n                this.rxModalService\n                    .openModal({\n                    title: 'Enter view parameter values',\n                    content: RuntimeViewParamsModalComponent,\n                    data: { inputParams: map(viewModel.inputParams, 'name') },\n                    size: 'sm'\n                })\n                    .catch(noop$1)\n                    .then((params) => {\n                    const inputConfig = map(params, (value, name) => {\n                        return `${encodeURIComponent(name)}=${encodeURIComponent(value)}`;\n                    });\n                    url += `?${inputConfig.join('&')}`;\n                    if (params) {\n                        window.open(url);\n                    }\n                });\n            }\n            else {\n                window.open(url);\n            }\n        }));\n    }\n    clearStorages() {\n        this.viewDesignerModels.clear();\n        this.rxViewDesignerInspectorService.clear();\n        this.rxViewDataDictionaryStoreService.clear();\n    }\n    convertViewDefinitionToModel(viewDefinition) {\n        const isAngularJsView = Boolean(viewDefinition.lastUpdateTime) && !includes(viewDefinition.layout, '\"outlets\"');\n        this.rxViewDefinitionParserService\n            .getComponents(viewDefinition)\n            .forEach((definition) => this.rxOldViewLayoutAdapterService.convertLayout(definition));\n        const viewModel = omit(viewDefinition, ['componentDefinitions', 'layout']);\n        const layout = this.rxJsonParserService.tryParseJson(viewDefinition.layout);\n        viewModel.layout = RxViewLayout.getEmptyViewLayoutForOutlets(layout.outlets);\n        viewModel.displayName = decodeURIComponent(this.rxDefinitionNameService.getDisplayName(viewModel.name));\n        viewModel.layoutName = RxViewLayout.getLayoutName(viewModel.layout);\n        viewModel.isAngularJsView = isAngularJsView;\n        return viewModel;\n    }\n    convertComponentDefinitionToModel(definition, parentGuid, descriptor) {\n        const componentModel = omit(definition, ['componentDefinitions', 'layout']);\n        componentModel.parentGuid = parentGuid;\n        this.processComponentDefinitionProperties(componentModel, descriptor);\n        if (this.isComponentHasLayout(definition)) {\n            const layout = this.rxJsonParserService.tryParseJson(definition.layout);\n            componentModel.layout = RxViewLayout.getEmptyViewLayoutForOutlets(layout.outlets);\n        }\n        return componentModel;\n    }\n    processComponentDefinitionProperties(componentModel, descriptor) {\n        componentModel.propertiesByName = transform(componentModel.propertiesByName, (result, propertyValue, propertyKey) => {\n            const propertyDescriptor = find(descriptor.properties || descriptor.parameters, {\n                name: propertyKey\n            });\n            if (propertyDescriptor && propertyDescriptor.designType) {\n                switch (true) {\n                    case propertyDescriptor.designType === ViewComponentPropertyType.String:\n                        result[propertyKey] = propertyValue;\n                        break;\n                    default:\n                        result[propertyKey] = this.rxJsonParserService.tryParseJson(propertyValue, propertyValue);\n                        break;\n                }\n            }\n            else {\n                result[propertyKey] = propertyValue;\n            }\n            return result;\n        }, {});\n        if (!this.rxGuidService.isGuid(componentModel.name)) {\n            componentModel.propertiesByName.name = componentModel.name;\n        }\n        if ('type' in descriptor) {\n            componentModel.propertiesByName = this.rxViewDesignerStateHelperService.getInitialComponentProperties(componentModel.propertiesByName, descriptor);\n        }\n    }\n    traverseByComponents(component, predicate) {\n        const componentLayout = this.rxJsonParserService.tryParseJson(component.layout);\n        const childComponentDefinitions = component.componentDefinitions;\n        if (componentLayout) {\n            componentLayout.outlets.forEach((outlet) => {\n                outlet.columns.forEach((column, colIndex) => {\n                    column.children.forEach((childComponentGuid, index) => {\n                        const childComponentDefinition = childComponentDefinitions.find((definition) => definition.guid === childComponentGuid);\n                        if (childComponentDefinition) {\n                            predicate(childComponentDefinition, component.guid, outlet.name, index, colIndex, column.span);\n                            if (childComponentDefinition.componentDefinitions) {\n                                this.traverseByComponents(childComponentDefinition, predicate);\n                            }\n                        }\n                    });\n                });\n            });\n        }\n        childComponentDefinitions\n            .filter((definition) => {\n            const descriptor = this.rxViewComponentRegistryService.get(definition.type);\n            return (descriptor === null || descriptor === void 0 ? void 0 : descriptor.isDataComponent) || (descriptor === null || descriptor === void 0 ? void 0 : descriptor.isPageComponent);\n        })\n            .forEach((childComponentDefinition, index) => {\n            predicate(childComponentDefinition, component.guid, null, index, 0, 0);\n            if (childComponentDefinition.componentDefinitions) {\n                this.traverseByComponents(childComponentDefinition, predicate);\n            }\n        });\n    }\n    isComponentHasLayout(definition) {\n        return Boolean(definition.layout);\n    }\n    getActionsToInitializeViewModels(viewDefinition) {\n        const viewDefinitionClone = cloneDeep(viewDefinition);\n        const viewModel = this.convertViewDefinitionToModel(viewDefinitionClone);\n        const initComponentModelsPayload = [];\n        const initDataComponentModelsPayload = [];\n        this.traverseByComponents(viewDefinitionClone, (componentDefinition, parentGuid, outletName, insertIndex, columnIndex, columnSpan) => {\n            const componentDescriptor = this.rxViewComponentRegistryService.get(componentDefinition.type);\n            if (componentDescriptor && !componentDescriptor.isPageComponent) {\n                const adapter = componentDefinition.type === RxViewComponentType.Action\n                    ? this.rxViewActionDefinitionAdapterRegistryService.getDesignAdapter(componentDefinition.propertiesByName.name)\n                    : this.rxDefinitionAdapterRegistryService.getDesignAdapter(componentDefinition.type);\n                adapter === null || adapter === void 0 ? void 0 : adapter.adaptDefinition(componentDefinition, viewDefinitionClone);\n                let actionDescriptor;\n                if (componentDefinition.type === RxViewComponentType.Action) {\n                    actionDescriptor = this.rxViewActionRegistryService.get(componentDefinition.propertiesByName.name);\n                    if (!actionDescriptor) {\n                        actionDescriptor = this.rxViewActionRegistryService.registerUnknownAction(componentDefinition.propertiesByName.name);\n                    }\n                }\n                const componentModel = this.convertComponentDefinitionToModel(componentDefinition, parentGuid, actionDescriptor || componentDescriptor);\n                if (this.rxViewComponentRegistryService.isDataComponentDescriptor(componentDescriptor) ||\n                    outletName === null) {\n                    initDataComponentModelsPayload.push({\n                        componentModel\n                    });\n                }\n                else {\n                    initComponentModelsPayload.push({\n                        insertIndex,\n                        columnIndex,\n                        componentModel,\n                        outletName,\n                        columnSpan\n                    });\n                }\n            }\n            else if (this.rxViewDefinitionService.isPageView(viewDefinitionClone)) {\n                let pageComponentChildDescriptor = this.rxViewComponentRegistryService.get(componentDefinition.type);\n                if (!pageComponentChildDescriptor) {\n                    pageComponentChildDescriptor = {\n                        type: componentDefinition.type,\n                        name: RX_VIEW_DEFINITION.unknownPageComponent.name\n                    };\n                }\n                const componentModel = this.convertComponentDefinitionToModel(componentDefinition, parentGuid, pageComponentChildDescriptor);\n                initDataComponentModelsPayload.push({\n                    componentModel\n                });\n            }\n            else {\n                const unknownComponentDescriptor = Object.assign(Object.assign({}, this.rxViewComponentRegistryService.get(RxViewComponentType.Unknown)), { type: componentDefinition.type });\n                this.rxViewComponentRegistryService.registerSync(unknownComponentDescriptor);\n                const componentModel = this.convertComponentDefinitionToModel(componentDefinition, parentGuid, unknownComponentDescriptor);\n                initComponentModelsPayload.push({\n                    insertIndex,\n                    columnIndex,\n                    componentModel,\n                    outletName,\n                    columnSpan\n                });\n                this.rxLogService.warning(`Cannot initialize view component. View Component Descriptor for ${componentDefinition.type} not found.`);\n            }\n        });\n        return [\n            setViewModel({ payload: viewModel }),\n            initComponentModelsPayload.length\n                ? initializeComponentModels({ payload: initComponentModelsPayload })\n                : null,\n            initDataComponentModelsPayload.length\n                ? initializeDataComponentModels({ payload: initDataComponentModelsPayload })\n                : null,\n            initComponentModelsPayload.length ? null : viewModelsInitialized()\n        ].filter(Boolean);\n    }\n    getActionsToUpdateExistingViewModels(viewDefinition) {\n        const viewDefinitionClone = cloneDeep(viewDefinition);\n        const updateComponentModelPayloads = this.rxViewDefinitionParserService\n            .getComponents(viewDefinitionClone, true)\n            .map(({ componentDefinition }) => ({\n            guid: componentDefinition.guid,\n            partialModel: omit(componentDefinition, [\n                'layout',\n                'propertiesByName',\n                'componentDefinitions'\n            ])\n        }));\n        return [\n            updateViewModel({\n                payload: omit(viewDefinitionClone, ['layout', 'componentDefinitions'])\n            }),\n            updateComponentModelPayloads.length\n                ? updateComponentModel({ payload: updateComponentModelPayloads })\n                : null,\n            viewModelsUpdatedAfterSave()\n        ].filter(Boolean);\n    }\n}\nViewDesignerEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerEffects, deps: [{ token: i1.Actions }, { token: i2.Store }, { token: i3.RxBundleCacheService }, { token: i3.RxDefinitionNameService }, { token: i3.RxDefinitionUpdateService }, { token: i3.RxGlobalCacheService }, { token: i2$1.RxJsonParserService }, { token: i5.RxViewComponentRegistryService }, { token: i5.RxViewActionRegistryService }, { token: i5.RxViewDefinitionService }, { token: RxViewDesignerModels }, { token: i5.RxOldViewLayoutAdapterService }, { token: i5.RxViewDefinitionParserService }, { token: i3.RxLogService }, { token: i5$1.RxModalService }, { token: i0.ErrorHandler }, { token: i5$1.RxUtilityModalsService }, { token: i3.RxDefinitionAdapterRegistryService }, { token: RxViewDesignerInspectorService }, { token: RxViewDefinitionGeneratorService }, { token: RxViewDesignerStateHelperService }, { token: i5.RxViewActionDefinitionAdapterRegistryService }, { token: i2$1.RxGuidService }, { token: RxViewDataDictionaryStoreService }], target: i0.ɵɵFactoryTarget.Injectable });\nViewDesignerEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerEffects });\n__decorate([\n    Effect(),\n    __metadata(\"design:type\", Object)\n], ViewDesignerEffects.prototype, \"initViewDesigner$\", void 0);\n__decorate([\n    Effect({ dispatch: false }),\n    __metadata(\"design:type\", Object)\n], ViewDesignerEffects.prototype, \"destroyViewDesigner$\", void 0);\n__decorate([\n    Effect(),\n    __metadata(\"design:type\", Object)\n], ViewDesignerEffects.prototype, \"loadFriendlyBundleName$\", void 0);\n__decorate([\n    Effect(),\n    __metadata(\"design:type\", Object)\n], ViewDesignerEffects.prototype, \"loadViewDefinition$\", void 0);\n__decorate([\n    Effect(),\n    __metadata(\"design:type\", Object)\n], ViewDesignerEffects.prototype, \"viewDefinitionLoadSuccess$\", void 0);\n__decorate([\n    Effect(),\n    __metadata(\"design:type\", Object)\n], ViewDesignerEffects.prototype, \"selectViewComponent$\", void 0);\n__decorate([\n    Effect(),\n    __metadata(\"design:type\", Object)\n], ViewDesignerEffects.prototype, \"generateViewDefinition$\", void 0);\n__decorate([\n    Effect(),\n    __metadata(\"design:type\", Object)\n], ViewDesignerEffects.prototype, \"saveViewDefinition$\", void 0);\n__decorate([\n    Effect(),\n    __metadata(\"design:type\", Object)\n], ViewDesignerEffects.prototype, \"clearCanvas$\", void 0);\n__decorate([\n    Effect({ dispatch: false }),\n    __metadata(\"design:type\", Object)\n], ViewDesignerEffects.prototype, \"runPreview$\", void 0);\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerEffects, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1.Actions }, { type: i2.Store }, { type: i3.RxBundleCacheService }, { type: i3.RxDefinitionNameService }, { type: i3.RxDefinitionUpdateService }, { type: i3.RxGlobalCacheService }, { type: i2$1.RxJsonParserService }, { type: i5.RxViewComponentRegistryService }, { type: i5.RxViewActionRegistryService }, { type: i5.RxViewDefinitionService }, { type: RxViewDesignerModels }, { type: i5.RxOldViewLayoutAdapterService }, { type: i5.RxViewDefinitionParserService }, { type: i3.RxLogService }, { type: i5$1.RxModalService }, { type: i0.ErrorHandler }, { type: i5$1.RxUtilityModalsService }, { type: i3.RxDefinitionAdapterRegistryService }, { type: RxViewDesignerInspectorService }, { type: RxViewDefinitionGeneratorService }, { type: RxViewDesignerStateHelperService }, { type: i5.RxViewActionDefinitionAdapterRegistryService }, { type: i2$1.RxGuidService }, { type: RxViewDataDictionaryStoreService }]; }, propDecorators: { initViewDesigner$: [], destroyViewDesigner$: [], loadFriendlyBundleName$: [], loadViewDefinition$: [], viewDefinitionLoadSuccess$: [], selectViewComponent$: [], generateViewDefinition$: [], saveViewDefinition$: [], clearCanvas$: [], runPreview$: [] } });\n\nfunction getInitialState$4() {\n    return null;\n}\nconst reducer$4 = createReducer(getInitialState$4(), on(initViewDesigner, getInitialState$4), on(destroyViewDesigner, getInitialState$4), on(setGeneratedViewDefinition, (state, { payload }) => {\n    return payload;\n}));\nfunction viewDefinitionReducer(state, action) {\n    return reducer$4(state, action);\n}\n\nfunction getInitialState$3() {\n    return {};\n}\nconst reducer$3 = createReducer(getInitialState$3(), on(initViewDesigner, getInitialState$3), on(destroyViewDesigner, getInitialState$3), on(setBreadcrumbs, (state, { guid, label }) => {\n    return Object.assign(Object.assign({}, state), { [guid]: label });\n}), on(componentsRemoved, (state, { guids }) => {\n    let newState = state;\n    if (guids.some((guid) => has(state, guid))) {\n        newState = omit(state, guids);\n    }\n    return newState;\n}));\nfunction viewDesignerBreadcrumbsReducer(state, action) {\n    return reducer$3(state, action);\n}\n\nfunction getInitialState$2() {\n    return {\n        viewDesignModel: null,\n        viewComponentDesignModels: {}\n    };\n}\nfunction initializeComponentModel(newState, payload) {\n    newState.viewComponentDesignModels = Object.assign(Object.assign({}, newState.viewComponentDesignModels), { [payload.componentModel.guid]: payload.componentModel });\n    // update parent layout\n    if (payload.componentModel.parentGuid === newState.viewDesignModel.guid) {\n        newState.viewDesignModel = addChildComponent(newState.viewDesignModel, payload.componentModel.guid, payload.outletName, payload.insertIndex, payload.columnIndex, payload.columnSpan);\n    }\n    else {\n        const parentComponentModel = newState.viewComponentDesignModels[payload.componentModel.parentGuid];\n        if (parentComponentModel) {\n            const newParentComponentModel = addChildComponent(parentComponentModel, payload.componentModel.guid, payload.outletName, payload.insertIndex, payload.columnIndex, payload.columnSpan);\n            newState.viewComponentDesignModels[newParentComponentModel.guid] =\n                newParentComponentModel;\n        }\n    }\n}\nconst reducer$2 = createReducer(getInitialState$2(), on(initViewDesigner, getInitialState$2), on(destroyViewDesigner, getInitialState$2), on(initializeComponentModels, (state, { payload }) => {\n    const newState = Object.assign({}, state);\n    payload.forEach((data) => initializeComponentModel(newState, data));\n    return newState;\n}), on(initializeDataComponentModels, (state, { payload }) => {\n    const newState = Object.assign(Object.assign({}, state), { viewComponentDesignModels: Object.assign({}, state.viewComponentDesignModels) });\n    payload.forEach((item) => {\n        const parentComponentModel = newState.viewComponentDesignModels[item.componentModel.parentGuid];\n        if (parentComponentModel) {\n            // add new component model\n            newState.viewComponentDesignModels[item.componentModel.guid] = item.componentModel;\n            // update parent to contain child reference\n            const newParentComponentModel = Object.assign(Object.assign({}, parentComponentModel), { childDataComponentGuids: [...(parentComponentModel.childDataComponentGuids || []), item.componentModel.guid] });\n            newState.viewComponentDesignModels[newParentComponentModel.guid] =\n                newParentComponentModel;\n        }\n    });\n    return newState;\n}), on(moveComponent, (state, payload) => {\n    const newState = Object.assign({}, state);\n    // remove component from old parent layout\n    if (isComponentContainsChild(payload.guid, state.viewDesignModel)) {\n        newState.viewDesignModel = removeChildComponent(payload.guid, newState.viewDesignModel);\n    }\n    else {\n        let oldParentComponentModel = findParentComponentModel(payload.guid, newState.viewComponentDesignModels);\n        oldParentComponentModel = removeChildComponent(payload.guid, oldParentComponentModel);\n        newState.viewComponentDesignModels = Object.assign(Object.assign({}, newState.viewComponentDesignModels), { [oldParentComponentModel.guid]: oldParentComponentModel });\n    }\n    // add component to new parent layout\n    if (payload.parentGuid === newState.viewDesignModel.guid) {\n        newState.viewDesignModel = addChildComponent(newState.viewDesignModel, payload.guid, payload.outletName, payload.insertIndex, payload.columnIndex);\n    }\n    else {\n        let newParentComponentModel = newState.viewComponentDesignModels[payload.parentGuid];\n        newParentComponentModel = addChildComponent(newParentComponentModel, payload.guid, payload.outletName, payload.insertIndex, payload.columnIndex);\n        newState.viewComponentDesignModels = Object.assign(Object.assign({}, newState.viewComponentDesignModels), { [newParentComponentModel.guid]: newParentComponentModel });\n    }\n    // updating parentGuid for moved component\n    newState.viewComponentDesignModels = Object.assign(Object.assign({}, newState.viewComponentDesignModels), { [payload.guid]: Object.assign(Object.assign({}, newState.viewComponentDesignModels[payload.guid]), { parentGuid: payload.parentGuid }) });\n    return newState;\n}), on(componentsRemoved, (state, { guids }) => {\n    const newState = Object.assign(Object.assign({}, state), { viewComponentDesignModels: omit(state.viewComponentDesignModels, guids) });\n    guids.forEach((guid) => {\n        if (isComponentContainsChild(guid, state.viewDesignModel)) {\n            newState.viewDesignModel = removeChildComponent(guid, newState.viewDesignModel);\n        }\n        else {\n            let oldParentComponentModel = findParentComponentModel(guid, state.viewComponentDesignModels);\n            if (oldParentComponentModel && newState.viewComponentDesignModels[oldParentComponentModel.guid]) {\n                oldParentComponentModel = removeChildComponent(guid, newState.viewComponentDesignModels[oldParentComponentModel.guid]);\n                newState.viewComponentDesignModels = Object.assign(Object.assign({}, newState.viewComponentDesignModels), { [oldParentComponentModel.guid]: oldParentComponentModel });\n            }\n        }\n    });\n    return newState;\n}), on(setComponentLayout, (state, { guid, cols }) => {\n    const componentModel = state.viewComponentDesignModels[guid];\n    const defaultOutlet = componentModel.layout.outlets.find((item) => item.name === RX_VIEW_DEFINITION.defaultOutletName);\n    const existingColumns = cloneDeep(defaultOutlet.columns);\n    const removedColumns = existingColumns.splice(cols.length);\n    cols.forEach((colSpan, i) => {\n        if (existingColumns[i]) {\n            existingColumns[i].span = colSpan;\n        }\n        else {\n            existingColumns[i] = {\n                span: colSpan,\n                children: []\n            };\n        }\n    });\n    const removedColumnChildComponents = removedColumns.reduce((guids, col) => {\n        guids.push(...col.children);\n        return guids;\n    }, []);\n    if (removedColumnChildComponents.length) {\n        const lastExistingCol = last(existingColumns);\n        lastExistingCol.children = lastExistingCol.children.concat(removedColumnChildComponents);\n    }\n    return Object.assign(Object.assign({}, state), { viewComponentDesignModels: Object.assign(Object.assign({}, state.viewComponentDesignModels), { [guid]: Object.assign(Object.assign({}, componentModel), { layout: Object.assign(Object.assign({}, componentModel.layout), { outlets: componentModel.layout.outlets.map((outlet) => (Object.assign(Object.assign({}, outlet), { columns: existingColumns }))) }) }) }) });\n}), on(setViewModel, (state, { payload }) => {\n    return Object.assign(Object.assign({}, state), { viewDesignModel: payload });\n}), on(updateViewModel, (state, { payload }) => {\n    return Object.assign(Object.assign({}, state), { viewDesignModel: Object.assign(Object.assign({}, state.viewDesignModel), payload) });\n}), on(viewDefinitionSaveSuccess, (state) => {\n    if (state.viewDesignModel.isAngularJsView) {\n        return Object.assign(Object.assign({}, state), { viewDesignModel: Object.assign(Object.assign({}, state.viewDesignModel), { isAngularJsView: false }) });\n    }\n    else {\n        return state;\n    }\n}), on(setComponentData, (state, { payload }) => {\n    return Object.assign(Object.assign({}, state), { viewComponentDesignModels: Object.assign(Object.assign({}, state.viewComponentDesignModels), payload.reduce((res, { guid, data }) => {\n            res[guid] = Object.assign(Object.assign({}, state.viewComponentDesignModels[guid]), { propertiesByName: data });\n            return res;\n        }, {})) });\n}), on(updateComponentModel, (state, { payload }) => {\n    return Object.assign(Object.assign({}, state), { viewComponentDesignModels: Object.assign(Object.assign({}, state.viewComponentDesignModels), payload\n            .filter((payload) => state.viewComponentDesignModels[payload.guid])\n            .reduce((res, { guid, partialModel }) => {\n            res[guid] = Object.assign(Object.assign(Object.assign({}, state.viewComponentDesignModels[guid]), partialModel), { propertiesByName: Object.assign(Object.assign({}, state.viewComponentDesignModels[guid].propertiesByName), partialModel.propertiesByName) });\n            return res;\n        }, {})) });\n}));\nfunction viewDesignerModelReducer(state, action) {\n    return reducer$2(state, action);\n}\n\nfunction getInitialState$1() {\n    return {\n        selectedComponentGuid: null,\n        selectedInspectorTabId: 0,\n        currentBundleId: null,\n        isViewDefinitionLoading: false,\n        areViewModelsReady: false,\n        friendlyBundleName: null\n    };\n}\nconst reducer$1 = createReducer(getInitialState$1(), on(initViewDesigner, (_, { payload }) => {\n    return Object.assign(Object.assign({}, getInitialState$1()), { currentBundleId: payload.bundleId });\n}), on(destroyViewDesigner, getInitialState$1), on(selectComponent, (state, { guid }) => {\n    return Object.assign(Object.assign({}, state), { selectedComponentGuid: guid });\n}), on(selectInspectorTab, (state, { tabId }) => {\n    return Object.assign(Object.assign({}, state), { selectedInspectorTabId: tabId });\n}), on(componentsRemoved, (state, { guids }) => {\n    if (guids.includes(state.selectedComponentGuid)) {\n        return Object.assign(Object.assign({}, state), { selectedComponentGuid: null });\n    }\n    else {\n        return Object.assign({}, state);\n    }\n}), on(friendlyBundleNameLoadSuccess, (state, { friendlyBundleName }) => {\n    return Object.assign(Object.assign({}, state), { friendlyBundleName: friendlyBundleName });\n}), on(friendlyBundleNameLoadError, (state) => {\n    return Object.assign(Object.assign({}, state), { friendlyBundleName: null });\n}), on(saveViewDefinition, loadViewDefinition, (state) => {\n    return Object.assign(Object.assign({}, state), { isViewDefinitionLoading: true, areViewModelsReady: false });\n}), on(viewDefinitionSaveSuccess, viewDefinitionLoadSuccess, viewDefinitionLoadError, (state) => {\n    return Object.assign(Object.assign({}, state), { isViewDefinitionLoading: false });\n}), on(viewDefinitionSaveError, (state) => {\n    return Object.assign(Object.assign({}, state), { isViewDefinitionLoading: false, areViewModelsReady: true });\n}), on(viewModelsUpdatedAfterSave, viewModelsInitialized, (state) => {\n    return Object.assign(Object.assign({}, state), { areViewModelsReady: true });\n}), on(initializeComponentModels, (state) => {\n    return Object.assign(Object.assign({}, state), { areViewModelsReady: false });\n}));\nfunction viewDesignerUiReducer(state, action) {\n    return reducer$1(state, action);\n}\n\nfunction getInitialState() {\n    return {\n        issues: {},\n        expressionIssues: {}\n    };\n}\nconst reducer = createReducer(getInitialState(), on(initViewDesigner, destroyViewDesigner, getInitialState), on(setValidationIssues, (state, { guid, issues }) => {\n    if (issues.length) {\n        return Object.assign(Object.assign({}, state), { issues: Object.assign(Object.assign({}, state.issues), { [guid]: issues }) });\n    }\n    else {\n        let newState = state;\n        if (has(newState.issues, guid)) {\n            newState = Object.assign(Object.assign({}, state), { issues: omit(state.issues, [guid]) });\n        }\n        return newState;\n    }\n}), on(setExpressionValidationIssues, (state, { issues }) => {\n    return isEmpty(issues)\n        ? state\n        : Object.assign(Object.assign({}, state), { expressionIssues: Object.assign(Object.assign({}, omit(state.expressionIssues, Object.keys(issues))), omitBy(issues, isEmpty)) });\n}), on(componentsRemoved, (state, { guids }) => {\n    let newState = state;\n    if (guids.some((guid) => has(state.issues, guid))) {\n        newState = Object.assign(Object.assign({}, state), { issues: omit(state.issues, guids) });\n    }\n    if (guids.some((guid) => has(state.expressionIssues, guid))) {\n        newState = Object.assign(Object.assign({}, state), { expressionIssues: omit(state.expressionIssues, guids) });\n    }\n    return newState;\n}));\nfunction viewDesignerValidationReducer(state, action) {\n    return reducer(state, action);\n}\n\nclass ViewDesignerModule {\n}\nViewDesignerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nViewDesignerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerModule, declarations: [RxViewDesignerComponent], imports: [CommonModule,\n        AdaptCodeViewerModule, i3$3.AdaptTabsModule, RxBladeModule,\n        RxFormBuilderModule,\n        RxValidationIssuesModule,\n        RxJsonViewerModule,\n        RxViewDesignerPaletteModule,\n        ViewDesignerCanvasModule,\n        DesignerModule,\n        FormControlsModule,\n        RxPermissionEditorModule,\n        RxRevertCustomizationModule,\n        ViewActionDesignModule,\n        RuntimeViewParamsModalModule,\n        RxDesignerHeaderModule,\n        AdaptAlertModule,\n        RxInspectorModule,\n        RxViewCustomizationOptionsModule,\n        RxViewRevertCustomizationModule,\n        TranslateModule, i2.StoreFeatureModule, i1.EffectsFeatureModule], exports: [RxViewDesignerComponent] });\nViewDesignerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerModule, imports: [[\n            CommonModule,\n            AdaptCodeViewerModule,\n            AdaptTabsModule.forRoot(),\n            RxBladeModule,\n            RxFormBuilderModule,\n            RxValidationIssuesModule,\n            RxJsonViewerModule,\n            RxViewDesignerPaletteModule,\n            ViewDesignerCanvasModule,\n            DesignerModule,\n            FormControlsModule,\n            RxPermissionEditorModule,\n            RxRevertCustomizationModule,\n            ViewActionDesignModule,\n            RuntimeViewParamsModalModule,\n            RxDesignerHeaderModule,\n            AdaptAlertModule,\n            RxInspectorModule,\n            RxViewCustomizationOptionsModule,\n            RxViewRevertCustomizationModule,\n            TranslateModule,\n            StoreModule.forFeature('viewDesigner', {\n                model: viewDesignerModelReducer,\n                viewDefinition: viewDefinitionReducer,\n                validation: viewDesignerValidationReducer,\n                ui: viewDesignerUiReducer,\n                breadcrumbs: viewDesignerBreadcrumbsReducer\n            }),\n            EffectsModule.forFeature([ViewDesignerEffects, ViewDesignerComponentEffects])\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewDesignerModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        AdaptCodeViewerModule,\n                        AdaptTabsModule.forRoot(),\n                        RxBladeModule,\n                        RxFormBuilderModule,\n                        RxValidationIssuesModule,\n                        RxJsonViewerModule,\n                        RxViewDesignerPaletteModule,\n                        ViewDesignerCanvasModule,\n                        DesignerModule,\n                        FormControlsModule,\n                        RxPermissionEditorModule,\n                        RxRevertCustomizationModule,\n                        ViewActionDesignModule,\n                        RuntimeViewParamsModalModule,\n                        RxDesignerHeaderModule,\n                        AdaptAlertModule,\n                        RxInspectorModule,\n                        RxViewCustomizationOptionsModule,\n                        RxViewRevertCustomizationModule,\n                        TranslateModule,\n                        StoreModule.forFeature('viewDesigner', {\n                            model: viewDesignerModelReducer,\n                            viewDefinition: viewDefinitionReducer,\n                            validation: viewDesignerValidationReducer,\n                            ui: viewDesignerUiReducer,\n                            breadcrumbs: viewDesignerBreadcrumbsReducer\n                        }),\n                        EffectsModule.forFeature([ViewDesignerEffects, ViewDesignerComponentEffects])\n                    ],\n                    declarations: [RxViewDesignerComponent],\n                    exports: [RxViewDesignerComponent]\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ActionListControlComponent, ActionListControlModule, ActionListEditorDialogComponent, ActionListEditorDialogModule, ActionListWidgetComponent, ActionListWidgetModule, CanvasItemApi, CanvasItemColumnComponent, CanvasItemComponent, CanvasItemContainerComponent, CanvasOutletComponent, CanvasOutletHelperService, DesignerComponent, DesignerModule, DropComponentData, NamedListFilterExpressionConfigurator, RX_AVAILABLE_ON_DEVICES_OPTIONS, RX_VIEW_DESIGNER, RX_VIEW_MODEL, RuntimeViewParamsModalComponent, RuntimeViewParamsModalModule, RxComponentPermissionEditorWidgetComponent, RxComponentPermissionEditorWidgetModule, RxViewActionExpressionConfigurator, RxViewActionValidatorService, RxViewComponentExpressionConfigurator, RxViewCustomizationOptionsComponent, RxViewCustomizationOptionsModule, RxViewDataDictionaryService, RxViewDesignerActionModel, RxViewDesignerComponent, RxViewDesignerDefaultActionModel, RxViewDesignerHelperService, RxViewDesignerPaletteModule, RxViewExpressionConfigurator, RxViewExpressionValidatorService, RxViewModel, RxViewRevertCustomizationComponent, RxViewRevertCustomizationModule, ViewDesignerCanvasComponent, ViewDesignerCanvasItemApiToken, ViewDesignerCanvasModule, ViewDesignerComponentModel, ViewDesignerFacade, ViewDesignerModule, ViewDesignerPaletteComponent, getAvailableOnDevicesInspectorConfig, getDisabledFieldInspectorConfig, getHiddenFieldInspectorConfig, getStandardPropsInspectorConfigs, getStylesFieldInspectorConfig, validateAvailableOnDevicesProp, validateCssClassName, validateCssClassNames, validateStandardProps };\n//# sourceMappingURL=helix-platform-view-designer.js.map\n","import * as i7 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Component, NgModule } from '@angular/core';\nimport { ViewActionsModule } from '@helix/platform/view/actions';\nimport { ViewComponentsModule } from '@helix/platform/view/components';\nimport * as i4 from '@helix/platform/view/runtime';\nimport { RX_RUNTIME_VIEW, RuntimeViewModule } from '@helix/platform/view/runtime';\nimport { TranslateModule } from '@ngx-translate/core';\nimport * as i1 from '@angular/router';\nimport { RouterModule } from '@angular/router';\nimport * as i2 from '@helix/platform/shared/api';\nimport { combineLatest } from 'rxjs';\nimport { take, pluck, distinctUntilChanged } from 'rxjs/operators';\nimport { isEqual, every } from 'lodash';\nimport * as i5 from '@helix/platform/utils';\nimport * as i3 from '@helix/platform/ui-kit';\nimport * as i6 from '@helix/platform/shared/components';\nimport { ApprovalConsoleModule } from '@helix/platform/approval/components';\nimport { DataloadModule } from '@helix/platform/dataload/components';\n\nclass ViewRuntimePageComponent {\n    constructor(route, rxDefinitionNameService, rxPageTitleService, rxPreviousStateService, rxComponentCanDeactivateGuard, rxUtilityModalsService, rxRuntimeViewRegistryService, rxIframeUtilsService, rxGainsightConfiguratorService, rxFeatureService) {\n        this.route = route;\n        this.rxDefinitionNameService = rxDefinitionNameService;\n        this.rxPageTitleService = rxPageTitleService;\n        this.rxPreviousStateService = rxPreviousStateService;\n        this.rxComponentCanDeactivateGuard = rxComponentCanDeactivateGuard;\n        this.rxUtilityModalsService = rxUtilityModalsService;\n        this.rxRuntimeViewRegistryService = rxRuntimeViewRegistryService;\n        this.rxIframeUtilsService = rxIframeUtilsService;\n        this.rxGainsightConfiguratorService = rxGainsightConfiguratorService;\n        this.rxFeatureService = rxFeatureService;\n        this.showRuntimeView = true;\n        this.currentRoute = {\n            bundleId: '',\n            viewDefinitionName: '',\n            inputParams: null\n        };\n    }\n    ngOnInit() {\n        this.rxComponentCanDeactivateGuard.setPageComponent(this);\n        if (this.rxIframeUtilsService.isRunningInIframe() && this.rxFeatureService.isFeatureEnabled('DRD21-11744')) {\n            this.rxGainsightConfiguratorService.gainsightInitConfiguration$\n                .pipe(take(1))\n                .subscribe();\n        }\n        this.subscription = combineLatest([\n            this.route.params.pipe(pluck('bundleId')),\n            this.route.params.pipe(pluck('viewDefinitionName')),\n            this.route.queryParams\n        ])\n            .pipe(distinctUntilChanged(isEqual))\n            .subscribe(([bundleId, viewDefinitionName, inputParams]) => {\n            // LMA:: Handling the case where we are on the same route but the input parameters are not the same.\n            // In this case we have to force the view reload.\n            // https://stackoverflow.com/questions/38971660/angular-2-reload-route-on-param-change\n            if (this.currentRoute.bundleId === bundleId &&\n                this.currentRoute.viewDefinitionName === viewDefinitionName &&\n                !isEqual(this.currentRoute.inputParams, inputParams)) {\n                this.showRuntimeView = false;\n                setTimeout(() => (this.showRuntimeView = true));\n            }\n            this.currentRoute.bundleId = bundleId;\n            this.currentRoute.viewDefinitionName = viewDefinitionName;\n            this.currentRoute.inputParams = inputParams;\n            this.updateConfig({ viewDefinitionName, inputParams });\n            this.rxPageTitleService.set(this.rxDefinitionNameService.getDisplayName(viewDefinitionName));\n            this.rxGainsightConfiguratorService.updateGlobalContext(null, viewDefinitionName);\n        });\n    }\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n        this.rxComponentCanDeactivateGuard.setPageComponent(null);\n    }\n    canDeactivate() {\n        return every(this.rxRuntimeViewRegistryService.getAll(), (runtimeView) => runtimeView.canClose());\n    }\n    confirmDeactivation() {\n        return this.rxUtilityModalsService.confirmUnsavedChanges();\n    }\n    onCancelView() {\n        this.rxComponentCanDeactivateGuard.disable();\n        this.onCloseOrCancel({ actionName: RX_RUNTIME_VIEW.actions.cancel });\n    }\n    onCloseView(outputParams) {\n        this.onCloseOrCancel({ actionName: RX_RUNTIME_VIEW.actions.close, outputParams });\n    }\n    onCloseOrCancel(payload) {\n        if (this.rxIframeUtilsService.isRunningInIframe()) {\n            this.rxIframeUtilsService.postMessageToHost(payload);\n        }\n        else {\n            this.rxPreviousStateService.goToPrevState();\n        }\n    }\n    onRegisterApi(api) {\n        this.runtimeViewApi = api;\n    }\n    updateConfig(cfg) {\n        this.configuration = Object.assign(Object.assign(Object.assign({}, this.configuration), cfg), { onRegisterApi: this.onRegisterApi.bind(this) });\n    }\n}\nViewRuntimePageComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewRuntimePageComponent, deps: [{ token: i1.ActivatedRoute }, { token: i2.RxDefinitionNameService }, { token: i2.RxPageTitleService }, { token: i2.RxPreviousStateService }, { token: i2.RxComponentCanDeactivateGuard }, { token: i3.RxUtilityModalsService }, { token: i4.RxRuntimeViewRegistryService }, { token: i5.RxIframeUtilsService }, { token: i6.RxGainsightConfiguratorService }, { token: i2.RxFeatureService }], target: i0.ɵɵFactoryTarget.Component });\nViewRuntimePageComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: ViewRuntimePageComponent, selector: \"rx-view-runtime-page\", ngImport: i0, template: \"<rx-runtime-view\\n  [configuration]=\\\"configuration\\\"\\n  (cancelView)=\\\"onCancelView()\\\"\\n  (closeView)=\\\"onCloseView($event)\\\"\\n  *ngIf=\\\"showRuntimeView\\\"\\n></rx-runtime-view>\\n\", components: [{ type: i4.RuntimeViewComponent, selector: \"rx-runtime-view\", inputs: [\"configuration\"], outputs: [\"save\", \"closeView\", \"cancelView\", \"beforeLoad\", \"afterLoad\"] }], directives: [{ type: i7.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewRuntimePageComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-view-runtime-page',\n                    templateUrl: './view-runtime-page.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.ActivatedRoute }, { type: i2.RxDefinitionNameService }, { type: i2.RxPageTitleService }, { type: i2.RxPreviousStateService }, { type: i2.RxComponentCanDeactivateGuard }, { type: i3.RxUtilityModalsService }, { type: i4.RxRuntimeViewRegistryService }, { type: i5.RxIframeUtilsService }, { type: i6.RxGainsightConfiguratorService }, { type: i2.RxFeatureService }]; } });\n\nconst routes = [\n    {\n        path: '',\n        component: ViewRuntimePageComponent,\n        pathMatch: 'full'\n    }\n];\nclass ViewRuntimePageRoutingModule {\n}\nViewRuntimePageRoutingModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewRuntimePageRoutingModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nViewRuntimePageRoutingModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewRuntimePageRoutingModule, imports: [i1.RouterModule], exports: [RouterModule] });\nViewRuntimePageRoutingModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewRuntimePageRoutingModule, imports: [[RouterModule.forChild(routes)], RouterModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewRuntimePageRoutingModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [RouterModule.forChild(routes)],\n                    exports: [RouterModule]\n                }]\n        }] });\n\nclass ViewRuntimePageModule {\n}\nViewRuntimePageModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewRuntimePageModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nViewRuntimePageModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewRuntimePageModule, declarations: [ViewRuntimePageComponent], imports: [CommonModule,\n        TranslateModule,\n        ViewRuntimePageRoutingModule,\n        RuntimeViewModule,\n        ViewComponentsModule,\n        ViewActionsModule,\n        ApprovalConsoleModule,\n        DataloadModule] });\nViewRuntimePageModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewRuntimePageModule, imports: [[\n            CommonModule,\n            TranslateModule,\n            ViewRuntimePageRoutingModule,\n            RuntimeViewModule,\n            ViewComponentsModule,\n            ViewActionsModule,\n            ApprovalConsoleModule,\n            DataloadModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewRuntimePageModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [ViewRuntimePageComponent],\n                    imports: [\n                        CommonModule,\n                        TranslateModule,\n                        ViewRuntimePageRoutingModule,\n                        RuntimeViewModule,\n                        ViewComponentsModule,\n                        ViewActionsModule,\n                        ApprovalConsoleModule,\n                        DataloadModule\n                    ]\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ViewRuntimePageComponent, ViewRuntimePageModule };\n//# sourceMappingURL=helix-platform-view-runtime-page.js.map\n","import * as i0 from '@angular/core';\nimport { Injectable, ViewContainerRef, Component, Input, ViewChild, HostBinding, EventEmitter, Output, HostListener, Directive, NgModule, Optional } from '@angular/core';\nimport { Subject, ReplaySubject, from, of, EMPTY, merge, throwError, asyncScheduler, combineLatest, BehaviorSubject, Observable, NEVER } from 'rxjs';\nimport { takeUntil, skipWhile, distinctUntilChanged, delay, mergeScan, map, take, switchMap, filter, distinct, reduce, tap, defaultIfEmpty, switchMapTo, catchError, pluck } from 'rxjs/operators';\nimport * as i2$4 from '@helix/platform/record/api';\nimport * as i2$1 from '@helix/platform/view/api';\nimport { RX_VIEW_DEFINITION, ViewLayoutRole, RxViewComponentType, RX_AVAILABLE_ON_DEVICES_PROP_NAME, RX_AVAILABLE_ON_DEVICES_ALL_VALUE, RxViewLayout, ViewComponentPropertyType } from '@helix/platform/view/api';\nimport * as i2$2 from '@helix/platform/utils';\nimport { RX_GUID } from '@helix/platform/utils';\nimport { pick, includes, castArray, isString, chain, values, isObject, isEmpty, head, some, has, groupBy, map as map$1, keys, every, intersection, forEach, get, forOwn, find, sortBy, toNumber, forIn, isFunction, set, isNil, pull } from 'lodash';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i1 from '@helix/platform/shared/api';\nimport * as i2$3 from '@helix/platform/ui-kit';\nimport { RxBusyIndicatorModule } from '@helix/platform/ui-kit';\nimport * as i8 from '@helix/platform/association/api';\nimport * as i5 from '@helix/platform/process/api';\nimport { FormsModule } from '@angular/forms';\nimport * as i3 from '@ngx-translate/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport * as i4 from '@bmc-ux/adapt-angular';\nimport { DismissReasons, AdaptAlertModule } from '@bmc-ux/adapt-angular';\n\nclass RuntimeLayoutOutletColumn {\n    constructor() {\n        this.children = [];\n    }\n}\nclass RuntimeLayoutOutlet {\n    constructor() {\n        this.children = [];\n        this.columns = [new RuntimeLayoutOutletColumn()];\n        this.height = null;\n    }\n}\n\nclass RuntimeLayoutItem {\n    constructor(options) {\n        this.outlets = [];\n        this.parent = null;\n        this.runtimeViewModelApi = null;\n        Object.assign(this, {\n            guid: options.guid,\n            config: options.config,\n            parent: options.parent,\n            runtimeViewModelApi: options.runtimeViewModelApi,\n            factory: options.factory\n        });\n        if (options.outlets) {\n            this.initializeOutlets(options.outlets);\n        }\n    }\n    initializeOutlets(outlets) {\n        outlets.forEach((outlet) => {\n            const layoutOutletItem = new RuntimeLayoutOutlet();\n            layoutOutletItem.name = outlet.name;\n            layoutOutletItem.height = outlet.hasOwnProperty('height') ? outlet.height : null;\n            this.outlets.push(layoutOutletItem);\n        });\n    }\n    addLayoutItem(layoutTreeItem, columnConfig) {\n        const outlet = this.outlets.find((outletItem) => outletItem.name === columnConfig.parentOutlet.name);\n        const insertIndex = columnConfig.parentOutlet.columns[columnConfig.columnIndex].children.indexOf(layoutTreeItem.guid);\n        columnConfig.parentOutlet.columns.forEach((column, columnIndex) => {\n            if (!outlet.columns[columnIndex]) {\n                outlet.columns[columnIndex] = new RuntimeLayoutOutletColumn();\n            }\n            if (column.cssClass) {\n                outlet.columns[columnIndex].cssClass = column.cssClass;\n            }\n            if (column.span) {\n                outlet.columns[columnIndex].span = column.span;\n            }\n        });\n        if (layoutTreeItem) {\n            outlet.columns[columnConfig.columnIndex].children[insertIndex] = layoutTreeItem;\n        }\n    }\n}\n\nclass RuntimeViewCanvasService {\n    constructor() {\n        this.componentPropertyChangedSubject = new Subject();\n        this.componentPropertyChanged$ = this.componentPropertyChangedSubject.asObservable();\n    }\n    onViewComponentPropertyChanged(componentPropertyChange) {\n        this.componentPropertyChangedSubject.next(componentPropertyChange);\n    }\n}\nRuntimeViewCanvasService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRuntimeViewCanvasService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasService, decorators: [{\n            type: Injectable\n        }] });\n\nclass RuntimeViewCanvasItemService {\n    constructor(injector, componentFactoryResolver, runtimeViewCanvasService) {\n        this.injector = injector;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.runtimeViewCanvasService = runtimeViewCanvasService;\n        this.hasMargin = true;\n        this.hasAutoFill = false;\n        this.hasAutoScroll = false;\n        this.isHidden = false;\n        this.destroyed$ = new ReplaySubject(1);\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n    registerOutlet(outletName, outletViewContainerRef, containerComponent) {\n        const currentOutlet = this.layout.outlets.find((outlet) => outlet.name === outletName);\n        if (currentOutlet) {\n            this.renderContainerComponent(outletViewContainerRef, currentOutlet, containerComponent);\n        }\n    }\n    getChildren(outletName) {\n        const currentOutlet = this.layout.outlets.find((outlet) => outlet.name === outletName);\n        return currentOutlet.columns.map((column) => (Object.assign(Object.assign({}, column), { children: column.children\n                .filter(Boolean)\n                .map((child) => pick(child, 'config', 'guid', 'runtimeViewModelApi', 'factory', 'outlets')) })));\n    }\n    renderViewComponent() {\n        var _a, _b, _c, _d;\n        this.componentRef = this.container.createComponent(this.layout.factory, null, this.injector);\n        this.componentInstance = this.componentRef.instance;\n        this.componentInstance.guid = this.layout.guid;\n        this.componentInstance.config = this.layout.config;\n        this.componentInstance.runtimeViewModelApi = this.layout.runtimeViewModelApi;\n        (_a = this.componentInstance.propertyChanged) === null || _a === void 0 ? void 0 : _a.pipe(takeUntil(this.destroyed$)).subscribe((propertyChange) => {\n            this.runtimeViewCanvasService.onViewComponentPropertyChanged(propertyChange);\n        });\n        // Update hasMargin, hasAutoScroll, and hasAutoFill property bindings asynchronously using timeout\n        // to trigger change detection. Otherwise \"ExpressionChangedAfterItHasBeenCheckedError\" will occur.\n        (_b = this.componentInstance.hidden) === null || _b === void 0 ? void 0 : _b.pipe(skipWhile((value) => !value), distinctUntilChanged(), delay(0), takeUntil(this.destroyed$)).subscribe((hidden) => {\n            this.hasMargin = !hidden;\n            this.isHidden = hidden;\n        });\n        (_c = this.componentInstance.autoScroll) === null || _c === void 0 ? void 0 : _c.pipe(skipWhile((value) => !value), distinctUntilChanged(), delay(0), takeUntil(this.destroyed$)).subscribe((autoScroll) => {\n            this.hasAutoScroll = autoScroll;\n        });\n        (_d = this.componentInstance.autoFill) === null || _d === void 0 ? void 0 : _d.pipe(skipWhile((value) => !value), distinctUntilChanged(), delay(0), takeUntil(this.destroyed$)).subscribe((autoFill) => {\n            this.hasAutoFill = autoFill;\n        });\n    }\n    renderContainerComponent(outletViewContainerRef, currentOutlet, containerComponent) {\n        const containerComponentFactory = containerComponent;\n        const containerRef = outletViewContainerRef.createComponent(containerComponentFactory);\n        containerRef.instance.columns = currentOutlet.columns;\n        containerRef.instance.outlet = currentOutlet;\n    }\n}\nRuntimeViewCanvasItemService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasItemService, deps: [{ token: i0.Injector }, { token: i0.ComponentFactoryResolver }, { token: RuntimeViewCanvasService }], target: i0.ɵɵFactoryTarget.Injectable });\nRuntimeViewCanvasItemService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasItemService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasItemService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i0.ComponentFactoryResolver }, { type: RuntimeViewCanvasService }]; } });\n\nclass RuntimeViewCanvasItemComponent {\n    constructor(runtimeViewCanvasItemService) {\n        this.runtimeViewCanvasItemService = runtimeViewCanvasItemService;\n    }\n    get hasMargin() {\n        return this.runtimeViewCanvasItemService.hasMargin;\n    }\n    get hasAutoFill() {\n        return this.runtimeViewCanvasItemService.hasAutoFill && !this.runtimeViewCanvasItemService.isHidden;\n    }\n    get hasAutoScroll() {\n        return this.runtimeViewCanvasItemService.hasAutoScroll;\n    }\n    ngOnChanges(changes) {\n        if (!this.runtimeViewCanvasItemService.container) {\n            this.runtimeViewCanvasItemService.container = this.container;\n        }\n        if (changes.layout.currentValue) {\n            this.runtimeViewCanvasItemService.layout = changes.layout.currentValue;\n            if (changes.layout.previousValue) {\n                this.container.clear();\n            }\n            this.runtimeViewCanvasItemService.renderViewComponent();\n        }\n    }\n    registerOutlet(outletName, outletViewContainerRef) {\n        this.runtimeViewCanvasItemService.registerOutlet(outletName, outletViewContainerRef);\n    }\n    getChildren(outletName) {\n        return this.runtimeViewCanvasItemService.getChildren(outletName);\n    }\n}\nRuntimeViewCanvasItemComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasItemComponent, deps: [{ token: RuntimeViewCanvasItemService }], target: i0.ɵɵFactoryTarget.Component });\nRuntimeViewCanvasItemComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RuntimeViewCanvasItemComponent, selector: \"rx-runtime-view-canvas-item\", inputs: { layout: \"layout\" }, host: { properties: { \"class.rx-runtime-view-canvas-item-margin\": \"this.hasMargin\", \"class.rx-runtime-view-canvas-item-auto-fill\": \"this.hasAutoFill\", \"class.rx-runtime-view-canvas-item-auto-scroll\": \"this.hasAutoScroll\" } }, providers: [RuntimeViewCanvasItemService], viewQueries: [{ propertyName: \"container\", first: true, predicate: [\"container\"], descendants: true, read: ViewContainerRef, static: true }], usesOnChanges: true, ngImport: i0, template: \"<ng-container #container></ng-container>\\n\" });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasItemComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-runtime-view-canvas-item',\n                    templateUrl: './runtime-view-canvas-item.component.html',\n                    providers: [RuntimeViewCanvasItemService]\n                }]\n        }], ctorParameters: function () { return [{ type: RuntimeViewCanvasItemService }]; }, propDecorators: { layout: [{\n                type: Input\n            }], container: [{\n                type: ViewChild,\n                args: ['container', { read: ViewContainerRef, static: true }]\n            }], hasMargin: [{\n                type: HostBinding,\n                args: ['class.rx-runtime-view-canvas-item-margin']\n            }], hasAutoFill: [{\n                type: HostBinding,\n                args: ['class.rx-runtime-view-canvas-item-auto-fill']\n            }], hasAutoScroll: [{\n                type: HostBinding,\n                args: ['class.rx-runtime-view-canvas-item-auto-scroll']\n            }] } });\n\nclass RuntimeViewCanvasItemContainerComponent {\n    constructor() {\n        this.columns = [];\n    }\n    get hostClass() {\n        if (this.outlet.height) {\n            return `${this.outlet.height}px`;\n        }\n        return null;\n    }\n    trackByFn(index, item) {\n        return (item === null || item === void 0 ? void 0 : item.guid) || index;\n    }\n}\nRuntimeViewCanvasItemContainerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasItemContainerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nRuntimeViewCanvasItemContainerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RuntimeViewCanvasItemContainerComponent, selector: \"rx-runtime-view-canvas-item-container\", inputs: { columns: \"columns\", outlet: \"outlet\" }, host: { properties: { \"style.min-height\": \"this.hostClass\" } }, ngImport: i0, template: \"<ng-container *ngIf=\\\"columns.length > 1\\\">\\n  <div class=\\\"row rx-runtime-view-canvas-item-container-row\\\">\\n    <div\\n      class=\\\"rx-runtime-view-canvas-item-container-column\\\"\\n      [ngClass]=\\\"column.cssClass ? column.cssClass : column.span ? 'col-' + column.span : 'col'\\\"\\n      *ngFor=\\\"let column of columns\\\"\\n    >\\n      <ng-container *ngTemplateOutlet=\\\"itemTpl; context: { $implicit: column.children }\\\"></ng-container>\\n    </div>\\n  </div>\\n</ng-container>\\n\\n<ng-container *ngIf=\\\"columns.length === 1\\\">\\n  <ng-container *ngTemplateOutlet=\\\"itemTpl; context: { $implicit: columns[0].children }\\\"></ng-container>\\n</ng-container>\\n\\n<ng-template #itemTpl let-layoutItems>\\n  <rx-runtime-view-canvas-item\\n    #item\\n    *ngFor=\\\"let layoutItem of layoutItems; trackBy: trackByFn\\\"\\n    [layout]=\\\"layoutItem\\\"\\n  ></rx-runtime-view-canvas-item>\\n</ng-template>\\n\", styles: [\":root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: \\\"Open Sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}rx-runtime-view-canvas-item{display:block}::ng-deep .rx-runtime-view-canvas-item-margin:not(:last-child){margin-bottom:1rem}.rx-runtime-view-canvas-item-auto-fill,.rx-runtime-view-canvas-item-container-row,.rx-runtime-view-canvas-item-container-column{height:100%}.rx-runtime-view-canvas-item-container-column{display:flex;flex-direction:column}.rx-runtime-view-canvas-item-auto-scroll{overflow-y:auto}.rx-mb-sm{margin-bottom:1rem}@media (min-width: 576px){.rx-mb-sm{margin-bottom:0}}.rx-mb-sm:nth-last-child(1){margin-bottom:0}.rx-mb-md{margin-bottom:1rem}@media (min-width: 768px){.rx-mb-md{margin-bottom:0}}.rx-mb-md:nth-last-child(1){margin-bottom:0}.rx-mb-lg{margin-bottom:1rem}@media (min-width: 992px){.rx-mb-lg{margin-bottom:0}}.rx-mb-lg:nth-last-child(1){margin-bottom:0}.rx-mb-xl{margin-bottom:1rem}@media (min-width: 1200px){.rx-mb-xl{margin-bottom:0}}.rx-mb-xl:nth-last-child(1){margin-bottom:0}.rx-mb-xxl{margin-bottom:1rem}@media (min-width: 1600px){.rx-mb-xxl{margin-bottom:0}}.rx-mb-xxl:nth-last-child(1){margin-bottom:0}\\n\"], components: [{ type: RuntimeViewCanvasItemComponent, selector: \"rx-runtime-view-canvas-item\", inputs: [\"layout\"] }], directives: [{ type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i2.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasItemContainerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-runtime-view-canvas-item-container',\n                    templateUrl: './runtime-view-canvas-item-container.component.html',\n                    styleUrls: ['./runtime-view-canvas-item-container.component.scss']\n                }]\n        }], propDecorators: { columns: [{\n                type: Input\n            }], outlet: [{\n                type: Input\n            }], hostClass: [{\n                type: HostBinding,\n                args: ['style.min-height']\n            }] } });\n\nclass RuntimeViewRootComponent {\n    constructor(runtimeCanvasItemComponent) {\n        this.runtimeCanvasItemComponent = runtimeCanvasItemComponent;\n        this.defaultOutletName = RX_VIEW_DEFINITION.defaultOutletName;\n        this.layoutRole = ViewLayoutRole;\n    }\n    isHidden(outlet) {\n        return outlet.name === ViewLayoutRole.Header && outlet.columns[0].children.length === 0;\n    }\n}\nRuntimeViewRootComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewRootComponent, deps: [{ token: RuntimeViewCanvasItemComponent }], target: i0.ɵɵFactoryTarget.Component });\nRuntimeViewRootComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RuntimeViewRootComponent, selector: \"rx-runtime-view-root\", ngImport: i0, template: \"<rx-runtime-view-canvas-item-container\\n  *ngFor=\\\"let outlet of runtimeCanvasItemComponent.layout.outlets\\\"\\n  [hidden]=\\\"isHidden(outlet)\\\"\\n  [columns]=\\\"outlet.columns\\\"\\n  [outlet]=\\\"outlet\\\"\\n  [ngClass]=\\\"{\\n    'content-outlet': outlet.name === defaultOutletName,\\n    'outlet-padding': [layoutRole.Header, layoutRole.Footer, defaultOutletName].includes(outlet.name)\\n  }\\\"\\n></rx-runtime-view-canvas-item-container>\\n\", styles: [\":host{display:flex;flex-direction:column;height:100%;overflow:hidden}rx-runtime-view-canvas-item-container{padding:0 1rem}.outlet-padding{padding:1rem}.content-outlet{flex:1;overflow-y:auto;overflow-x:hidden}\\n\"], components: [{ type: RuntimeViewCanvasItemContainerComponent, selector: \"rx-runtime-view-canvas-item-container\", inputs: [\"columns\", \"outlet\"] }], directives: [{ type: i2.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewRootComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-runtime-view-root',\n                    templateUrl: './runtime-component.html',\n                    styleUrls: ['./runtime-component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: RuntimeViewCanvasItemComponent }]; } });\n\n/**\n * @desc Represents runtime component tree\n */\nclass RuntimeViewLayoutService {\n    constructor(rxViewComponentRegistryService, viewDefinitionParserService, factoryResolver, tree, rxJsonParserService, rxLogService, rxOldViewLayoutAdapterService) {\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.viewDefinitionParserService = viewDefinitionParserService;\n        this.factoryResolver = factoryResolver;\n        this.tree = tree;\n        this.rxJsonParserService = rxJsonParserService;\n        this.rxLogService = rxLogService;\n        this.rxOldViewLayoutAdapterService = rxOldViewLayoutAdapterService;\n    }\n    clear() {\n        this.layout = null;\n    }\n    init(runtimeViewModel, runtimeViewModelApi) {\n        this.runtimeViewModel = runtimeViewModel;\n        this.runtimeViewModelApi = runtimeViewModelApi;\n        this.viewDefinitionParserService\n            .getComponents(runtimeViewModel.viewDefinition)\n            .forEach(this.processDefinition.bind(this));\n    }\n    processDefinition(componentDefinitionItem) {\n        this.rxOldViewLayoutAdapterService.convertLayout(componentDefinitionItem);\n        if (!componentDefinitionItem.parentComponentDefinition) {\n            this.initializeView(componentDefinitionItem.componentDefinition);\n        }\n        else {\n            const componentDescriptor = this.rxViewComponentRegistryService.get(componentDefinitionItem.componentDefinition.type);\n            if (componentDefinitionItem.componentDefinition.type !== RxViewComponentType.Action &&\n                componentDescriptor &&\n                !this.runtimeViewModel.isDataViewComponentDefinition(componentDescriptor)) {\n                // todo move this logic to separate method\n                const parentComponentDefinitionLayout = JSON.parse(componentDefinitionItem.parentComponentDefinition.layout);\n                let columnIndex = 0;\n                const parentOutlet = parentComponentDefinitionLayout.outlets.find((outlet) => {\n                    return outlet.columns.find((col, colIndex) => {\n                        const includes = col.children.includes(componentDefinitionItem.componentDefinition.guid);\n                        if (includes) {\n                            columnIndex = colIndex;\n                        }\n                        return includes;\n                    });\n                });\n                if (parentOutlet) {\n                    const viewComponentConfig = this.runtimeViewModel.viewComponentStates\n                        .get(componentDefinitionItem.componentDefinition.guid)\n                        .config$.asObservable();\n                    const parentLayoutItem = this.getLayoutItem(componentDefinitionItem.parentComponentDefinition.guid);\n                    parentLayoutItem.addLayoutItem(new RuntimeLayoutItem({\n                        guid: componentDefinitionItem.componentDefinition.guid,\n                        config: viewComponentConfig,\n                        parent: parentLayoutItem,\n                        runtimeViewModelApi: this.runtimeViewModelApi,\n                        outlets: componentDescriptor.outlets,\n                        factory: componentDescriptor.componentFactory\n                    }), {\n                        parentOutlet,\n                        columnIndex\n                    });\n                }\n                else {\n                    const component = componentDefinitionItem.componentDefinition;\n                    this.rxLogService.warning(`Cannot render view component. ${component.type} (${component.guid}) is not used in layout.`);\n                }\n            }\n        }\n    }\n    initializeView(viewDefinition) {\n        const layout = this.rxJsonParserService.tryParseJson(viewDefinition.layout);\n        this.layout = new RuntimeLayoutItem({\n            guid: viewDefinition.guid,\n            parent: null,\n            runtimeViewModelApi: this.runtimeViewModelApi,\n            outlets: layout.outlets,\n            factory: this.factoryResolver.resolveComponentFactory(RuntimeViewRootComponent)\n        });\n    }\n    getLayoutItem(guid) {\n        const flattenedLayoutItems = this.tree.flattenBy(this.layout, (currentLayout) => {\n            return currentLayout.outlets.reduce((result, outlet) => {\n                outlet.columns.forEach((column) => {\n                    column.children.forEach((canvasLayout) => {\n                        result.push(canvasLayout);\n                    });\n                });\n                return result;\n            }, []);\n        });\n        return flattenedLayoutItems.find((flattenedLayoutItem) => flattenedLayoutItem.guid === guid);\n    }\n}\nRuntimeViewLayoutService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewLayoutService, deps: [{ token: i2$1.RxViewComponentRegistryService }, { token: i2$1.RxViewDefinitionParserService }, { token: i0.ComponentFactoryResolver }, { token: i2$2.RxTreeService }, { token: i2$2.RxJsonParserService }, { token: i1.RxLogService }, { token: i2$1.RxOldViewLayoutAdapterService }], target: i0.ɵɵFactoryTarget.Injectable });\nRuntimeViewLayoutService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewLayoutService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewLayoutService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i2$1.RxViewComponentRegistryService }, { type: i2$1.RxViewDefinitionParserService }, { type: i0.ComponentFactoryResolver }, { type: i2$2.RxTreeService }, { type: i2$2.RxJsonParserService }, { type: i1.RxLogService }, { type: i2$1.RxOldViewLayoutAdapterService }]; } });\n\nclass RuntimeViewModelApi {\n    clear() {\n        this.runtimeViewModel = null;\n    }\n    init(model) {\n        if (!this.runtimeViewModel) {\n            this.runtimeViewModel = model;\n        }\n    }\n    triggerViewActions(guid, eventName) {\n        return this.runtimeViewModel.triggerViewActions(guid, eventName);\n    }\n    cancel(skipDirtyCheck) {\n        return this.runtimeViewModel.cancel(skipDirtyCheck);\n    }\n    close() {\n        return this.runtimeViewModel.close();\n    }\n    getViewInputParameters() {\n        return this.runtimeViewModel.getViewInputParameters();\n    }\n    applyViewPreset(viewPresetSelectorGuid, viewPresetGuid, sharedViewPresets) {\n        return this.runtimeViewModel.applyViewPreset(viewPresetSelectorGuid, viewPresetGuid, sharedViewPresets);\n    }\n    deleteViewPreset(viewPresetGuid) {\n        return this.runtimeViewModel.deleteViewPreset(viewPresetGuid);\n    }\n    discardViewPresetChanges(viewPresetGuid, sharedViewPresets) {\n        return this.runtimeViewModel.discardViewPresetChanges(viewPresetGuid, sharedViewPresets);\n    }\n    saveViewPreset(viewPresetGuid) {\n        return this.runtimeViewModel.saveViewPreset(viewPresetGuid);\n    }\n    shareViewPreset(viewPresetSelectorGuid) {\n        return this.runtimeViewModel.shareViewPreset(viewPresetSelectorGuid);\n    }\n}\nRuntimeViewModelApi.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewModelApi, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRuntimeViewModelApi.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewModelApi });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewModelApi, decorators: [{\n            type: Injectable\n        }] });\n\nclass ComponentExpression {\n    constructor(propertyName, expression, rxExpressionEvaluatorService, customEvaluatorService) {\n        this.propertyName = propertyName;\n        this.expression = expression;\n        this.rxExpressionEvaluatorService = rxExpressionEvaluatorService;\n        this.customEvaluatorService = customEvaluatorService;\n    }\n    evaluate(expressionContext) {\n        return this.rxExpressionEvaluatorService.tryEvaluate(this.expression, expressionContext, this.customEvaluatorService);\n    }\n    hasDependency(guid, propertyName) {\n        return includes(this.expression, `${guid}.${propertyName}`);\n    }\n    hasTokens() {\n        return includes(this.expression, '${view.') || this.hasKeywordTokens();\n    }\n    hasKeywordTokens() {\n        return includes(this.expression, '${keywords.');\n    }\n    hasViewTokens() {\n        return (includes(this.expression, '${view.inputParams') ||\n            includes(this.expression, '${view.api') ||\n            this.hasViewIsValidToken());\n    }\n    hasViewIsValidToken() {\n        return includes(this.expression, '${view.isValid}');\n    }\n    hasComponentTokens() {\n        return includes(this.expression, '${view.components');\n    }\n}\n\nclass ViewComponentEventManager {\n    constructor(rxGlobalEventsService, rxLogService, rxViewActionService, errorHandler) {\n        this.rxGlobalEventsService = rxGlobalEventsService;\n        this.rxLogService = rxLogService;\n        this.rxViewActionService = rxViewActionService;\n        this.errorHandler = errorHandler;\n    }\n    executeActions(actions, actionCallback) {\n        return new Promise((resolve, reject) => {\n            let resultValue;\n            from(actions)\n                .pipe(mergeScan((acc, currentAction) => {\n                this.rxLogService.debug('ACTION STARTED: ' + currentAction.name);\n                return this.rxViewActionService.execute(currentAction.name, currentAction.parameters).pipe(map((result) => actionCallback(currentAction, result)), take(1));\n            }, null, 1))\n                .subscribe({\n                next: (result) => (resultValue = result),\n                error: (error) => {\n                    reject(error);\n                    this.rxGlobalEventsService.viewActionsCompleted$.next();\n                    castArray(error).forEach((e) => {\n                        if (isString(e)) {\n                            this.rxLogService.warning(e);\n                        }\n                        else if (e) {\n                            this.errorHandler.handleError(e);\n                        }\n                    });\n                },\n                complete: () => {\n                    this.rxGlobalEventsService.viewActionsCompleted$.next();\n                    resolve(resultValue);\n                }\n            });\n        });\n    }\n}\nViewComponentEventManager.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewComponentEventManager, deps: [{ token: i1.RxGlobalEventsService }, { token: i1.RxLogService }, { token: i2$1.RxViewActionService }, { token: i0.ErrorHandler }], target: i0.ɵɵFactoryTarget.Injectable });\nViewComponentEventManager.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewComponentEventManager, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: ViewComponentEventManager, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.RxGlobalEventsService }, { type: i1.RxLogService }, { type: i2$1.RxViewActionService }, { type: i0.ErrorHandler }]; } });\n\nconst VIEW_COMPONENT_DEFAULT_EVENT_NAME = 'default';\n\nclass RxRuntimeViewUtilsService {\n    constructor(rxViewDefinitionService, rxViewDefinitionParserService, rxDefinitionAdapterRegistryService, rxViewActionDefinitionAdapterRegistryService, rxViewDefinitionCacheService) {\n        this.rxViewDefinitionService = rxViewDefinitionService;\n        this.rxViewDefinitionParserService = rxViewDefinitionParserService;\n        this.rxDefinitionAdapterRegistryService = rxDefinitionAdapterRegistryService;\n        this.rxViewActionDefinitionAdapterRegistryService = rxViewActionDefinitionAdapterRegistryService;\n        this.rxViewDefinitionCacheService = rxViewDefinitionCacheService;\n    }\n    isViewCancellable(viewDefinitionName) {\n        if (isString(viewDefinitionName)) {\n            return this.rxViewDefinitionCacheService\n                .getViewDefinition(viewDefinitionName)\n                .pipe(map((viewDefinition) => this.hasPageComponent(viewDefinition) || this.hasViewCancellingAction(viewDefinition)));\n        }\n        else {\n            return of(this.hasPageComponent(viewDefinitionName) || this.hasViewCancellingAction(viewDefinitionName));\n        }\n    }\n    runAdaptersForComponents(viewDefinition, containerViewComponentDefinition) {\n        const componentPairs = this.rxViewDefinitionParserService.getComponents(containerViewComponentDefinition || viewDefinition);\n        const regex = new RegExp(`\\\\$\\{view.components.${RX_GUID.baseGuidPattern}.`);\n        viewDefinition.viewComponentExpressions = chain(componentPairs)\n            .map((component) => values(component.componentDefinition.propertiesByName))\n            .flatten()\n            .map((propertyValue) => (isObject(propertyValue) ? values(propertyValue) : propertyValue))\n            .flatten()\n            .filter(isString)\n            .filter((propertyValue) => regex.test(propertyValue))\n            .value();\n        const result = componentPairs.reduce((adapterObservables$, { componentDefinition }) => {\n            const adapter = componentDefinition.type === RxViewComponentType.Action\n                ? this.rxViewActionDefinitionAdapterRegistryService.getRuntimeAdapter(componentDefinition.propertiesByName.name)\n                : this.rxDefinitionAdapterRegistryService.getRuntimeAdapter(componentDefinition.type);\n            if (adapter) {\n                const result$ = adapter.adaptDefinition(componentDefinition, viewDefinition);\n                adapterObservables$.push(result$ ? result$.pipe(take(1)) : EMPTY);\n            }\n            return adapterObservables$;\n        }, []);\n        return isEmpty(result) ? [EMPTY] : result;\n    }\n    hasViewCancellingAction(viewDefinition) {\n        return Boolean(this.rxViewDefinitionParserService.findViewComponent(viewDefinition, (viewComponentDefinition) => viewComponentDefinition.type === RxViewComponentType.Action &&\n            viewComponentDefinition.propertiesByName.name === 'rxCloseViewAction' &&\n            viewComponentDefinition.propertiesByName.actAsCancel === 'true'));\n    }\n    hasPageComponent(viewDefinition) {\n        var _a;\n        return ((_a = head(viewDefinition.componentDefinitions)) === null || _a === void 0 ? void 0 : _a.type) === RxViewComponentType.Page;\n    }\n}\nRxRuntimeViewUtilsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRuntimeViewUtilsService, deps: [{ token: i2$1.RxViewDefinitionService }, { token: i2$1.RxViewDefinitionParserService }, { token: i1.RxDefinitionAdapterRegistryService }, { token: i2$1.RxViewActionDefinitionAdapterRegistryService }, { token: i2$1.RxViewDefinitionCacheService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxRuntimeViewUtilsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRuntimeViewUtilsService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRuntimeViewUtilsService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i2$1.RxViewDefinitionService }, { type: i2$1.RxViewDefinitionParserService }, { type: i1.RxDefinitionAdapterRegistryService }, { type: i2$1.RxViewActionDefinitionAdapterRegistryService }, { type: i2$1.RxViewDefinitionCacheService }]; } });\n\nclass RxViewDefinitionAdapterService {\n    constructor(rxObjectUtilsService, rxJsonParserService, rxDeviceDetectionService) {\n        this.rxObjectUtilsService = rxObjectUtilsService;\n        this.rxJsonParserService = rxJsonParserService;\n        this.rxDeviceDetectionService = rxDeviceDetectionService;\n    }\n    // called to make view modifications before the view component adapters are executed\n    preProcessViewDefinition(viewDefinition) {\n        var _a;\n        (_a = viewDefinition.componentDefinitions) === null || _a === void 0 ? void 0 : _a.forEach((childComponentDefinition) => {\n            this.expandProperties(childComponentDefinition);\n        });\n    }\n    // called to make view modifications after the view component adapters have been executed\n    postProcessViewDefinition(viewDefinition) {\n        var _a;\n        (_a = viewDefinition.componentDefinitions) === null || _a === void 0 ? void 0 : _a.forEach((childComponentDefinition) => {\n            this.filterComponentsForDevice(childComponentDefinition, viewDefinition);\n        });\n    }\n    expandProperties(componentDefinition) {\n        componentDefinition.propertiesByName = this.rxObjectUtilsService.expandProperties(componentDefinition.propertiesByName);\n        if (componentDefinition.componentDefinitions) {\n            componentDefinition.componentDefinitions.forEach((childComponentDefinition) => {\n                this.expandProperties(childComponentDefinition);\n            });\n        }\n    }\n    filterComponentsForDevice(componentDefinition, parent) {\n        var _a;\n        const availableOnDevicesProp = this.rxJsonParserService.tryParseJson((_a = componentDefinition.propertiesByName) === null || _a === void 0 ? void 0 : _a[RX_AVAILABLE_ON_DEVICES_PROP_NAME], RX_AVAILABLE_ON_DEVICES_ALL_VALUE) || RX_AVAILABLE_ON_DEVICES_ALL_VALUE;\n        if (availableOnDevicesProp.includes(this.rxDeviceDetectionService.currentDevice)) {\n            if ('componentDefinitions' in componentDefinition) {\n                componentDefinition.componentDefinitions.forEach((childComponentDefinition) => {\n                    this.filterComponentsForDevice(childComponentDefinition, componentDefinition);\n                });\n            }\n        }\n        else {\n            parent.componentDefinitions = parent.componentDefinitions.filter((definition) => definition !== componentDefinition);\n            if (parent.layout) {\n                const updatedLayout = RxViewLayout.removeChildFromLayout(this.rxJsonParserService.tryParseJson(parent.layout), componentDefinition.guid);\n                parent.layout = JSON.stringify(updatedLayout);\n            }\n        }\n    }\n}\nRxViewDefinitionAdapterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDefinitionAdapterService, deps: [{ token: i2$2.RxObjectUtilsService }, { token: i2$2.RxJsonParserService }, { token: i2$1.RxDeviceDetectionService }], target: i0.ɵɵFactoryTarget.Injectable });\nRxViewDefinitionAdapterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDefinitionAdapterService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxViewDefinitionAdapterService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i2$2.RxObjectUtilsService }, { type: i2$2.RxJsonParserService }, { type: i2$1.RxDeviceDetectionService }]; } });\n\nclass RuntimeViewModel {\n    constructor(rxBundleService, rxGlobalCacheService, rxViewComponentRegistryService, rxViewDefinitionAdapterService, rxViewDefinitionParserService, rxViewDefinitionService, rxRuntimeViewUtilsService, rxExpressionEvaluatorService, rxNotificationService, rxViewActionRegistryService, rxLogService, viewComponentEventManager, rxUtilityModalsService, rxViewDefinitionCacheService, rxObjectUtilsService, rxJsonParserService, rxCurrentUserService) {\n        this.rxBundleService = rxBundleService;\n        this.rxGlobalCacheService = rxGlobalCacheService;\n        this.rxViewComponentRegistryService = rxViewComponentRegistryService;\n        this.rxViewDefinitionAdapterService = rxViewDefinitionAdapterService;\n        this.rxViewDefinitionParserService = rxViewDefinitionParserService;\n        this.rxViewDefinitionService = rxViewDefinitionService;\n        this.rxRuntimeViewUtilsService = rxRuntimeViewUtilsService;\n        this.rxExpressionEvaluatorService = rxExpressionEvaluatorService;\n        this.rxNotificationService = rxNotificationService;\n        this.rxViewActionRegistryService = rxViewActionRegistryService;\n        this.rxLogService = rxLogService;\n        this.viewComponentEventManager = viewComponentEventManager;\n        this.rxUtilityModalsService = rxUtilityModalsService;\n        this.rxViewDefinitionCacheService = rxViewDefinitionCacheService;\n        this.rxObjectUtilsService = rxObjectUtilsService;\n        this.rxJsonParserService = rxJsonParserService;\n        this.rxCurrentUserService = rxCurrentUserService;\n        // public api which available for runtime view client\n        this.api = {\n            save: this.save.bind(this),\n            close: this.close.bind(this),\n            cancel: this.cancel.bind(this),\n            refresh: this.refresh.bind(this),\n            canClose: this.canClose.bind(this),\n            applyViewPreset: this.applyViewPreset.bind(this),\n            deleteViewPreset: this.deleteViewPreset.bind(this),\n            discardViewPresetChanges: this.discardViewPresetChanges.bind(this),\n            saveViewPreset: this.saveViewPreset.bind(this)\n        };\n        this.saveSubject = new Subject();\n        this.closeSubject = new Subject();\n        this.cancelSubject = new Subject();\n        this.save$ = this.saveSubject.asObservable();\n        this.close$ = this.closeSubject.asObservable();\n        this.cancel$ = this.cancelSubject.asObservable();\n        this.viewComponentStates = new Map();\n        // store all components state, needed for component expression re-evaluation\n        this.evaluationData = {\n            view: {\n                api: this.api,\n                components: {},\n                inputParams: {},\n                isValid: false\n            },\n            keywords: {\n                user: this.rxCurrentUserService.getName(),\n                newLine: '\\n'\n            }\n        };\n    }\n    init(configuration) {\n        this.configuration = configuration;\n        this.clear();\n        const viewDefinition$ = isString(configuration.viewDefinitionName)\n            ? this.rxViewDefinitionCacheService.getViewDefinition(configuration.viewDefinitionName)\n            : of(configuration.viewDefinitionName);\n        return viewDefinition$.pipe(switchMap((viewDefinition) => {\n            const viewComponents = this.rxViewDefinitionParserService.getComponents(viewDefinition, true);\n            const ownerBundleIds = viewComponents.map((viewComponent) => viewComponent.componentDefinition.type === RxViewComponentType.Action\n                ? this.rxViewActionRegistryService.getActionOwnerBundleId(viewComponent.componentDefinition.propertiesByName.name)\n                : this.rxViewComponentRegistryService.getComponentOwnerBundleId(viewComponent.componentDefinition.type));\n            return merge(...ownerBundleIds).pipe(filter(Boolean), distinct(), reduce((acc, bundleId) => {\n                acc.push(bundleId);\n                return acc;\n            }, []), switchMap((bundleIds) => bundleIds.length\n                ? this.rxBundleService.loadBundles(bundleIds, true).pipe(map(() => viewDefinition))\n                : of(viewDefinition)), switchMap((viewDefinition) => this.rxViewComponentRegistryService.resolveAsyncDescriptors().pipe(map(() => viewDefinition))));\n        }), switchMap((viewDefinition) => this.processViewDefinition(viewDefinition)));\n    }\n    clear() {\n        this.viewComponentStates.clear();\n        this.evaluationData.view.components = {};\n        this.evaluationData.view.inputParams = {};\n    }\n    save(closeViewAfterSave = false) {\n        return this.callRuntimeComponentsApi('save', closeViewAfterSave).pipe(tap({\n            complete: () => this.saveSubject.next()\n        }));\n    }\n    close() {\n        const viewOutputParams = this.evaluateViewOutputParams();\n        this.closeSubject.next(viewOutputParams);\n        return of(viewOutputParams);\n    }\n    cancel(skipDirtyCheck) {\n        if (skipDirtyCheck) {\n            this.cancelSubject.next();\n            return EMPTY;\n        }\n        else {\n            return this.isDirtyView().pipe(switchMap((isDirty) => (isDirty ? this.rxUtilityModalsService.confirmUnsavedChanges() : of(true))), tap((canClose) => {\n                if (canClose) {\n                    this.cancelSubject.next();\n                }\n            }), switchMap((canClose) => {\n                return canClose ? EMPTY : throwError(null);\n            }));\n        }\n    }\n    refresh() {\n        return this.callRuntimeComponentsApi('refresh');\n    }\n    canClose() {\n        let canClose = true;\n        this.isDirtyView().subscribe((isDirty) => (canClose = !isDirty));\n        return canClose;\n    }\n    applyViewPreset(viewPresetSelectorGuid, viewPresetGuid, sharedViewPresets) {\n        return this.callRuntimeComponentsApi('applyViewPreset', viewPresetSelectorGuid, viewPresetGuid, sharedViewPresets).pipe(switchMap(() => EMPTY));\n    }\n    deleteViewPreset(viewPresetGuid) {\n        return this.callRuntimeComponentsApi('deleteViewPreset', viewPresetGuid).pipe(switchMap(() => EMPTY));\n    }\n    discardViewPresetChanges(viewPresetGuid, sharedViewPresets) {\n        return this.callRuntimeComponentsApi('discardViewPresetChanges', viewPresetGuid, sharedViewPresets).pipe(switchMap(() => EMPTY));\n    }\n    saveViewPreset(viewPresetGuid) {\n        return this.callRuntimeComponentsApi('saveViewPreset', viewPresetGuid).pipe(switchMap(() => EMPTY));\n    }\n    shareViewPreset(viewPresetSelectorGuid) {\n        return this.callRuntimeComponentsApi('shareViewPreset', viewPresetSelectorGuid).pipe(defaultIfEmpty([]), map((data) => data\n            .filter((item) => Boolean(item === null || item === void 0 ? void 0 : item.data))\n            .reduce((result, item) => {\n            result[item.guid] = item.data;\n            return result;\n        }, {})));\n    }\n    // launch view component actions for particular event\n    triggerViewActions(componentGuid, viewActionTriggerEventName) {\n        let actionsResult = Promise.resolve();\n        const viewComponentState = this.viewComponentStates.get(componentGuid);\n        if (viewComponentState) {\n            const eventState = viewComponentState.eventStates[viewActionTriggerEventName];\n            if (eventState) {\n                const actionStates = eventState.map((actionState) => ({\n                    guid: actionState.guid,\n                    name: actionState.name,\n                    parameters: actionState.config\n                }));\n                // execute view component actions for particular event\n                actionsResult = this.viewComponentEventManager.executeActions(actionStates, (actionState, result) => {\n                    // hook which is called after each action execution\n                    // update action shared state and re-evaluate dependent action view component\n                    this.onViewComponentActionOutputChanged(componentGuid, actionState.guid, result);\n                });\n            }\n            else {\n                this.rxLogService.warning(`Cannot trigger view actions. View Action Trigger Event ${viewActionTriggerEventName} not found.`);\n            }\n        }\n        else {\n            this.rxLogService.warning(`Cannot trigger view actions. View Component ${componentGuid} not found.`);\n        }\n        return actionsResult;\n    }\n    // hook which is called when view component triggers \"property changed\" event\n    onViewComponentPropertyChanged({ guid, propertyName, newValue }) {\n        const viewComponentState = this.viewComponentStates.get(guid);\n        viewComponentState.publicState[propertyName] = newValue;\n        this.updateEvaluationData(viewComponentState);\n        // update config if changed property exist in component properties descriptor\n        if (propertyName !== 'api' && some(viewComponentState.componentDescriptor.properties, { name: propertyName })) {\n            this.updateComponentConfigProperty(propertyName, newValue, viewComponentState);\n            this.updateViewComponentConfig(viewComponentState);\n        }\n        const dependentViewComponentGuids = viewComponentState.dependentViewComponentsMap.get(propertyName);\n        let dependentViewComponentStates;\n        // find all view components which depend on changed view component based on expressions\n        if (dependentViewComponentGuids) {\n            // restore dependent components from the cache\n            dependentViewComponentStates = dependentViewComponentGuids.map((viewComponentGuid) => this.viewComponentStates.get(viewComponentGuid));\n        }\n        else {\n            dependentViewComponentStates = this.getDependentViewComponentStates((expression) => expression.hasDependency(guid, propertyName));\n            // cache dependent view component guids\n            viewComponentState.dependentViewComponentsMap.set(propertyName, dependentViewComponentStates.map((state) => state.guid));\n        }\n        // evaluate expressions for all dependent view components\n        dependentViewComponentStates.forEach((dependentViewComponentState) => {\n            this.evaluateDependentProperties(dependentViewComponentState, guid, propertyName);\n        });\n        // update config$ for all dependent view components\n        dependentViewComponentStates\n            .map((dependentViewComponentState) => {\n            // if dependentViewComponentState is data view component\n            // config$ should be updated for nearest parent view component with UI representation\n            // i.e. if rx-record-grid-column is dependent component then rx-record-grid config$ should be update\n            if (dependentViewComponentState.isDataViewComponent) {\n                return this.getParentViewComponent(dependentViewComponentState);\n            }\n            else {\n                return dependentViewComponentState;\n            }\n        })\n            .forEach((dependentViewComponentState) => {\n            this.updateViewComponentConfig(dependentViewComponentState);\n        });\n        if (propertyName === 'isValid') {\n            this.triggerViewValidation(newValue);\n        }\n    }\n    // ts guard - defines whether componentDescriptor is data view component\n    isDataViewComponentDefinition(componentDescriptor) {\n        return componentDescriptor.configPropertyName !== undefined;\n    }\n    getViewInputParameters() {\n        return this.configuration.inputParams;\n    }\n    isDirtyView() {\n        // Used a separate observable to handle scenario when callRuntimeComponentsApi observable\n        // will be immediately completed. It can happen when no view components will have 'isDirty' API.\n        const isDirtySubject = new ReplaySubject(1);\n        let isDirtyView = false;\n        if (this.isUserInteractionDetected) {\n            this.callRuntimeComponentsApi('isDirty')\n                .pipe(tap((result) => (isDirtyView = result.some(({ data }) => data))))\n                .subscribe({\n                complete: () => isDirtySubject.next(isDirtyView)\n            });\n        }\n        else {\n            isDirtySubject.next(isDirtyView);\n        }\n        return isDirtySubject.asObservable().pipe(take(1));\n    }\n    triggerViewValidation(isValid) {\n        if (isValid) {\n            isValid = Array.from(this.viewComponentStates.values())\n                .filter((viewComponent) => has(viewComponent.publicState, 'isValid'))\n                .every((viewComponent) => viewComponent.publicState.isValid);\n        }\n        if (this.evaluationData.view.isValid !== isValid) {\n            this.evaluationData.view.isValid = isValid;\n            let dependentViewComponentStates;\n            if (this.dependentOnViewIsValidPropViewComponentGuids) {\n                dependentViewComponentStates = this.dependentOnViewIsValidPropViewComponentGuids.map((guid) => this.viewComponentStates.get(guid));\n            }\n            else {\n                dependentViewComponentStates = this.getDependentViewComponentStates((expression) => expression.hasViewIsValidToken());\n                this.dependentOnViewIsValidPropViewComponentGuids = dependentViewComponentStates.map((state) => state.guid);\n            }\n            dependentViewComponentStates.forEach((viewComponentState) => {\n                this.evaluateComponentExpressions(viewComponentState, (expression) => expression.hasViewIsValidToken());\n            });\n            // update view component configs in next javascript event loop, to avoid\n            // 'ExpressionChangedAfterItHasBeenCheckedError' error in components,\n            // dependent on the view isValid property e.g Action button disabled property\n            asyncScheduler.schedule(() => {\n                dependentViewComponentStates.forEach(this.updateViewComponentConfig.bind(this));\n            });\n        }\n    }\n    // return nearest parent view component with UI representation\n    getParentViewComponent(viewComponentState) {\n        let currentViewComponentState = viewComponentState;\n        while (currentViewComponentState.isDataViewComponent) {\n            currentViewComponentState = this.viewComponentStates.get(currentViewComponentState.parentViewComponentGuid);\n        }\n        return currentViewComponentState;\n    }\n    // return all view components which depend on particular expression\n    getDependentViewComponentStates(expressionFilterFn) {\n        return Array.from(this.viewComponentStates.values()).filter((viewComponentState) => {\n            const isDependentComponentState = some(viewComponentState.expressions, expressionFilterFn);\n            const isDependentEventState = some(viewComponentState.eventStates, (eventState) => some(eventState, (event) => some(event.expressions, expressionFilterFn)));\n            return isDependentComponentState || isDependentEventState;\n        });\n    }\n    // pass new view component config to the @Component\n    updateViewComponentConfig(viewComponentState) {\n        // finally update config\n        viewComponentState.config$.next(this.buildComponentConfig(viewComponentState));\n    }\n    // build view component config based on configState and child data view component\n    buildComponentConfig(viewComponentState) {\n        const viewComponentConfigState = Object.assign({}, viewComponentState.configState);\n        // build child data component states\n        this.buildComponentChildDataConfig(viewComponentState, viewComponentConfigState);\n        return viewComponentConfigState;\n    }\n    // recursively build view component config based on data view components\n    buildComponentChildDataConfig(viewComponentState, viewComponentChildConfig = {}) {\n        // find all child data view components\n        const dataViewComponentChildStates = viewComponentState.childViewComponentGuids\n            .map((viewComponentGuid) => this.viewComponentStates.get(viewComponentGuid))\n            .filter((currentViewComponentState) => Boolean(currentViewComponentState))\n            .filter((currentViewComponentState) => currentViewComponentState.isDataViewComponent);\n        // group data view components on config property name\n        const dataViewComponentChildStateGroups = groupBy(dataViewComponentChildStates, (dataViewComponentState) => dataViewComponentState.configPropertyName);\n        // store each data view component config under corresponding config property name\n        Object.keys(dataViewComponentChildStateGroups).forEach((configPropertyName) => {\n            viewComponentChildConfig[configPropertyName] = dataViewComponentChildStateGroups[configPropertyName].map((dataViewComponentStateChild) => {\n                const dataViewComponentChildState = Object.assign({}, dataViewComponentStateChild.configState);\n                // recursively build data view component config\n                this.buildComponentChildDataConfig(dataViewComponentStateChild, dataViewComponentChildState);\n                return dataViewComponentChildState;\n            });\n        });\n    }\n    // update action view component shared state\n    // re-evaluate all dependent action view components\n    onViewComponentActionOutputChanged(componentGuid, actionGuid, viewActionOutput) {\n        const viewComponentState = this.viewComponentStates.get(componentGuid);\n        if (viewComponentState) {\n            const actionState = viewComponentState.eventStates[VIEW_COMPONENT_DEFAULT_EVENT_NAME].find((currentAction) => {\n                return currentAction.guid === actionGuid;\n            });\n            actionState.publicState.output = viewActionOutput;\n            this.updateEvaluationData(viewComponentState);\n            this.evaluateDependentProperties(viewComponentState, actionGuid, 'output');\n        }\n    }\n    evaluateViewOutputParams() {\n        return this.viewDefinition.outputParams.reduce((result, outputParam) => {\n            result[outputParam.name] = this.rxExpressionEvaluatorService.tryEvaluate(outputParam.source, this.evaluationData);\n            return result;\n        }, {});\n    }\n    processViewDefinition(viewDefinition) {\n        this.viewDefinition = this.rxObjectUtilsService.cloneDeep(viewDefinition);\n        this.rxViewDefinitionAdapterService.preProcessViewDefinition(this.viewDefinition);\n        const adapters$ = this.rxRuntimeViewUtilsService.runAdaptersForComponents(this.viewDefinition);\n        return combineLatest(adapters$).pipe(switchMapTo(EMPTY), tap({\n            complete: () => {\n                this.rxViewDefinitionAdapterService.postProcessViewDefinition(this.viewDefinition);\n                this.rxViewDefinitionParserService\n                    .getComponents(this.viewDefinition)\n                    .forEach(this.processComponentDefinition.bind(this));\n                // evaluate expressions with keyword tokens\n                this.viewComponentStates.forEach((viewComponent) => {\n                    this.evaluateComponentExpressions(viewComponent, (componentExpression) => componentExpression.hasKeywordTokens());\n                });\n                // evaluate expressions without tokens\n                this.viewComponentStates.forEach((viewComponent) => {\n                    this.evaluateComponentExpressions(viewComponent, (componentExpression) => !componentExpression.hasTokens());\n                });\n                // evaluate expressions with view tokens\n                this.viewComponentStates.forEach((viewComponent) => {\n                    this.evaluateComponentExpressions(viewComponent, (componentExpression) => componentExpression.hasViewTokens());\n                });\n                // evaluate expressions with component tokens\n                this.viewComponentStates.forEach((viewComponent) => {\n                    this.evaluateComponentExpressions(viewComponent, (componentExpression) => componentExpression.hasComponentTokens());\n                });\n                // update all component configs\n                this.viewComponentStates.forEach((viewComponentState) => {\n                    this.updateViewComponentConfig(viewComponentState);\n                });\n            }\n        }));\n    }\n    processComponentDefinition(componentDefinitionItem) {\n        if (!componentDefinitionItem.parentComponentDefinition) {\n            // process root component definition\n            const configuredParamNames = map$1(componentDefinitionItem.componentDefinition.inputParams, 'name');\n            const passedParamNames = keys(this.configuration.inputParams);\n            const onlyPositionalParams = passedParamNames.length > 0 && every(passedParamNames, (inputParamName) => /^\\$[0-9]+\\$$/.test(inputParamName));\n            if (onlyPositionalParams && intersection(configuredParamNames, passedParamNames).length === 0) {\n                forEach(passedParamNames, (inputParamName) => {\n                    const paramIndex = Number(inputParamName.match(/^\\$([0-9]+)\\$$/)[1]);\n                    const definitionParamName = get(componentDefinitionItem.componentDefinition, `inputParams[${paramIndex}].name`);\n                    this.evaluationData.view.inputParams[definitionParamName] = this.configuration.inputParams[inputParamName];\n                });\n            }\n            else {\n                forEach(configuredParamNames, (inputParamName) => {\n                    this.evaluationData.view.inputParams[inputParamName] = this.configuration.inputParams[inputParamName];\n                });\n            }\n        }\n        else {\n            const componentDefinition = componentDefinitionItem.componentDefinition;\n            const viewComponentState = this.buildViewComponentState(componentDefinitionItem);\n            if (viewComponentState) {\n                this.viewComponentStates.set(componentDefinition.guid, viewComponentState);\n            }\n        }\n    }\n    // generate view component state based on component definition\n    buildViewComponentState(componentDefinitionItem) {\n        const componentDefinition = componentDefinitionItem.componentDefinition;\n        const componentDescriptor = this.rxViewComponentRegistryService.get(componentDefinition.type);\n        if (componentDescriptor) {\n            const viewComponentState = {\n                guid: componentDefinition.guid,\n                type: componentDefinition.type,\n                config$: new BehaviorSubject({}),\n                expressions: [],\n                eventStates: {\n                    [VIEW_COMPONENT_DEFAULT_EVENT_NAME]: []\n                },\n                configState: {},\n                publicState: {},\n                isDataViewComponent: false,\n                configPropertyName: null,\n                parentViewComponentGuid: componentDefinitionItem.parentComponentDefinition.guid,\n                childViewComponentGuids: [],\n                dependentViewComponentsMap: new Map(),\n                componentDescriptor\n            };\n            if (this.isDataViewComponentDefinition(componentDescriptor)) {\n                viewComponentState.isDataViewComponent = true;\n                viewComponentState.configPropertyName = componentDescriptor.configPropertyName;\n            }\n            forOwn(componentDefinition.propertiesByName, (propertyValue, propertyName) => {\n                const viewComponentPropertyDescriptor = find(componentDescriptor.properties, (descriptor) => propertyName === descriptor.name);\n                const isExpressionEvaluationEnabled = viewComponentPropertyDescriptor && viewComponentPropertyDescriptor.enableExpressionEvaluation;\n                // initialize view component expressions\n                if (isExpressionEvaluationEnabled) {\n                    // create expression for property\n                    viewComponentState.expressions.push(new ComponentExpression(propertyName, propertyValue, this.rxExpressionEvaluatorService, viewComponentPropertyDescriptor.evaluatorService));\n                }\n                // update view component config state object\n                this.updateComponentConfigProperty(propertyName, isExpressionEvaluationEnabled ? null : propertyValue, viewComponentState);\n            });\n            // add initial view component state to evaluationData\n            this.updateEvaluationData(viewComponentState);\n            if (this.isContainerComponentDefinition(componentDefinition)) {\n                // set up view component events\n                componentDefinition.componentDefinitions\n                    .filter((currentComponentDefinition) => currentComponentDefinition.type === RxViewComponentType.Action)\n                    .forEach((actionComponentDefinition) => {\n                    const actionState = this.buildViewComponentActionState(actionComponentDefinition);\n                    if (actionState) {\n                        viewComponentState.eventStates[VIEW_COMPONENT_DEFAULT_EVENT_NAME].push(actionState);\n                    }\n                });\n                // sort actions in correct order\n                viewComponentState.eventStates[VIEW_COMPONENT_DEFAULT_EVENT_NAME] = sortBy(viewComponentState.eventStates[VIEW_COMPONENT_DEFAULT_EVENT_NAME], 'index');\n                // set up child view component guids\n                viewComponentState.childViewComponentGuids = componentDefinition.componentDefinitions\n                    .filter((currentComponentDefinition) => currentComponentDefinition.type !== RxViewComponentType.Action)\n                    .map((currentComponentDefinition) => currentComponentDefinition.guid);\n            }\n            return viewComponentState;\n        }\n        else if (componentDefinition.type !== RxViewComponentType.Action) {\n            this.rxLogService.warning(`Cannot initialize view component. View Component Descriptor for ${componentDefinition.type} not found.`);\n        }\n    }\n    // generate action view component state\n    buildViewComponentActionState(actionComponentDefinition) {\n        const actionDescriptor = this.rxViewActionRegistryService.get(actionComponentDefinition.propertiesByName.name);\n        if (actionDescriptor) {\n            const actionState = {\n                guid: actionComponentDefinition.guid,\n                name: actionComponentDefinition.propertiesByName.name,\n                index: toNumber(actionComponentDefinition.propertiesByName.index) || 0,\n                config: {},\n                publicState: {},\n                expressions: []\n            };\n            Object.keys(actionComponentDefinition.propertiesByName || {})\n                .filter((parameterName) => parameterName !== 'name')\n                .map((parameterName) => {\n                const actionPropertyDescriptor = (actionDescriptor.parameters || []).find((descriptor) => parameterName === descriptor.name);\n                const isExpressionEvaluationEnabled = actionPropertyDescriptor && actionPropertyDescriptor.enableExpressionEvaluation;\n                // initialize action view component expressions\n                if (isExpressionEvaluationEnabled) {\n                    // create expression for property\n                    this.initializeActionExpressionForProperty(actionState, actionPropertyDescriptor.evaluatorService, parameterName, actionComponentDefinition.propertiesByName[parameterName]);\n                }\n                // add initial action view component state to evaluationData\n                this.updateActionConfigProperty(parameterName, isExpressionEvaluationEnabled ? null : actionComponentDefinition.propertiesByName[parameterName], actionState);\n            });\n            return actionState;\n        }\n    }\n    initializeActionExpressionForProperty(actionState, evaluatorService, propertyName, propertyValue) {\n        if (isObject(propertyValue)) {\n            forIn(propertyValue, (value, name) => {\n                this.initializeActionExpressionForProperty(actionState, evaluatorService, `${propertyName}.${name}`, value);\n            });\n        }\n        else {\n            actionState.expressions.push(new ComponentExpression(propertyName, propertyValue, this.rxExpressionEvaluatorService, evaluatorService));\n        }\n    }\n    callRuntimeComponentsApi(methodName, ...args) {\n        const resultSubject = new ReplaySubject(1);\n        const errors = [];\n        const apiCallResults = Array.from(this.viewComponentStates.values())\n            .filter((viewComponent) => Boolean(viewComponent.publicState.api && isFunction(viewComponent.publicState.api[methodName])))\n            .map((viewComponent) => {\n            let result = viewComponent.publicState.api[methodName].apply(null, args);\n            if (result && result.then) {\n                result = from(result);\n            }\n            else if (!(result instanceof Observable)) {\n                result = of(result);\n            }\n            return result.pipe(take(1), map((res) => ({\n                guid: viewComponent.guid,\n                data: res\n            })), tap({\n                error: (error) => errors.push(error)\n            }), \n            // catch errors from each view component api call to allow to successfully finish other api calls.\n            catchError(() => EMPTY));\n        });\n        combineLatest(apiCallResults).subscribe({\n            next: (results) => resultSubject.next(results),\n            complete: () => (isEmpty(errors) ? resultSubject.complete() : resultSubject.error(errors))\n        });\n        return resultSubject.asObservable();\n    }\n    evaluateComponentExpressions(viewComponent, expressionFilterFunc) {\n        // update component expressions\n        viewComponent.expressions.filter(expressionFilterFunc).forEach((componentExpression) => {\n            this.updateComponentConfigProperty(componentExpression.propertyName, this.evaluateExpression(componentExpression), viewComponent);\n        });\n        this.updateEvaluationData(viewComponent);\n        // update event expressions\n        Object.keys(viewComponent.eventStates).forEach((eventName) => {\n            viewComponent.eventStates[eventName].forEach((actionState) => {\n                actionState.expressions.filter(expressionFilterFunc).forEach((componentExpression) => {\n                    this.updateActionConfigProperty(componentExpression.propertyName, this.evaluateExpression(componentExpression), actionState);\n                    this.updateEvaluationData(viewComponent);\n                });\n            });\n        });\n    }\n    evaluateDependentProperties(viewComponent, guid, propertyName) {\n        this.evaluateComponentExpressions(viewComponent, (componentExpression) => componentExpression.hasDependency(guid, propertyName));\n    }\n    evaluateExpression(componentExpression) {\n        let evaluatedValue;\n        try {\n            evaluatedValue = componentExpression.evaluate(this.evaluationData);\n        }\n        catch (e) {\n            evaluatedValue = null;\n            this.rxNotificationService.addErrorMessage(e.message, '');\n        }\n        return evaluatedValue;\n    }\n    // update view component config property based on property descriptor\n    updateComponentConfigProperty(propertyName, propertyValue, viewComponent) {\n        const viewComponentDescriptor = this.rxViewComponentRegistryService.get(viewComponent.type);\n        const viewComponentPropertyDescriptor = find(viewComponentDescriptor.properties, {\n            name: propertyName\n        });\n        viewComponent.configState[propertyName] = this.processPropertyValue(propertyValue, viewComponentPropertyDescriptor);\n    }\n    // update action view component config property based on property descriptor\n    updateActionConfigProperty(propertyName, propertyValue, actionComponent) {\n        const viewActionDescriptor = this.rxViewActionRegistryService.get(actionComponent.name);\n        let viewActionParameterDescriptor = find(viewActionDescriptor.parameters, {\n            name: propertyName\n        });\n        if (!viewActionParameterDescriptor && includes(propertyName, '.')) {\n            const primaryPropertyName = propertyName.split('.')[0];\n            viewActionParameterDescriptor = find(viewActionDescriptor.parameters, { name: primaryPropertyName });\n        }\n        set(actionComponent.config, propertyName, this.processPropertyValue(propertyValue, viewActionParameterDescriptor));\n    }\n    // sync component data with expression data\n    updateEvaluationData(viewComponent) {\n        // update component data\n        this.evaluationData.view.components[viewComponent.guid] = Object.assign(Object.assign({}, viewComponent.configState), viewComponent.publicState);\n        // update component actions data\n        Object.keys(viewComponent.eventStates).forEach((eventName) => {\n            viewComponent.eventStates[eventName].forEach((actionState) => {\n                this.evaluationData.view.components[actionState.guid] = actionState.publicState;\n            });\n        });\n    }\n    // cast property value to the type defined in the descriptor\n    processPropertyValue(propertyValue, propertyDescriptor) {\n        if (propertyDescriptor && propertyDescriptor.type && !isNil(propertyValue)) {\n            // try to cast property value to type defined in component descriptor\n            if (propertyDescriptor.type === ViewComponentPropertyType.Boolean) {\n                if (includes(['0', 'false'], propertyValue)) {\n                    propertyValue = false;\n                }\n                else {\n                    propertyValue = Boolean(propertyValue);\n                }\n            }\n            else if (propertyDescriptor.type === ViewComponentPropertyType.Number) {\n                propertyValue = Number(propertyValue);\n                if (Number.isNaN(propertyValue)) {\n                    propertyValue = null;\n                }\n            }\n            else if (propertyDescriptor.type === ViewComponentPropertyType.String) {\n                propertyValue = String(propertyValue);\n            }\n            else if ([ViewComponentPropertyType.Array, ViewComponentPropertyType.Object].includes(propertyDescriptor.type)) {\n                propertyValue = this.rxJsonParserService.tryParseJson(propertyValue);\n            }\n        }\n        return propertyValue;\n    }\n    isContainerComponentDefinition(componentDefinition) {\n        return componentDefinition.componentDefinitions !== undefined;\n    }\n}\nRuntimeViewModel.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewModel, deps: [{ token: i1.RxBundleService }, { token: i1.RxGlobalCacheService }, { token: i2$1.RxViewComponentRegistryService }, { token: RxViewDefinitionAdapterService }, { token: i2$1.RxViewDefinitionParserService }, { token: i2$1.RxViewDefinitionService }, { token: RxRuntimeViewUtilsService }, { token: i2$1.RxExpressionEvaluatorService }, { token: i1.RxNotificationService }, { token: i2$1.RxViewActionRegistryService }, { token: i1.RxLogService }, { token: ViewComponentEventManager }, { token: i2$3.RxUtilityModalsService }, { token: i2$1.RxViewDefinitionCacheService }, { token: i2$2.RxObjectUtilsService }, { token: i2$2.RxJsonParserService }, { token: i1.RxCurrentUserService }], target: i0.ɵɵFactoryTarget.Injectable });\nRuntimeViewModel.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewModel });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewModel, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1.RxBundleService }, { type: i1.RxGlobalCacheService }, { type: i2$1.RxViewComponentRegistryService }, { type: RxViewDefinitionAdapterService }, { type: i2$1.RxViewDefinitionParserService }, { type: i2$1.RxViewDefinitionService }, { type: RxRuntimeViewUtilsService }, { type: i2$1.RxExpressionEvaluatorService }, { type: i1.RxNotificationService }, { type: i2$1.RxViewActionRegistryService }, { type: i1.RxLogService }, { type: ViewComponentEventManager }, { type: i2$3.RxUtilityModalsService }, { type: i2$1.RxViewDefinitionCacheService }, { type: i2$2.RxObjectUtilsService }, { type: i2$2.RxJsonParserService }, { type: i1.RxCurrentUserService }]; } });\n\nclass RxRuntimeViewRegistryService {\n    constructor() {\n        this.activeRuntimeViews = [];\n    }\n    register(runtimeViewModel) {\n        if (!this.activeRuntimeViews.includes(runtimeViewModel)) {\n            this.activeRuntimeViews.push(runtimeViewModel);\n        }\n    }\n    getAll() {\n        return this.activeRuntimeViews;\n    }\n    unregister(runtimeViewModel) {\n        pull(this.activeRuntimeViews, runtimeViewModel);\n    }\n}\nRxRuntimeViewRegistryService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRuntimeViewRegistryService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRxRuntimeViewRegistryService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRuntimeViewRegistryService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RxRuntimeViewRegistryService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass RuntimeViewCanvasComponent {\n    constructor(runtimeViewCanvasService) {\n        this.runtimeViewCanvasService = runtimeViewCanvasService;\n        this.componentPropertyChanged = new EventEmitter();\n        this.destroy$ = new Subject();\n    }\n    ngOnInit() {\n        this.runtimeViewCanvasService.componentPropertyChanged$\n            .pipe(takeUntil(this.destroy$))\n            .subscribe((event) => {\n            this.componentPropertyChanged.emit(event);\n        });\n    }\n    ngOnDestroy() {\n        this.destroy$.next(true);\n        this.destroy$.unsubscribe();\n    }\n}\nRuntimeViewCanvasComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasComponent, deps: [{ token: RuntimeViewCanvasService }], target: i0.ɵɵFactoryTarget.Component });\nRuntimeViewCanvasComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RuntimeViewCanvasComponent, selector: \"rx-runtime-view-canvas\", inputs: { layout: \"layout\" }, outputs: { componentPropertyChanged: \"componentPropertyChanged\" }, providers: [RuntimeViewCanvasService], ngImport: i0, template: \"<rx-runtime-view-canvas-item class=\\\"root-item\\\" *ngIf=\\\"layout\\\" [layout]=\\\"layout\\\"></rx-runtime-view-canvas-item>\\n\", components: [{ type: RuntimeViewCanvasItemComponent, selector: \"rx-runtime-view-canvas-item\", inputs: [\"layout\"] }], directives: [{ type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-runtime-view-canvas',\n                    templateUrl: './runtime-view-canvas.component.html',\n                    providers: [RuntimeViewCanvasService]\n                }]\n        }], ctorParameters: function () { return [{ type: RuntimeViewCanvasService }]; }, propDecorators: { layout: [{\n                type: Input\n            }], componentPropertyChanged: [{\n                type: Output\n            }] } });\n\nclass RuntimeViewComponent {\n    constructor(runtimeViewModelApi, rxRecordDefinitionCacheService, runtimeViewLayoutService, runtimeViewModel, rxProcessDefinitionCacheService, rxRuntimeViewRegistryService, rxViewDefinitionCacheService, rxAssociationDefinitionCacheService, rxViewDefinitionService) {\n        this.runtimeViewModelApi = runtimeViewModelApi;\n        this.rxRecordDefinitionCacheService = rxRecordDefinitionCacheService;\n        this.runtimeViewLayoutService = runtimeViewLayoutService;\n        this.runtimeViewModel = runtimeViewModel;\n        this.rxProcessDefinitionCacheService = rxProcessDefinitionCacheService;\n        this.rxRuntimeViewRegistryService = rxRuntimeViewRegistryService;\n        this.rxViewDefinitionCacheService = rxViewDefinitionCacheService;\n        this.rxAssociationDefinitionCacheService = rxAssociationDefinitionCacheService;\n        this.rxViewDefinitionService = rxViewDefinitionService;\n        this.destroyed$ = new ReplaySubject(1);\n        this.save = new EventEmitter();\n        this.closeView = new EventEmitter();\n        this.cancelView = new EventEmitter();\n        this.beforeLoad = new EventEmitter();\n        this.afterLoad = new EventEmitter();\n        this.rxAssociationDefinitionCacheService.registerConsumer(this.destroyed$);\n        this.rxProcessDefinitionCacheService.registerConsumer(this.destroyed$);\n        this.rxRecordDefinitionCacheService.registerConsumer(this.destroyed$);\n        this.rxViewDefinitionCacheService.registerConsumer(this.destroyed$);\n    }\n    onTrigger() {\n        this.runtimeViewModel.isUserInteractionDetected = true;\n    }\n    ngOnInit() {\n        this.init();\n        this.runtimeViewModel.cancel$.pipe(takeUntil(this.destroyed$)).subscribe(() => this.cancelView.emit());\n        this.runtimeViewModel.save$.pipe(takeUntil(this.destroyed$)).subscribe(() => this.save.emit());\n        this.runtimeViewModel.close$\n            .pipe(takeUntil(this.destroyed$))\n            .subscribe((viewOutputParams) => this.closeView.emit(viewOutputParams));\n    }\n    ngOnChanges(changes) {\n        if (changes.configuration.currentValue &&\n            changes.configuration.previousValue &&\n            changes.configuration.currentValue.viewDefinitionName !== changes.configuration.previousValue.viewDefinitionName) {\n            this.runtimeViewModelApi.clear();\n            this.runtimeViewLayoutService.clear();\n            this.configuration = changes.configuration.currentValue;\n            this.init();\n        }\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n        this.rxRuntimeViewRegistryService.unregister(this.runtimeViewModel);\n    }\n    init() {\n        this.beforeLoad.emit();\n        this.runtimeViewModel.init(this.configuration).subscribe({\n            complete: () => {\n                this.runtimeViewModelApi.init(this.runtimeViewModel);\n                this.runtimeViewLayoutService.init(this.runtimeViewModel, this.runtimeViewModelApi);\n                this.hostClass = this.runtimeViewModel.viewDefinition.styles || '';\n                if (this.rxViewDefinitionService.isPageView(this.runtimeViewModel.viewDefinition)) {\n                    this.hostClass = this.hostClass + ' rx-page-view';\n                }\n                this.viewDefinitionGuid = this.runtimeViewModel.viewDefinition.guid;\n                this.runtimeViewModel.isUserInteractionDetected = false;\n                this.afterLoad.emit();\n            }\n        });\n        if (this.configuration.onRegisterApi) {\n            this.configuration.onRegisterApi(this.runtimeViewModel.api);\n        }\n        this.rxRuntimeViewRegistryService.register(this.runtimeViewModel);\n    }\n}\nRuntimeViewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewComponent, deps: [{ token: RuntimeViewModelApi }, { token: i2$4.RxRecordDefinitionCacheService }, { token: RuntimeViewLayoutService }, { token: RuntimeViewModel }, { token: i5.RxProcessDefinitionCacheService }, { token: RxRuntimeViewRegistryService }, { token: i2$1.RxViewDefinitionCacheService }, { token: i8.RxAssociationDefinitionCacheService }, { token: i2$1.RxViewDefinitionService }], target: i0.ɵɵFactoryTarget.Component });\nRuntimeViewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RuntimeViewComponent, selector: \"rx-runtime-view\", inputs: { configuration: \"configuration\" }, outputs: { save: \"save\", closeView: \"closeView\", cancelView: \"cancelView\", beforeLoad: \"beforeLoad\", afterLoad: \"afterLoad\" }, host: { listeners: { \"focusin\": \"onTrigger()\" }, properties: { \"class\": \"this.hostClass\", \"attr.rx-view-definition-guid\": \"this.viewDefinitionGuid\" } }, providers: [RuntimeViewModel, RuntimeViewModelApi, RuntimeViewLayoutService], usesOnChanges: true, ngImport: i0, template: \"<rx-runtime-view-canvas\\n  (componentPropertyChanged)=\\\"runtimeViewModel.onViewComponentPropertyChanged($event)\\\"\\n  *ngIf=\\\"runtimeViewLayoutService.layout\\\"\\n  [layout]=\\\"runtimeViewLayoutService.layout\\\"\\n></rx-runtime-view-canvas>\\n\", styles: [\":host.rx-page-view ::ng-deep .outlet-padding{padding:0}:host.rx-page-view ::ng-deep rx-runtime-view-canvas-item{height:100%}\\n\"], components: [{ type: RuntimeViewCanvasComponent, selector: \"rx-runtime-view-canvas\", inputs: [\"layout\"], outputs: [\"componentPropertyChanged\"] }], directives: [{ type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-runtime-view',\n                    templateUrl: './runtime-view.component.html',\n                    styleUrls: ['./runtime-view.component.scss'],\n                    providers: [RuntimeViewModel, RuntimeViewModelApi, RuntimeViewLayoutService]\n                }]\n        }], ctorParameters: function () { return [{ type: RuntimeViewModelApi }, { type: i2$4.RxRecordDefinitionCacheService }, { type: RuntimeViewLayoutService }, { type: RuntimeViewModel }, { type: i5.RxProcessDefinitionCacheService }, { type: RxRuntimeViewRegistryService }, { type: i2$1.RxViewDefinitionCacheService }, { type: i8.RxAssociationDefinitionCacheService }, { type: i2$1.RxViewDefinitionService }]; }, propDecorators: { configuration: [{\n                type: Input\n            }], save: [{\n                type: Output\n            }], closeView: [{\n                type: Output\n            }], cancelView: [{\n                type: Output\n            }], beforeLoad: [{\n                type: Output\n            }], afterLoad: [{\n                type: Output\n            }], hostClass: [{\n                type: HostBinding,\n                args: ['class']\n            }], viewDefinitionGuid: [{\n                type: HostBinding,\n                args: ['attr.rx-view-definition-guid']\n            }], onTrigger: [{\n                type: HostListener,\n                args: ['focusin']\n            }] } });\n\n// tslint:disable-next-line:directive-class-suffix\nclass BaseViewComponent {\n    constructor() {\n        this.customCssClasses = '';\n        this.autoFill = new EventEmitter();\n        this.autoScroll = new EventEmitter();\n        this.hidden = new EventEmitter();\n        this.isComponentHidden = false;\n        this.destroyed$ = new ReplaySubject(1);\n        this.propertyChanged = new EventEmitter();\n    }\n    get isHidden() {\n        return this.isComponentHidden;\n    }\n    set isHidden(value) {\n        this.hidden.emit(value);\n        this.isComponentHidden = Boolean(value);\n    }\n    ngOnInit() {\n        this.config.pipe(pluck('styles'), takeUntil(this.destroyed$)).subscribe((styles) => {\n            this.customCssClasses = styles || '';\n            this.autoFill.emit(this.customCssClasses.includes('rx-auto-fill'));\n            this.autoScroll.emit(this.customCssClasses.includes('rx-auto-scroll'));\n        });\n    }\n    notifyPropertyChanged(propertyName, newValue, oldValue) {\n        this.propertyChanged.next({\n            guid: this.guid,\n            propertyName,\n            newValue,\n            oldValue\n        });\n    }\n    triggerViewActions(guid = this.guid, viewActionTriggerEventName = VIEW_COMPONENT_DEFAULT_EVENT_NAME) {\n        return this.runtimeViewModelApi.triggerViewActions(guid, viewActionTriggerEventName);\n    }\n    ngOnDestroy() {\n        this.destroyed$.next(true);\n        this.destroyed$.complete();\n    }\n}\nBaseViewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BaseViewComponent, deps: [], target: i0.ɵɵFactoryTarget.Directive });\nBaseViewComponent.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.1.3\", type: BaseViewComponent, outputs: { autoFill: \"autoFill\", autoScroll: \"autoScroll\", hidden: \"hidden\" }, host: { properties: { \"attr.rx-view-component-id\": \"this.guid\", \"class\": \"this.customCssClasses\", \"hidden\": \"this.isHidden\" } }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: BaseViewComponent, decorators: [{\n            type: Directive\n        }], propDecorators: { guid: [{\n                type: HostBinding,\n                args: ['attr.rx-view-component-id']\n            }], customCssClasses: [{\n                type: HostBinding,\n                args: ['class']\n            }], autoFill: [{\n                type: Output\n            }], autoScroll: [{\n                type: Output\n            }], hidden: [{\n                type: Output\n            }], isHidden: [{\n                type: HostBinding,\n                args: ['hidden']\n            }] } });\n\nclass RuntimeViewCanvasOutletComponent {\n    constructor(runtimeViewCanvasItemService, componentFactoryResolver) {\n        this.runtimeViewCanvasItemService = runtimeViewCanvasItemService;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.name = RX_VIEW_DEFINITION.defaultOutletName;\n    }\n    ngOnInit() {\n        this.runtimeViewCanvasItemService.registerOutlet(this.name, this.container, this.componentFactoryResolver.resolveComponentFactory(RuntimeViewCanvasItemContainerComponent));\n    }\n}\nRuntimeViewCanvasOutletComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasOutletComponent, deps: [{ token: RuntimeViewCanvasItemService }, { token: i0.ComponentFactoryResolver }], target: i0.ɵɵFactoryTarget.Component });\nRuntimeViewCanvasOutletComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RuntimeViewCanvasOutletComponent, selector: \"rx-runtime-view-canvas-outlet\", inputs: { name: \"name\" }, viewQueries: [{ propertyName: \"container\", first: true, predicate: [\"container\"], descendants: true, read: ViewContainerRef, static: true }], ngImport: i0, template: \"<ng-container #container></ng-container>\\n\" });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasOutletComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-runtime-view-canvas-outlet',\n                    templateUrl: './runtime-view-canvas-outlet.component.html'\n                }]\n        }], ctorParameters: function () { return [{ type: RuntimeViewCanvasItemService }, { type: i0.ComponentFactoryResolver }]; }, propDecorators: { name: [{\n                type: Input\n            }], container: [{\n                type: ViewChild,\n                args: ['container', { read: ViewContainerRef, static: true }]\n            }] } });\n\nclass RuntimeViewCanvasModule {\n}\nRuntimeViewCanvasModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRuntimeViewCanvasModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasModule, declarations: [RuntimeViewCanvasComponent,\n        RuntimeViewCanvasItemComponent,\n        RuntimeViewCanvasItemContainerComponent,\n        RuntimeViewCanvasOutletComponent], imports: [CommonModule, FormsModule], exports: [RuntimeViewCanvasOutletComponent,\n        RuntimeViewCanvasComponent,\n        RuntimeViewCanvasItemComponent,\n        RuntimeViewCanvasItemContainerComponent] });\nRuntimeViewCanvasModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasModule, imports: [[CommonModule, FormsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewCanvasModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, FormsModule],\n                    declarations: [\n                        RuntimeViewCanvasComponent,\n                        RuntimeViewCanvasItemComponent,\n                        RuntimeViewCanvasItemContainerComponent,\n                        RuntimeViewCanvasOutletComponent\n                    ],\n                    exports: [\n                        RuntimeViewCanvasOutletComponent,\n                        RuntimeViewCanvasComponent,\n                        RuntimeViewCanvasItemComponent,\n                        RuntimeViewCanvasItemContainerComponent\n                    ],\n                    entryComponents: [RuntimeViewCanvasItemContainerComponent]\n                }]\n        }] });\n\nclass RuntimeViewModalComponent {\n    constructor(rxRuntimeViewRegistryService, rxUtilityModalsService, translateService, changeDetector, activeModalRef, dockedPanelContext) {\n        this.rxRuntimeViewRegistryService = rxRuntimeViewRegistryService;\n        this.rxUtilityModalsService = rxUtilityModalsService;\n        this.translateService = translateService;\n        this.changeDetector = changeDetector;\n        this.activeModalRef = activeModalRef;\n        this.dockedPanelContext = dockedPanelContext;\n        this.isBlade = false;\n        this.context = dockedPanelContext || activeModalRef;\n        this.isBlade = Boolean(dockedPanelContext);\n        const data = this.context.getData();\n        this.configuration = data.configuration;\n        this.title = data.title;\n        this.notification = data.notification;\n        this.isCancellable = data.isCancellable;\n        this.closeLabel = translateService.instant('com.bmc.arsys.rx.client.common.close.label');\n    }\n    onCancelView() {\n        this.context.dismiss(null);\n    }\n    closeModal() {\n        this.context.dismiss(DismissReasons.CLOSE_BTN);\n    }\n    onClose(viewOutputParams) {\n        this.context.close(viewOutputParams);\n    }\n    onBeforeLoad() {\n        this.busySubscription = NEVER.subscribe();\n        // workaround: run changeDetector to avoid the ExpressionChangedAfterItHasBeenCheckedError\n        this.changeDetector.detectChanges();\n    }\n    onAfterLoad() {\n        var _a;\n        (_a = this.busySubscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n    }\n}\nRuntimeViewModalComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewModalComponent, deps: [{ token: RxRuntimeViewRegistryService }, { token: i2$3.RxUtilityModalsService }, { token: i3.TranslateService }, { token: i0.ChangeDetectorRef }, { token: i4.ActiveModalRef, optional: true }, { token: i4.DockedPanelContext, optional: true }], target: i0.ɵɵFactoryTarget.Component });\nRuntimeViewModalComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.1.3\", type: RuntimeViewModalComponent, selector: \"rx-runtime-view-modal\", ngImport: i0, template: \"<ng-container *ngIf=\\\"title || isCancellable\\\">\\n  <div class=\\\"dp-header\\\" *ngIf=\\\"isBlade; else modalHeader\\\">\\n    <span class=\\\"dp-title\\\">{{ title }}</span>\\n    <button\\n      class=\\\"close dp-close\\\"\\n      rx-id=\\\"x-button\\\"\\n      [attr.aria-label]=\\\"closeLabel\\\"\\n      *ngIf=\\\"isCancellable\\\"\\n      (click)=\\\"closeModal()\\\"\\n    ></button>\\n  </div>\\n</ng-container>\\n\\n<ng-template #modalHeader>\\n  <div class=\\\"modal-header\\\">\\n    <h5 class=\\\"modal-title\\\">{{ title }}</h5>\\n    <button\\n      class=\\\"close dp-close\\\"\\n      rx-id=\\\"x-button\\\"\\n      [attr.aria-label]=\\\"closeLabel\\\"\\n      *ngIf=\\\"isCancellable\\\"\\n      (click)=\\\"closeModal()\\\"\\n    ></button>\\n  </div>\\n</ng-template>\\n\\n<adapt-alert\\n  *ngIf=\\\"notification\\\"\\n  class=\\\"pl-4 pt-4\\\"\\n  [config]=\\\"{\\n    content: notification,\\n    type: 'inline',\\n    variant: 'info'\\n  }\\\"\\n></adapt-alert>\\n\\n<div\\n  [ngClass]=\\\"{\\n    'modal-body p-0': !isBlade,\\n    'dp-content': isBlade\\n  }\\\"\\n>\\n  <div class=\\\"position-relative\\\">\\n    <rx-busy-indicator\\n      [options]=\\\"{\\n        busy: busySubscription,\\n        loaderType: 'lineLoader',\\n        delay: 250,\\n        backdrop: false,\\n        message: null\\n      }\\\"\\n    >\\n    </rx-busy-indicator>\\n  </div>\\n\\n  <rx-runtime-view\\n    [configuration]=\\\"configuration\\\"\\n    (cancelView)=\\\"onCancelView()\\\"\\n    (closeView)=\\\"onClose($event)\\\"\\n    (beforeLoad)=\\\"onBeforeLoad()\\\"\\n    (afterLoad)=\\\"onAfterLoad()\\\"\\n  ></rx-runtime-view>\\n</div>\\n\", styles: [\":host{height:100%;display:flex;flex-direction:column}.modal-header{min-height:34px}.dp-header{flex-direction:row!important}.dp-content>rx-runtime-view{height:100%}\\n\"], components: [{ type: i4.AdaptAlertComponent, selector: \"adapt-alert\", inputs: [\"config\"], outputs: [\"onClose\"] }, { type: i2$3.RxBusyIndicatorComponent, selector: \"rx-busy-indicator\", inputs: [\"options\"] }, { type: RuntimeViewComponent, selector: \"rx-runtime-view\", inputs: [\"configuration\"], outputs: [\"save\", \"closeView\", \"cancelView\", \"beforeLoad\", \"afterLoad\"] }], directives: [{ type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewModalComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'rx-runtime-view-modal',\n                    templateUrl: './runtime-view-modal.component.html',\n                    styleUrls: ['./runtime-view-modal.component.scss']\n                }]\n        }], ctorParameters: function () { return [{ type: RxRuntimeViewRegistryService }, { type: i2$3.RxUtilityModalsService }, { type: i3.TranslateService }, { type: i0.ChangeDetectorRef }, { type: i4.ActiveModalRef, decorators: [{\n                    type: Optional\n                }] }, { type: i4.DockedPanelContext, decorators: [{\n                    type: Optional\n                }] }]; } });\n\nconst RX_RUNTIME_VIEW = {\n    actions: {\n        save: 'rx-runtime-view-save',\n        close: 'rx-runtime-view-close',\n        cancel: 'rx-runtime-view-cancel'\n    }\n};\n\nclass RuntimeViewModule {\n}\nRuntimeViewModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRuntimeViewModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewModule, declarations: [RuntimeViewComponent, RuntimeViewRootComponent, RuntimeViewModalComponent], imports: [CommonModule, RuntimeViewCanvasModule, TranslateModule, AdaptAlertModule, RxBusyIndicatorModule], exports: [RuntimeViewCanvasModule, RuntimeViewComponent, RuntimeViewRootComponent, RuntimeViewModalComponent] });\nRuntimeViewModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewModule, imports: [[CommonModule, RuntimeViewCanvasModule, TranslateModule, AdaptAlertModule, RxBusyIndicatorModule], RuntimeViewCanvasModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.1.3\", ngImport: i0, type: RuntimeViewModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, RuntimeViewCanvasModule, TranslateModule, AdaptAlertModule, RxBusyIndicatorModule],\n                    exports: [RuntimeViewCanvasModule, RuntimeViewComponent, RuntimeViewRootComponent, RuntimeViewModalComponent],\n                    declarations: [RuntimeViewComponent, RuntimeViewRootComponent, RuntimeViewModalComponent],\n                    entryComponents: [RuntimeViewRootComponent, RuntimeViewModalComponent]\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { BaseViewComponent, RX_RUNTIME_VIEW, RuntimeLayoutItem, RuntimeLayoutOutlet, RuntimeLayoutOutletColumn, RuntimeViewCanvasComponent, RuntimeViewCanvasItemComponent, RuntimeViewCanvasItemContainerComponent, RuntimeViewCanvasItemService, RuntimeViewCanvasModule, RuntimeViewCanvasOutletComponent, RuntimeViewComponent, RuntimeViewModalComponent, RuntimeViewModel, RuntimeViewModelApi, RuntimeViewModule, RuntimeViewRootComponent, RxRuntimeViewRegistryService, RxRuntimeViewUtilsService, VIEW_COMPONENT_DEFAULT_EVENT_NAME, ViewComponentEventManager };\n//# sourceMappingURL=helix-platform-view-runtime.js.map\n","import { EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, NgZone, ElementRef, ChangeDetectorRef, Renderer2, Input, Output, ViewChildren, Directive, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Subject, Observable } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} event\n * @return {?}\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\n\nconst _c0 = [\"gutterEls\"];\nfunction SplitComponent_ng_template_1_div_0_Template(rf, ctx) { if (rf & 1) {\n    const _r7 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 2, 3);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function SplitComponent_ng_template_1_div_0_Template_div_mousedown_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r7); const index_r1 = ɵngcc0.ɵɵnextContext().index; const ctx_r5 = ɵngcc0.ɵɵnextContext(); return ctx_r5.startDragging($event, index_r1 * 2 + 1, index_r1 + 1); })(\"touchstart\", function SplitComponent_ng_template_1_div_0_Template_div_touchstart_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r7); const index_r1 = ɵngcc0.ɵɵnextContext().index; const ctx_r8 = ɵngcc0.ɵɵnextContext(); return ctx_r8.startDragging($event, index_r1 * 2 + 1, index_r1 + 1); })(\"mouseup\", function SplitComponent_ng_template_1_div_0_Template_div_mouseup_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r7); const index_r1 = ɵngcc0.ɵɵnextContext().index; const ctx_r10 = ɵngcc0.ɵɵnextContext(); return ctx_r10.clickGutter($event, index_r1 + 1); })(\"touchend\", function SplitComponent_ng_template_1_div_0_Template_div_touchend_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r7); const index_r1 = ɵngcc0.ɵɵnextContext().index; const ctx_r12 = ɵngcc0.ɵɵnextContext(); return ctx_r12.clickGutter($event, index_r1 + 1); });\n    ɵngcc0.ɵɵelement(2, \"div\", 4);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const index_r1 = ɵngcc0.ɵɵnextContext().index;\n    const ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"flex-basis\", ctx_r3.gutterSize, \"px\")(\"order\", index_r1 * 2 + 1);\n} }\nfunction SplitComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, SplitComponent_ng_template_1_div_0_Template, 3, 4, \"div\", 1);\n} if (rf & 2) {\n    const last_r2 = ctx.last;\n    ɵngcc0.ɵɵproperty(\"ngIf\", last_r2 === false);\n} }\nconst _c1 = [\"*\"];\nfunction getPointFromEvent(event) {\n    // TouchEvent\n    if (((/** @type {?} */ (event))).changedTouches !== undefined && ((/** @type {?} */ (event))).changedTouches.length > 0) {\n        return {\n            x: ((/** @type {?} */ (event))).changedTouches[0].clientX,\n            y: ((/** @type {?} */ (event))).changedTouches[0].clientY,\n        };\n    }\n    // MouseEvent\n    else if (((/** @type {?} */ (event))).clientX !== undefined && ((/** @type {?} */ (event))).clientY !== undefined) {\n        return {\n            x: ((/** @type {?} */ (event))).clientX,\n            y: ((/** @type {?} */ (event))).clientY,\n        };\n    }\n    return null;\n}\n/**\n * @param {?} elRef\n * @param {?} direction\n * @return {?}\n */\nfunction getElementPixelSize(elRef, direction) {\n    /** @type {?} */\n    const rect = ((/** @type {?} */ (elRef.nativeElement))).getBoundingClientRect();\n    return direction === 'horizontal' ? rect.width : rect.height;\n}\n/**\n * @param {?} v\n * @return {?}\n */\nfunction getInputBoolean(v) {\n    return typeof v === 'boolean' ? v : v === 'false' ? false : true;\n}\n/**\n * @template T\n * @param {?} v\n * @param {?} defaultValue\n * @return {?}\n */\nfunction getInputPositiveNumber(v, defaultValue) {\n    if (v === null || v === undefined)\n        return defaultValue;\n    v = Number(v);\n    return !isNaN(v) && v >= 0 ? v : defaultValue;\n}\n/**\n * @param {?} unit\n * @param {?} sizes\n * @return {?}\n */\nfunction isUserSizesValid(unit, sizes) {\n    // All sizes have to be not null and total should be 100\n    if (unit === 'percent') {\n        /** @type {?} */\n        const total = sizes.reduce((/**\n         * @param {?} total\n         * @param {?} s\n         * @return {?}\n         */\n        (total, s) => (s !== null ? total + s : total)), 0);\n        return sizes.every((/**\n         * @param {?} s\n         * @return {?}\n         */\n        (s) => s !== null)) && total > 99.9 && total < 100.1;\n    }\n    // A size at null is mandatory but only one.\n    if (unit === 'pixel') {\n        return sizes.filter((/**\n         * @param {?} s\n         * @return {?}\n         */\n        (s) => s === null)).length === 1;\n    }\n}\n/**\n * @param {?} a\n * @return {?}\n */\nfunction getAreaMinSize(a) {\n    if (a.size === null) {\n        return null;\n    }\n    if (a.component.lockSize === true) {\n        return a.size;\n    }\n    if (a.component.minSize === null) {\n        return null;\n    }\n    if (a.component.minSize > a.size) {\n        return a.size;\n    }\n    return a.component.minSize;\n}\n/**\n * @param {?} a\n * @return {?}\n */\nfunction getAreaMaxSize(a) {\n    if (a.size === null) {\n        return null;\n    }\n    if (a.component.lockSize === true) {\n        return a.size;\n    }\n    if (a.component.maxSize === null) {\n        return null;\n    }\n    if (a.component.maxSize < a.size) {\n        return a.size;\n    }\n    return a.component.maxSize;\n}\n/**\n * @param {?} unit\n * @param {?} sideAreas\n * @param {?} pixels\n * @param {?} allAreasSizePixel\n * @return {?}\n */\nfunction getGutterSideAbsorptionCapacity(unit, sideAreas, pixels, allAreasSizePixel) {\n    return sideAreas.reduce((/**\n     * @param {?} acc\n     * @param {?} area\n     * @return {?}\n     */\n    (acc, area) => {\n        /** @type {?} */\n        const res = getAreaAbsorptionCapacity(unit, area, acc.remain, allAreasSizePixel);\n        acc.list.push(res);\n        acc.remain = res.pixelRemain;\n        return acc;\n    }), { remain: pixels, list: [] });\n}\n/**\n * @param {?} unit\n * @param {?} areaSnapshot\n * @param {?} pixels\n * @param {?} allAreasSizePixel\n * @return {?}\n */\nfunction getAreaAbsorptionCapacity(unit, areaSnapshot, pixels, allAreasSizePixel) {\n    // No pain no gain\n    if (pixels === 0) {\n        return {\n            areaSnapshot,\n            pixelAbsorb: 0,\n            percentAfterAbsorption: areaSnapshot.sizePercentAtStart,\n            pixelRemain: 0,\n        };\n    }\n    // Area start at zero and need to be reduced, not possible\n    if (areaSnapshot.sizePixelAtStart === 0 && pixels < 0) {\n        return {\n            areaSnapshot,\n            pixelAbsorb: 0,\n            percentAfterAbsorption: 0,\n            pixelRemain: pixels,\n        };\n    }\n    if (unit === 'percent') {\n        return getAreaAbsorptionCapacityPercent(areaSnapshot, pixels, allAreasSizePixel);\n    }\n    if (unit === 'pixel') {\n        return getAreaAbsorptionCapacityPixel(areaSnapshot, pixels, allAreasSizePixel);\n    }\n}\n/**\n * @param {?} areaSnapshot\n * @param {?} pixels\n * @param {?} allAreasSizePixel\n * @return {?}\n */\nfunction getAreaAbsorptionCapacityPercent(areaSnapshot, pixels, allAreasSizePixel) {\n    /** @type {?} */\n    const tempPixelSize = areaSnapshot.sizePixelAtStart + pixels;\n    /** @type {?} */\n    const tempPercentSize = (tempPixelSize / allAreasSizePixel) * 100\n    // ENLARGE AREA\n    ;\n    // ENLARGE AREA\n    if (pixels > 0) {\n        // If maxSize & newSize bigger than it > absorb to max and return remaining pixels\n        if (areaSnapshot.area.maxSize !== null && tempPercentSize > areaSnapshot.area.maxSize) {\n            // Use area.area.maxSize as newPercentSize and return calculate pixels remaining\n            /** @type {?} */\n            const maxSizePixel = (areaSnapshot.area.maxSize / 100) * allAreasSizePixel;\n            return {\n                areaSnapshot,\n                pixelAbsorb: maxSizePixel,\n                percentAfterAbsorption: areaSnapshot.area.maxSize,\n                pixelRemain: areaSnapshot.sizePixelAtStart + pixels - maxSizePixel,\n            };\n        }\n        return {\n            areaSnapshot,\n            pixelAbsorb: pixels,\n            percentAfterAbsorption: tempPercentSize > 100 ? 100 : tempPercentSize,\n            pixelRemain: 0,\n        };\n    }\n    // REDUCE AREA\n    else if (pixels < 0) {\n        // If minSize & newSize smaller than it > absorb to min and return remaining pixels\n        if (areaSnapshot.area.minSize !== null && tempPercentSize < areaSnapshot.area.minSize) {\n            // Use area.area.minSize as newPercentSize and return calculate pixels remaining\n            /** @type {?} */\n            const minSizePixel = (areaSnapshot.area.minSize / 100) * allAreasSizePixel;\n            return {\n                areaSnapshot,\n                pixelAbsorb: minSizePixel,\n                percentAfterAbsorption: areaSnapshot.area.minSize,\n                pixelRemain: areaSnapshot.sizePixelAtStart + pixels - minSizePixel,\n            };\n        }\n        // If reduced under zero > return remaining pixels\n        else if (tempPercentSize < 0) {\n            // Use 0 as newPercentSize and return calculate pixels remaining\n            return {\n                areaSnapshot,\n                pixelAbsorb: -areaSnapshot.sizePixelAtStart,\n                percentAfterAbsorption: 0,\n                pixelRemain: pixels + areaSnapshot.sizePixelAtStart,\n            };\n        }\n        return {\n            areaSnapshot,\n            pixelAbsorb: pixels,\n            percentAfterAbsorption: tempPercentSize,\n            pixelRemain: 0,\n        };\n    }\n}\n/**\n * @param {?} areaSnapshot\n * @param {?} pixels\n * @param {?} containerSizePixel\n * @return {?}\n */\nfunction getAreaAbsorptionCapacityPixel(areaSnapshot, pixels, containerSizePixel) {\n    /** @type {?} */\n    const tempPixelSize = areaSnapshot.sizePixelAtStart + pixels\n    // ENLARGE AREA\n    ;\n    // ENLARGE AREA\n    if (pixels > 0) {\n        // If maxSize & newSize bigger than it > absorb to max and return remaining pixels\n        if (areaSnapshot.area.maxSize !== null && tempPixelSize > areaSnapshot.area.maxSize) {\n            return {\n                areaSnapshot,\n                pixelAbsorb: areaSnapshot.area.maxSize - areaSnapshot.sizePixelAtStart,\n                percentAfterAbsorption: -1,\n                pixelRemain: tempPixelSize - areaSnapshot.area.maxSize,\n            };\n        }\n        return {\n            areaSnapshot,\n            pixelAbsorb: pixels,\n            percentAfterAbsorption: -1,\n            pixelRemain: 0,\n        };\n    }\n    // REDUCE AREA\n    else if (pixels < 0) {\n        // If minSize & newSize smaller than it > absorb to min and return remaining pixels\n        if (areaSnapshot.area.minSize !== null && tempPixelSize < areaSnapshot.area.minSize) {\n            return {\n                areaSnapshot,\n                pixelAbsorb: areaSnapshot.area.minSize + pixels - tempPixelSize,\n                percentAfterAbsorption: -1,\n                pixelRemain: tempPixelSize - areaSnapshot.area.minSize,\n            };\n        }\n        // If reduced under zero > return remaining pixels\n        else if (tempPixelSize < 0) {\n            return {\n                areaSnapshot,\n                pixelAbsorb: -areaSnapshot.sizePixelAtStart,\n                percentAfterAbsorption: -1,\n                pixelRemain: pixels + areaSnapshot.sizePixelAtStart,\n            };\n        }\n        return {\n            areaSnapshot,\n            pixelAbsorb: pixels,\n            percentAfterAbsorption: -1,\n            pixelRemain: 0,\n        };\n    }\n}\n/**\n * @param {?} unit\n * @param {?} item\n * @return {?}\n */\nfunction updateAreaSize(unit, item) {\n    if (unit === 'percent') {\n        item.areaSnapshot.area.size = item.percentAfterAbsorption;\n    }\n    else if (unit === 'pixel') {\n        // Update size except for the wildcard size area\n        if (item.areaSnapshot.area.size !== null) {\n            item.areaSnapshot.area.size = item.areaSnapshot.sizePixelAtStart + item.pixelAbsorb;\n        }\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * angular-split\n *\n *\n *  PERCENT MODE ([unit]=\"'percent'\")\n *  ___________________________________________________________________________________________\n * |       A       [g1]       B       [g2]       C       [g3]       D       [g4]       E       |\n * |-------------------------------------------------------------------------------------------|\n * |       20                 30                 20                 15                 15      | <-- [size]=\"x\"\n * |               10px               10px               10px               10px               | <-- [gutterSize]=\"10\"\n * |calc(20% - 8px)    calc(30% - 12px)   calc(20% - 8px)    calc(15% - 6px)    calc(15% - 6px)| <-- CSS flex-basis property (with flex-grow&shrink at 0)\n * |     152px              228px              152px              114px              114px     | <-- el.getBoundingClientRect().width\n * |___________________________________________________________________________________________|\n *                                                                                 800px         <-- el.getBoundingClientRect().width\n *  flex-basis = calc( { area.size }% - { area.size/100 * nbGutter*gutterSize }px );\n *\n *\n *  PIXEL MODE ([unit]=\"'pixel'\")\n *  ___________________________________________________________________________________________\n * |       A       [g1]       B       [g2]       C       [g3]       D       [g4]       E       |\n * |-------------------------------------------------------------------------------------------|\n * |      100                250                 *                 150                100      | <-- [size]=\"y\"\n * |               10px               10px               10px               10px               | <-- [gutterSize]=\"10\"\n * |   0 0 100px          0 0 250px           1 1 auto          0 0 150px          0 0 100px   | <-- CSS flex property (flex-grow/flex-shrink/flex-basis)\n * |     100px              250px              200px              150px              100px     | <-- el.getBoundingClientRect().width\n * |___________________________________________________________________________________________|\n *                                                                                 800px         <-- el.getBoundingClientRect().width\n *\n */\nclass SplitComponent {\n    /**\n     * @param {?} ngZone\n     * @param {?} elRef\n     * @param {?} cdRef\n     * @param {?} renderer\n     */\n    constructor(ngZone, elRef, cdRef, renderer) {\n        this.ngZone = ngZone;\n        this.elRef = elRef;\n        this.cdRef = cdRef;\n        this.renderer = renderer;\n        this._direction = 'horizontal';\n        ////\n        this._unit = 'percent';\n        ////\n        this._gutterSize = 11;\n        ////\n        this._gutterStep = 1;\n        ////\n        this._restrictMove = false;\n        ////\n        this._useTransition = false;\n        ////\n        this._disabled = false;\n        ////\n        this._dir = 'ltr';\n        ////\n        this._gutterDblClickDuration = 0;\n        ////\n        this.dragStart = new EventEmitter(false);\n        this.dragEnd = new EventEmitter(false);\n        this.gutterClick = new EventEmitter(false);\n        this.gutterDblClick = new EventEmitter(false);\n        this.dragProgressSubject = new Subject();\n        this.dragProgress$ = this.dragProgressSubject.asObservable();\n        ////\n        this.isDragging = false;\n        this.isWaitingClear = false;\n        this.dragListeners = [];\n        this.snapshot = null;\n        this.startPoint = null;\n        this.endPoint = null;\n        this.displayedAreas = [];\n        this.hidedAreas = [];\n        this._clickTimeout = null;\n        // To force adding default class, could be override by user @Input() or not\n        this.direction = this._direction;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set direction(v) {\n        this._direction = v === 'vertical' ? 'vertical' : 'horizontal';\n        this.renderer.addClass(this.elRef.nativeElement, `as-${this._direction}`);\n        this.renderer.removeClass(this.elRef.nativeElement, `as-${this._direction === 'vertical' ? 'horizontal' : 'vertical'}`);\n        this.build(false, false);\n    }\n    /**\n     * @return {?}\n     */\n    get direction() {\n        return this._direction;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set unit(v) {\n        this._unit = v === 'pixel' ? 'pixel' : 'percent';\n        this.renderer.addClass(this.elRef.nativeElement, `as-${this._unit}`);\n        this.renderer.removeClass(this.elRef.nativeElement, `as-${this._unit === 'pixel' ? 'percent' : 'pixel'}`);\n        this.build(false, true);\n    }\n    /**\n     * @return {?}\n     */\n    get unit() {\n        return this._unit;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set gutterSize(v) {\n        this._gutterSize = getInputPositiveNumber(v, 11);\n        this.build(false, false);\n    }\n    /**\n     * @return {?}\n     */\n    get gutterSize() {\n        return this._gutterSize;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set gutterStep(v) {\n        this._gutterStep = getInputPositiveNumber(v, 1);\n    }\n    /**\n     * @return {?}\n     */\n    get gutterStep() {\n        return this._gutterStep;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set restrictMove(v) {\n        this._restrictMove = getInputBoolean(v);\n    }\n    /**\n     * @return {?}\n     */\n    get restrictMove() {\n        return this._restrictMove;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set useTransition(v) {\n        this._useTransition = getInputBoolean(v);\n        if (this._useTransition)\n            this.renderer.addClass(this.elRef.nativeElement, 'as-transition');\n        else\n            this.renderer.removeClass(this.elRef.nativeElement, 'as-transition');\n    }\n    /**\n     * @return {?}\n     */\n    get useTransition() {\n        return this._useTransition;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set disabled(v) {\n        this._disabled = getInputBoolean(v);\n        if (this._disabled)\n            this.renderer.addClass(this.elRef.nativeElement, 'as-disabled');\n        else\n            this.renderer.removeClass(this.elRef.nativeElement, 'as-disabled');\n    }\n    /**\n     * @return {?}\n     */\n    get disabled() {\n        return this._disabled;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set dir(v) {\n        this._dir = v === 'rtl' ? 'rtl' : 'ltr';\n        this.renderer.setAttribute(this.elRef.nativeElement, 'dir', this._dir);\n    }\n    /**\n     * @return {?}\n     */\n    get dir() {\n        return this._dir;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set gutterDblClickDuration(v) {\n        this._gutterDblClickDuration = getInputPositiveNumber(v, 0);\n    }\n    /**\n     * @return {?}\n     */\n    get gutterDblClickDuration() {\n        return this._gutterDblClickDuration;\n    }\n    /**\n     * @return {?}\n     */\n    get transitionEnd() {\n        return new Observable((/**\n         * @param {?} subscriber\n         * @return {?}\n         */\n        (subscriber) => (this.transitionEndSubscriber = subscriber))).pipe(debounceTime(20));\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterViewInit() {\n        this.ngZone.runOutsideAngular((/**\n         * @return {?}\n         */\n        () => {\n            // To avoid transition at first rendering\n            setTimeout((/**\n             * @return {?}\n             */\n            () => this.renderer.addClass(this.elRef.nativeElement, 'as-init')));\n        }));\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getNbGutters() {\n        return this.displayedAreas.length === 0 ? 0 : this.displayedAreas.length - 1;\n    }\n    /**\n     * @param {?} component\n     * @return {?}\n     */\n    addArea(component) {\n        /** @type {?} */\n        const newArea = {\n            component,\n            order: 0,\n            size: 0,\n            minSize: null,\n            maxSize: null,\n        };\n        if (component.visible === true) {\n            this.displayedAreas.push(newArea);\n            this.build(true, true);\n        }\n        else {\n            this.hidedAreas.push(newArea);\n        }\n    }\n    /**\n     * @param {?} component\n     * @return {?}\n     */\n    removeArea(component) {\n        if (this.displayedAreas.some((/**\n         * @param {?} a\n         * @return {?}\n         */\n        (a) => a.component === component))) {\n            /** @type {?} */\n            const area = this.displayedAreas.find((/**\n             * @param {?} a\n             * @return {?}\n             */\n            (a) => a.component === component));\n            this.displayedAreas.splice(this.displayedAreas.indexOf(area), 1);\n            this.build(true, true);\n        }\n        else if (this.hidedAreas.some((/**\n         * @param {?} a\n         * @return {?}\n         */\n        (a) => a.component === component))) {\n            /** @type {?} */\n            const area = this.hidedAreas.find((/**\n             * @param {?} a\n             * @return {?}\n             */\n            (a) => a.component === component));\n            this.hidedAreas.splice(this.hidedAreas.indexOf(area), 1);\n        }\n    }\n    /**\n     * @param {?} component\n     * @param {?} resetOrders\n     * @param {?} resetSizes\n     * @return {?}\n     */\n    updateArea(component, resetOrders, resetSizes) {\n        if (component.visible === true) {\n            this.build(resetOrders, resetSizes);\n        }\n    }\n    /**\n     * @param {?} component\n     * @return {?}\n     */\n    showArea(component) {\n        /** @type {?} */\n        const area = this.hidedAreas.find((/**\n         * @param {?} a\n         * @return {?}\n         */\n        (a) => a.component === component));\n        if (area === undefined) {\n            return;\n        }\n        /** @type {?} */\n        const areas = this.hidedAreas.splice(this.hidedAreas.indexOf(area), 1);\n        this.displayedAreas.push(...areas);\n        this.build(true, true);\n    }\n    /**\n     * @param {?} comp\n     * @return {?}\n     */\n    hideArea(comp) {\n        /** @type {?} */\n        const area = this.displayedAreas.find((/**\n         * @param {?} a\n         * @return {?}\n         */\n        (a) => a.component === comp));\n        if (area === undefined) {\n            return;\n        }\n        /** @type {?} */\n        const areas = this.displayedAreas.splice(this.displayedAreas.indexOf(area), 1);\n        areas.forEach((/**\n         * @param {?} area\n         * @return {?}\n         */\n        (area) => {\n            area.order = 0;\n            area.size = 0;\n        }));\n        this.hidedAreas.push(...areas);\n        this.build(true, true);\n    }\n    /**\n     * @return {?}\n     */\n    getVisibleAreaSizes() {\n        return this.displayedAreas.map((/**\n         * @param {?} a\n         * @return {?}\n         */\n        (a) => (a.size === null ? '*' : a.size)));\n    }\n    /**\n     * @param {?} sizes\n     * @return {?}\n     */\n    setVisibleAreaSizes(sizes) {\n        if (sizes.length !== this.displayedAreas.length) {\n            return false;\n        }\n        /** @type {?} */\n        const formatedSizes = sizes.map((/**\n         * @param {?} s\n         * @return {?}\n         */\n        (s) => getInputPositiveNumber(s, null)));\n        /** @type {?} */\n        const isValid = isUserSizesValid(this.unit, formatedSizes);\n        if (isValid === false) {\n            return false;\n        }\n        // @ts-ignore\n        this.displayedAreas.forEach((/**\n         * @param {?} area\n         * @param {?} i\n         * @return {?}\n         */\n        (area, i) => (area.component._size = formatedSizes[i])));\n        this.build(false, true);\n        return true;\n    }\n    /**\n     * @private\n     * @param {?} resetOrders\n     * @param {?} resetSizes\n     * @return {?}\n     */\n    build(resetOrders, resetSizes) {\n        this.stopDragging();\n        // ¤ AREAS ORDER\n        if (resetOrders === true) {\n            // If user provided 'order' for each area, use it to sort them.\n            if (this.displayedAreas.every((/**\n             * @param {?} a\n             * @return {?}\n             */\n            (a) => a.component.order !== null))) {\n                this.displayedAreas.sort((/**\n                 * @param {?} a\n                 * @param {?} b\n                 * @return {?}\n                 */\n                (a, b) => (/** @type {?} */ (a.component.order)) - (/** @type {?} */ (b.component.order))));\n            }\n            // Then set real order with multiples of 2, numbers between will be used by gutters.\n            this.displayedAreas.forEach((/**\n             * @param {?} area\n             * @param {?} i\n             * @return {?}\n             */\n            (area, i) => {\n                area.order = i * 2;\n                area.component.setStyleOrder(area.order);\n            }));\n        }\n        // ¤ AREAS SIZE\n        if (resetSizes === true) {\n            /** @type {?} */\n            const useUserSizes = isUserSizesValid(this.unit, this.displayedAreas.map((/**\n             * @param {?} a\n             * @return {?}\n             */\n            (a) => a.component.size)));\n            switch (this.unit) {\n                case 'percent': {\n                    /** @type {?} */\n                    const defaultSize = 100 / this.displayedAreas.length;\n                    this.displayedAreas.forEach((/**\n                     * @param {?} area\n                     * @return {?}\n                     */\n                    (area) => {\n                        area.size = useUserSizes ? (/** @type {?} */ (area.component.size)) : defaultSize;\n                        area.minSize = getAreaMinSize(area);\n                        area.maxSize = getAreaMaxSize(area);\n                    }));\n                    break;\n                }\n                case 'pixel': {\n                    if (useUserSizes) {\n                        this.displayedAreas.forEach((/**\n                         * @param {?} area\n                         * @return {?}\n                         */\n                        (area) => {\n                            area.size = area.component.size;\n                            area.minSize = getAreaMinSize(area);\n                            area.maxSize = getAreaMaxSize(area);\n                        }));\n                    }\n                    else {\n                        /** @type {?} */\n                        const wildcardSizeAreas = this.displayedAreas.filter((/**\n                         * @param {?} a\n                         * @return {?}\n                         */\n                        (a) => a.component.size === null))\n                        // No wildcard area > Need to select one arbitrarily > first\n                        ;\n                        // No wildcard area > Need to select one arbitrarily > first\n                        if (wildcardSizeAreas.length === 0 && this.displayedAreas.length > 0) {\n                            this.displayedAreas.forEach((/**\n                             * @param {?} area\n                             * @param {?} i\n                             * @return {?}\n                             */\n                            (area, i) => {\n                                area.size = i === 0 ? null : area.component.size;\n                                area.minSize = i === 0 ? null : getAreaMinSize(area);\n                                area.maxSize = i === 0 ? null : getAreaMaxSize(area);\n                            }));\n                        }\n                        // More than one wildcard area > Need to keep only one arbitrarly > first\n                        else if (wildcardSizeAreas.length > 1) {\n                            /** @type {?} */\n                            let alreadyGotOne = false;\n                            this.displayedAreas.forEach((/**\n                             * @param {?} area\n                             * @return {?}\n                             */\n                            (area) => {\n                                if (area.component.size === null) {\n                                    if (alreadyGotOne === false) {\n                                        area.size = null;\n                                        area.minSize = null;\n                                        area.maxSize = null;\n                                        alreadyGotOne = true;\n                                    }\n                                    else {\n                                        area.size = 100;\n                                        area.minSize = null;\n                                        area.maxSize = null;\n                                    }\n                                }\n                                else {\n                                    area.size = area.component.size;\n                                    area.minSize = getAreaMinSize(area);\n                                    area.maxSize = getAreaMaxSize(area);\n                                }\n                            }));\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        this.refreshStyleSizes();\n        this.cdRef.markForCheck();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    refreshStyleSizes() {\n        ///////////////////////////////////////////\n        // PERCENT MODE\n        if (this.unit === 'percent') {\n            // Only one area > flex-basis 100%\n            if (this.displayedAreas.length === 1) {\n                this.displayedAreas[0].component.setStyleFlex(0, 0, `100%`, false, false);\n            }\n            // Multiple areas > use each percent basis\n            else {\n                /** @type {?} */\n                const sumGutterSize = this.getNbGutters() * this.gutterSize;\n                this.displayedAreas.forEach((/**\n                 * @param {?} area\n                 * @return {?}\n                 */\n                (area) => {\n                    area.component.setStyleFlex(0, 0, `calc( ${area.size}% - ${((/** @type {?} */ (area.size)) / 100) * sumGutterSize}px )`, area.minSize !== null && area.minSize === area.size ? true : false, area.maxSize !== null && area.maxSize === area.size ? true : false);\n                }));\n            }\n        }\n        ///////////////////////////////////////////\n        // PIXEL MODE\n        else if (this.unit === 'pixel') {\n            this.displayedAreas.forEach((/**\n             * @param {?} area\n             * @return {?}\n             */\n            (area) => {\n                // Area with wildcard size\n                if (area.size === null) {\n                    if (this.displayedAreas.length === 1) {\n                        area.component.setStyleFlex(1, 1, `100%`, false, false);\n                    }\n                    else {\n                        area.component.setStyleFlex(1, 1, `auto`, false, false);\n                    }\n                }\n                // Area with pixel size\n                else {\n                    // Only one area > flex-basis 100%\n                    if (this.displayedAreas.length === 1) {\n                        area.component.setStyleFlex(0, 0, `100%`, false, false);\n                    }\n                    // Multiple areas > use each pixel basis\n                    else {\n                        area.component.setStyleFlex(0, 0, `${area.size}px`, area.minSize !== null && area.minSize === area.size ? true : false, area.maxSize !== null && area.maxSize === area.size ? true : false);\n                    }\n                }\n            }));\n        }\n    }\n    /**\n     * @param {?} event\n     * @param {?} gutterNum\n     * @return {?}\n     */\n    clickGutter(event, gutterNum) {\n        /** @type {?} */\n        const tempPoint = getPointFromEvent(event)\n        // Be sure mouseup/touchend happened at same point as mousedown/touchstart to trigger click/dblclick\n        ;\n        // Be sure mouseup/touchend happened at same point as mousedown/touchstart to trigger click/dblclick\n        if (this.startPoint && this.startPoint.x === tempPoint.x && this.startPoint.y === tempPoint.y) {\n            // If timeout in progress and new click > clearTimeout & dblClickEvent\n            if (this._clickTimeout !== null) {\n                window.clearTimeout(this._clickTimeout);\n                this._clickTimeout = null;\n                this.notify('dblclick', gutterNum);\n                this.stopDragging();\n            }\n            // Else start timeout to call clickEvent at end\n            else {\n                this._clickTimeout = window.setTimeout((/**\n                 * @return {?}\n                 */\n                () => {\n                    this._clickTimeout = null;\n                    this.notify('click', gutterNum);\n                    this.stopDragging();\n                }), this.gutterDblClickDuration);\n            }\n        }\n    }\n    /**\n     * @param {?} event\n     * @param {?} gutterOrder\n     * @param {?} gutterNum\n     * @return {?}\n     */\n    startDragging(event, gutterOrder, gutterNum) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.startPoint = getPointFromEvent(event);\n        if (this.startPoint === null || this.disabled === true || this.isWaitingClear === true) {\n            return;\n        }\n        this.snapshot = {\n            gutterNum,\n            lastSteppedOffset: 0,\n            allAreasSizePixel: getElementPixelSize(this.elRef, this.direction) - this.getNbGutters() * this.gutterSize,\n            allInvolvedAreasSizePercent: 100,\n            areasBeforeGutter: [],\n            areasAfterGutter: [],\n        };\n        this.displayedAreas.forEach((/**\n         * @param {?} area\n         * @return {?}\n         */\n        (area) => {\n            /** @type {?} */\n            const areaSnapshot = {\n                area,\n                sizePixelAtStart: getElementPixelSize(area.component.elRef, this.direction),\n                sizePercentAtStart: this.unit === 'percent' ? area.size : -1,\n            };\n            if (area.order < gutterOrder) {\n                if (this.restrictMove === true) {\n                    this.snapshot.areasBeforeGutter = [areaSnapshot];\n                }\n                else {\n                    this.snapshot.areasBeforeGutter.unshift(areaSnapshot);\n                }\n            }\n            else if (area.order > gutterOrder) {\n                if (this.restrictMove === true) {\n                    if (this.snapshot.areasAfterGutter.length === 0)\n                        this.snapshot.areasAfterGutter = [areaSnapshot];\n                }\n                else {\n                    this.snapshot.areasAfterGutter.push(areaSnapshot);\n                }\n            }\n        }));\n        this.snapshot.allInvolvedAreasSizePercent = [\n            ...this.snapshot.areasBeforeGutter,\n            ...this.snapshot.areasAfterGutter,\n        ].reduce((/**\n         * @param {?} t\n         * @param {?} a\n         * @return {?}\n         */\n        (t, a) => t + a.sizePercentAtStart), 0);\n        if (this.snapshot.areasBeforeGutter.length === 0 || this.snapshot.areasAfterGutter.length === 0) {\n            return;\n        }\n        this.dragListeners.push(this.renderer.listen('document', 'mouseup', this.stopDragging.bind(this)));\n        this.dragListeners.push(this.renderer.listen('document', 'touchend', this.stopDragging.bind(this)));\n        this.dragListeners.push(this.renderer.listen('document', 'touchcancel', this.stopDragging.bind(this)));\n        this.ngZone.runOutsideAngular((/**\n         * @return {?}\n         */\n        () => {\n            this.dragListeners.push(this.renderer.listen('document', 'mousemove', this.dragEvent.bind(this)));\n            this.dragListeners.push(this.renderer.listen('document', 'touchmove', this.dragEvent.bind(this)));\n        }));\n        this.displayedAreas.forEach((/**\n         * @param {?} area\n         * @return {?}\n         */\n        (area) => area.component.lockEvents()));\n        this.isDragging = true;\n        this.renderer.addClass(this.elRef.nativeElement, 'as-dragging');\n        this.renderer.addClass(this.gutterEls.toArray()[this.snapshot.gutterNum - 1].nativeElement, 'as-dragged');\n        this.notify('start', this.snapshot.gutterNum);\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    dragEvent(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if (this._clickTimeout !== null) {\n            window.clearTimeout(this._clickTimeout);\n            this._clickTimeout = null;\n        }\n        if (this.isDragging === false) {\n            return;\n        }\n        this.endPoint = getPointFromEvent(event);\n        if (this.endPoint === null) {\n            return;\n        }\n        // Calculate steppedOffset\n        /** @type {?} */\n        let offset = this.direction === 'horizontal' ? this.startPoint.x - this.endPoint.x : this.startPoint.y - this.endPoint.y;\n        if (this.dir === 'rtl') {\n            offset = -offset;\n        }\n        /** @type {?} */\n        const steppedOffset = Math.round(offset / this.gutterStep) * this.gutterStep;\n        if (steppedOffset === this.snapshot.lastSteppedOffset) {\n            return;\n        }\n        this.snapshot.lastSteppedOffset = steppedOffset;\n        // Need to know if each gutter side areas could reacts to steppedOffset\n        /** @type {?} */\n        let areasBefore = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasBeforeGutter, -steppedOffset, this.snapshot.allAreasSizePixel);\n        /** @type {?} */\n        let areasAfter = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasAfterGutter, steppedOffset, this.snapshot.allAreasSizePixel)\n        // Each gutter side areas can't absorb all offset\n        ;\n        // Each gutter side areas can't absorb all offset\n        if (areasBefore.remain !== 0 && areasAfter.remain !== 0) {\n            if (Math.abs(areasBefore.remain) === Math.abs(areasAfter.remain)) {\n            }\n            else if (Math.abs(areasBefore.remain) > Math.abs(areasAfter.remain)) {\n                areasAfter = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasAfterGutter, steppedOffset + areasBefore.remain, this.snapshot.allAreasSizePixel);\n            }\n            else {\n                areasBefore = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasBeforeGutter, -(steppedOffset - areasAfter.remain), this.snapshot.allAreasSizePixel);\n            }\n        }\n        // Areas before gutter can't absorbs all offset > need to recalculate sizes for areas after gutter.\n        else if (areasBefore.remain !== 0) {\n            areasAfter = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasAfterGutter, steppedOffset + areasBefore.remain, this.snapshot.allAreasSizePixel);\n        }\n        // Areas after gutter can't absorbs all offset > need to recalculate sizes for areas before gutter.\n        else if (areasAfter.remain !== 0) {\n            areasBefore = getGutterSideAbsorptionCapacity(this.unit, this.snapshot.areasBeforeGutter, -(steppedOffset - areasAfter.remain), this.snapshot.allAreasSizePixel);\n        }\n        if (this.unit === 'percent') {\n            // Hack because of browser messing up with sizes using calc(X% - Ypx) -> el.getBoundingClientRect()\n            // If not there, playing with gutters makes total going down to 99.99875% then 99.99286%, 99.98986%,..\n            /** @type {?} */\n            const all = [...areasBefore.list, ...areasAfter.list];\n            /** @type {?} */\n            const areaToReset = all.find((/**\n             * @param {?} a\n             * @return {?}\n             */\n            (a) => a.percentAfterAbsorption !== 0 &&\n                a.percentAfterAbsorption !== a.areaSnapshot.area.minSize &&\n                a.percentAfterAbsorption !== a.areaSnapshot.area.maxSize));\n            if (areaToReset) {\n                areaToReset.percentAfterAbsorption =\n                    this.snapshot.allInvolvedAreasSizePercent -\n                        all.filter((/**\n                         * @param {?} a\n                         * @return {?}\n                         */\n                        (a) => a !== areaToReset)).reduce((/**\n                         * @param {?} total\n                         * @param {?} a\n                         * @return {?}\n                         */\n                        (total, a) => total + a.percentAfterAbsorption), 0);\n            }\n        }\n        // Now we know areas could absorb steppedOffset, time to really update sizes\n        areasBefore.list.forEach((/**\n         * @param {?} item\n         * @return {?}\n         */\n        (item) => updateAreaSize(this.unit, item)));\n        areasAfter.list.forEach((/**\n         * @param {?} item\n         * @return {?}\n         */\n        (item) => updateAreaSize(this.unit, item)));\n        this.refreshStyleSizes();\n        this.notify('progress', this.snapshot.gutterNum);\n    }\n    /**\n     * @private\n     * @param {?=} event\n     * @return {?}\n     */\n    stopDragging(event) {\n        if (event) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n        if (this.isDragging === false) {\n            return;\n        }\n        this.displayedAreas.forEach((/**\n         * @param {?} area\n         * @return {?}\n         */\n        (area) => area.component.unlockEvents()));\n        while (this.dragListeners.length > 0) {\n            /** @type {?} */\n            const fct = this.dragListeners.pop();\n            if (fct)\n                fct();\n        }\n        // Warning: Have to be before \"notify('end')\"\n        // because \"notify('end')\"\" can be linked to \"[size]='x'\" > \"build()\" > \"stopDragging()\"\n        this.isDragging = false;\n        // If moved from starting point, notify end\n        if (this.endPoint && (this.startPoint.x !== this.endPoint.x || this.startPoint.y !== this.endPoint.y)) {\n            this.notify('end', this.snapshot.gutterNum);\n        }\n        this.renderer.removeClass(this.elRef.nativeElement, 'as-dragging');\n        this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum - 1].nativeElement, 'as-dragged');\n        this.snapshot = null;\n        this.isWaitingClear = true;\n        // Needed to let (click)=\"clickGutter(...)\" event run and verify if mouse moved or not\n        this.ngZone.runOutsideAngular((/**\n         * @return {?}\n         */\n        () => {\n            setTimeout((/**\n             * @return {?}\n             */\n            () => {\n                this.startPoint = null;\n                this.endPoint = null;\n                this.isWaitingClear = false;\n            }));\n        }));\n    }\n    /**\n     * @param {?} type\n     * @param {?} gutterNum\n     * @return {?}\n     */\n    notify(type, gutterNum) {\n        /** @type {?} */\n        const sizes = this.getVisibleAreaSizes();\n        if (type === 'start') {\n            this.dragStart.emit({ gutterNum, sizes });\n        }\n        else if (type === 'end') {\n            this.dragEnd.emit({ gutterNum, sizes });\n        }\n        else if (type === 'click') {\n            this.gutterClick.emit({ gutterNum, sizes });\n        }\n        else if (type === 'dblclick') {\n            this.gutterDblClick.emit({ gutterNum, sizes });\n        }\n        else if (type === 'transitionEnd') {\n            if (this.transitionEndSubscriber) {\n                this.ngZone.run((/**\n                 * @return {?}\n                 */\n                () => this.transitionEndSubscriber.next(sizes)));\n            }\n        }\n        else if (type === 'progress') {\n            // Stay outside zone to allow users do what they want about change detection mechanism.\n            this.dragProgressSubject.next({ gutterNum, sizes });\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.stopDragging();\n    }\n}\nSplitComponent.ɵfac = function SplitComponent_Factory(t) { return new (t || SplitComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2)); };\nSplitComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: SplitComponent, selectors: [[\"as-split\"]], viewQuery: function SplitComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 5);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.gutterEls = _t);\n    } }, inputs: { direction: \"direction\", unit: \"unit\", gutterSize: \"gutterSize\", gutterStep: \"gutterStep\", restrictMove: \"restrictMove\", useTransition: \"useTransition\", disabled: \"disabled\", dir: \"dir\", gutterDblClickDuration: \"gutterDblClickDuration\" }, outputs: { dragStart: \"dragStart\", dragEnd: \"dragEnd\", gutterClick: \"gutterClick\", gutterDblClick: \"gutterDblClick\", transitionEnd: \"transitionEnd\" }, exportAs: [\"asSplit\"], ngContentSelectors: _c1, decls: 2, vars: 1, consts: [[\"ngFor\", \"\", 3, \"ngForOf\"], [\"class\", \"as-split-gutter\", 3, \"flex-basis\", \"order\", \"mousedown\", \"touchstart\", \"mouseup\", \"touchend\", 4, \"ngIf\"], [1, \"as-split-gutter\", 3, \"mousedown\", \"touchstart\", \"mouseup\", \"touchend\"], [\"gutterEls\", \"\"], [1, \"as-split-gutter-icon\"]], template: function SplitComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵprojection(0);\n        ɵngcc0.ɵɵtemplate(1, SplitComponent_ng_template_1_Template, 1, 1, \"ng-template\", 0);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.displayedAreas);\n    } }, directives: [ɵngcc1.NgForOf, ɵngcc1.NgIf], styles: [\"[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(\\\"\\\")}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area, .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%]{transition:flex-basis .3s}\"], changeDetection: 0 });\n/** @nocollapse */\nSplitComponent.ctorParameters = () => [\n    { type: NgZone },\n    { type: ElementRef },\n    { type: ChangeDetectorRef },\n    { type: Renderer2 }\n];\nSplitComponent.propDecorators = {\n    direction: [{ type: Input }],\n    unit: [{ type: Input }],\n    gutterSize: [{ type: Input }],\n    gutterStep: [{ type: Input }],\n    restrictMove: [{ type: Input }],\n    useTransition: [{ type: Input }],\n    disabled: [{ type: Input }],\n    dir: [{ type: Input }],\n    gutterDblClickDuration: [{ type: Input }],\n    dragStart: [{ type: Output }],\n    dragEnd: [{ type: Output }],\n    gutterClick: [{ type: Output }],\n    gutterDblClick: [{ type: Output }],\n    transitionEnd: [{ type: Output }],\n    gutterEls: [{ type: ViewChildren, args: ['gutterEls',] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(SplitComponent, [{\n        type: Component,\n        args: [{\n                selector: 'as-split',\n                exportAs: 'asSplit',\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                template: ` <ng-content></ng-content>\n    <ng-template ngFor [ngForOf]=\"displayedAreas\" let-index=\"index\" let-last=\"last\">\n      <div\n        *ngIf=\"last === false\"\n        #gutterEls\n        class=\"as-split-gutter\"\n        [style.flex-basis.px]=\"gutterSize\"\n        [style.order]=\"index * 2 + 1\"\n        (mousedown)=\"startDragging($event, index * 2 + 1, index + 1)\"\n        (touchstart)=\"startDragging($event, index * 2 + 1, index + 1)\"\n        (mouseup)=\"clickGutter($event, index + 1)\"\n        (touchend)=\"clickGutter($event, index + 1)\"\n      >\n        <div class=\"as-split-gutter-icon\"></div>\n      </div>\n    </ng-template>`,\n                encapsulation: ViewEncapsulation.Emulated,\n                styles: [\":host{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}:host>.as-split-gutter{flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}:host>.as-split-gutter>.as-split-gutter-icon{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}:host ::ng-deep>.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}:host ::ng-deep>.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}:host.as-horizontal{flex-direction:row}:host.as-horizontal>.as-split-gutter{flex-direction:row;cursor:col-resize;height:100%}:host.as-horizontal>.as-split-gutter>.as-split-gutter-icon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}:host.as-horizontal ::ng-deep>.as-split-area{height:100%}:host.as-vertical{flex-direction:column}:host.as-vertical>.as-split-gutter{flex-direction:column;cursor:row-resize;width:100%}:host.as-vertical>.as-split-gutter .as-split-gutter-icon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}:host.as-vertical ::ng-deep>.as-split-area{width:100%}:host.as-vertical ::ng-deep>.as-split-area.as-hidden{max-width:0}:host.as-disabled>.as-split-gutter{cursor:default}:host.as-disabled>.as-split-gutter .as-split-gutter-icon{background-image:url(\\\"\\\")}:host.as-transition.as-init:not(.as-dragging) ::ng-deep>.as-split-area,:host.as-transition.as-init:not(.as-dragging)>.as-split-gutter{transition:flex-basis .3s}\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: ɵngcc0.ElementRef }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc0.Renderer2 }]; }, { dragStart: [{\n            type: Output\n        }], dragEnd: [{\n            type: Output\n        }], gutterClick: [{\n            type: Output\n        }], gutterDblClick: [{\n            type: Output\n        }], direction: [{\n            type: Input\n        }], unit: [{\n            type: Input\n        }], gutterSize: [{\n            type: Input\n        }], gutterStep: [{\n            type: Input\n        }], restrictMove: [{\n            type: Input\n        }], useTransition: [{\n            type: Input\n        }], disabled: [{\n            type: Input\n        }], dir: [{\n            type: Input\n        }], gutterDblClickDuration: [{\n            type: Input\n        }], transitionEnd: [{\n            type: Output\n        }], gutterEls: [{\n            type: ViewChildren,\n            args: ['gutterEls']\n        }] }); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._direction;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._unit;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._gutterSize;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._gutterStep;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._restrictMove;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._useTransition;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._disabled;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._dir;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype._gutterDblClickDuration;\n    /** @type {?} */\n    SplitComponent.prototype.dragStart;\n    /** @type {?} */\n    SplitComponent.prototype.dragEnd;\n    /** @type {?} */\n    SplitComponent.prototype.gutterClick;\n    /** @type {?} */\n    SplitComponent.prototype.gutterDblClick;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.transitionEndSubscriber;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.dragProgressSubject;\n    /** @type {?} */\n    SplitComponent.prototype.dragProgress$;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.isDragging;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.isWaitingClear;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.dragListeners;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.snapshot;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.startPoint;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.endPoint;\n    /** @type {?} */\n    SplitComponent.prototype.displayedAreas;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.hidedAreas;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.gutterEls;\n    /** @type {?} */\n    SplitComponent.prototype._clickTimeout;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.ngZone;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.elRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.cdRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitComponent.prototype.renderer;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass SplitAreaDirective {\n    /**\n     * @param {?} ngZone\n     * @param {?} elRef\n     * @param {?} renderer\n     * @param {?} split\n     */\n    constructor(ngZone, elRef, renderer, split) {\n        this.ngZone = ngZone;\n        this.elRef = elRef;\n        this.renderer = renderer;\n        this.split = split;\n        this._order = null;\n        ////\n        this._size = null;\n        ////\n        this._minSize = null;\n        ////\n        this._maxSize = null;\n        ////\n        this._lockSize = false;\n        ////\n        this._visible = true;\n        this.lockListeners = [];\n        this.renderer.addClass(this.elRef.nativeElement, 'as-split-area');\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set order(v) {\n        this._order = getInputPositiveNumber(v, null);\n        this.split.updateArea(this, true, false);\n    }\n    /**\n     * @return {?}\n     */\n    get order() {\n        return this._order;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set size(v) {\n        this._size = getInputPositiveNumber(v, null);\n        this.split.updateArea(this, false, true);\n    }\n    /**\n     * @return {?}\n     */\n    get size() {\n        return this._size;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set minSize(v) {\n        this._minSize = getInputPositiveNumber(v, null);\n        this.split.updateArea(this, false, true);\n    }\n    /**\n     * @return {?}\n     */\n    get minSize() {\n        return this._minSize;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set maxSize(v) {\n        this._maxSize = getInputPositiveNumber(v, null);\n        this.split.updateArea(this, false, true);\n    }\n    /**\n     * @return {?}\n     */\n    get maxSize() {\n        return this._maxSize;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set lockSize(v) {\n        this._lockSize = getInputBoolean(v);\n        this.split.updateArea(this, false, true);\n    }\n    /**\n     * @return {?}\n     */\n    get lockSize() {\n        return this._lockSize;\n    }\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    set visible(v) {\n        this._visible = getInputBoolean(v);\n        if (this._visible) {\n            this.split.showArea(this);\n            this.renderer.removeClass(this.elRef.nativeElement, 'as-hidden');\n        }\n        else {\n            this.split.hideArea(this);\n            this.renderer.addClass(this.elRef.nativeElement, 'as-hidden');\n        }\n    }\n    /**\n     * @return {?}\n     */\n    get visible() {\n        return this._visible;\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.split.addArea(this);\n        this.ngZone.runOutsideAngular((/**\n         * @return {?}\n         */\n        () => {\n            this.transitionListener = this.renderer.listen(this.elRef.nativeElement, 'transitionend', (/**\n             * @param {?} event\n             * @return {?}\n             */\n            (event) => {\n                // Limit only flex-basis transition to trigger the event\n                if (event.propertyName === 'flex-basis') {\n                    this.split.notify('transitionEnd', -1);\n                }\n            }));\n        }));\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    setStyleOrder(value) {\n        this.renderer.setStyle(this.elRef.nativeElement, 'order', value);\n    }\n    /**\n     * @param {?} grow\n     * @param {?} shrink\n     * @param {?} basis\n     * @param {?} isMin\n     * @param {?} isMax\n     * @return {?}\n     */\n    setStyleFlex(grow, shrink, basis, isMin, isMax) {\n        // Need 3 separated properties to work on IE11 (https://github.com/angular/flex-layout/issues/323)\n        this.renderer.setStyle(this.elRef.nativeElement, 'flex-grow', grow);\n        this.renderer.setStyle(this.elRef.nativeElement, 'flex-shrink', shrink);\n        this.renderer.setStyle(this.elRef.nativeElement, 'flex-basis', basis);\n        if (isMin === true)\n            this.renderer.addClass(this.elRef.nativeElement, 'as-min');\n        else\n            this.renderer.removeClass(this.elRef.nativeElement, 'as-min');\n        if (isMax === true)\n            this.renderer.addClass(this.elRef.nativeElement, 'as-max');\n        else\n            this.renderer.removeClass(this.elRef.nativeElement, 'as-max');\n    }\n    /**\n     * @return {?}\n     */\n    lockEvents() {\n        this.ngZone.runOutsideAngular((/**\n         * @return {?}\n         */\n        () => {\n            this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement, 'selectstart', (/**\n             * @param {?} e\n             * @return {?}\n             */\n            (e) => false)));\n            this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement, 'dragstart', (/**\n             * @param {?} e\n             * @return {?}\n             */\n            (e) => false)));\n        }));\n    }\n    /**\n     * @return {?}\n     */\n    unlockEvents() {\n        while (this.lockListeners.length > 0) {\n            /** @type {?} */\n            const fct = this.lockListeners.pop();\n            if (fct)\n                fct();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.unlockEvents();\n        if (this.transitionListener) {\n            this.transitionListener();\n        }\n        this.split.removeArea(this);\n    }\n}\nSplitAreaDirective.ɵfac = function SplitAreaDirective_Factory(t) { return new (t || SplitAreaDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(SplitComponent)); };\nSplitAreaDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: SplitAreaDirective, selectors: [[\"as-split-area\"], [\"\", \"as-split-area\", \"\"]], inputs: { order: \"order\", size: \"size\", minSize: \"minSize\", maxSize: \"maxSize\", lockSize: \"lockSize\", visible: \"visible\" }, exportAs: [\"asSplitArea\"] });\n/** @nocollapse */\nSplitAreaDirective.ctorParameters = () => [\n    { type: NgZone },\n    { type: ElementRef },\n    { type: Renderer2 },\n    { type: SplitComponent }\n];\nSplitAreaDirective.propDecorators = {\n    order: [{ type: Input }],\n    size: [{ type: Input }],\n    minSize: [{ type: Input }],\n    maxSize: [{ type: Input }],\n    lockSize: [{ type: Input }],\n    visible: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(SplitAreaDirective, [{\n        type: Directive,\n        args: [{\n                selector: 'as-split-area, [as-split-area]',\n                exportAs: 'asSplitArea'\n            }]\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }, { type: SplitComponent }]; }, { order: [{\n            type: Input\n        }], size: [{\n            type: Input\n        }], minSize: [{\n            type: Input\n        }], maxSize: [{\n            type: Input\n        }], lockSize: [{\n            type: Input\n        }], visible: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype._order;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype._size;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype._minSize;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype._maxSize;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype._lockSize;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype._visible;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype.transitionListener;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype.lockListeners;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype.ngZone;\n    /** @type {?} */\n    SplitAreaDirective.prototype.elRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype.renderer;\n    /**\n     * @type {?}\n     * @private\n     */\n    SplitAreaDirective.prototype.split;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass AngularSplitModule {\n    /**\n     * @return {?}\n     */\n    static forRoot() {\n        return {\n            ngModule: AngularSplitModule,\n            providers: [],\n        };\n    }\n    /**\n     * @return {?}\n     */\n    static forChild() {\n        return {\n            ngModule: AngularSplitModule,\n            providers: [],\n        };\n    }\n}\nAngularSplitModule.ɵfac = function AngularSplitModule_Factory(t) { return new (t || AngularSplitModule)(); };\nAngularSplitModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: AngularSplitModule });\nAngularSplitModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[CommonModule]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AngularSplitModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CommonModule],\n                declarations: [SplitComponent, SplitAreaDirective],\n                exports: [SplitComponent, SplitAreaDirective]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(AngularSplitModule, { declarations: function () { return [SplitComponent, SplitAreaDirective]; }, imports: function () { return [CommonModule]; }, exports: function () { return [SplitComponent, SplitAreaDirective]; } }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { AngularSplitModule, SplitAreaDirective, SplitComponent };\n\n//# sourceMappingURL=angular-split.js.map","module.exports = {\n    ResizeSensor: require('./src/ResizeSensor'),\n    ElementQueries: require('./src/ElementQueries')\n};\n","'use strict';\n\n/**\n * Copyright Marc J. Schmidt. See the LICENSE file at the top-level\n * directory of this distribution and at\n * https://github.com/marcj/css-element-queries/blob/master/LICENSE.\n */\n(function (root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['./ResizeSensor.js'], factory);\n    } else if (typeof exports === \"object\") {\n        module.exports = factory(require('./ResizeSensor.js'));\n    } else {\n        root.ElementQueries = factory(root.ResizeSensor);\n        root.ElementQueries.listen();\n    }\n}(typeof window !== 'undefined' ? window : this, function (ResizeSensor) {\n\n    /**\n     *\n     * @type {Function}\n     * @constructor\n     */\n    var ElementQueries = function () {\n        //<style> element with our dynamically created styles\n        var cssStyleElement;\n\n        //all rules found for element queries\n        var allQueries = {};\n\n        //association map to identify which selector belongs to a element from the animationstart event.\n        var idToSelectorMapping = [];\n\n        /**\n         *\n         * @param element\n         * @returns {Number}\n         */\n        function getEmSize(element) {\n            if (!element) {\n                element = document.documentElement;\n            }\n            var fontSize = window.getComputedStyle(element, null).fontSize;\n            return parseFloat(fontSize) || 16;\n        }\n\n        /**\n         * Get element size\n         * @param {HTMLElement} element\n         * @returns {Object} {width, height}\n         */\n        function getElementSize(element) {\n            if (!element.getBoundingClientRect) {\n                return {\n                    width: element.offsetWidth,\n                    height: element.offsetHeight\n                }\n            }\n\n            var rect = element.getBoundingClientRect();\n            return {\n                width: Math.round(rect.width),\n                height: Math.round(rect.height)\n            }\n        }\n\n        /**\n         *\n         * @copyright https://github.com/Mr0grog/element-query/blob/master/LICENSE\n         *\n         * @param {HTMLElement} element\n         * @param {*} value\n         * @returns {*}\n         */\n        function convertToPx(element, value) {\n            var numbers = value.split(/\\d/);\n            var units = numbers[numbers.length - 1];\n            value = parseFloat(value);\n            switch (units) {\n                case \"px\":\n                    return value;\n                case \"em\":\n                    return value * getEmSize(element);\n                case \"rem\":\n                    return value * getEmSize();\n                // Viewport units!\n                // According to http://quirksmode.org/mobile/tableViewport.html\n                // documentElement.clientWidth/Height gets us the most reliable info\n                case \"vw\":\n                    return value * document.documentElement.clientWidth / 100;\n                case \"vh\":\n                    return value * document.documentElement.clientHeight / 100;\n                case \"vmin\":\n                case \"vmax\":\n                    var vw = document.documentElement.clientWidth / 100;\n                    var vh = document.documentElement.clientHeight / 100;\n                    var chooser = Math[units === \"vmin\" ? \"min\" : \"max\"];\n                    return value * chooser(vw, vh);\n                default:\n                    return value;\n                // for now, not supporting physical units (since they are just a set number of px)\n                // or ex/ch (getting accurate measurements is hard)\n            }\n        }\n\n        /**\n         *\n         * @param {HTMLElement} element\n         * @param {String} id\n         * @constructor\n         */\n        function SetupInformation(element, id) {\n            this.element = element;\n            var key, option, elementSize, value, actualValue, attrValues, attrValue, attrName;\n\n            var attributes = ['min-width', 'min-height', 'max-width', 'max-height'];\n\n            /**\n             * Extracts the computed width/height and sets to min/max- attribute.\n             */\n            this.call = function () {\n                // extract current dimensions\n                elementSize = getElementSize(this.element);\n\n                attrValues = {};\n\n                for (key in allQueries[id]) {\n                    if (!allQueries[id].hasOwnProperty(key)) {\n                        continue;\n                    }\n                    option = allQueries[id][key];\n\n                    value = convertToPx(this.element, option.value);\n\n                    actualValue = option.property === 'width' ? elementSize.width : elementSize.height;\n                    attrName = option.mode + '-' + option.property;\n                    attrValue = '';\n\n                    if (option.mode === 'min' && actualValue >= value) {\n                        attrValue += option.value;\n                    }\n\n                    if (option.mode === 'max' && actualValue <= value) {\n                        attrValue += option.value;\n                    }\n\n                    if (!attrValues[attrName]) attrValues[attrName] = '';\n                    if (attrValue && -1 === (' ' + attrValues[attrName] + ' ').indexOf(' ' + attrValue + ' ')) {\n                        attrValues[attrName] += ' ' + attrValue;\n                    }\n                }\n\n                for (var k in attributes) {\n                    if (!attributes.hasOwnProperty(k)) continue;\n\n                    if (attrValues[attributes[k]]) {\n                        this.element.setAttribute(attributes[k], attrValues[attributes[k]].substr(1));\n                    } else {\n                        this.element.removeAttribute(attributes[k]);\n                    }\n                }\n            };\n        }\n\n        /**\n         * @param {HTMLElement} element\n         * @param {Object}      id\n         */\n        function setupElement(element, id) {\n            if (!element.elementQueriesSetupInformation) {\n                element.elementQueriesSetupInformation = new SetupInformation(element, id);\n            }\n\n            if (!element.elementQueriesSensor) {\n                element.elementQueriesSensor = new ResizeSensor(element, function () {\n                    element.elementQueriesSetupInformation.call();\n                });\n            }\n        }\n\n        /**\n         * Stores rules to the selector that should be applied once resized.\n         *\n         * @param {String} selector\n         * @param {String} mode min|max\n         * @param {String} property width|height\n         * @param {String} value\n         */\n        function queueQuery(selector, mode, property, value) {\n            if (typeof(allQueries[selector]) === 'undefined') {\n                allQueries[selector] = [];\n                // add animation to trigger animationstart event, so we know exactly when a element appears in the DOM\n\n                var id = idToSelectorMapping.length;\n                cssStyleElement.innerHTML += '\\n' + selector + ' {animation: 0.1s element-queries;}';\n                cssStyleElement.innerHTML += '\\n' + selector + ' > .resize-sensor {min-width: '+id+'px;}';\n                idToSelectorMapping.push(selector);\n            }\n\n            allQueries[selector].push({\n                mode: mode,\n                property: property,\n                value: value\n            });\n        }\n\n        function getQuery(container) {\n            var query;\n            if (document.querySelectorAll) query = (container) ? container.querySelectorAll.bind(container) : document.querySelectorAll.bind(document);\n            if (!query && 'undefined' !== typeof $$) query = $$;\n            if (!query && 'undefined' !== typeof jQuery) query = jQuery;\n\n            if (!query) {\n                throw 'No document.querySelectorAll, jQuery or Mootools\\'s $$ found.';\n            }\n\n            return query;\n        }\n\n        /**\n         * If animationStart didn't catch a new element in the DOM, we can manually search for it\n         */\n        function findElementQueriesElements(container) {\n            var query = getQuery(container);\n\n            for (var selector in allQueries) if (allQueries.hasOwnProperty(selector)) {\n                // find all elements based on the extract query selector from the element query rule\n                var elements = query(selector, container);\n\n                for (var i = 0, j = elements.length; i < j; i++) {\n                    setupElement(elements[i], selector);\n                }\n            }\n        }\n\n        /**\n         *\n         * @param {HTMLElement} element\n         */\n        function attachResponsiveImage(element) {\n            var children = [];\n            var rules = [];\n            var sources = [];\n            var defaultImageId = 0;\n            var lastActiveImage = -1;\n            var loadedImages = [];\n\n            for (var i in element.children) {\n                if (!element.children.hasOwnProperty(i)) continue;\n\n                if (element.children[i].tagName && element.children[i].tagName.toLowerCase() === 'img') {\n                    children.push(element.children[i]);\n\n                    var minWidth = element.children[i].getAttribute('min-width') || element.children[i].getAttribute('data-min-width');\n                    //var minHeight = element.children[i].getAttribute('min-height') || element.children[i].getAttribute('data-min-height');\n                    var src = element.children[i].getAttribute('data-src') || element.children[i].getAttribute('url');\n\n                    sources.push(src);\n\n                    var rule = {\n                        minWidth: minWidth\n                    };\n\n                    rules.push(rule);\n\n                    if (!minWidth) {\n                        defaultImageId = children.length - 1;\n                        element.children[i].style.display = 'block';\n                    } else {\n                        element.children[i].style.display = 'none';\n                    }\n                }\n            }\n\n            lastActiveImage = defaultImageId;\n\n            function check() {\n                var imageToDisplay = false, i;\n\n                for (i in children) {\n                    if (!children.hasOwnProperty(i)) continue;\n\n                    if (rules[i].minWidth) {\n                        if (element.offsetWidth > rules[i].minWidth) {\n                            imageToDisplay = i;\n                        }\n                    }\n                }\n\n                if (!imageToDisplay) {\n                    //no rule matched, show default\n                    imageToDisplay = defaultImageId;\n                }\n\n                if (lastActiveImage !== imageToDisplay) {\n                    //image change\n\n                    if (!loadedImages[imageToDisplay]) {\n                        //image has not been loaded yet, we need to load the image first in memory to prevent flash of\n                        //no content\n\n                        var image = new Image();\n                        image.onload = function () {\n                            children[imageToDisplay].src = sources[imageToDisplay];\n\n                            children[lastActiveImage].style.display = 'none';\n                            children[imageToDisplay].style.display = 'block';\n\n                            loadedImages[imageToDisplay] = true;\n\n                            lastActiveImage = imageToDisplay;\n                        };\n\n                        image.src = sources[imageToDisplay];\n                    } else {\n                        children[lastActiveImage].style.display = 'none';\n                        children[imageToDisplay].style.display = 'block';\n                        lastActiveImage = imageToDisplay;\n                    }\n                } else {\n                    //make sure for initial check call the .src is set correctly\n                    children[imageToDisplay].src = sources[imageToDisplay];\n                }\n            }\n\n            element.resizeSensorInstance = new ResizeSensor(element, check);\n            check();\n        }\n\n        function findResponsiveImages() {\n            var query = getQuery();\n\n            var elements = query('[data-responsive-image],[responsive-image]');\n            for (var i = 0, j = elements.length; i < j; i++) {\n                attachResponsiveImage(elements[i]);\n            }\n        }\n\n        var regex = /,?[\\s\\t]*([^,\\n]*?)((?:\\[[\\s\\t]*?(?:min|max)-(?:width|height)[\\s\\t]*?[~$\\^]?=[\\s\\t]*?\"[^\"]*?\"[\\s\\t]*?])+)([^,\\n\\s\\{]*)/mgi;\n        var attrRegex = /\\[[\\s\\t]*?(min|max)-(width|height)[\\s\\t]*?[~$\\^]?=[\\s\\t]*?\"([^\"]*?)\"[\\s\\t]*?]/mgi;\n\n        /**\n         * @param {String} css\n         */\n        function extractQuery(css) {\n            var match, smatch, attrs, attrMatch;\n\n            css = css.replace(/'/g, '\"');\n            while (null !== (match = regex.exec(css))) {\n                smatch = match[1] + match[3];\n                attrs = match[2];\n\n                while (null !== (attrMatch = attrRegex.exec(attrs))) {\n                    queueQuery(smatch, attrMatch[1], attrMatch[2], attrMatch[3]);\n                }\n            }\n        }\n\n        /**\n         * @param {CssRule[]|String} rules\n         */\n        function readRules(rules) {\n            var selector = '';\n\n            if (!rules) {\n                return;\n            }\n\n            if ('string' === typeof rules) {\n                rules = rules.toLowerCase();\n                if (-1 !== rules.indexOf('min-width') || -1 !== rules.indexOf('max-width')) {\n                    extractQuery(rules);\n                }\n            } else {\n                for (var i = 0, j = rules.length; i < j; i++) {\n                    if (1 === rules[i].type) {\n                        selector = rules[i].selectorText || rules[i].cssText;\n                        if (-1 !== selector.indexOf('min-height') || -1 !== selector.indexOf('max-height')) {\n                            extractQuery(selector);\n                        } else if (-1 !== selector.indexOf('min-width') || -1 !== selector.indexOf('max-width')) {\n                            extractQuery(selector);\n                        }\n                    } else if (4 === rules[i].type) {\n                        readRules(rules[i].cssRules || rules[i].rules);\n                    } else if (3 === rules[i].type) {\n                        if(rules[i].styleSheet.hasOwnProperty(\"cssRules\")) {\n                            readRules(rules[i].styleSheet.cssRules);\n                        }\n                    }\n                }\n            }\n        }\n\n        var defaultCssInjected = false;\n\n        /**\n         * Searches all css rules and setups the event listener to all elements with element query rules..\n         */\n        this.init = function () {\n            var animationStart = 'animationstart';\n            if (typeof document.documentElement.style['webkitAnimationName'] !== 'undefined') {\n                animationStart = 'webkitAnimationStart';\n            } else if (typeof document.documentElement.style['MozAnimationName'] !== 'undefined') {\n                animationStart = 'mozanimationstart';\n            } else if (typeof document.documentElement.style['OAnimationName'] !== 'undefined') {\n                animationStart = 'oanimationstart';\n            }\n\n            document.body.addEventListener(animationStart, function (e) {\n                var element = e.target;\n                var styles = element && window.getComputedStyle(element, null);\n                var animationName = styles && styles.getPropertyValue('animation-name');\n                var requiresSetup = animationName && (-1 !== animationName.indexOf('element-queries'));\n\n                if (requiresSetup) {\n                    element.elementQueriesSensor = new ResizeSensor(element, function () {\n                        if (element.elementQueriesSetupInformation) {\n                            element.elementQueriesSetupInformation.call();\n                        }\n                    });\n\n                    var sensorStyles = window.getComputedStyle(element.resizeSensor, null);\n                    var id = sensorStyles.getPropertyValue('min-width');\n                    id = parseInt(id.replace('px', ''));\n                    setupElement(e.target, idToSelectorMapping[id]);\n                }\n            });\n\n            if (!defaultCssInjected) {\n                cssStyleElement = document.createElement('style');\n                cssStyleElement.type = 'text/css';\n                cssStyleElement.innerHTML = '[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}';\n\n                //safari wants at least one rule in keyframes to start working\n                cssStyleElement.innerHTML += '\\n@keyframes element-queries { 0% { visibility: inherit; } }';\n                document.getElementsByTagName('head')[0].appendChild(cssStyleElement);\n                defaultCssInjected = true;\n            }\n\n            for (var i = 0, j = document.styleSheets.length; i < j; i++) {\n                try {\n                    if (document.styleSheets[i].href && 0 === document.styleSheets[i].href.indexOf('file://')) {\n                        console.warn(\"CssElementQueries: unable to parse local css files, \" + document.styleSheets[i].href);\n                    }\n\n                    readRules(document.styleSheets[i].cssRules || document.styleSheets[i].rules || document.styleSheets[i].cssText);\n                } catch (e) {\n                }\n            }\n\n            findResponsiveImages();\n        };\n\n        /**\n         * Go through all collected rules (readRules()) and attach the resize-listener.\n         * Not necessary to call it manually, since we detect automatically when new elements\n         * are available in the DOM. However, sometimes handy for dirty DOM modifications.\n         *\n         * @param {HTMLElement} container only elements of the container are considered (document.body if not set)\n         */\n        this.findElementQueriesElements = function (container) {\n            findElementQueriesElements(container);\n        };\n\n        this.update = function () {\n            this.init();\n        };\n    };\n\n    ElementQueries.update = function () {\n        ElementQueries.instance.update();\n    };\n\n    /**\n     * Removes all sensor and elementquery information from the element.\n     *\n     * @param {HTMLElement} element\n     */\n    ElementQueries.detach = function (element) {\n        if (element.elementQueriesSetupInformation) {\n            //element queries\n            element.elementQueriesSensor.detach();\n            delete element.elementQueriesSetupInformation;\n            delete element.elementQueriesSensor;\n\n        } else if (element.resizeSensorInstance) {\n            //responsive image\n\n            element.resizeSensorInstance.detach();\n            delete element.resizeSensorInstance;\n        }\n    };\n\n    ElementQueries.init = function () {\n        if (!ElementQueries.instance) {\n            ElementQueries.instance = new ElementQueries();\n        }\n\n        ElementQueries.instance.init();\n    };\n\n    var domLoaded = function (callback) {\n        /* Mozilla, Chrome, Opera */\n        if (document.addEventListener) {\n            document.addEventListener('DOMContentLoaded', callback, false);\n        }\n        /* Safari, iCab, Konqueror */\n        else if (/KHTML|WebKit|iCab/i.test(navigator.userAgent)) {\n            var DOMLoadTimer = setInterval(function () {\n                if (/loaded|complete/i.test(document.readyState)) {\n                    callback();\n                    clearInterval(DOMLoadTimer);\n                }\n            }, 10);\n        }\n        /* Other web browsers */\n        else window.onload = callback;\n    };\n\n    ElementQueries.findElementQueriesElements = function (container) {\n        ElementQueries.instance.findElementQueriesElements(container);\n    };\n\n    ElementQueries.listen = function () {\n        domLoaded(ElementQueries.init);\n    };\n\n    return ElementQueries;\n\n}));\n","'use strict';\n\n/**\n * Copyright Marc J. Schmidt. See the LICENSE file at the top-level\n * directory of this distribution and at\n * https://github.com/marcj/css-element-queries/blob/master/LICENSE.\n */\n(function (root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(factory);\n    } else if (typeof exports === \"object\") {\n        module.exports = factory();\n    } else {\n        root.ResizeSensor = factory();\n    }\n}(typeof window !== 'undefined' ? window : this, function () {\n\n    // Make sure it does not throw in a SSR (Server Side Rendering) situation\n    if (typeof window === \"undefined\") {\n        return null;\n    }\n    // https://github.com/Semantic-Org/Semantic-UI/issues/3855\n    // https://github.com/marcj/css-element-queries/issues/257\n    var globalWindow = typeof window != 'undefined' && window.Math == Math\n        ? window\n        : typeof self != 'undefined' && self.Math == Math\n            ? self\n            : Function('return this')();\n    // Only used for the dirty checking, so the event callback count is limited to max 1 call per fps per sensor.\n    // In combination with the event based resize sensor this saves cpu time, because the sensor is too fast and\n    // would generate too many unnecessary events.\n    var requestAnimationFrame = globalWindow.requestAnimationFrame ||\n        globalWindow.mozRequestAnimationFrame ||\n        globalWindow.webkitRequestAnimationFrame ||\n        function (fn) {\n            return globalWindow.setTimeout(fn, 20);\n        };\n\n    var cancelAnimationFrame = globalWindow.cancelAnimationFrame ||\n        globalWindow.mozCancelAnimationFrame ||\n        globalWindow.webkitCancelAnimationFrame ||\n        function (timer) {\n            globalWindow.clearTimeout(timer);\n        };\n\n    /**\n     * Iterate over each of the provided element(s).\n     *\n     * @param {HTMLElement|HTMLElement[]} elements\n     * @param {Function}                  callback\n     */\n    function forEachElement(elements, callback){\n        var elementsType = Object.prototype.toString.call(elements);\n        var isCollectionTyped = ('[object Array]' === elementsType\n            || ('[object NodeList]' === elementsType)\n            || ('[object HTMLCollection]' === elementsType)\n            || ('[object Object]' === elementsType)\n            || ('undefined' !== typeof jQuery && elements instanceof jQuery) //jquery\n            || ('undefined' !== typeof Elements && elements instanceof Elements) //mootools\n        );\n        var i = 0, j = elements.length;\n        if (isCollectionTyped) {\n            for (; i < j; i++) {\n                callback(elements[i]);\n            }\n        } else {\n            callback(elements);\n        }\n    }\n\n    /**\n    * Get element size\n    * @param {HTMLElement} element\n    * @returns {Object} {width, height}\n    */\n    function getElementSize(element) {\n        if (!element.getBoundingClientRect) {\n            return {\n                width: element.offsetWidth,\n                height: element.offsetHeight\n            }\n        }\n\n        var rect = element.getBoundingClientRect();\n        return {\n            width: Math.round(rect.width),\n            height: Math.round(rect.height)\n        }\n    }\n\n    /**\n     * Apply CSS styles to element.\n     *\n     * @param {HTMLElement} element\n     * @param {Object} style\n     */\n    function setStyle(element, style) {\n        Object.keys(style).forEach(function(key) {\n            element.style[key] = style[key];\n        });\n    }\n\n    /**\n     * Class for dimension change detection.\n     *\n     * @param {Element|Element[]|Elements|jQuery} element\n     * @param {Function} callback\n     *\n     * @constructor\n     */\n    var ResizeSensor = function(element, callback) {\n        //Is used when checking in reset() only for invisible elements\n        var lastAnimationFrameForInvisibleCheck = 0;\n\n        /**\n         *\n         * @constructor\n         */\n        function EventQueue() {\n            var q = [];\n            this.add = function(ev) {\n                q.push(ev);\n            };\n\n            var i, j;\n            this.call = function(sizeInfo) {\n                for (i = 0, j = q.length; i < j; i++) {\n                    q[i].call(this, sizeInfo);\n                }\n            };\n\n            this.remove = function(ev) {\n                var newQueue = [];\n                for(i = 0, j = q.length; i < j; i++) {\n                    if(q[i] !== ev) newQueue.push(q[i]);\n                }\n                q = newQueue;\n            };\n\n            this.length = function() {\n                return q.length;\n            }\n        }\n\n        /**\n         *\n         * @param {HTMLElement} element\n         * @param {Function}    resized\n         */\n        function attachResizeEvent(element, resized) {\n            if (!element) return;\n            if (element.resizedAttached) {\n                element.resizedAttached.add(resized);\n                return;\n            }\n\n            element.resizedAttached = new EventQueue();\n            element.resizedAttached.add(resized);\n\n            element.resizeSensor = document.createElement('div');\n            element.resizeSensor.dir = 'ltr';\n            element.resizeSensor.className = 'resize-sensor';\n\n            var style = {\n                pointerEvents: 'none',\n                position: 'absolute',\n                left: '0px',\n                top: '0px',\n                right: '0px',\n                bottom: '0px',\n                overflow: 'hidden',\n                zIndex: '-1',\n                visibility: 'hidden',\n                maxWidth: '100%'\n            };\n            var styleChild = {\n                position: 'absolute',\n                left: '0px',\n                top: '0px',\n                transition: '0s',\n            };\n\n            setStyle(element.resizeSensor, style);\n\n            var expand = document.createElement('div');\n            expand.className = 'resize-sensor-expand';\n            setStyle(expand, style);\n\n            var expandChild = document.createElement('div');\n            setStyle(expandChild, styleChild);\n            expand.appendChild(expandChild);\n\n            var shrink = document.createElement('div');\n            shrink.className = 'resize-sensor-shrink';\n            setStyle(shrink, style);\n\n            var shrinkChild = document.createElement('div');\n            setStyle(shrinkChild, styleChild);\n            setStyle(shrinkChild, { width: '200%', height: '200%' });\n            shrink.appendChild(shrinkChild);\n\n            element.resizeSensor.appendChild(expand);\n            element.resizeSensor.appendChild(shrink);\n            element.appendChild(element.resizeSensor);\n\n            var computedStyle = window.getComputedStyle(element);\n            var position = computedStyle ? computedStyle.getPropertyValue('position') : null;\n            if ('absolute' !== position && 'relative' !== position && 'fixed' !== position && 'sticky' !== position) {\n                element.style.position = 'relative';\n            }\n\n            var dirty = false;\n\n            //last request animation frame id used in onscroll event\n            var rafId = 0;\n            var size = getElementSize(element);\n            var lastWidth = 0;\n            var lastHeight = 0;\n            var initialHiddenCheck = true;\n            lastAnimationFrameForInvisibleCheck = 0;\n\n            var resetExpandShrink = function () {\n                var width = element.offsetWidth;\n                var height = element.offsetHeight;\n\n                expandChild.style.width = (width + 10) + 'px';\n                expandChild.style.height = (height + 10) + 'px';\n\n                expand.scrollLeft = width + 10;\n                expand.scrollTop = height + 10;\n\n                shrink.scrollLeft = width + 10;\n                shrink.scrollTop = height + 10;\n            };\n\n            var reset = function() {\n                // Check if element is hidden\n                if (initialHiddenCheck) {\n                    var invisible = element.offsetWidth === 0 && element.offsetHeight === 0;\n                    if (invisible) {\n                        // Check in next frame\n                        if (!lastAnimationFrameForInvisibleCheck){\n                            lastAnimationFrameForInvisibleCheck = requestAnimationFrame(function(){\n                                lastAnimationFrameForInvisibleCheck = 0;\n                                reset();\n                            });\n                        }\n\n                        return;\n                    } else {\n                        // Stop checking\n                        initialHiddenCheck = false;\n                    }\n                }\n\n                resetExpandShrink();\n            };\n            element.resizeSensor.resetSensor = reset;\n\n            var onResized = function() {\n                rafId = 0;\n\n                if (!dirty) return;\n\n                lastWidth = size.width;\n                lastHeight = size.height;\n\n                if (element.resizedAttached) {\n                    element.resizedAttached.call(size);\n                }\n            };\n\n            var onScroll = function() {\n                size = getElementSize(element);\n                dirty = size.width !== lastWidth || size.height !== lastHeight;\n\n                if (dirty && !rafId) {\n                    rafId = requestAnimationFrame(onResized);\n                }\n\n                reset();\n            };\n\n            var addEvent = function(el, name, cb) {\n                if (el.attachEvent) {\n                    el.attachEvent('on' + name, cb);\n                } else {\n                    el.addEventListener(name, cb);\n                }\n            };\n\n            addEvent(expand, 'scroll', onScroll);\n            addEvent(shrink, 'scroll', onScroll);\n\n            // Fix for custom Elements and invisible elements\n            lastAnimationFrameForInvisibleCheck = requestAnimationFrame(function(){\n                lastAnimationFrameForInvisibleCheck = 0;\n                reset();\n            });\n        }\n\n        forEachElement(element, function(elem){\n            attachResizeEvent(elem, callback);\n        });\n\n        this.detach = function(ev) {\n            // clean up the unfinished animation frame to prevent a potential endless requestAnimationFrame of reset\n            if (!lastAnimationFrameForInvisibleCheck) {\n                cancelAnimationFrame(lastAnimationFrameForInvisibleCheck);\n                lastAnimationFrameForInvisibleCheck = 0;\n            }\n            ResizeSensor.detach(element, ev);\n        };\n\n        this.reset = function() {\n            element.resizeSensor.resetSensor();\n        };\n    };\n\n    ResizeSensor.reset = function(element) {\n        forEachElement(element, function(elem){\n            elem.resizeSensor.resetSensor();\n        });\n    };\n\n    ResizeSensor.detach = function(element, ev) {\n        forEachElement(element, function(elem){\n            if (!elem) return;\n            if(elem.resizedAttached && typeof ev === \"function\"){\n                elem.resizedAttached.remove(ev);\n                if(elem.resizedAttached.length()) return;\n            }\n            if (elem.resizeSensor) {\n                if (elem.contains(elem.resizeSensor)) {\n                    elem.removeChild(elem.resizeSensor);\n                }\n                delete elem.resizeSensor;\n                delete elem.resizedAttached;\n            }\n        });\n    };\n\n    if (typeof MutationObserver !== \"undefined\") {\n        var observer = new MutationObserver(function (mutations) {\n            for (var i in mutations) {\n                if (mutations.hasOwnProperty(i)) {\n                    var items = mutations[i].addedNodes;\n                    for (var j = 0; j < items.length; j++) {\n                        if (items[j].resizeSensor) {\n                            ResizeSensor.reset(items[j]);\n                        }\n                    }\n                }\n            }\n        });\n\n        document.addEventListener(\"DOMContentLoaded\", function (event) {\n            observer.observe(document.body, {\n                childList: true,\n                subtree: true,\n            });\n        });\n    }\n\n    return ResizeSensor;\n\n}));\n"],"sourceRoot":"webpack:///"}