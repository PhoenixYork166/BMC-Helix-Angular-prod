(self.webpackChunkhelix=self.webpackChunkhelix||[]).push([["libs_com-example-test210500_src_index_ts"],{"./libs/com-example-test210500/src/lib/i18n/localized-strings.json":e=>{"use strict";e.exports=JSON.parse('{"com.example.test210500.view-components.google-maps-component.missing-api-key":"The Google Maps api key is missing, the Google Map component will function in \\"development mode\\" and geolocalization will not work."}')},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/actions/confirmation/dialog-component/confirmation-action.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<div class="modal-body">\r\n  <h3 class="mt-0">{{title}}</h3>\r\n  <p>\r\n    {{message}}\r\n  </p>\r\n  <div class="form-group">\r\n    <adapt-rx-control-label [showRequiredLabel]="true"\r\n                            [label]="\'Do you agree to this? Please confirm typing your name and click on the Confirm button:\'">\r\n    </adapt-rx-control-label>\r\n\r\n    <adapt-rx-textfield [label]="\'Please type your name\'"\r\n                        [(ngModel)]="confirmationText"\r\n                        [required]="true"\r\n                        [requiredLabel]="\'com.bmc.arsys.rx.standardlib.common.required.label\' | translate"\r\n                        [maxlength]="100"\r\n    ></adapt-rx-textfield>\r\n  </div>\r\n  <div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm"\r\n            (click)="confirm()" [disabled]="!confirmationText">Confirm</button>\r\n    <button class="btn btn-secondary btn-sm"\r\n            (click)="cancel()">Cancel</button>\r\n  </div>\r\n</div>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<div class="form-group">\r\n  <adapt-rx-control-label [showRequiredLabel]="options.required"\r\n                          [label]="options.label"\r\n                          [tooltip]="tooltip">\r\n  </adapt-rx-control-label>\r\n\r\n  \x3c!--  We display a preview of the gradient. --\x3e\r\n  <div #gradientDivElement class="gradient"></div>\r\n\r\n  \x3c!--  Color pickers used for the left and right side of the gradient.--\x3e\r\n  <adapt-color-picker [disabled]="isDisabled"\r\n                      [(ngModel)]="gradientLeftValue">\r\n  </adapt-color-picker>\r\n  <adapt-color-picker [disabled]="isDisabled"\r\n                      [(ngModel)]="gradientRightValue">\r\n  </adapt-color-picker>\r\n</div>\r\n\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/inspectors/log-parameters/log-parameters.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<div class="form-group">\r\n  <adapt-rx-control-label [showRequiredLabel]="options.required"\r\n                          [label]="options.label"\r\n                          [tooltip]="tooltip">\r\n  </adapt-rx-control-label>\r\n\r\n  <button adapt-button btn-type="primary"\r\n          size="default"\r\n          (click)="seeDetails()">\r\n    <span>See details</span>\r\n  </button>\r\n\r\n  \x3c!--  We display the data in an an Adapt Code Viewer component --\x3e\r\n  <adapt-code-viewer [hasToolbar]="false"\r\n                     [code]="inputParametersString"\r\n                     [lang]="\'json\'">\r\n  </adapt-code-viewer>\r\n</div>\r\n\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/inspectors/slider/slider.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<div class="form-group">\r\n  <adapt-rx-control-label [showRequiredLabel]="options.required"\r\n                          [label]="options.label"\r\n                          [tooltip]="tooltip">\r\n  </adapt-rx-control-label>\r\n\r\n  <adapt-slider [(ngModel)]="value"\r\n                [min]="options?.minValue"\r\n                [max]="options?.maxValue"\r\n                [rangeHorizontal]="true">\r\n  </adapt-slider>\r\n</div>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/inspectors/step-editor/dialog-component/step-editor-dialog.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<div class="modal-body">\r\n  <h3 class="mt-0">{{title}}</h3>\r\n  <div class="form-group">\r\n    <button adapt-button btn-type="tertiary" type="button" (click)="addStep()">\r\n      <span class="d-icon-plus_circle mr-1"></span>\r\n      Add new step</button>\r\n  </div>\r\n\r\n  \x3c!-- Adapt Empty state when there are no steps to display--\x3e\r\n  <adapt-empty-state [hidden]="stepList.length > 0 || isLoading"\r\n                     label="No steps created yet."\r\n                     type="config"\r\n  ></adapt-empty-state>\r\n\r\n  \x3c!-- Displaying the steps in an Adapt Accordion where we support drag&drop.--\x3e\r\n  <div class="accordion-wrapper flex-grow-1"\r\n       *ngIf="!(stepList.length === 0 || isLoading)">\r\n    <adapt-accordion [multiselect]="true"\r\n                     cdkDropList\r\n                     id="selected-step-list"\r\n                     class="flex-grow-1"\r\n                     (cdkDropListDropped)="onSelectedStepListDrop($event)">\r\n      \x3c!-- Looping through the steps--\x3e\r\n      <div class="selected-step-item"\r\n           *ngFor="let wizardStep of stepList; let index = index; let first = first; let last = last"\r\n           cdkDrag\r\n           cdkDragLockAxis="y"\r\n           [cdkDragData]="wizardStep">\r\n        \x3c!-- Drag and drop handle--\x3e\r\n        <div class="d-icon-left-dots step-drag-handle" cdkDragHandle></div>\r\n        \x3c!-- Step icon--\x3e\r\n        <div class="d-icon-{{wizardStep.shortIcon}} container-icon"></div>\r\n\r\n        \x3c!-- Each step is display in an accordion tab with an icon on the left of the label (if any).--\x3e\r\n        <adapt-accordion-tab class="step-list-accordion-tab"\r\n                             [title]="wizardStep.label"\r\n                             [multiline]="true"\r\n                             [isOpen]="wizardStep.isOpen"\r\n                             (open)="wizardStep.isOpen = true"\r\n                             (close)="wizardStep.isOpen = false">\r\n        \x3c!-- Buttons to move up, down and remove a step.--\x3e\r\n        <span class="card-title-text">\r\n          <button class="d-icon-angle_up px-3 py-1"\r\n                  adapt-button btn-type="tertiary"\r\n                  size="small" type="button"\r\n                  [disabled]="first"\r\n                  (click)="$event.stopPropagation(); moveStep(index, index - 1)"></button>\r\n          <button class="d-icon-angle_down px-3 py-1"\r\n                  adapt-button btn-type="tertiary"\r\n                  size="small" type="button"\r\n                  [disabled]="last"\r\n                  (click)="$event.stopPropagation(); moveStep(index, index + 1)"></button>\r\n          <button class="d-icon-left-cross_adapt p-1 pr-4"\r\n                  adapt-button\r\n                  size="small"\r\n                  type="button"\r\n                  (click)="$event.stopPropagation(); removeStep(wizardStep)">Remove</button>\r\n        </span>\r\n\r\n          \x3c!-- Value (icon, label, sub label)--\x3e\r\n          <div class="icon-container">\r\n            <adapt-rx-select [hidden]="iconList.length === 0"\r\n                             [ngModel]="[wizardStep.shortIcon]"\r\n                             [options]="iconList"\r\n                             [label]="\'Icon\'"\r\n                             [optionContentTemplate]="iconTemplate"\r\n                             [enableFilter]="true"\r\n                             (ngModelChange)="onValueChanged()"\r\n                             (onSelectionChange)="onIconSelected($event, index)">\r\n            </adapt-rx-select>\r\n            \x3c!-- Displaying the selected icon on the right of the dropdown list.--\x3e\r\n            <div [ngClass]="wizardStep.shortIcon ? \'d-icon-\' + wizardStep.shortIcon : \'\'" class="icon-preview"></div>\r\n          </div>\r\n\r\n          <adapt-rx-textfield [label]="\'Label\'"\r\n                              [(ngModel)]="wizardStep.label"\r\n                              [maxlength]="100"\r\n                              (ngModelChange)="onValueChanged()"\r\n          ></adapt-rx-textfield>\r\n          <adapt-rx-textfield [label]="\'Sub label\'"\r\n                              [(ngModel)]="wizardStep.shortLabel"\r\n                              [maxlength]="100"\r\n                              (ngModelChange)="onValueChanged()"\r\n          ></adapt-rx-textfield>\r\n        </adapt-accordion-tab>\r\n      </div>\r\n    </adapt-accordion>\r\n  </div>\r\n\r\n  <div class="modal-footer">\r\n    <button class="btn btn-primary btn-sm"\r\n            [disabled]="isSaveButtonDisabled$ | async"\r\n            (click)="saveValues()">Save</button>\r\n    <button class="btn btn-secondary btn-sm"\r\n            (click)="cancel()">Cancel</button>\r\n  </div>\r\n</div>\r\n\r\n\x3c!-- Template to display the icon--\x3e\r\n<ng-template #iconTemplate let-option>\r\n  <span class="big-font d-icon-{{option}}"></span> {{option}}\r\n</ng-template>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/inspectors/step-editor/step-editor.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<div class="form-group">\r\n  \x3c!--  Handling steps--\x3e\r\n  <adapt-button btn-type="tertiary" class="px-0 py-0" (click)="openStepEditor()">\r\n    <adapt-icon name="plus_circle" class="mr-1"></adapt-icon>\r\n    Edit steps\r\n  </adapt-button>\r\n\r\n  \x3c!--  Information on the list of steps. --\x3e\r\n  <adapt-empty-state [hidden]="stepList.length > 0" label="No steps created yet." type="config"></adapt-empty-state>\r\n\r\n  \x3c!--  Step list--\x3e\r\n  <ul class="list-unstyled mb-0 mt-2" [hidden]="stepList.length === 0">\r\n    <li class="border px-2 py-1 mb-1 d-flex align-items-center" *ngFor="let step of stepList">\r\n      <strong class="mr-auto">{{step.label}}</strong>\r\n      <button class="d-icon-left-pencil p-1"\r\n              adapt-button\r\n              btn-type="tertiary"\r\n              size="small"\r\n              type="button"\r\n              (click)="editStep(step)"\r\n      ></button>\r\n      <button class="d-icon-left-cross_adapt p-1"\r\n              adapt-button\r\n              btn-type="tertiary"\r\n              size="small"\r\n              type="button"\r\n              (click)="removeStep(step)"\r\n      ></button>\r\n    </li>\r\n  </ul>\r\n</div>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/access-grid/design/access-grid-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-left-snap_to_grid"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/access-grid/runtime/access-grid.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i="\x3c!--There is no content for this view component at runtime.--\x3e\r\n"},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/admin-preferences/design/admin-preferences-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-adjust_settings"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/admin-preferences/runtime/admin-preferences.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<button adapt-button btn-type="secondary"\r\n        size="default"\r\n        [disabled]="isFetchInProgress"\r\n        (click)="getCurrentData()">\r\n  <span>Refresh</span>\r\n</button>\r\n\r\n<button adapt-button btn-type="primary"\r\n        size="default"\r\n        [disabled]="isFetchInProgress || hasData"\r\n        (click)="createNewData()">\r\n  <span>Create data</span>\r\n</button>\r\n\r\n<button adapt-button btn-type="primary"\r\n        size="default"\r\n        [disabled]="isFetchInProgress || !hasData"\r\n        (click)="updateData()">\r\n  <span>Update existing data</span>\r\n</button>\r\n\r\n<button adapt-button btn-type="secondary"\r\n        size="default"\r\n        [disabled]="isFetchInProgress || !hasData"\r\n        (click)="deleteData()">\r\n  <span>Delete existing data</span>\r\n</button>\r\n\r\n\x3c!--We display the Component Setting data in an Adapt code viewer.--\x3e\r\n<adapt-rx-control-label [label]="\'Displaying bookworm Shared Settings Configuration data from the bundle com.example.test210500\'"\r\n                        [tooltip]="tooltip">\r\n</adapt-rx-control-label>\r\n<adapt-code-viewer [lang]="\'json\'"\r\n                   [code]="adminComponentDataString"\r\n                   [hasToolbar]="false">\r\n</adapt-code-viewer>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/bar-chart-component/design/bar-chart-component-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-chart_bar"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/bar-chart-component/runtime/bar-chart-component.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<button adapt-button btn-type="primary"\r\n        size="default"\r\n        (click)="generateRandomData()">\r\n  <span>Regenerate Data</span>\r\n</button>\r\n\r\n<br>\r\n<adapt-stacked-chart [ngBusy]="busyConfigSection"\r\n                     [type]="stackedColChart"\r\n                     [height]="chartConfig.height"\r\n                     [header]="chartConfig.header"\r\n                     [xAxis]="chartConfig.xAxis"\r\n                     [yAxis]="chartConfig.yAxis"\r\n                     (clickChart)="onColumnClick($event)"\r\n                     [legend]="legend"\r\n                     [series]="chartConfig.series"\r\n                     [showSlider]="true"\r\n                     [seriesDisplay]="\'horizontal\'"\r\n>\r\n</adapt-stacked-chart>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/call-command/design/call-command-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-left-phone_circle"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/call-command/runtime/call-command.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i="{{commandResult}}\r\n"},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/call-process/design/call-process-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-left-atom_gear"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/call-process/runtime/call-process.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i="\x3c!--There is no runtime html in this view component.--\x3e\r\n"},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/captcha/design/captcha-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-broken_image"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/captcha/runtime/captcha.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<ng-hcaptcha (verify)="onVerify($event)"\r\n             (expired)="onExpired($event)"\r\n             (error)="onError($event)"\r\n             [siteKey]="siteKey">\r\n</ng-hcaptcha>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/code-viewer/design/code-viewer-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-file_code_o"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/code-viewer/runtime/code-viewer.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<adapt-code-viewer [hasToolbar]="false"\r\n                   [code]="componentData.code"\r\n                   [lang]="componentData.language">\r\n</adapt-code-viewer>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/design/custom-datapagequery-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-left-table_adapt"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/runtime/custom-datapagequery.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='\x3c!--Main grid--\x3e\r\n<rx-record-grid #fruitsRecordGrid [config]="fruitsRecordGridConfig$">\r\n</rx-record-grid>\r\n\r\n\x3c!--Cell template--\x3e\r\n<ng-template #priceTemplate let-dataItem="dataItem" let-column="column">\r\n  <button adapt-button btn-type="secondary"\r\n          size="default"\r\n          (click)="orderFruitFromPriceField(dataItem)">\r\n    <span>Order for {{dataItem[column.field]}}</span>\r\n  </button>\r\n</ng-template>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/custom-grid/design/custom-grid-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<div class="custom-icon"></div>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/custom-grid/runtime/custom-grid.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='\x3c!--Main grid--\x3e\r\n<rx-record-grid #fruitsRecordGrid [config]="fruitsRecordGridConfig$">\r\n</rx-record-grid>\r\n\r\n\x3c!--Cell templates--\x3e\r\n<ng-template #guidTemplate let-dataItem="dataItem" let-column="column">\r\n  <span class="reg-guid">{{dataItem[column.field]}}</span>\r\n</ng-template>\r\n\r\n<ng-template #displayIdTemplate let-dataItem="dataItem" let-column="column">\r\n  <span class="green-display-id">{{dataItem[column.field]}}</span>\r\n</ng-template>\r\n\r\n\x3c!--Cell template for the custom template piggibacking another guid column--\x3e\r\n<ng-template #customColumnBasedOnExistingField let-dataItem="dataItem" let-column="column">\r\n  <button adapt-button btn-type="secondary"\r\n          size="default"\r\n          (click)="orderFruitFromCustomField(dataItem)">\r\n    <span>{{customDataItem(dataItem)}}</span>\r\n  </button>\r\n</ng-template>\r\n\r\n\x3c!--Cell template for the custom non existing column--\x3e\r\n<ng-template #nonExistingColumnTemplate let-dataItem="dataItem" let-column="column">\r\n  <span class="green-display-id">{{getAnimalFromFruit(dataItem, column)}}</span>\r\n</ng-template>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/delay-registration/design/delay-registration-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-clock_o"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/delay-registration/runtime/delay-registration.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i="<p>\r\n  {{message}}\r\n</p>\r\n\r\n\r\n"},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/digital-signature/design/digital-signature-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-left-note_pencil"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/digital-signature/runtime/digital-signature.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<div>\r\n  <signature-pad #signaturePad\r\n                 [options]="signaturePadOptions"\r\n                 (onBeginEvent)="drawStart()"\r\n                 (onEndEvent)="drawComplete()">\r\n  </signature-pad>\r\n</div>\r\n\r\n<div>\r\n  \x3c!-- <button adapt-button btn-type="primary"\r\n          size="default"\r\n          (click)="addSignature()">\r\n    <span>Add signature</span>\r\n  </button> --\x3e\r\n  <button adapt-button btn-type="secondary"\r\n          size="default"\r\n          (click)="clearSignature()">\r\n    <span>Clear signature</span>\r\n  </button>\r\n</div>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/display-gradient/design/display-gradient-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<div #gradientDivElement class="gradient"></div>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/display-gradient/runtime/display-gradient.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<div #gradientDivElement class="gradient"></div>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/floating-panel/design/floating-panel-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-left-tablet"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/floating-panel/runtime/floating-panel.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i="\x3c!--The panel will be added during runtime by the component.ts code.--\x3e\r\n"},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/generate-password/design/generate-password-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-left-server_key"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/generate-password/runtime/generate-password.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i="\x3c!--There is no runtime html in this view component.--\x3e\r\n"},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/get-data-example/design/get-data-example-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-binary_data"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/get-data-example/runtime/get-data-example.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='\x3c!--LMA:: This is also an example how to use the adapt-code-viewer Adapt component to display--\x3e\r\n\x3c!--data formatted in Json.--\x3e\r\n\r\n<div class="container flex-padding">\r\n  <div>\r\n    \x3c!--Create a new Record Instance--\x3e\r\n    <button adapt-button btn-type="primary"\r\n            [disabled]="isDisabled"\r\n            size="default"\r\n            (click)="createNewRecordInstance()">\r\n      <span>Create a New Record Instance and Refresh the grid</span>\r\n    </button>\r\n\r\n    \x3c!--Updating a specific record instance (hardcoded)--\x3e\r\n    <p></p>\r\n    <button adapt-button btn-type="primary"\r\n            [disabled]="isDisabled"\r\n            size="default"\r\n            (click)="updateRecordInstance()">\r\n      <span>Update a Record Instance and Refresh the grid</span>\r\n    </button>\r\n\r\n    \x3c!--Updating a specific record instance (grid selected row)--\x3e\r\n    <p></p>\r\n    <button adapt-button btn-type="primary"\r\n            [disabled]="isDisabled"\r\n            size="default"\r\n            (click)="updateRecordInstance(false)">\r\n      <span>Update the grid selected row and refresh the grid</span>\r\n    </button>\r\n\r\n    \x3c!--Setting a grid filter--\x3e\r\n    <p></p>\r\n    <button adapt-button btn-type="primary"\r\n            [disabled]="isDisabled"\r\n            size="default"\r\n            (click)="setGridFilter()">\r\n      <span>Setting the grid filter (Status = New)</span>\r\n    </button>\r\n\r\n    \x3c!--Download an attached file--\x3e\r\n    <p></p>\r\n    <button adapt-button btn-type="primary"\r\n            [disabled]="isDisabled"\r\n            size="default"\r\n            (click)="downloadAttachment()">\r\n      <span>Download the record Instance attached file</span>\r\n    </button>\r\n\r\n    \x3c!--Get the attachment (to display it for example)--\x3e\r\n    <p></p>\r\n    <button adapt-button btn-type="primary"\r\n            [disabled]="isDisabled"\r\n            size="default"\r\n            (click)="getAttachment()">\r\n      <span>Get the record Instance attached file</span>\r\n      <br>\r\n      We will try to display it as a picture.\r\n    </button>\r\n    <img *ngIf="pictureContent"\r\n         [src]="pictureContent"\r\n         [alt]="fileName"\r\n         class="attachment-picture">\r\n  </div>\r\n\r\n  \x3c!--Getting a specific record instance (hardcoded)--\x3e\r\n  <div class="get-one-record-container flex-padding">\r\n    <button adapt-button btn-type="primary"\r\n            [disabled]="isDisabled"\r\n            size="default"\r\n            class="full-width-button"\r\n            (click)="getRecordInstanceById()">\r\n      <span>Get Record Instance {{recordInstanceId}}</span>\r\n    </button>\r\n    <adapt-code-viewer\r\n      *ngIf="resultGetRecordInstance"\r\n      [code]="resultGetRecordInstance | json"\r\n      [lang]="\'javascript\'"\r\n      [hasToolbar]="false"\r\n      [theme]="\'light\'"\r\n      class="full-size"\r\n    ></adapt-code-viewer>\r\n  </div>\r\n\r\n  \x3c!--Getting all record instances with Status as New--\x3e\r\n  <div class="get-records-container flex-padding">\r\n    <button adapt-button btn-type="primary"\r\n            [disabled]="isDisabled"\r\n            size="default"\r\n            class="full-width-button"\r\n            (click)="getRecordInstances()">\r\n      <span>Listing all record instances where the Status is New</span>\r\n    </button>\r\n    <adapt-code-viewer\r\n      *ngIf="recordInstances.length"\r\n      [code]="recordInstances | json"\r\n      [lang]="\'javascript\'"\r\n      [hasToolbar]="false"\r\n      [theme]="\'light\'"\r\n      class="full-size"\r\n    ></adapt-code-viewer>\r\n  </div>\r\n\r\n  \x3c!--Getting the countries associated to the selected restaurant--\x3e\r\n  <div class="get-associated-records-container flex-padding">\r\n    <button adapt-button btn-type="primary"\r\n            [disabled]="isDisabled"\r\n            size="default"\r\n            class="full-width-button"\r\n            (click)="getAssociatedRecordInstances()">\r\n      <span>Listing all countries associated to the selected restaurant</span>\r\n    </button>\r\n    <adapt-code-viewer\r\n      *ngIf="associatedRecordInstances.length"\r\n      [code]="associatedRecordInstances | json"\r\n      [lang]="\'javascript\'"\r\n      [hasToolbar]="false"\r\n      [theme]="\'light\'"\r\n      class="full-size"\r\n    ></adapt-code-viewer>\r\n  </div>\r\n</div>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/google-maps-component/design/google-maps-component-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-mapmarker"></span>\r\n\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/google-maps-component/runtime/google-maps-component.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='\x3c!--We are using Adapt Alert to show that the Google Maps Api key is missing.--\x3e\r\n<adapt-alert\r\n  [hidden]="componentData.apiKey"\r\n  [config]="alertConfiguration">\r\n</adapt-alert>\r\n\r\n<google-map\r\n  [ngBusy]="busyConfigSection"\r\n  *ngIf="areResourcesLoaded"\r\n  height="500px"\r\n  width="100%"\r\n  [zoom]="zoom"\r\n  [center]="center"\r\n  [options]="options" >\r\n\r\n  <map-marker #markerElem\r\n              *ngFor="let marker of markers"\r\n              [position]="marker.position"\r\n              [label]="marker.label"\r\n              [title]="marker.title"\r\n              [options]="marker.options">\r\n  </map-marker>\r\n\r\n</google-map>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/iframe/design/iframe-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-left-windows"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/iframe/runtime/iframe.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<iframe [src]="iFrameUrl"\r\n        [sandbox]="sandboxOptions"\r\n        [style]="componentData.cssStyles"\r\n        [classList]="componentData.cssClasses">\r\n</iframe>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/image-click/design/image-click-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-image_square"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/image-click/runtime/image-click.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<p>{{title}}</p>\r\n<img [src]="assetRootPath + \'pictures/lain.jpg\'" alt="" width="200px" (click)="clickImage()">\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/label/design/label-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i="com-example-test210500-com-example-test210500-label\r\n"},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/label/runtime/label.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i="Label:<br>\r\n{{componentData.label}}\r\n<br><br>\r\nDisplaying values using the Numeral NPM library:<br>\r\n<label>{{ '12345678' | decimalUnit:2 }}</label>\r\n<br>\r\n<label>{{ '12345678' | decimalUnit:0 }}</label>\r\n"},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/lifecycle/design/lifecycle-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<adapt-workflow-carousel>\r\n  <adapt-workflow-carousel-slide *ngFor="let step of defaultSteps; let index = index">\r\n    <adapt-workflow-step [title]="step.label"\r\n                         [title-icon]="step.icon"\r\n                         [type]="step.variant"\r\n                         [size]="size"\r\n                         [active]="index === 0"\r\n    ></adapt-workflow-step>\r\n  </adapt-workflow-carousel-slide>\r\n  <adapt-workflow-bar [progress]="progress"\r\n                      [activeIndex]="0"\r\n                      [size]="size"\r\n  ></adapt-workflow-bar>\r\n</adapt-workflow-carousel>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/lifecycle/runtime/lifecycle.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<adapt-workflow-carousel *ngIf="!isConfigurationInProgress">\r\n  <adapt-workflow-carousel-slide *ngFor="let workflowStep of workflowSteps; let index = index">\r\n    <adapt-workflow-step [title]="workflowStep.label"\r\n                         [title-icon]="workflowStep.icon"\r\n                         [type]="workflowStep.variant"\r\n                         [size]="size"\r\n                         [active]="index === 0"\r\n    ></adapt-workflow-step>\r\n  </adapt-workflow-carousel-slide>\r\n  <adapt-workflow-bar [progress]="workflowProgress"\r\n                      [activeIndex]="activeIndex"\r\n                      [size]="size"\r\n  ></adapt-workflow-bar>\r\n</adapt-workflow-carousel>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/list-icons/design/list-icons-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-lines_search"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/list-icons/runtime/list-icons.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='\x3c!--LMA:: TODO:: Change this in the schematics, it seems the componentData is private--\x3e\r\n\x3c!--and in the view component HTML we use it.--\x3e\r\n\x3c!--{{componentData.listIcons}}--\x3e\r\n\r\n<adapt-rx-search\r\n  [(ngModel)]="searchingValue"\r\n  [placeholder]="\'Type the icon name you are searching (3 letters minimum).\'"\r\n  [debounceTime]="300"\r\n></adapt-rx-search>\r\n\r\n\x3c!--We are using Adapt Alert to show that the search is in progress.--\x3e\r\n<adapt-alert\r\n  [hidden]="numberOfFilteredIcons"\r\n  [config]="alertConfiguration">\r\n</adapt-alert>\r\n\r\n\x3c!--Icon list--\x3e\r\n<table class="table table-condensed" [hidden]="!numberOfFilteredIcons">\r\n  <thead>\r\n  <tr>\r\n    <td><strong>Icon Name</strong></td>\r\n    <td><strong>Icon Codes</strong></td>\r\n    <td><strong>Icon Symbol</strong></td>\r\n  </tr>\r\n  </thead>\r\n  <tbody>\r\n  <tr *ngFor="let icon of availableIcons | iconFilter : searchingValue">\r\n    <td>{{icon.ruleName}}</td>\r\n    <td>{{icon.className}}</td>\r\n    <td class="{{icon.iconCode}}">\r\n      <span [class]="\'d-icon-\' + icon.ruleName" class="big-font"></span>\r\n    </td>\r\n  </tr>\r\n  </tbody>\r\n</table>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/lmame/design/lmame-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i="com-example-test210500-com-example-test210500-lmame\r\n"},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/lmame/runtime/lmame.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='\x3c!--This picture is in the lib assets folder.--\x3e\r\n\x3c!--bundle/src/main/webapp/libs/com-example-test210500/src/lib/assets/pictures/lain.jpg--\x3e\r\n\x3c!--At maven build it is put in a specific folder so can be available at runtime.--\x3e\r\n\x3c!--The glob in the angular.json file will make sure it is copied in a specific folder of the /dist/.--\x3e\r\n\x3c!--It is VERY important that you have the bundle maven project.artifactid in the path where the files will be copied:--\x3e\r\n\x3c!--/libs/<project.artifactid>/--\x3e\r\n\x3c!--  <artifactId>test210500</artifactId>--\x3e\r\n\x3c!--  So for example:--\x3e\r\n\x3c!--  {--\x3e\r\n\x3c!--  "glob": "**/*",--\x3e\r\n\x3c!--  "input": "libs/com-example-test210500/src/lib/assets/pictures/",--\x3e\r\n\x3c!--  "output": "assets/libs/test210500/resources/pictures/"--\x3e\r\n\x3c!--  },--\x3e\r\n\x3c!--  The reason is at the copy resource step in maven this specific path will be copied to be embedded in the bundle jar file:--\x3e\r\n\x3c!--  <configuration>--\x3e\r\n\x3c!--    <outputDirectory>${basedir}/target/web-build/webapp/scripts/assets</outputDirectory>--\x3e\r\n\x3c!--    <resources>--\x3e\r\n\x3c!--      <resource>--\x3e\r\n\x3c!--        <directory>${basedir}/src/main/webapp/dist/apps/shell/assets/libs/${project.artifactId}</directory>--\x3e\r\n\x3c!--      </resource>--\x3e\r\n\x3c!--    </resources>--\x3e\r\n\x3c!--  </configuration>--\x3e\r\n\x3c!--  At runtime the picture in this example will be available at different urls depending if the code is running--\x3e\r\n\x3c!--  in development or production mode, hence the use of the getAssetPathService*service to get the Assets\'s path.--\x3e\r\n\r\nDisplaying a picture stored in the library /assets folder:<br>\r\n<img [src]="assetRootPath + \'pictures/lain.jpg\'" alt="" width="200px">\r\n<br>\r\n<br>\r\n\r\nLabel set at design time with a simple css style defined at the component level:<br>\r\n<div class="green-border">\r\n  {{lmame}}\r\n</div>\r\n<br>\r\n<br>\r\n\r\nMessage returned by pure javascript call stored in the library /assets folder with a simple css style defined at the component level:<br>\r\n<div class="green-border">\r\n  {{hello}}\r\n</div>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/open-blade/design/open-blade-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-left-windows_registry"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/open-blade/runtime/open-blade.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<button adapt-button btn-type="primary"\r\n        size="default"\r\n        (click)="openBlade()">\r\n  <span>Open view "{{inputParams.viewName}}" in a blade</span>\r\n</button>\r\n<br>\r\n{{viewResult}}\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/qr-code-generator/design/qr-code-generator-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-left-qrcode"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/qr-code-generator/runtime/qr-code-generator.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<ngx-kjua\r\n  *ngIf="componentData.content"\r\n  [text]="componentData?.content"\r\n  [renderAsync]="false"\r\n  [render]="\'svg\'"\r\n  [crisp]="true"\r\n  [minVersion]="1"\r\n  [ecLevel]="\'H\'"\r\n  [size]="400"\r\n  [ratio]="undefined"\r\n  [fill]="componentData.color"\r\n  [back]="componentData.backgroundColor"\r\n  [rounded]="0"\r\n  [quiet]="1"\r\n  [mode]="displayMode"\r\n  [mSize]="msizes"\r\n  [mPosX]="50"\r\n  [mPosY]="50"\r\n  [label]="labelConfiguration?.label"\r\n  [fontname]="labelConfiguration?.fontName"\r\n  [fontcolor]="labelConfiguration?.fontColor"\r\n  [image]="currentPicture"\r\n  [imageAsCode]="pictureConfiguration?.imageAsCode"\r\n  [cssClass]="componentData?.cssClasses"\r\n></ngx-kjua>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/design/qr-code-scanner-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-left-qrcode"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/runtime/qr-code-scanner.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='\x3c!--Displaying information (status, error etc...)--\x3e\r\n<adapt-alert\r\n  [hidden]="!alertContent"\r\n  [config]="alertConfiguration">\r\n  <div [innerHTML]="alertContent"></div>\r\n</adapt-alert>\r\n\r\n\x3c!--List of available devices--\x3e\r\n<adapt-rx-select [hidden]="deviceList.length === 0"\r\n                 [(ngModel)]="selectedCamera"\r\n                 [options]="deviceList"\r\n                 [optionFormatter]="optionFormatter"\r\n                 (onSelectionChange)="onCameraSelected($event)">\r\n</adapt-rx-select>\r\n\r\n<zxing-scanner [enable]="isScanningEnabled"\r\n               [formats]="allowedFormats"\r\n               [(device)]="zxingSelectedDevice"\r\n               (deviceChange)="onDeviceChange($event)"\r\n               (camerasFound)="onCamerasFound($event)"\r\n               (camerasNotFound)="onCamerasNotFound()"\r\n               (scanSuccess)="onScanSuccess($event)"\r\n               (permissionResponse)="permissionResponse($event)"\r\n               (scanError)="onScanError($event)">\r\n</zxing-scanner>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/star-rating-field/design/star-rating-field-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='\x3c!--Some default parameters values (shared between all fields) can --\x3e\r\n\x3c!--be fetched using model.<parameter>$ | async--\x3e\r\n<adapt-rx-rating\r\n  [size]="selectedSize"\r\n  [style]="labelStyle"\r\n  [classList]="starRatingFieldParameters.styles"\r\n  [required]="model.isRequired$ | async"\r\n  [readonly]="isReadonly"\r\n  [label]="model.label$ | async"\r\n  [(ngModel)]="value">\r\n</adapt-rx-rating>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/star-rating-field/runtime/star-rating-field.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='\x3c!--The idea here is to display the data in two different ways,--\x3e\r\n\x3c!--when the record editor is in Read mode and in Edit mode (create/edit).--\x3e\r\n\r\n\x3c!--Here this container will be displayed when the record editor is in "read"--\x3e\r\n\x3c!--mode. inReadState is a property from the parent (inherited).--\x3e\r\n\x3c!--If the record editor is not in read mode, the element "editStateElementRef"--\x3e\r\n\x3c!--will be displayed instead.--\x3e\r\n\x3c!--It is possible to do it differently just using *ngIf conditions using inReadState.--\x3e\r\n<ng-container>\r\n  <rx-read-only-field\r\n    *ngIf="inReadState; else editStateElementRef"\r\n    [label]="label"\r\n    [style]="labelStyle"\r\n    [value]="getDisplayValue()"\r\n  ></rx-read-only-field>\r\n</ng-container>\r\n\r\n\x3c!--Version displayed when the record editor is in Create or Edit mode and not Read.--\x3e\r\n\x3c!--Some of the values here are inherited (label, isDisabled, isRequired).--\x3e\r\n\x3c!--getDisplayValue() is also inherited and returns the field current value.--\x3e\r\n<ng-template #editStateElementRef>\r\n  <adapt-rx-rating\r\n    #starRatingFieldComponent\r\n    [label]="label"\r\n    [disabled]="isDisabled"\r\n    [hidden]="isHidden"\r\n    [required]="isRequired"\r\n    [style]="labelStyle"\r\n    [size]="selectedSize"\r\n    [ngModel]="getDisplayValue()"\r\n    (onRateChange)="onRateChange($event)"\r\n  >\r\n  </adapt-rx-rating>\r\n</ng-template>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/star-rating/design/star-rating-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<adapt-rx-rating\r\n  [size]="selectedSize"\r\n  [style]="labelStyle"\r\n  [classList]="starRatingParameters.cssStyles"\r\n  [required]="starRatingParameters.isRequired"\r\n  [readonly]="isReadonly"\r\n  [label]="starRatingParameters.label"\r\n  [(ngModel)]="starRatingParameters.defaultNumberOfStars"\r\n  (onRateChange)="onRateChange($event)">\r\n</adapt-rx-rating>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/star-rating/runtime/star-rating.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<adapt-rx-rating\r\n  [size]="selectedSize"\r\n  [style]="labelStyle"\r\n  [classList]="componentInputParametersValues.cssStyles"\r\n  [required]="componentInputParametersValues.isRequired"\r\n  [hidden]="componentInputParametersValues.hidden"\r\n  [label]="componentInputParametersValues.label"\r\n  [readonly]="componentInputParametersValues.disabled"\r\n  [(ngModel)]="componentInputParametersValues.numberOfStars"\r\n  (onRateChange)="onRateChange($event)">\r\n</adapt-rx-rating>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/test-debug-component/design/test-debug-component-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-android"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/test-debug-component/runtime/test-debug-component.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='\x3c!--Gradient--\x3e\r\n<adapt-rx-control-label [label]="\'Gradient\'">\r\n</adapt-rx-control-label>\r\n<div #gradientDivElement class="gradient"></div>\r\n\r\n\x3c!--Input parameters--\x3e\r\n<adapt-rx-control-label [label]="\'Input Parameters\'"\r\n                        [tooltip]="tooltip">\r\n</adapt-rx-control-label>\r\n<adapt-code-viewer [code]="componentDataString"\r\n                   [lang]="\'json\'"\r\n                   [hasToolbar]="false">\r\n</adapt-code-viewer>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/user-preferences/design/user-preferences-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='\x3c!--LMA:: TODO:: Add this by default (icon and styles and adapt vars declaration)--\x3e\r\n\x3c!--rather than some text.--\x3e\r\n<span class="d-icon-cloud_user"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/user-preferences/runtime/user-preferences.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='\x3c!--The following ng-templates are used as popovers / tooltips in adapt-icon below.--\x3e\r\n\x3c!--They can be used to display some help messages when you click on the icon.--\x3e\r\n<ng-template #helpMessageBackgroundColor>\r\n  Please select the background color that will be applied to the text zone on the right.\r\n</ng-template>\r\n<ng-template #helpMessageTextColor>\r\n  Please select the color that will be applied to the text zone on the right.\r\n</ng-template>\r\n\r\n<div class="container flex-padding">\r\n  \x3c!--Selecting the background color--\x3e\r\n  <div>\r\n    \x3c!--We leverage Adapt Color Picker.--\x3e\r\n    \x3c!--This requires importing the module AdaptColorPickerModule in the component module.--\x3e\r\n    \x3c!--"form-control-label" is an Adapt class.--\x3e\r\n    <p class="form-control-label">\r\n      \x3c!--Here we are using adapt-icon to create a tooltip.--\x3e\r\n      Select the Background Color <span class="icon-space"></span>\r\n      \x3c!--We leverage Adapt Icon tag to display an icon to create a tooltip.--\x3e\r\n      \x3c!--This requires importing the module AdaptIconModule in the component module.--\x3e\r\n      \x3c!--  Important:--\x3e\r\n      \x3c!--  AdaptPopoverModule is necessary for AdaptIconModule if we use popover properties in adapt icon--\x3e\r\n      \x3c!--  like [placement] or [adaptPopover] to display a "tooltip" style message.--\x3e\r\n      <adapt-icon\r\n        [name]="\'info_circle\'"\r\n        [placement]="\'top\'"\r\n        [adaptPopover]="helpMessageBackgroundColor">\r\n      </adapt-icon>\r\n    </p>\r\n    \x3c!--  We are using ngModel so we need to import the FormsModule module.--\x3e\r\n    <adapt-color-picker [label]="\'Pick the background Color\'"\r\n                        [(ngModel)]="backgroundColor"\r\n                        (onChange)="onBackgroundColorUpdate($event)">\r\n    </adapt-color-picker>\r\n\r\n    \x3c!--Selecting the text color--\x3e\r\n    <p class="form-control-label">\r\n      Select the Text Color <span class="icon-space"></span>\r\n      <adapt-icon\r\n        [name]="\'info_circle\'"\r\n        [placement]="\'top\'"\r\n        [adaptPopover]="helpMessageTextColor">\r\n      </adapt-icon>\r\n    </p>\r\n    <adapt-color-picker [label]="\'Pick the background Color\'"\r\n                        [(ngModel)]="textColor"\r\n                        (onChange)="onTextColorUpdate($event)">\r\n    </adapt-color-picker>\r\n\r\n    \x3c!--We leverage Adapt Buttons to match the BMC OOTB objects look & feel.--\x3e\r\n    \x3c!--This requires importing the module AdaptButtonModule in the component module.--\x3e\r\n    <button adapt-button btn-type="primary"\r\n            size="default"\r\n            (click)="saveColors()">\r\n      \x3c!--Adding an icon next to the text.--\x3e\r\n      <span class="d-icon-plus_adapt icon-padding"></span>\r\n      <span>Save selected color to the User Preference</span>\r\n    </button>\r\n  </div>\r\n\r\n  \x3c!--  Second column is the text sample--\x3e\r\n  <div class="text-sample-container flex-padding">\r\n    <div class="helper">\r\n      This text will be displayed in the user Preference saved color ({{textColor}}).<br>\r\n      This background color is the one stored in the user Preference saved color ({{backgroundColor}}).\r\n    </div>\r\n    <div [style]="{\'backgroundColor\': backgroundColor ? backgroundColor : defaultBackgroundColor, \'color\': textColor ? textColor : defaultTextColor}"\r\n         class="lorem-ipsum-formatting">\r\n      {{sampleText}}\r\n    </div>\r\n  </div>\r\n</div>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/webcam/design/webcam-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-webcamera"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/webcam/runtime/webcam.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='\x3c!--Displaying an initialization error message if necessary--\x3e\r\n<adapt-alert\r\n  [hidden]="isInitialized"\r\n  [config]="alertConfiguration">\r\n  <div [innerHTML]="alertContent"></div>\r\n</adapt-alert>\r\n\r\n\x3c!--Webcam field--\x3e\r\n<webcam *ngIf="isInitialized"\r\n        (imageCapture)="onCaptureImage($event)"\r\n        (initError)="onInitError($event)"\r\n        (imageClick)="onImageClick($event)"\r\n        [allowCameraSwitch]="true"\r\n        [trigger]="onCaptureRequested()"\r\n        [captureImageData]="true"\r\n        [imageQuality]="1">\r\n</webcam>\r\n<br>\r\n<br>\r\n\x3c!--Preview image--\x3e\r\n<img *ngIf="lastCapture"\r\n     [src]="lastCapture"\r\n     alt=""/>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/wizard/design/wizard-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<div>\r\n\x3c!--  LMA:: TODO:: This is a workaround due to several adapt step component defects--\x3e\r\n\x3c!--  where the steps are still collapsed or cannot be updated.--\x3e\r\n\x3c!--  We also need to set [readonly]="false" in the html.--\x3e\r\n  <adapt-steps #adaptStepObject\r\n               *ngIf="!isLoadingConfiguration"\r\n               [model]="stepList"\r\n               [readonly]="false">\r\n  </adapt-steps>\r\n</div>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/wizard/runtime/wizard.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<div>\r\n  \x3c!--  LMA:: TODO:: This is a workaround due to several adapt step component defects--\x3e\r\n  \x3c!--  where the steps are still collapsed or cannot be updated.--\x3e\r\n  \x3c!--  We also need to set [readonly]="false" in the html.--\x3e\r\n  <adapt-steps #adaptStepObject\r\n               *ngIf="!isLoadingConfiguration"\r\n               [model]="stepList"\r\n               [readonly]="false"\r\n               [(activeIndex)]="activeIndex"\r\n               (activeIndexChange)="onActiveIndexChange($event)">\r\n  </adapt-steps>\r\n</div>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/youtube-player/design/youtube-player-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-video_square"></span>\r\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/youtube-player/runtime/youtube-player.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='\x3c!--Due to YouTube security measures some videos might not load with the "Video unavailable"--\x3e\r\n\x3c!--error message if the hosting domain has an IP address and not a domain name with SSL enabled.--\x3e\r\n\x3c!--It should however work fine if the domain is "localhost".--\x3e\r\n<youtube-player\r\n  [videoId]="videoId"\r\n  suggestedQuality="highres"\r\n  width="1024"\r\n  height="768">\r\n</youtube-player>\r\n'},"./libs/com-example-test210500/src/lib/actions/confirmation/dialog-component/confirmation-action.component.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\n.form-group {\n  margin-top: 25px;\n}'},"./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.component.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=".gradient {\n  height: 20px;\n  margin-bottom: 5px;\n}\n\nadapt-color-picker:first-of-type {\n  margin-bottom: 5px;\n}"},"./libs/com-example-test210500/src/lib/inspectors/log-parameters/log-parameters.component.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nbutton {\n  margin-bottom: 5px;\n}'},"./libs/com-example-test210500/src/lib/inspectors/step-editor/dialog-component/step-editor-dialog.component.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\n:host {\n  height: 740px;\n  display: block;\n}\n\nadapt-rx-textfield ::ng-deep > div {\n  margin-bottom: 25px;\n}\n\nadapt-empty-state ::ng-deep .empty-state__container {\n  height: 585px !important;\n}\n\nadapt-rx-select {\n  margin-bottom: 25px;\n  flex: 1;\n  width: 450px;\n}\n\n.form-group {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n\n.form-group button {\n  padding-left: 0;\n}\n\n.modal-footer {\n  margin-top: 25px;\n  margin-left: -15px;\n  margin-right: -15px;\n}\n\n.big-font {\n  font-size: 20px;\n  margin-right: 25px;\n}\n\n.icon-container {\n  display: flex;\n}\n\n.icon-preview {\n  margin-left: 25px;\n  font-size: 40px;\n  align-self: center;\n  width: 40px;\n}\n\n.selected-step-item {\n  position: relative;\n}\n\n.selected-step-item.cdk-drag-preview {\n  z-index: 1060 !important;\n}\n\n.step-drag-handle {\n  cursor: move;\n  position: absolute;\n  top: 0;\n  height: 46px;\n  padding: 14px 10px 14px 14px;\n  z-index: 1;\n  left: 0;\n}\n\n.container-icon {\n  position: absolute;\n  top: 0;\n  height: 46px;\n  padding: 10px 10px 14px 14px;\n  z-index: 1;\n  font-size: 20px;\n  left: 15px;\n}\n\n.accordion-wrapper {\n  height: 585px;\n  overflow-y: auto;\n  padding-top: 2px;\n}\n\n.step-list {\n  overflow: auto;\n}\n\n.step-list-item {\n  cursor: pointer;\n  list-style: none;\n}\n\n.step-list-item.cdk-drag {\n  opacity: 1;\n}\n\n.step-list-item.cdk-drag-preview {\n  z-index: 1060 !important;\n}\n\n.step-list-accordion-tab ::ng-deep .card-title {\n  -webkit-user-drag: none;\n}\n\n.step-list-accordion-tab ::ng-deep .text-direction.column {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding-left: 40px;\n}\n\n.step-list-accordion-tab ::ng-deep .text-direction.column > span {\n  flex: none;\n}\n\n.step-list-accordion-tab ::ng-deep .text-direction.column > span:first-child {\n  flex-grow: 1;\n}'},"./libs/com-example-test210500/src/lib/view-components/access-grid/design/access-grid-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/admin-preferences/design/admin-preferences-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/admin-preferences/runtime/admin-preferences.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nbutton {\n  margin-right: 5px;\n  margin-bottom: 25px;\n}'},"./libs/com-example-test210500/src/lib/view-components/bar-chart-component/design/bar-chart-component-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/call-command/design/call-command-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/call-process/design/call-process-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/captcha/design/captcha-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/code-viewer/design/code-viewer-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/design/custom-datapagequery-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/custom-grid/design/custom-grid-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\n.custom-icon {\n  margin: auto;\n  width: 50%;\n  height: 150px;\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAADAFBMVEUAAACBgYEwMDCHh4g7OztoaGhRUVGHhog8PDwcHBxnZ2cdHR0ODg5/f38GBgYSEhIdHR42Njc0NDWWl5bDw8RHR0dIR0ddXV55eHoREREfHyAtLS4XFxcxMTIuLi9ZWVgWFhcPDw8pKCkqKisaGho/Pz8tLS0REREjIyMJCQlSUlJgYGCFhYZLS0qqqaowMDAdHR0MDAwZGBlWVlY0NDRzc3RsbG1JSUkmJScNDQ5OTk8AAAAZGRkICAgRERI6OjsGBgdGRkdXV1k5OTqzs7RHR0hjY2QTEhSdnJ4GBgYgICANDQ0DAwReXmFJSUnX/44rKyvXs44AAAAkJCQmJiYqKiooKCguLi4tLS0jIiIwMDDW/40AAAYzMzMxMTHU/4wyMjI1NTXb/5D//6ocGxoBAAzWso3UsIv+/6fr/5ogICD//63h/5QUFBQKCwry/58eHh4ODg8SEhIZGBft/5zn/5gNDQwGBwbct5HZ/48rKy4nJysEBAT1/6IyMjH7/6bj/5YaGhoEABDf/5MVER0XFxb4/6PmwJj/16rv/57qw5ojJSgaFyEQDBoJBBQHDRPuxZwfIiUHBQz/1KjyyZ/d/5IlIykMBxcREQ//26780ab1zKHjvJUhHicBBgz6/6X4zqPl/5a5mXiYuGNmd0Q7RigZHSEDCRD3/6IzOiPH7oOVr2JfcT84QCcVGR0dIRfGo4E5MCceGyQrJB7V+4yz13SlyGuNdVtYaTtHUS8zKyMPFBrSrorBn32liWufg2eDmlWEbVV6kVB1jExvhEk6OjpVRzlOQTQWGg///7Hc/5ffupPN9IbC532fvWheTj5XYztKVjMjJxslLhi84HuLpFtzX0sqLx4MERbMqYWtyXGkwGuYqGKafmKUel+AjVJ7ZlF2hU1mVkVGOy9CSy4wNCQlHxoeJRXR6ojF3oG/1XyftGmMm1uEolZ9llFVXjpOYDM+NSssNh3c84/Q9orI5oO20Hatz3CrjW5qgEX/47Pf+5Gzk3NsWkf/9cJCQi+ypS2EAAAAT3RSTlMABnAXFhxiDg3nP97PN+3j0lk+LA2EaTUr7auhmpaAJfXYzcK6kIp6c2ZYUkkuILazrIxxY1xLSEg/Pfbv5cKvoI18TxZ2alo7LiT5tYeg+R0fKgAAF1JJREFUeNrsmXlQG1Ucx6n3WR3vW1vP8R7v8RwddRyvbl6y+zbLZk0gJBxNmqNNYpKiYDE0EUIKIiSIFCvoOI0gKsopdgZ0cKQzKkO1B4KiU8/q2FFHHd/btylJWJoNZab9w+8f7TSd9+bzfvd7m/O//tf/ylr3X3nuxSc9elXOIaUjz7/DXeFkGPBoziGkB5f6GT1kKai3Ljst5xDR0ecAtY6lKSyDf1nOoaET73JzHIYiXOCenENBRwGjgUoSB87KOfi6Eaj1oqkgJFh6xwk5B12XAkZAVLTe18xHdJiPNoDTcw6yzgesGFb6sHVs0hUWvQmL3UtyDqpuBBBTQZrvaa38qx9xYcvpwIM5B1O3AApR0aURfioWNfdVqhriHDaX8aScg6iHgBbHVWkbv7MxYFapzI2DQIx7HbhZ+S7HLDLVWcCmQ7YSIvxAo8ekQvLU9PSK0eVYrnCPIw474c7jz1vMxnDtHWWYqrQNDFaqEBWSqXKKL8XJCP0PKdni8AsusmspynXXqYtGddpSO45vLgJ2Yiqi2MAGKNYu+/FKCvFSF9SzqDGU3XHiYmHd7cdUrI/f0YipiEY9XW0UlgDOzLTBEtxJKSxabwOLZK97gYEE9xiJK0mxkTAr/u4+P1MnXebWUTRFuAyuZYszyQCOxRWqvTPWlERlqh3nBQqJtWWoETcDp4FAES5w5aIkoQbirhx3m1vMqiRFuwkWLbiv3r+xSSdNiDUeuwhYx9rF9udFSUioEqobsHpJw96vF68HEBKqWXOdsQj9mTQZfqxSlapgq8NHjl92/H7SpcFApQlWHLC5rgZiWHO9XcGgKRUrsM0ZkcYu64Xzrb+nQk/NkQHcdIB3HOAUt/WCv2vNqlR5mjp7pbHLOp9XHrWn2oplibmWHxjWPQkXjkRVcxQbJhWCEhznzBMBrmRbQS7UOxEqRe2CtR9+IFTHAUHcr83iqTHNwWoZa4fEBrY7ZZdfAHSzgQ65Cd7Ss6chXorM67/vAKiWnF3BiU4C3TgL0xWdbOYoKRdvlZ38BXY2nuKgc2dHU+3ABi9JkoXrdNGFVGn7nphHJYPVncDS2W+Yu/pUQMGEqQQvMA7WVAY9nsYRvAiiJFl4ISWb+jb0JwppWuFyeKVUtFw/d/kyy74qaugFw55GD9rEFN3BC7hhnbHwQuoQC6mBH640qeSw/rBIWNA21ynnuHQSFatrbvijMdhHykpfQwSdA1XgBeox4kIqZO2ok8WqaXX6KCJ1xdFpq88FBsmBnBf0jO4biDx10+0cxTqXLzTe7cUsqX3DKN7lFOwvDlGS3A+lDQ1AkKhKI2C6rqVvtsPvxMFVfOzC4130T7yrKWCSxQp0qBNYguuqtBwu4ySqNjQ7BpLO1bKDxzFvOXNhxnJrSO6DnY1oU3knlvkSWGVXyJRhYqtBFOvJq/520DjmD1sQ1rlkYzjRU+NRZcTiXOenjmg66fcQolKlGLupb6YN30yuW9DTDJAKDr+j1jwvlnEfliW5/ZwGjMSF0AvGcbCnYJnxsM0ydy0E63pSHGBvJzaWvAL92kRsQdslSYuv8xMXsiyYahxNC0xPcHoCT7sXLeDSeLSFzN4cGCTGyhDyrO3k5KYjuVCPkrjJPLfDi63UeuYC0tCqFyM53CUZSx5Luw/LmYR1thFKV6LOloB5ng4P/bdkbywnSUOOH4im72sORoMeE5kDmQjyBk2wUudZPBujO0kNWi2PJTQclTXWYS5Ss8KdyT3aPFrT1DQ6Ov5PRzAaMJlUTdt6IjTNMAxNsfRds/ccSDzY6wjG+uR61nAYYzkvzxpruYNcmPnuWlNSDrXu7DAHKz0joKfbHK3z4JBHVJiLpZYukeodMIr+Z31koJXBEu+XQvYj1+1Wkt+RGXMgKYViff90OkfGBwJDze3a8f6aylZjiNGIoqmKI2brHQms8UZyJJlZm8WD8wXZYl3i0tMoZGD7SIsKC/mrLtoS3Latv7sHtLdrpro2RMKWaZPHGFETaSjHkdKDE0sjp9K65j2xJlmsUU9PHFvT+niWVIf7KTFihGbkQ8QUiMbMfwxNTXc57bZOh4PyxSNOrUCHtWNaTbFWrcVS28mb80kNLDIeow/P1MmEOymnM20Yy5Jtmb8P6BiskKU/aArW1nV0T3XZm9t723xer1dPM8gDAktTXCSsYbRqgsX4RSdeBqAaY4VAa9Q8X1mpiGCs4pOzxDrBRjEahqHCPch1HUMjxuZwm5djqTmCrEatJlwa6yWXXXD7NXabGmGpIfiH9HdZLKOIZcwS61Q3pcGCYOivwWHEFMJI8qITXGqHo8ListoYjEVNdNWRwJKdaaU3grOXZPfQbSVYlGNyGDEJhGk+LpyKCExtd6K/irWisXx867+xlmg0kChbci8q2ouOzgrreKNG3FxDlU1ASGUSjcgQlsOoJkKRZZ8ZGJqcGhkbCCZYZN6faOcR2VCdAmhxcw3DyttJ3mJaDYNEzFxmnGgGYHpom8wdwFPTGRbPCi0PZ4N1nV2NhENeucQ6nwBkGBbqKevM5GCrB43LaWSjqpk4Oe4j2VjrLD+hoqmEWAhZrw+iP5XwJY4DQ+ECx57Jjpr0stVnJE+u2T2+3QsYjJXYnKtfV15QXu0oKy8vf+G5ei8HM0XabPkQLMC/pzuYnohukojFZ5+WzZ21YpYKwhf4sq837fr85S92b9m6dfM3xg18dT1KTYUqc3UNqdKuTbWTvJ4cwHKkcqrbHGLzoMUnliqwedfuNS899dLa9avXvrp2zVufffnD1xv4dRDSirD0urh7vDZoTpm28BsEliaLqflSoIG0GFesUAVe216Uvzovd4WkvJVFa/NX7931Df8C8qUysBAYq4mZkyf5zgmWOPFOxU48l3ycQ9LV879uX5P//BMrUvVE3vr8Nds38+t0ymoHhKBLlTR3BfstISk7FFf5S4AApceMcvDV+vxnCFSacp8pXLX9W16pJ3VhV2ulOfVOjaU9WfmNNXFE/tO9+U/LQRGTPV/y2yugvlQhVy/fn7CXqXJIinjWeLEyqgeAlCKcD7y76qlcKabkwdYXvg+e0ynionVxf2viat0yLEU8rLhYIZVUL7l68GdJETHV/FzPlHwPlAZYadw1UCtyjZqMcamqGc9RNL8DqS3DerClZGUGKhRhK0q+AFUGWhlXGyAf12pa7dIKznW6kk+GjxRD6Rj8lhLZWM/Ny8tN/mdu/m53lUJ7CW1gEA/gtUM8WaHwmfJiKwkU2sD/kr8yV85tK1etQkZM5irZy78IKaX2aq3sU8Wm26UFgvVWJW9sOopQlX9YtFrWgyt/e/fdolTgJz76EQj7dSPL7ov73gZPXWBbQ4giUtvvzzwnA4ashy+C3YXycbX2CwDeL3kitYI9+2uBbh4gzreuGqmq6k0fhKIbemKNQ0An/bc6czVdsrSYo8mZwE8fyVIRLP/vRamOffZt8CIrwwTfLC+wbP55088/v/K1xlJdUOWFtMB3/9XVzkkRrF2W+cuOX8ooofrXVchP8lifAAB+zE8LuJIP+FRzkcGjQLN1196Vq9auX79m48d7v9/1XkG1l2vbs8MZYhhx9hEaMr6AnwkSO3P8O/nzGCu38HWE9cFTab9u3PjGujRzlT7Hv7f9u2cLVz//5JNP5uXlPb361fyiL7fyzxlsLhseXmnpo1oGLbdz0oblrzybt2IeFW5CWJsKV6Sba0uquaC34I0fXi3cuCI3pbY8lf+Du5qKFxdrCZcuYyIe9V87ZxoT1RXFcQQqllIptNUuVLtYAS1UXFrtYmxta9f48vZ52+wJs88wMxDWGWCYhGQgKQnLF0IIkrBoSAgQ+WZUEm3ACNqQ1CaNiaba1bQaY/qhvfcNMzycO2+w0qYf+k+cjDO8l98995xzz13e1MUGkVphsi9ZHm22LwCs4wBrpfwTY+NKU40Lv/6eUHhAMOPNS2ZaA6ZspFxkelNVW28TzNItzcdtSQdCywiOxOKNx81SnIqLeEbLkQmG1/a1Dgq0FXLRFNuYahdjX11sx6hGmAwnxXLdxRN8C4oPT3VAH4jllwvnDUkMrnVZLjVRAIugaabi+VTFu4ldiuq2ExboWWgFRiHW14HENFu9EIrdoVY4ZaxO2jJt+IbQRsvm0lXuTeVZseG2QThtTF7MGM/IWOWIWIj3Iifcs3XyCfVsXz3PR9+WXxHGgXtpCMqRmWIwrIiNajWeydakVNX10xDrylCi0wQGzNxSIF8rD/IJV9pPjYajJuSPnr+HY1arlWjJVafKcGIxtQ33J+9De/MYoOq53Z/4VeukoxaD6uqYCyf6Vd9POP5tIPo57w+OtREAq+KQOla6R4y5q/lYOX9UPRCHfQhw/8hYrzzLMZ9F5eLys+DCO62xNPezAMxFVu1QHw3fJdk41kDgaFKVf43MD1Cd9sEQnE2POyYsPMr1wIVnY4NW0DDWprFaP8tS33GqitdLNe1TLhWsk3J+MCK+Mvjm2zGSbDAfM/JIp1SaWWs8LtCayhR1/JaKeCqs9Uz6klIZXCcg1oUw6jvLfDutIbqEORePGh0ugQsvBZuXAsQ12fElhRepYz1BYjH1jo34k2IFDefAzZ2z/iRYpIYyXwwgY8XwPbiy8o4ljrnY7c5VX34odWJxRYar7WimaLEF2+zvRH0ZPt5EEjXCVIBHNWgCNgiP5x6+/IzZ8VyKXOqJ9yHbNpg8P/DGX3CgW4FqtG81kWRo0YBslX+kDlxZNxezFl9/11z7YoYq1nMmZhnrRHKs6vAtOccjR4Hm6ushEhOgwyPkmsSBemb9y+Zb6HLmqVdajct1bvegPylWcxA6SN2sBZnS5hp7Cco8NYQOYdnOw83N8Sa6bnW37FZfVLYuY4XkS9HyjTiha/kM6Nqio5YMLUwEVTLLdOvypeGTTY2qCeKpFwmFyy9qg0ld6zQOdAZ2E3JMpGnzxTA6s7RewxXpFCpw2kyrrpuWeLhlrHGQINSz1mV0ug1cFChKOIUeuYITYzjQaEAR1Vc6CNVzUgdMumWsLgeIFrT8t6vArb/3IdND8LY3RNIdF+qPJvf4qhGLcgrVwb2jVtfsUFqL6RgdSoLVdwEHGkDbIzwg1BBdnrutaFMO4LBFvMI/hgY69BVqWwXZHjk/pKwCjXDSc86HzEta21UBI3odly1orLOyx/sMSiwz1/OkWid6dQprNZ1Eei0M6UE4F0NDd/afaAPJdGy2H+mVvt9kjy/nV2CJFfmrtRYWWZiwH0W7bY/s8Mg47JvCWYJuHw52osu0Sog1FVYa8JRZ7z2gZq1GUbH7wHTcRYdaPXTbYRcyafGgkgdY5nmXIblXnpsIrkiwZlH1FHS+Q1JsJjUIv6ATkxH6x4AROftrnfN0kQQmnOxDJ9N70eqRV7gEGNlF5061R/palHtIWPdgParJzX4w8lT+EUQ7/D2hQcYK8MkT3lQfr/jMP9gtOd5Swcp6h1zeE6TJWmEKtbZlgTXAz2hjueaqeimAZUaHi0VOeIuWTmUrDdcjmPp+zxMaVoHFtn/fb0e41hSODw7ZkTFquyXoaZKgmq75DKjuBzMA2CRe2ZLLjlr6HdU1t90tOkzJhf8c4FHz6XNBF8pYWuOoUAN30WlQbTWj6vhr0OENykENloEScVB91btSUmJRbQsTiXe3XB6eKkdS1f/uDDEkAbB6F2aDiD6cdcKktWJl025fCOm8BWmq2mhlYliyuYRjfdrEnQG/H0nlc/3W3kBCLJLpuDCEMqZcpfl4Zb+eEnSic0eKFeY6kVrmIskv8VGEb3eiljv4/vpBQSQJGasBVZx2tsI4PGbjlZ+5hrsZ6rMMdaxH8KjPszFzhfAfzx9NBENQdZ4/jnMUXEUDaKC2TVzt6RuAntWpnNNqywcECXNvS7maG90mYBlGPu5DcG2Ay67lU1IZwF5ULUMCLCiqq2XEgkzDZ2zaFcZabOd0jsJUWFl4bPde5iIJJgRW30HtpA6m7T8/ivdCdwdY4B+tExLmHwbfMF75U7NdaSzbAM5hrDP1LvV2XC9jxbnYcXz6hjFYrQIGFhx9VzvGMQ0QAINYbNN0OGF0uIR/bVPuSvKWP86FOMb5+mrOrlg5huEkjuMgF2g73SVUnnLZgtXVAI1HQbXafriE92IaIoYFur/XM3tfbuPtc1fszcooBNkX11MSnvrhtsyML3DMDTyEFfUiw2KQi8BC+Ikf/bbWr4Cq+ftdvd5485iznaEJQoFFcsJFm2Hl32r9QwbtigH0Al7LgrP1ajxPZr+Rt3N98aa8nDqN220yuU20KDGACxqMbhKuX73jC/sgmJZX+IvR/80xhxmYSgOp5Neof3XhAwrvRg6gN6pCDZSI70yGtHnfkcNv7s8v2bpB7saWGUlkQKyLOsglG4wmuwXT9JnLlnqbLdDqt9v7/f76wJDv5tlhj7mXgUQy1BIbSWiwiHBTjUtrtw2aQRdW5CIX2j7YfPiNN/MzVxyr1ogMI+n1ki7KJVuMpCJNwtj8ydOj39y8/dVXIyNzV05f/NMrtNWwZLz7lrEIDdPdcxPklmRUQdsvAoNhHNqzMko+yUh8IgvTAa8X9Xq9KDu+TEbIZGaz2dOyMHzdZDJ1CObuXo4iVkoTj0eu+9x3vgA652l9YJ7SxYEufP0BDppu5ESWokGgSzMig8XAyOiJqa7xSFtbJBIh5UCNCn4ZU5yLieAnfrD5E8F4bbh1Gq/lKIx8O2u1UBueKTmEuxtbKhwtFS0mBgbkEhnEQEuJJZPJryQLjnX8brRU8/e71Y3fcI6hKD2+urO5mW/t+LAoPX3zFpyUWEkUGTell6JcUBAsKkAi4yhELL0o8bBxYezqnfo+OyCLQxkt3znNIgsfMM1dBdPWvPSivftL5HDcBJ9hYjhxZmYG+teSINmSSBmRjv9XKSUZFRK806N/uMqHLAagar+x/9tFPALHEsn0dmlKqDfT9+Q9qXwmH5MwvUiaHJg+zhXHUyqGpcBTehpBgR3hxfmrP14OWiw+142fwAkmHQgpjsM2pjyElJ1XfF+kFtVhnMnrNbkZiWNYtZOTSinB4nh0bahJEHoG5+d//ZUQumtgkraaaPyJN44cOXzgk08zkpTypTt3bEX8WoDTTchjEPogINpuSj562W7gfaTbDM7vRUD8UoTD1KjBd+0v3lOY/n5helH63rzD2ZmJ5R/iEELenvc2knpq+QCDCljccAgt92n0TXR7mpmpzFEE/9bN+fuBYVJqc1nBp2ml7zr1LIWtWjIWtVJRMqXZaEYUxRnHgx6thvQf7d6/9HswtPQgXFDYCq0gk4+v6giTG6v6G8/E5xUcib3du9EksdhDS7YbAGbgoEZpSDzn6fTd6WAoXr3WFb6vqGIzynAMGGwNxEImnU7H6WcqDq5LW1dyeNP27ekZq6R65L1N98/SrNIaUDGMpIMCpUndtniy3L7lw8MbVnNaeMvHCTktpxLTPTwWB5lE/QyJf6Hsm9fSt6zPTtWbjxejpiF7NvYwHPXQXJIkWhu927LvD7D8netfAyk1uZ5MR48HmQVVbpZ7aO+SZrz4SwWohmd8oMJVmpeVdHT6vLISE9mHiUZGtOJPZKftPfTqAz4v9oiqJV990QRSIfM3O1PC3D2566Plb9mh19LWTp8Wlj3bSIo67sH9SqJM3l17463e9/zzW9PWUBuKD77o1TCgMlk9EydR7opHd29eebThdWC5tVTmkUM5FW5a0nHsasKP0XjdjxbkJ7hH1qZXs9PWWJ8UH3qpUQOcWAWN5TiKNjlaXik6sAGdIt97GkTYmqMVluWYNCSn4xgmVviwIJkz8voFbTW5HY2P7cpT86F926O159pbrSDX7dZoSBrWihRBk26T1eNp9DY++vILRfkpV4hK1+/8h34+b92B4t1lB3NycnKffXRb2a6C7YUf7sgvQaQatLL3l6b9s9qw7m816xmQ3/+DyvpvYv2v//Uv6i/kgQso2tZ06AAAAABJRU5ErkJggg==");\n  background-repeat: no-repeat;\n  background-position: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/custom-grid/runtime/custom-grid.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\n.reg-guid {\n  color: red;\n}\n\n.green-display-id {\n  color: green;\n}'},"./libs/com-example-test210500/src/lib/view-components/delay-registration/design/delay-registration-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/delay-registration/runtime/delay-registration.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\np {\n  background-color: #d6d7d8;\n}'},"./libs/com-example-test210500/src/lib/view-components/digital-signature/design/digital-signature-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/digital-signature/runtime/digital-signature.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nsignature-pad ::ng-deep canvas {\n  border: 1px solid #d6d7d8;\n}\n\nbutton {\n  margin-right: 10px;\n}'},"./libs/com-example-test210500/src/lib/view-components/display-gradient/design/display-gradient-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\n.gradient {\n  width: 100%;\n  height: 35px;\n}'},"./libs/com-example-test210500/src/lib/view-components/display-gradient/runtime/display-gradient.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\n.gradient {\n  width: 100%;\n  height: 35px;\n}'},"./libs/com-example-test210500/src/lib/view-components/floating-panel/design/floating-panel-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/floating-panel/runtime/floating-panel.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/'},"./libs/com-example-test210500/src/lib/view-components/generate-password/design/generate-password-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/get-data-example/design/get-data-example-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/get-data-example/runtime/get-data-example.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\n.container {\n  display: flex;\n  height: 100%;\n  min-height: 500px;\n}\n\n.flex-padding {\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n.full-width-button {\n  width: 100%;\n  margin-bottom: 10px;\n}\n\n.get-one-record-container {\n  flex-grow: 1;\n}\n\n.get-records-container {\n  flex-grow: 2;\n}\n\n.get-associated-records-container {\n  flex-grow: 3;\n}\n\nrx-json-viewer {\n  height: 100%;\n  background-color: #d6d7d8;\n}\n\n.attachment-picture {\n  max-width: 200px;\n}'},"./libs/com-example-test210500/src/lib/view-components/google-maps-component/design/google-maps-component-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/iframe/design/iframe-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/image-click/design/image-click-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/image-click/runtime/image-click.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nimg {\n  cursor: pointer;\n}'},"./libs/com-example-test210500/src/lib/view-components/list-icons/design/list-icons-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/list-icons/runtime/list-icons.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\n.big-font {\n  font-size: 30px;\n  color: black;\n}\n\nadapt-alert {\n  margin-top: 15px;\n}\n\ntable {\n  margin-top: 15px;\n}'},"./libs/com-example-test210500/src/lib/view-components/lmame/runtime/lmame.component.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=".green-border {\n  border: 1px solid green;\n}"},"./libs/com-example-test210500/src/lib/view-components/open-blade/design/open-blade-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/open-blade/runtime/open-blade.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\np {\n  background-color: #d6d7d8;\n}'},"./libs/com-example-test210500/src/lib/view-components/qr-code-generator/design/qr-code-generator-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/design/qr-code-scanner-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/runtime/qr-code-scanner.component.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i="adapt-rx-select {\n  margin-bottom: 25px;\n}"},"./libs/com-example-test210500/src/lib/view-components/test-debug-component/design/test-debug-component-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/test-debug-component/runtime/test-debug-component.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\n.gradient {\n  width: 100%;\n  height: 35px;\n  margin-bottom: 25px;\n}'},"./libs/com-example-test210500/src/lib/view-components/user-preferences/design/user-preferences-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/user-preferences/runtime/user-preferences.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\n.container {\n  display: flex;\n  height: 100%;\n}\n\n.flex-padding {\n  padding-left: 25px;\n  padding-right: 25px;\n}\n\n.text-sample-container {\n  flex-grow: 1;\n}\n\nadapt-color-picker {\n  margin-bottom: 25px;\n}\n\n.lorem-ipsum-formatting {\n  white-space: pre-line;\n}\n\n.helper {\n  font-weight: bolder;\n  padding-left: 25px;\n  margin-bottom: 50px;\n  margin-top: 25px;\n}\n\n.icon-padding {\n  padding-right: 10px;\n}'},"./libs/com-example-test210500/src/lib/view-components/webcam/design/webcam-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/lib/view-components/webcam/runtime/webcam.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nimg {\n  width: 640px;\n}'},"./libs/com-example-test210500/src/lib/view-components/wizard/design/wizard-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\ndiv {\n  width: 80%;\n}'},"./libs/com-example-test210500/src/lib/view-components/youtube-player/design/youtube-player-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\nspan {\n  font-size: 150px;\n  color: black;\n  display: block;\n  text-align: center;\n}'},"./libs/com-example-test210500/src/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/com-example-test210500.module.ts"),o={};for(const r in i)"default"!==r&&(o[r]=()=>i[r]);n.d(t,o)},"./libs/com-example-test210500/src/lib/actions/confirmation-ootb/confirmation-ootb-action.design-model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConfirmationOotbActionDesignModel:()=>r});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js");class r extends i.RxViewDesignerActionModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig())}static getInitialProperties(e){return Object.assign({title:"",message:""},e)}getActionEditorConfig(){return[{name:"title",component:o.ExpressionFormControlComponent,options:{label:"Title",isRequired:!0,dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}},{name:"message",component:o.ExpressionFormControlComponent,options:{label:"Message",isRequired:!0,dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}}]}}},"./libs/com-example-test210500/src/lib/actions/confirmation-ootb/confirmation-ootb-action.interface.ts":(e,t,n)=>{"use strict";n.r(t)},"./libs/com-example-test210500/src/lib/actions/confirmation-ootb/confirmation-ootb-action.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConfirmationOotbActionModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/actions/confirmation-ootb/confirmation-ootb-action.service.ts"),a=n("./libs/com-example-test210500/src/lib/actions/confirmation-ootb/confirmation-ootb-action.design-model.ts"),l=n("./libs/com-example-test210500/src/lib/actions/confirmation-ootb/confirmation-ootb-design-manager.service.ts");let c=class{constructor(e,t,n){this.rxViewActionRegistryService=e,this.confirmationOotbActionService=t,this.confirmationOotbDesignManagerService=n,this.rxViewActionRegistryService.register({name:"comExampleTest210500ActionConfirmationOotb",label:"Confirmation (OOTB)",bundleId:"com.example.test210500",service:this.confirmationOotbActionService,designManager:this.confirmationOotbDesignManagerService,designModel:a.ConfirmationOotbActionDesignModel,parameters:[{name:"title",label:"Title",isRequired:!0,enableExpressionEvaluation:!0},{name:"message",label:"Message",isRequired:!0,enableExpressionEvaluation:!0}]})}};c.ctorParameters=()=>[{type:r.RxViewActionRegistryService},{type:s.ConfirmationOotbActionService},{type:l.ConfirmationOotbDesignManagerService}],c=(0,i.__decorate)([(0,o.NgModule)({providers:[s.ConfirmationOotbActionService,l.ConfirmationOotbDesignManagerService]}),(0,i.__metadata)("design:paramtypes",[r.RxViewActionRegistryService,s.ConfirmationOotbActionService,l.ConfirmationOotbDesignManagerService])],c)},"./libs/com-example-test210500/src/lib/actions/confirmation-ootb/confirmation-ootb-action.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConfirmationOotbActionService:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("rxjs"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-ui-kit.js"),a=n("./node_modules/rxjs/_esm2015/operators/index.js");let l=class{constructor(e){this.rxModalService=e}execute(e){return(0,r.from)(this.rxModalService.confirm({title:e.title,modalStyle:s.RX_MODAL.modalStyles.warning,message:e.message})).pipe((0,a.switchMap)(e=>e?r.EMPTY:(0,r.throwError)(null)))}};l.ctorParameters=()=>[{type:s.RxModalService}],l=(0,i.__decorate)([(0,o.Injectable)(),(0,i.__metadata)("design:paramtypes",[s.RxModalService])],l)},"./libs/com-example-test210500/src/lib/actions/confirmation-ootb/confirmation-ootb-design-manager.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConfirmationOotbDesignManagerService:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),r=n("rxjs"),s=n("./node_modules/@angular/core/fesm2015/core.js");let a=class{constructor(e){this.rxViewActionRegistryService=e}validate(e,t){return(0,r.of)(this.validateInputParameters(e,t))}validateInputParameters(e,t){const n=this.rxViewActionRegistryService.get(e.name),i=[];return e.title||i.push({type:"error",propertyName:t,description:`${n.label}: title is a required field.`}),e.message||i.push({type:"error",propertyName:t,description:`${n.label}: message is a required field.`}),i}};a.ctorParameters=()=>[{type:o.RxViewActionRegistryService}],a=(0,i.__decorate)([(0,s.Injectable)(),(0,i.__metadata)("design:paramtypes",[o.RxViewActionRegistryService])],a)},"./libs/com-example-test210500/src/lib/actions/confirmation-ootb/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/actions/confirmation-ootb/confirmation-ootb-action.module.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/actions/confirmation-ootb/confirmation-ootb-action.service.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/actions/confirmation-ootb/confirmation-ootb-action.interface.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/actions/confirmation/confirmation-action.design-model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConfirmationActionDesignModel:()=>r});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js");class r extends i.RxViewDesignerActionModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig()),this.sandbox.setActionOutputDataDictionary(this.getActionOutputDataDictionary())}static getInitialProperties(e){return Object.assign({title:"",message:""},e)}getActionEditorConfig(){return[{name:"title",component:o.ExpressionFormControlComponent,options:{label:"Title",isRequired:!0,dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}},{name:"message",component:o.ExpressionFormControlComponent,options:{label:"Message",isRequired:!0,dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}}]}getActionOutputDataDictionary(){return[{label:"Signature",expression:this.getOutputExpressionForPropertyPath("signature")}]}}},"./libs/com-example-test210500/src/lib/actions/confirmation/confirmation-action.interface.ts":(e,t,n)=>{"use strict";n.r(t)},"./libs/com-example-test210500/src/lib/actions/confirmation/confirmation-action.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConfirmationActionModule:()=>h});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/actions/confirmation/confirmation-action.service.ts"),a=n("./libs/com-example-test210500/src/lib/actions/confirmation/confirmation-action.design-model.ts"),l=n("./libs/com-example-test210500/src/lib/actions/confirmation/confirmation-design-manager.service.ts"),c=n("./libs/com-example-test210500/src/lib/actions/confirmation/dialog-component/confirmation-action.component.ts"),d=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),u=n("./node_modules/@angular/forms/fesm2015/forms.js"),p=n("./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js");let h=class{constructor(e,t,n){this.rxViewActionRegistryService=e,this.confirmationActionService=t,this.confirmationDesignManagerService=n,this.rxViewActionRegistryService.register({name:"comExampleTest210500ActionConfirmation",label:"Confirmation",bundleId:"com.example.test210500",service:this.confirmationActionService,designManager:this.confirmationDesignManagerService,designModel:a.ConfirmationActionDesignModel,parameters:[{name:"title",label:"Title",localizable:!0,isRequired:!0,enableExpressionEvaluation:!0},{name:"message",label:"Message",localizable:!0,isRequired:!0,enableExpressionEvaluation:!0}]})}};h.ctorParameters=()=>[{type:r.RxViewActionRegistryService},{type:s.ConfirmationActionService},{type:l.ConfirmationDesignManagerService}],h=(0,i.__decorate)([(0,o.NgModule)({declarations:[c.ConfirmationActionComponent],entryComponents:[c.ConfirmationActionComponent],imports:[d.AdaptRxLabelModule,d.AdaptRxTextfieldModule,u.FormsModule,p.TranslateModule],providers:[s.ConfirmationActionService,l.ConfirmationDesignManagerService]}),(0,i.__metadata)("design:paramtypes",[r.RxViewActionRegistryService,s.ConfirmationActionService,l.ConfirmationDesignManagerService])],h)},"./libs/com-example-test210500/src/lib/actions/confirmation/confirmation-action.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConfirmationActionService:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("rxjs"),s=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),a=n("./libs/com-example-test210500/src/lib/actions/confirmation/dialog-component/confirmation-action.component.ts"),l=n("./node_modules/rxjs/_esm2015/operators/index.js");let c=class{constructor(e){this.adaptModalService=e}execute(e){const t={isDialog:!0,content:a.ConfirmationActionComponent,title:e.title,data:e.message};return(0,r.from)(this.adaptModalService.open(t)).pipe((0,l.switchMap)(e=>e?(0,r.forkJoin)({signature:(0,r.of)(e)}):(0,r.throwError)(null)))}};c.ctorParameters=()=>[{type:s.AdaptModalService}],c=(0,i.__decorate)([(0,o.Injectable)(),(0,i.__metadata)("design:paramtypes",[s.AdaptModalService])],c)},"./libs/com-example-test210500/src/lib/actions/confirmation/confirmation-action.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CONFIRMATION_ACTION:()=>i});const i={cancelReasons:{onClick:"onClick",onCloseIcon:0}}},"./libs/com-example-test210500/src/lib/actions/confirmation/confirmation-design-manager.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConfirmationDesignManagerService:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),r=n("rxjs"),s=n("./node_modules/@angular/core/fesm2015/core.js");let a=class{constructor(e){this.rxViewActionRegistryService=e}validate(e,t){return(0,r.of)(this.validateInputParameters(e,t))}validateInputParameters(e,t){const n=this.rxViewActionRegistryService.get(e.name),i=[];return e.title||i.push({type:"error",propertyName:t,description:`${n.label}: title is a required field.`}),e.message||i.push({type:"error",propertyName:t,description:`${n.label}: message is a required field.`}),i}};a.ctorParameters=()=>[{type:o.RxViewActionRegistryService}],a=(0,i.__decorate)([(0,s.Injectable)(),(0,i.__metadata)("design:paramtypes",[o.RxViewActionRegistryService])],a)},"./libs/com-example-test210500/src/lib/actions/confirmation/dialog-component/confirmation-action.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConfirmationActionComponent:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/actions/confirmation/dialog-component/confirmation-action.component.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/actions/confirmation/dialog-component/confirmation-action.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),l=n("./libs/com-example-test210500/src/lib/actions/confirmation/confirmation-action.types.ts");let c=class{constructor(e){this.activeModalRef=e,this.confirmationText="John Wick",this.message=this.activeModalRef?this.activeModalRef.getData():""}confirm(){this.activeModalRef.close(this.confirmationText)}cancel(){this.activeModalRef.dismiss(l.CONFIRMATION_ACTION.cancelReasons.onClick)}};c.ctorParameters=()=>[{type:a.ActiveModalRef,decorators:[{type:s.Optional}]}],c=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-confirmation-action-component",template:r.default,styles:[o.default]}),(0,i.__metadata)("design:paramtypes",[a.ActiveModalRef])],c)},"./libs/com-example-test210500/src/lib/actions/confirmation/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/actions/confirmation/confirmation-action.module.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/actions/confirmation/confirmation-action.service.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/actions/confirmation/confirmation-action.interface.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/actions/fruit-picker/fruit-picker-action.design-model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{FruitPickerActionDesignModel:()=>p});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),s=n("./node_modules/rxjs/_esm2015/operators/index.js"),a=n("lodash"),l=n("./libs/com-example-test210500/src/lib/actions/fruit-picker/fruit-picker-action.types.ts"),c=n("./node_modules/@helix/platform/fesm2015/helix-platform-record-api.js"),d=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.component.ts"),u=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.types.ts");class p extends i.RxViewDesignerActionModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.rxRecordInstanceDataPageService=this.injector.get(c.RxRecordInstanceDataPageService),this.defaultProps={fruit:"banana"};const n={recorddefinition:l.FRUIT_PICKER_ACTION.recordDefinitionName,propertySelection:[l.FRUIT_PICKER_ACTION.fruitFieldId],pageSize:-1,startIndex:0,queryExpression:l.FRUIT_PICKER_ACTION.queryExpression};this.rxRecordInstanceDataPageService.get({params:n}).subscribe(e=>{let t=(0,a.map)(e.data,e=>{const t=e[l.FRUIT_PICKER_ACTION.fruitFieldId];return{id:t,name:t}})||l.FRUIT_PICKER_DEFAULT_FRUITS;t=(0,a.sortBy)(t,["name"]);const n=this.sandbox.actionProperties$.pipe((0,s.pluck)("fruit"),(0,s.distinctUntilChanged)());n.pipe((0,s.skip)(1)).subscribe(e=>{this.sandbox.setActionProperties({fruit:e})}),n.subscribe(e=>{this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig(t,e))})}),this.sandbox.setActionOutputDataDictionary(this.getActionOutputDataDictionary())}static getInitialProperties(e){return Object.assign({fruit:"banana","fruitAttributes.color":`${u.GRADIENT_COMPONENT_OPTIONS.defaultValues.left}|${u.GRADIENT_COMPONENT_OPTIONS.defaultValues.right}`},e)}getActionEditorConfig(e,t){let n=(0,a.findIndex)(l.FRUIT_PICKER_FRUIT_LIST_ACTION,{name:t});-1===n&&(n=(0,a.findIndex)(l.FRUIT_PICKER_FRUIT_LIST_ACTION,{name:"default"}));const i=l.FRUIT_PICKER_FRUIT_LIST_ACTION[n].necessaryAttributes;return[{name:"fruit",component:o.SelectFormControlComponent,options:{label:"Fruit",required:!0,options:e,tooltip:new r.Tooltip("Please select a fruit in the list. The list of fruits is in the record definition com.example.test210500:fruits."),sortAlphabetically:!1}},...t?(0,a.map)(i,e=>{const t={name:`fruitAttributes.${e.name}`,component:"color"===e.name?d.GradientComponent:o.ExpressionFormControlComponent};return"color"!==e.name?t.options={isRequired:e.isRequired,dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}:t.options={required:e.isRequired},t.options.label=e.label||e.name,e.tooltip&&(t.options.tooltip=new r.Tooltip(e.tooltip)),t}):[]]}getActionOutputDataDictionary(){return[{label:"fruitObject",expression:this.getOutputExpressionForPropertyPath("fruitObject"),children:[{label:"fruit",expression:this.getOutputExpressionForPropertyPath("fruitObject.fruit")},{label:"configuration",expression:this.getOutputExpressionForPropertyPath("fruitObject.configuration")}]}]}}},"./libs/com-example-test210500/src/lib/actions/fruit-picker/fruit-picker-action.interface.ts":(e,t,n)=>{"use strict";n.r(t)},"./libs/com-example-test210500/src/lib/actions/fruit-picker/fruit-picker-action.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{FruitPickerActionModule:()=>d});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/actions/fruit-picker/fruit-picker-action.service.ts"),a=n("./libs/com-example-test210500/src/lib/actions/fruit-picker/fruit-picker-action.design-model.ts"),l=n("./libs/com-example-test210500/src/lib/actions/fruit-picker/fruit-picker-design-manager.service.ts"),c=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.module.ts");let d=class{constructor(e,t,n){this.rxViewActionRegistryService=e,this.fruitPickerActionService=t,this.fooDesignManagerService=n,this.rxViewActionRegistryService.register({name:"comExampleTest210500ActionFruitPicker",label:"Fruit Picker",bundleId:"com.example.test210500",service:this.fruitPickerActionService,designManager:this.fooDesignManagerService,designModel:a.FruitPickerActionDesignModel,parameters:[{name:"fruit",label:"Fruit",isRequired:!0}]})}};d.ctorParameters=()=>[{type:r.RxViewActionRegistryService},{type:s.FruitPickerActionService},{type:l.FooDesignManagerService}],d=(0,i.__decorate)([(0,o.NgModule)({imports:[c.GradientModule],providers:[s.FruitPickerActionService,l.FooDesignManagerService]}),(0,i.__metadata)("design:paramtypes",[r.RxViewActionRegistryService,s.FruitPickerActionService,l.FooDesignManagerService])],d)},"./libs/com-example-test210500/src/lib/actions/fruit-picker/fruit-picker-action.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{FruitPickerActionService:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("rxjs"),s=n("./node_modules/@angular/common/fesm2015/http.js"),a=n("./libs/com-example-test210500/src/lib/actions/fruit-picker/fruit-picker-action.types.ts"),l=n("lodash");let c=class{constructor(e){this.httpClient=e}execute(e){const t={fruit:e.fruit,fruitAttributes:{color:(0,l.get)(e.fruitAttributes,"color"),isGrowingOnTrees:(0,l.get)(e.fruitAttributes,"isGrowingOnTrees","0"),length:(0,l.get)(e.fruitAttributes,"length"),width:(0,l.get)(e.fruitAttributes,"width"),vendor:(0,l.get)(e.fruitAttributes,"vendor"),needsToBeCooked:(0,l.get)(e.fruitAttributes,"needsToBeCooked","0"),isForDessertOnly:(0,l.get)(e.fruitAttributes,"isForDessertOnly","0")}},n={fruitObject:this.httpClient.post(a.FRUIT_PICKER_REST_ACTION.url,t)};return(0,r.forkJoin)(n)}};c.ctorParameters=()=>[{type:s.HttpClient}],c=(0,i.__decorate)([(0,o.Injectable)(),(0,i.__metadata)("design:paramtypes",[s.HttpClient])],c)},"./libs/com-example-test210500/src/lib/actions/fruit-picker/fruit-picker-action.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{FRUIT_PICKER_FRUIT_LIST_ACTION:()=>i,FRUIT_PICKER_DEFAULT_FRUITS:()=>o,FRUIT_PICKER_REST_ACTION:()=>r,FRUIT_PICKER_ACTION:()=>s});const i=[{name:"banana",necessaryAttributes:[{name:"color",label:"Pick the desired color",tooltip:"The color is very important, do you wish greenish or yellow?",type:"colorPicker",isRequired:!0},{name:"isGrowingOnTrees",label:"Is it growing on trees?",type:"expression",isRequired:!0},{name:"length",tooltip:"Minimum length to be picked up",type:"expression",isRequired:!0},{name:"needsToBeCooked",type:"expression",isRequired:!0}]},{name:"watermelon",necessaryAttributes:[{name:"color",label:"Pick the gradient colors",tooltip:"The color is very important, do you wish green or yellow?",type:"gradient",isRequired:!0},{name:"isGrowingOnTrees",label:"Is it growing on trees?",type:"expression",isRequired:!0},{name:"width",tooltip:"Minimum width to be picked up",type:"expression",isRequired:!0},{name:"vendor",tooltip:"What is the provider of this magnificent fruit?",type:"expression",isRequired:!0},{name:"isForDessertOnly",type:"expression",isRequired:!0}]},{name:"default",necessaryAttributes:[{name:"color",label:"Pick the desired color",tooltip:"The color is very important for this... unknown fruit?",type:"colorPicker",isRequired:!0},{name:"isGrowingOnTrees",label:"Is it growing on trees?",type:"expression",isRequired:!0}]}],o=[{id:"banana",name:"banana"},{id:"watermelon",name:"watermelon"}],r={url:"/api/com.example.test210500/fruit/generateconfiguration/"},s={recordDefinitionName:"com.example.test210500:fruits",fruitFieldId:536870913,queryExpression:"1=1"}},"./libs/com-example-test210500/src/lib/actions/fruit-picker/fruit-picker-design-manager.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{FooDesignManagerService:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),r=n("rxjs"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("lodash"),l=n("./libs/com-example-test210500/src/lib/actions/fruit-picker/fruit-picker-action.types.ts");let c=class{constructor(e){this.rxViewActionRegistryService=e}validate(e,t){return(0,r.of)(this.validateInputParameters(e,t))}validateInputParameters(e,t){const n=this.rxViewActionRegistryService.get(e.name),i=[];e.fruit||i.push({type:"error",propertyName:t,description:`${n.label}: The fruit name is required.`});const o=(0,a.findIndex)(l.FRUIT_PICKER_FRUIT_LIST_ACTION,{name:e.fruit}),r=-1===o?(0,a.find)(l.FRUIT_PICKER_FRUIT_LIST_ACTION,{name:"default"}):l.FRUIT_PICKER_FRUIT_LIST_ACTION[o];return(0,a.forEach)(r.necessaryAttributes,o=>{o.isRequired&&!e[`fruitAttributes.${o.name}`]&&i.push({type:"error",propertyName:t,description:`${n.label}: The attribute ${o.name} is required.`})}),i}};c.ctorParameters=()=>[{type:o.RxViewActionRegistryService}],c=(0,i.__decorate)([(0,s.Injectable)(),(0,i.__metadata)("design:paramtypes",[o.RxViewActionRegistryService])],c)},"./libs/com-example-test210500/src/lib/actions/fruit-picker/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/actions/fruit-picker/fruit-picker-action.module.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/actions/fruit-picker/fruit-picker-action.service.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/actions/fruit-picker/fruit-picker-action.interface.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/actions/generate-guid/generate-guid-action.design-model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GenerateGuidActionDesignModel:()=>a});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),s=n("./node_modules/rxjs/_esm2015/operators/index.js");class a extends i.RxViewDesignerActionModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.defaultProps={prefix:""},this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig());const n=this.sandbox.actionProperties$.pipe((0,s.pluck)("prefix"),(0,s.distinctUntilChanged)());n.pipe((0,s.skip)(1)).subscribe(e=>{this.sandbox.setActionProperties({prefix:e})}),n.subscribe(e=>{this.sandbox.setActionOutputDataDictionary(this.getActionOutputDataDictionary(e))})}static getInitialProperties(e){return Object.assign({prefix:""},e)}getActionEditorConfig(){return[{name:"prefix",component:o.ExpressionFormControlComponent,options:{label:'Prefix ("foobar" is forbidden!)',tooltip:new r.Tooltip("The generated Guid will begin by this prefix."),isRequired:!0,dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}}]}getActionOutputDataDictionary(e){const t=[],n="guid"+this.cleanPrefix(e);return t.push({label:n,expression:this.getOutputExpressionForPropertyPath(n)}),t}cleanPrefix(e){return e?" "+e.replace(/\"/g,""):""}}},"./libs/com-example-test210500/src/lib/actions/generate-guid/generate-guid-action.interface.ts":(e,t,n)=>{"use strict";n.r(t)},"./libs/com-example-test210500/src/lib/actions/generate-guid/generate-guid-action.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GenerateGuidActionModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/actions/generate-guid/generate-guid-action.service.ts"),a=n("./libs/com-example-test210500/src/lib/actions/generate-guid/generate-guid-action.design-model.ts"),l=n("./libs/com-example-test210500/src/lib/actions/generate-guid/generate-guid-design-manager.service.ts");let c=class{constructor(e,t,n){this.rxViewActionRegistryService=e,this.generateGuidService=t,this.generateGuidDesignManagerService=n,this.rxViewActionRegistryService.register({name:"comExampleTest210500SActionGenerateGuid",label:"Generate Guid",bundleId:"com.example.test210500",service:this.generateGuidService,designManager:this.generateGuidDesignManagerService,designModel:a.GenerateGuidActionDesignModel,parameters:[{name:"prefix",label:"Prefix",isRequired:!0,enableExpressionEvaluation:!0}]})}};c.ctorParameters=()=>[{type:r.RxViewActionRegistryService},{type:s.GenerateGuidActionService},{type:l.GenerateGuidDesignManagerService}],c=(0,i.__decorate)([(0,o.NgModule)({providers:[s.GenerateGuidActionService,l.GenerateGuidDesignManagerService]}),(0,i.__metadata)("design:paramtypes",[r.RxViewActionRegistryService,s.GenerateGuidActionService,l.GenerateGuidDesignManagerService])],c)},"./libs/com-example-test210500/src/lib/actions/generate-guid/generate-guid-action.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GenerateGuidActionService:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("rxjs"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-utils.js");let a=class{constructor(e){this.rxGuidService=e}execute(e){const t={};return t["guid"+this.cleanPrefix(e.prefix)]=(0,r.of)(this.rxGuidService.generate(e.prefix)),(0,r.forkJoin)(t)}cleanPrefix(e){return e?" "+e.replace(/\"/g,""):""}};a.ctorParameters=()=>[{type:s.RxGuidService}],a=(0,i.__decorate)([(0,o.Injectable)(),(0,i.__metadata)("design:paramtypes",[s.RxGuidService])],a)},"./libs/com-example-test210500/src/lib/actions/generate-guid/generate-guid-design-manager.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GenerateGuidDesignManagerService:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),r=n("rxjs"),s=n("./node_modules/@angular/core/fesm2015/core.js");let a=class{constructor(e){this.rxViewActionRegistryService=e}validate(e,t){return(0,r.of)(this.validateInputParameters(e,t))}validateInputParameters(e,t){const n=this.rxViewActionRegistryService.get(e.name),i=[];return"foobar"===(e.prefix?e.prefix.replace(/[\"\']/g,""):e.prefix)&&i.push({type:"error",propertyName:t,description:`${n.label}: Sorry but foobar is a forbidden prefix.`}),i}};a.ctorParameters=()=>[{type:o.RxViewActionRegistryService}],a=(0,i.__decorate)([(0,s.Injectable)(),(0,i.__metadata)("design:paramtypes",[o.RxViewActionRegistryService])],a)},"./libs/com-example-test210500/src/lib/actions/generate-guid/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/actions/generate-guid/generate-guid-action.module.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/actions/generate-guid/generate-guid-action.service.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/actions/generate-guid/generate-guid-action.interface.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/actions/get-user-information/get-user-information-action.design-model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GetUserInformationActionDesignModel:()=>o});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js");class o extends i.RxViewDesignerActionModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.defaultProps={},this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig()),this.sandbox.setActionOutputDataDictionary(this.getActionOutputDataDictionary())}static getInitialProperties(e){return e}getActionEditorConfig(){return[]}getActionOutputDataDictionary(){const e=[];return e.push({label:"userId",expression:this.getOutputExpressionForPropertyPath("userId")}),e.push({label:"userName",expression:this.getOutputExpressionForPropertyPath("userName")}),e.push({label:"userLoginName",expression:this.getOutputExpressionForPropertyPath("userLoginName")}),e.push({label:"userFullName",expression:this.getOutputExpressionForPropertyPath("userFullName")}),e}}},"./libs/com-example-test210500/src/lib/actions/get-user-information/get-user-information-action.interface.ts":(e,t,n)=>{"use strict";n.r(t)},"./libs/com-example-test210500/src/lib/actions/get-user-information/get-user-information-action.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GetUserInformationActionModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/actions/get-user-information/get-user-information-action.service.ts"),a=n("./libs/com-example-test210500/src/lib/actions/get-user-information/get-user-information-action.design-model.ts");let l=class{constructor(e,t){this.rxViewActionRegistryService=e,this.getUserInformationActionService=t,this.rxViewActionRegistryService.register({name:"comExampleTest210500ActionGetUserInformation",label:"Get User Information",bundleId:"com.example.test210500",service:this.getUserInformationActionService,designModel:a.GetUserInformationActionDesignModel,parameters:[]})}};l.ctorParameters=()=>[{type:r.RxViewActionRegistryService},{type:s.GetUserInformationActionService}],l=(0,i.__decorate)([(0,o.NgModule)({providers:[s.GetUserInformationActionService]}),(0,i.__metadata)("design:paramtypes",[r.RxViewActionRegistryService,s.GetUserInformationActionService])],l)},"./libs/com-example-test210500/src/lib/actions/get-user-information/get-user-information-action.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GetUserInformationActionService:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("rxjs"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js");let a=class{constructor(e){this.rxCurrentUserService=e}execute(e){const t={};return t.userId=(0,r.of)(this.rxCurrentUserService.get().userId),t.userName=(0,r.of)(this.rxCurrentUserService.getName()),t.userLoginName=(0,r.of)(this.rxCurrentUserService.get().loginName),t.userFullName=(0,r.of)(this.rxCurrentUserService.get().fullName),(0,r.forkJoin)(t)}};a.ctorParameters=()=>[{type:s.RxCurrentUserService}],a=(0,i.__decorate)([(0,o.Injectable)(),(0,i.__metadata)("design:paramtypes",[s.RxCurrentUserService])],a)},"./libs/com-example-test210500/src/lib/actions/get-user-information/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/actions/get-user-information/get-user-information-action.module.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/actions/get-user-information/get-user-information-action.service.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/actions/get-user-information/get-user-information-action.interface.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/actions/matrix/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/actions/matrix/matrix-action.module.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/actions/matrix/matrix-action.service.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/actions/matrix/matrix-action.interface.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/actions/matrix/matrix-action.interface.ts":(e,t,n)=>{"use strict";n.r(t)},"./libs/com-example-test210500/src/lib/actions/matrix/matrix-action.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{MatrixActionModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/actions/matrix/matrix-action.service.ts"),a=n("./libs/com-example-test210500/src/lib/services/dynamic-service-loader.service.ts");let l=class{constructor(e,t){this.rxViewActionRegistryService=e,this.matrixActionService=t,this.rxViewActionRegistryService.register({name:"comExampleTest210500ActionMatrix",label:"Matrix",bundleId:"com.example.test210500",service:this.matrixActionService,parameters:[]})}};l.ctorParameters=()=>[{type:r.RxViewActionRegistryService},{type:s.MatrixActionService}],l=(0,i.__decorate)([(0,o.NgModule)({providers:[s.MatrixActionService,a.DynamicScriptLoaderServiceService]}),(0,i.__metadata)("design:paramtypes",[r.RxViewActionRegistryService,s.MatrixActionService])],l)},"./libs/com-example-test210500/src/lib/actions/matrix/matrix-action.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{MatrixActionService:()=>u});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("lodash"),a=n("rxjs"),l=n("./libs/com-example-test210500/src/lib/services/dynamic-service-loader.service.ts"),c=n("./libs/com-example-test210500/src/lib/actions/matrix/matrix-action.types.ts"),d=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js");let u=class{constructor(e,t,n){this.dynamicScriptLoaderServiceService=e,this.rxViewActionService=t,this.rxNotificationService=n}execute(e){return document.getElementById("whiterabbit")?(0,a.throwError)(null):(this.dynamicScriptLoaderServiceService.setCacheBuster(!0),this.dynamicScriptLoaderServiceService.load(c.MATRIX_OPTIONS.libraries.p5,c.MATRIX_OPTIONS.libraries.matrix).then(e=>{this.addARabbit(),this.playWhiteRabbit(),console.log("Scripts loaded successfully!")}).catch(e=>console.log(e)),a.EMPTY)}addARabbit(){const e=document.createElement("div"),t=document.body;e.innerHTML="&#128007;",e.id="whiterabbit",e.onclick=e=>{this.onRabbitClick(e)},e.classList.add("com-example-test210500-matrix-white-rabbit"),t.appendChild(e)}playWhiteRabbit(){const e=document.body,t=document.createElement("div");t.style.display="none",t.innerHTML="<iframe title='YouTube video player' type=\"text/html\" width='640'\n    height='390' src='https://www.youtube.com/embed/WANNqr-vcx0?autoplay=1&loop=1' frameborder='0'\n    allow=\"autoplay; fullscreen\"></iframe>",e.appendChild(t)}onRabbitClick(e){const t={name:"rxOpenViewAction",parameters:{},guid:"NA"},n={viewDefinitionName:"com.example.test210500:Sample view with input and output parameters",viewParams:{"my input parameter":"You clicked on the Rabbit!"},presentation:{type:r.OpenViewActionType.CenteredModal,modalSize:r.OpenViewActionModalSize.Large,title:"This is a view with input and output parameters"}};t.parameters=n,this.rxViewActionService.execute(t.name,t.parameters).subscribe(e=>{const t=(0,s.get)(e,"my output parameter");this.rxNotificationService.addSuccessMessage("The action output parameter value is "+t)})}};u.ctorParameters=()=>[{type:l.DynamicScriptLoaderServiceService},{type:r.RxViewActionService},{type:d.RxNotificationService}],u=(0,i.__decorate)([(0,o.Injectable)(),(0,i.__metadata)("design:paramtypes",[l.DynamicScriptLoaderServiceService,r.RxViewActionService,d.RxNotificationService])],u)},"./libs/com-example-test210500/src/lib/actions/matrix/matrix-action.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{MATRIX_OPTIONS:()=>i});const i={libraries:{p5:"com.example.test210500.p5",whiteRabbit:"com.example.test210500.white-rabbit",matrix:"com.example.test210500.matrix"}}},"./libs/com-example-test210500/src/lib/actions/notification/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/actions/notification/notification-action.module.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/actions/notification/notification-action.service.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/actions/notification/notification-action.interface.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/actions/notification/notification-action.interface.ts":(e,t,n)=>{"use strict";n.r(t)},"./libs/com-example-test210500/src/lib/actions/notification/notification-action.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{NotificationActionModule:()=>d});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),a=n("lodash"),l=n("./libs/com-example-test210500/src/lib/actions/notification/notification-action.types.ts"),c=n("./libs/com-example-test210500/src/lib/actions/notification/notification-action.service.ts");let d=class{constructor(e,t){this.rxViewActionRegistryService=e,this.notificationActionService=t,this.rxViewActionRegistryService.register({name:"comExampleTest210500ActionNotification",label:"Notification",bundleId:"com.example.test210500",service:this.notificationActionService,parameters:[{name:"type",editor:s.SelectFormControlComponent,editorOptions:{label:"Type",required:!0,options:(0,a.values)(l.NOTIFICATION_OPTIONS.notificationType),sortAlphabetically:!1}},{name:"message",label:"Message",localizable:!0,enableExpressionEvaluation:!0,isRequired:!0,editor:s.ExpressionFormControlComponent}]})}};d.ctorParameters=()=>[{type:r.RxViewActionRegistryService},{type:c.NotificationActionService}],d=(0,i.__decorate)([(0,o.NgModule)({providers:[c.NotificationActionService]}),(0,i.__metadata)("design:paramtypes",[r.RxViewActionRegistryService,c.NotificationActionService])],d)},"./libs/com-example-test210500/src/lib/actions/notification/notification-action.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{NotificationActionService:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("rxjs"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),a=n("./libs/com-example-test210500/src/lib/actions/notification/notification-action.types.ts");let l=class{constructor(e){this.rxNotificationService=e}execute(e){const t=e.type||a.NOTIFICATION_OPTIONS.defaultType,n=e.message||"";switch(t){case a.NOTIFICATION_OPTIONS.notificationType.success.id:this.rxNotificationService.addSuccessMessage(n);break;case a.NOTIFICATION_OPTIONS.notificationType.info.id:this.rxNotificationService.addInfoMessage(n);break;case a.NOTIFICATION_OPTIONS.notificationType.warning.id:this.rxNotificationService.addWarningMessage(n);break;case a.NOTIFICATION_OPTIONS.notificationType.error.id:this.rxNotificationService.addErrorMessage(n);break;default:this.rxNotificationService.addInfoMessage(n)}return r.EMPTY}};l.ctorParameters=()=>[{type:s.RxNotificationService}],l=(0,i.__decorate)([(0,o.Injectable)(),(0,i.__metadata)("design:paramtypes",[s.RxNotificationService])],l)},"./libs/com-example-test210500/src/lib/actions/notification/notification-action.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{NOTIFICATION_OPTIONS:()=>i});const i={defaultType:"info",notificationType:{success:{id:"success",name:"Success"},info:{id:"info",name:"Info"},warning:{id:"warning",name:"Warning"},error:{id:"error",name:"Error"}}}},"./libs/com-example-test210500/src/lib/com-example-test210500-initializer.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ComExampleTest210500Initializer:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),s=n("./libs/com-example-test210500/src/lib/services/dynamic-service-loader.service.ts"),a=n("./libs/com-example-test210500/src/lib/services/get-asset-path.service.ts");let l=class{constructor(e,t,n,i){this.rxLogService=e,this.dynamicScriptLoaderServiceService=t,this.getAssetPathService=n,this.rxCurrentUserService=i}initialize(){const e=this.getAssetPathService.getAssetRootPath("com.example.test210500");this.dynamicScriptLoaderServiceService.loadScriptByUrl(e+"scripts/alert-me-initializer.js","alert-me-initializer.js").then(e=>{alertMeInitializer(this.rxCurrentUserService.getName())}),this.rxLogService.log("Hi, I am being called in the bundle initializer code :)")}};l.ctorParameters=()=>[{type:r.RxLogService},{type:s.DynamicScriptLoaderServiceService},{type:a.GetAssetPathService},{type:r.RxCurrentUserService}],l=(0,i.__decorate)([(0,o.Injectable)(),(0,i.__metadata)("design:paramtypes",[r.RxLogService,s.DynamicScriptLoaderServiceService,a.GetAssetPathService,r.RxCurrentUserService])],l)},"./libs/com-example-test210500/src/lib/com-example-test210500.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ComExampleTest210500Module:()=>Y});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),a=n("./libs/com-example-test210500/src/lib/i18n/localized-strings.json"),l=n("./libs/com-example-test210500/src/lib/view-components/label/label-registration.module.ts"),c=n("./libs/com-example-test210500/src/lib/view-components/lmame/lmame-registration.module.ts"),d=n("./libs/com-example-test210500/src/lib/view-components/star-rating/star-rating-registration.module.ts"),u=n("./libs/com-example-test210500/src/lib/view-components/star-rating-field/star-rating-field-registration.module.ts"),p=n("./libs/com-example-test210500/src/lib/actions/notification/index.ts"),h=n("./libs/com-example-test210500/src/lib/actions/get-user-information/index.ts"),m=n("./libs/com-example-test210500/src/lib/actions/generate-guid/index.ts"),f=n("./libs/com-example-test210500/src/lib/actions/matrix/index.ts"),g=n("./libs/com-example-test210500/src/lib/view-components/get-data-example/get-data-example-registration.module.ts"),v=n("./libs/com-example-test210500/src/lib/view-components/youtube-player/youtube-player-registration.module.ts"),y=n("./libs/com-example-test210500/src/lib/view-components/google-maps-component/google-maps-component-registration.module.ts"),b=n("./libs/com-example-test210500/src/lib/view-components/list-icons/list-icons-registration.module.ts"),x=n("./libs/com-example-test210500/src/lib/view-components/bar-chart-component/bar-chart-component-registration.module.ts"),w=n("./libs/com-example-test210500/src/lib/view-components/user-preferences/user-preferences-registration.module.ts"),C=n("./libs/com-example-test210500/src/lib/view-components/generate-password/generate-password-registration.module.ts"),_=n("./libs/com-example-test210500/src/lib/view-components/call-process/call-process-registration.module.ts"),S=n("./libs/com-example-test210500/src/lib/actions/confirmation/index.ts"),I=n("./libs/com-example-test210500/src/lib/actions/fruit-picker/index.ts"),A=n("./libs/com-example-test210500/src/lib/view-components/display-gradient/display-gradient-registration.module.ts"),E=n("./libs/com-example-test210500/src/lib/view-components/floating-panel/floating-panel-registration.module.ts"),D=n("./libs/com-example-test210500/src/lib/view-components/test-debug-component/test-debug-component-registration.module.ts"),T=n("./libs/com-example-test210500/src/lib/view-components/code-viewer/code-viewer-registration.module.ts"),R=n("./libs/com-example-test210500/src/lib/view-components/iframe/iframe-registration.module.ts"),M=n("./libs/com-example-test210500/src/lib/actions/confirmation-ootb/index.ts"),O=n("./libs/com-example-test210500/src/lib/view-components/admin-preferences/admin-preferences-registration.module.ts"),P=n("./libs/com-example-test210500/src/lib/view-components/captcha/captcha-registration.module.ts"),F=n("./libs/com-example-test210500/src/lib/view-components/qr-code-generator/qr-code-generator-registration.module.ts"),k=n("./libs/com-example-test210500/src/lib/view-components/webcam/webcam-registration.module.ts"),N=n("./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/qr-code-scanner-registration.module.ts"),j=n("./libs/com-example-test210500/src/lib/view-components/wizard/wizard-registration.module.ts"),L=n("./libs/com-example-test210500/src/lib/view-components/lifecycle/lifecycle-registration.module.ts"),V=n("./libs/com-example-test210500/src/lib/view-components/access-grid/access-grid-registration.module.ts"),B=n("./libs/com-example-test210500/src/lib/view-components/custom-grid/custom-grid-registration.module.ts"),G=n("./libs/com-example-test210500/src/lib/view-components/call-command/call-command-registration.module.ts"),z=n("./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/custom-datapagequery-registration.module.ts"),$=n("./libs/com-example-test210500/src/lib/view-components/digital-signature/digital-signature-registration.module.ts"),U=n("./libs/com-example-test210500/src/lib/global-load/global-load.module.ts"),H=n("./libs/com-example-test210500/src/lib/view-components/open-blade/open-blade-registration.module.ts"),X=n("./libs/com-example-test210500/src/lib/view-components/image-click/image-click-registration.module.ts"),W=n("./libs/com-example-test210500/src/lib/view-components/delay-registration/delay-registration-registration.module.ts"),q=n("./libs/com-example-test210500/src/lib/com-example-test210500-initializer.service.ts");let Y=class{constructor(e,t,n){this.rxLocalizationService=e,this.comExampleTest210500Initializer=t,this.rxApplicationRegistryService=n,this.rxLocalizationService.setDefaultApplicationStrings(a),this.rxApplicationRegistryService.register("com.example.test210500",this.comExampleTest210500Initializer)}};Y.ctorParameters=()=>[{type:s.RxLocalizationService},{type:q.ComExampleTest210500Initializer},{type:s.RxApplicationRegistryService}],Y=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,l.LabelRegistrationModule,c.LmameRegistrationModule,d.StarRatingRegistrationModule,u.StarRatingFieldRegistrationModule,g.GetDataExampleRegistrationModule,v.YoutubePlayerRegistrationModule,y.GoogleMapsComponentRegistrationModule,b.ListIconsRegistrationModule,x.BarChartComponentRegistrationModule,w.UserPreferencesRegistrationModule,C.GeneratePasswordRegistrationModule,_.CallProcessRegistrationModule,A.DisplayGradientRegistrationModule,E.FloatingPanelRegistrationModule,D.TestDebugComponentRegistrationModule,T.CodeViewerRegistrationModule,R.IframeRegistrationModule,P.CaptchaRegistrationModule,F.QrCodeGeneratorRegistrationModule,k.WebcamRegistrationModule,N.QrCodeScannerRegistrationModule,j.WizardRegistrationModule,L.LifecycleRegistrationModule,V.AccessGridRegistrationModule,B.CustomGridRegistrationModule,G.CallCommandRegistrationModule,z.CustomDatapagequeryRegistrationModule,$.DigitalSignatureRegistrationModule,H.OpenBladeRegistrationModule,X.ImageClickRegistrationModule,W.DelayRegistrationRegistrationModule,h.GetUserInformationActionModule,p.NotificationActionModule,m.GenerateGuidActionModule,f.MatrixActionModule,S.ConfirmationActionModule,I.FruitPickerActionModule,M.ConfirmationOotbActionModule,O.AdminPreferencesRegistrationModule,U.ComExampleTest210500GlobalLoadModule],providers:[q.ComExampleTest210500Initializer]}),(0,i.__metadata)("design:paramtypes",[s.RxLocalizationService,q.ComExampleTest210500Initializer,s.RxApplicationRegistryService])],Y)},"./libs/com-example-test210500/src/lib/global-load/global-load.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ComExampleTest210500GlobalLoadModule:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./libs/com-example-test210500/src/lib/services/dynamic-service-loader.service.ts"),s=n("./libs/com-example-test210500/src/lib/services/get-asset-path.service.ts");let a=class{constructor(e,t){this.dynamicScriptLoaderServiceService=e,this.getAssetPathService=t;const n=t.getAssetRootPath("com.example.test210500");console.log("hello world ComExampleTest210500GlobalLoadModule!"),e.loadScriptByUrl(n+"scripts/alert-me3.js","alert-me3-js").then(e=>{alertMe3()})}};a.ctorParameters=()=>[{type:r.DynamicScriptLoaderServiceService},{type:s.GetAssetPathService}],a=(0,i.__decorate)([(0,o.NgModule)(),(0,i.__metadata)("design:paramtypes",[r.DynamicScriptLoaderServiceService,s.GetAssetPathService])],a)},"./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GradientComponent:()=>p});var i,o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.component.html"),s=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.component.scss"),a=n("./node_modules/@angular/core/fesm2015/core.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),c=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.types.ts"),d=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.service.ts"),u=n("./node_modules/@angular/forms/fesm2015/forms.js");let p=i=class extends l.ValueAccessor{constructor(e){super(),this.gradientService=e}get gradientLeftValue(){return this.gradientService.extractGradientInformation(c.GRADIENT_COMPONENT_OPTIONS.sides.left,this.gradientValue)}set gradientLeftValue(e){e!==this.gradientService.extractGradientInformation(c.GRADIENT_COMPONENT_OPTIONS.sides.left,this.value)&&(this.value=e+"|"+this.gradientService.extractGradientInformation(c.GRADIENT_COMPONENT_OPTIONS.sides.right,this.value))}get gradientRightValue(){return this.gradientService.extractGradientInformation(c.GRADIENT_COMPONENT_OPTIONS.sides.right,this.gradientValue)}set gradientRightValue(e){e!==this.gradientService.extractGradientInformation(c.GRADIENT_COMPONENT_OPTIONS.sides.right,this.value)&&(this.value=this.gradientService.extractGradientInformation(c.GRADIENT_COMPONENT_OPTIONS.sides.left,this.value)+"|"+e)}onWriteValue(e){this.gradientValue=e||c.GRADIENT_COMPONENT_OPTIONS.defaultValues.left+"|"+c.GRADIENT_COMPONENT_OPTIONS.defaultValues.right,this.gradientService.drawGradient(this.gradientDivElement,this.gradientLeftValue,this.gradientRightValue)}ngAfterViewInit(){this.gradientService.drawGradient(this.gradientDivElement,this.gradientLeftValue,this.gradientRightValue),this.options.tooltip&&setTimeout(()=>{this.tooltip={content:this.options.tooltip.content,popoverMode:this.options.tooltip.popoverMode,placement:this.options.tooltip.placement,iconName:this.options.tooltip.iconName,maxWidth:300}})}};p.ctorParameters=()=>[{type:d.GradientService}],p.propDecorators={gradientDivElement:[{type:a.ViewChild,args:["gradientDivElement",{static:!1}]}],options:[{type:a.Input}]},p=i=(0,o.__decorate)([(0,a.Component)({selector:"com-example-test210500-com-example-test210500-gradient",template:r.default,providers:[{provide:u.NG_VALUE_ACCESSOR,useExisting:i,multi:!0}],styles:[s.default]}),(0,o.__metadata)("design:paramtypes",[d.GradientService])],p)},"./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GradientModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.component.ts"),s=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.service.ts"),a=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),l=n("./node_modules/@angular/forms/fesm2015/forms.js");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({declarations:[r.GradientComponent],entryComponents:[r.GradientComponent],exports:[r.GradientComponent],providers:[s.GradientService],imports:[a.AdaptRxLabelModule,a.AdaptColorPickerModule,l.FormsModule]})],c)},"./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GradientService:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.types.ts"),s=n("lodash");let a=class{extractGradientInformation(e,t){let n=r.GRADIENT_COMPONENT_OPTIONS.defaultValues[e];return t&&(e===r.GRADIENT_COMPONENT_OPTIONS.sides.left&&(n=(0,s.first)(t.split("|"))),e===r.GRADIENT_COMPONENT_OPTIONS.sides.right&&(n=(0,s.last)(t.split("|")))),n}drawGradient(e,t,n){e&&(e.nativeElement.style["background-image"]=`linear-gradient(to right, ${t} , ${n})`)}};a=(0,i.__decorate)([(0,o.Injectable)()],a)},"./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GRADIENT_COMPONENT_OPTIONS:()=>i});const i={defaultValues:{left:"#000000",right:"#FFFFFF"},sides:{left:"left",right:"right"}}},"./libs/com-example-test210500/src/lib/inspectors/log-parameters/log-parameters.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LogParametersComponent:()=>p});var i,o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/inspectors/log-parameters/log-parameters.component.html"),s=n("./libs/com-example-test210500/src/lib/inspectors/log-parameters/log-parameters.component.scss"),a=n("./node_modules/@angular/core/fesm2015/core.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),c=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),d=n("./node_modules/@angular/forms/fesm2015/forms.js"),u=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");let p=i=class extends l.ValueAccessor{constructor(e){super(),this.rxViewActionService=e,this.inputParametersString=""}ngOnInit(){this.options.inputParameterAttributes$.subscribe(e=>{this.inputParameters=e,this.inputParametersString=JSON.stringify(e,void 0,2)})}seeDetails(){const e={name:"rxOpenViewAction",parameters:{},guid:"NA"},t={viewDefinitionName:"com.example.test210500:VC Code Viewer Modal",viewParams:{code:this.inputParametersString,language:"json"},presentation:{type:c.OpenViewActionType.CenteredModal,modalSize:c.OpenViewActionModalSize.Small,title:"Input Parameters"}};e.parameters=t,this.rxViewActionService.execute(e.name,e.parameters).subscribe()}};p.ctorParameters=()=>[{type:c.RxViewActionService}],p.propDecorators={options:[{type:a.Input}]},p=i=(0,o.__decorate)([(0,a.Component)({selector:"com-example-test210500-com-example-test210500-log-parameters",template:r.default,providers:[{provide:d.NG_VALUE_ACCESSOR,useExisting:i,multi:!0},u.CodeViewerService],styles:[s.default]}),(0,o.__metadata)("design:paramtypes",[c.RxViewActionService])],p)},"./libs/com-example-test210500/src/lib/inspectors/log-parameters/log-parameters.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LogParametersModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./libs/com-example-test210500/src/lib/inspectors/log-parameters/log-parameters.component.ts"),s=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),a=n("./node_modules/@angular/common/fesm2015/common.js");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({declarations:[r.LogParametersComponent],entryComponents:[r.LogParametersComponent],exports:[r.LogParametersComponent],imports:[a.CommonModule,s.AdaptRxLabelModule,s.AdaptButtonModule,s.AdaptCodeViewerModule]})],l)},"./libs/com-example-test210500/src/lib/inspectors/slider/slider.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{SliderComponent:()=>c});var i,o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/inspectors/slider/slider.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),l=n("./node_modules/@angular/forms/fesm2015/forms.js");let c=i=class extends a.ValueAccessor{constructor(){super(...arguments),this.minValue=0,this.maxValue=100}ngAfterViewInit(){this.options.tooltip&&setTimeout(()=>{this.tooltip={content:this.options.tooltip.content,popoverMode:this.options.tooltip.popoverMode,placement:this.options.tooltip.placement,iconName:this.options.tooltip.iconName,maxWidth:300}})}};c.propDecorators={options:[{type:s.Input}]},c=i=(0,o.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-slider",template:r.default,providers:[{provide:l.NG_VALUE_ACCESSOR,useExisting:i,multi:!0}]})],c)},"./libs/com-example-test210500/src/lib/inspectors/slider/slider.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{SliderModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./libs/com-example-test210500/src/lib/inspectors/slider/slider.component.ts"),s=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),a=n("./node_modules/@angular/forms/fesm2015/forms.js");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({declarations:[r.SliderComponent],entryComponents:[r.SliderComponent],exports:[r.SliderComponent],imports:[s.AdaptRxLabelModule,a.FormsModule,s.AdaptSliderModule]})],l)},"./libs/com-example-test210500/src/lib/inspectors/step-editor/dialog-component/step-editor-dialog.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{StepEditorDialogComponent:()=>m});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/inspectors/step-editor/dialog-component/step-editor-dialog.component.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/inspectors/step-editor/dialog-component/step-editor-dialog.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),l=n("./libs/com-example-test210500/src/lib/inspectors/step-editor/dialog-component/step-editor-dialog.types.ts"),c=n("./libs/com-example-test210500/src/lib/inspectors/step-editor/dialog-component/step-editor-dialog.service.ts"),d=n("lodash"),u=n("./node_modules/@angular/cdk/fesm2015/drag-drop.js"),p=n("rxjs"),h=n("./node_modules/rxjs/_esm2015/operators/index.js");let m=class{constructor(e,t){this.activeModalRef=e,this.stepEditorDialogService=t,this.stepList=[],this.iconList=[],this.isLoading=!0,this.isDirty=new p.BehaviorSubject(!1),this.isSaveButtonDisabled$=this.isDirty.asObservable().pipe((0,h.map)(e=>!e));const n=this.activeModalRef?this.activeModalRef.getData().selectedStep:null,i=this.activeModalRef?this.activeModalRef.getData().stepList:[];(0,d.forEach)(i,(e,t)=>{const i=Object.assign({isOpen:!1,shortIcon:""},e);n&&e===n?i.isOpen=!0:n||(i.isOpen=0===t),i.shortIcon=i.icon?(0,d.last)(i.icon.split(l.STEP_EDITOR_DIALOG_ACTION.adaptIconPrefix)):"",this.stepList.push(i)}),this.iconList=this.stepEditorDialogService.getAllAvailableIcons()||[]}ngAfterViewInit(){setTimeout(()=>{this.isLoading=!1})}saveValues(){this.activeModalRef.close((0,d.map)(this.stepList,e=>(0,d.omit)(e,["isOpen","shortIcon"])))}cancel(){this.activeModalRef.dismiss(l.STEP_EDITOR_DIALOG_ACTION.cancelReasons.onClick)}onIconSelected(e,t){this.stepList[t].shortIcon=e.options[0],this.stepList[t].icon=l.STEP_EDITOR_DIALOG_ACTION.adaptIconPrefix+this.stepList[t].shortIcon}moveStep(e,t){(0,u.moveItemInArray)(this.stepList,e,t),this.markAsDirty()}removeStep(e){(0,d.pull)(this.stepList,e),this.markAsDirty()}onSelectedStepListDrop(e){this.moveStep(e.previousIndex,e.currentIndex),this.markAsDirty()}addStep(){(0,d.forEach)(this.stepList,e=>{e.isOpen=!1}),this.stepList.push({icon:l.STEP_EDITOR_DIALOG_ACTION.adaptIconPrefix+l.STEP_EDITOR_DIALOG_ACTION.defaultIcon,shortIcon:l.STEP_EDITOR_DIALOG_ACTION.defaultIcon,label:"New step",shortLabel:"",isOpen:!0}),this.markAsDirty()}markAsDirty(){this.isDirty.next(!0)}onValueChanged(){this.markAsDirty()}};m.ctorParameters=()=>[{type:a.ActiveModalRef,decorators:[{type:s.Optional}]},{type:c.StepEditorDialogService}],m=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-step-editor-component",template:r.default,providers:[c.StepEditorDialogService],styles:[o.default]}),(0,i.__metadata)("design:paramtypes",[a.ActiveModalRef,c.StepEditorDialogService])],m)},"./libs/com-example-test210500/src/lib/inspectors/step-editor/dialog-component/step-editor-dialog.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{StepEditorDialogService:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("lodash"),s=n("./libs/com-example-test210500/src/lib/inspectors/step-editor/dialog-component/step-editor-dialog.types.ts");let a=class{constructor(){this.availableIcons=[]}getAllAvailableIcons(){return(0,r.forEach)(document.styleSheets,e=>{if(e.href&&e.href.includes("/styles.")||(0,o.isDevMode)()){const t=e.cssRules;if((0,r.forEach)(t,e=>{if((0,r.startsWith)(e.selectorText,".d-icon-")){const t=e.selectorText.split(".d-icon-")[1];this.availableIcons.push((0,r.first)(t.split(":")))}}),!(0,o.isDevMode)())return}}),this.availableIcons=(0,r.sortBy)(this.availableIcons),this.availableIcons.unshift(s.STEP_EDITOR_DIALOG_ACTION.defaultIcon),this.availableIcons}};a=(0,i.__decorate)([(0,o.Injectable)()],a)},"./libs/com-example-test210500/src/lib/inspectors/step-editor/dialog-component/step-editor-dialog.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{STEP_EDITOR_DIALOG_ACTION:()=>i});const i={cancelReasons:{onClick:"onClick",onCloseIcon:0},defaultIcon:"None...",adaptIconPrefix:"d-icon-"}},"./libs/com-example-test210500/src/lib/inspectors/step-editor/step-editor.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{StepEditorComponent:()=>p});var i,o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/inspectors/step-editor/step-editor.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),l=n("./node_modules/@angular/forms/fesm2015/forms.js"),c=n("lodash"),d=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),u=n("./libs/com-example-test210500/src/lib/inspectors/step-editor/dialog-component/step-editor-dialog.component.ts");let p=i=class extends a.ValueAccessor{constructor(e){super(),this.adaptModalService=e,this.numberOfSteps=0,this.stepList=[]}onWriteValue(e){this.stepList=e}openStepEditor(e){const t={isDialog:!0,hideBackdrop:!1,blockKeyboard:!1,content:u.StepEditorDialogComponent,title:"Wizard step editor",data:{selectedStep:e,stepList:this.stepList}};this.adaptModalService.open(t).then(e=>{this.stepList=e,this.value=e}).catch(()=>{})}focus(e){(null==e?void 0:e.actionIndex)>=0?this.openStepEditor(this.stepList[e.actionIndex]):this.openStepEditor()}editStep(e){this.openStepEditor(e)}removeStep(e){this.value=(0,c.without)(this.value,e)}};p.ctorParameters=()=>[{type:d.AdaptModalService}],p.propDecorators={options:[{type:s.Input}]},p=i=(0,o.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-stepEditor",template:r.default,providers:[{provide:l.NG_VALUE_ACCESSOR,useExisting:i,multi:!0}]}),(0,o.__metadata)("design:paramtypes",[d.AdaptModalService])],p)},"./libs/com-example-test210500/src/lib/inspectors/step-editor/step-editor.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{StepEditorModule:()=>h});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./libs/com-example-test210500/src/lib/inspectors/step-editor/step-editor.component.ts"),s=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),a=n("./node_modules/@angular/forms/fesm2015/forms.js"),l=n("./libs/com-example-test210500/src/lib/inspectors/step-editor/dialog-component/step-editor-dialog.component.ts"),c=n("./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js"),d=n("./libs/com-example-test210500/src/lib/inspectors/step-editor/dialog-component/step-editor-dialog.service.ts"),u=n("./node_modules/@angular/common/fesm2015/common.js"),p=n("./node_modules/@angular/cdk/fesm2015/drag-drop.js");let h=class{};h=(0,i.__decorate)([(0,o.NgModule)({declarations:[r.StepEditorComponent,l.StepEditorDialogComponent],entryComponents:[r.StepEditorComponent,l.StepEditorDialogComponent],exports:[r.StepEditorComponent,l.StepEditorDialogComponent],providers:[d.StepEditorDialogService],imports:[s.AdaptRxLabelModule,a.FormsModule,s.AdaptButtonModule,s.AdaptRxTextfieldModule,c.TranslateModule,s.AdaptRxSelectModule,u.CommonModule,s.AdaptAccordionModule,p.DragDropModule,s.AdaptEmptyStateModule,s.AdaptIconModule]})],h)},"./libs/com-example-test210500/src/lib/services/dynamic-service-loader.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ScriptStore:()=>s,DynamicScriptLoaderServiceService:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./libs/com-example-test210500/src/lib/services/get-asset-path.service.ts");const s=[{name:"com.example.test210500.lma3",src:"scripts/alert-me3.js"},{name:"com.example.test210500.p5",src:"scripts/p5.js"},{name:"com.example.test210500.matrix",src:"scripts/matrix.js"}];let a=class{constructor(e){this.getAssetPathService=e,this.scripts={},this.rootAssetPath="",this.useCacheBuster=!1,this.rootAssetPath=this.getAssetPathService.getAssetRootPath("com.example.test210500"),s.forEach(e=>{this.scripts[e.name]={loaded:!1,src:this.rootAssetPath+e.src}})}setCacheBuster(e){this.useCacheBuster=e}load(...e){const t=[];return e.forEach(e=>t.push(this.loadScript(e))),Promise.all(t)}loadStylesheetByUrl(e,t){return document.getElementById(t)?new Promise((e,t)=>e("The stylesheet is already Loaded")):new Promise((n,i)=>{const o=document.createElement("link"),r=this.useCacheBuster?"?v="+Date.now():"";o.id=t,o.href=e+r,o.rel="stylesheet",o.readyState?o.onreadystatechange=()=>{"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,n("stylesheet Loaded."))}:o.onload=()=>{n("stylesheet Loaded.")},o.onerror=e=>n("Error loading the stylesheet."),document.getElementsByTagName("head")[0].appendChild(o)})}loadScriptByUrl(e,t){return document.getElementById(t)?new Promise((e,t)=>e("The script is already Loaded")):new Promise((n,i)=>{const o=document.createElement("script"),r=this.useCacheBuster?"?v="+Date.now():"";o.id=t,o.src=e+r,o.readyState?o.onreadystatechange=()=>{"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,n("Script Loaded."))}:o.onload=()=>{n("Script Loaded.")},o.onerror=e=>n("Error loading the script."),document.getElementsByTagName("head")[0].appendChild(o)})}loadScript(e){return new Promise((t,n)=>{if(this.scripts[e].loaded)t({script:e,loaded:!0,status:"Already Loaded"});else{const n=this.useCacheBuster?"?v="+Date.now():"";let i=document.createElement("script");i.type="text/javascript",i.src=this.scripts[e].src+n,i.readyState?i.onreadystatechange=()=>{"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,this.scripts[e].loaded=!0,t({script:e,loaded:!0,status:"Loaded"}))}:i.onload=()=>{this.scripts[e].loaded=!0,t({script:e,loaded:!0,status:"Loaded"})},i.onerror=n=>t({script:e,loaded:!1,status:"Loaded"}),document.getElementsByTagName("head")[0].appendChild(i)}})}};a.ctorParameters=()=>[{type:r.GetAssetPathService}],a=(0,i.__decorate)([(0,o.Injectable)(),(0,i.__metadata)("design:paramtypes",[r.GetAssetPathService])],a)},"./libs/com-example-test210500/src/lib/services/get-asset-path.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GetAssetPathService:()=>s});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("lodash");let s=class{getAssetRootPath(e){const t=(0,r.last)(e.split("."));let n=`/${e}/scripts/assets/resources/`;return(0,o.isDevMode)()&&(n=`/helix/assets/libs/${t}/resources/`),n}};s=(0,i.__decorate)([(0,o.Injectable)()],s)},"./libs/com-example-test210500/src/lib/services/get-component.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GetComponentService:()=>r});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js");let r=class{getComponentByNativeElement(e){function t(e){for(;Array.isArray(e);)e=e[0];return e}function n(e){const n=function(e){return e.__ngContext__||null}(e);if(n&&Array.isArray(n)){const i=n;let o;return o=function(e,n){const i=e[1];for(let o=20;o<i.bindingStartIndex;o++)if(t(e[o])===n)return o;return-1}(i,e),-1===o?null:{nodeIndex:o,lView:i}}}return function(e){const t=n(e);return null===t?null:(void 0===t.component&&(t.component=function(e,t){const n=t[1].data[e];let i=n.directiveStart;return 2&n.flags?t[i]:null}(t.nodeIndex,t.lView)),t.component)}(e)}};r=(0,i.__decorate)([(0,o.Injectable)()],r)},"./libs/com-example-test210500/src/lib/view-components/access-grid/access-grid-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccessGridRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/access-grid/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/access-grid/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500AccessGrid",name:"Accessing a grid object",icon:"left-snap_to_grid",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.AccessGridComponent),properties:[{name:"rowIndex",enableExpressionEvaluation:!0},{name:"gridCssClassTag",enableExpressionEvaluation:!0},{name:"gridViewComponent",enableExpressionEvaluation:!0}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.AccessGridDesignComponent),designComponentModel:a.AccessGridDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.AccessGridDesignModule,s.AccessGridModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/access-grid/design/access-grid-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccessGridDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/access-grid/design/access-grid-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/access-grid/design/access-grid-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/access-grid/design/access-grid-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-access-grid-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/access-grid/design/access-grid-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccessGridDesignModel:()=>c});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),s=n("rxjs"),a=n("./node_modules/rxjs/_esm2015/operators/index.js");const l={gridViewComponent:null,rowIndex:"",gridCssClassTag:""};class c extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t;const n=this.sandbox.descriptor.name;this.sandbox.setCommonDataDictionary(this.prepareDataDictionary(this.sandbox.descriptor.name)),this.sandbox.setSettablePropertiesDataDictionary(n,this.prepareSetProperties()),t.updateInspectorConfig(this.setInspectorConfig(l)),(0,s.combineLatest)([this.sandbox.componentProperties$]).pipe((0,a.map)(([e])=>this.validate(this.sandbox,e))).subscribe(e=>{this.sandbox.setValidationIssues(e)})}static getInitialProperties(e){return Object.assign({gridViewComponent:null,rowIndex:"",gridCssClassTag:""},e)}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"gridCssClassTag",component:o.ExpressionFormControlComponent,options:{label:"Grid css class identifier",tooltip:new r.Tooltip("As the grid object does not expose the necessary apis to<br>\n                          access the data or object to select a row for example<br>\n                          we add a specific class in the grid we want to access to<br>\n                          and we will search for it in the DOM.<br>\n                          Once the class is added to the grid in view designer, refer<br>\n                          the class name in this Input Parameter."),dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}},{name:"gridViewComponent",component:o.ExpressionFormControlComponent,options:{label:"Grid Object",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}}]}]}}prepareSetProperties(){return[{label:"Row index",expression:this.getExpressionForProperty("rowIndex")}]}prepareDataDictionary(e){return{label:e,expression:this.getExpressionForProperty("api"),children:[{label:"Grid Data",expression:this.getExpressionForProperty("gridData")}]}}validate(e,t){let n=[];return t.gridCssClassTag||n.push(e.createError("The Grid css class identifier is required.","gridCssClassTag")),t.gridViewComponent||n.push(e.createError("The Grid Object is required.","gridViewComponent")),n}}},"./libs/com-example-test210500/src/lib/view-components/access-grid/design/access-grid-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccessGridDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/access-grid/design/access-grid-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.AccessGridDesignComponent],entryComponents:[a.AccessGridDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/access-grid/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/access-grid/design/access-grid-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/access-grid/design/access-grid-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/access-grid/design/access-grid-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/access-grid/runtime/access-grid.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccessGridComponent:()=>u});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/access-grid/runtime/access-grid.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),a=n("lodash"),l=n("./libs/com-example-test210500/src/lib/services/get-component.service.ts"),c=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),d=n("./node_modules/rxjs/_esm2015/operators/index.js");let u=class extends s.BaseViewComponent{constructor(e,t){super(),this.getComponentService=e,this.rxLogService=t,this.currentRowsJson="",this.currentRows=[],this.api={setProperty:this.setProperty.bind(this)}}ngOnInit(){this.config.pipe((0,d.takeUntil)(this.destroyed$)).subscribe(e=>{this.componentData=e,this.notifyPropertyChanged("api",this.api)})}detectGridComponent(e){const t=document.querySelectorAll("rx-record-grid");(0,a.forEach)(Array.from(t),t=>{const n=this.getComponentService.getComponentByNativeElement(t);n.customCssClasses.includes(e)&&(this.recordGridComponent=n)}),this.recordGridComponent?this.recordGridComponent.adaptTable.tableService.valueSource$.subscribe(e=>{this.currentRows=e,this.currentRowsJson=JSON.stringify(this.currentRows,void 0,2),this.notifyPropertyChanged("gridData",this.currentRowsJson)}):setTimeout(()=>{this.detectGridComponent(e)},100)}ngAfterViewInit(){this.detectGridComponent(this.componentData.gridCssClassTag)}selectRow(e){const t=Number(e);if(t<this.currentRows.length){const e=this.recordGridComponent.adaptTable.getRowSelectionArray();e&&this.recordGridComponent.adaptTable.removeFromRowSelection(e),this.recordGridComponent.adaptTable.addToRowSelection([this.currentRows[t]])}}setProperty(e,t){if("rowIndex"===e)this.selectRow(t);else this.rxLogService.warning(`Standalone Field: property ${e} is not settable, value was ${t}.`)}};u.ctorParameters=()=>[{type:l.GetComponentService},{type:c.RxLogService}],u=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-access-grid",template:o.default}),(0,i.__metadata)("design:paramtypes",[l.GetComponentService,c.RxLogService])],u)},"./libs/com-example-test210500/src/lib/view-components/access-grid/runtime/access-grid.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccessGridModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/access-grid/runtime/access-grid.component.ts"),a=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),l=n("./libs/com-example-test210500/src/lib/services/get-component.service.ts");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.AdaptCodeViewerModule],exports:[s.AccessGridComponent],providers:[l.GetComponentService],declarations:[s.AccessGridComponent],entryComponents:[s.AccessGridComponent]})],c)},"./libs/com-example-test210500/src/lib/view-components/access-grid/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/access-grid/runtime/access-grid.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/access-grid/runtime/access-grid.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/admin-preferences/admin-preferences-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdminPreferencesRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/admin-preferences/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/admin-preferences/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500AdminPreferences",name:"Admin Preferences",icon:"adjust_settings",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.AdminPreferencesComponent),properties:[],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.AdminPreferencesDesignComponent),designComponentModel:a.AdminPreferencesDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.AdminPreferencesDesignModule,s.AdminPreferencesModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/admin-preferences/design/admin-preferences-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdminPreferencesDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/admin-preferences/design/admin-preferences-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/admin-preferences/design/admin-preferences-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/admin-preferences/design/admin-preferences-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-admin-preferences-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/admin-preferences/design/admin-preferences-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdminPreferencesDesignModel:()=>r});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js");const o={};class r extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(o))}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"General",controls:[]}]}}}},"./libs/com-example-test210500/src/lib/view-components/admin-preferences/design/admin-preferences-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdminPreferencesDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/admin-preferences/design/admin-preferences-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.AdminPreferencesDesignComponent],entryComponents:[a.AdminPreferencesDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/admin-preferences/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/admin-preferences/design/admin-preferences-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/admin-preferences/design/admin-preferences-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/admin-preferences/design/admin-preferences-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/admin-preferences/runtime/admin-preferences.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdminPreferencesComponent:()=>u});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/admin-preferences/runtime/admin-preferences.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/admin-preferences/runtime/admin-preferences.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),c=n("./libs/com-example-test210500/src/lib/view-components/admin-preferences/runtime/admin-preferences.types.ts"),d=n("lodash");let u=class extends a.BaseViewComponent{constructor(e){super(),this.rxAdminSettingsService=e,this.adminComponentDataString="",this.hasData=!1,this.isFetchInProgress=!0,this.tooltip=new l.Tooltip('We display here the bookWorm shared settings defined in the bundle "Configurations" tab.'),this.adminComponentData=[]}getCurrentData(){this.isFetchInProgress=!0,this.rxAdminSettingsService.getComponentSettings(c.ADMIN_PREFERENCES_OPTIONS.componentName).subscribe(e=>{this.adminComponentDataString=JSON.stringify(e,void 0,2),this.adminComponentData=e.values||[],this.hasData=this.adminComponentData.length>0,this.isFetchInProgress=!1})}createNewData(){const e=[{componentName:c.ADMIN_PREFERENCES_OPTIONS.componentName,settingName:c.ADMIN_PREFERENCES_OPTIONS.settingPreferredAuthorName,settingValue:"Frank Herbert",assigneeGroupPermission:null,ownerKeyValue1:null,settingId:null},{componentName:c.ADMIN_PREFERENCES_OPTIONS.componentName,settingName:c.ADMIN_PREFERENCES_OPTIONS.settingPreferredBookName,settingValue:"Dune",assigneeGroupPermission:null,ownerKeyValue1:null,settingId:null}];this.isFetchInProgress=!0,this.rxAdminSettingsService.createComponentSettings(c.ADMIN_PREFERENCES_OPTIONS.componentName,e).subscribe(()=>{this.isFetchInProgress=!1,this.getCurrentData()})}updateData(){if(this.hasData){let e;this.isFetchInProgress=!0,(0,d.forEach)(this.adminComponentData,t=>{e=t.ownerKeyValue1,t.settingValue=Date.now()+" "+c.ADMIN_PREFERENCES_OPTIONS.defaultValues[t.settingName]}),this.rxAdminSettingsService.updateComponentSettings(`${c.ADMIN_PREFERENCES_OPTIONS.componentName}/${e}`,this.adminComponentData).subscribe(()=>{this.getCurrentData()})}}deleteData(){if(this.hasData){let e=(0,d.first)(this.adminComponentData).ownerKeyValue1;this.isFetchInProgress=!0,this.rxAdminSettingsService.deleteComponentSettings(`${c.ADMIN_PREFERENCES_OPTIONS.componentName}/${e}`).subscribe(()=>{this.getCurrentData()})}}ngAfterViewInit(){this.getCurrentData()}};u.ctorParameters=()=>[{type:l.RxAdminSettingsService}],u=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-admin-preferences",template:r.default,styles:[o.default]}),(0,i.__metadata)("design:paramtypes",[l.RxAdminSettingsService])],u)},"./libs/com-example-test210500/src/lib/view-components/admin-preferences/runtime/admin-preferences.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdminPreferencesModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/admin-preferences/runtime/admin-preferences.component.ts"),a=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.AdaptCodeViewerModule,a.AdaptButtonModule,a.AdaptRxLabelModule],exports:[s.AdminPreferencesComponent],declarations:[s.AdminPreferencesComponent],entryComponents:[s.AdminPreferencesComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/admin-preferences/runtime/admin-preferences.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ADMIN_PREFERENCES_OPTIONS:()=>i});const i={componentName:"bookWorm",settingPreferredAuthorName:"preferred author",settingPreferredBookName:"preferred Book",defaultValues:{"preferred author":"Frank Herbert","preferred Book":"Dune"}}},"./libs/com-example-test210500/src/lib/view-components/admin-preferences/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/admin-preferences/runtime/admin-preferences.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/admin-preferences/runtime/admin-preferences.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/bar-chart-component/bar-chart-component-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{BarChartComponentRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/bar-chart-component/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/bar-chart-component/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500BarChartComponent",name:"Bar Chart",icon:"chart_bar",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.BarChartComponentComponent),properties:[],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.BarChartComponentDesignComponent),designComponentModel:a.BarChartComponentDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.BarChartComponentDesignModule,s.BarChartComponentModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/bar-chart-component/design/bar-chart-component-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{BarChartComponentDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/bar-chart-component/design/bar-chart-component-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/bar-chart-component/design/bar-chart-component-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/bar-chart-component/design/bar-chart-component-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-bar-chart-component-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/bar-chart-component/design/bar-chart-component-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{BarChartComponentDesignModel:()=>r});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js");const o={};class r extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(o))}setInspectorConfig(e){return{inspectorSectionConfigs:[]}}}},"./libs/com-example-test210500/src/lib/view-components/bar-chart-component/design/bar-chart-component-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{BarChartComponentDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/bar-chart-component/design/bar-chart-component-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.BarChartComponentDesignComponent],entryComponents:[a.BarChartComponentDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/bar-chart-component/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/bar-chart-component/design/bar-chart-component-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/bar-chart-component/design/bar-chart-component-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/bar-chart-component/design/bar-chart-component-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/bar-chart-component/runtime/bar-chart-component.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{BarChartComponentComponent:()=>h});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/bar-chart-component/runtime/bar-chart-component.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=n("rxjs"),a=n("lodash"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),c=n("./libs/com-example-test210500/src/lib/view-components/bar-chart-component/runtime/bar-chart-component.types.ts"),d=n("./node_modules/@bmc-ux/adapt-charts/fesm2015/bmc-ux-adapt-charts.js"),u=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),p=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js");let h=class extends l.BaseViewComponent{constructor(e){super(),this.rxNotificationService=e,this.stackedColChart=d.AdaptStackedChartType.Column,this.chartConfig=null,this.busyConfigSection={},this.defaultBusyConfig={message:"Generating the graph.",busy:null,backdrop:!0,overlayClass:"",sticky:!0,delay:0,minDuration:200,loaderType:u.LoaderType.SECTION,offsetTop:"0px"}}ngOnInit(){this.generateRandomData()}generateRandomData(){this.triggerBusyIndicator();const e=[],t=Math.floor(10*Math.random())+1,n=[];for(let i=0;i<t;i++){const e=2020+i;(0,a.forEach)(c.BAR_CHART_OPTIONS.months,t=>{n.push(t+" "+e)})}(0,a.forEach)(c.BAR_CHART_OPTIONS.series,t=>{const i={name:t,data:[]};(0,a.forEach)(n,e=>{i.data.push(Math.floor(1e3*Math.random()))}),e.push(i)}),this.chartConfig={header:{title:"Inventory"},height:500,yAxis:{title:"Amount"},xAxis:{title:"Months",categories:n},series:e},this.completeBusyIndicatorObserver()}onColumnClick(e){this.rxNotificationService.addInfoMessage(`On the month ${e.axisCategory} we had ${e.value} ${e.categoryId}.`)}waitForDataGeneration(e){this.observer=e}triggerBusyIndicator(){this.busyConfigSection=Object.assign(Object.assign({},this.defaultBusyConfig),{busy:new s.Observable(this.waitForDataGeneration.bind(this)).subscribe()})}completeBusyIndicatorObserver(){setTimeout(()=>{this.observer.next(""),this.observer.complete()})}};h.ctorParameters=()=>[{type:p.RxNotificationService}],h.propDecorators={legend:[{type:r.Input}]},h=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-bar-chart-component",template:o.default}),(0,i.__metadata)("design:paramtypes",[p.RxNotificationService])],h)},"./libs/com-example-test210500/src/lib/view-components/bar-chart-component/runtime/bar-chart-component.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{BarChartComponentModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/bar-chart-component/runtime/bar-chart-component.component.ts"),a=n("./node_modules/@bmc-ux/adapt-charts/fesm2015/bmc-ux-adapt-charts.js"),l=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.AdaptChartsModule,l.AdaptBusyModule,l.AdaptButtonModule],exports:[s.BarChartComponentComponent],declarations:[s.BarChartComponentComponent],entryComponents:[s.BarChartComponentComponent]})],c)},"./libs/com-example-test210500/src/lib/view-components/bar-chart-component/runtime/bar-chart-component.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{BAR_CHART_OPTIONS:()=>i});const i={series:["banana","apple","strawberry","cherry","avocado","pear"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},"./libs/com-example-test210500/src/lib/view-components/bar-chart-component/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/bar-chart-component/runtime/bar-chart-component.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/bar-chart-component/runtime/bar-chart-component.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/call-command/call-command-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CallCommandRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/call-command/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/call-command/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500CallCommand",name:"Call a command",icon:"left-phone_circle",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.CallCommandComponent),properties:[],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.CallCommandDesignComponent),designComponentModel:a.CallCommandDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.CallCommandDesignModule,s.CallCommandModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/call-command/design/call-command-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CallCommandDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/call-command/design/call-command-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/call-command/design/call-command-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/call-command/design/call-command-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-call-command-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/call-command/design/call-command-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CallCommandDesignModel:()=>r});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js");const o={};class r extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(o))}setInspectorConfig(e){return{inspectorSectionConfigs:[]}}}},"./libs/com-example-test210500/src/lib/view-components/call-command/design/call-command-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CallCommandDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/call-command/design/call-command-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.CallCommandDesignComponent],entryComponents:[a.CallCommandDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/call-command/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/call-command/design/call-command-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/call-command/design/call-command-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/call-command/design/call-command-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/call-command/runtime/call-command.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CallCommandComponent:()=>u});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/call-command/runtime/call-command.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=n("rxjs"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),c=n("./libs/com-example-test210500/src/lib/view-components/call-command/runtime/call-command.types.ts"),d=n("./node_modules/rxjs/_esm2015/operators/index.js");let u=class extends a.BaseViewComponent{constructor(e,t,n){super(),this.rxCurrentUserService=e,this.rxCommandFactoryService=t,this.rxNotificationService=n,this.commandResult=""}ngOnInit(){const e={inputId:this.rxCurrentUserService.get().userId,inputUserName:this.rxCurrentUserService.get().loginName};this.rxCommandFactoryService.forResourceType(c.CALL_COMMAND_OPTIONS.commandType).execute(e).pipe((0,d.catchError)(e=>(this.commandResult="Error calling the command.",this.rxNotificationService.addErrorMessage(this.commandResult),(0,s.throwError)(e)))).subscribe(e=>{this.commandResult="The generated password for "+e.userName+" is "+e.password+".",this.rxNotificationService.addSuccessMessage(this.commandResult)})}};u.ctorParameters=()=>[{type:l.RxCurrentUserService},{type:l.RxCommandFactoryService},{type:l.RxNotificationService}],u=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-call-command",template:o.default}),(0,i.__metadata)("design:paramtypes",[l.RxCurrentUserService,l.RxCommandFactoryService,l.RxNotificationService])],u)},"./libs/com-example-test210500/src/lib/view-components/call-command/runtime/call-command.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CallCommandModule:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/call-command/runtime/call-command.component.ts");let a=class{};a=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule],exports:[s.CallCommandComponent],declarations:[s.CallCommandComponent],entryComponents:[s.CallCommandComponent]})],a)},"./libs/com-example-test210500/src/lib/view-components/call-command/runtime/call-command.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CALL_COMMAND_OPTIONS:()=>i});const i={commandType:"com.example.bundle.Test210500GeneratePasswordCommand"}},"./libs/com-example-test210500/src/lib/view-components/call-command/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/call-command/runtime/call-command.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/call-command/runtime/call-command.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/call-process/call-process-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CallProcessRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/call-process/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/call-process/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500CallProcess",name:"Call a Process",icon:"atom_gear",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.CallProcessComponent),properties:[{name:"username",type:r.ViewComponentPropertyType.String}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.CallProcessDesignComponent),designComponentModel:a.CallProcessDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.CallProcessDesignModule,s.CallProcessModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/call-process/design/call-process-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CallProcessDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/call-process/design/call-process-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/call-process/design/call-process-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/call-process/design/call-process-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-call-process-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/call-process/design/call-process-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CallProcessDesignModel:()=>c});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),s=n("rxjs"),a=n("./node_modules/rxjs/_esm2015/operators/index.js");const l={username:""};class c extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(l)),this.sandbox.getComponentPropertyValue("name").subscribe(e=>{const t=e?`${this.sandbox.descriptor.name} (${e})`:this.sandbox.descriptor.name;this.sandbox.setSettablePropertiesDataDictionary(t,this.prepareSetProperties()),this.sandbox.setCommonDataDictionary(this.prepareDataDictionary(t)),this.sandbox.setBreadcrumbs(t)}),(0,s.combineLatest)([this.sandbox.componentProperties$]).pipe((0,a.map)(([e])=>this.validate(this.sandbox,e))).subscribe(e=>{this.sandbox.setValidationIssues(e)})}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"name",component:o.TextFormControlComponent,options:{label:"View Component Name",tooltip:new r.Tooltip("Enter a name to uniquely identify the Call Process Component.")}},{name:"username",component:o.ExpressionFormControlComponent,options:{label:"User Name",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}}]}]}}prepareSetProperties(){return[{label:"username",expression:this.getExpressionForProperty("username")}]}prepareDataDictionary(e){return{label:e,expression:this.getExpressionForProperty("api"),children:[{label:"Password",expression:this.getExpressionForProperty("password")}]}}validate(e,t){let n=[];return t.username||n.push(e.createError("The username is required.","username")),n}}},"./libs/com-example-test210500/src/lib/view-components/call-process/design/call-process-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CallProcessDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/call-process/design/call-process-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.CallProcessDesignComponent],entryComponents:[a.CallProcessDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/call-process/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/call-process/design/call-process-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/call-process/design/call-process-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/call-process/design/call-process-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/call-process/runtime/call-process.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CallProcessComponent:()=>p});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/call-process/runtime/call-process.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=n("rxjs"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),c=n("./libs/com-example-test210500/src/lib/view-components/call-process/runtime/call-process.types.ts"),d=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-actions.js"),u=n("./node_modules/rxjs/_esm2015/operators/index.js");let p=class extends a.BaseViewComponent{constructor(e,t,n){super(),this.rxLogService=e,this.rxNotificationService=t,this.rxLaunchProcessViewActionService=n,this.api={setProperty:this.setProperty.bind(this),refresh:this.refresh.bind(this)}}ngOnInit(){this.config.pipe((0,u.pluck)("username"),(0,u.distinctUntilChanged)(),(0,u.takeUntil)(this.destroyed$)).subscribe(e=>{this.componentData={username:e}}),this.notifyPropertyChanged("api",this.api)}callGeneratePasswordProcess(e){const t={processDefinitionName:c.CALL_PROCESS_OPTIONS.processDefinitionName,waitForProcessCompletion:!0,actionProcessInputParams:{"Input username":e}};return this.rxLaunchProcessViewActionService.execute(t)}broadcastPassword(e){this.notifyPropertyChanged("password",e),this.rxNotificationService.addInfoMessage("The new password is "+e)}refresh(){return this.componentData.username&&this.callGeneratePasswordProcess(this.componentData.username).subscribe(e=>{this.broadcastPassword(e["Output password"])}),s.EMPTY}setProperty(e,t){if("username"===e)this.componentData.username=t;else this.rxLogService.warning(`Standalone Field: property ${e} is not settable, value was ${t}.`)}};p.ctorParameters=()=>[{type:l.RxLogService},{type:l.RxNotificationService},{type:d.RxLaunchProcessViewActionService}],p=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-call-process",template:o.default,providers:[d.RxLaunchProcessViewActionService]}),(0,i.__metadata)("design:paramtypes",[l.RxLogService,l.RxNotificationService,d.RxLaunchProcessViewActionService])],p)},"./libs/com-example-test210500/src/lib/view-components/call-process/runtime/call-process.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CallProcessModule:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/call-process/runtime/call-process.component.ts");let a=class{};a=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule],exports:[s.CallProcessComponent],declarations:[s.CallProcessComponent],entryComponents:[s.CallProcessComponent]})],a)},"./libs/com-example-test210500/src/lib/view-components/call-process/runtime/call-process.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CALL_PROCESS_OPTIONS:()=>i});const i={processDefinitionName:"com.example.test210500:generate password"}},"./libs/com-example-test210500/src/lib/view-components/call-process/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/call-process/runtime/call-process.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/call-process/runtime/call-process.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/captcha/captcha-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CaptchaRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/captcha/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/captcha/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500Captcha",name:"captcha using hcaptcha",icon:"broken_image",group:"Test 21.05.00",options:{canBeEmbeddedInRecordEditor:!0},componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.CaptchaComponent),properties:[{name:"apiKey",enableExpressionEvaluation:!0}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.CaptchaDesignComponent),designComponentModel:a.CaptchaDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.CaptchaDesignModule,s.CaptchaModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/captcha/design/captcha-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CaptchaDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/captcha/design/captcha-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/captcha/design/captcha-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/captcha/design/captcha-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-captcha-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/captcha/design/captcha-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CaptchaDesignModel:()=>l});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("rxjs"),s=n("./node_modules/rxjs/_esm2015/operators/index.js");const a={apiKey:""};class l extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(a)),this.sandbox.setCommonDataDictionary(this.prepareDataDictionary(this.sandbox.descriptor.name)),(0,r.combineLatest)([this.sandbox.componentProperties$]).pipe((0,s.map)(([e])=>this.validate(this.sandbox,e))).subscribe(e=>{this.sandbox.setValidationIssues(e)})}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"apiKey",component:o.ExpressionFormControlComponent,options:{label:"hCaptcha Api Key",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}}]}]}}validate(e,t){let n=[];return t.apiKey||n.push(e.createError("The Api Key is required.","apiKey")),n}prepareDataDictionary(e){return{label:e,expression:this.getExpressionForProperty("api"),children:[{label:"Response token",expression:this.getExpressionForProperty("hCaptchaResponseToken")}]}}}},"./libs/com-example-test210500/src/lib/view-components/captcha/design/captcha-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CaptchaDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/captcha/design/captcha-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.CaptchaDesignComponent],entryComponents:[a.CaptchaDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/captcha/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/captcha/design/captcha-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/captcha/design/captcha-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/captcha/design/captcha-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/captcha/runtime/captcha.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CaptchaComponent:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/captcha/runtime/captcha.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js");let l=class extends s.BaseViewComponent{constructor(e){super(),this.rxNotificationService=e}ngOnInit(){this.config.subscribe(e=>{this.componentData=e,this.siteKey=this.componentData.apiKey})}onVerify(e){this.rxNotificationService.addSuccessMessage("Verification successful!"),this.notifyPropertyChanged("hCaptchaResponseToken",e)}onExpired(e){this.rxNotificationService.addWarningMessage("Token expired."),this.notifyPropertyChanged("hCaptchaResponseToken",null)}onError(e){this.rxNotificationService.addErrorMessage("An error occured..."),this.notifyPropertyChanged("hCaptchaResponseToken",null)}};l.ctorParameters=()=>[{type:a.RxNotificationService}],l=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-captcha",template:o.default}),(0,i.__metadata)("design:paramtypes",[a.RxNotificationService])],l)},"./libs/com-example-test210500/src/lib/view-components/captcha/runtime/captcha.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CaptchaModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/captcha/runtime/captcha.component.ts"),a=n("./node_modules/ng-hcaptcha/fesm2020/ng-hcaptcha.mjs");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.NgHcaptchaModule.forRoot()],exports:[s.CaptchaComponent],declarations:[s.CaptchaComponent],entryComponents:[s.CaptchaComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/captcha/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/captcha/runtime/captcha.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/captcha/runtime/captcha.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/code-viewer/code-viewer-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CodeViewerRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/code-viewer/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/code-viewer/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500CodeViewer",name:"Code Viewer",icon:"file_code_o",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.CodeViewerComponent),options:{canBeEmbeddedInRecordEditor:!0},properties:[{name:"code",enableExpressionEvaluation:!0},{name:"language",enableExpressionEvaluation:!0},{name:"prettifyJson"}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.CodeViewerDesignComponent),designComponentModel:a.CodeViewerDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.CodeViewerDesignModule,s.CodeViewerModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/code-viewer/design/code-viewer-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CodeViewerDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/code-viewer/design/code-viewer-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/code-viewer/design/code-viewer-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/code-viewer/design/code-viewer-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-code-viewer-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/code-viewer/design/code-viewer-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CodeViewerDesignModel:()=>c});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),s=n("rxjs"),a=n("./node_modules/rxjs/_esm2015/operators/index.js");const l={code:"",language:"",prettifyJson:!1};class c extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(l)),(0,s.combineLatest)([this.sandbox.componentProperties$]).pipe((0,a.map)(([e])=>this.validate(this.sandbox,e))).subscribe(e=>{this.sandbox.setValidationIssues(e)})}static getInitialProperties(e){return Object.assign(Object.assign({code:"",language:""},e),{prettifyJson:e&&"true"===String(e.prettifyJson)})}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"code",component:o.ExpressionFormControlComponent,options:{label:"Code (string)",tooltip:new r.Tooltip("The code must be a string."),dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}},{name:"language",component:o.ExpressionFormControlComponent,options:{label:"language",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}},{name:"prettifyJson",component:o.SwitchFormControlComponent,options:{label:"Prettify Json",tooltip:new r.Tooltip("Will prettify json. Sometimes the Json is displayed in a single line.<br> If this option is enabled the json will be prettified.")}}]}]}}validate(e,t){let n=[];return t.code||n.push(e.createError("The code is required.","code")),t.language||n.push(e.createError("The language is required.","language")),n}}},"./libs/com-example-test210500/src/lib/view-components/code-viewer/design/code-viewer-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CodeViewerDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/code-viewer/design/code-viewer-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.CodeViewerDesignComponent],entryComponents:[a.CodeViewerDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/code-viewer/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/code-viewer/design/code-viewer-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/code-viewer/design/code-viewer-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/code-viewer/design/code-viewer-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/code-viewer/runtime/code-viewer.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CodeViewerComponent:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/code-viewer/runtime/code-viewer.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),a=n("./node_modules/rxjs/_esm2015/operators/index.js"),l=n("lodash");let c=class extends s.BaseViewComponent{ngOnInit(){this.config.pipe((0,a.distinctUntilChanged)(l.isEqual),(0,a.takeUntil)(this.destroyed$)).subscribe(e=>{this.componentData=e,e.prettifyJson&&e.code&&"JSON"===e.language.toUpperCase()&&(this.componentData.code=JSON.stringify(JSON.parse(this.componentData.code),void 0,2))})}};c=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-code-viewer",template:o.default})],c)},"./libs/com-example-test210500/src/lib/view-components/code-viewer/runtime/code-viewer.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CodeViewerModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/code-viewer/runtime/code-viewer.component.ts"),a=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.AdaptCodeViewerModule],exports:[s.CodeViewerComponent],declarations:[s.CodeViewerComponent],entryComponents:[s.CodeViewerComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/code-viewer/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/code-viewer/runtime/code-viewer.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/code-viewer/runtime/code-viewer.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/custom-datapagequery-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CustomDatapagequeryRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500CustomDatapagequery",name:"Consuming a custom datapagequery",icon:"left-table_adapt",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.CustomDatapagequeryComponent),properties:[{name:"customDatapagequery",type:r.ViewComponentPropertyType.String}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.CustomDatapagequeryDesignComponent),designComponentModel:a.CustomDatapagequeryDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.CustomDatapagequeryDesignModule,s.CustomDatapagequeryModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/design/custom-datapagequery-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CustomDatapagequeryDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/design/custom-datapagequery-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/design/custom-datapagequery-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/design/custom-datapagequery-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-custom-datapagequery-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/design/custom-datapagequery-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CustomDatapagequeryDesignModel:()=>r});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js");const o={};class r extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(o))}setInspectorConfig(e){return{inspectorSectionConfigs:[]}}}},"./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/design/custom-datapagequery-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CustomDatapagequeryDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/design/custom-datapagequery-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.CustomDatapagequeryDesignComponent],entryComponents:[a.CustomDatapagequeryDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/design/custom-datapagequery-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/design/custom-datapagequery-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/design/custom-datapagequery-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/runtime/custom-datapagequery-data-page.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CustomDatapagequeryDataPageService:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/runtime/custom-datapagequery.types.ts");let a=class extends r.DataPage{constructor(e){super(e,s.CUSTOM_DATAPAGEQUERY_OPTIONS.datapageQueryName)}};a.ctorParameters=()=>[{type:o.Injector}],a=(0,i.__decorate)([(0,o.Injectable)(),(0,i.__metadata)("design:paramtypes",[o.Injector])],a)},"./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/runtime/custom-datapagequery.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CustomDatapagequeryComponent:()=>m});var i,o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/runtime/custom-datapagequery.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("rxjs"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),c=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-components.js"),d=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),u=n("./node_modules/@helix/platform/fesm2015/helix-platform-record-api.js"),p=n("./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/runtime/custom-datapagequery.types.ts"),h=n("./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/runtime/custom-datapagequery-data-page.service.ts");let m=i=class extends l.BaseViewComponent{constructor(e,t){super(),this.rxNotificationService=e,this.customDatapagequeryDataPageService=t}ngOnInit(){this.fruitsRecordGrid.pageComponent=i,this.fruitsRecordGridConfig$=(0,a.of)({actionButtons:[{label:"Order",iconCls:"dollar",style:"primary",disabled:()=>1!==this.fruitsRecordGrid.api.getSelectedRowCount(),actions:[{name:()=>{this.orderFruit()}}]}],getRecordDefinition:()=>(0,a.of)(this.getRecordDefinition()),getData:e=>this.getData(e),enableRowSelection:c.RowSelectionMode.Single,columns:[{index:0,title:p.CUSTOM_DATAPAGEQUERY_OPTIONS.fields.fruit.label,fieldId:`${p.CUSTOM_DATAPAGEQUERY_OPTIONS.fields.fruit.fieldId}`,clickable:!0,sortable:!0,filterable:!0,actions:[{name:(e,t)=>this.orderThisFruit(t)}]},{index:1,title:p.CUSTOM_DATAPAGEQUERY_OPTIONS.fields.price.label,fieldId:`${p.CUSTOM_DATAPAGEQUERY_OPTIONS.fields.price.fieldId}`,cellTemplate:this.priceTemplate,sortable:!1,filterable:!1},{index:2,title:p.CUSTOM_DATAPAGEQUERY_OPTIONS.fields.displayId.label,fieldId:`${p.CUSTOM_DATAPAGEQUERY_OPTIONS.fields.displayId.fieldId}`,sortable:!1,filterable:!1},{index:3,title:p.CUSTOM_DATAPAGEQUERY_OPTIONS.fields.guid.label,fieldId:`${p.CUSTOM_DATAPAGEQUERY_OPTIONS.fields.guid.fieldId}`,sortable:!1,filterable:!1}],recordIdField:p.CUSTOM_DATAPAGEQUERY_OPTIONS.fields.guid.fieldId,styles:"flex-fill"})}getData(e){return this.customDatapagequeryDataPageService.get({params:e})}getRecordDefinition(){return{fieldDefinitions:[{id:p.CUSTOM_DATAPAGEQUERY_OPTIONS.fields.fruit.fieldId,resourceType:u.RX_RECORD_DEFINITION.resourceTypes.character},{id:p.CUSTOM_DATAPAGEQUERY_OPTIONS.fields.price.fieldId,resourceType:u.RX_RECORD_DEFINITION.resourceTypes.character},{id:p.CUSTOM_DATAPAGEQUERY_OPTIONS.fields.displayId.fieldId,resourceType:u.RX_RECORD_DEFINITION.resourceTypes.character},{id:p.CUSTOM_DATAPAGEQUERY_OPTIONS.fields.guid.fieldId,resourceType:u.RX_RECORD_DEFINITION.resourceTypes.character}]}}orderFruit(){const e=this.fruitsRecordGrid.api.getFirstSelectedRow();e&&this.rxNotificationService.addSuccessMessage(`Fruit ${e[p.CUSTOM_DATAPAGEQUERY_OPTIONS.fields.fruit.fieldId]} ordered successfully.`)}orderThisFruit(e){e&&this.rxNotificationService.addSuccessMessage(`Fruit ${e[p.CUSTOM_DATAPAGEQUERY_OPTIONS.fields.fruit.fieldId]} ordered successfully.`)}orderFruitFromPriceField(e){this.orderThisFruit(e)}};m.ctorParameters=()=>[{type:d.RxNotificationService},{type:h.CustomDatapagequeryDataPageService}],m.propDecorators={fruitsRecordGrid:[{type:s.ViewChild,args:["fruitsRecordGrid",{static:!0}]}],priceTemplate:[{type:s.ViewChild,args:["priceTemplate",{static:!0}]}]},m=i=(0,o.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-custom-datapagequery",template:r.default}),(0,o.__metadata)("design:paramtypes",[d.RxNotificationService,h.CustomDatapagequeryDataPageService])],m)},"./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/runtime/custom-datapagequery.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CustomDatapagequeryModule:()=>d});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/runtime/custom-datapagequery.component.ts"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-components.js"),l=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),c=n("./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/runtime/custom-datapagequery-data-page.service.ts");let d=class{};d=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.RecordGridModule,l.AdaptButtonModule],providers:[c.CustomDatapagequeryDataPageService],exports:[s.CustomDatapagequeryComponent],declarations:[s.CustomDatapagequeryComponent],entryComponents:[s.CustomDatapagequeryComponent]})],d)},"./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/runtime/custom-datapagequery.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CUSTOM_DATAPAGEQUERY_OPTIONS:()=>o});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-record-api.js");const o={datapageQueryName:"com.example.bundle.Test210500FruitDataPageQuery",fields:{fruit:{fieldId:"fruit",label:"Fruit",type:i.RX_RECORD_DEFINITION.resourceTypes.character},price:{fieldId:"price",label:"Price",type:i.RX_RECORD_DEFINITION.resourceTypes.character},displayId:{fieldId:"displayId",label:"Display id",type:i.RX_RECORD_DEFINITION.resourceTypes.character},guid:{fieldId:"guid",label:"Guid",type:i.RX_RECORD_DEFINITION.resourceTypes.character}}}},"./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/runtime/custom-datapagequery.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/custom-datapagequery/runtime/custom-datapagequery.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/custom-grid/custom-grid-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CustomGridRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/custom-grid/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/custom-grid/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500CustomGrid",name:"Custom grid",icon:"com-example-test210500-custom-grid-icon",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.CustomGridComponent),properties:[],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.CustomGridDesignComponent),designComponentModel:a.CustomGridDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.CustomGridDesignModule,s.CustomGridModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/custom-grid/design/custom-grid-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CustomGridDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/custom-grid/design/custom-grid-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/custom-grid/design/custom-grid-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/custom-grid/design/custom-grid-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-custom-grid-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/custom-grid/design/custom-grid-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CustomGridDesignModel:()=>r});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js");const o={};class r extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(o))}setInspectorConfig(e){return{inspectorSectionConfigs:[]}}}},"./libs/com-example-test210500/src/lib/view-components/custom-grid/design/custom-grid-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CustomGridDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/custom-grid/design/custom-grid-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.CustomGridDesignComponent],entryComponents:[a.CustomGridDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/custom-grid/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/custom-grid/design/custom-grid-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/custom-grid/design/custom-grid-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/custom-grid/design/custom-grid-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/custom-grid/runtime/custom-grid.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CustomGridComponent:()=>m});var i,o=n("./node_modules/tslib/tslib.es6.js"),r=n("./libs/com-example-test210500/src/lib/view-components/custom-grid/runtime/custom-grid.scss"),s=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/custom-grid/runtime/custom-grid.component.html"),a=n("./node_modules/@angular/core/fesm2015/core.js"),l=n("rxjs"),c=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),d=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-components.js"),u=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),p=n("./node_modules/@helix/platform/fesm2015/helix-platform-record-api.js"),h=n("./libs/com-example-test210500/src/lib/view-components/custom-grid/runtime/custom-grid.types.ts");let m=i=class extends c.BaseViewComponent{constructor(e,t){super(),this.rxNotificationService=e,this.rxRecordInstanceDataPageService=t}ngOnInit(){this.fruitsRecordGrid.pageComponent=i,this.fruitsRecordGridConfig$=(0,l.of)({actionButtons:[{label:"Order",iconCls:"dollar",style:"primary",disabled:()=>1!==this.fruitsRecordGrid.api.getSelectedRowCount(),actions:[{name:()=>{this.orderFruit()}}]}],recordDefinitionName:h.CUSTOM_GRID_OPTIONS.recordDefinitionName,getRecordDefinition:()=>(0,l.of)(this.getRecordDefinition()),getData:e=>this.getData(e),enableRowSelection:d.RowSelectionMode.Single,columns:[{index:0,title:h.CUSTOM_GRID_OPTIONS.fields.fruit.label,fieldId:`${h.CUSTOM_GRID_OPTIONS.fields.fruit.fieldId}`,clickable:!0,sortable:!0,filterable:!0,actions:[{name:(e,t)=>this.orderThisFruit(t)}]},{index:1,title:h.CUSTOM_GRID_OPTIONS.fields.displayId.label,fieldId:`${h.CUSTOM_GRID_OPTIONS.fields.displayId.fieldId}`,sortable:!0,cellTemplate:this.displayIdTemplate},{index:2,title:h.CUSTOM_GRID_OPTIONS.fields.guid.label,fieldId:`${h.CUSTOM_GRID_OPTIONS.fields.guid.fieldId}`,cellTemplate:this.guidTemplate,sortable:!0},{index:3,title:"Order fruit",fieldId:`${h.CUSTOM_GRID_OPTIONS.fields.guid.fieldId}`,cellTemplate:this.customColumnBasedOnExistingField,sortable:!1,filterable:!1},{index:4,title:"Animal",fieldId:h.CUSTOM_GRID_OPTIONS.nonExistingColumn,cellTemplate:this.nonExistingColumnTemplate,filterable:!1,sortable:!1}],styles:"flex-fill"})}getData(e){const t=Object.assign({},e),n=t.propertySelection.indexOf(h.CUSTOM_GRID_OPTIONS.nonExistingColumn);return-1!==n&&t.propertySelection.splice(n,1),delete t.searchText,this.rxRecordInstanceDataPageService.get({params:t})}getRecordDefinition(){return{fieldDefinitions:[{id:h.CUSTOM_GRID_OPTIONS.fields.fruit.fieldId,resourceType:p.RX_RECORD_DEFINITION.resourceTypes.character},{id:h.CUSTOM_GRID_OPTIONS.fields.displayId.fieldId,resourceType:p.RX_RECORD_DEFINITION.resourceTypes.character},{id:h.CUSTOM_GRID_OPTIONS.fields.guid.fieldId,resourceType:p.RX_RECORD_DEFINITION.resourceTypes.character},{id:h.CUSTOM_GRID_OPTIONS.fields.guid.fieldId,resourceType:p.RX_RECORD_DEFINITION.resourceTypes.character},{id:h.CUSTOM_GRID_OPTIONS.nonExistingColumn,resourceType:p.RX_RECORD_DEFINITION.resourceTypes.character}]}}orderFruit(){const e=this.fruitsRecordGrid.api.getFirstSelectedRow();e&&this.rxNotificationService.addSuccessMessage(`Fruit ${e[h.CUSTOM_GRID_OPTIONS.fields.fruit.fieldId]} ordered successfully.`)}orderThisFruit(e){e&&this.rxNotificationService.addSuccessMessage(`Fruit ${e[h.CUSTOM_GRID_OPTIONS.fields.fruit.fieldId]} ordered successfully.`)}getAnimalFromFruit(e,t){return h.CUSTOM_GRID_OPTIONS.animalMatching[e[h.CUSTOM_GRID_OPTIONS.fields.fruit.fieldId]]||h.CUSTOM_GRID_OPTIONS.defaultAnimal}customDataItem(e){return"Order "+e[h.CUSTOM_GRID_OPTIONS.fields.fruit.fieldId]}orderFruitFromCustomField(e){this.orderThisFruit(e)}};m.ctorParameters=()=>[{type:u.RxNotificationService},{type:p.RxRecordInstanceDataPageService}],m.propDecorators={fruitsRecordGrid:[{type:a.ViewChild,args:["fruitsRecordGrid",{static:!0}]}],guidTemplate:[{type:a.ViewChild,args:["guidTemplate",{static:!0}]}],displayIdTemplate:[{type:a.ViewChild,args:["displayIdTemplate",{static:!0}]}],customColumnBasedOnExistingField:[{type:a.ViewChild,args:["customColumnBasedOnExistingField",{static:!0}]}],nonExistingColumnTemplate:[{type:a.ViewChild,args:["nonExistingColumnTemplate",{static:!0}]}]},m=i=(0,o.__decorate)([(0,a.Component)({selector:"com-example-test210500-com-example-test210500-custom-grid",template:s.default,styles:[r.default]}),(0,o.__metadata)("design:paramtypes",[u.RxNotificationService,p.RxRecordInstanceDataPageService])],m)},"./libs/com-example-test210500/src/lib/view-components/custom-grid/runtime/custom-grid.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CustomGridModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/custom-grid/runtime/custom-grid.component.ts"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-components.js"),l=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.RecordGridModule,l.AdaptButtonModule],exports:[s.CustomGridComponent],declarations:[s.CustomGridComponent],entryComponents:[s.CustomGridComponent]})],c)},"./libs/com-example-test210500/src/lib/view-components/custom-grid/runtime/custom-grid.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CUSTOM_GRID_OPTIONS:()=>o});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-record-api.js");const o={recordDefinitionName:"com.example.test210500:fruits",nonExistingColumn:"nonExistingColumn",fields:{fruit:{fieldId:536870913,label:"Fruit",type:i.RX_RECORD_DEFINITION.resourceTypes.character},displayId:{fieldId:i.RX_RECORD_DEFINITION.coreFieldIds.displayId,label:"Display id",type:i.RX_RECORD_DEFINITION.resourceTypes.character},guid:{fieldId:i.RX_RECORD_DEFINITION.coreFieldIds.id,label:"Guid",type:i.RX_RECORD_DEFINITION.resourceTypes.character}},defaultAnimal:"Panda",animalMatching:{banana:"Monkey",apple:"Snake",watermelon:"Raccoon"}}},"./libs/com-example-test210500/src/lib/view-components/custom-grid/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/custom-grid/runtime/custom-grid.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/custom-grid/runtime/custom-grid.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/delay-registration/delay-registration-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DelayRegistrationRegistrationModule:()=>d});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/delay-registration/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/delay-registration/design/index.ts"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-record-api.js"),c=n("./libs/com-example-test210500/src/lib/view-components/delay-registration/delay-registration.types.ts");let d=class{constructor(e,t,n){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,this.rxRecordInstanceService=n;const i={type:"com-example-test210500-delay-registration",name:"<The name will be replaced>",group:"Test 21.05.00",icon:"clock_o",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.DelayRegistrationComponent),designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.DelayRegistrationDesignComponent),designComponentModel:a.DelayRegistrationDesignModel,bundleId:"com.example.test210500",availableInBundles:["com.example.test210500"],properties:[{name:"message",enableExpressionEvaluation:!0}]},o=this.rxRecordInstanceService.get(c.DELAY_REGISTRATION_OPTIONS.recordDefinitionName,c.DELAY_REGISTRATION_OPTIONS.recordInstanceId).toPromise().then(e=>Object.assign(Object.assign({},i),{name:e.fieldInstances[l.RX_RECORD_DEFINITION.coreFieldIds.description].value})).catch(e=>i);-1!==window.location.href.indexOf("com.bmc.arsys.rx.innovationstudio")?(console.log("Initializing the delay-registration view component with a rest api call."),e.register(o)):(console.log("Initializing the delay-registration view component without a rest api call."),e.register(i))}};d.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver},{type:l.RxRecordInstanceService}],d=(0,i.__decorate)([(0,o.NgModule)({imports:[a.DelayRegistrationDesignModule,s.DelayRegistrationModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver,l.RxRecordInstanceService])],d)},"./libs/com-example-test210500/src/lib/view-components/delay-registration/delay-registration.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DELAY_REGISTRATION_OPTIONS:()=>i});const i={recordDefinitionName:"com.example.test210500:test for promise",recordInstanceId:"AGGADG1AAP0IDARQR7K3RQR7K33G7B"}},"./libs/com-example-test210500/src/lib/view-components/delay-registration/design/delay-registration-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DelayRegistrationDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/delay-registration/design/delay-registration-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/delay-registration/design/delay-registration-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/delay-registration/design/delay-registration-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-delay-registration-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/delay-registration/design/delay-registration-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DelayRegistrationDesignModel:()=>c});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),s=n("rxjs"),a=n("./node_modules/rxjs/_esm2015/operators/index.js");const l={message:""};class c extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(l)),(0,s.combineLatest)([this.sandbox.componentProperties$]).pipe((0,a.map)(([e])=>this.validate(this.sandbox,e))).subscribe(e=>{this.sandbox.setValidationIssues(e)}),this.sandbox.getComponentPropertyValue("name").subscribe(e=>{const t=e?`${this.sandbox.descriptor.name} (${e})`:this.sandbox.descriptor.name;this.sandbox.setCommonDataDictionary(this.prepareDataDictionary(t))})}static getInitialProperties(e){return Object.assign({message:""},e)}prepareDataDictionary(e){return null}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"name",component:o.TextFormControlComponent,options:{label:"View component name",tooltip:new r.Tooltip("Enter a name to uniquely identify the view component.")}},{name:"message",component:o.ExpressionFormControlComponent,options:{label:"Message",tooltip:new r.Tooltip("The message input parameter is required and will be displayed at runtime."),dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}}]}]}}validate(e,t){let n=[];return t.message||n.push(e.createError("Message cannot be blank.","message")),n}}},"./libs/com-example-test210500/src/lib/view-components/delay-registration/design/delay-registration-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DelayRegistrationDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/delay-registration/design/delay-registration-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.DelayRegistrationDesignComponent],entryComponents:[a.DelayRegistrationDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/delay-registration/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/delay-registration/design/delay-registration-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/delay-registration/design/delay-registration-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/delay-registration/design/delay-registration-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/delay-registration/runtime/delay-registration.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DelayRegistrationComponent:()=>d});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/delay-registration/runtime/delay-registration.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/delay-registration/runtime/delay-registration.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),c=n("./node_modules/rxjs/_esm2015/operators/index.js");let d=class extends a.BaseViewComponent{constructor(){super(...arguments),this.message=""}ngOnInit(){this.config.pipe((0,c.pluck)("message"),(0,c.distinctUntilChanged)(),(0,c.takeUntil)(this.destroyed$)).subscribe(e=>{this.message=e})}};d=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-delay-registration",template:r.default,styles:[o.default]}),(0,l.RxViewComponent)({name:"com-example-test210500-delay-registration"})],d)},"./libs/com-example-test210500/src/lib/view-components/delay-registration/runtime/delay-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DelayRegistrationModule:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/delay-registration/runtime/delay-registration.component.ts");let a=class{};a=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule],exports:[s.DelayRegistrationComponent],declarations:[s.DelayRegistrationComponent],entryComponents:[s.DelayRegistrationComponent]})],a)},"./libs/com-example-test210500/src/lib/view-components/delay-registration/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/delay-registration/runtime/delay-registration.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/delay-registration/runtime/delay-registration.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/digital-signature/design/digital-signature-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DigitalSignatureDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/digital-signature/design/digital-signature-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/digital-signature/design/digital-signature-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/digital-signature/design/digital-signature-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-digital-signature-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/digital-signature/design/digital-signature-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DigitalSignatureDesignModel:()=>r});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js");const o={};class r extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(o)),this.sandbox.setCommonDataDictionary(this.prepareDataDictionary(this.sandbox.descriptor.name))}setInspectorConfig(e){return{inspectorSectionConfigs:[]}}prepareDataDictionary(e){return{label:e,expression:this.getExpressionForProperty("api"),children:[{label:"Signature (base 64)",expression:this.getExpressionForProperty("signature")}]}}}},"./libs/com-example-test210500/src/lib/view-components/digital-signature/design/digital-signature-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DigitalSignatureDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/digital-signature/design/digital-signature-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.DigitalSignatureDesignComponent],entryComponents:[a.DigitalSignatureDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/digital-signature/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/digital-signature/design/digital-signature-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/digital-signature/design/digital-signature-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/digital-signature/design/digital-signature-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/digital-signature/digital-signature-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DigitalSignatureRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/digital-signature/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/digital-signature/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500DigitalSignature",name:"Digital Signature",icon:"left-note_pencil",group:"Test 21.05.00",options:{canBeEmbeddedInRecordEditor:!0},componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.DigitalSignatureComponent),properties:[],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.DigitalSignatureDesignComponent),designComponentModel:a.DigitalSignatureDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.DigitalSignatureDesignModule,s.DigitalSignatureModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/digital-signature/runtime/digital-signature.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DigitalSignatureComponent:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/digital-signature/runtime/digital-signature.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/digital-signature/runtime/digital-signature.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js");let l=class extends a.BaseViewComponent{constructor(){super(...arguments),this.signaturePadOptions={minWidth:.5,canvasWidth:500,canvasHeight:300}}clearSignature(){this.signaturePad.clear(),this.notifyPropertyChanged("signature","")}addSignature(){this.notifyPropertyChanged("signature",this.cleanBase64Signature())}drawStart(){this.notifyPropertyChanged("signature","")}drawComplete(){this.addSignature()}cleanBase64Signature(){let e=this.signaturePad.toDataURL()||"";const t=";base64,",n=e.indexOf(t);return-1!==n&&(e=e.substr(n+8)),e}};l.propDecorators={signaturePad:[{type:s.ViewChild,args:["signaturePad",{static:!0}]}]},l=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-digital-signature",template:r.default,styles:[o.default]})],l)},"./libs/com-example-test210500/src/lib/view-components/digital-signature/runtime/digital-signature.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DigitalSignatureModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/digital-signature/runtime/digital-signature.component.ts"),a=n("./node_modules/angular2-signaturepad/fesm2015/angular2-signaturepad.js"),l=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.SignaturePadModule,l.AdaptButtonModule],exports:[s.DigitalSignatureComponent],declarations:[s.DigitalSignatureComponent],entryComponents:[s.DigitalSignatureComponent]})],c)},"./libs/com-example-test210500/src/lib/view-components/digital-signature/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/digital-signature/runtime/digital-signature.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/digital-signature/runtime/digital-signature.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/display-gradient/design/display-gradient-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DisplayGradientDesignComponent:()=>d});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/display-gradient/design/display-gradient-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/display-gradient/design/display-gradient-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=(n("./libs/com-example-test210500/src/lib/view-components/display-gradient/design/display-gradient-design.model.ts"),n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.service.ts")),l=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.types.ts"),c=n("rxjs");let d=class{constructor(e){this.gradientService=e,this.gradientLeftValue=l.GRADIENT_COMPONENT_OPTIONS.defaultValues.left,this.gradientRightValue=l.GRADIENT_COMPONENT_OPTIONS.defaultValues.right}ngOnInit(){(0,c.combineLatest)([this.model.modelSandbox.componentProperties$]).subscribe(([e])=>{const t=e;this.gradientLeftValue=this.gradientService.extractGradientInformation(l.GRADIENT_COMPONENT_OPTIONS.sides.left,t.gradient),this.gradientRightValue=this.gradientService.extractGradientInformation(l.GRADIENT_COMPONENT_OPTIONS.sides.right,t.gradient),this.gradientService.drawGradient(this.gradientDivElement,this.gradientLeftValue,this.gradientRightValue)})}ngAfterViewInit(){this.gradientService.drawGradient(this.gradientDivElement,this.gradientLeftValue,this.gradientRightValue)}};d.ctorParameters=()=>[{type:a.GradientService}],d.propDecorators={gradientDivElement:[{type:s.ViewChild,args:["gradientDivElement",{static:!1}]}],model:[{type:s.Input}]},d=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-display-gradient-design",template:r.default,styles:[o.default]}),(0,i.__metadata)("design:paramtypes",[a.GradientService])],d)},"./libs/com-example-test210500/src/lib/view-components/display-gradient/design/display-gradient-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DisplayGradientDesignModel:()=>d});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.types.ts"),r=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.component.ts"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),a=n("rxjs"),l=n("./node_modules/rxjs/_esm2015/operators/index.js");const c={gradient:`${o.GRADIENT_COMPONENT_OPTIONS.defaultValues.left}|${o.GRADIENT_COMPONENT_OPTIONS.defaultValues.right}`};class d extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.modelSandbox=t,t.updateInspectorConfig(this.setInspectorConfig(c)),(0,a.combineLatest)([this.sandbox.componentProperties$]).pipe((0,l.map)(([e])=>this.validate(this.sandbox,e))).subscribe(e=>{this.sandbox.setValidationIssues(e)})}static getInitialProperties(e){return Object.assign({gradient:`${o.GRADIENT_COMPONENT_OPTIONS.defaultValues.left}|${o.GRADIENT_COMPONENT_OPTIONS.defaultValues.right}`},e)}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"gradient",component:r.GradientComponent,options:{label:"Gradient information",required:!0,tooltip:new s.Tooltip("Please select the colors that will be used to create a gradient at runtime.")}}]}]}}validate(e,t){let n=[];return t.gradient||n.push(e.createError("The gradient is required.","gradient")),n}}},"./libs/com-example-test210500/src/lib/view-components/display-gradient/design/display-gradient-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DisplayGradientDesignModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/display-gradient/design/display-gradient-design.component.ts"),l=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.module.ts");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule,l.GradientModule],declarations:[a.DisplayGradientDesignComponent],entryComponents:[a.DisplayGradientDesignComponent]})],c)},"./libs/com-example-test210500/src/lib/view-components/display-gradient/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/display-gradient/design/display-gradient-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/display-gradient/design/display-gradient-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/display-gradient/design/display-gradient-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/display-gradient/display-gradient-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DisplayGradientRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/display-gradient/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/display-gradient/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500DisplayGradient",name:"Display Gradient",icon:"colorpicker",group:"Test 21.05.00",options:{canBeEmbeddedInRecordEditor:!0},componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.DisplayGradientComponent),properties:[{name:"gradient"}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.DisplayGradientDesignComponent),designComponentModel:a.DisplayGradientDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.DisplayGradientDesignModule,s.DisplayGradientModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/display-gradient/runtime/display-gradient.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DisplayGradientComponent:()=>u});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/display-gradient/runtime/display-gradient.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/display-gradient/runtime/display-gradient.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),l=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.types.ts"),c=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.service.ts"),d=n("./node_modules/rxjs/_esm2015/operators/index.js");let u=class extends a.BaseViewComponent{constructor(e){super(),this.gradientService=e,this.gradientLeftValue=l.GRADIENT_COMPONENT_OPTIONS.defaultValues.left,this.gradientRightValue=l.GRADIENT_COMPONENT_OPTIONS.defaultValues.right}ngOnInit(){this.config.pipe((0,d.pluck)("gradient"),(0,d.distinctUntilChanged)(),(0,d.takeUntil)(this.destroyed$)).subscribe(e=>{this.componentData={gradient:e},this.gradientLeftValue=this.gradientService.extractGradientInformation(l.GRADIENT_COMPONENT_OPTIONS.sides.left,this.componentData.gradient),this.gradientRightValue=this.gradientService.extractGradientInformation(l.GRADIENT_COMPONENT_OPTIONS.sides.right,this.componentData.gradient),this.gradientService.drawGradient(this.gradientDivElement,this.gradientLeftValue,this.gradientRightValue)})}ngAfterViewInit(){this.gradientService.drawGradient(this.gradientDivElement,this.gradientLeftValue,this.gradientRightValue)}};u.ctorParameters=()=>[{type:c.GradientService}],u.propDecorators={gradientDivElement:[{type:s.ViewChild,args:["gradientDivElement",{static:!1}]}]},u=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-display-gradient",template:r.default,styles:[o.default]}),(0,i.__metadata)("design:paramtypes",[c.GradientService])],u)},"./libs/com-example-test210500/src/lib/view-components/display-gradient/runtime/display-gradient.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DisplayGradientModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/display-gradient/runtime/display-gradient.component.ts"),a=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.module.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.GradientModule],exports:[s.DisplayGradientComponent],declarations:[s.DisplayGradientComponent],entryComponents:[s.DisplayGradientComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/display-gradient/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/display-gradient/runtime/display-gradient.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/display-gradient/runtime/display-gradient.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/floating-panel/design/floating-panel-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{FloatingPanelDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/floating-panel/design/floating-panel-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/floating-panel/design/floating-panel-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/floating-panel/design/floating-panel-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-floating-panel-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/floating-panel/design/floating-panel-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{FloatingPanelDesignModel:()=>c});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),s=n("rxjs"),a=n("./node_modules/rxjs/_esm2015/operators/index.js");const l={viewName:"",panelTitle:"",panelIdentifier:""};class c extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(l)),(0,s.combineLatest)([this.sandbox.componentProperties$]).pipe((0,a.map)(([e])=>this.validate(this.sandbox,e))).subscribe(e=>{this.sandbox.setValidationIssues(e)})}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"viewName",component:o.RxDefinitionPickerComponent,options:{label:"View Name",tooltip:new r.Tooltip("Innovation Studio View Name to be displayed in the floating panel."),definitionType:o.RxDefinitionPickerType.View,required:!0}},{name:"panelTitle",component:o.ExpressionFormControlComponent,options:{label:"Panel title",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}},{name:"panelIdentifier",component:o.ExpressionFormControlComponent,options:{label:"Panel Identifier.",tooltip:new r.Tooltip("If a panel already exists with this Id it will not recreated."),dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}}]}]}}validate(e,t){let n=[];return t.viewName||n.push(e.createError("The view is required.","viewName")),t.panelTitle||n.push(e.createError("The panel title is required.","panelTitle")),t.panelIdentifier||n.push(e.createWarning("It is recommended to set a panel identifier to avoid creating multiple panels with the same view.","panelIdentifier")),n}}},"./libs/com-example-test210500/src/lib/view-components/floating-panel/design/floating-panel-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{FloatingPanelDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/floating-panel/design/floating-panel-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.FloatingPanelDesignComponent],entryComponents:[a.FloatingPanelDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/floating-panel/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/floating-panel/design/floating-panel-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/floating-panel/design/floating-panel-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/floating-panel/design/floating-panel-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/floating-panel/floating-panel-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{FloatingPanelRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/floating-panel/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/floating-panel/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500FloatingPanel",name:"Floating Panel",icon:"left-tablet",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.FloatingPanelComponent),properties:[{name:"viewName"},{name:"panelTitle",enableExpressionEvaluation:!0},{name:"panelIdentifier",enableExpressionEvaluation:!0}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.FloatingPanelDesignComponent),designComponentModel:a.FloatingPanelDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.FloatingPanelDesignModule,s.FloatingPanelModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/floating-panel/runtime/floating-panel.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{FloatingPanelComponent:()=>h});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/floating-panel/runtime/floating-panel.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/floating-panel/runtime/floating-panel.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),l=n("./libs/com-example-test210500/src/lib/services/dynamic-service-loader.service.ts"),c=n("./libs/com-example-test210500/src/lib/services/get-asset-path.service.ts"),d=n("./node_modules/@helix/platform/fesm2015/helix-platform-utils.js"),u=n("./libs/com-example-test210500/src/lib/view-components/floating-panel/runtime/floating-panel.types.ts"),p=n("./node_modules/rxjs/_esm2015/operators/index.js");let h=class extends a.BaseViewComponent{constructor(e,t,n){super(),this.dynamicScriptLoaderServiceService=e,this.getAssetPathService=t,this.rxGuidService=n,this.panelObject=null,this.panelGuid=this.rxGuidService.generate("panel-"),this.iFrameGuid=this.rxGuidService.generate("iframe-")}ngOnInit(){this.config.pipe((0,p.takeUntil)(this.destroyed$)).subscribe(e=>{const t=[],n=this.getAssetPathService.getAssetRootPath("com.example.test210500");this.componentData=e,this.componentData.panelIdentifier&&document.getElementById(this.componentData.panelIdentifier)||(t.push(this.dynamicScriptLoaderServiceService.loadScriptByUrl(n+"scripts/jspanel-4.11.3/jspanel.js","jspaneljs")),t.push(this.dynamicScriptLoaderServiceService.loadStylesheetByUrl(n+"scripts/jspanel-4.11.3/jspanel.css","jspanelcss")),Promise.all(t).then(e=>{this.createPanel()}))})}createPanel(){const e=this,t="/helix/index.html#/com.example.test210500/iview/"+this.componentData.viewName,n=u.FLOATING_PANEL_OPTIONS.defaultPanelConfiguration;n.id=this.componentData.panelIdentifier||this.panelGuid,n.headerTitle=n.headerTitle.replace("%PANEL_TITLE%",this.componentData.panelTitle),n.content=n.content.replace("%IFRAME_URL%",t),n.content=n.content.replace("%IFRAME_GUID%",this.iFrameGuid),n.onbeforeclose=()=>(e.panelObject.minimize(),!1),this.panelObject=jsPanel.create(n).setTheme(u.FLOATING_PANEL_OPTIONS.defaultPanelTheme)}};h.ctorParameters=()=>[{type:l.DynamicScriptLoaderServiceService},{type:c.GetAssetPathService},{type:d.RxGuidService}],h=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-floating-panel",template:r.default,styles:[o.default]}),(0,i.__metadata)("design:paramtypes",[l.DynamicScriptLoaderServiceService,c.GetAssetPathService,d.RxGuidService])],h)},"./libs/com-example-test210500/src/lib/view-components/floating-panel/runtime/floating-panel.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{FloatingPanelModule:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/floating-panel/runtime/floating-panel.component.ts");let a=class{};a=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule],exports:[s.FloatingPanelComponent],declarations:[s.FloatingPanelComponent],entryComponents:[s.FloatingPanelComponent]})],a)},"./libs/com-example-test210500/src/lib/view-components/floating-panel/runtime/floating-panel.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{FLOATING_PANEL_OPTIONS:()=>i});const i={defaultPanelConfiguration:{id:"",headerLogo:'<span class="logo-light logo-helix"></span>',headerTitle:'<span class="com-example-test210500-handler-panel-title">%PANEL_TITLE%</span>',theme:"dark",position:{my:"right-bottom",at:"right-bottom",offsetX:-5,offsetY:-10},onwindowresize:!0,onbeforeclose:null,headerControls:{minimize:"remove",smallify:"remove"},content:'<iframe src="%IFRAME_URL%" class="com-example-test210500-handler-panel-iframe" id="%IFRAME_GUID%"></iframe>',contentSize:{width:400,height:540},resizeit:{containment:[52,5,5,5],minWidth:400,minHeight:500},dragit:{containment:[52,5,5,5]},iconfont:["d-icon-angle_up","d-icon-minus","d-icon-angle_down_square","d-icon-angle_up_square","d-icon-cross_adapt"]},defaultPanelTheme:{bgPanel:"#414042",bgContent:"#FFFFFF",colorHeader:"#FFFFFF"}}},"./libs/com-example-test210500/src/lib/view-components/floating-panel/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/floating-panel/runtime/floating-panel.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/floating-panel/runtime/floating-panel.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/generate-password/design/generate-password-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GeneratePasswordDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/generate-password/design/generate-password-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/generate-password/design/generate-password-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/generate-password/design/generate-password-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-generate-password-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/generate-password/design/generate-password-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GeneratePasswordDesignModel:()=>c});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),s=n("rxjs"),a=n("./node_modules/rxjs/_esm2015/operators/index.js");const l={username:""};class c extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(l)),this.sandbox.getComponentPropertyValue("name").subscribe(e=>{const t=e?`${this.sandbox.descriptor.name} (${e})`:this.sandbox.descriptor.name;this.sandbox.setSettablePropertiesDataDictionary(t,this.prepareSetProperties()),this.sandbox.setCommonDataDictionary(this.prepareDataDictionary(t)),this.sandbox.setBreadcrumbs(t)}),(0,s.combineLatest)([this.sandbox.componentProperties$]).pipe((0,a.map)(([e])=>this.validate(this.sandbox,e))).subscribe(e=>{this.sandbox.setValidationIssues(e)})}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"name",component:o.TextFormControlComponent,options:{label:"View Component Name",tooltip:new r.Tooltip("Enter a name to uniquely identify the Generate Password Component.")}},{name:"username",component:o.ExpressionFormControlComponent,options:{label:"User Name",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}}]}]}}prepareSetProperties(){return[{label:"username",expression:this.getExpressionForProperty("username")}]}prepareDataDictionary(e){return{label:e,expression:this.getExpressionForProperty("api"),children:[{label:"Password",expression:this.getExpressionForProperty("password")}]}}validate(e,t){let n=[];return t.username||n.push(e.createError("The username is required.","username")),n}}},"./libs/com-example-test210500/src/lib/view-components/generate-password/design/generate-password-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GeneratePasswordDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/generate-password/design/generate-password-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.GeneratePasswordDesignComponent],entryComponents:[a.GeneratePasswordDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/generate-password/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/generate-password/design/generate-password-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/generate-password/design/generate-password-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/generate-password/design/generate-password-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/generate-password/generate-password-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GeneratePasswordRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/generate-password/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/generate-password/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500GeneratePassword",name:"Generate Password",icon:"left-server_key",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.GeneratePasswordComponent),properties:[{name:"username",type:r.ViewComponentPropertyType.String}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.GeneratePasswordDesignComponent),designComponentModel:a.GeneratePasswordDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.GeneratePasswordDesignModule,s.GeneratePasswordModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/generate-password/runtime/generate-password.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GeneratePasswordComponent:()=>p});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/generate-password/runtime/generate-password.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=n("rxjs"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),c=n("./node_modules/@angular/common/fesm2015/http.js"),d=n("./libs/com-example-test210500/src/lib/view-components/generate-password/runtime/generate-password.types.ts"),u=n("./node_modules/rxjs/_esm2015/operators/index.js");let p=class extends a.BaseViewComponent{constructor(e,t,n){super(),this.rxLogService=e,this.rxNotificationService=t,this.httpClient=n,this.componentData={username:""},this.api={setProperty:this.setProperty.bind(this),refresh:this.refresh.bind(this)}}ngOnInit(){this.config.pipe((0,u.pluck)("username"),(0,u.distinctUntilChanged)(),(0,u.takeUntil)(this.destroyed$)).subscribe(e=>{this.componentData.username=e}),this.notifyPropertyChanged("api",this.api)}getPassword(e){const t=d.GENERATE_PASSWORD_OPTIONS.restApiUrl+encodeURIComponent(e);return this.httpClient.get(t)}broadcastPassword(e){this.notifyPropertyChanged("password",e),this.rxNotificationService.addInfoMessage("The new password is "+e)}refresh(){return this.componentData.username&&this.getPassword(this.componentData.username).subscribe(e=>{this.broadcastPassword(e.password)}),s.EMPTY}setProperty(e,t){if("username"===e)this.componentData.username=t;else this.rxLogService.warning(`Standalone Field: property ${e} is not settable, value was ${t}.`)}};p.ctorParameters=()=>[{type:l.RxLogService},{type:l.RxNotificationService},{type:c.HttpClient}],p=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-generate-password",template:o.default}),(0,i.__metadata)("design:paramtypes",[l.RxLogService,l.RxNotificationService,c.HttpClient])],p)},"./libs/com-example-test210500/src/lib/view-components/generate-password/runtime/generate-password.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GeneratePasswordModule:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/generate-password/runtime/generate-password.component.ts");let a=class{};a=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule],exports:[s.GeneratePasswordComponent],declarations:[s.GeneratePasswordComponent],entryComponents:[s.GeneratePasswordComponent]})],a)},"./libs/com-example-test210500/src/lib/view-components/generate-password/runtime/generate-password.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GENERATE_PASSWORD_OPTIONS:()=>i});const i={restApiUrl:"/api/com.example.test210500/simplerestcall/generatepassword/"}},"./libs/com-example-test210500/src/lib/view-components/generate-password/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/generate-password/runtime/generate-password.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/generate-password/runtime/generate-password.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/get-data-example/design/get-data-example-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GetDataExampleDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/get-data-example/design/get-data-example-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/get-data-example/design/get-data-example-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/get-data-example/design/get-data-example-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-get-data-example-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/get-data-example/design/get-data-example-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GetDataExampleDesignModel:()=>a});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js");const s={gridObject:null,gridObjectAssociation:null};class a extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(s))}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"gridObject",component:o.ExpressionFormControlComponent,options:{label:"Grid Object (for Record Instances)",tooltip:new r.Tooltip("Please select the grid to use to get record instance data."),dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}},{name:"gridObjectAssociation",component:o.ExpressionFormControlComponent,options:{label:"Grid Object (for Associated data)",tooltip:new r.Tooltip("Please select the grid to use to get record associated data."),dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}}]}]}}}},"./libs/com-example-test210500/src/lib/view-components/get-data-example/design/get-data-example-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GetDataExampleDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/get-data-example/design/get-data-example-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.GetDataExampleDesignComponent],entryComponents:[a.GetDataExampleDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/get-data-example/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/get-data-example/design/get-data-example-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/get-data-example/design/get-data-example-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/get-data-example/design/get-data-example-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/get-data-example/get-data-example-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GetDataExampleRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/get-data-example/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/get-data-example/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500GetDataExample",name:"Example of consuming record definition data",icon:"binary_data",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.GetDataExampleComponent),properties:[{name:"gridObject",enableExpressionEvaluation:!0},{name:"gridObjectAssociation",enableExpressionEvaluation:!0}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.GetDataExampleDesignComponent),designComponentModel:a.GetDataExampleDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.GetDataExampleDesignModule,s.GetDataExampleModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/get-data-example/runtime/get-data-example.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GetDataExampleComponent:()=>f});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/get-data-example/runtime/get-data-example.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/get-data-example/runtime/get-data-example.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-record-api.js"),c=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),d=n("lodash"),u=n("./libs/com-example-test210500/src/lib/view-components/get-data-example/runtime/get-data-example.types.ts"),p=n("./node_modules/@helix/platform/fesm2015/helix-platform-association-api.js"),h=n("./node_modules/@angular/platform-browser/fesm2015/platform-browser.js"),m=n("./node_modules/rxjs/_esm2015/operators/index.js");let f=class extends a.BaseViewComponent{constructor(e,t,n,i,o){super(),this.rxRecordInstanceService=e,this.rxNotificationService=t,this.rxRecordInstanceDataPageService=n,this.rxAssociationInstanceDataPageService=i,this.domSanitizer=o,this.isDisabled=!1,this.recordInstanceId=u.GET_DATA_EXAMPLE_OPTIONS.recordInstanceId,this.resultGetRecordInstance=null,this.recordInstances=[],this.associatedRecordInstances=[],this.pictureContent=null,this.fileName=""}ngOnInit(){this.config.pipe((0,m.takeUntil)(this.destroyed$)).subscribe(e=>{this.componentInputParametersValues=e})}getRecordInstanceById(){this.isDisabled=!0,this.resultGetRecordInstance=null,this.rxRecordInstanceService.get(u.GET_DATA_EXAMPLE_OPTIONS.recordDefinitionName,this.recordInstanceId).subscribe(e=>{this.resultGetRecordInstance=e.fieldInstances},e=>{this.rxNotificationService.addErrorMessage("Error fetching record instance "+this.recordInstanceId+" on record definition "+u.GET_DATA_EXAMPLE_OPTIONS.recordDefinitionName+".")},()=>{this.isDisabled=!1})}createNewRecordInstance(){this.isDisabled=!0,this.rxRecordInstanceService.getNew(u.GET_DATA_EXAMPLE_OPTIONS.recordDefinitionName).subscribe(e=>{e.setFieldValue(l.RX_RECORD_DEFINITION.coreFieldIds.description,"Automated record"),e.setFieldValue(u.GET_DATA_EXAMPLE_OPTIONS.fields.textFieldId,"This is a new record "+Date.now()),this.rxRecordInstanceService.create(e).subscribe(()=>{this.rxNotificationService.addSuccessMessage("New Record Created."),this.refreshGrid()},()=>{this.rxNotificationService.addErrorMessage("Error creating a new record.")},()=>{this.isDisabled=!1})})}updateRecordInstance(e=!1){let t=this.recordInstanceId;(e||(t=this.getSelectedRowInstanceId("Please select a row in the grid."),t))&&(this.isDisabled=!0,this.rxRecordInstanceService.get(u.GET_DATA_EXAMPLE_OPTIONS.recordDefinitionName,t).subscribe(e=>{e.setFieldValue(u.GET_DATA_EXAMPLE_OPTIONS.fields.textFieldId,"Updated the "+Date.now()),this.rxRecordInstanceService.save(e).subscribe(()=>{this.rxNotificationService.addSuccessMessage("Record updated successfully."),this.refreshGrid()},()=>{this.rxNotificationService.addErrorMessage("Error updating the record instance.")})},()=>{this.rxNotificationService.addErrorMessage("Error getting the record instance.")},()=>{this.isDisabled=!1}))}getRecordInstances(){const e={recorddefinition:u.GET_DATA_EXAMPLE_OPTIONS.recordDefinitionName,propertySelection:(0,d.values)(u.GET_DATA_EXAMPLE_OPTIONS.fields).concat((0,d.values)(l.RX_RECORD_DEFINITION.coreFieldIds)),pageSize:-1,startIndex:0,queryExpression:u.GET_DATA_EXAMPLE_OPTIONS.queryExpression};this.isDisabled=!0,this.rxRecordInstanceDataPageService.get({params:e}).subscribe(e=>{this.recordInstances=e.data},()=>{this.rxNotificationService.addErrorMessage("Error fetching the record instances.")},()=>{this.isDisabled=!1})}getAssociatedRecordInstances(){let e="";const t={pageSize:-1,startIndex:0,associationDefinition:u.GET_DATA_EXAMPLE_OPTIONS.associationDefinitionName,nodeToQuery:p.RX_ASSOCIATION_DEFINITION.roles.second.value,associatedRecordInstanceId:"",propertySelection:(0,d.values)(l.RX_RECORD_DEFINITION.coreFieldIds),useDefaultRoleNames:!0};if(this.associatedRecordInstances=[],this.componentInputParametersValues.gridObjectAssociation&&(0,d.isFunction)(this.componentInputParametersValues.gridObjectAssociation.getFirstSelectedRow)){const t=this.componentInputParametersValues.gridObjectAssociation.getFirstSelectedRow();if(!t)return void this.rxNotificationService.addWarningMessage("Please select a Restaurant in the restaurant grid.");e=t.$ID$}this.isDisabled=!0,t.associatedRecordInstanceId=e,this.rxAssociationInstanceDataPageService.get({params:t}).subscribe(e=>{this.associatedRecordInstances=e.data},()=>{this.rxNotificationService.addErrorMessage("Error fetching associated data.")},()=>{this.isDisabled=!1})}setGridFilter(){if(this.componentInputParametersValues.gridObject&&(0,d.isFunction)(this.componentInputParametersValues.gridObject.setFilter)){this.componentInputParametersValues.gridObject.setFilter(null);const e=[{filterOptionId:"7",value:{filterValue:["0"],namedOptions:[]}}];this.componentInputParametersValues.gridObject.setFilter(e),this.componentInputParametersValues.gridObject.refresh().subscribe()}}downloadAttachment(){let e=this.getSelectedRowInstanceId("Please select a row in the Record Instances grid to download its attachment");e&&(this.isDisabled=!0,this.rxRecordInstanceService.get(u.GET_DATA_EXAMPLE_OPTIONS.recordDefinitionName,e).subscribe(t=>{const n=t.getFieldValue(u.GET_DATA_EXAMPLE_OPTIONS.fields.attachmentFieldId);n?(console.log("The attachment url is "+this.rxRecordInstanceService.getAttachmentDownloadUrl(u.GET_DATA_EXAMPLE_OPTIONS.recordDefinitionName,u.GET_DATA_EXAMPLE_OPTIONS.fields.attachmentFieldId,e)),this.rxRecordInstanceService.downloadAttachment(u.GET_DATA_EXAMPLE_OPTIONS.recordDefinitionName,u.GET_DATA_EXAMPLE_OPTIONS.fields.attachmentFieldId,e,n)):this.rxNotificationService.addWarningMessage("It seems this record instance does not have any attachement on the given fieldId."),this.isDisabled=!1}))}getAttachment(){let e=this.getSelectedRowInstanceId("Please select a row in the Record Instances grid to download its attachment");e&&(this.isDisabled=!0,this.pictureContent=null,this.fileName="",this.rxRecordInstanceService.get(u.GET_DATA_EXAMPLE_OPTIONS.recordDefinitionName,e).subscribe(t=>{let n="";if(this.fileName=t.getFieldValue(u.GET_DATA_EXAMPLE_OPTIONS.fields.attachmentFieldId),this.fileName){if(n=this.fileName.split(".").pop().toUpperCase(),-1===(0,d.indexOf)(u.GET_DATA_EXAMPLE_OPTIONS.pictureAllowedExtensions,n))return void this.rxNotificationService.addWarningMessage("The extension "+n+" is not in the list of the allowed extension to be displayed in the web browser.");this.rxRecordInstanceService.getAttachment(u.GET_DATA_EXAMPLE_OPTIONS.recordDefinitionName,u.GET_DATA_EXAMPLE_OPTIONS.fields.attachmentFieldId,e).subscribe(e=>{if(e){const t=window.URL||window.webkitURL;this.pictureContent=this.domSanitizer.bypassSecurityTrustUrl(t.createObjectURL(e))}})}else this.rxNotificationService.addWarningMessage("It seems this record instance does not have any attachement on the given fieldId.");this.isDisabled=!1}))}getSelectedRowInstanceId(e){let t=null;if(this.componentInputParametersValues.gridObject&&(0,d.isFunction)(this.componentInputParametersValues.gridObject.getFirstSelectedRow)){const n=this.componentInputParametersValues.gridObject.getFirstSelectedRow();if(!n)return void this.rxNotificationService.addWarningMessage(e);t=n.$ID$}return t}refreshGrid(){this.componentInputParametersValues.gridObject&&(0,d.isFunction)(this.componentInputParametersValues.gridObject.refresh)&&this.componentInputParametersValues.gridObject.refresh().subscribe()}};f.ctorParameters=()=>[{type:l.RxRecordInstanceService},{type:c.RxNotificationService},{type:l.RxRecordInstanceDataPageService},{type:p.RxAssociationInstanceDataPageService},{type:h.DomSanitizer}],f=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-get-data-example",template:r.default,styles:[o.default]}),(0,i.__metadata)("design:paramtypes",[l.RxRecordInstanceService,c.RxNotificationService,l.RxRecordInstanceDataPageService,p.RxAssociationInstanceDataPageService,h.DomSanitizer])],f)},"./libs/com-example-test210500/src/lib/view-components/get-data-example/runtime/get-data-example.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GetDataExampleModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/get-data-example/runtime/get-data-example.component.ts"),a=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-ui-kit.js");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.AdaptButtonModule,l.RxJsonViewerModule,a.AdaptCodeViewerModule],exports:[s.GetDataExampleComponent],declarations:[s.GetDataExampleComponent],entryComponents:[s.GetDataExampleComponent]})],c)},"./libs/com-example-test210500/src/lib/view-components/get-data-example/runtime/get-data-example.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GET_DATA_EXAMPLE_OPTIONS:()=>i});const i={recordDefinitionName:"com.example.test210500:for data example",recordInstanceId:"AGGAAC47FY79WAQSGUOFQSGUOFXMS9",queryExpression:"'7' = \"0\"",fields:{textFieldId:536870915,timeFieldId:536870914,attachmentFieldId:536870913},associationDefinitionName:"com.example.test210500:Restaurants are in Many Countries",pictureAllowedExtensions:["JPG","JPEG","BMP","GIF","PNG"]}},"./libs/com-example-test210500/src/lib/view-components/get-data-example/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/get-data-example/runtime/get-data-example.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/get-data-example/runtime/get-data-example.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/google-maps-component/design/google-maps-component-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GoogleMapsComponentDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/google-maps-component/design/google-maps-component-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/google-maps-component/design/google-maps-component-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/google-maps-component/design/google-maps-component-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-google-maps-component-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/google-maps-component/design/google-maps-component-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GoogleMapsComponentDesignModel:()=>l});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("rxjs"),s=n("./node_modules/rxjs/_esm2015/operators/index.js");const a={apiKey:"",addressName:"",address:""};class l extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(a)),(0,r.combineLatest)([this.sandbox.componentProperties$]).pipe((0,s.map)(([e])=>this.validate(this.sandbox,e))).subscribe(e=>{this.sandbox.setValidationIssues(e)})}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"apiKey",component:o.TextFormControlComponent,required:!0,options:{label:"Google Maps Api Key"}},{name:"addressName",component:o.ExpressionFormControlComponent,options:{label:"Address Name",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}},{name:"address",component:o.ExpressionFormControlComponent,options:{label:"Address",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}}]}]}}validate(e,t){let n=[];return t.addressName||n.push(e.createError("The Address Name is required.","addressName")),t.address||n.push(e.createError("The Address id is required.","address")),n}}},"./libs/com-example-test210500/src/lib/view-components/google-maps-component/design/google-maps-component-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GoogleMapsComponentDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/google-maps-component/design/google-maps-component-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.GoogleMapsComponentDesignComponent],entryComponents:[a.GoogleMapsComponentDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/google-maps-component/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/google-maps-component/design/google-maps-component-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/google-maps-component/design/google-maps-component-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/google-maps-component/design/google-maps-component-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/google-maps-component/google-maps-component-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GoogleMapsComponentRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/google-maps-component/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/google-maps-component/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500GoogleMapsComponent",name:"Google Maps",group:"Test 21.05.00",icon:"mapmarker",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.GoogleMapsComponentComponent),properties:[{name:"apiKey",type:r.ViewComponentPropertyType.String},{name:"addressName",type:r.ViewComponentPropertyType.String,enableExpressionEvaluation:!0},{name:"address",type:r.ViewComponentPropertyType.String,enableExpressionEvaluation:!0}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.GoogleMapsComponentDesignComponent),designComponentModel:a.GoogleMapsComponentDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.GoogleMapsComponentDesignModule,s.GoogleMapsComponentModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/google-maps-component/runtime/google-maps-component.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GoogleMapsComponentComponent:()=>f});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/google-maps-component/runtime/google-maps-component.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=n("rxjs"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),l=n("./node_modules/@angular/google-maps/fesm2015/google-maps.js"),c=n("./libs/com-example-test210500/src/lib/services/dynamic-service-loader.service.ts"),d=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),u=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),p=n("./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js"),h=n("./node_modules/rxjs/_esm2015/operators/index.js"),m=n("lodash");let f=class extends a.BaseViewComponent{constructor(e,t,n){super(),this.dynamicScriptLoaderServiceService=e,this.rxNotificationService=t,this.translateService=n,this.areResourcesLoaded=!1,this.busyConfigSection={},this.defaultBusyConfig={message:"Loading the address.",busy:null,backdrop:!0,overlayClass:"",sticky:!0,delay:0,minDuration:200,loaderType:u.LoaderType.SECTION,offsetTop:"0px"},this.geocoder=null,this.zoom=18,this.markers=[],this.infoContent="",this.options={zoomControl:!0,scrollwheel:!1,disableDoubleClickZoom:!0,mapTypeId:"hybrid"},this.alertConfiguration={variant:"warning",title:"Missing Google Maps Api Key: ",content:this.translateService.instant("com.example.test210500.view-components.google-maps-component.missing-api-key")}}ngOnInit(){const e=[];this.config.pipe((0,h.distinctUntilChanged)(m.isEqual),(0,h.takeUntil)(this.destroyed$)).subscribe(t=>{this.componentData=t,this.areResourcesLoaded?this.localizeAddress(this.componentData.address,this.componentData.addressName):(this.triggerBusyIndicator(),e.push(this.dynamicScriptLoaderServiceService.loadScriptByUrl("https://maps.googleapis.com/maps/api/js?key="+this.componentData.apiKey,"google-maps-api-key")),e.push(this.dynamicScriptLoaderServiceService.loadStylesheetByUrl("https://fonts.googleapis.com/css?family=Roboto:300,400,500&display=swap","google-maps-font")),e.push(this.dynamicScriptLoaderServiceService.loadStylesheetByUrl("https://fonts.googleapis.com/icon?family=Material+Icons","google-maps-icons")),Promise.all(e).then(e=>{this.completeBusyIndicatorObserver(),this.areResourcesLoaded=!0,this.localizeAddress(this.componentData.address,this.componentData.addressName)}))})}localizeAddress(e,t){const n=this;this.geocoder||(this.geocoder=new google.maps.Geocoder),e&&(this.triggerBusyIndicator(),this.geocoder.geocode({address:e},function(i,o){if(o===google.maps.GeocoderStatus.OK){const o=i[0];n.center={lat:o.geometry.location.lat(),lng:o.geometry.location.lng()},n.rxNotificationService.addSuccessMessage("Address has been successfully located."),n.addMarker(o,t,e),n.completeBusyIndicatorObserver()}else n.completeBusyIndicatorObserver(),n.rxNotificationService.addWarningMessage("Geocode was not successful for the following reason: "+o)}))}addMarker(e,t,n){this.markers=[],this.markers.push({position:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},label:{color:"blue",text:t},title:t,info:n,options:{animation:google.maps.Animation.BOUNCE}})}waitingAddressResolution(e){this.observer=e}triggerBusyIndicator(){this.busyConfigSection=Object.assign(Object.assign({},this.defaultBusyConfig),{busy:new s.Observable(this.waitingAddressResolution.bind(this)).subscribe()})}completeBusyIndicatorObserver(){setTimeout(()=>{this.observer.next(""),this.observer.complete()})}};f.ctorParameters=()=>[{type:c.DynamicScriptLoaderServiceService},{type:d.RxNotificationService},{type:p.TranslateService}],f.propDecorators={map:[{type:r.ViewChild,args:[l.GoogleMap,{static:!1}]}],info:[{type:r.ViewChild,args:[l.MapInfoWindow,{static:!1}]}]},f=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-google-maps-component",template:o.default}),(0,i.__metadata)("design:paramtypes",[c.DynamicScriptLoaderServiceService,d.RxNotificationService,p.TranslateService])],f)},"./libs/com-example-test210500/src/lib/view-components/google-maps-component/runtime/google-maps-component.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GoogleMapsComponentModule:()=>d});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/google-maps-component/runtime/google-maps-component.component.ts"),a=n("./node_modules/@angular/google-maps/fesm2015/google-maps.js"),l=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),c=n("./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js");let d=class{};d=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.GoogleMapsModule,l.AdaptBusyModule,l.AdaptAlertModule,c.TranslateModule],exports:[s.GoogleMapsComponentComponent],declarations:[s.GoogleMapsComponentComponent],entryComponents:[s.GoogleMapsComponentComponent]})],d)},"./libs/com-example-test210500/src/lib/view-components/google-maps-component/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/google-maps-component/runtime/google-maps-component.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/google-maps-component/runtime/google-maps-component.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/iframe/design/iframe-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{IframeDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/iframe/design/iframe-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/iframe/design/iframe-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/iframe/design/iframe-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-iframe-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/iframe/design/iframe-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{IframeDesignModel:()=>p});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),a=n("./libs/com-example-test210500/src/lib/view-components/iframe/design/iframe.types.ts"),l=n("rxjs"),c=n("./node_modules/rxjs/_esm2015/operators/index.js");const d={addAllowFromDomain:!1,cssClasses:"",cssStyles:"",sandboxOptions:[],url:""},u=o.RX_VIEW_DEFINITION.styles.map(e=>({text:e.name,data:{value:e.id}}));class p extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(d)),(0,l.combineLatest)([this.sandbox.componentProperties$]).pipe((0,c.map)(([e])=>this.validate(this.sandbox,e))).subscribe(e=>{this.sandbox.setValidationIssues(e)})}static getInitialProperties(e){return Object.assign(Object.assign({cssClasses:"",cssStyles:"",url:""},e),{addAllowFromDomain:e&&"true"===String(e.addAllowFromDomain),sandboxOptions:e.sandboxOptions?JSON.parse(String(e.sandboxOptions)):[]})}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"url",component:r.ExpressionFormControlComponent,options:{label:"iFrame source url",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}},{name:"sandboxOptions",component:r.SelectFormControlComponent,options:{label:"Sanbox options",options:a.IFRAME_OPTIONS.sandboxOptions.map(e=>({id:e,name:e})),sortAlphabetically:!1,multiple:!0,tooltip:new s.Tooltip('Allows to specify the sanbox security options to be applied to the iFrame Html object.<br>\n                <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe" target="_blank">Reference.</a>')}},{name:"addAllowFromDomain",component:r.SwitchFormControlComponent,options:{label:"Add Allow From Domain",tooltip:new s.Tooltip("Allow from domain can be useful when embedding an Innovation Studio or Chatbot url in an iFrame.<br>\n                It will generate a query parameter to add the current domain in the allow-from-domain query parameter, for example:<br>\n                /com.bmc.dsm.chatbot/index.html?allow-from-domain=https://www.bmc.com")}}]},{label:"Styling",controls:[{name:"cssStyles",component:r.ExpressionFormControlComponent,options:{label:"Apply CSS Styles (style tag)",tooltip:new s.Tooltip("Enter Style properties to apply to this view component.<br>\n                For example:<br>\n                border: 1px solid red;background-color:red;"),dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}},{name:"cssClasses",component:r.TagsFormControlComponent,options:{label:"Apply CSS classes (class tag)",placeholder:"Add CSS classes",autocompleteValues:u,tooltip:new s.Tooltip("Enter CSS class names to apply to this view component."),errorCheck:i.validateCssClassName}}]}]}}validate(e,t){let n=[];return t.url||n.push(e.createError("The url is required.","url")),n}}},"./libs/com-example-test210500/src/lib/view-components/iframe/design/iframe-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{IframeDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/iframe/design/iframe-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.IframeDesignComponent],entryComponents:[a.IframeDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/iframe/design/iframe.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{IFRAME_OPTIONS:()=>i});const i={innovationStudioBaseUrl:"/helix/index.html#/",sandboxOptions:["allow-downloads-without-user-activation","allow-downloads","allow-forms","allow-modals","allow-orientation-lock","allow-pointer-lock","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin","allow-storage-access-by-user-activation","allow-top-navigation","allow-top-navigation-by-user-activation"]}},"./libs/com-example-test210500/src/lib/view-components/iframe/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/iframe/design/iframe-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/iframe/design/iframe-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/iframe/design/iframe-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/iframe/iframe-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{IframeRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/iframe/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/iframe/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500Iframe",icon:"left-windows",name:"iFrame view component",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.IframeComponent),properties:[{name:"url",enableExpressionEvaluation:!0},{name:"sandboxOptions",type:r.ViewComponentPropertyType.String},{name:"cssStyles",enableExpressionEvaluation:!0},{name:"cssClasses",type:r.ViewComponentPropertyType.String},{name:"addAllowFromDomain",type:r.ViewComponentPropertyType.Boolean}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.IframeDesignComponent),designComponentModel:a.IframeDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.IframeDesignModule,s.IframeModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/iframe/runtime/iframe.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{IframeComponent:()=>u});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/iframe/runtime/iframe.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),a=n("./node_modules/@angular/platform-browser/fesm2015/platform-browser.js"),l=n("./libs/com-example-test210500/src/lib/view-components/iframe/design/iframe.types.ts"),c=n("./node_modules/rxjs/_esm2015/operators/index.js"),d=n("lodash");let u=class extends s.BaseViewComponent{constructor(e){super(),this.domSanitizer=e,this.sandboxOptions=null}ngOnInit(){this.config.pipe((0,c.distinctUntilChanged)(d.isEqual),(0,c.takeUntil)(this.destroyed$)).subscribe(e=>{this.componentData=e;let t=this.componentData.url||"";this.componentData.addAllowFromDomain&&t.includes(l.IFRAME_OPTIONS.innovationStudioBaseUrl)&&(t=l.IFRAME_OPTIONS.innovationStudioBaseUrl.replace("#/","?allow-from-domain="+encodeURIComponent(window.location.origin)+"#/")+t.split(l.IFRAME_OPTIONS.innovationStudioBaseUrl)[1]),this.iFrameUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(t),this.sandboxOptions=this.componentData.sandboxOptions?JSON.parse(String(this.componentData.sandboxOptions)).join(" "):""})}};u.ctorParameters=()=>[{type:a.DomSanitizer}],u=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-iframe",template:o.default}),(0,i.__metadata)("design:paramtypes",[a.DomSanitizer])],u)},"./libs/com-example-test210500/src/lib/view-components/iframe/runtime/iframe.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{IframeModule:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/iframe/runtime/iframe.component.ts");let a=class{};a=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule],exports:[s.IframeComponent],declarations:[s.IframeComponent],entryComponents:[s.IframeComponent]})],a)},"./libs/com-example-test210500/src/lib/view-components/iframe/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/iframe/runtime/iframe.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/iframe/runtime/iframe.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/image-click/design/image-click-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ImageClickDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/image-click/design/image-click-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/image-click/design/image-click-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/image-click/design/image-click-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-image-click-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/image-click/design/image-click-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ImageClickDesignModel:()=>l});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("rxjs"),s=n("./node_modules/rxjs/_esm2015/operators/index.js"),a=n("lodash");class l extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.viewActionValidatorService=this.injector.get(i.RxViewActionValidatorService);const n=this.sandbox.getChildComponents();t.updateInspectorConfig(this.setInspectorConfig()),(0,r.combineLatest)([n.pipe((0,s.map)(e=>{let n=[];return e&&0!==e.length||n.push(t.createError("Please add at least one action.","actions")),n})),n.pipe((0,s.switchMap)(e=>this.viewActionValidatorService.validate(e,"actions"))),this.sandbox.componentProperties$.pipe((0,s.map)(e=>this.validate(this.sandbox,e)))]).pipe((0,s.map)(a.flatten),(0,s.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>{this.sandbox.setValidationIssues(e)})}static getInitialProperties(e){return Object.assign({title:"",actions:[]},e)}setInspectorConfig(){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"title",component:o.ExpressionFormControlComponent,options:{label:"Title",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}}]},{label:"Actions",controls:[{widgetName:"actions",component:i.ActionListWidgetComponent}]}]}}validate(e,t){let n=[];return t.title||n.push(e.createError("Please enter the image title.","title")),n}}},"./libs/com-example-test210500/src/lib/view-components/image-click/design/image-click-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ImageClickDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/image-click/design/image-click-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.ImageClickDesignComponent],entryComponents:[a.ImageClickDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/image-click/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/image-click/design/image-click-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/image-click/design/image-click-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/image-click/design/image-click-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/image-click/image-click-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ImageClickRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/image-click/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/image-click/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"com-example-test210500-image-click",name:"Image Click",group:"Test 21.05.00",icon:"image_square",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.ImageClickComponent),designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.ImageClickDesignComponent),designComponentModel:a.ImageClickDesignModel,bundleId:"com.example.test210500",isContainerComponent:!0,options:{canBeEmbeddedInRecordEditor:!0},properties:[{name:"title",enableExpressionEvaluation:!0}]})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.ImageClickDesignModule,s.ImageClickModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/image-click/runtime/image-click.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ImageClickComponent:()=>p});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/image-click/runtime/image-click.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/image-click/runtime/image-click.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),c=n("./libs/com-example-test210500/src/lib/services/get-asset-path.service.ts"),d=n("./node_modules/rxjs/_esm2015/operators/index.js"),u=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js");let p=class extends a.BaseViewComponent{constructor(e,t){super(),this.getAssetPathService=e,this.rxNotificationService=t,this.assetRootPath="",this.title="",this.isInProgress=!1}ngOnInit(){this.assetRootPath=this.getAssetPathService.getAssetRootPath("com.example.test210500"),this.config.pipe((0,d.pluck)("title"),(0,d.distinctUntilChanged)(),(0,d.takeUntil)(this.destroyed$)).subscribe(e=>{this.title=e})}clickImage(){if(!this.isInProgress)return this.isInProgress=!0,this.runtimeViewModelApi.triggerViewActions(this.guid,a.VIEW_COMPONENT_DEFAULT_EVENT_NAME).then(e=>{this.isInProgress=!1}).catch(e=>{this.isInProgress=!1,this.rxNotificationService.addErrorMessage("Error triggering the actions "+e)});this.rxNotificationService.addInfoMessage("Please wait, you already clicked on the image :)")}};p.ctorParameters=()=>[{type:c.GetAssetPathService},{type:u.RxNotificationService}],p=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-image-click",template:r.default,styles:[o.default]}),(0,l.RxViewComponent)({name:"com-example-test210500-image-click"}),(0,i.__metadata)("design:paramtypes",[c.GetAssetPathService,u.RxNotificationService])],p)},"./libs/com-example-test210500/src/lib/view-components/image-click/runtime/image-click.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ImageClickModule:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/image-click/runtime/image-click.component.ts");let a=class{};a=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule],exports:[s.ImageClickComponent],declarations:[s.ImageClickComponent],entryComponents:[s.ImageClickComponent]})],a)},"./libs/com-example-test210500/src/lib/view-components/image-click/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/image-click/runtime/image-click.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/image-click/runtime/image-click.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/label/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/label/design/label-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/label/design/label-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/label/design/label-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/label/design/label-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LabelDesignComponent:()=>s});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/label/design/label-design.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js");let s=class{};s.propDecorators={model:[{type:r.Input}]},s=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-label-design",template:o.default})],s)},"./libs/com-example-test210500/src/lib/view-components/label/design/label-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LabelDesignModel:()=>o});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js");class o{constructor(e,t){this.injector=e,this.sandbox=t;t.updateInspectorConfig(this.getInspector({label:"New Label"}))}getInspector(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"label",component:i.TextFormControlComponent,options:{label:"label"}}]}]}}}},"./libs/com-example-test210500/src/lib/view-components/label/design/label-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LabelDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/label/design/label-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.LabelDesignComponent],entryComponents:[a.LabelDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/label/label-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LabelRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/label/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/label/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500Label",name:"Default view component for test210500.com-example-test210500 (label)",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.LabelComponent),properties:[{name:"label",type:r.ViewComponentPropertyType.String}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.LabelDesignComponent),designComponentModel:a.LabelDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.LabelDesignModule,s.LabelModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/label/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/label/runtime/label.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/label/runtime/label.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/label/runtime/label.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LabelComponent:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/label/runtime/label.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),a=n("./node_modules/rxjs/_esm2015/operators/index.js");let l=class extends s.BaseViewComponent{ngOnInit(){this.config.pipe((0,a.takeUntil)(this.destroyed$)).subscribe(e=>{this.componentData=e})}};l=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-label",template:o.default})],l)},"./libs/com-example-test210500/src/lib/view-components/label/runtime/label.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LabelModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/label/runtime/label.component.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/label/runtime/label.pipe.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule],exports:[s.LabelComponent,a.LabelPipe],declarations:[s.LabelComponent,a.LabelPipe],entryComponents:[s.LabelComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/label/runtime/label.pipe.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LabelPipe:()=>s});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/numeral/numeral.js");let s=class{constructor(){void 0===r.locales.ro&&r.register("locale","ro",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return 1===e?"er":"\xe8me"},currency:{symbol:"RON"}}),r.locale("ro")}transform(e,t){const n=r(e);let i="0,0.";for(let o=0;o<t;o++)i+="0";return n.format(i)}};s.ctorParameters=()=>[],s=(0,i.__decorate)([(0,o.Pipe)({name:"decimalUnit"}),(0,i.__metadata)("design:paramtypes",[])],s)},"./libs/com-example-test210500/src/lib/view-components/lifecycle/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/lifecycle/design/lifecycle-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/lifecycle/design/lifecycle-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/lifecycle/design/lifecycle-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/lifecycle/design/lifecycle-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LifecycleDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/lifecycle/design/lifecycle-design.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=(n("./libs/com-example-test210500/src/lib/view-components/lifecycle/design/lifecycle-design.model.ts"),n("./libs/com-example-test210500/src/lib/view-components/lifecycle/design/lifecycle-design.types.ts"));let a=class{constructor(){this.size=s.LIFECYCLE_OPTIONS.defaultSize,this.defaultSteps=s.LIFECYCLE_OPTIONS.defaultSteps,this.progress=s.LIFECYCLE_OPTIONS.defaultProgression}};a.propDecorators={model:[{type:r.Input}]},a=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-lifecycle-design",template:o.default})],a)},"./libs/com-example-test210500/src/lib/view-components/lifecycle/design/lifecycle-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LifecycleDesignModel:()=>u});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-ui-kit.js"),s=n("./node_modules/rxjs/_esm2015/operators/index.js"),a=n("rxjs"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-record-api.js"),c=n("lodash");const d={recordDefinitionName:"",selectionFieldId:"",selectionValue:""};class u extends i.ViewDesignerComponentModel{constructor(){super(...arguments),this.currentSelectionFields=[],this.rxModalService=this.injector.get(r.RxModalService),this.rxRecordDefinitionCacheService=this.injector.get(l.RxRecordDefinitionCacheService),this.recordDefinitionName$=this.sandbox.getComponentPropertyValue("recordDefinitionName"),this.selectionFieldId$=this.sandbox.getComponentPropertyValue("selectionFieldId"),this.selectionFields$=this.recordDefinitionName$.pipe((0,s.switchMap)(e=>e?this.getSelectionFields(e):(0,a.of)([]))),this.statusList$=this.selectionFieldId$.pipe((0,s.distinctUntilChanged)(),(0,s.withLatestFrom)(this.sandbox.componentProperties$),(0,s.switchMap)(([e,t])=>e?this.getSelectionFieldIdValues(e,t):(0,a.of)([])))}rxInit(){this.sandbox.componentProperties$.pipe((0,s.take)(1)).subscribe(e=>{this.sandbox.updateInspectorConfig(this.setInspectorConfig(d))}),this.recordDefinitionName$.pipe((0,s.skip)(1),(0,s.withLatestFrom)(this.sandbox.componentProperties$),(0,s.takeUntil)(this.sandbox.destroyed$)).subscribe(([e,t])=>{const n=Object.assign(Object.assign({},t),{selectionFieldId:"",recordDefinitionName:e});(0,c.forEach)(n,(e,t)=>{(0,c.startsWith)(t,"statusList.")&&(n[t]=null)}),this.currentSelectionFields=[],this.sandbox.updateComponentProperties(n),this.sandbox.updateInspectorConfig(this.setInspectorConfig(n))}),this.selectionFieldId$.pipe((0,s.skip)(1),(0,s.withLatestFrom)(this.sandbox.componentProperties$),(0,s.takeUntil)(this.sandbox.destroyed$)).subscribe(([e,t])=>{const n=Object.assign(Object.assign({},t),{selectionFieldId:e});(0,c.forEach)(n,(e,t)=>{(0,c.startsWith)(t,"statusList.")&&(n[t]=null)}),this.sandbox.updateComponentProperties(n),this.sandbox.updateInspectorConfig(this.setInspectorConfig(n,this.currentSelectionFields))}),this.selectionFields$.pipe((0,s.withLatestFrom)(this.sandbox.componentProperties$),(0,s.takeUntil)(this.sandbox.destroyed$)).subscribe(([e,t])=>{this.currentSelectionFields=e,this.sandbox.updateInspectorConfig(this.setInspectorConfig(t,e))}),this.statusList$.pipe((0,s.withLatestFrom)(this.sandbox.componentProperties$),(0,s.takeUntil)(this.sandbox.destroyed$)).subscribe(([e,t])=>{this.sandbox.updateInspectorConfig(this.setInspectorConfig(t,this.currentSelectionFields,e))}),(0,a.combineLatest)([this.sandbox.componentProperties$]).pipe((0,s.map)(([e])=>this.validate(this.sandbox,e))).subscribe(e=>{this.sandbox.setValidationIssues(e)})}static getInitialProperties(e){const t=Object.assign({},e);return(0,c.forEach)(e,(e,n)=>{(0,c.startsWith)(n,"statusList.")&&(t[n]="true"===e)}),Object.assign({recordDefinitionName:"",selectionFieldId:""},t)}setInspectorConfig(e,t=[],n=[]){const i=this;return{inspectorSectionConfigs:[{label:"General",controls:[{name:"recordDefinitionName",component:o.RxDefinitionPickerComponent,options:{label:"Record Definition Name",definitionType:o.RxDefinitionPickerType.RegularRecord,required:!0,beforeValueChange:(e,t)=>Boolean(e)?i.rxModalService.confirm({title:"Warning",modalStyle:r.RX_MODAL.modalStyles.warning,message:"Field Id and currently selected statuses will be cleared. Do you want to continue?"}):Promise.resolve(!0)}},{name:"selectionFieldId",component:o.SelectFormControlComponent,options:{label:"Selection Field",options:t,required:!0,beforeValueChange:(e,t)=>Boolean(e)?i.rxModalService.confirm({title:"Warning",modalStyle:r.RX_MODAL.modalStyles.warning,message:"Currently selected statuses will be cleared. Do you want to continue?"}):Promise.resolve(!0)}},{name:"selectionValue",component:o.ExpressionFormControlComponent,options:{label:"Selection value",isRequired:!0,dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}}]},{label:"Lifecycle values",controls:[...e.selectionFieldId?(0,c.map)(n,e=>({name:`statusList.${e.id}`,component:o.SwitchFormControlComponent,options:{label:e.name}})):[]]}]}}getSelectionFields(e){return this.rxRecordDefinitionCacheService.getRecordDefinition(e).pipe((0,s.map)(e=>e.fieldDefinitions.filter(e=>e.resourceType===l.RX_RECORD_DEFINITION.resourceTypes.selection&&e.id!==l.RX_RECORD_DEFINITION.coreFieldIds.notifierListening).map(({id:e,name:t})=>({id:e.toString(),name:t}))))}getSelectionFieldIdValues(e,t){return this.rxRecordDefinitionCacheService.getRecordDefinition(t.recordDefinitionName).pipe((0,s.map)(t=>{const n=(0,c.find)(t.fieldDefinitions,{id:Number(e)});return(0,c.map)(n.optionNamesById,(e,t)=>({id:t,name:e}))}))}validate(e,t){let n=[];if(t.recordDefinitionName||n.push(e.createError("A value is required for record definition.","recordDefinitionName")),t.selectionFieldId||n.push(e.createError("A value is required for the selection field.","selectionFieldId")),t.selectionValue||n.push(e.createError("A value is required for the selection value.","selectionValue")),t.selectionFieldId){let i=!1;(0,c.forEach)(t,(e,n)=>{(0,c.startsWith)(n,"statusList.")&&(!0!==t[n]&&"true"!==t[n]||(i=!0))}),i||n.push(e.createError("At least one selection value must be checked.","selectionValue"))}return n}}},"./libs/com-example-test210500/src/lib/view-components/lifecycle/design/lifecycle-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LifecycleDesignModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/lifecycle/design/lifecycle-design.component.ts"),l=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule,l.AdaptWorkFlowModule],declarations:[a.LifecycleDesignComponent],entryComponents:[a.LifecycleDesignComponent]})],c)},"./libs/com-example-test210500/src/lib/view-components/lifecycle/design/lifecycle-design.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LIFECYCLE_OPTIONS:()=>o});var i=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");const o={defaultSteps:[{label:"New",icon:"check_circle",variant:"success"},{label:"Pending",icon:"exclamation_circle"},{label:"Closed",icon:"check_circle"}],defaultProgression:[{type:i.AdaptProgressType.success,value:50},{type:i.AdaptProgressType.success,value:0},{type:i.AdaptProgressType.success,value:0}],defaultSize:"large"}},"./libs/com-example-test210500/src/lib/view-components/lifecycle/lifecycle-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LifecycleRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/lifecycle/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/lifecycle/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500Lifecycle",name:"lifecycle",icon:"arrows_cycle",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.LifecycleComponent),properties:[{name:"recordDefinitionName",type:r.ViewComponentPropertyType.String},{name:"selectionFieldId",type:r.ViewComponentPropertyType.String},{name:"selectionValue",enableExpressionEvaluation:!0},{name:"statusList"}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.LifecycleDesignComponent),designComponentModel:a.LifecycleDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.LifecycleDesignModule,s.LifecycleModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/lifecycle/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/lifecycle/runtime/lifecycle.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/lifecycle/runtime/lifecycle.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/lifecycle/runtime/lifecycle.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LifecycleComponent:()=>p});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/lifecycle/runtime/lifecycle.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),a=n("./libs/com-example-test210500/src/lib/view-components/lifecycle/design/lifecycle-design.types.ts"),l=n("./node_modules/rxjs/_esm2015/operators/index.js"),c=n("./node_modules/@helix/platform/fesm2015/helix-platform-record-api.js"),d=n("lodash"),u=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");let p=class extends s.BaseViewComponent{constructor(e){super(),this.rxRecordDefinitionCacheService=e,this.size=a.LIFECYCLE_OPTIONS.defaultSize,this.workflowSteps=[],this.workflowProgress=[],this.isConfigurationInProgress=!0,this.activeIndex=0,this.selectionFields=[]}ngOnInit(){this.config.pipe((0,l.take)(1)).subscribe(e=>{this.componentData=e,this.isConfigurationInProgress=!0,this.buildWorkflowSteps(this.componentData.recordDefinitionName,this.componentData.selectionFieldId).subscribe(e=>{this.selectionFields=e,(0,d.forEach)(e,e=>{this.workflowSteps.push({label:e.name,icon:"",variant:""}),this.workflowProgress.push({type:u.AdaptProgressType.success,value:0})}),this.isConfigurationInProgress=!1,this.selectStep(Number(this.componentData.selectionValue))})}),this.config.pipe((0,l.pluck)("selectionValue"),(0,l.distinctUntilChanged)(),(0,l.takeUntil)(this.destroyed$)).subscribe(e=>{this.selectStep(Number(e))})}selectStep(e){if(e>=0){const t=(0,d.findIndex)(this.selectionFields,{id:String(e)});if(-1!==t)for(let e=0;e<this.selectionFields.length;e++)e<t?(this.workflowProgress[e].value=100,this.workflowProgress[e].completed=!0):(this.workflowProgress[e].value=0,this.workflowProgress[e].completed=!1),e<=t?(this.workflowSteps[e].icon="check_circle",this.workflowSteps[e].variant="success"):(this.workflowSteps[e].icon="exclamation_circle",this.workflowSteps[e].variant=""),this.activeIndex=t}}buildWorkflowSteps(e,t){return this.rxRecordDefinitionCacheService.getRecordDefinition(e).pipe((0,l.map)(e=>{const n=[],i=(0,d.find)(e.fieldDefinitions,{id:Number(t)});return(0,d.forEach)(i.optionNamesById,(e,t)=>{"true"===this.componentData.statusList[Number(t)]&&n.push({id:t,name:e})}),n}))}};p.ctorParameters=()=>[{type:c.RxRecordDefinitionCacheService}],p=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-lifecycle",template:o.default}),(0,i.__metadata)("design:paramtypes",[c.RxRecordDefinitionCacheService])],p)},"./libs/com-example-test210500/src/lib/view-components/lifecycle/runtime/lifecycle.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LifecycleModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/lifecycle/runtime/lifecycle.component.ts"),a=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.AdaptWorkFlowModule],exports:[s.LifecycleComponent],declarations:[s.LifecycleComponent],entryComponents:[s.LifecycleComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/list-icons/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/list-icons/design/list-icons-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/list-icons/design/list-icons-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/list-icons/design/list-icons-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/list-icons/design/list-icons-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ListIconsDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/list-icons/design/list-icons-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/list-icons/design/list-icons-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-list-icons-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/list-icons/design/list-icons-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ListIconsDesignModel:()=>o});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js");class o extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t}}},"./libs/com-example-test210500/src/lib/view-components/list-icons/design/list-icons-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ListIconsDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/list-icons/design/list-icons-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.ListIconsDesignComponent],entryComponents:[a.ListIconsDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/list-icons/list-icons-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ListIconsRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/list-icons/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/list-icons/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500ListIcons",name:"List available Icons",icon:"lines_search",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.ListIconsComponent),properties:[],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.ListIconsDesignComponent),designComponentModel:a.ListIconsDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.ListIconsDesignModule,s.ListIconsModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/list-icons/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/list-icons/runtime/list-icons.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/list-icons/runtime/list-icons.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/list-icons/runtime/list-icon.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{IconFilterTrackingService:()=>s});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("rxjs");let s=class{constructor(){this.filterComplete=new r.Subject,this.isFilterComplete$=this.filterComplete.asObservable()}};s.ctorParameters=()=>[],s=(0,i.__decorate)([(0,o.Injectable)(),(0,i.__metadata)("design:paramtypes",[])],s)},"./libs/com-example-test210500/src/lib/view-components/list-icons/runtime/list-icons.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ListIconsComponent:()=>d});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/list-icons/runtime/list-icons.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/list-icons/runtime/list-icons.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),l=n("lodash"),c=n("./libs/com-example-test210500/src/lib/view-components/list-icons/runtime/list-icon.service.ts");let d=class extends a.BaseViewComponent{constructor(e){super(),this.iconFilterTrackingService=e,this.availableIcons=[],this.searchingValue="",this.numberOfFilteredIcons=0,this.alertConfiguration={variant:"info",title:"No results: ",content:"No icon have been found."}}ngOnInit(){this.getAllAvailableIcons(),this.availableIcons=(0,l.sortBy)(this.availableIcons,["ruleName"]),this.numberOfFilteredIcons=this.availableIcons.length,this.iconFilterTrackingService.isFilterComplete$.subscribe(e=>{setTimeout(()=>{this.numberOfFilteredIcons=e})})}getAllAvailableIcons(){(0,l.forEach)(document.styleSheets,e=>{if(e.href&&e.href.includes("/styles.")||(0,s.isDevMode)()){const t=e.cssRules;if((0,l.forEach)(t,e=>{if((0,l.startsWith)(e.selectorText,".d-icon-")){let t=e.selectorText.split(".d-icon-")[1];t=(0,l.first)(t.split(":")),this.availableIcons.push({ruleName:t,iconCode:e.style.content,className:this.cleanClassName(e.selectorText)})}}),!(0,s.isDevMode)())return}})}cleanClassName(e){let t=e.replace(/::before/g,"").replace(/::after/g,"").split(",");return t=(0,l.map)(t,e=>e.trim().substr(1)),t.join(", ")}};d.ctorParameters=()=>[{type:c.IconFilterTrackingService}],d=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-list-icons",template:r.default,styles:[o.default]}),(0,i.__metadata)("design:paramtypes",[c.IconFilterTrackingService])],d)},"./libs/com-example-test210500/src/lib/view-components/list-icons/runtime/list-icons.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ListIconsModule:()=>u});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/list-icons/runtime/list-icons.component.ts"),a=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),l=n("./node_modules/@angular/forms/fesm2015/forms.js"),c=n("./libs/com-example-test210500/src/lib/view-components/list-icons/runtime/list-icons.pipe.ts"),d=n("./libs/com-example-test210500/src/lib/view-components/list-icons/runtime/list-icon.service.ts");let u=class{};u=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.AdaptRxSearchModule,l.FormsModule,a.AdaptAlertModule],exports:[s.ListIconsComponent],providers:[d.IconFilterTrackingService],declarations:[s.ListIconsComponent,c.IconPipe],entryComponents:[s.ListIconsComponent]})],u)},"./libs/com-example-test210500/src/lib/view-components/list-icons/runtime/list-icons.pipe.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{IconPipe:()=>s});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./libs/com-example-test210500/src/lib/view-components/list-icons/runtime/list-icon.service.ts");let s=class{constructor(e){this.iconFilterTrackingService=e}transform(e,t){if(!e)return this.emitNumberOfFilteredIcons(0),[];if(!t||t.length<3)return this.emitNumberOfFilteredIcons(e.length),e;const n=e.filter(e=>e.ruleName.toLowerCase().includes(t.toLowerCase()));return this.emitNumberOfFilteredIcons(n.length),n}emitNumberOfFilteredIcons(e){this.iconFilterTrackingService.filterComplete.next(e)}};s.ctorParameters=()=>[{type:r.IconFilterTrackingService}],s=(0,i.__decorate)([(0,o.Pipe)({name:"iconFilter"}),(0,i.__metadata)("design:paramtypes",[r.IconFilterTrackingService])],s)},"./libs/com-example-test210500/src/lib/view-components/lmame/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/lmame/design/lmame-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/lmame/design/lmame-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/lmame/design/lmame-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/lmame/design/lmame-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LmameDesignComponent:()=>s});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/lmame/design/lmame-design.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js");let s=class{};s.propDecorators={model:[{type:r.Input}]},s=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-lmame-design",template:o.default})],s)},"./libs/com-example-test210500/src/lib/view-components/lmame/design/lmame-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LmameDesignModel:()=>o});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js");class o{constructor(e,t){this.injector=e,this.sandbox=t;t.updateInspectorConfig(this.getInspector({lmame:""}))}getInspector(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"lmame",component:i.TextFormControlComponent,options:{label:"label"}}]}]}}}},"./libs/com-example-test210500/src/lib/view-components/lmame/design/lmame-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LmameDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/lmame/design/lmame-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.LmameDesignComponent],entryComponents:[a.LmameDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/lmame/lmame-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LmameRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/lmame/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/lmame/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500Lmame",name:"Lmame",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.LmameComponent),properties:[{name:"lmame",type:r.ViewComponentPropertyType.String}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.LmameDesignComponent),designComponentModel:a.LmameDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.LmameDesignModule,s.LmameModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/lmame/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/lmame/runtime/lmame.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/lmame/runtime/lmame.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/lmame/runtime/lmame.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LmameComponent:()=>u});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/lmame/runtime/lmame.component.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/lmame/runtime/lmame.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),l=n("./libs/com-example-test210500/src/lib/services/dynamic-service-loader.service.ts"),c=n("./libs/com-example-test210500/src/lib/services/get-asset-path.service.ts"),d=n("./node_modules/rxjs/_esm2015/operators/index.js");let u=class extends a.BaseViewComponent{constructor(e,t){super(),this.dynamicScriptLoaderServiceService=e,this.getAssetPathService=t,this.assetRootPath=this.getAssetPathService.getAssetRootPath("com.example.test210500")}ngOnInit(){this.config.pipe((0,d.pluck)("lmame"),(0,d.distinctUntilChanged)(),(0,d.takeUntil)(this.destroyed$)).subscribe(e=>{this.lmame=e}),this.dynamicScriptLoaderServiceService.load("com.example.test210500.lma3").then(e=>{console.log("Script loaded successfully!"),this.hello=alertMe3("James Bond!")}).catch(e=>console.log(e))}};u.ctorParameters=()=>[{type:l.DynamicScriptLoaderServiceService},{type:c.GetAssetPathService}],u=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-lmame",template:r.default,styles:[o.default]}),(0,i.__metadata)("design:paramtypes",[l.DynamicScriptLoaderServiceService,c.GetAssetPathService])],u)},"./libs/com-example-test210500/src/lib/view-components/lmame/runtime/lmame.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LmameModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/lmame/runtime/lmame.component.ts"),a=n("./libs/com-example-test210500/src/lib/services/dynamic-service-loader.service.ts"),l=n("./libs/com-example-test210500/src/lib/services/get-asset-path.service.ts");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule],exports:[s.LmameComponent],declarations:[s.LmameComponent],entryComponents:[s.LmameComponent],providers:[a.DynamicScriptLoaderServiceService,l.GetAssetPathService]})],c)},"./libs/com-example-test210500/src/lib/view-components/open-blade/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/open-blade/design/open-blade-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/open-blade/design/open-blade-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/open-blade/design/open-blade-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/open-blade/design/open-blade-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{OpenBladeDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/open-blade/design/open-blade-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/open-blade/design/open-blade-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/open-blade/design/open-blade-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-open-blade-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/open-blade/design/open-blade-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{OpenBladeDesignModel:()=>c});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),s=n("rxjs"),a=n("./node_modules/rxjs/_esm2015/operators/index.js");const l={viewName:""};class c extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(l)),(0,s.combineLatest)([this.sandbox.componentProperties$]).pipe((0,a.map)(([e])=>this.validate(this.sandbox,e))).subscribe(e=>{this.sandbox.setValidationIssues(e)})}static getInitialProperties(e){return Object.assign({viewName:""},e)}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"viewName",component:o.RxDefinitionPickerComponent,options:{label:"View Name",tooltip:new r.Tooltip("Innovation Studio View Name to be opened in the blade."),definitionType:o.RxDefinitionPickerType.View,required:!0}}]}]}}validate(e,t){const n=[];return t.viewName||n.push(e.createError("View name cannot be blank.","viewName")),n}}},"./libs/com-example-test210500/src/lib/view-components/open-blade/design/open-blade-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{OpenBladeDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/open-blade/design/open-blade-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.OpenBladeDesignComponent],entryComponents:[a.OpenBladeDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/open-blade/open-blade-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{OpenBladeRegistrationModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/open-blade/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/open-blade/design/index.ts"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-actions.js");let c=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500OpenBlade",icon:"left-windows_registry",name:"Open Blade",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.OpenBladeComponent),designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.OpenBladeDesignComponent),designComponentModel:a.OpenBladeDesignModel,bundleId:"com.example.test210500",properties:[{name:"viewName"}]})}};c.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],c=(0,i.__decorate)([(0,o.NgModule)({imports:[a.OpenBladeDesignModule,s.OpenBladeModule,l.OpenViewActionModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],c)},"./libs/com-example-test210500/src/lib/view-components/open-blade/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/open-blade/runtime/open-blade.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/open-blade/runtime/open-blade.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/open-blade/runtime/open-blade.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{OpenBladeComponent:()=>h});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/open-blade/runtime/open-blade.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/open-blade/runtime/open-blade.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("rxjs"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),c=n("./node_modules/rxjs/_esm2015/operators/index.js"),d=n("lodash"),u=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-actions.js"),p=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js");let h=class extends l.BaseViewComponent{constructor(e){super(),this.rxOpenViewActionService=e,this.viewResult=""}ngOnInit(){this.config.pipe((0,c.distinctUntilChanged)(d.isEqual),(0,c.takeUntil)(this.destroyed$)).subscribe(e=>{this.inputParams=e})}openBlade(){const e={presentation:{type:p.OpenViewActionType.DockedRightModal,title:this.inputParams.viewName},viewDefinitionName:this.inputParams.viewName,viewParams:{"first name":"John","last name":"Wick"}};this.rxOpenViewActionService.execute(e).pipe((0,c.catchError)(e=>(this.viewResult="The view has been closed, with Cancel action.",(0,a.throwError)(e)))).subscribe(e=>{this.viewResult="The view has been closed and returned "+(0,d.get)(e,"full name")+"."})}};h.ctorParameters=()=>[{type:u.RxOpenViewActionService}],h=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-open-blade",template:r.default,styles:[o.default]}),(0,i.__metadata)("design:paramtypes",[u.RxOpenViewActionService])],h)},"./libs/com-example-test210500/src/lib/view-components/open-blade/runtime/open-blade.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{OpenBladeModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/open-blade/runtime/open-blade.component.ts"),a=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.AdaptButtonModule],exports:[s.OpenBladeComponent],declarations:[s.OpenBladeComponent],entryComponents:[s.OpenBladeComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/qr-code-generator/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/qr-code-generator/design/qr-code-generator-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/qr-code-generator/design/qr-code-generator-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/qr-code-generator/design/qr-code-generator-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/qr-code-generator/design/qr-code-generator-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{QrCodeGeneratorDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/qr-code-generator/design/qr-code-generator-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/qr-code-generator/design/qr-code-generator-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/qr-code-generator/design/qr-code-generator-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-qr-code-generator-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/qr-code-generator/design/qr-code-generator-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{QrCodeGeneratorDesignModel:()=>h});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),a=n("rxjs"),l=n("./node_modules/rxjs/_esm2015/operators/index.js"),c=n("./libs/com-example-test210500/src/lib/view-components/qr-code-generator/design/qr-code-generator.types.ts"),d=n("./libs/com-example-test210500/src/lib/inspectors/slider/slider.component.ts");const u={backgroundColor:"",color:"",content:"",fontColor:"",fontName:"",imageAsCode:!1,label:"",pictureBase64:"",useLabel:!1,usePicture:!1,cssClasses:"",fontSize:0,imageSize:0},p=o.RX_VIEW_DEFINITION.styles.map(e=>({text:e.name,data:{value:e.id}}));class h extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t;const n=this.sandbox.componentProperties$.pipe((0,l.pluck)("useLabel"),(0,l.distinctUntilChanged)()),i=this.sandbox.componentProperties$.pipe((0,l.pluck)("usePicture"),(0,l.distinctUntilChanged)()),o=(0,a.combineLatest)([n,i]);n.pipe((0,l.skip)(1)).subscribe(e=>{this.sandbox.updateComponentProperties(Object.assign({useLabel:e},e?{label:e?c.QR_CODE_GENERATOR_OPTIONS.defaultValues.label:"",fontName:c.QR_CODE_GENERATOR_OPTIONS.defaultValues.fontName,fontColor:c.QR_CODE_GENERATOR_OPTIONS.defaultValues.fontColor,fontSize:c.QR_CODE_GENERATOR_OPTIONS.defaultValues.fontSize}:{}))}),i.pipe((0,l.skip)(1)).subscribe(e=>{this.sandbox.updateComponentProperties(Object.assign({usePicture:e},e?{pictureBase64:"",imageAsCode:!1,imageSize:c.QR_CODE_GENERATOR_OPTIONS.defaultValues.fontSize}:{}))}),o.subscribe(([e,t])=>{this.sandbox.updateInspectorConfig(this.setInspectorConfig(u,e,t))}),(0,a.combineLatest)([this.sandbox.componentProperties$]).pipe((0,l.map)(([e])=>this.validate(this.sandbox,e))).subscribe(e=>{this.sandbox.setValidationIssues(e)})}static getInitialProperties(e){return Object.assign(Object.assign({backgroundColor:c.QR_CODE_GENERATOR_OPTIONS.defaultValues.backgroundColor,color:c.QR_CODE_GENERATOR_OPTIONS.defaultValues.color,content:"",fontColor:c.QR_CODE_GENERATOR_OPTIONS.defaultValues.fontColor,fontName:c.QR_CODE_GENERATOR_OPTIONS.defaultValues.fontName,fontSize:c.QR_CODE_GENERATOR_OPTIONS.defaultValues.fontSize,imageSize:c.QR_CODE_GENERATOR_OPTIONS.defaultValues.fontSize,label:"",pictureBase64:"",cssClasses:""},e),{useLabel:e&&"true"===String(e.useLabel),usePicture:e&&"true"===String(e.usePicture),imageAsCode:e&&"true"===String(e.imageAsCode)})}setInspectorConfig(e,t,n){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"content",component:r.ExpressionFormControlComponent,options:{label:"QR code content",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}},{name:"color",component:r.ColorPickerFormControlComponent,options:{label:"Color"}},{name:"backgroundColor",component:r.ColorPickerFormControlComponent,options:{label:"Background color"}},{name:"cssStyles",component:r.TagsFormControlComponent,options:{label:"CSS classes",placeholder:"Add CSS classes",autocompleteValues:p,tooltip:new s.Tooltip("Enter CSS class names to apply to this view component."),errorCheck:i.validateCssClassName}}]},{label:"Label",controls:[{name:"useLabel",component:r.SwitchFormControlComponent,options:{label:"Use Label",tooltip:new s.Tooltip("The label will be displayed in the center of the Qr Code, on top of the picture (if any picture is set).")}},...t?[{name:"label",component:r.ExpressionFormControlComponent,options:{label:"Label",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}},{name:"fontName",component:r.SelectFormControlComponent,options:{label:"Font name",options:c.QR_CODE_GENERATOR_OPTIONS.fontList.map(e=>({id:e,name:e})),sortAlphabetically:!0,isRequired:!0}},{name:"fontColor",component:r.ColorPickerFormControlComponent,options:{label:"Font Color"}},{name:"fontSize",component:d.SliderComponent,options:{label:"Font Size",minValue:0,maxValue:100}}]:[]]},{label:"Picture",controls:[{name:"usePicture",component:r.SwitchFormControlComponent,options:{label:"Use Picture",tooltip:new s.Tooltip("The picture will be displayed in the center of the Qr Code, behind of the label (if any label is set).")}},...n?[{name:"pictureBase64",component:r.ExpressionFormControlComponent,options:{label:"picture In Base 64",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}},{name:"imageAsCode",component:r.SwitchFormControlComponent,options:{label:"Display image as code",tooltip:new s.Tooltip("The picture will be merged with the QR code.")}},{name:"imageSize",component:d.SliderComponent,options:{label:"Image Size",minValue:0,maxValue:100}}]:[]]}]}}validate(e,t){let n=[];return t.content||n.push(e.createError("Content is required.","content")),n=n.concat((0,i.validateCssClassNames)(t.cssClasses)),n}}},"./libs/com-example-test210500/src/lib/view-components/qr-code-generator/design/qr-code-generator-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{QrCodeGeneratorDesignModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/qr-code-generator/design/qr-code-generator-design.component.ts"),l=n("./libs/com-example-test210500/src/lib/inspectors/slider/slider.module.ts");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule,l.SliderModule],declarations:[a.QrCodeGeneratorDesignComponent],entryComponents:[a.QrCodeGeneratorDesignComponent]})],c)},"./libs/com-example-test210500/src/lib/view-components/qr-code-generator/design/qr-code-generator.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{QR_CODE_GENERATOR_OPTIONS:()=>i});const i={fontList:["sans-serif","Arial","Verdana","Helvetica","Tahoma","Trebuchet MS","Times New Roman","Georgia","Garamond","Courier New","Brush Script MT"],defaultValues:{color:"#000000",backgroundColor:"#FFFFFF",fontColor:"#FF0000",fontName:"sans-serif",label:'"FooBar"',fontSize:30,emptyPicture:"iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg=="},displayModes:{plain:"plain",label:"label",image:"image",imagelabel:"imagelabel"}}},"./libs/com-example-test210500/src/lib/view-components/qr-code-generator/qr-code-generator-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{QrCodeGeneratorRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/qr-code-generator/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/qr-code-generator/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500QrCodeGenerator",name:"QR Code (Create)",icon:"left-qrcode",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.QrCodeGeneratorComponent),options:{canBeEmbeddedInRecordEditor:!0},properties:[{name:"content",enableExpressionEvaluation:!0},{name:"color",type:r.ViewComponentPropertyType.String},{name:"backgroundColor",type:r.ViewComponentPropertyType.String},{name:"useLabel",enableExpressionEvaluation:!0},{name:"label",enableExpressionEvaluation:!0},{name:"fontName",type:r.ViewComponentPropertyType.String},{name:"fontColor",type:r.ViewComponentPropertyType.String},{name:"fontSize",type:r.ViewComponentPropertyType.Number},{name:"usePicture",enableExpressionEvaluation:!0},{name:"pictureBase64",enableExpressionEvaluation:!0},{name:"imageAsCode",type:r.ViewComponentPropertyType.Boolean},{name:"cssClasses",type:r.ViewComponentPropertyType.String},{name:"imageSize",type:r.ViewComponentPropertyType.Number}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.QrCodeGeneratorDesignComponent),designComponentModel:a.QrCodeGeneratorDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.QrCodeGeneratorDesignModule,s.QrCodeGeneratorModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/qr-code-generator/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/qr-code-generator/runtime/qr-code-generator.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/qr-code-generator/runtime/qr-code-generator.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/qr-code-generator/runtime/qr-code-generator.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{QrCodeGeneratorComponent:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/qr-code-generator/runtime/qr-code-generator.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),a=n("./libs/com-example-test210500/src/lib/view-components/qr-code-generator/design/qr-code-generator.types.ts"),l=n("./node_modules/rxjs/_esm2015/operators/index.js");let c=class extends s.BaseViewComponent{constructor(){super(...arguments),this.displayMode=a.QR_CODE_GENERATOR_OPTIONS.displayModes.plain,this.currentPicture=a.QR_CODE_GENERATOR_OPTIONS.defaultValues.emptyPicture,this.msizes=[0,0],this.labelConfiguration={fontColor:"",fontName:"",label:"",fontSize:0},this.pictureConfiguration={imageAsCode:!1,pictureBase64:"",imageSize:0}}ngOnInit(){this.config.pipe((0,l.takeUntil)(this.destroyed$)).subscribe(e=>{this.componentData=e,this.componentData.usePicture&&(this.currentPicture=this.componentData.pictureBase64||a.QR_CODE_GENERATOR_OPTIONS.defaultValues.emptyPicture,this.pictureConfiguration.pictureBase64=this.componentData.pictureBase64,this.pictureConfiguration.imageAsCode=this.componentData.imageAsCode,this.pictureConfiguration.imageSize=this.componentData.imageSize),setTimeout(()=>{this.componentData.useLabel?(this.labelConfiguration.label=this.componentData.label,this.labelConfiguration.fontColor=this.componentData.fontColor,this.labelConfiguration.fontName=this.componentData.fontName,this.labelConfiguration.fontSize=this.componentData.fontSize,this.componentData.usePicture&&this.componentData.pictureBase64?(this.displayMode=a.QR_CODE_GENERATOR_OPTIONS.displayModes.imagelabel,this.msizes=[this.pictureConfiguration.imageSize,this.labelConfiguration.fontSize]):(this.displayMode=a.QR_CODE_GENERATOR_OPTIONS.displayModes.label,this.msizes=[this.labelConfiguration.fontSize])):this.componentData.usePicture&&this.componentData.pictureBase64?(this.displayMode=a.QR_CODE_GENERATOR_OPTIONS.displayModes.image,this.msizes=[this.pictureConfiguration.imageSize]):(this.displayMode=a.QR_CODE_GENERATOR_OPTIONS.displayModes.plain,this.msizes=[0,0])})})}};c=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-qr-code-generator",template:o.default})],c)},"./libs/com-example-test210500/src/lib/view-components/qr-code-generator/runtime/qr-code-generator.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{QrCodeGeneratorModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/qr-code-generator/runtime/qr-code-generator.component.ts"),a=n("./node_modules/ngx-kjua/fesm2020/ngx-kjua.mjs");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.NgxKjuaModule],exports:[s.QrCodeGeneratorComponent],declarations:[s.QrCodeGeneratorComponent],entryComponents:[s.QrCodeGeneratorComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/design/qr-code-scanner-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/design/qr-code-scanner-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/design/qr-code-scanner-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/design/qr-code-scanner-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{QrCodeScannerDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/design/qr-code-scanner-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/design/qr-code-scanner-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-qr-code-scanner-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/design/qr-code-scanner-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{QrCodeScannerDesignModel:()=>o});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js");class o extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(null),this.sandbox.setCommonDataDictionary(this.prepareDataDictionary(this.sandbox.descriptor.name))}prepareDataDictionary(e){return{label:e,expression:this.getExpressionForProperty("api"),children:[{label:"QR code",expression:this.getExpressionForProperty("qrCode")}]}}}},"./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/design/qr-code-scanner-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{QrCodeScannerDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/design/qr-code-scanner-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.QrCodeScannerDesignComponent],entryComponents:[a.QrCodeScannerDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/qr-code-scanner-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{QrCodeScannerRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500QrCodeScanner",name:"QR Code scanner",icon:"left-qrcode",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.QrCodeScannerComponent),options:{canBeEmbeddedInRecordEditor:!0},properties:[],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.QrCodeScannerDesignComponent),designComponentModel:a.QrCodeScannerDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.QrCodeScannerDesignModule,s.QrCodeScannerModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/runtime/qr-code-scanner.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/runtime/qr-code-scanner.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/runtime/qr-code-scanner.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{QrCodeScannerComponent:()=>d});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/runtime/qr-code-scanner.component.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/runtime/qr-code-scanner.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),l=n("./node_modules/@zxing/library/umd/index.js"),c=n("lodash");let d=class extends a.BaseViewComponent{constructor(){super(...arguments),this.selectedCamera=null,this.deviceList=[],this.alertContent="",this.alertConfiguration={variant:"info",title:"",content:""},this.isScanningEnabled=!1,this.allowedFormats=[l.BarcodeFormat.QR_CODE,l.BarcodeFormat.EAN_13,l.BarcodeFormat.EAN_8,l.BarcodeFormat.CODE_39,l.BarcodeFormat.CODE_93,l.BarcodeFormat.DATA_MATRIX],this.selectedScanningDevice=null,this.zxingSelectedDevice=null}optionFormatter(e){return e.label}ngOnInit(){this.alertConfiguration.title="Fetching device list.",this.alertContent="Please wait..."}onCamerasFound(e){this.deviceList=[],e&&((0,c.forEach)(e,e=>{this.deviceList.push(e)}),this.selectedCamera=[this.deviceList[0]],this.zxingSelectedDevice=this.selectedCamera[0],this.isScanningEnabled=!0,this.alertContent=null)}onCamerasNotFound(){this.alertConfiguration.variant="warning",this.alertConfiguration.title="No camera found.",this.alertContent="No camera found."}onScanSuccess(e){this.notifyPropertyChanged("qrCode",null),this.notifyPropertyChanged("qrCode",e,null)}onScanError(e){this.alertConfiguration.variant="warning",this.alertConfiguration.title="Scan error",this.alertContent=String(e)}onDeviceChange(e){this.selectedCamera&&this.selectedCamera[0].deviceId!==e.deviceId&&(this.zxingSelectedDevice=this.selectedCamera[0])}onCameraSelected(e){this.zxingSelectedDevice=(0,c.first)(e.options)}permissionResponse(e){!0!==e&&(this.alertConfiguration.variant="warning",this.alertConfiguration.title="User permission error or web browser permission error",this.alertContent='If the website hosting this example has an IP address this component will not work properly as described in this GitHib issue:<br>\n                        <a href="https://github.com/zxing-js/library/issues/225" target="_blank">Github</a><br>\n                        <a href="https://stackoverflow.com/questions/34197653/getusermedia-in-chrome-47-without-using-https/34198101#34198101" target="_blank">Stack Overflow</a><br>\n                        This is due to web browser security enhancements that require SSL.<br>\n                        If you want to test this example locally you might want to test your bundle in debug mode since localhost is as exception<br>\n                        or on a system implementing SSL.<br>\n                        If you have a system with an IP address there is a workaround you can try, it is to map localhost to the IP address.<br>\n                        For example setting in your hosts file:<br>\n                        <theWebsiteIp> localhost<br>\n                        This could also be because you refused to let the web browser access the camera.')}};d=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-qr-code-scanner",template:r.default,styles:[o.default]})],d)},"./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/runtime/qr-code-scanner.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{QrCodeScannerModule:()=>d});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/qr-code-scanner/runtime/qr-code-scanner.component.ts"),a=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),l=n("./node_modules/@angular/forms/fesm2015/forms.js"),c=n("./node_modules/@zxing/ngx-scanner/fesm2015/zxing-ngx-scanner.js");let d=class{};d=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,c.ZXingScannerModule,a.AdaptAlertModule,a.AdaptRxSelectModule,l.FormsModule],exports:[s.QrCodeScannerComponent],declarations:[s.QrCodeScannerComponent],entryComponents:[s.QrCodeScannerComponent]})],d)},"./libs/com-example-test210500/src/lib/view-components/star-rating-field/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/star-rating-field/design/star-rating-field-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/star-rating-field/design/star-rating-field-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/star-rating-field/design/star-rating-field-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/star-rating-field/design/star-rating-field-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{StarRatingFieldDesignComponent:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/star-rating-field/design/star-rating-field-design.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=(n("./libs/com-example-test210500/src/lib/view-components/star-rating-field/design/star-rating-field-design.model.ts"),n("./libs/com-example-test210500/src/lib/view-components/star-rating/star-rating.types.ts")),a=n("rxjs");let l=class{constructor(){this.selectedSize=s.STAR_RATING_SIZE_OPTIONS.defaultSize,this.isReadonly=!1,this.labelStyle={},this.value=5}ngOnInit(){(0,a.combineLatest)([this.model.componentProperties$]).subscribe(([e])=>{this.starRatingFieldParameters=e,this.selectedSize=this.starRatingFieldParameters.size?Number(this.starRatingFieldParameters.size):this.selectedSize,this.starRatingFieldParameters.labelColor&&(this.labelStyle={color:this.starRatingFieldParameters.labelColor})})}};l.propDecorators={model:[{type:r.Input}]},l=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-star-rating-field-design",template:o.default})],l)},"./libs/com-example-test210500/src/lib/view-components/star-rating-field/design/star-rating-field-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{StarRatingFieldDesignModel:()=>d});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-components.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-record-api.js"),r=n("rxjs"),s=n("./node_modules/rxjs/_esm2015/operators/index.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),l=n("lodash"),c=n("./libs/com-example-test210500/src/lib/view-components/star-rating-field/star-rating-field.types.ts");class d extends i.BaseRecordEditorFieldDesign{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.fieldResourceTypes=[o.RX_RECORD_DEFINITION.resourceTypes.integer,o.RX_RECORD_DEFINITION.resourceTypes.decimal,o.RX_RECORD_DEFINITION.resourceTypes.real],this.componentProperties$=this.sandbox.componentProperties$}static getInitialProperties(e){return Object.assign(Object.assign({size:"",labelColor:"#000000"},i.BaseRecordEditorFieldDesign.getInitialProperties()),e)}getInspectorConfig(){return super.getInspectorConfig().pipe((0,s.map)(e=>this.editInspectorConfig(e)))}editInspectorConfig(e){const t={label:"Custom settings",controls:[{name:"size",component:a.SelectFormControlComponent,options:{label:"Size",options:(0,l.values)(c.STAR_RATING_FIELD_SIZE_OPTIONS.sizeOptions),sortAlphabetically:!1}},{name:"labelColor",component:a.ColorPickerFormControlComponent,options:{label:"Label Color"}}]};return e.inspectorSectionConfigs.push(t),e}validate(e){return super.validate(e).pipe((0,s.switchMap)(t=>{const n=t||[];return"#FFFFFF"===(0,l.toUpper)(e.labelColor)&&n.push(this.sandbox.createWarning("Setting the Label Color to white could lead to an invisible label.","labelColor")),(0,r.of)(n)}))}}},"./libs/com-example-test210500/src/lib/view-components/star-rating-field/design/star-rating-field-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{StarRatingFieldDesignModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/star-rating-field/design/star-rating-field-design.component.ts"),l=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule,l.AdaptRxRatingModule],declarations:[a.StarRatingFieldDesignComponent],entryComponents:[a.StarRatingFieldDesignComponent]})],c)},"./libs/com-example-test210500/src/lib/view-components/star-rating-field/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/star-rating-field/runtime/star-rating-field.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/star-rating-field/runtime/star-rating-field.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/star-rating-field/runtime/star-rating-field.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{StarRatingFieldComponent:()=>u});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/star-rating-field/runtime/star-rating-field.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-components.js"),a=n("./node_modules/@angular/forms/fesm2015/forms.js"),l=n("./libs/com-example-test210500/src/lib/view-components/star-rating/star-rating.types.ts"),c=n("./node_modules/rxjs/_esm2015/operators/index.js"),d=n("lodash");let u=class extends s.BaseRecordEditorFieldComponent{constructor(e){super(e),this.selectedSize=l.STAR_RATING_SIZE_OPTIONS.defaultSize,this.labelStyle={}}ngOnInit(){super.ngOnInit()}onRateChange(e){(0,d.isNull)(e)?this.setFieldValue(0):this.setFieldValue(e)}onConfigInitialized(e){this.starRatingFieldRuntimeParameters=e,super.onConfigInitialized(e),this.selectedSize=e.size?Number(e.size):this.selectedSize,e.labelColor&&(this.labelStyle={color:e.labelColor})}onConfigUpdated(e){super.onConfigUpdated(e),this.starRatingFieldRuntimeParameters=e}ngAfterViewInit(){this.inReadState||this.formControl.touched$.pipe((0,c.takeUntil)(this.destroyed$)).subscribe(e=>e?this.ngModel.control.markAsTouched():this.ngModel.control.markAsUntouched())}};u.ctorParameters=()=>[{type:r.Injector}],u.propDecorators={ngModel:[{type:r.ViewChild,args:["starRatingFieldComponent",{read:a.NgModel}]}]},u=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-star-rating-field",template:o.default}),(0,i.__metadata)("design:paramtypes",[r.Injector])],u)},"./libs/com-example-test210500/src/lib/view-components/star-rating-field/runtime/star-rating-field.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{StarRatingFieldModule:()=>d});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/star-rating-field/runtime/star-rating-field.component.ts"),a=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),l=n("./node_modules/@angular/forms/fesm2015/forms.js"),c=n("./node_modules/@helix/platform/fesm2015/helix-platform-ui-kit.js");let d=class{};d=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.AdaptRxRatingModule,l.FormsModule,c.ReadOnlyFieldModule],exports:[s.StarRatingFieldComponent],declarations:[s.StarRatingFieldComponent],entryComponents:[s.StarRatingFieldComponent]})],d)},"./libs/com-example-test210500/src/lib/view-components/star-rating-field/star-rating-field-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{StarRatingFieldRegistrationModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/star-rating-field/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/star-rating-field/design/index.ts"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-components.js");let c=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500StarRatingField",name:"Star Rating (Field)",icon:"star",group:"Record editor inputs",options:{canBeEmbeddedInRecordEditor:!0},canBeInsertedInto:e=>e.includes(r.RxViewComponentType.RecordEditor),componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.StarRatingFieldComponent),properties:l.RX_BASE_FIELD_PROPERTIES.concat([{name:"size",type:r.ViewComponentPropertyType.String},{name:"labelColor",type:r.ViewComponentPropertyType.String}]),designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.StarRatingFieldDesignComponent),designComponentModel:a.StarRatingFieldDesignModel,bundleId:"com.example.test210500"})}};c.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],c=(0,i.__decorate)([(0,o.NgModule)({imports:[a.StarRatingFieldDesignModule,s.StarRatingFieldModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],c)},"./libs/com-example-test210500/src/lib/view-components/star-rating-field/star-rating-field.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{STAR_RATING_FIELD_SIZE_OPTIONS:()=>o});var i=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");const o={defaultSize:i.RxRatingSize.md,sizeOptions:{large:{id:String(i.RxRatingSize.lg),name:"Large"},normal:{id:String(i.RxRatingSize.md),name:"Normal"},small:{id:String(i.RxRatingSize.sm),name:"Small"},extraSmall:{id:String(i.RxRatingSize.xs),name:"Extra Small"}}}},"./libs/com-example-test210500/src/lib/view-components/star-rating/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/star-rating/design/star-rating-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/star-rating/design/star-rating-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/star-rating/design/star-rating-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/star-rating/design/star-rating-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{StarRatingDesignComponent:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/star-rating/design/star-rating-design.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=(n("./libs/com-example-test210500/src/lib/view-components/star-rating/design/star-rating-design.model.ts"),n("rxjs")),a=n("./libs/com-example-test210500/src/lib/view-components/star-rating/star-rating.types.ts");let l=class{constructor(e){this.changeDetectorRef=e,this.selectedSize=a.STAR_RATING_SIZE_OPTIONS.defaultSize,this.isReadonly=!1,this.labelStyle={}}ngOnInit(){(0,s.combineLatest)([this.model.modelSandbox.componentProperties$]).subscribe(([e])=>{this.starRatingParameters=e,this.selectedSize=this.starRatingParameters.size?Number(this.starRatingParameters.size):this.selectedSize,this.starRatingParameters.labelColor&&(this.labelStyle={color:this.starRatingParameters.labelColor}),this.changeDetectorRef.detectChanges()})}onRateChange(e){this.starRatingParameters=Object.assign(Object.assign({},this.starRatingParameters),{defaultNumberOfStars:e}),this.model.modelSandbox.updateComponentProperties(this.starRatingParameters)}};l.ctorParameters=()=>[{type:r.ChangeDetectorRef}],l.propDecorators={model:[{type:r.Input}]},l=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-star-rating-design",template:o.default}),(0,i.__metadata)("design:paramtypes",[r.ChangeDetectorRef])],l)},"./libs/com-example-test210500/src/lib/view-components/star-rating/design/star-rating-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{StarRatingDesignModel:()=>p});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("./node_modules/rxjs/_esm2015/operators/index.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),a=n("rxjs"),l=n("lodash"),c=n("./libs/com-example-test210500/src/lib/view-components/star-rating/star-rating.types.ts");const d=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js").RX_VIEW_DEFINITION.styles.map(e=>({text:e.name,data:{value:e.id}})),u={name:"",defaultNumberOfStars:0,numberOfStars:0,numberOfStarsSelected:0,hidden:!1,disabled:!1,label:"",size:"",cssStyles:null,labelColor:"",isRequired:!1};class p extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.modelSandbox=t,t.updateInspectorConfig(this.setInspectorConfig(u)),(0,a.combineLatest)([this.sandbox.componentProperties$]).pipe((0,r.map)(([e])=>this.validate(this.sandbox,e))).subscribe(e=>{this.sandbox.setValidationIssues(e)}),this.sandbox.getComponentPropertyValue("name").subscribe(e=>{const t=e?`${this.sandbox.descriptor.name} (${e})`:this.sandbox.descriptor.name;this.sandbox.setSettablePropertiesDataDictionary(t,this.prepareSetProperties()),this.sandbox.setCommonDataDictionary(this.prepareDataDictionary(t)),this.sandbox.setBreadcrumbs(t)})}static getInitialProperties(e){return console.log(e),Object.assign(Object.assign({name:"",defaultNumberOfStars:2.5,numberOfStars:0,numberOfStarsSelected:0,hidden:"0",disabled:"0",label:"",size:"",cssStyles:null,labelColor:"#000000"},e),{isRequired:e&&"true"===String(e.isRequired)})}prepareSetProperties(){return[{label:"Hidden",expression:this.getExpressionForProperty("hidden")},{label:"Disabled",expression:this.getExpressionForProperty("disabled")},{label:"numberOfStars",expression:this.getExpressionForProperty("numberOfStars")}]}prepareDataDictionary(e){return{label:e,expression:this.getExpressionForProperty("api"),children:[{label:"Number Of Stars Selected",expression:this.getExpressionForProperty("numberOfStarsSelected")}]}}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"name",component:o.TextFormControlComponent,options:{label:"View Component Name",tooltip:new s.Tooltip("Enter a name to uniquely identify the Star Rating Component")}},{name:"label",component:o.TextFormControlComponent,options:{label:"Label",required:!0}},{name:"defaultNumberOfStars",component:o.TextFormControlComponent,options:{label:"Default Number of Stars",tooltip:new s.Tooltip("Default number of stars, between 0 and 5."),required:!0}},{name:"numberOfStars",component:o.ExpressionFormControlComponent,options:{label:"Number Of Stars",tooltip:new s.Tooltip("Number of stars to display."),isRequired:!0,dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}},{name:"isRequired",component:o.BooleanFormControlComponent,options:{description:"Shows a required label for this component."}}]},{label:"Styling",controls:[{name:"size",component:o.SelectFormControlComponent,options:{label:"Size",options:(0,l.values)(c.STAR_RATING_SIZE_OPTIONS.sizeOptions),sortAlphabetically:!1}},{name:"labelColor",component:o.ColorPickerFormControlComponent,options:{label:"Label Color"}},{name:"cssStyles",component:o.TagsFormControlComponent,options:{label:"CSS classes",placeholder:"Add CSS classes",autocompleteValues:d,tooltip:new s.Tooltip("Enter CSS class names to apply to this view component."),errorCheck:i.validateCssClassName}},{name:"hidden",component:o.OptionalExpressionControlComponent,options:{label:"Hidden",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}},{name:"disabled",component:o.OptionalExpressionControlComponent,options:{label:"Disabled",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}}]}]}}validate(e,t){let n=[];return(t.defaultNumberOfStars<0||t.defaultNumberOfStars>5)&&n.push(e.createError("The default number of stars must be a number between 0 and 5.","defaultNumberOfStars")),t.label||n.push(e.createError("The label cannot be empty.","label")),n=n.concat((0,i.validateCssClassNames)(t.cssStyles)),n}}},"./libs/com-example-test210500/src/lib/view-components/star-rating/design/star-rating-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{StarRatingDesignModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/star-rating/design/star-rating-design.component.ts"),l=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule,l.AdaptRxRatingModule],declarations:[a.StarRatingDesignComponent],entryComponents:[a.StarRatingDesignComponent]})],c)},"./libs/com-example-test210500/src/lib/view-components/star-rating/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/star-rating/runtime/star-rating.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/star-rating/runtime/star-rating.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/star-rating/runtime/star-rating.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{StarRatingComponent:()=>p});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/star-rating/runtime/star-rating.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=n("rxjs"),a=n("lodash"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),c=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),d=n("./libs/com-example-test210500/src/lib/view-components/star-rating/star-rating.types.ts"),u=n("./node_modules/rxjs/_esm2015/operators/index.js");let p=class extends l.BaseViewComponent{constructor(e){super(),this.rxLogService=e,this.selectedSize=d.STAR_RATING_SIZE_OPTIONS.defaultSize,this.labelStyle={},this.api={setProperty:this.setProperty.bind(this),setFocus:this.setFocus.bind(this),refresh:this.refresh.bind(this)}}refresh(){return this.componentInputParametersValues.numberOfStars=this.componentInputParametersValues.defaultNumberOfStars,this.notifyPropertyChanged("numberOfStarsSelected",this.componentInputParametersValues.numberOfStars),s.EMPTY}setProperty(e,t){switch(e){case"hidden":this.componentInputParametersValues.hidden=t;break;case"disabled":this.componentInputParametersValues.disabled=t;break;case"numberOfStars":this.componentInputParametersValues.numberOfStars=t,this.notifyPropertyChanged("numberOfStarsSelected",this.componentInputParametersValues.numberOfStars);break;default:this.rxLogService.warning(`Standalone Field: property ${e} is not settable, value was ${t}.`)}}setFocus(){return this.rxLogService.warning("Executing the view component focus method."),s.EMPTY}ngOnInit(){this.config.pipe((0,u.distinctUntilChanged)(a.isEqual),(0,u.takeUntil)(this.destroyed$)).subscribe(e=>{this.componentInputParametersValues=e,this.selectedSize=this.componentInputParametersValues.size?Number(this.componentInputParametersValues.size):this.selectedSize,this.componentInputParametersValues.labelColor&&(this.labelStyle={color:this.componentInputParametersValues.labelColor}),this.notifyPropertyChanged("numberOfStarsSelected",this.componentInputParametersValues.numberOfStars)}),this.notifyPropertyChanged("api",this.api)}onRateChange(e){this.componentInputParametersValues.numberOfStars=e,this.notifyPropertyChanged("numberOfStarsSelected",e)}};p.ctorParameters=()=>[{type:c.RxLogService}],p=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-star-rating",template:o.default}),(0,i.__metadata)("design:paramtypes",[c.RxLogService])],p)},"./libs/com-example-test210500/src/lib/view-components/star-rating/runtime/star-rating.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{StarRatingModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/star-rating/runtime/star-rating.component.ts"),a=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),l=n("./node_modules/@angular/forms/fesm2015/forms.js");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.AdaptRxRatingModule,l.FormsModule],exports:[s.StarRatingComponent],declarations:[s.StarRatingComponent],entryComponents:[s.StarRatingComponent]})],c)},"./libs/com-example-test210500/src/lib/view-components/star-rating/star-rating-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{StarRatingRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/star-rating/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/star-rating/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500StarRating",name:"Star Rating",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.StarRatingComponent),icon:"star",options:{canBeEmbeddedInRecordEditor:!0},properties:[{name:"label",type:r.ViewComponentPropertyType.String,localizable:!0},{name:"defaultNumberOfStars",type:r.ViewComponentPropertyType.Number},{name:"numberOfStars",type:r.ViewComponentPropertyType.Number,enableExpressionEvaluation:!0},{name:"size",type:r.ViewComponentPropertyType.String},{name:"isRequired",type:r.ViewComponentPropertyType.Boolean},{name:"labelColor",type:r.ViewComponentPropertyType.String},{name:"cssStyles",type:r.ViewComponentPropertyType.String},{name:"hidden",type:r.ViewComponentPropertyType.Boolean,enableExpressionEvaluation:!0},{name:"disabled",type:r.ViewComponentPropertyType.Boolean,enableExpressionEvaluation:!0}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.StarRatingDesignComponent),designComponentModel:a.StarRatingDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.StarRatingDesignModule,s.StarRatingModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/star-rating/star-rating.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{STAR_RATING_SIZE_OPTIONS:()=>o});var i=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");const o={defaultSize:i.RxRatingSize.md,sizeOptions:{large:{id:String(i.RxRatingSize.lg),name:"Large"},normal:{id:String(i.RxRatingSize.md),name:"Normal"},small:{id:String(i.RxRatingSize.sm),name:"Small"},extraSmall:{id:String(i.RxRatingSize.xs),name:"Extra Small"}}}},"./libs/com-example-test210500/src/lib/view-components/test-debug-component/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/test-debug-component/design/test-debug-component-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/test-debug-component/design/test-debug-component-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/test-debug-component/design/test-debug-component-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/test-debug-component/design/test-debug-component-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{TestDebugComponentDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/test-debug-component/design/test-debug-component-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/test-debug-component/design/test-debug-component-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/test-debug-component/design/test-debug-component-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-test-debug-component-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/test-debug-component/design/test-debug-component-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{TestDebugComponentDesignModel:()=>p});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),s=n("./libs/com-example-test210500/src/lib/inspectors/log-parameters/log-parameters.component.ts"),a=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.component.ts"),l=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.types.ts"),c=n("lodash"),d=n("./libs/com-example-test210500/src/lib/view-components/star-rating/star-rating.types.ts");const u={viewName:"",associationName:"",chatbotName:"",namedListName:"",processName:"",recordName:"",booleanValue:!1,expressionValue:"",numberValue:"",textValue:"",colorPickerValue:"",selectValue:"",switchValue:!1,tagsValue:"",textAreaValue:"",gradient:""};class p extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.inputParameterAttributes$=this.sandbox.componentProperties$,t.updateInspectorConfig(this.setInspectorConfig(u))}static getInitialProperties(e){return Object.assign(Object.assign({viewName:"",associationName:"",chatbotName:"",namedListName:"",processName:"",recordName:"",expressionValue:'"Foo"',numberValue:"123",textValue:'"Bar"',colorPickerValue:"",selectValue:d.STAR_RATING_SIZE_OPTIONS.sizeOptions.normal.id,tagsValue:"",textAreaValue:'"FooBar"',gradient:`${l.GRADIENT_COMPONENT_OPTIONS.defaultValues.left}|${l.GRADIENT_COMPONENT_OPTIONS.defaultValues.right}`},e),{booleanValue:e&&"true"===String(e.booleanValue),switchValue:e&&"true"===String(e.switchValue)})}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"Object Definition",controls:[{name:"viewName",component:o.RxDefinitionPickerComponent,options:{label:"viewName",definitionType:o.RxDefinitionPickerType.View}},{name:"associationName",component:o.RxDefinitionPickerComponent,options:{label:"associationName",definitionType:o.RxDefinitionPickerType.Association}},{name:"chatbotName",component:o.RxDefinitionPickerComponent,options:{label:"chatbotName",definitionType:o.RxDefinitionPickerType.Chatbot}},{name:"namedListName",component:o.RxDefinitionPickerComponent,options:{label:"namedListName",definitionType:o.RxDefinitionPickerType.NamedList}},{name:"processName",component:o.RxDefinitionPickerComponent,options:{label:"processName",definitionType:o.RxDefinitionPickerType.Process}},{name:"recordName",component:o.RxDefinitionPickerComponent,options:{label:"recordName",definitionType:o.RxDefinitionPickerType.Record}}]},{label:"Values",controls:[{name:"booleanValue",component:o.BooleanFormControlComponent,options:{label:"booleanValue"}},{name:"expressionValue",component:o.ExpressionFormControlComponent,options:{label:"expressionValue",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}},{name:"numberValue",component:o.CounterFormControlComponent,options:{label:"numberValue",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}},{name:"textValue",component:o.TextFormControlComponent,options:{label:"textValue"}},{name:"textAreaValue",component:o.TextareaFormControlComponent,options:{label:"textAreaValue"}},{name:"switchValue",component:o.SwitchFormControlComponent,options:{label:"switchValue"}},{name:"selectValue",component:o.SelectFormControlComponent,options:{label:"selectValue",options:(0,c.values)(d.STAR_RATING_SIZE_OPTIONS.sizeOptions),sortAlphabetically:!1}},{name:"colorPickerValue",component:o.ColorPickerFormControlComponent,options:{label:"colorPickerValue"}},{name:"tagsValue",component:o.TagsFormControlComponent,options:{label:"tagsValue"}}]},{label:"Custom Component (Form Control)",controls:[{name:"gradient",component:a.GradientComponent,options:{label:"Gradient",isRequired:!0}}]},{label:"Debug Panel",controls:[{name:"Debug",component:s.LogParametersComponent,options:{label:"Debug information",tooltip:new r.Tooltip("Here you can see all the different input parameters."),isRequired:!0,inputParameterAttributes$:this.inputParameterAttributes$}}]}]}}}},"./libs/com-example-test210500/src/lib/view-components/test-debug-component/design/test-debug-component-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{TestDebugComponentDesignModule:()=>d});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/test-debug-component/design/test-debug-component-design.component.ts"),l=n("./libs/com-example-test210500/src/lib/inspectors/log-parameters/log-parameters.module.ts"),c=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");let d=class{};d=(0,i.__decorate)([(0,o.NgModule)({imports:[c.AdaptCodeViewerModule,r.CommonModule,s.FormsModule,l.LogParametersModule],declarations:[a.TestDebugComponentDesignComponent],entryComponents:[a.TestDebugComponentDesignComponent]})],d)},"./libs/com-example-test210500/src/lib/view-components/test-debug-component/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/test-debug-component/runtime/test-debug-component.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/test-debug-component/runtime/test-debug-component.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/test-debug-component/runtime/test-debug-component.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{TestDebugComponentComponent:()=>p});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/test-debug-component/runtime/test-debug-component.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/test-debug-component/runtime/test-debug-component.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),c=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.types.ts"),d=n("./libs/com-example-test210500/src/lib/inspectors/gradient/gradient.service.ts"),u=n("./node_modules/rxjs/_esm2015/operators/index.js");let p=class extends a.BaseViewComponent{constructor(e){super(),this.gradientService=e,this.tooltip=new l.Tooltip("Here are all the input parameters values as defined in View Designer."),this.componentDataString="",this.gradientLeftValue=c.GRADIENT_COMPONENT_OPTIONS.defaultValues.left,this.gradientRightValue=c.GRADIENT_COMPONENT_OPTIONS.defaultValues.right}ngOnInit(){this.config.pipe((0,u.takeUntil)(this.destroyed$)).subscribe(e=>{this.componentData=e,this.componentDataString=JSON.stringify(this.componentData,void 0,2),this.gradientLeftValue=this.gradientService.extractGradientInformation(c.GRADIENT_COMPONENT_OPTIONS.sides.left,this.componentData.gradient),this.gradientRightValue=this.gradientService.extractGradientInformation(c.GRADIENT_COMPONENT_OPTIONS.sides.right,this.componentData.gradient),this.gradientService.drawGradient(this.gradientDivElement,this.gradientLeftValue,this.gradientRightValue)})}ngAfterViewInit(){this.gradientLeftValue=this.gradientService.extractGradientInformation(c.GRADIENT_COMPONENT_OPTIONS.sides.left,this.componentData.gradient),this.gradientRightValue=this.gradientService.extractGradientInformation(c.GRADIENT_COMPONENT_OPTIONS.sides.right,this.componentData.gradient),this.gradientService.drawGradient(this.gradientDivElement,this.gradientLeftValue,this.gradientRightValue)}};p.ctorParameters=()=>[{type:d.GradientService}],p.propDecorators={gradientDivElement:[{type:s.ViewChild,args:["gradientDivElement",{static:!1}]}]},p=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-test-debug-component",template:r.default,styles:[o.default]}),(0,i.__metadata)("design:paramtypes",[d.GradientService])],p)},"./libs/com-example-test210500/src/lib/view-components/test-debug-component/runtime/test-debug-component.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{TestDebugComponentModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/test-debug-component/runtime/test-debug-component.component.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/display-gradient/runtime/index.ts"),l=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.DisplayGradientModule,l.AdaptRxLabelModule,l.AdaptCodeViewerModule],exports:[s.TestDebugComponentComponent],declarations:[s.TestDebugComponentComponent],entryComponents:[s.TestDebugComponentComponent]})],c)},"./libs/com-example-test210500/src/lib/view-components/test-debug-component/test-debug-component-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{TestDebugComponentRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/test-debug-component/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/test-debug-component/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500TestDebugComponent",name:"Testing Debug Component",icon:"android",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.TestDebugComponentComponent),properties:[{name:"viewName",type:r.ViewComponentPropertyType.String},{name:"recordName",type:r.ViewComponentPropertyType.String},{name:"processName",type:r.ViewComponentPropertyType.String},{name:"namedListName",type:r.ViewComponentPropertyType.String},{name:"associationName",type:r.ViewComponentPropertyType.String},{name:"chatbotName",type:r.ViewComponentPropertyType.String},{name:"textValue",type:r.ViewComponentPropertyType.String},{name:"numberValue",type:r.ViewComponentPropertyType.Number},{name:"booleanValue",type:r.ViewComponentPropertyType.Boolean},{name:"expressionValue",enableExpressionEvaluation:!0},{name:"textAreaValue"},{name:"switchValue"},{name:"selectValue"},{name:"colorPickerValue"},{name:"tagsValue"},{name:"gradient"}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.TestDebugComponentDesignComponent),designComponentModel:a.TestDebugComponentDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.TestDebugComponentDesignModule,s.TestDebugComponentModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/user-preferences/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/user-preferences/design/user-preferences-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/user-preferences/design/user-preferences-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/user-preferences/design/user-preferences-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/user-preferences/design/user-preferences-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{UserPreferencesDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/user-preferences/design/user-preferences-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/user-preferences/design/user-preferences-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/user-preferences/design/user-preferences-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-user-preferences-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/user-preferences/design/user-preferences-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{UserPreferencesDesignModel:()=>r});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js");const o={};class r extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(o))}setInspectorConfig(e){return{inspectorSectionConfigs:[]}}}},"./libs/com-example-test210500/src/lib/view-components/user-preferences/design/user-preferences-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{UserPreferencesDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/user-preferences/design/user-preferences-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.UserPreferencesDesignComponent],entryComponents:[a.UserPreferencesDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/user-preferences/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/user-preferences/runtime/user-preferences.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/user-preferences/runtime/user-preferences.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/user-preferences/runtime/user-preferences.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{UserPreferencesComponent:()=>u});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/user-preferences/runtime/user-preferences.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/user-preferences/runtime/user-preferences.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),l=n("./libs/com-example-test210500/src/lib/view-components/user-preferences/runtime/user-preferences.types.ts"),c=n("./libs/com-example-test210500/src/lib/view-components/user-preferences/runtime/user-preferences.service.ts"),d=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js");let u=class extends a.BaseViewComponent{constructor(e,t){super(),this.userPreferencesService=e,this.rxNotificationService=t,this.defaultBackgroundColor=l.USER_PREFERENCES_OPTIONS.default.backgroundColor,this.backgroundColor=this.defaultBackgroundColor,this.defaultTextColor=l.USER_PREFERENCES_OPTIONS.default.textColor,this.textColor=this.defaultTextColor,this.sampleText=l.USER_PREFERENCES_OPTIONS.sampleText}ngOnInit(){this.config.subscribe(e=>{this.componentData=e}),this.fetchUserPreferences()}fetchUserPreferences(){this.userPreferencesService.getCurrentValues(this.guid).subscribe(e=>{this.userPreferencesColorObjects=e,this.backgroundColor=e.backgroundColor.value,this.textColor=e.textColor.value})}saveColors(){this.userPreferencesColorObjects.backgroundColor.value=this.backgroundColor,this.userPreferencesColorObjects.textColor.value=this.textColor,this.userPreferencesService.createUpdateValues(this.guid,this.userPreferencesColorObjects).subscribe(e=>{this.rxNotificationService.addSuccessMessage("The color preferences have been saved successfully.")})}onBackgroundColorUpdate(e){this.backgroundColor=e}onTextColorUpdate(e){this.textColor=e}};u.ctorParameters=()=>[{type:c.UserPreferencesService},{type:d.RxNotificationService}],u=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-user-preferences",template:r.default,styles:[o.default]}),(0,i.__metadata)("design:paramtypes",[c.UserPreferencesService,d.RxNotificationService])],u)},"./libs/com-example-test210500/src/lib/view-components/user-preferences/runtime/user-preferences.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{UserPreferencesModule:()=>d});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/user-preferences/runtime/user-preferences.component.ts"),a=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),l=n("./node_modules/@angular/forms/fesm2015/forms.js"),c=n("./libs/com-example-test210500/src/lib/view-components/user-preferences/runtime/user-preferences.service.ts");let d=class{};d=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.AdaptButtonModule,a.AdaptColorPickerModule,a.AdaptIconModule,a.AdaptPopoverModule,l.FormsModule],exports:[s.UserPreferencesComponent],providers:[c.UserPreferencesService],declarations:[s.UserPreferencesComponent],entryComponents:[s.UserPreferencesComponent]})],d)},"./libs/com-example-test210500/src/lib/view-components/user-preferences/runtime/user-preferences.service.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{UserPreferencesService:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/user-preferences/runtime/user-preferences.types.ts"),a=n("./node_modules/rxjs/_esm2015/operators/index.js"),l=n("rxjs");let c=class{constructor(e){this.rxUserPreferencesService=e}getCurrentValues(e){const t={backgroundColor:{value:s.USER_PREFERENCES_OPTIONS.default.backgroundColor},textColor:{value:s.USER_PREFERENCES_OPTIONS.default.textColor}};return this.rxUserPreferencesService.getUiComponentPreferences(e).pipe((0,a.switchMap)(e=>(e&&(t.textColor.value=e.textColor,t.backgroundColor.value=e.backgroundColor),(0,l.of)(t))))}createUpdateValues(e,t){const n={preferences:"",componentTypeName:s.USER_PREFERENCES_OPTIONS.userPreferencesDefaultValues.componentName,version:s.USER_PREFERENCES_OPTIONS.userPreferencesDefaultValues.componentVersion,componentId:e},i={textColor:t.textColor.value,backgroundColor:t.backgroundColor.value};return n.preferences=JSON.stringify(i),this.rxUserPreferencesService.setUiComponentPreferences(n,e)}};c.ctorParameters=()=>[{type:r.RxUserPreferencesService}],c=(0,i.__decorate)([(0,o.Injectable)(),(0,i.__metadata)("design:paramtypes",[r.RxUserPreferencesService])],c)},"./libs/com-example-test210500/src/lib/view-components/user-preferences/runtime/user-preferences.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{USER_PREFERENCES_OPTIONS:()=>i});const i={userPreferencesDefaultValues:{componentName:"com-example-test210500-com-example-test210500-user-preferences",componentVersion:"1.0"},default:{backgroundColor:"#FFFFFF",textColor:"#000000"},sampleText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean congue risus nisi, a ultricies velit interdum vitae. Vestibulum nec leo a ligula ornare condimentum. Suspendisse potenti. Morbi tellus augue, sollicitudin a lorem ut, porttitor rhoncus libero. Phasellus quis enim a libero euismod tristique nec eu velit. Etiam euismod, nulla eget placerat molestie, magna velit luctus dolor, in blandit mi nisi eu est. Nam a risus non quam eleifend finibus et quis nulla. Donec at ligula ut velit fermentum pellentesque vel at leo. Praesent vel nulla non nunc tincidunt eleifend.\n\nQuisque vitae sem turpis. Praesent pretium nisl quis ultricies condimentum. Phasellus eu libero at ipsum elementum elementum nec nec velit. Aliquam rhoncus est leo, ut interdum turpis maximus in. Nam sit amet tristique est. Ut vel dolor auctor, finibus risus sit amet, dignissim ligula. Cras cursus leo sed risus pulvinar gravida. Vivamus nisi elit, ullamcorper ac pharetra vitae, feugiat vitae eros.\n\nNullam et tincidunt purus. Curabitur id ex sed sapien gravida varius. Ut ut elementum leo. Integer feugiat ultrices lacus eu rhoncus. Phasellus finibus rhoncus sapien, non viverra erat tempor quis. Nullam pharetra, massa quis tincidunt dapibus, elit purus ornare velit, eget tempus sem dui sed risus. Mauris tempor sed libero egestas congue. Phasellus molestie consectetur orci, quis varius sapien dapibus sit amet. Aenean eu justo eros. Aliquam bibendum tellus id ex aliquam tincidunt. Ut sit amet molestie quam. Vivamus bibendum gravida lorem, molestie ullamcorper tortor pretium ut. Sed nec molestie risus. In venenatis lectus ut arcu varius auctor. Maecenas in nunc eget nunc malesuada tincidunt.\n\nNam non tincidunt quam, mollis suscipit elit. Praesent scelerisque turpis eros, nec posuere massa placerat et. Aenean eget pharetra diam. Fusce posuere mauris id mauris viverra lacinia. In quis nunc nec sem volutpat suscipit. Vivamus eu eros ut ex efficitur eleifend vitae eget ipsum. Sed non efficitur enim. Duis id tristique lectus, vel bibendum lectus. Morbi tellus purus, hendrerit ac tempus ac, dignissim eget tellus. Nulla arcu ipsum, cursus ac arcu sed, cursus euismod orci. Ut blandit aliquet eros eu pharetra. Curabitur pellentesque mi in eleifend mollis.\n\nCras auctor at enim vitae fermentum. Sed elit metus, fermentum at leo viverra, mattis dapibus lacus. Ut posuere in arcu et convallis. Nunc blandit nisl sapien, in gravida urna eleifend ut. Quisque ut tellus sit amet eros venenatis ullamcorper. Nunc accumsan neque in velit imperdiet tincidunt. Aliquam lobortis, felis eget pretium fringilla, ex velit pulvinar lacus, rhoncus fringilla ante nunc at eros. Nam sit amet consectetur tellus. Etiam ligula enim, fermentum eget commodo fringilla, semper vitae turpis. Integer a porta est. Nulla sit amet consequat arcu, ac tincidunt velit. Phasellus sodales sem id sem pellentesque venenatis. Phasellus lectus nisi, vulputate posuere blandit eget, eleifend sit amet ligula. Etiam condimentum posuere quam, vitae feugiat elit ultrices quis. Aliquam pellentesque mi eget purus ultrices sagittis. Morbi pharetra tortor ut eleifend consequat."}},"./libs/com-example-test210500/src/lib/view-components/user-preferences/user-preferences-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{UserPreferencesRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/user-preferences/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/user-preferences/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500UserPreferences",name:"Accessing User Preferences",group:"Test 21.05.00",icon:"cloud_user",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.UserPreferencesComponent),properties:[],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.UserPreferencesDesignComponent),designComponentModel:a.UserPreferencesDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.UserPreferencesDesignModule,s.UserPreferencesModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/webcam/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/webcam/design/webcam-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/webcam/design/webcam-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/webcam/design/webcam-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/webcam/design/webcam-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{WebcamDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/webcam/design/webcam-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/webcam/design/webcam-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-webcam-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/webcam/design/webcam-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{WebcamDesignModel:()=>o});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js");class o extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(null),this.sandbox.setCommonDataDictionary(this.prepareDataDictionary(this.sandbox.descriptor.name))}prepareDataDictionary(e){return{label:e,expression:this.getExpressionForProperty("api"),children:[{label:"Picture (base64)",expression:this.getExpressionForProperty("pictureBase64")}]}}}},"./libs/com-example-test210500/src/lib/view-components/webcam/design/webcam-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{WebcamDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/webcam/design/webcam-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.WebcamDesignComponent],entryComponents:[a.WebcamDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/webcam/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/webcam/runtime/webcam.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/webcam/runtime/webcam.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/webcam/runtime/webcam.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{WebcamComponent:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/webcam/runtime/webcam.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/webcam/runtime/webcam.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("rxjs"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js");let c=class extends l.BaseViewComponent{constructor(){super(...arguments),this.lastCapture=null,this.isInitialized=!0,this.alertContent="",this.alertConfiguration={variant:"warning",title:"Camera initialization error",content:""},this.api={refresh:this.refresh.bind(this)},this.captureTrigger$=new a.Subject}ngOnInit(){super.ngOnInit(),this.notifyPropertyChanged("api",this.api)}refresh(){return this.captureTrigger$.next(),a.EMPTY}onCaptureImage(e){this.lastCapture=e.imageAsDataUrl,this.notifyPropertyChanged("pictureBase64",e.imageAsBase64)}onInitError(e){let t="";t=e.mediaStreamError&&"NotAllowedError"===e.mediaStreamError.name?"You did not allow access to the camera.":e.message,e.message&&(e.message.includes("enumerateDevices()")||e.message.includes("UserMedia"))&&(t='If the website hosting this example has an IP address this component will not work properly as described in this GitHib issue:<br>\n                        <a href="https://github.com/zxing-js/library/issues/225" target="_blank">Github</a><br>\n                        <a href="https://stackoverflow.com/questions/34197653/getusermedia-in-chrome-47-without-using-https/34198101#34198101" target="_blank">Stack Overflow</a><br>\n                        This is due to web browser security enhancements that require SSL.<br>\n                        If you want to test this example locally you might want to test your bundle in debug mode since localhost is as exception<br>\n                        or on a system implementing SSL.<br>\n                        If you have a system with an IP address there is a workaround you can try, it is to map localhost to the IP address.<br>\n                        For example setting in your hosts file:<br>\n                        <theWebsiteIp> localhost'),this.alertContent=t,this.isInitialized=!1}onImageClick(e){this.captureTrigger$.next()}onCaptureRequested(){return this.captureTrigger$.asObservable()}};c=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-webcam",template:r.default,styles:[o.default]})],c)},"./libs/com-example-test210500/src/lib/view-components/webcam/runtime/webcam.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{WebcamModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/webcam/runtime/webcam.component.ts"),a=n("./node_modules/ngx-webcam/fesm2015/ngx-webcam.js"),l=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.WebcamModule,l.AdaptAlertModule],exports:[s.WebcamComponent],declarations:[s.WebcamComponent],entryComponents:[s.WebcamComponent]})],c)},"./libs/com-example-test210500/src/lib/view-components/webcam/webcam-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{WebcamRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/webcam/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/webcam/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500Webcam",name:"Webcam",icon:"webcamera",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.WebcamComponent),options:{canBeEmbeddedInRecordEditor:!0},properties:[],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.WebcamDesignComponent),designComponentModel:a.WebcamDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.WebcamDesignModule,s.WebcamModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/wizard/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/wizard/design/wizard-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/wizard/design/wizard-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/wizard/design/wizard-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/wizard/design/wizard-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{WizardDesignComponent:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/wizard/design/wizard-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/wizard/design/wizard-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=(n("./libs/com-example-test210500/src/lib/view-components/wizard/design/wizard-design.model.ts"),n("./libs/com-example-test210500/src/lib/view-components/wizard/design/wizard-design.types.ts")),l=n("lodash");let c=class{constructor(e){this.changeDetectorRef=e,this.stepList=[],this.isLoadingConfiguration=!1}ngOnInit(){this.model.modelSandbox.getComponentPropertyValue("stepList").subscribe(e=>{this.isLoadingConfiguration=!0,this.stepList=(0,l.cloneDeep)(e),this.stepList.length||(this.stepList=a.WIZARD_DESIGN_OPTIONS.defaultSteps),setTimeout(()=>{this.isLoadingConfiguration=!1,this.changeDetectorRef.detectChanges(),this.adaptStepObject.clickStep(0)})})}};c.ctorParameters=()=>[{type:s.ChangeDetectorRef}],c.propDecorators={adaptStepObject:[{type:s.ViewChild,args:["adaptStepObject"]}],model:[{type:s.Input}]},c=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-wizard-design",template:r.default,styles:[o.default]}),(0,i.__metadata)("design:paramtypes",[s.ChangeDetectorRef])],c)},"./libs/com-example-test210500/src/lib/view-components/wizard/design/wizard-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{WizardDesignModel:()=>d});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./libs/com-example-test210500/src/lib/inspectors/step-editor/step-editor.component.ts"),r=n("rxjs"),s=n("lodash"),a=n("./node_modules/rxjs/_esm2015/operators/index.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js");const c={stepList:[],currentStep:0};class d extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.STEPS_KEY="stepList";const n=this.sandbox.descriptor.name;this.modelSandbox=t,t.updateInspectorConfig(this.setInspectorConfig(c)),this.sandbox.setSettablePropertiesDataDictionary(n,this.prepareSetProperties()),this.sandbox.setCommonDataDictionary(this.prepareDataDictionary(n)),(0,r.combineLatest)([this.sandbox.componentProperties$]).pipe((0,a.map)(([e])=>this.validate(this.sandbox,e))).subscribe(e=>{this.sandbox.setValidationIssues(e)})}prepareSetProperties(){return[{label:"Current step (index)",expression:this.getExpressionForProperty("currentStep")}]}prepareDataDictionary(e){return{label:e,expression:this.getExpressionForProperty("api"),children:[{label:"Current step (index)",expression:this.getExpressionForProperty("currentSelectedStep")}]}}static getInitialProperties(e){return Object.assign(Object.assign({currentStep:0},e),{stepList:e.stepList?JSON.parse(String(e.stepList)):[]})}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"currentStep",component:l.ExpressionFormControlComponent,options:{label:"current Step (Index)",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}}]},{label:"Steps",controls:[{name:this.STEPS_KEY,component:o.StepEditorComponent,options:{label:"Steps",isRequired:!0}}]}]}}validate(e,t){const n=[];return(0,s.forEach)(null==t?void 0:t.stepList,(e,t)=>{if(!e.label){const e={description:"The label is required.",propertyName:this.STEPS_KEY,type:"error",data:{actionIndex:t}};n.push(e)}}),t.stepList&&0!==t.stepList.length||n.push({description:"The wizard component requires at least one step.",propertyName:this.STEPS_KEY,type:"error"}),n}}},"./libs/com-example-test210500/src/lib/view-components/wizard/design/wizard-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{WizardDesignModule:()=>d});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/wizard/design/wizard-design.component.ts"),a=n("./node_modules/@angular/forms/fesm2015/forms.js"),l=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),c=n("./libs/com-example-test210500/src/lib/inspectors/step-editor/step-editor.module.ts");let d=class{};d=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.FormsModule,l.AdaptStepsModule,c.StepEditorModule],declarations:[s.WizardDesignComponent],entryComponents:[s.WizardDesignComponent]})],d)},"./libs/com-example-test210500/src/lib/view-components/wizard/design/wizard-design.types.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{WIZARD_DESIGN_OPTIONS:()=>i});const i={defaultSteps:[{icon:"d-icon-android",label:"Step",shortLabel:"Step: 1 / 3 (welcome)"},{icon:"d-icon-hands",label:"By",shortLabel:"Step: 2 / 3"},{icon:"d-icon-left-user",label:"Step",shortLabel:"Step: 3 / 3 (bye)"}]}},"./libs/com-example-test210500/src/lib/view-components/wizard/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/wizard/runtime/wizard.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/wizard/runtime/wizard.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/wizard/runtime/wizard.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{WizardComponent:()=>u});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/wizard/runtime/wizard.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=n("rxjs"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),c=n("./node_modules/rxjs/_esm2015/operators/index.js"),d=n("lodash");let u=class extends a.BaseViewComponent{constructor(e,t){super(),this.changeDetectorRef=e,this.rxLogService=t,this.stepListLoaded$=new s.ReplaySubject(1),this.stepList=[],this.isLoadingConfiguration=!1,this.activeIndex=0,this.api={setProperty:this.setProperty.bind(this)}}ngOnInit(){this.config.pipe((0,c.distinctUntilChanged)(d.isEqual),(0,c.takeUntil)(this.stepListLoaded$),(0,c.takeUntil)(this.destroyed$)).subscribe(e=>{this.isLoadingConfiguration=!0,this.componentData=e,this.stepList=this.componentData.stepList?JSON.parse(String(this.componentData.stepList)):[],this.activeIndex=this.setStep(this.componentData.currentStep),setTimeout(()=>{this.isLoadingConfiguration=!1,this.changeDetectorRef.detectChanges(),this.adaptStepObject.clickStep(this.activeIndex),this.notifyPropertyChanged("currentSelectedStep",this.activeIndex),this.stepListLoaded$.next(!0),this.config.pipe((0,c.pluck)("currentStep"),(0,c.takeUntil)(this.destroyed$),(0,c.distinctUntilChanged)()).subscribe(e=>{this.activeIndex=this.setStep(e),this.adaptStepObject.clickStep(this.activeIndex),this.notifyPropertyChanged("currentSelectedStep",this.activeIndex)})})}),this.notifyPropertyChanged("api",this.api)}setStep(e){let t=0;return(0,d.isUndefined)(e)||(0,d.isNull)(e)?0:(t=Number(e),t=!(0,d.isNumber)(t)||(0,d.isNaN)(t)?0:Math.min(Math.abs(t),this.stepList.length-1),t)}setProperty(e,t){if("currentStep"===e)this.activeIndex=Number(t),this.adaptStepObject.clickStep(this.activeIndex),this.notifyPropertyChanged("currentSelectedStep",this.activeIndex);else this.rxLogService.warning(`Standalone Field: property ${e} is not settable, value was ${t}.`)}onActiveIndexChange(e){this.notifyPropertyChanged("currentSelectedStep",e)}};u.ctorParameters=()=>[{type:r.ChangeDetectorRef},{type:l.RxLogService}],u.propDecorators={adaptStepObject:[{type:r.ViewChild,args:["adaptStepObject"]}]},u=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-wizard",template:o.default}),(0,i.__metadata)("design:paramtypes",[r.ChangeDetectorRef,l.RxLogService])],u)},"./libs/com-example-test210500/src/lib/view-components/wizard/runtime/wizard.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{WizardModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/wizard/runtime/wizard.component.ts"),a=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),l=n("./node_modules/@angular/forms/fesm2015/forms.js");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.AdaptStepsModule,l.FormsModule],exports:[s.WizardComponent],declarations:[s.WizardComponent],entryComponents:[s.WizardComponent]})],c)},"./libs/com-example-test210500/src/lib/view-components/wizard/wizard-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{WizardRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/wizard/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/wizard/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500Wizard",name:"Wizard",icon:"left-list",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.WizardComponent),properties:[{name:"stepList"},{name:"currentStep",enableExpressionEvaluation:!0}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.WizardDesignComponent),designComponentModel:a.WizardDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.WizardDesignModule,s.WizardModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./libs/com-example-test210500/src/lib/view-components/youtube-player/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/youtube-player/design/youtube-player-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/youtube-player/design/youtube-player-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-example-test210500/src/lib/view-components/youtube-player/design/youtube-player-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/youtube-player/design/youtube-player-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{YoutubePlayerDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-example-test210500/src/lib/view-components/youtube-player/design/youtube-player-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/youtube-player/design/youtube-player-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-example-test210500/src/lib/view-components/youtube-player/design/youtube-player-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-example-test210500-com-example-test210500-youtube-player-design",template:r.default,styles:[o.default]})],a)},"./libs/com-example-test210500/src/lib/view-components/youtube-player/design/youtube-player-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{YoutubePlayerDesignModel:()=>c});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),s=n("rxjs"),a=n("./node_modules/rxjs/_esm2015/operators/index.js");const l={videoId:""};class c extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(l)),(0,s.combineLatest)([this.sandbox.componentProperties$]).pipe((0,a.map)(([e])=>this.validate(this.sandbox,e))).subscribe(e=>{this.sandbox.setValidationIssues(e)})}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"videoId",component:o.ExpressionFormControlComponent,options:{label:"Youtube Video Id",tooltip:new r.Tooltip("You need to provide the video Id. For example for https://www.youtube.com/watch?v=dQw4w9WgXcQ it would be dQw4w9WgXcQ."),dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}}]}]}}validate(e,t){let n=[];return t.videoId||n.push(e.createError("The video id is required.","videoId")),n}}},"./libs/com-example-test210500/src/lib/view-components/youtube-player/design/youtube-player-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{YoutubePlayerDesignModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-example-test210500/src/lib/view-components/youtube-player/design/youtube-player-design.component.ts");let l=class{};l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.YoutubePlayerDesignComponent],entryComponents:[a.YoutubePlayerDesignComponent]})],l)},"./libs/com-example-test210500/src/lib/view-components/youtube-player/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-example-test210500/src/lib/view-components/youtube-player/runtime/youtube-player.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-example-test210500/src/lib/view-components/youtube-player/runtime/youtube-player.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-example-test210500/src/lib/view-components/youtube-player/runtime/youtube-player.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{YoutubePlayerComponent:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-example-test210500/src/lib/view-components/youtube-player/runtime/youtube-player.component.html"),r=n("./node_modules/@angular/core/fesm2015/core.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),a=n("./libs/com-example-test210500/src/lib/services/dynamic-service-loader.service.ts"),l=n("./node_modules/rxjs/_esm2015/operators/index.js");let c=class extends s.BaseViewComponent{constructor(e){super(),this.dynamicScriptLoaderServiceService=e}ngOnInit(){this.dynamicScriptLoaderServiceService.loadScriptByUrl("https://www.youtube.com/iframe_api","youtube").then(e=>{this.config.pipe((0,l.pluck)("videoId"),(0,l.distinctUntilChanged)(),(0,l.takeUntil)(this.destroyed$)).subscribe(e=>{this.videoId=e})})}};c.ctorParameters=()=>[{type:a.DynamicScriptLoaderServiceService}],c=(0,i.__decorate)([(0,r.Component)({selector:"com-example-test210500-com-example-test210500-youtube-player",template:o.default}),(0,i.__metadata)("design:paramtypes",[a.DynamicScriptLoaderServiceService])],c)},"./libs/com-example-test210500/src/lib/view-components/youtube-player/runtime/youtube-player.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{YoutubePlayerModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-example-test210500/src/lib/view-components/youtube-player/runtime/youtube-player.component.ts"),a=n("./node_modules/@angular/youtube-player/fesm2015/youtube-player.js"),l=n("./libs/com-example-test210500/src/lib/services/dynamic-service-loader.service.ts");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.YouTubePlayerModule],exports:[s.YoutubePlayerComponent],declarations:[s.YoutubePlayerComponent],providers:[l.DynamicScriptLoaderServiceService],entryComponents:[s.YoutubePlayerComponent]})],c)},"./libs/com-example-test210500/src/lib/view-components/youtube-player/youtube-player-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{YoutubePlayerRegistrationModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-example-test210500/src/lib/view-components/youtube-player/runtime/index.ts"),a=n("./libs/com-example-test210500/src/lib/view-components/youtube-player/design/index.ts");let l=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"comExampleTest210500YoutubePlayer",name:"Youtube Player",icon:"video_square",group:"Test 21.05.00",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.YoutubePlayerComponent),properties:[{name:"videoId",type:r.ViewComponentPropertyType.String,enableExpressionEvaluation:!0}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.YoutubePlayerDesignComponent),designComponentModel:a.YoutubePlayerDesignModel,bundleId:"com.example.test210500"})}};l.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[a.YoutubePlayerDesignModule,s.YoutubePlayerModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],l)},"./node_modules/@angular/google-maps/fesm2015/google-maps.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GoogleMap:()=>p,GoogleMapsModule:()=>T,MapBaseLayer:()=>f,MapBicyclingLayer:()=>g,MapCircle:()=>v,MapGroundOverlay:()=>y,MapInfoWindow:()=>b,MapKmlLayer:()=>x,MapMarker:()=>C,MapMarkerClusterer:()=>_,MapPolygon:()=>S,MapPolyline:()=>I,MapRectangle:()=>A,MapTrafficLayer:()=>E,MapTransitLayer:()=>D});var i=n("./node_modules/@angular/core/fesm2015/core.js"),o=n("./node_modules/@angular/common/fesm2015/common.js"),r=n("rxjs"),s=n("./node_modules/rxjs/_esm2015/operators/index.js");const a=["*"];class l{constructor(e){this._ngZone=e,this._pending=[],this._listeners=[],this._targetStream=new r.BehaviorSubject(void 0)}_clearListeners(){for(const e of this._listeners)e.remove();this._listeners=[]}getLazyEmitter(e){return this._targetStream.pipe((0,s.switchMap)(t=>{const n=new r.Observable(i=>{if(!t)return void this._pending.push({observable:n,observer:i});const o=t.addListener(e,e=>{this._ngZone.run(()=>i.next(e))});return this._listeners.push(o),()=>o.remove()});return n}))}setTarget(e){const t=this._targetStream.value;e!==t&&(t&&(this._clearListeners(),this._pending=[]),this._targetStream.next(e),this._pending.forEach(e=>e.observable.subscribe(e.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}}const c={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},d="500px",u="500px";class p{constructor(e,t,n){if(this._elementRef=e,this._ngZone=t,this._eventManager=new l(this._ngZone),this.height=d,this.width=u,this._options=c,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=(0,o.isPlatformBrowser)(n),this._isBrowser){window.google,0}}set center(e){this._center=e}set zoom(e){this._zoom=e}set options(e){this._options=e||c}ngOnChanges(e){(e.height||e.width)&&this._setSize();const t=this.googleMap;t&&(e.options&&t.setOptions(this._combineOptions()),e.center&&this._center&&t.setCenter(this._center),e.zoom&&null!=this._zoom&&t.setZoom(this._zoom),e.mapTypeId&&this.mapTypeId&&t.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),this._ngZone.runOutsideAngular(()=>{this.googleMap=new google.maps.Map(this._mapEl,this._combineOptions())}),this._eventManager.setTarget(this.googleMap))}ngOnDestroy(){this._eventManager.destroy()}fitBounds(e,t){this._assertInitialized(),this.googleMap.fitBounds(e,t)}panBy(e,t){this._assertInitialized(),this.googleMap.panBy(e,t)}panTo(e){this._assertInitialized(),this.googleMap.panTo(e)}panToBounds(e,t){this._assertInitialized(),this.googleMap.panToBounds(e,t)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_setSize(){if(this._mapEl){const e=this._mapEl.style;e.height=null===this.height?"":m(this.height)||d,e.width=null===this.width?"":m(this.width)||u}}_combineOptions(){var e,t;const n=this._options||{};return Object.assign(Object.assign({},n),{center:this._center||n.center||c.center,zoom:null!==(t=null!==(e=this._zoom)&&void 0!==e?e:n.zoom)&&void 0!==t?t:c.zoom,mapTypeId:this.mapTypeId||n.mapTypeId||c.mapTypeId})}_assertInitialized(){this.googleMap,0}}p.\u0275fac=function(e){return new(e||p)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](i.PLATFORM_ID))},p.\u0275cmp=i["\u0275\u0275defineComponent"]({type:p,selectors:[["google-map"]],inputs:{height:"height",width:"width",center:"center",zoom:"zoom",options:"options",mapTypeId:"mapTypeId"},outputs:{boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[i["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:a,decls:2,vars:0,consts:[[1,"map-container"]],template:function(e,t){1&e&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275element"](0,"div",0),i["\u0275\u0275projection"](1))},encapsulation:2,changeDetection:0}),p.ctorParameters=()=>[{type:i.ElementRef},{type:i.NgZone},{type:Object,decorators:[{type:i.Inject,args:[i.PLATFORM_ID]}]}],p.propDecorators={height:[{type:i.Input}],width:[{type:i.Input}],mapTypeId:[{type:i.Input}],center:[{type:i.Input}],zoom:[{type:i.Input}],options:[{type:i.Input}],boundsChanged:[{type:i.Output}],centerChanged:[{type:i.Output}],mapClick:[{type:i.Output}],mapDblclick:[{type:i.Output}],mapDrag:[{type:i.Output}],mapDragend:[{type:i.Output}],mapDragstart:[{type:i.Output}],headingChanged:[{type:i.Output}],idle:[{type:i.Output}],maptypeidChanged:[{type:i.Output}],mapMousemove:[{type:i.Output}],mapMouseout:[{type:i.Output}],mapMouseover:[{type:i.Output}],projectionChanged:[{type:i.Output}],mapRightclick:[{type:i.Output}],tilesloaded:[{type:i.Output}],tiltChanged:[{type:i.Output}],zoomChanged:[{type:i.Output}]};const h=/([A-Za-z%]+)$/;function m(e){return null==e?"":h.test(e)?e:`${e}px`}class f{constructor(e,t){this._map=e,this._ngZone=t}ngOnInit(){this._map._isBrowser&&(this._ngZone.runOutsideAngular(()=>{this._initializeObject()}),this._assertInitialized(),this._setMap())}ngOnDestroy(){this._unsetMap()}_assertInitialized(){if(!this._map.googleMap)throw Error("Cannot access Google Map information before the API has been initialized. Please wait for the API to load before trying to interact with it.")}_initializeObject(){}_setMap(){}_unsetMap(){}}f.\u0275fac=function(e){return new(e||f)(i["\u0275\u0275directiveInject"](p),i["\u0275\u0275directiveInject"](i.NgZone))},f.\u0275dir=i["\u0275\u0275defineDirective"]({type:f,selectors:[["map-base-layer"]],exportAs:["mapBaseLayer"]}),f.ctorParameters=()=>[{type:p},{type:i.NgZone}];class g extends f{_initializeObject(){this.bicyclingLayer=new google.maps.BicyclingLayer}_setMap(){this._assertLayerInitialized(),this.bicyclingLayer.setMap(this._map.googleMap)}_unsetMap(){this.bicyclingLayer&&this.bicyclingLayer.setMap(null)}_assertLayerInitialized(){if(!this.bicyclingLayer)throw Error("Cannot interact with a Google Map Bicycling Layer before it has been initialized. Please wait for the Transit Layer to load before trying to interact with it.")}}g.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](g)))(t||g)}}(),g.\u0275dir=i["\u0275\u0275defineDirective"]({type:g,selectors:[["map-bicycling-layer"]],exportAs:["mapBicyclingLayer"],features:[i["\u0275\u0275InheritDefinitionFeature"]]});class v{constructor(e,t){this._map=e,this._ngZone=t,this._eventManager=new l(this._ngZone),this._options=new r.BehaviorSubject({}),this._center=new r.BehaviorSubject(void 0),this._radius=new r.BehaviorSubject(void 0),this._destroyed=new r.Subject,this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.circleClick=this._eventManager.getLazyEmitter("click"),this.circleDblclick=this._eventManager.getLazyEmitter("dblclick"),this.circleDrag=this._eventManager.getLazyEmitter("drag"),this.circleDragend=this._eventManager.getLazyEmitter("dragend"),this.circleDragstart=this._eventManager.getLazyEmitter("dragstart"),this.circleMousedown=this._eventManager.getLazyEmitter("mousedown"),this.circleMousemove=this._eventManager.getLazyEmitter("mousemove"),this.circleMouseout=this._eventManager.getLazyEmitter("mouseout"),this.circleMouseover=this._eventManager.getLazyEmitter("mouseover"),this.circleMouseup=this._eventManager.getLazyEmitter("mouseup"),this.radiusChanged=this._eventManager.getLazyEmitter("radius_changed"),this.circleRightclick=this._eventManager.getLazyEmitter("rightclick")}set options(e){this._options.next(e||{})}set center(e){this._center.next(e)}set radius(e){this._radius.next(e)}ngOnInit(){this._map._isBrowser&&(this._combineOptions().pipe((0,s.take)(1)).subscribe(e=>{this._ngZone.runOutsideAngular(()=>{this.circle=new google.maps.Circle(e)}),this._assertInitialized(),this.circle.setMap(this._map.googleMap),this._eventManager.setTarget(this.circle)}),this._watchForOptionsChanges(),this._watchForCenterChanges(),this._watchForRadiusChanges())}ngOnDestroy(){this._eventManager.destroy(),this._destroyed.next(),this._destroyed.complete(),this.circle&&this.circle.setMap(null)}getBounds(){return this._assertInitialized(),this.circle.getBounds()}getCenter(){return this._assertInitialized(),this.circle.getCenter()}getDraggable(){return this._assertInitialized(),this.circle.getDraggable()}getEditable(){return this._assertInitialized(),this.circle.getEditable()}getRadius(){return this._assertInitialized(),this.circle.getRadius()}getVisible(){return this._assertInitialized(),this.circle.getVisible()}_combineOptions(){return(0,r.combineLatest)([this._options,this._center,this._radius]).pipe((0,s.map)(([e,t,n])=>Object.assign(Object.assign({},e),{center:t||e.center,radius:void 0!==n?n:e.radius})))}_watchForOptionsChanges(){this._options.pipe((0,s.takeUntil)(this._destroyed)).subscribe(e=>{this._assertInitialized(),this.circle.setOptions(e)})}_watchForCenterChanges(){this._center.pipe((0,s.takeUntil)(this._destroyed)).subscribe(e=>{e&&(this._assertInitialized(),this.circle.setCenter(e))})}_watchForRadiusChanges(){this._radius.pipe((0,s.takeUntil)(this._destroyed)).subscribe(e=>{void 0!==e&&(this._assertInitialized(),this.circle.setRadius(e))})}_assertInitialized(){0}}v.\u0275fac=function(e){return new(e||v)(i["\u0275\u0275directiveInject"](p),i["\u0275\u0275directiveInject"](i.NgZone))},v.\u0275dir=i["\u0275\u0275defineDirective"]({type:v,selectors:[["map-circle"]],inputs:{options:"options",center:"center",radius:"radius"},outputs:{centerChanged:"centerChanged",circleClick:"circleClick",circleDblclick:"circleDblclick",circleDrag:"circleDrag",circleDragend:"circleDragend",circleDragstart:"circleDragstart",circleMousedown:"circleMousedown",circleMousemove:"circleMousemove",circleMouseout:"circleMouseout",circleMouseover:"circleMouseover",circleMouseup:"circleMouseup",radiusChanged:"radiusChanged",circleRightclick:"circleRightclick"},exportAs:["mapCircle"]}),v.ctorParameters=()=>[{type:p},{type:i.NgZone}],v.propDecorators={options:[{type:i.Input}],center:[{type:i.Input}],radius:[{type:i.Input}],centerChanged:[{type:i.Output}],circleClick:[{type:i.Output}],circleDblclick:[{type:i.Output}],circleDrag:[{type:i.Output}],circleDragend:[{type:i.Output}],circleDragstart:[{type:i.Output}],circleMousedown:[{type:i.Output}],circleMousemove:[{type:i.Output}],circleMouseout:[{type:i.Output}],circleMouseover:[{type:i.Output}],circleMouseup:[{type:i.Output}],radiusChanged:[{type:i.Output}],circleRightclick:[{type:i.Output}]};class y{constructor(e,t){this._map=e,this._ngZone=t,this._eventManager=new l(this._ngZone),this._opacity=new r.BehaviorSubject(1),this._url=new r.BehaviorSubject(""),this._bounds=new r.BehaviorSubject(void 0),this._destroyed=new r.Subject,this.clickable=!1,this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick")}set url(e){this._url.next(e)}get bounds(){return this._bounds.value}set bounds(e){this._bounds.next(e)}set opacity(e){this._opacity.next(e)}ngOnInit(){this._map._isBrowser&&(this._bounds.pipe((0,s.takeUntil)(this._destroyed)).subscribe(e=>{this.groundOverlay&&(this.groundOverlay.setMap(null),this.groundOverlay=void 0),e&&(this._ngZone.runOutsideAngular(()=>{this.groundOverlay=new google.maps.GroundOverlay(this._url.getValue(),e,{clickable:this.clickable,opacity:this._opacity.value})}),this._assertInitialized(),this.groundOverlay.setMap(this._map.googleMap),this._eventManager.setTarget(this.groundOverlay))}),this._watchForOpacityChanges(),this._watchForUrlChanges())}ngOnDestroy(){this._eventManager.destroy(),this._destroyed.next(),this._destroyed.complete(),this.groundOverlay&&this.groundOverlay.setMap(null)}getBounds(){return this._assertInitialized(),this.groundOverlay.getBounds()}getOpacity(){return this._assertInitialized(),this.groundOverlay.getOpacity()}getUrl(){return this._assertInitialized(),this.groundOverlay.getUrl()}_watchForOpacityChanges(){this._opacity.pipe((0,s.takeUntil)(this._destroyed)).subscribe(e=>{null!=e&&(this._assertInitialized(),this.groundOverlay.setOpacity(e))})}_watchForUrlChanges(){this._url.pipe((0,s.takeUntil)(this._destroyed)).subscribe(e=>{this._assertInitialized();const t=this.groundOverlay;t.set("url",e),t.setMap(null),t.setMap(this._map.googleMap)})}_assertInitialized(){0}}y.\u0275fac=function(e){return new(e||y)(i["\u0275\u0275directiveInject"](p),i["\u0275\u0275directiveInject"](i.NgZone))},y.\u0275dir=i["\u0275\u0275defineDirective"]({type:y,selectors:[["map-ground-overlay"]],inputs:{clickable:"clickable",url:"url",bounds:"bounds",opacity:"opacity"},outputs:{mapClick:"mapClick",mapDblclick:"mapDblclick"},exportAs:["mapGroundOverlay"]}),y.ctorParameters=()=>[{type:p},{type:i.NgZone}],y.propDecorators={url:[{type:i.Input}],bounds:[{type:i.Input}],clickable:[{type:i.Input}],opacity:[{type:i.Input}],mapClick:[{type:i.Output}],mapDblclick:[{type:i.Output}]};class b{constructor(e,t,n){this._googleMap=e,this._elementRef=t,this._ngZone=n,this._eventManager=new l(this._ngZone),this._options=new r.BehaviorSubject({}),this._position=new r.BehaviorSubject(void 0),this._destroy=new r.Subject,this.closeclick=this._eventManager.getLazyEmitter("closeclick"),this.contentChanged=this._eventManager.getLazyEmitter("content_changed"),this.domready=this._eventManager.getLazyEmitter("domready"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}set options(e){this._options.next(e||{})}set position(e){this._position.next(e)}ngOnInit(){if(this._googleMap._isBrowser){this._combineOptions().pipe((0,s.take)(1)).subscribe(e=>{this._ngZone.runOutsideAngular(()=>{this.infoWindow=new google.maps.InfoWindow(e)}),this._eventManager.setTarget(this.infoWindow)}),this._watchForOptionsChanges(),this._watchForPositionChanges()}}ngOnDestroy(){this._eventManager.destroy(),this._destroy.next(),this._destroy.complete(),this.infoWindow&&this.close()}close(){this._assertInitialized(),this.infoWindow.close()}getContent(){return this._assertInitialized(),this.infoWindow.getContent()}getPosition(){return this._assertInitialized(),this.infoWindow.getPosition()}getZIndex(){return this._assertInitialized(),this.infoWindow.getZIndex()}open(e){this._assertInitialized();const t=e?e.getAnchor():void 0;this.infoWindow.get("anchor")===t&&t||(this._elementRef.nativeElement.style.display="",this.infoWindow.open(this._googleMap.googleMap,t))}_combineOptions(){return(0,r.combineLatest)([this._options,this._position]).pipe((0,s.map)(([e,t])=>Object.assign(Object.assign({},e),{position:t||e.position,content:this._elementRef.nativeElement})))}_watchForOptionsChanges(){this._options.pipe((0,s.takeUntil)(this._destroy)).subscribe(e=>{this._assertInitialized(),this.infoWindow.setOptions(e)})}_watchForPositionChanges(){this._position.pipe((0,s.takeUntil)(this._destroy)).subscribe(e=>{e&&(this._assertInitialized(),this.infoWindow.setPosition(e))})}_assertInitialized(){0}}b.\u0275fac=function(e){return new(e||b)(i["\u0275\u0275directiveInject"](p),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.NgZone))},b.\u0275dir=i["\u0275\u0275defineDirective"]({type:b,selectors:[["map-info-window"]],hostAttrs:[2,"display","none"],inputs:{options:"options",position:"position"},outputs:{closeclick:"closeclick",contentChanged:"contentChanged",domready:"domready",positionChanged:"positionChanged",zindexChanged:"zindexChanged"},exportAs:["mapInfoWindow"]}),b.ctorParameters=()=>[{type:p},{type:i.ElementRef},{type:i.NgZone}],b.propDecorators={options:[{type:i.Input}],position:[{type:i.Input}],closeclick:[{type:i.Output}],contentChanged:[{type:i.Output}],domready:[{type:i.Output}],positionChanged:[{type:i.Output}],zindexChanged:[{type:i.Output}]};class x{constructor(e,t){this._map=e,this._ngZone=t,this._eventManager=new l(this._ngZone),this._options=new r.BehaviorSubject({}),this._url=new r.BehaviorSubject(""),this._destroyed=new r.Subject,this.kmlClick=this._eventManager.getLazyEmitter("click"),this.defaultviewportChanged=this._eventManager.getLazyEmitter("defaultviewport_changed"),this.statusChanged=this._eventManager.getLazyEmitter("status_changed")}set options(e){this._options.next(e||{})}set url(e){this._url.next(e)}ngOnInit(){this._map._isBrowser&&(this._combineOptions().pipe((0,s.take)(1)).subscribe(e=>{this._ngZone.runOutsideAngular(()=>this.kmlLayer=new google.maps.KmlLayer(e)),this._assertInitialized(),this.kmlLayer.setMap(this._map.googleMap),this._eventManager.setTarget(this.kmlLayer)}),this._watchForOptionsChanges(),this._watchForUrlChanges())}ngOnDestroy(){this._eventManager.destroy(),this._destroyed.next(),this._destroyed.complete(),this.kmlLayer&&this.kmlLayer.setMap(null)}getDefaultViewport(){return this._assertInitialized(),this.kmlLayer.getDefaultViewport()}getMetadata(){return this._assertInitialized(),this.kmlLayer.getMetadata()}getStatus(){return this._assertInitialized(),this.kmlLayer.getStatus()}getUrl(){return this._assertInitialized(),this.kmlLayer.getUrl()}getZIndex(){return this._assertInitialized(),this.kmlLayer.getZIndex()}_combineOptions(){return(0,r.combineLatest)([this._options,this._url]).pipe((0,s.map)(([e,t])=>Object.assign(Object.assign({},e),{url:t||e.url})))}_watchForOptionsChanges(){this._options.pipe((0,s.takeUntil)(this._destroyed)).subscribe(e=>{this.kmlLayer&&(this._assertInitialized(),this.kmlLayer.setOptions(e))})}_watchForUrlChanges(){this._url.pipe((0,s.takeUntil)(this._destroyed)).subscribe(e=>{e&&this.kmlLayer&&(this._assertInitialized(),this.kmlLayer.setUrl(e))})}_assertInitialized(){0}}x.\u0275fac=function(e){return new(e||x)(i["\u0275\u0275directiveInject"](p),i["\u0275\u0275directiveInject"](i.NgZone))},x.\u0275dir=i["\u0275\u0275defineDirective"]({type:x,selectors:[["map-kml-layer"]],inputs:{options:"options",url:"url"},outputs:{kmlClick:"kmlClick",defaultviewportChanged:"defaultviewportChanged",statusChanged:"statusChanged"},exportAs:["mapKmlLayer"]}),x.ctorParameters=()=>[{type:p},{type:i.NgZone}],x.propDecorators={options:[{type:i.Input}],url:[{type:i.Input}],kmlClick:[{type:i.Output}],defaultviewportChanged:[{type:i.Output}],statusChanged:[{type:i.Output}]};const w={position:{lat:37.421995,lng:-122.084092}};class C{constructor(e,t){this._googleMap=e,this._ngZone=t,this._eventManager=new l(this._ngZone),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}set title(e){this._title=e}set position(e){this._position=e}set label(e){this._label=e}set clickable(e){this._clickable=e}set options(e){this._options=e}ngOnInit(){this._googleMap._isBrowser&&(this._ngZone.runOutsideAngular(()=>{this.marker=new google.maps.Marker(this._combineOptions())}),this._assertInitialized(),this.marker.setMap(this._googleMap.googleMap),this._eventManager.setTarget(this.marker))}ngOnChanges(e){const{marker:t,_title:n,_position:i,_label:o,_clickable:r}=this;t&&(e.options&&t.setOptions(this._combineOptions()),e.title&&void 0!==n&&t.setTitle(n),e.position&&i&&t.setPosition(i),e.label&&void 0!==o&&t.setLabel(o),e.clickable&&void 0!==r&&t.setClickable(r))}ngOnDestroy(){this._eventManager.destroy(),this.marker&&this.marker.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_combineOptions(){const e=this._options||w;return Object.assign(Object.assign({},e),{title:this._title||e.title,position:this._position||e.position,label:this._label||e.label,clickable:void 0!==this._clickable?this._clickable:e.clickable,map:this._googleMap.googleMap})}_assertInitialized(){0}}C.\u0275fac=function(e){return new(e||C)(i["\u0275\u0275directiveInject"](p),i["\u0275\u0275directiveInject"](i.NgZone))},C.\u0275dir=i["\u0275\u0275defineDirective"]({type:C,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged"},exportAs:["mapMarker"],features:[i["\u0275\u0275NgOnChangesFeature"]]}),C.ctorParameters=()=>[{type:p},{type:i.NgZone}],C.propDecorators={title:[{type:i.Input}],position:[{type:i.Input}],label:[{type:i.Input}],clickable:[{type:i.Input}],options:[{type:i.Input}],animationChanged:[{type:i.Output}],mapClick:[{type:i.Output}],clickableChanged:[{type:i.Output}],cursorChanged:[{type:i.Output}],mapDblclick:[{type:i.Output}],mapDrag:[{type:i.Output}],mapDragend:[{type:i.Output}],draggableChanged:[{type:i.Output}],mapDragstart:[{type:i.Output}],flatChanged:[{type:i.Output}],iconChanged:[{type:i.Output}],mapMousedown:[{type:i.Output}],mapMouseout:[{type:i.Output}],mapMouseover:[{type:i.Output}],mapMouseup:[{type:i.Output}],positionChanged:[{type:i.Output}],mapRightclick:[{type:i.Output}],shapeChanged:[{type:i.Output}],titleChanged:[{type:i.Output}],visibleChanged:[{type:i.Output}],zindexChanged:[{type:i.Output}]};class _{constructor(e,t){this._googleMap=e,this._ngZone=t,this._currentMarkers=new Set,this._eventManager=new l(this._ngZone),this._destroy=new r.Subject,this.ariaLabelFn=()=>"",this.clusteringbegin=this._eventManager.getLazyEmitter("clusteringbegin"),this.clusteringend=this._eventManager.getLazyEmitter("clusteringend"),this._canInitialize=this._googleMap._isBrowser}set averageCenter(e){this._averageCenter=e}set batchSizeIE(e){this._batchSizeIE=e}set calculator(e){this._calculator=e}set clusterClass(e){this._clusterClass=e}set enableRetinaIcons(e){this._enableRetinaIcons=e}set gridSize(e){this._gridSize=e}set ignoreHidden(e){this._ignoreHidden=e}set imageExtension(e){this._imageExtension=e}set imagePath(e){this._imagePath=e}set imageSizes(e){this._imageSizes=e}set maxZoom(e){this._maxZoom=e}set minimumClusterSize(e){this._minimumClusterSize=e}set styles(e){this._styles=e}set title(e){this._title=e}set zIndex(e){this._zIndex=e}set zoomOnClick(e){this._zoomOnClick=e}ngOnInit(){this._canInitialize&&(this._ngZone.runOutsideAngular(()=>{this.markerClusterer=new MarkerClusterer(this._googleMap.googleMap,[],this._combineOptions())}),this._assertInitialized(),this._eventManager.setTarget(this.markerClusterer))}ngAfterContentInit(){this._canInitialize&&this._watchForMarkerChanges()}ngOnChanges(e){const{markerClusterer:t,ariaLabelFn:n,_averageCenter:i,_batchSizeIE:o,_calculator:r,_styles:s,_clusterClass:a,_enableRetinaIcons:l,_gridSize:c,_ignoreHidden:d,_imageExtension:u,_imagePath:p,_imageSizes:h,_maxZoom:m,_minimumClusterSize:f,_title:g,_zIndex:v,_zoomOnClick:y}=this;t&&(e.ariaLabelFn&&(t.ariaLabelFn=n),e.averageCenter&&void 0!==i&&t.setAverageCenter(i),e.batchSizeIE&&void 0!==o&&t.setBatchSizeIE(o),e.calculator&&r&&t.setCalculator(r),e.clusterClass&&void 0!==a&&t.setClusterClass(a),e.enableRetinaIcons&&void 0!==l&&t.setEnableRetinaIcons(l),e.gridSize&&void 0!==c&&t.setGridSize(c),e.ignoreHidden&&void 0!==d&&t.setIgnoreHidden(d),e.imageExtension&&void 0!==u&&t.setImageExtension(u),e.imagePath&&void 0!==p&&t.setImagePath(p),e.imageSizes&&h&&t.setImageSizes(h),e.maxZoom&&void 0!==m&&t.setMaxZoom(m),e.minimumClusterSize&&void 0!==f&&t.setMinimumClusterSize(f),e.styles&&s&&t.setStyles(s),e.title&&void 0!==g&&t.setTitle(g),e.zIndex&&void 0!==v&&t.setZIndex(v),e.zoomOnClick&&void 0!==y&&t.setZoomOnClick(y))}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this._eventManager.destroy(),this.markerClusterer&&this.markerClusterer.setMap(null)}fitMapToMarkers(e){this._assertInitialized(),this.markerClusterer.fitMapToMarkers(e)}getAverageCenter(){return this._assertInitialized(),this.markerClusterer.getAverageCenter()}getBatchSizeIE(){return this._assertInitialized(),this.markerClusterer.getBatchSizeIE()}getCalculator(){return this._assertInitialized(),this.markerClusterer.getCalculator()}getClusterClass(){return this._assertInitialized(),this.markerClusterer.getClusterClass()}getClusters(){return this._assertInitialized(),this.markerClusterer.getClusters()}getEnableRetinaIcons(){return this._assertInitialized(),this.markerClusterer.getEnableRetinaIcons()}getGridSize(){return this._assertInitialized(),this.markerClusterer.getGridSize()}getIgnoreHidden(){return this._assertInitialized(),this.markerClusterer.getIgnoreHidden()}getImageExtension(){return this._assertInitialized(),this.markerClusterer.getImageExtension()}getImagePath(){return this._assertInitialized(),this.markerClusterer.getImagePath()}getImageSizes(){return this._assertInitialized(),this.markerClusterer.getImageSizes()}getMaxZoom(){return this._assertInitialized(),this.markerClusterer.getMaxZoom()}getMinimumClusterSize(){return this._assertInitialized(),this.markerClusterer.getMinimumClusterSize()}getStyles(){return this._assertInitialized(),this.markerClusterer.getStyles()}getTitle(){return this._assertInitialized(),this.markerClusterer.getTitle()}getTotalClusters(){return this._assertInitialized(),this.markerClusterer.getTotalClusters()}getTotalMarkers(){return this._assertInitialized(),this.markerClusterer.getTotalMarkers()}getZIndex(){return this._assertInitialized(),this.markerClusterer.getZIndex()}getZoomOnClick(){return this._assertInitialized(),this.markerClusterer.getZoomOnClick()}_combineOptions(){return{ariaLabelFn:this.ariaLabelFn,averageCenter:this._averageCenter,batchSize:this.batchSize,batchSizeIE:this._batchSizeIE,calculator:this._calculator,clusterClass:this._clusterClass,enableRetinaIcons:this._enableRetinaIcons,gridSize:this._gridSize,ignoreHidden:this._ignoreHidden,imageExtension:this._imageExtension,imagePath:this._imagePath,imageSizes:this._imageSizes,maxZoom:this._maxZoom,minimumClusterSize:this._minimumClusterSize,styles:this._styles,title:this._title,zIndex:this._zIndex,zoomOnClick:this._zoomOnClick}}_watchForMarkerChanges(){this._assertInitialized();const e=[];for(const t of this._getInternalMarkers(this._markers.toArray()))this._currentMarkers.add(t),e.push(t);this.markerClusterer.addMarkers(e),this._markers.changes.pipe((0,s.takeUntil)(this._destroy)).subscribe(e=>{this._assertInitialized();const t=new Set(this._getInternalMarkers(e)),n=[],i=[];for(const o of Array.from(t))this._currentMarkers.has(o)||(this._currentMarkers.add(o),n.push(o));for(const o of Array.from(this._currentMarkers))t.has(o)||i.push(o);this.markerClusterer.addMarkers(n,!0),this.markerClusterer.removeMarkers(i,!0),this.markerClusterer.repaint();for(const o of i)this._currentMarkers.delete(o)})}_getInternalMarkers(e){return e.filter(e=>!!e.marker).map(e=>e.marker)}_assertInitialized(){0}}_.\u0275fac=function(e){return new(e||_)(i["\u0275\u0275directiveInject"](p),i["\u0275\u0275directiveInject"](i.NgZone))},_.\u0275cmp=i["\u0275\u0275defineComponent"]({type:_,selectors:[["map-marker-clusterer"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,C,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t._markers=e)}},inputs:{ariaLabelFn:"ariaLabelFn",averageCenter:"averageCenter",batchSizeIE:"batchSizeIE",calculator:"calculator",clusterClass:"clusterClass",enableRetinaIcons:"enableRetinaIcons",gridSize:"gridSize",ignoreHidden:"ignoreHidden",imageExtension:"imageExtension",imagePath:"imagePath",imageSizes:"imageSizes",maxZoom:"maxZoom",minimumClusterSize:"minimumClusterSize",styles:"styles",title:"title",zIndex:"zIndex",zoomOnClick:"zoomOnClick",batchSize:"batchSize"},outputs:{clusteringbegin:"clusteringbegin",clusteringend:"clusteringend"},exportAs:["mapMarkerClusterer"],features:[i["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:a,decls:1,vars:0,template:function(e,t){1&e&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275projection"](0))},encapsulation:2,changeDetection:0}),_.ctorParameters=()=>[{type:p},{type:i.NgZone}],_.propDecorators={ariaLabelFn:[{type:i.Input}],averageCenter:[{type:i.Input}],batchSize:[{type:i.Input}],batchSizeIE:[{type:i.Input}],calculator:[{type:i.Input}],clusterClass:[{type:i.Input}],enableRetinaIcons:[{type:i.Input}],gridSize:[{type:i.Input}],ignoreHidden:[{type:i.Input}],imageExtension:[{type:i.Input}],imagePath:[{type:i.Input}],imageSizes:[{type:i.Input}],maxZoom:[{type:i.Input}],minimumClusterSize:[{type:i.Input}],styles:[{type:i.Input}],title:[{type:i.Input}],zIndex:[{type:i.Input}],zoomOnClick:[{type:i.Input}],clusteringbegin:[{type:i.Output}],clusteringend:[{type:i.Output}],_markers:[{type:i.ContentChildren,args:[C,{descendants:!0}]}]};class S{constructor(e,t){this._map=e,this._ngZone=t,this._eventManager=new l(this._ngZone),this._options=new r.BehaviorSubject({}),this._paths=new r.BehaviorSubject(void 0),this._destroyed=new r.Subject,this.polygonClick=this._eventManager.getLazyEmitter("click"),this.polygonDblclick=this._eventManager.getLazyEmitter("dblclick"),this.polygonDrag=this._eventManager.getLazyEmitter("drag"),this.polygonDragend=this._eventManager.getLazyEmitter("dragend"),this.polygonDragstart=this._eventManager.getLazyEmitter("dragstart"),this.polygonMousedown=this._eventManager.getLazyEmitter("mousedown"),this.polygonMousemove=this._eventManager.getLazyEmitter("mousemove"),this.polygonMouseout=this._eventManager.getLazyEmitter("mouseout"),this.polygonMouseover=this._eventManager.getLazyEmitter("mouseover"),this.polygonMouseup=this._eventManager.getLazyEmitter("mouseup"),this.polygonRightclick=this._eventManager.getLazyEmitter("rightclick")}set options(e){this._options.next(e||{})}set paths(e){this._paths.next(e)}ngOnInit(){this._map._isBrowser&&(this._combineOptions().pipe((0,s.take)(1)).subscribe(e=>{this._ngZone.runOutsideAngular(()=>{this.polygon=new google.maps.Polygon(e)}),this._assertInitialized(),this.polygon.setMap(this._map.googleMap),this._eventManager.setTarget(this.polygon)}),this._watchForOptionsChanges(),this._watchForPathChanges())}ngOnDestroy(){this._eventManager.destroy(),this._destroyed.next(),this._destroyed.complete(),this.polygon&&this.polygon.setMap(null)}getDraggable(){return this._assertInitialized(),this.polygon.getDraggable()}getEditable(){return this._assertInitialized(),this.polygon.getEditable()}getPath(){return this._assertInitialized(),this.polygon.getPath()}getPaths(){return this._assertInitialized(),this.polygon.getPaths()}getVisible(){return this._assertInitialized(),this.polygon.getVisible()}_combineOptions(){return(0,r.combineLatest)([this._options,this._paths]).pipe((0,s.map)(([e,t])=>Object.assign(Object.assign({},e),{paths:t||e.paths})))}_watchForOptionsChanges(){this._options.pipe((0,s.takeUntil)(this._destroyed)).subscribe(e=>{this._assertInitialized(),this.polygon.setOptions(e)})}_watchForPathChanges(){this._paths.pipe((0,s.takeUntil)(this._destroyed)).subscribe(e=>{e&&(this._assertInitialized(),this.polygon.setPaths(e))})}_assertInitialized(){0}}S.\u0275fac=function(e){return new(e||S)(i["\u0275\u0275directiveInject"](p),i["\u0275\u0275directiveInject"](i.NgZone))},S.\u0275dir=i["\u0275\u0275defineDirective"]({type:S,selectors:[["map-polygon"]],inputs:{options:"options",paths:"paths"},outputs:{polygonClick:"polygonClick",polygonDblclick:"polygonDblclick",polygonDrag:"polygonDrag",polygonDragend:"polygonDragend",polygonDragstart:"polygonDragstart",polygonMousedown:"polygonMousedown",polygonMousemove:"polygonMousemove",polygonMouseout:"polygonMouseout",polygonMouseover:"polygonMouseover",polygonMouseup:"polygonMouseup",polygonRightclick:"polygonRightclick"},exportAs:["mapPolygon"]}),S.ctorParameters=()=>[{type:p},{type:i.NgZone}],S.propDecorators={options:[{type:i.Input}],paths:[{type:i.Input}],polygonClick:[{type:i.Output}],polygonDblclick:[{type:i.Output}],polygonDrag:[{type:i.Output}],polygonDragend:[{type:i.Output}],polygonDragstart:[{type:i.Output}],polygonMousedown:[{type:i.Output}],polygonMousemove:[{type:i.Output}],polygonMouseout:[{type:i.Output}],polygonMouseover:[{type:i.Output}],polygonMouseup:[{type:i.Output}],polygonRightclick:[{type:i.Output}]};class I{constructor(e,t){this._map=e,this._ngZone=t,this._eventManager=new l(this._ngZone),this._options=new r.BehaviorSubject({}),this._path=new r.BehaviorSubject(void 0),this._destroyed=new r.Subject,this.polylineClick=this._eventManager.getLazyEmitter("click"),this.polylineDblclick=this._eventManager.getLazyEmitter("dblclick"),this.polylineDrag=this._eventManager.getLazyEmitter("drag"),this.polylineDragend=this._eventManager.getLazyEmitter("dragend"),this.polylineDragstart=this._eventManager.getLazyEmitter("dragstart"),this.polylineMousedown=this._eventManager.getLazyEmitter("mousedown"),this.polylineMousemove=this._eventManager.getLazyEmitter("mousemove"),this.polylineMouseout=this._eventManager.getLazyEmitter("mouseout"),this.polylineMouseover=this._eventManager.getLazyEmitter("mouseover"),this.polylineMouseup=this._eventManager.getLazyEmitter("mouseup"),this.polylineRightclick=this._eventManager.getLazyEmitter("rightclick")}set options(e){this._options.next(e||{})}set path(e){this._path.next(e)}ngOnInit(){this._map._isBrowser&&(this._combineOptions().pipe((0,s.take)(1)).subscribe(e=>{this._ngZone.runOutsideAngular(()=>this.polyline=new google.maps.Polyline(e)),this._assertInitialized(),this.polyline.setMap(this._map.googleMap),this._eventManager.setTarget(this.polyline)}),this._watchForOptionsChanges(),this._watchForPathChanges())}ngOnDestroy(){this._eventManager.destroy(),this._destroyed.next(),this._destroyed.complete(),this.polyline&&this.polyline.setMap(null)}getDraggable(){return this._assertInitialized(),this.polyline.getDraggable()}getEditable(){return this._assertInitialized(),this.polyline.getEditable()}getPath(){return this._assertInitialized(),this.polyline.getPath()}getVisible(){return this._assertInitialized(),this.polyline.getVisible()}_combineOptions(){return(0,r.combineLatest)([this._options,this._path]).pipe((0,s.map)(([e,t])=>Object.assign(Object.assign({},e),{path:t||e.path})))}_watchForOptionsChanges(){this._options.pipe((0,s.takeUntil)(this._destroyed)).subscribe(e=>{this._assertInitialized(),this.polyline.setOptions(e)})}_watchForPathChanges(){this._path.pipe((0,s.takeUntil)(this._destroyed)).subscribe(e=>{e&&(this._assertInitialized(),this.polyline.setPath(e))})}_assertInitialized(){0}}I.\u0275fac=function(e){return new(e||I)(i["\u0275\u0275directiveInject"](p),i["\u0275\u0275directiveInject"](i.NgZone))},I.\u0275dir=i["\u0275\u0275defineDirective"]({type:I,selectors:[["map-polyline"]],inputs:{options:"options",path:"path"},outputs:{polylineClick:"polylineClick",polylineDblclick:"polylineDblclick",polylineDrag:"polylineDrag",polylineDragend:"polylineDragend",polylineDragstart:"polylineDragstart",polylineMousedown:"polylineMousedown",polylineMousemove:"polylineMousemove",polylineMouseout:"polylineMouseout",polylineMouseover:"polylineMouseover",polylineMouseup:"polylineMouseup",polylineRightclick:"polylineRightclick"},exportAs:["mapPolyline"]}),I.ctorParameters=()=>[{type:p},{type:i.NgZone}],I.propDecorators={options:[{type:i.Input}],path:[{type:i.Input}],polylineClick:[{type:i.Output}],polylineDblclick:[{type:i.Output}],polylineDrag:[{type:i.Output}],polylineDragend:[{type:i.Output}],polylineDragstart:[{type:i.Output}],polylineMousedown:[{type:i.Output}],polylineMousemove:[{type:i.Output}],polylineMouseout:[{type:i.Output}],polylineMouseover:[{type:i.Output}],polylineMouseup:[{type:i.Output}],polylineRightclick:[{type:i.Output}]};class A{constructor(e,t){this._map=e,this._ngZone=t,this._eventManager=new l(this._ngZone),this._options=new r.BehaviorSubject({}),this._bounds=new r.BehaviorSubject(void 0),this._destroyed=new r.Subject,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.rectangleClick=this._eventManager.getLazyEmitter("click"),this.rectangleDblclick=this._eventManager.getLazyEmitter("dblclick"),this.rectangleDrag=this._eventManager.getLazyEmitter("drag"),this.rectangleDragend=this._eventManager.getLazyEmitter("dragend"),this.rectangleDragstart=this._eventManager.getLazyEmitter("dragstart"),this.rectangleMousedown=this._eventManager.getLazyEmitter("mousedown"),this.rectangleMousemove=this._eventManager.getLazyEmitter("mousemove"),this.rectangleMouseout=this._eventManager.getLazyEmitter("mouseout"),this.rectangleMouseover=this._eventManager.getLazyEmitter("mouseover"),this.rectangleMouseup=this._eventManager.getLazyEmitter("mouseup"),this.rectangleRightclick=this._eventManager.getLazyEmitter("rightclick")}set options(e){this._options.next(e||{})}set bounds(e){this._bounds.next(e)}ngOnInit(){this._map._isBrowser&&(this._combineOptions().pipe((0,s.take)(1)).subscribe(e=>{this._ngZone.runOutsideAngular(()=>{this.rectangle=new google.maps.Rectangle(e)}),this._assertInitialized(),this.rectangle.setMap(this._map.googleMap),this._eventManager.setTarget(this.rectangle)}),this._watchForOptionsChanges(),this._watchForBoundsChanges())}ngOnDestroy(){this._eventManager.destroy(),this._destroyed.next(),this._destroyed.complete(),this.rectangle&&this.rectangle.setMap(null)}getBounds(){return this._assertInitialized(),this.rectangle.getBounds()}getDraggable(){return this._assertInitialized(),this.rectangle.getDraggable()}getEditable(){return this._assertInitialized(),this.rectangle.getEditable()}getVisible(){return this._assertInitialized(),this.rectangle.getVisible()}_combineOptions(){return(0,r.combineLatest)([this._options,this._bounds]).pipe((0,s.map)(([e,t])=>Object.assign(Object.assign({},e),{bounds:t||e.bounds})))}_watchForOptionsChanges(){this._options.pipe((0,s.takeUntil)(this._destroyed)).subscribe(e=>{this._assertInitialized(),this.rectangle.setOptions(e)})}_watchForBoundsChanges(){this._bounds.pipe((0,s.takeUntil)(this._destroyed)).subscribe(e=>{e&&(this._assertInitialized(),this.rectangle.setBounds(e))})}_assertInitialized(){0}}A.\u0275fac=function(e){return new(e||A)(i["\u0275\u0275directiveInject"](p),i["\u0275\u0275directiveInject"](i.NgZone))},A.\u0275dir=i["\u0275\u0275defineDirective"]({type:A,selectors:[["map-rectangle"]],inputs:{options:"options",bounds:"bounds"},outputs:{boundsChanged:"boundsChanged",rectangleClick:"rectangleClick",rectangleDblclick:"rectangleDblclick",rectangleDrag:"rectangleDrag",rectangleDragend:"rectangleDragend",rectangleDragstart:"rectangleDragstart",rectangleMousedown:"rectangleMousedown",rectangleMousemove:"rectangleMousemove",rectangleMouseout:"rectangleMouseout",rectangleMouseover:"rectangleMouseover",rectangleMouseup:"rectangleMouseup",rectangleRightclick:"rectangleRightclick"},exportAs:["mapRectangle"]}),A.ctorParameters=()=>[{type:p},{type:i.NgZone}],A.propDecorators={options:[{type:i.Input}],bounds:[{type:i.Input}],boundsChanged:[{type:i.Output}],rectangleClick:[{type:i.Output}],rectangleDblclick:[{type:i.Output}],rectangleDrag:[{type:i.Output}],rectangleDragend:[{type:i.Output}],rectangleDragstart:[{type:i.Output}],rectangleMousedown:[{type:i.Output}],rectangleMousemove:[{type:i.Output}],rectangleMouseout:[{type:i.Output}],rectangleMouseover:[{type:i.Output}],rectangleMouseup:[{type:i.Output}],rectangleRightclick:[{type:i.Output}]};class E{constructor(e,t){this._map=e,this._ngZone=t,this._autoRefresh=new r.BehaviorSubject(!0),this._destroyed=new r.Subject}set autoRefresh(e){this._autoRefresh.next(e)}ngOnInit(){this._map._isBrowser&&(this._combineOptions().pipe((0,s.take)(1)).subscribe(e=>{this._ngZone.runOutsideAngular(()=>{this.trafficLayer=new google.maps.TrafficLayer(e)}),this._assertInitialized(),this.trafficLayer.setMap(this._map.googleMap)}),this._watchForAutoRefreshChanges())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.trafficLayer&&this.trafficLayer.setMap(null)}_combineOptions(){return this._autoRefresh.pipe((0,s.map)(e=>({autoRefresh:e})))}_watchForAutoRefreshChanges(){this._combineOptions().pipe((0,s.takeUntil)(this._destroyed)).subscribe(e=>{this._assertInitialized(),this.trafficLayer.setOptions(e)})}_assertInitialized(){if(!this._map.googleMap)throw Error("Cannot access Google Map information before the API has been initialized. Please wait for the API to load before trying to interact with it.");if(!this.trafficLayer)throw Error("Cannot interact with a Google Map Traffic Layer before it has been initialized. Please wait for the Traffic Layer to load before trying to interact with it.")}}E.\u0275fac=function(e){return new(e||E)(i["\u0275\u0275directiveInject"](p),i["\u0275\u0275directiveInject"](i.NgZone))},E.\u0275dir=i["\u0275\u0275defineDirective"]({type:E,selectors:[["map-traffic-layer"]],inputs:{autoRefresh:"autoRefresh"},exportAs:["mapTrafficLayer"]}),E.ctorParameters=()=>[{type:p},{type:i.NgZone}],E.propDecorators={autoRefresh:[{type:i.Input}]};class D extends f{_initializeObject(){this.transitLayer=new google.maps.TransitLayer}_setMap(){this._assertLayerInitialized(),this.transitLayer.setMap(this._map.googleMap)}_unsetMap(){this.transitLayer&&this.transitLayer.setMap(null)}_assertLayerInitialized(){if(!this.transitLayer)throw Error("Cannot interact with a Google Map Transit Layer before it has been initialized. Please wait for the Transit Layer to load before trying to interact with it.")}}D.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](D)))(t||D)}}(),D.\u0275dir=i["\u0275\u0275defineDirective"]({type:D,selectors:[["map-transit-layer"]],exportAs:["mapTransitLayer"],features:[i["\u0275\u0275InheritDefinitionFeature"]]});class T{}T.\u0275fac=function(e){return new(e||T)},T.\u0275mod=i["\u0275\u0275defineNgModule"]({type:T}),T.\u0275inj=i["\u0275\u0275defineInjector"]({}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](T,{declarations:[p,f,g,v,y,b,x,C,_,S,I,A,E,D],exports:[p,f,g,v,y,b,x,C,_,S,I,A,E,D]})},"./node_modules/@angular/youtube-player/fesm2015/youtube-player.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{YouTubePlayer:()=>l,YouTubePlayerModule:()=>p});var i=n("./node_modules/@angular/core/fesm2015/core.js"),o=n("./node_modules/@angular/common/fesm2015/common.js"),r=n("rxjs"),s=n("./node_modules/rxjs/_esm2015/operators/index.js");const a=["youtubeContainer"];class l{constructor(e,t){this._ngZone=e,this._youtubeContainer=new r.Subject,this._destroyed=new r.Subject,this._playerChanges=new r.BehaviorSubject(void 0),this._videoId=new r.BehaviorSubject(void 0),this._height=new r.BehaviorSubject(390),this._width=new r.BehaviorSubject(640),this._startSeconds=new r.BehaviorSubject(void 0),this._endSeconds=new r.BehaviorSubject(void 0),this._suggestedQuality=new r.BehaviorSubject(void 0),this._playerVars=new r.BehaviorSubject(void 0),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=(0,o.isPlatformBrowser)(t)}get videoId(){return this._videoId.value}set videoId(e){this._videoId.next(e)}get height(){return this._height.value}set height(e){this._height.next(e||390)}get width(){return this._width.value}set width(e){this._width.next(e||640)}set startSeconds(e){this._startSeconds.next(e)}set endSeconds(e){this._endSeconds.next(e)}set suggestedQuality(e){this._suggestedQuality.next(e)}get playerVars(){return this._playerVars.value}set playerVars(e){this._playerVars.next(e)}ngOnInit(){if(!this._isBrowser)return;let e=(0,r.of)(!0);if(!window.YT||!window.YT.Player){this.showBeforeIframeApiLoads,0;const t=new r.Subject;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>t.next(!0))},e=t.pipe((0,s.take)(1),(0,s.startWith)(!1))}const t=function(e,t,n,i,o,a,l){const d=(0,r.combineLatest)([t,a]).pipe((0,s.withLatestFrom)((0,r.combineLatest)([i,o])),(0,s.map)(([e,t])=>{const[n,i]=e,[o,r]=t;return n?{videoId:n,playerVars:i,width:o,height:r}:void 0}));return(0,r.combineLatest)([e,d,(0,r.of)(l)]).pipe((u=n,(0,r.pipe)((0,s.combineLatest)(u),(0,s.skipWhile)(([e,t])=>!t),(0,s.map)(([e])=>e))),(0,s.scan)(c,void 0),(0,s.distinctUntilChanged)());var u}(this._youtubeContainer,this._videoId,e,this._width,this._height,this._playerVars,this._ngZone).pipe((0,s.tap)(e=>{this._playerChanges.next(e)}),(n=e=>{d(e)||e.destroy()},(0,s.mergeMap)(e=>e?d(e)?(0,r.of)(e):new r.Observable(t=>{let i=!1,o=!1;const r=e=>{o=!0,i||(e.target.removeEventListener("onReady",r),t.next(e.target))};return e.addEventListener("onReady",r),()=>{i=!0,o||n(e)}}).pipe((0,s.take)(1),(0,s.startWith)(void 0)):(0,r.of)(void 0))),(0,s.takeUntil)(this._destroyed),(0,s.publish)());var n;t.subscribe(e=>{this._player=e,e&&this._pendingPlayerState&&this._initializePlayer(e,this._pendingPlayerState),this._pendingPlayerState=void 0}),function(e,t,n){(0,r.combineLatest)([e,t,n]).subscribe(([e,t,n])=>e&&e.setSize(t,n))}(t,this._width,this._height),function(e,t){(0,r.combineLatest)([e,t]).subscribe(([e,t])=>e&&t&&e.setPlaybackQuality(t))}(t,this._suggestedQuality),function(e,t,n,i,o,a){const l=(0,r.combineLatest)([n,i]).pipe((0,s.map)(([e,t])=>({startSeconds:e,endSeconds:t}))),c=l.pipe(u(e,e=>!!e&&!function(e){const t=e.getPlayerState();return-1!==t&&5!==t}(e))),d=t.pipe(u(e,(e,t)=>!!e&&e.videoId!==t)),p=e.pipe(u((0,r.combineLatest)([t,l]),([e,t],n)=>!(!n||e==n.videoId&&!t.startSeconds&&!t.endSeconds)));(0,r.merge)(p,d,c).pipe((0,s.withLatestFrom)((0,r.combineLatest)([e,t,l,o])),(0,s.map)(([e,t])=>t),(0,s.takeUntil)(a)).subscribe(([e,t,n,i])=>{t&&e&&(e.videoId=t,e.cueVideoById(Object.assign({videoId:t,suggestedQuality:i},n)))})}(t,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),t.connect()}createEventsBoundInZone(){return{}}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=1}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=2}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=5}seekTo(e,t){this._player?this._player.seekTo(e,t):this._getPendingState().seek={seconds:e,allowSeekAhead:t}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(e){this._player?this._player.setVolume(e):this._getPendingState().volume=e}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(e){if(this._player)return this._player.setPlaybackRate(e);this._getPendingState().playbackRate=e}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:-1}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(e,t){const{playbackState:n,playbackRate:i,volume:o,muted:r,seek:s}=t;switch(n){case 1:e.playVideo();break;case 2:e.pauseVideo();break;case 5:e.stopVideo()}null!=i&&e.setPlaybackRate(i),null!=o&&e.setVolume(o),null!=r&&(r?e.mute():e.unMute()),null!=s&&e.seekTo(s.seconds,s.allowSeekAhead)}_getLazyEmitter(e){return this._playerChanges.pipe((0,s.switchMap)(t=>t?(0,r.fromEventPattern)(n=>{t.addEventListener(e,n)},n=>{try{t.removeEventListener&&t.removeEventListener(e,n)}catch(i){}}):(0,r.of)()),e=>new r.Observable(t=>e.subscribe({next:e=>this._ngZone.run(()=>t.next(e)),error:e=>t.error(e),complete:()=>t.complete()})),(0,s.takeUntil)(this._destroyed))}}function c(e,[t,n,i]){if(e&&n&&e.playerVars!==n.playerVars)e.destroy();else{if(!n)return void(e&&e.destroy());if(e)return e}const o=i.runOutsideAngular(()=>new YT.Player(t,n));return o.videoId=n.videoId,o.playerVars=n.playerVars,o}function d(e){return"getPlayerStatus"in e}function u(e,t){return(0,r.pipe)((0,s.withLatestFrom)(e),(0,s.filter)(([e,n])=>t(n,e)),(0,s.map)(([e])=>e))}l.\u0275fac=function(e){return new(e||l)(i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](i.PLATFORM_ID))},l.\u0275cmp=i["\u0275\u0275defineComponent"]({type:l,selectors:[["youtube-player"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](a,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.youtubeContainer=e.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"div",null,0)},encapsulation:2,changeDetection:0}),l.ctorParameters=()=>[{type:i.NgZone},{type:Object,decorators:[{type:i.Inject,args:[i.PLATFORM_ID]}]}],l.propDecorators={videoId:[{type:i.Input}],height:[{type:i.Input}],width:[{type:i.Input}],startSeconds:[{type:i.Input}],endSeconds:[{type:i.Input}],suggestedQuality:[{type:i.Input}],playerVars:[{type:i.Input}],showBeforeIframeApiLoads:[{type:i.Input}],ready:[{type:i.Output}],stateChange:[{type:i.Output}],error:[{type:i.Output}],apiChange:[{type:i.Output}],playbackQualityChange:[{type:i.Output}],playbackRateChange:[{type:i.Output}],youtubeContainer:[{type:i.ViewChild,args:["youtubeContainer"]}]};class p{}p.\u0275fac=function(e){return new(e||p)},p.\u0275mod=i["\u0275\u0275defineNgModule"]({type:p}),p.\u0275inj=i["\u0275\u0275defineInjector"]({}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](p,{declarations:[l],exports:[l]})},"./node_modules/@bmc-ux/adapt-charts/fesm2015/bmc-ux-adapt-charts.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ADAPT_CHARTS_VERSION:()=>dn,AdaptAreaGraphComponent:()=>ot,AdaptChartAbstract:()=>_,AdaptChartColorStatus:()=>j,AdaptChartComponent:()=>Ce,AdaptChartSliderType:()=>i,AdaptChartsModule:()=>un,AdaptFlowChartComponent:()=>cn,AdaptFlowChartOrientation:()=>Pt,AdaptHeatmapAbstract:()=>ke,AdaptHeatmapComponent:()=>qe,AdaptLineGraphAbstract:()=>Ye,AdaptLineGraphComponent:()=>et,AdaptPieChartAbstract:()=>rt,AdaptPieChartComponent:()=>ct,AdaptScatterPlotAbstract:()=>dt,AdaptScatterPlotComponent:()=>ht,AdaptStackedChartAbstract:()=>S,AdaptStackedChartComponent:()=>Fe,AdaptStackedChartType:()=>o,AdaptTextEllipsisDirective:()=>Ft,AdaptTreemapAbstract:()=>mt,AdaptTreemapComponent:()=>Ot,ChartColorService:()=>B,ChartColorsFactory:()=>V,ChartGradientLegendComponent:()=>re,ChartLegendComponent:()=>W,STATUS_COLOR_RANGE:()=>L,textEllipsis:()=>Ie});var i,o,r=n("./node_modules/@angular/core/fesm2015/core.js"),s=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),a=n("./node_modules/lodash-es/lodash.js"),l=n("./node_modules/bignumber.js/bignumber.js"),c=n.n(l),d=n("./node_modules/d3/index.js"),u=n("rxjs"),p=n("./node_modules/@angular/platform-browser/fesm2015/platform-browser.js"),h=n("./node_modules/@angular/cdk/fesm2015/portal.js"),m=n("./node_modules/@angular/cdk/fesm2015/bidi.js"),f=n("./node_modules/rxjs/_esm2015/operators/index.js"),g=n("./node_modules/@angular/cdk/fesm2015/keycodes.js"),v=n("./node_modules/@angular/common/fesm2015/common.js"),y=n("./node_modules/@bmc-ux/dpl-iconfont/dist/module/index.js"),b=n("./node_modules/@angular/cdk/fesm2015/a11y.js"),x=n("./node_modules/d3-shape/src/index.js"),w=n("./node_modules/@angular/forms/fesm2015/forms.js"),C=n("./node_modules/@swimlane/ngx-graph/fesm2015/swimlane-ngx-graph.js");class _{}_.\u0275fac=function(e){return new(e||_)},_.\u0275dir=r["\u0275\u0275defineDirective"]({type:_,inputs:{backgroundColor:"backgroundColor",width:"width",height:"height",header:"header",legend:"legend",suppressHeader:"suppressHeader",suppressLegend:"suppressLegend",tooltip:"tooltip",dataBuilder:"dataBuilder",noDataText:"noDataText"},outputs:{clickChart:"clickChart"}}),function(e){e.bar="bar",e.line="line",e.scatterplot="scatterplot"}(i||(i={})),function(e){e.Bar="bar",e.Column="column",e.Area="area"}(o||(o={}));class S extends _{}S.\u0275fac=function(){let e;return function(t){return(e||(e=r["\u0275\u0275getInheritedFactory"](S)))(t||S)}}(),S.\u0275dir=r["\u0275\u0275defineDirective"]({type:S,inputs:{type:"type",xAxis:"xAxis",yAxis:"yAxis",series:"series",hideAxises:"hideAxises",seriesDisplay:"seriesDisplay",showSlider:"showSlider",slidePointsCount:"slidePointsCount"},features:[r["\u0275\u0275InheritDefinitionFeature"]]});const I=["chart"],A=["slider"],E=["dnd"],D=["overlay"],T=["overlayLeft"],R=["overlayRight"],M=function(){return{}};function O(e,t){if(1&e&&r["\u0275\u0275element"](0,"adapt-stacked-chart",11,12),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("suppressHeader",!0)("suppressLegend",!0)("renderLegend",!1)("showEmptyColIndicator",!1)("legend",null)("hideAxises",!0)("xAxis",e.xAxis)("yAxis",r["\u0275\u0275pureFunction0"](12,M))("series",e.data)("height",e.height-e.sliderPaddingTop)("type",e.stackedChartType)("seriesDisplay",e.stackedChart&&e.stackedChart.seriesDisplay)}}function P(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0,9),r["\u0275\u0275text"](1,"\n            "),r["\u0275\u0275template"](2,O,2,13,"adapt-stacked-chart",10),r["\u0275\u0275text"](3,"\n          "),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("ngSwitch",e.type),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngSwitchCase",e.chartSliderType.bar)}}let F=0;class k{constructor(e,t,n){this._elementRef=e,this._renderer=t,this._changeDetectorRef=n,this.chartSliderType=i,this.stackedChartType=o.Column,this.isActive=!1,this.sliderSpotWidth=50,this.initComplete=!1,this.height=45,this.leftShift=0,this.rangeChanged=new r.EventEmitter,this._inMotion=!1,this._categoryFilter=[],this._x=0,this._destroyed$=new u.ReplaySubject(1),F++,this.id=F,this.classPrefix="adapt-chart-slider",this.sliderPaddingTop=10}get overlayLeftWidth(){const e=this._sliderEl.nativeElement.getBoundingClientRect().left,{left:t}=this._dndEl.nativeElement.getBoundingClientRect();return t-e}get overlayRightWidth(){const e=this._sliderEl.nativeElement.getBoundingClientRect().left,t=this._sliderEl.nativeElement.getBoundingClientRect().width,{left:n,width:i}=this._dndEl.nativeElement.getBoundingClientRect();return t-(n-e)-i}ngOnInit(){this._dataCopy=this.data.slice(),this._bodyMouseMoveLn=this._renderer.listen("body","mousemove",e=>{if(this._inMotion){const{clientX:t}=e,{width:n}=this._dndEl.nativeElement.getBoundingClientRect(),i=this._sliderEl.nativeElement.getBoundingClientRect().width;let o=t-this._sliderEl.nativeElement.getBoundingClientRect().left-this._gap;o=o<0?0:o,o=o>i-n?i-n:o,this._updateOverlay(o)}}),this._bodyMouseUpLn=this._renderer.listen("body","mouseup",e=>{const{target:t}=e;t!==this._dndEl.nativeElement&&(this.isActive=!1),this._inMotion=!1})}ngAfterViewInit(){const{width:e}=this._sliderEl.nativeElement.getBoundingClientRect(),t=this._getDataLength(),n=Math.ceil(t/this.slidePointsCount);this.monitorsCount=n,this._width=e,this.sliderSpotWidth=e/n,this._updateOverlay(0),this.initComplete=!0,s.SafeCdr.detectChanges(this._changeDetectorRef)}ngOnDestroy(){this._destroyed$.next(!0),this._destroyed$.complete(),this._bodyMouseMoveLn(),this._bodyMouseUpLn()}onMouseDown(e){const{clientX:t,target:n}=e,{left:i}=n.getBoundingClientRect();this._gap=Math.floor(t-i),this._inMotion=!0}onMouseOver(){this.isActive=!0}onMouseOut(){this._inMotion||(this.isActive=!1)}onSliderShift(e){const t=getComputedStyle(this._overlayEl.nativeElement),n=parseInt(t.width,10),i=parseInt(t.left,10),o=parseInt(getComputedStyle(this._sliderEl.nativeElement).width,10);let r;e?(r=i-n,r<0&&(r=0)):(r=i+n,r+n>o&&(r=o-n)),this._updateOverlay(r)}onClickSliderArea(e){if(this.isActive)return;const{clientX:t}=e,{left:n,width:i}=this._sliderEl.nativeElement.getBoundingClientRect();let o=t-n-this.sliderSpotWidth/2;o=o<0?0:o,o=o>i-this.sliderSpotWidth?i-this.sliderSpotWidth:o,this._updateOverlay(o)}updateSlider(e){const{height:t}=this._sliderEl.nativeElement.getBoundingClientRect();this._chartComponent.chartComponent.updateChart({w:e.w-this.leftShift,h:t-2*this.sliderPaddingTop})}showCategory(e){const t=this._categoryFilter.indexOf(e);-1!==t&&this._categoryFilter.splice(t,1),this._updateData()}hideCategory(e){this._categoryFilter.push(e),this._updateData()}_getDataLength(){return this.data[0].data.length}_updateOverlay(e=this._x){e!==this._x&&(this._x=e,this._recalculateDataRange()),this._recalculateSpotPosition()}_updateData(){const e=setTimeout(()=>{this.data=this._dataCopy.map(e=>{const{name:t}=e;let{data:n}=e;return-1!==this._categoryFilter.indexOf(t)&&(n=n.map(()=>0)),{name:t,data:n}}),clearTimeout(e)},250)}_recalculateSpotPosition(){const{width:e}=this._sliderEl.nativeElement.getBoundingClientRect(),t=e-this.sliderSpotWidth-this._x,n=this._x;this._renderer.setStyle(this._dndEl.nativeElement,"left",100*this._x/e+"%"),this._renderer.setStyle(this._overlayEl.nativeElement,"left",100*this._x/e+"%"),this._renderer.setStyle(this._overlayLeftEl.nativeElement,"width",100*n/e+"%"),this._renderer.setStyle(this._overlayRightEl.nativeElement,"width",100*t/e+"%")}_recalculateDataRange(){const{width:e}=this._sliderEl.nativeElement.getBoundingClientRect(),t=e/this._getDataLength();this.sliderSpotWidth=e/this.monitorsCount;const n=Math.floor(this._x/t),i=Math.floor((this._x+this.sliderSpotWidth)/t);this._startPoint!==n&&(this._startPoint=n,this._endPoint=i,this.rangeChanged.emit({startPiece:n,endPiece:i}))}}function N(e,t,n=5,i){i=(i||5)-2;const o=t;t-=2*n;const r=[];return e.each(function(){const e=d.select(this),s=e.text().split(/[ \f\n\r\t\v]+/).reverse(),a=e.style("text-anchor")||"start";let l,c,u=[],p=0,h=e.attr("y"),m=parseFloat(e.attr("dy")),f=1;isNaN(m)&&(m=0);if(d.select(e.node().parentNode).classed("tick"))switch(a){case"start":c=-t/2;break;case"middle":case"end":c=0}else switch(a){case"start":c=n;break;case"middle":c=o/2;break;case"end":c=o-n}h=+(null===h?i:h);let g=e.text(null).append("tspan").attr("x",c).attr("y",h).attr("dy",m+"em");for(;l=s.pop();)u.push(l),g.text(u.join(" ")),g.node().getComputedTextLength()>t&&u.length>1&&(u.pop(),g.text(u.join(" ")),u=[l],g=e.append("tspan").attr("x",c).attr("y",h).attr("dy",1.25*++p+m+"em").text(l),++f);r.push(f)}),r}var j;k.\u0275fac=function(e){return new(e||k)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef))},k.\u0275cmp=r["\u0275\u0275defineComponent"]({type:k,selectors:[["adapt-chart-slider"]],viewQuery:function(e,t){if(1&e&&(r["\u0275\u0275viewQuery"](I,5),r["\u0275\u0275viewQuery"](A,7),r["\u0275\u0275viewQuery"](E,7),r["\u0275\u0275viewQuery"](D,7),r["\u0275\u0275viewQuery"](T,7),r["\u0275\u0275viewQuery"](R,7)),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t._chartComponent=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t._sliderEl=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t._dndEl=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t._overlayEl=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t._overlayLeftEl=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t._overlayRightEl=e.first)}},inputs:{type:"type",data:"data",xAxis:"xAxis",height:"height",slidePointsCount:"slidePointsCount",customColors:"customColors",stackedChart:"stackedChart",leftShift:"leftShift",containerWidth:"containerWidth"},outputs:{rangeChanged:"rangeChanged"},decls:30,vars:38,consts:[[3,"click"],["slider",""],["overlayLeft",""],[3,"ngClass","mouseover","mouseout","mousedown"],["dnd",""],[3,"keydown.arrowRight","keydown.arrowLeft"],[3,"ngSwitch",4,"ngIf"],["overlay",""],["overlayRight",""],[3,"ngSwitch"],[3,"suppressHeader","suppressLegend","renderLegend","showEmptyColIndicator","legend","hideAxises","xAxis","yAxis","series","height","type","seriesDisplay",4,"ngSwitchCase"],[3,"suppressHeader","suppressLegend","renderLegend","showEmptyColIndicator","legend","hideAxises","xAxis","yAxis","series","height","type","seriesDisplay"],["chart",""]],template:function(e,t){1&e&&(r["\u0275\u0275text"](0,"\n    "),r["\u0275\u0275elementStart"](1,"div",0,1),r["\u0275\u0275listener"]("click",function(e){return t.onClickSliderArea(e)}),r["\u0275\u0275text"](3,"\n      "),r["\u0275\u0275elementStart"](4,"div"),r["\u0275\u0275text"](5,"\n        "),r["\u0275\u0275element"](6,"div",null,2),r["\u0275\u0275text"](8,"\n        "),r["\u0275\u0275elementStart"](9,"div",3,4),r["\u0275\u0275listener"]("mouseover",function(){return t.onMouseOver()})("mouseout",function(){return t.onMouseOut()})("mousedown",function(e){return t.onMouseDown(e)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](11,"\n        "),r["\u0275\u0275elementStart"](12,"div",5),r["\u0275\u0275listener"]("keydown.arrowRight",function(){return t.onSliderShift()})("keydown.arrowLeft",function(){return t.onSliderShift(!0)}),r["\u0275\u0275text"](13,"\n          "),r["\u0275\u0275template"](14,P,4,2,"ng-container",6),r["\u0275\u0275text"](15,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](16,"\n        "),r["\u0275\u0275element"](17,"div",null,7),r["\u0275\u0275text"](19,"\n        "),r["\u0275\u0275element"](20,"div",null,8),r["\u0275\u0275text"](22,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](23,"\n      "),r["\u0275\u0275elementStart"](24,"div"),r["\u0275\u0275text"](25,"\n        "),r["\u0275\u0275element"](26,"div"),r["\u0275\u0275text"](27,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](28,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](29,"\n  ")),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275classMap"](t.classPrefix),r["\u0275\u0275styleProp"]("height",t.height,"px")("margin-left",t.leftShift,"px"),r["\u0275\u0275advance"](3),r["\u0275\u0275classMapInterpolate1"]("",t.classPrefix,"-main"),r["\u0275\u0275advance"](2),r["\u0275\u0275classMapInterpolate2"]("",t.classPrefix,"-side-overlay ",t.classPrefix,"-side-overlay-right"),r["\u0275\u0275advance"](3),r["\u0275\u0275classMapInterpolate1"]("",t.classPrefix,"-spot"),r["\u0275\u0275styleProp"]("width",100/t.monitorsCount,"%"),r["\u0275\u0275property"]("ngClass",t.isActive?t.classPrefix+"-spot-active":""),r["\u0275\u0275advance"](3),r["\u0275\u0275classMapInterpolate1"]("",t.classPrefix,"-chart-zone"),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.initComplete),r["\u0275\u0275advance"](3),r["\u0275\u0275classMapInterpolate1"]("",t.classPrefix,"-overlay"),r["\u0275\u0275styleProp"]("width",100/t.monitorsCount,"%"),r["\u0275\u0275advance"](3),r["\u0275\u0275classMapInterpolate2"]("",t.classPrefix,"-side-overlay ",t.classPrefix,"-side-overlay-left"),r["\u0275\u0275advance"](4),r["\u0275\u0275classMapInterpolate1"]("",t.classPrefix,"-line-wrapper"),r["\u0275\u0275advance"](2),r["\u0275\u0275classMapInterpolate1"]("",t.classPrefix,"-line"))},encapsulation:2}),function(e){e[e.Default=0]="Default",e[e.Success=1]="Success",e[e.Warning=2]="Warning",e[e.Danger=3]="Danger",e[e.Custom=4]="Custom"}(j||(j={}));const L={Default:["#195560","#267f91"],Success:["#408600","#5da627"],Warning:["#FFBE00","#FFE438"],Danger:["#E80B30","#ff3a49"],Custom:["#0078CC","#009AF0"]};class V{static getGradientColors(){return["#488EE7","#1145AC","#8061C5","#7E1E85","#C94FAF","#E9345D","#EF6F70","#DD8A44","#E7B548","#D5DB51","#9DB957","#54C2C3","#89F4F4","#9CD0FB","#AAB2F5","#E6A8D7"]}static getHighDiffColors(){return["#6487EA","#E9862F","#875BCB","#EFB426","#90D1FF","#FF656C","#95BC44","#D83FB4","#00C5C4","#89008A","#D3DD27","#FB025A","#0242B3","#F0A3DA","#62F7F6","#AAB0FA"]}}class B{constructor(){this._gradientColors=V.getGradientColors(),this._highDiffColorsColors=V.getHighDiffColors()}static getColorRange(e,t){let n;if(e instanceof Array)n=e;else switch(e){case j.Success:n=L.Success;break;case j.Warning:n=L.Warning;break;case j.Danger:n=L.Danger;break;default:n=L.Default}const i=[],o=d.scaleLinear().range(n).domain([1,t]);for(let r=0;r<t;r++)i.push(d.color(o(r+1)).hex());return i}getColor(e,t){const n="high-diff"===t?this._highDiffColorsColors:this._gradientColors;return n[e%(n.length-1)]}getDarken(e,t,n){const i=n===s.ColorType.HEX?this._parseHEX(e):this._parseRGB(e);return Object.keys(i).forEach(e=>{i[e]=Math.floor((1-t)*i[e])}),`#${this._decToHEX(i.r)}${this._decToHEX(i.g)}${this._decToHEX(i.b)}`}getContrast(e,t){const n=t===s.ColorType.HEX?this._parseHEX(e):this._parseRGB(e);return(299*n.r+587*n.g+114*n.b)/1e3>=128?"#000":"#fff"}setColors(e){this._gradientColors=e}_parseHEX(e){const t=e.trim().slice(1);let n,i,o;return 3===t.length?(n=parseInt(t.substring(0,1)+t.substring(0,1),16),i=parseInt(t.substring(1,2)+t.substring(1,2),16),o=parseInt(t.substring(2,3)+t.substring(2,3),16)):(n=parseInt(t.substring(0,2),16),i=parseInt(t.substring(2,4),16),o=parseInt(t.substring(4,6),16)),{r:n,g:i,b:o}}_parseRGB(e){const t=e.trim(),n=t.substring(4,t.length-1).replace(/ /g,"").split(","),[i,o,r]=n.map(e=>parseInt(e,10));return{r:i,g:o,b:r}}_decToHEX(e){const t=e.toString(16);return 1===t.length?"0"+t:t}}function G(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275text"](1,"\n            "),r["\u0275\u0275elementStart"](2,"button",6),r["\u0275\u0275listener"]("click",function(){const t=r["\u0275\u0275restoreView"](e).index,n=r["\u0275\u0275nextContext"]().index,i=r["\u0275\u0275nextContext"](2);return i.clickLegend(i.columnSize*n+t)})("mouseenter",function(t){const n=r["\u0275\u0275restoreView"](e).index,i=r["\u0275\u0275nextContext"]().index,o=r["\u0275\u0275nextContext"](2);return o.enterLegendItem(t,o.columnSize*i+n)})("mouseleave",function(t){const n=r["\u0275\u0275restoreView"](e).index,i=r["\u0275\u0275nextContext"]().index,o=r["\u0275\u0275nextContext"](2);return o.leaveLegendItem(t,o.columnSize*i+n)})("mousemove",function(t){const n=r["\u0275\u0275restoreView"](e).index,i=r["\u0275\u0275nextContext"]().index,o=r["\u0275\u0275nextContext"](2);return o.moveLegendItem(t,o.columnSize*i+n)}),r["\u0275\u0275text"](3,"\n              "),r["\u0275\u0275element"](4,"span",7),r["\u0275\u0275text"](5,"\n              "),r["\u0275\u0275elementStart"](6,"span",8),r["\u0275\u0275text"](7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](8,"\n            "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](9,"\n            "),r["\u0275\u0275element"](10,"br"),r["\u0275\u0275text"](11,"\n          "),r["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=r["\u0275\u0275nextContext"]().index,o=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](2),r["\u0275\u0275classProp"]("adapt-chart-legend-item__hidden",e.hidden),r["\u0275\u0275attribute"]("id",o.columnSize*i+n)("aria-checked",o.activeClick?!e.hidden:null)("aria-selected",o.activeClick?!e.hidden:null)("type",o.activeClick?"button":null)("role",o.activeClick?"option":"listitem"),r["\u0275\u0275advance"](2),r["\u0275\u0275styleProp"]("border-color",o.getBorderColorById(o.columnSize*i+n))("background-color",o.getColorById(o.columnSize*i+n)),r["\u0275\u0275advance"](2),r["\u0275\u0275classProp"]("text-active",o.legendFocus&&o.activeOption===o.columnSize*i+n),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.item)}}function z(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",4),r["\u0275\u0275text"](1,"\n          "),r["\u0275\u0275template"](2,G,12,14,"ng-container",5),r["\u0275\u0275text"](3,"\n        "),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",e)("ngForTrackBy",n.trackByIndex)}}function $(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275text"](1,"\n        "),r["\u0275\u0275template"](2,z,4,2,"div",3),r["\u0275\u0275text"](3,"\n      "),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",e.columns)("ngForTrackBy",e.trackByIndex)}}function U(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",10),r["\u0275\u0275listener"]("click",function(){const t=r["\u0275\u0275restoreView"](e).index;return r["\u0275\u0275nextContext"](2).clickLegend(t)}),r["\u0275\u0275text"](1,"\n          "),r["\u0275\u0275element"](2,"span",7),r["\u0275\u0275text"](3,"\n          "),r["\u0275\u0275elementStart"](4,"div",8),r["\u0275\u0275text"](5,"\n            "),r["\u0275\u0275elementStart"](6,"div"),r["\u0275\u0275text"](7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](8,"\n          "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](9,"\n        "),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](2),r["\u0275\u0275styleProp"]("border-color",i.getBorderColorById(n))("background-color",i.getColorById(n)),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate"](e.item)}}function H(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n        "),r["\u0275\u0275template"](1,U,10,5,"button",9),r["\u0275\u0275text"](2,"\n      ")),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e.legend)}}B.\u0275fac=function(e){return new(e||B)},B.\u0275prov=r["\u0275\u0275defineInjectable"]({token:B,factory:B.\u0275fac});const X=function(e){return{"adapt-chart-legend-mouse-over":e}};class W{constructor(e,t,n,i){this._chartColorService=e,this._deviceDetectionService=t,this._sanitize=n,this._ngZone=i,this.mainCls="",this.isScrolled=!1,this.columnsCount=1,this.focusable=!0,this.categoryShow=new r.EventEmitter,this.categoryHide=new r.EventEmitter,this.categoryEnter=new r.EventEmitter,this.categoryLeave=new r.EventEmitter,this.categoryMove=new r.EventEmitter,this.legend=[],this.columns=[],this.isMouseOver=this.isMobile,this.activeOption=null,this.legendFocus=!1,this._destroyed$=new u.ReplaySubject(1)}get isMobile(){return this._deviceDetectionService.deviceTablet()||this._deviceDetectionService.deviceMobile()}ngOnInit(){this.initLegend()}ngOnDestroy(){this._destroyed$.next(!0),this._destroyed$.complete()}legendKeydownHandler(e){var t;switch((0,s.getEventKeyCode)(e)){case g.DOWN_ARROW:case g.UP_ARROW:null===(t=this._listKeyManager)||void 0===t||t.onKeydown(e);break;case g.ENTER:case g.SPACE:(0,a.isNull)(this.activeOption)||(e.preventDefault(),this.clickLegend(this.activeOption));break;case g.TAB:this.toggleMouseOverStatus()}}keyManagerStateChange(e){var t;this._listKeyManager=e,this._ngZone.onStable.pipe((0,f.takeUntil)(this._destroyed$),(0,f.take)(1)).subscribe(()=>{var e;null===(e=this._listKeyManager)||void 0===e||e.setFirstItemActive()}),null===(t=this._listKeyManager)||void 0===t||t.change.pipe((0,f.takeUntil)(this._destroyed$)).subscribe(()=>{this.activeOption=this._listKeyManager.activeItemIndex})}parseColumns(){let e=new Array(this.columnsCount).fill([]);e=e.map((e,t)=>{const n=t*this.columnSize,i=this.legend.slice(),o=n+this.columnSize;return i.slice(n,o)}),this.columns=e,this.legend&&this.legend.length&&this.legend.length===this.items.length||this.initLegend()}getColorById(e){const t=this.customColors?this.customColors[e]:this._chartColorService.getColor(e,this.colorsPalette),n=this._chartColorService.getDarken(t,.14,s.ColorType.HEX),i=this.legend[e].hover?n:t;return this._sanitize.bypassSecurityTrustStyle(i)}getBorderColorById(e){const t=this.customColors?this.customColors[e]:this._chartColorService.getColor(e,this.colorsPalette),n=this._chartColorService.getDarken(t,.14,s.ColorType.HEX),i=this._chartColorService.getDarken(t,.24,s.ColorType.HEX),o=this.legend[e].hover?i:n;return this._sanitize.bypassSecurityTrustStyle(o)}clickLegend(e){const t=this.legend[e];!(0,a.isNull)(e)&&this.activeClick&&(t.hidden?this._showCategory(t):this._hideCategory(t))}toggleMouseOverStatus(){this.activeHover&&(this.isMobile?this.isMouseOver=!0:this.isMouseOver=!this.isMouseOver)}enterLegendItem(e,t){this.activeOption=t,this.legend[t].hover=!0,this.categoryEnter.emit({id:t,event:e})}leaveLegendItem(e,t){this.legend[t].hover=!1,this.categoryLeave.emit({id:t,event:e})}moveLegendItem(e,t){this.categoryMove.emit({id:t,event:e})}update(e){this.items=e,this.legend=this._getLegend(),this.columnSize=Math.ceil(this.items.length/this.columnsCount),this.parseColumns()}initLegend(){(0,s.isUndefined)(this.items)||!this.items.length||(0,a.isNull)(this.items)||(this.activeHover=!!(0,s.isUndefined)(this.activeHover)||this.activeHover,this.activeClick=!!(0,s.isUndefined)(this.activeClick)||this.activeClick,this.legend=this._getLegend(),this.columnSize=Math.ceil(this.items.length/this.columnsCount),this.parseColumns())}trackByIndex(e){return e}_getLegend(){return(0,a.isString)(this.items[0])?this.items.map(e=>({item:e,hidden:!1,hover:!1})):this.items.map(e=>({item:e.item,hidden:e.hidden,hover:!1}))}_showCategory(e){e.hidden=!1,this.categoryShow.emit(e.item)}_hideCategory(e){1!==this.legend.filter(e=>!e.hidden).length&&(e.hidden=!0,this.categoryHide.emit(e.item))}}W.id=0,W.\u0275fac=function(e){return new(e||W)(r["\u0275\u0275directiveInject"](B),r["\u0275\u0275directiveInject"](s.AdaptDeviceDetectionService),r["\u0275\u0275directiveInject"](p.DomSanitizer),r["\u0275\u0275directiveInject"](r.NgZone))},W.\u0275cmp=r["\u0275\u0275defineComponent"]({type:W,selectors:[["adapt-chart-legend"]],hostVars:4,hostBindings:function(e,t){2&e&&(r["\u0275\u0275classMap"](t.mainCls),r["\u0275\u0275classProp"]("adapt-chart-legend-scrolled",t.isScrolled))},inputs:{mainCls:"mainCls",items:"items",columnsCount:["columns","columnsCount"],customColors:"customColors",colorsPalette:"colorsPalette",activeHover:"activeHover",activeClick:"activeClick",width:"width",focusable:"focusable"},outputs:{categoryShow:"categoryShow",categoryHide:"categoryHide",categoryEnter:"categoryEnter",categoryLeave:"categoryLeave",categoryMove:"categoryMove"},decls:9,vars:12,consts:[["adaptListKeyManager","","tabindex","0",1,"adapt-chart-legend",3,"ngClass","keyManagerStateChange","keydown","keyup.tab","mouseenter","mouseleave","focus","blur"],[4,"ngIf","ngIfElse"],["mobileLegend",""],["class","adapt-chart-legend-col",4,"ngFor","ngForOf","ngForTrackBy"],[1,"adapt-chart-legend-col"],[4,"ngFor","ngForOf","ngForTrackBy"],["adaptListKeyManagerItem","","tabindex","-1",1,"adapt-chart-legend-item",3,"click","mouseenter","mouseleave","mousemove"],[1,"adapt-chart-legend-item-color"],[1,"adapt-chart-legend-item-text"],["class","adapt-chart-legend-item","type","button",3,"click",4,"ngFor","ngForOf"],["type","button",1,"adapt-chart-legend-item",3,"click"]],template:function(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n    "),r["\u0275\u0275elementStart"](1,"div",0),r["\u0275\u0275listener"]("keyManagerStateChange",function(e){return t.keyManagerStateChange(e)})("keydown",function(e){return t.legendKeydownHandler(e)})("keyup.tab",function(){return t.toggleMouseOverStatus()})("mouseenter",function(){return t.toggleMouseOverStatus()})("mouseleave",function(){return t.toggleMouseOverStatus()})("focus",function(){return t.legendFocus=!0})("blur",function(){return t.legendFocus=!1}),r["\u0275\u0275text"](2,"\n      "),r["\u0275\u0275template"](3,$,4,2,"ng-container",1),r["\u0275\u0275text"](4,"\n\n      "),r["\u0275\u0275template"](5,H,3,1,"ng-template",null,2,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275text"](7,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](8,"\n  ")),2&e){const e=r["\u0275\u0275reference"](6);r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("width",t.isMobile?"100%":t.width+"px"),r["\u0275\u0275classProp"]("adapt-chart-legend-mobile",t.isMobile),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](10,X,t.isMouseOver)),r["\u0275\u0275attribute"]("role",t.activeClick?"listbox":"list")("aria-multiselectable",!!t.activeClick||null)("aria-activedescendant",t.activeOption),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!t.isMobile)("ngIfElse",e)}},directives:[s.AdaptListKeyManagerDirective,v.NgClass,v.NgIf,v.NgForOf,s.AdaptListKeyManagerItemDirective],styles:["[_nghost-%COMP%] {\n      position: relative;\n    }\n\n    .adapt-chart-legend-item[_ngcontent-%COMP%] {\n      background: transparent;\n      border: none;\n    }"]});const q=["svgBrushContainer"],Y=["slider"],Q=["chart"];function Z(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275namespaceHTML"](),r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275text"](1,"\n        "),r["\u0275\u0275element"](2,"div"),r["\u0275\u0275text"](3,"\n\n        "),r["\u0275\u0275element"](4,"div",6),r["\u0275\u0275text"](5,"\n\n        "),r["\u0275\u0275element"](6,"div"),r["\u0275\u0275text"](7,"\n      "),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275classMapInterpolate2"]("",e.classPrefix,"-side-overlay ",e.classPrefix,"-side-overlay-right"),r["\u0275\u0275styleProp"]("top",e.sliderPaddingTop,"px")("height",e.height,"px")("width",e.getXPos(),"px"),r["\u0275\u0275advance"](2),r["\u0275\u0275classMapInterpolate1"]("",e.classPrefix,"-spot"),r["\u0275\u0275styleProp"]("top",e.sliderPaddingTop,"px")("z-index",1)("height",e.height+5,"px")("width",e.brushWidth,"px")("left",e.getXPos(),"px"),r["\u0275\u0275property"]("ngClass",e.isActive?e.classPrefix+"-spot-active":""),r["\u0275\u0275advance"](2),r["\u0275\u0275classMapInterpolate2"]("",e.classPrefix,"-side-overlay ",e.classPrefix,"-side-overlay-left"),r["\u0275\u0275styleProp"]("top",e.sliderPaddingTop,"px")("height",e.height,"px")("left",e.getXOverlayPos(),"px")("width",e.getRightOverlayWidth(),"px")}}const K=function(){return{}},J=function(){return[]},ee=function(e,t){return{items:e,customColors:t}};class te{constructor(e){this._ngZone=e,this.isInitialized=!1,this.isActive=!1,this.height=35,this.leftShift=0,this.rangeChanged=new r.EventEmitter,this.scrollEnd=new r.EventEmitter,this._cX=0,this._inMotion=!1,this._destroyed$=new u.ReplaySubject(1),this.classPrefix="adapt-chart-slider",this.sliderPaddingTop=10}ngOnInit(){this._ngZone.onStable.pipe((0,f.takeUntil)(this._destroyed$),(0,f.take)(1)).subscribe(()=>{this.isInitialized=!0})}ngOnChanges(e){this.isInitialized&&e.slidePointsCount&&(this._g.select(".brush-wrp").remove(),this._initBrush())}ngAfterViewInit(){this._g=d.select(this._svgContainerEl.nativeElement),this._xMinValue=this._chartComponent.getXMinValue(this.data),this._xMaxValue=this._chartComponent.getXMaxValue(this.data),this._renderBrushXAxis(),this._initBrush()}ngOnDestroy(){this._destroyed$.next(!0),this._destroyed$.complete()}getXPos(){return parseFloat(this._dndEl.getAttribute("x"))||0}getXOverlayPos(){return this.getXPos()+this.brushWidth}getRightOverlayWidth(){return this.containerWidth-this.leftShift-this.getXOverlayPos()}showCategory(e){this._chartComponent.categoryShowHandler(e)}hideCategory(e){this._chartComponent.categoryHideHandler(e)}updateSlider(e){this.containerWidth=e.w;const{height:t}=this._sliderEl.nativeElement.getBoundingClientRect();this._chartComponent._updateChart({w:e.w-this.leftShift,h:t-2*this.sliderPaddingTop}),this.xBrush=d.scaleLinear().range([0,e.w-this.leftShift]).domain([this._xMinValue,this._xMaxValue]);this._g.select(".axis--x").call(this._getXAxisLineRenderer()),this._g.select(".brush-wrp").remove(),this._initBrush()}_renderBrushXAxis(){this._g.append("g").attr("class","axis axis--x").attr("transform",`translate(0, ${this.height})`).call(this._getXAxisLineRenderer())}_getXAxisLineRenderer(){return d.axisBottom(this.xBrush)}_initBrush(){const e=this;this._brush=d.brushX().extent([[0,0],[this.containerWidth-this.leftShift,this.height]]).on("brush",function(){e._brushed()}).on("end.brush",function(){e.scrollEnd.emit()}),this.brushWidth=Math.ceil(this.xBrush(this.xBrush.ticks()[this.slidePointsCount])),this._initBrushHandlers()}_initBrushHandlers(){const e=this;this._g.append("g").attr("class","brush-wrp").append("g").attr("class","brush").call(this._brush).call(this._brush.move,[this._cX,this._cX+this.brushWidth]).call(t=>t.select(".selection").attr("stroke",null).attr("fill-opacity","0.1").on("mouseover",function(){e.isActive=!0}).on("mousedown",function(){e._inMotion=!0}).on("mouseout",function(){e._inMotion||(e.isActive=!1)})).call(t=>t.select(".overlay").datum({type:"selection"}).on("mousedown",function(){const[t]=d.mouse(this),[n,i]=[t-e.brushWidth/2,t+e.brushWidth/2],[o,r]=e.xBrush.range();d.select(this.parentNode).call(e._brush.move,i>r?[r-e.brushWidth,r]:n<o?[o,o+e.brushWidth]:[n,i])})),this._g.selectAll(".brush-wrp > .brush > .handle").remove(),this._dndEl=this._svgContainerEl.nativeElement.querySelector("rect.selection")}_brushed(){this._cX=d.event.selection[0];const e=d.event.selection||this.xBrush.range();this.rangeChanged.emit(e.map(this.xBrush.invert,this.xBrush)),this._inMotion=!1}}function ne(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"span",6),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("tabIndex",e.focusable?0:-1),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.zeroText)}}te.\u0275fac=function(e){return new(e||te)(r["\u0275\u0275directiveInject"](r.NgZone))},te.\u0275cmp=r["\u0275\u0275defineComponent"]({type:te,selectors:[["adapt-area-graph-slider"]],viewQuery:function(e,t){if(1&e&&(r["\u0275\u0275viewQuery"](q,5),r["\u0275\u0275viewQuery"](Y,5),r["\u0275\u0275viewQuery"](Q,5)),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t._svgContainerEl=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t._sliderEl=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t._chartComponent=e.first)}},inputs:{xAxis:"xAxis",height:"height",slidePointsCount:"slidePointsCount",customColors:"customColors",xBrush:"xBrush",leftShift:"leftShift",containerWidth:"containerWidth",data:"data"},outputs:{rangeChanged:"rangeChanged",scrollEnd:"scrollEnd"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:19,vars:28,consts:[["slider",""],[3,"xAxis","yAxis","legend","series","height","disallowPadding","supressAxles","suppressLegend"],["chart",""],["xmlns","http://www.w3.org/2000/svg","tabindex","-1","role","graphic/image","aria-describedby","title desc",1,"adapt-chart-slider-brush-svg"],["svgBrushContainer",""],[4,"ngIf"],[3,"ngClass"]],template:function(e,t){1&e&&(r["\u0275\u0275text"](0,"\n    "),r["\u0275\u0275elementStart"](1,"div",null,0),r["\u0275\u0275text"](3,"\n      "),r["\u0275\u0275element"](4,"adapt-area-graph",1,2),r["\u0275\u0275text"](6,"\n\n      "),r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](7,"svg",3,4),r["\u0275\u0275text"](9,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](10,"\n\n      "),r["\u0275\u0275template"](11,Z,8,36,"ng-container",5),r["\u0275\u0275text"](12,"\n\n      "),r["\u0275\u0275namespaceHTML"](),r["\u0275\u0275elementStart"](13,"div"),r["\u0275\u0275text"](14,"\n        "),r["\u0275\u0275element"](15,"div"),r["\u0275\u0275text"](16,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](17,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](18,"\n  ")),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275classMap"](t.classPrefix),r["\u0275\u0275styleProp"]("margin-left",t.leftShift,"px"),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("xAxis",t.xAxis)("yAxis",r["\u0275\u0275pureFunction0"](23,K))("legend",r["\u0275\u0275pureFunction2"](25,ee,r["\u0275\u0275pureFunction0"](24,J),t.customColors))("series",t.data)("height",t.height)("disallowPadding",!0)("supressAxles",!0)("suppressLegend",!0),r["\u0275\u0275advance"](3),r["\u0275\u0275attributeInterpolate2"]("viewbox","0 0 ",t.containerWidth-t.leftShift," ",t.height,""),r["\u0275\u0275attribute"]("width",t.containerWidth-t.leftShift)("height",t.height),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngIf",t.isInitialized),r["\u0275\u0275advance"](2),r["\u0275\u0275classMapInterpolate1"]("",t.classPrefix,"-line-wrapper"),r["\u0275\u0275advance"](2),r["\u0275\u0275classMapInterpolate1"]("",t.classPrefix,"-line"))},encapsulation:2});const ie=function(e,t){return{width:e,height:t}},oe=function(e){return{backgroundImage:e}};class re{constructor(e,t){this._deviceDetectionService=e,this._ts=t,this.focusable=!0,this._defaultTexts={},this.setDefaultTexts(t.getCurrentLanguage())}get isMobile(){return this._deviceDetectionService.deviceTablet()||this._deviceDetectionService.deviceMobile()}ngOnInit(){var e;this.zeroColor=this.zeroColor||"#f0f0f1",this.increaseText=this.increaseText||this._defaultTexts.increaseText,this.decreaseText=this.decreaseText||this._defaultTexts.decreaseText,this.zeroText=null!==(e=this.zeroText)&&void 0!==e?e:this._defaultTexts.zeroText,this.height=this.height||"100%"}setDefaultTexts(e){this._defaultTexts.increaseText=e["adapt.chart.gradientLegend.increaseDefaultText"],this._defaultTexts.decreaseText=e["adapt.chart.gradientLegend.decreaseDefaultText"],this._defaultTexts.zeroText=e["adapt.chart.gradientLegend.zeroDefaultText"]}}re.\u0275fac=function(e){return new(e||re)(r["\u0275\u0275directiveInject"](s.AdaptDeviceDetectionService),r["\u0275\u0275directiveInject"](s.AdaptTranslateService))},re.\u0275cmp=r["\u0275\u0275defineComponent"]({type:re,selectors:[["adapt-chart-gradient-legend"]],inputs:{increaseColor:"increaseColor",decreaseColor:"decreaseColor",zeroColor:"zeroColor",increaseText:"increaseText",decreaseText:"decreaseText",zeroText:"zeroText",height:"height",containerWidth:"containerWidth",focusable:"focusable"},decls:18,vars:12,consts:[["role","legend",1,"adapt-chart-legend","adapt-chart-legend__gradient",3,"ngStyle"],[1,"adapt-chart-legend__gradient-label","adapt-chart-legend__gradient-label_top",3,"tabIndex"],[1,"adapt-chart-legend__gradient-label","adapt-chart-legend__gradient-label_middle"],[3,"tabIndex",4,"ngIf"],[1,"adapt-chart-legend__gradient-label","adapt-chart-legend__gradient-label_bottom",3,"tabIndex"],[1,"adapt-chart-legend__gradient-block",3,"ngStyle"],[3,"tabIndex"]],template:function(e,t){1&e&&(r["\u0275\u0275text"](0,"\n    "),r["\u0275\u0275elementStart"](1,"div",0),r["\u0275\u0275text"](2,"\n      "),r["\u0275\u0275elementStart"](3,"div",1),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](5,"\n      "),r["\u0275\u0275elementStart"](6,"div",2),r["\u0275\u0275text"](7,"\n        "),r["\u0275\u0275template"](8,ne,2,2,"span",3),r["\u0275\u0275text"](9,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](10,"\n      "),r["\u0275\u0275elementStart"](11,"div",4),r["\u0275\u0275text"](12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](13,"\n      "),r["\u0275\u0275elementStart"](14,"div",5),r["\u0275\u0275text"](15,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](16,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](17,"\n  ")),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngStyle",r["\u0275\u0275pureFunction2"](7,ie,t.isMobile?"100%":t.containerWidth?t.containerWidth+"px":"",t.height)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tabIndex",t.focusable?0:-1),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n        ",t.increaseText,"\n      "),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngIf",t.zeroText),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("tabIndex",t.focusable?0:-1),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n        ",t.decreaseText,"\n      "),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngStyle",r["\u0275\u0275pureFunction1"](10,oe,"linear-gradient(to bottom, "+t.increaseColor+", "+t.zeroColor+" 50%, "+t.decreaseColor+")")))},directives:[v.NgStyle,v.NgIf],encapsulation:2});const se=["chartContainer"],ae=["chartArea"],le=["svgContainer"],ce=["legend"],de=["legendComponent"],ue=["chartSlider"];function pe(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"h1",14),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.$this.header.title)}}function he(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",15),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"](2).toggleLegend()}),r["\u0275\u0275text"](1,"\n      "),r["\u0275\u0275element"](2,"span"),r["\u0275\u0275text"](3,"\n        "),r["\u0275\u0275elementStart"](4,"span"),r["\u0275\u0275text"](5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](6,"\n      "),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](2),r["\u0275\u0275classProp"]("d-icon-left-eye",e.isLegendHidden)("d-icon-left-eye_closed",!e.isLegendHidden),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"]("",e.isLegendHidden?"Show":"Hide"," legend")}}function me(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",11),r["\u0275\u0275text"](1,"\n      "),r["\u0275\u0275template"](2,pe,2,1,"h1",12),r["\u0275\u0275text"](3,"\n      "),r["\u0275\u0275template"](4,he,7,5,"button",13),r["\u0275\u0275text"](5,"\n    "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e.$this.header.title),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",(null==e.$this||null==e.$this.header?null:e.$this.header.allowHideLegend)&&!e.isMobile&&!e.suppressLegend)}}function fe(e,t){1&e&&r["\u0275\u0275elementContainer"](0)}function ge(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"svg",16,17),r["\u0275\u0275text"](2,"\n          "),r["\u0275\u0275elementStart"](3,"desc",18),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](5,"\n          "),r["\u0275\u0275element"](6,"g",19),r["\u0275\u0275text"](7,"\n        "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275styleProp"]("transition",e.transition),r["\u0275\u0275attributeInterpolate2"]("viewbox","0 0 ",e.currentSVGWidth," ",e.currentSVGHeight,""),r["\u0275\u0275attribute"]("aria-label",e.title||(null==e.$this||null==e.$this.header?null:e.$this.header.title)||"")("width",e.currentSVGWidth)("height",e.currentSVGHeight?e.currentSVGHeight+e.chartBottomPadding:e.currentSVGHeight),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](e.description),r["\u0275\u0275advance"](2),r["\u0275\u0275attribute"]("id",e.chartContainerId)("width",e.currentSVGWidth)}}const ve=function(e){return{"adapt-legend-zone__hidden":e}};function ye(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",20),r["\u0275\u0275text"](1,"\n        "),r["\u0275\u0275elementStart"](2,"adapt-chart-gradient-legend",21),r["\u0275\u0275text"](3,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](4,"\n      "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275styleProp"]("width",e.isMobile?"100%":e.legendWidth+"px")("transition",e.transition),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](14,ve,!e.showLegend)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("containerWidth",e.legendWidth-25)("increaseColor",e.gradientLegend.increaseColor)("decreaseColor",e.gradientLegend.decreaseColor)("zeroColor",e.gradientLegend.zeroColor)("increaseText",e.gradientLegend.increaseText)("decreaseText",e.gradientLegend.decreaseText)("zeroText",e.gradientLegend.zeroText)("height",e.gradientLegend.height)("focusable",e.showLegend)}}function be(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",20,22),r["\u0275\u0275text"](2,"\n        "),r["\u0275\u0275elementStart"](3,"adapt-chart-legend",23,24),r["\u0275\u0275listener"]("categoryShow",function(t){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"]().categoryShow.emit(t)})("categoryHide",function(t){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"]().categoryHide.emit(t)})("categoryEnter",function(t){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"]().categoryEnter.emit(t)})("categoryLeave",function(t){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"]().categoryLeave.emit(t)})("categoryMove",function(t){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"]().categoryMove.emit(t)}),r["\u0275\u0275text"](5,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](6,"\n      "),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275styleProp"]("width",e.isMobile?"100%":e.legendWidth+"px")("transition",e.transition),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](13,ve,!e.showLegend)),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("focusable",e.showLegend)("activeHover",null==e.$this||null==e.$this.legend?null:e.$this.legend.activeHover)("activeClick",null==e.$this||null==e.$this.legend?null:e.$this.legend.activeClick)("customColors",null==e.$this||null==e.$this.legend?null:e.$this.legend.customColors)("items",null==e.$this||null==e.$this.legend?null:e.$this.legend.items)("width",e.legendWidth-30)("columns",null==e.$this||null==e.$this.legend?null:e.$this.legend.columns)("colorsPalette",e.colorsPalette)}}const xe=["*",[["adapt-chart-slider"]],[["adapt-area-graph-slider"]]];let we=1;class Ce extends _{constructor(e,t,n,i,o,a,l){super(),this._deviceDetectionService=e,this._directionality=t,this._domSanitizer=n,this._injector=i,this._ngZone=o,this._changeDetectorRef=a,this._overlayService=l,this.$this=this,this.renderLegend=!0,this.categoryShow=new r.EventEmitter,this.categoryHide=new r.EventEmitter,this.categoryEnter=new r.EventEmitter,this.categoryLeave=new r.EventEmitter,this.categoryMove=new r.EventEmitter,this.clickChart=new r.EventEmitter,this.chartContainerId="chartContainer-",this.isLegendHidden=!1,this.legendWidth=250,this.defaultMaxAxisWidth=150,this._emptyText="No data to show...",this._tooltipOverlayDefaultOffset=6,this._tooltipDefaultCustomCls="adapt-chart-tooltip position-static",this._showEmptyText=!1,this._chartBottomPadding=0,this._destroyed$=new u.ReplaySubject(1);const c=(0,s.getOverlayConnectedPositions)(this._directionality.value,this._tooltipOverlayDefaultOffset);this._tooltipOverlayPlacements={top:c.top,bottom:c.bottom,left:c.left,right:c.right},this.id=we,this.chartContainerId+=we,we++}set data(e){this._data=e,this._isDataExists()?(this.hideTooltip(),this._drawChart()):this._showEmptyText=!0}get isMobile(){return this._deviceDetectionService.deviceMobile()||this._deviceDetectionService.deviceTablet()}get showHeader(){return!this.suppressHeader&&this.header&&this._isDataExists()&&(!(0,a.isUndefined)(this.header.title)||!(0,a.isUndefined)(this.header.subtitle)||!(0,a.isUndefined)(this.header.allowHideLegend))}get showLegend(){return!(this.isLegendHidden||this.suppressLegend||((0,a.isUndefined)(this.legend)||(0,a.isUndefined)(this.legend.items)||!this.legend.items.length)&&(0,a.isUndefined)(this.gradientLegend))}get chartWidth(){return(0,a.isUndefined)(this.width)?this.currentContainerWidth:this.width}get chartHeight(){return(0,a.isUndefined)(this.height)?this.currentContainerHeight:this.height}get transition(){return this._domSanitizer.bypassSecurityTrustStyle(`all ${s.ANIMATION_DURATION.fast}\n      ${s.ANIMATION_TIMING_FUNCTION.base.transitionIn}`)}get chartBottomPadding(){return this._chartBottomPadding}set chartBottomPadding(e){this._chartBottomPadding=e}ngOnInit(){this.legend&&this.legend.width&&(this.legendWidth=this.legend.width)}ngAfterViewInit(){(0,u.timer)(0,u.asapScheduler).pipe((0,f.takeUntil)(this._destroyed$)).subscribe(()=>{this.redrawChart()}),this.width&&this.height||this._showEmptyText&&this._drawEmptyText()}ngOnDestroy(){this._removeListeners(),this._destroyed$.next(!0),this._destroyed$.complete(),this.hideTooltip()}redrawChart(){const{width:e,height:t}=this.chartContainerEl.nativeElement.getBoundingClientRect();this.header&&(0,a.isUndefined)(this.header.allowHideLegend)&&(this.header.allowHideLegend=!0),e&&this._isDataExists()&&(this.currentContainerWidth=e,this.currentContainerHeight=t,this._initChart()),s.SafeCdr.detectChanges(this._changeDetectorRef)}showTooltip(e,t,n,i,o,r){this.hideTooltip(),this._ngZone.run(()=>{e instanceof Element?this._tooltipOverlayWithPortal=this._overlayService.openOverlayWithPortal(new h.ComponentPortal(s.AdaptTooltipComponent,null,this._injector),{origin:e,positionStrategy:"connected",scrollStrategy:"close",connectedPositions:this._getTooltipPositions(o,r)}):(this._tooltipOverlayWithPortal=this._overlayService.openOverlayWithPortal(new h.ComponentPortal(s.AdaptTooltipComponent,null,this._injector),{origin:e,positionStrategy:"float",scrollStrategy:"close"}),this._tooltipOverlayWithPortal.overlayRef.updatePosition()),this._tooltipOverlayWithPortal.componentRef.instance.content=t,this._tooltipOverlayWithPortal.componentRef.instance.visible=!0,this._tooltipOverlayWithPortal.componentRef.instance.customCls=`${this._tooltipDefaultCustomCls} `+i,n&&(this._tooltipOverlayWithPortal.componentRef.instance.context=n)})}hideTooltip(){this._tooltipOverlayWithPortal&&(this._tooltipOverlayWithPortal.destroy(),this._tooltipOverlayWithPortal=null)}updateTooltip(e,t){this._tooltipOverlayWithPortal&&(e&&(this._tooltipOverlayWithPortal.componentRef.instance.content=e),t&&(this._tooltipOverlayWithPortal.componentRef.instance.context=t),this._tooltipOverlayWithPortal.overlayRef.updatePosition())}toggleLegend(){const{width:e}=this.chartAreaEl.nativeElement.getBoundingClientRect();let t;this.isLegendHidden=!this.isLegendHidden,t=this.isMobile?{w:e,h:this.currentSVGHeight}:{w:e+(this.isLegendHidden?this.legendWidth:-this.legendWidth),h:this.currentSVGHeight},this._setChartSize(!0,!1),this.updateChart&&this.updateChart(t),(0,a.isUndefined)(this.chartSliderCmp)||this.chartSliderCmp.updateSlider(t),(0,a.isUndefined)(this.areaChartSliderCmp)||this.areaChartSliderCmp.updateSlider(t)}clear(){d.select(`#${this.chartContainerId}`).selectAll("*").remove()}clickChartArea(e){this.clickChart.emit(e)}updateLegend(e){this.renderLegend&&this.legendComponent.update(e)}getGroupAndDimensions(){const e=d.select(`#${this.chartContainerId}`);return this._setChartSize(),{group:e,w:this.currentSVGWidth,h:this.currentSVGHeight}}updateChartBottomPadding(e,t,n,i=!1){if(!i)return void(this.chartBottomPadding=0);const o=d.scaleBand();o.range([0,e]).domain(n.categories);const r=d.axisBottom(o).tickSizeOuter(0).tickPadding(12);t.select("g.fake-axis").remove();const s=t.append("g").attr("class","fake-axis").attr("style","display: none").attr("aria-hidden","true").call(r),a=[];if(s.selectAll("text").each(function(){const e=d.select(this).node().getComputedTextLength();a.push(e)}),a.length){const e=Math.max.apply(Math,a),t=e>this.defaultMaxAxisWidth?this.defaultMaxAxisWidth:e;this.chartBottomPadding=Math.sqrt(Math.pow(t,2)/2)}else this.chartBottomPadding=0}transformAxisTitles(e,t){const n=e.selectAll("text");n.style("text-anchor",t?"end":"middle").attr("dx",t?"-.8em":"0").attr("dy",t?".15em":"9").attr("transform",t?"rotate(-45)":"rotate(0)"),t&&n.call(N,this.defaultMaxAxisWidth)}_initChart(){this._setContainerSize(),this._setChartSize(),this._drawChart()}_setContainerSize(){const{width:e,height:t}=this;this.currentContainerWidth=(0,a.isUndefined)(e)?this.currentContainerWidth:e,this.currentContainerHeight=(0,a.isUndefined)(t)?this.currentContainerHeight:t}_setChartSize(e=!0,t=!0){if(t){const e=this.chartAreaEl.nativeElement.getBoundingClientRect().height,t=this.chartSliderEl.nativeElement.getBoundingClientRect().height;this.currentSVGHeight=e-t}if(e){const e=this.chartContainerEl.nativeElement.getBoundingClientRect().width;this.currentSVGWidth=e-(this.showLegend&&!this.isMobile?this.legendWidth:0)}}_drawChart(){if(!this.dataBuilder)return;const e=this.getGroupAndDimensions();e.group.selectAll("*").remove(),this.dataBuilder(e.group,{w:e.w,h:e.h})}_isDataExists(){return!(0,a.isUndefined)(this._data)&&!(0,a.isNull)(this._data)}_drawEmptyText(){d.select(`#${this.chartContainerId}`).append("text").attr("text-anchor","middle").style("transform","translate(50%, 50%)").style("font-size","13px").style("fill","currentcolor").classed("text-default",!0).text(this.noDataText||this._emptyText)}_removeListeners(){this._removeClickEventListener&&this._removeClickEventListener(),this._removeScrollEventListener&&this._removeScrollEventListener()}_getTooltipPositions(e,t){return(0,a.isNumber)(e)&&e!==this._tooltipOverlayDefaultOffset&&(this._tooltipOverlayDefaultOffset=e,this._tooltipOverlayPlacements.top.offsetY=-this._tooltipOverlayDefaultOffset,this._tooltipOverlayPlacements.bottom.offsetY=this._tooltipOverlayDefaultOffset,this._tooltipOverlayPlacements.left.offsetX=-this._tooltipOverlayDefaultOffset,this._tooltipOverlayPlacements.right.offsetX=this._tooltipOverlayDefaultOffset),t?[this._tooltipOverlayPlacements.right,this._tooltipOverlayPlacements.left,this._tooltipOverlayPlacements.top,this._tooltipOverlayPlacements.bottom]:[this._tooltipOverlayPlacements.top,this._tooltipOverlayPlacements.bottom,this._tooltipOverlayPlacements.left,this._tooltipOverlayPlacements.right]}}Ce.\u0275fac=function(e){return new(e||Ce)(r["\u0275\u0275directiveInject"](s.AdaptDeviceDetectionService),r["\u0275\u0275directiveInject"](m.Directionality),r["\u0275\u0275directiveInject"](p.DomSanitizer),r["\u0275\u0275directiveInject"](r.Injector),r["\u0275\u0275directiveInject"](r.NgZone),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](s.AdaptOverlayService))},Ce.\u0275cmp=r["\u0275\u0275defineComponent"]({type:Ce,selectors:[["adapt-chart"]],contentQueries:function(e,t,n){if(1&e&&(r["\u0275\u0275contentQuery"](n,k,5),r["\u0275\u0275contentQuery"](n,te,5)),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.chartSliderCmp=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.areaChartSliderCmp=e.first)}},viewQuery:function(e,t){if(1&e&&(r["\u0275\u0275viewQuery"](se,7),r["\u0275\u0275viewQuery"](ae,7),r["\u0275\u0275viewQuery"](le,5),r["\u0275\u0275viewQuery"](ce,5),r["\u0275\u0275viewQuery"](de,5),r["\u0275\u0275viewQuery"](ue,7)),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.chartContainerEl=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.chartAreaEl=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.svgContainerEl=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.legendEl=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.legendComponent=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.chartSliderEl=e.first)}},inputs:{title:"title",description:"description",backgroundColor:"backgroundColor",width:"width",height:"height",header:"header",legend:"legend",renderLegend:"renderLegend",gradientLegend:"gradientLegend",suppressHeader:"suppressHeader",suppressLegend:"suppressLegend",tooltip:"tooltip",noDataText:"noDataText",dataBuilder:"dataBuilder",updateChart:"updateChart",colorsPalette:"colorsPalette",topSectionTemplate:"topSectionTemplate",data:"data"},outputs:{categoryShow:"categoryShow",categoryHide:"categoryHide",categoryEnter:"categoryEnter",categoryLeave:"categoryLeave",categoryMove:"categoryMove",clickChart:"clickChart"},features:[r["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:["*","adapt-chart-slider","adapt-area-graph-slider"],decls:35,vars:17,consts:[[1,"adapt-chart",3,"click"],["chartContainer",""],["class","adapt-chart-header",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"adapt-chart-body"],[1,"adapt-chart-zone"],["chartArea",""],["xmlns","http://www.w3.org/2000/svg","class","adapt-chart-svg","tabindex","0","role","graphic/image",3,"transition",4,"ngIf"],[1,"adapt-chart-slider-wrapper"],["chartSlider",""],["class","adapt-legend-zone",3,"width","transition","ngClass",4,"ngIf"],[1,"adapt-chart-header"],["class","adapt-chart-header-title m-0",4,"ngIf"],["class","adapt-chart-context-menu-btn","role","button",3,"click",4,"ngIf"],[1,"adapt-chart-header-title","m-0"],["role","button",1,"adapt-chart-context-menu-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","tabindex","0","role","graphic/image",1,"adapt-chart-svg"],["svgContainer",""],["id","desc"],[1,"adapt-chart-group"],[1,"adapt-legend-zone",3,"ngClass"],[3,"containerWidth","increaseColor","decreaseColor","zeroColor","increaseText","decreaseText","zeroText","height","focusable"],["legend",""],[3,"focusable","activeHover","activeClick","customColors","items","width","columns","colorsPalette","categoryShow","categoryHide","categoryEnter","categoryLeave","categoryMove"],["legendComponent",""]],template:function(e,t){1&e&&(r["\u0275\u0275projectionDef"](xe),r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275text"](1,"\n  "),r["\u0275\u0275elementStart"](2,"div",0,1),r["\u0275\u0275listener"]("click",function(e){return t.clickChartArea(e)}),r["\u0275\u0275text"](4,"\n\n    "),r["\u0275\u0275template"](5,me,6,2,"div",2),r["\u0275\u0275text"](6,"\n\n    "),r["\u0275\u0275text"](7,"\n    "),r["\u0275\u0275template"](8,fe,1,0,"ng-container",3),r["\u0275\u0275text"](9,"\n\n    "),r["\u0275\u0275elementStart"](10,"div",4),r["\u0275\u0275text"](11,"\n      "),r["\u0275\u0275elementStart"](12,"div",5,6),r["\u0275\u0275text"](14,"\n        "),r["\u0275\u0275projection"](15),r["\u0275\u0275text"](16,"\n        "),r["\u0275\u0275template"](17,ge,8,10,"svg",7),r["\u0275\u0275text"](18,"\n        "),r["\u0275\u0275elementStart"](19,"div",8,9),r["\u0275\u0275text"](21,"\n          "),r["\u0275\u0275projection"](22,1),r["\u0275\u0275text"](23,"\n          "),r["\u0275\u0275projection"](24,2),r["\u0275\u0275text"](25,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](26,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](27,"\n      "),r["\u0275\u0275template"](28,ye,5,16,"div",10),r["\u0275\u0275text"](29,"\n      "),r["\u0275\u0275template"](30,be,7,15,"div",10),r["\u0275\u0275text"](31,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](32,"\n  "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](33,"\n"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](34,"\n")),2&e&&(r["\u0275\u0275styleProp"]("height",t.chartHeight+t.chartBottomPadding,"px"),r["\u0275\u0275advance"](2),r["\u0275\u0275styleProp"]("width",t.chartWidth,"px")("height",t.chartHeight,"px"),r["\u0275\u0275classProp"]("adapt-chart-mobile",t.isMobile),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.showHeader),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngTemplateOutlet",t.topSectionTemplate),r["\u0275\u0275advance"](4),r["\u0275\u0275styleProp"]("width",0,"px")("background-color",t.$this.backgroundColor),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngIf",t.dataBuilder),r["\u0275\u0275advance"](11),r["\u0275\u0275property"]("ngIf",t.gradientLegend),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.legend&&t.renderLegend))},directives:[v.NgIf,v.NgTemplateOutlet,v.NgClass,re,W],encapsulation:2});class _e{}_e.K=Math.pow(10,3),_e.M=Math.pow(10,6),_e.G=Math.pow(10,9),_e.T=Math.pow(10,12);class Se{transform(e,t=2){const n=Object.keys(_e);let i;return n.some((t,o)=>{const r=n[o-1];if(e<_e[t])if(r){const t=e%_e[r];i=(e/_e[r]).toFixed(t?1:0)+r}else i=Number(e.toFixed(6)).toString();return e<_e[t]}),i}}function Ie(e,t,n){let i="",o=n;const r=t.split(""),s=r.length;e.selectAll("*").remove();const a=e.append("tspan").attr("class","ellipsis").text("..."),l=e.insert("tspan",":first-child").text(r.join(""));for(l.node().getComputedTextLength()>o&&r.length&&(o=n-a.node().getComputedTextLength());l.node().getComputedTextLength()>o&&r.length;)r.pop(),l.text(r.join(""));return r.length===s?(a.remove(),i=l.text()):i=l.text()+"...",i}Se.\u0275fac=function(e){return new(e||Se)},Se.\u0275pipe=r["\u0275\u0275definePipe"]({name:"cutNumber",type:Se,pure:!0});const Ae=["tooltipTpl"],Ee=["tooltipListInfoTpl"];function De(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"adapt-chart-slider",5),r["\u0275\u0275listener"]("rangeChanged",function(t){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"]().changeDataRange(t)}),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("slidePointsCount",e.slidePointsCount)("height",e.sliderHeight)("xAxis",e.xAxis)("data",e.sliderData)("containerWidth",e.chartWidth)("customColors",null==e.legend?null:e.legend.customColors)("leftShift",e.leftShift)("type",e.sliderType)("stackedChart",e.getStackedChart())}}function Te(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n      "),r["\u0275\u0275elementStart"](1,"div",6),r["\u0275\u0275text"](2,"\n        "),r["\u0275\u0275elementStart"](3,"div"),r["\u0275\u0275text"](4,"\n          "),r["\u0275\u0275element"](5,"span",7),r["\u0275\u0275text"](6,"\n          "),r["\u0275\u0275elementStart"](7,"span",8),r["\u0275\u0275text"](8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](9,"\n          "),r["\u0275\u0275elementStart"](10,"span"),r["\u0275\u0275elementStart"](11,"b"),r["\u0275\u0275text"](12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](13,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](14,"\n        "),r["\u0275\u0275elementStart"](15,"div"),r["\u0275\u0275text"](16,"\n          Total:\n          "),r["\u0275\u0275elementStart"](17,"span"),r["\u0275\u0275elementStart"](18,"b"),r["\u0275\u0275text"](19),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](20,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](21,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](22,"\n    ")),2&e){const e=t.data;r["\u0275\u0275advance"](5),r["\u0275\u0275styleProp"]("background-color",null==e?null:e.color),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"]("",e.category,":"),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](e.value),r["\u0275\u0275advance"](7),r["\u0275\u0275textInterpolate"](e.total)}}function Re(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275text"](1,"\n            "),r["\u0275\u0275element"](2,"span",7),r["\u0275\u0275text"](3,"\n            "),r["\u0275\u0275elementStart"](4,"span",8),r["\u0275\u0275text"](5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](6,"\n            "),r["\u0275\u0275elementStart"](7,"span"),r["\u0275\u0275elementStart"](8,"b"),r["\u0275\u0275text"](9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](10,"\n          "),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().$implicit;r["\u0275\u0275advance"](2),r["\u0275\u0275styleProp"]("background-color",null==e?null:e.color),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"]("",e.category,":"),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](e.value)}}function Me(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275text"](1,"\n          "),r["\u0275\u0275template"](2,Re,11,4,"ng-container",12),r["\u0275\u0275text"](3,"\n        "),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",0!==e.value)}}function Oe(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n      "),r["\u0275\u0275elementStart"](1,"div",9),r["\u0275\u0275text"](2,"\n        "),r["\u0275\u0275template"](3,Me,4,1,"div",10),r["\u0275\u0275text"](4,"\n        "),r["\u0275\u0275element"](5,"hr",11),r["\u0275\u0275text"](6,"\n        "),r["\u0275\u0275elementStart"](7,"div"),r["\u0275\u0275text"](8,"\n          Total:\n          "),r["\u0275\u0275elementStart"](9,"span"),r["\u0275\u0275elementStart"](10,"b"),r["\u0275\u0275text"](11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](12,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](13,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](14,"\n    ")),2&e){const e=t.data;r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngForOf",e.seriesData),r["\u0275\u0275advance"](8),r["\u0275\u0275textInterpolate"](e.total)}}let Pe=1;class Fe extends S{constructor(e,t){super(),this._cutNumber=e,this._colorService=t,this.sliderType=i.bar,this.sliderHeight=36,this.heightZero=0,this.showSlider=!1,this.hasTotalLabels=!1,this.rotateXAxis=!1,this.scientificMode=!1,this.renderLegend=!0,this.showEmptyColIndicator=!0,this.clickChart=new r.EventEmitter,this.categoryShow=new r.EventEmitter,this.categoryHide=new r.EventEmitter,this.alreadyChanged=!1,this._data=[],this._dataFull=[],this._colors=[],this._maxTicksCount=7,this._totalByCol={},this._categoryFilter=[],this._axisXThickness=50,this._axisYThickness=25,this._axisTitleThickness=20,this._legend={columns:2,activeHover:!0,activeClick:!0,width:250,customColors:null,items:[]},this._series=[],this._startDataPiece=0,this._cls={axis:"adapt-chart-axis",axisHidden:"adapt-chart-axis__hidden",axisTitle:"adapt-chart-axis-title",axisXTitle:"adapt-chart-axis-x-title",axisYTitle:"adapt-chart-axis-y-title",barXAxis:"bar-x-axis",barYAxis:"bar-y-axis",colXAxis:"col-x-axis",colYAxis:"col-y-axis",category:"adapt-chart-bars-category",areaGroup:"adapt-chart-area-group",areaTooltipLines:"adapt-chart-area-tooltip-lines",dataRect:"adapt-chart-data-rect",totalLabelsGroup:"total-labels-group",totalLabelsGroupItem:"total-labels-group-item",totalLabelItem:"total-label-item",thresholdLineArea:"threshold-line-area"},this._emptyColIndicatorWidth=22,this._emptyColIndicatorHeight=24,this.updateChart=this.updateChart.bind(this),this._dataBuilder=this._dataBuilder.bind(this),this._id="stacked-chart-"+Pe++}get isHorizontalSeries(){return"horizontal"===this.seriesDisplay}set series(e){if(this.sliderData=e,this._categoryFilter=[],e.forEach(e=>{e.hidden&&this._categoryFilter.push(e.name)}),this.showSlider?this._series=this._getDataRange():this._series=e,this.alreadyChanged){const e=this.chartComponent.getGroupAndDimensions();this._g=e.group,this._dim={w:e.w,h:e.h}}this._g&&this._dim&&this.chartComponent&&this.chartComponent.updateLegend(this.series.map(e=>({item:e.name,hidden:!!e.hidden,hover:!1})))}get series(){return this._series}set legend(e){this._legend=Object.assign(this._legend,e),this.alreadyChanged&&this.chartComponent.redrawChart()}get legend(){return{customColors:this._legend.customColors,activeHover:this._legend.activeHover,activeClick:this._legend.activeClick,columns:this._legend.columns,width:this._legend.width,items:this.series&&this.series.map(e=>({item:e.name,hidden:!!e.hidden}))}}get leftShift(){return this._margin.left}get chartWidth(){return this.width||this.chartComponent.chartWidth}get duration(){return 1e3*parseFloat(s.ANIMATION_DURATION.fast)}get _margin(){return{top:0,left:!this.hideAxises&&this.xAxis?(this.xAxis.thickness||this._axisXThickness)+(this.xAxis.title?this._axisTitleThickness:0):0,right:0,bottom:!this.hideAxises&&this.yAxis?(this.yAxis.thickness||this._axisYThickness)+(this.yAxis.title?this._axisTitleThickness:0):0}}ngOnInit(){this.scientificMode&&c().config({EXPONENTIAL_AT:4}),this.showSlider&&!this.slidePointsCount&&this._initSlidePointsCount(),this.alreadyChanged=!0}ngOnChanges(e){(e.type||e.showSlider||e.thresholdLine||e.seriesDisplay||e.hasTotalLabels||e.barWidth||e.rotateXAxis)&&this.alreadyChanged&&this._dim&&this.chartComponent.redrawChart()}updateChart(e){e?this._dim=e:e=this._dim,this._initData(),this._prepareOrdinal(),this._updateAxisX(e),this._updateAxisY(e),this._updateData(),this._updateThresholdLineArea()}_dataBuilder(e,t){this._g=e,this._dim=t,this._clear(),this._initData(),this._prepareOrdinal(),this._drawAxisX(e,t),this._drawAxisY(e,t),this._drawData(e),this._updateThresholdLineArea()}getStackedChart(){return this}categoryEnterHandler(e){const t=this._g.select(`[data-category-id='${e.id}']`),n=t.attr("fill"),i=this._colorService.getDarken(n,.15,s.ColorType.HEX);this._highlightColor=n,t.attr("fill",i)}categoryLeaveHandler(e){this._g.select(`[data-category-id='${e.id}']`).attr("fill",this._highlightColor)}categoryShowHandler(e){const t=this._categoryFilter.indexOf(e);-1!==t&&this._categoryFilter.splice(t,1),this.updateChart(null),(0,s.isUndefined)(this.chartSliderComponent)||this.chartSliderComponent.showCategory(e),this.categoryShow.emit({category:e})}categoryHideHandler(e){this._categoryFilter.push(e),this.updateChart(null),(0,s.isUndefined)(this.chartSliderComponent)||this.chartSliderComponent.hideCategory(e),this.categoryHide.emit({category:e})}clickChartArea(e){const t=e.target;if(t.classList.contains(this._cls.dataRect)){const n=d.select(t.parentNode).attr("fill"),i=t.parentNode.getAttribute("data-category-id"),o=this.series[i].name,r=t.getAttribute("data-id"),s=this._data[r][o],a=Object.keys(this._data[r]),l=this._data[r].name,c=a.indexOf("name");a.splice(c,1);const u=a.reduce((e,t)=>e+this._data[r][t],0);this.clickChart.emit({event:e,data:this.series.filter(e=>o===e.name)[0],axisCategory:l,color:n,categoryId:o,value:s,total:u})}}changeDataRange(e){this._startDataPiece=e.startPiece,this._endDataPiece=e.endPiece,this._series=this._getDataRange(),this._totalByCol={}}getFormattedSeries(e){const t=e.series.map(e=>({categoryName:e.name,seriesValues:Object.entries(e).filter(e=>"name"!==e[0])})).find(t=>t.categoryName===e.category),n=t.seriesValues.reduce((e,t)=>e+t[1],0);return t.seriesValues=t.seriesValues.map((e,t)=>({category:e[0],value:e[1],color:this.legend.customColors?this._getCustomColorById(t):this._colorService.getColor(t)})),{seriesData:t.seriesValues,total:n}}_initData(){this.showSlider&&(this._endDataPiece=this._endDataPiece||this.slidePointsCount);const e=this.showSlider?this.xAxis.categories.slice(this._startDataPiece,this._endDataPiece):this.xAxis.categories;this._data=[],this._dataFull=[],e.forEach((e,t)=>{const n={name:e};this.series.forEach(e=>{-1===this._categoryFilter.indexOf(e.name)?(n[e.name]=n[e.name]||0,n[e.name]+=e.data[t]):n[e.name]=0}),this._data.push(n)}),this.xAxis.categories.forEach((e,t)=>{const n={name:e};this.sliderData.forEach(e=>{-1===this._categoryFilter.indexOf(e.name)?(n[e.name]=n[e.name]||0,n[e.name]+=e.data[t]):n[e.name]=0}),this._dataFull.push(n)}),this._data.forEach(e=>{const{name:t}=e,n=Object.keys(e);this._totalByCol[t]=0,n.forEach(n=>{"name"!==n&&(this.scientificMode?this._totalByCol[t]=new(c())(this._totalByCol[t]).plus(e[n]):this._totalByCol[t]+=e[n])})})}_prepareOrdinal(){this._keys=this.series.map(e=>e.name),this._colors=[],this.series.forEach((e,t)=>{this._colors.push(this._legend.customColors?this._getCustomColorById(t):this._colorService.getColor(t))}),this._ordinal=d.scaleOrdinal().range(this._colors).domain(this._keys)}_drawAxisX(e,t){switch(this.type){case o.Bar:this._drawAxisXForBar(e,t);break;case o.Column:this._drawAxisXForColumn(e,t);break;case o.Area:this._drawAxisXForArea(e,t)}}_drawAxisXForBar(e,t){const n=this._getTicks().reverse();this._drawAxisTitle(e,t,this.xAxis.title,!0),this._xScale=d.scaleLinear(),this._xScale.rangeRound([t.w-this._margin.left-this._margin.right,0]).domain([n[0],0]),this._xAxisCall=d.axisBottom(this._xScale).tickValues(n).tickSize(-t.h+this._margin.top+this._margin.bottom).tickFormat((e,t)=>(0,a.isFunction)(this.xAxisTickFormatResolver)?this.xAxisTickFormatResolver(e,t):this._getTickFormatForNumber(e)).tickPadding(15),e.append("g").attr("role","axis").attr("class",`${this._cls.axis} ${this._cls.barXAxis} ${this.hideAxises?this._cls.axisHidden:""}`).attr("transform",`translate(${this._margin.left}, ${t.h-this._margin.top-this._margin.bottom})`).transition().duration(this.duration).call(this._xAxisCall)}_drawAxisXForColumn(e,t){const n=t.w-this._margin.left-this._margin.right;setTimeout(()=>{e.select(`.${this._cls.axisXTitle}`).remove(),this._drawAxisTitle(e,t,this.xAxis.title)},this.duration+100),this._xScale=d.scaleBand(),this._xScale.range([0,n]).padding(.25).domain(this.showSlider?this.xAxis.categories.slice(this._startDataPiece,this._endDataPiece):this.xAxis.categories),this._xAxisCall=d.axisBottom(this._xScale).tickFormat((0,a.isFunction)(this.xAxisTickFormatResolver)?this.xAxisTickFormatResolver:null).tickSizeOuter(0).tickPadding(12),this.chartComponent.updateChartBottomPadding(n,this._g,this.xAxis,this.rotateXAxis);const i=e.append("g").attr("role","title").attr("class",`${this._cls.axis} ${this._cls.colXAxis} ${this.hideAxises||this.rotateXAxis?this._cls.axisHidden:""}`).attr("transform",`translate(${this._margin.left}, ${t.h-this._margin.bottom})`);i.call(this._xAxisCall),this.rotateXAxis&&setTimeout(()=>{this.chartComponent.transformAxisTitles(i,this.rotateXAxis),this.hideAxises||i.classed(this._cls.axisHidden,null)},this.duration)}_drawAxisXForArea(e,t){const n=t.w-this._margin.left-this._margin.right;setTimeout(()=>{e.select(`.${this._cls.axisXTitle}`).remove(),this._drawAxisTitle(e,t,this.xAxis.title)},this.duration+100),this._xScale=d.scalePoint().range([0,this._dim.w-this._margin.left-this._margin.right]).domain(this.xAxis.categories),this._xAxisCall=d.axisBottom(this._xScale).tickFormat((0,a.isFunction)(this.xAxisTickFormatResolver)?this.xAxisTickFormatResolver:null).tickSizeOuter(0).tickPadding(12),this.chartComponent.updateChartBottomPadding(n,this._g,this.xAxis,this.rotateXAxis);const i=e.append("g").attr("role","title").attr("class",`${this._cls.axis} ${this._cls.colXAxis} ${this.hideAxises||this.rotateXAxis?this._cls.axisHidden:""}`).attr("transform",`translate(${this._margin.left}, ${t.h-this._margin.bottom})`);i.call(this._xAxisCall),this.rotateXAxis&&setTimeout(()=>{this.chartComponent.transformAxisTitles(i,this.rotateXAxis),this.hideAxises||i.classed(this._cls.axisHidden,null)},this.duration)}_drawAxisY(e,t){switch(this.type){case o.Bar:this._drawAxisYForBar(e,t);break;case o.Column:case o.Area:this._drawAxisYForColumn(e,t)}}_drawAxisYForBar(e,t){const n=this;this._drawAxisTitle(e,t,this.yAxis.title),this._yScale=d.scaleBand().rangeRound([0,t.h-this._margin.top-this._margin.bottom]).padding(.25).domain(this.xAxis.categories),this._yAxisCall=d.axisLeft(this._yScale).tickSizeOuter(0).tickFormat(function(e){return n._getTickFormatForString(e,this)}),e.append("g").attr("role","axis").attr("class",`${this._cls.axis} ${this._cls.barYAxis} ${this.hideAxises?this._cls.axisHidden:""}`).attr("transform",`translate(${this._margin.left}, 0)`).transition().duration(this.duration).call(this._yAxisCall)}_drawAxisYForColumn(e,t){const n=this._getTicks().reverse();this._drawAxisTitle(e,t,this.yAxis.title,!0),this._yScale=d.scaleLinear().rangeRound([0,t.h-this._margin.bottom-this._margin.top]).domain([n[0],0]),this._yAxisCall=d.axisLeft(this._yScale).tickValues(n).tickPadding(8).tickFormat(e=>this._getTickFormatForNumber(e)).tickSize(-t.w+this._margin.left+this._margin.right),e.append("g").attr("role","axis").attr("class",`${this._cls.axis} ${this._cls.colYAxis} ${this.hideAxises?this._cls.axisHidden:""}`).attr("transform",`translate(${this._margin.left}, 0)`).transition().duration(this.duration).call(this._yAxisCall)}_drawData(e){switch(this.type){case o.Bar:this._drawDataBars(e);break;case o.Column:this._drawDataColumns(e);break;case o.Area:this._drawDataArea(e)}}_drawDataBars(e){let t;const n=this;this._bars=e.append("g").attr("role","data").selectAll("g").data(d.stack().keys(this._keys)(this._data));const i=this._xScale;if(this._bars.enter().append("g").attr("data-category-id",(e,t)=>t).attr("role","group").attr("aria-label",function(e,t){return n.series[t].name}).attr("class",(e,t)=>`category-${t}`).attr("class",this._cls.category).attr("fill",e=>this._ordinal(e.key)).selectAll("rect").data(e=>e).enter().append("rect").attr("class",this._cls.dataRect).attr("role","item").attr("data-id",(e,t)=>t).attr("x",e=>i(e[0])+this._margin.left+1).attr("y",e=>this._getBarYPosition(e.data.name)).attr("width",e=>i(e[1])-i(e[0])==0?this.heightZero:i(e[1])-i(e[0])).attr("height",this.barWidth?this.barWidth:this._yScale.bandwidth()).on("mouseenter",function(e){const{target:i}=d.event,o=i.parentNode.getAttribute("data-category-id");n.chartComponent.showTooltip(i,n.tooltip||n.tooltipTemplate,{data:{color:t,category:n.series[o].name,value:n._dividePoints(e[0],e[1]),total:n._totalByCol[e.data.name],data:n.series[o],event:d.event}})}).on("mouseleave",function(){const e=d.select(this);n.chartComponent.hideTooltip(),e.attr("fill",null)}).on("mouseover",function(){const e=d.select(this);t=e.select(function(){return this.parentNode}).attr("fill");const i=n._colorService.getDarken(t,.15,s.ColorType.HEX);e.attr("fill",i)}),this.showEmptyColIndicator){Object.keys(this._totalByCol).filter(e=>0===this._totalByCol[e]).forEach(e=>{const t=this._yScale(e)-this._margin.top+this._yScale.bandwidth()/2-this._emptyColIndicatorHeight/2,n=this._margin.left+10;this._drawEmptyDataIndicator(n,t,e)})}this._bars.exit().remove()}_getBarYPosition(e){return this.barWidth?this._yScale(e)+this._margin.top+this._yScale.bandwidth()/2-this.barWidth/2:this._yScale(e)+this._margin.top}_getWidthForColumn(){return this.barWidth?this.barWidth:this.isHorizontalSeries?this._xScale.bandwidth()/this.series.length:this._xScale.bandwidth()}_getColumnYPosForHorizontalSeries(e){return this._yScale(e[0]?e[1]-e[0]:e[1])}_dividePoints(e,t){return this.scientificMode?new(c())(t).minus(e).toString():Number((t-e).toFixed(6)).toString()}_getColumnXPos(e,t){const n=this._xScale(e)+this._margin.left;return this.isHorizontalSeries?this.barWidth?n+(this._getCurrentCategoryIndex(t)-this.series.length/2)*this._getWidthForColumn()+this._xScale.bandwidth()/2:n+this._getCurrentCategoryIndex(t)*this._getWidthForColumn():this.barWidth?n+this._xScale.bandwidth()/2-this._getWidthForColumn()/2:n}_getColumnYPos(e){return this.isHorizontalSeries?this._getColumnYPosForHorizontalSeries(e):this._yScale(e[1])}_setYPos(e){return this._yScale(0)-this._getColumnYPosForHorizontalSeries(e)==0?this._getColumnYPos(e)-this.heightZero:this._getColumnYPos(e)}_setRectPositionAndScaleForColumnsType(e){return e.attr("x",(e,t,n)=>this._getColumnXPos(e.data.name,n[t])).attr("y",e=>this._setYPos(e)).attr("height",e=>this.isHorizontalSeries?this._yScale(0)-this._getColumnYPosForHorizontalSeries(e)==0?this.heightZero:this._yScale(0)-this._getColumnYPosForHorizontalSeries(e):this._yScale(e[0])-this._yScale(e[1])==0?this.heightZero:this._yScale(e[0])-this._yScale(e[1])).attr("width",()=>this._getWidthForColumn())}_drawDataColumns(e){let t;const n=this;this._bars=e.append("g").attr("role","data").selectAll("g").data(d.stack().keys(this._keys)(this._data));let i=this._bars.enter().append("g").attr("data-category-id",(e,t)=>t).attr("role","group").attr("aria-label",(e,t)=>this.series[t].name).attr("fill",e=>this._ordinal(e.key)).attr("class",this._cls.category).selectAll("rect").data(e=>e).enter().append("rect").attr("class",this._cls.dataRect).attr("role","item").attr("aria-label",e=>`${e.data.name}.: ${this._dividePoints(e[0],e[1])}`).attr("data-id",(e,t)=>t);if(i=this._setRectPositionAndScaleForColumnsType(i),this.showEmptyColIndicator){Object.keys(this._totalByCol).filter(e=>0===this._totalByCol[e]).forEach(e=>{const t=this._xScale(e)+this._margin.left+this._xScale.bandwidth()/2-this._emptyColIndicatorWidth/2,n=this._dim.h-this._margin.bottom-this._emptyColIndicatorHeight-10;this._drawEmptyDataIndicator(t,n,e)})}i.on("mouseenter",function(e){const{target:i}=d.event;let o=0,r=0;const s=Object.keys(e.data).filter(e=>"name"!==e);for(;r<s.length&&(e[0]!==o||e[1]!==o+e.data[s[r]]);r++)o+=e.data[s[r]];n.chartComponent.showTooltip(i,n.tooltip||n.tooltipTemplate,{data:{color:t,category:s[r],value:n._dividePoints(e[0],e[1]),total:n._totalByCol[e.data.name],data:n.series.filter(e=>e.name===s[r]),event:d.event}})}).on("mouseleave",function(){const e=d.select(this);n.chartComponent.hideTooltip(),e.attr("fill",null)}).on("mouseover",function(){const e=d.select(this);t=e.select(function(){return this.parentNode}).attr("fill");const i=n._colorService.getDarken(t,.15,s.ColorType.HEX);e.attr("fill",i)}),this._addTotalLabels(e),this._bars.exit().remove()}_drawDataArea(e){const t=d.stack().keys(this._keys)(this._data),n=this._getTicks();this._xScale=d.scalePoint(),this._xScale.range([this._margin.left+this._margin.right,this._dim.w]).domain(this.xAxis.categories),this._yScale=d.scaleLinear(),this._yScale.rangeRound([0,this._dim.h-this._margin.bottom-this._margin.top]).domain([n[n.length-1],0]);const i=d.area().x((e,t)=>this._xScale(this.xAxis.categories[t])).y0(e=>this._yScale(e[0])).y1(e=>this._yScale(e[1]));e.append("g").attr("class",this._cls.areaGroup).selectAll("path").data(t).join("path").attr("data-category-id",(e,t)=>t).attr("aria-label",(e,t)=>this.series[t].name).attr("fill",e=>this._ordinal(e.key)).attr("class",this._cls.category).attr("d",i),this._g.selectAll(`.${this._cls.areaTooltipLines}`).remove(),this._drawTooltipLinesForArea(e,this._dim)}_drawTooltipLinesForArea(e,t){const n=this,i=d.scalePoint().range([0,t.w-this._margin.left-this._margin.right]).domain(this.xAxis.categories),o=d.axisBottom(i).tickSize(-t.h+this._margin.top+this._margin.bottom).tickPadding(0),r=e.append("g").attr("role","axis").attr("class",`${this._cls.colYAxis} ${this._cls.areaTooltipLines}`).attr("transform",`translate(${this._margin.left}, ${t.h-this._margin.top-this._margin.bottom})`);r.transition().duration(this.duration).call(o),r.select("path").attr("opacity",0),r.selectAll("g text").remove(),r.selectAll("g line").attr("opacity",0),r.selectAll("g").append("rect").attr("pointer-events","all").attr("width",20).attr("height",t.h-this._margin.top-this._margin.bottom).attr("x",-10).attr("y",-t.h+this._margin.top+this._margin.bottom).on("mouseover",function(e){d.select(this.parentNode).select("line").attr("opacity",1);const{target:t}=d.event;n.chartComponent.showTooltip(t,n.tooltip||n.tooltipListInfoTemplate,{data:n.getFormattedSeries({category:e,series:n._data,event:d.event})},null,null,!0)}).on("mouseout",function(){d.select(this.parentNode).select("line").attr("opacity",0),n.chartComponent.hideTooltip()})}_addTotalLabels(e){const t=e.append("g").attr("class",this._cls.totalLabelsGroup).attr("opacity",this.hasTotalLabels?"1":"0").attr("text-anchor","middle");this._createTotalLabelsGroupsItems(t)}_createTotalLabelsGroupsItems(e){e.selectAll(`g.${this._cls.totalLabelsGroupItem}`).data(this._getTotalLabelsData()).enter().append("g").attr("class",this._cls.totalLabelsGroupItem).attr("opacity",e=>this._getTotalLabelGroupOpacity(e)).selectAll("g").data(e=>e).enter().append("g").attr("class",this._cls.totalLabelItem).attr("transform",(e,t,n)=>this._getTotalLabelTransform(e,n[t])).append("text").text(e=>this._getTotalLabelText(e)).attr("fill","currentColor").exit().remove()}_getTotalLabelGroupOpacity(e){return this.isHorizontalSeries&&-1!==this._categoryFilter.indexOf(e.key)?"0":"1"}_getTotalLabelText(e){const t=this.isHorizontalSeries?e[1]-e[0]:this._totalByCol[e.data.name];return this.totalLabelTextFormatter?this.totalLabelTextFormatter(t,e):t}_getTotalLabelTransform(e,t){return`translate(${this._getColumnXPos(e.data.name,t)+this._getWidthForColumn()/2}, ${this._getColumnYPos(e)-9})`}_getTotalLabelsData(){const e=d.stack().keys(this._keys)(this._data);return this.isHorizontalSeries?e:e.splice(-1)}_getCurrentCategoryIndex(e){return d.select(e.parentNode).datum().index}_getTicks(){const e=this._dataFull.map(e=>{const t=Object.keys(e).filter(e=>"name"!==e);return this.isHorizontalSeries?Math.max(...t.map(t=>e[t])):t.reduce((t,n)=>t+e[n],0)});let t=Math.max(...e);0===t&&(t=1),this.thresholdLine&&this.thresholdLine>t&&(t=this.thresholdLine);let n=Math.pow(10,Math.floor(Math.log10(t)))/2;const i=Math.pow(10,Math.floor(Math.log10(t)))/2;let o=Math.floor(t/n)+1;for(;o>=this._maxTicksCount;)n+=i,o=Math.floor(t/n)+1;return new Array(o).fill(0).map((e,t)=>(t+1)*n)}_clear(){this.chartComponent.clear(),this._data=[]}_updateData(){switch(this.type){case o.Bar:{const e=this._xScale;this._g.selectAll(`.${this._cls.category}`).data(d.stack().keys(this._keys)(this._data)).selectAll("rect").data(e=>e).attr("y",e=>this._yScale(e.data.name)+(this.barWidth?Math.floor(this._yScale.bandwidth()/2-this.barWidth/2):0)+this._margin.top).attr("height",this.barWidth||this._yScale.bandwidth()).transition().duration(this.duration).attr("width",t=>e(t[1])-e(t[0])).attr("x",t=>e(t[0])+this._margin.left+1);break}case o.Column:{const e=this._g.selectAll(`.${this._cls.category}`).data(d.stack().keys(this._keys)(this._data)).selectAll("rect").data(e=>e).transition().duration(this.duration);if(this._setRectPositionAndScaleForColumnsType(e),this.showEmptyColIndicator){const e=this;this._g.selectAll('g[class="tick empty-column"]').each(function(){const t=d.select(this),n=t.attr("aria-column"),i=e._xScale(n)+e._margin.left+e._xScale.bandwidth()/2-e._emptyColIndicatorWidth/2,o=e._dim.h-e._margin.bottom-e._emptyColIndicatorHeight-10;t.transition().duration(e.duration).attr("transform",`translate(${i}, ${o})`)})}break}case o.Area:this._g.selectAll(`.${this._cls.areaGroup}`).remove(),this._drawDataArea(this._g)}const e=this._g.selectAll(`.${this._cls.totalLabelsGroup}`);if(e.transition().duration(this.duration).attr("opacity",this.hasTotalLabels?"1":"0"),this.hasTotalLabels){const t=e.selectAll(`.${this._cls.totalLabelsGroupItem}`).data(this._getTotalLabelsData());t.exit().remove(),this._createTotalLabelsGroupsItems(e),t.attr("opacity",e=>this._getTotalLabelGroupOpacity(e)).selectAll(`.${this._cls.totalLabelItem}`).data(e=>e).transition().duration(this.duration).attr("transform",(e,t,n)=>this._getTotalLabelTransform(e,n[t])).selectAll("text").text(e=>this._getTotalLabelText(e))}}_updateThresholdLineArea(){let e=this._g.select(`.${this._cls.thresholdLineArea}`);if(!this.thresholdLine)return void e.remove();if(e.empty()){e=this._g.append("g").attr("class",this._cls.thresholdLineArea),e.append("rect").attr("class","threshold-area-rect").attr("x",0).attr("y",0).attr("fill","#000000").attr("style","pointer-events: none; opacity: .1;");const t=e.append("defs");t.append("marker").attr("class","threshold-line-marker").attr("id",`${this._id}-marker-start`).attr("viewBox","0 0 6 8").attr("markerWidth",6).attr("markerHeight",8).attr("refX",5).attr("refY",4).attr("orient","auto").append("path").attr("d","M 0 0 L 6 4 L 0 8 z"),t.append("marker").attr("class","threshold-line-marker").attr("id",`${this._id}-marker-end`).attr("viewBox","0 0 6 8").attr("markerWidth",6).attr("markerHeight",8).attr("refX",1).attr("refY",4).attr("orient","auto").append("path").attr("d","M 0 4 L 6 0 L 6 8 z"),e.append("line").attr("class","threshold-line").attr("stroke-width",1).attr("marker-start",`url(#${this._id}-marker-start)`).attr("marker-end",`url(#${this._id}-marker-end)`),e.append("text").attr("class","threshold-line-title-background"),e.append("text").attr("class","threshold-line-title")}const t=this._getTicks().pop(),n=this._dim.w-this._margin.left-this._margin.right,i=this._dim.h-this._margin.top-this._margin.bottom;switch(this.type){case o.Bar:{const o=n-n/t*this.thresholdLine,r=this._margin.left+n-o;e.select("rect.threshold-area-rect").transition().duration(this.duration).attr("transform",`translate(${r}, 0)`).attr("width",o).attr("height",i),e.select("line.threshold-line").transition().duration(this.duration).attr("x1",r).attr("x2",r).attr("y1",this._margin.top).attr("y2",this._margin.top+i),e.select("text.threshold-line-title-background").transition().duration(this.duration).attr("x",r).attr("y",this._margin.top+i).attr("text-anchor","middle").attr("dy","24").text(this.scientificMode?new(c())(this.thresholdLine).toPrecision(2,2):this.thresholdLine),e.select("text.threshold-line-title").transition().duration(this.duration).attr("x",r).attr("y",this._margin.top+i).attr("text-anchor","middle").attr("dy","24").text(this.scientificMode?new(c())(this.thresholdLine).toPrecision(2,2):this.thresholdLine);break}case o.Column:case o.Area:{const o=i-i/t*this.thresholdLine;e.select("rect.threshold-area-rect").transition().duration(this.duration).attr("transform",`translate(${this._margin.left}, 0)`).attr("width",n).attr("height",o),e.select("line.threshold-line").transition().duration(this.duration).attr("x1",this._margin.left).attr("x2",this._dim.w).attr("y1",o).attr("y2",o),e.select("text.threshold-line-title-background").transition().duration(this.duration).attr("x",this._margin.left-8).attr("y",o).attr("text-anchor","end").attr("dy",".32em").text(this.scientificMode?new(c())(this.thresholdLine).toPrecision(2,2):this.thresholdLine),e.select("text.threshold-line-title").transition().duration(this.duration).attr("x",this._margin.left-8).attr("y",o).attr("text-anchor","end").attr("dy",".32em").text(this.scientificMode?new(c())(this.thresholdLine).toPrecision(2,2):this.thresholdLine);break}}d.selectAll("g.tick").filter(e=>e===this.thresholdLine).remove()}_drawAxisTitle(e,t,n,i=!1){if(!(0,s.isString)(n)||this.hideAxises)return;let o;const r=e.append("g").attr("class",`${this._cls.axisTitle} ${i?this._cls.axisYTitle:this._cls.axisXTitle}`).attr("role","title");o=i?`rotate(-90) translate(-${(t.h-this._axisTitleThickness)/2} ${this._axisTitleThickness/2})`:`translate(${(t.w+this._axisTitleThickness)/2} ${t.h+this.chartComponent.chartBottomPadding})`,r.attr("transform",o).append("text").text(n).attr("text-anchor","middle").attr("transform",`translate(${this._axisTitleThickness/(i?2:1)} 0)`)}_updateAxisTitle(e,t){e.select(`.${this._cls.axisXTitle}`).transition().duration(this.duration).attr("transform",`translate(${(t.w+this._axisTitleThickness)/2} ${t.h+this.chartComponent.chartBottomPadding})`)}_updateAxisX(e){switch(this.type){case o.Bar:this._updateAxisXForBar(e);break;case o.Column:this._updateAxisXForColumn(e);break;case o.Area:this._updateAxisXForArea(e)}}_updateAxisXForBar(e){const t=this._getTicks().reverse();this._xScale=d.scaleLinear(),this._xScale.rangeRound([e.w-this._margin.left-this._margin.right,0]).domain([t[0],0]),this._xAxisCall=d.axisBottom(this._xScale).tickValues(t).tickSize(-e.h+this._margin.top+this._margin.bottom).tickFormat((e,t)=>(0,a.isFunction)(this.xAxisTickFormatResolver)?this.xAxisTickFormatResolver(e,t):this._getTickFormatForNumber(e)).tickPadding(15),this._g.select(`.${this._cls.barXAxis}`).transition().duration(this.duration).call(this._xAxisCall)}_updateAxisXForColumn(e){this._xScale=d.scaleBand(),this._xScale.range([0,e.w-this._margin.left-this._margin.right]).padding(.25).domain(this.showSlider?this.xAxis.categories.slice(this._startDataPiece,this._endDataPiece):this.xAxis.categories),this._xAxisCall=d.axisBottom(this._xScale).tickFormat((0,a.isFunction)(this.xAxisTickFormatResolver)?this.xAxisTickFormatResolver:null).tickSizeOuter(0).tickPadding(12),this.chartComponent.updateChartBottomPadding(e.w-this._margin.left-this._margin.right,this._g,this.xAxis,this.rotateXAxis);const t=this._g.select(`.${this._cls.colXAxis}`).attr("class",`${this._cls.axis} ${this._cls.colXAxis} ${this.hideAxises||this.rotateXAxis?this._cls.axisHidden:""}`);t.transition().duration(this.duration).call(this._xAxisCall),setTimeout(()=>{this.chartComponent.transformAxisTitles(t,this.rotateXAxis),this.hideAxises||t.classed(this._cls.axisHidden,null)},this.rotateXAxis?this.duration+100:0),this._updateAxisTitle(this._g,e)}_updateAxisXForArea(e){this._xScale=d.scalePoint(),this._xScale.range([0,e.w-this._margin.left-this._margin.right]).domain(this.showSlider?this.xAxis.categories.slice(this._startDataPiece,this._endDataPiece):this.xAxis.categories),this._xAxisCall=d.axisBottom(this._xScale).tickFormat((0,a.isFunction)(this.xAxisTickFormatResolver)?this.xAxisTickFormatResolver:null).tickSizeOuter(0).tickPadding(12),this.chartComponent.updateChartBottomPadding(e.w-this._margin.left-this._margin.right,this._g,this.xAxis,this.rotateXAxis);const t=this._g.select(`.${this._cls.colXAxis}`).attr("class",`${this._cls.axis} ${this._cls.colXAxis} ${this.hideAxises||this.rotateXAxis?this._cls.axisHidden:""}`);t.transition().duration(this.duration).call(this._xAxisCall),setTimeout(()=>{this.chartComponent.transformAxisTitles(t,this.rotateXAxis),this.hideAxises||t.classed(this._cls.axisHidden,null)},this.rotateXAxis?this.duration+100:0),this._updateAxisTitle(this._g,e)}_updateAxisY(e){switch(this.type){case o.Bar:this._updateAxisYForBar(e);break;case o.Column:case o.Area:this._updateAxisYForColumn(e)}}_updateAxisYForBar(e){const t=this;this._yScale=d.scaleBand().rangeRound([0,e.h-this._margin.top-this._margin.bottom]).padding(.25).domain(this.xAxis.categories),this._yAxisCall=d.axisLeft(this._yScale).tickSizeOuter(0).tickFormat(function(e){return t._getTickFormatForString(e,this)}),this._g.select(`.${this._cls.barYAxis}`).transition().duration(this.duration).call(this._yAxisCall)}_updateAxisYForColumn(e){const t=this._getTicks().reverse();this._yScale=d.scaleLinear().rangeRound([0,e.h-this._margin.bottom-this._margin.top]).domain([t[0],0]),this._yAxisCall=d.axisLeft(this._yScale).tickValues(t).tickFormat(e=>this._getTickFormatForNumber(e)).tickSize(-e.w+this._margin.left+this._margin.right),this._g.select(`.${this._cls.colYAxis}`).transition().duration(this.duration).call(this._yAxisCall)}_getCustomColorById(e){const t=this._legend.customColors;return t[e%t.length]}_getDataRange(){return this.sliderData.map(e=>{const{name:t,hidden:n}=e;let{data:i}=e;return i=i.slice(this._startDataPiece,this._endDataPiece),{name:t,data:i,hidden:n}})}_getDataLength(){return this._series[0].data.length}_initSlidePointsCount(){const e=this._getDataLength();this.slidePointsCount=e<12?4:e>=12&&e<36?6:12,this.sliderMonitorsCount=Math.ceil(e/this.slidePointsCount)}_drawEmptyDataIndicator(e,t,n){const i=this._g.select('g[role="data"]').append("g").attr("role","group").attr("class","tick empty-column").attr("aria-label","empty column").attr("aria-column",n).attr("transform",`translate(${e}, ${t})`);i.append("rect").attr("role","item").attr("width",this._emptyColIndicatorWidth).attr("height",this._emptyColIndicatorHeight).attr("rx",2),i.append("text").attr("x",this._emptyColIndicatorWidth/2).attr("y",this._emptyColIndicatorHeight/2).attr("alignment-baseline","middle").attr("text-anchor","middle").attr("dy",".1rem").text("0")}_getTickFormatForNumber(e){return this.scientificMode?new(c())(e).toPrecision(2,2):this._cutNumber.transform(e,0)}_getTickFormatForString(e,t){const n=d.select(t),i=Ie(n,e,this.xAxis?this.xAxis.thickness||this._axisXThickness:0);return i!==e&&n.on("mouseenter",()=>{const{target:t}=d.event;this.chartComponent.showTooltip(t,e)}).on("mouseleave",()=>{this.chartComponent.hideTooltip()}),i}}Fe.\u0275fac=function(e){return new(e||Fe)(r["\u0275\u0275directiveInject"](Se),r["\u0275\u0275directiveInject"](B))},Fe.\u0275cmp=r["\u0275\u0275defineComponent"]({type:Fe,selectors:[["adapt-stacked-chart"]],viewQuery:function(e,t){if(1&e&&(r["\u0275\u0275viewQuery"](Ae,7),r["\u0275\u0275viewQuery"](Ee,7),r["\u0275\u0275viewQuery"](Ce,7),r["\u0275\u0275viewQuery"](k,5)),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.tooltipListInfoTemplate=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.chartComponent=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.chartSliderComponent=e.first)}},inputs:{backgroundColor:"backgroundColor",width:"width",height:"height",header:"header",suppressHeader:"suppressHeader",suppressLegend:"suppressLegend",tooltip:"tooltip",dataBuilder:"dataBuilder",type:"type",xAxis:"xAxis",yAxis:"yAxis",showSlider:"showSlider",hasTotalLabels:"hasTotalLabels",seriesDisplay:"seriesDisplay",totalLabelTextFormatter:"totalLabelTextFormatter",barWidth:"barWidth",slidePointsCount:"slidePointsCount",hideAxises:"hideAxises",rotateXAxis:"rotateXAxis",xAxisTickFormatResolver:"xAxisTickFormatResolver",scientificMode:"scientificMode",renderLegend:"renderLegend",thresholdLine:"thresholdLine",showEmptyColIndicator:"showEmptyColIndicator",series:"series",legend:"legend"},outputs:{clickChart:"clickChart",categoryShow:"categoryShow",categoryHide:"categoryHide"},features:[r["\u0275\u0275ProvidersFeature"]([Se]),r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]],decls:12,vars:16,consts:[[3,"width","title","description","height","header","legend","renderLegend","data","backgroundColor","suppressHeader","suppressLegend","tooltip","noDataText","updateChart","dataBuilder","categoryShow","categoryHide","categoryEnter","categoryLeave","clickChart"],["chart",""],[3,"slidePointsCount","height","xAxis","data","containerWidth","customColors","leftShift","type","stackedChart","rangeChanged",4,"ngIf"],["tooltipTpl",""],["tooltipListInfoTpl",""],[3,"slidePointsCount","height","xAxis","data","containerWidth","customColors","leftShift","type","stackedChart","rangeChanged"],[1,"adapt-chart-tooltip-content-container"],[1,"adapt-chart-tooltip-color-spot"],[1,"adapt-chart-tooltip-category"],[1,"chart-tooltip-content-container","align-start"],[4,"ngFor","ngForOf"],[1,"mt-1","mb-1"],[4,"ngIf"]],template:function(e,t){1&e&&(r["\u0275\u0275text"](0,"\n    "),r["\u0275\u0275elementStart"](1,"adapt-chart",0,1),r["\u0275\u0275listener"]("categoryShow",function(e){return t.categoryShowHandler(e)})("categoryHide",function(e){return t.categoryHideHandler(e)})("categoryEnter",function(e){return t.categoryEnterHandler(e)})("categoryLeave",function(e){return t.categoryLeaveHandler(e)})("clickChart",function(e){return t.clickChartArea(e)}),r["\u0275\u0275text"](3,"\n      "),r["\u0275\u0275template"](4,De,1,9,"adapt-chart-slider",2),r["\u0275\u0275text"](5,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](6,"\n\n    "),r["\u0275\u0275template"](7,Te,23,5,"ng-template",null,3,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275text"](9,"\n    "),r["\u0275\u0275template"](10,Oe,15,2,"ng-template",null,4,r["\u0275\u0275templateRefExtractor"])),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("width",t.width)("title",(null==t.header?null:t.header.title)||"Graph chart")("description",(null==t.header?null:t.header.subtitle)||"Graph chart")("height",t.height)("header",t.header)("legend",t.legend)("renderLegend",t.renderLegend)("data",t.series)("backgroundColor",t.backgroundColor)("suppressHeader",t.suppressHeader)("suppressLegend",t.suppressLegend)("tooltip",t.tooltip)("noDataText",t.noDataText)("updateChart",t.updateChart)("dataBuilder",t._dataBuilder),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.showSlider))},directives:[Ce,v.NgIf,k,v.NgForOf],encapsulation:2});class ke extends _{}ke.\u0275fac=function(){let e;return function(t){return(e||(e=r["\u0275\u0275getInheritedFactory"](ke)))(t||ke)}}(),ke.\u0275dir=r["\u0275\u0275defineDirective"]({type:ke,inputs:{data:"data",xAxis:"xAxis",yAxis:"yAxis"},features:[r["\u0275\u0275InheritDefinitionFeature"]]});const Ne=["heatmapDefaultTooltip"],je=["menuAnchor"],Le=["menuContainer"];function Ve(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",12),r["\u0275\u0275listener"]("click",function(){const t=r["\u0275\u0275restoreView"](e).$implicit,n=r["\u0275\u0275nextContext"](4);return n.callAction(n.menuData.target,n.menuData.event,n.menuData.context,t)}),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n              ",e.title,"\n            ")}}function Be(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275text"](1,"\n            "),r["\u0275\u0275template"](2,Ve,2,1,"button",11),r["\u0275\u0275text"](3,"\n          "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",e.menuData.actions)}}function Ge(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n        "),r["\u0275\u0275elementStart"](1,"div",9),r["\u0275\u0275text"](2,"\n          "),r["\u0275\u0275template"](3,Be,4,1,"div",10),r["\u0275\u0275text"](4,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](5,"\n      ")),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",e.menuData&&e.menuData.actions&&e.menuData.actions.length)}}function ze(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",4,5),r["\u0275\u0275listener"]("popupAnimationDone",function(){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"]().popupAnimationDone()}),r["\u0275\u0275text"](2,"\n      "),r["\u0275\u0275element"](3,"button",6,7),r["\u0275\u0275text"](5,"\n      "),r["\u0275\u0275template"](6,Ge,6,1,"ng-template",8),r["\u0275\u0275text"](7,"\n    "),r["\u0275\u0275elementEnd"]()}2&e&&r["\u0275\u0275property"]("adaptRadarDisableEventSending",!0)("appendToBody",!0)}function $e(e,t){if(1&e&&r["\u0275\u0275element"](0,"adapt-icon",18),2&e){const e=r["\u0275\u0275nextContext"]().context,t=r["\u0275\u0275nextContext"]();r["\u0275\u0275styleProp"]("color",e.status.iconColor||e.status.color||t.defaultColor),r["\u0275\u0275property"]("adaptRadarDisableEventSending",!0)("name",e.status.icon)}}function Ue(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",16),r["\u0275\u0275text"](1,"\n          "),r["\u0275\u0275elementStart"](2,"small",19),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](4,"\n        "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().context;r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.info)}}function He(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",16),r["\u0275\u0275text"](1,"\n          "),r["\u0275\u0275elementStart"](2,"label",20),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](4,"\n          "),r["\u0275\u0275elementStart"](5,"div",21),r["\u0275\u0275text"](6,"\n            "),r["\u0275\u0275element"](7,"div",22),r["\u0275\u0275text"](8,"\n          "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](9,"\n        "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().context;r["\u0275\u0275advance"](2),r["\u0275\u0275styleProp"]("margin-left",e.progress+"%"),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",e.progress,"%"),r["\u0275\u0275advance"](4),r["\u0275\u0275styleProp"]("width",e.progress+"%"),r["\u0275\u0275attribute"]("aria-valuenow",e.progress)}}function Xe(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n      "),r["\u0275\u0275elementStart"](1,"div",13),r["\u0275\u0275text"](2,"\n        "),r["\u0275\u0275elementStart"](3,"div"),r["\u0275\u0275text"](4,"\n          "),r["\u0275\u0275template"](5,$e,1,4,"adapt-icon",14),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](7,"\n        "),r["\u0275\u0275template"](8,Ue,5,1,"div",15),r["\u0275\u0275text"](9,"\n        "),r["\u0275\u0275template"](10,He,10,6,"div",15),r["\u0275\u0275text"](11,"\n        "),r["\u0275\u0275elementStart"](12,"div",16),r["\u0275\u0275text"](13,"\n          "),r["\u0275\u0275element"](14,"div",17),r["\u0275\u0275text"](15),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](16,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](17,"\n    ")),2&e){const e=t.context;r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngIf",e.status.icon),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n          ",e.name,"\n        "),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e.info),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e.progress),r["\u0275\u0275advance"](4),r["\u0275\u0275styleProp"]("background-color",e.status.bg),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n          ",e.status.name,"\n        ")}}const We=14;class qe extends ke{constructor(e,t,n){super(),this._changeDetectorRef=e,this._renderer=t,this._iconConfig=n,this.hasActionMenu=!1,this.defaultColor=getComputedStyle(document.documentElement).getPropertyValue("--gray-900"),this._dataBuilder=(function(e,t){this._g=e,this._calculateMargin();const n=t.w-(this._margin.left+this._margin.right),i=t.h-(this._margin.top+this._margin.bottom),o=this._openTooltip.bind(this),r=this._closeTooltip.bind(this),a=this._openMenu.bind(this),l=this._margin,c=this._ellipsis,u=this.clickChart,p=this._getPreparedData(n,i),h=e=>this._iconConfig.getIcon(e),m=this._g.selectAll("g").attr("transform",`translate(${l.left} ${l.top})`).data(p).enter().append("g").attr("class",e=>`heatmap-node status-group-${e.data.status.name.split(" ").join("_").toLowerCase()}`).attr("id",e=>e.data.name.split(" ").join("_")).attr("transform",e=>`translate(${e.x0}, ${e.y0})`).on("mouseenter",function(e){const t=d.event.detail,n=d.select(this);0!==t&&"legend"===(null==t?void 0:t.eventSource)||o(n.node(),{context:e.data}),d.select(this).selectAll("rect").each(function(){const e=d.select(this).node();e.classList.contains("menu-icon")||(e.style.fill=d.rgb(e.style.fill).darker(.3).formatHex())})}).on("mouseleave",function(){r(),d.select(this).selectAll("rect").each(function(){const e=d.select(this).node();e.classList.contains("menu-icon")||(e.style.fill=d.rgb(e.style.fill).brighter(.3).formatHex())})}).on("click",function(e){r(),u.emit(e.data),d.event.stopPropagation()});m.append("g").attr("class","treemap-node-bg").each(function(e){const t=d.select(this);t.append("rect").attr("width",e.x1-e.x0).attr("height",e.y1-e.y0).attr("style",()=>`\n              fill: ${e.data.status.bg};\n              opacity: .6;\n              transition: fill .2s;\n              cursor: pointer;`),t.append("rect").attr("width",()=>{const t=e.data.progress?e.data.progress/100:1;return(e.x1-e.x0)*t}).attr("height",e.y1-e.y0).attr("style",()=>`\n              fill: ${e.data.status.bg};\n              transition: fill .2s;\n              cursor: pointer;`)});const f=getComputedStyle(document.documentElement).getPropertyValue("--gray-900");if(m.append("g").attr("class","treemap-node-text").each(function(e){const t=d.select(this);let n,i;e.data.status.icon&&e.y1-e.y0>60&&(n=t.append("g").attr("transform",`translate(${(e.x1-e.x0)/2-7}, 0)`).html(h(e.data.status.icon)).select("svg").attr("width",We).attr("height",We).attr("fill",e.data.status.iconColor||e.data.status.color||f));const o=t.append("text").attr("transform",`translate(${(e.x1-e.x0)/2}, 0)`).attr("dy",n?32:0).attr("text-anchor","middle").attr("fill",e.data.status.color||f).attr("style","font-size: 13px;");c(o,e.data.name,e.x1-e.x0-15),n?t.attr("transform",`translate(0, ${(e.y1-e.y0)/2-We})`):t.attr("transform",`translate(0, ${(e.y1-e.y0)/2+9})`),e.data.info&&e.y1-e.y0>40&&(i=t.append("text").attr("transform",`translate(${(e.x1-e.x0)/2}, 0)`).attr("dy",n?50:18).attr("text-anchor","middle").attr("fill",e.data.status.color||f).attr("style","font-size: 12px; opacity: .7"),c(i,e.data.info,e.x1-e.x0-15),n?t.attr("transform",`translate(0, ${(e.y1-e.y0)/2-We-9})`):t.attr("transform",`translate(0, ${(e.y1-e.y0)/2})`))}),m.append("g").attr("class","heatmap__actions-menu").each(function(e){if(e.data.actions){const t=d.select(this);t.append("rect").attr("class","menu-icon").attr("cursor","pointer").attr("fill","transparent").attr("height",20).attr("width",20).attr("transform",`translate(${e.x1-e.x0-24}, 10)`),t.append("g").attr("transform",`translate(${e.x1-e.x0-24}, 10)`).html(y.ai_ellipsis.data).select("svg").attr("cursor","pointer").attr("fill",f).attr("height",20).attr("width",20)}}).on("click",function(e){if(e.data.actions){const t=d.select(this);a(t.node(),d.event,e.data),d.event.stopPropagation()}}),this.xAxis){const e=d.scaleBand().domain(this.xAxis.categories).range([0,n]),t=d.axisBottom(e).tickSizeOuter(0).tickSize(0).tickPadding(10);this._g.append("g").attr("class","adapt-chart-axis xAxis").attr("transform",`translate(${l.left}, ${i})`).call(t)}if(this.yAxis){const e=d.scaleBand().domain(this.yAxis.categories).range([0,i]),t=d.axisLeft(e).tickSizeOuter(0).tickSize(0).tickPadding(10);this._g.append("g").attr("class","adapt-chart-axis").attr("transform",`translate(${l.left}, 0)`).call(t)}s.SafeCdr.detectChanges(this._changeDetectorRef)}).bind(this),this._updateChart=(function(e){this._calculateMargin();const t=e.w-(this._margin.left+this._margin.right),n=e.h-(this._margin.top+this._margin.bottom),i=this._getPreparedData(t,n);if(this._g.selectAll("g.heatmap-node").data(i).transition().duration(200).attr("transform",e=>`translate(${e.x0}, ${e.y0})`),this._g.selectAll("g.treemap-node-bg rect:first-child").data(i).transition().duration(200).attr("width",e=>e.x1-e.x0),this._g.selectAll("g.treemap-node-bg rect:last-child").data(i).transition().duration(200).attr("width",e=>{const t=e.data.progress?e.data.progress/100:1;return(e.x1-e.x0)*t}),this._g.selectAll("g.heatmap__actions-menu rect").data(i.filter(e=>e.data.actions)).transition().duration(200).attr("transform",e=>`translate(${e.x1-e.x0-24}, 10)`),this._g.selectAll("g.heatmap__actions-menu use").data(i.filter(e=>e.data.actions)).transition().duration(200).attr("transform",e=>`translate(${e.x1-e.x0-24}, 10)`),this._g.selectAll(".treemap-node-text").data(i).each(function(e){d.select(this).select("use").transition().duration(200).attr("transform",`translate(${(e.x1-e.x0)/2-7}, 0)`),d.select(this).selectAll("text").transition().duration(200).attr("transform",`translate(${(e.x1-e.x0)/2}, 0)`)}),this.xAxis){const e=d.scaleBand().domain(this.xAxis.categories).range([0,t]),n=d.axisBottom(e).tickSizeOuter(0).tickSize(0).tickPadding(10);this._g.select("g.adapt-chart-axis.xAxis").transition().duration(200).call(n)}}).bind(this),this.clickChart=new r.EventEmitter,this._margin={top:0,right:0,bottom:0,left:0},this._closeMenuBind=this._closeMenu.bind(this)}ngOnInit(){this.legend&&(this.legend.columns=1,this.legend.activeHover=!1,this.legend.activeClick=!1),this._initLegend()}ngOnDestroy(){this._removeListeners()}callAction(e,t,n,i){i.callback(e,t,n)}popupAnimationDone(){this.menuContainer.isOpen()?(this._removeClickEventListener=this._renderer.listen("document","click",this._closeMenuBind),this._removeScrollEventListener=this._renderer.listen("document","scroll",this._closeMenuBind)):this._removeListeners()}_categoryEnter(e){this._g.selectAll(`.status-group-${this._legend.items[e.id.toString()].split(" ").join("_").toLowerCase()}`).dispatch("mouseenter",{bubbles:!0,cancelable:!0,detail:{eventSource:"legend"}})}_categoryLeave(e){this._g.selectAll(`.status-group-${this._legend.items[e.id.toString()].split(" ").join("_").toLowerCase()}`).dispatch("mouseleave")}_calculateMargin(){this._margin.left=this.yAxis?60:0,this._margin.bottom=this.xAxis?38:0}_getPreparedData(e,t){const n=Math.round(e),i=this.data.items.length,o=Math.round(t/i),r=[];return this.data.items.forEach((e,t)=>{let i=0;e.forEach(e=>{i+=e.size});let s=this._margin.left+1;const a=n/i;e.forEach(e=>{r.push({data:e,x0:Math.round(s),y0:Math.round(this._margin.top+o*t),x1:Math.round(s+a*e.size-1),y1:Math.round(this._margin.top+o*t+o-1)}),s+=a*e.size})}),this.hasActionMenu=r.some(e=>e.data.actions&&e.data.actions.length),r}_openMenu(e,t,n){this._closeTooltip(),this.menuContainer.placement="bottom-right",this.menuContainer.positionTo=e,this.menuData={target:e,event:t,context:n,actions:n.actions},this.menuAnchor.toggleOpen(t),s.SafeCdr.detectChanges(this._changeDetectorRef)}_closeMenu(){this.menuContainer&&this.menuContainer.close(),this._removeListeners()}_openTooltip(e,t){this.chartBase.showTooltip(e,this.tooltip||this.heatmapDefaultTooltip,t)}_closeTooltip(){this.chartBase.hideTooltip()}_initLegend(){if(this.suppressLegend)return;const e=[];this.data.items.forEach(t=>{t.forEach(t=>{if(t.status){e.filter(e=>t.status.name===e.name).length||e.push({name:t.status.name,color:t.status.bg})}})}),e.length&&(this._legend={columns:1,items:e.map(e=>e.name),customColors:e.map(e=>e.color),activeHover:!1,activeClick:!1})}_ellipsis(e,t,n){const i=t.split(""),o=e.append("tspan").attr("class","ellipsis").text("..."),r=n-o.node().getComputedTextLength(),s=i.length,a=e.insert("tspan",":first-child").text(i.join(""));for(;a.node().getComputedTextLength()>r&&i.length;)i.pop(),a.text(i.join(""));i.length===s&&o.remove()}_removeListeners(){this._removeClickEventListener&&(this._removeClickEventListener(),this._removeClickEventListener=null),this._removeScrollEventListener&&(this._removeScrollEventListener(),this._removeScrollEventListener=null)}}qe.\u0275fac=function(e){return new(e||qe)(r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](s.AdaptIconConfig))},qe.\u0275cmp=r["\u0275\u0275defineComponent"]({type:qe,selectors:[["adapt-heatmap"]],viewQuery:function(e,t){if(1&e&&(r["\u0275\u0275viewQuery"](Ce,7),r["\u0275\u0275viewQuery"](Ne,7),r["\u0275\u0275viewQuery"](je,5,s.AdaptDropdownToggleDirective),r["\u0275\u0275viewQuery"](Le,5,s.AdaptDropdownDirective)),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.chartBase=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.heatmapDefaultTooltip=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.menuAnchor=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.menuContainer=e.first)}},inputs:{backgroundColor:"backgroundColor",width:"width",height:"height",header:"header",legend:"legend",suppressHeader:"suppressHeader",suppressLegend:"suppressLegend",tooltip:"tooltip",data:"data",xAxis:"xAxis",yAxis:"yAxis",noDataText:"noDataText"},outputs:{clickChart:"clickChart"},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:9,vars:13,consts:[[3,"data","width","height","header","legend","backgroundColor","suppressHeader","suppressLegend","tooltip","dataBuilder","updateChart","noDataText","categoryEnter","categoryLeave"],["chartBase",""],["class","dropdown heatmap-chart_hidden-menu","adaptDropdown","",3,"adaptRadarDisableEventSending","appendToBody","popupAnimationDone",4,"ngIf"],["heatmapDefaultTooltip",""],["adaptDropdown","",1,"dropdown","heatmap-chart_hidden-menu",3,"adaptRadarDisableEventSending","appendToBody","popupAnimationDone"],["menuContainer",""],["adaptDropdownToggle","","type","button"],["menuAnchor",""],["adaptDropdownMenuTemplate",""],[1,"dropdown-menu"],[4,"ngIf"],["class","dropdown-item","type","button",3,"click",4,"ngFor","ngForOf"],["type","button",1,"dropdown-item",3,"click"],[1,"text-left"],["class","icon-inline",3,"adaptRadarDisableEventSending","name","color",4,"ngIf"],["class","pt-2",4,"ngIf"],[1,"pt-2"],[2,"width","8px","height","8px","margin","0 4px 1px 2px","display","inline-block","vertical-align","middle"],[1,"icon-inline",3,"adaptRadarDisableEventSending","name"],[1,"text-secondary"],[1,"progress-label"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary-muted"]],template:function(e,t){1&e&&(r["\u0275\u0275text"](0,"\n    "),r["\u0275\u0275elementStart"](1,"adapt-chart",0,1),r["\u0275\u0275listener"]("categoryEnter",function(e){return t._categoryEnter(e)})("categoryLeave",function(e){return t._categoryLeave(e)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](3,"\n\n    "),r["\u0275\u0275template"](4,ze,8,2,"div",2),r["\u0275\u0275text"](5,"\n\n    "),r["\u0275\u0275template"](6,Xe,18,7,"ng-template",null,3,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275text"](8,"\n  ")),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("data",t.data)("width",t.width)("height",t.height)("header",t.header)("legend",t._legend)("backgroundColor",t.backgroundColor)("suppressHeader",t.suppressHeader)("suppressLegend",t.suppressLegend)("tooltip",t.tooltip)("dataBuilder",t._dataBuilder)("updateChart",t._updateChart)("noDataText",t.noDataText),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.hasActionMenu))},directives:[Ce,v.NgIf,s.AdaptDropdownDirective,s.AdaptDropdownToggleDirective,s.AdaptDropdownMenuTemplateDirective,v.NgForOf,s.AdaptIconComponent],styles:[".heatmap-chart_hidden-menu[_ngcontent-%COMP%] {\n      opacity: 0;\n      visibility: hidden;\n      height: 0\n    }"]});class Ye extends _{}Ye.\u0275fac=function(){let e;return function(t){return(e||(e=r["\u0275\u0275getInheritedFactory"](Ye)))(t||Ye)}}(),Ye.\u0275dir=r["\u0275\u0275defineDirective"]({type:Ye,inputs:{xAxis:"xAxis",yAxis:"yAxis",series:"series",hideAxises:"hideAxises"},features:[r["\u0275\u0275InheritDefinitionFeature"]]});const Qe=["tooltipTpl"];function Ze(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"adapt-area-graph-slider",3),r["\u0275\u0275listener"]("rangeChanged",function(t){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"]().rangeChanged(t)})("scrollEnd",function(){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"]().scrollEnd()}),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("data",e.sliderData)("xAxis",e.xAxis)("slidePointsCount",e.slidePointsCount)("customColors",null==e.legend?null:e.legend.customColors)("xBrush",e.xBrush)("leftShift",e.leftShift)("containerWidth",e.chartWidth)}}function Ke(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n  "),r["\u0275\u0275elementStart"](1,"div",4),r["\u0275\u0275text"](2,"\n    "),r["\u0275\u0275elementStart"](3,"div",5),r["\u0275\u0275text"](4,"\n      "),r["\u0275\u0275element"](5,"span",6),r["\u0275\u0275text"](6,"\n      "),r["\u0275\u0275elementStart"](7,"span",7),r["\u0275\u0275text"](8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](9,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](10,"\n    "),r["\u0275\u0275elementStart"](11,"div"),r["\u0275\u0275text"](12),r["\u0275\u0275elementStart"](13,"span"),r["\u0275\u0275elementStart"](14,"b"),r["\u0275\u0275text"](15),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](16,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](17,"\n\n    "),r["\u0275\u0275elementStart"](18,"div"),r["\u0275\u0275text"](19),r["\u0275\u0275elementStart"](20,"span"),r["\u0275\u0275elementStart"](21,"b"),r["\u0275\u0275text"](22),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](23,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](24,"\n  "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](25,"\n")),2&e){const e=t.data,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](5),r["\u0275\u0275styleProp"]("background",null==e?null:e.color),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.category),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"]("\n      ",n.getTooltipXValueTitle(),":\n      "),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.xValue),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"]("\n      ",null==n.yAxis?null:n.yAxis.title,":\n      "),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.yValue)}}let Je=1;class et extends Ye{constructor(e,t,n,i,o){super(),this._cutNumber=e,this._deviceDetectionService=t,this._colorService=n,this._ngZone=i,this._changeDetectorRef=o,this.alreadyChanged=!1,this.sliderData=[],this.sliderDomainData=[],this._dataBuilderBind=this._dataBuilder.bind(this),this._updateChartBind=this._updateChart.bind(this),this.componentNumericalValues={circleRadius:6,maxTicksCount:7,axisShift:{top:0,right:0,bottom:25,left:25},margin:{top:0,right:0,bottom:25,left:50},marginMobile:40},this.circleRadius=this.componentNumericalValues.circleRadius,this._series=[],this._maxTicksCount=this.componentNumericalValues.maxTicksCount,this._data=[],this._isDeselected=[],this._colors=[],this._destroy$=new u.ReplaySubject(1),this._axisShift=Object.assign({},this.componentNumericalValues.axisShift),this.colorsPalette="gradient",this.supressAxles=!1,this.showLineCircles=!0,this.rotateXAxis=!1,this.showSlider=!1,this.disallowPadding=!1,this.scientificMode=!1,this.clickChart=new r.EventEmitter,this.categoryShow=new r.EventEmitter,this.categoryHide=new r.EventEmitter,this._thresholdLine=null,this._legend={columns:1,activeHover:!0,activeClick:!0,width:250,customColors:null,items:[]},this._id="line-graph-"+Je++}get _margin(){return{top:0,left:this.isMobile()?this.componentNumericalValues.marginMobile:this.disallowPadding?0:this.yAxis&&this.yAxis.title?this.componentNumericalValues.margin.left+this._axisShift.left:this.componentNumericalValues.margin.left,right:0,bottom:this.disallowPadding?0:this.xAxis&&this.xAxis.title?this.componentNumericalValues.margin.bottom+this._axisShift.bottom:this.componentNumericalValues.margin.bottom}}get duration(){return 1e3*parseFloat(s.ANIMATION_DURATION.fast)}set thresholdLine(e){this._thresholdLine=(0,a.isNumber)(e)?e:null,this.alreadyChanged&&this._updateThresholdLineArea()}get thresholdLine(){return this._thresholdLine}set legend(e){this._legend=Object.assign(this._legend,e),this.alreadyChanged&&this.chartComponent.redrawChart()}get legend(){return{customColors:this._legend.customColors,activeHover:this._legend.activeHover,activeClick:this._legend.activeClick,columns:this._legend.columns,width:this._legend.width,items:this.series.map(e=>({item:e.name,hidden:!!e.hidden}))}}set series(e){if(this._series=e,this._isDeselected=[],e.forEach(e=>{e.hidden&&this._isDeselected.push(e.name)}),this.sliderData=[...this.mapDataFromSeries(e)],this.alreadyChanged){const e=this.chartComponent.getGroupAndDimensions();this._g=e.group,this._dim={w:e.w,h:e.h}}this._g&&this._dim&&this.chartComponent&&this.chartComponent.updateLegend(this.series.map(e=>({item:e.name,hidden:!!e.hidden,hover:!1})))}get series(){return this._series}get leftShift(){return this._margin.left}get chartWidth(){return this.chartComponent.currentSVGWidth}ngOnInit(){this.scientificMode&&c().config({EXPONENTIAL_AT:4}),this.alreadyChanged=!0}ngOnChanges(e){this._dim&&(e[this.nameof("showLineCircles")]||e[this.nameof("supressAxles")]||e[this.nameof("rotateXAxis")]||e[this.nameof("showSlider")])&&this._detectViewChanges()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}_dataBuilder(e,t){this._g=e,this._dim=t,this._initClipPath(),this._clear(),this._initData(),this._initAxis(e,t),this._drawLines(e),this._drawDropShadow(),this._updateThresholdLineArea()}_updateChart(e,t=!1){this._dim=e,this._initData(),this._g&&this._g.select(`#${this._id}_clip > rect`).attr("width",e.w-(this._margin.left+this._margin.right)).attr("height",e.h-(this._margin.top+this._margin.bottom)),t||this._updateAxis(e),this._updateDataLines(),this._updateThresholdLineArea()}isMobile(){return this._deviceDetectionService.deviceMobile()||this._deviceDetectionService.deviceTablet()}categoryShowHandler(e){const t=this._isDeselected.indexOf(e);-1!==t&&this._isDeselected.splice(t,1),this._updateChart(this._dim,!0),this.series.forEach((t,n)=>{-1!==t.name.indexOf(e)&&(t.hidden=!1,this._g.select(`[data-line-graph-id='${n}']`).style("display","block"))}),(0,s.isUndefined)(this.chartSliderComponent)||this.chartSliderComponent.showCategory(e),this.categoryShow.emit({category:e})}categoryHideHandler(e){this._isDeselected.push(e),this.series.forEach((t,n)=>{-1!==t.name.indexOf(e)&&(t.hidden=!0,this._g.select(`[data-line-graph-id='${n}']`).style("display","none"))}),this._updateChart(this._dim,!0),(0,s.isUndefined)(this.chartSliderComponent)||this.chartSliderComponent.hideCategory(e),this.categoryHide.emit({category:e})}categoryEnter(e){if(-1===this._isDeselected.indexOf(this.series[e.id].name)){const t=this._g.select(`g[data-line-graph-id='${e.id}']`),n=t.select("path"),i=t.node().parentNode,o=n.attr("stroke");if(this._highLightColor=o,this._pathLines=i.querySelectorAll(".line-chart-lines"),this._pathLines.forEach(e=>{e.getAttribute("stroke")===o?(e.setAttribute("stroke-width","3"),this._pathLineCurrent=e):e.setAttribute("stroke-width","1")}),this.showLineCircles){this._g.select(".line-graph-circle-wrapper").node().querySelectorAll(".line-graph-circle").forEach(e=>{e.getAttribute("fill")!==o&&e.setAttribute("r","4")})}}}categoryLeave(){if(this._pathLineCurrent&&this._pathLineCurrent.setAttribute("stroke-width","2"),this._pathLines&&this._pathLines.forEach(e=>{e.classList.remove("line-graph-transition"),e.setAttribute("stroke-width","2")}),this.showLineCircles){this._g.select(".line-graph-circle-wrapper").node().querySelectorAll(".line-graph-circle").forEach(e=>{e.getAttribute("fill")!==this._highLightColor&&(e.classList.remove("line-graph-transition"),e.setAttribute("r","6"))})}}getTooltipXValueTitle(){return this.xAxis?this.xAxis.title:""}rangeChanged(e){this.sliderDomainData=e,this.rotateXAxis||this._updateXAxis(this._dim),this._updateDataLines()}scrollEnd(){this.rotateXAxis&&this._updateXAxis(this._dim)}getXAxisLineRenderer(e){return d.axisBottom(this._x).tickPadding(10).tickSize(-e.h+(this._margin.top+this._margin.bottom)).tickSizeOuter(0)}getYPosFunc(e,t){return d.scaleLinear().rangeRound([0,e.h-this._margin.bottom-this._margin.top]).domain([t[0],0])}getXPosFunc(e,t=[]){return d.scalePoint().range([0,e.w-(this._margin.left+this._margin.right)]).domain(this.xAxis.categories)}_getCustomColorById(e){const t=this.legend.customColors;return t[e%t.length]}_drawLines(e){const t=this;this._gW=e.append("g").attr("class","area-chart-data").attr("transform",`translate(${this._margin.left}, 0)`),this._line=this.getLineRenderer(),this._colors=[],this._data.forEach((e,n)=>{var i;this._colors.push((null===(i=this.legend.customColors)||void 0===i?void 0:i.length)?this._getCustomColorById(n):this._colorService.getColor(n,this.colorsPalette));const o=this._gW.append("g").attr("class","line-chart-line-g").attr("display",e.hidden?"none":"block").attr("id",this._colors[n]).attr("data-line-graph-id",n);this.drawLineForSeries(o,e,n),this.drawAreaForSeries(o,e,n),this.drawLineCircles(o,n,e).on("mouseover",function(n){t.onCircleMouseover(this,e,n)}).on("mouseout",function(){t.onCircleMouseout(this)})}),this.toggleLineCirclesVisibility(this._g,this.showLineCircles)}onCircleMouseout(e){const t=this.circleRadius;this.getCircleLine(e).attr("stroke-width","2");const n=d.select(e);this._gW.selectAll(".line-chart-lines").classed("line-graph-transition",!1).attr("stroke-width","2");const i=n.attr("fill-old");d.selectAll(".line-graph-circle-wrapper .line-graph-circle").each(function(){d.select(this).attr("fill")!==i&&d.select(this).classed("line-graph-transition",!1).attr("r",t)}),n.attr("fill",i).style("filter",null).attr("fill-old",null),this.chartComponent.hideTooltip()}onCircleMouseover(e,t,n){const i=d.select(e),o=this.getCircleLine(e),r=o.node(),s=i.attr("fill");i.attr("fill-old",s);const a=this.getCircleDarkenColor(s,o);d.selectAll(".line-chart-line-g").each(function(){d.select(this).attr("data-id")===s&&null!==this.nextElementSibling&&this.parentNode.appendChild(this)}),this._gW.selectAll(".line-chart-lines").each(function(){r===this?d.select(this).attr("stroke-width","3"):d.select(this).classed("line-graph-transition",!0).attr("stroke-width","1")}),d.selectAll(".line-graph-circle-wrapper .line-graph-circle").each(function(){d.select(this).attr("fill")!==s&&d.select(this).classed("line-graph-transition",!0).attr("r",4)}),this.showCircleTooltip(o.attr("stroke"),t,n),i.attr("r",8).style("filter","url(#drop-shadow)").attr("fill",a)}showCircleTooltip(e,t,n){this.chartComponent.showTooltip(d.event.target,this.tooltip||this.tooltipTemplate,{data:this.getTooltipData(e,t,n)})}getTooltipData(e,t,n){return{color:e,category:t.name,xValue:n.date,yValue:this.scientificMode?new(c())(n.data):n.data}}getCircleDarkenColor(e,t){return this._colorService.getDarken(e,.15,s.ColorType.HEX)}drawLineCircles(e,t,n){const i=e.append("g").attr("class","line-graph-circle-wrapper").attr("data-id",this._colors[t]).selectAll("dots").data(this.getDataForCirclesOrLines(n)).enter().append("circle").attr("r",this.circleRadius).attr("class","line-graph-circle").attr("fill",this.getCircleColor(t));return this.setCirclePosition(i)}toggleLineCirclesVisibility(e,t){e&&e.selectAll(".line-graph-circle-wrapper").style("display",t?"block":"none")}getDataForCirclesOrLines(e){return e.data}setCirclePosition(e){return e.attr("cx",e=>this._x(e.date)).attr("cy",e=>this._y(e.data))}drawLineForSeries(e,t,n){return e.append("path").datum(this.getDataForCirclesOrLines(t)).attr("clip-path",`url(#${this._id}_clip)`).attr("fill","none").attr("class","line-chart-lines").attr("stroke",this._colors[n]).attr("stroke-width","2").attr("d",this._line)}getCircleColor(e){return this._colors[e]}drawAreaForSeries(e,t,n){}getLineRenderer(){return d.line().x(e=>this._x(e.date)).y(e=>this._y(e.data))}updateLinesAreas(){}restrictXPosTicks(){}mapDataFromSeries(e){return e.map(e=>{const t=e.data.map((e,t)=>({date:this.xAxis.categories[t],data:e}));return{name:e.name,hidden:e.hidden,data:t}})}getDataYValues(e){return e.data.map(e=>e.data)}nameof(e){return e}_detectViewChanges(){this._updateChart(this._dim),s.SafeCdr.detectChanges(this._changeDetectorRef),this._ngZone.onStable.pipe((0,f.take)(1),(0,f.takeUntil)(this._destroy$)).subscribe(()=>{this._ngZone.run(()=>{this.chartComponent.redrawChart(),s.SafeCdr.detectChanges(this._changeDetectorRef)})})}_initAxis(e,t){const n=t.w-this._margin.left-this._margin.right,i=this._getTicks().reverse();this.yAxis&&this.yAxis.title&&e.append("g").attr("class","adapt-chart-axis-title").attr("transform",`rotate(-90) translate(-${(t.h-this._axisShift.bottom)/2} ${this._axisShift.left/2})`).style("opacity",this.supressAxles?0:1).append("text").text(this.yAxis.title).attr("text-anchor","middle").attr("transform",`translate(${this._axisShift.bottom/2} 0)`),this.xAxis&&this.xAxis.title&&e.append("g").attr("class","adapt-chart-axis-title adapt-chart-axis-title--x").attr("transform",`translate(${(t.w+this._axisShift.left)/2} ${t.h+this.chartComponent.chartBottomPadding})`).style("opacity",this.supressAxles?0:1).append("text").text(this.xAxis.title).attr("text-anchor","middle").attr("transform",`translate(${this._axisShift.left} 0)`),this.xAxis&&this.xAxis.categories&&(this._x=this.xBrush=this.getXPosFunc(t),this.restrictXPosTicks());const o=e.append("g").attr("class","axis axis--x");this.renderXAxis(t,o),this.rotateXAxis&&(this.chartComponent.transformAxisTitles(o,this.rotateXAxis),this.chartComponent.updateChartBottomPadding(n,e,this.xAxis,this.rotateXAxis));const r=(0,s.isUndefined)(this.yAxis.categories)?i:this.yAxis.categories.reverse();this._y=this.getYPosFunc(t,r),this.renderYAxis(e.append("g").attr("class","axis axis--y"),r,t)}renderYAxis(e,t,n){e.attr("transform",`translate(${this._margin.left}, 0)`).style("opacity",this.supressAxles?0:1).call(this.getYAxisRenderer(t,n))}getYAxisRenderer(e,t){return d.axisLeft(this._y).ticks(e).tickValues(e).tickFormat(e=>this.scientificMode?new(c())(e).toPrecision(2,2):this._cutNumber.transform(e,0)).tickSize(-t.w+(this._margin.left+this._margin.right)).tickPadding(3)}renderXAxis(e,t){t.attr("transform",`translate(${this._margin.left}, ${e.h-this._margin.top-this._margin.bottom})`).style("opacity",this.supressAxles?0:1).call(this.getXAxisLineRenderer(e))}_updateXAxis(e){if(this._x=this.getXPosFunc(e,this.showSlider&&this.slidePointsCount?this.sliderDomainData:[]),this._g){const t=this._g.select(".axis--x");t.attr("class","axis axis--x "+(this.rotateXAxis?"adapt-chart-axis__hidden":"")),this.renderXAxis(e,t),this.chartComponent.transformAxisTitles(t,this.rotateXAxis),this.chartComponent.updateChartBottomPadding(e.w-this._margin.left-this._margin.right,this._g,this.xAxis,this.rotateXAxis),t.classed("adapt-chart-axis__hidden",null),this._g.select(".adapt-chart-axis-title--x").transition().duration(this.duration).attr("transform",`translate(${(e.w+this._axisShift.left)/2} ${e.h+this.chartComponent.chartBottomPadding})`),this._g.selectAll(".adapt-chart-axis-title").style("opacity",this.supressAxles?0:1)}}_updateYAxis(e){const t=this._getTicks().reverse(),n=(0,s.isUndefined)(this.yAxis.categories)?t:this.yAxis.categories.reverse();this._y=this.getYPosFunc(e,n),this._g&&(this._g.select(".axis--y").attr("transform",`translate(${this._margin.left}, 0)`).transition().duration(this.duration).call(this.getYAxisRenderer(n,e)),this.renderYAxis(this._g.select(".axis--y").transition().duration(this.duration),n,e))}_updateAxis(e){this._updateXAxis(e),this._updateYAxis(e)}getCircleLine(e){return d.select(e.closest(".line-chart-line-g")).select(".line-chart-lines")}_updateDataLines(){this._line=this.getLineRenderer(),this._g&&(this._g.selectAll(".line-chart-lines").attr("d",this._line),this._g.selectAll(".line-graph-circle").each((e,t,n)=>{this.setCirclePosition(d.select(n[t]))})),this.toggleLineCirclesVisibility(this._g,this.showLineCircles),this.updateLinesAreas()}_initData(){this._data=this.mapDataFromSeries(this.series)}_getTicks(){let e=[];this._data.forEach(t=>{e=e.concat(this.getDataYValues(t))});let t=Math.max(...e);0===t&&(t=1),this.thresholdLine&&this.thresholdLine>t&&(t=this.thresholdLine);let n=Math.pow(10,Math.floor(Math.log10(t)))/2;const i=Math.pow(10,Math.floor(Math.log10(t)))/2;let o=Math.floor(t/n)+1;for(;o>=this._maxTicksCount;)n+=i,o=Math.floor(t/n)+1;return new Array(o).fill(0).map((e,t)=>(t+1)*n)}_initClipPath(){this._g.append("defs").append("svg:clipPath").attr("id",`${this._id}_clip`).append("svg:rect").attr("width",this._dim.w-(this._margin.left+this._margin.right)).attr("height",this._dim.h-(this._margin.top+this._margin.bottom)).attr("x",0).attr("y",0)}_clear(){this._data=[]}_updateThresholdLineArea(){const e="threshold-line-area";let t;if(this._g&&(t=this._g.select(`.${e}`)),!this.thresholdLine&&t)return void t.remove();if(null==t?void 0:t.empty()){t=this._g.append("g").attr("class",e),t.append("rect").attr("class","threshold-area-rect").attr("x",0).attr("y",0).attr("fill","#000000").attr("style","pointer-events: none; opacity: .1;");const n=t.append("defs");n.append("marker").attr("class","threshold-line-marker").attr("id",`${this._id}-marker-start`).attr("viewBox","0 0 6 8").attr("markerWidth",6).attr("markerHeight",8).attr("refX",5).attr("refY",4).attr("orient","auto").append("path").attr("d","M 0 0 L 6 4 L 0 8 z"),n.append("marker").attr("class","threshold-line-marker").attr("id",`${this._id}-marker-end`).attr("viewBox","0 0 6 8").attr("markerWidth",6).attr("markerHeight",8).attr("refX",1).attr("refY",4).attr("orient","auto").append("path").attr("d","M 0 4 L 6 0 L 6 8 z"),t.append("line").attr("class","threshold-line").attr("stroke-width",1).attr("marker-start",`url(#${this._id}-marker-start)`).attr("marker-end",`url(#${this._id}-marker-end)`),t.append("text").attr("class","threshold-line-title-background"),t.append("text").attr("class","threshold-line-title")}const n=this._getTicks().pop(),i=this._dim.w-this._margin.left-this._margin.right,o=this._dim.h-this._margin.top-this._margin.bottom,r=o-o/n*this.thresholdLine;t&&(t.select("rect.threshold-area-rect").transition().duration(this.duration).attr("transform",`translate(${this._margin.left}, 0)`).attr("width",i).attr("height",r),t.select("line.threshold-line").transition().duration(this.duration).attr("x1",this._margin.left).attr("x2",this._dim.w).attr("y1",r).attr("y2",r),t.select("text.threshold-line-title-background").transition().duration(this.duration).attr("x",this._margin.left-8).attr("y",r).attr("text-anchor","end").attr("dy",".32em").text(this.scientificMode?new(c())(this.thresholdLine).toPrecision(2,2):this.thresholdLine),t.select("text.threshold-line-title").transition().duration(this.duration).attr("x",this._margin.left-8).attr("y",r).attr("text-anchor","end").attr("dy",".32em").text(this.scientificMode?new(c())(this.thresholdLine).toPrecision(2,2):this.thresholdLine)),d.selectAll("g.tick").filter(e=>e===this.thresholdLine).remove()}_drawDropShadow(){const e=this._g.append("defs").append("filter").attr("id","drop-shadow").attr("x","-50%").attr("y","-50%").attr("width","180%").attr("height","180%").attr("filterUnits","userSpaceOnUse");e.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",3),e.append("feOffset").attr("dx",0).attr("dy",1).attr("result","offsetBlur"),e.append("feOffset").attr("dx",0).attr("dy",2).attr("result","offsetBlur"),e.append("feColorMatrix").attr("type","matrix").attr("values","0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.22 0");const t=e.append("feMerge");t.append("feMergeNode"),t.append("feMergeNode").attr("in","SourceGraphic"),t.append("feMergeNode").attr("in","SourceGraphic")}}function tt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"adapt-area-graph-slider",3),r["\u0275\u0275listener"]("rangeChanged",function(t){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"]().rangeChanged(t)})("scrollEnd",function(){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"]().scrollEnd()}),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("data",e.sliderData)("xAxis",e.xAxis)("slidePointsCount",e.slidePointsCount)("customColors",null==e.legend?null:e.legend.customColors)("xBrush",e.xBrush)("leftShift",e.leftShift)("containerWidth",e.chartWidth)}}function nt(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n  "),r["\u0275\u0275elementStart"](1,"div",4),r["\u0275\u0275text"](2,"\n    "),r["\u0275\u0275elementStart"](3,"div",5),r["\u0275\u0275text"](4,"\n      "),r["\u0275\u0275element"](5,"span",6),r["\u0275\u0275text"](6,"\n      "),r["\u0275\u0275elementStart"](7,"span",7),r["\u0275\u0275text"](8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](9,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](10,"\n    "),r["\u0275\u0275elementStart"](11,"div"),r["\u0275\u0275text"](12),r["\u0275\u0275elementStart"](13,"span"),r["\u0275\u0275elementStart"](14,"b"),r["\u0275\u0275text"](15),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](16,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](17,"\n\n    "),r["\u0275\u0275elementStart"](18,"div"),r["\u0275\u0275text"](19),r["\u0275\u0275elementStart"](20,"span"),r["\u0275\u0275elementStart"](21,"b"),r["\u0275\u0275text"](22),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](23,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](24,"\n  "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](25,"\n")),2&e){const e=t.data,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](5),r["\u0275\u0275styleProp"]("background",null==e?null:e.color),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.category),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"]("\n      ",n.getTooltipXValueTitle(),":\n      "),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.xValue),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"]("\n      ",null==n.yAxis?null:n.yAxis.title,":\n      "),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.yValue)}}et.\u0275fac=function(e){return new(e||et)(r["\u0275\u0275directiveInject"](Se),r["\u0275\u0275directiveInject"](s.AdaptDeviceDetectionService),r["\u0275\u0275directiveInject"](B),r["\u0275\u0275directiveInject"](r.NgZone),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef))},et.\u0275cmp=r["\u0275\u0275defineComponent"]({type:et,selectors:[["adapt-line-graph"]],viewQuery:function(e,t){if(1&e&&(r["\u0275\u0275viewQuery"](Qe,7),r["\u0275\u0275viewQuery"](Ce,7),r["\u0275\u0275viewQuery"](te,5)),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.chartComponent=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.chartSliderComponent=e.first)}},inputs:{backgroundColor:"backgroundColor",width:"width",height:"height",header:"header",colorsPalette:"colorsPalette",supressAxles:"supressAxles",noDataText:"noDataText",xAxis:"xAxis",yAxis:"yAxis",suppressHeader:"suppressHeader",suppressLegend:"suppressLegend",tooltip:"tooltip",dataBuilder:"dataBuilder",updateChart:"updateChart",showLineCircles:"showLineCircles",rotateXAxis:"rotateXAxis",showSlider:"showSlider",slidePointsCount:"slidePointsCount",disallowPadding:"disallowPadding",scientificMode:"scientificMode",thresholdLine:"thresholdLine",legend:"legend",series:"series"},outputs:{clickChart:"clickChart",categoryShow:"categoryShow",categoryHide:"categoryHide"},features:[r["\u0275\u0275ProvidersFeature"]([Se]),r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]],decls:8,vars:14,consts:[[3,"width","height","legend","data","backgroundColor","suppressHeader","suppressLegend","tooltip","header","noDataText","updateChart","dataBuilder","colorsPalette","categoryShow","categoryHide","categoryEnter","categoryLeave"],[3,"data","xAxis","slidePointsCount","customColors","xBrush","leftShift","containerWidth","rangeChanged","scrollEnd",4,"ngIf"],["tooltipTpl",""],[3,"data","xAxis","slidePointsCount","customColors","xBrush","leftShift","containerWidth","rangeChanged","scrollEnd"],[1,"chart-tooltip-content-container"],[1,"chart-tooltip-content-wrapper"],[1,"chart-tooltip-color-spot"],[1,"chart-tooltip-category"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"adapt-chart",0),r["\u0275\u0275listener"]("categoryShow",function(e){return t.categoryShowHandler(e)})("categoryHide",function(e){return t.categoryHideHandler(e)})("categoryEnter",function(e){return t.categoryEnter(e)})("categoryLeave",function(){return t.categoryLeave()}),r["\u0275\u0275text"](1,"\n  "),r["\u0275\u0275template"](2,Ze,1,7,"adapt-area-graph-slider",1),r["\u0275\u0275text"](3,"\n"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](4,"\n\n"),r["\u0275\u0275template"](5,Ke,26,7,"ng-template",null,2,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275text"](7,"\n")),2&e&&(r["\u0275\u0275property"]("width",t.width)("height",t.height)("legend",t.legend)("data",t.series)("backgroundColor",t.backgroundColor)("suppressHeader",t.suppressHeader)("suppressLegend",t.suppressLegend)("tooltip",t.tooltip)("header",t.header)("noDataText",t.noDataText)("updateChart",t._updateChartBind)("dataBuilder",t._dataBuilderBind)("colorsPalette",t.colorsPalette),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.showSlider&&t.slidePointsCount&&t.chartWidth))},directives:[Ce,v.NgIf,te],encapsulation:2});let it=1;class ot extends et{constructor(){super(...arguments),this._data=[],this._series=[],this.circleRadius=4,this.areaOpacity=.25,this.areaOpacityForHovered=.75,this.categoryShow=new r.EventEmitter,this.categoryHide=new r.EventEmitter}getTooltipXValueTitle(){return"x"}ngOnInit(){super.ngOnInit(),this._id="area-graph-"+it++}ngAfterViewInit(){(0,u.timer)(0,u.asapScheduler).pipe((0,f.takeUntil)(this._destroy$)).subscribe(()=>{this._detectViewChanges()})}getXMaxValue(e){let t=e[0].xyPointData[0].x;return e.forEach(e=>{const n=e.xyPointData[e.xyPointData.length-1].x;n>t&&(t=n)}),t}getXMinValue(e){let t=e[0].xyPointData[0].x;return e.forEach(e=>{const n=e.xyPointData[0].x;n<t&&(t=n)}),t}getCircleColor(){return"transparent"}getLineRenderer(){return d.line().x(e=>this._xPos(e.x)).y(e=>this._y(e.y))}getXPosFunc(e,t=[]){const[n,i]=t;return d.scaleLinear().range([0,e.w-(this._margin.left+this._margin.right)]).domain([n||this.getXMinValue(this._data),i||this.getXMaxValue(this._data)])}getYPosFunc(e,t){return d.scaleLinear().range([0,e.h-this._margin.bottom-this._margin.top]).domain([t[0],0])}getXAxisLineRenderer(e){var t;const n=super.getXAxisLineRenderer(e),i=[...this.xAxis.categories];if(i&&i.length){const e=this.getXMaxValue(this._data),o=this.getXMinValue(this._data),r=(e-o)/(i.length-1);let s=i.map((e,t)=>o+r*t);if(this.showSlider&&(null===(t=this.sliderDomainData)||void 0===t?void 0:t.length)){const[e,t]=this.sliderDomainData;s=s.filter((n,o)=>{if((0,a.inRange)(n,e,t))return!0;i[o]=null})}return n.tickValues(s).tickFormat((e,t)=>i.filter(e=>!!e)[t])}return this.showSlider&&this.slidePointsCount&&n.ticks(this.slidePointsCount),this.formatXAxisValue?n.tickFormat(this.formatXAxisValue):n}mapDataFromSeries(e){return e.map(e=>({name:e.name,hidden:e.hidden,data:e.data,xyPointData:e.data}))}drawAreaForSeries(e,t,n){e.append("path").datum(t.xyPointData).classed("line-graph-transition line-chart-area",!0).attr("clip-path",`url(#${this._id}_clip)`).attr("fill",this._colors[n]).attr("fill-opacity",this.areaOpacity).attr("stroke","none").attr("d",this.getAreaFilling()).on("mouseover",(e,t,n)=>{this.fillAreaDarkerColor(n[t])}).on("mouseout",(e,t,n)=>{this.fillAreaDefaultColor(n[t])})}onCircleMouseover(e,t,n){super.onCircleMouseover(e,t,n),this.fillAreaDarkerColor(d.select(e.closest(".line-chart-line-g")).select(".line-chart-area").node())}onCircleMouseout(e){super.onCircleMouseout(e),this.fillAreaDefaultColor(d.select(e.closest(".line-chart-line-g")).select(".line-chart-area").node())}getCircleDarkenColor(e,t){return this._colorService.getDarken(t.attr("stroke"),.15,s.ColorType.HEX)}getDataForCirclesOrLines(e){return e.xyPointData}setCirclePosition(e){return e.attr("cx",e=>this._xPos(e.x)).attr("cy",e=>this._y(e.y))}updateLinesAreas(){this._g.selectAll(".line-chart-area").each((e,t,n)=>{d.select(n[t]).attr("d",this.getAreaFilling())})}restrictXPosTicks(){const e=this._x.ticks();this.showSlider&&this.slidePointsCount&&(this._x=d.scaleLinear().range([0,this._dim.w-(this._margin.left+this._margin.right)]).domain([e[0],e[this.slidePointsCount]]))}getTooltipData(e,t,n){return{color:e,category:t.name,xValue:n.x,yValue:this.scientificMode?new(c())(n.y).toPrecision(2,2):n.y}}getDataYValues(e){return e.xyPointData.map(e=>e.y)}get _xPos(){return this._x}getAreaFilling(){return d.area().x(e=>this._xPos(e.x)).y0(this._y(0)).y1(e=>this._y(e.y))}fillAreaDarkerColor(e){d.select(e).attr("fill-opacity",this.areaOpacityForHovered)}fillAreaDefaultColor(e){d.select(e).attr("fill-opacity",this.areaOpacity)}}ot.\u0275fac=function(){let e;return function(t){return(e||(e=r["\u0275\u0275getInheritedFactory"](ot)))(t||ot)}}(),ot.\u0275cmp=r["\u0275\u0275defineComponent"]({type:ot,selectors:[["adapt-area-graph"]],inputs:{formatXAxisValue:"formatXAxisValue",getTooltipXValueTitle:"getTooltipXValueTitle"},outputs:{categoryShow:"categoryShow",categoryHide:"categoryHide"},features:[r["\u0275\u0275ProvidersFeature"]([Se]),r["\u0275\u0275InheritDefinitionFeature"]],decls:8,vars:14,consts:[[3,"width","height","legend","data","backgroundColor","suppressHeader","suppressLegend","tooltip","header","noDataText","updateChart","dataBuilder","colorsPalette","categoryShow","categoryHide","categoryEnter","categoryLeave"],[3,"data","xAxis","slidePointsCount","customColors","xBrush","leftShift","containerWidth","rangeChanged","scrollEnd",4,"ngIf"],["tooltipTpl",""],[3,"data","xAxis","slidePointsCount","customColors","xBrush","leftShift","containerWidth","rangeChanged","scrollEnd"],[1,"chart-tooltip-content-container"],[1,"chart-tooltip-content-wrapper"],[1,"chart-tooltip-color-spot"],[1,"chart-tooltip-category"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"adapt-chart",0),r["\u0275\u0275listener"]("categoryShow",function(e){return t.categoryShowHandler(e)})("categoryHide",function(e){return t.categoryHideHandler(e)})("categoryEnter",function(e){return t.categoryEnter(e)})("categoryLeave",function(){return t.categoryLeave()}),r["\u0275\u0275text"](1,"\n  "),r["\u0275\u0275template"](2,tt,1,7,"adapt-area-graph-slider",1),r["\u0275\u0275text"](3,"\n"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](4,"\n\n"),r["\u0275\u0275template"](5,nt,26,7,"ng-template",null,2,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275text"](7,"\n")),2&e&&(r["\u0275\u0275property"]("width",t.width)("height",t.height)("legend",t.legend)("data",t.series)("backgroundColor",t.backgroundColor)("suppressHeader",t.suppressHeader)("suppressLegend",t.suppressLegend)("tooltip",t.tooltip)("header",t.header)("noDataText",t.noDataText)("updateChart",t._updateChartBind)("dataBuilder",t._dataBuilderBind)("colorsPalette",t.colorsPalette),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.showSlider&&t.slidePointsCount&&t.chartWidth))},directives:[Ce,v.NgIf,te],encapsulation:2});class rt extends _{}rt.\u0275fac=function(){let e;return function(t){return(e||(e=r["\u0275\u0275getInheritedFactory"](rt)))(t||rt)}}(),rt.\u0275dir=r["\u0275\u0275defineDirective"]({type:rt,inputs:{innerRadius:"innerRadius",series:"series"},features:[r["\u0275\u0275InheritDefinitionFeature"]]});const st=["chart"],at=["tooltipTpl"];function lt(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n      "),r["\u0275\u0275elementStart"](1,"div",3),r["\u0275\u0275text"](2,"\n        "),r["\u0275\u0275element"](3,"span",4),r["\u0275\u0275text"](4,"\n        "),r["\u0275\u0275elementStart"](5,"span",5),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](7,"\n        "),r["\u0275\u0275elementStart"](8,"b"),r["\u0275\u0275text"](9,"\n          "),r["\u0275\u0275elementStart"](10,"span"),r["\u0275\u0275text"](11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](12,"\n          "),r["\u0275\u0275elementStart"](13,"span"),r["\u0275\u0275text"](14),r["\u0275\u0275pipe"](15,"percent"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](16,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](17,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](18,"\n    ")),2&e){const e=t.data;r["\u0275\u0275advance"](3),r["\u0275\u0275styleProp"]("background-color",e.color),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.category),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate"](e.value),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"]("(",r["\u0275\u0275pipeBind1"](15,5,e.value/e.total),")")}}class ct extends rt{constructor(e){super(),this._colorService=e,this.$this=this,this.showLegendTooltip=!1,this.clickChart=new r.EventEmitter,this.categoryShow=new r.EventEmitter,this.categoryHide=new r.EventEmitter,this.alreadyChanged=!1,this._dataBuilder=(function(e,t){this._clear(),this._g=e,this._dim=t,this._renderChart()}).bind(this),this._updateChart=(function(){const e=this,t=this._pie(this._data),n=this.series.map(e=>({name:e.name,y:-1===this._filter.indexOf(e.name)?e.y:0}));this.total=n.reduce((e,t)=>e+=t.y,0),this._initData(),this._path=this._path.data(this._pie(this._data)),this._path.transition().duration(this.duration).attrTween("d",function(n,i){const o=d.interpolate(t[i].startAngle,n.startAngle),r=d.interpolate(t[i].endAngle,n.endAngle);return function(t){return n.startAngle=o(t),n.endAngle=r(t),e._arc(n)}}),this.innerRadius>1&&this._g.selectAll(".adapt-pie-chart-main-label-sum").text(`${this.total}`)}).bind(this),this.donutProportion=.64,this._filter=[],this._cls={arc:"arc",arcPart:"arc-part",segment:"arc-segment",sectorIdentifier:"adapt-pie-chart-sector",summary:"adapt-pie-chart-summary",summaryLabel:"adapt-pie-chart-main-label",summaryText:"adapt-pie-chart-main-label-sum"},this._legend={columns:1,activeHover:!0,activeClick:!0,width:250,customColors:null,items:[]},this._series=[],this._legendTooltipPoint={x:0,y:0}}set series(e){if(this._series=e,e&&this._updateFilter(e),this.alreadyChanged){const e=this.chartComponent.getGroupAndDimensions();this._g=e.group,this._dim={w:e.w,h:e.h}}this._g&&this._dim&&this.chartComponent&&this.chartComponent.updateLegend(this.series.map(e=>({item:e.name,hidden:!!e.hidden,hover:!1})))}get series(){return this._series}set legend(e){this._legend=Object.assign(this._legend,e)}get legend(){return{customColors:this._legend.customColors,activeHover:this._legend.activeHover,activeClick:this._legend.activeClick,columns:this._legend.columns,width:this._legend.width,items:this.series&&this.series.map(e=>({item:e.name,hidden:!!e.hidden}))}}get duration(){return 1e3*parseFloat(s.ANIMATION_DURATION.fast)}ngOnInit(){this.header&&(this.header.allowHideLegend=!1)}ngOnChanges(){this.alreadyChanged&&this._g&&this._dim&&(this._data=[],this._updateFilter(this.series),this._clear(),this._renderChart(),this._updateChart()),this.alreadyChanged=!0}categoryEnter(e){const t=this._g.select(`#adapt-pie-chart-sector-${e.id}`),n=t.attr("fill"),i=this._colorService.getDarken(n,.15,s.ColorType.HEX);if(this._initialColor=n,t.attr("fill",i),this.showLegendTooltip){this._legendTooltipPoint.x=e.event.clientX,this._legendTooltipPoint.y=e.event.clientY;const t=e.id,n=this.tooltip||this.tooltipTemplate,i=this.series.map(e=>({name:e.name,y:-1===this._filter.indexOf(e.name)?e.y:0}));this.chartComponent.showTooltip(this._legendTooltipPoint,n,{data:{color:this._legend.customColors?this._getCustomColorById(t):this._colorService.getColor(t),category:i[t].name,value:this.series[t].y,total:this.total,data:this.series[t],event:e.event}})}}categoryLeave(e){this._g.select(`#adapt-pie-chart-sector-${e.id}`).attr("fill",this._initialColor),this.showLegendTooltip&&this.chartComponent.hideTooltip()}categoryMove(e){this._legendTooltipPoint.x=e.event.clientX,this._legendTooltipPoint.y=e.event.clientY,this.chartComponent.updateTooltip()}categoryShowHandler(e){const t=this._filter.indexOf(e);-1!==t&&(this._filter.splice(t,1),this._updateChart()),this.categoryShow.emit({category:e})}categoryHideHandler(e){this._filter.push(e),this._updateChart(),this.categoryHide.emit({category:e})}clickChartArea(e){var t;const n=e.target;if(n.classList.contains(this._cls.segment)){const i=(null===(t=n.parentNode)||void 0===t?void 0:t.getAttribute("id")).split("-").reverse()[0],o=this.series.reduce((e,t)=>e+t.y,0),r=d.select(n.parentNode).attr("fill");this.clickChart.emit({event:e,data:this.series[i],color:r,category:this.series[i].name,value:this.series[i].y,total:o})}}_renderChart(){this._initData(),this.innerRadius>0&&this._addSummary(),this._createColor(),this._createPie(),this._createDataChart()}_initData(){this._data=this.series.map(e=>-1===this._filter.indexOf(e.name)?e.y:0)}_createColor(){this._colors=this._data.map((e,t)=>this._legend.customColors?this._getCustomColorById(t):this._colorService.getColor(t)),this._radius=Math.min(this._dim.w,this._dim.h)/2,this._g.attr("transform",`translate(${this._radius} ${this._radius})`),this._arc=d.arc().innerRadius(this._getInnerRadius()).outerRadius(this._radius)}_createPie(){this._pie=d.pie().sort(null)}_createDataChart(){const e=this,t=this.tooltip||this.tooltipTemplate,n=this.series.map(e=>({name:e.name,y:-1===this._filter.indexOf(e.name)?e.y:0})),i=this._g.selectAll(`.${this._cls.arc}`).data(this._pie(this._data)).enter().each(e=>{e.outerRadius=this._radius}).append("g").attr("class",this._cls.arcPart).attr("id",(e,t)=>`${this._cls.sectorIdentifier}-${t}`).attr("fill",(e,t)=>this._colors[t]);this.total=n.reduce((e,t)=>e+=t.y,0),this._path=i.append("path").attr("class",this._cls.segment).attr("d",this._arc);const o={x:0,y:0};this._path.on("mouseenter",i=>{const{clientX:r,clientY:s}=d.event,{index:a,value:l}=i;o.x=r,o.y=s,this.chartComponent.showTooltip(o,t,{data:{color:e._legend.customColors?e._getCustomColorById(a):e._colorService.getColor(a),category:n[a].name,value:l,total:this.total,data:e.series[a],event:d.event}})}),this._path.on("mousemove",()=>{const{clientX:e,clientY:t}=d.event;o.x=e,o.y=t,this.chartComponent.updateTooltip()}),i.on("mouseenter",function(){e._initialColor=d.select(this).attr("fill"),d.select(this).attr("fill",e._colorService.getDarken(e._initialColor,.15,s.ColorType.HEX))}).on("mouseout",function(){e.chartComponent.hideTooltip(),d.select(this).attr("fill",e._initialColor)})}_getInnerRadius(){const e=this._radius*(1+this.donutProportion)/2;let t=this._radius*(1-2*(1-this.donutProportion)),n=0;if(this.innerRadius>0){const e=this._g.select(`.${this._cls.summary}`).node(),n=e?e.getBoundingClientRect().width:0;t=Math.floor(n/2)+15}return(!(0,s.isUndefined)(this.innerRadius)||this.innerRadius>0)&&(n=this.innerRadius,n=n<t?t:n,n=n>e?e:n),n}_clear(){this._g&&this._g.selectAll("*").remove()}_addSummary(){const e=this.series.map(e=>({name:e.name,y:-1===this._filter.indexOf(e.name)?e.y:0})),t=this._g.append("text").attr("class",this._cls.summary);this.total=e.reduce((e,t)=>e+=t.y,0),t.append("tspan").attr("text-anchor","middle").attr("x",0).attr("y","-.4em").attr("class",this._cls.summaryLabel).text("Total"),t.append("tspan").attr("text-anchor","middle").attr("x",0).attr("y",".8em").attr("class",this._cls.summaryText).text(`${this.total}`)}_getCustomColorById(e){const t=this._legend.customColors;return t[e%t.length]}_updateFilter(e){this._filter=[],e.forEach(e=>{e.hidden&&this._filter.push(e.name)})}}ct.\u0275fac=function(e){return new(e||ct)(r["\u0275\u0275directiveInject"](B))},ct.\u0275cmp=r["\u0275\u0275defineComponent"]({type:ct,selectors:[["adapt-pie-chart"]],viewQuery:function(e,t){if(1&e&&(r["\u0275\u0275viewQuery"](Ce,7),r["\u0275\u0275viewQuery"](st,7),r["\u0275\u0275viewQuery"](at,7)),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.chartComponent=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.chart=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first)}},inputs:{backgroundColor:"backgroundColor",width:"width",height:"height",header:"header",suppressHeader:"suppressHeader",suppressLegend:"suppressLegend",tooltip:"tooltip",dataBuilder:"dataBuilder",innerRadius:"innerRadius",showLegendTooltip:"showLegendTooltip",series:"series",legend:"legend"},outputs:{clickChart:"clickChart",categoryShow:"categoryShow",categoryHide:"categoryHide"},features:[r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]],decls:7,vars:12,consts:[[3,"width","height","header","legend","data","backgroundColor","suppressHeader","suppressLegend","tooltip","noDataText","updateChart","dataBuilder","categoryEnter","categoryLeave","categoryMove","categoryShow","categoryHide","clickChart"],["chart",""],["tooltipTpl",""],[1,"adapt-pie-chart-tooltip"],[1,"adapt-pie-chart-tooltip__color"],[1,"adapt-pie-chart-tooltip__category"]],template:function(e,t){1&e&&(r["\u0275\u0275text"](0,"\n    "),r["\u0275\u0275elementStart"](1,"adapt-chart",0,1),r["\u0275\u0275listener"]("categoryEnter",function(e){return t.categoryEnter(e)})("categoryLeave",function(e){return t.categoryLeave(e)})("categoryMove",function(e){return t.categoryMove(e)})("categoryShow",function(e){return t.categoryShowHandler(e)})("categoryHide",function(e){return t.categoryHideHandler(e)})("clickChart",function(e){return t.clickChartArea(e)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](3,"\n\n    "),r["\u0275\u0275template"](4,lt,19,7,"ng-template",null,2,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275text"](6,"\n  ")),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("width",t.$this.width)("height",t.$this.height)("header",t.$this.header)("legend",t.$this.legend)("data",t.series)("backgroundColor",t.$this.backgroundColor)("suppressHeader",t.$this.suppressHeader)("suppressLegend",t.$this.suppressLegend)("tooltip",t.$this.tooltip)("noDataText",t.noDataText)("updateChart",t._updateChart)("dataBuilder",t._dataBuilder))},directives:[Ce],pipes:[v.PercentPipe],encapsulation:2});class dt extends _{}dt.\u0275fac=function(){let e;return function(t){return(e||(e=r["\u0275\u0275getInheritedFactory"](dt)))(t||dt)}}(),dt.\u0275dir=r["\u0275\u0275defineDirective"]({type:dt,inputs:{xAxis:"xAxis",yAxis:"yAxis",series:"series",hideAxises:"hideAxises"},features:[r["\u0275\u0275InheritDefinitionFeature"]]});const ut=["tooltipTpl"];function pt(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n  "),r["\u0275\u0275elementStart"](1,"div",2),r["\u0275\u0275text"](2,"\n    "),r["\u0275\u0275elementStart"](3,"div",3),r["\u0275\u0275text"](4,"\n      "),r["\u0275\u0275element"](5,"span",4),r["\u0275\u0275text"](6,"\n      "),r["\u0275\u0275elementStart"](7,"span",5),r["\u0275\u0275text"](8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](9,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](10,"\n    "),r["\u0275\u0275elementStart"](11,"div"),r["\u0275\u0275text"](12),r["\u0275\u0275elementStart"](13,"span"),r["\u0275\u0275elementStart"](14,"b"),r["\u0275\u0275text"](15),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](16,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](17,"\n\n    "),r["\u0275\u0275elementStart"](18,"div"),r["\u0275\u0275text"](19),r["\u0275\u0275elementStart"](20,"span"),r["\u0275\u0275elementStart"](21,"b"),r["\u0275\u0275text"](22),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](23,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](24,"\n  "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](25,"\n")),2&e){const e=t.data,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](5),r["\u0275\u0275styleProp"]("background",null==e?null:e.color),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](null==e?null:e.category),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"]("\n      ",null==n.xAxis?null:n.xAxis.title,":\n      "),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.xValue),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"]("\n      ",null==n.yAxis?null:n.yAxis.title,":\n      "),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.yValue)}}class ht extends dt{constructor(e,t,n){super(),this._cutNumber=e,this._deviceDetectionService=t,this._colorService=n,this.alreadyChanged=!1,this.scientificMode=!1,this.clickChart=new r.EventEmitter,this.categoryShow=new r.EventEmitter,this.categoryHide=new r.EventEmitter,this._series=[],this._margin={top:0,right:0,bottom:25,left:30},this._colors=[],this._axisShift={top:0,right:0,bottom:25,left:25},this._axisScientificLeftShift=60,this._generatedData=[],this._isDeselected=[],this._legend={columns:1,activeHover:!0,activeClick:!0,width:250,customColors:null,items:[]},this._updateChart=e=>{this._updatedScatterChart(e)},this._dataBuilder=(e,t)=>{this._g=e,this._dim=t,this._initAxis(e,t),this._drawLines(e),this._drawDropShadow()}}set series(e){if(this._series=e,this._isDeselected=[],e.forEach(e=>{e.hidden&&this._isDeselected.push(e.name)}),this.alreadyChanged){const e=this.chartComponent.getGroupAndDimensions();this._g=e.group,this._dim={w:e.w,h:e.h}}this._g&&this._dim&&this.chartComponent&&this.chartComponent.updateLegend(this.series.map(e=>e.name))}get series(){return this._series}set legend(e){this._legend=Object.assign(this._legend,e),this.alreadyChanged&&this.chartComponent.redrawChart()}get legend(){return{customColors:this._legend.customColors,activeHover:this._legend.activeHover,activeClick:this._legend.activeClick,columns:this._legend.columns,width:this._legend.width,items:this.series&&this.series.map(e=>({item:e.name,hidden:!!e.hidden}))}}get duration(){return 1e3*parseFloat(s.ANIMATION_DURATION.fast)}get axisShiftLeft(){return this.scientificMode?this._axisScientificLeftShift:this._axisShift.left}ngOnInit(){this.isMobile()&&(this._margin.left=40),this.xAxis&&this.xAxis.title&&(this._margin.bottom+=this._axisShift.bottom),this.yAxis&&this.yAxis.title&&(this._margin.left+=this.axisShiftLeft),this.alreadyChanged=!0}isMobile(){return this._deviceDetectionService.deviceMobile()||this._deviceDetectionService.deviceTablet()}categoryShowHandler(e){const t=this._isDeselected.indexOf(e);-1!==t&&this._isDeselected.splice(t,1),this._updatedScatterChart(this._dim),this.series.forEach((t,n)=>{-1!==t.name.indexOf(e)&&(t.hidden=!1,this._g.select(`[data-line-graph-id='${n}']`).style("transition","all .3s ease").style("opacity","1").style("visibility","visible").attr("data-disabled","false"))}),this.categoryShow.emit({category:e})}categoryHideHandler(e){const t=this;this._isDeselected.push(e),this.series.forEach((t,n)=>{-1!==t.name.indexOf(e)&&(t.hidden=!0,this._g.select(`[data-line-graph-id='${n}']`).style("transition","all .3s ease").style("opacity","0").style("visibility","hidden"))}),d.selectAll(".scatter-regression-line").each(function(){d.select(this).attr("id")===t._highLightColor&&(t._regLine=d.select(this),t._regLine.style("visibility","hidden").style("opacity","0"))}),this._updatedScatterChart(this._dim),this.categoryHide.emit({category:e})}categoryEnter(e){const t=this;if(-1===this._isDeselected.indexOf(this.series[e.id].name)){const n=this._g.select(`[data-line-graph-id='${e.id}']  .scatter-plot-circle`).attr("fill"),i=t._colorService.getDarken(n,.22,s.ColorType.HEX);this._highLightColor=n,d.selectAll(".scatter-plot-circle-wrapper .scatter-plot-circle").each(function(){d.select(this).attr("fill").toLowerCase().trim()!==n.toLowerCase().trim()&&d.select(this).classed("scatter-transition",!0).attr("r",3.5)}),d.selectAll(".scatter-chart-line-g").each(function(){d.select(this).attr("id").toLowerCase().trim()===n.toLowerCase().trim()&&null!==this.nextElementSibling&&this.parentNode.appendChild(this)}),d.selectAll(".scatter-regression-line").each(function(){d.select(this).attr("id").toLowerCase().trim()===n.toLowerCase().trim()&&(t._regLine=d.select(this),t._regLine.style("visibility","visible").attr("stroke",i).style("opacity","1"))})}}categoryLeave(){const e=this;d.selectAll(".scatter-plot-circle-wrapper .scatter-plot-circle").each(function(){var t;d.select(this).attr("fill").toLowerCase().trim()!==(null===(t=e._highLightColor)||void 0===t?void 0:t.toLowerCase().trim())&&d.select(this).classed("scatter-transition",!1).attr("r",5)}),this._regLine&&this._regLine.attr("stroke",this._highLightColor).style("visibility","hidden").style("opacity","0")}_getCustomColorById(e){const t=this.legend.customColors;return t[e%t.length]}_updatedScatterChart(e){this._generatedData=[],this._updateAxis(e),this._updateDataLines()}_initAxis(e,t){if(this._generatedData=[],this.series){this.series.forEach(e=>e.data.map(e=>this._generatedData.push({data1:e[0],data2:e[1]}))),this.yAxis&&this.yAxis.title&&e.append("g").attr("class","adapt-chart-axis-title").attr("transform",`rotate(-90) translate(-${(t.h-this._axisShift.bottom)/2} ${this.axisShiftLeft/4})`).append("text").text(this.yAxis.title).attr("text-anchor","middle").attr("transform",`translate(${this._axisShift.bottom/2} 0)`),this.xAxis&&this.xAxis.title&&e.append("g").attr("class","adapt-chart-axis-title adapt-chart-axis-title--x").attr("transform",`translate(${(t.w+this.axisShiftLeft)/2} ${t.h})`).append("text").text(this.xAxis.title).attr("text-anchor","middle").attr("transform",`translate(${this.axisShiftLeft} 0)`),this._x=d.scaleLinear().domain([d.min(this._generatedData,e=>e.data1),d.max(this._generatedData,e=>e.data1)]).range([0,t.w-(this._margin.left+this._margin.right)]),this._y=d.scaleLinear().domain([d.min(this._generatedData,e=>e.data2),d.max(this._generatedData,e=>e.data2)]).range([t.h-this._margin.top-this._margin.bottom,0]),e.append("g").attr("class","axis axis--y").attr("transform",`translate(${this._margin.left}, 0)`).transition().duration(this.duration).call(d.axisLeft(this._y).ticks(7).tickPadding(10).tickFormat(e=>this._getTickFormatForNumber(e)).tickSize(-t.w+(this._margin.left+this._margin.right)).tickSizeOuter(0)),e.append("g").attr("class","axis axis--x").attr("transform",`translate(${this._margin.left}, ${t.h-this._margin.top-this._margin.bottom})`).transition().duration(this.duration).call(d.axisBottom(this._x).tickPadding(10).tickFormat(e=>this._getTickFormatForNumber(e)).tickSize(-t.h+(this._margin.top+this._margin.bottom)).tickSizeOuter(0));const n=this._generatedData.map(e=>e.data1),i=this._generatedData.map(e=>e.data2),o=this._leastSquaresequation(n,i);this._line=d.line().x(e=>this._x(e.data1)).y(e=>this._y(o(e.data1)))}}_updateAxis(e){this.series.forEach(e=>e.data.map(t=>{if(-1===this._isDeselected.indexOf(e.name))return this._generatedData.push({data1:t[0],data2:t[1]})})),this._g.select(".adapt-chart-axis-title--x").transition().duration(this.duration).attr("transform",`translate(${(e.w+this.axisShiftLeft)/2} ${e.h})`),this._x=d.scaleLinear().domain([d.min(this._generatedData,e=>e.data1),d.max(this._generatedData,e=>e.data1)]).range([0,e.w-(this._margin.left+this._margin.right)]),this._g.select(".axis--x").transition().duration(this.duration).attr("transform",`translate(${this._margin.left}, ${e.h-this._margin.top-this._margin.bottom})`).call(d.axisBottom(this._x).tickPadding(10).tickFormat(e=>this._getTickFormatForNumber(e)).tickSize(-e.h+(this._margin.top+this._margin.bottom)).tickSizeOuter(0)),this._y=d.scaleLinear().domain([d.min(this._generatedData,e=>e.data2),d.max(this._generatedData,e=>e.data2)]).range([e.h-this._margin.top-this._margin.bottom,0]),this._g.select(".axis--y").transition().duration(this.duration).attr("transform",`translate(${this._margin.left}, 0)`).call(d.axisLeft(this._y).ticks(7).tickPadding(10).tickFormat(e=>this._getTickFormatForNumber(e)).tickSize(-e.w+(this._margin.left+this._margin.right)).tickSizeOuter(0));const t=this._generatedData.map(e=>e.data1),n=this._generatedData.map(e=>e.data2),i=this._leastSquaresequation(t,n);this._line=d.line().x(e=>this._x(e.data1)).y(e=>this._y(i(e.data1)))}_updateDataLines(){this._g.selectAll(".scatter-plot-circle").attr("cx",e=>this._x(e.data1)).attr("cy",e=>this._y(e.data2)),this._g.selectAll(".scatter-regression-line").attr("d",this._line)}_drawLines(e){const t=this;let n,i,o,r;this._gW=e.append("g").attr("transform",`translate(${this._margin.left}, 0)`),this.series&&(this._colors=[],this.series.map((e,t)=>this._colors.push(this.legend.customColors?this._getCustomColorById(t):this._colorService.getColor(t))),this.series.forEach((a,l)=>{this._generatedData=a.data.map(e=>({data1:e[0],data2:e[1]})),e.append("g").attr("transform",`translate(${this._margin.left}, 0)`).append("path").datum(this._generatedData).attr("id",this._colors[l]).attr("stroke",this._colors[l]).attr("fill","none").attr("stroke-width","2px").classed("scatter-regression-line",!0).style("opacity","0").style("visibility","hidden").attr("d",this._line);this._gW.append("g").attr("class","scatter-chart-line-g").style("opacity",a.hidden?0:1).style("visibility",a.hidden?"hidden":"visible").attr("id",this._colors[l]).attr("data-line-graph-id",l).append("g").attr("class","scatter-plot-circle-wrapper").attr("id",this._colors[l]).selectAll("dots").data(this._generatedData).enter().append("circle").attr("r",5).attr("class","scatter-plot-circle").attr("fill",this._colors[l]).attr("cx",e=>this._x(e.data1)).attr("cy",e=>this._y(e.data2)).on("mouseover",function(e){const l=d.select(this);n=l.attr("fill"),i=t._colorService.getDarken(n,.15,s.ColorType.HEX),r=t._colorService.getDarken(n,.22,s.ColorType.HEX),d.selectAll(".scatter-plot-circle-wrapper .scatter-plot-circle").each(function(){d.select(this).attr("fill")!==n&&d.select(this).classed("scatter-transition",!0).attr("r",3.5)}),d.selectAll(".scatter-chart-line-g").each(function(){d.select(this).attr("id")===n&&null!==this.nextElementSibling&&this.parentNode.appendChild(this)}),d.selectAll(".scatter-regression-line").each(function(){d.select(this).attr("id").toLowerCase().trim()===n.toLowerCase().trim()&&(o=d.select(this),o.style("visibility","visible").attr("stroke",r).style("opacity","1"))}),l.attr("r",7).style("opacity","1").style("filter","url(#drop-shadow)").attr("fill",i),t.chartComponent.showTooltip(d.event.target,t.tooltipTemplate,{data:{color:n,category:a.name,xValue:t.scientificMode?new(c())(e.data1).toPrecision(2,2):e.data1,yValue:t.scientificMode?new(c())(e.data2).toPrecision(2,2):e.data2}})}).on("mouseout",function(){d.selectAll(".scatter-plot-circle-wrapper .scatter-plot-circle").each(function(){d.select(this).attr("fill").toLowerCase().trim()!==n.toLowerCase().trim()&&d.select(this).classed("scatter-transition",!1).attr("r",5)}),o.attr("stroke",n).style("visibility","hidden").style("opacity","0"),d.select(this).style("opacity",".8").style("filter",null).attr("fill",n),t.chartComponent.hideTooltip()})}))}_leastSquaresequation(e,t){const n=(e,t)=>e+t,i=1*e.reduce(n)/e.length,o=1*t.reduce(n)/t.length,r=e.map(e=>Math.pow(e-i,2)).reduce(n),s=e.map((e,n)=>(e-i)*(t[n]-o)).reduce(n)/r,a=o-i*s;return function(e){return e*s+a}}_drawDropShadow(){const e=this._g.append("defs").append("filter").attr("id","drop-shadow").attr("x","-50%").attr("y","-50%").attr("width","180%").attr("height","180%").attr("filterUnits","userSpaceOnUse");e.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",3),e.append("feOffset").attr("dx",0).attr("dy",1).attr("result","offsetblur"),e.append("feOffset").attr("dx",0).attr("dy",2).attr("result","offsetblur"),e.append("feColorMatrix").attr("type","matrix").attr("values","0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.22 0");const t=e.append("feMerge");t.append("feMergeNode"),t.append("feMergeNode").attr("in","SourceGraphic"),t.append("feMergeNode").attr("in","SourceGraphic")}_getTickFormatForNumber(e){return this.scientificMode?new(c())(e).toPrecision(2,2):this._cutNumber.transform(e,0)}}ht.\u0275fac=function(e){return new(e||ht)(r["\u0275\u0275directiveInject"](Se),r["\u0275\u0275directiveInject"](s.AdaptDeviceDetectionService),r["\u0275\u0275directiveInject"](B))},ht.\u0275cmp=r["\u0275\u0275defineComponent"]({type:ht,selectors:[["adapt-scatter-plot"]],viewQuery:function(e,t){if(1&e&&(r["\u0275\u0275viewQuery"](ut,7),r["\u0275\u0275viewQuery"](Ce,7)),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.chartComponent=e.first)}},inputs:{backgroundColor:"backgroundColor",width:"width",height:"height",header:"header",series:"series",xAxis:"xAxis",yAxis:"yAxis",noDataText:"noDataText",legend:"legend",suppressHeader:"suppressHeader",suppressLegend:"suppressLegend",tooltip:"tooltip",dataBuilder:"dataBuilder",updateChart:"updateChart",scientificMode:"scientificMode"},outputs:{clickChart:"clickChart",categoryShow:"categoryShow",categoryHide:"categoryHide"},features:[r["\u0275\u0275ProvidersFeature"]([Se]),r["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:11,consts:[[3,"width","height","header","data","dataBuilder","legend","updateChart","backgroundColor","suppressHeader","suppressLegend","noDataText","categoryShow","categoryHide","categoryEnter","categoryLeave"],["tooltipTpl",""],[1,"chart-tooltip-content-container"],[1,"chart-tooltip-content-wrapper"],[1,"chart-tooltip-color-spot"],[1,"chart-tooltip-category"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"adapt-chart",0),r["\u0275\u0275listener"]("categoryShow",function(e){return t.categoryShowHandler(e)})("categoryHide",function(e){return t.categoryHideHandler(e)})("categoryEnter",function(e){return t.categoryEnter(e)})("categoryLeave",function(){return t.categoryLeave()}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](1,"\n\n"),r["\u0275\u0275template"](2,pt,26,7,"ng-template",null,1,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275text"](4,"\n")),2&e&&r["\u0275\u0275property"]("width",t.width)("height",t.height)("header",t.header)("data",t.series)("dataBuilder",t._dataBuilder)("legend",t.legend)("updateChart",t._updateChart)("backgroundColor",t.backgroundColor)("suppressHeader",t.suppressHeader)("suppressLegend",t.suppressLegend)("noDataText",t.noDataText)},directives:[Ce],encapsulation:2});class mt extends _{}mt.\u0275fac=function(){let e;return function(t){return(e||(e=r["\u0275\u0275getInheritedFactory"](mt)))(t||mt)}}(),mt.\u0275dir=r["\u0275\u0275defineDirective"]({type:mt,inputs:{data:"data"},features:[r["\u0275\u0275InheritDefinitionFeature"]]});const ft=["treemapDefaultTooltip"],gt=["treemapGroupTooltip"],vt=["menuAnchor"],yt=["menuContainer"],bt=["optionsListRef"];function xt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",15),r["\u0275\u0275listener"]("click",function(){const t=r["\u0275\u0275restoreView"](e).$implicit,n=r["\u0275\u0275nextContext"](4);return n.callAction(n.menuData.target,n.menuData.event,n.menuData.context,t)}),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=r["\u0275\u0275nextContext"](4);r["\u0275\u0275classProp"]("text-active",i.isActiveDescendant(n)),r["\u0275\u0275propertyInterpolate1"]("id","treemap__actions__action-",n,""),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n          ",e.title,"\n        ")}}function wt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275text"](1,"\n        "),r["\u0275\u0275template"](2,xt,2,4,"button",14),r["\u0275\u0275text"](3,"\n      "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",e.menuData.actions)}}function Ct(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275text"](0,"\n    "),r["\u0275\u0275elementStart"](1,"div",11,12),r["\u0275\u0275listener"]("keydown",function(t){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"](2).keydownHandler(t)}),r["\u0275\u0275text"](3,"\n      "),r["\u0275\u0275template"](4,wt,4,1,"div",13),r["\u0275\u0275text"](5,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](6,"\n  ")}if(2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275attribute"]("aria-activedescendant",e.getActiveDescendant()),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",e.menuData&&e.menuData.actions&&e.menuData.actions.length)}}function _t(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",6,7),r["\u0275\u0275listener"]("popupAnimationDone",function(){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"]().popupAnimationDone()}),r["\u0275\u0275text"](2,"\n  "),r["\u0275\u0275element"](3,"button",8,9),r["\u0275\u0275text"](5,"\n  "),r["\u0275\u0275template"](6,Ct,7,2,"ng-template",10),r["\u0275\u0275text"](7,"\n"),r["\u0275\u0275elementEnd"]()}2&e&&r["\u0275\u0275property"]("adaptRadarDisableEventSending",!0)("appendToBody",!0)("restoreFocusAfterClose",!0)}function St(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n  "),r["\u0275\u0275elementStart"](1,"div"),r["\u0275\u0275text"](2,"\n    "),r["\u0275\u0275elementStart"](3,"strong"),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](5,"\n    "),r["\u0275\u0275elementStart"](6,"div"),r["\u0275\u0275text"](7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](8,"\n  "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](9,"\n")),2&e){const e=t.context;r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](e.name),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.size)}}function It(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n  "),r["\u0275\u0275elementStart"](1,"div",16),r["\u0275\u0275text"](2,"\n    "),r["\u0275\u0275element"](3,"span",17),r["\u0275\u0275text"](4),r["\u0275\u0275elementStart"](5,"strong"),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](7,"\n  "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](8,"\n")),2&e){const e=t.parentContext,n=t.childContext;r["\u0275\u0275advance"](3),r["\u0275\u0275styleProp"]("background-color",e.color),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("\n    ",e.name,": "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](n.name)}}function At(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"a",23),r["\u0275\u0275listener"]("click",function(t){r["\u0275\u0275restoreView"](e);const n=r["\u0275\u0275nextContext"]().$implicit,i=r["\u0275\u0275nextContext"](3);return i.navigateToGroup(t,n,i.data)}),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]().$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e)}}function Et(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275text"](1),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e)}}function Dt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"li",21),r["\u0275\u0275text"](1,"\n      "),r["\u0275\u0275template"](2,At,2,1,"a",22),r["\u0275\u0275text"](3,"\n      "),r["\u0275\u0275template"](4,Et,2,1,"ng-container",13),r["\u0275\u0275text"](5,"\n    "),r["\u0275\u0275elementEnd"]()),2&e){const e=t.last;r["\u0275\u0275classProp"]("active",e),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!e),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e)}}function Tt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"ol",19),r["\u0275\u0275text"](1,"\n    "),r["\u0275\u0275template"](2,Dt,6,4,"li",20),r["\u0275\u0275text"](3,"\n  "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",e.breadCrumbs)}}function Rt(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n  "),r["\u0275\u0275template"](1,Tt,4,1,"ol",18),r["\u0275\u0275text"](2,"\n")),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.breadCrumbs.length)}}const Mt=15;class Ot extends mt{constructor(e,t,n){super(),this._renderer=e,this._chartColorService=t,this._changeDetectorRef=n,this.hasActionMenu=!1,this.breadCrumbs=[],this.dataBuilderBind=this._dataBuilder.bind(this),this.updateChartBind=this._updateChart.bind(this),this.dataBuilderForGroupsBind=this._dataBuilderForGroups.bind(this),this.updateChartForGroupsBind=this._updateChartForGroups.bind(this),this.showSizeInName=!0,this.groupView=!1,this.clickChart=new r.EventEmitter,this.groupEntered=new r.EventEmitter,this._tooltipPoint={x:0,y:0},this._closeMenuBind=this._closeMenu.bind(this)}categoryEnter(e){this._getRelatedToLegendNodes(e.id.toString()).dispatch("mouseenter",{bubbles:!0,cancelable:!0,detail:{eventSource:"legend"}})}categoryLeave(e){this._getRelatedToLegendNodes(e.id.toString()).dispatch("mouseleave")}ngOnInit(){this.innerData=(0,a.cloneDeep)(this.data),this._initLegend()}ngOnChanges(e){e.data&&(this.innerData=e.data.currentValue,this.breadCrumbs=[],this._updateLegend(e.data.firstChange))}ngOnDestroy(){this._removeListeners()}popupAnimationDone(){this.menuContainer.isOpen()?(this.optionsListRef.nativeElement.focus(),this._listKeyManager=new b.ListKeyManager(this.items).withWrap(!1).withHomeAndEnd(),this._listKeyManager.setFirstItemActive(),this._removeClickEventListener=this._renderer.listen("document","click",this._closeMenuBind),this._removeScrollEventListener=this._renderer.listen("document","scroll",this._closeMenuBind)):(this._listKeyManager=null,this._removeListeners())}keydownHandler(e){if(this._listKeyManager)switch((0,s.getEventKeyCode)(e)){case g.DOWN_ARROW:case g.UP_ARROW:this._listKeyManager.onKeydown(e);break;case g.ENTER:this.callAction(this.menuData.target,this.menuData.event,this.menuData.context,this.menuData.actions[this._listKeyManager.activeItemIndex]),this.menuContainer.close();break;case g.TAB:this.menuContainer.isOpen()&&this.menuContainer.close()}}getActiveDescendant(){return this._listKeyManager?`treemap__actions__action-${this._listKeyManager.activeItemIndex}`:void 0}isActiveDescendant(e){var t;return e===(null===(t=this._listKeyManager)||void 0===t?void 0:t.activeItemIndex)}callAction(e,t,n,i){i.callback(e,t,n)}enterGroup(e,t){this.innerData=t.data,this._legend=this._prepareGroupLegend(),this.chartBase.updateLegend(this._legend.items),this.groupEntered.emit({event:e,data:t.data,node:t}),s.SafeCdr.detectChanges(this._changeDetectorRef)}updateBreadCrumbs(e){this.breadCrumbs.length||this.breadCrumbs.push(this.innerData.name),this.breadCrumbs.push(e.data.name)}navigateToGroup(e,t,n){if(n.name===t)return this.innerData=(0,a.cloneDeep)(n),this.breadCrumbs=this.breadCrumbs.slice(0,this.breadCrumbs.indexOf(t)+1),1===this.breadCrumbs.length&&(this.breadCrumbs=[]),this._legend=this._prepareGroupLegend(),this.chartBase.updateLegend(this._legend.items),this.groupEntered.emit({event:e,data:n}),void s.SafeCdr.detectChanges(this._changeDetectorRef);n.children&&n.children.forEach(n=>{this.navigateToGroup(e,t,n)})}_dataBuilder(e,t){const n=this;this._g=e;const i=this.innerData,o=this._openTooltip.bind(this),a=this._closeTooltip.bind(this),l=this._ellipsis,c=this.clickChart,u=this._openMenu.bind(this),p=this.showSizeInName,h=this._chartColorService;this.hasActionMenu=this._isDataContainsActions(i);const m=d.treemap().tile(d.treemapResquarify).size([t.w,t.h]).round(!0).paddingInner(1),f=d.hierarchy(i).eachBefore(e=>{e.data.id=(e.parent?e.parent.data.id+".":"")+e.data.name}).sum(e=>e.size).sort((e,t)=>t.height-e.height||t.value-e.value);m(f);let g="",v=[],y=0;const b=this._g.selectAll("g").data(f.leaves()).enter().append("g").attr("class",e=>`treemap-node status-group-${e.data.id.split(" ").join("_")}`).attr("id",e=>e.data.id.split(" ").join("_")).attr("transform",e=>`translate(${e.x0}, ${e.y0})`),x=b.append("g").attr("class","treemap-node__inner").attr("tabindex",0).attr("aria-label",e=>`${e.data.name}`+(p?` (${e.data.size})`:"")).on("mouseenter",function(e){const t=d.select(this).select("rect"),i=t.node().style.fill,r=d.select(this),l=e.data.id.split(".").join("_").split(" ").join("_"),c=d.event.detail;0!==c&&"legend"===(null==c?void 0:c.eventSource)||(o(r,{context:e.data},`treemap_tooltip treemap_tooltip__${l}`,1),n._tooltipEl=window.document.querySelector(`.treemap_tooltip__${l}`),(0,s.isDefined)(n._tooltipEl)&&(n._tooltipMouseleaveHandler=()=>{a(),n._tooltipEl.removeEventListener("mouseleave",n._tooltipMouseleaveHandler)},n._tooltipEl.addEventListener("mouseleave",n._tooltipMouseleaveHandler))),t.node().style.fill=d.rgb(i).darker(.3).formatHex()}).on("mouseleave",function(){var e,t,i;const o=d.select(this).select("rect"),r=o.node().style.fill;(null===(i=null===(t=null===(e=d.event)||void 0===e?void 0:e.toElement)||void 0===t?void 0:t.offsetParent)||void 0===i?void 0:i.classList.contains("adapt-tooltip-inner"))||(a(),n._removeTooltipMouseleaveListener()),o.node().style.fill=d.rgb(r).brighter(.3).formatHex()}).on("click",function(e){a(),n._removeTooltipMouseleaveListener(),c.emit(e.data),d.event.stopPropagation()});x.append("rect").attr("class","treemap__node-rect").attr("width",e=>e.x1-e.x0).attr("height",e=>e.y1-e.y0).attr("style",function(e){if(!g||g!==e.parent.data.id){const t=e.parent.data.customColorsRange;(r.isDevMode&&t&&2!==t.length||t&&t[0]&&7!==t[0].length||t&&t[1]&&7!==t[1].length)&&(0,s.adaptError)('ADAPT-ANGULAR Error! \n Treemap component! \n Please pass correct color range. "customColorsRange" property should be an array of 2 values, and each value should be HEX format color 7 chars length each. (eg. customColorsRange: ["#000000", "#ffffff"])'),g=e.parent.data.id,v=B.getColorRange(e.parent.data.status===j.Custom?t:e.parent.data.status,e.parent.children.length),y=0}const t=e.data.color?e.data.color:v[y],n=e.parent.children[y];return(0,s.isDefined)(n)&&(n.bg=t,n.textColor=h.getContrast(t,s.ColorType.HEX)),y++,`\n          fill: ${t};\n          transition: fill .2s;\n          cursor: pointer;\n        `}),x.append("g").attr("class","treemap-node-text").each(function(e){const t=d.select(this);t.attr("id",`${e.data.id.split(" ").join("_")}_text`);const n=t.append("text").attr("class","treemap__node-name").attr("transform",`translate(${(e.x1-e.x0)/2}, ${(e.y1-e.y0)/2})`).attr("style",()=>`\n              text-anchor: middle;\n              dominant-baseline: middle;\n              font-size: 13px;\n              fill: ${e.textColor};\n            `);l(n,`${e.data.name}`+(p?` (${e.data.size})`:""),e.x1-e.x0-Mt);const i=t.append("text").attr("class","treemap__node-info-text").attr("transform",`translate(${(e.x1-e.x0)/2}, ${(e.y1-e.y0)/2})`).attr("dy",22).attr("text-anchor","middle").attr("style",`font-size: 12px; opacity: .7; fill: ${e.textColor}`);e.data.info&&e.y1-e.y0>40&&l(i,e.data.info,e.x1-e.x0-Mt)}),this._buildActionsMenu(b,u),s.SafeCdr.detectChanges(this._changeDetectorRef)}_updateChart(e){const t=this.innerData,n=this._ellipsis,i=this.showSizeInName;this.hasActionMenu=this._isDataContainsActions(t);const o=d.treemap().tile(d.treemapResquarify).size([e.w,e.h]).round(!0).paddingInner(1),r=d.hierarchy(t).eachBefore(e=>{e.data.id=(e.parent?e.parent.data.id+".":"")+e.data.name}).sum(e=>e.size).sort((e,t)=>t.height-e.height||t.value-e.value);o(r);const s=r.leaves();this._g.selectAll("g.treemap-node").data(s).transition().duration(200).attr("transform",e=>`translate(${e.x0}, ${e.y0})`),this._g.selectAll("g.treemap__actions-menu rect").data(s.filter(e=>e.data.actions)).transition().duration(200).attr("transform",e=>`translate(${e.x1-e.x0-24}, 10)`),this._g.selectAll("g.treemap__actions-menu use").data(s.filter(e=>e.data.actions)).transition().duration(200).attr("transform",e=>`translate(${e.x1-e.x0-24}, 10)`),this._g.selectAll("rect.treemap__node-rect").data(s).transition().duration(200).attr("width",e=>e.x1-e.x0).attr("height",e=>e.y1-e.y0),this._g.selectAll("text.treemap__node-name").data(s).transition().duration(200).attr("transform",e=>`translate(${(e.x1-e.x0)/2}, ${(e.y1-e.y0)/2})`).each(function(e){d.select(this).text(""),n(d.select(this),`${e.data.name}`+(i?` (${e.data.size})`:""),e.x1-e.x0-Mt)}),this._g.selectAll("text.treemap__node-info-text").data(s).transition().duration(200).attr("transform",e=>`translate(${(e.x1-e.x0)/2}, ${(e.y1-e.y0)/2})`).each(function(e){d.select(this).text(""),e.data.info&&e.y1-e.y0>40&&n(d.select(this),e.data.info,e.x1-e.x0-Mt)})}_dataBuilderForGroups(e,t){const n=this;this._g=e;const i=this.innerData,o=this._ellipsis,r=this.clickChart,a=this.showSizeInName,l=this._openMenu.bind(this);this.hasActionMenu=this._isDataContainsActions(i);const c=d.treemap().tile(d.treemapResquarify).size([t.w,t.h]).round(!0).paddingInner(1).paddingOuter(1),u=d.hierarchy(i).eachBefore(e=>{e.data.id=(e.parent?e.parent.data.id+".":"")+e.data.name}).sum(e=>{var t;return(null===(t=e.children)||void 0===t?void 0:t.length)?0:e.size}).sort((e,t)=>t.height-e.height||t.value-e.value);c(u);const p=this._g.selectAll("g").data(u.children).enter().append("g").attr("class",e=>{var t;return"treemap-node "+((null===(t=e.data.children)||void 0===t?void 0:t.length)?"treemap-node__parent":"treemap-node__child")}).attr("id",e=>e.data.id.split(" ").join("_")).attr("transform",e=>`translate(${e.x0}, ${e.y0})`),h=p.append("g").attr("class","treemap-node__inner").attr("tabindex",0).attr("aria-label",e=>`${e.data.name}`+(a?` (${e.data.size})`:"")).each(function(e){if(n.groupView&&e.children){d.select(this).attr("role","button").attr("aria-expanded",!1)}}).on("click",function(e){d.event.stopPropagation(),n.groupView&&e.children&&(n._activeNode=e,n.chartBase.hideTooltip(),n.updateBreadCrumbs(e),n.enterGroup(d.event,e))}).on("keydown",function(e){d.event.keyCode!==g.ENTER&&d.event.keyCode!==g.SPACE||n.groupView&&e.children&&(n._activeNode=e,n.chartBase.hideTooltip(),n.updateBreadCrumbs(e),n.enterGroup(d.event,e))}),m=h.filter(e=>{var t;return!!(null===(t=e.children)||void 0===t?void 0:t.length)}),f=h.filter(e=>{var t;return!(null===(t=e.children)||void 0===t?void 0:t.length)});m.size()>0&&(m.each(function(e){const t=d.select(this);t.append("rect").attr("width",e.x1-e.x0).attr("height",e.y1-e.y0).attr("fill","transparent").on("mouseenter",function(){n._hideParentLabel(t)}).on("mouseleave",function(){n._showParentLabel(t,e)}),e.children.forEach(i=>{const r=t.append("g").attr("class","treemap-node__child").attr("tabindex",0).attr("aria-label",i.data.name),l=r.append("rect").attr("class","treemap__node-rect").attr("transform",`translate(${i.x0-e.x0}, ${i.y0-e.y0})`).attr("width",i.x1-i.x0).attr("height",i.y1-i.y0).attr("style",`fill: ${i.data.color}; transition: fill .2s; cursor: pointer;`);r.on("mouseenter",function(){const o=l.node().style.fill;l.node().style.fill=d.rgb(o).darker(.3).formatHex(),n._hideParentLabel(t);const{clientX:r,clientY:s}=d.event;n._tooltipPoint.x=r,n._tooltipPoint.y=s,n.chartBase.showTooltip(n._tooltipPoint,n.treemapGroupTooltip,{parentContext:e.data,childContext:i.data})}).on("mousemove",function(){const{clientX:e,clientY:t}=d.event;n._tooltipPoint.x=e,n._tooltipPoint.y=t,n.chartBase.updateTooltip()}).on("mouseleave",function(){const i=l.node().style.fill;l.node().style.fill=d.rgb(i).brighter(.3).formatHex(),n._showParentLabel(t,e),n.chartBase.hideTooltip()});const c=r.append("text").attr("class","treemap__node-child-label").attr("opacity","0").attr("transform",`translate(${i.x0-e.x0+(i.x1-i.x0)/2}, ${i.y0-e.y0+(i.y1-i.y0)/2})`).attr("style",`text-anchor: middle; dominant-baseline: middle; font-size: 13px; fill: ${n._chartColorService.getContrast(i.data.color,s.ColorType.HEX)};`);o(c,`${i.data.name}`+(a?` (${i.data.size})`:""),i.x1-i.x0-Mt)})}).on("mouseenter",function(){d.select(this).selectAll(".treemap__node-child-label").attr("opacity","1")}).on("mouseleave",function(){d.select(this).selectAll(".treemap__node-child-label").attr("opacity","0")}),m.append("g").attr("class","treemap-node-parent-label").each(function(e){d.select(this).append("foreignObject").attr("width",e.x1-e.x0).attr("height",1).attr("overflow","visible").attr("transform",`translate(0, ${(e.y1-e.y0)/2-30})`).append("xhtml:div").html(`\n                <div class="treemap__group-parent-tooltip shadow-1">\n                    <div class="treemap__group-parent-tooltip-color"\n                         style="background-color: ${e.data.color}; border-color: ${n._chartColorService.getDarken(e.data.color,.14,s.ColorType.HEX)};">&nbsp;</div>\n                    <div class="treemap__group-parent-tooltip-text align-start" id="${e.data.id.split(" ").join("_")}_text">${e.data.name}</div>\n                </div>\n            `).attr("class","treemap__group-parent-tooltip-wrapper")})),f.size()>0&&(f.append("rect").attr("class","treemap__node-rect").attr("width",e=>e.x1-e.x0).attr("height",e=>e.y1-e.y0).attr("style",e=>`fill: ${e.data.color}; transition: fill .2s; cursor: pointer;`).on("click",function(e){r.emit(e.data)}),f.append("g").attr("class","treemap-node-text treemap-node-text_no-child").each(function(e){const t=d.select(this),i=t.append("text").attr("class","treemap__node-name").attr("transform",`translate(${(e.x1-e.x0)/2}, ${(e.y1-e.y0)/2})`).attr("style",`text-anchor: middle; dominant-baseline: middle; font-size: 13px; fill: ${n._chartColorService.getContrast(e.data.color,s.ColorType.HEX)};`);o(i,`${e.data.name}`+(a?` (${e.data.size})`:""),e.x1-e.x0-Mt);const r=t.append("text").attr("class","treemap__node-info-text").attr("transform",`translate(${(e.x1-e.x0)/2}, ${(e.y1-e.y0)/2})`).attr("dy",22).attr("text-anchor","middle").attr("style",`font-size: 12px; opacity: .7; fill: ${n._chartColorService.getContrast(e.data.color,s.ColorType.HEX)}`);e.data.info&&e.y1-e.y0>40&&o(r,e.data.info,e.x1-e.x0-Mt)})),this._buildActionsMenu(p,l)}_updateChartForGroups(e){this._g.selectAll("g").remove(),this._dataBuilderForGroups(this._g,e)}_showParentLabel(e,t){e.select(".treemap-node-parent-label > foreignObject").attr("style",`opacity: 1; height: 1px; overflow: visible; width: ${t.x1-t.x0}px;`)}_hideParentLabel(e){e.select(".treemap-node-parent-label > foreignObject").attr("style","opacity: 0; height: 1px; overflow: hidden; width: 0;")}_buildActionsMenu(e,t){const n=this;e.append("g").attr("class","treemap__actions-menu").each(function(e){if(e.data.actions){const t=d.select(this);t.attr("tabindex",0).attr("role","button").attr("aria-haspopup",!0).attr("aria-expanded",!1),t.append("rect").attr("cursor","pointer").attr("fill","transparent").attr("height",20).attr("width",20).attr("transform",`translate(${e.x1-e.x0-24}, 10)`),t.append("g").attr("transform",`translate(${e.x1-e.x0-24}, 10)`).html(y.ai_ellipsis.data).select("svg").attr("cursor","pointer").attr("fill",e.textColor).attr("height",20).attr("width",20)}}).on("click",function(e){e.data.actions&&(d.event.stopPropagation(),n._targetWithActions=d.select(this),t(d.event,e.data))}).on("keydown",function(e){var i,o;(null===(o=null===(i=e.data)||void 0===i?void 0:i.actions)||void 0===o?void 0:o.length)&&(d.event.keyCode!==g.ENTER&&d.event.keyCode!==g.DOWN_ARROW&&d.event.keyCode!==g.SPACE||(d.event.preventDefault(),n._targetWithActions=d.select(this),t(d.event,e.data)),d.event.keyCode===g.ESCAPE&&n.menuContainer.isOpen()&&(d.event.preventDefault(),n._closeMenu()))})}_openMenu(e,t){this._closeTooltip(),this.menuContainer.placement=["bottom-right","top-right","right","left"],this.menuContainer.positionTo=this._targetWithActions.node(),this.menuData={target:this._targetWithActions.node(),event:e,context:t,actions:t.actions},this.menuContainer.isOpen()?this._closeMenu():(this.menuContainer.open(e),this._targetWithActions.attr("aria-expanded",!0)),s.SafeCdr.detectChanges(this._changeDetectorRef)}_closeMenu(){var e;this.menuContainer&&(this.menuContainer.close(),null===(e=this._targetWithActions)||void 0===e||e.attr("aria-expanded",!1)),this._removeListeners()}_isDataContainsActions(e){return e.children.some(e=>e.actions&&e.actions.length||e.children&&e.children.some(e=>e.actions&&e.actions.length))}_openTooltip(e,t,n,i){this.chartBase.showTooltip(e.node(),this.tooltip||this.treemapDefaultTooltip,t,n,i)}_closeTooltip(){this.chartBase.hideTooltip(),this._removeListeners()}_prepareLegend(){let e=[];const t=this.innerData,n=this._flattenByChildren(t.children);if(n.some(e=>e.color)?e=n:((0,s.isDefined)(t.status)&&e.push({name:t.name,status:t.status,color:t.status===j.Custom?t.customColorsRange:B.getColorRange(t.status,1)}),t.children.forEach(t=>{if((0,s.isDefined)(t.status)){e.filter(e=>t.status!==j.Custom&&t.status===e.status).length||e.push({name:t.name,status:t.status,color:t.status===j.Custom?t.customColorsRange:B.getColorRange(t.status,1)})}})),e.length)return e.sort((e,t)=>e.status-t.status),Object.assign({columns:1,items:e.map(e=>e.name),customColors:e.map(e=>(0,a.isArray)(e.color)?e.color[0]:e.color),activeHover:!1,activeClick:!1},this.legend)}_prepareGroupLegend(){const e=this.innerData;if(e.children)return Object.assign({columns:1,items:e.children.map(e=>e.name),customColors:e.children.map(e=>(0,a.isArray)(e.color)?e.color[0]:e.color),activeHover:!1,activeClick:!1},this.legend)}_initLegend(){this.suppressLegend||this.gradientLegend||(this._legend=this.groupView?this._prepareGroupLegend():this._prepareLegend())}_updateLegend(e){this.suppressLegend||e||this.gradientLegend||(this._legend=this.groupView?this._prepareGroupLegend():this._prepareLegend(),this.chartBase.updateLegend(this._legend.items))}_ellipsis(e,t,n){const i=t.split(""),o=e.append("tspan").attr("class","ellipsis").text("..."),r=n-o.node().getComputedTextLength(),s=i.length,a=e.insert("tspan",":first-child").text(i.join(""));for(;a.node().getComputedTextLength()>r&&i.length;)i.pop(),a.text(i.join(""));i.length===s&&o.remove()}_removeListeners(){this._removeClickEventListener&&(this._removeClickEventListener(),this._removeClickEventListener=null),this._removeScrollEventListener&&(this._removeScrollEventListener(),this._removeScrollEventListener=null)}_removeTooltipMouseleaveListener(){(0,s.isDefined)(this._tooltipEl)&&(0,s.isFunction)(this._tooltipMouseleaveHandler)&&(this._tooltipEl.removeEventListener("mouseleave",this._tooltipMouseleaveHandler),this._tooltipEl=null,this._tooltipMouseleaveHandler=null)}_flattenByChildren(e,t=[]){return e.forEach(e=>{e.children?this._flattenByChildren(e.children,t):t.push(e)}),t}_getRelatedToLegendNodes(e){const t=this._legend.items[parseInt(e,10)];return this._g.selectAll(".treemap-node").filter(e=>e.data.id.indexOf(t)>-1)}}var Pt;Ot.\u0275fac=function(e){return new(e||Ot)(r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](B),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef))},Ot.\u0275cmp=r["\u0275\u0275defineComponent"]({type:Ot,selectors:[["adapt-treemap"]],viewQuery:function(e,t){if(1&e&&(r["\u0275\u0275viewQuery"](Ce,7),r["\u0275\u0275viewQuery"](ft,7),r["\u0275\u0275viewQuery"](gt,7),r["\u0275\u0275viewQuery"](vt,5,s.AdaptDropdownToggleDirective),r["\u0275\u0275viewQuery"](yt,5,s.AdaptDropdownDirective),r["\u0275\u0275viewQuery"](bt,5),r["\u0275\u0275viewQuery"](s.AdaptListKeyManagerItemDirective,5)),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.chartBase=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.treemapDefaultTooltip=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.treemapGroupTooltip=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.menuAnchor=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.menuContainer=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.optionsListRef=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.items=e)}},inputs:{backgroundColor:"backgroundColor",width:"width",height:"height",header:"header",legend:"legend",gradientLegend:"gradientLegend",suppressHeader:"suppressHeader",suppressLegend:"suppressLegend",tooltip:"tooltip",data:"data",noDataText:"noDataText",showSizeInName:"showSizeInName",groupView:"groupView"},outputs:{clickChart:"clickChart",groupEntered:"groupEntered"},exportAs:["treemap"],features:[r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]],decls:14,vars:14,consts:[[3,"data","width","height","backgroundColor","header","legend","gradientLegend","suppressHeader","suppressLegend","dataBuilder","updateChart","noDataText","topSectionTemplate","categoryEnter","categoryLeave"],["chartBase",""],["class","dropdown treemap-chart_hidden-menu","adaptDropdown","",3,"adaptRadarDisableEventSending","appendToBody","restoreFocusAfterClose","popupAnimationDone",4,"ngIf"],["treemapDefaultTooltip",""],["treemapGroupTooltip",""],["treemapBreadCrumbsTemplate",""],["adaptDropdown","",1,"dropdown","treemap-chart_hidden-menu",3,"adaptRadarDisableEventSending","appendToBody","restoreFocusAfterClose","popupAnimationDone"],["menuContainer",""],["adaptDropdownToggle","","type","button"],["menuAnchor",""],["adaptDropdownMenuTemplate",""],["tabindex","0","aria-labelledby","dropdownMenu",1,"dropdown-menu",3,"keydown"],["optionsListRef",""],[4,"ngIf"],["class","dropdown-item","type","button","role","button","tabindex","-1","adaptListKeyManagerItem","",3,"text-active","id","click",4,"ngFor","ngForOf"],["type","button","role","button","tabindex","-1","adaptListKeyManagerItem","",1,"dropdown-item",3,"id","click"],[1,"treemap__group-tooltip"],[1,"adapt-chart-tooltip-color-spot","mr-1"],["class","breadcrumb mb-0",4,"ngIf"],[1,"breadcrumb","mb-0"],["class","breadcrumb-item",3,"active",4,"ngFor","ngForOf"],[1,"breadcrumb-item"],["href","javascript:void(0)",3,"click",4,"ngIf"],["href","javascript:void(0)",3,"click"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"adapt-chart",0,1),r["\u0275\u0275listener"]("categoryEnter",function(e){return t.categoryEnter(e)})("categoryLeave",function(e){return t.categoryLeave(e)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](2,"\n\n"),r["\u0275\u0275template"](3,_t,8,3,"div",2),r["\u0275\u0275text"](4,"\n\n"),r["\u0275\u0275template"](5,St,10,2,"ng-template",null,3,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275text"](7,"\n\n"),r["\u0275\u0275template"](8,It,9,4,"ng-template",null,4,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275text"](10,"\n\n"),r["\u0275\u0275template"](11,Rt,3,1,"ng-template",null,5,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275text"](13,"\n")),2&e){const e=r["\u0275\u0275reference"](12);r["\u0275\u0275property"]("data",t.innerData)("width",t.width)("height",t.height)("backgroundColor",t.backgroundColor)("header",t.header)("legend",t._legend)("gradientLegend",t.gradientLegend)("suppressHeader",t.suppressHeader)("suppressLegend",t.suppressLegend)("dataBuilder",t.groupView?t.dataBuilderForGroupsBind:t.dataBuilderBind)("updateChart",t.groupView?t.updateChartForGroupsBind:t.updateChartBind)("noDataText",t.noDataText)("topSectionTemplate",e),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.hasActionMenu)}},directives:[Ce,v.NgIf,s.AdaptDropdownDirective,s.AdaptDropdownToggleDirective,s.AdaptDropdownMenuTemplateDirective,v.NgForOf,s.AdaptListKeyManagerItemDirective],encapsulation:2}),function(e){e.LEFT_TO_RIGHT="LR",e.RIGHT_TO_LEFT="RL",e.TOP_TO_BOTTOM="TB",e.BOTTOM_TO_TOP="BT"}(Pt||(Pt={}));class Ft{constructor(e){this._el=e}ngOnChanges(e){if(e){Ie((0,d.select)(this._el.nativeElement),this.text,this.width)}}}function kt(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",5),r["\u0275\u0275text"](1,"\n  "),r["\u0275\u0275element"](2,"div",6),r["\u0275\u0275text"](3,"\n"),r["\u0275\u0275elementEnd"]())}function Nt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",7),r["\u0275\u0275text"](1,"\n  "),r["\u0275\u0275element"](2,"adapt-empty-state",8),r["\u0275\u0275text"](3,"\n"),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("type","chart")("inverted",e.emptyStateConfig.inverted)("label",e.emptyStateConfig.label)}}function jt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275text"](1,"\n    "),r["\u0275\u0275elementStart"](2,"adapt-slider",9),r["\u0275\u0275listener"]("ngModelChange",function(t){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"]().zoomLevel=t}),r["\u0275\u0275text"](3,"\n    "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](4,"\n    "),r["\u0275\u0275elementStart"](5,"button",10),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"]().fitGraph()}),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](7,"\n  "),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngModel",e.zoomLevel)("customStepChange",!0)("min",e.minZoomLevel)("max",e.maxZoomLevel)("formatter",e.sliderValueFormatter)("step",.05)("styleClass","adapt-flow-chart__zoom-slider"),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"]("\n      ",e.texts.fitGraphButton,"\n    ")}}function Lt(e,t){}Ft.\u0275fac=function(e){return new(e||Ft)(r["\u0275\u0275directiveInject"](r.ElementRef))},Ft.\u0275dir=r["\u0275\u0275defineDirective"]({type:Ft,selectors:[["text","adaptTextEllipsis",""]],inputs:{text:"text",width:"width"},features:[r["\u0275\u0275NgOnChangesFeature"]]});const Vt=function(e){return{$implicit:e}};function Bt(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275text"](1,"\n      "),r["\u0275\u0275template"](2,Lt,0,0,"ng-template",17),r["\u0275\u0275text"](3,"\n    "),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().$implicit,t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngTemplateOutlet",t.customTemplateConfig.nodeTemplate)("ngTemplateOutletContext",r["\u0275\u0275pureFunction1"](2,Vt,e))}}function Gt(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"svg"),r["\u0275\u0275text"](1,"\n            "),r["\u0275\u0275element"](2,"g",40),r["\u0275\u0275text"](3,"\n          "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](3).$implicit,t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275attribute"]("class",e.iconCustomClass)("fill",t.getStatusColor(e.status))("height",t.mainIconDimension)("width",t.mainIconDimension)("x",t.mainIconLeftPadding)("y",t.mainIconTopPadding),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("innerHTML",t.getSvgIcon(e.icon),r["\u0275\u0275sanitizeHtml"])}}function zt(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"line",41)),2&e){const e=r["\u0275\u0275nextContext"](3).$implicit,t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275attribute"]("x1",0)("y1",t.defaultNodeHeight)("x2",e.dimension.width)("y2",t.defaultNodeHeight)}}function $t(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"svg"),r["\u0275\u0275text"](1,"\n              "),r["\u0275\u0275element"](2,"g",40),r["\u0275\u0275text"](3,"\n            "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](),t=e.$implicit,n=e.index,i=r["\u0275\u0275nextContext"](6);r["\u0275\u0275attribute"]("class",t.iconCustomClass)("fill",i.getStatusColor(t.status)||i.defaultLabelColor)("height",i.additionalIconDimension)("width",i.additionalIconDimension)("x",i.basicLeftPadding+i.additionalLeftPadding)("y",i.additionalIconTopPadding+n*i.additionalInfoRowHeight),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("innerHTML",i.getSvgIcon(t.icon),r["\u0275\u0275sanitizeHtml"])}}function Ut(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"line",41)),2&e){const e=r["\u0275\u0275nextContext"]().index,t=r["\u0275\u0275nextContext"](4).$implicit,n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275attribute"]("x1",0)("y1",n.additionalLineTopPadding+e*n.additionalInfoRowHeight)("x2",t.dimension.width)("y2",n.additionalLineTopPadding+e*n.additionalInfoRowHeight)}}function Ht(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275text"](1,"\n            "),r["\u0275\u0275template"](2,$t,4,7,"svg",3),r["\u0275\u0275text"](3,"\n            "),r["\u0275\u0275text"](4,"\n            "),r["\u0275\u0275elementStart"](5,"text",43),r["\u0275\u0275text"](6,"\n            "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](7,"\n            "),r["\u0275\u0275template"](8,Ut,1,4,"line",39),r["\u0275\u0275text"](9,"\n          "),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=t.last,o=r["\u0275\u0275nextContext"](4).$implicit,s=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e.icon),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("text",e.text)("width",o.dimension.width-3*s.basicLeftPadding-s.additionalIconDimension),r["\u0275\u0275attribute"]("fill",s.defaultColor)("x",e.icon?3*s.basicLeftPadding:s.basicLeftPadding+s.additionalLeftPadding)("y",s.additionalTextTopPadding+n*s.additionalInfoRowHeight),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",!i)}}function Xt(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275text"](1,"\n          "),r["\u0275\u0275template"](2,Ht,10,7,"g",42),r["\u0275\u0275text"](3,"\n        "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](3).$implicit,t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",e.data)("ngForTrackBy",t.trackByForNodeData)}}const Wt=function(e){return{filter:e}};function qt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",19),r["\u0275\u0275listener"]("click",function(t){r["\u0275\u0275restoreView"](e);const n=r["\u0275\u0275nextContext"](2).$implicit;return r["\u0275\u0275nextContext"](2).handleNodeClick(t,n)})("mouseover",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"](2).$implicit;return r["\u0275\u0275nextContext"](2).handleMouseOver(t)})("mouseleave",function(){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"](4).nodeHoverId=""}),r["\u0275\u0275text"](1,"\n        "),r["\u0275\u0275elementStart"](2,"defs"),r["\u0275\u0275text"](3,"\n          "),r["\u0275\u0275elementStart"](4,"filter",20),r["\u0275\u0275text"](5,"\n            "),r["\u0275\u0275element"](6,"feGaussianBlur",21),r["\u0275\u0275text"](7,"\n            "),r["\u0275\u0275element"](8,"feOffset",22),r["\u0275\u0275text"](9,"\n            "),r["\u0275\u0275element"](10,"feOffset",23),r["\u0275\u0275text"](11,"\n            "),r["\u0275\u0275element"](12,"feFlood",24),r["\u0275\u0275text"](13,"\n            "),r["\u0275\u0275element"](14,"feFlood",25),r["\u0275\u0275text"](15,"\n            "),r["\u0275\u0275element"](16,"feComposite",26),r["\u0275\u0275text"](17,"\n            "),r["\u0275\u0275element"](18,"feComposite",27),r["\u0275\u0275text"](19,"\n            "),r["\u0275\u0275elementStart"](20,"feMerge"),r["\u0275\u0275text"](21,"\n              "),r["\u0275\u0275element"](22,"feMergeNode",28),r["\u0275\u0275text"](23,"\n              "),r["\u0275\u0275element"](24,"feMergeNode",29),r["\u0275\u0275text"](25,"\n              "),r["\u0275\u0275element"](26,"feMergeNode",30),r["\u0275\u0275text"](27,"\n            "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](28,"\n          "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](29,"\n\n          "),r["\u0275\u0275elementStart"](30,"filter",20),r["\u0275\u0275text"](31,"\n            "),r["\u0275\u0275element"](32,"feGaussianBlur",31),r["\u0275\u0275text"](33,"\n            "),r["\u0275\u0275element"](34,"feOffset",32),r["\u0275\u0275text"](35,"\n            "),r["\u0275\u0275element"](36,"feOffset",33),r["\u0275\u0275text"](37,"\n            "),r["\u0275\u0275element"](38,"feFlood",34),r["\u0275\u0275text"](39,"\n            "),r["\u0275\u0275element"](40,"feFlood",35),r["\u0275\u0275text"](41,"\n            "),r["\u0275\u0275element"](42,"feComposite",26),r["\u0275\u0275text"](43,"\n            "),r["\u0275\u0275element"](44,"feComposite",27),r["\u0275\u0275text"](45,"\n            "),r["\u0275\u0275elementStart"](46,"feMerge"),r["\u0275\u0275text"](47,"\n              "),r["\u0275\u0275element"](48,"feMergeNode",28),r["\u0275\u0275text"](49,"\n              "),r["\u0275\u0275element"](50,"feMergeNode",29),r["\u0275\u0275text"](51,"\n              "),r["\u0275\u0275element"](52,"feMergeNode",30),r["\u0275\u0275text"](53,"\n            "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](54,"\n          "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](55,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](56,"\n        "),r["\u0275\u0275elementStart"](57,"rect",36),r["\u0275\u0275text"](58,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](59,"\n        "),r["\u0275\u0275elementStart"](60,"g"),r["\u0275\u0275text"](61,"\n          "),r["\u0275\u0275template"](62,Gt,4,7,"svg",3),r["\u0275\u0275text"](63,"\n          "),r["\u0275\u0275elementStart"](64,"text",37),r["\u0275\u0275text"](65,"\n          "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](66,"\n          "),r["\u0275\u0275text"](67,"\n          "),r["\u0275\u0275text"](68,"\n          "),r["\u0275\u0275elementStart"](69,"text",38),r["\u0275\u0275text"](70,"\n          "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](71,"\n          "),r["\u0275\u0275template"](72,zt,1,4,"line",39),r["\u0275\u0275text"](73,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](74,"\n        "),r["\u0275\u0275template"](75,Xt,4,2,"g",3),r["\u0275\u0275text"](76,"\n      "),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](2).$implicit,t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](4),r["\u0275\u0275propertyInterpolate1"]("id","shadow",t.componentLevelId,""),r["\u0275\u0275advance"](26),r["\u0275\u0275propertyInterpolate1"]("id","shadow-hover",t.componentLevelId,""),r["\u0275\u0275advance"](27),r["\u0275\u0275property"]("ngStyle",r["\u0275\u0275pureFunction1"](20,Wt,t.nodeHoverId&&t.nodeHoverId===e.id?"url(#shadow-hover"+t.componentLevelId+")":"url(#shadow"+t.componentLevelId+")")),r["\u0275\u0275attribute"]("rx","rounded"===e.type?t.nodeRoundRadix:0)("width",e.dimension.width)("height",e.dimension.height)("fill",t.defaultBackgroundColor),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngIf",e.icon),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("text",e.label)("width",e.dimension.width-3*t.mainIconLeftPadding-t.mainIconDimension),r["\u0275\u0275attribute"]("fill",t.defaultLabelColor)("x",e.icon?t.mainTextLeftPadding:t.basicLeftPadding+t.additionalLeftPadding)("y",t.mainTextTopPadding),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("text",e.description)("width",e.dimension.width-3*t.mainIconLeftPadding-t.mainIconDimension),r["\u0275\u0275attribute"]("fill",t.defaultColor)("x",e.icon?t.mainTextLeftPadding:t.basicLeftPadding+t.additionalLeftPadding)("y",2*(t.mainTextTopPadding-t.mainTextTopGap)),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",e.data&&e.data.length),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",e.data&&e.data.length)}}function Yt(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n      "),r["\u0275\u0275template"](1,qt,77,22,"g",18),r["\u0275\u0275text"](2,"\n    ")),2&e){const e=r["\u0275\u0275nextContext"]().$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e&&e.dimension&&e.dimension.width)}}function Qt(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n    "),r["\u0275\u0275template"](1,Bt,4,4,"ng-container",15),r["\u0275\u0275text"](2,"\n\n    "),r["\u0275\u0275template"](3,Yt,3,1,"ng-template",null,16,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275text"](5,"\n  ")),2&e){const e=r["\u0275\u0275reference"](4),t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",null==t.customTemplateConfig?null:t.customTemplateConfig.nodeTemplate)("ngIfElse",e)}}function Zt(e,t){}function Kt(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275text"](1,"\n      "),r["\u0275\u0275template"](2,Zt,0,0,"ng-template",45),r["\u0275\u0275text"](3,"\n    "),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngTemplateOutlet",e.customTemplateConfig.defsTemplate)}}function Jt(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n      "),r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](1,"marker",46),r["\u0275\u0275text"](2,"\n        "),r["\u0275\u0275element"](3,"polygon",47),r["\u0275\u0275text"](4,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](5,"\n    ")),2&e){const e=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate1"]("id","arrow",e.componentLevelId,"")}}function en(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n    "),r["\u0275\u0275template"](1,Kt,4,1,"ng-container",15),r["\u0275\u0275text"](2,"\n\n    "),r["\u0275\u0275template"](3,Jt,6,1,"ng-template",null,44,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275text"](5,"\n  ")),2&e){const e=r["\u0275\u0275reference"](4),t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",null==t.customTemplateConfig?null:t.customTemplateConfig.defsTemplate)("ngIfElse",e)}}function tn(e,t){}function nn(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275text"](1,"\n      "),r["\u0275\u0275template"](2,tn,0,0,"ng-template",17),r["\u0275\u0275text"](3,"\n    "),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().$implicit,t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngTemplateOutlet",t.customTemplateConfig.linkTemplate)("ngTemplateOutletContext",r["\u0275\u0275pureFunction1"](2,Vt,e))}}function on(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275text"](1,"\n          "),r["\u0275\u0275elementStart"](2,"rect",51),r["\u0275\u0275text"](3,"\n          "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](4,"\n          "),r["\u0275\u0275elementStart"](5,"text",52),r["\u0275\u0275text"](6,"\n          "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](7,"\n        "),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2).$implicit,t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275attribute"]("transform","translate("+e.midPoint.x+","+e.midPoint.y+")"),r["\u0275\u0275advance"](2),r["\u0275\u0275attribute"]("filter","url(#shadow"+t.componentLevelId+")"),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("text",e.label)("width",70)}}function rn(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n      "),r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](1,"g",49),r["\u0275\u0275text"](2,"\n        "),r["\u0275\u0275text"](3,"\n        "),r["\u0275\u0275elementStart"](4,"path",50),r["\u0275\u0275text"](5,"\n        "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](6,"\n        "),r["\u0275\u0275template"](7,on,8,4,"g",3),r["\u0275\u0275text"](8,"\n      "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](9,"\n    ")),2&e){const e=r["\u0275\u0275nextContext"]().$implicit,t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](4),r["\u0275\u0275attribute"]("stroke-dasharray","stroke"===e.type?t.strokeLineLength:0)("marker-end","url(#arrow"+t.componentLevelId+")"),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",e.label&&e.midPoint)}}function sn(e,t){if(1&e&&(r["\u0275\u0275text"](0,"\n    "),r["\u0275\u0275template"](1,nn,4,4,"ng-container",15),r["\u0275\u0275text"](2,"\n\n    "),r["\u0275\u0275template"](3,rn,10,3,"ng-template",null,48,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275text"](5,"\n  ")),2&e){const e=r["\u0275\u0275reference"](4),t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",null==t.customTemplateConfig?null:t.customTemplateConfig.linkTemplate)("ngIfElse",e)}}const an=function(){return[]};function ln(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"ngx-graph",11),r["\u0275\u0275listener"]("zoomChange",function(t){r["\u0275\u0275restoreView"](e);return r["\u0275\u0275nextContext"]().handleZoomChangeDebounced(t)}),r["\u0275\u0275text"](1,"\n\n  "),r["\u0275\u0275template"](2,Qt,6,2,"ng-template",null,12,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275text"](4,"\n\n  "),r["\u0275\u0275template"](5,en,6,2,"ng-template",null,13,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275text"](7,"\n\n  "),r["\u0275\u0275template"](8,sn,6,2,"ng-template",null,14,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275text"](10,"\n"),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("links",e.links||r["\u0275\u0275pureFunction0"](17,an))("nodes",e.nodes)("curve",e.curve)("draggingEnabled",!1)("layoutSettings",e.layoutSettings)("enableZoom",e.enableZoom)("zoomSpeed",e.zoomSpeed)("autoZoom",e.autoZoom)("autoCenter",e.autoCenter)("center$",e.center$)("zoomToFit$",e.zoomToFit$)("update$",e.update$)("panToNode$",e.panToNode$)("panningEnabled",!e.isIE)("zoomLevel",e.zoomLevel)("minZoomLevel",e.minZoomLevel)("maxZoomLevel",e.maxZoomLevel)}}class cn{constructor(e,t,n,i){this._deviceDetection=e,this._changeDetectorRef=t,this._domSanitizer=n,this._iconConfig=i,this.center$=new u.Subject,this.zoomToFit$=new u.Subject,this.panToNode$=new u.Subject,this.update$=new u.Subject,this.mainTextLeftPadding=70,this.mainTextTopPadding=34,this.mainTextTopGap=6,this.mainIconDimension=40,this.mainIconLeftPadding=15,this.mainIconTopPadding=20,this.defaultNodeHeight=78,this.defaultNodeWidth=280,this.nodeRoundRadix=45,this.additionalInfoRowHeight=42,this.additionalIconDimension=13,this.basicLeftPadding=12,this.additionalLeftPadding=4,this.additionalIconTopPadding=93,this.additionalTextTopPadding=103,this.additionalLineTopPadding=120,this.defaultColor="currentcolor",this.defaultLabelColor="var(--color-active)",this.defaultBackgroundColor="#fff",this.strokeLineLength=4,this.layoutSettings={orientation:Pt.BOTTOM_TO_TOP},this.minZoomLevel=.1,this.maxZoomLevel=4,this.handleZoomChangeDebounced=(0,s.debounce)(this.handleZoomChange.bind(this),200),this.loading=!0,this.isIE=!1,this.nodeHoverId="",this.curve=x.curveCatmullRom,this.orientation=Pt.BOTTOM_TO_TOP,this.zoomSpeed=.04,this.enableZoom=!0,this.autoZoom=!1,this.autoCenter=!1,this.hasEmptyState=!0,this.clickNode=new r.EventEmitter,this.class="adapt-flow-chart",this._defaultTexts={fitGraphButton:"Fit to screen"},this._defaultEmptyStateConfig={label:"",inverted:!1}}ngOnInit(){this.componentLevelId=Math.floor(1e6*Math.random()).toString(),this.isIE=this._deviceDetection.isIE(),this.texts=Object.assign(Object.assign({},this._defaultTexts),this.texts),this.emptyStateConfig=Object.assign(Object.assign({},this._defaultEmptyStateConfig),this.emptyStateConfig),this.layoutSettings.orientation=this.orientation}ngOnChanges(e){const t=e.nodes;this.nodes&&t&&t.previousValue!==t.currentValue&&(this.nodes.forEach(e=>{e.dimension={width:e.dimension&&e.dimension.width||this.defaultNodeWidth,height:this.getNodeHeight(e)}}),this.autoCenterToNode&&(this.autoCenter&&(this.autoCenter=!1,(0,s.adaptWarn)('ADAPT-ANGULAR Warning! Flow chart component!\n          Seems like "autoCenter" is enabled with "autoCenterToNode".\n          In this case "autoCenter" will be disabled for correct work of "autoCenterToNode"')),setTimeout(()=>{this.panToNode$.next(this.autoCenterToNode),this.autoCenterToNode=null})),this.loading=!1)}showEmptyState(){return this.hasEmptyState&&!this.loading&&(!this.nodes||0===this.nodes.length)}showGraph(){return(0,s.toBoolean)(!this.loading&&this.nodes&&0!==this.nodes.length)}getStatusColor(e){return e||0===e?B.getColorRange(e,1)[0]:this.defaultColor}getSvgIcon(e){return this._domSanitizer.bypassSecurityTrustHtml(this._iconConfig.getIcon(e))}fitGraph(){this.zoomToFit$.next(!0),this.center$.next(!0)}handleNodeClick(e,t){this.clickNode.emit({event:e,node:t})}handleMouseOver(e){this.nodeHoverId=e.id}handleZoomMouseDown(){this._disableAutoZoom()}handleZoomChange(e){this._disableAutoZoom(),this.zoomLevel=e,s.SafeCdr.markForCheck(this._changeDetectorRef)}getNodeHeight(e){return e.data&&e.data.length?this.defaultNodeHeight+e.data.length*this.additionalInfoRowHeight:e.dimension&&e.dimension.height||this.defaultNodeHeight}trackByForNodeData(e){return e}sliderValueFormatter(e){if((0^e)===e)return e.toString();{const t=e.toString().split(".")[1].length>2?2:1;return e.toFixed(t)}}_disableAutoZoom(){this.autoZoom&&(this.autoZoom=!1),this.autoCenter&&(this.autoCenter=!1)}}cn.\u0275fac=function(e){return new(e||cn)(r["\u0275\u0275directiveInject"](s.AdaptDeviceDetectionService),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](p.DomSanitizer),r["\u0275\u0275directiveInject"](s.AdaptIconConfig))},cn.\u0275cmp=r["\u0275\u0275defineComponent"]({type:cn,selectors:[["adapt-flow-chart"]],hostVars:4,hostBindings:function(e,t){2&e&&(r["\u0275\u0275classMap"](t.class),r["\u0275\u0275styleProp"]("background-color",t.backgroundColor))},inputs:{links:"links",nodes:"nodes",curve:"curve",orientation:"orientation",zoomSpeed:"zoomSpeed",enableZoom:"enableZoom",autoZoom:"autoZoom",autoCenter:"autoCenter",texts:"texts",autoCenterToNode:"autoCenterToNode",hasEmptyState:"hasEmptyState",emptyStateConfig:"emptyStateConfig",customTemplateConfig:"customTemplateConfig",backgroundColor:"backgroundColor"},outputs:{clickNode:"clickNode"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:12,vars:4,consts:[["class","loader-container adapt-flow-chart__loader",4,"ngIf"],["class","adapt-flow-chart__empty-state",4,"ngIf"],[1,"adapt-flow-chart__zoom-slider-wrapper"],[4,"ngIf"],["version","1.1",0,"xmlns","svg","http://www.w3.org/2000/svg",3,"links","nodes","curve","draggingEnabled","layoutSettings","enableZoom","zoomSpeed","autoZoom","autoCenter","center$","zoomToFit$","update$","panToNode$","panningEnabled","zoomLevel","minZoomLevel","maxZoomLevel","zoomChange",4,"ngIf"],[1,"loader-container","adapt-flow-chart__loader"],[1,"loader-section"],[1,"adapt-flow-chart__empty-state"],[3,"type","inverted","label"],["orientation","vertical",3,"ngModel","customStepChange","min","max","formatter","step","styleClass","ngModelChange"],[1,"adapt-flow-chart__zoom-fit-button",3,"click"],["version","1.1",0,"xmlns","svg","http://www.w3.org/2000/svg",3,"links","nodes","curve","draggingEnabled","layoutSettings","enableZoom","zoomSpeed","autoZoom","autoCenter","center$","zoomToFit$","update$","panToNode$","panningEnabled","zoomLevel","minZoomLevel","maxZoomLevel","zoomChange"],["nodeTemplate",""],["defsTemplate",""],["linkTemplate",""],[4,"ngIf","ngIfElse"],["defaultNodeTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","node",3,"click","mouseover","mouseleave",4,"ngIf"],[1,"node",3,"click","mouseover","mouseleave"],["height","150%",3,"id"],["in","SourceAlpha","stdDeviation","2.5","result","blur"],["dx","0","dy","2","result","offsetBlur"],["dx","0","dy","4","result","offsetBlur2","in","blur"],["flood-color","black","flood-opacity","0.14","result","offsetColor"],["flood-color","black","flood-opacity","0.06","result","offsetColor2"],["in","offsetColor","in2","offsetBlur","operator","in","result","offsetBlur"],["in","offsetColor2","in2","offsetBlur2","operator","in","result","offsetBlur2"],["in","offsetBlur"],["in","offsetBlur2"],["in","SourceGraphic"],["in","SourceAlpha","stdDeviation","7","result","blur"],["dx","0","dy","4","result","offsetBlur"],["dx","0","dy","9","result","offsetBlur2","in","blur"],["flood-color","black","flood-opacity","0.17","result","offsetColor"],["flood-color","black","flood-opacity","0.09","result","offsetColor2"],[1,"adapt-flow-chart__box",3,"ngStyle"],["alignment-baseline","central","adaptTextEllipsis","",1,"adapt-flow-chart__label",3,"text","width"],["alignment-baseline","central","adaptTextEllipsis","",3,"text","width"],["stroke","lightgrey",4,"ngIf"],[3,"innerHTML"],["stroke","lightgrey"],[4,"ngFor","ngForOf","ngForTrackBy"],["adaptTextEllipsis","",3,"text","width"],["defaultDefsTemplate",""],[3,"ngTemplateOutlet"],["markerWidth","8","markerHeight","7","refX","7","refY","3","orient","auto",3,"id"],["points","0 0, 8 3, 0 6","fill","#333"],["defaultLinkTemplate",""],[1,"edge"],["stroke-width","2","stroke","#333",1,"line"],["width","90","height","30","x","-45","y","-18","rx","3",1,"adapt-flow-chart__edge-label-bg"],["adaptTextEllipsis","","alignment-baseline","central",1,"adapt-flow-chart__edge-label-text",3,"text","width"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,kt,4,0,"div",0),r["\u0275\u0275text"](1,"\n\n"),r["\u0275\u0275template"](2,Nt,4,3,"div",1),r["\u0275\u0275text"](3,"\n\n"),r["\u0275\u0275elementStart"](4,"div",2),r["\u0275\u0275text"](5,"\n  "),r["\u0275\u0275template"](6,jt,8,8,"div",3),r["\u0275\u0275text"](7,"\n"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](8,"\n\n"),r["\u0275\u0275text"](9,"\n"),r["\u0275\u0275template"](10,ln,11,18,"ngx-graph",4),r["\u0275\u0275text"](11,"\n")),2&e&&(r["\u0275\u0275property"]("ngIf",t.loading),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.showEmptyState()),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngIf",t.showGraph()&&t.enableZoom),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngIf",t.showGraph()))},directives:[v.NgIf,s.AdaptEmptyStateComponent,s.AdaptSliderComponent,w.NgControlStatus,w.NgModel,C.GraphComponent,v.NgTemplateOutlet,v.NgStyle,Ft,v.NgForOf],encapsulation:2,changeDetection:0});const dn=new r.Version("12.25.0");class un{}un.\u0275fac=function(e){return new(e||un)},un.\u0275mod=r["\u0275\u0275defineNgModule"]({type:un}),un.\u0275inj=r["\u0275\u0275defineInjector"]({providers:[B],imports:[[s.AdaptTooltipModule,C.NgxGraphModule,w.FormsModule,s.AdaptSliderModule,s.AdaptEmptyStateModule,s.AdaptDropdownModule,v.CommonModule,s.AdaptListKeyManagerModule,s.AdaptIconModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&r["\u0275\u0275setNgModuleScope"](un,{declarations:[Ce,qe,et,ht,Ot,W,re,Se,ct,Fe,k,te,ot,cn,Ft],imports:[s.AdaptTooltipModule,C.NgxGraphModule,w.FormsModule,s.AdaptSliderModule,s.AdaptEmptyStateModule,s.AdaptDropdownModule,v.CommonModule,s.AdaptListKeyManagerModule,s.AdaptIconModule],exports:[Ce,qe,et,ht,Ot,W,re,ct,Fe,ot,cn,Ft]}),r["\u0275\u0275setComponentScope"](k,[v.NgClass,v.NgIf,v.NgSwitch,v.NgSwitchCase,Fe],[]),r["\u0275\u0275setComponentScope"](te,[ot,v.NgIf,v.NgClass],[])},"./node_modules/@helix/platform/fesm2015/helix-platform-view-actions.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ApplyGridFilterViewActionModule:()=>O,AssociateViewActionModule:()=>U,AvcAssociateActionModule:()=>X,CloseViewActionModule:()=>q,DeleteRecordsViewActionModule:()=>Q,DisassociateViewActionModule:()=>J,EditRecordsViewActionModule:()=>oe,LaunchProcessDesignerActionModule:()=>De,LaunchProcessViewActionModule:()=>le,LaunchUrlViewActionModule:()=>pe,OpenViewActionModule:()=>z,ProcessDesignerElementPickerModule:()=>Ie,RX_OPEN_VIEW:()=>P,RefreshViewActionModule:()=>me,RxApplyGridFilterActionName:()=>D,RxApplyGridFilterViewActionService:()=>T,RxAssociateViewActionService:()=>k,RxAvcAssociateActionService:()=>H,RxCloseViewActionService:()=>W,RxDeleteRecordsViewActionService:()=>Y,RxDisassociateViewActionService:()=>Z,RxEditRecordsViewActionService:()=>ie,RxLaunchProcessDesignerActionService:()=>_e,RxLaunchProcessViewActionService:()=>ae,RxLaunchUrlViewActionService:()=>ce,RxOpenViewActionService:()=>F,RxOpenViewModelHelperService:()=>B,RxProcessDesignerElementPickerComponent:()=>Se,RxRefreshViewActionService:()=>he,RxSaveViewActionService:()=>fe,RxSetPropertyViewActionService:()=>ve,RxUnknownViewActionDesignManager:()=>Re,RxUnknownViewActionService:()=>Te,SaveViewActionModule:()=>ge,SetPropertyViewActionModule:()=>we,UnknownViewActionModule:()=>Oe,ViewActionsDesignModule:()=>Ne,ViewActionsModule:()=>Pe});var i=n("./node_modules/@angular/core/fesm2015/core.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-utils.js"),a=n("rxjs"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),c=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),d=n("./node_modules/rxjs/_esm2015/operators/index.js"),u=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-components.js"),p=n("./node_modules/@helix/platform/fesm2015/helix-platform-record-api.js"),h=n("lodash"),m=n("./node_modules/@helix/platform/fesm2015/helix-platform-association-api.js"),f=n("./node_modules/@angular/router/fesm2015/router.js"),g=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),v=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),y=n("./node_modules/@angular/common/fesm2015/common.js"),b=n("./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js"),x=n("./node_modules/@helix/platform/fesm2015/helix-platform-ui-kit.js"),w=n("./node_modules/@angular/forms/fesm2015/forms.js"),C=n("./node_modules/@helix/platform/fesm2015/helix-platform-process-api.js"),_=n("./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");function S(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275element"](1,"adapt-rx-textarea",9),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](2,2,"com.bmc.arsys.rx.client.common.messages.label")),i["\u0275\u0275property"]("ngModel",e.data.details)}}function I(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275element"](1,"div",3),i["\u0275\u0275elementEnd"]())}const A=["dropdownButton"];function E(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",8),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().clearDefinition(t)}),i["\u0275\u0275elementEnd"]()}}const D="rxApplyGridFilterAction";class T{execute(e){return e.targetApi?e.targetApi.applyFilters?(e.targetApi.applyFilters(e.filters,e.mode),a.EMPTY):((0,a.throwError)(new s.RxError(`${D}: target component does not support applyFilters API.`)),a.EMPTY):(0,a.throwError)(new s.RxError("rxApplyGridFilterAction: component is not specified."))}}T.\u0275fac=function(e){return new(e||T)},T.\u0275prov=i["\u0275\u0275defineInjectable"]({token:T,factory:T.\u0275fac,providedIn:"root"});class R extends l.RxViewDesignerActionModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.viewDesignerFacade=this.injector.get(l.ViewDesignerFacade),this.rxRecordDefinitionCacheService=this.injector.get(p.RxRecordDefinitionCacheService),this.rxRecordGridDesignUtilsService=this.injector.get(u.RxRecordGridDesignUtilsService),this.rxRecordGridFilterSelectHelperService=this.injector.get(u.RxRecordGridFilterSelectHelperService),this.sandbox.children$.pipe((0,d.first)(),(0,d.withLatestFrom)(this.sandbox.actionProperties$.pipe((0,d.pluck)("filters"))),(0,d.takeUntil)(this.sandbox.destroyed$)).subscribe(([e,t])=>{const n=this.rxRecordGridDesignUtilsService.getBasicRecordGridFiltersFromChildData(e);this.sandbox.updateActionProperties({filterValue:{basicFilters:n,filtersJson:t}})});this.sandbox.actionProperties$.pipe((0,d.pluck)("filterValue"),(0,d.distinctUntilChanged)()).pipe((0,d.skip)(1),(0,d.takeUntil)(this.sandbox.destroyed$)).subscribe(({filtersJson:e,basicFilters:t})=>{const n=this.rxRecordGridDesignUtilsService.getGridFilterComponentPayloads(t);this.sandbox.setChildren(n),this.sandbox.updateActionProperties({filters:e})});const n=this.sandbox.actionProperties$.pipe((0,d.pluck)("mode"),(0,d.distinctUntilChanged)()),i=this.sandbox.actionProperties$.pipe((0,d.pluck)("targetApi"),(0,d.distinctUntilChanged)()).pipe((0,d.map)(R.extractGuidFromExpression));(0,a.merge)(i.pipe((0,d.skip)(1)),n.pipe((0,d.filter)(e=>e===o.ApplyGridFilterMode.Clear))).pipe((0,d.takeUntil)(this.sandbox.destroyed$)).subscribe(()=>{this.sandbox.updateActionProperties({filterValue:{basicFilters:null,filtersJson:null}})});const r=i.pipe((0,d.switchMap)(e=>e?this.viewDesignerFacade.getComponent(e):(0,a.of)(null)),(0,d.map)(e=>(null==e?void 0:e.type)===u.RX_RECORD_GRID.type?e.data:null)),s=r.pipe((0,d.map)(e=>{var t;return null!==(t=null==e?void 0:e.recordDefinitionName)&&void 0!==t?t:null}),(0,d.switchMap)(e=>e?this.rxRecordDefinitionCacheService.getRecordDefinition(e):(0,a.of)(null))),c=r.pipe((0,d.map)(e=>{var t;return null!==(t=null==e?void 0:e.columns)&&void 0!==t?t:[]})),h=s.pipe((0,d.withLatestFrom)(c),(0,d.map)(([e,t])=>{const n=t.filter(e=>e.filterable).map(e=>e.fieldId);return e?Object.assign(Object.assign({},e),{fieldDefinitions:e.fieldDefinitions.filter(e=>n.includes(String(e.id)))}):null})),m=c.pipe((0,d.map)(e=>this.rxRecordGridFilterSelectHelperService.getNamedFilterOptionsFromColumns(e)));(0,a.combineLatest)([h,n]).pipe((0,d.withLatestFrom)(m,c),(0,d.takeUntil)(this.sandbox.destroyed$)).subscribe(([[e,t],n,i])=>{this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig(e,n,t,i))})}static getInitialProperties(e){return Object.assign({targetApi:null,mode:o.ApplyGridFilterMode.Append,filterValue:{filtersJson:null,basicFilters:null}},e)}getPropertiesByName(){return(0,h.omit)(super.getPropertiesByName(),"filterValue")}getActionEditorConfig(e,t,n,i){const s=new r.Tooltip("<b>Begin</b><p>Begin a batch of filter updates.</p><br><b>Append</b><p>Applied filters are added with the AND operator; existing filters for the specified fields are removed.</p><br><b>Remove</b><p>Existing filters are removed if they match the applied filters.</p><br><b>Overwrite</b><p>All existing filters are replaced with the applied filters.</p><br><b>Merge</b><p>Existing filters with a range of values are replaced with the matching applied filters; existing filters for the other fields are combined with the matching applied filters using the OR operator; applied filters for new fields are added with the AND operator.</p><br><b>Clear</b><p>All existing filters are removed.</p><br><b>End</b><p>Apply all pending filter updates executed in a batch.</p>");s.maxWidth=310;const a=[{name:"targetApi",component:c.ExpressionFormControlComponent,options:{label:"Record grid",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}},{name:"mode",component:c.RadioFormControlComponent,options:{label:"Mode",tooltip:s,items:[{label:"Begin",value:o.ApplyGridFilterMode.Begin},{label:"Append",value:o.ApplyGridFilterMode.Append},{label:"Remove",value:o.ApplyGridFilterMode.Remove},{label:"Overwrite",value:o.ApplyGridFilterMode.Overwrite},{label:"Merge",value:o.ApplyGridFilterMode.Merge},{label:"Clear",value:o.ApplyGridFilterMode.Clear},{label:"End",value:o.ApplyGridFilterMode.End}]}}],l={name:"filterValue",component:u.RecordGridFilterSelectControlComponent,options:{primaryRecordDefinition:e,selectedFieldIds:i.map(e=>e.fieldId),namedFilterOptions:t,anchorDisabled:!e}},d={name:"emptyFilterMessage",component:c.ValidationFormControlComponent,options:{text:"Record grid expression required to define a filter.",messageType:c.MessageType.Error,customStyle:{"margin-top":"-1rem"}}};return(0,h.includes)([o.ApplyGridFilterMode.Begin,o.ApplyGridFilterMode.End,o.ApplyGridFilterMode.Clear],n)||(a.push(l),e||a.push(d)),a}static extractGuidFromExpression(e){var t;const n=null==e?void 0:e.match(/^\${view\.components\.([0-9a-z-]+)\.api}$/);return null!==(t=n&&n[1])&&void 0!==t?t:null}}class M{constructor(e,t){this.rxJsonParserService=e,this.rxRecordGridFilterHelperService=t}adaptDefinition({componentDefinitions:e,propertiesByName:t}){const n=e.map(e=>{let t=e.propertiesByName.value;const n=this.rxJsonParserService.tryParseJson(t);return n&&n[o.RecordGridNamedFilterOptionKey]&&(t=n),{guid:e.guid,fieldId:e.propertiesByName.fieldId,value:t}});t.filters=this.rxRecordGridFilterHelperService.getRecordGridFilterDataFromPredefinedFilter(t.filters,n)}}M.\u0275fac=function(e){return new(e||M)(i["\u0275\u0275inject"](s.RxJsonParserService),i["\u0275\u0275inject"](u.RxRecordGridFilterHelperService))},M.\u0275prov=i["\u0275\u0275defineInjectable"]({token:M,factory:M.\u0275fac,providedIn:"root"});class O{constructor(e,t,n,i){this.rxViewActionRegistryService=e,this.rxApplyGridFilterViewActionService=t,this.rxApplyGridFilterViewActionDefinitionAdapterService=n,this.rxViewActionDefinitionAdapterRegistryService=i,this.rxViewActionRegistryService.register({name:D,label:"Apply grid filter",bundleId:r.RX_APPLICATION.platformBundleId,service:t,designModel:R,parameters:[{name:"targetApi",label:"Record grid",isRequired:!0,enableExpressionEvaluation:!0},{name:"mode",label:"Mode"},{name:"filters"}]}),i.registerRuntimeAdapter(D,this.rxApplyGridFilterViewActionDefinitionAdapterService)}}O.\u0275fac=function(e){return new(e||O)(i["\u0275\u0275inject"](o.RxViewActionRegistryService),i["\u0275\u0275inject"](T),i["\u0275\u0275inject"](M),i["\u0275\u0275inject"](o.RxViewActionDefinitionAdapterRegistryService))},O.\u0275mod=i["\u0275\u0275defineNgModule"]({type:O}),O.\u0275inj=i["\u0275\u0275defineInjector"]({});const P={actionName:"rxOpenViewAction",modalSize:o.OpenViewActionModalSize,type:o.OpenViewActionType,launchBehavior:o.OpenViewActionLaunchBehavior};class F{constructor(e,t,n,i,o){this.adaptDockedPanelService=e,this.adaptModalService=t,this.router=n,this.rxRuntimeViewUtilsService=i,this.rxViewActionUtilsService=o}execute(e){const t=(0,h.transform)(e.viewParams,(e,t,n)=>{e[n]=(0,h.isObject)(t)?JSON.stringify(t):String(null!=t?t:"")},{});return this.rxRuntimeViewUtilsService.isViewCancellable(e.viewDefinitionName).pipe((0,d.switchMap)(n=>{let i;const o={configuration:{viewDefinitionName:e.viewDefinitionName,inputParams:t,onRegisterApi(e){i=e}},title:e.presentation.title,notification:e.presentation.notification,isCancellable:n},r={beforeDismiss:e=>{const t=!Object.values(g.DismissReasons).includes(e);return t||e===g.DismissReasons.BACKDROP_CLICK&&!n||i.cancel().pipe((0,d.take)(1),(0,d.catchError)(e=>e?(0,a.throwError)(e):a.EMPTY)).subscribe(),t},blockKeyboard:!n,content:v.RuntimeViewModalComponent,size:e.presentation.modalSize,data:o};switch(e.presentation.type){case P.type.FullWidth:return this.openFullWidth(e.presentation.launchBehavior,e.viewDefinitionName,t);case P.type.CenteredModal:return this.adaptModalService.open(r);case P.type.DockedLeftModal:return this.adaptDockedPanelService.open((0,h.defaults)({direction:g.DockedPanelDirection.LEFT},r));case P.type.DockedRightModal:return this.adaptDockedPanelService.open((0,h.defaults)({direction:g.DockedPanelDirection.RIGHT},r));default:return this.openFullWidth(e.presentation.launchBehavior,e.viewDefinitionName,t)}}))}openFullWidth(e,t,n){const i=this.rxViewActionUtilsService.generateViewUrl(t,n);return e===P.launchBehavior.NewWindow?(window.open(`${window.location.pathname}#${i}`),(0,a.throwError)(null)):(0,a.from)(this.router.navigateByUrl(i)).pipe((0,d.switchMapTo)((0,a.throwError)(null)))}}F.\u0275fac=function(e){return new(e||F)(i["\u0275\u0275inject"](g.AdaptDockedPanelService),i["\u0275\u0275inject"](g.AdaptModalService),i["\u0275\u0275inject"](f.Router),i["\u0275\u0275inject"](v.RxRuntimeViewUtilsService),i["\u0275\u0275inject"](o.RxViewActionUtilsService))},F.\u0275prov=i["\u0275\u0275defineInjectable"]({token:F,factory:F.\u0275fac,providedIn:"root"});class k{constructor(e,t,n,i,o){this.rxAssociationInstanceService=e,this.rxOpenViewActionService=t,this.rxAssociationDefinitionService=n,this.rxLogService=i,this.rxViewActionUtilsService=o}execute(e){return e.associatedRecordId?(0,a.forkJoin)([this.getInstanceIds(e),this.rxAssociationDefinitionService.get(e.associationDefinitionName)]).pipe((0,d.switchMap)(([t,n])=>{let i=[],o=[];return t.length?(e.associationDefinitionRole===m.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.value?(i=t,o=[e.associatedRecordId]):e.associationDefinitionRole===m.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value&&(i=[e.associatedRecordId],o=t),n.cardinality===m.RX_ASSOCIATION_DEFINITION.cardinality.oneToOne.value?(i=i[0],o=o[0]):n.cardinality===m.RX_ASSOCIATION_DEFINITION.cardinality.oneToMany.value&&(i=i[0]),this.rxAssociationInstanceService.associateRecords(e.associationDefinitionName,i,o,e.useDefaultRoles,e.nodeARole,e.nodeBRole).pipe((0,d.mapTo)(t))):(0,a.of)(t)})):(0,a.throwError)(new s.RxError("rxAssociateAction: Associated Record ID is not defined."))}getInstanceIds(e){return this.rxOpenViewActionService.execute({presentation:{modalSize:P.modalSize.Large,type:P.type.DockedRightModal},viewDefinitionName:e.viewDefinitionName,viewParams:null}).pipe((0,d.map)(e=>{const t=(0,h.flow)(e=>(0,h.map)(e,e=>this.rxViewActionUtilsService.extractRecordIds(e)),h.flatten,h.compact,h.uniq)(e);return this.rxLogService.debug(`RxAssociateAction: associating ${t.length} record(s)`),t}))}}k.\u0275fac=function(e){return new(e||k)(i["\u0275\u0275inject"](m.RxAssociationInstanceService),i["\u0275\u0275inject"](F),i["\u0275\u0275inject"](m.RxAssociationDefinitionService),i["\u0275\u0275inject"](r.RxLogService),i["\u0275\u0275inject"](o.RxViewActionUtilsService))},k.\u0275prov=i["\u0275\u0275defineInjectable"]({token:k,factory:k.\u0275fac,providedIn:"root"});class N{constructor(){this.modalSizeMap={small:P.modalSize.Small,medium:P.modalSize.Medium,large:P.modalSize.Large}}adaptDefinition(e){const t=(0,h.get)(e,"propertiesByName",{});if(t.name===P.actionName){const e=t.presentation.modalSize;this.modalSizeMap[e]&&(t.presentation.modalSize=this.modalSizeMap[e])}}}N.\u0275fac=function(e){return new(e||N)},N.\u0275prov=i["\u0275\u0275defineInjectable"]({token:N,factory:N.\u0275fac,providedIn:"root"});const j=[{id:o.OpenViewActionModalSize.Xsmall,name:"Extra Small (450 px)"},{id:o.OpenViewActionModalSize.Small,name:"Small (650 px)"},{id:o.OpenViewActionModalSize.Medium,name:"Medium (800 px)"},{id:o.OpenViewActionModalSize.Large,name:"Large (1024 px)"},{id:o.OpenViewActionModalSize.Xlarge,name:"Extra Large (1200 px)"},{id:o.OpenViewActionModalSize.Xxlarge,name:"Extra Extra Large (1600 px)"},{id:o.OpenViewActionModalSize.FullSize,name:"Full Size"}],L=[{id:o.OpenViewActionType.FullWidth,name:"Full width"},{id:o.OpenViewActionType.CenteredModal,name:"Centered modal"},{id:o.OpenViewActionType.DockedLeftModal,name:"Docked left modal"},{id:o.OpenViewActionType.DockedRightModal,name:"Docked right modal"}],V=[{id:o.OpenViewActionLaunchBehavior.NewWindow,name:"Open in a new tab"},{id:o.OpenViewActionLaunchBehavior.SameWindow,name:"Open in the same tab"}];class B{getOpenViewInspector(e,t,n,i){const s=e.map(e=>({name:`viewParams.${e.name}`,component:c.ExpressionFormControlComponent,options:{label:e.name,dataDictionary$:i.getDataDictionary(e.name),operators:i.getOperators(e.name)}})),a=t===o.OpenViewActionType.FullWidth,l=t===o.OpenViewActionType.CenteredModal&&n===o.OpenViewActionModalSize.FullSize;return[{name:"viewDefinitionName",component:c.RxDefinitionPickerComponent,options:{label:"View",required:!0,definitionType:c.RxDefinitionPickerType.View}},...s,{name:"presentation.type",component:c.SelectFormControlComponent,options:{label:"Presentation",tooltip:new r.Tooltip("Select how to display the view in the application."),options:L,sortAlphabetically:!1}},...a?[{name:"presentation.launchBehavior",component:c.SelectFormControlComponent,options:{label:"Launch behavior",options:V,sortAlphabetically:!0}}]:[{name:"presentation.modalSize",component:c.SelectFormControlComponent,options:{label:"Size",options:t===o.OpenViewActionType.CenteredModal?j:j.filter(e=>e.id!==o.OpenViewActionModalSize.FullSize),sortAlphabetically:!1}},...l?[]:[{name:"presentation.title",component:c.TextFormControlComponent,options:{label:"Title"}}]]]}}B.\u0275fac=function(e){return new(e||B)},B.\u0275prov=i["\u0275\u0275defineInjectable"]({token:B,factory:B.\u0275fac,providedIn:"root"});class G extends l.RxViewDesignerActionModel{constructor(e,t){super(e,t),this.sandbox=t,this.rxViewDefinitionCacheService=this.injector.get(o.RxViewDefinitionCacheService),this.rxOpenViewModelHelperService=this.injector.get(B);const n=this.sandbox.actionProperties$.pipe((0,d.pluck)("viewDefinitionName"),(0,d.distinctUntilChanged)()),i=this.sandbox.actionProperties$.pipe((0,d.pluck)("presentation.type"),(0,d.distinctUntilChanged)()),r=this.sandbox.actionProperties$.pipe((0,d.pluck)("presentation.modalSize"),(0,d.distinctUntilChanged)());(0,a.combineLatest)([n,i,r]).pipe((0,d.switchMap)(([e,t,n])=>this.getActionEditorConfig(e,t,n))).subscribe(e=>this.sandbox.setActionPropertyEditorConfig(e)),n.pipe((0,d.switchMap)(e=>this.getViewOutputParams(e))).subscribe(e=>{this.sandbox.setActionOutputDataDictionary(e.map(({name:e})=>({label:e,expression:this.getOutputExpressionForPropertyPath(e)})))}),i.pipe((0,d.skip)(1)).subscribe(e=>{let t=this.sandbox.getActionProperties();e===o.OpenViewActionType.FullWidth?(t["presentation.launchBehavior"]=o.OpenViewActionLaunchBehavior.SameWindow,t=(0,h.omit)(t,["presentation.modalSize","presentation.title"])):(t=(0,h.omit)(t,["presentation.launchBehavior"]),t["presentation.modalSize"]&&this.sandbox.getActionPropertyValue("presentation.modalSize")!==o.OpenViewActionModalSize.FullSize||(t["presentation.modalSize"]=o.OpenViewActionModalSize.Medium)),this.sandbox.setActionProperties(t)}),r.pipe((0,d.skip)(1)).subscribe(e=>{e===o.OpenViewActionModalSize.FullSize&&this.sandbox.setActionProperties((0,h.omit)(this.sandbox.getActionProperties(),["presentation.title"]))})}static getInitialProperties(e){return Object.assign({viewDefinitionName:null,"presentation.type":o.OpenViewActionType.FullWidth,"presentation.launchBehavior":o.OpenViewActionLaunchBehavior.SameWindow},e)}getActionEditorConfig(e,t,n){return this.getViewInputParams(e).pipe((0,d.map)(e=>this.rxOpenViewModelHelperService.getOpenViewInspector(e,t,n,this.expressionConfigurator)))}getViewInputParams(e){return e?this.rxViewDefinitionCacheService.getViewDefinition(e).pipe((0,d.pluck)("inputParams")):(0,a.of)([])}getViewOutputParams(e){return e?this.rxViewDefinitionCacheService.getViewDefinition(e).pipe((0,d.pluck)("outputParams")):(0,a.of)([])}}class z{constructor(e,t,n,i){this.rxViewActionDefinitionAdapterRegistryService=e,this.openViewDefinitionAdapterService=t,this.rxViewActionRegistryService=n,this.rxOpenViewActionService=i,this.rxViewActionRegistryService.register({name:P.actionName,label:"Open view",bundleId:r.RX_APPLICATION.platformBundleId,service:this.rxOpenViewActionService,designModel:G,parameters:[{name:"viewDefinitionName",label:"View",isRequired:!0},{name:"viewParams",enableExpressionEvaluation:!0},{name:"presentation",attributes:[{name:"title",localizable:!0}]}]}),e.registerRuntimeAdapter(P.actionName,this.openViewDefinitionAdapterService)}}z.\u0275fac=function(e){return new(e||z)(i["\u0275\u0275inject"](o.RxViewActionDefinitionAdapterRegistryService),i["\u0275\u0275inject"](N),i["\u0275\u0275inject"](o.RxViewActionRegistryService),i["\u0275\u0275inject"](F))},z.\u0275mod=i["\u0275\u0275defineNgModule"]({type:z,imports:[y.CommonModule,v.RuntimeViewModule,g.AdaptDockedPanelModule]}),z.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[y.CommonModule,v.RuntimeViewModule,g.AdaptDockedPanelModule]]});class $ extends l.RxViewDesignerActionModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.rxRecordDefinitionCacheService=this.injector.get(p.RxRecordDefinitionCacheService),this.rxDefinitionNameService=this.injector.get(r.RxDefinitionNameService),this.rxAssociationDefinitionService=this.injector.get(m.RxAssociationDefinitionService);const n=this.sandbox.actionProperties$.pipe((0,d.pluck)("recordDefinitionName"),(0,d.distinctUntilChanged)()),i=this.sandbox.actionProperties$.pipe((0,d.pluck)("associationDefinitionName"),(0,d.distinctUntilChanged)()),o=n.pipe((0,d.switchMap)(e=>e?this.rxRecordDefinitionCacheService.getRecordAssociationDefinitions(e).pipe((0,d.map)(t=>t[e].map(e=>({id:e.name,name:this.rxDefinitionNameService.getDisplayName(e.name)})))):(0,a.of)([]))),s=i.pipe((0,d.switchMap)(e=>e?this.rxAssociationDefinitionService.get(e):(0,a.of)(null)),(0,d.shareReplay)(1)),l=s.pipe((0,d.map)(e=>!!e&&e.nodeAId===e.nodeBId)),c=s.pipe((0,d.map)(e=>!!e&&e.cardinality===m.RX_ASSOCIATION_DEFINITION.cardinality.manyToMany.value)),u=this.sandbox.actionProperties$.pipe((0,d.pluck)("useDefaultRoles"),(0,d.map)(Boolean),(0,d.distinctUntilChanged)());u.pipe((0,d.distinctUntilChanged)(),(0,d.skip)(1)).subscribe(e=>{e&&this.sandbox.setActionProperties((0,h.omit)(this.sandbox.getActionProperties(),["nodeARole","nodeBRole"]))});const f=s.pipe((0,d.map)(e=>e?[{id:m.RxAssociatedRecordNodeSide.NodeA,name:e.nodeAName||m.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.defaultName},{id:m.RxAssociatedRecordNodeSide.NodeB,name:e.nodeBName||m.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.defaultName}]:[]));n.pipe((0,d.skip)(1)).subscribe(()=>{this.sandbox.updateActionProperties({associationDefinitionName:null,associationDefinitionRole:null})}),s.pipe((0,d.skip)(1),(0,d.withLatestFrom)(l,n)).subscribe(([e,t,n])=>{if(e&&!t){const t=n===e.nodeAId?m.RxAssociatedRecordNodeSide.NodeA:m.RxAssociatedRecordNodeSide.NodeB;this.sandbox.updateActionProperties({associationDefinitionRole:t})}else this.sandbox.updateActionProperties({associationDefinitionRole:null})}),(0,a.combineLatest)([n,o,f,u]).pipe((0,d.withLatestFrom)(l,c)).subscribe(([[e,t,n,i],o,r])=>{this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig(e,t,n,o,r,i))})}static getInitialProperties(e){return Object.assign({recordDefinitionName:null,associationDefinitionName:null,associationDefinitionRole:null,associatedRecordId:null,viewDefinitionName:null},e)}getActionEditorConfig(e,t,n,i,o,r){return[{name:"recordDefinitionName",component:c.RxDefinitionPickerComponent,options:{label:"Record definition to associate",definitionType:c.RxDefinitionPickerType.StandardDataRecord,required:!0}},...e?[{name:"associationDefinitionName",component:c.SelectFormControlComponent,options:{label:"Association to use",options:t,required:!0}},{name:"associationDefinitionRole",component:c.SelectFormControlComponent,isDisabled:!i,options:{label:"Associated record node side",required:!0,options:n}},{name:"associatedRecordId",component:c.ExpressionFormControlComponent,options:{label:"Associated record ID",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}},{name:"viewDefinitionName",component:c.RxDefinitionPickerComponent,options:{label:"View for selecting or creating associated records",required:!0,definitionType:c.RxDefinitionPickerType.View}},...o?[{name:"useDefaultRoles",component:c.SwitchFormControlComponent,options:{label:"Use default roles"}},...o&&r?[]:[{name:"nodeARole",component:c.ExpressionFormControlComponent,options:{label:"First record role",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}},{name:"nodeBRole",component:c.ExpressionFormControlComponent,options:{label:"Second record role",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}}]]:[]]:[]]}}class U{constructor(e,t){this.rxViewActionRegistryService=e,this.rxAssociateViewActionService=t,this.rxViewActionRegistryService.register({name:"rxAssociateAction",label:"Associate records",bundleId:r.RX_APPLICATION.platformBundleId,service:this.rxAssociateViewActionService,designModel:$,parameters:[{name:"recordDefinitionName",label:"Record definition to associate",isRequired:!0,type:o.ViewComponentPropertyType.String},{name:"associationDefinitionName",label:"Association to use",isRequired:!0},{name:"associationDefinitionRole",label:"Associated record node side",isRequired:!0},{name:"associatedRecordId",label:"Associated record ID",enableExpressionEvaluation:!0,isRequired:!0},{name:"viewDefinitionName",label:"View for selecting or creating associated records",isRequired:!0,type:o.ViewComponentPropertyType.String},{name:"useDefaultRoles"},{name:"nodeARole",enableExpressionEvaluation:!0},{name:"nodeBRole",enableExpressionEvaluation:!0}]})}}U.\u0275fac=function(e){return new(e||U)(i["\u0275\u0275inject"](o.RxViewActionRegistryService),i["\u0275\u0275inject"](k))},U.\u0275mod=i["\u0275\u0275defineNgModule"]({type:U,imports:[z]}),U.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[z]]});class H{constructor(e,t,n,i){this.rxGuidService=e,this.rxOpenViewActionService=t,this.rxStringService=n,this.rxRecordInstanceUtilsService=i}execute(e){return this.rxOpenViewActionService.execute({viewDefinitionName:e.viewDefinitionName,viewParams:null,presentation:{modalSize:o.OpenViewActionModalSize.Large,type:o.OpenViewActionType.DockedRightModal}}).pipe((0,d.tap)(t=>{const n=(0,h.flow)(e=>(0,h.map)(e,e=>this.extractRecordInstance(e)),h.flatten,h.compact,h.uniq)(t);e.associationViewComponent.associate(n)}),(0,d.switchMapTo)(a.EMPTY))}extractRecordInstance(e){let t=[];if((0,h.isFunction)(e.getSelectedRows))t=(0,h.map)(e.getSelectedRows(),this.rxRecordInstanceUtilsService.convertFromDataPageRowToPlainRecordInstance);else if((0,h.isObject)(e)&&this.rxStringService.isNonEmptyString(e[o.RowDataItemIdFieldName]))t.push(this.rxRecordInstanceUtilsService.convertFromDataPageRowToPlainRecordInstance(e));else if((0,h.isArray)(e)&&(0,h.some)(e,h.isObject))t=(0,h.map)(e,this.rxRecordInstanceUtilsService.convertFromDataPageRowToPlainRecordInstance);else if((0,h.isObject)(e)&&(0,h.isObject)(e.fieldInstances)&&e.id)t.push(e);else if((0,h.isObject)(e)&&(0,h.isObject)(e.fieldInstances)&&!e.id){const n=this.rxGuidService.generate();e.id=n,e.fieldInstances[p.RX_RECORD_DEFINITION.coreFieldIds.id].value=n,e.isNewInstance=!0,t.push(e)}return t}}H.\u0275fac=function(e){return new(e||H)(i["\u0275\u0275inject"](s.RxGuidService),i["\u0275\u0275inject"](F),i["\u0275\u0275inject"](s.RxStringService),i["\u0275\u0275inject"](p.RxRecordInstanceUtilsService))},H.\u0275prov=i["\u0275\u0275defineInjectable"]({token:H,factory:H.\u0275fac,providedIn:"root"});class X{constructor(e,t){this.rxViewActionRegistryService=e,this.rxAvcAssociateActionService=t,this.rxViewActionRegistryService.register({name:"rxAvcAssociate",label:"Avc associate",bundleId:r.RX_APPLICATION.platformBundleId,hidden:!0,service:this.rxAvcAssociateActionService,parameters:[{name:"viewDefinitionName"},{name:"associationViewComponent",enableExpressionEvaluation:!0}]})}}X.\u0275fac=function(e){return new(e||X)(i["\u0275\u0275inject"](o.RxViewActionRegistryService),i["\u0275\u0275inject"](H))},X.\u0275mod=i["\u0275\u0275defineNgModule"]({type:X,imports:[y.CommonModule]}),X.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[y.CommonModule]]});class W{execute(e){return e.actAsCancel?e.viewApi.cancel():a.EMPTY.pipe((0,d.tap)({complete(){e.viewApi.close()}}))}}W.\u0275fac=function(e){return new(e||W)},W.\u0275prov=i["\u0275\u0275defineInjectable"]({token:W,factory:W.\u0275fac,providedIn:"root"});class q{constructor(e,t){this.rxViewActionRegistryService=e,this.rxCloseViewActionService=t,this.rxViewActionRegistryService.register({name:"rxCloseViewAction",label:"Close view",bundleId:r.RX_APPLICATION.platformBundleId,service:this.rxCloseViewActionService,parameters:[{name:"viewApi",enableExpressionEvaluation:!0,defaultValue:"${view.api}"},{name:"actAsCancel",label:"Act as cancel",editor:c.SwitchFormControlComponent,type:o.ViewComponentPropertyType.Boolean,designType:o.ViewComponentPropertyType.Boolean}]})}}q.\u0275fac=function(e){return new(e||q)(i["\u0275\u0275inject"](o.RxViewActionRegistryService),i["\u0275\u0275inject"](W))},q.\u0275mod=i["\u0275\u0275defineNgModule"]({type:q}),q.\u0275inj=i["\u0275\u0275defineInjector"]({});class Y{constructor(e,t,n,i,o,r,s){this.rxLogService=e,this.rxModalService=t,this.translateService=n,this.rxNotificationService=i,this.rxRecordInstanceService=o,this.rxViewActionUtilsService=r,this.rxStringService=s}execute(e){if((0,h.isEmpty)(e.recordDefinitionName)&&e.records&&(0,h.isFunction)(e.records.getRecordDefinitionName)&&(e.recordDefinitionName=e.records.getRecordDefinitionName()),this.rxStringService.isNonEmptyString(e.recordDefinitionName)){let t=[];e.records&&(t=(0,h.isFunction)(e.records.getSelectedRows)?(0,h.castArray)(e.records.getSelectedRows()):(0,h.castArray)(e.records));const n=this.rxViewActionUtilsService.extractRecordIds(t);if(n.length){const t=1===n.length?"com.bmc.arsys.rx.client.view-actions.delete-record.confirmation-dialog.message":"com.bmc.arsys.rx.client.view-actions.delete-records.confirmation-dialog.message";return(0,a.from)(this.rxModalService.confirm({title:this.translateService.instant("com.bmc.arsys.rx.client.common.warning.label"),modalStyle:x.RX_MODAL.modalStyles.warning,message:this.translateService.instant(t,{count:n.length})})).pipe((0,d.switchMap)(t=>{if(t){const t=n.map(t=>this.rxRecordInstanceService.delete(e.recordDefinitionName,t));return(0,a.forkJoin)(t).pipe((0,d.tap)(()=>{this.rxNotificationService.addSuccessMessage(this.translateService.instant("com.bmc.arsys.rx.client.view-actions.delete-records.records-deleted.message"))}),(0,d.switchMapTo)((0,h.isFunction)(e.records.refresh)?e.records.refresh():a.EMPTY))}return(0,a.throwError)(null)}))}return this.rxLogService.debug("rxDeleteRecordsAction: no records to delete."),a.EMPTY}return(0,a.throwError)(new s.RxError("rxDeleteRecordsAction: Record Definition Name is not defined."))}}Y.\u0275fac=function(e){return new(e||Y)(i["\u0275\u0275inject"](r.RxLogService),i["\u0275\u0275inject"](x.RxModalService),i["\u0275\u0275inject"](b.TranslateService),i["\u0275\u0275inject"](r.RxNotificationService),i["\u0275\u0275inject"](p.RxRecordInstanceService),i["\u0275\u0275inject"](o.RxViewActionUtilsService),i["\u0275\u0275inject"](s.RxStringService))},Y.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Y,factory:Y.\u0275fac,providedIn:"root"});class Q{constructor(e,t){this.rxViewActionRegistryService=e,this.rxDeleteRecordsViewActionService=t,this.rxViewActionRegistryService.register({name:"rxDeleteRecordsAction",label:"Delete records",bundleId:r.RX_APPLICATION.platformBundleId,service:this.rxDeleteRecordsViewActionService,parameters:[{name:"records",label:"Records",enableExpressionEvaluation:!0,isRequired:!0,editor:c.ExpressionFormControlComponent,tooltip:new r.Tooltip("Build an expression that evaluates to one of the following:<br>\n            1) Record grid<br>\n            2) A collection of record instances or<br>\n            3) A collection of record instance IDs. <br>For options 2 and 3, select a record definition in the field below.")},{name:"recordDefinitionName",label:"Record definition",type:o.ViewComponentPropertyType.String,editor:c.RxDefinitionPickerComponent,editorOptions:{definitionType:c.RxDefinitionPickerType.StandardDataRecord},defaultValue:null}]})}}Q.\u0275fac=function(e){return new(e||Q)(i["\u0275\u0275inject"](o.RxViewActionRegistryService),i["\u0275\u0275inject"](Y))},Q.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Q}),Q.\u0275inj=i["\u0275\u0275defineInjector"]({});class Z{constructor(e,t,n,i){this.rxLogService=e,this.rxViewActionUtilsService=t,this.rxAssociationDefinitionService=n,this.rxAssociationInstanceService=i}execute(e){if(!e.associatedRecordId)return(0,a.throwError)(new s.RxError("rxDisassociateAction: Associated Record ID is not defined."));const t=this.rxViewActionUtilsService.extractRecordIds(e.disassociatedRecordIds);return this.rxLogService.debug(`RxDisassociateAction: disassociating ${t.length} record(s)`),t.length?this.rxAssociationDefinitionService.get(e.associationDefinitionName).pipe((0,d.switchMap)(()=>{let n,i=[];return e.associationDefinitionRole===m.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.value?(n=t,i=[e.associatedRecordId]):e.associationDefinitionRole===m.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value&&(n=[e.associatedRecordId],i=t),this.rxAssociationInstanceService.disassociateRecords(e.associationDefinitionName,n,i).pipe((0,d.mapTo)(t))})):(0,a.of)([])}}Z.\u0275fac=function(e){return new(e||Z)(i["\u0275\u0275inject"](r.RxLogService),i["\u0275\u0275inject"](o.RxViewActionUtilsService),i["\u0275\u0275inject"](m.RxAssociationDefinitionService),i["\u0275\u0275inject"](m.RxAssociationInstanceService))},Z.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Z,factory:Z.\u0275fac,providedIn:"root"});class K extends l.RxViewDesignerActionModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.rxRecordDefinitionCacheService=this.injector.get(p.RxRecordDefinitionCacheService),this.rxDefinitionNameService=this.injector.get(r.RxDefinitionNameService),this.rxAssociationDefinitionService=this.injector.get(m.RxAssociationDefinitionService);const n=this.sandbox.actionProperties$.pipe((0,d.pluck)("recordDefinitionName"),(0,d.distinctUntilChanged)()),i=this.sandbox.actionProperties$.pipe((0,d.pluck)("associationDefinitionName"),(0,d.distinctUntilChanged)()),o=n.pipe((0,d.switchMap)(e=>e?this.rxRecordDefinitionCacheService.getRecordAssociationDefinitions(e).pipe((0,d.map)(t=>t[e].map(e=>({id:e.name,name:this.rxDefinitionNameService.getDisplayName(e.name)})))):(0,a.of)([]))),s=i.pipe((0,d.switchMap)(e=>e?this.rxAssociationDefinitionService.get(e):(0,a.of)(null)),(0,d.shareReplay)(1)),l=s.pipe((0,d.map)(e=>!!e&&e.nodeAId===e.nodeBId)),c=s.pipe((0,d.map)(e=>e?[{id:m.RxAssociatedRecordNodeSide.NodeA,name:e.nodeAName||m.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.defaultName},{id:m.RxAssociatedRecordNodeSide.NodeB,name:e.nodeBName||m.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.defaultName}]:[]));n.pipe((0,d.skip)(1)).subscribe(()=>{this.sandbox.updateActionProperties({associationDefinitionName:null,associationDefinitionRole:null})}),s.pipe((0,d.skip)(1),(0,d.withLatestFrom)(l,n)).subscribe(([e,t,n])=>{if(e&&!t){const t=n===e.nodeAId?m.RxAssociatedRecordNodeSide.NodeA:m.RxAssociatedRecordNodeSide.NodeB;this.sandbox.updateActionProperties({associationDefinitionRole:t})}else this.sandbox.updateActionProperties({associationDefinitionRole:null})}),(0,a.combineLatest)([n,o,c]).pipe((0,d.withLatestFrom)(l)).subscribe(([[e,t,n],i])=>{this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig(e,t,n,i))})}static getInitialProperties(e){return Object.assign({recordDefinitionName:null,associationDefinitionName:null,associationDefinitionRole:null,associatedRecordId:null,disassociatedRecordIds:null},e)}getActionEditorConfig(e,t,n,i){return[{name:"recordDefinitionName",component:c.RxDefinitionPickerComponent,options:{label:"Record definition to disassociate",definitionType:c.RxDefinitionPickerType.StandardDataRecord,required:!0}},...e?[{name:"associationDefinitionName",component:c.SelectFormControlComponent,options:{label:"Association to use",options:t,required:!0}},{name:"associationDefinitionRole",component:c.SelectFormControlComponent,isDisabled:!i,options:{label:"Associated record node side",required:!0,options:n}},{name:"associatedRecordId",component:c.ExpressionFormControlComponent,options:{label:"Associated record ID",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}},{name:"disassociatedRecordIds",component:c.ExpressionFormControlComponent,options:{label:"Records to disassociate",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}}]:[]]}}class J{constructor(e,t){this.rxViewActionRegistryService=e,this.rxDisassociateViewActionService=t,this.rxViewActionRegistryService.register({name:"rxDisassociateAction",label:"Disassociate records",bundleId:r.RX_APPLICATION.platformBundleId,service:this.rxDisassociateViewActionService,designModel:K,parameters:[{name:"recordDefinitionName",label:"Record definition to disassociate",isRequired:!0,type:o.ViewComponentPropertyType.String},{name:"associationDefinitionName",label:"Association to use",isRequired:!0},{name:"associationDefinitionRole",label:"Associated record node side",isRequired:!0},{name:"associatedRecordId",label:"Associated record ID",enableExpressionEvaluation:!0,isRequired:!0},{name:"disassociatedRecordIds",label:"Records to disassociate",enableExpressionEvaluation:!0,isRequired:!0}]})}}J.\u0275fac=function(e){return new(e||J)(i["\u0275\u0275inject"](o.RxViewActionRegistryService),i["\u0275\u0275inject"](Z))},J.\u0275mod=i["\u0275\u0275defineNgModule"]({type:J}),J.\u0275inj=i["\u0275\u0275defineInjector"]({});class ee{constructor(e){this.activeModelRef=e,this.data=this.activeModelRef.getData()}close(){this.activeModelRef.close()}hasActionResultDetails(e){return["warningCount","errorCount","infoCount","successCount"].some(t=>e.summary[t])}}ee.\u0275fac=function(e){return new(e||ee)(i["\u0275\u0275directiveInject"](g.ActiveModalRef))},ee.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ee,selectors:[["rx-edit-records-result-modal"]],decls:18,vars:19,consts:[[1,"modal-body"],[1,"mb-2"],[1,"mr-1","text-success-icon",3,"name"],[1,"mr-1","text-warning-icon",3,"name"],[1,"mr-1","text-danger-icon",3,"name"],["class","mt-2",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"mt-2"],["readonly","","rows","15",1,"resize-none",3,"label","ngModel"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275element"](2,"adapt-icon",2),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",1),i["\u0275\u0275element"](6,"adapt-icon",3),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div"),i["\u0275\u0275element"](10,"adapt-icon",4),i["\u0275\u0275text"](11),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](13,S,3,4,"div",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",6),i["\u0275\u0275elementStart"](15,"button",7),i["\u0275\u0275listener"]("click",function(){return t.close()}),i["\u0275\u0275text"](16),i["\u0275\u0275pipe"](17,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("name","check_circle"),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate2"](" ",i["\u0275\u0275pipeBind1"](4,11,"com.bmc.arsys.rx.client.view-actions.edit-records.action-results-dialog.updated-successfully.label"),": ",t.data.summary.successCount," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("name","exclamation_circle"),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate2"](" ",i["\u0275\u0275pipeBind1"](8,13,"com.bmc.arsys.rx.client.view-actions.edit-records.action-results-dialog.updated-with-warnings.label"),": ",t.data.summary.warningCount," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("name","exclamation_triangle"),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate2"](" ",i["\u0275\u0275pipeBind1"](12,15,"com.bmc.arsys.rx.client.view-actions.edit-records.action-results-dialog.update-failures.label"),": ",t.data.summary.errorCount," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.hasActionResultDetails(t.data)&&t.data.details),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](17,17,"com.bmc.arsys.rx.client.common.close.label")," "))},directives:[g.AdaptIconComponent,y.NgIf,g.AdaptRxTextareaComponent,w.NgControlStatus,w.NgModel],pipes:[b.TranslatePipe],styles:["[_nghost-%COMP%]     .resize-none{resize:none}"]});class te{constructor(e,t,n){this.adaptModalService=e,this.translateService=t,this.rxCommandFactoryService=n,this.resourceType="com.bmc.arsys.rx.application.record.command.UpdateRecordInstancesCommand",this.editRecordsCommand=this.rxCommandFactoryService.forResourceType(this.resourceType)}editRecords(e){return this.editRecordsCommand.execute(e)}showActionResults(e){return this.adaptModalService.open({size:"sm",title:this.translateService.instant("com.bmc.arsys.rx.client.view-actions.edit-records.action-results-dialog.title"),data:e,content:ee}).catch(h.noop)}runAction(e,t){const n=this.prepareRecordData(e,t),i=new FormData;return i.append("commandInstance",JSON.stringify(n.commandInstance)),(0,h.forEach)(n.attachments,e=>{i.append(e.key,e.file)}),Object.keys(n||{}).map(e=>{"commandInstance"!==e&&"attachments"!==e&&i.append(e,JSON.stringify(n[e]))}),this.editRecords(i).pipe((0,d.map)(e=>this.prepareActionResults(e,n)),(0,d.switchMap)(e=>(0,a.from)(Promise.resolve(this.showActionResults(e)))))}cleanUnchangedFields(e){return(0,h.forIn)(e.fieldInstances,(t,n)=>{(0,h.isNull)(t.value)&&delete e.fieldInstances[n]})}prepareFiles(e,t){return(0,h.values)(e).filter(e=>(0,h.has)(e,"file")).map(e=>({key:t?t+"/"+e.id:e.id,file:e.file}))}cleanFiles(e){return Object.keys(e).map((t,n)=>{e[t].hasOwnProperty("file")?delete e[t]:delete e[t].file}),e}prepareAssociationInstancesForSaving(e){return(0,h.transform)(e,(e,t,n)=>{(0,h.forEach)(t,(t,i)=>{(0,h.isEmpty)(t.pending)||e.push({associationDefinitionName:n,recordInstanceIds:(0,h.map)(t.pending,"id"),nodeSide:i,resourceType:p.RX_RECORD_INSTANCE.association.operationResourceTypes.associate})})},[])}prepareRecordData(e,t){const n=(0,h.pick)(t,["resourceType","recordDefinitionName","fieldInstances"]);n.fieldInstances=this.cleanUnchangedFields(n);const i=this.prepareFiles(n.fieldInstances);n.fieldInstances=this.cleanFiles(n.fieldInstances);const o=this.prepareAssociationInstancesForSaving(t.associationInstances),r={shouldOverrideOptimisticLock:!1,commandInstance:{resourceType:"com.bmc.arsys.rx.application.record.command.UpdateRecordInstancesCommand"},recordInstanceIds:e,recordInstance:n,attachments:i};return(0,h.isEmpty)(o)||(r.associationOperations=o.map(e=>Object.assign(Object.assign({},e),{nodeSide:e.nodeSide.split(":")[0]}))),r}prepareActionResults(e,t){const n=t.recordInstanceIds.length,i=this.translateService.instant("com.bmc.arsys.rx.client.view-actions.edit-records.action-results-dialog.details.record-instance-id.label"),o={successCount:0,errorCount:0,warningCount:0,infoCount:0};let s;return(0,h.isEmpty)(e)?s="":(o.errorCount=(0,h.filter)(e,e=>(0,h.some)(e,["messageType",r.RX_ERROR_HANDLING.messageTypes.error])).length,o.warningCount=(0,h.filter)(e,e=>(0,h.some)(e,["messageType",r.RX_ERROR_HANDLING.messageTypes.warning])).length,o.infoCount=(0,h.filter)(e,e=>(0,h.some)(e,["messageType",r.RX_ERROR_HANDLING.messageTypes.info])).length,o.successCount=(0,h.filter)(e,e=>(0,h.some)(e,["messageType",r.RX_ERROR_HANDLING.messageTypes.success])).length,s=(0,h.map)(e,(e,t)=>i+": "+t+"\n"+(0,h.values)(e).map(this.convertMessageToString).join(", ")).join("\n\n")),o.successCount=n-o.errorCount-o.warningCount,{summary:o,details:s}}convertMessageToString(e){return`${e.messageType}: ${(0,h.values)([e.messageText,e.appendedText]).join(" ")}`}}te.\u0275fac=function(e){return new(e||te)(i["\u0275\u0275inject"](g.AdaptModalService),i["\u0275\u0275inject"](b.TranslateService),i["\u0275\u0275inject"](r.RxCommandFactoryService))},te.\u0275prov=i["\u0275\u0275defineInjectable"]({token:te,factory:te.\u0275fac,providedIn:"root"});class ne{constructor(e,t,n,i,o){this.rxGuidService=e,this.rxDefaultRecordEditorInputType=t,this.rxFieldDefinitionService=n,this.translateService=i,this.rxSystemConfigurationService=o}getViewDefinition(e,t){const n=this.rxGuidService.generate(),i=this.rxGuidService.generate(),r=this.rxGuidService.generate(),s=this.rxGuidService.generate(),a=this.rxGuidService.generate(),l=this.getComponentDefinitions(t,r);return{guid:a,layout:JSON.stringify({outlets:[{name:o.RX_VIEW_DEFINITION.defaultOutletName,columns:[{children:[r]}]},{name:"footer",height:60,columns:[{children:[i]}]}]}),outputParams:[{name:"recordInstance",source:"${view.components."+r+".recordInstance}"}],inputParams:[],componentDefinitions:[{resourceType:o.RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,guid:r,type:o.RxViewComponentType.RecordEditor,propertiesByName:{recordInstanceId:"null",mode:u.RecordEditorMode.BulkEdit,recordDefinitionName:e,styles:"p-0 border-0"},componentDefinitions:l,layout:JSON.stringify({outlets:[{name:o.RX_VIEW_DEFINITION.defaultOutletName,columns:[{children:l.map(e=>e.guid)}]}]})},{resourceType:o.RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,guid:i,type:o.RxViewComponentType.ButtonBar,propertiesByName:{alignment:"right",hidden:"0"},layout:JSON.stringify({outlets:[{name:o.RX_VIEW_DEFINITION.defaultOutletName,columns:[{children:[s,n]}]}]}),componentDefinitions:[{resourceType:o.RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,guid:n,type:o.RxViewComponentType.ActionButton,propertiesByName:{label:this.translateService.instant("com.bmc.arsys.rx.client.common.cancel.label"),style:"secondary",size:"default"},componentDefinitions:[{resourceType:o.RX_VIEW_DEFINITION.resourceTypes.viewComponent,guid:this.rxGuidService.generate(),type:o.RxViewComponentType.Action,propertiesByName:{viewApi:"${view.api}",name:"rxCloseViewAction",actAsCancel:"true"}}]},{resourceType:o.RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,guid:s,type:o.RxViewComponentType.ActionButton,propertiesByName:{label:this.translateService.instant("com.bmc.arsys.rx.client.common.save.label"),style:"primary",disabled:"NOT${view.components."+r+".canSave}",size:"default"},componentDefinitions:[{resourceType:o.RX_VIEW_DEFINITION.resourceTypes.viewComponent,guid:this.rxGuidService.generate(),type:o.RxViewComponentType.Action,propertiesByName:{viewApi:"${view.api}",name:"rxCloseViewAction",actAsCancel:"false"}}]}]}]}}getComponentDefinitions(e,t){this.rxSystemConfigurationService.getConfigurationSync("Submitter-Mode")===r.RX_ADMINISTRATION.submitterModes.locked&&(e=e.filter(e=>Number(e.fieldId)!==p.RX_RECORD_DEFINITION.coreFieldIds.createdBy));const n=this.getFieldContainerComponentDefinitions(e,t);return[{resourceType:o.RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,guid:this.rxGuidService.generate(),type:o.RxViewComponentType.Container,propertiesByName:{rowWrap:u.ContainerRowWrap.Sm,columnCount:"1"},componentDefinitions:n,layout:JSON.stringify({outlets:[{name:o.RX_VIEW_DEFINITION.defaultOutletName,columns:[{children:n.map(e=>e.guid)}]}]})}]}getFieldContainerComponentDefinitions(e,t){return e.filter(e=>!this.rxFieldDefinitionService.isSystemField(e.fieldDefinition)).map(e=>{let n,i;const r=Boolean(e.associationDescriptor);r?(n=o.RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,i=o.RxViewComponentType.Association):(n=o.RX_VIEW_DEFINITION.resourceTypes.viewComponent,i=this.rxDefaultRecordEditorInputType.getFieldTypeByFieldDefinition(e.fieldDefinition));const s={resourceType:n,guid:this.rxGuidService.generate(),type:i,propertiesByName:{fieldId:e.fieldDefinition.id,recordDefinition:"${view.components."+t+".recordDefinition}",recordInstance:"${view.components."+t+".recordInstance}",label:e.title,fieldOption:p.RX_RECORD_DEFINITION.fieldOptions.optional}};return r&&(s.componentDefinitions=[],(0,h.assign)(s.propertiesByName,{associatedRecordNodeSide:e.associationDescriptor.nodeSide,editingMode:u.RxAssociationEditingMode.Dropdown,associationDefinitionName:e.associationDescriptor.associationDefinition.name,recordDefinitionName:e.associationDescriptor.recordDefinitionName})),s}).reduce((e,t,n,i)=>(n%2==0&&e.push({resourceType:o.RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,guid:this.rxGuidService.generate(),type:o.RxViewComponentType.Container,propertiesByName:{rowWrap:u.ContainerRowWrap.Sm,columnCount:"2"},componentDefinitions:i.slice(n,n+2),layout:JSON.stringify({outlets:[{name:o.RX_VIEW_DEFINITION.defaultOutletName,columns:[{children:[t.guid],span:"6"},{children:i.length>n+1?[i[n+1].guid]:[],span:"6"}]}]})}),e),[])}}ne.\u0275fac=function(e){return new(e||ne)(i["\u0275\u0275inject"](s.RxGuidService),i["\u0275\u0275inject"](u.RxDefaultRecordEditorInputType),i["\u0275\u0275inject"](p.RxFieldDefinitionService),i["\u0275\u0275inject"](b.TranslateService),i["\u0275\u0275inject"](r.RxSystemConfigurationService))},ne.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ne,factory:ne.\u0275fac,providedIn:"root"});class ie{constructor(e,t,n,i,o,r,s,a){this.rxEditRecordsViewBuilder=e,this.rxEditRecordsDataService=t,this.rxLogService=n,this.rxRecordGridUtilsService=i,this.translateService=o,this.rxDefinitionNameService=r,this.openViewAction=s,this.rxViewActionUtilsService=a}execute(e){let{recordDefinitionName:t}=e;if((0,h.isNil)(e.records))return(0,a.throwError)(new s.RxError("rxEditRecordsAction: no records to edit."));if((0,h.isEmpty)(t)&&(0,h.isFunction)(e.records.getRecordDefinitionName)&&(t=e.records.getRecordDefinitionName()),t){const n=this.rxViewActionUtilsService.extractRecordIds(e.records);if(n.length)return(0,a.from)(this.rxRecordGridUtilsService.getColumnDescriptors(t,e.records)).pipe((0,d.switchMap)(i=>{const o=this.translateService.instant("com.bmc.arsys.rx.client.view-actions.edit-records.view.title",{recordDefinitionName:this.rxDefinitionNameService.getDisplayName(t)}),r=this.translateService.instant("com.bmc.arsys.rx.client.view-actions.edit-records.view.notification");return this.openViewAction.execute({presentation:{modalSize:P.modalSize.Large,title:o,notification:r,type:P.type.DockedRightModal},viewDefinitionName:this.rxEditRecordsViewBuilder.getViewDefinition(t,i),viewParams:null}).pipe((0,d.switchMap)(t=>t&&t.recordInstance?this.rxEditRecordsDataService.runAction(n,t.recordInstance).pipe((0,d.switchMap)(()=>(0,h.isFunction)(e.records.refresh)?e.records.refresh():a.EMPTY)):a.EMPTY))}));this.rxLogService.debug("rxEditRecordsAction: no records to edit.")}else this.rxLogService.error("rxEditRecordsAction: Record Definition Name is not defined.");return a.EMPTY}}ie.\u0275fac=function(e){return new(e||ie)(i["\u0275\u0275inject"](ne),i["\u0275\u0275inject"](te),i["\u0275\u0275inject"](r.RxLogService),i["\u0275\u0275inject"](u.RxRecordGridUtilsService),i["\u0275\u0275inject"](b.TranslateService),i["\u0275\u0275inject"](r.RxDefinitionNameService),i["\u0275\u0275inject"](F),i["\u0275\u0275inject"](o.RxViewActionUtilsService))},ie.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ie,factory:ie.\u0275fac,providedIn:"root"});class oe{constructor(e,t){this.rxViewActionRegistryService=e,this.rxEditRecordsActionService=t,this.rxViewActionRegistryService.register({name:"rxEditRecordsAction",label:"Edit records",bundleId:r.RX_APPLICATION.platformBundleId,service:this.rxEditRecordsActionService,parameters:[{name:"records",label:"Records",isRequired:!0,tooltip:new r.Tooltip("Build an expression that evaluates to one of the following:<br>\n            1) Record Grid;<br>\n            2) A collection of Record Instances, or<br>\n            3) A collection of Record Instance IDs. <br>For options 2 and 3, select a Record Definition in the field below."),enableExpressionEvaluation:!0,editor:c.ExpressionFormControlComponent},{name:"recordDefinitionName",label:"Record definition",type:o.ViewComponentPropertyType.String,editor:c.RxDefinitionPickerComponent,editorOptions:{definitionType:c.RxDefinitionPickerType.StandardDataRecord},defaultValue:null}]})}}oe.\u0275fac=function(e){return new(e||oe)(i["\u0275\u0275inject"](o.RxViewActionRegistryService),i["\u0275\u0275inject"](ie))},oe.\u0275mod=i["\u0275\u0275defineNgModule"]({type:oe,declarations:[ee],imports:[y.CommonModule,g.AdaptIconModule,b.TranslateModule,w.FormsModule,g.AdaptRxTextareaModule]}),oe.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[y.CommonModule,g.AdaptIconModule,b.TranslateModule,w.FormsModule,g.AdaptRxTextareaModule]]});class re{constructor(e,t,n){this.rxProcessDefinitionService=e,this.rxViewActionRegistryService=t,this.rxViewExpressionValidatorService=n}validate(e,t){return e.processDefinitionName?this.rxProcessDefinitionService.get(e.processDefinitionName).pipe((0,d.switchMap)(n=>(0,a.combineLatest)([this.validateInputParams(e,t,n.inputParams),this.validateInputParamExpressions(e,t,n.inputParams)])),(0,d.map)(h.flatten)):(0,a.of)([])}validateInputParamExpressions(e,t,n){const i=this.rxViewActionRegistryService.get(e.name),o=n.filter(t=>e[`actionProcessInputParams.${t.name}`]).map(n=>this.rxViewExpressionValidatorService.validate(e[`actionProcessInputParams.${n.name}`],t,i.label).pipe((0,d.map)(e=>e.map(e=>Object.assign(Object.assign({},e),{description:`${i.label} action: ${e.description}`})))));return(0,a.combineLatest)(o).pipe((0,d.defaultIfEmpty)([]),(0,d.map)(h.flatten))}validateInputParams(e,t,n){const i=this.rxViewActionRegistryService.get(e.name),o=[];return(0,h.forEach)(n,n=>{const r=`actionProcessInputParams.${n.name}`;"REQUIRED"===n.fieldOption&&(0,h.isEmpty)(e[r])&&o.push({type:"error",description:`${i.label}: ${n.name} cannot be blank.`,propertyName:t})}),(0,a.of)(o)}}re.\u0275fac=function(e){return new(e||re)(i["\u0275\u0275inject"](C.RxProcessDefinitionService),i["\u0275\u0275inject"](o.RxViewActionRegistryService),i["\u0275\u0275inject"](l.RxViewExpressionValidatorService))},re.\u0275prov=i["\u0275\u0275defineInjectable"]({token:re,factory:re.\u0275fac});class se extends l.RxViewDesignerActionModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.rxProcessDefinitionCacheService=this.injector.get(C.RxProcessDefinitionCacheService),this.rxRecordDefinitionCacheService=this.injector.get(p.RxRecordDefinitionCacheService),this.defaultProps={processDefinitionName:null,waitForProcessCompletion:!1};const n=this.sandbox.actionProperties$.pipe((0,d.pluck)("processDefinitionName"),(0,d.distinctUntilChanged)());n.pipe((0,d.skip)(1)).subscribe(e=>{this.sandbox.setActionProperties({processDefinitionName:e,waitForProcessCompletion:!1})}),n.pipe((0,d.switchMap)(e=>e?this.rxProcessDefinitionCacheService.getProcessDefinition(e):(0,a.of)(null))).subscribe(e=>this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig(e))),this.sandbox.actionProperties$.pipe((0,d.map)(e=>[e.processDefinitionName,e.waitForProcessCompletion]),(0,d.distinctUntilChanged)(h.isEqual),(0,d.switchMap)(([e,t])=>this.getActionOutputDataDictionary(e,t))).subscribe(e=>this.sandbox.setActionOutputDataDictionary(e))}static getInitialProperties(e){return Object.assign({processDefinitionName:null,waitForProcessCompletion:!1},e)}getActionEditorConfig(e){return[{name:"processDefinitionName",component:c.RxDefinitionPickerComponent,options:{label:"Process to start",definitionType:c.RxDefinitionPickerType.Process,required:!0}},{name:"waitForProcessCompletion",component:c.SwitchFormControlComponent,isDisabled:!e||!e.synchronous,options:{label:"Wait for process completion",tooltip:new r.Tooltip("If a process runs synchronously, it is possible to get output data from the process once the process completes. Enable Wait for completion in order to define an output map for the selected process.")}},...e?(0,h.map)(e.inputParams,e=>({name:`actionProcessInputParams.${e.name}`,component:c.ExpressionFormControlComponent,options:{label:e.name,dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:"REQUIRED"===e.fieldOption}})):[]]}getActionOutputDataDictionary(e,t){return t?this.rxProcessDefinitionCacheService.getOutputParams(e).pipe((0,d.switchMap)(e=>(0,a.forkJoin)(e.map(e=>{let t;if(e.fieldTypeName===C.RX_PROCESS_DEFINITION.processVariableTypes.record){const n=e;t=this.rxRecordDefinitionCacheService.getRecordDefinition(n.recordDefinitionName).pipe((0,d.map)(e=>({label:n.name,expression:this.getOutputExpressionForPropertyPath(n.name),children:(0,h.map)(e.fieldDefinitions,e=>({label:e.name,expression:this.getOutputExpressionForPropertyPath(`${n.name}.${e.id}`)}))})))}else t=(0,a.of)({label:e.name,expression:this.getOutputExpressionForPropertyPath(e.name)});return t})))):(0,a.of)([])}}class ae{constructor(e,t,n,i,o,r,s){this.rxJsonParserService=e,this.rxLogService=t,this.rxProcessDefinitionCacheService=n,this.rxRecordDefinitionCacheService=i,this.rxProcessInstanceCommandsService=o,this.rxProcessInstanceService=r,this.rxRecordInstanceService=s}execute(e){let t,n;return this.rxProcessInstanceCommandsService.start(e.processDefinitionName,e.actionProcessInputParams).pipe((0,d.switchMap)(n=>{if(e.waitForProcessCompletion){const i=n.headers.get("location");return t=i?(0,h.last)(i.split("/")):null,this.rxProcessDefinitionCacheService.getOutputParams(e.processDefinitionName)}return(0,a.of)(null)}),(0,d.switchMap)(i=>(0,h.isEmpty)(i)?(0,a.of)(null):(n=i.reduce((e,t)=>(e[t.name]=t,e),{}),this.rxProcessInstanceService.get(e.processDefinitionName,`${t}/processOutputVariables`))),(0,d.switchMap)(e=>{const t={};return(0,h.forEach)(e,(e,i)=>{if(n[i].fieldTypeName===C.RX_PROCESS_DEFINITION.processVariableTypes.record){const n=this.rxJsonParserService.tryParseJson(e);n&&n.recordDefinitionName&&n.id?t[i]=this.rxRecordInstanceService.get(n.recordDefinitionName,n.id).pipe((0,d.map)(e=>(0,h.reduce)(e.fieldInstances,(e,t)=>(e[t.id]=t.value,e),{}))):this.rxLogService.warning("rxLaunchProcessAction: unknown format for record instance as output data for process")}else t[i]=(0,a.of)(e)}),(0,a.forkJoin)(t)}))}}ae.\u0275fac=function(e){return new(e||ae)(i["\u0275\u0275inject"](s.RxJsonParserService),i["\u0275\u0275inject"](r.RxLogService),i["\u0275\u0275inject"](C.RxProcessDefinitionCacheService),i["\u0275\u0275inject"](p.RxRecordDefinitionCacheService),i["\u0275\u0275inject"](C.RxProcessInstanceCommandsService),i["\u0275\u0275inject"](C.RxProcessInstanceService),i["\u0275\u0275inject"](p.RxRecordInstanceService))},ae.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ae,factory:ae.\u0275fac,providedIn:"root"});class le{constructor(e,t,n){this.rxViewActionRegistryService=e,this.rxLaunchProcessViewActionService=t,this.rxLaunchProcessViewActionDesignManagerService=n,this.rxViewActionRegistryService.register({name:"rxLaunchProcessAction",label:"Launch process",bundleId:r.RX_APPLICATION.platformBundleId,service:this.rxLaunchProcessViewActionService,designManager:this.rxLaunchProcessViewActionDesignManagerService,designModel:se,parameters:[{name:"processDefinitionName",label:"Process to start",type:o.ViewComponentPropertyType.String,isRequired:!0},{name:"waitForProcessCompletion",type:o.ViewComponentPropertyType.Boolean,designType:o.ViewComponentPropertyType.Boolean},{name:"actionProcessInputParams",label:"Input map",enableExpressionEvaluation:!0}]})}}le.\u0275fac=function(e){return new(e||le)(i["\u0275\u0275inject"](o.RxViewActionRegistryService),i["\u0275\u0275inject"](ae),i["\u0275\u0275inject"](re))},le.\u0275mod=i["\u0275\u0275defineNgModule"]({type:le}),le.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[re]});class ce{execute(e){return e.url?(window.open(e.url,o.RX_LAUNCH_BEHAVIOR[e.launchBehavior].target),a.EMPTY):(0,a.throwError)(new s.RxError("rxLaunchUrlAction: URL is not specified."))}}ce.\u0275fac=function(e){return new(e||ce)},ce.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ce,factory:ce.\u0275fac,providedIn:"root"});class de extends l.RxViewDesignerActionModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig())}static getInitialProperties(e){return Object.assign({url:null,launchBehavior:o.RX_LAUNCH_BEHAVIOR.newWindow.value},e)}getActionEditorConfig(){return[{name:"url",component:c.ExpressionFormControlComponent,options:{label:"URL",isRequired:!0,dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}},{name:"launchBehavior",component:c.SelectFormControlComponent,options:{label:"Launch behavior",options:(0,h.map)(o.RX_LAUNCH_BEHAVIOR,e=>({name:e.content,id:e.value})),sortAlphabetically:!1}}]}}class ue{adaptDefinition(e){var t;const n=(0,h.get)(e,"propertiesByName",{});n.launchBehavior=null!==(t=n.launchBehavior)&&void 0!==t?t:o.RX_LAUNCH_BEHAVIOR.newWindow.value}}ue.\u0275fac=function(e){return new(e||ue)},ue.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ue,factory:ue.\u0275fac,providedIn:"root"});class pe{constructor(e,t,n,i){this.rxViewActionDefinitionAdapterRegistryService=e,this.rxViewActionRegistryService=t,this.rxLaunchUrlViewActionService=n,this.rxLaunchUrlActionDefinitionAdapterService=i,this.rxViewActionRegistryService.register({name:"rxLaunchUrlAction",label:"Launch URL",bundleId:r.RX_APPLICATION.platformBundleId,service:this.rxLaunchUrlViewActionService,designModel:de,parameters:[{name:"url",label:"URL",enableExpressionEvaluation:!0,isRequired:!0},{name:"launchBehavior",label:"Launch behavior"}]}),e.registerRuntimeAdapter("rxLaunchUrlAction",this.rxLaunchUrlActionDefinitionAdapterService)}}pe.\u0275fac=function(e){return new(e||pe)(i["\u0275\u0275inject"](o.RxViewActionDefinitionAdapterRegistryService),i["\u0275\u0275inject"](o.RxViewActionRegistryService),i["\u0275\u0275inject"](ce),i["\u0275\u0275inject"](ue))},pe.\u0275mod=i["\u0275\u0275defineNgModule"]({type:pe}),pe.\u0275inj=i["\u0275\u0275defineInjector"]({});class he{execute(e){return e.component?(0,h.isFunction)(e.component.refresh)?e.component.refresh():(0,a.throwError)(new s.RxError("rxRefreshAction: target component does not support refresh API.")):(0,a.throwError)(new s.RxError("rxRefreshAction: component is not specified."))}}he.\u0275fac=function(e){return new(e||he)},he.\u0275prov=i["\u0275\u0275defineInjectable"]({token:he,factory:he.\u0275fac,providedIn:"root"});class me{constructor(e,t){this.rxViewActionRegistryService=e,this.rxRefreshViewActionService=t,this.rxViewActionRegistryService.register({name:"rxRefreshAction",label:"Refresh",bundleId:r.RX_APPLICATION.platformBundleId,service:this.rxRefreshViewActionService,parameters:[{name:"component",label:"View/Component",enableExpressionEvaluation:!0,isRequired:!0,editor:c.ExpressionFormControlComponent}]})}}me.\u0275fac=function(e){return new(e||me)(i["\u0275\u0275inject"](o.RxViewActionRegistryService),i["\u0275\u0275inject"](he))},me.\u0275mod=i["\u0275\u0275defineNgModule"]({type:me}),me.\u0275inj=i["\u0275\u0275defineInjector"]({});class fe{execute(e){if((0,h.isFunction)(e.targetApi.save)){const t=(0,h.isFunction)(e.viewApi.close)?a.EMPTY.pipe((0,d.tap)({complete(){e.viewApi.close()}})):(0,a.throwError)(new s.RxError("rxSaveAction: target view does not support close API."));return(0,a.concat)(e.targetApi.save(e.closeAfterSave),e.closeAfterSave?t:a.EMPTY)}return(0,a.throwError)(new s.RxError("rxSaveAction: target view/component does not support save API."))}}fe.\u0275fac=function(e){return new(e||fe)},fe.\u0275prov=i["\u0275\u0275defineInjectable"]({token:fe,factory:fe.\u0275fac,providedIn:"root"});class ge{constructor(e,t){this.rxViewActionRegistryService=e,this.rxSaveViewActionService=t,this.rxViewActionRegistryService.register({name:"rxSaveAction",label:"Save",bundleId:r.RX_APPLICATION.platformBundleId,service:this.rxSaveViewActionService,parameters:[{name:"targetApi",label:"View/Component",editor:c.ExpressionFormControlComponent,isRequired:!0,enableExpressionEvaluation:!0},{name:"closeAfterSave",label:"Close after save",editor:c.SwitchFormControlComponent,type:o.ViewComponentPropertyType.Boolean,designType:o.ViewComponentPropertyType.Boolean},{name:"viewApi",enableExpressionEvaluation:!0,defaultValue:"${view.api}"}]})}}ge.\u0275fac=function(e){return new(e||ge)(i["\u0275\u0275inject"](o.RxViewActionRegistryService),i["\u0275\u0275inject"](fe))},ge.\u0275mod=i["\u0275\u0275defineNgModule"]({type:ge}),ge.\u0275inj=i["\u0275\u0275defineInjector"]({});class ve{execute(e){let t=(0,a.throwError)(new s.RxError("rxSetPropertyAction: component is not specified."));if(e.componentApi&&(0,h.isFunction)(e.componentApi.setProperty)&&e.propertyPath){const n=e.propertyPath.match(/^\$\{view\.components\.[0-9a-z-]+\.(.+)}$/);n&&n[1]&&(t=e.componentApi.setProperty(n[1],e.propertyValue))}return(0,a.isObservable)(t)?t:a.EMPTY}}ve.\u0275fac=function(e){return new(e||ve)},ve.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ve,factory:ve.\u0275fac});class ye extends l.RxViewActionExpressionConfigurator{constructor(e,t,n){super(e,t,n),this.configureForProperty({propertyPath:"propertyPath",dataDictionary$:e.get(l.RxViewDataDictionaryService).settablePropertiesDataDictionary$,operators:this.getOperatorRowsByGroup(r.ExpressionOperatorGroup.MathClient)})}}class be extends l.RxViewDesignerActionModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.expressionConfigurator=new ye(this.injector,this.sandbox.descriptor.name,this.guid),this.sandbox.actionProperties$.pipe((0,d.take)(1)).subscribe(()=>this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig())),this.sandbox.actionProperties$.pipe((0,d.pluck)("propertyPath"),(0,d.distinctUntilChanged)()).subscribe(e=>{let t=null;if(e&&e.length){const n=e.match(/\${view\.components\.([0-9a-z-]+)\..+}/);n&&n[1]&&(t=`\${view.components.${n[1]}.api}`)}this.sandbox.updateActionProperties({componentApi:t})})}static getInitialProperties(e){return Object.assign({componentApi:null,propertyPath:null,propertyValue:null},e)}getActionEditorConfig(){return[{name:"propertyPath",component:c.ExpressionFormControlComponent,options:{label:"Property path",dataDictionary$:this.expressionConfigurator.getDataDictionary("propertyPath"),operators:this.expressionConfigurator.getOperators("propertyPath"),isRequired:!0}},{name:"propertyValue",component:c.ExpressionFormControlComponent,options:{label:"Property value",dataDictionary$:this.expressionConfigurator.getDataDictionary("propertyValue"),operators:this.expressionConfigurator.getOperators("propertyValue")}}]}}class xe{validate(e,t){return(0,a.of)(e.propertyPath&&!/\${view\.components\.([0-9a-z-]+)\..+}/.test(e.propertyPath)?[{type:"error",description:"Set property action: Property path is invalid.",propertyName:t}]:[])}}xe.\u0275fac=function(e){return new(e||xe)},xe.\u0275prov=i["\u0275\u0275defineInjectable"]({token:xe,factory:xe.\u0275fac});class we{constructor(e,t,n){this.rxViewActionRegistryService=e,this.rxSetPropertyViewActionService=t,this.rxSetPropertyViewActionDesignManagerService=n,this.rxViewActionRegistryService.register({name:"rxSetPropertyAction",label:"Set property",bundleId:r.RX_APPLICATION.platformBundleId,service:this.rxSetPropertyViewActionService,designModel:be,designManager:n,parameters:[{name:"componentApi",label:"Component API",enableExpressionEvaluation:!0},{name:"propertyPath",label:"Property path",isRequired:!0},{name:"propertyValue",enableExpressionEvaluation:!0}]})}}we.\u0275fac=function(e){return new(e||we)(i["\u0275\u0275inject"](o.RxViewActionRegistryService),i["\u0275\u0275inject"](ve),i["\u0275\u0275inject"](xe))},we.\u0275mod=i["\u0275\u0275defineNgModule"]({type:we}),we.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[ve,xe]});class Ce{constructor(e,t,n,i,o,r,s){this.rxApplicationLoaderService=e,this.rxBundleCacheService=t,this.rxJsonParserService=n,this.rxProcessDefinitionCacheService=i,this.domSanitizer=o,this.activeModalRef=r,this.rxUtilityModalsService=s,this.isProcessDesignerLoadingInProgress=!0,this.isDefinitionDirty=!1,this.context=r;const a=this.context.getData();localStorage.setItem("ProcessDesignerPaletteElements",a.paletteElements),this.iframeSrc=this.domSanitizer.bypassSecurityTrustResourceUrl(`/com.bmc.arsys.rx.innovationstudio/index.html#/app/bundle/${this.rxBundleCacheService.bundleId}/iprocess/${a.processDefinitionName?a.processDefinitionName:""}`)}onMessage(e){if(e.data){const t=this.rxJsonParserService.tryParseJson(e.data);if(t)switch(t.messageType){case r.RX_DESIGNER.messageTypes.designerLoaded:this.isProcessDesignerLoadingInProgress=!1;break;case r.RX_DESIGNER.messageTypes.afterSave:this.isDefinitionDirty=!1;break;case r.RX_DESIGNER.messageTypes.definitionStatusChanged:this.isDefinitionDirty=t.payload.isDirty;break;case r.RX_DESIGNER.messageTypes.closeDesigner:t.payload.processDefinitionName?this.isDefinitionDirty?this.rxUtilityModalsService.confirmUnsavedChanges().then(e=>{e&&this.closeProcessDesigner(t.payload.processDefinitionName)}):this.closeProcessDesigner(t.payload.processDefinitionName):this.isDefinitionDirty?this.rxUtilityModalsService.confirmUnsavedChanges().then(e=>{e&&this.context.dismiss(g.DismissReasons.CLOSE_BTN)}):this.context.dismiss(g.DismissReasons.CLOSE_BTN)}}}closeProcessDesigner(e){this.rxProcessDefinitionCacheService.clearCache([e]),this.context.close({processDefinitionName:e})}}Ce.\u0275fac=function(e){return new(e||Ce)(i["\u0275\u0275directiveInject"](r.RxApplicationLoaderService),i["\u0275\u0275directiveInject"](r.RxBundleCacheService),i["\u0275\u0275directiveInject"](s.RxJsonParserService),i["\u0275\u0275directiveInject"](C.RxProcessDefinitionCacheService),i["\u0275\u0275directiveInject"](_.DomSanitizer),i["\u0275\u0275directiveInject"](g.ActiveModalRef),i["\u0275\u0275directiveInject"](x.RxUtilityModalsService))},Ce.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ce,selectors:[["rx-process-designer-frame"]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("message",function(e){return t.onMessage(e)},!1,i["\u0275\u0275resolveWindow"])},decls:2,vars:2,consts:[["id","rx-application-loader-container","class","position-absolute w-100",4,"ngIf"],[1,"h-100",3,"src"],["id","rx-application-loader-container",1,"position-absolute","w-100"],[1,"rx-application-loader"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,I,2,0,"div",0),i["\u0275\u0275element"](1,"iframe",1)),2&e&&(i["\u0275\u0275property"]("ngIf",t.isProcessDesignerLoadingInProgress),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",t.iframeSrc,i["\u0275\u0275sanitizeResourceUrl"]))},directives:[y.NgIf],styles:["[_nghost-%COMP%]{height:100vh}"]});class _e{constructor(e,t){this.adaptModalService=e,this.rxProcessDefinitionCacheService=t}execute(e){return e.processDefinitionName?this.rxProcessDefinitionCacheService.getProcessDefinition(e.processDefinitionName).pipe((0,d.switchMap)(()=>this.openModal(e))):(0,a.defer)(()=>(0,a.from)(this.openModal(e)))}openModal(e){return this.adaptModalService.open({content:Ce,size:o.OpenViewActionModalSize.FullSize,data:e})}}_e.\u0275fac=function(e){return new(e||_e)(i["\u0275\u0275inject"](g.AdaptModalService),i["\u0275\u0275inject"](C.RxProcessDefinitionCacheService))},_e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:_e,factory:_e.\u0275fac,providedIn:"root"});class Se extends c.ValueAccessor{constructor(e,t,n,i,o){super(),this.rxDesignerStencilBuilder=e,this.rxJsonParserService=t,this.rxProcessElementsService=n,this.renderer=i,this.translateService=o,this.selection=[],this.destroyed$=new a.ReplaySubject(1)}ngOnInit(){const e=this.innerValue;this.selectedPaletteElements="*"===e?"*":this.rxJsonParserService.tryParseJson(e,null),this.rxDesignerStencilBuilder.buildElementsTree(this.rxProcessElementsService.getProcessElements(),C.RX_PROCESS_DEFINITION.standardProcessElementGroups).pipe((0,d.take)(1)).subscribe(e=>{(0,h.forEach)(e,e=>{var t;e.expanded=!0,e.allChildElementsSelected=!0,(null===(t=this.selectedPaletteElements)||void 0===t?void 0:t.length)&&((0,h.forEach)(e.children,t=>{"*"===this.selectedPaletteElements||(0,h.some)(this.selectedPaletteElements,e=>(0,h.isEqual)(e,t.value))?this.selection.push(t):e.allChildElementsSelected=!1}),e.allChildElementsSelected&&this.selection.push(e))}),this.processElementsTree=[{label:this.translateService.instant("com.bmc.arsys.rx.client.process-designer.all-elements.label"),expanded:!0,children:e}],this.stencilElements=(0,h.flatten)((0,h.map)(e,"children")),"*"===this.selectedPaletteElements&&(this.selection.push(...this.processElementsTree),this.selectedPaletteElements=(0,h.map)(this.stencilElements,"value")),this.updatePickerFakeInputValue()})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}onSelectionChange(){this.selectedPaletteElements=this.selection.filter(e=>!e.children).map(e=>e.value),0===this.selectedPaletteElements.length?(this.selectedPaletteElements=null,this.value=null):this.stencilElements.length===this.selectedPaletteElements.length?this.value="*":this.value=JSON.stringify(this.selectedPaletteElements),this.updatePickerFakeInputValue()}updatePickerFakeInputValue(){(0,h.isEmpty)(this.selectedPaletteElements)?this.selectedPaletteElementsByLabel="":this.stencilElements.length===this.selectedPaletteElements.length?this.selectedPaletteElementsByLabel=this.translateService.instant("com.bmc.arsys.rx.client.common.all.label"):1===this.selectedPaletteElements.length?this.selectedPaletteElementsByLabel=this.translateService.instant("com.bmc.arsys.rx.client.process-designer.one-element-selected.label"):this.selectedPaletteElementsByLabel=this.translateService.instant("com.bmc.arsys.rx.client.process-designer.many-elements-selected.label",{count:this.selectedPaletteElements.length})}clearDefinition(e){e.stopPropagation(),this.selection=[],this.selectedPaletteElements=null,this.selectedPaletteElementsByLabel="",this.value=null}setDropdownWidth(){setTimeout(()=>{const e=this.renderer.selectRootElement(this.dropdownButton.nativeElement,!0);this.dropdownWidth=Math.max(e.clientWidth)+2})}}Se.\u0275fac=function(e){return new(e||Se)(i["\u0275\u0275directiveInject"](r.RxDesignerStencilBuilder),i["\u0275\u0275directiveInject"](s.RxJsonParserService),i["\u0275\u0275directiveInject"](C.RxProcessElementsService),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](b.TranslateService))},Se.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Se,selectors:[["rx-process-designer-element-picker"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](A,7),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.dropdownButton=e.first)}},inputs:{options:"options"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:w.NG_VALUE_ACCESSOR,useExisting:Se,multi:!0}]),i["\u0275\u0275InheritDefinitionFeature"]],decls:9,vars:8,consts:[[3,"label"],["adaptDropdown","","appendToBody","true","autoClose","outside","placement","bottom-left",1,"dropdown",3,"onOpen"],["adaptDropdownToggle","","rx-id","toggle-button","type","button",1,"btn","btn-secondary","d-flex","text-center","w-100"],["dropdownButton",""],[1,"rx-selected-item","text-left","flex-grow-1"],["rx-id","clear-button","class","d-icon-cross_adapt btn-link",3,"click",4,"ngIf"],["adaptDropdownMenu","",1,"dropdown-menu","px-3"],[3,"value","selectionMode","selection","selectionChange"],["rx-id","clear-button",1,"d-icon-cross_adapt","btn-link",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"adapt-rx-control-label",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275listener"]("onOpen",function(){return t.setDropdownWidth()}),i["\u0275\u0275elementStart"](2,"button",2,3),i["\u0275\u0275elementStart"](4,"span",4),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,E,1,0,"span",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",6),i["\u0275\u0275elementStart"](8,"adapt-tree",7),i["\u0275\u0275listener"]("selectionChange",function(e){return t.selection=e})("selectionChange",function(){return t.onSelectionChange()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("label",t.options.label),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](t.selectedPaletteElementsByLabel),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.value),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("width",t.dropdownWidth,"px"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",t.processElementsTree)("selectionMode","checkbox")("selection",t.selection))},directives:[g.AdaptRxControlLabelComponent,g.AdaptDropdownDirective,g.AdaptDropdownToggleDirective,y.NgIf,g.AdaptDropdownMenuDirective,g.AdaptTreeComponent],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.rx-selected-item[_ngcontent-%COMP%]{min-height:20px}span[rx-id=clear-button][_ngcontent-%COMP%]{cursor:pointer;margin-right:5px}span[rx-id=clear-button][_ngcontent-%COMP%]:not(:hover){color:#313538}.dropdown-menu[_ngcontent-%COMP%]{height:400px}']});class Ie{}Ie.\u0275fac=function(e){return new(e||Ie)},Ie.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ie,declarations:[Se],imports:[y.CommonModule,w.FormsModule,g.AdaptRxCheckboxModule,g.AdaptDropdownModule,g.AdaptRxLabelModule,g.AdaptTreeModule],exports:[Se]}),Ie.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[y.CommonModule,w.FormsModule,g.AdaptRxCheckboxModule,g.AdaptDropdownModule.forRoot(),g.AdaptRxLabelModule,g.AdaptTreeModule]]});class Ae extends l.RxViewDesignerActionModel{constructor(e,t){super(e,t),this.sandbox=t,this.translateService=this.injector.get(b.TranslateService),this.sandbox.actionProperties$.pipe((0,d.take)(1)).subscribe(()=>{this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig()),this.sandbox.setActionOutputDataDictionary([{label:this.translateService.instant("com.bmc.arsys.rx.client.common.process-definition-name.label"),expression:this.getOutputExpressionForPropertyPath("processDefinitionName")}])})}static getInitialProperties(e){return Object.assign({processDefinitionName:null,paletteElements:null},e)}getActionEditorConfig(){return[{name:"processDefinitionName",component:c.DefinitionPickerOrExpressionFormControlComponent,options:{label:this.translateService.instant("com.bmc.arsys.rx.client.common.process-definition-name.label"),definitionType:c.RxDefinitionPickerType.Process,dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}},{name:"paletteElements",component:Se,options:{label:"Available palette elements"}}]}}class Ee{constructor(e){this.rxDefaultExpressionEvaluatorService=e}evaluate(e,t){let n=e;return p.RX_RECORD_DEFINITION.validFullDefinitionName.test(e)||(n=this.rxDefaultExpressionEvaluatorService.evaluate(e,t)),n}parseExpression(e){let t;return p.RX_RECORD_DEFINITION.validFullDefinitionName.test(e)||(t=this.rxDefaultExpressionEvaluatorService.parseExpression(e)),t}}Ee.\u0275fac=function(e){return new(e||Ee)(i["\u0275\u0275inject"](o.RxDefaultExpressionEvaluatorService))},Ee.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Ee,factory:Ee.\u0275fac});class De{constructor(e,t,n){this.rxViewActionRegistryService=e,this.rxLaunchProcessDesignerActionService=t,this.rxLaunchProcessDesignerExpressionActionEvaluatorService=n,this.rxViewActionRegistryService.register({name:"rxLaunchProcessDesignerAction",label:"Launch process designer",bundleId:r.RX_APPLICATION.platformBundleId,service:this.rxLaunchProcessDesignerActionService,designModel:Ae,parameters:[{name:"processDefinitionName",label:"Process definition name",type:o.ViewComponentPropertyType.String,enableExpressionEvaluation:!0,evaluatorService:this.rxLaunchProcessDesignerExpressionActionEvaluatorService},{name:"paletteElements",label:"Available palette elements",type:o.ViewComponentPropertyType.String}]})}}De.\u0275fac=function(e){return new(e||De)(i["\u0275\u0275inject"](o.RxViewActionRegistryService),i["\u0275\u0275inject"](_e),i["\u0275\u0275inject"](Ee))},De.\u0275mod=i["\u0275\u0275defineNgModule"]({type:De,declarations:[Ce],imports:[y.CommonModule,C.RxProcessApiModule,c.RxIframeModule]}),De.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[Ee],imports:[[y.CommonModule,C.RxProcessApiModule,c.RxIframeModule]]});class Te{execute(){return a.EMPTY}}Te.\u0275fac=function(e){return new(e||Te)},Te.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Te,factory:Te.\u0275fac});class Re{validate(e,t){return(0,a.of)([{type:"error",description:`Unknown action: ${e.name}`,propertyName:t}])}}Re.\u0275fac=function(e){return new(e||Re)},Re.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Re,factory:Re.\u0275fac});class Me extends l.RxViewDesignerActionModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.sandbox.actionProperties$.pipe((0,d.take)(1)).subscribe(e=>{this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig(e))})}getActionEditorConfig(e){return(0,h.keys)(e).map(e=>({name:e,component:c.TextFormControlComponent,isDisabled:!0,options:{label:e}}))}}class Oe{constructor(e,t,n){this.rxViewActionRegistryService=e,this.rxUnknownViewActionService=t,this.rxUnknownViewActionDesignManager=n,this.rxViewActionRegistryService.register({name:"rxUnknownViewAction",label:"Unknown",bundleId:r.RX_APPLICATION.platformBundleId,designModel:Me,designManager:this.rxUnknownViewActionDesignManager,service:this.rxUnknownViewActionService,parameters:[],hidden:!0})}}Oe.\u0275fac=function(e){return new(e||Oe)(i["\u0275\u0275inject"](o.RxViewActionRegistryService),i["\u0275\u0275inject"](Te),i["\u0275\u0275inject"](Re))},Oe.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Oe}),Oe.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[Te,Re]});class Pe{}Pe.\u0275fac=function(e){return new(e||Pe)},Pe.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Pe,imports:[O,U,X,q,Q,J,oe,le,De,pe,z,me,ge,we,Oe]}),Pe.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[O,U,X,q,Q,J,oe,le,De,pe,z,me,ge,we,Oe]]});class Fe{constructor(e,t,n){this.viewDesignerFacade=e,this.rxRecordGridDesignUtilsService=t,this.rxRecordGridFilterHelperService=n;const i=this.viewDesignerFacade.getComponentsByType(o.RxViewComponentType.Action).pipe((0,d.map)(e=>e.filter(e=>e.data.name===D)),(0,d.shareReplay)({refCount:!0,bufferSize:1})),r=i.pipe((0,d.map)(e=>e.map(e=>R.extractGuidFromExpression(e.data.targetApi))),(0,d.map)(e=>(0,h.sortBy)((0,h.uniq)((0,h.compact)(e)))),(0,d.filter)(e=>Boolean(e.length)),(0,d.distinctUntilChanged)((e,t)=>(0,h.isEqual)(e,t)),(0,d.shareReplay)({refCount:!0,bufferSize:1})),s=r.pipe((0,d.switchMap)(e=>{const t=e.map(e=>this.getActionsToUpdate(e,i));return(0,a.merge)(...t)})),l=r.pipe((0,d.switchMap)(e=>{const t=e.map(e=>this.getGridDefinitionChanges(e).pipe((0,d.skip)(1),(0,d.map)(()=>e),(0,d.withLatestFrom)(i),(0,d.map)(([e,t])=>t.filter(t=>t.data.targetApi.includes(e)).map(e=>{const t=(0,h.cloneDeep)(e);return t.data.filters=null,{component:t,children:[]}}))));return(0,a.merge)(...t)}));(0,a.merge)(l,s).subscribe(e=>{e.forEach(e=>{this.viewDesignerFacade.updateComponentProperties(e.component.guid,e.component.data),this.viewDesignerFacade.setChildren(e.component.guid,e.children)})})}getActionsToUpdate(e,t){return this.getGridColumnChanges(e).pipe((0,d.skip)(1),(0,d.withLatestFrom)(t),(0,d.switchMap)(([e,t])=>{const n=t.filter(t=>t.data.targetApi.includes(e.guid)).map(e=>this.viewDesignerFacade.getChildComponents(e.guid).pipe((0,d.map)(t=>Object.assign(Object.assign({},(0,h.cloneDeep)(e)),{children:t})),(0,d.take)(1)));return(0,a.forkJoin)(n).pipe((0,d.map)(t=>{const n=e.columns.map(e=>e.fieldId);return t.reduce((e,t)=>{const i=this.getUpdatedFilterComponents((0,h.omit)(t,"children"),t.children,n);return i?e.concat(i):e},[])}))}))}getGridColumnChanges(e){return this.viewDesignerFacade.getComponentPropertyValue(e,"columns").pipe((0,d.filter)(e=>Array.isArray(e)),(0,d.map)(t=>({guid:e,columns:t.map(e=>({fieldId:e.fieldId,namedFilterOptions:e.namedFilterOptions}))})),(0,d.distinctUntilChanged)(h.isEqual))}getGridDefinitionChanges(e){return this.viewDesignerFacade.getComponentPropertyValue(e,"recordDefinitionName").pipe((0,d.distinctUntilChanged)())}getUpdatedFilterComponents(e,t,n){const i=t.filter(e=>n.includes(e.data.fieldId));if(i.length!==t.length){const t=this.rxRecordGridDesignUtilsService.getBasicRecordGridFiltersFromChildData(i),n=this.rxRecordGridFilterHelperService.getRecordGridFilterDataFromPredefinedFilter(e.data.filters,t);return e.data.filters=n?this.rxRecordGridFilterHelperService.denormalizeFilterString(JSON.stringify(n),t):null,{component:e,children:i}}return null}validate(e,t){const n=e.filters||(0,h.includes)([o.ApplyGridFilterMode.Begin,o.ApplyGridFilterMode.End,o.ApplyGridFilterMode.Clear],e.mode)?null:{type:"error",description:"Apply grid filter action: Filter is required",propertyName:t};return(0,a.of)(e.targetApi).pipe((0,d.map)(e=>R.extractGuidFromExpression(e)),(0,d.switchMap)(e=>e?this.viewDesignerFacade.getComponent(e):(0,a.of)(null)),(0,d.take)(1),(0,d.map)(i=>{const o=[];return e.targetApi&&(null==i?void 0:i.type)!==u.RX_RECORD_GRID.type&&o.push({type:"error",description:"Apply grid filter action: Record grid expression must point to a record grid.",propertyName:t}),e.targetApi&&!o.length&&n&&o.push(n),o}))}}Fe.\u0275fac=function(e){return new(e||Fe)(i["\u0275\u0275inject"](l.ViewDesignerFacade),i["\u0275\u0275inject"](u.RxRecordGridDesignUtilsService),i["\u0275\u0275inject"](u.RxRecordGridFilterHelperService))},Fe.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Fe,factory:Fe.\u0275fac});class ke{constructor(e,t){this.rxViewActionRegistryService=e,this.rxApplyGridFilterViewActionDesignManagerService=t,this.rxViewActionRegistryService.registerDesignManager(D,t)}}ke.\u0275fac=function(e){return new(e||ke)(i["\u0275\u0275inject"](o.RxViewActionRegistryService),i["\u0275\u0275inject"](Fe))},ke.\u0275mod=i["\u0275\u0275defineNgModule"]({type:ke}),ke.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[Fe]});class Ne{}Ne.\u0275fac=function(e){return new(e||Ne)},Ne.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ne,imports:[Pe,ke]}),Ne.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[Pe,ke]]})},"./node_modules/@helix/platform/fesm2015/helix-platform-view-components.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ActionButtonComponent:()=>_a,ActionButtonDesignComponent:()=>xa,ActionButtonDesignModule:()=>Ca,ActionButtonIconAlignment:()=>ga,ActionButtonModule:()=>Sa,ActionButtonSize:()=>fa,ActionButtonStyle:()=>ha,AssociationDesignModule:()=>El,AssociationManagerFactory:()=>cl,AssociationModule:()=>vl,AssociationRegistrationModule:()=>Ml,AttachmentFieldComponent:()=>Ll,AttachmentFieldDesignComponent:()=>Fl,AttachmentFieldDesignModule:()=>kl,AttachmentFieldModule:()=>Bl,AttachmentFieldRegistrationModule:()=>Gl,BaseRecordEditorFieldComponent:()=>Nl,BaseRecordEditorFieldDesign:()=>Ol,BooleanFieldComponent:()=>Wl,BooleanFieldDesignComponent:()=>Hl,BooleanFieldDesignModule:()=>Xl,BooleanFieldModule:()=>ql,BooleanFieldRegistrationModule:()=>Yl,ButtonBarComponent:()=>Ta,ButtonBarDesignComponent:()=>Oa,ButtonBarDesignModel:()=>Ma,ButtonBarDesignModule:()=>Pa,ButtonBarModule:()=>Ra,ChatbotUserMappingComponent:()=>ah,ChatbotUserMappingRegistrationModule:()=>lh,ColumnSortDirection:()=>jd,ContainerComponent:()=>Fa,ContainerDesignComponent:()=>za,ContainerDesignModule:()=>$a,ContainerModule:()=>Na,ContainerRowWrap:()=>La,DateFieldComponent:()=>ec,DateFieldDesignComponent:()=>Zl,DateFieldDesignModule:()=>Kl,DateFieldModule:()=>tc,DateFieldRegistrationModule:()=>nc,DateTimeFieldComponent:()=>ac,DateTimeFieldDesignComponent:()=>oc,DateTimeFieldDesignModule:()=>rc,DateTimeFieldModule:()=>lc,DateTimeFieldRegistrationModule:()=>cc,DecimalFieldComponent:()=>mc,DecimalFieldDesignComponent:()=>uc,DecimalFieldDesignModule:()=>pc,DecimalFieldModule:()=>fc,DecimalFieldRegistrationModule:()=>gc,DeprecatedActionButtonStyle:()=>ma,ExtensionContainerDesignComponent:()=>gd,ExtensionContainerDesignModule:()=>vd,ExtensionContainerRegistrationModule:()=>yd,ExtensionContainerSectionComponent:()=>ud,FieldComponentsModule:()=>Md,GainsightAdminOptInRegistrationModule:()=>kh,IframeLoginEventComponent:()=>dh,IframeLoginEventRegistrationModule:()=>uh,ImageComponent:()=>Bp,ImageDesignComponent:()=>kp,ImageDesignModule:()=>Np,ImageModule:()=>Gp,IntegerFieldComponent:()=>hc,IntegerFieldDesignComponent:()=>yc,IntegerFieldDesignModule:()=>bc,IntegerFieldModule:()=>xc,IntegerFieldRegistrationModule:()=>wc,LocalizedCharacterFieldComponent:()=>Id,LocalizedCharacterFieldRegistrationModule:()=>Rd,PageComponent:()=>Qu,PageComponentDefinitionAdapterService:()=>Pp,PageDesignComponent:()=>Mp,PageDesignModule:()=>Op,PageModule:()=>Fp,RECORD_EDITOR:()=>Ua,RX_ASSOCIATION:()=>pl,RX_BASE_FIELD_PROPERTIES:()=>Dl,RX_RECORD_GRID:()=>kd,RX_RECORD_GRID_DESIGN:()=>Yd,RecordEditorComponent:()=>al,RecordEditorDesignComponent:()=>Ka,RecordEditorDesignModule:()=>el,RecordEditorMode:()=>Ha,RecordEditorModule:()=>dl,RecordEditorState:()=>Xa,RecordGridColumnAlignment:()=>Pd,RecordGridColumnEditorControlComponent:()=>eu,RecordGridColumnEditorModalComponent:()=>Jd,RecordGridComponent:()=>op,RecordGridDesignComponent:()=>$u,RecordGridDesignDefinitionMode:()=>iu,RecordGridDesignModule:()=>Yu,RecordGridFilterMode:()=>nu,RecordGridFilterSelectControlComponent:()=>xu,RecordGridFilterSelectControlModule:()=>Mu,RecordGridModule:()=>ap,RichTextComponent:()=>lp,RichTextDesignComponent:()=>mp,RichTextDesignModule:()=>gp,RichTextModule:()=>up,RichTextareaFieldComponent:()=>Cd,RichTextareaFieldDesignComponent:()=>xd,RichTextareaFieldDesignModule:()=>wd,RichTextareaFieldModule:()=>_d,RichTextareaFieldRegistrationModule:()=>Sd,RowSelectionMode:()=>ou,RxAssociationComponent:()=>fl,RxAssociationDesignComponent:()=>Il,RxAssociationEditingMode:()=>hl,RxAssociationManagerService:()=>tl,RxDefaultRecordEditorInputType:()=>ul,RxExtensionContainerComponent:()=>cd,RxExtensionContainerModule:()=>md,RxLocalizedCharacterFieldModule:()=>Ad,RxRecordEditorUtilsService:()=>nl,RxRecordGridAdvancedFilterValue:()=>ru,RxRecordGridAdvancedFilteringService:()=>su,RxRecordGridDesignUtilsService:()=>Gu,RxRecordGridFilterHelperService:()=>au,RxRecordGridFilterSelectHelperService:()=>Ou,RxRecordGridFilterService:()=>lu,RxRecordGridQueryExpressionEvaluatorService:()=>sp,RxRecordGridUtilsService:()=>Nd,RxTabContainerComponent:()=>wp,RxTabPanelComponent:()=>Cp,RxTabPanelModule:()=>Ip,SelectGroupComponent:()=>Pc,SelectGroupComponentDefinitionAdapterService:()=>kc,SelectGroupDesignComponent:()=>Bc,SelectGroupDesignModel:()=>Vc,SelectGroupFieldComponent:()=>Fc,SelectGroupModule:()=>Nc,SelectGroupRegistrationModule:()=>zc,SelectionFieldComponent:()=>Rc,SelectionFieldDesignComponent:()=>Ac,SelectionFieldDesignModule:()=>Ec,SelectionFieldModule:()=>Mc,SelectionFieldRegistrationModule:()=>Oc,ServiceListComponent:()=>bp,ServiceListDesignComponent:()=>vp,ServiceListDesignModule:()=>yp,ServiceListModule:()=>xp,TabPanelDesignModule:()=>Tp,TextFieldComponent:()=>Wc,TextFieldDesignComponent:()=>Uc,TextFieldDesignModule:()=>Hc,TextFieldExpressionConfigurator:()=>Xc,TextFieldModule:()=>qc,TextFieldMultiSelectionType:()=>Tc,TextFieldRegistrationModule:()=>Yc,TextareaFieldComponent:()=>Jc,TextareaFieldDesignComponent:()=>Zc,TextareaFieldDesignModule:()=>Kc,TextareaFieldModule:()=>ed,TextareaFieldRegistrationModule:()=>td,TimeFieldComponent:()=>sd,TimeFieldDesignComponent:()=>id,TimeFieldDesignModule:()=>od,TimeFieldModule:()=>ad,TimeFieldRegistrationModule:()=>ld,UploaderFactory:()=>Vl,ViewComponentsModule:()=>Nh});var i=n("./node_modules/@angular/core/fesm2015/core.js"),o=n("rxjs"),r=n("./node_modules/rxjs/_esm2015/operators/index.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-record-api.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),c=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),d=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),u=n("./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js"),p=n("lodash"),h=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),m=n("./node_modules/@angular/common/fesm2015/common.js"),f=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),g=n("./node_modules/css-element-queries/index.js"),v=n("./node_modules/@helix/platform/fesm2015/helix-platform-utils.js"),y=n("./node_modules/angular-split/fesm2015/angular-split.js"),b=n("./node_modules/@angular/cdk/fesm2015/drag-drop.js"),x=n("./node_modules/@angular/forms/fesm2015/forms.js"),w=n("./node_modules/@helix/platform/fesm2015/helix-platform-association-api.js"),C=n("./node_modules/@helix/platform/fesm2015/helix-platform-ui-kit.js"),_=n("./node_modules/tslib/tslib.es6.js"),S=n("./node_modules/moment-es6/index.js"),I=n("./node_modules/bignumber.js/bignumber.js"),A=n.n(I),E=n("./node_modules/@bmc-ux/obsolete/fesm2015/bmc-ux-adapt-obsolete.js"),D=n("./node_modules/@helix/platform/fesm2015/helix-platform-named-list-api.js"),T=n("./node_modules/ckeditor4-angular/fesm2015/ckeditor4-angular.js"),R=n("./node_modules/@bmc-ux/adapt-table/fesm2015/bmc-ux-adapt-table.js"),M=n("./node_modules/file-saver/dist/FileSaver.min.js"),O=n("./node_modules/@angular/router/fesm2015/router.js"),P=n("./node_modules/@angular/platform-browser/fesm2015/platform-browser.js"),F=n("./node_modules/@angular/common/fesm2015/http.js");const k=function(e,t){return[e,t]};function N(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",1),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().api.click(t)}),i["\u0275\u0275elementStart"](1,"span"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("btn-type",e.buttonType)("ngClass",i["\u0275\u0275pureFunction2"](5,k,e.state.icon,e.state.cls))("disabled",e.isDisabled)("size",e.state.size),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.state.buttonLabel)}}function j(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",1),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().api.click(t)}),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("disabled",e.isDisabled),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.state.label,"\n")}}const L=["dropdownToggle"],V=["buttonItems"],B=function(e){return{"nav-item--hidden":e}};function G(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275element"](1,"rx-runtime-view-canvas-item",5,6),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](2,B,e.showInDropdown)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("layout",e)}}function z(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-button-bar-dropdown-item-component",13),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("config",e.config)("runtimeViewModelApi",e.runtimeViewModelApi)("guid",e.guid)}}function $(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,z,1,3,"rx-button-bar-dropdown-item-component",12),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.showInDropdown)}}const U=function(){return["bottom-right","bottom-left","bottom","top-right","top-left","top","auto"]};function H(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275element"](1,"button",8,9),i["\u0275\u0275elementStart"](3,"div",10),i["\u0275\u0275template"](4,$,2,1,"ng-container",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("placement",i["\u0275\u0275pureFunction0"](5,U)),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("id","rx-"+e.guid),i["\u0275\u0275advance"](2),i["\u0275\u0275attribute"]("aria-labelledby","rx-"+e.guid),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.childLayouts)("ngForTrackBy",e.trackByFn)}}function X(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",1),i["\u0275\u0275template"](1,G,3,4,"div",2),i["\u0275\u0275template"](2,H,5,6,"div",3),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngClass",e.alignClass),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.childLayouts)("ngForTrackBy",e.trackByFn),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isDropdownVisible)}}function W(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"as-split-area",2),i["\u0275\u0275elementStart"](1,"rx-canvas-item-column",3),i["\u0275\u0275listener"]("dropListDropped",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onDropListDropped(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("isReadOnly",o.isReadOnly)("colIndex",n)("column",e)("layout",o.layout)}}function q(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",15),i["\u0275\u0275elementStart"](1,"label"),i["\u0275\u0275elementStart"](2,"input",16),i["\u0275\u0275listener"]("ngModelChange",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).selectedFieldIdsModel[n.id]=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).updateApplyButtonDisabledStatus()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span",17),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",n.selectedFieldIdsModel[e.id]),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.name)}}function Y(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"div",12),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"adapt-button",13),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().select(t.groupLabel)}),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,q,5,2,"div",14),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.groupLabel," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.selectAllFieldsInGroupButtonLabel," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.fields)("ngForTrackBy",n.trackById)}}function Q(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275text"](1,"No Fields Found"),i["\u0275\u0275elementEnd"]())}const Z=["openModalButton"];function K(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",7),i["\u0275\u0275text"](1,"No fields added."),i["\u0275\u0275elementEnd"]())}function J(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",13),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().removeField(t.guid)}),i["\u0275\u0275elementEnd"]()}}function ee(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275elementStart"](1,"div"),i["\u0275\u0275elementStart"](2,"div",9),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",10),i["\u0275\u0275elementStart"](5,"small"),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",11),i["\u0275\u0275template"](8,J,1,0,"span",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.label),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.componentName),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!n.options.isDisabled)}}function te(e,t){1&e&&i["\u0275\u0275element"](0,"adapt-empty-state",2)}function ne(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",3),i["\u0275\u0275element"](1,"div",4),i["\u0275\u0275elementStart"](2,"span"),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](4,1,"com.bmc.arsys.rx.client.common.loading-data")))}function ie(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.view-components.record-editor.invalid-record.message"),"\n"))}function oe(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",10),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).switchToEditState()}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.common.edit.label")," "))}function re(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",11),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onSaveClick()}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("disabled",e.isSaveButtonDisabled()),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,2,"com.bmc.arsys.rx.client.common.save.label")," ")}}function se(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",12),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onCancelClick()}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.common.cancel.label")," "))}function ae(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",5),i["\u0275\u0275elementStart"](1,"div",6),i["\u0275\u0275template"](2,oe,3,3,"button",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](3,"rx-runtime-view-canvas-outlet"),i["\u0275\u0275template"](4,re,3,4,"button",8),i["\u0275\u0275template"](5,se,3,3,"button",9),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.isEditStateAvailable()),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.isSaveButtonAvailable()),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isCancelButtonAvailable())}}function le(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",8),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.label)}}function ce(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1,": "),i["\u0275\u0275elementEnd"]())}const de=function(e){return{"font-weight-bold":e}};function ue(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"li",4),i["\u0275\u0275template"](1,le,2,1,"span",5),i["\u0275\u0275template"](2,ce,2,0,"span",6),i["\u0275\u0275elementStart"](3,"span",7),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.label),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.label),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](4,de,!n.isEditableState())),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.value)}}function pe(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",9),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.config.onDelete(t.config.id)}),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275elementEnd"]()}2&e&&i["\u0275\u0275attribute"]("aria-label",i["\u0275\u0275pipeBind1"](1,1,"com.bmc.arsys.rx.client.common.remove.label"))}function he(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-read-only-field",2),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("label",e.label)("value",e.getAssociatedValue())}}function me(e,t){if(1&e&&i["\u0275\u0275element"](0,"adapt-rx-control-label",9),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275property"]("label",e.label)}}function fe(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275element"](1,"rx-runtime-view-canvas-outlet"),i["\u0275\u0275elementEnd"]())}function ge(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",12),i["\u0275\u0275element"](1,"rx-record-preview-card",13),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("config",e.existingPreviewConfigurations[0]||e.pendingPreviewConfigurations[0])}}function ve(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,ge,2,1,"div",11),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.existingPreviewConfigurations.length||e.pendingPreviewConfigurations.length)}}function ye(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-record-preview-card",13),2&e){const e=t.$implicit;i["\u0275\u0275property"]("config",e)}}function be(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",16),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](5).loadExistingAssociations()}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.common.show-more.label")," "))}function xe(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"div",12),i["\u0275\u0275template"](2,ye,1,1,"rx-record-preview-card",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,be,3,3,"button",15),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.existingPreviewConfigurations),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.associationManager.totalExistingCount>e.existingPreviewConfigurations.length+e.associationManager.deleted.length)}}function we(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"div",3),i["\u0275\u0275template"](2,ve,2,1,"div",5),i["\u0275\u0275template"](3,xe,4,2,"div",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitch",e.associationManager.cardinalityType),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase",e.associationManager.cardinalityTypes.One)}}function Ce(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-record-preview-card",13),2&e){const e=t.$implicit;i["\u0275\u0275property"]("config",e)}}function _e(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",16),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](5).loadExistingAssociations()}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.common.show-more.label")," "))}const Se=function(e){return{count:e}};function Ie(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",19),i["\u0275\u0275elementStart"](1,"div",20),i["\u0275\u0275elementStart"](2,"span",21),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"button",22),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](4).deleteAllExisting()}),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",12),i["\u0275\u0275template"](10,Ce,1,1,"rx-record-preview-card",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](11,_e,3,3,"button",15),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",e.associationManager.totalExistingCount>1?i["\u0275\u0275pipeBind2"](4,5,"com.bmc.arsys.rx.client.view-components.record-editor.association.total-items.label",i["\u0275\u0275pureFunction1"](12,Se,e.associationManager.totalExistingCount)):i["\u0275\u0275pipeBind1"](5,8,"com.bmc.arsys.rx.client.view-components.record-editor.association.single-item.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("hidden",!e.areActionsAvailable||e.isDisabled),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](8,10,"com.bmc.arsys.rx.client.view-components.record-editor.association.button.clear-all.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",e.existingPreviewConfigurations),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.associationManager.totalExistingCount>e.existingPreviewConfigurations.length+e.associationManager.deleted.length)}}function Ae(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-record-preview-card",13),2&e){const e=t.$implicit;i["\u0275\u0275property"]("config",e)}}function Ee(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",16),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](5).showPendingAssociations()}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.common.show-more.label")," "))}function De(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",23),i["\u0275\u0275elementStart"](1,"div",24),i["\u0275\u0275elementStart"](2,"div",25),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",26),i["\u0275\u0275elementStart"](6,"span",21),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275pipe"](9,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"button",22),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](4).deleteAllPending()}),i["\u0275\u0275text"](11),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",12),i["\u0275\u0275template"](14,Ae,1,1,"rx-record-preview-card",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](15,Ee,3,3,"button",15),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](4,6,"com.bmc.arsys.rx.client.view-components.record-editor.association.pending-associations.label")," : "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",e.totalPendingCount>1?i["\u0275\u0275pipeBind2"](8,8,"com.bmc.arsys.rx.client.view-components.record-editor.association.total-items.label",i["\u0275\u0275pureFunction1"](15,Se,e.totalPendingCount)):i["\u0275\u0275pipeBind1"](9,11,"com.bmc.arsys.rx.client.view-components.record-editor.association.single-item.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("hidden",!e.areActionsAvailable||e.isDisabled),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](12,13,"com.bmc.arsys.rx.client.view-components.record-editor.association.button.clear-all.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",e.getPendingPreviewConfigurations()),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.totalPendingCount>e.currentPendingCount)}}function Te(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,Ie,12,14,"div",17),i["\u0275\u0275template"](2,De,16,17,"div",18),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.existingPreviewConfigurations.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.pendingPreviewConfigurations.length)}}const Re=function(e){return{"read-state":e}};function Me(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",6),i["\u0275\u0275template"](1,me,1,1,"adapt-rx-control-label",7),i["\u0275\u0275template"](2,fe,2,0,"div",8),i["\u0275\u0275template"](3,we,4,2,"div",8),i["\u0275\u0275template"](4,Te,3,2,"div",8),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](6,Re,e.isReadModeEnabled())),i["\u0275\u0275attribute"]("aria-label",e.label),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isEditModeEnabled()||e.existingPreviewConfigurations.length>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.areActionsAvailable),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isReadModeEnabled()),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isEditModeEnabled())}}function Oe(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275element"](1,"rx-select-with-pagination",27),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275attribute"]("aria-label",e.label),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("formControl",e.formControl)("readonly",e.isDisabled)("label",e.label)("modelToViewValueAdapter",e.modelToViewValueAdapterFunc)("optionLoader",e.optionLoaderFunc)("viewToModelValueAdapter",e.viewToModelValueAdapterFunc)}}function Pe(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,Oe,2,7,"div",8),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isEditModeEnabled())}}function Fe(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",3),i["\u0275\u0275template"](1,Me,5,8,"div",4),i["\u0275\u0275template"](2,Pe,2,1,"div",5),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngSwitch",e.editingMode),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase","views"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase","dropdown")}}function ke(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",22),i["\u0275\u0275elementStart"](1,"div",23),i["\u0275\u0275listener"]("dblclick",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](3).addField(t.data)}),i["\u0275\u0275elementStart"](2,"button",24),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](3).addField(t.data)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span",25),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("cdkDragData",e.data),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](e.data.name)}}function Ne(e,t){if(1&e&&i["\u0275\u0275template"](0,ke,5,2,"div",21),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngIf",e.data)}}const je=function(){return["selected-fields"]};function Le(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",18),i["\u0275\u0275elementStart"](1,"adapt-tree",19),i["\u0275\u0275template"](2,Ne,1,1,"ng-template",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("cdkDropListConnectedTo",i["\u0275\u0275pureFunction0"](3,je)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",e.availableFieldTreeNodes)("wrap",e.treeWrap)}}function Ve(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",26),i["\u0275\u0275element"](1,"adapt-empty-state",27),i["\u0275\u0275elementEnd"]())}function Be(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"div",3),i["\u0275\u0275elementStart"](2,"h4",4),i["\u0275\u0275text"](3,"Available fields"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",14),i["\u0275\u0275elementStart"](5,"div",15),i["\u0275\u0275template"](6,Le,3,4,"div",16),i["\u0275\u0275template"](7,Ve,2,0,"ng-template",null,17,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](8),t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",t.availableFieldTreeNodes.length)("ngIfElse",e)}}function Ge(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",28),i["\u0275\u0275elementStart"](1,"button",29),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().toggleOpen(!0)}),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",30),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().toggleOpen(!1)}),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,2,"com.bmc.arsys.rx.client.common.expand-all.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,4,"com.bmc.arsys.rx.client.common.collapse-all.label")," "))}function ze(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",39),i["\u0275\u0275elementStart"](1,"div",40),i["\u0275\u0275elementStart"](2,"button",41),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](),o=n.$implicit,r=n.index,s=i["\u0275\u0275nextContext"]();return t.stopPropagation(),s.onMoveDown(o,r)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",42),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](),o=n.$implicit,r=n.index,s=i["\u0275\u0275nextContext"]();return t.stopPropagation(),s.onMoveUp(o,r)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",43),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().onRemove(t)}),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=e.last,n=e.first;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",t),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",n),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,3,"com.bmc.arsys.rx.client.common.remove.label")," ")}}function $e(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",31),i["\u0275\u0275elementStart"](1,"adapt-accordion-tab",32),i["\u0275\u0275listener"]("open",function(){return i["\u0275\u0275restoreView"](e).$implicit.isOpen=!0})("close",function(){return i["\u0275\u0275restoreView"](e).$implicit.isOpen=!1}),i["\u0275\u0275elementStart"](2,"div",33),i["\u0275\u0275elementStart"](3,"div",34),i["\u0275\u0275elementStart"](4,"div",35),i["\u0275\u0275elementStart"](5,"div",36),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](7,ze,7,5,"div",37),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"adapt-rx-textfield",38),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e).$implicit.labelText=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().canSave=!0}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("cdkDragDisabled",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("isOpen",e.isOpen),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("title",n.fieldLabelsMap[e.data.fieldId]),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.fieldLabelsMap[e.data.fieldId]," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.labelText)}}function Ue(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",26),i["\u0275\u0275element"](1,"adapt-empty-state",44),i["\u0275\u0275elementEnd"]())}function He(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",45),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onSave()}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("disabled",!e.canSave),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,2,"com.bmc.arsys.rx.client.common.save.label")," ")}}function Xe(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li",6),i["\u0275\u0275elementStart"](1,"strong",7),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",8),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).editField(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",9),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).removeField(t.guid)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.label),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",n.isDisabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",n.isDisabled)}}function We(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"ul",4),i["\u0275\u0275template"](1,Xe,5,3,"li",5),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.selectedFields)}}function qe(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-canvas-item",1),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("interactive",!1)("layout",e)("isReadOnly",n.isReadOnly)}}function Ye(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",18),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.data.label)}}function Qe(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1,": "),i["\u0275\u0275elementEnd"]())}function Ze(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"li",14),i["\u0275\u0275template"](1,Ye,2,1,"span",15),i["\u0275\u0275template"](2,Qe,2,0,"span",16),i["\u0275\u0275elementStart"](3,"span",17),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.data.label),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.data.label),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.data.name)}}function Ke(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275elementStart"](2,"label",2),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",3),i["\u0275\u0275element"](6,"rx-canvas-outlet",4),i["\u0275\u0275elementStart"](7,"button",5),i["\u0275\u0275text"](8),i["\u0275\u0275pipe"](9,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](10,"adapt-empty-state",6),i["\u0275\u0275elementStart"](11,"div",7),i["\u0275\u0275elementStart"](12,"div",8),i["\u0275\u0275elementStart"](13,"div",9),i["\u0275\u0275elementStart"](14,"div",10),i["\u0275\u0275element"](15,"button",11),i["\u0275\u0275elementStart"](16,"ul",12),i["\u0275\u0275template"](17,Ze,5,3,"li",13),i["\u0275\u0275pipe"](18,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275attribute"]("aria-label",i["\u0275\u0275pipeBind1"](1,8,e.model.label$)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](4,10,e.model.label$)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("containerComponent",e.containerComponent),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("hidden",!e.hidePlaceholder),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](9,12,"com.bmc.arsys.rx.client.view-components.record-editor.association.button.clear-all.label")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",e.hidePlaceholder),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("hidden",!e.hidePlaceholder),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](18,14,e.model.displayedFields$))}}function Je(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"div"),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275element"](3,"adapt-rx-select",19),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("aria-label",i["\u0275\u0275pipeBind1"](2,3,e.model.label$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("label",i["\u0275\u0275pipeBind1"](4,5,e.model.label$))("disabled",!0)}}const et=function(){return[]};function tt(e,t){if(1&e&&i["\u0275\u0275element"](0,"adapt-downloader",6),2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275property"]("config",e.readStateConfig)}}function nt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"label",4),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,tt,1,1,"adapt-downloader",5),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275attribute"]("aria-label",e.label),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.label),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.getDisplayValue())}}function it(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,nt,4,3,"div",3),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2),t=i["\u0275\u0275reference"](4);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.getDisplayValue())("ngIfElse",t)}}function ot(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,it,2,2,"ng-container",3),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.inReadState)("ngIfElse",t)}}const rt=function(e){return{"attachment-disabled":e}};function st(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-rx-uploader",7),i["\u0275\u0275listener"]("removedFileFromQueue",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().removeAttachment(t)})("deletedFile",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().removeAttachment(t)})("afterFilesAdded",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().addAttachment(t)})("onBlur",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onBlur()}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](13,rt,e.isDisabled))("reusable",!0)("label",e.label)("readonly",e.isDisabled)("required",e.isRequired)("allowDeletion",!1)("uploadMode",e.mode)("selectionMode",e.selectionMode)("filesCount",e.filesCount)("maxFileSize",e.maxFileSize)("chunkSize",e.chunkSize)("texts",e.texts)("formControl",e.attachmentFormControl)}}function at(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-read-only-field",8),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("label",e.label)("value","-")}}function lt(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",3),i["\u0275\u0275text"](1,"(required)"),i["\u0275\u0275elementEnd"]())}function ct(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div"),i["\u0275\u0275elementStart"](2,"strong"),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275template"](5,lt,2,0,"span",1),i["\u0275\u0275pipe"](6,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"adapt-rx-switch",2),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().booleanValue=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](4,4,e.model.label$)," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](6,6,e.model.isRequired$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.booleanValue)("disabled",!0)}}function dt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"adapt-rx-checkbox",4),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().booleanValue=t}),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.booleanValue)("label",i["\u0275\u0275pipeBind1"](2,4,e.model.label$))("required",i["\u0275\u0275pipeBind1"](3,6,e.model.isRequired$))("disabled",!0)}}const ut=["booleanComponent"];function pt(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-read-only-field",3),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("label",e.label)("value",e.getDisplayValue())}}function ht(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,pt,1,2,"rx-read-only-field",2),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.inReadState)("ngIfElse",t)}}function mt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"rx-boolean",4,5),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().booleanValue=t})("rxBlur",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onBlur()}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("hidden",e.isHidden)("label",e.label)("isDisabled",e.isDisabled)("required",e.isRequired)("shouldDisplayAsCheckbox",e.shouldDisplayAsCheckbox)("ngModel",e.booleanValue)}}function ft(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-read-only-field",3),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("label",e.label)("value",e.getDisplayValue())}}function gt(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,ft,1,2,"rx-read-only-field",2),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.inReadState)("ngIfElse",t)}}function vt(e,t){if(1&e&&i["\u0275\u0275element"](0,"adapt-rx-datetime",4),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("label",e.label)("required",e.isRequired)("formControl",e.formControl)("readonly",e.isDisabled)("disabledStyleForReadonlyState",!0)}}function yt(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-read-only-field",3),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("label",e.label)("value",e.getDisplayValue())}}function bt(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,yt,1,2,"rx-read-only-field",2),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.inReadState)("ngIfElse",t)}}function xt(e,t){if(1&e&&i["\u0275\u0275element"](0,"adapt-rx-datetime",4),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("label",e.label)("required",e.isRequired)("formControl",e.formControl)("readonly",e.isDisabled)("disabledStyleForReadonlyState",!0)("mode",e.pickerMode)}}const wt=["counterComponent"];function Ct(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-read-only-field",3),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("label",e.label)("value",e.getDisplayValue())}}function _t(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,Ct,1,2,"rx-read-only-field",2),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.inReadState)("ngIfElse",t)}}function St(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-rx-counter",4,5),i["\u0275\u0275listener"]("onBlur",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onBlur()})("onFocus",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onFocus()}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("label",e.label)("formControl",e.counterFormControl)("readonly",e.isDisabled)("disabledStyleForReadonlyState",!0)("required",e.isRequired)("min",e.fieldDefinition.minValue)("max",e.fieldDefinition.maxValue)("adaptMin",e.fieldDefinition.minValue)("adaptMax",e.fieldDefinition.maxValue)}}function It(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-read-only-field",3),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("label",e.label)("value",e.getDisplayValue())}}function At(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,It,1,2,"rx-read-only-field",2),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.inReadState)("ngIfElse",t)}}function Et(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-rx-counter",4),i["\u0275\u0275listener"]("onBlur",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onBlur()})("onFocus",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onFocus()}),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("label",e.label)("formControl",e.counterFormControl)("required",e.isRequired)("min",e.fieldDefinition.minValue)("max",e.fieldDefinition.maxValue)("adaptMin",e.fieldDefinition.minValue)("adaptMax",e.fieldDefinition.maxValue)("readonly",e.isDisabled)("disabledStyleForReadonlyState",!0)("requiredLabel",i["\u0275\u0275pipeBind1"](1,10,"com.bmc.arsys.rx.client.common.required-field.label"))}}function Dt(e,t){if(1&e&&(i["\u0275\u0275element"](0,"adapt-rx-select",2),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275pipe"](2,"async")),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("label",i["\u0275\u0275pipeBind1"](1,4,e.model.label$))("options",i["\u0275\u0275pureFunction0"](8,et))("disabled",!0)("required",i["\u0275\u0275pipeBind1"](2,6,e.model.isRequired$))}}function Tt(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",10),i["\u0275\u0275text"](1,"(required)"),i["\u0275\u0275elementEnd"]())}function Rt(e,t){1&e&&i["\u0275\u0275element"](0,"adapt-rx-radiobutton",11)}function Mt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",3),i["\u0275\u0275elementStart"](2,"label",4),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275template"](5,Tt,2,0,"span",5),i["\u0275\u0275pipe"](6,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"adapt-rx-radiobutton-group",6),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().isRadioButtonMode=t}),i["\u0275\u0275template"](8,Rt,1,0,"adapt-rx-radiobutton",7),i["\u0275\u0275pipe"](9,"async"),i["\u0275\u0275element"](10,"adapt-rx-radiobutton",8),i["\u0275\u0275element"](11,"adapt-rx-radiobutton",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](4,5,e.model.label$)," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](6,7,e.model.isRequired$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.isRadioButtonMode)("disabled",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!i["\u0275\u0275pipeBind1"](9,9,e.model.isRequired$))}}function Ot(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-read-only-field",3),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("label",e.label)("value",e.getDisplayValue())}}function Pt(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,Ot,1,2,"rx-read-only-field",2),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.inReadState)("ngIfElse",t)}}function Ft(e,t){if(1&e&&i["\u0275\u0275element"](0,"adapt-rx-radiobutton",8),2&e){const e=t.$implicit,n=t.last;i["\u0275\u0275classMapInterpolate1"]("mt-0 ",n?"mb-1":"",""),i["\u0275\u0275property"]("value",e.id)("label",e.name)}}function kt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"adapt-rx-radiobutton-group",6),i["\u0275\u0275template"](1,Ft,1,5,"adapt-rx-radiobutton",7),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("name",e.guid)("formControl",e.formControl)("readonly",e.isDisabled)("label",e.label),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.selectOptions)}}function Nt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-rx-select",9),i["\u0275\u0275listener"]("onPopupOpenChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onPopupStatusChange(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("options",e.selectOptions)("required",e.isRequired)("label",e.label)("formControl",e.selectFormControl)("readonly",e.isDisabled)("optionFormatter",e.optionFormatter)("enableFilter",!0)("emptyOption",!e.isRequired)}}function jt(e,t){if(1&e&&(i["\u0275\u0275template"](0,kt,2,5,"adapt-rx-radiobutton-group",4),i["\u0275\u0275template"](1,Nt,1,8,"adapt-rx-select",5)),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngIf",e.isRadioButtonMode),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.isRadioButtonMode)}}function Lt(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-read-only-field",3),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("label",e.label)("value",e.getDisplayValue())}}function Vt(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,Lt,1,2,"rx-read-only-field",2),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.inReadState)("ngIfElse",t)}}function Bt(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-select-with-pagination",4),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("label",e.label)("formControl",e.formControl)("required",e.isRequired)("readonly",e.isDisabled)("optionLoader",e.optionLoaderFunc)("showDefaultTitle",e.showDefaultTitle)("viewToModelValueAdapter",e.viewToModelValueAdapterFunc)("modelToViewValueAdapter",e.modelToViewValueAdapterFunc)}}const Gt=function(){return{iconName:"question_circle_o",content:"This is the record definition that provides the option values for this named list.",placement:"top",popoverMode:!0}};function zt(e,t){if(1&e&&i["\u0275\u0275element"](0,"adapt-rx-textfield",5),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngModel",e.sourceRecordDefinitionDisplayName)("tooltip",i["\u0275\u0275pureFunction0"](2,Gt))}}const $t=function(){return{iconName:"question_circle_o",content:"Select the field in the source record definition that filters the option values for this named list.",placement:"top",popoverMode:!0}};function Ut(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-rx-select",6),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onSelectFilterField(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngModel",e.filterField)("options",e.filterFieldIdOptions)("optionFormatter",e.optionFormatter)("disabled",e.fieldformGroup.disabled)("tooltip",i["\u0275\u0275pureFunction0"](5,$t))}}const Ht=function(e){return{"form-group d-block":e}};function Xt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",6),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"]().removeField(t)}),i["\u0275\u0275elementEnd"]()}}function Wt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275elementStart"](1,"div",3),i["\u0275\u0275template"](2,Xt,1,0,"button",4),i["\u0275\u0275element"](3,"rx-select-group-field",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!o.isDisabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("fieldformGroup",e)("index",n)("targetFieldOptions",o.options.targetFieldOptions)}}function qt(e,t){if(1&e&&(i["\u0275\u0275element"](0,"adapt-rx-textfield",3),i["\u0275\u0275pipe"](1,"async")),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("label",e.data.label||"<No Label>")("required",i["\u0275\u0275pipeBind1"](1,3,n.model.isFieldRequired(e)))("disabled",!0)}}function Yt(e,t){if(1&e&&(i["\u0275\u0275template"](0,qt,2,5,"adapt-rx-textfield",2),i["\u0275\u0275pipe"](1,"async")),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](1,2,e.model.fieldsDesignData$))("ngForTrackBy",e.trackByFn)}}function Qt(e,t){1&e&&i["\u0275\u0275element"](0,"adapt-empty-state",4)}function Zt(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-read-only-field",4),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("label",e.label)("value",e.getDisplayValue())}}function Kt(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,Zt,1,2,"rx-read-only-field",3),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.inReadState)("ngIfElse",t)}}function Jt(e,t){if(1&e&&(i["\u0275\u0275element"](0,"adapt-rx-textfield",7),i["\u0275\u0275pipe"](1,"translate")),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("label",e.label)("isPassword",e.isPasswordField)("formControl",e.formControl)("maxlength",e.maxLength)("required",e.isRequired)("readonly",e.isDisabled)("disabledStyleForReadonlyState",!0)("autocomplete",!e.isPasswordField)("requiredLabel",i["\u0275\u0275pipeBind1"](1,9,"com.bmc.arsys.rx.client.common.required-field.label"))}}function en(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"rx-select-with-pagination",8),i["\u0275\u0275listener"]("toggleDropdown",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onToggleDropdown(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2),t=i["\u0275\u0275reference"](4);i["\u0275\u0275property"]("showDefaultTitle",e.showDefaultTitle)("label",e.label)("formControl",e.formControl)("readonly",e.isDisabled)("viewToModelValueAdapter",e.viewToModelValueAdapterFunc)("modelToViewValueAdapter",e.modelToViewValueAdapterFunc)("optionLoader",e.optionLoaderFunc)("required",e.isRequired)("isMultiSelectionMode",e.isMultipleSelectionEnabled)("template",t)}}function tn(e,t){if(1&e&&(i["\u0275\u0275template"](0,Jt,2,11,"adapt-rx-textfield",5),i["\u0275\u0275template"](1,en,1,10,"rx-select-with-pagination",6)),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngIf",!e.isNamedListAttached),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isNamedListAttached)}}function nn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",12),i["\u0275\u0275elementStart"](1,"small"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e," ")}}function on(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",10),i["\u0275\u0275template"](1,nn,3,1,"span",11),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("title",e.title),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.contextualFields)}}function rn(e,t){if(1&e&&(i["\u0275\u0275text"](0),i["\u0275\u0275template"](1,on,2,2,"div",9)),2&e){const e=t.$implicit;i["\u0275\u0275textInterpolate1"](" ",e.displayValue," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.contextualFields)}}function sn(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-read-only-field",3),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("label",e.label)("value",e.getDisplayValue())}}function an(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,sn,1,2,"rx-read-only-field",2),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.inReadState)("ngIfElse",t)}}function ln(e,t){if(1&e&&(i["\u0275\u0275element"](0,"adapt-rx-textarea",4),i["\u0275\u0275pipe"](1,"translate")),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("formControl",e.formControl)("required",e.isRequired)("maxlength",e.maxLength)("rows",3)("readonly",e.isDisabled)("disabledStyleForReadonlyState",!0)("label",e.label)("requiredLabel",i["\u0275\u0275pipeBind1"](1,8,"com.bmc.arsys.rx.client.common.required-field.label"))}}function cn(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-read-only-field",3),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("label",e.label)("value",e.getDisplayValue())}}function dn(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,cn,1,2,"rx-read-only-field",2),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.inReadState)("ngIfElse",t)}}function un(e,t){if(1&e&&i["\u0275\u0275element"](0,"adapt-rx-datetime",4),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("label",e.label)("required",e.isRequired)("formControl",e.formControl)("readonly",e.isDisabled)("disabledStyleForReadonlyState",!0)("mode",e.pickerMode)}}function pn(e,t){1&e&&i["\u0275\u0275element"](0,"rx-runtime-view-canvas-outlet")}function hn(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",3),i["\u0275\u0275text"](1,"(required)"),i["\u0275\u0275elementEnd"]())}function mn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",3),i["\u0275\u0275elementStart"](1,"label"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](3,"ckeditor",4),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.label),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("config",e.ckEditorConfig)("type",e.ckEditorType)("readOnly",!0)("ngModel",e.getDisplayValue())}}function fn(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,mn,4,5,"div",2),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.inReadState)("ngIfElse",t)}}function gn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275element"](1,"adapt-rx-control-label",5),i["\u0275\u0275elementStart"](2,"ckeditor",6),i["\u0275\u0275listener"]("dataChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().setFieldValue(t)})("blur",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onBlur()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](3,"adapt-rx-feedback",7,8),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](4),t=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("has-danger",e.hasUIErrorState),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("label",t.label)("showRequiredLabel",t.isRequired),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("data",t.formControl.value)("config",t.ckEditorConfig)("type",t.ckEditorType)("readOnly",t.isDisabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("errors",t.formControl.errors)("controlTouched",t.formControl.touched)}}function vn(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-read-only-field",3),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("label",e.label)("value",e.getDisplayValue())}}function yn(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,vn,1,2,"rx-read-only-field",2),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.inReadState)("ngIfElse",t)}}function bn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",4),i["\u0275\u0275element"](1,"adapt-rx-control-label",5),i["\u0275\u0275elementStart"](2,"button",6),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().selectLocalizedValue()}),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](5,"adapt-rx-textfield",7)}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("has-danger",e.formControl.errors&&e.formControl.touched),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("label",e.label)("id",e.guid)("showRequiredLabel",e.isRequired),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",e.isDisabled),i["\u0275\u0275attribute"]("aria-describedby",e.guid),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](4,13,"com.bmc.arsys.rx.client.view-components.localized-character-field.button.localize.label")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("readonly",!0)("formControl",e.formControl)("disabledStyleForReadonlyState",!0)("required",e.isRequired),i["\u0275\u0275attribute"]("aria-describedby",e.guid)}}function xn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"label",2),i["\u0275\u0275elementStart"](1,"input",3),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().column.alignment=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275classMapInterpolate1"]("btn btn-sm rounded btn-secondary ",e.icon,""),i["\u0275\u0275classProp"]("active",n.column.alignment===e.value)("disabled",n.isReadOnly),i["\u0275\u0275property"]("adaptTooltip",e.name),i["\u0275\u0275attribute"]("rx-id",e.name),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",e.value)("ngModel",n.column.alignment)("disabled",n.isReadOnly),i["\u0275\u0275attribute"]("rx-id",e.value)}}function wn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",13),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().addCellProperties()}),i["\u0275\u0275element"](1,"span",14),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,1,"com.bmc.arsys.rx.client.view-components.cell-display-properties.add-cell-display-property.button.label")," "))}function Cn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",15),i["\u0275\u0275elementStart"](1,"button",16),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().toggleOpen(!0)}),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",17),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().toggleOpen(!1)}),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,2,"com.bmc.arsys.rx.client.common.expand-all.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,4,"com.bmc.arsys.rx.client.common.collapse-all.label")," "))}function _n(e,t){1&e&&i["\u0275\u0275element"](0,"div",46)}function Sn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",47),i["\u0275\u0275elementStart"](1,"div",48),i["\u0275\u0275elementStart"](2,"button",49),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index,o=i["\u0275\u0275nextContext"](2);return t.stopPropagation(),o.moveCellProperties(n,n+1)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",50),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index,o=i["\u0275\u0275nextContext"](2);return t.stopPropagation(),o.moveCellProperties(n,n-1)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",51),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index,o=i["\u0275\u0275nextContext"](2);return t.stopPropagation(),o.removeCellProperties(n)}),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=e.last,n=e.first;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",t),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",n),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,3,"com.bmc.arsys.rx.client.common.remove.label")," ")}}const In=function(e,t){return{active:e,"disabled not-allowed":t}};function An(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",21),i["\u0275\u0275template"](1,_n,1,0,"div",22),i["\u0275\u0275elementStart"](2,"adapt-accordion-tab",23),i["\u0275\u0275listener"]("open",function(){return i["\u0275\u0275restoreView"](e).$implicit.get("isOpen").setValue(!0)})("close",function(){return i["\u0275\u0275restoreView"](e).$implicit.get("isOpen").setValue(!1)}),i["\u0275\u0275elementStart"](3,"div",24),i["\u0275\u0275elementStart"](4,"div",25),i["\u0275\u0275elementStart"](5,"div",26),i["\u0275\u0275elementStart"](6,"div",27),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,Sn,7,5,"div",28),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",29),i["\u0275\u0275elementStart"](10,"rx-expression-form-control",30),i["\u0275\u0275listener"]("events",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).openExpressionEditor(t.get("fieldValueCondition"))}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",31),i["\u0275\u0275elementStart"](12,"div",32),i["\u0275\u0275element"](13,"adapt-rx-control-label",33),i["\u0275\u0275pipe"](14,"translate"),i["\u0275\u0275elementStart"](15,"adapt-rx-switch",34),i["\u0275\u0275listener"]("ngModelChange",function(){const t=i["\u0275\u0275restoreView"](e).$implicit,n=i["\u0275\u0275nextContext"](2);return n.markAsDirty(),n.resetIconAndTextProps(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"adapt-rx-select",35),i["\u0275\u0275listener"]("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).markAsDirty()}),i["\u0275\u0275pipe"](17,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"rx-icon-picker-form-control",36),i["\u0275\u0275listener"]("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).markAsDirty()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"adapt-rx-select",37),i["\u0275\u0275listener"]("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).markAsDirty()}),i["\u0275\u0275pipe"](20,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",29),i["\u0275\u0275elementStart"](22,"adapt-rx-select",38),i["\u0275\u0275listener"]("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).markAsDirty()}),i["\u0275\u0275pipe"](23,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"adapt-rx-select",39),i["\u0275\u0275listener"]("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).markAsDirty()}),i["\u0275\u0275pipe"](25,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"adapt-rx-select",40),i["\u0275\u0275listener"]("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).markAsDirty()}),i["\u0275\u0275pipe"](27,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"div",41),i["\u0275\u0275elementStart"](29,"div",42),i["\u0275\u0275elementStart"](30,"label",43),i["\u0275\u0275elementStart"](31,"input",44),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).toggleProp(t.get("bold"))}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"label",45),i["\u0275\u0275elementStart"](33,"input",44),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).toggleProp(t.get("italic"))}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,o=i["\u0275\u0275nextContext"](2),r=i["\u0275\u0275reference"](17);i["\u0275\u0275property"]("cdkDragData",e)("cdkDragDisabled",o.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!o.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("formGroup",e)("isOpen",e.get("isOpen").value),i["\u0275\u0275advance"](3),i["\u0275\u0275classProp"]("pl-0",o.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("title","Cell display properties "+(n+1)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" Cell display properties ",n+1," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!o.config.isReadOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("options",o.queryExpressionOptions),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](14,42,"com.bmc.arsys.rx.client.view-components.cell-display-properties.display-as-badge-field.label")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",o.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](17,44,"com.bmc.arsys.rx.client.view-components.cell-display-properties.badge-color-field.label")),i["\u0275\u0275property"]("disabled",o.config.isReadOnly)("options",o.badgeColors)("optionFormatter",o.optionFormatter)("optionContentTemplate",r),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",o.config.isReadOnly)("options",o.iconPickerOptions),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](20,46,"com.bmc.arsys.rx.client.view-components.cell-display-properties.icon-position-field.label")),i["\u0275\u0275property"]("disabled",o.config.isReadOnly)("options",o.iconPositions)("optionFormatter",o.optionFormatter),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](23,48,"com.bmc.arsys.rx.client.view-components.cell-display-properties.text-color-field.label")),i["\u0275\u0275property"]("disabled",o.config.isReadOnly)("options",o.textColors)("optionFormatter",o.optionFormatter)("optionContentTemplate",r),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](25,50,"com.bmc.arsys.rx.client.view-components.cell-display-properties.background-color-field.label")),i["\u0275\u0275property"]("disabled",o.config.isReadOnly)("options",o.backgroundColors)("optionFormatter",o.optionFormatter)("optionContentTemplate",r),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](27,52,"com.bmc.arsys.rx.client.view-components.cell-display-properties.font-size-field.label")),i["\u0275\u0275property"]("disabled",o.config.isReadOnly)("options",o.fontSizes)("optionFormatter",o.optionFormatter),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction2"](54,In,e.get("bold").value,e.get("displayAsBadge").value||o.config.isReadOnly)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",e.get("displayAsBadge").value||o.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction2"](57,In,e.get("italic").value,e.get("displayAsBadge").value||o.config.isReadOnly)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",e.get("displayAsBadge").value||o.config.isReadOnly)}}function En(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",18),i["\u0275\u0275listener"]("cdkDropListDropped",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onSelectedCellPropertyDrop(t)}),i["\u0275\u0275elementStart"](1,"adapt-accordion",19),i["\u0275\u0275template"](2,An,34,60,"div",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("multiselect",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.propsFormArray.controls)}}function Dn(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",52),i["\u0275\u0275element"](1,"adapt-empty-state",53),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.view-components.cell-display-properties.empty-state.message")))}function Tn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",54),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onSave()}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("disabled",e.propsFormArray.invalid||!e.isDirty()),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,2,"com.bmc.arsys.rx.client.common.save.label")," ")}}function Rn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",55),i["\u0275\u0275element"](1,"div",56),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",e.value?"color-option-box rounded mr-2 "+n.colorsList[e.value]:""),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function Mn(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",4),i["\u0275\u0275text"](1,"No cell display properties added."),i["\u0275\u0275elementEnd"]())}function On(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",4),i["\u0275\u0275text"](1,"Cell display properties added."),i["\u0275\u0275elementEnd"]())}function Pn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",11),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().addNamedFilterOption()}),i["\u0275\u0275element"](1,"span",12),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,1,"com.bmc.arsys.rx.client.view-components.named-filter-options.add-named-filter-option.button.label")," "))}function Fn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"button",14),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().toggleOpen(!0)}),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",15),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().toggleOpen(!1)}),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,2,"com.bmc.arsys.rx.client.common.expand-all.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,4,"com.bmc.arsys.rx.client.common.collapse-all.label")," "))}function kn(e,t){1&e&&i["\u0275\u0275element"](0,"div",29)}function Nn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",30),i["\u0275\u0275elementStart"](1,"div",31),i["\u0275\u0275elementStart"](2,"button",32),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index,o=i["\u0275\u0275nextContext"](2);return t.stopPropagation(),o.moveNamedFilterOption(n,n+1)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",33),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index,o=i["\u0275\u0275nextContext"](2);return t.stopPropagation(),o.moveNamedFilterOption(n,n-1)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",34),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index,o=i["\u0275\u0275nextContext"](2);return t.stopPropagation(),o.removeNamedFilterOption(n)}),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=e.last,n=e.first;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",t),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",n),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,3,"com.bmc.arsys.rx.client.common.remove.label")," ")}}function jn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",19),i["\u0275\u0275template"](1,kn,1,0,"div",20),i["\u0275\u0275elementStart"](2,"adapt-accordion-tab",21),i["\u0275\u0275elementStart"](3,"div",22),i["\u0275\u0275elementStart"](4,"div",23),i["\u0275\u0275elementStart"](5,"div",24),i["\u0275\u0275elementStart"](6,"div",25),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,Nn,7,5,"div",26),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"adapt-rx-textfield",27),i["\u0275\u0275listener"]("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).markAsDirty()}),i["\u0275\u0275pipe"](10,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"rx-expression-form-control",28),i["\u0275\u0275listener"]("events",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).openExpressionEditor(t.get("title"),t.get("filterExpression"))})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).markAsDirty()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("cdkDragData",e)("cdkDragDisabled",n.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("formGroup",e)("isOpen",n.accordionTabs[e.get("guid").value]),i["\u0275\u0275advance"](3),i["\u0275\u0275classProp"]("pl-0",n.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("title",e.get("title").value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.get("title").value," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](10,14,"com.bmc.arsys.rx.client.view-components.named-filter-options.name-field.label")),i["\u0275\u0275property"]("required",!0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("options",n.queryExpressionOptions)("required",!0)}}function Ln(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",16),i["\u0275\u0275listener"]("cdkDropListDropped",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onSelectedNamedFilterOptionDrop(t)}),i["\u0275\u0275elementStart"](1,"adapt-accordion",17),i["\u0275\u0275template"](2,jn,12,16,"div",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("multiselect",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.namedFilterOptionsFormArray.controls)}}function Vn(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",35),i["\u0275\u0275element"](1,"adapt-empty-state",36),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.view-components.named-filter-options.empty-state.message")))}function Bn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",37),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onSave()}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("disabled",e.namedFilterOptionsFormArray.invalid||!e.isDirty()),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,2,"com.bmc.arsys.rx.client.common.save.label")," ")}}const Gn='[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.designer-modal-body[_ngcontent-%COMP%]{height:645px;min-height:calc(100% - 61px)!important}.designer-modal-accordion-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:auto;padding-top:10px}.designer-modal-accordion-content[_ngcontent-%COMP%]{position:relative}.designer-modal-accordion-content.cdk-drag-preview[_ngcontent-%COMP%]{z-index:1200!important}.designer-modal-drag-handle[_ngcontent-%COMP%]{cursor:move;position:absolute;top:0;left:0;height:46px;padding:14px 10px 14px 14px;z-index:1}.designer-modal-card-title-content[_ngcontent-%COMP%]{width:100%;display:flex}.designer-modal-card-title-content[_ngcontent-%COMP%]   .left-header-block[_ngcontent-%COMP%], .designer-modal-card-title-content[_ngcontent-%COMP%]   .right-header-block[_ngcontent-%COMP%]{display:flex;align-items:center}.designer-modal-card-title-content[_ngcontent-%COMP%]   .left-header-block[_ngcontent-%COMP%]{flex-grow:1;min-width:0;font-size:14px;padding-left:22px}.designer-modal-card-sub-title[_ngcontent-%COMP%]{color:#7c7f81;font-weight:normal}.designer-modal-card-title-index-buttons[_ngcontent-%COMP%]{display:flex;font-size:19px}.rx-card[_ngcontent-%COMP%]{overflow:auto}.rx-tree-draggable-node[_ngcontent-%COMP%]{cursor:pointer}.rx-tree-draggable-node.cdk-drag-preview[_ngcontent-%COMP%]{z-index:1200!important}.rx-tree-draggable-node.cdk-drag[_ngcontent-%COMP%]{opacity:1}.rx-tree-node-label[_ngcontent-%COMP%]{word-break:break-all}rx-form-builder[_ngcontent-%COMP%]{max-width:400px}';function zn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",6),i["\u0275\u0275element"](1,"span",7),i["\u0275\u0275element"](2,"adapt-icon",8),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("name","question_circle_o")("adaptPopover",e.tooltip)}}function $n(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275text"](1,"No named filter options added."),i["\u0275\u0275elementEnd"]())}function Un(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",16),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](2).removeFilterOption(t)}),i["\u0275\u0275elementEnd"]()}}function Hn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li",12),i["\u0275\u0275elementStart"](1,"strong",13),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",14),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).index;return i["\u0275\u0275nextContext"](2).editNamedFilterOption(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,Un,1,0,"button",15),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.data.title),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!n.isDisabled)}}function Xn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"ul",10),i["\u0275\u0275template"](1,Hn,5,2,"li",11),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.value)}}const Wn=["selectedColumnsDropList"],qn=["associatedAvailableColumnsDropList"],Yn=["draggableSelectedColumn"],Qn=["draggableAssociatedAvailableColumn"];function Zn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",22),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("title",e.label),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function Kn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",23,24),i["\u0275\u0275listener"]("cdkDragStarted",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](4).onAssociatedAvailableColumnsDragStarted()}),i["\u0275\u0275elementStart"](2,"div",25),i["\u0275\u0275listener"]("dblclick",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](3).addColumn(t.data.availableColumn)}),i["\u0275\u0275elementStart"](3,"button",26),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](3).addColumn(t.data.availableColumn)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"span",27),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("cdkDragData",e.data.availableColumn),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](e.label)}}function Jn(e,t){if(1&e&&(i["\u0275\u0275template"](0,Zn,2,2,"span",20),i["\u0275\u0275template"](1,Kn,6,2,"div",21)),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngIf",!e.data.availableColumn),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.data.availableColumn)}}const ei=function(){return["selectedColumnsDropList"]};function ti(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",16,17),i["\u0275\u0275elementStart"](2,"adapt-tree",18),i["\u0275\u0275listener"]("onNodeExpand",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onNodeExpand(t)}),i["\u0275\u0275template"](3,Jn,2,2,"ng-template",19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("cdkDropListData",e.filteredColumns)("cdkDropListConnectedTo",i["\u0275\u0275pureFunction0"](4,ei)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",e.availableColumnsTree)("wrap",e.treeWrap)}}function ni(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",28),i["\u0275\u0275element"](1,"adapt-empty-state",29),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.view-components.record-grid-column.available-columns.empty-state.message")))}function ii(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",12),i["\u0275\u0275elementStart"](1,"div",3),i["\u0275\u0275elementStart"](2,"h4",4),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",13),i["\u0275\u0275elementStart"](6,"div",14),i["\u0275\u0275template"](7,ti,4,5,"div",15),i["\u0275\u0275template"](8,ni,3,3,"div",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](4,3,"com.bmc.arsys.rx.client.view-components.record-grid-column.available-columns.title")," "),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",!e.isTreeEmpty()),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isTreeEmpty())}}function oi(e,t){1&e&&i["\u0275\u0275element"](0,"div",44)}function ri(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",50),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](2).index,o=i["\u0275\u0275nextContext"](2);return t.stopPropagation(),o.removeColumn(n)}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.common.remove.label")," "))}function si(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",45),i["\u0275\u0275elementStart"](1,"div",46),i["\u0275\u0275elementStart"](2,"button",47),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index,o=i["\u0275\u0275nextContext"](2);return t.stopPropagation(),o.moveColumn(n,n+1)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",48),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index,o=i["\u0275\u0275nextContext"](2);return t.stopPropagation(),o.moveColumn(n,n-1)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,ri,3,3,"button",49),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=e.last,n=e.first,o=e.$implicit,r=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",t),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!r.isActionsColumn(o.fieldId))}}function ai(e,t){1&e&&i["\u0275\u0275element"](0,"div")}function li(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,ai,1,0,"div",51),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275reference"](14),n=i["\u0275\u0275reference"](12),o=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",o.isActionsColumn(e.fieldId))("ngIfThen",t)("ngIfElse",n)}}function ci(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",68),i["\u0275\u0275element"](1,"span",69),i["\u0275\u0275element"](2,"adapt-icon",70),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("name","question_circle_o")("adaptPopover",e.tooltip.content)}}function di(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",64),i["\u0275\u0275elementStart"](1,"label"),i["\u0275\u0275elementStart"](2,"input",65),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](2).$implicit[n.name]=t})("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit,o=i["\u0275\u0275nextContext"](2).$implicit;return i["\u0275\u0275nextContext"](2).onColumnCheckboxPropertyChange(t,o,n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span",66),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,ci,3,2,"span",67),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](2).$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t[e.name])("disabled",!n.isPropertyEditable(t,e.name)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.label),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.tooltip)}}function ui(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"rx-column-editor-alignment",71),i["\u0275\u0275listener"]("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](5).markAsDirty()}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](2).$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("isReadOnly",n.isReadOnly)("column",t)("columnProperty",e)("ngModel",t.alignment)}}const pi=function(){return["visible","sortable","filterable","searchable","wrapText"]};function hi(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,di,6,4,"div",62),i["\u0275\u0275template"](2,ui,1,4,"rx-column-editor-alignment",63),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pureFunction0"](2,pi).includes(e.name)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","alignment"===e.name)}}function mi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"rx-select-form-control",72),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).$implicit.typeaheadKeystrokeCount=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](4).markAsDirty()}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2).$implicit,t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("options",t.typeaheadKeystrokeCountOptions)("ngModel",e.typeaheadKeystrokeCount)("disabled",t.isReadOnly)}}function fi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"rx-expression-form-control",73,74),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).$implicit.additionalQueryCriteria=t})("events",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275reference"](1),n=i["\u0275\u0275nextContext"](2).$implicit;return i["\u0275\u0275nextContext"](2).openAdditionalQueryCriteriaExpressionEditor(n,t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2).$implicit,t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("options",e.additionalQueryCriteriaExpressionOptions)("ngModel",e.additionalQueryCriteria)("disabled",t.isReadOnly)}}function gi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-rx-textfield",52),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().$implicit.title=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](3).markAsDirty()}),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"div",53),i["\u0275\u0275template"](3,hi,3,3,"ng-container",54),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",55),i["\u0275\u0275elementStart"](5,"rx-stepper-with-units-form-control",56),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().$implicit.width=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](3).markAsDirty()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,mi,1,3,"rx-select-form-control",57),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](7,fi,2,3,"rx-expression-form-control",58),i["\u0275\u0275elementStart"](8,"rx-cell-display-properties",59),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().$implicit.cellDisplayProperties=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](3).markAsDirty()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"rx-named-filter-options",60),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().$implicit.namedFilterOptions=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](3).markAsDirty()}),i["\u0275\u0275pipe"](10,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"rx-action-list-control",61),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().$implicit.actions=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](3).markAsDirty()}),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](1,20,"com.bmc.arsys.rx.client.view-components.record-grid-column.column-header-field.label")),i["\u0275\u0275property"]("disabled",t.isReadOnly)("ngModel",e.title),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",t.columnProperties)("ngForTrackBy",t.trackByForColumnProperties),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("options",t.columnWidthPropertyOptions)("ngModel",e.width),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.filterable&&e.fieldDefinition.namedListDefinition),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.filterable&&e.fieldDefinition.namedListDefinition),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("columns",t.columns)("columnName",e.title)("disabled",t.isReadOnly)("ngModel",e.cellDisplayProperties),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("tooltip",i["\u0275\u0275pipeBind1"](10,22,"com.bmc.arsys.rx.client.view-components.record-grid-column.named-filter-options-field.tooltip")),i["\u0275\u0275property"]("column",e)("disabled",t.isReadOnly)("ngModel",e.namedFilterOptions),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate"]("tooltip",i["\u0275\u0275pipeBind1"](12,24,"com.bmc.arsys.rx.client.view-components.record-grid-column.column-actions-field.tooltip")),i["\u0275\u0275property"]("disabled",t.isReadOnly)("ngModel",e.actions)}}function vi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",64),i["\u0275\u0275elementStart"](1,"label"),i["\u0275\u0275elementStart"](2,"input",65),i["\u0275\u0275listener"]("ngModelChange",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).$implicit[n.name]=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](4).markAsDirty()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span",66),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2).$implicit,o=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",n[e.name])("disabled",!o.isPropertyEditable(n,e.name)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.label)}}function yi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-rx-textfield",75),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().$implicit.title=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](3).markAsDirty()}),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"rx-stepper-with-units-form-control",56),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().$implicit.width=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](3).markAsDirty()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",53),i["\u0275\u0275template"](4,vi,5,3,"div",76),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](1,7,"com.bmc.arsys.rx.client.view-components.record-grid-column.column-header-field.label")),i["\u0275\u0275property"]("disabled",t.isReadOnly)("ngModel",e.title),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("options",t.columnWidthPropertyOptions)("ngModel",e.width),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.actionsColumnProperties)("ngForTrackBy",t.trackByForColumnProperties)}}function bi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",32,33),i["\u0275\u0275listener"]("cdkDragStarted",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onColumnDragStarted()}),i["\u0275\u0275template"](2,oi,1,0,"div",34),i["\u0275\u0275elementStart"](3,"adapt-accordion-tab",35),i["\u0275\u0275listener"]("open",function(){return i["\u0275\u0275restoreView"](e).$implicit.isOpen=!0})("close",function(){return i["\u0275\u0275restoreView"](e).$implicit.isOpen=!1}),i["\u0275\u0275elementStart"](4,"div",36),i["\u0275\u0275elementStart"](5,"div",37),i["\u0275\u0275elementStart"](6,"div",38),i["\u0275\u0275elementStart"](7,"div",39),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,si,5,3,"div",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,li,2,3,"ng-container",41),i["\u0275\u0275template"](11,gi,13,26,"ng-template",null,42,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](13,yi,5,9,"ng-template",null,43,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("cdkDragData",e)("cdkDragDisabled",n.isReadOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!n.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("isOpen",e.isOpen),i["\u0275\u0275advance"](3),i["\u0275\u0275classProp"]("pl-0",n.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("title",e.label),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.label," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isOpen)}}function xi(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"adapt-accordion",30),i["\u0275\u0275template"](1,bi,15,10,"div",31),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("multiselect",!1),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.columns)("ngForTrackBy",e.trackByForColumns)}}function wi(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",28),i["\u0275\u0275element"](1,"adapt-empty-state",77),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.view-components.record-grid-column.selected-columns.empty-state.message")))}function Ci(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",78),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().saveChanges()}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("disabled",!e.isDirty()),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,2,"com.bmc.arsys.rx.client.common.save.label")," ")}}function _i(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",6),i["\u0275\u0275text"](1," No grid columns added. "),i["\u0275\u0275elementEnd"]())}function Si(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",13),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](2).openEditor(t.guid)}),i["\u0275\u0275elementEnd"]()}}function Ii(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",14),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](2).removeColumn(t)}),i["\u0275\u0275elementEnd"]()}}function Ai(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("\u2013 ",e.associationDescriptor.label,"")}}const Ei=function(e){return{"d-icon-left-arrow_schema":e}};function Di(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275elementStart"](1,"div",8),i["\u0275\u0275elementStart"](2,"span",9),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,Si,1,0,"button",10),i["\u0275\u0275template"](5,Ii,1,0,"button",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",12),i["\u0275\u0275text"](7),i["\u0275\u0275template"](8,Ai,2,1,"span",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](7,Ei,e.associationDescriptor))("title",e.title),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.title||e.fallbackTitle," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.isDisabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.isActionsColumn(e.fieldId)&&!n.isDisabled),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",n.getColumnResourceTypeName(e)," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.associationDescriptor)}}function Ti(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"div",3),i["\u0275\u0275template"](2,_i,2,0,"span",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,Di,9,9,"div",5),i["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",0===e.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",n.getSortedColumns(e))("ngForTrackBy",n.trackByForColumns)}}function Ri(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-rx-checkbox",3),i["\u0275\u0275listener"]("ngModelChange",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).namedFilterOptionsModel[n.guid]=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onNamedFilterOptionChange()}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("label",e.title)("ngModel",n.namedFilterOptionsModel[e.guid])}}function Mi(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",1),i["\u0275\u0275template"](1,Ri,1,2,"adapt-rx-checkbox",2),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.namedFilterOptions)("ngForTrackBy",e.trackByOptionGuid)}}function Oi(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-named-filter-options-list",3),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("namedFilterOptions",e.namedFilterOptions)("filterOption",e.filterOption)("filterValue",e.filterValue)("filterControlsComponent",e.filterControlsComponent)}}function Pi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-rx-select",4),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onValueChange(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("inline",!0)("multiple",!0)("optionFormatter",e.selectOptionFormatter)("options",e.getSelectOptions())("popupMaxHeight",null)("ngModel",e.selectedValues)}}function Fi(e,t){if(1&e&&i["\u0275\u0275element"](0,"adapt-rx-radiobutton",6),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("value",e.filterControlsComponent.getBooleanTypeBlankValue())("label",e.filterControlsComponent.texts.configsTexts.blankLabel)("testID",e.filterControlsComponent.testID+"_radio_blank")("disabled",e.filterControlsComponent.isInputDisabled(e.filterControlsComponent.getBooleanTypeBlankValue()))}}function ki(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-rx-radiobutton-group",5),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onValueChangeRequired(t)}),i["\u0275\u0275element"](1,"adapt-rx-radiobutton",6),i["\u0275\u0275element"](2,"adapt-rx-radiobutton",6),i["\u0275\u0275template"](3,Fi,1,4,"adapt-rx-radiobutton",7),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngModel",e.filterValue?e.filterValue.filterValue[0]:null),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",!1)("label",e.filterControlsComponent.texts.configsTexts.falseLabel)("testID",e.filterControlsComponent.testID+"_radio_false")("disabled",e.filterControlsComponent.isInputDisabled(!1)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",!0)("label",e.filterControlsComponent.texts.configsTexts.trueLabel)("testID",e.filterControlsComponent.testID+"_radio_true")("disabled",e.filterControlsComponent.isInputDisabled(!0)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.filterControlsComponent.getBooleanTypeOptionParams().hasBlankValue)}}function Ni(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-named-filter-options-list",6),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("namedFilterOptions",e.namedFilterOptions)("filterOption",e.filterOption)("filterValue",e.filterValue)("filterControlsComponent",e.filterControlsComponent)}}function ji(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275element"](1,"div",8),i["\u0275\u0275elementEnd"]())}function Li(e,t){if(1&e&&i["\u0275\u0275text"](0),2&e){const e=t.tag;let n;i["\u0275\u0275textInterpolate1"](" ",null!==(n=e.displayValue)&&void 0!==n?n:e.value,"\n")}}function Vi(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",12),i["\u0275\u0275elementStart"](1,"small"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e," ")}}function Bi(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",10),i["\u0275\u0275template"](1,Vi,3,1,"span",11),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().result;i["\u0275\u0275property"]("title",e.title),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.contextualFields)}}function Gi(e,t){if(1&e&&(i["\u0275\u0275text"](0),i["\u0275\u0275template"](1,Bi,2,2,"div",9)),2&e){const e=t.result;let n;i["\u0275\u0275textInterpolate1"](" ",null!==(n=e.displayValue)&&void 0!==n?n:e.value," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.contextualFields)}}function zi(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-named-filter-options-list",3),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("namedFilterOptions",e.namedFilterOptions)("filterOption",e.filterOption)("filterValue",e.filterValue)("filterControlsComponent",e.filterControlsComponent)}}function $i(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-named-filter-options-list",8),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("namedFilterOptions",e.namedFilterOptions)("filterOption",e.filterOption)("filterValue",e.filterValue)("filterControlsComponent",e.filterControlsComponent)}}function Ui(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-named-filter-options-list",6),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("namedFilterOptions",e.namedFilterOptions)("filterOption",e.filterOption)("filterValue",e.filterValue)("filterControlsComponent",e.filterControlsComponent)}}function Hi(e,t){if(1&e&&i["\u0275\u0275elementContainer"](0,7),2&e){i["\u0275\u0275nextContext"]();const e=i["\u0275\u0275reference"](6);i["\u0275\u0275property"]("ngTemplateOutlet",e)}}function Xi(e,t){if(1&e&&i["\u0275\u0275elementContainer"](0,7),2&e){i["\u0275\u0275nextContext"]();const e=i["\u0275\u0275reference"](8);i["\u0275\u0275property"]("ngTemplateOutlet",e)}}function Wi(e,t){if(1&e&&i["\u0275\u0275elementContainer"](0,7),2&e){i["\u0275\u0275nextContext"]();const e=i["\u0275\u0275reference"](10);i["\u0275\u0275property"]("ngTemplateOutlet",e)}}function qi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-rx-datetime-range",8),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onTimeTypeFilterOptionModelChange(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngModel",null==e.filterValue?null:e.filterValue.filterValue)("testID",e.filterControlsComponent.testID)("mode",e.mode)("hasSeconds",!0)("inline",!0)("inlineLight",!0)("texts",e.filterControlsComponent.texts.datetimeTexts)("disabled",e.filterControlsComponent.isInputDisabled())}}function Yi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-rx-datetime-range",9),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onDateTypeFilterOptionModelChange(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngModel",null==e.filterValue?null:e.filterValue.filterValue)("testID",e.filterControlsComponent.testID)("mode",e.mode)("inline",!0)("inlineLight",!0)("texts",e.filterControlsComponent.texts.datetimeTexts)("disabled",e.filterControlsComponent.isInputDisabled())}}function Qi(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-rx-datetime-range",8),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onDateTimeTypeFilterOptionModelChange(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngModel",null==e.filterValue?null:e.filterValue.filterValue)("testID",e.filterControlsComponent.testID)("mode",e.mode)("hasSeconds",!0)("inline",!0)("inlineLight",!0)("texts",e.filterControlsComponent.texts.datetimeTexts)("disabled",e.filterControlsComponent.isInputDisabled())}}function Zi(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-named-filter-options-list",2),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("namedFilterOptions",e.namedFilterOptions)("filterOption",e.filterOption)("filterValue",e.filterValue)("filterControlsComponent",e.filterControlsComponent)}}const Ki=["optionalBooleanFilter"],Ji=["requiredBooleanFilter"],eo=["inputsForStringWithTypeAheadTemplate"],to=["inputsForStringTypeTemplate"],no=["inputsForNumberTypeTemplate"],io=["inputsForTimeTypeTemplate"],oo=["inputsForDateTypeTemplate"],ro=["inputsForDatetimeTypeTemplate"],so=["inputsForSelectionTypeTemplate"];function ao(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-boolean-filter",9),2&e){const e=t.filterOption,n=t.value,o=t.filterControlsComponent,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("filterControlsComponent",o)("filterOption",e)("filterValue",n)("isRequired",!1)("namedFilterOptions",r.namedFilterOptionsGetter(e))}}function lo(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-boolean-filter",9),2&e){const e=t.filterOption,n=t.value,o=t.filterControlsComponent,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("filterControlsComponent",o)("filterOption",e)("filterValue",n)("isRequired",!0)("namedFilterOptions",r.namedFilterOptionsGetter(e))}}function co(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-string-with-type-ahead-filter",10),2&e){const e=t.filterOption,n=t.value,o=t.filterControlsComponent,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("filterControlsComponent",o)("filterOption",e)("filterValue",n)("namedFilterOptions",r.namedFilterOptionsGetter(e))}}function uo(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-string-filter",10),2&e){const e=t.filterOption,n=t.value,o=t.filterControlsComponent,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("filterControlsComponent",o)("filterOption",e)("filterValue",n)("namedFilterOptions",r.namedFilterOptionsGetter(e))}}function po(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-number-filter",11),2&e){const e=t.filterOption,n=t.value,o=t.filterControlsComponent,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("filterOption",e)("filterValue",n)("filterControlsComponent",o)("namedFilterOptions",r.namedFilterOptionsGetter(e))}}function ho(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-date-time-range-filter",12),2&e){const e=t.filterOption,n=t.value,o=t.filterControlsComponent,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("filterOption",e)("filterValue",n)("filterControlsComponent",o)("mode",r.rxDatetimePickerMode.Time)("namedFilterOptions",r.namedFilterOptionsGetter(e))}}function mo(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-date-time-range-filter",12),2&e){const e=t.filterOption,n=t.value,o=t.filterControlsComponent,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("filterOption",e)("filterValue",n)("filterControlsComponent",o)("mode",r.rxDatetimePickerMode.Date)("namedFilterOptions",r.namedFilterOptionsGetter(e))}}function fo(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-date-time-range-filter",12),2&e){const e=t.filterOption,n=t.value,o=t.filterControlsComponent,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("filterOption",e)("filterValue",n)("filterControlsComponent",o)("mode",r.rxDatetimePickerMode.DateTime)("namedFilterOptions",r.namedFilterOptionsGetter(e))}}function go(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-selection-filter",11),2&e){const e=t.filterOption,n=t.value,o=t.filterControlsComponent,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("filterOption",e)("filterValue",n)("filterControlsComponent",o)("namedFilterOptions",r.namedFilterOptionsGetter(e))}}function vo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-tag",2),i["\u0275\u0275listener"]("remove",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onRemoveFilterTag(t)}),i["\u0275\u0275elementStart"](1,"span",3),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();let o;i["\u0275\u0275property"]("removable",!n.isDisabled)("disabled",n.isDisabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("title",null!==(o=null==e.data.value?null:e.data.value.title)&&void 0!==o?o:e.text),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.text)}}function yo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"adapt-tag",8),i["\u0275\u0275listener"]("remove",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).onRemoveFilterTag(t)}),i["\u0275\u0275elementStart"](2,"span",3),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);let o;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("removable",!n.isDisabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("title",null!==(o=null==e.data.value?null:e.data.value.title)&&void 0!==o?o:e.text),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.text)}}function bo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",4),i["\u0275\u0275elementStart"](1,"button",5),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",6),i["\u0275\u0275template"](5,yo,4,3,"div",7),i["\u0275\u0275pipe"](6,"slice"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("appendToBody",!0)("placement",e.restTagsDropdownPlacement),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](3,5,"com.bmc.arsys.rx.client.view-components.record-grid.filters.show-more-filters.label",e.getTranslateParams())," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind2"](6,8,e.tags,-e.getRestTagsCount()))("ngForTrackBy",e.trackByForFilterTags)}}const xo=function(){return["right","bottom","bottom-right","auto"]};function wo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"adapt-advanced-filter",3,4),i["\u0275\u0275listener"]("selectedFiltersChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onAdvancedFiltersChange(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"rx-filter-tags",5),i["\u0275\u0275listener"]("removeTag",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onRemoveFilterTag(t)}),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](2),t=i["\u0275\u0275nextContext"](),n=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("hidden",t.isDisabled)("appendDropdownToBody",!0)("enableSavedFilters",!1)("filterOptions",t.advancedFilterData.filterOptions)("selectedFilters",t.advancedFilterData.selectedFilters)("texts",t.advancedFilterData.filterTexts)("applyFiltersByUserAction",!0)("filterOptionsCustomAreaTemplate",n)("selectedFiltersIndicationStyle","mark")("anchorDisabled",t.options.anchorDisabled),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("isDisabled",t.isDisabled)("tags",i["\u0275\u0275pipeBind1"](4,14,t.getTags(e.filtersExpressionsTags)))("tagsLimit",t.options.tagsLimit)("restTagsDropdownPlacement",i["\u0275\u0275pureFunction0"](16,xo))}}function Co(e,t){if(1&e&&i["\u0275\u0275element"](0,"adapt-rx-radiobutton",11),2&e){const e=t.$implicit;i["\u0275\u0275property"]("value",e.value)("label",e.name)}}function _o(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275elementStart"](1,"adapt-accordion"),i["\u0275\u0275elementStart"](2,"adapt-accordion-tab",8),i["\u0275\u0275elementStart"](3,"adapt-rx-radiobutton-group",9),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onGroupFilterValueModelChange(t)}),i["\u0275\u0275template"](4,Co,1,2,"adapt-rx-radiobutton",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("title","Show filters for: "+e.getGroupFilterName(e.groupFilterValue))("multiline",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.groupFilterValue),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.groupFilterItems)}}function So(e,t){if(1&e&&i["\u0275\u0275template"](0,_o,5,4,"div",6),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngIf",e.groupFilterItems.length>1)}}const Io=["filterPresetsForm"];function Ao(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",14),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().addFilterPreset()}),i["\u0275\u0275element"](1,"span",15),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,1,"com.bmc.arsys.rx.client.view-components.record-grid-filter-preset.add-filter-preset.button.label")," "))}function Eo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",16),i["\u0275\u0275elementStart"](1,"button",17),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().toggleOpen(!0)}),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",18),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().toggleOpen(!1)}),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,2,"com.bmc.arsys.rx.client.common.expand-all.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,4,"com.bmc.arsys.rx.client.common.collapse-all.label")," "))}function Do(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",29),i["\u0275\u0275elementStart"](1,"button",30),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index,o=i["\u0275\u0275nextContext"]();return t.stopPropagation(),o.removeFilterPreset(n)}),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,1,"com.bmc.arsys.rx.client.common.remove.label")," "))}function To(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"rx-record-grid-filter-select-control",31),i["\u0275\u0275listener"]("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).markAsDirty()})("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().$implicit.filterSelect=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("name","filterPresetFilterSelect-"+e.guid)("disabled",t.isReadOnly)("options",e.filterSelectOptions)("ngModel",e.filterSelect)}}function Ro(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",19),i["\u0275\u0275elementStart"](1,"adapt-accordion-tab",20,21),i["\u0275\u0275listener"]("open",function(){return i["\u0275\u0275restoreView"](e).$implicit.isOpen=!0})("close",function(){return i["\u0275\u0275restoreView"](e).$implicit.isOpen=!1}),i["\u0275\u0275elementStart"](3,"div",22),i["\u0275\u0275elementStart"](4,"div",23),i["\u0275\u0275elementStart"](5,"div",24),i["\u0275\u0275elementStart"](6,"div",25),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,Do,4,3,"div",26),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"adapt-rx-textfield",27),i["\u0275\u0275listener"]("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().markAsDirty()})("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e).$implicit.title=t}),i["\u0275\u0275pipe"](10,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](11,To,2,4,"div",28),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275reference"](2),o=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("isOpen",e.isOpen),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("title",e.title),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.title," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!o.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](10,11,"com.bmc.arsys.rx.client.view-components.record-grid-filter-preset.name-field.label")),i["\u0275\u0275property"]("name","filterPresetTitle-"+e.guid)("required",!0)("disabled",o.isReadOnly)("rxCustomValidators",o.getCheckPresetTitleDuplicateValidator(e))("ngModel",e.title),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",n.isOpenOrCloseAnimationProcessing)}}function Mo(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",32),i["\u0275\u0275element"](1,"adapt-empty-state",33),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.view-components.record-grid-filter-preset.empty-state.message")))}function Oo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",34),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onSaveChangesClick()}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](9);i["\u0275\u0275property"]("disabled",t.form.invalid||!e.isDirty()),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,2,"com.bmc.arsys.rx.client.common.save.label")," ")}}function Po(e,t){if(1&e&&i["\u0275\u0275element"](0,"adapt-rx-control-label",4),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("label",e.options.label)("tooltip",null==e.options?null:e.options.tooltip)}}function Fo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-button",5),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().openEditor()}),i["\u0275\u0275element"](1,"span",6),i["\u0275\u0275text"](2," Edit filter presets\n"),i["\u0275\u0275elementEnd"]()}}function ko(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",13),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().openEditor(t)}),i["\u0275\u0275elementEnd"]()}}function No(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",14),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().removeFilterPreset(t)}),i["\u0275\u0275elementEnd"]()}}function jo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275elementStart"](1,"div",8),i["\u0275\u0275elementStart"](2,"span",9),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,ko,1,0,"button",10),i["\u0275\u0275template"](5,No,1,0,"button",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",12),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("title",e.title),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.title," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.isDisabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.isDisabled),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("Filters: ",e.recordGridFilters.length,"")}}function Lo(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",15),i["\u0275\u0275text"](1," No filter presets added. "),i["\u0275\u0275elementEnd"]())}const Vo=["rowActionsForm"],Bo=["selectedRowActionsDropList"],Go=["draggableSelectedRowAction"];function zo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",15),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().addRowAction()}),i["\u0275\u0275element"](1,"span",16),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,1,"com.bmc.arsys.rx.client.view-components.record-grid-row-actions.add-row-action.button.label")," "))}function $o(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",17),i["\u0275\u0275elementStart"](1,"button",18),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().toggleOpen(!0)}),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",19),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().toggleOpen(!1)}),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,2,"com.bmc.arsys.rx.client.common.expand-all.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,4,"com.bmc.arsys.rx.client.common.collapse-all.label")," "))}function Uo(e,t){1&e&&i["\u0275\u0275element"](0,"div",39)}function Ho(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",40),i["\u0275\u0275elementStart"](1,"div",41),i["\u0275\u0275elementStart"](2,"button",42),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index,o=i["\u0275\u0275nextContext"]();return t.stopPropagation(),o.moveRowAction(n,n+1)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",43),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index,o=i["\u0275\u0275nextContext"]();return t.stopPropagation(),o.moveRowAction(n,n-1)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",44),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"]().removeRowAction(n,t)}),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=e.last,n=e.first;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",t),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",n),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,3,"com.bmc.arsys.rx.client.common.remove.label")," ")}}function Xo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",20,21),i["\u0275\u0275template"](2,Uo,1,0,"div",22),i["\u0275\u0275elementStart"](3,"adapt-accordion-tab",23),i["\u0275\u0275listener"]("open",function(){return i["\u0275\u0275restoreView"](e).$implicit.isOpen=!0})("close",function(){return i["\u0275\u0275restoreView"](e).$implicit.isOpen=!1}),i["\u0275\u0275elementStart"](4,"div",24),i["\u0275\u0275elementStart"](5,"div",25),i["\u0275\u0275elementStart"](6,"div",26),i["\u0275\u0275elementStart"](7,"div",27),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,Ho,7,5,"div",28),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div",29),i["\u0275\u0275elementStart"](11,"adapt-rx-textfield",30),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e).$implicit.label=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().markAsDirty()}),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"rx-icon-picker-form-control",31),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e).$implicit.icon=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().markAsDirty()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",29),i["\u0275\u0275elementStart"](15,"rx-definition-picker",32),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e).$implicit.recordDefinitionName=t})("ngModelChange",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onRecordDefinitionChange(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"rx-select-form-control",33),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e).$implicit.fieldId=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().markAsDirty()}),i["\u0275\u0275pipe"](17,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"rx-expression-form-control",34),i["\u0275\u0275listener"]("events",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().openExpressionEditor(t,n,"recordInstance")}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",29),i["\u0275\u0275elementStart"](20,"rx-expression-form-control",35),i["\u0275\u0275listener"]("events",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().openExpressionEditor(t,n,"disabled")}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"rx-expression-form-control",36),i["\u0275\u0275listener"]("events",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().openExpressionEditor(t,n,"hidden")}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"rx-select-form-control",37),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e).$implicit.availableOnDevices=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().markAsDirty()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"div",29),i["\u0275\u0275elementStart"](24,"rx-action-list-control",38),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e).$implicit.actions=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().markAsDirty()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("cdkDragData",e)("cdkDragDisabled",n.isReadOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!n.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("isOpen",e.isOpen),i["\u0275\u0275advance"](3),i["\u0275\u0275classProp"]("pl-0",n.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("title",e.label),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.label," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.isReadOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](12,46,"com.bmc.arsys.rx.client.view-components.record-grid-row-actions.label-field.label")),i["\u0275\u0275property"]("disabled",n.isReadOnly)("required",!0)("name","label_"+e.guid)("ngModel",e.label),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",n.isReadOnly)("options",n.iconPickerOptions)("name","icon_"+e.guid)("ngModel",e.icon),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("isDisabled",n.isReadOnly)("options",n.recordDefinitionPickerOptions)("ngModel",e.recordDefinitionName)("name","recordDefinition_"+e.guid),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("options",i["\u0275\u0275pipeBind1"](17,48,e.securityFieldDefinitions$)||n.selectFormControlOptions)("ngModel",e.fieldId)("name","fieldId_"+e.guid)("disabled",!e.recordDefinitionName||n.isReadOnly)("appendToBody",!0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",!e.recordDefinitionName||n.isReadOnly)("options",n.getExpressionFormControlOptions("recordInstance"))("ngModel",e.recordInstance)("name","recordInstance_"+e.guid),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",n.isReadOnly)("options",n.getExpressionFormControlOptions("disabled"))("ngModel",e.disabled)("name","disabled_"+e.guid),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",n.isReadOnly)("options",n.getExpressionFormControlOptions("hidden"))("ngModel",e.hidden)("name","hidden_"+e.guid),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("options",n.availableOnDevicesFormControlOptions)("ngModel",e.availableOnDevices)("name","availableOnDevices_"+e.guid)("disabled",n.isReadOnly)("appendToBody",!0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.actions)("name","action_"+e.guid)}}function Wo(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",45),i["\u0275\u0275element"](1,"adapt-empty-state",46),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.view-components.record-grid-row-actions.empty-state.message")))}function qo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",47),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().saveActions()}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](10);i["\u0275\u0275property"]("disabled",t.invalid||!e.isDirty()),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,2,"com.bmc.arsys.rx.client.common.save.label")," ")}}function Yo(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",5),i["\u0275\u0275text"](1," No row actions added. "),i["\u0275\u0275elementEnd"]())}function Qo(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",6),i["\u0275\u0275elementStart"](1,"div",7),i["\u0275\u0275elementStart"](2,"span",8),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",9),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).index;return i["\u0275\u0275nextContext"](2).openEditor(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"button",10),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).index,n=i["\u0275\u0275nextContext"]().ngIf;return i["\u0275\u0275nextContext"]().removeRowAction(t,n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("title",e.label),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function Zo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,Yo,2,0,"span",3),i["\u0275\u0275template"](2,Qo,6,2,"div",4),i["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0===e.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e)("ngForTrackBy",n.trackByForRowActions)}}const Ko=["adaptRxSelect"];function Jo(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"label",5),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.options.label)}}function er(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-rx-select",6,7),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onSelectModelChange(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.ngIf,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("options",e)("required",n.options.required)("disabled",n.isDisabled)("ngModel",n.selectedColumnOption)("optionFormatter",n.optionFormatter)("emptyOption",!0)}}function tr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275elementStart"](1,"button",9),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.setSortDirection(t.ColumnSortDirection.Asc)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"button",10),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.setSortDirection(t.ColumnSortDirection.Desc)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("active",e.selectedSortDirection===e.ColumnSortDirection.Asc),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("active",e.selectedSortDirection===e.ColumnSortDirection.Desc)}}const nr=function(e){return{"is-required":e}};function ir(e,t){1&e&&i["\u0275\u0275element"](0,"div",25)}function or(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",26),i["\u0275\u0275text"](1," visible "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("title",e.title)}}function rr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",27),i["\u0275\u0275elementStart"](1,"div",28),i["\u0275\u0275elementStart"](2,"button",29),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index,o=i["\u0275\u0275nextContext"]();return t.stopPropagation(),o.moveColumn(n,n+1)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",30),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index,o=i["\u0275\u0275nextContext"]();return t.stopPropagation(),o.moveColumn(n,n-1)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=e.last,n=e.first;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",t),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",n)}}function sr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275template"](1,ir,1,0,"div",14),i["\u0275\u0275elementStart"](2,"adapt-accordion-tab",15),i["\u0275\u0275listener"]("open",function(){return i["\u0275\u0275restoreView"](e).$implicit.isOpen=!0})("close",function(){return i["\u0275\u0275restoreView"](e).$implicit.isOpen=!1}),i["\u0275\u0275elementStart"](3,"div",16),i["\u0275\u0275elementStart"](4,"div",17),i["\u0275\u0275elementStart"](5,"div",18),i["\u0275\u0275elementStart"](6,"div",19),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,or,2,1,"div",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,rr,4,2,"div",21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"adapt-rx-textfield",22),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e).$implicit.title=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"adapt-rx-checkbox",23),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e).$implicit.data.visible=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().markAsDirty()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"rx-stepper-with-units-form-control",24),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e).$implicit.data.width=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().markAsDirty()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("cdkDragDisabled",n.isReadOnly)("cdkDragData",e),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("isOpen",e.isOpen),i["\u0275\u0275advance"](3),i["\u0275\u0275classProp"]("pl-0",n.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("title",e.title),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.title||e.fallbackTitle," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.data.visible),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",!0)("ngModel",e.title),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.data.visible)("disabled",n.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("options",n.columnWidthPropertyOptions)("ngModel",e.data.width)}}function ar(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",31),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().saveChanges()}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("disabled",!e.isDirty()),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,2,"com.bmc.arsys.rx.client.common.save.label")," ")}}function lr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"adapt-tag",26),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e)}}function cr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",27),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().openPresetColumnsModal(t)}),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" +",e.tags.restCount," more ")}}function dr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"adapt-accordion-tab",14),i["\u0275\u0275listener"]("open",function(){return i["\u0275\u0275restoreView"](e).$implicit.isOpen=!0})("close",function(){return i["\u0275\u0275restoreView"](e).$implicit.isOpen=!1}),i["\u0275\u0275elementStart"](2,"div",15),i["\u0275\u0275elementStart"](3,"div",16),i["\u0275\u0275elementStart"](4,"div",17),i["\u0275\u0275elementStart"](5,"div",18),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"adapt-button",19),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().openPresetColumnsModal(t)}),i["\u0275\u0275element"](8,"span",20),i["\u0275\u0275text"](9," Edit grid columns "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div",21),i["\u0275\u0275template"](11,lr,2,1,"adapt-tag",22),i["\u0275\u0275template"](12,cr,2,1,"button",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"rx-record-grid-sort-editor-control",24),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e).$implicit.sortModel=t})("ngModelChange",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onSortChange(t,n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"rx-record-grid-filter-select-control",25),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e).$implicit.filters=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().markAsDirty()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("isOpen",e.isOpen),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("title",e.presetName),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.presetName," "),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngForOf",e.tags.items),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.tags.restCount),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("options",e.sortEditorControlOptions)("disabled",n.isReadOnly)("ngModel",e.sortModel),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("options",e.filterSelectControlOptions)("disabled",n.isReadOnly)("ngModel",e.filters)}}function ur(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",28),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().saveChanges()}),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("disabled",!e.isDirty()),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,2,"com.bmc.arsys.rx.client.common.save.label")," ")}}function pr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-button",7),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).openEditor()}),i["\u0275\u0275element"](1,"span",8),i["\u0275\u0275text"](2," Edit view presets "),i["\u0275\u0275elementEnd"]()}}function hr(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",9),i["\u0275\u0275text"](1," No presets added. "),i["\u0275\u0275elementEnd"]())}function mr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",10),i["\u0275\u0275elementStart"](1,"strong",11),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",12),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).openEditor(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("title",e.name),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function fr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275template"](1,pr,3,0,"adapt-button",3),i["\u0275\u0275template"](2,hr,2,0,"span",4),i["\u0275\u0275elementStart"](3,"div",5),i["\u0275\u0275template"](4,mr,4,2,"div",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("hidden",!n.options.recordDefinition),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.currentPresetSelectorGuid&&0===e.length),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e)("ngForTrackBy",n.trackByGuid)}}const gr=["filterTemplate"],vr=["visibleColumnsMenuTemplate"];function yr(e,t){1&e&&i["\u0275\u0275element"](0,"adapt-empty-state",5)}function br(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"rx-canvas-outlet",6),i["\u0275\u0275listener"]("beforeViewComponentDrop",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onBeforeViewComponentDrop(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](1,"adapt-table",7,8),i["\u0275\u0275listener"]("onSort",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onSort(t)}),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275pipe"](5,"async"),i["\u0275\u0275pipe"](6,"async"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("dropListOrientation","horizontal")("dropPredicate",e.model.actionButtonDropPredicate),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("columns",i["\u0275\u0275pipeBind1"](3,15,e.adaptTableConfig$).columns)("sortable",!e.isReadOnly)("scrollable",!0)("scrollHeight","80px")("sortMode","single")("toolbarConfig",i["\u0275\u0275pipeBind1"](4,17,e.adaptTableConfig$).toolbarConfig)("filterable",!1)("sortField",i["\u0275\u0275pipeBind1"](5,19,e.adaptTableConfig$).sortMeta.field)("sortOrder",i["\u0275\u0275pipeBind1"](6,21,e.adaptTableConfig$).sortMeta.order)("bordered",!0)("totalRecords",0)("hasEmptyState",!1)("dontEmitLazyLoadOnInputChange",!1)}}function xr(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275text"](1," Filter "),i["\u0275\u0275elementEnd"]())}function wr(e,t){if(1&e&&(i["\u0275\u0275element"](0,"span",9),i["\u0275\u0275template"](1,xr,2,0,"div",10),i["\u0275\u0275pipe"](2,"async")),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](2,1,e.model.enableFiltering$))}}function Cr(e,t){}const _r=["cardLayoutSortModalTemplate"];function Sr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",15),i["\u0275\u0275elementStart"](1,"div",16),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",17),i["\u0275\u0275elementStart"](4,"div",18),i["\u0275\u0275elementStart"](5,"button",19),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).onSortDescClick(t)}),i["\u0275\u0275element"](6,"span",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"button",19),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).onSortAscClick(t)}),i["\u0275\u0275element"](8,"span",21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.header),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngClass",n.getSortDescBtnClass(e)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngClass",n.getSortAscBtnClass(e))}}function Ir(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",5),i["\u0275\u0275elementStart"](1,"div",6),i["\u0275\u0275elementStart"](2,"div",7),i["\u0275\u0275elementStart"](3,"div",8),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",9),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,Sr,9,3,"div",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div"),i["\u0275\u0275element"](11,"textarea",11),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",12),i["\u0275\u0275elementStart"](14,"button",13),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().clearAllSorting()}),i["\u0275\u0275text"](15),i["\u0275\u0275pipe"](16,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"button",14),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).close;return i["\u0275\u0275nextContext"]().applySorting(),t()}),i["\u0275\u0275text"](18),i["\u0275\u0275pipe"](19,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"button",13),i["\u0275\u0275listener"]("click",function(){return(0,i["\u0275\u0275restoreView"](e).close)()}),i["\u0275\u0275text"](21),i["\u0275\u0275pipe"](22,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](5,8,"com.bmc.arsys.rx.client.view-components.record-grid.cards.sort-by.dialog.field.column.title")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](8,10,"com.bmc.arsys.rx.client.view-components.record-grid.cards.sort-by.dialog.order.column.title")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.getSortableColumns()),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",e.getCurrentSortingSummary())("placeholder",i["\u0275\u0275pipeBind1"](12,12,"com.bmc.arsys.rx.client.view-components.record-grid.cards.sort-by.dialog.field.summary.empty.title")),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](16,14,"com.bmc.arsys.rx.client.view-components.record-grid.cards.sort-by.dialog.clear-all.button.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](19,16,"com.bmc.arsys.rx.client.common.apply.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](22,18,"com.bmc.arsys.rx.client.common.cancel.label")," ")}}const Ar=["adaptTable"],Er=["adaptAdvancedFilter"],Dr=["cardLayoutRowDetailsTemplate"],Tr=["cellTemplate"],Rr=["leftCustomSectionTemplate"],Mr=["rightCustomSectionTemplate"],Or=["rowActionButtonsTemplate"];function Pr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",20),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275elementStart"](1,"adapt-rx-checkbox",21),i["\u0275\u0275listener"]("ngModelChange",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).onColumnVisibilityChange(t,n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("label",e.header||e.fallbackTitle)("ngModel",!e.hidden)}}function Fr(e,t){1&e&&(i["\u0275\u0275element"](0,"adapt-empty-state",22),i["\u0275\u0275pipe"](1,"translate")),2&e&&i["\u0275\u0275property"]("type","search")("label",i["\u0275\u0275pipeBind1"](1,2,"com.bmc.arsys.rx.client.view-components.record-grid.visible-columns-menu.empty.label"))}function kr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-rx-search",17),i["\u0275\u0275listener"]("ngModelChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().columnSearchText=t})("ngModelChange",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onSearchColumns()}),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,Pr,2,2,"div",18),i["\u0275\u0275template"](3,Fr,2,4,"adapt-empty-state",19)}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngModel",e.columnSearchText)("placeholder",i["\u0275\u0275pipeBind1"](1,6,"com.bmc.arsys.rx.client.view-components.record-grid.visible-columns-menu.search.placeholder"))("autofocus",!0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.filteredVisibleColumns)("ngForTrackBy",e.trackByColumnField),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.filteredVisibleColumns.length)}}function Nr(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.getMultipleRowsSelectedText()," ")}}function jr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",25),i["\u0275\u0275text"](2),i["\u0275\u0275elementStart"](3,"button",26),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).loadTotalRowCount()}),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.getMultipleRowsSelectedTextFirstPart()," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.getLoadRecordCountLinkText()," "),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.getMultipleRowsSelectedTextSecondPart()," ")}}function Lr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",23),i["\u0275\u0275template"](1,Nr,2,1,"ng-container",24),i["\u0275\u0275template"](2,jr,6,3,"ng-container",24),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isTotalRecordCountKnown),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.isTotalRecordCountKnown)}}function Vr(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-action-button",34),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]().$implicit,o=i["\u0275\u0275nextContext"](3);i["\u0275\u0275property"]("guid",n.guid)("config",o.getActionButtonConfig(e,n.config))("runtimeViewModelApi",n.runtimeViewModelApi)}}function Br(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",32),i["\u0275\u0275template"](1,Vr,1,3,"ng-template",null,33,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](2);i["\u0275\u0275property"]("adaptSubnavItem",e)}}function Gr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",28),i["\u0275\u0275template"](1,Br,3,1,"div",29),i["\u0275\u0275elementStart"](2,"div",30),i["\u0275\u0275element"](3,"button",31),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.actionButtons)}}function zr(e,t){if(1&e&&i["\u0275\u0275template"](0,Gr,4,1,"div",27),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngIf",e.shouldDisplayActionButtons)}}const $r=function(e,t){return{"d-inline-block":e,"d-block":t}};function Ur(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-advanced-filter",39,40),i["\u0275\u0275listener"]("selectedFiltersChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onAdvancedFiltersChange(t)})("deleteSavedFilter",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onDeleteSavedFilterPreset(t)})("createNewFilter",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onCreateNewFilterPreset(t)})("updateSavedFilter",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onUpdateSavedFilterPreset(t)})("activeSavedFilterChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onActiveSavedAdvancedFilterChange(t)})("beforeActiveSavedFilterChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onBeforeActiveSavedFilterChange(t)})("editSavedFilterClick",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onEditSavedFilterClick(t)})("filterExpressionTagsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onAdvancedFilterExpressionTagsChanged(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction2"](12,$r,e.hidden,!e.hidden))("appendDropdownToBody",!0)("texts",t.state.advancedFiltering.filterTexts)("showAnchorButtonLabel",!e.collapsed)("filterOptions",t.state.advancedFiltering.filterOptions)("selectedFilters",t.state.advancedFiltering.selectedFilters)("savedFilters",t.state.advancedFiltering.savedFilters)("enableSavedFilters",!!t.guid&&t.state.enableFilterPresets)("activeSavedFilter",t.state.advancedFiltering.activeSavedFilter)("isLoading",t.state.advancedFiltering.isLoading)("selectedFiltersIndicationStyle","mark")("applyFiltersByUserAction",!0)}}function Hr(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",41),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](2,1,"com.bmc.arsys.rx.client.view-components.record-grid.filters.number-of-active-filters.label",i["\u0275\u0275pureFunction1"](4,Se,e.state.advancedFiltering.toolbarTags.length)))}}const Xr=function(e){return{"d-block":e}};function Wr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",35),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onRefreshClick()}),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,Ur,2,15,"adapt-advanced-filter",36),i["\u0275\u0275template"](3,Hr,3,6,"span",37),i["\u0275\u0275elementStart"](4,"rx-filter-tags",38),i["\u0275\u0275listener"]("removeTag",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onRemoveFilterTag(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](9,Xr,e.hidden)),i["\u0275\u0275attribute"]("aria-label",i["\u0275\u0275pipeBind1"](1,7,"com.bmc.arsys.rx.client.common.refresh.label")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",n.state.enableFiltering),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(e.collapsed||e.hidden)&&n.state.advancedFiltering.toolbarTags.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("hidden",e.collapsed||e.hidden)("tags",n.state.advancedFiltering.toolbarTags)("tagsLimit",n.state.filterTagsLimit)}}function qr(e,t){}const Yr=function(e){return{"rx-cell-wrap":e}},Qr=function(e,t){return{column:e,dataItem:t}};function Zr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",44,45),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275reference"](1),o=i["\u0275\u0275nextContext"](),r=o.column,s=o.dataItem;return i["\u0275\u0275nextContext"]().onCellClick(t,[r],s,n)})("mouseover",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onCellMouseOver(t)}),i["\u0275\u0275elementStart"](2,"span",46,47),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275template"](4,qr,0,0,"ng-template",48),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](1),t=i["\u0275\u0275reference"](3),n=i["\u0275\u0275nextContext"](),o=n.column,r=n.dataItem,s=i["\u0275\u0275nextContext"](),a=i["\u0275\u0275reference"](25),l=i["\u0275\u0275reference"](13);i["\u0275\u0275classProp"]("rx-selected-custom-cell",s.isCellSelected(e)),i["\u0275\u0275property"]("rxCellDisplayProps",o.cellDisplayProperties)("rxCellDisplayPropsBadgeElem",t)("rxCellDisplayPropsDataItem",r)("adaptPopover",a)("autoClose",!1)("popoverClass","table-filtering")("triggers","manual")("appendToBody",!0)("placement","top"),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](14,Yr,o.wrapText)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngTemplateOutlet",o.customTemplate||l)("ngTemplateOutletContext",i["\u0275\u0275pureFunction2"](16,Qr,o,r))}}function Kr(e,t){}function Jr(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",49,45),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275reference"](1),o=i["\u0275\u0275nextContext"](),r=o.column,s=o.dataItem;return i["\u0275\u0275nextContext"]().onCellClick(t,[r],s,n)})("mouseover",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onCellMouseOver(t)}),i["\u0275\u0275elementStart"](2,"span",46),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()}),i["\u0275\u0275template"](3,Kr,0,0,"ng-template",48),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](1),t=i["\u0275\u0275nextContext"](),n=t.column,o=t.dataItem,r=i["\u0275\u0275nextContext"](),s=i["\u0275\u0275reference"](25),a=i["\u0275\u0275reference"](13);i["\u0275\u0275classProp"]("rx-selected-custom-cell",r.isCellSelected(e)),i["\u0275\u0275property"]("adaptPopover",s)("autoClose",!1)("popoverClass","table-filtering")("triggers","manual")("appendToBody",!0)("placement","top"),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](11,Yr,n.wrapText)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",n.customTemplate||a)("ngTemplateOutletContext",i["\u0275\u0275pureFunction2"](13,Qr,n,o))}}function es(e,t){if(1&e&&(i["\u0275\u0275template"](0,Zr,5,19,"div",42),i["\u0275\u0275template"](1,Jr,4,16,"div",43)),2&e){const e=t.column;i["\u0275\u0275property"]("ngIf",e.cellDisplayProperties),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.cellDisplayProperties)}}function ts(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"span",54),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=e.column,n=e.dataItem,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](2,Yr,t.wrapText)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",o.getCellValue(n,t),"")}}function ns(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",55),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](),n=t.dataItem,o=t.column,r=i["\u0275\u0275nextContext"]();return r.downloadAttachment(n,o,r.getCellValue(n,o))})("keydown",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](),o=n.dataItem,r=n.column,s=i["\u0275\u0275nextContext"]();return s.downloadAttachment(o,r,s.getCellValue(o,r),t)}),i["\u0275\u0275elementStart"](1,"span",54),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=e.column,n=e.dataItem,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](2,Yr,t.wrapText)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",o.getCellValue(n,t)," ")}}function is(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",56),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](),n=t.dataItem,o=t.column;return i["\u0275\u0275nextContext"]().gridEvents.cellClick(n,o.field)})("keydown",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"](),o=n.dataItem,r=n.column;return i["\u0275\u0275nextContext"]().gridEvents.cellKeyDown(t,o,r.field)}),i["\u0275\u0275elementStart"](1,"span",54),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=e.column,n=e.dataItem,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](2,Yr,t.wrapText)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",o.getCellValue(n,t)," ")}}function os(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"a",57),i["\u0275\u0275elementStart"](1,"span",54),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=e.dataItem,n=e.column,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("routerLink","/"+t[n.field+"$ROUTER_LINK$"])("queryParams",t[n.field+"$QUERY_PARAMS$"]),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](4,Yr,n.wrapText)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",o.getCellValue(t,n)," ")}}function rs(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"a",58),i["\u0275\u0275elementStart"](1,"span",54),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=e.dataItem,n=e.column,o=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("href",t[n.field+"$LAUNCH_URL$"],i["\u0275\u0275sanitizeUrl"])("target",t[n.field+"$TARGET$"]),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](4,Yr,n.wrapText)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",o.getCellValue(t,n)," ")}}function ss(e,t){if(1&e&&(i["\u0275\u0275template"](0,ts,3,4,"ng-container",24),i["\u0275\u0275template"](1,ns,3,4,"a",50),i["\u0275\u0275template"](2,is,3,4,"a",51),i["\u0275\u0275template"](3,os,3,6,"a",52),i["\u0275\u0275template"](4,rs,3,6,"a",53)),2&e){const e=t.dataItem,n=t.column;i["\u0275\u0275property"]("ngIf",(!n.clickable||n.clickableWithHref&&!e[n.field+"$ROUTER_LINK$"]&&!e[n.field+"$LAUNCH_URL$"])&&!n.isDownloadableAttachment),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.clickable&&n.isDownloadableAttachment),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.clickable&&!n.clickableWithHref),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.clickableWithHref&&e[n.field+"$ROUTER_LINK$"]),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.clickableWithHref&&e[n.field+"$LAUNCH_URL$"])}}function as(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"rx-card-layout-cell-header",59),i["\u0275\u0275listener"]("sort",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onSortCards(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.column,n=i["\u0275\u0275nextContext"](),o=i["\u0275\u0275reference"](1);i["\u0275\u0275property"]("title",e.header||e.fallbackTitle)("columns",n.adaptTableConfig.columns)("adaptTable",o)("openDialog",n.openSortByDialog)}}function ls(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"rx-card-layout-cell-header",59),i["\u0275\u0275listener"]("sort",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onSortCards(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.column,n=i["\u0275\u0275nextContext"](),o=i["\u0275\u0275reference"](1);i["\u0275\u0275property"]("title",e.header||e.fallbackTitle)("columns",n.adaptTableConfig.columns)("adaptTable",o)("openDialog",n.openSortByDialog)}}function cs(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",62),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275attribute"]("data-testid",e.testId+"-name"),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.header||e.fallbackTitle,": ")}}function ds(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",60),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onCellClick(t)}),i["\u0275\u0275template"](1,cs,2,2,"div",61),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.visibleColumns)("ngForTrackBy",e.trackByColumnField)}}const us=function(e){return{dataItem:e}};function ps(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementContainer"](1,48),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).dataItem;i["\u0275\u0275nextContext"]();const t=i["\u0275\u0275reference"](29);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",i["\u0275\u0275pureFunction1"](2,us,e))}}function hs(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]().dataItem,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.getCellValue(t,e)," ")}}function ms(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",55),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit,n=i["\u0275\u0275nextContext"]().dataItem,o=i["\u0275\u0275nextContext"]();return o.downloadAttachment(n,t,o.getCellValue(n,t))})("keydown",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit,o=i["\u0275\u0275nextContext"]().dataItem,r=i["\u0275\u0275nextContext"]();return r.downloadAttachment(o,n,r.getCellValue(o,n),t)}),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]().dataItem,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.getCellValue(t,e)," ")}}function fs(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",56),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit,n=i["\u0275\u0275nextContext"]().dataItem;return i["\u0275\u0275nextContext"]().gridEvents.cellClick(n,t.field)})("keydown",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit,o=i["\u0275\u0275nextContext"]().dataItem;return i["\u0275\u0275nextContext"]().gridEvents.cellKeyDown(t,o,n.field)}),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]().dataItem,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.getCellValue(t,e)," ")}}function gs(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"a",57),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]().dataItem,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("routerLink","/"+t[e.field+"$ROUTER_LINK$"])("queryParams",t[e.field+"$QUERY_PARAMS$"]),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.getCellValue(t,e)," ")}}function vs(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"a",58),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]().dataItem,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("href",t[e.field+"$LAUNCH_URL$"],i["\u0275\u0275sanitizeUrl"])("target",t[e.field+"$TARGET$"]),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.getCellValue(t,e)," ")}}function ys(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",62),i["\u0275\u0275template"](1,ps,2,4,"div",24),i["\u0275\u0275template"](2,hs,2,1,"div",24),i["\u0275\u0275template"](3,ms,2,1,"a",50),i["\u0275\u0275template"](4,fs,2,1,"a",51),i["\u0275\u0275template"](5,gs,2,3,"a",52),i["\u0275\u0275template"](6,vs,2,3,"a",53),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]().dataItem;i["\u0275\u0275attribute"]("data-testid",e.testId+"-value"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isRowActionsColumn),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(!e.clickable||e.clickableWithHref&&!n[e.field+"$ROUTER_LINK$"]&&!n[e.field+"$LAUNCH_URL$"])&&!e.isDownloadableAttachment&&!e.isRowActionsColumn),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.clickable&&e.isDownloadableAttachment),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.clickable&&!e.clickableWithHref),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.clickableWithHref&&n[e.field+"$ROUTER_LINK$"]),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.clickableWithHref&&n[e.field+"$LAUNCH_URL$"])}}function bs(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",66),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().dataItem,o=i["\u0275\u0275nextContext"]();return o.onFilterBySelection(t,o.visibleColumns,n)}),i["\u0275\u0275elementEnd"]()}}function xs(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",63),i["\u0275\u0275template"](1,ys,7,7,"div",61),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,bs,1,0,"button",64),i["\u0275\u0275elementStart"](3,"button",65),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).dataItem,n=i["\u0275\u0275nextContext"]();return n.openRowDetails(n.adaptTableConfig.columns,t)}),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.visibleColumns)("ngForTrackBy",e.trackByColumnField),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isFilterBySelectionButtonVisible),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("aria-label",i["\u0275\u0275pipeBind1"](4,4,"com.bmc.arsys.rx.client.view-components.record-grid.cards.record-details.button.label"))}}function ws(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",75),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]().getData,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.getCellValue(t().rowDataItem,e)," ")}}function Cs(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",76),i["\u0275\u0275elementStart"](1,"a",77),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit,n=i["\u0275\u0275nextContext"]().getData,o=i["\u0275\u0275nextContext"]();return o.downloadAttachment(n().rowDataItem,t,o.getCellValue(n().rowDataItem,t))})("keydown",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit,o=i["\u0275\u0275nextContext"]().getData,r=i["\u0275\u0275nextContext"]();return r.downloadAttachment(o().rowDataItem,n,r.getCellValue(o().rowDataItem,n),t)}),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]().getData,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",n.getCellValue(t().rowDataItem,e),"")}}function _s(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",76),i["\u0275\u0275elementContainer"](1,48),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).getData;i["\u0275\u0275nextContext"]();const t=i["\u0275\u0275reference"](29);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",i["\u0275\u0275pureFunction1"](2,us,e().rowDataItem))}}function Ss(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",71),i["\u0275\u0275elementStart"](1,"div",72),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,ws,2,1,"div",73),i["\u0275\u0275template"](4,Cs,3,1,"div",74),i["\u0275\u0275template"](5,_s,2,4,"div",74),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",e.header||e.fallbackTitle,":"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.isDownloadableAttachment&&!e.isRowActionsColumn),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isDownloadableAttachment),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isRowActionsColumn)}}function Is(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",67),i["\u0275\u0275template"](1,Ss,6,4,"div",68),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"div",69),i["\u0275\u0275elementStart"](3,"button",70),i["\u0275\u0275listener"]("click",function(){return(0,i["\u0275\u0275restoreView"](e).close)()}),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.getData;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e().columns),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](5,2,"com.bmc.arsys.rx.client.common.close.label")," ")}}function As(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",78),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().applyFilterBySelection()}),i["\u0275\u0275elementEnd"]()}}function Es(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-action-button",84),2&e){const e=t.$implicit;i["\u0275\u0275property"]("guid",e.guid)("config",e.config)("runtimeViewModelApi",e.runtimeViewModelApi)}}function Ds(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",79),i["\u0275\u0275listener"]("onOpen",function(){const t=i["\u0275\u0275restoreView"](e).dataItem;return i["\u0275\u0275nextContext"]().onRowActionOpen(t)}),i["\u0275\u0275element"](1,"button",80),i["\u0275\u0275elementStart"](2,"div",81),i["\u0275\u0275template"](3,Es,1,3,"rx-action-button",82),i["\u0275\u0275elementStart"](4,"div",83),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",e.rowActionButtons),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,2,"com.bmc.arsys.rx.client.view-components.record-grid-row-actions.no-actions-available.label")," ")}}function Ts(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-action-button",89),2&e){const e=t.$implicit;i["\u0275\u0275property"]("guid",e.guid)("config",e.config)("runtimeViewModelApi",e.runtimeViewModelApi)}}function Rs(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",85),i["\u0275\u0275listener"]("click",function(e){return e.stopPropagation()})("onOpen",function(){const t=i["\u0275\u0275restoreView"](e).dataItem;return i["\u0275\u0275nextContext"]().onRowActionOpen(t)}),i["\u0275\u0275elementStart"](1,"button",86),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",87),i["\u0275\u0275template"](5,Ts,1,3,"rx-action-button",88),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,2,"com.bmc.arsys.rx.client.view-components.record-grid-row-actions.dropdown.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",e.rowActionButtons)}}function Ms(e,t){1&e&&i["\u0275\u0275element"](0,"rx-runtime-view-canvas-outlet")}function Os(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-runtime-view-canvas-item",6),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275property"]("layout",e)}}function Ps(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"adapt-tab-panel",5),i["\u0275\u0275template"](1,Os,1,1,"rx-runtime-view-canvas-item",4),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("adapt-tab-title",e.state.label),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.canRenderContentForTab(e))}}function Fs(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-runtime-view-canvas-item",6),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("layout",e)}}function ks(e,t){if(1&e&&(i["\u0275\u0275template"](0,Ps,2,2,"adapt-tab-panel",3),i["\u0275\u0275template"](1,Fs,1,1,"rx-runtime-view-canvas-item",4)),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("ngIf",!n.isHiddenTab(e)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.isHiddenTab(e)&&n.canRenderContentForTab(e))}}function Ns(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-tabset",1),i["\u0275\u0275listener"]("tab-active-changed",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onActiveTabChanged(t.index)}),i["\u0275\u0275template"](1,ks,2,2,"ng-template",2),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("fullHeight",!0)("tab-active",e.getActiveTabIndexForAdaptTabset()),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.childLayouts)("ngForTrackBy",e.trackByForTabs)}}const js=["adaptTabset"];function Ls(e,t){if(1&e&&i["\u0275\u0275element"](0,"adapt-tab-panel",4),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("adapt-tab-title",e.data.label)("icon-close",!n.isReadOnly&&n.components.length&&n.components.length>1)("id",e.guid)}}function Vs(e,t){if(1&e&&i["\u0275\u0275element"](0,"img",3),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275styleProp"]("max-width",e.state.maxWidth),i["\u0275\u0275property"]("src",e.state.imageUrl,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275attribute"]("alt",e.state.altText)}}function Bs(e,t){if(1&e&&i["\u0275\u0275element"](0,"span",4),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275attribute"]("aria-label",e.state.altText)}}function Gs(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,Vs,1,4,"img",1),i["\u0275\u0275template"](2,Bs,1,1,"span",2),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275classMapInterpolate1"]("d-flex ",e.state.alignmentStyle," image-container"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.state.imageUrl),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.state.isImageBroken)}}function zs(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",6),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.view-components.view-preset-selector.view-preset-already-exists.error.message")," "))}function $s(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275element"](1,"adapt-icon",15),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.strings.maxRecipientsWarning," ")}}function Us(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"strong"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"div"),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"]()),2&e){const e=t.result;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.text),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.data.emailAddress)}}function Hs(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.strings.customPresetsTitle)}}function Xs(e,t){if(1&e&&i["\u0275\u0275element"](0,"adapt-icon",17),2&e){const e=i["\u0275\u0275nextContext"](5);i["\u0275\u0275property"]("adaptTooltip",e.strings.sharedTooltip)}}function Ws(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",15),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](4).selectPreset(t)}),i["\u0275\u0275text"](1),i["\u0275\u0275template"](2,Xs,1,1,"adapt-icon",16),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](4);i["\u0275\u0275classProp"]("active",e.guid===n.state.appliedViewPresetOption.guid),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.label," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.userSharedViewPresetGuid&&n.isSharingFeatureEnabled)}}function qs(e,t){1&e&&i["\u0275\u0275element"](0,"div",18)}function Ys(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,Hs,2,1,"div",6),i["\u0275\u0275template"](2,Ws,3,4,"button",12),i["\u0275\u0275template"](3,qs,1,0,"div",13),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isSharingFeatureEnabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.state.customViewPresetOptions),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.isSharingFeatureEnabled)}}function Qs(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",22),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](4).selectPreset(t)}),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](4);i["\u0275\u0275classProp"]("active",e.guid===n.state.appliedViewPresetOption.guid),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function Zs(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",14),i["\u0275\u0275text"](2),i["\u0275\u0275elementStart"](3,"button",19),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](3).onAddSharedPresetsClick()}),i["\u0275\u0275element"](4,"adapt-icon",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,Qs,2,3,"button",21),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.strings.sharedPresetsTitle," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("adaptTooltip",e.strings.addSharedViewPresets),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.state.sharedViewPresetOptions)}}function Ks(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.strings.systemPresetsTitle)}}function Js(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",23),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](3).selectPreset(t)}),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](3);i["\u0275\u0275classProp"]("active",e.guid===n.state.appliedViewPresetOption.guid),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function ea(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",24),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.strings.editedViewPresetTagLabel," ")}}function ta(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-button",25),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](3).saveViewPreset()}),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2).ngIf,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("disabled",e.isOperationInProgress),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.strings.saveLabel," ")}}function na(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-button",26),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](3).saveAsViewPreset()}),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2).ngIf,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("disabled",e.isOperationInProgress),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.strings.saveAsLabel," ")}}function ia(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-button",35),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](4).discardViewPresetChanges()}),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.strings.discardChangesButtonLabel," ")}}function oa(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-button",36),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](4).saveAsViewPreset()}),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.strings.saveAsLabel," ")}}function ra(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-button",37),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](4).renameViewPreset()}),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.strings.renameLabel," ")}}function sa(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-button",38),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](4);return t.deleteViewPreset(t.state.appliedViewPresetOption)}),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.strings.deleteLabel," ")}}function aa(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"adapt-button",39),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](4).shareViewPreset()}),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.strings.shareLabel," ")}}function la(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",27),i["\u0275\u0275element"](1,"button",28),i["\u0275\u0275elementStart"](2,"div",29),i["\u0275\u0275template"](3,ia,2,1,"adapt-button",30),i["\u0275\u0275template"](4,oa,2,1,"adapt-button",31),i["\u0275\u0275template"](5,ra,2,1,"adapt-button",32),i["\u0275\u0275template"](6,sa,2,1,"adapt-button",33),i["\u0275\u0275template"](7,aa,2,1,"adapt-button",34),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).ngIf,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",e.isOperationInProgress)("showCaret",!1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.isViewPresetEdited),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.state.appliedViewPresetOption.isSystem&&!t.state.appliedViewPresetOption.isShared&&e.isViewPresetEdited),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.state.appliedViewPresetOption.isSystem&&!t.state.appliedViewPresetOption.isShared),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.state.appliedViewPresetOption.isSystem),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.state.isSharingEnabled&&!t.state.appliedViewPresetOption.isSystem&&!t.state.appliedViewPresetOption.isShared&&!e.isViewPresetEdited)}}function ca(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275elementStart"](1,"div",3),i["\u0275\u0275elementStart"](2,"button",4),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",5),i["\u0275\u0275template"](5,Ys,4,3,"ng-container",0),i["\u0275\u0275template"](6,Zs,6,3,"ng-container",0),i["\u0275\u0275template"](7,Ks,2,1,"div",6),i["\u0275\u0275template"](8,Js,2,3,"button",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,ea,2,1,"span",8),i["\u0275\u0275template"](10,ta,2,2,"adapt-button",9),i["\u0275\u0275template"](11,na,2,2,"adapt-button",10),i["\u0275\u0275template"](12,la,8,7,"div",11),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().ngIf,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",e.isOperationInProgress),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.state.appliedViewPresetOption.label," "),i["\u0275\u0275advance"](1),i["\u0275\u0275classMapInterpolate1"]("dropdown-menu ",t.isSharingFeatureEnabled?"preset-selector":"",""),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.state.customViewPresetOptions.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.state.isSharingEnabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isSharingFeatureEnabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.state.systemViewPresetOptions),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isViewPresetEdited),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.state.appliedViewPresetOption.isSystem&&!t.state.appliedViewPresetOption.isShared&&e.isViewPresetEdited),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.state.appliedViewPresetOption.isSystem||t.state.appliedViewPresetOption.isShared||!e.isViewPresetEdited),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isViewPresetEdited||!t.state.appliedViewPresetOption.isSystem)}}function da(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,ca,13,13,"div",1),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.state)}}function ua(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0,2),i["\u0275\u0275elementStart"](1,"div",3),i["\u0275\u0275elementStart"](2,"h1"),i["\u0275\u0275elementStart"](3,"span",4),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div"),i["\u0275\u0275elementStart"](7,"adapt-agreement-card",5),i["\u0275\u0275listener"]("stateChange",function(t){return i["\u0275\u0275restoreView"](e).ngIf.adaptAgreementState=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",6),i["\u0275\u0275elementStart"](9,"adapt-rx-switch",7),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e).ngIf.useAdaptRadar=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div",8),i["\u0275\u0275elementStart"](11,"adapt-rx-switch",9),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e).ngIf.loadGainsightFromBmcIt=t}),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"adapt-rx-select",10),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e).ngIf.deploymentTypeOptions=t}),i["\u0275\u0275pipe"](14,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"adapt-rx-select",11),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e).ngIf.environmentTypeOptions=t}),i["\u0275\u0275pipe"](16,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"div",12),i["\u0275\u0275elementStart"](18,"button",13),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().save()}),i["\u0275\u0275text"](19),i["\u0275\u0275pipe"](20,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.ngIf,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](5,22,"com.bmc.arsys.rx.client.gainsight.gainsight-settings.title")),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("showOrganizationSettings",!0)("showMarketingSection",!1)("multiProductUsage",!1)("showShadow",!1)("state",e.adaptAgreementState),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("hidden",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("isLabelBefore",!0)("size","lg")("ngModel",e.useAdaptRadar),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](12,24,"com.bmc.arsys.rx.client.gainsight.gainsight-settings.load-gainsight-script-from-bmc-it.label")),i["\u0275\u0275property"]("isLabelBefore",!0)("size","lg")("ngModel",e.loadGainsightFromBmcIt),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](14,26,"com.bmc.arsys.rx.client.gainsight.gainsight-settings.deployment-type.label")),i["\u0275\u0275property"]("options",n.deploymentTypeOptions)("optionFormatter",n.optionFormatter)("ngModel",e.deploymentTypeOptions),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](16,28,"com.bmc.arsys.rx.client.gainsight.gainsight-settings.environment-type.label")),i["\u0275\u0275property"]("options",n.environmentTypeOptions)("ngModel",e.environmentTypeOptions),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](20,30,"com.bmc.arsys.rx.client.common.save.label")," ")}}function pa(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275element"](1,"adapt-empty-state",15),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.gainsight.feature-is-disabled.label")))}var ha,ma,fa,ga;!function(e){e.Primary="primary",e.Secondary="secondary",e.Tertiary="tertiary"}(ha||(ha={})),function(e){e.Link="link",e.Clear="clear"}(ma||(ma={})),function(e){e.Small="small",e.Default="default",e.Large="large"}(fa||(fa={})),function(e){e.Left="left",e.Right="right"}(ga||(ga={}));class va{getButtonType(e){let t;switch(e){case ha.Secondary:t="secondary";break;case ha.Tertiary:t="tertiary";break;default:t="primary"}return t}getIconCssClass(e,t=ga.Left){return e?`d-icon-${t}-${e}`:""}}va.\u0275fac=function(e){return new(e||va)},va.\u0275prov=i["\u0275\u0275defineInjectable"]({token:va,factory:va.\u0275fac});const ya="actions";class ba extends d.ViewDesignerComponentModel{constructor(){super(...arguments),this.componentProperties$=this.sandbox.componentProperties$,this.rxRecordDefinitionCacheService=this.injector.get(s.RxRecordDefinitionCacheService),this.viewActionValidatorService=this.injector.get(d.RxViewActionValidatorService),this.translateService=this.injector.get(u.TranslateService),this.label$=this.sandbox.getComponentPropertyValue("labelKey").pipe((0,r.switchMap)(e=>e?(0,o.of)(this.translateService.instant(e)):this.sandbox.getComponentPropertyValue("label")),(0,r.takeUntil)(this.sandbox.destroyed$)),this.style$=this.sandbox.getComponentPropertyValue("style"),this.size$=this.sandbox.getComponentPropertyValue("size"),this.icon$=this.sandbox.getComponentPropertyValue("icon"),this.iconAlignment$=this.sandbox.getComponentPropertyValue("iconAlignment"),this.fieldDefinitions$=this.sandbox.getComponentPropertyValue("recordDefinitionName").pipe((0,r.switchMap)(e=>e?this.rxRecordDefinitionCacheService.getRecordDefinition(e).pipe((0,r.map)(e=>e.fieldDefinitions),(0,r.catchError)(()=>(0,o.of)([]))):(0,o.of)([])))}static getInitialProperties(e){return Object.assign(Object.assign(Object.assign({iconAlignment:ga.Left,label:"New button",size:fa.Default,icon:null,style:ha.Primary,recordDefinitionName:null,fieldId:null,recordInstance:null},c.RX_DISABLED_PROP_DEFAULT_VALUE),c.RX_STANDARD_PROPS_DEFAULT_VALUES),e)}rxInit(){(0,o.combineLatest)([this.sandbox.componentProperties$,this.fieldDefinitions$]).pipe((0,r.map)(([e,t])=>this.getInspectorConfig(e,t)),(0,r.take)(1),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>{this.sandbox.updateInspectorConfig(e)});const e=this.sandbox.getChildComponents();(0,o.combineLatest)([e.pipe((0,r.switchMap)(e=>this.viewActionValidatorService.validate(e,ya))),this.sandbox.getComponentPropertyValue("styles").pipe((0,r.map)(d.validateCssClassNames)),this.sandbox.getComponentPropertyValue(c.RX_AVAILABLE_ON_DEVICES_PROP_NAME).pipe((0,r.map)(d.validateAvailableOnDevicesProp))]).pipe((0,r.map)(p.flatten),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>{this.setValidationIssues(e)}),this.fieldDefinitions$.pipe((0,r.withLatestFrom)(this.componentProperties$),(0,r.map)(([e,t])=>this.getInspectorConfig(t,e))).subscribe(e=>this.sandbox.updateInspectorConfig(e)),this.sandbox.getComponentPropertyValue("recordDefinitionName").pipe((0,r.pairwise)()).subscribe(([e,t])=>{e&&e!==t&&this.sandbox.updateComponentProperties({fieldId:null,recordInstance:null})}),this.label$.subscribe(e=>{this.sandbox.setBreadcrumbs(e)}),this.sandbox.getComponentPropertyValue("action").pipe((0,r.switchMap)(e=>e?o.EMPTY:this.label$),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>{this.sandbox.setSettablePropertiesDataDictionary(e,[{label:"Disabled",expression:this.getExpressionForProperty("disabled")},{label:"Hidden",expression:this.getExpressionForProperty("hidden")}])})}setValidationIssues(e){this.sandbox.setValidationIssues(e)}getInspectorConfig(e,t){const n=[{name:"recordDefinitionName",component:l.RxDefinitionPickerComponent,options:{label:"Record definition name",tooltip:new a.Tooltip("The view component will be hidden if the user has no access to the specified record definition."),definitionType:l.RxDefinitionPickerType.StandardDataRecord}}];return e.recordDefinitionName&&n.push({name:"fieldId",component:l.SelectFormControlComponent,options:{label:"Field name",tooltip:new a.Tooltip("The view component will be hidden if the user has no access to the specified field, or disabled if the user only has View permission for the specified field. <br><br> Record definition name, Field name, and Record instance must all be specified in order to control the disabled/hidden state of the view component using field permissions."),options:t.map(e=>({name:e.name,id:String(e.id)})),emptyOption:!0}},{name:"recordInstance",component:l.ExpressionInspectorControlComponent,options:{label:"Record instance",tooltip:new a.Tooltip("Expression pointing to a record instance that provides the field permission details.")}}),{inspectorSectionConfigs:[{label:"General",controls:[{name:"label",component:l.TextFormControlComponent,options:{label:"Label"}},{name:"style",component:l.SelectFormControlComponent,options:{label:"Style",required:!0,options:(0,p.map)(ha,(e,t)=>({id:e,name:t}))}},{name:"size",component:l.SelectFormControlComponent,options:{label:"Size",options:(0,p.map)(fa,(e,t)=>({id:e,name:t})),sortAlphabetically:!1}},{name:"icon",component:l.IconPickerFormControlComponent,options:{label:"Icon"}},{name:"iconAlignment",component:l.SelectFormControlComponent,options:{label:"Icon alignment",options:(0,p.map)(ga,(e,t)=>({id:e,name:t}))}},(0,d.getDisabledFieldInspectorConfig)(),...(0,d.getStandardPropsInspectorConfigs)()]},{label:"Actions",controls:[{widgetName:ya,component:d.ActionListWidgetComponent}]},{label:"Security",controls:n}]}}}class xa{constructor(e){this.rxActionButtonService=e}ngOnInit(){this.iconCssClass$=(0,o.combineLatest)([this.model.icon$,this.model.iconAlignment$]).pipe((0,r.map)(([e,t])=>this.rxActionButtonService.getIconCssClass(e,t))),this.buttonType$=this.model.style$.pipe((0,r.map)(e=>this.rxActionButtonService.getButtonType(e))),this.size$=this.model.size$.pipe((0,r.map)(e=>e||fa.Default))}}xa.\u0275fac=function(e){return new(e||xa)(i["\u0275\u0275directiveInject"](va))},xa.\u0275cmp=i["\u0275\u0275defineComponent"]({type:xa,selectors:[["rx-action-button-design"]],inputs:{model:"model"},decls:6,vars:12,consts:[["adapt-button","",3,"btn-type","size","ngClass"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"button",0),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"async"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("btn-type",i["\u0275\u0275pipeBind1"](1,4,t.buttonType$))("size",i["\u0275\u0275pipeBind1"](2,6,t.size$))("ngClass",i["\u0275\u0275pipeBind1"](3,8,t.iconCssClass$)),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](5,10,t.model.label$),"\n"))},directives:[h.AdaptButtonComponent,m.NgClass],pipes:[m.AsyncPipe],encapsulation:2,changeDetection:0});class wa{constructor(){this.deprecatedButtonStyles=[ma.Link,ma.Clear]}adaptDefinition(e){(0,p.includes)(this.deprecatedButtonStyles,e.propertiesByName.style)&&(e.propertiesByName.style=ha.Tertiary),e.propertiesByName.size||(e.propertiesByName.size=fa.Small),e.propertiesByName.icon&&(e.propertiesByName.icon=(0,p.get)(c.RX_LEGACY_ICONS,e.propertiesByName.icon,e.propertiesByName.icon))}}wa.\u0275fac=function(e){return new(e||wa)},wa.\u0275prov=i["\u0275\u0275defineInjectable"]({token:wa,factory:wa.\u0275fac});class Ca{constructor(e,t){this.rxDefinitionAdapterRegistryService=e,this.actionButtonAdapterService=t,this.rxDefinitionAdapterRegistryService.registerDesignAdapter(c.RxViewComponentType.ActionButton,this.actionButtonAdapterService)}}Ca.\u0275fac=function(e){return new(e||Ca)(i["\u0275\u0275inject"](a.RxDefinitionAdapterRegistryService),i["\u0275\u0275inject"](wa))},Ca.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ca,declarations:[xa],imports:[m.CommonModule,h.AdaptButtonModule,d.ViewDesignerCanvasModule,d.ActionListWidgetModule,l.IconPickerFormControlModule]}),Ca.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[va,wa],imports:[[m.CommonModule,h.AdaptButtonModule,d.ViewDesignerCanvasModule,d.ActionListWidgetModule,l.IconPickerFormControlModule]]});class _a extends f.BaseViewComponent{constructor(e,t,n,i){super(),this.rxLogService=e,this.translateService=t,this.rxNotificationService=n,this.rxActionButtonService=i,this.api={click:this.click.bind(this),setProperty:this.setProperty.bind(this)},this.state={},this.isActionInProgress=!1,this.isDisabled=!1,this.buttonType=""}get hostClass(){const e=this.state,t=`${c.RxViewComponentType.ActionButton}_${e.style}`;return e.styles?`${t} ${e.styles}`:t}ngOnInit(){this.notifyPropertyChanged("api",this.api),this.config.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{if(Object.assign(this.state,e),e.labelKey?this.state.buttonLabel=this.translateService.instant(e.labelKey):this.state.buttonLabel=e.label,this.state.icon="",this.state.cls=e.cls||"",e.iconCls||e.icon){const t=e.iconCls||e.icon,n=(e.label||e.labelKey)&&e.iconAlignment||"left";this.state.icon=this.rxActionButtonService.getIconCssClass(t,n)}e.iconCls&&e.icon&&this.rxLogService.warning("iconCls option is specified, icon will be ignored."),e.cls||(this.buttonType=this.rxActionButtonService.getButtonType(this.state.style)),e.cls&&e.style&&this.rxLogService.warning("cls option is specified, style will be ignored."),this.validateRecordDefinitionName(),this.isHidden=this.isHiddenFunc(),this.isDisabled=this.isDisabledFunc()})}click(){if(!this.isDisabled)return this.isActionInProgress=!0,this.isDisabled=!0,this.triggerViewActions().then(e=>{this.isActionInProgress=!1,this.isDisabled=this.isDisabledFunc()}).catch(e=>{this.isActionInProgress=!1,this.isDisabled=this.isDisabledFunc()})}isDisabledFunc(){return Boolean(this.state.disabled)||this.isActionInProgress||this.state.recordInstance&&this.state.fieldId&&this.state.recordInstance.recordDefinitionName===this.state.recordDefinitionName&&(0,p.find)(this.state.recordInstance.fieldInstances,{id:Number(this.state.fieldId)})&&(0,p.find)(this.state.recordInstance.fieldInstances,{id:Number(this.state.fieldId)}).permissionType===s.RX_RECORD_DEFINITION.fieldPermissionTypes.view}isHiddenFunc(){return this.isHidden=Boolean(this.state.hidden)||this.state.recordInstance&&(this.state.recordInstance.recordDefinitionName!==this.state.recordDefinitionName||this.state.fieldId&&!(0,p.find)(this.state.recordInstance.fieldInstances,{id:Number(this.state.fieldId)}))}setProperty(e,t){if(!(0,p.includes)(["hidden","disabled"],e))return(0,o.throwError)(`Action Button: property ${e} is not settable.`);this.state[e]=t,this.notifyPropertyChanged(e,this.state[e])}validateRecordDefinitionName(){if(this.state.recordInstance&&this.state.recordInstance.recordDefinitionName!==this.state.recordDefinitionName){const e=this.translateService.instant("com.bmc.arsys.rx.client.view-components.action-button.component-name.label",{label:this.state.label}),t=this.translateService.instant("com.bmc.arsys.rx.client.view-components.action-button.configuration-error.message",{componentName:e});this.rxNotificationService.addErrorMessage(t)}}}_a.\u0275fac=function(e){return new(e||_a)(i["\u0275\u0275directiveInject"](a.RxLogService),i["\u0275\u0275directiveInject"](u.TranslateService),i["\u0275\u0275directiveInject"](a.RxNotificationService),i["\u0275\u0275directiveInject"](va))},_a.\u0275cmp=i["\u0275\u0275defineComponent"]({type:_a,selectors:[["rx-action-button"]],hostVars:2,hostBindings:function(e,t){2&e&&i["\u0275\u0275classMap"](t.hostClass)},inputs:{guid:"guid",config:"config",runtimeViewModelApi:"runtimeViewModelApi"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:1,consts:[["adapt-button","","type","button","class","mw-100 rx-ellipsis",3,"btn-type","ngClass","disabled","size","click",4,"ngIf"],["adapt-button","","type","button",1,"mw-100","rx-ellipsis",3,"btn-type","ngClass","disabled","size","click"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,N,3,8,"button",0),2&e&&i["\u0275\u0275property"]("ngIf",!t.isHidden)},directives:[m.NgIf,h.AdaptButtonComponent,m.NgClass],styles:["[_nghost-%COMP%]{display:block}"]});class Sa{constructor(e,t){this.rxDefinitionAdapterRegistryService=e,this.actionButtonAdapterService=t,this.rxDefinitionAdapterRegistryService.registerRuntimeAdapter(c.RxViewComponentType.ActionButton,this.actionButtonAdapterService)}}var Ia;Sa.\u0275fac=function(e){return new(e||Sa)(i["\u0275\u0275inject"](a.RxDefinitionAdapterRegistryService),i["\u0275\u0275inject"](wa))},Sa.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Sa,declarations:[_a],imports:[h.AdaptButtonModule,m.CommonModule,u.TranslateModule,h.AdaptIconModule],exports:[_a]}),Sa.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[va,wa],imports:[[h.AdaptButtonModule,m.CommonModule,u.TranslateModule,h.AdaptIconModule]]}),function(e){e.Left="left",e.Right="right",e.Center="center"}(Ia||(Ia={}));const Aa={alignmentOptions:{left:{id:Ia.Left,name:"Left",cls:"align-left"},center:{id:Ia.Center,name:"Center",cls:"align-center"},right:{id:Ia.Right,name:"Right",cls:"align-right"}}};class Ea{getAlignClass(e){return(0,p.get)(Aa.alignmentOptions,[e,"cls"],"")}}Ea.\u0275fac=function(e){return new(e||Ea)},Ea.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Ea,factory:Ea.\u0275fac});class Da extends _a{}Da.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Da)))(t||Da)}}(),Da.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Da,selectors:[["rx-button-bar-dropdown-item-component"]],inputs:{guid:"guid",config:"config",runtimeViewModelApi:"runtimeViewModelApi"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:1,consts:[["type","button","class","dropdown-item",3,"disabled","click",4,"ngIf"],["type","button",1,"dropdown-item",3,"disabled","click"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,j,2,2,"button",0),2&e&&i["\u0275\u0275property"]("ngIf",!t.isHidden)},directives:[m.NgIf],encapsulation:2});class Ta extends f.BaseViewComponent{constructor(e,t,n,i,r,s){super(),this.elementRef=e,this.runtimeCanvasItemComponent=t,this.changeDetector=n,this.ngZone=i,this.rxButtonBarService=r,this.renderer=s,this.api={setProperty:this.setProperty.bind(this)},this.childLayouts=null,this.isDropdownVisible=!1,this.resize$=new o.Subject,this.onResizeThrottled=(0,p.throttle)(this.onResize.bind(this),100)}ngOnInit(){super.ngOnInit(),this.notifyPropertyChanged("api",this.api),this.config.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.isHidden=Boolean(e.hidden),this.alignClass=this.rxButtonBarService.getAlignClass(e.alignment)}),this.childLayouts=(0,p.get)(this.runtimeCanvasItemComponent.getChildren(c.RX_VIEW_DEFINITION.defaultOutletName),"[0].children")}ngAfterViewInit(){const e=this.renderer.selectRootElement(this.elementRef.nativeElement,!0);if(!(0,p.isEmpty)(this.childLayouts)){const t=this.childLayouts.map(e=>e.config);this.ngZone.runOutsideAngular(()=>{this.resizeSensor=new g.ResizeSensor(e,e=>{this.ngZone.run(()=>this.resize$.next(e))})}),(0,o.merge)(...t,this.resize$).pipe((0,r.map)(t=>t.width||e.offsetWidth),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>this.onResizeThrottled(e))}this.onResize(e.offsetWidth),this.changeDetector.detectChanges()}ngOnDestroy(){super.ngOnDestroy(),this.resizeSensor&&this.resizeSensor.detach()}onResize(e){let t=0;const n=this.dropdownToggleButton?this.renderer.selectRootElement(this.dropdownToggleButton.nativeElement,!0).offsetWidth:0;this.buttonItemsQueryList.forEach((i,o)=>{t+=this.renderer.selectRootElement(i.nativeElement,!0).offsetWidth;const r=Math.floor(e)>=Math.ceil(t)+n;this.childLayouts[o].showInDropdown=!r,!(0,p.isUndefined)(this.childLayouts[o-1])&&this.childLayouts.filter(e=>e.showInDropdown).length<2&&(this.childLayouts[o-1].showInDropdown=!r)}),this.isDropdownVisible=!(0,p.isEmpty)(this.childLayouts)&&(0,p.last)(this.childLayouts).showInDropdown}trackByFn(e,t){return t.guid}setProperty(e,t){if("hidden"!==e)return(0,o.throwError)(`Button Bar: property ${e} is not settable.`);this.isHidden=t,this.notifyPropertyChanged(e,this.isHidden)}}Ta.\u0275fac=function(e){return new(e||Ta)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](f.RuntimeViewCanvasItemComponent),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](Ea),i["\u0275\u0275directiveInject"](i.Renderer2))},Ta.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ta,selectors:[["rx-button-bar"]],viewQuery:function(e,t){if(1&e&&(i["\u0275\u0275viewQuery"](L,5,i.ElementRef),i["\u0275\u0275viewQuery"](V,5,i.ElementRef)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.dropdownToggleButton=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.buttonItemsQueryList=e)}},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:1,consts:[["class","button-container",3,"ngClass",4,"ngIf"],[1,"button-container",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["class","dropdown","adaptDropdown","",3,"placement",4,"ngIf"],[3,"ngClass"],[3,"layout"],["buttonItems",""],["adaptDropdown","",1,"dropdown",3,"placement"],["type","button","adaptDropdownToggle","",1,"btn","btn-secondary","rx-toggle"],["dropdownToggle",""],["adaptDropdownMenu","",1,"dropdown-menu"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"config","runtimeViewModelApi","guid",4,"ngIf"],[3,"config","runtimeViewModelApi","guid"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,X,3,4,"div",0),2&e&&i["\u0275\u0275property"]("ngIf",t.childLayouts&&!t.isHidden)},directives:[m.NgIf,m.NgClass,m.NgForOf,f.RuntimeViewCanvasItemComponent,h.AdaptDropdownDirective,h.AdaptDropdownToggleDirective,h.AdaptDropdownMenuDirective,Da],styles:["[_nghost-%COMP%]{display:block}.button-container[_ngcontent-%COMP%]{display:flex}.button-container.align-center[_ngcontent-%COMP%]{justify-content:center}.button-container.align-right[_ngcontent-%COMP%]{justify-content:flex-end}.button-container.align-left[_ngcontent-%COMP%]{justify-content:flex-start}.button-container[_ngcontent-%COMP%]   rx-runtime-view-canvas-item[_ngcontent-%COMP%]{display:inline-block}.button-container[_ngcontent-%COMP%]   rx-runtime-view-canvas-item[_ngcontent-%COMP%]:not(:has( > [hidden]))[_ngcontent-%COMP%]{padding-right:5px}.rx-toggle[_ngcontent-%COMP%]{padding-left:1px;height:100%}"]});class Ra{}Ra.\u0275fac=function(e){return new(e||Ra)},Ra.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ra,declarations:[Ta,Da],imports:[m.CommonModule,f.RuntimeViewCanvasModule,h.AdaptDropdownModule],exports:[Ta]}),Ra.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[Ea],imports:[[m.CommonModule,f.RuntimeViewCanvasModule,h.AdaptDropdownModule.forRoot()]]});class Ma extends d.ViewDesignerComponentModel{constructor(){super(...arguments),this.hasChildren$=this.sandbox.getChildComponentGuids().pipe((0,r.map)(e=>!(0,p.isEmpty)(e))),this.componentProperties$=this.sandbox.componentProperties$}static getInitialProperties(e){return Object.assign(Object.assign({alignment:Ia.Left,name:null},c.RX_STANDARD_PROPS_DEFAULT_VALUES),e)}rxInit(){this.componentProperties$.pipe((0,r.take)(1)).subscribe(()=>{this.sandbox.updateInspectorConfig(this.getInspector())}),this.sandbox.getComponentPropertyValue("name").subscribe(e=>{const t=e?`${this.sandbox.descriptor.name} (${e})`:this.sandbox.descriptor.name;this.sandbox.setSettablePropertiesDataDictionary(t,[{label:"Hidden",expression:this.getExpressionForProperty("hidden")}])}),this.componentProperties$.subscribe(e=>{this.validate(e)})}dropPredicate(e){return e.draggedViewComponentDescriptor.type===c.RxViewComponentType.ActionButton}validate(e){this.sandbox.setValidationIssues((0,d.validateStandardProps)(e))}getInspector(){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"name",component:l.TextFormControlComponent,options:{label:"Name",tooltip:new a.Tooltip("Enter a name to uniquely identify the Button bar.")}},{name:"alignment",component:l.SelectFormControlComponent,options:{label:"Alignment",options:(0,p.values)(Aa.alignmentOptions),sortAlphabetically:!1}},...(0,d.getStandardPropsInspectorConfigs)()]}]}}}class Oa{constructor(e){this.rxButtonBarService=e,this.alignment="",this.destroyed$=new o.ReplaySubject(1)}ngOnInit(){this.model.componentProperties$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.alignment=this.rxButtonBarService.getAlignClass(e.alignment)})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}Oa.\u0275fac=function(e){return new(e||Oa)(i["\u0275\u0275directiveInject"](Ea))},Oa.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Oa,selectors:[["rx-button-bar-design"]],inputs:{model:"model"},decls:2,vars:6,consts:[["dropListOrientation","horizontal",1,"button-bar-design-container","border",3,"ngClass","dropPredicate"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"rx-canvas-outlet",0),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275classProp"]("border-transparent",i["\u0275\u0275pipeBind1"](1,4,t.model.hasChildren$)),i["\u0275\u0275property"]("ngClass",t.alignment)("dropPredicate",t.model.dropPredicate))},directives:[d.CanvasOutletComponent,m.NgClass],pipes:[m.AsyncPipe],styles:["[_nghost-%COMP%]  .button-bar-design-container{display:block}[_nghost-%COMP%]  .button-bar-design-container.align-center .cdk-drop-list{justify-content:center}[_nghost-%COMP%]  .button-bar-design-container.align-right .cdk-drop-list{justify-content:flex-end}[_nghost-%COMP%]  .button-bar-design-container.align-left .cdk-drop-list{justify-content:flex-start}[_nghost-%COMP%]  .button-bar-design-container rx-canvas-item-container{min-width:100%}[_nghost-%COMP%]  .button-bar-design-container rx-canvas-item-container .cdk-drop-list{min-height:50px;display:flex;flex-flow:row wrap}.border-transparent[_ngcontent-%COMP%]{border-color:transparent!important}"]});class Pa{}Pa.\u0275fac=function(e){return new(e||Pa)},Pa.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Pa,declarations:[Oa],imports:[m.CommonModule,d.ViewDesignerCanvasModule]}),Pa.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[Ea],imports:[[m.CommonModule,d.ViewDesignerCanvasModule]]});class Fa extends f.BaseViewComponent{constructor(e,t){super(),this.elementRef=e,this.renderer=t,this.state={},this.api={setProperty:this.setProperty.bind(this)}}ngOnInit(){super.ngOnInit(),this.notifyPropertyChanged("api",this.api),this.config.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.isHidden=Boolean(e.hidden),this.state=Object.assign({},e)})}setProperty(e,t){if("hidden"!==e){const t=this.renderer.selectRootElement(this.elementRef.nativeElement,!0).tagName.toLowerCase();return(0,o.throwError)(`${t}: property ${e} is not settable.`)}this.state.hidden=t,this.notifyPropertyChanged(e,t)}}Fa.\u0275fac=function(e){return new(e||Fa)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.Renderer2))},Fa.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Fa,selectors:[["rx-container"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:1,consts:[[3,"hidden"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"rx-runtime-view-canvas-outlet",0),2&e&&i["\u0275\u0275property"]("hidden",t.state.hidden)},directives:[f.RuntimeViewCanvasOutletComponent],styles:["[_nghost-%COMP%]{display:block}.rx-auto-fill[_nghost-%COMP%] >rx-runtime-view-canvas-outlet>rx-runtime-view-canvas-item-container{display:flex;flex-direction:column;height:100%}"]});class ka{constructor(e,t){this.viewDefinitionParserService=e,this.rxJsonParserService=t,this.componentDefinitionType=c.RxViewComponentType.Container}adaptDefinition(e){this.viewDefinitionParserService.getComponents(e).filter(e=>e.componentDefinition.type===this.componentDefinitionType).map(e=>e.componentDefinition).forEach(e=>{if(e.layout){let t=this.rxJsonParserService.tryParseJson(e.layout);if(t&&t.componentDefinitionId){const n=t.columns.map(t=>{const n=e.propertiesByName.rowWrap||"sm",i=t.span||12;return{cssClass:`${"xs"===n?`col-${i}`:`col-${n}-${i}`} ${"xs"!==n?`rx-mb-${n}`:""}`,children:t.children.map(e=>e.componentDefinitionId)}});t={outlets:[{name:"DEFAULT",columns:n}]},e.layout=JSON.stringify(t)}else t&&t.outlets&&(t.outlets.forEach(t=>{t.columns.filter(e=>!e.cssClass).forEach(t=>{const n=e.propertiesByName.rowWrap||"sm",i=t.span||12,o="xs"===n?`col-${i}`:`col-${n}-${i}`,r="xs"!==n?`rx-mb-${n}`:"";t.cssClass=`${o} ${r}`})}),e.layout=JSON.stringify(t))}})}}ka.\u0275fac=function(e){return new(e||ka)(i["\u0275\u0275inject"](c.RxViewDefinitionParserService),i["\u0275\u0275inject"](v.RxJsonParserService))},ka.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ka,factory:ka.\u0275fac,providedIn:"root"});class Na{constructor(e,t){this.containerComponentDefinitionAdapterService=e,this.rxDefinitionAdapterRegistryService=t,t.registerRuntimeAdapter(c.RxViewComponentType.Container,this.containerComponentDefinitionAdapterService)}}Na.\u0275fac=function(e){return new(e||Na)(i["\u0275\u0275inject"](ka),i["\u0275\u0275inject"](a.RxDefinitionAdapterRegistryService))},Na.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Na,declarations:[Fa],imports:[m.CommonModule,f.RuntimeViewCanvasModule],exports:[Fa]}),Na.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,f.RuntimeViewCanvasModule]]});class ja extends d.CanvasItemContainerComponent{constructor(e,t,n,o){super(e,t),this.canvasItemApi=e,this.canvasOutletHelperService=t,this.elementRef=n,this.renderer=o,this.maxNumberOfColumns=12,this.defaultGutterStep=50,this.percentSpanSize=100/this.maxNumberOfColumns,this.gutterStep=this.defaultGutterStep,this.columnResize=new i.EventEmitter}onWindowResize(){this.setGutterStep()}ngAfterViewInit(){const e=this.outlet.columns.map(e=>e.span);this.setSpanSizes(e),this.setGutterStep()}onDragEnd(e){const t=this.getPercentToSpanSizes(e.sizes);this.columnResize.emit(t),this.setSpanSizes(t)}getPercentToSpanSizes(e){return e.map(e=>Math.round(e*this.maxNumberOfColumns/100))}setSpanSizes(e){this.splitComponent.setVisibleAreaSizes(this.getSpanToPercentSizes(e))}getSpanToPercentSizes(e){return e.map(e=>e*this.percentSpanSize)}setGutterStep(){const e=this.renderer.selectRootElement(this.elementRef.nativeElement,!0);this.gutterStep=Math.round(e.clientWidth/this.maxNumberOfColumns)||this.defaultGutterStep}}var La;ja.\u0275fac=function(e){return new(e||ja)(i["\u0275\u0275directiveInject"](d.ViewDesignerCanvasItemApiToken),i["\u0275\u0275directiveInject"](d.CanvasOutletHelperService),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.Renderer2))},ja.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ja,selectors:[["rx-container-canvas-item"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](y.SplitComponent,7),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.splitComponent=e.first)}},hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("resize",function(){return t.onWindowResize()},!1,i["\u0275\u0275resolveWindow"])},outputs:{columnResize:"columnResize"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:9,consts:[["unit","percent","gutterSize","1",3,"gutterStep","dragEnd"],["minSize","8",4,"ngFor","ngForOf","ngForTrackBy"],["minSize","8"],[3,"isReadOnly","colIndex","column","layout","dropListDropped"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"as-split",0),i["\u0275\u0275listener"]("dragEnd",function(e){return t.onDragEnd(e)}),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275template"](2,W,2,4,"as-split-area",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275classProp"]("selected",i["\u0275\u0275pipeBind1"](1,7,t.layout.isSelected$))("readonly",t.isReadOnly),i["\u0275\u0275property"]("gutterStep",t.gutterStep),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.outlet.columns)("ngForTrackBy",t.trackByColFn))},directives:[y.SplitComponent,m.NgForOf,y.SplitAreaDirective,d.CanvasItemColumnComponent],pipes:[m.AsyncPipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}[_nghost-%COMP%]{display:block}as-split[_ngcontent-%COMP%]:not(.readonly).selected    >.as-split-gutter{visibility:visible}as-split[_ngcontent-%COMP%]     as-split-area{height:revert!important;min-height:200px}as-split[_ngcontent-%COMP%]     as-split-area>rx-canvas-item-column{height:100%}as-split[_ngcontent-%COMP%]     as-split-area>rx-canvas-item-column>.cdk-drop-list{height:100%;min-height:auto}as-split[_ngcontent-%COMP%]     .as-split-gutter{visibility:hidden;height:revert!important;position:relative;background-color:#d6d7d8!important}as-split[_ngcontent-%COMP%]     .as-split-gutter .as-split-gutter-icon{border:1px solid #d6d7d8;height:72px!important;width:11px!important;background:white!important;border-radius:2px;position:absolute}as-split[_ngcontent-%COMP%]     .as-split-gutter .as-split-gutter-icon:hover:before, as-split[_ngcontent-%COMP%]     .as-split-gutter .as-split-gutter-icon:hover:after{background-color:#d6d7d8}as-split[_ngcontent-%COMP%]     .as-split-gutter .as-split-gutter-icon:before, as-split[_ngcontent-%COMP%]     .as-split-gutter .as-split-gutter-icon:after{display:inline-block;content:"";position:absolute;top:50%;width:2px;height:64px;background-color:#f0f1f1;border-radius:2px;transform:translateY(-50%);transition:background-color .25s ease}as-split[_ngcontent-%COMP%]     .as-split-gutter .as-split-gutter-icon:before{left:2px}as-split[_ngcontent-%COMP%]     .as-split-gutter .as-split-gutter-icon:after{left:5px}']}),function(e){e.Xs="xs",e.Sm="sm",e.Md="md",e.Lg="lg",e.Xl="xl",e.Xxl="xxl"}(La||(La={}));const Va={type:c.RxViewComponentType.Container,maxColumnSpan:12,rowWrapOptions:{xs:{id:La.Xs,name:"Extra Small (No wrapping)"},sm:{id:La.Sm,name:"Small (576 px)"},md:{id:La.Md,name:"Medium (768 px)"},lg:{id:La.Lg,name:"Large (992 px)"},xl:{id:La.Xl,name:"Extra Large (1200 px)"},xxl:{id:La.Xxl,name:"Extra Extra Large (1600 px)"}}},Ba=c.RX_VIEW_DEFINITION.styles.map(e=>({text:e.name,data:{value:e.id}}));class Ga extends d.ViewDesignerComponentModel{constructor(){super(...arguments),this.componentProperties$=this.sandbox.componentProperties$,this.hasChildren$=this.sandbox.getChildComponentGuids().pipe((0,r.map)(e=>!(0,p.isEmpty)(e)))}static getInitialProperties(e){return Object.assign(Object.assign({name:null,rowWrap:La.Sm,columnCount:"1"},c.RX_STANDARD_PROPS_DEFAULT_VALUES),e)}rxInit(){this.componentProperties$.pipe((0,r.take)(1)).subscribe(()=>{this.sandbox.updateInspectorConfig(this.getInspector())}),this.componentProperties$.subscribe(e=>this.validate(e)),this.sandbox.getComponentPropertyValue("columnCount").pipe((0,r.skip)(1),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>{this.sandbox.setLayout(this.getDefaultColumnSpans(Number(e)))}),this.sandbox.getComponentPropertyValue("name").subscribe(e=>{const t=e?`${this.sandbox.descriptor.name} (${e})`:this.sandbox.descriptor.name;this.sandbox.setSettablePropertiesDataDictionary(t,[{label:"Hidden",expression:this.getExpressionForProperty("hidden")}])})}validate(e){this.sandbox.setValidationIssues((0,d.validateStandardProps)(e))}getPropertiesByName(e){const t=Object.assign({},e);return t.styles||delete t.styles,t}setContainerLayout(e){this.sandbox.setLayout(e)}getDefaultColumnSpans(e){const t=[],n=Math.floor(Va.maxColumnSpan/e);return(0,p.times)(e,()=>t.push(n)),t[t.length-1]=Va.maxColumnSpan%e+n,t}getInspector(){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"name",component:l.TextFormControlComponent,options:{label:"Name",tooltip:new a.Tooltip("Enter a name to uniquely identify the Container.")}},{name:"columnCount",component:l.SelectFormControlComponent,options:{label:"Number of columns",required:!0,tooltip:new a.Tooltip("Resize container columns on the canvas by dragging the dashed column separator line."),options:(0,p.times)(6,e=>({id:(++e).toString(),name:e.toString()}))}},{name:"rowWrap",component:l.SelectFormControlComponent,options:{label:"Row wrap",sortAlphabetically:!1,options:(0,p.values)(Va.rowWrapOptions),tooltip:new a.Tooltip("The Row wrap property controls the layout of multi-column containers based on\n                    the width of the view. When the width of the view is decreased to a width less\n                    than the selected Row wrap value, each container column after the first one\n                    wraps onto a new line.")}},(0,d.getHiddenFieldInspectorConfig)(),(0,d.getAvailableOnDevicesInspectorConfig)(),(0,d.getStylesFieldInspectorConfig)(Ba)]}]}}}class za{constructor(){this.containerCanvasItemComponent=ja,this.destroyed$=new o.ReplaySubject(1)}ngAfterViewInit(){this.canvasOutletComponent.containerComponentInstance.columnResize.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.model.setContainerLayout(e)})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}za.\u0275fac=function(e){return new(e||za)},za.\u0275cmp=i["\u0275\u0275defineComponent"]({type:za,selectors:[["rx-container-design"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](d.CanvasOutletComponent,7),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.canvasOutletComponent=e.first)}},inputs:{model:"model"},decls:2,vars:5,consts:[[1,"border","d-block",3,"containerComponent"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"rx-canvas-outlet",0),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275classProp"]("has-children",i["\u0275\u0275pipeBind1"](1,3,t.model.hasChildren$)),i["\u0275\u0275property"]("containerComponent",t.containerCanvasItemComponent))},directives:[d.CanvasOutletComponent],pipes:[m.AsyncPipe],styles:[".has-children[_ngcontent-%COMP%]    >rx-container-canvas-item>as-split>as-split-area{min-height:auto}"]});class $a{}$a.\u0275fac=function(e){return new(e||$a)},$a.\u0275mod=i["\u0275\u0275defineNgModule"]({type:$a,declarations:[za,ja],imports:[m.CommonModule,d.ViewDesignerCanvasModule,y.AngularSplitModule,b.DragDropModule]}),$a.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[va],imports:[[m.CommonModule,d.ViewDesignerCanvasModule,y.AngularSplitModule,b.DragDropModule]]});const Ua={type:c.RxViewComponentType.RecordEditor,fieldTypes:{[s.RX_RECORD_DEFINITION.resourceTypes.character]:c.RxViewComponentType.Character,[s.RX_RECORD_DEFINITION.resourceTypes.dateTime]:c.RxViewComponentType.DateTime,[s.RX_RECORD_DEFINITION.resourceTypes.selection]:c.RxViewComponentType.Selection,[s.RX_RECORD_DEFINITION.resourceTypes.timeOnly]:c.RxViewComponentType.Time,[s.RX_RECORD_DEFINITION.resourceTypes.dateOnly]:c.RxViewComponentType.Date,[s.RX_RECORD_DEFINITION.resourceTypes.boolean]:c.RxViewComponentType.Boolean,[s.RX_RECORD_DEFINITION.resourceTypes.attachment]:c.RxViewComponentType.Attachment,[s.RX_RECORD_DEFINITION.resourceTypes.integer]:c.RxViewComponentType.Integer,[s.RX_RECORD_DEFINITION.resourceTypes.real]:c.RxViewComponentType.Floating,[s.RX_RECORD_DEFINITION.resourceTypes.decimal]:c.RxViewComponentType.Decimal,[s.RX_RECORD_DEFINITION.resourceTypes.localizedCharacter]:c.RxViewComponentType.LocalizedCharacter}};var Ha,Xa,Wa;!function(e){e.Create="CREATE",e.Edit="EDIT",e.BulkEdit="BULK EDIT",e.Temporary="TEMPORARY"}(Ha||(Ha={})),function(e){e.Read="READ",e.Edit="EDIT"}(Xa||(Xa={}));class qa{constructor(e,t){this.context=e,this.stringService=t,this.selectedFieldIdsModel={},this.availableFieldGroups=[],this.hideSystemFields=!1,this.isApplyButtonDisabled=!0,this.selectedFieldDefinitionIds=[],this.availableFieldDefinitions=[]}ngOnInit(){const e=this.context.getData();this.availableFieldDefinitions=e.availableFields,this.selectedFieldDefinitionIds=e.selectedFieldIds,this.hideSystemFields=Boolean(e.hideSystemFields),this.availableFieldGroups=this.groupFieldsByFieldOption(this.availableFieldDefinitions),this.selectedFieldIdsModel=this.idsToModel(this.selectedFieldDefinitionIds)}closeModal(){this.context.close(this.modelToIds(this.selectedFieldIdsModel))}search(e){this.availableFieldGroups=this.groupFieldsByFieldOption(this.availableFieldDefinitions).map(t=>Object.assign(Object.assign({},t),{fields:t.fields.filter(t=>this.stringService.caseInsensitiveSearch(t.name,e))})).filter(e=>!(0,p.isEmpty)(e.fields))}select(e){if("all"===e){const e=this.availableFieldDefinitions.filter(e=>e.fieldOption!==s.RecordFieldOption.System||!this.hideSystemFields).map(e=>e.id);this.selectedFieldIdsModel=this.idsToModel(e)}else{const t=this.availableFieldGroups.find(t=>t.groupLabel===e).fields.map(e=>e.id);this.selectedFieldIdsModel=Object.assign(Object.assign({},this.selectedFieldIdsModel),this.idsToModel(t))}this.updateApplyButtonDisabledStatus()}updateApplyButtonDisabledStatus(){this.isApplyButtonDisabled=!(0,p.xor)(this.selectedFieldDefinitionIds,this.modelToIds(this.selectedFieldIdsModel)).length}groupFieldsByFieldOption(e){const t=(0,p.groupBy)(e,"fieldOption"),n=[s.RecordFieldOption.Required,s.RecordFieldOption.Optional];return this.hideSystemFields||n.push(s.RecordFieldOption.System),n.filter(e=>t[e]).map(e=>({groupLabel:`${this.stringService.prettify(e)} fields`,selectAllFieldsInGroupButtonLabel:`Select all ${e.toLowerCase()} fields`,fields:t[e].map(({id:e,name:t})=>({id:e,name:t})).sort((e,t)=>e.name.localeCompare(t.name))}))}trackByLabel(e,t){return t.groupLabel}trackById(e,t){return t.id}idsToModel(e,t=!0){return e.filter(Boolean).reduce((e,n)=>(e[n]=t,e),{})}modelToIds(e){return(0,p.reduce)(e,(e,t,n)=>(t&&e.push(n),e),[])}}qa.\u0275fac=function(e){return new(e||qa)(i["\u0275\u0275directiveInject"](h.ActiveModalRef),i["\u0275\u0275directiveInject"](v.RxStringService))},qa.\u0275cmp=i["\u0275\u0275defineComponent"]({type:qa,selectors:[["ng-component"]],decls:14,vars:7,consts:[[1,"modal-header","pr-0"],[1,"modal-title","pl-0","mr-auto"],["adapt-button","","type","button","size","small","btn-type","primary","rx-id","apply-button",1,"mr-5",3,"disabled","click"],["adapt-button","","type","button","size","small","btn-type","tertiary","rx-id","x-button",1,"close","my-1",3,"click"],[1,"modal-body"],[1,"body-controls"],["btn-type","tertiary","rx-id","select-all-button",1,"pl-0",3,"click"],[1,"form-group",3,"placeholder","ngModel","ngModelChange"],[1,"rx-record-definition-fields"],["class","rx-record-definition-field-group",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"rx-record-definition-field-group"],[1,"font-weight-bold"],["btn-type","tertiary",1,"py-0","pl-0",3,"click"],["class","checkbox",4,"ngFor","ngForOf","ngForTrackBy"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkbox__item"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h5",1),i["\u0275\u0275text"](2,"Quick edit fields"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",2),i["\u0275\u0275listener"]("click",function(){return t.closeModal()}),i["\u0275\u0275text"](4," Apply "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"button",3),i["\u0275\u0275listener"]("click",function(){return t.context.dismiss(0)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275elementStart"](8,"adapt-button",6),i["\u0275\u0275listener"]("click",function(){return t.select("all")}),i["\u0275\u0275text"](9," Select all "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"adapt-rx-textfield",7),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.search(e)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",8),i["\u0275\u0275template"](12,Y,6,4,"div",9),i["\u0275\u0275template"](13,Q,2,0,"div",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",t.isApplyButtonDisabled),i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("placeholder","Search fields")("ngModel",t.searchQuery),i["\u0275\u0275attribute"]("rx-id","search-field"),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.availableFieldGroups)("ngForTrackBy",t.trackByLabel),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0===t.availableFieldGroups.length))},directives:[h.AdaptButtonComponent,h.AdaptRxTextfieldComponent,x.NgControlStatus,x.NgModel,m.NgForOf,m.NgIf,x.CheckboxControlValueAccessor],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.modal-title[_ngcontent-%COMP%]{margin:auto 0}span[rx-id=x-button][_ngcontent-%COMP%]{cursor:pointer;margin:auto 0}span[rx-id=x-button][_ngcontent-%COMP%]:hover{color:#959899}.body-controls[_ngcontent-%COMP%]{display:flex}.body-controls[_ngcontent-%COMP%]   adapt-rx-textfield[_ngcontent-%COMP%]{flex:1}.rx-record-definition-fields[_ngcontent-%COMP%]{padding:10px;border:1px solid #d6d7d8;max-height:300px;overflow:auto}.rx-record-definition-field-group[_ngcontent-%COMP%]{margin-bottom:20px}']});class Ya extends l.InspectorWidgetBase{constructor(e,t,n){super(e),this.adaptModalService=t,this.renderer=n,this.encapsulateClass=!0}focus(){this.renderer.selectRootElement(this.openModalButton.nativeElement,!0).click()}openModal(){(0,o.combineLatest)([this.designerItemModel.childFieldIds$,this.designerItemModel.recordFieldDefinitionItems$,this.designerItemModel.isExtensionView$,this.designerItemModel.associationDefinitionName$]).pipe((0,r.take)(1),(0,r.concatMap)(([e,t,n,i])=>this.adaptModalService.open({content:qa,data:{selectedFieldIds:e,availableFields:n&&i?t.filter(e=>e.resourceType!==s.RX_RECORD_DEFINITION.resourceTypes.attachment):t,hideSystemFields:this.options.hideSystemFields},size:"sm",hideBackdrop:!1,customClass:"rx-record-editor-field-selector-modal"}))).subscribe(e=>{this.designerItemModel.updateSelectedFieldComponents(e)})}removeField(e){this.designerItemModel.removeComponent([e])}trackByGuid(e,t){return t.guid}}Ya.\u0275fac=function(e){return new(e||Ya)(i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](h.AdaptModalService),i["\u0275\u0275directiveInject"](i.Renderer2))},Ya.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ya,selectors:[["rx-fields-inspector-widget"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](Z,7,i.ElementRef),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.openModalButton=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&i["\u0275\u0275classProp"]("rx-record-definition-fields",t.encapsulateClass)},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:10,vars:8,consts:[["btn-type","tertiary","rx-id","open-modal-button",1,"px-0","py-0",3,"hidden","click"],["openModalButton",""],[1,"d-icon-plus_circle"],["rx-id","columns"],["class","text-tertiary",4,"ngIf"],[1,"mt-2"],["class","rx-field-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-tertiary"],[1,"rx-field-item"],[1,"rx-field-name"],[1,"rx-field-type"],[1,"rx-action-button"],["class","d-icon-cross btn-link","rx-id","delete-button",3,"click",4,"ngIf"],["rx-id","delete-button",1,"d-icon-cross","btn-link",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"adapt-button",0,1),i["\u0275\u0275listener"]("click",function(){return t.openModal()}),i["\u0275\u0275element"](2,"span",2),i["\u0275\u0275text"](3," Quick edit fields\n"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",3),i["\u0275\u0275template"](5,K,2,0,"span",4),i["\u0275\u0275pipe"](6,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275template"](8,ee,9,3,"div",6),i["\u0275\u0275pipe"](9,"async"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("hidden",t.options.isDisabled),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",0===i["\u0275\u0275pipeBind1"](6,4,t.designerItemModel.selectedFieldComponents$).length),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](9,6,t.designerItemModel.selectedFieldComponents$))("ngForTrackBy",t.trackByGuid))},directives:[h.AdaptButtonComponent,m.NgIf,m.NgForOf],pipes:[m.AsyncPipe],styles:[':root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.rx-record-definition-fields .rx-field-item{margin-bottom:5px;border:1px solid #d6d7d8;border-radius:2px;padding:5px 10px;font-size:12px;display:flex;justify-content:space-between;word-break:break-all}.rx-record-definition-fields .rx-field-name{font-weight:var(--font-weight-bold)}.rx-record-definition-fields .rx-field-type{color:#959899}.rx-record-definition-fields .d-icon-cross{cursor:pointer}.rx-record-definition-fields .d-icon-cross:not(:hover){color:#313538}.rx-record-editor-field-selector-modal .modal{justify-content:flex-end}.rx-record-editor-field-selector-modal .modal-scroll-container{padding:15px;min-height:0}.rx-record-editor-field-selector-modal .modal-dialog{margin:auto 0 0 auto;min-height:0;width:350px}\n'],encapsulation:2,changeDetection:0});class Qa{constructor(e,t,n,i,o,r,s,a){this.rxRecordDefinitionCacheService=e,this.rxModalService=t,this.rxFieldDefinitionService=n,this.rxViewDefinitionCacheService=i,this.rxAssociationDefinitionDataPageService=o,this.rxDefinitionNameService=r,this.rxViewComponentRegistryService=s,this.rxViewDefinitionParserService=a}getRecordFieldDefinitionItems(e){return e.fieldDefinitions.map(e=>({id:String(e.id),name:e.name,resourceType:e.resourceType,fieldOption:e.fieldOption,viewComponentType:this.getViewComponentType(e)}))}getViewComponentType(e){let t=Ua.fieldTypes[e.resourceType];return e.resourceType===s.RX_RECORD_DEFINITION.resourceTypes.character&&(t=e.namedListDefinition||(0,p.inRange)(e.maxLength,1,255)?c.RxViewComponentType.Character:c.RxViewComponentType.Textarea),e.resourceType===s.RX_RECORD_DEFINITION.resourceTypes.real&&(t=c.RxViewComponentType.Decimal),t}getComponentProperties(e){const t=["recordDefinitionName","mode","allowEdit"];return(0,p.flow)(e=>(0,p.omit)(e,"showReadOnlyState"),e=>(0,p.omitBy)(e,(e,n)=>!t.includes(n)&&((0,p.isNil)(e)||""===e)))(e)}getRecordDefinition(e){return e?this.rxRecordDefinitionCacheService.getRecordDefinition(e).pipe((0,r.catchError)(e=>o.EMPTY)):(0,o.of)(null)}validate(e,t,n,i,o=!1,r=!1){const a=[];if(t.recordDefinitionName||a.push(e.createError("Record definition name cannot be blank.","recordDefinitionName")),o&&t.recordDefinitionName&&!t.associationDefinitionName&&a.push(e.createError("Association to use cannot be blank.","associationDefinitionName")),r||t.mode!==Ha.Edit||t.recordInstanceId||a.push(e.createError("Record ID cannot be blank.","recordInstanceId")),n&&t.recordDefinitionName&&t.mode===Ha.Create){n.resourceType===s.RX_RECORD_DEFINITION.recordDefinitionTypes.join.recordDefinitionType&&a.push(e.createWarning("You have configured a record editor to create join record instances.\n                        Please ensure that one or more processes or rules have been defined to perform the creation\n                        of the join record instance.",void 0,!0));const o=i.map(e=>n.fieldDefinitions.find(t=>t.id===Number(e))).filter(this.rxFieldDefinitionService.isSystemField).map(e=>e.name);if(o.length&&a.push(e.createError(`System fields (${o.join(", ")}) cannot be present when Record editor is in Create mode.`)),!r||t.associationDefinitionName){const t=n.fieldDefinitions.filter(e=>{const t=e.resourceType===s.RX_RECORD_DEFINITION.resourceTypes.localizedCharacter,n=e.defaultValue||(0,p.isFinite)(e.defaultValue)||t&&!(0,p.isEmpty)(e.defaultValueByLocale);return e.fieldOption===s.RX_RECORD_DEFINITION.fieldOptions.required&&!n}).filter(e=>!i.includes(String(e.id))).map(e=>e.name);t.length&&a.push(e.createError(`Required fields are missing: ${t.join(", ")}.`))}}return a.push(...(0,d.validateStandardProps)(t)),a}getViewDefinition(e){return e?this.rxViewDefinitionCacheService.getViewDefinition(e).pipe((0,r.catchError)(()=>(0,o.of)(null))):(0,o.of)(null)}getInspector(e,t,n,i=[],o=!1,r=[],s=!1,c){const u={inspectorSectionConfigs:[{label:"General",controls:[{name:"name",component:l.TextFormControlComponent,options:{label:"Name",tooltip:new a.Tooltip("Enter a name to uniquely identify the Record editor.")}},{name:"recordDefinitionName",component:l.RxDefinitionPickerComponent,options:{label:"Record definition name",definitionType:l.RxDefinitionPickerType.StandardDataRecord,required:!0,beforeValueChange:(e,t)=>Boolean(e)?this.rxModalService.confirm({title:"Warning",modalStyle:C.RX_MODAL.modalStyles.warning,message:"All view components will be removed from the Record editor. Do you want to continue?"}):Promise.resolve(!0)}},{name:"mode",component:l.GroupButtonFormControlComponent,options:{label:"Mode",tooltip:new a.Tooltip("<b>Record editor modes:</b><br><ul><li>Create mode is for creating new records.</li><li>Edit mode is for updating records.</li><li>Temporary mode is for holding data that does not need to be saved.</li></ul>"),required:!0,items:[{name:"Create",value:Ha.Create},{name:"Edit",value:Ha.Edit},{name:"Temporary",value:Ha.Temporary}],beforeValueChange:c}}]}]},p=u.inspectorSectionConfigs[0].controls;t!==Ha.Edit||o||(p.push({name:"recordInstanceId",component:l.ExpressionInspectorControlComponent,options:{label:"Record ID",tooltip:new a.Tooltip("Enter the record ID of the record that the users need to edit."),isRequired:!0}}),p.push({name:"showReadOnlyState",component:l.SwitchFormControlComponent,options:{label:"Enable read state"}}),n&&p.push({name:"defaultState",component:l.GroupButtonFormControlComponent,options:{label:"Default state",items:[{name:"Read",value:Xa.Read},{name:"Edit",value:Xa.Edit}]}}),p.push({name:"allowEdit",component:l.OptionalExpressionInspectorControlComponent,options:{label:"Allow edit"}})),p.push((0,d.getAvailableOnDevicesInspectorConfig)(),(0,d.getStylesFieldInspectorConfig)()),o&&(p.splice(1,0,{name:"label",component:l.TextFormControlComponent,options:{label:"Display label",tooltip:new a.Tooltip("Enter a Display label for the Record editor. When this view is injected into the view to extend,\n              the Display label will be shown above the Record editor's fields. If a Display label is not defined,\n              the name of the source application or library will be shown above the fields.")}}),e&&p.splice(3,0,{name:"associationDefinitionName",component:l.SelectFormControlComponent,options:{label:"Association to use",options:r,emptyOption:!s,required:s}}));const h={label:"Form contents",controls:[{component:Ya,options:{label:"Selected fields",hideSystemFields:t===Ha.Create}}]};return e&&u.inspectorSectionConfigs.push(h),u}getAssociationOptions(e,t){return e&&t?this.getAssociations(e,t).pipe((0,r.map)(t=>t.data.filter(t=>t.nodeAId===e).map(e=>({id:e.name,name:this.rxDefinitionNameService.getDisplayName(e.name)})))):(0,o.of)([])}getAssociations(e,t){return this.rxAssociationDefinitionDataPageService.get({params:{propertySelection:["name","scope","nodeAId"],firstRecordDefinitionName:e,secondRecordDefinitionName:t,cardinality:w.RX_ASSOCIATION_DEFINITION.cardinality.oneToOne.value,nodeAModality:w.RX_ASSOCIATION_DEFINITION.modality.required,shouldCascadeDelete:!0},headers:{"default-bundle-scope":""}})}getTargetRecordEditorProperties(e,t){let n;return e&&t&&(n=this.rxViewDefinitionParserService.findParentComponentDefinition(e,{guid:t},e=>e.type===c.RxViewComponentType.RecordEditor)),(0,p.get)(n,"propertiesByName",{})}confirmSystemFieldRemoval(){return(0,o.from)(this.rxModalService.confirm({title:"Warning",modalStyle:C.RX_MODAL.modalStyles.warning,message:"System fields will be removed. Do you want to continue?"}))}getSystemFieldModelGuids(e,t){return(0,p.isEmpty)(e)?[]:e.reduce((e,n)=>{const i=t.fieldDefinitions.find(e=>String(e.id)===n.data.fieldId);return this.rxFieldDefinitionService.isSystemField(i)&&e.push(n.guid),e},[])}isFieldComponent(e){return![c.RxViewComponentType.Action,c.RxViewComponentType.ActionButton,c.RxViewComponentType.Association,c.RxViewComponentType.AssociatedRecordField].includes(e.type)&&Boolean(this.rxViewComponentRegistryService.get(e.type).properties.find(e=>"fieldId"===e.name))}}Qa.\u0275fac=function(e){return new(e||Qa)(i["\u0275\u0275inject"](s.RxRecordDefinitionCacheService),i["\u0275\u0275inject"](C.RxModalService),i["\u0275\u0275inject"](s.RxFieldDefinitionService),i["\u0275\u0275inject"](c.RxViewDefinitionCacheService),i["\u0275\u0275inject"](w.RxAssociationDefinitionDataPageService),i["\u0275\u0275inject"](a.RxDefinitionNameService),i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](c.RxViewDefinitionParserService))},Qa.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Qa,factory:Qa.\u0275fac});class Za extends d.ViewDesignerComponentModel{constructor(){super(...arguments),this.rxFieldDefinitionService=this.injector.get(s.RxFieldDefinitionService),this.rxViewComponentRegistryService=this.injector.get(c.RxViewComponentRegistryService),this.rxRecordEditorDesignHelpersService=this.injector.get(Qa),this.rxDefinitionNameService=this.injector.get(a.RxDefinitionNameService),this.updateInspector$=new o.Subject,this.recordDefinitionName$=this.sandbox.getComponentPropertyValue("recordDefinitionName"),this.mode$=this.sandbox.getComponentPropertyValue("mode"),this.showReadOnlyState$=this.sandbox.getComponentPropertyValue("showReadOnlyState"),this.targetExtensionContainerGuid$=this.sandbox.getViewPropertyValue("targetExtensionContainerGuid"),this.targetViewDefinitionName$=this.sandbox.getViewPropertyValue("targetViewDefinitionName"),this.recordDefinition$=this.recordDefinitionName$.pipe((0,r.switchMap)(e=>this.rxRecordEditorDesignHelpersService.getRecordDefinition(e)),(0,r.shareReplay)(1)),this.childComponentGuids$=this.sandbox.getChildComponentGuids().pipe((0,r.shareReplay)(1)),this.allChildFieldComponentGuids$=this.sandbox.getChildComponentGuids(e=>this.rxRecordEditorDesignHelpersService.isFieldComponent(e),!0).pipe((0,r.distinctUntilChanged)(p.isEqual),(0,r.shareReplay)(1)),this.isExtensionView$=this.targetViewDefinitionName$.pipe((0,r.map)(Boolean),(0,r.shareReplay)(1)),this.childFieldIds$=this.allChildFieldComponentGuids$.pipe((0,r.switchMap)(e=>e.length?(0,o.combineLatest)(e.map(e=>this.sandbox.getComponentPropertyValue("fieldId",e))).pipe((0,r.map)(p.uniq)):(0,o.of)([])),(0,r.shareReplay)(1)),this.selectedFieldComponents$=this.allChildFieldComponentGuids$.pipe((0,r.switchMap)(e=>e.length?(0,o.combineLatest)(e.map(e=>(0,o.combineLatest)([this.sandbox.getComponent(e).pipe((0,r.take)(1),(0,r.map)(e=>this.rxViewComponentRegistryService.get(e.type).name)),this.sandbox.getComponentPropertyValue("fieldId",e),this.sandbox.getComponentPropertyValue("label",e)]).pipe((0,r.map)(([t,n,i])=>({fieldId:n,label:i||"<No field selected>",componentName:t,guid:e}))))):(0,o.of)([])),(0,r.shareReplay)(1)),this.associationComponentGuids$=this.sandbox.getChildComponentGuids(e=>e.type===c.RxViewComponentType.Association,!0).pipe((0,r.shareReplay)(1),(0,r.takeUntil)(this.sandbox.destroyed$)),this.associationDefinitionName$=this.sandbox.getComponentPropertyValue("associationDefinitionName"),this.hasChildren$=this.childComponentGuids$.pipe((0,r.map)(e=>Boolean(e.length)),(0,r.distinctUntilChanged)(),(0,r.shareReplay)(1)),this.systemFieldComponentGuids$=this.recordDefinition$.pipe((0,r.mergeMap)(e=>e?this.selectedFieldComponents$.pipe((0,r.map)(t=>t.filter(t=>{const n=e.fieldDefinitions.find(e=>String(e.id)===t.fieldId);return this.rxFieldDefinitionService.isSystemField(n)}).map(e=>e.guid)),(0,r.take)(1)):(0,o.of)([]))),this.recordFieldDefinitionItems$=this.recordDefinition$.pipe((0,r.map)(e=>e?this.rxRecordEditorDesignHelpersService.getRecordFieldDefinitionItems(e):[]),(0,r.shareReplay)(1))}static getInitialProperties(e){const t=Object.assign(Object.assign({name:null,label:null,mode:Ha.Edit,recordInstanceId:null,recordDefinitionName:null,associationDefinitionName:null,defaultState:e.defaultState||null,allowEdit:"1",styles:null},c.RX_AVAILABLE_ON_DEVICES_DEFAULT_VALUE),e);return Object.assign(Object.assign({},t),{showReadOnlyState:Boolean(t.defaultState),allowEdit:t.mode===Ha.Edit?t.allowEdit:null})}rxInit(){const e=(0,o.combineLatest)([this.targetViewDefinitionName$.pipe((0,r.switchMap)(e=>this.rxRecordEditorDesignHelpersService.getViewDefinition(e))),this.targetExtensionContainerGuid$]).pipe((0,r.map)(([e,t])=>this.rxRecordEditorDesignHelpersService.getTargetRecordEditorProperties(e,t)));this.associationOptions$=(0,o.combineLatest)([e,this.recordDefinitionName$]).pipe((0,r.switchMap)(([e,t])=>this.rxRecordEditorDesignHelpersService.getAssociationOptions(e.recordDefinitionName,t))),this.isAssociationRequired$=(0,o.combineLatest)([this.isExtensionView$,this.recordDefinitionName$,e]).pipe((0,r.map)(([e,t,n])=>e&&t!==n.recordDefinitionName)),this.updateInspector$.pipe((0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>{this.sandbox.updateInspectorConfig(e)}),(0,o.combineLatest)([this.sandbox.componentProperties$,this.isExtensionView$,this.associationOptions$,this.isAssociationRequired$,e]).pipe((0,r.first)(),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([{recordDefinitionName:e,mode:t,showReadOnlyState:n},i,o,r,s])=>{i&&!e&&(e=s.recordDefinitionName,t=s.mode,this.sandbox.updateComponentProperties({mode:t,recordDefinitionName:e})),this.updateInspector$.next(this.rxRecordEditorDesignHelpersService.getInspector(e,t,n,[],i,o,r,this._onBeforeModeChange.bind(this)))}),this.mode$.pipe((0,r.skip)(1),(0,r.withLatestFrom)(this.sandbox.componentProperties$),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([e,t])=>{this.sandbox.updateComponentProperties(e===Ha.Create||e===Ha.Temporary?Object.assign(Object.assign({},t),{recordInstanceId:null,defaultState:null,allowEdit:null,showReadOnlyState:null}):Object.assign(Object.assign({},t),{defaultState:null,allowEdit:"1",showReadOnlyState:!1}))}),this.showReadOnlyState$.pipe((0,r.skip)(1),(0,r.withLatestFrom)(this.sandbox.componentProperties$),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([e,t])=>{this.sandbox.updateComponentProperties(Object.assign(Object.assign({},t),{defaultState:e?Xa.Read:null}))}),(0,o.combineLatest)([(0,o.combineLatest)([this.sandbox.getComponentPropertyValue("recordDefinitionName"),this.sandbox.getComponentPropertyValue("mode"),this.showReadOnlyState$]).pipe((0,r.skip)(1)),this.recordFieldDefinitionItems$,this.isExtensionView$,this.associationOptions$,this.isAssociationRequired$]).pipe((0,r.map)(([[e,t,n],i,o,r,s])=>this.rxRecordEditorDesignHelpersService.getInspector(e,t,n,i,o,r,s,this._onBeforeModeChange.bind(this))),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(this.updateInspector$),this.recordDefinitionName$.pipe((0,r.pairwise)(),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([e,t])=>{e&&(this.sandbox.setChildren([]),this.sandbox.updateComponentProperties({associationDefinitionName:null}))}),this.associationOptions$.pipe((0,r.skip)(1),(0,r.filter)(e=>1===e.length),(0,r.withLatestFrom)(this.isAssociationRequired$),(0,r.filter)(([,e])=>e),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([[{id:e}]])=>this.sandbox.updateComponentProperties({associationDefinitionName:e})),(0,o.combineLatest)([this.sandbox.componentProperties$,this.recordDefinition$,this.childFieldIds$,this.isAssociationRequired$,this.isExtensionView$]).pipe((0,r.map)(([e,t,n,i,o])=>this.rxRecordEditorDesignHelpersService.validate(this.sandbox,e,t,n,i,o)),(0,r.distinctUntilChanged)(p.isEqual),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>{this.sandbox.setValidationIssues(e)}),(0,o.combineLatest)([this.sandbox.getComponentPropertyValue("name").pipe((0,r.map)(e=>e||null),(0,r.distinctUntilChanged)()),this.recordDefinition$]).pipe((0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([e,t])=>{this._setSettableProperties(e,t),this._setCommonDataDictionary(e,t)})}removeComponent(e){this.sandbox.removeComponents(e)}updateSelectedFieldComponents(e){this.selectedFieldComponents$.pipe((0,r.take)(1),(0,r.mergeMap)(t=>{const n=e.filter(e=>!t.find(t=>t.fieldId===e)),i=n.length?this.recordFieldDefinitionItems$.pipe((0,r.map)(e=>n.map(t=>{const{viewComponentType:n,name:i}=e.find(e=>e.id===t);return{type:n,propertiesByName:{fieldId:t,label:i}}})),(0,r.take)(1)):(0,o.of)([]),s=new Set(e),a=t.filter(e=>e.fieldId).filter(e=>!s.has(e.fieldId)).map(e=>e.guid);return(0,o.forkJoin)([i,(0,o.of)(a)])}),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([e,t])=>{e.length&&this.sandbox.addComponent(e),t.length&&this.sandbox.removeComponents(t)})}getPropertiesByName(e){return this.rxRecordEditorDesignHelpersService.getComponentProperties(e)}_dropPredicate(e){var t;return null===(t=e.draggedViewComponentDescriptor.options)||void 0===t?void 0:t.canBeEmbeddedInRecordEditor}_onBeforeModeChange(e,t){return e!==Ha.Create&&t===Ha.Create?this.systemFieldComponentGuids$.pipe((0,r.mergeMap)(e=>e.length?this.rxRecordEditorDesignHelpersService.confirmSystemFieldRemoval().pipe((0,r.tap)(t=>{t&&this.sandbox.removeComponents(e)})):(0,o.of)(!0)),(0,r.take)(1)).toPromise():Promise.resolve(!0)}dropPredicate(e){var t;return null===(t=e.draggedViewComponentDescriptor.options)||void 0===t?void 0:t.canBeEmbeddedInRecordEditor}_setCommonDataDictionary(e,t){const n=this._getComponentName(e,t);this.sandbox.setCommonDataDictionary(this._getCommonProps(n,t))}_setSettableProperties(e,t){const n=this._getComponentName(e,t);this.sandbox.setSettablePropertiesDataDictionary(n,[{label:"Edit state",expression:this.getExpressionForProperty("editState")},{label:"Read state",expression:this.getExpressionForProperty("readState")},...t?[{label:"Record instance",children:t.fieldDefinitions.map(e=>({label:e.name,expression:this.getExpressionForProperty(`recordInstance.fieldInstances.${e.id}.value`)}))}]:[]])}_getCommonProps(e,t){return{label:e,expression:this.getExpressionForProperty("api"),children:[{label:"Can save",expression:this.getExpressionForProperty("canSave")},{label:"In read state",expression:this.getExpressionForProperty("inReadState")},{label:"Is dirty",expression:this.getExpressionForProperty("isDirty")},{label:"Is valid",expression:this.getExpressionForProperty("isValid")},{label:"Record definition name",expression:this.getExpressionForProperty("recordDefinitionName")},{label:"Record instance",expression:this.getExpressionForProperty("recordInstance"),children:t?this._getRecordInstanceChildProps(t):[]},{label:"Record instance ID",expression:this.getExpressionForProperty("recordInstanceId")}]}}_getRecordInstanceChildProps(e){return(0,p.flow)(e=>(0,p.reject)(e,{resourceType:s.RX_RECORD_DEFINITION.resourceTypes.attachment}),e=>(0,p.map)(e,e=>{const t={label:e.name,expression:this.getExpressionForProperty(`recordInstance.fieldInstances.${e.id}.value`)};if(e.resourceType===s.RX_RECORD_DEFINITION.resourceTypes.selection){const n=t.autocompleteOptions=(0,p.map)(e.optionNamesById,(t,n)=>({label:t,expression:this.getExpressionForProperty(`recordDefinition.fieldDefinitionsById[${e.id}].optionsById[${n}].id`)}));t.children=[{label:`${e.name} (Option name)`,expression:this.getExpressionForProperty(`selectionFieldOptionNamesById.${e.id}`)},{label:"Options",children:n}]}return t}))(e.fieldDefinitions)}_getComponentName(e,t){let n=this.sandbox.descriptor.name;const i=t?this.rxDefinitionNameService.getDisplayName(t.name):null;return i&&e?n+=` (${i}: ${e})`:i?n+=` (${i})`:e&&(n+=` (${e})`),n}}class Ka{ngOnInit(){this.dropPredicateFn=this.model._dropPredicate.bind(this.model)}}Ka.\u0275fac=function(e){return new(e||Ka)},Ka.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ka,selectors:[["rx-record-editor-design"]],inputs:{model:"model"},decls:3,vars:4,consts:[["type","objects","label","Drop fields from the Palette here or select a Record definition and add fields in the Properties panel.",4,"ngIf"],[3,"dropPredicate"],["type","objects","label","Drop fields from the Palette here or select a Record definition and add fields in the Properties panel."]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,te,1,0,"adapt-empty-state",0),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275element"](2,"rx-canvas-outlet",1)),2&e&&(i["\u0275\u0275property"]("ngIf",!1===i["\u0275\u0275pipeBind1"](1,2,t.model.hasChildren$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("dropPredicate",t.dropPredicateFn))},directives:[m.NgIf,d.CanvasOutletComponent,h.AdaptEmptyStateComponent],pipes:[m.AsyncPipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}[_nghost-%COMP%]{border:1px solid #d6d7d8;display:block;position:relative;padding:1rem;min-height:200px}adapt-empty-state[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden}rx-canvas-outlet[_ngcontent-%COMP%]    >rx-canvas-item-container>.row>.col>rx-canvas-item-column>.cdk-drop-list{min-height:calc(200px - 1rem * 2)}']});class Ja{}Ja.\u0275fac=function(e){return new(e||Ja)},Ja.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ja,declarations:[qa,Ya],imports:[m.CommonModule,x.FormsModule,h.AdaptButtonModule,h.AdaptRxTextfieldModule],exports:[Ya]}),Ja.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,x.FormsModule,h.AdaptButtonModule,h.AdaptRxTextfieldModule]]});class el{}el.\u0275fac=function(e){return new(e||el)},el.\u0275mod=i["\u0275\u0275defineNgModule"]({type:el,declarations:[Ka],imports:[m.CommonModule,l.RxDefinitionPickerModule,x.FormsModule,l.FormControlsModule,d.ViewDesignerCanvasModule,Ja,h.AdaptEmptyStateModule]}),el.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[Qa],imports:[[m.CommonModule,l.RxDefinitionPickerModule,x.FormsModule,l.FormControlsModule,d.ViewDesignerCanvasModule,Ja,h.AdaptEmptyStateModule]]}),function(e){e.One="ONE",e.Many="MANY"}(Wa||(Wa={}));let tl=class{constructor(e,t,n,i,a,l,c){this.options=e,this.rxAssociationInstanceDataPageService=t,this.rxRecordDefinitionCacheService=n,this.rxRecordInstanceUtilsService=i,this.rxRecordInstanceService=a,this.rxJsonParserService=l,this.rxAssociationDefinitionCacheService=c,this.extensions=[],this.existing=[],this.pending=[],this.deleted=[],this.existingSubject$=new o.BehaviorSubject([]),this.existing$=this.existingSubject$.asObservable(),this.pendingSubject$=new o.BehaviorSubject([]),this.pending$=this.pendingSubject$.asObservable(),this.extensionsSubject$=new o.BehaviorSubject([]),this.extensions$=this.extensionsSubject$.asObservable(),this.cardinalityTypes=Wa,this.totalExistingCount=0,this.associationDefinition=null,this.cardinalityType=null,this.remainingAssociatedRecordCount=0,this.getExistingAssociationInstances$=(0,o.defer)(()=>this.getExistingAssociationInstances()).pipe((0,r.share)()),(0,p.assign)(this.options,{canLoadAssociations:Boolean(this.options.associatedRecordInstanceId),pageSize:10,startIndex:0}),this.extensions=this.options.associationInstances.extensions,this.existing=this.options.associationInstances.existing,this.pending=this.options.associationInstances.pending,this.deleted=this.options.associationInstances.deleted,this.options.fieldIds=this.options.fieldIds||[],this.mergeFieldIds([s.RX_RECORD_DEFINITION.coreFieldIds.id])}initialize(){return this.isDataLoading=!0,this.initialize$||(this.initialize$=(0,o.forkJoin)([this.rxAssociationDefinitionCacheService.getAssociationDefinition(this.options.associationDefinitionName),this.rxRecordDefinitionCacheService.getRecordDefinition(this.options.recordDefinitionName)]).pipe((0,r.tap)(([e,t])=>{this.isDataLoading=!1,this.associationDefinition=e,this.recordDefinition=t,this.cardinalityType=this.getCardinalityType(this.associationDefinition.cardinality,this.options.associatedRecordNodeSide),this.options.allFieldIds&&(this.options.fieldIds=(0,p.map)(this.recordDefinition.fieldDefinitions,"id"),this.mergeFieldIds([s.RX_RECORD_DEFINITION.coreFieldIds.id]))}))),this.initialize$}loadExistingAssociations(){return this.options.canLoadAssociations?this.initialize().pipe((0,r.switchMap)(()=>this.getExistingAssociationInstances$.pipe((0,r.tap)(e=>{(0,p.forEach)(e.data,e=>{this.addToExisting(this.rxRecordInstanceUtilsService.convertFromDataPageRowToPlainRecordInstance(e))}),this.options.startIndex+=e.data.length,this.remainingAssociatedRecordCount=e.totalSize-this.options.startIndex})))):(0,o.of)([])}loadExtensions(){return this.initialize().pipe((0,r.switchMap)(()=>this.getExtensionRecordInstance().pipe((0,r.tap)(e=>{e&&this.addExtension(e)}))))}addToExisting(e){const t=this.isInExisting(e.id);t?this.isDefaultNodeRoleUsed(t)&&!this.isDefaultNodeRoleUsed(this.options.rolesConfig)&&((0,p.remove)(this.existing,t),e.rolesConfig=this.options.rolesConfig,this.existing.push(e),this.existingSubject$.next(this.existing)):(this.options.rolesConfig&&!e.rolesConfig&&(e.rolesConfig=this.options.rolesConfig),this.existing.push(e),this.existingSubject$.next(this.existing))}isDefaultNodeRoleUsed(e){return this.rxJsonParserService.tryParseJson((0,p.get)(e,"rolesConfig.useDefaultRoles",!0))}addToPending(e,t){if(!(0,p.isEmpty)(e)&&this.associationDefinition)if(this.cardinalityType===Wa.Many){const n=(0,p.filter)(e,e=>!this.isInExisting(e.id)&&!this.isInDeleted(e.id)&&!this.isInPending(e.id));t&&(0,p.forEach)(n,e=>{e.rolesConfig=t}),Array.prototype.push.apply(this.pending,n),this.pendingSubject$.next(this.pending);const i=(0,p.remove)(this.deleted,t=>(0,p.find)(e,{id:t.id}));(0,p.forEach)(i,e=>{this.addToExisting(e)})}else if(this.cardinalityType===Wa.One){const t=e[0];switch(!0){case(0,p.isEmpty)(this.existing)&&(0,p.isEmpty)(this.deleted):this.pending.length=0,this.pending.push(t);break;case(0,p.isEmpty)(this.existing):const e=this.deleted[0];this.pending.length=0,e.id===t.id?this.addToExisting(this.deleted.splice(0,1)[0]):this.pending.push(t);break;case(0,p.isEmpty)(this.deleted):const n=this.existing[0];n.id!==t.id&&(this.deleteFromExisting(n.id),this.pending.length=0,this.pending.push(t))}this.pendingSubject$.next(this.pending)}}addExtension(e){this.extensions.push(e),this.extensionsSubject$.next(this.extensions)}restore(){this.extensionsSubject$.next(this.extensions),(0,p.forEach)(this.deleted,e=>{this.addToExisting(e)}),this.deleted.splice(0,this.deleted.length),this.deleteAllPending()}reset(){this.existing.splice(0,this.existing.length),this.pending.splice(0,this.pending.length),this.deleted.splice(0,this.deleted.length),this.totalExistingCount=0,this.options.startIndex=0}delete(e){this.isInExisting(e)?this.deleteFromExisting(e):this.isInPending(e)&&this.deleteFromPending(e)}deleteAllExisting(){const e=(0,p.map)(this.existing,"id");(0,p.forEach)(e,e=>{this.deleteFromExisting(e)})}deleteAllPending(){this.pending.splice(0,this.pending.length),this.pendingSubject$.next(this.pending)}mergeFieldIds(e){e&&(this.options.fieldIds=(0,p.uniq)(this.options.fieldIds.concat(e)))}extendOptions(e){e.fieldIds&&this.mergeFieldIds(e.fieldIds),this.options.allFieldIds=e.allFieldIds}getCardinalityType(e,t){let n;switch(!0){case e===w.RX_ASSOCIATION_DEFINITION.cardinality.oneToOne.value:n=Wa.One;break;case e===w.RX_ASSOCIATION_DEFINITION.cardinality.oneToMany.value:n=t===w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value?Wa.Many:Wa.One;break;case e===w.RX_ASSOCIATION_DEFINITION.cardinality.manyToMany.value:n=Wa.Many}return n}getExtensionRecordInstance(e=!0){const t=e?s.RX_RECORD_DEFINITION.coreFieldIds.id:this.options.fieldIds.join(",");return this.rxAssociationInstanceDataPageService.post({params:{associationDefinition:this.options.associationDefinitionName,nodeToQuery:this.options.associatedRecordNodeSide,associatedRecordInstanceId:this.options.associatedRecordInstanceId,propertySelection:t}}).pipe((0,r.map)(e=>e.data[0]),(0,r.switchMap)(t=>t&&e?this.rxRecordInstanceService.get(this.options.recordDefinitionName,t[s.RX_RECORD_DEFINITION.coreFieldIds.id]):t&&!e?(0,o.of)(this.rxRecordInstanceService.createInstanceFromDataPageRow(t,this.recordDefinition)):(0,o.of)(null)))}getExistingAssociationInstances(){const e={pageSize:this.options.pageSize,startIndex:this.options.startIndex,associationDefinition:this.options.associationDefinitionName,nodeToQuery:this.options.associatedRecordNodeSide,associatedRecordInstanceId:this.options.associatedRecordInstanceId,propertySelection:this.options.fieldIds.join(","),useDefaultRoleNames:!1,nodeARoleName:"",nodeBRoleName:""};return this.options.rolesConfig.useDefaultRoles?(e.useDefaultRoleNames=this.options.rolesConfig.useDefaultRoles,delete e.nodeARoleName,delete e.nodeBRoleName):(delete e.useDefaultRoleNames,e.nodeARoleName=this.options.rolesConfig.nodeARole||"",e.nodeBRoleName=this.options.rolesConfig.nodeBRole||""),this.rxAssociationInstanceDataPageService.post({params:e})}isInExisting(e){return(0,p.find)(this.existing,{id:e})}isInPending(e){return(0,p.find)(this.pending,{id:e})}getFieldIds(){return(0,p.clone)(this.options.fieldIds)}isInDeleted(e){return(0,p.find)(this.deleted,{id:e})}deleteFromExisting(e){const t=(0,p.remove)(this.existing,{id:e})[0];this.deleted.push(t),this.existingSubject$.next(this.existing)}deleteFromPending(e){(0,p.remove)(this.pending,{id:e}),this.pendingSubject$.next(this.pending)}destroy(){this.existingSubject$.complete(),this.pendingSubject$.complete(),this.extensionsSubject$.complete()}};tl=(0,_.__decorate)([(0,_.__param)(0,(0,i.Optional)()),(0,_.__metadata)("design:paramtypes",[Object,w.RxAssociationInstanceDataPageService,s.RxRecordDefinitionCacheService,s.RxRecordInstanceUtilsService,s.RxRecordInstanceService,v.RxJsonParserService,w.RxAssociationDefinitionCacheService])],tl);class nl{getComponentDefinitionsAsFlatList(e){return(0,p.flattenDeep)((0,p.transform)(e,(e,t)=>{t.resourceType!==c.RX_VIEW_DEFINITION.resourceTypes.containerViewComponent?e.push(t):t.propertiesByName.recordDefinitionName||e.push(...this.getComponentDefinitionsAsFlatList(t.componentDefinitions))}))}getSelectionFieldOptionNames(e,t){const n={};return(0,p.filter)(e.fieldDefinitions,{resourceType:s.RX_RECORD_DEFINITION.resourceTypes.selection}).forEach(i=>{const o=(0,p.get)(e.localizableStringsByFieldId,i.id),r=t.fieldInstances[i.id];if(r)if((0,p.isObject)(i.optionNamesById)&&o&&(0,p.isEmpty)(o)){const e=i.optionNamesById[r.value];n[i.id]=o[e]}else n[i.id]=i.optionNamesById[r.value];else n[i.id]=""}),n}}nl.\u0275fac=function(e){return new(e||nl)},nl.\u0275prov=i["\u0275\u0275defineInjectable"]({token:nl,factory:nl.\u0275fac});class il extends x.FormControl{constructor(){super(...arguments),this._touchedSubject=new o.BehaviorSubject(this.touched),this.touched$=this._touchedSubject.asObservable().pipe((0,r.distinctUntilChanged)())}markAsTouched(e){super.markAsTouched(e),this._touchedSubject.next(this.touched)}markAsUntouched(e){super.markAsUntouched(e),this._touchedSubject.next(this.touched)}}const ol="%",rl="baseFormGroup";class sl extends x.FormGroup{constructor(e,t){super({}),this.rxGuidService=e,this.rxRecordInstanceUtilsService=t}addFieldControl(e,t,n=null,i,o){const r=new il("",i,o),s=this.controls[rl];return r.setValue(n),s?s.addControl(this.getControlId(e,t),r):this.addControl(rl,new x.FormGroup({[this.getControlId(e,t)]:r})),r}addAssociatedFieldControl(e,t,n,i=null,o,r){const s=n.join(ol),a=this.controls[s],l=new il(i,o,r);return a?a.addControl(this.getControlId(e,t),l):this.addControl(s,new x.FormGroup({[this.getControlId(e,t)]:l})),l}resetFieldControls(e,t){const n=this.controls[t?t.join(ol):rl];e?n.reset(this.prepareFormGroupState(e,n)):n.reset()}syncFormControlValues(e,t,n,i={}){this.getControlsBoundToRecordField(String(e),n).forEach(e=>{!1!==i.markAsDirty&&e.markAsDirty(),!1!==i.markAsTouched&&e.markAsTouched(),this.rxRecordInstanceUtilsService.isFieldValueEqual(e.value,t)||e.setValue(t)})}getFieldIds(e){const t=this.controls[e?e.join(ol):rl];return t?(0,p.reduce)(t.controls,(e,t,n)=>{const i=this.getFieldId(n);return t instanceof x.FormControl&&!(0,p.includes)(e,i)&&e.push(i),e},[]):[]}clearAndReset(){(0,p.forOwn)(this.controls,(e,t)=>this.removeControl(t)),this.reset()}markInvalidControlsAsTouched(){(0,p.forEach)(this.controls,e=>{(0,p.forEach)(e.controls,e=>{e.invalid&&e.markAsTouched()})})}getFormControl(e,t,n){let i,o;return o=this.controls[n?n.join(ol):rl],o&&(i=o.get(this.getControlId(e,t))),i}getControlsBoundToRecordField(e,t){const n=this.controls[t||rl];return(0,p.reduce)(n.controls,(t,n,i)=>(n instanceof x.FormControl&&this.getFieldId(i)===e&&t.push(n),t),[])}getControlId(e,t){return`${e}:${t||this.rxGuidService.generate()}`}getFieldId(e){return e.split(":")[0]}prepareFormGroupState(e,t){return(0,p.reduce)(t.controls,(t,n,i)=>(t[i]=e[this.getFieldId(i)],t),{})}}sl.\u0275fac=function(e){return new(e||sl)(i["\u0275\u0275inject"](v.RxGuidService),i["\u0275\u0275inject"](s.RxRecordInstanceUtilsService))},sl.\u0275prov=i["\u0275\u0275defineInjectable"]({token:sl,factory:sl.\u0275fac});class al extends f.BaseViewComponent{constructor(e,t,n,i,s,a,l,c,d,u,p,h,m){super(),this.rxRecordInstanceService=e,this.rxRecordInstanceUpdateService=t,this.translateService=n,this.rxGlobalEventsService=i,this.rxNotificationService=s,this.rxRecordDefinitionService=a,this.rxRecordEditorUtilsService=l,this.rxRecordInstanceUtilsService=c,this.rxStringService=d,this.rxLogService=u,this.rxUtilityModalsService=p,this.rxAssociationManagerServiceFactory=m,this.api={refresh:this.refresh.bind(this),isDirty:this.isDirty.bind(this),isReady:this.isReady.bind(this),isValid:this.isValid.bind(this),notifyComponentReady:this.notifyComponentReady.bind(this),save:this.save.bind(this),setProperty:this.setProperty.bind(this),setFieldValue:this.setFieldValue.bind(this),getFieldValue:this.getFieldValue.bind(this),getAssociationManager:this.getAssociationManager.bind(this),getFieldControl:this.getFieldControl.bind(this),downloadAttachment:this.downloadAttachment.bind(this),getAttachmentDownloadUrl:this.getAttachmentDownloadUrl.bind(this),getPermissionType:this.getPermissionType.bind(this),getFieldInstanceProp:this.getFieldInstanceProp.bind(this),getRecordEditorMode:this.getRecordEditorMode.bind(this),setFieldInstanceProp:this.setFieldInstanceProp.bind(this),markAsDirty:this.markAsDirty.bind(this)},this.state={recordInstanceId:"",recordDefinitionName:"",recordInstance:null,recordDefinition:null,isDataLoading:!1,isDirty:!1,isSaving:!1,canSave:!1,mode:null,isReadOnlyStateAvailable:!1,defaultState:null,currentState:Xa.Edit,form:null,selectionFieldOptionNamesById:{},allowEdit:null},this.recordInstanceChangedSubject=new o.Subject,this.notReadyComponentIds={},this.associationManagers={},this.associationInstances={},this.recordInstanceChanged$=this.recordInstanceChangedSubject.asObservable(),this.state.form=h,this.state.form.statusChanges.pipe((0,r.distinctUntilChanged)(),(0,r.takeUntil)(this.destroyed$)).subscribe(()=>{this.notifyPropertyChanged("isValid",this.isValid())})}ngOnInit(){super.ngOnInit(),this.notifyPropertyChanged("api",this.api),this.notifyPropertyChanged("isDirty",this.state.isDirty),this.notifyPropertyChanged("canSave",this.state.canSave);const e=this.config.pipe((0,r.distinctUntilChanged)(p.isEqual),(0,r.tap)(e=>Object.assign(this.state,e)));e.pipe((0,r.take)(1)).subscribe(e=>{e.mode===Ha.Create?this.notifyPropertyChanged("inReadState",!1):e.mode===Ha.Temporary?(this.notifyPropertyChanged("inReadState",!1),this.updateCanSaveProperty()):this.state.defaultState&&(this.state.isReadOnlyStateAvailable=!0)}),(0,o.merge)(e.pipe((0,r.takeWhile)(e=>e.mode===Ha.Edit)),e.pipe((0,r.takeWhile)(e=>(0,p.includes)([Ha.Create,Ha.BulkEdit,Ha.Temporary],e.mode)),(0,r.take)(1))).pipe((0,r.map)(e=>e.recordInstanceId||null),(0,r.distinctUntilChanged)(),(0,r.switchMap)(()=>this.initializeRecordInstance().pipe((0,r.catchError)(e=>(this.rxRecordInstanceUtilsService.isNoRecordFoundError(e)&&this.runtimeViewModelApi.cancel(!0).subscribe(),(0,o.throwError)(e))))),(0,r.takeUntil)(this.destroyed$)).subscribe(),e.pipe((0,r.takeWhile)(e=>e.mode===Ha.Edit),(0,r.pluck)("allowEdit"),(0,r.distinctUntilChanged)(),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>{const t=e?this.state.defaultState||Xa.Edit:Xa.Read;this.setRecordEditorState(t)})}downloadAttachment(e){this.isInEditMode()&&!this.isNewAttachment(e)&&this.rxRecordInstanceService.downloadAttachment(this.state.recordDefinitionName,e,this.state.recordInstanceId,this.state.recordInstance.fieldInstances[e].value)}getAttachmentDownloadUrl(e){let t="";return this.isInEditMode()&&!this.isNewAttachment(e)&&(t=this.rxRecordInstanceService.getAttachmentDownloadUrl(this.state.recordDefinitionName,e,this.state.recordInstanceId)),t}getAssociationManager(e){const t=(0,p.values)(e.rolesConfig).join("_"),n=(0,p.compact)([e.associationDefinitionName,t,e.associatedRecordNodeSide]).join(":");let i=this.associationManagers[n];return i?i.extendOptions(e):(e.associationInstances=this.getAssociationInstances(e.associationDefinitionName,e.associatedRecordNodeSide,t),i=this.rxAssociationManagerServiceFactory(e),(0,o.merge)(i.pending$,i.existing$).pipe((0,r.filter)(()=>0!==i.deleted.length||0!==i.pending.length),(0,r.take)(1)).subscribe(()=>this.markAsDirty()),i.extensions$.pipe((0,r.filter)(e=>!(0,p.isEmpty)(e)),(0,r.takeUntil)(this.destroyed$)).subscribe(()=>{this.syncRecordInstanceWithForm(e.associatedRecordPath),this.notifyPropertyChanged("recordInstance",this.state.recordInstance)}),this.associationManagers[n]=i),i}markAsDirty(){this.state.form.markAsTouched(),this.state.form.markAsDirty(),this.updateIsDirtyProperty(),this.updateCanSaveProperty()}refresh(){return this.isInEditMode()&&this.state.currentState===Xa.Read?this.initializeRecordInstance().pipe((0,r.catchError)(e=>this.handleNoRecordFoundError(e))):o.EMPTY}isDirty(){return!this.isInTemporaryMode()&&this.state.form.dirty}isReady(){return(0,p.isEmpty)(this.notReadyComponentIds)}notifyComponentReady(e,t){t?delete this.notReadyComponentIds[e]:this.notReadyComponentIds[e]=!0}setProperty(e,t){const n=e.match(/^recordInstance\.fieldInstances\.(\d+)\.value$/),i="readState"===e&&!t||"editState"===e&&t;if("readState"===e&&t||"editState"===e&&!t){if(this.state.currentState!==Xa.Read)return this.cancel()}else if(i)this.state.currentState!==Xa.Edit&&this.switchToEditState();else{if(!n)return(0,o.throwError)(`Record editor: property ${e} is not settable.`);{const e=Number(n[1]);this.setFieldValue(e,t)}}}setFieldValue(e,t,n,i={}){this.state.recordInstance&&this.state.recordInstance.getRecordInstance(n)&&this.state.recordInstance.isFieldValueChanged(e,t,n)&&(this.state.recordInstance.setFieldValue(e,t,n),this.state.form.syncFormControlValues(String(e),this.state.recordInstance.getFieldValue(e,n),n&&n.join(ol),i),this.updateSelectionFieldOptionNames(this.state.recordInstance),this.notifyPropertyChanged("recordInstance",this.state.recordInstance),this.updateIsDirtyProperty(),this.updateCanSaveProperty())}getFieldValue(e,t){return this.state.recordInstance&&this.state.recordInstance.getFieldValue(e,t)}save(e=!1){if(this.isInTemporaryMode())return this.rxLogService.debug("Record Editor: skip saving record instance in Temporary mode."),o.EMPTY;if(this.isValid()){if(this.canSave()){let t;return this.state.isSaving=!0,this.updateCanSaveProperty(),this.isInCreateMode()?t=this.rxRecordInstanceService.create(this.state.recordInstance).pipe((0,r.tap)(t=>{this.rxNotificationService.addSuccessMessage(this.translateService.instant("com.bmc.arsys.rx.client.common.saved-successfully.message")),this.state.recordInstanceId||((0,p.set)(this.state.recordInstance,`fieldInstances[${s.RX_RECORD_DEFINITION.coreFieldIds.id}].value`,t.id),this.state.recordInstance.id=t.id,this.state.recordInstanceId=t.id),this.notifyPropertyChanged("recordInstance",this.state.recordInstance),this.notifyPropertyChanged("recordInstanceId",this.state.recordInstanceId),e||this.rxGlobalEventsService.viewActionsCompleted$.pipe((0,r.take)(1),(0,r.switchMap)(()=>this.initializeRecordInstance()),(0,r.takeUntil)(this.destroyed$)).subscribe()}),(0,r.switchMapTo)(o.EMPTY)):this.isInEditMode()&&(t=this.rxRecordInstanceUpdateService.execute(this.state.recordInstance).pipe((0,r.tap)(()=>{this.rxNotificationService.addSuccessMessage(this.translateService.instant("com.bmc.arsys.rx.client.common.saved-successfully.message"))}),(0,r.switchMap)(()=>this.initializeRecordInstance().pipe((0,r.catchError)(e=>this.handleNoRecordFoundError(e)),(0,r.tap)({complete:()=>{this.state.isReadOnlyStateAvailable&&this.setRecordEditorState(Xa.Read)}}))))),t.pipe((0,r.tap)({complete:()=>{this.state.form.markAsPristine()}}),(0,r.finalize)(()=>{this.state.isSaving=!1,this.updateCanSaveProperty(),this.updateIsDirtyProperty()}))}return this.rxLogService.debug("Record Editor: cannot save unmodified record instance."),(0,o.throwError)(null)}return this.state.form.markInvalidControlsAsTouched(),this.rxNotificationService.addErrorMessage(this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-editor.validation-error.message")),(0,o.throwError)(null)}getFieldControl(e,t,n=[],i){const s=this.state.form.getFormControl(String(e),t,i);if(s)return s;const a=this.state.recordInstance?this.state.recordInstance.getFieldValue(e,i):null,l=this.getFieldInstanceControlValidator(e,i);let c;return(n=Array.isArray(n)?n:[n]).push(l),c=i?this.state.form.addAssociatedFieldControl(String(e),t,i,a,n):this.state.form.addFieldControl(String(e),t,a,n),c.valueChanges.pipe((0,r.distinctUntilChanged)(this.rxRecordInstanceUtilsService.isFieldValueEqual),(0,r.observeOn)(o.asyncScheduler),(0,r.takeUntil)(this.destroyed$)).subscribe(()=>{this.setFieldValue(e,c.value,i,{markAsDirty:c.dirty,markAsTouched:!1})}),c}getPermissionType(e,t){const n=this.state.recordInstance?this.state.recordInstance.getFieldInstance(e,t):null;return n?(0,p.get)(n,"permissionType")||s.RX_RECORD_DEFINITION.fieldPermissionTypes.change:null}getFieldInstanceProp(e,t,n){return this.state.recordInstance&&this.state.recordInstance.getFieldProp(e,t,n)}getRecordEditorMode(){return this.state.mode}setFieldInstanceProp(e,t,n,i){this.state.recordInstance&&this.state.recordInstance.setFieldProp(e,t,n,i)}isValid(){return this.state.form.valid}switchToEditState(){this.setRecordEditorState(Xa.Edit)}isEditStateAvailable(){return this.state.isReadOnlyStateAvailable&&this.state.currentState===Xa.Read&&Boolean(this.state.recordInstanceId)&&Boolean(this.state.allowEdit)}isSaveButtonAvailable(){return this.state.isReadOnlyStateAvailable&&this.state.currentState===Xa.Edit}isSaveButtonDisabled(){return!this.canSave()}isCancelButtonAvailable(){return this.state.isReadOnlyStateAvailable&&this.state.currentState===Xa.Edit&&this.isInEditMode()}cancel(){if(this.state.isReadOnlyStateAvailable&&this.state.recordInstance){if(this.isDirty())return(0,o.defer)(()=>(0,o.from)(this.rxUtilityModalsService.confirmUnsavedChanges())).pipe((0,r.switchMap)(e=>e?(this.restoreRecordEditor(),this.setRecordEditorState(Xa.Read),o.EMPTY):(0,o.throwError)(null)));this.setRecordEditorState(Xa.Read)}return o.EMPTY}canSave(){return!!this.isInTemporaryMode()||!this.state.isSaving&&(this.isInCreateMode()||this.isDirty())}isConfigValid(){return!this.isInEditMode()||this.rxStringService.isNonEmptyString(this.state.recordInstanceId)}onSaveClick(){this.save().pipe((0,r.take)(1),(0,r.catchError)(e=>null===e?(0,o.of)(e):(0,o.throwError)(e))).subscribe()}onCancelClick(){this.cancel().subscribe()}initializeRecordInstance(){let e=o.EMPTY;return this.isConfigValid()?(this.state.isDataLoading=!0,e=this.getRecordInstance().pipe((0,r.tap)(e=>{this.setRecordInstance(e),this.setRecordDefinition(e.recordDefinition),this.updateSelectionFieldOptionNames(e)}),(0,r.switchMapTo)(o.EMPTY),(0,r.catchError)(e=>(o.asapScheduler.schedule(()=>{this.setRecordInstance(null),this.setRecordDefinition(null)}),(0,o.throwError)(e))),(0,r.finalize)(()=>{this.state.isDataLoading=!1}))):(""===this.state.recordInstanceId||(0,p.isNil)(this.state.recordInstanceId)||this.rxNotificationService.addErrorMessage(this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-editor.invalid-record-instance-id.message")),this.state.recordInstance&&(this.setRecordInstance(null),this.setRecordDefinition(null))),e}handleNoRecordFoundError(e){const t=this.rxRecordInstanceUtilsService.isNoRecordFoundError(e);return t&&(this.rxNotificationService.addWarningMessage(this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-editor.no-access-to-record.message")),this.runtimeViewModelApi.cancel(!0).subscribe()),(0,o.throwError)(t?null:e)}updateIsDirtyProperty(){const e=this.isDirty();this.state.isDirty!==e&&(this.state.isDirty=e,this.notifyPropertyChanged("isDirty",e))}updateCanSaveProperty(){const e=this.canSave();this.state.canSave!==e&&(this.state.canSave=e,this.notifyPropertyChanged("canSave",e))}setRecordInstance(e){(0,p.forEach)(this.associationManagers,e=>e.destroy()),this.associationInstances={},this.associationManagers={},e&&!e.associationInstances&&(e.associationInstances={},this.associationInstances=e.associationInstances),this.state.recordInstance=e,this.state.recordInstanceId=e&&e.id,e?this.syncRecordInstanceWithForm():this.state.form.clearAndReset(),this.notifyPropertyChanged("recordInstance",this.state.recordInstance),this.notifyPropertyChanged("recordInstanceId",this.state.recordInstanceId),this.updateIsDirtyProperty(),this.updateCanSaveProperty(),e&&this.recordInstanceChangedSubject.next()}getFieldInstanceControlValidator(e,t){return n=>this.state.recordInstance&&this.state.recordInstance.validateSingleField(e,n.value,t)}setRecordDefinition(e){e&&(this.isInBulkEditMode()&&(e=this.rxRecordDefinitionService.setFieldDefinitionsToOptional(e)),e.fieldDefinitionsById=this.rxRecordDefinitionService.buildFieldDefinitionsByIdMap(e)),this.state.recordDefinition=e,this.notifyPropertyChanged("recordDefinition",this.state.recordDefinition)}getRecordInstance(){return this.isInCreateMode()||this.isInTemporaryMode()?this.state.recordInstance?(this.state.recordInstance=this.state.recordInstance.getOriginalRecordInstance(),(0,o.of)(this.state.recordInstance)):this.rxRecordInstanceService.getNew(this.state.recordDefinitionName):this.isInBulkEditMode()?this.rxRecordInstanceService.getEmpty(this.state.recordDefinitionName):this.isInEditMode()?this.rxRecordInstanceService.get(this.state.recordDefinitionName,this.state.recordInstanceId):void 0}getAssociationInstances(e,t,n){const i=(0,p.compact)([t,n]).join(":");let o=(0,p.get)(this.associationInstances,[e,i]);return o||(o={existing:[],pending:[],deleted:[],extensions:[]},(0,p.set)(this.associationInstances,[e,i],o)),o}setRecordEditorState(e){this.state.currentState=e,this.notifyPropertyChanged("inReadState",e===Xa.Read)}isInCreateMode(){return this.state.mode===Ha.Create}isInBulkEditMode(){return this.state.mode===Ha.BulkEdit}isInEditMode(){return this.state.mode===Ha.Edit}isInTemporaryMode(){return this.state.mode===Ha.Temporary}isNewAttachment(e){return Boolean(this.state.recordInstance.fieldInstances[e].file)}updateSelectionFieldOptionNames(e){if(e&&(0,p.get)(this.state.recordDefinition,"fieldDefinitions")){const t=this.rxRecordEditorUtilsService.getSelectionFieldOptionNames(this.state.recordDefinition,e);(0,p.isEqual)(this.state.selectionFieldOptionNamesById,t)||this.notifyPropertyChanged("selectionFieldOptionNamesById",t)}}syncRecordInstanceWithForm(e){const t=this.state.form.getFieldIds(e);if(!(0,p.isEmpty)(t)){const n=t.reduce((t,n)=>(t[n]=this.state.recordInstance.getFieldValue(Number(n),e),t),{});this.state.form.resetFieldControls(n,e)}}restoreRecordEditor(){this.state.recordInstance.revertFieldInstances(),(0,p.forEach)(this.associationManagers,e=>e.restore()),this.syncRecordInstanceWithForm(),this.notifyPropertyChanged("recordInstance",this.state.recordInstance),this.updateIsDirtyProperty(),this.updateCanSaveProperty()}}al.\u0275fac=function(e){return new(e||al)(i["\u0275\u0275directiveInject"](s.RxRecordInstanceService),i["\u0275\u0275directiveInject"](s.RxRecordInstanceUpdateService),i["\u0275\u0275directiveInject"](u.TranslateService),i["\u0275\u0275directiveInject"](a.RxGlobalEventsService),i["\u0275\u0275directiveInject"](a.RxNotificationService),i["\u0275\u0275directiveInject"](s.RxRecordDefinitionService),i["\u0275\u0275directiveInject"](nl),i["\u0275\u0275directiveInject"](s.RxRecordInstanceUtilsService),i["\u0275\u0275directiveInject"](v.RxStringService),i["\u0275\u0275directiveInject"](a.RxLogService),i["\u0275\u0275directiveInject"](C.RxUtilityModalsService),i["\u0275\u0275directiveInject"](sl),i["\u0275\u0275directiveInject"](tl))},al.\u0275cmp=i["\u0275\u0275defineComponent"]({type:al,selectors:[["rx-record-editor"]],inputs:{config:"config",runtimeViewModelApi:"runtimeViewModelApi"},features:[i["\u0275\u0275ProvidersFeature"]([sl]),i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:3,consts:[["class","loader-container",4,"ngIf"],[4,"ngIf"],["class","clearfix",4,"ngIf"],[1,"loader-container"],[1,"loader-inline","mr-1"],[1,"clearfix"],[1,"d-flex","justify-content-end"],["class","py-0 mb-1","adapt-button","","size","small","btn-type","tertiary",3,"click",4,"ngIf"],["class","mr-1 mt-3","rx-id","save-button","adapt-button","","btn-type","primary","size","small",3,"disabled","click",4,"ngIf"],["class","mt-3","rx-id","cancel-button","adapt-button","","btn-type","secondary","size","small",3,"click",4,"ngIf"],["adapt-button","","size","small","btn-type","tertiary",1,"py-0","mb-1",3,"click"],["rx-id","save-button","adapt-button","","btn-type","primary","size","small",1,"mr-1","mt-3",3,"disabled","click"],["rx-id","cancel-button","adapt-button","","btn-type","secondary","size","small",1,"mt-3",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,ne,5,3,"div",0),i["\u0275\u0275template"](1,ie,3,3,"div",1),i["\u0275\u0275template"](2,ae,6,3,"div",2)),2&e&&(i["\u0275\u0275property"]("ngIf",t.state.isDataLoading&&!t.state.recordInstance),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(t.state.isDataLoading||t.isConfigValid()&&t.state.recordInstance)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.state.recordInstance&&t.isConfigValid()))},directives:[m.NgIf,f.RuntimeViewCanvasOutletComponent,h.AdaptButtonComponent],pipes:[u.TranslatePipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}[_nghost-%COMP%]{display:block;border:1px solid #d6d7d8;padding:1rem;position:relative}']});class ll{constructor(e){this.viewDefinitionParserService=e}adaptDefinition(e){const t=(0,p.get)(e,"propertiesByName");t.mode===Ha.Edit&&(0,p.isUndefined)(t.allowEdit)&&(t.allowEdit="1"),this.viewDefinitionParserService.getComponents(e).filter(e=>e.componentDefinition.type!==c.RxViewComponentType.ActionButton&&(e.componentDefinition.propertiesByName.hasOwnProperty("fieldId")||e.componentDefinition.type===c.RxViewComponentType.Association)).map(e=>e.componentDefinition).forEach(t=>{Object.assign(t.propertiesByName,{api:`\${view.components.${e.guid}.api}`,inReadState:`\${view.components.${e.guid}.inReadState}`,recordDefinition:`\${view.components.${e.guid}.recordDefinition}`,recordInstance:`\${view.components.${e.guid}.recordInstance}`})})}}function cl(e,t,n,i,o,r){return function(s){return new tl(s,e,t,n,i,o,r)}}ll.\u0275fac=function(e){return new(e||ll)(i["\u0275\u0275inject"](c.RxViewDefinitionParserService))},ll.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ll,factory:ll.\u0275fac});class dl{constructor(e,t){this.rxDefinitionAdapterRegistryService=e,this.recordEditorComponentDefinitionAdapterService=t,e.registerRuntimeAdapter(c.RxViewComponentType.RecordEditor,this.recordEditorComponentDefinitionAdapterService)}}dl.\u0275fac=function(e){return new(e||dl)(i["\u0275\u0275inject"](a.RxDefinitionAdapterRegistryService),i["\u0275\u0275inject"](ll))},dl.\u0275mod=i["\u0275\u0275defineNgModule"]({type:dl,declarations:[al],imports:[m.CommonModule,f.RuntimeViewCanvasModule,x.ReactiveFormsModule,h.AdaptButtonModule,C.RxModalModule,u.TranslateModule,h.AdaptAlertModule],exports:[al]}),dl.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[ll,nl,{provide:tl,useFactory:cl,deps:[w.RxAssociationInstanceDataPageService,s.RxRecordDefinitionCacheService,s.RxRecordInstanceUtilsService,s.RxRecordInstanceService,v.RxJsonParserService,w.RxAssociationDefinitionCacheService]}],imports:[[m.CommonModule,f.RuntimeViewCanvasModule,x.ReactiveFormsModule,h.AdaptButtonModule,C.RxModalModule,u.TranslateModule,h.AdaptAlertModule.forRoot()]]});class ul{constructor(){this.resourceTypeFieldTypeMap={},this.initResourceTypeFieldTypeMap()}getFieldTypeByFieldDefinition(e){return(0,p.isFunction)(this.resourceTypeFieldTypeMap[e.resourceType])?this.resourceTypeFieldTypeMap[e.resourceType](e):this.resourceTypeFieldTypeMap[e.resourceType]}initResourceTypeFieldTypeMap(){this.resourceTypeFieldTypeMap=Object.assign(Object.assign({},Ua.fieldTypes),{[s.RX_RECORD_DEFINITION.resourceTypes.character]:e=>e.namedListDefinition||(0,p.inRange)(e.maxLength,1,255)?c.RxViewComponentType.Character:c.RxViewComponentType.Textarea})}}ul.\u0275fac=function(e){return new(e||ul)},ul.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ul,factory:ul.\u0275fac,providedIn:"root"});const pl={actions:{associate:"associate",createAndAssociate:"createAndAssociate"},componentTypes:{associationFilter:"rx-association-filter",associatedRecordField:"rx-associated-record-field"}};var hl;!function(e){e.Dropdown="dropdown",e.Views="views"}(hl||(hl={}));class ml{ngOnInit(){this.maxFieldValueLength=this.config.maxFieldValueLength||200}isEditableState(){return this.config.state===Xa.Edit}}ml.\u0275fac=function(e){return new(e||ml)},ml.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ml,selectors:[["rx-record-preview-card"]],inputs:{config:"config"},decls:4,vars:2,consts:[[1,"rx-record-preview-card","d-flex","align-items-start","justify-content-between","w-100"],["tabindex","0",1,"rx-card-fields","d-flex","flex-column","list-unstyled","focusable","mb-0"],["class","d-flex rx-card-field",4,"ngFor","ngForOf"],["class","btn btn-link d-icon-cross p-0","adapt-button","","size","small","btn-type","tertiary",3,"click",4,"ngIf"],[1,"d-flex","rx-card-field"],["class","rx-card-field-label",4,"ngIf"],[4,"ngIf"],[1,"rx-card-field-value","px-1",3,"ngClass"],[1,"rx-card-field-label"],["adapt-button","","size","small","btn-type","tertiary",1,"btn","btn-link","d-icon-cross","p-0",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"ul",1),i["\u0275\u0275template"](2,ue,5,6,"li",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,pe,2,3,"button",3),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.config.fields),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isEditableState()))},directives:[m.NgForOf,m.NgIf,m.NgClass,h.AdaptButtonComponent],pipes:[u.TranslatePipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}[_nghost-%COMP%]{display:flex}.rx-record-preview-card[_ngcontent-%COMP%]{flex:1}.rx-card-field[_ngcontent-%COMP%]{flex:1;line-height:20px}.rx-card-field[_ngcontent-%COMP%]:not(:first-child){color:#959899}.rx-card-fields[_ngcontent-%COMP%]{flex:1;white-space:nowrap;min-width:0}.rx-card-field-label[_ngcontent-%COMP%]{flex-shrink:0;max-width:30%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.rx-card-field-value[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden}']});class fl extends f.BaseViewComponent{constructor(e,t,n,i,o,r){super(),this.datePipe=e,this.rxAssociationDefinitionService=t,this.rxAssociationInstanceDataPageService=n,this.rxRecordDefinitionInheritanceDataPageService=i,this.rxRecordInstanceDataPageService=o,this.rxRecordInstanceUtilsService=r,this.isDisabled=!1,this.api={associate:e=>{this.associationManager.addToPending(e,this.extractRolesConfig())}},this.modelToViewValueAdapterFunc=this.modelToViewValueAdapter.bind(this),this.optionLoaderFunc=this.getAssociationsOptionPage.bind(this),this.viewToModelValueAdapterFunc=this.viewToModelValueAdapter.bind(this),this.existingPreviewConfigurations=[],this.pendingPreviewConfigurations=[],this.selectedOptions=[],this.pendingPageSize=10,this.currentPendingCount=10,this.totalPendingCount=0,this.associationCandidateRecordInstances=[],this.fieldDefinitions={},this.fieldId=null,this.fields=[],this.inReadState=!1,this.label=null,this.recordDefinition=null,this.recordDefinitionName=null,this.useDefaultRoles=null,this.nodeARole=null,this.nodeBRole=null,this.formControl=new x.FormControl("",null),this.isHidden=!1}ngOnInit(){super.ngOnInit();const e=this.config.pipe((0,r.filter)(e=>Boolean(e.api&&e.recordDefinition)),(0,r.takeUntil)(this.destroyed$));e.pipe((0,r.take)(1)).subscribe(e=>{this.onConfigInitialized(e),this.onConfigUpdated(e)}),e.pipe((0,r.skip)(1)).subscribe(this.onConfigUpdated.bind(this)),this.notifyPropertyChanged("api",this.api),this.previewRolesConfig=this.extractRolesConfig()}ngAfterViewInit(){this.editingMode===hl.Dropdown&&this.formControl.valueChanges.pipe((0,r.distinctUntilChanged)(),(0,r.startWith)(this.formControl.value),(0,r.takeUntil)(this.destroyed$)).subscribe(()=>{this.updateSelectedOptions()})}onConfigInitialized(e){this.associationDefinitionName=e.associationDefinitionName,this.associatedRecordNodeSide=e.associatedRecordNodeSide,this.editingMode=e.editingMode||hl.Views,this.fieldId=e.fieldId,this.fields=e.fields,this.recordDefinition=e.recordDefinition,this.recordDefinitionName=e.recordDefinitionName,this.recordEditorApi=e.api,this.state=e.state,this.useDefaultRoles=e.useDefaultRoles,this.nodeARole=e.nodeARole,this.nodeBRole=e.nodeBRole,this.fieldId&&(this.fieldDefinition=e.recordDefinition.fieldDefinitions.find(e=>e.id===Number(this.fieldId)))}onConfigUpdated(e){var t;const n=Boolean(e.inReadState),i=Boolean(e.disabled)||this.permissionType===s.RX_RECORD_DEFINITION.fieldPermissionTypes.view;let a=!1;this.isHidden=Boolean(e.hidden),this.areActionsAvailable=!n&&this.editingMode===hl.Views,this.isDisabled!==i&&(this.isDisabled=i,a=!0),this.inReadState!==n&&(this.inReadState=n,a=!0),a&&this.existingPreviewConfigurations.length&&this.updatePreviewCardConfigState(),this.label=(0,p.isUndefined)(e.label)?null!==(t=this.fieldDefinition.name)&&void 0!==t?t:"":e.label,this.selectWithPaginationComponent&&this.associationFilter&&(0,p.get)(e,"associationFilter[0]")&&this.associationFilter.recordInstanceId!==e.associationFilter[0].recordInstanceId&&(this.recordEditorApi.isReady()&&this.deleteAllExisting(),this.deleteAllPending(),this.selectWithPaginationComponent.resetLoadedOptions(),this.associationCandidateRecordInstances=[],this.associationFilterNodeSide||this.rxAssociationDefinitionService.get(this.associationFilter.associationDefinitionName).pipe((0,r.switchMap)(e=>{if(e.nodeAId===this.recordDefinitionName)this.associationFilterNodeSide=w.RxAssociatedRecordNodeSide.NodeA;else{if(e.nodeBId!==this.recordDefinitionName)return this.rxRecordDefinitionInheritanceDataPageService.get({params:{recorddefinition:this.recordDefinitionName}}).pipe((0,r.tap)(t=>{const n=t.data;if((0,p.includes)(n,e.nodeAId))this.associationFilterNodeSide=w.RxAssociatedRecordNodeSide.NodeA;else{if(!(0,p.includes)(n,e.nodeBId))throw new Error("No matches for association definition node side within inheritance ancestors.");this.associatedRecordNodeSide=w.RxAssociatedRecordNodeSide.NodeB}}));this.associationFilterNodeSide=w.RxAssociatedRecordNodeSide.NodeB}return o.EMPTY})).subscribe()),this.associationFilter=(0,p.head)(e.associationFilter),e.recordInstance&&this.recordInstance!==e.recordInstance&&(this.recordInstance=e.recordInstance,this.isDisabled=!0,this.notifyPropertyChanged("isDisabled",this.isDisabled),this.recordEditorApi.notifyComponentReady(this.guid,!1),this.associationManager=this.getAssociationManager(),this.associationManager.initialize().pipe((0,r.delay)(0),(0,r.switchMap)(()=>this.associationManager.loadExistingAssociations()),(0,r.tap)(()=>{this.isDisabled=Boolean(e.disabled)||this.permissionType===s.RX_RECORD_DEFINITION.fieldPermissionTypes.view,this.notifyPropertyChanged("isDisabled",this.isDisabled),this.areActionsAvailable=!this.inReadState&&this.editingMode===hl.Views,this.editingMode===hl.Views&&(this.fieldDefinitions=(0,p.transform)(this.fields,(e,t)=>{const n=(0,p.find)(this.associationManager.recordDefinition.fieldDefinitions,{id:Number(t.fieldId)});e[n.id]=n},{})),this.associationManager.existing$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.onAssociationsChanged(e,"existingPreviewConfigurations"),this.updateTotalExistingAssociationsCount()}),this.associationManager.pending$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.onAssociationsChanged(e,"pendingPreviewConfigurations"),this.totalPendingCount=this.pendingPreviewConfigurations.length}),(0,o.combineLatest)([this.associationManager.pending$,this.associationManager.existing$]).pipe((0,r.take)(1)).subscribe(()=>{this.recordEditorApi.notifyComponentReady(this.guid,!0)})})).subscribe())}getAssociationManager(){const e=this.fieldId?[this.fieldId,s.RX_RECORD_DEFINITION.coreFieldIds.id]:(0,p.map)(this.fields,"fieldId");return this.recordEditorApi.getAssociationManager({associationDefinitionName:this.associationDefinitionName,associatedRecordNodeSide:this.associatedRecordNodeSide||w.RX_ASSOCIATION_DEFINITION.roles.second.value,associatedRecordInstanceId:this.recordInstance.id,recordDefinitionName:this.recordDefinitionName,fieldIds:e,rolesConfig:this.extractRolesConfig()})}getAssociationsOptionPage(e,t,n){const i={pageSize:t,startIndex:e,recorddefinition:this.recordDefinitionName,propertySelection:this.associationManager.getFieldIds()};let a;return this.associationFilter?this.associationFilter.recordInstanceId&&(i.associationDefinition=this.associationFilter.associationDefinitionName,i.associatedRecordInstanceId=this.associationFilter.recordInstanceId,i.nodeToQuery=this.associationFilterNodeSide,a=this.rxAssociationInstanceDataPageService):(i.sortBy=this.fieldId,n&&(i.queryExpression=`('${this.fieldId}' LIKE "%${this.rxRecordInstanceUtilsService.escapeTextWildcards(n)}%")`),a=this.rxRecordInstanceDataPageService),a?a.post({params:i}).pipe((0,r.map)(e=>(this.associationCandidateRecordInstances.push(...e.data),{totalSize:e.totalSize,options:e.data.map(e=>({displayValue:e[this.fieldId]||"",value:e[s.RX_RECORD_DEFINITION.coreFieldIds.id]}))}))):(0,o.of)({options:[],totalSize:0})}deleteAllExisting(){this.associationManager.deleteAllExisting()}deleteAllPending(){this.associationManager.deleteAllPending()}loadExistingAssociations(){this.associationManager.loadExistingAssociations().pipe((0,r.takeUntil)(this.destroyed$)).subscribe(()=>this.updateTotalExistingAssociationsCount())}isReadModeEnabled(){return this.inReadState}isEditModeEnabled(){return!this.inReadState}getAssociatedValue(){return(0,p.get)(this,"selectedOptions[0].displayValue")}viewToModelValueAdapter(e){return e.map(e=>e.value).join(";")}modelToViewValueAdapter(e){return e?(0,p.castArray)(this.selectedOptions):[]}resetDropdownSelection(){this.selectedOptions=[]}updatePreviewCardConfigState(){(0,p.forEach)(this.existingPreviewConfigurations,e=>{e.state=this.getStateForPreviewConfiguration()})}updateSelectedOptions(){if(this.formControl.value&&!(0,p.isNil)(this.formControl.value)){const e={id:this.formControl.value,fieldInstances:null},t=(0,p.find)(this.associationCandidateRecordInstances,function(t){return t[s.RX_RECORD_DEFINITION.coreFieldIds.id]===e.id});e.fieldInstances=(0,p.transform)(t,function(e,t,n){e[n]={value:t}},{}),this.associationManager.addToPending([e],null)}else this.deleteAllExisting(),this.deleteAllPending()}buildPreviewConfig(e,t,n){return{id:e.id,state:n,onDelete:e=>{this.associationManager.delete(e)},fields:(0,p.map)(t,t=>{const n=this.fieldDefinitions[t.fieldId],i=e.fieldInstances[t.fieldId];let o;return i&&(o=i.value),n.resourceType===s.RX_RECORD_DEFINITION.dataTypes.selection.resourceType&&(o=n.optionNamesById[o]),(n.resourceType===s.RX_RECORD_DEFINITION.dataTypes.dateTime.resourceType||n.resourceType===s.RX_RECORD_DEFINITION.dataTypes.dateOnly.resourceType&&(0,p.isString)(o))&&(o=this.datePipe.transform(o,"mediumDate")),{label:t.label,value:o||"<unknown>",index:t.index,fieldId:t.fieldId}})}}showPendingAssociations(){this.currentPendingCount+=this.pendingPageSize}getPendingPreviewConfigurations(){return this.pendingPreviewConfigurations.slice(0,this.currentPendingCount)}extractRolesConfig(){return{useDefaultRoles:this.useDefaultRoles,nodeARole:this.nodeARole,nodeBRole:this.nodeBRole}}updateTotalExistingAssociationsCount(){this.associationManager.totalExistingCount=(this.associationManager.remainingAssociatedRecordCount||0)+this.existingPreviewConfigurations.length}getStateForPreviewConfiguration(){return this.areActionsAvailable&&!this.isDisabled?Xa.Edit:Xa.Read}getFirstAssociationRecord(){return this.associationManager.existing[0]||this.associationManager.pending[0]||{}}onAssociationsChanged(e,t){var n;const i=this.getFirstAssociationRecord();if(this.notifyPropertyChanged("firstAssociatedRecord",{id:i.id||""}),this.editingMode===hl.Views){const n=e.filter(e=>(0,p.every)(this.previewRolesConfig,p.isEmpty)||(0,p.isEqual)(this.previewRolesConfig,e.rolesConfig));this[t]=this.rebuildPreviewConfigurations(n)}else this.editingMode===hl.Dropdown&&(i.id?this.selectedOptions=[{displayValue:null===(n=i.fieldInstances[this.fieldId])||void 0===n?void 0:n.value,value:i.id}]:this.resetDropdownSelection(),this.formControl.setValue(i.id))}rebuildPreviewConfigurations(e){const t=this.getStateForPreviewConfiguration();return(0,p.map)(e,e=>this.buildPreviewConfig(e,this.fields,t))}}fl.\u0275fac=function(e){return new(e||fl)(i["\u0275\u0275directiveInject"](m.DatePipe),i["\u0275\u0275directiveInject"](w.RxAssociationDefinitionService),i["\u0275\u0275directiveInject"](w.RxAssociationInstanceDataPageService),i["\u0275\u0275directiveInject"](s.RxRecordDefinitionInheritanceDataPageService),i["\u0275\u0275directiveInject"](s.RxRecordInstanceDataPageService),i["\u0275\u0275directiveInject"](s.RxRecordInstanceUtilsService))},fl.\u0275cmp=i["\u0275\u0275defineComponent"]({type:fl,selectors:[["rx-association"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](l.RxSelectWithPaginationComponent,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.selectWithPaginationComponent=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&i["\u0275\u0275classProp"]("rx-field-disabled",t.isDisabled)},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:2,consts:[[3,"label","value",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[3,"label","value"],[3,"ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"ngClass"],[3,"label",4,"ngIf"],[4,"ngIf"],[3,"label"],[4,"ngSwitchDefault"],["class","list-group",4,"ngIf"],[1,"list-group"],[1,"list-group-item",3,"config"],["class","list-group-item",3,"config",4,"ngFor","ngForOf"],["adapt-button","","size","small","btn-type","tertiary","type","button",3,"click",4,"ngIf"],["adapt-button","","size","small","btn-type","tertiary","type","button",3,"click"],["class","form-group",4,"ngIf"],["class","form-group mt-3",4,"ngIf"],[1,"form-group"],[1,"d-flex","justify-content-end","pb-1"],[1,"preview-count"],["adapt-button","","size","small","btn-type","tertiary","type","button",1,"btn","btn-link","py-0",3,"hidden","click"],[1,"form-group","mt-3"],[1,"d-flex","justify-content-between"],[1,"m-0"],[1,"d-flex","pb-1"],[3,"formControl","readonly","label","modelToViewValueAdapter","optionLoader","viewToModelValueAdapter"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,he,1,2,"rx-read-only-field",0),i["\u0275\u0275template"](1,Fe,3,3,"div",1)),2&e&&(i["\u0275\u0275property"]("ngIf",!t.isHidden&&t.isReadModeEnabled()&&(0===t.existingPreviewConfigurations.length||"dropdown"===t.editingMode)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.isHidden))},directives:[m.NgIf,C.ReadOnlyFieldComponent,m.NgSwitch,m.NgSwitchCase,m.NgClass,h.AdaptRxControlLabelComponent,f.RuntimeViewCanvasOutletComponent,m.NgSwitchDefault,ml,m.NgForOf,h.AdaptButtonComponent,l.RxSelectWithPaginationComponent,x.NgControlStatus,x.FormControlDirective],pipes:[u.TranslatePipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}[_nghost-%COMP%]{display:block}[_nghost-%COMP%]  rx-runtime-view-canvas-item-container{display:flex}[_nghost-%COMP%]  .rx-runtime-view-canvas-item-margin{margin-bottom:0}[_nghost-%COMP%]  rx-runtime-view-canvas-item+rx-runtime-view-canvas-item{margin-left:5px}[_nghost-%COMP%]  .read-state .form-control-label{font-weight:var(--font-weight-normal)}.rx-group-title[_ngcontent-%COMP%]{font-size:.8125rem;color:#959899;display:flex;align-items:center}.rx-preview-existing-head[_ngcontent-%COMP%]{margin-top:-30px}.rx-preview-count[_ngcontent-%COMP%]{font-size:.8125rem;color:#959899;vertical-align:middle}']});class gl{constructor(e){this.rxViewDefinitionParserService=e}adaptDefinition(e,t){const n=this.getTargetRecordEditorComponentDefinition(t,e),i=e.componentDefinitions.filter(e=>e.type===c.RxViewComponentType.ActionButton),o=(0,p.sortBy)(i,e=>e.propertiesByName.action===pl.actions.associate?0:1);e.propertiesByName.state=n.propertiesByName.mode,e.propertiesByName.useDefaultRoles="true"===e.propertiesByName.useDefaultRoles,e.propertiesByName.fields=(0,p.flow)(e=>(0,p.filter)(e,{type:pl.componentTypes.associatedRecordField}),e=>(0,p.map)(e,e=>({fieldId:e.propertiesByName.fieldId,label:e.propertiesByName.label,index:Number(e.propertiesByName.index)})),e=>(0,p.sortBy)(e,"index"))(e.componentDefinitions),e.layout=JSON.stringify({outlets:[{name:"DEFAULT",columns:[{children:o.map(e=>e.guid)}]}]}),e.componentDefinitions.filter(e=>e.type===c.RxViewComponentType.ActionButton).forEach(t=>{t.propertiesByName.disabled=e.propertiesByName.disabled+" OR ${view.components."+e.guid+".isDisabled}"})}getTargetRecordEditorComponentDefinition(e,t){return this.rxViewDefinitionParserService.findParentComponentDefinition(e,t,e=>e.type===c.RxViewComponentType.RecordEditor)}}gl.\u0275fac=function(e){return new(e||gl)(i["\u0275\u0275inject"](c.RxViewDefinitionParserService))},gl.\u0275prov=i["\u0275\u0275defineInjectable"]({token:gl,factory:gl.\u0275fac});class vl{constructor(e,t){this.rxAssociationDefinitionAdapterService=e,this.rxDefinitionAdapterRegistryService=t,this.rxDefinitionAdapterRegistryService.registerRuntimeAdapter(c.RxViewComponentType.Association,this.rxAssociationDefinitionAdapterService)}}vl.\u0275fac=function(e){return new(e||vl)(i["\u0275\u0275inject"](gl),i["\u0275\u0275inject"](a.RxDefinitionAdapterRegistryService))},vl.\u0275mod=i["\u0275\u0275defineNgModule"]({type:vl,declarations:[fl,ml],imports:[h.AdaptButtonModule,h.AdaptRxFormControlModule,m.CommonModule,x.FormsModule,C.ReadOnlyFieldModule,x.ReactiveFormsModule,f.RuntimeViewCanvasModule,l.RxSelectWithPaginationModule,u.TranslateModule]}),vl.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[m.DatePipe,gl],imports:[[h.AdaptButtonModule,h.AdaptRxFormControlModule,m.CommonModule,x.FormsModule,C.ReadOnlyFieldModule,x.ReactiveFormsModule,f.RuntimeViewCanvasModule,l.RxSelectWithPaginationModule,u.TranslateModule]]});class yl extends C.RxModalClass{constructor(e,t,n,i){super(n,i),this.rxStringService=e,this.rxGuidService=t,this.activeModalRef=n,this.injector=i,this.availableFieldTreeNodes=[],this.canSave=!1,this.selectedFields=[],this.treeWrap=h.TreeWrap.WrapAll,this.config=this.activeModalRef.getData()}isDirty(){return this.canSave}ngOnInit(){super.ngOnInit(),this.fieldLabelsMap=(0,p.transform)(this.config.fields,(e,t)=>{e[t.id]=t.name},{}),this.availableFieldTreeNodes=this.config.fields.map(e=>({data:e,label:e.name})).sort((e,t)=>e.label.localeCompare(t.label)),this.selectedFields=(0,p.map)(this.config.selectedFields,e=>{const t=this.config.fields.find(t=>t.id===Number(e.data.fieldId));return Object.assign(Object.assign({},e),{labelText:e.data.label,indexOrder:Number(e.data.index),descriptor:t,isOpen:e===this.config.fieldToEdit})}),this.refreshFieldDescriptorsList()}addField(e){this.canSave=!0,this.selectedFields.push({guid:this.rxGuidService.generate(),data:{fieldId:String(e.id),label:e.name,index:String(this.selectedFields.length)},descriptor:e,labelText:e.name,indexOrder:this.selectedFields.length,isOpen:!0}),this.refreshFieldDescriptorsList()}onSelectedFieldsListDrop(e){this.addField(e.item.data)}onSave(){const e=this.selectedFields.map(e=>({guid:e.guid,type:"rx-associated-record-field",data:{fieldId:e.data.fieldId,index:String(e.indexOrder),label:e.labelText}}));this.activeModalRef.close(e)}onRemove(e){this.canSave=!0,(0,p.pull)(this.selectedFields,e),this.refreshFieldDescriptorsList()}onMoveUp(e,t){this.canSave=!0;const n=this.selectedFields[t-1];n&&(n.indexOrder++,e.indexOrder--,this.sortFields())}onMoveDown(e,t){this.canSave=!0;const n=this.selectedFields[t+1];n&&(n.indexOrder--,e.indexOrder++,this.sortFields())}toggleOpen(e){this.selectedFields.forEach(t=>t.isOpen=e)}sortFields(){this.selectedFields=(0,p.sortBy)(this.selectedFields,e=>e.indexOrder)}refreshFieldDescriptorsList(){const e=this.selectedFields.map(e=>String(e.data.fieldId));this.filteredFieldDescriptors=this.config.fields.filter(t=>!(0,p.includes)(e,String(t.id))).sort((e,t)=>e.name.localeCompare(t.name))}cancel(){this.activeModalRef.dismiss(h.DismissReasons.CLOSE_BTN)}}yl.\u0275fac=function(e){return new(e||yl)(i["\u0275\u0275directiveInject"](v.RxStringService),i["\u0275\u0275directiveInject"](v.RxGuidService),i["\u0275\u0275directiveInject"](h.ActiveModalRef),i["\u0275\u0275directiveInject"](i.Injector))},yl.\u0275cmp=i["\u0275\u0275defineComponent"]({type:yl,selectors:[["rx-association-record-field-selector-editor-dialog"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:18,vars:14,consts:[[1,"designer-modal-body","modal-body","d-flex","mh-100"],[1,"row","flex-grow-1","w-100"],["class","col-4 border-right d-flex flex-column mh-100",4,"ngIf"],[1,"d-flex","align-items-start","justify-content-between"],[1,"mt-2"],["class","btn-group",4,"ngIf"],["id","selected-fields","cdkDropList","",1,"designer-modal-accordion-wrapper",3,"cdkDropListDropped"],[3,"multiselect"],["class","designer-modal-accordion-content","cdkDrag","","cdkDragLockAxis","y",3,"cdkDragDisabled",4,"ngFor","ngForOf"],["class","d-flex justify-content-center h-100 align-items-center mt-2",4,"ngIf"],[1,"modal-footer"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click",4,"ngIf"],["adapt-button","","btn-type","secondary","type","button","rx-id","cancel-button",3,"click"],[1,"col-4","border-right","d-flex","flex-column","mh-100"],[1,"rx-card","card","flex-grow-1","mt-2"],[1,"card-block"],["cdkDropList","","cdkDropListSortingDisabled","",3,"cdkDropListConnectedTo",4,"ngIf","ngIfElse"],["adaptTreeEmptyStateTemplate",""],["cdkDropList","","cdkDropListSortingDisabled","",3,"cdkDropListConnectedTo"],["filter","true",3,"value","wrap"],["adaptTreeNodeTemplate",""],["class","rx-tree-draggable-node","cdkDrag","",3,"cdkDragData",4,"ngIf"],["cdkDrag","",1,"rx-tree-draggable-node",3,"cdkDragData"],[3,"dblclick"],["type","button",1,"rx-button-unstyled","d-icon-plus_circle",3,"click"],[1,"rx-tree-node-label","ml-3"],[1,"d-flex","justify-content-center","h-100","align-items-center","mt-2"],["label","No fields found","type","search",1,"w-100"],[1,"btn-group"],["adapt-button","","btn-type","tertiary","type","button","rx-id","expand-all-button",3,"click"],["adapt-button","","btn-type","tertiary","type","button","rx-id","collapse-all-button",3,"click"],["cdkDrag","","cdkDragLockAxis","y",1,"designer-modal-accordion-content",3,"cdkDragDisabled"],[1,"d-block",3,"isOpen","open","close"],[1,"card-title-text","w-100"],[1,"designer-modal-card-title-content"],[1,"left-header-block","pl-0"],["rx-id","card-title",1,"rx-ellipsis",3,"title"],["class","right-header-block",4,"ngIf"],["label","Label",1,"text-aria-resize",3,"ngModel","ngModelChange"],[1,"right-header-block"],[1,"designer-modal-card-title-index-buttons"],["type","button","rx-id","move-down-button",1,"d-icon-left-triangle_down","rx-button-unstyled",3,"disabled","click"],["type","button","rx-id","move-up-button",1,"d-icon-left-triangle_up","rx-button-unstyled",3,"disabled","click"],["adapt-button","","size","small","type","button","rx-id","remove-button",1,"d-icon-left-cross_adapt","p-1","pr-4","ml-3",3,"click"],["label","No fields selected","type","config",1,"w-100"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275template"](2,Be,9,2,"div",2),i["\u0275\u0275elementStart"](3,"div"),i["\u0275\u0275elementStart"](4,"div",3),i["\u0275\u0275elementStart"](5,"h4",4),i["\u0275\u0275text"](6,"Selected fileds"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](7,Ge,7,6,"div",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",6),i["\u0275\u0275listener"]("cdkDropListDropped",function(e){return t.onSelectedFieldsListDrop(e)}),i["\u0275\u0275elementStart"](9,"adapt-accordion",7),i["\u0275\u0275template"](10,$e,9,6,"div",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](11,Ue,2,0,"div",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",10),i["\u0275\u0275template"](13,He,3,4,"button",11),i["\u0275\u0275elementStart"](14,"button",12),i["\u0275\u0275listener"]("click",function(){return t.cancel()}),i["\u0275\u0275text"](15),i["\u0275\u0275pipe"](16,"translate"),i["\u0275\u0275pipe"](17,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275classMapInterpolate1"]("d-flex flex-column mh-100 ",t.config.isReadOnly?"col":"col-8",""),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",t.selectedFields.length),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("multiselect",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.selectedFields),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.selectedFields.length),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.config.isReadOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.config.isReadOnly?i["\u0275\u0275pipeBind1"](16,10,"com.bmc.arsys.rx.client.common.close.label"):i["\u0275\u0275pipeBind1"](17,12,"com.bmc.arsys.rx.client.common.cancel.label")," "))},directives:[m.NgIf,b.CdkDropList,h.AdaptAccordionComponent,m.NgForOf,h.AdaptButtonComponent,h.AdaptTreeComponent,h.AdaptTreeNodeTemplateDirective,b.CdkDrag,h.AdaptEmptyStateComponent,h.AdaptAccordionTabComponent,h.AdaptRxTextfieldComponent,x.NgControlStatus,x.NgModel],pipes:[u.TranslatePipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.designer-modal-body[_ngcontent-%COMP%]{height:645px;min-height:calc(100% - 61px)!important}.designer-modal-accordion-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:auto;padding-top:10px}.designer-modal-accordion-content[_ngcontent-%COMP%]{position:relative}.designer-modal-accordion-content.cdk-drag-preview[_ngcontent-%COMP%]{z-index:1200!important}.designer-modal-drag-handle[_ngcontent-%COMP%]{cursor:move;position:absolute;top:0;left:0;height:46px;padding:14px 10px 14px 14px;z-index:1}.designer-modal-card-title-content[_ngcontent-%COMP%]{width:100%;display:flex}.designer-modal-card-title-content[_ngcontent-%COMP%]   .left-header-block[_ngcontent-%COMP%], .designer-modal-card-title-content[_ngcontent-%COMP%]   .right-header-block[_ngcontent-%COMP%]{display:flex;align-items:center}.designer-modal-card-title-content[_ngcontent-%COMP%]   .left-header-block[_ngcontent-%COMP%]{flex-grow:1;min-width:0;font-size:14px;padding-left:22px}.designer-modal-card-sub-title[_ngcontent-%COMP%]{color:#7c7f81;font-weight:normal}.designer-modal-card-title-index-buttons[_ngcontent-%COMP%]{display:flex;font-size:19px}.rx-card[_ngcontent-%COMP%]{overflow:auto}.rx-tree-draggable-node[_ngcontent-%COMP%]{cursor:pointer}.rx-tree-draggable-node.cdk-drag-preview[_ngcontent-%COMP%]{z-index:1200!important}.rx-tree-draggable-node.cdk-drag[_ngcontent-%COMP%]{opacity:1}.rx-tree-node-label[_ngcontent-%COMP%]{word-break:break-all}rx-form-builder[_ngcontent-%COMP%]{max-width:400px}']});class bl extends l.ValueAccessor{constructor(e,t){super(),this.rxModalService=e,this.renderer=t,this.selectedFields=[]}focus(){this.renderer.selectRootElement(this.openModalButton.nativeElement,!0).click()}openFieldSelector(e){this.rxModalService.openModal({title:this.options.label,data:{fields:this.options.fields,selectedFields:this.value,fieldToEdit:e,isReadOnly:this.isDisabled},content:yl}).then(e=>{this.value=e}).catch(p.noop)}onSetValue(){this.updateSortedFieldList()}onWriteValue(e){this.updateSortedFieldList()}removeField(e){this.value=this.value.filter(t=>t.guid!==e)}editField(e){this.openFieldSelector(e)}updateSortedFieldList(){this.selectedFields=(0,p.sortBy)(this.value,e=>Number(e.data.index)).map(e=>Object.assign(Object.assign({},e),{label:this.options.fields.find(t=>t.id===Number(e.data.fieldId)).name}))}}bl.\u0275fac=function(e){return new(e||bl)(i["\u0275\u0275directiveInject"](C.RxModalService),i["\u0275\u0275directiveInject"](i.Renderer2))},bl.\u0275cmp=i["\u0275\u0275defineComponent"]({type:bl,selectors:[["rx-association-record-field-selector-form-control"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](Z,7,i.ElementRef),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.openModalButton=e.first)}},inputs:{options:"options"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:x.NG_VALUE_ACCESSOR,useExisting:bl,multi:!0}]),i["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:3,consts:[["adapt-button","","type","button","btn-type","tertiary",1,"px-0","py-0",3,"disabled","click"],["openModalButton",""],["name","plus_circle",1,"mr-1"],["class","list-unstyled mb-0 mt-2",4,"ngIf"],[1,"list-unstyled","mb-0","mt-2"],["class","border px-2 py-1 mb-1 d-flex align-items-center",4,"ngFor","ngForOf"],[1,"border","px-2","py-1","mb-1","d-flex","align-items-center"],[1,"mr-auto"],["adapt-button","","btn-type","tertiary","size","small","type","button",1,"d-icon-left-pencil","p-1",3,"disabled","click"],["adapt-button","","btn-type","tertiary","size","small","type","button",1,"d-icon-left-cross_adapt","p-1",3,"disabled","click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"button",0,1),i["\u0275\u0275listener"]("click",function(){return t.openFieldSelector()}),i["\u0275\u0275element"](2,"adapt-icon",2),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,We,2,1,"ul",3)),2&e&&(i["\u0275\u0275property"]("disabled",t.isDisabled),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",t.options.label,"\n"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.selectedFields.length>0))},directives:[h.AdaptButtonComponent,h.AdaptIconComponent,m.NgIf,m.NgForOf],encapsulation:2});class xl{}xl.\u0275fac=function(e){return new(e||xl)},xl.\u0275mod=i["\u0275\u0275defineNgModule"]({type:xl,declarations:[yl],imports:[m.CommonModule,h.AdaptRxSearchModule,h.AdaptButtonModule,h.AdaptAccordionModule,x.FormsModule,h.AdaptRxTextfieldModule,b.DragDropModule,h.AdaptTreeModule,h.AdaptEmptyStateModule,u.TranslateModule],exports:[yl]}),xl.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptRxSearchModule,h.AdaptButtonModule,h.AdaptAccordionModule,x.FormsModule,h.AdaptRxTextfieldModule,b.DragDropModule,h.AdaptTreeModule,h.AdaptEmptyStateModule,u.TranslateModule]]});class wl{}wl.\u0275fac=function(e){return new(e||wl)},wl.\u0275mod=i["\u0275\u0275defineNgModule"]({type:wl,declarations:[bl],imports:[m.CommonModule,x.FormsModule,h.AdaptButtonModule,h.AdaptIconModule,xl],exports:[bl]}),wl.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,x.FormsModule,h.AdaptButtonModule,h.AdaptIconModule,xl]]});class Cl{constructor(e,t,n,i){this.rxRecordDefinitionCacheService=e,this.rxAssociationDefinitionDataPageService=t,this.rxGuidService=n,this.rxDefinitionNameService=i}getDropdownModeInspectorControls(e,t){return[{name:"fieldId",component:l.SelectFormControlComponent,options:{label:"Field to display",options:e?e.filter(e=>[s.RX_RECORD_DEFINITION.resourceTypes.character,s.RX_RECORD_DEFINITION.resourceTypes.localizedCharacter].includes(e.resourceType)).map(e=>({id:String(e.id),name:e.name})):[],emptyOption:!0,required:!0}},{name:"filterByAssociation",component:l.SelectFormControlComponent,options:{label:"Filter by association",options:t?t.map(e=>({id:e.name,name:this.rxDefinitionNameService.getDisplayName(e.name)})):[],emptyOption:!0}}]}getDisplayedFieldsControl(e){return{name:"displayedFields",component:bl,options:{label:"Show/Hide fields",fields:e,required:!0}}}getRecordIdControl(){return{name:"recordId",component:l.ExpressionInspectorControlComponent,options:{label:"Record ID",isRequired:!0}}}getUseDefaultRolesControl(){return{name:"useDefaultRoles",component:l.SwitchFormControlComponent,options:{label:"Use default roles"}}}getNodeABRoleControls(){return[{name:"nodeARole",component:l.ExpressionInspectorControlComponent,options:{label:"First record role"}},{name:"nodeBRole",component:l.ExpressionInspectorControlComponent,options:{label:"Second record role"}}]}getViewModeInspectorControls(){return[{name:"viewDefinitionNameForSelect",component:l.RxDefinitionPickerComponent,options:{label:"View for selecting associated records",definitionType:l.RxDefinitionPickerType.View,required:!0}},{name:"viewDefinitionNameForCreate",component:l.RxDefinitionPickerComponent,options:{label:"View for creating associated records",definitionType:l.RxDefinitionPickerType.View}}]}getInitialInspectorControls(e){return[{name:"label",component:l.TextFormControlComponent,options:{label:"Display label"}},(0,d.getDisabledFieldInspectorConfig)(),...(0,d.getStandardPropsInspectorConfigs)()]}getInitialProperties(){return Object.assign(Object.assign({associatedRecordNodeSide:"",associationDefinitionName:"",displayedFields:[],editingMode:hl.Views,fieldId:null,filterByAssociation:"",label:null,nodeARole:"",nodeBRole:"",recordDefinition:"",recordDefinitionName:"",recordId:"",recordInstance:"",useDefaultRoles:!0,viewDefinitionNameForCreate:"",viewDefinitionNameForSelect:""},c.RX_DISABLED_PROP_DEFAULT_VALUE),c.RX_STANDARD_PROPS_DEFAULT_VALUES)}getActionButtonDefinition(e,t,n){return{type:c.RxViewComponentType.ActionButton,guid:this.rxGuidService.generate(),propertiesByName:{labelKey:t===pl.actions.associate?"com.bmc.arsys.rx.client.view-components.record-editor.association.button.associate.label":"com.bmc.arsys.rx.client.view-components.record-editor.association.button.create-new.label",style:"secondary",action:t},children:[{guid:this.rxGuidService.generate(),type:c.RxViewComponentType.Action,propertiesByName:{name:"rxAvcAssociate",associationViewComponent:`\${view.components.${n}.api}`,viewDefinitionName:t===pl.actions.associate?e.viewDefinitionNameForSelect:e.viewDefinitionNameForCreate}}],insertIndex:t===pl.actions.associate?0:1}}isCardinalityOne(e,t){const n=t.find(t=>t.name===e.associationDefinitionName);return Boolean(n&&(n.cardinality===w.RX_ASSOCIATION_DEFINITION.cardinality.oneToOne.value||n.cardinality===w.RX_ASSOCIATION_DEFINITION.cardinality.oneToMany.value&&e.associatedRecordNodeSide===w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.value))}getAvailableAssociations(e,t){const n={headers:{"default-bundle-scope":""},params:{firstRecordDefinitionName:e,secondRecordDefinitionName:t,requireDependent:!0}};return this.rxAssociationDefinitionDataPageService.get(n).pipe((0,r.map)(e=>e.data))}getRecordDefinition(e){return this.rxRecordDefinitionCacheService.getRecordDefinition(e)}getFieldsInChildComponentsWithNames(e,t){return e.reduce((e,n)=>{const i=t.find(e=>e.id===Number(n.data.fieldId));return e.push(Object.assign(Object.assign({},n),{data:Object.assign(Object.assign({},n.data),{name:i?i.name:n.data.label})})),e},[])}cleanEditingModeDependentData(e){e.editingMode===hl.Dropdown?(e.viewDefinitionNameForSelect=null,e.viewDefinitionNameForCreate=null,e.displayedFields=[]):(e.filterByAssociation=null,e.recordId=null,e.fieldId=null)}getNodeSideOptions(e){return e.nodeAId===e.nodeBId?[{id:w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.value,name:e.nodeAName||w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.defaultName},{id:w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value,name:e.nodeBName||w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.defaultName}]:[]}resetRolesData(e){e.useDefaultRoles=!1,e.nodeARole=null,e.nodeBRole=null}validate(e,t,n,i){const o=[];return t.recordDefinitionName||o.push(e.createError("Record definition to associate cannot be blank.","recordDefinitionName")),t.recordDefinitionName&&!t.associationDefinitionName&&o.push(e.createError("Association to Use cannot be blank.","associationDefinitionName")),t.associationDefinitionName&&(n.nodeAId!==n.nodeBId||t.associatedRecordNodeSide||o.push(e.createError("Associated Record Node Side cannot be blank.","fieldId"))),t.editingMode!==hl.Views&&t.editingMode?t.editingMode===hl.Dropdown&&(t.filterByAssociation&&!i.recordId&&o.push(e.createError("Record ID cannot be blank.","recordId")),t.fieldId||o.push(e.createError("Field to display cannot be blank.","fieldId"))):(t.recordDefinitionName&&0===i.displayedFields.length&&o.push(e.createError("Preview Fields cannot be empty.","displayedFields")),t.viewDefinitionNameForSelect||o.push(e.createError("View for selecting associated records cannot be blank.","viewDefinitionNameForSelect"))),o.push(...(0,d.validateStandardProps)(t)),o}}Cl.\u0275fac=function(e){return new(e||Cl)(i["\u0275\u0275inject"](s.RxRecordDefinitionCacheService),i["\u0275\u0275inject"](w.RxAssociationDefinitionDataPageService),i["\u0275\u0275inject"](v.RxGuidService),i["\u0275\u0275inject"](a.RxDefinitionNameService))},Cl.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Cl,factory:Cl.\u0275fac});class _l extends d.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.rxAssociationDefinitionCacheService=this.injector.get(w.RxAssociationDefinitionCacheService),this.rxGuidService=this.injector.get(v.RxGuidService),this.rxDefinitionNameService=this.injector.get(a.RxDefinitionNameService),this.associationDesignHelperService=this.injector.get(Cl),this.updateInspector$=new o.Subject,this.childComponents$=this.sandbox.getChildComponentsTree(),this.associationChildComponentsData$=this.getChildComponentsData(),this.associationDefinitions=[],this.associationDefinitionFilters=[],this.recordDefinitionFields=[],this.associatedRecordNodeSide=[],this.isManyToManyAssociation=!1,this.editingMode$=this.sandbox.getComponentPropertyValue("editingMode"),this.label$=this.sandbox.getComponentPropertyValue("label"),this.updateInspector$.pipe((0,r.distinctUntilChanged)(p.isEqual),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>{this.sandbox.updateInspectorConfig(e)});const n=t.getComponentPropertyValue("recordDefinitionName").pipe((0,r.switchMap)(e=>e?this.updateRecordDefinitionFields(e):(0,o.of)([])));this.displayedFields$=(0,o.combineLatest)([this.sandbox.getChildComponents(e=>e.type===pl.componentTypes.associatedRecordField),n]).pipe((0,r.map)(([e,t])=>this.associationDesignHelperService.getFieldsInChildComponentsWithNames(e,t))),this.recordEditorGuid$=this.sandbox.getParentComponentGuid(c.RxViewComponentType.RecordEditor).pipe((0,r.take)(1)),this.otherAssociationRecordEditorComponentGuids$=this.recordEditorGuid$.pipe((0,r.map)(e=>this.sandbox.getComponentModel(e)),(0,r.switchMap)(e=>e.associationComponentGuids$.pipe((0,r.map)(e=>e.filter(e=>e!==this.sandbox.guid)))),(0,r.shareReplay)(1),(0,r.takeUntil)(this.sandbox.destroyed$)),this.recordDefinitionNameFromHostRecordEditor$=this.recordEditorGuid$.pipe((0,r.switchMap)(e=>this.sandbox.getComponentPropertyValue("recordDefinitionName",e)),(0,r.shareReplay)(1)),this.recordDefinitionNameFromHostRecordEditor$.pipe((0,r.switchMap)(e=>e?(0,o.combineLatest)([this.sandbox.componentProperties$,this.associationChildComponentsData$]).pipe((0,r.switchMap)(([t,n])=>{const i=e?this.generateInitialUpdateParameters(t):[];return(i.length>0?(0,o.combineLatest)(i):(0,o.of)(null)).pipe((0,r.map)(()=>({componentProperties:Object.assign(Object.assign({},n),t),recordDefinitionRecordEditorName:e})))}),(0,r.take)(1)):(0,o.of)({componentProperties:null,recordDefinitionRecordEditorName:null})),(0,r.withLatestFrom)(this.recordEditorGuid$),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([{componentProperties:e,recordDefinitionRecordEditorName:t},n])=>{const i=this.associationDesignHelperService.getInitialProperties(),o=Object.assign(Object.assign(Object.assign({},i),e),{useDefaultRoles:Boolean("true"===(null==e?void 0:e.useDefaultRoles))});this.recordEditorGuid=n,this.sandbox.updateComponentProperties(o),this.updateInspector$.next(this.getInspectorConfig(o,t,n))});const i=this.childComponents$.pipe((0,r.map)(e=>e.map(e=>e.guid)));this.sandbox.getComponentPropertyValue("recordDefinitionName").pipe((0,r.skip)(1),(0,r.withLatestFrom)(i),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([e,t])=>{this.sandbox.updateComponentProperties({recordDefinitionName:e,label:null,associationDefinitionName:null,associatedRecordNodeSide:null,editingMode:hl.Views,viewDefinitionNameForSelect:null,viewDefinitionNameForCreate:null,fieldId:null,useDefaultRoles:!1,nodeARole:null,nodeBRole:null,displayedFields:[],filterByAssociation:null,recordId:null}),this.sandbox.removeComponents(t)}),this.sandbox.getComponentPropertyValue("recordDefinitionName").pipe((0,r.skip)(1),(0,r.concatMapTo)(this.sandbox.componentProperties$),(0,r.concatMap)(e=>(0,o.combineLatest)([this.updateAssociationDefinitionsOptions(e.recordDefinitionName),this.updateRecordDefinitionFields(e.recordDefinitionName),this.updateAssociationDefinitionsFilterOptions(e.recordDefinitionName),this.updateAssociationNodeSideOptions(e.associationDefinitionName),this.updatePreviousDropdownFieldDefinition(e.recordDefinitionName,e.fieldId)]).pipe((0,r.take)(1),(0,r.mapTo)(e))),(0,r.withLatestFrom)(this.recordDefinitionNameFromHostRecordEditor$,this.recordEditorGuid$),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([e,t,n])=>{this.updateInspector$.next(this.getInspectorConfig(e,t,n))}),this.sandbox.getComponentPropertyValue("editingMode").pipe((0,r.skip)(1),(0,r.withLatestFrom)(i),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([e,t])=>{this.sandbox.updateComponentProperties({editingMode:e,viewDefinitionNameForSelect:null,viewDefinitionNameForCreate:null,fieldId:null,useDefaultRoles:!1,nodeARole:null,nodeBRole:null,displayedFields:[],filterByAssociation:null,recordId:null}),this.sandbox.removeComponents(t)}),this.sandbox.componentProperties$.pipe((0,r.skip)(1),(0,r.pairwise)(),(0,r.withLatestFrom)(this.childComponents$),(0,r.switchMap)(([[e,t],n])=>{const i=Object.assign({},t),s=[];switch(!0){case e.viewDefinitionNameForSelect!==t.viewDefinitionNameForSelect:this.updateChildActionButtonDefinition(t,n,pl.actions.associate);break;case e.viewDefinitionNameForCreate!==t.viewDefinitionNameForCreate:this.updateChildActionButtonDefinition(t,n,pl.actions.createAndAssociate);break;case e.filterByAssociation!==t.filterByAssociation:case e.recordId!==t.recordId:const o=n.find(e=>e.type===pl.componentTypes.associationFilter);this.updateAssociationFilterComponent(t,o);break;case!(0,p.isEqual)(e.displayedFields,t.displayedFields):this.updateComponentRecordFields(t.displayedFields,n);break;case e.associationDefinitionName!==t.associationDefinitionName:i.editingMode=hl.Views,this.associationDesignHelperService.cleanEditingModeDependentData(i),t.associationDefinitionName?s.push(this.rxAssociationDefinitionCacheService.getAssociationDefinition(t.associationDefinitionName).pipe((0,r.map)(e=>{i.associatedRecordNodeSide=e.nodeAId===t.recordDefinitionName?w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.value:w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value,this.setIsManyToManyAssociation(e),this.sandbox.updateComponentProperties(i),this.isManyToManyAssociation&&this.associationDesignHelperService.resetRolesData(i)}))):this.isManyToManyAssociation=!1,s.push(this.updateAssociationNodeSideOptions(t.associationDefinitionName));break;case e.associatedRecordNodeSide!==t.associatedRecordNodeSide:i.editingMode=hl.Views,this.associationDesignHelperService.cleanEditingModeDependentData(i);break;case e.useDefaultRoles!==t.useDefaultRoles:!0===t.useDefaultRoles&&(i.nodeARole=null,i.nodeBRole=null);break;case e.nodeARole!==t.nodeARole||e.nodeBRole!==t.nodeBRole:(0,p.isUndefined)(t.useDefaultRoles)?(0,p.defaults)(i,{nodeARole:null,nodeBRole:null,useDefaultRoles:!1}):i.useDefaultRoles=!1}return(s.length>0?(0,o.combineLatest)(s):(0,o.of)(null)).pipe((0,r.map)(e=>({parameters:e,componentProperties:i})),(0,r.withLatestFrom)(this.recordDefinitionNameFromHostRecordEditor$,this.recordEditorGuid$))}),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([{parameters:e,componentProperties:t},n,i])=>{const o=this.associationDesignHelperService.getInitialProperties();this.recordEditorGuid=i,this.updateInspector$.next(this.getInspectorConfig(Object.assign(Object.assign({},o),t),n,i))}),this.sandbox.getComponentPropertyValue("fieldId").pipe((0,r.map)(e=>(0,p.isNil)(e)?null:e),(0,r.distinctUntilChanged)(),(0,r.pairwise)()).pipe((0,r.withLatestFrom)(this.sandbox.componentProperties$),(0,r.filter)(([e,t])=>Boolean(t.editingMode===hl.Dropdown)),(0,r.switchMap)(([[e,t],n])=>this.associationDesignHelperService.getRecordDefinition(n.recordDefinitionName).pipe((0,r.map)(i=>{var o,r;const s=null===(o=i.fieldDefinitions.find(t=>t.id===Number(e)))||void 0===o?void 0:o.name,a=null===(r=i.fieldDefinitions.find(e=>e.id===Number(t)))||void 0===r?void 0:r.name;return n.label&&s!==n.label?n.label:a}))),(0,r.distinctUntilChanged)(),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>{this.sandbox.updateComponentProperties({label:e})}),(0,o.combineLatest)([this.sandbox.componentProperties$,this.associationChildComponentsData$.pipe((0,r.distinctUntilChanged)(p.isEqual))]).pipe((0,r.switchMap)(([e,t])=>(e.associationDefinitionName?this.rxAssociationDefinitionCacheService.getAssociationDefinition(e.associationDefinitionName):(0,o.of)({})).pipe((0,r.map)(n=>this.associationDesignHelperService.validate(this.sandbox,e,n,t)))),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>{this.sandbox.setValidationIssues(e)}),(0,o.combineLatest)([this.label$,this.sandbox.getComponentPropertyValue("associationDefinitionName").pipe((0,r.map)(e=>e?this.rxDefinitionNameService.getDisplayName(e):null))]).pipe((0,r.map)(([e,t])=>{let n=this.sandbox.descriptor.name;return t&&e?n+=` (${t}: ${e})`:(t||e)&&(n+=` (${t||e})`),n}),(0,r.distinctUntilChanged)(),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>{this.sandbox.setSettablePropertiesDataDictionary(e,[{label:"Disabled",expression:this.getExpressionForProperty("disabled")},{label:"Hidden",expression:this.getExpressionForProperty("hidden")}])})}static getInitialProperties(e){return Object.assign(Object.assign({},c.RX_AVAILABLE_ON_DEVICES_DEFAULT_VALUE),e)}getPropertiesByName(e){return(0,p.omit)(Object.assign(Object.assign({},e),{recordInstance:this.recordEditorGuid?`\${view.components.${this.recordEditorGuid}.recordInstance}`:e.recordInstance,recordDefinition:this.recordEditorGuid?`\${view.components.${this.recordEditorGuid}.recordDefinition}`:e.recordDefinition}),["displayedFields","filterByAssociation","recordId","viewDefinitionNameForSelect","viewDefinitionNameForCreate"])}updateAssociationFilterComponent(e,t){if(t&&this.sandbox.removeComponents([t.guid]),e.filterByAssociation){const t={guid:this.rxGuidService.generate(),type:pl.componentTypes.associationFilter,propertiesByName:{associationDefinitionName:e.filterByAssociation,recordInstanceId:e.recordId}};this.sandbox.addComponent([t])}}updateChildActionButtonDefinition(e,t,n){const i=t.find(e=>e.type===c.RxViewComponentType.ActionButton&&e.data.action===n),o=n===pl.actions.createAndAssociate?e.viewDefinitionNameForCreate:e.viewDefinitionNameForSelect;if(i&&this.sandbox.removeComponents([i.guid]),o){const t=this.associationDesignHelperService.getActionButtonDefinition(e,n,this.sandbox.guid);this.sandbox.addComponent([t])}}updateComponentRecordFields(e,t){const n=t.filter(e=>e.type===pl.componentTypes.associatedRecordField).map(e=>e.guid),i=e.map(e=>({type:pl.componentTypes.associatedRecordField,guid:this.rxGuidService.generate(),propertiesByName:{fieldId:e.data.fieldId,label:e.data.label||"",index:e.data.index}}));n.length>0&&this.sandbox.removeComponents(n),this.sandbox.addComponent(i)}getChildComponentsData(){return this.childComponents$.pipe((0,r.map)(e=>{var t,n;const i={},o=e.filter(e=>e.type===pl.componentTypes.associationFilter);i.displayedFields=e.filter(e=>e.type===pl.componentTypes.associatedRecordField),o.length>0&&(i.recordId=null===(t=o[0].data)||void 0===t?void 0:t.recordInstanceId,i.filterByAssociation=null===(n=o[0].data)||void 0===n?void 0:n.associationDefinitionName);const r=this.getViewDefinitionNameForAssociation(e,pl.actions.createAndAssociate);r&&(i.viewDefinitionNameForCreate=r);const s=this.getViewDefinitionNameForAssociation(e,pl.actions.associate);return s&&(i.viewDefinitionNameForSelect=s),i}))}generateInitialUpdateParameters(e){const t=[];return e.recordDefinitionName&&(t.push(this.updateRecordDefinitionFields(e.recordDefinitionName)),e.fieldId&&t.push(this.updatePreviousDropdownFieldDefinition(e.recordDefinitionName,e.fieldId)),t.push(this.updateAssociationDefinitionsOptions(e.recordDefinitionName))),e.associationDefinitionName&&(t.push(this.updateAssociationDefinitionsFilterOptions(e.recordDefinitionName)),t.push(this.rxAssociationDefinitionCacheService.getAssociationDefinition(e.associationDefinitionName).pipe((0,r.map)(e=>this.setIsManyToManyAssociation(e))))),e.associatedRecordNodeSide&&t.push(this.updateAssociationNodeSideOptions(e.associationDefinitionName)),t}updatePreviousDropdownFieldDefinition(e,t){return this.updateRecordDefinitionFields(e).pipe((0,r.map)(e=>this.previousDropdownFieldDefinition=e.find(e=>e.id===Number(t))))}setIsManyToManyAssociation(e){e&&(this.isManyToManyAssociation=e.cardinality===w.RX_ASSOCIATION_DEFINITION.cardinality.manyToMany.value)}getViewDefinitionNameForAssociation(e,t){const n=e.find(e=>{var n;return(null===(n=e.data)||void 0===n?void 0:n.action)===t});return n&&n.children?this.getViewDefinitionNameFromActionButton(n):null}getViewDefinitionNameFromActionButton(e){const t=e.children.find(e=>e.type===c.RxViewComponentType.Action);return(0,p.get)(t,"data.viewDefinitionName",null)}updateRecordDefinitionFields(e){return(e?this.associationDesignHelperService.getRecordDefinition(e).pipe((0,r.map)(e=>e.fieldDefinitions)):(0,o.of)([])).pipe((0,r.tap)(e=>this.recordDefinitionFields=e))}updateAssociationNodeSideOptions(e){return(e?this.rxAssociationDefinitionCacheService.getAssociationDefinition(e).pipe((0,r.map)(e=>this.associationDesignHelperService.getNodeSideOptions(e))):(0,o.of)([])).pipe((0,r.tap)(e=>this.associatedRecordNodeSide=e))}updateAssociationDefinitionsOptions(e){return this.recordDefinitionNameFromHostRecordEditor$.pipe((0,r.switchMap)(t=>e&&t?this.associationDesignHelperService.getAvailableAssociations(e,t):(0,o.of)([])),(0,r.tap)(e=>this.associationDefinitions=e))}updateAssociationDefinitionsFilterOptions(e){return this.otherAssociationRecordEditorComponentGuids$.pipe((0,r.mergeMap)(e=>e.length?(0,o.combineLatest)(e.map(e=>this.sandbox.getComponentPropertyValue("recordDefinitionName",e))).pipe((0,r.take)(1)):(0,o.of)([])),(0,r.switchMap)(t=>t.length&&e?(0,o.merge)(...t.map(t=>this.associationDesignHelperService.getAvailableAssociations(e,t))):(0,o.of)([])),(0,r.map)(e=>this.associationDefinitionFilters=e))}getInspectorConfig(e,t,n){const i={inspectorSectionConfigs:[{label:"General",controls:[]}]};if(t){const t=i.inspectorSectionConfigs[0].controls;t.push({name:"recordDefinitionName",component:l.RxDefinitionPickerComponent,options:{label:"Record definition to associate",definitionType:l.RxDefinitionPickerType.StandardDataRecord,required:!0}}),e.recordDefinitionName&&t.push({name:"associationDefinitionName",component:l.SelectFormControlComponent,options:{label:"Association to use",options:this.associationDefinitions.map(e=>({id:e.name,name:this.rxDefinitionNameService.getDisplayName(e.name)})),emptyOption:!0,required:!0}}),e.recordDefinitionName&&this.associatedRecordNodeSide.length>0&&t.push({name:"associatedRecordNodeSide",component:l.SelectFormControlComponent,options:{label:"Associated record node Side",options:this.associatedRecordNodeSide,required:!0}}),e.recordDefinitionName&&this.associationDesignHelperService.isCardinalityOne(e,this.associationDefinitions)&&t.push({name:"editingMode",component:l.SelectFormControlComponent,options:{label:"Association editing mode",options:(0,p.map)(hl,(e,t)=>({id:e,name:t})),required:!0}}),e.editingMode&&e.editingMode!==hl.Views||(t.push(...this.associationDesignHelperService.getViewModeInspectorControls()),this.isManyToManyAssociation&&e.associationDefinitionName&&(t.push(this.associationDesignHelperService.getUseDefaultRolesControl()),e.useDefaultRoles||t.push(...this.associationDesignHelperService.getNodeABRoleControls())),e.recordDefinitionName&&t.push(this.associationDesignHelperService.getDisplayedFieldsControl(this.recordDefinitionFields))),e.editingMode===hl.Dropdown&&(t.push(...this.associationDesignHelperService.getDropdownModeInspectorControls(this.recordDefinitionFields,this.associationDefinitionFilters)),e.filterByAssociation&&t.push(this.associationDesignHelperService.getRecordIdControl())),t.push(...this.associationDesignHelperService.getInitialInspectorControls(this.expressionConfigurator))}else i.inspectorSectionConfigs[0].controls=[{component:l.ValidationFormControlComponent,options:{text:"You must select a Record definition before editing field component.",componentGuid:n,propertyName:"recordDefinitionName"}}];return i}}class Sl{}Sl.\u0275fac=function(e){return new(e||Sl)},Sl.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Sl,selectors:[["rx-association-design-item-container"]],inputs:{outlet:"outlet",isReadOnly:"isReadOnly",layout:"layout"},decls:1,vars:1,consts:[["class","mr-1",3,"interactive","layout","isReadOnly",4,"ngFor","ngForOf"],[1,"mr-1",3,"interactive","layout","isReadOnly"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,qe,1,3,"rx-canvas-item",0),2&e&&i["\u0275\u0275property"]("ngForOf",t.outlet.columns[0].children)},directives:[m.NgForOf,d.CanvasItemComponent],styles:["[_nghost-%COMP%]{display:flex}"]});class Il{constructor(){this.hidePlaceholder=!1,this.destroyed$=new o.ReplaySubject(1),this.containerComponent=Sl}ngOnInit(){this.model.displayedFields$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.hidePlaceholder=e.length>0})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}Il.\u0275fac=function(e){return new(e||Il)},Il.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Il,selectors:[["rx-association-field-design"]],inputs:{model:"model"},decls:4,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"d-block","form-control-label"],[1,"d-flex","flex-wrap"],[1,"flex-grow-1",3,"containerComponent"],["adapt-button","","size","small","btn-type","tertiary","type","button",1,"btn","btn-link","py-0","align-right",3,"hidden"],["type","objects","label","Add fields in the Properties panel.",3,"hidden"],[1,"form-group","mt-2",3,"hidden"],[1,"list-group"],[1,"list-group-item"],[1,"rx-record-preview-card","w-100"],["adapt-button","","size","small","btn-type","tertiary","type","button",1,"btn","btn-link","float-right","d-icon-cross","p-0"],[1,"list-unstyled","mb-0"],["class","rx-record-preview-card__field",4,"ngFor","ngForOf"],[1,"rx-record-preview-card__field"],["class","rx-record-preview-card__label",4,"ngIf"],[4,"ngIf"],[1,"rx-record-preview-card__value"],[1,"rx-record-preview-card__label"],["ngModel","",3,"label","disabled"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275template"](2,Ke,19,16,"div",1),i["\u0275\u0275template"](3,Je,5,7,"div",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("ngSwitch",i["\u0275\u0275pipeBind1"](1,3,t.model.editingMode$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngSwitchCase","views"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase","dropdown"))},directives:[m.NgSwitch,m.NgSwitchCase,d.CanvasOutletComponent,h.AdaptButtonComponent,h.AdaptEmptyStateComponent,m.NgForOf,m.NgIf,h.AdaptRxSelectComponent,x.NgControlStatus,x.NgModel],pipes:[m.AsyncPipe,u.TranslatePipe],encapsulation:2});class Al{adaptDefinition(e){var t,n,i,o,r;if(!e.layout){const t=e.componentDefinitions.filter(e=>e.type===c.RxViewComponentType.ActionButton).map(e=>e.guid);e.layout=JSON.stringify({outlets:[{name:c.RX_VIEW_DEFINITION.defaultOutletName,columns:[{children:t}]}]})}const s={editingMode:null!==(t=e.propertiesByName.editingMode)&&void 0!==t?t:hl.Views,nodeARole:null!==(n=e.propertiesByName.nodeARole)&&void 0!==n?n:null,nodeBRole:null!==(i=e.propertiesByName.nodeBRole)&&void 0!==i?i:null,styles:null!==(o=e.propertiesByName.styles)&&void 0!==o?o:null,useDefaultRoles:null!==(r=e.propertiesByName.useDefaultRoles)&&void 0!==r&&r};Object.assign(e.propertiesByName,s)}}Al.\u0275fac=function(e){return new(e||Al)},Al.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Al,factory:Al.\u0275fac});class El{constructor(e,t){t.registerDesignAdapter(c.RxViewComponentType.Association,e)}}El.\u0275fac=function(e){return new(e||El)(i["\u0275\u0275inject"](Al),i["\u0275\u0275inject"](a.RxDefinitionAdapterRegistryService))},El.\u0275mod=i["\u0275\u0275defineNgModule"]({type:El,declarations:[Il,Sl],imports:[m.CommonModule,h.AdaptButtonModule,u.TranslateModule,wl,h.AdaptRxSelectModule,x.FormsModule,h.AdaptEmptyStateModule,d.ViewDesignerCanvasModule]}),El.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[Cl,Al],imports:[[m.CommonModule,h.AdaptButtonModule,u.TranslateModule,wl,h.AdaptRxSelectModule,x.FormsModule,h.AdaptEmptyStateModule,d.ViewDesignerCanvasModule]]});const Dl=["api","disabled","recordDefinition","recordInstance","hidden","inReadState","value"].map(e=>{const t={name:e,enableExpressionEvaluation:!0};return["hidden","disabled"].includes(e)&&(t.type=c.ViewComponentPropertyType.Boolean),t});Dl.push({name:"label",localizable:!0},{name:"fieldId"},c.RX_AVAILABLE_ON_DEVICES_PROP_DESC);const Tl="Record editor inputs";class Rl extends d.RxViewComponentExpressionConfigurator{constructor(e,t,n){super(e,t,n),this.injector=e,this.componentGuid=t,this.componentModel=n,this.rxDefinitionNameService=this.injector.get(a.RxDefinitionNameService),this.configureForProperty({propertyPath:"recordId",dataDictionary$:n.recordEditorGuid$.pipe((0,r.concatMap)(e=>this.getCommonDataDictionary(this.getRecordEditorBranch(e),e)))})}getRecordEditorBranch(e){const t=this.componentModel.otherAssociationRecordEditorComponentGuids$.pipe((0,r.switchMap)(e=>e.length?(0,o.combineLatest)(e.map(e=>this.componentModel.sandbox.getComponentPropertyValue("associationDefinitionName",e).pipe((0,r.map)(t=>({label:this.rxDefinitionNameService.getDisplayName(t),children:[{label:"First associated record",children:[{label:"ID",expression:`\${view.components.${e}.firstAssociatedRecord.id}`}]}]}))))).pipe((0,r.map)(e=>({label:"Associations",children:e}))):(0,o.of)(null)));return this.getComponentCommonDataDictionary(e).pipe((0,r.switchMap)(e=>t.pipe((0,r.map)(t=>t?Object.assign(Object.assign({},e),{children:[t,...e.children]}):e))))}}class Ml{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:c.RxViewComponentType.Association,isContainerComponent:!0,designComponentModel:_l,bundleId:a.RX_APPLICATION.platformBundleId,designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(Il),expressionConfigurator:Rl,componentFactory:this.componentFactoryResolver.resolveComponentFactory(fl),canBeInsertedInto:e=>e.includes(c.RxViewComponentType.RecordEditor),options:{canBeEmbeddedInRecordEditor:!0},name:"Association",group:Tl,icon:"arrow_schema",properties:Dl.concat({name:"recordInstance",enableExpressionEvaluation:!0}),outlets:[{name:c.RX_VIEW_DEFINITION.defaultOutletName}]},{type:pl.componentTypes.associationFilter,configPropertyName:"associationFilter",properties:[{name:"associationDefinitionName"},{name:"recordInstanceId",enableExpressionEvaluation:!0}],isDataComponent:!0},{type:pl.componentTypes.associatedRecordField,configPropertyName:"associatedRecordField",isDataComponent:!0,properties:[{name:"label",localizable:!0}]})}}Ml.\u0275fac=function(e){return new(e||Ml)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},Ml.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ml,imports:[vl,El]}),Ml.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[vl,El]]});class Ol extends d.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.rxRecordDefinitionCacheService=this.injector.get(s.RxRecordDefinitionCacheService),this.rxDefinitionNameService=this.injector.get(a.RxDefinitionNameService),this.rxFieldDefinitionService=this.injector.get(s.RxFieldDefinitionService)}static getInitialProperties(e){return Object.assign(Object.assign(Object.assign({fieldId:null,label:null,value:null},c.RX_DISABLED_PROP_DEFAULT_VALUE),c.RX_STANDARD_PROPS_DEFAULT_VALUES),e)}rxInit(){this.pipeline()}pipeline(){this.parentGuid$=this.sandbox.getParentComponentGuid(c.RxViewComponentType.RecordEditor).pipe((0,r.take)(1)),this.recordEditorMode$=this.parentGuid$.pipe((0,r.switchMap)(e=>this.sandbox.getComponentPropertyValue("mode",e))),this.recordDefinitionName$=this.parentGuid$.pipe((0,r.switchMap)(e=>this.sandbox.getComponentPropertyValue("recordDefinitionName",e)),(0,r.shareReplay)(1)),this.recordDefinition$=this.recordDefinitionName$.pipe((0,r.switchMap)(e=>e?this.rxRecordDefinitionCacheService.getRecordDefinition(e).pipe((0,r.catchError)(e=>o.EMPTY)):(0,o.of)(null)),(0,r.distinctUntilChanged)()),this.selectedFieldDefinition$=this.sandbox.getComponentPropertyValue("fieldId").pipe((0,r.switchMap)(e=>this.recordDefinition$.pipe((0,r.map)(t=>t&&e&&t.fieldDefinitions.find(t=>t.id===Number(e))||null))),(0,r.shareReplay)(1)),this.isRequired$=this.selectedFieldDefinition$.pipe((0,r.map)(e=>e&&e.fieldOption===s.RX_RECORD_DEFINITION.fieldOptions.required)),this.isSystemField$=this.selectedFieldDefinition$.pipe((0,r.startWith)(!1),(0,r.map)(e=>this.rxFieldDefinitionService.isSystemField(e))),this.selectedFieldDefinition$.pipe((0,r.pairwise)(),(0,r.withLatestFrom)(this.sandbox.componentProperties$),(0,r.filter)(([[e,t],n])=>t&&(e&&e.name===n.label||!n.label)),(0,r.map)(([[e,t]])=>t.name)).subscribe(e=>{this.sandbox.updateComponentProperties({label:e})}),this.availableFieldDefinitions$=(0,o.combineLatest)([this.recordDefinition$,this.recordEditorMode$]).pipe((0,r.map)(([e,t])=>e&&e.fieldDefinitions?e.fieldDefinitions.filter(e=>(0,p.includes)(this.fieldResourceTypes,e.resourceType)).filter(e=>{const n=this.rxFieldDefinitionService.isSystemField(e);return!n||n&&t===Ha.Edit}):[]),(0,r.shareReplay)(1)),this.label$=this.sandbox.componentProperties$.pipe((0,r.map)(e=>e&&e.fieldId?e.label:"<No field selected>")),this.sandbox.componentProperties$.pipe((0,r.mergeMap)(e=>this.validate(e)),(0,r.distinctUntilChanged)(p.isEqual)).subscribe(e=>{this.sandbox.setValidationIssues(e)}),this.availableFieldDefinitions$.pipe((0,r.switchMap)(()=>this.getInspectorConfig())).subscribe(e=>{this.sandbox.updateInspectorConfig(e)}),this.sandbox.componentProperties$.pipe((0,r.switchMap)(()=>this.getBreadcrumb()),(0,r.distinctUntilChanged)()).subscribe(e=>{this.sandbox.setBreadcrumbs(e)}),(0,o.combineLatest)([this.sandbox.getComponentPropertyValue("label"),this.selectedFieldDefinition$]).pipe((0,r.map)(([e,t])=>e||(t?`[${t.name}]`:`[${this.sandbox.descriptor.name}]`)),(0,r.distinctUntilChanged)()).subscribe(e=>{this.sandbox.setSettablePropertiesDataDictionary(e,this.getSettableProperties())})}getPropertiesByName(e){const t=Object.assign({},e);return t.styles||delete t.styles,t}validate(e){const t=[];return(0,p.isEmpty)(e.fieldId)&&t.push(this.sandbox.createError("Field name cannot be blank.","fieldId")),t.push(...(0,d.validateStandardProps)(e)),(0,o.of)(t)}getBreadcrumb(){return(0,o.of)(null).pipe((0,r.withLatestFrom)(this.sandbox.componentProperties$),(0,r.map)(([e,t])=>t.label))}getInspectorConfig(){return(0,o.of)(null).pipe((0,r.withLatestFrom)(this.availableFieldDefinitions$,this.recordDefinitionName$,this.parentGuid$,this.isSystemField$),(0,r.map)(([e,t,n,i,o])=>this.getBaseInspectorConfig(t,n,i,o)))}getSettableProperties(){return[...(0,p.find)(this.sandbox.descriptor.properties,{name:"disabled"})?[{label:"Disabled",expression:`\${view.components.${this.sandbox.guid}.disabled}`}]:[],...(0,p.find)(this.sandbox.descriptor.properties,{name:"disabled"})?[{label:"Hidden",expression:`\${view.components.${this.sandbox.guid}.hidden}`}]:[]]}getBaseInspectorFields(e,t){return[].concat([{name:"fieldId",component:l.SelectFormControlComponent,options:{label:"Field name",required:!0,options:e.map(e=>({name:e.name,id:String(e.id)}))}},{name:"label",component:l.TextFormControlComponent,options:{label:"Display label"}}],t?[]:[{name:"value",component:l.ExpressionInspectorControlComponent,options:{label:"Value"}},(0,d.getDisabledFieldInspectorConfig)()],(0,d.getStandardPropsInspectorConfigs)())}getBaseInspectorConfig(e,t,n,i){const o=this.rxDefinitionNameService.getDisplayName(t||"");let r;return r=t?e.length?this.getBaseInspectorFields(e,i):[{component:l.ValidationFormControlComponent,options:{text:`${o} does not have fields that can be bound to this field type.`,componentGuid:n,propertyName:"recordDefinitionName"}}]:[{component:l.ValidationFormControlComponent,options:{text:"You must select a Record definition before editing field component.",componentGuid:n,propertyName:"recordDefinitionName"}}],{inspectorSectionConfigs:[{label:"General",controls:r}]}}}class Pl extends Ol{constructor(){super(...arguments),this.fieldResourceTypes=[s.RX_RECORD_DEFINITION.resourceTypes.attachment]}static getInitialProperties(e){const t=Ol.getInitialProperties(e);return delete t.value,t}getInspectorConfig(){return super.getInspectorConfig().pipe((0,r.map)(e=>(e.inspectorSectionConfigs[0].controls=e.inspectorSectionConfigs[0].controls.filter(e=>"value"!==e.name),e)))}}class Fl{}Fl.\u0275fac=function(e){return new(e||Fl)},Fl.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Fl,selectors:[["rx-attachment-field-design"]],inputs:{model:"model"},decls:3,vars:9,consts:[[1,"rx-pointer-events-none",3,"required","ngModel","disabled","label"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"adapt-rx-uploader",0),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275pipe"](2,"async")),2&e&&i["\u0275\u0275property"]("required",i["\u0275\u0275pipeBind1"](1,4,t.model.isRequired$))("ngModel",i["\u0275\u0275pureFunction0"](8,et))("disabled",!0)("label",i["\u0275\u0275pipeBind1"](2,6,t.model.label$))},directives:[h.AdaptRxUploaderComponent,x.RequiredValidator,x.NgControlStatus,x.NgModel],pipes:[m.AsyncPipe],styles:["adapt-rx-uploader[_ngcontent-%COMP%]     .adapt-rx-uploader__restrict{display:none}"]});class kl{}kl.\u0275fac=function(e){return new(e||kl)},kl.\u0275mod=i["\u0275\u0275defineNgModule"]({type:kl,declarations:[Fl],imports:[m.CommonModule,x.FormsModule,h.AdaptRxUploaderModule]}),kl.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,x.FormsModule,h.AdaptRxUploaderModule]]});class Nl extends f.BaseViewComponent{constructor(e){super(),this.injector=e,this.isRequired=!1,this.isDisabled=!1,this.translateService=this.injector.get(u.TranslateService),this.api={setProperty:this.setProperty.bind(this)},this.inReadState=!1,this.isLoading=!0,this.validationErrorMessage=null}ngOnInit(){super.ngOnInit(),this.notifyPropertyChanged("api",this.api),this.configReady$=this.config.pipe((0,r.filter)(e=>Boolean(e.api&&e.recordDefinition)),(0,r.takeUntil)(this.destroyed$)),this.recordInstance$=this.configReady$.pipe((0,r.pluck)("recordInstance"),(0,r.distinctUntilChanged)(),(0,r.skip)(1),(0,r.takeUntil)(this.destroyed$)),this.recordInstance$.subscribe(this.subscribeOnConfigValueChange.bind(this)),this.configReady$.pipe((0,r.take)(1)).subscribe(e=>{this.isLoading=!1,this.onConfigInitialized(e),this.onConfigUpdated(e)}),this.configReady$.pipe((0,r.skip)(1),(0,r.filter)(e=>Boolean(e.recordInstance)),(0,r.takeUntil)(this.destroyed$)).subscribe(this.onConfigUpdated.bind(this))}setFieldValue(e,t={}){(0,p.isEqual)(e,this.formControl.value)||(!1!==t.markAsDirty&&this.formControl.markAsDirty(),!1!==t.markAsTouched&&this.formControl.markAsTouched(),this.formControl.setValue(e))}getFieldValue(){var e;return null===(e=this.formControl)||void 0===e?void 0:e.value}getDisplayValue(){return this.getFieldValue()}onConfigInitialized(e){this.fieldId=Number(e.fieldId),this.fieldDefinition=(0,p.find)(e.recordDefinition.fieldDefinitions,{id:this.fieldId}),this.isRequired=this.fieldDefinition.fieldOption===s.RX_RECORD_DEFINITION.fieldOptions.required,this.recordEditorApi=e.api,this.formControl=this.recordEditorApi.getFieldControl(this.fieldId,this.guid,this.getFieldValidators(),e.associatedRecordPath),this.associatedRecordPath=e.associatedRecordPath,this.permissionType=this.recordEditorApi.getPermissionType(this.fieldId,this.associatedRecordPath),this.subscribeOnConfigValueChange(),this.formControl.valueChanges.pipe((0,r.startWith)(this.formControl.value),(0,r.takeUntil)(this.destroyed$)).subscribe(()=>{this.checkValidation(),this.updateValidationMessage()}),this.isAlwaysDisabled=this.permissionType===s.RX_RECORD_DEFINITION.fieldPermissionTypes.view||this.injector.get(s.RxFieldDefinitionService).isSystemField(this.fieldDefinition),this.isAlwaysHidden=!this.permissionType;const t=e.api.getRecordEditorMode();if(Number(e.fieldId)===s.RX_RECORD_DEFINITION.coreFieldIds.createdBy){const e=this.injector.get(a.RxSystemConfigurationService).getConfigurationSync("Submitter-Mode");this.isAlwaysDisabled=this.isAlwaysDisabled||t===Ha.Edit&&e===a.RX_ADMINISTRATION.submitterModes.locked}}onConfigUpdated(e){const t=this.isAlwaysDisabled||Boolean(e.disabled);this.isDisabled!==t&&(this.isDisabled=t,this.isDisabled||this.formControl.updateValueAndValidity(),this.checkValidation()),this.isHidden=this.isAlwaysHidden||Boolean(e.hidden),this.label=(0,p.isUndefined)(e.label)?this.fieldDefinition.name:e.label,this.inReadState=Boolean(e.inReadState)}getFieldValidators(){return[]}getRequiredFieldValidationError(){return this.translateService.instant("com.bmc.arsys.rx.client.view-components.validation.required.message")}getFieldInstanceProp(e,t=this.fieldId,n=this.associatedRecordPath){return this.recordEditorApi.getFieldInstanceProp(t,e,n)}setFieldInstanceProp(e,t,n=this.fieldId,i=this.associatedRecordPath){this.recordEditorApi.setFieldInstanceProp(n,e,t,i)}setProperty(e,t){if(!(0,p.includes)(["hidden","disabled"],e))return(0,o.throwError)(`Field property ${e} is not settable.`);this.notifyPropertyChanged(e,t)}subscribeOnConfigValueChange(){const e=this.configReady$.pipe((0,r.pluck)("value"),(0,r.filter)(e=>!(0,p.isUndefined)(e)),(0,r.distinctUntilChanged)(),(0,r.takeUntil)(this.recordInstance$),(0,r.takeUntil)(this.destroyed$));e.pipe((0,r.take)(1)).subscribe(e=>{(0,p.isNull)(e)||this.setFieldValue(e,{markAsTouched:!1,markAsDirty:!1})}),e.pipe((0,r.skip)(1)).subscribe(e=>this.setFieldValue(e))}checkValidation(){this.isDisabled&&this.formControl.invalid&&(this.formControl.setErrors(null),this.updateValidationMessage())}updateValidationMessage(){this.formControl.errors?(this.formControl.errors.required&&(this.formControl.errors.required=this.getRequiredFieldValidationError()),this.validationErrorMessage=(0,p.values)(this.formControl.errors).join(", ")):this.validationErrorMessage=null}}Nl.\u0275fac=function(e){return new(e||Nl)(i["\u0275\u0275directiveInject"](i.Injector))},Nl.\u0275dir=i["\u0275\u0275defineDirective"]({type:Nl,hostVars:4,hostBindings:function(e,t){2&e&&i["\u0275\u0275classProp"]("rx-field-required",t.isRequired)("rx-field-disabled",t.isDisabled)},inputs:{config:"config"},features:[i["\u0275\u0275InheritDefinitionFeature"]]});const jl={defaultOptions:{filesCount:1,mode:h.UploaderMode.Manual,selectionMode:h.UploaderSelectionMode.File,chunkSize:"100KB",maxFileSize:"2GB"}};class Ll extends Nl{constructor(e){super(e),this.filesCount=jl.defaultOptions.filesCount,this.mode=jl.defaultOptions.mode,this.selectionMode=jl.defaultOptions.selectionMode,this.chunkSize=jl.defaultOptions.chunkSize,this.maxFileSize=jl.defaultOptions.maxFileSize,this.showFiles=[],this.texts={},this.readStateConfig={fileName:null,downloadURL:null}}onConfigInitialized(e){super.onConfigInitialized(e),this.attachmentFormControl=new x.FormControl(this.showFiles),this.maxFileSize=this.fieldDefinition.maxSize?(0,p.toString)(this.fieldDefinition.maxSize):jl.defaultOptions.maxFileSize,this.formControl.valueChanges.pipe((0,r.startWith)(this.formControl.value),(0,r.filter)(e=>!(e instanceof File)),(0,r.distinctUntilChanged)((e,t)=>e===t&&(0,p.has)(this.attachmentFormControl.value,"[0].downloadURL")),(0,r.takeUntil)(this.destroyed$)).subscribe(()=>{this.attachmentFormControl.reset(),this.addAttachedFileToAttachmentList(this.getFieldValue())}),this.formControl.touched$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{e?this.attachmentFormControl.markAsTouched():this.attachmentFormControl.markAsUntouched()})}addAttachedFileToAttachmentList(e){if(e){const t=this.recordEditorApi.getAttachmentDownloadUrl(this.fieldId);let n;n={data:{name:e},isUploading:!0},t&&(n.downloadURL=t),this.showFiles=[n]}else this.showFiles=[];this.attachmentFormControl.setValue(this.showFiles)}onConfigUpdated(e){super.onConfigUpdated(e),this.inReadState&&(this.readStateConfig={fileName:this.getDisplayValue(),downloadURL:this.recordEditorApi.getAttachmentDownloadUrl(this.fieldId)})}removeAttachment(e){e&&(this.attachment=null),this.addAttachedFileToAttachmentList(),this.setFieldValue(this.attachment)}addAttachment(e){const t=(0,p.first)(e);t&&(this.attachment=t.data,this.setFieldValue(this.attachment))}onBlur(){this.formControl.markAsTouched()}}function Vl(){return new s.UploaderService}Ll.\u0275fac=function(e){return new(e||Ll)(i["\u0275\u0275directiveInject"](i.Injector))},Ll.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ll,selectors:[["rx-attachment-field"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:1,consts:[[4,"ngIf"],["editStateElementRef",""],["emptyReadonlyField",""],[4,"ngIf","ngIfElse"],["aria-hidden","true"],["class","d-block",3,"config",4,"ngIf"],[1,"d-block",3,"config"],[3,"ngClass","reusable","label","readonly","required","allowDeletion","uploadMode","selectionMode","filesCount","maxFileSize","chunkSize","texts","formControl","removedFileFromQueue","deletedFile","afterFilesAdded","onBlur"],[3,"label","value"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,ot,2,2,"ng-container",0),i["\u0275\u0275template"](1,st,1,15,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](3,at,1,2,"ng-template",null,2,i["\u0275\u0275templateRefExtractor"])),2&e&&i["\u0275\u0275property"]("ngIf",!t.isHidden)},directives:[m.NgIf,h.AdaptDownloaderComponent,h.AdaptRxUploaderComponent,m.NgClass,x.RequiredValidator,x.NgControlStatus,x.FormControlDirective,C.ReadOnlyFieldComponent],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}  .d-icon-exclamation_triangle{display:none}  .adapt-rx-uploader__restrict{display:none}  .upload-status{display:none}  .adapt-uploader-item{border-top:0;height:37px!important;border-bottom:0}  .adapt-rx-uploader-file-attach-btn__wrp{max-width:100%}  .adapt-rx-uploader-attach-btn{overflow:hidden;text-overflow:ellipsis;max-width:100%}  .adapt-uploader-file{margin-left:0;padding-bottom:10px;padding-left:0!important;flex:auto;height:100%;border-bottom:1px solid #f0f1f1}  .adapt-uploader-status{margin-right:20px;width:15px;border-bottom:1px solid #f0f1f1}  .attachment-disabled .adapt-uploader-list-files-zone__header{margin:0;display:none}  .attachment-disabled .empty-state{display:none}  .attachment-disabled .empty-state__container{margin:0;padding:0}  .attachment-disabled .empty-state__label{margin-top:0;text-align:left}']});class Bl{}Bl.\u0275fac=function(e){return new(e||Bl)},Bl.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Bl,declarations:[Ll],imports:[h.AdaptRxUploaderModule,m.CommonModule,C.ReadOnlyFieldModule,x.ReactiveFormsModule,u.TranslateModule,h.AdaptDownloadModule]}),Bl.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[h.AdaptRxUploaderModule.forRoot({uploader:{provide:"UploaderService",useFactory:Vl,deps:[]}}),m.CommonModule,C.ReadOnlyFieldModule,x.ReactiveFormsModule,u.TranslateModule,h.AdaptDownloadModule]]});class Gl{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:c.RxViewComponentType.Attachment,componentFactory:this.componentFactoryResolver.resolveComponentFactory(Ll),properties:Dl,name:"Attachment",group:Tl,icon:"paperclip",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(Fl),designComponentModel:Pl,options:{canBeEmbeddedInRecordEditor:!0},canBeInsertedInto:e=>e.includes(c.RxViewComponentType.RecordEditor),bundleId:a.RX_APPLICATION.platformBundleId})}}var zl,$l;Gl.\u0275fac=function(e){return new(e||Gl)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},Gl.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Gl,imports:[Bl,kl]}),Gl.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[Bl,kl]]}),function(e){e.Checkbox="checkbox",e.Switch="switch"}(zl||(zl={})),function(e){e[e.True=1]="True",e[e.False=0]="False"}($l||($l={}));class Ul extends Ol{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.componentProperties$=this.sandbox.componentProperties$,this.fieldResourceTypes=[s.RX_RECORD_DEFINITION.resourceTypes.boolean]}static getInitialProperties(e){return Object.assign(Object.assign(Object.assign({},Ol.getInitialProperties()),{editingMode:zl.Switch}),e)}getInspectorConfig(){return super.getInspectorConfig().pipe((0,r.map)(e=>this.editInspectorConfig(e)))}editInspectorConfig(e){const t=(0,p.findIndex)(e.inspectorSectionConfigs[0].controls,e=>"value"===e.name),n={name:"editingMode",component:l.SelectFormControlComponent,options:{label:"Editing mode",tooltip:new a.Tooltip("An optional Boolean field will always be displayed as a Switch."),required:!1,options:(0,p.map)(zl,(e,t)=>({id:e,name:t}))}};return-1!==t&&e.inspectorSectionConfigs[0].controls.splice(t,0,n),e}}class Hl{constructor(){this.shouldDisplayAsCheckbox=!1,this.destroyed$=new o.ReplaySubject(1)}ngOnInit(){const e=this.model.componentProperties$.pipe((0,r.map)(e=>e.editingMode||zl.Switch));(0,o.combineLatest)([e,this.model.isRequired$]).pipe((0,r.takeUntil)(this.destroyed$)).subscribe(([e,t])=>{this.shouldDisplayAsCheckbox=t&&e===zl.Checkbox})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}Hl.\u0275fac=function(e){return new(e||Hl)},Hl.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Hl,selectors:[["rx-boolean-field-design"]],inputs:{model:"model"},decls:2,vars:2,consts:[[4,"ngIf"],["class","form-control-required",4,"ngIf"],[3,"ngModel","disabled","ngModelChange"],[1,"form-control-required"],[3,"ngModel","label","required","disabled","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,ct,8,8,"ng-container",0),i["\u0275\u0275template"](1,dt,4,8,"ng-container",0)),2&e&&(i["\u0275\u0275property"]("ngIf",!t.shouldDisplayAsCheckbox),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.shouldDisplayAsCheckbox))},directives:[m.NgIf,h.AdaptRxSwitchComponent,x.NgControlStatus,x.NgModel,h.AdaptRxCheckboxComponent,x.RequiredValidator],pipes:[m.AsyncPipe],encapsulation:2});class Xl{}Xl.\u0275fac=function(e){return new(e||Xl)},Xl.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Xl,declarations:[Hl],imports:[m.CommonModule,x.FormsModule,h.AdaptRxSwitchModule,h.AdaptRxCheckboxModule],exports:[Hl]}),Xl.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,x.FormsModule,h.AdaptRxSwitchModule,h.AdaptRxCheckboxModule]]});class Wl extends Nl{constructor(e,t){super(e),this.rxBooleanPipe=t}get booleanValue(){const e=this.getFieldValue();return(0,p.isNull)(e)?null:Boolean(e)}set booleanValue(e){(0,p.isNull)(e)?this.setFieldValue(null):this.setFieldValue(Number(e))}getDisplayValue(){const e=super.getDisplayValue();return(0,p.isNil)(e)?"-":this.rxBooleanPipe.transform(e)}onConfigInitialized(e){super.onConfigInitialized(e),this.editingMode=e.editingMode}onConfigUpdated(e){super.onConfigUpdated(e),this.shouldDisplayAsCheckbox&&null===this.getFieldValue()&&this.setFieldValue($l.False,{markAsDirty:!1,markAsTouched:!1})}ngAfterViewInit(){this.formControl.touched$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{var t,n;return e?null===(t=this.ngModel)||void 0===t?void 0:t.control.markAsTouched():null===(n=this.ngModel)||void 0===n?void 0:n.control.markAsUntouched()})}get shouldDisplayAsCheckbox(){return this.editingMode===zl.Checkbox&&this.isRequired}onBlur(){this.formControl.markAsTouched()}}Wl.\u0275fac=function(e){return new(e||Wl)(i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](a.RxBooleanPipe))},Wl.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Wl,selectors:[["rx-boolean-field"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](ut,5,x.NgModel),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.ngModel=e.first)}},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:1,consts:[[4,"ngIf"],["editStateElementRef",""],[3,"label","value",4,"ngIf","ngIfElse"],[3,"label","value"],[3,"hidden","label","isDisabled","required","shouldDisplayAsCheckbox","ngModel","ngModelChange","rxBlur"],["booleanComponent",""]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,ht,2,2,"ng-container",0),i["\u0275\u0275template"](1,mt,2,6,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"])),2&e&&i["\u0275\u0275property"]("ngIf",!t.isHidden)},directives:[m.NgIf,C.ReadOnlyFieldComponent,l.RxBooleanComponent,x.RequiredValidator,x.NgControlStatus,x.NgModel],encapsulation:2});class ql{}ql.\u0275fac=function(e){return new(e||ql)},ql.\u0275mod=i["\u0275\u0275defineNgModule"]({type:ql,declarations:[Wl],imports:[m.CommonModule,h.AdaptRxFormControlModule,C.ReadOnlyFieldModule,h.AdaptButtonModule,h.AdaptRxCheckboxModule,u.TranslateModule,x.ReactiveFormsModule,x.FormsModule,l.RxBooleanModule]}),ql.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptRxFormControlModule,C.ReadOnlyFieldModule,h.AdaptButtonModule,h.AdaptRxCheckboxModule,u.TranslateModule,x.ReactiveFormsModule,x.FormsModule,l.RxBooleanModule]]});class Yl{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:c.RxViewComponentType.Boolean,componentFactory:this.componentFactoryResolver.resolveComponentFactory(Wl),properties:Dl,name:"Boolean",group:Tl,icon:"switcher_check",designComponentModel:Ul,designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(Hl),options:{canBeEmbeddedInRecordEditor:!0},canBeInsertedInto:e=>e.includes(c.RxViewComponentType.RecordEditor),bundleId:a.RX_APPLICATION.platformBundleId})}}Yl.\u0275fac=function(e){return new(e||Yl)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},Yl.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Yl,imports:[ql,Xl]}),Yl.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[ql,Xl]]});class Ql extends Ol{constructor(){super(...arguments),this.fieldResourceTypes=[s.RX_RECORD_DEFINITION.resourceTypes.dateOnly]}}class Zl{}Zl.\u0275fac=function(e){return new(e||Zl)},Zl.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Zl,selectors:[["rx-date-field-design"]],inputs:{model:"model"},decls:3,vars:8,consts:[[1,"rx-pointer-events-none",3,"required","ngModel","disabled","label","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"adapt-rx-datetime",0),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.dateValue=e}),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("required",i["\u0275\u0275pipeBind1"](1,4,t.model.isRequired$))("ngModel",t.dateValue)("disabled",!0)("label",i["\u0275\u0275pipeBind1"](2,6,t.model.label$))},directives:[h.AdaptRxDatetimeComponent,x.RequiredValidator,x.NgControlStatus,x.NgModel],pipes:[m.AsyncPipe],encapsulation:2});class Kl{}Kl.\u0275fac=function(e){return new(e||Kl)},Kl.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Kl,declarations:[Zl],imports:[h.AdaptRxDatetimeModule,m.CommonModule,x.FormsModule]}),Kl.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[h.AdaptRxDatetimeModule,m.CommonModule,x.FormsModule]]});class Jl extends h.AdaptRxDatetimeAdapter{constructor(){super(...arguments),this.storeDateFormat="YYYY-MM-DD"}fromModel(e){let t=null;const n=(0,S.default)(e);return n&&n.isValid()&&(t={year:n.year(),month:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds()}),t}toModel(e){return e?e.parseError?S.default.invalid().toString():(0,S.default)([e.year||0,e.month||0,e.date||0]).format(this.storeDateFormat):null}}Jl.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Jl)))(t||Jl)}}(),Jl.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Jl,factory:Jl.\u0275fac});class ec extends Nl{constructor(e,t){super(e),this.datePipe=t}getDisplayValue(){const e=super.getDisplayValue();if(e)return this.datePipe.transform(e,"mediumDate")}getFieldValidators(){return[e=>{const t=e.value?(0,S.default)(e.value):null;return e.value&&t&&!t.isValid()?{rxDatetimeFormat:{mode:h.RxDatetimePickerMode.Date}}:null}]}}ec.\u0275fac=function(e){return new(e||ec)(i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](m.DatePipe))},ec.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ec,selectors:[["rx-date-field"]],features:[i["\u0275\u0275ProvidersFeature"]([{provide:h.AdaptRxDatetimeAdapter,useClass:Jl}]),i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:1,consts:[[4,"ngIf"],["editStateElementRef",""],[3,"label","value",4,"ngIf","ngIfElse"],[3,"label","value"],[3,"label","required","formControl","readonly","disabledStyleForReadonlyState"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,gt,2,2,"ng-container",0),i["\u0275\u0275template"](1,vt,1,5,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"])),2&e&&i["\u0275\u0275property"]("ngIf",!t.isHidden)},directives:[m.NgIf,C.ReadOnlyFieldComponent,h.AdaptRxDatetimeComponent,x.RequiredValidator,x.NgControlStatus,x.FormControlDirective],encapsulation:2});class tc{}tc.\u0275fac=function(e){return new(e||tc)},tc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:tc,declarations:[ec],imports:[h.AdaptRxDatetimeModule,m.CommonModule,x.FormsModule,x.ReactiveFormsModule,C.ReadOnlyFieldModule,u.TranslateModule]}),tc.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[m.DatePipe],imports:[[h.AdaptRxDatetimeModule,m.CommonModule,x.FormsModule,x.ReactiveFormsModule,C.ReadOnlyFieldModule,u.TranslateModule]]});class nc{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:c.RxViewComponentType.Date,componentFactory:this.componentFactoryResolver.resolveComponentFactory(ec),properties:Dl,name:"Date",group:Tl,icon:"calendar",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(Zl),designComponentModel:Ql,options:{canBeEmbeddedInRecordEditor:!0},canBeInsertedInto:e=>e.includes(c.RxViewComponentType.RecordEditor),bundleId:a.RX_APPLICATION.platformBundleId})}}nc.\u0275fac=function(e){return new(e||nc)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},nc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:nc,imports:[tc,Kl]}),nc.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[tc,Kl]]});class ic extends Ol{constructor(){super(...arguments),this.fieldResourceTypes=[s.RX_RECORD_DEFINITION.resourceTypes.dateTime]}}class oc{constructor(){this.pickerMode=h.RxDatetimePickerMode.DateTime}}oc.\u0275fac=function(e){return new(e||oc)},oc.\u0275cmp=i["\u0275\u0275defineComponent"]({type:oc,selectors:[["rx-date-time-field-design"]],inputs:{model:"model"},decls:3,vars:9,consts:[[1,"rx-pointer-events-none",3,"required","ngModel","disabled","mode","label","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"adapt-rx-datetime",0),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.dateTimeValue=e}),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("required",i["\u0275\u0275pipeBind1"](1,5,t.model.isRequired$))("ngModel",t.dateTimeValue)("disabled",!0)("mode",t.pickerMode)("label",i["\u0275\u0275pipeBind1"](2,7,t.model.label$))},directives:[h.AdaptRxDatetimeComponent,x.RequiredValidator,x.NgControlStatus,x.NgModel],pipes:[m.AsyncPipe],encapsulation:2});class rc{}rc.\u0275fac=function(e){return new(e||rc)},rc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:rc,declarations:[oc],imports:[h.AdaptRxDatetimeModule,m.CommonModule,x.FormsModule]}),rc.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[h.AdaptRxDatetimeModule,m.CommonModule,x.FormsModule]]});class sc extends h.AdaptRxDatetimeAdapter{fromModel(e){let t=null;const n=(0,S.default)(e);return n&&n.isValid()&&(t={year:n.year(),month:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds()}),t}toModel(e){return e?e.parseError?S.default.invalid().toString():(0,S.default)([e.year||0,e.month||0,e.date||0,e.hours||0,e.minutes||0,e.seconds||0]).toISOString():null}}sc.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](sc)))(t||sc)}}(),sc.\u0275prov=i["\u0275\u0275defineInjectable"]({token:sc,factory:sc.\u0275fac});class ac extends Nl{constructor(e,t){super(e),this.datePipe=t,this.pickerMode=h.RxDatetimePickerMode.DateTime}getDisplayValue(){const e=super.getDisplayValue();if(e)return this.datePipe.transform(e,"medium")}getFieldValidators(){return[e=>{const t=e.value?(0,S.default)(e.value):null;return e.value&&t&&!t.isValid()?{rxDatetimeFormat:{mode:this.pickerMode,hasSeconds:!0}}:null}]}}ac.\u0275fac=function(e){return new(e||ac)(i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](m.DatePipe))},ac.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ac,selectors:[["rx-date-time-field"]],features:[i["\u0275\u0275ProvidersFeature"]([{provide:h.AdaptRxDatetimeAdapter,useClass:sc}]),i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:1,consts:[[4,"ngIf"],["editStateElementRef",""],[3,"label","value",4,"ngIf","ngIfElse"],[3,"label","value"],["hasSeconds","true",3,"label","required","formControl","readonly","disabledStyleForReadonlyState","mode"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,bt,2,2,"ng-container",0),i["\u0275\u0275template"](1,xt,1,6,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"])),2&e&&i["\u0275\u0275property"]("ngIf",!t.isHidden)},directives:[m.NgIf,C.ReadOnlyFieldComponent,h.AdaptRxDatetimeComponent,x.RequiredValidator,x.NgControlStatus,x.FormControlDirective],encapsulation:2});class lc{}lc.\u0275fac=function(e){return new(e||lc)},lc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:lc,declarations:[ac],imports:[h.AdaptRxDatetimeModule,m.CommonModule,x.FormsModule,x.ReactiveFormsModule,C.ReadOnlyFieldModule,u.TranslateModule]}),lc.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[m.DatePipe],imports:[[h.AdaptRxDatetimeModule,m.CommonModule,x.FormsModule,x.ReactiveFormsModule,C.ReadOnlyFieldModule,u.TranslateModule]]});class cc{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:c.RxViewComponentType.DateTime,componentFactory:this.componentFactoryResolver.resolveComponentFactory(ac),properties:Dl,name:"Date/Time",group:Tl,icon:"calendar_clock_o",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(oc),designComponentModel:ic,options:{canBeEmbeddedInRecordEditor:!0},canBeInsertedInto:e=>e.includes(c.RxViewComponentType.RecordEditor),bundleId:a.RX_APPLICATION.platformBundleId})}}cc.\u0275fac=function(e){return new(e||cc)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},cc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:cc,imports:[lc,rc]}),cc.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[lc,rc]]});class dc extends Ol{constructor(){super(...arguments),this.fieldResourceTypes=[s.RX_RECORD_DEFINITION.resourceTypes.decimal,s.RX_RECORD_DEFINITION.resourceTypes.real]}}class uc{}uc.\u0275fac=function(e){return new(e||uc)},uc.\u0275cmp=i["\u0275\u0275defineComponent"]({type:uc,selectors:[["rx-decimal-field-design"]],inputs:{model:"model"},decls:3,vars:7,consts:[["ngModel","",1,"rx-pointer-events-none",3,"required","label","disabled"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"adapt-rx-textfield",0),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275pipe"](2,"async")),2&e&&i["\u0275\u0275property"]("required",i["\u0275\u0275pipeBind1"](1,3,t.model.isRequired$))("label",i["\u0275\u0275pipeBind1"](2,5,t.model.label$))("disabled",!0)},directives:[h.AdaptRxTextfieldComponent,x.NgControlStatus,x.NgModel,x.RequiredValidator],pipes:[m.AsyncPipe],encapsulation:2});class pc{}pc.\u0275fac=function(e){return new(e||pc)},pc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:pc,declarations:[uc],imports:[m.CommonModule,h.AdaptRxTextfieldModule,x.FormsModule]}),pc.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptRxTextfieldModule,x.FormsModule]]});class hc extends Nl{constructor(e){super(e),this.hasFocus=!1,this.decimalPipe=e.get(m.DecimalPipe)}onConfigInitialized(e){super.onConfigInitialized(e),this.counterFormControl=new x.FormControl(this.formControl.value,this.formControl.validator),this.counterFormControl.valueChanges.pipe((0,r.filter)(e=>!(0,p.isEqual)(this.formControl.value,e)),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.setFieldValue(e)}),this.formControl.valueChanges.pipe((0,r.startWith)(this.formControl.value),(0,r.distinctUntilChanged)(p.isEqual),(0,r.takeUntil)(this.destroyed$)).subscribe(()=>{this.hasFocus||this.counterFormControl.setValue(this.formControl.value)}),this.formControl.touched$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{e?this.counterFormControl.markAsTouched():this.counterFormControl.markAsUntouched()})}onBlur(){this.hasFocus=!1,this.formControl.markAsTouched()}onFocus(){this.hasFocus=!0}getDisplayValue(){const e=this.getFieldValue();return(0,p.isNil)(e)?e:this.decimalPipe.transform(String(e))}setFieldValue(e){if(!(0,p.isNull)(e)&&(0,p.isFinite)(e)){const t=new(A())(e);t.eq(this.formControl.value)||(this.formControl.markAsDirty(),this.formControl.setValue(t))}else super.setFieldValue(e)}}hc.\u0275fac=function(e){return new(e||hc)(i["\u0275\u0275directiveInject"](i.Injector))},hc.\u0275cmp=i["\u0275\u0275defineComponent"]({type:hc,selectors:[["rx-integer-field"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](wt,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.counterComponent=e.first)}},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:1,consts:[[4,"ngIf"],["editStateElementRef",""],[3,"label","value",4,"ngIf","ngIfElse"],[3,"label","value"],["adaptIntegerNumber","",1,"mb-0",3,"label","formControl","readonly","disabledStyleForReadonlyState","required","min","max","adaptMin","adaptMax","onBlur","onFocus"],["counterComponent",""]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,_t,2,2,"ng-container",0),i["\u0275\u0275template"](1,St,2,9,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"])),2&e&&i["\u0275\u0275property"]("ngIf",!t.isHidden)},directives:[m.NgIf,C.ReadOnlyFieldComponent,h.AdaptRxCounterComponent,h.AdaptIntegerNumberValidatorDirective,x.NgControlStatus,x.FormControlDirective,x.RequiredValidator,h.AdaptMinValidatorDirective,h.AdaptMaxValidatorDirective],encapsulation:2});class mc extends hc{getDisplayValue(){const e=this.getFieldValue(),t=this.fieldDefinition.precision,n=-1===t?null:`1.${t}-${t}`;return(0,p.isNil)(e)?e:this.decimalPipe.transform(String(e),n)}}mc.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](mc)))(t||mc)}}(),mc.\u0275cmp=i["\u0275\u0275defineComponent"]({type:mc,selectors:[["rx-decimal-field"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:1,consts:[[4,"ngIf"],["editStateElementRef",""],[3,"label","value",4,"ngIf","ngIfElse"],[3,"label","value"],[1,"mb-0",3,"label","formControl","required","min","max","adaptMin","adaptMax","readonly","disabledStyleForReadonlyState","requiredLabel","onBlur","onFocus"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,At,2,2,"ng-container",0),i["\u0275\u0275template"](1,Et,2,12,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"])),2&e&&i["\u0275\u0275property"]("ngIf",!t.isHidden)},directives:[m.NgIf,C.ReadOnlyFieldComponent,h.AdaptRxCounterComponent,x.NgControlStatus,x.FormControlDirective,x.RequiredValidator,h.AdaptMinValidatorDirective,h.AdaptMaxValidatorDirective],pipes:[u.TranslatePipe],encapsulation:2});class fc{}fc.\u0275fac=function(e){return new(e||fc)},fc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:fc,declarations:[mc],imports:[E.AdaptTextFieldFormBuilderModule,h.AdaptRxCounterModule,h.AdaptRxValidatorsModule,m.CommonModule,x.ReactiveFormsModule,C.ReadOnlyFieldModule,u.TranslateModule]}),fc.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[E.AdaptTextFieldFormBuilderModule,h.AdaptRxCounterModule,h.AdaptRxValidatorsModule,m.CommonModule,x.ReactiveFormsModule,C.ReadOnlyFieldModule,u.TranslateModule]]});class gc{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t;const n=this.componentFactoryResolver.resolveComponentFactory(mc);e.register({type:c.RxViewComponentType.Decimal,aliases:[c.RxViewComponentType.Floating],componentFactory:n,properties:Dl,name:"Decimal",group:Tl,icon:"field_decimal_number",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(uc),designComponentModel:dc,options:{canBeEmbeddedInRecordEditor:!0},canBeInsertedInto:e=>e.includes(c.RxViewComponentType.RecordEditor),bundleId:a.RX_APPLICATION.platformBundleId})}}gc.\u0275fac=function(e){return new(e||gc)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},gc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:gc,imports:[fc,pc]}),gc.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[fc,pc]]});class vc extends Ol{constructor(){super(...arguments),this.fieldResourceTypes=[s.RX_RECORD_DEFINITION.resourceTypes.integer]}}class yc{}yc.\u0275fac=function(e){return new(e||yc)},yc.\u0275cmp=i["\u0275\u0275defineComponent"]({type:yc,selectors:[["rx-integer-field-design"]],inputs:{model:"model"},decls:3,vars:7,consts:[["ngModel","",1,"rx-pointer-events-none",3,"required","label","disabled"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"adapt-rx-textfield",0),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275pipe"](2,"async")),2&e&&i["\u0275\u0275property"]("required",i["\u0275\u0275pipeBind1"](1,3,t.model.isRequired$))("label",i["\u0275\u0275pipeBind1"](2,5,t.model.label$))("disabled",!0)},directives:[h.AdaptRxTextfieldComponent,x.NgControlStatus,x.NgModel,x.RequiredValidator],pipes:[m.AsyncPipe],encapsulation:2});class bc{}bc.\u0275fac=function(e){return new(e||bc)},bc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:bc,declarations:[yc],imports:[m.CommonModule,h.AdaptRxTextfieldModule,x.FormsModule]}),bc.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptRxTextfieldModule,x.FormsModule]]});class xc{}xc.\u0275fac=function(e){return new(e||xc)},xc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:xc,declarations:[hc],imports:[E.AdaptTextFieldFormBuilderModule,h.AdaptRxCounterModule,h.AdaptRxValidatorsModule,m.CommonModule,C.ReadOnlyFieldModule,x.ReactiveFormsModule,u.TranslateModule]}),xc.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[E.AdaptTextFieldFormBuilderModule,h.AdaptRxCounterModule,h.AdaptRxValidatorsModule,m.CommonModule,C.ReadOnlyFieldModule,x.ReactiveFormsModule,u.TranslateModule]]});class wc{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:c.RxViewComponentType.Integer,componentFactory:this.componentFactoryResolver.resolveComponentFactory(hc),properties:Dl,name:"Integer",group:Tl,icon:"field_integer_number",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(yc),designComponentModel:vc,options:{canBeEmbeddedInRecordEditor:!0},canBeInsertedInto:e=>e.includes(c.RxViewComponentType.RecordEditor),bundleId:a.RX_APPLICATION.platformBundleId})}}wc.\u0275fac=function(e){return new(e||wc)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},wc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:wc,imports:[xc,bc]}),wc.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[xc,bc]]});const Cc={id:null,name:"None"},_c={radioButtons:"Radio Buttons",dropdown:"Dropdown"},Sc={radioButtons:"radio-buttons",dropdown:"dropdown"};class Ic extends Ol{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.fieldResourceTypes=[s.RX_RECORD_DEFINITION.resourceTypes.selection],this.editingMode$=this.sandbox.componentProperties$.pipe((0,r.map)(e=>e.editingMode))}static getInitialProperties(e){return Object.assign(Object.assign(Object.assign({},Ol.getInitialProperties()),{editingMode:Sc.dropdown}),e)}getInspectorConfig(){return super.getInspectorConfig().pipe((0,r.map)(e=>this.editInspectorConfig(e)))}editInspectorConfig(e){const t=(0,p.findIndex)(e.inspectorSectionConfigs[0].controls,e=>"value"===e.name),n={name:"editingMode",component:l.SelectFormControlComponent,options:{label:"Editing mode",required:!1,options:[{id:Sc.dropdown,name:_c.dropdown},{id:Sc.radioButtons,name:_c.radioButtons}]}};return-1!==t&&e.inspectorSectionConfigs[0].controls.splice(t,0,n),e}}class Ac{ngOnInit(){this.model.editingMode$.subscribe(e=>{this.setMode(e)})}setMode(e){this.isRadioButtonMode=e===Sc.radioButtons}}Ac.\u0275fac=function(e){return new(e||Ac)},Ac.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ac,selectors:[["rx-selection-field-design"]],inputs:{model:"model"},decls:2,vars:2,consts:[["class","rx-pointer-events-none","ngModel","",3,"label","options","disabled","required",4,"ngIf"],[4,"ngIf"],["ngModel","",1,"rx-pointer-events-none",3,"label","options","disabled","required"],[1,"form-group"],[1,"form-control-label"],["class","form-control-required",4,"ngIf"],[3,"ngModel","disabled","ngModelChange"],["value","None","label","None",4,"ngIf"],["label","Option 1"],["label","Option 2"],[1,"form-control-required"],["value","None","label","None"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,Dt,3,9,"adapt-rx-select",0),i["\u0275\u0275template"](1,Mt,12,11,"ng-container",1)),2&e&&(i["\u0275\u0275property"]("ngIf",!t.isRadioButtonMode),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isRadioButtonMode))},directives:[m.NgIf,h.AdaptRxSelectComponent,x.NgControlStatus,x.NgModel,x.RequiredValidator,h.AdaptRxRadiobuttonGroupComponent,h.AdaptRxRadiobuttonComponent],pipes:[m.AsyncPipe],styles:["adapt-select{width:100%}"]});class Ec{}var Dc,Tc;Ec.\u0275fac=function(e){return new(e||Ec)},Ec.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ec,declarations:[Ac],imports:[m.CommonModule,h.AdaptRxRadiobuttonModule,x.FormsModule,h.AdaptRxSelectModule]}),Ec.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptRxRadiobuttonModule,x.FormsModule,h.AdaptRxSelectModule]]}),function(e){e.RadioButton="radio-buttons",e.Dropdown="dropdown"}(Dc||(Dc={}));class Rc extends Nl{getSelectValue(){return(0,p.isNil)(this.formControl.value)?[]:(0,p.compact)([this.selectOptions.find(e=>e.id===Number(this.formControl.value))])}onConfigInitialized(e){super.onConfigInitialized(e),this.isRadioButtonMode=e.editingMode===Dc.RadioButton,this.generateControlOptions(this.fieldDefinition),this.selectFormControl=new x.FormControl(this.getSelectValue()),this.selectFormControl.valueChanges.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.setFieldValue((0,p.get)(e,"[0].id",null))}),this.formControl.valueChanges.pipe((0,r.startWith)(this.formControl.value),(0,r.distinctUntilChanged)(),(0,r.takeUntil)(this.destroyed$)).subscribe(()=>{this.selectFormControl.setValue(this.getSelectValue())}),this.formControl.touched$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{e?this.selectFormControl.markAsTouched():this.selectFormControl.markAsUntouched()})}generateControlOptions(e){this.selectOptions=(0,p.map)(e.optionLabelsById,(e,t)=>({name:e,id:Number(t)})),!this.isRequired&&this.isRadioButtonMode&&this.selectOptions.unshift(Cc)}getDisplayValue(){return this.fieldDefinition.optionLabelsById[this.formControl.value]}optionFormatter(e){return e.name}onPopupStatusChange(e){e||this.formControl.markAsTouched()}}Rc.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Rc)))(t||Rc)}}(),Rc.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Rc,selectors:[["rx-selection-field"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:1,consts:[[4,"ngIf"],["editStateElementRef",""],[3,"label","value",4,"ngIf","ngIfElse"],[3,"label","value"],[3,"name","formControl","readonly","label",4,"ngIf"],[3,"options","required","label","formControl","readonly","optionFormatter","enableFilter","emptyOption","onPopupOpenChange",4,"ngIf"],[3,"name","formControl","readonly","label"],[3,"value","label","class",4,"ngFor","ngForOf"],[3,"value","label"],[3,"options","required","label","formControl","readonly","optionFormatter","enableFilter","emptyOption","onPopupOpenChange"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,Pt,2,2,"ng-container",0),i["\u0275\u0275template"](1,jt,2,2,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"])),2&e&&i["\u0275\u0275property"]("ngIf",!t.isHidden)},directives:[m.NgIf,C.ReadOnlyFieldComponent,h.AdaptRxRadiobuttonGroupComponent,x.NgControlStatus,x.FormControlDirective,m.NgForOf,h.AdaptRxRadiobuttonComponent,h.AdaptRxSelectComponent,x.RequiredValidator],encapsulation:2});class Mc{}Mc.\u0275fac=function(e){return new(e||Mc)},Mc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Mc,declarations:[Rc],imports:[h.AdaptRxFormControlModule,h.AdaptRxRadiobuttonModule,m.CommonModule,C.ReadOnlyFieldModule,x.FormsModule,x.ReactiveFormsModule,u.TranslateModule,h.AdaptRxLabelModule,h.AdaptRxSelectModule]}),Mc.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[h.AdaptRxFormControlModule,h.AdaptRxRadiobuttonModule,m.CommonModule,C.ReadOnlyFieldModule,x.FormsModule,x.ReactiveFormsModule,u.TranslateModule,h.AdaptRxLabelModule,h.AdaptRxSelectModule]]});class Oc{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:c.RxViewComponentType.Selection,componentFactory:this.componentFactoryResolver.resolveComponentFactory(Rc),properties:Dl,name:"Select",group:Tl,icon:"field_dropdown",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(Ac),designComponentModel:Ic,options:{canBeEmbeddedInRecordEditor:!0},canBeInsertedInto:e=>e.includes(c.RxViewComponentType.RecordEditor),bundleId:a.RX_APPLICATION.platformBundleId})}}Oc.\u0275fac=function(e){return new(e||Oc)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},Oc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Oc,imports:[Mc,Ec]}),Oc.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[Mc,Ec]]});class Pc extends f.BaseViewComponent{constructor(){super(...arguments),this.fieldComponents=new Map}registerFieldComponent(e,t){this.fieldComponents.set(e,t)}getValueForPreviousField(e){const t=this.fieldComponents.get(e-1);return t?t.getFieldValue():null}resetValueForNextFields(e){const t=e+1,n=this.fieldComponents.get(t);n&&(n.resetFieldValue(),this.resetValueForNextFields(t))}}Pc.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Pc)))(t||Pc)}}(),Pc.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Pc,selectors:[["rx-select-group"]],inputs:{config:"config"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:0,template:function(e,t){1&e&&i["\u0275\u0275element"](0,"rx-runtime-view-canvas-outlet")},directives:[f.RuntimeViewCanvasOutletComponent],encapsulation:2});class Fc extends Nl{constructor(e,t,n,i){super(e),this.selectGroupComponent=t,this.rxNamedListDefinitionService=n,this.rxNamedListService=i,this.optionLoaderFunc=this.getNamedListOptionPage.bind(this),this.viewToModelValueAdapterFunc=this.viewToModelValueAdapter.bind(this),this.modelToViewValueAdapterFunc=this.modelToViewValueAdapter.bind(this),this.selectedOptions=[]}onConfigInitialized(e){super.onConfigInitialized(e),this.fieldIndex=Number(e.index),this.namedListDefinitionName=e.namedListDefinitionName,this.selectGroupComponent.registerFieldComponent(this.fieldIndex,this);const t=this.rxNamedListDefinitionService.get(this.namedListDefinitionName).pipe((0,r.take)(1)),n=this.formControl.valueChanges.pipe((0,r.distinctUntilChanged)(p.isEqual),(0,r.startWith)(this.formControl.value),(0,r.takeUntil)(this.destroyed$));(0,o.combineLatest)([t,n]).subscribe(([t])=>{this.namedListDefinition=t,this.fieldIdToFilterBy=e.optionFilterFieldId||t.valueFieldId,this.updateSelectedOption(),this.formControl.dirty?this.selectGroupComponent.resetValueForNextFields(this.fieldIndex):this.resetLoadedOptions()})}resetFieldValue(){super.setFieldValue(null),this.resetLoadedOptions()}getDisplayValue(){return this.readOnlyValue}getNamedListOptionPage(e,t,n){return this.rxNamedListService.getOptionPage(this.namedListDefinition,n,this.getSelectionQueryCriteria(),e,t)}viewToModelValueAdapter(e){return(0,p.get)(e,"[0].value","")}modelToViewValueAdapter(e){return(0,p.isNil)(e)?[]:this.selectedOptions}updateSelectedOption(){let e;if(this.showDefaultTitle=!1,(0,p.isEmpty)(this.formControl.value))e=(0,o.of)([]);else{const t=(0,p.get)(this.selectWithPaginationComponent,"options",[]),n=(0,p.find)(t,{value:this.formControl.value});e=n?(0,o.of)([n]):this.rxNamedListService.getOptionsForValues(this.namedListDefinition,[this.formControl.value])}e.pipe((0,r.take)(1)).subscribe(e=>{this.showDefaultTitle=!0,this.selectedOptions=e,(0,p.isEmpty)(e)&&this.formControl.value&&(this.selectedOptions=[{displayValue:null,value:this.formControl.value}]),this.formControl.dirty&&this.formControl.markAsTouched(),this.triggerModelToViewValueUpdate(),this.updateReadOnlyValue()})}resetLoadedOptions(){this.selectWithPaginationComponent&&this.selectWithPaginationComponent.resetLoadedOptions()}getSelectionQueryCriteria(){let e=null;if(this.fieldIndex>0){const t=this.selectGroupComponent.getValueForPreviousField(this.fieldIndex);t&&(e=`('${this.fieldIdToFilterBy}' = "${t}")`)}return e}updateReadOnlyValue(){this.readOnlyValue=(0,p.get)(this.selectedOptions,"[0].displayValue",null)}triggerModelToViewValueUpdate(){this.formControl.setValue(this.formControl.value,{emitEvent:!1})}}Fc.\u0275fac=function(e){return new(e||Fc)(i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](Pc),i["\u0275\u0275directiveInject"](D.RxNamedListDefinitionService),i["\u0275\u0275directiveInject"](D.RxNamedListService))},Fc.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Fc,selectors:[["rx-select-group-field"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](l.RxSelectWithPaginationComponent,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.selectWithPaginationComponent=e.first)}},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:1,consts:[[4,"ngIf"],["editStateElementRef",""],[3,"label","value",4,"ngIf","ngIfElse"],[3,"label","value"],[3,"label","formControl","required","readonly","optionLoader","showDefaultTitle","viewToModelValueAdapter","modelToViewValueAdapter"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,Vt,2,2,"ng-container",0),i["\u0275\u0275template"](1,Bt,1,8,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"])),2&e&&i["\u0275\u0275property"]("ngIf",!t.isHidden)},directives:[m.NgIf,C.ReadOnlyFieldComponent,l.RxSelectWithPaginationComponent,x.NgControlStatus,x.FormControlDirective,x.RequiredValidator],encapsulation:2});class kc{adaptDefinition(e){e.componentDefinitions.forEach(t=>{(0,p.assign)(t.propertiesByName,{disabled:e.propertiesByName.disabled,hidden:e.propertiesByName.hidden,index:Number(t.propertiesByName.index)}),delete t.propertiesByName.labelId});const t={outlets:[{name:c.RX_VIEW_DEFINITION.defaultOutletName,columns:[{children:(0,p.sortBy)(e.componentDefinitions,"propertiesByName.index").map(e=>e.guid)}]}]};e.propertiesByName=(0,p.omit)(e.propertiesByName,["disabled","hidden","recordInstance","recordDefinition"]),e.layout=JSON.stringify(t)}}kc.\u0275fac=function(e){return new(e||kc)},kc.\u0275prov=i["\u0275\u0275defineInjectable"]({token:kc,factory:kc.\u0275fac});class Nc{constructor(e,t){this.viewComponentDefinitionAdapterRegistryService=e,this.selectGroupComponentDefinitionAdapterService=t,e.registerRuntimeAdapter(c.RxViewComponentType.SelectGroup,this.selectGroupComponentDefinitionAdapterService)}}Nc.\u0275fac=function(e){return new(e||Nc)(i["\u0275\u0275inject"](a.RxDefinitionAdapterRegistryService),i["\u0275\u0275inject"](kc))},Nc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Nc,declarations:[Pc,Fc],imports:[m.CommonModule,f.RuntimeViewCanvasModule,x.ReactiveFormsModule,l.RxSelectWithPaginationModule,C.ReadOnlyFieldModule]}),Nc.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[kc],imports:[[m.CommonModule,f.RuntimeViewCanvasModule,x.ReactiveFormsModule,l.RxSelectWithPaginationModule,C.ReadOnlyFieldModule]]});class jc{constructor(e,t,n){this.rxDefinitionNameService=e,this.rxNamedListDefinitionCacheService=t,this.rxRecordDefinitionCacheService=n,this.definitionPickerOptions={label:"Named list for options",definitionType:l.RxDefinitionPickerType.NamedList,required:!0},this.filterField=[],this.filterFieldIdOptions=[],this.sourceRecordDefinitionDisplayName="",this.fieldId=[]}ngOnInit(){this.onNamedListDefinitionNameChange(!1)}onNamedListDefinitionNameChange(e=!0){(0,o.of)(this.fieldformGroup.get("namedListDefinitionName").value).pipe((0,r.switchMap)(e=>e?this.rxNamedListDefinitionCacheService.getNamedListDefinition(e).pipe((0,r.map)(e=>e.recordDefinitionName)):(0,o.of)(null)),(0,r.take)(1)).subscribe(t=>{this.fieldformGroup.get("sourceRecordDefinitionName").setValue(t,{emitEvent:e}),this.filterFieldIdOptions=[],this.setFilterId(),this.index>0&&(this.setOptionFilterFieldIdOptions(),this.setSourceRecordDefinitionDisplayName())})}setFilterId(){const e=this.fieldformGroup.get("fieldId").value;this.fieldId=(0,p.isEmpty)(e)?[]:[this.targetFieldOptions.find(t=>t.id===e)]}setSourceRecordDefinitionDisplayName(){const e=this.fieldformGroup.get("sourceRecordDefinitionName").value;this.sourceRecordDefinitionDisplayName=e&&this.rxDefinitionNameService.getDisplayName(e)}setOptionFilterFieldIdOptions(){const e=this.fieldformGroup.get("sourceRecordDefinitionName").value;this.filterField=[],e&&this.rxRecordDefinitionCacheService.getRecordDefinition(e).pipe((0,r.map)(e=>e.fieldDefinitions.map(e=>({name:e.name,id:String(e.id)})))).subscribe(e=>{const t=this.fieldformGroup.get("optionFilterFieldId").value;this.filterFieldIdOptions=e,this.filterField=(0,p.isEmpty)(t)?[]:[this.filterFieldIdOptions.find(e=>e.id===t)]})}optionFormatter(e){return e.name}onSelectFilterField(e){this.fieldformGroup.get("optionFilterFieldId").setValue((0,p.head)(e).id)}onSelectField(e){this.fieldformGroup.get("fieldId").setValue((0,p.head)(e).id)}}jc.\u0275fac=function(e){return new(e||jc)(i["\u0275\u0275directiveInject"](a.RxDefinitionNameService),i["\u0275\u0275directiveInject"](D.RxNamedListDefinitionCacheService),i["\u0275\u0275directiveInject"](s.RxRecordDefinitionCacheService))},jc.\u0275cmp=i["\u0275\u0275defineComponent"]({type:jc,selectors:[["rx-select-group-field"]],inputs:{fieldformGroup:"fieldformGroup",index:"index",targetFieldOptions:"targetFieldOptions"},decls:6,vars:13,consts:[["label","Display label","required","true","rx-id","display-label-field",1,"form-group","d-block",3,"formControl"],["required","true","rx-id","named-list-definition-name-field",1,"form-group","d-block",3,"options","formControl","ngModelChange"],["label","Field for storing selected option value","rx-id","selected-option-value-target-field",3,"ngModel","options","optionFormatter","required","disabled","ngClass","ngModelChange"],["label","Source record definition","class","form-group d-block","disabled","","rx-id","source-record-definition-name-field",3,"ngModel","tooltip",4,"ngIf"],["label","Field for filtering option values","rx-id","option-values-filter-field",3,"ngModel","options","optionFormatter","disabled","tooltip","ngModelChange",4,"ngIf"],["label","Source record definition","disabled","","rx-id","source-record-definition-name-field",1,"form-group","d-block",3,"ngModel","tooltip"],["label","Field for filtering option values","rx-id","option-values-filter-field",3,"ngModel","options","optionFormatter","disabled","tooltip","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275element"](1,"adapt-rx-textfield",0),i["\u0275\u0275elementStart"](2,"rx-definition-picker",1),i["\u0275\u0275listener"]("ngModelChange",function(){return t.onNamedListDefinitionNameChange()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"adapt-rx-select",2),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.onSelectField(e)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,zt,1,3,"adapt-rx-textfield",3),i["\u0275\u0275template"](5,Ut,1,6,"adapt-rx-select",4),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("formControl",t.fieldformGroup.get("label")),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("options",t.definitionPickerOptions)("formControl",t.fieldformGroup.get("namedListDefinitionName")),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.fieldId)("options",t.targetFieldOptions)("optionFormatter",t.optionFormatter)("required",!0)("disabled",t.fieldformGroup.disabled)("ngClass",i["\u0275\u0275pureFunction1"](11,Ht,t.index>0)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.index>0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.index>0))},directives:[h.AdaptRxTextfieldComponent,x.RequiredValidator,x.NgControlStatus,x.FormControlDirective,l.RxDefinitionPickerComponent,h.AdaptRxSelectComponent,x.NgModel,m.NgClass,m.NgIf],encapsulation:2});class Lc extends l.InspectorWidgetBase{constructor(e,t,n,i){super(i),this.formBuilder=e,this.rxGuidService=t,this.rxModalService=n,this.formArray=this.formBuilder.array([]),this.maxSelectGroupFieldCount=6,this.destroyed$=new o.ReplaySubject(1)}ngOnInit(){this.designerItemModel.fieldProperties$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>this.onWriteValue(e)),this.setDisabledState(this.isDisabled)}onWriteValue(e){var t;null===(t=this.valueChangeSubscription)||void 0===t||t.unsubscribe();const n=e.sort((e,t)=>Number(e.index)-Number(t.index)).map(e=>this.formBuilder.group(Object.assign(Object.assign({},(0,p.omit)(e,"index")),{sourceRecordDefinitionName:{value:null,disabled:!0}})));this.formArray=this.formBuilder.array(n),this.valueChangeSubscription=this.formArray.valueChanges.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(this.onFormValueChange.bind(this))}onFormValueChange(e){const t=e.map((e,t)=>{const n=Object.assign(Object.assign({},(0,p.omit)(e,["sourceRecordDefinitionName","optionFilterFieldId"])),{index:String(t),fieldId:e.namedListDefinitionName?e.fieldId:null});return t>0&&(n.optionFilterFieldId=e.namedListDefinitionName?e.optionFilterFieldId:null),n});this.designerItemModel.onFieldPropertiesChange(t)}addField(){this.formArray.push(this.getFieldFormGroup())}removeField(e){this.rxModalService.confirm({title:"Warning",modalStyle:C.RX_MODAL.modalStyles.warning,message:"Are you sure you want to delete this field?"}).then(t=>{t&&this.formArray.removeAt(e)})}isAddFieldButtonDisabled(){return this.isDisabled||this.formArray.length>=this.maxSelectGroupFieldCount}trackByFn(e,t){return t.get("guid").value}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}getFieldFormGroup(){return this.formBuilder.group({guid:this.rxGuidService.generate(),label:null,namedListDefinitionName:null,fieldId:null,sourceRecordDefinitionName:null,optionFilterFieldId:null})}setDisabledState(e){e?this.formArray.disable():this.formArray.enable()}}Lc.\u0275fac=function(e){return new(e||Lc)(i["\u0275\u0275directiveInject"](x.FormBuilder),i["\u0275\u0275directiveInject"](v.RxGuidService),i["\u0275\u0275directiveInject"](C.RxModalService),i["\u0275\u0275directiveInject"](i.Injector))},Lc.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Lc,selectors:[["rx-field-set-form-control"]],inputs:{options:"options",isDisabled:"isDisabled"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:3,consts:[["btn-type","tertiary","rx-id","add-field-button",1,"d-icon-plus_circle","px-0","py-0",3,"disabled","click"],["class","card mt-2","rx-id","select-group-field-card",4,"ngFor","ngForOf","ngForTrackBy"],["rx-id","select-group-field-card",1,"card","mt-2"],[1,"card-block","p-2"],["class","close position-relative","type","button","aria-label","Remove","rx-id","remove-field-button",3,"click",4,"ngIf"],[3,"fieldformGroup","index","targetFieldOptions"],["type","button","aria-label","Remove","rx-id","remove-field-button",1,"close","position-relative",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"adapt-button",0),i["\u0275\u0275listener"]("click",function(){return t.addField()}),i["\u0275\u0275text"](1," Add dependent field\n"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,Wt,4,4,"div",1)),2&e&&(i["\u0275\u0275property"]("disabled",t.isAddFieldButtonDisabled()),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.formArray.controls)("ngForTrackBy",t.trackByFn))},directives:[h.AdaptButtonComponent,m.NgForOf,m.NgIf,jc],styles:[".close[_ngcontent-%COMP%]{z-index:1}"]});class Vc extends d.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.rxRecordDefinitionCacheService=this.injector.get(s.RxRecordDefinitionCacheService),this.rxFieldDefinitionService=this.injector.get(s.RxFieldDefinitionService),this.recordEditorGuid$=this.sandbox.getParentComponentGuid(c.RxViewComponentType.RecordEditor).pipe((0,r.take)(1),(0,r.shareReplay)(1)),this.recordEditorMode$=this.recordEditorGuid$.pipe((0,r.switchMap)(e=>this.sandbox.getComponentPropertyValue("mode",e))),this.recordDefinitionName$=this.recordEditorGuid$.pipe((0,r.switchMap)(e=>this.sandbox.getComponentPropertyValue("recordDefinitionName",e)),(0,r.shareReplay)(1)),this.fieldDefinitions$=this.recordDefinitionName$.pipe((0,r.switchMap)(e=>e?this.rxRecordDefinitionCacheService.getRecordDefinition(e).pipe((0,r.catchError)(e=>o.EMPTY)):(0,o.of)(null)),(0,r.distinctUntilChanged)(),(0,r.map)(e=>e&&e.fieldDefinitions?(0,p.filter)(e.fieldDefinitions,{resourceType:s.RX_RECORD_DEFINITION.resourceTypes.character}):[]),(0,r.shareReplay)(1)),this.inspectorTargetFieldOptions$=(0,o.combineLatest)([this.fieldDefinitions$,this.recordEditorMode$]).pipe((0,r.map)(([e,t])=>[(0,p.filter)(e,{resourceType:s.RX_RECORD_DEFINITION.resourceTypes.character}),t]),(0,r.map)(([e,t])=>(0,p.flow)(e=>(0,p.filter)(e,e=>{const n=this.rxFieldDefinitionService.isSystemField(e);return!n||n&&t===Ha.Edit}),e=>(0,p.map)(e,e=>({name:e.name,id:String(e.id)})),e=>(0,p.sortBy)(e,"name"))(e)),(0,r.shareReplay)(1)),this.fieldsDesignData$=this.sandbox.getChildComponents(),this.fieldProperties$=this.fieldsDesignData$.pipe((0,r.map)(e=>(0,p.map)(e,e=>Object.assign(Object.assign({},e.data),{guid:e.guid})))),(0,o.combineLatest)([this.recordDefinitionName$,this.inspectorTargetFieldOptions$,this.recordEditorGuid$]).pipe((0,r.take)(1)).subscribe(([e,t,n])=>{this.sandbox.updateInspectorConfig(this.getBaseInspectorConfig(t,e,n))}),this.inspectorTargetFieldOptions$.pipe((0,r.withLatestFrom)(this.recordDefinitionName$,this.recordEditorGuid$)).subscribe(([e,t,n])=>{this.sandbox.updateInspectorConfig(this.getBaseInspectorConfig(e,t,n))}),(0,o.combineLatest)([this.sandbox.componentProperties$,this.fieldProperties$]).pipe((0,r.switchMap)(([e,t])=>this.validate(e,t))).subscribe(e=>{this.sandbox.setValidationIssues(e)})}static getInitialProperties(e){return Object.assign(Object.assign(Object.assign({},c.RX_DISABLED_PROP_DEFAULT_VALUE),c.RX_STANDARD_PROPS_DEFAULT_VALUES),e)}onFieldPropertiesChange(e){const t=this.getFieldComponentPayloads(e);this.sandbox.setChildren(t)}isFieldRequired(e){return this.fieldDefinitions$.pipe((0,r.map)(t=>{const n=e.data.fieldId&&(0,p.find)(t,{id:Number(e.data.fieldId)});return Boolean(n)&&n.fieldOption===s.RX_RECORD_DEFINITION.fieldOptions.required}))}getPropertiesByName(e){return(0,p.pick)(e,["disabled","hidden","styles",c.RX_AVAILABLE_ON_DEVICES_PROP_NAME])}validate(e,t){const n=[];if((0,p.isEmpty)(t))n.push("Field set cannot be empty.");else{const e=(0,p.filter)(t,e=>e.label);e.length!==t.length&&n.push("Display label cannot be blank."),(0,p.uniqBy)(e,"label").length!==e.length&&n.push("Display labels must be unique."),(0,p.reject)(t,e=>e.namedListDefinitionName).length&&n.push("Named list for options cannot be blank."),(0,p.reject)(t,e=>e.fieldId).length&&n.push("Field for storing selected option value cannot be blank.")}const i=n.map(e=>this.sandbox.createError(e)).concat((0,d.validateStandardProps)(e));return(0,o.of)(i)}getFieldComponentPayloads(e){return(0,p.map)(e,e=>({type:c.RxViewComponentType.SelectGroupField,guid:e.guid,data:(0,p.omit)(e,"guid")}))}getBaseInspectorConfig(e,t,n){const i={label:"General",controls:[]};return i.controls=t?[(0,d.getDisabledFieldInspectorConfig)(),...(0,d.getStandardPropsInspectorConfigs)()]:[{component:l.ValidationFormControlComponent,options:{text:"You must select a Record definition before editing field component.",propertyName:"recordDefinitionName",componentGuid:n}}],{inspectorSectionConfigs:t?[i,{label:"Field set",controls:[{component:Lc,options:{targetFieldOptions:e}}]}]:[i]}}}class Bc{trackByFn(e,t){return t.data.guid}}Bc.\u0275fac=function(e){return new(e||Bc)},Bc.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Bc,selectors:[["rx-select-group-design"]],inputs:{model:"model"},decls:4,vars:4,consts:[[3,"ngIf","ngIfElse"],["placeholderTemplate",""],["ngModel","","rx-id","select-group-field","class","form-group d-block",3,"label","required","disabled",4,"ngFor","ngForOf","ngForTrackBy"],["ngModel","","rx-id","select-group-field",1,"form-group","d-block",3,"label","required","disabled"],["type","objects","label","Add dependent fields in the Properties panel."]],template:function(e,t){if(1&e&&(i["\u0275\u0275template"](0,Yt,2,4,"ng-template",0),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275template"](2,Qt,1,0,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"])),2&e){const e=i["\u0275\u0275reference"](3);i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](1,2,t.model.fieldsDesignData$).length)("ngIfElse",e)}},directives:[m.NgIf,m.NgForOf,h.AdaptRxTextfieldComponent,x.NgControlStatus,x.NgModel,x.RequiredValidator,h.AdaptEmptyStateComponent],pipes:[m.AsyncPipe],encapsulation:2});class Gc{}Gc.\u0275fac=function(e){return new(e||Gc)},Gc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Gc,declarations:[Bc,Lc,jc],imports:[x.FormsModule,m.CommonModule,h.AdaptButtonModule,x.ReactiveFormsModule,l.RxDefinitionPickerModule,h.AdaptRxTextfieldModule,h.AdaptRxSelectModule,h.AdaptEmptyStateModule],exports:[Bc,Lc,jc]}),Gc.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[x.FormsModule,m.CommonModule,h.AdaptButtonModule,x.ReactiveFormsModule,l.RxDefinitionPickerModule,h.AdaptRxTextfieldModule,h.AdaptRxSelectModule,h.AdaptEmptyStateModule]]});class zc{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:c.RxViewComponentType.SelectGroup,componentFactory:this.componentFactoryResolver.resolveComponentFactory(Pc),properties:[c.RX_AVAILABLE_ON_DEVICES_PROP_DESC],outlets:[{name:c.RX_VIEW_DEFINITION.defaultOutletName}],name:"Select group",designComponentFactory:t.resolveComponentFactory(Bc),designComponentModel:Vc,isContainerComponent:!0,group:Tl,icon:"field_dropdowns",options:{canBeEmbeddedInRecordEditor:!0},canBeInsertedInto:e=>e.includes(c.RxViewComponentType.RecordEditor),bundleId:a.RX_APPLICATION.platformBundleId},{type:c.RxViewComponentType.SelectGroupField,componentFactory:this.componentFactoryResolver.resolveComponentFactory(Fc),properties:Dl,isDataComponent:!0})}}zc.\u0275fac=function(e){return new(e||zc)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},zc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:zc,imports:[Nc,Gc]}),zc.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[Nc,Gc]]});class $c extends Ol{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.fieldResourceTypes=[s.RX_RECORD_DEFINITION.resourceTypes.character],this.translateService=this.injector.get(u.TranslateService)}static getInitialProperties(e){return Object.assign(Object.assign(Object.assign({},Ol.getInitialProperties()),{enableMultiSelection:null,additionalQueryCriteria:null}),e)}getInspectorConfig(){return this.selectedFieldDefinition$.pipe((0,r.switchMap)(e=>super.getInspectorConfig().pipe((0,r.map)(t=>(null==e?void 0:e.namedListDefinition)?this.getNamedListInspectorConfig(t,e):t))))}getNamedListInspectorConfig(e,t){const n=new d.NamedListFilterExpressionConfigurator(t,this.injector),i={name:"enableMultiSelection",component:l.SwitchFormControlComponent,options:{label:"Enable multi-selection"}},o=[{name:"namedListDefinitionName",component:l.RxDefinitionPickerComponent,isDisabled:!0,options:{label:this.translateService.instant("com.bmc.arsys.rx.client.definition-type.named-list.label"),definitionType:l.RX_DEFINITION_PICKER.definitionTypes.namedList.type}},{name:"additionalQueryCriteria",component:l.ExpressionFormControlComponent,options:{label:"Additional named list filter",tooltip:new a.Tooltip("Build a filter to apply at runtime in addition to the filter, if any, specified in the named list definition."),dataDictionary$:n.getDataDictionary(),operators:n.getOperators()}}];return e.inspectorSectionConfigs[0].controls.push(i),e.inspectorSectionConfigs[0].controls.push(...o),this.sandbox.updateComponentProperties({namedListDefinitionName:t.namedListDefinition}),e}getPropertiesByName(e){return(0,p.omit)(super.getPropertiesByName(e),"namedListDefinitionName")}}class Uc{}Uc.\u0275fac=function(e){return new(e||Uc)},Uc.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Uc,selectors:[["rx-character-field-design"]],inputs:{model:"model"},decls:3,vars:7,consts:[["ngModel","",1,"rx-pointer-events-none",3,"required","label","disabled"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"adapt-rx-textfield",0),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275pipe"](2,"async")),2&e&&i["\u0275\u0275property"]("required",i["\u0275\u0275pipeBind1"](1,3,t.model.isRequired$))("label",i["\u0275\u0275pipeBind1"](2,5,t.model.label$))("disabled",!0)},directives:[h.AdaptRxTextfieldComponent,x.NgControlStatus,x.NgModel,x.RequiredValidator],pipes:[m.AsyncPipe],encapsulation:2});class Hc{}Hc.\u0275fac=function(e){return new(e||Hc)},Hc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Hc,declarations:[Uc],imports:[m.CommonModule,h.AdaptRxTextfieldModule,x.FormsModule]}),Hc.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptRxTextfieldModule,x.FormsModule]]});class Xc extends d.RxViewComponentExpressionConfigurator{constructor(e,t,n){super(e,t,n),this.injector=e,this.componentGuid=t,this.componentModel=n;const i=this.componentModel.selectedFieldDefinition$.pipe((0,r.filter)(e=>Boolean(e.namedListDefinition)),(0,r.switchMap)(e=>new d.NamedListFilterExpressionConfigurator(e,this.injector).getDataDictionary()));this.configureForProperty({propertyPath:"additionalQueryCriteria",dataDictionary$:i,operators:a.ExpressionOperatorRowsByGroup.get(a.ExpressionOperatorGroup.AllServer)})}}!function(e){e.Enabled="true",e.Disabled="false"}(Tc||(Tc={}));class Wc extends Nl{constructor(e,t,n,i){super(e),this.fieldDefinitionService=t,this.rxNamedListDefinitionService=n,this.rxNamedListService=i,this.optionLoaderFunc=this.getNamedListOptionPage.bind(this),this.viewToModelValueAdapterFunc=this.viewToModelValueAdapter.bind(this),this.modelToViewValueAdapterFunc=this.modelToViewValueAdapter.bind(this),this.selectedOptions=[],this.multiSelectDelimiter=";",this.isDropdownOpen=!1}onConfigInitialized(e){if(super.onConfigInitialized(e),this.isPasswordField=(0,p.includes)(s.RX_RECORD_DEFINITION.passwordFieldIds,this.fieldId)||this.fieldDefinition.shouldPersistHashed,this.namedListDefinitionName=this.fieldDefinition.namedListDefinition,this.isNamedListAttached=Boolean(this.namedListDefinitionName),this.isMultipleSelectionEnabled=e.enableMultiSelection===Tc.Enabled,this.fieldDefinition.maxLength&&!this.fieldDefinitionService.isSystemField(this.fieldDefinition)&&(this.maxLength=this.fieldDefinition.maxLength),this.isNamedListAttached){const e=this.rxNamedListDefinitionService.get(this.namedListDefinitionName).pipe((0,r.shareReplay)(1),(0,r.take)(1)),t=this.formControl.valueChanges.pipe((0,r.distinctUntilChanged)(p.isEqual),(0,r.startWith)(this.formControl.value),(0,r.filter)(()=>!this.isDropdownOpen),(0,r.takeUntil)(this.destroyed$));this.config.pipe((0,r.debounceTime)(250),(0,r.pluck)("additionalQueryCriteria"),(0,r.distinctUntilChanged)(),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>{(0,p.isNil)(this.additionalQueryCriteria)||(this.selectWithPaginationComponent.resetLoadedOptions(),this.setFieldValue(null)),this.additionalQueryCriteria=e}),(0,o.combineLatest)([e,t]).subscribe(([e])=>{this.namedListDefinition=e,this.updateSelection()})}}getDisplayValue(){let e=super.getDisplayValue();return this.isPasswordField?e="********":this.isNamedListAttached&&(e=this.namedListFormattedValue),e}getNamedListOptionPage(e,t,n){return this.rxNamedListService.getOptionPage(this.namedListDefinition,n,this.additionalQueryCriteria,e,t)}viewToModelValueAdapter(e){return this.selectedOptions=e,this.updateNamedListFormattedValue(),e.map(e=>e.value).join(this.multiSelectDelimiter)}modelToViewValueAdapter(e){return e?this.selectedOptions:[]}onToggleDropdown(e){this.isDropdownOpen=e}getOptionValues(e){return e?(0,p.compact)(e.split(this.multiSelectDelimiter)):[]}updateSelection(){this.showDefaultTitle=!1;const e=this.getOptionValues(this.formControl.value);if(!this.isMultipleSelectionEnabled&&e.length>1)this.selectedOptions=[{displayValue:null,value:this.formControl.value}],this.triggerModelToViewValueUpdate(),this.updateNamedListFormattedValue();else{const t=(0,p.get)(this.selectWithPaginationComponent,"options",[]);(e.every(e=>t.find(t=>t.value===e))?(0,o.of)(t):this.rxNamedListService.getOptionsForValues(this.namedListDefinition,e)).subscribe(t=>{this.showDefaultTitle=!0,!this.isMultipleSelectionEnabled&&e.length>1?this.selectedOptions=[{displayValue:null,value:this.formControl.value}]:this.selectedOptions=e.map(e=>(0,p.find)(t,{value:e})||{displayValue:null,value:e}),this.formControl.dirty&&this.formControl.markAsTouched(),this.triggerModelToViewValueUpdate(),this.updateNamedListFormattedValue()})}}updateNamedListFormattedValue(){if(this.isMultipleSelectionEnabled){const e=50;this.namedListFormattedValue=this.selectedOptions.slice(0,e).map(e=>e.displayValue).filter(Boolean).join(", ")||null,this.selectedOptions.length>=e&&(this.namedListFormattedValue+="...")}else this.namedListFormattedValue=this.selectedOptions.length?(0,p.first)(this.selectedOptions).displayValue:null}triggerModelToViewValueUpdate(){this.formControl.setValue(this.formControl.value,{emitEvent:!1})}}Wc.\u0275fac=function(e){return new(e||Wc)(i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](s.RxFieldDefinitionService),i["\u0275\u0275directiveInject"](D.RxNamedListDefinitionService),i["\u0275\u0275directiveInject"](D.RxNamedListService))},Wc.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Wc,selectors:[["rx-text-field"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](l.RxSelectWithPaginationComponent,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.selectWithPaginationComponent=e.first)}},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:1,consts:[[4,"ngIf"],["editStateElementRef",""],["namedListOptionTemplate",""],[3,"label","value",4,"ngIf","ngIfElse"],[3,"label","value"],[3,"label","isPassword","formControl","maxlength","required","readonly","disabledStyleForReadonlyState","autocomplete","requiredLabel",4,"ngIf"],[3,"showDefaultTitle","label","formControl","readonly","viewToModelValueAdapter","modelToViewValueAdapter","optionLoader","required","isMultiSelectionMode","template","toggleDropdown",4,"ngIf"],[3,"label","isPassword","formControl","maxlength","required","readonly","disabledStyleForReadonlyState","autocomplete","requiredLabel"],[3,"showDefaultTitle","label","formControl","readonly","viewToModelValueAdapter","modelToViewValueAdapter","optionLoader","required","isMultiSelectionMode","template","toggleDropdown"],["class","text-secondary text-truncate",3,"title",4,"ngIf"],[1,"text-secondary","text-truncate",3,"title"],["class","breadcrumb-item active",4,"ngFor","ngForOf"],[1,"breadcrumb-item","active"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,Kt,2,2,"ng-container",0),i["\u0275\u0275template"](1,tn,2,2,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](3,rn,2,2,"ng-template",null,2,i["\u0275\u0275templateRefExtractor"])),2&e&&i["\u0275\u0275property"]("ngIf",!t.isHidden)},directives:[m.NgIf,C.ReadOnlyFieldComponent,h.AdaptRxTextfieldComponent,x.NgControlStatus,x.FormControlDirective,x.MaxLengthValidator,x.RequiredValidator,l.RxSelectWithPaginationComponent,m.NgForOf],pipes:[u.TranslatePipe],encapsulation:2});class qc{}qc.\u0275fac=function(e){return new(e||qc)},qc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:qc,declarations:[Wc],imports:[m.CommonModule,C.ReadOnlyFieldModule,x.ReactiveFormsModule,u.TranslateModule,l.RxSelectWithPaginationModule,h.AdaptRxTextfieldModule],exports:[Wc]}),qc.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,C.ReadOnlyFieldModule,x.ReactiveFormsModule,u.TranslateModule,l.RxSelectWithPaginationModule,h.AdaptRxTextfieldModule]]});class Yc{constructor(e,t,n){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,this.rxRecordQueryExpressionEvaluatorService=n,e.register({type:c.RxViewComponentType.Character,componentFactory:this.componentFactoryResolver.resolveComponentFactory(Wc),properties:[...Dl,{name:"enableMultiSelection",designType:c.ViewComponentPropertyType.Boolean},{name:"namedListDefinitionName",designType:c.ViewComponentPropertyType.String},{name:"additionalQueryCriteria",designType:c.ViewComponentPropertyType.String,enableExpressionEvaluation:!0,evaluatorService:this.rxRecordQueryExpressionEvaluatorService}],name:"Text",group:Tl,icon:"field_text",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(Uc),designComponentModel:$c,expressionConfigurator:Xc,options:{canBeEmbeddedInRecordEditor:!0},canBeInsertedInto:e=>e.includes(c.RxViewComponentType.RecordEditor),bundleId:a.RX_APPLICATION.platformBundleId})}}Yc.\u0275fac=function(e){return new(e||Yc)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](c.RxRecordQueryExpressionEvaluatorService))},Yc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Yc,imports:[qc,Hc]}),Yc.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[qc,Hc]]});class Qc extends Ol{constructor(){super(...arguments),this.fieldResourceTypes=[s.RX_RECORD_DEFINITION.resourceTypes.character]}}class Zc{}Zc.\u0275fac=function(e){return new(e||Zc)},Zc.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Zc,selectors:[["rx-textarea-field-design"]],inputs:{model:"model"},decls:3,vars:7,consts:[["ngModel","","rows","3",1,"rx-pointer-events-none",3,"label","required","disabled"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"adapt-rx-textarea",0),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275pipe"](2,"async")),2&e&&i["\u0275\u0275property"]("label",i["\u0275\u0275pipeBind1"](1,3,t.model.label$))("required",i["\u0275\u0275pipeBind1"](2,5,t.model.isRequired$))("disabled",!0)},directives:[h.AdaptRxTextareaComponent,x.NgControlStatus,x.NgModel,x.RequiredValidator],pipes:[m.AsyncPipe],encapsulation:2});class Kc{}Kc.\u0275fac=function(e){return new(e||Kc)},Kc.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Kc,declarations:[Zc],imports:[m.CommonModule,h.AdaptRxTextareaModule,x.FormsModule]}),Kc.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptRxTextareaModule,x.FormsModule]]});class Jc extends Nl{constructor(e,t){super(e),this.rxFieldDefinitionService=t}onConfigInitialized(e){super.onConfigInitialized(e),this.fieldDefinition.maxLength&&!this.rxFieldDefinitionService.isSystemField(this.fieldDefinition)&&(this.maxLength=this.fieldDefinition.maxLength)}}Jc.\u0275fac=function(e){return new(e||Jc)(i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](s.RxFieldDefinitionService))},Jc.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Jc,selectors:[["rx-textarea-field"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:1,consts:[[4,"ngIf"],["editStateElementRef",""],[3,"label","value",4,"ngIf","ngIfElse"],[3,"label","value"],[3,"formControl","required","maxlength","rows","readonly","disabledStyleForReadonlyState","label","requiredLabel"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,an,2,2,"ng-container",0),i["\u0275\u0275template"](1,ln,2,10,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"])),2&e&&i["\u0275\u0275property"]("ngIf",!t.isHidden)},directives:[m.NgIf,C.ReadOnlyFieldComponent,h.AdaptRxTextareaComponent,x.NgControlStatus,x.FormControlDirective,x.RequiredValidator,x.MaxLengthValidator],pipes:[u.TranslatePipe],styles:["[_nghost-%COMP%]     textarea{resize:none}[_nghost-%COMP%]     rx-read-only-field .read-only-content{max-height:6em;overflow-y:auto;word-break:break-all;white-space:pre-wrap}"]});class ed{}ed.\u0275fac=function(e){return new(e||ed)},ed.\u0275mod=i["\u0275\u0275defineNgModule"]({type:ed,declarations:[Jc],imports:[m.CommonModule,x.ReactiveFormsModule,C.ReadOnlyFieldModule,u.TranslateModule,h.AdaptRxTextareaModule]}),ed.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,x.ReactiveFormsModule,C.ReadOnlyFieldModule,u.TranslateModule,h.AdaptRxTextareaModule]]});class td{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:c.RxViewComponentType.Textarea,componentFactory:this.componentFactoryResolver.resolveComponentFactory(Jc),properties:Dl,name:"Textarea",group:Tl,icon:"area_text",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(Zc),designComponentModel:Qc,options:{canBeEmbeddedInRecordEditor:!0},canBeInsertedInto:e=>e.includes(c.RxViewComponentType.RecordEditor),bundleId:a.RX_APPLICATION.platformBundleId})}}td.\u0275fac=function(e){return new(e||td)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},td.\u0275mod=i["\u0275\u0275defineNgModule"]({type:td,imports:[ed,Kc]}),td.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[ed,Kc]]});class nd extends Ol{constructor(){super(...arguments),this.fieldResourceTypes=[s.RX_RECORD_DEFINITION.resourceTypes.timeOnly]}}class id{constructor(){this.pickerMode=h.RxDatetimePickerMode.Time}}id.\u0275fac=function(e){return new(e||id)},id.\u0275cmp=i["\u0275\u0275defineComponent"]({type:id,selectors:[["rx-time-field-design"]],inputs:{model:"model"},decls:3,vars:9,consts:[[1,"rx-pointer-events-none",3,"ngModel","required","disabled","mode","label","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"adapt-rx-datetime",0),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.timeValue=e}),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("ngModel",t.timeValue)("required",i["\u0275\u0275pipeBind1"](1,5,t.model.isRequired$))("disabled",!0)("mode",t.pickerMode)("label",i["\u0275\u0275pipeBind1"](2,7,t.model.label$))},directives:[h.AdaptRxDatetimeComponent,x.NgControlStatus,x.NgModel,x.RequiredValidator],pipes:[m.AsyncPipe],encapsulation:2});class od{}od.\u0275fac=function(e){return new(e||od)},od.\u0275mod=i["\u0275\u0275defineNgModule"]({type:od,declarations:[id],imports:[h.AdaptRxDatetimeModule,m.CommonModule,x.FormsModule]}),od.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[h.AdaptRxDatetimeModule,m.CommonModule,x.FormsModule]]});class rd extends h.AdaptRxDatetimeAdapter{constructor(){super(...arguments),this.storeTimeFormat="HH:mm:ss"}fromModel(e){let t=null;const n=(0,S.default)(e,"LTS");return n&&n.isValid()&&(t={year:n.year(),month:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds()}),t}toModel(e){return e?e.parseError?S.default.invalid().toString():(0,S.default)({hour:e.hours||0,minute:e.minutes||0,seconds:e.seconds||0}).format(this.storeTimeFormat):null}}rd.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](rd)))(t||rd)}}(),rd.\u0275prov=i["\u0275\u0275defineInjectable"]({token:rd,factory:rd.\u0275fac});class sd extends Nl{constructor(e,t){super(e),this.datePipe=t,this.pickerMode=h.RxDatetimePickerMode.Time}getDisplayValue(){var e;const t=super.getDisplayValue();if(t){const n=(0,S.default)(t,"LTS").toDate();return null!==(e=this.datePipe.transform(n,"mediumTime"))&&void 0!==e?e:"-"}return"-"}getFieldValidators(){return[e=>{const t=e.value?(0,S.default)(e.value,"LTS"):null;return e.value&&t&&!t.isValid()?{rxDatetimeFormat:{mode:this.pickerMode,hasSeconds:!0}}:null}]}}sd.\u0275fac=function(e){return new(e||sd)(i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](m.DatePipe))},sd.\u0275cmp=i["\u0275\u0275defineComponent"]({type:sd,selectors:[["rx-time-field"]],features:[i["\u0275\u0275ProvidersFeature"]([{provide:h.AdaptRxDatetimeAdapter,useClass:rd}]),i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:1,consts:[[4,"ngIf"],["editStateElementRef",""],[3,"label","value",4,"ngIf","ngIfElse"],[3,"label","value"],["hasSeconds","true",3,"label","required","formControl","readonly","disabledStyleForReadonlyState","mode"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,dn,2,2,"ng-container",0),i["\u0275\u0275template"](1,un,1,6,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"])),2&e&&i["\u0275\u0275property"]("ngIf",!t.isHidden)},directives:[m.NgIf,C.ReadOnlyFieldComponent,h.AdaptRxDatetimeComponent,x.RequiredValidator,x.NgControlStatus,x.FormControlDirective],encapsulation:2});class ad{}ad.\u0275fac=function(e){return new(e||ad)},ad.\u0275mod=i["\u0275\u0275defineNgModule"]({type:ad,declarations:[sd],imports:[h.AdaptRxDatetimeModule,m.CommonModule,C.ReadOnlyFieldModule,u.TranslateModule,x.ReactiveFormsModule]}),ad.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[m.DatePipe],imports:[[h.AdaptRxDatetimeModule,m.CommonModule,C.ReadOnlyFieldModule,u.TranslateModule,x.ReactiveFormsModule]]});class ld{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:c.RxViewComponentType.Time,componentFactory:this.componentFactoryResolver.resolveComponentFactory(sd),properties:Dl,name:"Time",group:Tl,icon:"clock_o",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(id),designComponentModel:nd,options:{canBeEmbeddedInRecordEditor:!0},canBeInsertedInto:e=>e.includes(c.RxViewComponentType.RecordEditor),bundleId:a.RX_APPLICATION.platformBundleId})}}ld.\u0275fac=function(e){return new(e||ld)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},ld.\u0275mod=i["\u0275\u0275defineNgModule"]({type:ld,imports:[ad,od]}),ld.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[ad,od]]});class cd extends f.BaseViewComponent{constructor(e,t){super(),this.rxRecordDefinitionCacheService=e,this.rxRecordDefinitionService=t,this.recordDefinitions={}}ngOnInit(){super.ngOnInit(),this.config.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.state=e})}loadRecordDefinition(e){this.rxRecordDefinitionCacheService.getRecordDefinition(e).subscribe(t=>{t.fieldDefinitionsById=this.rxRecordDefinitionService.buildFieldDefinitionsByIdMap(t),this.recordDefinitions[e]=t,this.notifyPropertyChanged("recordDefinitions",this.recordDefinitions)})}}cd.\u0275fac=function(e){return new(e||cd)(i["\u0275\u0275directiveInject"](s.RxRecordDefinitionCacheService),i["\u0275\u0275directiveInject"](s.RxRecordDefinitionService))},cd.\u0275cmp=i["\u0275\u0275defineComponent"]({type:cd,selectors:[["rx-extension-container"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:1,consts:[[3,"hidden"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"rx-runtime-view-canvas-outlet",0),2&e&&i["\u0275\u0275property"]("hidden",t.state.hidden)},directives:[f.RuntimeViewCanvasOutletComponent],encapsulation:2});class dd{getSelectionFieldOptionNamesByIdExpression(e){return`${e}:selectionFieldOptionNamesById`}}dd.\u0275fac=function(e){return new(e||dd)},dd.\u0275prov=i["\u0275\u0275defineInjectable"]({token:dd,factory:dd.\u0275fac});class ud extends f.BaseViewComponent{constructor(e,t,n,i,o){super(),this.rxExtensionContainerComponent=e,this.rxRecordInstanceService=t,this.rxRecordEditorUtilsService=n,this.rxExtensionContainerHelperService=i,this.recordEditorComponent=o,this.isInitialized=!1,this.selectionFieldOptionNamesById=null}ngOnInit(){super.ngOnInit(),(0,o.combineLatest)([this.config,this.recordEditorComponent.recordInstanceChanged$.pipe((0,r.startWith)(null))]).pipe((0,r.takeUntil)(this.destroyed$)).subscribe(([e,t])=>{if(e.recordDefinitionName&&this.rxExtensionContainerComponent.loadRecordDefinition(e.recordDefinitionName),!e.associationDefinitionName)return this.isInitialized=!0;if(e.api){let t=null;this.recordEditorComponent.state.mode===Ha.Edit&&(t=this.recordEditorComponent.state.recordInstance.id);const n=e.api.getAssociationManager({associationDefinitionName:e.associationDefinitionName,associatedRecordNodeSide:w.RX_ASSOCIATION_DEFINITION.roles.second.value,associatedRecordInstanceId:t,recordDefinitionName:e.recordDefinitionName,allFieldIds:!0,associatedRecordPath:e.associatedRecordPath});let i;this.recordEditorComponent.state.mode===Ha.Edit?i=n.loadExtensions().pipe((0,r.switchMap)(e=>(0,p.isEmpty)(n.extensions)?this.addNewRecordInstanceToExtension(n):(0,o.of)(e))):this.recordEditorComponent.state.mode!==Ha.Create&&this.recordEditorComponent.state.mode!==Ha.Temporary||(i=(0,o.forkJoin)([n.initialize(),this.addNewRecordInstanceToExtension(n)])),i.pipe((0,r.tap)(()=>{this.isInitialized=!0}),(0,r.switchMap)(()=>{const e=n.extensions$.pipe((0,r.map)(e=>e[0]),(0,r.tap)(e=>this.updateSelectionFieldOptionNames(e)),(0,r.shareReplay)(1));return e.pipe((0,r.switchMap)(e=>e.fieldValueChanged$),(0,r.withLatestFrom)(e))}),(0,r.takeUntil)(this.destroyed$)).subscribe(([e,t])=>{this.updateSelectionFieldOptionNames(t)})}})}addNewRecordInstanceToExtension(e){return this.rxRecordInstanceService.getNew(e.options.recordDefinitionName).pipe((0,r.tap)(t=>{t.isNewInstance=!0,e.addExtension(t)}))}updateSelectionFieldOptionNames(e){if((0,p.get)(e,"recordDefinition.fieldDefinitions")){const t=this.rxRecordEditorUtilsService.getSelectionFieldOptionNames(e.recordDefinition,e);if(!(0,p.isEqual)(this.selectionFieldOptionNamesById,t)){const e=this.rxExtensionContainerHelperService.getSelectionFieldOptionNamesByIdExpression(this.guid);this.rxExtensionContainerComponent.notifyPropertyChanged(e,t)}}}}ud.\u0275fac=function(e){return new(e||ud)(i["\u0275\u0275directiveInject"](cd),i["\u0275\u0275directiveInject"](s.RxRecordInstanceService),i["\u0275\u0275directiveInject"](nl),i["\u0275\u0275directiveInject"](dd),i["\u0275\u0275directiveInject"](al))},ud.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ud,selectors:[["rx-extension-container-section"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:4,vars:4,consts:[[4,"ngIf"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"h5"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,pn,1,0,"rx-runtime-view-canvas-outlet",0)),2&e){let e;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==(e=i["\u0275\u0275pipeBind1"](2,2,t.config))?null:e.label),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.isInitialized)}},directives:[m.NgIf,f.RuntimeViewCanvasOutletComponent],pipes:[m.AsyncPipe],encapsulation:2});const pd={type:c.RxViewComponentType.ExtensionContainer,recordDefinitionsReferencingExpression:"recordDefinitions",extensionContainerSectionComponent:"rx-extension-container-section"};class hd{constructor(e,t,n,i,o,r,s,a,l,c){this.rxViewDefinitionParserService=e,this.rxViewDefinitionDataPageService=t,this.rxGlobalCacheService=n,this.rxDefinitionNameService=i,this.rxTreeService=o,this.rxExtensionContainerHelperService=r,this.rxNotificationService=s,this.rxRuntimeViewUtilsService=a,this.rxViewDefinitionLocalizationService=l,this.translateService=c}adaptDefinition(e,t){const n=this.getTargetRecordEditorComponentDefinition(t,e);return e.propertiesByName.mode=n.propertiesByName.mode,this.getExtensionViewDefinitions(e.guid).pipe((0,r.map)(this.getViewDefinitionMap.bind(this)),(0,r.map)(this.filterDuplicatedRecordEditorComponentDefinitions.bind(this)),(0,r.map)(e=>this.filterIncompatibleRecordEditorComponentDefinitions(e,n)),(0,r.switchMap)(this.setRecordEditorLabels.bind(this)),(0,r.map)(this.getExtensionRecordEditorComponentDefinitions.bind(this)),(0,r.switchMap)(i=>{const s=()=>{e.componentDefinitions=[],e.resourceType=c.RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,(0,p.forEach)(i,t=>{this.processRecordEditorComponentDefinition(t,n,e),e.componentDefinitions.push(this.getExtensionContainerSectionViewComponentDefinition(t,n))});const t=e.componentDefinitions.map(e=>e.guid);return e.layout=JSON.stringify({outlets:[{name:c.RX_VIEW_DEFINITION.defaultOutletName,columns:[{children:t}]}]}),i},a=i.map(e=>(0,o.combineLatest)([...this.rxRuntimeViewUtilsService.runAdaptersForComponents(t,e)]));return(0,o.combineLatest)(a).pipe((0,r.tap)({complete:()=>s()}))}))}getExtensionViewDefinitions(e){return this.rxViewDefinitionDataPageService.get({params:{propertySelection:["name","targetExtensionContainerGuid","targetViewDefinitionName","componentDefinitions","localizableStringsByComponentId","lastUpdateTime"],viewType:c.ViewDefinitionType.Regular,targetExtensionContainerGuid:e,excludeExtensionViews:!1},headers:{"default-bundle-scope":""}}).pipe((0,r.map)(e=>{const t=[];return(0,p.forEach)(e.data,e=>{var n;this.rxViewDefinitionLocalizationService.applyLocalization(e);const i=null===(n=e.componentDefinitions[0])||void 0===n?void 0:n.propertiesByName.associationDefinitionName;(0,p.isString)(i)&&(t.includes(i)?this.rxNotificationService.addWarningMessage(this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-editor.extension-container.duplicate-extensions.warning")):t.push(i))}),e.data}))}getTargetRecordEditorComponentDefinition(e,t){return this.rxViewDefinitionParserService.findParentComponentDefinition(e,t,e=>e.type===c.RxViewComponentType.RecordEditor)}getViewDefinitionMap(e){return(0,p.reduce)(e,(e,t)=>{const n=t.componentDefinitions[0];return n&&e.push({viewDefinition:t,recordEditorComponentDefinition:n}),e},[])}filterDuplicatedRecordEditorComponentDefinitions(e){return(0,p.values)((0,p.reduce)(e,(e,t)=>{if(!t.recordEditorComponentDefinition.propertiesByName.associationDefinitionName)return e[t.recordEditorComponentDefinition.guid]=t,e;const n=[t.recordEditorComponentDefinition.propertiesByName.recordDefinitionName,t.recordEditorComponentDefinition.propertiesByName.associationDefinitionName].join("");return e[n]?(0,S.default)(t.viewDefinition.lastUpdateTime)<(0,S.default)(e[n].viewDefinition.lastUpdateTime)&&(e[n]=t):e[n]=t,e},{}))}filterIncompatibleRecordEditorComponentDefinitions(e,t){return(0,p.filter)(e,e=>{const n=e.recordEditorComponentDefinition.propertiesByName.mode===t.propertiesByName.mode,i=t.propertiesByName.recordDefinitionName===e.recordEditorComponentDefinition.propertiesByName.recordDefinitionName,o=e.recordEditorComponentDefinition.propertiesByName.associationDefinitionName;return i&&!o&&n||o&&n})}setRecordEditorLabels(e){return(0,o.forkJoin)([...e.map(e=>{let t;return t=e.recordEditorComponentDefinition.propertiesByName.label?(0,o.of)(e.recordEditorComponentDefinition.propertiesByName.label):this.rxGlobalCacheService.getBundleFriendlyName(this.rxDefinitionNameService.getBundleId(e.viewDefinition.name)),t.pipe((0,r.map)(t=>(e.recordEditorComponentDefinition.propertiesByName.label=t,e)))})])}getExtensionRecordEditorComponentDefinitions(e){return(0,p.map)(e,"recordEditorComponentDefinition")}processRecordEditorComponentDefinition(e,t,n){return this.rxTreeService.flattenTree(e,"componentDefinitions").forEach(i=>{this.patchFieldComponentExpressions(i,e,t,n)}),e}patchFieldComponentExpressions(e,t,n,i){const o=t.propertiesByName.associationDefinitionName?[n.guid,".","recordInstance.associationInstances['",t.propertiesByName.associationDefinitionName,"'].",w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value,".extensions[0]"].join(""):[n.guid,".recordInstance"].join(""),r=[o,".recordDefinitionName"].join(""),s=t.propertiesByName.associationDefinitionName?[i.guid,".",pd.recordDefinitionsReferencingExpression,"['",t.propertiesByName.recordDefinitionName,"']"].join(""):[n.guid,".recordDefinition"].join(""),a=[o,".id"].join("");let l;l=t.propertiesByName.associationDefinitionName?[i.guid,".",this.rxExtensionContainerHelperService.getSelectionFieldOptionNamesByIdExpression(t.guid)].join(""):`${n.guid}.selectionFieldOptionNamesById`;const c=[{regExp:new RegExp(t.guid+".recordInstanceId","g"),expression:a},{regExp:new RegExp(t.guid+".recordInstance","g"),expression:o},{regExp:new RegExp(t.guid+".recordDefinitionName","g"),expression:r},{regExp:new RegExp(t.guid+".recordDefinition","g"),expression:s},{regExp:new RegExp(t.guid+".selectionFieldOptionNamesById","g"),expression:l},{regExp:new RegExp(`${t.guid}\\.(\\w+)}`,"g"),expression:`${n.guid}.$1}`}];["disabled","hidden","value","html"].filter(t=>(0,p.isString)(e.propertiesByName[t])).forEach(t=>{(0,p.forEach)(c,n=>{e.propertiesByName[t]=e.propertiesByName[t].replace(n.regExp,n.expression)})}),e.propertiesByName.api=`\${view.components.${n.guid}.api}`,e.propertiesByName.inReadState=`\${view.components.${n.guid}.inReadState}`,t.propertiesByName.associationDefinitionName&&(e.propertiesByName.associatedRecordPath=[t.propertiesByName.associationDefinitionName,w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value,"extensions",0]),e.propertiesByName.recordInstance&&(e.propertiesByName.recordInstance=["${view.components.",o,"}"].join("")),e.propertiesByName.recordDefinition&&(e.propertiesByName.recordDefinition=["${view.components.",s,"}"].join(""))}getExtensionContainerSectionViewComponentDefinition(e,t){return{guid:e.guid,type:pd.extensionContainerSectionComponent,layout:e.layout,resourceType:c.RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,componentDefinitions:e.componentDefinitions,propertiesByName:{label:e.propertiesByName.label,styles:e.propertiesByName.styles,recordDefinitionName:e.propertiesByName.recordDefinitionName,associationDefinitionName:e.propertiesByName.associationDefinitionName,[c.RX_AVAILABLE_ON_DEVICES_PROP_NAME]:e.propertiesByName[c.RX_AVAILABLE_ON_DEVICES_PROP_NAME],api:`\${view.components.${t.guid}.api}`,associatedRecordPath:[e.propertiesByName.associationDefinitionName,w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value,"extensions",0]}}}}hd.\u0275fac=function(e){return new(e||hd)(i["\u0275\u0275inject"](c.RxViewDefinitionParserService),i["\u0275\u0275inject"](c.RxViewDefinitionDataPageService),i["\u0275\u0275inject"](a.RxGlobalCacheService),i["\u0275\u0275inject"](a.RxDefinitionNameService),i["\u0275\u0275inject"](v.RxTreeService),i["\u0275\u0275inject"](dd),i["\u0275\u0275inject"](a.RxNotificationService),i["\u0275\u0275inject"](f.RxRuntimeViewUtilsService),i["\u0275\u0275inject"](c.RxViewDefinitionLocalizationService),i["\u0275\u0275inject"](u.TranslateService))},hd.\u0275prov=i["\u0275\u0275defineInjectable"]({token:hd,factory:hd.\u0275fac});class md{constructor(e,t){this.rxDefinitionAdapterRegistryService=e,this.rxExtensionContainerDefinitionAdapterService=t,e.registerRuntimeAdapter(pd.type,this.rxExtensionContainerDefinitionAdapterService)}}md.\u0275fac=function(e){return new(e||md)(i["\u0275\u0275inject"](a.RxDefinitionAdapterRegistryService),i["\u0275\u0275inject"](hd))},md.\u0275mod=i["\u0275\u0275defineNgModule"]({type:md,declarations:[cd,ud],imports:[m.CommonModule,f.RuntimeViewCanvasModule],exports:[cd]}),md.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[hd,dd],imports:[[m.CommonModule,f.RuntimeViewCanvasModule]]});class fd extends d.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.componentProperties$=this.sandbox.componentProperties$,this.parentGuid$=this.sandbox.getParentComponentGuid(c.RxViewComponentType.RecordEditor).pipe((0,r.take)(1)),this.initialProperties=Object.assign({name:"",recordDefinition:"",recordInstance:""},c.RX_STANDARD_PROPS_DEFAULT_VALUES),(0,o.combineLatest)([this.parentGuid$,this.componentProperties$]).pipe((0,r.first)()).subscribe(([e,t])=>{const n=Object.assign(Object.assign(Object.assign({},this.initialProperties),t),{recordInstance:`\${view.components.${e}.recordInstance}`,recordDefinition:`\${view.components.${e}.recordDefinition}`});this.sandbox.updateComponentProperties(n),this.sandbox.updateInspectorConfig(this.getInspectorConfig())}),(0,o.combineLatest)([this.sandbox.getComponentPropertyValue("name").pipe((0,r.map)(e=>{if((0,p.isEmpty)(e))return this.sandbox.createError("Name cannot be blank.","name")})),this.sandbox.getComponentPropertyValue("styles").pipe((0,r.map)(d.validateCssClassNames)),this.sandbox.getComponentPropertyValue(c.RX_AVAILABLE_ON_DEVICES_PROP_NAME).pipe((0,r.map)(d.validateAvailableOnDevicesProp))]).pipe((0,r.map)(p.flatten),(0,r.map)(p.compact),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>this.sandbox.setValidationIssues(e))}getInspectorConfig(){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"name",component:l.TextFormControlComponent,options:{label:"Name",required:!0,tooltip:new a.Tooltip("Enter a name to uniquely identify the Extension container")}},...(0,d.getStandardPropsInspectorConfigs)()]}]}}}class gd{}gd.\u0275fac=function(e){return new(e||gd)},gd.\u0275cmp=i["\u0275\u0275defineComponent"]({type:gd,selectors:[["rx-extension-container-design"]],inputs:{model:"model"},decls:1,vars:0,consts:[["type","objects","label","Contains fields from extensions of the record definition."]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"adapt-empty-state",0)},directives:[h.AdaptEmptyStateComponent],encapsulation:2});class vd{}vd.\u0275fac=function(e){return new(e||vd)},vd.\u0275mod=i["\u0275\u0275defineNgModule"]({type:vd,declarations:[gd],imports:[m.CommonModule,h.AdaptEmptyStateModule]}),vd.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptEmptyStateModule]]});class yd{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,this.rxViewComponentRegistryService.register({type:pd.type,componentFactory:this.componentFactoryResolver.resolveComponentFactory(cd),properties:c.RX_STANDARD_PROPS_DESC,outlets:[{name:c.RX_VIEW_DEFINITION.defaultOutletName}],name:"Extension container",group:Tl,icon:"widget",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(gd),designComponentModel:fd,options:{canBeEmbeddedInRecordEditor:!0},canBeInsertedInto:e=>e.includes(c.RxViewComponentType.RecordEditor),bundleId:a.RX_APPLICATION.platformBundleId},{type:pd.extensionContainerSectionComponent,componentFactory:this.componentFactoryResolver.resolveComponentFactory(ud),properties:[{name:"api",enableExpressionEvaluation:!0}],outlets:[{name:c.RX_VIEW_DEFINITION.defaultOutletName}]})}}yd.\u0275fac=function(e){return new(e||yd)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},yd.\u0275mod=i["\u0275\u0275defineNgModule"]({type:yd,imports:[md,vd]}),yd.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[md,vd]]});class bd extends Ol{constructor(){super(...arguments),this.fieldResourceTypes=[s.RX_RECORD_DEFINITION.resourceTypes.character]}getInspectorConfig(){return super.getInspectorConfig().pipe((0,r.withLatestFrom)(this.availableFieldDefinitions$),(0,r.map)(([e,t])=>{const n=t.filter(e=>!e.maxLength).map(e=>({id:String(e.id),name:e.name})),i=(0,p.cloneDeep)(e);return i.inspectorSectionConfigs[0].controls[0].options.options=[...n],i}))}}class xd{constructor(e){this.rxCkEditorConfiguratorService=e,this.ckEditorType="divarea",this.ckEditorConfig=this.rxCkEditorConfiguratorService.getCKEditorConfig()}}xd.\u0275fac=function(e){return new(e||xd)(i["\u0275\u0275directiveInject"](c.RxCkEditorConfiguratorService))},xd.\u0275cmp=i["\u0275\u0275defineComponent"]({type:xd,selectors:[["rx-rich-textarea-field-design"]],inputs:{model:"model"},decls:8,vars:9,consts:[["class","form-control-required",4,"ngIf"],[1,"mt-1"],[3,"type","config","readOnly"],[1,"form-control-required"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"strong"),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275template"](4,hn,2,0,"span",0),i["\u0275\u0275pipe"](5,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",1),i["\u0275\u0275element"](7,"ckeditor",2),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,5,t.model.label$)," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](5,7,t.model.isRequired$)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("type",t.ckEditorType)("config",t.ckEditorConfig)("readOnly",!0))},directives:[m.NgIf,T.CKEditorComponent],pipes:[m.AsyncPipe],styles:["ckeditor[_ngcontent-%COMP%]     .cke_inner{box-shadow:none}"]});class wd{}wd.\u0275fac=function(e){return new(e||wd)},wd.\u0275mod=i["\u0275\u0275defineNgModule"]({type:wd,declarations:[xd],imports:[m.CommonModule,T.CKEditorModule]}),wd.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,T.CKEditorModule]]});class Cd extends Nl{constructor(e,t){super(e),this.rxCkEditorConfiguratorService=t,this.ckEditorType="divarea",this.ckEditorConfig=this.rxCkEditorConfiguratorService.getCKEditorConfig()}setFieldValue(e,t={}){null===this.formControl.value&&""===e||super.setFieldValue(e)}onBlur(){this.formControl.markAsTouched()}}Cd.\u0275fac=function(e){return new(e||Cd)(i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](c.RxCkEditorConfiguratorService))},Cd.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Cd,selectors:[["rx-rich-textarea-field"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:1,consts:[[4,"ngIf"],["editStateElementRef",""],["class","read-only-content-wrapper focusable","tabindex","0",4,"ngIf","ngIfElse"],["tabindex","0",1,"read-only-content-wrapper","focusable"],[3,"config","type","readOnly","ngModel"],[3,"label","showRequiredLabel"],[3,"data","config","type","readOnly","dataChange","blur"],[3,"errors","controlTouched"],["adaptRxFeedbackRef",""]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,fn,2,2,"ng-container",0),i["\u0275\u0275template"](1,gn,5,10,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"])),2&e&&i["\u0275\u0275property"]("ngIf",!t.isHidden)},directives:[m.NgIf,T.CKEditorComponent,x.NgControlStatus,x.NgModel,h.AdaptRxControlLabelComponent,h.AdaptRxFeedbackComponent],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}ckeditor[_ngcontent-%COMP%]     .cke_inner{box-shadow:none}.read-only-content-wrapper[_ngcontent-%COMP%]   ckeditor[_ngcontent-%COMP%]     .cke{border:none}.read-only-content-wrapper[_ngcontent-%COMP%]   ckeditor[_ngcontent-%COMP%]     .cke_top{display:none}.read-only-content-wrapper[_ngcontent-%COMP%]   ckeditor[_ngcontent-%COMP%]     .cke_editable{padding:0}.has-danger[_ngcontent-%COMP%]     .cke{border-color:#f83200}']});class _d{}_d.\u0275fac=function(e){return new(e||_d)},_d.\u0275mod=i["\u0275\u0275defineNgModule"]({type:_d,declarations:[Cd],imports:[m.CommonModule,x.FormsModule,h.AdaptRxFormControlModule,u.TranslateModule,x.ReactiveFormsModule,T.CKEditorModule]}),_d.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,x.FormsModule,h.AdaptRxFormControlModule,u.TranslateModule,x.ReactiveFormsModule,T.CKEditorModule]]});class Sd{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:c.RxViewComponentType.RichTextarea,properties:Dl,componentFactory:this.componentFactoryResolver.resolveComponentFactory(Cd),name:"Rich text area",icon:"text_colorpicker_adapt",group:Tl,designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(xd),designComponentModel:bd,options:{canBeEmbeddedInRecordEditor:!0},canBeInsertedInto:e=>e.includes(c.RxViewComponentType.RecordEditor),bundleId:a.RX_APPLICATION.platformBundleId})}}Sd.\u0275fac=function(e){return new(e||Sd)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},Sd.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Sd,imports:[wd,_d]}),Sd.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[wd,_d]]});class Id extends Nl{constructor(e,t,n){super(e),this.rxModalService=t,this.rxLocalizationService=n}onConfigUpdated(e){super.onConfigUpdated(e);const t=this.getFieldValue();if(this.hideCurrentLocale=this.getFieldInstanceProp("hideCurrentLocale"),e.value===t){const e=this.getFieldInstanceProp("valueByLocale");e[this.rxLocalizationService.currentLocale]=t,this.setFieldInstanceProp("valueByLocale",e)}}shouldShowValidationError(){return this.isRequired&&!this.formControl.value&&(this.formControl.touched||this.formControl.dirty)}selectLocalizedValue(){const e=this.getFieldInstanceProp("valueByLocale");this.rxModalService.openModal({title:this.translateService.instant("com.bmc.arsys.rx.client.view-components.localized-character-field.dialog.title"),data:{fieldDefinition:this.fieldDefinition,valueByLocale:(0,p.cloneDeep)(e),hideCurrentLocale:this.hideCurrentLocale},size:"sm",content:l.LocalizedCharacterFieldValueModalComponent}).then(e=>{e&&this.setLocalizedFieldValue(e.valueByLocale,e.currentLocaleValue)}).catch(p.noop)}setLocalizedFieldValue(e,t){const n=this.rxLocalizationService.currentLocale,i=t||e[n]||e["en-US"],o=this.getFieldInstanceProp("valueByLocale");(0,p.isEqual)(e,o)||(this.setFieldInstanceProp("valueByLocale",e),this.formControl.markAsDirty(),this.recordEditorApi.markAsDirty()),this.setFieldValue(i)}}Id.\u0275fac=function(e){return new(e||Id)(i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](C.RxModalService),i["\u0275\u0275directiveInject"](a.RxLocalizationService))},Id.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Id,selectors:[["rx-localized-character-field"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:1,consts:[[4,"ngIf"],["editStateElementRef",""],[3,"label","value",4,"ngIf","ngIfElse"],[3,"label","value"],[1,"d-flex","justify-content-between"],[3,"label","id","showRequiredLabel"],["type","button",1,"localize-button","btn","btn-link","focusable","d-icon-left-pencil","p-0",3,"disabled","click"],[1,"mb-0",3,"readonly","formControl","disabledStyleForReadonlyState","required"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,yn,2,2,"ng-container",0),i["\u0275\u0275template"](1,bn,6,15,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"])),2&e&&i["\u0275\u0275property"]("ngIf",!t.isHidden)},directives:[m.NgIf,C.ReadOnlyFieldComponent,h.AdaptRxControlLabelComponent,h.AdaptRxTextfieldComponent,x.NgControlStatus,x.FormControlDirective,x.RequiredValidator],pipes:[u.TranslatePipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.localize-button[_ngcontent-%COMP%]:hover{text-decoration:underline}[_nghost-%COMP%]     .form-control-feedback{color:#f83200}[_nghost-%COMP%]     .has-danger .form-control{border-color:#f83200!important}']});class Ad{}Ad.\u0275fac=function(e){return new(e||Ad)},Ad.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ad,declarations:[Id],imports:[m.CommonModule,x.FormsModule,h.AdaptRxFormControlModule,C.ReadOnlyFieldModule,h.AdaptTooltipModule,h.AdaptButtonModule,u.TranslateModule,h.AdaptBusyModule,C.RxBusyIndicatorModule,h.AdaptRxTextfieldModule,x.ReactiveFormsModule]}),Ad.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,x.FormsModule,h.AdaptRxFormControlModule,C.ReadOnlyFieldModule,h.AdaptTooltipModule,h.AdaptButtonModule,u.TranslateModule,h.AdaptBusyModule.forRoot(),C.RxBusyIndicatorModule,h.AdaptRxTextfieldModule,x.ReactiveFormsModule]]});class Ed extends Ol{constructor(){super(...arguments),this.fieldResourceTypes=[s.RX_RECORD_DEFINITION.resourceTypes.localizedCharacter]}}class Dd{}Dd.\u0275fac=function(e){return new(e||Dd)},Dd.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Dd,selectors:[["rx-localized-character-field-design"]],inputs:{model:"model"},decls:5,vars:7,consts:[["type","button",1,"btn","float-end","p-0","btn-link","d-icon-left-pencil"],["ngModel","",1,"rx-pointer-events-none",3,"label","required","disabled"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"button",0),i["\u0275\u0275text"](1,"Localize"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](2,"adapt-rx-textfield",1),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275pipe"](4,"async")),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("label",i["\u0275\u0275pipeBind1"](3,3,t.model.label$))("required",i["\u0275\u0275pipeBind1"](4,5,t.model.isRequired$))("disabled",!0))},directives:[h.AdaptRxTextfieldComponent,x.NgControlStatus,x.NgModel,x.RequiredValidator],pipes:[m.AsyncPipe],encapsulation:2});class Td{}Td.\u0275fac=function(e){return new(e||Td)},Td.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Td,declarations:[Dd],imports:[m.CommonModule,h.AdaptRxTextfieldModule,x.FormsModule]}),Td.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptRxTextfieldModule,x.FormsModule]]});class Rd{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:c.RxViewComponentType.LocalizedCharacter,componentFactory:this.componentFactoryResolver.resolveComponentFactory(Id),properties:Dl,name:"Localized text",icon:"field_text_mapmarker",group:Tl,designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(Dd),designComponentModel:Ed,options:{canBeEmbeddedInRecordEditor:!0},canBeInsertedInto:e=>e.includes(c.RxViewComponentType.RecordEditor),bundleId:a.RX_APPLICATION.platformBundleId})}}Rd.\u0275fac=function(e){return new(e||Rd)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},Rd.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Rd,imports:[Ad,Td]}),Rd.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[Ad,Td]]});class Md{}var Od,Pd;Md.\u0275fac=function(e){return new(e||Md)},Md.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Md,imports:[Ml,Gl,Yl,nc,cc,gc,wc,Oc,td,zc,Yc,ld,yd,Rd,Sd],exports:[Ml,Gl,Yl,nc,cc,gc,wc,Oc,td,zc,Yc,ld,yd,Rd,Sd]}),Md.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[Ml,Gl,Yl,nc,cc,gc,wc,Oc,td,zc,Yc,ld,yd,Rd,Sd],Ml,Gl,Yl,nc,cc,gc,wc,Oc,td,zc,Yc,ld,yd,Rd,Sd]}),function(e){e.Xsmall="450",e.Small="650",e.Medium="800",e.Large="1024",e.Xlarge="1200",e.Xxlarge="1600"}(Od||(Od={})),function(e){e.Default="false",e.Left="Left",e.Right="Right",e.Center="Center"}(Pd||(Pd={}));const Fd=[{name:"visible",defaultValue:!0,label:"Visible"},{name:"sortable",defaultValue:!0,label:"Sortable",tooltip:new a.Tooltip("Sorting will be disabled for character fields longer than 4000 characters.")},{name:"filterable",defaultValue:!0,label:"Filterable"},{name:"searchable",label:"Searchable",defaultValue:!0},{name:"width",label:"",defaultValue:null,options:{label:"Width",defaultUnit:"px",units:[{name:"pixels",id:"px"},{name:"percent",id:"%"}],stepperOptionByUnits:{px:{minValue:1},"%":{minValue:1,maxValue:100}}}},{name:"wrapText",defaultValue:!1,label:"Wrap text"},{name:"alignment",defaultValue:!1,label:"Alignment",selectionValues:[{name:"Align left",value:Pd.Left,icon:"d-icon-align_left_adapt"},{name:"Center",value:Pd.Center,icon:"d-icon-align_center_adapt"},{name:"Align right",value:Pd.Right,icon:"d-icon-align_right_adapt"}]},{name:"typeaheadKeystrokeCount",label:"",defaultValue:1,options:{label:"Typeahead keystroke count",options:[{id:0,name:"0"},{id:1,name:"1"},{id:2,name:"2"},{id:3,name:"3"},{id:4,name:"4"},{id:5,name:"5"}],emptyOption:!1}}],kd={type:"rx-record-grid",version:"1.0",defaultColumnMinWidth:45,defaultRowHeight:37,components:{filter:"rx-record-grid-filter",column:"rx-record-grid-column",filterPreset:"rx-record-grid-filter-preset",viewPreset:"rx-record-grid-view-preset",columnViewPreset:"rx-record-grid-column-view-preset"},columnAlignment:{left:"Left",right:"Right",center:"Center"},selectionTypes:{multiple:"multiple",single:"single"},userPreferences:{filters:"filters",columns:"columns"},cardLayoutWidthOptions:[{id:Od.Xsmall,name:"Extra Small (450px)"},{id:Od.Small,name:"Small (650px)"},{id:Od.Medium,name:"Medium (800px)"},{id:Od.Large,name:"Large (1024px)"},{id:Od.Xlarge,name:"Extra Large (1200px)"},{id:Od.Xxlarge,name:"Extra Extra Large (1600px)"}],actionsColumnProperties:[{name:"visible",defaultValue:!0,label:"Visible"}],columnProperties:Fd,sharedFilterPresets:{recordDefinitionName:"Record Grid Filter Presets",fields:{recordGridGuid:300000001,name:300000002,filterExpression:300000003,sortOrder:300000004,isDefault:300000005}},defaultFilter:"{}",associatedFieldIdPrefixPattern:c.RX_EXPRESSION_EVALUATOR.associatedFieldIdPrefixPattern,defaultPageSize:50,rowActionsOutletName:"ROW_ACTIONS",actionsColumnFieldDefinition:{name:"Actions",id:"$ACTIONS$"},numberOfFiltersOptions:[{id:0,name:"None"},{id:1,name:"1"},{id:2,name:"2"},{id:3,name:"3"},{id:4,name:"4"},{id:5,name:"5"}],defaultTypeaheadKeystrokeCount:1,externalPresetFilterOptionId:"$EXTERNAL_PRESET$"};class Nd{constructor(e,t,n,i,o){this.rxLogService=e,this.rxRecordDefinitionCacheService=t,this.stringService=n,this.rxDefinitionNameService=i,this.rxFieldDefinitionService=o}getColumnDescriptors(e,t){return this.rxRecordDefinitionCacheService.getRecordDefinition(e).toPromise().then(e=>{if((0,p.isFunction)(t.getColumns)){const n=t.getColumns().map((e,t)=>({fieldId:e.field,index:t,title:e.header,fieldDefinition:e.fieldDefinition}));return Promise.all(n.filter(e=>this.isAssociatedRecordFieldId(e.fieldId)).map(t=>this.getAssociationDescriptor(t.fieldId,e).toPromise().then(e=>{t.associationDescriptor=e}))).then((0,p.constant)(n))}return e.fieldDefinitions.map((e,t)=>({fieldId:e.id,index:t,title:e.name,fieldDefinition:e}))})}getAssociationDescriptors(e){return(0,o.forkJoin)([this.rxRecordDefinitionCacheService.getRecordAssociationDefinitions(e),this.rxRecordDefinitionCacheService.getRecordDefinition(e)]).pipe((0,r.map)(([t,n])=>{const i=[];return(0,p.forEach)(t[e],t=>{const o=t.cardinality===w.RX_ASSOCIATION_DEFINITION.cardinality.oneToMany.value;t.cardinality===w.RX_ASSOCIATION_DEFINITION.cardinality.manyToMany.value||(this.isNeedSide(t.nodeBId,e,n)&&i.push({associationDefinition:t,recordDefinitionName:t.nodeAId,nodeSide:w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.value,label:this.getAssociationLabel(t,w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA)}),this.isNeedSide(t.nodeAId,e,n)&&!o&&i.push({associationDefinition:t,recordDefinitionName:t.nodeBId,nodeSide:w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value,label:this.getAssociationLabel(t,w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB)}))}),(0,p.sortBy)(i,"label")}))}getFieldDefinition(e,t){const n=this.getFieldLocator(e),i=new o.AsyncSubject;let s;return n.fieldId===kd.actionsColumnFieldDefinition.id?(0,o.of)(kd.actionsColumnFieldDefinition):(s=n.associationGuid?this.getAssociationDescriptors(t.name).pipe((0,r.map)(e=>this.findAssociationDescriptor(e,n)),(0,r.filter)(e=>Boolean(e)),(0,r.map)(e=>e.associationDefinition[w.RX_ASSOCIATED_RECORD_NODE_SIDES[e.nodeSide].recordDefinitionNameKey]),(0,r.switchMap)(e=>this.rxRecordDefinitionCacheService.getRecordDefinition(e))).toPromise():Promise.resolve(t),s.then(e=>{let t;e&&(t=(0,p.find)(e.fieldDefinitions,{id:Number(n.fieldId)||n.fieldId})),i.next(t),i.complete()}),i)}isAssociatedRecordFieldId(e){return!(0,p.some)(this.getFieldLocator(e),p.isUndefined)}getFieldIdForGridColumn(e,t){return t?`recordContext._associations.${t.associationDefinition.guid}.${t.nodeSide}[0].${e}`:String(e)}getAssociationDescriptor(e,t){const n=this.getFieldLocator(e);let i=(0,o.of)(null);return n.associationGuid&&(i=this.getAssociationDescriptors(t.name).pipe((0,r.map)(e=>this.findAssociationDescriptor(e,n)))),i}getDisplayFieldDescriptor(e,t,n){const i=this.getFieldLocator(e);return this.isAssociatedRecordFieldId(e)?this.rxRecordDefinitionCacheService.getRecordDefinition(n).pipe((0,r.map)(e=>{const t=i.fieldId===String(s.RX_RECORD_DEFINITION.coreFieldIds.id),n=String(t&&e.displayFieldIdInAssociation||i.fieldId);return(0,p.find)(e.fieldDefinitions,e=>String(e.id)===n)})):(0,o.of)((0,p.find)(t.fieldDefinitions,t=>String(t.id)===e))}getColumnLabel(e,t){return t?`${t.label} > ${e.name}`:e.name}findAssociationDescriptor(e,t){return(0,p.find)(e,e=>e.associationDefinition.guid===t.associationGuid&&e.nodeSide===t.associationNodeSide)}getFieldLocator(e){const t=new RegExp("(?:"+kd.associatedFieldIdPrefixPattern+")?(.+)").exec(e);return{associationGuid:t[1],associationNodeSide:t[2],fieldId:t[3]}}isNeedSide(e,t,n){return(0,p.includes)([t,(0,p.get)(n,"inheritanceDescriptor.inheritingFrom")],e)}getAssociationLabel(e,t){let n,i=this.rxDefinitionNameService.getDisplayName(e.name);return e.nodeAId===e.nodeBId&&(t===w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA&&(n=e.nodeAName),t===w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB&&(n=e.nodeBName),n=n||t.defaultName,i+=" ("+n+")"),i}isSharedFilterPresetTag(e){return e.data.isSharedFilterPreset}getTestIdForGridColumn(e){if(this.isAssociatedRecordFieldId(e)){const t=this.getFieldLocator(e);return`field-id-${t.associationGuid}-${t.fieldId}`}return`field-id-${e}`}isSearchable(e,t){return(0,p.includes)([s.RX_RECORD_DEFINITION.dataTypes.character.resourceType,s.RX_RECORD_DEFINITION.dataTypes.localizedCharacter.resourceType,s.RX_RECORD_DEFINITION.dataTypes.integer.resourceType,s.RX_RECORD_DEFINITION.dataTypes.decimal.resourceType,s.RX_RECORD_DEFINITION.dataTypes.real.resourceType],e.resourceType)&&!this.rxFieldDefinitionService.isPassword(e)&&!this.rxFieldDefinitionService.isSecured(e)&&!this.rxFieldDefinitionService.isDataProviderIdField(e,t)}}var jd,Ld,Vd,Bd;Nd.\u0275fac=function(e){return new(e||Nd)(i["\u0275\u0275inject"](a.RxLogService),i["\u0275\u0275inject"](s.RxRecordDefinitionCacheService),i["\u0275\u0275inject"](v.RxStringService),i["\u0275\u0275inject"](a.RxDefinitionNameService),i["\u0275\u0275inject"](s.RxFieldDefinitionService))},Nd.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Nd,factory:Nd.\u0275fac,providedIn:"root"}),function(e){e.Asc="asc",e.Desc="desc"}(jd||(jd={}));class Gd{constructor(e){this.rxJsonParserService=e}parseConfigString(e){return!!e&&(!!(0,p.includes)(["1","true"],e)||!(0,p.includes)(["0","false"],e)&&((0,p.isString)(e)?this.rxJsonParserService.tryParseJson(e,!1):((0,p.isObject)(e)||!!(0,p.isBoolean)(e))&&e))}getBooleanValue(e){return this.parseConfigString(e)}getColumnSortOrder(e){return e===jd.Asc?R.SortOrder.Asc:R.SortOrder.Desc}getColumnSortDirection(e){return e===R.SortOrder.Asc?jd.Asc:jd.Desc}configDeepClone(e){const t=(0,p.cloneDeep)((0,p.omit)(e,["columns"])),n=this.columnsDeepClone(e.columns);return(0,p.assign)(t,{columns:n})}columnsDeepClone(e){return(0,p.map)(e,this.columnDeepClone)}columnDeepClone(e){const t=(0,p.cloneDeep)((0,p.omit)(e,["cellTemplate"]));return(0,p.assign)(t,{cellTemplate:e.cellTemplate})}}Gd.\u0275fac=function(e){return new(e||Gd)(i["\u0275\u0275inject"](v.RxJsonParserService))},Gd.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Gd,factory:Gd.\u0275fac,providedIn:"root"});class zd{trackByForAlignmentOptions(e,t){return t||e}}zd.\u0275fac=function(e){return new(e||zd)},zd.\u0275cmp=i["\u0275\u0275defineComponent"]({type:zd,selectors:[["rx-column-editor-alignment"]],inputs:{column:"column",isReadOnly:"isReadOnly",columnProperty:"columnProperty"},decls:2,vars:2,consts:[["data-toggle","buttons",1,"btn-group","py-2","btn-group-toggle"],[3,"class","active","disabled","adaptTooltip",4,"ngFor","ngForOf","ngForTrackBy"],[3,"adaptTooltip"],["size","small","type","radio","name","selectionValue.name",3,"value","ngModel","disabled","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,xn,2,13,"label",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.columnProperty.selectionValues)("ngForTrackBy",t.trackByForAlignmentOptions))},directives:[m.NgForOf,h.AdaptTooltipDirective,x.RadioControlValueAccessor,x.DefaultValueAccessor,x.NgControlStatus,x.NgModel],styles:[".alignment-field[_ngcontent-%COMP%]{min-width:140px}"]}),function(e){e.Small="small",e.Large="large"}(Ld||(Ld={})),function(e){e.Primary="primary",e.Secondary="secondary",e.Light="light",e.Active="active",e.Info="info",e.Success="success",e.Warning="warning",e.Danger="danger"}(Vd||(Vd={})),function(e){e.Left="left",e.Right="right",e.ReplaceText="replaceText"}(Bd||(Bd={}));const $d={[Vd.Primary]:"text-primary",[Vd.Secondary]:"text-secondary",[Vd.Light]:"text-white",[Vd.Active]:"text-active",[Vd.Info]:"text-info",[Vd.Success]:"text-success",[Vd.Warning]:"text-warning",[Vd.Danger]:"text-danger"},Ud={[Vd.Primary]:"bg-primary",[Vd.Secondary]:"bg-secondary",[Vd.Active]:"bg-active",[Vd.Info]:"bg-info",[Vd.Success]:"bg-success",[Vd.Warning]:"bg-warning",[Vd.Danger]:"bg-danger"},Hd={colorsList:[{label:"Default",value:null},{label:"Primary",value:Vd.Primary},{label:"Secondary",value:Vd.Secondary},{label:"Light",value:Vd.Light},{label:"Active",value:Vd.Active},{label:"Information",value:Vd.Info},{label:"Success",value:Vd.Success},{label:"Warning",value:Vd.Warning},{label:"Danger",value:Vd.Danger}],iconPositions:[{label:"Left",value:Bd.Left},{label:"Right",value:Bd.Right},{label:"Replace text",value:Bd.ReplaceText}],fontSizes:[{label:"Default",value:null},{label:"Small",value:Ld.Small},{label:"Large",value:Ld.Large}]};class Xd extends a.RxExpressionConfigurator{cellDisplayExpressionDataDictionary(e){return e.length?(0,o.of)(e.map(e=>({label:e.label,icon:"d-icon-field_text",expression:`\${view.components.grid.clickableRow.${e.fieldId}}`,resourceType:e.fieldDefinition.resourceType}))):(0,o.of)([])}}class Wd extends C.RxModalClass{constructor(e,t,n,i,r){super(e,r),this.activeModalRef=e,this.rxExpressionEditorService=t,this.formBuilder=n,this.translateService=i,this.injector=r,this.destroyed$=new o.ReplaySubject(1),this.config=this.activeModalRef.getData(),this.propsFormArray=this.formBuilder.array([]),this.iconPositions=Hd.iconPositions,this.textColors=Hd.colorsList,this.fontSizes=Hd.fontSizes,this.colorsList=Ud,this.backgroundColors=Hd.colorsList.filter(e=>e.value!==Vd.Light),this.badgeColors=Hd.colorsList.filter(e=>![Vd.Light,Vd.Active,null].includes(e.value)),this.iconPickerOptions={label:"Icon",appendToBody:!0,required:!1}}ngOnInit(){super.ngOnInit(),this.expressionConfigurator=new Xd,this.expressionConfigurator.configureForProperty({propertyPath:"cellDisplayProperties",dataDictionary$:this.expressionConfigurator.cellDisplayExpressionDataDictionary(this.config.columns),operators:this.expressionConfigurator.getOperatorRowsByGroup(a.ExpressionOperatorGroup.AllClient)}),this.queryExpressionOptions={label:"Field value condition",dataDictionary$:this.expressionConfigurator.getDataDictionary("cellDisplayProperties"),operators:this.expressionConfigurator.getOperators("cellDisplayProperties"),isRequired:!0},(0,p.forEach)(this.config.cellDisplayProperties,e=>this.propsFormArray.push(this.getFormGroup(e)))}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}addCellProperties(){this.markAsDirty(),this.propsFormArray.push(this.getFormGroup({fieldValueCondition:"",displayAsBadge:!1,badgeColor:null,icon:null,iconPosition:null,textColor:null,backgroundColor:null,fontSize:null,bold:!1,italic:!1,isOpen:!0})),setTimeout(()=>{this.accordionTabEls.last.nativeElement.scrollIntoView({block:"nearest"})})}removeCellProperties(e){this.propsFormArray.removeAt(e),this.markAsDirty()}optionFormatter(e){return e.label}getFormGroup(e){var t;const n=this.formBuilder.group({fieldValueCondition:[e.fieldValueCondition,x.Validators.required],displayAsBadge:[e.displayAsBadge],badgeColor:{value:this.getSelectValue(this.badgeColors,"value",e.badgeColor),disabled:!e.displayAsBadge},icon:{value:e.icon,disabled:e.displayAsBadge},iconPosition:{value:this.getSelectValue(this.iconPositions,"value",e.iconPosition),disabled:!e.icon},textColor:{value:this.getSelectValue(this.textColors,"value",e.textColor),disabled:e.displayAsBadge},backgroundColor:{value:this.getSelectValue(this.backgroundColors,"value",e.backgroundColor),disabled:e.displayAsBadge},fontSize:{value:this.getSelectValue(this.fontSizes,"value",e.fontSize),disabled:e.displayAsBadge},bold:[e.bold],italic:[e.italic],isOpen:[null!==(t=e.isOpen)&&void 0!==t&&t]});return n.controls.displayAsBadge.valueChanges.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{e&&n.controls.badgeColor.disabled&&n.controls.badgeColor.reset({value:[this.badgeColors[0]],disabled:!1}),!e&&n.controls.badgeColor.enabled&&n.controls.badgeColor.reset({value:[],disabled:!0})}),n.controls.icon.valueChanges.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{e&&n.controls.iconPosition.disabled&&n.controls.iconPosition.reset({value:[this.iconPositions[0]],disabled:!1}),!e&&n.controls.iconPosition.enabled&&n.controls.iconPosition.reset({value:[],disabled:!0})}),n}getSelectValue(e,t,n){const i=e.find(e=>e[t]===n);return i?[i]:[]}openExpressionEditor(e){this.rxExpressionEditorService.openEditor({property:{path:"cellDisplayProperties",value:e.value,label:"Cell display properties"},isReadOnly:!1,expressionConfigurator:this.expressionConfigurator,legend:[{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.column.label"),icon:"d-icon-field_text"}]}).subscribe(t=>{e.setValue(t.value),this.markAsDirty()})}moveCellProperties(e,t){(0,b.moveItemInArray)(this.propsFormArray.controls,e,t),this.markAsDirty()}onSelectedCellPropertyDrop(e){(0,b.moveItemInArray)(this.propsFormArray.controls,e.previousIndex,e.currentIndex),this.markAsDirty()}toggleProp(e){e.setValue(!e.value),this.markAsDirty()}toggleOpen(e){this.propsFormArray.controls.forEach(t=>{t.get("isOpen").setValue(e)})}resetIconAndTextProps(e){const t=e.get("displayAsBadge").value;e.get("icon").reset({value:null,disabled:t}),e.get("textColor").reset({value:[this.textColors[0]],disabled:t}),e.get("backgroundColor").reset({value:[this.backgroundColors[0]],disabled:t}),e.get("fontSize").reset({value:[this.fontSizes[0]],disabled:t}),e.get("bold").reset({value:!1,disabled:t}),e.get("italic").reset({value:!1,disabled:t})}onSave(){const e=this.propsFormArray.getRawValue().map(e=>Object.assign(Object.assign({},e),{icon:(0,p.get)(e,"icon",null),badgeColor:(0,p.get)(e,"badgeColor[0].value",null),iconPosition:(0,p.get)(e,"iconPosition[0].value",null),textColor:(0,p.get)(e,"textColor[0].value",null),backgroundColor:(0,p.get)(e,"backgroundColor[0].value",null),fontSize:(0,p.get)(e,"fontSize[0].value",null)})).map(e=>Object.assign({},(0,p.omit)(e,"isOpen")));this.activeModalRef.close(e)}cancel(){this.activeModalRef.dismiss(h.DismissReasons.CLOSE_BTN)}}Wd.\u0275fac=function(e){return new(e||Wd)(i["\u0275\u0275directiveInject"](h.ActiveModalRef),i["\u0275\u0275directiveInject"](l.RxExpressionEditorService),i["\u0275\u0275directiveInject"](x.FormBuilder),i["\u0275\u0275directiveInject"](u.TranslateService),i["\u0275\u0275directiveInject"](i.Injector))},Wd.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Wd,selectors:[["rx-cell-display-properties-editor"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](h.AdaptAccordionTabComponent,5,i.ElementRef),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.accordionTabEls=e)}},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:18,vars:10,consts:[[1,"designer-modal-body","modal-body","d-flex","mh-100"],[1,"row","flex-grow-1","w-100"],[1,"d-flex","flex-column","mh-100","col"],[1,"d-flex","align-items-start","justify-content-between"],["class","pl-0 pr-0","rx-id","add-button","adapt-button","","type","button","btn-type","tertiary",3,"click",4,"ngIf"],["adaptPopover","Cell display properties will be applied based on the first field value condition evaluating to true.","placement","bottom","appendToBody","true",1,"d-icon-right-question_circle_o","ml-1","mt-1"],["class","btn-group",4,"ngIf"],["id","selected-cell-property","class","designer-modal-accordion-wrapper","cdkDropList","",3,"cdkDropListDropped",4,"ngIf"],["class","d-flex justify-content-center h-100 align-items-center mt-2",4,"ngIf"],[1,"modal-footer"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click",4,"ngIf"],["adapt-button","","btn-type","secondary","type","button","rx-id","cancel-button",3,"click"],["optionTemplate",""],["rx-id","add-button","adapt-button","","type","button","btn-type","tertiary",1,"pl-0","pr-0",3,"click"],[1,"d-icon-left-plus_circle"],[1,"btn-group"],["adapt-button","","btn-type","tertiary","type","button","rx-id","expand-all-button",3,"click"],["adapt-button","","btn-type","tertiary","type","button","rx-id","collapse-all-button",3,"click"],["id","selected-cell-property","cdkDropList","",1,"designer-modal-accordion-wrapper",3,"cdkDropListDropped"],[3,"multiselect"],["class","designer-modal-accordion-content","cdkDrag","","cdkDragLockAxis","y",3,"cdkDragData","cdkDragDisabled",4,"ngFor","ngForOf"],["cdkDrag","","cdkDragLockAxis","y",1,"designer-modal-accordion-content",3,"cdkDragData","cdkDragDisabled"],["class","designer-modal-drag-handle d-icon-left-dots","cdkDragHandle","",4,"ngIf"],[1,"d-block",3,"formGroup","isOpen","open","close"],[1,"card-title-text","w-100"],[1,"designer-modal-card-title-content"],[1,"left-header-block"],["rx-id","card-title",1,"rx-ellipsis",3,"title"],["class","right-header-block",4,"ngIf"],[1,"row"],["formControlName","fieldValueCondition","rx-id","query-expression-field",1,"form-group","d-block","col-12",3,"options","events"],[1,"row","form-group"],[1,"col-3"],[3,"label"],["formControlName","displayAsBadge",3,"disabled","ngModelChange"],["formControlName","badgeColor",1,"d-block","col-3",3,"label","disabled","options","optionFormatter","optionContentTemplate","ngModelChange"],["formControlName","icon",1,"d-block","col-3",3,"disabled","options","ngModelChange"],["formControlName","iconPosition",1,"d-block","col-3",3,"label","disabled","options","optionFormatter","ngModelChange"],["formControlName","textColor",1,"d-block","col-3",3,"label","disabled","options","optionFormatter","optionContentTemplate","ngModelChange"],["formControlName","backgroundColor",1,"d-block","col-3",3,"label","disabled","options","optionFormatter","optionContentTemplate","ngModelChange"],["formControlName","fontSize",1,"d-block","col-3",3,"label","disabled","options","optionFormatter","ngModelChange"],[1,"col-3","pt-4","d-flex","align-item-center"],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],[1,"btn","btn-secondary","d-icon-bold_adapt",3,"ngClass"],["type","checkbox","name","fontStyle",3,"disabled","click"],[1,"btn","btn-secondary","ml-2","d-icon-italic_adapt",3,"ngClass"],["cdkDragHandle","",1,"designer-modal-drag-handle","d-icon-left-dots"],[1,"right-header-block"],[1,"designer-modal-card-title-index-buttons"],["type","button","rx-id","move-down-button",1,"d-icon-left-triangle_down","rx-button-unstyled",3,"disabled","click"],["type","button","rx-id","move-up-button",1,"d-icon-left-triangle_up","rx-button-unstyled",3,"disabled","click"],["adapt-button","","size","small","type","button","rx-id","remove-button",1,"d-icon-left-cross_adapt","p-1","pr-4","ml-3",3,"click"],[1,"d-flex","justify-content-center","h-100","align-items-center","mt-2"],["type","grid",1,"w-100",3,"label"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click"],[1,"d-flex","align-items-center"],[3,"ngClass"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"div"),i["\u0275\u0275template"](5,wn,4,3,"button",4),i["\u0275\u0275element"](6,"span",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](7,Cn,7,6,"div",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,En,3,2,"div",7),i["\u0275\u0275template"](9,Dn,3,3,"div",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div",9),i["\u0275\u0275template"](11,Tn,3,4,"button",10),i["\u0275\u0275elementStart"](12,"button",11),i["\u0275\u0275listener"]("click",function(){return t.cancel()}),i["\u0275\u0275text"](13),i["\u0275\u0275pipe"](14,"translate"),i["\u0275\u0275pipe"](15,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](16,Rn,3,2,"ng-template",null,12,i["\u0275\u0275templateRefExtractor"])),2&e&&(i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",!t.config.isReadOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.propsFormArray.controls.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.propsFormArray.controls.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.propsFormArray.controls.length),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.config.isReadOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.config.isReadOnly?i["\u0275\u0275pipeBind1"](14,6,"com.bmc.arsys.rx.client.common.close.label"):i["\u0275\u0275pipeBind1"](15,8,"com.bmc.arsys.rx.client.common.cancel.label")," "))},directives:[m.NgIf,h.AdaptPopoverDirective,h.AdaptButtonComponent,b.CdkDropList,h.AdaptAccordionComponent,m.NgForOf,b.CdkDrag,h.AdaptAccordionTabComponent,x.NgControlStatusGroup,x.FormGroupDirective,l.ExpressionFormControlComponent,x.NgControlStatus,x.FormControlName,h.AdaptRxControlLabelComponent,h.AdaptRxSwitchComponent,h.AdaptRxSelectComponent,l.IconPickerFormControlComponent,m.NgClass,b.CdkDragHandle,h.AdaptEmptyStateComponent],pipes:[u.TranslatePipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.designer-modal-body[_ngcontent-%COMP%]{height:645px;min-height:calc(100% - 61px)!important}.designer-modal-accordion-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:auto;padding-top:10px}.designer-modal-accordion-content[_ngcontent-%COMP%]{position:relative}.designer-modal-accordion-content.cdk-drag-preview[_ngcontent-%COMP%]{z-index:1200!important}.designer-modal-drag-handle[_ngcontent-%COMP%]{cursor:move;position:absolute;top:0;left:0;height:46px;padding:14px 10px 14px 14px;z-index:1}.designer-modal-card-title-content[_ngcontent-%COMP%]{width:100%;display:flex}.designer-modal-card-title-content[_ngcontent-%COMP%]   .left-header-block[_ngcontent-%COMP%], .designer-modal-card-title-content[_ngcontent-%COMP%]   .right-header-block[_ngcontent-%COMP%]{display:flex;align-items:center}.designer-modal-card-title-content[_ngcontent-%COMP%]   .left-header-block[_ngcontent-%COMP%]{flex-grow:1;min-width:0;font-size:14px;padding-left:22px}.designer-modal-card-sub-title[_ngcontent-%COMP%]{color:#7c7f81;font-weight:normal}.designer-modal-card-title-index-buttons[_ngcontent-%COMP%]{display:flex;font-size:19px}.rx-card[_ngcontent-%COMP%]{overflow:auto}.rx-tree-draggable-node[_ngcontent-%COMP%]{cursor:pointer}.rx-tree-draggable-node.cdk-drag-preview[_ngcontent-%COMP%]{z-index:1200!important}.rx-tree-draggable-node.cdk-drag[_ngcontent-%COMP%]{opacity:1}.rx-tree-node-label[_ngcontent-%COMP%]{word-break:break-all}rx-form-builder[_ngcontent-%COMP%]{max-width:400px}.color-option-box[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px}']});class qd extends l.ValueAccessor{constructor(e){super(),this.rxModalService=e}openPropertiesEditor(){this.rxModalService.openModal({title:`Edit cell display properties for ${this.columnName}`,data:{cellDisplayProperties:this.value?(0,p.cloneDeep)(this.value):[],isReadOnly:this.isDisabled,columns:this.columns},content:Wd,size:c.OpenViewActionModalSize.Large,testID:"edit-cell-display-properties"}).then(e=>{this.value=e}).catch(p.noop)}}qd.\u0275fac=function(e){return new(e||qd)(i["\u0275\u0275directiveInject"](C.RxModalService))},qd.\u0275cmp=i["\u0275\u0275defineComponent"]({type:qd,selectors:[["rx-cell-display-properties"]],inputs:{columnName:"columnName",columns:"columns"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:x.NG_VALUE_ACCESSOR,useExisting:qd,multi:!0}]),i["\u0275\u0275InheritDefinitionFeature"]],decls:6,vars:2,consts:[["rx-id","open-modal-button","btn-type","tertiary",1,"px-0","py-0",3,"click"],["name","plus_circle",1,"mr-1"],["rx-id","columns"],["class","text-tertiary",4,"ngIf"],[1,"text-tertiary"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"adapt-button",0),i["\u0275\u0275listener"]("click",function(){return t.openPropertiesEditor()}),i["\u0275\u0275element"](1,"adapt-icon",1),i["\u0275\u0275text"](2," Edit cell display properties\n"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",2),i["\u0275\u0275template"](4,Mn,2,0,"span",3),i["\u0275\u0275template"](5,On,2,0,"span",3),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",!(null!=t.value&&t.value.length)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(null==t.value?null:t.value.length)>0))},directives:[h.AdaptButtonComponent,h.AdaptIconComponent,m.NgIf],encapsulation:2});const Yd={keywords:{label:"Keywords",children:[{label:"Current user",icon:"d-icon-dollar",expression:"$USER$"},{label:"Current date",icon:"d-icon-dollar",expression:"$DATE$"},{label:"Current time",icon:"d-icon-dollar",expression:"$TIME$"},{label:"Current date and time",icon:"d-icon-dollar",expression:"$TIMESTAMP$"},{label:"Current week day",icon:"d-icon-dollar",expression:"$WEEKDAY$"},{label:"Current groups",icon:"d-icon-dollar",expression:"$GROUPS$"},{label:"Current group IDs",icon:"d-icon-dollar",expression:"$GROUPIDS$"},{label:"Current roles",icon:"d-icon-dollar",expression:"$ROLES$"},{label:"Current user locale",icon:"d-icon-dollar",expression:"$LOCALE$"},{label:"Current server URL",icon:"d-icon-dollar",expression:"$SERVERURL$"},{label:"NULL",icon:"d-icon-dollar",expression:"$NULL$",hidden:!0}]}};class Qd extends d.RxViewExpressionConfigurator{constructor(e,t,n,i){super(e),this.injector=e,this.activeModalRef=t,this.rxViewDataDictionaryService=n,this.rxDefaultExpressionEvaluatorService=i,this.commonDataDictionary$=this.rxViewDataDictionaryService.commonDataDictionary$.pipe((0,r.map)(e=>[{expression:`'${this.activeModalRef.getData().column.fieldId}'`,icon:"d-icon-file_o_gear",label:this.activeModalRef.getData().column.title},Yd.keywords,...e.slice(2)]))}getExpressionEvaluator(){return this.rxDefaultExpressionEvaluatorService}}Qd.\u0275fac=function(e){return new(e||Qd)(i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](h.ActiveModalRef),i["\u0275\u0275inject"](d.RxViewDataDictionaryService),i["\u0275\u0275inject"](c.RxDefaultExpressionEvaluatorService))},Qd.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Qd,factory:Qd.\u0275fac});class Zd extends C.RxModalClass{constructor(e,t,n,i,o,r,s){super(e,s),this.activeModalRef=e,this.rxGuidService=t,this.rxExpressionEditorService=n,this.formBuilder=i,this.translateService=o,this.expressionConfigurator=r,this.config=this.activeModalRef.getData(),this.namedFilterOptionsFormArray=this.formBuilder.array([]),this.accordionTabs={}}ngOnInit(){super.ngOnInit(),this.expressionConfigurator.configureForProperty({propertyPath:"namedFilterOptions",operators:a.ExpressionOperatorRowsByGroup.get(a.ExpressionOperatorGroup.All)}),this.queryExpressionOptions={label:"Filter",dataDictionary$:this.expressionConfigurator.getDataDictionary("namedFilterOptions"),operators:this.expressionConfigurator.getOperators("namedFilterOptions"),isRequired:!0},(0,p.forEach)(this.config.namedFilterOptions,(e,t)=>{this.accordionTabs[e.guid]=t===this.config.activeIndex,this.namedFilterOptionsFormArray.push(this.getFormGroup(e))}),this.config.isReadOnly&&this.namedFilterOptionsFormArray.disable()}ngAfterViewInit(){this.config.activeIndex&&this.accordionTabEls.toArray()[this.config.activeIndex].nativeElement.scrollIntoView({block:"nearest"})}addNamedFilterOption(){this.markAsDirty();const e=this.rxGuidService.generate();this.accordionTabs[e]=!0;let t="New filter option",n=0,i=!1;const o=(0,p.map)(this.namedFilterOptionsFormArray.getRawValue(),"title");do{t=0===n?t:`New filter option ${n}`,n++,i=(0,p.includes)(o,t)}while(i);this.namedFilterOptionsFormArray.push(this.getFormGroup({data:{title:t,filterExpression:"",index:this.namedFilterOptionsFormArray.length},guid:e})),setTimeout(()=>{this.accordionTabEls.last.nativeElement.scrollIntoView({block:"nearest"})})}removeNamedFilterOption(e){this.namedFilterOptionsFormArray.removeAt(e),this.markAsDirty()}openExpressionEditor(e,t){this.rxExpressionEditorService.openEditor({property:{path:"namedFilterOptions",value:t.value,label:e.value},isReadOnly:!1,expressionConfigurator:this.expressionConfigurator,legend:[{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.keyword.label"),icon:"d-icon-dollar"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-component-property.label"),icon:"d-icon-file_o_gear"}]}).subscribe(e=>{t.setValue(e.value),this.markAsDirty()})}moveNamedFilterOption(e,t){(0,b.moveItemInArray)(this.namedFilterOptionsFormArray.controls,e,t),this.markAsDirty()}onSelectedNamedFilterOptionDrop(e){(0,b.moveItemInArray)(this.namedFilterOptionsFormArray.controls,e.previousIndex,e.currentIndex),this.markAsDirty()}onSave(){const e=this.namedFilterOptionsFormArray.getRawValue().map(({guid:e,title:t,filterExpression:n},i)=>({guid:e,data:{title:t,filterExpression:n,index:i}}));this.activeModalRef.close(e)}cancel(){this.activeModalRef.dismiss(h.DismissReasons.CLOSE_BTN)}toggleOpen(e){(0,p.forEach)(this.accordionTabs,(t,n)=>{this.accordionTabs[n]=e})}getCheckTitleDuplicateValidator(e){return t=>{const n=t.value;return n&&this.namedFilterOptionsFormArray.controls.some(t=>t.value.title===n&&t.value.guid!==e.guid)?{duplicateFilterOptionName:{message:"Filter option with this name already exists."}}:null}}getFormGroup(e){return this.formBuilder.group({guid:e.guid,title:[e.data.title,[x.Validators.required,this.getCheckTitleDuplicateValidator(e).bind(this),e=>{var t;return(null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.includes(";"))?{invalidName:{message:"A filter option name cannot contain any of the following characters: ;"}}:null}]],filterExpression:[e.data.filterExpression,x.Validators.required]})}}Zd.\u0275fac=function(e){return new(e||Zd)(i["\u0275\u0275directiveInject"](h.ActiveModalRef),i["\u0275\u0275directiveInject"](v.RxGuidService),i["\u0275\u0275directiveInject"](l.RxExpressionEditorService),i["\u0275\u0275directiveInject"](x.FormBuilder),i["\u0275\u0275directiveInject"](u.TranslateService),i["\u0275\u0275directiveInject"](Qd),i["\u0275\u0275directiveInject"](i.Injector))},Zd.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Zd,selectors:[["rx-named-filter-options-editor-modal"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](h.AdaptAccordionTabComponent,5,i.ElementRef),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.accordionTabEls=e)}},features:[i["\u0275\u0275ProvidersFeature"]([Qd]),i["\u0275\u0275InheritDefinitionFeature"]],decls:14,vars:10,consts:[[1,"designer-modal-body","modal-body","d-flex","mh-100"],[1,"row","flex-grow-1","w-100"],[1,"d-flex","flex-column","mh-100","col"],[1,"d-flex","align-items-start","justify-content-between"],["class","mt-2 p-0","rx-id","add-button","adapt-button","","type","button","btn-type","tertiary",3,"click",4,"ngIf"],["class","btn-group",4,"ngIf"],["class","designer-modal-accordion-wrapper","cdkDropList","",3,"cdkDropListDropped",4,"ngIf"],["class","d-flex justify-content-center h-100 align-items-center mt-2",4,"ngIf"],[1,"modal-footer"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click",4,"ngIf"],["adapt-button","","btn-type","secondary","type","button","rx-id","cancel-button",3,"click"],["rx-id","add-button","adapt-button","","type","button","btn-type","tertiary",1,"mt-2","p-0",3,"click"],[1,"d-icon-left-plus_circle"],[1,"btn-group"],["adapt-button","","btn-type","tertiary","type","button","rx-id","expand-all-button",3,"click"],["adapt-button","","btn-type","tertiary","type","button","rx-id","collapse-all-button",3,"click"],["cdkDropList","",1,"designer-modal-accordion-wrapper",3,"cdkDropListDropped"],[3,"multiselect"],["class","designer-modal-accordion-content","cdkDrag","","cdkDragLockAxis","y",3,"cdkDragData","cdkDragDisabled",4,"ngFor","ngForOf"],["cdkDrag","","cdkDragLockAxis","y",1,"designer-modal-accordion-content",3,"cdkDragData","cdkDragDisabled"],["class","designer-modal-drag-handle d-icon-left-dots","cdkDragHandle","",4,"ngIf"],[1,"d-block",3,"formGroup","isOpen"],[1,"card-title-text","w-100"],[1,"designer-modal-card-title-content"],[1,"left-header-block"],["rx-id","card-title",1,"rx-ellipsis",3,"title"],["class","right-header-block",4,"ngIf"],["rx-id","filter-option-name-field","formControlName","title","rxNoWhitespace","",1,"form-group","d-block",3,"label","required","ngModelChange"],["formControlName","filterExpression","rx-id","query-expression-field",3,"options","required","events","ngModelChange"],["cdkDragHandle","",1,"designer-modal-drag-handle","d-icon-left-dots"],[1,"right-header-block"],[1,"designer-modal-card-title-index-buttons"],["type","button","rx-id","move-down-button",1,"d-icon-left-triangle_down","rx-button-unstyled",3,"disabled","click"],["type","button","rx-id","move-up-button",1,"d-icon-left-triangle_up","rx-button-unstyled",3,"disabled","click"],["adapt-button","","size","small","type","button","rx-id","remove-button",1,"d-icon-left-cross_adapt","p-1","pr-4","ml-3",3,"click"],[1,"d-flex","justify-content-center","h-100","align-items-center","mt-2"],["type","search",1,"w-100",3,"label"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275template"](4,Pn,4,3,"button",4),i["\u0275\u0275template"](5,Fn,7,6,"div",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,Ln,3,2,"div",6),i["\u0275\u0275template"](7,Vn,3,3,"div",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",8),i["\u0275\u0275template"](9,Bn,3,4,"button",9),i["\u0275\u0275elementStart"](10,"button",10),i["\u0275\u0275listener"]("click",function(){return t.cancel()}),i["\u0275\u0275text"](11),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275pipe"](13,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",!t.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.namedFilterOptionsFormArray.controls.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.namedFilterOptionsFormArray.controls.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.namedFilterOptionsFormArray.controls.length),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.config.isReadOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.config.isReadOnly?i["\u0275\u0275pipeBind1"](12,6,"com.bmc.arsys.rx.client.common.close.label"):i["\u0275\u0275pipeBind1"](13,8,"com.bmc.arsys.rx.client.common.cancel.label")," "))},directives:[m.NgIf,h.AdaptButtonComponent,b.CdkDropList,h.AdaptAccordionComponent,m.NgForOf,b.CdkDrag,h.AdaptAccordionTabComponent,x.NgControlStatusGroup,x.FormGroupDirective,h.AdaptRxTextfieldComponent,x.NgControlStatus,x.FormControlName,v.RxNoWhitespaceValidator,x.RequiredValidator,l.ExpressionFormControlComponent,b.CdkDragHandle,h.AdaptEmptyStateComponent],pipes:[u.TranslatePipe],styles:[Gn]});class Kd extends l.ValueAccessor{constructor(e){super(),this.rxModalService=e}openNamedFilterOptions(e){this.rxModalService.openModal({title:`Edit named filter options for ${this.column.title}`,data:{namedFilterOptions:this.value?(0,p.cloneDeep)(this.value):[],isReadOnly:this.isDisabled,activeIndex:e,column:this.column},content:Zd,size:c.OpenViewActionModalSize.Large,testID:"edit-named-filter-options"}).then(e=>{this.value=e}).catch(p.noop)}editNamedFilterOption(e){this.openNamedFilterOptions(e)}removeFilterOption(e){this.value=(0,p.without)(this.value,e)}}Kd.\u0275fac=function(e){return new(e||Kd)(i["\u0275\u0275directiveInject"](C.RxModalService))},Kd.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Kd,selectors:[["rx-named-filter-options"]],inputs:{column:"column",tooltip:"tooltip"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:x.NG_VALUE_ACCESSOR,useExisting:Kd,multi:!0}]),i["\u0275\u0275InheritDefinitionFeature"]],decls:7,vars:3,consts:[["rx-id","open-modal-button","btn-type","tertiary",1,"px-0","py-0","pb-1",3,"click"],["name","plus_circle",1,"mr-1"],["class","align-middle",4,"ngIf"],["rx-id","named-filter-options"],["class","text-tertiary",4,"ngIf"],["class","list-unstyled mb-0",4,"ngIf"],[1,"align-middle"],[1,"letter-space"],["appendToBody","true",3,"name","adaptPopover"],[1,"text-tertiary"],[1,"list-unstyled","mb-0"],["class","border px-2 py-1 mb-1 d-flex align-items-center",4,"ngFor","ngForOf"],[1,"border","px-2","py-1","mb-1","d-flex","align-items-center"],[1,"mr-auto","text-break"],["adapt-button","","btn-type","tertiary","size","small","type","button","rx-id","edit-button",1,"d-icon-left-pencil","p-1",3,"click"],["class","d-icon-left-cross_adapt p-1","adapt-button","","btn-type","tertiary","size","small","type","button","rx-id","remove-button",3,"click",4,"ngIf"],["adapt-button","","btn-type","tertiary","size","small","type","button","rx-id","remove-button",1,"d-icon-left-cross_adapt","p-1",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"adapt-button",0),i["\u0275\u0275listener"]("click",function(){return t.openNamedFilterOptions()}),i["\u0275\u0275element"](1,"adapt-icon",1),i["\u0275\u0275text"](2," Edit named filter options\n"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,zn,3,2,"span",2),i["\u0275\u0275elementStart"](4,"div",3),i["\u0275\u0275template"](5,$n,2,0,"div",4),i["\u0275\u0275template"](6,Xn,2,1,"ul",5),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.tooltip),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!(null!=t.value&&t.value.length)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(null==t.value?null:t.value.length)>0))},directives:[h.AdaptButtonComponent,h.AdaptIconComponent,m.NgIf,h.AdaptPopoverDirective,m.NgForOf],encapsulation:2});class Jd extends C.RxModalClass{constructor(e,t,n,i,o,r,s,l,c,d,u){super(e,c),this.activeModalRef=e,this.rxModalService=t,this.definitionNameService=n,this.rxRecordGridUtilsService=i,this.rxFieldDefinitionService=o,this.rxRecordDefinitionCacheService=r,this.rxGuidService=s,this.ngZone=l,this.injector=c,this.translateService=d,this.rxExpressionEditorService=u,this.columnProperties=kd.columnProperties,this.actionsColumnProperties=kd.actionsColumnProperties,this.filteredColumns=[],this.availableColumnsTree=[],this.startedLoadingAssociationDescriptors=!1,this.treeWrap=h.TreeWrap.WrapAll,this.columnWidthPropertyOptions=this.columnProperties.find(({name:e})=>"width"===e).options,this.typeaheadKeystrokeCountOptions=Object.assign(Object.assign({},this.columnProperties.find(({name:e})=>"typeaheadKeystrokeCount"===e).options),{tooltip:new a.Tooltip(this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid-column.keystroke-count.tooltip"))});const m=this.activeModalRef.getData().columnParams;this.activeColumn=m.activeColumn,this.activeActionIndex=m.activeActionIndex,this.recordDefinition=m.recordDefinition,this.isReadOnly=m.isReadOnly,this.columns=m.columns.map(e=>{const t=e.fieldDefinition.namedListDefinition?this.getAdditionalQueryCriteriaExpressionOptions(e):null;return Object.assign(Object.assign({},e),{isOpen:e===this.activeColumn,label:this.rxRecordGridUtilsService.getColumnLabel(e.fieldDefinition,e.associationDescriptor),clickable:!(0,p.isEmpty)(e.actions),additionalQueryCriteriaExpressionOptions:t})}).sort((e,t)=>e.index-t.index),this.getAvailableColumnsTree()}ngAfterViewInit(){this.updateSelectedColumnsDropList(),this.openActiveAction();const e=(0,p.findIndex)(this.columns,"isOpen");-1!==e&&this.accordionTabEls.toArray()[e].nativeElement.scrollIntoView({block:"nearest"})}isActionsColumn(e){return e===kd.actionsColumnFieldDefinition.id}updateSelectedColumnsDropList(){this.updateColumnsDropList(this.draggableSelectedColumns,this.selectedColumnsDropList)}updateAssociatedAvailableColumnsDropList(){this.updateColumnsDropList(this.draggableAssociatedAvailableColumns,this.associatedAvailableColumnsDropList)}updateColumnsDropList(e,t){const n=e.toArray(),i=this.columns;n.sort((e,t)=>i.indexOf(e.data)-i.indexOf(t.data)),t._dropListRef.withItems(n.map(e=>{const n=e._dragRef;return n._initialContainer||(n._initialContainer=t._dropListRef),e._dragRef}))}cancel(){this.activeModalRef.dismiss(h.DismissReasons.CLOSE_BTN)}onDropInSelectedColumnsContainer(e){e.previousContainer!==e.container&&this.isColumnEditorAvailableColumn(e.item.data)?this.addColumn(e.item.data,e.currentIndex):e.previousIndex!==e.currentIndex&&this.moveColumn(e.previousIndex,e.currentIndex)}onColumnCheckboxPropertyChange(e,t,n){"filterable"===n.name&&t.fieldDefinition.namedListDefinition&&(e?t.typeaheadKeystrokeCount=kd.defaultTypeaheadKeystrokeCount:(t.typeaheadKeystrokeCount=null,t.additionalQueryCriteria=null)),this.markAsDirty()}onColumnDragStarted(){this.updateSelectedColumnsDropList()}onAssociatedAvailableColumnsDragStarted(){this.onColumnDragStarted(),this.updateAssociatedAvailableColumnsDropList()}isColumnEditorAvailableColumn(e){return Boolean(e.fieldDefinitionName)}moveColumn(e,t){this.markAsDirty(),(0,b.moveItemInArray)(this.columns,e,t),this.updateColumnIndexes()}removeColumn(e){this.markAsDirty();const t=this.columns[e];this.columns.splice(e,1);const n=t.associationDescriptor?this.getAssociatedAvailableColumnsNode(t.associationDescriptor.label):this.availableColumnsTree[0];n&&n.data.allAvailableColumns&&(n.data.allAvailableColumns.push(this.getColumnMetadata(t.fieldDefinition,t.associationDescriptor)),this.updateAvailableColumnsTree())}getAssociatedAvailableColumnsNode(e){return this.availableColumnsTree.find(t=>t.data.associationDescriptor&&t.data.associationDescriptor.label===e)}getAvailableColumnsTree(){const e={children:null,leaf:!1,expanded:!0,expandedIcon:"d-icon-file_text",collapsedIcon:"d-icon-file_text",label:this.definitionNameService.getDisplayName(this.recordDefinition.name),key:this.definitionNameService.getDisplayName(this.recordDefinition.name),data:{allAvailableColumns:null}};this.startedLoadingAssociationDescriptors||(this.startedLoadingAssociationDescriptors=!0,this.rxRecordGridUtilsService.getAssociationDescriptors(this.recordDefinition.name).subscribe(t=>{(t=t.slice()).sort((e,t)=>e.label.localeCompare(t.label)),this.availableColumnsTree=t.map(e=>({children:null,leaf:!1,expandedIcon:"d-icon-arrow_schema",collapsedIcon:"d-icon-arrow_schema",label:e.label,key:e.associationDefinition.name,data:{associationDescriptor:e,allAvailableColumns:null}})),this.availableColumnsTree.unshift(e),this.availableColumnsTree.forEach(e=>{this.onNodeExpand({node:e})})}))}updateAvailableColumnsTree(){this.availableColumnsTree.forEach(e=>{const t=e.data.allAvailableColumns;if(t){const n=this.sortAvailableColumns(t),i=e.data.associationDescriptor?e.data.associationDescriptor.associationDefinition.name:this.recordDefinition.name;e.children=n.map(e=>({children:null,leaf:!0,label:e.fieldDefinitionName,key:`${i}-${e.fieldDefinition.id}`,data:{availableColumn:e}}))}})}onNodeExpand({node:e}){const t=e.data.associationDescriptor;t&&!e.data.allAvailableColumns?(e.data.allAvailableColumns=[],this.rxRecordDefinitionCacheService.getRecordDefinition(t.recordDefinitionName).subscribe(n=>{e.data.allAvailableColumns=this.getAvailableColumns(n,t),this.updateAvailableColumnsTree()})):t||(e.data.allAvailableColumns=this.getAvailableColumns(this.recordDefinition),this.updateAvailableColumnsTree())}addColumn(e,t){if(this.markAsDirty(),!(0,p.find)(this.columns,t=>t.fieldId===e.fieldId)){const n=e.fieldDefinition.namedListDefinition?this.getAdditionalQueryCriteriaExpressionOptions(e):null,i=Object.assign(Object.assign({},this.getColumnEditorColumnData(e)),{additionalQueryCriteriaExpressionOptions:n});(0,p.isNil)(t)?this.columns.push(i):this.columns.splice(t,0,i),this.updateColumnIndexes(),this.removeFromAvailableColumns(e),setTimeout(()=>{this.accordionTabEls.toArray()[null!=t?t:this.columns.length-1].nativeElement.scrollIntoView()})}}getColumnEditorColumnData(e){const t={guid:this.rxGuidService.generate(),label:e.label,fieldId:e.fieldId,associationDescriptor:e.associationDescriptor,fieldDefinition:e.fieldDefinition,actions:[],title:e.fieldDefinitionName,isOpen:!0};return(0,p.forEach)(kd.columnProperties,n=>{"sortable"===n.name?t.sortable=e.isSortable:"searchable"===n.name?t.searchable=this.rxRecordGridUtilsService.isSearchable(e.fieldDefinition,this.recordDefinition):t[n.name]=n.defaultValue}),t}removeFromAvailableColumns(e){if(e.associationDescriptor){const t=this.getAssociatedAvailableColumnsNode(e.associationDescriptor.label);(0,p.remove)(t.data.allAvailableColumns,e)}else(0,p.remove)(this.availableColumnsTree[0].data.allAvailableColumns,e);this.updateAvailableColumnsTree()}sortAvailableColumns(e){return this.filteredColumns=e.sort((e,t)=>e.fieldDefinitionName.localeCompare(t.fieldDefinitionName)),this.filteredColumns}getAvailableColumns(e,t){return e.fieldDefinitions.map(e=>this.getColumnMetadata(e,t)).filter(e=>!(0,p.find)(this.columns,t=>t.fieldId===e.fieldId))}getColumnMetadata(e,t){return{fieldDefinitionName:e.name,label:this.rxRecordGridUtilsService.getColumnLabel(e,t),fieldId:this.rxRecordGridUtilsService.getFieldIdForGridColumn(e.id,t),isSortable:this.rxFieldDefinitionService.isSortable(e),associationDescriptor:t,fieldDefinition:e}}saveChanges(){const e={columns:this.columns.map(e=>{const t=e.filterable&&e.fieldDefinition.namedListDefinition;return{actions:e.actions,alignment:e.alignment,fieldId:e.fieldId,filterable:e.filterable,filterType:e.filterType,guid:e.guid,index:e.index,sortable:e.sortable,searchable:e.searchable,title:e.title,visible:e.visible,associationDescriptor:e.associationDescriptor,fieldDefinition:e.fieldDefinition,cellDisplayProperties:e.cellDisplayProperties,namedFilterOptions:e.namedFilterOptions,width:e.width,wrapText:e.wrapText,typeaheadKeystrokeCount:t?e.typeaheadKeystrokeCount:null,additionalQueryCriteria:t?e.additionalQueryCriteria:null}})};this.activeModalRef.close(e)}trackByForColumns(e,t){return t.fieldId}trackByForColumnProperties(e,t){return t.name}isPropertyEditable(e,t){return"searchable"===t?!this.isReadOnly&&this.rxRecordGridUtilsService.isSearchable(e.fieldDefinition,this.recordDefinition):!this.isReadOnly}updateColumnIndexes(){this.columns.forEach((e,t)=>{e.index=t})}openActiveAction(){this.activeColumn&&this.activeActionIndex>=0&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{const e=this.actionListControlComponents.find(e=>e.value===this.activeColumn.actions);e&&e.focus({actionIndex:this.activeActionIndex})})})}isTreeEmpty(){return(0,p.every)(this.availableColumnsTree,e=>0===e.data.allAvailableColumns.length)}openAdditionalQueryCriteriaExpressionEditor(e,t){const n=new d.NamedListFilterExpressionConfigurator(e.fieldDefinition,this.injector);this.rxExpressionEditorService.openEditor({property:{path:"additionalQueryCriteria",value:e.additionalQueryCriteria,label:"Additional named list filter"},isReadOnly:this.isReadOnly,expressionConfigurator:n,legend:[{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.function.label"),icon:"d-icon-mathematical_function"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.keyword.label"),icon:"d-icon-dollar"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-component.label"),icon:"d-icon-file_o"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-component-property.label"),icon:"d-icon-file_o_gear"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-input-parameter.label"),icon:"d-icon-arrow_right_square_input"}]}).subscribe(n=>{e.additionalQueryCriteria=n.value,t.value=n.value,t.onWriteValue(n.value),this.markAsDirty()})}getAdditionalQueryCriteriaExpressionOptions(e){const t=new d.NamedListFilterExpressionConfigurator(e.fieldDefinition,this.injector);return{label:"Additional named list filter",tooltip:new a.Tooltip("Build a filter to apply at runtime in addition to the filter, if any, specified in the named list definition."),dataDictionary$:t.getDataDictionary(),operators:t.getOperators()}}}Jd.\u0275fac=function(e){return new(e||Jd)(i["\u0275\u0275directiveInject"](h.ActiveModalRef),i["\u0275\u0275directiveInject"](C.RxModalService),i["\u0275\u0275directiveInject"](a.RxDefinitionNameService),i["\u0275\u0275directiveInject"](Nd),i["\u0275\u0275directiveInject"](s.RxFieldDefinitionService),i["\u0275\u0275directiveInject"](s.RxRecordDefinitionCacheService),i["\u0275\u0275directiveInject"](v.RxGuidService),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](u.TranslateService),i["\u0275\u0275directiveInject"](l.RxExpressionEditorService))},Jd.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Jd,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&(i["\u0275\u0275viewQuery"](Wn,5,b.CdkDropList),i["\u0275\u0275viewQuery"](qn,5,b.CdkDropList),i["\u0275\u0275viewQuery"](Yn,5,b.CdkDrag),i["\u0275\u0275viewQuery"](Qn,5,b.CdkDrag),i["\u0275\u0275viewQuery"](d.ActionListControlComponent,5),i["\u0275\u0275viewQuery"](h.AdaptAccordionTabComponent,5,i.ElementRef)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.selectedColumnsDropList=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.associatedAvailableColumnsDropList=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.draggableSelectedColumns=e),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.draggableAssociatedAvailableColumns=e),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.actionListControlComponents=e),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.accordionTabEls=e)}},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:18,vars:16,consts:[[1,"designer-modal-body","modal-body","d-flex","mh-100"],[1,"row","flex-grow-1","w-100"],["class","col-4 border-right d-flex flex-column mh-100",4,"ngIf"],[1,"d-flex","align-items-start","justify-content-between"],[1,"mt-2"],["id","selectedColumnsDropList","cdkDropList","",1,"designer-modal-accordion-wrapper",3,"cdkDropListData","cdkDropListDropped"],["selectedColumnsDropList","cdkDropList"],[3,"multiselect",4,"ngIf"],["class","d-flex justify-content-center h-100 align-items-center mt-2",4,"ngIf"],[1,"modal-footer"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click",4,"ngIf"],["adapt-button","","btn-type","secondary","type","button","rx-id","cancel-button",3,"click"],[1,"col-4","border-right","d-flex","flex-column","mh-100"],[1,"rx-card","card","flex-grow-1","mt-2"],[1,"card-block","d-flex","flex-column"],["cdkDropList","","cdkDropListSortingDisabled","",3,"cdkDropListData","cdkDropListConnectedTo",4,"ngIf"],["cdkDropList","","cdkDropListSortingDisabled","",3,"cdkDropListData","cdkDropListConnectedTo"],["associatedAvailableColumnsDropList","cdkDropList"],["filter","true",3,"value","wrap","onNodeExpand"],["adaptTreeNodeTemplate",""],[3,"title",4,"ngIf"],["class","rx-tree-draggable-node","cdkDrag","",3,"cdkDragData","cdkDragStarted",4,"ngIf"],[3,"title"],["cdkDrag","",1,"rx-tree-draggable-node",3,"cdkDragData","cdkDragStarted"],["draggableAssociatedAvailableColumn",""],[3,"dblclick"],["type","button",1,"rx-button-unstyled","d-icon-plus_circle",3,"click"],[1,"rx-tree-node-label","ml-3"],[1,"d-flex","justify-content-center","h-100","align-items-center","mt-2"],["type","search",1,"w-100",3,"label"],[3,"multiselect"],["class","designer-modal-accordion-content","cdkDrag","","cdkDragLockAxis","y",3,"cdkDragData","cdkDragDisabled","cdkDragStarted",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","","cdkDragLockAxis","y",1,"designer-modal-accordion-content",3,"cdkDragData","cdkDragDisabled","cdkDragStarted"],["draggableSelectedColumn",""],["class","designer-modal-drag-handle d-icon-left-dots","cdkDragHandle","",4,"ngIf"],[1,"d-block",3,"isOpen","open","close"],[1,"card-title-text","w-100"],[1,"designer-modal-card-title-content"],[1,"left-header-block"],["rx-id","card-title",1,"rx-ellipsis",3,"title"],["class","right-header-block",4,"ngIf"],[4,"ngIf"],["dataColumnEditorTemplate",""],["actionsColumnEditorTemplate",""],["cdkDragHandle","",1,"designer-modal-drag-handle","d-icon-left-dots"],[1,"right-header-block"],[1,"designer-modal-card-title-index-buttons"],["type","button","rx-id","move-down-button",1,"d-icon-left-triangle_down","rx-button-unstyled",3,"disabled","click"],["type","button","rx-id","move-up-button",1,"d-icon-left-triangle_up","rx-button-unstyled",3,"disabled","click"],["class","d-icon-left-cross_adapt p-1 pr-4 ml-3","adapt-button","","size","small","type","button","rx-id","remove-button",3,"click",4,"ngIf"],["adapt-button","","size","small","type","button","rx-id","remove-button",1,"d-icon-left-cross_adapt","p-1","pr-4","ml-3",3,"click"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"rx-record-grid-column-editor-text-field",3,"label","disabled","ngModel","ngModelChange"],[1,"d-flex","flex-wrap"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-flex","flex-row"],[1,"d-block","col-5","p-0",3,"options","ngModel","ngModelChange"],["class","d-block col-5 p-0 pb-2 pl-5",3,"options","ngModel","disabled","ngModelChange",4,"ngIf"],["rx-id","additional-query-criteria-expression","class","d-block p-0 pb-2",3,"options","ngModel","disabled","ngModelChange","events",4,"ngIf"],[1,"d-block","pb-2",3,"columns","columnName","disabled","ngModel","ngModelChange"],[1,"d-block","pb-2",3,"column","disabled","ngModel","tooltip","ngModelChange"],[1,"d-block",3,"disabled","ngModel","tooltip","ngModelChange"],["class","checkbox rx-record-grid-column-editor__checkbox-field",4,"ngIf"],["class","flex-fill","ngDefaultControl","",3,"isReadOnly","column","columnProperty","ngModel","ngModelChange",4,"ngIf"],[1,"checkbox","rx-record-grid-column-editor__checkbox-field"],["type","checkbox",3,"ngModel","disabled","ngModelChange"],[1,"checkbox__item"],["class","ml-1",4,"ngIf"],[1,"ml-1"],[1,"letter-space"],["appendToBody","true",3,"name","adaptPopover"],["ngDefaultControl","",1,"flex-fill",3,"isReadOnly","column","columnProperty","ngModel","ngModelChange"],[1,"d-block","col-5","p-0","pb-2","pl-5",3,"options","ngModel","disabled","ngModelChange"],["rx-id","additional-query-criteria-expression",1,"d-block","p-0","pb-2",3,"options","ngModel","disabled","ngModelChange","events"],["additionalQueryCriteriaExpression",""],[1,"rx-record-grid-column-editor-text-field","d-block","form-group",3,"label","disabled","ngModel","ngModelChange"],["class","checkbox rx-record-grid-column-editor__checkbox-field",4,"ngFor","ngForOf","ngForTrackBy"],["type","grid",1,"w-100",3,"label"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275template"](2,ii,9,5,"div",2),i["\u0275\u0275elementStart"](3,"div"),i["\u0275\u0275elementStart"](4,"div",3),i["\u0275\u0275elementStart"](5,"h4",4),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",5,6),i["\u0275\u0275listener"]("cdkDropListDropped",function(e){return t.onDropInSelectedColumnsContainer(e)}),i["\u0275\u0275template"](10,xi,2,3,"adapt-accordion",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](11,wi,3,3,"div",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",9),i["\u0275\u0275template"](13,Ci,3,4,"button",10),i["\u0275\u0275elementStart"](14,"button",11),i["\u0275\u0275listener"]("click",function(){return t.cancel()}),i["\u0275\u0275text"](15),i["\u0275\u0275pipe"](16,"translate"),i["\u0275\u0275pipe"](17,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275classMapInterpolate1"]("d-flex flex-column mh-100 ",t.isReadOnly?"col":"col-8",""),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](7,10,"com.bmc.arsys.rx.client.view-components.record-grid-column.selected-columns.title")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("cdkDropListData",t.columns),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.columns.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.columns.length),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.isReadOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.isReadOnly?i["\u0275\u0275pipeBind1"](16,12,"com.bmc.arsys.rx.client.common.close.label"):i["\u0275\u0275pipeBind1"](17,14,"com.bmc.arsys.rx.client.common.cancel.label")," "))},directives:[m.NgIf,b.CdkDropList,h.AdaptButtonComponent,h.AdaptTreeComponent,h.AdaptTreeNodeTemplateDirective,b.CdkDrag,h.AdaptEmptyStateComponent,h.AdaptAccordionComponent,m.NgForOf,h.AdaptAccordionTabComponent,b.CdkDragHandle,h.AdaptRxTextfieldComponent,x.NgControlStatus,x.NgModel,l.StepperWithUnitsFormControlComponent,qd,Kd,d.ActionListControlComponent,x.CheckboxControlValueAccessor,h.AdaptIconComponent,h.AdaptPopoverDirective,zd,x.DefaultValueAccessor,l.SelectFormControlComponent,l.ExpressionFormControlComponent],pipes:[u.TranslatePipe],styles:[':root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.designer-modal-body{height:645px;min-height:calc(100% - 61px)!important}.designer-modal-accordion-wrapper{display:flex;flex-direction:column;height:100%;overflow:auto;padding-top:10px}.designer-modal-accordion-content{position:relative}.designer-modal-accordion-content.cdk-drag-preview{z-index:1200!important}.designer-modal-drag-handle{cursor:move;position:absolute;top:0;left:0;height:46px;padding:14px 10px 14px 14px;z-index:1}.designer-modal-card-title-content{width:100%;display:flex}.designer-modal-card-title-content .left-header-block,.designer-modal-card-title-content .right-header-block{display:flex;align-items:center}.designer-modal-card-title-content .left-header-block{flex-grow:1;min-width:0;font-size:14px;padding-left:22px}.designer-modal-card-sub-title{color:#7c7f81;font-weight:normal}.designer-modal-card-title-index-buttons{display:flex;font-size:19px}.rx-card{overflow:auto}.rx-tree-draggable-node{cursor:pointer}.rx-tree-draggable-node.cdk-drag-preview{z-index:1200!important}.rx-tree-draggable-node.cdk-drag{opacity:1}.rx-tree-node-label{word-break:break-all}rx-form-builder{max-width:400px}.rx-record-grid-column-editor__checkbox-field{flex-basis:20%;min-width:140px}.rx-record-grid-column-editor__checkbox-field+.rx-record-grid-column-editor__checkbox-field{margin-top:calc(.5rem + 1px)!important}\n'],encapsulation:2,changeDetection:0});class eu extends l.ValueAccessor{constructor(e,t,n,i){super(),this.rxModalService=e,this.rxFieldDefinitionService=t,this.rxRecordGridConfigUtilsService=n,this.rxRecordGridUtilsService=i,this.updateColumnsSubject=new o.BehaviorSubject([]),this.columns$=this.updateColumnsSubject.pipe((0,r.switchMap)(e=>(0,o.forkJoin)(e.map(e=>(0,o.forkJoin)([this.rxRecordGridUtilsService.getAssociationDescriptor(e.fieldId,this.options.recordDefinition),this.rxRecordGridUtilsService.getFieldDefinition(e.fieldId,this.options.recordDefinition)]).pipe((0,r.map)(([t,n])=>({associationDescriptor:t,fieldDefinition:n,inspectorColumn:e}))))).pipe((0,r.defaultIfEmpty)([]),(0,r.map)(e=>e.map(e=>{var t;return Object.assign(Object.assign({},e.inspectorColumn),{fieldDefinition:e.fieldDefinition,associationDescriptor:e.associationDescriptor,title:null===(t=e.inspectorColumn.title)||void 0===t?void 0:t.trim(),searchable:(0,p.has)(e.inspectorColumn,"searchable")?this.rxRecordGridConfigUtilsService.getBooleanValue(e.inspectorColumn.searchable):e.inspectorColumn.filterable&&this.rxRecordGridUtilsService.isSearchable(e.fieldDefinition,this.options.recordDefinition),fallbackTitle:`[${e.fieldDefinition.name}]`})})),(0,r.shareReplay)(1))))}ngOnChanges(e){var t;(null===(t=e.options)||void 0===t?void 0:t.previousValue)&&e.options.currentValue.recordDefinition.name!==e.options.previousValue.recordDefinition.name&&this.updateColumnsSubject.next(this.value)}onWriteValue(e){this.updateColumnsSubject.next(e)}removeColumn(e){this.updateValue(this.value.filter(t=>t.fieldId!==e.fieldId))}updateValue(e){this.value=e,this.onWriteValue(e)}openEditor(e,t){this.columns$.pipe((0,r.take)(1)).subscribe(n=>{const i={isReadOnly:this.isDisabled,columns:n,activeColumn:n.find(t=>t.guid===e),recordDefinition:this.options.recordDefinition,activeActionIndex:t};this.rxModalService.openModal({title:"Edit grid columns",content:Jd,data:{columnParams:i},size:c.OpenViewActionModalSize.Large,testID:"edit-grid-columns"}).then(e=>{e&&e.columns&&this.updateValue(e.columns)}).catch(p.noop)})}focus(e){this.openEditor(null==e?void 0:e.columnGuid,null==e?void 0:e.actionIndex)}getColumnResourceTypeName(e){const t=s.RX_RECORD_DEFINITION.resourceTypesByFullName[e.fieldDefinition.resourceType];return(0,p.get)(s.RX_RECORD_DEFINITION.dataTypes[t],"displayName","")}getSortedColumns(e){return e.sort((e,t)=>e.index-t.index)}trackByForColumns(e,t){return t.fieldId}isActionsColumn(e){return e===kd.actionsColumnFieldDefinition.id}ngOnDestroy(){this.updateColumnsSubject.complete()}}var tu,nu,iu,ou;eu.\u0275fac=function(e){return new(e||eu)(i["\u0275\u0275directiveInject"](C.RxModalService),i["\u0275\u0275directiveInject"](s.RxFieldDefinitionService),i["\u0275\u0275directiveInject"](Gd),i["\u0275\u0275directiveInject"](Nd))},eu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:eu,selectors:[["rx-record-grid-column-editor"]],inputs:{options:"options"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:x.NG_VALUE_ACCESSOR,useExisting:eu,multi:!0}]),i["\u0275\u0275InheritDefinitionFeature"],i["\u0275\u0275NgOnChangesFeature"]],decls:5,vars:3,consts:[["btn-type","tertiary","rx-id","open-modal-button",1,"p-0","pb-1",3,"click"],[1,"d-icon-plus_circle"],[4,"ngIf"],["rx-id","columns"],["class","text-tertiary",4,"ngIf"],["class","rx-selected-column",4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-tertiary"],[1,"rx-selected-column"],[1,"rx-selected-column__header-container"],["rx-id","card-title",1,"rx-selected-column__header-title",3,"ngClass","title"],["type","button","class","rx-button-unstyled d-icon-left-pencil btn-link","rx-id","open-editor",3,"click",4,"ngIf"],["type","button","class","rx-button-unstyled d-icon-cross btn-link","rx-id","remove-column",3,"click",4,"ngIf"],["rx-id","column-type",1,"rx-column-type"],["type","button","rx-id","open-editor",1,"rx-button-unstyled","d-icon-left-pencil","btn-link",3,"click"],["type","button","rx-id","remove-column",1,"rx-button-unstyled","d-icon-cross","btn-link",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"adapt-button",0),i["\u0275\u0275listener"]("click",function(){return t.openEditor()}),i["\u0275\u0275element"](1,"span",1),i["\u0275\u0275text"](2," Edit grid columns\n"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,Ti,4,3,"div",2),i["\u0275\u0275pipe"](4,"async")),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](4,1,t.columns$)))},directives:[h.AdaptButtonComponent,m.NgIf,m.NgForOf,m.NgClass],pipes:[m.AsyncPipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.rx-selected-column[_ngcontent-%COMP%]{margin-bottom:5px;border:1px solid #d6d7d8;border-radius:2px;padding:5px 10px;word-break:break-all;font-weight:var(--font-weight-bold)}.rx-selected-column__header-container[_ngcontent-%COMP%]{display:flex;margin-bottom:5px}.rx-selected-column__header-title[_ngcontent-%COMP%]{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;font-size:14px}.rx-column-type[_ngcontent-%COMP%]{color:#959899;font-size:10px;overflow:hidden;text-overflow:ellipsis}.d-icon-cross[_ngcontent-%COMP%], .d-icon-left-pencil[_ngcontent-%COMP%]{cursor:pointer}.d-icon-cross[_ngcontent-%COMP%]:not(:hover), .d-icon-left-pencil[_ngcontent-%COMP%]:not(:hover){color:#313538}']}),function(e){e.And="AND",e.Or="OR"}(tu||(tu={}));class ru{constructor(e,t=[]){this.namedOptions=[],this.filterValue=e,Array.isArray(t)&&(this.namedOptions=t)}get length(){return(Array.isArray(this.filterValue)?this.filterValue.length:(0,p.isNil)(this.filterValue)?0:1)+this.namedOptions.length}static isEmpty(e){return e instanceof ru&&!e.length}static isEmptyWithRange(e){return e instanceof ru&&!e.namedOptions.length&&h.AdvancedFilterDataTypesConfigsService.isEmptyOnEmptyValues(e.filterValue)}}class su{constructor(e,t,n,i,o,r){this.rxRecordDefinitionService=e,this.rxObjectUtilsService=t,this.rxRecordGridUtilsService=n,this.rxNamedListService=i,this.advancedFilterDataTypesConfigsService=o,this.adaptTranslateService=r,this.translation=this.adaptTranslateService.getCurrentLanguage(),this.adaptTexts={fromLabel:this.translation["adapt.advancedFilter.configsTexts.fromLabel"],toLabel:this.translation["adapt.advancedFilter.configsTexts.toLabel"],trueLabel:this.translation["adapt.advancedFilter.configsTexts.trueLabel"],falseLabel:this.translation["adapt.advancedFilter.configsTexts.falseLabel"],blankLabel:this.translation["adapt.advancedFilter.configsTexts.blankLabel"],validationErrors:{invalidRangeName:this.translation["adapt.advancedFilter.validationErrors.invalidRangeName"],invalidRangeText:this.translation["adapt.advancedFilter.validationErrors.invalidRangeText"],numberTypeTexts:{fromValueMustBeNumber:this.translation["adapt.advancedFilter.validationErrors.numberTypeTexts.fromValueMustBeNumber"],toValueMustBeNumber:this.translation["adapt.advancedFilter.validationErrors.numberTypeTexts.toValueMustBeNumber"],invalidBetweenMinAndMax:this.translation["adapt.advancedFilter.validationErrors.numberTypeTexts.invalidBetweenMinAndMax"],invalidMinValue:this.translation["adapt.advancedFilter.validationErrors.numberTypeTexts.invalidMinValue"],invalidMaxValue:this.translation["adapt.advancedFilter.validationErrors.numberTypeTexts.invalidMaxValue"]}}},this.defaultConfig=this.advancedFilterDataTypesConfigsService.getConfigs(this.adaptTexts)}addAssociationFieldsToFieldDefinitionsById(e,t,n){return t.forEach(t=>{n.find(e=>e.name===t.recordDefinitionName).fieldDefinitions.forEach(n=>{const i=this.rxRecordGridUtilsService.getFieldIdForGridColumn(n.id,t);e[i]||this.rxRecordDefinitionService.addFieldDefinitionToMap(n,e,i)})}),e=Object.assign(Object.assign({},e),this.rxObjectUtilsService.expandProperties(e))}getAdvancedFilterOption(e,t,n,i,o,r,a,l,c,d){const u={id:e,label:t,dataType:i.filterOptionDataType,isHidden:o,data:(0,p.isFunction)(i.getDataForAdvancedFilter)?i.getDataForAdvancedFilter(n,e):null};if(l=null!=l?l:[],i.filterOptionDataType===h.AdvancedFilterOptionDataType.boolean&&(u.inputsTemplate=n.fieldOption!==s.RecordFieldOption.Required?r.optionalBooleanFilter:r.requiredBooleanFilter,u.customConfig={getExpressionFieldTips:e=>{const t=e.data,n=(null==t?void 0:t.selectOptions)||[];return this.getNamedFilterOptionTips(l,e,u.customConfig).concat(n.map(t=>h.AdvancedFilterDataTypesConfigsService.createAdvancedFilterTag(new ru([t.id]),e,u.customConfig,!1,(0,h.formatAdvancedFilterTagText)(e,t.name))))},formatValueForTag:(e,t)=>{const n=t.data,i=(null==n?void 0:n.selectOptions)||[],o=e.filterValue.map(e=>i.find(t=>t.id===e).name);return this.buildTagLabel(o,this.getNamedOptionTitles(e,l))},needRemoveTagValue:e=>ru.isEmpty(e),updateFilterValue:(e,t,n)=>this.updateFilterValue(t,e,n.data.isRequired),parseTagFieldExpression:(e,t)=>{const n=h.AdvancedFilterDataTypesConfigsService.getExpressionRawValues(e,t),i=this.getFilterValueFromString(l,n),o=e.data,r=(null==o?void 0:o.selectOptions)||[];return i.filterValue=i.filterValue.map(e=>{var t;e=e.trim().toLowerCase();const n=r.find(t=>t.name.toLowerCase()===e);return null!==(t=null==n?void 0:n.id)&&void 0!==t?t:null}).filter(e=>!(0,p.isNil)(e))||[],i.length?{value:i}:null}}),i.filterOptionDataType===h.AdvancedFilterOptionDataType.string&&(n.namedListDefinition?(u.inputsTemplate=r.inputsForStringWithTypeAheadTemplate,u.data=Object.assign(Object.assign({},u.data),{typeaheadKeystrokeCount:c,additionalQueryCriteria:d})):u.inputsTemplate=r.inputsForStringTypeTemplate,u.customConfig={needRemoveTagValue:e=>ru.isEmpty(e),formatValueForTag:(e,t)=>this.buildTagLabel(e.filterValue,this.getNamedOptionTitles(e,l)),getExpressionFieldTips:(e,t)=>[...this.getNamedFilterOptionTips(l,e,u.customConfig),h.AdvancedFilterDataTypesConfigsService.createAdvancedFilterTag(new ru,e,u.customConfig,!0,(0,h.formatAdvancedFilterTagText)(e,""))],updateFilterValue:(e,t,n)=>this.updateFilterValue(t,e),parseTagFieldExpression:(e,t)=>this.parseStringTagFieldExpression(e,t,l)}),i.filterOptionDataType===h.AdvancedFilterOptionDataType.selection&&(u.inputsTemplate=r.inputsForSelectionTypeTemplate,u.customConfig={needRemoveTagValue:e=>ru.isEmpty(e),formatValueForTag:(e,t)=>{const n=this.defaultConfig[i.filterOptionDataType].formatValueForTag(e.filterValue,t);return this.buildTagLabel(n,this.getNamedOptionTitles(e,l))},getExpressionFieldTips:(e,t)=>{const n=e.data,i=n&&n.selectOptions||[];return this.getNamedFilterOptionTips(l,e,u.customConfig).concat(i.map(t=>h.AdvancedFilterDataTypesConfigsService.createAdvancedFilterTag(new ru([t.id]),e,u.customConfig,!1,(0,h.formatAdvancedFilterTagText)(e,t.name))))},updateFilterValue:(e,t,n)=>this.updateFilterValue(t,e),parseTagFieldExpression:(e,t)=>this.parseStringTagFieldExpression(e,t,l)}),i.filterOptionDataType===h.AdvancedFilterOptionDataType.datetime&&(u.inputsTemplate=r.inputsForDatetimeTypeTemplate,u.customConfig=this.getDatetimeCustomConfig(l,u,h.AdvancedFilterOptionDataType.datetime,"ll LTS")),i.filterOptionDataType===h.AdvancedFilterOptionDataType.date&&(u.inputsTemplate=r.inputsForDateTypeTemplate,u.customConfig=this.getDatetimeCustomConfig(l,u,h.AdvancedFilterOptionDataType.date,"ll")),i.filterOptionDataType===h.AdvancedFilterOptionDataType.time&&(u.inputsTemplate=r.inputsForTimeTypeTemplate,u.customConfig=this.getDatetimeCustomConfig(l,u,h.AdvancedFilterOptionDataType.time,"LTS")),i.filterOptionDataType===h.AdvancedFilterOptionDataType.number&&(u.inputsTemplate=r.inputsForNumberTypeTemplate,u.customConfig={needRemoveTagValue:e=>ru.isEmptyWithRange(e),getExpressionFieldTips:(e,t)=>this.getNamedFilterOptionTips(l,e,u.customConfig,[null,null]).concat(this.defaultConfig[i.filterOptionDataType].getExpressionFieldTips(e,t)),updateFilterValue:(e,t,n)=>(e.filterValue=this.defaultConfig[i.filterOptionDataType].updateFilterValue(e.filterValue,t.filterValue,n),e.namedOptions=(0,p.uniq)(t.namedOptions.concat(e.namedOptions)),e),formatValueForTag:e=>{const t=e.filterValue.filter(e=>null!=e).join(" - ");return this.buildTagLabel(t,this.getNamedOptionTitles(e,l))},parseTagFieldExpression:(e,t)=>{var n,o;const{value:r,label:s}=this.getExpressionRawValues(e,t);if(!r)return null;const a=this.getFilterValueFromString(l,r);return a.filterValue=null!==(o=null===(n=this.defaultConfig[i.filterOptionDataType].parseTagFieldExpression(e,`${s} ${a.filterValue[0]}`))||void 0===n?void 0:n.value)&&void 0!==o?o:[],a.length?{value:a}:null},validateValue:(e,t)=>this.defaultConfig[i.filterOptionDataType].validateValue(e.filterValue,t)}),a){const e={getTagText:(e,t,n)=>`${a}: ${n}`};u.customConfig=Object.assign(Object.assign({},u.customConfig),e)}return u}parseStringTagFieldExpression(e,t,n){const i=h.AdvancedFilterDataTypesConfigsService.getExpressionRawValues(e,t);if(!i)return null;const o=this.getFilterValueFromString(n,i);return o.length?{value:o}:null}updateFilterValue(e,t,n=!1){return n||(t.filterValue=(0,p.uniq)(e.filterValue.concat(t.filterValue))),t.namedOptions=(0,p.uniq)(e.namedOptions.concat(t.namedOptions)),t}buildTagLabel(e,t,n=", ",i="; "){return[(0,p.isString)(e)?e:(0,p.isArray)(e)&&!(0,p.isEmpty)(e)?this.rxNamedListService.isNamedListOption(e[0])?e.map(e=>{var t;return null!==(t=e.displayValue)&&void 0!==t?t:e.value}).join(n):e.join(n):"",...t].filter(Boolean).join(i)}getNamedOptionTitles(e,t){const n=t.map(e=>e.guid);return e.namedOptions.sort((e,t)=>n.indexOf(e)-n.indexOf(t)).map(e=>{var n;return null===(n=t.find(t=>t.guid===e))||void 0===n?void 0:n.title})}getDatetimeCustomConfig(e,t,n,i){return{getExpressionFieldTips:(i,o)=>this.getNamedFilterOptionTips(e,i,t.customConfig).concat(this.defaultConfig[n].getExpressionFieldTips(i,o)),needRemoveTagValue:e=>ru.isEmptyWithRange(e),formatValueForTag:t=>{const n=t.filterValue.filter(e=>e).map(e=>(0,S.default)(e).format(i)).join(" - ");return this.buildTagLabel(n,this.getNamedOptionTitles(t,e))},updateFilterValue:(e,t,i)=>(e.filterValue=this.defaultConfig[n].updateFilterValue(e.filterValue,t.filterValue,i),e.namedOptions=(0,p.uniq)(t.namedOptions.concat(e.namedOptions)),e),parseTagFieldExpression:(t,i)=>{var o,r;const{value:s}=this.getExpressionRawValues(t,i);if(!s)return null;const a=this.getFilterValueFromString(e,s),[l]=i.split("; ");return a.filterValue=null!==(r=null===(o=this.defaultConfig[n].parseTagFieldExpression(t,l))||void 0===o?void 0:o.value)&&void 0!==r?r:[],a.length?{value:a}:null},validateValue:(e,t)=>this.defaultConfig[n].validateValue(e.filterValue,t)}}getExpressionRawValues(e,t){return[`${e.label}:`,`${e.label} ${this.adaptTexts.fromLabel}`,`${e.label} ${this.adaptTexts.toLabel}`].reduce((e,n)=>(t.startsWith(n)&&(e.label=n,e.value=t.replace(n,"").trim()),e),{label:null,value:null})}getFilterValueFromString(e,t){const n=(null!=t?t:"").trim().split(";").filter(e=>!(0,h.isEmptyOrWhitespace)(e)).map(e=>e.trim()),i=new ru([]);return n.forEach(t=>{var n;const o=null===(n=e.find(e=>e.title===t))||void 0===n?void 0:n.guid;o?i.namedOptions.push(o):i.filterValue.push(...t.split(",").map(e=>e.trim()).filter(Boolean))}),i.namedOptions=(0,p.uniq)(i.namedOptions),i}getNamedFilterOptionTips(e,t,n,i=[]){return(null!=e?e:[]).map(e=>h.AdvancedFilterDataTypesConfigsService.createAdvancedFilterTag(new ru(i,[e.guid]),t,n,!1,(0,h.formatAdvancedFilterTagText)(t,e.title)))}}su.\u0275fac=function(e){return new(e||su)(i["\u0275\u0275inject"](s.RxRecordDefinitionService),i["\u0275\u0275inject"](v.RxObjectUtilsService),i["\u0275\u0275inject"](Nd),i["\u0275\u0275inject"](D.RxNamedListService),i["\u0275\u0275inject"](h.AdvancedFilterDataTypesConfigsService),i["\u0275\u0275inject"](h.AdaptTranslateService))},su.\u0275prov=i["\u0275\u0275defineInjectable"]({token:su,factory:su.\u0275fac});class au{constructor(e){this.rxJsonParserService=e,this.filtersKeywords=["$NULL$","$TIME$","$DATE$","$TIMESTAMP$","$USER$"]}getRecordGridFilterDataFromPredefinedFilter(e,t){return!(0,p.isEmpty)(t)&&e&&(e=this.normalizeFilterString(e,t)),this.clearFilterData(this.rxJsonParserService.tryParseJson(e))}normalizeFilterString(e,t){return(0,p.forEach)(t,t=>{const n=Object.assign({[t.fieldId]:t.value},t.$DISPLAYVALUE$&&{$DISPLAYVALUE$:t.$DISPLAYVALUE$});e=e.replace(`"${t.guid}"`,JSON.stringify(n))}),e}denormalizeFilterString(e,t){return(0,p.forEach)(t,t=>{const n=Object.assign({[t.fieldId]:t.value},t.$DISPLAYVALUE$&&{$DISPLAYVALUE$:t.$DISPLAYVALUE$});e=n.$DISPLAYVALUE$?JSON.stringify(JSON.parse(e),this.replacer(this.denormalize(t.guid,n))):e.replace(JSON.stringify(n),`"${t.guid}"`)}),e}replacer(e){return(t,n)=>"string"==typeof t&&e[t]?e[t](n):n}denormalize(e,t){return(0,p.reduce)(c.RecordGridFilterOperator,(n,i)=>(n[i]=n=>(0,p.isEqual)(n,t)?e:n,n),{})}clearFilterData(e){const t=(0,p.keys)(e);let n=e;if(!(0,p.isEmpty)(t)){const i=t[0];switch(!0){case(0,p.includes)(["or","and"],i):{const t=e[i].map(this.clearFilterData.bind(this)).filter(e=>Boolean(e));(0,p.isEmpty)(t)?n=null:e[i]=t;break}case(0,p.isString)(e[i]):n=null}}return n}replaceKeywords(e){const t='([^|^"])"('+this.filtersKeywords.join("|").replace(/\$/g,"\\$")+')"(?!")',n='([^|^"])"""('+this.filtersKeywords.join("|").replace(/\$/g,"\\$")+')"""(?!")',i=new RegExp(t,"g"),o=new RegExp(n,"g");return e.replace(i,"$1$2").replace(o,'$1"$2"')}}au.\u0275fac=function(e){return new(e||au)(i["\u0275\u0275inject"](v.RxJsonParserService))},au.\u0275prov=i["\u0275\u0275defineInjectable"]({token:au,factory:au.\u0275fac,providedIn:"root"});class lu{constructor(e,t,n,i,o,r,s){this.rxStringService=e,this.rxRecordGridUtilsService=t,this.rxJsonParserService=n,this.rxRecordGridAdvancedFilteringService=i,this.rxRecordDefinitionService=o,this.rxObjectUtilsService=r,this.rxRecordGridFilterHelperService=s,this.filtersKeywords=["$NULL$","$TIME$","$DATE$","$TIMESTAMP$","$USER$"]}clearFilterData(e){const t=(0,p.keys)(e);let n=e;if(!(0,p.isEmpty)(t)){const i=t[0];switch(!0){case(0,p.includes)(["or","and"],i):{const t=e[i].map(this.clearFilterData.bind(this)).filter(e=>Boolean(e));(0,p.isEmpty)(t)?n=null:e[i]=t;break}case(0,p.isString)(e[i]):n=null}}return n}getFilterForAvailableColumns(e,t){const n=(0,p.keys)(e);let i=e;if(!(0,p.isEmpty)(n)){const o=n[0],r=Object.keys(e[o])[0];switch(!0){case(0,p.includes)(["or","and"],o):{const n=e[o].map(e=>this.getFilterForAvailableColumns(e,t)).filter(e=>Boolean(e));(0,p.isEmpty)(n)?i=null:e[o]=n;break}case!(0,p.some)(t,{fieldId:r}):i=null;break;case(0,p.includes)(["eq"],o):{const n=(0,p.find)(t,{fieldId:r}).fieldDefinition;n.resourceType!==s.RX_RECORD_DEFINITION.resourceTypes.selection||(0,p.has)(n.optionNamesById,e[o][r])||(i=null);break}}}return i}replaceKeywords(e){const t='([^|^"])"('+this.filtersKeywords.join("|").replace(/\$/g,"\\$")+')"(?!")',n='([^|^"])"""('+this.filtersKeywords.join("|").replace(/\$/g,"\\$")+')"""(?!")',i=new RegExp(t,"g"),o=new RegExp(n,"g");return e.replace(i,"$1$2").replace(o,'$1"$2"')}generateTextFilterQuery(e,t){let n=null;if(e){const i=t.filter(e=>!e.hidden&&e.searchable).map(t=>{const n=this.getQueryFilterField(t.field);let i="";return t.filterType===s.RX_RECORD_DEFINITION.dataTypes.character.shortName||t.filterType===s.RX_RECORD_DEFINITION.dataTypes.localizedCharacter.shortName?i=`${n} LIKE "%${this.escapeDoubleQuotes(e).replace(/[%_]/g,"\\$&")}%"`:isNaN(e)||(i=`${n} = "${this.escapeDoubleQuotes(e)}"`),i}).filter(Boolean).join(" OR ");n=i?`(${i})`:""}return n}addQueries(...e){return(0,p.filter)(e,Boolean).join(" AND ")}joinQueryFilters(e,t){const n=e.join(t===tu.And?" AND ":" OR ");return n?`(${n})`:""}getAdvancedFilterData(e,t,n,i,s,a){return(0,o.forkJoin)(e&&e.and?e.and.map(e=>{const l=Object.keys(e)[0],c=e[l],d=(0,p.values)(c[0])[0],u=String(Object.keys(d)[0]);let h=t[u];return(h?(0,o.of)(h):this.rxRecordGridUtilsService.getFieldDefinition(u,i)).pipe((0,r.filter)(Boolean),(0,r.map)(e=>{h=e;const o=n[h.resourceType];if(!t[u]){this.rxRecordDefinitionService.addFieldDefinitionToMap(h,t,u),t=i.fieldDefinitionsById=Object.assign(Object.assign({},t),this.rxObjectUtilsService.expandProperties(t));const e=this.rxRecordGridUtilsService.findAssociationDescriptor(a,this.rxRecordGridUtilsService.getFieldLocator(u));s.push(this.rxRecordGridAdvancedFilteringService.getAdvancedFilterOption(u,this.rxRecordGridUtilsService.getColumnLabel(h,e),h,o,!0))}return o.getSelectedAdvancedFilterData(l,c,h,u)}))}):[]).pipe((0,r.defaultIfEmpty)([]),(0,r.map)(e=>e.filter(Boolean)))}getQueryFromRecordGridFilterData(e,t){const n=[c.RecordGridFilterOperator.Eq,c.RecordGridFilterOperator.Like,c.RecordGridFilterOperator.Ne,c.RecordGridFilterOperator.Lt,c.RecordGridFilterOperator.Lte,c.RecordGridFilterOperator.Gt,c.RecordGridFilterOperator.Gte,c.RecordGridFilterOperator.In,"regex"],i=e=>(0,p.reduce)(e,(e,n,i)=>e+(0,p.reduce)(n,(e,n,o)=>{const r=t[o];let a=i,l=n;if(!!r&&(0,p.includes)([s.RX_RECORD_DEFINITION.dataTypes.character.resourceType,s.RX_RECORD_DEFINITION.dataTypes.localizedCharacter.resourceType],r.resourceType)){const{isLikeOperation:e,filterValue:t}=this.getStringDataTypeFilterData(n,r);a=e?c.RecordGridFilterOperator.Like:a,l=t}return"$DISPLAYVALUE$"===o?e:e+this.getQueryExpression(l,o,a)},""),"");let o=e=>(e=>(0,p.intersection)(n.slice(),(0,p.keys)(e)).length>0)(e)?i(e):(0,p.reduce)(e,(e,t,n)=>{const i=(0,p.map)(t,o);switch(n){case c.RecordGridFilterDataLogic.And:return e+`(${i.join(" AND ")})`;case c.RecordGridFilterDataLogic.Or:return e+`(${i.join(" OR ")})`;default:return e+`(${i.join(" AND ")})`}},"");return o=o.bind(this),o(e)}getSelectedFiltersFromPredefinedFilter(e,t,n,i,o,r,s){const a=this.rxRecordGridFilterHelperService.getRecordGridFilterDataFromPredefinedFilter(e,this.deserializeNamedOptions(t));return this.getAdvancedFilterData(a,n,i,o,r,s)}getRecordGridFilterDataFromAdvancedFilter(e,t,n,i){const o=e.map(e=>{let o=null;const r=String(e.filterOptionId),s=t[r];if(s){o=n[s.resourceType].getRecordGridFilterData(e.value,s,r,i&&i[r])}return o});return o.length?{and:o}:{}}getQueryFilterField(e){return this.rxRecordGridUtilsService.isAssociatedRecordFieldId(e)?`\${${e}}`:`'${e}'`}buildQueryFilter(e,t,n){const i=(0,p.isString)(n)&&!this.filtersKeywords.includes(n),o=(0,p.isString)(n)?i?`"${this.escapeDoubleQuotes(n)}"`:n:String(n);return`${this.getQueryFilterField(e)} ${t} ${o}`}filterRows(e,t,n,i){const o=this.getRecordGridFilterDataFromAdvancedFilter(t,n.fieldDefinitionsById,i);return e.filter(e=>e.groupField?(e.items=this.getFilteredItems(e.items,o,n),e.items.length):(0,p.every)(o.and,t=>this.matchRow(e,t,n)))}getFilteredItems(e,t,n){return(0,p.reduce)(e,(e,i)=>{let{items:o=[]}=i;return!i.items&&(0,p.every)(t.and,e=>this.matchRow(i,e,n))?e.push(i):(o=this.getFilteredItems(o,t,n),o.length&&e.push(Object.assign(Object.assign({},i),{items:o}))),e},[])}matchRow(e,t,n){const i=(0,p.findKey)(t);switch(i){case"and":return(0,p.every)(t[i],t=>this.checkCondition(e,t,n));case"or":return(0,p.some)(t[i],t=>this.checkCondition(e,t,n));default:return!1}}checkCondition(e,t,n){const i=(0,p.findKey)(t),o=(0,p.findKey)(t[i]),r=t[i][o],a=e[o];if(n.fieldDefinitionsById[o].resourceType!==s.RX_RECORD_DEFINITION.dataTypes.dateTime.resourceType)return"eq"===i&&this.rxStringService.caseInsensitiveIsEqual(a,r);switch(i){case"eq":return(0,S.default)(a).isSame(r);case"lte":return(0,S.default)(a).isSameOrBefore(r);case"lt":return(0,S.default)(a).isBefore(r);case"gte":return(0,S.default)(a).isSameOrAfter(r);case"gt":return(0,S.default)(a).isAfter(r);default:return!1}}escapeDoubleQuotes(e){return e.replace(/"/g,'""')}getQueryExpression(e,t,n){const i=(0,p.isString)(e)?'"'+e+'"':e;switch(t=this.getQueryFilterField(t),n){case c.RecordGridFilterOperator.Eq:return t+"="+i;case c.RecordGridFilterOperator.Like:return t+" LIKE "+i;case c.RecordGridFilterOperator.Ne:return t+"!="+i;case c.RecordGridFilterOperator.Lt:return t+"<"+i;case c.RecordGridFilterOperator.Lte:return t+"<="+i;case c.RecordGridFilterOperator.Gt:return t+">"+i;case c.RecordGridFilterOperator.Gte:return t+">="+i;case c.RecordGridFilterOperator.In:return t+" IN "+i;default:return t+"="+i}}getStringDataTypeFilterData(e,t){let n=!1;if(!(0,p.get)(t.searchDefinition,"enableFTSSearch"))if((0,p.includes)(e,"%")){const t=e.split(/\\\\/);n=(0,p.some)(t,e=>e.replace(/\\%/g,"").match("%")),n||(e=(0,p.map)(t,e=>e.replace(/\\%/g,"%")).join("\\"))}else e=e.replace("\\\\","\\");return{isLikeOperation:n,filterValue:e}}clearRemovedNamedFilterOptions(e,t){return e.reduce((e,n)=>{var i,o;const r=null!==(o=null===(i=t[n.filterOptionId])||void 0===i?void 0:i.map(e=>e.guid))&&void 0!==o?o:[];return n.value.namedOptions=n.value.namedOptions.filter(e=>r.includes(e)),ru.isEmptyWithRange(n.value)||e.push(n),e},[])}deserializeNamedOptions(e){return e.map(e=>{const t=this.rxJsonParserService.tryParseJson(e.value);return t&&t[c.RecordGridNamedFilterOptionKey]?Object.assign(Object.assign({},e),{value:t}):e})}}lu.\u0275fac=function(e){return new(e||lu)(i["\u0275\u0275inject"](v.RxStringService),i["\u0275\u0275inject"](Nd),i["\u0275\u0275inject"](v.RxJsonParserService),i["\u0275\u0275inject"](su),i["\u0275\u0275inject"](s.RxRecordDefinitionService),i["\u0275\u0275inject"](v.RxObjectUtilsService),i["\u0275\u0275inject"](au))},lu.\u0275prov=i["\u0275\u0275defineInjectable"]({token:lu,factory:lu.\u0275fac});class cu{constructor(e,t,n,i,o,r,s){this.rxRecordGridFilterService=e,this.rxNumberUtilsService=t,this.rxNamedListService=n,this.translateService=i,this.rxRecordInstanceUtilsService=o,this.rxRecordGridUtilsService=r,this.rxDefinitionNameService=s,this.associatedFieldIdPatternRegExp=new RegExp(`'(${kd.associatedFieldIdPrefixPattern}\\d+)'`,"g")}getConfigs(){const e={filterOptionDataType:h.AdvancedFilterOptionDataType.string,getQueryFilter:(e,t,n,i)=>{const o=this.getSelectedNamedOptionExpressions(i,e),r=(0,p.chain)(e.value.filterValue).filter(Boolean).map(e=>{const{isLikeOperation:i,filterValue:o}=this.rxRecordGridFilterService.getStringDataTypeFilterData((0,p.get)(e,"value",e),t);return this.rxRecordGridFilterService.buildQueryFilter(n,i?"like":"=",o.trim())}).concat(o).value();return this.rxRecordGridFilterService.joinQueryFilters(r,tu.Or)},getRecordGridFilterData:(e,t,n,i)=>{const o=this.getNamedFilterOptionsOperators(e,n);return{or:e.filterValue.map(e=>{const i=this.getRecordGridFilterOperator(c.RecordGridFilterOperator.Eq,n,(0,p.get)(e,"value",e).trim()),o=(0,p.get)(e,"displayValue");return t.namedListDefinition&&o&&(i.eq.$DISPLAYVALUE$=o),i}).concat(o)}},getSelectedAdvancedFilterData:(e,t,n,i)=>{const o=[],r=[],s=[];e===c.RecordGridFilterDataLogic.Or&&t.forEach(e=>{const t=Object.keys(e)[0],a=e[t][i];if((0,p.isString)(a))if(n.namedListDefinition){const n=e[t].$DISPLAYVALUE$;r.push({displayValue:n,value:a,title:"",contextualFields:[]})}else o.push(a);else a[c.RecordGridNamedFilterOptionKey]&&s.push(a[c.RecordGridNamedFilterOptionKey])});const a=(0,p.isEmpty)(r)?new ru(o,s):new ru(r,s);return{filterOptionId:i,value:a}},getToolbarTagInfo:({primaryRecordDefinition:e,value:t,tag:n,fieldId:i,namedFilterOptions:a})=>{const l=this.rxRecordGridUtilsService.getFieldLocator(i);let c;return this.rxRecordGridUtilsService.getAssociationDescriptor(i,e).pipe((0,r.mergeMap)(t=>(c=t,this.rxRecordGridUtilsService.getDisplayFieldDescriptor(i,e,c&&c.recordDefinitionName))),(0,r.mergeMap)(e=>{let i;if(l.fieldId!==String(e.id)){const n=this.rxNamedListService.getNamesFromTypeAheadOptions(t.filterValue);i=this.rxRecordInstanceUtilsService.getFieldValues(c.recordDefinitionName,n,[String(s.RX_RECORD_DEFINITION.coreFieldIds.id),String(e.id)]).pipe((0,r.map)(n=>{const i=(0,p.compact)([this.rxDefinitionNameService.getDisplayName(c.associationDefinition.name),e.name]).join(" > "),o=t.filterValue.map(t=>{const i=(0,p.find)(n,e=>e[s.RX_RECORD_DEFINITION.coreFieldIds.id]===t);return i?i[e.id]:t});return{displayValues:new ru(o),label:i}}))}else i=(0,o.of)({displayValues:t,label:n.data.filterOption.label});return i.pipe((0,r.map)(({displayValues:e,label:t})=>{const n=e.filterValue.map(e=>{var t,n;const i=(0,p.get)(e,"value",e),o=null!==(t=(0,p.get)(e,"displayValue"))&&void 0!==t?t:(0,p.get)(e,"value",e),r="$USER$"===i?this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.filters.me.label"):o;return{tooltip:(null==e?void 0:e.displayValue)?`${e.displayValue} (${e.value})`:null!==(n=null==e?void 0:e.value)&&void 0!==n?n:e,text:r}}).concat(e.namedOptions.map(e=>{var t;const n=(null===(t=a.find(t=>t.guid===e))||void 0===t?void 0:t.title)||e;return{text:n,tooltip:n}}));return{text:`${t}: ${n.map(e=>e.text).join(", ")}`,tooltip:`${t}: ${n.map(e=>e.tooltip).join(", ")}`}}))}))},getDataForAdvancedFilter:e=>e},t={filterOptionDataType:h.AdvancedFilterOptionDataType.number,getQueryFilter:(e,t,n,i)=>{const o=this.getSelectedNamedOptionExpressions(i,e),[r,s]=e.value.filterValue,a=[];this.rxNumberUtilsService.isFiniteOrNumberString(r)&&a.push(this.rxRecordGridFilterService.buildQueryFilter(n,">=",String(r))),this.rxNumberUtilsService.isFiniteOrNumberString(s)&&a.push(this.rxRecordGridFilterService.buildQueryFilter(n,"<=",String(s)));const l=this.rxRecordGridFilterService.joinQueryFilters(a,tu.And);return this.rxRecordGridFilterService.joinQueryFilters(l?[l,...o]:o,tu.Or)},getRecordGridFilterData:(e,t,n)=>{const[i,o]=e.filterValue,r=[];return this.rxNumberUtilsService.isFiniteOrNumberString(i)&&r.push(this.getRecordGridFilterOperator(c.RecordGridFilterOperator.Gte,n,String(i))),this.rxNumberUtilsService.isFiniteOrNumberString(o)&&r.push(this.getRecordGridFilterOperator(c.RecordGridFilterOperator.Lte,n,String(o))),this.getFilterRangeDataOperator(r,this.getNamedFilterOptionsOperators(e,n))},getDataForAdvancedFilter:e=>({minValue:e.minValue,maxValue:e.maxValue}),getSelectedAdvancedFilterData:(e,t,n,i)=>{let o=[null,null];const r=e=>{const t=(0,p.find)(e,e=>e[c.RecordGridFilterOperator.Gte]);if(t){const e=parseFloat(t[c.RecordGridFilterOperator.Gte][i]);this.rxNumberUtilsService.isFiniteOrNumberString(e)&&(o[0]=e)}const n=(0,p.find)(e,e=>e[c.RecordGridFilterOperator.Lte]);if(n){const e=parseFloat(n[c.RecordGridFilterOperator.Lte][i]);this.rxNumberUtilsService.isFiniteOrNumberString(e)&&(o[1]=e)}};if(e===c.RecordGridFilterDataLogic.And)r(t);else if(e===c.RecordGridFilterDataLogic.Or){const e=(0,p.find)(t,e=>e[c.RecordGridFilterDataLogic.And]);if(e)r(e[c.RecordGridFilterDataLogic.And]);else if(1===t.length){let e=t[0][c.RecordGridFilterOperator.Eq][i];"$NULL$"===e||e[c.RecordGridNamedFilterOptionKey]||(e=parseFloat(e),o=[e,e])}}const s=this.getNamedFilterOptionGuids(t,i);return{filterOptionId:i,value:new ru(o,s)}}};return{[s.RX_RECORD_DEFINITION.resourceTypes.character]:e,[s.RX_RECORD_DEFINITION.resourceTypes.localizedCharacter]:e,[s.RX_RECORD_DEFINITION.resourceTypes.attachment]:e,[s.RX_RECORD_DEFINITION.resourceTypes.integer]:t,[s.RX_RECORD_DEFINITION.resourceTypes.decimal]:t,[s.RX_RECORD_DEFINITION.resourceTypes.real]:t,[s.RX_RECORD_DEFINITION.resourceTypes.selection]:{filterOptionDataType:h.AdvancedFilterOptionDataType.selection,getQueryFilter:(e,t,n,i)=>{const o=this.getSelectedNamedOptionExpressions(i,e);return this.rxRecordGridFilterService.joinQueryFilters(e.value.filterValue.map(e=>this.rxRecordGridFilterService.buildQueryFilter(n,"=",e)).concat(o),tu.Or)},getDataForAdvancedFilter:e=>{const t=(0,p.map)(e.optionLabelsById,(e,t)=>({id:t,name:e}));return e.fieldOption===s.RX_RECORD_DEFINITION.fieldOptions.optional&&t.unshift({id:"$NULL$",name:this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.filters.blank.label")}),{selectOptions:t,selectTexts:null}},getRecordGridFilterData:(e,t,n)=>{const i=this.getNamedFilterOptionsOperators(e,n);return{or:e.filterValue.map(e=>this.getRecordGridFilterOperator(c.RecordGridFilterOperator.Eq,n,e)).concat(i)}},getSelectedAdvancedFilterData:(e,t,n,i)=>{const o=[],r=[];return e===c.RecordGridFilterDataLogic.Or&&t.forEach(e=>{const t=Object.keys(e)[0];if(t===c.RecordGridFilterOperator.Eq){const n=e[t][i];(0,p.isString)(n)?o.push(n):n[c.RecordGridNamedFilterOptionKey]&&r.push(n[c.RecordGridNamedFilterOptionKey])}}),{filterOptionId:i,value:new ru(o,r)}}},[s.RX_RECORD_DEFINITION.resourceTypes.timeOnly]:{filterOptionDataType:h.AdvancedFilterOptionDataType.time,getQueryFilter:(e,t,n,i)=>{const o=this.getSelectedNamedOptionExpressions(i,e),[r,s]=e.value.filterValue.map(e=>(0,S.default)(e)),a=[];r&&r.isValid()&&a.push(this.rxRecordGridFilterService.buildQueryFilter(n,">=",r.format("HH:mm:ss"))),s&&s.isValid()&&a.push(this.rxRecordGridFilterService.buildQueryFilter(n,"<=",s.format("HH:mm:ss")));const l=this.rxRecordGridFilterService.joinQueryFilters(a,tu.And);return this.rxRecordGridFilterService.joinQueryFilters(l?[l,...o]:o,tu.Or)},getRecordGridFilterData:(e,t,n)=>{const[i,o]=e.filterValue.map(e=>(0,S.default)(e)),r=[];return i&&r.push(this.getRecordGridFilterOperator(c.RecordGridFilterOperator.Gte,n,i&&i.isValid()?i.format("HH:mm:ss"):"")),o&&r.push(this.getRecordGridFilterOperator(c.RecordGridFilterOperator.Lte,n,o&&o.isValid()?o.format("HH:mm:ss"):"")),this.getFilterRangeDataOperator(r,this.getNamedFilterOptionsOperators(e,n))},getSelectedAdvancedFilterData:(e,t,n,i)=>{let o=[null,null];const r=e=>{const t=(0,p.find)(e,e=>e[c.RecordGridFilterOperator.Gte]);if(t){const e=(0,S.default)(t[c.RecordGridFilterOperator.Gte][i],"LTS");e.isValid()&&(o[0]=e)}const n=(0,p.find)(e,e=>e[c.RecordGridFilterOperator.Lte]);if(n){const e=(0,S.default)(n[c.RecordGridFilterOperator.Lte][i],"LTS");e.isValid()&&(o[1]=e)}};if(e===c.RecordGridFilterDataLogic.And)r(t);else if(e===c.RecordGridFilterDataLogic.Or){const e=(0,p.find)(t,e=>e[c.RecordGridFilterDataLogic.And]);if(e)r(e[c.RecordGridFilterDataLogic.And]);else if(1===t.length){let e=t[0][c.RecordGridFilterOperator.Eq][i];"$NULL$"===e||e[c.RecordGridNamedFilterOptionKey]||(e=(0,S.default)(e,"LTS"),o=[e,e])}}const s=this.getNamedFilterOptionGuids(t,i);return{filterOptionId:i,value:new ru(o,s)}}},[s.RX_RECORD_DEFINITION.resourceTypes.dateOnly]:{filterOptionDataType:h.AdvancedFilterOptionDataType.date,getQueryFilter:(e,t,n,i)=>{const o=this.getSelectedNamedOptionExpressions(i,e),[r,s]=e.value.filterValue.map(e=>(0,S.default)(e)),a=[];r&&r.isValid()&&a.push(this.rxRecordGridFilterService.buildQueryFilter(n,">=",r.format("YYYY-MM-DD"))),s&&s.isValid()&&a.push(this.rxRecordGridFilterService.buildQueryFilter(n,"<=",s.format("YYYY-MM-DD")));const l=this.rxRecordGridFilterService.joinQueryFilters(a,tu.And);return this.rxRecordGridFilterService.joinQueryFilters(l?[l,...o]:o,tu.Or)},getRecordGridFilterData:(e,t,n)=>{const[i,o]=e.filterValue.map(e=>(0,S.default)(e)),r=[];return i&&r.push(this.getRecordGridFilterOperator(c.RecordGridFilterOperator.Gte,n,i&&i.isValid()?i.format("YYYY-MM-DD"):"")),o&&r.push(this.getRecordGridFilterOperator(c.RecordGridFilterOperator.Lte,n,o&&o.isValid()?o.format("YYYY-MM-DD"):"")),this.getFilterRangeDataOperator(r,this.getNamedFilterOptionsOperators(e,n))},getSelectedAdvancedFilterData:(e,t,n,i)=>this.getDateSelectedAdvancedFilterData(i,e,t)},[s.RX_RECORD_DEFINITION.resourceTypes.dateTime]:{filterOptionDataType:h.AdvancedFilterOptionDataType.datetime,getQueryFilter:(e,t,n,i)=>{const o=this.getSelectedNamedOptionExpressions(i,e),[r,s]=e.value.filterValue.map(e=>(0,S.default)(e)),a=[];(null==r?void 0:r.isValid())&&a.push(this.rxRecordGridFilterService.buildQueryFilter(n,">=",r.toISOString())),(null==s?void 0:s.isValid())&&a.push(this.rxRecordGridFilterService.buildQueryFilter(n,"<=",s.toISOString()));const l=this.rxRecordGridFilterService.joinQueryFilters(a,tu.And);return this.rxRecordGridFilterService.joinQueryFilters(l?[l,...o]:o,tu.Or)},getRecordGridFilterData:(e,t,n)=>{const[i,o]=e.filterValue.map(e=>(0,S.default)(e)),r=[];return(null==i?void 0:i.isValid())&&r.push(this.getRecordGridFilterOperator(c.RecordGridFilterOperator.Gte,n,i.toISOString())),(null==o?void 0:o.isValid())&&r.push(this.getRecordGridFilterOperator(c.RecordGridFilterOperator.Lte,n,o.toISOString())),this.getFilterRangeDataOperator(r,this.getNamedFilterOptionsOperators(e,n))},getSelectedAdvancedFilterData:(e,t,n,i)=>this.getDateSelectedAdvancedFilterData(i,e,t)},[s.RX_RECORD_DEFINITION.resourceTypes.boolean]:{filterOptionDataType:h.AdvancedFilterOptionDataType.boolean,getQueryFilter:(e,t,n,i)=>{const o=this.getSelectedNamedOptionExpressions(i,e);return this.rxRecordGridFilterService.joinQueryFilters((0,p.castArray)(e.value.filterValue).map(e=>this.rxRecordGridFilterService.buildQueryFilter(n,"=",this.getBooleanFilterValue(e))).concat(o),tu.Or)},getRecordGridFilterData:(e,t,n)=>({or:(0,p.castArray)(e.filterValue).map(e=>this.getRecordGridFilterOperator(c.RecordGridFilterOperator.Eq,n,this.getBooleanFilterValue(e))).concat(this.getNamedFilterOptionsOperators(e,n))}),getDataForAdvancedFilter:e=>({selectOptions:[{name:this.translateService.instant("com.bmc.arsys.rx.client.common.true"),id:!0},{name:this.translateService.instant("com.bmc.arsys.rx.client.common.false"),id:!1},{name:this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.filters.blank.label"),id:"blank"}],isRequired:e.fieldOption===s.RecordFieldOption.Required}),getSelectedAdvancedFilterData:(e,t,n,i)=>{let o;if(n.fieldOption===s.RecordFieldOption.Required)if(1===t.length){const e=(0,p.find)(t,e=>e[c.RecordGridFilterOperator.Eq]);if(e){const t=e[c.RecordGridFilterOperator.Eq][i];o="$NULL$"===t?null:["true"===t]}}else o=null;else o=[],e===c.RecordGridFilterDataLogic.Or&&t.forEach(e=>{const t=Object.keys(e)[0];if(t===c.RecordGridFilterOperator.Eq){const n=e[t][i];if(!n[c.RecordGridNamedFilterOptionKey])switch(n){case"true":o.push(!0);break;case"$NULL$":o.push(h.booleanDataTypeBlankValue);break;default:o.push(!1)}}});const r=this.getNamedFilterOptionGuids(t,i);return o?{filterOptionId:i,value:new ru(o,r)}:null}},[s.RX_RECORD_DEFINITION.resourceTypes.recordInstance]:null,[s.RX_RECORD_DEFINITION.resourceTypes.object]:null,[s.RX_RECORD_DEFINITION.resourceTypes.recordInstanceProcessVariable]:null,[s.RX_RECORD_DEFINITION.resourceTypes.localizedFieldInstance]:null}}getDateSelectedAdvancedFilterData(e,t,n){let i=[null,null];const o=t=>{const n=(0,p.find)(t,e=>e[c.RecordGridFilterOperator.Gte]);if(n){const t=(0,S.default)(n[c.RecordGridFilterOperator.Gte][e]);t.isValid()&&(i[0]=t)}const o=(0,p.find)(t,e=>e[c.RecordGridFilterOperator.Lte]);if(o){const t=(0,S.default)(o[c.RecordGridFilterOperator.Lte][e]);t.isValid()&&(i[1]=t)}};if(t===c.RecordGridFilterDataLogic.And)o(n);else if(t===c.RecordGridFilterDataLogic.Or){const t=(0,p.find)(n,e=>e[c.RecordGridFilterDataLogic.And]);if(t)o(t[c.RecordGridFilterDataLogic.And]);else if(1===n.length){let t=n[0][c.RecordGridFilterOperator.Eq][e];"$NULL$"===t||t[c.RecordGridNamedFilterOptionKey]||(t=(0,S.default)(t),i=[t,t])}}return{filterOptionId:e,value:new ru(i,this.getNamedFilterOptionGuids(n,e))}}getFilterRangeDataOperator(e,t){const n={and:e};return t.length?{or:e.length?t.concat(n):t}:n}getNamedFilterOptionGuids(e,t){return e.filter(e=>e[c.RecordGridFilterOperator.Eq]).map(e=>{const n=e[c.RecordGridFilterOperator.Eq][t];return n?n[c.RecordGridNamedFilterOptionKey]:null}).filter(e=>Boolean(e))}getSelectedNamedOptionExpressions(e,t){return e.filter(e=>t.value.namedOptions.includes(e.guid)).map(e=>e.filterExpression.replace(this.associatedFieldIdPatternRegExp,"${$1}"))}getNamedFilterOptionsOperators(e,t){return e.namedOptions.map(e=>this.getRecordGridFilterOperator(c.RecordGridFilterOperator.Eq,t,{[c.RecordGridNamedFilterOptionKey]:e}))}getRecordGridFilterOperator(e,t,n){return{[e]:{[t]:n}}}getBooleanFilterValue(e){return e?e===h.booleanDataTypeBlankValue?"$NULL$":"true":"false"}}cu.\u0275fac=function(e){return new(e||cu)(i["\u0275\u0275inject"](lu),i["\u0275\u0275inject"](v.RxNumberUtilsService),i["\u0275\u0275inject"](D.RxNamedListService),i["\u0275\u0275inject"](u.TranslateService),i["\u0275\u0275inject"](s.RxRecordInstanceUtilsService),i["\u0275\u0275inject"](Nd),i["\u0275\u0275inject"](a.RxDefinitionNameService))},cu.\u0275prov=i["\u0275\u0275defineInjectable"]({token:cu,factory:cu.\u0275fac});class du{constructor(){this.defaultFilterValue=[],this.namedFilterOptionsChange=new i.EventEmitter,this.namedFilterOptionsModel={}}set filterValue(e){const t=null==e?void 0:e.namedOptions;this._filterValue=e,Object.keys(this.namedFilterOptionsModel).forEach(e=>this.namedFilterOptionsModel[e]=!1),null==t||t.forEach(e=>this.namedFilterOptionsModel[e]=!0)}get filterValue(){return this._filterValue}trackByOptionGuid(e,t){return t.guid}onNamedFilterOptionChange(){var e,t;const n=this.getSelectedNamedOptionsIds();this.namedFilterOptionsChange.emit(n);const i=new ru(null!==(t=null===(e=this.filterValue)||void 0===e?void 0:e.filterValue)&&void 0!==t?t:this.defaultFilterValue,n);this.filterControlsComponent.onFilterOptionModelChange(i)}getSelectedNamedOptionsIds(){return(0,p.reduce)(this.namedFilterOptionsModel,(e,t,n)=>(t&&e.push(n),e),[])}}du.\u0275fac=function(e){return new(e||du)},du.\u0275cmp=i["\u0275\u0275defineComponent"]({type:du,selectors:[["rx-named-filter-options-list"]],inputs:{namedFilterOptions:"namedFilterOptions",filterOption:"filterOption",filterValue:"filterValue",filterControlsComponent:"filterControlsComponent",defaultFilterValue:"defaultFilterValue"},outputs:{namedFilterOptionsChange:"namedFilterOptionsChange"},decls:1,vars:1,consts:[["class","options-wrapper",4,"ngIf"],[1,"options-wrapper"],["class","dropdown-item p-0 text-break",3,"label","ngModel","ngModelChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"dropdown-item","p-0","text-break",3,"label","ngModel","ngModelChange"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,Mi,2,2,"div",0),2&e&&i["\u0275\u0275property"]("ngIf",null==t.namedFilterOptions?null:t.namedFilterOptions.length)},directives:[m.NgIf,m.NgForOf,h.AdaptRxCheckboxComponent,x.NgControlStatus,x.NgModel],styles:[".options-wrapper[_ngcontent-%COMP%]{margin-top:-1.5rem;margin-bottom:-2px}adapt-rx-checkbox[_ngcontent-%COMP%]:not(:last-child){margin-bottom:14px}.dropdown-item[_ngcontent-%COMP%]{white-space:normal}"]});class uu{constructor(){this.namedFilterOptions=[],this.isRequired=!1}set filterValue(e){const t=this.getSelectOptions();this._filterValue=e,this.selectedValues=(null==e?void 0:e.filterValue)?e.filterValue.map(e=>(0,p.find)(t,{id:e})):[]}get filterValue(){return this._filterValue}selectOptionFormatter(e){return e.name}onValueChange(e){var t;const n=e.map(e=>e.id);this.filterControlsComponent.onFilterOptionModelChange(new ru(n,null===(t=this.filterValue)||void 0===t?void 0:t.namedOptions))}getSelectOptions(){var e;return(null===(e=this.filterOption.data)||void 0===e?void 0:e.selectOptions)||[]}onValueChangeRequired(e){var t,n,i;const o=Array.isArray(null===(t=this.filterValue)||void 0===t?void 0:t.filterValue)?this.filterValue.filterValue[0]:null===(n=this.filterValue)||void 0===n?void 0:n.filterValue;this.filterControlsComponent.onFilterOptionModelChange(new ru(e===o?null:[e],null===(i=this.filterValue)||void 0===i?void 0:i.namedOptions))}}uu.\u0275fac=function(e){return new(e||uu)},uu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:uu,selectors:[["rx-boolean-filter"]],inputs:{filterOption:"filterOption",filterValue:"filterValue",filterControlsComponent:"filterControlsComponent",namedFilterOptions:"namedFilterOptions",isRequired:"isRequired"},decls:4,vars:3,consts:[[3,"namedFilterOptions","filterOption","filterValue","filterControlsComponent",4,"ngIf"],["class","advanced-filter__rx-select advanced-filter__rx-select_simple",3,"inline","multiple","optionFormatter","options","popupMaxHeight","ngModel","ngModelChange",4,"ngIf","ngIfElse"],["inputsForBooleanTypeTemplate",""],[3,"namedFilterOptions","filterOption","filterValue","filterControlsComponent"],[1,"advanced-filter__rx-select","advanced-filter__rx-select_simple",3,"inline","multiple","optionFormatter","options","popupMaxHeight","ngModel","ngModelChange"],[1,"advanced-filter__radiobutton-group",3,"ngModel","ngModelChange"],["name","booleanTypeGroup",1,"advanced-filter__radiobutton",3,"value","label","testID","disabled"],["name","booleanTypeGroup","class","advanced-filter__radiobutton",3,"value","label","testID","disabled",4,"ngIf"]],template:function(e,t){if(1&e&&(i["\u0275\u0275template"](0,Oi,1,4,"rx-named-filter-options-list",0),i["\u0275\u0275template"](1,Pi,1,6,"adapt-rx-select",1),i["\u0275\u0275template"](2,ki,4,10,"ng-template",null,2,i["\u0275\u0275templateRefExtractor"])),2&e){const e=i["\u0275\u0275reference"](3);i["\u0275\u0275property"]("ngIf",null==t.namedFilterOptions?null:t.namedFilterOptions.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.isRequired)("ngIfElse",e)}},directives:[m.NgIf,du,h.AdaptRxSelectComponent,x.NgControlStatus,x.NgModel,h.AdaptRxRadiobuttonGroupComponent,h.AdaptRxRadiobuttonComponent],encapsulation:2});class pu{constructor(e,t,n){this.rxNamedListService=e,this.rxNamedListDefinitionService=t,this.rxFeatureService=n,this.namedFilterOptions=[],this.selectedValues=[],this.isSearchInProgress=!1,this.search=e=>e.pipe((0,r.debounceTime)(250),(0,r.distinctUntilChanged)(),(0,r.tap)(()=>{this.isSearchInProgress=!0}),(0,r.switchMap)(e=>this.getSelectOptions(e)),(0,r.finalize)(()=>{this.isSearchInProgress=!1}))}set filterValue(e){this._filterValue=e,this.selectedValues=(null==e?void 0:e.filterValue)||[]}get filterValue(){return this._filterValue}ngOnInit(){var e;this.namedListDefinition$=this.rxNamedListDefinitionService.get(this.filterOption.data.namedListDefinition).pipe((0,r.shareReplay)(1)),this.typeaheadKeystrokeCount=null!==(e=this.filterOption.data.typeaheadKeystrokeCount)&&void 0!==e?e:kd.defaultTypeaheadKeystrokeCount}onValueChange(e){var t;this.filterControlsComponent.onFilterOptionModelChange(new ru(e.map(e=>this.rxNamedListService.isNamedListOption(e)?e:{displayValue:void 0,value:e,title:"",contextualFields:[]}),null===(t=this.filterValue)||void 0===t?void 0:t.namedOptions))}getSelectOptions(e){return e.length>=this.typeaheadKeystrokeCount?this.namedListDefinition$.pipe((0,r.switchMap)(t=>this.rxNamedListService.getOptionPageByLabelOrValue(t,e,this.filterOption.data.additionalQueryCriteria).pipe((0,r.map)(e=>e.options)))):(0,o.of)([])}}pu.\u0275fac=function(e){return new(e||pu)(i["\u0275\u0275directiveInject"](D.RxNamedListService),i["\u0275\u0275directiveInject"](D.RxNamedListDefinitionService),i["\u0275\u0275directiveInject"](a.RxFeatureService))},pu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:pu,selectors:[["rx-string-with-type-ahead-filter"]],inputs:{filterOption:"filterOption",filterControlsComponent:"filterControlsComponent",filterValue:"filterValue",namedFilterOptions:"namedFilterOptions"},decls:9,vars:11,consts:[[3,"namedFilterOptions","filterOption","filterValue","filterControlsComponent",4,"ngIf"],[2,"position","relative"],[3,"search","ngModel","replaceModelOnWrite","selectItemTemplate","tagTemplate","openDropdownOnFocus","placeholder","ngModelChange"],["class","position-absolute text-info inline-loader",4,"ngIf"],["tagTemplate",""],["selectItemTemplate",""],[3,"namedFilterOptions","filterOption","filterValue","filterControlsComponent"],[1,"position-absolute","text-info","inline-loader"],[1,"d-icon-circle_75_o","animated","infinite","spin-360","transition-out","slow"],["class","text-secondary selection-item-contextual-fields text-truncate",3,"title",4,"ngIf"],[1,"text-secondary","selection-item-contextual-fields","text-truncate",3,"title"],["class","breadcrumb-item active",4,"ngFor","ngForOf"],[1,"breadcrumb-item","active"]],template:function(e,t){if(1&e&&(i["\u0275\u0275template"](0,Ni,1,4,"rx-named-filter-options-list",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"adapt-tag-field",2),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.onValueChange(e)}),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,ji,2,0,"div",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,Li,1,1,"ng-template",null,4,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](7,Gi,2,2,"ng-template",null,5,i["\u0275\u0275templateRefExtractor"])),2&e){const e=i["\u0275\u0275reference"](6),n=i["\u0275\u0275reference"](8);i["\u0275\u0275property"]("ngIf",null==t.namedFilterOptions?null:t.namedFilterOptions.length),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("search",t.search)("ngModel",t.selectedValues)("replaceModelOnWrite",!0)("selectItemTemplate",n)("tagTemplate",e)("openDropdownOnFocus",0===t.typeaheadKeystrokeCount)("placeholder",i["\u0275\u0275pipeBind1"](3,9,"com.bmc.arsys.rx.client.view-components.record-grid.filters.typeahead.placeholder")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.isSearchInProgress)}},directives:[m.NgIf,h.AdaptMetatagComponent,x.NgControlStatus,x.NgModel,du,m.NgForOf],pipes:[u.TranslatePipe],styles:[".inline-loader[_ngcontent-%COMP%]{z-index:10;right:15px;top:8px}.selection-item-contextual-fields[_ngcontent-%COMP%]{max-width:300px}"]});class hu{constructor(){this.namedFilterOptions=[]}onStringTypeFilterOptionModelChange(e,t){var n,i;const o=e.filter(e=>!(0,h.isEmptyOrWhitespace)((0,h.getTagText)(e)));o.length<e.length&&(0,p.isEqual)(o,(null===(n=this.filterValue)||void 0===n?void 0:n.filterValue)||[])?t.writeValue(o):this.filterControlsComponent.onFilterOptionModelChange(new ru(o,null===(i=this.filterValue)||void 0===i?void 0:i.namedOptions))}}hu.\u0275fac=function(e){return new(e||hu)},hu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:hu,selectors:[["rx-string-filter"]],inputs:{filterOption:"filterOption",filterValue:"filterValue",filterControlsComponent:"filterControlsComponent",namedFilterOptions:"namedFilterOptions"},decls:3,vars:9,consts:[[3,"namedFilterOptions","filterOption","filterValue","filterControlsComponent",4,"ngIf"],["mainCls","advanced-filter__string-tag-field","popupClass","advanced-filter__typeahead-window",3,"ngModel","testID","delimiterSymbol","placeholder","replaceModelOnWrite","disabled","hideLabel","ngModelChange"],["stringDataTypeTagField",""],[3,"namedFilterOptions","filterOption","filterValue","filterControlsComponent"]],template:function(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275template"](0,zi,1,4,"rx-named-filter-options-list",0),i["\u0275\u0275elementStart"](1,"adapt-tag-field",1,2),i["\u0275\u0275listener"]("ngModelChange",function(n){i["\u0275\u0275restoreView"](e);const o=i["\u0275\u0275reference"](2);return t.onStringTypeFilterOptionModelChange(n,o)}),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275property"]("ngIf",null==t.namedFilterOptions?null:t.namedFilterOptions.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",(null==t.filterValue?null:t.filterValue.filterValue)||i["\u0275\u0275pureFunction0"](8,et))("testID",t.filterControlsComponent.testID)("delimiterSymbol",null)("placeholder",t.filterControlsComponent.texts.stringTypeTagFieldPlaceholder)("replaceModelOnWrite",!0)("disabled",t.filterControlsComponent.isInputDisabled())("hideLabel",!0))},directives:[m.NgIf,h.AdaptMetatagComponent,x.NgControlStatus,x.NgModel,du],encapsulation:2});class mu{getNumberDataTypeModel(e,t){return e&&e.filterValue?e.filterValue[t]:null}onNumberTypeFilterOptionModelChange(e,t,n){t.onFilterOptionModelChange(new ru(n,null==e?void 0:e.namedOptions))}}mu.\u0275fac=function(e){return new(e||mu)},mu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:mu,selectors:[["rx-number-filter"]],inputs:{filterOption:"filterOption",filterControlsComponent:"filterControlsComponent",filterValue:"filterValue",namedFilterOptions:"namedFilterOptions"},decls:8,vars:15,consts:[[3,"namedFilterOptions","filterOption","filterValue","filterControlsComponent",4,"ngIf"],[1,"d-flex"],[1,"advanced-filter__counter-from-wrap"],[1,"advanced-filter__counter-from",3,"label","ngModel","min","max","disabled","testID","ngModelChange"],["counterFrom",""],[1,"advanced-filter__counter-to-wrap"],[1,"advanced-filter__counter-to",3,"label","ngModel","min","max","disabled","testID","ngModelChange"],["counterTo",""],[3,"namedFilterOptions","filterOption","filterValue","filterControlsComponent"]],template:function(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275template"](0,$i,1,4,"rx-named-filter-options-list",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"adapt-rx-counter",3,4),i["\u0275\u0275listener"]("ngModelChange",function(n){i["\u0275\u0275restoreView"](e);const o=i["\u0275\u0275reference"](7);return t.onNumberTypeFilterOptionModelChange(t.filterValue,t.filterControlsComponent,[n,o?t.getNumberDataTypeModel(t.filterValue,1):null])}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",5),i["\u0275\u0275elementStart"](6,"adapt-rx-counter",6,7),i["\u0275\u0275listener"]("ngModelChange",function(n){i["\u0275\u0275restoreView"](e);const o=i["\u0275\u0275reference"](4);return t.onNumberTypeFilterOptionModelChange(t.filterValue,t.filterControlsComponent,[o?t.getNumberDataTypeModel(t.filterValue,0):null,n])}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275property"]("ngIf",null==t.namedFilterOptions?null:t.namedFilterOptions.length),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("has-danger",t.filterControlsComponent.hasValidationErrors),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("label",t.filterControlsComponent.texts.counterFromLabel)("ngModel",t.getNumberDataTypeModel(t.filterValue,0))("min",t.filterControlsComponent.getNumberDataTypeMinAllowedValue())("max",t.filterControlsComponent.getNumberDataTypeMaxAllowedValue())("disabled",t.filterControlsComponent.isInputDisabled())("testID",t.filterControlsComponent.testID+"_from"),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("label",t.filterControlsComponent.texts.counterToLabel)("ngModel",t.getNumberDataTypeModel(t.filterValue,1))("min",t.filterControlsComponent.getNumberDataTypeMinAllowedValue())("max",t.filterControlsComponent.getNumberDataTypeMaxAllowedValue())("disabled",t.filterControlsComponent.isInputDisabled())("testID",t.filterControlsComponent.testID+"_to"))},directives:[m.NgIf,h.AdaptRxCounterComponent,x.NgControlStatus,x.NgModel,du],encapsulation:2});class fu extends h.AdaptRxDatetimeAdapter{fromModel(e){let t=null;const n=(0,S.default)(e);return n&&n.isValid()&&(t={year:n.year(),month:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds()}),t}toModel(e){var t,n,i,o,r,s;let a=null;if(e){const l=(0,S.default)();a=e.parseError?S.default.invalid({invalidFormat:!0,parsedDateParts:[e.parseError.query],meridiem:e.parseError.use12HoursTime?"12":"24"}):(0,S.default)([null!==(t=e.year)&&void 0!==t?t:l.year(),null!==(n=e.month)&&void 0!==n?n:l.month(),null!==(i=e.date)&&void 0!==i?i:l.date(),null!==(o=e.hours)&&void 0!==o?o:0,null!==(r=e.minutes)&&void 0!==r?r:0,null!==(s=e.seconds)&&void 0!==s?s:0])}return a}}fu.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](fu)))(t||fu)}}(),fu.\u0275prov=i["\u0275\u0275defineInjectable"]({token:fu,factory:fu.\u0275fac});class gu{constructor(){this.rxDatetimePickerMode=h.RxDatetimePickerMode}onTimeTypeFilterOptionModelChange(e){this.onDateTimeTypeFilterOptionModelChange(e)}onDateTypeFilterOptionModelChange(e){e[0]&&e[0].isValid()&&(e[0]=e[0].startOf("day")),e[1]&&e[1].isValid()&&(e[1]=e[1].startOf("day")),this.onDateTimeTypeFilterOptionModelChange(e)}onDateTimeTypeFilterOptionModelChange(e){var t;this.filterControlsComponent.onFilterOptionModelChange(new ru(e,null===(t=this.filterValue)||void 0===t?void 0:t.namedOptions))}}gu.\u0275fac=function(e){return new(e||gu)},gu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:gu,selectors:[["rx-date-time-range-filter"]],inputs:{filterOption:"filterOption",filterControlsComponent:"filterControlsComponent",filterValue:"filterValue",namedFilterOptions:"namedFilterOptions",mode:"mode"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:h.AdaptRxDatetimeAdapter,useClass:fu}])],decls:11,vars:5,consts:[[3,"namedFilterOptions","filterOption","filterValue","filterControlsComponent",4,"ngIf"],[3,"ngSwitch"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],["inputsForTimeTypeTemplate",""],["inputsForDateTypeTemplate",""],["inputsForDatetimeTypeTemplate",""],[3,"namedFilterOptions","filterOption","filterValue","filterControlsComponent"],[3,"ngTemplateOutlet"],[1,"advanced-filter__datetime",3,"ngModel","testID","mode","hasSeconds","inline","inlineLight","texts","disabled","ngModelChange"],[1,"advanced-filter__datetime",3,"ngModel","testID","mode","inline","inlineLight","texts","disabled","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,Ui,1,4,"rx-named-filter-options-list",0),i["\u0275\u0275elementContainerStart"](1,1),i["\u0275\u0275template"](2,Hi,1,1,"ng-container",2),i["\u0275\u0275template"](3,Xi,1,1,"ng-container",2),i["\u0275\u0275template"](4,Wi,1,1,"ng-container",2),i["\u0275\u0275elementContainerEnd"](),i["\u0275\u0275template"](5,qi,1,8,"ng-template",null,3,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](7,Yi,1,7,"ng-template",null,4,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](9,Qi,1,8,"ng-template",null,5,i["\u0275\u0275templateRefExtractor"])),2&e&&(i["\u0275\u0275property"]("ngIf",null==t.namedFilterOptions?null:t.namedFilterOptions.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitch",t.mode),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase",t.rxDatetimePickerMode.Time),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase",t.rxDatetimePickerMode.Date),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase",t.rxDatetimePickerMode.DateTime))},directives:[m.NgIf,m.NgSwitch,m.NgSwitchCase,du,m.NgTemplateOutlet,h.AdaptRxDatetimeRangeComponent,x.NgControlStatus,x.NgModel],encapsulation:2});class vu{set filterValue(e){this._filterValue=e;const t=this.getSelectionTypeOptions();this.selectionTypeModel=t.length&&(null==e?void 0:e.filterValue)?e.filterValue.map(e=>t.find(t=>t.id===e)):null}get filterValue(){return this._filterValue}getSelectionTypeOptions(){var e;const t=this.filterOption.data;return null!==(e=null==t?void 0:t.selectOptions)&&void 0!==e?e:[]}onSelectionTypeFilterOptionModelChange(e){var t;this.filterControlsComponent.onFilterOptionModelChange(new ru(e.map(e=>e.id),null===(t=this.filterValue)||void 0===t?void 0:t.namedOptions))}}vu.\u0275fac=function(e){return new(e||vu)},vu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:vu,selectors:[["rx-selection-filter"]],inputs:{filterOption:"filterOption",filterControlsComponent:"filterControlsComponent",filterValue:"filterValue",namedFilterOptions:"namedFilterOptions"},decls:2,vars:14,consts:[[3,"namedFilterOptions","filterOption","filterValue","filterControlsComponent",4,"ngIf"],[1,"advanced-filter__rx-select",3,"inline","multiple","selectAllButton","deselectAllButton","enableFilter","optionFormatter","options","texts","popupMaxHeight","ngModel","disabledOptionResolver","ngModelChange"],[3,"namedFilterOptions","filterOption","filterValue","filterControlsComponent"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,Zi,1,4,"rx-named-filter-options-list",0),i["\u0275\u0275elementStart"](1,"adapt-rx-select",1),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.onSelectionTypeFilterOptionModelChange(e)}),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("ngIf",null==t.namedFilterOptions?null:t.namedFilterOptions.length),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("advanced-filter__rx-select_simple",t.filterControlsComponent.canShowSimpleInlineSelect()),i["\u0275\u0275property"]("inline",!0)("multiple",!0)("selectAllButton",!0)("deselectAllButton",!0)("enableFilter",!t.filterControlsComponent.canShowSimpleInlineSelect())("optionFormatter",t.filterControlsComponent.selectOptionFormatter)("options",t.filterControlsComponent.getSelectionTypeOptions())("texts",t.filterControlsComponent.getSelectionTypeTexts())("popupMaxHeight",null)("ngModel",t.selectionTypeModel)("disabledOptionResolver",t.filterControlsComponent.disabledSelectInputResolverBind))},directives:[m.NgIf,h.AdaptRxSelectComponent,x.NgControlStatus,x.NgModel,du],encapsulation:2});class yu{constructor(){this.rxDatetimePickerMode=h.RxDatetimePickerMode,this.namedFilterOptionsGetter=e=>[]}}yu.\u0275fac=function(e){return new(e||yu)},yu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:yu,selectors:[["rx-advanced-filtering-fields-provider"]],viewQuery:function(e,t){if(1&e&&(i["\u0275\u0275viewQuery"](Ki,7),i["\u0275\u0275viewQuery"](Ji,7),i["\u0275\u0275viewQuery"](eo,7),i["\u0275\u0275viewQuery"](to,7),i["\u0275\u0275viewQuery"](no,7),i["\u0275\u0275viewQuery"](io,7),i["\u0275\u0275viewQuery"](oo,7),i["\u0275\u0275viewQuery"](ro,7),i["\u0275\u0275viewQuery"](so,7)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.optionalBooleanFilter=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.requiredBooleanFilter=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.inputsForStringWithTypeAheadTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.inputsForStringTypeTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.inputsForNumberTypeTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.inputsForTimeTypeTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.inputsForDateTypeTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.inputsForDatetimeTypeTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.inputsForSelectionTypeTemplate=e.first)}},inputs:{namedFilterOptionsGetter:"namedFilterOptionsGetter"},decls:18,vars:0,consts:[["optionalBooleanFilter",""],["requiredBooleanFilter",""],["inputsForStringWithTypeAheadTemplate",""],["inputsForStringTypeTemplate",""],["inputsForNumberTypeTemplate",""],["inputsForTimeTypeTemplate",""],["inputsForDateTypeTemplate",""],["inputsForDatetimeTypeTemplate",""],["inputsForSelectionTypeTemplate",""],[3,"filterControlsComponent","filterOption","filterValue","isRequired","namedFilterOptions"],[3,"filterControlsComponent","filterOption","filterValue","namedFilterOptions"],[3,"filterOption","filterValue","filterControlsComponent","namedFilterOptions"],[3,"filterOption","filterValue","filterControlsComponent","mode","namedFilterOptions"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,ao,1,5,"ng-template",null,0,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](2,lo,1,5,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](4,co,1,4,"ng-template",null,2,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](6,uo,1,4,"ng-template",null,3,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](8,po,1,4,"ng-template",null,4,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](10,ho,1,5,"ng-template",null,5,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](12,mo,1,5,"ng-template",null,6,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](14,fo,1,5,"ng-template",null,7,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](16,go,1,4,"ng-template",null,8,i["\u0275\u0275templateRefExtractor"]))},directives:[uu,pu,hu,mu,gu,vu],encapsulation:2});class bu{constructor(e){this.rxRecordGridUtilsService=e,this.restTagsDropdownPlacement=["bottom","bottom-right","auto"],this.removeTag=new i.EventEmitter,this.trackByForFilterTags=this.trackByForFilterTags.bind(this)}getTranslateParams(){return{count:this.getRestTagsCount()}}getRestTagsCount(){return this.tagsLimit&&this.tags?this.tags.length-this.tagsLimit:0}onRemoveFilterTag(e){const t=e.data.filterOption,n=(0,p.clone)(this.tags);let i;if((0,p.isNull)(t))i=(0,p.findIndex)(n,e=>this.rxRecordGridUtilsService.isSharedFilterPresetTag(e));else{const t=e.data.filterOption.id;i=(0,p.findIndex)(n,e=>(0,p.get)(e.data.filterOption,"id")===t)}i>-1&&n.splice(i,1),this.removeTag.emit({removedTag:e,newTags:n})}trackByForFilterTags(e,t){return this.rxRecordGridUtilsService.isSharedFilterPresetTag(t)?e:t.data.filterOption.id||e}}bu.\u0275fac=function(e){return new(e||bu)(i["\u0275\u0275directiveInject"](Nd))},bu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:bu,selectors:[["rx-filter-tags"]],inputs:{tags:"tags",isDisabled:"isDisabled",tagsLimit:"tagsLimit",restTagsDropdownPlacement:"restTagsDropdownPlacement"},outputs:{removeTag:"removeTag"},decls:4,vars:7,consts:[["class","mr-1","type","active",3,"removable","disabled","remove",4,"ngFor","ngForOf","ngForTrackBy"],["adaptDropdown","",3,"appendToBody","placement",4,"ngIf"],["type","active",1,"mr-1",3,"removable","disabled","remove"],[1,"filter-tags__tag-text",3,"title"],["adaptDropdown","",3,"appendToBody","placement"],["adaptDropdownToggle","","type","button",1,"filter-tags__dropdown-toggle","btn","btn-link","p-0","ml-1"],["adaptDropdownMenu","",1,"dropdown-menu","filter-tags__dropdown-menu","p-2"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","active",3,"removable","remove"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,vo,3,4,"adapt-tag",0),i["\u0275\u0275pipe"](2,"slice"),i["\u0275\u0275template"](3,bo,7,11,"span",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind3"](2,3,t.tags,0,t.tagsLimit?t.tagsLimit:null==t.tags?null:t.tags.length))("ngForTrackBy",t.trackByForFilterTags),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.getRestTagsCount()>0))},directives:[m.NgForOf,m.NgIf,h.AdaptTagComponent,h.AdaptDropdownDirective,h.AdaptDropdownToggleDirective,h.AdaptDropdownMenuDirective],pipes:[m.SlicePipe,u.TranslatePipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.filter-tags__dropdown-toggle[_ngcontent-%COMP%]:after{border:0!important}.filter-tags__tag-text[_ngcontent-%COMP%]{display:table-cell;max-width:190px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.filter-tags__dropdown-menu[_ngcontent-%COMP%]   .filter-tags__tag-text[_ngcontent-%COMP%]{max-width:350px}'],changeDetection:0});class xu extends l.ValueAccessor{constructor(e,t,n,i,r,s,a,l,c,d,u,p){super(),this.injector=e,this.rxModalService=t,this.rxRecordGridUtilsService=n,this.rxRecordGridFilterConfigService=i,this.rxRecordDefinitionCacheService=r,this.rxRecordGridFilterService=s,this.rxRecordGridFilterHelperService=a,this.rxRecordDefinitionService=l,this.rxGuidService=c,this.rxRecordGridAdvancedFilteringService=d,this.rxGlobalCacheService=u,this.rxDefinitionNameService=p,this.advancedFilterData={filterOptions:[],selectedFilters:[],filterTexts:{initialDropdownAnchorLabel:"Filter"},recordGridFilterConfigs:null,fieldDefinitionsById:{},fieldDefinitionsInitialized$:new o.Subject,filterValueInitialized$:new o.Subject,associationDescriptors:[]},this.subscription=new o.Subscription,this.getNamedFilterOptions=this.getNamedFilterOptions.bind(this),this.initEmptyValue(),this.advancedFilterData.recordGridFilterConfigs=this.rxRecordGridFilterConfigService.getConfigs(),this.subscription.add((0,o.combineLatest)([this.advancedFilterData.filterValueInitialized$,this.advancedFilterData.fieldDefinitionsInitialized$]).subscribe(()=>{this.initSelectedAdvancedFilters(this.value)}))}getGroupFilterName(e){var t;return null===(t=this.groupFilterItems.find(t=>t.value===e))||void 0===t?void 0:t.name}onGroupFilterValueModelChange(e){this.groupFilterValue=e}ngOnInit(){this.initFilterOptions()}initEmptyValue(){this.innerValue={basicFilters:null,filtersJson:null}}ngOnChanges(e){var t,n;e.options&&e.options.previousValue&&(null===(t=e.options.currentValue.primaryRecordDefinition)||void 0===t?void 0:t.name)!==(null===(n=e.options.previousValue.primaryRecordDefinition)||void 0===n?void 0:n.name)&&(this.initEmptyValue(),this.advancedFilterData.selectedFilters=[],this.advancedFilterData.filterOptions=[],this.initFilterOptions())}initFilterOptions(){this.groupFilterItems=[],this.options.primaryRecordDefinition&&this.rxRecordGridUtilsService.getAssociationDescriptors(this.options.primaryRecordDefinition.name).pipe((0,r.switchMap)(e=>{this.advancedFilterData.associationDescriptors=e;const t=(0,p.uniq)(e.map(e=>e.recordDefinitionName));return(t.length?(0,o.forkJoin)(t.map(e=>this.rxRecordDefinitionCacheService.getRecordDefinition(e))):(0,o.of)([])).pipe((0,r.map)(t=>({recordDefinitions:t,associationDescriptors:e})))}),(0,r.take)(1)).subscribe(({recordDefinitions:e,associationDescriptors:t})=>{const n=(0,p.cloneDeep)(this.options.primaryRecordDefinition);[n,...e].forEach(e=>{e.fieldDefinitionsById||(e.fieldDefinitionsById=this.rxRecordDefinitionService.buildFieldDefinitionsByIdMap(e))}),this.groupFilterValue=n.name,this.advancedFilterData.fieldDefinitionsById=this.rxRecordGridAdvancedFilteringService.addAssociationFieldsToFieldDefinitionsById(n.fieldDefinitionsById,t,e),t.forEach(t=>{const n=(0,p.find)(e,e=>e.name===t.recordDefinitionName);this.groupFilterItems.push({name:t.label,value:t.label}),this.advancedFilterData.filterOptions.push(...this.getFilterOptions(n,t,t.label))}),this.groupFilterItems=this.groupFilterItems.sort((e,t)=>e.name.localeCompare(t.name));const i=this.rxDefinitionNameService.getDisplayName(n.name);this.advancedFilterData.filterOptions.push(...this.getFilterOptions(n,null,null)),this.groupFilterItems.unshift({name:i,value:n.name}),this.advancedFilterData.fieldDefinitionsInitialized$.next()})}onRemoveFilterTag(e){const t=this.advancedFilterData.selectedFilters.slice(),n=e.removedTag.data.filterOption.id,i=(0,p.findIndex)(t,e=>e.filterOptionId===n);t.splice(i,1),this.onAdvancedFiltersChange(t)}getFilterOptions(e,t,n){return e.fieldDefinitions.map(e=>{const i=this.advancedFilterData.recordGridFilterConfigs[e.resourceType],o=this.rxRecordGridUtilsService.getColumnLabel(e,null),r=this.rxRecordGridUtilsService.getFieldIdForGridColumn(e.id,t),s=this.rxRecordGridAdvancedFilteringService.getAdvancedFilterOption(r,o,e,i,!1,{optionalBooleanFilter:this.fieldsProvider.optionalBooleanFilter,requiredBooleanFilter:this.fieldsProvider.requiredBooleanFilter,inputsForStringWithTypeAheadTemplate:this.fieldsProvider.inputsForStringWithTypeAheadTemplate,inputsForStringTypeTemplate:this.fieldsProvider.inputsForStringTypeTemplate,inputsForNumberTypeTemplate:this.fieldsProvider.inputsForNumberTypeTemplate,inputsForTimeTypeTemplate:this.fieldsProvider.inputsForTimeTypeTemplate,inputsForDateTypeTemplate:this.fieldsProvider.inputsForDateTypeTemplate,inputsForDatetimeTypeTemplate:this.fieldsProvider.inputsForDatetimeTypeTemplate,inputsForSelectionTypeTemplate:this.fieldsProvider.inputsForSelectionTypeTemplate},n?`${n} > ${o}`:null,this.options.namedFilterOptions?this.options.namedFilterOptions[r]:[]),a=t?t.label:this.options.primaryRecordDefinition.name;return s.isHidden=()=>{var e;return this.groupFilterValue!==a||!1===(null===(e=this.options.selectedFieldIds)||void 0===e?void 0:e.includes(r))},s}).sort((e,t)=>e.label.localeCompare(t.label))}ngOnDestroy(){this.subscription.unsubscribe()}onAdvancedFiltersChange(e){this.advancedFilterData.selectedFilters=e;const t=this.value.basicFilters||[],n=(0,p.reduce)(e,(e,n)=>{const i=n.filterOptionId,o=this.advancedFilterData.fieldDefinitionsById[i],r=this.advancedFilterData.recordGridFilterConfigs[o.resourceType].getRecordGridFilterData(n.value,o,i);return(r.or||r.and).forEach(n=>{const o=(0,p.values)(n)[0][i],r=(0,p.values)(n)[0].$DISPLAYVALUE$,s=(0,p.find)(t,t=>t.fieldId===i&&t.value===o&&(0,p.every)(e,e=>e.guid!==t.guid)),a={fieldId:i,value:o,$DISPLAYVALUE$:r,guid:s&&s.guid||this.rxGuidService.generate()};e.push(a)}),e},[]),i=this.rxRecordGridFilterService.getRecordGridFilterDataFromAdvancedFilter(e,this.advancedFilterData.fieldDefinitionsById,this.advancedFilterData.recordGridFilterConfigs);let o=(0,p.isEmpty)(i)?null:JSON.stringify(i);o&&(o=this.rxRecordGridFilterHelperService.denormalizeFilterString(o,n)),this.filtersModel={basicFilters:n,filtersJson:o},this.value={basicFilters:n,filtersJson:o}}onWriteValue(e){(0,p.isEqual)(this.filtersModel,e)||this.advancedFilterData.filterValueInitialized$.next()}initSelectedAdvancedFilters(e){(null==e?void 0:e.filtersJson)&&!(0,p.isEmpty)(e.basicFilters)&&this.rxRecordGridFilterService.getSelectedFiltersFromPredefinedFilter(e.filtersJson,e.basicFilters,this.advancedFilterData.fieldDefinitionsById,this.advancedFilterData.recordGridFilterConfigs,this.options.primaryRecordDefinition,this.advancedFilterData.filterOptions,this.advancedFilterData.associationDescriptors).pipe((0,r.map)(e=>this.options.namedFilterOptions?this.rxRecordGridFilterService.clearRemovedNamedFilterOptions(e,this.options.namedFilterOptions):e)).subscribe(e=>{this.advancedFilterData.selectedFilters=e})}getNamedFilterOptions(e){return this.options.namedFilterOptions?this.options.namedFilterOptions[e.id]:[]}getTags(e){var t;const n=(null!==(t=null==e?void 0:e.filter(e=>(0,p.isEmpty)(e.data.validationErrors)))&&void 0!==t?t:[]).map(e=>{var t,n;if(e.data.filterOption){const i=e.data.filterOption.id,o=e.data.filterOption.data,s=this.advancedFilterData.recordGridFilterConfigs[null==o?void 0:o.resourceType];if((0,p.isFunction)(null==s?void 0:s.getToolbarTagInfo))return s.getToolbarTagInfo({primaryRecordDefinition:this.options.primaryRecordDefinition,fieldDefinition:o,value:e.data.value,tag:e,fieldId:i,namedFilterOptions:null!==(n=null===(t=this.options.namedFilterOptions)||void 0===t?void 0:t[i])&&void 0!==n?n:[]}).pipe((0,r.tap)(t=>e.data.value.title=t.tooltip),(0,r.map)(t=>Object.assign(Object.assign({},e),{text:t.text})))}return(0,o.of)(Object.assign({},e))});return n.length?(0,o.forkJoin)(n):(0,o.of)([])}}xu.\u0275fac=function(e){return new(e||xu)(i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](C.RxModalService),i["\u0275\u0275directiveInject"](Nd),i["\u0275\u0275directiveInject"](cu),i["\u0275\u0275directiveInject"](s.RxRecordDefinitionCacheService),i["\u0275\u0275directiveInject"](lu),i["\u0275\u0275directiveInject"](au),i["\u0275\u0275directiveInject"](s.RxRecordDefinitionService),i["\u0275\u0275directiveInject"](v.RxGuidService),i["\u0275\u0275directiveInject"](su),i["\u0275\u0275directiveInject"](a.RxGlobalCacheService),i["\u0275\u0275directiveInject"](a.RxDefinitionNameService))},xu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:xu,selectors:[["rx-record-grid-filter-select-control"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](yu,7),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.fieldsProvider=e.first)}},inputs:{options:"options"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:x.NG_VALUE_ACCESSOR,useExisting:xu,multi:!0}]),i["\u0275\u0275InheritDefinitionFeature"],i["\u0275\u0275NgOnChangesFeature"]],decls:4,vars:2,consts:[[4,"ngIf"],["filterOptionsCustomAreaTemplate",""],[3,"namedFilterOptionsGetter"],[3,"hidden","appendDropdownToBody","enableSavedFilters","filterOptions","selectedFilters","texts","applyFiltersByUserAction","filterOptionsCustomAreaTemplate","selectedFiltersIndicationStyle","anchorDisabled","selectedFiltersChange"],["advancedFilter",""],[3,"isDisabled","tags","tagsLimit","restTagsDropdownPlacement","removeTag"],["class","p-3 pt-4 pb-4",4,"ngIf"],[1,"p-3","pt-4","pb-4"],[3,"title","multiline"],[1,"advanced-filter__radiobutton-group",3,"ngModel","ngModelChange"],["name","booleanTypeGroup","class","advanced-filter__radiobutton",3,"value","label",4,"ngFor","ngForOf"],["name","booleanTypeGroup",1,"advanced-filter__radiobutton",3,"value","label"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,wo,5,17,"ng-container",0),i["\u0275\u0275template"](1,So,1,1,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275element"](3,"rx-advanced-filtering-fields-provider",2)),2&e&&(i["\u0275\u0275property"]("ngIf",t.advancedFilterData.filterOptions),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("namedFilterOptionsGetter",t.getNamedFilterOptions))},directives:[m.NgIf,yu,h.AdaptAdvancedFilterComponent,bu,h.AdaptAccordionComponent,h.AdaptAccordionTabComponent,h.AdaptRxRadiobuttonGroupComponent,x.NgControlStatus,x.NgModel,m.NgForOf,h.AdaptRxRadiobuttonComponent],pipes:[m.AsyncPipe],styles:["[_nghost-%COMP%]     .filter-tags__tag-text{max-width:185px!important}"]}),function(e){e.Basic="basic",e.Expression="expression"}(nu||(nu={}));class wu{}wu.\u0275fac=function(e){return new(e||wu)},wu.\u0275mod=i["\u0275\u0275defineNgModule"]({type:wu,declarations:[bu],imports:[m.CommonModule,h.AdaptTagModule,h.AdaptDropdownModule,u.TranslateModule],exports:[bu]}),wu.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptTagModule,h.AdaptDropdownModule,u.TranslateModule]]});class Cu{}Cu.\u0275fac=function(e){return new(e||Cu)},Cu.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Cu,declarations:[du],imports:[m.CommonModule,h.AdaptRxCheckboxModule,x.FormsModule],exports:[du]}),Cu.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptRxCheckboxModule,x.FormsModule]]});class _u{}_u.\u0275fac=function(e){return new(e||_u)},_u.\u0275mod=i["\u0275\u0275defineNgModule"]({type:_u,imports:[m.CommonModule,h.AdaptRxRadiobuttonModule,h.AdaptRxSelectModule,u.TranslateModule,h.AdaptTagModule,x.FormsModule,h.AdaptDropdownModule,h.AdaptMetatagModule,Cu,wu],exports:[wu,Cu]}),_u.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptRxRadiobuttonModule,h.AdaptRxSelectModule,u.TranslateModule,h.AdaptTagModule,x.FormsModule,h.AdaptDropdownModule.forRoot(),h.AdaptMetatagModule,Cu,wu],wu,Cu]});class Su{}Su.\u0275fac=function(e){return new(e||Su)},Su.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Su,declarations:[hu],imports:[m.CommonModule,x.FormsModule,Cu,h.AdaptMetatagModule],exports:[hu]}),Su.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,x.FormsModule,Cu,h.AdaptMetatagModule]]});class Iu{}Iu.\u0275fac=function(e){return new(e||Iu)},Iu.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Iu,declarations:[mu],imports:[m.CommonModule,x.FormsModule,Cu,h.AdaptRxCounterModule],exports:[mu]}),Iu.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,x.FormsModule,Cu,h.AdaptRxCounterModule]]});class Au{}Au.\u0275fac=function(e){return new(e||Au)},Au.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Au,declarations:[gu],imports:[m.CommonModule,x.FormsModule,Cu,h.AdaptRxDatetimeModule],exports:[gu]}),Au.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,x.FormsModule,Cu,h.AdaptRxDatetimeModule]]});class Eu{}Eu.\u0275fac=function(e){return new(e||Eu)},Eu.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Eu,declarations:[vu],imports:[m.CommonModule,x.FormsModule,Cu,h.AdaptRxSelectModule],exports:[vu]}),Eu.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,x.FormsModule,Cu,h.AdaptRxSelectModule]]});class Du{}Du.\u0275fac=function(e){return new(e||Du)},Du.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Du,declarations:[uu],imports:[m.CommonModule,Cu,h.AdaptRxRadiobuttonModule,h.AdaptRxSelectModule,x.FormsModule],exports:[uu]}),Du.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,Cu,h.AdaptRxRadiobuttonModule,h.AdaptRxSelectModule,x.FormsModule]]});class Tu{}Tu.\u0275fac=function(e){return new(e||Tu)},Tu.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Tu,declarations:[pu],imports:[m.CommonModule,Cu,h.AdaptMetatagModule,x.FormsModule,u.TranslateModule],exports:[pu]}),Tu.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,Cu,h.AdaptMetatagModule,x.FormsModule,u.TranslateModule]]});class Ru{}Ru.\u0275fac=function(e){return new(e||Ru)},Ru.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ru,declarations:[yu],imports:[m.CommonModule,Su,Iu,Au,Eu,Du,Tu],exports:[yu]}),Ru.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,Su,Iu,Au,Eu,Du,Tu]]});class Mu{}Mu.\u0275fac=function(e){return new(e||Mu)},Mu.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Mu,declarations:[xu],imports:[m.CommonModule,h.AdaptAdvancedFilteringModule,_u,h.AdaptAccordionModule,h.AdaptRxRadiobuttonModule,x.FormsModule,Ru],exports:[xu]}),Mu.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptAdvancedFilteringModule,_u,h.AdaptAccordionModule,h.AdaptRxRadiobuttonModule,x.FormsModule,Ru]]});class Ou{getNamedFilterOptionsFromColumns(e){return e.reduce((e,t)=>{var n;return(null===(n=t.namedFilterOptions)||void 0===n?void 0:n.length)&&(e[t.fieldId]=t.namedFilterOptions.map(e=>Object.assign(Object.assign({guid:e.guid},e.data),{index:(0,p.toNumber)(e.data.index)})).sort((e,t)=>e.index-t.index)),e},{})}}Ou.\u0275fac=function(e){return new(e||Ou)},Ou.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Ou,factory:Ou.\u0275fac,providedIn:"root"});class Pu extends C.RxModalClass{constructor(e,t,n,i){super(e,i),this.activeModalRef=e,this.rxModalService=t,this.rxGuidService=n,this.injector=i,this.filterPresets=[],this.params=this.activeModalRef.getData();const o=this.params.activeFilterPreset;this.recordDefinition=this.params.primaryRecordDefinition,this.selectedFieldIds=this.params.selectedFieldIds,this.isReadOnly=this.params.isReadOnly,this.filterPresets=(0,p.map)(this.params.filterPresets,e=>this.createFilterPresetEditorData(e,e===o))}ngAfterViewInit(){const e=(0,p.findIndex)(this.filterPresets,"isOpen");-1!==e&&this.accordionTabEls.toArray()[e].nativeElement.scrollIntoView({block:"nearest"})}addFilterPreset(){this.markAsDirty(),this.filterPresets.push(this.createFilterPresetEditorData({guid:this.rxGuidService.generate(),title:"New preset"+(0===this.filterPresets.length?"":" "+this.filterPresets.length),filters:"",recordGridFilters:[]},!0)),setTimeout(()=>{this.accordionTabEls.last.nativeElement.scrollIntoView({block:"nearest"})})}removeFilterPreset(e){this.markAsDirty(),this.filterPresets.splice(e,1)}createFilterPresetEditorData(e,t){return Object.assign(Object.assign({},e),{isOpen:t,filterSelectOptions:{primaryRecordDefinition:this.recordDefinition,tagsLimit:2,namedFilterOptions:this.params.namedFilterOptions,selectedFieldIds:this.selectedFieldIds},filterSelect:{basicFilters:e.recordGridFilters,filtersJson:e.filters}})}getCheckPresetTitleDuplicateValidator(e){return t=>{const n=t.value;return n&&this.filterPresets.some(t=>t.title===n&&t.guid!==e.guid)?{duplicatePresetName:{message:"Duplicate Name"}}:null}}trackByForFilterPresets(e,t){return t.guid}toggleOpen(e){this.filterPresets.forEach(t=>t.isOpen=e)}onSaveChangesClick(){const e={filterPresets:this.filterPresets.map(e=>({filters:e.filterSelect.filtersJson,recordGridFilters:e.filterSelect.basicFilters,guid:e.guid,title:e.title}))};(0,p.some)(e.filterPresets,e=>(0,p.isEmpty)(e.recordGridFilters))?this.rxModalService.confirm({title:"Warning",modalStyle:C.RX_MODAL.modalStyles.warning,message:"The filter preset will not filter records because no filters have been specified. Do you want to continue?"}).then(t=>{t&&this.activeModalRef.close(e)}):this.activeModalRef.close(e)}cancel(){this.activeModalRef.dismiss(h.DismissReasons.CLOSE_BTN)}}Pu.\u0275fac=function(e){return new(e||Pu)(i["\u0275\u0275directiveInject"](h.ActiveModalRef),i["\u0275\u0275directiveInject"](C.RxModalService),i["\u0275\u0275directiveInject"](v.RxGuidService),i["\u0275\u0275directiveInject"](i.Injector))},Pu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Pu,selectors:[["rx-record-grid-filter-preset-editor-modal"]],viewQuery:function(e,t){if(1&e&&(i["\u0275\u0275viewQuery"](Io,7,x.NgForm),i["\u0275\u0275viewQuery"](h.AdaptAccordionTabComponent,5,i.ElementRef)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.filterPresetsForm=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.accordionTabEls=e)}},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:18,vars:12,consts:[[1,"designer-modal-body","modal-body","d-flex","mh-100"],[1,"row","flex-grow-1","w-100"],[1,"d-flex","flex-column","mh-100","col"],[1,"d-flex","align-items-start","justify-content-between"],["class","mt-2 p-0","rx-id","add-button","adapt-button","","type","button","btn-type","tertiary",3,"click",4,"ngIf"],["class","btn-group",4,"ngIf"],[1,"designer-modal-accordion-wrapper"],[3,"multiselect"],["filterPresetsForm","ngForm"],["class","designer-modal-accordion-content",4,"ngFor","ngForOf","ngForTrackBy"],["class","d-flex justify-content-center h-100 align-items-center mt-2",4,"ngIf"],[1,"modal-footer"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click",4,"ngIf"],["adapt-button","","btn-type","secondary","type","button","rx-id","cancel-button",3,"click"],["rx-id","add-button","adapt-button","","type","button","btn-type","tertiary",1,"mt-2","p-0",3,"click"],[1,"d-icon-left-plus_circle"],[1,"btn-group"],["adapt-button","","btn-type","tertiary","type","button","rx-id","expand-all-button",3,"click"],["adapt-button","","btn-type","tertiary","type","button","rx-id","collapse-all-button",3,"click"],[1,"designer-modal-accordion-content"],[1,"d-block",3,"isOpen","open","close"],["accordionTab",""],[1,"card-title-text","w-100"],[1,"designer-modal-card-title-content"],[1,"left-header-block","pl-0"],["rx-id","card-title",1,"rx-ellipsis",3,"title"],["class","right-header-block",4,"ngIf"],["rxNoWhitespace","",3,"label","name","required","disabled","rxCustomValidators","ngModel","ngModelChange"],[4,"ngIf"],[1,"right-header-block"],["adapt-button","","size","small","type","button","rx-id","remove-button",1,"d-icon-left-cross_adapt","p-1","pr-4","ml-3",3,"click"],[3,"name","disabled","options","ngModel","ngModelChange"],[1,"d-flex","justify-content-center","h-100","align-items-center","mt-2"],["type","search",1,"w-100",3,"label"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275template"](4,Ao,4,3,"button",4),i["\u0275\u0275template"](5,Eo,7,6,"div",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",6),i["\u0275\u0275elementStart"](7,"adapt-accordion",7),i["\u0275\u0275elementStart"](8,"form",null,8),i["\u0275\u0275template"](10,Ro,12,13,"div",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](11,Mo,3,3,"div",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",11),i["\u0275\u0275template"](13,Oo,3,4,"button",12),i["\u0275\u0275elementStart"](14,"button",13),i["\u0275\u0275listener"]("click",function(){return t.cancel()}),i["\u0275\u0275text"](15),i["\u0275\u0275pipe"](16,"translate"),i["\u0275\u0275pipe"](17,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",!t.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.filterPresets.length),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("multiselect",!0),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",t.filterPresets)("ngForTrackBy",t.trackByForFilterPresets),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.filterPresets.length),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.isReadOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.isReadOnly?i["\u0275\u0275pipeBind1"](16,8,"com.bmc.arsys.rx.client.common.close.label"):i["\u0275\u0275pipeBind1"](17,10,"com.bmc.arsys.rx.client.common.cancel.label")," "))},directives:[m.NgIf,h.AdaptAccordionComponent,x["\u0275NgNoValidate"],x.NgControlStatusGroup,x.NgForm,m.NgForOf,h.AdaptButtonComponent,h.AdaptAccordionTabComponent,h.AdaptRxTextfieldComponent,v.RxNoWhitespaceValidator,x.RequiredValidator,C.RxCustomValidatorsDirective,x.NgControlStatus,x.NgModel,xu,h.AdaptEmptyStateComponent],pipes:[u.TranslatePipe],styles:[':root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.designer-modal-body{height:645px;min-height:calc(100% - 61px)!important}.designer-modal-accordion-wrapper{display:flex;flex-direction:column;height:100%;overflow:auto;padding-top:10px}.designer-modal-accordion-content{position:relative}.designer-modal-accordion-content.cdk-drag-preview{z-index:1200!important}.designer-modal-drag-handle{cursor:move;position:absolute;top:0;left:0;height:46px;padding:14px 10px 14px 14px;z-index:1}.designer-modal-card-title-content{width:100%;display:flex}.designer-modal-card-title-content .left-header-block,.designer-modal-card-title-content .right-header-block{display:flex;align-items:center}.designer-modal-card-title-content .left-header-block{flex-grow:1;min-width:0;font-size:14px;padding-left:22px}.designer-modal-card-sub-title{color:#7c7f81;font-weight:normal}.designer-modal-card-title-index-buttons{display:flex;font-size:19px}.rx-card{overflow:auto}.rx-tree-draggable-node{cursor:pointer}.rx-tree-draggable-node.cdk-drag-preview{z-index:1200!important}.rx-tree-draggable-node.cdk-drag{opacity:1}.rx-tree-node-label{word-break:break-all}rx-form-builder{max-width:400px}\n'],encapsulation:2});class Fu extends l.ValueAccessor{constructor(e,t){super(),this.rxModalService=e,this.rxRecordGridFilterSelectHelperService=t,this.filterPresets=[]}onWriteValue(e){this.filterPresets=e.slice(),this.filterPresets.sort((e,t)=>e.title.localeCompare(t.title))}removeFilterPreset(e){this.updateValue(this.filterPresets.filter(t=>t.guid!==e.guid))}updateValue(e){this.value=e,this.onWriteValue(e)}openEditor(e){const t=this.options.columns.map(e=>e.fieldId),n=this.options.primaryRecordDefinition.fieldDefinitions.filter(e=>t.includes(e.id.toString())),i=this.rxRecordGridFilterSelectHelperService.getNamedFilterOptionsFromColumns(this.options.columns),o={filterPresets:this.filterPresets,activeFilterPreset:e,isReadOnly:this.isDisabled,namedFilterOptions:i,primaryRecordDefinition:(0,p.cloneDeep)(Object.assign(Object.assign({},this.options.primaryRecordDefinition),{fieldDefinitions:n})),selectedFieldIds:t};this.rxModalService.openModal({title:"Edit filter presets",content:Pu,size:c.OpenViewActionModalSize.Large,testID:"edit-filter-presets",data:o}).then(e=>{e&&e.filterPresets&&this.updateValue(e.filterPresets)}).catch(p.noop)}trackByForFilterPresets(e,t){return t.guid}}Fu.\u0275fac=function(e){return new(e||Fu)(i["\u0275\u0275directiveInject"](C.RxModalService),i["\u0275\u0275directiveInject"](Ou))},Fu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Fu,selectors:[["rx-record-grid-filter-preset-editor"]],inputs:{options:"options"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:x.NG_VALUE_ACCESSOR,useExisting:Fu,multi:!0}]),i["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:5,consts:[[3,"label","tooltip",4,"ngIf"],["btn-type","tertiary","rx-id","open-modal-button","class","p-0 pb-1",3,"click",4,"ngIf"],["class","rx-selected-filter-preset",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-tertiary",4,"ngIf"],[3,"label","tooltip"],["btn-type","tertiary","rx-id","open-modal-button",1,"p-0","pb-1",3,"click"],[1,"d-icon-plus_circle"],[1,"rx-selected-filter-preset"],[1,"rx-selected-filter-preset__header-container"],["rx-id","card-title",1,"rx-selected-filter-preset__header-title",3,"title"],["type","button","class","rx-button-unstyled d-icon-left-pencil btn-link","rx-id","open-editor",3,"click",4,"ngIf"],["type","button","class","rx-button-unstyled d-icon-cross btn-link","rx-id","remove-filter-preset",3,"click",4,"ngIf"],["rx-id","filter-count",1,"rx-filter-count"],["type","button","rx-id","open-editor",1,"rx-button-unstyled","d-icon-left-pencil","btn-link",3,"click"],["type","button","rx-id","remove-filter-preset",1,"rx-button-unstyled","d-icon-cross","btn-link",3,"click"],[1,"text-tertiary"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,Po,1,2,"adapt-rx-control-label",0),i["\u0275\u0275template"](1,Fo,3,0,"adapt-button",1),i["\u0275\u0275elementStart"](2,"div"),i["\u0275\u0275template"](3,jo,8,5,"div",2),i["\u0275\u0275template"](4,Lo,2,0,"span",3),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("ngIf",t.options.label),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.isDisabled),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.filterPresets)("ngForTrackBy",t.trackByForFilterPresets),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0===t.filterPresets.length))},directives:[m.NgIf,m.NgForOf,h.AdaptRxControlLabelComponent,h.AdaptButtonComponent],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.rx-selected-filter-preset[_ngcontent-%COMP%]{margin-bottom:5px;border:1px solid #d6d7d8;border-radius:2px;padding:5px 10px;word-break:break-all;font-weight:var(--font-weight-bold)}.rx-selected-filter-preset__header-container[_ngcontent-%COMP%]{display:flex;margin-bottom:5px}.rx-selected-filter-preset__header-title[_ngcontent-%COMP%]{flex:1 1 auto;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:.875rem}.rx-filter-count[_ngcontent-%COMP%]{font-size:.625rem;color:#959899}.d-icon-cross[_ngcontent-%COMP%], .d-icon-left-pencil[_ngcontent-%COMP%]{cursor:pointer}.d-icon-cross[_ngcontent-%COMP%]:not(:hover), .d-icon-left-pencil[_ngcontent-%COMP%]:not(:hover){color:#313538}']});class ku extends C.RxModalClass{constructor(e,t,n,i,o,r,s,c){super(e,c),this.context=e,this.adaptModalService=t,this.rxExpressionEditorService=n,this.translateService=i,this.rxRecordDefinitionCacheService=o,this.ngZone=r,this.rxGuidService=s,this.injector=c,this.rowActions=[],this.selectFormControlOptions={label:this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid-row-actions.field-name.label"),tooltip:new a.Tooltip(this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid-row-actions.field-name.tooltip")),options:[],emptyOption:!0},this.availableOnDevicesFormControlOptions=(0,d.getAvailableOnDevicesInspectorConfig)().options,this.recordDefinitionPickerOptions={label:this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid-row-actions.security-definition-name.label"),tooltip:new a.Tooltip(this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid-row-actions.security-definition-name.tooltip")),definitionType:l.RxDefinitionPickerType.StandardDataRecord,required:!1},this.iconPickerOptions={label:this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid-row-actions.icon.label"),appendToBody:!0,required:!1}}ngOnInit(){super.ngOnInit();const e=this.context.getData();this.expressionConfigurator=e.expressionConfigurator,this.rowActionIndex=e.rowActionIndex,this.activeActionIndex=e.activeActionIndex,this.isReadOnly=e.isReadOnly,this.rowActions=(0,p.cloneDeep)(e.rowActions).map((e,t)=>(this.setSecurityFieldDefinitions(e),Object.assign(Object.assign({},e),{isOpen:t===this.rowActionIndex})))}ngAfterViewInit(){this.openActiveAction(),this.rowActionIndex&&this.accordionTabEls.toArray()[this.rowActionIndex].nativeElement.scrollIntoView({block:"nearest"})}cancel(){this.context.dismiss(h.DismissReasons.CLOSE_BTN)}trackByGuid(e,t){return t.guid}addRowAction(){this.markAsDirty(),this.rowActions.push(Object.assign({guid:this.rxGuidService.generate(),label:"New row action"+(0===this.rowActions.length?"":" "+this.rowActions.length),icon:"",recordDefinitionName:null,fieldId:null,recordInstance:null,disabled:null,hidden:null,actions:[],isOpen:!0,securityFieldDefinitions$:(0,o.of)(this.getSelectFormControlOptions())},c.RX_AVAILABLE_ON_DEVICES_DEFAULT_VALUE)),setTimeout(()=>{this.accordionTabEls.last.nativeElement.scrollIntoView({block:"nearest"})})}removeRowAction(e,t){t.stopPropagation(),this.markAsDirty(),this.rowActions.splice(e,1)}openExpressionEditor(e,t,n){this.rxExpressionEditorService.openEditor({property:{path:n,value:t[n],label:this.getRowActionLabel(n)},isReadOnly:!1,expressionConfigurator:this.expressionConfigurator,legend:[{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.function.label"),icon:"d-icon-mathematical_function"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.keyword.label"),icon:"d-icon-dollar"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-component.label"),icon:"d-icon-file_o"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-component-property.label"),icon:"d-icon-file_o_gear"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-input-parameter.label"),icon:"d-icon-arrow_right_square_input"}]}).subscribe(e=>{this.markAsDirty(),t[n]=e.value})}getExpressionFormControlOptions(e){return{label:this.getRowActionLabel(e),tooltip:"recordInstance"===e?new a.Tooltip(this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid-row-actions.recordInstance.tooltip")):null,dataDictionary$:this.context.getData().expressionConfigurator.getDataDictionary(e),operators:this.context.getData().expressionConfigurator.getOperators(e)}}saveActions(){const e=this.rowActions.map(e=>Object.assign(Object.assign({},(0,p.omit)(e,["isOpen","securityFieldDefinitions$"])),{action:"rowAction"}));this.context.close(e)}moveRowAction(e,t){(0,b.moveItemInArray)(this.rowActions,e,t),this.markAsDirty()}onDropInSelectedRowActionsContainer(e){(0,b.moveItemInArray)(this.rowActions,e.previousIndex,e.currentIndex),this.markAsDirty()}onRecordDefinitionChange(e){this.markAsDirty(),e.fieldId=null,this.setSecurityFieldDefinitions(e)}setSecurityFieldDefinitions(e){e.securityFieldDefinitions$=e.recordDefinitionName?this.rxRecordDefinitionCacheService.getRecordDefinition(e.recordDefinitionName).pipe((0,r.map)(e=>this.getSelectFormControlOptions(e))):(0,o.of)(this.getSelectFormControlOptions())}getRowActionLabel(e){let t;switch(e){case"disabled":t="com.bmc.arsys.rx.client.view-components.record-grid-row-actions.disabled.label";break;case"hidden":t="com.bmc.arsys.rx.client.view-components.record-grid-row-actions.hidden.label";break;case"recordInstance":t="com.bmc.arsys.rx.client.view-components.record-grid-row-actions.recordInstance.label"}return this.translateService.instant(t)}getSelectFormControlOptions(e=null){return Object.assign(Object.assign({},this.selectFormControlOptions),{options:e?e.fieldDefinitions.map(e=>({name:e.name,id:String(e.id)})):[]})}openActiveAction(){this.activeActionIndex>=0&&this.rowActionIndex>=0&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{const e=this.actionListControlComponents.find(e=>{var t;return(0,p.isEqual)(e.value,null===(t=this.rowActions[this.rowActionIndex])||void 0===t?void 0:t.actions)});e&&e.focus({actionIndex:this.activeActionIndex})})})}toggleOpen(e){this.rowActions.forEach(t=>t.isOpen=e)}}ku.\u0275fac=function(e){return new(e||ku)(i["\u0275\u0275directiveInject"](h.ActiveModalRef),i["\u0275\u0275directiveInject"](h.AdaptModalService),i["\u0275\u0275directiveInject"](l.RxExpressionEditorService),i["\u0275\u0275directiveInject"](u.TranslateService),i["\u0275\u0275directiveInject"](s.RxRecordDefinitionCacheService),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](v.RxGuidService),i["\u0275\u0275directiveInject"](i.Injector))},ku.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ku,selectors:[["rx-record-grid-row-action-editor-modal"]],viewQuery:function(e,t){if(1&e&&(i["\u0275\u0275viewQuery"](Vo,7,x.NgForm),i["\u0275\u0275viewQuery"](Bo,5,b.CdkDropList),i["\u0275\u0275viewQuery"](h.AdaptAccordionTabComponent,5,i.ElementRef),i["\u0275\u0275viewQuery"](Go,5,b.CdkDrag),i["\u0275\u0275viewQuery"](d.ActionListControlComponent,5)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.rowActionsForm=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.selectedRowActionsDropList=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.accordionTabEls=e),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.draggableSelectedRowAction=e),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.actionListControlComponents=e)}},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:19,vars:13,consts:[[1,"designer-modal-body","modal-body","d-flex","mh-100"],[1,"row","flex-grow-1","w-100"],[1,"d-flex","flex-column","mh-100","col"],[1,"d-flex","align-items-start","justify-content-between"],["class","mt-2 p-0","rx-id","add-button","adapt-button","","type","button","btn-type","tertiary",3,"click",4,"ngIf"],["class","btn-group",4,"ngIf"],["id","selectedRowActionsDropList","cdkDropList","",1,"designer-modal-accordion-wrapper",3,"cdkDropListData","cdkDropListDropped"],["selectedRowActionsDropList","cdkDropList"],[3,"multiselect"],["rowActionsForm","ngForm"],["class","designer-modal-accordion-content","cdkDrag","","cdkDragLockAxis","y",3,"cdkDragData","cdkDragDisabled",4,"ngFor","ngForOf","ngForTrackBy"],["class","d-flex justify-content-center h-100 align-items-center mt-2",4,"ngIf"],[1,"modal-footer"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click",4,"ngIf"],["adapt-button","","btn-type","secondary","type","button","rx-id","cancel-button",3,"click"],["rx-id","add-button","adapt-button","","type","button","btn-type","tertiary",1,"mt-2","p-0",3,"click"],[1,"d-icon-left-plus_circle"],[1,"btn-group"],["adapt-button","","btn-type","tertiary","type","button","rx-id","expand-all-button",3,"click"],["adapt-button","","btn-type","tertiary","type","button","rx-id","collapse-all-button",3,"click"],["cdkDrag","","cdkDragLockAxis","y",1,"designer-modal-accordion-content",3,"cdkDragData","cdkDragDisabled"],["draggableSelectedRowAction",""],["class","designer-modal-drag-handle d-icon-left-dots","cdkDragHandle","",4,"ngIf"],[1,"d-block",3,"isOpen","open","close"],[1,"card-title-text","w-100"],[1,"designer-modal-card-title-content"],[1,"left-header-block"],["rx-id","card-title",1,"rx-ellipsis",3,"title"],["class","right-header-block",4,"ngIf"],[1,"d-flex","row"],["rx-id","label","rxNoWhitespace","",1,"form-group","d-block","col-4",3,"label","disabled","required","name","ngModel","ngModelChange"],["rx-id","icon",1,"form-group","d-block","col-4","px-2",3,"disabled","options","name","ngModel","ngModelChange"],["rx-id","recordDefinition",1,"form-group","d-block","col-4",3,"isDisabled","options","ngModel","name","ngModelChange"],["rx-id","fieldId",1,"col-4","px-2",3,"options","ngModel","name","disabled","appendToBody","ngModelChange"],["propertyPath","recordInstance","rx-id","recordInstance",1,"col-4",3,"disabled","options","ngModel","name","events"],["propertyPath","disabled","rx-id","disabled",1,"col-4",3,"disabled","options","ngModel","name","events"],["propertyPath","hidden","rx-id","hidden",1,"col-4",3,"disabled","options","ngModel","name","events"],["rx-id","availableOnDevices","required","",1,"col-4","px-2",3,"options","ngModel","name","disabled","appendToBody","ngModelChange"],[1,"d-inline-block","col-4","mt-2",3,"ngModel","name","ngModelChange"],["cdkDragHandle","",1,"designer-modal-drag-handle","d-icon-left-dots"],[1,"right-header-block"],[1,"designer-modal-card-title-index-buttons"],["type","button","rx-id","move-down-button",1,"d-icon-left-triangle_down","rx-button-unstyled",3,"disabled","click"],["type","button","rx-id","move-up-button",1,"d-icon-left-triangle_up","rx-button-unstyled",3,"disabled","click"],["adapt-button","","size","small","type","button","rx-id","remove-button",1,"d-icon-left-cross_adapt","p-1","pr-4","ml-3",3,"click"],[1,"d-flex","justify-content-center","h-100","align-items-center","mt-2"],["type","config",1,"w-100",3,"label"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275template"](4,zo,4,3,"button",4),i["\u0275\u0275template"](5,$o,7,6,"div",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",6,7),i["\u0275\u0275listener"]("cdkDropListDropped",function(e){return t.onDropInSelectedRowActionsContainer(e)}),i["\u0275\u0275elementStart"](8,"adapt-accordion",8),i["\u0275\u0275elementStart"](9,"form",null,9),i["\u0275\u0275template"](11,Xo,25,50,"div",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](12,Wo,3,3,"div",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",12),i["\u0275\u0275template"](14,qo,3,4,"button",13),i["\u0275\u0275elementStart"](15,"button",14),i["\u0275\u0275listener"]("click",function(){return t.cancel()}),i["\u0275\u0275text"](16),i["\u0275\u0275pipe"](17,"translate"),i["\u0275\u0275pipe"](18,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",!t.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.rowActions.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("cdkDropListData",t.rowActions),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("multiselect",!0),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",t.rowActions)("ngForTrackBy",t.trackByGuid),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.rowActions.length),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.isReadOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.isReadOnly?i["\u0275\u0275pipeBind1"](17,9,"com.bmc.arsys.rx.client.common.close.label"):i["\u0275\u0275pipeBind1"](18,11,"com.bmc.arsys.rx.client.common.cancel.label")," "))},directives:[m.NgIf,b.CdkDropList,h.AdaptAccordionComponent,x["\u0275NgNoValidate"],x.NgControlStatusGroup,x.NgForm,m.NgForOf,h.AdaptButtonComponent,b.CdkDrag,h.AdaptAccordionTabComponent,h.AdaptRxTextfieldComponent,v.RxNoWhitespaceValidator,x.RequiredValidator,x.NgControlStatus,x.NgModel,l.IconPickerFormControlComponent,l.RxDefinitionPickerComponent,l.SelectFormControlComponent,l.ExpressionFormControlComponent,d.ActionListControlComponent,b.CdkDragHandle,h.AdaptEmptyStateComponent],pipes:[u.TranslatePipe,m.AsyncPipe],styles:[Gn]});class Nu extends l.InspectorWidgetBase{constructor(e,t,n){super(e),this.injector=e,this.rxModalService=t,this.translateService=n,this.rowActions$=this.designerItemModel.rowActionButtonComponents$.pipe((0,r.map)(e=>e.map(e=>{const t=e.children.map(e=>(0,p.omit)(e,"type","children"));return Object.assign(Object.assign({},(0,p.pick)(e.data,["recordDefinitionName","recordInstance","fieldId","icon","disabled","hidden","label",c.RX_AVAILABLE_ON_DEVICES_PROP_NAME])),{guid:e.guid,actions:t})})),(0,r.shareReplay)(1))}openEditor(e,t){this.rowActions$.pipe((0,r.take)(1),(0,r.switchMap)(n=>(0,o.from)(this.rxModalService.openModal({content:ku,title:this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid-row-actions.modal.title"),size:c.OpenViewActionModalSize.Large,testID:"edit-row-actions",data:{expressionConfigurator:this.designerItemModel.expressionConfigurator,isReadOnly:this.isDisabled,rowActionIndex:e,rowActions:n,activeActionIndex:t}})))).subscribe({next:e=>this.designerItemModel.setRowActions(e),error:p.noop})}trackByForRowActions(e,t){return t.label}removeRowAction(e,t){this.rxModalService.confirm({title:this.translateService.instant("com.bmc.arsys.rx.client.common.warning.label"),modalStyle:C.RX_MODAL.modalStyles.warning,message:this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid-row-actions.row-action-delete.warning",{name:t[e].label})}).then(n=>{n&&(t.splice(e,1),this.designerItemModel.setRowActions(t))})}focus(e){this.openEditor(e.rowActionIndex,e.actionIndex)}}Nu.\u0275fac=function(e){return new(e||Nu)(i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](C.RxModalService),i["\u0275\u0275directiveInject"](u.TranslateService))},Nu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Nu,selectors:[["rx-record-grid-row-action-editor-widget"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:3,consts:[["btn-type","tertiary","rx-id","open-row-action-editor-modal-button",1,"p-0","pb-1",3,"click"],[1,"d-icon-plus_circle"],[4,"ngIf"],["rx-id","no-row-actions","class","text-tertiary",4,"ngIf"],["rx-id","row-actions-list","class","rx-selected-row-action",4,"ngFor","ngForOf","ngForTrackBy"],["rx-id","no-row-actions",1,"text-tertiary"],["rx-id","row-actions-list",1,"rx-selected-row-action"],[1,"rx-selected-row-action__header-container"],["rx-id","row-action",1,"rx-selected-row-action__header-title",3,"title"],["type","button","rx-id","edit-button",1,"rx-button-unstyled","d-icon-left-pencil","btn-link",3,"click"],["type","button","rx-id","remove-button",1,"rx-button-unstyled","d-icon-cross","btn-link",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"adapt-button",0),i["\u0275\u0275listener"]("click",function(){return t.openEditor()}),i["\u0275\u0275element"](1,"span",1),i["\u0275\u0275text"](2," Edit row actions\n"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,Zo,3,3,"div",2),i["\u0275\u0275pipe"](4,"async")),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](4,1,t.rowActions$)))},directives:[h.AdaptButtonComponent,m.NgIf,m.NgForOf],pipes:[m.AsyncPipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.rx-selected-row-action[_ngcontent-%COMP%]{margin-bottom:5px;border:1px solid #d6d7d8;border-radius:2px;padding:5px 10px;word-break:break-all;font-weight:var(--font-weight-bold)}.rx-selected-row-action__header-container[_ngcontent-%COMP%]{display:flex}.rx-selected-row-action__header-title[_ngcontent-%COMP%]{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;font-size:14px}.d-icon-cross[_ngcontent-%COMP%], .d-icon-left-pencil[_ngcontent-%COMP%]{cursor:pointer}.d-icon-cross[_ngcontent-%COMP%]:not(:hover), .d-icon-left-pencil[_ngcontent-%COMP%]:not(:hover){color:#313538}']});class ju extends l.ValueAccessor{constructor(e,t,n){super(),this.renderer=e,this.rxRecordGridUtilsService=t,this.rxStringService=n,this.ColumnSortDirection=jd,this.updateOptionsSubject=new o.BehaviorSubject(null),this.columnOptions$=this.updateOptionsSubject.pipe((0,r.switchMap)(()=>this.options.gridColumns&&this.options.recordDefinition?(0,o.forkJoin)(this.options.gridColumns.filter(e=>e.sortable).map(e=>this.rxStringService.isEmptySafe(e.title)?this.rxRecordGridUtilsService.getFieldDefinition(e.fieldId,this.options.recordDefinition).pipe((0,r.map)(t=>({id:e.fieldId,name:`[${t.name}]`}))):(0,o.of)({id:e.fieldId,name:e.title}))).pipe((0,r.defaultIfEmpty)([])):(0,o.of)([]))),this.selectedColumnOption=[]}get selectedSortDirection(){return this.value?this.value.direction:null}ngOnChanges(e){var t,n,i;!(null===(t=e.options)||void 0===t?void 0:t.previousValue)||(0,p.isEqual)(e.options.currentValue.gridColumns,e.options.previousValue.gridColumns)&&(null===(n=e.options.currentValue.recordDefinition)||void 0===n?void 0:n.name)===(null===(i=e.options.previousValue.recordDefinition)||void 0===i?void 0:i.name)||this.updateOptionsSubject.next()}onWriteValue(e){this.columnOptions$.pipe((0,r.take)(1)).subscribe(t=>{this.selectedColumnOption=e?[t.find(t=>t.id===e.fieldId)]:[]})}focus(){this.renderer.selectRootElement(this.adaptRxSelect.selectButtonRef.nativeElement,!0).focus()}onSelectModelChange(e){this.selectedColumnOption=e,this.value=(0,p.isEmpty)(e)?null:{fieldId:(0,p.head)(e).id,direction:jd.Asc}}setSortDirection(e){this.value=Object.assign(Object.assign({},this.value),{direction:e})}optionFormatter(e){return e.name}ngOnDestroy(){this.updateOptionsSubject.complete()}}ju.\u0275fac=function(e){return new(e||ju)(i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](Nd),i["\u0275\u0275directiveInject"](v.RxStringService))},ju.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ju,selectors:[["rx-record-grid-sort-editor-control"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](Ko,7),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.adaptRxSelect=e.first)}},inputs:{options:"options"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:x.NG_VALUE_ACCESSOR,useExisting:ju,multi:!0}]),i["\u0275\u0275InheritDefinitionFeature"],i["\u0275\u0275NgOnChangesFeature"]],decls:6,vars:8,consts:[[1,"form-group",3,"ngClass"],["class","form-control-label",4,"ngIf"],[1,"d-flex"],["class","pr-1 w-100",3,"options","required","disabled","ngModel","optionFormatter","emptyOption","ngModelChange",4,"ngIf"],["class","btn-group","data-toggle","buttons",4,"ngIf"],[1,"form-control-label"],[1,"pr-1","w-100",3,"options","required","disabled","ngModel","optionFormatter","emptyOption","ngModelChange"],["adaptRxSelect",""],["data-toggle","buttons",1,"btn-group"],["adapt-button","","btn-type","secondary","type","button",1,"pl-2","pr-2","d-icon-arrow_up",3,"click"],["adapt-button","","btn-type","secondary","type","button",1,"pl-2","pr-2","d-icon-arrow_down",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,Jo,2,1,"label",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275template"](3,er,2,6,"adapt-rx-select",3),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275template"](5,tr,3,4,"div",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](6,nr,t.options.required)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.options.label),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](4,4,t.columnOptions$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.selectedColumnOption.length))},directives:[m.NgClass,m.NgIf,h.AdaptRxSelectComponent,x.RequiredValidator,x.NgControlStatus,x.NgModel,h.AdaptButtonComponent],pipes:[m.AsyncPipe],encapsulation:2}),function(e){e.Record="record",e.Association="association"}(iu||(iu={}));class Lu extends C.RxModalClass{constructor(e,t){super(e,t),this.activeModalRef=e,this.injector=t,this.params=this.activeModalRef.getData(),this.presetColumns=this.params.presetColumns.map((e,t)=>{const n=this.params.gridColumns.find(t=>t.fieldId===e.data.fieldId);return Object.assign(Object.assign({},(0,p.cloneDeep)(e)),{isOpen:0===t,title:n.title,fallbackTitle:n.fallbackTitle})}),this.isReadOnly=this.params.isReadOnly,this.columnWidthPropertyOptions=kd.columnProperties.find(({name:e})=>"width"===e).options,this.presetColumns.sort((e,t)=>e.data.index-t.data.index)}expandAllColumns(e){e.stopPropagation(),this.presetColumns.forEach(e=>e.isOpen=!0)}collapseAllColumns(e){e.stopPropagation(),this.presetColumns.forEach(e=>e.isOpen=!1)}saveChanges(){this.activeModalRef.close({presetColumns:this.presetColumns.map(e=>(0,p.omit)(e,["isOpen","title"]))})}cancel(){this.activeModalRef.dismiss(h.DismissReasons.CLOSE_BTN)}moveColumn(e,t){this.markAsDirty(),(0,b.moveItemInArray)(this.presetColumns,e,t),this.updateColumnIndexes()}onDropInSelectedColumnsContainer(e){this.moveColumn(e.previousIndex,e.currentIndex)}trackByGuid(e,t){return t.guid}updateColumnIndexes(){this.presetColumns.forEach((e,t)=>{e.data.index=t})}}Lu.\u0275fac=function(e){return new(e||Lu)(i["\u0275\u0275directiveInject"](h.ActiveModalRef),i["\u0275\u0275directiveInject"](i.Injector))},Lu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Lu,selectors:[["rx-record-grid-view-preset-columns-modal"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:20,vars:16,consts:[[1,"designer-modal-body","modal-body","d-flex","mh-100"],[1,"row","flex-grow-1","w-100"],[1,"d-flex","flex-column","mh-100","col"],[1,"d-flex","justify-content-end"],[1,"btn-group"],["adapt-button","","btn-type","tertiary","type","button","rx-id","expand-all-button",3,"click"],["adapt-button","","btn-type","tertiary","type","button","rx-id","collapse-all-button",3,"click"],["cdkDropList","",1,"designer-modal-accordion-wrapper",3,"cdkDropListData","cdkDropListDropped"],[3,"multiselect"],["class","designer-modal-accordion-content","cdkDrag","","cdkDragLockAxis","y",3,"cdkDragDisabled","cdkDragData",4,"ngFor","ngForOf","ngForTrackBy"],[1,"modal-footer"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click",4,"ngIf"],["adapt-button","","btn-type","secondary","type","button","rx-id","cancel-button",3,"click"],["cdkDrag","","cdkDragLockAxis","y",1,"designer-modal-accordion-content",3,"cdkDragDisabled","cdkDragData"],["class","designer-modal-drag-handle d-icon-left-dots","cdkDragHandle","",4,"ngIf"],[1,"d-block",3,"isOpen","open","close"],[1,"card-title-text","w-100"],[1,"designer-modal-card-title-content"],[1,"left-header-block"],[1,"rx-ellipsis",3,"title"],["class","designer-modal-card-sub-title ml-2",3,"title",4,"ngIf"],["class","right-header-block",4,"ngIf"],["label","Column header",3,"disabled","ngModel","ngModelChange"],["label","Visible",3,"ngModel","disabled","ngModelChange"],[1,"d-block","col-5","p-0",3,"options","ngModel","ngModelChange"],["cdkDragHandle","",1,"designer-modal-drag-handle","d-icon-left-dots"],[1,"designer-modal-card-sub-title","ml-2",3,"title"],[1,"right-header-block"],[1,"designer-modal-card-title-index-buttons"],["type","button","rx-id","move-down-button",1,"d-icon-left-triangle_down","rx-button-unstyled",3,"disabled","click"],["type","button","rx-id","move-up-button",1,"d-icon-left-triangle_up","rx-button-unstyled",3,"disabled","click"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"div",4),i["\u0275\u0275elementStart"](5,"button",5),i["\u0275\u0275listener"]("click",function(e){return t.expandAllColumns(e)}),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"button",6),i["\u0275\u0275listener"]("click",function(e){return t.collapseAllColumns(e)}),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",7),i["\u0275\u0275listener"]("cdkDropListDropped",function(e){return t.onDropInSelectedColumnsContainer(e)}),i["\u0275\u0275elementStart"](12,"adapt-accordion",8),i["\u0275\u0275template"](13,sr,13,16,"div",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",10),i["\u0275\u0275template"](15,ar,3,4,"button",11),i["\u0275\u0275elementStart"](16,"button",12),i["\u0275\u0275listener"]("click",function(){return t.cancel()}),i["\u0275\u0275text"](17),i["\u0275\u0275pipe"](18,"translate"),i["\u0275\u0275pipe"](19,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](7,8,"com.bmc.arsys.rx.client.common.expand-all.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](10,10,"com.bmc.arsys.rx.client.common.collapse-all.label")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("cdkDropListData",t.presetColumns),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("multiselect",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.presetColumns)("ngForTrackBy",t.trackByGuid),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.isReadOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.isReadOnly?i["\u0275\u0275pipeBind1"](18,12,"com.bmc.arsys.rx.client.common.close.label"):i["\u0275\u0275pipeBind1"](19,14,"com.bmc.arsys.rx.client.common.cancel.label")," "))},directives:[h.AdaptButtonComponent,b.CdkDropList,h.AdaptAccordionComponent,m.NgForOf,m.NgIf,b.CdkDrag,h.AdaptAccordionTabComponent,h.AdaptRxTextfieldComponent,x.NgControlStatus,x.NgModel,h.AdaptRxCheckboxComponent,l.StepperWithUnitsFormControlComponent,b.CdkDragHandle],pipes:[u.TranslatePipe],styles:[Gn]});class Vu extends C.RxModalClass{constructor(e,t,n,i,s,a,l){super(e,t),this.activeModalRef=e,this.injector=t,this.rxModalService=n,this.rxRecordGridDesignUtilsService=i,this.rxRecordGridFilterSelectHelperService=s,this.rxRecordGridUtilsService=a,this.rxStringService=l,this.params=this.activeModalRef.getData(),this.presets=[],this.isReadOnly=this.params.isReadOnly,this.gridColumns$=this.params.gridColumns&&this.params.recordDefinition?(0,o.forkJoin)(this.params.gridColumns.map(e=>this.rxStringService.isEmptySafe(e.title)?this.rxRecordGridUtilsService.getFieldDefinition(e.fieldId,this.params.recordDefinition).pipe((0,r.map)(t=>Object.assign(Object.assign({},e),{fallbackTitle:`[${t.name}]`}))):(0,o.of)(Object.assign(Object.assign({},e),{fallbackTitle:`[${e.title}]`})))).pipe((0,r.defaultIfEmpty)([])):(0,o.of)([])}ngOnInit(){super.ngOnInit(),this.gridColumns$.pipe((0,r.take)(1)).subscribe(e=>{this.namedFilterOptions=this.rxRecordGridFilterSelectHelperService.getNamedFilterOptionsFromColumns(e),this.presets=this.params.presetsList.map(({guid:t,name:n},i)=>{const o=this.params.viewPresets.find(({data:e})=>e.viewPresetGuid===t),r=e.filter(e=>e.filterable).map(e=>e.fieldId),s=o.data.viewPresetGuid,a=(0,p.cloneDeep)(o.children.filter(e=>e.type===kd.components.columnViewPreset)),l=a.find(e=>(0,p.isObject)(e.data.sortable)),c=l?{fieldId:l.data.fieldId,direction:l.data.sortable.direction}:null;return{presetName:n,gridColumns:e,presetColumns:a,guid:s,tags:this.getTags(a,e),isOpen:this.params.activePreset?this.params.activePreset===s:0===i,sortModel:c,filters:{basicFilters:this.rxRecordGridDesignUtilsService.getBasicRecordGridFiltersFromChildData(o.children),filtersJson:o.data.filters},filterSelectControlOptions:{primaryRecordDefinition:Object.assign(Object.assign({},this.params.recordDefinition),{fieldDefinitions:this.params.recordDefinition.fieldDefinitions.filter(e=>r.includes(String(e.id)))}),selectedFieldIds:e.map(e=>e.fieldId),namedFilterOptions:this.namedFilterOptions},sortEditorControlOptions:{label:"Initial column sort",gridColumns:(0,p.sortBy)(e,"title"),recordDefinition:this.params.recordDefinition}}})})}saveChanges(){this.activeModalRef.close({presets:this.presets})}cancel(){this.activeModalRef.dismiss(h.DismissReasons.CLOSE_BTN)}expandAll(e){e.stopPropagation(),this.presets.forEach(e=>e.isOpen=!0)}collapseAll(e){e.stopPropagation(),this.presets.forEach(e=>e.isOpen=!1)}openPresetColumnsModal(e){this.rxModalService.openModal({title:`Edit grid columns for ${e.presetName}`,content:Lu,size:c.OpenViewActionModalSize.Large,data:{gridColumns:e.gridColumns,presetColumns:e.presetColumns,isReadOnly:this.isReadOnly},testID:"edit-grid-columns-for-view-preset"}).then(t=>{(null==t?void 0:t.presetColumns)&&(e.presetColumns=t.presetColumns,e.tags=this.getTags(e.presetColumns,e.gridColumns),this.markAsDirty())}).catch(p.noop)}trackByPreset(e,t){return t.guid}getTags(e,t){const n=e.filter(e=>e.data.visible).map(e=>{const n=t.find(t=>t.fieldId===e.data.fieldId);return n.title||n.fallbackTitle}),i=n.slice(0,5);return{items:i,restCount:n.length-i.length}}onSortChange(e,t){t.presetColumns.forEach(t=>{t.data.sortable=t.data.fieldId===(null==e?void 0:e.fieldId)?(0,p.pick)(e,"direction"):null}),this.markAsDirty()}}Vu.\u0275fac=function(e){return new(e||Vu)(i["\u0275\u0275directiveInject"](h.ActiveModalRef),i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](C.RxModalService),i["\u0275\u0275directiveInject"](Gu),i["\u0275\u0275directiveInject"](Ou),i["\u0275\u0275directiveInject"](Nd),i["\u0275\u0275directiveInject"](v.RxStringService))},Vu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Vu,selectors:[["rx-record-grid-edit-view-presets-modal"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:20,vars:15,consts:[[1,"designer-modal-body","modal-body","d-flex","mh-100"],[1,"row","flex-grow-1","w-100"],[1,"d-flex","flex-column","mh-100","col"],[1,"d-flex","justify-content-end"],[1,"btn-group"],["adapt-button","","btn-type","tertiary","type","button","rx-id","expand-all-button",3,"click"],["adapt-button","","btn-type","tertiary","type","button","rx-id","collapse-all-button",3,"click"],[1,"designer-modal-accordion-wrapper"],[3,"multiselect"],["class","designer-modal-accordion-content",4,"ngFor","ngForOf","ngForTrackBy"],[1,"modal-footer"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click",4,"ngIf"],["adapt-button","","btn-type","secondary","type","button","rx-id","cancel-button",3,"click"],[1,"designer-modal-accordion-content"],[1,"d-block",3,"isOpen","open","close"],[1,"card-title-text","w-100"],[1,"designer-modal-card-title-content"],[1,"left-header-block","pl-0"],["rx-id","card-title",1,"rx-ellipsis",3,"title"],["btn-type","tertiary","rx-id","open-grid-preset-columns-modal-button",1,"p-0","pb-1",3,"click"],[1,"d-icon-plus_circle"],[1,"mb-3"],["type","active",4,"ngFor","ngForOf"],["class","btn-link rx-button-unstyled ml-1","type","button",3,"click",4,"ngIf"],[1,"d-block","w-50",3,"options","disabled","ngModel","ngModelChange"],[3,"options","disabled","ngModel","ngModelChange"],["type","active"],["type","button",1,"btn-link","rx-button-unstyled","ml-1",3,"click"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"div",4),i["\u0275\u0275elementStart"](5,"button",5),i["\u0275\u0275listener"]("click",function(e){return t.expandAll(e)}),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"button",6),i["\u0275\u0275listener"]("click",function(e){return t.collapseAll(e)}),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",7),i["\u0275\u0275elementStart"](12,"adapt-accordion",8),i["\u0275\u0275template"](13,dr,15,11,"div",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",10),i["\u0275\u0275template"](15,ur,3,4,"button",11),i["\u0275\u0275elementStart"](16,"button",12),i["\u0275\u0275listener"]("click",function(){return t.cancel()}),i["\u0275\u0275text"](17),i["\u0275\u0275pipe"](18,"translate"),i["\u0275\u0275pipe"](19,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](7,7,"com.bmc.arsys.rx.client.common.expand-all.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](10,9,"com.bmc.arsys.rx.client.common.collapse-all.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("multiselect",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.presets)("ngForTrackBy",t.trackByPreset),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.isReadOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.isReadOnly?i["\u0275\u0275pipeBind1"](18,11,"com.bmc.arsys.rx.client.common.close.label"):i["\u0275\u0275pipeBind1"](19,13,"com.bmc.arsys.rx.client.common.cancel.label")," "))},directives:[h.AdaptButtonComponent,h.AdaptAccordionComponent,m.NgForOf,m.NgIf,h.AdaptAccordionTabComponent,ju,x.NgControlStatus,x.NgModel,xu,h.AdaptTagComponent],pipes:[u.TranslatePipe],styles:[Gn]});class Bu extends l.InspectorWidgetBase{constructor(e,t,n,i,s,a,l){super(e),this.injector=e,this.rxModalService=t,this.viewDesignerFacade=n,this.rxGuidService=i,this.rxRecordGridDesignUtilsService=s,this.rxRecordGridFilterHelperService=a,this.rxJsonParserService=l,this.currentPresetSelectorGuid$=new o.ReplaySubject(1),this.presetSelectors$=this.viewDesignerFacade.getComponentsByType(c.RxViewComponentType.ViewPresetSelector),this.presetSelectorOptions$=this.presetSelectors$.pipe((0,r.map)(e=>e.map(({guid:e,data:t})=>({id:e,name:t.name})))),this.destroyed$=new o.ReplaySubject(1),this.selectedPresetsList$=this.currentPresetSelectorGuid$.pipe((0,r.tap)(e=>this.updateViewPresetSelectorProp(e)),(0,r.switchMap)(e=>this.rxRecordGridDesignUtilsService.getPresetsList(e)),(0,r.shareReplay)({refCount:!0,bufferSize:1}),(0,r.takeUntil)(this.destroyed$)),this.viewPresetSelectorProp$=this.designerItemModel.sandbox.getComponentPropertyValue("viewPresetSelector"),this.gridColumnGuids$=this.designerItemModel.sandbox.getChildComponentGuids(e=>e.type===kd.components.column),this.selectOptions={options:[],emptyOption:!0,label:"View preset selector",beforeValueChange:(e,t)=>e&&e!==t?this.rxModalService.confirm({title:"Warning",modalStyle:C.RX_MODAL.modalStyles.warning,message:"All record grid view presets will be cleared. Do you want to continue?"}):Promise.resolve(!0)}}ngOnChanges(e){var t,n;(null===(t=e.options.currentValue.recordDefinition)||void 0===t?void 0:t.name)!==(null===(n=e.options.previousValue.recordDefinition)||void 0===n?void 0:n.name)&&(this.currentPresetSelectorGuid=null,this.currentPresetSelectorGuid$.next(null))}ngOnInit(){this.presetSelectorOptions$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.selectOptions.options=e}),this.viewPresetSelectorProp$.pipe((0,r.first)(),(0,r.map)(e=>this.designerItemModel.extractViewPresetSelectorGuid(e)),(0,r.withLatestFrom)(this.presetSelectorOptions$),(0,r.takeUntil)(this.destroyed$)).subscribe(([e,t])=>{var n;const i=null===(n=t.find(t=>t.id===e))||void 0===n?void 0:n.id;i&&(this.currentPresetSelectorGuid=i,this.currentPresetSelectorGuid$.next(this.currentPresetSelectorGuid))}),this.gridColumnGuids$.pipe((0,r.filter)(()=>!!this.currentPresetSelectorGuid),(0,r.switchMap)(e=>(0,o.combineLatest)(e.map(e=>(0,o.combineLatest)([this.designerItemModel.sandbox.getComponentPropertyValue("sortable",e),this.designerItemModel.sandbox.getComponentPropertyValue("filterable",e),this.viewDesignerFacade.getChildComponents(e,e=>e.type===kd.components.filterPreset)])))),(0,r.distinctUntilChanged)(p.isEqual),(0,r.debounceTime)(100),(0,r.switchMap)(()=>this.designerItemModel.columns$.pipe((0,r.first)())),(0,r.withLatestFrom)(this.designerItemModel.childComponentsTree$.pipe((0,r.map)(e=>(0,p.cloneDeep)(e)))),(0,r.skip)(1),(0,r.takeUntil)(this.destroyed$)).subscribe(([e,t])=>{this.updateColumnPresets(t,e)})}updateColumnPresets(e,t){const n=e.filter(e=>e.type===kd.components.viewPreset).map(e=>{const n=e.children.filter(e=>e.type===kd.components.columnViewPreset),i=this.getPresetFilterComponentsForColumns(e,t),o=t.map(e=>{const t=n.find(t=>t.data.fieldId===e.fieldId);if(t)return e.sortable||(t.data.sortable=null),t;{const t=this.rxRecordGridDesignUtilsService.getColumnPresetPayload(e);return t.data.visible=!1,t.data.index=null,t.data.width=null,t}}).map((e,t,n)=>(null===e.data.index&&(e.data.index=Math.max(...n.map(e=>e.data.index))+1),e));return e.children=[...o,...i],e});this.designerItemModel.sandbox.setChildrenByType(n,[kd.components.viewPreset])}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}getPresetFilterComponentsForColumns(e,t){const n=t.filter(e=>e.filterable).map(e=>e.fieldId),i=e.children.filter(e=>e.type!==kd.components.columnViewPreset),o=i.reduce((e,i)=>{var o,r,s;if(n.includes(i.data.fieldId)){const n=(null!==(r=null===(o=t.find(e=>e.fieldId===i.data.fieldId))||void 0===o?void 0:o.namedFilterOptions)&&void 0!==r?r:[]).map(e=>e.guid);let a=this.rxRecordGridDesignUtilsService.getBasicRecordGridFiltersFromChildData([i]);a=this.deserializeNamedOptions(a);const l=null===(s=a[0].value)||void 0===s?void 0:s[c.RecordGridNamedFilterOptionKey];l?n.includes(l)&&e.push(i):e.push(i)}return e},[]);if(i.length){if(o.length<i.length){const t=this.rxRecordGridDesignUtilsService.getBasicRecordGridFiltersFromChildData(o),n=this.rxRecordGridFilterHelperService.getRecordGridFilterDataFromPredefinedFilter(e.data.filters,t);e.data.filters=n?this.rxRecordGridFilterHelperService.denormalizeFilterString(JSON.stringify(n),t):null}return o}return i}deserializeNamedOptions(e){return e.map(e=>{const t=this.rxJsonParserService.tryParseJson(e.value);return t&&t[c.RecordGridNamedFilterOptionKey]?Object.assign(Object.assign({},e),{value:t}):e})}openEditor(e){(0,o.combineLatest)([this.designerItemModel.gridViewPresets$,this.selectedPresetsList$,this.designerItemModel.columns$,this.designerItemModel.recordDefinition$]).pipe((0,r.first)(),(0,r.takeUntil)(this.destroyed$)).subscribe(([t,n,i,o])=>{this.rxModalService.openModal({title:"Edit view presets",content:Vu,size:c.OpenViewActionModalSize.Large,data:{viewPresets:t,presetsList:n,gridColumns:i,recordDefinition:o,activePreset:null==e?void 0:e.guid,isReadOnly:this.isDisabled}}).then(e=>{this.onPresetModalClose(e)}).catch(p.noop)})}trackByGuid(e,t){return t.name}onPresetModalClose(e){e&&e.presets&&this.designerItemModel.childComponentsTree$.pipe((0,r.first)(),(0,r.map)(e=>(0,p.cloneDeep)(e)),(0,r.takeUntil)(this.destroyed$)).subscribe(t=>{e.presets.forEach(e=>{const n=t.find(t=>t.type===kd.components.viewPreset&&t.data.viewPresetGuid===e.guid);if(n){const t=e.presetColumns.map(e=>this.rxRecordGridDesignUtilsService.getColumnPresetPayload(e.data)),i=this.rxRecordGridDesignUtilsService.getGridFilterComponentPayloads(e.filters.basicFilters);n.data={viewPresetGuid:e.guid,filters:e.filters.filtersJson},n.children=[...t,...i]}}),this.designerItemModel.sandbox.setChildren(t)})}updateViewPresetSelectorProp(e){this.designerItemModel.sandbox.updateComponentProperties({viewPresetSelector:e?`\${view.components.${e}.api}`:null})}}Bu.\u0275fac=function(e){return new(e||Bu)(i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](C.RxModalService),i["\u0275\u0275directiveInject"](d.ViewDesignerFacade),i["\u0275\u0275directiveInject"](v.RxGuidService),i["\u0275\u0275directiveInject"](Gu),i["\u0275\u0275directiveInject"](au),i["\u0275\u0275directiveInject"](v.RxJsonParserService))},Bu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Bu,selectors:[["rx-record-grid-view-presets-widget"]],inputs:{options:"options"},features:[i["\u0275\u0275InheritDefinitionFeature"],i["\u0275\u0275NgOnChangesFeature"]],decls:3,vars:6,consts:[["rx-id","preset-selector",1,"d-block","mb-3",3,"options","ngModel","disabled","ngModelChange"],[3,"hidden",4,"ngIf"],[3,"hidden"],["btn-type","tertiary","rx-id","edit-view-presets-button","class","p-0 pb-1",3,"click",4,"ngIf"],["rx-id","no-presets","class","text-tertiary",4,"ngIf"],["rx-id","presets-list"],["class","border mb-1 pr-2 d-flex justify-content-between text-break",4,"ngFor","ngForOf","ngForTrackBy"],["btn-type","tertiary","rx-id","edit-view-presets-button",1,"p-0","pb-1",3,"click"],[1,"d-icon-left-plus_circle"],["rx-id","no-presets",1,"text-tertiary"],[1,"border","mb-1","pr-2","d-flex","justify-content-between","text-break"],["rx-id","preset-name",1,"preset-name",3,"title"],["type","button","rx-id","edit-button",1,"rx-button-unstyled","d-icon-pencil","btn-link",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"rx-select-form-control",0),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.currentPresetSelectorGuid=e})("ngModelChange",function(e){return t.currentPresetSelectorGuid$.next(e)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](1,fr,5,5,"div",1),i["\u0275\u0275pipe"](2,"async")),2&e&&(i["\u0275\u0275property"]("options",t.selectOptions)("ngModel",t.currentPresetSelectorGuid)("disabled",t.isDisabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](2,4,t.selectedPresetsList$)))},directives:[l.SelectFormControlComponent,x.NgControlStatus,x.NgModel,m.NgIf,m.NgForOf,h.AdaptButtonComponent],pipes:[m.AsyncPipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.preset-name[_ngcontent-%COMP%]{padding:5px 10px;font-size:14px}.d-icon-pencil[_ngcontent-%COMP%]{cursor:pointer}.d-icon-pencil[_ngcontent-%COMP%]:not(:hover){color:#313538}']});class Gu{constructor(e,t,n,i,o,r,s,a,l,c){this.rxGuidService=e,this.rxRecordGridConfigUtilsService=t,this.rxDefinitionNameService=n,this.rxFeatureService=i,this.rxModalService=o,this.rxRecordGridUtilsService=r,this.rxRecordGridFilterHelperService=s,this.translateService=a,this.viewDesignerFacade=l,this.rxJsonParserService=c}getColumnActionComponentPayloads(e){return(0,p.map)(e,e=>Object.assign(Object.assign({},e),{type:c.RxViewComponentType.Action}))}getNamedFilterOptionPayloads(e){return(0,p.map)(e,e=>Object.assign(Object.assign({},e),{type:kd.components.filterPreset}))}getGridFilterComponentPayloads(e){return(0,p.map)(e,e=>({guid:e.guid,type:kd.components.filter,data:Object.assign({fieldId:e.fieldId,value:e.value},e.$DISPLAYVALUE$&&{$DISPLAYVALUE$:e.$DISPLAYVALUE$})}))}getColumnComponentPayloads(e,t){return(0,p.map)(e,(e,n)=>{let i="false";(null==t?void 0:t.fieldId)===e.fieldId&&!1!==e.sortable?i=JSON.stringify({direction:t.direction}):((0,p.isObject)(e.sortable)||!0===e.sortable)&&(i="true");const o={alignment:e.alignment,fieldId:e.fieldId,filterable:e.filterable,filterType:e.filterType,index:String(e.index),sortable:i,title:e.title,searchable:e.searchable,visible:e.visible,cellDisplayProperties:e.cellDisplayProperties,width:e.width,wrapText:e.wrapText,typeaheadKeystrokeCount:e.typeaheadKeystrokeCount,additionalQueryCriteria:e.additionalQueryCriteria};return{type:kd.components.column,guid:e.guid,insertIndex:n,outletName:c.RX_VIEW_DEFINITION.defaultOutletName,data:o,children:[...this.getColumnActionComponentPayloads(e.actions),...this.getNamedFilterOptionPayloads(e.namedFilterOptions)]}})}getGridFilterPresetComponentPayloads(e,t){const n=t.reduce((e,t)=>e.concat(...t.namedFilterOptions.map(e=>e.guid)),[]),i=t.map(e=>e.fieldId);return(0,p.map)(e,e=>{const t=e.recordGridFilters.filter(e=>i.includes(e.fieldId)).filter(e=>{const t=(0,p.isObject)(e.value)?e.value:this.rxJsonParserService.tryParseJson(e.value);return!(null==t?void 0:t[c.RecordGridNamedFilterOptionKey])||n.includes(t[c.RecordGridNamedFilterOptionKey])}),o=this.rxRecordGridFilterHelperService.getRecordGridFilterDataFromPredefinedFilter(e.filters,t);return{guid:e.guid,type:kd.components.filterPreset,data:{title:e.title,filters:o?this.rxRecordGridFilterHelperService.denormalizeFilterString(JSON.stringify(o),t):null},children:(0,p.map)(t,e=>({guid:e.guid,type:kd.components.filter,data:Object.assign({fieldId:e.fieldId,value:e.value},e.$DISPLAYVALUE$&&{$DISPLAYVALUE$:e.$DISPLAYVALUE$})}))}})}getFilterPresetDescriptorsFromChildData(e){return(0,p.map)(e.filter(e=>e.type===kd.components.filterPreset),e=>({filters:e.data.filters,recordGridFilters:(0,p.map)((0,p.filter)(e.children,e=>e.type===kd.components.filter),e=>({fieldId:e.data.fieldId,value:e.data.value,guid:e.guid,$DISPLAYVALUE$:e.data.$DISPLAYVALUE$})),title:e.data.title,guid:e.guid})).filter(e=>{var t;return(null===(t=e.recordGridFilters)||void 0===t?void 0:t.length)>0})}getActionsFromComponent(e){return(0,p.map)((0,p.filter)(e.children,e=>e.type===c.RxViewComponentType.Action),e=>Object.assign(Object.assign({},e),{data:Object.assign({},e.data)}))}getNamedFilterOptionsFromComponent(e){return e.children.filter(e=>e.type===kd.components.filterPreset).map(e=>Object.assign(Object.assign({},e),{data:Object.assign({},e.data)}))}getDefaultColumns(e){let t=[];if(e){const n=e.fieldDefinitions,i=s.RX_RECORD_DEFINITION.coreFieldIds;t=[{title:(0,p.find)(n,e=>e.id===i.displayId).name,fieldId:String(i.displayId),searchable:!0}],e.resourceType===s.RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType&&(t.push({title:(0,p.find)(n,e=>e.id===i.modifiedDate).name,fieldId:String(i.modifiedDate),searchable:!1}),t.push({title:(0,p.find)(n,e=>e.id===i.description).name,fieldId:String(i.description),searchable:!0}));const o=(0,p.reduce)(kd.columnProperties,(e,t)=>(e[t.name]=t.defaultValue,e),{});(0,p.forEach)(t,(e,t)=>(0,p.defaults)(e,o,{index:t,guid:this.rxGuidService.generate()}))}return t}getInitialSortColumnModel(e){const t=(0,p.find)(e,e=>(0,p.isObject)(e.sortable));return t?{direction:t.sortable.direction,fieldId:t.fieldId}:null}getInspectorColumnsFromDesignData(e){return e.map(e=>{const t=e.data;return Object.assign(Object.assign({},(0,p.pick)(t,["alignment","fieldId","filterType","searchable","title","cellDisplayProperties","width","typeaheadKeystrokeCount","additionalQueryCriteria"])),{actions:this.getActionsFromComponent(e),namedFilterOptions:this.getNamedFilterOptionsFromComponent(e),guid:e.guid,filterable:this.rxRecordGridConfigUtilsService.getBooleanValue(t.filterable)||(0,p.isUndefined)(t.filterable),sortable:this.rxRecordGridConfigUtilsService.parseConfigString(t.sortable)||(0,p.isUndefined)(t.sortable),visible:this.rxRecordGridConfigUtilsService.getBooleanValue(t.visible)||(0,p.isUndefined)(t.visible),wrapText:this.rxRecordGridConfigUtilsService.getBooleanValue(t.wrapText),index:Number(t.index)})})}getComponentProperties(e){var t,n,i;return{bordered:null===(t=e.bordered)||void 0===t||t,expandable:e.expandable,name:e.name,recordDefinitionName:e.recordDefinitionName,showDataForAllLocales:e.showDataForAllLocales,associationDefinitionName:e.associationDefinitionName,associatedRecordNodeSide:e.associatedRecordNodeSide,associatedRecordId:e.associatedRecordId,associatedRoleName:e.associatedRoleName,filterExpression:e.filterExpression,filters:(0,p.isObject)(e.filters)?e.filters.filtersJson:e.filters,defaultFilterPreset:this.getDefaultFilterPreset(e),cardLayoutWidth:e.cardLayoutWidth,enableFiltering:e.enableFiltering,requiredFilters:null!==(n=e.requiredFilters)&&void 0!==n?n:0,getDataForHiddenColumns:null===(i=e.getDataForHiddenColumns)||void 0===i||i,enableFilterPresets:e.enableFilterPresets,enableRowSelection:e.enableRowSelection,styles:e.styles,striped:!!e.striped,viewPresetSelector:e.viewPresetSelector,[c.RX_AVAILABLE_ON_DEVICES_PROP_NAME]:e[c.RX_AVAILABLE_ON_DEVICES_PROP_NAME]}}getDefaultFilterPreset(e){return e.defaultFilterPreset&&e.filterPresets?e.filterPresets.some(t=>t.guid===e.defaultFilterPreset)?e.defaultFilterPreset:null:e.defaultFilterPreset&&!e.filterPresets?e.defaultFilterPreset:null}getComponentDesignProperties(e,t,n,i,o){const r=this.getInspectorColumnsFromDesignData(n);return e=Object.assign(Object.assign({},t),e),Object.assign(Object.assign({},e),{mode:e.associationDefinitionName?iu.Association:iu.Record,filters:{basicFilters:i,filtersJson:e.filters},filterMode:e.filterExpression?nu.Expression:nu.Basic,filterPresets:o,initialSortColumn:this.getInitialSortColumnModel(r),columns:r})}getActionButtonDescriptorsFromChildData(e){return e.filter(e=>e.type===c.RxViewComponentType.ActionButton)}getGridViewPresetsFromChildData(e){return e.filter(e=>e.type===kd.components.viewPreset)}getBasicRecordGridFiltersFromChildData(e){return(0,p.map)(e.filter(e=>e.type===kd.components.filter),e=>({fieldId:e.data.fieldId,value:e.data.value,guid:e.guid,$DISPLAYVALUE$:e.data.$DISPLAYVALUE$}))}getRowActionButtonPayloads(e){return e.map(e=>({type:c.RxViewComponentType.ActionButton,guid:e.guid,data:(0,p.omit)(e,"actions","guid"),outletName:kd.rowActionsOutletName,children:this.getColumnActionComponentPayloads(e.actions)}))}getInspector(e,t,n){const i=Boolean(e.recordDefinitionName&&t),o=[{name:"name",component:l.TextFormControlComponent,options:{label:"Name",tooltip:new a.Tooltip("Enter a name to uniquely identify the Record grid.")}},{name:"mode",component:l.GroupButtonFormControlComponent,options:{required:!1,label:"Mode",items:[{value:iu.Record,name:"Record"},{value:iu.Association,name:"Association"}]}},{name:"recordDefinitionName",component:l.RxDefinitionPickerComponent,options:{label:e.mode===iu.Association?"Record definition to show":"Record definition name",definitionType:e.mode===iu.Association?l.RxDefinitionPickerType.RegularDataRecord:l.RxDefinitionPickerType.Record,required:!0,beforeValueChange:(t,n)=>!(0,p.isEmpty)(e.columns)&&Boolean(t)?this.rxModalService.confirm({title:"Warning",modalStyle:C.RX_MODAL.modalStyles.warning,message:"Initial column sort, initial filters, and added grid columns will be cleared. Do you want to continue?"}):Promise.resolve(!0)}}],r=[{name:"cardLayoutWidth",component:l.SelectFormControlComponent,options:{label:"Card layout width",sortAlphabetically:!1,options:kd.cardLayoutWidthOptions,emptyOption:!0,tooltip:new a.Tooltip("The width of the Record grid view component at which it will switch to card layout.")}},{name:"initialSortColumn",component:ju,options:{label:"Initial column sort",gridColumns:(0,p.sortBy)(e.columns,"title"),recordDefinition:t}},{name:"enableRowSelection",component:l.OptionalSelectFormControlComponent,options:{label:"Enable row selection",options:[{id:kd.selectionTypes.multiple,name:"Multiple rows"},{id:kd.selectionTypes.single,name:"Single row"}]}},{name:"expandable",component:l.SwitchFormControlComponent,hidden:!this.rxFeatureService.isFeatureEnabled("DRD21-44922"),options:{label:"Enable grid width expansion",tooltip:new a.Tooltip("If enabled, the grid will expand in width to accommodate wider columns. If one or more columns extend beyond the right border of the grid, a horizontal scroll bar will appear.<br>Column width will be converted to pixels if grid width expansion mode is enabled.")}},{name:"bordered",component:l.SwitchFormControlComponent,options:{label:"Show border lines"}},{name:"striped",component:l.SwitchFormControlComponent,options:{label:"Show striped rows"}},{name:"showDataForAllLocales",component:l.SwitchFormControlComponent,options:{label:"Show data for all locales",tooltip:new a.Tooltip("If enabled, data for all locales will be displayed in the grid at runtime. If disabled, only data for current locale will be displayed.")}},(0,d.getAvailableOnDevicesInspectorConfig)(),(0,d.getStylesFieldInspectorConfig)()];if(e.mode===iu.Association){i&&o.push({name:"associationDefinitionName",component:l.SelectFormControlComponent,options:{required:!0,label:"Association to use",options:(0,p.map)(n,e=>({id:e.name,name:this.rxDefinitionNameService.getDisplayName(e.name)})),emptyOption:!0}});const t=(0,p.find)(n,t=>t.name===e.associationDefinitionName);t&&t.nodeAId===t.nodeBId&&o.push({name:"associatedRecordNodeSide",component:l.SelectFormControlComponent,options:{required:!0,label:"Associated record node side",options:[{id:w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.value,name:t.nodeAName||w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.defaultName},{id:w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value,name:t.nodeBName||w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.defaultName}],emptyOption:!0}}),o.push({name:"associatedRecordId",component:l.ExpressionInspectorControlComponent,options:{label:"Associated record ID",isRequired:!0}}),t&&t.cardinality===w.RX_ASSOCIATION_DEFINITION.cardinality.manyToMany.value&&o.push({name:"associatedRoleName",component:l.ExpressionInspectorControlComponent,options:{label:"Associated role name"}})}i&&(o.push({name:"columns",component:eu,options:{recordDefinition:t}}),o.push({name:"getDataForHiddenColumns",component:l.SwitchFormControlComponent,options:{label:"Get data for hidden columns",tooltip:new a.Tooltip(this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.get-data-for-hidden-columns.tooltip"))}}),o.push({widgetName:"rowActions",component:Nu}));const s=[{name:"enableFiltering",component:l.SwitchFormControlComponent,options:{label:"Enable filtering"}},{name:"requiredFilters",component:l.SelectFormControlComponent,isDisabled:!e.enableFiltering,options:{label:"Required number of filters",sortAlphabetically:!1,options:kd.numberOfFiltersOptions,emptyOption:!1,tooltip:new a.Tooltip("Data will be displayed in the grid only if a) the number of applied filters is greater than or equal to the required number of filters, or b) a search is performed.")}}];i&&(s.push({name:"filterMode",component:l.GroupButtonFormControlComponent,options:{label:"Initial filters",items:[{name:"Basic",value:nu.Basic},{name:"Expression",value:nu.Expression}],tooltip:new a.Tooltip("Select the records that should be displayed on the deployed application UI. Application users can add filters in the deployed application."),beforeValueChange:(t,n)=>n===nu.Expression&&e.filters.filtersJson||n===nu.Basic&&e.filterExpression?this.rxModalService.confirm({title:"Change filter type",modalStyle:C.RX_MODAL.modalStyles.warning,message:"Current filter will be cleared. Do you want to continue?"}):Promise.resolve(!0)}}),e.filterMode===nu.Basic?s.push({name:"filters",component:xu,options:{primaryRecordDefinition:t}}):s.push({name:"filterExpression",component:l.ExpressionInspectorControlComponent,options:{label:"Initial filters",isLabelHidden:!0}}),s.push({name:"enableFilterPresets",component:l.SwitchFormControlComponent,isDisabled:!e.enableFiltering,options:{label:"Enable filter presets"}}),s.push({name:"filterPresets",component:Fu,options:{label:"Filter presets",tooltip:new a.Tooltip("Predefine sets of record grid filters users can apply."),primaryRecordDefinition:t,columns:e.columns.filter(e=>e.filterable)}})),(0,p.isEmpty)(e.filterPresets)||s.push({name:"defaultFilterPreset",component:l.SelectFormControlComponent,options:{label:"Default filter preset",tooltip:new a.Tooltip("Select a filter preset to be applied when a user opens this view for the first time."),options:(0,p.map)(e.filterPresets,e=>({id:e.guid,name:e.title})),emptyOption:!0}});return{inspectorSectionConfigs:[{label:"General",controls:o},{label:"Filters",controls:s},{label:"Presentation",controls:r},{label:"View presets",controls:[{component:Bu,options:{recordDefinition:t}}]}]}}getColumnDataDictionaryBranch(e,t,n,i,s,a){const l=(0,o.combineLatest)([i,s]).pipe((0,r.switchMap)(([t,n])=>n?this.getColumnsDataDictionaryBuilder(e,t,n).pipe((0,r.map)(t=>({label:this.rxDefinitionNameService.getDisplayName(n.name),expression:`\${view.components.${e}.api}`,children:[{label:"First selected row",expression:`\${view.components.${e}.firstSelectedRow}`,children:t("firstSelectedRow")},{label:"Is user allowed to delete records",expression:`\${view.components.${e}.isUserAllowedToDeleteRecords}`},{label:"Last action row",expression:`\${view.components.${e}.clickableRow}`,children:t("clickableRow")},{label:"Selected rows",expression:`\${view.components.${e}.selectedRows}`,children:t("fieldValuesByFieldId")},{label:"Selected row count",expression:`\${view.components.${e}.selectedRowCount}`},{label:"Total row count",expression:`\${view.components.${e}.totalRowCount}`},{label:"Query expression",expression:`\${view.components.${e}.queryExpression}`},{label:"Last refresh time",expression:`\${view.components.${e}.lastRefreshTime}`}]})),(0,r.take)(1)):(0,o.of)(null)));return(0,o.combineLatest)([n,l,a]).pipe((0,r.map)(([e,n,i])=>n?Object.assign(Object.assign({},n),{label:this.getComponentName(t,n.label,i,e)}):null))}getColumnsDataDictionaryBuilder(e,t,n){return(t.length?(0,o.forkJoin)(t.map(t=>this.rxRecordGridUtilsService.getFieldDefinition(t.data.fieldId,n).pipe((0,r.filter)(e=>!!e),(0,r.map)(n=>this.getColumnDataDictionaryBranchBuilder(e,t,n))))):(0,o.of)([])).pipe((0,r.map)(e=>t=>e.map(e=>e.call(this,t))))}getColumnDataDictionaryBranchBuilder(e,t,n){const i=n.resourceType===s.RX_RECORD_DEFINITION.resourceTypes.selection?(0,p.map)(n.optionNamesById,(n,i)=>({label:n,expression:`\${view.components.${e}.recordDefinition.fieldDefinitionsById[${t.data.fieldId}].optionsById[${i}].id}`})):void 0;return o=>{var r;return{label:(null===(r=t.data.title)||void 0===r?void 0:r.trim())||`[${n.name}]`,expression:`\${view.components.${e}.${o}.${t.data.fieldId}}`,autocompleteOptions:i,children:n.resourceType===s.RX_RECORD_DEFINITION.resourceTypes.selection?[{label:`${t.data.title} (Option name)`,expression:`\${view.components.${e}.${o}.selectionFieldOptionNamesById.${t.data.fieldId}}`},{label:"Options",children:i}]:null}}}getComponentName(e,t,n,i){const o=[t,n,i].filter(Boolean);return o.length?`${e} (${o.join(": ")})`:e}getGridViewPresetPayload(e,t){return{type:kd.components.viewPreset,guid:this.rxGuidService.generate(),data:{viewPresetGuid:e,filters:null},children:t.map(e=>this.getColumnPresetPayload(e))}}getColumnPresetPayload(e){return{type:kd.components.columnViewPreset,data:{fieldId:e.fieldId,index:e.index,visible:e.visible,sortable:(0,p.isObject)(e.sortable)?e.sortable:null,width:e.width}}}getPresetsList(e){return e?this.viewDesignerFacade.getChildComponents(e).pipe((0,r.map)(e=>e.sort((e,t)=>e.data.index-t.data.index)),(0,r.map)(e=>e.map(e=>({guid:e.guid,name:e.data.label}))),(0,r.debounceTime)(50)):(0,o.of)([])}}Gu.\u0275fac=function(e){return new(e||Gu)(i["\u0275\u0275inject"](v.RxGuidService),i["\u0275\u0275inject"](Gd),i["\u0275\u0275inject"](a.RxDefinitionNameService),i["\u0275\u0275inject"](a.RxFeatureService),i["\u0275\u0275inject"](C.RxModalService),i["\u0275\u0275inject"](Nd),i["\u0275\u0275inject"](au),i["\u0275\u0275inject"](u.TranslateService),i["\u0275\u0275inject"](d.ViewDesignerFacade),i["\u0275\u0275inject"](v.RxJsonParserService))},Gu.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Gu,factory:Gu.\u0275fac,providedIn:"root"});class zu extends d.ViewDesignerComponentModel{constructor(){super(...arguments),this.rxRecordDefinitionCacheService=this.injector.get(s.RxRecordDefinitionCacheService),this.rxViewActionValidatorService=this.injector.get(d.RxViewActionValidatorService),this.rxRecordGridDesignUtilsService=this.injector.get(Gu),this.rxGuidService=this.injector.get(v.RxGuidService),this.rxDefinitionNameService=this.injector.get(a.RxDefinitionNameService),this.preservedRecordDefinition=null,this.preservedRecordAssociationDefinitions=[],this.currentGridDesignProperties=null,this.componentPropertiesChangeFromCanvas$=new o.Subject,this.columns$=this.sandbox.getComponentPropertyValue("columns"),this.enableFiltering$=this.sandbox.getComponentPropertyValue("enableFiltering"),this.recordDefinitionName$=this.sandbox.getComponentPropertyValue("recordDefinitionName"),this.associationDefinitionName$=this.sandbox.getComponentPropertyValue("associationDefinitionName"),this.associatedRecordNodeSide$=this.sandbox.getComponentPropertyValue("associatedRecordNodeSide"),this.childComponentsTree$=this.sandbox.getChildComponentsTree(),this.viewPresetSelectors$=this.sandbox.getComponentsByType(c.RxViewComponentType.ViewPresetSelector),this.gridViewPresets$=this.childComponentsTree$.pipe((0,r.map)(e=>this.rxRecordGridDesignUtilsService.getGridViewPresetsFromChildData(e))),this.viewPresetSelectorGuid$=this.sandbox.getComponentPropertyValue("viewPresetSelector").pipe((0,r.map)(e=>this.extractViewPresetSelectorGuid(e)),(0,r.shareReplay)({refCount:!0,bufferSize:1})),this.selectedPresetsList$=this.viewPresetSelectorGuid$.pipe((0,r.switchMap)(e=>this.rxRecordGridDesignUtilsService.getPresetsList(e)),(0,r.distinctUntilChanged)(p.isEqual),(0,r.takeUntil)(this.sandbox.destroyed$)),this.rowActionButtonGuids$=this.sandbox.getLayout(this.sandbox.guid).pipe((0,r.filter)(Boolean),(0,r.map)(e=>{const t=(0,p.find)(e.outlets,{name:kd.rowActionsOutletName});return(0,p.head)(t.columns).children}),(0,r.shareReplay)(1))}static getInitialProperties(e){return Object.assign(Object.assign({},c.RX_AVAILABLE_ON_DEVICES_DEFAULT_VALUE),e)}rxInit(){const e=Object.assign({bordered:!0,expandable:!1,name:null,mode:iu.Record,recordDefinitionName:null,showDataForAllLocales:!1,associationDefinitionName:null,associatedRecordId:null,associatedRoleName:null,enableRowSelection:kd.selectionTypes.multiple,styles:null,cardLayoutWidth:null,enableFiltering:!0,getDataForHiddenColumns:!0,requiredFilters:0,enableFilterPresets:!0,defaultFilterPreset:null,initialSortColumn:null,columns:[],filterMode:nu.Basic,filters:{basicFilters:[],filtersJson:null},filterExpression:null,filterPresets:[],striped:!1},c.RX_AVAILABLE_ON_DEVICES_DEFAULT_VALUE);this.recordDefinition$=this.recordDefinitionName$.pipe((0,r.switchMap)(e=>this.getRecordDefinition(e)),(0,r.shareReplay)(1)),this.recordAssociationDefinitions$=this.recordDefinitionName$.pipe((0,r.mergeMap)(e=>this.getRecordAssociationDefinitions(e)),(0,r.shareReplay)(1));const t=this.childComponentsTree$.pipe((0,r.map)(e=>e.filter(e=>e.type===kd.components.column)),(0,r.distinctUntilChanged)(p.isEqual)),n=this.childComponentsTree$.pipe((0,r.map)(e=>this.rxRecordGridDesignUtilsService.getBasicRecordGridFiltersFromChildData(e)),(0,r.distinctUntilChanged)(p.isEqual)),i=this.childComponentsTree$.pipe((0,r.map)(e=>this.rxRecordGridDesignUtilsService.getFilterPresetDescriptorsFromChildData(e)),(0,r.distinctUntilChanged)(p.isEqual));this.actionButtonComponents$=this.childComponentsTree$.pipe((0,r.withLatestFrom)(this.rowActionButtonGuids$),(0,r.map)(([e,t])=>this.rxRecordGridDesignUtilsService.getActionButtonDescriptorsFromChildData(e).filter(e=>!(0,p.includes)(t,e.guid)))),this.rowActionButtonComponents$=this.childComponentsTree$.pipe((0,r.withLatestFrom)(this.rowActionButtonGuids$),(0,r.map)(([e,t])=>this.rxRecordGridDesignUtilsService.getActionButtonDescriptorsFromChildData(e).filter(e=>(0,p.includes)(t,e.guid)))),this.viewPresetSelectors$.pipe((0,r.map)(e=>e.map(e=>e.guid).sort()),(0,r.distinctUntilChanged)(p.isEqual),(0,r.withLatestFrom)(this.viewPresetSelectorGuid$),(0,r.filter)(([e,t])=>t&&!e.includes(t)),(0,r.switchMap)(()=>this.childComponentsTree$.pipe((0,r.take)(1))),(0,r.map)(e=>e.filter(e=>e.type!==kd.components.viewPreset)),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>{this.sandbox.setChildren(e),this.sandbox.updateComponentProperties({viewPresetSelector:null})}),this.sandbox.viewModelsInitialized$.pipe((0,r.withLatestFrom)(this.rowActionButtonComponents$),(0,r.map)(([e,t])=>t),(0,r.filter)(e=>!!e.length)).subscribe(e=>{e.forEach(e=>{this.sandbox.getComponentModel(e.guid).setValidationIssues([])})}),(0,o.merge)(this.sandbox.componentProperties$.pipe((0,r.skip)(1)),this.componentPropertiesChangeFromCanvas$).pipe((0,r.distinctUntilChanged)((e,t)=>(0,p.isEqual)(this.currentGridDesignProperties,t)),(0,r.mergeMap)(e=>{const t=this.currentGridDesignProperties;return t.recordDefinitionName!==e.recordDefinitionName?(0,o.zip)(this.getRecordDefinition(e.recordDefinitionName),this.getRecordAssociationDefinitions(e.recordDefinitionName)).pipe((0,r.map)(()=>[t,e])):(0,o.of)([t,e])}),(0,r.withLatestFrom)(this.actionButtonComponents$,this.rowActionButtonComponents$,this.gridViewPresets$),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([[e,t],n,i,o])=>{const r=this.preservedRecordDefinition,s=this.preservedRecordAssociationDefinitions;let a;if(t.enableFiltering?!e.enableFiltering&&t.enableFiltering&&(a={enableFilterPresets:!0}):a={enableFilterPresets:!1},e.recordDefinitionName!==t.recordDefinitionName)if(a={filterPresets:[],filters:{basicFilters:[],filtersJson:null},initialSortColumn:null,associationDefinitionName:null,filterExpression:null},r){const e=this.rxRecordGridDesignUtilsService.getDefaultColumns(r),t=this.rxRecordGridDesignUtilsService.getColumnComponentPayloads(e,null);t.push(...n),this.sandbox.setChildren(t),a.columns=e}else this.sandbox.setChildren(n),a.columns=[];else{const r=(0,p.pick)(t,"columns","initialSortColumn","filters","filterPresets"),s=(0,p.pick)(e,"columns","initialSortColumn","filters","filterPresets");if(!(0,p.isEqual)(s,r)){const e=this.rxRecordGridDesignUtilsService.getColumnComponentPayloads(r.columns,r.initialSortColumn),t=this.rxRecordGridDesignUtilsService.getInspectorColumnsFromDesignData(e);e.push(...this.rxRecordGridDesignUtilsService.getGridFilterComponentPayloads(r.filters.basicFilters||[]));const s=this.rxRecordGridDesignUtilsService.getGridFilterPresetComponentPayloads(r.filterPresets,t.filter(e=>e.filterable));e.push(...s),r.filterPresets=this.rxRecordGridDesignUtilsService.getFilterPresetDescriptorsFromChildData(s),e.push(...n,...i,...o),this.sandbox.setChildren(e),a={columns:t,initialSortColumn:this.rxRecordGridDesignUtilsService.getInitialSortColumnModel(t),filterPresets:r.filterPresets}}}e.filterMode!==t.filterMode&&(a=t.filterMode===nu.Basic?{filterExpression:null}:{filters:{basicFilters:[],filtersJson:null}}),e.associationDefinitionName!==t.associationDefinitionName&&(a=Object.assign(Object.assign({},a||{}),{associatedRecordNodeSide:this.getAssociatedRecordNodeSide(t,s)})),e.mode!==t.mode&&(a={associationDefinitionName:null,associatedRecordId:null,associatedRoleName:null,associatedRecordNodeSide:null}),t=Object.assign(Object.assign({},t),a),e.enableFiltering&&!t.enableFiltering&&(a=Object.assign(Object.assign({},a),{requiredFilters:0})),this.updateComponentPropertiesAndConfig(t,a,r,s)}),(0,o.combineLatest)([this.recordDefinitionName$.pipe((0,r.map)(e=>e?null:this.sandbox.createError("Record definition name cannot be blank.","recordDefinitionName"))),t.pipe((0,r.switchMap)(e=>this.validateColumns(e))),this.sandbox.getComponentPropertyValue("styles").pipe((0,r.map)(d.validateCssClassNames)),this.sandbox.getComponentPropertyValue("mode").pipe((0,r.switchMap)(e=>e===iu.Association?this.validateAssociationModeProps():this.actionButtonComponents$.pipe((0,r.switchMap)(e=>this.validateActionButtons(e))))),this.rowActionButtonComponents$.pipe((0,r.switchMap)(e=>this.validateRowActions(e))),this.sandbox.getComponentPropertyValue(c.RX_AVAILABLE_ON_DEVICES_PROP_NAME).pipe((0,r.map)(d.validateAvailableOnDevicesProp))]).pipe((0,r.map)(p.compact),(0,r.map)(p.flatten),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>{this.sandbox.setValidationIssues(e)}),(0,o.combineLatest)([this.sandbox.componentProperties$,this.recordDefinition$,this.recordAssociationDefinitions$,t,n,i]).pipe((0,r.take)(1),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([t,n,i,o,r,s])=>{const a=this.rxRecordGridDesignUtilsService.getComponentDesignProperties(t,e,o,r,s);this.updateComponentPropertiesAndConfig(a,a,n,i)});const s=this.sandbox.getComponentPropertyValue("name").pipe((0,r.shareReplay)(1),(0,r.takeUntil)(this.sandbox.destroyed$)),a=this.associationDefinitionName$.pipe((0,r.map)(e=>this.rxDefinitionNameService.getDisplayName(e)),(0,r.shareReplay)(1),(0,r.takeUntil)(this.sandbox.destroyed$));this.rxRecordGridDesignUtilsService.getColumnDataDictionaryBranch(this.sandbox.guid,this.sandbox.descriptor.name,s,t,this.recordDefinition$,a).pipe((0,r.skipWhile)(p.isEmpty),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>{this.sandbox.setCommonDataDictionary(e)}),(0,o.combineLatest)([this.recordDefinitionName$.pipe((0,r.map)(e=>this.rxDefinitionNameService.getDisplayName(e))),a,s]).pipe((0,r.map)(e=>this.rxRecordGridDesignUtilsService.getComponentName(this.sandbox.descriptor.name,...e)),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>{this.sandbox.setSettablePropertiesDataDictionary(e,[])}),this.selectedPresetsList$.pipe((0,r.skip)(1),(0,r.withLatestFrom)(this.childComponentsTree$,this.columns$),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([e,t,n])=>{this.updatePresetViewComponents(t,e,n)})}updatePresetViewComponents(e,t,n){const i=e.filter(e=>e.type===kd.components.viewPreset),o=t.map(({guid:e})=>{const t=i.find(t=>t.data.viewPresetGuid===e);return null!=t?t:this.rxRecordGridDesignUtilsService.getGridViewPresetPayload(e,n)});this.sandbox.setChildrenByType(o,[kd.components.viewPreset])}getAssociatedRecordNodeSide(e,t){const n=e.associationDefinitionName?t.find(({name:t})=>t===e.associationDefinitionName):null;return n?n.nodeAId===e.recordDefinitionName?w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeA.value:w.RX_ASSOCIATED_RECORD_NODE_SIDES.nodeB.value:null}actionButtonDropPredicate(e){return e.draggedViewComponentDescriptor.type===c.RxViewComponentType.ActionButton}getPropertiesByName(e){return this.rxRecordGridDesignUtilsService.getComponentProperties(e)}setRowActions(e){this.rowActionButtonGuids$.pipe((0,r.take)(1),(0,r.withLatestFrom)(this.childComponentsTree$)).subscribe(([t,n])=>{const i=n.filter(e=>!(0,p.includes)(t,e.guid));i.push(...this.rxRecordGridDesignUtilsService.getRowActionButtonPayloads(e)),this.sandbox.setChildren(i),this.toggleActionsColumn(e.length>0)})}extractViewPresetSelectorGuid(e){var t;const n=null==e?void 0:e.match(/^\${view\.components\.([0-9a-z-]+)\.api}$/);return null!==(t=n&&n[1])&&void 0!==t?t:null}toggleActionsColumn(e){this.sandbox.componentProperties$.pipe((0,r.take)(1)).subscribe(t=>{const n=(0,p.cloneDeep)(t.columns),i=(0,p.find)(n,{fieldId:kd.actionsColumnFieldDefinition.id});e&&!i?n.push({fieldId:kd.actionsColumnFieldDefinition.id,guid:this.rxGuidService.generate(),title:kd.actionsColumnFieldDefinition.name,visible:!0,index:n.length,filterable:!1,sortable:!1,searchable:!1}):e||((0,p.pull)(n,i),n.forEach((e,t)=>{e.index=t})),this.updateComponentPropertiesAndConfig(t,{columns:n},this.preservedRecordDefinition,this.preservedRecordAssociationDefinitions)})}updateComponentPropertiesAndConfig(e,t,n,i){this.currentGridDesignProperties=e,t&&this.sandbox.updateComponentProperties(t),this.sandbox.updateInspectorConfig(this.rxRecordGridDesignUtilsService.getInspector(e,n,i))}getRecordDefinition(e){return e?this.rxRecordDefinitionCacheService.getRecordDefinition(e).pipe((0,r.catchError)(e=>(0,o.of)(null)),(0,r.tap)(e=>this.preservedRecordDefinition=e)):(this.preservedRecordDefinition=null,(0,o.of)(null))}getRecordAssociationDefinitions(e){return e?this.rxRecordDefinitionCacheService.getRecordAssociationDefinitions(e).pipe((0,r.map)(t=>t[e]||[]),(0,r.catchError)(e=>(0,o.of)([])),(0,r.tap)(e=>this.preservedRecordAssociationDefinitions=e)):(this.preservedRecordAssociationDefinitions=[],(0,o.of)([]))}validateColumns(e){return e.length?this.validateColumnActions(e):(0,o.of)([this.sandbox.createError("Record grid must have at least one column.","columns")])}validateColumnActions(e){return(0,o.combineLatest)(e.map(e=>{const t=(0,p.filter)(e.children,{type:c.RxViewComponentType.Action});return this.rxViewActionValidatorService.validate(t,"columns").pipe((0,r.map)(t=>t.map(t=>Object.assign(Object.assign({},t),{data:Object.assign(Object.assign({},t.data),{columnGuid:e.guid})}))))})).pipe((0,r.map)(p.flatten))}validateRowActions(e){return e.length?(0,o.combineLatest)(e.map((e,t)=>this.rxViewActionValidatorService.validate(e.children,"rowActions").pipe((0,r.map)(e=>e.map(e=>Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{rowActionIndex:t})})))))).pipe((0,r.map)(p.flatten)):(0,o.of)([])}validateAssociationModeProps(){return(0,o.combineLatest)([(0,o.combineLatest)([this.associationDefinitionName$,this.associatedRecordNodeSide$]).pipe((0,r.map)(([e,t])=>e?t?null:this.sandbox.createError("Associated record node side cannot be blank.","associatedRecordNodeSide"):this.sandbox.createError("Association definition name cannot be blank.","associationDefinitionName"))),this.sandbox.getComponentPropertyValue("associatedRecordId").pipe((0,r.map)(e=>e?null:this.sandbox.createError("Associated record ID cannot be blank.","associatedRecordId")))]).pipe((0,r.map)(p.compact))}validateActionButtons(e){const t=(0,p.flatten)(e.map(e=>e.children)).filter(({data:e})=>"rxDeleteRecordsAction"===e.name&&e.recordDefinitionName);return t.length?(0,o.combineLatest)(t.map(({data:e})=>this.rxRecordDefinitionCacheService.getRecordDefinition(e.recordDefinitionName).pipe((0,r.map)(({resourceType:e})=>e===s.RX_RECORD_DEFINITION.recordDefinitionTypes.join.recordDefinitionType?this.sandbox.createWarning("You have configured a Record grid action to delete Join records. Please ensure that one or more processes or rules have been defined to perform the deletion of the selected Join record instances."):null)))).pipe((0,r.map)(p.compact)):(0,o.of)([])}}class $u{constructor(e,t){this.rxRecordGridConfigUtilsService=e,this.rxRecordGridUtilsService=t}ngOnInit(){this.adaptTableConfig$=this.model.columns$.pipe((0,r.map)(e=>{const t=(0,p.sortBy)(e,e=>e.index),n=t.find(e=>(0,p.isObject)(e.sortable));let i={field:null,order:null};if(n){const e=n.sortable;i={field:String(n.fieldId),order:this.rxRecordGridConfigUtilsService.getColumnSortOrder(e.direction)}}return{columns:t.map(e=>({field:e.fieldId,header:e.title,sortable:Boolean(e.sortable),hidden:!e.visible,testId:this.rxRecordGridUtilsService.getTestIdForGridColumn(e.fieldId)})),sortMeta:i,toolbarConfig:{counter:!1,quickFilter:!0,filter:!0,filterTemplate:this.filterTemplate,filterResults:!1,visibleColumnsMenu:!0,visibleColumnsMenuTemplate:this.visibleColumnsMenuTemplate,quickFilterTriggerable:!0}}}),(0,r.shareReplay)(1)),this.hasRecordDefinitionName$=this.model.recordDefinition$.pipe((0,r.map)(Boolean),(0,r.shareReplay)(1))}onSort(e){this.adaptTableConfig$.pipe((0,r.take)(1)).subscribe(t=>{if(!(0,p.isEqual)(e,t.sortMeta)){let t;const n=this.model.currentGridDesignProperties.columns.find(t=>t.fieldId===e.field);t=(0,p.isObject)(n.sortable)?n.sortable.direction===jd.Desc?null:{fieldId:n.fieldId,direction:jd.Desc}:{fieldId:n.fieldId,direction:jd.Asc},this.model.componentPropertiesChangeFromCanvas$.next(Object.assign(Object.assign({},this.model.currentGridDesignProperties),{initialSortColumn:t}))}})}onBeforeViewComponentDrop(e){e.draggedViewComponentDescriptor.type!==c.RxViewComponentType.ActionButton||e.draggedViewComponentGuid||(e.initialPropertiesByName=Object.assign(Object.assign({},e.initialPropertiesByName),{style:ha.Tertiary}))}}$u.\u0275fac=function(e){return new(e||$u)(i["\u0275\u0275directiveInject"](Gd),i["\u0275\u0275directiveInject"](Nd))},$u.\u0275cmp=i["\u0275\u0275defineComponent"]({type:$u,selectors:[["rx-record-grid-design"]],viewQuery:function(e,t){if(1&e&&(i["\u0275\u0275viewQuery"](gr,7),i["\u0275\u0275viewQuery"](vr,7)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.filterTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.visibleColumnsMenuTemplate=e.first)}},inputs:{model:"model",isReadOnly:"isReadOnly"},decls:10,vars:8,consts:[[1,"rx-record-grid-design"],["type","objects","label","Select a record definition and edit grid columns in the Properties panel.",4,"ngIf","ngIfElse"],["gridTemplate",""],["filterTemplate",""],["visibleColumnsMenuTemplate",""],["type","objects","label","Select a record definition and edit grid columns in the Properties panel."],[1,"rx-record-grid-design__action-buttons-canvas",3,"dropListOrientation","dropPredicate","beforeViewComponentDrop"],[1,"rx-record-grid-design__table",3,"columns","sortable","scrollable","scrollHeight","rowExpandMode","sortMode","toolbarConfig","filterable","sortField","sortOrder","bordered","totalRecords","hasEmptyState","dontEmitLazyLoadOnInputChange","onSort"],["adaptTable",""],[1,"rx-record-grid-design__toolbar-item","btn-link","d-icon-refresh","grid-toolbar-icon","mx-2","p-1"],["class","btn-link px-0 d-icon-left-filter d-icon-right-triangle_down",4,"ngIf"],[1,"btn-link","px-0","d-icon-left-filter","d-icon-right-triangle_down"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275template"](2,yr,1,0,"adapt-empty-state",1),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275template"](4,br,7,23,"ng-template",null,2,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,wr,3,3,"ng-template",null,3,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](8,Cr,0,0,"ng-template",null,4,i["\u0275\u0275templateRefExtractor"])),2&e){const e=i["\u0275\u0275reference"](5);i["\u0275\u0275classProp"]("border",!i["\u0275\u0275pipeBind1"](1,4,t.hasRecordDefinitionName$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!i["\u0275\u0275pipeBind1"](3,6,t.hasRecordDefinitionName$))("ngIfElse",e)}},directives:[m.NgIf,h.AdaptEmptyStateComponent,d.CanvasOutletComponent,R.AdaptTableComponent],pipes:[m.AsyncPipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.rx-record-grid-design__action-buttons-canvas[_ngcontent-%COMP%]     rx-canvas-item-container{min-width:100%}.rx-record-grid-design__action-buttons-canvas[_ngcontent-%COMP%]     .cdk-drop-list{background-color:#f0f1f1;border:1px solid #d6d7d8;border-bottom:0;min-height:48px;display:flex;flex-flow:row wrap}.rx-record-grid-design__action-buttons-canvas[_ngcontent-%COMP%]     .cdk-drop-list:empty:after{content:"Drop Action buttons here";display:block;text-align:center;width:100%;line-height:48px;color:#959899;font-size:.875rem}.rx-record-grid-design__toolbar-item[_ngcontent-%COMP%]{font-size:.9375rem}.rx-record-grid-design__table[_ngcontent-%COMP%]     .adapt-table-toolbar{pointer-events:none}'],changeDetection:0});class Uu{constructor(e,t){this.rxJsonParserService=e,this.rxViewDefinitionParserService=t}adaptDefinition(e){var t,n,i,o,r;const s=this.rxJsonParserService.tryParseJson(e.layout),a=(0,p.find)(s.outlets,{name:kd.rowActionsOutletName});e.propertiesByName.enableFilterPresets=null!==(t=e.propertiesByName.enableFilterPresets)&&void 0!==t?t:"true",a?(0,p.forEach)(null===(n=a.columns[0])||void 0===n?void 0:n.children,t=>{const n=(0,p.find)(e.componentDefinitions,{guid:t});(0,p.pull)(e.componentDefinitions,n).push(n)}):s.outlets.push(c.RxViewLayout.getOutlet(kd.rowActionsOutletName)),e.layout=JSON.stringify(s),Object.assign(e.propertiesByName,{expandable:null!==(i=e.propertiesByName.expandable)&&void 0!==i&&i,showDataForAllLocales:null!==(o=e.propertiesByName.showDataForAllLocales)&&void 0!==o&&o,requiredFilters:null!==(r=e.propertiesByName.requiredFilters)&&void 0!==r?r:"true"===e.propertiesByName.requireFiltering?1:0}),delete e.propertiesByName.requireFiltering,this.rxViewDefinitionParserService.getComponents(e).map(e=>e.componentDefinition).forEach(e=>{var t,n;e.type===kd.components.column&&Object.assign(e.propertiesByName,{wrapText:null!==(t=e.propertiesByName.wrapText)&&void 0!==t&&t,typeaheadKeystrokeCount:Number(null!==(n=e.propertiesByName.typeaheadKeystrokeCount)&&void 0!==n?n:kd.defaultTypeaheadKeystrokeCount)})})}}Uu.\u0275fac=function(e){return new(e||Uu)(i["\u0275\u0275inject"](v.RxJsonParserService),i["\u0275\u0275inject"](c.RxViewDefinitionParserService))},Uu.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Uu,factory:Uu.\u0275fac,providedIn:"root"});class Hu{}Hu.\u0275fac=function(e){return new(e||Hu)},Hu.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Hu,declarations:[ju],imports:[m.CommonModule,x.FormsModule,h.AdaptButtonModule,h.AdaptRxSelectModule],exports:[ju]}),Hu.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,x.FormsModule,h.AdaptButtonModule,h.AdaptRxSelectModule]]});class Xu{}Xu.\u0275fac=function(e){return new(e||Xu)},Xu.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Xu,declarations:[Lu],imports:[h.AdaptAccordionModule,h.AdaptButtonModule,h.AdaptRxCheckboxModule,h.AdaptRxTextfieldModule,m.CommonModule,b.DragDropModule,x.FormsModule,l.StepperWithUnitsFormControlModule,u.TranslateModule],exports:[Lu]}),Xu.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[h.AdaptAccordionModule,h.AdaptButtonModule,h.AdaptRxCheckboxModule,h.AdaptRxTextfieldModule,m.CommonModule,b.DragDropModule,x.FormsModule,l.StepperWithUnitsFormControlModule,u.TranslateModule]]});class Wu{}Wu.\u0275fac=function(e){return new(e||Wu)},Wu.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Wu,declarations:[Vu],imports:[h.AdaptAccordionModule,h.AdaptButtonModule,h.AdaptTagModule,m.CommonModule,x.FormsModule,Mu,Hu,Xu,u.TranslateModule],exports:[Vu]}),Wu.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[h.AdaptAccordionModule,h.AdaptButtonModule,h.AdaptTagModule,m.CommonModule,x.FormsModule,Mu,Hu,Xu,u.TranslateModule]]});class qu{}qu.\u0275fac=function(e){return new(e||qu)},qu.\u0275mod=i["\u0275\u0275defineNgModule"]({type:qu,declarations:[Bu],imports:[m.CommonModule,h.AdaptButtonModule,x.FormsModule,Wu,l.SelectFormControlModule],exports:[Bu]}),qu.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptButtonModule,x.FormsModule,Wu,l.SelectFormControlModule]]});class Yu{constructor(e,t){this.rxDefinitionAdapterRegistryService=e,this.rxRecordGridDesignAdapterService=t,this.rxDefinitionAdapterRegistryService.registerDesignAdapter(kd.type,this.rxRecordGridDesignAdapterService)}}Yu.\u0275fac=function(e){return new(e||Yu)(i["\u0275\u0275inject"](a.RxDefinitionAdapterRegistryService),i["\u0275\u0275inject"](Uu))},Yu.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Yu,declarations:[$u,eu,Jd,zd,Fu,Pu,Nu,ku,qd,Wd,Kd,Zd],imports:[m.CommonModule,x.FormsModule,x.ReactiveFormsModule,Hu,h.AdaptButtonModule,h.AdaptTooltipModule,h.AdaptAccordionModule,E.AdaptTextFieldModule,h.AdaptRxSearchModule,h.AdaptTreeModule,h.AdaptRxCheckboxModule,h.AdaptRxRadiobuttonModule,d.ActionListControlModule,l.GroupButtonFormControlModule,b.DragDropModule,l.ExpressionEditorModule,h.AdaptAdvancedFilteringModule,h.AdaptRxTextfieldModule,C.RxDirectivesModule,h.AdaptRxLabelModule,_u,d.ViewDesignerCanvasModule,R.AdaptTableModule,h.AdaptEmptyStateModule,a.RxDefinitionModule,h.AdaptRxSelectModule,l.RxDefinitionPickerModule,l.ExpressionFormControlModule,h.AdaptIconModule,u.TranslateModule,l.SelectFormControlModule,v.RxUniqueValidatorModule,h.AdaptRxSwitchModule,l.IconPickerFormControlModule,h.AdaptPopoverModule,Ru,qu,Mu,l.StepperWithUnitsFormControlModule,v.RxNoWhitespaceValidatorModule]}),Yu.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,x.FormsModule,x.ReactiveFormsModule,Hu,h.AdaptButtonModule,h.AdaptTooltipModule,h.AdaptAccordionModule,E.AdaptTextFieldModule,h.AdaptRxSearchModule,h.AdaptTreeModule,h.AdaptRxCheckboxModule,h.AdaptRxRadiobuttonModule,d.ActionListControlModule,l.GroupButtonFormControlModule,b.DragDropModule,l.ExpressionEditorModule,h.AdaptAdvancedFilteringModule,h.AdaptRxTextfieldModule,C.RxDirectivesModule,h.AdaptRxLabelModule,_u,d.ViewDesignerCanvasModule,R.AdaptTableModule,h.AdaptEmptyStateModule,a.RxDefinitionModule,h.AdaptRxSelectModule,l.RxDefinitionPickerModule,l.ExpressionFormControlModule,h.AdaptIconModule,u.TranslateModule,l.SelectFormControlModule,v.RxUniqueValidatorModule,h.AdaptRxSwitchModule,l.IconPickerFormControlModule,h.AdaptPopoverModule,Ru,qu,Mu,l.StepperWithUnitsFormControlModule,v.RxNoWhitespaceValidatorModule]]});class Qu extends f.BaseViewComponent{constructor(){super()}}Qu.\u0275fac=function(e){return new(e||Qu)},Qu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Qu,selectors:[["rx-page"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:0,template:function(e,t){1&e&&i["\u0275\u0275element"](0,"rx-runtime-view-canvas-outlet")},directives:[f.RuntimeViewCanvasOutletComponent],encapsulation:2});class Zu{constructor(e,t){this.context=e,this.translateService=t,this.alertConfig={content:this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.cards.filter-by-selection.dialog.info.message"),type:"section",dismissible:!1,variant:"info",icon:!0},this.options=this.context.getData().filterableFields}optionFormatter(e){return e.name}apply(){this.context.close(this.field[0].id)}}Zu.\u0275fac=function(e){return new(e||Zu)(i["\u0275\u0275directiveInject"](h.ActiveModalRef),i["\u0275\u0275directiveInject"](u.TranslateService))},Zu.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Zu,selectors:[["rx-filter-by-card-selection"]],decls:11,vars:16,consts:[[3,"config"],[1,"modal-body","pt-0"],[3,"label","options","ngModel","required","optionFormatter","popupClass","ngModelChange"],[1,"modal-footer"],["adapt-button","","type","button","btn-type","primary","rx-id","apply-button",3,"disabled","click"],["adapt-button","","type","button","btn-type","secondary","rx-id","cancel-button",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"adapt-alert",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"adapt-rx-select",2),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.field=e}),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",3),i["\u0275\u0275elementStart"](5,"button",4),i["\u0275\u0275listener"]("click",function(){return t.apply()}),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"button",5),i["\u0275\u0275listener"]("click",function(){return t.context.dismiss()}),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("config",t.alertConfig),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("label",i["\u0275\u0275pipeBind1"](3,10,"com.bmc.arsys.rx.client.view-components.record-grid.cards.filter-by-selection.dialog.field.label"))("options",t.options)("ngModel",t.field)("required",!0)("optionFormatter",t.optionFormatter)("popupClass","rx-filter-by-card-selection-field-dropdown"),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",!t.field),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](7,12,"com.bmc.arsys.rx.client.common.apply.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](10,14,"com.bmc.arsys.rx.client.common.cancel.label")," "))},directives:[h.AdaptAlertComponent,h.AdaptRxSelectComponent,x.NgControlStatus,x.NgModel,x.RequiredValidator,h.AdaptButtonComponent],pipes:[u.TranslatePipe],encapsulation:2});class Ku{constructor(e,t,n,i,o){this.rxGuidService=e,this.rxFieldDefinitionService=t,this.rxRecordGridConfigUtilsService=n,this.rxRecordGridUtilsService=i,this.translateService=o}getGridConfig(e){const t=(0,p.defaults)(this.rxRecordGridConfigUtilsService.configDeepClone(e),{associatedRecordId:null,associatedRoleName:null,enableColumnSelection:!0,enableFiltering:!0,expandable:!1,useExternalFiltering:!0,enableRowSelection:kd.selectionTypes.multiple,filterExpression:null,filters:kd.defaultFilter,filterTagsLimit:3,recordIdField:s.RX_RECORD_DEFINITION.coreFieldIds.id.toString(),emptyStateLabelText:this.translateService.instant("com.bmc.arsys.rx.client.empty-state.no-items-to-display.label"),emptyStateWithFilterLabelText:this.translateService.instant("com.bmc.arsys.rx.client.empty-state.no-items-to-display.label"),searchFieldPlaceholderText:this.translateService.instant("com.bmc.arsys.rx.client.common.search.label"),styles:""});return t.recordDefinitionName||(e.getRecordDefinition||(0,o.throwError)(new v.RxError("getRecordDefinition function must be defined if recordDefinitionName is not set.")),e.getData||(0,o.throwError)(new v.RxError("getData function must be defined if recordDefinitionName is not set."))),t.enableFiltering=Boolean(t.enableFiltering),t.cardLayoutWidth=parseFloat(t.cardLayoutWidth)||null,t}getColumnsWithMetadata(e,t,n){const i=this.rxRecordGridConfigUtilsService.columnsDeepClone(t);this.allowedOpenViewActionExpressionsForHrefRegex=new RegExp(`^\\$\\{view\\.components\\.${e}\\.(clickableRow|recordDefinition)\\.|^\\$\\{view\\.inputParams\\.`);const a=i.map(e=>this.rxRecordGridUtilsService.getFieldDefinition(e.fieldId,n).pipe((0,r.map)(t=>{var i;let o=t.resourceType?this.getFieldDefinitionResourceTypeShortName(t.resourceType):null;o===s.RX_RECORD_DEFINITION.dataTypes.attachment.shortName&&(o=s.RX_RECORD_DEFINITION.dataTypes.character.shortName);const r=this.rxRecordGridConfigUtilsService.getBooleanValue(e.filterable)||(0,p.isUndefined)(e.filterable),a=(0,p.has)(e,"searchable")?this.rxRecordGridConfigUtilsService.getBooleanValue(e.searchable):r&&this.rxRecordGridUtilsService.isSearchable(t,n);return Object.assign(Object.assign({},e),{clickable:this.rxRecordGridConfigUtilsService.getBooleanValue(e.clickable),filterable:r,sortable:this.rxRecordGridConfigUtilsService.parseConfigString(e.sortable)||(0,p.isUndefined)(e.sortable),visible:this.rxRecordGridConfigUtilsService.getBooleanValue(e.visible)||(0,p.isUndefined)(e.visible),searchable:a,fieldDefinition:t,filterType:o,clickableWithHref:this.isColumnClickableWithHref(e),title:null===(i=e.title)||void 0===i?void 0:i.trim(),fallbackTitle:`[${t.name}]`})})));return(0,o.forkJoin)(a)}getSelectionFieldOptionLabelsByFieldId(e,t){return(0,p.reduce)(e,(e,n)=>{const i=t.fieldDefinitionsById[n.fieldId];return i.resourceType===s.RX_RECORD_DEFINITION.dataTypes.selection.resourceType&&(e[n.fieldId]=i.optionLabelsById),e},{})}getFieldDefinitionResourceTypeShortName(e){return e.split(".").pop().replace(/fieldDefinition/i,"")}isColumnClickableWithHref(e){let t=!1;return this.rxRecordGridConfigUtilsService.getBooleanValue(e.clickable)&&(t=e.actions.every(e=>(e.name===c.RX_VIEW_ACTION.viewActionNames.launchUrl||e.name===c.RX_VIEW_ACTION.viewActionNames.openView&&e.presentation.launchBehavior===c.OpenViewActionLaunchBehavior.SameWindow&&e.presentation.type===c.OpenViewActionType.FullWidth&&this.canViewParamsBeEvaluatedForHref(e.viewParams))&&this.canExpressionBeEvaluatedForHref(e.$condition$))),t}canViewParamsBeEvaluatedForHref(e){return(0,p.every)(e,e=>this.canExpressionBeEvaluatedForHref(e))}canExpressionBeEvaluatedForHref(e){return(0,p.every)(null==e?void 0:e.match(/\$\{[^{]*\}/g),e=>this.allowedOpenViewActionExpressionsForHrefRegex.test(e))}}Ku.\u0275fac=function(e){return new(e||Ku)(i["\u0275\u0275inject"](v.RxGuidService),i["\u0275\u0275inject"](s.RxFieldDefinitionService),i["\u0275\u0275inject"](Gd),i["\u0275\u0275inject"](Nd),i["\u0275\u0275inject"](u.TranslateService))},Ku.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Ku,factory:Ku.\u0275fac,providedIn:"root"});class Ju{constructor(e){this.rxRecordInstanceDataPageService=e,this.cache={}}getSharedFilterPresets(e){if(!this.cache[e]){const t=this.getQueryParams(e);return this.rxRecordInstanceDataPageService.post({params:t}).pipe((0,r.map)(t=>this.cache[e]=(0,p.map)(t.data,e=>({id:e[s.RX_RECORD_DEFINITION.coreFieldIds.id],name:e[kd.sharedFilterPresets.fields.name],filters:[{filterOptionId:kd.externalPresetFilterOptionId,value:e[s.RX_RECORD_DEFINITION.coreFieldIds.id]}],isCreatedByOtherUsers:!0,filterExpression:e[kd.sharedFilterPresets.fields.filterExpression],isDefault:e[kd.sharedFilterPresets.fields.isDefault]}))))}return(0,o.of)(this.cache[e])}getQueryParams(e){const t=`('${kd.sharedFilterPresets.fields.recordGridGuid}'="${e}")`,n=[s.RX_RECORD_DEFINITION.coreFieldIds.id,kd.sharedFilterPresets.fields.name,kd.sharedFilterPresets.fields.filterExpression,kd.sharedFilterPresets.fields.isDefault].join(","),i=[kd.sharedFilterPresets.fields.sortOrder,kd.sharedFilterPresets.fields.name].join(",");return{pageSize:-1,startIndex:0,queryExpression:t,propertySelection:n,shouldIncludeTotalSize:!1,recorddefinition:kd.sharedFilterPresets.recordDefinitionName,sortBy:i}}}Ju.\u0275fac=function(e){return new(e||Ju)(i["\u0275\u0275inject"](s.RxRecordInstanceDataPageService))},Ju.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Ju,factory:Ju.\u0275fac});class ep{constructor(e,t,n,i,o){this.recordGridConfigUtilsService=e,this.rxUserPreferencesService=t,this.rxRecordGridFilterService=n,this.rxRecordGridFilterHelperService=i,this.rxObjectUtilsService=o,this.initialPreferences={columns:[],filterPresets:[],filters:null,visibleCardFieldIds:[],appliedExternalFilterPresetGuid:null,viewPresets:{}},this.preferences=Object.assign({},this.initialPreferences)}saveUserPreferences(e,t,n){t.cardLayoutColumns?this.preferences.visibleCardFieldIds=this.getVisibleCardFieldIds(t):this.preferences.columns=this.getColumnsPreferences(t),this.preferences.filterPresets=n.advancedFiltering.savedFilters.filter(e=>!e.isCreatedByOtherUsers).map(e=>this.getPreferencesFilterPresets(e,n.recordDefinition.fieldDefinitionsById,n.advancedFiltering.recordGridFilterConfigs));const i=this.rxRecordGridFilterService.getRecordGridFilterDataFromAdvancedFilter(n.advancedFiltering.selectedFilters,n.recordDefinition.fieldDefinitionsById,n.advancedFiltering.recordGridFilterConfigs);this.preferences.filters=i;const o=n.advancedFiltering.appliedSharedFilterPreset;if(this.preferences.appliedExternalFilterPresetGuid=o&&o.id,this.selectedViewPresetGuid){const e=this.preferences.viewPresets[this.selectedViewPresetGuid],n={viewPresetGuid:this.selectedViewPresetGuid,columns:this.getColumnsPreferences(t),filters:(0,p.isEmpty)(i)?null:i};(0,p.isEqual)(e.initial,n)?this.discardViewPresetChanges(this.selectedViewPresetGuid):e.edited=n}this.save(e,this.preferences)}get(e){return this.preferences=Object.assign({},this.initialPreferences),this.rxUserPreferencesService.getUiComponentPreferences(e).pipe((0,r.map)(e=>(0,p.assign)(this.preferences,e)))}getAppliedSharedFilterPresetGuid(){return this.preferences.appliedExternalFilterPresetGuid}applyUserPreferencesForColumns(e,t,n){this.reviseColumnPreferences(this.preferences.columns,e)&&this.save(n,this.preferences);let i=this.getColumnSortMeta(this.preferences.columns);this.sortColumnsConfigs(e.columns),this.setColumnsWidths(e.columns,this.preferences.columns,e.columnResizeMode),i=(0,p.filter)(i,t=>(0,p.some)(e.columns,e=>e.field===t.field)),this.preferences.columns.length&&(e.multiSortMeta=i),e.cardLayoutColumns?this.setCardFieldsVisibility(e.columns):this.setColumnsVisibility(e.columns,t)}reviseColumnPreferences(e,{columns:t}){let n=!1;if(e.length){const i=(0,p.map)(t,"field"),o=(0,p.remove)(e,({fieldId:e})=>!i.includes(e));let r=o.some(({sort:e})=>Boolean(e));const s=e.length,a=[];if(t.forEach((t,n)=>{var i;const o=(0,p.find)(e,{fieldId:t.field});o?(null!==(i=o.width)&&void 0!==i||(o.width=t.width),t.sortable?a.push(o):o.sort&&(r=!0)):e.splice(n,0,{fieldId:t.field,index:n,visible:!t.hidden,width:t.width})}),r){const t=this.getColumnSortMeta(a);this.updateColumnSortPreferences(e,t)}n=!(0,p.isEmpty)(o)||s<e.length||r}return n}applyUserPreferences(e,t,n,i){var s,a,l,c;let d;if(n.viewPresetSelector||this.applyUserPreferencesForColumns(e,t,n.guid),null==n?void 0:n.enableFiltering){let o=!1;this.preferences.filterPresets.forEach(e=>{var n,i,r,s;const a=null===(i=null===(n=e.filterData)||void 0===n?void 0:n.and)||void 0===i?void 0:i.length;e.filterData=this.rxRecordGridFilterService.getFilterForAvailableColumns(e.filterData,t.filter(e=>e.filterable)),a!==(null===(s=null===(r=e.filterData)||void 0===r?void 0:r.and)||void 0===s?void 0:s.length)&&(o=!0)}),this.preferences.filterPresets=this.preferences.filterPresets.filter(e=>!(0,p.isEmpty)(e.filterData));const u=(0,p.cloneDeep)(null===(s=this.preferences.filters)||void 0===s?void 0:s.and);this.preferences.filters=this.rxRecordGridFilterService.getFilterForAvailableColumns(this.preferences.filters,t.filter(e=>e.filterable)),!o&&(null===(l=null===(a=this.preferences.filters)||void 0===a?void 0:a.and)||void 0===l?void 0:l.length)===(null==u?void 0:u.length)&&(0,p.isEqual)(u,null===(c=this.preferences.filters)||void 0===c?void 0:c.and)||this.save(n.guid,this.preferences),n.advancedFiltering.savedFilters=this.getAdvancedFilterPresets(this.preferences.filterPresets,!1),n.predefinedFilterPresets=n.predefinedFilterPresets.filter(e=>!(0,p.isNull)(e.filters));const h=n.predefinedFilterPresets.map(e=>{var t;return{title:e.title,guid:e.guid,filterData:this.rxRecordGridFilterHelperService.getRecordGridFilterDataFromPredefinedFilter(e.filters,this.rxRecordGridFilterService.deserializeNamedOptions(null!==(t=e.recordGridFilters)&&void 0!==t?t:[]))}}).filter(e=>e.filterData),m=this.getAdvancedFilterPresets(h,!0);if(n.advancedFiltering.savedFilters.push(...m),i){if(this.getAppliedSharedFilterPresetGuid()){const e=(0,p.find)(i,{id:this.getAppliedSharedFilterPresetGuid()});n.advancedFiltering.appliedSharedFilterPreset=e,n.advancedFiltering.activeSavedFilter=e}n.advancedFiltering.savedFilters.push(...i)}const f=(0,p.isString)(n.defaultFilterPreset)?(0,p.find)(m,e=>e.id===n.defaultFilterPreset):n.defaultFilterPreset,g=(0,p.find)(i,e=>e.isDefault);if((0,p.isEmpty)(this.preferences.filters)){if(this.rxObjectUtilsService.isEmptyObject(this.preferences.filters)&&!n.advancedFiltering.appliedSharedFilterPreset)g&&!f&&(n.advancedFiltering.appliedSharedFilterPreset=g,n.advancedFiltering.activeSavedFilter=g);else if((0,p.isNull)(this.preferences.filters)&&!n.advancedFiltering.appliedSharedFilterPreset)if(f){const t=(0,p.isString)(n.defaultFilterPreset)?f.filterData:f;d=this.rxRecordGridFilterService.getAdvancedFilterData(t,n.recordDefinition.fieldDefinitionsById,n.advancedFiltering.recordGridFilterConfigs,n.recordDefinition,n.advancedFiltering.filterOptions,n.associationDescriptors).pipe((0,r.tap)(t=>{n.advancedFiltering.selectedFilters=this.getFiltersForSelectedColumns(t,e.columns),(0,p.isString)(n.defaultFilterPreset)&&(f.filters=n.advancedFiltering.selectedFilters,n.advancedFiltering.activeSavedFilter=f)}))}else g&&(n.advancedFiltering.appliedSharedFilterPreset=g,n.advancedFiltering.activeSavedFilter=g)}else d=this.rxRecordGridFilterService.getAdvancedFilterData(this.preferences.filters,n.recordDefinition.fieldDefinitionsById,n.advancedFiltering.recordGridFilterConfigs,n.recordDefinition,n.advancedFiltering.filterOptions,n.associationDescriptors).pipe((0,r.tap)(t=>{const i=this.getFilterForAvailableNamedFilterOptions(t,n.namedFilterOptions);n.advancedFiltering.selectedFilters=this.getFiltersForSelectedColumns(i,e.columns.filter(e=>e.filterable)),this.preferences.filters=this.rxRecordGridFilterService.getRecordGridFilterDataFromAdvancedFilter(n.advancedFiltering.selectedFilters,n.recordDefinition.fieldDefinitionsById,n.advancedFiltering.recordGridFilterConfigs),n.advancedFiltering.appliedSharedFilterPreset&&this.addExternalPresetToSelectedFilters(n)}));n.advancedFiltering.appliedSharedFilterPreset&&this.addExternalPresetToSelectedFilters(n)}return d||(0,o.of)(null)}applySharedViewPreset(e,t,n,i){return this.preferences.viewPresets[n]?this.preferences.viewPresets[n].initial=Object.assign(Object.assign({},i),{viewPresetGuid:n}):this.preferences.viewPresets[n]={initial:Object.assign(Object.assign({},i),{viewPresetGuid:n})},this.applyViewPresetInner(n,t,e)}applyViewPreset(e,t,n){const i=e.viewPresets.find(e=>e.viewPresetGuid===n);if(i&&!(0,p.has)(this.preferences.viewPresets,[n,"edited"])){const t=this.createSystemViewPresetPreferences(i,e.columnsWithMetadata);this.preferences.viewPresets[n]={initial:t}}else if(!this.preferences.viewPresets[n]&&this.selectedViewPresetGuid){const e=this.preferences.viewPresets[this.selectedViewPresetGuid];this.preferences.viewPresets[n]={initial:Object.assign(Object.assign({},(0,p.cloneDeep)(e.edited||e.initial)),{viewPresetGuid:n})}}return this.applyViewPresetInner(n,t,e)}applyViewPresetInner(e,t,n){const i=this.preferences.viewPresets[e],s=(null==i?void 0:i.edited)||(null==i?void 0:i.initial);let a=(0,o.of)(null);return s&&(this.selectedViewPresetGuid=s.viewPresetGuid,this.updateColumnsOrder(t.columns,s.columns),this.updateColumnsVisibility(t.columns,s.columns),this.setColumnsWidths(t.columns,s.columns,t.columnResizeMode),this.updateGridSorting(s,t),a=this.rxRecordGridFilterService.getAdvancedFilterData(s.filters,n.recordDefinition.fieldDefinitionsById,n.advancedFiltering.recordGridFilterConfigs,n.recordDefinition,n.advancedFiltering.filterOptions,n.associationDescriptors).pipe((0,r.tap)(e=>{const i=this.getFilterForAvailableNamedFilterOptions(e,n.namedFilterOptions);n.advancedFiltering.selectedFilters=this.getFiltersForSelectedColumns(i,t.columns.filter(e=>e.filterable))}))),a}isCurrentViewPresetEdited(){var e;return Boolean(null===(e=this.preferences.viewPresets[this.selectedViewPresetGuid])||void 0===e?void 0:e.edited)}addExternalPresetToSelectedFilters(e){const t=(0,p.cloneDeep)(e.advancedFiltering.selectedFilters);t.push({filterOptionId:kd.externalPresetFilterOptionId,value:e.advancedFiltering.appliedSharedFilterPreset.id}),e.advancedFiltering.selectedFilters=t}createSystemViewPresetPreferences(e,t){const n=this.rxRecordGridFilterHelperService.getRecordGridFilterDataFromPredefinedFilter(e.filters,e.recordGridFilters?this.rxRecordGridFilterService.deserializeNamedOptions(e.recordGridFilters):[]),i=e.columnViewPresets.sort((e,t)=>e.index-t.index).map((e,n)=>{var i,o;const r=(0,p.has)(e,"width")?e.width:null!==(o=null===(i=(0,p.find)(t,{fieldId:e.fieldId}))||void 0===i?void 0:i.width)&&void 0!==o?o:null,s=Object.assign(Object.assign({},(0,p.omit)(e,"sortable")),{index:n,width:r});return e.sortable&&(s.sort={priority:0,direction:e.sortable.direction}),s});return(0,p.cloneDeep)({columns:i,filters:n,viewPresetGuid:e.viewPresetGuid})}deleteViewPreset(e){delete this.preferences.viewPresets[e]}isExistingViewPreset(e){return(0,p.has)(this.preferences.viewPresets,e)}discardViewPresetChanges(e){var t;null===(t=this.preferences.viewPresets[e])||void 0===t||delete t.edited}updateGridSorting(e,t){let n=this.getColumnSortMeta(e.columns);n=(0,p.filter)(n,e=>(0,p.some)(t.columns,t=>t.sortable&&t.field===e.field)),t.multiSortMeta=n}getAdvancedFilterPresets(e,t){return e.map(e=>{const n={id:e.guid,name:e.title,filters:null,filterData:e.filterData,isCreatedByOtherUsers:t};return e.appliedSharedFilterPresetGuid&&(n.appliedSharedFilterPresetGuid=e.appliedSharedFilterPresetGuid,n.filters=[{filterOptionId:kd.externalPresetFilterOptionId,value:e.appliedSharedFilterPresetGuid}]),n}).sort((e,t)=>e.name.localeCompare(t.name))}getColumnsPreferences({columns:e,multiSortMeta:t}){const n=e.map(({field:e,hidden:t,width:n},i)=>({fieldId:e,index:i,visible:!t,width:n}));return this.updateColumnSortPreferences(n,t),n}getPreferencesFilterPresets(e,t,n){const i={guid:e.id,title:e.name,filterData:e.filters?this.rxRecordGridFilterService.getRecordGridFilterDataFromAdvancedFilter(e.filters,t,n):e.filterData};return e.appliedSharedFilterPresetGuid&&(i.appliedSharedFilterPresetGuid=e.appliedSharedFilterPresetGuid),i}getVisibleCardFieldIds({columns:e,multiSortMeta:t}){return this.updateColumnSortPreferences(this.preferences.columns,t),e.filter(e=>!e.hidden).map(e=>parseInt(e.field,10)||e.field)}updateColumnSortPreferences(e,t){t&&(e.forEach(e=>{delete e.sort}),t.forEach(({field:t,order:n},i)=>{const o=e.find(e=>e.fieldId===t);o&&(o.sort={priority:i,direction:this.recordGridConfigUtilsService.getColumnSortDirection(n)})}))}save(e,t){if(e){const n={preferences:JSON.stringify(t),componentTypeName:kd.type,version:kd.version,componentId:e};this.rxUserPreferencesService.setUiComponentPreferences(n,e).subscribe()}}sortColumnsConfigs(e){this.updateColumnsOrder(e,this.preferences.columns)}updateColumnsOrder(e,t){const n=(0,p.reduce)(e,(e,n,i)=>{const o=(0,p.find)(t,e=>e.fieldId===n.field);return e[n.field]=o?o.index:i,e},{});e.sort((e,t)=>n[e.field]-n[t.field])}setColumnsVisibility(e,t){const n=this.preferences.columns;(0,p.isEmpty)(n)?e.forEach(e=>{const n=(0,p.find)(t,t=>t.fieldId===e.field);e.hidden=!!n&&!n.visible}):this.updateColumnsVisibility(e,n)}updateColumnsVisibility(e,t){e.forEach(e=>{const n=(0,p.find)(t,t=>t.fieldId===e.field);n&&(e.hidden=!n.visible)})}setColumnsWidths(e,t,n){t.length&&e.forEach(e=>{const i=(0,p.find)(t,{fieldId:e.field});if(i){const t=(0,p.endsWith)(i.width,"px");n!==R.ResizeMode.Expand||t?(e.width=/[0-9]+$/.test(i.width)?`${i.width}%`:i.width,t&&parseInt(e.width)<45&&(e.minWidth=e.width)):(e.width=null,e.minWidth=null)}})}setCardFieldsVisibility(e){const t=this.preferences.visibleCardFieldIds;if((0,p.isEmpty)(t)){const t=5;let n=0;e.forEach(e=>{n>=t?e.hidden=!0:e.hidden||n++})}else e.forEach(e=>e.hidden=!(0,p.some)(t,t=>String(t)===e.field))}getColumnSortMeta(e){return(0,p.flow)(e=>(0,p.filter)(e,"sort"),e=>(0,p.sortBy)(e,"sort.priority"),e=>(0,p.map)(e,e=>({field:e.fieldId,order:this.recordGridConfigUtilsService.getColumnSortOrder(e.sort.direction)})))(e)}getFiltersForSelectedColumns(e,t){return e.filter(e=>(0,p.some)(t,{field:e.filterOptionId}))}getFilterForAvailableNamedFilterOptions(e,t){return e.map(e=>(e.value.namedOptions=(0,p.isEmpty)(t)?[]:e.value.namedOptions.filter(n=>(0,p.some)(t[Number(e.filterOptionId)],{guid:n})),e)).filter(e=>!ru.isEmptyWithRange(e.value))}saveViewPreset(e){const t=this.preferences.viewPresets[e];(null==t?void 0:t.edited)&&(t.initial=(0,p.cloneDeep)(t.edited),delete t.edited)}getSharedViewPresetData(){const e=this.preferences.viewPresets[this.selectedViewPresetGuid],t=e.edited||e.initial;return{columns:t.columns,filters:t.filters}}}ep.\u0275fac=function(e){return new(e||ep)(i["\u0275\u0275inject"](Gd),i["\u0275\u0275inject"](a.RxUserPreferencesService),i["\u0275\u0275inject"](lu),i["\u0275\u0275inject"](au),i["\u0275\u0275inject"](v.RxObjectUtilsService))},ep.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ep,factory:ep.\u0275fac}),function(e){e.Multiple="multiple",e.Single="single"}(ou||(ou={}));class tp{constructor(e,t){this.modalService=e,this.translateService=t,this.sort=new i.EventEmitter}onSortMenuItemClick(){this.multiSortMeta=this.adaptTable.multiSortMeta||[],this.openDialog({title:this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.cards.sort-by.dialog.title"),content:this.cardLayoutSortModalTemplate}).catch(()=>{})}getSortableColumns(){return this.columns.filter(e=>this.adaptTable.isSortableColumn(e)).sort((e,t)=>e.header.localeCompare(t.header))}onSortAscClick(e){this.changeSort(e,R.SortOrder.Asc)}onSortDescClick(e){this.changeSort(e,R.SortOrder.Desc)}changeSort(e,t){const n=this.getColumnSortIndex(e),i=this.multiSortMeta[n];i?i.order===t?this.multiSortMeta.splice(n,1):i.order=t:this.multiSortMeta.push({field:e.field,order:t})}getColumnSort(e){return this.multiSortMeta[this.getColumnSortIndex(e)]}getColumnSortIndex(e){return this.multiSortMeta.findIndex(t=>t.field===e.field)}hasColumnSortOrder(e,t){const n=this.getColumnSort(e);return!!n&&n.order===t}getSortAscBtnClass(e){return this.getSortBtnClass(e,R.SortOrder.Asc)}getSortDescBtnClass(e){return this.getSortBtnClass(e,R.SortOrder.Desc)}getSortBtnClass(e,t){const n=this.hasColumnSortOrder(e,t);return{"btn-success":n,"btn-secondary":!n}}clearAllSorting(){this.multiSortMeta=[]}applySorting(){this.sort.emit(this.multiSortMeta)}getCurrentSortingSummary(){const e={[R.SortOrder.Asc]:this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.cards.sort-by.sort.ascending"),[R.SortOrder.Desc]:this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.cards.sort-by.sort.descending")};return this.multiSortMeta.map((t,n)=>`${n+1}. ${this.columns.find(e=>e.field===t.field).header} (${e[t.order]})`).join("\n")}}tp.\u0275fac=function(e){return new(e||tp)(i["\u0275\u0275directiveInject"](h.AdaptModalService),i["\u0275\u0275directiveInject"](u.TranslateService))},tp.\u0275cmp=i["\u0275\u0275defineComponent"]({type:tp,selectors:[["rx-card-layout-cell-header"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](_r,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.cardLayoutSortModalTemplate=e.first)}},inputs:{title:"title",columns:"columns",adaptTable:"adaptTable",openDialog:"openDialog"},outputs:{sort:"sort"},decls:9,vars:7,consts:[["adaptDropdown","",1,"dropdown","header-cell-menu-btn",3,"appendToBody","restoreFocusAfterClose"],["id","card-column-menu-dropdown-toggle","type","button","adaptDropdownToggle","",1,"d-icon-ellipsis","adapt-table-sort-menu__kebab","py-2","btn","btn-link",3,"showCaret"],["aria-labelledby","card-column-menu-dropdown-toggle","adaptDropdownMenu","","tabindex","0",1,"dropdown-menu"],["type","button",1,"dropdown-item",3,"click"],["cardLayoutSortModalTemplate",""],[1,"modal-body","rx-record-grid-sort-by-dialog"],[1,"rx-card-fields"],[1,"rx-card-fields__headers"],[1,"rx-card-fields__headers-field"],[1,"rx-card-fields__headers-order"],["class","rx-card-field",4,"ngFor","ngForOf"],["rows","4","disabled","","title","summary",1,"form-control","rx-sort-summary",3,"value","placeholder"],[1,"modal-footer"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"rx-card-field"],[1,"rx-card-field__name"],[1,"rx-card-field__order"],[1,"btn-group"],[1,"btn","btn-xs",3,"ngClass","click"],[1,"d-icon-arrow_down"],[1,"d-icon-arrow_up"]],template:function(e,t){1&e&&(i["\u0275\u0275text"](0),i["\u0275\u0275elementStart"](1,"div",0),i["\u0275\u0275element"](2,"button",1),i["\u0275\u0275elementStart"](3,"div",2),i["\u0275\u0275elementStart"](4,"button",3),i["\u0275\u0275listener"]("click",function(){return t.onSortMenuItemClick()}),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](7,Ir,23,20,"ng-template",null,4,i["\u0275\u0275templateRefExtractor"])),2&e&&(i["\u0275\u0275textInterpolate1"]("",t.title," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("appendToBody",!0)("restoreFocusAfterClose",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("showCaret",!1),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,5,"com.bmc.arsys.rx.client.view-components.record-grid.card-column-menu.items.sort-by.label")," "))},directives:[h.AdaptDropdownDirective,h.AdaptDropdownToggleDirective,h.AdaptDropdownMenuDirective,m.NgForOf,m.NgClass],pipes:[u.TranslatePipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.header-cell-menu-btn[_ngcontent-%COMP%]{position:absolute;right:0;top:0}.rx-record-grid-sort-by-dialog[_ngcontent-%COMP%]   .rx-card-fields[_ngcontent-%COMP%]{border:1px solid #d6d7d8;display:flex;flex-direction:column;height:370px;overflow-y:auto}.rx-record-grid-sort-by-dialog[_ngcontent-%COMP%]   .rx-card-fields__headers[_ngcontent-%COMP%]{font-weight:var(--font-weight-bold);display:flex;height:35px;align-items:center;border-bottom:1px solid #d6d7d8;color:#666;flex-shrink:0}.rx-record-grid-sort-by-dialog[_ngcontent-%COMP%]   .rx-card-field[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #d6d7d8;align-items:center;height:35px;flex-shrink:0}.rx-record-grid-sort-by-dialog[_ngcontent-%COMP%]   .rx-card-field[_ngcontent-%COMP%]:last-child{border-bottom:none}.rx-record-grid-sort-by-dialog[_ngcontent-%COMP%]   .rx-card-field__name[_ngcontent-%COMP%]{flex:3;padding-left:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rx-record-grid-sort-by-dialog[_ngcontent-%COMP%]   .rx-card-field__order[_ngcontent-%COMP%]{flex:1;padding-left:5px}.rx-record-grid-sort-by-dialog[_ngcontent-%COMP%]   .rx-card-fields__headers-field[_ngcontent-%COMP%]{flex:3;padding-left:10px}.rx-record-grid-sort-by-dialog[_ngcontent-%COMP%]   .rx-card-fields__headers-order[_ngcontent-%COMP%]{flex:1;padding-left:5px}.rx-record-grid-sort-by-dialog[_ngcontent-%COMP%]   .rx-sort-summary[_ngcontent-%COMP%]{margin-top:15px;resize:none}']});class np{constructor(e,t,n){this.adaptTable=e,this.ngZone=t,this.renderer=n,this.changedCardLayout=new i.EventEmitter,this.hasCardLayout=!1,this._hasViewInitialized=!1}set cardLayoutWidth(e){if(this._cardLayoutWidth=e,this._hasViewInitialized){const{offsetWidth:e}=this.renderer.selectRootElement(this.adaptTable.el.nativeElement,!0);this.changeTableCardLayout(e)}}get cardLayoutWidth(){return this._cardLayoutWidth}ngAfterViewInit(){setTimeout(()=>{const e=this.renderer.selectRootElement(this.recordGridElementRef.nativeElement,!0);this.changeTableCardLayout(e.offsetWidth)}),this.ngZone.runOutsideAngular(()=>{this.resizeSensor=new g.ResizeSensor(this.recordGridElementRef.nativeElement,e=>{this.ngZone.run(()=>{this.changeTableCardLayout(e.width)})})}),this._hasViewInitialized=!0}changeTableCardLayout(e){const t=e<=this.cardLayoutWidth;if(this.hasCardLayout===t||!e)return;this.hasCardLayout=t;const n=this.adaptTable;this.scrollToFirstVisibleRow(),t?this.renderer.addClass(n.el.nativeElement,"rx-table-card-layout"):this.renderer.removeClass(n.el.nativeElement,"rx-table-card-layout"),n.tableService.onValueChange(n.value),this.changedCardLayout.emit({cardLayoutColumns:t?this.getCardLayoutColumns():null})}getCardLayoutColumns(){return[{field:"fields",header:"Fields",filterable:!1,sortable:!1,headerTitleTemplate:this.cardLayoutFieldsHeaderTemplate,width:"35%",dataCellClass:this.getDataCellClass.bind(this),cellTemplate:this.cardLayoutFieldsDataCellTemplate,testId:"fields-column"},{field:"fields",header:"Values",filterable:!1,sortable:!1,headerTitleTemplate:this.cardLayoutValuesHeaderTemplate,width:"65%",dataCellClass:this.getDataCellClass.bind(this),cellTemplate:this.cardLayoutValuesDataCellTemplate,testId:"values-column"}]}getDataCellClass(){return`${this.recordGridGetDataCellClass()} rx-card-layout-data-cell`}scrollToFirstVisibleRow(){const e=this.adaptTable;if(e.scrollable){const t=this.renderer.selectRootElement(e.el.nativeElement,!0).querySelector(".ui-table-scrollable-body"),n=t&&t.scrollTop;if(n){const i=e.dataRows.find(e=>{const t=e.element.nativeElement;return t.offsetTop+t.offsetHeight>=n});if(i){let e=i.element.nativeElement;const o=(n-e.offsetTop)/e.offsetHeight;this.ngZone.onStable.pipe((0,r.take)(1)).subscribe(()=>{e=i.element.nativeElement,t.scrollTop=e.offsetTop+e.offsetHeight*o})}}}}ngOnDestroy(){this.resizeSensor.detach()}}np.\u0275fac=function(e){return new(e||np)(i["\u0275\u0275directiveInject"](R.AdaptTableComponent,1),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](i.Renderer2))},np.\u0275dir=i["\u0275\u0275defineDirective"]({type:np,selectors:[["","rxCardLayout",""]],inputs:{cardLayoutFieldsHeaderTemplate:"cardLayoutFieldsHeaderTemplate",cardLayoutValuesHeaderTemplate:"cardLayoutValuesHeaderTemplate",cardLayoutFieldsDataCellTemplate:"cardLayoutFieldsDataCellTemplate",cardLayoutValuesDataCellTemplate:"cardLayoutValuesDataCellTemplate",recordGridGetDataCellClass:["cardLayoutGetDataCellClass","recordGridGetDataCellClass"],recordGridElementRef:["cardLayoutRecordGridElementRef","recordGridElementRef"],cardLayoutWidth:"cardLayoutWidth"},outputs:{changedCardLayout:"changedCardLayout"}});class ip{constructor(e,t){this.rxExpressionEvaluatorService=e,this.rxObjectUtilsService=t,this.evaluationData={}}ngOnInit(){this.updateCellClasses()}ngOnChanges(e){e.rxCellDisplayPropsDataItem.firstChange||e.rxCellDisplayPropsDataItem.currentValue===e.rxCellDisplayPropsDataItem.previousValue||this.updateCellClasses()}getActiveProps(e){return e.find(e=>this.rxExpressionEvaluatorService.tryEvaluate(e.fieldValueCondition,this.evaluationData))||null}getCellCssClasses(e){const t=[];return e.displayAsBadge||(e.bold&&t.push("font-weight-bold"),e.italic&&t.push("font-italic"),e.fontSize===Ld.Small?t.push("small"):e.fontSize===Ld.Large&&t.push("large"),e.textColor&&t.push($d[e.textColor]),e.backgroundColor&&t.push(Ud[e.backgroundColor]),e.icon&&(e.iconPosition===Bd.ReplaceText?t.push(`d-icon-${e.icon}`):t.push(`d-icon-${e.iconPosition}-${e.icon}`))),t}getSpanCssClasses(e){return e.displayAsBadge?["badge",`badge-${e.badgeColor}`]:e.iconPosition===Bd.ReplaceText?["hidden"]:[]}updateCellClasses(){var e;if(null===(e=this.rxCellDisplayProps)||void 0===e?void 0:e.length){let e="";const t=Object.assign(Object.assign({},this.rxCellDisplayPropsDataItem),this.rxObjectUtilsService.expandProperties(this.rxCellDisplayPropsDataItem));(0,p.set)(this.evaluationData,"view.components.grid.clickableRow",t);const n=this.getActiveProps(this.rxCellDisplayProps);if(n){e=this.getCellCssClasses(n).join(" ")}if(this.rxCellDisplayPropsBadgeElem){const e=n?this.getSpanCssClasses(n):[];this.rxCellDisplayPropsBadgeElem.classList.value="",this.rxCellDisplayPropsBadgeElem.classList.add(...e)}this.cssClasses=e}}}ip.\u0275fac=function(e){return new(e||ip)(i["\u0275\u0275directiveInject"](c.RxExpressionEvaluatorService),i["\u0275\u0275directiveInject"](v.RxObjectUtilsService))},ip.\u0275dir=i["\u0275\u0275defineDirective"]({type:ip,selectors:[["","rxCellDisplayProps",""]],hostVars:2,hostBindings:function(e,t){2&e&&i["\u0275\u0275classMap"](t.cssClasses)},inputs:{rxCellDisplayProps:"rxCellDisplayProps",rxCellDisplayPropsBadgeElem:"rxCellDisplayPropsBadgeElem",rxCellDisplayPropsDataItem:"rxCellDisplayPropsDataItem"},features:[i["\u0275\u0275NgOnChangesFeature"]]});class op extends f.BaseViewComponent{constructor(e,t,n,r,s,a,l,c,d,u,h,m,f,g,v,y,b,x,w,C,_,S,I,A,E,D,T,M,O,P,F,k,N,j,L,V){super(),this.adaptDeviceDetectionService=e,this.adaptModalService=t,this.changeDetector=n,this.datePipe=r,this.decimalPipe=s,this.ngZone=a,this.rxAssociationInstanceDataPageService=l,this.rxBooleanPipe=c,this.rxCurrentUserService=d,this.rxExpressionEvaluatorService=u,this.rxFieldDefinitionService=h,this.rxGridConfiguratorService=m,this.rxGuidService=f,this.rxLogService=g,this.rxNotificationService=v,this.rxObjectUtilsService=y,this.rxRecordDefinitionCacheService=b,this.rxRecordDefinitionService=x,this.rxRecordGridAdvancedFilteringService=w,this.rxRecordGridConfigUtilsService=C,this.rxRecordGridFilterConfigService=_,this.rxRecordGridFilterService=S,this.rxRecordGridFilterHelperService=I,this.rxRecordGridSharedFilterPresetsCacheService=A,this.rxRecordGridUserPreferencesService=E,this.rxRecordGridUtilsService=D,this.rxRecordInstanceDataPageService=T,this.rxRecordInstanceService=M,this.rxViewActionService=O,this.rxViewActionUtilsService=P,this.translateService=F,this.elementRef=k,this.rxStringService=N,this.rxGlobalEventsService=j,this.pageComponent=L,this.runtimeViewCanvasItemComponent=V,this.dataLoaded=new i.EventEmitter,this.isExportInProgress=!1,this.lastPropertySelection=[],this.adaptTableConfig={data:[],columns:[],columnResizeMode:R.ResizeMode.Fit,cardLayoutColumns:null,bordered:!0,scrollable:!0,striped:!1,toolbarConfig:{counter:!1,quickFilter:!0,leftCustomSection:!0,leftCustomSectionTemplate:null,filter:!0,filterTemplate:null,filterResults:!1,filterResultsTemplate:null,rightCustomSection:!1,rightCustomSectionTemplate:null,visibleColumnsMenu:!0,visibleColumnsMenuTemplate:null,quickFilterTriggerable:!0,export:{exportTypes:[{type:R.ExportType.CSV}],showExportForSelected:!0}},filterable:!1,selectedItems:[],filters:{},rows:50,first:0,multiSortMeta:null,rowSelectionMode:null,isLoadingData:!1,totalRecords:null,primaryKey:null,isLoadingMoreData:!1,texts:null,expandedGroupsKeys:{},virtualScroll:!0,virtualRowHeight:kd.defaultRowHeight},this.actionButtons=null,this.adaptTableHeaderSelectionMode=R.AdaptTableHeaderSelectionMode.Chunk,this.api={applyViewPreset:this.applyViewPreset.bind(this),shareViewPreset:this.shareViewPreset.bind(this),refresh:this.refresh.bind(this),setFilter:this.setFilter.bind(this),deleteViewPreset:this.deleteViewPreset.bind(this),discardViewPresetChanges:this.discardViewPresetChanges.bind(this),getColumns:this.getColumns.bind(this),getRecordDefinitionName:this.getRecordDefinitionName.bind(this),getSelectedRows:this.getSelectedRows.bind(this),getFirstSelectedRow:this.getFirstSelectedRow.bind(this),getSelectedRowCount:this.getSelectedRowCount.bind(this),setSelectedRows:this.onRowsSelectionChange.bind(this),getVisibleRows:this.getVisibleRows.bind(this),saveViewPreset:this.saveViewPreset.bind(this),applyFilters:this.applyFilters.bind(this)},this.filteredVisibleColumns=[],this.getDataCellClassBind=this.getDataCellClass.bind(this),this.gridEvents={cellClick:(e,t)=>{const n=this.state.columnsWithMetadata.find(e=>e.fieldId===t);this.addSelectionFieldOptionNames(e),e=this.expandRowProperties(e),this.state.lastActionRow=e,this.notifyPropertyChanged("clickableRow",e,null),this.executeViewActions(n.guid,(0,p.get)(n,"actions"),e).catch(p.noop)},cellKeyDown:(e,t,n)=>{(0,p.includes)(["Space","Enter"],e.code)&&(this.gridEvents.cellClick(t,n),e.preventDefault())}},this.isFilterBySelectionButtonVisible=!1,this.isUserAllowedToDeleteRecords=!1,this.openSortByDialog=this.openSortByDialogFn.bind(this),this.rowActionButtons=null,this.rowSelectionChanged=new o.BehaviorSubject([]),this.selectedFilteredRowsCount=0,this.shouldDisplayActionButtons=!1,this.showCellTooltip=!1,this.sortedColumnsByTitle=[],this.state={actionButtons:[],rowActionButtons:[],lastActionRow:null,associatedRecordId:null,associatedRoleName:null,associatedRecordNodeSide:null,associationDefinitionName:null,bordered:!0,cardLayoutWidth:null,columns:[],columnsWithMetadata:[],defaultFilterPreset:null,enableFiltering:!1,requiredFilters:0,getDataForHiddenColumns:!0,enableFilterPresets:!0,enableRowSelection:ou.Multiple,expandable:!1,filterExpression:null,filters:null,filterTagsLimit:null,getData:null,recordDefinition:null,associationDescriptors:[],recordDefinitionName:null,recordGridFilters:[],recordIdField:null,showDataForAllLocales:null,striped:!1,styles:null,initialFilters:null,expandGroups:!1,advancedFiltering:{activeSavedFilter:null,savedFilters:[],filterOptions:[],selectedFilters:[],recordGridFilterConfigs:null,filterTexts:null,hasLoadedSharedFilterPresets:!1,isLoading:!1,appliedSharedFilterPreset:null,toolbarTags:[],pendingSelectedFilters:[],selectedCardValues:{}},emptyStateLabelText:this.translateService.instant("com.bmc.arsys.rx.client.empty-state.no-items-to-display.label"),emptyStateWithFilterLabelText:this.translateService.instant("com.bmc.arsys.rx.client.empty-state.no-items-to-display.label"),searchFieldPlaceholderText:this.translateService.instant("com.bmc.arsys.rx.client.common.search.label"),enableColumnSelection:!0,namedFilterOptions:null,predefinedFilterPresets:[],viewPresetSelector:null,virtualScroll:!0},this.visibleColumns=[],this.cellValueFormatters={},this.clickableWithHrefColumnActions={},this.dataLoadContextSubject=new o.Subject,this.popovers=[],this.userPreferencesChanged$=new o.Subject,this.exportSelectedRowText=this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.export-selected-row.label"),this.exportSelectedRowsText=this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.export-selected-rows.label"),this.pendingFiltersToApply=null,this.getNamedFilterOptions=this.getNamedFilterOptions.bind(this),this.rxRecordDefinitionCacheService.registerConsumer(this.destroyed$)}onClickOutside(e){!(e.target.closest(".ui-table-tbody")||e.target.closest(".popover.table-filtering")||e.target.closest(".rx-filter-by-card-selection-dialog")||e.target.closest(".rx-filter-by-card-selection-field-dropdown"))&&this.clearSelectedCells()}get isTotalRecordCountKnown(){return!(0,p.isNull)(this.adaptTableConfig.totalRecords)}ngOnInit(){super.ngOnInit(),this.isProgrammaticUse=Boolean(this.pageComponent)||!this.runtimeViewCanvasItemComponent,this.isProgrammaticUse&&(this.adaptTableConfig.toolbarConfig.export=null),this.notifyPropertyChanged("api",this.api),this.initializationCompleted$=this.config.pipe((0,r.take)(1),(0,r.map)(e=>this.rxGridConfiguratorService.getGridConfig(e)),(0,r.tap)(e=>{Object.assign(this.state,e)}),(0,r.switchMap)(()=>{this.state.guid&&(this.guid=this.state.guid);const e=[this.initRecordDefinitions()];return this.guid&&(this.userPreferencesChanged$.pipe((0,r.debounceTime)(1e3),(0,r.takeUntil)(this.destroyed$)).subscribe(()=>{this.rxRecordGridUserPreferencesService.saveUserPreferences(this.guid,this.adaptTableConfig,this.state),this.checkIfViewPresetEdited()}),e.push(this.rxRecordGridUserPreferencesService.get(this.guid))),(0,o.forkJoin)(e)}),(0,r.switchMap)(()=>this.initGrid()),(0,r.shareReplay)(1)),this.initializationCompleted$.subscribe();const e=(0,o.combineLatest)([this.initializationCompleted$,this.dataLoaded,this.config.pipe((0,r.skip)(1),(0,r.debounceTime)(250),(0,r.map)(e=>this.rxGridConfiguratorService.getGridConfig(e)),(0,r.takeUntil)(this.destroyed$))]).pipe((0,r.map)(([e,t,n])=>n));e.pipe((0,r.map)(e=>(0,p.differenceBy)(e.columns,this.state.columns,"additionalQueryCriteria")),(0,r.filter)(e=>e.length>0),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>{e.forEach(e=>{this.state.advancedFiltering.filterOptions.find(t=>t.id===e.fieldId).data.additionalQueryCriteria=e.additionalQueryCriteria;const t=this.state.columns.findIndex(t=>t.fieldId===e.fieldId);this.state.columns[t].additionalQueryCriteria=e.additionalQueryCriteria})});const t=new Map;e.pipe((0,r.debounceTime)(10),(0,r.map)(e=>this.getNamedFilterOptionsState(e.columns)),(0,r.withLatestFrom)(this.dataLoadContextSubject),(0,r.filter)(([e,t])=>!(0,p.isEqual)(e,t.namedFilterOptions)),(0,r.tap)(([e])=>{this.state.namedFilterOptions=e}),(0,r.map)(([e])=>Object.values(e).reduce((e,t)=>e.concat(t),[])),(0,r.map)(e=>{const n=this.state.advancedFiltering.selectedFilters.reduce((e,t)=>e.concat(t.value.namedOptions),[]);return e.some(e=>{const i=Boolean(t.get(e.guid));i||t.set(e.guid,e);const o=e.filterExpression!==t.get(e.guid).filterExpression,r=n.includes(e.guid)&&(o||!i);return o&&t.set(e.guid,e),r})}),(0,r.filter)(e=>e),(0,r.takeUntil)(this.destroyed$)).subscribe(()=>{this.loadRowData()}),e.pipe((0,r.debounceTime)(10),(0,r.withLatestFrom)(this.dataLoadContextSubject),(0,r.filter)(([e,t])=>e.associatedRecordId!==t.associatedRecordId||e.associatedRoleName!==t.associatedRoleName||e.filterExpression!==t.filterExpression),(0,r.tap)(([e])=>{Object.assign(this.state,e)})).subscribe(()=>{this.loadRowData()}),this.config.pipe((0,r.map)(e=>e.viewPresetSelector),(0,r.distinctUntilChanged)(),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.state.viewPresetSelector=e}),this.isProgrammaticUse&&(e.pipe((0,r.map)(e=>({actionButtons:e.actionButtons,rowActionButtons:e.rowActionButtons})),(0,r.distinctUntilChanged)(p.isEqual)).subscribe(({actionButtons:e,rowActionButtons:t})=>{this.state.actionButtons=e,this.actionButtons=this.getProgrammaticActionButtons(this.state.actionButtons),this.state.rowActionButtons=t,this.rowActionButtons=this.getProgrammaticActionButtons(this.state.rowActionButtons)}),e.pipe((0,r.distinctUntilChanged)(p.isEqual),(0,r.map)(e=>this.rxGridConfiguratorService.getGridConfig(e)),(0,r.tap)(e=>{Object.assign(this.state,e),this.state.advancedFiltering.selectedFilters=[],this.adaptTableConfig.multiSortMeta=[]}),(0,r.switchMap)(()=>{this.state.guid&&(this.guid=this.state.guid);const e=[this.initRecordDefinitions()];return this.guid&&e.push(this.rxRecordGridUserPreferencesService.get(this.guid)),(0,o.forkJoin)(e)}),(0,r.switchMap)(()=>this.initGrid())).subscribe()),this.adaptTableConfig.virtualScroll=this.state.virtualScroll;const n=this.adaptTableConfig.toolbarConfig;n.visibleColumnsMenu=this.state.enableColumnSelection,n.visibleColumnsMenuTemplate=this.visibleColumnsMenuTemplate,n.rightCustomSectionTemplate=this.rightCustomSectionTemplate,n.leftCustomSectionTemplate=this.leftCustomSectionTemplate,n.filterTemplate=this.filterTemplate,this.notifyPropertyChanged("totalRowCount",0),this.notifyPropertyChanged("selectedRows",[]),this.notifyPropertyChanged("selectedRowCount",0),this.notifyPropertyChanged("fieldValuesByFieldId",{}),this.notifyPropertyChanged("firstSelectedRow",null),this.notifyPropertyChanged("queryExpression",""),this.notifyPropertyChanged("lastRefreshTime",""),this.initAdvancedFilterTexts(),this.initCustomTexts(),this.rxGlobalEventsService.viewActionsCompleted$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(()=>{(0,p.isEmpty)(this.pendingFiltersToApply)||this.onAdvancedFiltersChange(this.pendingFiltersToApply),this.pendingFiltersToApply=null})}ngAfterViewInit(){this.actionButtonComponents.changes.pipe((0,r.switchMap)(e=>(0,o.merge)(...e.map(e=>(0,o.of)({guid:e.guid,propertyName:"api",newValue:e.api,oldValue:null})),...e.map(e=>e.propertyChanged.asObservable())))).subscribe(e=>this.propertyChanged.emit(e))}ngOnDestroy(){super.ngOnDestroy(),this.dataLoadContextSubject.complete(),this.userPreferencesChanged$.complete()}applyFilterBySelection(){(0,p.isEmpty)(this.state.advancedFiltering.selectedCardValues)?this.applyPendingSelectedFilters():(this.cardLayoutOpenedModal=this.adaptModalService.open({title:this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.filter-by-selection.title"),content:Zu,data:{filterableFields:this.visibleColumns.filter(e=>{if(e.filterable){const t=this.state.recordDefinition.fieldDefinitionsById[e.field];return!(t.resourceType===s.RX_RECORD_DEFINITION.dataTypes.boolean.resourceType&&this.rxFieldDefinitionService.isRequiredField(t))}return!1}).map(e=>({id:e.field,name:e.header||e.fallbackTitle}))},customClass:"rx-filter-by-card-selection-dialog"}),this.cardLayoutOpenedModal.then(e=>{this.state.advancedFiltering.pendingSelectedFilters=[{filterOptionId:e,value:this.state.advancedFiltering.selectedCardValues[e]}],this.applyPendingSelectedFilters()}).catch(p.noop))}buildQueryByAdvancedFilters(e){const t=e.map(e=>{var t;let n=null;const i=e.filterOptionId,o=this.state.recordDefinition.fieldDefinitionsById[i];if(o){n=this.state.advancedFiltering.recordGridFilterConfigs[o.resourceType].getQueryFilter(e,o,i,null!==(t=this.state.namedFilterOptions[i])&&void 0!==t?t:[])}return n});return this.rxRecordGridFilterService.addQueries(...t)}downloadAttachment(e,t,n,i){if(!i||(0,p.includes)(["Space","Enter"],i.code))if(this.rxRecordGridUtilsService.isAssociatedRecordFieldId(t.field)){const i=this.rxRecordGridUtilsService.getFieldLocator(t.field),o=(0,p.find)(this.state.associationDescriptors,{associationDefinition:{guid:i.associationGuid}});this.rxAssociationInstanceDataPageService.post({params:{pageSize:1,startIndex:0,associationDefinition:o.associationDefinition.name,nodeToQuery:i.associationNodeSide,associatedRecordInstanceId:e[s.RX_RECORD_DEFINITION.coreFieldIds.id],propertySelection:s.RX_RECORD_DEFINITION.coreFieldIds.id}}).pipe((0,r.take)(1)).subscribe(e=>{const t=e.data[0][s.RX_RECORD_DEFINITION.coreFieldIds.id];this.rxRecordInstanceService.downloadAttachment(o.recordDefinitionName,Number(i.fieldId),t,n)})}else this.rxRecordInstanceService.downloadAttachment(this.state.recordDefinitionName,Number(t.field),e[s.RX_RECORD_DEFINITION.coreFieldIds.id],n)}executeViewActions(e,t,n){if(this.isProgrammaticUse){return(0,p.sortBy)(t,"index").reduce((e,t)=>(0,p.isFunction)(t.name)?e.then(e=>t.name(e,n)):(0,p.isString)(t.name)?e.then(e=>(()=>{this.rxViewActionService.execute(t.name.toString(),t.params).subscribe()})()):e,Promise.resolve())}return this.runtimeViewModelApi.triggerViewActions(e,f.VIEW_COMPONENT_DEFAULT_EVENT_NAME)}getActionButtonConfig(e,t){return e?t.pipe((0,r.map)(e=>Object.assign(Object.assign({},e),{cls:"dropdown-item"}))):t}getCellValue(e,t){return(0,this.cellValueFormatters[t.field])(e[t.field])}getDataCellClass(){return this.popovers.length?"rx-cell-selection-mode":""}getLoadRecordCountLinkText(){return`${this.adaptTableConfig.data.length}+`}getMultipleRowsSelectedText(){return this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.multiple-rows-selected.label",{count:this.adaptTableConfig.selectedItems.length,total:this.isTotalRecordCountKnown?this.adaptTableConfig.totalRecords:this.getLoadRecordCountLinkText()})}getMultipleRowsSelectedTextFirstPart(){const e=this.getMultipleRowsSelectedText();return e.substring(0,e.indexOf(this.getLoadRecordCountLinkText()))}getMultipleRowsSelectedTextSecondPart(){const e=this.getMultipleRowsSelectedText(),t=this.getLoadRecordCountLinkText();return e.substring(e.indexOf(t)+t.length)}getNamedFilterOptions(e){return this.state.namedFilterOptions[e.id]}getSharedFilterPresets(){this.state.advancedFiltering.isLoading=!0;const e=()=>{this.state.advancedFiltering.isLoading=!1,this.state.advancedFiltering.hasLoadedSharedFilterPresets=!0};return this.rxRecordGridSharedFilterPresetsCacheService.getSharedFilterPresets(this.guid).pipe((0,r.catchError)(t=>(e(),(0,o.throwError)(t))),(0,r.tap)(()=>{e()}))}getSortedColumnsByTitle(){return this.adaptTableConfig.columns.slice().sort((e,t)=>e.header.localeCompare(t.header))}getToolbarTags(e){const t=(e||[]).map(e=>{if(e.data.filterOption&&e.data.filterOption.id!==kd.externalPresetFilterOptionId){const t=e.data.filterOption.id,n=this.state.recordDefinition.fieldDefinitionsById[t],i=this.state.advancedFiltering.recordGridFilterConfigs[n.resourceType];if((0,p.isFunction)(i.getToolbarTagInfo))return i.getToolbarTagInfo({primaryRecordDefinition:this.state.recordDefinition,fieldDefinition:n,value:e.data.value,tag:e,fieldId:t,namedFilterOptions:this.state.namedFilterOptions[t]}).pipe((0,r.tap)(t=>e.data.value.title=t.tooltip),(0,r.map)(t=>Object.assign(Object.assign({},e),{text:t.text})))}return(0,o.of)(Object.assign({},e))});return t.length?(0,o.forkJoin)(t):(0,o.of)([])}getVisibleColumns(){return this.adaptTable.getVisibleColumns(this.adaptTableConfig.columns)}getVisibleRows(){return this.adaptTableConfig.data}handleHeaderCheckboxToggle(e){this.setSelectedFilteredRowsCount()}isCellSelected(e){return(0,p.some)(this.popovers,t=>t===e)}loadSavedFilterPresetFilters(e){return this.state.advancedFiltering.isLoading=!0,this.rxRecordGridFilterService.getAdvancedFilterData(e.filterData,this.state.recordDefinition.fieldDefinitionsById,this.state.advancedFiltering.recordGridFilterConfigs,this.state.recordDefinition,this.state.advancedFiltering.filterOptions,this.state.associationDescriptors).pipe((0,r.tap)(t=>{e.filters=(e.filters||[]).concat(t),this.state.advancedFiltering.isLoading=!1}))}loadTotalRowCount(){this.getTotalRowCount().subscribe(e=>{this.adaptTableConfig.totalRecords=e.totalSize})}onActiveSavedAdvancedFilterChange(e){this.state.advancedFiltering.activeSavedFilter=e}onAdvancedFilterExpressionTagsChanged(e){if(e.filterExpressionTags.every(e=>(0,p.isEmpty)(e.data.validationErrors))){const t=this.state.advancedFiltering.toolbarTags;this.updateToolbarTags(e.filterExpressionTags),t!==this.state.advancedFiltering.toolbarTags&&this.changeDetector.detectChanges()}}onAdvancedFiltersChange(e){this.state.advancedFiltering.appliedSharedFilterPreset=null;const t=this.getAppliedExternalPresetFilter(e);if(t){const e=this.state.advancedFiltering.savedFilters.find(e=>e.id===t.value);if(this.isSharedFilterPreset(e))this.state.advancedFiltering.appliedSharedFilterPreset=e;else if(e.appliedSharedFilterPresetGuid){const t=(0,p.find)(this.state.advancedFiltering.savedFilters,{id:e.appliedSharedFilterPresetGuid});this.state.advancedFiltering.appliedSharedFilterPreset=t}}this.adaptTableConfig.first=0,this.state.advancedFiltering.selectedFilters=e,this.adaptTableConfig.isLoadingMoreData=!1,this.updateAdaptTableFilters(),this.userPreferencesChanged$.next(),this.updateToolbarTags(this.state.advancedFiltering.toolbarTags),this.state.useExternalFiltering?this.loadRowData(!1):this.adaptTableConfig.data=this.filterRows(this.adaptTableConfig.originalRows)}onBeforeActiveSavedFilterChange(e){const t=e.savedFilterToSelect;t&&(t.filters&&this.areNonExternalPresetFiltersApplied(t.filters)||this.loadSavedFilterPresetFilters(t).subscribe())}onCellClick(e,t,n,i,o){!!e.target.closest("a")?this.clearSelectedCells():(this.popovers.length&&(e.metaKey||e.ctrlKey||this.clearSelectedCells()),t&&this.toggleCellSelection(t.filter(e=>!e.isRowActionsColumn),n,i,o))}onFilterBySelection(e,t,n){this.onCellClick(e,t,n,null,!0),this.applyFilterBySelection()}onCellMouseOver(e){const t=e.currentTarget;this.showCellTooltip=t.offsetWidth<t.scrollWidth}onChangedCardLayout(e){this.adaptTableConfig.cardLayoutColumns=e.cardLayoutColumns,this.clearSelectedCells(),this.cardLayoutOpenedModal&&(this.cardLayoutOpenedModal.reject(),this.cardLayoutOpenedModal=null),this.guid&&this.rxRecordGridUserPreferencesService.applyUserPreferencesForColumns(this.adaptTableConfig,this.state.columnsWithMetadata,this.guid),this.visibleColumns=this.getVisibleColumns(),this.adaptTableConfig.virtualRowHeight=this.getVirtualRowHeight()}onColReorder(e){this.visibleColumns=this.getVisibleColumns(),this.userPreferencesChanged$.next()}onColumnResize(){const e=this.adaptTable.el.nativeElement.getBoundingClientRect(),t=null==e?void 0:e.width,n=this.adaptTable.dataHeaderCells.reduce((e,t)=>e+t.element.nativeElement.offsetWidth,0),i=100*n/(t*this.getVisibleColumns().length)+"%",o=(0,p.reduce)(this.adaptTable.dataHeaderCells.toArray(),(e,t)=>{const i=t.data.renderingColumn.columnsConfigs[0];let o=null;return n&&(o=(0,p.endsWith)(i.width,"px")||this.state.expandable?`${t.element.nativeElement.offsetWidth}px`:`${(0,p.round)(t.element.nativeElement.offsetWidth/n*100,2)}%`),e[i.field]=o,e},{});this.adaptTableConfig.columns.forEach(e=>{var t;e.hidden||(e.width=null!==(t=o[e.field])&&void 0!==t?t:i)}),this.userPreferencesChanged$.next()}onColumnVisibilityChange(e,t){t.hidden===e&&(t.hidden=!e,this.userPreferencesChanged$.next(),this.visibleColumns=this.getVisibleColumns(),this.adaptTableConfig.virtualRowHeight=this.getVirtualRowHeight(),e?this.lastPropertySelection.includes(t.field)||this.loadRowData():this.avoidSystemColumnExpansion())}onCreateNewFilterPreset(e){const t={filters:e.filters,name:e.name,id:this.rxGuidService.generate()},n=this.getAppliedExternalPresetFilter(e.filters);n&&(t.appliedSharedFilterPresetGuid=n.value),this.state.advancedFiltering.savedFilters.push(t),this.state.advancedFiltering.activeSavedFilter=t,this.userPreferencesChanged$.next()}onDeleteSavedFilterPreset(e){(0,p.remove)(this.state.advancedFiltering.savedFilters,t=>t.id===e.id),this.userPreferencesChanged$.next()}onEditSavedFilterClick(e){let t=null;e.savedFilter.appliedSharedFilterPresetGuid&&(t=e=>e),e.savedFilter.filters&&this.areNonExternalPresetFiltersApplied(e.savedFilter.filters)?e.savedFilter.appliedSharedFilterPresetGuid&&(e.preventDefault(),e.initSavedFilterEditing(t.bind(this))):(e.preventDefault(),this.loadSavedFilterPresetFilters(e.savedFilter).subscribe(()=>{e.initSavedFilterEditing(t&&t.bind(this))}))}onExport(e){if(this.isExportInProgress)return void this.rxNotificationService.addInfoMessage(this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.export-in-progress.message"));const t=this.getVisibleColumns().filter(e=>!e.isRowActionsColumn);if(!t.length)return void this.rxNotificationService.addWarningMessage(this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.no-data-to-export.message"));const n=t.map(e=>e.header||e.fallbackTitle);let i;if(e.selectionOnly)i=(0,o.of)((0,p.intersectionBy)(this.adaptTableConfig.data,this.getSelectedRows(),c.RowDataItemIdFieldName));else{const e=this.getHeaders(),n=this.prepareQueryParamsAndQueryArgs(!1);n.pageSize=-1,n.propertySelection=t.map(e=>e.field),delete n.cursor,this.isExportInProgress=!0,i=this.getDataPageService().post({params:n,headers:e}).pipe((0,r.map)(e=>e.data),(0,r.finalize)(()=>{this.isExportInProgress=!1}))}i.subscribe(e=>{const i=this.getCellValues(e,t);this.exportDataToCsv(i,n)})}onLazyLoad(e){this.state.useExternalFiltering?(e.loadMore||e.eventSource!==R.AdaptTableEventSource.LoadMore)&&(this.adaptTableConfig.multiSortMeta=e.multiSortMeta,this.adaptTableConfig.filters=e.filters,this.adaptTableConfig.isLoadingMoreData=e.loadMore,this.loadRowData(e.loadMore)):e.eventSource===R.AdaptTableEventSource.FilterChange&&(this.adaptTableConfig.filters=e.filters,this.adaptTableConfig.data=this.filterRows(this.adaptTableConfig.originalRows))}onRefreshClick(){this.state.useExternalFiltering||this.loadRowData(!1);const e=this.adaptTable.toolbarComponent.getQuickFilterInputValue();this.adaptTable.setQuickFilter(e)}onRemoveFilterTag(e){this.state.advancedFiltering.activeSavedFilter=null;const t=this.state.advancedFiltering.selectedFilters.slice(),n=e.removedTag.data.filterOption.id,i=(0,p.findIndex)(t,e=>e.filterOptionId===n);t.splice(i,1),this.onAdvancedFiltersChange(t),this.setToolbarTags(e.newTags)}onRowsSelectionChange(e){const t=e?(0,p.castArray)(e):[],n=this.adaptTableConfig.selectedItems;this.shouldDisplayActionButtons=!(0,p.isEmpty)(t)&&!(0,p.isEmpty)(this.actionButtons),this.expandSelectedRowsProperties(t),this.adaptTableConfig.selectedItems=t,this.adaptTableConfig.toolbarConfig=Object.assign(Object.assign(Object.assign({},this.adaptTableConfig.toolbarConfig),{quickFilter:!this.shouldDisplayActionButtons,leftCustomSectionFixed:this.shouldDisplayActionButtons,rightCustomSectionFixed:this.shouldDisplayActionButtons,leftCustomSection:this.shouldDisplayActionButtons,filter:!this.shouldDisplayActionButtons}),this.state.toolbarConfig),this.adaptTableConfig.texts=Object.assign(Object.assign({},this.adaptTableConfig.texts),{exportSelected:this.getExportSelectedText(t)}),this.addSelectionFieldOptionNames(t[0]),this.notifyPropertyChanged("selectedRows",t,n),this.notifyPropertyChanged("selectedRowCount",t.length,n.length),this.notifyPropertyChanged("firstSelectedRow",t[0],n[0]),this.notifyPropertyChanged("fieldValuesByFieldId",this.prepareFieldsValueByFieldIdData(t),{}),this.rowSelectionChanged.next(t)}onSearchColumns(){this.filteredVisibleColumns=this.sortedColumnsByTitle.filter(e=>this.rxStringService.caseInsensitiveSearch(e.header,this.columnSearchText))}onSort(e){this.applySorting(e.multisortmeta)}onSortCards(e){this.applySorting(e),this.loadRowData()}onRowActionOpen(e){var t;null===(t=(0,p.last)(this.popovers))||void 0===t||t.close(),this.addSelectionFieldOptionNames(e);const n=this.expandRowProperties(e);this.state.lastActionRow=n,this.notifyPropertyChanged("clickableRow",n,null)}onUpdateSavedFilterPreset(e){const t=(0,p.find)(this.state.advancedFiltering.savedFilters,t=>t.id===e.oldSavedFilter.id);t&&(t.appliedSharedFilterPresetGuid&&!(0,p.find)(e.newSavedFilter.filters,e=>e.filterOptionId===kd.externalPresetFilterOptionId)&&delete t.appliedSharedFilterPresetGuid,Object.assign(t,e.newSavedFilter),this.userPreferencesChanged$.next())}openRowDetails(e,t){var n;null===(n=(0,p.last)(this.popovers))||void 0===n||n.close(),this.cardLayoutOpenedModal=this.adaptModalService.open({title:this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.cards.record-details.dialog.title"),content:this.cardLayoutRowDetailsTemplate,data:{columns:e,rowDataItem:t}}),this.cardLayoutOpenedModal.catch(p.noop)}setToolbarTags(e){this.state.advancedFiltering.toolbarTags=e,this.updateToolbarItems()}trackByColumnField(e,t){return t.field}updateToolbarTags(e){this.getToolbarTags(e).subscribe(e=>{this.setToolbarTags(e)})}addAssociationFieldsToRecordDefinition(e){const t=this.state.recordDefinition.fieldDefinitionsById;e.forEach(e=>{t[e.fieldId]||this.rxRecordDefinitionService.addFieldDefinitionToMap(e.fieldDefinition,t,e.fieldId)}),this.state.recordDefinition.fieldDefinitionsById=Object.assign(Object.assign({},t),this.rxObjectUtilsService.expandProperties(t)),this.notifyPropertyChanged("recordDefinition",this.state.recordDefinition)}areNonExternalPresetFiltersApplied(e){return e.some(e=>e.filterOptionId!==kd.externalPresetFilterOptionId)}getAppliedExternalPresetFilter(e){return e.find(e=>e.filterOptionId===kd.externalPresetFilterOptionId)}prepareFieldsValueByFieldIdData(e){const t=(0,p.map)(this.adaptTableConfig.columns,"field");return(0,p.reduce)(e,(e,n,i)=>(t.forEach(function(t){e[t]=e[t]||[],e[t][i]=n[t]}),e),{})}addSelectionFieldOptionNames(e){e&&(e.selectionFieldOptionNamesById=(0,p.transform)(this.selectionFieldOptionLabelsByFieldId,(t,n,i)=>{t[i]=n[e[i]]},{}))}applyFilters(e,t){this.initializationCompleted$.pipe((0,r.switchMap)(()=>this.rxRecordGridFilterService.getAdvancedFilterData(e,this.state.recordDefinition.fieldDefinitionsById,this.state.advancedFiltering.recordGridFilterConfigs,this.state.recordDefinition,this.state.advancedFiltering.filterOptions,this.state.associationDescriptors)),(0,r.take)(1),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>{let n,i=(0,p.isEmpty)(this.pendingFiltersToApply)?(0,p.cloneDeep)(this.state.advancedFiltering.selectedFilters):this.pendingFiltersToApply;switch(t){case c.ApplyGridFilterMode.Begin:this.pendingFiltersToApply?n=this.pendingFiltersToApply:this.pendingFiltersToApply=[];break;case c.ApplyGridFilterMode.Append:n=[...i.filter(t=>!e.find(e=>e.filterOptionId===t.filterOptionId)),...e];break;case c.ApplyGridFilterMode.Remove:n=i.reduce((t,n)=>{const i=e.find(e=>e.filterOptionId===n.filterOptionId);return i?(this.isRangeFilter(n.filterOptionId)?(0,p.isEqual)(n.value.filterValue,i.value.filterValue)&&(n.value.filterValue=[null,null]):n.value.filterValue=n.value.filterValue.filter(e=>!i.value.filterValue.includes(e)),n.value.namedOptions=n.value.namedOptions.filter(e=>!i.value.namedOptions.includes(e)),ru.isEmptyWithRange(n.value)||t.push(n)):t.push(n),t},[]);break;case c.ApplyGridFilterMode.Merge:n=[...i,...e].reduce((e,t)=>{const n=e.find(e=>e.filterOptionId===t.filterOptionId);return n?(this.isRangeFilter(t.filterOptionId)?n.value.filterValue=[...t.value.filterValue]:n.value.filterValue=(0,p.uniq)(n.value.filterValue.concat(t.value.filterValue)),n.value.namedOptions=(0,p.uniq)(n.value.namedOptions.concat(t.value.namedOptions))):e.push(t),e},[]);break;case c.ApplyGridFilterMode.Overwrite:this.state.advancedFiltering.appliedSharedFilterPreset=null,this.state.advancedFiltering.activeSavedFilter=null,n=e;break;case c.ApplyGridFilterMode.Clear:this.state.advancedFiltering.appliedSharedFilterPreset=null,this.state.advancedFiltering.activeSavedFilter=null,n=[],this.pendingFiltersToApply&&(this.state.advancedFiltering.selectedFilters=[]);break;case c.ApplyGridFilterMode.End:this.pendingFiltersToApply&&(n=this.pendingFiltersToApply,this.pendingFiltersToApply=null)}this.pendingFiltersToApply?this.pendingFiltersToApply=n||[]:n&&this.onAdvancedFiltersChange(n)})}applyPendingSelectedFilters(){const e=(0,p.cloneDeep)(this.state.advancedFiltering.selectedFilters);(0,p.forEach)(this.state.advancedFiltering.pendingSelectedFilters,t=>{const n=(0,p.find)(e,{filterOptionId:t.filterOptionId});let i=[];switch(this.state.recordDefinition.fieldDefinitionsById[t.filterOptionId].resourceType){case s.RX_RECORD_DEFINITION.dataTypes.dateOnly.resourceType:case s.RX_RECORD_DEFINITION.dataTypes.dateTime.resourceType:i=t.value.map(e=>(0,S.default)(e)),i=[S.default.min(i),S.default.max(i)];break;case s.RX_RECORD_DEFINITION.dataTypes.timeOnly.resourceType:i=t.value.map(e=>(0,S.default)(e,"LTS")),i=[S.default.min(i),S.default.max(i)];break;case s.RX_RECORD_DEFINITION.dataTypes.integer.resourceType:case s.RX_RECORD_DEFINITION.dataTypes.decimal.resourceType:case s.RX_RECORD_DEFINITION.dataTypes.real.resourceType:i=[(0,p.min)(t.value),(0,p.max)(t.value)];break;case s.RX_RECORD_DEFINITION.dataTypes.boolean.resourceType:i=t.value.map(e=>"$NULL$"===e?"blank":1===e);break;default:i=(0,p.uniq)(t.value.map(e=>String(e)))}n?n.value.filterValue=i:(t.value=new ru(i),e.push(t))}),this.onAdvancedFiltersChange(e),this.clearSelectedCells()}applySorting(e){this.adaptTableConfig.multiSortMeta=e,this.userPreferencesChanged$.next(),this.state.useExternalFiltering||(this.adaptTableConfig.data=this.filterRows(this.adaptTableConfig.data))}applyViewPreset(e,t,n){var i;return e===(null===(i=this.state.viewPresetSelector)||void 0===i?void 0:i.getGuid())?this.applyViewPresetInner(t,n):o.EMPTY}shareViewPreset(e){var t;return e===(null===(t=this.state.viewPresetSelector)||void 0===t?void 0:t.getGuid())?(0,o.of)(this.rxRecordGridUserPreferencesService.getSharedViewPresetData()):(0,o.of)(null)}applyViewPresetInner(e,t){return this.initializationCompleted$.pipe((0,r.switchMap)(()=>{const n=t&&t[this.guid];return n?this.rxRecordGridUserPreferencesService.applySharedViewPreset(this.state,this.adaptTableConfig,e,n):this.rxRecordGridUserPreferencesService.applyViewPreset(this.state,this.adaptTableConfig,e)}),(0,r.take)(1),(0,r.tap)(()=>{this.loadRowData(),this.userPreferencesChanged$.next(),this.checkIfViewPresetEdited()}))}areUserFiltersApplied(){return this.isSearchApplied()||Boolean(this.state.advancedFiltering.appliedSharedFilterPreset)||!(0,p.isEmpty)(this.state.advancedFiltering.selectedFilters)}isSearchApplied(){const e=(0,p.get)(this.adaptTableConfig.filters,"global.value","").toString().trim();return Boolean(e)}checkIfViewPresetEdited(){this.state.viewPresetSelector&&this.rxRecordGridUserPreferencesService.isCurrentViewPresetEdited()&&this.state.viewPresetSelector.markAppliedViewPresetAsEdited()}clearSelectedCells(){var e;null===(e=(0,p.last)(this.popovers))||void 0===e||e.close(),this.popovers=[],this.state.advancedFiltering.pendingSelectedFilters=[],this.state.advancedFiltering.selectedCardValues={}}compareRows(e,t){const n=this.adaptTableConfig.multiSortMeta;return(0,p.reduce)(n,(n,i)=>{let o,r;if(e.groupField&&t.groupField?(o=e.groupField===i.field?e.groupValue:null,r=t.groupField===i.field?t.groupValue:null):(o=e[i.field],r=t[i.field]),isNaN(o)||isNaN(r))n=n||i.order*(0,p.toString)(o).localeCompare((0,p.toString)(r));else{const e=Number(o),t=Number(r);n=n||i.order*(e<t?-1:e>t?1:0)}return n},0)}createCsvExportFile(e){const t=new Blob([`\ufeff${e}`],{type:"text/csv;charset=utf-8"});this.ngZone.runOutsideAngular(()=>{(0,M.saveAs)(t,`${this.getExportFileName()}.csv`)})}deleteViewPreset(e){return this.rxRecordGridUserPreferencesService.deleteViewPreset(e),this.userPreferencesChanged$.next(),o.EMPTY}discardViewPresetChanges(e,t){return this.rxRecordGridUserPreferencesService.isExistingViewPreset(e)?(this.rxRecordGridUserPreferencesService.discardViewPresetChanges(e),this.applyViewPresetInner(e,t)):o.EMPTY}enrichRowEntity(e){let t={};if(!(0,p.isEmpty)(this.clickableWithHrefColumnActions)){this.addSelectionFieldOptionNames(e);const n=this.expandRowProperties(e);(0,p.set)(this.clickableWithHrefActionExpressionEvaluationData,`view.components.${this.guid}.clickableRow`,n),t=(0,p.reduce)(this.clickableWithHrefColumnActions,(e,t,n)=>{const i=this.findEnabledGridAction(t);return(null==i?void 0:i.name)===c.RX_VIEW_ACTION.viewActionNames.openView?(e[`${n}$ROUTER_LINK$`]=this.rxViewActionUtilsService.generateViewUrl(i.viewDefinitionName),e[`${n}$QUERY_PARAMS$`]=this.evaluateViewInputParameters(i.viewParams)):(null==i?void 0:i.name)===c.RX_VIEW_ACTION.viewActionNames.launchUrl?(e[`${n}$LAUNCH_URL$`]=this.rxExpressionEvaluatorService.tryEvaluate(i.url,this.clickableWithHrefActionExpressionEvaluationData),e[`${n}$TARGET$`]=c.RX_LAUNCH_BEHAVIOR[i.launchBehavior].target):(e[`${n}$LAUNCH_URL$`]=null,e[`${n}$ROUTER_LINK$`]=null),e},{})}return Object.assign({},e,{[c.RowDataItemIdFieldName]:e[this.adaptTableConfig.primaryKey]},t)}expandRowProperties(e){return Object.assign(Object.assign({},e),this.rxObjectUtilsService.expandProperties(e))}expandSelectedRowsProperties(e){(0,p.forEach)(e,(t,n)=>{e[n]=this.expandRowProperties(t)})}exportDataToCsv(e,t){const n=`${`"${t.join('","')}"\n`}${e.map(e=>`"${e.join('","')}"\n`).join("")}`;this.createCsvExportFile(n)}evaluateViewInputParameters(e){const t={};return(0,p.forEach)(e,(e,n)=>{const i=this.rxExpressionEvaluatorService.tryEvaluate(e,this.clickableWithHrefActionExpressionEvaluationData);t[n]=i||""}),t}filterRows(e){const t=(0,p.get)(this.adaptTableConfig.filters,"global.value","").toString().trim();let n=(0,p.cloneDeep)(e);if(t){const e=this.getVisibleColumns();n=n.filter(n=>(0,p.some)(e,i=>n.groupField?!!this.rxStringService.caseInsensitiveSearch(n.groupValue,t)||(n.items=this.getFilteredItems(n.items,e,t),n.items.length):this.rxStringService.caseInsensitiveSearch(this.getCellValue(n,i),t)))}if((0,p.isEmpty)(this.state.advancedFiltering.selectedFilters)||(n=this.rxRecordGridFilterService.filterRows(n,this.state.advancedFiltering.selectedFilters,this.state.recordDefinition,this.state.advancedFiltering.recordGridFilterConfigs)),this.adaptTableConfig.multiSortMeta&&(this.state.expandGroups?this.sortRows(n):n.sort((e,t)=>this.compareRows(e,t))),this.state.expandGroups){const e=t=>{const n=t.filter(e=>e.items);let i=t.length-n.length;return null==n||n.forEach(t=>i+=e(t.items)),i};this.adaptTableConfig.totalRecords=e(n)}else this.adaptTableConfig.totalRecords=n.length;return n}findEnabledGridAction(e){return e.find(e=>{const t=e.$condition$;return!1!==this.rxExpressionEvaluatorService.tryEvaluate(t,this.clickableWithHrefActionExpressionEvaluationData)})}getAdvancedFilterOptions(){return(0,p.reduce)(this.state.recordDefinition.fieldDefinitionsById,(e,t,n)=>{var i;if(!(0,p.isUndefined)(t.id)){const o=this.adaptTableConfig.columns.find(e=>e.field===n),r=!o||!o.filterable,s=this.state.advancedFiltering.recordGridFilterConfigs[t.resourceType],a=null==o?void 0:o.additionalQueryCriteria;s&&e.push(this.rxRecordGridAdvancedFilteringService.getAdvancedFilterOption(n,o?o.header||o.fallbackTitle:t.name,t,s,r,{optionalBooleanFilter:this.fieldsProvider.optionalBooleanFilter,requiredBooleanFilter:this.fieldsProvider.requiredBooleanFilter,inputsForStringWithTypeAheadTemplate:this.fieldsProvider.inputsForStringWithTypeAheadTemplate,inputsForStringTypeTemplate:this.fieldsProvider.inputsForStringTypeTemplate,inputsForNumberTypeTemplate:this.fieldsProvider.inputsForNumberTypeTemplate,inputsForTimeTypeTemplate:this.fieldsProvider.inputsForTimeTypeTemplate,inputsForDateTypeTemplate:this.fieldsProvider.inputsForDateTypeTemplate,inputsForDatetimeTypeTemplate:this.fieldsProvider.inputsForDatetimeTypeTemplate,inputsForSelectionTypeTemplate:this.fieldsProvider.inputsForSelectionTypeTemplate},null,this.state.namedFilterOptions[n],null!==(i=null==o?void 0:o.typeaheadKeystrokeCount)&&void 0!==i?i:null,(null==o?void 0:o.filterable)?a:null))}return e},[]).sort((e,t)=>e.label.localeCompare(t.label))}getAssociationDescriptors(){const e=this.getRecordDefinitionName();return e?this.rxRecordGridUtilsService.getAssociationDescriptors(e):(0,o.of)([])}getBaseDataPageParams(){const e=this.state,t={recorddefinition:e.recordDefinitionName};return Boolean(e.associationDefinitionName)&&Object.assign(t,{associatedRecordInstanceId:e.associatedRecordId,associationDefinition:e.associationDefinitionName,nodeToQuery:e.associatedRecordNodeSide,recordDefinitionToQuery:e.recordDefinitionName}),e.associatedRoleName&&(t.roleName=e.associatedRoleName),t}getCellValueFormatter(e){const t=e.fieldDefinition;let n=e=>e;switch(t.resourceType){case s.RX_RECORD_DEFINITION.dataTypes.boolean.resourceType:n=e=>this.rxBooleanPipe.transform(e);break;case s.RX_RECORD_DEFINITION.dataTypes.selection.resourceType:n=t=>this.selectionFieldOptionLabelsByFieldId[e.fieldId][t];break;case s.RX_RECORD_DEFINITION.dataTypes.dateTime.resourceType:n=e=>this.datePipe.transform(e,"medium");break;case s.RX_RECORD_DEFINITION.dataTypes.dateOnly.resourceType:n=e=>this.datePipe.transform(e);break;case s.RX_RECORD_DEFINITION.dataTypes.timeOnly.resourceType:n=e=>e?this.datePipe.transform(new Date(`2000-01-01T${e}`),"mediumTime"):e;break;case s.RX_RECORD_DEFINITION.dataTypes.attachment.resourceType:n=e=>{const t=(0,p.get)(e,"name");return(0,p.isString)(t)?t:e};break;case s.RX_RECORD_DEFINITION.dataTypes.decimal.resourceType:case s.RX_RECORD_DEFINITION.dataTypes.real.resourceType:{const e=t.precision,i=(0,p.isNil)(e)||-1===e?null:`1.${e}-${e}`;n=e=>this.decimalPipe.transform(e,i);break}case s.RX_RECORD_DEFINITION.dataTypes.integer.resourceType:n=e=>this.decimalPipe.transform(e)}return n}getCellValues(e,t){return e.map(e=>t.map(t=>this.getCellValue(e,t)))}getColumns(){return this.adaptTableConfig.columns.map(e=>{const t=(0,p.find)(this.state.columnsWithMetadata,{fieldId:e.field});return{field:e.field,header:e.header,hidden:(0,h.getValueOrFunc)(e.hidden),fieldDefinition:t.fieldDefinition}})}getData(e){return this.getDataBase(e,!1).pipe((0,r.tap)(e=>{this.cursor=e.cursor||void 0}))}getDataBase(e,t){var n,i;let o;const r=this.prepareQueryParamsAndQueryArgs(t);if(null===(n=r.queryExpression)||void 0===n?void 0:n.includes(c.RX_EXPRESSION_EVALUATOR.operands.undefined))return this.rxLogService.debug(`Query expression contains undefined operands: ${r.queryExpression}`),this.rxRecordInstanceDataPageService.getEmptyDataPage();if(this.state.enableFiltering&&!this.isSearchApplied()&&this.state.requiredFilters>this.state.advancedFiltering.selectedFilters.length)return this.rxNotificationService.addWarningMessage(this.getFiltersRequiredMessage(this.state.requiredFilters),this.translateService.instant("com.bmc.arsys.rx.client.common.alert.label")),this.rxRecordInstanceDataPageService.getEmptyDataPage();if((0,p.isNumber)(e)&&(r.startIndex=e),0===e&&delete r.cursor,this.lastQueryExpression=null!==(i=r.queryExpression)&&void 0!==i?i:"",t||(this.lastPropertySelection=r.propertySelection),this.state.getData)o=this.state.getData(Object.assign(Object.assign({},r),{searchText:(0,p.get)(this.adaptTableConfig.filters,"global.value","").toString().trim()}));else if(this.hasAssociationAndEmptyRecordId())o=this.rxAssociationInstanceDataPageService.getEmptyDataPage();else{o=this.getDataPageService().post({params:r,headers:this.getHeaders()})}return o}getDataCellStyle(e){let t="";switch(e.alignment){case kd.columnAlignment.left:t="left";break;case kd.columnAlignment.right:t="right";break;case kd.columnAlignment.center:t="center";break;default:const n=[s.RX_RECORD_DEFINITION.dataTypes.integer.resourceType,s.RX_RECORD_DEFINITION.dataTypes.decimal.resourceType,s.RX_RECORD_DEFINITION.dataTypes.real.resourceType];-1!==e.fieldDefinition.resourceType.search(n.join("|"))&&(t="right")}return{"text-align":t}}getDataPageService(){return Boolean(this.state.associationDefinitionName)?this.rxAssociationInstanceDataPageService:this.rxRecordInstanceDataPageService}getExportFileName(){return`${this.datePipe.transform(new Date,"yyyy-MM-dd")} Grid Data`}getFilteredItems(e,t,n){return e.filter(e=>{let i;return e.groupField?this.rxStringService.caseInsensitiveSearch(e.groupValue,n)?i=!0:(e.items=this.getFilteredItems(e.items,t,n),i=e.items.length):i=(0,p.some)(t,t=>this.rxStringService.caseInsensitiveSearch(this.getCellValue(e,t),n)),i})}getFirstSelectedRow(){return(0,p.get)(this.adaptTableConfig.selectedItems,"0",null)}getGridColumnDefinitions(e){const t=[];return e.slice().sort((e,t)=>e.index-t.index).map(e=>{let n;const i=this.rxRecordGridConfigUtilsService.parseConfigString(e.sortable),o=this.rxRecordGridUtilsService.getTestIdForGridColumn(e.fieldId);(0,p.isObject)(i)?(n=!0,this.adaptTableConfig.multiSortMeta?this.adaptTableConfig.multiSortMeta.splice(i.priority,0,{field:e.fieldId,order:this.rxRecordGridConfigUtilsService.getColumnSortOrder(i.direction)}):this.adaptTableConfig.multiSortMeta=[{field:e.fieldId,order:this.rxRecordGridConfigUtilsService.getColumnSortOrder(i.direction)}]):n=i;const r=(0,p.endsWith)(e.width,"px"),s=this.adaptTableConfig.columnResizeMode!==R.ResizeMode.Expand||r?e.width:null,a=r&&parseInt(s)<kd.defaultColumnMinWidth?s:null;e.fieldId===kd.actionsColumnFieldDefinition.id?t.push({field:e.fieldId,header:e.title,fallbackTitle:e.fallbackTitle,width:s,minWidth:a,hidden:!e.visible,cellTemplate:this.rowActionButtonsTemplate,editTemplate:null,filterTemplate:null,headerTitleTemplate:null,cellTooltip:null,headerTooltip:null,headerClass:null,filterable:e.filterable,searchable:e.searchable,sortable:n,editable:!1,customTemplate:this.rowActionButtonsTemplate,clickable:!1,dataCellClass:"rx-row-action-cell",isRowActionsColumn:!0,testId:o}):(t.push({field:e.fieldId,header:e.title,fallbackTitle:e.fallbackTitle,width:s,minWidth:a,hidden:!e.visible,cellTemplate:this.cellTemplate,editTemplate:null,filterTemplate:null,headerTitleTemplate:null,cellTooltip:e=>this.showCellTooltip&&this.getCellValue(e.dataItem,e.column)||null,headerTooltip:e.headerTooltip,dataCellClass:this.getDataCellClass.bind(this),dataCellStyle:this.getDataCellStyle(e),headerClass:null,sortable:n,editable:null,filterable:e.filterable,searchable:e.searchable,filterName:null,filterParams:null,clickable:e.clickable,filterType:e.filterType,isDownloadableAttachment:this.isDownloadableAttachmentColumn(e),clickableWithHref:e.clickableWithHref,customTemplate:e.cellTemplate,wrapText:e.wrapText,referenced:e.referenced,cellDisplayProperties:e.cellDisplayProperties,typeaheadKeystrokeCount:e.typeaheadKeystrokeCount,additionalQueryCriteria:e.additionalQueryCriteria,testId:o}),this.cellValueFormatters[e.fieldId]=this.getCellValueFormatter(e))}),t}getGridData(e){const t=()=>{this.adaptTableConfig.isLoadingData=!1,this.adaptTableConfig.isLoadingMoreData=!1};return this.adaptTableConfig.isLoadingData=!0,this.getData(e?this.adaptTableConfig.data.length:0).pipe((0,r.tap)(n=>{t();const i=n.data.map(this.enrichRowEntity.bind(this));if(this.state.useExternalFiltering?e?(this.adaptTableConfig.data=this.adaptTableConfig.data.concat(i),(0===i.length||i.length<this.adaptTableConfig.rows)&&(this.adaptTableConfig.totalRecords=this.adaptTableConfig.data.length)):(this.adaptTableConfig.data=i,i.length<this.adaptTableConfig.rows?this.adaptTableConfig.totalRecords=i.length:this.adaptTableConfig.totalRecords=null):(this.adaptTableConfig.originalRows=i,this.adaptTableConfig.data=this.filterRows(this.adaptTableConfig.originalRows)),this.state.expandGroups){this.adaptTableConfig.expandedGroupsKeys={};const e=t=>{t.forEach(t=>{if(t.items){const n=this.adaptTableConfig.expandedGroupsKeys[t.groupField];n?n[t.groupValue]=!0:this.adaptTableConfig.expandedGroupsKeys[t.groupField]={[t.groupValue]:!0},e(t.items)}})};e(this.adaptTableConfig.data)}this.adaptTableConfig.toolbarConfig.rightCustomSection=Boolean(this.state.enableRowSelection&&this.adaptTableConfig.data.length),this.notifyPropertyChanged("totalRowCount",this.adaptTableConfig.data.length),this.notifyPropertyChanged("queryExpression",this.lastQueryExpression),this.notifyPropertyChanged("lastRefreshTime",(new Date).toISOString()),e||(this.onRowsSelectionChange([]),this.scrollToTop()),this.setSelectedFilteredRowsCount(),this.dataLoaded.emit(),this.dataLoadContextSubject.next({associatedRecordId:this.state.associatedRecordId,associatedRoleName:this.state.associatedRoleName,filterExpression:this.state.filterExpression,namedFilterOptions:this.state.namedFilterOptions}),this.changeDetector.markForCheck()}),(0,r.catchError)(e=>(t(),(0,o.throwError)(e))))}getHeaders(){return{"Should-Query-All-Locales":this.state.showDataForAllLocales?"true":[]}}getNamedFilterOptionsState(e){return e.reduce((e,t)=>(t.predefinedFilterPresets&&(e[t.fieldId]=t.predefinedFilterPresets.sort((e,t)=>e.index-t.index)),e),{})}getProgrammaticActionButtons(e){return e.map(e=>{let t;return t=(0,p.isFunction)(e.disabled)||(0,p.isFunction)(e.hidden)?this.rowSelectionChanged.pipe((0,r.map)(t=>Object.assign(Object.assign({},e),{disabled:(0,p.isFunction)(e.disabled)?e.disabled(t):e.disabled,hidden:(0,p.isFunction)(e.hidden)?e.hidden(t):e.hidden}))):(0,o.of)(e),{guid:e.guid,config:t,runtimeViewModelApi:{triggerViewActions:(t,n)=>this.executeViewActions(e.guid,(0,p.get)(e,"actions"),this.state.lastActionRow)},factory:null,outlets:null}})}getRecordDefinition(){return this.state.getRecordDefinition?this.state.getRecordDefinition().pipe((0,r.tap)(e=>this.rxRecordDefinitionService.applyLocalization(e))):this.rxRecordDefinitionCacheService.getRecordDefinition(this.state.recordDefinitionName)}getRecordDefinitionName(){return this.state.recordDefinitionName}getSelectedRowCount(){return this.adaptTableConfig.selectedItems.length}getSelectedRows(e=!1){return e?(0,p.intersectionBy)(this.adaptTableConfig.data,this.adaptTableConfig.selectedItems,c.RowDataItemIdFieldName):this.adaptTableConfig.selectedItems}getTotalRowCount(){return this.getDataBase(null,!0)}getVirtualRowHeight(){var e;if(!(null===(e=this.adaptTableConfig.cardLayoutColumns)||void 0===e?void 0:e.length))return kd.defaultRowHeight;return 32*this.visibleColumns.length+6}hasAssociationAndEmptyRecordId(){return Boolean(this.state.associationDefinitionName)&&!this.state.associatedRecordId}initActionButtons(){this.isProgrammaticUse?this.actionButtons=this.getProgrammaticActionButtons(this.state.actionButtons):this.actionButtons=(0,p.get)(this.runtimeViewCanvasItemComponent.getChildren(c.RX_VIEW_DEFINITION.defaultOutletName),"[0].children")}initAdvancedFilterTexts(){this.state.advancedFiltering.filterTexts={initialDropdownAnchorLabel:this.translateService.instant("com.bmc.arsys.rx.client.common.filter-data.label")}}initCustomTexts(){this.adaptTableConfig.texts={searchPlaceholder:this.state.searchFieldPlaceholderText,emptyStateLabelText:this.state.emptyStateLabelText,emptyStateWithFilterLabelText:this.state.emptyStateWithFilterLabelText,exportEntireDocument:this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.export-all-rows.label"),exportSelected:this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.export-selected-rows.label")}}initGrid(){return this.state.guid=this.guid,(0,o.forkJoin)([this.rxGridConfiguratorService.getColumnsWithMetadata(this.guid,this.state.columns,this.state.recordDefinition),this.guid&&this.state.enableFiltering?this.getSharedFilterPresets():(0,o.of)(null)]).pipe((0,r.switchMap)(([e,t])=>(this.state.columnsWithMetadata=e,this.state.namedFilterOptions=this.getNamedFilterOptionsState(e),this.isUserAllowedToDeleteRecords=!!this.state.recordDefinition&&(!1!==this.state.recordDefinition.allowNonAdminToDeleteRecordInstances||this.rxCurrentUserService.isAdministrator()),this.notifyPropertyChanged("isUserAllowedToDeleteRecords",this.isUserAllowedToDeleteRecords),this.addAssociationFieldsToRecordDefinition(e),this.selectionFieldOptionLabelsByFieldId=this.rxGridConfiguratorService.getSelectionFieldOptionLabelsByFieldId(this.state.columns,this.state.recordDefinition),this.adaptTableConfig.columnResizeMode=this.state.expandable?R.ResizeMode.Expand:R.ResizeMode.Fit,this.adaptTableConfig.columns=this.getGridColumnDefinitions(e),this.state.advancedFiltering.recordGridFilterConfigs=this.rxRecordGridFilterConfigService.getConfigs(),this.state.advancedFiltering.filterOptions=this.getAdvancedFilterOptions(),this.state.advancedFiltering.filterOptions.push({id:kd.externalPresetFilterOptionId,label:kd.externalPresetFilterOptionId,dataType:h.AdvancedFilterOptionDataType.custom,isHidden:!0,customConfig:{getTagText:e=>{var t;return null===(t=this.state.advancedFiltering.savedFilters.find(t=>t.id===e))||void 0===t?void 0:t.name}}}),this.adaptTableConfig.rowSelectionMode=this.state.enableRowSelection,this.adaptTableConfig.primaryKey=this.state.recordIdField,this.adaptTableConfig.bordered=this.state.bordered,this.adaptTableConfig.striped=this.state.striped,this.adaptTableConfig.toolbarConfig.rightCustomSection=Boolean(this.state.enableRowSelection&&this.adaptTableConfig.data.length),this.state.initialFilters=this.rxRecordGridFilterHelperService.getRecordGridFilterDataFromPredefinedFilter(this.state.filters,this.state.recordGridFilters),this.clickableWithHrefColumnActions=(0,p.reduce)(e,(e,t)=>(t.clickableWithHref&&(e[t.fieldId]=t.actions),e),{}),(0,p.isEmpty)(this.clickableWithHrefColumnActions)||(this.clickableWithHrefActionExpressionEvaluationData={view:{components:{[this.guid]:{recordDefinition:this.state.recordDefinition}},inputParams:this.runtimeViewModelApi.getViewInputParameters()}}),this.guid?this.rxRecordGridUserPreferencesService.applyUserPreferences(this.adaptTableConfig,this.state.columnsWithMetadata,this.state,t):(0,o.of)(null))),(0,r.tap)(()=>{this.sortedColumnsByTitle=this.getSortedColumnsByTitle(),this.filteredVisibleColumns=this.sortedColumnsByTitle,this.visibleColumns=this.getVisibleColumns(),this.isFilterBySelectionButtonVisible=this.state.enableFiltering&&(0,p.some)(this.visibleColumns,"filterable"),this.initActionButtons(),this.initRowActionButtons(),this.state.viewPresetSelector||(this.avoidSystemColumnExpansion(),this.loadRowData()),this.updateToolbarTags(this.state.advancedFiltering.toolbarTags),this.updateAdaptTableFilters()}))}avoidSystemColumnExpansion(){if(this.adaptTableConfig.cardLayoutColumns)return void this.avoidSystemCardColumnExpansion();const e=[],t=[],n=(0,p.find)(this.adaptTableConfig.columns,{field:kd.actionsColumnFieldDefinition.id,hidden:!1});let i=0,o=0,r=0;if(this.adaptTableConfig.columns.every(s=>{if(!s.hidden){if((0,p.isNil)(s.width))return!1;const a=parseFloat(s.width);s.width.endsWith("px")?(e.push(s),s!==n&&(i=Math.max(i,a))):(t.push(s),r+=a,s!==n&&(o=Math.max(o,a)))}return!0})&&r<100){const s=Boolean(t.length),a=Boolean(e.length);s&&!a&&t.forEach(e=>{e.width=`${(parseFloat(e.width)/r*100).toFixed(4)}%`}),!s&&a&&(1===e.length&&n?(n.width=null,n.minWidth=null):(0,p.findLast)(e,e=>parseInt(e.width)===i&&e!==n&&(e.width=null,e.minWidth=null,!0))),s&&a&&(1===t.length&&n?(n.width=null,n.minWidth=null):(0,p.findLast)(t,e=>parseFloat(e.width)===o&&e!==n&&(e.width=null,!0)))}}avoidSystemCardColumnExpansion(){if(!this.adaptDeviceDetectionService.iosPlatform())return;const e=this.adaptTable.dataHeaderCells.reduce((e,t)=>e+t.element.nativeElement.offsetWidth,0)-33;this.adaptTableConfig.cardLayoutColumns.forEach(t=>{t.width=`${(parseFloat(t.width)*e/100).toFixed(4)}px`})}initRecordDefinitions(){this.setRecordDefinition(null),this.state.associationDescriptors=[];const e=(0,p.some)(this.state.columns,e=>this.rxRecordGridUtilsService.isAssociatedRecordFieldId(e.fieldId));return(0,o.forkJoin)([this.getRecordDefinition(),e?this.getAssociationDescriptors():(0,o.of)([])]).pipe((0,r.tap)(([e,t])=>{this.setRecordDefinition(e),this.state.associationDescriptors=t}),(0,r.map)(([e])=>e))}initRowActionButtons(){this.isProgrammaticUse?this.rowActionButtons=this.getProgrammaticActionButtons(this.state.rowActionButtons):this.rowActionButtons=(0,p.get)(this.runtimeViewCanvasItemComponent.getChildren(kd.rowActionsOutletName),"[0].children")}isDownloadableAttachmentColumn(e){const t=(0,p.get)(this.state.recordDefinition,"resourceType"),n=(0,p.get)(e,"fieldDefinition.resourceType");return!this.isProgrammaticUse&&(t===s.RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType||t===s.RX_RECORD_DEFINITION.recordDefinitionTypes.join.recordDefinitionType)&&n===s.RX_RECORD_DEFINITION.dataTypes.attachment.resourceType}isRangeFilter(e){const t=[s.RX_RECORD_DEFINITION.dataTypes.dateOnly.resourceType,s.RX_RECORD_DEFINITION.dataTypes.dateTime.resourceType,s.RX_RECORD_DEFINITION.dataTypes.timeOnly.resourceType,s.RX_RECORD_DEFINITION.dataTypes.integer.resourceType,s.RX_RECORD_DEFINITION.dataTypes.decimal.resourceType,s.RX_RECORD_DEFINITION.dataTypes.real.resourceType],n=this.state.recordDefinition.fieldDefinitionsById[e];return(0,p.includes)(t,n.resourceType)}isSharedFilterPreset(e){return Boolean(e.filterExpression)}loadRowData(e){this.getGridData(e).subscribe()}openSortByDialogFn(e){return this.cardLayoutOpenedModal=this.adaptModalService.open(e),this.cardLayoutOpenedModal}prepareQueryParamsAndQueryArgs(e){const t=this.adaptTableConfig.primaryKey,n=Object.assign(Object.assign({},this.getBaseDataPageParams()),{shouldIncludeTotalSize:e,pageSize:e?0:this.adaptTableConfig.rows,startIndex:e?0:this.adaptTableConfig.first});this.cursor&&!e&&(n.cursor=this.cursor),e||(n.propertySelection=(0,p.chain)(this.adaptTableConfig.columns.filter(e=>!e.isRowActionsColumn&&(this.state.getDataForHiddenColumns||!e.hidden||e.referenced)).map(e=>e.field)).union([t]).value());const i=this.adaptTableConfig.multiSortMeta;!e&&i&&i.length&&(n.sortBy=i.map(e=>e.order===R.SortOrder.Asc?`${e.field}`:`-${e.field}`));const o=(0,p.get)(this.adaptTableConfig.filters,"global.value","").toString().trim(),r=this.rxRecordGridFilterService.generateTextFilterQuery(o,this.adaptTableConfig.columns),s=this.state.advancedFiltering.appliedSharedFilterPreset,a=s&&s.filterExpression?`(${s.filterExpression})`:null,l=this.rxRecordGridFilterService.addQueries(this.rxRecordGridFilterService.getQueryFromRecordGridFilterData(this.state.initialFilters,this.state.recordDefinition.fieldDefinitionsById),this.buildQueryByAdvancedFilters(this.state.advancedFiltering.selectedFilters),r,this.state.filterExpression,a);return l&&(n.queryExpression=l),n}refresh(){return this.initializationCompleted$.pipe((0,r.switchMap)(()=>this.getGridData()),(0,r.switchMapTo)(o.EMPTY))}saveViewPreset(e){return this.rxRecordGridUserPreferencesService.saveViewPreset(e),this.userPreferencesChanged$.next(),o.EMPTY}scrollToTop(){if(this.adaptTable){const e=this.adaptTable.getScrollableBodyElement();e&&(e.scrollTop=0)}}setFilter(e){this.state.advancedFiltering.selectedFilters=e}setRecordDefinition(e){this.state.recordDefinition=(0,p.cloneDeep)(e),e&&(this.state.recordDefinition.fieldDefinitionsById=this.rxRecordDefinitionService.buildFieldDefinitionsByIdMap(this.state.recordDefinition)),this.notifyPropertyChanged("recordDefinition",this.state.recordDefinition)}setSelectedFilteredRowsCount(){this.selectedFilteredRowsCount=this.adaptTable.hasFilter()?this.getSelectedRows().length:0}sortRows(e){e.sort((e,t)=>this.compareRows(e,t)),(0,p.forEach)(e,e=>{var t;(null===(t=e.items)||void 0===t?void 0:t.length)&&this.sortRows(e.items)})}toggleCellSelection(e,t,n,i){if(this.state.enableFiltering)if(i){const i=e.filter(e=>{const t=this.state.recordDefinition.fieldDefinitionsById[e.field],n=t.resourceType===s.RX_RECORD_DEFINITION.dataTypes.boolean.resourceType&&this.rxFieldDefinitionService.isRequiredField(t);return e.filterable&&!n}),o=this.isCellSelected(n);(0,p.forEach)(i,e=>{if(e.filterable){const n=t[e.field]||0===t[e.field]?t[e.field]:"$NULL$";this.state.advancedFiltering.selectedCardValues[e.field]?o?(0,p.remove)(this.state.advancedFiltering.selectedCardValues[e.field],n):this.state.advancedFiltering.selectedCardValues[e.field].push(n):this.state.advancedFiltering.selectedCardValues[e.field]=[n]}})}else{const i=e[0];if(i.filterable){const e=(0,p.find)(this.state.advancedFiltering.pendingSelectedFilters,{filterOptionId:i.field}),o=t[i.field]||0===t[i.field]?t[i.field]:"$NULL$",r=this.state.recordDefinition.fieldDefinitionsById[i.field],a=this.isRangeFilter(i.field),l=r.resourceType===s.RX_RECORD_DEFINITION.dataTypes.boolean.resourceType&&this.rxFieldDefinitionService.isRequiredField(r),c=!(a&&e&&2===e.value.length||l&&e||"$NULL$"===o&&(a||l));if(e)if(this.isCellSelected(n)){const t=(0,p.findIndex)(e.value,o);e.value.splice(t,1),this.trackPopoverAnchor(n),e.value.length||(0,p.remove)(this.state.advancedFiltering.pendingSelectedFilters,e)}else c&&(e.value.push(o),this.trackPopoverAnchor(n));else if(c){const e={filterOptionId:i.field,value:[o]};this.state.advancedFiltering.pendingSelectedFilters.push(e),this.trackPopoverAnchor(n)}}}}trackPopoverAnchor(e){var t,n;if(this.isCellSelected(e)){const n=e===(0,p.last)(this.popovers);(0,p.remove)(this.popovers,e),n&&(e.close(),null===(t=(0,p.last)(this.popovers))||void 0===t||t.open())}else null===(n=(0,p.last)(this.popovers))||void 0===n||n.close(),this.popovers.push(e),e.open()}updateAdaptTableFilters(){const e=this.adaptTable.filters.global;this.adaptTable.filters=this.areUserFiltersApplied()?{dummyFilter:{}}:{},e&&(this.adaptTable.filters.global=e)}updateToolbarItems(){if(this.adaptTable){const e=this.adaptTable.toolbarComponent,t=e.toolbarContentItems.find(e=>e.adaptToolbarItem===R.ToolbarItemsByPriority.FILTER);setTimeout(()=>{t&&!t.itemContext.hidden&&e.updateToolbarItems()})}}getExportSelectedText(e){return e.length>1?this.exportSelectedRowsText:this.exportSelectedRowText}getFiltersRequiredMessage(e){return e>1?this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.require-filtering.missing-filters-warning.message",{requiredFiltersCount:e}):this.translateService.instant("com.bmc.arsys.rx.client.view-components.record-grid.require-filtering.missing-filter-warning.message")}}op.\u0275fac=function(e){return new(e||op)(i["\u0275\u0275directiveInject"](h.AdaptDeviceDetectionService),i["\u0275\u0275directiveInject"](h.AdaptModalService),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](m.DatePipe),i["\u0275\u0275directiveInject"](m.DecimalPipe),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](w.RxAssociationInstanceDataPageService),i["\u0275\u0275directiveInject"](a.RxBooleanPipe),i["\u0275\u0275directiveInject"](a.RxCurrentUserService),i["\u0275\u0275directiveInject"](c.RxExpressionEvaluatorService),i["\u0275\u0275directiveInject"](s.RxFieldDefinitionService),i["\u0275\u0275directiveInject"](Ku),i["\u0275\u0275directiveInject"](v.RxGuidService),i["\u0275\u0275directiveInject"](a.RxLogService),i["\u0275\u0275directiveInject"](a.RxNotificationService),i["\u0275\u0275directiveInject"](v.RxObjectUtilsService),i["\u0275\u0275directiveInject"](s.RxRecordDefinitionCacheService),i["\u0275\u0275directiveInject"](s.RxRecordDefinitionService),i["\u0275\u0275directiveInject"](su),i["\u0275\u0275directiveInject"](Gd),i["\u0275\u0275directiveInject"](cu),i["\u0275\u0275directiveInject"](lu),i["\u0275\u0275directiveInject"](au),i["\u0275\u0275directiveInject"](Ju),i["\u0275\u0275directiveInject"](ep),i["\u0275\u0275directiveInject"](Nd),i["\u0275\u0275directiveInject"](s.RxRecordInstanceDataPageService),i["\u0275\u0275directiveInject"](s.RxRecordInstanceService),i["\u0275\u0275directiveInject"](c.RxViewActionService),i["\u0275\u0275directiveInject"](c.RxViewActionUtilsService),i["\u0275\u0275directiveInject"](u.TranslateService),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](v.RxStringService),i["\u0275\u0275directiveInject"](a.RxGlobalEventsService),i["\u0275\u0275directiveInject"](Qu,8),i["\u0275\u0275directiveInject"](f.RuntimeViewCanvasItemComponent,8))},op.\u0275cmp=i["\u0275\u0275defineComponent"]({type:op,selectors:[["rx-record-grid"]],viewQuery:function(e,t){if(1&e&&(i["\u0275\u0275viewQuery"](Ar,7),i["\u0275\u0275viewQuery"](Er,5),i["\u0275\u0275viewQuery"](Dr,7),i["\u0275\u0275viewQuery"](Tr,7),i["\u0275\u0275viewQuery"](gr,7),i["\u0275\u0275viewQuery"](Rr,7),i["\u0275\u0275viewQuery"](Mr,7),i["\u0275\u0275viewQuery"](Or,7),i["\u0275\u0275viewQuery"](vr,7),i["\u0275\u0275viewQuery"](yu,7),i["\u0275\u0275viewQuery"](_a,5)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.adaptTable=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.adaptAdvancedFilter=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.cardLayoutRowDetailsTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.cellTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.filterTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.leftCustomSectionTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.rightCustomSectionTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.rowActionButtonsTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.visibleColumnsMenuTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.fieldsProvider=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.actionButtonComponents=e)}},hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("click",function(e){return t.onClickOutside(e)},!1,i["\u0275\u0275resolveDocument"])},inputs:{config:"config"},outputs:{dataLoaded:"dataLoaded"},features:[i["\u0275\u0275ProvidersFeature"]([ep]),i["\u0275\u0275InheritDefinitionFeature"]],decls:31,vars:40,consts:[["rxCardLayout","","scrollHeight","flex",3,"cardLayoutWidth","cardLayoutFieldsHeaderTemplate","cardLayoutFieldsDataCellTemplate","cardLayoutValuesDataCellTemplate","cardLayoutValuesHeaderTemplate","cardLayoutRecordGridElementRef","cardLayoutGetDataCellClass","value","columns","rows","first","scrollable","sortable","rowExpandMode","sortMode","resizableColumns","columnResizeMode","selectionMode","selection","toolbarConfig","filterable","filters","multiSortMeta","dataKey","bordered","totalRecords","totalRecordsInGroup","lazy","lazyLoadOnInit","loading","enableInfiniteScrolling","expandedGroupsKeys","loadingMore","suppressTooltip","virtualScroll","virtualRowHeight","striped","texts","selectedFilteredRowsCount","headerSelectionMode","changedCardLayout","selectionChange","onSort","onLazyLoad","onColReorder","onColResize","export","onHeaderCheckboxToggle"],["adaptTable",""],["visibleColumnsMenuTemplate",""],["rightCustomSectionTemplate",""],["leftCustomSectionTemplate",""],["filterTemplate",""],["cellTemplate",""],["defaultCellTemplate",""],["cardLayoutFieldsHeaderTemplate",""],["cardLayoutValuesHeaderTemplate",""],["cardLayoutFieldsDataCellTemplate",""],["cardLayoutValuesDataCellTemplate",""],["cardLayoutRowDetailsTemplate",""],["filterButton",""],["rowActionButtonsTemplate",""],["cardLayoutRowActionButtonsTemplate",""],[3,"namedFilterOptionsGetter"],[3,"ngModel","placeholder","autofocus","ngModelChange"],["class","dropdown-item visible-columns-item px-3",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"type","label",4,"ngIf"],[1,"dropdown-item","visible-columns-item","px-3",3,"click"],[1,"m-0","adapt-table-toolbar__column-visibility-control",3,"label","ngModel","ngModelChange"],[3,"type","label"],["rx-id","selected-row-count",1,"px-2"],[4,"ngIf"],[1,"d-flex","align-items-center"],["type","button",1,"btn","btn-link","p-0","mx-1",3,"click"],["class","pl-1 w-100 align-items-center",3,"adaptSubnav",4,"ngIf"],[1,"pl-1","w-100","align-items-center",3,"adaptSubnav"],[3,"adaptSubnavItem",4,"ngFor","ngForOf"],[3,"adaptSubnavDropdown"],["type","button",1,"btn","btn-secondary","btn-xs","d-icon-triangle_down","ml-1"],[3,"adaptSubnavItem"],["actionButtonTemplate",""],[1,"m-1",3,"guid","config","runtimeViewModelApi"],["type","button","rx-id","refresh-button",1,"btn","btn-link","d-icon-refresh","grid-toolbar-icon","ml-2","p-1",3,"ngClass","click"],["class","ml-2",3,"ngClass","appendDropdownToBody","texts","showAnchorButtonLabel","filterOptions","selectedFilters","savedFilters","enableSavedFilters","activeSavedFilter","isLoading","selectedFiltersIndicationStyle","applyFiltersByUserAction","selectedFiltersChange","deleteSavedFilter","createNewFilter","updateSavedFilter","activeSavedFilterChange","beforeActiveSavedFilterChange","editSavedFilterClick","filterExpressionTagsChanged",4,"ngIf"],["class","btn-link ml-1",4,"ngIf"],[1,"ml-2",3,"hidden","tags","tagsLimit","removeTag"],[1,"ml-2",3,"ngClass","appendDropdownToBody","texts","showAnchorButtonLabel","filterOptions","selectedFilters","savedFilters","enableSavedFilters","activeSavedFilter","isLoading","selectedFiltersIndicationStyle","applyFiltersByUserAction","selectedFiltersChange","deleteSavedFilter","createNewFilter","updateSavedFilter","activeSavedFilterChange","beforeActiveSavedFilterChange","editSavedFilterClick","filterExpressionTagsChanged"],["adaptAdvancedFilter",""],[1,"btn-link","ml-1"],["class","rx-custom-cell rx-ellipsis",3,"rxCellDisplayProps","rxCellDisplayPropsBadgeElem","rxCellDisplayPropsDataItem","adaptPopover","autoClose","popoverClass","triggers","appendToBody","placement","rx-selected-custom-cell","click","mouseover",4,"ngIf"],["class","rx-custom-cell rx-ellipsis",3,"adaptPopover","autoClose","popoverClass","triggers","appendToBody","placement","rx-selected-custom-cell","click","mouseover",4,"ngIf"],[1,"rx-custom-cell","rx-ellipsis",3,"rxCellDisplayProps","rxCellDisplayPropsBadgeElem","rxCellDisplayPropsDataItem","adaptPopover","autoClose","popoverClass","triggers","appendToBody","placement","click","mouseover"],["popoverAnchor","adaptPopover"],[3,"ngClass","click"],["badgeElem",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"rx-custom-cell","rx-ellipsis",3,"adaptPopover","autoClose","popoverClass","triggers","appendToBody","placement","click","mouseover"],["tabindex","0","class","attachment-link",3,"click","keydown",4,"ngIf"],["tabindex","0","class","no-href-link",3,"click","keydown",4,"ngIf"],[3,"routerLink","queryParams",4,"ngIf"],[3,"href","target",4,"ngIf"],[3,"ngClass"],["tabindex","0",1,"attachment-link",3,"click","keydown"],["tabindex","0",1,"no-href-link",3,"click","keydown"],[3,"routerLink","queryParams"],[3,"href","target"],[3,"title","columns","adaptTable","openDialog","sort"],[1,"rx-card-layout-cell",3,"click"],["class","rx-card-layout-cell-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"rx-card-layout-cell-item"],[1,"rx-card-layout-cell-values","rx-card-layout-cell"],["adapt-button","","rx-id","filter-by-selection-button","class","btn btn-link d-icon-filter_adapt filter-by-selection-icon",3,"click",4,"ngIf"],["rx-id","show-record-details-button",1,"btn","btn-link","d-icon-pop_up","record-details-icon",3,"click"],["adapt-button","","rx-id","filter-by-selection-button",1,"btn","btn-link","d-icon-filter_adapt","filter-by-selection-icon",3,"click"],[1,"modal-body","rx-record-details"],["class","row mb-3",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"row","mb-3"],[1,"col-sm-4","font-weight-bold","rx-text-break"],["class","col-sm-8 rx-text-break",4,"ngIf"],["class","col-sm-8",4,"ngIf"],[1,"col-sm-8","rx-text-break"],[1,"col-sm-8"],["tabindex","0",1,"row-details-attachment-link",3,"click","keydown"],["adapt-button","","btn-type","tertiary","size","small",1,"d-icon-filter_adapt","p-0",3,"click"],["adaptDropdown","","appendToBody","true",1,"dropdown","dropdown-kabob",3,"onOpen"],["id","row-actions-dropdown-button","adaptDropdownToggle","",1,"dropdown-kabob-btn"],["aria-labelledby","row-actions-dropdown-button","adaptDropdownMenu","",1,"dropdown-menu"],["class","action-button-list",3,"guid","config","runtimeViewModelApi",4,"ngFor","ngForOf"],[1,"empty-list-label","pl-3"],[1,"action-button-list",3,"guid","config","runtimeViewModelApi"],["adaptDropdown","","appendToBody","true",1,"dropdown","mb-1",3,"click","onOpen"],["id","card-layout-dropdown-button","size","xtra-small","adaptDropdownToggle","",1,"btn","btn-secondary","btn-xs"],["aria-labelledby","card-layout-dropdown-button","adaptDropdownMenu","",1,"dropdown-menu"],["class","row-actions-dropdown-item",3,"guid","config","runtimeViewModelApi",4,"ngFor","ngForOf"],[1,"row-actions-dropdown-item",3,"guid","config","runtimeViewModelApi"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"adapt-table",0,1),i["\u0275\u0275listener"]("changedCardLayout",function(e){return t.onChangedCardLayout(e)})("selectionChange",function(e){return t.onRowsSelectionChange(e)})("onSort",function(e){return t.onSort(e)})("onLazyLoad",function(e){return t.onLazyLoad(e)})("onColReorder",function(e){return t.onColReorder(e)})("onColResize",function(){return t.onColumnResize()})("export",function(e){return t.onExport(e)})("onHeaderCheckboxToggle",function(e){return t.handleHeaderCheckboxToggle(e)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,kr,4,8,"ng-template",null,2,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](4,Lr,3,2,"ng-template",null,3,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](6,zr,1,1,"ng-template",null,4,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](8,Wr,5,11,"ng-template",null,5,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](10,es,2,2,"ng-template",null,6,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](12,ss,5,5,"ng-template",null,7,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](14,as,1,4,"ng-template",null,8,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](16,ls,1,4,"ng-template",null,9,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](18,ds,2,2,"ng-template",null,10,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](20,xs,5,6,"ng-template",null,11,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](22,Is,6,4,"ng-template",null,12,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](24,As,1,0,"ng-template",null,13,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](26,Ds,7,4,"ng-template",null,14,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](28,Rs,6,4,"ng-template",null,15,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275element"](30,"rx-advanced-filtering-fields-provider",16)),2&e){const e=i["\u0275\u0275reference"](15),n=i["\u0275\u0275reference"](17),o=i["\u0275\u0275reference"](19),r=i["\u0275\u0275reference"](21);i["\u0275\u0275property"]("cardLayoutWidth",t.state.cardLayoutWidth)("cardLayoutFieldsHeaderTemplate",e)("cardLayoutFieldsDataCellTemplate",o)("cardLayoutValuesDataCellTemplate",r)("cardLayoutValuesHeaderTemplate",n)("cardLayoutRecordGridElementRef",t.elementRef)("cardLayoutGetDataCellClass",t.getDataCellClassBind)("value",t.adaptTableConfig.data)("columns",t.adaptTableConfig.cardLayoutColumns||t.adaptTableConfig.columns)("rows",t.adaptTableConfig.rows)("first",t.adaptTableConfig.first)("scrollable",t.adaptTableConfig.scrollable)("sortable",!0)("sortMode","multiple")("resizableColumns",!0)("columnResizeMode",t.adaptTableConfig.columnResizeMode)("selectionMode",t.adaptTableConfig.rowSelectionMode)("selection",t.adaptTableConfig.selectedItems)("toolbarConfig",t.adaptTableConfig.toolbarConfig)("filterable",t.adaptTableConfig.filterable)("filters",t.adaptTableConfig.filters)("multiSortMeta",t.adaptTableConfig.multiSortMeta)("dataKey",t.adaptTableConfig.primaryKey)("bordered",t.adaptTableConfig.bordered)("totalRecords",t.adaptTableConfig.totalRecords)("totalRecordsInGroup",t.state.expandGroups?t.adaptTableConfig.totalRecords:0)("lazy",!0)("lazyLoadOnInit",!1)("loading",t.adaptTableConfig.isLoadingData)("enableInfiniteScrolling",!0)("expandedGroupsKeys",t.adaptTableConfig.expandedGroupsKeys)("loadingMore",t.adaptTableConfig.isLoadingMoreData)("suppressTooltip",!1)("virtualScroll",t.adaptTableConfig.virtualScroll)("virtualRowHeight",t.adaptTableConfig.virtualRowHeight)("striped",t.adaptTableConfig.striped)("texts",t.adaptTableConfig.texts)("selectedFilteredRowsCount",t.selectedFilteredRowsCount)("headerSelectionMode",t.adaptTableHeaderSelectionMode),i["\u0275\u0275advance"](30),i["\u0275\u0275property"]("namedFilterOptionsGetter",t.getNamedFilterOptions)}},directives:[R.AdaptTableComponent,np,yu,h.AdaptRxSearchComponent,x.NgControlStatus,x.NgModel,m.NgForOf,m.NgIf,h.AdaptRxCheckboxComponent,h.AdaptEmptyStateComponent,h.AdaptSubnavComponent,h.AdaptSubnavDropdownComponent,h.AdaptSubnavItemComponent,_a,m.NgClass,bu,h.AdaptAdvancedFilterComponent,ip,h.AdaptPopoverDirective,m.NgTemplateOutlet,O.RouterLinkWithHref,tp,h.AdaptButtonComponent,h.AdaptDropdownDirective,h.AdaptDropdownToggleDirective,h.AdaptDropdownMenuDirective],pipes:[u.TranslatePipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}[_nghost-%COMP%]{display:block;height:420px}[_nghost-%COMP%]     .rx-table-card-layout .adapt-selection-cell{vertical-align:middle!important}[_nghost-%COMP%]     .rx-table-card-layout .c-header-name{width:100%}[_nghost-%COMP%]     .rx-card-layout-data-cell{position:relative}[_nghost-%COMP%]     .rx-card-layout-cell-item{padding:0;line-height:32px;min-height:32px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]     .rx-card-layout-cell-values>div:first-child .rx-card-layout-cell-item{padding-right:20px}[_nghost-%COMP%]     .rx-card-layout-cell-icon, [_nghost-%COMP%]     .filter-by-selection-icon, [_nghost-%COMP%]     .record-details-icon{top:2px;padding:2px;position:absolute}[_nghost-%COMP%]     .record-details-icon{right:7px}[_nghost-%COMP%]     .filter-by-selection-icon{right:25px}[_nghost-%COMP%]     adapt-table td.at-data-cell{padding:0;-moz-user-select:text}[_nghost-%COMP%]     adapt-table td.rx-cell-selection-mode:focus{outline:none!important}[_nghost-%COMP%]     adapt-table adapt-table-toolbar rx-action-button{margin:5px}[_nghost-%COMP%]     adapt-table adapt-table-toolbar rx-action-button .btn-link{padding-right:0;padding-left:0}[_nghost-%COMP%]     adapt-table .at-wrap-cell-text .at-data-cell{word-break:break-word}[_nghost-%COMP%]     .rx-row-action-cell .dropdown{margin-top:3px}.rx-custom-cell[_ngcontent-%COMP%]{min-height:36px;padding:.5rem 13px}.rx-custom-cell[_ngcontent-%COMP%]   .rx-cell-wrap[_ngcontent-%COMP%]{white-space:normal;text-overflow:clip;word-break:break-word}.rx-selected-custom-cell[_ngcontent-%COMP%]{outline:1px solid #00a79d!important;border-color:transparent!important;outline-offset:-1px}.rx-card-layout-cell[_ngcontent-%COMP%]{padding:3px 10px}[_nghost-%COMP%]     .dropdown-menu rx-action-button button.btn{width:100%;text-align:left;background:none;border:0;font-size:.8125rem}[_nghost-%COMP%]     .dropdown-menu rx-action-button button.btn:before{width:18px}[_nghost-%COMP%]     .dropdown-menu rx-action-button button.btn>span{margin-left:18px}[_nghost-%COMP%]     .dropdown-menu rx-action-button button.btn[class^=d-icon-left]>span{margin-left:0!important}.grid-toolbar-icon[_ngcontent-%COMP%]{font-size:16px}.no-href-link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none}.attachment-link[_ngcontent-%COMP%], .row-details-attachment-link[_ngcontent-%COMP%]{cursor:pointer}  .table-filtering.popover.popover-mobile{height:auto;display:block;top:auto!important;bottom:0;width:100vw}  .table-filtering.popover.popover-mobile .a-popover-wrap{margin:0}  .table-filtering.popover.popover-mobile .close{display:none}  .visible-columns-dropdown{padding-top:0;width:14rem}.action-button-list[_ngcontent-%COMP%]:not(:empty) ~ .empty-list-label[_ngcontent-%COMP%]{display:none}.empty-list-label[_ngcontent-%COMP%]{color:#959899}.visible-columns-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word}']});class rp{constructor(e,t,n){this.viewDefinitionParserService=e,this.rxJsonParserService=t,this.rxRecordGridConfigUtilsService=n}adaptDefinition(e,t){const n=e.componentDefinitions.filter(({type:e})=>e===kd.components.column).map(({propertiesByName:e})=>e.cellDisplayProperties).filter(Boolean);this.viewDefinitionParserService.getComponents(e).map(e=>e.componentDefinition).forEach(i=>{var o,r,s,a;switch(i.type){case kd.type:{i.propertiesByName.enableFilterPresets=null!==(o=i.propertiesByName.enableFilterPresets)&&void 0!==o?o:"true",i.propertiesByName.requiredFilters=null!==(r=i.propertiesByName.requiredFilters)&&void 0!==r?r:"true"===i.propertiesByName.requireFiltering?1:0;const e=this.rxJsonParserService.tryParseJson(i.layout),t=(0,p.filter)(i.componentDefinitions,{type:c.RxViewComponentType.ActionButton}),n=this.getActionButtonsForOutlet(e,kd.rowActionsOutletName,t);n.forEach(e=>{e.propertiesByName=Object.assign(Object.assign({},e.propertiesByName),{cls:"dropdown-item",styles:"p-0"})}),(0,p.without)(t,...n).forEach(e=>{[ha.Primary,ha.Secondary].includes(e.propertiesByName.style)&&(e.propertiesByName.size=fa.Small)});break}case kd.components.column:{let o=null;if(!this.rxRecordGridConfigUtilsService.getBooleanValue(e.propertiesByName.getDataForHiddenColumns)){const r=e.guid,s=i.propertiesByName.fieldId,a=t.viewComponentExpressions.some(e=>e.includes(`\${view.components.${r}.firstSelectedRow.${s}`)||e.includes(`\${view.components.${r}.clickableRow.${s}`)),l=n.some(e=>e.includes(`\${view.components.grid.clickableRow.${s}`));o=a||l}const r={actions:[],clickable:!1,guid:i.guid,wrapText:null!==(s=i.propertiesByName.wrapText)&&void 0!==s&&s,referenced:o,typeaheadKeystrokeCount:null!==(a=i.propertiesByName.typeaheadKeystrokeCount)&&void 0!==a?a:kd.defaultTypeaheadKeystrokeCount},l=(0,p.filter)(i.componentDefinitions,{type:"rx-action"}).map(e=>e.propertiesByName);l.length&&(r.clickable=!0,r.actions=l),Object.assign(i.propertiesByName,r);break}case kd.components.filterPreset:case kd.components.filter:Object.assign(i.propertiesByName,{guid:i.guid})}})}getActionButtonsForOutlet(e,t,n){const i=(0,p.chain)(e.outlets).filter({name:t}).head().get("columns[0].children",[]).value();return(0,p.filter)(n,e=>i.includes(e.guid))}}rp.\u0275fac=function(e){return new(e||rp)(i["\u0275\u0275inject"](c.RxViewDefinitionParserService),i["\u0275\u0275inject"](v.RxJsonParserService),i["\u0275\u0275inject"](Gd))},rp.\u0275prov=i["\u0275\u0275defineInjectable"]({token:rp,factory:rp.\u0275fac});class sp extends c.RxRecordQueryExpressionEvaluatorService{}sp.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](sp)))(t||sp)}}(),sp.\u0275prov=i["\u0275\u0275defineInjectable"]({token:sp,factory:sp.\u0275fac});class ap{constructor(e,t){this.rxRecordGridDefinitionAdapterService=e,this.rxDefinitionAdapterRegistryService=t,t.registerRuntimeAdapter(kd.type,this.rxRecordGridDefinitionAdapterService)}}ap.\u0275fac=function(e){return new(e||ap)(i["\u0275\u0275inject"](rp),i["\u0275\u0275inject"](a.RxDefinitionAdapterRegistryService))},ap.\u0275mod=i["\u0275\u0275defineNgModule"]({type:ap,declarations:[op,np,tp,Zu,ip],imports:[a.RxDefinitionModule,m.CommonModule,f.RuntimeViewCanvasModule,R.AdaptTableModule,E.AdaptSelectModule,x.FormsModule,h.AdaptRxCheckboxModule,h.AdaptRxSelectModule,h.AdaptAlertModule,h.AdaptPopoverModule,h.AdaptAccordionModule,h.AdaptButtonModule,h.AdaptDropdownModule,u.TranslateModule,Sa,h.AdaptSubnavModule,h.AdaptAdvancedFilteringModule,_u,O.RouterModule,Ru,h.AdaptRxSearchModule,h.AdaptEmptyStateModule],exports:[op]}),ap.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[m.DatePipe,m.DecimalPipe,a.RxBooleanPipe,Ku,Gd,rp,lu,Nd,cu,sp,Ju,su],imports:[[a.RxDefinitionModule,m.CommonModule,f.RuntimeViewCanvasModule,R.AdaptTableModule.forRoot(),E.AdaptSelectModule,x.FormsModule,h.AdaptRxCheckboxModule,h.AdaptRxSelectModule,h.AdaptAlertModule.forRoot(),h.AdaptPopoverModule.forRoot(),h.AdaptAccordionModule,h.AdaptButtonModule,h.AdaptDropdownModule,u.TranslateModule,Sa,h.AdaptSubnavModule,h.AdaptAdvancedFilteringModule,_u,O.RouterModule,Ru,h.AdaptRxSearchModule,h.AdaptEmptyStateModule]]});class lp extends f.BaseViewComponent{constructor(e,t){super(),this.sanitizer=e,this.rxCkEditorConfiguratorService=t,this.filter=new CKEDITOR.filter(""),this.api={setProperty:this.setProperty.bind(this)},this.filter.allow(this.rxCkEditorConfiguratorService.getContentRules())}ngOnInit(){super.ngOnInit(),this.notifyPropertyChanged("api",this.api),this.config.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.isHidden=Boolean(e.hidden),this.html=this.updateHtml(e.html)})}updateHtml(e){if(e){e=e.replace(/\n/g,"<br>");const t=CKEDITOR.htmlParser.fragment.fromHtml(e),n=new CKEDITOR.htmlParser.basicWriter;this.filter.applyTo(t),t.writeHtml(n),e=n.getHtml(!0)}else e="";return this.sanitizer.bypassSecurityTrustHtml(e)}setProperty(e,t){if("hidden"!==e)return(0,o.throwError)(`Rich text: property ${e} is not settable.`);this.isHidden=t,this.notifyPropertyChanged(e,this.isHidden)}}lp.\u0275fac=function(e){return new(e||lp)(i["\u0275\u0275directiveInject"](P.DomSanitizer),i["\u0275\u0275directiveInject"](c.RxCkEditorConfiguratorService))},lp.\u0275cmp=i["\u0275\u0275defineComponent"]({type:lp,selectors:[["rx-rich-text"]],inputs:{config:"config"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:3,consts:[["tabindex","0",1,"text-container","focusable",3,"hidden","innerHTML"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"div",0),2&e&&(i["\u0275\u0275property"]("hidden",t.isHidden)("innerHTML",t.html,i["\u0275\u0275sanitizeHtml"]),i["\u0275\u0275attribute"]("aria-hidden",t.isHidden))},styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.text-container[_ngcontent-%COMP%]{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}']});class cp{constructor(e){this.rxDefaultExpressionEvaluatorService=e}evaluate(e,t){const n=document.createElement("div");return n.innerHTML=e,n.querySelectorAll(`span[${c.RX_RICH_TEXT.expressionAttributeName}]`).forEach(e=>{const n=this.rxDefaultExpressionEvaluatorService.evaluate(e.getAttribute(c.RX_RICH_TEXT.expressionAttributeName),t),i=document.createTextNode((0,p.isNil)(n)?"":n);e.parentElement.replaceChild(i,e)}),n.innerHTML}}cp.\u0275fac=function(e){return new(e||cp)(i["\u0275\u0275inject"](c.RxDefaultExpressionEvaluatorService))},cp.\u0275prov=i["\u0275\u0275defineInjectable"]({token:cp,factory:cp.\u0275fac});class dp{constructor(e){this.rxCkEditorConfiguratorService=e,this.filter=new CKEDITOR.filter(""),this.filter.allow(this.rxCkEditorConfiguratorService.getContentRules())}adaptDefinition(e){if(e.propertiesByName.html){const t=CKEDITOR.dtd.$removeEmpty.span;CKEDITOR.dtd.$removeEmpty.span=0;const n=CKEDITOR.htmlParser.fragment.fromHtml(e.propertiesByName.html),i=new CKEDITOR.htmlParser.basicWriter;this.filter.applyTo(n),n.writeHtml(i),e.propertiesByName.html=i.getHtml(!0),CKEDITOR.dtd.$removeEmpty.span=t}}}dp.\u0275fac=function(e){return new(e||dp)(i["\u0275\u0275inject"](c.RxCkEditorConfiguratorService))},dp.\u0275prov=i["\u0275\u0275defineInjectable"]({token:dp,factory:dp.\u0275fac});class up{constructor(e,t){this.rxDefinitionAdapterRegistryService=e,this.richTextDefinitionAdapterService=t,e.registerRuntimeAdapter(c.RxViewComponentType.RichText,this.richTextDefinitionAdapterService)}}up.\u0275fac=function(e){return new(e||up)(i["\u0275\u0275inject"](a.RxDefinitionAdapterRegistryService),i["\u0275\u0275inject"](dp))},up.\u0275mod=i["\u0275\u0275defineNgModule"]({type:up,declarations:[lp],imports:[m.CommonModule,T.CKEditorModule],exports:[lp]}),up.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[cp],imports:[[m.CommonModule,T.CKEditorModule]]});const pp={title:!1,skin:"rich-text,skins/rich-text/",toolbar:[["Bold","Italic","Strike","Underline","-","Link","Unlink","-","NumberedList","BulletedList","Outdent","Indent","-","JustifyLeft","JustifyCenter","JustifyRight","-","ExpressionEditor"],"/",["Format","Styles","Font","FontSize","TextColor"]],stylesSet:[{name:"Italic Title",element:"h2",attributes:{class:"italic-title"}},{name:"Subtitle",element:"h3",attributes:{class:"subtitle"}},{name:"Special Container",element:"div",attributes:{class:"special-containers"}},{name:"Marker",element:"span",attributes:{class:"marker"}},{name:"Small",element:"small"},{name:"Computer Code",element:"code"},{name:"Keyboard Phrase",element:"kbd"},{name:"Sample Text",element:"samp"},{name:"Variable",element:"var"},{name:"Deleted Text",element:"del"},{name:"Inserted Text",element:"ins"},{name:"Cited Work",element:"cite"},{name:"Inline Quotation",element:"q"},{name:"Compact Table",element:"table",attributes:{cellpadding:"5",cellspacing:"0",class:"compact-table"}},{name:"Borderless Table",element:"table",attributes:{class:"borderless-table"}},{name:"Square Bulleted List",element:"ul",attributes:{class:"square-bulleted-list"}}],format_tags:"p;h1;h2;h3;pre",extraPlugins:"expression-editor, colordialog",extraAllowedContent:"span [rx-expression, contenteditable, title] (rx-expression)"};class hp extends d.ViewDesignerComponentModel{constructor(){super(...arguments),this.html$=this.sandbox.getComponentPropertyValue("html")}static getInitialProperties(e){return Object.assign(Object.assign({name:null,html:null},c.RX_STANDARD_PROPS_DEFAULT_VALUES),e)}rxInit(){this.sandbox.componentProperties$.pipe((0,r.take)(1)).subscribe(()=>{this.sandbox.updateInspectorConfig(this.getInspector())}),this.sandbox.componentProperties$.subscribe(e=>{const t=e.html?[]:[this.sandbox.createError("Rich text value cannot be blank.")];t.push(...(0,d.validateStandardProps)(e)),this.sandbox.setValidationIssues(t)}),this.sandbox.getComponentPropertyValue("name").subscribe(e=>{const t=e?`${this.sandbox.descriptor.name} (${e})`:this.sandbox.descriptor.name;this.sandbox.setSettablePropertiesDataDictionary(t,[{label:"Hidden",expression:this.getExpressionForProperty("hidden")}])})}getInspector(){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"name",component:l.TextFormControlComponent,options:{label:"Name",tooltip:new a.Tooltip("Enter a name to uniquely identify the Rich text component")}},...(0,d.getStandardPropsInspectorConfigs)()]}]}}updateComponentProperties(e){this.sandbox.updateComponentProperties(e)}}class mp{constructor(e,t,n,i,r,s){this.rxExpressionEditorService=e,this.rxTreeService=t,this.rxExpressionParserService=n,this.renderer2=i,this.document=r,this.ngZone=s,this.type="inline",this.ckConfig=pp,this.formControl=new x.FormControl(null),this.destroyed$=new o.ReplaySubject(1),this.removeExpressionLabels=this.setExpressionLabelHtml.bind(this,null),this.addExpressionLabels=this.setExpressionLabelHtml.bind(this,this.getExpressionWithLabels.bind(this))}ngOnInit(){this.model.expressionConfigurator.getDataDictionary().pipe((0,r.withLatestFrom)(this.model.html$),(0,r.takeUntil)(this.destroyed$)).subscribe(([e,t])=>{this.flatDataDictionary=this.rxTreeService.flatten({children:e}),this.formControl.setValue(this.addExpressionLabels(t))}),this.formControl.valueChanges.pipe((0,r.map)(e=>this.removeExpressionLabels(e)),(0,r.distinctUntilChanged)(),(0,r.skip)(1),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.model.updateComponentProperties({html:e})}),this.model.html$.pipe((0,r.take)(1),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.formControl.setValue(this.addExpressionLabels(e))})}onEditorReady(e){this.isReadOnly&&(this.ckConfig.toolbar=[],this.document.getElementById(`${e.editor.id}_top`).style.display="none"),this.ckEditor.instance.on("openExpressionEditor",e=>{const t=e.data&&e.data.getAttribute(c.RX_RICH_TEXT.expressionAttributeName);this.ngZone.runTask(()=>this.rxExpressionEditorService.openEditor({property:{path:"html",value:t,label:"Rich Text"},expressionConfigurator:this.model.expressionConfigurator}).pipe((0,r.takeUntil)(this.destroyed$)).subscribe({next:({path:n,value:i})=>{if(i){const n=this.getExpressionWithLabels(i);t?(e.data.setAttribute(c.RX_RICH_TEXT.expressionAttributeName,i),e.data.setHtml(n),this.ckEditor.instance.fire("saveSnapshot")):this.ckEditor.instance.insertHtml(`<span contenteditable="false" ${c.RX_RICH_TEXT.expressionAttributeName}="${(0,p.escape)(i)}">${n}</span>`)}else e.data.remove(),this.ckEditor.instance.fire("saveSnapshot");this.moveCursorToEnd()},error:()=>{this.moveCursorToEnd()}}))})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}getExpressionWithLabels(e){return this.rxExpressionParserService.parse(e,(e,t)=>{if(e!==a.ExpressionParserToken.RxStringExpression){const e=this.flatDataDictionary.find(e=>e.expression===t),n=e&&e.label?(0,p.escape)(e.label):t;return`<span title="${n}">${n}</span>`}return t})}moveCursorToEnd(){const e=this.ckEditor.instance.createRange();e.moveToElementEditEnd(e.root),this.ckEditor.instance.getSelection().selectRanges([e])}setExpressionLabelHtml(e,t){const n=this.renderer2.createElement("div");return n.innerHTML=t,n.querySelectorAll(`span[${c.RX_RICH_TEXT.expressionAttributeName}]`).forEach(t=>t.innerHTML=e?e(t.getAttribute(c.RX_RICH_TEXT.expressionAttributeName)):null),n.innerHTML.replace(/<br>/g,"<br />")}}mp.\u0275fac=function(e){return new(e||mp)(i["\u0275\u0275directiveInject"](l.RxExpressionEditorService),i["\u0275\u0275directiveInject"](v.RxTreeService),i["\u0275\u0275directiveInject"](a.RxExpressionParserService),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](m.DOCUMENT),i["\u0275\u0275directiveInject"](i.NgZone))},mp.\u0275cmp=i["\u0275\u0275defineComponent"]({type:mp,selectors:[["rx-rich-text-design"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](T.CKEditorComponent,7),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.ckEditor=e.first)}},inputs:{model:"model",isReadOnly:"isReadOnly"},decls:1,vars:6,consts:[[1,"border",3,"formControl","config","type","readOnly","ready"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ckeditor",0),i["\u0275\u0275listener"]("ready",function(e){return t.onEditorReady(e)}),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275classProp"]("border-transparent",t.formControl.value),i["\u0275\u0275property"]("formControl",t.formControl)("config",t.ckConfig)("type",t.type)("readOnly",t.isReadOnly))},directives:[T.CKEditorComponent,x.NgControlStatus,x.FormControlDirective],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}[_nghost-%COMP%]{display:block}ckeditor[_ngcontent-%COMP%]{min-height:42px;display:block;border:1px solid #d6d7d8}ckeditor.border-transparent[_ngcontent-%COMP%]{border-color:transparent!important}ckeditor[_ngcontent-%COMP%]     [rx-expression]{padding:2px 5px;display:inline-block;color:#7c7f81;background-color:#f0f1f1;border-radius:2px;-webkit-user-select:all;user-select:all}ckeditor[_ngcontent-%COMP%]     [rx-expression] span{padding:2px 5px;background-color:#d6d7d8;border-radius:2px}ckeditor[_ngcontent-%COMP%]     .cke_editable{padding:5px;outline:none}']});class fp{constructor(){const e=this;CKEDITOR.plugins.add("expression-editor",{init(t){t.addCommand("insertExpression",{exec:()=>(t.fire("openExpressionEditor",null),!0)}),t.on("doubleclick",n=>{const i=e.getSelectedExpressionElement(n.data.element);i&&t.fire("openExpressionEditor",i)},null,null,0),t.ui.addButton("ExpressionEditor",{label:"Insert Expression",command:"insertExpression",toolbar:"",icon:CKEDITOR.plugins.getPath("expression-editor")+"toolbar.png"})}})}getSelectedExpressionElement(e){if(e.is("span")&&e.hasAttribute("rx-expression"))return e;{const t=e.getParent();if(t.is("span")&&t.hasAttribute("rx-expression"))return t}}clearSelection(e){const t=e.getSelection();t&&t.removeAllRanges()}}fp.\u0275fac=function(e){return new(e||fp)},fp.\u0275prov=i["\u0275\u0275defineInjectable"]({token:fp,factory:fp.\u0275fac,providedIn:"root"});class gp{constructor(e,t,n){this.rxExpressionEditorPluginService=e,this.rxDefinitionAdapterRegistryService=t,this.richTextDefinitionAdapterService=n,t.registerDesignAdapter(c.RxViewComponentType.RichText,this.richTextDefinitionAdapterService)}}gp.\u0275fac=function(e){return new(e||gp)(i["\u0275\u0275inject"](fp),i["\u0275\u0275inject"](a.RxDefinitionAdapterRegistryService),i["\u0275\u0275inject"](dp))},gp.\u0275mod=i["\u0275\u0275defineNgModule"]({type:gp,declarations:[mp],imports:[m.CommonModule,T.CKEditorModule,x.ReactiveFormsModule]}),gp.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,T.CKEditorModule,x.ReactiveFormsModule]]});class vp{}vp.\u0275fac=function(e){return new(e||vp)},vp.\u0275cmp=i["\u0275\u0275defineComponent"]({type:vp,selectors:[["rx-service-list-design"]],decls:3,vars:0,consts:[[1,"row"],[1,"col-md-12"],["label","Service list","required","true","disabled","true","ngModel",""]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275element"](2,"adapt-rx-select",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())},directives:[h.AdaptRxSelectComponent,x.RequiredValidator,x.NgControlStatus,x.NgModel],encapsulation:2});class yp{}yp.\u0275fac=function(e){return new(e||yp)},yp.\u0275mod=i["\u0275\u0275defineNgModule"]({type:yp,declarations:[vp],imports:[m.CommonModule,l.RxDefinitionPickerModule,l.FormControlsModule,h.AdaptRxSelectModule,x.FormsModule]}),yp.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,l.RxDefinitionPickerModule,l.FormControlsModule,h.AdaptRxSelectModule,x.FormsModule]]});class bp extends f.BaseViewComponent{constructor(e){super(),this.httpClient=e,this.isDisabled=!0,this.serviceListOptions=[],this.service={id:null,name:null,guid:null}}ngOnInit(){super.ngOnInit();const e=this.config.pipe((0,r.pluck)("serviceRequestId"),(0,r.distinctUntilChanged)(),(0,r.takeUntil)(this.destroyed$));this.httpClient.get("/api/com.bmc.dsm.chatbot/rx/application/chatbot/services").pipe((0,r.withLatestFrom)(e),(0,r.finalize)(()=>{this.isDisabled=!1}),(0,r.takeUntil)(this.destroyed$)).subscribe(([e,t])=>{this.serviceListOptions=(0,p.flow)(e=>(0,p.groupBy)(e,"groupName"),e=>(0,p.map)(e,(e,t)=>({name:t,children:(0,p.map)(e,e=>({id:e.id,name:e.name,guid:e.guid}))})))((null==e?void 0:e.catalogDetailsList)||[]),this.selectServiceRequest(t)}),e.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.selectServiceRequest(e)})}selectServiceRequest(e){let t;(0,p.forEach)(this.serviceListOptions,n=>{if(t)return!1;t=(0,p.find)(n.children,{id:e})}),this.service=t?[{id:t.id,name:t.name,guid:t.guid}]:[]}onSelectionChange(e){const t=e.options[0];this.notifyPropertyChanged("serviceRequestId",t.id),this.notifyPropertyChanged("serviceRequestName",t.name),this.notifyPropertyChanged("serviceRequestGuid",t.guid)}optionFormatter(e){return e.name}}bp.\u0275fac=function(e){return new(e||bp)(i["\u0275\u0275directiveInject"](F.HttpClient))},bp.\u0275cmp=i["\u0275\u0275defineComponent"]({type:bp,selectors:[["rx-service-list"]],inputs:{config:"config"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:4,consts:[["label","Service name","required","true","enableFilter","true",3,"options","disabled","ngModel","optionFormatter","onSelectionChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"adapt-rx-select",0),i["\u0275\u0275listener"]("onSelectionChange",function(e){return t.onSelectionChange(e)}),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("options",t.serviceListOptions)("disabled",t.isDisabled)("ngModel",t.service)("optionFormatter",t.optionFormatter)},directives:[h.AdaptRxSelectComponent,x.RequiredValidator,x.NgControlStatus,x.NgModel],encapsulation:2});class xp{}xp.\u0275fac=function(e){return new(e||xp)},xp.\u0275mod=i["\u0275\u0275defineNgModule"]({type:xp,declarations:[bp],imports:[m.CommonModule,h.AdaptRxSelectModule,x.FormsModule],exports:[bp]}),xp.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptRxSelectModule,x.FormsModule]]});class wp extends Fa{constructor(){super(...arguments),this.state={enableLazyLoading:!1,label:""}}}wp.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](wp)))(t||wp)}}(),wp.\u0275cmp=i["\u0275\u0275defineComponent"]({type:wp,selectors:[["rx-tab-container"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,Ms,1,0,"rx-runtime-view-canvas-outlet",0),2&e&&i["\u0275\u0275property"]("ngIf",!t.state.hidden)},directives:[m.NgIf,f.RuntimeViewCanvasOutletComponent],styles:["[_nghost-%COMP%]{display:block}"]});class Cp extends f.BaseViewComponent{constructor(e){super(),this.runtimeCanvasItemComponent=e,this.childLayouts=[],this.state={activeTabIndex:null},this.api={setProperty:this.setProperty.bind(this)}}ngOnInit(){super.ngOnInit(),this.notifyPropertyChanged("api",this.api),this.config.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.state=Object.assign(Object.assign({},this.state),e),this.isHidden=Boolean(this.state.hidden)}),this.childLayouts=(0,p.get)(this.runtimeCanvasItemComponent.getChildren(c.RX_VIEW_DEFINITION.defaultOutletName),"[0].children"),this.childLayouts.forEach(e=>{e.state={enableLazyLoading:!1,label:"",isRendered:!1,hidden:0},e.config.pipe((0,r.tap)(t=>{e.state=Object.assign(Object.assign({},e.state),t)}),(0,r.pluck)("hidden"),(0,r.distinctUntilChanged)(),(0,r.skip)(1),(0,r.takeUntil)(this.destroyed$)).subscribe(()=>{this.ensureActiveTabIsSet()})}),this.trySetFirstVisibleTab()}setProperty(e,t){if("hidden"===e)this.state.hidden=t,this.notifyPropertyChanged(e,t);else{if("activeTabIndex"!==e)return(0,o.throwError)(`Tab panel: property ${e} is not settable.`);this.setActiveTabIndex(parseInt(t,10))}}trackByForTabs(e,t){return t.guid}canRenderContentForTab(e){return!e.state.enableLazyLoading||e.state.isRendered}getAllTabsData(){let e=0;return this.childLayouts.map(t=>({adaptTabsetIndex:this.isHiddenTab(t)?null:e++,tab:t}))}isHiddenTab(e){return Boolean(e.state.hidden)}getActiveTabIndexForAdaptTabset(){return(0,p.isNull)(this.state.activeTabIndex)?0:this.getAllTabsData()[this.state.activeTabIndex].adaptTabsetIndex}onActiveTabChanged(e){const t=(0,p.findIndex)(this.getAllTabsData(),t=>t.adaptTabsetIndex===e);this.activateTab(t)}setActiveTabIndex(e){const t=this.childLayouts[e];t&&!this.isHiddenTab(t)&&this.activateTab(e)}activateTab(e){this.state.activeTabIndex=e,(0,p.isNil)(e)||(this.childLayouts[e].state.isRendered=!0),this.notifyPropertyChanged("activeTabIndex",e)}ensureActiveTabIsSet(){const e=this.childLayouts;(0,p.every)(e,e=>this.isHiddenTab(e))?this.activateTab(null):(!(0,p.isNull)(this.state.activeTabIndex)&&this.isHiddenTab(e[this.state.activeTabIndex])||(0,p.isNull)(this.state.activeTabIndex))&&this.trySetFirstVisibleTab()}trySetFirstVisibleTab(){const e=(0,p.findIndex)(this.childLayouts,e=>!this.isHiddenTab(e));-1!==e&&this.activateTab(e)}}Cp.\u0275fac=function(e){return new(e||Cp)(i["\u0275\u0275directiveInject"](f.RuntimeViewCanvasItemComponent))},Cp.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Cp,selectors:[["rx-tab-panel"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:1,consts:[[3,"fullHeight","tab-active","tab-active-changed",4,"ngIf"],[3,"fullHeight","tab-active","tab-active-changed"],["ngFor","",3,"ngForOf","ngForTrackBy"],[3,"adapt-tab-title",4,"ngIf"],[3,"layout",4,"ngIf"],[3,"adapt-tab-title"],[3,"layout"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,Ns,2,4,"adapt-tabset",0),2&e&&i["\u0275\u0275property"]("ngIf",!t.isHidden)},directives:[m.NgIf,h.AdaptTabsComponent,m.NgForOf,h.AdaptTabsPanelComponent,f.RuntimeViewCanvasItemComponent],encapsulation:2});class _p{constructor(e,t){this.viewDefinitionParserService=e,this.rxJsonParserService=t}adaptDefinition(e){this.viewDefinitionParserService.getComponents(e).filter(e=>e.componentDefinition.type===c.RxViewComponentType.TabPanel).map(e=>e.componentDefinition).forEach(e=>{if(e.layout){let t=this.rxJsonParserService.tryParseJson(e.layout);if(t&&t.componentDefinitionId){const n=t.columns.map(e=>({children:e.children.map(e=>e.columns[0].children[0].componentDefinitionId)}));t={outlets:[{name:"DEFAULT",columns:n}]},e.layout=JSON.stringify(t)}}})}}_p.\u0275fac=function(e){return new(e||_p)(i["\u0275\u0275inject"](c.RxViewDefinitionParserService),i["\u0275\u0275inject"](v.RxJsonParserService))},_p.\u0275prov=i["\u0275\u0275defineInjectable"]({token:_p,factory:_p.\u0275fac});class Sp extends ka{constructor(e,t){super(e,t),this.componentDefinitionType=c.RxViewComponentType.TabContainer}}Sp.\u0275fac=function(e){return new(e||Sp)(i["\u0275\u0275inject"](c.RxViewDefinitionParserService),i["\u0275\u0275inject"](v.RxJsonParserService))},Sp.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Sp,factory:Sp.\u0275fac});class Ip{constructor(e,t,n){this.rxTabPanelComponentDefinitionAdapterService=e,this.rxTabContainerComponentDefinitionAdapterService=t,this.rxDefinitionAdapterRegistryService=n,n.registerRuntimeAdapter(c.RxViewComponentType.TabPanel,e),n.registerRuntimeAdapter(c.RxViewComponentType.TabContainer,t)}}Ip.\u0275fac=function(e){return new(e||Ip)(i["\u0275\u0275inject"](_p),i["\u0275\u0275inject"](Sp),i["\u0275\u0275inject"](a.RxDefinitionAdapterRegistryService))},Ip.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ip,declarations:[Cp,wp],imports:[m.CommonModule,f.RuntimeViewCanvasModule,h.AdaptTabsModule],exports:[Cp,wp]}),Ip.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[_p,Sp],imports:[[m.CommonModule,f.RuntimeViewCanvasModule,h.AdaptTabsModule.forRoot()]]});class Ap extends d.ViewDesignerComponentModel{constructor(){super(...arguments),this.tabContainerGuids$=this.sandbox.getChildComponentGuids().pipe((0,r.shareReplay)(1)),this.tabContainerComponents$=this.sandbox.getChildComponents(e=>e.type===c.RxViewComponentType.TabContainer).pipe((0,r.shareReplay)(1),(0,r.takeUntil)(this.sandbox.destroyed$)),this.selectedTabGuid$=new o.ReplaySubject(null)}static getInitialProperties(e){return Object.assign(Object.assign({name:null},c.RX_STANDARD_PROPS_DEFAULT_VALUES),e)}rxInit(){this.sandbox.componentProperties$.pipe((0,r.take)(1)).subscribe(()=>{this.sandbox.updateInspectorConfig(this.getInspector())}),this.sandbox.componentProperties$.subscribe(e=>this.validate(e)),this.tabContainerGuids$.pipe((0,r.map)(e=>!(0,p.isEmpty)(e)),(0,r.take)(1)).subscribe(e=>{e||this.sandbox.setChildren([{type:c.RxViewComponentType.TabContainer,data:{label:"Tab 1"}},{type:c.RxViewComponentType.TabContainer,data:{label:"Tab 2"}}])}),this.sandbox.getComponentPropertyValue("name").subscribe(e=>{const t=e?`${this.sandbox.descriptor.name} (${e})`:this.sandbox.descriptor.name;this.sandbox.setSettablePropertiesDataDictionary(t,[{label:"Hidden",expression:this.getExpressionForProperty("hidden")},{label:"Active Tab Index",expression:this.getExpressionForProperty("activeTabIndex")}])})}addTab(){this.sandbox.addComponent({type:c.RxViewComponentType.TabContainer,propertiesByName:{label:"New tab"}})}removeTab(e){this.sandbox.removeComponents([e]),(0,o.combineLatest)([this.selectedTabGuid$,this.tabContainerGuids$]).pipe((0,r.take)(1),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([t,n])=>{e===t&&this.selectTab(n[0])})}selectTab(e,t=!1){this.selectedTabGuid$.next(e),t||setTimeout(()=>{this.sandbox.selectComponent(e)})}dropPredicate(){return!1}moveComponent(e,t){this.sandbox.moveComponent(e,t,this.sandbox.guid)}validate(e){this.sandbox.setValidationIssues((0,d.validateStandardProps)(e))}getInspector(){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"name",component:l.TextFormControlComponent,options:{label:"Name",tooltip:new a.Tooltip("Enter a name to uniquely identify the Tab panel")}},...(0,d.getStandardPropsInspectorConfigs)()]}]}}}class Ep{constructor(e){this.rxUtilityModalsService=e,this.components=[],this.destroyed$=new o.ReplaySubject(1)}ngOnInit(){this.model.tabContainerComponents$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.components=e,this.adaptTabset.checkActiveIndex()}),this.model.tabContainerComponents$.pipe((0,r.take)(1)).subscribe(e=>{this.model.selectTab((0,p.first)(e).guid,!0)})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}trackByForTabs(e,t){return t.guid}onTabClicked(e){this.activeTabChanged(e)}onTabAdded(e){e.stopPropagation(),this.model.addTab(),setTimeout(()=>{this.adaptTabset.setActiveTab(this.components.length-1,!0,new MouseEvent("click"))})}activeTabChanged({index:e,event:t}){t.stopPropagation(),this.model.tabContainerGuids$.pipe((0,r.take)(1)).subscribe(t=>{this.model.selectTab(t[e])})}onTabDropped(e){for(let t=0;t<this.components.length;t++)if(this.components[t].guid!==e[t].id){if(this.components[t].guid===e[t+1].id){this.model.moveComponent(e[t].id,t);break}this.model.moveComponent(this.components[t].guid,(0,p.findIndex)(e,{id:this.components[t].guid}));break}}removeTab({index:e}){this.rxUtilityModalsService.confirm("Are you sure you want to delete this view component?").then(t=>{t&&this.model.tabContainerGuids$.pipe((0,r.take)(1)).subscribe(t=>{this.model.removeTab(t[e])})})}}Ep.\u0275fac=function(e){return new(e||Ep)(i["\u0275\u0275directiveInject"](C.RxUtilityModalsService))},Ep.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ep,selectors:[["rx-tab-panel-design"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](js,7),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.adaptTabset=e.first)}},inputs:{model:"model",isReadOnly:"isReadOnly"},decls:4,vars:5,consts:[[3,"allow-tabs-adding","enableDnD","tab-index-closed","tab-active-changed","tabClicked","tabDropped","add-tab-clicked"],["adaptTabset",""],[3,"adapt-tab-title","icon-close","id",4,"ngFor","ngForOf","ngForTrackBy"],[3,"dropPredicate"],[3,"adapt-tab-title","icon-close","id"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"adapt-tabset",0,1),i["\u0275\u0275listener"]("tab-index-closed",function(e){return t.removeTab(e)})("tab-active-changed",function(e){return t.activeTabChanged(e)})("tabClicked",function(e){return t.onTabClicked(e)})("tabDropped",function(e){return t.onTabDropped(e)})("add-tab-clicked",function(e){return t.onTabAdded(e)}),i["\u0275\u0275template"](2,Ls,1,3,"adapt-tab-panel",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](3,"rx-canvas-outlet",3)),2&e&&(i["\u0275\u0275property"]("allow-tabs-adding",!t.isReadOnly)("enableDnD",!0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.components)("ngForTrackBy",t.trackByForTabs),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("dropPredicate",t.model.dropPredicate))},directives:[h.AdaptTabsComponent,m.NgForOf,d.CanvasOutletComponent,h.AdaptTabsPanelComponent],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}[_nghost-%COMP%]{display:block;border:1px solid #d6d7d8}[_nghost-%COMP%]  .adapt-tabset>.tab-container>.tab-content{display:none}[_nghost-%COMP%] >rx-canvas-outlet>rx-canvas-item-container>div>div>rx-canvas-item-column>.cdk-drop-list>.cdk-drag>.canvas-item{border-width:0;padding:0}[_nghost-%COMP%] >rx-canvas-outlet>rx-canvas-item-container>div>div>rx-canvas-item-column>.cdk-drop-list>.cdk-drag>.canvas-item>.canvas-item-header{display:none}']});class Dp extends za{constructor(e){super(),this.tabPanelDesignComponent=e}ngOnInit(){this.tabPanelDesignComponent.model.selectedTabGuid$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(this.model.selectedTabGuid$)}}Dp.\u0275fac=function(e){return new(e||Dp)(i["\u0275\u0275directiveInject"](Ep))},Dp.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Dp,selectors:[["rx-tab-container-design"]],inputs:{model:"model"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:2,consts:[[3,"skipParentPredicate","containerComponent"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"rx-canvas-outlet",0),2&e&&i["\u0275\u0275property"]("skipParentPredicate",!0)("containerComponent",t.containerCanvasItemComponent)},directives:[d.CanvasOutletComponent],encapsulation:2});class Tp{}Tp.\u0275fac=function(e){return new(e||Tp)},Tp.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Tp,declarations:[Ep,Dp],imports:[m.CommonModule,h.AdaptButtonModule,h.AdaptTabsModule,d.ViewDesignerCanvasModule]}),Tp.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptButtonModule,h.AdaptTabsModule,d.ViewDesignerCanvasModule]]});class Rp extends d.ViewDesignerComponentModel{constructor(){super(...arguments),this.rxViewComponentRegistryService=this.injector.get(c.RxViewComponentRegistryService),this.componentName$=this.sandbox.getChildComponents().pipe((0,r.filter)(e=>e.length>0),(0,r.map)(e=>{const t=e[0].type,n=this.rxViewComponentRegistryService.get(t);return(null==n?void 0:n.name)||c.RX_VIEW_DEFINITION.unknownPageComponent.name}))}}class Mp{}Mp.\u0275fac=function(e){return new(e||Mp)},Mp.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Mp,selectors:[["rx-page-design"]],inputs:{model:"model"},decls:2,vars:3,consts:[["type","objects",3,"label"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"adapt-empty-state",0),i["\u0275\u0275pipe"](1,"async")),2&e&&i["\u0275\u0275property"]("label",i["\u0275\u0275pipeBind1"](1,1,t.model.componentName$))},directives:[h.AdaptEmptyStateComponent],pipes:[m.AsyncPipe],encapsulation:2,changeDetection:0});class Op{}Op.\u0275fac=function(e){return new(e||Op)},Op.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Op,declarations:[Mp],imports:[m.CommonModule,h.AdaptEmptyStateModule]}),Op.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptEmptyStateModule]]});class Pp{adaptDefinition(e){e.layout=JSON.stringify({outlets:[{name:c.RX_VIEW_DEFINITION.defaultOutletName,columns:[{children:e.componentDefinitions[0].guid}]}]})}}Pp.\u0275fac=function(e){return new(e||Pp)},Pp.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Pp,factory:Pp.\u0275fac});class Fp{constructor(e,t){this.rxDefinitionAdapterRegistryService=e,this.pageComponentDefinitionAdapterService=t,this.rxDefinitionAdapterRegistryService.registerRuntimeAdapter(c.RxViewComponentType.Page,this.pageComponentDefinitionAdapterService)}}Fp.\u0275fac=function(e){return new(e||Fp)(i["\u0275\u0275inject"](a.RxDefinitionAdapterRegistryService),i["\u0275\u0275inject"](Pp))},Fp.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Fp,declarations:[Qu],imports:[m.CommonModule,f.RuntimeViewCanvasModule],exports:[Qu]}),Fp.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[Pp],imports:[[m.CommonModule,f.RuntimeViewCanvasModule]]});class kp{}kp.\u0275fac=function(e){return new(e||kp)},kp.\u0275cmp=i["\u0275\u0275defineComponent"]({type:kp,selectors:[["rx-image-design"]],decls:2,vars:0,consts:[[1,"placeholder","d-flex","justify-content-center","align-items-center"],[1,"component-icon","d-icon-attachment_image_adapt"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275element"](1,"span",1),i["\u0275\u0275elementEnd"]())},styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}[_nghost-%COMP%]{display:block;border:1px solid #d6d7d8}.placeholder[_ngcontent-%COMP%]{height:132px;color:#959899}.component-icon[_ngcontent-%COMP%]{height:100px;width:100px;font-size:100px;position:relative}.component-icon[_ngcontent-%COMP%]:before{position:absolute;top:0;bottom:0;right:0;left:0}']});class Np{}var jp;Np.\u0275fac=function(e){return new(e||Np)},Np.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Np,declarations:[kp],imports:[m.CommonModule,l.RxDefinitionPickerModule,l.FormControlsModule]}),Np.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,l.RxDefinitionPickerModule,l.FormControlsModule]]}),function(e){e.Left="left",e.Center="center",e.Right="right"}(jp||(jp={}));const Lp=[{id:jp.Left,name:"Left"},{id:jp.Center,name:"Center"},{id:jp.Right,name:"Right"}],Vp={[jp.Left]:"justify-content-start",[jp.Center]:"justify-content-center",[jp.Right]:"justify-content-end"};class Bp extends f.BaseViewComponent{constructor(e,t,n,i,o,r){super(),this.rxRecordInstanceService=e,this.rxLogService=t,this.httpClient=n,this.domSanitizer=i,this.translateService=o,this.rxRecordInstanceUtilsService=r,this.state={recordDefinitionName:"",recordInstanceId:"",fieldId:"",maxWidth:"",imageUrl:null,isImageBroken:!1,alignmentStyle:"",altText:""},this.api={setProperty:this.setProperty.bind(this)},this.fileName=""}ngOnInit(){super.ngOnInit(),this.notifyPropertyChanged("api",this.api);this.config.pipe((0,r.distinctUntilChanged)(p.isEqual),(0,r.tap)(e=>{const t=Object.assign({},e);this.isHidden=t.hidden,!this.state.alignmentStyle&&t.alignment&&(t.alignmentStyle=this.getAlignmentStyle(t.alignment)),delete t.alignment,this.state=Object.assign(Object.assign({},this.state),t)}),(0,r.shareReplay)(1)).pipe((0,r.map)(()=>this.state.recordInstanceId?this.state.recordInstanceId:null),(0,r.filter)(e=>Boolean(e)),(0,r.distinctUntilChanged)(),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>{const t=this.rxRecordInstanceService.getAttachmentDownloadUrl(this.state.recordDefinitionName,Number(this.state.fieldId),e);this.httpClient.get(t,{responseType:"blob",observe:"response"}).subscribe({next:e=>{const t=e.body;if(this.fileName=this.rxRecordInstanceUtilsService.tryParseContentDisposition(e.headers.get("content-disposition")),t&&"image"===t.type.split("/")[0]){const e=new FileReader;e.onloadend=()=>{this.state.imageUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(e.result),this.state.isImageBroken=!1,this.state.altText=this.fileName},e.onerror=this.onImageLoadFailed.bind(this),e.readAsDataURL(t)}else this.rxLogService.warning("rx-image: attachment is not a valid image."),this.onImageLoadFailed()},error:e=>{this.state.imageUrl=null,this.state.isImageBroken=!1,this.state.altText=""}})})}onImageLoadFailed(){this.state.imageUrl=null,this.state.isImageBroken=!0,this.state.altText=this.translateService.instant("com.bmc.arsys.rx.client.view-components.image.invalid-image.label",{imageName:this.fileName})}getAlignmentStyle(e){return Vp[e]}setProperty(e,t){if("hidden"!==e)return(0,o.throwError)(`Image: property ${e} is not settable.`);this.isHidden=t,this.notifyPropertyChanged(e,this.isHidden)}}Bp.\u0275fac=function(e){return new(e||Bp)(i["\u0275\u0275directiveInject"](s.RxRecordInstanceService),i["\u0275\u0275directiveInject"](a.RxLogService),i["\u0275\u0275directiveInject"](F.HttpClient),i["\u0275\u0275directiveInject"](P.DomSanitizer),i["\u0275\u0275directiveInject"](u.TranslateService),i["\u0275\u0275directiveInject"](s.RxRecordInstanceUtilsService))},Bp.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Bp,selectors:[["rx-image"]],inputs:{config:"config"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:1,consts:[[3,"class",4,"ngIf"],["class","image",3,"src","max-width",4,"ngIf"],["role","img","class","broken-image d-icon-broken_image",4,"ngIf"],[1,"image",3,"src"],["role","img",1,"broken-image","d-icon-broken_image"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,Gs,3,5,"div",0),2&e&&i["\u0275\u0275property"]("ngIf",!t.isHidden)},directives:[m.NgIf],styles:[".broken-image[_ngcontent-%COMP%]{font-size:64px}.image[_ngcontent-%COMP%]{align-self:flex-start}.image-container[_ngcontent-%COMP%]{width:100%;overflow:hidden}"]});class Gp{}Gp.\u0275fac=function(e){return new(e||Gp)},Gp.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Gp,declarations:[Bp],imports:[m.CommonModule],exports:[Bp]}),Gp.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule]]});class zp{constructor(e,t){this.componentFactoryResolver=e,this.rxViewComponentRegistryService=t,t.register({type:c.RxViewComponentType.ActionButton,componentFactory:this.componentFactoryResolver.resolveComponentFactory(_a),properties:[{name:"recordDefinitionName"},{name:"fieldId"},{name:"recordInstance",enableExpressionEvaluation:!0},{name:"label",localizable:!0},c.RX_DISABLED_PROP_DESC,...c.RX_STANDARD_PROPS_DESC],name:"Action button",isContainerComponent:!0,options:{canBeEmbeddedInRecordEditor:!0},group:d.RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,icon:"action_button_cursor",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(xa),designComponentModel:ba,bundleId:a.RX_APPLICATION.platformBundleId})}}zp.\u0275fac=function(e){return new(e||zp)(i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](c.RxViewComponentRegistryService))},zp.\u0275mod=i["\u0275\u0275defineNgModule"]({type:zp,imports:[Ca,Sa]}),zp.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[Ca,Sa]]});class $p{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:c.RxViewComponentType.ButtonBar,componentFactory:this.componentFactoryResolver.resolveComponentFactory(Ta),outlets:[{name:c.RX_VIEW_DEFINITION.defaultOutletName}],properties:c.RX_STANDARD_PROPS_DESC,name:"Button bar",group:d.RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,icon:"button_panel_o",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(Oa),designComponentModel:Ma,options:{canBeEmbeddedInRecordEditor:!0},bundleId:a.RX_APPLICATION.platformBundleId})}}$p.\u0275fac=function(e){return new(e||$p)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},$p.\u0275mod=i["\u0275\u0275defineNgModule"]({type:$p,imports:[Ra,Pa]}),$p.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[Ra,Pa]]});class Up{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:c.RxViewComponentType.Container,componentFactory:this.componentFactoryResolver.resolveComponentFactory(Fa),properties:c.RX_STANDARD_PROPS_DESC,outlets:[{name:c.RX_VIEW_DEFINITION.defaultOutletName}],name:"Container",group:d.RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,icon:"layout",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(za),designComponentModel:Ga,options:{canBeEmbeddedInRecordEditor:!0},bundleId:a.RX_APPLICATION.platformBundleId})}}Up.\u0275fac=function(e){return new(e||Up)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},Up.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Up,imports:[Na,$a]}),Up.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[Na,$a]]});class Hp extends d.ViewDesignerComponentModel{constructor(){super(...arguments),this.recordDefinitionName$=this.sandbox.getComponentPropertyValue("recordDefinitionName"),this.attachmentFields$=this.recordDefinitionName$.pipe((0,r.switchMap)(e=>e?this.getAttachmentFieldsFromRecordDefinition(e):(0,o.of)([]))),this.rxModalService=this.injector.get(C.RxModalService),this.rxRecordDefinitionCacheService=this.injector.get(s.RxRecordDefinitionCacheService),this.maxWidthUnits=[{name:"pixels",id:"px"},{name:"%",id:"%"}]}static getInitialProperties(e){return Object.assign(Object.assign({name:null,recordDefinitionName:null,recordInstanceId:null,fieldId:null,maxWidth:null,alignment:jp.Left},c.RX_STANDARD_PROPS_DEFAULT_VALUES),e)}rxInit(){this.sandbox.componentProperties$.pipe((0,r.take)(1)).subscribe(e=>{this.sandbox.updateInspectorConfig(this.getInspector(e))}),this.recordDefinitionName$.pipe((0,r.skip)(1),(0,r.withLatestFrom)(this.sandbox.componentProperties$),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([e,t])=>{const n=Object.assign(Object.assign({},t),{recordInstanceId:null,fieldId:null});this.sandbox.updateComponentProperties(n),this.sandbox.updateInspectorConfig(this.getInspector(n))}),this.attachmentFields$.pipe((0,r.withLatestFrom)(this.sandbox.componentProperties$),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(([e,t])=>{this.sandbox.updateInspectorConfig(this.getInspector(t,e))}),(0,o.combineLatest)([this.validateEmptyProp("recordDefinitionName","Record definition name cannot be blank."),this.validateEmptyProp("recordInstanceId","Record instance ID cannot be blank."),this.validateEmptyProp("fieldId","Field ID cannot be blank."),this.sandbox.getComponentPropertyValue("maxWidth").pipe((0,r.map)(e=>this.validateMaxWidth(e))),this.sandbox.getComponentPropertyValue("styles").pipe((0,r.map)(d.validateCssClassNames)),this.sandbox.getComponentPropertyValue(c.RX_AVAILABLE_ON_DEVICES_PROP_NAME).pipe((0,r.map)(d.validateAvailableOnDevicesProp))]).pipe((0,r.map)(p.flatten),(0,r.map)(p.compact),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>this.sandbox.setValidationIssues(e)),this.sandbox.getComponentPropertyValue("name").subscribe(e=>{const t=e?`${this.sandbox.descriptor.name} (${e})`:this.sandbox.descriptor.name;this.sandbox.setSettablePropertiesDataDictionary(t,[{label:"Hidden",expression:this.getExpressionForProperty("hidden")}])})}getAttachmentFieldsFromRecordDefinition(e){return this.rxRecordDefinitionCacheService.getRecordDefinition(e).pipe((0,r.map)(e=>e.fieldDefinitions.filter(e=>e.resourceType===s.RX_RECORD_DEFINITION.dataTypes.attachment.resourceType).map(({id:e,name:t})=>({id:e.toString(),name:t}))))}getInspector(e,t=[]){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"name",component:l.TextFormControlComponent,options:{label:"Name",tooltip:new a.Tooltip("Enter a name to uniquely identify the Image view component.")}},{name:"recordDefinitionName",component:l.RxDefinitionPickerComponent,options:{label:"Record definition name",definitionType:l.RxDefinitionPickerType.RegularRecord,beforeValueChange:(t,n)=>Boolean(t)&&e.recordInstanceId&&e.fieldId?this.rxModalService.confirm({title:"Warning",modalStyle:C.RX_MODAL.modalStyles.warning,message:"Record Instance ID and Field ID will be cleared. Do you want to continue?"}):Promise.resolve(!0),required:!0}},{name:"fieldId",component:l.SelectFormControlComponent,options:{label:"Field name",options:t,required:!0}},{name:"recordInstanceId",component:l.ExpressionInspectorControlComponent,options:{label:"Record ID",isRequired:!0}},{name:"alignment",component:l.SelectFormControlComponent,options:{label:"Horizontal alignment",options:Lp}},{name:"maxWidth",component:l.StepperWithUnitsFormControlComponent,options:{label:"Maximum width",defaultUnit:"px",units:this.maxWidthUnits,stepperOptionByUnits:{px:{minValue:0},"%":{minValue:0,maxValue:100,defaultValue:100}}}},...(0,d.getStandardPropsInspectorConfigs)()]}]}}validateEmptyProp(e,t){return this.sandbox.getComponentPropertyValue(e).pipe((0,r.map)(n=>n?null:this.sandbox.createError(t,e)))}validateMaxWidth(e){if(e){const t=e.match(/^([+-]?\d+(?:\.\d+)?)(.*)/);if(t){const e=Number(t[1]);if("%"===t[2]&&e>100)return this.sandbox.createError("Maximum width cannot be greater than 100%.");if(e<0)return this.sandbox.createError("Maximum width should be a positive number.")}}}}class Xp{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,this.rxViewComponentRegistryService.register({type:c.RxViewComponentType.Image,componentFactory:this.componentFactoryResolver.resolveComponentFactory(Bp),name:"Image",group:d.RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,options:{canBeEmbeddedInRecordEditor:!0},properties:[{name:"recordInstanceId",enableExpressionEvaluation:!0},...c.RX_STANDARD_PROPS_DESC],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(kp),designComponentModel:Hp,icon:"attachment_image_adapt",bundleId:a.RX_APPLICATION.platformBundleId})}}Xp.\u0275fac=function(e){return new(e||Xp)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},Xp.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Xp,imports:[Gp,Np]}),Xp.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[Gp,Np]]});class Wp{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,this.rxViewComponentRegistryService.register({type:c.RxViewComponentType.Page,componentFactory:this.componentFactoryResolver.resolveComponentFactory(Qu),outlets:[{name:c.RX_VIEW_DEFINITION.defaultOutletName}],name:"Page",group:d.RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(Mp),designComponentModel:Rp,hidden:!0,bundleId:a.RX_APPLICATION.platformBundleId})}}Wp.\u0275fac=function(e){return new(e||Wp)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},Wp.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Wp,imports:[Fp,Op]}),Wp.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[Fp,Op]]});class qp{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:c.RxViewComponentType.RecordEditor,componentFactory:this.componentFactoryResolver.resolveComponentFactory(al),properties:[{name:"recordInstanceId",enableExpressionEvaluation:!0},{name:"allowEdit",enableExpressionEvaluation:!0},{name:"label",localizable:!0},c.RX_AVAILABLE_ON_DEVICES_PROP_DESC],outlets:[{name:c.RX_VIEW_DEFINITION.defaultOutletName}],name:"Record editor",group:d.RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,icon:"file_text",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(Ka),designComponentModel:Za,bundleId:a.RX_APPLICATION.platformBundleId})}}qp.\u0275fac=function(e){return new(e||qp)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},qp.\u0275mod=i["\u0275\u0275defineNgModule"]({type:qp,imports:[dl,el]}),qp.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[dl,el]]});class Yp extends d.RxViewComponentExpressionConfigurator{constructor(e,t,n){super(e,t,n),this.componentGuid=t,this.componentModel=n,this.rxDefinitionNameService=this.injector.get(a.RxDefinitionNameService),this.rxRecordGridUtilsService=this.injector.get(Nd),this.rxRecordDefinitionCacheService=this.injector.get(s.RxRecordDefinitionCacheService);const i=this.getComponentCommonDataDictionary().pipe((0,r.switchMap)(e=>e?n.recordDefinition$.pipe((0,r.concatMap)(e=>this.rxRecordGridUtilsService.getAssociationDescriptors(e.name).pipe((0,r.concatMap)(e=>e.length?(0,o.forkJoin)(e.map(e=>this.rxRecordDefinitionCacheService.getRecordDefinition(e.recordDefinitionName).pipe((0,r.map)(t=>Object.assign(Object.assign({},e),{recordDefinition:t}))))):(0,o.of)([])),(0,r.map)(n=>e?{label:"Filter by",children:[{label:this.rxDefinitionNameService.getDisplayName(e.name),icon:"d-icon-file_o_gear",children:e.fieldDefinitions.map(e=>{const n=e.resourceType===s.RX_RECORD_DEFINITION.resourceTypes.selection?(0,p.map)(e.optionNamesById,(n,i)=>({label:n,expression:`\${view.components.${t}.recordDefinition.fieldDefinitionsById[${e.id}].optionsById[${i}].id}`})):void 0;return{label:e.name,icon:"d-icon-file_o_gear",expression:`'${e.id}'`,children:e.resourceType===s.RX_RECORD_DEFINITION.resourceTypes.selection?[{label:"Options",children:n}]:null,autocompleteOptions:n}})},...n?n.map(e=>({label:this.rxDefinitionNameService.getDisplayName(e.associationDefinition.name),icon:"d-icon-file_o_gear",children:e.recordDefinition.fieldDefinitions.map(t=>({label:t.name,icon:"d-icon-file_o_gear",expression:`'\${recordContext._associations.${e.associationDefinition.guid}.${e.nodeSide}[0].${t.id}}'`}))})):[]]}:[]))),(0,r.map)(t=>Object.assign(Object.assign({},e),{children:[t,...e.children]}))):(0,o.of)(null)));this.configureForProperty({propertyPath:"filterExpression",operators:this.getOperatorRowsByGroup(a.ExpressionOperatorGroup.AllServer),dataDictionary$:this.getCommonDataDictionary(i).pipe((0,r.map)(e=>[Yd.keywords,...e.filter(e=>"General"!==e.label&&"Functions"!==e.label)||[]]))})}}class Qp{constructor(e,t,n,i){this.componentFactoryResolver=e,this.rxViewComponentRegistryService=t,this.rxRecordGridQueryExpressionEvaluatorService=n,this.rxRecordQueryExpressionEvaluatorService=i,t.register({type:kd.type,componentFactory:this.componentFactoryResolver.resolveComponentFactory(op),properties:[{name:"recordDefinitionName",type:c.ViewComponentPropertyType.String},{name:"enableRowSelection",type:c.ViewComponentPropertyType.String},{name:"enableFiltering",type:c.ViewComponentPropertyType.Boolean,designType:c.ViewComponentPropertyType.Boolean,enableExpressionEvaluation:!0},{name:"getDataForHiddenColumns",type:c.ViewComponentPropertyType.Boolean,designType:c.ViewComponentPropertyType.Boolean,enableExpressionEvaluation:!0},{name:"requiredFilters",type:c.ViewComponentPropertyType.Number,designType:c.ViewComponentPropertyType.Number,enableExpressionEvaluation:!0},{name:"showDataForAllLocales",type:c.ViewComponentPropertyType.Boolean,designType:c.ViewComponentPropertyType.Boolean,enableExpressionEvaluation:!0},{name:"expandable",type:c.ViewComponentPropertyType.Boolean,designType:c.ViewComponentPropertyType.Boolean},{name:"bordered",type:c.ViewComponentPropertyType.Boolean,designType:c.ViewComponentPropertyType.Boolean,enableExpressionEvaluation:!0},{name:"striped",type:c.ViewComponentPropertyType.Boolean,designType:c.ViewComponentPropertyType.Boolean,enableExpressionEvaluation:!0},{name:"defaultFilterPreset",type:c.ViewComponentPropertyType.String},{name:"filters",type:c.ViewComponentPropertyType.String},{name:"filterExpression",type:c.ViewComponentPropertyType.String,enableExpressionEvaluation:!0,evaluatorService:this.rxRecordGridQueryExpressionEvaluatorService},{name:"selectedRows",type:c.ViewComponentPropertyType.String},{name:"firstSelectedRow",type:c.ViewComponentPropertyType.String},{name:"clickableRow",type:c.ViewComponentPropertyType.String},{name:"selectedRowCount",type:c.ViewComponentPropertyType.Number},{name:"totalRowCount",type:c.ViewComponentPropertyType.Number},{name:"isUserAllowedToDeleteRecords",type:c.ViewComponentPropertyType.Boolean},{name:"associationDefinitionName",type:c.ViewComponentPropertyType.String},{name:"associatedRecordNodeSide",type:c.ViewComponentPropertyType.String},{name:"associatedRecordId",type:c.ViewComponentPropertyType.String,enableExpressionEvaluation:!0},{name:"associatedRoleName",type:c.ViewComponentPropertyType.String,enableExpressionEvaluation:!0},{name:"enableFilterPresets",type:c.ViewComponentPropertyType.Boolean,designType:c.ViewComponentPropertyType.Boolean,enableExpressionEvaluation:!0},{name:"queryExpression",type:c.ViewComponentPropertyType.String},{name:"lastRefreshTime",type:c.ViewComponentPropertyType.String},{name:"viewPresetSelector",enableExpressionEvaluation:!0},c.RX_AVAILABLE_ON_DEVICES_PROP_DESC],outlets:[{name:c.RX_VIEW_DEFINITION.defaultOutletName},{name:kd.rowActionsOutletName}],name:"Record grid",group:d.RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,icon:"table",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory($u),designComponentModel:zu,expressionConfigurator:Yp,bundleId:a.RX_APPLICATION.platformBundleId},{type:kd.components.column,configPropertyName:"columns",properties:[{name:"title",type:c.ViewComponentPropertyType.String,localizable:!0},{name:"fieldId",type:c.ViewComponentPropertyType.String},{name:"visible",type:c.ViewComponentPropertyType.String,enableExpressionEvaluation:!0},{name:"sortable",type:c.ViewComponentPropertyType.String},{name:"filterable",type:c.ViewComponentPropertyType.String,designType:c.ViewComponentPropertyType.Boolean,enableExpressionEvaluation:!0},{name:"clickable",type:c.ViewComponentPropertyType.String,enableExpressionEvaluation:!0},{name:"index",type:c.ViewComponentPropertyType.Number},{name:"alignment",type:c.ViewComponentPropertyType.String},{name:"cellDisplayProperties",designType:c.ViewComponentPropertyType.Array,type:c.ViewComponentPropertyType.Array},{name:"wrapText",type:c.ViewComponentPropertyType.Boolean},{name:"typeaheadKeystrokeCount",type:c.ViewComponentPropertyType.Number},{name:"additionalQueryCriteria",type:c.ViewComponentPropertyType.String,enableExpressionEvaluation:!0,evaluatorService:this.rxRecordQueryExpressionEvaluatorService}],isDataComponent:!0,isContainerComponent:!0},{type:kd.components.filter,configPropertyName:"recordGridFilters",properties:[{name:"value",type:c.ViewComponentPropertyType.String},{name:"fieldId",type:c.ViewComponentPropertyType.String},{name:"$DISPLAYVALUE$",type:c.ViewComponentPropertyType.String},{name:"label",localizable:!0}],isDataComponent:!0},{type:kd.components.filterPreset,configPropertyName:"predefinedFilterPresets",properties:[{name:"title",type:c.ViewComponentPropertyType.String,localizable:!0},{name:"filters",type:c.ViewComponentPropertyType.String},{name:"filterExpression",enableExpressionEvaluation:!0,evaluatorService:this.rxRecordGridQueryExpressionEvaluatorService}],isDataComponent:!0,isContainerComponent:!0},{type:kd.components.viewPreset,configPropertyName:"viewPresets",properties:[{name:"viewPresetGuid",type:c.ViewComponentPropertyType.String},{name:"filters",type:c.ViewComponentPropertyType.String}],isDataComponent:!0,isContainerComponent:!0},{type:kd.components.columnViewPreset,configPropertyName:"columnViewPresets",properties:[{name:"fieldId",type:c.ViewComponentPropertyType.String},{name:"index",designType:c.ViewComponentPropertyType.Number,type:c.ViewComponentPropertyType.Number},{name:"visible",designType:c.ViewComponentPropertyType.Boolean,type:c.ViewComponentPropertyType.Boolean},{name:"sortable",designType:c.ViewComponentPropertyType.Object,type:c.ViewComponentPropertyType.Object}],isDataComponent:!0,isContainerComponent:!0})}}Qp.\u0275fac=function(e){return new(e||Qp)(i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](sp),i["\u0275\u0275inject"](c.RxRecordQueryExpressionEvaluatorService))},Qp.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Qp,imports:[ap,Yu]}),Qp.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[ap,Yu]]});class Zp{constructor(e,t,n){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,this.rxRichTextExpressionEvaluatorService=n,e.register({type:c.RxViewComponentType.RichText,componentFactory:this.componentFactoryResolver.resolveComponentFactory(lp),properties:[{name:"html",enableExpressionEvaluation:!0,evaluatorService:this.rxRichTextExpressionEvaluatorService,localizable:!0},...c.RX_STANDARD_PROPS_DESC],name:"Rich text",isContainerComponent:!0,options:{canBeEmbeddedInRecordEditor:!0},group:d.RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,icon:"text",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(mp),designComponentModel:hp,bundleId:a.RX_APPLICATION.platformBundleId})}}Zp.\u0275fac=function(e){return new(e||Zp)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](cp))},Zp.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Zp,imports:[up,gp]}),Zp.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[dp],imports:[[up,gp]]});class Kp extends d.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.componentProperties$=this.sandbox.componentProperties$,this.hiddenOnCanvas$=new o.BehaviorSubject(!1),this.selectedTabGuid$=new o.Subject,this.componentProperties$.pipe((0,r.take)(1)).subscribe(()=>{this.sandbox.updateInspectorConfig(this.getInspector())}),(0,o.combineLatest)([this.sandbox.getComponentPropertyValue("label").pipe((0,r.map)(e=>e?null:this.sandbox.createError("Label cannot be blank.","label"))),this.sandbox.getComponentPropertyValue("styles").pipe((0,r.map)(d.validateCssClassNames)),this.sandbox.getComponentPropertyValue(c.RX_AVAILABLE_ON_DEVICES_PROP_NAME).pipe((0,r.map)(d.validateAvailableOnDevicesProp))]).pipe((0,r.map)(p.flatten),(0,r.map)(p.compact)).subscribe(e=>this.sandbox.setValidationIssues(e)),this.selectedTabGuid$.pipe((0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>{this.hiddenOnCanvas$.next(this.sandbox.guid!==e)}),this.sandbox.getComponentPropertyValue("columnCount").pipe((0,r.skip)(1)).subscribe(e=>{this.sandbox.setLayout(this.getDefaultColumnSpans(Number(e)))}),this.sandbox.getComponentPropertyValue("label").subscribe(e=>{const t=e?`${this.sandbox.descriptor.name} (${e})`:this.sandbox.descriptor.name;this.sandbox.setSettablePropertiesDataDictionary(t,[{label:"Hidden",expression:this.getExpressionForProperty("hidden")}]),this.sandbox.setBreadcrumbs(e)})}static getInitialProperties(e){return Object.assign(Object.assign({columnCount:"1",enableLazyLoading:!1,label:"",rowWrap:La.Sm},c.RX_STANDARD_PROPS_DEFAULT_VALUES),e)}setContainerLayout(e){this.sandbox.setLayout(e)}getDefaultColumnSpans(e){const t=[],n=Math.floor(Va.maxColumnSpan/e);return(0,p.times)(e,()=>t.push(n)),t[t.length-1]=Va.maxColumnSpan%e+n,t}getInspector(){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"label",component:l.TextFormControlComponent,options:{label:"Label",required:!0}},{name:"enableLazyLoading",component:l.SwitchFormControlComponent,options:{label:"Enable lazy loading"}},{name:"columnCount",component:l.SelectFormControlComponent,options:{label:"Number of columns",required:!0,tooltip:new a.Tooltip("Resize container columns on the canvas by dragging the dashed column separator line."),options:(0,p.times)(6,e=>({id:(++e).toString(),name:e.toString()}))}},{name:"rowWrap",component:l.SelectFormControlComponent,options:{label:"Row wrap",sortAlphabetically:!1,options:(0,p.values)(Va.rowWrapOptions),tooltip:new a.Tooltip("The Row wrap property controls the layout of multi-column containers based on\n                    the width of the view. When the width of the view is decreased to a width less\n                    than the selected Row wrap value, each container column after the first one\n                    wraps onto a new line.")}},...(0,d.getStandardPropsInspectorConfigs)()]}]}}}class Jp{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:c.RxViewComponentType.TabPanel,componentFactory:t.resolveComponentFactory(Cp),properties:c.RX_STANDARD_PROPS_DESC,outlets:[{name:c.RX_VIEW_DEFINITION.defaultOutletName}],options:{canBeEmbeddedInRecordEditor:!0},name:"Tab panel",group:d.RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,icon:"app_tab",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(Ep),designComponentModel:Ap,bundleId:a.RX_APPLICATION.platformBundleId},{type:c.RxViewComponentType.TabContainer,componentFactory:t.resolveComponentFactory(wp),properties:[...c.RX_STANDARD_PROPS_DESC,{name:"label",type:c.ViewComponentPropertyType.String,localizable:!0},{name:"enableLazyLoading",type:c.ViewComponentPropertyType.Boolean,designType:c.ViewComponentPropertyType.Boolean,enableExpressionEvaluation:!0}],outlets:[{name:c.RX_VIEW_DEFINITION.defaultOutletName}],name:"Tab",group:d.RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,hidden:!0,icon:"app_tab",designComponentFactory:t.resolveComponentFactory(Dp),designComponentModel:Kp,bundleId:a.RX_APPLICATION.platformBundleId})}}Jp.\u0275fac=function(e){return new(e||Jp)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},Jp.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Jp,imports:[Ip,Tp]}),Jp.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[Ip,Tp]]});class eh extends d.ViewDesignerComponentModel{static getInitialProperties(e){return Object.assign({serviceRequestId:null,serviceRequestName:null,serviceRequestGuid:null},e)}rxInit(){this.sandbox.getComponentPropertyValue("serviceRequestId").pipe((0,r.map)(e=>e?[]:[this.sandbox.createError("Selected service request ID cannot be blank.","serviceRequestId")]),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>this.sandbox.setValidationIssues(e)),this.sandbox.componentProperties$.pipe((0,r.take)(1)).subscribe(()=>{this.sandbox.updateInspectorConfig(this.getInspector()),this.sandbox.setCommonDataDictionary(this.getCommonProps())})}getCommonProps(){return{label:this.sandbox.descriptor.name,expression:this.getExpressionForProperty("api"),children:[{label:"Service request ID",expression:this.getExpressionForProperty("serviceRequestId")},{label:"Service request name",expression:this.getExpressionForProperty("serviceRequestName")},{label:"Service request GUID",expression:this.getExpressionForProperty("serviceRequestGuid")}]}}getInspector(){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"serviceRequestId",component:l.ExpressionInspectorControlComponent,options:{label:"Service request ID",isRequired:!0}},{name:"serviceRequestName",component:l.ExpressionInspectorControlComponent,options:{label:"Service request name"}},{name:"serviceRequestGuid",component:l.ExpressionInspectorControlComponent,options:{label:"Service request GUID"}}]}]}}}class th{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,this.rxViewComponentRegistryService.register({type:c.RxViewComponentType.ServiceList,componentFactory:this.componentFactoryResolver.resolveComponentFactory(bp),name:"Service list",group:d.RX_VIEW_DESIGNER.stencilGroups.chatbotComponents.label,options:{canBeEmbeddedInRecordEditor:!0},canBeInsertedInto:e=>e.includes(c.RxViewComponentType.RecordEditor),properties:[{name:"serviceRequestId",enableExpressionEvaluation:!0,type:c.ViewComponentPropertyType.String},{name:"serviceRequestName",enableExpressionEvaluation:!0,type:c.ViewComponentPropertyType.String},{name:"serviceRequestGuid",enableExpressionEvaluation:!0,type:c.ViewComponentPropertyType.String}],designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(vp),designComponentModel:eh,icon:"field_dropdown",bundleId:a.RX_APPLICATION.chatbotBundleId,availableInBundles:[a.RX_APPLICATION.chatbotBundleId]})}}th.\u0275fac=function(e){return new(e||th)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},th.\u0275mod=i["\u0275\u0275defineNgModule"]({type:th,imports:[xp,yp]}),th.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[xp,yp]]});class nh extends d.ViewDesignerComponentModel{constructor(){super(...arguments),this.label=`Unknown component: ${this.sandbox.componentType}`}rxInit(){this.sandbox.componentProperties$.pipe((0,r.take)(1)).subscribe(e=>{this.sandbox.updateInspectorConfig(this.getInspector(e)),this.sandbox.setValidationIssues([this.sandbox.createError(this.label)])})}getInspector(e){return{inspectorSectionConfigs:[{label:"General",controls:(0,p.keys)(e).map(e=>({name:e,component:l.TextFormControlComponent,options:{label:e},isDisabled:!0}))}]}}}class ih{}ih.\u0275fac=function(e){return new(e||ih)},ih.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ih,selectors:[["rx-unknown"]],inputs:{model:"model"},decls:1,vars:1,consts:[["type","objects",3,"label"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"adapt-empty-state",0),2&e&&i["\u0275\u0275property"]("label",t.model.label)},directives:[h.AdaptEmptyStateComponent],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}[_nghost-%COMP%]{border:1px solid #d6d7d8;display:block;position:relative;padding:1rem;height:200px}'],changeDetection:0});class oh{}oh.\u0275fac=function(e){return new(e||oh)},oh.\u0275mod=i["\u0275\u0275defineNgModule"]({type:oh,declarations:[ih],imports:[m.CommonModule,h.AdaptEmptyStateModule]}),oh.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptEmptyStateModule]]});class rh{constructor(e,t){this.componentFactoryResolver=e,this.rxViewComponentRegistryService=t,t.register({type:c.RxViewComponentType.Unknown,outlets:[{name:c.RX_VIEW_DEFINITION.defaultOutletName}],name:"Unknown",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(ih),designComponentModel:nh,hidden:!0,bundleId:a.RX_APPLICATION.platformBundleId})}}rh.\u0275fac=function(e){return new(e||rh)(i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](c.RxViewComponentRegistryService))},rh.\u0275mod=i["\u0275\u0275defineNgModule"]({type:rh,imports:[oh]}),rh.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[oh]]});const sh={commands:{createUserMapping:"com.bmc.arsys.rx.application.chat.command.CreateChatUserMappingCommand"},mappingStatus:{check:"check",failed:"failed",inProgress:"inProgress",missingParameters:"missingParameters",pending:"pending",success:"success"},messages:{check:"com.bmc.arsys.rx.settings.check",failed:"com.bmc.arsys.rx.settings.failed",inProgress:"com.bmc.arsys.rx.settings.inProgress",missingParameters:"com.bmc.arsys.rx.settings.missingParameters",pending:"com.bmc.arsys.rx.settings.pending",success:"com.bmc.arsys.rx.settings.success"}};class ah extends f.BaseViewComponent{constructor(e,t,n){super(),this.translateService=e,this.rxCommandFactoryService=t,this.rxNotificationService=n,this.encryptedChatUserAndChatId=null,this.chatbotProvider=null,this.isMappingInProgress=!1,this.message="",this.mappingStatus=""}ngOnInit(){this.isMappingInProgress=!1,this.config.pipe((0,r.take)(1)).subscribe(e=>{this.encryptedChatUserAndChatId=e.encryptedChatUserAndChatId,this.chatbotProvider=e.chatbotProvider,this.encryptedChatUserAndChatId?this.mappingStatus=sh.mappingStatus.pending:(this.mappingStatus=sh.mappingStatus.missingParameters,this.rxNotificationService.addErrorMessage(this.translateService.instant(sh.messages.missingParameters))),this.updateMessage()})}isMappingButtonVisible(){return this.mappingStatus===sh.mappingStatus.pending}mapUser(){this.isMappingInProgress=!0,this.mappingStatus=sh.mappingStatus.inProgress,this.updateMessage();const e={encryptedChatUserAndChatId:this.encryptedChatUserAndChatId,chatbotProvider:this.chatbotProvider};this.rxCommandFactoryService.forResourceType(sh.commands.createUserMapping).execute(e).pipe((0,r.catchError)(e=>(this.mappingStatus=sh.mappingStatus.failed,this.updateMessage(),this.isMappingInProgress=!1,(0,o.throwError)(e)))).subscribe(()=>{this.mappingStatus=sh.mappingStatus.success,this.updateMessage(),this.isMappingInProgress=!1})}updateMessage(){this.message=this.translateService.instant(sh.messages[this.mappingStatus])}}ah.\u0275fac=function(e){return new(e||ah)(i["\u0275\u0275directiveInject"](u.TranslateService),i["\u0275\u0275directiveInject"](a.RxCommandFactoryService),i["\u0275\u0275directiveInject"](a.RxNotificationService))},ah.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ah,selectors:[["com-bmc-arsys-rx-user-mapping"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:11,vars:9,consts:[[1,"text-center","mt-1","container"],[1,"text-logo"],[1,"mt-4"],["rx-id","verify-bmc-cloud-account","adapt-button","","btn-type","primary","size","large","type","button",1,"mt-4",3,"disabled","hidden","click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div"),i["\u0275\u0275elementStart"](2,"span",1),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",2),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div"),i["\u0275\u0275elementStart"](8,"button",3),i["\u0275\u0275listener"]("click",function(){return t.mapUser()}),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](4,5,"com.bmc.arsys.rx.settings.title")),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](t.message),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",t.isMappingInProgress)("hidden",!t.isMappingButtonVisible()),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](10,7,"com.bmc.arsys.rx.settings.verify-cloud-account")," "))},directives:[h.AdaptButtonComponent],pipes:[u.TranslatePipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.container[_ngcontent-%COMP%]{width:400px;margin:auto}.text-logo[_ngcontent-%COMP%]{font-size:var(--h1-font-size)}']});class lh{constructor(e,t){this.componentFactoryResolver=e,this.rxViewComponentRegistryService=t,t.register({type:"com-bmc-arsys-rx-user-mapping",componentFactory:this.componentFactoryResolver.resolveComponentFactory(ah),name:"Chatbot User Mapping",availableInBundles:[a.RX_APPLICATION.settingsBundleId],hidden:!0,properties:[{name:"encryptedChatUserAndChatId",enableExpressionEvaluation:!0},{name:"chatbotProvider",enableExpressionEvaluation:!0}]})}}lh.\u0275fac=function(e){return new(e||lh)(i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](c.RxViewComponentRegistryService))},lh.\u0275mod=i["\u0275\u0275defineNgModule"]({type:lh,declarations:[ah],imports:[h.AdaptButtonModule,m.CommonModule,x.FormsModule,u.TranslateModule]}),lh.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[h.AdaptButtonModule,m.CommonModule,x.FormsModule,u.TranslateModule]]});const ch="LOGIN_SUCCESSFUL";class dh extends f.BaseViewComponent{ngOnInit(){var e;null===(e=window.opener)||void 0===e||e.postMessage(ch,"*")}}dh.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](dh)))(t||dh)}}(),dh.\u0275cmp=i["\u0275\u0275defineComponent"]({type:dh,selectors:[["com-bmc-arsys-rx-settings-iframe-login-event"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:0,consts:[["src","/com.bmc.arsys.rx.settings/resources/images/login-successful.gif","alt","Login successful",1,"login-verification"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"img",0)},styles:[".login-verification[_ngcontent-%COMP%]{top:50%;left:50%;position:fixed;transform:translate(-50%,-50%);width:670px}"]});class uh{constructor(e,t){this.componentFactoryResolver=e,this.rxViewComponentRegistryService=t,t.register({type:"com-bmc-arsys-rx-settings-iframe-login-event",componentFactory:this.componentFactoryResolver.resolveComponentFactory(dh),name:"IFrame Login Event",availableInBundles:[a.RX_APPLICATION.settingsBundleId],hidden:!0})}}uh.\u0275fac=function(e){return new(e||uh)(i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](c.RxViewComponentRegistryService))},uh.\u0275mod=i["\u0275\u0275defineNgModule"]({type:uh,declarations:[dh],imports:[m.CommonModule]}),uh.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule]]});class ph{constructor(e){this.rxSmartReportingService=e}ngOnInit(){this.rxSmartReportingService.openSmartReporting("_self",{query:this.runtimeViewModelApi.getViewInputParameters().param}).subscribe()}}ph.\u0275fac=function(e){return new(e||ph)(i["\u0275\u0275directiveInject"](a.RxSmartReportingService))},ph.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ph,selectors:[["rx-smart-reporting-redirector"]],inputs:{runtimeViewModelApi:"runtimeViewModelApi"},decls:3,vars:3,consts:[[1,"p-3"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.smart-reporting-redirector.message")))},pipes:[u.TranslatePipe],encapsulation:2});class hh{constructor(e,t){this.componentFactoryResolver=e,this.rxViewComponentRegistryService=t,t.register({type:"rx-smart-reporting-redirector",componentFactory:this.componentFactoryResolver.resolveComponentFactory(ph),name:"Smart reporting redirector",isPageComponent:!0,hidden:!0,availableInBundles:[a.RX_APPLICATION.settingsBundleId]})}}hh.\u0275fac=function(e){return new(e||hh)(i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](c.RxViewComponentRegistryService))},hh.\u0275mod=i["\u0275\u0275defineNgModule"]({type:hh,declarations:[ph],imports:[u.TranslateModule]}),hh.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[u.TranslateModule]]});const mh="23503_SHARABLE_VIEW_PRESET",fh={user:{recordDefinitionName:"CTM:People",fields:{fullName:1000000017,lastName:1000000018,firstName:1000000019,loginId:s.RX_RECORD_DEFINITION.coreFieldIds.assignee,recordId:s.RX_RECORD_DEFINITION.coreFieldIds.id,email:1000000048}},sharedViewPreset:{recordDefinitionName:"com.bmc.arsys.rx.settings:SharedViewPreset",fields:{viewPresetName:58200,viewName:58201,viewPresetInfo:58202,viewPresetSelectorGuid:58203,sharedUsers:58204,id:s.RX_RECORD_DEFINITION.coreFieldIds.id,ownerFullName:58205}}};class gh{constructor(e,t,n,i){this.rxRecordInstanceDataPageService=e,this.rxRecordInstanceService=t,this.httpClient=n,this.rxJsonParserService=i}searchUsers(e){return this.rxRecordInstanceDataPageService.post({params:{recorddefinition:fh.user.recordDefinitionName,propertySelection:[fh.user.fields.fullName,fh.user.fields.email,fh.user.fields.loginId],pageSize:a.RX_DATA_PAGE.defaultPageSize,queryExpression:[fh.user.fields.fullName,fh.user.fields.email,fh.user.fields.loginId].map(t=>`('${t}' LIKE "%${e}%")`).join(" OR ")}}).pipe((0,r.map)(e=>e.data))}getSharedViewPresets(e,t){return this.rxRecordInstanceDataPageService.post({params:{recorddefinition:fh.sharedViewPreset.recordDefinitionName,queryExpression:[`'${fh.sharedViewPreset.fields.viewPresetSelectorGuid}' = "${e}"`].join(" AND "),propertySelection:[fh.sharedViewPreset.fields.viewPresetName,fh.sharedViewPreset.fields.id,fh.sharedViewPreset.fields.ownerFullName,fh.sharedViewPreset.fields.sharedUsers]}}).pipe((0,r.map)(e=>e.data.filter(e=>this.rxJsonParserService.tryParseJson(e[fh.sharedViewPreset.fields.sharedUsers],[]).find(e=>e.loginId===t))))}getSharedViewPreset(e){return this.rxRecordInstanceService.get(fh.sharedViewPreset.recordDefinitionName,e)}createSharedViewPreset(e){return this.httpClient.post(this.getUrl(),e,{responseType:"text"})}updateSharedViewPreset(e,t){return this.httpClient.put(this.getUrl(e),t)}deleteSharedViewPreset(e){return this.rxRecordInstanceService.delete(fh.sharedViewPreset.recordDefinitionName,e)}getUrl(e){return e?`/api/rx/application/configuration/viewpreset/${e}`:"/api/rx/application/configuration/viewpreset"}}gh.\u0275fac=function(e){return new(e||gh)(i["\u0275\u0275inject"](s.RxRecordInstanceDataPageService),i["\u0275\u0275inject"](s.RxRecordInstanceService),i["\u0275\u0275inject"](F.HttpClient),i["\u0275\u0275inject"](v.RxJsonParserService))},gh.\u0275prov=i["\u0275\u0275defineInjectable"]({token:gh,factory:gh.\u0275fac,providedIn:"root"});class vh{constructor(e,t,n,i){this.rxShareViewPresetDataService=e,this.rxStringService=t,this.rxJsonParserService=n,this.rxCurrentUserService=i}getAutocompleteSearch(e){return e.pipe((0,r.debounceTime)(250),(0,r.distinctUntilChanged)(),(0,r.switchMap)(e=>{const t=e.trim();return t.length>0?this.rxShareViewPresetDataService.searchUsers(t):(0,o.of)([])}),(0,r.map)(e=>e.map(e=>({text:e[fh.user.fields.fullName],data:{loginId:e[fh.user.fields.loginId],fullName:e[fh.user.fields.fullName],emailAddress:e[fh.user.fields.email]}}))))}getSharedViewPresetUsers(e){return this.rxShareViewPresetDataService.getSharedViewPreset(e).pipe((0,r.map)(e=>this.rxJsonParserService.tryParseJson(null==e?void 0:e.fieldInstances[fh.sharedViewPreset.fields.sharedUsers].value,[])))}getSharedViewPresetData(e){return this.rxShareViewPresetDataService.getSharedViewPreset(e).pipe((0,r.map)(e=>({viewPresetName:null==e?void 0:e.fieldInstances[fh.sharedViewPreset.fields.viewPresetName].value,sharedViewPresets:this.rxJsonParserService.tryParseJson(null==e?void 0:e.fieldInstances[fh.sharedViewPreset.fields.viewPresetInfo].value,null)})))}createUpdateSharedViewPreset(e,t){return t?this.rxShareViewPresetDataService.updateSharedViewPreset(t,e).pipe((0,r.map)(()=>t)):this.rxShareViewPresetDataService.createSharedViewPreset(e)}saveSharedViewPreset(e,t){const n=e.sharedUsers?(0,o.of)(e.sharedUsers):this.getSharedViewPresetUsers(t);return(0,o.combineLatest)([e.runtimeViewModelApi.shareViewPreset(e.presetSelectorGuid),n]).pipe((0,r.map)(([t,n])=>({viewPresetName:e.currentViewPreset.label,viewName:"",viewPresetGuid:e.presetSelectorGuid,submitter:this.rxCurrentUserService.get().fullName,sharedUsers:n,presetInformation:JSON.stringify(t)})),(0,r.switchMap)(e=>this.createUpdateSharedViewPreset(e,t)))}deleteSharedViewPreset(e){return this.rxShareViewPresetDataService.deleteSharedViewPreset(e)}getSharedViewPresetsForCurrentUser(e){return this.rxShareViewPresetDataService.getSharedViewPresets(e,this.rxCurrentUserService.getName()).pipe((0,r.map)(e=>e.map(e=>({label:e[fh.sharedViewPreset.fields.viewPresetName],guid:e[fh.sharedViewPreset.fields.id],ownerFullName:e[fh.sharedViewPreset.fields.ownerFullName]}))))}}vh.\u0275fac=function(e){return new(e||vh)(i["\u0275\u0275inject"](gh),i["\u0275\u0275inject"](v.RxStringService),i["\u0275\u0275inject"](v.RxJsonParserService),i["\u0275\u0275inject"](a.RxCurrentUserService))},vh.\u0275prov=i["\u0275\u0275defineInjectable"]({token:vh,factory:vh.\u0275fac,providedIn:"root"});class yh{constructor(e,t){this.rxUserPreferencesService=e,this.rxShareViewPresetService=t}save(e){const t=e.customViewPresetOptions.map(e=>(0,p.pick)(e,["guid","label","userSharedViewPresetGuid"])),n=e.sharedViewPresetOptions.map(e=>(0,p.pick)(e,["guid","label"])),i={preferences:JSON.stringify({customViewPresets:t,sharedViewPresets:n,viewPresetGuid:e.appliedViewPresetOption.guid}),componentTypeName:c.RxViewComponentType.ViewPresetSelector,version:"1.0",componentId:this.viewPresetSelectorGuid};return this.rxUserPreferencesService.setUiComponentPreferences(i,this.viewPresetSelectorGuid)}applyUserPreferences(e,t){return this.viewPresetSelectorGuid=e,this.get(e).pipe((0,r.map)(e=>(t.customViewPresetOptions=e.customViewPresets,e.sharedViewPresets&&(t.sharedViewPresetOptions=e.sharedViewPresets.map(e=>Object.assign(Object.assign({},e),{isShared:!0}))),t.appliedViewPresetOption=(0,p.find)(t.customViewPresetOptions,{guid:e.viewPresetGuid})||(0,p.find)(t.systemViewPresetOptions,{guid:e.viewPresetGuid})||(0,p.find)(t.sharedViewPresetOptions,{guid:e.viewPresetGuid})||t.systemViewPresetOptions[0],t)),(0,r.switchMap)(e=>this.checkSharedViewPresets(e)))}get(e){return this.rxUserPreferencesService.getUiComponentPreferences(e).pipe((0,r.map)(e=>null!=e?e:{customViewPresets:[],sharedViewPresets:[],viewPresetGuid:null}))}checkSharedViewPresets(e){return e.sharedViewPresetOptions.length?this.rxShareViewPresetService.getSharedViewPresetsForCurrentUser(this.viewPresetSelectorGuid).pipe((0,r.map)(t=>{let n=!1,i=null;if(e.sharedViewPresetOptions=e.sharedViewPresetOptions.reduce((e,i)=>{const o=t.find(e=>e.guid===i.guid);return o?(i.label!==o.label&&(i.label=o.label,n=!0),e.push(i)):n=!0,e},[]),e.appliedViewPresetOption.isShared){const t=e.sharedViewPresetOptions.find(t=>t.guid===e.appliedViewPresetOption.guid);t&&e.isSharingEnabled||(t||(i=e.appliedViewPresetOption.guid),e.appliedViewPresetOption=e.systemViewPresetOptions[0])}return{state:e,shouldUpdatePreferences:n,removedPresetGuid:i}})):(0,o.of)({state:e,shouldUpdatePreferences:!1,removedPresetGuid:null})}}yh.\u0275fac=function(e){return new(e||yh)(i["\u0275\u0275inject"](a.RxUserPreferencesService),i["\u0275\u0275inject"](vh))},yh.\u0275prov=i["\u0275\u0275defineInjectable"]({token:yh,factory:yh.\u0275fac});class bh extends C.RxModalClass{constructor(e,t){super(e,t),this.activeModalRef=e,this.injector=t,this.viewPresetNameFormControl=new x.FormControl(""),this.destroyed$=new o.ReplaySubject(1),this.modalData=this.activeModalRef.getData(),this.viewPresetNameFormControl.setValue(this.modalData.viewPresetName),this.viewPresetNameFormControl.valueChanges.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.viewPresetNameFormControl.dirty&&e===this.modalData.viewPresetName&&this.viewPresetNameFormControl.reset(this.modalData.viewPresetName)})}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}save(){this.activeModalRef.close(this.generateUniqueViewPresetName(this.viewPresetNameFormControl.value))}cancel(){this.activeModalRef.dismiss(h.DismissReasons.CLOSE_BTN)}isViewPresetNameUnique(e){const t=e.trim();return!this.modalData.existingViewPresetNames.some(e=>e===t)}generateUniqueViewPresetName(e){const t=e.trim();let n=t,i=1;for(;!this.isViewPresetNameUnique(n);)n=`${t}-${i++}`;return n}}bh.\u0275fac=function(e){return new(e||bh)(i["\u0275\u0275directiveInject"](h.ActiveModalRef),i["\u0275\u0275directiveInject"](i.Injector))},bh.\u0275cmp=i["\u0275\u0275defineComponent"]({type:bh,selectors:[["rx-rename-view-preset"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:10,vars:12,consts:[[1,"modal-body"],["name","viewPresetName","rx-id","view-preset-name-field","required","true","rxNoWhitespace","",3,"formControl","label","maxlength","autofocus"],["class","text-info m-0 pt-1",4,"ngIf"],[1,"modal-footer"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click"],["adapt-button","","btn-type","secondary","type","button","rx-id","cancel-button",3,"click"],[1,"text-info","m-0","pt-1"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275element"](1,"adapt-rx-textfield",1),i["\u0275\u0275template"](2,zs,3,3,"p",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"button",4),i["\u0275\u0275listener"]("click",function(){return t.save()}),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"button",5),i["\u0275\u0275listener"]("click",function(){return t.cancel()}),i["\u0275\u0275text"](8),i["\u0275\u0275pipe"](9,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("formControl",t.viewPresetNameFormControl)("label",t.modalData.fieldLabel)("maxlength",254)("autofocus",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.isViewPresetNameUnique(t.viewPresetNameFormControl.value)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",t.viewPresetNameFormControl.invalid||t.viewPresetNameFormControl.pristine),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,8,"com.bmc.arsys.rx.client.common.save.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](9,10,"com.bmc.arsys.rx.client.common.cancel.label")," "))},directives:[h.AdaptRxTextfieldComponent,x.RequiredValidator,v.RxNoWhitespaceValidator,x.NgControlStatus,x.FormControlDirective,x.MaxLengthValidator,m.NgIf,h.AdaptButtonComponent],pipes:[u.TranslatePipe],encapsulation:2});class xh{constructor(e){this.translateService=e,this.users=[],this.remove=new i.EventEmitter,this.recordGridConfig$=this.getRecordGridConfig()}ngOnChanges(e){e.users.currentValue&&!e.users.firstChange&&this.recordGrid.api.refresh().subscribe()}getRecordGridConfig(){const e=[{fieldId:"fullName",title:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.grid.column.name.title")},{fieldId:"emailAddress",title:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.grid.column.email.title")}],t={fieldDefinitions:[{id:"fullName",resourceType:s.RX_RECORD_DEFINITION.resourceTypes.character},{id:"emailAddress",resourceType:s.RX_RECORD_DEFINITION.resourceTypes.character}]};return(0,o.of)({columns:e,enableFiltering:!1,enableRowSelection:ou.Multiple,recordIdField:"loginId",styles:"flex-fill",toolbarConfig:{filter:!1,visibleColumnsMenu:!1},useExternalFiltering:!1,actionButtons:[{label:this.translateService.instant("com.bmc.arsys.rx.client.common.remove.label"),style:"tertiary",iconCls:"minus_circle_o",disabled:()=>0===this.recordGrid.api.getSelectedRows().length,actions:[{name:()=>{const e=this.recordGrid.api.getSelectedRows().map(e=>e.loginId);this.remove.emit(e)}}]}],getRecordDefinition:()=>(0,o.of)(t),getData:()=>(0,o.of)({data:this.users,totalSize:this.users.length})})}}xh.\u0275fac=function(e){return new(e||xh)(i["\u0275\u0275directiveInject"](u.TranslateService))},xh.\u0275cmp=i["\u0275\u0275defineComponent"]({type:xh,selectors:[["rx-share-view-preset-users-grid"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](op,7),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.recordGrid=e.first)}},inputs:{users:"users"},outputs:{remove:"remove"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:1,vars:1,consts:[[3,"config"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"rx-record-grid",0),2&e&&i["\u0275\u0275property"]("config",t.recordGridConfig$)},directives:[op],encapsulation:2,changeDetection:0});class wh extends C.RxModalClass{constructor(e,t,n,i,s,a,l){super(e,t),this.activeModalRef=e,this.injector=t,this.formBuilder=n,this.translateService=i,this.rxShareViewPresetService=s,this.rxCurrentUserService=a,this.rxNotificationService=l,this.maxRecipients=100,this.strings={users:{label:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.users-control.label"),placeholder:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.users-control.placeholder")},addButton:this.translateService.instant("com.bmc.arsys.rx.client.common.add.label"),notifyRecipients:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.notify-recipients.label"),recipients:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.recipients.label"),savedNotification:{title:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.saved-notification.title"),message:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.saved-notification.message")},removedNotification:{title:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.removed-notification.title"),message:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.removed-notification.message")},maxRecipientsWarning:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.max-users-warning.message",{maxUserCount:this.maxRecipients})},this.form=this.formBuilder.group({users:this.formBuilder.control([]),notifyRecipients:this.formBuilder.control(!1)}),this.modalData=this.activeModalRef.getData(),this.runtimeViewModelApi=this.modalData.runtimeViewModelApi,this.selectedUsers=[],this.destroyed$=new o.ReplaySubject(1),this.currentUserLoginName=this.rxCurrentUserService.getName(),this.isSelectedUsersChanged=!1,this.search=e=>this.rxShareViewPresetService.getAutocompleteSearch(e).pipe((0,r.map)(e=>{const t=this.selectedUsers.map(e=>e.loginId),n=this.form.get("users").value.map(({data:e})=>e.loginId);return e.filter(e=>e.data.loginId!==this.currentUserLoginName&&!t.includes(e.data.loginId)&&!n.includes(e.data.loginId))}))}get isRecipientsLimitReached(){return this.form.get("users").value.length+this.selectedUsers.length>this.maxRecipients}ngOnInit(){super.ngOnInit(),this.loadExistingSharedViewPresetUsers()}loadExistingSharedViewPresetUsers(){this.modalData.currentViewPreset.userSharedViewPresetGuid&&(this.sharedViewPresetInstanceGuid=this.modalData.currentViewPreset.userSharedViewPresetGuid,this.rxShareViewPresetService.getSharedViewPresetUsers(this.sharedViewPresetInstanceGuid).subscribe(e=>{this.selectedUsers=e}))}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}save(){this.selectedUsers.length?this.saveViewPreset():this.removeViewPreset()}removeViewPreset(){this.rxShareViewPresetService.deleteSharedViewPreset(this.sharedViewPresetInstanceGuid).subscribe(()=>{this.rxNotificationService.addSuccessMessage(this.strings.removedNotification.message,this.strings.removedNotification.title),this.activeModalRef.close(null)})}saveViewPreset(){this.rxShareViewPresetService.saveSharedViewPreset({runtimeViewModelApi:this.runtimeViewModelApi,currentViewPreset:this.modalData.currentViewPreset,presetSelectorGuid:this.modalData.presetSelectorGuid,sharedUsers:this.selectedUsers},this.sharedViewPresetInstanceGuid).subscribe(e=>{this.rxNotificationService.addSuccessMessage(this.strings.savedNotification.message,this.strings.savedNotification.title),this.activeModalRef.close(e)})}cancel(){this.activeModalRef.dismiss(h.DismissReasons.CLOSE_BTN)}onAdd(){const e=this.form.get("users").value.map(e=>Object.assign({},e.data));this.selectedUsers=this.selectedUsers.concat(e),this.form.get("users").setValue([]),this.isSelectedUsersChanged=!0}removeSelectedUsers(e){this.selectedUsers=this.selectedUsers.filter(t=>!e.includes(t.loginId)),this.isSelectedUsersChanged=!0,this.markAsDirty()}isSaveButtonDisabled(){return!(this.sharedViewPresetInstanceGuid&&this.isSelectedUsersChanged||!this.sharedViewPresetInstanceGuid&&this.selectedUsers.length>0)}}wh.\u0275fac=function(e){return new(e||wh)(i["\u0275\u0275directiveInject"](h.ActiveModalRef),i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](x.FormBuilder),i["\u0275\u0275directiveInject"](u.TranslateService),i["\u0275\u0275directiveInject"](vh),i["\u0275\u0275directiveInject"](a.RxCurrentUserService),i["\u0275\u0275directiveInject"](a.RxNotificationService))},wh.\u0275cmp=i["\u0275\u0275defineComponent"]({type:wh,selectors:[["rx-share-view-preset"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:21,vars:19,consts:[[1,"modal-body"],[3,"formGroup"],[1,"row","row-no-gutters"],[1,"col"],["formControlName","users","rx-id","users-input",3,"label","placeholder","replaceModelOnWrite","suppressManual","search","selectItemTemplate","ngModelChange"],["class","warning mb-3",4,"ngIf"],[1,"col-auto","pl-0"],["adapt-button","","type","button","btn-type","secondary","rx-id","add-button",1,"add-button",3,"disabled","click"],[3,"label"],[3,"users","remove"],[1,"modal-footer"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click"],["adapt-button","","btn-type","secondary","type","button","rx-id","cancel-button",3,"click"],["selectItemTemplate",""],[1,"warning","mb-3"],["name","exclamation_triangle",1,"text-warning"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"form",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"adapt-tag-field",4),i["\u0275\u0275listener"]("ngModelChange",function(){return t.markAsDirty()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,$s,3,1,"div",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",6),i["\u0275\u0275elementStart"](7,"button",7),i["\u0275\u0275listener"]("click",function(){return t.onAdd()}),i["\u0275\u0275elementStart"](8,"span"),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](10,"adapt-rx-control-label",8),i["\u0275\u0275elementStart"](11,"rx-share-view-preset-users-grid",9),i["\u0275\u0275listener"]("remove",function(e){return t.removeSelectedUsers(e)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",10),i["\u0275\u0275elementStart"](13,"button",11),i["\u0275\u0275listener"]("click",function(){return t.save()}),i["\u0275\u0275text"](14),i["\u0275\u0275pipe"](15,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"button",12),i["\u0275\u0275listener"]("click",function(){return t.cancel()}),i["\u0275\u0275text"](17),i["\u0275\u0275pipe"](18,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](19,Us,4,2,"ng-template",null,13,i["\u0275\u0275templateRefExtractor"])),2&e){const e=i["\u0275\u0275reference"](20);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("formGroup",t.form),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("label",t.strings.users.label)("placeholder",t.strings.users.placeholder)("replaceModelOnWrite",!0)("suppressManual",!0)("search",t.search)("selectItemTemplate",e),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isRecipientsLimitReached),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",!t.form.get("users").value.length||t.isRecipientsLimitReached),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.strings.addButton),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("label",t.strings.recipients),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("users",t.selectedUsers),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",t.isSaveButtonDisabled()),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](15,15,"com.bmc.arsys.rx.client.common.save.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](18,17,"com.bmc.arsys.rx.client.common.cancel.label")," ")}},directives:[x["\u0275NgNoValidate"],x.NgControlStatusGroup,x.FormGroupDirective,h.AdaptMetatagComponent,x.NgControlStatus,x.FormControlName,m.NgIf,h.AdaptButtonComponent,h.AdaptRxControlLabelComponent,xh,h.AdaptIconComponent],pipes:[u.TranslatePipe],styles:[".add-button[_ngcontent-%COMP%]{margin-top:23px}.warning[_ngcontent-%COMP%]{margin-top:-10px}[_nghost-%COMP%]  adapt-tag-field .adapt-mt-wrapper{min-height:80px;padding-right:5px}[_nghost-%COMP%]  adapt-tag-field .adapt-mt-wrapper .adapt-mt{max-height:72px!important}"]});class Ch extends C.RxModalClass{constructor(e,t,n){super(e,t),this.activeModalRef=e,this.injector=t,this.translateService=n,this.recordGridConfig$=(0,o.of)({columns:[{fieldId:"label",title:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.add-shared-view-preset.grid.column.preset-name.title")},{fieldId:"ownerFullName",title:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.add-shared-view-preset.grid.column.shared-by.title")}],enableFiltering:!1,enableRowSelection:ou.Multiple,recordIdField:"guid",styles:"flex-fill",toolbarConfig:{filter:!1,visibleColumnsMenu:!1},useExternalFiltering:!1,getRecordDefinition:()=>(0,o.of)({fieldDefinitions:[{id:"label",resourceType:s.RX_RECORD_DEFINITION.resourceTypes.character},{id:"ownerFullName",resourceType:s.RX_RECORD_DEFINITION.resourceTypes.character}]}),getData:()=>(0,o.of)({data:this.presets,totalSize:this.presets.length})}),this.modalData=this.activeModalRef.getData(),this.presets=this.modalData.newPresets}ngOnInit(){super.ngOnInit(),this.isAddButtonDisabled$=this.recordGrid.rowSelectionChanged.pipe((0,r.map)(p.isEmpty))}add(){const e=this.recordGrid.api.getSelectedRows().map(({label:e,guid:t})=>({label:e,guid:t}));this.activeModalRef.close(e)}cancel(){this.activeModalRef.dismiss(h.DismissReasons.CLOSE_BTN)}}Ch.\u0275fac=function(e){return new(e||Ch)(i["\u0275\u0275directiveInject"](h.ActiveModalRef),i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](u.TranslateService))},Ch.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ch,selectors:[["rx-add-shared-view-presets"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](op,7),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.recordGrid=e.first)}},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:13,vars:13,consts:[[1,"modal-body"],[1,"mb-4",2,"white-space","pre-line"],[3,"config"],[1,"modal-footer"],["adapt-button","","btn-type","primary","type","button","rx-id","add-button",3,"disabled","click"],["adapt-button","","btn-type","secondary","type","button","rx-id","cancel-button",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](4,"rx-record-grid",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",3),i["\u0275\u0275elementStart"](6,"button",4),i["\u0275\u0275listener"]("click",function(){return t.add()}),i["\u0275\u0275pipe"](7,"async"),i["\u0275\u0275text"](8),i["\u0275\u0275pipe"](9,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"button",5),i["\u0275\u0275listener"]("click",function(){return t.cancel()}),i["\u0275\u0275text"](11),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,5,"com.bmc.arsys.rx.client.view-components.view-preset-selector.add-shared-view-preset.description.label")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("config",t.recordGridConfig$),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](7,7,t.isAddButtonDisabled$)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](9,9,"com.bmc.arsys.rx.client.common.add.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](12,11,"com.bmc.arsys.rx.client.common.cancel.label")," "))},directives:[op,h.AdaptButtonComponent],pipes:[u.TranslatePipe,m.AsyncPipe],encapsulation:2,changeDetection:0});class _h extends f.BaseViewComponent{constructor(e,t,n,i,s,a,l,c,d){super(),this.changeDetectorRef=e,this.rxGuidService=t,this.rxModalService=n,this.rxUtilityModalsService=i,this.rxViewPresetSelectorUserPreferencesService=s,this.translateService=a,this.rxFeatureService=l,this.rxNotificationService=c,this.rxShareViewPresetService=d,this.api={getGuid:()=>this.guid,markAppliedViewPresetAsEdited:this.markAppliedViewPresetAsEdited.bind(this)},this.isOperationInProgressSubject=new o.BehaviorSubject(!1),this.isViewPresetEditedSubject=new o.BehaviorSubject(!1),this.viewPresetSelectorModel$=(0,o.combineLatest)([this.isOperationInProgressSubject,this.isViewPresetEditedSubject]).pipe((0,r.map)(([e,t])=>({isOperationInProgress:e,isViewPresetEdited:t}))),this.strings={deleteLabel:this.translateService.instant("com.bmc.arsys.rx.client.common.delete.label"),discardChangesButtonLabel:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.discard-changes.button.label"),editedViewPresetTagLabel:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.edited-view-preset-tag.label"),renameLabel:this.translateService.instant("com.bmc.arsys.rx.client.common.rename.label"),saveLabel:this.translateService.instant("com.bmc.arsys.rx.client.common.save.label"),saveAsLabel:this.translateService.instant("com.bmc.arsys.rx.client.common.save-as.label"),shareLabel:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.share.button.label"),systemPresetsTitle:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.preset-type.system.label"),sharedPresetsTitle:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.preset-type.shared-with-me.label"),customPresetsTitle:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.preset-type.created-by-me.label"),sharedTooltip:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.shared-preset.tooltip"),addSharedViewPresets:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.add-shared-view-preset.title")},this.userPreferencesChangedSubject=new o.Subject,this.isSharingFeatureEnabled=this.rxFeatureService.isFeatureEnabled(mh),this.userPreferencesChangedSubject.pipe((0,r.switchMap)(()=>this.rxViewPresetSelectorUserPreferencesService.save(this.state)),(0,r.takeUntil)(this.destroyed$)).subscribe()}ngOnInit(){super.ngOnInit(),this.notifyPropertyChanged("api",this.api),this.config.pipe((0,r.take)(1),(0,r.map)(e=>({systemViewPresetOptions:e.viewPresets,customViewPresetOptions:[],sharedViewPresetOptions:[],appliedViewPresetOption:null,isSharingEnabled:e.enableSharing&&this.isSharingFeatureEnabled})),(0,r.switchMap)(e=>this.rxViewPresetSelectorUserPreferencesService.applyUserPreferences(this.guid,e)),(0,r.tap)(({state:e,shouldUpdatePreferences:t,removedPresetGuid:n})=>{this.state=e,this.changeDetectorRef.detectChanges(),this.isOperationInProgressSubject.next(!0),n&&this.runtimeViewModelApi.deleteViewPreset(n).subscribe(),t&&this.userPreferencesChangedSubject.next()}),(0,r.switchMap)(()=>this.applyViewPreset(this.state.appliedViewPresetOption)),(0,r.finalize)(()=>this.isOperationInProgressSubject.next(!1))).subscribe()}ngOnDestroy(){super.ngOnDestroy(),this.isOperationInProgressSubject.complete(),this.isViewPresetEditedSubject.complete(),this.userPreferencesChangedSubject.complete()}deleteViewPreset(e){this.rxUtilityModalsService.confirm(this.translateService.instant(e.userSharedViewPresetGuid?"com.bmc.arsys.rx.client.view-components.view-preset-selector.delete-shared-view-preset-confirmation.message":"com.bmc.arsys.rx.client.view-components.view-preset-selector.delete-view-preset-confirmation.message")).then(t=>{if(t){const t=this.state.appliedViewPresetOption.guid;this.state.appliedViewPresetOption=this.state.systemViewPresetOptions[0],this.isViewPresetEditedSubject.next(!1),this.state.customViewPresetOptions=(0,p.reject)(this.state.customViewPresetOptions,{guid:t}),this.state.sharedViewPresetOptions=(0,p.reject)(this.state.sharedViewPresetOptions,{guid:t}),this.userPreferencesChangedSubject.next(),this.isOperationInProgressSubject.next(!0),this.runtimeViewModelApi.applyViewPreset(this.guid,this.state.appliedViewPresetOption.guid).pipe((0,r.finalize)(()=>{(e.userSharedViewPresetGuid?this.rxShareViewPresetService.deleteSharedViewPreset(e.userSharedViewPresetGuid):(0,o.of)(null)).pipe((0,r.switchMap)(()=>this.runtimeViewModelApi.deleteViewPreset(t)),(0,r.finalize)(()=>this.isOperationInProgressSubject.next(!1))).subscribe()})).subscribe()}}).catch(p.noop)}discardViewPresetChanges(){this.rxUtilityModalsService.confirm(this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.discard-changes-confirmation.message")).then(e=>{if(e){this.isViewPresetEditedSubject.next(!1),this.isOperationInProgressSubject.next(!0);const e=this.state.appliedViewPresetOption;(0,o.iif)(()=>e.isShared,this.getSharedViewPresetData(e).pipe((0,r.switchMap)(t=>this.runtimeViewModelApi.discardViewPresetChanges(e.guid,t))),this.runtimeViewModelApi.discardViewPresetChanges(e.guid)).pipe((0,r.finalize)(()=>this.isOperationInProgressSubject.next(!1))).subscribe()}}).catch(p.noop)}renameViewPreset(){this.openRenamingModal(this.strings.renameLabel,!0).then(e=>{this.state.appliedViewPresetOption.label=e,this.state.customViewPresetOptions=(0,p.sortBy)(this.state.customViewPresetOptions,"label"),this.userPreferencesChangedSubject.next(),this.changeDetectorRef.detectChanges(),this.state.appliedViewPresetOption.userSharedViewPresetGuid&&this.saveSharedViewPreset().subscribe()}).catch(p.noop)}selectPreset(e){this.state.appliedViewPresetOption=e,this.isViewPresetEditedSubject.next(!1),this.userPreferencesChangedSubject.next(),this.isOperationInProgressSubject.next(!0),this.applyViewPreset(e).pipe((0,r.finalize)(()=>this.isOperationInProgressSubject.next(!1))).subscribe()}saveAsViewPreset(){this.openRenamingModal(this.strings.saveAsLabel).then(e=>{const t={guid:this.rxGuidService.generate(),label:e};this.state.customViewPresetOptions.push(t),this.state.customViewPresetOptions=(0,p.sortBy)(this.state.customViewPresetOptions,"label"),this.state.appliedViewPresetOption=t,this.isViewPresetEditedSubject.next(!1),this.userPreferencesChangedSubject.next(),this.isOperationInProgressSubject.next(!0),this.runtimeViewModelApi.applyViewPreset(this.guid,this.state.appliedViewPresetOption.guid).pipe((0,r.finalize)(()=>this.isOperationInProgressSubject.next(!1))).subscribe()}).catch(p.noop)}saveViewPreset(){this.isViewPresetEditedSubject.next(!1),this.isOperationInProgressSubject.next(!0);(this.state.appliedViewPresetOption.userSharedViewPresetGuid?this.saveSharedViewPreset():(0,o.of)(null)).pipe((0,r.switchMap)(()=>this.runtimeViewModelApi.saveViewPreset(this.state.appliedViewPresetOption.guid)),(0,r.finalize)(()=>this.isOperationInProgressSubject.next(!1))).subscribe()}shareViewPreset(){this.rxModalService.openModal({content:wh,title:this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.share-view-preset.title"),data:{runtimeViewModelApi:this.runtimeViewModelApi,currentViewPreset:this.state.appliedViewPresetOption,presetSelectorGuid:this.guid},size:"sm"}).then(e=>{this.state.appliedViewPresetOption.userSharedViewPresetGuid=e,this.userPreferencesChangedSubject.next()}).catch(p.noop)}onAddSharedPresetsClick(){this.rxShareViewPresetService.getSharedViewPresetsForCurrentUser(this.guid).subscribe(e=>{const t=this.state.sharedViewPresetOptions.map(e=>e.guid),n=e.filter(e=>!t.includes(e.guid));n.length?this.openAddSharedPresetsModal(n):this.rxNotificationService.addInfoMessage(this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.add-shared-view-preset.notification.no-new-presets.message"),this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.add-shared-view-preset.notification.no-new-presets.title"))})}openAddSharedPresetsModal(e){this.rxModalService.openModal({content:Ch,title:this.strings.addSharedViewPresets,data:{presetSelectorGuid:this.guid,newPresets:e},size:"sm"}).then(e=>{this.state.sharedViewPresetOptions=this.state.sharedViewPresetOptions.concat(e.map(e=>Object.assign(Object.assign({},e),{isShared:!0}))),this.userPreferencesChangedSubject.next(),e.length&&this.rxNotificationService.addSuccessMessage(this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.add-shared-view-preset.notification.presets-added.message"),this.translateService.instant("com.bmc.arsys.rx.client.view-components.view-preset-selector.add-shared-view-preset.notification.presets-added.title"))}).catch(p.noop)}markAppliedViewPresetAsEdited(){this.isViewPresetEditedSubject.next(!0)}openRenamingModal(e,t){let n=[...this.state.customViewPresetOptions,...this.state.systemViewPresetOptions];return t&&(n=n.filter(e=>e.guid!==this.state.appliedViewPresetOption.guid)),this.rxModalService.openModal({content:bh,data:{fieldLabel:e,existingViewPresetNames:n.map(({label:e})=>e),viewPresetName:this.state.appliedViewPresetOption.label},size:"sm"})}applyViewPreset(e){return e.isShared?this.getSharedViewPresetData(e).pipe((0,r.switchMap)(t=>this.runtimeViewModelApi.applyViewPreset(this.guid,e.guid,t)),(0,r.catchError)(t=>this.handleSharedViewPresetLoadError(t,e))):this.runtimeViewModelApi.applyViewPreset(this.guid,e.guid)}saveSharedViewPreset(){return this.rxShareViewPresetService.saveSharedViewPreset({runtimeViewModelApi:this.runtimeViewModelApi,currentViewPreset:this.state.appliedViewPresetOption,presetSelectorGuid:this.guid},this.state.appliedViewPresetOption.userSharedViewPresetGuid)}getSharedViewPresetData(e){return this.rxShareViewPresetService.getSharedViewPresetData(e.guid).pipe((0,r.map)(({viewPresetName:t,sharedViewPresets:n})=>(e.label=t,n)))}handleSharedViewPresetLoadError(e,t){return 404===e.status?(this.state.sharedViewPresetOptions=this.state.sharedViewPresetOptions.filter(e=>e.guid!==t.guid),this.runtimeViewModelApi.deleteViewPreset(t.guid).subscribe(),this.selectPreset(this.state.systemViewPresetOptions[0]),o.EMPTY):(0,o.throwError)(e)}}_h.\u0275fac=function(e){return new(e||_h)(i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](v.RxGuidService),i["\u0275\u0275directiveInject"](C.RxModalService),i["\u0275\u0275directiveInject"](C.RxUtilityModalsService),i["\u0275\u0275directiveInject"](yh),i["\u0275\u0275directiveInject"](u.TranslateService),i["\u0275\u0275directiveInject"](a.RxFeatureService),i["\u0275\u0275directiveInject"](a.RxNotificationService),i["\u0275\u0275directiveInject"](vh))},_h.\u0275cmp=i["\u0275\u0275defineComponent"]({type:_h,selectors:[["rx-view-preset-selector"]],inputs:{config:"config",runtimeViewModelApi:"runtimeViewModelApi"},features:[i["\u0275\u0275ProvidersFeature"]([yh]),i["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","btn-group align-items-center",4,"ngIf"],[1,"btn-group","align-items-center"],["adaptDropdown",""],["adapt-button","","adaptDropdownToggle","","type","button","btn-type","tertiary","rx-id","toggle-button",1,"text-default","font-weight-bold","text-left",3,"disabled"],["adaptDropdownMenu","","tabindex","0"],["class","dropdown-heading",4,"ngIf"],["class","dropdown-item","type","button","rx-id","system-view-preset",3,"active","click",4,"ngFor","ngForOf"],["class","badge badge-secondary extra-small mx-2",4,"ngIf"],["btn-type","tertiary","class","d-icon-left-floppy p-2","rx-id","save-button",3,"disabled","click",4,"ngIf"],["btn-type","tertiary","class","d-icon-left-save_all_o","rx-id","save-as-button",3,"disabled","click",4,"ngIf"],["class","dropdown header-cell-menu-btn","adaptDropdown","",4,"ngIf"],["class","dropdown-item","type","button","rx-id","custom-view-preset",3,"active","click",4,"ngFor","ngForOf"],["class","dropdown-divider",4,"ngIf"],[1,"dropdown-heading"],["type","button","rx-id","custom-view-preset",1,"dropdown-item",3,"click"],["name","users","class","btn-link float-end ml-2",3,"adaptTooltip",4,"ngIf"],["name","users",1,"btn-link","float-end","ml-2",3,"adaptTooltip"],[1,"dropdown-divider"],["type","button","rx-id","add-preset-button",1,"btn","btn-link","float-end","p-0","pl-1","btn-add-shared",3,"adaptTooltip","click"],["name","plus"],["class","dropdown-item","type","button","rx-id","shared-view-preset",3,"active","click",4,"ngFor","ngForOf"],["type","button","rx-id","shared-view-preset",1,"dropdown-item",3,"click"],["type","button","rx-id","system-view-preset",1,"dropdown-item",3,"click"],[1,"badge","badge-secondary","extra-small","mx-2"],["btn-type","tertiary","rx-id","save-button",1,"d-icon-left-floppy","p-2",3,"disabled","click"],["btn-type","tertiary","rx-id","save-as-button",1,"d-icon-left-save_all_o",3,"disabled","click"],["adaptDropdown","",1,"dropdown","header-cell-menu-btn"],["rx-id","more-actions-toggle-button","type","button","adaptDropdownToggle","",1,"d-icon-ellipsis","btn","btn-link","px-0",3,"disabled","showCaret"],["adaptDropdownMenu","","tabindex","0",1,"dropdown-menu"],["btn-type","tertiary","class","d-icon-left-undo_adapt dropdown-item","rx-id","discard-changes-button",3,"click",4,"ngIf"],["btn-type","tertiary","class","d-icon-left-save_all_o dropdown-item","rx-id","save-as-button",3,"click",4,"ngIf"],["btn-type","tertiary","class","d-icon-left-field_text dropdown-item","rx-id","rename-selected-view-preset-button",3,"click",4,"ngIf"],["btn-type","tertiary","class","d-icon-left-trash_adapt dropdown-item","rx-id","remove-selected-view-preset-button",3,"click",4,"ngIf"],["btn-type","tertiary","class","d-icon-left-share dropdown-item","rx-id","share-view-preset-button",3,"click",4,"ngIf"],["btn-type","tertiary","rx-id","discard-changes-button",1,"d-icon-left-undo_adapt","dropdown-item",3,"click"],["btn-type","tertiary","rx-id","save-as-button",1,"d-icon-left-save_all_o","dropdown-item",3,"click"],["btn-type","tertiary","rx-id","rename-selected-view-preset-button",1,"d-icon-left-field_text","dropdown-item",3,"click"],["btn-type","tertiary","rx-id","remove-selected-view-preset-button",1,"d-icon-left-trash_adapt","dropdown-item",3,"click"],["btn-type","tertiary","rx-id","share-view-preset-button",1,"d-icon-left-share","dropdown-item",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,da,2,1,"ng-container",0),i["\u0275\u0275pipe"](1,"async")),2&e&&i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](1,1,t.viewPresetSelectorModel$))},directives:[m.NgIf,h.AdaptDropdownDirective,h.AdaptButtonComponent,h.AdaptDropdownToggleDirective,h.AdaptDropdownMenuDirective,m.NgForOf,h.AdaptIconComponent,h.AdaptTooltipDirective],pipes:[m.AsyncPipe],styles:["button[rx-id=toggle-button][_ngcontent-%COMP%], button[rx-id=shared-view-preset][_ngcontent-%COMP%]{white-space:normal;word-break:break-word}.preset-selector[_ngcontent-%COMP%]   .dropdown-heading[_ngcontent-%COMP%]{padding:.375rem .875rem;font-weight:bold}.preset-selector[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:1.75rem}.btn-add-shared[_ngcontent-%COMP%]{margin-top:-1px}"],changeDetection:0});class Sh{adaptDefinition(e){e.componentDefinitions.sort((e,t)=>e.propertiesByName.index-t.propertiesByName.index).forEach(e=>{Object.assign(e.propertiesByName,{guid:e.guid,isSystem:!0})})}}Sh.\u0275fac=function(e){return new(e||Sh)},Sh.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Sh,factory:Sh.\u0275fac});class Ih{}Ih.\u0275fac=function(e){return new(e||Ih)},Ih.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ih,declarations:[wh,xh],imports:[h.AdaptMetatagModule,h.AdaptButtonModule,x.ReactiveFormsModule,u.TranslateModule,ap,m.CommonModule,h.AdaptIconModule,h.AdaptRxLabelModule]}),Ih.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[h.AdaptMetatagModule,h.AdaptButtonModule,x.ReactiveFormsModule,u.TranslateModule,ap,m.CommonModule,h.AdaptIconModule,h.AdaptRxLabelModule]]});class Ah{}Ah.\u0275fac=function(e){return new(e||Ah)},Ah.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ah,declarations:[Ch],imports:[m.CommonModule,u.TranslateModule,h.AdaptButtonModule,ap]}),Ah.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,u.TranslateModule,h.AdaptButtonModule,ap]]});class Eh{constructor(e,t){this.rxDefinitionAdapterRegistryService=e,this.viewPresetSelectorAdapterService=t,e.registerRuntimeAdapter(c.RxViewComponentType.ViewPresetSelector,this.viewPresetSelectorAdapterService)}}Eh.\u0275fac=function(e){return new(e||Eh)(i["\u0275\u0275inject"](a.RxDefinitionAdapterRegistryService),i["\u0275\u0275inject"](Sh))},Eh.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Eh,declarations:[bh,_h],imports:[h.AdaptButtonModule,h.AdaptDropdownModule,h.AdaptRxTextfieldModule,h.AdaptTooltipModule,m.CommonModule,x.ReactiveFormsModule,v.RxUniqueValidatorModule,u.TranslateModule,v.RxNoWhitespaceValidatorModule,Ih,Ah,h.AdaptIconModule],exports:[_h]}),Eh.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[Sh],imports:[[h.AdaptButtonModule,h.AdaptDropdownModule,h.AdaptRxTextfieldModule,h.AdaptTooltipModule,m.CommonModule,x.ReactiveFormsModule,v.RxUniqueValidatorModule,u.TranslateModule,v.RxNoWhitespaceValidatorModule,Ih,Ah,h.AdaptIconModule]]});class Dh extends l.InspectorWidgetBase{constructor(e,t){super(e),this.injector=e,this.translateService=t,this.editedPreset=null,this.presets=[],this.strings={cannotBeBlank:this.translateService.instant("com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message",{propertyName:"View preset name"}),duplicateValue:this.translateService.instant("com.bmc.arsys.rx.client.designer.validation.duplicate-value.message")},this.itemValidationFn=this.itemValidation.bind(this)}ngOnInit(){this.designerItemModel.sandbox.getChildComponents().pipe((0,r.first)(),(0,r.takeUntil)(this.designerItemModel.sandbox.destroyed$)).subscribe(e=>{e.sort((e,t)=>e.data.index-t.data.index),this.presets=e.map(e=>({name:e.data.label,id:e.guid}))})}onPresetsListChange(e){e.forEach(e=>{e.name=(0,p.trim)(e.name)}),this.presets=(0,p.cloneDeep)(e);const t=e.map(({name:e,id:t},n)=>({type:c.RxViewComponentType.ViewPreset,guid:String(t),data:{label:e,index:n}}));this.designerItemModel.sandbox.setChildren(t)}onListItemAdd(){this.presets.push(this.presets.shift())}onListItemEdit(e){this.editedPreset=e}onListItemUpdate(){this.editedPreset=null}focus(){this.adaptRxListBuilderComponent.inputEl.nativeElement.focus()}itemValidation(e,t,n){let i=null;const o=(0,p.chain)(t).reject(e=>n&&e.id===this.editedPreset.id).map("name").value(),r=(0,p.trim)(e);return 0===r.length?i=this.strings.cannotBeBlank:o.includes(r)&&(i=this.strings.duplicateValue),i}}Dh.\u0275fac=function(e){return new(e||Dh)(i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](u.TranslateService))},Dh.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Dh,selectors:[["rx-presets-list-widget"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](h.AdaptRxListBuilderComponent,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.adaptRxListBuilderComponent=e.first)}},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:6,consts:[[3,"label","ngModel","hideListAreaLabel","texts","readonly","itemValidation","ngModelChange","listItemAdd","listItemEdit","listItemUpdate"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"adapt-rx-list-builder",0),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.presets=e})("ngModelChange",function(e){return t.onPresetsListChange(e)})("listItemAdd",function(){return t.onListItemAdd()})("listItemEdit",function(e){return t.onListItemEdit(e)})("listItemUpdate",function(){return t.onListItemUpdate()}),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("label","View preset names")("ngModel",t.presets)("hideListAreaLabel",!0)("texts",t.options.texts)("readonly",t.isDisabled)("itemValidation",t.itemValidationFn)},directives:[h.AdaptRxListBuilderComponent,x.NgControlStatus,x.NgModel],styles:[""]});class Th extends d.ViewDesignerComponentModel{constructor(){super(...arguments),this.presetComponentGuids$=this.sandbox.getChildComponentGuids(),this.otherPresetSelectorsNames$=this.sandbox.getComponentsByType(c.RxViewComponentType.ViewPresetSelector).pipe((0,r.map)(e=>e.filter(e=>e.guid!==this.sandbox.guid).map(e=>e.data.name.trim()))),this.label$=this.sandbox.getChildComponents().pipe((0,r.map)(e=>e.sort((e,t)=>e.data.index-t.data.index)),(0,r.map)(e=>e[0]?e[0].data.label:"No view presets added"),(0,r.takeUntil)(this.sandbox.destroyed$)),this.rxFeatureService=this.injector.get(a.RxFeatureService)}static getInitialProperties(e){return Object.assign(Object.assign({name:"View preset selector",styles:null,enableSharing:!1},c.RX_AVAILABLE_ON_DEVICES_DEFAULT_VALUE),e)}rxInit(){this.sandbox.updateInspectorConfig(this.setInspectorConfig()),(0,o.combineLatest)([this.sandbox.componentProperties$,this.presetComponentGuids$]).pipe((0,r.withLatestFrom)(this.otherPresetSelectorsNames$),(0,r.map)(([[e,t],n])=>this.validate(e,t,n)),(0,r.takeUntil)(this.sandbox.destroyed$)).subscribe(e=>{this.sandbox.setValidationIssues(e)})}setInspectorConfig(){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"name",component:l.TextFormControlComponent,options:{label:"Name",required:!0}},{component:Dh,widgetName:"presetsList"},this.rxFeatureService.isFeatureEnabled(mh)?{name:"enableSharing",component:l.SwitchFormControlComponent,options:{label:"Enable sharing"}}:null,(0,d.getAvailableOnDevicesInspectorConfig)(),(0,d.getStylesFieldInspectorConfig)()].filter(Boolean)}]}}validate(e,t,n){let i=[];const o=e.name.trim();return o?n.includes(o)&&i.push(this.sandbox.createError("Name must be unique.","name")):i.push(this.sandbox.createError("Name cannot be blank.","name")),t.length||i.push(this.sandbox.createError("At least one view preset must be added.","presetsList")),i=i.concat((0,d.validateStandardProps)(e)),i}}class Rh{}Rh.\u0275fac=function(e){return new(e||Rh)},Rh.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Rh,selectors:[["rx-view-preset-selector-design"]],inputs:{model:"model"},decls:3,vars:3,consts:[["adapt-button","","btn-type","tertiary","type","button","readonly","",1,"dropdown-toggle","text-default","font-weight-bold","text-left"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"button",0),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,t.model.label$),"\n"))},directives:[h.AdaptButtonComponent],pipes:[m.AsyncPipe],styles:["button[_ngcontent-%COMP%]{white-space:normal;word-break:break-word}"]});class Mh{}Mh.\u0275fac=function(e){return new(e||Mh)},Mh.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Mh,declarations:[Dh],imports:[m.CommonModule,h.AdaptRxListBuilderModule,x.FormsModule],exports:[Dh]}),Mh.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,h.AdaptRxListBuilderModule,x.FormsModule]]});class Oh{}Oh.\u0275fac=function(e){return new(e||Oh)},Oh.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Oh,declarations:[Rh],imports:[m.CommonModule,Mh,h.AdaptButtonModule]}),Oh.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[m.CommonModule,Mh,h.AdaptButtonModule]]});class Ph{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:c.RxViewComponentType.ViewPresetSelector,componentFactory:this.componentFactoryResolver.resolveComponentFactory(_h),properties:[{name:"styles"},{name:"enableSharing",type:c.ViewComponentPropertyType.Boolean,designType:c.ViewComponentPropertyType.Boolean},c.RX_AVAILABLE_ON_DEVICES_PROP_DESC],isContainerComponent:!0,name:"View preset selector",group:d.RX_VIEW_DESIGNER.stencilGroups.basicComponents.label,icon:"screens_triangle_down_circle",designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(Rh),designComponentModel:Th,bundleId:a.RX_APPLICATION.platformBundleId},{type:c.RxViewComponentType.ViewPreset,configPropertyName:"viewPresets",isDataComponent:!0,properties:[{name:"label",localizable:!0},{name:"index",designType:c.ViewComponentPropertyType.Number,type:c.ViewComponentPropertyType.Number}]})}}Ph.\u0275fac=function(e){return new(e||Ph)(i["\u0275\u0275inject"](c.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver))},Ph.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ph,imports:[Oh,Eh]}),Ph.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[Oh,Eh]]});class Fh extends f.BaseViewComponent{constructor(e,t,n){super(),this.translateService=e,this.rxNotificationService=t,this.rxGainsightConfiguratorService=n,this.deploymentTypeOptions=l.RX_GAINSIGHT.deploymentTypes,this.environmentTypeOptions=l.RX_GAINSIGHT.environmentTypes,this.vm$=this.rxGainsightConfiguratorService.getGainsightConfiguration(a.RX_APPLICATION.innovationStudioBundleId).pipe((0,r.take)(1),(0,r.filter)(e=>Boolean(e)),(0,r.map)(e=>e.settings),(0,r.map)(e=>({deploymentTypeOptions:this.deploymentTypeOptions.filter(t=>t.name===e.deploymentType),environmentTypeOptions:[e.environmentType],useAdaptRadar:e.useAdaptRadar,loadGainsightFromBmcIt:e.loadGainsightFromBmcIt,adaptAgreementState:{organizationPerformance:e.enableGainsight,accountMarketing:!1,accountPerformance:!1,organizationMarketing:!1}})),(0,r.shareReplay)(1))}optionFormatter(e){return e.name}save(){this.vm$.pipe((0,r.take)(1),(0,r.map)(e=>Object.assign(Object.assign({},e),{deploymentType:e.deploymentTypeOptions[0].id,environmentType:e.environmentTypeOptions[0],enableGainsight:e.adaptAgreementState.organizationPerformance})),(0,r.switchMap)(e=>this.rxGainsightConfiguratorService.saveGainsightConfiguration(e))).subscribe(()=>{this.rxNotificationService.addSuccessMessage(this.translateService.instant("com.bmc.arsys.rx.client.gainsight.gainsight-settings-saved.success.message"))})}}Fh.\u0275fac=function(e){return new(e||Fh)(i["\u0275\u0275directiveInject"](u.TranslateService),i["\u0275\u0275directiveInject"](a.RxNotificationService),i["\u0275\u0275directiveInject"](l.RxGainsightConfiguratorService))},Fh.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Fh,selectors:[["rx-gainsight-admin-opt-in"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:4,vars:4,consts:[["class","p-0",4,"ngIf","ngIfElse"],["emptyStateTemplate",""],[1,"p-0"],[1,"mt-1","container"],[1,"text-logo"],["rx-id","enable-gainsight",3,"showOrganizationSettings","showMarketingSection","multiProductUsage","showShadow","state","stateChange"],[1,"pt-4","pl-0","col-md-4",3,"hidden"],["label","Use ADAPT Radar","name","useAdaptRadar","rx-id","use-adapt-radar",3,"isLabelBefore","size","ngModel","ngModelChange"],[1,"pt-4","pl-0","col-md-4"],["name","loadGainsightFromBmcIt","rx-id","load-gainsight-from-bmc",3,"isLabelBefore","size","label","ngModel","ngModelChange"],["name","deploymentType","rx-id","deployment-type",1,"col-md-3","pt-4","pl-0",3,"label","options","optionFormatter","ngModel","ngModelChange"],["name","environmentType","rx-id","environment-type",1,"col-md-3","pt-4","pl-0",3,"label","options","ngModel","ngModelChange"],[1,"modal-footer","mt-4"],["rx-id","save-button","adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"click"],[1,"d-flex","align-items-center","justify-content-center","h-100"],["type","config",1,"w-100",3,"label"]],template:function(e,t){if(1&e&&(i["\u0275\u0275template"](0,ua,21,32,"ng-container",0),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275template"](2,pa,3,3,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"])),2&e){const e=i["\u0275\u0275reference"](3);i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](1,2,t.vm$))("ngIfElse",e)}},directives:[m.NgIf,h.AdaptAgreementCardComponent,h.AdaptRxSwitchComponent,x.NgControlStatus,x.NgModel,h.AdaptRxSelectComponent,h.AdaptButtonComponent,h.AdaptEmptyStateComponent],pipes:[m.AsyncPipe,u.TranslatePipe],styles:["[_nghost-%COMP%]     adapt-agreement-card adapt-agreement-admin-content div:nth-of-type(2)>adapt-rx-switch, [_nghost-%COMP%]     adapt-agreement-card adapt-agreement-admin-content hr:nth-of-type(2)~div, [_nghost-%COMP%]     adapt-agreement-card adapt-agreement-admin-content h4, [_nghost-%COMP%]     adapt-agreement-card adapt-agreement-admin-content hr:nth-of-type(3){display:none}"],changeDetection:0});class kh{constructor(e,t){this.componentFactoryResolver=e,this.rxViewComponentRegistryService=t,t.register({type:"rx-gainsight-admin-opt-in",componentFactory:this.componentFactoryResolver.resolveComponentFactory(Fh),name:"Gainsight Admin Opt In",hidden:!0,availableInBundles:[a.RX_APPLICATION.settingsBundleId]})}}kh.\u0275fac=function(e){return new(e||kh)(i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](c.RxViewComponentRegistryService))},kh.\u0275mod=i["\u0275\u0275defineNgModule"]({type:kh,declarations:[Fh],imports:[u.TranslateModule,h.AdaptAgreementModule,h.AdaptRxSelectModule,x.FormsModule,h.AdaptRxSwitchModule,m.CommonModule,h.AdaptButtonModule,h.AdaptEmptyStateModule]}),kh.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[u.TranslateModule,h.AdaptAgreementModule,h.AdaptRxSelectModule,x.FormsModule,h.AdaptRxSwitchModule,m.CommonModule,h.AdaptButtonModule,h.AdaptEmptyStateModule]]});class Nh{}Nh.\u0275fac=function(e){return new(e||Nh)},Nh.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Nh,imports:[zp,$p,lh,Up,qp,Md,uh,Qp,Zp,Jp,Wp,Xp,th,hh,rh,Ph,kh]}),Nh.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[zp,$p,lh,Up,qp,Md,uh,Qp,Zp,Jp,Wp,Xp,th,hh,rh,Ph,kh]]})},"./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ActionListControlComponent:()=>yn,ActionListControlModule:()=>bn,ActionListEditorDialogComponent:()=>gn,ActionListEditorDialogModule:()=>vn,ActionListWidgetComponent:()=>_n,ActionListWidgetModule:()=>Sn,CanvasItemApi:()=>$t,CanvasItemColumnComponent:()=>Yt,CanvasItemComponent:()=>Xt,CanvasItemContainerComponent:()=>Qt,CanvasOutletComponent:()=>Zt,CanvasOutletHelperService:()=>qt,DesignerComponent:()=>Kt,DesignerModule:()=>sn,DropComponentData:()=>Ut,NamedListFilterExpressionConfigurator:()=>un,RX_AVAILABLE_ON_DEVICES_OPTIONS:()=>An,RX_VIEW_DESIGNER:()=>en,RX_VIEW_MODEL:()=>nn,RuntimeViewParamsModalComponent:()=>ln,RuntimeViewParamsModalModule:()=>cn,RxComponentPermissionEditorWidgetComponent:()=>xn,RxComponentPermissionEditorWidgetModule:()=>wn,RxViewActionExpressionConfigurator:()=>dn,RxViewActionValidatorService:()=>On,RxViewComponentExpressionConfigurator:()=>jt,RxViewCustomizationOptionsComponent:()=>Lt,RxViewCustomizationOptionsModule:()=>Cn,RxViewDataDictionaryService:()=>kt,RxViewDesignerActionModel:()=>hn,RxViewDesignerComponent:()=>on,RxViewDesignerDefaultActionModel:()=>mn,RxViewDesignerHelperService:()=>Jt,RxViewDesignerPaletteModule:()=>an,RxViewExpressionConfigurator:()=>Nt,RxViewExpressionValidatorService:()=>Ft,RxViewModel:()=>Gt,RxViewRevertCustomizationComponent:()=>Vt,RxViewRevertCustomizationModule:()=>Bt,ViewDesignerCanvasComponent:()=>Wt,ViewDesignerCanvasItemApiToken:()=>zt,ViewDesignerCanvasModule:()=>rn,ViewDesignerComponentModel:()=>In,ViewDesignerFacade:()=>Et,ViewDesignerModule:()=>Jn,ViewDesignerPaletteComponent:()=>tn,getAvailableOnDevicesInspectorConfig:()=>En,getDisabledFieldInspectorConfig:()=>Tn,getHiddenFieldInspectorConfig:()=>Dn,getStandardPropsInspectorConfigs:()=>Mn,getStylesFieldInspectorConfig:()=>Rn,validateAvailableOnDevicesProp:()=>Ot,validateCssClassName:()=>Rt,validateCssClassNames:()=>Mt,validateStandardProps:()=>Pt});var i=n("./node_modules/@angular/core/fesm2015/core.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-association-api.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-named-list-api.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-process-api.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-record-api.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),c=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),d=n("./node_modules/@helix/platform/fesm2015/helix-platform-ui-kit.js"),u=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),p=n("./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js"),h=n("lodash"),m=n("rxjs"),f=n("./node_modules/rxjs/_esm2015/operators/index.js"),g=n("./node_modules/@helix/platform/fesm2015/helix-platform-utils.js"),v=n("./node_modules/@ngrx/effects/fesm2015/ngrx-effects.js"),y=n("./node_modules/@ngrx/store/fesm2015/ngrx-store.js"),b=n("./node_modules/@angular/forms/fesm2015/forms.js"),x=n("./node_modules/@angular/common/fesm2015/common.js"),w=n("./node_modules/@angular/cdk/fesm2015/drag-drop.js"),C=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),_=n("./node_modules/@bmc-ux/obsolete/fesm2015/bmc-ux-adapt-obsolete.js"),S=n("./node_modules/tslib/tslib.es6.js");const I=["container"];function A(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-canvas-item",1),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("layout",e.layout)("isReadOnly",e.isReadOnly)}}function E(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",9),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().remove(t,n)}),i["\u0275\u0275elementEnd"]()}}function D(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275listener"]("cdkDragEntered",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onDragEntered(t)})("cdkDragStarted",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onDragStarted(t)}),i["\u0275\u0275elementStart"](1,"div",3),i["\u0275\u0275listener"]("click",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onSelectComponent(t,n)}),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275elementStart"](3,"div",4),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275element"](5,"span",5),i["\u0275\u0275elementStart"](6,"span",6),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,E,1,0,"button",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](9,"rx-canvas-item",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275classMapInterpolate1"]("canvas-item-wrapper mw-100 canvas-",e.descriptor.type,""),i["\u0275\u0275property"]("cdkDragData",n.getViewComponentDragData(e))("cdkDragDisabled",n.isReadOnly||(null==e.descriptor.options?null:e.descriptor.options.static)),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("active",i["\u0275\u0275pipeBind1"](2,12,e.isSelected$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!i["\u0275\u0275pipeBind1"](4,14,e.isSelected$)),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](e.label),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(n.isReadOnly||null!=e.descriptor.options&&e.descriptor.options.static)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("layout",e)("isReadOnly",n.isReadOnly)}}const T=function(e){return{columnIndex:e}},R=function(e){return{"col-border":e}},M=function(e){return{"mb-3":e}};function O(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275elementStart"](1,"rx-canvas-item-column",3),i["\u0275\u0275listener"]("dropListDropped",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onDropListDropped(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,o=t.last,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275classMap"](e.span?"col-"+e.span:"col"),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](9,R,!o)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](11,M,!o))("isReadOnly",r.isReadOnly)("colIndex",n)("column",e)("layout",r.layout)}}function P(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"rx-canvas-outlet",1),i["\u0275\u0275listener"]("beforeViewComponentDrop",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().viewDesignerCanvasComponent.beforeComponentDropInRoot.emit(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("border",n.canvasItemComponent.layout.outlets.length>1)("default-outlet",e.name===n.defaultOutletName),i["\u0275\u0275property"]("name",e.name)}}function F(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275elementStart"](1,"div",8),i["\u0275\u0275element"](2,"span"),i["\u0275\u0275elementStart"](3,"span",9),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("cdkDragData",n.getViewComponentDragData(e)),i["\u0275\u0275attribute"]("rx-id",e.type),i["\u0275\u0275advance"](2),i["\u0275\u0275classMapInterpolate1"]("item-image d-icon-",e.icon||"wall",""),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("title",e.name),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function k(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"adapt-accordion-tab",4),i["\u0275\u0275elementStart"](1,"div",5),i["\u0275\u0275template"](2,F,5,7,"div",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("title",e.name)("isOpen",!0),i["\u0275\u0275attribute"]("rx-id",n.stringService.toRxId(e.name)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("cdkDropListConnectedTo",n.allowedDropListIds),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.components)("ngForTrackBy",n.trackByNameFn)}}const N=function(){return[]},j=function(e){return{multiselect:!0,tabs:e}},L=["viewPropertyInspector"],V=["viewComponentPropertyInspector"];function B(e,t){if(1&e&&(i["\u0275\u0275element"](0,"rx-view-designer-palette",19),i["\u0275\u0275pipe"](1,"async")),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("components",i["\u0275\u0275pipeBind1"](1,2,e.paletteComponents$))("allowedDropListIds",e.canvasDndListIds)}}const G=function(){return{content:"There are no view components to display. View with a Page view component cannot contain any other view components.",variant:"info",type:"inline"}};function z(e,t){1&e&&i["\u0275\u0275element"](0,"adapt-alert",20),2&e&&i["\u0275\u0275property"]("config",i["\u0275\u0275pureFunction0"](1,G))}const $=function(){return{content:"This view is not editable. There are no view components to display.",variant:"info",type:"inline"}};function U(e,t){1&e&&i["\u0275\u0275element"](0,"adapt-alert",20),2&e&&i["\u0275\u0275property"]("config",i["\u0275\u0275pureFunction0"](1,$))}function H(e,t){if(1&e&&(i["\u0275\u0275element"](0,"adapt-code-viewer",21),i["\u0275\u0275pipe"](1,"json"),i["\u0275\u0275pipe"](2,"async")),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("code",i["\u0275\u0275pipeBind1"](1,4,i["\u0275\u0275pipeBind1"](2,6,e.viewDesignerFacade.viewDefinition$)))("lang","javascript")("hasToolbar",!1)("theme","light")}}const X=function(e){return{content:e,variant:"info",type:"inline"}};function W(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"adapt-rx-textfield",5),i["\u0275\u0275listener"]("ngModelChange",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().inputParams[n]=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.first,o=t.index,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("label",e)("autofocus",n)("ngModel",r.inputParams[e]),i["\u0275\u0275attribute"]("rx-id","input-param-"+(o+1))}}function q(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",25),i["\u0275\u0275elementStart"](1,"div",26),i["\u0275\u0275listener"]("dblclick",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](4).addAction(t.data)}),i["\u0275\u0275elementStart"](2,"button",27),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](4).addAction(t.data)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span",28),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("cdkDragData",e.data),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](e.data.label)}}function Y(e,t){if(1&e&&i["\u0275\u0275template"](0,q,5,2,"div",24),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngIf",e.data)}}function Q(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",21),i["\u0275\u0275elementStart"](1,"adapt-tree",22),i["\u0275\u0275template"](2,Y,1,1,"ng-template",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().ngIf,t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("cdkDropListConnectedTo","selected-action-list"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",e)("wrap",t.treeWrap)}}function Z(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",29),i["\u0275\u0275element"](1,"adapt-empty-state",30),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.view-components.action-list.available-actions.empty-state.message")))}function K(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",18),i["\u0275\u0275template"](1,Q,3,3,"div",19),i["\u0275\u0275template"](2,Z,3,3,"ng-template",null,20,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf,n=i["\u0275\u0275reference"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.length)("ngIfElse",n)}}function J(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",15),i["\u0275\u0275elementStart"](1,"div",3),i["\u0275\u0275elementStart"](2,"h4",5),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",16),i["\u0275\u0275template"](6,K,4,2,"div",17),i["\u0275\u0275pipe"](7,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](4,2,"com.bmc.arsys.rx.client.view-components.action-list.available-actions.title")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](7,4,e.availableActionTreeNodes$))}}function ee(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",31),i["\u0275\u0275elementStart"](1,"button",32),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().toggleOpen(!0)}),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",33),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().toggleOpen(!1)}),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,2,"com.bmc.arsys.rx.client.common.expand-all.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,4,"com.bmc.arsys.rx.client.common.collapse-all.label")," "))}function te(e,t){1&e&&i["\u0275\u0275element"](0,"div",44)}function ne(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",45),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf,n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("title",e[n.name]),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e[n.name]," ")}}function ie(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",46),i["\u0275\u0275elementStart"](1,"div",47),i["\u0275\u0275elementStart"](2,"button",48),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index,o=i["\u0275\u0275nextContext"]();return t.stopPropagation(),o.moveAction(n,n+1)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",49),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index,o=i["\u0275\u0275nextContext"]();return t.stopPropagation(),o.moveAction(n,n-1)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",50),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit,o=i["\u0275\u0275nextContext"]();return t.stopPropagation(),o.removeAction(n)}),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=e.last,n=e.first;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",t),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",n),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,3,"com.bmc.arsys.rx.client.common.remove.label")," ")}}function oe(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",34,35),i["\u0275\u0275template"](2,te,1,0,"div",36),i["\u0275\u0275elementStart"](3,"adapt-accordion-tab",37),i["\u0275\u0275listener"]("open",function(){return i["\u0275\u0275restoreView"](e).$implicit.isOpen=!0})("close",function(){return i["\u0275\u0275restoreView"](e).$implicit.isOpen=!1}),i["\u0275\u0275elementStart"](4,"div",38),i["\u0275\u0275elementStart"](5,"div",39),i["\u0275\u0275elementStart"](6,"div",40),i["\u0275\u0275template"](7,ne,2,2,"div",41),i["\u0275\u0275pipe"](8,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,ie,7,5,"div",42),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"rx-form-builder",43),i["\u0275\u0275listener"]("modelChange",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit,o=i["\u0275\u0275nextContext"]();return n.model.sandbox.updateActionProperties(t),o.markEditorAsDirty()})("editorEvent",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit,o=i["\u0275\u0275reference"](1);return i["\u0275\u0275nextContext"]().onEvent(t,n.model,o)}),i["\u0275\u0275pipe"](11,"async"),i["\u0275\u0275pipe"](12,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("cdkDragData",e)("cdkDragDisabled",n.config.isReadOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!n.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("isOpen",e.isOpen),i["\u0275\u0275advance"](3),i["\u0275\u0275classProp"]("pl-0",n.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](8,11,n.actionLabelsMap$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!n.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("config",i["\u0275\u0275pipeBind1"](11,13,e.config$))("model",i["\u0275\u0275pipeBind1"](12,15,e.model.sandbox.actionProperties$))("isReadOnly",n.config.isReadOnly)}}function re(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",29),i["\u0275\u0275element"](1,"adapt-empty-state",51),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.view-components.action-list.selected-actions.empty-state.message")))}function se(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",52),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onSave()}),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](1,2,e.isSaveButtonDisabled$)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,4,"com.bmc.arsys.rx.client.common.save.label")," ")}}function ae(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",6),i["\u0275\u0275element"](1,"span",7),i["\u0275\u0275element"](2,"adapt-icon",8),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("name","question_circle_o")("adaptPopover",e.tooltip)}}function le(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",9),i["\u0275\u0275text"](1,"No actions added."),i["\u0275\u0275elementEnd"]())}function ce(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",16),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](2).removeAction(t)}),i["\u0275\u0275elementEnd"]()}}function de(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li",12),i["\u0275\u0275elementStart"](1,"strong",13),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",14),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).editAction(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,ce,1,0,"button",15),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n.actionLabelsMap[e.data.name]),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!n.isDisabled)}}function ue(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"ul",10),i["\u0275\u0275template"](1,de,5,2,"li",11),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.selectedActions)}}function pe(e,t){const n=t[e];return t[null==n?void 0:n.parentGuid]}function he(e,t){const n=[e];let i=pe(e,t),o=i?i.guid:null;for(;o;)n.unshift(o),i=pe(o,t),o=i?i.guid:null;return n}function me(e,t){if(t.layout){if(u.RxViewLayout.hasChild(t.layout,e))return!0}return!!t.childDataComponentGuids&&(0,h.includes)(t.childDataComponentGuids,e)}function fe(e,t,n,i,o=0,r=0){const s=Object.assign({},e);return s.layout={outlets:e.layout.outlets.map(e=>{if(e.name===n){const n=[...e.columns];return i=isFinite(i)?i:n[o].children.length,n[o]||(n[o]={children:[]},r&&(n[o].span=r)),n[o]={children:[...n[o].children.slice(0,i),t,...n[o].children.slice(i)],span:n[o].span},Object.assign(Object.assign({},e),{columns:n})}return e})},s}function ge(e,t){const n=Object.assign({},t);return(0,h.some)(n.childDataComponentGuids,t=>e===t)&&(n.childDataComponentGuids=n.childDataComponentGuids.filter(t=>t!==e)),t.layout&&u.RxViewLayout.hasChild(t.layout,e)&&(n.layout=u.RxViewLayout.removeChildFromLayout(t.layout,e)),n}function ve(e){const t=[];return e.childDataComponentGuids&&t.push(...e.childDataComponentGuids),e.layout&&t.push(...u.RxViewLayout.getViewLayoutChildGuids(e.layout)),(0,h.uniq)(t)}function ye(e,t){const n=ve(e);return n.reduce((e,n)=>(e.push(...ye(t[n],t)),e),n)}class be{constructor(){this.componentIcon="d-icon-file_o",this.componentPropertyIcon="d-icon-file_o_gear",this.settablePropertiesIcon="d-icon-arrow_right_square_input",this.actionOutputIcon="d-icon-arrow_chart"}getActionOutputDataDictionaryBranch(e,t){return{label:e,icon:"d-icon-arrow_chart",children:(0,h.map)(t,e=>this.buildDataDictionaryBranch(e,this.actionOutputIcon))}}getComponentCommonDataDictionaryBranch(e){return Object.assign(Object.assign({},e),{icon:this.componentIcon,children:(0,h.flow)(e=>(0,h.map)(e,e=>this.buildDataDictionaryBranch(e,this.componentPropertyIcon)),h.compact)(e.children)})}getSettablePropertiesDataDictionary(e){return(0,h.map)(e,e=>this.buildDataDictionaryBranch(e,this.settablePropertiesIcon))}buildDataDictionaryBranch(e,t){const n=Object.assign({},e);return e.expression&&(n.icon=t),e.children&&(n.children=(0,h.flow)(e=>(0,h.map)(e,e=>this.buildDataDictionaryBranch(e,t)),h.compact)(e.children)),n}}be.\u0275fac=function(e){return new(e||be)},be.\u0275prov=i["\u0275\u0275defineInjectable"]({token:be,factory:be.\u0275fac,providedIn:"root"});class xe{constructor(){this.componentsCommon=null,this.componentsCommonSubject=new m.ReplaySubject(1),this.componentsCommon$=this.componentsCommonSubject.asObservable(),this.viewCommon=null,this.viewCommonSubject=new m.ReplaySubject(1),this.viewCommon$=this.viewCommonSubject.asObservable(),this.actionsOutput=[],this.actionsOutputSubject=new m.ReplaySubject(1),this.actionsOutput$=this.actionsOutputSubject.asObservable(),this.settableProperties=null,this.settablePropertiesSubject=new m.ReplaySubject(1),this.settableProperties$=this.settablePropertiesSubject.asObservable()}setCommonDataDictionaryBranch(e,t){this.setComponentCommon((0,h.isEmpty)(t)?(0,h.omit)(this.componentsCommon,[e]):Object.assign(Object.assign({},this.componentsCommon),{[e]:t}))}setViewCommonDataDictionaryBranch(e){this.setViewCommon(e)}setSettablePropertiesDataDictionary(e){this.setSettableProperties(Object.assign(Object.assign({},this.settableProperties),e.reduce((e,{guid:t,componentName:n,dataDictionary:i})=>(e[t]={componentName:n,dataDictionary:i},e),{})))}removeDataDictionaryForComponents(e){e.some(e=>(0,h.has)(this.componentsCommon,e))&&this.setComponentCommon((0,h.omit)(this.componentsCommon,e)),e.some(e=>(0,h.has)(this.settableProperties,e))&&this.setSettableProperties((0,h.omit)(this.settableProperties,e))}setActionOutputDataDictionaryBranch(e,t,n){this.setActionsOutput((0,h.flow)(i=>[...(0,h.reject)(i,{guid:e}),{guid:e,index:t,dataDictionaryBranch:n}],e=>(0,h.sortBy)(e,"index"))(this.actionsOutput))}updateActionOutputDataDictionaryBranchOrder(e){this.setActionsOutput((0,h.flow)(t=>(0,h.map)(t,t=>Object.assign(Object.assign({},t),{index:e[t.guid]})),e=>(0,h.sortBy)(e,"index"))(this.actionsOutput))}removeActionOutputDataDictionaryBranch(e){this.setActionsOutput((0,h.reject)(this.actionsOutput,{guid:e}))}removeAllActionOutputDataDictionaryBranches(){this.setActionsOutput(null)}clear(){this.setComponentCommon(null),this.setViewCommon(null),this.setSettableProperties(null),this.setActionsOutput([])}setComponentCommon(e){this.componentsCommon=e,this.componentsCommonSubject.next(this.componentsCommon)}setViewCommon(e){this.viewCommon=e,this.viewCommonSubject.next(this.viewCommon)}setActionsOutput(e){this.actionsOutput=e,this.actionsOutputSubject.next(this.actionsOutput)}setSettableProperties(e){this.settableProperties=e,this.settablePropertiesSubject.next(this.settableProperties)}}xe.\u0275fac=function(e){return new(e||xe)},xe.\u0275prov=i["\u0275\u0275defineInjectable"]({token:xe,factory:xe.\u0275fac,providedIn:"root"});class we{constructor(){this.onChangeSubject=new m.Subject,this.configs=new Map,this.onChange$=this.onChangeSubject.asObservable()}clear(){this.configs.clear()}set(e,t){this.configs.set(e,t),this.onChangeSubject.next({guid:e,config:t})}get(e){return this.configs.get(e)}delete(e){this.onChangeSubject.next({guid:e,config:null}),this.configs.delete(e)}}we.\u0275fac=function(e){return new(e||we)},we.\u0275prov=i["\u0275\u0275defineInjectable"]({token:we,factory:we.\u0275fac,providedIn:"root"});const Ce=(0,y.createAction)("[View Component] Components Removed",(0,y.props)()),_e=(0,y.createAction)("[View Component] Initialize Component Models",(0,y.props)()),Se=(0,y.createAction)("[View Component] Initialize Data Component Models",(0,y.props)()),Ie=(0,y.createAction)("[View Component] Set Validation Issues",(0,y.props)()),Ae=(0,y.createAction)("[View Component] Set Expression Validation Issues",(0,y.props)()),Ee=(0,y.createAction)("[View Component] Set Component Properties",(0,y.props)()),De=(0,y.createAction)("[View Component] Set Child Components",(0,y.props)()),Te=(0,y.createAction)("[View Component] Set Breadcrumbs",(0,y.props)()),Re=(0,y.createAction)("[View Component] Select Component",(0,y.props)()),Me=(0,y.createAction)("[View Component] Set Component Layout",(0,y.props)()),Oe=(0,y.createAction)("[View Component] Move Component",(0,y.props)()),Pe=(0,y.createAction)("[View Component] Insert Component",(0,y.props)()),Fe=(0,y.createAction)("[View Component] Add New Components",(0,y.props)()),ke=(0,y.createAction)("[View Component] Update Component Model",(0,y.props)()),Ne=(0,y.createAction)("[View Component] Remove Components",(0,y.props)());class je{constructor(e){this.store$=e}dispatch(e){this.store$.dispatch(e)}}je.\u0275fac=function(e){return new(e||je)(i["\u0275\u0275inject"](y.Store))},je.\u0275prov=i["\u0275\u0275defineInjectable"]({token:je,factory:je.\u0275fac,providedIn:"root"});const Le=(0,y.createAction)("[View Designer] View Definition Save Success",(0,y.props)()),Ve=(0,y.createAction)("[View Designer] View Definition Save Error"),Be=(0,y.createAction)("[View Designer] View Definition Load Success",(0,y.props)()),Ge=(0,y.createAction)("[View Designer] View Definition Load Error"),ze=(0,y.createAction)("[View Designer] Set Generated View Definition",(0,y.props)()),$e=(0,y.createAction)("[View Designer] Load View Definition",(0,y.props)()),Ue=(0,y.createAction)("[View Designer] Bundle Friendly Name Load Success",(0,y.props)()),He=(0,y.createAction)("[View Designer] Bundle Friendly Name Load Error",(0,y.props)()),Xe=(0,y.createAction)("[View Designer] View Models Initialized"),We=(0,y.createAction)("[View Designer] View Models Updated After Save"),qe=(0,y.createAction)("[View Designer] Update View Model",(0,y.props)()),Ye=(0,y.createAction)("[View Designer] Set View Model",(0,y.props)()),Qe=(0,y.createAction)("[View Designer] Select Inspector Tab",(0,y.props)()),Ze=(0,y.createAction)("[View Designer] Save View Definition",(0,y.props)()),Ke=(0,y.createAction)("[View Designer] Run Preview"),Je=(0,y.createAction)("[View Designer] Load Bundle Friendly Name"),et=(0,y.createAction)("[View Designer] Generate View Definition",(0,y.props)()),tt=(0,y.createAction)("[View Designer] Clear Canvas"),nt=(0,y.createAction)("[View Designer] Init",(0,y.props)()),it=(0,y.createAction)("[View Designer] Destroy"),ot=(0,y.createFeatureSelector)("viewDesigner"),rt=(0,y.createSelector)(ot,e=>e.model),st=(0,y.createSelector)(rt,e=>e.viewDesignModel),at=(0,y.createSelector)(st,(e,{propertyName:t})=>(0,h.get)(e,t)),lt=(0,y.createSelector)(rt,e=>e.viewComponentDesignModels),ct=(0,y.createSelector)(rt,e=>{var t;return null===(t=Object.values(e.viewComponentDesignModels)[0])||void 0===t?void 0:t.type}),dt=(0,y.createSelector)(lt,(e,{guid:t})=>e[t]),ut=(0,y.createSelector)(dt,e=>null==e?void 0:e.parentGuid),pt=(0,y.createSelector)(lt,(e,{guid:t,propertyName:n})=>e[t]?n?(0,h.get)(e[t].propertiesByName,n):e[t].propertiesByName:null),ht=(0,y.createSelector)(lt,(e,{guid:t})=>e[t]?e[t].type:null),mt=(0,y.createSelector)(dt,e=>null==e?void 0:e.layout),ft=(0,y.createSelector)(dt,e=>null==e?void 0:e.permissions),gt=(0,y.createSelector)(dt,e=>null==e?void 0:e.childDataComponentGuids),vt=(0,y.createSelector)(ot,e=>e.ui),yt=(0,y.createSelector)(vt,e=>e.isViewDefinitionLoading),bt=(0,y.createSelector)(vt,e=>e.friendlyBundleName),xt=(0,y.createSelector)(vt,e=>e.currentBundleId),wt=(0,y.createSelector)(ot,e=>e.viewDefinition),Ct=(0,y.createSelector)(ot,e=>e.validation),_t=(0,y.createSelector)(ot,e=>e.breadcrumbs),St=(0,y.createSelector)(vt,e=>e.selectedInspectorTabId),It=(0,y.createSelector)(vt,e=>e.selectedComponentGuid),At=(0,y.createSelector)(vt,e=>e.areViewModelsReady);(0,y.createSelector)(It,lt,(e,t)=>{if(t&&e){const n=t[e];return n?n.propertiesByName:null}return null});class Et{constructor(e,t,n,i,o,r,s,a){this.dispatcher=e,this.store$=t,this.actions$=n,this.rxViewDesignerInspectorService=i,this.rxGuidService=o,this.rxViewDataDictionaryBuilderService=r,this.rxViewDataDictionaryService=s,this.rxOverlayService=a,this.viewDefinition$=this.store$.select(wt),this.validationIssues$=this.store$.select(Ct),this.breadcrumbs$=this.store$.select(_t),this.viewDesignerModelState$=this.store$.select(rt),this.viewModel$=this.store$.select(st).pipe((0,f.filter)(Boolean)),this.viewModelGuid$=this.getViewPropertyValue("guid"),this.viewComponentModels$=this.store$.select(lt),this.firstViewComponentModelType$=this.store$.select(ct),this.isExtensionView$=this.getViewPropertyValue("targetViewDefinitionName").pipe((0,f.map)(Boolean),(0,f.shareReplay)(1)),this.isExtensionContainerSet$=this.getViewPropertyValue("targetExtensionContainerGuid").pipe((0,f.map)(Boolean),(0,f.shareReplay)(1)),this.allComponentGuids$=this.viewComponentModels$.pipe((0,f.map)(e=>new Set(Object.keys(e))),(0,f.shareReplay)({refCount:!0,bufferSize:1})),this.selectedComponentGuid$=this.store$.select(It).pipe((0,f.switchMap)(e=>this.viewModelGuid$.pipe((0,f.map)(t=>e===t?null:e),(0,f.take)(1)))),this.selectedComponentProperties$=this.selectedComponentGuid$.pipe((0,f.switchMap)(e=>e?this.getComponentProperties(e):(0,m.of)(null))),this.isViewDefinitionLoading$=this.store$.select(yt),this.selectedInspectorTabId$=this.store$.select(St),this.bundleFriendlyName$=this.store$.select(bt),this.currentBundleId$=this.store$.select(xt),this.viewInspectorLayout$=(0,m.merge)(this.viewModelGuid$,this.rxViewDesignerInspectorService.onChange$.pipe((0,f.withLatestFrom)(this.viewModelGuid$),(0,f.filter)(([e,t])=>e.guid===t),(0,f.map)(([e,t])=>t))).pipe((0,f.map)(e=>{const t=this.rxViewDesignerInspectorService.get(e);return t?t.inspectorSectionConfigs:null})),this.selectedComponentInspectorLayout$=(0,m.merge)(this.selectedComponentGuid$.pipe((0,f.distinctUntilChanged)()),this.rxViewDesignerInspectorService.onChange$.pipe((0,f.withLatestFrom)(this.selectedComponentGuid$),(0,f.filter)(([e,t])=>e.guid===t),(0,f.map)(([e,t])=>t))).pipe((0,f.map)(e=>{const t=this.rxViewDesignerInspectorService.get(e);return t?t.inspectorSectionConfigs:null})),this.isViewReadOnly$=(0,m.combineLatest)([this.viewModel$,this.currentBundleId$.pipe((0,f.switchMap)(e=>this.rxOverlayService.areNewDefinitionsAllowed(e)))]).pipe((0,f.map)(([e,t])=>!t||!this.rxOverlayService.isCustomizationEnabled("allowOverlay",e)),(0,f.distinctUntilChanged)(),(0,f.shareReplay)(1)),this.viewDefinitionLoadError$=this.actions$.pipe((0,v.ofType)(Ge)),this.viewDefinitionSaveSuccess$=this.actions$.pipe((0,v.ofType)(Le)),this.initViewDesigner$=this.actions$.pipe((0,v.ofType)(nt)),this.destroyViewDesignerSubject=new m.Subject,this.destroyViewDesigner$=this.destroyViewDesignerSubject.asObservable(),this.viewModelsInitialized$=this.actions$.pipe((0,v.ofType)(Xe)),this.areViewModelsReady$=this.store$.select(At),this.viewCommonDataDictionaryState$=this.rxViewDataDictionaryService.viewCommon$,this.componentsCommonDataDictionaryState$=this.rxViewDataDictionaryService.componentsCommon$,this.actionsDataDictionaryState$=this.rxViewDataDictionaryService.actionsOutput$,this.settablePropertiesDataDictionaryState$=this.rxViewDataDictionaryService.settableProperties$,this.settablePropertiesDataDictionarySubject=new m.Subject,(0,m.merge)(this.settablePropertiesDataDictionarySubject.pipe((0,f.bufferToggle)(this.initViewDesigner$,e=>this.viewModelsInitialized$)),this.viewModelsInitialized$.pipe((0,f.switchMap)(()=>this.settablePropertiesDataDictionarySubject.pipe((0,f.map)(e=>[e]),(0,f.takeUntil)(this.initViewDesigner$))))).subscribe(e=>{this.rxViewDataDictionaryService.setSettablePropertiesDataDictionary(e)})}getComponentModel(e){return this.store$.select(dt,{guid:e})}initViewDesigner(e){this.dispatcher.dispatch(nt({payload:e}))}destroyViewDesigner(){this.destroyViewDesignerSubject.next(),this.dispatcher.dispatch(it())}selectComponent(e){this.dispatcher.dispatch(Re({guid:e}))}insertComponent(e){this.dispatcher.dispatch(Pe(Object.assign(Object.assign({columnIndex:(0,h.isFinite)(e.data&&e.data.columnIndex)?e.data.columnIndex:0},e),{data:{guid:e.data.draggedViewComponentGuid,type:e.data.draggedViewComponentDescriptor.type,initialPropertiesByName:e.data.initialPropertiesByName}})))}selectInspectorTab(e){this.dispatcher.dispatch(Qe(e))}generateViewDefinition(e){this.dispatcher.dispatch(et({payload:e}))}updateComponentProperties(e,t){this.dispatcher.dispatch(ke({payload:[{guid:e,partialModel:{propertiesByName:t}}]}))}updateComponentModel(e,t){this.dispatcher.dispatch(ke({payload:[{guid:e,partialModel:t}]}))}getComponentProperties(e){return this.store$.select(pt,{guid:e})}getComponentPropertyValue(e,t){return this.store$.select(pt,{guid:e,propertyName:t}).pipe((0,f.withLatestFrom)(this.getComponentModel(e)),(0,f.switchMap)(([e,t])=>t?(0,m.of)(e):m.EMPTY))}getComponentType(e){return this.store$.select(ht,{guid:e})}getComponentPermissions(e){return this.store$.select(ft,{guid:e})}getComponentLayout(e){return this.store$.select(mt,{guid:e})}updateSelectedComponentProperties(e){this.selectedComponentGuid$.pipe((0,f.take)(1)).subscribe(t=>{this.updateComponentProperties(t,e)})}saveViewDefinition(e){this.dispatcher.dispatch(Ze({payload:e}))}updateViewProperties(e){this.dispatcher.dispatch(qe({payload:e}))}setViewProperties(e){this.dispatcher.dispatch(Ye({payload:e}))}getViewPropertyValue(e){return this.store$.select(at,{propertyName:e}).pipe((0,f.switchMapTo)(this.viewModel$.pipe((0,f.map)(t=>t[e]),(0,f.take)(1))),(0,f.distinctUntilChanged)())}runPreview(){this.dispatcher.dispatch(Ke())}clearCanvas(){this.dispatcher.dispatch(tt())}setComponentInspector(e,t){this.rxViewDesignerInspectorService.set(e,t)}setValidationIssues(e,t){this.dispatcher.dispatch(Ie({guid:e,issues:t}))}setExpressionValidationIssues(e){this.dispatcher.dispatch(Ae({issues:e}))}setViewInspectorConfig(e){this.viewModelGuid$.pipe((0,f.take)(1)).subscribe(t=>{this.setComponentInspector(t,e)})}removeViewComponents(e,t){e.length&&this.dispatcher.dispatch(Ne({guids:e,selectParent:t}))}setComponentSettablePropertiesDataDictionary(e,t,n){this.settablePropertiesDataDictionarySubject.next({guid:e,componentName:t,dataDictionary:this.rxViewDataDictionaryBuilderService.getSettablePropertiesDataDictionary(n)})}setComponentCommonDataDictionaryBranch(e,t){this.rxViewDataDictionaryService.setCommonDataDictionaryBranch(e,t?this.rxViewDataDictionaryBuilderService.getComponentCommonDataDictionaryBranch(t):null)}setViewCommonDataDictionaryBranch(e){this.rxViewDataDictionaryService.setViewCommonDataDictionaryBranch(e)}removeAllActionDataDictionaryBranches(){this.rxViewDataDictionaryService.removeAllActionOutputDataDictionaryBranches()}removeActionDataDictionaryBranch(e){this.rxViewDataDictionaryService.removeActionOutputDataDictionaryBranch(e)}setActionDataDictionaryBranch(e,t,n,i=null){this.rxViewDataDictionaryService.setActionOutputDataDictionaryBranch(e,t,this.rxViewDataDictionaryBuilderService.getActionOutputDataDictionaryBranch(n,i))}updateActionDataDictionaryBranchOrder(e){this.rxViewDataDictionaryService.updateActionOutputDataDictionaryBranchOrder(e)}getChildComponentGuids(e,t=!1,n){return(0,m.combineLatest)([this.store$.select(mt,{guid:e}),this.store$.select(gt,{guid:e})]).pipe((0,f.switchMap)(()=>this.getComponentModel(e).pipe((0,f.take)(1))),(0,f.switchMap)(e=>e?(0,m.of)((0,h.compact)([...e.layout?u.RxViewLayout.getViewLayoutChildGuids(e.layout):[],...e.childDataComponentGuids||[]])):m.EMPTY),(0,f.switchMap)(e=>e.length&&t?(0,m.combineLatest)(e.map(e=>this.getChildComponentGuids(e,!0))).pipe((0,f.map)(h.flatten),(0,f.map)(t=>[...t,...e])):(0,m.of)(e)),(0,f.switchMap)(e=>e.length?this.viewComponentModels$.pipe((0,f.map)(t=>{let i=e.filter(e=>t[e]);return n&&(i=i.filter(e=>n({type:t[e].type,guid:t[e].guid,data:t[e].propertiesByName}))),i}),(0,f.take)(1)):(0,m.of)(e)))}getChildComponents(e,t){return this.getChildComponentGuids(e,!1,t).pipe((0,f.switchMap)(e=>e.length?(0,m.combineLatest)(e.map(e=>this.getComponentProperties(e).pipe((0,f.withLatestFrom)(this.getComponentModel(e)),(0,f.switchMap)(([t,n])=>n?(0,m.of)({type:n.type,data:t,guid:e}):m.EMPTY)))):(0,m.of)([])))}getComponent(e){return this.getComponentModel(e).pipe((0,f.map)(e=>e?{data:e.propertiesByName,guid:e.guid,type:e.type}:null))}getComponentsByType(e){return this.viewComponentModels$.pipe((0,f.map)(t=>(0,h.filter)(t,{type:e}).map(e=>({guid:e.guid,data:e.propertiesByName,type:e.type}))))}getChildComponentTree(e){return this.viewComponentModels$.pipe((0,f.map)(t=>{const n=e=>ve(e).reduce((e,i)=>(t[i]&&e.push({guid:i,data:t[i].propertiesByName,type:t[i].type,children:n(t[i])}),e),[]);return t[e]?n(t[e]):[]}))}getParentComponentGuid(e,t){return this.store$.select(ut,{guid:e}).pipe((0,f.switchMap)(e=>e&&t?this.store$.select(ht,{guid:e}).pipe((0,f.switchMap)(n=>n===t?(0,m.of)(e):this.getParentComponentGuid(e,t))):(0,m.of)(e||null)))}setChildren(e,t){this.dispatcher.dispatch(De({payload:{guid:e,data:t}}))}}Et.\u0275fac=function(e){return new(e||Et)(i["\u0275\u0275inject"](je),i["\u0275\u0275inject"](y.Store),i["\u0275\u0275inject"](v.Actions),i["\u0275\u0275inject"](we),i["\u0275\u0275inject"](g.RxGuidService),i["\u0275\u0275inject"](be),i["\u0275\u0275inject"](xe),i["\u0275\u0275inject"](l.RxOverlayService))},Et.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Et,factory:Et.\u0275fac,providedIn:"root"});class Dt{constructor(){this.models=new Map}clear(){this.models.clear()}set(e,t){this.models.set(e,t)}get(e){return this.models.get(e)}delete(e){this.models.delete(e)}}Dt.\u0275fac=function(e){return new(e||Dt)},Dt.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Dt,factory:Dt.\u0275fac,providedIn:"root"});class Tt{constructor(e,t,n,i){this.rxDefinitionNameService=e,this.rxBundleCacheService=t,this.viewDesignerModels=n,this.rxViewDefinitionLocalizationService=i}generate(e,t,n=!1){const i=e,o=(0,h.omit)(i,"displayName","layout","layoutName","pageComponent","isAngularJsView");return o.name=o.name||this.rxDefinitionNameService.getDefinitionName(this.rxBundleCacheService.bundleId,i.displayName),o.componentDefinitions=this.generateComponentDefinitions(i,t),n&&(o.localizableStringsByComponentId=this.rxViewDefinitionLocalizationService.extractLocalizableStrings(o)),delete o.localizablePropertyToStringGuidMap,o.layout=JSON.stringify(i.layout),o}generateComponentDefinitions(e,t){return ve(e).map(e=>{const n=Object.assign({},t[e]),i=this.viewDesignerModels.get(e),o=(0,h.isFunction)(null==i?void 0:i.getPropertiesByName)?i.getPropertiesByName(n.propertiesByName):n.propertiesByName;return n.propertiesByName=this.serializeComponentDefinitionProperties(o),delete n.parentGuid,n.type!==u.RxViewComponentType.Action&&(0,h.has)(n.propertiesByName,"name")&&(n.propertiesByName.name&&(n.name=n.propertiesByName.name),delete n.propertiesByName.name),(n.layout||n.childDataComponentGuids)&&(n.componentDefinitions=this.generateComponentDefinitions(n,t),delete n.childDataComponentGuids),n.layout&&(n.layout=JSON.stringify(n.layout)),n})}serializeComponentDefinitionProperties(e){return(0,h.transform)(e,(e,t,n)=>{switch(!0){case(0,h.isArray)(t):case(0,h.isNumber)(t):case(0,h.isBoolean)(t):case(0,h.isPlainObject)(t):e[n]=JSON.stringify(t);break;case(0,h.isObject)(t):const i=Object.create(null);t.forEach((e,t)=>i[t]=e),e[n]=JSON.stringify(i);break;case(0,h.isFunction)(t):case(0,h.isUndefined)(t):e[n]=null;break;default:e[n]=t}},{})}}function Rt(e){return!/^[a-z][-\w]+$/gi.test((0,h.isObject)(e)?e.data.value:e)}function Mt(e){const t=[];if(e){e.split(" ").some(Rt)&&t.push({type:"error",propertyName:"styles",description:"CSS class name is invalid."})}return t}function Ot(e){const t=[];return(null==e?void 0:e.length)||t.push({type:"error",propertyName:u.RX_AVAILABLE_ON_DEVICES_PROP_NAME,description:"At least one device must be selected."}),t}function Pt(e){return[...Mt(e[u.RX_STYLES_PROP_NAME]),...Ot(e[u.RX_AVAILABLE_ON_DEVICES_PROP_NAME])]}Tt.\u0275fac=function(e){return new(e||Tt)(i["\u0275\u0275inject"](l.RxDefinitionNameService),i["\u0275\u0275inject"](l.RxBundleCacheService),i["\u0275\u0275inject"](Dt),i["\u0275\u0275inject"](u.RxViewDefinitionLocalizationService))},Tt.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Tt,factory:Tt.\u0275fac,providedIn:"root"});class Ft{constructor(e,t,n,i,o){this.rxDefaultExpressionValidatorService=e,this.rxDefaultExpressionEvaluatorService=t,this.rxStringService=n,this.rxExpressionParserService=i,this.viewDesignerFacade=o}validate(e,t,n=this.rxStringService.prettify(t),i=this.rxDefaultExpressionEvaluatorService){let o=(0,m.of)([]);if(this.rxDefaultExpressionValidatorService.isValid(e,i)){if(this.rxStringService.isNonEmptyString(e)){const n=new Set;if(this.rxExpressionParserService.parse(e,(e,t)=>{if(e===l.ExpressionParserToken.RxExpression||e===l.ExpressionParserToken.SingleQuoteRxExpression){const e=/\${view\.components\.([0-9a-z-]+)\..+}/.exec(t);e&&e[1]&&n.add(e[1])}return t}),n.size){const e=Array.from(n);o=this.viewDesignerFacade.allComponentGuids$.pipe((0,f.map)(t=>e.filter(e=>!t.has(e))),(0,f.distinctUntilChanged)(h.isEqual),(0,f.map)(e=>e.map(()=>({type:"error",description:"Expression references a non-existent view component.",propertyName:t}))))}}}else o=(0,m.of)([{type:"error",description:`${n} must be a valid expression.`,propertyName:t}]);return o}}Ft.\u0275fac=function(e){return new(e||Ft)(i["\u0275\u0275inject"](u.RxDefaultExpressionValidatorService),i["\u0275\u0275inject"](u.RxDefaultExpressionEvaluatorService),i["\u0275\u0275inject"](g.RxStringService),i["\u0275\u0275inject"](l.RxExpressionParserService),i["\u0275\u0275inject"](Et))},Ft.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Ft,factory:Ft.\u0275fac,providedIn:"root"});class kt{constructor(e,t,n,i,o){this.viewDesignerFacade=e,this.rxViewDataDictionaryBuilderService=t,this.rxViewComponentRegistryService=n,this.rxObjectUtilsService=i,this.rxDataDictionaryUtils=o,this.componentsCommonDataDictionaryStateClone$=this.viewDesignerFacade.componentsCommonDataDictionaryState$.pipe((0,f.map)(e=>e?this.rxObjectUtilsService.cloneDeep(e):{}),(0,f.shareReplay)(1)),this.viewCommonDataDictionaryStateClone$=this.viewDesignerFacade.viewCommonDataDictionaryState$.pipe((0,f.filter)(Boolean),(0,f.map)(e=>this.rxObjectUtilsService.cloneDeep(e)),(0,f.shareReplay)(1)),this.commonDataDictionary$=this.getCommonDataDictionary(),this.settablePropertiesDataDictionary$=this.viewDesignerFacade.settablePropertiesDataDictionaryState$.pipe((0,f.withLatestFrom)(this.viewDesignerFacade.viewDesignerModelState$),(0,f.map)(([e,t])=>this.rxObjectUtilsService.cloneDeep(this.getSettablePropsDataDictionary(e,t))))}getActionDataDictionary(e){return(0,m.combineLatest)([this.viewDesignerFacade.actionsDataDictionaryState$,this.getCommonDataDictionary()]).pipe((0,f.map)(([t,n])=>{const i=(0,h.find)(t,{guid:e});return[{label:"Actions",children:i?(0,h.flow)(e=>(0,h.take)(e,i.index),e=>(0,h.map)(e,"dataDictionaryBranch"),h.compact,e=>(0,h.filter)(e,e=>{var t;return null===(t=e.children)||void 0===t?void 0:t.length}),e=>this.rxObjectUtilsService.cloneDeep(e))(t):[]},...n]}),(0,f.distinctUntilChanged)(h.isEqual))}getComponentCommonDataDictionary(e){return this.componentsCommonDataDictionaryStateClone$.pipe((0,f.map)(t=>t[e]))}getCommonDataDictionary(e){return(0,m.combineLatest)([this.viewCommonDataDictionaryStateClone$,this.componentsCommonDataDictionaryStateClone$.pipe((0,f.map)(t=>Object.values(e?Object.assign(Object.assign({},t),e):t)))]).pipe((0,f.map)(([e,t])=>[{label:"General",children:[{label:"Current user",icon:"d-icon-dollar",expression:"${keywords.user}"},{label:"New line",icon:"d-icon-dollar",expression:"${keywords.newLine}"}]},{label:"Functions",children:this.rxDataDictionaryUtils.getFunctionsDataDictionaryBranch(u.RX_EXPRESSION_FUNCTIONS)},Object.assign(Object.assign({},e),{children:[{label:"Components",children:(0,h.compact)(t),expanded:!0},...e.children]})]))}getSettablePropsDataDictionary(e,t){return ve(t.viewDesignModel).map(n=>this.getSettablePropsDataDictionaryBranch(n,t,e,!0)).filter(Boolean)}getSettablePropsDataDictionaryBranch(e,t,n,i=!1){const o=n[e],r=t.viewComponentDesignModels[e],s=this.rxViewComponentRegistryService.get(r.type),a=s.outlets&&r.layout?u.RxViewLayout.getViewLayoutChildGuids(r.layout):null,l=(0,h.map)(a,e=>this.getSettablePropsDataDictionaryBranch(e,t,n)).filter(Boolean),c=(0,h.get)(o,"dataDictionary",[]);if(l.length||c.length)return{label:(null==o?void 0:o.componentName)||s.name,expanded:i,children:l.length&&c.length?[{label:"Components",children:l},{label:"Properties",children:c}]:l.length?l:c}}}kt.\u0275fac=function(e){return new(e||kt)(i["\u0275\u0275inject"](Et),i["\u0275\u0275inject"](be),i["\u0275\u0275inject"](u.RxViewComponentRegistryService),i["\u0275\u0275inject"](g.RxObjectUtilsService),i["\u0275\u0275inject"](l.RxDataDictionaryUtils))},kt.\u0275prov=i["\u0275\u0275defineInjectable"]({token:kt,factory:kt.\u0275fac,providedIn:"root"});class Nt extends l.RxExpressionConfigurator{constructor(e){super(),this.injector=e,this.rxExpressionHelperService=this.injector.get(u.RxExpressionHelperService)}getDefaultConfig(){return Object.assign(Object.assign({},super.getDefaultConfig()),{dataDictionary$:this.commonDataDictionary$,operators:l.ExpressionOperatorRowsByGroup.get(l.ExpressionOperatorGroup.AllClient),validateExpression:(e,t)=>{let n=!0;const i=this.getExpressionEvaluator(e);try{i.parseExpression(this.rxExpressionHelperService.prepare(t))}catch(o){n=!1}return(0,m.of)(n)}})}}class jt extends Nt{constructor(e,t,n,i){super(e),this.injector=e,this.componentGuid=t,this.componentModel=n,this.componentType=i,this.rxDefaultExpressionEvaluatorService=this.injector.get(u.RxDefaultExpressionEvaluatorService),this.rxViewDataDictionaryService=this.injector.get(kt),this.rxViewComponentRegistryService=this.injector.get(u.RxViewComponentRegistryService),this.commonDataDictionary$=this.rxViewDataDictionaryService.commonDataDictionary$}getExpressionEvaluator(e){var t;const n=this.componentType&&this.rxViewComponentRegistryService.get(this.componentType).properties.find(t=>t.name===e);return(0,h.isFunction)(null===(t=null==n?void 0:n.evaluatorService)||void 0===t?void 0:t.parseExpression)?n.evaluatorService:this.rxDefaultExpressionEvaluatorService}getCommonDataDictionary(e,t=this.componentGuid){return e?e.pipe((0,f.switchMap)(e=>this.rxViewDataDictionaryService.getCommonDataDictionary({[t]:e}))):this.commonDataDictionary$}getComponentCommonDataDictionary(e){return this.rxViewDataDictionaryService.getComponentCommonDataDictionary(e||this.componentGuid)}}class Lt{constructor(e,t,n){this.viewDesignerFacade=e,this.rxOverlayService=t,this.translateService=n,this.destroyed$=new m.ReplaySubject(1)}ngOnInit(){(0,m.combineLatest)([this.viewDesignerFacade.getViewPropertyValue("allowOverlay"),this.viewDesignerFacade.getViewPropertyValue("scope"),this.viewDesignerFacade.getViewPropertyValue("overlayGroupId"),this.viewDesignerFacade.getViewPropertyValue("overlayDescriptor"),this.viewDesignerFacade.getViewPropertyValue("lastUpdateTime")]).pipe((0,f.withLatestFrom)(this.viewDesignerFacade.viewModel$),(0,f.takeUntil)(this.destroyed$)).subscribe(([[e,t,n,i,o],r])=>{this.controlOptions={allowOverlay:e,scope:t,overlayGroupId:n,overlayDescriptor:i,isDisabled:!this.rxOverlayService.isCustomizationEnabled("allowOverlay",r),definitionTypeDisplayName:this.translateService.instant("com.bmc.arsys.rx.client.view-definition.label").toLowerCase()}})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}setCustomization(e){this.viewDesignerFacade.updateViewProperties(e)}}Lt.\u0275fac=function(e){return new(e||Lt)(i["\u0275\u0275directiveInject"](Et),i["\u0275\u0275directiveInject"](l.RxOverlayService),i["\u0275\u0275directiveInject"](p.TranslateService))},Lt.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Lt,selectors:[["rx-view-customization-options"]],inputs:{options:"options"},decls:1,vars:2,consts:[[3,"options","ngModel","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"rx-scope-customization-control",0),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.value=e})("ngModelChange",function(e){return t.setCustomization(e)}),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("options",t.controlOptions)("ngModel",t.value)},directives:[c.CustomizationOptionsComponent,b.NgControlStatus,b.NgModel],encapsulation:2});class Vt{constructor(e){this.viewDesignerFacade=e,this.events=new i.EventEmitter,this.controlOptions$=(0,m.combineLatest)([this.viewDesignerFacade.getViewPropertyValue("allowOverlay"),this.viewDesignerFacade.getViewPropertyValue("scope"),this.viewDesignerFacade.getViewPropertyValue("overlayGroupId"),this.viewDesignerFacade.getViewPropertyValue("overlayDescriptor")]).pipe((0,f.map)(([e,t,n,i])=>({allowOverlay:e,scope:t,overlayGroupId:n,overlayDescriptor:i})))}}Vt.\u0275fac=function(e){return new(e||Vt)(i["\u0275\u0275directiveInject"](Et))},Vt.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Vt,selectors:[["rx-view-revert-customization"]],inputs:{options:"options",isDisabled:"isDisabled"},outputs:{events:"events"},decls:2,vars:4,consts:[[3,"options","isDisabled","events"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"rx-revert-customization",0),i["\u0275\u0275listener"]("events",function(e){return t.events.emit(e)}),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("options",i["\u0275\u0275pipeBind1"](1,2,t.controlOptions$))("isDisabled",t.isDisabled)},directives:[c.RxRevertCustomizationComponent],pipes:[x.AsyncPipe],encapsulation:2});class Bt{}Bt.\u0275fac=function(e){return new(e||Bt)},Bt.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Bt,declarations:[Vt],imports:[x.CommonModule,c.RxRevertCustomizationModule]}),Bt.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[x.CommonModule,c.RxRevertCustomizationModule]]});class Gt{constructor(e,t,n,i,o,r,s,a,l,c,d,u,p){this.injector=e,this.viewDesignerFacade=t,this.rxStringService=n,this.rxOverlayService=i,this.rxViewComponentRegistryService=o,this.rxBundleCacheService=r,this.rxModalService=s,this.rxViewDefinitionCacheService=a,this.rxViewDefinitionParserService=l,this.rxGuidService=c,this.viewDesignerDispatcher=d,this.rxDefinitionNameService=u,this.rxViewExpressionValidatorService=p,this.expressionConfigurator=new jt(this.injector,null,this),this.destroyed$=new m.ReplaySubject(1),this.allViewDefinitionNamesByBundleId$=this.viewDesignerFacade.currentBundleId$.pipe((0,f.filter)(Boolean),(0,f.switchMap)(e=>this.rxViewDefinitionCacheService.getViewDefinitionNames(e).pipe((0,f.map)(e=>e.map(e=>this.rxDefinitionNameService.getDisplayNameForValidation(e)))))),this.targetExtensionContainerOptions$=this.viewDesignerFacade.getViewPropertyValue("targetViewDefinitionName").pipe((0,f.switchMap)(e=>e?this.getTargetExtensionContainerOptions(e).pipe((0,f.take)(1)):(0,m.of)(null)),(0,f.shareReplay)(1)),this.targetViewDefinition$=this.viewDesignerFacade.getViewPropertyValue("targetViewDefinitionName").pipe((0,f.filter)(Boolean),(0,f.switchMap)(e=>this.rxViewDefinitionCacheService.getViewDefinition(e))),this.init()}init(){this.viewDesignerFacade.initViewDesigner$.pipe((0,f.concatMapTo)(this.viewDesignerFacade.viewModelsInitialized$.pipe((0,f.switchMapTo)((0,m.combineLatest)([this.viewDesignerFacade.viewComponentModels$.pipe((0,f.map)(e=>{const t=Object.values(e).find(e=>e.type===u.RxViewComponentType.Page);return t?e[t.childDataComponentGuids[0]].type:null})),this.viewDesignerFacade.viewModel$,this.targetExtensionContainerOptions$]).pipe((0,f.take)(1))))),(0,f.takeUntil)(this.destroyed$)).subscribe(([e,t,n])=>{this.viewDesignerFacade.updateViewProperties({pageComponent:e}),this.viewDesignerFacade.setViewInspectorConfig(this.getInspector(Object.assign(Object.assign({},t),{pageComponent:e}),n))}),this.viewDesignerFacade.initViewDesigner$.pipe((0,f.switchMapTo)(this.targetExtensionContainerOptions$.pipe((0,f.skip)(1),(0,f.withLatestFrom)(this.viewDesignerFacade.viewModel$))),(0,f.takeUntil)(this.destroyed$)).subscribe(([e,t])=>this.onTargetExtensionContainerOptionsChange(e,t)),this.viewDesignerFacade.initViewDesigner$.pipe((0,f.switchMapTo)(this.viewDesignerFacade.getViewPropertyValue("pageComponent").pipe((0,f.skip)(1),(0,f.switchMapTo)((0,m.combineLatest)([this.viewDesignerFacade.viewModel$,this.viewDesignerFacade.viewComponentModels$,this.targetExtensionContainerOptions$]).pipe((0,f.take)(1))))),(0,f.takeUntil)(this.destroyed$)).subscribe(([e,t,n])=>this.onPageComponentChange(e,t,n)),this.viewDesignerFacade.initViewDesigner$.pipe((0,f.switchMapTo)(this.viewDesignerFacade.getViewPropertyValue("targetViewDefinitionName").pipe((0,f.skip)(1))),(0,f.switchMap)(()=>this.viewDesignerFacade.viewComponentModels$.pipe((0,f.first)())),(0,f.takeUntil)(this.destroyed$)).subscribe(e=>{(0,h.isEmpty)(e)||this.viewDesignerFacade.clearCanvas()}),this.viewDesignerFacade.initViewDesigner$.pipe((0,f.switchMapTo)((0,m.combineLatest)([this.viewDesignerFacade.getViewPropertyValue("styles").pipe((0,f.map)(Mt)),this.validateDisplayName(),this.validateInputParams(),this.validateOutputParamExpressions(),this.validateExtensionContainer()]).pipe((0,f.map)(h.flatten),(0,f.map)(h.compact),(0,f.withLatestFrom)(this.viewDesignerFacade.viewModelGuid$))),(0,f.takeUntil)(this.destroyed$)).subscribe(([e,t])=>{this.viewDesignerFacade.setValidationIssues(t,e)}),this.viewDesignerFacade.initViewDesigner$.pipe((0,f.switchMapTo)(this.viewDesignerFacade.getViewPropertyValue("inputParams")),(0,f.takeUntil)(this.destroyed$)).subscribe(e=>this.viewDesignerFacade.setViewCommonDataDictionaryBranch(this.getViewCommonDataDictionary(e))),this.viewDesignerFacade.getViewPropertyValue("targetExtensionContainerGuid").pipe((0,f.withLatestFrom)(this.targetViewDefinition$),(0,f.map)(([e,t])=>this.getTargetRecordDefinitionName(t,e)),(0,f.distinctUntilChanged)(),(0,f.switchMapTo)(this.viewDesignerFacade.viewComponentModels$.pipe((0,f.take)(1))),(0,f.filter)(e=>!(0,h.isEmpty)(e)),(0,f.takeUntil)(this.destroyed$)).subscribe(()=>this.viewDesignerFacade.clearCanvas())}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}getTargetExtensionContainerOptions(e){return this.rxViewDefinitionCacheService.getViewDefinition(e).pipe((0,f.map)(e=>this.rxViewDefinitionParserService.getComponents(e).filter(({componentDefinition:e})=>e.type===u.RxViewComponentType.ExtensionContainer).map(({componentDefinition:e})=>({id:e.guid,name:e.propertiesByName.name||e.name}))))}onTargetExtensionContainerOptionsChange(e,t){this.viewDesignerFacade.setViewInspectorConfig(this.getInspector(t,e)),e?1===e.length&&this.viewDesignerFacade.updateViewProperties({targetExtensionContainerGuid:e[0].id}):this.viewDesignerFacade.updateViewProperties({targetExtensionContainerGuid:null})}onPageComponentChange(e,t,n){const i=(0,h.find)(t,{type:u.RxViewComponentType.Page});this.viewDesignerFacade.setViewInspectorConfig(this.getInspector(e,n));const o=[];if(e.pageComponent){if(i)this.viewDesignerFacade.updateComponentModel(i.childDataComponentGuids[0],{type:e.pageComponent});else{const n=this.rxGuidService.generate();(0,h.isEmpty)(t)||this.viewDesignerFacade.removeViewComponents(ve(e)),o.push(_e({payload:[{componentModel:{guid:n,resourceType:u.RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,type:u.RxViewComponentType.Page,propertiesByName:{},parentGuid:e.guid},insertIndex:0,columnIndex:0,outletName:u.RX_VIEW_DEFINITION.defaultOutletName}]}),Se({payload:[{componentModel:{guid:this.rxGuidService.generate(),type:e.pageComponent,resourceType:u.RX_VIEW_DEFINITION.resourceTypes.viewComponent,propertiesByName:{},parentGuid:n}}]}))}this.viewDesignerFacade.updateViewProperties({inputParams:[],outputParams:[]})}else i&&this.viewDesignerFacade.removeViewComponents([i.guid]);o.forEach(e=>this.viewDesignerDispatcher.dispatch(e))}getInspector(e,t=[]){const n=!Boolean(e.lastUpdateTime)||this.rxOverlayService.isCustomizationEnabled("allowOverlay",e),i=this.rxViewComponentRegistryService.getBundlePageComponents(this.rxBundleCacheService.bundleId).map(e=>({id:e.type,name:e.name}));e.pageComponent&&!this.rxViewComponentRegistryService.get(e.pageComponent)&&i.unshift({name:u.RX_VIEW_DEFINITION.unknownPageComponent.name,id:e.pageComponent});const o={name:"pageComponent",component:c.SelectFormControlComponent,options:{label:"Page component",options:i,beforeValueChange:(e,t)=>this.viewDesignerFacade.viewModel$.pipe((0,f.take)(1),(0,f.withLatestFrom)(this.viewDesignerFacade.viewComponentModels$),(0,f.map)(([n,i])=>!(null==e?void 0:e.length)&&t.length&&(n.inputParams.length||n.outputParams.length||!(0,h.isEmpty)(i)))).toPromise().then(e=>!e||this.rxModalService.confirm({title:"Warning",modalStyle:d.RX_MODAL.modalStyles.warning,message:"The view canvas, input and output parameters will be cleared. Do you want to continue?"})),emptyOption:!0}},r={name:"targetExtensionContainerGuid",component:c.SelectFormControlComponent,options:{label:"Extension container",tooltip:new l.Tooltip("Select an extension container in the view to extend where record editor fields from this view will be injected.\n            The records defined for the view to extend and for this view must be associated one-to-one."),options:t||[],required:!0,beforeValueChange:(e,t)=>this.isTargetRecordDefinitionChanged(e,t).pipe((0,f.withLatestFrom)(this.viewDesignerFacade.viewComponentModels$),(0,f.map)(([e,t])=>!(0,h.isEmpty)(t)&&e),(0,f.take)(1)).toPromise().then(e=>!e||this.rxModalService.confirm({title:"Warning",modalStyle:d.RX_MODAL.modalStyles.warning,message:"The view canvas will be cleared. Do you want to continue?"}))}},s=[{label:"General",controls:[{name:"displayName",component:c.TextFormControlComponent,isDisabled:Boolean(e.lastUpdateTime),options:{required:!0,label:"Name"}},{name:"description",component:c.TextareaFormControlComponent,isDisabled:!n,options:{label:"Description",rows:3}},{name:"layoutName",component:c.TextFormControlComponent,isDisabled:!0,options:{label:"Layout template"}},{name:"targetViewDefinitionName",component:c.RxDefinitionPickerComponent,isDisabled:!n,options:{label:"View to extend",tooltip:new l.Tooltip("Select a view to extend in order to inject this view into it.\n                The view to extend may be read-only, but must contain at least one Record editor with an Extension container."),definitionType:c.RxDefinitionPickerType.View,beforeValueChange:(e,t)=>this.viewDesignerFacade.viewComponentModels$.pipe((0,f.first)(),(0,f.withLatestFrom)(this.viewDesignerFacade.viewModel$)).toPromise().then(([n,i])=>{const o=Boolean(!(null==e?void 0:e.length)&&t.length&&(i.inputParams.length||i.outputParams.length));let r;return!(0,h.isEmpty)(n)&&o?r="The view canvas, input and output parameters will be cleared. Do you want to continue?":(0,h.isEmpty)(n)?o&&(r="The input and output parameters will be cleared. Do you want to continue?"):r="The view canvas will be cleared. Do you want to continue?",!r||this.rxModalService.confirm({title:"Warning",modalStyle:d.RX_MODAL.modalStyles.warning,message:r})})}},{name:"styles",component:c.TagsFormControlComponent,isDisabled:!n,options:{label:"CSS classes",placeholder:"Add CSS classes",tooltip:new l.Tooltip("Enter CSS class names to apply to this view."),errorCheck:Rt}},{name:"permissions",component:c.RxPermissionEditorComponent,isDisabled:!n,options:{label:"Permissions",type:"view"}},{component:Vt},{component:Lt}]},{label:"Input parameters",controls:[{name:"inputParams",component:c.ListFormControlComponent,isDisabled:!n,options:{addItemText:"Add",emptyListText:"No input parameters added.",items:[{label:"Name",propertyName:"name"}]}}]},{label:"Output parameters",controls:[{name:"outputParams",component:c.ListFormControlComponent,isDisabled:!n,options:{addItemText:"Add",emptyListText:"No output parameters added.",items:[{label:"Name",propertyName:"name"},{label:"Source",propertyName:"source",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}]}}]}];if(i.length&&s[0].controls.splice(2,0,o),e.pageComponent&&(s.splice(1,2),s[0].controls.splice((0,h.findIndex)(s[0].controls,{name:"targetViewDefinitionName"}),1)),e.targetViewDefinitionName){const e=(0,h.findIndex)(s[0].controls,{name:"targetViewDefinitionName"});s[0].controls.splice(e+1,0,r),s[0].controls.splice((0,h.findIndex)(s[0].controls,{name:"pageComponent"}),1),s.splice(1,2),this.viewDesignerFacade.updateViewProperties({inputParams:[],outputParams:[]})}return{inspectorSectionConfigs:s}}validateDisplayName(){return this.viewDesignerFacade.getViewPropertyValue("displayName").pipe((0,f.switchMap)(e=>(0,m.combineLatest)([(0,m.of)(e?a.RX_RECORD_DEFINITION.validDefinitionNameRegex.test(e)?null:{type:"error",propertyName:"displayName",description:"View name can only contain letters, numbers, spaces, dashes, and underscores."}:{type:"error",propertyName:"displayName",description:"View name cannot be blank."}),this.viewDesignerFacade.getViewPropertyValue("lastUpdateTime").pipe((0,f.switchMap)(t=>e&&!t?this.allViewDefinitionNamesByBundleId$.pipe((0,f.map)(n=>!t&&(null==n?void 0:n.some(t=>this.rxStringService.caseInsensitiveIsEqual(e,t)))?{type:"error",propertyName:"displayName",description:"View definition with this name already exists."}:null),(0,f.take)(1)):(0,m.of)(null)),(0,f.take)(1))]))).pipe((0,f.map)(h.compact))}validateInputParams(){return this.viewDesignerFacade.getViewPropertyValue("inputParams").pipe((0,f.map)(e=>{const t=(0,h.flow)(e=>(0,h.map)(e,e=>e.name),h.compact)(e),n=(0,h.uniq)(t),i=[];return e.length&&t.length!==e.length&&i.push({type:"error",propertyName:"inputParams",description:"Input parameter name cannot be blank."}),t.length!==n.length&&i.push({type:"error",propertyName:"inputParams",description:"Input parameter names must be unique."}),i}))}validateOutputParamExpressions(){return this.viewDesignerFacade.getViewPropertyValue("outputParams").pipe((0,f.map)(e=>(0,h.map)(e,e=>e.source).filter(Boolean)),(0,f.distinctUntilChanged)(h.isEqual),(0,f.switchMap)(e=>e.length?(0,m.combineLatest)(e.map(e=>this.rxViewExpressionValidatorService.validate(e,"source","Output parameter source"))).pipe((0,f.map)(h.flatten)):(0,m.of)([])))}validateExtensionContainer(){return(0,m.combineLatest)([this.viewDesignerFacade.getViewPropertyValue("targetViewDefinitionName"),this.viewDesignerFacade.getViewPropertyValue("targetExtensionContainerGuid")]).pipe((0,f.map)(([e,t])=>e&&!t?{type:"error",propertyName:"targetExtensionContainerGuid",description:"Extension container cannot be blank."}:null))}getViewCommonDataDictionary(e){return{label:"View",expression:"${view.api}",icon:"d-icon-file_o",expanded:!0,children:[...(0,h.isEmpty)(e)?[]:[{label:"Input parameters",expanded:!0,children:e.filter(e=>e.name).map(e=>({label:e.name,expression:`\${view.inputParams.${e.name}}`,icon:"d-icon-arrow_right_square_input"}))}],{label:"Properties",expanded:!0,children:[{label:"Is valid",expression:"${view.isValid}",icon:"d-icon-arrow_right_square_input"}]}]}}isTargetRecordDefinitionChanged(e,t){return this.targetViewDefinition$.pipe((0,f.map)(n=>this.getTargetRecordDefinitionName(n,e)!==this.getTargetRecordDefinitionName(n,t)))}getTargetRecordDefinitionName(e,t){const n=this.rxViewDefinitionParserService.findParentComponentDefinition(e,{guid:t},e=>e.type===u.RxViewComponentType.RecordEditor);return null==n?void 0:n.propertiesByName.recordDefinitionName}}Gt.\u0275fac=function(e){return new(e||Gt)(i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](Et),i["\u0275\u0275inject"](g.RxStringService),i["\u0275\u0275inject"](l.RxOverlayService),i["\u0275\u0275inject"](u.RxViewComponentRegistryService),i["\u0275\u0275inject"](l.RxBundleCacheService),i["\u0275\u0275inject"](d.RxModalService),i["\u0275\u0275inject"](u.RxViewDefinitionCacheService),i["\u0275\u0275inject"](u.RxViewDefinitionParserService),i["\u0275\u0275inject"](g.RxGuidService),i["\u0275\u0275inject"](je),i["\u0275\u0275inject"](l.RxDefinitionNameService),i["\u0275\u0275inject"](Ft))},Gt.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Gt,factory:Gt.\u0275fac});const zt=new i.InjectionToken("CanvasItemApi");class $t{constructor(){this.core=null}registerCoreApi(e){this.core=e}}$t.\u0275fac=function(e){return new(e||$t)},$t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:$t,factory:$t.\u0275fac});class Ut{constructor(e,t,n,i){this.data=e,this.targetGuid=t,this.outletName=n,this.insertIndex=i}}class Ht{constructor(){this.componentSelectSubject=new m.ReplaySubject,this.componentRemoveSubject=new m.ReplaySubject,this.componentDropSubject=new m.ReplaySubject,this.componentDrop$=this.componentDropSubject.asObservable(),this.componentSelect$=this.componentSelectSubject.asObservable(),this.componentRemove$=this.componentRemoveSubject.asObservable()}selectComponent(e){this.componentSelectSubject.next(e)}removeComponent(e){this.componentRemoveSubject.next(e)}dropComponent(e,t,n,i){this.componentDropSubject.next(new Ut(e,t,n,i))}}Ht.\u0275fac=function(e){return new(e||Ht)},Ht.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Ht,factory:Ht.\u0275fac});class Xt{constructor(e,t,n,i){this.injector=e,this.renderer=t,this.canvasItemApi=n,this.viewDesignerCanvasService=i,this.interactive=!0,this.childContainers=new Map}ngOnInit(){this.initializeItemApi()}ngOnChanges(e){const t=e.layout;if(t){const e=(0,h.get)(t,"previousValue.guid"),n=(0,h.get)(t,"currentValue.guid"),i=(0,h.get)(t,"previousValue.outlets"),o=(0,h.get)(t,"currentValue.outlets");e!==n?(this.componentReference&&this.cleanUp(),this.renderViewComponent()):(0,h.isEqual)(i,o)||o.forEach(e=>{const t=this.childContainers.get(e.name);t&&(t.instance.outlet=e,t.instance.layout=this.layout)})}}ngOnDestroy(){this.cleanUp()}cleanUp(){this.componentReference.destroy(),this.childContainers.clear()}registerOutlet(e,t,n){const i=this.layout.outlets.find(t=>t.name===e),o=this.renderContainerComponent(t,i,n);return this.childContainers.set(e,o),o}onSelectComponent(e){this.interactive&&(e.stopPropagation(),this.viewDesignerCanvasService.selectComponent(this.layout.guid))}dropComponent(e,t,n=u.RX_VIEW_DEFINITION.defaultOutletName){this.viewDesignerCanvasService.dropComponent(e,this.layout.guid,n,t)}initializeItemApi(){this.canvasItemApi.registerCoreApi({dropComponent:this.dropComponent.bind(this),registerOutlet:this.registerOutlet.bind(this)})}renderViewComponent(){this.componentReference=this.container.createComponent(this.layout.factory,null,this.injector);const e=this.componentReference.instance,t=this.componentReference.location.nativeElement;e.guid=this.layout.guid,e.model=this.layout.model,e.isReadOnly=this.isReadOnly,this.renderer.setAttribute(t,"rx-view-component-id",this.layout.guid)}renderContainerComponent(e,t,n){const i=e.createComponent(n);return i.instance.outlet=t,i.instance.layout=this.layout,i.instance.isReadOnly=this.isReadOnly,i}}Xt.\u0275fac=function(e){return new(e||Xt)(i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](zt),i["\u0275\u0275directiveInject"](Ht))},Xt.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Xt,selectors:[["rx-canvas-item"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](I,7,i.ViewContainerRef),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.container=e.first)}},inputs:{layout:"layout",interactive:"interactive",isReadOnly:"isReadOnly"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:zt,useClass:$t}]),i["\u0275\u0275NgOnChangesFeature"]],decls:4,vars:3,consts:[[3,"hidden","click"],["container",""]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275listener"]("click",function(e){return t.onSelectComponent(e)}),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275elementContainer"](2,null,1),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("hidden",i["\u0275\u0275pipeBind1"](1,1,null==t.layout||null==t.layout.model?null:t.layout.model.hiddenOnCanvas$))},pipes:[x.AsyncPipe],encapsulation:2});class Wt{constructor(e){this.viewDesignerCanvasService=e,this.componentSelect=new i.EventEmitter,this.componentDrop=new i.EventEmitter,this.componentRemove=new i.EventEmitter,this.beforeComponentDropInRoot=new i.EventEmitter}ngOnInit(){this.viewDesignerCanvasService.componentSelect$.subscribe(e=>{this.componentSelect.emit(e)}),this.viewDesignerCanvasService.componentRemove$.subscribe(e=>{this.componentRemove.emit(e)}),this.viewDesignerCanvasService.componentDrop$.subscribe(e=>{this.componentDrop.emit(e)})}}Wt.\u0275fac=function(e){return new(e||Wt)(i["\u0275\u0275directiveInject"](Ht))},Wt.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Wt,selectors:[["rx-view-designer-canvas"]],inputs:{layout:"layout",isReadOnly:"isReadOnly"},outputs:{componentSelect:"componentSelect",componentDrop:"componentDrop",componentRemove:"componentRemove",beforeComponentDropInRoot:"beforeComponentDropInRoot"},features:[i["\u0275\u0275ProvidersFeature"]([Ht])],decls:1,vars:1,consts:[["class","root-item",3,"layout","isReadOnly",4,"ngIf"],[1,"root-item",3,"layout","isReadOnly"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,A,1,2,"rx-canvas-item",0),2&e&&i["\u0275\u0275property"]("ngIf",t.layout)},directives:[x.NgIf,Xt],encapsulation:2,changeDetection:0});class qt{constructor(){this.beforeViewComponentDropSubject=new m.ReplaySubject,this.beforeViewComponentDrop$=this.beforeViewComponentDropSubject.asObservable()}setBeforeViewComponentDropState(e){this.beforeViewComponentDropSubject.next(e)}canBeDropped(e){let t=!0;return(0,h.isFunction)(e.draggedViewComponentDescriptor.canBeInsertedInto)&&(t=e.draggedViewComponentDescriptor.canBeInsertedInto(e.dropTargetViewComponentWithParents.map(e=>e.type))),t&&(t=(!e.draggedViewComponentGuid||!this._isParentRecordEditorChanging(this.containerComponentInstance.layout.viewComponentWithParents,e.draggedViewComponentParents))&&this.componentDropPredicate(e)),t}componentDropPredicate(e,t=!1){return(t||this.dropPredicate(e))&&(!this.parentOutletComponent||this.parentOutletComponent.componentDropPredicate(e,this.skipParentPredicate))}_isParentRecordEditorChanging(e,t){const n=(0,h.find)(e,{type:u.RxViewComponentType.RecordEditor}),i=(0,h.find)(t,{type:u.RxViewComponentType.RecordEditor}),o=Boolean(n)&&Boolean(i)&&n.guid!==i.guid,r=!n&&Boolean(i),s=!i&&Boolean(n);return o||r||s}}qt.\u0275fac=function(e){return new(e||qt)},qt.\u0275prov=i["\u0275\u0275defineInjectable"]({token:qt,factory:qt.\u0275fac});class Yt{constructor(e,t){this.viewDesignerCanvasService=e,this.canvasOutletHelperService=t,this.dropListDropped=new i.EventEmitter,this.dropListEnterPredicateBind=(0,h.throttle)(this.dropListEnterPredicate.bind(this),200)}ngOnInit(){this.dropListOrientation=this.canvasOutletHelperService.dropListOrientation}getViewComponentDragData(e){return{draggedViewComponentGuid:e.guid,draggedViewComponentDescriptor:e.descriptor,draggedViewComponentParents:this.layout.viewComponentWithParents}}onDragEntered(e){this.enforceDragToSelf(e.container)}onDragStarted(e){this.enforceDragToSelf(e.source.dropContainer)}remove(e,t){e.stopPropagation(),this.viewDesignerCanvasService.removeComponent(t.guid)}onSelectComponent(e,t){e.stopPropagation(),this.viewDesignerCanvasService.selectComponent(t.guid)}trackByFn(e,t){return t.guid}dropListEnterPredicate(e){return this.canvasOutletHelperService.canBeDropped(Object.assign(Object.assign({},e.data),{dropTargetViewComponentWithParents:this.layout.viewComponentWithParents||[]}))}enforceDragToSelf(e){let t=e.connectedTo;t=t.reduce((e,t)=>{if((0,h.isString)(t)){const n=w.CdkDropList._dropLists.find(e=>e.id===t);n&&e.push(n)}return e},[]);const n=e._dropListRef;m.asapScheduler.schedule(()=>{n.connectedTo(t.map(e=>e._dropListRef))})}}Yt.\u0275fac=function(e){return new(e||Yt)(i["\u0275\u0275directiveInject"](Ht),i["\u0275\u0275directiveInject"](qt))},Yt.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Yt,selectors:[["rx-canvas-item-column"]],inputs:{isReadOnly:"isReadOnly",colIndex:"colIndex",column:"column",layout:"layout"},outputs:{dropListDropped:"dropListDropped"},decls:2,vars:9,consts:[["cdkDropList","",3,"cdkDropListOrientation","cdkDropListConnectedTo","cdkDropListEnterPredicate","cdkDropListData","id","cdkDropListDropped"],["cdkDrag","",3,"class","cdkDragData","cdkDragDisabled","cdkDragEntered","cdkDragStarted",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",3,"cdkDragData","cdkDragDisabled","cdkDragEntered","cdkDragStarted"],[1,"canvas-item",3,"click"],["cdkDragHandle","",1,"canvas-item-header",3,"hidden"],[1,"icon","d-icon-dots","mr-1"],[1,"label"],["class","remove-button btn btn-sm btn-link d-icon-cross_adapt p-0 px-1","type","button","aria-label","Close",3,"click",4,"ngIf"],[3,"layout","isReadOnly"],["type","button","aria-label","Close",1,"remove-button","btn","btn-sm","btn-link","d-icon-cross_adapt","p-0","px-1",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275listener"]("cdkDropListDropped",function(e){return t.dropListDropped.next(e)}),i["\u0275\u0275template"](1,D,10,16,"div",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("cdkDropListOrientation",t.dropListOrientation)("cdkDropListConnectedTo",t.column.dndListIds)("cdkDropListEnterPredicate",t.dropListEnterPredicateBind)("cdkDropListData",i["\u0275\u0275pureFunction1"](7,T,t.colIndex))("id",t.column.listId),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.column.children)("ngForTrackBy",t.trackByFn))},directives:[w.CdkDropList,x.NgForOf,w.CdkDrag,w.CdkDragHandle,x.NgIf,Xt],pipes:[x.AsyncPipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}[_nghost-%COMP%]{display:block}.cdk-drop-list[_ngcontent-%COMP%]{min-height:100px}.cdk-drop-list[_ngcontent-%COMP%] > .cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.5}.card-header[_ngcontent-%COMP%]{cursor:move}.canvas-item-wrapper.cdk-drag-preview[_ngcontent-%COMP%]{background:white;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.canvas-item[_ngcontent-%COMP%]{border:1px solid transparent;position:relative;padding:3px}.canvas-item.active[_ngcontent-%COMP%]{border-color:#20c997}.canvas-item-header[_ngcontent-%COMP%]{color:#fff;position:absolute;top:0;right:0;padding:1px 0 1px 5px;background:#20c997;cursor:move;z-index:1;display:flex}.canvas-item-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{white-space:nowrap}.remove-button[_ngcontent-%COMP%]{color:#fff}']});class Qt{constructor(e,t){this.canvasItemApi=e,this.canvasOutletHelperService=t}trackByColFn(e,t){return t.listId}onDropListDropped(e){const t=Object.assign(Object.assign({},e.item.data),{initialPropertiesByName:{},columnIndex:e.container.data.columnIndex});this.canvasOutletHelperService.setBeforeViewComponentDropState(t),t.preventDrop||this.canvasItemApi.core.dropComponent(t,e.currentIndex,this.outlet.name)}}Qt.\u0275fac=function(e){return new(e||Qt)(i["\u0275\u0275directiveInject"](zt),i["\u0275\u0275directiveInject"](qt))},Qt.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Qt,selectors:[["rx-canvas-item-container"]],inputs:{outlet:"outlet",isReadOnly:"isReadOnly",layout:"layout"},decls:2,vars:2,consts:[[1,"row"],[3,"class","ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngClass"],[3,"ngClass","isReadOnly","colIndex","column","layout","dropListDropped"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,O,2,13,"div",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.outlet.columns)("ngForTrackBy",t.trackByColFn))},directives:[x.NgForOf,x.NgClass,Yt],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.col-border[_ngcontent-%COMP%]{border-right:1px dashed #d6d7d8}']});class Zt{constructor(e,t,n,o){this.canvasItemApi=e,this.parentOutletComponent=t,this.canvasOutletHelperService=n,this.componentFactoryResolver=o,this.containerComponentInstance=null,this.destroyed$=new m.ReplaySubject(1),this.name=u.RX_VIEW_DEFINITION.defaultOutletName,this.skipParentPredicate=!1,this.dropListOrientation="vertical",this.beforeViewComponentDrop=new i.EventEmitter,this.dropPredicate=()=>!0}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}ngOnInit(){this.containerComponentInstance=this.canvasItemApi.core.registerOutlet(this.name,this.container,this.componentFactoryResolver.resolveComponentFactory(this.containerComponent||Qt)).instance,this.canvasOutletHelperService.dropListOrientation=this.dropListOrientation,this.canvasOutletHelperService.parentOutletComponent=this.parentOutletComponent,this.canvasOutletHelperService.dropPredicate=this.dropPredicate,this.canvasOutletHelperService.skipParentPredicate=this.skipParentPredicate,this.canvasOutletHelperService.containerComponentInstance=this.containerComponentInstance,this.canvasOutletHelperService.beforeViewComponentDrop$.pipe((0,f.takeUntil)(this.destroyed$)).subscribe(e=>{this.beforeViewComponentDrop.emit(e)})}canBeDropped(e){return this.canvasOutletHelperService.canBeDropped(e)}componentDropPredicate(e,t=!1){return this.canvasOutletHelperService.componentDropPredicate(e,t)}}Zt.\u0275fac=function(e){return new(e||Zt)(i["\u0275\u0275directiveInject"](zt),i["\u0275\u0275directiveInject"](Zt,12),i["\u0275\u0275directiveInject"](qt),i["\u0275\u0275directiveInject"](i.ComponentFactoryResolver))},Zt.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Zt,selectors:[["rx-canvas-outlet"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](I,7,i.ViewContainerRef),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.container=e.first)}},inputs:{name:"name",skipParentPredicate:"skipParentPredicate",containerComponent:"containerComponent",dropListOrientation:"dropListOrientation",dropPredicate:"dropPredicate"},outputs:{beforeViewComponentDrop:"beforeViewComponentDrop"},features:[i["\u0275\u0275ProvidersFeature"]([qt])],decls:2,vars:0,consts:[["container",""]],template:function(e,t){1&e&&i["\u0275\u0275elementContainer"](0,null,0)},encapsulation:2});class Kt{constructor(e,t){this.canvasItemComponent=e,this.viewDesignerCanvasComponent=t,this.defaultOutletName=u.RX_VIEW_DEFINITION.defaultOutletName}trackByFn(e,t){return t.name}}Kt.\u0275fac=function(e){return new(e||Kt)(i["\u0275\u0275directiveInject"](Xt),i["\u0275\u0275directiveInject"](Wt))},Kt.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Kt,selectors:[["rx-designer"]],decls:1,vars:2,consts:[[3,"border","default-outlet","name","beforeViewComponentDrop",4,"ngFor","ngForOf","ngForTrackBy"],[3,"name","beforeViewComponentDrop"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,P,1,5,"rx-canvas-outlet",0),2&e&&i["\u0275\u0275property"]("ngForOf",t.canvasItemComponent.layout.outlets)("ngForTrackBy",t.trackByFn)},directives:[x.NgForOf,Zt],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}rx-canvas-outlet[_ngcontent-%COMP%]{display:block}rx-canvas-outlet.default-outlet[_ngcontent-%COMP%]:not(:only-child)    >rx-canvas-item-container>.row>*>rx-canvas-item-column>.cdk-drop-list{min-height:300px}rx-canvas-outlet.default-outlet[_ngcontent-%COMP%]:only-child    >rx-canvas-item-container>.row>*>rx-canvas-item-column>.cdk-drop-list{min-height:calc(100vh - 155px)}rx-canvas-outlet.border[_ngcontent-%COMP%]{border:1px solid #d6d7d8}rx-canvas-outlet[_ngcontent-%COMP%] + rx-canvas-outlet[_ngcontent-%COMP%]{margin-top:10px}']});class Jt{constructor(e,t,n,i){this.viewDesignerFacade=e,this.rxViewComponentRegistryService=t,this.componentFactoryResolver=n,this.viewDesignerModels=i,this.designerComponentFactory=this.componentFactoryResolver.resolveComponentFactory(Kt),this.canvasDndListIds=[],this.extensionViewAllowedComponentTypes=new Set([u.RxViewComponentType.Container,u.RxViewComponentType.RichText,u.RxViewComponentType.RecordEditor,u.RxViewComponentType.Character,u.RxViewComponentType.Textarea,u.RxViewComponentType.Boolean,u.RxViewComponentType.Date,u.RxViewComponentType.DateTime,u.RxViewComponentType.Time,u.RxViewComponentType.Decimal,u.RxViewComponentType.Floating,u.RxViewComponentType.Integer,u.RxViewComponentType.LocalizedCharacter,u.RxViewComponentType.Selection,u.RxViewComponentType.SelectGroup,u.RxViewComponentType.RichTextarea,u.BwfViewComponentType.DynamicNamedList]),this.canvasLayout$=this.getRecursiveViewLayoutGuids().pipe((0,f.switchMap)(e=>e.length?this.viewDesignerFacade.areViewModelsReady$.pipe((0,f.filter)(Boolean),(0,f.switchMapTo)(this.viewDesignerFacade.viewDesignerModelState$.pipe((0,f.take)(1)))):this.viewDesignerFacade.viewDesignerModelState$.pipe((0,f.take)(1))),(0,f.map)(e=>{const t=e.viewDesignModel,n=e.viewComponentDesignModels;return this.canvasDndListIds.length=0,{guid:t.guid,factory:this.designerComponentFactory,outlets:t.layout.outlets.map(e=>({name:e.name,columns:e.columns.map((i,o)=>{const r=String(`${t.guid}-${e.name}-${o}`);return t.type!==u.ViewDefinitionType.Shell&&this.canvasDndListIds.push(r),Object.assign(Object.assign({},i),{children:i.children.map(e=>this.initializeCanvasItem(e,n,this.canvasDndListIds)),listId:r,dndListIds:this.canvasDndListIds})})})),model:null,descriptor:null,isSelected$:(0,m.of)(!1)}}),(0,f.tap)(()=>{this.canvasDndListIds.reverse()})),this.viewBreadcrumbItem$=this.viewDesignerFacade.getViewPropertyValue("displayName").pipe((0,f.concatMap)(e=>(0,m.of)(e?e===l.RX_APPLICATION.shellDefinitionName?"Application shell":e:"<New view>")),(0,f.withLatestFrom)(this.viewDesignerFacade.viewModelGuid$),(0,f.map)(([e,t])=>({label:e,data:{guid:t}}))),this.selectedComponentBreadcrumbItems$=this.viewDesignerFacade.selectedComponentGuid$.pipe((0,f.switchMap)(e=>e?(0,m.combineLatest)([this.viewDesignerFacade.breadcrumbs$,this.viewDesignerFacade.getParentComponentGuid(e)]).pipe((0,f.withLatestFrom)(this.viewDesignerFacade.viewComponentModels$),(0,f.map)(([[t],n])=>(0,h.isEmpty)(n)?[]:he(e,n).map(e=>{let i=t[e];if(!i){const t=n[e];i=this.rxViewComponentRegistryService.get(t.type).name}return{label:i,data:{guid:e}}}))):(0,m.of)([]))),this.breadcrumbItems$=(0,m.combineLatest)([this.viewBreadcrumbItem$,this.selectedComponentBreadcrumbItems$]).pipe((0,f.map)(([e,t])=>[e,...t])),this.validationIssues$=this.viewDesignerFacade.validationIssues$.pipe((0,f.withLatestFrom)(this.viewDesignerFacade.viewDesignerModelState$),(0,f.map)(([e,t])=>(0,h.flow)(e=>(0,h.mergeWith)(Object.assign({},e.issues),e.expressionIssues,(e=[],t=[])=>e.concat(t)),e=>(0,h.reduce)(e,(e,n,i)=>{var o;let r;if((null===(o=t.viewDesignModel)||void 0===o?void 0:o.guid)===i)r=t.viewDesignModel.displayName||"View designer";else if(t.viewComponentDesignModels[i]){const e=t.viewComponentDesignModels[i].type,n=this.rxViewComponentRegistryService.get(e);r=n&&n.name}return r&&e.push({title:r,issues:n.map(e=>({type:e.type,description:e.description,disableCorrection:e.disableCorrection,data:{guid:i,propertyName:e.propertyName,data:e.data}}))}),e},[]))(e)))}getLicensedComponents(){return this.rxViewComponentRegistryService.getLicensedComponents().pipe((0,f.first)(),(0,f.map)(e=>e.filter(e=>!this.rxViewComponentRegistryService.isDataComponentDescriptor(e)&&!e.hidden&&!e.isPageComponent)))}getRecursiveViewLayoutGuids(){return this.viewDesignerFacade.getViewPropertyValue("layout").pipe((0,f.switchMap)(e=>this.getRecursiveComponentLayoutGuids(e)))}getRecursiveComponentLayoutGuids(e){const t=u.RxViewLayout.getViewLayoutChildGuids(e);return t.length?(0,m.combineLatest)(t.map(e=>this.viewDesignerFacade.getComponentLayout(e).pipe((0,f.switchMap)(e=>e?this.getRecursiveComponentLayoutGuids(e).pipe((0,f.map)(e=>[...e,...t])):(0,m.of)(t))))):(0,m.of)([])}initializeCanvasItem(e,t,n){const i=t[e],o=this.rxViewComponentRegistryService.get(i.type),r={guid:i.guid,descriptor:o,factory:o.designComponentFactory,model:this.viewDesignerModels.get(i.guid),outlets:[],isSelected$:this.viewDesignerFacade.selectedComponentGuid$.pipe((0,f.map)(e=>e===i.guid)),label:o.name};return i.layout&&(r.viewComponentWithParents=he(i.guid,t).map(e=>({guid:e,type:t[e].type})),i.layout.outlets.forEach(e=>{const o={name:e.name,columns:e.columns.map((o,r)=>{const s=`${i.guid}-${e.name}-${r}`;return n.push(s),{children:o.children.map(e=>this.initializeCanvasItem(e,t,n)),span:o.span,listId:s,dndListIds:n}})};r.outlets.push(o)})),r}}Jt.\u0275fac=function(e){return new(e||Jt)(i["\u0275\u0275inject"](Et),i["\u0275\u0275inject"](u.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](Dt))},Jt.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Jt,factory:Jt.\u0275fac,providedIn:"root"});const en={stencilGroups:{basicComponents:{label:"Basic components"},chatbotComponents:{label:"Chatbot components"},recordEditorInputs:{label:"Record editor inputs"}},inspectorTabs:{viewProperties:{tabId:0},componentProperties:{tabId:1},validationIssues:{tabId:2}}};class tn{constructor(e){this.stringService=e,this.allowedDropListIds=[],this.filterFormControl=new b.FormControl,this.componentsSubject$=new m.ReplaySubject(1)}set components(e){this.componentsSubject$.next(e)}ngOnInit(){this.viewComponentGroups$=(0,m.combineLatest)([this.filterFormControl.valueChanges.pipe((0,f.debounceTime)(200),(0,f.startWith)(null)),this.componentsSubject$]).pipe((0,f.map)(([e,t])=>(0,h.flow)(e=>(0,h.groupBy)(e,e=>e.group),e=>(0,h.map)(e,(e,t)=>({name:t,components:(0,h.sortBy)(e,e=>isFinite(e.index)?e.index:e.name)})),e=>(0,h.sortBy)(e,e=>e.name===en.stencilGroups.basicComponents.label?"1":e.name===en.stencilGroups.recordEditorInputs.label?"2":"3"+(0,h.lowerCase)(e.name)),t=>e?t.map(t=>Object.assign(Object.assign({},t),{components:t.components.filter(t=>this.stringService.caseInsensitiveSearch(t.name,e))})).filter(e=>e.components.length):t)(t)))}getViewComponentDragData(e){return{draggedViewComponentDescriptor:e}}trackByNameFn(e,t){return t.name}ngOnDestroy(){this.componentsSubject$.complete()}}tn.\u0275fac=function(e){return new(e||tn)(i["\u0275\u0275directiveInject"](g.RxStringService))},tn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:tn,selectors:[["rx-view-designer-palette"]],inputs:{components:"components",allowedDropListIds:"allowedDropListIds"},decls:5,vars:9,consts:[[1,"search-field-container"],["rx-id","stencil-search-field","placeholder","Search",3,"formControl"],[3,"config"],[3,"title","isOpen",4,"ngFor","ngForOf","ngForTrackBy"],[3,"title","isOpen"],["cdkDropList","","cdkDropListSortingDisabled","",1,"group-items-container",3,"cdkDropListConnectedTo"],["class","group-item","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"group-item",3,"cdkDragData"],[1,"group-item-inner"],[1,"item-name",3,"title"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275element"](1,"adapt-rx-search",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"adapt-accordion",2),i["\u0275\u0275template"](3,k,3,6,"adapt-accordion-tab",3),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("formControl",t.filterFormControl),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("config",i["\u0275\u0275pureFunction1"](7,j,i["\u0275\u0275pureFunction0"](6,N))),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](4,4,t.viewComponentGroups$))("ngForTrackBy",t.trackByNameFn))},directives:[C.AdaptRxSearchComponent,b.NgControlStatus,b.FormControlDirective,C.AdaptAccordionComponent,x.NgForOf,C.AdaptAccordionTabComponent,w.CdkDropList,w.CdkDrag],pipes:[x.AsyncPipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}[_nghost-%COMP%]{display:block}.group-items-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.group-items-container[_ngcontent-%COMP%]   .group-item.cdk-drag-placeholder[_ngcontent-%COMP%]{width:33.3%}.group-item[_ngcontent-%COMP%]{border-right:1px solid #d6d7d8;border-bottom:1px solid #d6d7d8;text-align:center;width:33.3%;cursor:move;height:90px;padding:3px 0}.group-item.cdk-drag-preview[_ngcontent-%COMP%]{background:white;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.group-item.cdk-drag-placeholder[_ngcontent-%COMP%]{border:0;width:100px;height:40px;padding:0;position:relative;z-index:3}.group-item.cdk-drag-placeholder[_ngcontent-%COMP%]   .group-item-inner[_ngcontent-%COMP%]{border:1px solid #d6d7d8;background:#fff}.group-item[_ngcontent-%COMP%]:nth-child(3n){border-right:none}.group-item-inner[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column}.item-image[_ngcontent-%COMP%]{color:#626668;font-size:40px;height:54px;flex-grow:1}.item-name[_ngcontent-%COMP%]{font-size:10px;overflow:hidden;height:34px}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:1!important}adapt-accordion-tab[_ngcontent-%COMP%]     .card-block{padding:0}.form-group[_ngcontent-%COMP%]{margin:10px 20px}.search-field-container[_ngcontent-%COMP%]{padding:.9375rem}'],changeDetection:0});const nn=new i.InjectionToken("RX_VIEW_MODEL");class on{constructor(e,t,n,o,r,s,a,l,c,d,p,h,g,v,y,b,x,w,C,_,S,I,A){this.viewDesignerFacade=e,this.rxNotificationService=t,this.rxDefinitionPickerCacheService=n,this.rxNamedListDefinitionCacheService=o,this.rxModalService=r,this.translateService=s,this.rxUtilityModalsService=a,this.rxViewDesignerHelperService=l,this.rxExpressionEditorService=c,this.rxViewDefinitionService=d,this.rxComponentCanDeactivateGuard=p,this.rxViewDefinitionGeneratorService=h,this.rxViewDesignerModels=g,this.rxLogService=v,this.injector=y,this.renderer=b,this.rxRecordDefinitionCacheService=x,this.rxAssociationDefinitionCacheService=w,this.rxProcessDefinitionCacheService=C,this.rxViewDefinitionCacheService=_,this.rxGainsightConfiguratorService=S,this.rxDefinitionNameService=I,this.rxFeatureService=A,this.viewDefinitionSaved=new i.EventEmitter,this.viewDefinitionErrorLoading=new i.EventEmitter,this.closeDesigner=new i.EventEmitter,this.destroyed$=new m.ReplaySubject(1),this.inspectorFocusEditorSubject=new m.Subject,this.isViewDefinitionChanged$=new m.BehaviorSubject(!1),this.validationIssues$=this.rxViewDesignerHelperService.validationIssues$.pipe((0,f.shareReplay)(1),(0,f.takeUntil)(this.destroyed$)),this.breadcrumbItems$=this.rxViewDesignerHelperService.breadcrumbItems$,this.canvasLayout$=this.rxViewDesignerHelperService.canvasLayout$,this.canvasDndListIds=this.rxViewDesignerHelperService.canvasDndListIds,this.extensionViewRootComponentType=u.RxViewComponentType.RecordEditor,this.isDesignMode=!0,this.isStencilExpanded=!0,this.isInspectorExpanded=!0,this.inspectorFocusEditor$=this.inspectorFocusEditorSubject.asObservable(),this.viewComponentInspectorEmptyText$=this.viewDesignerFacade.selectedComponentInspectorLayout$.pipe((0,f.switchMap)(e=>e?(0,m.of)(null):this.viewDesignerFacade.selectedComponentGuid$.pipe((0,f.withLatestFrom)(this.viewDesignerFacade.viewModel$),(0,f.map)(([e,t])=>e&&e!==t.guid?"Selected component has no properties.":"Select a component to view its properties here."))),(0,f.shareReplay)({refCount:!0,bufferSize:1})),this.selectedComponentModel$=this.viewDesignerFacade.selectedComponentGuid$.pipe((0,f.map)(e=>this.rxViewDesignerModels.get(e))),this.isReadOnly$=this.viewDesignerFacade.isViewReadOnly$,this.paletteComponents$=(0,m.combineLatest)([this.viewDesignerFacade.isExtensionView$.pipe((0,f.tap)(e=>this.isExtensionView=e)),this.viewDesignerFacade.isExtensionContainerSet$.pipe((0,f.tap)(e=>this.isExtensionContainerSet=e)),this.rxViewDesignerHelperService.getLicensedComponents().pipe((0,f.map)(e=>this.configuration.paletteComponentsPredicate?e.filter(e=>this.configuration.paletteComponentsPredicate(e)):e))]).pipe((0,f.switchMap)(([e,t,n])=>e?this.viewDesignerFacade.firstViewComponentModelType$.pipe((0,f.map)(e=>e===this.extensionViewRootComponentType?n.filter(({type:e})=>e!==this.extensionViewRootComponentType&&this.rxViewDesignerHelperService.extensionViewAllowedComponentTypes.has(e)):n.filter(({type:e})=>e===this.extensionViewRootComponentType))):(0,m.of)(n)));const E=this.injector.get(nn,null,i.InjectFlags.Optional);this.rxViewModel=E||this.injector.get(Gt),this.rxDefinitionPickerCacheService.registerConsumer(),this.rxNamedListDefinitionCacheService.registerConsumer(this.destroyed$),this.rxAssociationDefinitionCacheService.registerConsumer(this.destroyed$),this.rxProcessDefinitionCacheService.registerConsumer(this.destroyed$),this.rxRecordDefinitionCacheService.registerConsumer(this.destroyed$),this.rxViewDefinitionCacheService.registerConsumer(this.destroyed$)}ngOnInit(){this.isPreviewAvailable$=this.viewDesignerFacade.getViewPropertyValue("lastUpdateTime").pipe((0,f.map)(e=>!this.configuration.disablePreview&&(Boolean(e)||!(0,h.isUndefined)(this.configuration.viewDefinitionName))),(0,f.takeUntil)(this.destroyed$)),this.viewDefinitionName$=this.viewDesignerFacade.getViewPropertyValue("name"),this.viewDesignerFacade.getViewPropertyValue("pageComponent").pipe((0,f.takeUntil)(this.destroyed$)).subscribe(e=>{this.isPageView=Boolean(e)}),this.viewDesignerFacade.viewDefinitionSaveSuccess$.pipe((0,f.takeUntil)(this.destroyed$)).subscribe(({viewDefinitionName:e})=>{this.rxNotificationService.addSuccessMessage("View definition saved successfully."),this.viewDefinitionSaved.emit(e),this.initViewDesigner()}),this.viewDesignerFacade.viewDefinitionLoadError$.pipe((0,f.takeUntil)(this.destroyed$)).subscribe(()=>this.viewDefinitionErrorLoading.emit()),this.hasValidationErrors$=this.validationIssues$.pipe((0,f.map)(e=>Boolean((0,h.filter)(e,{issues:[{type:d.ValidationIssueType.Error}]}).length)),(0,f.distinctUntilChanged)()),this.hasValidationWarning$=this.validationIssues$.pipe((0,f.map)(e=>Boolean((0,h.filter)(e,{issues:[{type:d.ValidationIssueType.Warning}]}).length)),(0,f.distinctUntilChanged)()),this.isSaveButtonDisabled$=(0,m.combineLatest)([this.hasValidationErrors$,this.viewDesignerFacade.areViewModelsReady$,this.isViewDefinitionChanged$,this.isReadOnly$]).pipe((0,f.map)(([e,t,n,i])=>e||!t||!n||i),(0,f.startWith)(!0)),this.isReadOnly$.pipe((0,f.takeUntil)(this.destroyed$)).subscribe(e=>{e&&this.rxNotificationService.addWarningMessage(this.translateService.instant("com.bmc.arsys.rx.client.designer.read-only-definition-warning.message"))}),this.rxFeatureService.isFeatureEnabled("DRD21-11744")&&this.viewDefinitionName$.pipe((0,f.take)(1)).subscribe(e=>{this.rxGainsightConfiguratorService.updateGlobalContext({subProductLevel1:{name:"Design"},subProductLevel2:{name:this.rxDefinitionNameService.getDisplayName(e)==l.RX_APPLICATION.shellDefinitionName?"Shell designer":"View designer"}})})}ngOnChanges(e){e.configuration.currentValue&&this.initViewDesigner(!0)}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete(),this.inspectorFocusEditorSubject.complete(),this.isViewDefinitionChanged$.complete(),this.rxDefinitionPickerCacheService.unRegisterConsumer(),this.viewDesignerFacade.destroyViewDesigner(),this.rxGainsightConfiguratorService.removeGlobalContext(["subProductLevel2","subProductLevel3"])}initViewDesigner(e=!1){var t;this.isViewDefinitionChanged$.getValue()&&this.isViewDefinitionChanged$.next(!1),null===(t=this.viewDefinitionChangeSubscription)||void 0===t||t.unsubscribe(),e&&this.viewDesignerFacade.initViewDesigner((0,h.pick)(this.configuration,["bundleId","viewDefinitionName","layoutTemplate"])),this.initViewDefinitionChangeSubscription()}initViewDefinitionChangeSubscription(){this.viewDefinitionChangeSubscription=this.viewDesignerFacade.areViewModelsReady$.pipe((0,f.filter)(Boolean),(0,f.take)(1),(0,f.switchMap)(()=>(0,m.combineLatest)([this.viewDesignerFacade.viewModel$,this.viewDesignerFacade.viewComponentModels$]).pipe((0,f.map)(([e,t])=>this.rxViewDefinitionGeneratorService.generate(e,t)),(0,f.distinctUntilChanged)(h.isEqual),(0,f.skip)(1),(0,f.take)(1),(0,f.takeUntil)(this.destroyed$))),(0,f.takeUntil)(this.destroyed$)).subscribe(()=>{this.isViewDefinitionChanged$.next(!0)})}onSelectComponent(e){this.viewDesignerFacade.selectComponent(e)}onDropComponent(e){this.viewDesignerFacade.insertComponent(e)}onRemoveComponent(e){this.rxUtilityModalsService.confirm("Are you sure you want to delete this view component?").then(t=>{t&&(this.viewDesignerFacade.removeViewComponents([e],!0),this.isPageView&&this.viewDesignerFacade.updateViewProperties({pageComponent:null}))})}onInspectorTabChange(e){this.viewDesignerFacade.selectInspectorTab({tabId:e.index})}toggleDesignMode(){this.isDesignMode&&this.viewDesignerFacade.generateViewDefinition(),this.isDesignMode=!this.isDesignMode}onComponentPropertiesChange(e){this.viewDesignerFacade.updateSelectedComponentProperties(e)}onEditorEvent(e,t){e.type===c.RX_VALIDATION_FORM_CONTROL.events.correctValidationIssue&&this.correctValidationIssue(e.payload.componentGuid,e.payload.propertyName),e.type===c.RX_REVERT_CUSTOMIZATION.events.revertCustomization&&this.revertCustomization(),e.type===c.RX_EXPRESSION_EDITOR.events.openExpressionEditor&&this.openExpressionEditor(e.payload,t)}getExpressionProperties(e){return(this.viewComponentPropertyInspectorElementRef===e?this.viewDesignerFacade.selectedComponentProperties$:this.viewDesignerFacade.viewModel$).pipe((0,f.map)(t=>Array.from(this.renderer.selectRootElement(e.nativeElement,!0).querySelectorAll("rx-expression-form-control")).map(e=>{const n=e.getAttribute("property-path");return{path:n,value:(0,h.get)(t,n),label:e.getAttribute("property-label")}})))}openExpressionEditor(e,t){const n=this.viewComponentPropertyInspectorElementRef===t,i=n?this.viewDesignerFacade.selectedComponentProperties$:this.viewDesignerFacade.viewModel$;(0,m.combineLatest)([this.viewDesignerFacade.selectedComponentGuid$,i]).pipe((0,f.take)(1),(0,f.switchMap)(([o,r])=>{const s=n?this.rxViewDesignerModels.get(o):this.rxViewModel,a=null==s?void 0:s.expressionConfigurator;return a?this.rxExpressionEditorService.openEditor({property:{path:e.propertyPath,value:(0,h.get)(r,e.propertyPath),label:e.propertyLabel},isReadOnly:e.isReadOnly,expressionConfigurator:a,legend:[{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.function.label"),icon:"d-icon-mathematical_function"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.keyword.label"),icon:"d-icon-dollar"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-component.label"),icon:"d-icon-file_o"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-component-property.label"),icon:"d-icon-file_o_gear"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-input-parameter.label"),icon:"d-icon-arrow_right_square_input"}],expressionPropertyNavigator:{getProperties:this.getExpressionProperties.bind(this,t)}}).pipe((0,f.withLatestFrom)(i),(0,f.map)(([{path:e,value:t},n])=>{if(n.hasOwnProperty(e))return{[e]:t};{const i=(0,h.toPath)(e)[0];return(0,h.set)({[i]:(0,h.cloneDeep)(n[i])},e,t)}})):(this.rxLogService.debug("View designer: Expression editor cannot be opened without expression configurator."),m.EMPTY)}),(0,f.takeUntil)(this.destroyed$)).subscribe(e=>n?this.viewDesignerFacade.updateSelectedComponentProperties(e):this.viewDesignerFacade.updateViewProperties(e))}saveViewDefinition(){this.viewDesignerFacade.viewModel$.pipe((0,f.take)(1),(0,f.switchMap)(e=>{const t=e.type===u.ViewDefinitionType.Shell?"If you save your changes now, you will not be able to run this application using the old UI. Do you want to continue?":"If you save this view definition, you will not be able to open it in the old view designer. Do you want to continue?";return e.isAngularJsView?this.rxModalService.confirm({title:"Warning",modalStyle:d.RX_MODAL.modalStyles.warning,message:t}):(0,m.of)(!0)}),(0,f.filter)(Boolean),(0,f.takeUntil)(this.destroyed$)).subscribe(()=>{this.viewDesignerFacade.saveViewDefinition()})}onCorrectIssue(e){this.correctValidationIssue(e.data.guid,e.data.propertyName,e.data.data)}correctValidationIssue(e,t,n){this.viewDesignerFacade.selectComponent(e),setTimeout(()=>this.inspectorFocusEditorSubject.next({editorName:t,data:n}),10)}revertCustomization(){this.viewDefinitionName$.pipe((0,f.switchMap)(e=>this.rxViewDefinitionService.revertCustomization(e)),(0,f.takeUntil)(this.destroyed$)).subscribe(()=>{this.rxComponentCanDeactivateGuard.disable(),window.location.reload()})}onViewPropertiesChange(e){this.viewDesignerFacade.updateViewProperties(e)}showPreview(){this.viewDesignerFacade.runPreview()}canDeactivate(){let e=!0;return(0,m.combineLatest)([this.isViewDefinitionChanged$,this.isReadOnly$]).pipe((0,f.map)(([e,t])=>!e||t),(0,f.take)(1)).subscribe(t=>{e=t}),e}onBeforeComponentDropInRoot(e){this.isExtensionView&&(this.isExtensionContainerSet?e.draggedViewComponentDescriptor.type!==u.RxViewComponentType.RecordEditor&&(this.rxNotificationService.addWarningMessage("This view component can only be added inside a Record editor."),e.preventDrop=!0):(this.rxNotificationService.addWarningMessage("Select Extension container before adding view components."),e.preventDrop=!0))}}on.\u0275fac=function(e){return new(e||on)(i["\u0275\u0275directiveInject"](Et),i["\u0275\u0275directiveInject"](l.RxNotificationService),i["\u0275\u0275directiveInject"](c.RxDefinitionPickerCacheService),i["\u0275\u0275directiveInject"](r.RxNamedListDefinitionCacheService),i["\u0275\u0275directiveInject"](d.RxModalService),i["\u0275\u0275directiveInject"](p.TranslateService),i["\u0275\u0275directiveInject"](d.RxUtilityModalsService),i["\u0275\u0275directiveInject"](Jt),i["\u0275\u0275directiveInject"](c.RxExpressionEditorService),i["\u0275\u0275directiveInject"](u.RxViewDefinitionService),i["\u0275\u0275directiveInject"](l.RxComponentCanDeactivateGuard),i["\u0275\u0275directiveInject"](Tt),i["\u0275\u0275directiveInject"](Dt),i["\u0275\u0275directiveInject"](l.RxLogService),i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](a.RxRecordDefinitionCacheService),i["\u0275\u0275directiveInject"](o.RxAssociationDefinitionCacheService),i["\u0275\u0275directiveInject"](s.RxProcessDefinitionCacheService),i["\u0275\u0275directiveInject"](u.RxViewDefinitionCacheService),i["\u0275\u0275directiveInject"](c.RxGainsightConfiguratorService),i["\u0275\u0275directiveInject"](l.RxDefinitionNameService),i["\u0275\u0275directiveInject"](l.RxFeatureService))},on.\u0275cmp=i["\u0275\u0275defineComponent"]({type:on,selectors:[["rx-view-designer"]],viewQuery:function(e,t){if(1&e&&(i["\u0275\u0275viewQuery"](L,5,i.ElementRef),i["\u0275\u0275viewQuery"](V,5,i.ElementRef)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.viewPropertyInspectorElementRef=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.viewComponentPropertyInspectorElementRef=e.first)}},inputs:{configuration:"configuration"},outputs:{viewDefinitionSaved:"viewDefinitionSaved",viewDefinitionErrorLoading:"viewDefinitionErrorLoading",closeDesigner:"closeDesigner"},features:[i["\u0275\u0275ProvidersFeature"]([Gt]),i["\u0275\u0275NgOnChangesFeature"]],decls:45,vars:87,consts:[[3,"bundleName","breadcrumbItems","isDesignMode","isPreviewAvailable","isSaveButtonDisabled","breadcrumbSelected","toggleDesignMode","showPreview","save","closeDesigner"],[1,"rx-component-view-designer",3,"hidden"],["rx-id","palette",3,"title","isExpanded","toggle"],[3,"components","allowedDropListIds",4,"ngIf"],["class","p-3",3,"config",4,"ngIf"],[1,"rx-view-designer-container"],[1,"flex-grow-1",3,"layout","isReadOnly","componentSelect","componentRemove","componentDrop","beforeComponentDropInRoot"],["dockTo","right","rx-id","properties",3,"title","isExpanded","toggle"],["customCssTabContent","p-0","justify","justified",3,"tab-active","tab-active-changed"],["icon","d-icon-pencil"],[3,"focusEditor$","config","model","isReadOnly","modelChange","editorEvent"],["viewPropertyInspector",""],["icon","d-icon-gear"],["rxInspector","",3,"designerItemModel","focusEditor$","config","model","guid","isReadOnly","modelChange","editorEvent"],["viewComponentPropertyInspector",""],[1,"p-3",3,"hidden","config"],["icon","d-icon-exclamation_triangle"],[3,"definitionTypeDisplayName","issueSections","correctIssue"],["class","full-size",3,"code","lang","hasToolbar","theme",4,"ngIf"],[3,"components","allowedDropListIds"],[1,"p-3",3,"config"],[1,"full-size",3,"code","lang","hasToolbar","theme"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"rx-designer-header",0),i["\u0275\u0275listener"]("breadcrumbSelected",function(e){return t.onSelectComponent(e.data.guid)})("toggleDesignMode",function(){return t.toggleDesignMode()})("showPreview",function(){return t.showPreview()})("save",function(){return t.saveViewDefinition()})("closeDesigner",function(){return t.closeDesigner.emit()}),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",1),i["\u0275\u0275elementStart"](6,"rx-blade",2),i["\u0275\u0275listener"]("toggle",function(){return t.isStencilExpanded=!t.isStencilExpanded}),i["\u0275\u0275template"](7,B,2,4,"rx-view-designer-palette",3),i["\u0275\u0275pipe"](8,"async"),i["\u0275\u0275template"](9,z,1,2,"adapt-alert",4),i["\u0275\u0275pipe"](10,"async"),i["\u0275\u0275template"](11,U,1,2,"adapt-alert",4),i["\u0275\u0275pipe"](12,"async"),i["\u0275\u0275pipe"](13,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"section",5),i["\u0275\u0275elementStart"](15,"rx-view-designer-canvas",6),i["\u0275\u0275listener"]("componentSelect",function(e){return t.onSelectComponent(e)})("componentRemove",function(e){return t.onRemoveComponent(e)})("componentDrop",function(e){return t.onDropComponent(e)})("beforeComponentDropInRoot",function(e){return t.onBeforeComponentDropInRoot(e)}),i["\u0275\u0275pipe"](16,"async"),i["\u0275\u0275pipe"](17,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"rx-blade",7),i["\u0275\u0275listener"]("toggle",function(){return t.isInspectorExpanded=!t.isInspectorExpanded}),i["\u0275\u0275elementStart"](19,"adapt-tabset",8),i["\u0275\u0275listener"]("tab-active-changed",function(e){return t.onInspectorTabChange(e)}),i["\u0275\u0275pipe"](20,"async"),i["\u0275\u0275pipe"](21,"async"),i["\u0275\u0275pipe"](22,"async"),i["\u0275\u0275elementStart"](23,"adapt-tab-panel",9),i["\u0275\u0275elementStart"](24,"rx-form-builder",10,11),i["\u0275\u0275listener"]("modelChange",function(e){return t.onViewPropertiesChange(e)})("editorEvent",function(e){return t.onEditorEvent(e,t.viewPropertyInspectorElementRef)}),i["\u0275\u0275pipe"](26,"async"),i["\u0275\u0275pipe"](27,"async"),i["\u0275\u0275pipe"](28,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"adapt-tab-panel",12),i["\u0275\u0275elementStart"](30,"rx-form-builder",13,14),i["\u0275\u0275listener"]("modelChange",function(e){return t.onComponentPropertiesChange(e)})("editorEvent",function(e){return t.onEditorEvent(e,t.viewComponentPropertyInspectorElementRef)}),i["\u0275\u0275pipe"](32,"async"),i["\u0275\u0275pipe"](33,"async"),i["\u0275\u0275pipe"](34,"async"),i["\u0275\u0275pipe"](35,"async"),i["\u0275\u0275pipe"](36,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](37,"adapt-alert",15),i["\u0275\u0275pipe"](38,"async"),i["\u0275\u0275pipe"](39,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](40,"adapt-tab-panel",16),i["\u0275\u0275elementStart"](41,"rx-validation-issues",17),i["\u0275\u0275listener"]("correctIssue",function(e){return t.onCorrectIssue(e)}),i["\u0275\u0275pipe"](42,"translate"),i["\u0275\u0275pipe"](43,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](44,H,3,8,"adapt-code-viewer",18)),2&e&&(i["\u0275\u0275property"]("bundleName",i["\u0275\u0275pipeBind1"](1,35,t.viewDesignerFacade.bundleFriendlyName$))("breadcrumbItems",i["\u0275\u0275pipeBind1"](2,37,t.breadcrumbItems$))("isDesignMode",t.isDesignMode)("isPreviewAvailable",i["\u0275\u0275pipeBind1"](3,39,t.isPreviewAvailable$))("isSaveButtonDisabled",i["\u0275\u0275pipeBind1"](4,41,t.isSaveButtonDisabled$)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("hidden",!t.isDesignMode),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("title","Palette")("isExpanded",t.isStencilExpanded),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.isPageView&&!i["\u0275\u0275pipeBind1"](8,43,t.isReadOnly$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.isPageView&&!i["\u0275\u0275pipeBind1"](10,45,t.isReadOnly$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](12,47,!i["\u0275\u0275pipeBind1"](13,49,t.viewDesignerFacade.isViewDefinitionLoading$)&&t.isReadOnly$)),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("layout",i["\u0275\u0275pipeBind1"](16,51,t.canvasLayout$))("isReadOnly",i["\u0275\u0275pipeBind1"](17,53,t.isReadOnly$)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("title","Properties")("isExpanded",t.isInspectorExpanded),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("has-validation-warning",i["\u0275\u0275pipeBind1"](20,55,t.hasValidationWarning$))("has-validation-errors",i["\u0275\u0275pipeBind1"](21,57,t.hasValidationErrors$)),i["\u0275\u0275property"]("tab-active",i["\u0275\u0275pipeBind1"](22,59,t.viewDesignerFacade.selectedInspectorTabId$)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("focusEditor$",t.inspectorFocusEditor$)("config",i["\u0275\u0275pipeBind1"](26,61,t.viewDesignerFacade.viewInspectorLayout$))("model",i["\u0275\u0275pipeBind1"](27,63,t.viewDesignerFacade.viewModel$))("isReadOnly",i["\u0275\u0275pipeBind1"](28,65,t.isReadOnly$)),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("designerItemModel",i["\u0275\u0275pipeBind1"](32,67,t.selectedComponentModel$))("focusEditor$",t.inspectorFocusEditor$)("config",i["\u0275\u0275pipeBind1"](33,69,t.viewDesignerFacade.selectedComponentInspectorLayout$))("model",i["\u0275\u0275pipeBind1"](34,71,t.viewDesignerFacade.selectedComponentProperties$))("guid",i["\u0275\u0275pipeBind1"](35,73,t.viewDesignerFacade.selectedComponentGuid$))("isReadOnly",i["\u0275\u0275pipeBind1"](36,75,t.isReadOnly$)),i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("hidden",!i["\u0275\u0275pipeBind1"](38,77,t.viewComponentInspectorEmptyText$))("config",i["\u0275\u0275pureFunction1"](85,X,i["\u0275\u0275pipeBind1"](39,79,t.viewComponentInspectorEmptyText$))),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("definitionTypeDisplayName",i["\u0275\u0275pipeBind1"](42,81,"com.bmc.arsys.rx.client.view-definition.label"))("issueSections",i["\u0275\u0275pipeBind1"](43,83,t.validationIssues$)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",!t.isDesignMode))},directives:[c.RxDesignerHeaderComponent,d.RxBladeComponent,x.NgIf,Wt,C.AdaptTabsComponent,C.AdaptTabsPanelComponent,c.FormBuilderComponent,c.InspectorDirective,C.AdaptAlertComponent,d.RxValidationIssuesComponent,tn,C.AdaptCodeViewerComponent],pipes:[x.AsyncPipe,p.TranslatePipe,x.JsonPipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}.rx-component-view-designer[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:calc(100% - 50px);overflow:hidden}.rx-view-designer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:auto;padding:2.2rem 1rem 1rem}[_nghost-%COMP%]     .has-validation-warning:not(.has-validation-errors) .nav-link .d-icon-exclamation_triangle{color:#f1b521}[_nghost-%COMP%]     .has-validation-errors .nav-link .d-icon-exclamation_triangle{color:#f83200}[_nghost-%COMP%]     adapt-tabset .nav-tabs .nav-link-icon{margin-right:0}']});class rn{}rn.\u0275fac=function(e){return new(e||rn)},rn.\u0275mod=i["\u0275\u0275defineNgModule"]({type:rn,declarations:[Wt,Xt,Qt,Zt,Yt],imports:[x.CommonModule,w.DragDropModule],exports:[Wt,Zt,Xt,Yt]}),rn.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[x.CommonModule,w.DragDropModule]]});class sn{}sn.\u0275fac=function(e){return new(e||sn)},sn.\u0275mod=i["\u0275\u0275defineNgModule"]({type:sn,declarations:[Kt],imports:[rn,x.CommonModule]}),sn.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[rn,x.CommonModule]]});class an{}an.\u0275fac=function(e){return new(e||an)},an.\u0275mod=i["\u0275\u0275defineNgModule"]({type:an,declarations:[tn],imports:[x.CommonModule,w.DragDropModule,b.ReactiveFormsModule,C.AdaptAccordionModule,_.AdaptTextFieldModule,C.AdaptRxSearchModule],exports:[tn]}),an.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[x.CommonModule,w.DragDropModule,b.ReactiveFormsModule,C.AdaptAccordionModule,_.AdaptTextFieldModule,C.AdaptRxSearchModule]]});class ln extends d.RxModalClass{constructor(e,t){super(e,t),this.activeModalRef=e,this.injector=t,this.inputParams={},this.inputParamNames=this.activeModalRef.getData().inputParams}isDirty(){return(0,h.values)(this.inputParams).some(e=>e)}cancel(){this.activeModalRef.dismiss(C.DismissReasons.CLOSE_BTN)}}ln.\u0275fac=function(e){return new(e||ln)(i["\u0275\u0275directiveInject"](C.ActiveModalRef),i["\u0275\u0275directiveInject"](i.Injector))},ln.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ln,selectors:[["rx-runtime-view-params-modal"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:7,vars:1,consts:[[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["btn-type","primary","rx-id","ok-button",3,"click"],["btn-type","secondary","rx-id","cancel-button",3,"click"],[3,"label","autofocus","ngModel","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,W,2,4,"div",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"adapt-button",3),i["\u0275\u0275listener"]("click",function(){return t.activeModalRef.close(t.inputParams)}),i["\u0275\u0275text"](4," OK "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"adapt-button",4),i["\u0275\u0275listener"]("click",function(){return t.cancel()}),i["\u0275\u0275text"](6," Cancel "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.inputParamNames))},directives:[x.NgForOf,C.AdaptButtonComponent,C.AdaptRxTextfieldComponent,b.NgControlStatus,b.NgModel],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;border-top:1px solid #d6d7d8;padding:10px 15px}.modal-footer[_ngcontent-%COMP%]   adapt-button[_ngcontent-%COMP%]{margin-right:5px}']});class cn{}cn.\u0275fac=function(e){return new(e||cn)},cn.\u0275mod=i["\u0275\u0275defineNgModule"]({type:cn,declarations:[ln],imports:[x.CommonModule,b.FormsModule,C.AdaptButtonModule,C.AdaptModalModule,C.AdaptRxTextfieldModule],exports:[ln]}),cn.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[x.CommonModule,b.FormsModule,C.AdaptButtonModule,C.AdaptModalModule,C.AdaptRxTextfieldModule]]});class dn extends Nt{constructor(e,t,n){super(e),this.injector=e,this.actionType=t,this.actionGuid=n,this.rxViewDataDictionaryService=this.injector.get(kt),this.rxDefaultExpressionEvaluatorService=this.injector.get(u.RxDefaultExpressionEvaluatorService),this.rxViewActionRegistryService=this.injector.get(u.RxViewActionRegistryService),this.commonDataDictionary$=this.rxViewDataDictionaryService.getActionDataDictionary(this.actionGuid)}getExpressionEvaluator(e){const t=this.rxViewActionRegistryService.get(this.actionType).parameters.find(t=>t.name===e);return(0,h.get)(t,"evaluatorService",this.rxDefaultExpressionEvaluatorService)}}class un extends Nt{constructor(e,t){super(t),this.fieldDefinition=e,this.injector=t,this.rxNamedListDefinitionCacheService=this.injector.get(r.RxNamedListDefinitionCacheService),this.rxRecordDefinitionCacheService=this.injector.get(a.RxRecordDefinitionCacheService),this.rxViewDataDictionaryService=this.injector.get(kt),this.rxDefaultExpressionEvaluatorService=this.injector.get(u.RxDefaultExpressionEvaluatorService),this.commonDataDictionary$=this.rxNamedListDefinitionCacheService.getNamedListDefinition(this.fieldDefinition.namedListDefinition).pipe((0,f.switchMap)(e=>this.rxRecordDefinitionCacheService.getRecordDefinition(e.recordDefinitionName)),(0,f.switchMap)(e=>this.getNamedListBranch(e)),(0,f.withLatestFrom)(this.rxViewDataDictionaryService.getCommonDataDictionary()),(0,f.map)(([e,t])=>[e,...t]))}getExpressionEvaluator(){return this.rxDefaultExpressionEvaluatorService}getDefaultConfig(){return Object.assign(Object.assign({},super.getDefaultConfig()),{operators:l.ExpressionOperatorRowsByGroup.get(l.ExpressionOperatorGroup.AllServer)})}getNamedListBranch(e){const t=(0,h.chain)(e.fieldDefinitions).reject({resourceType:a.RX_RECORD_DEFINITION.resourceTypes.attachment}).map(e=>({label:e.name,expression:`'${e.id}'`,icon:"d-icon-file_o_gear",children:e.resourceType===a.RX_RECORD_DEFINITION.resourceTypes.selection?[{label:"Options",children:(0,h.map)(e.optionNamesById,(e,t)=>({label:e,expression:t,icon:"d-icon-file_o_gear"}))}]:[]})).sortBy("label").value();return(0,m.of)({label:"Filter by",expanded:!0,children:t})}}class pn{constructor(e,t,n,i){this.injector=e,this.descriptor=t,this.guid=n,this.initialProps=i,this.destroyedSubject=new m.Subject,this.viewDesignerFacade=this.injector.get(Et),this.actionPropertyEditorConfigSubject=new m.BehaviorSubject([]),this.actionPropertiesSubject=new m.BehaviorSubject(this.initialProps),this.children=[],this.children$=this.viewDesignerFacade.getChildComponents(this.guid),this.destroyed$=this.destroyedSubject.asObservable(),this.actionPropertyEditorConfig$=this.actionPropertyEditorConfigSubject.pipe((0,f.takeUntil)(this.destroyed$)),this.actionProperties$=this.actionPropertiesSubject.pipe((0,f.map)(()=>(0,h.omit)(this.getActionProperties(),["name"])),(0,f.distinctUntilChanged)(h.isEqual),(0,f.takeUntil)(this.destroyed$)),this.children$.pipe((0,f.first)(),(0,f.takeUntil)(this.destroyed$)).subscribe(e=>{this.setChildren(e)})}updateActionProperties(e){this.actionPropertiesSubject.next(Object.assign(Object.assign({},this.actionPropertiesSubject.getValue()),e))}setActionProperties(e){const{name:t,index:n}=this.actionPropertiesSubject.getValue();this.actionPropertiesSubject.next(Object.assign(Object.assign({$condition$:null},e),{name:t,index:n}))}getActionProperties(){return this.actionPropertiesSubject.getValue()}getActionPropertyValue(e){return this.actionPropertiesSubject.getValue()[e]}setActionPropertyEditorConfig(e){const t=new dn(this.injector,this.descriptor.name,this.guid);e=[{name:"$condition$",component:c.ExpressionFormControlComponent,options:{label:"Condition",tooltip:new l.Tooltip("The action will execute if the condition is true, or if no condition is defined."),dataDictionary$:t.getDataDictionary(),operators:t.getOperators()}},...e],this.actionPropertyEditorConfigSubject.next(e)}getActionPropertyEditorConfig(){return this.actionPropertyEditorConfigSubject.getValue()}setActionOutputDataDictionary(e){this.viewDesignerFacade.setActionDataDictionaryBranch(this.guid,this.getActionPropertyValue("index"),this.descriptor.label,e)}setChildren(e){this.children=e}getChildren(){return this.children}onDestroy(){this.destroyedSubject.next(),this.destroyedSubject.complete()}}class hn{constructor(e,t){this.injector=e,this.sandbox=t,this.guid=this.sandbox.guid,this.expressionConfigurator=new dn(this.injector,this.sandbox.descriptor.name,this.sandbox.guid)}getExpressionConfigurator(){return this.expressionConfigurator}getPropertiesByName(){return this.sandbox.getActionProperties()}getChildren(){return this.sandbox.getChildren()}getOutputExpressionForPropertyPath(e){return`\${view.components.${this.guid}.output.${e}}`}}class mn extends hn{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.defaultProps=this.sandbox.descriptor.parameters.reduce((e,t)=>(e[t.name]=t.defaultValue,e),{}),this.sandbox.actionProperties$.pipe((0,f.take)(1)).subscribe(e=>{this.sandbox.updateActionProperties(Object.assign(Object.assign({},this.defaultProps),e)),this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig())})}getActionEditorConfig(){return this.sandbox.descriptor.parameters.filter(e=>e.editor).map(e=>({name:e.name,component:e.editor,options:Object.assign({label:e.label,isRequired:e.isRequired,tooltip:e.tooltip},e.editor===c.ExpressionFormControlComponent?{dataDictionary$:this.expressionConfigurator.getDataDictionary(e.name),operators:this.expressionConfigurator.getOperators(e.name)}:e.editorOptions||{})}))}}class fn{constructor(e){this.injector=e,this.models=new Map}create(e,t,n){var i;const o=new pn(this.injector,e,t,(0,h.isFunction)(null===(i=null==e?void 0:e.designModel)||void 0===i?void 0:i.getInitialProperties)?Object.assign(Object.assign({},e.designModel.getInitialProperties((0,h.omit)(n,["index","name"]))),{name:n.name,index:n.index}):n),r=new(e.designModel||mn)(this.injector,o);return this.models.set(t,r),r}remove(e){this.models.delete(e)}get(e){return this.models.get(e)}ngOnDestroy(){this.models.forEach(e=>e.sandbox.onDestroy()),this.models.clear()}}fn.\u0275fac=function(e){return new(e||fn)(i["\u0275\u0275inject"](i.Injector))},fn.\u0275prov=i["\u0275\u0275defineInjectable"]({token:fn,factory:fn.\u0275fac});class gn extends d.RxModalClass{constructor(e,t,n,i,o,r,s,a,l){super(n,l),this.rxViewActionRegistryService=e,this.rxStringService=t,this.activeModalRef=n,this.viewDesignerFacade=i,this.rxActionListModelManagerService=o,this.rxExpressionEditorService=r,this.rxGuidService=s,this.translateService=a,this.injector=l,this.availableActionDescriptors$=this.rxViewActionRegistryService.getLicensedActions(),this.selectedActions=[],this.config=this.activeModalRef.getData(),this.treeWrap=C.TreeWrap.WrapAll,this.destroyed$=new m.ReplaySubject(1),this.isEditorDirtySubject=new m.BehaviorSubject(!1),this.isSaveButtonDisabled$=this.isEditorDirtySubject.asObservable().pipe((0,f.map)(e=>!e)),this.availableActionTreeNodes$=this.availableActionDescriptors$.pipe((0,f.map)(e=>e.filter(e=>!e.hidden).sort((e,t)=>e.label.localeCompare(t.label)).map(e=>({data:e,label:e.label})))),this.actionLabelsMap$=this.availableActionDescriptors$.pipe((0,f.map)(e=>(0,h.transform)(e,(e,t)=>{e[t.name]=t.label},{}))),this.config.selectedActions=(0,h.map)(this.config.selectedActions,e=>Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{index:(0,C.toNumber)(e.data.index)})})),this.selectedActions=(0,h.flow)(e=>(0,h.sortBy)(e,e=>e.data.index),e=>(0,h.map)(e,e=>{const t=this.rxViewActionRegistryService.get(e.data.name);this.viewDesignerFacade.setActionDataDictionaryBranch(e.guid,e.data.index,e.data.name);const n=this.rxActionListModelManagerService.create(t,e.guid,e.data);return{isOpen:Boolean(this.config.actionToEdit)&&e.guid===this.config.actionToEdit.guid,model:n,config$:n.sandbox.actionPropertyEditorConfig$.pipe((0,f.map)(e=>[{controls:e}])),name:t.name}}))(this.config.selectedActions)}isDirty(){return this.isEditorDirtySubject.getValue()}addAction(e,t=this.selectedActions.length){const n=this.rxGuidService.generate();this.viewDesignerFacade.setActionDataDictionaryBranch(n,t,e.name);const i=this.rxActionListModelManagerService.create(e,n,{name:e.name,index:t});this.selectedActions.splice(t,0,{isOpen:!0,model:i,config$:i.sandbox.actionPropertyEditorConfig$.pipe((0,f.map)(e=>[{controls:e}])),name:e.name}),this.updateIndexProp(),this.markEditorAsDirty(),setTimeout(()=>{this.accordionTabEls.toArray()[t].nativeElement.scrollIntoView({block:"nearest"})})}onSave(){const e=this.selectedActions.map(e=>{var t,n,i;return{guid:e.model.guid,data:e.model.getPropertiesByName(),children:null!==(i=null===(n=(t=e.model).getChildren)||void 0===n?void 0:n.call(t))&&void 0!==i?i:null}});this.activeModalRef.close(e)}removeAction(e){(0,h.pull)(this.selectedActions,e),this.rxActionListModelManagerService.remove(e.model.guid),this.viewDesignerFacade.removeActionDataDictionaryBranch(e.model.guid),this.markEditorAsDirty()}moveAction(e,t){(0,w.moveItemInArray)(this.selectedActions,e,t),this.updateIndexProp(),this.markEditorAsDirty()}toggleOpen(e){this.selectedActions.forEach(t=>t.isOpen=e)}onSelectedActionsListDrop(e){var t;const n=e.item.data;(null===(t=n.model)||void 0===t?void 0:t.guid)?this.moveAction(e.previousIndex,e.currentIndex):this.addAction(n,e.currentIndex)}openExpressionEditor(e,t,n,i=!1,o){this.rxExpressionEditorService.openEditor({property:{path:t,value:(0,h.get)(e.sandbox.getActionProperties(),t),label:n},isReadOnly:i,expressionConfigurator:e.getExpressionConfigurator(),legend:[{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.function.label"),icon:"d-icon-mathematical_function"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.keyword.label"),icon:"d-icon-dollar"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-component.label"),icon:"d-icon-file_o"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-component-property.label"),icon:"d-icon-file_o_gear"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-input-parameter.label"),icon:"d-icon-arrow_right_square_input"}],expressionPropertyNavigator:{getProperties:()=>{const t=Array.from(o.querySelectorAll("rx-expression-form-control")).map(t=>{const n=t.getAttribute("property-path");return{path:n,value:(0,h.get)(e.sandbox.getActionProperties(),n),label:t.getAttribute("property-label")}});return(0,m.of)(t)}}}).pipe((0,f.map)(({path:t,value:n})=>{const i=e.sandbox.getActionProperties(),o=t in i?t:(0,h.toPath)(t)[0];return(0,h.set)({[o]:(0,h.cloneDeep)(i[o])},t,n)})).subscribe(t=>{e.sandbox.updateActionProperties(t),this.markEditorAsDirty()})}onEvent(e,t,n){e.type===c.RX_EXPRESSION_EDITOR.events.openExpressionEditor&&this.openExpressionEditor(t,e.payload.propertyPath,e.payload.propertyLabel,e.payload.isReadOnly,n)}updateIndexProp(){this.selectedActions.forEach((e,t)=>{e.model.sandbox.updateActionProperties({index:t})}),this.viewDesignerFacade.updateActionDataDictionaryBranchOrder(this.selectedActions.reduce((e,t,n)=>(e[t.model.guid]=n,e),{}))}markEditorAsDirty(){this.isEditorDirtySubject.next(!0)}ngAfterViewInit(){const e=(0,h.findIndex)(this.selectedActions,"isOpen");-1!==e&&this.accordionTabEls.toArray()[e].nativeElement.scrollIntoView({block:"nearest"})}ngOnDestroy(){this.isEditorDirtySubject.complete(),this.destroyed$.next(!0),this.destroyed$.complete(),this.viewDesignerFacade.removeAllActionDataDictionaryBranches()}cancel(){this.activeModalRef.dismiss(C.DismissReasons.CLOSE_BTN)}}gn.\u0275fac=function(e){return new(e||gn)(i["\u0275\u0275directiveInject"](u.RxViewActionRegistryService),i["\u0275\u0275directiveInject"](g.RxStringService),i["\u0275\u0275directiveInject"](C.ActiveModalRef),i["\u0275\u0275directiveInject"](Et),i["\u0275\u0275directiveInject"](fn),i["\u0275\u0275directiveInject"](c.RxExpressionEditorService),i["\u0275\u0275directiveInject"](g.RxGuidService),i["\u0275\u0275directiveInject"](p.TranslateService),i["\u0275\u0275directiveInject"](i.Injector))},gn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:gn,selectors:[["rx-action-list-editor-dialog"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](C.AdaptAccordionTabComponent,5,i.ElementRef),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.accordionTabEls=e)}},features:[i["\u0275\u0275ProvidersFeature"]([fn]),i["\u0275\u0275InheritDefinitionFeature"]],decls:22,vars:20,consts:[[1,"designer-modal-body","modal-body","d-flex","mh-100"],[1,"row","flex-grow-1","w-100"],["class","col-4 border-right d-flex flex-column mh-100",4,"ngIf"],[1,"d-flex","align-items-start","justify-content-between"],[1,"d-flex","align-items-center"],[1,"mt-2"],["name","question_circle_o","appendToBody","true",1,"ml-2",3,"adaptPopover"],["class","btn-group",4,"ngIf"],["id","selected-action-list","cdkDropList","",1,"designer-modal-accordion-wrapper",3,"cdkDropListDropped"],[3,"multiselect"],["class","designer-modal-accordion-content","cdkDrag","","cdkDragLockAxis","y",3,"cdkDragData","cdkDragDisabled",4,"ngFor","ngForOf"],["class","d-flex justify-content-center h-100 align-items-center mt-2",4,"ngIf"],[1,"modal-footer"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click",4,"ngIf"],["adapt-button","","btn-type","secondary","type","button","rx-id","cancel-button",3,"click"],[1,"col-4","border-right","d-flex","flex-column","mh-100"],[1,"rx-card","card","flex-grow-1","mt-2"],["class","card-block",4,"ngIf"],[1,"card-block"],["cdkDropList","","cdkDropListSortingDisabled","",3,"cdkDropListConnectedTo",4,"ngIf","ngIfElse"],["adaptTreeEmptyStateTemplate",""],["cdkDropList","","cdkDropListSortingDisabled","",3,"cdkDropListConnectedTo"],["filter","true",3,"value","wrap"],["adaptTreeNodeTemplate",""],["class","rx-tree-draggable-node","cdkDrag","",3,"cdkDragData",4,"ngIf"],["cdkDrag","",1,"rx-tree-draggable-node",3,"cdkDragData"],[3,"dblclick"],["type","button",1,"rx-button-unstyled","d-icon-plus_circle",3,"click"],[1,"rx-tree-node-label","ml-3"],[1,"d-flex","justify-content-center","h-100","align-items-center","mt-2"],["type","search",1,"w-100",3,"label"],[1,"btn-group"],["adapt-button","","btn-type","tertiary","type","button","rx-id","expand-all-button",3,"click"],["adapt-button","","btn-type","tertiary","type","button","rx-id","collapse-all-button",3,"click"],["cdkDrag","","cdkDragLockAxis","y",1,"designer-modal-accordion-content",3,"cdkDragData","cdkDragDisabled"],["container",""],["class","designer-modal-drag-handle d-icon-left-dots","cdkDragHandle","",4,"ngIf"],[1,"d-block",3,"isOpen","open","close"],[1,"card-title-text","w-100"],[1,"designer-modal-card-title-content"],[1,"left-header-block"],["class","rx-ellipsis","rx-id","card-title",3,"title",4,"ngIf"],["class","right-header-block",4,"ngIf"],[1,"d-block",3,"config","model","isReadOnly","modelChange","editorEvent"],["cdkDragHandle","",1,"designer-modal-drag-handle","d-icon-left-dots"],["rx-id","card-title",1,"rx-ellipsis",3,"title"],[1,"right-header-block"],[1,"designer-modal-card-title-index-buttons"],["type","button","rx-id","move-down-button",1,"d-icon-left-triangle_down","rx-button-unstyled",3,"disabled","click"],["type","button","rx-id","move-up-button",1,"d-icon-left-triangle_up","rx-button-unstyled",3,"disabled","click"],["adapt-button","","size","small","type","button","rx-id","remove-button",1,"d-icon-left-cross_adapt","p-1","pr-4","ml-3",3,"click"],["type","config",1,"w-100",3,"label"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275template"](2,J,8,6,"div",2),i["\u0275\u0275elementStart"](3,"div"),i["\u0275\u0275elementStart"](4,"div",3),i["\u0275\u0275elementStart"](5,"div",4),i["\u0275\u0275elementStart"](6,"h4",5),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](9,"adapt-icon",6),i["\u0275\u0275pipe"](10,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](11,ee,7,6,"div",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",8),i["\u0275\u0275listener"]("cdkDropListDropped",function(e){return t.onSelectedActionsListDrop(e)}),i["\u0275\u0275elementStart"](13,"adapt-accordion",9),i["\u0275\u0275template"](14,oe,13,17,"div",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](15,re,3,3,"div",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",12),i["\u0275\u0275template"](17,se,4,6,"button",13),i["\u0275\u0275elementStart"](18,"button",14),i["\u0275\u0275listener"]("click",function(){return t.cancel()}),i["\u0275\u0275text"](19),i["\u0275\u0275pipe"](20,"translate"),i["\u0275\u0275pipe"](21,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275classMapInterpolate1"]("d-flex flex-column mh-100 ",t.config.isReadOnly?"col":"col-8",""),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](8,12,"com.bmc.arsys.rx.client.view-components.action-list.selected-actions.title")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate"]("adaptPopover",i["\u0275\u0275pipeBind1"](10,14,"com.bmc.arsys.rx.client.view-components.action-list.selected-actions.tooltip")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.selectedActions.length),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("multiselect",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.selectedActions),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.selectedActions.length),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.config.isReadOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.config.isReadOnly?i["\u0275\u0275pipeBind1"](20,16,"com.bmc.arsys.rx.client.common.close.label"):i["\u0275\u0275pipeBind1"](21,18,"com.bmc.arsys.rx.client.common.cancel.label")," "))},directives:[x.NgIf,C.AdaptIconComponent,C.AdaptPopoverDirective,w.CdkDropList,C.AdaptAccordionComponent,x.NgForOf,C.AdaptButtonComponent,C.AdaptTreeComponent,C.AdaptTreeNodeTemplateDirective,w.CdkDrag,C.AdaptEmptyStateComponent,C.AdaptAccordionTabComponent,c.FormBuilderComponent,w.CdkDragHandle],pipes:[p.TranslatePipe,x.AsyncPipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.designer-modal-body[_ngcontent-%COMP%]{height:645px;min-height:calc(100% - 61px)!important}.designer-modal-accordion-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:auto;padding-top:10px}.designer-modal-accordion-content[_ngcontent-%COMP%]{position:relative}.designer-modal-accordion-content.cdk-drag-preview[_ngcontent-%COMP%]{z-index:1200!important}.designer-modal-drag-handle[_ngcontent-%COMP%]{cursor:move;position:absolute;top:0;left:0;height:46px;padding:14px 10px 14px 14px;z-index:1}.designer-modal-card-title-content[_ngcontent-%COMP%]{width:100%;display:flex}.designer-modal-card-title-content[_ngcontent-%COMP%]   .left-header-block[_ngcontent-%COMP%], .designer-modal-card-title-content[_ngcontent-%COMP%]   .right-header-block[_ngcontent-%COMP%]{display:flex;align-items:center}.designer-modal-card-title-content[_ngcontent-%COMP%]   .left-header-block[_ngcontent-%COMP%]{flex-grow:1;min-width:0;font-size:14px;padding-left:22px}.designer-modal-card-sub-title[_ngcontent-%COMP%]{color:#7c7f81;font-weight:normal}.designer-modal-card-title-index-buttons[_ngcontent-%COMP%]{display:flex;font-size:19px}.rx-card[_ngcontent-%COMP%]{overflow:auto}.rx-tree-draggable-node[_ngcontent-%COMP%]{cursor:pointer}.rx-tree-draggable-node.cdk-drag-preview[_ngcontent-%COMP%]{z-index:1200!important}.rx-tree-draggable-node.cdk-drag[_ngcontent-%COMP%]{opacity:1}.rx-tree-node-label[_ngcontent-%COMP%]{word-break:break-all}rx-form-builder[_ngcontent-%COMP%]{max-width:400px}[_nghost-%COMP%]  .a-tree__node_leaf .a-tree__toggle{display:none}']});class vn{}vn.\u0275fac=function(e){return new(e||vn)},vn.\u0275mod=i["\u0275\u0275defineNgModule"]({type:vn,declarations:[gn],imports:[x.CommonModule,C.AdaptRxSearchModule,C.AdaptButtonModule,C.AdaptAccordionModule,w.DragDropModule,C.AdaptEmptyStateModule,c.ExpressionEditorModule,b.FormsModule,c.RxFormBuilderModule,C.AdaptIconModule,C.AdaptPopoverModule,p.TranslateModule,C.AdaptTreeModule],exports:[gn]}),vn.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[x.CommonModule,C.AdaptRxSearchModule,C.AdaptButtonModule,C.AdaptAccordionModule,w.DragDropModule,C.AdaptEmptyStateModule,c.ExpressionEditorModule,b.FormsModule,c.RxFormBuilderModule,C.AdaptIconModule,C.AdaptPopoverModule,p.TranslateModule,C.AdaptTreeModule]]});class yn extends c.ValueAccessor{constructor(e,t){super(),this.rxModalService=e,this.rxViewActionRegistryService=t,this.availableActions$=this.rxViewActionRegistryService.getLicensedActions(),this.selectedActions=[],this.availableActions$.subscribe(e=>{this.actionLabelsMap=(0,h.transform)(e,(e,t)=>{e[t.name]=t.label},{})})}focus(e){(null==e?void 0:e.actionIndex)>=0?this.openActionSelector(this.selectedActions.find(t=>t.data.index===e.actionIndex)):this.openActionSelector()}openActionSelector(e){this.rxModalService.openModal({title:"Edit actions",data:{selectedActions:this.value,actionToEdit:e,isReadOnly:this.isDisabled},content:gn,size:u.OpenViewActionModalSize.Large,testID:"edit-actions"}).then(e=>{this.value=e}).catch(h.noop)}onSetValue(){this.updateSortedActionsList()}onWriteValue(e){this.updateSortedActionsList()}removeAction(e){this.value=(0,h.without)(this.value,e)}editAction(e){this.openActionSelector(e)}updateSortedActionsList(){this.selectedActions=(0,h.sortBy)(this.value,e=>e.data.index)}}yn.\u0275fac=function(e){return new(e||yn)(i["\u0275\u0275directiveInject"](d.RxModalService),i["\u0275\u0275directiveInject"](u.RxViewActionRegistryService))},yn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:yn,selectors:[["rx-action-list-control"]],inputs:{options:"options",tooltip:"tooltip"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:b.NG_VALUE_ACCESSOR,useExisting:yn,multi:!0}]),i["\u0275\u0275InheritDefinitionFeature"]],decls:7,vars:3,consts:[["rx-id","open-modal-button","btn-type","tertiary",1,"px-0","py-0","pb-1",3,"click"],["name","plus_circle",1,"mr-1"],["class","align-middle",4,"ngIf"],["rx-id","columns"],["class","text-tertiary",4,"ngIf"],["class","list-unstyled mb-0",4,"ngIf"],[1,"align-middle"],[1,"letter-space"],["appendToBody","true",3,"name","adaptPopover"],[1,"text-tertiary"],[1,"list-unstyled","mb-0"],["class","border px-2 py-1 mb-1 d-flex align-items-center",4,"ngFor","ngForOf"],[1,"border","px-2","py-1","mb-1","d-flex","align-items-center"],[1,"mr-auto"],["adapt-button","","btn-type","tertiary","size","small","type","button",1,"d-icon-left-pencil","p-1",3,"click"],["class","d-icon-left-cross_adapt p-1","adapt-button","","btn-type","tertiary","size","small","type","button",3,"click",4,"ngIf"],["adapt-button","","btn-type","tertiary","size","small","type","button",1,"d-icon-left-cross_adapt","p-1",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"adapt-button",0),i["\u0275\u0275listener"]("click",function(){return t.openActionSelector()}),i["\u0275\u0275element"](1,"adapt-icon",1),i["\u0275\u0275text"](2," Edit actions\n"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,ae,3,2,"span",2),i["\u0275\u0275elementStart"](4,"div",3),i["\u0275\u0275template"](5,le,2,0,"span",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,ue,2,1,"ul",5)),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.tooltip),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",0===t.selectedActions.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.selectedActions.length>0))},directives:[C.AdaptButtonComponent,C.AdaptIconComponent,x.NgIf,C.AdaptPopoverDirective,x.NgForOf],encapsulation:2});class bn{}bn.\u0275fac=function(e){return new(e||bn)},bn.\u0275mod=i["\u0275\u0275defineNgModule"]({type:bn,declarations:[yn],imports:[x.CommonModule,C.AdaptIconModule,C.AdaptButtonModule,vn,C.AdaptPopoverModule],exports:[yn]}),bn.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[x.CommonModule,C.AdaptIconModule,C.AdaptButtonModule,vn,C.AdaptPopoverModule]]});class xn{constructor(e){this.viewDesignerFacade=e,this.permissions=[],this.destroyed$=new m.ReplaySubject(1)}ngOnInit(){this.viewDesignerFacade.getComponentPermissions(this.options.componentGuid).pipe((0,f.takeUntil)(this.destroyed$)).subscribe(e=>{this.permissions=e})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}onPermissionsChange(e){this.viewDesignerFacade.updateComponentModel(this.options.componentGuid,{permissions:e})}}xn.\u0275fac=function(e){return new(e||xn)(i["\u0275\u0275directiveInject"](Et))},xn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:xn,selectors:[["rx-component-permission-editor-widget"]],inputs:{options:"options",isDisabled:"isDisabled"},decls:1,vars:3,consts:[[3,"options","disabled","ngModel","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"rx-permission-editor",0),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.permissions=e})("ngModelChange",function(e){return t.onPermissionsChange(e)}),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("options",t.options)("disabled",t.isDisabled)("ngModel",t.permissions)},directives:[c.RxPermissionEditorComponent,b.NgControlStatus,b.NgModel],encapsulation:2});class wn{}wn.\u0275fac=function(e){return new(e||wn)},wn.\u0275mod=i["\u0275\u0275defineNgModule"]({type:wn,declarations:[xn],imports:[x.CommonModule,b.FormsModule,c.RxPermissionEditorModule]}),wn.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[x.CommonModule,b.FormsModule,c.RxPermissionEditorModule]]});class Cn{}Cn.\u0275fac=function(e){return new(e||Cn)},Cn.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Cn,declarations:[Lt],imports:[x.CommonModule,b.FormsModule,c.CustomizationOptionsModule]}),Cn.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[x.CommonModule,b.FormsModule,c.CustomizationOptionsModule]]});class _n extends c.InspectorWidgetBase{constructor(e){super(e),this.injector=e,this.actions=[],this.modelSandbox=this.designerItemModel.sandbox,this.destroyed$=new m.ReplaySubject(1)}ngOnInit(){this.modelSandbox.getChildComponents().pipe((0,f.takeUntil)(this.destroyed$)).subscribe(e=>{this.actions=e})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}onActionsChange(e){this.modelSandbox.setChildren(this.getActionComponentPayloads(e))}focus(e){this.actionListControlComponent.focus(e)}getActionComponentPayloads(e){return e.map(e=>Object.assign({type:u.RxViewComponentType.Action},e))}}_n.\u0275fac=function(e){return new(e||_n)(i["\u0275\u0275directiveInject"](i.Injector))},_n.\u0275cmp=i["\u0275\u0275defineComponent"]({type:_n,selectors:[["rx-action-list-widget"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](yn,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.actionListControlComponent=e.first)}},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:5,consts:[[3,"disabled","ngModel","tooltip","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"rx-action-list-control",0),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.actions=e})("ngModelChange",function(e){return t.onActionsChange(e)}),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](1,3,t.modelSandbox.isViewReadOnly$))("ngModel",t.actions)("tooltip",null==t.options?null:t.options.tooltip)},directives:[yn,b.NgControlStatus,b.NgModel],pipes:[x.AsyncPipe],encapsulation:2});class Sn{}Sn.\u0275fac=function(e){return new(e||Sn)},Sn.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Sn,declarations:[_n],imports:[x.CommonModule,bn,b.FormsModule]}),Sn.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[x.CommonModule,bn,b.FormsModule]]});class In{constructor(e,t){this.injector=e,this.sandbox=t}get expressionConfigurator(){return this._expressionConfigurator||(this._expressionConfigurator=new(this.sandbox.descriptor.expressionConfigurator||jt)(this.injector,this.sandbox.guid,this,this.sandbox.descriptor.type)),this._expressionConfigurator}getExpressionForProperty(e){return`\${view.components.${this.sandbox.guid}.${e}}`}}const An=[{id:u.RxDevice.Desktop,name:"Desktop"},{id:u.RxDevice.Tablet,name:"Tablet"},{id:u.RxDevice.Mobile,name:"Mobile"}];function En(){return{name:u.RX_AVAILABLE_ON_DEVICES_PROP_NAME,component:c.SelectFormControlComponent,options:{label:"Available on devices",options:An,multiple:!0,required:!0,hideSelectAllButton:!0,hideDeselectAllButton:!0}}}function Dn(){return{name:u.RX_HIDDEN_PROP_NAME,component:c.OptionalExpressionInspectorControlComponent,options:{label:"Hidden"}}}function Tn(){return{name:u.RX_DISABLED_PROP_NAME,component:c.OptionalExpressionInspectorControlComponent,options:{label:"Disabled"}}}function Rn(e=[]){return{name:u.RX_STYLES_PROP_NAME,component:c.TagsFormControlComponent,options:{label:"CSS classes",placeholder:"Add CSS classes",tooltip:new l.Tooltip("Enter CSS class names to apply to this view component."),errorCheck:Rt,autocompleteValues:e}}}function Mn(){return[Dn(),En(),Rn()]}class On{constructor(e,t,n,i){this.rxViewActionRegistryService=e,this.rxStringService=t,this.rxLogService=n,this.rxViewExpressionValidatorService=i}validate(e,t){const n=(0,h.flow)(e=>e.map(({data:e})=>{const n=this.rxViewActionRegistryService.get(e.name);return[(0,m.of)(this.validateRequiredProps(e,n,t)),this.performCustomValidation(e,n,t),this.validateExpressions(e,n,t)]}),h.flatten)(e);return(0,m.combineLatest)([(0,m.of)(this.validateActionSequence(e,t)),...n]).pipe((0,f.map)(h.flatten))}performCustomValidation(e,t,n){const i=this.rxViewActionRegistryService.getDesignManager(t.name);return i?i.validate(e,n).pipe((0,f.map)(t=>t.map(t=>Object.assign(Object.assign({},t),{data:{actionIndex:e.index}})))):(0,m.of)([])}validateRequiredProps(e,t,n){return(0,h.flow)(t=>t.filter(t=>!0===t.isRequired&&this.rxStringService.isEmptySafe(e[t.name])),i=>i.map(i=>({type:"error",description:`${t.label} action: ${i.label||i.name} cannot be blank.`,propertyName:n,data:{actionIndex:e.index}})))(t.parameters)}validateExpressions(e,t,n){const i=t.parameters.filter(t=>!0===t.enableExpressionEvaluation&&e[t.name]).map(i=>this.rxViewExpressionValidatorService.validate(e[i.name],n,i.label||i.name,i.evaluatorService).pipe((0,f.map)(n=>n.map(n=>Object.assign(Object.assign({},n),{description:`${t.label} action: ${n.description}`,data:{actionIndex:e.index}})))));return i.length?(0,m.combineLatest)(i).pipe((0,f.map)(h.flatten)):(0,m.of)([])}validateActionSequence(e,t){return(0,h.flow)(e=>(0,h.map)(e,({data:n})=>{const i=this.rxViewActionRegistryService.get(n.name);return i?(0,h.map)(n,(o,r)=>{var s;if((null===(s=i.parameters.find(e=>e.name===r))||void 0===s?void 0:s.enableExpressionEvaluation)&&this.rxStringService.isNonEmptyString(o)){const s=o.match(/\${view\.components\.([0-9a-z-]+)\..+}/);if(s&&s[1]){const o=(0,h.find)(e,{guid:s[1]});if(Number(null==o?void 0:o.data.index)>Number(n.index))return{type:"error",description:`${i.label} action: invalid expression for ${r}.`,propertyName:t}}}}):[]}),h.flatten,h.compact)(e)}}On.\u0275fac=function(e){return new(e||On)(i["\u0275\u0275inject"](u.RxViewActionRegistryService),i["\u0275\u0275inject"](g.RxStringService),i["\u0275\u0275inject"](l.RxLogService),i["\u0275\u0275inject"](Ft))},On.\u0275prov=i["\u0275\u0275defineInjectable"]({token:On,factory:On.\u0275fac,providedIn:"root"});class Pn{constructor(e,t,n){this.injector=e,this.guid=t,this.descriptor=n,this.viewDesignerFacade=this.injector.get(Et),this.systemActions$=this.injector.get(v.Actions),this.viewDesignerDispatcher=this.injector.get(je),this.rxViewDesignerModels=this.injector.get(Dt),this.childModelsInitialized$=new m.BehaviorSubject(!1),this.dispatcher$=new m.Subject,this.breadcrumbs$=new m.ReplaySubject(1),this.setUpPublicStreams(),this.viewDesignerFacade.getComponentType(t).pipe((0,f.take)(1)).subscribe(e=>this.componentType=e),this.viewDesignerFacade.getComponentModel(this.guid).pipe((0,f.map)(e=>Boolean(e.lastUpdateTime||e.name)),(0,f.switchMap)(e=>e?this.viewDesignerFacade.viewModelsInitialized$:(0,m.of)(null)),(0,f.take)(1),(0,f.takeUntil)(this.destroyed$)).subscribe(()=>{this.childModelsInitialized$.next(!0)}),this.viewModelsInitialized$=this.viewDesignerFacade.viewModelsInitialized$.pipe((0,f.takeUntil)(this.destroyed$)),this.isComponentSelected$.pipe((0,f.filter)(e=>e),(0,f.first)(),(0,f.switchMap)(()=>this.breadcrumbs$),(0,f.distinctUntilChanged)(),(0,f.takeUntil)(this.destroyed$)).subscribe(e=>{this.dispatcher$.next(Te({guid:this.guid,label:e}))}),(0,m.merge)(this.dispatcher$.pipe((0,v.ofType)(Ie),(0,f.skipWhile)(e=>0===e.issues.length)),this.dispatcher$.pipe((0,f.filter)(e=>e.type!==Ie.type))).pipe((0,f.takeUntil)(this.destroyed$)).subscribe(e=>this.viewDesignerDispatcher.dispatch(e)),this.destroyed$.subscribe(()=>{this.childModelsInitialized$.complete(),this.dispatcher$.complete(),this.breadcrumbs$.complete()})}createError(e,t,n){return{type:"error",description:e,propertyName:t,disableCorrection:n}}createWarning(e,t,n){return{type:"warning",description:e,propertyName:t,disableCorrection:n}}getComponent(e){return this.viewDesignerFacade.getComponent(e)}getChildComponents(e){return this.childModelsInitialized$.asObservable().pipe((0,f.filter)(Boolean),(0,f.switchMapTo)(this.viewDesignerFacade.getChildComponents(this.guid,e)),(0,f.takeUntil)(this.destroyed$))}getChildComponentsTree(){return this.childModelsInitialized$.asObservable().pipe((0,f.filter)(e=>e),(0,f.switchMapTo)(this.viewDesignerFacade.getChildComponentTree(this.guid)),(0,f.shareReplay)(1),(0,f.takeUntil)(this.destroyed$))}getChildComponentGuids(e,t=!1){return this.childModelsInitialized$.asObservable().pipe((0,f.filter)(Boolean),(0,f.switchMapTo)(this.viewDesignerFacade.getChildComponentGuids(this.guid,t,e)),(0,f.takeUntil)(this.destroyed$))}setChildren(e,t){this.dispatcher$.next(De({payload:{guid:t||this.guid,data:e}}))}setChildrenByType(e,t){this.dispatcher$.next(De({payload:{guid:this.guid,data:e,types:t}}))}getParentComponentGuid(e){return this.viewDesignerFacade.getParentComponentGuid(this.guid,e).pipe((0,f.distinctUntilChanged)(),(0,f.takeUntil)(this.destroyed$))}setValidationIssues(e){this.dispatcher$.next(Ie({issues:e,guid:this.guid}))}updateComponentProperties(e){this.viewDesignerFacade.updateComponentProperties(this.guid,e)}getComponentPropertyValue(e,t=this.guid){return this.viewDesignerFacade.getComponentPropertyValue(t,e).pipe((0,f.shareReplay)(1),(0,f.takeUntil)(this.destroyed$))}getViewPropertyValue(e){return this.viewDesignerFacade.getViewPropertyValue(e).pipe((0,f.shareReplay)(1),(0,f.takeUntil)(this.destroyed$))}updateInspectorConfig(e){this.viewDesignerFacade.setComponentInspector(this.guid,e)}setBreadcrumbs(e){this.breadcrumbs$.next(e)}addComponent(e){const t=(0,h.castArray)(e).map(e=>Object.assign(Object.assign({},e),{parentGuid:this.guid}));this.dispatcher$.next(Fe({payload:t}))}selectComponent(e){this.dispatcher$.next(Re({guid:e}))}removeComponents(e,t){this.viewDesignerFacade.removeViewComponents(e,t)}moveComponent(e,t,n){const i={guid:e},o=u.RX_VIEW_DEFINITION.defaultOutletName;this.dispatcher$.next(Pe({data:i,insertIndex:t,columnIndex:0,outletName:o,targetGuid:n}))}setLayout(e){this.dispatcher$.next(Me({guid:this.guid,cols:e}))}getLayout(e){return this.viewDesignerFacade.getComponentLayout(e).pipe((0,f.shareReplay)(1),(0,f.takeUntil)(this.destroyed$))}setCommonDataDictionary(e){this.viewDesignerFacade.setComponentCommonDataDictionaryBranch(this.guid,e)}setSettablePropertiesDataDictionary(e,t){this.viewDesignerFacade.setComponentSettablePropertiesDataDictionary(this.guid,e,t)}getComponentModel(e){return this.rxViewDesignerModels.get(e)}getComponentsByType(e){return this.viewDesignerFacade.getComponentsByType(e).pipe((0,f.takeUntil)(this.destroyed$))}setUpPublicStreams(){const e=this.systemActions$.pipe((0,v.ofType)(Ce),(0,f.filter)(e=>e.guids.includes(this.guid)));this.destroyed$=(0,m.merge)(e,this.viewDesignerFacade.initViewDesigner$,this.viewDesignerFacade.destroyViewDesigner$).pipe((0,f.mapTo)(!0),(0,f.first)()),this.componentProperties$=this.viewDesignerFacade.getComponentProperties(this.guid).pipe((0,f.filter)(Boolean),(0,f.takeUntil)(this.destroyed$),(0,f.shareReplay)(1)),this.isComponentSelected$=this.systemActions$.pipe((0,v.ofType)(Re),(0,f.map)(({guid:e})=>e===this.guid),(0,f.distinctUntilChanged)(),(0,f.startWith)(!1),(0,f.takeUntil)(this.destroyed$),(0,f.shareReplay)(1)),this.isViewReadOnly$=this.viewDesignerFacade.isViewReadOnly$}}class Fn{constructor(e,t,n){this.rxViewComponentRegistryService=e,this.viewDesignerFacade=t,this.rxViewExpressionValidatorService=n,this.issuesObservableMap=new Map}registerComponents(e){e.forEach(e=>this.issuesObservableMap.set(e,this.getComponentValidationIssues(e))),this.initValidation()}unregisterComponents(e){e.forEach(e=>this.issuesObservableMap.delete(e)),this.initValidation()}unregisterAllComponents(){var e;this.issuesObservableMap.clear(),null===(e=this.validateSubscription)||void 0===e||e.unsubscribe()}initValidation(){var e;null===(e=this.validateSubscription)||void 0===e||e.unsubscribe(),this.validateSubscription=(0,m.combineLatest)(Array.from(this.issuesObservableMap.entries()).map(([e,t])=>t.pipe((0,f.map)(t=>({[e]:t}))))).pipe((0,f.map)(e=>(0,h.merge)({},...e)),(0,f.skipWhile)(e=>(0,h.every)(Object.values(e),h.isEmpty)),(0,f.debounceTime)(0)).subscribe(e=>{this.viewDesignerFacade.setExpressionValidationIssues(e)})}getComponentValidationIssues(e){return this.viewDesignerFacade.getComponentType(e).pipe((0,f.take)(1),(0,f.switchMap)(t=>{const n=this.rxViewComponentRegistryService.get(t),i=(0,h.filter)(null==n?void 0:n.properties,{enableExpressionEvaluation:!0}),o=(0,h.map)(i,"name"),r=new Map(i.map(e=>[e.name,e]));return o.length?(0,m.combineLatest)(o.map(t=>this.viewDesignerFacade.getComponentPropertyValue(e,t).pipe((0,f.switchMap)(n=>this.rxViewExpressionValidatorService.validate(n,t,r.get(t).label,r.get(t).evaluatorService).pipe((0,f.takeUntil)(this.viewDesignerFacade.allComponentGuids$.pipe((0,f.filter)(t=>!t.has(e))))))))).pipe((0,f.map)(h.flatten)):(0,m.of)([])}),(0,f.publishReplay)(1),(0,f.refCount)())}}Fn.\u0275fac=function(e){return new(e||Fn)(i["\u0275\u0275inject"](u.RxViewComponentRegistryService),i["\u0275\u0275inject"](Et),i["\u0275\u0275inject"](Ft))},Fn.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Fn,factory:Fn.\u0275fac,providedIn:"root"});class kn{getInitialComponentProperties(e,t){var n;let i=e;return(0,h.isFunction)(null===(n=t.designComponentModel)||void 0===n?void 0:n.getInitialProperties)&&(i=t.designComponentModel.getInitialProperties(e)),i}getDefaultComponentPermissions(e){var t;let n=null;return(0,h.isFunction)(null===(t=e.designComponentModel)||void 0===t?void 0:t.getDefaultPermissions)&&(n=e.designComponentModel.getDefaultPermissions()),n}}kn.\u0275fac=function(e){return new(e||kn)},kn.\u0275prov=i["\u0275\u0275defineInjectable"]({token:kn,factory:kn.\u0275fac,providedIn:"root"});class Nn{constructor(e,t,n,i,o,r,s,a,l,c){this.actions$=e,this.injector=t,this.viewDesignerModels=n,this.rxGuidService=i,this.store$=o,this.rxViewComponentRegistryService=r,this.rxViewDesignerInspectorService=s,this.rxViewExpressionValidatorRegistryService=a,this.rxViewDesignerStateHelperService=l,this.rxViewDataDictionaryStoreService=c,this.initializeComponentModel$=this.actions$.pipe((0,v.ofType)(_e),(0,f.tap)(e=>{e.payload.forEach(({componentModel:e})=>{const t=this.rxViewComponentRegistryService.get(e.type),n=new Pn(this.injector,e.guid,t),i=new t.designComponentModel(this.injector,n);(0,h.isFunction)(i.rxInit)&&i.rxInit(),this.viewDesignerModels.set(e.guid,i)})}),(0,f.map)(()=>Xe())),this.registerComponentsValidation$=this.actions$.pipe((0,v.ofType)(Se,_e),(0,f.tap)(e=>this.rxViewExpressionValidatorRegistryService.registerComponents((0,h.map)(e.payload,e=>e.componentModel.guid)))),this.onComponentsRemoved$=this.actions$.pipe((0,v.ofType)(Ce),(0,f.tap)(({guids:e})=>{this.rxViewExpressionValidatorRegistryService.unregisterComponents(e),this.rxViewDataDictionaryStoreService.removeDataDictionaryForComponents(e)})),this.unregisterAllComponentsValidation$=this.actions$.pipe((0,v.ofType)(nt,it),(0,f.tap)(()=>this.rxViewExpressionValidatorRegistryService.unregisterAllComponents())),this.insertComponent$=this.actions$.pipe((0,v.ofType)(Pe),(0,f.map)(e=>{const t={insertIndex:e.insertIndex,columnIndex:e.columnIndex,outletName:e.outletName,parentGuid:e.targetGuid};return e.data.guid?Oe(Object.assign(Object.assign({},t),{guid:e.data.guid})):Fe({payload:[Object.assign(Object.assign({},t),{type:e.data.type,selectComponent:!0,propertiesByName:e.data.initialPropertiesByName})]})})),this.addNewComponent$=this.actions$.pipe((0,v.ofType)(Fe),(0,f.withLatestFrom)(this.store$.select(lt)),(0,f.mergeMap)(([e,t])=>{const n=[],i=[],o=[];return e.payload.forEach(e=>{this.processAddComponentPayload(e,n,i,o,t)}),[n.length?_e({payload:n}):null,i.length?Se({payload:i}):null,o.length?Re({guid:(0,h.last)(o)}):null].filter(Boolean)})),this.removeComponent$=this.actions$.pipe((0,v.ofType)(Ne),(0,f.filter)(({guids:e})=>!(0,h.isEmpty)(e)),(0,f.withLatestFrom)(this.store$.select(lt)),(0,f.mergeMap)(([e,t])=>{const n=e.guids.reduce((e,n)=>{const i=t[n];return i&&e.push(n,...ye(i,t)),e},[]),i=new Set(n);i.forEach(e=>{this.viewDesignerModels.delete(e),this.rxViewDesignerInspectorService.delete(e)});const o=[Ce({guids:[...i]})];if(e.selectParent){const n=t[(0,h.last)(e.guids)];(null==n?void 0:n.parentGuid)&&o.push(Re({guid:n.parentGuid}))}return o})),this.setChildren$=this.actions$.pipe((0,v.ofType)(De),(0,f.map)(e=>e.payload),(0,f.withLatestFrom)(this.store$.select(lt)),(0,f.mergeMap)(([e,t])=>{const n=[],i=[],o=[],r=[];function s(e,t){const n={propertiesByName:e.data,guid:e.guid,parentGuid:t,type:e.type,columnIndex:e.columnIndex||0,insertIndex:e.insertIndex,outletName:e.outletName||u.RX_VIEW_DEFINITION.defaultOutletName};return e.children&&(n.children=(0,h.map)(e.children,t=>s(t,e.guid))),n}return function e(n){const a=n.data,l=a.map(e=>e.guid);let c=ve(t[n.guid]);n.types&&(c=c.filter(e=>n.types.includes(t[e].type)));const d=(0,h.difference)(c,l),u=(0,h.difference)(l,c),p=(0,h.difference)(c,u,d);i.push(...d);const m=a.reduce((e,t)=>((0,h.includes)(u,t.guid)&&e.push(s(t,n.guid)),e),[]);o.push(...m);const f=a.reduce((n,i)=>{if((0,h.includes)(p,i.guid)){const o=t[i.guid];(0,h.isEqual)(o.propertiesByName,i.data||{})||n.push({guid:i.guid,data:i.data}),i.children&&e({guid:i.guid,data:i.children})}return n},[]);r.push(...f)}(e),i.length&&n.push(Ne({guids:i})),o.length&&n.push(Fe({payload:o})),r.length&&n.push(Ee({payload:r})),n}))}processAddComponentPayload(e,t,n,i,o){const r=this.rxViewComponentRegistryService.get(e.type),s=t.find(t=>t.componentModel.guid===e.parentGuid),a=o[e.parentGuid],l=s&&!s.componentModel.layout||a&&!a.layout,c={guid:e.guid||this.rxGuidService.generate(),type:e.type,parentGuid:e.parentGuid,propertiesByName:this.rxViewDesignerStateHelperService.getInitialComponentProperties(e.propertiesByName,r),permissions:this.rxViewDesignerStateHelperService.getDefaultComponentPermissions(r)};this.rxViewComponentRegistryService.isDataComponentDescriptor(r)||l?(c.resourceType=r.isContainerComponent?u.RX_VIEW_DEFINITION.resourceTypes.containerViewComponent:u.RX_VIEW_DEFINITION.resourceTypes.viewComponent,n.push({componentModel:c})):(c.resourceType=r.outlets||r.isContainerComponent?u.RX_VIEW_DEFINITION.resourceTypes.containerViewComponent:u.RX_VIEW_DEFINITION.resourceTypes.viewComponent,r.outlets&&(c.layout=u.RxViewLayout.getEmptyViewLayoutForOutletNames(r.outlets)),t.push({componentModel:c,insertIndex:e.insertIndex,columnIndex:e.columnIndex||0,outletName:e.outletName||u.RX_VIEW_DEFINITION.defaultOutletName}),e.selectComponent&&i.push(c.guid)),(0,h.forEach)(e.children,e=>{this.processAddComponentPayload(Object.assign(Object.assign({},e),{parentGuid:c.guid}),t,n,i,o)})}}Nn.\u0275fac=function(e){return new(e||Nn)(i["\u0275\u0275inject"](v.Actions),i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](Dt),i["\u0275\u0275inject"](g.RxGuidService),i["\u0275\u0275inject"](y.Store),i["\u0275\u0275inject"](u.RxViewComponentRegistryService),i["\u0275\u0275inject"](we),i["\u0275\u0275inject"](Fn),i["\u0275\u0275inject"](kn),i["\u0275\u0275inject"](xe))},Nn.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Nn,factory:Nn.\u0275fac}),(0,S.__decorate)([(0,v.Effect)(),(0,S.__metadata)("design:type",Object)],Nn.prototype,"initializeComponentModel$",void 0),(0,S.__decorate)([(0,v.Effect)({dispatch:!1}),(0,S.__metadata)("design:type",Object)],Nn.prototype,"registerComponentsValidation$",void 0),(0,S.__decorate)([(0,v.Effect)({dispatch:!1}),(0,S.__metadata)("design:type",Object)],Nn.prototype,"onComponentsRemoved$",void 0),(0,S.__decorate)([(0,v.Effect)({dispatch:!1}),(0,S.__metadata)("design:type",Object)],Nn.prototype,"unregisterAllComponentsValidation$",void 0),(0,S.__decorate)([(0,v.Effect)(),(0,S.__metadata)("design:type",Object)],Nn.prototype,"insertComponent$",void 0),(0,S.__decorate)([(0,v.Effect)(),(0,S.__metadata)("design:type",Object)],Nn.prototype,"addNewComponent$",void 0),(0,S.__decorate)([(0,v.Effect)(),(0,S.__metadata)("design:type",Object)],Nn.prototype,"removeComponent$",void 0),(0,S.__decorate)([(0,v.Effect)(),(0,S.__metadata)("design:type",Object)],Nn.prototype,"setChildren$",void 0);class jn{constructor(e,t,n,i,o,r,s,a,l,c,d,u,p,g,y,b,x,w,C,_,S,I,A,E){this.actions$=e,this.store$=t,this.rxBundleCacheService=n,this.rxDefinitionNameService=i,this.rxDefinitionUpdateService=o,this.rxGlobalCacheService=r,this.rxJsonParserService=s,this.rxViewComponentRegistryService=a,this.rxViewActionRegistryService=l,this.rxViewDefinitionService=c,this.viewDesignerModels=d,this.rxOldViewLayoutAdapterService=u,this.rxViewDefinitionParserService=p,this.rxLogService=g,this.rxModalService=y,this.errorHandler=b,this.rxUtilityModalsService=x,this.rxDefinitionAdapterRegistryService=w,this.rxViewDesignerInspectorService=C,this.rxViewDefinitionGeneratorService=_,this.rxViewDesignerStateHelperService=S,this.rxViewActionDefinitionAdapterRegistryService=I,this.rxGuidService=A,this.rxViewDataDictionaryStoreService=E,this.initViewDesigner$=this.actions$.pipe((0,v.ofType)(nt),(0,f.switchMap)(({payload:e})=>{const{viewDefinitionName:t,layoutTemplate:n}=e;return this.clearStorages(),[Je(),$e({viewDefinitionName:t,layoutTemplate:n})]})),this.destroyViewDesigner$=this.actions$.pipe((0,v.ofType)(it),(0,f.tap)(()=>this.clearStorages())),this.loadFriendlyBundleName$=this.actions$.pipe((0,v.ofType)(Je),(0,f.switchMap)(()=>this.rxGlobalCacheService.getBundleDescriptor(this.rxBundleCacheService.bundleId)),(0,f.switchMap)(e=>{let t;return t=e?(0,m.of)(Ue({friendlyBundleName:e.friendlyName})):(0,m.throwError)(`Bundle "${this.rxBundleCacheService.bundleId}" not found`),t.pipe((0,f.catchError)(e=>(this.errorHandler.handleError(e),(0,m.of)(He({payload:e})))))})),this.loadViewDefinition$=this.actions$.pipe((0,v.ofType)($e),(0,f.switchMap)(({viewDefinitionName:e,layoutTemplate:t})=>(e?this.rxViewDefinitionService.get(e):this.rxViewDefinitionService.getNew(t)).pipe((0,f.map)(e=>Be({viewDefinition:e})),(0,f.catchError)(e=>(this.errorHandler.handleError(e),(0,m.of)(Ge())))))),this.viewDefinitionLoadSuccess$=this.actions$.pipe((0,v.ofType)(Be),(0,f.withLatestFrom)(this.store$.select(st)),(0,f.mergeMap)(([e,t])=>t?this.getActionsToUpdateExistingViewModels(e.viewDefinition):this.getActionsToInitializeViewModels(e.viewDefinition))),this.selectViewComponent$=this.actions$.pipe((0,v.ofType)(Re),(0,f.withLatestFrom)(this.store$.select(st),this.store$.select(St)),(0,f.mergeMap)(([e,t,n])=>{const i=t.guid===e.guid?0:1;return i!==n?[Qe({tabId:i})]:[]})),this.generateViewDefinition$=this.actions$.pipe((0,v.ofType)(et),(0,f.withLatestFrom)(this.store$.select(st),this.store$.select(lt),(e,t,n)=>({viewModel:t,componentModels:n})),(0,f.map)(({viewModel:e,componentModels:t})=>this.rxViewDefinitionGeneratorService.generate(e,t)),(0,f.map)(e=>ze({payload:e}))),this.saveViewDefinition$=this.actions$.pipe((0,v.ofType)(Ze),(0,f.withLatestFrom)(this.store$.select(st),this.store$.select(lt),(e,t,n)=>({viewModel:t,components:n})),(0,f.switchMap)(({viewModel:e,components:t})=>{const n=this.rxViewDefinitionGeneratorService.generate(e,t,!0);return(n.lastUpdateTime?this.rxDefinitionUpdateService.execute(this.rxViewDefinitionService.update.bind(this.rxViewDefinitionService,n.name,n)):this.rxViewDefinitionService.create(n)).pipe((0,f.switchMap)(e=>{const t=decodeURIComponent((0,h.last)(null==e?void 0:e.headers.get("Location").split("/"))||"")||n.name;return[Le({viewDefinitionName:t}),n.lastUpdateTime?$e({viewDefinitionName:n.name}):null].filter(Boolean)}),(0,f.catchError)(e=>(this.errorHandler.handleError(e),(0,m.of)(Ve()))))})),this.clearCanvas$=this.actions$.pipe((0,v.ofType)(tt),(0,f.withLatestFrom)(this.store$.select(st)),(0,f.map)(([e,t])=>Ne({guids:ve(t)}))),this.runPreview$=this.actions$.pipe((0,v.ofType)(Ke),(0,f.withLatestFrom)(this.store$.select(st),(e,t)=>t),(0,f.switchMap)(e=>e.targetViewDefinitionName?this.rxViewDefinitionService.get(e.targetViewDefinitionName):(0,m.of)(e)),(0,f.tap)(e=>{const t=encodeURIComponent(e.name);let n=`/helix/index.html#/${this.rxBundleCacheService.bundleId}/preview/${t}`;e.inputParams.length?this.rxModalService.openModal({title:"Enter view parameter values",content:ln,data:{inputParams:(0,h.map)(e.inputParams,"name")},size:"sm"}).catch(m.noop).then(e=>{const t=(0,h.map)(e,(e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`);n+=`?${t.join("&")}`,e&&window.open(n)}):window.open(n)}))}clearStorages(){this.viewDesignerModels.clear(),this.rxViewDesignerInspectorService.clear(),this.rxViewDataDictionaryStoreService.clear()}convertViewDefinitionToModel(e){const t=Boolean(e.lastUpdateTime)&&!(0,h.includes)(e.layout,'"outlets"');this.rxViewDefinitionParserService.getComponents(e).forEach(e=>this.rxOldViewLayoutAdapterService.convertLayout(e));const n=(0,h.omit)(e,["componentDefinitions","layout"]),i=this.rxJsonParserService.tryParseJson(e.layout);return n.layout=u.RxViewLayout.getEmptyViewLayoutForOutlets(i.outlets),n.displayName=decodeURIComponent(this.rxDefinitionNameService.getDisplayName(n.name)),n.layoutName=u.RxViewLayout.getLayoutName(n.layout),n.isAngularJsView=t,n}convertComponentDefinitionToModel(e,t,n){const i=(0,h.omit)(e,["componentDefinitions","layout"]);if(i.parentGuid=t,this.processComponentDefinitionProperties(i,n),this.isComponentHasLayout(e)){const t=this.rxJsonParserService.tryParseJson(e.layout);i.layout=u.RxViewLayout.getEmptyViewLayoutForOutlets(t.outlets)}return i}processComponentDefinitionProperties(e,t){e.propertiesByName=(0,h.transform)(e.propertiesByName,(e,n,i)=>{const o=(0,h.find)(t.properties||t.parameters,{name:i});if(o&&o.designType)if(!0==(o.designType===u.ViewComponentPropertyType.String))e[i]=n;else e[i]=this.rxJsonParserService.tryParseJson(n,n);else e[i]=n;return e},{}),this.rxGuidService.isGuid(e.name)||(e.propertiesByName.name=e.name),"type"in t&&(e.propertiesByName=this.rxViewDesignerStateHelperService.getInitialComponentProperties(e.propertiesByName,t))}traverseByComponents(e,t){const n=this.rxJsonParserService.tryParseJson(e.layout),i=e.componentDefinitions;n&&n.outlets.forEach(n=>{n.columns.forEach((o,r)=>{o.children.forEach((s,a)=>{const l=i.find(e=>e.guid===s);l&&(t(l,e.guid,n.name,a,r,o.span),l.componentDefinitions&&this.traverseByComponents(l,t))})})}),i.filter(e=>{const t=this.rxViewComponentRegistryService.get(e.type);return(null==t?void 0:t.isDataComponent)||(null==t?void 0:t.isPageComponent)}).forEach((n,i)=>{t(n,e.guid,null,i,0,0),n.componentDefinitions&&this.traverseByComponents(n,t)})}isComponentHasLayout(e){return Boolean(e.layout)}getActionsToInitializeViewModels(e){const t=(0,h.cloneDeep)(e),n=this.convertViewDefinitionToModel(t),i=[],o=[];return this.traverseByComponents(t,(e,n,r,s,a,l)=>{const c=this.rxViewComponentRegistryService.get(e.type);if(c&&!c.isPageComponent){const d=e.type===u.RxViewComponentType.Action?this.rxViewActionDefinitionAdapterRegistryService.getDesignAdapter(e.propertiesByName.name):this.rxDefinitionAdapterRegistryService.getDesignAdapter(e.type);let p;null==d||d.adaptDefinition(e,t),e.type===u.RxViewComponentType.Action&&(p=this.rxViewActionRegistryService.get(e.propertiesByName.name),p||(p=this.rxViewActionRegistryService.registerUnknownAction(e.propertiesByName.name)));const h=this.convertComponentDefinitionToModel(e,n,p||c);this.rxViewComponentRegistryService.isDataComponentDescriptor(c)||null===r?o.push({componentModel:h}):i.push({insertIndex:s,columnIndex:a,componentModel:h,outletName:r,columnSpan:l})}else if(this.rxViewDefinitionService.isPageView(t)){let t=this.rxViewComponentRegistryService.get(e.type);t||(t={type:e.type,name:u.RX_VIEW_DEFINITION.unknownPageComponent.name});const i=this.convertComponentDefinitionToModel(e,n,t);o.push({componentModel:i})}else{const t=Object.assign(Object.assign({},this.rxViewComponentRegistryService.get(u.RxViewComponentType.Unknown)),{type:e.type});this.rxViewComponentRegistryService.registerSync(t);const o=this.convertComponentDefinitionToModel(e,n,t);i.push({insertIndex:s,columnIndex:a,componentModel:o,outletName:r,columnSpan:l}),this.rxLogService.warning(`Cannot initialize view component. View Component Descriptor for ${e.type} not found.`)}}),[Ye({payload:n}),i.length?_e({payload:i}):null,o.length?Se({payload:o}):null,i.length?null:Xe()].filter(Boolean)}getActionsToUpdateExistingViewModels(e){const t=(0,h.cloneDeep)(e),n=this.rxViewDefinitionParserService.getComponents(t,!0).map(({componentDefinition:e})=>({guid:e.guid,partialModel:(0,h.omit)(e,["layout","propertiesByName","componentDefinitions"])}));return[qe({payload:(0,h.omit)(t,["layout","componentDefinitions"])}),n.length?ke({payload:n}):null,We()].filter(Boolean)}}function Ln(){return null}jn.\u0275fac=function(e){return new(e||jn)(i["\u0275\u0275inject"](v.Actions),i["\u0275\u0275inject"](y.Store),i["\u0275\u0275inject"](l.RxBundleCacheService),i["\u0275\u0275inject"](l.RxDefinitionNameService),i["\u0275\u0275inject"](l.RxDefinitionUpdateService),i["\u0275\u0275inject"](l.RxGlobalCacheService),i["\u0275\u0275inject"](g.RxJsonParserService),i["\u0275\u0275inject"](u.RxViewComponentRegistryService),i["\u0275\u0275inject"](u.RxViewActionRegistryService),i["\u0275\u0275inject"](u.RxViewDefinitionService),i["\u0275\u0275inject"](Dt),i["\u0275\u0275inject"](u.RxOldViewLayoutAdapterService),i["\u0275\u0275inject"](u.RxViewDefinitionParserService),i["\u0275\u0275inject"](l.RxLogService),i["\u0275\u0275inject"](d.RxModalService),i["\u0275\u0275inject"](i.ErrorHandler),i["\u0275\u0275inject"](d.RxUtilityModalsService),i["\u0275\u0275inject"](l.RxDefinitionAdapterRegistryService),i["\u0275\u0275inject"](we),i["\u0275\u0275inject"](Tt),i["\u0275\u0275inject"](kn),i["\u0275\u0275inject"](u.RxViewActionDefinitionAdapterRegistryService),i["\u0275\u0275inject"](g.RxGuidService),i["\u0275\u0275inject"](xe))},jn.\u0275prov=i["\u0275\u0275defineInjectable"]({token:jn,factory:jn.\u0275fac}),(0,S.__decorate)([(0,v.Effect)(),(0,S.__metadata)("design:type",Object)],jn.prototype,"initViewDesigner$",void 0),(0,S.__decorate)([(0,v.Effect)({dispatch:!1}),(0,S.__metadata)("design:type",Object)],jn.prototype,"destroyViewDesigner$",void 0),(0,S.__decorate)([(0,v.Effect)(),(0,S.__metadata)("design:type",Object)],jn.prototype,"loadFriendlyBundleName$",void 0),(0,S.__decorate)([(0,v.Effect)(),(0,S.__metadata)("design:type",Object)],jn.prototype,"loadViewDefinition$",void 0),(0,S.__decorate)([(0,v.Effect)(),(0,S.__metadata)("design:type",Object)],jn.prototype,"viewDefinitionLoadSuccess$",void 0),(0,S.__decorate)([(0,v.Effect)(),(0,S.__metadata)("design:type",Object)],jn.prototype,"selectViewComponent$",void 0),(0,S.__decorate)([(0,v.Effect)(),(0,S.__metadata)("design:type",Object)],jn.prototype,"generateViewDefinition$",void 0),(0,S.__decorate)([(0,v.Effect)(),(0,S.__metadata)("design:type",Object)],jn.prototype,"saveViewDefinition$",void 0),(0,S.__decorate)([(0,v.Effect)(),(0,S.__metadata)("design:type",Object)],jn.prototype,"clearCanvas$",void 0),(0,S.__decorate)([(0,v.Effect)({dispatch:!1}),(0,S.__metadata)("design:type",Object)],jn.prototype,"runPreview$",void 0);const Vn=(0,y.createReducer)(null,(0,y.on)(nt,Ln),(0,y.on)(it,Ln),(0,y.on)(ze,(e,{payload:t})=>t));function Bn(e,t){return Vn(e,t)}function Gn(){return{}}const zn=(0,y.createReducer)({},(0,y.on)(nt,Gn),(0,y.on)(it,Gn),(0,y.on)(Te,(e,{guid:t,label:n})=>Object.assign(Object.assign({},e),{[t]:n})),(0,y.on)(Ce,(e,{guids:t})=>{let n=e;return t.some(t=>(0,h.has)(e,t))&&(n=(0,h.omit)(e,t)),n}));function $n(e,t){return zn(e,t)}function Un(){return{viewDesignModel:null,viewComponentDesignModels:{}}}const Hn=(0,y.createReducer)({viewDesignModel:null,viewComponentDesignModels:{}},(0,y.on)(nt,Un),(0,y.on)(it,Un),(0,y.on)(_e,(e,{payload:t})=>{const n=Object.assign({},e);return t.forEach(e=>function(e,t){if(e.viewComponentDesignModels=Object.assign(Object.assign({},e.viewComponentDesignModels),{[t.componentModel.guid]:t.componentModel}),t.componentModel.parentGuid===e.viewDesignModel.guid)e.viewDesignModel=fe(e.viewDesignModel,t.componentModel.guid,t.outletName,t.insertIndex,t.columnIndex,t.columnSpan);else{const n=e.viewComponentDesignModels[t.componentModel.parentGuid];if(n){const i=fe(n,t.componentModel.guid,t.outletName,t.insertIndex,t.columnIndex,t.columnSpan);e.viewComponentDesignModels[i.guid]=i}}}(n,e)),n}),(0,y.on)(Se,(e,{payload:t})=>{const n=Object.assign(Object.assign({},e),{viewComponentDesignModels:Object.assign({},e.viewComponentDesignModels)});return t.forEach(e=>{const t=n.viewComponentDesignModels[e.componentModel.parentGuid];if(t){n.viewComponentDesignModels[e.componentModel.guid]=e.componentModel;const i=Object.assign(Object.assign({},t),{childDataComponentGuids:[...t.childDataComponentGuids||[],e.componentModel.guid]});n.viewComponentDesignModels[i.guid]=i}}),n}),(0,y.on)(Oe,(e,t)=>{const n=Object.assign({},e);if(me(t.guid,e.viewDesignModel))n.viewDesignModel=ge(t.guid,n.viewDesignModel);else{let e=pe(t.guid,n.viewComponentDesignModels);e=ge(t.guid,e),n.viewComponentDesignModels=Object.assign(Object.assign({},n.viewComponentDesignModels),{[e.guid]:e})}if(t.parentGuid===n.viewDesignModel.guid)n.viewDesignModel=fe(n.viewDesignModel,t.guid,t.outletName,t.insertIndex,t.columnIndex);else{let e=n.viewComponentDesignModels[t.parentGuid];e=fe(e,t.guid,t.outletName,t.insertIndex,t.columnIndex),n.viewComponentDesignModels=Object.assign(Object.assign({},n.viewComponentDesignModels),{[e.guid]:e})}return n.viewComponentDesignModels=Object.assign(Object.assign({},n.viewComponentDesignModels),{[t.guid]:Object.assign(Object.assign({},n.viewComponentDesignModels[t.guid]),{parentGuid:t.parentGuid})}),n}),(0,y.on)(Ce,(e,{guids:t})=>{const n=Object.assign(Object.assign({},e),{viewComponentDesignModels:(0,h.omit)(e.viewComponentDesignModels,t)});return t.forEach(t=>{if(me(t,e.viewDesignModel))n.viewDesignModel=ge(t,n.viewDesignModel);else{let i=pe(t,e.viewComponentDesignModels);i&&n.viewComponentDesignModels[i.guid]&&(i=ge(t,n.viewComponentDesignModels[i.guid]),n.viewComponentDesignModels=Object.assign(Object.assign({},n.viewComponentDesignModels),{[i.guid]:i}))}}),n}),(0,y.on)(Me,(e,{guid:t,cols:n})=>{const i=e.viewComponentDesignModels[t],o=i.layout.outlets.find(e=>e.name===u.RX_VIEW_DEFINITION.defaultOutletName),r=(0,h.cloneDeep)(o.columns),s=r.splice(n.length);n.forEach((e,t)=>{r[t]?r[t].span=e:r[t]={span:e,children:[]}});const a=s.reduce((e,t)=>(e.push(...t.children),e),[]);if(a.length){const e=(0,h.last)(r);e.children=e.children.concat(a)}return Object.assign(Object.assign({},e),{viewComponentDesignModels:Object.assign(Object.assign({},e.viewComponentDesignModels),{[t]:Object.assign(Object.assign({},i),{layout:Object.assign(Object.assign({},i.layout),{outlets:i.layout.outlets.map(e=>Object.assign(Object.assign({},e),{columns:r}))})})})})}),(0,y.on)(Ye,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewDesignModel:t})),(0,y.on)(qe,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewDesignModel:Object.assign(Object.assign({},e.viewDesignModel),t)})),(0,y.on)(Le,e=>e.viewDesignModel.isAngularJsView?Object.assign(Object.assign({},e),{viewDesignModel:Object.assign(Object.assign({},e.viewDesignModel),{isAngularJsView:!1})}):e),(0,y.on)(Ee,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewComponentDesignModels:Object.assign(Object.assign({},e.viewComponentDesignModels),t.reduce((t,{guid:n,data:i})=>(t[n]=Object.assign(Object.assign({},e.viewComponentDesignModels[n]),{propertiesByName:i}),t),{}))})),(0,y.on)(ke,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewComponentDesignModels:Object.assign(Object.assign({},e.viewComponentDesignModels),t.filter(t=>e.viewComponentDesignModels[t.guid]).reduce((t,{guid:n,partialModel:i})=>(t[n]=Object.assign(Object.assign(Object.assign({},e.viewComponentDesignModels[n]),i),{propertiesByName:Object.assign(Object.assign({},e.viewComponentDesignModels[n].propertiesByName),i.propertiesByName)}),t),{}))})));function Xn(e,t){return Hn(e,t)}function Wn(){return{selectedComponentGuid:null,selectedInspectorTabId:0,currentBundleId:null,isViewDefinitionLoading:!1,areViewModelsReady:!1,friendlyBundleName:null}}const qn=(0,y.createReducer)({selectedComponentGuid:null,selectedInspectorTabId:0,currentBundleId:null,isViewDefinitionLoading:!1,areViewModelsReady:!1,friendlyBundleName:null},(0,y.on)(nt,(e,{payload:t})=>Object.assign(Object.assign({},{selectedComponentGuid:null,selectedInspectorTabId:0,currentBundleId:null,isViewDefinitionLoading:!1,areViewModelsReady:!1,friendlyBundleName:null}),{currentBundleId:t.bundleId})),(0,y.on)(it,Wn),(0,y.on)(Re,(e,{guid:t})=>Object.assign(Object.assign({},e),{selectedComponentGuid:t})),(0,y.on)(Qe,(e,{tabId:t})=>Object.assign(Object.assign({},e),{selectedInspectorTabId:t})),(0,y.on)(Ce,(e,{guids:t})=>t.includes(e.selectedComponentGuid)?Object.assign(Object.assign({},e),{selectedComponentGuid:null}):Object.assign({},e)),(0,y.on)(Ue,(e,{friendlyBundleName:t})=>Object.assign(Object.assign({},e),{friendlyBundleName:t})),(0,y.on)(He,e=>Object.assign(Object.assign({},e),{friendlyBundleName:null})),(0,y.on)(Ze,$e,e=>Object.assign(Object.assign({},e),{isViewDefinitionLoading:!0,areViewModelsReady:!1})),(0,y.on)(Le,Be,Ge,e=>Object.assign(Object.assign({},e),{isViewDefinitionLoading:!1})),(0,y.on)(Ve,e=>Object.assign(Object.assign({},e),{isViewDefinitionLoading:!1,areViewModelsReady:!0})),(0,y.on)(We,Xe,e=>Object.assign(Object.assign({},e),{areViewModelsReady:!0})),(0,y.on)(_e,e=>Object.assign(Object.assign({},e),{areViewModelsReady:!1})));function Yn(e,t){return qn(e,t)}function Qn(){return{issues:{},expressionIssues:{}}}const Zn=(0,y.createReducer)({issues:{},expressionIssues:{}},(0,y.on)(nt,it,Qn),(0,y.on)(Ie,(e,{guid:t,issues:n})=>{if(n.length)return Object.assign(Object.assign({},e),{issues:Object.assign(Object.assign({},e.issues),{[t]:n})});{let n=e;return(0,h.has)(n.issues,t)&&(n=Object.assign(Object.assign({},e),{issues:(0,h.omit)(e.issues,[t])})),n}}),(0,y.on)(Ae,(e,{issues:t})=>(0,h.isEmpty)(t)?e:Object.assign(Object.assign({},e),{expressionIssues:Object.assign(Object.assign({},(0,h.omit)(e.expressionIssues,Object.keys(t))),(0,h.omitBy)(t,h.isEmpty))})),(0,y.on)(Ce,(e,{guids:t})=>{let n=e;return t.some(t=>(0,h.has)(e.issues,t))&&(n=Object.assign(Object.assign({},e),{issues:(0,h.omit)(e.issues,t)})),t.some(t=>(0,h.has)(e.expressionIssues,t))&&(n=Object.assign(Object.assign({},e),{expressionIssues:(0,h.omit)(e.expressionIssues,t)})),n}));function Kn(e,t){return Zn(e,t)}class Jn{}Jn.\u0275fac=function(e){return new(e||Jn)},Jn.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Jn,declarations:[on],imports:[x.CommonModule,C.AdaptCodeViewerModule,C.AdaptTabsModule,d.RxBladeModule,c.RxFormBuilderModule,d.RxValidationIssuesModule,d.RxJsonViewerModule,an,rn,sn,c.FormControlsModule,c.RxPermissionEditorModule,c.RxRevertCustomizationModule,u.ViewActionDesignModule,cn,c.RxDesignerHeaderModule,C.AdaptAlertModule,c.RxInspectorModule,Cn,Bt,p.TranslateModule,y.StoreFeatureModule,v.EffectsFeatureModule],exports:[on]}),Jn.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[x.CommonModule,C.AdaptCodeViewerModule,C.AdaptTabsModule.forRoot(),d.RxBladeModule,c.RxFormBuilderModule,d.RxValidationIssuesModule,d.RxJsonViewerModule,an,rn,sn,c.FormControlsModule,c.RxPermissionEditorModule,c.RxRevertCustomizationModule,u.ViewActionDesignModule,cn,c.RxDesignerHeaderModule,C.AdaptAlertModule,c.RxInspectorModule,Cn,Bt,p.TranslateModule,y.StoreModule.forFeature("viewDesigner",{model:Xn,viewDefinition:Bn,validation:Kn,ui:Yn,breadcrumbs:$n}),v.EffectsModule.forFeature([jn,Nn])]]})},"./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseViewComponent:()=>se,RX_RUNTIME_VIEW:()=>de,RuntimeLayoutItem:()=>$,RuntimeLayoutOutlet:()=>z,RuntimeLayoutOutletColumn:()=>G,RuntimeViewCanvasComponent:()=>oe,RuntimeViewCanvasItemComponent:()=>X,RuntimeViewCanvasItemContainerComponent:()=>W,RuntimeViewCanvasItemService:()=>H,RuntimeViewCanvasModule:()=>le,RuntimeViewCanvasOutletComponent:()=>ae,RuntimeViewComponent:()=>re,RuntimeViewModalComponent:()=>ce,RuntimeViewModel:()=>ne,RuntimeViewModelApi:()=>Q,RuntimeViewModule:()=>ue,RuntimeViewRootComponent:()=>q,RxRuntimeViewRegistryService:()=>ie,RxRuntimeViewUtilsService:()=>ee,VIEW_COMPONENT_DEFAULT_EVENT_NAME:()=>J,ViewComponentEventManager:()=>K});var i=n("./node_modules/@angular/core/fesm2015/core.js"),o=n("rxjs"),r=n("./node_modules/rxjs/_esm2015/operators/index.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-record-api.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-utils.js"),c=n("lodash"),d=n("./node_modules/@angular/common/fesm2015/common.js"),u=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),p=n("./node_modules/@helix/platform/fesm2015/helix-platform-ui-kit.js"),h=n("./node_modules/@helix/platform/fesm2015/helix-platform-association-api.js"),m=n("./node_modules/@helix/platform/fesm2015/helix-platform-process-api.js"),f=n("./node_modules/@angular/forms/fesm2015/forms.js"),g=n("./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js"),v=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");const y=["container"];function b(e,t){1&e&&i["\u0275\u0275elementContainer"](0)}const x=function(e){return{$implicit:e}};function w(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275template"](1,b,1,0,"ng-container",5),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275nextContext"](2);const n=i["\u0275\u0275reference"](3);i["\u0275\u0275property"]("ngClass",e.cssClass?e.cssClass:e.span?"col-"+e.span:"col"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",n)("ngTemplateOutletContext",i["\u0275\u0275pureFunction1"](3,x,e.children))}}function C(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",2),i["\u0275\u0275template"](2,w,2,5,"div",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.columns)}}function _(e,t){1&e&&i["\u0275\u0275elementContainer"](0)}function S(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,_,1,0,"ng-container",5),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",i["\u0275\u0275pureFunction1"](2,x,e.columns[0].children))}}function I(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-runtime-view-canvas-item",7,8),2&e){const e=t.$implicit;i["\u0275\u0275property"]("layout",e)}}function A(e,t){if(1&e&&i["\u0275\u0275template"](0,I,2,1,"rx-runtime-view-canvas-item",6),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngForOf",e)("ngForTrackBy",n.trackByFn)}}const E=function(e,t,n){return[e,t,n]},D=function(e,t){return{"content-outlet":e,"outlet-padding":t}};function T(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-runtime-view-canvas-item-container",1),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("hidden",n.isHidden(e))("columns",e.columns)("outlet",e)("ngClass",i["\u0275\u0275pureFunction2"](8,D,e.name===n.defaultOutletName,i["\u0275\u0275pureFunction3"](4,E,n.layoutRole.Header,n.layoutRole.Footer,n.defaultOutletName).includes(e.name)))}}function R(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-runtime-view-canvas-item",1),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("layout",e.layout)}}function M(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"rx-runtime-view-canvas",1),i["\u0275\u0275listener"]("componentPropertyChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().runtimeViewModel.onViewComponentPropertyChanged(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("layout",e.runtimeViewLayoutService.layout)}}function O(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",11),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](3).closeModal()}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275attribute"]("aria-label",e.closeLabel)}}function P(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275elementStart"](1,"span",9),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,O,1,1,"button",10),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.title),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isCancellable)}}function F(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,P,4,2,"div",7),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isBlade)("ngIfElse",t)}}function k(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",11),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).closeModal()}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275attribute"]("aria-label",e.closeLabel)}}function N(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",12),i["\u0275\u0275elementStart"](1,"h5",13),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,k,1,1,"button",10),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.title),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isCancellable)}}const j=function(e){return{content:e,type:"inline",variant:"info"}};function L(e,t){if(1&e&&i["\u0275\u0275element"](0,"adapt-alert",14),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("config",i["\u0275\u0275pureFunction1"](1,j,e.notification))}}const V=function(e,t){return{"modal-body p-0":e,"dp-content":t}},B=function(e){return{busy:e,loaderType:"lineLoader",delay:250,backdrop:!1,message:null}};class G{constructor(){this.children=[]}}class z{constructor(){this.children=[],this.columns=[new G],this.height=null}}class ${constructor(e){this.outlets=[],this.parent=null,this.runtimeViewModelApi=null,Object.assign(this,{guid:e.guid,config:e.config,parent:e.parent,runtimeViewModelApi:e.runtimeViewModelApi,factory:e.factory}),e.outlets&&this.initializeOutlets(e.outlets)}initializeOutlets(e){e.forEach(e=>{const t=new z;t.name=e.name,t.height=e.hasOwnProperty("height")?e.height:null,this.outlets.push(t)})}addLayoutItem(e,t){const n=this.outlets.find(e=>e.name===t.parentOutlet.name),i=t.parentOutlet.columns[t.columnIndex].children.indexOf(e.guid);t.parentOutlet.columns.forEach((e,t)=>{n.columns[t]||(n.columns[t]=new G),e.cssClass&&(n.columns[t].cssClass=e.cssClass),e.span&&(n.columns[t].span=e.span)}),e&&(n.columns[t.columnIndex].children[i]=e)}}class U{constructor(){this.componentPropertyChangedSubject=new o.Subject,this.componentPropertyChanged$=this.componentPropertyChangedSubject.asObservable()}onViewComponentPropertyChanged(e){this.componentPropertyChangedSubject.next(e)}}U.\u0275fac=function(e){return new(e||U)},U.\u0275prov=i["\u0275\u0275defineInjectable"]({token:U,factory:U.\u0275fac});class H{constructor(e,t,n){this.injector=e,this.componentFactoryResolver=t,this.runtimeViewCanvasService=n,this.hasMargin=!0,this.hasAutoFill=!1,this.hasAutoScroll=!1,this.isHidden=!1,this.destroyed$=new o.ReplaySubject(1)}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}registerOutlet(e,t,n){const i=this.layout.outlets.find(t=>t.name===e);i&&this.renderContainerComponent(t,i,n)}getChildren(e){return this.layout.outlets.find(t=>t.name===e).columns.map(e=>Object.assign(Object.assign({},e),{children:e.children.filter(Boolean).map(e=>(0,c.pick)(e,"config","guid","runtimeViewModelApi","factory","outlets"))}))}renderViewComponent(){var e,t,n,i;this.componentRef=this.container.createComponent(this.layout.factory,null,this.injector),this.componentInstance=this.componentRef.instance,this.componentInstance.guid=this.layout.guid,this.componentInstance.config=this.layout.config,this.componentInstance.runtimeViewModelApi=this.layout.runtimeViewModelApi,null===(e=this.componentInstance.propertyChanged)||void 0===e||e.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.runtimeViewCanvasService.onViewComponentPropertyChanged(e)}),null===(t=this.componentInstance.hidden)||void 0===t||t.pipe((0,r.skipWhile)(e=>!e),(0,r.distinctUntilChanged)(),(0,r.delay)(0),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.hasMargin=!e,this.isHidden=e}),null===(n=this.componentInstance.autoScroll)||void 0===n||n.pipe((0,r.skipWhile)(e=>!e),(0,r.distinctUntilChanged)(),(0,r.delay)(0),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.hasAutoScroll=e}),null===(i=this.componentInstance.autoFill)||void 0===i||i.pipe((0,r.skipWhile)(e=>!e),(0,r.distinctUntilChanged)(),(0,r.delay)(0),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.hasAutoFill=e})}renderContainerComponent(e,t,n){const i=n,o=e.createComponent(i);o.instance.columns=t.columns,o.instance.outlet=t}}H.\u0275fac=function(e){return new(e||H)(i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](U))},H.\u0275prov=i["\u0275\u0275defineInjectable"]({token:H,factory:H.\u0275fac});class X{constructor(e){this.runtimeViewCanvasItemService=e}get hasMargin(){return this.runtimeViewCanvasItemService.hasMargin}get hasAutoFill(){return this.runtimeViewCanvasItemService.hasAutoFill&&!this.runtimeViewCanvasItemService.isHidden}get hasAutoScroll(){return this.runtimeViewCanvasItemService.hasAutoScroll}ngOnChanges(e){this.runtimeViewCanvasItemService.container||(this.runtimeViewCanvasItemService.container=this.container),e.layout.currentValue&&(this.runtimeViewCanvasItemService.layout=e.layout.currentValue,e.layout.previousValue&&this.container.clear(),this.runtimeViewCanvasItemService.renderViewComponent())}registerOutlet(e,t){this.runtimeViewCanvasItemService.registerOutlet(e,t)}getChildren(e){return this.runtimeViewCanvasItemService.getChildren(e)}}X.\u0275fac=function(e){return new(e||X)(i["\u0275\u0275directiveInject"](H))},X.\u0275cmp=i["\u0275\u0275defineComponent"]({type:X,selectors:[["rx-runtime-view-canvas-item"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](y,7,i.ViewContainerRef),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.container=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&i["\u0275\u0275classProp"]("rx-runtime-view-canvas-item-margin",t.hasMargin)("rx-runtime-view-canvas-item-auto-fill",t.hasAutoFill)("rx-runtime-view-canvas-item-auto-scroll",t.hasAutoScroll)},inputs:{layout:"layout"},features:[i["\u0275\u0275ProvidersFeature"]([H]),i["\u0275\u0275NgOnChangesFeature"]],decls:2,vars:0,consts:[["container",""]],template:function(e,t){1&e&&i["\u0275\u0275elementContainer"](0,null,0)},encapsulation:2});class W{constructor(){this.columns=[]}get hostClass(){return this.outlet.height?`${this.outlet.height}px`:null}trackByFn(e,t){return(null==t?void 0:t.guid)||e}}W.\u0275fac=function(e){return new(e||W)},W.\u0275cmp=i["\u0275\u0275defineComponent"]({type:W,selectors:[["rx-runtime-view-canvas-item-container"]],hostVars:2,hostBindings:function(e,t){2&e&&i["\u0275\u0275styleProp"]("min-height",t.hostClass)},inputs:{columns:"columns",outlet:"outlet"},decls:4,vars:2,consts:[[4,"ngIf"],["itemTpl",""],[1,"row","rx-runtime-view-canvas-item-container-row"],["class","rx-runtime-view-canvas-item-container-column",3,"ngClass",4,"ngFor","ngForOf"],[1,"rx-runtime-view-canvas-item-container-column",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"layout",4,"ngFor","ngForOf","ngForTrackBy"],[3,"layout"],["item",""]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,C,3,1,"ng-container",0),i["\u0275\u0275template"](1,S,2,4,"ng-container",0),i["\u0275\u0275template"](2,A,1,2,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"])),2&e&&(i["\u0275\u0275property"]("ngIf",t.columns.length>1),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===t.columns.length))},directives:[d.NgIf,d.NgForOf,d.NgClass,d.NgTemplateOutlet,X],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}rx-runtime-view-canvas-item[_ngcontent-%COMP%]{display:block}  .rx-runtime-view-canvas-item-margin:not(:last-child){margin-bottom:1rem}.rx-runtime-view-canvas-item-auto-fill[_ngcontent-%COMP%], .rx-runtime-view-canvas-item-container-row[_ngcontent-%COMP%], .rx-runtime-view-canvas-item-container-column[_ngcontent-%COMP%]{height:100%}.rx-runtime-view-canvas-item-container-column[_ngcontent-%COMP%]{display:flex;flex-direction:column}.rx-runtime-view-canvas-item-auto-scroll[_ngcontent-%COMP%]{overflow-y:auto}.rx-mb-sm[_ngcontent-%COMP%]{margin-bottom:1rem}@media (min-width: 576px){.rx-mb-sm[_ngcontent-%COMP%]{margin-bottom:0}}.rx-mb-sm[_ngcontent-%COMP%]:nth-last-child(1){margin-bottom:0}.rx-mb-md[_ngcontent-%COMP%]{margin-bottom:1rem}@media (min-width: 768px){.rx-mb-md[_ngcontent-%COMP%]{margin-bottom:0}}.rx-mb-md[_ngcontent-%COMP%]:nth-last-child(1){margin-bottom:0}.rx-mb-lg[_ngcontent-%COMP%]{margin-bottom:1rem}@media (min-width: 992px){.rx-mb-lg[_ngcontent-%COMP%]{margin-bottom:0}}.rx-mb-lg[_ngcontent-%COMP%]:nth-last-child(1){margin-bottom:0}.rx-mb-xl[_ngcontent-%COMP%]{margin-bottom:1rem}@media (min-width: 1200px){.rx-mb-xl[_ngcontent-%COMP%]{margin-bottom:0}}.rx-mb-xl[_ngcontent-%COMP%]:nth-last-child(1){margin-bottom:0}.rx-mb-xxl[_ngcontent-%COMP%]{margin-bottom:1rem}@media (min-width: 1600px){.rx-mb-xxl[_ngcontent-%COMP%]{margin-bottom:0}}.rx-mb-xxl[_ngcontent-%COMP%]:nth-last-child(1){margin-bottom:0}']});class q{constructor(e){this.runtimeCanvasItemComponent=e,this.defaultOutletName=a.RX_VIEW_DEFINITION.defaultOutletName,this.layoutRole=a.ViewLayoutRole}isHidden(e){return e.name===a.ViewLayoutRole.Header&&0===e.columns[0].children.length}}q.\u0275fac=function(e){return new(e||q)(i["\u0275\u0275directiveInject"](X))},q.\u0275cmp=i["\u0275\u0275defineComponent"]({type:q,selectors:[["rx-runtime-view-root"]],decls:1,vars:1,consts:[[3,"hidden","columns","outlet","ngClass",4,"ngFor","ngForOf"],[3,"hidden","columns","outlet","ngClass"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,T,1,11,"rx-runtime-view-canvas-item-container",0),2&e&&i["\u0275\u0275property"]("ngForOf",t.runtimeCanvasItemComponent.layout.outlets)},directives:[d.NgForOf,W,d.NgClass],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:hidden}rx-runtime-view-canvas-item-container[_ngcontent-%COMP%]{padding:0 1rem}.outlet-padding[_ngcontent-%COMP%]{padding:1rem}.content-outlet[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden}"]});class Y{constructor(e,t,n,i,o,r,s){this.rxViewComponentRegistryService=e,this.viewDefinitionParserService=t,this.factoryResolver=n,this.tree=i,this.rxJsonParserService=o,this.rxLogService=r,this.rxOldViewLayoutAdapterService=s}clear(){this.layout=null}init(e,t){this.runtimeViewModel=e,this.runtimeViewModelApi=t,this.viewDefinitionParserService.getComponents(e.viewDefinition).forEach(this.processDefinition.bind(this))}processDefinition(e){if(this.rxOldViewLayoutAdapterService.convertLayout(e),e.parentComponentDefinition){const t=this.rxViewComponentRegistryService.get(e.componentDefinition.type);if(e.componentDefinition.type!==a.RxViewComponentType.Action&&t&&!this.runtimeViewModel.isDataViewComponentDefinition(t)){const n=JSON.parse(e.parentComponentDefinition.layout);let i=0;const o=n.outlets.find(t=>t.columns.find((t,n)=>{const o=t.children.includes(e.componentDefinition.guid);return o&&(i=n),o}));if(o){const n=this.runtimeViewModel.viewComponentStates.get(e.componentDefinition.guid).config$.asObservable(),r=this.getLayoutItem(e.parentComponentDefinition.guid);r.addLayoutItem(new $({guid:e.componentDefinition.guid,config:n,parent:r,runtimeViewModelApi:this.runtimeViewModelApi,outlets:t.outlets,factory:t.componentFactory}),{parentOutlet:o,columnIndex:i})}else{const t=e.componentDefinition;this.rxLogService.warning(`Cannot render view component. ${t.type} (${t.guid}) is not used in layout.`)}}}else this.initializeView(e.componentDefinition)}initializeView(e){const t=this.rxJsonParserService.tryParseJson(e.layout);this.layout=new $({guid:e.guid,parent:null,runtimeViewModelApi:this.runtimeViewModelApi,outlets:t.outlets,factory:this.factoryResolver.resolveComponentFactory(q)})}getLayoutItem(e){return this.tree.flattenBy(this.layout,e=>e.outlets.reduce((e,t)=>(t.columns.forEach(t=>{t.children.forEach(t=>{e.push(t)})}),e),[])).find(t=>t.guid===e)}}Y.\u0275fac=function(e){return new(e||Y)(i["\u0275\u0275inject"](a.RxViewComponentRegistryService),i["\u0275\u0275inject"](a.RxViewDefinitionParserService),i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](l.RxTreeService),i["\u0275\u0275inject"](l.RxJsonParserService),i["\u0275\u0275inject"](u.RxLogService),i["\u0275\u0275inject"](a.RxOldViewLayoutAdapterService))},Y.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Y,factory:Y.\u0275fac});class Q{clear(){this.runtimeViewModel=null}init(e){this.runtimeViewModel||(this.runtimeViewModel=e)}triggerViewActions(e,t){return this.runtimeViewModel.triggerViewActions(e,t)}cancel(e){return this.runtimeViewModel.cancel(e)}close(){return this.runtimeViewModel.close()}getViewInputParameters(){return this.runtimeViewModel.getViewInputParameters()}applyViewPreset(e,t,n){return this.runtimeViewModel.applyViewPreset(e,t,n)}deleteViewPreset(e){return this.runtimeViewModel.deleteViewPreset(e)}discardViewPresetChanges(e,t){return this.runtimeViewModel.discardViewPresetChanges(e,t)}saveViewPreset(e){return this.runtimeViewModel.saveViewPreset(e)}shareViewPreset(e){return this.runtimeViewModel.shareViewPreset(e)}}Q.\u0275fac=function(e){return new(e||Q)},Q.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Q,factory:Q.\u0275fac});class Z{constructor(e,t,n,i){this.propertyName=e,this.expression=t,this.rxExpressionEvaluatorService=n,this.customEvaluatorService=i}evaluate(e){return this.rxExpressionEvaluatorService.tryEvaluate(this.expression,e,this.customEvaluatorService)}hasDependency(e,t){return(0,c.includes)(this.expression,`${e}.${t}`)}hasTokens(){return(0,c.includes)(this.expression,"${view.")||this.hasKeywordTokens()}hasKeywordTokens(){return(0,c.includes)(this.expression,"${keywords.")}hasViewTokens(){return(0,c.includes)(this.expression,"${view.inputParams")||(0,c.includes)(this.expression,"${view.api")||this.hasViewIsValidToken()}hasViewIsValidToken(){return(0,c.includes)(this.expression,"${view.isValid}")}hasComponentTokens(){return(0,c.includes)(this.expression,"${view.components")}}class K{constructor(e,t,n,i){this.rxGlobalEventsService=e,this.rxLogService=t,this.rxViewActionService=n,this.errorHandler=i}executeActions(e,t){return new Promise((n,i)=>{let s;(0,o.from)(e).pipe((0,r.mergeScan)((e,n)=>(this.rxLogService.debug("ACTION STARTED: "+n.name),this.rxViewActionService.execute(n.name,n.parameters).pipe((0,r.map)(e=>t(n,e)),(0,r.take)(1))),null,1)).subscribe({next:e=>s=e,error:e=>{i(e),this.rxGlobalEventsService.viewActionsCompleted$.next(),(0,c.castArray)(e).forEach(e=>{(0,c.isString)(e)?this.rxLogService.warning(e):e&&this.errorHandler.handleError(e)})},complete:()=>{this.rxGlobalEventsService.viewActionsCompleted$.next(),n(s)}})})}}K.\u0275fac=function(e){return new(e||K)(i["\u0275\u0275inject"](u.RxGlobalEventsService),i["\u0275\u0275inject"](u.RxLogService),i["\u0275\u0275inject"](a.RxViewActionService),i["\u0275\u0275inject"](i.ErrorHandler))},K.\u0275prov=i["\u0275\u0275defineInjectable"]({token:K,factory:K.\u0275fac,providedIn:"root"});const J="default";class ee{constructor(e,t,n,i,o){this.rxViewDefinitionService=e,this.rxViewDefinitionParserService=t,this.rxDefinitionAdapterRegistryService=n,this.rxViewActionDefinitionAdapterRegistryService=i,this.rxViewDefinitionCacheService=o}isViewCancellable(e){return(0,c.isString)(e)?this.rxViewDefinitionCacheService.getViewDefinition(e).pipe((0,r.map)(e=>this.hasPageComponent(e)||this.hasViewCancellingAction(e))):(0,o.of)(this.hasPageComponent(e)||this.hasViewCancellingAction(e))}runAdaptersForComponents(e,t){const n=this.rxViewDefinitionParserService.getComponents(t||e),i=new RegExp(`\\\${view.components.${l.RX_GUID.baseGuidPattern}.`);e.viewComponentExpressions=(0,c.chain)(n).map(e=>(0,c.values)(e.componentDefinition.propertiesByName)).flatten().map(e=>(0,c.isObject)(e)?(0,c.values)(e):e).flatten().filter(c.isString).filter(e=>i.test(e)).value();const s=n.reduce((t,{componentDefinition:n})=>{const i=n.type===a.RxViewComponentType.Action?this.rxViewActionDefinitionAdapterRegistryService.getRuntimeAdapter(n.propertiesByName.name):this.rxDefinitionAdapterRegistryService.getRuntimeAdapter(n.type);if(i){const s=i.adaptDefinition(n,e);t.push(s?s.pipe((0,r.take)(1)):o.EMPTY)}return t},[]);return(0,c.isEmpty)(s)?[o.EMPTY]:s}hasViewCancellingAction(e){return Boolean(this.rxViewDefinitionParserService.findViewComponent(e,e=>e.type===a.RxViewComponentType.Action&&"rxCloseViewAction"===e.propertiesByName.name&&"true"===e.propertiesByName.actAsCancel))}hasPageComponent(e){var t;return(null===(t=(0,c.head)(e.componentDefinitions))||void 0===t?void 0:t.type)===a.RxViewComponentType.Page}}ee.\u0275fac=function(e){return new(e||ee)(i["\u0275\u0275inject"](a.RxViewDefinitionService),i["\u0275\u0275inject"](a.RxViewDefinitionParserService),i["\u0275\u0275inject"](u.RxDefinitionAdapterRegistryService),i["\u0275\u0275inject"](a.RxViewActionDefinitionAdapterRegistryService),i["\u0275\u0275inject"](a.RxViewDefinitionCacheService))},ee.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ee,factory:ee.\u0275fac,providedIn:"root"});class te{constructor(e,t,n){this.rxObjectUtilsService=e,this.rxJsonParserService=t,this.rxDeviceDetectionService=n}preProcessViewDefinition(e){var t;null===(t=e.componentDefinitions)||void 0===t||t.forEach(e=>{this.expandProperties(e)})}postProcessViewDefinition(e){var t;null===(t=e.componentDefinitions)||void 0===t||t.forEach(t=>{this.filterComponentsForDevice(t,e)})}expandProperties(e){e.propertiesByName=this.rxObjectUtilsService.expandProperties(e.propertiesByName),e.componentDefinitions&&e.componentDefinitions.forEach(e=>{this.expandProperties(e)})}filterComponentsForDevice(e,t){var n;if((this.rxJsonParserService.tryParseJson(null===(n=e.propertiesByName)||void 0===n?void 0:n[a.RX_AVAILABLE_ON_DEVICES_PROP_NAME],a.RX_AVAILABLE_ON_DEVICES_ALL_VALUE)||a.RX_AVAILABLE_ON_DEVICES_ALL_VALUE).includes(this.rxDeviceDetectionService.currentDevice))"componentDefinitions"in e&&e.componentDefinitions.forEach(t=>{this.filterComponentsForDevice(t,e)});else if(t.componentDefinitions=t.componentDefinitions.filter(t=>t!==e),t.layout){const n=a.RxViewLayout.removeChildFromLayout(this.rxJsonParserService.tryParseJson(t.layout),e.guid);t.layout=JSON.stringify(n)}}}te.\u0275fac=function(e){return new(e||te)(i["\u0275\u0275inject"](l.RxObjectUtilsService),i["\u0275\u0275inject"](l.RxJsonParserService),i["\u0275\u0275inject"](a.RxDeviceDetectionService))},te.\u0275prov=i["\u0275\u0275defineInjectable"]({token:te,factory:te.\u0275fac,providedIn:"root"});class ne{constructor(e,t,n,i,r,s,a,l,c,d,u,p,h,m,f,g,v){this.rxBundleService=e,this.rxGlobalCacheService=t,this.rxViewComponentRegistryService=n,this.rxViewDefinitionAdapterService=i,this.rxViewDefinitionParserService=r,this.rxViewDefinitionService=s,this.rxRuntimeViewUtilsService=a,this.rxExpressionEvaluatorService=l,this.rxNotificationService=c,this.rxViewActionRegistryService=d,this.rxLogService=u,this.viewComponentEventManager=p,this.rxUtilityModalsService=h,this.rxViewDefinitionCacheService=m,this.rxObjectUtilsService=f,this.rxJsonParserService=g,this.rxCurrentUserService=v,this.api={save:this.save.bind(this),close:this.close.bind(this),cancel:this.cancel.bind(this),refresh:this.refresh.bind(this),canClose:this.canClose.bind(this),applyViewPreset:this.applyViewPreset.bind(this),deleteViewPreset:this.deleteViewPreset.bind(this),discardViewPresetChanges:this.discardViewPresetChanges.bind(this),saveViewPreset:this.saveViewPreset.bind(this)},this.saveSubject=new o.Subject,this.closeSubject=new o.Subject,this.cancelSubject=new o.Subject,this.save$=this.saveSubject.asObservable(),this.close$=this.closeSubject.asObservable(),this.cancel$=this.cancelSubject.asObservable(),this.viewComponentStates=new Map,this.evaluationData={view:{api:this.api,components:{},inputParams:{},isValid:!1},keywords:{user:this.rxCurrentUserService.getName(),newLine:"\n"}}}init(e){this.configuration=e,this.clear();return((0,c.isString)(e.viewDefinitionName)?this.rxViewDefinitionCacheService.getViewDefinition(e.viewDefinitionName):(0,o.of)(e.viewDefinitionName)).pipe((0,r.switchMap)(e=>{const t=this.rxViewDefinitionParserService.getComponents(e,!0).map(e=>e.componentDefinition.type===a.RxViewComponentType.Action?this.rxViewActionRegistryService.getActionOwnerBundleId(e.componentDefinition.propertiesByName.name):this.rxViewComponentRegistryService.getComponentOwnerBundleId(e.componentDefinition.type));return(0,o.merge)(...t).pipe((0,r.filter)(Boolean),(0,r.distinct)(),(0,r.reduce)((e,t)=>(e.push(t),e),[]),(0,r.switchMap)(t=>t.length?this.rxBundleService.loadBundles(t,!0).pipe((0,r.map)(()=>e)):(0,o.of)(e)),(0,r.switchMap)(e=>this.rxViewComponentRegistryService.resolveAsyncDescriptors().pipe((0,r.map)(()=>e))))}),(0,r.switchMap)(e=>this.processViewDefinition(e)))}clear(){this.viewComponentStates.clear(),this.evaluationData.view.components={},this.evaluationData.view.inputParams={}}save(e=!1){return this.callRuntimeComponentsApi("save",e).pipe((0,r.tap)({complete:()=>this.saveSubject.next()}))}close(){const e=this.evaluateViewOutputParams();return this.closeSubject.next(e),(0,o.of)(e)}cancel(e){return e?(this.cancelSubject.next(),o.EMPTY):this.isDirtyView().pipe((0,r.switchMap)(e=>e?this.rxUtilityModalsService.confirmUnsavedChanges():(0,o.of)(!0)),(0,r.tap)(e=>{e&&this.cancelSubject.next()}),(0,r.switchMap)(e=>e?o.EMPTY:(0,o.throwError)(null)))}refresh(){return this.callRuntimeComponentsApi("refresh")}canClose(){let e=!0;return this.isDirtyView().subscribe(t=>e=!t),e}applyViewPreset(e,t,n){return this.callRuntimeComponentsApi("applyViewPreset",e,t,n).pipe((0,r.switchMap)(()=>o.EMPTY))}deleteViewPreset(e){return this.callRuntimeComponentsApi("deleteViewPreset",e).pipe((0,r.switchMap)(()=>o.EMPTY))}discardViewPresetChanges(e,t){return this.callRuntimeComponentsApi("discardViewPresetChanges",e,t).pipe((0,r.switchMap)(()=>o.EMPTY))}saveViewPreset(e){return this.callRuntimeComponentsApi("saveViewPreset",e).pipe((0,r.switchMap)(()=>o.EMPTY))}shareViewPreset(e){return this.callRuntimeComponentsApi("shareViewPreset",e).pipe((0,r.defaultIfEmpty)([]),(0,r.map)(e=>e.filter(e=>Boolean(null==e?void 0:e.data)).reduce((e,t)=>(e[t.guid]=t.data,e),{})))}triggerViewActions(e,t){let n=Promise.resolve();const i=this.viewComponentStates.get(e);if(i){const o=i.eventStates[t];if(o){const t=o.map(e=>({guid:e.guid,name:e.name,parameters:e.config}));n=this.viewComponentEventManager.executeActions(t,(t,n)=>{this.onViewComponentActionOutputChanged(e,t.guid,n)})}else this.rxLogService.warning(`Cannot trigger view actions. View Action Trigger Event ${t} not found.`)}else this.rxLogService.warning(`Cannot trigger view actions. View Component ${e} not found.`);return n}onViewComponentPropertyChanged({guid:e,propertyName:t,newValue:n}){const i=this.viewComponentStates.get(e);i.publicState[t]=n,this.updateEvaluationData(i),"api"!==t&&(0,c.some)(i.componentDescriptor.properties,{name:t})&&(this.updateComponentConfigProperty(t,n,i),this.updateViewComponentConfig(i));const o=i.dependentViewComponentsMap.get(t);let r;o?r=o.map(e=>this.viewComponentStates.get(e)):(r=this.getDependentViewComponentStates(n=>n.hasDependency(e,t)),i.dependentViewComponentsMap.set(t,r.map(e=>e.guid))),r.forEach(n=>{this.evaluateDependentProperties(n,e,t)}),r.map(e=>e.isDataViewComponent?this.getParentViewComponent(e):e).forEach(e=>{this.updateViewComponentConfig(e)}),"isValid"===t&&this.triggerViewValidation(n)}isDataViewComponentDefinition(e){return void 0!==e.configPropertyName}getViewInputParameters(){return this.configuration.inputParams}isDirtyView(){const e=new o.ReplaySubject(1);let t=!1;return this.isUserInteractionDetected?this.callRuntimeComponentsApi("isDirty").pipe((0,r.tap)(e=>t=e.some(({data:e})=>e))).subscribe({complete:()=>e.next(t)}):e.next(t),e.asObservable().pipe((0,r.take)(1))}triggerViewValidation(e){if(e&&(e=Array.from(this.viewComponentStates.values()).filter(e=>(0,c.has)(e.publicState,"isValid")).every(e=>e.publicState.isValid)),this.evaluationData.view.isValid!==e){let t;this.evaluationData.view.isValid=e,this.dependentOnViewIsValidPropViewComponentGuids?t=this.dependentOnViewIsValidPropViewComponentGuids.map(e=>this.viewComponentStates.get(e)):(t=this.getDependentViewComponentStates(e=>e.hasViewIsValidToken()),this.dependentOnViewIsValidPropViewComponentGuids=t.map(e=>e.guid)),t.forEach(e=>{this.evaluateComponentExpressions(e,e=>e.hasViewIsValidToken())}),o.asyncScheduler.schedule(()=>{t.forEach(this.updateViewComponentConfig.bind(this))})}}getParentViewComponent(e){let t=e;for(;t.isDataViewComponent;)t=this.viewComponentStates.get(t.parentViewComponentGuid);return t}getDependentViewComponentStates(e){return Array.from(this.viewComponentStates.values()).filter(t=>{const n=(0,c.some)(t.expressions,e),i=(0,c.some)(t.eventStates,t=>(0,c.some)(t,t=>(0,c.some)(t.expressions,e)));return n||i})}updateViewComponentConfig(e){e.config$.next(this.buildComponentConfig(e))}buildComponentConfig(e){const t=Object.assign({},e.configState);return this.buildComponentChildDataConfig(e,t),t}buildComponentChildDataConfig(e,t={}){const n=e.childViewComponentGuids.map(e=>this.viewComponentStates.get(e)).filter(e=>Boolean(e)).filter(e=>e.isDataViewComponent),i=(0,c.groupBy)(n,e=>e.configPropertyName);Object.keys(i).forEach(e=>{t[e]=i[e].map(e=>{const t=Object.assign({},e.configState);return this.buildComponentChildDataConfig(e,t),t})})}onViewComponentActionOutputChanged(e,t,n){const i=this.viewComponentStates.get(e);if(i){i.eventStates[J].find(e=>e.guid===t).publicState.output=n,this.updateEvaluationData(i),this.evaluateDependentProperties(i,t,"output")}}evaluateViewOutputParams(){return this.viewDefinition.outputParams.reduce((e,t)=>(e[t.name]=this.rxExpressionEvaluatorService.tryEvaluate(t.source,this.evaluationData),e),{})}processViewDefinition(e){this.viewDefinition=this.rxObjectUtilsService.cloneDeep(e),this.rxViewDefinitionAdapterService.preProcessViewDefinition(this.viewDefinition);const t=this.rxRuntimeViewUtilsService.runAdaptersForComponents(this.viewDefinition);return(0,o.combineLatest)(t).pipe((0,r.switchMapTo)(o.EMPTY),(0,r.tap)({complete:()=>{this.rxViewDefinitionAdapterService.postProcessViewDefinition(this.viewDefinition),this.rxViewDefinitionParserService.getComponents(this.viewDefinition).forEach(this.processComponentDefinition.bind(this)),this.viewComponentStates.forEach(e=>{this.evaluateComponentExpressions(e,e=>e.hasKeywordTokens())}),this.viewComponentStates.forEach(e=>{this.evaluateComponentExpressions(e,e=>!e.hasTokens())}),this.viewComponentStates.forEach(e=>{this.evaluateComponentExpressions(e,e=>e.hasViewTokens())}),this.viewComponentStates.forEach(e=>{this.evaluateComponentExpressions(e,e=>e.hasComponentTokens())}),this.viewComponentStates.forEach(e=>{this.updateViewComponentConfig(e)})}}))}processComponentDefinition(e){if(e.parentComponentDefinition){const t=e.componentDefinition,n=this.buildViewComponentState(e);n&&this.viewComponentStates.set(t.guid,n)}else{const t=(0,c.map)(e.componentDefinition.inputParams,"name"),n=(0,c.keys)(this.configuration.inputParams);n.length>0&&(0,c.every)(n,e=>/^\$[0-9]+\$$/.test(e))&&0===(0,c.intersection)(t,n).length?(0,c.forEach)(n,t=>{const n=Number(t.match(/^\$([0-9]+)\$$/)[1]),i=(0,c.get)(e.componentDefinition,`inputParams[${n}].name`);this.evaluationData.view.inputParams[i]=this.configuration.inputParams[t]}):(0,c.forEach)(t,e=>{this.evaluationData.view.inputParams[e]=this.configuration.inputParams[e]})}}buildViewComponentState(e){const t=e.componentDefinition,n=this.rxViewComponentRegistryService.get(t.type);if(n){const i={guid:t.guid,type:t.type,config$:new o.BehaviorSubject({}),expressions:[],eventStates:{[J]:[]},configState:{},publicState:{},isDataViewComponent:!1,configPropertyName:null,parentViewComponentGuid:e.parentComponentDefinition.guid,childViewComponentGuids:[],dependentViewComponentsMap:new Map,componentDescriptor:n};return this.isDataViewComponentDefinition(n)&&(i.isDataViewComponent=!0,i.configPropertyName=n.configPropertyName),(0,c.forOwn)(t.propertiesByName,(e,t)=>{const o=(0,c.find)(n.properties,e=>t===e.name),r=o&&o.enableExpressionEvaluation;r&&i.expressions.push(new Z(t,e,this.rxExpressionEvaluatorService,o.evaluatorService)),this.updateComponentConfigProperty(t,r?null:e,i)}),this.updateEvaluationData(i),this.isContainerComponentDefinition(t)&&(t.componentDefinitions.filter(e=>e.type===a.RxViewComponentType.Action).forEach(e=>{const t=this.buildViewComponentActionState(e);t&&i.eventStates[J].push(t)}),i.eventStates[J]=(0,c.sortBy)(i.eventStates[J],"index"),i.childViewComponentGuids=t.componentDefinitions.filter(e=>e.type!==a.RxViewComponentType.Action).map(e=>e.guid)),i}t.type!==a.RxViewComponentType.Action&&this.rxLogService.warning(`Cannot initialize view component. View Component Descriptor for ${t.type} not found.`)}buildViewComponentActionState(e){const t=this.rxViewActionRegistryService.get(e.propertiesByName.name);if(t){const n={guid:e.guid,name:e.propertiesByName.name,index:(0,c.toNumber)(e.propertiesByName.index)||0,config:{},publicState:{},expressions:[]};return Object.keys(e.propertiesByName||{}).filter(e=>"name"!==e).map(i=>{const o=(t.parameters||[]).find(e=>i===e.name),r=o&&o.enableExpressionEvaluation;r&&this.initializeActionExpressionForProperty(n,o.evaluatorService,i,e.propertiesByName[i]),this.updateActionConfigProperty(i,r?null:e.propertiesByName[i],n)}),n}}initializeActionExpressionForProperty(e,t,n,i){(0,c.isObject)(i)?(0,c.forIn)(i,(i,o)=>{this.initializeActionExpressionForProperty(e,t,`${n}.${o}`,i)}):e.expressions.push(new Z(n,i,this.rxExpressionEvaluatorService,t))}callRuntimeComponentsApi(e,...t){const n=new o.ReplaySubject(1),i=[],s=Array.from(this.viewComponentStates.values()).filter(t=>Boolean(t.publicState.api&&(0,c.isFunction)(t.publicState.api[e]))).map(n=>{let s=n.publicState.api[e].apply(null,t);return s&&s.then?s=(0,o.from)(s):s instanceof o.Observable||(s=(0,o.of)(s)),s.pipe((0,r.take)(1),(0,r.map)(e=>({guid:n.guid,data:e})),(0,r.tap)({error:e=>i.push(e)}),(0,r.catchError)(()=>o.EMPTY))});return(0,o.combineLatest)(s).subscribe({next:e=>n.next(e),complete:()=>(0,c.isEmpty)(i)?n.complete():n.error(i)}),n.asObservable()}evaluateComponentExpressions(e,t){e.expressions.filter(t).forEach(t=>{this.updateComponentConfigProperty(t.propertyName,this.evaluateExpression(t),e)}),this.updateEvaluationData(e),Object.keys(e.eventStates).forEach(n=>{e.eventStates[n].forEach(n=>{n.expressions.filter(t).forEach(t=>{this.updateActionConfigProperty(t.propertyName,this.evaluateExpression(t),n),this.updateEvaluationData(e)})})})}evaluateDependentProperties(e,t,n){this.evaluateComponentExpressions(e,e=>e.hasDependency(t,n))}evaluateExpression(e){let t;try{t=e.evaluate(this.evaluationData)}catch(n){t=null,this.rxNotificationService.addErrorMessage(n.message,"")}return t}updateComponentConfigProperty(e,t,n){const i=this.rxViewComponentRegistryService.get(n.type),o=(0,c.find)(i.properties,{name:e});n.configState[e]=this.processPropertyValue(t,o)}updateActionConfigProperty(e,t,n){const i=this.rxViewActionRegistryService.get(n.name);let o=(0,c.find)(i.parameters,{name:e});if(!o&&(0,c.includes)(e,".")){const t=e.split(".")[0];o=(0,c.find)(i.parameters,{name:t})}(0,c.set)(n.config,e,this.processPropertyValue(t,o))}updateEvaluationData(e){this.evaluationData.view.components[e.guid]=Object.assign(Object.assign({},e.configState),e.publicState),Object.keys(e.eventStates).forEach(t=>{e.eventStates[t].forEach(e=>{this.evaluationData.view.components[e.guid]=e.publicState})})}processPropertyValue(e,t){return t&&t.type&&!(0,c.isNil)(e)&&(t.type===a.ViewComponentPropertyType.Boolean?e=!(0,c.includes)(["0","false"],e)&&Boolean(e):t.type===a.ViewComponentPropertyType.Number?(e=Number(e),Number.isNaN(e)&&(e=null)):t.type===a.ViewComponentPropertyType.String?e=String(e):[a.ViewComponentPropertyType.Array,a.ViewComponentPropertyType.Object].includes(t.type)&&(e=this.rxJsonParserService.tryParseJson(e))),e}isContainerComponentDefinition(e){return void 0!==e.componentDefinitions}}ne.\u0275fac=function(e){return new(e||ne)(i["\u0275\u0275inject"](u.RxBundleService),i["\u0275\u0275inject"](u.RxGlobalCacheService),i["\u0275\u0275inject"](a.RxViewComponentRegistryService),i["\u0275\u0275inject"](te),i["\u0275\u0275inject"](a.RxViewDefinitionParserService),i["\u0275\u0275inject"](a.RxViewDefinitionService),i["\u0275\u0275inject"](ee),i["\u0275\u0275inject"](a.RxExpressionEvaluatorService),i["\u0275\u0275inject"](u.RxNotificationService),i["\u0275\u0275inject"](a.RxViewActionRegistryService),i["\u0275\u0275inject"](u.RxLogService),i["\u0275\u0275inject"](K),i["\u0275\u0275inject"](p.RxUtilityModalsService),i["\u0275\u0275inject"](a.RxViewDefinitionCacheService),i["\u0275\u0275inject"](l.RxObjectUtilsService),i["\u0275\u0275inject"](l.RxJsonParserService),i["\u0275\u0275inject"](u.RxCurrentUserService))},ne.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ne,factory:ne.\u0275fac});class ie{constructor(){this.activeRuntimeViews=[]}register(e){this.activeRuntimeViews.includes(e)||this.activeRuntimeViews.push(e)}getAll(){return this.activeRuntimeViews}unregister(e){(0,c.pull)(this.activeRuntimeViews,e)}}ie.\u0275fac=function(e){return new(e||ie)},ie.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ie,factory:ie.\u0275fac,providedIn:"root"});class oe{constructor(e){this.runtimeViewCanvasService=e,this.componentPropertyChanged=new i.EventEmitter,this.destroy$=new o.Subject}ngOnInit(){this.runtimeViewCanvasService.componentPropertyChanged$.pipe((0,r.takeUntil)(this.destroy$)).subscribe(e=>{this.componentPropertyChanged.emit(e)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}oe.\u0275fac=function(e){return new(e||oe)(i["\u0275\u0275directiveInject"](U))},oe.\u0275cmp=i["\u0275\u0275defineComponent"]({type:oe,selectors:[["rx-runtime-view-canvas"]],inputs:{layout:"layout"},outputs:{componentPropertyChanged:"componentPropertyChanged"},features:[i["\u0275\u0275ProvidersFeature"]([U])],decls:1,vars:1,consts:[["class","root-item",3,"layout",4,"ngIf"],[1,"root-item",3,"layout"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,R,1,1,"rx-runtime-view-canvas-item",0),2&e&&i["\u0275\u0275property"]("ngIf",t.layout)},directives:[d.NgIf,X],encapsulation:2});class re{constructor(e,t,n,r,s,a,l,c,d){this.runtimeViewModelApi=e,this.rxRecordDefinitionCacheService=t,this.runtimeViewLayoutService=n,this.runtimeViewModel=r,this.rxProcessDefinitionCacheService=s,this.rxRuntimeViewRegistryService=a,this.rxViewDefinitionCacheService=l,this.rxAssociationDefinitionCacheService=c,this.rxViewDefinitionService=d,this.destroyed$=new o.ReplaySubject(1),this.save=new i.EventEmitter,this.closeView=new i.EventEmitter,this.cancelView=new i.EventEmitter,this.beforeLoad=new i.EventEmitter,this.afterLoad=new i.EventEmitter,this.rxAssociationDefinitionCacheService.registerConsumer(this.destroyed$),this.rxProcessDefinitionCacheService.registerConsumer(this.destroyed$),this.rxRecordDefinitionCacheService.registerConsumer(this.destroyed$),this.rxViewDefinitionCacheService.registerConsumer(this.destroyed$)}onTrigger(){this.runtimeViewModel.isUserInteractionDetected=!0}ngOnInit(){this.init(),this.runtimeViewModel.cancel$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(()=>this.cancelView.emit()),this.runtimeViewModel.save$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(()=>this.save.emit()),this.runtimeViewModel.close$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>this.closeView.emit(e))}ngOnChanges(e){e.configuration.currentValue&&e.configuration.previousValue&&e.configuration.currentValue.viewDefinitionName!==e.configuration.previousValue.viewDefinitionName&&(this.runtimeViewModelApi.clear(),this.runtimeViewLayoutService.clear(),this.configuration=e.configuration.currentValue,this.init())}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete(),this.rxRuntimeViewRegistryService.unregister(this.runtimeViewModel)}init(){this.beforeLoad.emit(),this.runtimeViewModel.init(this.configuration).subscribe({complete:()=>{this.runtimeViewModelApi.init(this.runtimeViewModel),this.runtimeViewLayoutService.init(this.runtimeViewModel,this.runtimeViewModelApi),this.hostClass=this.runtimeViewModel.viewDefinition.styles||"",this.rxViewDefinitionService.isPageView(this.runtimeViewModel.viewDefinition)&&(this.hostClass=this.hostClass+" rx-page-view"),this.viewDefinitionGuid=this.runtimeViewModel.viewDefinition.guid,this.runtimeViewModel.isUserInteractionDetected=!1,this.afterLoad.emit()}}),this.configuration.onRegisterApi&&this.configuration.onRegisterApi(this.runtimeViewModel.api),this.rxRuntimeViewRegistryService.register(this.runtimeViewModel)}}re.\u0275fac=function(e){return new(e||re)(i["\u0275\u0275directiveInject"](Q),i["\u0275\u0275directiveInject"](s.RxRecordDefinitionCacheService),i["\u0275\u0275directiveInject"](Y),i["\u0275\u0275directiveInject"](ne),i["\u0275\u0275directiveInject"](m.RxProcessDefinitionCacheService),i["\u0275\u0275directiveInject"](ie),i["\u0275\u0275directiveInject"](a.RxViewDefinitionCacheService),i["\u0275\u0275directiveInject"](h.RxAssociationDefinitionCacheService),i["\u0275\u0275directiveInject"](a.RxViewDefinitionService))},re.\u0275cmp=i["\u0275\u0275defineComponent"]({type:re,selectors:[["rx-runtime-view"]],hostVars:3,hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("focusin",function(){return t.onTrigger()}),2&e&&(i["\u0275\u0275attribute"]("rx-view-definition-guid",t.viewDefinitionGuid),i["\u0275\u0275classMap"](t.hostClass))},inputs:{configuration:"configuration"},outputs:{save:"save",closeView:"closeView",cancelView:"cancelView",beforeLoad:"beforeLoad",afterLoad:"afterLoad"},features:[i["\u0275\u0275ProvidersFeature"]([ne,Q,Y]),i["\u0275\u0275NgOnChangesFeature"]],decls:1,vars:1,consts:[[3,"layout","componentPropertyChanged",4,"ngIf"],[3,"layout","componentPropertyChanged"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,M,1,1,"rx-runtime-view-canvas",0),2&e&&i["\u0275\u0275property"]("ngIf",t.runtimeViewLayoutService.layout)},directives:[d.NgIf,oe],styles:[".rx-page-view[_nghost-%COMP%]     .outlet-padding{padding:0}.rx-page-view[_nghost-%COMP%]     rx-runtime-view-canvas-item{height:100%}"]});class se{constructor(){this.customCssClasses="",this.autoFill=new i.EventEmitter,this.autoScroll=new i.EventEmitter,this.hidden=new i.EventEmitter,this.isComponentHidden=!1,this.destroyed$=new o.ReplaySubject(1),this.propertyChanged=new i.EventEmitter}get isHidden(){return this.isComponentHidden}set isHidden(e){this.hidden.emit(e),this.isComponentHidden=Boolean(e)}ngOnInit(){this.config.pipe((0,r.pluck)("styles"),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.customCssClasses=e||"",this.autoFill.emit(this.customCssClasses.includes("rx-auto-fill")),this.autoScroll.emit(this.customCssClasses.includes("rx-auto-scroll"))})}notifyPropertyChanged(e,t,n){this.propertyChanged.next({guid:this.guid,propertyName:e,newValue:t,oldValue:n})}triggerViewActions(e=this.guid,t=J){return this.runtimeViewModelApi.triggerViewActions(e,t)}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}se.\u0275fac=function(e){return new(e||se)},se.\u0275dir=i["\u0275\u0275defineDirective"]({type:se,hostVars:4,hostBindings:function(e,t){2&e&&(i["\u0275\u0275hostProperty"]("hidden",t.isHidden),i["\u0275\u0275attribute"]("rx-view-component-id",t.guid),i["\u0275\u0275classMap"](t.customCssClasses))},outputs:{autoFill:"autoFill",autoScroll:"autoScroll",hidden:"hidden"}});class ae{constructor(e,t){this.runtimeViewCanvasItemService=e,this.componentFactoryResolver=t,this.name=a.RX_VIEW_DEFINITION.defaultOutletName}ngOnInit(){this.runtimeViewCanvasItemService.registerOutlet(this.name,this.container,this.componentFactoryResolver.resolveComponentFactory(W))}}ae.\u0275fac=function(e){return new(e||ae)(i["\u0275\u0275directiveInject"](H),i["\u0275\u0275directiveInject"](i.ComponentFactoryResolver))},ae.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ae,selectors:[["rx-runtime-view-canvas-outlet"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](y,7,i.ViewContainerRef),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.container=e.first)}},inputs:{name:"name"},decls:2,vars:0,consts:[["container",""]],template:function(e,t){1&e&&i["\u0275\u0275elementContainer"](0,null,0)},encapsulation:2});class le{}le.\u0275fac=function(e){return new(e||le)},le.\u0275mod=i["\u0275\u0275defineNgModule"]({type:le,declarations:[oe,X,W,ae],imports:[d.CommonModule,f.FormsModule],exports:[ae,oe,X,W]}),le.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[d.CommonModule,f.FormsModule]]});class ce{constructor(e,t,n,i,o,r){this.rxRuntimeViewRegistryService=e,this.rxUtilityModalsService=t,this.translateService=n,this.changeDetector=i,this.activeModalRef=o,this.dockedPanelContext=r,this.isBlade=!1,this.context=r||o,this.isBlade=Boolean(r);const s=this.context.getData();this.configuration=s.configuration,this.title=s.title,this.notification=s.notification,this.isCancellable=s.isCancellable,this.closeLabel=n.instant("com.bmc.arsys.rx.client.common.close.label")}onCancelView(){this.context.dismiss(null)}closeModal(){this.context.dismiss(v.DismissReasons.CLOSE_BTN)}onClose(e){this.context.close(e)}onBeforeLoad(){this.busySubscription=o.NEVER.subscribe(),this.changeDetector.detectChanges()}onAfterLoad(){var e;null===(e=this.busySubscription)||void 0===e||e.unsubscribe()}}ce.\u0275fac=function(e){return new(e||ce)(i["\u0275\u0275directiveInject"](ie),i["\u0275\u0275directiveInject"](p.RxUtilityModalsService),i["\u0275\u0275directiveInject"](g.TranslateService),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](v.ActiveModalRef,8),i["\u0275\u0275directiveInject"](v.DockedPanelContext,8))},ce.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ce,selectors:[["rx-runtime-view-modal"]],decls:8,vars:10,consts:[[4,"ngIf"],["modalHeader",""],["class","pl-4 pt-4",3,"config",4,"ngIf"],[3,"ngClass"],[1,"position-relative"],[3,"options"],[3,"configuration","cancelView","closeView","beforeLoad","afterLoad"],["class","dp-header",4,"ngIf","ngIfElse"],[1,"dp-header"],[1,"dp-title"],["class","close dp-close","rx-id","x-button",3,"click",4,"ngIf"],["rx-id","x-button",1,"close","dp-close",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"pl-4","pt-4",3,"config"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,F,2,2,"ng-container",0),i["\u0275\u0275template"](1,N,4,2,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](3,L,1,3,"adapt-alert",2),i["\u0275\u0275elementStart"](4,"div",3),i["\u0275\u0275elementStart"](5,"div",4),i["\u0275\u0275element"](6,"rx-busy-indicator",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"rx-runtime-view",6),i["\u0275\u0275listener"]("cancelView",function(){return t.onCancelView()})("closeView",function(e){return t.onClose(e)})("beforeLoad",function(){return t.onBeforeLoad()})("afterLoad",function(){return t.onAfterLoad()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("ngIf",t.title||t.isCancellable),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.notification),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction2"](5,V,!t.isBlade,t.isBlade)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("options",i["\u0275\u0275pureFunction1"](8,B,t.busySubscription)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("configuration",t.configuration))},directives:[d.NgIf,d.NgClass,p.RxBusyIndicatorComponent,re,v.AdaptAlertComponent],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{min-height:34px}.dp-header[_ngcontent-%COMP%]{flex-direction:row!important}.dp-content[_ngcontent-%COMP%] > rx-runtime-view[_ngcontent-%COMP%]{height:100%}"]});const de={actions:{save:"rx-runtime-view-save",close:"rx-runtime-view-close",cancel:"rx-runtime-view-cancel"}};class ue{}ue.\u0275fac=function(e){return new(e||ue)},ue.\u0275mod=i["\u0275\u0275defineNgModule"]({type:ue,declarations:[re,q,ce],imports:[d.CommonModule,le,g.TranslateModule,v.AdaptAlertModule,p.RxBusyIndicatorModule],exports:[le,re,q,ce]}),ue.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[d.CommonModule,le,g.TranslateModule,v.AdaptAlertModule,p.RxBusyIndicatorModule],le]})},"./node_modules/@swimlane/ngx-charts/fesm2015/swimlane-ngx-charts.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdvancedLegendComponent:()=>hi,AdvancedPieChartComponent:()=>oo,AlignmentTypes:()=>Bn,AreaChartComponent:()=>xi,AreaChartModule:()=>Ei,AreaChartNormalizedComponent:()=>wi,AreaChartStackedComponent:()=>Ci,AreaComponent:()=>ei,AreaSeriesComponent:()=>Ai,AxesModule:()=>Ln,AxisLabelComponent:()=>Rn,BarChartModule:()=>Gi,BarComponent:()=>Di,BarHorizontal2DComponent:()=>Ri,BarHorizontalComponent:()=>Ti,BarHorizontalNormalizedComponent:()=>Mi,BarHorizontalStackedComponent:()=>Oi,BarLabelComponent:()=>Bi,BarVertical2DComponent:()=>Fi,BarVerticalComponent:()=>Pi,BarVerticalNormalizedComponent:()=>ki,BarVerticalStackedComponent:()=>Ni,BaseChartComponent:()=>Tn,BubbleChartComponent:()=>Ui,BubbleChartModule:()=>Xi,BubbleSeriesComponent:()=>Hi,CardComponent:()=>go,CardSeriesComponent:()=>xo,ChartCommonModule:()=>mi,ChartComponent:()=>En,CircleComponent:()=>Yn,CircleSeriesComponent:()=>qn,ColorHelper:()=>vi,CountUpDirective:()=>oi,D0Types:()=>ji,GaugeArcComponent:()=>To,GaugeAxisComponent:()=>Ro,GaugeComponent:()=>Do,GaugeModule:()=>Mo,GridPanelComponent:()=>Qn,GridPanelSeriesComponent:()=>Zn,HeatCellSeriesComponent:()=>qi,HeatMapCellComponent:()=>Wi,HeatMapComponent:()=>Yi,HeatMapModule:()=>Qi,LegendComponent:()=>di,LegendEntryComponent:()=>ui,LineChartComponent:()=>Ki,LineChartModule:()=>eo,LineComponent:()=>Zi,LineSeriesComponent:()=>Ji,LinearGaugeComponent:()=>Eo,NgxChartsModule:()=>Oo,NumberCardComponent:()=>wo,NumberCardModule:()=>Co,PieArcComponent:()=>so,PieChartComponent:()=>ao,PieChartModule:()=>mo,PieGridComponent:()=>uo,PieGridSeriesComponent:()=>po,PieLabelComponent:()=>ro,PieSeriesComponent:()=>ho,PolarChartComponent:()=>no,PolarChartModule:()=>fo,PolarSeriesComponent:()=>io,ScaleLegendComponent:()=>pi,SeriesHorizontal:()=>Vi,SeriesVerticalComponent:()=>Li,ShowTypes:()=>Gn,StyleTypes:()=>Vn,SvgLinearGradientComponent:()=>Kn,SvgRadialGradientComponent:()=>Jn,Timeline:()=>ci,TooltipArea:()=>li,TooltipContentComponent:()=>Sn,TooltipDirective:()=>zn,TooltipModule:()=>$n,TooltipService:()=>An,TreeMapCellComponent:()=>_o,TreeMapCellSeriesComponent:()=>So,TreeMapComponent:()=>Io,TreeMapModule:()=>Ao,VisibilityObserver:()=>Dn,XAxisComponent:()=>Fn,XAxisTicksComponent:()=>Pn,YAxisComponent:()=>jn,YAxisTicksComponent:()=>Nn,calculateViewDimensions:()=>fi,colorSets:()=>gi,count:()=>ni,decimalChecker:()=>ii,escapeLabel:()=>Hn,formatLabel:()=>Un,getDomain:()=>zi,getScale:()=>$i,getScaleType:()=>bi,getUniqueXDomainValues:()=>yi,gridLayout:()=>co,gridSize:()=>lo,hexToRgb:()=>vo,id:()=>Wn,invertColor:()=>yo,reduceTicks:()=>On,shadeRGBColor:()=>bo,sortByDomain:()=>Si,sortByTime:()=>Ii,sortLinear:()=>_i,throttle:()=>yn,throttleable:()=>bn,tickFormat:()=>Po,trimLabel:()=>Mn,"\u0275a":()=>In,"\u0275b":()=>vn});var i=n("./node_modules/@angular/core/fesm2015/core.js"),o=n("./node_modules/@angular/common/fesm2015/common.js"),r=n("./node_modules/@angular/animations/fesm2015/animations.js"),s=n("./node_modules/@angular/cdk/fesm2015/portal.js"),a=n("./node_modules/tslib/tslib.es6.js"),l=n("rxjs"),c=n("./node_modules/rxjs/_esm2015/operators/index.js"),d=n("./node_modules/d3-selection/src/index.js"),u=n("./node_modules/d3-brush/src/index.js"),p=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/index.js"),h=n("./node_modules/@angular/platform-browser/fesm2015/platform-browser.js"),m=n("./node_modules/d3-shape/src/index.js"),f=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/index.js"),g=n("./node_modules/d3-interpolate/src/index.js"),v=n("./node_modules/d3-format/src/index.js"),y=n("./node_modules/d3-color/src/index.js"),b=n("./node_modules/d3-hierarchy/src/index.js"),x=n("./node_modules/d3-time-format/src/index.js");const w=["caretElm"];function C(e,t){}const _=function(e){return{model:e}};function S(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275template"](1,C,0,0,"ng-template",5),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",e.template)("ngTemplateOutletContext",i["\u0275\u0275pureFunction1"](2,_,e.context))}}function I(e,t){if(1&e&&i["\u0275\u0275element"](0,"span",6),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("innerHTML",e.title,i["\u0275\u0275sanitizeHtml"])}}function A(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275namespaceHTML"](),i["\u0275\u0275element"](0,"ngx-charts-scale-legend",4)),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("horizontal",e.legendOptions&&"below"===e.legendOptions.position)("valueRange",e.legendOptions.domain)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)}}function E(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275namespaceHTML"](),i["\u0275\u0275elementStart"](0,"ngx-charts-legend",5),i["\u0275\u0275listener"]("labelClick",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().legendLabelClick.emit(t)})("labelActivate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().legendLabelActivate.emit(t)})("labelDeactivate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().legendLabelDeactivate.emit(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("horizontal",e.legendOptions&&"below"===e.legendOptions.position)("data",e.legendOptions.domain)("title",e.legendOptions.title)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)("activeEntries",e.activeEntries)}}const D=["*"],T=["ticksel"];function R(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",3),i["\u0275\u0275elementStart"](1,"title"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"text",4),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275attribute"]("transform",n.tickTransform(e)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n.tickFormat(e)),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("font-size","12px"),i["\u0275\u0275attribute"]("text-anchor",n.textAnchor)("transform",n.textTransform),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.tickTrim(n.tickFormat(e))," ")}}function M(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275element"](1,"line",6),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275attribute"]("transform",e.gridLineTransform()),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("y1",-e.gridLineHeight)}}function O(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275template"](1,M,2,2,"g",5),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275attribute"]("transform",n.tickTransform(e)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.showGridLines)}}function P(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",2),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().emitTicksHeight(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("trimTicks",e.trimTicks)("rotateTicks",e.rotateTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickStroke",e.tickStroke)("scale",e.xScale)("orient",e.xOrient)("showGridLines",e.showGridLines)("gridLineHeight",e.dims.height)("width",e.dims.width)("tickValues",e.ticks)}}function F(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"g",3)),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("label",e.labelText)("offset",e.labelOffset)("orient","bottom")("height",e.dims.height)("width",e.dims.width)}}function k(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",4),i["\u0275\u0275elementStart"](1,"title"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"text",5),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275attribute"]("transform",n.transform(e)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n.tickFormat(e)),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("font-size","12px"),i["\u0275\u0275attribute"]("dy",n.dy)("x",n.x1)("y",n.y1)("text-anchor",n.textAnchor),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.tickTrim(n.tickFormat(e))," ")}}function N(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"path",6)),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275attribute"]("d",e.referenceAreaPath)("transform",e.gridLineTransform())}}function j(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"line",9)),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275attribute"]("x2",e.gridLineWidth)}}function L(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"line",9)),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275attribute"]("x2",-e.gridLineWidth)}}function V(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275template"](1,j,1,1,"line",8),i["\u0275\u0275template"](2,L,1,1,"line",8),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275attribute"]("transform",e.gridLineTransform()),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","left"===e.orient),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","right"===e.orient)}}function B(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275template"](1,V,3,3,"g",7),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275attribute"]("transform",n.transform(e)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.showGridLines)}}function G(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275elementStart"](1,"title"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"text",11),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2).$implicit,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.tickTrim(t.tickFormat(e.value))),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("dy",t.dy)("y",-6)("x",t.gridLineWidth)("text-anchor",t.textAnchor),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function z(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275element"](1,"line",10),i["\u0275\u0275template"](2,G,5,6,"g",7),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275attribute"]("transform",t.transform(e.value)),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("x2",t.gridLineWidth)("transform",t.gridLineTransform()),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showRefLabels)}}function $(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275template"](1,z,3,4,"g",7),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.showRefLines)}}function U(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",2),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().emitTicksWidth(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("trimTicks",e.trimTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickValues",e.ticks)("tickStroke",e.tickStroke)("scale",e.yScale)("orient",e.yOrient)("showGridLines",e.showGridLines)("gridLineWidth",e.dims.width)("referenceLines",e.referenceLines)("showRefLines",e.showRefLines)("showRefLabels",e.showRefLabels)("height",e.dims.height)}}function H(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"g",3)),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("label",e.labelText)("offset",e.labelOffset)("orient",e.yOrient)("height",e.dims.height)("width",e.dims.width)}}function X(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"rect",4)),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("@animationState","active"),i["\u0275\u0275attribute"]("x",e.circle.cx-e.circle.radius)("y",e.circle.cy)("width",2*e.circle.radius)("height",e.circle.height)("fill",e.gradientFill)}}const W=function(e){return{name:e}};function q(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275elementStart"](1,"defs"),i["\u0275\u0275element"](2,"g",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,X,1,6,"rect",2),i["\u0275\u0275elementStart"](4,"g",3),i["\u0275\u0275listener"]("select",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.onClick(t.circle.data)})("activate",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().activateCircle()})("deactivate",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().deactivateCircle()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("name",e.gradientId)("stops",e.circle.gradientStops),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.barVisible&&"standard"===e.type),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("active",e.isActive(i["\u0275\u0275pureFunction1"](18,W,e.circle.seriesName))),i["\u0275\u0275property"]("cx",e.circle.cx)("cy",e.circle.cy)("r",e.circle.radius)("fill",e.circle.color)("pointerEvents",0===e.circle.value?"none":"all")("data",e.circle.value)("classNames",e.circle.classNames)("tooltipDisabled",e.tooltipDisabled)("tooltipPlacement","top")("tooltipType","tooltip")("tooltipTitle",e.tooltipTemplate?void 0:e.getTooltipText(e.circle))("tooltipTemplate",e.tooltipTemplate)("tooltipContext",e.circle.data)}}function Y(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"g",1)),2&e){const e=t.$implicit;i["\u0275\u0275classProp"]("grid-panel",!0)("odd","odd"===e.class)("even","even"===e.class),i["\u0275\u0275property"]("height",e.height)("width",e.width)("x",e.x)("y",e.y)}}function Q(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"stop")),2&e){const e=t.$implicit;i["\u0275\u0275styleProp"]("stop-color",e.color)("stop-opacity",e.opacity),i["\u0275\u0275attribute"]("offset",e.offset+"%")}}function Z(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"stop")),2&e){const e=t.$implicit;i["\u0275\u0275styleProp"]("stop-color",e.color)("stop-opacity",e.opacity),i["\u0275\u0275attribute"]("offset",e.offset+"%")}}function K(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"defs"),i["\u0275\u0275element"](1,"g",2),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("name",e.gradientId)("stops",e.gradientStops)}}const J=["tooltipAnchor"];function ee(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",6),i["\u0275\u0275element"](1,"span",7),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("background-color",e.color),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.getToolTipText(e)," ")}}function te(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275namespaceHTML"](),i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275template"](1,ee,3,3,"div",5),i["\u0275\u0275elementEnd"]()),2&e){const e=t.model;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e)}}function ne(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"header",4),i["\u0275\u0275elementStart"](1,"span",5),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.title)}}function ie(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li",6),i["\u0275\u0275elementStart"](1,"ngx-charts-legend-entry",7),i["\u0275\u0275listener"]("select",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().labelClick.emit(t)})("activate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().activate(t)})("deactivate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().deactivate(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("label",e.label)("formattedLabel",e.formattedLabel)("color",e.color)("isActive",n.isActive(e))}}function oe(e,t){if(1&e&&i["\u0275\u0275element"](0,"div",7),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("countTo",e.roundedTotal)("valueFormatting",e.valueFormatting)}}function re(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.valueFormatting?e.valueFormatting(e.roundedTotal):e.defaultValueFormatting(e.roundedTotal)," ")}}function se(e,t){if(1&e&&i["\u0275\u0275element"](0,"div",16),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("countTo",e._value)("valueFormatting",t.valueFormatting)}}function ae(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",17),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.valueFormatting?t.valueFormatting(e.value):t.defaultValueFormatting(e.value)," ")}}function le(e,t){if(1&e&&i["\u0275\u0275element"](0,"div",18),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("countTo",e.percentage)("countSuffix","%")}}function ce(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",19),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.percentage.toLocaleString(),"%")}}function de(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275listener"]("mouseenter",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().activate.emit(t.data)})("mouseleave",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().deactivate.emit(t.data)})("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().select.emit(t.data)}),i["\u0275\u0275element"](1,"div",10),i["\u0275\u0275template"](2,se,1,2,"div",11),i["\u0275\u0275template"](3,ae,2,1,"div",12),i["\u0275\u0275elementStart"](4,"div",13),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,le,1,2,"div",14),i["\u0275\u0275template"](7,ce,2,1,"div",15),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("border-left-color",e.color),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.animations),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.displayLabel),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.animations)}}const ue=["tooltipTemplate"],pe=["seriesTooltipTemplate"];function he(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",7),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateXAxisHeight(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("xScale",e.xScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)}}function me(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",8),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateYAxisWidth(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("yScale",e.yScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)}}function fe(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275element"](1,"g",9),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.xScale)("yScale",n.yScale)("baseValue",n.baseValue)("colors",n.colors)("data",e)("activeEntries",n.activeEntries)("scaleType",n.scaleType)("gradient",n.gradient)("curve",n.curve)("animations",n.animations)}}function ge(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275elementStart"](1,"g",13),i["\u0275\u0275listener"]("select",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).onClick(t,n)})("activate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onActivate(t)})("deactivate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onDeactivate(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.xScale)("yScale",n.yScale)("colors",n.colors)("activeEntries",n.activeEntries)("data",e)("scaleType",n.scaleType)("visibleValue",n.hoveredVertical)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)}}function ve(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",10),i["\u0275\u0275listener"]("mouseleave",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().hideCircles()}),i["\u0275\u0275elementStart"](1,"g",11),i["\u0275\u0275listener"]("hover",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateHoveredVertical(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,ge,2,9,"g",12),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("dims",e.dims)("xSet",e.xSet)("xScale",e.xScale)("yScale",e.yScale)("results",e.results)("colors",e.colors)("tooltipDisabled",e.tooltipDisabled)("tooltipTemplate",e.seriesTooltipTemplate),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.results)}}function ye(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275element"](1,"g",15),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.timelineXScale)("yScale",n.timelineYScale)("baseValue",n.baseValue)("colors",n.colors)("data",e)("scaleType",n.scaleType)("gradient",n.gradient)("curve",n.curve)("animations",n.animations)}}const be=function(e,t){return[e,t]};function xe(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",14),i["\u0275\u0275listener"]("onDomainChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateDomain(t)}),i["\u0275\u0275template"](1,ye,2,9,"g",4),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("results",e.results)("view",i["\u0275\u0275pureFunction2"](10,be,e.timelineWidth,e.height))("height",e.timelineHeight)("scheme",e.scheme)("customColors",e.customColors)("legend",e.legend)("scaleType",e.scaleType),i["\u0275\u0275attribute"]("transform",e.timelineTransform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.results)("ngForTrackBy",e.trackBy)}}function we(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",7),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateXAxisHeight(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("xScale",e.xScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)}}function Ce(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",8),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateYAxisWidth(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("yScale",e.yScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)}}function _e(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275element"](1,"g",9),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.xScale)("yScale",n.yScale)("colors",n.colors)("data",e)("scaleType",n.scaleType)("activeEntries",n.activeEntries)("gradient",n.gradient)("curve",n.curve)("animations",n.animations)}}function Se(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275elementStart"](1,"g",13),i["\u0275\u0275listener"]("select",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).onClick(t,n)})("activate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onActivate(t)})("deactivate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onDeactivate(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.xScale)("yScale",n.yScale)("colors",n.colors)("activeEntries",n.activeEntries)("data",e)("scaleType",n.scaleType)("visibleValue",n.hoveredVertical)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)}}function Ie(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",10),i["\u0275\u0275listener"]("mouseleave",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().hideCircles()}),i["\u0275\u0275elementStart"](1,"g",11),i["\u0275\u0275listener"]("hover",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateHoveredVertical(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,Se,2,9,"g",12),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("dims",e.dims)("xSet",e.xSet)("xScale",e.xScale)("yScale",e.yScale)("results",e.results)("colors",e.colors)("showPercentage",!0)("tooltipDisabled",e.tooltipDisabled)("tooltipTemplate",e.seriesTooltipTemplate),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.results)}}function Ae(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275element"](1,"g",15),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.timelineXScale)("yScale",n.timelineYScale)("colors",n.colors)("data",e)("scaleType",n.scaleType)("gradient",n.gradient)("curve",n.curve)("animations",n.animations)}}function Ee(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",14),i["\u0275\u0275listener"]("onDomainChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateDomain(t)}),i["\u0275\u0275template"](1,Ae,2,8,"g",4),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("results",e.results)("view",i["\u0275\u0275pureFunction2"](10,be,e.timelineWidth,e.height))("height",e.timelineHeight)("scheme",e.scheme)("customColors",e.customColors)("legend",e.legend)("scaleType",e.scaleType),i["\u0275\u0275attribute"]("transform",e.timelineTransform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.results)("ngForTrackBy",e.trackBy)}}const De=".ngx-charts{float:left;overflow:visible}.ngx-charts .arc,.ngx-charts .bar,.ngx-charts .circle{cursor:pointer}.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .card.active,.ngx-charts .card:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .arc:focus,.ngx-charts .bar:focus,.ngx-charts .card:focus,.ngx-charts .cell:focus{outline:none}.ngx-charts .arc.hidden,.ngx-charts .bar.hidden,.ngx-charts .card.hidden,.ngx-charts .cell.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .area-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .line-series.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .polar-series-path.inactive{opacity:.2;transition:opacity .1s ease-in-out}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{fill:none;stroke:#ddd;stroke-width:1}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-dasharray:5;stroke-dashoffset:5;stroke-width:1}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill:#000;fill-opacity:.05}.ngx-charts .gridline-path-dotted{fill:none;stroke:#ddd;stroke-dasharray:1,20;stroke-dashoffset:3;stroke-width:1}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:rgba(0,0,0,.05)}";function Te(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",7),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateXAxisHeight(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("xScale",e.xScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)}}function Re(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",8),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateYAxisWidth(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("yScale",e.yScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)}}function Me(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275element"](1,"g",9),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.xScale)("yScale",n.yScale)("colors",n.colors)("data",e)("scaleType",n.scaleType)("gradient",n.gradient)("activeEntries",n.activeEntries)("curve",n.curve)("animations",n.animations)}}function Oe(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275elementStart"](1,"g",12),i["\u0275\u0275listener"]("select",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).onClick(t,n)})("activate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onActivate(t)})("deactivate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onDeactivate(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.xScale)("yScale",n.yScale)("colors",n.colors)("activeEntries",n.activeEntries)("data",e)("scaleType",n.scaleType)("visibleValue",n.hoveredVertical)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)}}function Pe(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",10),i["\u0275\u0275listener"]("mouseleave",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().hideCircles()}),i["\u0275\u0275elementStart"](1,"g",11),i["\u0275\u0275listener"]("hover",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateHoveredVertical(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,Oe,2,9,"g",4),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("dims",e.dims)("xSet",e.xSet)("xScale",e.xScale)("yScale",e.yScale)("results",e.results)("colors",e.colors)("tooltipDisabled",e.tooltipDisabled)("tooltipTemplate",e.seriesTooltipTemplate),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.results)("ngForTrackBy",e.trackBy)}}function Fe(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275element"](1,"g",14),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.timelineXScale)("yScale",n.timelineYScale)("colors",n.colors)("data",e)("scaleType",n.scaleType)("gradient",n.gradient)("curve",n.curve)("animations",n.animations)}}function ke(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",13),i["\u0275\u0275listener"]("onDomainChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateDomain(t)}),i["\u0275\u0275template"](1,Fe,2,8,"g",4),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("results",e.results)("view",i["\u0275\u0275pureFunction2"](10,be,e.timelineWidth,e.height))("height",e.timelineHeight)("scheme",e.scheme)("customColors",e.customColors)("legend",e.legend)("scaleType",e.scaleType),i["\u0275\u0275attribute"]("transform",e.timelineTransform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.results)("ngForTrackBy",e.trackBy)}}function Ne(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"defs"),i["\u0275\u0275element"](1,"g",2),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("orientation",e.orientation)("name",e.gradientId)("stops",e.gradientStops)}}function je(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",5),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateXAxisHeight(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("xScale",e.xScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)}}function Le(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",6),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateYAxisWidth(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("yScale",e.yScale)("dims",e.dims)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)("yAxisOffset",e.dataLabelMaxWidth.negative)}}function Ve(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",6),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateXAxisHeight(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("xScale",e.valueScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)}}function Be(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",7),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateYAxisWidth(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("yScale",e.groupScale)("dims",e.dims)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)("yAxisOffset",e.dataLabelMaxWidth.negative)}}function Ge(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275elementStart"](1,"g",8),i["\u0275\u0275listener"]("select",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onClick(t,n)})("activate",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onActivate(t,n)})("deactivate",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onDeactivate(t,n)})("dataLabelWidthChanged",function(t){const n=i["\u0275\u0275restoreView"](e).index;return i["\u0275\u0275nextContext"]().onDataLabelMaxWidthChanged(t,n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("@animationState","active"),i["\u0275\u0275attribute"]("transform",n.groupTransform(e)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.valueScale)("activeEntries",n.activeEntries)("yScale",n.innerScale)("colors",n.colors)("series",e.series)("dims",n.dims)("gradient",n.gradient)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)("seriesName",e.name)("roundEdges",n.roundEdges)("animations",n.animations)("showDataLabel",n.showDataLabel)("dataLabelFormatting",n.dataLabelFormatting)("noBarWhenZero",n.noBarWhenZero)}}function ze(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",5),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateXAxisHeight(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("xScale",e.xScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)}}function $e(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",6),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateYAxisWidth(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("yScale",e.yScale)("dims",e.dims)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)}}function Ue(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275elementStart"](1,"g",7),i["\u0275\u0275listener"]("select",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onClick(t,n)})("activate",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onActivate(t,n)})("deactivate",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onDeactivate(t,n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("@animationState","active"),i["\u0275\u0275attribute"]("transform",n.groupTransform(e)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.xScale)("yScale",n.yScale)("activeEntries",n.activeEntries)("colors",n.colors)("series",e.series)("dims",n.dims)("gradient",n.gradient)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)("seriesName",e.name)("animations",n.animations)("noBarWhenZero",n.noBarWhenZero)}}function He(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",5),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateXAxisHeight(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("xScale",e.xScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)}}function Xe(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",6),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateYAxisWidth(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("yScale",e.yScale)("dims",e.dims)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)("yAxisOffset",e.dataLabelMaxWidth.negative)}}function We(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275elementStart"](1,"g",7),i["\u0275\u0275listener"]("select",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onClick(t,n)})("activate",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onActivate(t,n)})("deactivate",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onDeactivate(t,n)})("dataLabelWidthChanged",function(t){const n=i["\u0275\u0275restoreView"](e).index;return i["\u0275\u0275nextContext"]().onDataLabelMaxWidthChanged(t,n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("@animationState","active"),i["\u0275\u0275attribute"]("transform",n.groupTransform(e)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.xScale)("yScale",n.yScale)("colors",n.colors)("series",e.series)("activeEntries",n.activeEntries)("dims",n.dims)("gradient",n.gradient)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)("seriesName",e.name)("animations",n.animations)("showDataLabel",n.showDataLabel)("dataLabelFormatting",n.dataLabelFormatting)("noBarWhenZero",n.noBarWhenZero)}}function qe(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",5),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateXAxisHeight(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("xScale",e.xScale)("dims",e.dims)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)("xAxisOffset",e.dataLabelMaxHeight.negative)}}function Ye(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",6),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateYAxisWidth(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("yScale",e.yScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)}}function Qe(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",6),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateXAxisHeight(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("xScale",e.groupScale)("dims",e.dims)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)("xAxisOffset",e.dataLabelMaxHeight.negative)}}function Ze(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",7),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateYAxisWidth(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("yScale",e.valueScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)}}function Ke(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",8),i["\u0275\u0275listener"]("select",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onClick(t,n)})("activate",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onActivate(t,n)})("deactivate",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onDeactivate(t,n)})("dataLabelHeightChanged",function(t){const n=i["\u0275\u0275restoreView"](e).index;return i["\u0275\u0275nextContext"]().onDataLabelMaxHeightChanged(t,n)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("@animationState","active")("activeEntries",n.activeEntries)("xScale",n.innerScale)("yScale",n.valueScale)("colors",n.colors)("series",e.series)("dims",n.dims)("gradient",n.gradient)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)("showDataLabel",n.showDataLabel)("dataLabelFormatting",n.dataLabelFormatting)("seriesName",e.name)("roundEdges",n.roundEdges)("animations",n.animations)("noBarWhenZero",n.noBarWhenZero),i["\u0275\u0275attribute"]("transform",n.groupTransform(e))}}function Je(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",5),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateXAxisHeight(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("xScale",e.xScale)("dims",e.dims)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)}}function et(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",6),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateYAxisWidth(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("yScale",e.yScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)}}function tt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275elementStart"](1,"g",7),i["\u0275\u0275listener"]("select",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onClick(t,n)})("activate",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onActivate(t,n)})("deactivate",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onDeactivate(t,n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("@animationState","active"),i["\u0275\u0275attribute"]("transform",n.groupTransform(e)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.xScale)("yScale",n.yScale)("activeEntries",n.activeEntries)("colors",n.colors)("series",e.series)("dims",n.dims)("gradient",n.gradient)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)("seriesName",e.name)("animations",n.animations)("noBarWhenZero",n.noBarWhenZero)}}function nt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",5),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateXAxisHeight(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("xScale",e.xScale)("dims",e.dims)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)("xAxisOffset",e.dataLabelMaxHeight.negative)}}function it(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",6),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateYAxisWidth(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("yScale",e.yScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)}}function ot(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275elementStart"](1,"g",7),i["\u0275\u0275listener"]("select",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onClick(t,n)})("activate",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onActivate(t,n)})("deactivate",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onDeactivate(t,n)})("dataLabelHeightChanged",function(t){const n=i["\u0275\u0275restoreView"](e).index;return i["\u0275\u0275nextContext"]().onDataLabelMaxHeightChanged(t,n)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("@animationState","active"),i["\u0275\u0275attribute"]("transform",n.groupTransform(e)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.xScale)("yScale",n.yScale)("activeEntries",n.activeEntries)("colors",n.colors)("series",e.series)("dims",n.dims)("gradient",n.gradient)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)("showDataLabel",n.showDataLabel)("dataLabelFormatting",n.dataLabelFormatting)("seriesName",e.name)("animations",n.animations)("noBarWhenZero",n.noBarWhenZero)}}function rt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",2),i["\u0275\u0275listener"]("select",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onClick(t)})("activate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().activate.emit(t)})("deactivate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().deactivate.emit(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("@animationState","active")("@.disabled",!n.animations)("width",e.width)("height",e.height)("x",e.x)("y",e.y)("fill",e.color)("stops",e.gradientStops)("data",e.data)("orientation","vertical")("roundEdges",e.roundEdges)("gradient",n.gradient)("ariaLabel",e.ariaLabel)("isActive",n.isActive(e.data))("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.tooltipPlacement)("tooltipType",n.tooltipType)("tooltipTitle",n.tooltipTemplate?void 0:e.tooltipText)("tooltipTemplate",n.tooltipTemplate)("tooltipContext",e.data)("noBarWhenZero",n.noBarWhenZero)("animations",n.animations)}}function st(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",4),i["\u0275\u0275listener"]("dimensionsChanged",function(t){const n=i["\u0275\u0275restoreView"](e).index;return i["\u0275\u0275nextContext"](2).dataLabelHeightChanged.emit({size:t,index:n})}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("barX",e.x)("barY",e.y)("barWidth",e.width)("barHeight",e.height)("value",e.total)("valueFormatting",n.dataLabelFormatting)("orientation","vertical")}}function at(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275template"](1,st,1,7,"g",3),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.barsForDataLabels)("ngForTrackBy",e.trackDataLabelBy)}}function lt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",2),i["\u0275\u0275listener"]("select",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().click(t)})("activate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().activate.emit(t)})("deactivate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().deactivate.emit(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("@animationState","active")("width",e.width)("height",e.height)("x",e.x)("y",e.y)("fill",e.color)("stops",e.gradientStops)("data",e.data)("orientation","horizontal")("roundEdges",e.roundEdges)("gradient",n.gradient)("isActive",n.isActive(e.data))("ariaLabel",e.ariaLabel)("animations",n.animations)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.tooltipPlacement)("tooltipType",n.tooltipType)("tooltipTitle",n.tooltipTemplate?void 0:e.tooltipText)("tooltipTemplate",n.tooltipTemplate)("tooltipContext",e.data)("noBarWhenZero",n.noBarWhenZero)}}function ct(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",4),i["\u0275\u0275listener"]("dimensionsChanged",function(t){const n=i["\u0275\u0275restoreView"](e).index;return i["\u0275\u0275nextContext"](2).dataLabelWidthChanged.emit({size:t,index:n})}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("barX",e.x)("barY",e.y)("barWidth",e.width)("barHeight",e.height)("value",e.total)("valueFormatting",n.dataLabelFormatting)("orientation","horizontal")}}function dt(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275template"](1,ct,1,7,"g",3),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.barsForDataLabels)("ngForTrackBy",e.trackDataLabelBy)}}function ut(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",6),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateXAxisHeight(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("showGridLines",e.showGridLines)("dims",e.dims)("xScale",e.xScale)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)}}function pt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",7),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateYAxisWidth(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("showGridLines",e.showGridLines)("yScale",e.yScale)("dims",e.dims)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)}}function ht(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275elementStart"](1,"g",8),i["\u0275\u0275listener"]("select",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onClick(t,n)})("activate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onActivate(t)})("deactivate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onDeactivate(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("@animationState","active"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.xScale)("yScale",n.yScale)("rScale",n.rScale)("xScaleType",n.xScaleType)("yScaleType",n.yScaleType)("xAxisLabel",n.xAxisLabel)("yAxisLabel",n.yAxisLabel)("colors",n.colors)("data",e)("activeEntries",n.activeEntries)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)}}function mt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275elementStart"](1,"g"),i["\u0275\u0275elementStart"](2,"g",1),i["\u0275\u0275listener"]("select",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onClick(t.data)})("activate",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().activateCircle(t)})("deactivate",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().deactivateCircle(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",e.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("opacity",e.opacity),i["\u0275\u0275classProp"]("active",e.isActive),i["\u0275\u0275property"]("@animationState","active")("cx",0)("cy",0)("r",e.radius)("fill",e.color)("pointerEvents","all")("data",e.value)("classNames",e.classNames)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement","top")("tooltipType","tooltip")("tooltipTitle",n.tooltipTemplate?void 0:n.getTooltipText(e))("tooltipTemplate",n.tooltipTemplate)("tooltipContext",e.data)}}function ft(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"defs"),i["\u0275\u0275element"](1,"g",3),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("name",e.gradientId)("stops",e.gradientStops)}}const gt=function(e,t,n){return{series:e,name:t,value:n}};function vt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",1),i["\u0275\u0275listener"]("select",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onClick(t.cell)})("activate",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().activate.emit(t.cell)})("deactivate",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().deactivate.emit(t.cell)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("x",e.x)("y",e.y)("width",e.width)("height",e.height)("fill",e.fill)("data",e.data)("gradient",n.gradient)("animations",n.animations)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement","top")("tooltipType","tooltip")("tooltipTitle",n.tooltipTemplate?void 0:n.tooltipText(e))("tooltipTemplate",n.tooltipTemplate)("tooltipContext",i["\u0275\u0275pureFunction3"](14,gt,e.series,e.label,e.data))}}function yt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",6),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateXAxisHeight(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("xScale",e.xScale)("dims",e.dims)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)}}function bt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",7),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateYAxisWidth(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("yScale",e.yScale)("dims",e.dims)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)}}function xt(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"rect")),2&e){const e=t.$implicit;i["\u0275\u0275attribute"]("x",e.x)("y",e.y)("rx",e.rx)("width",e.width)("height",e.height)("fill",e.fill)}}function wt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",7),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateXAxisHeight(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("xScale",e.xScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)}}function Ct(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",8),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateYAxisWidth(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("yScale",e.yScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)("referenceLines",e.referenceLines)("showRefLines",e.showRefLines)("showRefLabels",e.showRefLabels)}}function _t(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275element"](1,"g",9),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("@animationState","active"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.xScale)("yScale",n.yScale)("colors",n.colors)("data",e)("activeEntries",n.activeEntries)("scaleType",n.scaleType)("curve",n.curve)("rangeFillOpacity",n.rangeFillOpacity)("hasRange",n.hasRange)("animations",n.animations)}}function St(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275elementStart"](1,"g",13),i["\u0275\u0275listener"]("select",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onClick(t)})("activate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onActivate(t)})("deactivate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).onDeactivate(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.xScale)("yScale",n.yScale)("colors",n.colors)("data",e)("scaleType",n.scaleType)("visibleValue",n.hoveredVertical)("activeEntries",n.activeEntries)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)}}function It(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",10),i["\u0275\u0275listener"]("mouseleave",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().hideCircles()}),i["\u0275\u0275elementStart"](1,"g",11),i["\u0275\u0275listener"]("hover",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateHoveredVertical(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,St,2,9,"g",12),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("dims",e.dims)("xSet",e.xSet)("xScale",e.xScale)("yScale",e.yScale)("results",e.results)("colors",e.colors)("tooltipDisabled",e.tooltipDisabled)("tooltipTemplate",e.seriesTooltipTemplate),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.results)}}function At(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275element"](1,"g",15),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",n.timelineXScale)("yScale",n.timelineYScale)("colors",n.colors)("data",e)("scaleType",n.scaleType)("curve",n.curve)("hasRange",n.hasRange)("animations",n.animations)}}function Et(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",14),i["\u0275\u0275listener"]("onDomainChange",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateDomain(t)}),i["\u0275\u0275template"](1,At,2,8,"g",4),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("results",e.results)("view",i["\u0275\u0275pureFunction2"](10,be,e.timelineWidth,e.height))("height",e.timelineHeight)("scheme",e.scheme)("customColors",e.customColors)("scaleType",e.scaleType)("legend",e.legend),i["\u0275\u0275attribute"]("transform",e.timelineTransform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.results)("ngForTrackBy",e.trackBy)}}function Dt(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"g",4)),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("name",e.gradientId)("stops",e.gradientStops)}}function Tt(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"g",5)),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("active",e.isActive(e.data))("inactive",e.isInactive(e.data)),i["\u0275\u0275property"]("data",e.data)("path",e.outerPath)("fill",e.hasGradient?e.gradientUrl:e.colors.getColor(e.data.name))("opacity",e.rangeFillOpacity)("animations",e.animations)}}function Rt(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"circle",8)),2&e){const e=t.$implicit;i["\u0275\u0275attribute"]("r",e)}}function Mt(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275template"](1,Rt,1,1,"circle",7),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.radiusTicks)}}function Ot(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"g",10)),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("data",e)("radius",n.outerRadius)("label",e.label)("max",n.outerRadius)("value",n.showGridLines?1:n.outerRadius)("explodeSlices",!0)("animations",n.animations)("labelTrim",n.labelTrim)("labelTrimSize",n.labelTrimSize)}}function Pt(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275template"](1,Ot,1,9,"g",9),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.thetaTicks)}}function Ft(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",11),i["\u0275\u0275listener"]("dimensionsChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().updateYAxisWidth(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("yScale",e.yAxisScale)("dims",e.yAxisDims)("showGridLines",e.showGridLines)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting),i["\u0275\u0275attribute"]("transform",e.transformYAxis)}}function kt(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"g",12)),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("label",e.xAxisLabel)("offset",e.labelOffset)("orient","bottom")("height",e.dims.height)("width",e.dims.width)}}function Nt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275elementStart"](1,"g",13),i["\u0275\u0275listener"]("select",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onClick(t)})("activate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onActivate(t)})("deactivate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onDeactivate(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("@animationState","active"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("gradient",n.gradient)("xScale",n.xScale)("yScale",n.yScale)("colors",n.colors)("data",e)("activeEntries",n.activeEntries)("scaleType",n.scaleType)("curve",n.curve)("rangeFillOpacity",n.rangeFillOpacity)("animations",n.animations)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)}}function jt(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"g",4)),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("color",e.seriesColor)("name",e.gradientId)("startOpacity",.25)("endOpacity",1)("stops",e.gradientStops)}}function Lt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",5),i["\u0275\u0275listener"]("select",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().select.emit(t.data)})("activate",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().activate.emit({name:t.data.series})})("deactivate",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().deactivate.emit({name:t.data.series})}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275styleProp"]("opacity",n.inactive?.2:1),i["\u0275\u0275property"]("cx",e.cx)("cy",e.cy)("r",n.circleRadius)("fill",e.color)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement","top")("tooltipTitle",n.tooltipTemplate?void 0:n.tooltipText(e))("tooltipTemplate",n.tooltipTemplate)("tooltipContext",e.data)}}function Vt(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"defs"),i["\u0275\u0275element"](1,"g",3),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("color",e.fill)("name",e.radialGradientId)("startOpacity",e.startOpacity)}}const Bt=".pie-label{font-size:11px}.pie-label.animation{-webkit-animation:fadeIn .75s ease-in;animation:fadeIn .75s ease-in}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{-webkit-animation:drawOut 3s linear;animation:drawOut 3s linear;transition:d .75s}@-webkit-keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}@keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}";function Gt(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"text",10)),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("countTo",e.percent)("countSuffix","%")}}function zt(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"text",11),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.percent.toLocaleString()," ")}}function $t(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"text",12)),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("countTo",e.total)("countPrefix",t.label+": "),i["\u0275\u0275attribute"]("y",e.outerRadius)}}function Ut(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"text",13),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275attribute"]("y",e.outerRadius),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate2"](" ",t.label,": ",e.total.toLocaleString()," ")}}const Ht=function(e){return{data:e}};function Xt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",3),i["\u0275\u0275elementStart"](1,"g",4),i["\u0275\u0275listener"]("select",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onClick(t)})("activate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onActivate(t)})("deactivate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onDeactivate(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,Gt,1,2,"text",5),i["\u0275\u0275template"](3,zt,2,1,"text",6),i["\u0275\u0275elementStart"](4,"text",7),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,$t,1,3,"text",8),i["\u0275\u0275template"](7,Ut,2,3,"text",9),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275attribute"]("transform",e.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("colors",e.colors)("data",e.data)("innerRadius",e.innerRadius)("outerRadius",e.outerRadius)("animations",n.animations)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement","top")("tooltipType","tooltip")("tooltipTitle",n.tooltipTemplate?void 0:n.tooltipText(i["\u0275\u0275pureFunction1"](17,Ht,e)))("tooltipTemplate",n.tooltipTemplate)("tooltipContext",e.data[0].data),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.animations),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.label," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.animations)}}function Wt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",2),i["\u0275\u0275listener"]("select",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onClick(t)})("activate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().activate.emit(t)})("deactivate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().deactivate.emit(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("startAngle",e.startAngle)("endAngle",e.endAngle)("innerRadius",n.innerRadius)("outerRadius",n.outerRadius)("fill",n.color(e))("value",e.data.value)("data",e.data)("gradient",!1)("pointerEvents",e.pointerEvents)("animate",e.animate),i["\u0275\u0275attribute"]("class",e.class)}}function qt(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"g",3)),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("data",e)("radius",t.outerRadius)("color",t.color(e))("label",t.labelText(e))("labelTrim",t.trimLabels)("labelTrimSize",t.maxLabelLength)("max",t.max)("value",e.value)("explodeSlices",t.explodeSlices)("animations",t.animations)}}function Yt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275template"](1,qt,1,10,"g",1),i["\u0275\u0275elementStart"](2,"g",2),i["\u0275\u0275listener"]("select",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onClick(t)})("activate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().activate.emit(t)})("deactivate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().deactivate.emit(t)})("dblclick",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().dblclick.emit(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.labelVisible(e)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("startAngle",e.startAngle)("endAngle",e.endAngle)("innerRadius",n.innerRadius)("outerRadius",n.outerRadius)("fill",n.color(e))("value",e.data.value)("gradient",n.gradient)("data",e.data)("max",n.max)("explodeSlices",n.explodeSlices)("isActive",n.isActive(e.data))("animate",n.animations)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement","top")("tooltipType","tooltip")("tooltipTitle",n.getTooltipTitle(e))("tooltipTemplate",n.tooltipTemplate)("tooltipContext",e.data)}}const Qt=["textEl"];function Zt(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"path",7)),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275attribute"]("fill",e.bandColor)("transform",e.transformBand)("d",e.bandPath)}}function Kt(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"rect",2)),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275styleProp"]("fill",n.emptyColor),i["\u0275\u0275attribute"]("x",e.x)("y",e.y)("width",e.width)("height",e.height)}}function Jt(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",3),i["\u0275\u0275listener"]("select",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onClick(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("x",e.x)("y",e.y)("width",e.width)("height",e.height)("color",e.color)("bandColor",e.bandColor)("textColor",e.textColor)("data",e.data)("label",e.label)("medianSize",n.medianSize)("valueFormatting",n.valueFormatting)("labelFormatting",n.labelFormatting)("animations",n.animations)}}function en(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"defs"),i["\u0275\u0275element"](1,"g",3),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("name",e.gradientId)("stops",e.gradientStops)}}function tn(e,t){if(1&e&&i["\u0275\u0275element"](0,"span",8),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("countTo",e.value)("valueFormatting",e.valueFormatting)}}function nn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",9),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.formattedValue," ")}}function on(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"foreignObject",4),i["\u0275\u0275namespaceHTML"](),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275element"](2,"span",5),i["\u0275\u0275element"](3,"br"),i["\u0275\u0275template"](4,tn,1,2,"span",6),i["\u0275\u0275template"](5,nn,2,1,"span",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275styleProp"]("pointer-events","none"),i["\u0275\u0275attribute"]("x",e.x)("y",e.y)("width",e.width)("height",e.height),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("color",e.getTextColor())("height",e.height+"px")("width",e.width+"px"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("innerHTML",e.formattedLabel,i["\u0275\u0275sanitizeHtml"]),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.animations)}}function rn(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",1),i["\u0275\u0275listener"]("select",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onClick(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("data",e.data)("x",e.x)("y",e.y)("width",e.width)("height",e.height)("fill",e.fill)("label",e.label)("value",e.value)("valueType",e.valueType)("valueFormatting",n.valueFormatting)("labelFormatting",n.labelFormatting)("gradient",n.gradient)("animations",n.animations)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement","top")("tooltipType","tooltip")("tooltipTitle",n.tooltipTemplate?void 0:n.getTooltipText(e))("tooltipTemplate",n.tooltipTemplate)("tooltipContext",e.data)}}const sn=["valueTextEl"],an=["unitsTextEl"];function ln(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"line",10)),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275attribute"]("transform",e.transformLine)("stroke",e.colors.getColor(e.units))}}function cn(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"line",11)),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275attribute"]("transform",e.transformLine)("stroke",e.colors.getColor(e.units))}}const dn=function(){return{}};function un(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275elementStart"](1,"g",5),i["\u0275\u0275listener"]("select",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onClick(t)})("activate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onActivate(t)})("deactivate",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onDeactivate(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275attribute"]("transform",n.rotation),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("backgroundArc",e.backgroundArc)("valueArc",e.valueArc)("cornerRadius",n.cornerRadius)("colors",n.colors)("isActive",n.isActive(e.valueArc.data))("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)("valueFormatting",n.valueFormatting)("animations",n.animations)}}function pn(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"g",6)),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("bigSegments",e.bigSegments)("smallSegments",e.smallSegments)("min",e.min)("max",e.max)("radius",e.outerRadius)("angleSpan",e.angleSpan)("valueScale",e.valueScale)("startAngle",e.startAngle)("tickFormatting",e.axisTickFormatting)}}function hn(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"text",7,8),i["\u0275\u0275elementStart"](2,"tspan",9),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"tspan",10),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275styleProp"]("text-anchor","middle"),i["\u0275\u0275attribute"]("transform",e.textTransform),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.displayValue),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.units)}}function mn(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",2),i["\u0275\u0275element"](1,"path"),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("d",e.line)}}function fn(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",2),i["\u0275\u0275elementStart"](1,"text",3),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("text-anchor",e.textAnchor),i["\u0275\u0275attribute"]("transform",e.textTransform),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.text," ")}}function gn(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",4),i["\u0275\u0275element"](1,"path"),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("d",e.line)}}class vn{constructor(e,t,n){this.applicationRef=e,this.componentFactoryResolver=t,this.injector=n}static setGlobalRootViewContainer(e){vn.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(vn.globalRootViewContainer)return vn.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return e.element?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,t){if(t){if(void 0!==t.inputs){const n=Object.getOwnPropertyNames(t.inputs);for(const i of n)e.instance[i]=t.inputs[i]}if(void 0!==t.outputs){const n=Object.getOwnPropertyNames(t.outputs);for(const i of n)e.instance[i]=t.outputs[i]}}return e}appendComponent(e,t={},n){n||(n=this.getRootViewContainer());const i=this.getComponentRootNode(n),o=new s.DomPortalHost(i,this.componentFactoryResolver,this.applicationRef,this.injector),r=new s.ComponentPortal(e),a=o.attach(r);return this.projectComponentBindings(a,t),a}}function yn(e,t,n){let i,o,r;n=n||{};let s=null,a=0;function l(){a=!1===n.leading?0:+new Date,s=null,r=e.apply(i,o)}return function(){const c=+new Date;a||!1!==n.leading||(a=c);const d=t-(c-a);return i=this,o=arguments,d<=0?(clearTimeout(s),s=null,a=c,r=e.apply(i,o)):s||!1===n.trailing||(s=setTimeout(l,d)),r}}function bn(e,t){return function(n,i,o){return{configurable:!0,enumerable:o.enumerable,get:function(){return Object.defineProperty(this,i,{configurable:!0,enumerable:o.enumerable,value:yn(o.value,e,t)}),this[i]}}}}var xn;vn.\u0275fac=function(e){return new(e||vn)(i["\u0275\u0275inject"](i.ApplicationRef),i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](i.Injector))},vn.\u0275prov=i["\u0275\u0275defineInjectable"]({token:vn,factory:vn.\u0275fac}),vn.globalRootViewContainer=null,vn.ctorParameters=()=>[{type:i.ApplicationRef},{type:i.ComponentFactoryResolver},{type:i.Injector}],function(e){e[e.top="top"]="top",e[e.bottom="bottom"]="bottom",e[e.left="left"]="left",e[e.right="right"]="right"}(xn||(xn={}));function wn(e,t,n){return"top"===n?e.top-7:"bottom"===n?e.top+e.height-t.height+7:"center"===n?e.top+e.height/2-t.height/2:void 0}function Cn(e,t,n){return"left"===n?e.left-7:"right"===n?e.left+e.width-t.width+7:"center"===n?e.left+e.width/2-t.width/2:void 0}class _n{static calculateVerticalAlignment(e,t,n){let i=wn(e,t,n);return i+t.height>window.innerHeight&&(i=window.innerHeight-t.height),i}static calculateVerticalCaret(e,t,n,i){let o;"top"===i&&(o=e.height/2-n.height/2+7),"bottom"===i&&(o=t.height-e.height/2-n.height/2-7),"center"===i&&(o=t.height/2-n.height/2);const r=wn(e,t,i);return r+t.height>window.innerHeight&&(o+=r+t.height-window.innerHeight),o}static calculateHorizontalAlignment(e,t,n){let i=Cn(e,t,n);return i+t.width>window.innerWidth&&(i=window.innerWidth-t.width),i}static calculateHorizontalCaret(e,t,n,i){let o;"left"===i&&(o=e.width/2-n.width/2+7),"right"===i&&(o=t.width-e.width/2-n.width/2-7),"center"===i&&(o=t.width/2-n.width/2);const r=Cn(e,t,i);return r+t.width>window.innerWidth&&(o+=r+t.width-window.innerWidth),o}static shouldFlip(e,t,n,i){let o=!1;return"right"===n&&e.left+e.width+t.width+i>window.innerWidth&&(o=!0),"left"===n&&e.left-t.width-i<0&&(o=!0),"top"===n&&e.top-t.height-i<0&&(o=!0),"bottom"===n&&e.top+e.height+t.height+i>window.innerHeight&&(o=!0),o}static positionCaret(e,t,n,i,o){let r=0,s=0;return e===xn.right?(s=-7,r=_n.calculateVerticalCaret(n,t,i,o)):e===xn.left?(s=t.width,r=_n.calculateVerticalCaret(n,t,i,o)):e===xn.top?(r=t.height,s=_n.calculateHorizontalCaret(n,t,i,o)):e===xn.bottom&&(r=-7,s=_n.calculateHorizontalCaret(n,t,i,o)),{top:r,left:s}}static positionContent(e,t,n,i,o){let r=0,s=0;return e===xn.right?(s=n.left+n.width+i,r=_n.calculateVerticalAlignment(n,t,o)):e===xn.left?(s=n.left-t.width-i,r=_n.calculateVerticalAlignment(n,t,o)):e===xn.top?(r=n.top-t.height-i,s=_n.calculateHorizontalAlignment(n,t,o)):e===xn.bottom&&(r=n.top+n.height+i,s=_n.calculateHorizontalAlignment(n,t,o)),{top:r,left:s}}static determinePlacement(e,t,n,i){if(_n.shouldFlip(n,t,e,i)){if(e===xn.right)return xn.left;if(e===xn.left)return xn.right;if(e===xn.top)return xn.bottom;if(e===xn.bottom)return xn.top}return e}}class Sn{constructor(e,t){this.element=e,this.renderer=t}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){const e=this.element.nativeElement,t=this.host.nativeElement.getBoundingClientRect();if(!t.height&&!t.width)return;const n=e.getBoundingClientRect();this.checkFlip(t,n),this.positionContent(e,t,n),this.showCaret&&this.positionCaret(t,n),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,t,n){const{top:i,left:o}=_n.positionContent(this.placement,n,t,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${i}px`),this.renderer.setStyle(e,"left",`${o}px`)}positionCaret(e,t){const n=this.caretElm.nativeElement,i=n.getBoundingClientRect(),{top:o,left:r}=_n.positionCaret(this.placement,t,e,i,this.alignment);this.renderer.setStyle(n,"top",`${o}px`),this.renderer.setStyle(n,"left",`${r}px`)}checkFlip(e,t){this.placement=_n.determinePlacement(this.placement,t,e,this.spacing)}onWindowResize(){this.position()}}Sn.\u0275fac=function(e){return new(e||Sn)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.Renderer2))},Sn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Sn,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](w,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.caretElm=e.first)}},hostVars:2,hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("resize",function(){return t.onWindowResize()},!1,i["\u0275\u0275resolveWindow"]),2&e&&i["\u0275\u0275classMap"](t.cssClasses)},inputs:{placement:"placement",host:"host",showCaret:"showCaret",type:"type",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275element"](1,"span",0,1),i["\u0275\u0275elementStart"](3,"div",2),i["\u0275\u0275template"](4,S,2,4,"span",3),i["\u0275\u0275template"](5,I,1,1,"span",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275classMapInterpolate1"]("tooltip-caret position-",t.placement,""),i["\u0275\u0275property"]("hidden",!t.showCaret),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",!t.title),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.title))},directives:[o.NgIf,o.NgTemplateOutlet],styles:[".ngx-charts-tooltip-content{border-radius:3px;display:block;font-weight:400;opacity:0;pointer-events:none!important;position:fixed;z-index:5000}.ngx-charts-tooltip-content.type-popover{background:#fff;border:1px solid #72809b;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);color:#060709;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{height:0;position:absolute;width:0;z-index:5001}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-bottom:7px solid transparent;border-left:7px solid #fff;border-top:7px solid transparent}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-bottom:7px solid transparent;border-right:7px solid #fff;border-top:7px solid transparent}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-bottom:7px solid #fff;border-left:7px solid transparent;border-right:7px solid transparent}.ngx-charts-tooltip-content.type-tooltip{background:rgba(0,0,0,.75);color:#fff;font-size:12px;padding:0 10px;pointer-events:auto;text-align:center}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75);border-top:7px solid transparent}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75);border-top:7px solid transparent}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-bottom:7px solid rgba(0,0,0,.75);border-left:7px solid transparent;border-right:7px solid transparent}.ngx-charts-tooltip-content .tooltip-label{display:block;font-size:1em;line-height:1em;padding:8px 5px 5px}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{height:0;position:absolute;width:0;z-index:5001}.ngx-charts-tooltip-content.position-right{transform:translate3d(10px,0,0)}.ngx-charts-tooltip-content.position-left{transform:translate3d(-10px,0,0)}.ngx-charts-tooltip-content.position-top{transform:translate3d(0,-10px,0)}.ngx-charts-tooltip-content.position-bottom{transform:translate3d(0,10px,0)}.ngx-charts-tooltip-content.animate{opacity:1;pointer-events:auto;transform:translateZ(0);transition:opacity .3s,transform .3s}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{line-height:1.2em;padding:5px 0;text-align:left}.tooltip-item .tooltip-item-color{border-radius:3px;color:#5b646b;display:inline-block;height:12px;margin-right:5px;width:12px}"],encapsulation:2}),Sn.ctorParameters=()=>[{type:i.ElementRef},{type:i.Renderer2}],Sn.propDecorators={host:[{type:i.Input}],showCaret:[{type:i.Input}],type:[{type:i.Input}],placement:[{type:i.Input}],alignment:[{type:i.Input}],spacing:[{type:i.Input}],cssClass:[{type:i.Input}],title:[{type:i.Input}],template:[{type:i.Input}],context:[{type:i.Input}],caretElm:[{type:i.ViewChild,args:["caretElm"]}],cssClasses:[{type:i.HostBinding,args:["class"]}],onWindowResize:[{type:i.HostListener,args:["window:resize"]}]},(0,a.__decorate)([bn(100)],Sn.prototype,"onWindowResize",null);class In{constructor(e){this.injectionService=e,this.defaults={},this.components=new Map}getByType(e=this.type){return this.components.get(e)}create(e){return this.createByType(this.type,e)}createByType(e,t){t=this.assignDefaults(t);const n=this.injectComponent(e,t);return this.register(e,n),n}destroy(e){const t=this.components.get(e.componentType);if(t&&t.length){const n=t.indexOf(e);if(n>-1){t[n].destroy(),t.splice(n,1)}}}destroyAll(){this.destroyByType(this.type)}destroyByType(e){const t=this.components.get(e);if(t&&t.length){let e=t.length-1;for(;e>=0;)this.destroy(t[e--])}}injectComponent(e,t){return this.injectionService.appendComponent(e,t)}assignDefaults(e){const t=Object.assign({},this.defaults.inputs),n=Object.assign({},this.defaults.outputs);return e.inputs||e.outputs||(e={inputs:e}),t&&(e.inputs=Object.assign(Object.assign({},t),e.inputs)),n&&(e.outputs=Object.assign(Object.assign({},n),e.outputs)),e}register(e,t){this.components.has(e)||this.components.set(e,[]);this.components.get(e).push(t)}}class An extends In{constructor(e){super(e),this.type=Sn}}An.\u0275fac=function(e){return new(e||An)(i["\u0275\u0275inject"](vn))},An.\u0275prov=i["\u0275\u0275defineInjectable"]({token:An,factory:An.\u0275fac}),An.ctorParameters=()=>[{type:vn}];class En{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new i.EventEmitter,this.legendLabelActivate=new i.EventEmitter,this.legendLabelDeactivate=new i.EventEmitter}ngOnChanges(e){this.update()}update(){let e=0;this.showLegend&&(this.legendType=this.getLegendType(),this.legendOptions&&"right"!==this.legendOptions.position||(e="scaleLegend"===this.legendType?1:2));const t=12-e;this.chartWidth=Math.floor(this.view[0]*t/12),this.legendWidth=this.legendOptions&&"right"!==this.legendOptions.position?this.chartWidth:Math.floor(this.view[0]*e/12)}getLegendType(){return"linear"===this.legendOptions.scaleType?"scaleLegend":"legend"}}En.\u0275fac=function(e){return new(e||En)},En.\u0275cmp=i["\u0275\u0275defineComponent"]({type:En,selectors:[["ngx-charts-chart"]],inputs:{showLegend:"showLegend",animations:"animations",legendType:"legendType",view:"view",legendOptions:"legendOptions",data:"data",legendData:"legendData",colors:"colors",activeEntries:"activeEntries"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[i["\u0275\u0275ProvidersFeature"]([An]),i["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:D,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(e,t){1&e&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"svg",1),i["\u0275\u0275projection"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,A,1,5,"ngx-charts-scale-legend",2),i["\u0275\u0275template"](4,E,1,7,"ngx-charts-legend",3),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275styleProp"]("width",t.view[0],"px"),i["\u0275\u0275property"]("@animationState","active")("@.disabled",!t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("width",t.chartWidth)("height",t.view[1]),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.showLegend&&"scaleLegend"===t.legendType),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showLegend&&"legend"===t.legendType))},directives:function(){return[o.NgIf,pi,di]},encapsulation:2,data:{animation:[(0,r.trigger)("animationState",[(0,r.transition)(":enter",[(0,r.style)({opacity:0}),(0,r.animate)("500ms 100ms",(0,r.style)({opacity:1}))])])]},changeDetection:0}),En.propDecorators={view:[{type:i.Input}],showLegend:[{type:i.Input}],legendOptions:[{type:i.Input}],data:[{type:i.Input}],legendData:[{type:i.Input}],legendType:[{type:i.Input}],colors:[{type:i.Input}],activeEntries:[{type:i.Input}],animations:[{type:i.Input}],legendLabelClick:[{type:i.Output}],legendLabelActivate:[{type:i.Output}],legendLabelDeactivate:[{type:i.Output}]};class Dn{constructor(e,t){this.element=e,this.zone=t,this.visible=new i.EventEmitter,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const e=()=>{if(!this.element)return;const{offsetHeight:t,offsetWidth:n}=this.element.nativeElement;t&&n?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}}Dn.\u0275fac=function(e){return new(e||Dn)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.NgZone))},Dn.\u0275dir=i["\u0275\u0275defineDirective"]({type:Dn,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),Dn.ctorParameters=()=>[{type:i.ElementRef},{type:i.NgZone}],Dn.propDecorators={visible:[{type:i.Output}]};class Tn{constructor(e,t,n){this.chartElement=e,this.zone=t,this.cd=n,this.scheme="cool",this.schemeType="ordinal",this.animations=!0,this.select=new i.EventEmitter}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new Dn(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(e){this.update()}update(){if(this.results?this.results=this.cloneData(this.results):this.results=[],this.view)this.width=this.view[0],this.height=this.view[1];else{const e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,t;const n=this.chartElement.nativeElement;if(null!==n.parentNode){const i=n.parentNode.getBoundingClientRect();e=i.width,t=i.height}return e&&t?{width:e,height:t}:null}formatDates(){for(let e=0;e<this.results.length;e++){const t=this.results[e];if(t.label=t.name,t.label instanceof Date&&(t.label=t.label.toLocaleDateString()),t.series)for(let e=0;e<t.series.length;e++){const n=t.series[e];n.label=n.name,n.label instanceof Date&&(n.label=n.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){const e=(0,l.fromEvent)(window,"resize").pipe((0,c.debounceTime)(200)).subscribe(e=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=e}cloneData(e){const t=[];for(const n of e){const e={name:n.name};if(void 0!==n.value&&(e.value=n.value),void 0!==n.series){e.series=[];for(const t of n.series){const n=Object.assign({},t);e.series.push(n)}}void 0!==n.extra&&(e.extra=JSON.parse(JSON.stringify(n.extra))),t.push(e)}return t}}Tn.\u0275fac=function(e){return new(e||Tn)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},Tn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Tn,selectors:[["base-chart"]],inputs:{scheme:"scheme",schemeType:"schemeType",animations:"animations",results:"results",view:"view",customColors:"customColors"},outputs:{select:"select"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:1,vars:0,template:function(e,t){1&e&&i["\u0275\u0275element"](0,"div")},encapsulation:2}),Tn.ctorParameters=()=>[{type:i.ElementRef},{type:i.NgZone},{type:i.ChangeDetectorRef}],Tn.propDecorators={results:[{type:i.Input}],view:[{type:i.Input}],scheme:[{type:i.Input}],schemeType:[{type:i.Input}],customColors:[{type:i.Input}],animations:[{type:i.Input}],select:[{type:i.Output}]};class Rn{constructor(e){this.textHeight=25,this.margin=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case"top":case"bottom":this.y=this.offset,this.x=this.width/2;break;case"left":this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case"right":this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}}function Mn(e,t=16){return"string"!=typeof e?"number"==typeof e?e+"":"":(e=e.trim()).length<=t?e:`${e.slice(0,t)}...`}function On(e,t){if(e.length>t){const n=[],i=Math.floor(e.length/t);for(let t=0;t<e.length;t++)t%i==0&&n.push(e[t]);e=n}return e}Rn.\u0275fac=function(e){return new(e||Rn)(i["\u0275\u0275directiveInject"](i.ElementRef))},Rn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Rn,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-axis-label",""],decls:2,vars:6,template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"text"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275attribute"]("stroke-width",t.strokeWidth)("x",t.x)("y",t.y)("text-anchor",t.textAnchor)("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.label," "))},encapsulation:2,changeDetection:0}),Rn.ctorParameters=()=>[{type:i.ElementRef}],Rn.propDecorators={orient:[{type:i.Input}],label:[{type:i.Input}],offset:[{type:i.Input}],width:[{type:i.Input}],height:[{type:i.Input}]};class Pn{constructor(){this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.dimensionsChanged=new i.EventEmitter,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor="middle",this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);e!==this.height&&(this.height=e,this.dimensionsChanged.emit({height:e}),setTimeout(()=>this.updateDims()))}update(){const e=this.scale;this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:e.tickFormat?this.tickFormat=e.tickFormat.apply(e,this.tickArguments):this.tickFormat=function(e){return"Date"===e.constructor.name?e.toLocaleDateString():e.toLocaleString()};const t=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(e){return this.scale(e)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",t&&0!==t?(this.textTransform=`rotate(${t})`,this.textAnchor="end",this.verticalSpacing=10):this.textAnchor="middle",setTimeout(()=>this.updateDims())}getRotationAngle(e){let t=0;this.maxTicksLength=0;for(let r=0;r<e.length;r++){const t=this.tickFormat(e[r]).toString();let n=t.length;this.trimTicks&&(n=this.tickTrim(t).length),n>this.maxTicksLength&&(this.maxTicksLength=n)}const n=8*Math.min(this.maxTicksLength,this.maxAllowedLength);let i=n;const o=Math.floor(this.width/e.length);for(;i>o&&t>-90;)t-=30,i=Math.cos(t*(Math.PI/180))*n;return t}getTicks(){let e;const t=this.getMaxTicks(20),n=this.getMaxTicks(100);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[n]):(e=this.scale.domain(),e=On(e,t)),e}getMaxTicks(e){return Math.floor(this.width/e)}tickTransform(e){return"translate("+this.adjustedScale(e)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(e){return this.trimTicks?Mn(e,this.maxTickLength):e}}Pn.\u0275fac=function(e){return new(e||Pn)},Pn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Pn,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](T,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.ticksElement=e.first)}},inputs:{tickArguments:"tickArguments",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",showGridLines:"showGridLines",rotateTicks:"rotateTicks",scale:"scale",orient:"orient",tickValues:"tickValues",tickFormatting:"tickFormatting",gridLineHeight:"gridLineHeight",width:"width"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-x-axis-ticks",""],decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[4,"ngIf"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",null,0),i["\u0275\u0275template"](2,R,5,7,"g",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,O,2,2,"g",2)),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.ticks),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.ticks))},directives:[o.NgForOf,o.NgIf],encapsulation:2,changeDetection:0}),Pn.propDecorators={scale:[{type:i.Input}],orient:[{type:i.Input}],tickArguments:[{type:i.Input}],tickValues:[{type:i.Input}],tickStroke:[{type:i.Input}],trimTicks:[{type:i.Input}],maxTickLength:[{type:i.Input}],tickFormatting:[{type:i.Input}],showGridLines:[{type:i.Input}],gridLineHeight:[{type:i.Input}],width:[{type:i.Input}],rotateTicks:[{type:i.Input}],dimensionsChanged:[{type:i.Output}],ticksElement:[{type:i.ViewChild,args:["ticksel"]}]};class Fn{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient="bottom",this.xAxisOffset=0,this.dimensionsChanged=new i.EventEmitter,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5}ngOnChanges(e){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,void 0!==this.xAxisTickCount&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:e}){const t=e+25+5;t!==this.labelOffset&&(this.labelOffset=t,setTimeout(()=>{this.dimensionsChanged.emit({height:e})},0))}}function kn(e,t,n,i,o,[r,s,a,l]){let c="";return c=`M${[e+o,t]}`,c+="h"+((n=0===(n=Math.floor(n))?1:n)-2*o),c+=s?`a${[o,o]} 0 0 1 ${[o,o]}`:`h${o}v${o}`,c+="v"+((i=0===(i=Math.floor(i))?1:i)-2*o),c+=l?`a${[o,o]} 0 0 1 ${[-o,o]}`:`v${o}h${-o}`,c+="h"+(2*o-n),c+=a?`a${[o,o]} 0 0 1 ${[-o,-o]}`:`h${-o}v${-o}`,c+="v"+(2*o-i),c+=r?`a${[o,o]} 0 0 1 ${[o,-o]}`:`v${-o}h${o}`,c+="z",c}Fn.\u0275fac=function(e){return new(e||Fn)},Fn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Fn,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](Pn,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.ticksComponent=e.first)}},inputs:{rotateTicks:"rotateTicks",showGridLines:"showGridLines",xOrient:"xOrient",xAxisOffset:"xAxisOffset",xScale:"xScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickInterval:"xAxisTickInterval",xAxisTickCount:"xAxisTickCount"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-x-axis",""],decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275template"](1,P,1,12,"g",0),i["\u0275\u0275template"](2,F,1,5,"g",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275attribute"]("class",t.xAxisClassName)("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.xScale),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showLabel))},directives:[o.NgIf,Pn,Rn],encapsulation:2,changeDetection:0}),Fn.propDecorators={xScale:[{type:i.Input}],dims:[{type:i.Input}],trimTicks:[{type:i.Input}],rotateTicks:[{type:i.Input}],maxTickLength:[{type:i.Input}],tickFormatting:[{type:i.Input}],showGridLines:[{type:i.Input}],showLabel:[{type:i.Input}],labelText:[{type:i.Input}],ticks:[{type:i.Input}],xAxisTickInterval:[{type:i.Input}],xAxisTickCount:[{type:i.Input}],xOrient:[{type:i.Input}],xAxisOffset:[{type:i.Input}],dimensionsChanged:[{type:i.Output}],ticksComponent:[{type:i.ViewChild,args:[Pn]}]};class Nn{constructor(){this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.dimensionsChanged=new i.EventEmitter,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor="middle",this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);e!==this.width&&(this.width=e,this.dimensionsChanged.emit({width:e}),setTimeout(()=>this.updateDims()))}update(){let e;const t="top"===this.orient||"right"===this.orient?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,e=this.scale,this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:e.tickFormat?this.tickFormat=e.tickFormat.apply(e,this.tickArguments):this.tickFormat=function(e){return"Date"===e.constructor.name?e.toLocaleDateString():e.toLocaleString()},this.adjustedScale=e.bandwidth?function(t){return e(t)+.5*e.bandwidth()}:e,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case"top":case"bottom":this.transform=function(e){return"translate("+this.adjustedScale(e)+",0)"},this.textAnchor="middle",this.y2=this.innerTickSize*t,this.y1=this.tickSpacing*t,this.dy=t<0?"0em":".71em";break;case"left":this.transform=function(e){return"translate(0,"+this.adjustedScale(e)+")"},this.textAnchor="end",this.x2=this.innerTickSize*-t,this.x1=this.tickSpacing*-t,this.dy=".32em";break;case"right":this.transform=function(e){return"translate(0,"+this.adjustedScale(e)+")"},this.textAnchor="start",this.x2=this.innerTickSize*-t,this.x1=this.tickSpacing*-t,this.dy=".32em"}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(e=>e.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(e=>e.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=kn(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let e;const t=this.getMaxTicks(20),n=this.getMaxTicks(50);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[n]):(e=this.scale.domain(),e=On(e,t)),e}getMaxTicks(e){return Math.floor(this.height/e)}tickTransform(e){return`translate(${this.adjustedScale(e)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(e){return this.trimTicks?Mn(e,this.maxTickLength):e}}Nn.\u0275fac=function(e){return new(e||Nn)},Nn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Nn,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](T,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.ticksElement=e.first)}},inputs:{tickArguments:"tickArguments",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",showGridLines:"showGridLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",scale:"scale",orient:"orient",tickValues:"tickValues",tickFormatting:"tickFormatting",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-y-axis-ticks",""],decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[1,"reference-area"],[4,"ngIf"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",null,0),i["\u0275\u0275template"](2,k,5,9,"g",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,N,1,2,"path",2),i["\u0275\u0275template"](4,B,2,2,"g",3),i["\u0275\u0275template"](5,$,2,1,"g",3)),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.ticks),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.referenceLineLength>1&&t.refMax&&t.refMin&&t.showRefLines),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.ticks),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.referenceLines))},directives:[o.NgForOf,o.NgIf],encapsulation:2,changeDetection:0}),Nn.propDecorators={scale:[{type:i.Input}],orient:[{type:i.Input}],tickArguments:[{type:i.Input}],tickValues:[{type:i.Input}],tickStroke:[{type:i.Input}],trimTicks:[{type:i.Input}],maxTickLength:[{type:i.Input}],tickFormatting:[{type:i.Input}],showGridLines:[{type:i.Input}],gridLineWidth:[{type:i.Input}],height:[{type:i.Input}],referenceLines:[{type:i.Input}],showRefLabels:[{type:i.Input}],showRefLines:[{type:i.Input}],dimensionsChanged:[{type:i.Output}],ticksElement:[{type:i.ViewChild,args:["ticksel"]}]};class jn{constructor(){this.showGridLines=!1,this.yOrient="left",this.yAxisOffset=0,this.dimensionsChanged=new i.EventEmitter,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(e){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),"right"===this.yOrient?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):(this.offset=this.offset,this.transform=`translate(${this.offset} , 0)`),void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:e}){e!==this.labelOffset&&"right"===this.yOrient?(this.labelOffset=e+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0)):e!==this.labelOffset&&(this.labelOffset=e,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0))}}jn.\u0275fac=function(e){return new(e||jn)},jn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:jn,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](Nn,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.ticksComponent=e.first)}},inputs:{showGridLines:"showGridLines",yOrient:"yOrient",yAxisOffset:"yAxisOffset",yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showLabel:"showLabel",labelText:"labelText",yAxisTickInterval:"yAxisTickInterval",yAxisTickCount:"yAxisTickCount",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-y-axis",""],decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275template"](1,U,1,14,"g",0),i["\u0275\u0275template"](2,H,1,5,"g",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275attribute"]("class",t.yAxisClassName)("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.yScale),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showLabel))},directives:[o.NgIf,Nn,Rn],encapsulation:2,changeDetection:0}),jn.propDecorators={yScale:[{type:i.Input}],dims:[{type:i.Input}],trimTicks:[{type:i.Input}],maxTickLength:[{type:i.Input}],tickFormatting:[{type:i.Input}],ticks:[{type:i.Input}],showGridLines:[{type:i.Input}],showLabel:[{type:i.Input}],labelText:[{type:i.Input}],yAxisTickInterval:[{type:i.Input}],yAxisTickCount:[{type:i.Input}],yOrient:[{type:i.Input}],referenceLines:[{type:i.Input}],showRefLines:[{type:i.Input}],showRefLabels:[{type:i.Input}],yAxisOffset:[{type:i.Input}],dimensionsChanged:[{type:i.Output}],ticksComponent:[{type:i.ViewChild,args:[Nn]}]};class Ln{}var Vn,Bn,Gn;Ln.\u0275fac=function(e){return new(e||Ln)},Ln.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ln}),Ln.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[o.CommonModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](Ln,{declarations:function(){return[Rn,Fn,Pn,jn,Nn]},imports:function(){return[o.CommonModule]},exports:function(){return[Rn,Fn,Pn,jn,Nn]}}),function(e){e[e.popover="popover"]="popover",e[e.tooltip="tooltip"]="tooltip"}(Vn||(Vn={})),function(e){e[e.left="left"]="left",e[e.center="center"]="center",e[e.right="right"]="right"}(Bn||(Bn={})),function(e){e[e.all="all"]="all",e[e.focus="focus"]="focus",e[e.mouseover="mouseover"]="mouseover"}(Gn||(Gn={}));class zn{constructor(e,t,n){this.tooltipService=e,this.viewContainerRef=t,this.renderer=n,this.tooltipCssClass="",this.tooltipTitle="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=xn.top,this.tooltipAlignment=Bn.center,this.tooltipType=Vn.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Gn.all,this.tooltipImmediateExit=!1,this.show=new i.EventEmitter,this.hide=new i.EventEmitter}get listensForFocus(){return this.tooltipShowEvent===Gn.all||this.tooltipShowEvent===Gn.focus}get listensForHover(){return this.tooltipShowEvent===Gn.all||this.tooltipShowEvent===Gn.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component){if(this.component.instance.element.nativeElement.contains(e))return}this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;const t=e?0:this.tooltipShowTimeout;clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const e=this.createBoundOptions();this.component=this.tooltipService.create(e),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},t)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen(document,"click",t=>{e.contains(t.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;const t=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?t():this.timeout=setTimeout(t,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}zn.\u0275fac=function(e){return new(e||zn)(i["\u0275\u0275directiveInject"](An),i["\u0275\u0275directiveInject"](i.ViewContainerRef),i["\u0275\u0275directiveInject"](i.Renderer2))},zn.\u0275dir=i["\u0275\u0275defineDirective"]({type:zn,selectors:[["","ngx-tooltip",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("focusin",function(){return t.onFocus()})("blur",function(){return t.onBlur()})("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(e){return t.onMouseLeave(e.target)})("click",function(){return t.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipShowEvent:"tooltipShowEvent",tooltipImmediateExit:"tooltipImmediateExit",tooltipTemplate:"tooltipTemplate",tooltipContext:"tooltipContext"},outputs:{show:"show",hide:"hide"}}),zn.ctorParameters=()=>[{type:An},{type:i.ViewContainerRef},{type:i.Renderer2}],zn.propDecorators={tooltipCssClass:[{type:i.Input}],tooltipTitle:[{type:i.Input}],tooltipAppendToBody:[{type:i.Input}],tooltipSpacing:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],tooltipShowCaret:[{type:i.Input}],tooltipPlacement:[{type:i.Input}],tooltipAlignment:[{type:i.Input}],tooltipType:[{type:i.Input}],tooltipCloseOnClickOutside:[{type:i.Input}],tooltipCloseOnMouseLeave:[{type:i.Input}],tooltipHideTimeout:[{type:i.Input}],tooltipShowTimeout:[{type:i.Input}],tooltipTemplate:[{type:i.Input}],tooltipShowEvent:[{type:i.Input}],tooltipContext:[{type:i.Input}],tooltipImmediateExit:[{type:i.Input}],show:[{type:i.Output}],hide:[{type:i.Output}],onFocus:[{type:i.HostListener,args:["focusin"]}],onBlur:[{type:i.HostListener,args:["blur"]}],onMouseEnter:[{type:i.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:i.HostListener,args:["mouseleave",["$event.target"]]}],onMouseClick:[{type:i.HostListener,args:["click"]}]};class $n{}function Un(e){return e=e instanceof Date?e.toLocaleDateString():e.toLocaleString()}function Hn(e){return e.toLocaleString().replace(/[&'`"<>]/g,e=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[e]))}$n.\u0275fac=function(e){return new(e||$n)},$n.\u0275mod=i["\u0275\u0275defineNgModule"]({type:$n}),$n.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[vn,An],imports:[[o.CommonModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"]($n,{declarations:function(){return[Sn,zn]},imports:function(){return[o.CommonModule]},exports:function(){return[Sn,zn]}});const Xn={};function Wn(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,Xn[e]?Wn():(Xn[e]=!0,e)}class qn{constructor(){this.type="standard",this.tooltipDisabled=!1,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.barVisible=!1}ngOnInit(){this.gradientId="grad"+Wn().toString(),this.gradientFill=`url(#${this.gradientId})`}ngOnChanges(e){this.update()}update(){this.circle=this.getActiveCircle()}getActiveCircle(){const e=this.data.series.findIndex(e=>{const t=e.name;return t&&this.visibleValue&&t.toString()===this.visibleValue.toString()&&void 0!==e.value});if(-1!==e)return this.mapDataPointToCircle(this.data.series[e],e)}mapDataPointToCircle(e,t){const n=this.data.name,i=e.value,o=e.name,r=Un(o);let s;s="time"===this.scaleType?this.xScale(o):"linear"===this.scaleType?this.xScale(Number(o)):this.xScale(o);const a=this.yScale("standard"===this.type?i:e.d1),l=this.yScale.range()[0]-a;let c;c="linear"===this.colors.scaleType?"standard"===this.type?this.colors.getColor(i):this.colors.getColor(e.d1):this.colors.getColor(n);return{classNames:[`circle-data-${t}`],value:i,label:o,data:Object.assign({},e,{series:n,value:i,name:o}),cx:s,cy:a,radius:5,height:l,tooltipLabel:r,color:c,opacity:1,seriesName:n,gradientStops:this.getGradientStops(c),min:e.min,max:e.max}}getTooltipText({tooltipLabel:e,value:t,seriesName:n,min:i,max:o}){return`\n      <span class="tooltip-label">${Hn(n)} \u2022 ${Hn(e)}</span>\n      <span class="tooltip-val">${t.toLocaleString()}${this.getTooltipMinMaxText(i,o)}</span>\n    `}getTooltipMinMaxText(e,t){if(void 0!==e||void 0!==t){let n=" (";return void 0!==e?(void 0===t&&(n+="\u2265"),n+=e.toLocaleString(),void 0!==t&&(n+=" - ")):void 0!==t&&(n+="\u2264"),void 0!==t&&(n+=t.toLocaleString()),n+=")",n}return""}getGradientStops(e){return[{offset:0,color:e,opacity:.2},{offset:100,color:e,opacity:1}]}onClick(e){this.select.emit(e)}isActive(e){if(!this.activeEntries)return!1;return void 0!==this.activeEntries.find(t=>e.name===t.name)}activateCircle(){this.barVisible=!0,this.activate.emit({name:this.data.name})}deactivateCircle(){this.barVisible=!1,this.circle.opacity=0,this.deactivate.emit({name:this.data.name})}}qn.\u0275fac=function(e){return new(e||qn)},qn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:qn,selectors:[["g","ngx-charts-circle-series",""]],inputs:{type:"type",tooltipDisabled:"tooltipDisabled",data:"data",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",visibleValue:"visibleValue",activeEntries:"activeEntries",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-circle-series",""],decls:1,vars:1,consts:[[4,"ngIf"],["ngx-charts-svg-linear-gradient","","orientation","vertical",3,"name","stops"],["class","tooltip-bar",4,"ngIf"],["ngx-charts-circle","","ngx-tooltip","",1,"circle",3,"cx","cy","r","fill","pointerEvents","data","classNames","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate"],[1,"tooltip-bar"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,q,5,20,"g",0),2&e&&i["\u0275\u0275property"]("ngIf",t.circle)},directives:function(){return[o.NgIf,Kn,Yn,zn]},encapsulation:2,data:{animation:[(0,r.trigger)("animationState",[(0,r.transition)(":enter",[(0,r.style)({opacity:0}),(0,r.animate)(250,(0,r.style)({opacity:1}))])])]},changeDetection:0}),qn.propDecorators={data:[{type:i.Input}],type:[{type:i.Input}],xScale:[{type:i.Input}],yScale:[{type:i.Input}],colors:[{type:i.Input}],scaleType:[{type:i.Input}],visibleValue:[{type:i.Input}],activeEntries:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],tooltipTemplate:[{type:i.Input}],select:[{type:i.Output}],activate:[{type:i.Output}],deactivate:[{type:i.Output}]};class Yn{constructor(){this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter}onClick(){this.select.emit(this.data)}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}ngOnChanges(e){this.classNames=Array.isArray(this.classNames)?this.classNames.join(" "):"",this.classNames+="circle"}}Yn.\u0275fac=function(e){return new(e||Yn)},Yn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Yn,selectors:[["g","ngx-charts-circle",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("click",function(){return t.onClick()})("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()})},inputs:{classNames:"classNames",cx:"cx",cy:"cy",r:"r",fill:"fill",stroke:"stroke",data:"data",circleOpacity:"circleOpacity",pointerEvents:"pointerEvents"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-circle",""],decls:1,vars:8,template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"circle")),2&e&&i["\u0275\u0275attribute"]("cx",t.cx)("cy",t.cy)("r",t.r)("fill",t.fill)("stroke",t.stroke)("opacity",t.circleOpacity)("class",t.classNames)("pointer-events",t.pointerEvents)},encapsulation:2,changeDetection:0}),Yn.propDecorators={cx:[{type:i.Input}],cy:[{type:i.Input}],r:[{type:i.Input}],fill:[{type:i.Input}],stroke:[{type:i.Input}],data:[{type:i.Input}],classNames:[{type:i.Input}],circleOpacity:[{type:i.Input}],pointerEvents:[{type:i.Input}],select:[{type:i.Output}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],onClick:[{type:i.HostListener,args:["click"]}],onMouseEnter:[{type:i.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:i.HostListener,args:["mouseleave"]}]};class Qn{}Qn.\u0275fac=function(e){return new(e||Qn)},Qn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Qn,selectors:[["g","ngx-charts-grid-panel",""]],inputs:{path:"path",width:"width",height:"height",x:"x",y:"y"},attrs:["ngx-charts-grid-panel",""],decls:1,vars:4,consts:[["stroke","none",1,"gridpanel"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"rect",0)),2&e&&i["\u0275\u0275attribute"]("height",t.height)("width",t.width)("x",t.x)("y",t.y)},encapsulation:2,changeDetection:0}),Qn.propDecorators={path:[{type:i.Input}],width:[{type:i.Input}],height:[{type:i.Input}],x:[{type:i.Input}],y:[{type:i.Input}]};class Zn{ngOnChanges(e){this.update()}update(){this.gridPanels=this.getGridPanels()}getGridPanels(){return this.data.map(e=>{let t,n,i,o,r,s="odd";if("vertical"===this.orient){const a=this.xScale(e.name);Number.parseInt((a/this.xScale.step()).toString(),10)%2==1&&(s="even"),t=this.xScale.bandwidth()*this.xScale.paddingInner(),n=this.xScale.bandwidth()+t,i=this.dims.height,o=this.xScale(e.name)-t/2,r=0}else if("horizontal"===this.orient){const a=this.yScale(e.name);Number.parseInt((a/this.yScale.step()).toString(),10)%2==1&&(s="even"),t=this.yScale.bandwidth()*this.yScale.paddingInner(),n=this.dims.width,i=this.yScale.bandwidth()+t,o=0,r=this.yScale(e.name)-t/2}return{name:e.name,class:s,height:i,width:n,x:o,y:r}})}}Zn.\u0275fac=function(e){return new(e||Zn)},Zn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Zn,selectors:[["g","ngx-charts-grid-panel-series",""]],inputs:{data:"data",dims:"dims",xScale:"xScale",yScale:"yScale",orient:"orient"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-grid-panel-series",""],decls:1,vars:1,consts:[["ngx-charts-grid-panel","",3,"height","width","x","y","grid-panel","odd","even",4,"ngFor","ngForOf"],["ngx-charts-grid-panel","",3,"height","width","x","y"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,Y,1,10,"g",0),2&e&&i["\u0275\u0275property"]("ngForOf",t.gridPanels)},directives:[o.NgForOf,Qn],encapsulation:2,changeDetection:0}),Zn.propDecorators={data:[{type:i.Input}],dims:[{type:i.Input}],xScale:[{type:i.Input}],yScale:[{type:i.Input}],orient:[{type:i.Input}]};class Kn{constructor(){this.orientation="vertical"}ngOnChanges(e){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%","horizontal"===this.orientation?this.x2="100%":"vertical"===this.orientation&&(this.y1="100%")}}Kn.\u0275fac=function(e){return new(e||Kn)},Kn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Kn,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-svg-linear-gradient",""],decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"linearGradient",0),i["\u0275\u0275template"](1,Q,1,5,"stop",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("id",t.name),i["\u0275\u0275attribute"]("x1",t.x1)("y1",t.y1)("x2",t.x2)("y2",t.y2),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.stops))},directives:[o.NgForOf],encapsulation:2,changeDetection:0}),Kn.propDecorators={orientation:[{type:i.Input}],name:[{type:i.Input}],stops:[{type:i.Input}]};class Jn{constructor(){this.endOpacity=1,this.cx=0,this.cy=0}get stops(){return this.stopsInput||this.stopsDefault}set stops(e){this.stopsInput=e}ngOnChanges(e){this.r="30%",("color"in e||"startOpacity"in e||"endOpacity"in e)&&(this.stopsDefault=[{offset:0,color:this.color,opacity:this.startOpacity},{offset:100,color:this.color,opacity:this.endOpacity}])}}Jn.\u0275fac=function(e){return new(e||Jn)},Jn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Jn,selectors:[["g","ngx-charts-svg-radial-gradient",""]],inputs:{endOpacity:"endOpacity",cx:"cx",cy:"cy",stops:"stops",color:"color",name:"name",startOpacity:"startOpacity"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-svg-radial-gradient",""],decls:2,vars:5,consts:[["gradientUnits","userSpaceOnUse",3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"radialGradient",0),i["\u0275\u0275template"](1,Z,1,5,"stop",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("id",t.name),i["\u0275\u0275attribute"]("cx",t.cx)("cy",t.cy)("r",t.r),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.stops))},directives:[o.NgForOf],encapsulation:2,changeDetection:0}),Jn.propDecorators={color:[{type:i.Input}],name:[{type:i.Input}],startOpacity:[{type:i.Input}],endOpacity:[{type:i.Input}],cx:[{type:i.Input}],cy:[{type:i.Input}],stops:[{type:i.Input}]};class ei{constructor(e){this.opacity=1,this.startOpacity=.5,this.endOpacity=1,this.gradient=!1,this.animations=!0,this.select=new i.EventEmitter,this.initialized=!1,this.hasGradient=!1,this.element=e.nativeElement}ngOnChanges(e){this.initialized?this.update():(this.loadAnimation(),this.initialized=!0)}update(){this.gradientId="grad"+Wn().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl()}loadAnimation(){this.areaPath=this.startingPath,setTimeout(this.update.bind(this),100)}updatePathEl(){const e=(0,d.select)(this.element).select(".area");this.animations?e.transition().duration(750).attr("d",this.path):e.attr("d",this.path)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.startOpacity},{offset:100,color:this.fill,opacity:this.endOpacity}]}}function ti(e,t,n,i){return n*(1-Math.pow(2,-10*e/i))*1024/1023+t}function ni(e,t,n,i,o){const r=Number(e),s=Number(t),a=r>s,l=Math.max(0,n),c=Math.pow(10,l),d=1e3*Number(i);let u;function p(e){let t;const n=e-u;t=a?r-ti(n,0,r-s,d):ti(n,r,s-r,d),t=a?t<s?s:t:t>s?s:t,t=Math.round(t*c)/c;const i=n<d;if(o({value:t,progress:n,timestamp:e,finished:!i}),i)return requestAnimationFrame(e=>p(e))}return requestAnimationFrame(e=>(u=e,p(e)))}function ii(e){const t=Number(e);return t%1!=0&&Math.abs(t)<=10?2:0}ei.\u0275fac=function(e){return new(e||ei)(i["\u0275\u0275directiveInject"](i.ElementRef))},ei.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ei,selectors:[["g","ngx-charts-area",""]],inputs:{opacity:"opacity",startOpacity:"startOpacity",endOpacity:"endOpacity",gradient:"gradient",animations:"animations",data:"data",path:"path",startingPath:"startingPath",fill:"fill",activeLabel:"activeLabel",stops:"stops"},outputs:{select:"select"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-area",""],decls:2,vars:5,consts:[[4,"ngIf"],[1,"area"],["ngx-charts-svg-linear-gradient","","orientation","vertical",3,"name","stops"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,K,2,2,"defs",0),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](1,"path",1)),2&e&&(i["\u0275\u0275property"]("ngIf",t.gradient),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("opacity",t.opacity),i["\u0275\u0275attribute"]("d",t.areaPath)("fill",t.gradient?t.gradientFill:t.fill))},directives:[o.NgIf,Kn],encapsulation:2,changeDetection:0}),ei.ctorParameters=()=>[{type:i.ElementRef}],ei.propDecorators={data:[{type:i.Input}],path:[{type:i.Input}],startingPath:[{type:i.Input}],fill:[{type:i.Input}],opacity:[{type:i.Input}],startOpacity:[{type:i.Input}],endOpacity:[{type:i.Input}],activeLabel:[{type:i.Input}],gradient:[{type:i.Input}],stops:[{type:i.Input}],animations:[{type:i.Input}],select:[{type:i.Output}]};class oi{constructor(e,t){this.cd=e,this.countDuration=1,this.countPrefix="",this.countSuffix="",this.countChange=new i.EventEmitter,this.countFinish=new i.EventEmitter,this.value="",this._countDecimals=0,this._countTo=0,this._countFrom=0,this.nativeElement=t.nativeElement}set countDecimals(e){this._countDecimals=e}get countDecimals(){return this._countDecimals?this._countDecimals:ii(this.countTo)}set countTo(e){this._countTo=parseFloat(e),this.start()}get countTo(){return this._countTo}set countFrom(e){this._countFrom=parseFloat(e),this.start()}get countFrom(){return this._countFrom}ngOnDestroy(){cancelAnimationFrame(this.animationReq)}start(){cancelAnimationFrame(this.animationReq);const e=this.valueFormatting||(e=>`${this.countPrefix}${e.toLocaleString()}${this.countSuffix}`);this.animationReq=ni(this.countFrom,this.countTo,this.countDecimals,this.countDuration,({value:t,progress:n,finished:i})=>{this.value=e(t),this.cd.markForCheck(),i||this.countChange.emit({value:this.value,progress:n}),i&&this.countFinish.emit({value:this.value,progress:n})})}}let ri;oi.\u0275fac=function(e){return new(e||oi)(i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](i.ElementRef))},oi.\u0275cmp=i["\u0275\u0275defineComponent"]({type:oi,selectors:[["","ngx-charts-count-up",""]],inputs:{countDuration:"countDuration",countPrefix:"countPrefix",countSuffix:"countSuffix",countDecimals:"countDecimals",countTo:"countTo",countFrom:"countFrom",valueFormatting:"valueFormatting"},outputs:{countChange:"countChange",countFinish:"countFinish"},attrs:["ngx-charts-count-up",""],decls:1,vars:1,template:function(e,t){1&e&&i["\u0275\u0275text"](0),2&e&&i["\u0275\u0275textInterpolate1"](" ",t.value," ")},encapsulation:2}),oi.ctorParameters=()=>[{type:i.ChangeDetectorRef},{type:i.ElementRef}],oi.propDecorators={countDuration:[{type:i.Input}],countPrefix:[{type:i.Input}],countSuffix:[{type:i.Input}],valueFormatting:[{type:i.Input}],countDecimals:[{type:i.Input}],countTo:[{type:i.Input}],countFrom:[{type:i.Input}],countChange:[{type:i.Output}],countFinish:[{type:i.Output}]},"undefined"!=typeof window?ri=window:"undefined"!=typeof global&&(ri=global);const si=ri.MouseEvent;function ai(e,t=!1,n=!0){if("function"==typeof si)return new si(e,{bubbles:t,cancelable:n});{const i=document.createEvent("MouseEvent");return i.initEvent(e,t,n),i}}class li{constructor(){this.anchorOpacity=0,this.anchorPos=-1,this.anchorValues=[],this.showPercentage=!1,this.tooltipDisabled=!1,this.hover=new i.EventEmitter}getValues(e){const t=[];for(const n of this.results){const i=n.series.find(t=>t.name.toString()===e.toString());let o=n.name;if(o instanceof Date&&(o=o.toLocaleDateString()),i){const e=i.name;let r,s=i.value;if(this.showPercentage&&(s=(i.d1-i.d0).toFixed(2)+"%"),"linear"===this.colors.scaleType){let e=s;i.d1&&(e=i.d1),r=this.colors.getColor(e)}else r=this.colors.getColor(n.name);const a=Object.assign({},i,{value:s,name:e,series:o,min:i.min,max:i.max,color:r});t.push(a)}}return t}mouseMove(e){const t=e.pageX-e.target.getBoundingClientRect().left,n=this.findClosestPointIndex(t),i=this.xSet[n];if(this.anchorPos=this.xScale(i),this.anchorPos=Math.max(0,this.anchorPos),this.anchorPos=Math.min(this.dims.width,this.anchorPos),this.anchorValues=this.getValues(i),this.anchorPos!==this.lastAnchorPos){const e=ai("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(e),this.anchorOpacity=.7,this.hover.emit({value:i}),this.showTooltip(),this.lastAnchorPos=this.anchorPos}}findClosestPointIndex(e){let t=0,n=this.xSet.length-1,i=Number.MAX_VALUE,o=0;for(;t<=n;){const r=(t+n)/2|0,s=this.xScale(this.xSet[r]),a=Math.abs(s-e);if(a<i&&(i=a,o=r),s<e)t=r+1;else{if(!(s>e)){i=0,o=r;break}n=r-1}}return o}showTooltip(){const e=ai("mouseenter");this.tooltipAnchor.nativeElement.dispatchEvent(e)}hideTooltip(){const e=ai("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(e),this.anchorOpacity=0,this.lastAnchorPos=-1}getToolTipText(e){let t="";return void 0!==e.series?t+=e.series:t+="???",t+=": ",void 0!==e.value&&(t+=e.value.toLocaleString()),void 0===e.min&&void 0===e.max||(t+=" (",void 0!==e.min?(void 0===e.max&&(t+="\u2265"),t+=e.min.toLocaleString(),void 0!==e.max&&(t+=" - ")):void 0!==e.max&&(t+="\u2264"),void 0!==e.max&&(t+=e.max.toLocaleString()),t+=")"),t}}li.\u0275fac=function(e){return new(e||li)},li.\u0275cmp=i["\u0275\u0275defineComponent"]({type:li,selectors:[["g","ngx-charts-tooltip-area",""]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](J,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipAnchor=e.first)}},inputs:{showPercentage:"showPercentage",tooltipDisabled:"tooltipDisabled",dims:"dims",xSet:"xSet",xScale:"xScale",yScale:"yScale",results:"results",colors:"colors",tooltipTemplate:"tooltipTemplate"},outputs:{hover:"hover"},attrs:["ngx-charts-tooltip-area",""],decls:6,vars:18,consts:[["y","0",1,"tooltip-area",2,"opacity","0","cursor","auto",3,"mousemove","mouseleave"],["defaultTooltipTemplate",""],["y","0","ngx-tooltip","",1,"tooltip-anchor",3,"tooltipDisabled","tooltipPlacement","tooltipType","tooltipSpacing","tooltipTemplate","tooltipContext","tooltipImmediateExit"],["tooltipAnchor",""],[1,"area-tooltip-container"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item"],[1,"tooltip-item-color"]],template:function(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275elementStart"](1,"rect",0),i["\u0275\u0275listener"]("mousemove",function(e){return t.mouseMove(e)})("mouseleave",function(){return t.hideTooltip()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,te,2,1,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275element"](4,"rect",2,3),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("x",0)("width",t.dims.width)("height",t.dims.height),i["\u0275\u0275advance"](3),i["\u0275\u0275styleProp"]("opacity",t.anchorOpacity)("pointer-events","none"),i["\u0275\u0275property"]("@animationState",0!==t.anchorOpacity?"active":"inactive")("tooltipDisabled",t.tooltipDisabled)("tooltipPlacement","right")("tooltipType","tooltip")("tooltipSpacing",15)("tooltipTemplate",t.tooltipTemplate?t.tooltipTemplate:e)("tooltipContext",t.anchorValues)("tooltipImmediateExit",!0),i["\u0275\u0275attribute"]("x",t.anchorPos)("width",1)("height",t.dims.height)}},directives:[zn,o.NgForOf],encapsulation:2,data:{animation:[(0,r.trigger)("animationState",[(0,r.transition)("inactive => active",[(0,r.style)({opacity:0}),(0,r.animate)(250,(0,r.style)({opacity:.7}))]),(0,r.transition)("active => inactive",[(0,r.style)({opacity:.7}),(0,r.animate)(250,(0,r.style)({opacity:0}))])])]},changeDetection:0}),li.propDecorators={dims:[{type:i.Input}],xSet:[{type:i.Input}],xScale:[{type:i.Input}],yScale:[{type:i.Input}],results:[{type:i.Input}],colors:[{type:i.Input}],showPercentage:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],tooltipTemplate:[{type:i.Input}],hover:[{type:i.Output}],tooltipAnchor:[{type:i.ViewChild,args:["tooltipAnchor",{static:!1}]}]};class ci{constructor(e,t){this.cd=t,this.height=50,this.select=new i.EventEmitter,this.onDomainChange=new i.EventEmitter,this.initialized=!1,this.element=e.nativeElement}ngOnChanges(e){this.update(),this.initialized||(this.addBrush(),this.initialized=!0)}update(){this.dims=this.getDims(),this.height=this.dims.height;const e=this.view[1]-this.height;this.xDomain=this.getXDomain(),this.xScale=this.getXScale(),this.brush&&this.updateBrush(),this.transform=`translate(0 , ${e})`,this.filterId="filter"+Wn().toString(),this.filter=`url(#${this.filterId})`,this.cd.markForCheck()}getXDomain(){let e=[];for(const n of this.results)for(const t of n.series)e.includes(t.name)||e.push(t.name);let t=[];if("time"===this.scaleType){t=[Math.min(...e),Math.max(...e)]}else if("linear"===this.scaleType){e=e.map(e=>Number(e));t=[Math.min(...e),Math.max(...e)]}else t=e;return t}getXScale(){let e;return"time"===this.scaleType?e=(0,p.scaleTime)().range([0,this.dims.width]).domain(this.xDomain):"linear"===this.scaleType?e=(0,p.scaleLinear)().range([0,this.dims.width]).domain(this.xDomain):"ordinal"===this.scaleType&&(e=(0,p.scalePoint)().range([0,this.dims.width]).padding(.1).domain(this.xDomain)),e}addBrush(){if(this.brush)return;const e=this.height,t=this.view[0];this.brush=(0,u.brushX)().extent([[0,0],[t,e]]).on("brush end",()=>{const e=(d.event.selection||this.xScale.range()).map(this.xScale.invert);this.onDomainChange.emit(e),this.cd.markForCheck()}),(0,d.select)(this.element).select(".brush").call(this.brush)}updateBrush(){if(!this.brush)return;const e=this.height,t=this.view[0];this.brush.extent([[0,0],[t,e]]),(0,d.select)(this.element).select(".brush").call(this.brush),(0,d.select)(this.element).select(".selection").attr("fill",void 0).attr("stroke",void 0).attr("fill-opacity",void 0),this.cd.markForCheck()}getDims(){return{width:this.view[0],height:this.height}}}ci.\u0275fac=function(e){return new(e||ci)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},ci.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ci,selectors:[["g","ngx-charts-timeline",""]],inputs:{height:"height",view:"view",state:"state",results:"results",scheme:"scheme",customColors:"customColors",legend:"legend",miniChart:"miniChart",autoScale:"autoScale",scaleType:"scaleType"},outputs:{select:"select",onDomainChange:"onDomainChange"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-timeline",""],ngContentSelectors:D,decls:7,vars:4,consts:[[1,"timeline"],["in","SourceGraphic","type","matrix","values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"],[1,"embedded-chart"],["x","0","y","0",1,"brush-background"],[1,"brush"]],template:function(e,t){1&e&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",0),i["\u0275\u0275elementStart"](1,"filter"),i["\u0275\u0275element"](2,"feColorMatrix",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"g",2),i["\u0275\u0275projection"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](5,"rect",3),i["\u0275\u0275element"](6,"g",4),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("id",t.filterId),i["\u0275\u0275advance"](4),i["\u0275\u0275attribute"]("width",t.view[0])("height",t.height))},styles:[".timeline .brush-background{fill:rgba(0,0,0,.05)}.timeline .brush .selection{fill:rgba(0,0,0,.1);stroke:#888;stroke-width:1px}.timeline .brush .handle{fill-opacity:0}.timeline .embedded-chart{opacity:.6}"],encapsulation:2,changeDetection:0}),ci.ctorParameters=()=>[{type:i.ElementRef},{type:i.ChangeDetectorRef}],ci.propDecorators={view:[{type:i.Input}],state:[{type:i.Input}],results:[{type:i.Input}],scheme:[{type:i.Input}],customColors:[{type:i.Input}],legend:[{type:i.Input}],miniChart:[{type:i.Input}],autoScale:[{type:i.Input}],scaleType:[{type:i.Input}],height:[{type:i.Input}],select:[{type:i.Output}],onDomainChange:[{type:i.Output}]};class di{constructor(e){this.cd=e,this.horizontal=!1,this.labelClick=new i.EventEmitter,this.labelActivate=new i.EventEmitter,this.labelDeactivate=new i.EventEmitter,this.legendEntries=[]}ngOnChanges(e){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const e=[];for(const t of this.data){const n=Un(t);-1===e.findIndex(e=>e.label===n)&&e.push({label:t,formattedLabel:n,color:this.colors.getColor(t)})}return e}isActive(e){if(!this.activeEntries)return!1;return void 0!==this.activeEntries.find(t=>e.label===t.name)}activate(e){this.labelActivate.emit(e)}deactivate(e){this.labelDeactivate.emit(e)}trackBy(e,t){return t.label}}di.\u0275fac=function(e){return new(e||di)(i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},di.\u0275cmp=i["\u0275\u0275defineComponent"]({type:di,selectors:[["ngx-charts-legend"]],inputs:{horizontal:"horizontal",data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275template"](1,ne,3,1,"header",0),i["\u0275\u0275elementStart"](2,"div",1),i["\u0275\u0275elementStart"](3,"ul",2),i["\u0275\u0275template"](4,ie,2,4,"li",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275styleProp"]("width",t.width,"px"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",(null==t.title?null:t.title.length)>0),i["\u0275\u0275advance"](2),i["\u0275\u0275styleProp"]("max-height",t.height-45,"px"),i["\u0275\u0275classProp"]("horizontal-legend",t.horizontal),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.legendEntries)("ngForTrackBy",t.trackBy))},directives:function(){return[o.NgIf,o.NgForOf,ui]},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{font-size:14px;font-weight:700;margin-bottom:5px;margin-left:10px;overflow:hidden;white-space:nowrap}.chart-legend li,.chart-legend ul{list-style:none;margin:0;padding:0}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{background:rgba(0,0,0,.05);border-radius:3px;float:left;line-height:85%;list-style:none;overflow-x:hidden;overflow-y:auto;text-align:left;white-space:nowrap;width:100%}.chart-legend .legend-label{color:#afb7c8;cursor:pointer;font-size:90%;margin:8px}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{border-radius:3px;color:#5b646b;display:inline-block;height:15px;margin-right:5px;width:15px}.chart-legend .legend-label-text{font-size:12px;line-height:15px;vertical-align:top;width:calc(100% - 20px)}.chart-legend .legend-label-text,.chart-legend .legend-title-text{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chart-legend .legend-title-text{line-height:16px;vertical-align:bottom}"],encapsulation:2,changeDetection:0}),di.ctorParameters=()=>[{type:i.ChangeDetectorRef}],di.propDecorators={data:[{type:i.Input}],title:[{type:i.Input}],colors:[{type:i.Input}],height:[{type:i.Input}],width:[{type:i.Input}],activeEntries:[{type:i.Input}],horizontal:[{type:i.Input}],labelClick:[{type:i.Output}],labelActivate:[{type:i.Output}],labelDeactivate:[{type:i.Output}]};class ui{constructor(){this.isActive=!1,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.toggle=new i.EventEmitter}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}ui.\u0275fac=function(e){return new(e||ui)},ui.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ui,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()})},inputs:{isActive:"isActive",color:"color",label:"label",formattedLabel:"formattedLabel"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",0),i["\u0275\u0275listener"]("click",function(){return t.select.emit(t.formattedLabel)}),i["\u0275\u0275elementStart"](1,"span",1),i["\u0275\u0275listener"]("click",function(){return t.toggle.emit(t.formattedLabel)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"span",2),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275classProp"]("active",t.isActive),i["\u0275\u0275property"]("title",t.formattedLabel),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("background-color",t.color),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.trimmedLabel," "))},encapsulation:2,changeDetection:0}),ui.propDecorators={color:[{type:i.Input}],label:[{type:i.Input}],formattedLabel:[{type:i.Input}],isActive:[{type:i.Input}],select:[{type:i.Output}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],toggle:[{type:i.Output}],onMouseEnter:[{type:i.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:i.HostListener,args:["mouseleave"]}]};class pi{constructor(e){this.sanitizer=e,this.horizontal=!1}ngOnChanges(e){const t=this.gradientString(this.colors.range(),this.colors.domain()),n=this.horizontal?"right":"bottom";this.gradient=this.sanitizer.bypassSecurityTrustStyle(`linear-gradient(to ${n}, ${t})`)}gradientString(e,t){t.push(1);const n=[];return e.reverse().forEach((e,i)=>{n.push(`${e} ${Math.round(100*t[i])}%`)}),n.join(", ")}}pi.\u0275fac=function(e){return new(e||pi)(i["\u0275\u0275directiveInject"](h.DomSanitizer))},pi.\u0275cmp=i["\u0275\u0275defineComponent"]({type:pi,selectors:[["ngx-charts-scale-legend"]],inputs:{horizontal:"horizontal",valueRange:"valueRange",colors:"colors",height:"height",width:"width"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"span"),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](4,"div",2),i["\u0275\u0275elementStart"](5,"div",1),i["\u0275\u0275elementStart"](6,"span"),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275styleProp"]("height",t.horizontal?void 0:t.height,"px")("width",t.width,"px"),i["\u0275\u0275classProp"]("horizontal-legend",t.horizontal),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](t.valueRange[1].toLocaleString()),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("background",t.gradient),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](t.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{display:flex;flex-direction:column;text-align:center}.chart-legend .scale-legend-wrap{border-radius:5px;display:inline-block;flex:1;margin:0 auto;width:30px}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{height:30px;margin:0 16px;width:auto}"],encapsulation:2,changeDetection:0}),pi.ctorParameters=()=>[{type:h.DomSanitizer}],pi.propDecorators={valueRange:[{type:i.Input}],colors:[{type:i.Input}],height:[{type:i.Input}],width:[{type:i.Input}],horizontal:[{type:i.Input}]};class hi{constructor(){this.label="Total",this.animations=!0,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.legendItems=[],this.labelFormatting=e=>e,this.percentageFormatting=e=>e,this.defaultValueFormatting=e=>e.toLocaleString()}ngOnChanges(e){this.update()}getTotal(){return this.data.map(e=>e.value).reduce((e,t)=>e+t,0)}update(){this.total=this.getTotal(),this.roundedTotal=this.total,this.legendItems=this.getLegendItems()}getLegendItems(){return this.data.map(e=>{const t=Un(e.name),n=e.value,i=this.colors.getColor(t),o=this.total>0?n/this.total*100:0,r="function"==typeof this.labelFormatting?this.labelFormatting(t):t;return{_value:n,data:e,value:n,color:i,label:r,displayLabel:Mn(r,20),origialLabel:e.name,percentage:this.percentageFormatting?this.percentageFormatting(o):o.toLocaleString()}})}trackBy(e){return e.formattedLabel}}hi.\u0275fac=function(e){return new(e||hi)},hi.\u0275cmp=i["\u0275\u0275defineComponent"]({type:hi,selectors:[["ngx-charts-advanced-legend"]],inputs:{label:"label",animations:"animations",labelFormatting:"labelFormatting",percentageFormatting:"percentageFormatting",width:"width",data:"data",colors:"colors",valueFormatting:"valueFormatting"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:8,vars:7,consts:[[1,"advanced-pie-legend"],["class","total-value","ngx-charts-count-up","",3,"countTo","valueFormatting",4,"ngIf"],["class","total-value",4,"ngIf"],[1,"total-label"],[1,"legend-items-container"],[1,"legend-items"],["tabindex","-1","class","legend-item",3,"mouseenter","mouseleave","click",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-count-up","",1,"total-value",3,"countTo","valueFormatting"],[1,"total-value"],["tabindex","-1",1,"legend-item",3,"mouseenter","mouseleave","click"],[1,"item-color"],["class","item-value","ngx-charts-count-up","",3,"countTo","valueFormatting",4,"ngIf"],["class","item-value",4,"ngIf"],[1,"item-label"],["class","item-percent","ngx-charts-count-up","",3,"countTo","countSuffix",4,"ngIf"],["class","item-percent",4,"ngIf"],["ngx-charts-count-up","",1,"item-value",3,"countTo","valueFormatting"],[1,"item-value"],["ngx-charts-count-up","",1,"item-percent",3,"countTo","countSuffix"],[1,"item-percent"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,oe,1,2,"div",1),i["\u0275\u0275template"](2,re,2,1,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",4),i["\u0275\u0275elementStart"](6,"div",5),i["\u0275\u0275template"](7,de,8,7,"div",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275styleProp"]("width",t.width,"px"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.animations),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.label," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",t.legendItems)("ngForTrackBy",t.trackBy))},directives:[o.NgIf,o.NgForOf,oi],styles:[".advanced-pie-legend{float:left;position:relative;top:50%;transform:translateY(-50%)}.advanced-pie-legend .total-value{font-size:36px}.advanced-pie-legend .total-label{font-size:24px;margin-bottom:19px}.advanced-pie-legend .legend-items-container{width:100%}.advanced-pie-legend .legend-items-container .legend-items{overflow:auto;white-space:nowrap}.advanced-pie-legend .legend-items-container .legend-items .legend-item{cursor:pointer;display:inline-block;margin-right:20px}.advanced-pie-legend .legend-items-container .legend-items .legend-item:focus{outline:none}.advanced-pie-legend .legend-items-container .legend-items .legend-item:hover{color:#000;transition:.2s}.advanced-pie-legend .legend-items-container .legend-items .legend-item .item-value{font-size:24px;margin-left:11px;margin-top:-6px}.advanced-pie-legend .legend-items-container .legend-items .legend-item .item-label{font-size:14px;margin-left:11px;margin-top:-6px;opacity:.7}.advanced-pie-legend .legend-items-container .legend-items .legend-item .item-percent{font-size:24px;margin-left:11px;opacity:.7}.advanced-pie-legend .legend-items-container .legend-items .legend-item .item-color{border-left:4px solid;float:left;height:42px;margin-right:7px;width:4px}"],encapsulation:2,changeDetection:0}),hi.propDecorators={width:[{type:i.Input}],data:[{type:i.Input}],colors:[{type:i.Input}],label:[{type:i.Input}],animations:[{type:i.Input}],select:[{type:i.Output}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],valueFormatting:[{type:i.Input}],labelFormatting:[{type:i.Input}],percentageFormatting:[{type:i.Input}]};class mi{}function fi({width:e,height:t,margins:n,showXAxis:i=!1,showYAxis:o=!1,xAxisHeight:r=0,yAxisWidth:s=0,showXLabel:a=!1,showYLabel:l=!1,showLegend:c=!1,legendType:d="ordinal",legendPosition:u="right",columns:p=12}){let h=n[3],m=e,f=t-n[0]-n[2];if(c&&"right"===u&&(p-="ordinal"===d?2:1),m=m*p/12,m=m-n[1]-n[3],i&&(f-=5,f-=r,a)){f-=30}if(o&&(m-=5,m-=s,h+=s,h+=10,l)){const e=30;m-=e,h+=e}return m=Math.max(0,m),f=Math.max(0,f),{width:Math.floor(m),height:Math.floor(f),xOffset:Math.floor(h)}}mi.\u0275fac=function(e){return new(e||mi)},mi.\u0275mod=i["\u0275\u0275defineNgModule"]({type:mi}),mi.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[o.CommonModule,Ln,$n],o.CommonModule,Ln,$n]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](mi,{declarations:function(){return[ei,Tn,oi,li,En,di,ui,pi,Yn,qn,Qn,Zn,Kn,Jn,ci,hi,Dn]},imports:function(){return[o.CommonModule,Ln,$n]},exports:function(){return[o.CommonModule,Ln,$n,ei,Tn,oi,li,En,di,ui,pi,Yn,qn,Qn,Zn,Kn,Jn,ci,hi,Dn]}});let gi=[{name:"vivid",selectable:!0,group:"Ordinal",domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:"Ordinal",domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:"Ordinal",domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:"Ordinal",domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:"Continuous",domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:"Continuous",domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:"Continuous",domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:"Ordinal",domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:"Ordinal",domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:"Ordinal",domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:"Ordinal",domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:"Ordinal",domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:"Ordinal",domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:"Ordinal",domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:"Ordinal",domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class vi{constructor(e,t,n,i){"string"==typeof e&&(e=gi.find(t=>t.name===e)),this.colorDomain=e.domain,this.scaleType=t,this.domain=n,this.customColors=i,this.scale=this.generateColorScheme(e,t,this.domain)}generateColorScheme(e,t,n){let i;if("string"==typeof e&&(e=gi.find(t=>t.name===e)),"quantile"===t)i=(0,p.scaleQuantile)().range(e.domain).domain(n);else if("ordinal"===t)i=(0,p.scaleOrdinal)().range(e.domain).domain(n);else if("linear"===t){const t=[...e.domain];1===t.length&&(t.push(t[0]),this.colorDomain=t);const n=(0,f.range)(0,1,1/t.length);i=(0,p.scaleLinear)().domain(n).range(t)}return i}getColor(e){if(null==e)throw new Error("Value can not be null");if("linear"===this.scaleType){const t=(0,p.scaleLinear)().domain(this.domain).range([0,1]);return this.scale(t(e))}{if("function"==typeof this.customColors)return this.customColors(e);const t=e.toString();let n;return this.customColors&&this.customColors.length>0&&(n=this.customColors.find(e=>e.name.toLowerCase()===t.toLowerCase())),n?n.value:this.scale(e)}}getLinearGradientStops(e,t){void 0===t&&(t=this.domain[0]);const n=(0,p.scaleLinear)().domain(this.domain).range([0,1]),i=(0,p.scaleBand)().domain(this.colorDomain).range([0,1]),o=this.getColor(e),r=n(t),s=this.getColor(t),a=n(e);let l=1,c=r;const d=[];for(d.push({color:s,offset:r,originalOffset:r,opacity:1});c<a&&l<this.colorDomain.length;){const e=this.colorDomain[l],t=i(e);if(t<=r)l++;else{if(t.toFixed(4)>=(a-i.bandwidth()).toFixed(4))break;d.push({color:e,offset:t,opacity:1}),c=t,l++}}if(d[d.length-1].offset<100&&d.push({color:o,offset:a,opacity:1}),a===r)d[0].offset=0,d[1].offset=100;else if(100!==d[d.length-1].offset)for(const u of d)u.offset=(u.offset-r)/(a-r)*100;return d}}function yi(e){const t=new Set;for(const n of e)for(const e of n.series)t.add(e.name);return Array.from(t)}function bi(e,t=!0){if(t){if(e.every(e=>e instanceof Date))return"time"}return e.every(e=>"number"==typeof e)?"linear":"ordinal"}class xi extends Tn{constructor(){super(...arguments),this.legendTitle="Legend",this.legendPosition="right",this.baseValue="auto",this.showGridLines=!0,this.curve=m.curveLinear,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10}update(){super.update(),this.dims=fi({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset}, ${this.margin[0]})`,this.clipPathId="clip"+Wn().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let e=yi(this.results);this.scaleType=bi(e);let t,n,i=[];return"linear"===this.scaleType&&(e=e.map(e=>Number(e))),"time"!==this.scaleType&&"linear"!==this.scaleType||(t=this.xScaleMin?this.xScaleMin:Math.min(...e),n=this.xScaleMax?this.xScaleMax:Math.max(...e)),"time"===this.scaleType?(i=[new Date(t),new Date(n)],this.xSet=[...e].sort((e,t)=>{const n=e.getTime(),i=t.getTime();return n>i?1:i>n?-1:0})):"linear"===this.scaleType?(i=[t,n],this.xSet=[...e].sort((e,t)=>e-t)):(i=e,this.xSet=e),i}getYDomain(){const e=[];for(const n of this.results)for(const t of n.series)e.includes(t.value)||e.push(t.value);const t=[...e];this.autoScale||t.push(0),"auto"!==this.baseValue&&t.push(this.baseValue);return[this.yScaleMin?this.yScaleMin:Math.min(...t),this.yScaleMax?this.yScaleMax:Math.max(...t)]}getSeriesDomain(){return this.results.map(e=>e.name)}getXScale(e,t){let n;return"time"===this.scaleType?n=(0,p.scaleTime)():"linear"===this.scaleType?n=(0,p.scaleLinear)():"ordinal"===this.scaleType&&(n=(0,p.scalePoint)().padding(.1)),n.range([0,t]).domain(e),this.roundDomains?n.nice():n}getYScale(e,t){const n=(0,p.scaleLinear)().range([t,0]).domain(e);return this.roundDomains?n.nice():n}getScaleType(e){let t=!0,n=!0;for(const i of e)this.isDate(i)||(t=!1),"number"!=typeof i&&(n=!1);return t?"time":n?"linear":"ordinal"}isDate(e){return e instanceof Date}updateDomain(e){this.filteredDomain=e,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(e){this.hoveredVertical=e.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(e,t){t&&(e.series=t.name),this.select.emit(e)}trackBy(e,t){return t.name}setColors(){let e;e="ordinal"===this.schemeType?this.seriesDomain:this.yDomain,this.colors=new vi(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.seriesDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.yDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onActivate(e){this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){const t=this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value);this.activeEntries.splice(t,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const e of this.activeEntries)this.deactivate.emit({value:e,entries:[]});this.activeEntries=[]}}xi.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](xi)))(t||xi)}}(),xi.\u0275cmp=i["\u0275\u0275defineComponent"]({type:xi,selectors:[["ngx-charts-area-chart"]],contentQueries:function(e,t,n){if(1&e&&(i["\u0275\u0275contentQuery"](n,ue,5),i["\u0275\u0275contentQuery"](n,pe,5)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.seriesTooltipTemplate=e.first)}},hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("mouseleave",function(){return t.hideCircles()})},inputs:{legendTitle:"legendTitle",legendPosition:"legendPosition",baseValue:"baseValue",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",legend:"legend",state:"state",xAxis:"xAxis",yAxis:"yAxis",autoScale:"autoScale",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",timeline:"timeline",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:11,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"area-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-area-series","",3,"xScale","yScale","baseValue","colors","data","activeEntries","scaleType","gradient","curve","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate","hover"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"xScale","yScale","colors","activeEntries","data","scaleType","visibleValue","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange"],["ngx-charts-area-series","",3,"xScale","yScale","baseValue","colors","data","scaleType","gradient","curve","animations"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelClick",function(e){return t.onClick(e)})("legendLabelActivate",function(e){return t.onActivate(e)})("legendLabelDeactivate",function(e){return t.onDeactivate(e)}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"defs"),i["\u0275\u0275elementStart"](2,"clipPath"),i["\u0275\u0275element"](3,"rect"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"g",1),i["\u0275\u0275template"](5,he,1,10,"g",2),i["\u0275\u0275template"](6,me,1,9,"g",3),i["\u0275\u0275elementStart"](7,"g"),i["\u0275\u0275template"](8,fe,2,10,"g",4),i["\u0275\u0275template"](9,ve,3,9,"g",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,xe,2,13,"g",6),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](17,be,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),i["\u0275\u0275advance"](2),i["\u0275\u0275attribute"]("id",t.clipPathId),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("width",t.dims.width+10)("height",t.dims.height+10)("transform","translate(-5, -5)"),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.xAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.yAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("clip-path",t.clipPath),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.results)("ngForTrackBy",t.trackBy),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.tooltipDisabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.timeline&&"ordinal"!=t.scaleType))},directives:function(){return[En,o.NgIf,o.NgForOf,Fn,jn,Ai,li,qn,ci]},styles:[De],encapsulation:2,changeDetection:0}),xi.propDecorators={legend:[{type:i.Input}],legendTitle:[{type:i.Input}],legendPosition:[{type:i.Input}],state:[{type:i.Input}],xAxis:[{type:i.Input}],yAxis:[{type:i.Input}],baseValue:[{type:i.Input}],autoScale:[{type:i.Input}],showXAxisLabel:[{type:i.Input}],showYAxisLabel:[{type:i.Input}],xAxisLabel:[{type:i.Input}],yAxisLabel:[{type:i.Input}],timeline:[{type:i.Input}],gradient:[{type:i.Input}],showGridLines:[{type:i.Input}],curve:[{type:i.Input}],activeEntries:[{type:i.Input}],schemeType:[{type:i.Input}],trimXAxisTicks:[{type:i.Input}],trimYAxisTicks:[{type:i.Input}],rotateXAxisTicks:[{type:i.Input}],maxXAxisTickLength:[{type:i.Input}],maxYAxisTickLength:[{type:i.Input}],xAxisTickFormatting:[{type:i.Input}],yAxisTickFormatting:[{type:i.Input}],xAxisTicks:[{type:i.Input}],yAxisTicks:[{type:i.Input}],roundDomains:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],xScaleMin:[{type:i.Input}],xScaleMax:[{type:i.Input}],yScaleMin:[{type:i.Input}],yScaleMax:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}],seriesTooltipTemplate:[{type:i.ContentChild,args:["seriesTooltipTemplate"]}],hideCircles:[{type:i.HostListener,args:["mouseleave"]}]};class wi extends Tn{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.showGridLines=!0,this.curve=m.curveLinear,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10}update(){super.update(),this.dims=fi({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height);for(let e=0;e<this.xSet.length;e++){const t=this.xSet[e];let n=0,i=0;for(const e of this.results){const n=e.series.find(e=>{let n=e.name,i=t;return"time"===this.scaleType&&(n=n.valueOf(),i=i.valueOf()),n===i});n&&(i+=n.value)}for(const e of this.results){let o=e.series.find(e=>{let n=e.name,i=t;return"time"===this.scaleType&&(n=n.valueOf(),i=i.valueOf()),n===i});o?(o.d0=n,o.d1=n+o.value,n+=o.value):(o={name:t,value:0,d0:n,d1:n},e.series.push(o)),i>0?(o.d0=100*o.d0/i,o.d1=100*o.d1/i):(o.d0=0,o.d1=0)}}this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+Wn().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let e=yi(this.results);this.scaleType=bi(e);let t=[];if("time"===this.scaleType){const n=Math.min(...e),i=Math.max(...e);t=[new Date(n),new Date(i)],this.xSet=[...e].sort((e,t)=>{const n=e.getTime(),i=t.getTime();return n>i?1:i>n?-1:0})}else if("linear"===this.scaleType){e=e.map(e=>Number(e));t=[Math.min(...e),Math.max(...e)],this.xSet=[...e].sort((e,t)=>e-t)}else t=e,this.xSet=e;return t}getYDomain(){return[0,100]}getSeriesDomain(){return this.results.map(e=>e.name)}getXScale(e,t){let n;return"time"===this.scaleType?n=(0,p.scaleTime)():"linear"===this.scaleType?n=(0,p.scaleLinear)():"ordinal"===this.scaleType&&(n=(0,p.scalePoint)().padding(.1)),n.range([0,t]).domain(e),this.roundDomains?n.nice():n}getYScale(e,t){const n=(0,p.scaleLinear)().range([t,0]).domain(e);return this.roundDomains?n.nice():n}updateDomain(e){this.filteredDomain=e,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(e){this.hoveredVertical=e.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(e,t){t&&(e.series=t.name),this.select.emit(e)}trackBy(e,t){return t.name}setColors(){let e;e="ordinal"===this.schemeType?this.seriesDomain:this.yDomain,this.colors=new vi(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.seriesDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.yDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onActivate(e){this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){const t=this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value);this.activeEntries.splice(t,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const e of this.activeEntries)this.deactivate.emit({value:e,entries:[]});this.activeEntries=[]}}wi.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](wi)))(t||wi)}}(),wi.\u0275cmp=i["\u0275\u0275defineComponent"]({type:wi,selectors:[["ngx-charts-area-chart-normalized"]],contentQueries:function(e,t,n){if(1&e&&(i["\u0275\u0275contentQuery"](n,ue,5),i["\u0275\u0275contentQuery"](n,pe,5)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.seriesTooltipTemplate=e.first)}},hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("mouseleave",function(){return t.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",timeline:"timeline",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:11,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"area-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-area-series","","normalized","true",3,"xScale","yScale","colors","data","scaleType","activeEntries","gradient","curve","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","showPercentage","tooltipDisabled","tooltipTemplate","hover"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","","type","stacked",3,"xScale","yScale","colors","activeEntries","data","scaleType","visibleValue","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange"],["ngx-charts-area-series","","normalized","true",3,"xScale","yScale","colors","data","scaleType","gradient","curve","animations"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelClick",function(e){return t.onClick(e)})("legendLabelActivate",function(e){return t.onActivate(e)})("legendLabelDeactivate",function(e){return t.onDeactivate(e)}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"defs"),i["\u0275\u0275elementStart"](2,"clipPath"),i["\u0275\u0275element"](3,"rect"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"g",1),i["\u0275\u0275template"](5,we,1,10,"g",2),i["\u0275\u0275template"](6,Ce,1,9,"g",3),i["\u0275\u0275elementStart"](7,"g"),i["\u0275\u0275template"](8,_e,2,9,"g",4),i["\u0275\u0275template"](9,Ie,3,10,"g",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,Ee,2,13,"g",6),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](17,be,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),i["\u0275\u0275advance"](2),i["\u0275\u0275attribute"]("id",t.clipPathId),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("width",t.dims.width+10)("height",t.dims.height+10)("transform","translate(-5, -5)"),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.xAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.yAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("clip-path",t.clipPath),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.results)("ngForTrackBy",t.trackBy),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.tooltipDisabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.timeline&&"ordinal"!=t.scaleType))},directives:function(){return[En,o.NgIf,o.NgForOf,Fn,jn,Ai,li,qn,ci]},styles:[De],encapsulation:2,changeDetection:0}),wi.propDecorators={legend:[{type:i.Input}],legendTitle:[{type:i.Input}],legendPosition:[{type:i.Input}],xAxis:[{type:i.Input}],yAxis:[{type:i.Input}],showXAxisLabel:[{type:i.Input}],showYAxisLabel:[{type:i.Input}],xAxisLabel:[{type:i.Input}],yAxisLabel:[{type:i.Input}],timeline:[{type:i.Input}],gradient:[{type:i.Input}],showGridLines:[{type:i.Input}],curve:[{type:i.Input}],activeEntries:[{type:i.Input}],schemeType:[{type:i.Input}],trimXAxisTicks:[{type:i.Input}],trimYAxisTicks:[{type:i.Input}],rotateXAxisTicks:[{type:i.Input}],maxXAxisTickLength:[{type:i.Input}],maxYAxisTickLength:[{type:i.Input}],xAxisTickFormatting:[{type:i.Input}],yAxisTickFormatting:[{type:i.Input}],xAxisTicks:[{type:i.Input}],yAxisTicks:[{type:i.Input}],roundDomains:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}],seriesTooltipTemplate:[{type:i.ContentChild,args:["seriesTooltipTemplate"]}],hideCircles:[{type:i.HostListener,args:["mouseleave"]}]};class Ci extends Tn{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.showGridLines=!0,this.curve=m.curveLinear,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10}update(){super.update(),this.dims=fi({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height);for(let e=0;e<this.xSet.length;e++){const t=this.xSet[e];let n=0;for(const e of this.results){let i=e.series.find(e=>{let n=e.name,i=t;return"time"===this.scaleType&&(n=n.valueOf(),i=i.valueOf()),n===i});i?(i.d0=n,i.d1=n+i.value,n+=i.value):(i={name:t,value:0,d0:n,d1:n},e.series.push(i))}}this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+Wn().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let e=yi(this.results);this.scaleType=bi(e);let t,n,i=[];return"linear"===this.scaleType&&(e=e.map(e=>Number(e))),"time"!==this.scaleType&&"linear"!==this.scaleType||(t=this.xScaleMin?this.xScaleMin:Math.min(...e),n=this.xScaleMax?this.xScaleMax:Math.max(...e)),"time"===this.scaleType?(i=[new Date(t),new Date(n)],this.xSet=[...e].sort((e,t)=>{const n=e.getTime(),i=t.getTime();return n>i?1:i>n?-1:0})):"linear"===this.scaleType?(i=[t,n],this.xSet=[...e].sort((e,t)=>e-t)):(i=e,this.xSet=e),i}getYDomain(){const e=[];for(let t=0;t<this.xSet.length;t++){const n=this.xSet[t];let i=0;for(const e of this.results){const t=e.series.find(e=>{let t=e.name,i=n;return"time"===this.scaleType&&(t=t.valueOf(),i=i.valueOf()),t===i});t&&(i+=t.value)}e.push(i)}return[this.yScaleMin?this.yScaleMin:Math.min(0,...e),this.yScaleMax?this.yScaleMax:Math.max(...e)]}getSeriesDomain(){return this.results.map(e=>e.name)}getXScale(e,t){let n;return"time"===this.scaleType?n=(0,p.scaleTime)():"linear"===this.scaleType?n=(0,p.scaleLinear)():"ordinal"===this.scaleType&&(n=(0,p.scalePoint)().padding(.1)),n.range([0,t]).domain(e),this.roundDomains?n.nice():n}getYScale(e,t){const n=(0,p.scaleLinear)().range([t,0]).domain(e);return this.roundDomains?n.nice():n}updateDomain(e){this.filteredDomain=e,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(e){this.hoveredVertical=e.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(e,t){t&&(e.series=t.name),this.select.emit(e)}trackBy(e,t){return t.name}setColors(){let e;e="ordinal"===this.schemeType?this.seriesDomain:this.yDomain,this.colors=new vi(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.seriesDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.yDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onActivate(e){this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){const t=this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value);this.activeEntries.splice(t,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const e of this.activeEntries)this.deactivate.emit({value:e,entries:[]});this.activeEntries=[]}}function _i(e,t,n="asc"){return e.sort((e,i)=>"asc"===n?e[t]-i[t]:i[t]-e[t])}function Si(e,t,n="asc",i){return e.sort((e,o)=>{const r=e[t],s=o[t],a=i.indexOf(r),l=i.indexOf(s);return"asc"===n?a-l:l-a})}function Ii(e,t,n="asc"){return e.sort((e,i)=>{const o=e[t].getTime(),r=i[t].getTime();return"asc"===n?o>r?1:r>o?-1:0:o>r?-1:r>o?1:0})}Ci.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Ci)))(t||Ci)}}(),Ci.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ci,selectors:[["ngx-charts-area-chart-stacked"]],contentQueries:function(e,t,n){if(1&e&&(i["\u0275\u0275contentQuery"](n,ue,5),i["\u0275\u0275contentQuery"](n,pe,5)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.seriesTooltipTemplate=e.first)}},hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("mouseleave",function(){return t.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",timeline:"timeline",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:11,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"area-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-area-series","","stacked","true",3,"xScale","yScale","colors","data","scaleType","gradient","activeEntries","curve","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate","hover"],["ngx-charts-circle-series","","type","stacked",3,"xScale","yScale","colors","activeEntries","data","scaleType","visibleValue","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange"],["ngx-charts-area-series","","stacked","true",3,"xScale","yScale","colors","data","scaleType","gradient","curve","animations"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelClick",function(e){return t.onClick(e)})("legendLabelActivate",function(e){return t.onActivate(e)})("legendLabelDeactivate",function(e){return t.onDeactivate(e)}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"defs"),i["\u0275\u0275elementStart"](2,"clipPath"),i["\u0275\u0275element"](3,"rect"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"g",1),i["\u0275\u0275template"](5,Te,1,10,"g",2),i["\u0275\u0275template"](6,Re,1,9,"g",3),i["\u0275\u0275elementStart"](7,"g"),i["\u0275\u0275template"](8,Me,2,9,"g",4),i["\u0275\u0275template"](9,Pe,3,10,"g",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,ke,2,13,"g",6),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](17,be,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),i["\u0275\u0275advance"](2),i["\u0275\u0275attribute"]("id",t.clipPathId),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("width",t.dims.width+10)("height",t.dims.height+10)("transform","translate(-5, -5)"),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.xAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.yAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("clip-path",t.clipPath),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.results)("ngForTrackBy",t.trackBy),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.tooltipDisabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.timeline&&"ordinal"!=t.scaleType))},directives:function(){return[En,o.NgIf,o.NgForOf,Fn,jn,Ai,li,qn,ci]},styles:[De],encapsulation:2,changeDetection:0}),Ci.propDecorators={legend:[{type:i.Input}],legendTitle:[{type:i.Input}],legendPosition:[{type:i.Input}],xAxis:[{type:i.Input}],yAxis:[{type:i.Input}],showXAxisLabel:[{type:i.Input}],showYAxisLabel:[{type:i.Input}],xAxisLabel:[{type:i.Input}],yAxisLabel:[{type:i.Input}],timeline:[{type:i.Input}],gradient:[{type:i.Input}],showGridLines:[{type:i.Input}],curve:[{type:i.Input}],activeEntries:[{type:i.Input}],schemeType:[{type:i.Input}],trimXAxisTicks:[{type:i.Input}],trimYAxisTicks:[{type:i.Input}],rotateXAxisTicks:[{type:i.Input}],maxXAxisTickLength:[{type:i.Input}],maxYAxisTickLength:[{type:i.Input}],xAxisTickFormatting:[{type:i.Input}],yAxisTickFormatting:[{type:i.Input}],xAxisTicks:[{type:i.Input}],yAxisTicks:[{type:i.Input}],roundDomains:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],xScaleMin:[{type:i.Input}],xScaleMax:[{type:i.Input}],yScaleMin:[{type:i.Input}],yScaleMax:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}],seriesTooltipTemplate:[{type:i.ContentChild,args:["seriesTooltipTemplate"]}],hideCircles:[{type:i.HostListener,args:["mouseleave"]}]};class Ai{constructor(){this.baseValue="auto",this.stacked=!1,this.normalized=!1,this.animations=!0,this.select=new i.EventEmitter}ngOnChanges(e){this.update()}update(){let e,t;this.updateGradient();const n=e=>{const t=e.name;return this.xScale(t)};this.stacked||this.normalized?(e=(0,m.area)().x(n).y0((e,t)=>this.yScale(e.d0)).y1((e,t)=>this.yScale(e.d1)),t=(0,m.area)().x(n).y0(e=>this.yScale.range()[0]).y1(e=>this.yScale.range()[0])):(e=(0,m.area)().x(n).y0(()=>"auto"===this.baseValue?this.yScale.range()[0]:this.yScale(this.baseValue)).y1(e=>this.yScale(e.value)),t=(0,m.area)().x(n).y0(e=>"auto"===this.baseValue?this.yScale.range()[0]:this.yScale(this.baseValue)).y1(e=>"auto"===this.baseValue?this.yScale.range()[0]:this.yScale(this.baseValue))),e.curve(this.curve),t.curve(this.curve),this.opacity=.8;let i=this.data.series;i="linear"===this.scaleType?_i(i,"name"):"time"===this.scaleType?Ii(i,"name"):Si(i,"name","asc",this.xScale.domain()),this.path=e(i),this.startingPath=t(i)}updateGradient(){if("linear"===this.colors.scaleType)if(this.hasGradient=!0,this.stacked||this.normalized){const e=this.data.series.map(e=>e.d0),t=this.data.series.map(e=>e.d1),n=Math.max(...t),i=Math.min(...e);this.gradientStops=this.colors.getLinearGradientStops(n,i)}else{const e=this.data.series.map(e=>e.value),t=Math.max(...e);this.gradientStops=this.colors.getLinearGradientStops(t)}else this.hasGradient=!1,this.gradientStops=void 0}isActive(e){if(!this.activeEntries)return!1;return void 0!==this.activeEntries.find(t=>e.name===t.name)}isInactive(e){if(!this.activeEntries||0===this.activeEntries.length)return!1;return void 0===this.activeEntries.find(t=>e.name===t.name)}}Ai.\u0275fac=function(e){return new(e||Ai)},Ai.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ai,selectors:[["g","ngx-charts-area-series",""]],inputs:{baseValue:"baseValue",stacked:"stacked",normalized:"normalized",animations:"animations",data:"data",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",gradient:"gradient",curve:"curve",activeEntries:"activeEntries"},outputs:{select:"select"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-area-series",""],decls:1,vars:12,consts:[["ngx-charts-area","",1,"area-series",3,"data","path","fill","stops","startingPath","opacity","gradient","animations"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"g",0)),2&e&&(i["\u0275\u0275classProp"]("active",t.isActive(t.data))("inactive",t.isInactive(t.data)),i["\u0275\u0275property"]("data",t.data)("path",t.path)("fill",t.colors.getColor(t.data.name))("stops",t.gradientStops)("startingPath",t.startingPath)("opacity",t.opacity)("gradient",t.gradient||t.hasGradient)("animations",t.animations))},directives:[ei],encapsulation:2,changeDetection:0}),Ai.propDecorators={data:[{type:i.Input}],xScale:[{type:i.Input}],yScale:[{type:i.Input}],baseValue:[{type:i.Input}],colors:[{type:i.Input}],scaleType:[{type:i.Input}],stacked:[{type:i.Input}],normalized:[{type:i.Input}],gradient:[{type:i.Input}],curve:[{type:i.Input}],activeEntries:[{type:i.Input}],animations:[{type:i.Input}],select:[{type:i.Output}]};class Ei{}Ei.\u0275fac=function(e){return new(e||Ei)},Ei.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ei}),Ei.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[mi]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](Ei,{declarations:[xi,wi,Ci,Ai],imports:[mi],exports:[xi,wi,Ci,Ai]});class Di{constructor(e){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.hasGradient=!1,this.hideBar=!1,this.element=e.nativeElement}ngOnChanges(e){e.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+Wn().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){const e=(0,d.select)(this.element).select(".bar"),t=this.getPath();this.animations?e.transition().duration(500).attr("d",t):e.attr("d",t)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let e,t=this.getRadius();return this.roundEdges?"vertical"===this.orientation?(t=Math.min(this.height,t),e=kn(this.x,this.y+this.height,this.width,1,0,this.edges)):"horizontal"===this.orientation&&(t=Math.min(this.width,t),e=kn(this.x,this.y,1,this.height,0,this.edges)):"vertical"===this.orientation?e=kn(this.x,this.y+this.height,this.width,1,0,this.edges):"horizontal"===this.orientation&&(e=kn(this.x,this.y,1,this.height,0,this.edges)),e}getPath(){let e,t=this.getRadius();return this.roundEdges?"vertical"===this.orientation?(t=Math.min(this.height,t),e=kn(this.x,this.y,this.width,this.height,t,this.edges)):"horizontal"===this.orientation&&(t=Math.min(this.width,t),e=kn(this.x,this.y,this.width,this.height,t,this.edges)):e=kn(this.x,this.y,this.width,this.height,t,this.edges),e}getRadius(){let e=0;return this.roundEdges&&this.height>5&&this.width>5&&(e=Math.floor(Math.min(5,this.height/2,this.width/2))),e}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let e=[!1,!1,!1,!1];return this.roundEdges&&("vertical"===this.orientation?e=this.data.value>0?[!0,!0,!1,!1]:[!1,!1,!0,!0]:"horizontal"===this.orientation&&(e=this.data.value>0?[!1,!0,!1,!0]:[!0,!1,!0,!1])),e}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&("vertical"===this.orientation&&0===this.height||"horizontal"===this.orientation&&0===this.width)}}Di.\u0275fac=function(e){return new(e||Di)(i["\u0275\u0275directiveInject"](i.ElementRef))},Di.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Di,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()})},inputs:{roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",animations:"animations",noBarWhenZero:"noBarWhenZero",fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",stops:"stops",ariaLabel:"ariaLabel"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-bar",""],decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,Ne,2,3,"defs",0),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"path",1),i["\u0275\u0275listener"]("click",function(){return t.select.emit(t.data)}),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("ngIf",t.hasGradient),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("active",t.isActive)("hidden",t.hideBar),i["\u0275\u0275attribute"]("d",t.path)("aria-label",t.ariaLabel)("fill",t.hasGradient?t.gradientFill:t.fill))},directives:[o.NgIf,Kn],encapsulation:2,changeDetection:0}),Di.ctorParameters=()=>[{type:i.ElementRef}],Di.propDecorators={fill:[{type:i.Input}],data:[{type:i.Input}],width:[{type:i.Input}],height:[{type:i.Input}],x:[{type:i.Input}],y:[{type:i.Input}],orientation:[{type:i.Input}],roundEdges:[{type:i.Input}],gradient:[{type:i.Input}],offset:[{type:i.Input}],isActive:[{type:i.Input}],stops:[{type:i.Input}],animations:[{type:i.Input}],ariaLabel:[{type:i.Input}],noBarWhenZero:[{type:i.Input}],select:[{type:i.Output}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],onMouseEnter:[{type:i.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:i.HostListener,args:["mouseleave"]}]};class Ti extends Tn{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxWidth={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxWidth={negative:0,positive:0}),this.margin=[10,20+this.dataLabelMaxWidth.positive,10,20+this.dataLabelMaxWidth.negative],this.dims=fi({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`}getXScale(){this.xDomain=this.getXDomain();const e=(0,p.scaleLinear)().range([0,this.dims.width]).domain(this.xDomain);return this.roundDomains?e.nice():e}getYScale(){this.yDomain=this.getYDomain();const e=this.yDomain.length/(this.dims.height/this.barPadding+1);return(0,p.scaleBand)().rangeRound([0,this.dims.height]).paddingInner(e).domain(this.yDomain)}getXDomain(){const e=this.results.map(e=>e.value);return[this.xScaleMin?Math.min(this.xScaleMin,...e):Math.min(0,...e),this.xScaleMax?Math.max(this.xScaleMax,...e):Math.max(0,...e)]}getYDomain(){return this.results.map(e=>e.label)}onClick(e){this.select.emit(e)}setColors(){let e;e="ordinal"===this.schemeType?this.yDomain:this.xDomain,this.colors=new vi(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.yDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.xDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onDataLabelMaxWidthChanged(e){e.size.negative?this.dataLabelMaxWidth.negative=Math.max(this.dataLabelMaxWidth.negative,e.size.width):this.dataLabelMaxWidth.positive=Math.max(this.dataLabelMaxWidth.positive,e.size.width),e.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(e,t=!1){e=this.results.find(n=>t?n.label===e.name:n.name===e.name);this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value&&t.series===e.series)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e,t=!1){e=this.results.find(n=>t?n.label===e.name:n.name===e.name);const n=this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value&&t.series===e.series);this.activeEntries.splice(n,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}}Ti.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Ti)))(t||Ti)}}(),Ti.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ti,selectors:[["ngx-charts-bar-horizontal"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,ue,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",tooltipDisabled:"tooltipDisabled",showGridLines:"showGridLines",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",xScaleMax:"xScaleMax",xScaleMin:"xScaleMin",dataLabelFormatting:"dataLabelFormatting"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:25,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","yAxisOffset","dimensionsChanged",4,"ngIf"],["ngx-charts-series-horizontal","",3,"xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","activeEntries","roundEdges","animations","showDataLabel","dataLabelFormatting","noBarWhenZero","select","activate","deactivate","dataLabelWidthChanged"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","yAxisOffset","dimensionsChanged"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelClick",function(e){return t.onClick(e)})("legendLabelActivate",function(e){return t.onActivate(e,!0)})("legendLabelDeactivate",function(e){return t.onDeactivate(e,!0)}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"g",1),i["\u0275\u0275template"](2,je,1,10,"g",2),i["\u0275\u0275template"](3,Le,1,9,"g",3),i["\u0275\u0275elementStart"](4,"g",4),i["\u0275\u0275listener"]("select",function(e){return t.onClick(e)})("activate",function(e){return t.onActivate(e)})("deactivate",function(e){return t.onDeactivate(e)})("dataLabelWidthChanged",function(e){return t.onDataLabelMaxWidthChanged(e)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](22,be,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.xAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.yAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",t.xScale)("yScale",t.yScale)("colors",t.colors)("series",t.results)("dims",t.dims)("gradient",t.gradient)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.tooltipTemplate)("activeEntries",t.activeEntries)("roundEdges",t.roundEdges)("animations",t.animations)("showDataLabel",t.showDataLabel)("dataLabelFormatting",t.dataLabelFormatting)("noBarWhenZero",t.noBarWhenZero))},directives:function(){return[En,o.NgIf,Vi,Fn,jn]},styles:[De],encapsulation:2,changeDetection:0}),Ti.propDecorators={legend:[{type:i.Input}],legendTitle:[{type:i.Input}],legendPosition:[{type:i.Input}],xAxis:[{type:i.Input}],yAxis:[{type:i.Input}],showXAxisLabel:[{type:i.Input}],showYAxisLabel:[{type:i.Input}],xAxisLabel:[{type:i.Input}],yAxisLabel:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],gradient:[{type:i.Input}],showGridLines:[{type:i.Input}],activeEntries:[{type:i.Input}],schemeType:[{type:i.Input}],trimXAxisTicks:[{type:i.Input}],trimYAxisTicks:[{type:i.Input}],rotateXAxisTicks:[{type:i.Input}],maxXAxisTickLength:[{type:i.Input}],maxYAxisTickLength:[{type:i.Input}],xAxisTickFormatting:[{type:i.Input}],yAxisTickFormatting:[{type:i.Input}],xAxisTicks:[{type:i.Input}],yAxisTicks:[{type:i.Input}],barPadding:[{type:i.Input}],roundDomains:[{type:i.Input}],roundEdges:[{type:i.Input}],xScaleMax:[{type:i.Input}],xScaleMin:[{type:i.Input}],showDataLabel:[{type:i.Input}],dataLabelFormatting:[{type:i.Input}],noBarWhenZero:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}]};class Ri extends Tn{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.groupPadding=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxWidth={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxWidth={negative:0,positive:0}),this.margin=[10,20+this.dataLabelMaxWidth.positive,10,20+this.dataLabelMaxWidth.negative],this.dims=fi({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.groupDomain=this.getGroupDomain(),this.innerDomain=this.getInnerDomain(),this.valuesDomain=this.getValueDomain(),this.groupScale=this.getGroupScale(),this.innerScale=this.getInnerScale(),this.valueScale=this.getValueScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`}getGroupScale(){const e=this.groupDomain.length/(this.dims.height/this.groupPadding+1);return(0,p.scaleBand)().rangeRound([0,this.dims.height]).paddingInner(e).paddingOuter(e/2).domain(this.groupDomain)}getInnerScale(){const e=this.groupScale.bandwidth(),t=this.innerDomain.length/(e/this.barPadding+1);return(0,p.scaleBand)().rangeRound([0,e]).paddingInner(t).domain(this.innerDomain)}getValueScale(){const e=(0,p.scaleLinear)().range([0,this.dims.width]).domain(this.valuesDomain);return this.roundDomains?e.nice():e}getGroupDomain(){const e=[];for(const t of this.results)e.includes(t.label)||e.push(t.label);return e}getInnerDomain(){const e=[];for(const t of this.results)for(const n of t.series)e.includes(n.label)||e.push(n.label);return e}getValueDomain(){const e=[];for(const t of this.results)for(const n of t.series)e.includes(n.value)||e.push(n.value);return[Math.min(0,...e),this.xScaleMax?Math.max(this.xScaleMax,...e):Math.max(0,...e)]}groupTransform(e){return`translate(0, ${this.groupScale(e.label)})`}onClick(e,t){t&&(e.series=t.name),this.select.emit(e)}trackBy(e,t){return t.name}setColors(){let e;e="ordinal"===this.schemeType?this.innerDomain:this.valuesDomain,this.colors=new vi(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.innerDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.valuesDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onDataLabelMaxWidthChanged(e,t){e.size.negative?this.dataLabelMaxWidth.negative=Math.max(this.dataLabelMaxWidth.negative,e.size.width):this.dataLabelMaxWidth.positive=Math.max(this.dataLabelMaxWidth.positive,e.size.width),t===this.results.length-1&&setTimeout(()=>this.update())}onActivate(e,t,n=!1){const i=Object.assign({},e);t&&(i.series=t.name);const o=this.results.map(e=>e.series).flat().filter(e=>n?e.label===i.name:e.name===i.name&&e.series===i.series);this.activeEntries=[...o],this.activate.emit({value:i,entries:this.activeEntries})}onDeactivate(e,t,n=!1){const i=Object.assign({},e);t&&(i.series=t.name),this.activeEntries=this.activeEntries.filter(e=>n?e.label!==i.name:!(e.name===i.name&&e.series===i.series)),this.deactivate.emit({value:i,entries:this.activeEntries})}}Ri.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Ri)))(t||Ri)}}(),Ri.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ri,selectors:[["ngx-charts-bar-horizontal-2d"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,ue,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",tooltipDisabled:"tooltipDisabled",showGridLines:"showGridLines",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",groupPadding:"groupPadding",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",xScaleMax:"xScaleMax",dataLabelFormatting:"dataLabelFormatting"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:6,vars:17,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"bar-chart","chart"],["ngx-charts-grid-panel-series","","orient","horizontal",3,"xScale","yScale","data","dims"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","yAxisOffset","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","yAxisOffset","dimensionsChanged"],["ngx-charts-series-horizontal","",3,"xScale","activeEntries","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","seriesName","roundEdges","animations","showDataLabel","dataLabelFormatting","noBarWhenZero","select","activate","deactivate","dataLabelWidthChanged"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelActivate",function(e){return t.onActivate(e,void 0,!0)})("legendLabelDeactivate",function(e){return t.onDeactivate(e,void 0,!0)})("legendLabelClick",function(e){return t.onClick(e)}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"g",1),i["\u0275\u0275element"](2,"g",2),i["\u0275\u0275template"](3,Ve,1,10,"g",3),i["\u0275\u0275template"](4,Be,1,9,"g",4),i["\u0275\u0275template"](5,Ge,2,17,"g",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](14,be,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",t.valueScale)("yScale",t.groupScale)("data",t.results)("dims",t.dims),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.xAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.yAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.results)("ngForTrackBy",t.trackBy))},directives:function(){return[En,Zn,o.NgIf,o.NgForOf,Fn,jn,Vi]},styles:[De],encapsulation:2,data:{animation:[(0,r.trigger)("animationState",[(0,r.transition)(":leave",[(0,r.style)({opacity:1,transform:"*"}),(0,r.animate)(500,(0,r.style)({opacity:0,transform:"scale(0)"}))])])]},changeDetection:0}),Ri.propDecorators={legend:[{type:i.Input}],legendTitle:[{type:i.Input}],legendPosition:[{type:i.Input}],xAxis:[{type:i.Input}],yAxis:[{type:i.Input}],showXAxisLabel:[{type:i.Input}],showYAxisLabel:[{type:i.Input}],xAxisLabel:[{type:i.Input}],yAxisLabel:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],gradient:[{type:i.Input}],showGridLines:[{type:i.Input}],activeEntries:[{type:i.Input}],schemeType:[{type:i.Input}],trimXAxisTicks:[{type:i.Input}],trimYAxisTicks:[{type:i.Input}],rotateXAxisTicks:[{type:i.Input}],maxXAxisTickLength:[{type:i.Input}],maxYAxisTickLength:[{type:i.Input}],xAxisTickFormatting:[{type:i.Input}],yAxisTickFormatting:[{type:i.Input}],xAxisTicks:[{type:i.Input}],yAxisTicks:[{type:i.Input}],groupPadding:[{type:i.Input}],barPadding:[{type:i.Input}],roundDomains:[{type:i.Input}],roundEdges:[{type:i.Input}],xScaleMax:[{type:i.Input}],showDataLabel:[{type:i.Input}],dataLabelFormatting:[{type:i.Input}],noBarWhenZero:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}]};class Mi extends Tn{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.noBarWhenZero=!0,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0}update(){super.update(),this.dims=fi({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.groupDomain=this.getGroupDomain(),this.innerDomain=this.getInnerDomain(),this.valueDomain=this.getValueDomain(),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`}getGroupDomain(){const e=[];for(const t of this.results)e.includes(t.label)||e.push(t.label);return e}getInnerDomain(){const e=[];for(const t of this.results)for(const n of t.series)e.includes(n.label)||e.push(n.label);return e}getValueDomain(){return[0,100]}getYScale(){const e=this.groupDomain.length/(this.dims.height/this.barPadding+1);return(0,p.scaleBand)().rangeRound([0,this.dims.height]).paddingInner(e).domain(this.groupDomain)}getXScale(){const e=(0,p.scaleLinear)().range([0,this.dims.width]).domain(this.valueDomain);return this.roundDomains?e.nice():e}groupTransform(e){return`translate(0, ${this.yScale(e.name)})`}onClick(e,t){t&&(e.series=t.name),this.select.emit(e)}trackBy(e,t){return t.name}setColors(){let e;e="ordinal"===this.schemeType?this.innerDomain:this.valueDomain,this.colors=new vi(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.innerDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.valueDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onActivate(e,t,n=!1){const i=Object.assign({},e);t&&(i.series=t.name);const o=this.results.map(e=>e.series).flat().filter(e=>n?e.label===i.name:e.name===i.name&&e.series===i.series);this.activeEntries=[...o],this.activate.emit({value:i,entries:this.activeEntries})}onDeactivate(e,t,n=!1){const i=Object.assign({},e);t&&(i.series=t.name),this.activeEntries=this.activeEntries.filter(e=>n?e.label!==i.name:!(e.name===i.name&&e.series===i.series)),this.deactivate.emit({value:i,entries:this.activeEntries})}}Mi.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Mi)))(t||Mi)}}(),Mi.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Mi,selectors:[["ngx-charts-bar-horizontal-normalized"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,ue,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",tooltipDisabled:"tooltipDisabled",showGridLines:"showGridLines",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",barPadding:"barPadding",roundDomains:"roundDomains",noBarWhenZero:"noBarWhenZero",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:13,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-series-horizontal","","type","normalized",3,"xScale","yScale","activeEntries","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","seriesName","animations","noBarWhenZero","select","activate","deactivate"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelActivate",function(e){return t.onActivate(e,void 0,!0)})("legendLabelDeactivate",function(e){return t.onDeactivate(e,void 0,!0)})("legendLabelClick",function(e){return t.onClick(e)}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"g",1),i["\u0275\u0275template"](2,ze,1,10,"g",2),i["\u0275\u0275template"](3,$e,1,8,"g",3),i["\u0275\u0275template"](4,Ue,2,14,"g",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](10,be,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.xAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.yAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.results)("ngForTrackBy",t.trackBy))},directives:function(){return[En,o.NgIf,o.NgForOf,Fn,jn,Vi]},styles:[De],encapsulation:2,data:{animation:[(0,r.trigger)("animationState",[(0,r.transition)(":leave",[(0,r.style)({opacity:1,transform:"*"}),(0,r.animate)(500,(0,r.style)({opacity:0,transform:"scale(0)"}))])])]},changeDetection:0}),Mi.propDecorators={legend:[{type:i.Input}],legendTitle:[{type:i.Input}],legendPosition:[{type:i.Input}],xAxis:[{type:i.Input}],yAxis:[{type:i.Input}],showXAxisLabel:[{type:i.Input}],showYAxisLabel:[{type:i.Input}],xAxisLabel:[{type:i.Input}],yAxisLabel:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],gradient:[{type:i.Input}],showGridLines:[{type:i.Input}],activeEntries:[{type:i.Input}],schemeType:[{type:i.Input}],trimXAxisTicks:[{type:i.Input}],trimYAxisTicks:[{type:i.Input}],rotateXAxisTicks:[{type:i.Input}],maxXAxisTickLength:[{type:i.Input}],maxYAxisTickLength:[{type:i.Input}],xAxisTickFormatting:[{type:i.Input}],yAxisTickFormatting:[{type:i.Input}],xAxisTicks:[{type:i.Input}],yAxisTicks:[{type:i.Input}],barPadding:[{type:i.Input}],roundDomains:[{type:i.Input}],noBarWhenZero:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}]};class Oi extends Tn{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.showDataLabel=!1,this.noBarWhenZero=!0,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxWidth={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxWidth={negative:0,positive:0}),this.margin=[10,20+this.dataLabelMaxWidth.positive,10,20+this.dataLabelMaxWidth.negative],this.dims=fi({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.groupDomain=this.getGroupDomain(),this.innerDomain=this.getInnerDomain(),this.valueDomain=this.getValueDomain(),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`}getGroupDomain(){const e=[];for(const t of this.results)e.includes(t.label)||e.push(t.label);return e}getInnerDomain(){const e=[];for(const t of this.results)for(const n of t.series)e.includes(n.label)||e.push(n.label);return e}getValueDomain(){const e=[];let t=0,n=0;for(const i of this.results){let o=0,r=0;for(const e of i.series)e.value<0?o+=e.value:r+=e.value,t=e.value<t?e.value:t,n=e.value>n?e.value:n;e.push(o),e.push(r)}e.push(t),e.push(n);return[Math.min(0,...e),this.xScaleMax?Math.max(this.xScaleMax,...e):Math.max(...e)]}getYScale(){const e=this.groupDomain.length/(this.dims.height/this.barPadding+1);return(0,p.scaleBand)().rangeRound([0,this.dims.height]).paddingInner(e).domain(this.groupDomain)}getXScale(){const e=(0,p.scaleLinear)().range([0,this.dims.width]).domain(this.valueDomain);return this.roundDomains?e.nice():e}groupTransform(e){return`translate(0, ${this.yScale(e.name)})`}onClick(e,t){t&&(e.series=t.name),this.select.emit(e)}trackBy(e,t){return t.name}setColors(){let e;e="ordinal"===this.schemeType?this.innerDomain:this.valueDomain,this.colors=new vi(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.innerDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.valueDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onDataLabelMaxWidthChanged(e,t){e.size.negative?this.dataLabelMaxWidth.negative=Math.max(this.dataLabelMaxWidth.negative,e.size.width):this.dataLabelMaxWidth.positive=Math.max(this.dataLabelMaxWidth.positive,e.size.width),t===this.results.length-1&&setTimeout(()=>this.update())}onActivate(e,t,n=!1){const i=Object.assign({},e);t&&(i.series=t.name);const o=this.results.map(e=>e.series).flat().filter(e=>n?e.label===i.name:e.name===i.name&&e.series===i.series);this.activeEntries=[...o],this.activate.emit({value:i,entries:this.activeEntries})}onDeactivate(e,t,n=!1){const i=Object.assign({},e);t&&(i.series=t.name),this.activeEntries=this.activeEntries.filter(e=>n?e.label!==i.name:!(e.name===i.name&&e.series===i.series)),this.deactivate.emit({value:i,entries:this.activeEntries})}}Oi.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Oi)))(t||Oi)}}(),Oi.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Oi,selectors:[["ngx-charts-bar-horizontal-stacked"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,ue,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",tooltipDisabled:"tooltipDisabled",showGridLines:"showGridLines",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",barPadding:"barPadding",roundDomains:"roundDomains",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",xScaleMax:"xScaleMax",dataLabelFormatting:"dataLabelFormatting"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:13,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","yAxisOffset","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","yAxisOffset","dimensionsChanged"],["ngx-charts-series-horizontal","","type","stacked",3,"xScale","yScale","colors","series","activeEntries","dims","gradient","tooltipDisabled","tooltipTemplate","seriesName","animations","showDataLabel","dataLabelFormatting","noBarWhenZero","select","activate","deactivate","dataLabelWidthChanged"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelActivate",function(e){return t.onActivate(e,void 0,!0)})("legendLabelDeactivate",function(e){return t.onDeactivate(e,void 0,!0)})("legendLabelClick",function(e){return t.onClick(e)}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"g",1),i["\u0275\u0275template"](2,He,1,10,"g",2),i["\u0275\u0275template"](3,Xe,1,9,"g",3),i["\u0275\u0275template"](4,We,2,16,"g",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](10,be,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.xAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.yAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.results)("ngForTrackBy",t.trackBy))},directives:function(){return[En,o.NgIf,o.NgForOf,Fn,jn,Vi]},styles:[De],encapsulation:2,data:{animation:[(0,r.trigger)("animationState",[(0,r.transition)(":leave",[(0,r.style)({opacity:1,transform:"*"}),(0,r.animate)(500,(0,r.style)({opacity:0,transform:"scale(0)"}))])])]},changeDetection:0}),Oi.propDecorators={legend:[{type:i.Input}],legendTitle:[{type:i.Input}],legendPosition:[{type:i.Input}],xAxis:[{type:i.Input}],yAxis:[{type:i.Input}],showXAxisLabel:[{type:i.Input}],showYAxisLabel:[{type:i.Input}],xAxisLabel:[{type:i.Input}],yAxisLabel:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],gradient:[{type:i.Input}],showGridLines:[{type:i.Input}],activeEntries:[{type:i.Input}],schemeType:[{type:i.Input}],trimXAxisTicks:[{type:i.Input}],trimYAxisTicks:[{type:i.Input}],rotateXAxisTicks:[{type:i.Input}],maxXAxisTickLength:[{type:i.Input}],maxYAxisTickLength:[{type:i.Input}],xAxisTickFormatting:[{type:i.Input}],yAxisTickFormatting:[{type:i.Input}],xAxisTicks:[{type:i.Input}],yAxisTicks:[{type:i.Input}],barPadding:[{type:i.Input}],roundDomains:[{type:i.Input}],xScaleMax:[{type:i.Input}],showDataLabel:[{type:i.Input}],dataLabelFormatting:[{type:i.Input}],noBarWhenZero:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}]};class Pi extends Tn{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=fi({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`}getXScale(){this.xDomain=this.getXDomain();const e=this.xDomain.length/(this.dims.width/this.barPadding+1);return(0,p.scaleBand)().range([0,this.dims.width]).paddingInner(e).domain(this.xDomain)}getYScale(){this.yDomain=this.getYDomain();const e=(0,p.scaleLinear)().range([this.dims.height,0]).domain(this.yDomain);return this.roundDomains?e.nice():e}getXDomain(){return this.results.map(e=>e.label)}getYDomain(){const e=this.results.map(e=>e.value);let t=this.yScaleMin?Math.min(this.yScaleMin,...e):Math.min(0,...e);this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(t=Math.min(t,...this.yAxisTicks));let n=this.yScaleMax?Math.max(this.yScaleMax,...e):Math.max(0,...e);return this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(n=Math.max(n,...this.yAxisTicks)),[t,n]}onClick(e){this.select.emit(e)}setColors(){let e;e="ordinal"===this.schemeType?this.xDomain:this.yDomain,this.colors=new vi(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.xDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.yDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onDataLabelMaxHeightChanged(e){e.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,e.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,e.size.height),e.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(e,t=!1){e=this.results.find(n=>t?n.label===e.name:n.name===e.name);this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value&&t.series===e.series)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e,t=!1){e=this.results.find(n=>t?n.label===e.name:n.name===e.name);const n=this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value&&t.series===e.series);this.activeEntries.splice(n,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}}Pi.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Pi)))(t||Pi)}}(),Pi.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Pi,selectors:[["ngx-charts-bar-vertical"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,ue,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",tooltipDisabled:"tooltipDisabled",showGridLines:"showGridLines",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",yScaleMax:"yScaleMax",yScaleMin:"yScaleMin",dataLabelFormatting:"dataLabelFormatting"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:25,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-vertical","",3,"xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","activeEntries","roundEdges","animations","noBarWhenZero","activate","deactivate","select","dataLabelHeightChanged"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelClick",function(e){return t.onClick(e)})("legendLabelActivate",function(e){return t.onActivate(e,!0)})("legendLabelDeactivate",function(e){return t.onDeactivate(e,!0)}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"g",1),i["\u0275\u0275template"](2,qe,1,10,"g",2),i["\u0275\u0275template"](3,Ye,1,9,"g",3),i["\u0275\u0275elementStart"](4,"g",4),i["\u0275\u0275listener"]("activate",function(e){return t.onActivate(e)})("deactivate",function(e){return t.onDeactivate(e)})("select",function(e){return t.onClick(e)})("dataLabelHeightChanged",function(e){return t.onDataLabelMaxHeightChanged(e)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](22,be,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.xAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.yAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",t.xScale)("yScale",t.yScale)("colors",t.colors)("series",t.results)("dims",t.dims)("gradient",t.gradient)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.tooltipTemplate)("showDataLabel",t.showDataLabel)("dataLabelFormatting",t.dataLabelFormatting)("activeEntries",t.activeEntries)("roundEdges",t.roundEdges)("animations",t.animations)("noBarWhenZero",t.noBarWhenZero))},directives:function(){return[En,o.NgIf,Li,Fn,jn]},styles:[De],encapsulation:2,changeDetection:0}),Pi.propDecorators={legend:[{type:i.Input}],legendTitle:[{type:i.Input}],legendPosition:[{type:i.Input}],xAxis:[{type:i.Input}],yAxis:[{type:i.Input}],showXAxisLabel:[{type:i.Input}],showYAxisLabel:[{type:i.Input}],xAxisLabel:[{type:i.Input}],yAxisLabel:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],gradient:[{type:i.Input}],showGridLines:[{type:i.Input}],activeEntries:[{type:i.Input}],schemeType:[{type:i.Input}],trimXAxisTicks:[{type:i.Input}],trimYAxisTicks:[{type:i.Input}],rotateXAxisTicks:[{type:i.Input}],maxXAxisTickLength:[{type:i.Input}],maxYAxisTickLength:[{type:i.Input}],xAxisTickFormatting:[{type:i.Input}],yAxisTickFormatting:[{type:i.Input}],xAxisTicks:[{type:i.Input}],yAxisTicks:[{type:i.Input}],barPadding:[{type:i.Input}],roundDomains:[{type:i.Input}],roundEdges:[{type:i.Input}],yScaleMax:[{type:i.Input}],yScaleMin:[{type:i.Input}],showDataLabel:[{type:i.Input}],dataLabelFormatting:[{type:i.Input}],noBarWhenZero:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}]};class Fi extends Tn{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.tooltipDisabled=!1,this.scaleType="ordinal",this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.groupPadding=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=fi({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.formatDates(),this.groupDomain=this.getGroupDomain(),this.innerDomain=this.getInnerDomain(),this.valuesDomain=this.getValueDomain(),this.groupScale=this.getGroupScale(),this.innerScale=this.getInnerScale(),this.valueScale=this.getValueScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`}onDataLabelMaxHeightChanged(e,t){e.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,e.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,e.size.height),t===this.results.length-1&&setTimeout(()=>this.update())}getGroupScale(){const e=this.groupDomain.length/(this.dims.height/this.groupPadding+1);return(0,p.scaleBand)().rangeRound([0,this.dims.width]).paddingInner(e).paddingOuter(e/2).domain(this.groupDomain)}getInnerScale(){const e=this.groupScale.bandwidth(),t=this.innerDomain.length/(e/this.barPadding+1);return(0,p.scaleBand)().rangeRound([0,e]).paddingInner(t).domain(this.innerDomain)}getValueScale(){const e=(0,p.scaleLinear)().range([this.dims.height,0]).domain(this.valuesDomain);return this.roundDomains?e.nice():e}getGroupDomain(){const e=[];for(const t of this.results)e.includes(t.label)||e.push(t.label);return e}getInnerDomain(){const e=[];for(const t of this.results)for(const n of t.series)e.includes(n.label)||e.push(n.label);return e}getValueDomain(){const e=[];for(const t of this.results)for(const n of t.series)e.includes(n.value)||e.push(n.value);return[Math.min(0,...e),this.yScaleMax?Math.max(this.yScaleMax,...e):Math.max(0,...e)]}groupTransform(e){return`translate(${this.groupScale(e.label)}, 0)`}onClick(e,t){t&&(e.series=t.name),this.select.emit(e)}trackBy(e,t){return t.name}setColors(){let e;e="ordinal"===this.schemeType?this.innerDomain:this.valuesDomain,this.colors=new vi(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.innerDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.valuesDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onActivate(e,t,n=!1){const i=Object.assign({},e);t&&(i.series=t.name);const o=this.results.map(e=>e.series).flat().filter(e=>n?e.label===i.name:e.name===i.name&&e.series===i.series);this.activeEntries=[...o],this.activate.emit({value:i,entries:this.activeEntries})}onDeactivate(e,t,n=!1){const i=Object.assign({},e);t&&(i.series=t.name),this.activeEntries=this.activeEntries.filter(e=>n?e.label!==i.name:!(e.name===i.name&&e.series===i.series)),this.deactivate.emit({value:i,entries:this.activeEntries})}}Fi.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Fi)))(t||Fi)}}(),Fi.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Fi,selectors:[["ngx-charts-bar-vertical-2d"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,ue,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",tooltipDisabled:"tooltipDisabled",scaleType:"scaleType",showGridLines:"showGridLines",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",groupPadding:"groupPadding",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",yScaleMax:"yScaleMax",dataLabelFormatting:"dataLabelFormatting"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:6,vars:17,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"bar-chart","chart"],["ngx-charts-grid-panel-series","","orient","vertical",3,"xScale","yScale","data","dims"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-vertical","",3,"activeEntries","xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","seriesName","roundEdges","animations","noBarWhenZero","select","activate","deactivate","dataLabelHeightChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-series-vertical","",3,"activeEntries","xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","seriesName","roundEdges","animations","noBarWhenZero","select","activate","deactivate","dataLabelHeightChanged"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelActivate",function(e){return t.onActivate(e,void 0,!0)})("legendLabelDeactivate",function(e){return t.onDeactivate(e,void 0,!0)})("legendLabelClick",function(e){return t.onClick(e)}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"g",1),i["\u0275\u0275element"](2,"g",2),i["\u0275\u0275template"](3,Qe,1,10,"g",3),i["\u0275\u0275template"](4,Ze,1,9,"g",4),i["\u0275\u0275template"](5,Ke,1,17,"g",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](14,be,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",t.groupScale)("yScale",t.valueScale)("data",t.results)("dims",t.dims),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.xAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.yAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.results)("ngForTrackBy",t.trackBy))},directives:function(){return[En,Zn,o.NgIf,o.NgForOf,Fn,jn,Li]},styles:[De],encapsulation:2,data:{animation:[(0,r.trigger)("animationState",[(0,r.transition)(":leave",[(0,r.style)({opacity:1,transform:"*"}),(0,r.animate)(500,(0,r.style)({opacity:0,transform:"scale(0)"}))])])]},changeDetection:0}),Fi.propDecorators={legend:[{type:i.Input}],legendTitle:[{type:i.Input}],legendPosition:[{type:i.Input}],xAxis:[{type:i.Input}],yAxis:[{type:i.Input}],showXAxisLabel:[{type:i.Input}],showYAxisLabel:[{type:i.Input}],xAxisLabel:[{type:i.Input}],yAxisLabel:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],scaleType:[{type:i.Input}],gradient:[{type:i.Input}],showGridLines:[{type:i.Input}],activeEntries:[{type:i.Input}],schemeType:[{type:i.Input}],trimXAxisTicks:[{type:i.Input}],trimYAxisTicks:[{type:i.Input}],rotateXAxisTicks:[{type:i.Input}],maxXAxisTickLength:[{type:i.Input}],maxYAxisTickLength:[{type:i.Input}],xAxisTickFormatting:[{type:i.Input}],yAxisTickFormatting:[{type:i.Input}],xAxisTicks:[{type:i.Input}],yAxisTicks:[{type:i.Input}],groupPadding:[{type:i.Input}],barPadding:[{type:i.Input}],roundDomains:[{type:i.Input}],roundEdges:[{type:i.Input}],yScaleMax:[{type:i.Input}],showDataLabel:[{type:i.Input}],dataLabelFormatting:[{type:i.Input}],noBarWhenZero:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}]};class ki extends Tn{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.noBarWhenZero=!0,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0}update(){super.update(),this.dims=fi({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.groupDomain=this.getGroupDomain(),this.innerDomain=this.getInnerDomain(),this.valueDomain=this.getValueDomain(),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`}getGroupDomain(){const e=[];for(const t of this.results)e.includes(t.label)||e.push(t.label);return e}getInnerDomain(){const e=[];for(const t of this.results)for(const n of t.series)e.includes(n.label)||e.push(n.label);return e}getValueDomain(){return[0,100]}getXScale(){const e=this.groupDomain.length/(this.dims.width/this.barPadding+1);return(0,p.scaleBand)().rangeRound([0,this.dims.width]).paddingInner(e).domain(this.groupDomain)}getYScale(){const e=(0,p.scaleLinear)().range([this.dims.height,0]).domain(this.valueDomain);return this.roundDomains?e.nice():e}groupTransform(e){return`translate(${this.xScale(e.name)}, 0)`}onClick(e,t){t&&(e.series=t.name),this.select.emit(e)}trackBy(e,t){return t.name}setColors(){let e;e="ordinal"===this.schemeType?this.innerDomain:this.valueDomain,this.colors=new vi(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.innerDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.valueDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onActivate(e,t,n=!1){const i=Object.assign({},e);t&&(i.series=t.name);const o=this.results.map(e=>e.series).flat().filter(e=>n?e.label===i.name:e.name===i.name&&e.series===i.series);this.activeEntries=[...o],this.activate.emit({value:i,entries:this.activeEntries})}onDeactivate(e,t,n=!1){const i=Object.assign({},e);t&&(i.series=t.name),this.activeEntries=this.activeEntries.filter(e=>n?e.label!==i.name:!(e.name===i.name&&e.series===i.series)),this.deactivate.emit({value:i,entries:this.activeEntries})}}ki.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](ki)))(t||ki)}}(),ki.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ki,selectors:[["ngx-charts-bar-vertical-normalized"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,ue,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",tooltipDisabled:"tooltipDisabled",showGridLines:"showGridLines",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",barPadding:"barPadding",roundDomains:"roundDomains",noBarWhenZero:"noBarWhenZero",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:13,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-series-vertical","","type","normalized",3,"xScale","yScale","activeEntries","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","seriesName","animations","noBarWhenZero","select","activate","deactivate"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelActivate",function(e){return t.onActivate(e,void 0,!0)})("legendLabelDeactivate",function(e){return t.onDeactivate(e,void 0,!0)})("legendLabelClick",function(e){return t.onClick(e)}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"g",1),i["\u0275\u0275template"](2,Je,1,9,"g",2),i["\u0275\u0275template"](3,et,1,9,"g",3),i["\u0275\u0275template"](4,tt,2,14,"g",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](10,be,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.xAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.yAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.results)("ngForTrackBy",t.trackBy))},directives:function(){return[En,o.NgIf,o.NgForOf,Fn,jn,Li]},styles:[De],encapsulation:2,data:{animation:[(0,r.trigger)("animationState",[(0,r.transition)(":leave",[(0,r.style)({opacity:1,transform:"*"}),(0,r.animate)(500,(0,r.style)({opacity:0,transform:"scale(0)"}))])])]},changeDetection:0}),ki.propDecorators={legend:[{type:i.Input}],legendTitle:[{type:i.Input}],legendPosition:[{type:i.Input}],xAxis:[{type:i.Input}],yAxis:[{type:i.Input}],showXAxisLabel:[{type:i.Input}],showYAxisLabel:[{type:i.Input}],xAxisLabel:[{type:i.Input}],yAxisLabel:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],gradient:[{type:i.Input}],showGridLines:[{type:i.Input}],activeEntries:[{type:i.Input}],schemeType:[{type:i.Input}],trimXAxisTicks:[{type:i.Input}],trimYAxisTicks:[{type:i.Input}],rotateXAxisTicks:[{type:i.Input}],maxXAxisTickLength:[{type:i.Input}],maxYAxisTickLength:[{type:i.Input}],xAxisTickFormatting:[{type:i.Input}],yAxisTickFormatting:[{type:i.Input}],xAxisTicks:[{type:i.Input}],yAxisTicks:[{type:i.Input}],barPadding:[{type:i.Input}],roundDomains:[{type:i.Input}],noBarWhenZero:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}]};class Ni extends Tn{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.showDataLabel=!1,this.noBarWhenZero=!0,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=fi({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.formatDates(),this.groupDomain=this.getGroupDomain(),this.innerDomain=this.getInnerDomain(),this.valueDomain=this.getValueDomain(),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`}getGroupDomain(){const e=[];for(const t of this.results)e.includes(t.label)||e.push(t.label);return e}getInnerDomain(){const e=[];for(const t of this.results)for(const n of t.series)e.includes(n.label)||e.push(n.label);return e}getValueDomain(){const e=[];let t=0,n=0;for(const i of this.results){let o=0,r=0;for(const e of i.series)e.value<0?o+=e.value:r+=e.value,t=e.value<t?e.value:t,n=e.value>n?e.value:n;e.push(o),e.push(r)}e.push(t),e.push(n);return[Math.min(0,...e),this.yScaleMax?Math.max(this.yScaleMax,...e):Math.max(...e)]}getXScale(){const e=this.groupDomain.length/(this.dims.width/this.barPadding+1);return(0,p.scaleBand)().rangeRound([0,this.dims.width]).paddingInner(e).domain(this.groupDomain)}getYScale(){const e=(0,p.scaleLinear)().range([this.dims.height,0]).domain(this.valueDomain);return this.roundDomains?e.nice():e}onDataLabelMaxHeightChanged(e,t){e.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,e.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,e.size.height),t===this.results.length-1&&setTimeout(()=>this.update())}groupTransform(e){return`translate(${this.xScale(e.name)||0}, 0)`}onClick(e,t){t&&(e.series=t.name),this.select.emit(e)}trackBy(e,t){return t.name}setColors(){let e;e="ordinal"===this.schemeType?this.innerDomain:this.valueDomain,this.colors=new vi(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.innerDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.valueDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onActivate(e,t,n=!1){const i=Object.assign({},e);t&&(i.series=t.name);const o=this.results.map(e=>e.series).flat().filter(e=>n?e.label===i.name:e.name===i.name&&e.series===i.series);this.activeEntries=[...o],this.activate.emit({value:i,entries:this.activeEntries})}onDeactivate(e,t,n=!1){const i=Object.assign({},e);t&&(i.series=t.name),this.activeEntries=this.activeEntries.filter(e=>n?e.label!==i.name:!(e.name===i.name&&e.series===i.series)),this.deactivate.emit({value:i,entries:this.activeEntries})}}var ji;Ni.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Ni)))(t||Ni)}}(),Ni.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ni,selectors:[["ngx-charts-bar-vertical-stacked"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,ue,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",tooltipDisabled:"tooltipDisabled",showGridLines:"showGridLines",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",barPadding:"barPadding",roundDomains:"roundDomains",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",yScaleMax:"yScaleMax",dataLabelFormatting:"dataLabelFormatting"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:13,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-series-vertical","","type","stacked",3,"xScale","yScale","activeEntries","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","seriesName","animations","noBarWhenZero","select","activate","deactivate","dataLabelHeightChanged"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelActivate",function(e){return t.onActivate(e,void 0,!0)})("legendLabelDeactivate",function(e){return t.onDeactivate(e,void 0,!0)})("legendLabelClick",function(e){return t.onClick(e)}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"g",1),i["\u0275\u0275template"](2,nt,1,10,"g",2),i["\u0275\u0275template"](3,it,1,9,"g",3),i["\u0275\u0275template"](4,ot,2,16,"g",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](10,be,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.xAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.yAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.results)("ngForTrackBy",t.trackBy))},directives:function(){return[En,o.NgIf,o.NgForOf,Fn,jn,Li]},styles:[De],encapsulation:2,data:{animation:[(0,r.trigger)("animationState",[(0,r.transition)(":leave",[(0,r.style)({opacity:1,transform:"*"}),(0,r.animate)(500,(0,r.style)({opacity:0,transform:"scale(0)"}))])])]},changeDetection:0}),Ni.propDecorators={legend:[{type:i.Input}],legendTitle:[{type:i.Input}],legendPosition:[{type:i.Input}],xAxis:[{type:i.Input}],yAxis:[{type:i.Input}],showXAxisLabel:[{type:i.Input}],showYAxisLabel:[{type:i.Input}],xAxisLabel:[{type:i.Input}],yAxisLabel:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],gradient:[{type:i.Input}],showGridLines:[{type:i.Input}],activeEntries:[{type:i.Input}],schemeType:[{type:i.Input}],trimXAxisTicks:[{type:i.Input}],trimYAxisTicks:[{type:i.Input}],rotateXAxisTicks:[{type:i.Input}],maxXAxisTickLength:[{type:i.Input}],maxYAxisTickLength:[{type:i.Input}],xAxisTickFormatting:[{type:i.Input}],yAxisTickFormatting:[{type:i.Input}],xAxisTicks:[{type:i.Input}],yAxisTicks:[{type:i.Input}],barPadding:[{type:i.Input}],roundDomains:[{type:i.Input}],yScaleMax:[{type:i.Input}],showDataLabel:[{type:i.Input}],dataLabelFormatting:[{type:i.Input}],noBarWhenZero:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}]},function(e){e.positive="positive",e.negative="negative"}(ji||(ji={}));class Li{constructor(){this.type="standard",this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.dataLabelHeightChanged=new i.EventEmitter,this.barsForDataLabels=[]}ngOnChanges(e){this.update()}update(){let e;this.updateTooltipSettings(),this.series.length&&(e=this.xScale.bandwidth()),e=Math.round(e);const t=Math.max(this.yScale.domain()[0],0),n={[ji.positive]:0,[ji.negative]:0};let i,o=ji.positive;"normalized"===this.type&&(i=this.series.map(e=>e.value).reduce((e,t)=>e+t,0)),this.bars=this.series.map((r,s)=>{let a=r.value;const l=this.getLabel(r),c=Un(l),d=this.roundEdges;o=a>0?ji.positive:ji.negative;const u={value:a,label:l,roundEdges:d,data:r,width:e,formattedLabel:c,height:0,x:0,y:0};if("standard"===this.type)u.height=Math.abs(this.yScale(a)-this.yScale(t)),u.x=this.xScale(l),u.y=a<0?this.yScale(0):this.yScale(a);else if("stacked"===this.type){const e=n[o],t=e+a;n[o]+=a,u.height=this.yScale(e)-this.yScale(t),u.x=0,u.y=this.yScale(t),u.offset0=e,u.offset1=t}else if("normalized"===this.type){let e=n[o],t=e+a;n[o]+=a,i>0?(e=100*e/i,t=100*t/i):(e=0,t=0),u.height=this.yScale(e)-this.yScale(t),u.x=0,u.y=this.yScale(t),u.offset0=e,u.offset1=t,a=(t-e).toFixed(2)+"%"}"ordinal"===this.colors.scaleType?u.color=this.colors.getColor(l):"standard"===this.type?(u.color=this.colors.getColor(a),u.gradientStops=this.colors.getLinearGradientStops(a)):(u.color=this.colors.getColor(u.offset1),u.gradientStops=this.colors.getLinearGradientStops(u.offset1,u.offset0));let p=c;return u.ariaLabel=c+" "+a.toLocaleString(),this.seriesName&&(p=`${this.seriesName} \u2022 ${c}`,u.data.series=this.seriesName,u.ariaLabel=this.seriesName+" "+u.ariaLabel),u.tooltipText=this.tooltipDisabled?void 0:`\n        <span class="tooltip-label">${Hn(p)}</span>\n        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(a):a.toLocaleString()}</span>\n      `,u}),this.updateDataLabels()}updateDataLabels(){if("stacked"===this.type){this.barsForDataLabels=[];const e={};e.series=this.seriesName;const t=this.series.map(e=>e.value).reduce((e,t)=>t>0?e+t:e,0),n=this.series.map(e=>e.value).reduce((e,t)=>t<0?e+t:e,0);e.total=t+n,e.x=0,e.y=0,e.total>0?e.height=this.yScale(t):e.height=this.yScale(n),e.width=this.xScale.bandwidth(),this.barsForDataLabels.push(e)}else this.barsForDataLabels=this.series.map(e=>{const t={};return t.series=this.seriesName?this.seriesName:e.label,t.total=e.value,t.x=this.xScale(e.label),t.y=this.yScale(0),t.height=this.yScale(t.total)-this.yScale(0),t.width=this.xScale.bandwidth(),t})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:"top",this.tooltipType=this.tooltipDisabled?void 0:"tooltip"}isActive(e){if(!this.activeEntries)return!1;return void 0!==this.activeEntries.find(t=>e.name===t.name&&e.series===t.series)}onClick(e){this.select.emit(e)}getLabel(e){return e.label?e.label:e.name}trackBy(e,t){return t.label}trackDataLabelBy(e,t){return e+"#"+t.series+"#"+t.total}}Li.\u0275fac=function(e){return new(e||Li)},Li.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Li,selectors:[["g","ngx-charts-series-vertical",""]],inputs:{type:"type",tooltipDisabled:"tooltipDisabled",animations:"animations",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",dims:"dims",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",dataLabelFormatting:"dataLabelFormatting"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-series-vertical",""],decls:2,vars:3,consts:[["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,rt,1,22,"g",0),i["\u0275\u0275template"](1,at,2,2,"g",1)),2&e&&(i["\u0275\u0275property"]("ngForOf",t.bars)("ngForTrackBy",t.trackBy),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showDataLabel))},directives:function(){return[o.NgForOf,o.NgIf,Di,zn,Bi]},encapsulation:2,data:{animation:[(0,r.trigger)("animationState",[(0,r.transition)(":leave",[(0,r.style)({opacity:1}),(0,r.animate)(500,(0,r.style)({opacity:0}))])])]},changeDetection:0}),Li.propDecorators={dims:[{type:i.Input}],type:[{type:i.Input}],series:[{type:i.Input}],xScale:[{type:i.Input}],yScale:[{type:i.Input}],colors:[{type:i.Input}],gradient:[{type:i.Input}],activeEntries:[{type:i.Input}],seriesName:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],tooltipTemplate:[{type:i.Input}],roundEdges:[{type:i.Input}],animations:[{type:i.Input}],showDataLabel:[{type:i.Input}],dataLabelFormatting:[{type:i.Input}],noBarWhenZero:[{type:i.Input}],select:[{type:i.Output}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],dataLabelHeightChanged:[{type:i.Output}]};class Vi{constructor(){this.barsForDataLabels=[],this.type="standard",this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.dataLabelWidthChanged=new i.EventEmitter}ngOnChanges(e){this.update()}update(){this.updateTooltipSettings();const e={[ji.positive]:0,[ji.negative]:0};let t,n;t=ji.positive,"normalized"===this.type&&(n=this.series.map(e=>e.value).reduce((e,t)=>e+t,0));const i=Math.max(this.xScale.domain()[0],0);this.bars=this.series.map((o,r)=>{let s=o.value;const a=this.getLabel(o),l=Un(a),c=this.roundEdges;t=s>0?ji.positive:ji.negative;const d={value:s,label:a,roundEdges:c,data:o,formattedLabel:l};if(d.height=this.yScale.bandwidth(),"standard"===this.type)d.width=Math.abs(this.xScale(s)-this.xScale(i)),d.x=s<0?this.xScale(s):this.xScale(i),d.y=this.yScale(a);else if("stacked"===this.type){const n=e[t],i=n+s;e[t]+=s,d.width=this.xScale(i)-this.xScale(n),d.x=this.xScale(n),d.y=0,d.offset0=n,d.offset1=i}else if("normalized"===this.type){let i=e[t],o=i+s;e[t]+=s,n>0?(i=100*i/n,o=100*o/n):(i=0,o=0),d.width=this.xScale(o)-this.xScale(i),d.x=this.xScale(i),d.y=0,d.offset0=i,d.offset1=o,s=(o-i).toFixed(2)+"%"}"ordinal"===this.colors.scaleType?d.color=this.colors.getColor(a):"standard"===this.type?(d.color=this.colors.getColor(s),d.gradientStops=this.colors.getLinearGradientStops(s)):(d.color=this.colors.getColor(d.offset1),d.gradientStops=this.colors.getLinearGradientStops(d.offset1,d.offset0));let u=l;return d.ariaLabel=l+" "+s.toLocaleString(),this.seriesName&&(u=`${this.seriesName} \u2022 ${l}`,d.data.series=this.seriesName,d.ariaLabel=this.seriesName+" "+d.ariaLabel),d.tooltipText=this.tooltipDisabled?void 0:`\n        <span class="tooltip-label">${Hn(u)}</span>\n        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(s):s.toLocaleString()}</span>\n      `,d}),this.updateDataLabels()}updateDataLabels(){if("stacked"===this.type){this.barsForDataLabels=[];const e={};e.series=this.seriesName;const t=this.series.map(e=>e.value).reduce((e,t)=>t>0?e+t:e,0),n=this.series.map(e=>e.value).reduce((e,t)=>t<0?e+t:e,0);e.total=t+n,e.x=0,e.y=0,e.total>0?e.width=this.xScale(t):e.width=this.xScale(n),e.height=this.yScale.bandwidth(),this.barsForDataLabels.push(e)}else this.barsForDataLabels=this.series.map(e=>{const t={};return t.series=this.seriesName?this.seriesName:e.label,t.total=e.value,t.x=this.xScale(0),t.y=this.yScale(e.label),t.width=this.xScale(t.total)-this.xScale(0),t.height=this.yScale.bandwidth(),t})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:"top",this.tooltipType=this.tooltipDisabled?void 0:"tooltip"}isActive(e){if(!this.activeEntries)return!1;return void 0!==this.activeEntries.find(t=>e.name===t.name&&e.series===t.series)}getLabel(e){return e.label?e.label:e.name}trackBy(e,t){return t.label}trackDataLabelBy(e,t){return e+"#"+t.series+"#"+t.total}click(e){this.select.emit(e)}}Vi.\u0275fac=function(e){return new(e||Vi)},Vi.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Vi,selectors:[["g","ngx-charts-series-horizontal",""]],inputs:{type:"type",tooltipDisabled:"tooltipDisabled",animations:"animations",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",dims:"dims",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",dataLabelFormatting:"dataLabelFormatting"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelWidthChanged:"dataLabelWidthChanged"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-series-horizontal",""],decls:2,vars:3,consts:[["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","ariaLabel","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","ariaLabel","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","select","activate","deactivate"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,lt,1,21,"g",0),i["\u0275\u0275template"](1,dt,2,2,"g",1)),2&e&&(i["\u0275\u0275property"]("ngForOf",t.bars)("ngForTrackBy",t.trackBy),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showDataLabel))},directives:function(){return[o.NgForOf,o.NgIf,Di,zn,Bi]},encapsulation:2,data:{animation:[(0,r.trigger)("animationState",[(0,r.transition)(":leave",[(0,r.style)({opacity:1}),(0,r.animate)(500,(0,r.style)({opacity:0}))])])]},changeDetection:0}),Vi.propDecorators={dims:[{type:i.Input}],type:[{type:i.Input}],series:[{type:i.Input}],xScale:[{type:i.Input}],yScale:[{type:i.Input}],colors:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],gradient:[{type:i.Input}],activeEntries:[{type:i.Input}],seriesName:[{type:i.Input}],tooltipTemplate:[{type:i.Input}],roundEdges:[{type:i.Input}],animations:[{type:i.Input}],showDataLabel:[{type:i.Input}],dataLabelFormatting:[{type:i.Input}],noBarWhenZero:[{type:i.Input}],select:[{type:i.Output}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],dataLabelWidthChanged:[{type:i.Output}]};class Bi{constructor(e){this.dimensionsChanged=new i.EventEmitter,this.horizontalPadding=2,this.verticalPadding=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}getSize(){return{height:this.element.getBoundingClientRect().height,width:this.element.getBoundingClientRect().width,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.valueFormatting?this.formatedValue=this.valueFormatting(this.value):this.formatedValue=Un(this.value),"horizontal"===this.orientation?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}}Bi.\u0275fac=function(e){return new(e||Bi)(i["\u0275\u0275directiveInject"](i.ElementRef))},Bi.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Bi,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-bar-label",""],decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"text",0),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275attribute"]("text-anchor",t.textAnchor)("transform",t.transform)("x",t.x)("y",t.y),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0}),Bi.ctorParameters=()=>[{type:i.ElementRef}],Bi.propDecorators={value:[{type:i.Input}],valueFormatting:[{type:i.Input}],barX:[{type:i.Input}],barY:[{type:i.Input}],barWidth:[{type:i.Input}],barHeight:[{type:i.Input}],orientation:[{type:i.Input}],dimensionsChanged:[{type:i.Output}]};class Gi{}function zi(e,t,n,i,o){let r=[];if("linear"===t&&(e=e.map(e=>Number(e)),n||e.push(0)),"time"===t||"linear"===t){r=[i||Math.min(...e),o||Math.max(...e)]}else r=e;return r}function $i(e,t,n,i){let o;return"time"===n?o=(0,p.scaleTime)().range(t).domain(e):"linear"===n?(o=(0,p.scaleLinear)().range(t).domain(e),i&&(o=o.nice())):"ordinal"===n&&(o=(0,p.scalePoint)().range([t[0],t[1]]).domain(e)),o}Gi.\u0275fac=function(e){return new(e||Gi)},Gi.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Gi}),Gi.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[mi]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](Gi,{declarations:[Di,Ti,Ri,Mi,Oi,Pi,Fi,ki,Ni,Bi,Vi,Li],imports:[mi],exports:[Di,Ti,Ri,Mi,Oi,Pi,Fi,ki,Ni,Bi,Vi,Li]});class Ui extends Tn{constructor(){super(...arguments),this.showGridLines=!0,this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.xAxis=!0,this.yAxis=!0,this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.maxRadius=10,this.minRadius=3,this.schemeType="ordinal",this.tooltipDisabled=!1,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.scaleType="linear",this.margin=[10,20,10,20],this.bubblePadding=[0,0,0,0],this.xAxisHeight=0,this.yAxisWidth=0,this.activeEntries=[]}update(){super.update(),this.dims=fi({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.seriesDomain=this.results.map(e=>e.name),this.rDomain=this.getRDomain(),this.xDomain=this.getXDomain(),this.yDomain=this.getYDomain(),this.transform=`translate(${this.dims.xOffset},${this.margin[0]})`;const e="ordinal"===this.schemeType?this.seriesDomain:this.rDomain;this.colors=new vi(this.scheme,this.schemeType,e,this.customColors),this.data=this.results,this.minRadius=Math.max(this.minRadius,1),this.maxRadius=Math.max(this.maxRadius,1),this.rScale=this.getRScale(this.rDomain,[this.minRadius,this.maxRadius]),this.bubblePadding=[0,0,0,0],this.setScales(),this.bubblePadding=this.getBubblePadding(),this.setScales(),this.legendOptions=this.getLegendOptions(),this.clipPathId="clip"+Wn().toString(),this.clipPath=`url(#${this.clipPathId})`}hideCircles(){this.deactivateAll()}onClick(e,t){t&&(e.series=t.name),this.select.emit(e)}getBubblePadding(){let e=0,t=0,n=this.dims.height,i=this.dims.width;for(const o of this.data)for(const r of o.series){const o=this.rScale(r.r),s="linear"===this.xScaleType?this.xScale(Number(r.x)):this.xScale(r.x),a="linear"===this.yScaleType?this.yScale(Number(r.y)):this.yScale(r.y);t=Math.max(o-s,t),e=Math.max(o-a,e),n=Math.max(a+o,n),i=Math.max(s+o,i)}return i=Math.max(i-this.dims.width,0),n=Math.max(n-this.dims.height,0),[e,i,n,t]}setScales(){let e=this.dims.width;void 0===this.xScaleMin&&void 0===this.xScaleMax&&(e-=this.bubblePadding[1]);let t=this.dims.height;void 0===this.yScaleMin&&void 0===this.yScaleMax&&(t-=this.bubblePadding[2]),this.xScale=this.getXScale(this.xDomain,e),this.yScale=this.getYScale(this.yDomain,t)}getYScale(e,t){return $i(e,[t,this.bubblePadding[0]],this.yScaleType,this.roundDomains)}getXScale(e,t){return $i(e,[this.bubblePadding[3],t],this.xScaleType,this.roundDomains)}getRScale(e,t){const n=(0,p.scaleLinear)().range(t).domain(e);return this.roundDomains?n.nice():n}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],position:this.legendPosition,title:void 0};return"ordinal"===e.scaleType?(e.domain=this.seriesDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.rDomain,e.colors=this.colors.scale),e}getXDomain(){const e=[];for(const t of this.results)for(const n of t.series)e.includes(n.x)||e.push(n.x);return this.xScaleType=bi(e),zi(e,this.xScaleType,this.autoScale,this.xScaleMin,this.xScaleMax)}getYDomain(){const e=[];for(const t of this.results)for(const n of t.series)e.includes(n.y)||e.push(n.y);return this.yScaleType=bi(e),zi(e,this.yScaleType,this.autoScale,this.yScaleMin,this.yScaleMax)}getRDomain(){let e=1/0,t=-1/0;for(const n of this.results)for(const i of n.series){const n=Number(i.r)||1;e=Math.min(e,n),t=Math.max(t,n)}return[e,t]}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onActivate(e){this.activeEntries.findIndex(t=>t.name===e.name)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){const t=this.activeEntries.findIndex(t=>t.name===e.name);this.activeEntries.splice(t,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const e of this.activeEntries)this.deactivate.emit({value:e,entries:[]});this.activeEntries=[]}trackBy(e,t){return t.name}}Ui.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Ui)))(t||Ui)}}(),Ui.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ui,selectors:[["ngx-charts-bubble-chart"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,ue,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first)}},hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("mouseleave",function(){return t.hideCircles()})},inputs:{showGridLines:"showGridLines",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",roundDomains:"roundDomains",maxRadius:"maxRadius",minRadius:"minRadius",schemeType:"schemeType",tooltipDisabled:"tooltipDisabled",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",autoScale:"autoScale",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:10,vars:20,consts:[[3,"view","showLegend","activeEntries","legendOptions","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"bubble-chart","chart"],["ngx-charts-x-axis","",3,"showGridLines","dims","xScale","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"showGridLines","yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["x","0","y","0",1,"bubble-chart-area",2,"fill","rgb(255, 0, 0)","opacity","0","cursor","auto",3,"mouseenter"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-x-axis","",3,"showGridLines","dims","xScale","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-y-axis","",3,"showGridLines","yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-bubble-series","",3,"xScale","yScale","rScale","xScaleType","yScaleType","xAxisLabel","yAxisLabel","colors","data","activeEntries","tooltipDisabled","tooltipTemplate","select","activate","deactivate"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelClick",function(e){return t.onClick(e)})("legendLabelActivate",function(e){return t.onActivate(e)})("legendLabelDeactivate",function(e){return t.onDeactivate(e)}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"defs"),i["\u0275\u0275elementStart"](2,"clipPath"),i["\u0275\u0275element"](3,"rect"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"g",1),i["\u0275\u0275template"](5,ut,1,10,"g",2),i["\u0275\u0275template"](6,pt,1,9,"g",3),i["\u0275\u0275elementStart"](7,"rect",4),i["\u0275\u0275listener"]("mouseenter",function(){return t.deactivateAll()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"g"),i["\u0275\u0275template"](9,ht,2,13,"g",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](17,be,t.width,t.height))("showLegend",t.legend)("activeEntries",t.activeEntries)("legendOptions",t.legendOptions)("animations",t.animations),i["\u0275\u0275advance"](2),i["\u0275\u0275attribute"]("id",t.clipPathId),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("width",t.dims.width+10)("height",t.dims.height+10)("transform","translate(-5, -5)"),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.xAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.yAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("width",t.dims.width)("height",t.dims.height),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("clip-path",t.clipPath),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.data)("ngForTrackBy",t.trackBy))},directives:function(){return[En,o.NgIf,o.NgForOf,Fn,jn,Hi]},styles:[De],encapsulation:2,data:{animation:[(0,r.trigger)("animationState",[(0,r.transition)(":leave",[(0,r.style)({opacity:1}),(0,r.animate)(500,(0,r.style)({opacity:0}))])])]},changeDetection:0}),Ui.propDecorators={showGridLines:[{type:i.Input}],legend:[{type:i.Input}],legendTitle:[{type:i.Input}],legendPosition:[{type:i.Input}],xAxis:[{type:i.Input}],yAxis:[{type:i.Input}],showXAxisLabel:[{type:i.Input}],showYAxisLabel:[{type:i.Input}],xAxisLabel:[{type:i.Input}],yAxisLabel:[{type:i.Input}],trimXAxisTicks:[{type:i.Input}],trimYAxisTicks:[{type:i.Input}],rotateXAxisTicks:[{type:i.Input}],maxXAxisTickLength:[{type:i.Input}],maxYAxisTickLength:[{type:i.Input}],xAxisTickFormatting:[{type:i.Input}],yAxisTickFormatting:[{type:i.Input}],xAxisTicks:[{type:i.Input}],yAxisTicks:[{type:i.Input}],roundDomains:[{type:i.Input}],maxRadius:[{type:i.Input}],minRadius:[{type:i.Input}],autoScale:[{type:i.Input}],schemeType:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],xScaleMin:[{type:i.Input}],xScaleMax:[{type:i.Input}],yScaleMin:[{type:i.Input}],yScaleMax:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}],hideCircles:[{type:i.HostListener,args:["mouseleave"]}]};class Hi{constructor(){this.tooltipDisabled=!1,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter}ngOnChanges(e){this.update()}update(){this.circles=this.getCircles()}getCircles(){const e=this.data.name;return this.data.series.map((t,n)=>{if(void 0!==t.y&&void 0!==t.x){const i=t.y,o=t.x,r=t.r,s=this.rScale(r||1),a=Un(t.name),l="linear"===this.xScaleType?this.xScale(Number(o)):this.xScale(o),c="linear"===this.yScaleType?this.yScale(Number(i)):this.yScale(i),d="linear"===this.colors.scaleType?this.colors.getColor(r):this.colors.getColor(e),u=!this.activeEntries.length||this.isActive({name:e}),p=u?1:.3;return{data:Object.assign({},t,{series:e,name:t.name,value:t.y,x:t.x,radius:t.r}),x:o,y:i,r:r,classNames:[`circle-data-${n}`],value:i,label:o,cx:l,cy:c,radius:s,tooltipLabel:a,color:d,opacity:p,seriesName:e,isActive:u,transform:`translate(${l},${c})`}}}).filter(e=>void 0!==e)}getTooltipText(e){const t=void 0!==e.r,n=e.tooltipLabel&&e.tooltipLabel.length,i=e.seriesName&&e.seriesName.length,o=t?Un(e.r):"",r=this.xAxisLabel&&""!==this.xAxisLabel?`${this.xAxisLabel}:`:"",s=this.yAxisLabel&&""!==this.yAxisLabel?`${this.yAxisLabel}:`:"",a=Un(e.x),l=Un(e.y),c=i&&n?`${e.seriesName} \u2022 ${e.tooltipLabel}`:e.seriesName+e.tooltipLabel;return`\n      ${i||n?`<span class="tooltip-label">${Hn(c)}</span>`:""}\n      <span class="tooltip-label">\n        <label>${Hn(r)}</label> ${Hn(a)}<br />\n        <label>${Hn(s)}</label> ${Hn(l)}\n      </span>\n      <span class="tooltip-val">\n        ${Hn(o)}\n      </span>\n    `}onClick(e){this.select.emit(e)}isActive(e){if(!this.activeEntries)return!1;return void 0!==this.activeEntries.find(t=>e.name===t.name)}isVisible(e){return this.activeEntries.length>0?this.isActive({name:e.seriesName}):0!==e.opacity}activateCircle(e){e.barVisible=!0,this.activate.emit({name:this.data.name})}deactivateCircle(e){e.barVisible=!1,this.deactivate.emit({name:this.data.name})}trackBy(e,t){return`${t.data.series} ${t.data.name}`}}Hi.\u0275fac=function(e){return new(e||Hi)},Hi.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Hi,selectors:[["g","ngx-charts-bubble-series",""]],inputs:{tooltipDisabled:"tooltipDisabled",data:"data",xScale:"xScale",yScale:"yScale",rScale:"rScale",xScaleType:"xScaleType",yScaleType:"yScaleType",colors:"colors",visibleValue:"visibleValue",activeEntries:"activeEntries",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-bubble-series",""],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-circle","","ngx-tooltip","",1,"circle",3,"cx","cy","r","fill","pointerEvents","data","classNames","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,mt,3,19,"g",0),2&e&&i["\u0275\u0275property"]("ngForOf",t.circles)("ngForTrackBy",t.trackBy)},directives:[o.NgForOf,Yn,zn],encapsulation:2,data:{animation:[(0,r.trigger)("animationState",[(0,r.transition)(":enter",[(0,r.style)({opacity:0,transform:"scale(0)"}),(0,r.animate)(250,(0,r.style)({opacity:1,transform:"scale(1)"}))])])]},changeDetection:0}),Hi.propDecorators={data:[{type:i.Input}],xScale:[{type:i.Input}],yScale:[{type:i.Input}],rScale:[{type:i.Input}],xScaleType:[{type:i.Input}],yScaleType:[{type:i.Input}],colors:[{type:i.Input}],visibleValue:[{type:i.Input}],activeEntries:[{type:i.Input}],xAxisLabel:[{type:i.Input}],yAxisLabel:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],tooltipTemplate:[{type:i.Input}],select:[{type:i.Output}],activate:[{type:i.Output}],deactivate:[{type:i.Output}]};class Xi{}Xi.\u0275fac=function(e){return new(e||Xi)},Xi.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Xi}),Xi.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[mi]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](Xi,{declarations:[Ui,Hi],imports:[mi],exports:[Ui,Hi]});class Wi{constructor(e){this.gradient=!1,this.animations=!0,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.element=e.nativeElement}ngOnChanges(e){this.transform=`translate(${this.x} , ${this.y})`,this.startOpacity=.3,this.gradientId="grad"+Wn().toString(),this.gradientUrl=`url(#${this.gradientId})`,this.gradientStops=this.getGradientStops(),this.animations&&this.loadAnimation()}getGradientStops(){return[{offset:0,color:this.fill,opacity:this.startOpacity},{offset:100,color:this.fill,opacity:1}]}loadAnimation(){(0,d.select)(this.element).select(".cell").attr("opacity",0),this.animateToCurrentForm()}animateToCurrentForm(){(0,d.select)(this.element).select(".cell").transition().duration(750).attr("opacity",1)}onClick(){this.select.emit(this.data)}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}}Wi.\u0275fac=function(e){return new(e||Wi)(i["\u0275\u0275directiveInject"](i.ElementRef))},Wi.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Wi,selectors:[["g","ngx-charts-heat-map-cell",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()})},inputs:{gradient:"gradient",animations:"animations",fill:"fill",x:"x",y:"y",width:"width",height:"height",data:"data",label:"label"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-heat-map-cell",""],decls:3,vars:5,consts:[[1,"cell"],[4,"ngIf"],["rx","3",1,"cell",2,"cursor","pointer",3,"click"],["ngx-charts-svg-linear-gradient","","orientation","vertical",3,"name","stops"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",0),i["\u0275\u0275template"](1,ft,2,2,"defs",1),i["\u0275\u0275elementStart"](2,"rect",2),i["\u0275\u0275listener"]("click",function(){return t.onClick()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.gradient),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("fill",t.gradient?t.gradientUrl:t.fill)("width",t.width)("height",t.height))},directives:[o.NgIf,Kn],encapsulation:2,changeDetection:0}),Wi.ctorParameters=()=>[{type:i.ElementRef}],Wi.propDecorators={fill:[{type:i.Input}],x:[{type:i.Input}],y:[{type:i.Input}],width:[{type:i.Input}],height:[{type:i.Input}],data:[{type:i.Input}],label:[{type:i.Input}],gradient:[{type:i.Input}],animations:[{type:i.Input}],select:[{type:i.Output}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],onMouseEnter:[{type:i.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:i.HostListener,args:["mouseleave"]}]};class qi{constructor(){this.tooltipDisabled=!1,this.animations=!0,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter}ngOnInit(){this.tooltipText||(this.tooltipText=this.getTooltipText)}ngOnChanges(e){this.update()}update(){this.cells=this.getCells()}getCells(){const e=[];return this.data.map(t=>{t.series.map(n=>{const i=n.value;n.series=t.name,e.push({row:t,cell:n,x:this.xScale(t.name),y:this.yScale(n.name),width:this.xScale.bandwidth(),height:this.yScale.bandwidth(),fill:this.colors.getColor(i),data:i,label:Un(n.name),series:t.name})})}),e}getTooltipText({label:e,data:t,series:n}){return`\n      <span class="tooltip-label">${Hn(n)} \u2022 ${Hn(e)}</span>\n      <span class="tooltip-val">${t.toLocaleString()}</span>\n    `}trackBy(e,t){return t.tooltipText}onClick(e){this.select.emit(e)}}qi.\u0275fac=function(e){return new(e||qi)},qi.\u0275cmp=i["\u0275\u0275defineComponent"]({type:qi,selectors:[["g","ngx-charts-heat-map-cell-series",""]],inputs:{tooltipDisabled:"tooltipDisabled",animations:"animations",tooltipText:"tooltipText",data:"data",colors:"colors",xScale:"xScale",yScale:"yScale",gradient:"gradient",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-heat-map-cell-series",""],decls:1,vars:2,consts:[["ngx-charts-heat-map-cell","","ngx-tooltip","",3,"x","y","width","height","fill","data","gradient","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-heat-map-cell","","ngx-tooltip","",3,"x","y","width","height","fill","data","gradient","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,vt,1,18,"g",0),2&e&&i["\u0275\u0275property"]("ngForOf",t.cells)("ngForTrackBy",t.trackBy)},directives:[o.NgForOf,Wi,zn],encapsulation:2,changeDetection:0}),qi.propDecorators={data:[{type:i.Input}],colors:[{type:i.Input}],xScale:[{type:i.Input}],yScale:[{type:i.Input}],gradient:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],tooltipText:[{type:i.Input}],tooltipTemplate:[{type:i.Input}],animations:[{type:i.Input}],select:[{type:i.Output}],activate:[{type:i.Output}],deactivate:[{type:i.Output}]};class Yi extends Tn{constructor(){super(...arguments),this.legendTitle="Legend",this.legendPosition="right",this.innerPadding=8,this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.tooltipDisabled=!1,this.activeEntries=[],this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.scaleType="linear"}update(){if(super.update(),this.formatDates(),this.xDomain=this.getXDomain(),this.yDomain=this.getYDomain(),this.valueDomain=this.getValueDomain(),this.scaleType=bi(this.valueDomain,!1),this.dims=fi({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.scaleType,legendPosition:this.legendPosition}),"linear"===this.scaleType){let e=this.min,t=this.max;this.min||(e=Math.min(0,...this.valueDomain)),this.max||(t=Math.max(...this.valueDomain)),this.valueDomain=[e,t]}this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.rects=this.getRects()}getXDomain(){const e=[];for(const t of this.results)e.includes(t.name)||e.push(t.name);return e}getYDomain(){const e=[];for(const t of this.results)for(const n of t.series)e.includes(n.name)||e.push(n.name);return e}getValueDomain(){const e=[];for(const t of this.results)for(const n of t.series)e.includes(n.value)||e.push(n.value);return e}getDimension(e,t=0,n,i){return"string"==typeof e&&(e=e.replace("[","").replace("]","").replace("px","").replace("'","")).includes(",")&&(e=e.split(",")),Array.isArray(e)&&"number"==typeof t?this.getDimension(e[t],null,n,i):"string"==typeof e&&e.includes("%")?+e.replace("%","")/100:n/(i/+e+1)}getXScale(){const e=this.getDimension(this.innerPadding,0,this.xDomain.length,this.dims.width);return(0,p.scaleBand)().rangeRound([0,this.dims.width]).domain(this.xDomain).paddingInner(e)}getYScale(){const e=this.getDimension(this.innerPadding,1,this.yDomain.length,this.dims.height);return(0,p.scaleBand)().rangeRound([this.dims.height,0]).domain(this.yDomain).paddingInner(e)}getRects(){const e=[];return this.xDomain.map(t=>{this.yDomain.map(n=>{e.push({x:this.xScale(t),y:this.yScale(n),rx:3,width:this.xScale.bandwidth(),height:this.yScale.bandwidth(),fill:"rgba(200,200,200,0.03)"})})}),e}onClick(e){this.select.emit(e)}setColors(){this.colors=new vi(this.scheme,this.scaleType,this.valueDomain)}getLegendOptions(){return{scaleType:this.scaleType,domain:this.valueDomain,colors:"ordinal"===this.scaleType?this.colors:this.colors.scale,title:"ordinal"===this.scaleType?this.legendTitle:void 0,position:this.legendPosition}}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onActivate(e,t,n=!1){const i=Object.assign({},e);t&&(i.series=t.name);const o=this.results.map(e=>e.series).flat().filter(e=>n?e.label===i.name:e.name===i.name&&e.series===i.series);this.activeEntries=[...o],this.activate.emit({value:i,entries:this.activeEntries})}onDeactivate(e,t,n=!1){const i=Object.assign({},e);t&&(i.series=t.name),this.activeEntries=this.activeEntries.filter(e=>n?e.label!==i.name:!(e.name===i.name&&e.series===i.series)),this.deactivate.emit({value:i,entries:this.activeEntries})}}Yi.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Yi)))(t||Yi)}}(),Yi.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Yi,selectors:[["ngx-charts-heat-map"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,ue,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first)}},inputs:{legendTitle:"legendTitle",legendPosition:"legendPosition",innerPadding:"innerPadding",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",tooltipDisabled:"tooltipDisabled",activeEntries:"activeEntries",legend:"legend",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",gradient:"gradient",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",tooltipText:"tooltipText",min:"min",max:"max"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:6,vars:20,consts:[[3,"view","showLegend","animations","legendOptions","legendLabelClick"],[1,"heat-map","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf"],["ngx-charts-heat-map-cell-series","",3,"xScale","yScale","colors","data","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText","select","activate","deactivate"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelClick",function(e){return t.onClick(e)}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"g",1),i["\u0275\u0275template"](2,yt,1,9,"g",2),i["\u0275\u0275template"](3,bt,1,8,"g",3),i["\u0275\u0275template"](4,xt,1,6,"rect",4),i["\u0275\u0275elementStart"](5,"g",5),i["\u0275\u0275listener"]("select",function(e){return t.onClick(e)})("activate",function(e){return t.onActivate(e,void 0)})("deactivate",function(e){return t.onDeactivate(e,void 0)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](17,be,t.width,t.height))("showLegend",t.legend)("animations",t.animations)("legendOptions",t.legendOptions),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.xAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.yAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.rects),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xScale",t.xScale)("yScale",t.yScale)("colors",t.colors)("data",t.results)("gradient",t.gradient)("animations",t.animations)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.tooltipTemplate)("tooltipText",t.tooltipText))},directives:[En,o.NgIf,o.NgForOf,qi,Fn,jn],styles:[De],encapsulation:2,changeDetection:0}),Yi.propDecorators={legend:[{type:i.Input}],legendTitle:[{type:i.Input}],legendPosition:[{type:i.Input}],xAxis:[{type:i.Input}],yAxis:[{type:i.Input}],showXAxisLabel:[{type:i.Input}],showYAxisLabel:[{type:i.Input}],xAxisLabel:[{type:i.Input}],yAxisLabel:[{type:i.Input}],gradient:[{type:i.Input}],innerPadding:[{type:i.Input}],trimXAxisTicks:[{type:i.Input}],trimYAxisTicks:[{type:i.Input}],rotateXAxisTicks:[{type:i.Input}],maxXAxisTickLength:[{type:i.Input}],maxYAxisTickLength:[{type:i.Input}],xAxisTickFormatting:[{type:i.Input}],yAxisTickFormatting:[{type:i.Input}],xAxisTicks:[{type:i.Input}],yAxisTicks:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],tooltipText:[{type:i.Input}],min:[{type:i.Input}],max:[{type:i.Input}],activeEntries:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}]};class Qi{}Qi.\u0275fac=function(e){return new(e||Qi)},Qi.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Qi}),Qi.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[mi]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](Qi,{declarations:[Wi,qi,Yi],imports:[mi],exports:[Wi,qi,Yi]});class Zi{constructor(e){this.element=e,this.fill="none",this.animations=!0,this.select=new i.EventEmitter,this.initialized=!1}ngOnChanges(e){this.initialized?this.updatePathEl():(this.initialized=!0,this.initialPath=this.path)}updatePathEl(){const e=(0,d.select)(this.element.nativeElement).select(".line");this.animations?e.transition().duration(750).attr("d",this.path):e.attr("d",this.path)}}Zi.\u0275fac=function(e){return new(e||Zi)(i["\u0275\u0275directiveInject"](i.ElementRef))},Zi.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Zi,selectors:[["g","ngx-charts-line",""]],inputs:{fill:"fill",animations:"animations",path:"path",stroke:"stroke",data:"data"},outputs:{select:"select"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-line",""],decls:1,vars:4,consts:[["stroke-width","1.5px",1,"line"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"path",0)),2&e&&(i["\u0275\u0275property"]("@animationState","active"),i["\u0275\u0275attribute"]("d",t.initialPath)("fill",t.fill)("stroke",t.stroke))},encapsulation:2,data:{animation:[(0,r.trigger)("animationState",[(0,r.transition)(":enter",[(0,r.style)({strokeDasharray:2e3,strokeDashoffset:2e3}),(0,r.animate)(1e3,(0,r.style)({strokeDashoffset:0}))])])]},changeDetection:0}),Zi.ctorParameters=()=>[{type:i.ElementRef}],Zi.propDecorators={path:[{type:i.Input}],stroke:[{type:i.Input}],data:[{type:i.Input}],fill:[{type:i.Input}],animations:[{type:i.Input}],select:[{type:i.Output}]};class Ki extends Tn{constructor(){super(...arguments),this.legendTitle="Legend",this.legendPosition="right",this.showGridLines=!0,this.curve=m.curveLinear,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.showRefLines=!1,this.showRefLabels=!0,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10}update(){super.update(),this.dims=fi({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+Wn().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let e=yi(this.results);this.scaleType=bi(e);let t,n,i=[];return"linear"===this.scaleType&&(e=e.map(e=>Number(e))),"time"!==this.scaleType&&"linear"!==this.scaleType||(t=this.xScaleMin?this.xScaleMin:Math.min(...e),n=this.xScaleMax?this.xScaleMax:Math.max(...e)),"time"===this.scaleType?(i=[new Date(t),new Date(n)],this.xSet=[...e].sort((e,t)=>{const n=e.getTime(),i=t.getTime();return n>i?1:i>n?-1:0})):"linear"===this.scaleType?(i=[t,n],this.xSet=[...e].sort((e,t)=>e-t)):(i=e,this.xSet=e),i}getYDomain(){const e=[];for(const n of this.results)for(const t of n.series)e.indexOf(t.value)<0&&e.push(t.value),void 0!==t.min&&(this.hasRange=!0,e.indexOf(t.min)<0&&e.push(t.min)),void 0!==t.max&&(this.hasRange=!0,e.indexOf(t.max)<0&&e.push(t.max));const t=[...e];this.autoScale||t.push(0);return[this.yScaleMin?this.yScaleMin:Math.min(...t),this.yScaleMax?this.yScaleMax:Math.max(...t)]}getSeriesDomain(){return this.results.map(e=>e.name)}getXScale(e,t){let n;return"time"===this.scaleType?n=(0,p.scaleTime)().range([0,t]).domain(e):"linear"===this.scaleType?(n=(0,p.scaleLinear)().range([0,t]).domain(e),this.roundDomains&&(n=n.nice())):"ordinal"===this.scaleType&&(n=(0,p.scalePoint)().range([0,t]).padding(.1).domain(e)),n}getYScale(e,t){const n=(0,p.scaleLinear)().range([t,0]).domain(e);return this.roundDomains?n.nice():n}updateDomain(e){this.filteredDomain=e,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(e){this.hoveredVertical=e.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(e){this.select.emit(e)}trackBy(e,t){return t.name}setColors(){let e;e="ordinal"===this.schemeType?this.seriesDomain:this.yDomain,this.colors=new vi(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.seriesDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.yDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onActivate(e){this.deactivateAll();this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value)>-1||(this.activeEntries=[e],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){const t=this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value);this.activeEntries.splice(t,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const e of this.activeEntries)this.deactivate.emit({value:e,entries:[]});this.activeEntries=[]}}Ki.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Ki)))(t||Ki)}}(),Ki.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ki,selectors:[["ngx-charts-line-chart"]],contentQueries:function(e,t,n){if(1&e&&(i["\u0275\u0275contentQuery"](n,ue,5),i["\u0275\u0275contentQuery"](n,pe,5)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.seriesTooltipTemplate=e.first)}},hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("mouseleave",function(){return t.hideCircles()})},inputs:{legendTitle:"legendTitle",legendPosition:"legendPosition",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",showRefLines:"showRefLines",showRefLabels:"showRefLabels",legend:"legend",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",autoScale:"autoScale",timeline:"timeline",gradient:"gradient",schemeType:"schemeType",rangeFillOpacity:"rangeFillOpacity",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",referenceLines:"referenceLines",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:11,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"line-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","dimensionsChanged"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","activeEntries","scaleType","curve","rangeFillOpacity","hasRange","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate","hover"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"xScale","yScale","colors","data","scaleType","visibleValue","activeEntries","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","scaleType","curve","hasRange","animations"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelClick",function(e){return t.onClick(e)})("legendLabelActivate",function(e){return t.onActivate(e)})("legendLabelDeactivate",function(e){return t.onDeactivate(e)}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"defs"),i["\u0275\u0275elementStart"](2,"clipPath"),i["\u0275\u0275element"](3,"rect"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"g",1),i["\u0275\u0275template"](5,wt,1,10,"g",2),i["\u0275\u0275template"](6,Ct,1,12,"g",3),i["\u0275\u0275elementStart"](7,"g"),i["\u0275\u0275template"](8,_t,2,11,"g",4),i["\u0275\u0275template"](9,It,3,9,"g",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,Et,2,13,"g",6),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](17,be,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),i["\u0275\u0275advance"](2),i["\u0275\u0275attribute"]("id",t.clipPathId),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("width",t.dims.width+10)("height",t.dims.height+10)("transform","translate(-5, -5)"),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.xAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.yAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("clip-path",t.clipPath),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.results)("ngForTrackBy",t.trackBy),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.tooltipDisabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.timeline&&"ordinal"!=t.scaleType))},directives:function(){return[En,o.NgIf,o.NgForOf,Fn,jn,Ji,li,qn,ci]},styles:[De],encapsulation:2,data:{animation:[(0,r.trigger)("animationState",[(0,r.transition)(":leave",[(0,r.style)({opacity:1}),(0,r.animate)(500,(0,r.style)({opacity:0}))])])]},changeDetection:0}),Ki.propDecorators={legend:[{type:i.Input}],legendTitle:[{type:i.Input}],legendPosition:[{type:i.Input}],xAxis:[{type:i.Input}],yAxis:[{type:i.Input}],showXAxisLabel:[{type:i.Input}],showYAxisLabel:[{type:i.Input}],xAxisLabel:[{type:i.Input}],yAxisLabel:[{type:i.Input}],autoScale:[{type:i.Input}],timeline:[{type:i.Input}],gradient:[{type:i.Input}],showGridLines:[{type:i.Input}],curve:[{type:i.Input}],activeEntries:[{type:i.Input}],schemeType:[{type:i.Input}],rangeFillOpacity:[{type:i.Input}],trimXAxisTicks:[{type:i.Input}],trimYAxisTicks:[{type:i.Input}],rotateXAxisTicks:[{type:i.Input}],maxXAxisTickLength:[{type:i.Input}],maxYAxisTickLength:[{type:i.Input}],xAxisTickFormatting:[{type:i.Input}],yAxisTickFormatting:[{type:i.Input}],xAxisTicks:[{type:i.Input}],yAxisTicks:[{type:i.Input}],roundDomains:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],showRefLines:[{type:i.Input}],referenceLines:[{type:i.Input}],showRefLabels:[{type:i.Input}],xScaleMin:[{type:i.Input}],xScaleMax:[{type:i.Input}],yScaleMin:[{type:i.Input}],yScaleMax:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}],seriesTooltipTemplate:[{type:i.ContentChild,args:["seriesTooltipTemplate"]}],hideCircles:[{type:i.HostListener,args:["mouseleave"]}]};class Ji{constructor(){this.animations=!0}ngOnChanges(e){this.update()}update(){this.updateGradients();const e=this.sortData(this.data.series),t=this.getLineGenerator();this.path=t(e)||"";const n=this.getAreaGenerator();if(this.areaPath=n(e)||"",this.hasRange){const t=this.getRangeGenerator();this.outerPath=t(e)||""}if(this.hasGradient){this.stroke=this.gradientUrl;const e=this.data.series.map(e=>e.value),t=Math.max(...e);t===Math.min(...e)&&(this.stroke=this.colors.getColor(t))}else this.stroke=this.colors.getColor(this.data.name)}getLineGenerator(){return(0,m.line)().x(e=>{const t=e.name;let n;return n="time"===this.scaleType?this.xScale(t):"linear"===this.scaleType?this.xScale(Number(t)):this.xScale(t),n}).y(e=>this.yScale(e.value)).curve(this.curve)}getRangeGenerator(){return(0,m.area)().x(e=>{const t=e.name;let n;return n="time"===this.scaleType?this.xScale(t):"linear"===this.scaleType?this.xScale(Number(t)):this.xScale(t),n}).y0(e=>this.yScale("number"==typeof e.min?e.min:e.value)).y1(e=>this.yScale("number"==typeof e.max?e.max:e.value)).curve(this.curve)}getAreaGenerator(){return(0,m.area)().x(e=>{const t=e.name;return this.xScale(t)}).y0(()=>this.yScale.range()[0]).y1(e=>this.yScale(e.value)).curve(this.curve)}sortData(e){return e="linear"===this.scaleType?_i(e,"name"):"time"===this.scaleType?Ii(e,"name"):Si(e,"name","asc",this.xScale.domain())}updateGradients(){if("linear"===this.colors.scaleType){this.hasGradient=!0,this.gradientId="grad"+Wn().toString(),this.gradientUrl=`url(#${this.gradientId})`;const e=this.data.series.map(e=>e.value),t=Math.max(...e),n=Math.min(...e);this.gradientStops=this.colors.getLinearGradientStops(t,n),this.areaGradientStops=this.colors.getLinearGradientStops(t)}else this.hasGradient=!1,this.gradientStops=void 0,this.areaGradientStops=void 0}isActive(e){if(!this.activeEntries)return!1;return void 0!==this.activeEntries.find(t=>e.name===t.name)}isInactive(e){if(!this.activeEntries||0===this.activeEntries.length)return!1;return void 0===this.activeEntries.find(t=>e.name===t.name)}}Ji.\u0275fac=function(e){return new(e||Ji)},Ji.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ji,selectors:[["g","ngx-charts-line-series",""]],inputs:{animations:"animations",data:"data",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",curve:"curve",activeEntries:"activeEntries",rangeFillOpacity:"rangeFillOpacity",hasRange:"hasRange"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-line-series",""],decls:6,vars:22,consts:[["ngx-charts-svg-linear-gradient","","orientation","vertical",3,"name","stops",4,"ngIf"],["ngx-charts-area","",1,"line-highlight",3,"data","path","fill","opacity","startOpacity","gradient","stops","animations"],["ngx-charts-line","",1,"line-series",3,"data","path","stroke","animations"],["ngx-charts-area","","class","line-series-range",3,"data","path","fill","active","inactive","opacity","animations",4,"ngIf"],["ngx-charts-svg-linear-gradient","","orientation","vertical",3,"name","stops"],["ngx-charts-area","",1,"line-series-range",3,"data","path","fill","opacity","animations"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275elementStart"](1,"defs"),i["\u0275\u0275template"](2,Dt,1,2,"g",0),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](3,"g",1),i["\u0275\u0275element"](4,"g",2),i["\u0275\u0275template"](5,Tt,1,9,"g",3),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.hasGradient),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("active",t.isActive(t.data))("inactive",t.isInactive(t.data)),i["\u0275\u0275property"]("data",t.data)("path",t.areaPath)("fill",t.hasGradient?t.gradientUrl:t.colors.getColor(t.data.name))("opacity",.25)("startOpacity",0)("gradient",!0)("stops",t.areaGradientStops)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("active",t.isActive(t.data))("inactive",t.isInactive(t.data)),i["\u0275\u0275property"]("data",t.data)("path",t.path)("stroke",t.stroke)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.hasRange))},directives:[o.NgIf,ei,Zi,Kn],encapsulation:2,changeDetection:0}),Ji.propDecorators={data:[{type:i.Input}],xScale:[{type:i.Input}],yScale:[{type:i.Input}],colors:[{type:i.Input}],scaleType:[{type:i.Input}],curve:[{type:i.Input}],activeEntries:[{type:i.Input}],rangeFillOpacity:[{type:i.Input}],hasRange:[{type:i.Input}],animations:[{type:i.Input}]};class eo{}eo.\u0275fac=function(e){return new(e||eo)},eo.\u0275mod=i["\u0275\u0275defineNgModule"]({type:eo}),eo.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[mi]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](eo,{declarations:[Zi,Ki,Ji],imports:[mi],exports:[Zi,Ki,Ji]});const to=2*Math.PI;class no extends Tn{constructor(){super(...arguments),this.legendTitle="Legend",this.legendPosition="right",this.showGridLines=!0,this.curve=m.curveCardinalClosed,this.activeEntries=[],this.rangeFillOpacity=.15,this.trimYAxisTicks=!0,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.showSeriesOnHover=!0,this.gradient=!1,this.yAxisMinScale=0,this.labelTrim=!0,this.labelTrimSize=10,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0}update(){super.update(),this.setDims(),this.setScales(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.setTicks()}setDims(){this.dims=fi({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition});const e=Math.floor(this.dims.width/2),t=Math.floor(this.dims.height/2),n=this.outerRadius=Math.min(t/1.5,e/1.5),i=Math.max(0,t-n);this.yAxisDims=Object.assign(Object.assign({},this.dims),{width:e}),this.transform=`translate(${this.dims.xOffset}, ${this.margin[0]})`,this.transformYAxis=`translate(0, ${i})`,this.labelOffset=this.dims.height+40,this.transformPlot=`translate(${e}, ${t})`}setScales(){const e=this.getXValues();this.scaleType=bi(e),this.xDomain=this.filteredDomain||this.getXDomain(e),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,to),this.yScale=this.getYScale(this.yDomain,this.outerRadius),this.yAxisScale=this.getYScale(this.yDomain.reverse(),this.outerRadius)}setTicks(){let e;e=this.xAxisTickFormatting?this.xAxisTickFormatting:this.xScale.tickFormat?this.xScale.tickFormat.apply(this.xScale,[5]):e=>{return t=e,"[object Date]"===toString.call(t)?e.toLocaleDateString():e.toLocaleString();var t};const t=this.outerRadius;this.thetaTicks=this.xDomain.map(n=>{const i=this.xScale(n),o=1.1*t*(i>Math.PI?-1:1),r=e(n),s=[t*Math.sin(i),-t*Math.cos(i)],a=[o,1.1*s[1]];return{innerRadius:0,outerRadius:t,startAngle:i,endAngle:i,value:t,label:r,startPos:s,pos:a}});for(let n=0;n<this.thetaTicks.length-1;n++){const e=this.thetaTicks[n];for(let t=n+1;t<this.thetaTicks.length;t++){const n=this.thetaTicks[t];if(n.pos[0]*e.pos[0]>0){const t=10-Math.abs(n.pos[1]-e.pos[1]);t>0&&(n.pos[1]+=Math.sign(n.pos[0])*t)}}}this.radiusTicks=this.yAxisScale.ticks(Math.floor(this.dims.height/50)).map(e=>this.yScale(e))}getXValues(){const e=[];for(const t of this.results)for(const n of t.series)e.includes(n.name)||e.push(n.name);return e}getXDomain(e=this.getXValues()){if("time"===this.scaleType){return[Math.min(...e),Math.max(...e)]}if("linear"===this.scaleType){e=e.map(e=>Number(e));return[Math.min(...e),Math.max(...e)]}return e}getYValues(){const e=[];for(const t of this.results)for(const n of t.series)e.indexOf(n.value)<0&&e.push(n.value),void 0!==n.min&&e.indexOf(n.min)<0&&e.push(n.min),void 0!==n.max&&e.indexOf(n.max)<0&&e.push(n.max);return e}getYDomain(e=this.getYValues()){let t=Math.min(...e);const n=Math.max(this.yAxisMinScale,...e);return t=Math.max(0,t),this.autoScale||(t=Math.min(0,t)),[t,n]}getSeriesDomain(){return this.results.map(e=>e.name)}getXScale(e,t){switch(this.scaleType){case"time":return(0,p.scaleTime)().range([0,t]).domain(e);case"linear":const n=(0,p.scaleLinear)().range([0,t]).domain(e);return this.roundDomains?n.nice():n;default:return(0,p.scalePoint)().range([0,t-to/e.length]).padding(0).domain(e)}}getYScale(e,t){const n=(0,p.scaleLinear)().range([0,t]).domain(e);return this.roundDomains?n.nice():n}onClick(e,t){t&&(e.series=t.name),this.select.emit(e)}setColors(){const e="ordinal"===this.schemeType?this.seriesDomain:this.yDomain.reverse();this.colors=new vi(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){return"ordinal"===this.schemeType?{scaleType:this.schemeType,colors:this.colors,domain:this.seriesDomain,title:this.legendTitle,position:this.legendPosition}:{scaleType:this.schemeType,colors:this.colors.scale,domain:this.yDomain,title:void 0,position:this.legendPosition}}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onActivate(e){this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value)>-1||(this.activeEntries=this.showSeriesOnHover?[e,...this.activeEntries]:this.activeEntries,this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){const t=this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value);this.activeEntries.splice(t,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const e of this.activeEntries)this.deactivate.emit({value:e,entries:[]});this.activeEntries=[]}trackBy(e,t){return t.name}}no.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](no)))(t||no)}}(),no.\u0275cmp=i["\u0275\u0275defineComponent"]({type:no,selectors:[["ngx-charts-polar-chart"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,ue,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first)}},inputs:{legendTitle:"legendTitle",legendPosition:"legendPosition",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",rangeFillOpacity:"rangeFillOpacity",trimYAxisTicks:"trimYAxisTicks",maxYAxisTickLength:"maxYAxisTickLength",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",showSeriesOnHover:"showSeriesOnHover",gradient:"gradient",yAxisMinScale:"yAxisMinScale",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize",legend:"legend",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",autoScale:"autoScale",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:10,vars:18,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"polar-chart","chart"],["cx","0","cy","0",1,"polar-chart-background"],[4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","gridline-path radial-gridline-path","cx","0","cy","0",4,"ngFor","ngForOf"],["cx","0","cy","0",1,"gridline-path","radial-gridline-path"],["ngx-charts-pie-label","",3,"data","radius","label","max","value","explodeSlices","animations","labelTrim","labelTrimSize",4,"ngFor","ngForOf"],["ngx-charts-pie-label","",3,"data","radius","label","max","value","explodeSlices","animations","labelTrim","labelTrimSize"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"],["ngx-charts-polar-series","",3,"gradient","xScale","yScale","colors","data","activeEntries","scaleType","curve","rangeFillOpacity","animations","tooltipDisabled","tooltipTemplate","select","activate","deactivate"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelClick",function(e){return t.onClick(e)})("legendLabelActivate",function(e){return t.onActivate(e)})("legendLabelDeactivate",function(e){return t.onDeactivate(e)}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"g",1),i["\u0275\u0275elementStart"](2,"g"),i["\u0275\u0275element"](3,"circle",2),i["\u0275\u0275template"](4,Mt,2,1,"g",3),i["\u0275\u0275template"](5,Pt,2,1,"g",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,Ft,1,9,"g",4),i["\u0275\u0275template"](7,kt,1,5,"g",5),i["\u0275\u0275elementStart"](8,"g"),i["\u0275\u0275template"](9,Nt,2,13,"g",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](15,be,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transformPlot),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("r",t.outerRadius),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showGridLines),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.xAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.yAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.xAxis&&t.showXAxisLabel),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transformPlot),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.results)("ngForTrackBy",t.trackBy))},directives:function(){return[En,o.NgIf,o.NgForOf,ro,jn,Rn,io]},styles:[De,Bt,".polar-chart .polar-chart-background{fill:none}.polar-chart .radial-gridline-path{fill:none;stroke-dasharray:10 10}.polar-chart .pie-label-line{stroke:#2f3646}.polar-charts-series .polar-series-area,.polar-series-path{pointer-events:none}"],encapsulation:2,data:{animation:[(0,r.trigger)("animationState",[(0,r.transition)(":leave",[(0,r.style)({opacity:1}),(0,r.animate)(500,(0,r.style)({opacity:0}))])])]},changeDetection:0}),no.propDecorators={legend:[{type:i.Input}],legendTitle:[{type:i.Input}],legendPosition:[{type:i.Input}],xAxis:[{type:i.Input}],yAxis:[{type:i.Input}],showXAxisLabel:[{type:i.Input}],showYAxisLabel:[{type:i.Input}],xAxisLabel:[{type:i.Input}],yAxisLabel:[{type:i.Input}],autoScale:[{type:i.Input}],showGridLines:[{type:i.Input}],curve:[{type:i.Input}],activeEntries:[{type:i.Input}],schemeType:[{type:i.Input}],rangeFillOpacity:[{type:i.Input}],trimYAxisTicks:[{type:i.Input}],maxYAxisTickLength:[{type:i.Input}],xAxisTickFormatting:[{type:i.Input}],yAxisTickFormatting:[{type:i.Input}],roundDomains:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],showSeriesOnHover:[{type:i.Input}],gradient:[{type:i.Input}],yAxisMinScale:[{type:i.Input}],labelTrim:[{type:i.Input}],labelTrimSize:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}]};class io{constructor(){this.tooltipDisabled=!1,this.gradient=!1,this.animations=!0,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.circleRadius=3}ngOnChanges(e){this.update()}update(){this.updateGradients();const e=this.getLineGenerator(),t=this.sortData(this.data.series),n=this.data.name,i="linear"===this.colors.scaleType,o=this.yScale.domain()[0];this.seriesColor=this.colors.getColor(i?o:n),this.path=e(t)||"",this.circles=t.map(e=>{const t=this.getAngle(e),o=this.getRadius(e),r=e.value,s=this.colors.getColor(i?Math.abs(r):n);return{data:Object.assign({},e,{series:n,value:r,name:e.name}),cx:o*Math.sin(t),cy:-o*Math.cos(t),value:r,color:s,label:e.name}}),this.active=this.isActive(this.data),this.inactive=this.isInactive(this.data),this.tooltipText=this.tooltipText||(e=>this.defaultTooltipText(e))}getAngle(e){const t=e.name;return"time"===this.scaleType?this.xScale(t):"linear"===this.scaleType?this.xScale(Number(t)):this.xScale(t)}getRadius(e){return this.yScale(e.value)}getLineGenerator(){return(0,m.lineRadial)().angle(e=>this.getAngle(e)).radius(e=>this.getRadius(e)).curve(this.curve)}sortData(e){return"linear"===this.scaleType?_i(e,"name"):"time"===this.scaleType?Ii(e,"name"):Si(e,"name","asc",this.xScale.domain())}isActive(e){if(!this.activeEntries)return!1;return void 0!==this.activeEntries.find(t=>e.name===t.name)}isInactive(e){if(!this.activeEntries||0===this.activeEntries.length)return!1;return void 0===this.activeEntries.find(t=>e.name===t.name)}defaultTooltipText({label:e,value:t}){return`\n      <span class="tooltip-label">${Hn(this.data.name)} \u2022 ${Hn(e)}</span>\n      <span class="tooltip-val">${t.toLocaleString()}</span>\n    `}updateGradients(){if(this.hasGradient=this.gradient||"linear"===this.colors.scaleType,this.hasGradient)if(this.gradientId="grad"+Wn().toString(),this.gradientUrl=`url(#${this.gradientId})`,"linear"===this.colors.scaleType){const e=this.data.series.map(e=>e.value),t=Math.max(...e),n=Math.min(...e);this.gradientStops=this.colors.getLinearGradientStops(t,n)}else this.gradientStops=void 0}}io.\u0275fac=function(e){return new(e||io)},io.\u0275cmp=i["\u0275\u0275defineComponent"]({type:io,selectors:[["g","ngx-charts-polar-series",""]],inputs:{tooltipDisabled:"tooltipDisabled",gradient:"gradient",animations:"animations",tooltipText:"tooltipText",name:"name",data:"data",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",curve:"curve",activeEntries:"activeEntries",rangeFillOpacity:"rangeFillOpacity",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-polar-series",""],decls:5,vars:11,consts:[[1,"polar-charts-series"],["ngx-charts-svg-radial-gradient","","orientation","vertical",3,"color","name","startOpacity","endOpacity","stops",4,"ngIf"],["ngx-charts-line","",1,"polar-series-path",3,"path","stroke","fill","animations"],["ngx-charts-circle","","class","circle","ngx-tooltip","","tooltipType","tooltip",3,"cx","cy","r","fill","opacity","tooltipDisabled","tooltipPlacement","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate",4,"ngFor","ngForOf"],["ngx-charts-svg-radial-gradient","","orientation","vertical",3,"color","name","startOpacity","endOpacity","stops"],["ngx-charts-circle","","ngx-tooltip","","tooltipType","tooltip",1,"circle",3,"cx","cy","r","fill","tooltipDisabled","tooltipPlacement","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",0),i["\u0275\u0275elementStart"](1,"defs"),i["\u0275\u0275template"](2,jt,1,5,"g",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](3,"g",2),i["\u0275\u0275template"](4,Lt,1,11,"g",3),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.hasGradient),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("active",t.active)("inactive",t.inactive),i["\u0275\u0275property"]("path",t.path)("stroke",t.hasGradient?t.gradientUrl:t.seriesColor)("fill",t.hasGradient?t.gradientUrl:t.seriesColor)("animations",t.animations),i["\u0275\u0275attribute"]("fill-opacity",t.rangeFillOpacity),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.circles))},directives:[o.NgIf,Zi,o.NgForOf,Jn,Yn,zn],encapsulation:2,changeDetection:0}),io.propDecorators={name:[{type:i.Input}],data:[{type:i.Input}],xScale:[{type:i.Input}],yScale:[{type:i.Input}],colors:[{type:i.Input}],scaleType:[{type:i.Input}],curve:[{type:i.Input}],activeEntries:[{type:i.Input}],rangeFillOpacity:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],tooltipText:[{type:i.Input}],gradient:[{type:i.Input}],tooltipTemplate:[{type:i.Input}],animations:[{type:i.Input}],select:[{type:i.Output}],activate:[{type:i.Output}],deactivate:[{type:i.Output}]};class oo extends Tn{constructor(){super(...arguments),this.activeEntries=[],this.tooltipDisabled=!1,this.label="Total",this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.margin=[20,20,20,20]}update(){super.update(),this.dims=fi({width:4*this.width/12,height:this.height,margins:this.margin}),this.formatDates(),this.domain=this.getDomain(),this.setColors();const e=this.dims.width/2,t=this.margin[0]+this.dims.height/2;this.legendWidth=this.width-this.dims.width-this.margin[1],this.outerRadius=Math.min(this.dims.width,this.dims.height)/2.5,this.innerRadius=.75*this.outerRadius,this.transform=`translate(${e} , ${t})`}getDomain(){return this.results.map(e=>e.label)}onClick(e){this.select.emit(e)}setColors(){this.colors=new vi(this.scheme,"ordinal",this.domain,this.customColors)}onActivate(e,t=!1){e=this.results.find(n=>t?n.label===e.name:n.name===e.name);this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value&&t.series===e.series)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e,t=!1){e=this.results.find(n=>t?n.label===e.name:n.name===e.name);const n=this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value&&t.series===e.series);this.activeEntries.splice(n,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}}oo.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](oo)))(t||oo)}}(),oo.\u0275cmp=i["\u0275\u0275defineComponent"]({type:oo,selectors:[["ngx-charts-advanced-pie-chart"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,ue,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first)}},inputs:{activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",label:"label",gradient:"gradient",tooltipText:"tooltipText",valueFormatting:"valueFormatting",nameFormatting:"nameFormatting",percentageFormatting:"percentageFormatting"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:7,vars:37,consts:[[1,"advanced-pie","chart"],[3,"view","showLegend","animations"],[1,"pie","chart"],["ngx-charts-pie-series","",3,"colors","series","innerRadius","activeEntries","outerRadius","gradient","tooltipDisabled","tooltipTemplate","tooltipText","animations","select","activate","deactivate"],[1,"advanced-pie-legend-wrapper"],[3,"data","colors","width","label","animations","valueFormatting","labelFormatting","percentageFormatting","select","activate","deactivate"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"div",0),i["\u0275\u0275elementStart"](2,"ngx-charts-chart",1),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](3,"g",2),i["\u0275\u0275elementStart"](4,"g",3),i["\u0275\u0275listener"]("select",function(e){return t.onClick(e)})("activate",function(e){return t.onActivate(e)})("deactivate",function(e){return t.onDeactivate(e)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275namespaceHTML"](),i["\u0275\u0275elementStart"](5,"div",4),i["\u0275\u0275elementStart"](6,"ngx-charts-advanced-legend",5),i["\u0275\u0275listener"]("select",function(e){return t.onClick(e)})("activate",function(e){return t.onActivate(e,!0)})("deactivate",function(e){return t.onDeactivate(e,!0)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275styleProp"]("width",t.width,"px")("height",t.height,"px"),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("width",t.dims.width,"px")("height",t.dims.height,"px"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](34,be,t.width,t.height))("showLegend",!1)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("colors",t.colors)("series",t.results)("innerRadius",t.innerRadius)("activeEntries",t.activeEntries)("outerRadius",t.outerRadius)("gradient",t.gradient)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.tooltipTemplate)("tooltipText",t.tooltipText)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("width",t.width-t.dims.width,"px")("height",t.height,"px"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("data",t.results)("colors",t.colors)("width",t.width-t.dims.width-t.margin[1])("label",t.label)("animations",t.animations)("valueFormatting",t.valueFormatting)("labelFormatting",t.nameFormatting)("percentageFormatting",t.percentageFormatting))},directives:function(){return[En,ho,hi]},styles:[De,".advanced-pie{float:left}.advanced-pie,.advanced-pie-legend-wrapper{display:inline-block}"],encapsulation:2,changeDetection:0}),oo.propDecorators={gradient:[{type:i.Input}],activeEntries:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],tooltipText:[{type:i.Input}],label:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}],valueFormatting:[{type:i.Input}],nameFormatting:[{type:i.Input}],percentageFormatting:[{type:i.Input}]};class ro{constructor(){this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.isIE=/(edge|msie|trident)/i.test(navigator.userAgent),this.trimLabel=Mn}ngOnChanges(e){this.update()}update(){let e=this.radius;this.explodeSlices&&(e=this.radius*this.value/this.max);const t=(0,m.arc)().innerRadius(e).outerRadius(e).centroid(this.data);let n=this.data.pos[1]/t[1];0!==this.data.pos[1]&&0!==t[1]||(n=1);const i=[n*t[0],n*t[1]];this.line=`M${t}L${i}L${this.data.pos}`}get textX(){return this.data.pos[0]}get textY(){return this.data.pos[1]}get styleTransform(){return this.isIE?null:`translate3d(${this.textX}px,${this.textY}px, 0)`}get attrTransform(){return this.isIE?`translate(${this.textX},${this.textY})`:null}get textTransition(){return this.isIE||!this.animations?null:"transform 0.75s"}textAnchor(){return this.midAngle(this.data)<Math.PI?"start":"end"}midAngle(e){return e.startAngle+(e.endAngle-e.startAngle)/2}}ro.\u0275fac=function(e){return new(e||ro)},ro.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ro,selectors:[["g","ngx-charts-pie-label",""]],inputs:{animations:"animations",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize",data:"data",radius:"radius",label:"label",color:"color",max:"max",value:"value",explodeSlices:"explodeSlices"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-pie-label",""],decls:6,vars:17,consts:[["dy",".35em",1,"pie-label"],["fill","none",1,"pie-label-line","line"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"title"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](2,"g"),i["\u0275\u0275elementStart"](3,"text",0),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](5,"path",1)),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.label),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("transform",t.styleTransform)("transition",t.textTransition),i["\u0275\u0275attribute"]("transform",t.attrTransform),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("text-anchor",t.textAnchor())("shape-rendering","crispEdges"),i["\u0275\u0275classProp"]("animation",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.labelTrim?t.trimLabel(t.label,t.labelTrimSize):t.label," "),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("animation",t.animations),i["\u0275\u0275attribute"]("d",t.line)("stroke",t.color))},encapsulation:2,changeDetection:0}),ro.ctorParameters=()=>[],ro.propDecorators={data:[{type:i.Input}],radius:[{type:i.Input}],label:[{type:i.Input}],color:[{type:i.Input}],max:[{type:i.Input}],value:[{type:i.Input}],explodeSlices:[{type:i.Input}],animations:[{type:i.Input}],labelTrim:[{type:i.Input}],labelTrimSize:[{type:i.Input}]};class so{constructor(e){this.startAngle=0,this.endAngle=2*Math.PI,this.cornerRadius=0,this.explodeSlices=!1,this.gradient=!1,this.animate=!0,this.pointerEvents=!0,this.isActive=!1,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.dblclick=new i.EventEmitter,this.initialized=!1,this.element=e.nativeElement}ngOnChanges(e){this.update()}getGradient(){return this.gradient?this.gradientFill:this.fill}getPointerEvents(){return this.pointerEvents?"auto":"none"}update(){const e=this.calculateArc();this.startOpacity=.5,this.radialGradientId="linearGrad"+Wn().toString(),this.gradientFill=`url(#${this.radialGradientId})`,this.animate?this.initialized?this.updateAnimation():(this.loadAnimation(),this.initialized=!0):this.path=e.startAngle(this.startAngle).endAngle(this.endAngle)()}calculateArc(){let e=this.outerRadius;return this.explodeSlices&&0===this.innerRadius&&(e=this.outerRadius*this.value/this.max),(0,m.arc)().innerRadius(this.innerRadius).outerRadius(e).cornerRadius(this.cornerRadius)}loadAnimation(){const e=(0,d.select)(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),t=this.calculateArc();e.transition().attrTween("d",function(e){this._current=this._current||e;const n=Object.assign({},e);n.endAngle=n.startAngle;const i=(0,g.interpolate)(n,n);return this._current=i(0),function(e){return t(i(e))}}).transition().duration(750).attrTween("d",function(e){this._current=this._current||e;const n=(0,g.interpolate)(this._current,e);return this._current=n(0),function(e){return t(n(e))}})}updateAnimation(){const e=(0,d.select)(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),t=this.calculateArc();e.transition().duration(750).attrTween("d",function(e){this._current=this._current||e;const n=(0,g.interpolate)(this._current,e);return this._current=n(0),function(e){return t(n(e))}})}onClick(){clearTimeout(this._timeout),this._timeout=setTimeout(()=>this.select.emit(this.data),200)}onDblClick(e){e.preventDefault(),e.stopPropagation(),clearTimeout(this._timeout),this.dblclick.emit({data:this.data,nativeEvent:e})}}so.\u0275fac=function(e){return new(e||so)(i["\u0275\u0275directiveInject"](i.ElementRef))},so.\u0275cmp=i["\u0275\u0275defineComponent"]({type:so,selectors:[["g","ngx-charts-pie-arc",""]],inputs:{startAngle:"startAngle",endAngle:"endAngle",cornerRadius:"cornerRadius",explodeSlices:"explodeSlices",gradient:"gradient",animate:"animate",pointerEvents:"pointerEvents",isActive:"isActive",fill:"fill",innerRadius:"innerRadius",outerRadius:"outerRadius",value:"value",max:"max",data:"data"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-pie-arc",""],decls:3,vars:7,consts:[[1,"arc-group"],[4,"ngIf"],[1,"arc",3,"click","dblclick","mouseenter","mouseleave"],["ngx-charts-svg-radial-gradient","","orientation","vertical",3,"color","name","startOpacity"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",0),i["\u0275\u0275template"](1,Vt,2,3,"defs",1),i["\u0275\u0275elementStart"](2,"path",2),i["\u0275\u0275listener"]("click",function(){return t.onClick()})("dblclick",function(e){return t.onDblClick(e)})("mouseenter",function(){return t.activate.emit(t.data)})("mouseleave",function(){return t.deactivate.emit(t.data)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.gradient),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("pointer-events",t.getPointerEvents()),i["\u0275\u0275classProp"]("active",t.isActive),i["\u0275\u0275attribute"]("d",t.path)("fill",t.getGradient()))},directives:[o.NgIf,Jn],encapsulation:2,changeDetection:0}),so.ctorParameters=()=>[{type:i.ElementRef}],so.propDecorators={fill:[{type:i.Input}],startAngle:[{type:i.Input}],endAngle:[{type:i.Input}],innerRadius:[{type:i.Input}],outerRadius:[{type:i.Input}],cornerRadius:[{type:i.Input}],value:[{type:i.Input}],max:[{type:i.Input}],data:[{type:i.Input}],explodeSlices:[{type:i.Input}],gradient:[{type:i.Input}],animate:[{type:i.Input}],pointerEvents:[{type:i.Input}],isActive:[{type:i.Input}],select:[{type:i.Output}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],dblclick:[{type:i.Output}]};class ao extends Tn{constructor(){super(...arguments),this.labels=!1,this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.explodeSlices=!1,this.doughnut=!1,this.arcWidth=.25,this.activeEntries=[],this.tooltipDisabled=!1,this.trimLabels=!0,this.maxLabelLength=10,this.dblclick=new i.EventEmitter,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter}update(){super.update(),this.labels&&this.hasNoOptionalMarginsSet()?this.margins=[30,80,30,80]:!this.labels&&this.hasNoOptionalMarginsSet()&&(this.margins=[20,20,20,20]),this.dims=fi({width:this.width,height:this.height,margins:this.margins,showLegend:this.legend,legendPosition:this.legendPosition}),this.formatDates();const e=this.margins[3]+this.dims.width/2,t=this.margins[0]+this.dims.height/2;this.translation=`translate(${e}, ${t})`,this.outerRadius=Math.min(this.dims.width,this.dims.height),this.labels?this.outerRadius/=3:this.outerRadius/=2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),this.data=this.results.sort((e,t)=>this.domain.indexOf(e.name)-this.domain.indexOf(t.name)),this.setColors(),this.legendOptions=this.getLegendOptions()}getDomain(){return this.results.map(e=>e.label)}onClick(e){this.select.emit(e)}setColors(){this.colors=new vi(this.scheme,"ordinal",this.domain,this.customColors)}getLegendOptions(){return{scaleType:"ordinal",domain:this.domain,colors:this.colors,title:this.legendTitle,position:this.legendPosition}}onActivate(e,t=!1){e=this.results.find(n=>t?n.label===e.name:n.name===e.name);this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value&&t.series===e.series)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e,t=!1){e=this.results.find(n=>t?n.label===e.name:n.name===e.name);const n=this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value&&t.series===e.series);this.activeEntries.splice(n,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}hasNoOptionalMarginsSet(){return!this.margins||this.margins.length<=0}}function lo(e,t,n){let i=1,o=t;const r=e.width;if(r>n)for(;r/o<n;)i+=1,o=Math.ceil(t/i);return[o,i]}function co(e,t,n,i){const o=(0,p.scaleBand)(),r=(0,p.scaleBand)(),s=e.width,a=e.height,[l,c]=lo(e,t.length,n),d=[],u=[];for(let p=0;p<c;p++)u.push(p);for(let p=0;p<l;p++)d.push(p);o.domain(d),r.domain(u),o.rangeRound([0,s],.1),r.rangeRound([0,a],.1);const h=[],m=i||t.map(e=>e?e.value:0).reduce((e,t)=>e+t,0);const f=o.bandwidth(),g=r.bandwidth();for(let p=0;p<t.length;p++)h[p]={},h[p].data={name:t[p]?t[p].name:"",value:t[p]?t[p].value:void 0,extra:t[p]?t[p].extra:void 0,label:t[p]?t[p].label:""},h[p].x=o(p%l),h[p].y=r(Math.floor(p/l)),h[p].width=f,h[p].height=g,h[p].data.percent=m>0?h[p].data.value/m:0,h[p].data.total=m;return h}ao.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](ao)))(t||ao)}}(),ao.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ao,selectors:[["ngx-charts-pie-chart"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,ue,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first)}},inputs:{labels:"labels",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",explodeSlices:"explodeSlices",doughnut:"doughnut",arcWidth:"arcWidth",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",margins:"margins",gradient:"gradient",labelFormatting:"labelFormatting",tooltipText:"tooltipText"},outputs:{dblclick:"dblclick",select:"select",activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:24,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"pie-chart","chart"],["ngx-charts-pie-series","",3,"colors","series","showLabels","labelFormatting","trimLabels","maxLabelLength","activeEntries","innerRadius","outerRadius","explodeSlices","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText","dblclick","select","activate","deactivate"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelActivate",function(e){return t.onActivate(e,!0)})("legendLabelDeactivate",function(e){return t.onDeactivate(e,!0)})("legendLabelClick",function(e){return t.onClick(e)}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"g",1),i["\u0275\u0275elementStart"](2,"g",2),i["\u0275\u0275listener"]("dblclick",function(e){return t.dblclick.emit(e)})("select",function(e){return t.onClick(e)})("activate",function(e){return t.onActivate(e)})("deactivate",function(e){return t.onDeactivate(e)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](21,be,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.translation),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("colors",t.colors)("series",t.data)("showLabels",t.labels)("labelFormatting",t.labelFormatting)("trimLabels",t.trimLabels)("maxLabelLength",t.maxLabelLength)("activeEntries",t.activeEntries)("innerRadius",t.innerRadius)("outerRadius",t.outerRadius)("explodeSlices",t.explodeSlices)("gradient",t.gradient)("animations",t.animations)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.tooltipTemplate)("tooltipText",t.tooltipText))},directives:function(){return[En,ho]},styles:[De,Bt],encapsulation:2,changeDetection:0}),ao.propDecorators={labels:[{type:i.Input}],legend:[{type:i.Input}],legendTitle:[{type:i.Input}],legendPosition:[{type:i.Input}],explodeSlices:[{type:i.Input}],doughnut:[{type:i.Input}],arcWidth:[{type:i.Input}],gradient:[{type:i.Input}],activeEntries:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],labelFormatting:[{type:i.Input}],trimLabels:[{type:i.Input}],maxLabelLength:[{type:i.Input}],tooltipText:[{type:i.Input}],dblclick:[{type:i.Output}],margins:[{type:i.Input}],select:[{type:i.Output}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}]};class uo extends Tn{constructor(){super(...arguments),this.tooltipDisabled=!1,this.label="Total",this.minWidth=150,this.activeEntries=[],this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.margin=[20,20,20,20]}update(){super.update(),this.dims=fi({width:this.width,height:this.height,margins:this.margin}),this.formatDates(),this.domain=this.getDomain(),this.data=co(this.dims,this.results,this.minWidth,this.designatedTotal),this.transform=`translate(${this.margin[3]} , ${this.margin[0]})`,this.series=this.getSeries(),this.setColors(),this.tooltipText=this.tooltipText||this.defaultTooltipText}defaultTooltipText({data:e}){return`\n      <span class="tooltip-label">${Mn(Un(e.name))}</span>\n      <span class="tooltip-val">${e.value.toLocaleString()}</span>\n    `}getDomain(){return this.results.map(e=>e.label)}getSeries(){const e=this.designatedTotal?this.designatedTotal:this.getTotal();return this.data.map(t=>{const n=t.data.name,i=Un(n),o=t.data.value,r=(0,f.min)([t.width-10,t.height-20])/2-5,s=.9*r;let a=0;return{transform:`translate(${t.x+(t.width-10)/2}, ${t.y+(t.height-20)/2})`,colors:()=>(a+=1,1===a?"rgba(100,100,100,0.3)":this.colorScale.getColor(i)),innerRadius:s,outerRadius:r,name:n,label:Mn(i),total:o,value:o,percent:(0,v.format)(".1%")(t.data.percent),data:[t,{data:{other:!0,value:e-o,name:t.data.name}}]}})}getTotal(){return this.results.map(e=>e.value).reduce((e,t)=>e+t,0)}onClick(e){this.select.emit(e)}setColors(){this.colorScale=new vi(this.scheme,"ordinal",this.domain,this.customColors)}onActivate(e,t=!1){e=this.results.find(n=>t?n.label===e.name:n.name===e.name);this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value&&t.series===e.series)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e,t=!1){e=this.results.find(n=>t?n.label===e.name:n.name===e.name);const n=this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value&&t.series===e.series);this.activeEntries.splice(n,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}}uo.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](uo)))(t||uo)}}(),uo.\u0275cmp=i["\u0275\u0275defineComponent"]({type:uo,selectors:[["ngx-charts-pie-grid"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,ue,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first)}},inputs:{tooltipDisabled:"tooltipDisabled",label:"label",minWidth:"minWidth",activeEntries:"activeEntries",tooltipText:"tooltipText",designatedTotal:"designatedTotal"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:8,consts:[[3,"view","showLegend","animations"],[1,"pie-grid","chart"],["class","pie-grid-item",4,"ngFor","ngForOf"],[1,"pie-grid-item"],["ngx-charts-pie-grid-series","","ngx-tooltip","",3,"colors","data","innerRadius","outerRadius","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate"],["class","label percent-label","dy","-0.5em","x","0","y","5","ngx-charts-count-up","","text-anchor","middle",3,"countTo","countSuffix",4,"ngIf"],["class","label percent-label","dy","-0.5em","x","0","y","5","text-anchor","middle",4,"ngIf"],["dy","0.5em","x","0","y","5","text-anchor","middle",1,"label"],["class","label","dy","1.23em","x","0","text-anchor","middle","ngx-charts-count-up","",3,"countTo","countPrefix",4,"ngIf"],["class","label","dy","1.23em","x","0","text-anchor","middle",4,"ngIf"],["dy","-0.5em","x","0","y","5","ngx-charts-count-up","","text-anchor","middle",1,"label","percent-label",3,"countTo","countSuffix"],["dy","-0.5em","x","0","y","5","text-anchor","middle",1,"label","percent-label"],["dy","1.23em","x","0","text-anchor","middle","ngx-charts-count-up","",1,"label",3,"countTo","countPrefix"],["dy","1.23em","x","0","text-anchor","middle",1,"label"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"g",1),i["\u0275\u0275template"](2,Xt,8,19,"g",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](5,be,t.width,t.height))("showLegend",!1)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.series))},directives:function(){return[En,o.NgForOf,po,zn,o.NgIf,oi]},styles:[De,".pie-grid .arc1{opacity:.4}.pie-grid .percent-label{font-size:16px;font-weight:400}"],encapsulation:2,changeDetection:0}),uo.propDecorators={designatedTotal:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],tooltipText:[{type:i.Input}],label:[{type:i.Input}],minWidth:[{type:i.Input}],activeEntries:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}]};class po{constructor(e){this.innerRadius=70,this.outerRadius=80,this.animations=!0,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.element=e.nativeElement}ngOnChanges(e){this.update()}update(){this.layout=(0,m.pie)().value(e=>e.data.value).sort(null),this.arcs=this.getArcs()}getArcs(){return this.layout(this.data).map((e,t)=>{const n=e.data.data.name,i=e.data.data.other;0===t&&(e.startAngle=0);const o=this.colors(n);return{data:e.data.data,class:"arc arc"+t,fill:o,startAngle:i?0:e.startAngle,endAngle:e.endAngle,animate:this.animations&&!i,pointerEvents:!i}})}onClick(e){this.select.emit(this.data[0].data)}trackBy(e,t){return t.data.name}label(e){return e.data.name}color(e){return this.colors(this.label(e))}}po.\u0275fac=function(e){return new(e||po)(i["\u0275\u0275directiveInject"](i.ElementRef))},po.\u0275cmp=i["\u0275\u0275defineComponent"]({type:po,selectors:[["g","ngx-charts-pie-grid-series",""]],inputs:{innerRadius:"innerRadius",outerRadius:"outerRadius",animations:"animations",colors:"colors",data:"data"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-pie-grid-series",""],decls:2,vars:2,consts:[[1,"pie-grid-arcs"],["ngx-charts-pie-arc","",3,"startAngle","endAngle","innerRadius","outerRadius","fill","value","data","gradient","pointerEvents","animate","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-arc","",3,"startAngle","endAngle","innerRadius","outerRadius","fill","value","data","gradient","pointerEvents","animate","select","activate","deactivate"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",0),i["\u0275\u0275template"](1,Wt,1,11,"g",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.arcs)("ngForTrackBy",t.trackBy))},directives:[o.NgForOf,so],encapsulation:2,changeDetection:0}),po.ctorParameters=()=>[{type:i.ElementRef}],po.propDecorators={colors:[{type:i.Input}],data:[{type:i.Input}],innerRadius:[{type:i.Input}],outerRadius:[{type:i.Input}],animations:[{type:i.Input}],select:[{type:i.Output}],activate:[{type:i.Output}],deactivate:[{type:i.Output}]};class ho{constructor(){this.series=[],this.innerRadius=60,this.outerRadius=80,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.dblclick=new i.EventEmitter}ngOnChanges(e){this.update()}update(){const e=(0,m.pie)().value(e=>e.value).sort(null)(this.series);this.max=(0,f.max)(e,e=>e.value),this.data=this.calculateLabelPositions(e),this.tooltipText=this.tooltipText||this.defaultTooltipText}midAngle(e){return e.startAngle+(e.endAngle-e.startAngle)/2}outerArc(){return(0,m.arc)().innerRadius(1.5*this.outerRadius).outerRadius(1.5*this.outerRadius)}calculateLabelPositions(e){const t=e;t.forEach(e=>{e.pos=this.outerArc().centroid(e),e.pos[0]=1.5*this.outerRadius*(this.midAngle(e)<Math.PI?1:-1)});for(let n=0;n<t.length-1;n++){const e=t[n];if(this.labelVisible(e))for(let i=n+1;i<t.length;i++){const n=t[i];if(this.labelVisible(n)&&n.pos[0]*e.pos[0]>0){const t=10-Math.abs(n.pos[1]-e.pos[1]);t>0&&(n.pos[1]+=Math.sign(n.pos[0])*t)}}}return t}labelVisible(e){return this.showLabels&&e.endAngle-e.startAngle>Math.PI/30}getTooltipTitle(e){return this.tooltipTemplate?void 0:this.tooltipText(e)}labelText(e){return this.labelFormatting?this.labelFormatting(e.data.name):this.label(e)}label(e){return Un(e.data.name)}defaultTooltipText(e){const t=this.label(e),n=Un(e.data.value);return`\n      <span class="tooltip-label">${Hn(t)}</span>\n      <span class="tooltip-val">${n}</span>\n    `}color(e){return this.colors.getColor(this.label(e))}trackBy(e,t){return t.data.name}onClick(e){this.select.emit(e)}isActive(e){if(!this.activeEntries)return!1;return void 0!==this.activeEntries.find(t=>e.name===t.name&&e.series===t.series)}}ho.\u0275fac=function(e){return new(e||ho)},ho.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ho,selectors:[["g","ngx-charts-pie-series",""]],inputs:{series:"series",innerRadius:"innerRadius",outerRadius:"outerRadius",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipDisabled:"tooltipDisabled",animations:"animations",tooltipText:"tooltipText",colors:"colors",dims:"dims",explodeSlices:"explodeSlices",showLabels:"showLabels",gradient:"gradient",activeEntries:"activeEntries",labelFormatting:"labelFormatting",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-pie-series",""],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations",4,"ngIf"],["ngx-charts-pie-arc","","ngx-tooltip","",3,"startAngle","endAngle","innerRadius","outerRadius","fill","value","gradient","data","max","explodeSlices","isActive","animate","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate","dblclick"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,Yt,3,19,"g",0),2&e&&i["\u0275\u0275property"]("ngForOf",t.data)("ngForTrackBy",t.trackBy)},directives:[o.NgForOf,o.NgIf,so,zn,ro],encapsulation:2,changeDetection:0}),ho.propDecorators={colors:[{type:i.Input}],series:[{type:i.Input}],dims:[{type:i.Input}],innerRadius:[{type:i.Input}],outerRadius:[{type:i.Input}],explodeSlices:[{type:i.Input}],showLabels:[{type:i.Input}],gradient:[{type:i.Input}],activeEntries:[{type:i.Input}],labelFormatting:[{type:i.Input}],trimLabels:[{type:i.Input}],maxLabelLength:[{type:i.Input}],tooltipText:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],tooltipTemplate:[{type:i.Input}],animations:[{type:i.Input}],select:[{type:i.Output}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],dblclick:[{type:i.Output}]};class mo{}mo.\u0275fac=function(e){return new(e||mo)},mo.\u0275mod=i["\u0275\u0275defineNgModule"]({type:mo}),mo.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[mi]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](mo,{declarations:[oo,ro,so,ao,uo,po,ho],imports:[mi],exports:[oo,ro,so,ao,uo,po,ho]});class fo{}fo.\u0275fac=function(e){return new(e||fo)},fo.\u0275mod=i["\u0275\u0275defineNgModule"]({type:fo}),fo.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[mi,mo,eo]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](fo,{declarations:[no,io],imports:[mi,mo,eo],exports:[no,io]});class go{constructor(e,t,n){this.cd=t,this.zone=n,this.animations=!0,this.select=new i.EventEmitter,this.value="",this.textFontSize=12,this.textTransform="",this.initialized=!1,this.bandHeight=10,this.textPadding=[10,20,5,20],this.labelFontSize=15,this.element=e.nativeElement}ngOnChanges(e){this.update()}ngOnDestroy(){cancelAnimationFrame(this.animationReq)}update(){this.zone.run(()=>{const e=this.data&&void 0!==this.data.value,t=this.valueFormatting||(e=>e.value.toLocaleString()),n=this.labelFormatting||(e=>Hn(Mn(e.label,55)));this.transform=`translate(${this.x} , ${this.y})`,this.textWidth=Math.max(0,this.width)-this.textPadding[1]-this.textPadding[3],this.cardWidth=Math.max(0,this.width),this.cardHeight=Math.max(0,this.height),this.label=this.label?this.label:this.data.name;const i={label:this.label,data:this.data,value:this.data.value};this.formattedLabel=n(i),this.transformBand=`translate(0 , ${this.cardHeight-this.bandHeight})`;const o=e?t(i):"";this.value=this.paddedValue(o),this.setPadding(),this.bandPath=kn(0,0,this.cardWidth,this.bandHeight,3,[!1,!1,!0,!0]),setTimeout(()=>{this.scaleText(),this.value=o,e&&!this.initialized&&setTimeout(()=>this.startCount(),20)},8)})}paddedValue(e){return this.medianSize&&this.medianSize>e.length&&(e+="\u2007".repeat(this.medianSize-e.length)),e}startCount(){if(!this.initialized&&this.animations){cancelAnimationFrame(this.animationReq);const e=this.data.value,t=ii(e),n=this.valueFormatting||(e=>e.value.toLocaleString()),i=({value:t,finished:i})=>{this.zone.run(()=>{t=i?e:t,this.value=n({label:this.label,data:this.data,value:t}),i||(this.value=this.paddedValue(this.value)),this.cd.markForCheck()})};this.animationReq=ni(0,e,t,1,i),this.initialized=!0}}scaleText(){this.zone.run(()=>{const{width:e,height:t}=this.textEl.nativeElement.getBoundingClientRect();if(0===e||0===t)return;const n=this.textPadding[1]=this.textPadding[3]=this.cardWidth/8,i=this.cardWidth-2*n,o=this.cardHeight/3,r=Math.min(i/e,o/t);this.textFontSize=Math.floor(this.textFontSize*r),this.labelFontSize=Math.min(this.textFontSize,15),this.setPadding(),this.cd.markForCheck()})}setPadding(){this.textPadding[1]=this.textPadding[3]=this.cardWidth/8;const e=this.cardHeight/2;this.textPadding[0]=e-this.textFontSize-this.labelFontSize/2,this.textPadding[2]=e-this.labelFontSize}onClick(){this.select.emit(this.data)}}function vo(e){return(0,y.rgb)(e)}function yo(e){const t=(0,y.rgb)(e),{r:n,g:i,b:o,opacity:r}=t;if(0===r)return t.toString();return bo(t,(299*n+587*i+114*o)/1e3>=128?-.8:.8)}function bo({r:e,g:t,b:n},i){const o=i<0?0:255,r=i<0?-1*i:i;return`rgb(${e=Math.round((o-e)*r)+e}, ${t=Math.round((o-t)*r)+t}, ${n=Math.round((o-n)*r)+n})`}go.\u0275fac=function(e){return new(e||go)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](i.NgZone))},go.\u0275cmp=i["\u0275\u0275defineComponent"]({type:go,selectors:[["g","ngx-charts-card",""]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](Qt,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.textEl=e.first)}},inputs:{animations:"animations",label:"label",color:"color",bandColor:"bandColor",textColor:"textColor",x:"x",y:"y",width:"width",height:"height",data:"data",medianSize:"medianSize",valueFormatting:"valueFormatting",labelFormatting:"labelFormatting"},outputs:{select:"select"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-card",""],decls:10,vars:25,consts:[[1,"cell",3,"click"],["rx","3","ry","3",1,"card"],["class","card-band","stroke","none",4,"ngIf"],["x","5","alignment-baseline","hanging",1,"trimmed-label"],[3,"innerHTML"],["text-anchor","start","alignment-baseline","hanging",1,"value-text"],["textEl",""],["stroke","none",1,"card-band"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",0),i["\u0275\u0275listener"]("click",function(){return t.onClick()}),i["\u0275\u0275element"](1,"rect",1),i["\u0275\u0275template"](2,Zt,1,3,"path",2),i["\u0275\u0275elementStart"](3,"title"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"foreignObject",3),i["\u0275\u0275namespaceHTML"](),i["\u0275\u0275element"](6,"p",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](7,"text",5,6),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("fill",t.color),i["\u0275\u0275attribute"]("width",t.cardWidth)("height",t.cardHeight),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.bandColor&&t.bandColor!==t.color),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.label),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("x",t.textPadding[3])("y",t.cardHeight-t.textPadding[2])("width",t.textWidth)("height",t.labelFontSize+t.textPadding[2]),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("color",t.textColor)("font-size",t.labelFontSize,"px")("line-height",t.labelFontSize,"px"),i["\u0275\u0275property"]("innerHTML",t.formattedLabel,i["\u0275\u0275sanitizeHtml"]),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("fill",t.textColor)("font-size",t.textFontSize,"pt"),i["\u0275\u0275attribute"]("x",t.textPadding[3])("y",t.textPadding[0]),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.value," "))},directives:[o.NgIf],encapsulation:2,changeDetection:0}),go.ctorParameters=()=>[{type:i.ElementRef},{type:i.ChangeDetectorRef},{type:i.NgZone}],go.propDecorators={color:[{type:i.Input}],bandColor:[{type:i.Input}],textColor:[{type:i.Input}],x:[{type:i.Input}],y:[{type:i.Input}],width:[{type:i.Input}],height:[{type:i.Input}],label:[{type:i.Input}],data:[{type:i.Input}],medianSize:[{type:i.Input}],valueFormatting:[{type:i.Input}],labelFormatting:[{type:i.Input}],animations:[{type:i.Input}],select:[{type:i.Output}],textEl:[{type:i.ViewChild,args:["textEl",{static:!1}]}]};class xo{constructor(){this.innerPadding=15,this.emptyColor="rgba(0, 0, 0, 0)",this.animations=!0,this.select=new i.EventEmitter}ngOnChanges(e){this.update()}update(){if(this.data.length>2){const e=this.valueFormatting||(e=>e.value.toLocaleString()),t=this.data.map(t=>t&&t.data&&void 0!==t.data.value&&null!==t.data.value?e({data:t.data,label:t?t.data.name:"",value:t&&t.data?t.data.value:""}).length:0).sort((e,t)=>t-e),n=Math.ceil(this.data.length/2);this.medianSize=t[n]}const e=this.getCards();this.cards=e.filter(e=>null!==e.data.value),this.emptySlots=e.filter(e=>null===e.data.value)}getCards(){const e="number"==typeof this.innerPadding?this.innerPadding:this.innerPadding[0]+this.innerPadding[2],t="number"==typeof this.innerPadding?this.innerPadding:this.innerPadding[1]+this.innerPadding[3];return this.data.map((n,i)=>{let o=n.data.name;o=o&&"Date"===o.constructor.name?o.toLocaleDateString():o?o.toLocaleString():o;const r=n.data.value,s=o?this.colors.getColor(o):this.emptyColor,a=this.cardColor||s||"#000";return{x:n.x,y:n.y,width:n.width-t,height:n.height-e,color:a,bandColor:this.bandColor||s,textColor:this.textColor||yo(a),label:o,data:n.data,tooltipText:`${o}: ${r}`}})}trackBy(e,t){return t.label}onClick(e){this.select.emit(e)}}xo.\u0275fac=function(e){return new(e||xo)},xo.\u0275cmp=i["\u0275\u0275defineComponent"]({type:xo,selectors:[["g","ngx-charts-card-series",""]],inputs:{innerPadding:"innerPadding",emptyColor:"emptyColor",animations:"animations",data:"data",slots:"slots",dims:"dims",colors:"colors",cardColor:"cardColor",bandColor:"bandColor",textColor:"textColor",valueFormatting:"valueFormatting",labelFormatting:"labelFormatting"},outputs:{select:"select"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-card-series",""],decls:2,vars:4,consts:[["class","card-empty","rx","3","ry","3",3,"fill",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-card","",3,"x","y","width","height","color","bandColor","textColor","data","label","medianSize","valueFormatting","labelFormatting","animations","select",4,"ngFor","ngForOf","ngForTrackBy"],["rx","3","ry","3",1,"card-empty"],["ngx-charts-card","",3,"x","y","width","height","color","bandColor","textColor","data","label","medianSize","valueFormatting","labelFormatting","animations","select"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,Kt,1,6,"rect",0),i["\u0275\u0275template"](1,Jt,1,13,"g",1)),2&e&&(i["\u0275\u0275property"]("ngForOf",t.emptySlots)("ngForTrackBy",t.trackBy),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.cards)("ngForTrackBy",t.trackBy))},directives:[o.NgForOf,go],encapsulation:2,changeDetection:0}),xo.propDecorators={data:[{type:i.Input}],slots:[{type:i.Input}],dims:[{type:i.Input}],colors:[{type:i.Input}],innerPadding:[{type:i.Input}],cardColor:[{type:i.Input}],bandColor:[{type:i.Input}],emptyColor:[{type:i.Input}],textColor:[{type:i.Input}],valueFormatting:[{type:i.Input}],labelFormatting:[{type:i.Input}],animations:[{type:i.Input}],select:[{type:i.Output}]};class wo extends Tn{constructor(){super(...arguments),this.emptyColor="rgba(0, 0, 0, 0)",this.innerPadding=15,this.margin=[10,10,10,10]}get clickable(){return!!this.select.observers.length}update(){super.update(),this.dims=fi({width:this.width,height:this.height,margins:this.margin}),this.formatDates(),this.domain=this.getDomain(),this.setColors(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`;const e=lo(this.dims,this.results.length,150),t=e[0]*e[1],n=this.results.slice();for(;n.length<t;)n.push({value:null});this.data=co(this.dims,n,150,this.designatedTotal)}getDomain(){return this.results.map(e=>e.label)}onClick(e){this.select.emit(e)}setColors(){this.colors=new vi(this.scheme,"ordinal",this.domain,this.customColors)}}wo.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](wo)))(t||wo)}}(),wo.\u0275cmp=i["\u0275\u0275defineComponent"]({type:wo,selectors:[["ngx-charts-number-card"]],inputs:{emptyColor:"emptyColor",innerPadding:"innerPadding",cardColor:"cardColor",bandColor:"bandColor",textColor:"textColor",valueFormatting:"valueFormatting",labelFormatting:"labelFormatting",designatedTotal:"designatedTotal"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:20,consts:[[3,"view","showLegend","animations"],[1,"number-card","chart"],["ngx-charts-card-series","",3,"colors","cardColor","bandColor","textColor","emptyColor","data","dims","innerPadding","valueFormatting","labelFormatting","animations","select"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"g",1),i["\u0275\u0275elementStart"](2,"g",2),i["\u0275\u0275listener"]("select",function(e){return t.onClick(e)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](17,be,t.width,t.height))("showLegend",!1)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("clickable",t.clickable),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("colors",t.colors)("cardColor",t.cardColor)("bandColor",t.bandColor)("textColor",t.textColor)("emptyColor",t.emptyColor)("data",t.data)("dims",t.dims)("innerPadding",t.innerPadding)("valueFormatting",t.valueFormatting)("labelFormatting",t.labelFormatting)("animations",t.animations))},directives:[En,xo],styles:[De,"ngx-charts-number-card .cell .trimmed-label{font-size:12px;line-height:1em;overflow:hidden;pointer-events:none;text-align:left}ngx-charts-number-card .cell .trimmed-label p{margin:0;overflow:hidden;padding:0;text-overflow:ellipsis;white-space:nowrap;width:100%}ngx-charts-number-card .cell .value-text{pointer-events:none}ngx-charts-number-card .number-card.clickable .cell .card,ngx-charts-number-card .number-card.clickable .cell .card-band{cursor:pointer}"],encapsulation:2,changeDetection:0}),wo.propDecorators={cardColor:[{type:i.Input}],bandColor:[{type:i.Input}],emptyColor:[{type:i.Input}],innerPadding:[{type:i.Input}],textColor:[{type:i.Input}],valueFormatting:[{type:i.Input}],labelFormatting:[{type:i.Input}],designatedTotal:[{type:i.Input}]};class Co{}Co.\u0275fac=function(e){return new(e||Co)},Co.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Co}),Co.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[mi]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](Co,{declarations:[go,xo,wo],imports:[mi],exports:[go,xo,wo]});class _o{constructor(e){this.gradient=!1,this.animations=!0,this.select=new i.EventEmitter,this.initialized=!1,this.element=e.nativeElement}ngOnChanges(){this.update(),this.valueFormatting=this.valueFormatting||(e=>e.toLocaleString());const e=this.labelFormatting||(e=>Hn(Mn(e.label,55))),t={data:this.data,label:this.label,value:this.value};this.formattedValue=this.valueFormatting(t.value),this.formattedLabel=e(t),this.gradientId="grad"+Wn().toString(),this.gradientUrl=`url(#${this.gradientId})`,this.gradientStops=this.getGradientStops()}update(){this.initialized?this.animateToCurrentForm():(this.animations&&this.loadAnimation(),this.initialized=!0)}loadAnimation(){(0,d.select)(this.element).select(".cell").attr("opacity",0).attr("x",this.x).attr("y",this.y),this.animateToCurrentForm()}getTextColor(){return yo(this.fill)}animateToCurrentForm(){const e=(0,d.select)(this.element).select(".cell");this.animations?e.transition().duration(750).attr("opacity",1).attr("x",this.x).attr("y",this.y).attr("width",this.width).attr("height",this.height):e.attr("opacity",1).attr("x",this.x).attr("y",this.y).attr("width",this.width).attr("height",this.height)}onClick(){this.select.emit(this.data)}getGradientStops(){return[{offset:0,color:this.fill,opacity:.3},{offset:100,color:this.fill,opacity:1}]}}_o.\u0275fac=function(e){return new(e||_o)(i["\u0275\u0275directiveInject"](i.ElementRef))},_o.\u0275cmp=i["\u0275\u0275defineComponent"]({type:_o,selectors:[["g","ngx-charts-tree-map-cell",""]],inputs:{gradient:"gradient",animations:"animations",valueFormatting:"valueFormatting",data:"data",fill:"fill",x:"x",y:"y",width:"width",height:"height",label:"label",value:"value",valueType:"valueType",labelFormatting:"labelFormatting"},outputs:{select:"select"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-tree-map-cell",""],decls:4,vars:9,consts:[[4,"ngIf"],[1,"cell",3,"click"],["class","treemap-label",3,"pointer-events",4,"ngIf"],["ngx-charts-svg-linear-gradient","","orientation","vertical",3,"name","stops"],[1,"treemap-label"],[1,"treemap-label",3,"innerHTML"],["class","treemap-val","ngx-charts-count-up","",3,"countTo","valueFormatting",4,"ngIf"],["class","treemap-val",4,"ngIf"],["ngx-charts-count-up","",1,"treemap-val",3,"countTo","valueFormatting"],[1,"treemap-val"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275template"](1,en,2,2,"defs",0),i["\u0275\u0275elementStart"](2,"rect",1),i["\u0275\u0275listener"]("click",function(){return t.onClick()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,on,6,15,"foreignObject",2),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.gradient),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("cursor","pointer"),i["\u0275\u0275attribute"]("fill",t.gradient?t.gradientUrl:t.fill)("width",t.width)("height",t.height)("x",t.x)("y",t.y),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.width>=70&&t.height>=35))},directives:[o.NgIf,Kn,oi],encapsulation:2,changeDetection:0}),_o.ctorParameters=()=>[{type:i.ElementRef}],_o.propDecorators={data:[{type:i.Input}],fill:[{type:i.Input}],x:[{type:i.Input}],y:[{type:i.Input}],width:[{type:i.Input}],height:[{type:i.Input}],label:[{type:i.Input}],value:[{type:i.Input}],valueType:[{type:i.Input}],valueFormatting:[{type:i.Input}],labelFormatting:[{type:i.Input}],gradient:[{type:i.Input}],animations:[{type:i.Input}],select:[{type:i.Output}]};class So{constructor(){this.gradient=!1,this.tooltipDisabled=!1,this.animations=!0,this.select=new i.EventEmitter}ngOnChanges(e){this.cells=this.getCells()}getCells(){return this.data.children.filter(e=>1===e.depth).map((e,t)=>{const n=e.id;return{data:e.data,x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0,fill:this.colors.getColor(n),label:n,value:e.value,valueType:e.valueType}})}getTooltipText({label:e,value:t}){return`\n      <span class="tooltip-label">${Hn(e)}</span>\n      <span class="tooltip-val">${t.toLocaleString()}</span>\n    `}onClick(e){this.select.emit(e)}trackBy(e,t){return t.label}}So.\u0275fac=function(e){return new(e||So)},So.\u0275cmp=i["\u0275\u0275defineComponent"]({type:So,selectors:[["g","ngx-charts-tree-map-cell-series",""]],inputs:{gradient:"gradient",tooltipDisabled:"tooltipDisabled",animations:"animations",data:"data",dims:"dims",colors:"colors",valueFormatting:"valueFormatting",labelFormatting:"labelFormatting",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-tree-map-cell-series",""],decls:1,vars:2,consts:[["ngx-charts-tree-map-cell","","ngx-tooltip","",3,"data","x","y","width","height","fill","label","value","valueType","valueFormatting","labelFormatting","gradient","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-tree-map-cell","","ngx-tooltip","",3,"data","x","y","width","height","fill","label","value","valueType","valueFormatting","labelFormatting","gradient","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,rn,1,19,"g",0),2&e&&i["\u0275\u0275property"]("ngForOf",t.cells)("ngForTrackBy",t.trackBy)},directives:[o.NgForOf,_o,zn],encapsulation:2,changeDetection:0}),So.propDecorators={data:[{type:i.Input}],dims:[{type:i.Input}],colors:[{type:i.Input}],valueFormatting:[{type:i.Input}],labelFormatting:[{type:i.Input}],gradient:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],tooltipTemplate:[{type:i.Input}],animations:[{type:i.Input}],select:[{type:i.Output}]};class Io extends Tn{constructor(){super(...arguments),this.tooltipDisabled=!1,this.gradient=!1,this.select=new i.EventEmitter,this.margin=[10,10,10,10]}update(){super.update(),this.dims=fi({width:this.width,height:this.height,margins:this.margin}),this.domain=this.getDomain(),this.treemap=(0,b.treemap)().size([this.dims.width,this.dims.height]);const e=(0,b.stratify)().id(e=>{let t=e.name;return t="Date"===t.constructor.name?t.toLocaleDateString():t.toLocaleString(),t}).parentId(e=>e.isRoot?null:"root")([{name:"root",value:0,isRoot:!0},...this.results]).sum(e=>e.value);this.data=this.treemap(e),this.setColors(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`}getDomain(){return this.results.map(e=>e.name)}onClick(e){this.select.emit(e)}setColors(){this.colors=new vi(this.scheme,"ordinal",this.domain,this.customColors)}}Io.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Io)))(t||Io)}}(),Io.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Io,selectors:[["ngx-charts-tree-map"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,ue,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first)}},inputs:{tooltipDisabled:"tooltipDisabled",gradient:"gradient",results:"results",valueFormatting:"valueFormatting",labelFormatting:"labelFormatting"},outputs:{select:"select"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:16,consts:[[3,"view","showLegend","animations"],[1,"tree-map","chart"],["ngx-charts-tree-map-cell-series","",3,"colors","data","dims","tooltipDisabled","tooltipTemplate","valueFormatting","labelFormatting","gradient","animations","select"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"g",1),i["\u0275\u0275elementStart"](2,"g",2),i["\u0275\u0275listener"]("select",function(e){return t.onClick(e)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](13,be,t.width,t.height))("showLegend",!1)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("colors",t.colors)("data",t.data)("dims",t.dims)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.tooltipTemplate)("valueFormatting",t.valueFormatting)("labelFormatting",t.labelFormatting)("gradient",t.gradient)("animations",t.animations))},directives:[En,So],styles:[".tree-map .treemap-val{display:inline-block;font-size:1.3em;padding-top:5px}.tree-map .treemap-label p{display:table-cell;line-height:1.2em;text-align:center;vertical-align:middle}"],encapsulation:2,changeDetection:0}),Io.propDecorators={results:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],valueFormatting:[{type:i.Input}],labelFormatting:[{type:i.Input}],gradient:[{type:i.Input}],select:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}]};class Ao{}Ao.\u0275fac=function(e){return new(e||Ao)},Ao.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ao}),Ao.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[mi]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](Ao,{declarations:[_o,So,Io],imports:[mi],exports:[_o,So,Io]});class Eo extends Tn{constructor(){super(...arguments),this.min=0,this.max=100,this.value=0,this.margin=[10,20,10,20],this.valueResizeScale=1,this.unitsResizeScale=1,this.valueTextTransform="",this.valueTranslate="",this.unitsTextTransform="",this.unitsTranslate=""}ngAfterViewInit(){super.ngAfterViewInit(),setTimeout(()=>{this.scaleText("value"),this.scaleText("units")})}update(){super.update(),this.hasPreviousValue=void 0!==this.previousValue,this.max=Math.max(this.max,this.value),this.min=Math.min(this.min,this.value),this.hasPreviousValue&&(this.max=Math.max(this.max,this.previousValue),this.min=Math.min(this.min,this.previousValue)),this.dims=fi({width:this.width,height:this.height,margins:this.margin}),this.valueDomain=this.getValueDomain(),this.valueScale=this.getValueScale(),this.displayValue=this.getDisplayValue(),this.setColors();const e=this.margin[3]+this.dims.width/2,t=this.margin[0]+this.dims.height/2;this.transform=`translate(${e}, ${t})`,this.transformLine=`translate(${this.margin[3]+this.valueScale(this.previousValue)}, ${t})`,this.valueTranslate="translate(0, -15)",this.unitsTranslate="translate(0, 15)",setTimeout(()=>this.scaleText("value"),50),setTimeout(()=>this.scaleText("units"),50)}getValueDomain(){return[this.min,this.max]}getValueScale(){return(0,p.scaleLinear)().range([0,this.dims.width]).domain(this.valueDomain)}getDisplayValue(){return this.valueFormatting?this.valueFormatting(this.value):this.value.toLocaleString()}scaleText(e,t=!0){let n,i;"value"===e?(n=this.valueTextEl,i=this.valueResizeScale):(n=this.unitsTextEl,i=this.unitsResizeScale);const{width:o,height:r}=n.nativeElement.getBoundingClientRect();if(0===o||0===r)return;const s=i,a=this.dims.width,l=Math.max(this.dims.height/2-15,0),c=Math.floor(a/(o/i)*100)/100,d=Math.floor(l/(r/i)*100)/100;i=Math.min(d,c),i!==s&&("value"===e?(this.valueResizeScale=i,this.valueTextTransform=`scale(${i}, ${i})`):(this.unitsResizeScale=i,this.unitsTextTransform=`scale(${i}, ${i})`),this.cd.markForCheck(),t&&setTimeout(()=>{this.scaleText(e,!1)},50))}onClick(){this.select.emit({name:"Value",value:this.value})}setColors(){this.colors=new vi(this.scheme,"ordinal",[this.value],this.customColors)}}Eo.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Eo)))(t||Eo)}}(),Eo.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Eo,selectors:[["ngx-charts-linear-gauge"]],viewQuery:function(e,t){if(1&e&&(i["\u0275\u0275viewQuery"](sn,5),i["\u0275\u0275viewQuery"](an,5)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.valueTextEl=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.unitsTextEl=e.first)}},inputs:{min:"min",max:"max",value:"value",units:"units",previousValue:"previousValue",valueFormatting:"valueFormatting"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:15,vars:38,consts:[[3,"view","showLegend","animations","click"],[1,"linear-gauge","chart"],["ngx-charts-bar","",1,"background-bar",3,"width","height","x","y","data","orientation","roundEdges","animations"],["ngx-charts-bar","",3,"width","height","x","y","fill","data","orientation","roundEdges","animations"],["x1","0","y1","5","x2","0","y2","15",4,"ngIf"],["x1","0","y1","-5","x2","0","y2","-15",4,"ngIf"],["alignment-baseline","after-edge",1,"value"],["valueTextEl",""],["alignment-baseline","before-edge",1,"units"],["unitsTextEl",""],["x1","0","y1","5","x2","0","y2","15"],["x1","0","y1","-5","x2","0","y2","-15"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("click",function(){return t.onClick()}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"g",1),i["\u0275\u0275element"](2,"g",2),i["\u0275\u0275element"](3,"g",3),i["\u0275\u0275template"](4,ln,1,2,"line",4),i["\u0275\u0275template"](5,cn,1,2,"line",5),i["\u0275\u0275elementStart"](6,"g"),i["\u0275\u0275elementStart"](7,"g"),i["\u0275\u0275elementStart"](8,"text",6,7),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"g"),i["\u0275\u0275elementStart"](12,"text",8,9),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](33,be,t.width,t.height))("showLegend",!1)("animations",t.animations),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("width",t.dims.width)("height",3)("x",t.margin[3])("y",t.dims.height/2+t.margin[0]-2)("data",i["\u0275\u0275pureFunction0"](36,dn))("orientation","horizontal")("roundEdges",!0)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("width",t.valueScale(t.value))("height",3)("x",t.margin[3])("y",t.dims.height/2+t.margin[0]-2)("fill",t.colors.getColor(t.units))("data",i["\u0275\u0275pureFunction0"](37,dn))("orientation","horizontal")("roundEdges",!0)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.hasPreviousValue),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.hasPreviousValue),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.valueTranslate),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("text-anchor","middle"),i["\u0275\u0275attribute"]("transform",t.valueTextTransform),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.displayValue," "),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.unitsTranslate),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("text-anchor","middle"),i["\u0275\u0275attribute"]("transform",t.unitsTextTransform),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.units," "))},directives:[En,Di,o.NgIf],styles:[De,".linear-gauge{cursor:pointer}.linear-gauge .background-bar path{fill:rgba(0,0,0,.05)}.linear-gauge .units{fill:#666}"],encapsulation:2,changeDetection:0}),Eo.propDecorators={min:[{type:i.Input}],max:[{type:i.Input}],value:[{type:i.Input}],units:[{type:i.Input}],previousValue:[{type:i.Input}],valueFormatting:[{type:i.Input}],valueTextEl:[{type:i.ViewChild,args:["valueTextEl"]}],unitsTextEl:[{type:i.ViewChild,args:["unitsTextEl"]}]};class Do extends Tn{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.min=0,this.max=100,this.bigSegments=10,this.smallSegments=5,this.showAxis=!0,this.startAngle=-120,this.angleSpan=240,this.activeEntries=[],this.tooltipDisabled=!1,this.showText=!0,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.resizeScale=1,this.rotation="",this.textTransform="scale(1, 1)",this.cornerRadius=10}ngAfterViewInit(){super.ngAfterViewInit(),setTimeout(()=>this.scaleText())}update(){super.update(),this.showAxis?this.margin||(this.margin=[60,100,60,100]):this.margin||(this.margin=[10,20,10,20]),this.startAngle<0&&(this.startAngle=this.startAngle%360+360),this.angleSpan=Math.min(this.angleSpan,360),this.dims=fi({width:this.width,height:this.height,margins:this.margin,showLegend:this.legend,legendPosition:this.legendPosition}),this.domain=this.getDomain(),this.valueDomain=this.getValueDomain(),this.valueScale=this.getValueScale(),this.displayValue=this.getDisplayValue(),this.outerRadius=Math.min(this.dims.width,this.dims.height)/2,this.arcs=this.getArcs(),this.setColors(),this.legendOptions=this.getLegendOptions();const e=this.margin[3]+this.dims.width/2,t=this.margin[0]+this.dims.height/2;this.transform=`translate(${e}, ${t})`,this.rotation=`rotate(${this.startAngle})`,setTimeout(()=>this.scaleText(),50)}getArcs(){const e=[],t=.7*this.outerRadius,n=Math.min(t/this.results.length,10),i=.7*n;this.textRadius=this.outerRadius-this.results.length*n,this.cornerRadius=Math.floor(i/2);let o=0;for(const r of this.results){const t=this.outerRadius-o*n,s=t-i,a={backgroundArc:{endAngle:this.angleSpan*Math.PI/180,innerRadius:s,outerRadius:t,data:{value:this.max,name:r.name}},valueArc:{endAngle:Math.min(this.valueScale(r.value),this.angleSpan)*Math.PI/180,innerRadius:s,outerRadius:t,data:{value:r.value,name:r.name}}};e.push(a),o++}return e}getDomain(){return this.results.map(e=>e.name)}getValueDomain(){const e=this.results.map(e=>e.value),t=Math.min(...e),n=Math.max(...e);return void 0!==this.min?this.min=Math.min(this.min,t):this.min=t,void 0!==this.max?this.max=Math.max(this.max,n):this.max=n,[this.min,this.max]}getValueScale(){return(0,p.scaleLinear)().range([0,this.angleSpan]).nice().domain(this.valueDomain)}getDisplayValue(){const e=this.results.map(e=>e.value).reduce((e,t)=>e+t,0);return this.textValue&&0!==this.textValue.length?this.textValue.toLocaleString():this.valueFormatting?this.valueFormatting(e):e.toLocaleString()}scaleText(e=!0){if(!this.showText)return;const{width:t}=this.textEl.nativeElement.getBoundingClientRect(),n=this.resizeScale;if(0===t)this.resizeScale=1;else{const e=this.textRadius;this.resizeScale=Math.floor(e/(t/this.resizeScale)*100)/100}this.resizeScale!==n&&(this.textTransform=`scale(${this.resizeScale}, ${this.resizeScale})`,this.cd.markForCheck(),e&&setTimeout(()=>this.scaleText(!1),50))}onClick(e){this.select.emit(e)}getLegendOptions(){return{scaleType:"ordinal",colors:this.colors,domain:this.domain,title:this.legendTitle,position:this.legendPosition}}setColors(){this.colors=new vi(this.scheme,"ordinal",this.domain,this.customColors)}onActivate(e){this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){const t=this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value);this.activeEntries.splice(t,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}isActive(e){if(!this.activeEntries)return!1;return void 0!==this.activeEntries.find(t=>e.name===t.name&&e.series===t.series)}trackBy(e,t){return t.valueArc.data.name}}Do.\u0275fac=function(){let e;return function(t){return(e||(e=i["\u0275\u0275getInheritedFactory"](Do)))(t||Do)}}(),Do.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Do,selectors:[["ngx-charts-gauge"]],contentQueries:function(e,t,n){if(1&e&&i["\u0275\u0275contentQuery"](n,ue,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](Qt,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.textEl=e.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",min:"min",max:"max",bigSegments:"bigSegments",smallSegments:"smallSegments",showAxis:"showAxis",startAngle:"startAngle",angleSpan:"angleSpan",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",showText:"showText",margin:"margin",textValue:"textValue",units:"units",results:"results",axisTickFormatting:"axisTickFormatting",valueFormatting:"valueFormatting"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:13,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"gauge","chart"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-gauge-axis","",3,"bigSegments","smallSegments","min","max","radius","angleSpan","valueScale","startAngle","tickFormatting",4,"ngIf"],["alignment-baseline","central",3,"textAnchor",4,"ngIf"],["ngx-charts-gauge-arc","",3,"backgroundArc","valueArc","cornerRadius","colors","isActive","tooltipDisabled","tooltipTemplate","valueFormatting","animations","select","activate","deactivate"],["ngx-charts-gauge-axis","",3,"bigSegments","smallSegments","min","max","radius","angleSpan","valueScale","startAngle","tickFormatting"],["alignment-baseline","central"],["textEl",""],["x","0","dy","0"],["x","0","dy","1.2em"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelClick",function(e){return t.onClick(e)})("legendLabelActivate",function(e){return t.onActivate(e)})("legendLabelDeactivate",function(e){return t.onDeactivate(e)}),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"g",1),i["\u0275\u0275template"](2,un,2,10,"g",2),i["\u0275\u0275template"](3,pn,1,9,"g",3),i["\u0275\u0275template"](4,hn,6,5,"text",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](10,be,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("transform",t.transform),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.arcs)("ngForTrackBy",t.trackBy),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showAxis),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showText))},directives:function(){return[En,o.NgForOf,o.NgIf,To,Ro]},styles:[De,".gauge .background-arc path{fill:rgba(0,0,0,.05)}.gauge .gauge-tick path{stroke:#666}.gauge .gauge-tick text{fill:#666;font-size:12px;font-weight:700}.gauge .gauge-tick-large path{stroke-width:2px}.gauge .gauge-tick-small path{stroke-width:1px}"],encapsulation:2,changeDetection:0}),Do.propDecorators={legend:[{type:i.Input}],legendTitle:[{type:i.Input}],legendPosition:[{type:i.Input}],min:[{type:i.Input}],max:[{type:i.Input}],textValue:[{type:i.Input}],units:[{type:i.Input}],bigSegments:[{type:i.Input}],smallSegments:[{type:i.Input}],results:[{type:i.Input}],showAxis:[{type:i.Input}],startAngle:[{type:i.Input}],angleSpan:[{type:i.Input}],activeEntries:[{type:i.Input}],axisTickFormatting:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],valueFormatting:[{type:i.Input}],showText:[{type:i.Input}],margin:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],tooltipTemplate:[{type:i.ContentChild,args:["tooltipTemplate"]}],textEl:[{type:i.ViewChild,args:["textEl"]}]};class To{constructor(){this.isActive=!1,this.tooltipDisabled=!1,this.animations=!0,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter}tooltipText(e){const t=Un(e.data.name);let n;return n=this.valueFormatting?this.valueFormatting(e.data.value):Un(e.data.value),`\n      <span class="tooltip-label">${Hn(t)}</span>\n      <span class="tooltip-val">${n}</span>\n    `}}To.\u0275fac=function(e){return new(e||To)},To.\u0275cmp=i["\u0275\u0275defineComponent"]({type:To,selectors:[["g","ngx-charts-gauge-arc",""]],inputs:{isActive:"isActive",tooltipDisabled:"tooltipDisabled",animations:"animations",backgroundArc:"backgroundArc",valueArc:"valueArc",cornerRadius:"cornerRadius",colors:"colors",valueFormatting:"valueFormatting",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},attrs:["ngx-charts-gauge-arc",""],decls:2,vars:23,consts:[["ngx-charts-pie-arc","",1,"background-arc",3,"startAngle","endAngle","innerRadius","outerRadius","cornerRadius","data","animate","pointerEvents"],["ngx-charts-pie-arc","","ngx-tooltip","",3,"startAngle","endAngle","innerRadius","outerRadius","cornerRadius","fill","data","animate","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"g",0),i["\u0275\u0275elementStart"](1,"g",1),i["\u0275\u0275listener"]("select",function(e){return t.select.emit(e)})("activate",function(e){return t.activate.emit(e)})("deactivate",function(e){return t.deactivate.emit(e)}),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("startAngle",0)("endAngle",t.backgroundArc.endAngle)("innerRadius",t.backgroundArc.innerRadius)("outerRadius",t.backgroundArc.outerRadius)("cornerRadius",t.cornerRadius)("data",t.backgroundArc.data)("animate",!1)("pointerEvents",!1),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("startAngle",0)("endAngle",t.valueArc.endAngle)("innerRadius",t.valueArc.innerRadius)("outerRadius",t.valueArc.outerRadius)("cornerRadius",t.cornerRadius)("fill",t.colors.getColor(t.valueArc.data.name))("data",t.valueArc.data)("animate",t.animations)("isActive",t.isActive)("tooltipDisabled",t.tooltipDisabled)("tooltipPlacement","top")("tooltipType","tooltip")("tooltipTitle",t.tooltipTemplate?void 0:t.tooltipText(t.valueArc))("tooltipTemplate",t.tooltipTemplate)("tooltipContext",t.valueArc.data))},directives:[so,zn],encapsulation:2,changeDetection:0}),To.propDecorators={backgroundArc:[{type:i.Input}],valueArc:[{type:i.Input}],cornerRadius:[{type:i.Input}],colors:[{type:i.Input}],isActive:[{type:i.Input}],tooltipDisabled:[{type:i.Input}],valueFormatting:[{type:i.Input}],tooltipTemplate:[{type:i.Input}],animations:[{type:i.Input}],select:[{type:i.Output}],activate:[{type:i.Output}],deactivate:[{type:i.Output}]};class Ro{constructor(){this.rotate=""}ngOnChanges(e){this.update()}update(){this.rotationAngle=-90+this.startAngle,this.rotate=`rotate(${this.rotationAngle})`,this.ticks=this.getTicks()}getTicks(){const e=this.angleSpan/this.bigSegments,t=e/this.smallSegments,n={big:[],small:[]},i=this.radius+10,o=i+20+10;for(let r=0;r<=this.bigSegments;r++){const s=r*e,a=s*Math.PI/180,l=this.getTextAnchor(s);let c=!1;if(0===r&&360===this.angleSpan&&(c=!0),!c){let e=Number.parseFloat(this.valueScale.invert(s).toString()).toLocaleString();this.tickFormatting&&(e=this.tickFormatting(e)),n.big.push({line:this.getTickPath(i,20,a),textAnchor:l,text:e,textTransform:`\n            translate(${o*Math.cos(a)}, ${o*Math.sin(a)}) rotate(${-this.rotationAngle})\n          `})}if(r!==this.bigSegments)for(let e=1;e<=this.smallSegments;e++){const o=(s+e*t)*Math.PI/180;n.small.push({line:this.getTickPath(i,10,o)})}}return n}getTextAnchor(e){let t="middle";return(e=(this.startAngle+e)%360)>45&&e<=135?t="start":e>225&&e<=315&&(t="end"),t}getTickPath(e,t,n){const i=e*Math.sin(n),o=(e+t)*Math.sin(n),r=[{x:e*Math.cos(n),y:i},{x:(e+t)*Math.cos(n),y:o}];return(0,m.line)().x(e=>e.x).y(e=>e.y)(r)}}Ro.\u0275fac=function(e){return new(e||Ro)},Ro.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ro,selectors:[["g","ngx-charts-gauge-axis",""]],inputs:{bigSegments:"bigSegments",smallSegments:"smallSegments",min:"min",max:"max",angleSpan:"angleSpan",startAngle:"startAngle",radius:"radius",valueScale:"valueScale",tickFormatting:"tickFormatting"},features:[i["\u0275\u0275NgOnChangesFeature"]],attrs:["ngx-charts-gauge-axis",""],decls:4,vars:4,consts:[["class","gauge-tick gauge-tick-large",4,"ngFor","ngForOf"],["class","gauge-tick gauge-tick-small",4,"ngFor","ngForOf"],[1,"gauge-tick","gauge-tick-large"],["alignment-baseline","central"],[1,"gauge-tick","gauge-tick-small"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g"),i["\u0275\u0275template"](1,mn,2,1,"g",0),i["\u0275\u0275template"](2,fn,3,4,"g",0),i["\u0275\u0275template"](3,gn,2,1,"g",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275attribute"]("transform",t.rotate),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.ticks.big),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.ticks.big),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.ticks.small))},directives:[o.NgForOf],encapsulation:2,changeDetection:0}),Ro.propDecorators={bigSegments:[{type:i.Input}],smallSegments:[{type:i.Input}],min:[{type:i.Input}],max:[{type:i.Input}],angleSpan:[{type:i.Input}],startAngle:[{type:i.Input}],radius:[{type:i.Input}],valueScale:[{type:i.Input}],tickFormatting:[{type:i.Input}]};class Mo{}Mo.\u0275fac=function(e){return new(e||Mo)},Mo.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Mo}),Mo.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[mi,mo,Gi]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](Mo,{declarations:[Eo,Do,To,Ro],imports:[mi,mo,Gi],exports:[Eo,Do,To,Ro]});class Oo{constructor(){"undefined"!=typeof SVGElement&&void 0===SVGElement.prototype.contains&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}}function Po(e,t){return function(n){if("No Value"===n||"Other"===n)return n;if("date"===e&&"groupBy"===t){return(0,x.timeFormat)("MM/DD/YYYY")(n)}return n.toString()}}Oo.\u0275fac=function(e){return new(e||Oo)},Oo.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Oo}),Oo.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[mi,Ei,Gi,Xi,Qi,eo,fo,Co,mo,Ao,Mo]}),Oo.ctorParameters=()=>[],("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](Oo,{exports:[mi,Ei,Gi,Xi,Qi,eo,fo,Co,mo,Ao,Mo]})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/array.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{slice:()=>o,map:()=>r});var i=Array.prototype,o=i.slice,r=i.map},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/ascending.js":(e,t,n)=>{"use strict";function i(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/bin.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/array.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/bisect.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/constant.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/extent.js"),a=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/identity.js"),l=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/nice.js"),c=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/ticks.js"),d=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/threshold/sturges.js");function u(){var e=a.default,t=s.default,n=d.default;function u(i){Array.isArray(i)||(i=Array.from(i));var r,a,d=i.length,u=new Array(d);for(r=0;r<d;++r)u[r]=e(i[r],r,i);var p=t(u),h=p[0],m=p[1],f=n(u,h,m);if(!Array.isArray(f)){const e=m,n=+f;if(t===s.default&&([h,m]=(0,l.default)(h,m,n)),(f=(0,c.default)(h,m,n))[f.length-1]>=m)if(e>=m&&t===s.default){const e=(0,c.tickIncrement)(h,m,n);isFinite(e)&&(e>0?m=(Math.floor(m/e)+1)*e:e<0&&(m=(Math.ceil(m*-e)+1)/-e))}else f.pop()}for(var g=f.length;f[0]<=h;)f.shift(),--g;for(;f[g-1]>m;)f.pop(),--g;var v,y=new Array(g+1);for(r=0;r<=g;++r)(v=y[r]=[]).x0=r>0?f[r-1]:h,v.x1=r<g?f[r]:m;for(r=0;r<d;++r)h<=(a=u[r])&&a<=m&&y[(0,o.default)(f,a,0,g)].push(i[r]);return y}return u.value=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.default)(t),u):e},u.domain=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.default)([e[0],e[1]]),u):t},u.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?(0,r.default)(i.slice.call(e)):(0,r.default)(e),u):n},u}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/bisect.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{bisectRight:()=>a,bisectLeft:()=>l,bisectCenter:()=>c,default:()=>d});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/ascending.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/bisector.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/number.js");const s=(0,o.default)(i.default),a=s.right,l=s.left,c=(0,o.default)(r.default).center,d=a},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/bisector.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/ascending.js");function o(e){let t=e,n=e;function o(e,t,i,o){for(null==i&&(i=0),null==o&&(o=e.length);i<o;){const r=i+o>>>1;n(e[r],t)<0?i=r+1:o=r}return i}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>(0,i.default)(e(t),n)}(e)),{left:o,center:function(e,n,i,r){null==i&&(i=0),null==r&&(r=e.length);const s=o(e,n,i,r-1);return s>i&&t(e[s-1],n)>-t(e[s],n)?s-1:s},right:function(e,t,i,o){for(null==i&&(i=0),null==o&&(o=e.length);i<o;){const r=i+o>>>1;n(e[r],t)>0?o=r:i=r+1}return i}}}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/constant.js":(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/count.js":(e,t,n)=>{"use strict";function i(e,t){let n=0;if(void 0===t)for(let i of e)null!=i&&(i=+i)>=i&&++n;else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(o=+o)>=o&&++n}return n}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/cross.js":(e,t,n)=>{"use strict";function i(e){return 0|e.length}function o(e){return!(e>0)}function r(e){return"object"!=typeof e||"length"in e?e:Array.from(e)}function s(...e){const t="function"==typeof e[e.length-1]&&function(e){return t=>e(...t)}(e.pop()),n=(e=e.map(r)).map(i),s=e.length-1,a=new Array(s+1).fill(0),l=[];if(s<0||n.some(o))return l;for(;;){l.push(a.map((t,n)=>e[n][t]));let i=s;for(;++a[i]===n[i];){if(0===i)return t?l.map(t):l;a[i--]=0}}}n.r(t),n.d(t,{default:()=>s})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/cumsum.js":(e,t,n)=>{"use strict";function i(e,t){var n=0,i=0;return Float64Array.from(e,void 0===t?e=>n+=+e||0:o=>n+=+t(o,i++,e)||0)}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/descending.js":(e,t,n)=>{"use strict";function i(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/deviation.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/variance.js");function o(e,t){const n=(0,i.default)(e,t);return n?Math.sqrt(n):n}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/difference.js":(e,t,n)=>{"use strict";function i(e,...t){e=new Set(e);for(const n of t)for(const t of n)e.delete(t);return e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/disjoint.js":(e,t,n)=>{"use strict";function i(e,t){const n=t[Symbol.iterator](),i=new Set;for(const o of e){if(i.has(o))return!1;let e,t;for(;({value:e,done:t}=n.next())&&!t;){if(Object.is(o,e))return!1;i.add(e)}}return!0}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/every.js":(e,t,n)=>{"use strict";function i(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const i of e)if(!t(i,++n,e))return!1;return!0}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/extent.js":(e,t,n)=>{"use strict";function i(e,t){let n,i;if(void 0===t)for(const o of e)null!=o&&(void 0===n?o>=o&&(n=i=o):(n>o&&(n=o),i<o&&(i=o)));else{let o=-1;for(let r of e)null!=(r=t(r,++o,e))&&(void 0===n?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)))}return[n,i]}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/filter.js":(e,t,n)=>{"use strict";function i(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");const n=[];let i=-1;for(const o of e)t(o,++i,e)&&n.push(o);return n}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/fsum.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Adder:()=>i,fsum:()=>o,fcumsum:()=>r});class i{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const o=t[i],r=e+o,s=Math.abs(e)<Math.abs(o)?e-(r-o):o-(r-e);s&&(t[n++]=s),e=r}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,i,o=this._n,r=0;if(o>0){for(r=e[--o];o>0&&(t=r,n=e[--o],r=t+n,i=n-(r-t),!i););o>0&&(i<0&&e[o-1]<0||i>0&&e[o-1]>0)&&(n=2*i,t=r+n,n==t-r&&(r=t))}return r}}function o(e,t){const n=new i;if(void 0===t)for(let i of e)(i=+i)&&n.add(i);else{let i=-1;for(let o of e)(o=+t(o,++i,e))&&n.add(o)}return+n}function r(e,t){const n=new i;let o=-1;return Float64Array.from(e,void 0===t?e=>n.add(+e||0):i=>n.add(+t(i,++o,e)||0))}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/greatest.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/ascending.js");function o(e,t=i.default){let n,o=!1;if(1===t.length){let r;for(const s of e){const e=t(s);(o?(0,i.default)(e,r)>0:0===(0,i.default)(e,e))&&(n=s,r=e,o=!0)}}else for(const i of e)(o?t(i,n)>0:0===t(i,i))&&(n=i,o=!0);return n}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/greatestIndex.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/ascending.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/maxIndex.js");function r(e,t=i.default){if(1===t.length)return(0,o.default)(e,t);let n,r=-1,s=-1;for(const i of e)++s,(r<0?0===t(i,i):t(i,n)>0)&&(n=i,r=s);return r}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/group.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r,groups:()=>s,rollup:()=>a,rollups:()=>l,index:()=>c,indexes:()=>d});var i=n("./node_modules/internmap/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/identity.js");function r(e,...t){return p(e,o.default,o.default,t)}function s(e,...t){return p(e,Array.from,o.default,t)}function a(e,t,...n){return p(e,o.default,t,n)}function l(e,t,...n){return p(e,Array.from,t,n)}function c(e,...t){return p(e,o.default,u,t)}function d(e,...t){return p(e,Array.from,u,t)}function u(e){if(1!==e.length)throw new Error("duplicate key");return e[0]}function p(e,t,n,o){return function e(r,s){if(s>=o.length)return n(r);const a=new i.InternMap,l=o[s++];let c=-1;for(const t of r){const e=l(t,++c,r),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[t,n]of a)a.set(t,e(n,s));return t(a)}(e,0)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/groupSort.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/ascending.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/group.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/sort.js");function s(e,t,n){return(1===t.length?(0,r.default)((0,o.rollup)(e,t,n),([e,t],[n,o])=>(0,i.default)(t,o)||(0,i.default)(e,n)):(0,r.default)((0,o.default)(e,n),([e,n],[o,r])=>t(n,r)||(0,i.default)(e,o))).map(([e])=>e)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/identity.js":(e,t,n)=>{"use strict";function i(e){return e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{bisect:()=>i.default,bisectRight:()=>i.bisectRight,bisectLeft:()=>i.bisectLeft,bisectCenter:()=>i.bisectCenter,ascending:()=>o.default,bisector:()=>r.default,count:()=>s.default,cross:()=>a.default,cumsum:()=>l.default,descending:()=>c.default,deviation:()=>d.default,extent:()=>u.default,Adder:()=>p.Adder,fsum:()=>p.fsum,fcumsum:()=>p.fcumsum,group:()=>h.default,groups:()=>h.groups,index:()=>h.index,indexes:()=>h.indexes,rollup:()=>h.rollup,rollups:()=>h.rollups,groupSort:()=>m.default,bin:()=>f.default,histogram:()=>f.default,thresholdFreedmanDiaconis:()=>g.default,thresholdScott:()=>v.default,thresholdSturges:()=>y.default,max:()=>b.default,maxIndex:()=>x.default,mean:()=>w.default,median:()=>C.default,merge:()=>_.default,min:()=>S.default,minIndex:()=>I.default,nice:()=>A.default,pairs:()=>E.default,permute:()=>D.default,quantile:()=>T.default,quantileSorted:()=>T.quantileSorted,quickselect:()=>R.default,range:()=>M.default,least:()=>O.default,leastIndex:()=>P.default,greatest:()=>F.default,greatestIndex:()=>k.default,scan:()=>N.default,shuffle:()=>j.default,shuffler:()=>j.shuffler,sum:()=>L.default,ticks:()=>V.default,tickIncrement:()=>V.tickIncrement,tickStep:()=>V.tickStep,transpose:()=>B.default,variance:()=>G.default,zip:()=>z.default,every:()=>$.default,some:()=>U.default,filter:()=>H.default,map:()=>X.default,reduce:()=>W.default,reverse:()=>q.default,sort:()=>Y.default,difference:()=>Q.default,disjoint:()=>Z.default,intersection:()=>K.default,subset:()=>J.default,superset:()=>ee.default,union:()=>te.default,InternMap:()=>ne.InternMap,InternSet:()=>ne.InternSet});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/bisect.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/ascending.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/bisector.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/count.js"),a=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/cross.js"),l=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/cumsum.js"),c=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/descending.js"),d=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/deviation.js"),u=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/extent.js"),p=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/fsum.js"),h=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/group.js"),m=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/groupSort.js"),f=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/bin.js"),g=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/threshold/freedmanDiaconis.js"),v=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/threshold/scott.js"),y=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/threshold/sturges.js"),b=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/max.js"),x=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/maxIndex.js"),w=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/mean.js"),C=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/median.js"),_=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/merge.js"),S=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/min.js"),I=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/minIndex.js"),A=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/nice.js"),E=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/pairs.js"),D=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/permute.js"),T=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/quantile.js"),R=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/quickselect.js"),M=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/range.js"),O=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/least.js"),P=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/leastIndex.js"),F=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/greatest.js"),k=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/greatestIndex.js"),N=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/scan.js"),j=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/shuffle.js"),L=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/sum.js"),V=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/ticks.js"),B=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/transpose.js"),G=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/variance.js"),z=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/zip.js"),$=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/every.js"),U=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/some.js"),H=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/filter.js"),X=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/map.js"),W=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/reduce.js"),q=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/reverse.js"),Y=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/sort.js"),Q=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/difference.js"),Z=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/disjoint.js"),K=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/intersection.js"),J=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/subset.js"),ee=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/superset.js"),te=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/union.js"),ne=n("./node_modules/internmap/src/index.js")},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/intersection.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/set.js");function o(e,...t){e=new Set(e),t=t.map(i.default);e:for(const n of e)for(const i of t)if(!i.has(n)){e.delete(n);continue e}return e}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/least.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/ascending.js");function o(e,t=i.default){let n,o=!1;if(1===t.length){let r;for(const s of e){const e=t(s);(o?(0,i.default)(e,r)<0:0===(0,i.default)(e,e))&&(n=s,r=e,o=!0)}}else for(const i of e)(o?t(i,n)<0:0===t(i,i))&&(n=i,o=!0);return n}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/leastIndex.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/ascending.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/minIndex.js");function r(e,t=i.default){if(1===t.length)return(0,o.default)(e,t);let n,r=-1,s=-1;for(const i of e)++s,(r<0?0===t(i,i):t(i,n)<0)&&(n=i,r=s);return r}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/map.js":(e,t,n)=>{"use strict";function i(e,t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof t)throw new TypeError("mapper is not a function");return Array.from(e,(n,i)=>t(n,i,e))}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/max.js":(e,t,n)=>{"use strict";function i(e,t){let n;if(void 0===t)for(const i of e)null!=i&&(n<i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/maxIndex.js":(e,t,n)=>{"use strict";function i(e,t){let n,i=-1,o=-1;if(void 0===t)for(const r of e)++o,null!=r&&(n<r||void 0===n&&r>=r)&&(n=r,i=o);else for(let r of e)null!=(r=t(r,++o,e))&&(n<r||void 0===n&&r>=r)&&(n=r,i=o);return i}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/mean.js":(e,t,n)=>{"use strict";function i(e,t){let n=0,i=0;if(void 0===t)for(let o of e)null!=o&&(o=+o)>=o&&(++n,i+=o);else{let o=-1;for(let r of e)null!=(r=t(r,++o,e))&&(r=+r)>=r&&(++n,i+=r)}if(n)return i/n}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/median.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/quantile.js");function o(e,t){return(0,i.default)(e,.5,t)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/merge.js":(e,t,n)=>{"use strict";function i(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/min.js":(e,t,n)=>{"use strict";function i(e,t){let n;if(void 0===t)for(const i of e)null!=i&&(n>i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/minIndex.js":(e,t,n)=>{"use strict";function i(e,t){let n,i=-1,o=-1;if(void 0===t)for(const r of e)++o,null!=r&&(n>r||void 0===n&&r>=r)&&(n=r,i=o);else for(let r of e)null!=(r=t(r,++o,e))&&(n>r||void 0===n&&r>=r)&&(n=r,i=o);return i}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/nice.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/ticks.js");function o(e,t,n){let o;for(;;){const r=(0,i.tickIncrement)(e,t,n);if(r===o||0===r||!isFinite(r))return[e,t];r>0?(e=Math.floor(e/r)*r,t=Math.ceil(t/r)*r):r<0&&(e=Math.ceil(e*r)/r,t=Math.floor(t*r)/r),o=r}}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/number.js":(e,t,n)=>{"use strict";function i(e){return null===e?NaN:+e}function*o(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(i=+i)>=i&&(yield i)}}n.r(t),n.d(t,{default:()=>i,numbers:()=>o})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/pairs.js":(e,t,n)=>{"use strict";function i(e,t=o){const n=[];let i,r=!1;for(const o of e)r&&n.push(t(i,o)),i=o,r=!0;return n}function o(e,t){return[e,t]}n.r(t),n.d(t,{default:()=>i,pair:()=>o})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/permute.js":(e,t,n)=>{"use strict";function i(e,t){return Array.from(t,t=>e[t])}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/quantile.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a,quantileSorted:()=>l});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/max.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/min.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/quickselect.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/number.js");function a(e,t,n){if(a=(e=Float64Array.from((0,s.numbers)(e,n))).length){if((t=+t)<=0||a<2)return(0,o.default)(e);if(t>=1)return(0,i.default)(e);var a,l=(a-1)*t,c=Math.floor(l),d=(0,i.default)((0,r.default)(e,c).subarray(0,c+1));return d+((0,o.default)(e.subarray(c+1))-d)*(l-c)}}function l(e,t,n=s.default){if(i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,o=(i-1)*t,r=Math.floor(o),a=+n(e[r],r,e);return a+(+n(e[r+1],r+1,e)-a)*(o-r)}}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/quickselect.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/ascending.js");function o(e,t,n=0,s=e.length-1,a=i.default){for(;s>n;){if(s-n>600){const i=s-n+1,r=t-n+1,l=Math.log(i),c=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*c*(i-c)/i)*(r-i/2<0?-1:1);o(e,t,Math.max(n,Math.floor(t-r*c/i+d)),Math.min(s,Math.floor(t+(i-r)*c/i+d)),a)}const i=e[t];let l=n,c=s;for(r(e,n,t),a(e[s],i)>0&&r(e,n,s);l<c;){for(r(e,l,c),++l,--c;a(e[l],i)<0;)++l;for(;a(e[c],i)>0;)--c}0===a(e[n],i)?r(e,n,c):(++c,r(e,c,s)),c<=t&&(n=c+1),t<=c&&(s=c-1)}return e}function r(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/range.js":(e,t,n)=>{"use strict";function i(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var i=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),r=new Array(o);++i<o;)r[i]=e+i*n;return r}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/reduce.js":(e,t,n)=>{"use strict";function i(e,t,n){if("function"!=typeof t)throw new TypeError("reducer is not a function");const i=e[Symbol.iterator]();let o,r,s=-1;if(arguments.length<3){if(({done:o,value:n}=i.next()),o)return;++s}for(;({done:o,value:r}=i.next()),!o;)n=t(n,r,++s,e);return n}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/reverse.js":(e,t,n)=>{"use strict";function i(e){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/scan.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/leastIndex.js");function o(e,t){const n=(0,i.default)(e,t);return n<0?void 0:n}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/set.js":(e,t,n)=>{"use strict";function i(e){return e instanceof Set?e:new Set(e)}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/shuffle.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i,shuffler:()=>o});const i=o(Math.random);function o(e){return function(t,n=0,i=t.length){let o=i-(n=+n);for(;o;){const i=e()*o--|0,r=t[o+n];t[o+n]=t[i+n],t[i+n]=r}return t}}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/some.js":(e,t,n)=>{"use strict";function i(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const i of e)if(t(i,++n,e))return!0;return!1}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/sort.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/ascending.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/permute.js");function r(e,...t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);let[n=i.default]=t;if(1===n.length||t.length>1){const r=Uint32Array.from(e,(e,t)=>t);return t.length>1?(t=t.map(t=>e.map(t)),r.sort((e,n)=>{for(const o of t){const t=(0,i.default)(o[e],o[n]);if(t)return t}})):(n=e.map(n),r.sort((e,t)=>(0,i.default)(n[e],n[t]))),(0,o.default)(e,r)}return e.sort(n)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/subset.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/superset.js");function o(e,t){return(0,i.default)(t,e)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/sum.js":(e,t,n)=>{"use strict";function i(e,t){let n=0;if(void 0===t)for(let i of e)(i=+i)&&(n+=i);else{let i=-1;for(let o of e)(o=+t(o,++i,e))&&(n+=o)}return n}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/superset.js":(e,t,n)=>{"use strict";function i(e,t){const n=e[Symbol.iterator](),i=new Set;for(const o of t){if(i.has(o))continue;let e,t;for(;({value:e,done:t}=n.next());){if(t)return!1;if(i.add(e),Object.is(o,e))break}}return!0}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/threshold/freedmanDiaconis.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/count.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/quantile.js");function r(e,t,n){return Math.ceil((n-t)/(2*((0,o.default)(e,.75)-(0,o.default)(e,.25))*Math.pow((0,i.default)(e),-1/3)))}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/threshold/scott.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/count.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/deviation.js");function r(e,t,n){return Math.ceil((n-t)/(3.5*(0,o.default)(e)*Math.pow((0,i.default)(e),-1/3)))}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/threshold/sturges.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/count.js");function o(e){return Math.ceil(Math.log((0,i.default)(e))/Math.LN2)+1}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/ticks.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,tickIncrement:()=>a,tickStep:()=>l});var i=Math.sqrt(50),o=Math.sqrt(10),r=Math.sqrt(2);function s(e,t,n){var i,o,r,s,l=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((i=t<e)&&(o=e,e=t,t=o),0===(s=a(e,t,n))||!isFinite(s))return[];if(s>0){let n=Math.round(e/s),i=Math.round(t/s);for(n*s<e&&++n,i*s>t&&--i,r=new Array(o=i-n+1);++l<o;)r[l]=(n+l)*s}else{s=-s;let n=Math.round(e*s),i=Math.round(t*s);for(n/s<e&&++n,i/s>t&&--i,r=new Array(o=i-n+1);++l<o;)r[l]=(n+l)/s}return i&&r.reverse(),r}function a(e,t,n){var s=(t-e)/Math.max(0,n),a=Math.floor(Math.log(s)/Math.LN10),l=s/Math.pow(10,a);return a>=0?(l>=i?10:l>=o?5:l>=r?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(l>=i?10:l>=o?5:l>=r?2:1)}function l(e,t,n){var s=Math.abs(t-e)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),l=s/a;return l>=i?a*=10:l>=o?a*=5:l>=r&&(a*=2),t<e?-a:a}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/transpose.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/min.js");function o(e){if(!(s=e.length))return[];for(var t=-1,n=(0,i.default)(e,r),o=new Array(n);++t<n;)for(var s,a=-1,l=o[t]=new Array(s);++a<s;)l[a]=e[a][t];return o}function r(e){return e.length}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/union.js":(e,t,n)=>{"use strict";function i(...e){const t=new Set;for(const n of e)for(const e of n)t.add(e);return t}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/variance.js":(e,t,n)=>{"use strict";function i(e,t){let n,i=0,o=0,r=0;if(void 0===t)for(let s of e)null!=s&&(s=+s)>=s&&(n=s-o,o+=n/++i,r+=n*(s-o));else{let s=-1;for(let a of e)null!=(a=t(a,++s,e))&&(a=+a)>=a&&(n=a-o,o+=n/++i,r+=n*(a-o))}if(i>1)return r/(i-1)}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/zip.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/transpose.js");function o(){return(0,i.default)(arguments)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/color.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Color:()=>o,darker:()=>r,brighter:()=>s,default:()=>x,rgbConvert:()=>_,rgb:()=>S,Rgb:()=>I,hslConvert:()=>R,hsl:()=>M});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/define.js");function o(){}var r=.7,s=1/r,a="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",d=/^#([0-9a-f]{3,8})$/,u=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),p=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),h=new RegExp("^rgba\\("+[a,a,a,l]+"\\)$"),m=new RegExp("^rgba\\("+[c,c,c,l]+"\\)$"),f=new RegExp("^hsl\\("+[l,c,c]+"\\)$"),g=new RegExp("^hsla\\("+[l,c,c,l]+"\\)$"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function b(){return this.rgb().formatRgb()}function x(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=d.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?w(t):3===n?new I(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?C(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?C(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=u.exec(e))?new I(t[1],t[2],t[3],1):(t=p.exec(e))?new I(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?C(t[1],t[2],t[3],t[4]):(t=m.exec(e))?C(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=f.exec(e))?T(t[1],t[2]/100,t[3]/100,1):(t=g.exec(e))?T(t[1],t[2]/100,t[3]/100,t[4]):v.hasOwnProperty(e)?w(v[e]):"transparent"===e?new I(NaN,NaN,NaN,0):null}function w(e){return new I(e>>16&255,e>>8&255,255&e,1)}function C(e,t,n,i){return i<=0&&(e=t=n=NaN),new I(e,t,n,i)}function _(e){return e instanceof o||(e=x(e)),e?new I((e=e.rgb()).r,e.g,e.b,e.opacity):new I}function S(e,t,n,i){return 1===arguments.length?_(e):new I(e,t,n,null==i?1:i)}function I(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function A(){return"#"+D(this.r)+D(this.g)+D(this.b)}function E(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function D(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function T(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new O(e,t,n,i)}function R(e){if(e instanceof O)return new O(e.h,e.s,e.l,e.opacity);if(e instanceof o||(e=x(e)),!e)return new O;if(e instanceof O)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),s=Math.max(t,n,i),a=NaN,l=s-r,c=(s+r)/2;return l?(a=t===s?(n-i)/l+6*(n<i):n===s?(i-t)/l+2:(t-n)/l+4,l/=c<.5?s+r:2-s-r,a*=60):l=c>0&&c<1?0:a,new O(a,l,c,e.opacity)}function M(e,t,n,i){return 1===arguments.length?R(e):new O(e,t,n,null==i?1:i)}function O(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function P(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}(0,i.default)(o,x,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return R(this).formatHsl()},formatRgb:b,toString:b}),(0,i.default)(I,S,(0,i.extend)(o,{brighter:function(e){return e=null==e?s:Math.pow(s,e),new I(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?r:Math.pow(r,e),new I(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A,formatHex:A,formatRgb:E,toString:E})),(0,i.default)(O,M,(0,i.extend)(o,{brighter:function(e){return e=null==e?s:Math.pow(s,e),new O(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?r:Math.pow(r,e),new O(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,o=2*n-i;return new I(P(e>=240?e-240:e+120,o,i),P(e,o,i),P(e<120?e+240:e-120,o,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/cubehelix.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m,Cubehelix:()=>f});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/define.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/color.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/math.js"),s=-.14861,a=1.78277,l=-.29227,c=-.90649,d=1.97294,u=d*c,p=d*a,h=a*l-c*s;function m(e,t,n,i){return 1===arguments.length?function(e){if(e instanceof f)return new f(e.h,e.s,e.l,e.opacity);e instanceof o.Rgb||(e=(0,o.rgbConvert)(e));var t=e.r/255,n=e.g/255,i=e.b/255,s=(h*i+u*t-p*n)/(h+u-p),a=i-s,m=(d*(n-s)-l*a)/c,g=Math.sqrt(m*m+a*a)/(d*s*(1-s)),v=g?Math.atan2(m,a)*r.degrees-120:NaN;return new f(v<0?v+360:v,g,s,e.opacity)}(e):new f(e,t,n,null==i?1:i)}function f(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}(0,i.default)(f,m,(0,i.extend)(o.Color,{brighter:function(e){return e=null==e?o.brighter:Math.pow(o.brighter,e),new f(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?o.darker:Math.pow(o.darker,e),new f(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*r.radians,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),u=Math.sin(e);return new o.Rgb(255*(t+n*(s*i+a*u)),255*(t+n*(l*i+c*u)),255*(t+n*(d*i)),this.opacity)}}))},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/define.js":(e,t,n)=>{"use strict";function i(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function o(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}n.r(t),n.d(t,{default:()=>i,extend:()=>o})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{color:()=>i.default,rgb:()=>i.rgb,hsl:()=>i.hsl,lab:()=>o.default,hcl:()=>o.hcl,lch:()=>o.lch,gray:()=>o.gray,cubehelix:()=>r.default});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/color.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/lab.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/cubehelix.js")},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/lab.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{gray:()=>m,default:()=>f,Lab:()=>g,lch:()=>C,hcl:()=>_,Hcl:()=>S});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/define.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/color.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/math.js");const s=.96422,a=1,l=.82521,c=4/29,d=6/29,u=3*d*d,p=d*d*d;function h(e){if(e instanceof g)return new g(e.l,e.a,e.b,e.opacity);if(e instanceof S)return I(e);e instanceof o.Rgb||(e=(0,o.rgbConvert)(e));var t,n,i=x(e.r),r=x(e.g),c=x(e.b),d=v((.2225045*i+.7168786*r+.0606169*c)/a);return i===r&&r===c?t=n=d:(t=v((.4360747*i+.3850649*r+.1430804*c)/s),n=v((.0139322*i+.0971045*r+.7141733*c)/l)),new g(116*d-16,500*(t-d),200*(d-n),e.opacity)}function m(e,t){return new g(e,0,0,null==t?1:t)}function f(e,t,n,i){return 1===arguments.length?h(e):new g(e,t,n,null==i?1:i)}function g(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}function v(e){return e>p?Math.pow(e,1/3):e/u+c}function y(e){return e>d?e*e*e:u*(e-c)}function b(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function x(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function w(e){if(e instanceof S)return new S(e.h,e.c,e.l,e.opacity);if(e instanceof g||(e=h(e)),0===e.a&&0===e.b)return new S(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*r.degrees;return new S(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function C(e,t,n,i){return 1===arguments.length?w(e):new S(n,t,e,null==i?1:i)}function _(e,t,n,i){return 1===arguments.length?w(e):new S(e,t,n,null==i?1:i)}function S(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}function I(e){if(isNaN(e.h))return new g(e.l,0,0,e.opacity);var t=e.h*r.radians;return new g(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}(0,i.default)(g,f,(0,i.extend)(o.Color,{brighter:function(e){return new g(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new g(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=s*y(t),e=a*y(e),n=l*y(n),new o.Rgb(b(3.1338561*t-1.6168667*e-.4906146*n),b(-.9787684*t+1.9161415*e+.033454*n),b(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),(0,i.default)(S,_,(0,i.extend)(o.Color,{brighter:function(e){return new S(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new S(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return I(this).rgb()}}))},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/math.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{radians:()=>i,degrees:()=>o});const i=Math.PI/180,o=180/Math.PI},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/defaultLocale.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{format:()=>o,formatPrefix:()=>r,default:()=>a});var i,o,r,s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/locale.js");function a(e){return i=(0,s.default)(e),o=i.format,r=i.formatPrefix,i}a({thousands:",",grouping:[3],currency:["$",""]})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/exponent.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatDecimal.js");function o(e){return(e=(0,i.formatDecimalParts)(Math.abs(e)))?e[1]:NaN}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatDecimal.js":(e,t,n)=>{"use strict";function i(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function o(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}n.r(t),n.d(t,{default:()=>i,formatDecimalParts:()=>o})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatGroup.js":(e,t,n)=>{"use strict";function i(e,t){return function(n,i){for(var o=n.length,r=[],s=0,a=e[0],l=0;o>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),r.push(n.substring(o-=a,o+a)),!((l+=a+1)>i));)a=e[s=(s+1)%e.length];return r.reverse().join(t)}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatNumerals.js":(e,t,n)=>{"use strict";function i(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatPrefixAuto.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{prefixExponent:()=>i,default:()=>r});var i,o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatDecimal.js");function r(e,t){var n=(0,o.formatDecimalParts)(e,t);if(!n)return e+"";var r=n[0],s=n[1],a=s-(i=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+(0,o.formatDecimalParts)(e,Math.max(0,t+a-1))[0]}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatRounded.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatDecimal.js");function o(e,t){var n=(0,i.formatDecimalParts)(e,t);if(!n)return e+"";var o=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+o:o.length>r+1?o.slice(0,r+1)+"."+o.slice(r+1):o+new Array(r-o.length+2).join("0")}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatSpecifier.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,FormatSpecifier:()=>r});var i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function o(e){if(!(t=i.exec(e)))throw new Error("invalid format: "+e);var t;return new r({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function r(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}o.prototype=r.prototype,r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatTrim.js":(e,t,n)=>{"use strict";function i(e){e:for(var t,n=e.length,i=1,o=-1;i<n;++i)switch(e[i]){case".":o=t=i;break;case"0":0===o&&(o=i),t=i;break;default:if(!+e[i])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatTypes.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatDecimal.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatPrefixAuto.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatRounded.js");const s={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:i.default,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>(0,r.default)(100*e,t),r:r.default,s:o.default,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/identity.js":(e,t,n)=>{"use strict";function i(e){return e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{formatDefaultLocale:()=>i.default,format:()=>i.format,formatPrefix:()=>i.formatPrefix,formatLocale:()=>o.default,formatSpecifier:()=>r.default,FormatSpecifier:()=>r.FormatSpecifier,precisionFixed:()=>s.default,precisionPrefix:()=>a.default,precisionRound:()=>l.default});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/defaultLocale.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/locale.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatSpecifier.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/precisionFixed.js"),a=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/precisionPrefix.js"),l=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/precisionRound.js")},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/locale.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/exponent.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatGroup.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatNumerals.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatSpecifier.js"),a=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatTrim.js"),l=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatTypes.js"),c=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/formatPrefixAuto.js"),d=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/identity.js"),u=Array.prototype.map,p=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function h(e){var t=void 0===e.grouping||void 0===e.thousands?d.default:(0,o.default)(u.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",h=void 0===e.currency?"":e.currency[1]+"",m=void 0===e.decimal?".":e.decimal+"",f=void 0===e.numerals?d.default:(0,r.default)(u.call(e.numerals,String)),g=void 0===e.percent?"%":e.percent+"",v=void 0===e.minus?"\u2212":e.minus+"",y=void 0===e.nan?"NaN":e.nan+"";function b(e){var i=(e=(0,s.default)(e)).fill,o=e.align,r=e.sign,d=e.symbol,u=e.zero,b=e.width,x=e.comma,w=e.precision,C=e.trim,_=e.type;"n"===_?(x=!0,_="g"):l.default[_]||(void 0===w&&(w=12),C=!0,_="g"),(u||"0"===i&&"="===o)&&(u=!0,i="0",o="=");var S="$"===d?n:"#"===d&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",I="$"===d?h:/[%p]/.test(_)?g:"",A=l.default[_],E=/[defgprs%]/.test(_);function D(e){var n,s,l,d=S,h=I;if("c"===_)h=A(e)+h,e="";else{var g=(e=+e)<0||1/e<0;if(e=isNaN(e)?y:A(Math.abs(e),w),C&&(e=(0,a.default)(e)),g&&0==+e&&"+"!==r&&(g=!1),d=(g?"("===r?r:v:"-"===r||"("===r?"":r)+d,h=("s"===_?p[8+c.prefixExponent/3]:"")+h+(g&&"("===r?")":""),E)for(n=-1,s=e.length;++n<s;)if(48>(l=e.charCodeAt(n))||l>57){h=(46===l?m+e.slice(n+1):e.slice(n))+h,e=e.slice(0,n);break}}x&&!u&&(e=t(e,1/0));var D=d.length+e.length+h.length,T=D<b?new Array(b-D+1).join(i):"";switch(x&&u&&(e=t(T+e,T.length?b-h.length:1/0),T=""),o){case"<":e=d+e+h+T;break;case"=":e=d+T+e+h;break;case"^":e=T.slice(0,D=T.length>>1)+d+e+h+T.slice(D);break;default:e=T+d+e+h}return f(e)}return w=void 0===w?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w)),D.toString=function(){return e+""},D}return{format:b,formatPrefix:function(e,t){var n=b(((e=(0,s.default)(e)).type="f",e)),o=3*Math.max(-8,Math.min(8,Math.floor((0,i.default)(t)/3))),r=Math.pow(10,-o),a=p[8+o/3];return function(e){return n(r*e)+a}}}}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/precisionFixed.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/exponent.js");function o(e){return Math.max(0,-(0,i.default)(Math.abs(e)))}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/precisionPrefix.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/exponent.js");function o(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,i.default)(t)/3)))-(0,i.default)(Math.abs(e)))}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/precisionRound.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/exponent.js");function o(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,(0,i.default)(t)-(0,i.default)(e))+1}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/array.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r,genericArray:()=>s});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/value.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/numberArray.js");function r(e,t){return((0,o.isNumberArray)(t)?o.default:s)(e,t)}function s(e,t){var n,o=t?t.length:0,r=e?Math.min(o,e.length):0,s=new Array(r),a=new Array(o);for(n=0;n<r;++n)s[n]=(0,i.default)(e[n],t[n]);for(;n<o;++n)a[n]=t[n];return function(e){for(n=0;n<r;++n)a[n]=s[n](e);return a}}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/basis.js":(e,t,n)=>{"use strict";function i(e,t,n,i,o){var r=e*e,s=r*e;return((1-3*e+3*r-s)*t+(4-6*r+3*s)*n+(1+3*e+3*r-3*s)*i+s*o)/6}function o(e){var t=e.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[o],s=e[o+1],a=o>0?e[o-1]:2*r-s,l=o<t-1?e[o+2]:2*s-r;return i((n-o/t)*t,a,r,s,l)}}n.r(t),n.d(t,{basis:()=>i,default:()=>o})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/basisClosed.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/basis.js");function o(e){var t=e.length;return function(n){var o=Math.floor(((n%=1)<0?++n:n)*t),r=e[(o+t-1)%t],s=e[o%t],a=e[(o+1)%t],l=e[(o+2)%t];return(0,i.basis)((n-o/t)*t,r,s,a,l)}}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/color.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{hue:()=>r,gamma:()=>s,default:()=>a});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/constant.js");function o(e,t){return function(n){return e+n*t}}function r(e,t){var n=t-e;return n?o(e,n>180||n<-180?n-360*Math.round(n/360):n):(0,i.default)(isNaN(e)?t:e)}function s(e){return 1==(e=+e)?a:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):(0,i.default)(isNaN(t)?n:t)}}function a(e,t){var n=t-e;return n?o(e,n):(0,i.default)(isNaN(e)?t:e)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/constant.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=e=>()=>e},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/cubehelix.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,cubehelixLong:()=>a});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/color.js");function r(e){return function t(n){function r(t,r){var s=e((t=(0,i.cubehelix)(t)).h,(r=(0,i.cubehelix)(r)).h),a=(0,o.default)(t.s,r.s),l=(0,o.default)(t.l,r.l),c=(0,o.default)(t.opacity,r.opacity);return function(e){return t.h=s(e),t.s=a(e),t.l=l(Math.pow(e,n)),t.opacity=c(e),t+""}}return n=+n,r.gamma=t,r}(1)}const s=r(o.hue);var a=r(o.default)},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/date.js":(e,t,n)=>{"use strict";function i(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/discrete.js":(e,t,n)=>{"use strict";function i(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/hcl.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,hclLong:()=>a});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/color.js");function r(e){return function(t,n){var r=e((t=(0,i.hcl)(t)).h,(n=(0,i.hcl)(n)).h),s=(0,o.default)(t.c,n.c),a=(0,o.default)(t.l,n.l),l=(0,o.default)(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=s(e),t.l=a(e),t.opacity=l(e),t+""}}}const s=r(o.hue);var a=r(o.default)},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/hsl.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,hslLong:()=>a});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/color.js");function r(e){return function(t,n){var r=e((t=(0,i.hsl)(t)).h,(n=(0,i.hsl)(n)).h),s=(0,o.default)(t.s,n.s),a=(0,o.default)(t.l,n.l),l=(0,o.default)(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=s(e),t.l=a(e),t.opacity=l(e),t+""}}}const s=r(o.hue);var a=r(o.default)},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/hue.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/color.js");function o(e,t){var n=(0,i.hue)(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{interpolate:()=>i.default,interpolateArray:()=>o.default,interpolateBasis:()=>r.default,interpolateBasisClosed:()=>s.default,interpolateDate:()=>a.default,interpolateDiscrete:()=>l.default,interpolateHue:()=>c.default,interpolateNumber:()=>d.default,interpolateNumberArray:()=>u.default,interpolateObject:()=>p.default,interpolateRound:()=>h.default,interpolateString:()=>m.default,interpolateTransformCss:()=>f.interpolateTransformCss,interpolateTransformSvg:()=>f.interpolateTransformSvg,interpolateZoom:()=>g.default,interpolateRgb:()=>v.default,interpolateRgbBasis:()=>v.rgbBasis,interpolateRgbBasisClosed:()=>v.rgbBasisClosed,interpolateHsl:()=>y.default,interpolateHslLong:()=>y.hslLong,interpolateLab:()=>b.default,interpolateHcl:()=>x.default,interpolateHclLong:()=>x.hclLong,interpolateCubehelix:()=>w.default,interpolateCubehelixLong:()=>w.cubehelixLong,piecewise:()=>C.default,quantize:()=>_.default});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/value.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/array.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/basis.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/basisClosed.js"),a=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/date.js"),l=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/discrete.js"),c=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/hue.js"),d=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/number.js"),u=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/numberArray.js"),p=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/object.js"),h=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/round.js"),m=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/string.js"),f=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/transform/index.js"),g=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/zoom.js"),v=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/rgb.js"),y=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/hsl.js"),b=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/lab.js"),x=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/hcl.js"),w=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/cubehelix.js"),C=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/piecewise.js"),_=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/quantize.js")},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/lab.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/color.js");function r(e,t){var n=(0,o.default)((e=(0,i.lab)(e)).l,(t=(0,i.lab)(t)).l),r=(0,o.default)(e.a,t.a),s=(0,o.default)(e.b,t.b),a=(0,o.default)(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=s(t),e.opacity=a(t),e+""}}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/number.js":(e,t,n)=>{"use strict";function i(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/numberArray.js":(e,t,n)=>{"use strict";function i(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,o=t.slice();return function(r){for(n=0;n<i;++n)o[n]=e[n]*(1-r)+t[n]*r;return o}}function o(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}n.r(t),n.d(t,{default:()=>i,isNumberArray:()=>o})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/object.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/value.js");function o(e,t){var n,o={},r={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?o[n]=(0,i.default)(e[n],t[n]):r[n]=t[n];return function(e){for(n in o)r[n]=o[n](e);return r}}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/piecewise.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/value.js");function o(e,t){void 0===t&&(t=e,e=i.default);for(var n=0,o=t.length-1,r=t[0],s=new Array(o<0?0:o);n<o;)s[n]=e(r,r=t[++n]);return function(e){var t=Math.max(0,Math.min(o-1,Math.floor(e*=o)));return s[t](e-t)}}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/quantize.js":(e,t,n)=>{"use strict";function i(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/rgb.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a,rgbBasis:()=>c,rgbBasisClosed:()=>d});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/basis.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/basisClosed.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/color.js");const a=function e(t){var n=(0,s.gamma)(t);function o(e,t){var o=n((e=(0,i.rgb)(e)).r,(t=(0,i.rgb)(t)).r),r=n(e.g,t.g),a=n(e.b,t.b),l=(0,s.default)(e.opacity,t.opacity);return function(t){return e.r=o(t),e.g=r(t),e.b=a(t),e.opacity=l(t),e+""}}return o.gamma=e,o}(1);function l(e){return function(t){var n,o,r=t.length,s=new Array(r),a=new Array(r),l=new Array(r);for(n=0;n<r;++n)o=(0,i.rgb)(t[n]),s[n]=o.r||0,a[n]=o.g||0,l[n]=o.b||0;return s=e(s),a=e(a),l=e(l),o.opacity=1,function(e){return o.r=s(e),o.g=a(e),o.b=l(e),o+""}}}var c=l(o.default),d=l(r.default)},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/round.js":(e,t,n)=>{"use strict";function i(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/string.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/number.js"),o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r=new RegExp(o.source,"g");function s(e,t){var n,s,a,l=o.lastIndex=r.lastIndex=0,c=-1,d=[],u=[];for(e+="",t+="";(n=o.exec(e))&&(s=r.exec(t));)(a=s.index)>l&&(a=t.slice(l,a),d[c]?d[c]+=a:d[++c]=a),(n=n[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,u.push({i:c,x:(0,i.default)(n,s)})),l=r.lastIndex;return l<t.length&&(a=t.slice(l),d[c]?d[c]+=a:d[++c]=a),d.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,i=0;i<t;++i)d[(n=u[i]).i]=n.x(e);return d.join("")})}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/transform/decompose.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{identity:()=>o,default:()=>r});var i=180/Math.PI,o={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function r(e,t,n,o,r,s){var a,l,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*o)&&(n-=e*c,o-=t*c),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,c/=l),e*o<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*i,skewX:Math.atan(c)*i,scaleX:a,scaleY:l}}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/transform/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{interpolateTransformCss:()=>s,interpolateTransformSvg:()=>a});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/number.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/transform/parse.js");function r(e,t,n,o){function r(e){return e.length?e.pop()+" ":""}return function(s,a){var l=[],c=[];return s=e(s),a=e(a),function(e,o,r,s,a,l){if(e!==r||o!==s){var c=a.push("translate(",null,t,null,n);l.push({i:c-4,x:(0,i.default)(e,r)},{i:c-2,x:(0,i.default)(o,s)})}else(r||s)&&a.push("translate("+r+t+s+n)}(s.translateX,s.translateY,a.translateX,a.translateY,l,c),function(e,t,n,s){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),s.push({i:n.push(r(n)+"rotate(",null,o)-2,x:(0,i.default)(e,t)})):t&&n.push(r(n)+"rotate("+t+o)}(s.rotate,a.rotate,l,c),function(e,t,n,s){e!==t?s.push({i:n.push(r(n)+"skewX(",null,o)-2,x:(0,i.default)(e,t)}):t&&n.push(r(n)+"skewX("+t+o)}(s.skewX,a.skewX,l,c),function(e,t,n,o,s,a){if(e!==n||t!==o){var l=s.push(r(s)+"scale(",null,",",null,")");a.push({i:l-4,x:(0,i.default)(e,n)},{i:l-2,x:(0,i.default)(t,o)})}else 1===n&&1===o||s.push(r(s)+"scale("+n+","+o+")")}(s.scaleX,s.scaleY,a.scaleX,a.scaleY,l,c),s=a=null,function(e){for(var t,n=-1,i=c.length;++n<i;)l[(t=c[n]).i]=t.x(e);return l.join("")}}}var s=r(o.parseCss,"px, ","px)","deg)"),a=r(o.parseSvg,", ",")",")")},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/transform/parse.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{parseCss:()=>r,parseSvg:()=>s});var i,o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/transform/decompose.js");function r(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?o.identity:(0,o.default)(t.a,t.b,t.c,t.d,t.e,t.f)}function s(e){return null==e?o.identity:(i||(i=document.createElementNS("http://www.w3.org/2000/svg","g")),i.setAttribute("transform",e),(e=i.transform.baseVal.consolidate())?(e=e.matrix,(0,o.default)(e.a,e.b,e.c,e.d,e.e,e.f)):o.identity)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/value.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-color/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/rgb.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/array.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/date.js"),a=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/number.js"),l=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/object.js"),c=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/string.js"),d=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/constant.js"),u=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/numberArray.js");function p(e,t){var n,p=typeof t;return null==t||"boolean"===p?(0,d.default)(t):("number"===p?a.default:"string"===p?(n=(0,i.color)(t))?(t=n,o.default):c.default:t instanceof i.color?o.default:t instanceof Date?s.default:(0,u.isNumberArray)(t)?u.default:Array.isArray(t)?r.genericArray:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?l.default:a.default)(e,t)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/zoom.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});function i(e){return((e=Math.exp(e))+1/e)/2}const o=function e(t,n,o){function r(e,r){var s,a,l=e[0],c=e[1],d=e[2],u=r[0],p=r[1],h=r[2],m=u-l,f=p-c,g=m*m+f*f;if(g<1e-12)a=Math.log(h/d)/t,s=function(e){return[l+e*m,c+e*f,d*Math.exp(t*e*a)]};else{var v=Math.sqrt(g),y=(h*h-d*d+o*g)/(2*d*n*v),b=(h*h-d*d-o*g)/(2*h*n*v),x=Math.log(Math.sqrt(y*y+1)-y),w=Math.log(Math.sqrt(b*b+1)-b);a=(w-x)/t,s=function(e){var o,r=e*a,s=i(x),u=d/(n*v)*(s*(o=t*r+x,((o=Math.exp(2*o))-1)/(o+1))-function(e){return((e=Math.exp(e))-1/e)/2}(x));return[l+u*m,c+u*f,d*s/i(t*r+x)]}}return s.duration=1e3*a*t/Math.SQRT2,s}return r.rho=function(t){var n=Math.max(.001,+t),i=n*n;return e(n,i,i*i)},r}(Math.SQRT2,2,4)},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-time-format/src/defaultLocale.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{timeFormat:()=>o,timeParse:()=>r,utcFormat:()=>s,utcParse:()=>a,default:()=>c});var i,o,r,s,a,l=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-time-format/src/locale.js");function c(e){return i=(0,l.default)(e),o=i.format,r=i.parse,s=i.utcFormat,a=i.utcParse,i}c({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-time-format/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{timeFormatDefaultLocale:()=>i.default,timeFormat:()=>i.timeFormat,timeParse:()=>i.timeParse,utcFormat:()=>i.utcFormat,utcParse:()=>i.utcParse,timeFormatLocale:()=>o.default,isoFormat:()=>r.default,isoParse:()=>s.default});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-time-format/src/defaultLocale.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-time-format/src/locale.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-time-format/src/isoFormat.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-time-format/src/isoParse.js")},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-time-format/src/isoFormat.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{isoSpecifier:()=>o,default:()=>r});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-time-format/src/defaultLocale.js"),o="%Y-%m-%dT%H:%M:%S.%LZ";const r=Date.prototype.toISOString?function(e){return e.toISOString()}:(0,i.utcFormat)(o)},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-time-format/src/isoParse.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-time-format/src/isoFormat.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-time-format/src/defaultLocale.js");const r=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:(0,o.utcParse)(i.isoSpecifier)},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-time-format/src/locale.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/index.js");function o(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function s(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function a(e){var t=e.dateTime,n=e.date,a=e.time,c=e.periods,d=e.days,u=e.shortDays,p=e.months,h=e.shortMonths,W=m(c),he=f(c),Ie=m(d),Ae=f(d),Ee=m(u),De=f(u),Te=m(p),Re=f(p),Me=m(h),Oe=f(h),Pe={a:function(e){return u[e.getDay()]},A:function(e){return d[e.getDay()]},b:function(e){return h[e.getMonth()]},B:function(e){return p[e.getMonth()]},c:null,d:N,e:N,f:G,g:K,G:ee,H:j,I:L,j:V,L:B,m:z,M:$,p:function(e){return c[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:_e,s:Se,S:U,u:H,U:X,V:q,w:Y,W:Q,x:null,X:null,y:Z,Y:J,Z:te,"%":Ce},Fe={a:function(e){return u[e.getUTCDay()]},A:function(e){return d[e.getUTCDay()]},b:function(e){return h[e.getUTCMonth()]},B:function(e){return p[e.getUTCMonth()]},c:null,d:ne,e:ne,f:ae,g:ye,G:xe,H:ie,I:oe,j:re,L:se,m:le,M:ce,p:function(e){return c[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:_e,s:Se,S:de,u:ue,U:pe,V:me,w:fe,W:ge,x:null,X:null,y:ve,Y:be,Z:we,"%":Ce},ke={a:function(e,t,n){var i=Ee.exec(t.slice(n));return i?(e.w=De.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(e,t,n){var i=Ie.exec(t.slice(n));return i?(e.w=Ae.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(e,t,n){var i=Me.exec(t.slice(n));return i?(e.m=Oe.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(e,t,n){var i=Te.exec(t.slice(n));return i?(e.m=Re.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(e,n,i){return Le(e,t,n,i)},d:A,e:A,f:O,g:C,G:w,H:D,I:D,j:E,L:M,m:I,M:T,p:function(e,t,n){var i=W.exec(t.slice(n));return i?(e.p=he.get(i[0].toLowerCase()),n+i[0].length):-1},q:S,Q:F,s:k,S:R,u:v,U:y,V:b,w:g,W:x,x:function(e,t,i){return Le(e,n,t,i)},X:function(e,t,n){return Le(e,a,t,n)},y:C,Y:w,Z:_,"%":P};function Ne(e,t){return function(n){var i,o,r,s=[],a=-1,c=0,d=e.length;for(n instanceof Date||(n=new Date(+n));++a<d;)37===e.charCodeAt(a)&&(s.push(e.slice(c,a)),null!=(o=l[i=e.charAt(++a)])?i=e.charAt(++a):o="e"===i?" ":"0",(r=t[i])&&(i=r(n,o)),s.push(i),c=a+1);return s.push(e.slice(c,a)),s.join("")}}function je(e,t){return function(n){var a,l,c=s(1900,void 0,1);if(Le(c,e,n+="",0)!=n.length)return null;if("Q"in c)return new Date(c.Q);if("s"in c)return new Date(1e3*c.s+("L"in c?c.L:0));if(t&&!("Z"in c)&&(c.Z=0),"p"in c&&(c.H=c.H%12+12*c.p),void 0===c.m&&(c.m="q"in c?c.q:0),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(l=(a=r(s(c.y,0,1))).getUTCDay(),a=l>4||0===l?i.utcMonday.ceil(a):(0,i.utcMonday)(a),a=i.utcDay.offset(a,7*(c.V-1)),c.y=a.getUTCFullYear(),c.m=a.getUTCMonth(),c.d=a.getUTCDate()+(c.w+6)%7):(l=(a=o(s(c.y,0,1))).getDay(),a=l>4||0===l?i.timeMonday.ceil(a):(0,i.timeMonday)(a),a=i.timeDay.offset(a,7*(c.V-1)),c.y=a.getFullYear(),c.m=a.getMonth(),c.d=a.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),l="Z"in c?r(s(c.y,0,1)).getUTCDay():o(s(c.y,0,1)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(l+5)%7:c.w+7*c.U-(l+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,r(c)):o(c)}}function Le(e,t,n,i){for(var o,r,s=0,a=t.length,c=n.length;s<a;){if(i>=c)return-1;if(37===(o=t.charCodeAt(s++))){if(o=t.charAt(s++),!(r=ke[o in l?t.charAt(s++):o])||(i=r(e,n,i))<0)return-1}else if(o!=n.charCodeAt(i++))return-1}return i}return Pe.x=Ne(n,Pe),Pe.X=Ne(a,Pe),Pe.c=Ne(t,Pe),Fe.x=Ne(n,Fe),Fe.X=Ne(a,Fe),Fe.c=Ne(t,Fe),{format:function(e){var t=Ne(e+="",Pe);return t.toString=function(){return e},t},parse:function(e){var t=je(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=Ne(e+="",Fe);return t.toString=function(){return e},t},utcParse:function(e){var t=je(e+="",!0);return t.toString=function(){return e},t}}}var l={"-":"",_:" ",0:"0"},c=/^\s*\d+/,d=/^%/,u=/[\\^$*+?|[\]().{}]/g;function p(e,t,n){var i=e<0?"-":"",o=(i?-e:e)+"",r=o.length;return i+(r<n?new Array(n-r+1).join(t)+o:o)}function h(e){return e.replace(u,"\\$&")}function m(e){return new RegExp("^(?:"+e.map(h).join("|")+")","i")}function f(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function g(e,t,n){var i=c.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function v(e,t,n){var i=c.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function y(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function b(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function x(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function w(e,t,n){var i=c.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function C(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function _(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function S(e,t,n){var i=c.exec(t.slice(n,n+1));return i?(e.q=3*i[0]-3,n+i[0].length):-1}function I(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function A(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function E(e,t,n){var i=c.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function D(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function T(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function R(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function M(e,t,n){var i=c.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function O(e,t,n){var i=c.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function P(e,t,n){var i=d.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function F(e,t,n){var i=c.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function k(e,t,n){var i=c.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function N(e,t){return p(e.getDate(),t,2)}function j(e,t){return p(e.getHours(),t,2)}function L(e,t){return p(e.getHours()%12||12,t,2)}function V(e,t){return p(1+i.timeDay.count((0,i.timeYear)(e),e),t,3)}function B(e,t){return p(e.getMilliseconds(),t,3)}function G(e,t){return B(e,t)+"000"}function z(e,t){return p(e.getMonth()+1,t,2)}function $(e,t){return p(e.getMinutes(),t,2)}function U(e,t){return p(e.getSeconds(),t,2)}function H(e){var t=e.getDay();return 0===t?7:t}function X(e,t){return p(i.timeSunday.count((0,i.timeYear)(e)-1,e),t,2)}function W(e){var t=e.getDay();return t>=4||0===t?(0,i.timeThursday)(e):i.timeThursday.ceil(e)}function q(e,t){return e=W(e),p(i.timeThursday.count((0,i.timeYear)(e),e)+(4===(0,i.timeYear)(e).getDay()),t,2)}function Y(e){return e.getDay()}function Q(e,t){return p(i.timeMonday.count((0,i.timeYear)(e)-1,e),t,2)}function Z(e,t){return p(e.getFullYear()%100,t,2)}function K(e,t){return p((e=W(e)).getFullYear()%100,t,2)}function J(e,t){return p(e.getFullYear()%1e4,t,4)}function ee(e,t){var n=e.getDay();return p((e=n>=4||0===n?(0,i.timeThursday)(e):i.timeThursday.ceil(e)).getFullYear()%1e4,t,4)}function te(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+p(t/60|0,"0",2)+p(t%60,"0",2)}function ne(e,t){return p(e.getUTCDate(),t,2)}function ie(e,t){return p(e.getUTCHours(),t,2)}function oe(e,t){return p(e.getUTCHours()%12||12,t,2)}function re(e,t){return p(1+i.utcDay.count((0,i.utcYear)(e),e),t,3)}function se(e,t){return p(e.getUTCMilliseconds(),t,3)}function ae(e,t){return se(e,t)+"000"}function le(e,t){return p(e.getUTCMonth()+1,t,2)}function ce(e,t){return p(e.getUTCMinutes(),t,2)}function de(e,t){return p(e.getUTCSeconds(),t,2)}function ue(e){var t=e.getUTCDay();return 0===t?7:t}function pe(e,t){return p(i.utcSunday.count((0,i.utcYear)(e)-1,e),t,2)}function he(e){var t=e.getUTCDay();return t>=4||0===t?(0,i.utcThursday)(e):i.utcThursday.ceil(e)}function me(e,t){return e=he(e),p(i.utcThursday.count((0,i.utcYear)(e),e)+(4===(0,i.utcYear)(e).getUTCDay()),t,2)}function fe(e){return e.getUTCDay()}function ge(e,t){return p(i.utcMonday.count((0,i.utcYear)(e)-1,e),t,2)}function ve(e,t){return p(e.getUTCFullYear()%100,t,2)}function ye(e,t){return p((e=he(e)).getUTCFullYear()%100,t,2)}function be(e,t){return p(e.getUTCFullYear()%1e4,t,4)}function xe(e,t){var n=e.getUTCDay();return p((e=n>=4||0===n?(0,i.utcThursday)(e):i.utcThursday.ceil(e)).getUTCFullYear()%1e4,t,4)}function we(){return"+0000"}function Ce(){return"%"}function _e(e){return+e}function Se(e){return Math.floor(+e/1e3)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/band.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,point:()=>l});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/init.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/ordinal.js");function s(){var e,t,n=(0,r.default)().unknown(void 0),a=n.domain,l=n.range,c=0,d=1,u=!1,p=0,h=0,m=.5;function f(){var n=a().length,o=d<c,r=o?d:c,s=o?c:d;e=(s-r)/Math.max(1,n-p+2*h),u&&(e=Math.floor(e)),r+=(s-r-e*(n-p))*m,t=e*(1-p),u&&(r=Math.round(r),t=Math.round(t));var f=(0,i.range)(n).map(function(t){return r+e*t});return l(o?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(a(e),f()):a()},n.range=function(e){return arguments.length?([c,d]=e,c=+c,d=+d,f()):[c,d]},n.rangeRound=function(e){return[c,d]=e,c=+c,d=+d,u=!0,f()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(u=!!e,f()):u},n.padding=function(e){return arguments.length?(p=Math.min(1,h=+e),f()):p},n.paddingInner=function(e){return arguments.length?(p=Math.min(1,e),f()):p},n.paddingOuter=function(e){return arguments.length?(h=+e,f()):h},n.align=function(e){return arguments.length?(m=Math.max(0,Math.min(1,e)),f()):m},n.copy=function(){return s(a(),[c,d]).round(u).paddingInner(p).paddingOuter(h).align(m)},o.initRange.apply(f(),arguments)}function a(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return a(t())},e}function l(){return a(s.apply(null,arguments).paddingInner(1))}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/constant.js":(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/continuous.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{identity:()=>l,copy:()=>p,transformer:()=>h,default:()=>m});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/index.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/constant.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/number.js"),a=[0,1];function l(e){return e}function c(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(0,r.default)(isNaN(t)?NaN:.5)}function d(e,t,n){var i=e[0],o=e[1],r=t[0],s=t[1];return o<i?(i=c(o,i),r=n(s,r)):(i=c(i,o),r=n(r,s)),function(e){return r(i(e))}}function u(e,t,n){var o=Math.min(e.length,t.length)-1,r=new Array(o),s=new Array(o),a=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<o;)r[a]=c(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(t){var n=(0,i.bisect)(e,t,1,o)-1;return s[n](r[n](t))}}function p(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function h(){var e,t,n,i,r,c,p=a,h=a,m=o.interpolate,f=l;function g(){var e,t,n,o=Math.min(p.length,h.length);return f!==l&&(e=p[0],t=p[o-1],e>t&&(n=e,e=t,t=n),f=function(n){return Math.max(e,Math.min(t,n))}),i=o>2?u:d,r=c=null,v}function v(t){return null==t||isNaN(t=+t)?n:(r||(r=i(p.map(e),h,m)))(e(f(t)))}return v.invert=function(n){return f(t((c||(c=i(h,p.map(e),o.interpolateNumber)))(n)))},v.domain=function(e){return arguments.length?(p=Array.from(e,s.default),g()):p.slice()},v.range=function(e){return arguments.length?(h=Array.from(e),g()):h.slice()},v.rangeRound=function(e){return h=Array.from(e),m=o.interpolateRound,g()},v.clamp=function(e){return arguments.length?(f=!!e||l,g()):f!==l},v.interpolate=function(e){return arguments.length?(m=e,g()):m},v.unknown=function(e){return arguments.length?(n=e,v):n},function(n,i){return e=n,t=i,g()}}function m(){return h()(l,l)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/diverging.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p,divergingLog:()=>h,divergingSymlog:()=>m,divergingPow:()=>f,divergingSqrt:()=>g});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/continuous.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/init.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/linear.js"),a=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/log.js"),l=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/sequential.js"),c=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/symlog.js"),d=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/pow.js");function u(){var e,t,n,r,s,a,l,c=0,d=.5,u=1,p=1,h=o.identity,m=!1;function f(e){return isNaN(e=+e)?l:(e=.5+((e=+a(e))-t)*(p*e<p*t?r:s),h(m?Math.max(0,Math.min(1,e)):e))}function g(e){return function(t){var n,o,r;return arguments.length?([n,o,r]=t,h=(0,i.piecewise)(e,[n,o,r]),f):[h(0),h(.5),h(1)]}}return f.domain=function(i){return arguments.length?([c,d,u]=i,e=a(c=+c),t=a(d=+d),n=a(u=+u),r=e===t?0:.5/(t-e),s=t===n?0:.5/(n-t),p=t<e?-1:1,f):[c,d,u]},f.clamp=function(e){return arguments.length?(m=!!e,f):m},f.interpolator=function(e){return arguments.length?(h=e,f):h},f.range=g(i.interpolate),f.rangeRound=g(i.interpolateRound),f.unknown=function(e){return arguments.length?(l=e,f):l},function(i){return a=i,e=i(c),t=i(d),n=i(u),r=e===t?0:.5/(t-e),s=t===n?0:.5/(n-t),p=t<e?-1:1,f}}function p(){var e=(0,s.linearish)(u()(o.identity));return e.copy=function(){return(0,l.copy)(e,p())},r.initInterpolator.apply(e,arguments)}function h(){var e=(0,a.loggish)(u()).domain([.1,1,10]);return e.copy=function(){return(0,l.copy)(e,h()).base(e.base())},r.initInterpolator.apply(e,arguments)}function m(){var e=(0,c.symlogish)(u());return e.copy=function(){return(0,l.copy)(e,m()).constant(e.constant())},r.initInterpolator.apply(e,arguments)}function f(){var e=(0,d.powish)(u());return e.copy=function(){return(0,l.copy)(e,f()).exponent(e.exponent())},r.initInterpolator.apply(e,arguments)}function g(){return f.apply(null,arguments).exponent(.5)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/identity.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/linear.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/number.js");function r(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,o.default),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return r(e).unknown(t)},e=arguments.length?Array.from(e,o.default):[0,1],(0,i.linearish)(n)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scaleBand:()=>i.default,scalePoint:()=>i.point,scaleIdentity:()=>o.default,scaleLinear:()=>r.default,scaleLog:()=>s.default,scaleSymlog:()=>a.default,scaleOrdinal:()=>l.default,scaleImplicit:()=>l.implicit,scalePow:()=>c.default,scaleSqrt:()=>c.sqrt,scaleRadial:()=>d.default,scaleQuantile:()=>u.default,scaleQuantize:()=>p.default,scaleThreshold:()=>h.default,scaleTime:()=>m.default,scaleUtc:()=>f.default,scaleSequential:()=>g.default,scaleSequentialLog:()=>g.sequentialLog,scaleSequentialPow:()=>g.sequentialPow,scaleSequentialSqrt:()=>g.sequentialSqrt,scaleSequentialSymlog:()=>g.sequentialSymlog,scaleSequentialQuantile:()=>v.default,scaleDiverging:()=>y.default,scaleDivergingLog:()=>y.divergingLog,scaleDivergingPow:()=>y.divergingPow,scaleDivergingSqrt:()=>y.divergingSqrt,scaleDivergingSymlog:()=>y.divergingSymlog,tickFormat:()=>b.default});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/band.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/identity.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/linear.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/log.js"),a=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/symlog.js"),l=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/ordinal.js"),c=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/pow.js"),d=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/radial.js"),u=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/quantile.js"),p=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/quantize.js"),h=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/threshold.js"),m=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/time.js"),f=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/utcTime.js"),g=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/sequential.js"),v=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/sequentialQuantile.js"),y=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/diverging.js"),b=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/tickFormat.js")},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/init.js":(e,t,n)=>{"use strict";function i(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function o(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}n.r(t),n.d(t,{initRange:()=>i,initInterpolator:()=>o})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/linear.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{linearish:()=>a,default:()=>l});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/continuous.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/init.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/tickFormat.js");function a(e){var t=e.domain;return e.ticks=function(e){var n=t();return(0,i.ticks)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return(0,s.default)(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var o,r,s=t(),a=0,l=s.length-1,c=s[a],d=s[l],u=10;for(d<c&&(r=c,c=d,d=r,r=a,a=l,l=r);u-- >0;){if((r=(0,i.tickIncrement)(c,d,n))===o)return s[a]=c,s[l]=d,t(s);if(r>0)c=Math.floor(c/r)*r,d=Math.ceil(d/r)*r;else{if(!(r<0))break;c=Math.ceil(c*r)/r,d=Math.floor(d*r)/r}o=r}return e},e}function l(){var e=(0,o.default)();return e.copy=function(){return(0,o.copy)(e,l())},r.initRange.apply(e,arguments),a(e)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/log.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{loggish:()=>m,default:()=>f});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/index.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/nice.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/continuous.js"),a=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/init.js");function l(e){return Math.log(e)}function c(e){return Math.exp(e)}function d(e){return-Math.log(-e)}function u(e){return-Math.exp(-e)}function p(e){return isFinite(e)?+("1e"+e):e<0?0:e}function h(e){return function(t){return-e(-t)}}function m(e){var t,n,s=e(l,c),a=s.domain,m=10;function f(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(m),n=function(e){return 10===e?p:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(m),a()[0]<0?(t=h(t),n=h(n),e(d,u)):e(l,c),s}return s.base=function(e){return arguments.length?(m=+e,f()):m},s.domain=function(e){return arguments.length?(a(e),f()):a()},s.ticks=function(e){var o,r=a(),s=r[0],l=r[r.length-1];(o=l<s)&&(p=s,s=l,l=p);var c,d,u,p=t(s),h=t(l),f=null==e?10:+e,g=[];if(!(m%1)&&h-p<f){if(p=Math.floor(p),h=Math.ceil(h),s>0){for(;p<=h;++p)for(d=1,c=n(p);d<m;++d)if(!((u=c*d)<s)){if(u>l)break;g.push(u)}}else for(;p<=h;++p)for(d=m-1,c=n(p);d>=1;--d)if(!((u=c*d)<s)){if(u>l)break;g.push(u)}2*g.length<f&&(g=(0,i.ticks)(s,l,f))}else g=(0,i.ticks)(p,h,Math.min(h-p,f)).map(n);return o?g.reverse():g},s.tickFormat=function(e,i){if(null==i&&(i=10===m?".0e":","),"function"!=typeof i&&(i=(0,o.format)(i)),e===1/0)return i;null==e&&(e=10);var r=Math.max(1,m*e/s.ticks().length);return function(e){var o=e/n(Math.round(t(e)));return o*m<m-.5&&(o*=m),o<=r?i(e):""}},s.nice=function(){return a((0,r.default)(a(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},s}function f(){var e=m((0,s.transformer)()).domain([1,10]);return e.copy=function(){return(0,s.copy)(e,f()).base(e.base())},a.initRange.apply(e,arguments),e}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/nice.js":(e,t,n)=>{"use strict";function i(e,t){var n,i=0,o=(e=e.slice()).length-1,r=e[i],s=e[o];return s<r&&(n=i,i=o,o=n,n=r,r=s,s=n),e[i]=t.floor(r),e[o]=t.ceil(s),e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/number.js":(e,t,n)=>{"use strict";function i(e){return+e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/ordinal.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{implicit:()=>o,default:()=>r});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/init.js");const o=Symbol("implicit");function r(){var e=new Map,t=[],n=[],s=o;function a(i){var r=i+"",a=e.get(r);if(!a){if(s!==o)return s;e.set(r,a=t.push(i))}return n[(a-1)%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;for(const i of n){const n=i+"";e.has(n)||e.set(n,t.push(i))}return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(s=e,a):s},a.copy=function(){return r(t,n).unknown(s)},i.initRange.apply(a,arguments),a}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/pow.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{powish:()=>c,default:()=>d,sqrt:()=>u});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/linear.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/continuous.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/init.js");function s(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function a(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function l(e){return e<0?-e*e:e*e}function c(e){var t=e(o.identity,o.identity),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(o.identity,o.identity):.5===n?e(a,l):e(s(n),s(1/n)):n},(0,i.linearish)(t)}function d(){var e=c((0,o.transformer)());return e.copy=function(){return(0,o.copy)(e,d()).exponent(e.exponent())},r.initRange.apply(e,arguments),e}function u(){return d.apply(null,arguments).exponent(.5)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/quantile.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/init.js");function r(){var e,t=[],n=[],s=[];function a(){var e=0,o=Math.max(1,n.length);for(s=new Array(o-1);++e<o;)s[e-1]=(0,i.quantileSorted)(t,e/o);return l}function l(t){return null==t||isNaN(t=+t)?e:n[(0,i.bisect)(s,t)]}return l.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?s[i-1]:t[0],i<s.length?s[i]:t[t.length-1]]},l.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(i.ascending),a()},l.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},l.unknown=function(t){return arguments.length?(e=t,l):e},l.quantiles=function(){return s.slice()},l.copy=function(){return r().domain(t).range(n).unknown(e)},o.initRange.apply(l,arguments)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/quantize.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/linear.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/init.js");function s(){var e,t=0,n=1,a=1,l=[.5],c=[0,1];function d(t){return null!=t&&t<=t?c[(0,i.bisect)(l,t,0,a)]:e}function u(){var e=-1;for(l=new Array(a);++e<a;)l[e]=((e+1)*n-(e-a)*t)/(a+1);return d}return d.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,u()):[t,n]},d.range=function(e){return arguments.length?(a=(c=Array.from(e)).length-1,u()):c.slice()},d.invertExtent=function(e){var i=c.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,l[0]]:i>=a?[l[a-1],n]:[l[i-1],l[i]]},d.unknown=function(t){return arguments.length?(e=t,d):d},d.thresholds=function(){return l.slice()},d.copy=function(){return s().domain([t,n]).range(c).unknown(e)},r.initRange.apply((0,o.linearish)(d),arguments)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/radial.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/continuous.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/init.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/linear.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/number.js");function a(e){return Math.sign(e)*e*e}function l(){var e,t=(0,i.default)(),n=[0,1],c=!1;function d(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:c?Math.round(i):i}return d.invert=function(e){return t.invert(a(e))},d.domain=function(e){return arguments.length?(t.domain(e),d):t.domain()},d.range=function(e){return arguments.length?(t.range((n=Array.from(e,s.default)).map(a)),d):n.slice()},d.rangeRound=function(e){return d.range(e).round(!0)},d.round=function(e){return arguments.length?(c=!!e,d):c},d.clamp=function(e){return arguments.length?(t.clamp(e),d):t.clamp()},d.unknown=function(t){return arguments.length?(e=t,d):e},d.copy=function(){return l(t.domain(),n).round(c).clamp(t.clamp()).unknown(e)},o.initRange.apply(d,arguments),(0,r.linearish)(d)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/sequential.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{copy:()=>u,default:()=>p,sequentialLog:()=>h,sequentialSymlog:()=>m,sequentialPow:()=>f,sequentialSqrt:()=>g});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-interpolate/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/continuous.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/init.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/linear.js"),a=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/log.js"),l=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/symlog.js"),c=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/pow.js");function d(){var e,t,n,r,s,a=0,l=1,c=o.identity,d=!1;function u(t){return null==t||isNaN(t=+t)?s:c(0===n?.5:(t=(r(t)-e)*n,d?Math.max(0,Math.min(1,t)):t))}function p(e){return function(t){var n,i;return arguments.length?([n,i]=t,c=e(n,i),u):[c(0),c(1)]}}return u.domain=function(i){return arguments.length?([a,l]=i,e=r(a=+a),t=r(l=+l),n=e===t?0:1/(t-e),u):[a,l]},u.clamp=function(e){return arguments.length?(d=!!e,u):d},u.interpolator=function(e){return arguments.length?(c=e,u):c},u.range=p(i.interpolate),u.rangeRound=p(i.interpolateRound),u.unknown=function(e){return arguments.length?(s=e,u):s},function(i){return r=i,e=i(a),t=i(l),n=e===t?0:1/(t-e),u}}function u(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function p(){var e=(0,s.linearish)(d()(o.identity));return e.copy=function(){return u(e,p())},r.initInterpolator.apply(e,arguments)}function h(){var e=(0,a.loggish)(d()).domain([1,10]);return e.copy=function(){return u(e,h()).base(e.base())},r.initInterpolator.apply(e,arguments)}function m(){var e=(0,l.symlogish)(d());return e.copy=function(){return u(e,m()).constant(e.constant())},r.initInterpolator.apply(e,arguments)}function f(){var e=(0,c.powish)(d());return e.copy=function(){return u(e,f()).exponent(e.exponent())},r.initInterpolator.apply(e,arguments)}function g(){return f.apply(null,arguments).exponent(.5)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/sequentialQuantile.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/continuous.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/init.js");function s(){var e=[],t=o.identity;function n(n){if(null!=n&&!isNaN(n=+n))return t(((0,i.bisect)(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(i.ascending),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,o)=>(0,i.quantile)(e,o/t))},n.copy=function(){return s(t).domain(e)},r.initInterpolator.apply(n,arguments)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/symlog.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{symlogish:()=>l,default:()=>c});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/linear.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/continuous.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/init.js");function s(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function a(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function l(e){var t=1,n=e(s(t),a(t));return n.constant=function(n){return arguments.length?e(s(t=+n),a(t)):t},(0,i.linearish)(n)}function c(){var e=l((0,o.transformer)());return e.copy=function(){return(0,o.copy)(e,c()).constant(e.constant())},r.initRange.apply(e,arguments)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/threshold.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/init.js");function r(){var e,t=[.5],n=[0,1],s=1;function a(o){return null!=o&&o<=o?n[(0,i.bisect)(t,o,0,s)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),s=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),s=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var i=n.indexOf(e);return[t[i-1],t[i]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return r().domain(t).range(n).unknown(e)},o.initRange.apply(a,arguments)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/tickFormat.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-format/src/index.js");function r(e,t,n,r){var s,a=(0,i.tickStep)(e,t,n);switch((r=(0,o.formatSpecifier)(null==r?",f":r)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(s=(0,o.precisionPrefix)(a,l))||(r.precision=s),(0,o.formatPrefix)(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(s=(0,o.precisionRound)(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=s-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(s=(0,o.precisionFixed)(a))||(r.precision=s-2*("%"===r.type))}return(0,o.format)(r)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/time.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{calendar:()=>d,default:()=>u});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-time-format/src/index.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/continuous.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/init.js"),a=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/nice.js");function l(e){return new Date(e)}function c(e){return e instanceof Date?+e:+new Date(+e)}function d(e,t,n,i,o,s,u,p,h,m){var f=(0,r.default)(),g=f.invert,v=f.domain,y=m(".%L"),b=m(":%S"),x=m("%I:%M"),w=m("%I %p"),C=m("%a %d"),_=m("%b %d"),S=m("%B"),I=m("%Y");function A(e){return(h(e)<e?y:p(e)<e?b:u(e)<e?x:s(e)<e?w:i(e)<e?o(e)<e?C:_:n(e)<e?S:I)(e)}return f.invert=function(e){return new Date(g(e))},f.domain=function(e){return arguments.length?v(Array.from(e,c)):v().map(l)},f.ticks=function(t){var n=v();return e(n[0],n[n.length-1],null==t?10:t)},f.tickFormat=function(e,t){return null==t?A:m(t)},f.nice=function(e){var n=v();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?v((0,a.default)(n,e)):f},f.copy=function(){return(0,r.copy)(f,d(e,t,n,i,o,s,u,p,h,m))},f}function u(){return s.initRange.apply(d(i.timeTicks,i.timeTickInterval,i.timeYear,i.timeMonth,i.timeWeek,i.timeDay,i.timeHour,i.timeMinute,i.timeSecond,o.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/utcTime.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/node_modules/d3-time-format/src/index.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/time.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-scale/src/init.js");function a(){return s.initRange.apply((0,r.calendar)(i.utcTicks,i.utcTickInterval,i.utcYear,i.utcMonth,i.utcWeek,i.utcDay,i.utcHour,i.utcMinute,i.utcSecond,o.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/day.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,days:()=>a});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/interval.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/duration.js"),r=(0,i.default)(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*o.durationMinute)/o.durationDay,e=>e.getDate()-1);const s=r;var a=r.range},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/duration.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{durationSecond:()=>i,durationMinute:()=>o,durationHour:()=>r,durationDay:()=>s,durationWeek:()=>a,durationMonth:()=>l,durationYear:()=>c});const i=1e3,o=60*i,r=60*o,s=24*r,a=7*s,l=30*s,c=365*s},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/hour.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,hours:()=>a});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/interval.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/duration.js"),r=(0,i.default)(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*o.durationSecond-e.getMinutes()*o.durationMinute)},function(e,t){e.setTime(+e+t*o.durationHour)},function(e,t){return(t-e)/o.durationHour},function(e){return e.getHours()});const s=r;var a=r.range},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{timeInterval:()=>i.default,timeMillisecond:()=>o.default,timeMilliseconds:()=>o.milliseconds,utcMillisecond:()=>o.default,utcMilliseconds:()=>o.milliseconds,timeSecond:()=>r.default,timeSeconds:()=>r.seconds,utcSecond:()=>r.default,utcSeconds:()=>r.seconds,timeMinute:()=>s.default,timeMinutes:()=>s.minutes,timeHour:()=>a.default,timeHours:()=>a.hours,timeDay:()=>l.default,timeDays:()=>l.days,timeWeek:()=>c.sunday,timeWeeks:()=>c.sundays,timeSunday:()=>c.sunday,timeSundays:()=>c.sundays,timeMonday:()=>c.monday,timeMondays:()=>c.mondays,timeTuesday:()=>c.tuesday,timeTuesdays:()=>c.tuesdays,timeWednesday:()=>c.wednesday,timeWednesdays:()=>c.wednesdays,timeThursday:()=>c.thursday,timeThursdays:()=>c.thursdays,timeFriday:()=>c.friday,timeFridays:()=>c.fridays,timeSaturday:()=>c.saturday,timeSaturdays:()=>c.saturdays,timeMonth:()=>d.default,timeMonths:()=>d.months,timeYear:()=>u.default,timeYears:()=>u.years,utcMinute:()=>p.default,utcMinutes:()=>p.utcMinutes,utcHour:()=>h.default,utcHours:()=>h.utcHours,utcDay:()=>m.default,utcDays:()=>m.utcDays,utcWeek:()=>f.utcSunday,utcWeeks:()=>f.utcSundays,utcSunday:()=>f.utcSunday,utcSundays:()=>f.utcSundays,utcMonday:()=>f.utcMonday,utcMondays:()=>f.utcMondays,utcTuesday:()=>f.utcTuesday,utcTuesdays:()=>f.utcTuesdays,utcWednesday:()=>f.utcWednesday,utcWednesdays:()=>f.utcWednesdays,utcThursday:()=>f.utcThursday,utcThursdays:()=>f.utcThursdays,utcFriday:()=>f.utcFriday,utcFridays:()=>f.utcFridays,utcSaturday:()=>f.utcSaturday,utcSaturdays:()=>f.utcSaturdays,utcMonth:()=>g.default,utcMonths:()=>g.utcMonths,utcYear:()=>v.default,utcYears:()=>v.utcYears,utcTicks:()=>y.utcTicks,utcTickInterval:()=>y.utcTickInterval,timeTicks:()=>y.timeTicks,timeTickInterval:()=>y.timeTickInterval});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/interval.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/millisecond.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/second.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/minute.js"),a=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/hour.js"),l=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/day.js"),c=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/week.js"),d=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/month.js"),u=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/year.js"),p=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcMinute.js"),h=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcHour.js"),m=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcDay.js"),f=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcWeek.js"),g=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcMonth.js"),v=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcYear.js"),y=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/ticks.js")},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/interval.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=new Date,o=new Date;function r(e,t,n,s){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=function(t){return e(t=new Date(+t)),t},a.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},a.round=function(e){var t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},a.range=function(n,i,o){var r,s=[];if(n=a.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return s;do{s.push(r=new Date(+n)),t(n,o),e(n)}while(r<n&&n<i);return s},a.filter=function(n){return r(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,i){if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););})},n&&(a.count=function(t,r){return i.setTime(+t),o.setTime(+r),e(i),e(o),Math.floor(n(i,o))},a.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(s?function(t){return s(t)%e==0}:function(t){return a.count(0,t)%e==0}):a:null}),a}},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/millisecond.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r,milliseconds:()=>s});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/interval.js"),o=(0,i.default)(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?(0,i.default)(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):o:null};const r=o;var s=o.range},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/minute.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,minutes:()=>a});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/interval.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/duration.js"),r=(0,i.default)(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*o.durationSecond)},function(e,t){e.setTime(+e+t*o.durationMinute)},function(e,t){return(t-e)/o.durationMinute},function(e){return e.getMinutes()});const s=r;var a=r.range},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/month.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,months:()=>r});var i=(0,n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/interval.js").default)(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});const o=i;var r=i.range},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/second.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,seconds:()=>a});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/interval.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/duration.js"),r=(0,i.default)(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*o.durationSecond)},function(e,t){return(t-e)/o.durationSecond},function(e){return e.getUTCSeconds()});const s=r;var a=r.range},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/ticks.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{utcTicks:()=>x,utcTickInterval:()=>w,timeTicks:()=>C,timeTickInterval:()=>_});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-array/src/index.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/duration.js"),r=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/millisecond.js"),s=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/second.js"),a=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/minute.js"),l=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/hour.js"),c=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/day.js"),d=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/week.js"),u=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/month.js"),p=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/year.js"),h=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcMinute.js"),m=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcHour.js"),f=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcDay.js"),g=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcWeek.js"),v=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcMonth.js"),y=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcYear.js");function b(e,t,n,a,l,c){const d=[[s.default,1,o.durationSecond],[s.default,5,5*o.durationSecond],[s.default,15,15*o.durationSecond],[s.default,30,30*o.durationSecond],[c,1,o.durationMinute],[c,5,5*o.durationMinute],[c,15,15*o.durationMinute],[c,30,30*o.durationMinute],[l,1,o.durationHour],[l,3,3*o.durationHour],[l,6,6*o.durationHour],[l,12,12*o.durationHour],[a,1,o.durationDay],[a,2,2*o.durationDay],[n,1,o.durationWeek],[t,1,o.durationMonth],[t,3,3*o.durationMonth],[e,1,o.durationYear]];function u(t,n,s){const a=Math.abs(n-t)/s,l=(0,i.bisector)(([,,e])=>e).right(d,a);if(l===d.length)return e.every((0,i.tickStep)(t/o.durationYear,n/o.durationYear,s));if(0===l)return r.default.every(Math.max((0,i.tickStep)(t,n,s),1));const[c,u]=d[a/d[l-1][2]<d[l][2]/a?l-1:l];return c.every(u)}return[function(e,t,n){const i=t<e;i&&([e,t]=[t,e]);const o=n&&"function"==typeof n.range?n:u(e,t,n),r=o?o.range(e,+t+1):[];return i?r.reverse():r},u]}const[x,w]=b(y.default,v.default,g.utcSunday,f.default,m.default,h.default),[C,_]=b(p.default,u.default,d.sunday,c.default,l.default,a.default)},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcDay.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,utcDays:()=>a});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/interval.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/duration.js"),r=(0,i.default)(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/o.durationDay},function(e){return e.getUTCDate()-1});const s=r;var a=r.range},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcHour.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,utcHours:()=>a});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/interval.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/duration.js"),r=(0,i.default)(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*o.durationHour)},function(e,t){return(t-e)/o.durationHour},function(e){return e.getUTCHours()});const s=r;var a=r.range},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcMinute.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,utcMinutes:()=>a});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/interval.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/duration.js"),r=(0,i.default)(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*o.durationMinute)},function(e,t){return(t-e)/o.durationMinute},function(e){return e.getUTCMinutes()});const s=r;var a=r.range},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcMonth.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,utcMonths:()=>r});var i=(0,n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/interval.js").default)(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});const o=i;var r=i.range},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcWeek.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{utcSunday:()=>s,utcMonday:()=>a,utcTuesday:()=>l,utcWednesday:()=>c,utcThursday:()=>d,utcFriday:()=>u,utcSaturday:()=>p,utcSundays:()=>h,utcMondays:()=>m,utcTuesdays:()=>f,utcWednesdays:()=>g,utcThursdays:()=>v,utcFridays:()=>y,utcSaturdays:()=>b});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/interval.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/duration.js");function r(e){return(0,i.default)(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/o.durationWeek})}var s=r(0),a=r(1),l=r(2),c=r(3),d=r(4),u=r(5),p=r(6),h=s.range,m=a.range,f=l.range,g=c.range,v=d.range,y=u.range,b=p.range},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/utcYear.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r,utcYears:()=>s});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/interval.js"),o=(0,i.default)(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});o.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,i.default)(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};const r=o;var s=o.range},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/week.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{sunday:()=>s,monday:()=>a,tuesday:()=>l,wednesday:()=>c,thursday:()=>d,friday:()=>u,saturday:()=>p,sundays:()=>h,mondays:()=>m,tuesdays:()=>f,wednesdays:()=>g,thursdays:()=>v,fridays:()=>y,saturdays:()=>b});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/interval.js"),o=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/duration.js");function r(e){return(0,i.default)(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*o.durationMinute)/o.durationWeek})}var s=r(0),a=r(1),l=r(2),c=r(3),d=r(4),u=r(5),p=r(6),h=s.range,m=a.range,f=l.range,g=c.range,v=d.range,y=u.range,b=p.range},"./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/year.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r,years:()=>s});var i=n("./node_modules/@swimlane/ngx-charts/node_modules/d3-time/src/interval.js"),o=(0,i.default)(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});o.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,i.default)(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};const r=o;var s=o.range},"./node_modules/@swimlane/ngx-graph/fesm2015/swimlane-ngx-graph.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Alignment:()=>W,ColaForceDirectedLayout:()=>ee,D3ForceDirectedLayout:()=>K,DagreClusterLayout:()=>Y,DagreLayout:()=>q,DagreNodesOnlyLayout:()=>Q,GraphComponent:()=>ae,GraphModule:()=>ce,MiniMapPosition:()=>oe,MouseWheelDirective:()=>le,NgxGraphModule:()=>de,Orientation:()=>X,PanningAxis:()=>ie,toD3Node:()=>Z,toNode:()=>J,"\u0275a":()=>ne,"\u0275b":()=>se});var i=n("./node_modules/@angular/core/fesm2015/core.js"),o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@swimlane/ngx-charts/fesm2015/swimlane-ngx-charts.js"),s=n("./node_modules/d3-selection/src/index.js"),a=n("./node_modules/d3-shape/src/index.js"),l=n("./node_modules/d3-ease/src/index.js"),c=(n("./node_modules/d3-transition/src/index.js"),n("rxjs")),d=n("./node_modules/rxjs/_esm2015/operators/index.js"),u=n("./node_modules/transformation-matrix/build-es/index.js"),p=n("./node_modules/dagre/index.js"),h=n("./node_modules/d3-force/src/index.js"),m=n("./node_modules/webcola/dist/index.js"),f=n("./node_modules/d3-dispatch/src/index.js"),g=n("./node_modules/d3-timer/src/index.js"),v=n("./node_modules/@angular/common/fesm2015/common.js");const y=["linkTemplate"],b=["nodeTemplate"],x=["clusterTemplate"],w=["defsTemplate"],C=["miniMapNodeTemplate"],_=["nodeElement"],S=["linkElement"];function I(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementContainer"](0,13)),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("ngTemplateOutlet",e.defsTemplate)}}function A(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"path",14)),2&e){const e=t.$implicit;i["\u0275\u0275attribute"]("d",e.textPath)("id",e.id)}}const E=function(e){return{$implicit:e}};function D(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementContainer"](0,19)),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("ngTemplateOutlet",t.clusterTemplate)("ngTemplateOutletContext",i["\u0275\u0275pureFunction1"](2,E,e))}}function T(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",20),i["\u0275\u0275element"](1,"rect"),i["\u0275\u0275elementStart"](2,"text",21),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("width",e.dimension.width)("height",e.dimension.height)("fill",null==e.data?null:e.data.color),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("x",10)("y",e.dimension.height/2),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function R(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",15,16),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).onClick(t)}),i["\u0275\u0275template"](2,D,1,4,"ng-container",17),i["\u0275\u0275template"](3,T,4,6,"g",18),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275classProp"]("old-node",n.animate&&n.oldClusters.has(e.id)),i["\u0275\u0275property"]("id",e.id),i["\u0275\u0275attribute"]("transform",e.transform),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",n.clusterTemplate),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.clusterTemplate)}}function M(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementContainer"](0,19)),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("ngTemplateOutlet",t.linkTemplate)("ngTemplateOutletContext",i["\u0275\u0275pureFunction1"](2,E,e))}}function O(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"path",25)),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275attribute"]("d",e.line)}}function P(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",22,23),i["\u0275\u0275template"](2,M,1,4,"ng-container",17),i["\u0275\u0275template"](3,O,1,1,"path",24),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("id",e.id),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",n.linkTemplate),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.linkTemplate)}}function F(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementContainer"](0,19)),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("ngTemplateOutlet",t.nodeTemplate)("ngTemplateOutletContext",i["\u0275\u0275pureFunction1"](2,E,e))}}function k(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"circle",29)),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275attribute"]("cx",e.dimension.width/2)("cy",e.dimension.height/2)("fill",null==e.data?null:e.data.color)}}function N(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",26,27),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).onClick(t)})("mousedown",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).onNodeMouseDown(t,n)}),i["\u0275\u0275template"](2,F,1,4,"ng-container",17),i["\u0275\u0275template"](3,k,1,3,"circle",28),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275classProp"]("old-node",n.animate&&n.oldNodes.has(e.id)),i["\u0275\u0275property"]("id",e.id),i["\u0275\u0275attribute"]("transform",e.transform),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",n.nodeTemplate),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.nodeTemplate)}}function j(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",3),i["\u0275\u0275listener"]("touchstart",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onTouchStart(t)})("touchend",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onTouchEnd(t)}),i["\u0275\u0275elementStart"](1,"defs"),i["\u0275\u0275template"](2,I,1,1,"ng-container",4),i["\u0275\u0275template"](3,A,1,2,"path",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"rect",6),i["\u0275\u0275listener"]("mousedown",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().isPanning=!0}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275projection"](5),i["\u0275\u0275elementStart"](6,"g",7),i["\u0275\u0275template"](7,R,4,6,"g",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"g",9),i["\u0275\u0275template"](9,P,4,3,"g",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"g",11),i["\u0275\u0275template"](11,N,4,6,"g",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275attribute"]("transform",e.transform),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",e.defsTemplate),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.graph.edges),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("width",100*e.dims.width)("height",100*e.dims.height)("transform","translate("+50*(-e.dims.width||0)+","+50*(-e.dims.height||0)+")"),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",e.graph.clusters)("ngForTrackBy",e.trackNodeBy),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.graph.edges)("ngForTrackBy",e.trackLinkBy),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.graph.nodes)("ngForTrackBy",e.trackNodeBy)}}function L(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementContainer"](0,19)),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("ngTemplateOutlet",t.miniMapNodeTemplate)("ngTemplateOutletContext",i["\u0275\u0275pureFunction1"](2,E,e))}}function V(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementContainer"](0,19)),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("ngTemplateOutlet",t.nodeTemplate)("ngTemplateOutletContext",i["\u0275\u0275pureFunction1"](2,E,e))}}function B(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"circle",29)),2&e){const e=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275attribute"]("cx",e.dimension.width/2/t.minimapScaleCoefficient)("cy",e.dimension.height/2/t.minimapScaleCoefficient)("fill",null==e.data?null:e.data.color)}}function G(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",35,27),i["\u0275\u0275template"](2,L,1,4,"ng-container",17),i["\u0275\u0275template"](3,V,1,4,"ng-container",17),i["\u0275\u0275template"](4,B,1,3,"circle",28),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275classProp"]("old-node",n.animate&&n.oldNodes.has(e.id)),i["\u0275\u0275property"]("id",e.id),i["\u0275\u0275attribute"]("transform",e.transform),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",n.miniMapNodeTemplate),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.miniMapNodeTemplate&&n.nodeTemplate),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.nodeTemplate&&!n.miniMapNodeTemplate)}}function z(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"g",30),i["\u0275\u0275elementStart"](1,"rect",31),i["\u0275\u0275listener"]("mousedown",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onMinimapPanTo(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"g"),i["\u0275\u0275elementStart"](3,"g",32),i["\u0275\u0275template"](4,G,5,7,"g",33),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"rect",34),i["\u0275\u0275listener"]("mousedown",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onMinimapDragMouseDown()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275attribute"]("transform",e.minimapTransform)("clip-path","url(#"+e.minimapClipPathId+")"),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("width",e.graphDims.width/e.minimapScaleCoefficient)("height",e.graphDims.height/e.minimapScaleCoefficient),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("transform","translate("+-e.minimapOffsetX/e.minimapScaleCoefficient+"px,"+-e.minimapOffsetY/e.minimapScaleCoefficient+"px)"),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("transform","scale("+1/e.minimapScaleCoefficient+")"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.graph.nodes)("ngForTrackBy",e.trackNodeBy),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("panning",e.isMinimapPanning),i["\u0275\u0275attribute"]("transform","translate("+e.panOffsetX/e.zoomLevel/-e.minimapScaleCoefficient+","+e.panOffsetY/e.zoomLevel/-e.minimapScaleCoefficient+")")("width",e.width/e.minimapScaleCoefficient/e.zoomLevel)("height",e.height/e.minimapScaleCoefficient/e.zoomLevel)}}const $=function(e,t){return[e,t]},U={};function H(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,U[e]?H():(U[e]=!0,e)}var X,W;!function(e){e.LEFT_TO_RIGHT="LR",e.RIGHT_TO_LEFT="RL",e.TOP_TO_BOTTOM="TB",e.BOTTOM_TO_TOM="BT"}(X||(X={})),function(e){e.CENTER="C",e.UP_LEFT="UL",e.UP_RIGHT="UR",e.DOWN_LEFT="DL",e.DOWN_RIGHT="DR"}(W||(W={}));class q{constructor(){this.defaultSettings={orientation:X.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(e){this.createDagreGraph(e),(0,p.layout)(this.dagreGraph),e.edgeLabels=this.dagreGraph._edgeLabels;for(const t in this.dagreGraph._nodes){const n=this.dagreGraph._nodes[t],i=e.nodes.find(e=>e.id===n.id);i.position={x:n.x,y:n.y},i.dimension={width:n.width,height:n.height}}return e}updateEdge(e,t){const n=e.nodes.find(e=>e.id===t.source),i=e.nodes.find(e=>e.id===t.target),o=n.position.y<=i.position.y?-1:1,r={x:n.position.x,y:n.position.y-o*(n.dimension.height/2)},s={x:i.position.x,y:i.position.y+o*(i.dimension.height/2)};return t.points=[r,s],e}createDagreGraph(e){const t=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new p.graphlib.Graph({compound:t.compound,multigraph:t.multigraph}),this.dagreGraph.setGraph({rankdir:t.orientation,marginx:t.marginX,marginy:t.marginY,edgesep:t.edgePadding,ranksep:t.rankPadding,nodesep:t.nodePadding,align:t.align,acyclicer:t.acyclicer,ranker:t.ranker,multigraph:t.multigraph,compound:t.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=e.nodes.map(e=>{const t=Object.assign({},e);return t.width=e.dimension.width,t.height=e.dimension.height,t.x=e.position.x,t.y=e.position.y,t}),this.dagreEdges=e.edges.map(e=>{const t=Object.assign({},e);return t.id||(t.id=H()),t});for(const n of this.dagreNodes)n.width||(n.width=20),n.height||(n.height=30),this.dagreGraph.setNode(n.id,n);for(const n of this.dagreEdges)t.multigraph?this.dagreGraph.setEdge(n.source,n.target,n,n.id):this.dagreGraph.setEdge(n.source,n.target);return this.dagreGraph}}class Y{constructor(){this.defaultSettings={orientation:X.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(e){this.createDagreGraph(e),(0,p.layout)(this.dagreGraph),e.edgeLabels=this.dagreGraph._edgeLabels;const t=e=>{const t=this.dagreGraph._nodes[e.id];return Object.assign(Object.assign({},e),{position:{x:t.x,y:t.y},dimension:{width:t.width,height:t.height}})};return e.clusters=(e.clusters||[]).map(t),e.nodes=e.nodes.map(t),e}updateEdge(e,t){const n=e.nodes.find(e=>e.id===t.source),i=e.nodes.find(e=>e.id===t.target),o=n.position.y<=i.position.y?-1:1,r={x:n.position.x,y:n.position.y-o*(n.dimension.height/2)},s={x:i.position.x,y:i.position.y+o*(i.dimension.height/2)};return t.points=[r,s],e}createDagreGraph(e){const t=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new p.graphlib.Graph({compound:t.compound,multigraph:t.multigraph}),this.dagreGraph.setGraph({rankdir:t.orientation,marginx:t.marginX,marginy:t.marginY,edgesep:t.edgePadding,ranksep:t.rankPadding,nodesep:t.nodePadding,align:t.align,acyclicer:t.acyclicer,ranker:t.ranker,multigraph:t.multigraph,compound:t.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=e.nodes.map(e=>{const t=Object.assign({},e);return t.width=e.dimension.width,t.height=e.dimension.height,t.x=e.position.x,t.y=e.position.y,t}),this.dagreClusters=e.clusters||[],this.dagreEdges=e.edges.map(e=>{const t=Object.assign({},e);return t.id||(t.id=H()),t});for(const n of this.dagreNodes)this.dagreGraph.setNode(n.id,n);for(const n of this.dagreClusters)this.dagreGraph.setNode(n.id,n),n.childNodeIds.forEach(e=>{this.dagreGraph.setParent(e,n.id)});for(const n of this.dagreEdges)t.multigraph?this.dagreGraph.setEdge(n.source,n.target,n,n.id):this.dagreGraph.setEdge(n.source,n.target);return this.dagreGraph}}class Q{constructor(){this.defaultSettings={orientation:X.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,curveDistance:20,multigraph:!0,compound:!0},this.settings={}}run(e){this.createDagreGraph(e),(0,p.layout)(this.dagreGraph),e.edgeLabels=this.dagreGraph._edgeLabels;for(const t in this.dagreGraph._nodes){const n=this.dagreGraph._nodes[t],i=e.nodes.find(e=>e.id===n.id);i.position={x:n.x,y:n.y},i.dimension={width:n.width,height:n.height}}for(const t of e.edges)this.updateEdge(e,t);return e}updateEdge(e,t){const n=e.nodes.find(e=>e.id===t.source),i=e.nodes.find(e=>e.id===t.target),o="BT"===this.settings.orientation||"TB"===this.settings.orientation?"y":"x",r="y"===o?"x":"y",s="y"===o?"height":"width",a=n.position[o]<=i.position[o]?-1:1,l={[r]:n.position[r],[o]:n.position[o]-a*(n.dimension[s]/2)},c={[r]:i.position[r],[o]:i.position[o]+a*(i.dimension[s]/2)},d=this.settings.curveDistance||this.defaultSettings.curveDistance;t.points=[l,{[r]:l[r],[o]:l[o]-a*d},{[r]:c[r],[o]:c[o]+a*d},c];const u=`${t.source}\x01${t.target}\x01\0`,p=e.edgeLabels[u];return p&&(p.points=t.points),e}createDagreGraph(e){const t=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new p.graphlib.Graph({compound:t.compound,multigraph:t.multigraph}),this.dagreGraph.setGraph({rankdir:t.orientation,marginx:t.marginX,marginy:t.marginY,edgesep:t.edgePadding,ranksep:t.rankPadding,nodesep:t.nodePadding,align:t.align,acyclicer:t.acyclicer,ranker:t.ranker,multigraph:t.multigraph,compound:t.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=e.nodes.map(e=>{const t=Object.assign({},e);return t.width=e.dimension.width,t.height=e.dimension.height,t.x=e.position.x,t.y=e.position.y,t}),this.dagreEdges=e.edges.map(e=>{const t=Object.assign({},e);return t.id||(t.id=H()),t});for(const n of this.dagreNodes)n.width||(n.width=20),n.height||(n.height=30),this.dagreGraph.setNode(n.id,n);for(const n of this.dagreEdges)t.multigraph?this.dagreGraph.setEdge(n.source,n.target,n,n.id):this.dagreGraph.setEdge(n.source,n.target);return this.dagreGraph}}function Z(e){return"string"==typeof e?{id:e,x:0,y:0}:e}class K{constructor(){this.defaultSettings={force:(0,h.forceSimulation)().force("charge",(0,h.forceManyBody)().strength(-150)).force("collide",(0,h.forceCollide)(5)),forceLink:(0,h.forceLink)().id(e=>e.id).distance(()=>100)},this.settings={},this.outputGraph$=new c.Subject}run(e){return this.inputGraph=e,this.d3Graph={nodes:[...this.inputGraph.nodes.map(e=>Object.assign({},e))],edges:[...this.inputGraph.edges.map(e=>Object.assign({},e))]},this.outputGraph={nodes:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&this.settings.force.nodes(this.d3Graph.nodes).force("link",this.settings.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}updateEdge(e,t){const n=Object.assign({},this.defaultSettings,this.settings);return n.force&&n.force.nodes(this.d3Graph.nodes).force("link",n.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}d3GraphToOutputGraph(e){return this.outputGraph.nodes=this.d3Graph.nodes.map(e=>Object.assign(Object.assign({},e),{id:e.id||H(),position:{x:e.x,y:e.y},dimension:{width:e.dimension&&e.dimension.width||20,height:e.dimension&&e.dimension.height||20},transform:`translate(${e.x-(e.dimension&&e.dimension.width||20)/2||0}, ${e.y-(e.dimension&&e.dimension.height||20)/2||0})`})),this.outputGraph.edges=this.d3Graph.edges.map(e=>Object.assign(Object.assign({},e),{source:Z(e.source).id,target:Z(e.target).id,points:[{x:Z(e.source).x,y:Z(e.source).y},{x:Z(e.target).x,y:Z(e.target).y}]})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(e,t){this.settings.force.alphaTarget(.3).restart();const n=this.d3Graph.nodes.find(t=>t.id===e.id);n&&(this.draggingStart={x:t.x-n.x,y:t.y-n.y},n.fx=t.x-this.draggingStart.x,n.fy=t.y-this.draggingStart.y)}onDrag(e,t){if(!e)return;const n=this.d3Graph.nodes.find(t=>t.id===e.id);n&&(n.fx=t.x-this.draggingStart.x,n.fy=t.y-this.draggingStart.y)}onDragEnd(e,t){if(!e)return;const n=this.d3Graph.nodes.find(t=>t.id===e.id);n&&(this.settings.force.alphaTarget(0),n.fx=void 0,n.fy=void 0)}}function J(e,t){return"number"==typeof t?e[t]:t}class ee{constructor(){this.defaultSettings={force:(0,m.d3adaptor)(Object.assign(Object.assign(Object.assign({},f),h),g)).linkDistance(150).avoidOverlaps(!0),viewDimensions:{width:600,height:600,xOffset:0}},this.settings={},this.outputGraph$=new c.Subject}run(e){return this.inputGraph=e,this.inputGraph.clusters||(this.inputGraph.clusters=[]),this.internalGraph={nodes:[...this.inputGraph.nodes.map(e=>Object.assign(Object.assign({},e),{width:e.dimension?e.dimension.width:20,height:e.dimension?e.dimension.height:20}))],groups:[...this.inputGraph.clusters.map(e=>({padding:5,groups:e.childNodeIds.map(e=>this.inputGraph.clusters.findIndex(t=>t.id===e)).filter(e=>e>=0),leaves:e.childNodeIds.map(e=>this.inputGraph.nodes.findIndex(t=>t.id===e)).filter(e=>e>=0)}))],links:[...this.inputGraph.edges.map(e=>{const t=this.inputGraph.nodes.findIndex(t=>e.source===t.id),n=this.inputGraph.nodes.findIndex(t=>e.target===t.id);if(-1!==t&&-1!==n)return Object.assign(Object.assign({},e),{source:t,target:n})}).filter(e=>!!e)],groupLinks:[...this.inputGraph.edges.map(e=>{const t=this.inputGraph.nodes.findIndex(t=>e.source===t.id),n=this.inputGraph.nodes.findIndex(t=>e.target===t.id);if(!(t>=0&&n>=0))return e}).filter(e=>!!e)]},this.outputGraph={nodes:[],clusters:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&(this.settings.force=this.settings.force.nodes(this.internalGraph.nodes).groups(this.internalGraph.groups).links(this.internalGraph.links).alpha(.5).on("tick",()=>{this.settings.onTickListener&&this.settings.onTickListener(this.internalGraph),this.outputGraph$.next(this.internalGraphToOutputGraph(this.internalGraph))}),this.settings.viewDimensions&&(this.settings.force=this.settings.force.size([this.settings.viewDimensions.width,this.settings.viewDimensions.height])),this.settings.forceModifierFn&&(this.settings.force=this.settings.forceModifierFn(this.settings.force)),this.settings.force.start()),this.outputGraph$.asObservable()}updateEdge(e,t){const n=Object.assign({},this.defaultSettings,this.settings);return n.force&&n.force.start(),this.outputGraph$.asObservable()}internalGraphToOutputGraph(e){return this.outputGraph.nodes=e.nodes.map(e=>Object.assign(Object.assign({},e),{id:e.id||H(),position:{x:e.x,y:e.y},dimension:{width:e.dimension&&e.dimension.width||20,height:e.dimension&&e.dimension.height||20},transform:`translate(${e.x-(e.dimension&&e.dimension.width||20)/2||0}, ${e.y-(e.dimension&&e.dimension.height||20)/2||0})`})),this.outputGraph.edges=e.links.map(t=>{const n=J(e.nodes,t.source),i=J(e.nodes,t.target);return Object.assign(Object.assign({},t),{source:n.id,target:i.id,points:[n.bounds.rayIntersection(i.bounds.cx(),i.bounds.cy()),i.bounds.rayIntersection(n.bounds.cx(),n.bounds.cy())]})}).concat(e.groupLinks.map(t=>{const n=e.nodes.find(e=>e.id===t.source),i=e.nodes.find(e=>e.id===t.target),o=n||e.groups.find(e=>e.id===t.source),r=i||e.groups.find(e=>e.id===t.target);return Object.assign(Object.assign({},t),{source:o.id,target:r.id,points:[o.bounds.rayIntersection(r.bounds.cx(),r.bounds.cy()),r.bounds.rayIntersection(o.bounds.cx(),o.bounds.cy())]})})),this.outputGraph.clusters=e.groups.map((e,t)=>{const n=this.inputGraph.clusters[t];return Object.assign(Object.assign({},n),{dimension:{width:e.bounds?e.bounds.width():20,height:e.bounds?e.bounds.height():20},position:{x:e.bounds?e.bounds.x+e.bounds.width()/2:0,y:e.bounds?e.bounds.y+e.bounds.height()/2:0}})}),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(e,t){const n=this.outputGraph.nodes.findIndex(t=>t.id===e.id),i=this.internalGraph.nodes[n];i&&(this.draggingStart={x:i.x-t.x,y:i.y-t.y},i.fixed=1,this.settings.force.start())}onDrag(e,t){if(!e)return;const n=this.outputGraph.nodes.findIndex(t=>t.id===e.id),i=this.internalGraph.nodes[n];i&&(i.x=this.draggingStart.x+t.x,i.y=this.draggingStart.y+t.y)}onDragEnd(e,t){if(!e)return;const n=this.outputGraph.nodes.findIndex(t=>t.id===e.id),i=this.internalGraph.nodes[n];i&&(i.fixed=0)}}const te={dagre:q,dagreCluster:Y,dagreNodesOnly:Q,d3ForceDirected:K,colaForceDirected:ee};class ne{getLayout(e){if(te[e])return new te[e];throw new Error(`Unknown layout type '${e}'`)}}var ie,oe;function re(e,t,n){let i,o,r;n=n||{};let s=null,a=0;function l(){a=!1===n.leading?0:+new Date,s=null,r=e.apply(i,o)}return function(){const c=+new Date;a||!1!==n.leading||(a=c);const d=t-(c-a);return i=this,o=arguments,d<=0?(clearTimeout(s),s=null,a=c,r=e.apply(i,o)):s||!1===n.trailing||(s=setTimeout(l,d)),r}}function se(e,t){return function(n,i,o){return{configurable:!0,enumerable:o.enumerable,get:function(){return Object.defineProperty(this,i,{configurable:!0,enumerable:o.enumerable,value:re(o.value,e,t)}),this[i]}}}}ne.\u0275fac=function(e){return new(e||ne)},ne.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ne,factory:ne.\u0275fac}),function(e){e.Both="both",e.Horizontal="horizontal",e.Vertical="vertical"}(ie||(ie={})),function(e){e.UpperLeft="UpperLeft",e.UpperRight="UpperRight"}(oe||(oe={}));class ae extends r.BaseChartComponent{constructor(e,t,n,o){super(e,t,n),this.el=e,this.zone=t,this.cd=n,this.layoutService=o,this.legend=!1,this.nodes=[],this.clusters=[],this.links=[],this.activeEntries=[],this.draggingEnabled=!0,this.panningEnabled=!0,this.panningAxis=ie.Both,this.enableZoom=!0,this.zoomSpeed=.1,this.minZoomLevel=.1,this.maxZoomLevel=4,this.autoZoom=!1,this.panOnZoom=!0,this.animate=!1,this.autoCenter=!1,this.enableTrackpadSupport=!1,this.showMiniMap=!1,this.miniMapMaxWidth=100,this.miniMapPosition=oe.UpperRight,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.zoomChange=new i.EventEmitter,this.clickHandler=new i.EventEmitter,this.isMouseMoveCalled=!1,this.graphSubscription=new c.Subscription,this.subscriptions=[],this.margin=[0,0,0,0],this.results=[],this.isPanning=!1,this.isDragging=!1,this.initialized=!1,this.graphDims={width:0,height:0},this._oldLinks=[],this.oldNodes=new Set,this.oldClusters=new Set,this.transformationMatrix=(0,u.identity)(),this._touchLastX=null,this._touchLastY=null,this.minimapScaleCoefficient=3,this.minimapOffsetX=0,this.minimapOffsetY=0,this.isMinimapPanning=!1,this.groupResultsBy=e=>e.label}get zoomLevel(){return this.transformationMatrix.a}set zoomLevel(e){this.zoomTo(Number(e))}get panOffsetX(){return this.transformationMatrix.e}set panOffsetX(e){this.panTo(Number(e),null)}get panOffsetY(){return this.transformationMatrix.f}set panOffsetY(e){this.panTo(null,Number(e))}ngOnInit(){this.update$&&this.subscriptions.push(this.update$.subscribe(()=>{this.update()})),this.center$&&this.subscriptions.push(this.center$.subscribe(()=>{this.center()})),this.zoomToFit$&&this.subscriptions.push(this.zoomToFit$.subscribe(()=>{this.zoomToFit()})),this.panToNode$&&this.subscriptions.push(this.panToNode$.subscribe(e=>{this.panToNodeId(e)})),this.minimapClipPathId=`minimapClip${H()}`}ngOnChanges(e){const{layout:t,layoutSettings:n,nodes:i,clusters:o,links:r}=e;this.setLayout(this.layout),n&&this.setLayoutSettings(this.layoutSettings),this.update()}setLayout(e){this.initialized=!1,e||(e="dagre"),"string"==typeof e&&(this.layout=this.layoutService.getLayout(e),this.setLayoutSettings(this.layoutSettings))}setLayoutSettings(e){this.layout&&"string"!=typeof this.layout&&(this.layout.settings=e)}ngOnDestroy(){super.ngOnDestroy();for(const e of this.subscriptions)e.unsubscribe();this.subscriptions=null}ngAfterViewInit(){super.ngAfterViewInit(),setTimeout(()=>this.update())}update(){super.update(),this.curve||(this.curve=a.curveBundle.beta(1)),this.zone.run(()=>{this.dims=(0,r.calculateViewDimensions)({width:this.width,height:this.height,margins:this.margin,showLegend:this.legend}),this.seriesDomain=this.getSeriesDomain(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.createGraph(),this.updateTransform(),this.initialized=!0})}createGraph(){this.graphSubscription.unsubscribe(),this.graphSubscription=new c.Subscription;const e=e=>(e.meta||(e.meta={}),e.id||(e.id=H()),e.dimension?e.meta.forceDimensions=void 0===e.meta.forceDimensions||e.meta.forceDimensions:(e.dimension={width:this.nodeWidth?this.nodeWidth:30,height:this.nodeHeight?this.nodeHeight:30},e.meta.forceDimensions=!1),e.position={x:0,y:0},e.data=e.data?e.data:{},e);this.graph={nodes:this.nodes.length>0?[...this.nodes].map(e):[],clusters:this.clusters&&this.clusters.length>0?[...this.clusters].map(e):[],edges:this.links.length>0?[...this.links].map(e=>(e.id||(e.id=H()),e)):[]},requestAnimationFrame(()=>this.draw())}draw(){if(!this.layout||"string"==typeof this.layout)return;this.applyNodeDimensions();const e=this.layout.run(this.graph),t=e instanceof c.Observable?e:(0,c.of)(e);this.graphSubscription.add(t.subscribe(e=>{this.graph=e,this.tick()})),0!==this.graph.nodes.length&&t.pipe((0,d.first)()).subscribe(()=>this.applyNodeDimensions())}tick(){const e=new Set;this.graph.nodes.map(t=>{t.transform=`translate(${t.position.x-t.dimension.width/2||0}, ${t.position.y-t.dimension.height/2||0})`,t.data||(t.data={}),t.data.color=this.colors.getColor(this.groupResultsBy(t)),e.add(t.id)});const t=new Set;(this.graph.clusters||[]).map(e=>{e.transform=`translate(${e.position.x-e.dimension.width/2||0}, ${e.position.y-e.dimension.height/2||0})`,e.data||(e.data={}),e.data.color=this.colors.getColor(this.groupResultsBy(e)),t.add(e.id)}),setTimeout(()=>{this.oldNodes=e,this.oldClusters=t},500);const n=[];for(const i in this.graph.edgeLabels){const e=this.graph.edgeLabels[i],t=i.replace(/[^\w-]*/g,""),o=this.layout&&"string"!=typeof this.layout&&this.layout.settings&&this.layout.settings.multigraph;let r=o?this._oldLinks.find(e=>`${e.source}${e.target}${e.id}`===t):this._oldLinks.find(e=>`${e.source}${e.target}`===t);const s=o?this.graph.edges.find(e=>`${e.source}${e.target}${e.id}`===t):this.graph.edges.find(e=>`${e.source}${e.target}`===t);r?r.data&&s&&s.data&&JSON.stringify(r.data)!==JSON.stringify(s.data)&&(r.data=s.data):r=s||e,r.oldLine=r.line;const a=e.points,l=this.generateLine(a),c=Object.assign({},r);c.line=l,c.points=a,this.updateMidpointOnEdge(c,a);const d=a[Math.floor(a.length/2)];d&&(c.textTransform=`translate(${d.x||0},${d.y||0})`),c.textAngle=0,c.oldLine||(c.oldLine=c.line),this.calcDominantBaseline(c),n.push(c)}this.graph.edges=n,this.graph.edges&&(this._oldLinks=this.graph.edges.map(e=>{const t=Object.assign({},e);return t.oldLine=e.line,t})),this.updateMinimap(),this.autoZoom&&this.zoomToFit(),this.autoCenter&&this.center(),requestAnimationFrame(()=>this.redrawLines()),this.cd.markForCheck()}getMinimapTransform(){switch(this.miniMapPosition){case oe.UpperLeft:return"";case oe.UpperRight:return"translate("+(this.dims.width-this.graphDims.width/this.minimapScaleCoefficient)+",0)";default:return""}}updateGraphDims(){let e=1/0,t=-1/0,n=1/0,i=-1/0;for(let o=0;o<this.graph.nodes.length;o++){const r=this.graph.nodes[o];e=r.position.x<e?r.position.x:e,n=r.position.y<n?r.position.y:n,t=r.position.x+r.dimension.width>t?r.position.x+r.dimension.width:t,i=r.position.y+r.dimension.height>i?r.position.y+r.dimension.height:i}e-=100,n-=100,t+=100,i+=100,this.graphDims.width=t-e,this.graphDims.height=i-n,this.minimapOffsetX=e,this.minimapOffsetY=n}updateMinimap(){this.graph.nodes&&this.graph.nodes.length&&(this.updateGraphDims(),this.miniMapMaxWidth&&(this.minimapScaleCoefficient=this.graphDims.width/this.miniMapMaxWidth),this.miniMapMaxHeight&&(this.minimapScaleCoefficient=Math.max(this.minimapScaleCoefficient,this.graphDims.height/this.miniMapMaxHeight)),this.minimapTransform=this.getMinimapTransform())}applyNodeDimensions(){this.nodeElements&&this.nodeElements.length&&this.nodeElements.map(e=>{const t=e.nativeElement,n=this.graph.nodes.find(e=>e.id===t.id);if(!n)return;let i;try{if(i=t.getBBox(),!i.width||!i.height)return}catch(o){return}if(this.nodeHeight?n.dimension.height=n.dimension.height&&n.meta.forceDimensions?n.dimension.height:this.nodeHeight:n.dimension.height=n.dimension.height&&n.meta.forceDimensions?n.dimension.height:i.height,this.nodeMaxHeight&&(n.dimension.height=Math.max(n.dimension.height,this.nodeMaxHeight)),this.nodeMinHeight&&(n.dimension.height=Math.min(n.dimension.height,this.nodeMinHeight)),this.nodeWidth)n.dimension.width=n.dimension.width&&n.meta.forceDimensions?n.dimension.width:this.nodeWidth;else if(t.getElementsByTagName("text").length){let e;try{for(const n of t.getElementsByTagName("text")){const t=n.getBBox();e?(t.width>e.width&&(e.width=t.width),t.height>e.height&&(e.height=t.height)):e=t}}catch(o){return}n.dimension.width=n.dimension.width&&n.meta.forceDimensions?n.dimension.width:e.width+20}else n.dimension.width=n.dimension.width&&n.meta.forceDimensions?n.dimension.width:i.width;this.nodeMaxWidth&&(n.dimension.width=Math.max(n.dimension.width,this.nodeMaxWidth)),this.nodeMinWidth&&(n.dimension.width=Math.min(n.dimension.width,this.nodeMinWidth))})}redrawLines(e=this.animate){this.linkElements.map(t=>{const n=this.graph.edges.find(e=>e.id===t.nativeElement.id);if(n){(0,s.select)(t.nativeElement).select(".line").attr("d",n.oldLine).transition().ease(l.easeSinInOut).duration(e?500:0).attr("d",n.line);(0,s.select)(this.chartElement.nativeElement).select(`#${n.id}`).attr("d",n.oldTextPath).transition().ease(l.easeSinInOut).duration(e?500:0).attr("d",n.textPath),this.updateMidpointOnEdge(n,n.points)}})}calcDominantBaseline(e){const t=e.points[0],n=e.points[e.points.length-1];e.oldTextPath=e.textPath,n.x<t.x?(e.dominantBaseline="text-before-edge",e.textPath=this.generateLine([...e.points].reverse())):(e.dominantBaseline="text-after-edge",e.textPath=e.line)}generateLine(e){return(0,a.line)().x(e=>e.x).y(e=>e.y).curve(this.curve)(e)}onZoom(e,t){if(this.enableTrackpadSupport&&!e.ctrlKey)return void this.pan(-1*e.deltaX,-1*e.deltaY);const n=1+("in"===t?this.zoomSpeed:-this.zoomSpeed),i=this.zoomLevel*n;if(!(i<=this.minZoomLevel||i>=this.maxZoomLevel)&&this.enableZoom)if(!0===this.panOnZoom&&e){const t=e.clientX,i=e.clientY,o=this.chart.nativeElement.querySelector("svg"),r=o.querySelector("g.chart"),s=o.createSVGPoint();s.x=t,s.y=i;const a=s.matrixTransform(r.getScreenCTM().inverse());this.pan(a.x,a.y,!0),this.zoom(n),this.pan(-a.x,-a.y,!0)}else this.zoom(n)}pan(e,t,n=!1){const i=n?1:this.zoomLevel;this.transformationMatrix=(0,u.transform)(this.transformationMatrix,(0,u.translate)(e/i,t/i)),this.updateTransform()}panTo(e,t){if(null==e||isNaN(e)||null==t||isNaN(t))return;const n=-this.panOffsetX-e*this.zoomLevel+this.dims.width/2,i=-this.panOffsetY-t*this.zoomLevel+this.dims.height/2;this.transformationMatrix=(0,u.transform)(this.transformationMatrix,(0,u.translate)(n/this.zoomLevel,i/this.zoomLevel)),this.updateTransform()}zoom(e){this.transformationMatrix=(0,u.transform)(this.transformationMatrix,(0,u.scale)(e,e)),this.zoomChange.emit(this.zoomLevel),this.updateTransform()}zoomTo(e){this.transformationMatrix.a=isNaN(e)?this.transformationMatrix.a:Number(e),this.transformationMatrix.d=isNaN(e)?this.transformationMatrix.d:Number(e),this.zoomChange.emit(this.zoomLevel),this.updateTransform(),this.update()}onDrag(e){if(!this.draggingEnabled)return;const t=this.draggingNode;this.layout&&"string"!=typeof this.layout&&this.layout.onDrag&&this.layout.onDrag(t,e),t.position.x+=e.movementX/this.zoomLevel,t.position.y+=e.movementY/this.zoomLevel;const n=t.position.x-t.dimension.width/2,i=t.position.y-t.dimension.height/2;t.transform=`translate(${n}, ${i})`;for(const o of this.graph.edges)if((o.target===t.id||o.source===t.id||o.target.id===t.id||o.source.id===t.id)&&this.layout&&"string"!=typeof this.layout){const e=this.layout.updateEdge(this.graph,o),t=e instanceof c.Observable?e:(0,c.of)(e);this.graphSubscription.add(t.subscribe(e=>{this.graph=e,this.redrawEdge(o)}))}this.redrawLines(!1),this.updateMinimap()}redrawEdge(e){const t=this.generateLine(e.points);this.calcDominantBaseline(e),e.oldLine=e.line,e.line=t}updateTransform(){this.transform=(0,u.toSVG)((0,u.smoothMatrix)(this.transformationMatrix,100))}onClick(e){this.select.emit(e)}onActivate(e){this.activeEntries.indexOf(e)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){const t=this.activeEntries.indexOf(e);this.activeEntries.splice(t,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}getSeriesDomain(){return this.nodes.map(e=>this.groupResultsBy(e)).reduce((e,t)=>-1!==e.indexOf(t)?e:e.concat([t]),[]).sort()}trackLinkBy(e,t){return t.id}trackNodeBy(e,t){return t.id}setColors(){this.colors=new r.ColorHelper(this.scheme,"ordinal",this.seriesDomain,this.customColors)}getLegendOptions(){return{scaleType:"ordinal",domain:this.seriesDomain,colors:this.colors}}onMouseMove(e){this.isMouseMoveCalled=!0,(this.isPanning||this.isMinimapPanning)&&this.panningEnabled?this.panWithConstraints(this.panningAxis,e):this.isDragging&&this.draggingEnabled&&this.onDrag(e)}onMouseDown(e){this.isMouseMoveCalled=!1}graphClick(e){this.isMouseMoveCalled||this.clickHandler.emit(e)}onTouchStart(e){this._touchLastX=e.changedTouches[0].clientX,this._touchLastY=e.changedTouches[0].clientY,this.isPanning=!0}onTouchMove(e){if(this.isPanning&&this.panningEnabled){const t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY,i=t-this._touchLastX,o=n-this._touchLastY;this._touchLastX=t,this._touchLastY=n,this.pan(i,o)}}onTouchEnd(e){this.isPanning=!1}onMouseUp(e){this.isDragging=!1,this.isPanning=!1,this.isMinimapPanning=!1,this.layout&&"string"!=typeof this.layout&&this.layout.onDragEnd&&this.layout.onDragEnd(this.draggingNode,e)}onNodeMouseDown(e,t){this.draggingEnabled&&(this.isDragging=!0,this.draggingNode=t,this.layout&&"string"!=typeof this.layout&&this.layout.onDragStart&&this.layout.onDragStart(t,e))}onMinimapDragMouseDown(){this.isMinimapPanning=!0}onMinimapPanTo(e){let t=e.offsetX-(this.dims.width-(this.graphDims.width+this.minimapOffsetX)/this.minimapScaleCoefficient),n=e.offsetY+this.minimapOffsetY/this.minimapScaleCoefficient;this.panTo(t*this.minimapScaleCoefficient,n*this.minimapScaleCoefficient),this.isMinimapPanning=!0}center(){this.panTo(this.graphDims.width/2,this.graphDims.height/2)}zoomToFit(){const e=this.dims.height/this.graphDims.height,t=this.dims.width/this.graphDims.width;let n=Math.min(e,t,1);n<this.minZoomLevel&&(n=this.minZoomLevel),n>this.maxZoomLevel&&(n=this.maxZoomLevel),n!==this.zoomLevel&&(this.zoomLevel=n,this.updateTransform(),this.zoomChange.emit(this.zoomLevel))}panToNodeId(e){const t=this.graph.nodes.find(t=>t.id===e);t&&this.panTo(t.position.x,t.position.y)}panWithConstraints(e,t){let n=t.movementX,i=t.movementY;switch(this.isMinimapPanning&&(n=-this.minimapScaleCoefficient*n*this.zoomLevel,i=-this.minimapScaleCoefficient*i*this.zoomLevel),e){case ie.Horizontal:this.pan(n,0);break;case ie.Vertical:this.pan(0,i);break;default:this.pan(n,i)}}updateMidpointOnEdge(e,t){if(e&&t)if(t.length%2==1)e.midPoint=t[Math.floor(t.length/2)];else{const n=t[t.length/2],i=t[t.length/2-1];e.midPoint={x:(n.x+i.x)/2,y:(n.y+i.y)/2}}}}ae.\u0275fac=function(e){return new(e||ae)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](ne))},ae.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ae,selectors:[["ngx-graph"]],contentQueries:function(e,t,n){if(1&e&&(i["\u0275\u0275contentQuery"](n,y,5),i["\u0275\u0275contentQuery"](n,b,5),i["\u0275\u0275contentQuery"](n,x,5),i["\u0275\u0275contentQuery"](n,w,5),i["\u0275\u0275contentQuery"](n,C,5)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.linkTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.nodeTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.clusterTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.defsTemplate=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.miniMapNodeTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&(i["\u0275\u0275viewQuery"](r.ChartComponent,7,i.ElementRef),i["\u0275\u0275viewQuery"](_,5),i["\u0275\u0275viewQuery"](S,5)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.chart=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.nodeElements=e),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.linkElements=e)}},hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("mousemove",function(e){return t.onMouseMove(e)},!1,i["\u0275\u0275resolveDocument"])("mousedown",function(e){return t.onMouseDown(e)},!1,i["\u0275\u0275resolveDocument"])("click",function(e){return t.graphClick(e)},!1,i["\u0275\u0275resolveDocument"])("touchmove",function(e){return t.onTouchMove(e)},!1,i["\u0275\u0275resolveDocument"])("mouseup",function(e){return t.onMouseUp(e)},!1,i["\u0275\u0275resolveDocument"])},inputs:{legend:"legend",nodes:"nodes",clusters:"clusters",links:"links",activeEntries:"activeEntries",draggingEnabled:"draggingEnabled",panningEnabled:"panningEnabled",panningAxis:"panningAxis",enableZoom:"enableZoom",zoomSpeed:"zoomSpeed",minZoomLevel:"minZoomLevel",maxZoomLevel:"maxZoomLevel",autoZoom:"autoZoom",panOnZoom:"panOnZoom",animate:"animate",autoCenter:"autoCenter",enableTrackpadSupport:"enableTrackpadSupport",showMiniMap:"showMiniMap",miniMapMaxWidth:"miniMapMaxWidth",miniMapPosition:"miniMapPosition",groupResultsBy:"groupResultsBy",zoomLevel:"zoomLevel",panOffsetX:"panOffsetX",panOffsetY:"panOffsetY",layout:"layout",curve:"curve",nodeHeight:"nodeHeight",nodeMaxHeight:"nodeMaxHeight",nodeMinHeight:"nodeMinHeight",nodeWidth:"nodeWidth",nodeMinWidth:"nodeMinWidth",nodeMaxWidth:"nodeMaxWidth",update$:"update$",center$:"center$",zoomToFit$:"zoomToFit$",panToNode$:"panToNode$",layoutSettings:"layoutSettings",miniMapMaxHeight:"miniMapMaxHeight"},outputs:{activate:"activate",deactivate:"deactivate",zoomChange:"zoomChange",clickHandler:"clickHandler"},features:[i["\u0275\u0275InheritDefinitionFeature"],i["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:["*"],decls:5,vars:11,consts:[["mouseWheel","",3,"view","showLegend","legendOptions","legendLabelClick","legendLabelActivate","legendLabelDeactivate","mouseWheelUp","mouseWheelDown"],["class","graph chart",3,"touchstart","touchend",4,"ngIf"],["class","minimap",4,"ngIf"],[1,"graph","chart",3,"touchstart","touchend"],[3,"ngTemplateOutlet",4,"ngIf"],["class","text-path",4,"ngFor","ngForOf"],[1,"panning-rect",3,"mousedown"],[1,"clusters"],["class","node-group",3,"old-node","id","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"links"],["class","link-group",3,"id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nodes"],["class","node-group",3,"old-node","id","click","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet"],[1,"text-path"],[1,"node-group",3,"id","click"],["clusterElement",""],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","node cluster",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node","cluster"],["alignment-baseline","central"],[1,"link-group",3,"id"],["linkElement",""],["class","edge",4,"ngIf"],[1,"edge"],[1,"node-group",3,"id","click","mousedown"],["nodeElement",""],["r","10",4,"ngIf"],["r","10"],[1,"minimap"],[1,"minimap-background",3,"mousedown"],[1,"minimap-nodes"],["class","node-group",3,"old-node","id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"minimap-drag",3,"mousedown"],[1,"node-group",3,"id"]],template:function(e,t){1&e&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),i["\u0275\u0275listener"]("legendLabelClick",function(e){return t.onClick(e)})("legendLabelActivate",function(e){return t.onActivate(e)})("legendLabelDeactivate",function(e){return t.onDeactivate(e)})("mouseWheelUp",function(e){return t.onZoom(e,"in")})("mouseWheelDown",function(e){return t.onZoom(e,"out")}),i["\u0275\u0275template"](1,j,12,12,"g",1),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](2,"clipPath"),i["\u0275\u0275element"](3,"rect"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,z,6,15,"g",2),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("view",i["\u0275\u0275pureFunction2"](8,$,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.initialized&&t.graph),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("id",t.minimapClipPathId),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("width",t.graphDims.width/t.minimapScaleCoefficient)("height",t.graphDims.height/t.minimapScaleCoefficient),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showMiniMap))},directives:function(){return[r.ChartComponent,le,v.NgIf,v.NgForOf,v.NgTemplateOutlet]},styles:[".minimap .minimap-background{fill:rgba(0,0,0,.1)}.minimap .minimap-drag{cursor:pointer;fill:rgba(0,0,0,.2);stroke:#fff;stroke-dasharray:2px;stroke-dashoffset:2px;stroke-width:1px}.minimap .minimap-drag.panning{fill:rgba(0,0,0,.3)}.minimap .minimap-nodes{opacity:.5;pointer-events:none}.graph{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none}.graph .edge{fill:none;stroke:#666}.graph .edge .edge-label{fill:#251e1e;font-size:12px;stroke:none}.graph .panning-rect{cursor:move;fill:transparent}.graph .node-group.old-node{transition:transform .5s ease-in-out}.graph .node-group .node:focus{outline:none}.graph .cluster rect{opacity:.2}"],encapsulation:2,changeDetection:0}),ae.ctorParameters=()=>[{type:i.ElementRef},{type:i.NgZone},{type:i.ChangeDetectorRef},{type:ne}],ae.propDecorators={legend:[{type:i.Input}],nodes:[{type:i.Input}],clusters:[{type:i.Input}],links:[{type:i.Input}],activeEntries:[{type:i.Input}],curve:[{type:i.Input}],draggingEnabled:[{type:i.Input}],nodeHeight:[{type:i.Input}],nodeMaxHeight:[{type:i.Input}],nodeMinHeight:[{type:i.Input}],nodeWidth:[{type:i.Input}],nodeMinWidth:[{type:i.Input}],nodeMaxWidth:[{type:i.Input}],panningEnabled:[{type:i.Input}],panningAxis:[{type:i.Input}],enableZoom:[{type:i.Input}],zoomSpeed:[{type:i.Input}],minZoomLevel:[{type:i.Input}],maxZoomLevel:[{type:i.Input}],autoZoom:[{type:i.Input}],panOnZoom:[{type:i.Input}],animate:[{type:i.Input}],autoCenter:[{type:i.Input}],update$:[{type:i.Input}],center$:[{type:i.Input}],zoomToFit$:[{type:i.Input}],panToNode$:[{type:i.Input}],layout:[{type:i.Input}],layoutSettings:[{type:i.Input}],enableTrackpadSupport:[{type:i.Input}],showMiniMap:[{type:i.Input}],miniMapMaxWidth:[{type:i.Input}],miniMapMaxHeight:[{type:i.Input}],miniMapPosition:[{type:i.Input}],activate:[{type:i.Output}],deactivate:[{type:i.Output}],zoomChange:[{type:i.Output}],clickHandler:[{type:i.Output}],linkTemplate:[{type:i.ContentChild,args:["linkTemplate"]}],nodeTemplate:[{type:i.ContentChild,args:["nodeTemplate"]}],clusterTemplate:[{type:i.ContentChild,args:["clusterTemplate"]}],defsTemplate:[{type:i.ContentChild,args:["defsTemplate"]}],miniMapNodeTemplate:[{type:i.ContentChild,args:["miniMapNodeTemplate"]}],chart:[{type:i.ViewChild,args:[r.ChartComponent,{read:i.ElementRef,static:!0}]}],nodeElements:[{type:i.ViewChildren,args:["nodeElement"]}],linkElements:[{type:i.ViewChildren,args:["linkElement"]}],groupResultsBy:[{type:i.Input}],zoomLevel:[{type:i.Input,args:["zoomLevel"]}],panOffsetX:[{type:i.Input,args:["panOffsetX"]}],panOffsetY:[{type:i.Input,args:["panOffsetY"]}],onMouseMove:[{type:i.HostListener,args:["document:mousemove",["$event"]]}],onMouseDown:[{type:i.HostListener,args:["document:mousedown",["$event"]]}],graphClick:[{type:i.HostListener,args:["document:click",["$event"]]}],onTouchMove:[{type:i.HostListener,args:["document:touchmove",["$event"]]}],onMouseUp:[{type:i.HostListener,args:["document:mouseup",["$event"]]}]},(0,o.__decorate)([se(500),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[]),(0,o.__metadata)("design:returntype",void 0)],ae.prototype,"updateMinimap",null);class le{constructor(){this.mouseWheelUp=new i.EventEmitter,this.mouseWheelDown=new i.EventEmitter}onMouseWheelChrome(e){this.mouseWheelFunc(e)}onMouseWheelFirefox(e){this.mouseWheelFunc(e)}onWheel(e){this.mouseWheelFunc(e)}onMouseWheelIE(e){this.mouseWheelFunc(e)}mouseWheelFunc(e){window.event&&(e=window.event);const t=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail||e.deltaY||e.deltaX)),n=e.wheelDelta?t>0:t<0,i=e.wheelDelta?t<0:t>0;n?this.mouseWheelUp.emit(e):i&&this.mouseWheelDown.emit(e),e.returnValue=!1,e.preventDefault&&e.preventDefault()}}le.\u0275fac=function(e){return new(e||le)},le.\u0275dir=i["\u0275\u0275defineDirective"]({type:le,selectors:[["","mouseWheel",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("mousewheel",function(e){return t.onMouseWheelChrome(e)})("DOMMouseScroll",function(e){return t.onMouseWheelFirefox(e)})("wheel",function(e){return t.onWheel(e)})("onmousewheel",function(e){return t.onMouseWheelIE(e)})},outputs:{mouseWheelUp:"mouseWheelUp",mouseWheelDown:"mouseWheelDown"}}),le.propDecorators={mouseWheelUp:[{type:i.Output}],mouseWheelDown:[{type:i.Output}],onMouseWheelChrome:[{type:i.HostListener,args:["mousewheel",["$event"]]}],onMouseWheelFirefox:[{type:i.HostListener,args:["DOMMouseScroll",["$event"]]}],onWheel:[{type:i.HostListener,args:["wheel",["$event"]]}],onMouseWheelIE:[{type:i.HostListener,args:["onmousewheel",["$event"]]}]};class ce{}ce.\u0275fac=function(e){return new(e||ce)},ce.\u0275mod=i["\u0275\u0275defineNgModule"]({type:ce}),ce.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[ne],imports:[[r.ChartCommonModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](ce,{declarations:function(){return[ae,le]},imports:function(){return[r.ChartCommonModule]},exports:function(){return[ae,le]}});class de{}de.\u0275fac=function(e){return new(e||de)},de.\u0275mod=i["\u0275\u0275defineNgModule"]({type:de}),de.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[r.NgxChartsModule],ce]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](de,{imports:function(){return[r.NgxChartsModule]},exports:function(){return[ce]}})},"./node_modules/@zxing/browser/umd/zxing-browser.js":function(e,t){var n;n=function(e){"use strict";var t,n,i=(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},t(e,n)},function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}),o=function(e){function t(t){var n,i,o,r=this.constructor,s=e.call(this,t)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1,configurable:!0}),n=s,i=r.prototype,(o=Object.setPrototypeOf)?o(n,i):n.__proto__=i,function(e,t){void 0===t&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}(s),s}return i(t,e),t}(Error),r=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=function(e){function t(t){void 0===t&&(t=void 0);var n=e.call(this,t)||this;return n.message=t,n}return r(t,e),t}(o),a=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(s),c=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t}(s),u=function(){function e(e){if(this.binarizer=e,null===e)throw new d("Binarizer must be non-null.")}return e.prototype.getWidth=function(){return this.binarizer.getWidth()},e.prototype.getHeight=function(){return this.binarizer.getHeight()},e.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},e.prototype.getBlackMatrix=function(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},e.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},e.prototype.crop=function(t,n,i,o){var r=this.binarizer.getLuminanceSource().crop(t,n,i,o);return new e(this.binarizer.createBinarizer(r))},e.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},e.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new e(this.binarizer.createBinarizer(t))},e.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new e(this.binarizer.createBinarizer(t))},e.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch(e){return""}},e}(),p=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.getChecksumInstance=function(){return new t},t}(s),m=function(){function e(e){this.source=e}return e.prototype.getLuminanceSource=function(){return this.source},e.prototype.getWidth=function(){return this.source.getWidth()},e.prototype.getHeight=function(){return this.source.getHeight()},e}(),f=function(){function e(){}return e.arraycopy=function(e,t,n,i,o){for(;o--;)n[i++]=e[t++]},e.currentTimeMillis=function(){return Date.now()},e}(),g=function(){function e(){}return e.numberOfTrailingZeros=function(e){var t;if(0===e)return 32;var n=31;return 0!=(t=e<<16)&&(n-=16,e=t),0!=(t=e<<8)&&(n-=8,e=t),0!=(t=e<<4)&&(n-=4,e=t),0!=(t=e<<2)&&(n-=2,e=t),n-(e<<1>>>31)},e.numberOfLeadingZeros=function(e){if(0===e)return 32;var t=1;return e>>>16==0&&(t+=16,e<<=16),e>>>24==0&&(t+=8,e<<=8),e>>>28==0&&(t+=4,e<<=4),e>>>30==0&&(t+=2,e<<=2),t-=e>>>31},e.toHexString=function(e){return e.toString(16)},e.toBinaryString=function(e){return String(parseInt(String(e),2))},e.bitCount=function(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)},e.truncDivision=function(e,t){return Math.trunc(e/t)},e.parseInt=function(e,t){return void 0===t&&(t=void 0),parseInt(e,t)},e.MIN_VALUE_32_BITS=-2147483648,e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}(),v=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t}(s),b=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),x=function(e){function t(t,n){void 0===t&&(t=void 0),void 0===n&&(n=void 0);var i=e.call(this,n)||this;return i.index=t,i.message=n,i}return b(t,e),t}(y),w=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},C=function(){function e(){}return e.fill=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n]=t},e.fillWithin=function(t,n,i,o){e.rangeCheck(t.length,n,i);for(var r=n;r<i;r++)t[r]=o},e.rangeCheck=function(e,t,n){if(t>n)throw new d("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new x(t);if(n>e)throw new x(n)},e.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},e.create=function(e,t,n){return Array.from({length:e}).map(function(e){return Array.from({length:t}).fill(n)})},e.createInt32Array=function(e,t,n){return Array.from({length:e}).map(function(e){return Int32Array.from({length:t}).fill(n)})},e.equals=function(e,t){if(!e)return!1;if(!t)return!1;if(!e.length)return!1;if(!t.length)return!1;if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0},e.hashCode=function(e){var t,n;if(null===e)return 0;var i=1;try{for(var o=w(e),r=o.next();!r.done;r=o.next())i=31*i+r.value}catch(s){t={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},e.fillUint8Array=function(e,t){for(var n=0;n!==e.length;n++)e[n]=t},e.copyOf=function(e,t){return e.slice(0,t)},e.copyOfUint8Array=function(e,t){if(e.length<=t){var n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)},e.copyOfRange=function(e,t,n){var i=n-t,o=new Int32Array(i);return f.arraycopy(e,t,o,0,i),o},e.binarySearch=function(t,n,i){void 0===i&&(i=e.numberComparator);for(var o=0,r=t.length-1;o<=r;){var s=r+o>>1,a=i(n,t[s]);if(a>0)o=s+1;else{if(!(a<0))return s;r=s-1}}return-o-1},e.numberComparator=function(e,t){return e-t},e}(),_=function(){function e(t,n){void 0===t?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,this.bits=null==n?e.makeArray(t):n)}return e.prototype.getSize=function(){return this.size},e.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},e.prototype.ensureCapacity=function(t){if(t>32*this.bits.length){var n=e.makeArray(t);f.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},e.prototype.get=function(e){return 0!=(this.bits[Math.floor(e/32)]&1<<(31&e))},e.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(31&e)},e.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(31&e)},e.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),o=n[i];o&=~((1<<(31&e))-1);for(var r=n.length;0===o;){if(++i===r)return t;o=n[i]}var s=32*i+g.numberOfTrailingZeros(o);return s>t?t:s},e.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),o=~n[i];o&=~((1<<(31&e))-1);for(var r=n.length;0===o;){if(++i===r)return t;o=~n[i]}var s=32*i+g.numberOfTrailingZeros(o);return s>t?t:s},e.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},e.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new d;if(t!==e){t--;for(var n=Math.floor(e/32),i=Math.floor(t/32),o=this.bits,r=n;r<=i;r++){var s=(2<<(r<i?31:31&t))-(1<<(r>n?0:31&e));o[r]|=s}}},e.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,n=0;n<e;n++)t[n]=0},e.prototype.isRange=function(e,t,n){if(t<e||e<0||t>this.size)throw new d;if(t===e)return!0;t--;for(var i=Math.floor(e/32),o=Math.floor(t/32),r=this.bits,s=i;s<=o;s++){var a=(2<<(s<o?31:31&t))-(1<<(s>i?0:31&e))&4294967295;if((r[s]&a)!==(n?a:0))return!1}return!0},e.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},e.prototype.appendBits=function(e,t){if(t<0||t>32)throw new d("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t),this.appendBit;for(var n=t;n>0;n--)this.appendBit(1==(e>>n-1&1))},e.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t),this.appendBit;for(var n=0;n<t;n++)this.appendBit(e.get(n))},e.prototype.xor=function(e){if(this.size!==e.size)throw new d("Sizes don't match");for(var t=this.bits,n=0,i=t.length;n<i;n++)t[n]^=e.bits[n]},e.prototype.toBytes=function(e,t,n,i){for(var o=0;o<i;o++){for(var r=0,s=0;s<8;s++)this.get(e)&&(r|=1<<7-s),e++;t[n+o]=r}},e.prototype.getBitArray=function(){return this.bits},e.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,i=this.bits,o=0;o<n;o++){var r=i[o];r=(r=(r=(r=(r=r>>1&1431655765|(1431655765&r)<<1)>>2&858993459|(858993459&r)<<2)>>4&252645135|(252645135&r)<<4)>>8&16711935|(16711935&r)<<8)>>16&65535|(65535&r)<<16,e[t-o]=r}if(this.size!==32*n){var s=32*n-this.size,a=e[0]>>>s;for(o=1;o<n;o++){var l=e[o];a|=l<<32-s,e[o-1]=a,a=l>>>s}e[n-1]=a}this.bits=e},e.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.size===n.size&&C.equals(this.bits,n.bits)},e.prototype.hashCode=function(){return 31*this.size+C.hashCode(this.bits)},e.prototype.toString=function(){for(var e="",t=0,n=this.size;t<n;t++)0==(7&t)&&(e+=" "),e+=this.get(t)?"X":".";return e},e.prototype.clone=function(){return new e(this.size,this.bits.slice())},e}();!function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ASSUME_GS1=7]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(n||(n={}));var S,I=n,A=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),t.getFormatInstance=function(){return new t},t}(s),D=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"}(S||(S={}));var T,R=function(){function e(t,n,i){for(var o,r,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];this.valueIdentifier=t,this.name=i,this.values="number"==typeof n?Int32Array.from([n]):n,this.otherEncodingNames=s,e.VALUE_IDENTIFIER_TO_ECI.set(t,this),e.NAME_TO_ECI.set(i,this);for(var l=this.values,c=0,d=l.length;c!==d;c++){var u=l[c];e.VALUES_TO_ECI.set(u,this)}try{for(var p=D(s),h=p.next();!h.done;h=p.next()){var m=h.value;e.NAME_TO_ECI.set(m,this)}}catch(f){o={error:f}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(o)throw o.error}}}return e.prototype.getValueIdentifier=function(){return this.valueIdentifier},e.prototype.getName=function(){return this.name},e.prototype.getValue=function(){return this.values[0]},e.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new E("incorect value");var n=e.VALUES_TO_ECI.get(t);if(void 0===n)throw new E("incorect value");return n},e.getCharacterSetECIByName=function(t){var n=e.NAME_TO_ECI.get(t);if(void 0===n)throw new E("incorect value");return n},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.getName()===n.getName()},e.VALUE_IDENTIFIER_TO_ECI=new Map,e.VALUES_TO_ECI=new Map,e.NAME_TO_ECI=new Map,e.Cp437=new e(S.Cp437,Int32Array.from([0,2]),"Cp437"),e.ISO8859_1=new e(S.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),e.ISO8859_2=new e(S.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),e.ISO8859_3=new e(S.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),e.ISO8859_4=new e(S.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),e.ISO8859_5=new e(S.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),e.ISO8859_6=new e(S.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),e.ISO8859_7=new e(S.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),e.ISO8859_8=new e(S.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),e.ISO8859_9=new e(S.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),e.ISO8859_10=new e(S.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),e.ISO8859_11=new e(S.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),e.ISO8859_13=new e(S.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),e.ISO8859_14=new e(S.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),e.ISO8859_15=new e(S.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),e.ISO8859_16=new e(S.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),e.SJIS=new e(S.SJIS,20,"SJIS","Shift_JIS"),e.Cp1250=new e(S.Cp1250,21,"Cp1250","windows-1250"),e.Cp1251=new e(S.Cp1251,22,"Cp1251","windows-1251"),e.Cp1252=new e(S.Cp1252,23,"Cp1252","windows-1252"),e.Cp1256=new e(S.Cp1256,24,"Cp1256","windows-1256"),e.UnicodeBigUnmarked=new e(S.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),e.UTF8=new e(S.UTF8,26,"UTF8","UTF-8"),e.ASCII=new e(S.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),e.Big5=new e(S.Big5,28,"Big5"),e.GB18030=new e(S.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),e.EUC_KR=new e(S.EUC_KR,30,"EUC_KR","EUC-KR"),e}(),M=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t}(s),P=function(){function e(){}return e.decode=function(e,t){var n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},e.shouldDecodeOnFallback=function(t){return!e.isBrowser()&&"ISO-8859-1"===t},e.encode=function(e,t){var n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):"undefined"==typeof TextEncoder?this.encodeFallback(e):(new TextEncoder).encode(e)},e.isBrowser=function(){return"undefined"!=typeof window&&"[object Window]"==={}.toString.call(window)},e.encodingName=function(e){return"string"==typeof e?e:e.getName()},e.encodingCharacterSet=function(e){return e instanceof R?e:R.getCharacterSetECIByName(e)},e.decodeFallback=function(t,n){var i=this.encodingCharacterSet(n);if(e.isDecodeFallbackSupported(i)){for(var o="",r=0,s=t.length;r<s;r++){var a=t[r].toString(16);a.length<2&&(a="0"+a),o+="%"+a}return decodeURIComponent(o)}if(i.equals(R.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new O("Encoding "+this.encodingName(n)+" not supported by fallback.")},e.isDecodeFallbackSupported=function(e){return e.equals(R.UTF8)||e.equals(R.ISO8859_1)||e.equals(R.ASCII)},e.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))).split(""),n=[],i=0;i<t.length;i++)n.push(t[i].charCodeAt(0));return new Uint8Array(n)},e}(),F=function(){function e(){}return e.castAsNonUtf8Char=function(e,t){void 0===t&&(t=null);var n=t?t.getName():this.ISO88591;return P.decode(new Uint8Array([e]),n)},e.guessEncoding=function(t,n){if(null!=n&&void 0!==n.get(I.CHARACTER_SET))return n.get(I.CHARACTER_SET).toString();for(var i=t.length,o=!0,r=!0,s=!0,a=0,l=0,c=0,d=0,u=0,p=0,h=0,m=0,f=0,g=0,v=0,y=t.length>3&&239===t[0]&&187===t[1]&&191===t[2],b=0;b<i&&(o||r||s);b++){var x=255&t[b];s&&(a>0?0==(128&x)?s=!1:a--:0!=(128&x)&&(0==(64&x)?s=!1:(a++,0==(32&x)?l++:(a++,0==(16&x)?c++:(a++,0==(8&x)?d++:s=!1))))),o&&(x>127&&x<160?o=!1:x>159&&(x<192||215===x||247===x)&&v++),r&&(u>0?x<64||127===x||x>252?r=!1:u--:128===x||160===x||x>239?r=!1:x>160&&x<224?(p++,m=0,++h>f&&(f=h)):x>127?(u++,h=0,++m>g&&(g=m)):(h=0,m=0))}return s&&a>0&&(s=!1),r&&u>0&&(r=!1),s&&(y||l+c+d>0)?e.UTF8:r&&(e.ASSUME_SHIFT_JIS||f>=3||g>=3)?e.SHIFT_JIS:o&&r?2===f&&2===p||10*v>=i?e.SHIFT_JIS:e.ISO88591:o?e.ISO88591:r?e.SHIFT_JIS:s?e.UTF8:e.PLATFORM_DEFAULT_ENCODING},e.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(e,n,o,r,s,a){if("%%"===e)return"%";if(void 0!==t[++i]){e=r?parseInt(r.substr(1)):void 0;var l,c=s?parseInt(s.substr(1)):void 0;switch(a){case"s":l=t[i];break;case"c":l=t[i][0];break;case"f":l=parseFloat(t[i]).toFixed(e);break;case"p":l=parseFloat(t[i]).toPrecision(e);break;case"e":l=parseFloat(t[i]).toExponential(e);break;case"x":l=parseInt(t[i]).toString(c||16);break;case"d":l=parseFloat(parseInt(t[i],c||10).toPrecision(e)).toFixed(0)}l="object"==typeof l?JSON.stringify(l):(+l).toString(c);for(var d=parseInt(o),u=o&&o[0]+""=="0"?"0":" ";l.length<d;)l=void 0!==n?l+u:u+l;return l}})},e.getBytes=function(e,t){return P.encode(e,t)},e.getCharCode=function(e,t){return void 0===t&&(t=0),e.charCodeAt(t)},e.getCharAt=function(e){return String.fromCharCode(e)},e.SHIFT_JIS=R.SJIS.getName(),e.GB2312="GB2312",e.ISO88591=R.ISO8859_1.getName(),e.EUC_JP="EUC_JP",e.UTF8=R.UTF8.getName(),e.PLATFORM_DEFAULT_ENCODING=e.UTF8,e.ASSUME_SHIFT_JIS=!1,e}(),k=function(){function e(e){void 0===e&&(e=""),this.value=e}return e.prototype.enableDecoding=function(e){return this.encoding=e,this},e.prototype.append=function(e){return"string"==typeof e?this.value+=e.toString():this.encoding?this.value+=F.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},e.prototype.length=function(){return this.value.length},e.prototype.charAt=function(e){return this.value.charAt(e)},e.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},e.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},e.prototype.substring=function(e,t){return this.value.substring(e,t)},e.prototype.setLengthToZero=function(){this.value=""},e.prototype.toString=function(){return this.value},e.prototype.insert=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)},e}(),N=function(){function e(e,t,n,i){if(this.width=e,this.height=t,this.rowSize=n,this.bits=i,null==t&&(t=e),this.height=t,e<1||t<1)throw new d("Both dimensions must be greater than 0");null==n&&(n=Math.floor((e+31)/32)),this.rowSize=n,null==i&&(this.bits=new Int32Array(this.rowSize*this.height))}return e.parseFromBooleanArray=function(t){for(var n=t.length,i=t[0].length,o=new e(i,n),r=0;r<n;r++)for(var s=t[r],a=0;a<i;a++)s[a]&&o.set(a,r);return o},e.parseFromString=function(t,n,i){if(null===t)throw new d("stringRepresentation cannot be null");for(var o=new Array(t.length),r=0,s=0,a=-1,l=0,c=0;c<t.length;)if("\n"===t.charAt(c)||"\r"===t.charAt(c)){if(r>s){if(-1===a)a=r-s;else if(r-s!==a)throw new d("row lengths do not match");s=r,l++}c++}else if(t.substring(c,c+n.length)===n)c+=n.length,o[r]=!0,r++;else{if(t.substring(c,c+i.length)!==i)throw new d("illegal character encountered: "+t.substring(c));c+=i.length,o[r]=!1,r++}if(r>s){if(-1===a)a=r-s;else if(r-s!==a)throw new d("row lengths do not match");l++}for(var u=new e(a,l),p=0;p<r;p++)o[p]&&u.set(Math.floor(p%a),Math.floor(p/a));return u},e.prototype.get=function(e,t){var n=t*this.rowSize+Math.floor(e/32);return 0!=(this.bits[n]>>>(31&e)&1)},e.prototype.set=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(31&e)&4294967295},e.prototype.unset=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(31&e)&4294967295)},e.prototype.flip=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(31&e)&4294967295},e.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new d("input matrix dimensions do not match");for(var t=new _(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,o=0,r=this.height;o<r;o++)for(var s=o*n,a=e.getRow(o,t).getBitArray(),l=0;l<n;l++)i[s+l]^=a[l]},e.prototype.clear=function(){for(var e=this.bits,t=e.length,n=0;n<t;n++)e[n]=0},e.prototype.setRegion=function(e,t,n,i){if(t<0||e<0)throw new d("Left and top must be nonnegative");if(i<1||n<1)throw new d("Height and width must be at least 1");var o=e+n,r=t+i;if(r>this.height||o>this.width)throw new d("The region must fit inside the matrix");for(var s=this.rowSize,a=this.bits,l=t;l<r;l++)for(var c=l*s,u=e;u<o;u++)a[c+Math.floor(u/32)]|=1<<(31&u)&4294967295},e.prototype.getRow=function(e,t){null==t||t.getSize()<this.width?t=new _(this.width):t.clear();for(var n=this.rowSize,i=this.bits,o=e*n,r=0;r<n;r++)t.setBulk(32*r,i[o+r]);return t},e.prototype.setRow=function(e,t){f.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},e.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),n=new _(e),i=new _(e),o=0,r=Math.floor((t+1)/2);o<r;o++)n=this.getRow(o,n),i=this.getRow(t-1-o,i),n.reverse(),i.reverse(),this.setRow(o,i),this.setRow(t-1-o,n)},e.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,n=this.rowSize,i=this.bits,o=e,r=t,s=-1,a=-1,l=0;l<t;l++)for(var c=0;c<n;c++){var d=i[l*n+c];if(0!==d){if(l<r&&(r=l),l>a&&(a=l),32*c<o){for(var u=0;0==(d<<31-u&4294967295);)u++;32*c+u<o&&(o=32*c+u)}if(32*c+31>s){for(u=31;d>>>u==0;)u--;32*c+u>s&&(s=32*c+u)}}}return s<o||a<r?null:Int32Array.from([o,r,s-o+1,a-r+1])},e.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,n=0;n<t.length&&0===t[n];)n++;if(n===t.length)return null;for(var i=n/e,o=n%e*32,r=t[n],s=0;0==(r<<31-s&4294967295);)s++;return o+=s,Int32Array.from([o,i])},e.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,n=t.length-1;n>=0&&0===t[n];)n--;if(n<0)return null;for(var i=Math.floor(n/e),o=32*Math.floor(n%e),r=t[n],s=31;r>>>s==0;)s--;return o+=s,Int32Array.from([o,i])},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRowSize=function(){return this.rowSize},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&C.equals(this.bits,n.bits)},e.prototype.hashCode=function(){var e=this.width;return e=31*(e=31*(e=31*(e=31*e+this.width)+this.height)+this.rowSize)+C.hashCode(this.bits)},e.prototype.toString=function(e,t,n){return void 0===e&&(e="X "),void 0===t&&(t="  "),void 0===n&&(n="\n"),this.buildToString(e,t,n)},e.prototype.buildToString=function(e,t,n){for(var i=new k,o=0,r=this.height;o<r;o++){for(var s=0,a=this.width;s<a;s++)i.append(this.get(s,o)?e:t);i.append(n)}return i.toString()},e.prototype.clone=function(){return new e(this.width,this.height,this.rowSize,this.bits.slice())},e}(),j=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return j(t,e),t.getNotFoundInstance=function(){return new t},t}(s),V=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),B=function(e){function t(n){var i=e.call(this,n)||this;return i.luminances=t.EMPTY,i.buckets=new Int32Array(t.LUMINANCE_BUCKETS),i}return V(t,e),t.prototype.getBlackRow=function(e,n){var i=this.getLuminanceSource(),o=i.getWidth();null==n||n.getSize()<o?n=new _(o):n.clear(),this.initArrays(o);for(var r=i.getRow(e,this.luminances),s=this.buckets,a=0;a<o;a++)s[(255&r[a])>>t.LUMINANCE_SHIFT]++;var l=t.estimateBlackPoint(s);if(o<3)for(a=0;a<o;a++)(255&r[a])<l&&n.set(a);else{var c=255&r[0],d=255&r[1];for(a=1;a<o-1;a++){var u=255&r[a+1];(4*d-c-u)/2<l&&n.set(a),c=d,d=u}}return n},t.prototype.getBlackMatrix=function(){var e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight(),o=new N(n,i);this.initArrays(n);for(var r=this.buckets,s=1;s<5;s++)for(var a=Math.floor(i*s/5),l=e.getRow(a,this.luminances),c=Math.floor(4*n/5),d=Math.floor(n/5);d<c;d++)r[(255&l[d])>>t.LUMINANCE_SHIFT]++;var u=t.estimateBlackPoint(r),p=e.getMatrix();for(s=0;s<i;s++){var h=s*n;for(d=0;d<n;d++)(255&p[h+d])<u&&o.set(d,s)}return o},t.prototype.createBinarizer=function(e){return new t(e)},t.prototype.initArrays=function(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));for(var n=this.buckets,i=0;i<t.LUMINANCE_BUCKETS;i++)n[i]=0},t.estimateBlackPoint=function(e){for(var n=e.length,i=0,o=0,r=0,s=0;s<n;s++)e[s]>r&&(o=s,r=e[s]),e[s]>i&&(i=e[s]);var a=0,l=0;for(s=0;s<n;s++){var c=s-o;(h=e[s]*c*c)>l&&(a=s,l=h)}if(o>a){var d=o;o=a,a=d}if(a-o<=n/16)throw new L;var u=a-1,p=-1;for(s=a-1;s>o;s--){var h,m=s-o;(h=m*m*(a-s)*(i-e[s]))>p&&(u=s,p=h)}return u<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t}(m),G=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),z=function(e){function t(t){var n=e.call(this,t)||this;return n.matrix=null,n}return G(t,e),t.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var n=this.getLuminanceSource(),i=n.getWidth(),o=n.getHeight();if(i>=t.MINIMUM_DIMENSION&&o>=t.MINIMUM_DIMENSION){var r=n.getMatrix(),s=i>>t.BLOCK_SIZE_POWER;0!=(i&t.BLOCK_SIZE_MASK)&&s++;var a=o>>t.BLOCK_SIZE_POWER;0!=(o&t.BLOCK_SIZE_MASK)&&a++;var l=t.calculateBlackPoints(r,s,a,i,o),c=new N(i,o);t.calculateThresholdForBlock(r,s,a,i,o,l,c),this.matrix=c}else this.matrix=e.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(e){return new t(e)},t.calculateThresholdForBlock=function(e,n,i,o,r,s,a){for(var l=r-t.BLOCK_SIZE,c=o-t.BLOCK_SIZE,d=0;d<i;d++){var u=d<<t.BLOCK_SIZE_POWER;u>l&&(u=l);for(var p=t.cap(d,2,i-3),h=0;h<n;h++){var m=h<<t.BLOCK_SIZE_POWER;m>c&&(m=c);for(var f=t.cap(h,2,n-3),g=0,v=-2;v<=2;v++){var y=s[p+v];g+=y[f-2]+y[f-1]+y[f]+y[f+1]+y[f+2]}var b=g/25;t.thresholdBlock(e,m,u,b,o,a)}}},t.cap=function(e,t,n){return e<t?t:e>n?n:e},t.thresholdBlock=function(e,n,i,o,r,s){for(var a=0,l=i*r+n;a<t.BLOCK_SIZE;a++,l+=r)for(var c=0;c<t.BLOCK_SIZE;c++)(255&e[l+c])<=o&&s.set(n+c,i+a)},t.calculateBlackPoints=function(e,n,i,o,r){for(var s=r-t.BLOCK_SIZE,a=o-t.BLOCK_SIZE,l=new Array(i),c=0;c<i;c++){l[c]=new Int32Array(n);var d=c<<t.BLOCK_SIZE_POWER;d>s&&(d=s);for(var u=0;u<n;u++){var p=u<<t.BLOCK_SIZE_POWER;p>a&&(p=a);for(var h=0,m=255,f=0,g=0,v=d*o+p;g<t.BLOCK_SIZE;g++,v+=o){for(var y=0;y<t.BLOCK_SIZE;y++){var b=255&e[v+y];h+=b,b<m&&(m=b),b>f&&(f=b)}if(f-m>t.MIN_DYNAMIC_RANGE)for(g++,v+=o;g<t.BLOCK_SIZE;g++,v+=o)for(y=0;y<t.BLOCK_SIZE;y++)h+=255&e[v+y]}var x=h>>2*t.BLOCK_SIZE_POWER;if(f-m<=t.MIN_DYNAMIC_RANGE&&(x=m/2,c>0&&u>0)){var w=(l[c-1][u]+2*l[c][u-1]+l[c-1][u-1])/4;m<w&&(x=w)}l[c][u]=x}}return l},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=5*t.BLOCK_SIZE,t.MIN_DYNAMIC_RANGE=24,t}(B),$=function(){function e(e,t){this.width=e,this.height=t}return e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.isCropSupported=function(){return!1},e.prototype.crop=function(e,t,n,i){throw new O("This luminance source does not support cropping.")},e.prototype.isRotateSupported=function(){return!1},e.prototype.rotateCounterClockwise=function(){throw new O("This luminance source does not support rotation by 90 degrees.")},e.prototype.rotateCounterClockwise45=function(){throw new O("This luminance source does not support rotation by 45 degrees.")},e.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new k,n=0;n<this.height;n++){for(var i=this.getRow(n,e),o=0;o<this.width;o++){var r=255&i[o],s=void 0;s=r<64?"#":r<128?"+":r<192?".":" ",t.append(s)}t.append("\n")}return t.toString()},e}(),U=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),H=function(e){function t(t){var n=e.call(this,t.getWidth(),t.getHeight())||this;return n.delegate=t,n}return U(t,e),t.prototype.getRow=function(e,t){for(var n=this.delegate.getRow(e,t),i=this.getWidth(),o=0;o<i;o++)n[o]=255-(255&n[o]);return n},t.prototype.getMatrix=function(){for(var e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(t),i=0;i<t;i++)n[i]=255-(255&e[i]);return n},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(e,n,i,o){return new t(this.delegate.crop(e,n,i,o))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t}($),X=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),W=function(e){function t(n){var i=e.call(this,n.width,n.height)||this;return i.canvas=n,i.tempCanvasElement=null,i.buffer=t.makeBufferFromCanvasImageData(n),i}return X(t,e),t.makeBufferFromCanvasImageData=function(e){var n=e.getContext("2d").getImageData(0,0,e.width,e.height);return t.toGrayscaleBuffer(n.data,e.width,e.height)},t.toGrayscaleBuffer=function(e,t,n){for(var i=new Uint8ClampedArray(t*n),o=0,r=0,s=e.length;o<s;o+=4,r++){var a=void 0;a=0===e[o+3]?255:306*e[o]+601*e[o+1]+117*e[o+2]+512>>10,i[r]=a}return i},t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);var n=this.getWidth(),i=e*n;return null===t?t=this.buffer.slice(i,i+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(i,i+n))),t},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(t,n,i,o){return e.prototype.crop.call(this,t,n,i,o),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement},t.prototype.rotate=function(e){var n=this.getTempCanvasElement(),i=n.getContext("2d"),o=e*t.DEGREE_TO_RADIANS,r=this.canvas.width,s=this.canvas.height,a=Math.ceil(Math.abs(Math.cos(o))*r+Math.abs(Math.sin(o))*s),l=Math.ceil(Math.abs(Math.sin(o))*r+Math.abs(Math.cos(o))*s);return n.width=a,n.height=l,i.translate(a/2,l/2),i.rotate(o),i.drawImage(this.canvas,r/-2,s/-2),this.buffer=t.makeBufferFromCanvasImageData(n),this},t.prototype.invert=function(){return new H(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t}($),q=function(){function e(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}return e.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},e}(),Y=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((i=i.apply(e,t||[])).next())})},Q=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__generator:void 0)||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},Z=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},K=function(){function e(e,t,n){void 0===t&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(e.prototype,"hasNavigator",{get:function(){return"undefined"!=typeof navigator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),e.prototype.listVideoInputDevices=function(){return Y(this,void 0,void 0,function(){var e,t,n,i,o,r,s,a,l,c,d,u;return Q(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),t=[];try{for(n=Z(e),i=n.next();!i.done;i=n.next())o=i.value,"videoinput"===(r="video"===o.kind?"videoinput":o.kind)&&(s=o.deviceId||o.id,a=o.label||"Video device "+(t.length+1),l=o.groupId,c={deviceId:s,label:a,kind:r,groupId:l},t.push(c))}catch(h){d={error:h}}finally{try{i&&!i.done&&(u=n.return)&&u.call(n)}finally{if(d)throw d.error}}return[2,t]}})})},e.prototype.getVideoInputDevices=function(){return Y(this,void 0,void 0,function(){return Q(this,function(e){switch(e.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,e.sent().map(function(e){return new q(e.deviceId,e.label)})]}})})},e.prototype.findDeviceById=function(e){return Y(this,void 0,void 0,function(){var t;return Q(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(t=n.sent())?[2,t.find(function(t){return t.deviceId===e})]:[2,null]}})})},e.prototype.decodeFromInputVideoDevice=function(e,t){return Y(this,void 0,void 0,function(){return Q(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,n.sent()]}})})},e.prototype.decodeOnceFromVideoDevice=function(e,t){return Y(this,void 0,void 0,function(){var n;return Q(this,function(i){switch(i.label){case 0:return this.reset(),n={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(n,t)];case 1:return[2,i.sent()]}})})},e.prototype.decodeOnceFromConstraints=function(e,t){return Y(this,void 0,void 0,function(){var n;return Q(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,i.sent()]}})})},e.prototype.decodeOnceFromStream=function(e,t){return Y(this,void 0,void 0,function(){var n;return Q(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=i.sent(),[4,this.decodeOnce(n)];case 2:return[2,i.sent()]}})})},e.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,n){return Y(this,void 0,void 0,function(){return Q(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,n)];case 1:return[2,i.sent()]}})})},e.prototype.decodeFromVideoDevice=function(e,t,n){return Y(this,void 0,void 0,function(){var i;return Q(this,function(o){switch(o.label){case 0:return i={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(i,t,n)];case 1:return[2,o.sent()]}})})},e.prototype.decodeFromConstraints=function(e,t,n){return Y(this,void 0,void 0,function(){var i;return Q(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=o.sent(),[4,this.decodeFromStream(i,t,n)];case 2:return[2,o.sent()]}})})},e.prototype.decodeFromStream=function(e,t,n){return Y(this,void 0,void 0,function(){var i;return Q(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=o.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,o.sent()]}})})},e.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},e.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},e.prototype.attachStreamToVideo=function(e,t){return Y(this,void 0,void 0,function(){var n;return Q(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(t),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},e.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(n,i){return t.playVideoOnLoad(e,function(){return n()})})},e.prototype.playVideoOnLoad=function(e,t){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},e.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},e.prototype.tryPlayVideo=function(e){return Y(this,void 0,void 0,function(){return Q(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},e.prototype.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new l("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new l("element with id '"+e+"' must be an "+t+" element");return n},e.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new l("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},e.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new l("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},e.prototype.decodeFromVideoContinuously=function(e,t,n){if(void 0===e&&void 0===t)throw new l("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)},e.prototype.decodeFromImageElement=function(e){if(!e)throw new l("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);return this.imageElement=t,this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t)},e.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},e.prototype.decodeFromVideoElementContinuously=function(e,t){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)},e.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new l("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},e.prototype.decodeFromImageUrl=function(e){if(!e)throw new l("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var n=this._decodeOnLoadImage(t);return t.src=e,n},e.prototype.decodeFromVideoUrl=function(e){if(!e)throw new l("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n},e.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new l("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,t);return n.src=e,i},e.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(n,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",t.imageLoadedListener)})},e.prototype._decodeOnLoadVideo=function(e){return Y(this,void 0,void 0,function(){return Q(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},e.prototype._decodeOnLoadVideoContinuously=function(e,t){return Y(this,void 0,void 0,function(){return Q(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,t),[2]}})})},e.prototype.isImageLoaded=function(e){return!!e.complete&&0!==e.naturalWidth},e.prototype.prepareImageElement=function(e){var t;return void 0===e&&((t=document.createElement("img")).width=200,t.height=200),"string"==typeof e&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},e.prototype.prepareVideoElement=function(e){var t;return e||"undefined"==typeof document||((t=document.createElement("video")).width=200,t.height=200),"string"==typeof e&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},e.prototype.decodeOnce=function(e,t,n){var i=this;void 0===t&&(t=!0),void 0===n&&(n=!0),this._stopAsyncDecode=!1;var o=function(r,s){if(i._stopAsyncDecode)return s(new L("Video stream has ended before any code could be detected.")),void(i._stopAsyncDecode=void 0);try{r(i.decode(e))}catch(a){if(t&&a instanceof L||(a instanceof h||a instanceof E)&&n)return setTimeout(o,i._timeBetweenDecodingAttempts,r,s);s(a)}};return new Promise(function(e,t){return o(e,t)})},e.prototype.decodeContinuously=function(e,t){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode)n._stopContinuousDecode=void 0;else try{var o=n.decode(e);t(o,null),setTimeout(i,n.timeBetweenScansMillis)}catch(r){t(null,r),(r instanceof h||r instanceof E||r instanceof L)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},e.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},e.prototype.createBinaryBitmap=function(e){var t=this.getCaptureCanvasContext(e);this.drawImageOnCanvas(t,e);var n=this.getCaptureCanvas(e),i=new W(n),o=new z(i);return new u(o)},e.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=t}return this.captureCanvasContext},e.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},e.prototype.drawImageOnCanvas=function(e,t){e.drawImage(t,0,0)},e.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},e.prototype.createCaptureCanvas=function(e){if("undefined"==typeof document)return this._destroyCaptureCanvas(),null;var t,n,i=document.createElement("canvas");return void 0!==e&&(e instanceof HTMLVideoElement?(t=e.videoWidth,n=e.videoHeight):e instanceof HTMLImageElement&&(t=e.naturalWidth||e.width,n=e.naturalHeight||e.height)),i.style.width=t+"px",i.style.height=n+"px",i.width=t,i.height=n,i},e.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},e.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},e.prototype._destroyVideoElement=function(){this.videoElement&&(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},e.prototype._destroyImageElement=function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},e.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},e.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch(n){e.src=URL.createObjectURL(t)}},e.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch(t){e.src=""}this.videoElement.removeAttribute("src")},e}(),J=function(){function e(e,t,n,i,o,r){void 0===n&&(n=null==t?0:8*t.length),void 0===r&&(r=f.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=i,this.format=o,this.timestamp=r,this.text=e,this.rawBytes=t,this.numBits=null==n?null==t?0:8*t.length:n,this.resultPoints=i,this.format=o,this.resultMetadata=null,this.timestamp=null==r?f.currentTimeMillis():r}return e.prototype.getText=function(){return this.text},e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.getBarcodeFormat=function(){return this.format},e.prototype.getResultMetadata=function(){return this.resultMetadata},e.prototype.putMetadata=function(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},e.prototype.putAllMetadata=function(e){null!==e&&(null===this.resultMetadata?this.resultMetadata=e:this.resultMetadata=new Map(e))},e.prototype.addResultPoints=function(e){var t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){var n=new Array(t.length+e.length);f.arraycopy(t,0,n,0,t.length),f.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.toString=function(){return this.text},e}();!function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(T||(T={}));var ee,te=T;!function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(ee||(ee={}));var ne,ie=ee,oe=function(){function e(e,t,n,i,o,r){void 0===o&&(o=-1),void 0===r&&(r=-1),this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=r,this.numBits=null==e?0:8*e.length}return e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.setNumBits=function(e){this.numBits=e},e.prototype.getText=function(){return this.text},e.prototype.getByteSegments=function(){return this.byteSegments},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getErrorsCorrected=function(){return this.errorsCorrected},e.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},e.prototype.getErasures=function(){return this.erasures},e.prototype.setErasures=function(e){this.erasures=e},e.prototype.getOther=function(){return this.other},e.prototype.setOther=function(e){this.other=e},e.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},e.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},e.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},e}(),re=function(){function e(){}return e.prototype.exp=function(e){return this.expTable[e]},e.prototype.log=function(e){if(0===e)throw new d;return this.logTable[e]},e.addOrSubtract=function(e,t){return e^t},e}(),se=function(){function e(e,t){if(0===t.length)throw new d;this.field=e;var n=t.length;if(n>1&&0===t[0]){for(var i=1;i<n&&0===t[i];)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),f.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.evaluateAt=function(e){if(0===e)return this.getCoefficient(0);var t,n=this.coefficients;if(1===e){t=0;for(var i=0,o=n.length;i!==o;i++){var r=n[i];t=re.addOrSubtract(t,r)}return t}t=n[0];var s=n.length,a=this.field;for(i=1;i<s;i++)t=re.addOrSubtract(a.multiply(e,t),n[i]);return t},e.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new d("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,i=t.coefficients;if(n.length>i.length){var o=n;n=i,i=o}var r=new Int32Array(i.length),s=i.length-n.length;f.arraycopy(i,0,r,0,s);for(var a=s;a<i.length;a++)r[a]=re.addOrSubtract(n[a-s],i[a]);return new e(this.field,r)},e.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new d("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var n=this.coefficients,i=n.length,o=t.coefficients,r=o.length,s=new Int32Array(i+r-1),a=this.field,l=0;l<i;l++)for(var c=n[l],u=0;u<r;u++)s[l+u]=re.addOrSubtract(s[l+u],a.multiply(c,o[u]));return new e(a,s)},e.prototype.multiplyScalar=function(t){if(0===t)return this.field.getZero();if(1===t)return this;for(var n=this.coefficients.length,i=this.field,o=new Int32Array(n),r=this.coefficients,s=0;s<n;s++)o[s]=i.multiply(r[s],t);return new e(i,o)},e.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new d;if(0===n)return this.field.getZero();for(var i=this.coefficients,o=i.length,r=new Int32Array(o+t),s=this.field,a=0;a<o;a++)r[a]=s.multiply(i[a],n);return new e(s,r)},e.prototype.divide=function(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new d("Divide by 0");for(var t=this.field,n=t.getZero(),i=this,o=e.getCoefficient(e.getDegree()),r=t.inverse(o);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),a=t.multiply(i.getCoefficient(i.getDegree()),r),l=e.multiplyByMonomial(s,a),c=t.buildMonomial(s,a);n=n.addOrSubtract(c),i=i.addOrSubtract(l)}return[n,i]},e.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);if(0!==n){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),0===t||1!==n){var i=this.field.log(n);0===i?e+="1":1===i?e+="a":(e+="a^",e+=i)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e},e}(),ae=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t}(s),ce=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),de=function(e){function t(t,n,i){var o=e.call(this)||this;o.primitive=t,o.size=n,o.generatorBase=i;for(var r=new Int32Array(n),s=1,a=0;a<n;a++)r[a]=s,(s*=2)>=n&&(s^=t,s&=n-1);o.expTable=r;var l=new Int32Array(n);for(a=0;a<n-1;a++)l[r[a]]=a;return o.logTable=l,o.zero=new se(o,Int32Array.from([0])),o.one=new se(o,Int32Array.from([1])),o}return ce(t,e),t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(e,t){if(e<0)throw new d;if(0===t)return this.zero;var n=new Int32Array(e+1);return n[0]=t,new se(this,n)},t.prototype.inverse=function(e){if(0===e)throw new le;return this.expTable[this.size-this.logTable[e]-1]},t.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+g.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(e){return e===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t}(re),ue=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ue(t,e),t}(s),he=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return he(t,e),t}(s),fe=function(){function e(e){this.field=e}return e.prototype.decode=function(e,t){for(var n=this.field,i=new se(n,e),o=new Int32Array(t),r=!0,s=0;s<t;s++){var a=i.evaluateAt(n.exp(s+n.getGeneratorBase()));o[o.length-1-s]=a,0!==a&&(r=!1)}if(!r){var l=new se(n,o),c=this.runEuclideanAlgorithm(n.buildMonomial(t,1),l,t),d=c[0],u=c[1],p=this.findErrorLocations(d),h=this.findErrorMagnitudes(u,p);for(s=0;s<p.length;s++){var m=e.length-1-n.log(p[s]);if(m<0)throw new pe("Bad error location");e[m]=de.addOrSubtract(e[m],h[s])}}},e.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var o=this.field,r=e,s=t,a=o.getZero(),l=o.getOne();s.getDegree()>=(n/2|0);){var c=r,d=a;if(a=l,(r=s).isZero())throw new pe("r_{i-1} was zero");s=c;for(var u=o.getZero(),p=r.getCoefficient(r.getDegree()),h=o.inverse(p);s.getDegree()>=r.getDegree()&&!s.isZero();){var m=s.getDegree()-r.getDegree(),f=o.multiply(s.getCoefficient(s.getDegree()),h);u=u.addOrSubtract(o.buildMonomial(m,f)),s=s.addOrSubtract(r.multiplyByMonomial(m,f))}if(l=u.multiply(a).addOrSubtract(d),s.getDegree()>=r.getDegree())throw new me("Division algorithm failed to reduce polynomial?")}var g=l.getCoefficient(0);if(0===g)throw new pe("sigmaTilde(0) was zero");var v=o.inverse(g);return[l.multiplyScalar(v),s.multiplyScalar(v)]},e.prototype.findErrorLocations=function(e){var t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(t),i=0,o=this.field,r=1;r<o.getSize()&&i<t;r++)0===e.evaluateAt(r)&&(n[i]=o.inverse(r),i++);if(i!==t)throw new pe("Error locator degree does not match number of roots");return n},e.prototype.findErrorMagnitudes=function(e,t){for(var n=t.length,i=new Int32Array(n),o=this.field,r=0;r<n;r++){for(var s=o.inverse(t[r]),a=1,l=0;l<n;l++)if(r!==l){var c=o.multiply(t[l],s),d=0==(1&c)?1|c:-2&c;a=o.multiply(a,d)}i[r]=o.multiply(e.evaluateAt(s),o.inverse(a)),0!==o.getGeneratorBase()&&(i[r]=o.multiply(i[r],s))}return i},e}();!function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"}(ne||(ne={}));var ge,ve=function(){function e(){}return e.prototype.decode=function(t){this.ddata=t;var n=t.getBits(),i=this.extractBits(n),o=this.correctBits(i),r=e.convertBoolArrayToByteArray(o),s=e.getEncodedData(o),a=new oe(r,s,null,null);return a.setNumBits(o.length),a},e.highLevelDecode=function(e){return this.getEncodedData(e)},e.getEncodedData=function(t){for(var n=t.length,i=ne.UPPER,o=ne.UPPER,r="",s=0;s<n;)if(o===ne.BINARY){if(n-s<5)break;var a=e.readCode(t,s,5);if(s+=5,0===a){if(n-s<11)break;a=e.readCode(t,s,11)+31,s+=11}for(var l=0;l<a;l++){if(n-s<8){s=n;break}var c=e.readCode(t,s,8);r+=F.castAsNonUtf8Char(c),s+=8}o=i}else{var d=o===ne.DIGIT?4:5;if(n-s<d)break;c=e.readCode(t,s,d),s+=d;var u=e.getCharacter(o,c);u.startsWith("CTRL_")?(i=o,o=e.getTable(u.charAt(5)),"L"===u.charAt(6)&&(i=o)):(r+=u,o=i)}return r},e.getTable=function(e){switch(e){case"L":return ne.LOWER;case"P":return ne.PUNCT;case"M":return ne.MIXED;case"D":return ne.DIGIT;case"B":return ne.BINARY;default:return ne.UPPER}},e.getCharacter=function(t,n){switch(t){case ne.UPPER:return e.UPPER_TABLE[n];case ne.LOWER:return e.LOWER_TABLE[n];case ne.MIXED:return e.MIXED_TABLE[n];case ne.PUNCT:return e.PUNCT_TABLE[n];case ne.DIGIT:return e.DIGIT_TABLE[n];default:throw new me("Bad table")}},e.prototype.correctBits=function(t){var n,i;this.ddata.getNbLayers()<=2?(i=6,n=de.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,n=de.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,n=de.AZTEC_DATA_10):(i=12,n=de.AZTEC_DATA_12);var o=this.ddata.getNbDatablocks(),r=t.length/i;if(r<o)throw new E;for(var s=t.length%i,a=new Int32Array(r),l=0;l<r;l++,s+=i)a[l]=e.readCode(t,s,i);try{new fe(n).decode(a,r-o)}catch(f){throw new E(f)}var c=(1<<i)-1,d=0;for(l=0;l<o;l++){if(0===(h=a[l])||h===c)throw new E;1!==h&&h!==c-1||d++}var u=new Array(o*i-d),p=0;for(l=0;l<o;l++){var h;if(1===(h=a[l])||h===c-1)u.fill(h>1,p,p+i-1),p+=i-1;else for(var m=i-1;m>=0;--m)u[p++]=0!=(h&1<<m)}return u},e.prototype.extractBits=function(e){var t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(t?11:14)+4*n,o=new Int32Array(i),r=new Array(this.totalBitsInLayer(n,t));if(t)for(var s=0;s<o.length;s++)o[s]=s;else{var a=i+1+2*g.truncDivision(g.truncDivision(i,2)-1,15),l=i/2,c=g.truncDivision(a,2);for(s=0;s<l;s++){var d=s+g.truncDivision(s,15);o[l-s-1]=c-d-1,o[l+s]=c+d+1}}s=0;for(var u=0;s<n;s++){for(var p=4*(n-s)+(t?9:12),h=2*s,m=i-1-h,f=0;f<p;f++)for(var v=2*f,y=0;y<2;y++)r[u+v+y]=e.get(o[h+y],o[h+f]),r[u+2*p+v+y]=e.get(o[h+f],o[m-y]),r[u+4*p+v+y]=e.get(o[m-y],o[m-f]),r[u+6*p+v+y]=e.get(o[m-f],o[h+y]);u+=8*p}return r},e.readCode=function(e,t,n){for(var i=0,o=t;o<t+n;o++)i<<=1,e[o]&&(i|=1);return i},e.readByte=function(t,n){var i=t.length-n;return i>=8?e.readCode(t,n,8):e.readCode(t,n,i)<<8-i},e.convertBoolArrayToByteArray=function(t){for(var n=new Uint8Array((t.length+7)/8),i=0;i<n.length;i++)n[i]=e.readByte(t,8*i);return n},e.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},e.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],e.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],e.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],e.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],e.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],e}(),ye=function(){function e(){}return e.prototype.MathUtils=function(){},e.round=function(e){return NaN===e?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},e.distance=function(e,t,n,i){var o=e-n,r=t-i;return Math.sqrt(o*o+r*r)},e.sum=function(e){for(var t=0,n=0,i=e.length;n!==i;n++)t+=e[n];return t},e}(),be=function(){function e(){}return e.floatToIntBits=function(e){return e},e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}(),xe=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.equals=function(t){if(t instanceof e){var n=t;return this.x===n.x&&this.y===n.y}return!1},e.prototype.hashCode=function(){return 31*be.floatToIntBits(this.x)+be.floatToIntBits(this.y)},e.prototype.toString=function(){return"("+this.x+","+this.y+")"},e.orderBestPatterns=function(e){var t,n,i,o=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),s=this.distance(e[0],e[2]);if(r>=o&&r>=s?(n=e[0],t=e[1],i=e[2]):s>=r&&s>=o?(n=e[1],t=e[0],i=e[2]):(n=e[2],t=e[0],i=e[1]),this.crossProductZ(t,n,i)<0){var a=t;t=i,i=a}e[0]=t,e[1]=n,e[2]=i},e.distance=function(e,t){return ye.distance(e.x,e.y,t.x,t.y)},e.crossProductZ=function(e,t,n){var i=t.x,o=t.y;return(n.x-i)*(e.y-o)-(n.y-o)*(e.x-i)},e}(),we=function(){function e(e,t){this.bits=e,this.points=t}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}(),Ce=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_e=function(e){function t(t,n,i,o,r){var s=e.call(this,t,n)||this;return s.compact=i,s.nbDatablocks=o,s.nbLayers=r,s}return Ce(t,e),t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t}(we),Se=function(){function e(t,n,i,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),null==n&&(n=e.INIT_SIZE),null==i&&(i=t.getWidth()/2|0),null==o&&(o=t.getHeight()/2|0);var r=n/2|0;if(this.leftInit=i-r,this.rightInit=i+r,this.upInit=o-r,this.downInit=o+r,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new L}return e.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,n=this.upInit,i=this.downInit,o=!1,r=!0,s=!1,a=!1,l=!1,c=!1,d=!1,u=this.width,p=this.height;r;){r=!1;for(var h=!0;(h||!a)&&t<u;)(h=this.containsBlackPoint(n,i,t,!1))?(t++,r=!0,a=!0):a||t++;if(t>=u){o=!0;break}for(var m=!0;(m||!l)&&i<p;)(m=this.containsBlackPoint(e,t,i,!0))?(i++,r=!0,l=!0):l||i++;if(i>=p){o=!0;break}for(var f=!0;(f||!c)&&e>=0;)(f=this.containsBlackPoint(n,i,e,!1))?(e--,r=!0,c=!0):c||e--;if(e<0){o=!0;break}for(var g=!0;(g||!d)&&n>=0;)(g=this.containsBlackPoint(e,t,n,!0))?(n--,r=!0,d=!0):d||n--;if(n<0){o=!0;break}r&&(s=!0)}if(!o&&s){for(var v=t-e,y=null,b=1;null===y&&b<v;b++)y=this.getBlackPointOnSegment(e,i-b,e+b,i);if(null==y)throw new L;var x=null;for(b=1;null===x&&b<v;b++)x=this.getBlackPointOnSegment(e,n+b,e+b,n);if(null==x)throw new L;var w=null;for(b=1;null===w&&b<v;b++)w=this.getBlackPointOnSegment(t,n+b,t-b,n);if(null==w)throw new L;var C=null;for(b=1;null===C&&b<v;b++)C=this.getBlackPointOnSegment(t,i-b,t-b,i);if(null==C)throw new L;return this.centerEdges(C,y,w,x)}throw new L},e.prototype.getBlackPointOnSegment=function(e,t,n,i){for(var o=ye.round(ye.distance(e,t,n,i)),r=(n-e)/o,s=(i-t)/o,a=this.image,l=0;l<o;l++){var c=ye.round(e+l*r),d=ye.round(t+l*s);if(a.get(c,d))return new xe(c,d)}return null},e.prototype.centerEdges=function(t,n,i,o){var r=t.getX(),s=t.getY(),a=n.getX(),l=n.getY(),c=i.getX(),d=i.getY(),u=o.getX(),p=o.getY(),h=e.CORR;return r<this.width/2?[new xe(u-h,p+h),new xe(a+h,l+h),new xe(c-h,d-h),new xe(r+h,s-h)]:[new xe(u+h,p+h),new xe(a+h,l-h),new xe(c-h,d+h),new xe(r-h,s-h)]},e.prototype.containsBlackPoint=function(e,t,n,i){var o=this.image;if(i){for(var r=e;r<=t;r++)if(o.get(r,n))return!0}else for(var s=e;s<=t;s++)if(o.get(n,s))return!0;return!1},e.INIT_SIZE=10,e.CORR=1,e}(),Ie=function(){function e(){}return e.checkAndNudgePoints=function(e,t){for(var n=e.getWidth(),i=e.getHeight(),o=!0,r=0;r<t.length&&o;r+=2){var s=Math.floor(t[r]),a=Math.floor(t[r+1]);if(s<-1||s>n||a<-1||a>i)throw new L;o=!1,-1===s?(t[r]=0,o=!0):s===n&&(t[r]=n-1,o=!0),-1===a?(t[r+1]=0,o=!0):a===i&&(t[r+1]=i-1,o=!0)}for(o=!0,r=t.length-2;r>=0&&o;r-=2){if(s=Math.floor(t[r]),a=Math.floor(t[r+1]),s<-1||s>n||a<-1||a>i)throw new L;o=!1,-1===s?(t[r]=0,o=!0):s===n&&(t[r]=n-1,o=!0),-1===a?(t[r+1]=0,o=!0):a===i&&(t[r+1]=i-1,o=!0)}},e}(),Ae=function(){function e(e,t,n,i,o,r,s,a,l){this.a11=e,this.a21=t,this.a31=n,this.a12=i,this.a22=o,this.a32=r,this.a13=s,this.a23=a,this.a33=l}return e.quadrilateralToQuadrilateral=function(t,n,i,o,r,s,a,l,c,d,u,p,h,m,f,g){var v=e.quadrilateralToSquare(t,n,i,o,r,s,a,l);return e.squareToQuadrilateral(c,d,u,p,h,m,f,g).times(v)},e.prototype.transformPoints=function(e){for(var t=e.length,n=this.a11,i=this.a12,o=this.a13,r=this.a21,s=this.a22,a=this.a23,l=this.a31,c=this.a32,d=this.a33,u=0;u<t;u+=2){var p=e[u],h=e[u+1],m=o*p+a*h+d;e[u]=(n*p+r*h+l)/m,e[u+1]=(i*p+s*h+c)/m}},e.prototype.transformPointsWithValues=function(e,t){for(var n=this.a11,i=this.a12,o=this.a13,r=this.a21,s=this.a22,a=this.a23,l=this.a31,c=this.a32,d=this.a33,u=e.length,p=0;p<u;p++){var h=e[p],m=t[p],f=o*h+a*m+d;e[p]=(n*h+r*m+l)/f,t[p]=(i*h+s*m+c)/f}},e.squareToQuadrilateral=function(t,n,i,o,r,s,a,l){var c=t-i+r-a,d=n-o+s-l;if(0===c&&0===d)return new e(i-t,r-i,t,o-n,s-o,n,0,0,1);var u=i-r,p=a-r,h=o-s,m=l-s,f=u*m-p*h,g=(c*m-p*d)/f,v=(u*d-c*h)/f;return new e(i-t+g*i,a-t+v*a,t,o-n+g*o,l-n+v*l,n,g,v,1)},e.quadrilateralToSquare=function(t,n,i,o,r,s,a,l){return e.squareToQuadrilateral(t,n,i,o,r,s,a,l).buildAdjoint()},e.prototype.buildAdjoint=function(){return new e(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},e.prototype.times=function(t){return new e(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},e}(),Ee=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),De=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ee(t,e),t.prototype.sampleGrid=function(e,t,n,i,o,r,s,a,l,c,d,u,p,h,m,f,g,v,y){var b=Ae.quadrilateralToQuadrilateral(i,o,r,s,a,l,c,d,u,p,h,m,f,g,v,y);return this.sampleGridWithTransform(e,t,n,b)},t.prototype.sampleGridWithTransform=function(e,t,n,i){if(t<=0||n<=0)throw new L;for(var o=new N(t,n),r=new Float32Array(2*t),s=0;s<n;s++){for(var a=r.length,l=s+.5,c=0;c<a;c+=2)r[c]=c/2+.5,r[c+1]=l;i.transformPoints(r),Ie.checkAndNudgePoints(e,r);try{for(c=0;c<a;c+=2)e.get(Math.floor(r[c]),Math.floor(r[c+1]))&&o.set(c/2,s)}catch(d){throw new L}}return o},t}(Ie),Te=function(){function e(){}return e.setGridSampler=function(t){e.gridSampler=t},e.getInstance=function(){return e.gridSampler},e.gridSampler=new De,e}(),Re=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.toResultPoint=function(){return new xe(this.getX(),this.getY())},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e}(),Me=function(){function e(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return e.prototype.detect=function(){return this.detectMirror(!1)},e.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var o=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),r=this.getMatrixCornerPoints(n);return new _e(o,r,this.compact,this.nbDataBlocks,this.nbLayers)},e.prototype.extractParameters=function(e){if(!(this.isValidPoint(e[0])&&this.isValidPoint(e[1])&&this.isValidPoint(e[2])&&this.isValidPoint(e[3])))throw new L;var t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);for(var i=0,o=0;o<4;o++){var r=n[(this.shift+o)%4];this.compact?(i<<=7,i+=r>>1&127):(i<<=10,i+=(r>>2&992)+(r>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=1+(s>>6),this.nbDataBlocks=1+(63&s)):(this.nbLayers=1+(s>>11),this.nbDataBlocks=1+(2047&s))},e.prototype.getRotation=function(e,t){var n=0;e.forEach(function(e,i,o){n=(e>>t-2<<1)+(1&e)+(n<<3)}),n=((1&n)<<11)+(n>>1);for(var i=0;i<4;i++)if(g.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new L},e.prototype.getCorrectedParameterData=function(e,t){var n,i;t?(n=7,i=2):(n=10,i=4);for(var o=n-i,r=new Int32Array(n),s=n-1;s>=0;--s)r[s]=15&e,e>>=4;try{new fe(de.AZTEC_PARAM).decode(r,o)}catch(l){throw new L}var a=0;for(s=0;s<i;s++)a=(a<<4)+r[s];return a},e.prototype.getBullsEyeCorners=function(e){var t=e,n=e,i=e,o=e,r=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(t,r,1,-1),a=this.getFirstDifferent(n,r,1,1),l=this.getFirstDifferent(i,r,-1,1),c=this.getFirstDifferent(o,r,-1,-1);if(this.nbCenterLayers>2){var d=this.distancePoint(c,s)*this.nbCenterLayers/(this.distancePoint(o,t)*(this.nbCenterLayers+2));if(d<.75||d>1.25||!this.isWhiteOrBlackRectangle(s,a,l,c))break}t=s,n=a,i=l,o=c,r=!r}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new L;this.compact=5===this.nbCenterLayers;var u=new xe(t.getX()+.5,t.getY()-.5),p=new xe(n.getX()+.5,n.getY()+.5),h=new xe(i.getX()-.5,i.getY()+.5),m=new xe(o.getX()-.5,o.getY()-.5);return this.expandSquare([u,p,h,m],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},e.prototype.getMatrixCenter=function(){var e,t,n,i;try{e=(l=new Se(this.image).detect())[0],t=l[1],n=l[2],i=l[3]}catch(c){var o=this.image.getWidth()/2,r=this.image.getHeight()/2;e=this.getFirstDifferent(new Re(o+7,r-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Re(o+7,r+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Re(o-7,r+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Re(o-7,r-7),!1,-1,-1).toResultPoint()}var s=ye.round((e.getX()+i.getX()+t.getX()+n.getX())/4),a=ye.round((e.getY()+i.getY()+t.getY()+n.getY())/4);try{var l;e=(l=new Se(this.image,15,s,a).detect())[0],t=l[1],n=l[2],i=l[3]}catch(c){e=this.getFirstDifferent(new Re(s+7,a-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Re(s+7,a+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Re(s-7,a+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Re(s-7,a-7),!1,-1,-1).toResultPoint()}return s=ye.round((e.getX()+i.getX()+t.getX()+n.getX())/4),a=ye.round((e.getY()+i.getY()+t.getY()+n.getY())/4),new Re(s,a)},e.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},e.prototype.sampleGrid=function(e,t,n,i,o){var r=Te.getInstance(),s=this.getDimension(),a=s/2-this.nbCenterLayers,l=s/2+this.nbCenterLayers;return r.sampleGrid(e,s,s,a,a,l,a,l,l,a,l,t.getX(),t.getY(),n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY())},e.prototype.sampleLine=function(e,t,n){for(var i=0,o=this.distanceResultPoint(e,t),r=o/n,s=e.getX(),a=e.getY(),l=r*(t.getX()-e.getX())/o,c=r*(t.getY()-e.getY())/o,d=0;d<n;d++)this.image.get(ye.round(s+d*l),ye.round(a+d*c))&&(i|=1<<n-d-1);return i},e.prototype.isWhiteOrBlackRectangle=function(e,t,n,i){e=new Re(e.getX()-3,e.getY()+3),t=new Re(t.getX()-3,t.getY()-3),n=new Re(n.getX()+3,n.getY()-3),i=new Re(i.getX()+3,i.getY()+3);var o=this.getColor(i,e);if(0===o)return!1;var r=this.getColor(e,t);return r===o&&(r=this.getColor(t,n))===o&&(r=this.getColor(n,i))===o},e.prototype.getColor=function(e,t){for(var n=this.distancePoint(e,t),i=(t.getX()-e.getX())/n,o=(t.getY()-e.getY())/n,r=0,s=e.getX(),a=e.getY(),l=this.image.get(e.getX(),e.getY()),c=Math.ceil(n),d=0;d<c;d++)s+=i,a+=o,this.image.get(ye.round(s),ye.round(a))!==l&&r++;var u=r/n;return u>.1&&u<.9?0:u<=.1===l?1:-1},e.prototype.getFirstDifferent=function(e,t,n,i){for(var o=e.getX()+n,r=e.getY()+i;this.isValid(o,r)&&this.image.get(o,r)===t;)o+=n,r+=i;for(o-=n,r-=i;this.isValid(o,r)&&this.image.get(o,r)===t;)o+=n;for(o-=n;this.isValid(o,r)&&this.image.get(o,r)===t;)r+=i;return new Re(o,r-=i)},e.prototype.expandSquare=function(e,t,n){var i=n/(2*t),o=e[0].getX()-e[2].getX(),r=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,a=(e[0].getY()+e[2].getY())/2,l=new xe(s+i*o,a+i*r),c=new xe(s-i*o,a-i*r);return o=e[1].getX()-e[3].getX(),r=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,a=(e[1].getY()+e[3].getY())/2,[l,new xe(s+i*o,a+i*r),c,new xe(s-i*o,a-i*r)]},e.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},e.prototype.isValidPoint=function(e){var t=ye.round(e.getX()),n=ye.round(e.getY());return this.isValid(t,n)},e.prototype.distancePoint=function(e,t){return ye.distance(e.getX(),e.getY(),t.getX(),t.getY())},e.prototype.distanceResultPoint=function(e,t){return ye.distance(e.getX(),e.getY(),t.getX(),t.getY())},e.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(g.truncDivision(this.nbLayers-4,8)+1)+15},e}(),Oe=function(){function e(){}return e.prototype.decode=function(e,t){void 0===t&&(t=null);var n=null,i=new Me(e.getBlackMatrix()),o=null,r=null;try{o=(s=i.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(t,o),r=(new ve).decode(s)}catch(d){n=d}if(null==r)try{var s;o=(s=i.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(t,o),r=(new ve).decode(s)}catch(d){if(null!=n)throw n;throw d}var a=new J(r.getText(),r.getRawBytes(),r.getNumBits(),o,te.AZTEC,f.currentTimeMillis()),l=r.getByteSegments();null!=l&&a.putMetadata(ie.BYTE_SEGMENTS,l);var c=r.getECLevel();return null!=c&&a.putMetadata(ie.ERROR_CORRECTION_LEVEL,c),a},e.prototype.reportFoundResultPoints=function(e,t){if(null!=e){var n=e.get(I.NEED_RESULT_POINT_CALLBACK);null!=n&&t.forEach(function(e,t,i){n.foundPossibleResultPoint(e)})}},e.prototype.reset=function(){},e}(),Pe=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fe=(function(e){function t(t){return void 0===t&&(t=500),e.call(this,new Oe,t)||this}Pe(t,e)}(K),function(){function e(){}return e.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch(c){if(t&&!0===t.get(I.TRY_HARDER)&&e.isRotateSupported()){var n=e.rotateCounterClockwise(),i=this.doDecode(n,t),o=i.getResultMetadata(),r=270;null!==o&&!0===o.get(ie.ORIENTATION)&&(r+=o.get(ie.ORIENTATION)%360),i.putMetadata(ie.ORIENTATION,r);var s=i.getResultPoints();if(null!==s)for(var a=n.getHeight(),l=0;l<s.length;l++)s[l]=new xe(a-s[l].getY()-1,s[l].getX());return i}throw new L}},e.prototype.reset=function(){},e.prototype.doDecode=function(e,t){var n,i=e.getWidth(),o=e.getHeight(),r=new _(i),s=t&&!0===t.get(I.TRY_HARDER),a=Math.max(1,o>>(s?8:5));n=s?o:15;for(var l=Math.trunc(o/2),c=0;c<n;c++){var d=Math.trunc((c+1)/2),u=l+a*(0==(1&c)?d:-d);if(u<0||u>=o)break;try{r=e.getBlackRow(u,r)}catch(g){continue}for(var p=function(e){if(1===e&&(r.reverse(),t&&!0===t.get(I.NEED_RESULT_POINT_CALLBACK))){var n=new Map;t.forEach(function(e,t){return n.set(t,e)}),n.delete(I.NEED_RESULT_POINT_CALLBACK),t=n}try{var o=h.decodeRow(u,r,t);if(1===e){o.putMetadata(ie.ORIENTATION,180);var s=o.getResultPoints();null!==s&&(s[0]=new xe(i-s[0].getX()-1,s[0].getY()),s[1]=new xe(i-s[1].getX()-1,s[1].getY()))}return{value:o}}catch(a){}},h=this,m=0;m<2;m++){var f=p(m);if("object"==typeof f)return f.value}}throw new L},e.recordPattern=function(e,t,n){for(var i=n.length,o=0;o<i;o++)n[o]=0;var r=e.getSize();if(t>=r)throw new L;for(var s=!e.get(t),a=0,l=t;l<r;){if(e.get(l)!==s)n[a]++;else{if(++a===i)break;n[a]=1,s=!s}l++}if(a!==i&&(a!==i-1||l!==r))throw new L},e.recordPatternInReverse=function(t,n,i){for(var o=i.length,r=t.get(n);n>0&&o>=0;)t.get(--n)!==r&&(o--,r=!r);if(o>=0)throw new L;e.recordPattern(t,n+1,i)},e.patternMatchVariance=function(e,t,n){for(var i=e.length,o=0,r=0,s=0;s<i;s++)o+=e[s],r+=t[s];if(o<r)return Number.POSITIVE_INFINITY;var a=o/r;n*=a;for(var l=0,c=0;c<i;c++){var d=e[c],u=t[c]*a,p=d>u?d-u:u-d;if(p>n)return Number.POSITIVE_INFINITY;l+=p}return l/o},e}()),ke=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ne=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},je=function(e){function t(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=n,i.decodeRowResult="",i.counters=new Array(9),i}return ke(t,e),t.prototype.decodeRow=function(e,n,i){var o,r,s,a,l=this.counters;l.fill(0),this.decodeRowResult="";var c,d,u=t.findAsteriskPattern(n,l),p=n.getNextSet(u[1]),m=n.getSize();do{t.recordPattern(n,p,l);var f=t.toNarrowWidePattern(l);if(f<0)throw new L;c=t.patternToChar(f),this.decodeRowResult+=c,d=p;try{for(var g=(o=void 0,Ne(l)),v=g.next();!v.done;v=g.next())p+=v.value}catch(E){o={error:E}}finally{try{v&&!v.done&&(r=g.return)&&r.call(g)}finally{if(o)throw o.error}}p=n.getNextSet(p)}while("*"!==c);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y,b=0;try{for(var x=Ne(l),w=x.next();!w.done;w=x.next())b+=w.value}catch(D){s={error:D}}finally{try{w&&!w.done&&(a=x.return)&&a.call(x)}finally{if(s)throw s.error}}if(p!==m&&2*(p-d-b)<b)throw new L;if(this.usingCheckDigit){for(var C=this.decodeRowResult.length-1,_=0,S=0;S<C;S++)_+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(S));if(this.decodeRowResult.charAt(C)!==t.ALPHABET_STRING.charAt(_%43))throw new h;this.decodeRowResult=this.decodeRowResult.substring(0,C)}if(0===this.decodeRowResult.length)throw new L;y=this.extendedMode?t.decodeExtended(this.decodeRowResult):this.decodeRowResult;var I=(u[1]+u[0])/2,A=d+b/2;return new J(y,null,0,[new xe(I,e),new xe(A,e)],te.CODE_39,(new Date).getTime())},t.findAsteriskPattern=function(e,n){for(var i=e.getSize(),o=e.getNextSet(0),r=0,s=o,a=!1,l=n.length,c=o;c<i;c++)if(e.get(c)!==a)n[r]++;else{if(r===l-1){if(this.toNarrowWidePattern(n)===t.ASTERISK_ENCODING&&e.isRange(Math.max(0,s-Math.floor((c-s)/2)),s,!1))return[s,c];s+=n[0]+n[1],n.copyWithin(0,2,2+r-1),n[r-1]=0,n[r]=0,r--}else r++;n[r]=1,a=!a}throw new L},t.toNarrowWidePattern=function(e){var t,n,i,o=e.length,r=0;do{var s=2147483647;try{for(var a=(t=void 0,Ne(e)),l=a.next();!l.done;l=a.next())(p=l.value)<s&&p>r&&(s=p)}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}r=s,i=0;for(var c=0,d=0,u=0;u<o;u++)(p=e[u])>r&&(d|=1<<o-1-u,i++,c+=p);if(3===i){for(u=0;u<o&&i>0;u++){var p;if((p=e[u])>r&&(i--,2*p>=c))return-1}return d}}while(i>3);return-1},t.patternToChar=function(e){for(var n=0;n<t.CHARACTER_ENCODINGS.length;n++)if(t.CHARACTER_ENCODINGS[n]===e)return t.ALPHABET_STRING.charAt(n);if(e===t.ASTERISK_ENCODING)return"*";throw new L},t.decodeExtended=function(e){for(var t=e.length,n="",i=0;i<t;i++){var o=e.charAt(i);if("+"===o||"$"===o||"%"===o||"/"===o){var r=e.charAt(i+1),s="\0";switch(o){case"+":if(!(r>="A"&&r<="Z"))throw new E;s=String.fromCharCode(r.charCodeAt(0)+32);break;case"$":if(!(r>="A"&&r<="Z"))throw new E;s=String.fromCharCode(r.charCodeAt(0)-64);break;case"%":if(r>="A"&&r<="E")s=String.fromCharCode(r.charCodeAt(0)-38);else if(r>="F"&&r<="J")s=String.fromCharCode(r.charCodeAt(0)-11);else if(r>="K"&&r<="O")s=String.fromCharCode(r.charCodeAt(0)+16);else if(r>="P"&&r<="T")s=String.fromCharCode(r.charCodeAt(0)+43);else if("U"===r)s="\0";else if("V"===r)s="@";else if("W"===r)s="`";else{if("X"!==r&&"Y"!==r&&"Z"!==r)throw new E;s="\x7f"}break;case"/":if(r>="A"&&r<="O")s=String.fromCharCode(r.charCodeAt(0)-32);else{if("Z"!==r)throw new E;s=":"}}n+=s,i++}else n+=o}return n},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t}(Fe),Le=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Le(t,e),t.findStartPattern=function(e){for(var n=e.getSize(),i=e.getNextSet(0),o=0,r=[0,0,0,0,0,0],s=i,a=!1,l=i;l<n;l++)if(e.get(l)!==a)r[o]++;else{if(5===o){for(var c=t.MAX_AVG_VARIANCE,d=-1,u=t.CODE_START_A;u<=t.CODE_START_C;u++){var p=Fe.patternMatchVariance(r,t.CODE_PATTERNS[u],t.MAX_INDIVIDUAL_VARIANCE);p<c&&(c=p,d=u)}if(d>=0&&e.isRange(Math.max(0,s-(l-s)/2),s,!1))return[s,l,d];s+=r[0]+r[1],r.splice(0,2),r[o-1]=0,r[o]=0,o--}else o++;r[o]=1,a=!a}throw new L},t.decodeCode=function(e,n,i){Fe.recordPattern(e,i,n);for(var o=t.MAX_AVG_VARIANCE,r=-1,s=0;s<t.CODE_PATTERNS.length;s++){var a=t.CODE_PATTERNS[s],l=this.patternMatchVariance(n,a,t.MAX_INDIVIDUAL_VARIANCE);l<o&&(o=l,r=s)}if(r>=0)return r;throw new L},t.prototype.decodeRow=function(e,n,i){var o,r=i&&!0===i.get(I.ASSUME_GS1),s=t.findStartPattern(n),a=s[2],l=0,c=new Uint8Array(20);switch(c[l++]=a,a){case t.CODE_START_A:o=t.CODE_CODE_A;break;case t.CODE_START_B:o=t.CODE_CODE_B;break;case t.CODE_START_C:o=t.CODE_CODE_C;break;default:throw new E}for(var d=!1,u=!1,p="",m=s[0],f=s[1],g=[0,0,0,0,0,0],v=0,y=0,b=a,x=0,w=!0,C=!1,_=!1;!d;){var S=u;switch(u=!1,v=y,y=t.decodeCode(n,g,f),c[l++]=y,y!==t.CODE_STOP&&(w=!0),y!==t.CODE_STOP&&(b+=++x*y),m=f,f+=g.reduce(function(e,t){return e+t},0),y){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new E}switch(o){case t.CODE_CODE_A:if(y<64)p+=_===C?String.fromCharCode(" ".charCodeAt(0)+y):String.fromCharCode(" ".charCodeAt(0)+y+128),_=!1;else if(y<96)p+=_===C?String.fromCharCode(y-64):String.fromCharCode(y+64),_=!1;else switch(y!==t.CODE_STOP&&(w=!1),y){case t.CODE_FNC_1:r&&(0===p.length?p+="]C1":p+=String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!C&&_?(C=!0,_=!1):C&&_?(C=!1,_=!1):_=!0;break;case t.CODE_SHIFT:u=!0,o=t.CODE_CODE_B;break;case t.CODE_CODE_B:o=t.CODE_CODE_B;break;case t.CODE_CODE_C:o=t.CODE_CODE_C;break;case t.CODE_STOP:d=!0}break;case t.CODE_CODE_B:if(y<96)p+=_===C?String.fromCharCode(" ".charCodeAt(0)+y):String.fromCharCode(" ".charCodeAt(0)+y+128),_=!1;else switch(y!==t.CODE_STOP&&(w=!1),y){case t.CODE_FNC_1:r&&(0===p.length?p+="]C1":p+=String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!C&&_?(C=!0,_=!1):C&&_?(C=!1,_=!1):_=!0;break;case t.CODE_SHIFT:u=!0,o=t.CODE_CODE_A;break;case t.CODE_CODE_A:o=t.CODE_CODE_A;break;case t.CODE_CODE_C:o=t.CODE_CODE_C;break;case t.CODE_STOP:d=!0}break;case t.CODE_CODE_C:if(y<100)y<10&&(p+="0"),p+=y;else switch(y!==t.CODE_STOP&&(w=!1),y){case t.CODE_FNC_1:r&&(0===p.length?p+="]C1":p+=String.fromCharCode(29));break;case t.CODE_CODE_A:o=t.CODE_CODE_A;break;case t.CODE_CODE_B:o=t.CODE_CODE_B;break;case t.CODE_STOP:d=!0}}S&&(o=o===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var A=f-m;if(f=n.getNextUnset(f),!n.isRange(f,Math.min(n.getSize(),f+(f-m)/2),!1))throw new L;if((b-=x*v)%103!==v)throw new h;var D=p.length;if(0===D)throw new L;D>0&&w&&(p=o===t.CODE_CODE_C?p.substring(0,D-2):p.substring(0,D-1));for(var T=(s[1]+s[0])/2,R=m+A/2,M=c.length,O=new Uint8Array(M),P=0;P<M;P++)O[P]=c[P];var F=[new xe(T,e),new xe(R,e)];return new J(p,O,0,F,te.CODE_128,(new Date).getTime())},t.CODE_PATTERNS=[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t}(Fe),Be=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ge=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=function(e){function t(){var t=e.call(this)||this;return t.decodeFinderCounters=new Array(4),t.dataCharacterCounters=new Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return Be(t,e),t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(e,n){for(var i=0;i<n.length;i++)if(Fe.patternMatchVariance(e,n[i],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return i;throw new L},t.count=function(e){return ye.sum(new Int32Array(e))},t.increment=function(e,t){for(var n=0,i=t[0],o=1;o<e.length;o++)t[o]>i&&(i=t[o],n=o);e[n]++},t.decrement=function(e,t){for(var n=0,i=t[0],o=1;o<e.length;o++)t[o]<i&&(i=t[o],n=o);e[n]--},t.isFinderPattern=function(e){var n,i,o=e[0]+e[1],r=o/(o+e[2]+e[3]);if(r>=t.MIN_FINDER_PATTERN_RATIO&&r<=t.MAX_FINDER_PATTERN_RATIO){var s=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;try{for(var l=Ge(e),c=l.next();!c.done;c=l.next()){var d=c.value;d>a&&(a=d),d<s&&(s=d)}}catch(u){n={error:u}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return a<10*s}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t}(Fe),$e=function(){function e(e,t){this.value=e,this.checksumPortion=t}return e.prototype.getValue=function(){return this.value},e.prototype.getChecksumPortion=function(){return this.checksumPortion},e.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value&&this.checksumPortion===n.checksumPortion},e.prototype.hashCode=function(){return this.value^this.checksumPortion},e}(),Ue=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),He=function(e){function t(t,n,i){var o=e.call(this,t,n)||this;return o.count=0,o.finderPattern=i,o}return Ue(t,e),t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t}($e),Xe=function(){function e(e,t,n,i,o){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new xe(n,o)),this.resultPoints.push(new xe(i,o))}return e.prototype.getValue=function(){return this.value},e.prototype.getStartEnd=function(){return this.startEnd},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.prototype.hashCode=function(){return this.value},e}(),We=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qe=function(){function e(){}return e.prototype.RSSUtils=function(){},e.getRSSvalue=function(t,n,i){var o,r,s=0;try{for(var a=We(t),l=a.next();!l.done;l=a.next())s+=l.value}catch(v){o={error:v}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}for(var c=0,d=0,u=t.length,p=0;p<u-1;p++){var h=void 0;for(h=1,d|=1<<p;h<t[p];h++,d&=~(1<<p)){var m=e.combins(s-h-1,u-p-2);if(i&&0===d&&s-h-(u-p-1)>=u-p-1&&(m-=e.combins(s-h-(u-p),u-p-2)),u-p-1>1){for(var f=0,g=s-h-(u-p-2);g>n;g--)f+=e.combins(s-h-g-1,u-p-3);m-=f*(u-1-p)}else s-h>n&&m--;c+=m}s-=h}return c},e.combins=function(e,t){var n,i;e-t>t?(i=t,n=e-t):(i=e-t,n=t);for(var o=1,r=1,s=e;s>n;s--)o*=s,r<=i&&(o/=r,r++);for(;r<=i;)o/=r,r++;return o},e}(),Ye=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qe=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return Ye(t,e),t.prototype.decodeRow=function(e,n,i){var o,r,s,a,l=this.decodePair(n,!1,e,i);t.addOrTally(this.possibleLeftPairs,l),n.reverse();var c=this.decodePair(n,!0,e,i);t.addOrTally(this.possibleRightPairs,c),n.reverse();try{for(var d=Qe(this.possibleLeftPairs),u=d.next();!u.done;u=d.next()){var p=u.value;if(p.getCount()>1)try{for(var h=(s=void 0,Qe(this.possibleRightPairs)),m=h.next();!m.done;m=h.next()){var f=m.value;if(f.getCount()>1&&t.checkChecksum(p,f))return t.constructResult(p,f)}}catch(g){s={error:g}}finally{try{m&&!m.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}}}catch(v){o={error:v}}finally{try{u&&!u.done&&(r=d.return)&&r.call(d)}finally{if(o)throw o.error}}throw new L},t.addOrTally=function(e,t){var n,i;if(null!=t){var o=!1;try{for(var r=Qe(e),s=r.next();!s.done;s=r.next()){var a=s.value;if(a.getValue()===t.getValue()){a.incrementCount(),o=!0;break}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}o||e.push(t)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(e,t){for(var n=4537077*e.getValue()+t.getValue(),i=new String(n).toString(),o=new k,r=13-i.length;r>0;r--)o.append("0");o.append(i);var s=0;for(r=0;r<13;r++){var a=o.charAt(r).charCodeAt(0)-"0".charCodeAt(0);s+=0==(1&r)?3*a:a}10==(s=10-s%10)&&(s=0),o.append(s.toString());var l=e.getFinderPattern().getResultPoints(),c=t.getFinderPattern().getResultPoints();return new J(o.toString(),null,0,[l[0],l[1],c[0],c[1]],te.RSS_14,(new Date).getTime())},t.checkChecksum=function(e,t){var n=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,i=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,n===i},t.prototype.decodePair=function(e,t,n,i){try{var o=this.findFinderPattern(e,t),r=this.parseFoundFinderPattern(e,n,t,o),s=null==i?null:i.get(I.NEED_RESULT_POINT_CALLBACK);if(null!=s){var a=(o[0]+o[1])/2;t&&(a=e.getSize()-1-a),s.foundPossibleResultPoint(new xe(a,n))}var l=this.decodeDataCharacter(e,r,!0),c=this.decodeDataCharacter(e,r,!1);return new He(1597*l.getValue()+c.getValue(),l.getChecksumPortion()+4*c.getChecksumPortion(),r)}catch(d){return null}},t.prototype.decodeDataCharacter=function(e,n,i){for(var o=this.getDataCharacterCounters(),r=0;r<o.length;r++)o[r]=0;if(i)Fe.recordPatternInReverse(e,n.getStartEnd()[0],o);else{Fe.recordPattern(e,n.getStartEnd()[1]+1,o);for(var s=0,a=o.length-1;s<a;s++,a--){var l=o[s];o[s]=o[a],o[a]=l}}var c=i?16:15,d=ye.sum(new Int32Array(o))/c,u=this.getOddCounts(),p=this.getEvenCounts(),h=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors();for(s=0;s<o.length;s++){var f=o[s]/d,g=Math.floor(f+.5);g<1?g=1:g>8&&(g=8);var v=Math.floor(s/2);0==(1&s)?(u[v]=g,h[v]=f-g):(p[v]=g,m[v]=f-g)}this.adjustOddEvenCounts(i,c);var y=0,b=0;for(s=u.length-1;s>=0;s--)b*=9,b+=u[s],y+=u[s];var x=0,w=0;for(s=p.length-1;s>=0;s--)x*=9,x+=p[s],w+=p[s];var C=b+3*x;if(i){if(0!=(1&y)||y>12||y<4)throw new L;var _=(12-y)/2,S=9-(T=t.OUTSIDE_ODD_WIDEST[_]),I=qe.getRSSvalue(u,T,!1),A=qe.getRSSvalue(p,S,!0),E=t.OUTSIDE_EVEN_TOTAL_SUBSET[_],D=t.OUTSIDE_GSUM[_];return new $e(I*E+A+D,C)}if(0!=(1&w)||w>10||w<4)throw new L;_=(10-w)/2,S=9-(T=t.INSIDE_ODD_WIDEST[_]),I=qe.getRSSvalue(u,T,!0),A=qe.getRSSvalue(p,S,!1);var T,R=t.INSIDE_ODD_TOTAL_SUBSET[_];return D=t.INSIDE_GSUM[_],new $e(A*R+I+D,C)},t.prototype.findFinderPattern=function(e,t){var n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;for(var i=e.getSize(),o=!1,r=0;r<i&&t!==(o=!e.get(r));)r++;for(var s=0,a=r,l=r;l<i;l++)if(e.get(l)!==o)n[s]++;else{if(3===s){if(ze.isFinderPattern(n))return[a,l];a+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,s--}else s++;n[s]=1,o=!o}throw new L},t.prototype.parseFoundFinderPattern=function(e,n,i,o){for(var r=e.get(o[0]),s=o[0]-1;s>=0&&r!==e.get(s);)s--;s++;var a=o[0]-s,l=this.getDecodeFinderCounters(),c=new Array(l.length);f.arraycopy(l,0,c,1,l.length-1),c[0]=a;var d=this.parseFinderValue(c,t.FINDER_PATTERNS),u=s,p=o[1];return i&&(u=e.getSize()-1-u,p=e.getSize()-1-p),new Xe(d,[s,o[1]],u,p,n)},t.prototype.adjustOddEvenCounts=function(e,t){var n=ye.sum(new Int32Array(this.getOddCounts())),i=ye.sum(new Int32Array(this.getEvenCounts())),o=!1,r=!1,s=!1,a=!1;e?(n>12?r=!0:n<4&&(o=!0),i>12?a=!0:i<4&&(s=!0)):(n>11?r=!0:n<5&&(o=!0),i>10?a=!0:i<4&&(s=!0));var l=n+i-t,c=(1&n)==(e?1:0),d=1==(1&i);if(1===l)if(c){if(d)throw new L;r=!0}else{if(!d)throw new L;a=!0}else if(-1===l)if(c){if(d)throw new L;o=!0}else{if(!d)throw new L;s=!0}else{if(0!==l)throw new L;if(c){if(!d)throw new L;n<i?(o=!0,a=!0):(r=!0,s=!0)}else if(d)throw new L}if(o){if(r)throw new L;ze.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(r&&ze.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(a)throw new L;ze.increment(this.getEvenCounts(),this.getOddRoundingErrors())}a&&ze.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[[3,8,2,1],[3,5,5,1],[3,3,7,1],[3,1,9,1],[2,7,4,1],[2,5,6,1],[2,3,8,1],[1,5,7,1],[1,3,9,1]],t}(ze),Ke=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Je=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},et=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return Ke(t,e),t.prototype.decodeRow=function(e,n,i){var o,r,s=this.decodeStart(n),a=this.decodeEnd(n),l=new k;t.decodeMiddle(n,s[1],a[0],l);var c=l.toString(),d=null;null!=i&&(d=i.get(I.ALLOWED_LENGTHS)),null==d&&(d=t.DEFAULT_ALLOWED_LENGTHS);var u=c.length,p=!1,h=0;try{for(var m=Je(d),f=m.next();!f.done;f=m.next()){var g=f.value;if(u===g){p=!0;break}g>h&&(h=g)}}catch(y){o={error:y}}finally{try{f&&!f.done&&(r=m.return)&&r.call(m)}finally{if(o)throw o.error}}if(!p&&u>h&&(p=!0),!p)throw new E;var v=[new xe(s[1],e),new xe(a[0],e)];return new J(c,null,0,v,te.ITF,(new Date).getTime())},t.decodeMiddle=function(e,n,i,o){var r=new Array(10),s=new Array(5),a=new Array(5);for(r.fill(0),s.fill(0),a.fill(0);n<i;){Fe.recordPattern(e,n,r);for(var l=0;l<5;l++){var c=2*l;s[l]=r[c],a[l]=r[c+1]}var d=t.decodeDigit(s);o.append(d.toString()),d=this.decodeDigit(a),o.append(d.toString()),r.forEach(function(e){n+=e})}},t.prototype.decodeStart=function(e){var n=t.skipWhiteSpace(e),i=t.findGuardPattern(e,n,t.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(e,i[0]),i},t.prototype.validateQuietZone=function(e,t){var n=10*this.narrowLineWidth;n=n<t?n:t;for(var i=t-1;n>0&&i>=0&&!e.get(i);i--)n--;if(0!==n)throw new L},t.skipWhiteSpace=function(e){var t=e.getSize(),n=e.getNextSet(0);if(n===t)throw new L;return n},t.prototype.decodeEnd=function(e){e.reverse();try{var n=t.skipWhiteSpace(e),i=void 0;try{i=t.findGuardPattern(e,n,t.END_PATTERN_REVERSED[0])}catch(L){i=t.findGuardPattern(e,n,t.END_PATTERN_REVERSED[1])}this.validateQuietZone(e,i[0]);var o=i[0];return i[0]=e.getSize()-i[1],i[1]=e.getSize()-o,i}finally{e.reverse()}},t.findGuardPattern=function(e,n,i){var o=i.length,r=new Array(o),s=e.getSize(),a=!1,l=0,c=n;r.fill(0);for(var d=n;d<s;d++)if(e.get(d)!==a)r[l]++;else{if(l===o-1){if(Fe.patternMatchVariance(r,i,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[c,d];c+=r[0]+r[1],f.arraycopy(r,2,r,0,l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,a=!a}throw new L},t.decodeDigit=function(e){for(var n=t.MAX_AVG_VARIANCE,i=-1,o=t.PATTERNS.length,r=0;r<o;r++){var s=t.PATTERNS[r],a=Fe.patternMatchVariance(e,s,t.MAX_INDIVIDUAL_VARIANCE);a<n?(n=a,i=r):a===n&&(i=-1)}if(i>=0)return i%10;throw new L},t.W=3,t.w=2,t.N=1,t.PATTERNS=[[1,1,2,2,1],[2,1,1,1,2],[1,2,1,1,2],[2,2,1,1,1],[1,1,2,1,2],[2,1,2,1,1],[1,2,2,1,1],[1,1,1,2,2],[2,1,1,2,1],[1,2,1,2,1],[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=[1,1,1,1],t.END_PATTERN_REVERSED=[[1,1,2],[1,1,3]],t}(Fe),tt=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return tt(t,e),t.findStartGuardPattern=function(e){for(var n=!1,i=null,o=0,r=[0,0,0];!n;){r=[0,0,0];var s=(i=t.findGuardPattern(e,o,!1,this.START_END_PATTERN,r))[0],a=s-((o=i[1])-s);a>=0&&(n=e.isRange(a,s,!1))}return i},t.checkChecksum=function(e){return t.checkStandardUPCEANChecksum(e)},t.checkStandardUPCEANChecksum=function(e){var n=e.length;if(0===n)return!1;var i=parseInt(e.charAt(n-1),10);return t.getStandardUPCEANChecksum(e.substring(0,n-1))===i},t.getStandardUPCEANChecksum=function(e){for(var t=e.length,n=0,i=t-1;i>=0;i-=2){if((o=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0))<0||o>9)throw new E;n+=o}for(n*=3,i=t-2;i>=0;i-=2){var o;if((o=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0))<0||o>9)throw new E;n+=o}return(1e3-n)%10},t.decodeEnd=function(e,n){return t.findGuardPattern(e,n,!1,t.START_END_PATTERN,new Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPattern=function(e,n,i,o,r){for(var s=e.getSize(),a=0,l=n=i?e.getNextUnset(n):e.getNextSet(n),c=o.length,d=i,u=n;u<s;u++)if(e.get(u)!==d)r[a]++;else{if(a===c-1){if(Fe.patternMatchVariance(r,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[l,u];l+=r[0]+r[1];for(var p=r.slice(2,r.length),h=0;h<a-1;h++)r[h]=p[h];r[a-1]=0,r[a]=0,a--}else a++;r[a]=1,d=!d}throw new L},t.decodeDigit=function(e,n,i,o){this.recordPattern(e,i,n);for(var r=this.MAX_AVG_VARIANCE,s=-1,a=o.length,l=0;l<a;l++){var c=o[l],d=Fe.patternMatchVariance(n,c,t.MAX_INDIVIDUAL_VARIANCE);d<r&&(r=d,s=l)}if(s>=0)return s;throw new L},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=[1,1,1],t.MIDDLE_PATTERN=[1,1,1,1,1],t.END_PATTERN=[1,1,1,1,1,1],t.L_PATTERNS=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],t}(Fe),it=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ot=function(){function e(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=[0,0,0,0],this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,n,i){var o=this.decodeRowStringBuffer,r=this.decodeMiddle(n,i,o),s=o.toString(),a=e.parseExtensionString(s),l=[new xe((i[0]+i[1])/2,t),new xe(r,t)],c=new J(s,null,0,l,te.UPC_EAN_EXTENSION,(new Date).getTime());return null!=a&&c.putAllMetadata(a),c},e.prototype.decodeMiddle=function(t,n,i){var o,r,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var a=t.getSize(),l=n[1],c=0,d=0;d<5&&l<a;d++){var u=nt.decodeDigit(t,s,l,nt.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+u%10);try{for(var p=(o=void 0,it(s)),h=p.next();!h.done;h=p.next())l+=h.value}catch(f){o={error:f}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(o)throw o.error}}u>=10&&(c|=1<<4-d),4!==d&&(l=t.getNextSet(l),l=t.getNextUnset(l))}if(5!==i.length)throw new L;var m=this.determineCheckDigit(c);if(e.extensionChecksum(i.toString())!==m)throw new L;return l},e.extensionChecksum=function(e){for(var t=e.length,n=0,i=t-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);for(n*=3,i=t-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return(n*=3)%10},e.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new L},e.parseExtensionString=function(t){if(5!==t.length)return null;var n=e.parseExtension5String(t);return null==n?null:new Map([[ie.SUGGESTED_PRICE,n]])},e.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="\xa3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}var n=parseInt(e.substring(1)),i=n%100;return t+(n/100).toString()+"."+(i<10?"0"+i:i.toString())},e}(),rt=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},st=function(){function e(){this.decodeMiddleCounters=[0,0,0,0],this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,n,i){var o=this.decodeRowStringBuffer,r=this.decodeMiddle(n,i,o),s=o.toString(),a=e.parseExtensionString(s),l=[new xe((i[0]+i[1])/2,t),new xe(r,t)],c=new J(s,null,0,l,te.UPC_EAN_EXTENSION,(new Date).getTime());return null!=a&&c.putAllMetadata(a),c},e.prototype.decodeMiddle=function(e,t,n){var i,o,r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;for(var s=e.getSize(),a=t[1],l=0,c=0;c<2&&a<s;c++){var d=nt.decodeDigit(e,r,a,nt.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var u=(i=void 0,rt(r)),p=u.next();!p.done;p=u.next())a+=p.value}catch(h){i={error:h}}finally{try{p&&!p.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}d>=10&&(l|=1<<1-c),1!==c&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(2!==n.length)throw new L;if(parseInt(n.toString())%4!==l)throw new L;return a},e.parseExtensionString=function(e){return 2!==e.length?null:new Map([[ie.ISSUE_NUMBER,parseInt(e)]])},e}(),at=function(){function e(){}return e.decodeRow=function(e,t,n){var i=nt.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new ot).decodeRow(e,t,i)}catch(o){return(new st).decodeRow(e,t,i)}},e.EXTENSION_START_PATTERN=[1,1,2],e}(),lt=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ct=function(e){function t(){var n=e.call(this)||this;n.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(e){return e.slice()});for(var i=10;i<20;i++){for(var o=t.L_PATTERNS[i-10],r=new Array(o.length),s=0;s<o.length;s++)r[s]=o[o.length-s-1];t.L_AND_G_PATTERNS[i]=r}return n}return lt(t,e),t.prototype.decodeRow=function(e,n,i){var o=t.findStartGuardPattern(n),r=null==i?null:i.get(I.NEED_RESULT_POINT_CALLBACK);if(null!=r){var s=new xe((o[0]+o[1])/2,e);r.foundPossibleResultPoint(s)}var a=this.decodeMiddle(n,o,this.decodeRowStringBuffer),l=a.rowOffset,c=a.resultString;if(null!=r){var d=new xe(l,e);r.foundPossibleResultPoint(d)}var u=t.decodeEnd(n,l);if(null!=r){var p=new xe((u[0]+u[1])/2,e);r.foundPossibleResultPoint(p)}var m=u[1],f=m+(m-u[0]);if(f>=n.getSize()||!n.isRange(m,f,!1))throw new L;var g=c.toString();if(g.length<8)throw new E;if(!t.checkChecksum(g))throw new h;var v=(o[1]+o[0])/2,y=(u[1]+u[0])/2,b=this.getBarcodeFormat(),x=[new xe(v,e),new xe(y,e)],w=new J(g,null,0,x,b,(new Date).getTime()),C=0;try{var _=at.decodeRow(e,n,u[1]);w.putMetadata(ie.UPC_EAN_EXTENSION,_.getText()),w.putAllMetadata(_.getResultMetadata()),w.addResultPoints(_.getResultPoints()),C=_.getText().length}catch(T){}var S=null==i?null:i.get(I.ALLOWED_EAN_EXTENSIONS);if(null!=S){var A=!1;for(var D in S)if(C.toString()===D){A=!0;break}if(!A)throw new L}return b===te.EAN_13||te.UPC_A,w},t.checkChecksum=function(e){return t.checkStandardUPCEANChecksum(e)},t.checkStandardUPCEANChecksum=function(e){var n=e.length;if(0===n)return!1;var i=parseInt(e.charAt(n-1),10);return t.getStandardUPCEANChecksum(e.substring(0,n-1))===i},t.getStandardUPCEANChecksum=function(e){for(var t=e.length,n=0,i=t-1;i>=0;i-=2){if((o=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0))<0||o>9)throw new E;n+=o}for(n*=3,i=t-2;i>=0;i-=2){var o;if((o=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0))<0||o>9)throw new E;n+=o}return(1e3-n)%10},t.decodeEnd=function(e,n){return t.findGuardPattern(e,n,!1,t.START_END_PATTERN,new Array(t.START_END_PATTERN.length).fill(0))},t}(nt),dt=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ut=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},pt=function(e){function t(){var t=e.call(this)||this;return t.decodeMiddleCounters=[0,0,0,0],t}return dt(t,e),t.prototype.decodeMiddle=function(e,n,i){var o,r,s,a,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=e.getSize(),d=n[1],u=0,p=0;p<6&&d<c;p++){var h=ct.decodeDigit(e,l,d,ct.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+h%10);try{for(var m=(o=void 0,ut(l)),f=m.next();!f.done;f=m.next())d+=f.value}catch(y){o={error:y}}finally{try{f&&!f.done&&(r=m.return)&&r.call(m)}finally{if(o)throw o.error}}h>=10&&(u|=1<<5-p)}for(i=t.determineFirstDigit(i,u),d=ct.findGuardPattern(e,d,!0,ct.MIDDLE_PATTERN,new Array(ct.MIDDLE_PATTERN.length).fill(0))[1],p=0;p<6&&d<c;p++){h=ct.decodeDigit(e,l,d,ct.L_PATTERNS),i+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var g=(s=void 0,ut(l)),v=g.next();!v.done;v=g.next())d+=v.value}catch(b){s={error:b}}finally{try{v&&!v.done&&(a=g.return)&&a.call(g)}finally{if(s)throw s.error}}}return{rowOffset:d,resultString:i}},t.prototype.getBarcodeFormat=function(){return te.EAN_13},t.determineFirstDigit=function(e,t){for(var n=0;n<10;n++)if(t===this.FIRST_DIGIT_ENCODINGS[n])return e=String.fromCharCode("0".charCodeAt(0)+n)+e;throw new L},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t}(ct),ht=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mt=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ft=function(e){function t(){var t=e.call(this)||this;return t.decodeMiddleCounters=[0,0,0,0],t}return ht(t,e),t.prototype.decodeMiddle=function(e,t,n){var i,o,r,s,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var l=e.getSize(),c=t[1],d=0;d<4&&c<l;d++){var u=ct.decodeDigit(e,a,c,ct.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+u);try{for(var p=(i=void 0,mt(a)),h=p.next();!h.done;h=p.next())c+=h.value}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}for(c=ct.findGuardPattern(e,c,!0,ct.MIDDLE_PATTERN,new Array(ct.MIDDLE_PATTERN.length).fill(0))[1],d=0;d<4&&c<l;d++){u=ct.decodeDigit(e,a,c,ct.L_PATTERNS),n+=String.fromCharCode("0".charCodeAt(0)+u);try{for(var m=(r=void 0,mt(a)),f=m.next();!f.done;f=m.next())c+=f.value}catch(v){r={error:v}}finally{try{f&&!f.done&&(s=m.return)&&s.call(m)}finally{if(r)throw r.error}}}return{rowOffset:c,resultString:n}},t.prototype.getBarcodeFormat=function(){return te.EAN_8},t}(ct),gt=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vt=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yt=function(e){function t(t){var n=e.call(this)||this,i=null==t?null:t.get(I.POSSIBLE_FORMATS),o=[];return null!=i&&(i.indexOf(te.EAN_13)>-1&&o.push(new pt),i.indexOf(te.EAN_8)>-1&&o.push(new ft)),0===o.length&&(o.push(new pt),o.push(new ft)),n.readers=o,n}return gt(t,e),t.prototype.decodeRow=function(e,t,n){var i,o;try{for(var r=vt(this.readers),s=r.next();!s.done;s=r.next()){var a=s.value;try{return a.decodeRow(e,t,n)}catch(l){}}}catch(c){i={error:c}}finally{try{s&&!s.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}throw new L},t.prototype.reset=function(){var e,t;try{for(var n=vt(this.readers),i=n.next();!i.done;i=n.next())i.value.reset()}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t}(Fe),bt=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xt=function(e){function t(t){var n=e.call(this)||this;n.readers=[];var i=t?t.get(I.POSSIBLE_FORMATS):null,o=t&&void 0!==t.get(I.ASSUME_CODE_39_CHECK_DIGIT);return i&&((i.includes(te.EAN_13)||i.includes(te.EAN_8))&&n.readers.push(new yt(t)),i.includes(te.CODE_39)&&n.readers.push(new je(o)),i.includes(te.CODE_128)&&n.readers.push(new Ve),i.includes(te.ITF)&&n.readers.push(new et),i.includes(te.RSS_14)&&n.readers.push(new Ze)),0===n.readers.length&&(n.readers.push(new je),n.readers.push(new yt(t)),n.readers.push(new Ve),n.readers.push(new et),n.readers.push(new Ze)),n}return bt(t,e),t.prototype.decodeRow=function(e,t,n){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(e,t,n)}catch(o){}throw new L},t.prototype.reset=function(){this.readers.forEach(function(e){return e.reset()})},t}(Fe),wt=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ct=(function(e){function t(t,n){return void 0===t&&(t=500),e.call(this,new xt(n),t,n)||this}wt(t,e)}(K),(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}),_t=function(){function e(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}return e.prototype.getECCodewords=function(){return this.ecCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),St=function(){function e(e,t){this.count=e,this.dataCodewords=t}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),It=function(){function e(e,t,n,i,o,r){var s,a;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=r;var l=0,c=r.getECCodewords(),d=r.getECBlocks();try{for(var u=Ct(d),p=u.next();!p.done;p=u.next()){var h=p.value;l+=h.getCount()*(h.getDataCodewords()+c)}}catch(m){s={error:m}}finally{try{p&&!p.done&&(a=u.return)&&a.call(u)}finally{if(s)throw s.error}}this.totalCodewords=l}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},e.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},e.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},e.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e.getVersionForDimensions=function(t,n){var i,o;if(0!=(1&t)||0!=(1&n))throw new E;try{for(var r=Ct(e.VERSIONS),s=r.next();!s.done;s=r.next()){var a=s.value;if(a.symbolSizeRows===t&&a.symbolSizeColumns===n)return a}}catch(l){i={error:l}}finally{try{s&&!s.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}throw new E},e.prototype.toString=function(){return""+this.versionNumber},e.buildVersions=function(){return[new e(1,10,10,8,8,new _t(5,new St(1,3))),new e(2,12,12,10,10,new _t(7,new St(1,5))),new e(3,14,14,12,12,new _t(10,new St(1,8))),new e(4,16,16,14,14,new _t(12,new St(1,12))),new e(5,18,18,16,16,new _t(14,new St(1,18))),new e(6,20,20,18,18,new _t(18,new St(1,22))),new e(7,22,22,20,20,new _t(20,new St(1,30))),new e(8,24,24,22,22,new _t(24,new St(1,36))),new e(9,26,26,24,24,new _t(28,new St(1,44))),new e(10,32,32,14,14,new _t(36,new St(1,62))),new e(11,36,36,16,16,new _t(42,new St(1,86))),new e(12,40,40,18,18,new _t(48,new St(1,114))),new e(13,44,44,20,20,new _t(56,new St(1,144))),new e(14,48,48,22,22,new _t(68,new St(1,174))),new e(15,52,52,24,24,new _t(42,new St(2,102))),new e(16,64,64,14,14,new _t(56,new St(2,140))),new e(17,72,72,16,16,new _t(36,new St(4,92))),new e(18,80,80,18,18,new _t(48,new St(4,114))),new e(19,88,88,20,20,new _t(56,new St(4,144))),new e(20,96,96,22,22,new _t(68,new St(4,174))),new e(21,104,104,24,24,new _t(56,new St(6,136))),new e(22,120,120,18,18,new _t(68,new St(6,175))),new e(23,132,132,20,20,new _t(62,new St(8,163))),new e(24,144,144,22,22,new _t(62,new St(8,156),new St(2,155))),new e(25,8,18,6,16,new _t(7,new St(1,5))),new e(26,8,32,6,14,new _t(11,new St(1,10))),new e(27,12,26,10,24,new _t(14,new St(1,16))),new e(28,12,36,10,16,new _t(18,new St(1,22))),new e(29,16,36,14,16,new _t(24,new St(1,32))),new e(30,16,48,14,22,new _t(28,new St(1,49)))]},e.VERSIONS=e.buildVersions(),e}(),At=function(){function e(t){var n=t.getHeight();if(n<8||n>144||0!=(1&n))throw new E;this.version=e.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new N(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return e.prototype.getVersion=function(){return this.version},e.readVersion=function(e){var t=e.getHeight(),n=e.getWidth();return It.getVersionForDimensions(t,n)},e.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,i=0,o=this.mappingBitMatrix.getHeight(),r=this.mappingBitMatrix.getWidth(),s=!1,a=!1,l=!1,c=!1;do{if(n!==o||0!==i||s)if(n!==o-2||0!==i||0==(3&r)||a)if(n!==o+4||2!==i||0!=(7&r)||l)if(n!==o-2||0!==i||4!=(7&r)||c){do{n<o&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[t++]=255&this.readUtah(n,i,o,r)),n-=2,i+=2}while(n>=0&&i<r);n+=1,i+=3;do{n>=0&&i<r&&!this.readMappingMatrix.get(i,n)&&(e[t++]=255&this.readUtah(n,i,o,r)),n+=2,i-=2}while(n<o&&i>=0);n+=3,i+=1}else e[t++]=255&this.readCorner4(o,r),n-=2,i+=2,c=!0;else e[t++]=255&this.readCorner3(o,r),n-=2,i+=2,l=!0;else e[t++]=255&this.readCorner2(o,r),n-=2,i+=2,a=!0;else e[t++]=255&this.readCorner1(o,r),n-=2,i+=2,s=!0}while(n<o||i<r);if(t!==this.version.getTotalCodewords())throw new E;return e},e.prototype.readModule=function(e,t,n,i){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},e.prototype.readUtah=function(e,t,n,i){var o=0;return this.readModule(e-2,t-2,n,i)&&(o|=1),o<<=1,this.readModule(e-2,t-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,t-2,n,i)&&(o|=1),o<<=1,this.readModule(e-1,t-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,t,n,i)&&(o|=1),o<<=1,this.readModule(e,t-2,n,i)&&(o|=1),o<<=1,this.readModule(e,t-1,n,i)&&(o|=1),o<<=1,this.readModule(e,t,n,i)&&(o|=1),o},e.prototype.readCorner1=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},e.prototype.readCorner2=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},e.prototype.readCorner3=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},e.prototype.readCorner4=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},e.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new d("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),r=t/i|0,s=n/o|0,a=new N(s*o,r*i),l=0;l<r;++l)for(var c=l*i,u=0;u<s;++u)for(var p=u*o,h=0;h<i;++h)for(var m=l*(i+2)+1+h,f=c+h,g=0;g<o;++g){var v=u*(o+2)+1+g;if(e.get(v,m)){var y=p+g;a.set(y,f)}}return a},e}(),Et=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Dt=function(){function e(e,t){this.numDataCodewords=e,this.codewords=t}return e.getDataBlocks=function(t,n){var i,o,r,s,a=n.getECBlocks(),l=0,c=a.getECBlocks();try{for(var u=Et(c),p=u.next();!p.done;p=u.next())l+=(v=p.value).getCount()}catch(R){i={error:R}}finally{try{p&&!p.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}var h=new Array(l),m=0;try{for(var f=Et(c),g=f.next();!g.done;g=f.next())for(var v=g.value,y=0;y<v.getCount();y++){var b=v.getDataCodewords(),x=a.getECCodewords()+b;h[m++]=new e(b,new Uint8Array(x))}}catch(M){r={error:M}}finally{try{g&&!g.done&&(s=f.return)&&s.call(f)}finally{if(r)throw r.error}}var w=h[0].codewords.length-a.getECCodewords(),C=w-1,_=0;for(y=0;y<C;y++)for(var S=0;S<m;S++)h[S].codewords[y]=t[_++];var I=24===n.getVersionNumber(),A=I?8:m;for(S=0;S<A;S++)h[S].codewords[w-1]=t[_++];var E=h[0].codewords.length;for(y=w;y<E;y++)for(S=0;S<m;S++){var D=I?(S+8)%m:S,T=I&&D>7?y-1:y;h[D].codewords[T]=t[_++]}if(_!==t.length)throw new d;return h},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}(),Tt=function(){function e(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return e.prototype.getBitOffset=function(){return this.bitOffset},e.prototype.getByteOffset=function(){return this.byteOffset},e.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new d(""+e);var t=0,n=this.bitOffset,i=this.byteOffset,o=this.bytes;if(n>0){var r=8-n,s=e<r?e:r,a=255>>8-s<<(l=r-s);t=(o[i]&a)>>l,e-=s,8===(n+=s)&&(n=0,i++)}if(e>0){for(;e>=8;)t=t<<8|255&o[i],i++,e-=8;var l;if(e>0)a=255>>(l=8-e)<<l,t=t<<e|(o[i]&a)>>l,n+=e}return this.bitOffset=n,this.byteOffset=i,t},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}();!function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"}(ge||(ge={}));var Rt,Mt=function(){function e(){}return e.decode=function(e){var t=new Tt(e),n=new k,i=new k,o=new Array,r=ge.ASCII_ENCODE;do{if(r===ge.ASCII_ENCODE)r=this.decodeAsciiSegment(t,n,i);else{switch(r){case ge.C40_ENCODE:this.decodeC40Segment(t,n);break;case ge.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case ge.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case ge.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case ge.BASE256_ENCODE:this.decodeBase256Segment(t,n,o);break;default:throw new E}r=ge.ASCII_ENCODE}}while(r!==ge.PAD_ENCODE&&t.available()>0);return i.length()>0&&n.append(i.toString()),new oe(e,n.toString(),0===o.length?null:o,null)},e.decodeAsciiSegment=function(e,t,n){var i=!1;do{var o=e.readBits(8);if(0===o)throw new E;if(o<=128)return i&&(o+=128),t.append(String.fromCharCode(o-1)),ge.ASCII_ENCODE;if(129===o)return ge.PAD_ENCODE;if(o<=229){var r=o-130;r<10&&t.append("0"),t.append(""+r)}else switch(o){case 230:return ge.C40_ENCODE;case 231:return ge.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:i=!0;break;case 236:t.append("[)>\x1e05\x1d"),n.insert(0,"\x1e\x04");break;case 237:t.append("[)>\x1e06\x1d"),n.insert(0,"\x1e\x04");break;case 238:return ge.ANSIX12_ENCODE;case 239:return ge.TEXT_ENCODE;case 240:return ge.EDIFACT_ENCODE;default:if(254!==o||0!==e.available())throw new E}}while(e.available()>0);return ge.ASCII_ENCODE},e.decodeC40Segment=function(e,t){var n=!1,i=[],o=0;do{if(8===e.available())return;var r=e.readBits(8);if(254===r)return;this.parseTwoBytes(r,e.readBits(8),i);for(var s=0;s<3;s++){var a=i[s];switch(o){case 0:if(a<3)o=a+1;else{if(!(a<this.C40_BASIC_SET_CHARS.length))throw new E;var l=this.C40_BASIC_SET_CHARS[a];n?(t.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):t.append(l)}break;case 1:n?(t.append(String.fromCharCode(a+128)),n=!1):t.append(String.fromCharCode(a)),o=0;break;case 2:if(a<this.C40_SHIFT2_SET_CHARS.length)l=this.C40_SHIFT2_SET_CHARS[a],n?(t.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):t.append(l);else switch(a){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new E}o=0;break;case 3:n?(t.append(String.fromCharCode(a+224)),n=!1):t.append(String.fromCharCode(a+96)),o=0;break;default:throw new E}}}while(e.available()>0)},e.decodeTextSegment=function(e,t){var n=!1,i=[],o=0;do{if(8===e.available())return;var r=e.readBits(8);if(254===r)return;this.parseTwoBytes(r,e.readBits(8),i);for(var s=0;s<3;s++){var a=i[s];switch(o){case 0:if(a<3)o=a+1;else{if(!(a<this.TEXT_BASIC_SET_CHARS.length))throw new E;var l=this.TEXT_BASIC_SET_CHARS[a];n?(t.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):t.append(l)}break;case 1:n?(t.append(String.fromCharCode(a+128)),n=!1):t.append(String.fromCharCode(a)),o=0;break;case 2:if(a<this.TEXT_SHIFT2_SET_CHARS.length)l=this.TEXT_SHIFT2_SET_CHARS[a],n?(t.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):t.append(l);else switch(a){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new E}o=0;break;case 3:if(!(a<this.TEXT_SHIFT3_SET_CHARS.length))throw new E;l=this.TEXT_SHIFT3_SET_CHARS[a],n?(t.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):t.append(l),o=0;break;default:throw new E}}}while(e.available()>0)},e.decodeAnsiX12Segment=function(e,t){var n=[];do{if(8===e.available())return;var i=e.readBits(8);if(254===i)return;this.parseTwoBytes(i,e.readBits(8),n);for(var o=0;o<3;o++){var r=n[o];switch(r){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(r<14)t.append(String.fromCharCode(r+44));else{if(!(r<40))throw new E;t.append(String.fromCharCode(r+51))}}}}while(e.available()>0)},e.parseTwoBytes=function(e,t,n){var i=(e<<8)+t-1,o=Math.floor(i/1600);n[0]=o,i-=1600*o,o=Math.floor(i/40),n[1]=o,n[2]=i-40*o},e.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(31===i){var o=8-e.getBitOffset();return void(8!==o&&e.readBits(o))}0==(32&i)&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},e.decodeBase256Segment=function(e,t,n){var i,o=1+e.getByteOffset(),r=this.unrandomize255State(e.readBits(8),o++);if((i=0===r?e.available()/8|0:r<250?r:250*(r-249)+this.unrandomize255State(e.readBits(8),o++))<0)throw new E;for(var s=new Uint8Array(i),a=0;a<i;a++){if(e.available()<8)throw new E;s[a]=this.unrandomize255State(e.readBits(8),o++)}n.push(s);try{t.append(P.decode(s,F.ISO88591))}catch(l){throw new me("Platform does not support required encoding: "+l.message)}},e.unrandomize255State=function(e,t){var n=e-(149*t%255+1);return n>=0?n:n+256},e.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],e.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.TEXT_SHIFT2_SET_CHARS=e.C40_SHIFT2_SET_CHARS,e.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],e}(),Ot=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Pt=function(){function e(){this.rsDecoder=new fe(de.DATA_MATRIX_FIELD_256)}return e.prototype.decode=function(e){var t,n,i=new At(e),o=i.getVersion(),r=i.readCodewords(),s=Dt.getDataBlocks(r,o),a=0;try{for(var l=Ot(s),c=l.next();!c.done;c=l.next())a+=c.value.getNumDataCodewords()}catch(v){t={error:v}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}for(var d=new Uint8Array(a),u=s.length,p=0;p<u;p++){var h=s[p],m=h.getCodewords(),f=h.getNumDataCodewords();this.correctErrors(m,f);for(var g=0;g<f;g++)d[g*u+p]=m[g]}return Mt.decode(d)},e.prototype.correctErrors=function(e,t){e.length;var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(o){throw new h}for(var i=0;i<t;i++)e[i]=n[i]},e}(),Ft=function(){function e(e){this.image=e,this.rectangleDetector=new Se(this.image)}return e.prototype.detect=function(){var t=this.rectangleDetector.detect(),n=this.detectSolid1(t);if((n=this.detectSolid2(n))[3]=this.correctTopRight(n),!n[3])throw new L;var i=(n=this.shiftToModuleCenter(n))[0],o=n[1],r=n[2],s=n[3],a=this.transitionsBetween(i,s)+1,l=this.transitionsBetween(r,s)+1;1==(1&a)&&(a+=1),1==(1&l)&&(l+=1),4*a<7*l&&4*l<7*a&&(a=l=Math.max(a,l));var c=e.sampleGrid(this.image,i,o,r,s,a,l);return new we(c,[i,o,r,s])},e.shiftPoint=function(e,t,n){var i=(t.getX()-e.getX())/(n+1),o=(t.getY()-e.getY())/(n+1);return new xe(e.getX()+i,e.getY()+o)},e.moveAway=function(e,t,n){var i=e.getX(),o=e.getY();return i<t?i-=1:i+=1,o<n?o-=1:o+=1,new xe(i,o)},e.prototype.detectSolid1=function(e){var t=e[0],n=e[1],i=e[3],o=e[2],r=this.transitionsBetween(t,n),s=this.transitionsBetween(n,i),a=this.transitionsBetween(i,o),l=this.transitionsBetween(o,t),c=r,d=[o,t,n,i];return c>s&&(c=s,d[0]=t,d[1]=n,d[2]=i,d[3]=o),c>a&&(c=a,d[0]=n,d[1]=i,d[2]=o,d[3]=t),c>l&&(d[0]=i,d[1]=o,d[2]=t,d[3]=n),d},e.prototype.detectSolid2=function(t){var n=t[0],i=t[1],o=t[2],r=t[3],s=this.transitionsBetween(n,r),a=e.shiftPoint(i,o,4*(s+1)),l=e.shiftPoint(o,i,4*(s+1));return this.transitionsBetween(a,n)<this.transitionsBetween(l,r)?(t[0]=n,t[1]=i,t[2]=o,t[3]=r):(t[0]=i,t[1]=o,t[2]=r,t[3]=n),t},e.prototype.correctTopRight=function(t){var n=t[0],i=t[1],o=t[2],r=t[3],s=this.transitionsBetween(n,r),a=this.transitionsBetween(i,r),l=e.shiftPoint(n,i,4*(a+1)),c=e.shiftPoint(o,i,4*(s+1));s=this.transitionsBetween(l,r),a=this.transitionsBetween(c,r);var d=new xe(r.getX()+(o.getX()-i.getX())/(s+1),r.getY()+(o.getY()-i.getY())/(s+1)),u=new xe(r.getX()+(n.getX()-i.getX())/(a+1),r.getY()+(n.getY()-i.getY())/(a+1));return this.isValid(d)?this.isValid(u)?this.transitionsBetween(l,d)+this.transitionsBetween(c,d)>this.transitionsBetween(l,u)+this.transitionsBetween(c,u)?d:u:d:this.isValid(u)?u:null},e.prototype.shiftToModuleCenter=function(t){var n=t[0],i=t[1],o=t[2],r=t[3],s=this.transitionsBetween(n,r)+1,a=this.transitionsBetween(o,r)+1,l=e.shiftPoint(n,i,4*a),c=e.shiftPoint(o,i,4*s);1==(1&(s=this.transitionsBetween(l,r)+1))&&(s+=1),1==(1&(a=this.transitionsBetween(c,r)+1))&&(a+=1);var d,u,p=(n.getX()+i.getX()+o.getX()+r.getX())/4,h=(n.getY()+i.getY()+o.getY()+r.getY())/4;return n=e.moveAway(n,p,h),i=e.moveAway(i,p,h),o=e.moveAway(o,p,h),r=e.moveAway(r,p,h),l=e.shiftPoint(n,i,4*a),l=e.shiftPoint(l,r,4*s),d=e.shiftPoint(i,n,4*a),d=e.shiftPoint(d,o,4*s),c=e.shiftPoint(o,r,4*a),c=e.shiftPoint(c,i,4*s),u=e.shiftPoint(r,o,4*a),[l,d,c,u=e.shiftPoint(u,n,4*s)]},e.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},e.sampleGrid=function(e,t,n,i,o,r,s){return Te.getInstance().sampleGrid(e,r,s,.5,.5,r-.5,.5,r-.5,s-.5,.5,s-.5,t.getX(),t.getY(),o.getX(),o.getY(),i.getX(),i.getY(),n.getX(),n.getY())},e.prototype.transitionsBetween=function(e,t){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),o=Math.trunc(t.getX()),r=Math.trunc(t.getY()),s=Math.abs(r-i)>Math.abs(o-n);if(s){var a=n;n=i,i=a,a=o,o=r,r=a}for(var l=Math.abs(o-n),c=Math.abs(r-i),d=-l/2,u=i<r?1:-1,p=n<o?1:-1,h=0,m=this.image.get(s?i:n,s?n:i),f=n,g=i;f!==o;f+=p){var v=this.image.get(s?g:f,s?f:g);if(v!==m&&(h++,m=v),(d+=c)>0){if(g===r)break;g+=u,d-=l}}return h},e}(),kt=function(){function e(){this.decoder=new Pt}return e.prototype.decode=function(t,n){var i,o;if(void 0===n&&(n=null),null!=n&&n.has(I.PURE_BARCODE)){var r=e.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(r),o=e.NO_POINTS}else{var s=new Ft(t.getBlackMatrix()).detect();i=this.decoder.decode(s.getBits()),o=s.getPoints()}var a=i.getRawBytes(),l=new J(i.getText(),a,8*a.length,o,te.DATA_MATRIX,f.currentTimeMillis()),c=i.getByteSegments();null!=c&&l.putMetadata(ie.BYTE_SEGMENTS,c);var d=i.getECLevel();return null!=d&&l.putMetadata(ie.ERROR_CORRECTION_LEVEL,d),l},e.prototype.reset=function(){},e.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null==t||null==n)throw new L;var i=this.moduleSize(t,e),o=t[1],r=n[1],s=t[0],a=(n[0]-s+1)/i,l=(r-o+1)/i;if(a<=0||l<=0)throw new L;var c=i/2;o+=c,s+=c;for(var d=new N(a,l),u=0;u<l;u++)for(var p=o+u*i,h=0;h<a;h++)e.get(s+h*i,p)&&d.set(h,u);return d},e.moduleSize=function(e,t){for(var n=t.getWidth(),i=e[0],o=e[1];i<n&&t.get(i,o);)i++;if(i===n)throw new L;var r=i-e[0];if(0===r)throw new L;return r},e.NO_POINTS=[],e}(),Nt=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(e){function t(t){return void 0===t&&(t=500),e.call(this,new kt,t)||this}Nt(t,e)}(K),function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"}(Rt||(Rt={}));var jt,Lt=function(){function e(t,n,i){this.value=t,this.stringValue=n,this.bits=i,e.FOR_BITS.set(i,this),e.FOR_VALUE.set(t,this)}return e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.fromString=function(t){switch(t){case"L":return e.L;case"M":return e.M;case"Q":return e.Q;case"H":return e.H;default:throw new l(t+"not available")}},e.prototype.toString=function(){return this.stringValue},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.forBits=function(t){if(t<0||t>=e.FOR_BITS.size)throw new d;return e.FOR_BITS.get(t)},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.L=new e(Rt.L,"L",1),e.M=new e(Rt.M,"M",0),e.Q=new e(Rt.Q,"Q",3),e.H=new e(Rt.H,"H",2),e}(),Vt=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Bt=function(){function e(e){this.errorCorrectionLevel=Lt.forBits(e>>3&3),this.dataMask=7&e}return e.numBitsDiffering=function(e,t){return g.bitCount(e^t)},e.decodeFormatInformation=function(t,n){var i=e.doDecodeFormatInformation(t,n);return null!==i?i:e.doDecodeFormatInformation(t^e.FORMAT_INFO_MASK_QR,n^e.FORMAT_INFO_MASK_QR)},e.doDecodeFormatInformation=function(t,n){var i,o,r=Number.MAX_SAFE_INTEGER,s=0;try{for(var a=Vt(e.FORMAT_INFO_DECODE_LOOKUP),l=a.next();!l.done;l=a.next()){var c=l.value,d=c[0];if(d===t||d===n)return new e(c[1]);var u=e.numBitsDiffering(t,d);u<r&&(s=c[1],r=u),t!==n&&(u=e.numBitsDiffering(n,d))<r&&(s=c[1],r=u)}}catch(p){i={error:p}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return r<=3?new e(s):null},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getDataMask=function(){return this.dataMask},e.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},e.FORMAT_INFO_MASK_QR=21522,e.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],e}(),Gt=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zt=function(){function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return e.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},e.prototype.getNumBlocks=function(){var e,t,n=0,i=this.ecBlocks;try{for(var o=Gt(i),r=o.next();!r.done;r=o.next())n+=r.value.getCount()}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n},e.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),$t=function(){function e(e,t){this.count=e,this.dataCodewords=t}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),Ut=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ht=function(){function e(e,t){for(var n,i,o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=o;var s=0,a=o[0].getECCodewordsPerBlock(),l=o[0].getECBlocks();try{for(var c=Ut(l),d=c.next();!d.done;d=c.next()){var u=d.value;s+=u.getCount()*(u.getDataCodewords()+a)}}catch(p){n={error:p}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}this.totalCodewords=s}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},e.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},e.getProvisionalVersionForDimension=function(e){if(e%4!=1)throw new E;try{return this.getVersionForNumber((e-17)/4)}catch(t){throw new E}},e.getVersionForNumber=function(t){if(t<1||t>40)throw new d;return e.VERSIONS[t-1]},e.decodeVersionInformation=function(t){for(var n=Number.MAX_SAFE_INTEGER,i=0,o=0;o<e.VERSION_DECODE_INFO.length;o++){var r=e.VERSION_DECODE_INFO[o];if(r===t)return e.getVersionForNumber(o+7);var s=Bt.numBitsDiffering(t,r);s<n&&(i=o+7,n=s)}return n<=3?e.getVersionForNumber(i):null},e.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new N(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var o=this.alignmentPatternCenters[i]-2,r=0;r<n;r++)0===i&&(0===r||r===n-1)||i===n-1&&0===r||t.setRegion(this.alignmentPatternCenters[r]-2,o,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},e.prototype.toString=function(){return""+this.versionNumber},e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),e.VERSIONS=[new e(1,new Int32Array(0),new zt(7,new $t(1,19)),new zt(10,new $t(1,16)),new zt(13,new $t(1,13)),new zt(17,new $t(1,9))),new e(2,Int32Array.from([6,18]),new zt(10,new $t(1,34)),new zt(16,new $t(1,28)),new zt(22,new $t(1,22)),new zt(28,new $t(1,16))),new e(3,Int32Array.from([6,22]),new zt(15,new $t(1,55)),new zt(26,new $t(1,44)),new zt(18,new $t(2,17)),new zt(22,new $t(2,13))),new e(4,Int32Array.from([6,26]),new zt(20,new $t(1,80)),new zt(18,new $t(2,32)),new zt(26,new $t(2,24)),new zt(16,new $t(4,9))),new e(5,Int32Array.from([6,30]),new zt(26,new $t(1,108)),new zt(24,new $t(2,43)),new zt(18,new $t(2,15),new $t(2,16)),new zt(22,new $t(2,11),new $t(2,12))),new e(6,Int32Array.from([6,34]),new zt(18,new $t(2,68)),new zt(16,new $t(4,27)),new zt(24,new $t(4,19)),new zt(28,new $t(4,15))),new e(7,Int32Array.from([6,22,38]),new zt(20,new $t(2,78)),new zt(18,new $t(4,31)),new zt(18,new $t(2,14),new $t(4,15)),new zt(26,new $t(4,13),new $t(1,14))),new e(8,Int32Array.from([6,24,42]),new zt(24,new $t(2,97)),new zt(22,new $t(2,38),new $t(2,39)),new zt(22,new $t(4,18),new $t(2,19)),new zt(26,new $t(4,14),new $t(2,15))),new e(9,Int32Array.from([6,26,46]),new zt(30,new $t(2,116)),new zt(22,new $t(3,36),new $t(2,37)),new zt(20,new $t(4,16),new $t(4,17)),new zt(24,new $t(4,12),new $t(4,13))),new e(10,Int32Array.from([6,28,50]),new zt(18,new $t(2,68),new $t(2,69)),new zt(26,new $t(4,43),new $t(1,44)),new zt(24,new $t(6,19),new $t(2,20)),new zt(28,new $t(6,15),new $t(2,16))),new e(11,Int32Array.from([6,30,54]),new zt(20,new $t(4,81)),new zt(30,new $t(1,50),new $t(4,51)),new zt(28,new $t(4,22),new $t(4,23)),new zt(24,new $t(3,12),new $t(8,13))),new e(12,Int32Array.from([6,32,58]),new zt(24,new $t(2,92),new $t(2,93)),new zt(22,new $t(6,36),new $t(2,37)),new zt(26,new $t(4,20),new $t(6,21)),new zt(28,new $t(7,14),new $t(4,15))),new e(13,Int32Array.from([6,34,62]),new zt(26,new $t(4,107)),new zt(22,new $t(8,37),new $t(1,38)),new zt(24,new $t(8,20),new $t(4,21)),new zt(22,new $t(12,11),new $t(4,12))),new e(14,Int32Array.from([6,26,46,66]),new zt(30,new $t(3,115),new $t(1,116)),new zt(24,new $t(4,40),new $t(5,41)),new zt(20,new $t(11,16),new $t(5,17)),new zt(24,new $t(11,12),new $t(5,13))),new e(15,Int32Array.from([6,26,48,70]),new zt(22,new $t(5,87),new $t(1,88)),new zt(24,new $t(5,41),new $t(5,42)),new zt(30,new $t(5,24),new $t(7,25)),new zt(24,new $t(11,12),new $t(7,13))),new e(16,Int32Array.from([6,26,50,74]),new zt(24,new $t(5,98),new $t(1,99)),new zt(28,new $t(7,45),new $t(3,46)),new zt(24,new $t(15,19),new $t(2,20)),new zt(30,new $t(3,15),new $t(13,16))),new e(17,Int32Array.from([6,30,54,78]),new zt(28,new $t(1,107),new $t(5,108)),new zt(28,new $t(10,46),new $t(1,47)),new zt(28,new $t(1,22),new $t(15,23)),new zt(28,new $t(2,14),new $t(17,15))),new e(18,Int32Array.from([6,30,56,82]),new zt(30,new $t(5,120),new $t(1,121)),new zt(26,new $t(9,43),new $t(4,44)),new zt(28,new $t(17,22),new $t(1,23)),new zt(28,new $t(2,14),new $t(19,15))),new e(19,Int32Array.from([6,30,58,86]),new zt(28,new $t(3,113),new $t(4,114)),new zt(26,new $t(3,44),new $t(11,45)),new zt(26,new $t(17,21),new $t(4,22)),new zt(26,new $t(9,13),new $t(16,14))),new e(20,Int32Array.from([6,34,62,90]),new zt(28,new $t(3,107),new $t(5,108)),new zt(26,new $t(3,41),new $t(13,42)),new zt(30,new $t(15,24),new $t(5,25)),new zt(28,new $t(15,15),new $t(10,16))),new e(21,Int32Array.from([6,28,50,72,94]),new zt(28,new $t(4,116),new $t(4,117)),new zt(26,new $t(17,42)),new zt(28,new $t(17,22),new $t(6,23)),new zt(30,new $t(19,16),new $t(6,17))),new e(22,Int32Array.from([6,26,50,74,98]),new zt(28,new $t(2,111),new $t(7,112)),new zt(28,new $t(17,46)),new zt(30,new $t(7,24),new $t(16,25)),new zt(24,new $t(34,13))),new e(23,Int32Array.from([6,30,54,78,102]),new zt(30,new $t(4,121),new $t(5,122)),new zt(28,new $t(4,47),new $t(14,48)),new zt(30,new $t(11,24),new $t(14,25)),new zt(30,new $t(16,15),new $t(14,16))),new e(24,Int32Array.from([6,28,54,80,106]),new zt(30,new $t(6,117),new $t(4,118)),new zt(28,new $t(6,45),new $t(14,46)),new zt(30,new $t(11,24),new $t(16,25)),new zt(30,new $t(30,16),new $t(2,17))),new e(25,Int32Array.from([6,32,58,84,110]),new zt(26,new $t(8,106),new $t(4,107)),new zt(28,new $t(8,47),new $t(13,48)),new zt(30,new $t(7,24),new $t(22,25)),new zt(30,new $t(22,15),new $t(13,16))),new e(26,Int32Array.from([6,30,58,86,114]),new zt(28,new $t(10,114),new $t(2,115)),new zt(28,new $t(19,46),new $t(4,47)),new zt(28,new $t(28,22),new $t(6,23)),new zt(30,new $t(33,16),new $t(4,17))),new e(27,Int32Array.from([6,34,62,90,118]),new zt(30,new $t(8,122),new $t(4,123)),new zt(28,new $t(22,45),new $t(3,46)),new zt(30,new $t(8,23),new $t(26,24)),new zt(30,new $t(12,15),new $t(28,16))),new e(28,Int32Array.from([6,26,50,74,98,122]),new zt(30,new $t(3,117),new $t(10,118)),new zt(28,new $t(3,45),new $t(23,46)),new zt(30,new $t(4,24),new $t(31,25)),new zt(30,new $t(11,15),new $t(31,16))),new e(29,Int32Array.from([6,30,54,78,102,126]),new zt(30,new $t(7,116),new $t(7,117)),new zt(28,new $t(21,45),new $t(7,46)),new zt(30,new $t(1,23),new $t(37,24)),new zt(30,new $t(19,15),new $t(26,16))),new e(30,Int32Array.from([6,26,52,78,104,130]),new zt(30,new $t(5,115),new $t(10,116)),new zt(28,new $t(19,47),new $t(10,48)),new zt(30,new $t(15,24),new $t(25,25)),new zt(30,new $t(23,15),new $t(25,16))),new e(31,Int32Array.from([6,30,56,82,108,134]),new zt(30,new $t(13,115),new $t(3,116)),new zt(28,new $t(2,46),new $t(29,47)),new zt(30,new $t(42,24),new $t(1,25)),new zt(30,new $t(23,15),new $t(28,16))),new e(32,Int32Array.from([6,34,60,86,112,138]),new zt(30,new $t(17,115)),new zt(28,new $t(10,46),new $t(23,47)),new zt(30,new $t(10,24),new $t(35,25)),new zt(30,new $t(19,15),new $t(35,16))),new e(33,Int32Array.from([6,30,58,86,114,142]),new zt(30,new $t(17,115),new $t(1,116)),new zt(28,new $t(14,46),new $t(21,47)),new zt(30,new $t(29,24),new $t(19,25)),new zt(30,new $t(11,15),new $t(46,16))),new e(34,Int32Array.from([6,34,62,90,118,146]),new zt(30,new $t(13,115),new $t(6,116)),new zt(28,new $t(14,46),new $t(23,47)),new zt(30,new $t(44,24),new $t(7,25)),new zt(30,new $t(59,16),new $t(1,17))),new e(35,Int32Array.from([6,30,54,78,102,126,150]),new zt(30,new $t(12,121),new $t(7,122)),new zt(28,new $t(12,47),new $t(26,48)),new zt(30,new $t(39,24),new $t(14,25)),new zt(30,new $t(22,15),new $t(41,16))),new e(36,Int32Array.from([6,24,50,76,102,128,154]),new zt(30,new $t(6,121),new $t(14,122)),new zt(28,new $t(6,47),new $t(34,48)),new zt(30,new $t(46,24),new $t(10,25)),new zt(30,new $t(2,15),new $t(64,16))),new e(37,Int32Array.from([6,28,54,80,106,132,158]),new zt(30,new $t(17,122),new $t(4,123)),new zt(28,new $t(29,46),new $t(14,47)),new zt(30,new $t(49,24),new $t(10,25)),new zt(30,new $t(24,15),new $t(46,16))),new e(38,Int32Array.from([6,32,58,84,110,136,162]),new zt(30,new $t(4,122),new $t(18,123)),new zt(28,new $t(13,46),new $t(32,47)),new zt(30,new $t(48,24),new $t(14,25)),new zt(30,new $t(42,15),new $t(32,16))),new e(39,Int32Array.from([6,26,54,82,110,138,166]),new zt(30,new $t(20,117),new $t(4,118)),new zt(28,new $t(40,47),new $t(7,48)),new zt(30,new $t(43,24),new $t(22,25)),new zt(30,new $t(10,15),new $t(67,16))),new e(40,Int32Array.from([6,30,58,86,114,142,170]),new zt(30,new $t(19,118),new $t(6,119)),new zt(28,new $t(18,47),new $t(31,48)),new zt(30,new $t(34,24),new $t(34,25)),new zt(30,new $t(20,15),new $t(61,16)))],e}();!function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"}(jt||(jt={}));var Xt,Wt=function(){function e(e,t){this.value=e,this.isMasked=t}return e.prototype.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},e.values=new Map([[jt.DATA_MASK_000,new e(jt.DATA_MASK_000,function(e,t){return 0==(e+t&1)})],[jt.DATA_MASK_001,new e(jt.DATA_MASK_001,function(e,t){return 0==(1&e)})],[jt.DATA_MASK_010,new e(jt.DATA_MASK_010,function(e,t){return t%3==0})],[jt.DATA_MASK_011,new e(jt.DATA_MASK_011,function(e,t){return(e+t)%3==0})],[jt.DATA_MASK_100,new e(jt.DATA_MASK_100,function(e,t){return 0==(Math.floor(e/2)+Math.floor(t/3)&1)})],[jt.DATA_MASK_101,new e(jt.DATA_MASK_101,function(e,t){return e*t%6==0})],[jt.DATA_MASK_110,new e(jt.DATA_MASK_110,function(e,t){return e*t%6<3})],[jt.DATA_MASK_111,new e(jt.DATA_MASK_111,function(e,t){return 0==(e+t+e*t%3&1)})]]),e}(),qt=function(){function e(e){var t=e.getHeight();if(t<21||1!=(3&t))throw new E;this.bitMatrix=e}return e.prototype.readFormatInformation=function(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);var i=this.bitMatrix.getHeight(),o=0,r=i-7;for(n=i-1;n>=r;n--)o=this.copyBit(8,n,o);for(t=i-8;t<i;t++)o=this.copyBit(t,8,o);if(this.parsedFormatInfo=Bt.decodeFormatInformation(e,o),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new E},e.prototype.readVersion=function(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Ht.getVersionForNumber(t);for(var n=0,i=e-11,o=5;o>=0;o--)for(var r=e-9;r>=i;r--)n=this.copyBit(r,o,n);var s=Ht.decodeVersionInformation(n);if(null!==s&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;for(n=0,r=5;r>=0;r--)for(o=e-9;o>=i;o--)n=this.copyBit(r,o,n);if(null!==(s=Ht.decodeVersionInformation(n))&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new E},e.prototype.copyBit=function(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1},e.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=Wt.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var o=t.buildFunctionPattern(),r=!0,s=new Uint8Array(t.getTotalCodewords()),a=0,l=0,c=0,d=i-1;d>0;d-=2){6===d&&d--;for(var u=0;u<i;u++)for(var p=r?i-1-u:u,h=0;h<2;h++)o.get(d-h,p)||(c++,l<<=1,this.bitMatrix.get(d-h,p)&&(l|=1),8===c&&(s[a++]=l,c=0,l=0));r=!r}if(a!==t.getTotalCodewords())throw new E;return s},e.prototype.remask=function(){if(null!==this.parsedFormatInfo){var e=Wt.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},e.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},e.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,n=e.getWidth();t<n;t++)for(var i=t+1,o=e.getHeight();i<o;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},e}(),Yt=function(){function e(e){this.mirrored=e}return e.prototype.isMirrored=function(){return this.mirrored},e.prototype.applyMirroredCorrection=function(e){if(this.mirrored&&null!==e&&!(e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},e}(),Qt=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Zt=function(){function e(e,t){this.numDataCodewords=e,this.codewords=t}return e.getDataBlocks=function(t,n,i){var o,r,s,a;if(t.length!==n.getTotalCodewords())throw new d;var l=n.getECBlocksForLevel(i),c=0,u=l.getECBlocks();try{for(var p=Qt(u),h=p.next();!h.done;h=p.next())c+=(y=h.value).getCount()}catch(T){o={error:T}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(o)throw o.error}}var m=new Array(c),f=0;try{for(var g=Qt(u),v=g.next();!v.done;v=g.next())for(var y=v.value,b=0;b<y.getCount();b++){var x=y.getDataCodewords(),w=l.getECCodewordsPerBlock()+x;m[f++]=new e(x,new Uint8Array(w))}}catch(R){s={error:R}}finally{try{v&&!v.done&&(a=g.return)&&a.call(g)}finally{if(s)throw s.error}}for(var C=m[0].codewords.length,_=m.length-1;_>=0&&m[_].codewords.length!==C;)_--;_++;var S=C-l.getECCodewordsPerBlock(),I=0;for(b=0;b<S;b++)for(var A=0;A<f;A++)m[A].codewords[b]=t[I++];for(A=_;A<f;A++)m[A].codewords[S]=t[I++];var E=m[0].codewords.length;for(b=S;b<E;b++)for(A=0;A<f;A++){var D=A<_?b:b+1;m[A].codewords[D]=t[I++]}return m},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}();!function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"}(Xt||(Xt={}));var Kt,Jt,en=function(){function e(t,n,i,o){this.value=t,this.stringValue=n,this.characterCountBitsForVersions=i,this.bits=o,e.FOR_BITS.set(o,this),e.FOR_VALUE.set(t,this)}return e.forBits=function(t){var n=e.FOR_BITS.get(t);if(void 0===n)throw new d;return n},e.prototype.getCharacterCountBits=function(e){var t,n=e.getVersionNumber();return t=n<=9?0:n<=26?1:2,this.characterCountBitsForVersions[t]},e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.prototype.toString=function(){return this.stringValue},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.TERMINATOR=new e(Xt.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),e.NUMERIC=new e(Xt.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),e.ALPHANUMERIC=new e(Xt.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),e.STRUCTURED_APPEND=new e(Xt.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),e.BYTE=new e(Xt.BYTE,"BYTE",Int32Array.from([8,16,16]),4),e.ECI=new e(Xt.ECI,"ECI",Int32Array.from([0,0,0]),7),e.KANJI=new e(Xt.KANJI,"KANJI",Int32Array.from([8,10,12]),8),e.FNC1_FIRST_POSITION=new e(Xt.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),e.FNC1_SECOND_POSITION=new e(Xt.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),e.HANZI=new e(Xt.HANZI,"HANZI",Int32Array.from([8,10,12]),13),e}(),tn=function(){function e(){}return e.decode=function(t,n,i,o){var r=new Tt(t),s=new k,a=new Array,l=-1,c=-1;try{var d=null,u=!1,p=void 0;do{if(r.available()<4)p=en.TERMINATOR;else{var h=r.readBits(4);p=en.forBits(h)}switch(p){case en.TERMINATOR:break;case en.FNC1_FIRST_POSITION:case en.FNC1_SECOND_POSITION:u=!0;break;case en.STRUCTURED_APPEND:if(r.available()<16)throw new E;l=r.readBits(8),c=r.readBits(8);break;case en.ECI:var m=e.parseECIValue(r);if(null===(d=R.getCharacterSetECIByValue(m)))throw new E;break;case en.HANZI:var f=r.readBits(4),g=r.readBits(p.getCharacterCountBits(n));f===e.GB2312_SUBSET&&e.decodeHanziSegment(r,s,g);break;default:var v=r.readBits(p.getCharacterCountBits(n));switch(p){case en.NUMERIC:e.decodeNumericSegment(r,s,v);break;case en.ALPHANUMERIC:e.decodeAlphanumericSegment(r,s,v,u);break;case en.BYTE:e.decodeByteSegment(r,s,v,d,a,o);break;case en.KANJI:e.decodeKanjiSegment(r,s,v);break;default:throw new E}}}while(p!==en.TERMINATOR)}catch(y){throw new E}return new oe(t,s.toString(),0===a.length?null:a,null===i?null:i.toString(),l,c)},e.decodeHanziSegment=function(e,t,n){if(13*n>e.available())throw new E;for(var i=new Uint8Array(2*n),o=0;n>0;){var r=e.readBits(13),s=r/96<<8&4294967295|r%96;s+=s<959?41377:42657,i[o]=s>>8&255,i[o+1]=255&s,o+=2,n--}try{t.append(P.decode(i,F.GB2312))}catch(a){throw new E(a)}},e.decodeKanjiSegment=function(e,t,n){if(13*n>e.available())throw new E;for(var i=new Uint8Array(2*n),o=0;n>0;){var r=e.readBits(13),s=r/192<<8&4294967295|r%192;s+=s<7936?33088:49472,i[o]=s>>8,i[o+1]=s,o+=2,n--}try{t.append(P.decode(i,F.SHIFT_JIS))}catch(a){throw new E(a)}},e.decodeByteSegment=function(e,t,n,i,o,r){if(8*n>e.available())throw new E;for(var s,a=new Uint8Array(n),l=0;l<n;l++)a[l]=e.readBits(8);s=null===i?F.guessEncoding(a,r):i.getName();try{t.append(P.decode(a,s))}catch(c){throw new E(c)}o.push(a)},e.toAlphaNumericChar=function(t){if(t>=e.ALPHANUMERIC_CHARS.length)throw new E;return e.ALPHANUMERIC_CHARS[t]},e.decodeAlphanumericSegment=function(t,n,i,o){for(var r=n.length();i>1;){if(t.available()<11)throw new E;var s=t.readBits(11);n.append(e.toAlphaNumericChar(Math.floor(s/45))),n.append(e.toAlphaNumericChar(s%45)),i-=2}if(1===i){if(t.available()<6)throw new E;n.append(e.toAlphaNumericChar(t.readBits(6)))}if(o)for(var a=r;a<n.length();a++)"%"===n.charAt(a)&&(a<n.length()-1&&"%"===n.charAt(a+1)?n.deleteCharAt(a+1):n.setCharAt(a,String.fromCharCode(29)))},e.decodeNumericSegment=function(t,n,i){for(;i>=3;){if(t.available()<10)throw new E;var o=t.readBits(10);if(o>=1e3)throw new E;n.append(e.toAlphaNumericChar(Math.floor(o/100))),n.append(e.toAlphaNumericChar(Math.floor(o/10)%10)),n.append(e.toAlphaNumericChar(o%10)),i-=3}if(2===i){if(t.available()<7)throw new E;var r=t.readBits(7);if(r>=100)throw new E;n.append(e.toAlphaNumericChar(Math.floor(r/10))),n.append(e.toAlphaNumericChar(r%10))}else if(1===i){if(t.available()<4)throw new E;var s=t.readBits(4);if(s>=10)throw new E;n.append(e.toAlphaNumericChar(s))}},e.parseECIValue=function(e){var t=e.readBits(8);if(0==(128&t))return 127&t;if(128==(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192==(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new E},e.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.GB2312_SUBSET=1,e}(),nn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},on=function(){function e(){this.rsDecoder=new fe(de.QR_CODE_FIELD_256)}return e.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(N.parseFromBooleanArray(e),t)},e.prototype.decodeBitMatrix=function(e,t){var n=new qt(e),i=null;try{return this.decodeBitMatrixParser(n,t)}catch(r){i=r}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var o=this.decodeBitMatrixParser(n,t);return o.setOther(new Yt(!0)),o}catch(r){if(null!==i)throw i;throw r}},e.prototype.decodeBitMatrixParser=function(e,t){var n,i,o,r,s=e.readVersion(),a=e.readFormatInformation().getErrorCorrectionLevel(),l=e.readCodewords(),c=Zt.getDataBlocks(l,s,a),d=0;try{for(var u=nn(c),p=u.next();!p.done;p=u.next())d+=(v=p.value).getNumDataCodewords()}catch(w){n={error:w}}finally{try{p&&!p.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}var h=new Uint8Array(d),m=0;try{for(var f=nn(c),g=f.next();!g.done;g=f.next()){var v,y=(v=g.value).getCodewords(),b=v.getNumDataCodewords();this.correctErrors(y,b);for(var x=0;x<b;x++)h[m++]=y[x]}}catch(C){o={error:C}}finally{try{g&&!g.done&&(r=f.return)&&r.call(f)}finally{if(o)throw o.error}}return tn.decode(h,s,a,t)},e.prototype.correctErrors=function(e,t){e.length;var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(o){throw new h}for(var i=0;i<t;i++)e[i]=n[i]},e}(),rn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sn=function(e){function t(t,n,i,o){var r=e.call(this,t,n)||this;return r.estimatedModuleSize=i,r.count=o,void 0===o&&(r.count=1),r}return rn(t,e),t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){var i=Math.abs(e-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,n,i){var o=this.count+1;return new t((this.count*this.getX()+n)/o,(this.count*this.getY()+e)/o,(this.count*this.estimatedModuleSize+i)/o,o)},t}(xe),an=function(){function e(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e}(),ln=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},cn=function(){function e(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return e.prototype.getImage=function(){return this.image},e.prototype.getPossibleCenters=function(){return this.possibleCenters},e.prototype.find=function(t){var n=null!=t&&void 0!==t.get(I.TRY_HARDER),i=null!=t&&void 0!==t.get(I.PURE_BARCODE),o=this.image,r=o.getHeight(),s=o.getWidth(),a=Math.floor(3*r/(4*e.MAX_MODULES));(a<e.MIN_SKIP||n)&&(a=e.MIN_SKIP);for(var l=!1,c=new Int32Array(5),d=a-1;d<r&&!l;d+=a){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var u=0,p=0;p<s;p++)if(o.get(p,d))1==(1&u)&&u++,c[u]++;else if(0==(1&u))if(4===u)if(e.foundPatternCross(c)){if(!0!==this.handlePossibleCenter(c,d,p,i)){c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,u=3;continue}if(a=2,!0===this.hasSkipped)l=this.haveMultiplyConfirmedCenters();else{var h=this.findRowSkip();h>c[2]&&(d+=h-c[2]-a,p=s-1)}u=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,u=3;else c[++u]++;else c[u]++;e.foundPatternCross(c)&&!0===this.handlePossibleCenter(c,d,s,i)&&(a=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}var m=this.selectBestPatterns();return xe.orderBestPatterns(m),new an(m)},e.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},e.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var i=e[n];if(0===i)return!1;t+=i}if(t<7)return!1;var o=t/7,r=o/2;return Math.abs(o-e[0])<r&&Math.abs(o-e[1])<r&&Math.abs(3*o-e[2])<3*r&&Math.abs(o-e[3])<r&&Math.abs(o-e[4])<r},e.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},e.prototype.crossCheckDiagonal=function(t,n,i,o){for(var r=this.getCrossCheckStateCount(),s=0,a=this.image;t>=s&&n>=s&&a.get(n-s,t-s);)r[2]++,s++;if(t<s||n<s)return!1;for(;t>=s&&n>=s&&!a.get(n-s,t-s)&&r[1]<=i;)r[1]++,s++;if(t<s||n<s||r[1]>i)return!1;for(;t>=s&&n>=s&&a.get(n-s,t-s)&&r[0]<=i;)r[0]++,s++;if(r[0]>i)return!1;var l=a.getHeight(),c=a.getWidth();for(s=1;t+s<l&&n+s<c&&a.get(n+s,t+s);)r[2]++,s++;if(t+s>=l||n+s>=c)return!1;for(;t+s<l&&n+s<c&&!a.get(n+s,t+s)&&r[3]<i;)r[3]++,s++;if(t+s>=l||n+s>=c||r[3]>=i)return!1;for(;t+s<l&&n+s<c&&a.get(n+s,t+s)&&r[4]<i;)r[4]++,s++;if(r[4]>=i)return!1;var d=r[0]+r[1]+r[2]+r[3]+r[4];return Math.abs(d-o)<2*o&&e.foundPatternCross(r)},e.prototype.crossCheckVertical=function(t,n,i,o){for(var r=this.image,s=r.getHeight(),a=this.getCrossCheckStateCount(),l=t;l>=0&&r.get(n,l);)a[2]++,l--;if(l<0)return NaN;for(;l>=0&&!r.get(n,l)&&a[1]<=i;)a[1]++,l--;if(l<0||a[1]>i)return NaN;for(;l>=0&&r.get(n,l)&&a[0]<=i;)a[0]++,l--;if(a[0]>i)return NaN;for(l=t+1;l<s&&r.get(n,l);)a[2]++,l++;if(l===s)return NaN;for(;l<s&&!r.get(n,l)&&a[3]<i;)a[3]++,l++;if(l===s||a[3]>=i)return NaN;for(;l<s&&r.get(n,l)&&a[4]<i;)a[4]++,l++;if(a[4]>=i)return NaN;var c=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(c-o)>=2*o?NaN:e.foundPatternCross(a)?e.centerFromEnd(a,l):NaN},e.prototype.crossCheckHorizontal=function(t,n,i,o){for(var r=this.image,s=r.getWidth(),a=this.getCrossCheckStateCount(),l=t;l>=0&&r.get(l,n);)a[2]++,l--;if(l<0)return NaN;for(;l>=0&&!r.get(l,n)&&a[1]<=i;)a[1]++,l--;if(l<0||a[1]>i)return NaN;for(;l>=0&&r.get(l,n)&&a[0]<=i;)a[0]++,l--;if(a[0]>i)return NaN;for(l=t+1;l<s&&r.get(l,n);)a[2]++,l++;if(l===s)return NaN;for(;l<s&&!r.get(l,n)&&a[3]<i;)a[3]++,l++;if(l===s||a[3]>=i)return NaN;for(;l<s&&r.get(l,n)&&a[4]<i;)a[4]++,l++;if(a[4]>=i)return NaN;var c=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(c-o)>=o?NaN:e.foundPatternCross(a)?e.centerFromEnd(a,l):NaN},e.prototype.handlePossibleCenter=function(t,n,i,o){var r=t[0]+t[1]+t[2]+t[3]+t[4],s=e.centerFromEnd(t,i),a=this.crossCheckVertical(n,Math.floor(s),t[2],r);if(!isNaN(a)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(a),t[2],r),!isNaN(s)&&(!o||this.crossCheckDiagonal(Math.floor(a),Math.floor(s),t[2],r)))){for(var l=r/7,c=!1,d=this.possibleCenters,u=0,p=d.length;u<p;u++){var h=d[u];if(h.aboutEquals(l,a,s)){d[u]=h.combineEstimate(a,s,l),c=!0;break}}if(!c){var m=new sn(s,a,l);d.push(m),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},e.prototype.findRowSkip=function(){var t,n;if(this.possibleCenters.length<=1)return 0;var i=null;try{for(var o=ln(this.possibleCenters),r=o.next();!r.done;r=o.next()){var s=r.value;if(s.getCount()>=e.CENTER_QUORUM){if(null!=i)return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2);i=s}}}catch(a){t={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return 0},e.prototype.haveMultiplyConfirmedCenters=function(){var t,n,i,o,r=0,s=0,a=this.possibleCenters.length;try{for(var l=ln(this.possibleCenters),c=l.next();!c.done;c=l.next())(m=c.value).getCount()>=e.CENTER_QUORUM&&(r++,s+=m.getEstimatedModuleSize())}catch(f){t={error:f}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}if(r<3)return!1;var d=s/a,u=0;try{for(var p=ln(this.possibleCenters),h=p.next();!h.done;h=p.next()){var m=h.value;u+=Math.abs(m.getEstimatedModuleSize()-d)}}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}return u<=.05*s},e.prototype.selectBestPatterns=function(){var e,t,n,i,o=this.possibleCenters.length;if(o<3)throw new L;var r,s=this.possibleCenters;if(o>3){var a=0,l=0;try{for(var c=ln(this.possibleCenters),d=c.next();!d.done;d=c.next()){var u=d.value.getEstimatedModuleSize();a+=u,l+=u*u}}catch(y){e={error:y}}finally{try{d&&!d.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}r=a/o;var p=Math.sqrt(l/o-r*r);s.sort(function(e,t){var n=Math.abs(t.getEstimatedModuleSize()-r),i=Math.abs(e.getEstimatedModuleSize()-r);return n<i?-1:n>i?1:0});for(var h=Math.max(.2*r,p),m=0;m<s.length&&s.length>3;m++){var f=s[m];Math.abs(f.getEstimatedModuleSize()-r)>h&&(s.splice(m,1),m--)}}if(s.length>3){a=0;try{for(var g=ln(s),v=g.next();!v.done;v=g.next())a+=v.value.getEstimatedModuleSize()}catch(b){n={error:b}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}r=a/s.length,s.sort(function(e,t){if(t.getCount()===e.getCount()){var n=Math.abs(t.getEstimatedModuleSize()-r),i=Math.abs(e.getEstimatedModuleSize()-r);return n<i?1:n>i?-1:0}return t.getCount()-e.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},e.CENTER_QUORUM=2,e.MIN_SKIP=3,e.MAX_MODULES=57,e}(),dn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),un=function(e){function t(t,n,i){var o=e.call(this,t,n)||this;return o.estimatedModuleSize=i,o}return dn(t,e),t.prototype.aboutEquals=function(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){var i=Math.abs(e-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,n,i){return new t((this.getX()+n)/2,(this.getY()+e)/2,(this.estimatedModuleSize+i)/2)},t}(xe),pn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hn=function(){function e(e,t,n,i,o,r,s){this.image=e,this.startX=t,this.startY=n,this.width=i,this.height=o,this.moduleSize=r,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return e.prototype.find=function(){for(var e=this.startX,t=this.height,n=e+this.width,i=this.startY+t/2,o=new Int32Array(3),r=this.image,s=0;s<t;s++){var a=i+(0==(1&s)?Math.floor((s+1)/2):-Math.floor((s+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var l=e;l<n&&!r.get(l,a);)l++;for(var c=0;l<n;){if(r.get(l,a))if(1===c)o[1]++;else if(2===c){var d;if(this.foundPatternCross(o)&&null!==(d=this.handlePossibleCenter(o,a,l)))return d;o[0]=o[2],o[1]=1,o[2]=0,c=1}else o[++c]++;else 1===c&&c++,o[c]++;l++}if(this.foundPatternCross(o)&&null!==(d=this.handlePossibleCenter(o,a,n)))return d}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new L},e.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},e.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=n)return!1;return!0},e.prototype.crossCheckVertical=function(t,n,i,o){var r=this.image,s=r.getHeight(),a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;for(var l=t;l>=0&&r.get(n,l)&&a[1]<=i;)a[1]++,l--;if(l<0||a[1]>i)return NaN;for(;l>=0&&!r.get(n,l)&&a[0]<=i;)a[0]++,l--;if(a[0]>i)return NaN;for(l=t+1;l<s&&r.get(n,l)&&a[1]<=i;)a[1]++,l++;if(l===s||a[1]>i)return NaN;for(;l<s&&!r.get(n,l)&&a[2]<=i;)a[2]++,l++;if(a[2]>i)return NaN;var c=a[0]+a[1]+a[2];return 5*Math.abs(c-o)>=2*o?NaN:this.foundPatternCross(a)?e.centerFromEnd(a,l):NaN},e.prototype.handlePossibleCenter=function(t,n,i){var o,r,s=t[0]+t[1]+t[2],a=e.centerFromEnd(t,i),l=this.crossCheckVertical(n,a,2*t[1],s);if(!isNaN(l)){var c=(t[0]+t[1]+t[2])/3;try{for(var d=pn(this.possibleCenters),u=d.next();!u.done;u=d.next()){var p=u.value;if(p.aboutEquals(c,l,a))return p.combineEstimate(l,a,c)}}catch(m){o={error:m}}finally{try{u&&!u.done&&(r=d.return)&&r.call(d)}finally{if(o)throw o.error}}var h=new un(a,l,c);this.possibleCenters.push(h),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(h)}return null},e}(),mn=function(){function e(e){this.image=e}return e.prototype.getImage=function(){return this.image},e.prototype.getResultPointCallback=function(){return this.resultPointCallback},e.prototype.detect=function(e){this.resultPointCallback=null==e?null:e.get(I.NEED_RESULT_POINT_CALLBACK);var t=new cn(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)},e.prototype.processFinderPatternInfo=function(t){var n=t.getTopLeft(),i=t.getTopRight(),o=t.getBottomLeft(),r=this.calculateModuleSize(n,i,o);if(r<1)throw new L("No pattern found in proccess finder.");var s=e.computeDimension(n,i,o,r),a=Ht.getProvisionalVersionForDimension(s),l=a.getDimensionForVersion()-7,c=null;if(a.getAlignmentPatternCenters().length>0)for(var d=i.getX()-n.getX()+o.getX(),u=i.getY()-n.getY()+o.getY(),p=1-3/l,h=Math.floor(n.getX()+p*(d-n.getX())),m=Math.floor(n.getY()+p*(u-n.getY())),f=4;f<=16;f<<=1)try{c=this.findAlignmentInRegion(r,h,m,f);break}catch(y){if(!(y instanceof L))throw y}var g=e.createTransform(n,i,o,c,s),v=e.sampleGrid(this.image,g,s);return new we(v,null===c?[o,n,i]:[o,n,i,c])},e.createTransform=function(e,t,n,i,o){var r,s,a,l,c=o-3.5;return null!==i?(r=i.getX(),s=i.getY(),l=a=c-3):(r=t.getX()-e.getX()+n.getX(),s=t.getY()-e.getY()+n.getY(),a=c,l=c),Ae.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,a,l,3.5,c,e.getX(),e.getY(),t.getX(),t.getY(),r,s,n.getX(),n.getY())},e.sampleGrid=function(e,t,n){return Te.getInstance().sampleGridWithTransform(e,n,n,t)},e.computeDimension=function(e,t,n,i){var o=ye.round(xe.distance(e,t)/i),r=ye.round(xe.distance(e,n)/i),s=Math.floor((o+r)/2)+7;switch(3&s){case 0:s++;break;case 2:s--;break;case 3:throw new L("Dimensions could be not found.")}return s},e.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},e.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},e.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,i){var o=this.sizeOfBlackWhiteBlackRun(e,t,n,i),r=1,s=e-(n-e);s<0?(r=e/(e-s),s=0):s>=this.image.getWidth()&&(r=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var a=Math.floor(t-(i-t)*r);return r=1,a<0?(r=t/(t-a),a=0):a>=this.image.getHeight()&&(r=(this.image.getHeight()-1-t)/(a-t),a=this.image.getHeight()-1),s=Math.floor(e+(s-e)*r),(o+=this.sizeOfBlackWhiteBlackRun(e,t,s,a))-1},e.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,i){var o=Math.abs(i-t)>Math.abs(n-e);if(o){var r=e;e=t,t=r,r=n,n=i,i=r}for(var s=Math.abs(n-e),a=Math.abs(i-t),l=-s/2,c=e<n?1:-1,d=t<i?1:-1,u=0,p=n+c,h=e,m=t;h!==p;h+=c){var f=o?m:h,g=o?h:m;if(1===u===this.image.get(f,g)){if(2===u)return ye.distance(h,m,e,t);u++}if((l+=a)>0){if(m===i)break;m+=d,l-=s}}return 2===u?ye.distance(n+c,i,e,t):NaN},e.prototype.findAlignmentInRegion=function(e,t,n,i){var o=Math.floor(i*e),r=Math.max(0,t-o),s=Math.min(this.image.getWidth()-1,t+o);if(s-r<3*e)throw new L("Alignment top exceeds estimated module size.");var a=Math.max(0,n-o),l=Math.min(this.image.getHeight()-1,n+o);if(l-a<3*e)throw new L("Alignment bottom exceeds estimated module size.");return new hn(this.image,r,a,s-r,l-a,e,this.resultPointCallback).find()},e}(),fn=function(){function e(){this.decoder=new on}return e.prototype.getDecoder=function(){return this.decoder},e.prototype.decode=function(t,n){var i,o;if(null!=n&&void 0!==n.get(I.PURE_BARCODE)){var r=e.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(r,n),o=e.NO_POINTS}else{var s=new mn(t.getBlackMatrix()).detect(n);i=this.decoder.decodeBitMatrix(s.getBits(),n),o=s.getPoints()}i.getOther()instanceof Yt&&i.getOther().applyMirroredCorrection(o);var a=new J(i.getText(),i.getRawBytes(),void 0,o,te.QR_CODE,void 0),l=i.getByteSegments();null!==l&&a.putMetadata(ie.BYTE_SEGMENTS,l);var c=i.getECLevel();return null!==c&&a.putMetadata(ie.ERROR_CORRECTION_LEVEL,c),i.hasStructuredAppend()&&(a.putMetadata(ie.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),a.putMetadata(ie.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),a},e.prototype.reset=function(){},e.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null===t||null===n)throw new L;var i=this.moduleSize(t,e),o=t[1],r=n[1],s=t[0],a=n[0];if(s>=a||o>=r)throw new L;if(r-o!=a-s&&(a=s+(r-o))>=e.getWidth())throw new L;var l=Math.round((a-s+1)/i),c=Math.round((r-o+1)/i);if(l<=0||c<=0)throw new L;if(c!==l)throw new L;var d=Math.floor(i/2);o+=d;var u=(s+=d)+Math.floor((l-1)*i)-a;if(u>0){if(u>d)throw new L;s-=u}var p=o+Math.floor((c-1)*i)-r;if(p>0){if(p>d)throw new L;o-=p}for(var h=new N(l,c),m=0;m<c;m++)for(var f=o+Math.floor(m*i),g=0;g<l;g++)e.get(s+Math.floor(g*i),f)&&h.set(g,m);return h},e.moduleSize=function(e,t){for(var n=t.getHeight(),i=t.getWidth(),o=e[0],r=e[1],s=!0,a=0;o<i&&r<n;){if(s!==t.get(o,r)){if(5==++a)break;s=!s}o++,r++}if(o===i||r===n)throw new L;return(o-e[0])/7},e.NO_POINTS=new Array,e}(),gn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vn=function(){function e(){}return e.prototype.PDF417Common=function(){},e.getBitCountSum=function(e){return ye.sum(e)},e.toIntArray=function(t){var n,i;if(null==t||!t.length)return e.EMPTY_INT_ARRAY;var o=new Int32Array(t.length),r=0;try{for(var s=gn(t),a=s.next();!a.done;a=s.next()){var l=a.value;o[r++]=l}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o},e.getCodeword=function(t){var n=C.binarySearch(e.SYMBOL_TABLE,262143&t);return n<0?-1:(e.CODEWORD_TABLE[n]-1)%e.NUMBER_OF_CODEWORDS},e.NUMBER_OF_CODEWORDS=929,e.MAX_CODEWORDS_IN_BARCODE=e.NUMBER_OF_CODEWORDS-1,e.MIN_ROWS_IN_BARCODE=3,e.MAX_ROWS_IN_BARCODE=90,e.MODULES_IN_CODEWORD=17,e.MODULES_IN_STOP_PATTERN=18,e.BARS_IN_MODULE=8,e.EMPTY_INT_ARRAY=new Int32Array([]),e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),e}(),yn=function(){function e(e,t){this.bits=e,this.points=t}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}(),bn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xn=function(){function e(){}return e.detectMultiple=function(t,n,i){var o=t.getBlackMatrix(),r=e.detect(i,o);return r.length||((o=o.clone()).rotate180(),r=e.detect(i,o)),new yn(o,r)},e.detect=function(t,n){for(var i,o,r=new Array,s=0,a=0,l=!1;s<n.getHeight();){var c=e.findVertices(n,s,a);if(null!=c[0]||null!=c[3]){if(l=!0,r.push(c),!t)break;null!=c[2]?(a=Math.trunc(c[2].getX()),s=Math.trunc(c[2].getY())):(a=Math.trunc(c[4].getX()),s=Math.trunc(c[4].getY()))}else{if(!l)break;l=!1,a=0;try{for(var d=(i=void 0,bn(r)),u=d.next();!u.done;u=d.next()){var p=u.value;null!=p[1]&&(s=Math.trunc(Math.max(s,p[1].getY()))),null!=p[3]&&(s=Math.max(s,Math.trunc(p[3].getY())))}}catch(h){i={error:h}}finally{try{u&&!u.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}s+=e.ROW_STEP}}return r},e.findVertices=function(t,n,i){var o=t.getHeight(),r=t.getWidth(),s=new Array(8);return e.copyToResult(s,e.findRowsWithPattern(t,o,r,n,i,e.START_PATTERN),e.INDEXES_START_PATTERN),null!=s[4]&&(i=Math.trunc(s[4].getX()),n=Math.trunc(s[4].getY())),e.copyToResult(s,e.findRowsWithPattern(t,o,r,n,i,e.STOP_PATTERN),e.INDEXES_STOP_PATTERN),s},e.copyToResult=function(e,t,n){for(var i=0;i<n.length;i++)e[n[i]]=t[i]},e.findRowsWithPattern=function(t,n,i,o,r,s){for(var a=new Array(4),l=!1,c=new Int32Array(s.length);o<n;o+=e.ROW_STEP)if(null!=(h=e.findGuardPattern(t,r,o,i,!1,s,c))){for(;o>0;){if(null==(p=e.findGuardPattern(t,r,--o,i,!1,s,c))){o++;break}h=p}a[0]=new xe(h[0],o),a[1]=new xe(h[1],o),l=!0;break}var d=o+1;if(l){for(var u=0,p=Int32Array.from([Math.trunc(a[0].getX()),Math.trunc(a[1].getX())]);d<n;d++){var h;if(null!=(h=e.findGuardPattern(t,p[0],d,i,!1,s,c))&&Math.abs(p[0]-h[0])<e.MAX_PATTERN_DRIFT&&Math.abs(p[1]-h[1])<e.MAX_PATTERN_DRIFT)p=h,u=0;else{if(u>e.SKIPPED_ROW_COUNT_MAX)break;u++}}d-=u+1,a[2]=new xe(p[0],d),a[3]=new xe(p[1],d)}return d-o<e.BARCODE_MIN_HEIGHT&&C.fill(a,null),a},e.findGuardPattern=function(t,n,i,o,r,s,a){C.fillWithin(a,0,a.length,0);for(var l=n,c=0;t.get(l,i)&&l>0&&c++<e.MAX_PIXEL_DRIFT;)l--;for(var d=l,u=0,p=s.length,h=r;d<o;d++)if(t.get(d,i)!==h)a[u]++;else{if(u===p-1){if(e.patternMatchVariance(a,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return new Int32Array([l,d]);l+=a[0]+a[1],f.arraycopy(a,2,a,0,u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,h=!h}return u===p-1&&e.patternMatchVariance(a,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE?new Int32Array([l,d-1]):null},e.patternMatchVariance=function(e,t,n){for(var i=e.length,o=0,r=0,s=0;s<i;s++)o+=e[s],r+=t[s];if(o<r)return 1/0;var a=o/r;n*=a;for(var l=0,c=0;c<i;c++){var d=e[c],u=t[c]*a,p=d>u?d-u:u-d;if(p>n)return 1/0;l+=p}return l/o},e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),e.MAX_AVG_VARIANCE=.42,e.MAX_INDIVIDUAL_VARIANCE=.8,e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),e.MAX_PIXEL_DRIFT=3,e.MAX_PATTERN_DRIFT=5,e.SKIPPED_ROW_COUNT_MAX=25,e.ROW_STEP=5,e.BARCODE_MIN_HEIGHT=10,e}(),wn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Cn=function(){function e(e,t){if(0===t.length)throw new d;this.field=e;var n=t.length;if(n>1&&0===t[0]){for(var i=1;i<n&&0===t[i];)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),f.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.evaluateAt=function(e){var t,n;if(0===e)return this.getCoefficient(0);if(1===e){var i=0;try{for(var o=wn(this.coefficients),r=o.next();!r.done;r=o.next()){var s=r.value;i=this.field.add(i,s)}}catch(d){t={error:d}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}for(var a=this.coefficients[0],l=this.coefficients.length,c=1;c<l;c++)a=this.field.add(this.field.multiply(e,a),this.coefficients[c]);return a},e.prototype.add=function(t){if(!this.field.equals(t.field))throw new d("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,i=t.coefficients;if(n.length>i.length){var o=n;n=i,i=o}var r=new Int32Array(i.length),s=i.length-n.length;f.arraycopy(i,0,r,0,s);for(var a=s;a<i.length;a++)r[a]=this.field.add(n[a-s],i[a]);return new e(this.field,r)},e.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},e.prototype.multiply=function(t){return t instanceof e?this.multiplyOther(t):this.multiplyScalar(t)},e.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new d("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new e(this.field,new Int32Array([0]));for(var n=this.coefficients,i=n.length,o=t.coefficients,r=o.length,s=new Int32Array(i+r-1),a=0;a<i;a++)for(var l=n[a],c=0;c<r;c++)s[a+c]=this.field.add(s[a+c],this.field.multiply(l,o[c]));return new e(this.field,s)},e.prototype.negative=function(){for(var t=this.coefficients.length,n=new Int32Array(t),i=0;i<t;i++)n[i]=this.field.subtract(0,this.coefficients[i]);return new e(this.field,n)},e.prototype.multiplyScalar=function(t){if(0===t)return new e(this.field,new Int32Array([0]));if(1===t)return this;for(var n=this.coefficients.length,i=new Int32Array(n),o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],t);return new e(this.field,i)},e.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new d;if(0===n)return new e(this.field,new Int32Array([0]));for(var i=this.coefficients.length,o=new Int32Array(i+t),r=0;r<i;r++)o[r]=this.field.multiply(this.coefficients[r],n);return new e(this.field,o)},e.prototype.toString=function(){for(var e=new k,t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);0!==n&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),0!==t&&1===n||e.append(n),0!==t&&(1===t?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},e}(),_n=function(){function e(){}return e.prototype.add=function(e,t){return(e+t)%this.modulus},e.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},e.prototype.exp=function(e){return this.expTable[e]},e.prototype.log=function(e){if(0===e)throw new d;return this.logTable[e]},e.prototype.inverse=function(e){if(0===e)throw new le;return this.expTable[this.modulus-this.logTable[e]-1]},e.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},e.prototype.getSize=function(){return this.modulus},e.prototype.equals=function(e){return e===this},e}(),Sn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),In=function(e){function t(t,n){var i=e.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var o=1,r=0;r<t;r++)i.expTable[r]=o,o=o*n%t;for(r=0;r<t-1;r++)i.logTable[i.expTable[r]]=r;return i.zero=new Cn(i,new Int32Array([0])),i.one=new Cn(i,new Int32Array([1])),i}return Sn(t,e),t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(e,t){if(e<0)throw new d;if(0===t)return this.zero;var n=new Int32Array(e+1);return n[0]=t,new Cn(this,n)},t.PDF417_GF=new t(vn.NUMBER_OF_CODEWORDS,3),t}(_n),An=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},En=function(){function e(){this.field=In.PDF417_GF}return e.prototype.decode=function(e,t,n){for(var i,o,r=new Cn(this.field,e),s=new Int32Array(t),a=!1,l=t;l>0;l--){var c=r.evaluateAt(this.field.exp(l));s[t-l]=c,0!==c&&(a=!0)}if(!a)return 0;var d=this.field.getOne();if(null!=n)try{for(var u=An(n),p=u.next();!p.done;p=u.next()){var m=p.value,f=this.field.exp(e.length-1-m),g=new Cn(this.field,new Int32Array([this.field.subtract(0,f),1]));d=d.multiply(g)}}catch(S){i={error:S}}finally{try{p&&!p.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}var v=new Cn(this.field,s),y=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),v,t),b=y[0],x=y[1],w=this.findErrorLocations(b),C=this.findErrorMagnitudes(x,b,w);for(l=0;l<w.length;l++){var _=e.length-1-this.field.log(w[l]);if(_<0)throw h.getChecksumInstance();e[_]=this.field.subtract(e[_],C[l])}return w.length},e.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var o=e,r=t,s=this.field.getZero(),a=this.field.getOne();r.getDegree()>=Math.round(n/2);){var l=o,c=s;if(s=a,(o=r).isZero())throw h.getChecksumInstance();r=l;for(var d=this.field.getZero(),u=o.getCoefficient(o.getDegree()),p=this.field.inverse(u);r.getDegree()>=o.getDegree()&&!r.isZero();){var m=r.getDegree()-o.getDegree(),f=this.field.multiply(r.getCoefficient(r.getDegree()),p);d=d.add(this.field.buildMonomial(m,f)),r=r.subtract(o.multiplyByMonomial(m,f))}a=d.multiply(s).subtract(c).negative()}var g=a.getCoefficient(0);if(0===g)throw h.getChecksumInstance();var v=this.field.inverse(g);return[a.multiply(v),r.multiply(v)]},e.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),n=new Int32Array(t),i=0,o=1;o<this.field.getSize()&&i<t;o++)0===e.evaluateAt(o)&&(n[i]=this.field.inverse(o),i++);if(i!==t)throw h.getChecksumInstance();return n},e.prototype.findErrorMagnitudes=function(e,t,n){for(var i=t.getDegree(),o=new Int32Array(i),r=1;r<=i;r++)o[i-r]=this.field.multiply(r,t.getCoefficient(r));var s=new Cn(this.field,o),a=n.length,l=new Int32Array(a);for(r=0;r<a;r++){var c=this.field.inverse(n[r]),d=this.field.subtract(0,e.evaluateAt(c)),u=this.field.inverse(s.evaluateAt(c));l[r]=this.field.multiply(d,u)}return l},e}(),Dn=function(){function e(t,n,i,o,r){t instanceof e?this.constructor_2(t):this.constructor_1(t,n,i,o,r)}return e.prototype.constructor_1=function(e,t,n,i,o){var r=null==t||null==n,s=null==i||null==o;if(r&&s)throw new L;r?(t=new xe(0,i.getY()),n=new xe(0,o.getY())):s&&(i=new xe(e.getWidth()-1,t.getY()),o=new xe(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))},e.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},e.merge=function(t,n){return null==t?n:null==n?t:new e(t.image,t.topLeft,t.bottomLeft,n.topRight,n.bottomRight)},e.prototype.addMissingRows=function(t,n,i){var o=this.topLeft,r=this.bottomLeft,s=this.topRight,a=this.bottomRight;if(t>0){var l=i?this.topLeft:this.topRight,c=Math.trunc(l.getY()-t);c<0&&(c=0);var d=new xe(l.getX(),c);i?o=d:s=d}if(n>0){var u=i?this.bottomLeft:this.bottomRight,p=Math.trunc(u.getY()+n);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);var h=new xe(u.getX(),p);i?r=h:a=h}return new e(this.image,o,r,s,a)},e.prototype.getMinX=function(){return this.minX},e.prototype.getMaxX=function(){return this.maxX},e.prototype.getMinY=function(){return this.minY},e.prototype.getMaxY=function(){return this.maxY},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getBottomRight=function(){return this.bottomRight},e}(),Tn=function(){function e(e,t,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}return e.prototype.getColumnCount=function(){return this.columnCount},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},e.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},e}(),Rn=function(){function e(){this.buffer=""}return e.form=function(e,t){var n=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(e,i,o,r,s,a){if("%%"===e)return"%";if(void 0!==t[++n]){e=r?parseInt(r.substr(1)):void 0;var l,c=s?parseInt(s.substr(1)):void 0;switch(a){case"s":l=t[n];break;case"c":l=t[n][0];break;case"f":l=parseFloat(t[n]).toFixed(e);break;case"p":l=parseFloat(t[n]).toPrecision(e);break;case"e":l=parseFloat(t[n]).toExponential(e);break;case"x":l=parseInt(t[n]).toString(c||16);break;case"d":l=parseFloat(parseInt(t[n],c||10).toPrecision(e)).toFixed(0)}l="object"==typeof l?JSON.stringify(l):(+l).toString(c);for(var d=parseInt(o),u=o&&o[0]+""=="0"?"0":" ";l.length<d;)l=void 0!==i?l+u:u+l;return l}})},e.prototype.format=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.buffer+=e.form(t,n)},e.prototype.toString=function(){return this.buffer},e}(),Mn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},On=function(){function e(e){this.boundingBox=new Dn(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return e.prototype.getCodewordNearby=function(t){var n=this.getCodeword(t);if(null!=n)return n;for(var i=1;i<e.MAX_NEARBY_DISTANCE;i++){var o=this.imageRowToCodewordIndex(t)-i;if(o>=0&&null!=(n=this.codewords[o]))return n;if((o=this.imageRowToCodewordIndex(t)+i)<this.codewords.length&&null!=(n=this.codewords[o]))return n}return null},e.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},e.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},e.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.getCodewords=function(){return this.codewords},e.prototype.toString=function(){var e,t,n=new Rn,i=0;try{for(var o=Mn(this.codewords),r=o.next();!r.done;r=o.next()){var s=r.value;null!=s?n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue()):n.format("%3d:    |   %n",i++)}}catch(a){e={error:a}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n.toString()},e.MAX_NEARBY_DISTANCE=5,e}(),Pn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Fn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__read:void 0)||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},kn=function(){function e(){this.values=new Map}return e.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);null==t&&(t=0),t++,this.values.set(e,t)},e.prototype.getValue=function(){var e,t,n=-1,i=new Array,o=function(e,t){var o=function(){return e},r=function(){return t};r()>n?(n=r(),(i=[]).push(o())):r()===n&&i.push(o())};try{for(var r=Pn(this.values.entries()),s=r.next();!s.done;s=r.next()){var a=Fn(s.value,2);o(a[0],a[1])}}catch(l){e={error:l}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return vn.toIntArray(i)},e.prototype.getConfidence=function(e){return this.values.get(e)},e}(),Nn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ln=function(e){function t(t,n){var i=e.call(this,t)||this;return i._isLeft=n,i}return Nn(t,e),t.prototype.setRowNumbers=function(){var e,t;try{for(var n=jn(this.getCodewords()),i=n.next();!i.done;i=n.next()){var o=i.value;null!=o&&o.setRowNumberAsRowIndicatorColumn()}}catch(r){e={error:r}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(e){var t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),r=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),a=-1,l=1,c=0,d=r;d<s;d++)if(null!=t[d]){var u=t[d],p=u.getRowNumber()-a;if(0===p)c++;else if(1===p)l=Math.max(l,c),c=1,a=u.getRowNumber();else if(p<0||u.getRowNumber()>=e.getRowCount()||p>d)t[d]=null;else{for(var h=void 0,m=(h=l>2?(l-2)*p:p)>=d,f=1;f<=h&&!m;f++)m=null!=t[d-f];m?t[d]=null:(a=u.getRowNumber(),c=1)}}},t.prototype.getRowHeights=function(){var e,t,n=this.getBarcodeMetadata();if(null==n)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);var i=new Int32Array(n.getRowCount());try{for(var o=jn(this.getCodewords()),r=o.next();!r.done;r=o.next()){var s=r.value;if(null!=s){var a=s.getRowNumber();if(a>=i.length)continue;i[a]++}}}catch(l){e={error:l}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return i},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(e){for(var t=this.getBoundingBox(),n=this._isLeft?t.getTopLeft():t.getTopRight(),i=this._isLeft?t.getBottomLeft():t.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),r=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.getCodewords(),a=-1,l=o;l<r;l++)if(null!=s[l]){var c=s[l];c.setRowNumberAsRowIndicatorColumn();var d=c.getRowNumber()-a;0===d||(1===d?a=c.getRowNumber():c.getRowNumber()>=e.getRowCount()?s[l]=null:a=c.getRowNumber())}},t.prototype.getBarcodeMetadata=function(){var e,t,n=this.getCodewords(),i=new kn,o=new kn,r=new kn,s=new kn;try{for(var a=jn(n),l=a.next();!l.done;l=a.next()){var c=l.value;if(null!=c){c.setRowNumberAsRowIndicatorColumn();var d=c.getValue()%30,u=c.getRowNumber();switch(this._isLeft||(u+=2),u%3){case 0:o.setValue(3*d+1);break;case 1:s.setValue(d/3),r.setValue(d%3);break;case 2:i.setValue(d+1)}}}}catch(h){e={error:h}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}if(0===i.getValue().length||0===o.getValue().length||0===r.getValue().length||0===s.getValue().length||i.getValue()[0]<1||o.getValue()[0]+r.getValue()[0]<vn.MIN_ROWS_IN_BARCODE||o.getValue()[0]+r.getValue()[0]>vn.MAX_ROWS_IN_BARCODE)return null;var p=new Tn(i.getValue()[0],o.getValue()[0],r.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(n,p),p},t.prototype.removeIncorrectCodewords=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(null!=e[n]){var o=i.getValue()%30,r=i.getRowNumber();if(r>t.getRowCount())e[n]=null;else switch(this._isLeft||(r+=2),r%3){case 0:3*o+1!==t.getRowCountUpperPart()&&(e[n]=null);break;case 1:Math.trunc(o/3)===t.getErrorCorrectionLevel()&&o%3===t.getRowCountLowerPart()||(e[n]=null);break;case 2:o+1!==t.getColumnCount()&&(e[n]=null)}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+e.prototype.toString.call(this)},t}(On),Vn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Bn=function(){function e(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return e.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e,t=vn.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns},e.prototype.adjustIndicatorColumnRowNumbers=function(e){null!=e&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},e.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(0===e)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var n=this.detectionResultColumns[t].getCodewords(),i=0;i<n.length;i++)null!=n[i]&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,n));return e},e.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},e.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1])for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(null!=e[n]&&null!=t[n]&&e[n].getRowNumber()===t[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var o=this.detectionResultColumns[i].getCodewords()[n];null!=o&&(o.setRowNumber(e[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}},e.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var t=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),i=0;i<n.length;i++)if(null!=n[i])for(var o=n[i].getRowNumber(),r=0,s=this.barcodeColumnCount+1;s>0&&r<this.ADJUST_ROW_NUMBER_SKIP;s--){var a=this.detectionResultColumns[s].getCodewords()[i];null!=a&&(r=e.adjustRowNumberIfValid(o,r,a),a.hasValidRowNumber()||t++)}return t},e.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var t=0,n=this.detectionResultColumns[0].getCodewords(),i=0;i<n.length;i++)if(null!=n[i])for(var o=n[i].getRowNumber(),r=0,s=1;s<this.barcodeColumnCount+1&&r<this.ADJUST_ROW_NUMBER_SKIP;s++){var a=this.detectionResultColumns[s].getCodewords()[i];null!=a&&(r=e.adjustRowNumberIfValid(o,r,a),a.hasValidRowNumber()||t++)}return t},e.adjustRowNumberIfValid=function(e,t,n){return null==n||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t},e.prototype.adjustRowNumbers=function(t,n,i){var o,r,s=i[n],a=this.detectionResultColumns[t-1].getCodewords(),l=a;null!=this.detectionResultColumns[t+1]&&(l=this.detectionResultColumns[t+1].getCodewords());var c=new Array(14);c[2]=a[n],c[3]=l[n],n>0&&(c[0]=i[n-1],c[4]=a[n-1],c[5]=l[n-1]),n>1&&(c[8]=i[n-2],c[10]=a[n-2],c[11]=l[n-2]),n<i.length-1&&(c[1]=i[n+1],c[6]=a[n+1],c[7]=l[n+1]),n<i.length-2&&(c[9]=i[n+2],c[12]=a[n+2],c[13]=l[n+2]);try{for(var d=Vn(c),u=d.next();!u.done;u=d.next()){var p=u.value;if(e.adjustRowNumber(s,p))return}}catch(h){o={error:h}}finally{try{u&&!u.done&&(r=d.return)&&r.call(d)}finally{if(o)throw o.error}}},e.adjustRowNumber=function(e,t){return!(null==t||!t.hasValidRowNumber()||t.getBucket()!==e.getBucket()||(e.setRowNumber(t.getRowNumber()),0))},e.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},e.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},e.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},e.prototype.setBoundingBox=function(e){this.boundingBox=e},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},e.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},e.prototype.toString=function(){var e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new Rn,n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++)if(null!=this.detectionResultColumns[i]){var o=this.detectionResultColumns[i].getCodewords()[n];null!=o?t.format(" %3d|%3d",o.getRowNumber(),o.getValue()):t.format("    |   ")}else t.format("    |   ");t.format("%n")}return t.toString()},e}(),Gn=function(){function e(t,n,i,o){this.rowNumber=e.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(n),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}return e.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},e.prototype.isValidRowNumber=function(t){return t!==e.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},e.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},e.prototype.getWidth=function(){return this.endX-this.startX},e.prototype.getStartX=function(){return this.startX},e.prototype.getEndX=function(){return this.endX},e.prototype.getBucket=function(){return this.bucket},e.prototype.getValue=function(){return this.value},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.setRowNumber=function(e){this.rowNumber=e},e.prototype.toString=function(){return this.rowNumber+"|"+this.value},e.BARCODE_ROW_UNKNOWN=-1,e}(),zn=function(){function e(){}return e.initialize=function(){for(var t=0;t<vn.SYMBOL_TABLE.length;t++)for(var n=vn.SYMBOL_TABLE[t],i=1&n,o=0;o<vn.BARS_IN_MODULE;o++){for(var r=0;(1&n)===i;)r+=1,n>>=1;i=1&n,e.RATIOS_TABLE[t]||(e.RATIOS_TABLE[t]=new Array(vn.BARS_IN_MODULE)),e.RATIOS_TABLE[t][vn.BARS_IN_MODULE-o-1]=Math.fround(r/vn.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},e.getDecodedValue=function(t){var n=e.getDecodedCodewordValue(e.sampleBitCounts(t));return-1!==n?n:e.getClosestDecodedValue(t)},e.sampleBitCounts=function(e){for(var t=ye.sum(e),n=new Int32Array(vn.BARS_IN_MODULE),i=0,o=0,r=0;r<vn.MODULES_IN_CODEWORD;r++){var s=t/(2*vn.MODULES_IN_CODEWORD)+r*t/vn.MODULES_IN_CODEWORD;o+e[i]<=s&&(o+=e[i],i++),n[i]++}return n},e.getDecodedCodewordValue=function(t){var n=e.getBitValue(t);return-1===vn.getCodeword(n)?-1:n},e.getBitValue=function(e){for(var t=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)t=t<<1|(n%2==0?1:0);return Math.trunc(t)},e.getClosestDecodedValue=function(t){var n=ye.sum(t),i=new Array(vn.BARS_IN_MODULE);if(n>1)for(var o=0;o<i.length;o++)i[o]=Math.fround(t[o]/n);var r=be.MAX_VALUE,s=-1;this.bSymbolTableReady||e.initialize();for(var a=0;a<e.RATIOS_TABLE.length;a++){for(var l=0,c=e.RATIOS_TABLE[a],d=0;d<vn.BARS_IN_MODULE;d++){var u=Math.fround(c[d]-i[d]);if((l+=Math.fround(u*u))>=r)break}l<r&&(r=l,s=vn.SYMBOL_TABLE[a])}return s},e.bSymbolTableReady=!1,e.RATIOS_TABLE=new Array(vn.SYMBOL_TABLE.length).map(function(e){return new Array(vn.BARS_IN_MODULE)}),e}(),$n=function(){function e(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return e.prototype.getSegmentIndex=function(){return this.segmentIndex},e.prototype.setSegmentIndex=function(e){this.segmentIndex=e},e.prototype.getFileId=function(){return this.fileId},e.prototype.setFileId=function(e){this.fileId=e},e.prototype.getOptionalData=function(){return this.optionalData},e.prototype.setOptionalData=function(e){this.optionalData=e},e.prototype.isLastSegment=function(){return this.lastSegment},e.prototype.setLastSegment=function(e){this.lastSegment=e},e.prototype.getSegmentCount=function(){return this.segmentCount},e.prototype.setSegmentCount=function(e){this.segmentCount=e},e.prototype.getSender=function(){return this.sender||null},e.prototype.setSender=function(e){this.sender=e},e.prototype.getAddressee=function(){return this.addressee||null},e.prototype.setAddressee=function(e){this.addressee=e},e.prototype.getFileName=function(){return this.fileName},e.prototype.setFileName=function(e){this.fileName=e},e.prototype.getFileSize=function(){return this.fileSize},e.prototype.setFileSize=function(e){this.fileSize=e},e.prototype.getChecksum=function(){return this.checksum},e.prototype.setChecksum=function(e){this.checksum=e},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.setTimestamp=function(e){this.timestamp=e},e}(),Un=function(){function e(){}return e.parseLong=function(e,t){return void 0===t&&(t=void 0),parseInt(e,t)},e}(),Hn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hn(t,e),t}(s),Wn=function(){function e(){}return e.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},e.prototype.writeBytesOffset=function(e,t,n){if(null==e)throw new Xn;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new y;if(0!==n)for(var i=0;i<n;i++)this.write(e[t+i])},e.prototype.flush=function(){},e.prototype.close=function(){},e}(),qn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qn(t,e),t}(s),Qn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zn=function(e){function t(t){void 0===t&&(t=32);var n=e.call(this)||this;if(n.count=0,t<0)throw new d("Negative initial size: "+t);return n.buf=new Uint8Array(t),n}return Qn(t,e),t.prototype.ensureCapacity=function(e){e-this.buf.length>0&&this.grow(e)},t.prototype.grow=function(e){var t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new Yn;t=g.MAX_VALUE}this.buf=C.copyOfUint8Array(this.buf,t)},t.prototype.write=function(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1},t.prototype.writeBytesOffset=function(e,t,n){if(t<0||t>e.length||n<0||t+n-e.length>0)throw new y;this.ensureCapacity(this.count+n),f.arraycopy(e,t,this.buf,this.count,n),this.count+=n},t.prototype.writeTo=function(e){e.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return C.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(e){return e?"string"==typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(e){return new String(this.buf).toString()},t.prototype.toString_number=function(e){return new String(this.buf).toString()},t.prototype.close=function(){},t}(Wn);function Kn(){if("undefined"!=typeof window)return window.BigInt||null;if("undefined"!=typeof global)return global.BigInt||null;if("undefined"!=typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function Jn(e){if(void 0===Jt&&(Jt=Kn()),null===Jt)throw new Error("BigInt is not supported!");return Jt(e)}!function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(Kt||(Kt={}));var ei,ti=function(){function e(){}return e.decode=function(t,n){var i=new k(""),o=R.ISO8859_1;i.enableDecoding(o);for(var r=1,s=t[r++],a=new $n;r<t[0];){switch(s){case e.TEXT_COMPACTION_MODE_LATCH:r=e.textCompaction(t,r,i);break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:r=e.byteCompaction(s,t,o,r,i);break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[r++]);break;case e.NUMERIC_COMPACTION_MODE_LATCH:r=e.numericCompaction(t,r,i);break;case e.ECI_CHARSET:R.getCharacterSetECIByValue(t[r++]);break;case e.ECI_GENERAL_PURPOSE:r+=2;break;case e.ECI_USER_DEFINED:r++;break;case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:r=e.decodeMacroBlock(t,r,a);break;case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:throw new E;default:r--,r=e.textCompaction(t,r,i)}if(!(r<t.length))throw E.getFormatInstance();s=t[r++]}if(0===i.length())throw E.getFormatInstance();var l=new oe(null,i.toString(),null,n);return l.setOther(a),l},e.decodeMacroBlock=function(t,n,i){if(n+e.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw E.getFormatInstance();for(var o=new Int32Array(e.NUMBER_OF_SEQUENCE_CODEWORDS),r=0;r<e.NUMBER_OF_SEQUENCE_CODEWORDS;r++,n++)o[r]=t[n];i.setSegmentIndex(g.parseInt(e.decodeBase900toBase10(o,e.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new k;n=e.textCompaction(t,n,s),i.setFileId(s.toString());var a=-1;for(t[n]===e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=n+1);n<t[0];)switch(t[n]){case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t[++n]){case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new k;n=e.textCompaction(t,n+1,l),i.setFileName(l.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new k;n=e.textCompaction(t,n+1,c),i.setSender(c.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new k;n=e.textCompaction(t,n+1,d),i.setAddressee(d.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var u=new k;n=e.numericCompaction(t,n+1,u),i.setSegmentCount(g.parseInt(u.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var p=new k;n=e.numericCompaction(t,n+1,p),i.setTimestamp(Un.parseLong(p.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var h=new k;n=e.numericCompaction(t,n+1,h),i.setChecksum(g.parseInt(h.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new k;n=e.numericCompaction(t,n+1,m),i.setFileSize(Un.parseLong(m.toString()));break;default:throw E.getFormatInstance()}break;case e.MACRO_PDF417_TERMINATOR:n++,i.setLastSegment(!0);break;default:throw E.getFormatInstance()}if(-1!==a){var f=n-a;i.isLastSegment()&&f--,i.setOptionalData(C.copyOfRange(t,a,a+f))}return n},e.textCompaction=function(t,n,i){for(var o=new Int32Array(2*(t[0]-n)),r=new Int32Array(2*(t[0]-n)),s=0,a=!1;n<t[0]&&!a;){var l=t[n++];if(l<e.TEXT_COMPACTION_MODE_LATCH)o[s]=l/30,o[s+1]=l%30,s+=2;else switch(l){case e.TEXT_COMPACTION_MODE_LATCH:o[s++]=e.TEXT_COMPACTION_MODE_LATCH;break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:n--,a=!0;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[s]=e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=t[n++],r[s]=l,s++}}return e.decodeTextCompaction(o,r,s,i),n},e.decodeTextCompaction=function(t,n,i,o){for(var r=Kt.ALPHA,s=Kt.ALPHA,a=0;a<i;){var l=t[a],c="";switch(r){case Kt.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case e.LL:r=Kt.LOWER;break;case e.ML:r=Kt.MIXED;break;case e.PS:s=r,r=Kt.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[a]);break;case e.TEXT_COMPACTION_MODE_LATCH:r=Kt.ALPHA}break;case Kt.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case e.AS:s=r,r=Kt.ALPHA_SHIFT;break;case e.ML:r=Kt.MIXED;break;case e.PS:s=r,r=Kt.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[a]);break;case e.TEXT_COMPACTION_MODE_LATCH:r=Kt.ALPHA}break;case Kt.MIXED:if(l<e.PL)c=e.MIXED_CHARS[l];else switch(l){case e.PL:r=Kt.PUNCT;break;case 26:c=" ";break;case e.LL:r=Kt.LOWER;break;case e.AL:r=Kt.ALPHA;break;case e.PS:s=r,r=Kt.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[a]);break;case e.TEXT_COMPACTION_MODE_LATCH:r=Kt.ALPHA}break;case Kt.PUNCT:if(l<e.PAL)c=e.PUNCT_CHARS[l];else switch(l){case e.PAL:r=Kt.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[a]);break;case e.TEXT_COMPACTION_MODE_LATCH:r=Kt.ALPHA}break;case Kt.ALPHA_SHIFT:if(r=s,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case e.TEXT_COMPACTION_MODE_LATCH:r=Kt.ALPHA}break;case Kt.PUNCT_SHIFT:if(r=s,l<e.PAL)c=e.PUNCT_CHARS[l];else switch(l){case e.PAL:r=Kt.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[a]);break;case e.TEXT_COMPACTION_MODE_LATCH:r=Kt.ALPHA}}""!==c&&o.append(c),a++}},e.byteCompaction=function(t,n,i,o,r){var s=new Zn,a=0,l=0,c=!1;switch(t){case e.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),u=n[o++];o<n[0]&&!c;)switch(d[a++]=u,l=900*l+u,u=n[o++]){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:o--,c=!0;break;default:if(a%5==0&&a>0){for(var p=0;p<6;++p)s.write(Number(Jn(l)>>Jn(8*(5-p))));l=0,a=0}}o===n[0]&&u<e.TEXT_COMPACTION_MODE_LATCH&&(d[a++]=u);for(var h=0;h<a;h++)s.write(d[h]);break;case e.BYTE_COMPACTION_MODE_LATCH_6:for(;o<n[0]&&!c;){var m=n[o++];if(m<e.TEXT_COMPACTION_MODE_LATCH)a++,l=900*l+m;else switch(m){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:o--,c=!0}if(a%5==0&&a>0){for(p=0;p<6;++p)s.write(Number(Jn(l)>>Jn(8*(5-p))));l=0,a=0}}}return r.append(P.decode(s.toByteArray(),i)),o},e.numericCompaction=function(t,n,i){for(var o=0,r=!1,s=new Int32Array(e.MAX_NUMERIC_CODEWORDS);n<t[0]&&!r;){var a=t[n++];if(n===t[0]&&(r=!0),a<e.TEXT_COMPACTION_MODE_LATCH)s[o]=a,o++;else switch(a){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:n--,r=!0}(o%e.MAX_NUMERIC_CODEWORDS==0||a===e.NUMERIC_COMPACTION_MODE_LATCH||r)&&o>0&&(i.append(e.decodeBase900toBase10(s,o)),o=0)}return n},e.decodeBase900toBase10=function(t,n){for(var i=Jn(0),o=0;o<n;o++)i+=e.EXP900[n-o-1]*Jn(t[o]);var r=i.toString();if("1"!==r.charAt(0))throw new E;return r.substring(1)},e.TEXT_COMPACTION_MODE_LATCH=900,e.BYTE_COMPACTION_MODE_LATCH=901,e.NUMERIC_COMPACTION_MODE_LATCH=902,e.BYTE_COMPACTION_MODE_LATCH_6=924,e.ECI_USER_DEFINED=925,e.ECI_GENERAL_PURPOSE=926,e.ECI_CHARSET=927,e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,e.MACRO_PDF417_TERMINATOR=922,e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,e.MAX_NUMERIC_CODEWORDS=15,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,e.PL=25,e.LL=27,e.AS=27,e.ML=28,e.AL=28,e.PS=29,e.PAL=29,e.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",e.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",e.EXP900=Kn()?function(){var e=[];e[0]=Jn(1);var t=Jn(900);e[1]=t;for(var n=2;n<16;n++)e[n]=e[n-1]*t;return e}():[],e.NUMBER_OF_SEQUENCE_CODEWORDS=2,e}(),ni=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ii=function(){function e(){}return e.decode=function(t,n,i,o,r,s,a){for(var l,c=new Dn(t,n,i,o,r),d=null,u=null,p=!0;;p=!1){if(null!=n&&(d=e.getRowIndicatorColumn(t,c,n,!0,s,a)),null!=o&&(u=e.getRowIndicatorColumn(t,c,o,!1,s,a)),null==(l=e.merge(d,u)))throw L.getNotFoundInstance();var h=l.getBoundingBox();if(!p||null==h||!(h.getMinY()<c.getMinY()||h.getMaxY()>c.getMaxY()))break;c=h}l.setBoundingBox(c);var m=l.getBarcodeColumnCount()+1;l.setDetectionResultColumn(0,d),l.setDetectionResultColumn(m,u);for(var f=null!=d,g=1;g<=m;g++){var v=f?g:m-g;if(void 0===l.getDetectionResultColumn(v)){var y=void 0;y=0===v||v===m?new Ln(c,0===v):new On(c),l.setDetectionResultColumn(v,y);for(var b=-1,x=b,w=c.getMinY();w<=c.getMaxY();w++){if((b=e.getStartColumn(l,v,w,f))<0||b>c.getMaxX()){if(-1===x)continue;b=x}var C=e.detectCodeword(t,c.getMinX(),c.getMaxX(),f,b,w,s,a);null!=C&&(y.setCodeword(w,C),x=b,s=Math.min(s,C.getWidth()),a=Math.max(a,C.getWidth()))}}}return e.createDecoderResult(l)},e.merge=function(t,n){if(null==t&&null==n)return null;var i=e.getBarcodeMetadata(t,n);if(null==i)return null;var o=Dn.merge(e.adjustBoundingBox(t),e.adjustBoundingBox(n));return new Bn(i,o)},e.adjustBoundingBox=function(t){var n,i;if(null==t)return null;var o=t.getRowHeights();if(null==o)return null;var r=e.getMax(o),s=0;try{for(var a=ni(o),l=a.next();!l.done;l=a.next()){var c=l.value;if(s+=r-c,c>0)break}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}for(var d=t.getCodewords(),u=0;s>0&&null==d[u];u++)s--;var p=0;for(u=o.length-1;u>=0&&(p+=r-o[u],!(o[u]>0));u--);for(u=d.length-1;p>0&&null==d[u];u--)p--;return t.getBoundingBox().addMissingRows(s,p,t.isLeft())},e.getMax=function(e){var t,n,i=-1;try{for(var o=ni(e),r=o.next();!r.done;r=o.next()){var s=r.value;i=Math.max(i,s)}}catch(a){t={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},e.getBarcodeMetadata=function(e,t){var n,i;return null==e||null==(n=e.getBarcodeMetadata())?null==t?null:t.getBarcodeMetadata():null==t||null==(i=t.getBarcodeMetadata())?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},e.getRowIndicatorColumn=function(t,n,i,o,r,s){for(var a=new Ln(n,o),l=0;l<2;l++)for(var c=0===l?1:-1,d=Math.trunc(Math.trunc(i.getX())),u=Math.trunc(Math.trunc(i.getY()));u<=n.getMaxY()&&u>=n.getMinY();u+=c){var p=e.detectCodeword(t,0,t.getWidth(),o,d,u,r,s);null!=p&&(a.setCodeword(u,p),d=o?p.getStartX():p.getEndX())}return a},e.adjustCodewordCount=function(t,n){var i=n[0][1],o=i.getValue(),r=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-e.getNumberOfECCodeWords(t.getBarcodeECLevel());if(0===o.length){if(r<1||r>vn.MAX_CODEWORDS_IN_BARCODE)throw L.getNotFoundInstance();i.setValue(r)}else o[0]!==r&&i.setValue(r)},e.createDecoderResult=function(t){var n=e.createBarcodeMatrix(t);e.adjustCodewordCount(t,n);for(var i=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),r=[],s=new Array,a=0;a<t.getBarcodeRowCount();a++)for(var l=0;l<t.getBarcodeColumnCount();l++){var c=n[a][l+1].getValue(),d=a*t.getBarcodeColumnCount()+l;0===c.length?i.push(d):1===c.length?o[d]=c[0]:(s.push(d),r.push(c))}for(var u=new Array(r.length),p=0;p<u.length;p++)u[p]=r[p];return e.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,vn.toIntArray(i),vn.toIntArray(s),u)},e.createDecoderResultFromAmbiguousValues=function(t,n,i,o,r){for(var s=new Int32Array(o.length),a=100;a-- >0;){for(var l=0;l<s.length;l++)n[o[l]]=r[l][s[l]];try{return e.decodeCodewords(n,t,i)}catch(c){if(!(c instanceof h))throw c}if(0===s.length)throw h.getChecksumInstance();for(l=0;l<s.length;l++){if(s[l]<r[l].length-1){s[l]++;break}if(s[l]=0,l===s.length-1)throw h.getChecksumInstance()}}throw h.getChecksumInstance()},e.createBarcodeMatrix=function(e){for(var t,n,i,o,r=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<r.length;s++)for(var a=0;a<r[s].length;a++)r[s][a]=new kn;var l=0;try{for(var c=ni(e.getDetectionResultColumns()),d=c.next();!d.done;d=c.next()){var u=d.value;if(null!=u)try{for(var p=(i=void 0,ni(u.getCodewords())),h=p.next();!h.done;h=p.next()){var m=h.value;if(null!=m){var f=m.getRowNumber();if(f>=0){if(f>=r.length)continue;r[f][l].setValue(m.getValue())}}}}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}l++}}catch(v){t={error:v}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return r},e.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},e.getStartColumn=function(t,n,i,o){var r,s,a=o?1:-1,l=null;if(e.isValidBarcodeColumn(t,n-a)&&(l=t.getDetectionResultColumn(n-a).getCodeword(i)),null!=l)return o?l.getEndX():l.getStartX();if(null!=(l=t.getDetectionResultColumn(n).getCodewordNearby(i)))return o?l.getStartX():l.getEndX();if(e.isValidBarcodeColumn(t,n-a)&&(l=t.getDetectionResultColumn(n-a).getCodewordNearby(i)),null!=l)return o?l.getEndX():l.getStartX();for(var c=0;e.isValidBarcodeColumn(t,n-a);){n-=a;try{for(var d=(r=void 0,ni(t.getDetectionResultColumn(n).getCodewords())),u=d.next();!u.done;u=d.next()){var p=u.value;if(null!=p)return(o?p.getEndX():p.getStartX())+a*c*(p.getEndX()-p.getStartX())}}catch(h){r={error:h}}finally{try{u&&!u.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}c++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},e.detectCodeword=function(t,n,i,o,r,s,a,l){r=e.adjustCodewordStartColumn(t,n,i,o,r,s);var c,d=e.getModuleBitCount(t,n,i,o,r,s);if(null==d)return null;var u=ye.sum(d);if(o)c=r+u;else{for(var p=0;p<d.length/2;p++){var h=d[p];d[p]=d[d.length-1-p],d[d.length-1-p]=h}r=(c=r)-u}if(!e.checkCodewordSkew(u,a,l))return null;var m=zn.getDecodedValue(d),f=vn.getCodeword(m);return-1===f?null:new Gn(r,c,e.getCodewordBucketNumber(m),f)},e.getModuleBitCount=function(e,t,n,i,o,r){for(var s=o,a=new Int32Array(8),l=0,c=i?1:-1,d=i;(i?s<n:s>=t)&&l<a.length;)e.get(s,r)===d?(a[l]++,s+=c):(l++,d=!d);return l===a.length||s===(i?n:t)&&l===a.length-1?a:null},e.getNumberOfECCodeWords=function(e){return 2<<e},e.adjustCodewordStartColumn=function(t,n,i,o,r,s){for(var a=r,l=o?-1:1,c=0;c<2;c++){for(;(o?a>=n:a<i)&&o===t.get(a,s);){if(Math.abs(r-a)>e.CODEWORD_SKEW_SIZE)return r;a+=l}l=-l,o=!o}return a},e.checkCodewordSkew=function(t,n,i){return n-e.CODEWORD_SKEW_SIZE<=t&&t<=i+e.CODEWORD_SKEW_SIZE},e.decodeCodewords=function(t,n,i){if(0===t.length)throw E.getFormatInstance();var o=1<<n+1,r=e.correctErrors(t,i,o);e.verifyCodewordCount(t,o);var s=ti.decode(t,""+n);return s.setErrorsCorrected(r),s.setErasures(i.length),s},e.correctErrors=function(t,n,i){if(null!=n&&n.length>i/2+e.MAX_ERRORS||i<0||i>e.MAX_EC_CODEWORDS)throw h.getChecksumInstance();return e.errorCorrection.decode(t,i,n)},e.verifyCodewordCount=function(e,t){if(e.length<4)throw E.getFormatInstance();var n=e[0];if(n>e.length)throw E.getFormatInstance();if(0===n){if(!(t<e.length))throw E.getFormatInstance();e[0]=e.length-t}},e.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),n=0,i=t.length-1;!((1&e)!==n&&(n=1&e,--i<0));)t[i]++,e>>=1;return t},e.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},e.getCodewordBucketNumber_number=function(t){return e.getCodewordBucketNumber(e.getBitCountForCodeword(t))},e.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},e.toString=function(e){for(var t=new Rn,n=0;n<e.length;n++){t.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var o=e[n][i];0===o.getValue().length?t.format("        ",null):t.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}t.format("%n")}return t.toString()},e.CODEWORD_SKEW_SIZE=2,e.MAX_ERRORS=3,e.MAX_EC_CODEWORDS=512,e.errorCorrection=new En,e}(),oi=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ri=function(){function e(){}return e.prototype.decode=function(t,n){void 0===n&&(n=null);var i=e.decode(t,n,!1);if(null==i||0===i.length||null==i[0])throw L.getNotFoundInstance();return i[0]},e.prototype.decodeMultiple=function(t,n){void 0===n&&(n=null);try{return e.decode(t,n,!0)}catch(i){if(i instanceof E||i instanceof h)throw L.getNotFoundInstance();throw i}},e.decode=function(t,n,i){var o,r,s=new Array,a=xn.detectMultiple(t,n,i);try{for(var l=oi(a.getPoints()),c=l.next();!c.done;c=l.next()){var d=c.value,u=ii.decode(a.getBits(),d[4],d[5],d[6],d[7],e.getMinCodewordWidth(d),e.getMaxCodewordWidth(d)),p=new J(u.getText(),u.getRawBytes(),void 0,d,te.PDF_417);p.putMetadata(ie.ERROR_CORRECTION_LEVEL,u.getECLevel());var h=u.getOther();null!=h&&p.putMetadata(ie.PDF417_EXTRA_METADATA,h),s.push(p)}}catch(m){o={error:m}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(o)throw o.error}}return s.map(function(e){return e})},e.getMaxWidth=function(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))},e.getMinWidth=function(e,t){return null==e||null==t?g.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},e.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(e.getMaxWidth(t[0],t[4]),e.getMaxWidth(t[6],t[2])*vn.MODULES_IN_CODEWORD/vn.MODULES_IN_STOP_PATTERN),Math.max(e.getMaxWidth(t[1],t[5]),e.getMaxWidth(t[7],t[3])*vn.MODULES_IN_CODEWORD/vn.MODULES_IN_STOP_PATTERN)))},e.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(e.getMinWidth(t[0],t[4]),e.getMinWidth(t[6],t[2])*vn.MODULES_IN_CODEWORD/vn.MODULES_IN_STOP_PATTERN),Math.min(e.getMinWidth(t[1],t[5]),e.getMinWidth(t[7],t[3])*vn.MODULES_IN_CODEWORD/vn.MODULES_IN_STOP_PATTERN)))},e.prototype.reset=function(){},e}(),si=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ai=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return si(t,e),t}(s),li=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ci=function(){function e(){}return e.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},e.prototype.decodeWithState=function(e){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(e)},e.prototype.setHints=function(e){this.hints=e;var t=null!=e&&void 0!==e.get(I.TRY_HARDER),n=null==e?null:e.get(I.POSSIBLE_FORMATS),i=new Array;if(null!=n){var o=n.some(function(e){return e===te.UPC_A||e===te.UPC_E||e===te.EAN_13||e===te.EAN_8||e===te.CODABAR||e===te.CODE_39||e===te.CODE_93||e===te.CODE_128||e===te.ITF||e===te.RSS_14||e===te.RSS_EXPANDED});o&&!t&&i.push(new xt(e)),n.includes(te.QR_CODE)&&i.push(new fn),n.includes(te.DATA_MATRIX)&&i.push(new kt),n.includes(te.AZTEC)&&i.push(new Oe),n.includes(te.PDF_417)&&i.push(new ri),o&&t&&i.push(new xt(e))}0===i.length&&(t||i.push(new xt(e)),i.push(new fn),i.push(new kt),i.push(new Oe),i.push(new ri),t&&i.push(new xt(e))),this.readers=i},e.prototype.reset=function(){var e,t;if(null!==this.readers)try{for(var n=li(this.readers),i=n.next();!i.done;i=n.next())i.value.reset()}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.decodeInternal=function(e){var t,n;if(null===this.readers)throw new ai("No readers where selected, nothing can be read.");try{for(var i=li(this.readers),o=i.next();!o.done;o=i.next()){var r=o.value;try{return r.decode(e,this.hints)}catch(s){if(s instanceof ai)continue}}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}throw new L("No MultiFormat Readers were able to detect the code.")},e}(),di=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ui=(function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=500);var i=new ci;return i.setHints(t),e.call(this,i,n)||this}di(t,e),t.prototype.decodeBitmap=function(e){return this.reader.decodeWithState(e)}}(K),(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),pi=(function(e){function t(t){return void 0===t&&(t=500),e.call(this,new ri,t)||this}ui(t,e)}(K),(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}());!function(e){function t(t){return void 0===t&&(t=500),e.call(this,new fn,t)||this}pi(t,e)}(K),function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.MIN_SIZE=3]="MIN_SIZE",e[e.MAX_SIZE=4]="MAX_SIZE",e[e.MARGIN=5]="MARGIN",e[e.PDF417_COMPACT=6]="PDF417_COMPACT",e[e.PDF417_COMPACTION=7]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=9]="AZTEC_LAYERS",e[e.QR_VERSION=10]="QR_VERSION"}(ei||(ei={}));var hi=ei,mi=function(){function e(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new se(e,Int32Array.from([1])))}return e.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var n=t[t.length-1],i=this.field,o=t.length;o<=e;o++){var r=n.multiply(new se(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));t.push(r),n=r}return t[e]},e.prototype.encode=function(e,t){if(0===t)throw new d("No error correction bytes");var n=e.length-t;if(n<=0)throw new d("No data bytes provided");var i=this.buildGenerator(t),o=new Int32Array(n);f.arraycopy(e,0,o,0,n);for(var r=new se(this.field,o),s=(r=r.multiplyByMonomial(t,1)).divide(i)[1].getCoefficients(),a=t-s.length,l=0;l<a;l++)e[n+l]=0;f.arraycopy(s,0,e,n+a,s.length)},e}(),fi=function(){function e(){}return e.applyMaskPenaltyRule1=function(t){return e.applyMaskPenaltyRule1Internal(t,!0)+e.applyMaskPenaltyRule1Internal(t,!1)},e.applyMaskPenaltyRule2=function(t){for(var n=0,i=t.getArray(),o=t.getWidth(),r=t.getHeight(),s=0;s<r-1;s++)for(var a=i[s],l=0;l<o-1;l++){var c=a[l];c===a[l+1]&&c===i[s+1][l]&&c===i[s+1][l+1]&&n++}return e.N2*n},e.applyMaskPenaltyRule3=function(t){for(var n=0,i=t.getArray(),o=t.getWidth(),r=t.getHeight(),s=0;s<r;s++)for(var a=0;a<o;a++){var l=i[s];a+6<o&&1===l[a]&&0===l[a+1]&&1===l[a+2]&&1===l[a+3]&&1===l[a+4]&&0===l[a+5]&&1===l[a+6]&&(e.isWhiteHorizontal(l,a-4,a)||e.isWhiteHorizontal(l,a+7,a+11))&&n++,s+6<r&&1===i[s][a]&&0===i[s+1][a]&&1===i[s+2][a]&&1===i[s+3][a]&&1===i[s+4][a]&&0===i[s+5][a]&&1===i[s+6][a]&&(e.isWhiteVertical(i,a,s-4,s)||e.isWhiteVertical(i,a,s+7,s+11))&&n++}return n*e.N3},e.isWhiteHorizontal=function(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(var i=t;i<n;i++)if(1===e[i])return!1;return!0},e.isWhiteVertical=function(e,t,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var o=n;o<i;o++)if(1===e[o][t])return!1;return!0},e.applyMaskPenaltyRule4=function(t){for(var n=0,i=t.getArray(),o=t.getWidth(),r=t.getHeight(),s=0;s<r;s++)for(var a=i[s],l=0;l<o;l++)1===a[l]&&n++;var c=t.getHeight()*t.getWidth();return Math.floor(10*Math.abs(2*n-c)/c)*e.N4},e.getDataMaskBit=function(e,t,n){var i,o;switch(e){case 0:i=n+t&1;break;case 1:i=1&n;break;case 2:i=t%3;break;case 3:i=(n+t)%3;break;case 4:i=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:i=(1&(o=n*t))+o%3;break;case 6:i=(1&(o=n*t))+o%3&1;break;case 7:i=(o=n*t)%3+(n+t&1)&1;break;default:throw new d("Invalid mask pattern: "+e)}return 0===i},e.applyMaskPenaltyRule1Internal=function(t,n){for(var i=0,o=n?t.getHeight():t.getWidth(),r=n?t.getWidth():t.getHeight(),s=t.getArray(),a=0;a<o;a++){for(var l=0,c=-1,d=0;d<r;d++){var u=n?s[a][d]:s[d][a];u===c?l++:(l>=5&&(i+=e.N1+(l-5)),l=1,c=u)}l>=5&&(i+=e.N1+(l-5))}return i},e.N1=3,e.N2=3,e.N3=40,e.N4=10,e}(),gi=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vi=function(){function e(e,t){this.width=e,this.height=t;for(var n=new Array(t),i=0;i!==t;i++)n[i]=new Uint8Array(e);this.bytes=n}return e.prototype.getHeight=function(){return this.height},e.prototype.getWidth=function(){return this.width},e.prototype.get=function(e,t){return this.bytes[t][e]},e.prototype.getArray=function(){return this.bytes},e.prototype.setNumber=function(e,t,n){this.bytes[t][e]=n},e.prototype.setBoolean=function(e,t,n){this.bytes[t][e]=n?1:0},e.prototype.clear=function(e){var t,n;try{for(var i=gi(this.bytes),o=i.next();!o.done;o=i.next()){var r=o.value;C.fill(r,e)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.width!==n.width)return!1;if(this.height!==n.height)return!1;for(var i=0,o=this.height;i<o;++i)for(var r=this.bytes[i],s=n.bytes[i],a=0,l=this.width;a<l;++a)if(r[a]!==s[a])return!1;return!0},e.prototype.toString=function(){for(var e=new k,t=0,n=this.height;t<n;++t){for(var i=this.bytes[t],o=0,r=this.width;o<r;++o)switch(i[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()},e}(),yi=function(){function e(){this.maskPattern=-1}return e.prototype.getMode=function(){return this.mode},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getVersion=function(){return this.version},e.prototype.getMaskPattern=function(){return this.maskPattern},e.prototype.getMatrix=function(){return this.matrix},e.prototype.toString=function(){var e=new k;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()},e.prototype.setMode=function(e){this.mode=e},e.prototype.setECLevel=function(e){this.ecLevel=e},e.prototype.setVersion=function(e){this.version=e},e.prototype.setMaskPattern=function(e){this.maskPattern=e},e.prototype.setMatrix=function(e){this.matrix=e},e.isValidMaskPattern=function(t){return t>=0&&t<e.NUM_MASK_PATTERNS},e.NUM_MASK_PATTERNS=8,e}(),bi=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bi(t,e),t}(s),wi=function(){function e(){}return e.clearMatrix=function(e){e.clear(255)},e.buildMatrix=function(t,n,i,o,r){e.clearMatrix(r),e.embedBasicPatterns(i,r),e.embedTypeInfo(n,o,r),e.maybeEmbedVersionInfo(i,r),e.embedDataBits(t,o,r)},e.embedBasicPatterns=function(t,n){e.embedPositionDetectionPatternsAndSeparators(n),e.embedDarkDotAtLeftBottomCorner(n),e.maybeEmbedPositionAdjustmentPatterns(t,n),e.embedTimingPatterns(n)},e.embedTypeInfo=function(t,n,i){var o=new _;e.makeTypeInfoBits(t,n,o);for(var r=0,s=o.getSize();r<s;++r){var a=o.get(o.getSize()-1-r),l=e.TYPE_INFO_COORDINATES[r],c=l[0],d=l[1];if(i.setBoolean(c,d,a),r<8){var u=i.getWidth()-r-1,p=8;i.setBoolean(u,p,a)}else u=8,p=i.getHeight()-7+(r-8),i.setBoolean(u,p,a)}},e.maybeEmbedVersionInfo=function(t,n){if(!(t.getVersionNumber()<7)){var i=new _;e.makeVersionInfoBits(t,i);for(var o=17,r=0;r<6;++r)for(var s=0;s<3;++s){var a=i.get(o);o--,n.setBoolean(r,n.getHeight()-11+s,a),n.setBoolean(n.getHeight()-11+s,r,a)}}},e.embedDataBits=function(t,n,i){for(var o=0,r=-1,s=i.getWidth()-1,a=i.getHeight()-1;s>0;){for(6===s&&(s-=1);a>=0&&a<i.getHeight();){for(var l=0;l<2;++l){var c=s-l;if(e.isEmpty(i.get(c,a))){var d=void 0;o<t.getSize()?(d=t.get(o),++o):d=!1,255!==n&&fi.getDataMaskBit(n,c,a)&&(d=!d),i.setBoolean(c,a,d)}}a+=r}a+=r=-r,s-=2}if(o!==t.getSize())throw new xi("Not all bits consumed: "+o+"/"+t.getSize())},e.findMSBSet=function(e){return 32-g.numberOfLeadingZeros(e)},e.calculateBCHCode=function(t,n){if(0===n)throw new d("0 polynomial");var i=e.findMSBSet(n);for(t<<=i-1;e.findMSBSet(t)>=i;)t^=n<<e.findMSBSet(t)-i;return t},e.makeTypeInfoBits=function(t,n,i){if(!yi.isValidMaskPattern(n))throw new xi("Invalid mask pattern");var o=t.getBits()<<3|n;i.appendBits(o,5);var r=e.calculateBCHCode(o,e.TYPE_INFO_POLY);i.appendBits(r,10);var s=new _;if(s.appendBits(e.TYPE_INFO_MASK_PATTERN,15),i.xor(s),15!==i.getSize())throw new xi("should not happen but we got: "+i.getSize())},e.makeVersionInfoBits=function(t,n){n.appendBits(t.getVersionNumber(),6);var i=e.calculateBCHCode(t.getVersionNumber(),e.VERSION_INFO_POLY);if(n.appendBits(i,12),18!==n.getSize())throw new xi("should not happen but we got: "+n.getSize())},e.isEmpty=function(e){return 255===e},e.embedTimingPatterns=function(t){for(var n=8;n<t.getWidth()-8;++n){var i=(n+1)%2;e.isEmpty(t.get(n,6))&&t.setNumber(n,6,i),e.isEmpty(t.get(6,n))&&t.setNumber(6,n,i)}},e.embedDarkDotAtLeftBottomCorner=function(e){if(0===e.get(8,e.getHeight()-8))throw new xi;e.setNumber(8,e.getHeight()-8,1)},e.embedHorizontalSeparationPattern=function(t,n,i){for(var o=0;o<8;++o){if(!e.isEmpty(i.get(t+o,n)))throw new xi;i.setNumber(t+o,n,0)}},e.embedVerticalSeparationPattern=function(t,n,i){for(var o=0;o<7;++o){if(!e.isEmpty(i.get(t,n+o)))throw new xi;i.setNumber(t,n+o,0)}},e.embedPositionAdjustmentPattern=function(t,n,i){for(var o=0;o<5;++o)for(var r=e.POSITION_ADJUSTMENT_PATTERN[o],s=0;s<5;++s)i.setNumber(t+s,n+o,r[s])},e.embedPositionDetectionPattern=function(t,n,i){for(var o=0;o<7;++o)for(var r=e.POSITION_DETECTION_PATTERN[o],s=0;s<7;++s)i.setNumber(t+s,n+o,r[s])},e.embedPositionDetectionPatternsAndSeparators=function(t){var n=e.POSITION_DETECTION_PATTERN[0].length;e.embedPositionDetectionPattern(0,0,t),e.embedPositionDetectionPattern(t.getWidth()-n,0,t),e.embedPositionDetectionPattern(0,t.getWidth()-n,t),e.embedHorizontalSeparationPattern(0,7,t),e.embedHorizontalSeparationPattern(t.getWidth()-8,7,t),e.embedHorizontalSeparationPattern(0,t.getWidth()-8,t),e.embedVerticalSeparationPattern(7,0,t),e.embedVerticalSeparationPattern(t.getHeight()-7-1,0,t),e.embedVerticalSeparationPattern(7,t.getHeight()-7,t)},e.maybeEmbedPositionAdjustmentPatterns=function(t,n){if(!(t.getVersionNumber()<2))for(var i=t.getVersionNumber()-1,o=e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i],r=0,s=o.length;r!==s;r++){var a=o[r];if(a>=0)for(var l=0;l!==s;l++){var c=o[l];c>=0&&e.isEmpty(n.get(c,a))&&e.embedPositionAdjustmentPattern(c-2,a-2,n)}}},e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),e.VERSION_INFO_POLY=7973,e.TYPE_INFO_POLY=1335,e.TYPE_INFO_MASK_PATTERN=21522,e}(),Ci=function(){function e(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return e.prototype.getDataBytes=function(){return this.dataBytes},e.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},e}(),_i=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Si=function(){function e(){}return e.calculateMaskPenalty=function(e){return fi.applyMaskPenaltyRule1(e)+fi.applyMaskPenaltyRule2(e)+fi.applyMaskPenaltyRule3(e)+fi.applyMaskPenaltyRule4(e)},e.encode=function(t,n,i){void 0===i&&(i=null);var o=e.DEFAULT_BYTE_MODE_ENCODING,r=null!==i&&void 0!==i.get(hi.CHARACTER_SET);r&&(o=i.get(hi.CHARACTER_SET).toString());var s=this.chooseMode(t,o),a=new _;if(s===en.BYTE&&(r||e.DEFAULT_BYTE_MODE_ENCODING!==o)){var l=R.getCharacterSetECIByName(o);void 0!==l&&this.appendECI(l,a)}this.appendModeInfo(s,a);var c,d=new _;if(this.appendBytes(t,s,d,o),null!==i&&void 0!==i.get(hi.QR_VERSION)){var u=Number.parseInt(i.get(hi.QR_VERSION).toString(),10);c=Ht.getVersionForNumber(u);var p=this.calculateBitsNeeded(s,a,d,c);if(!this.willFit(p,c,n))throw new xi("Data too big for requested version")}else c=this.recommendVersion(n,s,a,d);var h=new _;h.appendBitArray(a);var m=s===en.BYTE?d.getSizeInBytes():t.length;this.appendLengthInfo(m,c,s,h),h.appendBitArray(d);var f=c.getECBlocksForLevel(n),g=c.getTotalCodewords()-f.getTotalECCodewords();this.terminateBits(g,h);var v=this.interleaveWithECBytes(h,c.getTotalCodewords(),g,f.getNumBlocks()),y=new yi;y.setECLevel(n),y.setMode(s),y.setVersion(c);var b=c.getDimensionForVersion(),x=new vi(b,b),w=this.chooseMaskPattern(v,n,c,x);return y.setMaskPattern(w),wi.buildMatrix(v,n,c,w,x),y.setMatrix(x),y},e.recommendVersion=function(e,t,n,i){var o=this.calculateBitsNeeded(t,n,i,Ht.getVersionForNumber(1)),r=this.chooseVersion(o,e),s=this.calculateBitsNeeded(t,n,i,r);return this.chooseVersion(s,e)},e.calculateBitsNeeded=function(e,t,n,i){return t.getSize()+e.getCharacterCountBits(i)+n.getSize()},e.getAlphanumericCode=function(t){return t<e.ALPHANUMERIC_TABLE.length?e.ALPHANUMERIC_TABLE[t]:-1},e.chooseMode=function(t,n){if(void 0===n&&(n=null),R.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(t))return en.KANJI;for(var i=!1,o=!1,r=0,s=t.length;r<s;++r){var a=t.charAt(r);if(e.isDigit(a))i=!0;else{if(-1===this.getAlphanumericCode(a.charCodeAt(0)))return en.BYTE;o=!0}}return o?en.ALPHANUMERIC:i?en.NUMERIC:en.BYTE},e.isOnlyDoubleByteKanji=function(e){var t;try{t=P.encode(e,R.SJIS)}catch(r){return!1}var n=t.length;if(n%2!=0)return!1;for(var i=0;i<n;i+=2){var o=255&t[i];if((o<129||o>159)&&(o<224||o>235))return!1}return!0},e.chooseMaskPattern=function(e,t,n,i){for(var o=Number.MAX_SAFE_INTEGER,r=-1,s=0;s<yi.NUM_MASK_PATTERNS;s++){wi.buildMatrix(e,t,n,s,i);var a=this.calculateMaskPenalty(i);a<o&&(o=a,r=s)}return r},e.chooseVersion=function(t,n){for(var i=1;i<=40;i++){var o=Ht.getVersionForNumber(i);if(e.willFit(t,o,n))return o}throw new xi("Data too big")},e.willFit=function(e,t,n){return t.getTotalCodewords()-t.getECBlocksForLevel(n).getTotalECCodewords()>=(e+7)/8},e.terminateBits=function(e,t){var n=8*e;if(t.getSize()>n)throw new xi("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(var i=0;i<4&&t.getSize()<n;++i)t.appendBit(!1);var o=7&t.getSize();if(o>0)for(i=o;i<8;i++)t.appendBit(!1);var r=e-t.getSizeInBytes();for(i=0;i<r;++i)t.appendBits(0==(1&i)?236:17,8);if(t.getSize()!==n)throw new xi("Bits size does not equal capacity")},e.getNumDataBytesAndNumECBytesForBlockID=function(e,t,n,i,o,r){if(i>=n)throw new xi("Block ID too large");var s=e%n,a=n-s,l=Math.floor(e/n),c=l+1,d=Math.floor(t/n),u=d+1,p=l-d,h=c-u;if(p!==h)throw new xi("EC bytes mismatch");if(n!==a+s)throw new xi("RS blocks mismatch");if(e!==(d+p)*a+(u+h)*s)throw new xi("Total bytes mismatch");i<a?(o[0]=d,r[0]=p):(o[0]=u,r[0]=h)},e.interleaveWithECBytes=function(t,n,i,o){var r,s,a,l;if(t.getSizeInBytes()!==i)throw new xi("Number of bits and data bytes does not match");for(var c=0,d=0,u=0,p=new Array,h=0;h<o;++h){var m=new Int32Array(1),f=new Int32Array(1);e.getNumDataBytesAndNumECBytesForBlockID(n,i,o,h,m,f);var g=m[0],v=new Uint8Array(g);t.toBytes(8*c,v,0,g);var y=e.generateECBytes(v,f[0]);p.push(new Ci(v,y)),d=Math.max(d,g),u=Math.max(u,y.length),c+=m[0]}if(i!==c)throw new xi("Data bytes does not match offset");var b=new _;for(h=0;h<d;++h)try{for(var x=(r=void 0,_i(p)),w=x.next();!w.done;w=x.next())h<(v=w.value.getDataBytes()).length&&b.appendBits(v[h],8)}catch(I){r={error:I}}finally{try{w&&!w.done&&(s=x.return)&&s.call(x)}finally{if(r)throw r.error}}for(h=0;h<u;++h)try{for(var C=(a=void 0,_i(p)),S=C.next();!S.done;S=C.next())h<(y=S.value.getErrorCorrectionBytes()).length&&b.appendBits(y[h],8)}catch(A){a={error:A}}finally{try{S&&!S.done&&(l=C.return)&&l.call(C)}finally{if(a)throw a.error}}if(n!==b.getSizeInBytes())throw new xi("Interleaving error: "+n+" and "+b.getSizeInBytes()+" differ.");return b},e.generateECBytes=function(e,t){for(var n=e.length,i=new Int32Array(n+t),o=0;o<n;o++)i[o]=255&e[o];new mi(de.QR_CODE_FIELD_256).encode(i,t);var r=new Uint8Array(t);for(o=0;o<t;o++)r[o]=i[n+o];return r},e.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},e.appendLengthInfo=function(e,t,n,i){var o=n.getCharacterCountBits(t);if(e>=1<<o)throw new xi(e+" is bigger than "+((1<<o)-1));i.appendBits(e,o)},e.appendBytes=function(t,n,i,o){switch(n){case en.NUMERIC:e.appendNumericBytes(t,i);break;case en.ALPHANUMERIC:e.appendAlphanumericBytes(t,i);break;case en.BYTE:e.append8BitBytes(t,i,o);break;case en.KANJI:e.appendKanjiBytes(t,i);break;default:throw new xi("Invalid mode: "+n)}},e.getDigit=function(e){return e.charCodeAt(0)-48},e.isDigit=function(t){var n=e.getDigit(t);return n>=0&&n<=9},e.appendNumericBytes=function(t,n){for(var i=t.length,o=0;o<i;){var r=e.getDigit(t.charAt(o));if(o+2<i){var s=e.getDigit(t.charAt(o+1)),a=e.getDigit(t.charAt(o+2));n.appendBits(100*r+10*s+a,10),o+=3}else o+1<i?(s=e.getDigit(t.charAt(o+1)),n.appendBits(10*r+s,7),o+=2):(n.appendBits(r,4),o++)}},e.appendAlphanumericBytes=function(t,n){for(var i=t.length,o=0;o<i;){var r=e.getAlphanumericCode(t.charCodeAt(o));if(-1===r)throw new xi;if(o+1<i){var s=e.getAlphanumericCode(t.charCodeAt(o+1));if(-1===s)throw new xi;n.appendBits(45*r+s,11),o+=2}else n.appendBits(r,6),o++}},e.append8BitBytes=function(e,t,n){var i;try{i=P.encode(e,n)}catch(a){throw new xi(a)}for(var o=0,r=i.length;o!==r;o++){var s=i[o];t.appendBits(s,8)}},e.appendKanjiBytes=function(e,t){var n;try{n=P.encode(e,R.SJIS)}catch(l){throw new xi(l)}for(var i=n.length,o=0;o<i;o+=2){var r=(255&n[o])<<8&4294967295|255&n[o+1],s=-1;if(r>=33088&&r<=40956?s=r-33088:r>=57408&&r<=60351&&(s=r-49472),-1===s)throw new xi("Invalid byte sequence");var a=192*(s>>8)+(255&s);t.appendBits(a,13)}},e.appendECI=function(e,t){t.appendBits(en.ECI.getBits(),4),t.appendBits(e.getValue(),8)},e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),e.DEFAULT_BYTE_MODE_ENCODING=R.UTF8.getName(),e}(),Ii=(function(){function e(){}e.prototype.encode=function(t,n,i,o,r){if(0===t.length)throw new d("Found empty contents");if(n!==te.QR_CODE)throw new d("Can only encode QR_CODE, but got "+n);if(i<0||o<0)throw new d("Requested dimensions are too small: "+i+"x"+o);var s=Lt.L,a=e.QUIET_ZONE_SIZE;null!==r&&(void 0!==r.get(hi.ERROR_CORRECTION)&&(s=Lt.fromString(r.get(hi.ERROR_CORRECTION).toString())),void 0!==r.get(hi.MARGIN)&&(a=Number.parseInt(r.get(hi.MARGIN).toString(),10)));var l=Si.encode(t,s,r);return e.renderResult(l,i,o,a)},e.renderResult=function(e,t,n,i){var o=e.getMatrix();if(null===o)throw new me;for(var r=o.getWidth(),s=o.getHeight(),a=r+2*i,l=s+2*i,c=Math.max(t,a),d=Math.max(n,l),u=Math.min(Math.floor(c/a),Math.floor(d/l)),p=Math.floor((c-r*u)/2),h=Math.floor((d-s*u)/2),m=new N(c,d),f=0,g=h;f<s;f++,g+=u)for(var v=0,y=p;v<r;v++,y+=u)1===o.get(v,f)&&m.setRegion(y,g,u,u);return m},e.QUIET_ZONE_SIZE=4}(),(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Ai=(function(e){function t(t,n,i,o,r,s,a,l){var c=e.call(this,s,a)||this;if(c.yuvData=t,c.dataWidth=n,c.dataHeight=i,c.left=o,c.top=r,o+s>n||r+a>i)throw new d("Crop rectangle does not fit within image data.");return l&&c.reverseHorizontal(s,a),c}Ii(t,e),t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);var n=this.getWidth();(null==t||t.length<n)&&(t=new Uint8ClampedArray(n));var i=(e+this.top)*this.dataWidth+this.left;return f.arraycopy(this.yuvData,i,t,0,n),t},t.prototype.getMatrix=function(){var e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;var n=e*t,i=new Uint8ClampedArray(n),o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return f.arraycopy(this.yuvData,o,i,0,n),i;for(var r=0;r<t;r++){var s=r*e;f.arraycopy(this.yuvData,o,i,s,e),o+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,n,i,o){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,i,o,!1)},t.prototype.renderThumbnail=function(){for(var e=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(e*n),o=this.yuvData,r=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var a=s*e,l=0;l<e;l++){var c=255&o[r+l*t.THUMBNAIL_SCALE_FACTOR];i[a+l]=4278190080|65793*c}r+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return i},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(e,t){for(var n=this.yuvData,i=0,o=this.top*this.dataWidth+this.left;i<t;i++,o+=this.dataWidth)for(var r=o+e/2,s=o,a=o+e-1;s<r;s++,a--){var l=n[s];n[s]=n[a],n[a]=l}},t.prototype.invert=function(){return new H(this)},t.THUMBNAIL_SCALE_FACTOR=2}($),(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Ei=(function(e){function t(t,n,i,o,r,s,a){var l=e.call(this,n,i)||this;if(l.dataWidth=o,l.dataHeight=r,l.left=s,l.top=a,4===t.BYTES_PER_ELEMENT){for(var c=n*i,u=new Uint8ClampedArray(c),p=0;p<c;p++){var h=t[p],m=h>>16&255,f=h>>7&510,g=255&h;u[p]=(m+f+g)/4&255}l.luminances=u}else l.luminances=t;if(void 0===o&&(l.dataWidth=n),void 0===r&&(l.dataHeight=i),void 0===s&&(l.left=0),void 0===a&&(l.top=0),l.left+n>l.dataWidth||l.top+i>l.dataHeight)throw new d("Crop rectangle does not fit within image data.");return l}Ai(t,e),t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);var n=this.getWidth();(null==t||t.length<n)&&(t=new Uint8ClampedArray(n));var i=(e+this.top)*this.dataWidth+this.left;return f.arraycopy(this.luminances,i,t,0,n),t},t.prototype.getMatrix=function(){var e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;var n=e*t,i=new Uint8ClampedArray(n),o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return f.arraycopy(this.luminances,o,i,0,n),i;for(var r=0;r<t;r++){var s=r*e;f.arraycopy(this.luminances,o,i,s,e),o+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,n,i,o){return new t(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+e,this.top+n)},t.prototype.invert=function(){return new H(this)}}($),(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Di=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ei(t,e),t.forName=function(e){return this.getCharacterSetECIByName(e)},t}(R),Ti=function(){function e(){}return e.ISO_8859_1=R.ISO8859_1,e}(),Ri=function(){function e(){}return e.prototype.isCompact=function(){return this.compact},e.prototype.setCompact=function(e){this.compact=e},e.prototype.getSize=function(){return this.size},e.prototype.setSize=function(e){this.size=e},e.prototype.getLayers=function(){return this.layers},e.prototype.setLayers=function(e){this.layers=e},e.prototype.getCodeWords=function(){return this.codeWords},e.prototype.setCodeWords=function(e){this.codeWords=e},e.prototype.getMatrix=function(){return this.matrix},e.prototype.setMatrix=function(e){this.matrix=e},e}(),Mi=function(){function e(){}return e.singletonList=function(e){return[e]},e.min=function(e,t){return e.sort(t)[0]},e}(),Oi=function(){function e(e){this.previous=e}return e.prototype.getPrevious=function(){return this.previous},e}(),Pi=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fi=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.value=n,o.bitCount=i,o}return Pi(t,e),t.prototype.appendTo=function(e,t){e.appendBits(this.value,this.bitCount)},t.prototype.add=function(e,n){return new t(this,e,n)},t.prototype.addBinaryShift=function(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,e,n)},t.prototype.toString=function(){var e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+g.toBinaryString(e|1<<this.bitCount).substring(1)+">"},t}(Oi),ki=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ni=function(e){function t(t,n,i){var o=e.call(this,t,0,0)||this;return o.binaryShiftStart=n,o.binaryShiftByteCount=i,o}return ki(t,e),t.prototype.appendTo=function(e,t){for(var n=0;n<this.binaryShiftByteCount;n++)(0===n||31===n&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):0===n?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+n],8)},t.prototype.addBinaryShift=function(e,n){return new t(this,e,n)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t}(Fi);function ji(e,t,n){return new Fi(e,t,n)}var Li=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Vi=new Fi(null,0,0),Bi=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],Gi=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zi=function(e){var t,n;try{for(var i=Gi(e),o=i.next();!o.done;o=i.next()){var r=o.value;C.fill(r,-1)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return e[0][4]=0,e[1][4]=0,e[1][0]=28,e[3][4]=0,e[2][4]=0,e[2][0]=15,e}(C.createInt32Array(6,6)),$i=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ui=function(){function e(e,t,n,i){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=i}return e.prototype.getMode=function(){return this.mode},e.prototype.getToken=function(){return this.token},e.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},e.prototype.getBitCount=function(){return this.bitCount},e.prototype.latchAndAppend=function(t,n){var i=this.bitCount,o=this.token;if(t!==this.mode){var r=Bi[this.mode][t];o=ji(o,65535&r,r>>16),i+=r>>16}var s=2===t?4:5;return new e(o=ji(o,n,s),t,0,i+s)},e.prototype.shiftAndAppend=function(t,n){var i=this.token,o=2===this.mode?4:5;return i=ji(i,zi[this.mode][t],o),new e(i=ji(i,n,5),this.mode,0,this.bitCount+o+5)},e.prototype.addBinaryShiftChar=function(t){var n=this.token,i=this.mode,o=this.bitCount;if(4===this.mode||2===this.mode){var r=Bi[i][0];n=ji(n,65535&r,r>>16),o+=r>>16,i=0}var s=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,a=new e(n,i,this.binaryShiftByteCount+1,o+s);return 2078===a.binaryShiftByteCount&&(a=a.endBinaryShift(t+1)),a},e.prototype.endBinaryShift=function(t){if(0===this.binaryShiftByteCount)return this;var n=this.token;return new e(n=function(e,t,n){return new Ni(e,t,n)}(n,t-this.binaryShiftByteCount,this.binaryShiftByteCount),this.mode,0,this.bitCount)},e.prototype.isBetterThanOrEqualTo=function(t){var n=this.bitCount+(Bi[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?n+=e.calculateBinaryShiftCost(t)-e.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(n+=10),n<=t.bitCount},e.prototype.toBitArray=function(e){for(var t,n,i=[],o=this.endBinaryShift(e.length).token;null!==o;o=o.getPrevious())i.unshift(o);var r=new _;try{for(var s=$i(i),a=s.next();!a.done;a=s.next())a.value.appendTo(r,e)}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return r},e.prototype.toString=function(){return F.format("%s bits=%d bytes=%d",Li[this.mode],this.bitCount,this.binaryShiftByteCount)},e.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},e.INITIAL_STATE=new e(Vi,0,0,0),e}(),Hi=function(e){var t=F.getCharCode(" "),n=F.getCharCode("."),i=F.getCharCode(",");e[0][t]=1;for(var o=F.getCharCode("Z"),r=F.getCharCode("A"),s=r;s<=o;s++)e[0][s]=s-r+2;e[1][t]=1;var a=F.getCharCode("z"),l=F.getCharCode("a");for(s=l;s<=a;s++)e[1][s]=s-l+2;e[2][t]=1;var c=F.getCharCode("9"),d=F.getCharCode("0");for(s=d;s<=c;s++)e[2][s]=s-d+2;e[2][i]=12,e[2][n]=13;for(var u=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"],p=0;p<u.length;p++)e[3][F.getCharCode(u[p])]=p;var h=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(p=0;p<h.length;p++)F.getCharCode(h[p])>0&&(e[4][F.getCharCode(h[p])]=p);return e}(C.createInt32Array(5,256)),Xi=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Wi=function(){function e(e){this.text=e}return e.prototype.encode=function(){for(var t=F.getCharCode(" "),n=F.getCharCode("\n"),i=Mi.singletonList(Ui.INITIAL_STATE),o=0;o<this.text.length;o++){var r=void 0,s=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case F.getCharCode("\r"):r=s===n?2:0;break;case F.getCharCode("."):r=s===t?3:0;break;case F.getCharCode(","):r=s===t?4:0;break;case F.getCharCode(":"):r=s===t?5:0;break;default:r=0}r>0?(i=e.updateStateListForPair(i,o,r),o++):i=this.updateStateListForChar(i,o)}return Mi.min(i,function(e,t){return e.getBitCount()-t.getBitCount()}).toBitArray(this.text)},e.prototype.updateStateListForChar=function(t,n){var i,o,r=[];try{for(var s=Xi(t),a=s.next();!a.done;a=s.next()){var l=a.value;this.updateStateForChar(l,n,r)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return e.simplifyStates(r)},e.prototype.updateStateForChar=function(e,t,n){for(var i=255&this.text[t],o=Hi[e.getMode()][i]>0,r=null,s=0;s<=4;s++){var a=Hi[s][i];if(a>0){if(null==r&&(r=e.endBinaryShift(t)),!o||s===e.getMode()||2===s){var l=r.latchAndAppend(s,a);n.push(l)}if(!o&&zi[e.getMode()][s]>=0){var c=r.shiftAndAppend(s,a);n.push(c)}}}if(e.getBinaryShiftByteCount()>0||0===Hi[e.getMode()][i]){var d=e.addBinaryShiftChar(t);n.push(d)}},e.updateStateListForPair=function(e,t,n){var i,o,r=[];try{for(var s=Xi(e),a=s.next();!a.done;a=s.next()){var l=a.value;this.updateStateForPair(l,t,n,r)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(r)},e.updateStateForPair=function(e,t,n,i){var o=e.endBinaryShift(t);if(i.push(o.latchAndAppend(4,n)),4!==e.getMode()&&i.push(o.shiftAndAppend(4,n)),3===n||4===n){var r=o.latchAndAppend(2,16-n).latchAndAppend(2,1);i.push(r)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(s)}},e.simplifyStates=function(e){var t,n,i,o,r=[];try{for(var s=Xi(e),a=s.next();!a.done;a=s.next()){var l=a.value,c=!0,d=function(e){if(e.isBetterThanOrEqualTo(l))return c=!1,"break";l.isBetterThanOrEqualTo(e)&&(r=r.filter(function(t){return t!==e}))};try{for(var u=(i=void 0,Xi(r)),p=u.next();!p.done&&"break"!==d(p.value);p=u.next());}catch(h){i={error:h}}finally{try{p&&!p.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}c&&r.push(l)}}catch(m){t={error:m}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return r},e}(),qi=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Yi=function(){function e(){}return e.encodeBytes=function(t){return e.encode(t,e.DEFAULT_EC_PERCENT,e.DEFAULT_AZTEC_LAYERS)},e.encode=function(t,n,i){var o,r,s,a,l,c=new Wi(t).encode(),u=g.truncDivision(c.getSize()*n,100)+11,p=c.getSize()+u;if(i!==e.DEFAULT_AZTEC_LAYERS){if(o=i<0,(r=Math.abs(i))>(o?e.MAX_NB_BITS_COMPACT:e.MAX_NB_BITS))throw new d(F.format("Illegal value %s for layers",i));var h=(s=e.totalBitsInLayer(r,o))-s%(a=e.WORD_SIZE[r]);if((l=e.stuffBits(c,a)).getSize()+u>h)throw new d("Data to large for user specified layer");if(o&&l.getSize()>64*a)throw new d("Data to large for user specified layer")}else{a=0,l=null;for(var m=0;;m++){if(m>e.MAX_NB_BITS)throw new d("Data too large for an Aztec code");if(!(r=(o=m<=3)?m+1:m,p>(s=e.totalBitsInLayer(r,o))||(null!=l&&a===e.WORD_SIZE[r]||(a=e.WORD_SIZE[r],l=e.stuffBits(c,a)),h=s-s%a,o&&l.getSize()>64*a||!(l.getSize()+u<=h))))break}}var f,v=e.generateCheckWords(l,s,a),y=l.getSize()/a,b=e.generateModeMessage(o,r,y),x=(o?11:14)+4*r,w=new Int32Array(x);if(o)for(f=x,m=0;m<w.length;m++)w[m]=m;else{f=x+1+2*g.truncDivision(g.truncDivision(x,2)-1,15);var C=g.truncDivision(x,2),_=g.truncDivision(f,2);for(m=0;m<C;m++){var S=m+g.truncDivision(m,15);w[C-m-1]=_-S-1,w[C+m]=_+S+1}}for(var I=new N(f),A=(m=0,0);m<r;m++){for(var E=4*(r-m)+(o?9:12),D=0;D<E;D++)for(var T=2*D,R=0;R<2;R++)v.get(A+T+R)&&I.set(w[2*m+R],w[2*m+D]),v.get(A+2*E+T+R)&&I.set(w[2*m+D],w[x-1-2*m-R]),v.get(A+4*E+T+R)&&I.set(w[x-1-2*m-R],w[x-1-2*m-D]),v.get(A+6*E+T+R)&&I.set(w[x-1-2*m-D],w[2*m+R]);A+=8*E}if(e.drawModeMessage(I,o,f,b),o)e.drawBullsEye(I,g.truncDivision(f,2),5);else for(e.drawBullsEye(I,g.truncDivision(f,2),7),m=0,D=0;m<g.truncDivision(x,2)-1;m+=15,D+=16)for(R=1&g.truncDivision(f,2);R<f;R+=2)I.set(g.truncDivision(f,2)-D,R),I.set(g.truncDivision(f,2)+D,R),I.set(R,g.truncDivision(f,2)-D),I.set(R,g.truncDivision(f,2)+D);var M=new Ri;return M.setCompact(o),M.setSize(f),M.setLayers(r),M.setCodeWords(y),M.setMatrix(I),M},e.drawBullsEye=function(e,t,n){for(var i=0;i<n;i+=2)for(var o=t-i;o<=t+i;o++)e.set(o,t-i),e.set(o,t+i),e.set(t-i,o),e.set(t+i,o);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)},e.generateModeMessage=function(t,n,i){var o=new _;return t?(o.appendBits(n-1,2),o.appendBits(i-1,6),o=e.generateCheckWords(o,28,4)):(o.appendBits(n-1,5),o.appendBits(i-1,11),o=e.generateCheckWords(o,40,4)),o},e.drawModeMessage=function(e,t,n,i){var o=g.truncDivision(n,2);if(t)for(var r=0;r<7;r++){var s=o-3+r;i.get(r)&&e.set(s,o-5),i.get(r+7)&&e.set(o+5,s),i.get(20-r)&&e.set(s,o+5),i.get(27-r)&&e.set(o-5,s)}else for(r=0;r<10;r++)s=o-5+r+g.truncDivision(r,5),i.get(r)&&e.set(s,o-7),i.get(r+10)&&e.set(o+7,s),i.get(29-r)&&e.set(s,o+7),i.get(39-r)&&e.set(o-7,s)},e.generateCheckWords=function(t,n,i){var o,r,s=t.getSize()/i,a=new mi(e.getGF(i)),l=g.truncDivision(n,i),c=e.bitsToWords(t,i,l);a.encode(c,l-s);var d=n%i,u=new _;u.appendBits(0,d);try{for(var p=qi(Array.from(c)),h=p.next();!h.done;h=p.next()){var m=h.value;u.appendBits(m,i)}}catch(f){o={error:f}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(o)throw o.error}}return u},e.bitsToWords=function(e,t,n){var i,o,r=new Int32Array(n);for(i=0,o=e.getSize()/t;i<o;i++){for(var s=0,a=0;a<t;a++)s|=e.get(i*t+a)?1<<t-a-1:0;r[i]=s}return r},e.getGF=function(e){switch(e){case 4:return de.AZTEC_PARAM;case 6:return de.AZTEC_DATA_6;case 8:return de.AZTEC_DATA_8;case 10:return de.AZTEC_DATA_10;case 12:return de.AZTEC_DATA_12;default:throw new d("Unsupported word size "+e)}},e.stuffBits=function(e,t){for(var n=new _,i=e.getSize(),o=(1<<t)-2,r=0;r<i;r+=t){for(var s=0,a=0;a<t;a++)(r+a>=i||e.get(r+a))&&(s|=1<<t-1-a);(s&o)===o?(n.appendBits(s&o,t),r--):0==(s&o)?(n.appendBits(1|s,t),r--):n.appendBits(s,t)}return n},e.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},e.DEFAULT_EC_PERCENT=33,e.DEFAULT_AZTEC_LAYERS=0,e.MAX_NB_BITS=32,e.MAX_NB_BITS_COMPACT=4,e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),e}(),Qi=(function(){function e(){}e.prototype.encode=function(e,t,n,i){return this.encodeWithHints(e,t,n,i,null)},e.prototype.encodeWithHints=function(t,n,i,o,r){var s=Ti.ISO_8859_1,a=Yi.DEFAULT_EC_PERCENT,l=Yi.DEFAULT_AZTEC_LAYERS;return null!=r&&(r.has(hi.CHARACTER_SET)&&(s=Di.forName(r.get(hi.CHARACTER_SET).toString())),r.has(hi.ERROR_CORRECTION)&&(a=g.parseInt(r.get(hi.ERROR_CORRECTION).toString())),r.has(hi.AZTEC_LAYERS)&&(l=g.parseInt(r.get(hi.AZTEC_LAYERS).toString()))),e.encodeLayers(t,n,i,o,s,a,l)},e.encodeLayers=function(t,n,i,o,r,s,a){if(n!==te.AZTEC)throw new d("Can only encode AZTEC, but got "+n);var l=Yi.encode(F.getBytes(t,r),s,a);return e.renderResult(l,i,o)},e.renderResult=function(e,t,n){var i=e.getMatrix();if(null==i)throw new me;for(var o=i.getWidth(),r=i.getHeight(),s=Math.max(t,o),a=Math.max(n,r),l=Math.min(s/o,a/r),c=(s-o*l)/2,d=(a-r*l)/2,u=new N(s,a),p=0,h=d;p<r;p++,h+=l)for(var m=0,f=c;m<o;m++,f+=l)i.get(m,p)&&u.setRegion(f,h,l,l);return u}}(),function(){function e(e){this.newPosition=e}return e.prototype.getNewPosition=function(){return this.newPosition},e}()),Zi=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ki=function(e){function t(t,n){var i=e.call(this,t)||this;return i.value=n,i}return Zi(t,e),t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t}(Qi),Ji=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),eo=function(e){function t(t,n,i){var o=e.call(this,t)||this;if(n<0||n>10||i<0||i>10)throw new E;return o.firstDigit=n,o.secondDigit=i,o}return Ji(t,e),t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit==t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit==t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t}(Qi),to=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),no=function(e){function t(t,n,i){var o=e.call(this,t)||this;return i?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=n,o}return to(t,e),t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t}(Qi),io=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},oo=function(){function e(){}return e.parseFieldsInGeneralPurpose=function(t){var n,i,o,r,s,a,l,c;if(!t)return null;if(t.length<2)throw new L;var d=t.substring(0,2);try{for(var u=io(e.TWO_DIGIT_DATA_LENGTH),p=u.next();!p.done;p=u.next())if((w=p.value)[0]===d)return w[1]===e.VARIABLE_LENGTH?e.processVariableAI(2,w[2],t):e.processFixedAI(2,w[1],t)}catch(C){n={error:C}}finally{try{p&&!p.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}if(t.length<3)throw new L;var h=t.substring(0,3);try{for(var m=io(e.THREE_DIGIT_DATA_LENGTH),f=m.next();!f.done;f=m.next())if((w=f.value)[0]===h)return w[1]===e.VARIABLE_LENGTH?e.processVariableAI(3,w[2],t):e.processFixedAI(3,w[1],t)}catch(_){o={error:_}}finally{try{f&&!f.done&&(r=m.return)&&r.call(m)}finally{if(o)throw o.error}}try{for(var g=io(e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),v=g.next();!v.done;v=g.next())if((w=v.value)[0]===h)return w[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,w[2],t):e.processFixedAI(4,w[1],t)}catch(S){s={error:S}}finally{try{v&&!v.done&&(a=g.return)&&a.call(g)}finally{if(s)throw s.error}}if(t.length<4)throw new L;var y=t.substring(0,4);try{for(var b=io(e.FOUR_DIGIT_DATA_LENGTH),x=b.next();!x.done;x=b.next()){var w;if((w=x.value)[0]===y)return w[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,w[2],t):e.processFixedAI(4,w[1],t)}}catch(I){l={error:I}}finally{try{x&&!x.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}throw new L},e.processFixedAI=function(t,n,i){if(i.length<t)throw new L;var o=i.substring(0,t);if(i.length<t+n)throw new L;var r=i.substring(t,t+n),s=i.substring(t+n),a="("+o+")"+r,l=e.parseFieldsInGeneralPurpose(s);return null==l?a:a+l},e.processVariableAI=function(t,n,i){var o,r=i.substring(0,t);o=i.length<t+n?i.length:t+n;var s=i.substring(t,o),a=i.substring(o),l="("+r+")"+s,c=e.parseFieldsInGeneralPurpose(a);return null==c?l:l+c},e.VARIABLE_LENGTH=[],e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",e.VARIABLE_LENGTH,20],["22",e.VARIABLE_LENGTH,29],["30",e.VARIABLE_LENGTH,8],["37",e.VARIABLE_LENGTH,8],["90",e.VARIABLE_LENGTH,30],["91",e.VARIABLE_LENGTH,30],["92",e.VARIABLE_LENGTH,30],["93",e.VARIABLE_LENGTH,30],["94",e.VARIABLE_LENGTH,30],["95",e.VARIABLE_LENGTH,30],["96",e.VARIABLE_LENGTH,30],["97",e.VARIABLE_LENGTH,3],["98",e.VARIABLE_LENGTH,30],["99",e.VARIABLE_LENGTH,30]],e.THREE_DIGIT_DATA_LENGTH=[["240",e.VARIABLE_LENGTH,30],["241",e.VARIABLE_LENGTH,30],["242",e.VARIABLE_LENGTH,6],["250",e.VARIABLE_LENGTH,30],["251",e.VARIABLE_LENGTH,30],["253",e.VARIABLE_LENGTH,17],["254",e.VARIABLE_LENGTH,20],["400",e.VARIABLE_LENGTH,30],["401",e.VARIABLE_LENGTH,30],["402",17],["403",e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",e.VARIABLE_LENGTH,20],["421",e.VARIABLE_LENGTH,15],["422",3],["423",e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",e.VARIABLE_LENGTH,15],["391",e.VARIABLE_LENGTH,18],["392",e.VARIABLE_LENGTH,15],["393",e.VARIABLE_LENGTH,18],["703",e.VARIABLE_LENGTH,30]],e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",e.VARIABLE_LENGTH,20],["8003",e.VARIABLE_LENGTH,30],["8004",e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",e.VARIABLE_LENGTH,30],["8008",e.VARIABLE_LENGTH,12],["8018",18],["8020",e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",e.VARIABLE_LENGTH,70],["8200",e.VARIABLE_LENGTH,70]],e}(),ro=function(){function e(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return e.prototype.getDecodedInformation=function(){return this.decodedInformation},e.prototype.isFinished=function(){return this.finished},e}(),so=function(){function e(e){this.buffer=new k,this.information=e}return e.prototype.decodeAllCodes=function(e,t){for(var n=t,i=null;;){var o=this.decodeGeneralPurposeField(n,i),r=oo.parseFieldsInGeneralPurpose(o.getNewString());if(null!=r&&e.append(r),i=o.isRemaining()?""+o.getRemainingValue():null,n==o.getNewPosition())break;n=o.getNewPosition()}return e.toString()},e.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},e.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return new eo(this.information.getSize(),0==t?eo.FNC1:t-1,eo.FNC1)}var n=this.extractNumericValueFromBitArray(e,7);return new eo(e+7,(n-8)/11,(n-8)%11)},e.prototype.extractNumericValueFromBitArray=function(t,n){return e.extractNumericValueFromBitArray(this.information,t,n)},e.extractNumericValueFromBitArray=function(e,t,n){for(var i=0,o=0;o<n;++o)e.get(t+o)&&(i|=1<<n-o-1);return i},e.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),null!=t&&this.buffer.append(t),this.current.setPosition(e);var n=this.parseBlocks();return null!=n&&n.isRemaining()?new no(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new no(this.current.getPosition(),this.buffer.toString())},e.prototype.parseBlocks=function(){var e,t;do{var n=this.current.getPosition();if(e=this.current.isAlpha()?(t=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(t=this.parseIsoIec646Block()).isFinished():(t=this.parseNumericBlock()).isFinished(),n==this.current.getPosition()&&!e)break}while(!e);return t.getDecodedInformation()},e.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return t=e.isSecondDigitFNC1()?new no(this.current.getPosition(),this.buffer.toString()):new no(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new ro(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1())return t=new no(this.current.getPosition(),this.buffer.toString()),new ro(!0,t);this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ro(!1)},e.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new no(this.current.getPosition(),this.buffer.toString());return new ro(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ro(!1)},e.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new no(this.current.getPosition(),this.buffer.toString());return new ro(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ro(!1)},e.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},e.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(15==t)return new Ki(e+5,Ki.FNC1);if(t>=5&&t<15)return new Ki(e+5,"0"+(t-5));var n,i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<90)return new Ki(e+7,""+(i+1));if(i>=90&&i<116)return new Ki(e+7,""+(i+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:n="!";break;case 233:n='"';break;case 234:n="%";break;case 235:n="&";break;case 236:n="'";break;case 237:n="(";break;case 238:n=")";break;case 239:n="*";break;case 240:n="+";break;case 241:n=",";break;case 242:n="-";break;case 243:n=".";break;case 244:n="/";break;case 245:n=":";break;case 246:n=";";break;case 247:n="<";break;case 248:n="=";break;case 249:n=">";break;case 250:n="?";break;case 251:n="_";break;case 252:n=" ";break;default:throw new E}return new Ki(e+8,n)},e.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},e.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(15==t)return new Ki(e+5,Ki.FNC1);if(t>=5&&t<15)return new Ki(e+5,"0"+(t-5));var n,i=this.extractNumericValueFromBitArray(e,6);if(i>=32&&i<58)return new Ki(e+6,""+(i+33));switch(i){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new me("Decoding invalid alphanumeric value: "+i)}return new Ki(e+6,n)},e.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(2==t){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},e.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},e.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},e}(),ao=function(){function e(e){this.information=e,this.generalDecoder=new so(e)}return e.prototype.getInformation=function(){return this.information},e.prototype.getGeneralDecoder=function(){return this.generalDecoder},e}(),lo=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),co=function(e){function t(t){return e.call(this,t)||this}return lo(t,e),t.prototype.encodeCompressedGtin=function(e,t){e.append("(01)");var n=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,n)},t.prototype.encodeCompressedGtinWithoutAI=function(e,n,i){for(var o=0;o<4;++o){var r=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r)}t.appendCheckDigit(e,i)},t.appendCheckDigit=function(e,t){for(var n=0,i=0;i<13;i++){var o=e.charAt(i+t).charCodeAt(0)-"0".charCodeAt(0);n+=0==(1&i)?3*o:o}10==(n=10-n%10)&&(n=0),e.append(n)},t.GTIN_SIZE=40,t}(ao),uo=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),po=function(e){function t(t){return e.call(this,t)||this}return uo(t,e),t.prototype.parseInformation=function(){var e=new k;e.append("(01)");var n=e.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return e.append(i),this.encodeCompressedGtinWithoutAI(e,t.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t}(co),ho=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mo=function(e){function t(t){return e.call(this,t)||this}return ho(t,e),t.prototype.parseInformation=function(){var e=new k;return this.getGeneralDecoder().decodeAllCodes(e,t.HEADER_SIZE)},t.HEADER_SIZE=5,t}(ao),fo=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),go=function(e){function t(t){return e.call(this,t)||this}return fo(t,e),t.prototype.encodeCompressedWeight=function(e,t,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(t,n);this.addWeightCode(e,i);for(var o=this.checkWeight(i),r=1e5,s=0;s<5;++s)o/r==0&&e.append("0"),r/=10;e.append(o)},t}(co),vo=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yo=function(e){function t(t){return e.call(this,t)||this}return vo(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()!=t.HEADER_SIZE+go.GTIN_SIZE+t.WEIGHT_SIZE)throw new L;var e=new k;return this.encodeCompressedGtin(e,t.HEADER_SIZE),this.encodeCompressedWeight(e,t.HEADER_SIZE+go.GTIN_SIZE,t.WEIGHT_SIZE),e.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t}(go),bo=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xo=function(e){function t(t){return e.call(this,t)||this}return bo(t,e),t.prototype.addWeightCode=function(e,t){e.append("(3103)")},t.prototype.checkWeight=function(e){return e},t}(yo),wo=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Co=function(e){function t(t){return e.call(this,t)||this}return wo(t,e),t.prototype.addWeightCode=function(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")},t.prototype.checkWeight=function(e){return e<1e4?e:e-1e4},t}(yo),_o=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),So=function(e){function t(t){return e.call(this,t)||this}return _o(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+co.GTIN_SIZE)throw new L;var e=new k;this.encodeCompressedGtin(e,t.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+co.GTIN_SIZE,t.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+co.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return e.append(i.getNewString()),e.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t}(co),Io=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ao=function(e){function t(t){return e.call(this,t)||this}return Io(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+co.GTIN_SIZE)throw new L;var e=new k;this.encodeCompressedGtin(e,t.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+co.GTIN_SIZE,t.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+co.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);i/100==0&&e.append("0"),i/10==0&&e.append("0"),e.append(i);var o=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+co.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return e.append(o.getNewString()),e.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t}(co),Eo=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Do=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.dateCode=i,o.firstAIdigits=n,o}return Eo(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()!=t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new L;var e=new k;return this.encodeCompressedGtin(e,t.HEADER_SIZE),this.encodeCompressedWeight(e,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(e,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),e.toString()},t.prototype.encodeCompressedDate=function(e,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,t.DATE_SIZE);if(38400!=i){e.append("("),e.append(this.dateCode),e.append(")");var o=i%32,r=(i/=32)%12+1,s=i/=12;s/10==0&&e.append("0"),e.append(s),r/10==0&&e.append("0"),e.append(r),o/10==0&&e.append("0"),e.append(o)}},t.prototype.addWeightCode=function(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")},t.prototype.checkWeight=function(e){return e%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t}(go),To=function(){function e(e,t,n,i){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=i}return e.prototype.mayBeLast=function(){return this.maybeLast},e.prototype.getLeftChar=function(){return this.leftchar},e.prototype.getRightChar=function(){return this.rightchar},e.prototype.getFinderPattern=function(){return this.finderpattern},e.prototype.mustBeLast=function(){return null==this.rightchar},e.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},e.equals=function(t,n){return t instanceof e&&e.equalsOrNull(t.leftchar,n.leftchar)&&e.equalsOrNull(t.rightchar,n.rightchar)&&e.equalsOrNull(t.finderpattern,n.finderpattern)},e.equalsOrNull=function(t,n){return null===t?null===n:e.equals(t,n)},e.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},e.hashNotNull=function(e){return null===e?0:e.hashCode()},e}(),Ro=function(){function e(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}return e.prototype.getPairs=function(){return this.pairs},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.isReversed=function(){return this.wasReversed},e.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},e.prototype.toString=function(){return"{ "+this.pairs+" }"},e.prototype.equals=function(t,n){return t instanceof e&&this.checkEqualitity(t,n)&&t.wasReversed===n.wasReversed},e.prototype.checkEqualitity=function(e,t){var n;if(e&&t)return e.forEach(function(e,i){t.forEach(function(t){e.getLeftChar().getValue()===t.getLeftChar().getValue()&&e.getRightChar().getValue()===t.getRightChar().getValue()&&e.getFinderPatter().getValue()===t.getFinderPatter().getValue()&&(n=!0)})}),n},e}(),Mo=function(){function e(){}return e.buildBitArray=function(e){var t=2*e.length-1;null==e[e.length-1].getRightChar()&&(t-=1);for(var n=new _(12*t),i=0,o=e[0].getRightChar().getValue(),r=11;r>=0;--r)0!=(o&1<<r)&&n.set(i),i++;for(r=1;r<e.length;++r){for(var s=e[r],a=s.getLeftChar().getValue(),l=11;l>=0;--l)0!=(a&1<<l)&&n.set(i),i++;if(null!=s.getRightChar()){var c=s.getRightChar().getValue();for(l=11;l>=0;--l)0!=(c&1<<l)&&n.set(i),i++}}return n},e}(),Oo=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__extends:void 0)||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Po=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__values:void 0)||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.pairs=new Array(t.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}Oo(t,e),t.prototype.decodeRow=function(e,n,i){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(e,n))}catch(o){console.log(o)}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(e,n))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(e,t){for(var n,i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(L){if(!this.pairs.length)throw new L;i=!0}if(this.checkChecksum())return this.pairs;if(n=!!this.rows.length,this.storeRow(e,!1),n){var o=this.checkRowsBoolean(!1);if(null!=o)return o;if(null!=(o=this.checkRowsBoolean(!0)))return o}throw new L},t.prototype.checkRowsBoolean=function(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());var t=null;try{t=this.checkRows(new Array,0)}catch(n){console.log(n)}return e&&(this.rows=this.rows.reverse()),t},t.prototype.checkRows=function(e,n){for(var i,o,r=n;r<this.rows.length;r++){var s=this.rows[r];this.pairs.length=0;try{for(var a=(i=void 0,Po(e)),l=a.next();!l.done;l=a.next()){var c=l.value;this.pairs.push(c.getPairs())}}catch(u){i={error:u}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var d=new Array(e);d.push(s);try{return this.checkRows(d,r+1)}catch(p){console.log(p)}}}throw new L},t.isValidSequence=function(e){var n,i;try{for(var o=Po(t.FINDER_PATTERN_SEQUENCES),r=o.next();!r.done;r=o.next()){var s=r.value;if(!(e.length>s.length)){for(var a=!0,l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!=s[l]){a=!1;break}if(a)return!0}}}catch(c){n={error:c}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return!1},t.prototype.storeRow=function(e,n){for(var i=0,o=!1,r=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>e){r=s.isEquivalent(this.pairs);break}o=s.isEquivalent(this.pairs),i++}r||o||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Ro(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(e,t){var n,i,o,r,s,a;try{for(var l=Po(t),c=l.next();!c.done;c=l.next()){var d=c.value;if(d.getPairs().length!==e.length)try{for(var u=(o=void 0,Po(d.getPairs())),p=u.next();!p.done;p=u.next()){var h=p.value;try{for(var m=(s=void 0,Po(e)),f=m.next();!f.done;f=m.next()){var g=f.value;if(To.equals(h,g)){!0;break}}}catch(v){s={error:v}}finally{try{f&&!f.done&&(a=m.return)&&a.call(m)}finally{if(s)throw s.error}}}}catch(y){o={error:y}}finally{try{p&&!p.done&&(r=u.return)&&r.call(u)}finally{if(o)throw o.error}}}}catch(b){n={error:b}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}},t.isPartialRow=function(e,t){var n,i,o,r,s,a;try{for(var l=Po(t),c=l.next();!c.done;c=l.next()){var d=c.value,u=!0;try{for(var p=(o=void 0,Po(e)),h=p.next();!h.done;h=p.next()){var m=h.value,f=!1;try{for(var g=(s=void 0,Po(d.getPairs())),v=g.next();!v.done;v=g.next()){var y=v.value;if(m.equals(y)){f=!0;break}}}catch(b){s={error:b}}finally{try{v&&!v.done&&(a=g.return)&&a.call(g)}finally{if(s)throw s.error}}if(!f){u=!1;break}}}catch(x){o={error:x}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(o)throw o.error}}if(u)return!0}}catch(w){n={error:w}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(e){var t=function(e){try{if(e.get(1))return new po(e);if(!e.get(2))return new mo(e);switch(so.extractNumericValueFromBitArray(e,1,4)){case 4:return new xo(e);case 5:return new Co(e)}switch(so.extractNumericValueFromBitArray(e,1,5)){case 12:return new So(e);case 13:return new Ao(e)}switch(so.extractNumericValueFromBitArray(e,1,7)){case 56:return new Do(e,"310","11");case 57:return new Do(e,"320","11");case 58:return new Do(e,"310","13");case 59:return new Do(e,"320","13");case 60:return new Do(e,"310","15");case 61:return new Do(e,"320","15");case 62:return new Do(e,"310","17");case 63:return new Do(e,"320","17")}}catch(t){throw console.log(t),new me("unknown decoder: "+e)}}(Mo.buildBitArray(e)).parseInformation(),n=e[0].getFinderPattern().getResultPoints(),i=e[e.length-1].getFinderPattern().getResultPoints(),o=[n[0],n[1],i[0],i[1]];return new J(t,null,null,o,te.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var e=this.pairs.get(0),t=e.getLeftChar(),n=e.getRightChar();if(null==n)return!1;for(var i=n.getChecksumPortion(),o=2,r=1;r<this.pairs.size();++r){var s=this.pairs.get(r);i+=s.getLeftChar().getChecksumPortion(),o++;var a=s.getRightChar();null!=a&&(i+=a.getChecksumPortion(),o++)}return 211*(o-4)+(i%=211)==t.getValue()},t.getNextSecondBar=function(e,t){var n;return e.get(t)?(n=e.getNextUnset(t),n=e.getNextSet(n)):(n=e.getNextSet(t),n=e.getNextUnset(n)),n},t.prototype.retrieveNextPair=function(e,n,i){var o,r=n.length%2==0;this.startFromEven&&(r=!r);var s=!0,a=-1;do{this.findNextPair(e,n,a),null==(o=this.parseFoundFinderPattern(e,i,r))?a=t.getNextSecondBar(e,this.startEnd[0]):s=!1}while(s);var l,c=this.decodeDataCharacter(e,o,r,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new L;try{l=this.decodeDataCharacter(e,o,r,!1)}catch(d){l=null,console.log(d)}return new To(c,l,o,!0)},t.prototype.isEmptyPair=function(e){return 0===e.length},t.prototype.findNextPair=function(e,n,i){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var r,s=e.getSize();r=i>=0?i:this.isEmptyPair(n)?0:n[n.length-1].getFinderPattern().getStartEnd()[1];var a=n.length%2!=0;this.startFromEven&&(a=!a);for(var l=!1;r<s&&(l=!e.get(r));)r++;for(var c=0,d=r,u=r;u<s;u++)if(e.get(u)!=l)o[c]++;else{if(3==c){if(a&&t.reverseCounters(o),t.isFinderPattern(o))return this.startEnd[0]=d,void(this.startEnd[1]=u);a&&t.reverseCounters(o),d+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,c--}else c++;o[c]=1,l=!l}throw new L},t.reverseCounters=function(e){for(var t=e.length,n=0;n<t/2;++n){var i=e[n];e[n]=e[t-n-1],e[t-n-1]=i}},t.prototype.parseFoundFinderPattern=function(e,n,i){var o,r,s;if(i){for(var a=this.startEnd[0]-1;a>=0&&!e.get(a);)a--;a++,o=this.startEnd[0]-a,r=a,s=this.startEnd[1]}else r=this.startEnd[0],o=(s=e.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var l,c=this.getDecodeFinderCounters();f.arraycopy(c,0,c,1,c.length-1),c[0]=o;try{l=this.parseFinderValue(c,t.FINDER_PATTERNS)}catch(d){return null}return new Xe(l,[r,s],r,s,n)},t.prototype.decodeDataCharacter=function(e,n,i,o){for(var r=this.getDataCharacterCounters(),s=0;s<r.length;s++)r[s]=0;if(o)t.recordPatternInReverse(e,n.getStartEnd()[0],r);else{t.recordPattern(e,n.getStartEnd()[1],r);for(var a=0,l=r.length-1;a<l;a++,l--){var c=r[a];r[a]=r[l],r[l]=c}}var d=ye.sum(new Int32Array(r))/17,u=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(d-u)/u>.3)throw new L;var p=this.getOddCounts(),h=this.getEvenCounts(),m=this.getOddRoundingErrors(),f=this.getEvenRoundingErrors();for(a=0;a<r.length;a++){var g=1*r[a]/d,v=g+.5;if(v<1){if(g<.3)throw new L;v=1}else if(v>8){if(g>8.7)throw new L;v=8}var y=a/2;0==(1&a)?(p[y]=v,m[y]=g-v):(h[y]=v,f[y]=g-v)}this.adjustOddEvenCounts(17);var b=4*n.getValue()+(i?0:2)+(o?0:1)-1,x=0,w=0;for(a=p.length-1;a>=0;a--){if(t.isNotA1left(n,i,o)){var C=t.WEIGHTS[b][2*a];w+=p[a]*C}x+=p[a]}var _=0;for(a=h.length-1;a>=0;a--)t.isNotA1left(n,i,o)&&(C=t.WEIGHTS[b][2*a+1],_+=h[a]*C);var S=w+_;if(0!=(1&x)||x>13||x<4)throw new L;var I=(13-x)/2,A=t.SYMBOL_WIDEST[I],E=9-A,D=qe.getRSSvalue(p,A,!0),T=qe.getRSSvalue(h,E,!1),R=t.EVEN_TOTAL_SUBSET[I],M=t.GSUM[I];return new $e(D*R+T+M,S)},t.isNotA1left=function(e,t,n){return!(0==e.getValue()&&t&&n)},t.prototype.adjustOddEvenCounts=function(e){var n=ye.sum(new Int32Array(this.getOddCounts())),i=ye.sum(new Int32Array(this.getEvenCounts())),o=!1,r=!1;n>13?r=!0:n<4&&(o=!0);var s=!1,a=!1;i>13?a=!0:i<4&&(s=!0);var l=n+i-e,c=1==(1&n),d=0==(1&i);if(1==l)if(c){if(d)throw new L;r=!0}else{if(!d)throw new L;a=!0}else if(-1==l)if(c){if(d)throw new L;o=!0}else{if(!d)throw new L;s=!0}else{if(0!=l)throw new L;if(c){if(!d)throw new L;n<i?(o=!0,a=!0):(r=!0,s=!0)}else if(d)throw new L}if(o){if(r)throw new L;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(r&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(a)throw new L;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}a&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[[1,8,4,1],[3,6,4,1],[3,4,6,1],[3,2,8,1],[2,6,5,1],[2,2,9,1]],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PAT_A=0,t.FINDER_PAT_B=1,t.FINDER_PAT_C=2,t.FINDER_PAT_D=3,t.FINDER_PAT_E=4,t.FINDER_PAT_F=5,t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C,t.FINDER_PAT_B,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11}(ze);class Fo extends ${constructor(e){super(e.width,e.height),this.canvas=e,this.buffer=Fo.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d");if(!t)throw new Error("Couldn't get canvas context.");const n=t.getImageData(0,0,e.width,e.height);return Fo.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,t,n){const i=new Uint8ClampedArray(t*n);for(let o=0,r=0,s=e.length;o<s;o+=4,r++){let t;t=0===e[o+3]?255:306*e[o]+601*e[o+1]+117*e[o+2]+512>>10,i[r]=t}return i}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const n=this.getWidth(),i=e*n;return null===t?t=this.buffer.slice(i,i+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(i,i+n))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,n,i){return super.crop(e,t,n,i),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}invert(){return new H(this)}getTempCanvasElement(){if(null===this.tempCanvasElement){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement();if(!t)throw new Error("Could not create a Canvas element.");const n=e*Fo.DEGREE_TO_RADIANS,i=this.canvas.width,o=this.canvas.height,r=Math.ceil(Math.abs(Math.cos(n))*i+Math.abs(Math.sin(n))*o),s=Math.ceil(Math.abs(Math.sin(n))*i+Math.abs(Math.cos(n))*o);t.width=r,t.height=s;const a=t.getContext("2d");if(!a)throw new Error("Could not create a Convas Context element.");return a.translate(r/2,s/2),a.rotate(n),a.drawImage(this.canvas,i/-2,o/-2),this.buffer=Fo.makeBufferFromCanvasImageData(t),this}}function ko(){return"undefined"!=typeof navigator}function No(){return!!(ko()&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)}Fo.DEGREE_TO_RADIANS=Math.PI/180;var jo=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((i=i.apply(e,t||[])).next())})};const Lo={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3};class Vo{constructor(e,t=new Map,n={}){this.reader=e,this.hints=t,this.options=Object.assign(Object.assign({},Lo),n)}set possibleFormats(e){this.hints.set(I.POSSIBLE_FORMATS,e)}static addVideoSource(e,t){try{e.srcObject=t}catch(n){e.src=URL.createObjectURL(t)}}static mediaStreamSetTorch(e,t){return jo(this,void 0,void 0,function*(){yield e.applyConstraints({advanced:[{fillLightMode:t?"flash":"off",torch:!!t}]})})}static mediaStreamIsTorchCompatible(e){const t=e.getVideoTracks();for(const n of t)if(Vo.mediaStreamIsTorchCompatibleTrack(n))return!0;return!1}static mediaStreamIsTorchCompatibleTrack(e){try{return"torch"in e.getCapabilities()}catch(t){return console.error(t),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}}static isVideoPlaying(e){return e.currentTime>0&&!e.paused&&e.readyState>2}static getMediaElement(e,t){const n=document.getElementById(e);if(!n)throw new l(`element with id '${e}' not found`);if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new l(`element with id '${e}' must be an ${t} element`);return n}static createVideoElement(e){if(e instanceof HTMLVideoElement)return e;if("string"==typeof e)return Vo.getMediaElement(e,"video");if(!e&&"undefined"!=typeof document){const e=document.createElement("video");return e.width=200,e.height=200,e}throw new Error("Couldn't get videoElement from videoSource!")}static prepareImageElement(e){if(e instanceof HTMLImageElement)return e;if("string"==typeof e)return Vo.getMediaElement(e,"img");if(void 0===e){const e=document.createElement("img");return e.width=200,e.height=200,e}throw new Error("Couldn't get imageElement from imageSource!")}static prepareVideoElement(e){const t=Vo.createVideoElement(e);return t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}static isImageLoaded(e){return!!e.complete&&0!==e.naturalWidth}static createBinaryBitmapFromCanvas(e){const t=new Fo(e),n=new z(t);return new u(n)}static drawImageOnCanvas(e,t){e.drawImage(t,0,0)}static getMediaElementDimensions(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimentions!")}static createCaptureCanvas(e){if(!e)throw new l("Cannot create a capture canvas without a media element.");if("undefined"==typeof document)throw new Error('The page "Document" is undefined, make sure you\'re running in a browser.');const t=document.createElement("canvas"),{width:n,height:i}=Vo.getMediaElementDimensions(e);return t.style.width=n+"px",t.style.height=i+"px",t.width=n,t.height=i,t}static tryPlayVideo(e){return jo(this,void 0,void 0,function*(){if(null==e?void 0:e.ended)return console.error("Trying to play video that has ended."),!1;if(Vo.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),!0;try{return yield e.play(),!0}catch(t){return console.warn("It was not possible to play the video.",t),!1}})}static createCanvasFromMediaElement(e){const t=Vo.createCaptureCanvas(e),n=t.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return Vo.drawImageOnCanvas(n,e),t}static createBinaryBitmapFromMediaElem(e){const t=Vo.createCanvasFromMediaElement(e);return Vo.createBinaryBitmapFromCanvas(t)}static destroyImageElement(e){e.src="",e.removeAttribute("src"),e=void 0}static listVideoInputDevices(){return jo(this,void 0,void 0,function*(){if(!ko())throw new Error("Can't enumerate devices, navigator is not present.");if(!No())throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const n of e){const e="video"===n.kind?"videoinput":n.kind;if("videoinput"!==e)continue;const i={deviceId:n.deviceId||n.id,label:n.label||`Video device ${t.length+1}`,kind:e,groupId:n.groupId};t.push(i)}return t})}static findDeviceById(e){return jo(this,void 0,void 0,function*(){const t=yield Vo.listVideoInputDevices();if(t)return t.find(t=>t.deviceId===e)})}static cleanVideoSource(e){if(e){try{e.srcObject=null}catch(t){e.src=""}e&&e.removeAttribute("src")}}static playVideoOnLoadAsync(e,t){return jo(this,void 0,void 0,function*(){return!!(yield Vo.tryPlayVideo(e))||new Promise((n,i)=>{const o=setTimeout(()=>{Vo.isVideoPlaying(e)||(i(!1),e.removeEventListener("canplay",r))},t),r=()=>{Vo.tryPlayVideo(e).then(t=>{clearTimeout(o),e.removeEventListener("canplay",r),n(t)})};e.addEventListener("canplay",r)})})}static attachStreamToVideo(e,t,n=5e3){return jo(this,void 0,void 0,function*(){const i=Vo.prepareVideoElement(t);return Vo.addVideoSource(i,e),yield Vo.playVideoOnLoadAsync(i,n),i})}static _waitImageLoad(e){return new Promise((t,n)=>{const i=setTimeout(()=>{Vo.isImageLoaded(e)||(e.removeEventListener("load",o),n())},1e4),o=()=>{clearTimeout(i),e.removeEventListener("load",o),t()};e.addEventListener("load",o)})}static checkCallbackFnOrThrow(e){if(!e)throw new l("`callbackFn` is a required parameter, you cannot capture results without it.")}static disposeMediaStream(e){e.getVideoTracks().forEach(e=>e.stop()),e=void 0}decode(e){const t=Vo.createCanvasFromMediaElement(e);return this.decodeFromCanvas(t)}decodeBitmap(e){return this.reader.decode(e,this.hints)}decodeFromCanvas(e){const t=Vo.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(t)}decodeFromImageElement(e){return jo(this,void 0,void 0,function*(){if(!e)throw new l("An image element must be provided.");const t=Vo.prepareImageElement(e);return yield this._decodeOnLoadImage(t)})}decodeFromImageUrl(e){return jo(this,void 0,void 0,function*(){if(!e)throw new l("An URL must be provided.");const t=Vo.prepareImageElement();t.src=e;try{return yield this.decodeFromImageElement(t)}finally{Vo.destroyImageElement(t)}})}decodeFromConstraints(e,t,n){return jo(this,void 0,void 0,function*(){Vo.checkCallbackFnOrThrow(n);const i=yield navigator.mediaDevices.getUserMedia(e);try{return yield this.decodeFromStream(i,t,n)}catch(o){throw Vo.disposeMediaStream(i),o}})}decodeFromStream(e,t,n){return jo(this,void 0,void 0,function*(){Vo.checkCallbackFnOrThrow(n);const i=this.options.tryPlayVideoTimeout,o=yield Vo.attachStreamToVideo(e,t,i),r=this.scan(o,n,()=>{(()=>{for(const t of e.getVideoTracks())t.stop();e=void 0})(),Vo.cleanVideoSource(o)}),s=e.getVideoTracks(),a=Object.assign(Object.assign({},r),{stop(){r.stop()},streamVideoConstraintsApply(e,t){return jo(this,void 0,void 0,function*(){const n=t?s.filter(t):s;for(const t of n)yield t.applyConstraints(e)})},streamVideoConstraintsGet:e=>s.find(e).getConstraints(),streamVideoSettingsGet:e=>s.find(e).getSettings(),streamVideoCapabilitiesGet:e=>s.find(e).getCapabilities()});if(Vo.mediaStreamIsTorchCompatible(e)){const e=null==s?void 0:s.find(e=>Vo.mediaStreamIsTorchCompatibleTrack(e)),t=t=>jo(this,void 0,void 0,function*(){yield Vo.mediaStreamSetTorch(e,t)});a.switchTorch=t;const n=()=>{r.stop(),t(!1)};a.stop=n}return a})}decodeFromVideoDevice(e,t,n){return jo(this,void 0,void 0,function*(){let i;Vo.checkCallbackFnOrThrow(n),i=e?{deviceId:{exact:e}}:{facingMode:"environment"};const o={video:i};return yield this.decodeFromConstraints(o,t,n)})}decodeFromVideoElement(e,t){return jo(this,void 0,void 0,function*(){if(Vo.checkCallbackFnOrThrow(t),!e)throw new l("A video element must be provided.");const n=Vo.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout;return yield Vo.playVideoOnLoadAsync(n,i),this.scan(n,t)})}decodeFromVideoUrl(e,t){return jo(this,void 0,void 0,function*(){if(Vo.checkCallbackFnOrThrow(t),!e)throw new l("An URL must be provided.");const n=Vo.prepareVideoElement();n.src=e;const i=this.options.tryPlayVideoTimeout;return yield Vo.playVideoOnLoadAsync(n,i),this.scan(n,t,()=>{Vo.cleanVideoSource(n)})})}decodeOnceFromConstraints(e,t){return jo(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(n,t)})}decodeOnceFromStream(e,t){return jo(this,void 0,void 0,function*(){const n=Boolean(t),i=yield Vo.attachStreamToVideo(e,t);try{return yield this.scanOneResult(i)}finally{n||Vo.cleanVideoSource(i)}})}decodeOnceFromVideoDevice(e,t){return jo(this,void 0,void 0,function*(){let n;n=e?{deviceId:{exact:e}}:{facingMode:"environment"};const i={video:n};return yield this.decodeOnceFromConstraints(i,t)})}decodeOnceFromVideoElement(e){return jo(this,void 0,void 0,function*(){if(!e)throw new l("A video element must be provided.");const t=Vo.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout;return yield Vo.playVideoOnLoadAsync(t,n),yield this.scanOneResult(t)})}decodeOnceFromVideoUrl(e){return jo(this,void 0,void 0,function*(){if(!e)throw new l("An URL must be provided.");const t=Vo.prepareVideoElement();t.src=e;const n=this.decodeOnceFromVideoElement(t);try{return yield n}finally{Vo.cleanVideoSource(t)}})}scanOneResult(e,t=!0,n=!0,i=!0){return new Promise((o,r)=>{this.scan(e,(e,s,a)=>{if(e)return o(e),void a.stop();if(s){if(s instanceof L&&t)return;if(s instanceof h&&n)return;if(s instanceof E&&i)return;a.stop(),r(s)}})})}scan(e,t,n){Vo.checkCallbackFnOrThrow(t);let i=Vo.createCaptureCanvas(e),o=i.getContext("2d");if(!o)throw new Error("Couldn't create canvas for visual element scan.");const r=()=>{o=void 0,i=void 0};let s,a=!1;const l={stop:()=>{a=!0,clearTimeout(s),r(),n&&n()}},c=()=>{if(!a)try{Vo.drawImageOnCanvas(o,e);const n=this.decodeFromCanvas(i);t(n,void 0,l),s=window.setTimeout(c,this.options.delayBetweenScanSuccess)}catch(d){if(t(void 0,d,l),d instanceof h||d instanceof E||d instanceof L)return void(s=window.setTimeout(c,this.options.delayBetweenScanAttempts));r(),n&&n(d)}};return c(),l}_decodeOnLoadImage(e){return jo(this,void 0,void 0,function*(){return Vo.isImageLoaded(e)||(yield Vo._waitImageLoad(e)),this.decode(e)})}}const Bo="http://www.w3.org/2000/svg";class Go{constructor(e){if("string"==typeof e){const t=document.getElementById(e);if(!t)throw new Error(`Could not find a Container element with '${e}'.`);this.containerElement=t}else this.containerElement=e}write(e,t,n,i){if(0===e.length)throw new d("Found empty contents");if(t<0||n<0)throw new d("Requested dimensions are too small: "+t+"x"+n);const o=i&&void 0!==i.get(hi.MARGIN)?Number.parseInt(i.get(hi.MARGIN).toString(),10):Go.QUIET_ZONE_SIZE,r=this.encode(i,e);return this.renderResult(r,t,n,o)}createSVGElement(e,t){const n=document.createElementNS(Go.SVG_NS,"svg");return n.setAttributeNS(Bo,"width",t.toString()),n.setAttributeNS(Bo,"height",e.toString()),n}createSvgPathPlaceholderElement(e,t){const n=document.createElementNS(Go.SVG_NS,"path");return n.setAttributeNS(Bo,"d",`M0 0h${e}v${t}H0z`),n.setAttributeNS(Bo,"fill","none"),n}createSvgRectElement(e,t,n,i){const o=document.createElementNS(Go.SVG_NS,"rect");return o.setAttributeNS(Bo,"x",e.toString()),o.setAttributeNS(Bo,"y",t.toString()),o.setAttributeNS(Bo,"height",n.toString()),o.setAttributeNS(Bo,"width",i.toString()),o.setAttributeNS(Bo,"fill","#000000"),o}encode(e,t){let n=Lt.L;if(e&&void 0!==e.get(hi.ERROR_CORRECTION)){const t=e.get(hi.ERROR_CORRECTION).toString();n=Lt.fromString(t)}return Si.encode(t,n,e)}renderResult(e,t,n,i){const o=e.getMatrix();if(null===o)throw new me;const r=o.getWidth(),s=o.getHeight(),a=r+2*i,l=s+2*i,c=Math.max(t,a),d=Math.max(n,l),u=Math.min(Math.floor(c/a),Math.floor(d/l)),p=Math.floor((c-r*u)/2),h=Math.floor((d-s*u)/2),m=this.createSVGElement(c,d),f=this.createSvgPathPlaceholderElement(t,n);m.appendChild(f),this.containerElement.appendChild(m);for(let g=0,v=h;g<s;g++,v+=u)for(let e=0,t=p;e<r;e++,t+=u)if(1===o.get(e,g)){const e=this.createSvgRectElement(t,v,u,u);m.appendChild(e)}return m}}Go.QUIET_ZONE_SIZE=4,Go.SVG_NS="http://www.w3.org/2000/svg";const zo="http://www.w3.org/2000/svg";class $o{write(e,t,n,i){if(0===e.length)throw new d("Found empty contents");if(t<0||n<0)throw new d("Requested dimensions are too small: "+t+"x"+n);let o=Lt.L,r=$o.QUIET_ZONE_SIZE;if(i){if(void 0!==i.get(hi.ERROR_CORRECTION)){const e=i.get(hi.ERROR_CORRECTION).toString();o=Lt.fromString(e)}void 0!==i.get(hi.MARGIN)&&(r=Number.parseInt(i.get(hi.MARGIN).toString(),10))}const s=Si.encode(e,o,i);return this.renderResult(s,t,n,r)}writeToDom(e,t,n,i,o){if("string"==typeof e){const t=document.querySelector(e);if(!t)throw new Error("Could no find the target HTML element.");e=t}const r=this.write(t,n,i,o);e instanceof HTMLElement&&e.appendChild(r)}renderResult(e,t,n,i){const o=e.getMatrix();if(null===o)throw new me;const r=o.getWidth(),s=o.getHeight(),a=r+2*i,l=s+2*i,c=Math.max(t,a),d=Math.max(n,l),u=Math.min(Math.floor(c/a),Math.floor(d/l)),p=Math.floor((c-r*u)/2),h=Math.floor((d-s*u)/2),m=this.createSVGElement(c,d);for(let f=0,g=h;f<s;f++,g+=u)for(let e=0,t=p;e<r;e++,t+=u)if(1===o.get(e,f)){const e=this.createSvgRectElement(t,g,u,u);m.appendChild(e)}return m}createSVGElement(e,t){const n=document.createElementNS($o.SVG_NS,"svg");return n.setAttributeNS(zo,"height",e.toString()),n.setAttributeNS(zo,"width",t.toString()),n}createSvgRectElement(e,t,n,i){const o=document.createElementNS($o.SVG_NS,"rect");return o.setAttributeNS(zo,"x",e.toString()),o.setAttributeNS(zo,"y",t.toString()),o.setAttributeNS(zo,"height",n.toString()),o.setAttributeNS(zo,"width",i.toString()),o.setAttributeNS(zo,"fill","#000000"),o}}$o.QUIET_ZONE_SIZE=4,$o.SVG_NS="http://www.w3.org/2000/svg",e.BarcodeFormat=te,e.BrowserAztecCodeReader=class extends Vo{constructor(e,t){super(new Oe,e,t)}},e.BrowserCodeReader=Vo,e.BrowserCodeSvgWriter=Go,e.BrowserDatamatrixCodeReader=class extends Vo{constructor(e,t){super(new kt,e,t)}},e.BrowserMultiFormatOneDReader=class extends Vo{constructor(e,t){super(new xt(e),e,t)}},e.BrowserMultiFormatReader=class extends Vo{constructor(e,t){const n=new ci;n.setHints(e),super(n,e,t),this.reader=n}set possibleFormats(e){this.hints.set(I.POSSIBLE_FORMATS,e),this.reader.setHints(this.hints)}decodeBitmap(e){return this.reader.decodeWithState(e)}setHints(e){this.hints=e,this.reader.setHints(this.hints)}},e.BrowserPDF417Reader=class extends Vo{constructor(e,t){super(new ri,e,t)}},e.BrowserQRCodeReader=class extends Vo{constructor(e,t){super(new fn,e,t)}},e.BrowserQRCodeSvgWriter=$o,e.HTMLCanvasElementLuminanceSource=Fo,Object.defineProperty(e,"__esModule",{value:!0})},n(t)},"./node_modules/@zxing/library/umd/index.js":function(e,t){var n;n=function(e){"use strict";var t,n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i=function(e){function t(t){var n,i,o,r=this.constructor,s=e.call(this,t)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1}),n=s,i=r.prototype,(o=Object.setPrototypeOf)?o(n,i):n.__proto__=i,function(e,t){void 0===t&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}(s),s}return function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t}(Error);class o extends i{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}o.kind="Exception";class r extends o{}r.kind="ArgumentException";class s extends o{}s.kind="IllegalArgumentException";class a{constructor(e){if(this.binarizer=e,null===e)throw new s("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,n,i){const o=this.binarizer.getLuminanceSource().crop(e,t,n,i);return new a(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new a(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new a(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch(e){return""}}}class l extends o{static getChecksumInstance(){return new l}}l.kind="ChecksumException";class c{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class d{static arraycopy(e,t,n,i,o){for(;o--;)n[i++]=e[t++]}static currentTimeMillis(){return Date.now()}}class u extends o{}u.kind="IndexOutOfBoundsException";class p extends u{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}p.kind="ArrayIndexOutOfBoundsException";class h{static fill(e,t){for(let n=0,i=e.length;n<i;n++)e[n]=t}static fillWithin(e,t,n,i){h.rangeCheck(e.length,t,n);for(let o=t;o<n;o++)e[o]=i}static rangeCheck(e,t,n){if(t>n)throw new s("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new p(t);if(n>e)throw new p(n)}static asList(...e){return e}static create(e,t,n){return Array.from({length:e}).map(e=>Array.from({length:t}).fill(n))}static createInt32Array(e,t,n){return Array.from({length:e}).map(e=>Int32Array.from({length:t}).fill(n))}static equals(e,t){if(!e)return!1;if(!t)return!1;if(!e.length)return!1;if(!t.length)return!1;if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}static hashCode(e){if(null===e)return 0;let t=1;for(const n of e)t=31*t+n;return t}static fillUint8Array(e,t){for(let n=0;n!==e.length;n++)e[n]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)}static copyOfRange(e,t,n){const i=n-t,o=new Int32Array(i);return d.arraycopy(e,t,o,0,i),o}static binarySearch(e,t,n){void 0===n&&(n=h.numberComparator);let i=0,o=e.length-1;for(;i<=o;){const r=o+i>>1,s=n(t,e[r]);if(s>0)i=r+1;else{if(!(s<0))return r;o=r-1}}return-i-1}static numberComparator(e,t){return e-t}}class m{static numberOfTrailingZeros(e){let t;if(0===e)return 32;let n=31;return t=e<<16,0!==t&&(n-=16,e=t),t=e<<8,0!==t&&(n-=8,e=t),t=e<<4,0!==t&&(n-=4,e=t),t=e<<2,0!==t&&(n-=2,e=t),n-(e<<1>>>31)}static numberOfLeadingZeros(e){if(0===e)return 32;let t=1;return e>>>16==0&&(t+=16,e<<=16),e>>>24==0&&(t+=8,e<<=8),e>>>28==0&&(t+=4,e<<=4),e>>>30==0&&(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}m.MIN_VALUE_32_BITS=-2147483648,m.MAX_VALUE=Number.MAX_SAFE_INTEGER;class f{constructor(e,t){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=null==t?f.makeArray(e):t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>32*this.bits.length){const t=f.makeArray(e);d.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return 0!=(this.bits[Math.floor(e/32)]&1<<(31&e))}set(e){this.bits[Math.floor(e/32)]|=1<<(31&e)}flip(e){this.bits[Math.floor(e/32)]^=1<<(31&e)}getNextSet(e){const t=this.size;if(e>=t)return t;const n=this.bits;let i=Math.floor(e/32),o=n[i];o&=~((1<<(31&e))-1);const r=n.length;for(;0===o;){if(++i===r)return t;o=n[i]}const s=32*i+m.numberOfTrailingZeros(o);return s>t?t:s}getNextUnset(e){const t=this.size;if(e>=t)return t;const n=this.bits;let i=Math.floor(e/32),o=~n[i];o&=~((1<<(31&e))-1);const r=n.length;for(;0===o;){if(++i===r)return t;o=~n[i]}const s=32*i+m.numberOfTrailingZeros(o);return s>t?t:s}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new s;if(t===e)return;t--;const n=Math.floor(e/32),i=Math.floor(t/32),o=this.bits;for(let r=n;r<=i;r++){const s=(2<<(r<i?31:31&t))-(1<<(r>n?0:31&e));o[r]|=s}}clear(){const e=this.bits.length,t=this.bits;for(let n=0;n<e;n++)t[n]=0}isRange(e,t,n){if(t<e||e<0||t>this.size)throw new s;if(t===e)return!0;t--;const i=Math.floor(e/32),o=Math.floor(t/32),r=this.bits;for(let s=i;s<=o;s++){const a=(2<<(s<o?31:31&t))-(1<<(s>i?0:31&e))&4294967295;if((r[s]&a)!==(n?a:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(e,t){if(t<0||t>32)throw new s("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let n=t;n>0;n--)this.appendBit(1==(e>>n-1&1))}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let n=0;n<t;n++)this.appendBit(e.get(n))}xor(e){if(this.size!==e.size)throw new s("Sizes don't match");const t=this.bits;for(let n=0,i=t.length;n<i;n++)t[n]^=e.bits[n]}toBytes(e,t,n,i){for(let o=0;o<i;o++){let i=0;for(let t=0;t<8;t++)this.get(e)&&(i|=1<<7-t),e++;t[n+o]=i}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,i=this.bits;for(let o=0;o<n;o++){let n=i[o];n=n>>1&1431655765|(1431655765&n)<<1,n=n>>2&858993459|(858993459&n)<<2,n=n>>4&252645135|(252645135&n)<<4,n=n>>8&16711935|(16711935&n)<<8,n=n>>16&65535|(65535&n)<<16,e[t-o]=n}if(this.size!==32*n){const t=32*n-this.size;let i=e[0]>>>t;for(let o=1;o<n;o++){const n=e[o];i|=n<<32-t,e[o-1]=i,i=n>>>t}e[n-1]=i}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof f))return!1;const t=e;return this.size===t.size&&h.equals(this.bits,t.bits)}hashCode(){return 31*this.size+h.hashCode(this.bits)}toString(){let e="";for(let t=0,n=this.size;t<n;t++)0==(7&t)&&(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new f(this.size,this.bits.slice())}}!function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ASSUME_GS1=7]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(t||(t={}));var g,v=t;class y extends o{static getFormatInstance(){return new y}}y.kind="FormatException",function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"}(g||(g={}));class b{constructor(e,t,n,...i){this.valueIdentifier=e,this.name=n,this.values="number"==typeof t?Int32Array.from([t]):t,this.otherEncodingNames=i,b.VALUE_IDENTIFIER_TO_ECI.set(e,this),b.NAME_TO_ECI.set(n,this);const o=this.values;for(let r=0,s=o.length;r!==s;r++){const e=o[r];b.VALUES_TO_ECI.set(e,this)}for(const r of i)b.NAME_TO_ECI.set(r,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new y("incorect value");const t=b.VALUES_TO_ECI.get(e);if(void 0===t)throw new y("incorect value");return t}static getCharacterSetECIByName(e){const t=b.NAME_TO_ECI.get(e);if(void 0===t)throw new y("incorect value");return t}equals(e){if(!(e instanceof b))return!1;const t=e;return this.getName()===t.getName()}}b.VALUE_IDENTIFIER_TO_ECI=new Map,b.VALUES_TO_ECI=new Map,b.NAME_TO_ECI=new Map,b.Cp437=new b(g.Cp437,Int32Array.from([0,2]),"Cp437"),b.ISO8859_1=new b(g.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),b.ISO8859_2=new b(g.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),b.ISO8859_3=new b(g.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),b.ISO8859_4=new b(g.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),b.ISO8859_5=new b(g.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),b.ISO8859_6=new b(g.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),b.ISO8859_7=new b(g.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),b.ISO8859_8=new b(g.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),b.ISO8859_9=new b(g.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),b.ISO8859_10=new b(g.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),b.ISO8859_11=new b(g.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),b.ISO8859_13=new b(g.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),b.ISO8859_14=new b(g.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),b.ISO8859_15=new b(g.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),b.ISO8859_16=new b(g.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),b.SJIS=new b(g.SJIS,20,"SJIS","Shift_JIS"),b.Cp1250=new b(g.Cp1250,21,"Cp1250","windows-1250"),b.Cp1251=new b(g.Cp1251,22,"Cp1251","windows-1251"),b.Cp1252=new b(g.Cp1252,23,"Cp1252","windows-1252"),b.Cp1256=new b(g.Cp1256,24,"Cp1256","windows-1256"),b.UnicodeBigUnmarked=new b(g.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),b.UTF8=new b(g.UTF8,26,"UTF8","UTF-8"),b.ASCII=new b(g.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),b.Big5=new b(g.Big5,28,"Big5"),b.GB18030=new b(g.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),b.EUC_KR=new b(g.EUC_KR,30,"EUC_KR","EUC-KR");class x extends o{}x.kind="UnsupportedOperationException";class w{static decode(e,t){const n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)}static shouldDecodeOnFallback(e){return!w.isBrowser()&&"ISO-8859-1"===e}static encode(e,t){const n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):"undefined"==typeof TextEncoder?this.encodeFallback(e):(new TextEncoder).encode(e)}static isBrowser(){return"undefined"!=typeof window&&"[object Window]"==={}.toString.call(window)}static encodingName(e){return"string"==typeof e?e:e.getName()}static encodingCharacterSet(e){return e instanceof b?e:b.getCharacterSetECIByName(e)}static decodeFallback(e,t){const n=this.encodingCharacterSet(t);if(w.isDecodeFallbackSupported(n)){let t="";for(let n=0,i=e.length;n<i;n++){let i=e[n].toString(16);i.length<2&&(i="0"+i),t+="%"+i}return decodeURIComponent(t)}if(n.equals(b.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new x(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(b.UTF8)||e.equals(b.ISO8859_1)||e.equals(b.ASCII)}static encodeFallback(e){const t=btoa(unescape(encodeURIComponent(e))).split(""),n=[];for(let i=0;i<t.length;i++)n.push(t[i].charCodeAt(0));return new Uint8Array(n)}}class C{static castAsNonUtf8Char(e,t=null){const n=t?t.getName():this.ISO88591;return w.decode(new Uint8Array([e]),n)}static guessEncoding(e,t){if(null!=t&&void 0!==t.get(v.CHARACTER_SET))return t.get(v.CHARACTER_SET).toString();const n=e.length;let i=!0,o=!0,r=!0,s=0,a=0,l=0,c=0,d=0,u=0,p=0,h=0,m=0,f=0,g=0;const y=e.length>3&&239===e[0]&&187===e[1]&&191===e[2];for(let v=0;v<n&&(i||o||r);v++){const t=255&e[v];r&&(s>0?0==(128&t)?r=!1:s--:0!=(128&t)&&(0==(64&t)?r=!1:(s++,0==(32&t)?a++:(s++,0==(16&t)?l++:(s++,0==(8&t)?c++:r=!1))))),i&&(t>127&&t<160?i=!1:t>159&&(t<192||215===t||247===t)&&g++),o&&(d>0?t<64||127===t||t>252?o=!1:d--:128===t||160===t||t>239?o=!1:t>160&&t<224?(u++,h=0,p++,p>m&&(m=p)):t>127?(d++,p=0,h++,h>f&&(f=h)):(p=0,h=0))}return r&&s>0&&(r=!1),o&&d>0&&(o=!1),r&&(y||a+l+c>0)?C.UTF8:o&&(C.ASSUME_SHIFT_JIS||m>=3||f>=3)?C.SHIFT_JIS:i&&o?2===m&&2===u||10*g>=n?C.SHIFT_JIS:C.ISO88591:i?C.ISO88591:o?C.SHIFT_JIS:r?C.UTF8:C.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let n=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(e,i,o,r,s,a){if("%%"===e)return"%";if(void 0===t[++n])return;e=r?parseInt(r.substr(1)):void 0;let l,c=s?parseInt(s.substr(1)):void 0;switch(a){case"s":l=t[n];break;case"c":l=t[n][0];break;case"f":l=parseFloat(t[n]).toFixed(e);break;case"p":l=parseFloat(t[n]).toPrecision(e);break;case"e":l=parseFloat(t[n]).toExponential(e);break;case"x":l=parseInt(t[n]).toString(c||16);break;case"d":l=parseFloat(parseInt(t[n],c||10).toPrecision(e)).toFixed(0)}l="object"==typeof l?JSON.stringify(l):(+l).toString(c);let d=parseInt(o),u=o&&o[0]+""=="0"?"0":" ";for(;l.length<d;)l=void 0!==i?l+u:u+l;return l})}static getBytes(e,t){return w.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}C.SHIFT_JIS=b.SJIS.getName(),C.GB2312="GB2312",C.ISO88591=b.ISO8859_1.getName(),C.EUC_JP="EUC_JP",C.UTF8=b.UTF8.getName(),C.PLATFORM_DEFAULT_ENCODING=C.UTF8,C.ASSUME_SHIFT_JIS=!1;class _{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return"string"==typeof e?this.value+=e.toString():this.encoding?this.value+=C.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,n){for(let i=t;t<t+n;i++)this.append(e[i]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class S{constructor(e,t,n,i){if(this.width=e,this.height=t,this.rowSize=n,this.bits=i,null==t&&(t=e),this.height=t,e<1||t<1)throw new s("Both dimensions must be greater than 0");null==n&&(n=Math.floor((e+31)/32)),this.rowSize=n,null==i&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,n=e[0].length,i=new S(n,t);for(let o=0;o<t;o++){const t=e[o];for(let e=0;e<n;e++)t[e]&&i.set(e,o)}return i}static parseFromString(e,t,n){if(null===e)throw new s("stringRepresentation cannot be null");const i=new Array(e.length);let o=0,r=0,a=-1,l=0,c=0;for(;c<e.length;)if("\n"===e.charAt(c)||"\r"===e.charAt(c)){if(o>r){if(-1===a)a=o-r;else if(o-r!==a)throw new s("row lengths do not match");r=o,l++}c++}else if(e.substring(c,c+t.length)===t)c+=t.length,i[o]=!0,o++;else{if(e.substring(c,c+n.length)!==n)throw new s("illegal character encountered: "+e.substring(c));c+=n.length,i[o]=!1,o++}if(o>r){if(-1===a)a=o-r;else if(o-r!==a)throw new s("row lengths do not match");l++}const d=new S(a,l);for(let s=0;s<o;s++)i[s]&&d.set(Math.floor(s%a),Math.floor(s/a));return d}get(e,t){const n=t*this.rowSize+Math.floor(e/32);return 0!=(this.bits[n]>>>(31&e)&1)}set(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(31&e)&4294967295}unset(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(31&e)&4294967295)}flip(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(31&e)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new s("input matrix dimensions do not match");const t=new f(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits;for(let o=0,r=this.height;o<r;o++){const r=o*n,s=e.getRow(o,t).getBitArray();for(let e=0;e<n;e++)i[r+e]^=s[e]}}clear(){const e=this.bits,t=e.length;for(let n=0;n<t;n++)e[n]=0}setRegion(e,t,n,i){if(t<0||e<0)throw new s("Left and top must be nonnegative");if(i<1||n<1)throw new s("Height and width must be at least 1");const o=e+n,r=t+i;if(r>this.height||o>this.width)throw new s("The region must fit inside the matrix");const a=this.rowSize,l=this.bits;for(let s=t;s<r;s++){const t=s*a;for(let n=e;n<o;n++)l[t+Math.floor(n/32)]|=1<<(31&n)&4294967295}}getRow(e,t){null==t||t.getSize()<this.width?t=new f(this.width):t.clear();const n=this.rowSize,i=this.bits,o=e*n;for(let r=0;r<n;r++)t.setBulk(32*r,i[o+r]);return t}setRow(e,t){d.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let n=new f(e),i=new f(e);for(let o=0,r=Math.floor((t+1)/2);o<r;o++)n=this.getRow(o,n),i=this.getRow(t-1-o,i),n.reverse(),i.reverse(),this.setRow(o,i),this.setRow(t-1-o,n)}getEnclosingRectangle(){const e=this.width,t=this.height,n=this.rowSize,i=this.bits;let o=e,r=t,s=-1,a=-1;for(let l=0;l<t;l++)for(let e=0;e<n;e++){const t=i[l*n+e];if(0!==t){if(l<r&&(r=l),l>a&&(a=l),32*e<o){let n=0;for(;0==(t<<31-n&4294967295);)n++;32*e+n<o&&(o=32*e+n)}if(32*e+31>s){let n=31;for(;t>>>n==0;)n--;32*e+n>s&&(s=32*e+n)}}}return s<o||a<r?null:Int32Array.from([o,r,s-o+1,a-r+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let n=0;for(;n<t.length&&0===t[n];)n++;if(n===t.length)return null;const i=n/e;let o=n%e*32;const r=t[n];let s=0;for(;0==(r<<31-s&4294967295);)s++;return o+=s,Int32Array.from([o,i])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let n=t.length-1;for(;n>=0&&0===t[n];)n--;if(n<0)return null;const i=Math.floor(n/e);let o=32*Math.floor(n%e);const r=t[n];let s=31;for(;r>>>s==0;)s--;return o+=s,Int32Array.from([o,i])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof S))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&h.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+h.hashCode(this.bits),e}toString(e="X ",t="  ",n="\n"){return this.buildToString(e,t,n)}buildToString(e,t,n){let i=new _;for(let o=0,r=this.height;o<r;o++){for(let n=0,r=this.width;n<r;n++)i.append(this.get(n,o)?e:t);i.append(n)}return i.toString()}clone(){return new S(this.width,this.height,this.rowSize,this.bits.slice())}}class I extends o{static getNotFoundInstance(){return new I}}I.kind="NotFoundException";class A extends c{constructor(e){super(e),this.luminances=A.EMPTY,this.buckets=new Int32Array(A.LUMINANCE_BUCKETS)}getBlackRow(e,t){const n=this.getLuminanceSource(),i=n.getWidth();null==t||t.getSize()<i?t=new f(i):t.clear(),this.initArrays(i);const o=n.getRow(e,this.luminances),r=this.buckets;for(let a=0;a<i;a++)r[(255&o[a])>>A.LUMINANCE_SHIFT]++;const s=A.estimateBlackPoint(r);if(i<3)for(let a=0;a<i;a++)(255&o[a])<s&&t.set(a);else{let e=255&o[0],n=255&o[1];for(let r=1;r<i-1;r++){const i=255&o[r+1];(4*n-e-i)/2<s&&t.set(r),e=n,n=i}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight(),i=new S(t,n);this.initArrays(t);const o=this.buckets;for(let a=1;a<5;a++){const i=Math.floor(n*a/5),r=e.getRow(i,this.luminances),s=Math.floor(4*t/5);for(let e=Math.floor(t/5);e<s;e++)o[(255&r[e])>>A.LUMINANCE_SHIFT]++}const r=A.estimateBlackPoint(o),s=e.getMatrix();for(let a=0;a<n;a++){const e=a*t;for(let n=0;n<t;n++)(255&s[e+n])<r&&i.set(n,a)}return i}createBinarizer(e){return new A(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let n=0;n<A.LUMINANCE_BUCKETS;n++)t[n]=0}static estimateBlackPoint(e){const t=e.length;let n=0,i=0,o=0;for(let c=0;c<t;c++)e[c]>o&&(i=c,o=e[c]),e[c]>n&&(n=e[c]);let r=0,s=0;for(let c=0;c<t;c++){const t=c-i,n=e[c]*t*t;n>s&&(r=c,s=n)}if(i>r){const e=i;i=r,r=e}if(r-i<=t/16)throw new I;let a=r-1,l=-1;for(let c=r-1;c>i;c--){const t=c-i,o=t*t*(r-c)*(n-e[c]);o>l&&(a=c,l=o)}return a<<A.LUMINANCE_SHIFT}}A.LUMINANCE_BITS=5,A.LUMINANCE_SHIFT=8-A.LUMINANCE_BITS,A.LUMINANCE_BUCKETS=1<<A.LUMINANCE_BITS,A.EMPTY=Uint8ClampedArray.from([0]);class E extends A{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight();if(t>=E.MINIMUM_DIMENSION&&n>=E.MINIMUM_DIMENSION){const i=e.getMatrix();let o=t>>E.BLOCK_SIZE_POWER;0!=(t&E.BLOCK_SIZE_MASK)&&o++;let r=n>>E.BLOCK_SIZE_POWER;0!=(n&E.BLOCK_SIZE_MASK)&&r++;const s=E.calculateBlackPoints(i,o,r,t,n),a=new S(t,n);E.calculateThresholdForBlock(i,o,r,t,n,s,a),this.matrix=a}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new E(e)}static calculateThresholdForBlock(e,t,n,i,o,r,s){const a=o-E.BLOCK_SIZE,l=i-E.BLOCK_SIZE;for(let c=0;c<n;c++){let o=c<<E.BLOCK_SIZE_POWER;o>a&&(o=a);const d=E.cap(c,2,n-3);for(let n=0;n<t;n++){let a=n<<E.BLOCK_SIZE_POWER;a>l&&(a=l);const c=E.cap(n,2,t-3);let u=0;for(let e=-2;e<=2;e++){const t=r[d+e];u+=t[c-2]+t[c-1]+t[c]+t[c+1]+t[c+2]}const p=u/25;E.thresholdBlock(e,a,o,p,i,s)}}}static cap(e,t,n){return e<t?t:e>n?n:e}static thresholdBlock(e,t,n,i,o,r){for(let s=0,a=n*o+t;s<E.BLOCK_SIZE;s++,a+=o)for(let o=0;o<E.BLOCK_SIZE;o++)(255&e[a+o])<=i&&r.set(t+o,n+s)}static calculateBlackPoints(e,t,n,i,o){const r=o-E.BLOCK_SIZE,s=i-E.BLOCK_SIZE,a=new Array(n);for(let l=0;l<n;l++){a[l]=new Int32Array(t);let n=l<<E.BLOCK_SIZE_POWER;n>r&&(n=r);for(let o=0;o<t;o++){let t=o<<E.BLOCK_SIZE_POWER;t>s&&(t=s);let r=0,c=255,d=0;for(let o=0,s=n*i+t;o<E.BLOCK_SIZE;o++,s+=i){for(let t=0;t<E.BLOCK_SIZE;t++){const n=255&e[s+t];r+=n,n<c&&(c=n),n>d&&(d=n)}if(d-c>E.MIN_DYNAMIC_RANGE)for(o++,s+=i;o<E.BLOCK_SIZE;o++,s+=i)for(let t=0;t<E.BLOCK_SIZE;t++)r+=255&e[s+t]}let u=r>>2*E.BLOCK_SIZE_POWER;if(d-c<=E.MIN_DYNAMIC_RANGE&&(u=c/2,l>0&&o>0)){const e=(a[l-1][o]+2*a[l][o-1]+a[l-1][o-1])/4;c<e&&(u=e)}a[l][o]=u}}return a}}E.BLOCK_SIZE_POWER=3,E.BLOCK_SIZE=1<<E.BLOCK_SIZE_POWER,E.BLOCK_SIZE_MASK=E.BLOCK_SIZE-1,E.MINIMUM_DIMENSION=5*E.BLOCK_SIZE,E.MIN_DYNAMIC_RANGE=24;class D{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,n,i){throw new x("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new x("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new x("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new _;for(let n=0;n<this.height;n++){const i=this.getRow(n,e);for(let e=0;e<this.width;e++){const n=255&i[e];let o;o=n<64?"#":n<128?"+":n<192?".":" ",t.append(o)}t.append("\n")}return t.toString()}}class T extends D{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const n=this.delegate.getRow(e,t),i=this.getWidth();for(let o=0;o<i;o++)n[o]=255-(255&n[o]);return n}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(t);for(let i=0;i<t;i++)n[i]=255-(255&e[i]);return n}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,n,i){return new T(this.delegate.crop(e,t,n,i))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new T(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new T(this.delegate.rotateCounterClockwise45())}}class R extends D{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=R.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return R.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,n){const i=new Uint8ClampedArray(t*n);for(let o=0,r=0,s=e.length;o<s;o+=4,r++){let t;t=0===e[o+3]?255:306*e[o]+601*e[o+1]+117*e[o+2]+512>>10,i[r]=t}return i}getRow(e,t){if(e<0||e>=this.getHeight())throw new s("Requested row is outside the image: "+e);const n=this.getWidth(),i=e*n;return null===t?t=this.buffer.slice(i,i+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(i,i+n))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,n,i){return super.crop(e,t,n,i),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),n=t.getContext("2d"),i=e*R.DEGREE_TO_RADIANS,o=this.canvas.width,r=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*r),a=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*r);return t.width=s,t.height=a,n.translate(s/2,a/2),n.rotate(i),n.drawImage(this.canvas,o/-2,r/-2),this.buffer=R.makeBufferFromCanvasImageData(t),this}invert(){return new T(this)}}R.DEGREE_TO_RADIANS=Math.PI/180;class M{constructor(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var O,P=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((i=i.apply(e,t||[])).next())})};class F{constructor(e,t=500,n){this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return"undefined"!=typeof navigator}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return P(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const n of e){const e="video"===n.kind?"videoinput":n.kind;if("videoinput"!==e)continue;const i={deviceId:n.deviceId||n.id,label:n.label||`Video device ${t.length+1}`,kind:e,groupId:n.groupId};t.push(i)}return t})}getVideoInputDevices(){return P(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(e=>new M(e.deviceId,e.label))})}findDeviceById(e){return P(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(t=>t.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return P(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return P(this,void 0,void 0,function*(){let n;this.reset(),n=e?{deviceId:{exact:e}}:{facingMode:"environment"};const i={video:n};return yield this.decodeOnceFromConstraints(i,t)})}decodeOnceFromConstraints(e,t){return P(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(n,t)})}decodeOnceFromStream(e,t){return P(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(n)})}decodeFromInputVideoDeviceContinuously(e,t,n){return P(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,n)})}decodeFromVideoDevice(e,t,n){return P(this,void 0,void 0,function*(){let i;i=e?{deviceId:{exact:e}}:{facingMode:"environment"};const o={video:i};return yield this.decodeFromConstraints(o,t,n)})}decodeFromConstraints(e,t,n){return P(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(i,t,n)})}decodeFromStream(e,t,n){return P(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(i,n)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return P(this,void 0,void 0,function*(){const n=this.prepareVideoElement(t);return this.addVideoSource(n,e),this.videoElement=n,this.stream=e,yield this.playVideoOnLoadAsync(n),n})}playVideoOnLoadAsync(e){return new Promise((t,n)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return P(this,void 0,void 0,function*(){if(this.isVideoPlaying(e))console.warn("Trying to play video that is already playing.");else try{yield e.play()}catch(t){console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const n=document.getElementById(e);if(!n)throw new r(`element with id '${e}' not found`);if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new r(`element with id '${e}' must be an ${t} element`);return n}decodeFromImage(e,t){if(!e&&!t)throw new r("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new r("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,n){if(void 0===e&&void 0===t)throw new r("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)}decodeFromImageElement(e){if(!e)throw new r("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);let n;return this.imageElement=t,n=this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t),n}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)}_decodeFromVideoElementSetup(e){if(!e)throw new r("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new r("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const n=this._decodeOnLoadImage(t);return t.src=e,n}decodeFromVideoUrl(e){if(!e)throw new r("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n}decodeFromVideoUrlContinuously(e,t){if(!e)throw new r("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,t);return n.src=e,i}_decodeOnLoadImage(e){return new Promise((t,n)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,n),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return P(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return P(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!!e.complete&&0!==e.naturalWidth}prepareImageElement(e){let t;return void 0===e&&(t=document.createElement("img"),t.width=200,t.height=200),"string"==typeof e&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return e||"undefined"==typeof document||(t=document.createElement("video"),t.width=200,t.height=200),"string"==typeof e&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,n=!0){this._stopAsyncDecode=!1;const i=(o,r)=>{if(this._stopAsyncDecode)return r(new I("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{o(this.decode(e))}catch(s){if(t&&s instanceof I||(s instanceof l||s instanceof y)&&n)return setTimeout(i,this._timeBetweenDecodingAttempts,o,r);r(s)}};return new Promise((e,t)=>i(e,t))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const n=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const i=this.decode(e);t(i,null),setTimeout(n,this.timeBetweenScansMillis)}catch(i){t(null,i),(i instanceof l||i instanceof y||i instanceof I)&&setTimeout(n,this._timeBetweenDecodingAttempts)}};n()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}createBinaryBitmap(e){const t=this.getCaptureCanvasContext(e);this.drawImageOnCanvas(t,e);const n=this.getCaptureCanvas(e),i=new R(n),o=new E(i);return new a(o)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const t=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=t}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}drawImageOnCanvas(e,t){e.drawImage(t,0,0)}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if("undefined"==typeof document)return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let n,i;return void 0!==e&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=i+"px",t.width=n,t.height=i,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch(n){e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch(t){e.src=""}this.videoElement.removeAttribute("src")}}class k{constructor(e,t,n=(null==t?0:8*t.length),i,o,r=d.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=i,this.format=o,this.timestamp=r,this.text=e,this.rawBytes=t,this.numBits=null==n?null==t?0:8*t.length:n,this.resultPoints=i,this.format=o,this.resultMetadata=null,this.timestamp=null==r?d.currentTimeMillis():r}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){null!==e&&(null===this.resultMetadata?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){const n=new Array(t.length+e.length);d.arraycopy(t,0,n,0,t.length),d.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}}getTimestamp(){return this.timestamp}toString(){return this.text}}!function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(O||(O={}));var N,j=O;!function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(N||(N={}));var L,V,B,G,z,$,U=N;class H{constructor(e,t,n,i,o=-1,r=-1){this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=r,this.numBits=null==e?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class X{exp(e){return this.expTable[e]}log(e){if(0===e)throw new s;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class W{constructor(e,t){if(0===t.length)throw new s;this.field=e;const n=t.length;if(n>1&&0===t[0]){let e=1;for(;e<n&&0===t[e];)e++;e===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-e),d.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);const t=this.coefficients;let n;if(1===e){n=0;for(let e=0,i=t.length;e!==i;e++){const i=t[e];n=X.addOrSubtract(n,i)}return n}n=t[0];const i=t.length,o=this.field;for(let r=1;r<i;r++)n=X.addOrSubtract(o.multiply(e,n),t[r]);return n}addOrSubtract(e){if(!this.field.equals(e.field))throw new s("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){const e=t;t=n,n=e}let i=new Int32Array(n.length);const o=n.length-t.length;d.arraycopy(n,0,i,0,o);for(let r=o;r<n.length;r++)i[r]=X.addOrSubtract(t[r-o],n[r]);return new W(this.field,i)}multiply(e){if(!this.field.equals(e.field))throw new s("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,n=t.length,i=e.coefficients,o=i.length,r=new Int32Array(n+o-1),a=this.field;for(let s=0;s<n;s++){const e=t[s];for(let t=0;t<o;t++)r[s+t]=X.addOrSubtract(r[s+t],a.multiply(e,i[t]))}return new W(a,r)}multiplyScalar(e){if(0===e)return this.field.getZero();if(1===e)return this;const t=this.coefficients.length,n=this.field,i=new Int32Array(t),o=this.coefficients;for(let r=0;r<t;r++)i[r]=n.multiply(o[r],e);return new W(n,i)}multiplyByMonomial(e,t){if(e<0)throw new s;if(0===t)return this.field.getZero();const n=this.coefficients,i=n.length,o=new Int32Array(i+e),r=this.field;for(let s=0;s<i;s++)o[s]=r.multiply(n[s],t);return new W(r,o)}divide(e){if(!this.field.equals(e.field))throw new s("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new s("Divide by 0");const t=this.field;let n=t.getZero(),i=this;const o=e.getCoefficient(e.getDegree()),r=t.inverse(o);for(;i.getDegree()>=e.getDegree()&&!i.isZero();){const o=i.getDegree()-e.getDegree(),s=t.multiply(i.getCoefficient(i.getDegree()),r),a=e.multiplyByMonomial(o,s),l=t.buildMonomial(o,s);n=n.addOrSubtract(l),i=i.addOrSubtract(a)}return[n,i]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);if(0!==n){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),0===t||1!==n){const t=this.field.log(n);0===t?e+="1":1===t?e+="a":(e+="a^",e+=t)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e}}class q extends o{}q.kind="ArithmeticException";class Y extends X{constructor(e,t,n){super(),this.primitive=e,this.size=t,this.generatorBase=n;const i=new Int32Array(t);let o=1;for(let s=0;s<t;s++)i[s]=o,o*=2,o>=t&&(o^=e,o&=t-1);this.expTable=i;const r=new Int32Array(t);for(let s=0;s<t-1;s++)r[i[s]]=s;this.logTable=r,this.zero=new W(this,Int32Array.from([0])),this.one=new W(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new s;if(0===t)return this.zero;const n=new Int32Array(e+1);return n[0]=t,new W(this,n)}inverse(e){if(0===e)throw new q;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+m.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}Y.AZTEC_DATA_12=new Y(4201,4096,1),Y.AZTEC_DATA_10=new Y(1033,1024,1),Y.AZTEC_DATA_6=new Y(67,64,1),Y.AZTEC_PARAM=new Y(19,16,1),Y.QR_CODE_FIELD_256=new Y(285,256,0),Y.DATA_MATRIX_FIELD_256=new Y(301,256,1),Y.AZTEC_DATA_8=Y.DATA_MATRIX_FIELD_256,Y.MAXICODE_FIELD_64=Y.AZTEC_DATA_6;class Q extends o{}Q.kind="ReedSolomonException";class Z extends o{}Z.kind="IllegalStateException";class K{constructor(e){this.field=e}decode(e,t){const n=this.field,i=new W(n,e),o=new Int32Array(t);let r=!0;for(let p=0;p<t;p++){const e=i.evaluateAt(n.exp(p+n.getGeneratorBase()));o[o.length-1-p]=e,0!==e&&(r=!1)}if(r)return;const s=new W(n,o),a=this.runEuclideanAlgorithm(n.buildMonomial(t,1),s,t),l=a[0],c=a[1],d=this.findErrorLocations(l),u=this.findErrorMagnitudes(c,d);for(let p=0;p<d.length;p++){const t=e.length-1-n.log(d[p]);if(t<0)throw new Q("Bad error location");e[t]=Y.addOrSubtract(e[t],u[p])}}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){const n=e;e=t,t=n}const i=this.field;let o=e,r=t,s=i.getZero(),a=i.getOne();for(;r.getDegree()>=(n/2|0);){let e=o,t=s;if(o=r,s=a,o.isZero())throw new Q("r_{i-1} was zero");r=e;let n=i.getZero();const l=o.getCoefficient(o.getDegree()),c=i.inverse(l);for(;r.getDegree()>=o.getDegree()&&!r.isZero();){const e=r.getDegree()-o.getDegree(),t=i.multiply(r.getCoefficient(r.getDegree()),c);n=n.addOrSubtract(i.buildMonomial(e,t)),r=r.addOrSubtract(o.multiplyByMonomial(e,t))}if(a=n.multiply(s).addOrSubtract(t),r.getDegree()>=o.getDegree())throw new Z("Division algorithm failed to reduce polynomial?")}const l=a.getCoefficient(0);if(0===l)throw new Q("sigmaTilde(0) was zero");const c=i.inverse(l);return[a.multiplyScalar(c),r.multiplyScalar(c)]}findErrorLocations(e){const t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);const n=new Int32Array(t);let i=0;const o=this.field;for(let r=1;r<o.getSize()&&i<t;r++)0===e.evaluateAt(r)&&(n[i]=o.inverse(r),i++);if(i!==t)throw new Q("Error locator degree does not match number of roots");return n}findErrorMagnitudes(e,t){const n=t.length,i=new Int32Array(n),o=this.field;for(let r=0;r<n;r++){const s=o.inverse(t[r]);let a=1;for(let e=0;e<n;e++)if(r!==e){const n=o.multiply(t[e],s),i=0==(1&n)?1|n:-2&n;a=o.multiply(a,i)}i[r]=o.multiply(e.evaluateAt(s),o.inverse(a)),0!==o.getGeneratorBase()&&(i[r]=o.multiply(i[r],s))}return i}}!function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"}(L||(L={}));class J{decode(e){this.ddata=e;let t=e.getBits(),n=this.extractBits(t),i=this.correctBits(n),o=J.convertBoolArrayToByteArray(i),r=J.getEncodedData(i),s=new H(o,r,null,null);return s.setNumBits(i.length),s}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,n=L.UPPER,i=L.UPPER,o="",r=0;for(;r<t;)if(i===L.BINARY){if(t-r<5)break;let s=J.readCode(e,r,5);if(r+=5,0===s){if(t-r<11)break;s=J.readCode(e,r,11)+31,r+=11}for(let n=0;n<s;n++){if(t-r<8){r=t;break}const n=J.readCode(e,r,8);o+=C.castAsNonUtf8Char(n),r+=8}i=n}else{let s=i===L.DIGIT?4:5;if(t-r<s)break;let a=J.readCode(e,r,s);r+=s;let l=J.getCharacter(i,a);l.startsWith("CTRL_")?(n=i,i=J.getTable(l.charAt(5)),"L"===l.charAt(6)&&(n=i)):(o+=l,i=n)}return o}static getTable(e){switch(e){case"L":return L.LOWER;case"P":return L.PUNCT;case"M":return L.MIXED;case"D":return L.DIGIT;case"B":return L.BINARY;default:return L.UPPER}}static getCharacter(e,t){switch(e){case L.UPPER:return J.UPPER_TABLE[t];case L.LOWER:return J.LOWER_TABLE[t];case L.MIXED:return J.MIXED_TABLE[t];case L.PUNCT:return J.PUNCT_TABLE[t];case L.DIGIT:return J.DIGIT_TABLE[t];default:throw new Z("Bad table")}}correctBits(e){let t,n;this.ddata.getNbLayers()<=2?(n=6,t=Y.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=Y.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=Y.AZTEC_DATA_10):(n=12,t=Y.AZTEC_DATA_12);let i=this.ddata.getNbDatablocks(),o=e.length/n;if(o<i)throw new y;let r=e.length%n,s=new Int32Array(o);for(let p=0;p<o;p++,r+=n)s[p]=J.readCode(e,r,n);try{new K(t).decode(s,o-i)}catch(u){throw new y(u)}let a=(1<<n)-1,l=0;for(let p=0;p<i;p++){let e=s[p];if(0===e||e===a)throw new y;1!==e&&e!==a-1||l++}let c=new Array(i*n-l),d=0;for(let p=0;p<i;p++){let e=s[p];if(1===e||e===a-1)c.fill(e>1,d,d+n-1),d+=n-1;else for(let t=n-1;t>=0;--t)c[d++]=0!=(e&1<<t)}return c}extractBits(e){let t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(t?11:14)+4*n,o=new Int32Array(i),r=new Array(this.totalBitsInLayer(n,t));if(t)for(let s=0;s<o.length;s++)o[s]=s;else{let e=i+1+2*m.truncDivision(m.truncDivision(i,2)-1,15),t=i/2,n=m.truncDivision(e,2);for(let i=0;i<t;i++){let e=i+m.truncDivision(i,15);o[t-i-1]=n-e-1,o[t+i]=n+e+1}}for(let s=0,a=0;s<n;s++){let l=4*(n-s)+(t?9:12),c=2*s,d=i-1-c;for(let t=0;t<l;t++){let n=2*t;for(let i=0;i<2;i++)r[a+n+i]=e.get(o[c+i],o[c+t]),r[a+2*l+n+i]=e.get(o[c+t],o[d-i]),r[a+4*l+n+i]=e.get(o[d-i],o[d-t]),r[a+6*l+n+i]=e.get(o[d-t],o[c+i])}a+=8*l}return r}static readCode(e,t,n){let i=0;for(let o=t;o<t+n;o++)i<<=1,e[o]&&(i|=1);return i}static readByte(e,t){let n=e.length-t;return n>=8?J.readCode(e,t,8):J.readCode(e,t,n)<<8-n}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let n=0;n<t.length;n++)t[n]=J.readByte(e,8*n);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}J.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],J.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],J.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],J.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],J.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ee{constructor(){}static round(e){return NaN===e?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,n,i){const o=e-n,r=t-i;return Math.sqrt(o*o+r*r)}static sum(e){let t=0;for(let n=0,i=e.length;n!==i;n++)t+=e[n];return t}}class te{static floatToIntBits(e){return e}}te.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ne{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof ne){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*te.floatToIntBits(this.x)+te.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]);let o,r,s;if(n>=t&&n>=i?(r=e[0],o=e[1],s=e[2]):i>=n&&i>=t?(r=e[1],o=e[0],s=e[2]):(r=e[2],o=e[0],s=e[1]),this.crossProductZ(o,r,s)<0){const e=o;o=s,s=e}e[0]=o,e[1]=r,e[2]=s}static distance(e,t){return ee.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,n){const i=t.x,o=t.y;return(n.x-i)*(e.y-o)-(n.y-o)*(e.x-i)}}class ie{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class oe extends ie{constructor(e,t,n,i,o){super(e,t),this.compact=n,this.nbDatablocks=i,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class re{constructor(e,t,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),null==t&&(t=re.INIT_SIZE),null==n&&(n=e.getWidth()/2|0),null==i&&(i=e.getHeight()/2|0);const o=t/2|0;if(this.leftInit=n-o,this.rightInit=n+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new I}detect(){let e=this.leftInit,t=this.rightInit,n=this.upInit,i=this.downInit,o=!1,r=!0,s=!1,a=!1,l=!1,c=!1,d=!1;const u=this.width,p=this.height;for(;r;){r=!1;let h=!0;for(;(h||!a)&&t<u;)h=this.containsBlackPoint(n,i,t,!1),h?(t++,r=!0,a=!0):a||t++;if(t>=u){o=!0;break}let m=!0;for(;(m||!l)&&i<p;)m=this.containsBlackPoint(e,t,i,!0),m?(i++,r=!0,l=!0):l||i++;if(i>=p){o=!0;break}let f=!0;for(;(f||!c)&&e>=0;)f=this.containsBlackPoint(n,i,e,!1),f?(e--,r=!0,c=!0):c||e--;if(e<0){o=!0;break}let g=!0;for(;(g||!d)&&n>=0;)g=this.containsBlackPoint(e,t,n,!0),g?(n--,r=!0,d=!0):d||n--;if(n<0){o=!0;break}r&&(s=!0)}if(!o&&s){const o=t-e;let r=null;for(let t=1;null===r&&t<o;t++)r=this.getBlackPointOnSegment(e,i-t,e+t,i);if(null==r)throw new I;let s=null;for(let t=1;null===s&&t<o;t++)s=this.getBlackPointOnSegment(e,n+t,e+t,n);if(null==s)throw new I;let a=null;for(let e=1;null===a&&e<o;e++)a=this.getBlackPointOnSegment(t,n+e,t-e,n);if(null==a)throw new I;let l=null;for(let e=1;null===l&&e<o;e++)l=this.getBlackPointOnSegment(t,i-e,t-e,i);if(null==l)throw new I;return this.centerEdges(l,r,a,s)}throw new I}getBlackPointOnSegment(e,t,n,i){const o=ee.round(ee.distance(e,t,n,i)),r=(n-e)/o,s=(i-t)/o,a=this.image;for(let l=0;l<o;l++){const n=ee.round(e+l*r),i=ee.round(t+l*s);if(a.get(n,i))return new ne(n,i)}return null}centerEdges(e,t,n,i){const o=e.getX(),r=e.getY(),s=t.getX(),a=t.getY(),l=n.getX(),c=n.getY(),d=i.getX(),u=i.getY(),p=re.CORR;return o<this.width/2?[new ne(d-p,u+p),new ne(s+p,a+p),new ne(l-p,c-p),new ne(o+p,r-p)]:[new ne(d+p,u+p),new ne(s+p,a-p),new ne(l-p,c+p),new ne(o-p,r-p)]}containsBlackPoint(e,t,n,i){const o=this.image;if(i){for(let r=e;r<=t;r++)if(o.get(r,n))return!0}else for(let r=e;r<=t;r++)if(o.get(n,r))return!0;return!1}}re.INIT_SIZE=10,re.CORR=1;class se{static checkAndNudgePoints(e,t){const n=e.getWidth(),i=e.getHeight();let o=!0;for(let r=0;r<t.length&&o;r+=2){const e=Math.floor(t[r]),s=Math.floor(t[r+1]);if(e<-1||e>n||s<-1||s>i)throw new I;o=!1,-1===e?(t[r]=0,o=!0):e===n&&(t[r]=n-1,o=!0),-1===s?(t[r+1]=0,o=!0):s===i&&(t[r+1]=i-1,o=!0)}o=!0;for(let r=t.length-2;r>=0&&o;r-=2){const e=Math.floor(t[r]),s=Math.floor(t[r+1]);if(e<-1||e>n||s<-1||s>i)throw new I;o=!1,-1===e?(t[r]=0,o=!0):e===n&&(t[r]=n-1,o=!0),-1===s?(t[r+1]=0,o=!0):s===i&&(t[r+1]=i-1,o=!0)}}}class ae{constructor(e,t,n,i,o,r,s,a,l){this.a11=e,this.a21=t,this.a31=n,this.a12=i,this.a22=o,this.a32=r,this.a13=s,this.a23=a,this.a33=l}static quadrilateralToQuadrilateral(e,t,n,i,o,r,s,a,l,c,d,u,p,h,m,f){const g=ae.quadrilateralToSquare(e,t,n,i,o,r,s,a);return ae.squareToQuadrilateral(l,c,d,u,p,h,m,f).times(g)}transformPoints(e){const t=e.length,n=this.a11,i=this.a12,o=this.a13,r=this.a21,s=this.a22,a=this.a23,l=this.a31,c=this.a32,d=this.a33;for(let u=0;u<t;u+=2){const t=e[u],p=e[u+1],h=o*t+a*p+d;e[u]=(n*t+r*p+l)/h,e[u+1]=(i*t+s*p+c)/h}}transformPointsWithValues(e,t){const n=this.a11,i=this.a12,o=this.a13,r=this.a21,s=this.a22,a=this.a23,l=this.a31,c=this.a32,d=this.a33,u=e.length;for(let p=0;p<u;p++){const u=e[p],h=t[p],m=o*u+a*h+d;e[p]=(n*u+r*h+l)/m,t[p]=(i*u+s*h+c)/m}}static squareToQuadrilateral(e,t,n,i,o,r,s,a){const l=e-n+o-s,c=t-i+r-a;if(0===l&&0===c)return new ae(n-e,o-n,e,i-t,r-i,t,0,0,1);{const d=n-o,u=s-o,p=i-r,h=a-r,m=d*h-u*p,f=(l*h-u*c)/m,g=(d*c-l*p)/m;return new ae(n-e+f*n,s-e+g*s,e,i-t+f*i,a-t+g*a,t,f,g,1)}}static quadrilateralToSquare(e,t,n,i,o,r,s,a){return ae.squareToQuadrilateral(e,t,n,i,o,r,s,a).buildAdjoint()}buildAdjoint(){return new ae(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new ae(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class le extends se{sampleGrid(e,t,n,i,o,r,s,a,l,c,d,u,p,h,m,f,g,v,y){const b=ae.quadrilateralToQuadrilateral(i,o,r,s,a,l,c,d,u,p,h,m,f,g,v,y);return this.sampleGridWithTransform(e,t,n,b)}sampleGridWithTransform(e,t,n,i){if(t<=0||n<=0)throw new I;const o=new S(t,n),r=new Float32Array(2*t);for(let a=0;a<n;a++){const t=r.length,n=a+.5;for(let e=0;e<t;e+=2)r[e]=e/2+.5,r[e+1]=n;i.transformPoints(r),se.checkAndNudgePoints(e,r);try{for(let n=0;n<t;n+=2)e.get(Math.floor(r[n]),Math.floor(r[n+1]))&&o.set(n/2,a)}catch(s){throw new I}}return o}}class ce{static setGridSampler(e){ce.gridSampler=e}static getInstance(){return ce.gridSampler}}ce.gridSampler=new le;class de{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new ne(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ue{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){let e=n[0];n[0]=n[2],n[2]=e}this.extractParameters(n);let i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new oe(i,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!(this.isValidPoint(e[0])&&this.isValidPoint(e[1])&&this.isValidPoint(e[2])&&this.isValidPoint(e[3])))throw new I;let t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);let i=0;for(let r=0;r<4;r++){let e=n[(this.shift+r)%4];this.compact?(i<<=7,i+=e>>1&127):(i<<=10,i+=(e>>2&992)+(e>>1&31))}let o=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=1+(o>>6),this.nbDataBlocks=1+(63&o)):(this.nbLayers=1+(o>>11),this.nbDataBlocks=1+(2047&o))}getRotation(e,t){let n=0;e.forEach((e,i,o)=>{n=(e>>t-2<<1)+(1&e)+(n<<3)}),n=((1&n)<<11)+(n>>1);for(let i=0;i<4;i++)if(m.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new I}getCorrectedParameterData(e,t){let n,i;t?(n=7,i=2):(n=10,i=4);let o=n-i,r=new Int32Array(n);for(let l=n-1;l>=0;--l)r[l]=15&e,e>>=4;try{new K(Y.AZTEC_PARAM).decode(r,o)}catch(a){throw new I}let s=0;for(let l=0;l<i;l++)s=(s<<4)+r[l];return s}getBullsEyeCorners(e){let t=e,n=e,i=e,o=e,r=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let e=this.getFirstDifferent(t,r,1,-1),s=this.getFirstDifferent(n,r,1,1),a=this.getFirstDifferent(i,r,-1,1),l=this.getFirstDifferent(o,r,-1,-1);if(this.nbCenterLayers>2){let n=this.distancePoint(l,e)*this.nbCenterLayers/(this.distancePoint(o,t)*(this.nbCenterLayers+2));if(n<.75||n>1.25||!this.isWhiteOrBlackRectangle(e,s,a,l))break}t=e,n=s,i=a,o=l,r=!r}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new I;this.compact=5===this.nbCenterLayers;let s=new ne(t.getX()+.5,t.getY()-.5),a=new ne(n.getX()+.5,n.getY()+.5),l=new ne(i.getX()-.5,i.getY()+.5),c=new ne(o.getX()-.5,o.getY()-.5);return this.expandSquare([s,a,l,c],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,n,i;try{let o=new re(this.image).detect();e=o[0],t=o[1],n=o[2],i=o[3]}catch(s){let o=this.image.getWidth()/2,r=this.image.getHeight()/2;e=this.getFirstDifferent(new de(o+7,r-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new de(o+7,r+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new de(o-7,r+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new de(o-7,r-7),!1,-1,-1).toResultPoint()}let o=ee.round((e.getX()+i.getX()+t.getX()+n.getX())/4),r=ee.round((e.getY()+i.getY()+t.getY()+n.getY())/4);try{let s=new re(this.image,15,o,r).detect();e=s[0],t=s[1],n=s[2],i=s[3]}catch(s){e=this.getFirstDifferent(new de(o+7,r-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new de(o+7,r+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new de(o-7,r+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new de(o-7,r-7),!1,-1,-1).toResultPoint()}return o=ee.round((e.getX()+i.getX()+t.getX()+n.getX())/4),r=ee.round((e.getY()+i.getY()+t.getY()+n.getY())/4),new de(o,r)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,n,i,o){let r=ce.getInstance(),s=this.getDimension(),a=s/2-this.nbCenterLayers,l=s/2+this.nbCenterLayers;return r.sampleGrid(e,s,s,a,a,l,a,l,l,a,l,t.getX(),t.getY(),n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY())}sampleLine(e,t,n){let i=0,o=this.distanceResultPoint(e,t),r=o/n,s=e.getX(),a=e.getY(),l=r*(t.getX()-e.getX())/o,c=r*(t.getY()-e.getY())/o;for(let d=0;d<n;d++)this.image.get(ee.round(s+d*l),ee.round(a+d*c))&&(i|=1<<n-d-1);return i}isWhiteOrBlackRectangle(e,t,n,i){e=new de(e.getX()-3,e.getY()+3),t=new de(t.getX()-3,t.getY()-3),n=new de(n.getX()+3,n.getY()-3),i=new de(i.getX()+3,i.getY()+3);let o=this.getColor(i,e);if(0===o)return!1;let r=this.getColor(e,t);return r===o&&(r=this.getColor(t,n),r===o&&(r=this.getColor(n,i),r===o))}getColor(e,t){let n=this.distancePoint(e,t),i=(t.getX()-e.getX())/n,o=(t.getY()-e.getY())/n,r=0,s=e.getX(),a=e.getY(),l=this.image.get(e.getX(),e.getY()),c=Math.ceil(n);for(let u=0;u<c;u++)s+=i,a+=o,this.image.get(ee.round(s),ee.round(a))!==l&&r++;let d=r/n;return d>.1&&d<.9?0:d<=.1===l?1:-1}getFirstDifferent(e,t,n,i){let o=e.getX()+n,r=e.getY()+i;for(;this.isValid(o,r)&&this.image.get(o,r)===t;)o+=n,r+=i;for(o-=n,r-=i;this.isValid(o,r)&&this.image.get(o,r)===t;)o+=n;for(o-=n;this.isValid(o,r)&&this.image.get(o,r)===t;)r+=i;return r-=i,new de(o,r)}expandSquare(e,t,n){let i=n/(2*t),o=e[0].getX()-e[2].getX(),r=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,a=(e[0].getY()+e[2].getY())/2,l=new ne(s+i*o,a+i*r),c=new ne(s-i*o,a-i*r);return o=e[1].getX()-e[3].getX(),r=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,a=(e[1].getY()+e[3].getY())/2,[l,new ne(s+i*o,a+i*r),c,new ne(s-i*o,a-i*r)]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=ee.round(e.getX()),n=ee.round(e.getY());return this.isValid(t,n)}distancePoint(e,t){return ee.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return ee.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(m.truncDivision(this.nbLayers-4,8)+1)+15}}class pe{decode(e,t=null){let n=null,i=new ue(e.getBlackMatrix()),o=null,r=null;try{let e=i.detectMirror(!1);o=e.getPoints(),this.reportFoundResultPoints(t,o),r=(new J).decode(e)}catch(c){n=c}if(null==r)try{let e=i.detectMirror(!0);o=e.getPoints(),this.reportFoundResultPoints(t,o),r=(new J).decode(e)}catch(c){if(null!=n)throw n;throw c}let s=new k(r.getText(),r.getRawBytes(),r.getNumBits(),o,j.AZTEC,d.currentTimeMillis()),a=r.getByteSegments();null!=a&&s.putMetadata(U.BYTE_SEGMENTS,a);let l=r.getECLevel();return null!=l&&s.putMetadata(U.ERROR_CORRECTION_LEVEL,l),s}reportFoundResultPoints(e,t){if(null!=e){let n=e.get(v.NEED_RESULT_POINT_CALLBACK);null!=n&&t.forEach((e,t,i)=>{n.foundPossibleResultPoint(e)})}}reset(){}}class he{decode(e,t){try{return this.doDecode(e,t)}catch(n){if(t&&!0===t.get(v.TRY_HARDER)&&e.isRotateSupported()){const n=e.rotateCounterClockwise(),i=this.doDecode(n,t),o=i.getResultMetadata();let r=270;null!==o&&!0===o.get(U.ORIENTATION)&&(r+=o.get(U.ORIENTATION)%360),i.putMetadata(U.ORIENTATION,r);const s=i.getResultPoints();if(null!==s){const e=n.getHeight();for(let t=0;t<s.length;t++)s[t]=new ne(e-s[t].getY()-1,s[t].getX())}return i}throw new I}}reset(){}doDecode(e,t){const n=e.getWidth(),i=e.getHeight();let o=new f(n);const r=t&&!0===t.get(v.TRY_HARDER),s=Math.max(1,i>>(r?8:5));let a;a=r?i:15;const l=Math.trunc(i/2);for(let u=0;u<a;u++){const r=Math.trunc((u+1)/2),a=l+s*(0==(1&u)?r:-r);if(a<0||a>=i)break;try{o=e.getBlackRow(a,o)}catch(c){continue}for(let e=0;e<2;e++){if(1===e&&(o.reverse(),t&&!0===t.get(v.NEED_RESULT_POINT_CALLBACK))){const e=new Map;t.forEach((t,n)=>e.set(n,t)),e.delete(v.NEED_RESULT_POINT_CALLBACK),t=e}try{const i=this.decodeRow(a,o,t);if(1===e){i.putMetadata(U.ORIENTATION,180);const e=i.getResultPoints();null!==e&&(e[0]=new ne(n-e[0].getX()-1,e[0].getY()),e[1]=new ne(n-e[1].getX()-1,e[1].getY()))}return i}catch(d){}}}throw new I}static recordPattern(e,t,n){const i=n.length;for(let l=0;l<i;l++)n[l]=0;const o=e.getSize();if(t>=o)throw new I;let r=!e.get(t),s=0,a=t;for(;a<o;){if(e.get(a)!==r)n[s]++;else{if(++s===i)break;n[s]=1,r=!r}a++}if(s!==i&&(s!==i-1||a!==o))throw new I}static recordPatternInReverse(e,t,n){let i=n.length,o=e.get(t);for(;t>0&&i>=0;)e.get(--t)!==o&&(i--,o=!o);if(i>=0)throw new I;he.recordPattern(e,t+1,n)}static patternMatchVariance(e,t,n){const i=e.length;let o=0,r=0;for(let l=0;l<i;l++)o+=e[l],r+=t[l];if(o<r)return Number.POSITIVE_INFINITY;const s=o/r;n*=s;let a=0;for(let l=0;l<i;l++){const i=e[l],o=t[l]*s,r=i>o?i-o:o-i;if(r>n)return Number.POSITIVE_INFINITY;a+=r}return a/o}}class me extends he{static findStartPattern(e){const t=e.getSize(),n=e.getNextSet(0);let i=0,o=Int32Array.from([0,0,0,0,0,0]),r=n,s=!1;for(let a=n;a<t;a++)if(e.get(a)!==s)o[i]++;else{if(5===i){let t=me.MAX_AVG_VARIANCE,n=-1;for(let e=me.CODE_START_A;e<=me.CODE_START_C;e++){const i=he.patternMatchVariance(o,me.CODE_PATTERNS[e],me.MAX_INDIVIDUAL_VARIANCE);i<t&&(t=i,n=e)}if(n>=0&&e.isRange(Math.max(0,r-(a-r)/2),r,!1))return Int32Array.from([r,a,n]);r+=o[0]+o[1],o=o.slice(2,o.length-1),o[i-1]=0,o[i]=0,i--}else i++;o[i]=1,s=!s}throw new I}static decodeCode(e,t,n){he.recordPattern(e,n,t);let i=me.MAX_AVG_VARIANCE,o=-1;for(let r=0;r<me.CODE_PATTERNS.length;r++){const e=me.CODE_PATTERNS[r],n=this.patternMatchVariance(t,e,me.MAX_INDIVIDUAL_VARIANCE);n<i&&(i=n,o=r)}if(o>=0)return o;throw new I}decodeRow(e,t,n){const i=n&&!0===n.get(v.ASSUME_GS1),o=me.findStartPattern(t),r=o[2];let s=0;const a=new Uint8Array(20);let c;switch(a[s++]=r,r){case me.CODE_START_A:c=me.CODE_CODE_A;break;case me.CODE_START_B:c=me.CODE_CODE_B;break;case me.CODE_START_C:c=me.CODE_CODE_C;break;default:throw new y}let d=!1,u=!1,p="",h=o[0],m=o[1];const f=Int32Array.from([0,0,0,0,0,0]);let g=0,b=0,x=r,w=0,C=!0,_=!1,S=!1;for(;!d;){const e=u;switch(u=!1,g=b,b=me.decodeCode(t,f,m),a[s++]=b,b!==me.CODE_STOP&&(C=!0),b!==me.CODE_STOP&&(w++,x+=w*b),h=m,m+=f.reduce((e,t)=>e+t,0),b){case me.CODE_START_A:case me.CODE_START_B:case me.CODE_START_C:throw new y}switch(c){case me.CODE_CODE_A:if(b<64)p+=S===_?String.fromCharCode(" ".charCodeAt(0)+b):String.fromCharCode(" ".charCodeAt(0)+b+128),S=!1;else if(b<96)p+=S===_?String.fromCharCode(b-64):String.fromCharCode(b+64),S=!1;else switch(b!==me.CODE_STOP&&(C=!1),b){case me.CODE_FNC_1:i&&(0===p.length?p+="]C1":p+=String.fromCharCode(29));break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_A:!_&&S?(_=!0,S=!1):_&&S?(_=!1,S=!1):S=!0;break;case me.CODE_SHIFT:u=!0,c=me.CODE_CODE_B;break;case me.CODE_CODE_B:c=me.CODE_CODE_B;break;case me.CODE_CODE_C:c=me.CODE_CODE_C;break;case me.CODE_STOP:d=!0}break;case me.CODE_CODE_B:if(b<96)p+=S===_?String.fromCharCode(" ".charCodeAt(0)+b):String.fromCharCode(" ".charCodeAt(0)+b+128),S=!1;else switch(b!==me.CODE_STOP&&(C=!1),b){case me.CODE_FNC_1:i&&(0===p.length?p+="]C1":p+=String.fromCharCode(29));break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_B:!_&&S?(_=!0,S=!1):_&&S?(_=!1,S=!1):S=!0;break;case me.CODE_SHIFT:u=!0,c=me.CODE_CODE_A;break;case me.CODE_CODE_A:c=me.CODE_CODE_A;break;case me.CODE_CODE_C:c=me.CODE_CODE_C;break;case me.CODE_STOP:d=!0}break;case me.CODE_CODE_C:if(b<100)b<10&&(p+="0"),p+=b;else switch(b!==me.CODE_STOP&&(C=!1),b){case me.CODE_FNC_1:i&&(0===p.length?p+="]C1":p+=String.fromCharCode(29));break;case me.CODE_CODE_A:c=me.CODE_CODE_A;break;case me.CODE_CODE_B:c=me.CODE_CODE_B;break;case me.CODE_STOP:d=!0}}e&&(c=c===me.CODE_CODE_A?me.CODE_CODE_B:me.CODE_CODE_A)}const A=m-h;if(m=t.getNextUnset(m),!t.isRange(m,Math.min(t.getSize(),m+(m-h)/2),!1))throw new I;if(x-=w*g,x%103!==g)throw new l;const E=p.length;if(0===E)throw new I;E>0&&C&&(p=c===me.CODE_CODE_C?p.substring(0,E-2):p.substring(0,E-1));const D=(o[1]+o[0])/2,T=h+A/2,R=a.length,M=new Uint8Array(R);for(let l=0;l<R;l++)M[l]=a[l];const O=[new ne(D,e),new ne(T,e)];return new k(p,M,0,O,j.CODE_128,(new Date).getTime())}}me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],me.MAX_AVG_VARIANCE=.25,me.MAX_INDIVIDUAL_VARIANCE=.7,me.CODE_SHIFT=98,me.CODE_CODE_C=99,me.CODE_CODE_B=100,me.CODE_CODE_A=101,me.CODE_FNC_1=102,me.CODE_FNC_2=97,me.CODE_FNC_3=96,me.CODE_FNC_4_A=101,me.CODE_FNC_4_B=100,me.CODE_START_A=103,me.CODE_START_B=104,me.CODE_START_C=105,me.CODE_STOP=106;class fe extends he{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,n){let i=this.counters;i.fill(0),this.decodeRowResult="";let o,r,s=fe.findAsteriskPattern(t,i),a=t.getNextSet(s[1]),c=t.getSize();do{fe.recordPattern(t,a,i);let e=fe.toNarrowWidePattern(i);if(e<0)throw new I;o=fe.patternToChar(e),this.decodeRowResult+=o,r=a;for(let t of i)a+=t;a=t.getNextSet(a)}while("*"!==o);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let d,u=0;for(let l of i)u+=l;if(a!==c&&2*(a-r-u)<u)throw new I;if(this.usingCheckDigit){let e=this.decodeRowResult.length-1,t=0;for(let n=0;n<e;n++)t+=fe.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(n));if(this.decodeRowResult.charAt(e)!==fe.ALPHABET_STRING.charAt(t%43))throw new l;this.decodeRowResult=this.decodeRowResult.substring(0,e)}if(0===this.decodeRowResult.length)throw new I;d=this.extendedMode?fe.decodeExtended(this.decodeRowResult):this.decodeRowResult;let p=(s[1]+s[0])/2,h=r+u/2;return new k(d,null,0,[new ne(p,e),new ne(h,e)],j.CODE_39,(new Date).getTime())}static findAsteriskPattern(e,t){let n=e.getSize(),i=e.getNextSet(0),o=0,r=i,s=!1,a=t.length;for(let l=i;l<n;l++)if(e.get(l)!==s)t[o]++;else{if(o===a-1){if(this.toNarrowWidePattern(t)===fe.ASTERISK_ENCODING&&e.isRange(Math.max(0,r-Math.floor((l-r)/2)),r,!1))return[r,l];r+=t[0]+t[1],t.copyWithin(0,2,2+o-1),t[o-1]=0,t[o]=0,o--}else o++;t[o]=1,s=!s}throw new I}static toNarrowWidePattern(e){let t,n=e.length,i=0;do{let o=2147483647;for(let t of e)t<o&&t>i&&(o=t);i=o,t=0;let r=0,s=0;for(let a=0;a<n;a++){let o=e[a];o>i&&(s|=1<<n-1-a,t++,r+=o)}if(3===t){for(let o=0;o<n&&t>0;o++){let n=e[o];if(n>i&&(t--,2*n>=r))return-1}return s}}while(t>3);return-1}static patternToChar(e){for(let t=0;t<fe.CHARACTER_ENCODINGS.length;t++)if(fe.CHARACTER_ENCODINGS[t]===e)return fe.ALPHABET_STRING.charAt(t);if(e===fe.ASTERISK_ENCODING)return"*";throw new I}static decodeExtended(e){let t=e.length,n="";for(let i=0;i<t;i++){let t=e.charAt(i);if("+"===t||"$"===t||"%"===t||"/"===t){let o=e.charAt(i+1),r="\0";switch(t){case"+":if(!(o>="A"&&o<="Z"))throw new y;r=String.fromCharCode(o.charCodeAt(0)+32);break;case"$":if(!(o>="A"&&o<="Z"))throw new y;r=String.fromCharCode(o.charCodeAt(0)-64);break;case"%":if(o>="A"&&o<="E")r=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")r=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")r=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")r=String.fromCharCode(o.charCodeAt(0)+43);else if("U"===o)r="\0";else if("V"===o)r="@";else if("W"===o)r="`";else{if("X"!==o&&"Y"!==o&&"Z"!==o)throw new y;r="\x7f"}break;case"/":if(o>="A"&&o<="O")r=String.fromCharCode(o.charCodeAt(0)-32);else{if("Z"!==o)throw new y;r=":"}}n+=r,i++}else n+=t}return n}}fe.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",fe.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],fe.ASTERISK_ENCODING=148;class ge extends he{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,n){let i=this.decodeStart(t),o=this.decodeEnd(t),r=new _;ge.decodeMiddle(t,i[1],o[0],r);let s=r.toString(),a=null;null!=n&&(a=n.get(v.ALLOWED_LENGTHS)),null==a&&(a=ge.DEFAULT_ALLOWED_LENGTHS);let l=s.length,c=!1,d=0;for(let p of a){if(l===p){c=!0;break}p>d&&(d=p)}if(!c&&l>d&&(c=!0),!c)throw new y;const u=[new ne(i[1],e),new ne(o[0],e)];return new k(s,null,0,u,j.ITF,(new Date).getTime())}static decodeMiddle(e,t,n,i){let o=new Int32Array(10),r=new Int32Array(5),s=new Int32Array(5);for(o.fill(0),r.fill(0),s.fill(0);t<n;){he.recordPattern(e,t,o);for(let e=0;e<5;e++){let t=2*e;r[e]=o[t],s[e]=o[t+1]}let n=ge.decodeDigit(r);i.append(n.toString()),n=this.decodeDigit(s),i.append(n.toString()),o.forEach(function(e){t+=e})}}decodeStart(e){let t=ge.skipWhiteSpace(e),n=ge.findGuardPattern(e,t,ge.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(e,n[0]),n}validateQuietZone(e,t){let n=10*this.narrowLineWidth;n=n<t?n:t;for(let i=t-1;n>0&&i>=0&&!e.get(i);i--)n--;if(0!==n)throw new I}static skipWhiteSpace(e){const t=e.getSize(),n=e.getNextSet(0);if(n===t)throw new I;return n}decodeEnd(e){e.reverse();try{let n,i=ge.skipWhiteSpace(e);try{n=ge.findGuardPattern(e,i,ge.END_PATTERN_REVERSED[0])}catch(t){t instanceof I&&(n=ge.findGuardPattern(e,i,ge.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,n[0]);let o=n[0];return n[0]=e.getSize()-n[1],n[1]=e.getSize()-o,n}finally{e.reverse()}}static findGuardPattern(e,t,n){let i=n.length,o=new Int32Array(i),r=e.getSize(),s=!1,a=0,l=t;o.fill(0);for(let c=t;c<r;c++)if(e.get(c)!==s)o[a]++;else{if(a===i-1){if(he.patternMatchVariance(o,n,ge.MAX_INDIVIDUAL_VARIANCE)<ge.MAX_AVG_VARIANCE)return[l,c];l+=o[0]+o[1],d.arraycopy(o,2,o,0,a-1),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,s=!s}throw new I}static decodeDigit(e){let t=ge.MAX_AVG_VARIANCE,n=-1,i=ge.PATTERNS.length;for(let o=0;o<i;o++){let i=ge.PATTERNS[o],r=he.patternMatchVariance(e,i,ge.MAX_INDIVIDUAL_VARIANCE);r<t?(t=r,n=o):r===t&&(n=-1)}if(n>=0)return n%10;throw new I}}ge.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ge.MAX_AVG_VARIANCE=.38,ge.MAX_INDIVIDUAL_VARIANCE=.5,ge.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ge.START_PATTERN=Int32Array.from([1,1,1,1]),ge.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ve extends he{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t,n=!1,i=0,o=Int32Array.from([0,0,0]);for(;!n;){o=Int32Array.from([0,0,0]),t=ve.findGuardPattern(e,i,!1,this.START_END_PATTERN,o);let r=t[0];i=t[1];let s=r-(i-r);s>=0&&(n=e.isRange(s,r,!1))}return t}static checkChecksum(e){return ve.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let n=parseInt(e.charAt(t-1),10);return ve.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let i=t-1;i>=0;i-=2){let t=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new y;n+=t}n*=3;for(let i=t-2;i>=0;i-=2){let t=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new y;n+=t}return(1e3-n)%10}static decodeEnd(e,t){return ve.findGuardPattern(e,t,!1,ve.START_END_PATTERN,new Int32Array(ve.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,n,i){return this.findGuardPattern(e,t,n,i,new Int32Array(i.length))}static findGuardPattern(e,t,n,i,o){let r=e.getSize(),s=0,a=t=n?e.getNextUnset(t):e.getNextSet(t),l=i.length,c=n;for(let d=t;d<r;d++)if(e.get(d)!==c)o[s]++;else{if(s===l-1){if(he.patternMatchVariance(o,i,ve.MAX_INDIVIDUAL_VARIANCE)<ve.MAX_AVG_VARIANCE)return Int32Array.from([a,d]);a+=o[0]+o[1];let e=o.slice(2,o.length-1);for(let t=0;t<s-1;t++)o[t]=e[t];o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,c=!c}throw new I}static decodeDigit(e,t,n,i){this.recordPattern(e,n,t);let o=this.MAX_AVG_VARIANCE,r=-1,s=i.length;for(let a=0;a<s;a++){let e=i[a],n=he.patternMatchVariance(t,e,ve.MAX_INDIVIDUAL_VARIANCE);n<o&&(o=n,r=a)}if(r>=0)return r;throw new I}}ve.MAX_AVG_VARIANCE=.48,ve.MAX_INDIVIDUAL_VARIANCE=.7,ve.START_END_PATTERN=Int32Array.from([1,1,1]),ve.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ve.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ve.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ye{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let i=this.decodeRowStringBuffer,o=this.decodeMiddle(t,n,i),r=i.toString(),s=ye.parseExtensionString(r),a=[new ne((n[0]+n[1])/2,e),new ne(o,e)],l=new k(r,null,0,a,j.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&l.putAllMetadata(s),l}decodeMiddle(e,t,n){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),r=t[1],s=0;for(let l=0;l<5&&r<o;l++){let t=ve.decodeDigit(e,i,r,ve.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of i)r+=e;t>=10&&(s|=1<<4-l),4!==l&&(r=e.getNextSet(r),r=e.getNextUnset(r))}if(5!==n.length)throw new I;let a=this.determineCheckDigit(s);if(ye.extensionChecksum(n.toString())!==a)throw new I;return r}static extensionChecksum(e){let t=e.length,n=0;for(let i=t-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(let i=t-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new I}static parseExtensionString(e){if(5!==e.length)return null;let t=ye.parseExtension5String(e);return null==t?null:new Map([[U.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="\xa3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}let n=parseInt(e.substring(1)),i=n%100;return t+(n/100).toString()+"."+(i<10?"0"+i:i.toString())}}class be{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let i=this.decodeRowStringBuffer,o=this.decodeMiddle(t,n,i),r=i.toString(),s=be.parseExtensionString(r),a=[new ne((n[0]+n[1])/2,e),new ne(o,e)],l=new k(r,null,0,a,j.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&l.putAllMetadata(s),l}decodeMiddle(e,t,n){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),r=t[1],s=0;for(let a=0;a<2&&r<o;a++){let t=ve.decodeDigit(e,i,r,ve.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of i)r+=e;t>=10&&(s|=1<<1-a),1!==a&&(r=e.getNextSet(r),r=e.getNextUnset(r))}if(2!==n.length)throw new I;if(parseInt(n.toString())%4!==s)throw new I;return r}static parseExtensionString(e){return 2!==e.length?null:new Map([[U.ISSUE_NUMBER,parseInt(e)]])}}class xe{static decodeRow(e,t,n){let i=ve.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new ye).decodeRow(e,t,i)}catch(o){return(new be).decodeRow(e,t,i)}}}xe.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class we extends ve{constructor(){super(),this.decodeRowStringBuffer="",we.L_AND_G_PATTERNS=we.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=we.L_PATTERNS[e-10],n=new Int32Array(t.length);for(let e=0;e<t.length;e++)n[e]=t[t.length-e-1];we.L_AND_G_PATTERNS[e]=n}}decodeRow(e,t,n){let i=we.findStartGuardPattern(t),o=null==n?null:n.get(v.NEED_RESULT_POINT_CALLBACK);if(null!=o){const t=new ne((i[0]+i[1])/2,e);o.foundPossibleResultPoint(t)}let r=this.decodeMiddle(t,i,this.decodeRowStringBuffer),s=r.rowOffset,a=r.resultString;if(null!=o){const t=new ne(s,e);o.foundPossibleResultPoint(t)}let c=we.decodeEnd(t,s);if(null!=o){const t=new ne((c[0]+c[1])/2,e);o.foundPossibleResultPoint(t)}let d=c[1],u=d+(d-c[0]);if(u>=t.getSize()||!t.isRange(d,u,!1))throw new I;let p=a.toString();if(p.length<8)throw new y;if(!we.checkChecksum(p))throw new l;let h=(i[1]+i[0])/2,m=(c[1]+c[0])/2,f=this.getBarcodeFormat(),g=[new ne(h,e),new ne(m,e)],b=new k(p,null,0,g,f,(new Date).getTime()),x=0;try{let n=xe.decodeRow(e,t,c[1]);b.putMetadata(U.UPC_EAN_EXTENSION,n.getText()),b.putAllMetadata(n.getResultMetadata()),b.addResultPoints(n.getResultPoints()),x=n.getText().length}catch(C){}let w=null==n?null:n.get(v.ALLOWED_EAN_EXTENSIONS);if(null!=w){let e=!1;for(let t in w)if(x.toString()===t){e=!0;break}if(!e)throw new I}return f===j.EAN_13||j.UPC_A,b}static checkChecksum(e){return we.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let n=parseInt(e.charAt(t-1),10);return we.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let i=t-1;i>=0;i-=2){let t=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new y;n+=t}n*=3;for(let i=t-2;i>=0;i-=2){let t=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new y;n+=t}return(1e3-n)%10}static decodeEnd(e,t){return we.findGuardPattern(e,t,!1,we.START_END_PATTERN,new Int32Array(we.START_END_PATTERN.length).fill(0))}}class Ce extends we{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),r=t[1],s=0;for(let a=0;a<6&&r<o;a++){let t=we.decodeDigit(e,i,r,we.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of i)r+=e;t>=10&&(s|=1<<5-a)}n=Ce.determineFirstDigit(n,s),r=we.findGuardPattern(e,r,!0,we.MIDDLE_PATTERN,new Int32Array(we.MIDDLE_PATTERN.length).fill(0))[1];for(let a=0;a<6&&r<o;a++){let t=we.decodeDigit(e,i,r,we.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of i)r+=e}return{rowOffset:r,resultString:n}}getBarcodeFormat(){return j.EAN_13}static determineFirstDigit(e,t){for(let n=0;n<10;n++)if(t===this.FIRST_DIGIT_ENCODINGS[n])return e=String.fromCharCode("0".charCodeAt(0)+n)+e;throw new I}}Ce.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class _e extends we{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){const i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),r=t[1];for(let s=0;s<4&&r<o;s++){let t=we.decodeDigit(e,i,r,we.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of i)r+=e}r=we.findGuardPattern(e,r,!0,we.MIDDLE_PATTERN,new Int32Array(we.MIDDLE_PATTERN.length).fill(0))[1];for(let s=0;s<4&&r<o;s++){let t=we.decodeDigit(e,i,r,we.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of i)r+=e}return{rowOffset:r,resultString:n}}getBarcodeFormat(){return j.EAN_8}}class Se extends we{constructor(){super(...arguments),this.ean13Reader=new Ce}getBarcodeFormat(){return j.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,n))}decodeMiddle(e,t,n){return this.ean13Reader.decodeMiddle(e,t,n)}maybeReturnResult(e){let t=e.getText();if("0"===t.charAt(0)){let n=new k(t.substring(1),null,null,e.getResultPoints(),j.UPC_A);return null!=e.getResultMetadata()&&n.putAllMetadata(e.getResultMetadata()),n}throw new I}reset(){this.ean13Reader.reset()}}class Ie extends we{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,n){const i=this.decodeMiddleCounters.map(e=>e);i[0]=0,i[1]=0,i[2]=0,i[3]=0;const o=e.getSize();let r=t[1],s=0;for(let a=0;a<6&&r<o;a++){const t=Ie.decodeDigit(e,i,r,Ie.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of i)r+=e;t>=10&&(s|=1<<5-a)}return Ie.determineNumSysAndCheckDigit(new _(n),s),r}decodeEnd(e,t){return Ie.findGuardPatternWithoutCounters(e,t,!0,Ie.MIDDLE_END_PATTERN)}checkChecksum(e){return we.checkChecksum(Ie.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let n=0;n<=1;n++)for(let i=0;i<10;i++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][i])return e.insert(0,"0"+n),void e.append("0"+i);throw I.getNotFoundInstance()}getBarcodeFormat(){return j.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(e=>e.charCodeAt(0)),n=new _;n.append(e.charAt(0));let i=t[5];switch(i){case 0:case 1:case 2:n.appendChars(t,0,2),n.append(i),n.append("0000"),n.appendChars(t,2,3);break;case 3:n.appendChars(t,0,3),n.append("00000"),n.appendChars(t,3,2);break;case 4:n.appendChars(t,0,4),n.append("00000"),n.append(t[4]);break;default:n.appendChars(t,0,5),n.append("0000"),n.append(i)}return e.length>=8&&n.append(e.charAt(7)),n.toString()}}Ie.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ie.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])];class Ae extends he{constructor(e){super();let t=null==e?null:e.get(v.POSSIBLE_FORMATS),n=[];null!=t&&(t.indexOf(j.EAN_13)>-1?n.push(new Ce):t.indexOf(j.UPC_A)>-1&&n.push(new Se),t.indexOf(j.EAN_8)>-1&&n.push(new _e),t.indexOf(j.UPC_E)>-1&&n.push(new Ie)),0===n.length&&(n.push(new Ce),n.push(new _e),n.push(new Ie)),this.readers=n}decodeRow(e,t,n){for(let o of this.readers)try{const i=o.decodeRow(e,t,n),r=i.getBarcodeFormat()===j.EAN_13&&"0"===i.getText().charAt(0),s=null==n?null:n.get(v.POSSIBLE_FORMATS),a=null==s||s.includes(j.UPC_A);if(r&&a){const e=i.getRawBytes(),t=new k(i.getText().substring(1),e,e.length,i.getResultPoints(),j.UPC_A);return t.putAllMetadata(i.getResultMetadata()),t}return i}catch(i){}throw new I}reset(){for(let e of this.readers)e.reset()}}class Ee extends he{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let n=0;n<t.length;n++)if(he.patternMatchVariance(e,t[n],Ee.MAX_INDIVIDUAL_VARIANCE)<Ee.MAX_AVG_VARIANCE)return n;throw new I}static count(e){return ee.sum(new Int32Array(e))}static increment(e,t){let n=0,i=t[0];for(let o=1;o<e.length;o++)t[o]>i&&(i=t[o],n=o);e[n]++}static decrement(e,t){let n=0,i=t[0];for(let o=1;o<e.length;o++)t[o]<i&&(i=t[o],n=o);e[n]--}static isFinderPattern(e){let t=e[0]+e[1],n=t/(t+e[2]+e[3]);if(n>=Ee.MIN_FINDER_PATTERN_RATIO&&n<=Ee.MAX_FINDER_PATTERN_RATIO){let t=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER;for(let i of e)i>n&&(n=i),i<t&&(t=i);return n<10*t}return!1}}Ee.MAX_AVG_VARIANCE=.2,Ee.MAX_INDIVIDUAL_VARIANCE=.45,Ee.MIN_FINDER_PATTERN_RATIO=9.5/12,Ee.MAX_FINDER_PATTERN_RATIO=12.5/14;class De{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof De))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Te{constructor(e,t,n,i,o){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new ne(n,o)),this.resultPoints.push(new ne(i,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Te))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class Re{constructor(){}static getRSSvalue(e,t,n){let i=0;for(let a of e)i+=a;let o=0,r=0,s=e.length;for(let a=0;a<s-1;a++){let l;for(l=1,r|=1<<a;l<e[a];l++,r&=~(1<<a)){let e=Re.combins(i-l-1,s-a-2);if(n&&0===r&&i-l-(s-a-1)>=s-a-1&&(e-=Re.combins(i-l-(s-a),s-a-2)),s-a-1>1){let n=0;for(let e=i-l-(s-a-2);e>t;e--)n+=Re.combins(i-l-e-1,s-a-3);e-=n*(s-1-a)}else i-l>t&&e--;o+=e}i-=l}return o}static combins(e,t){let n,i;e-t>t?(i=t,n=e-t):(i=e-t,n=t);let o=1,r=1;for(let s=e;s>n;s--)o*=s,r<=i&&(o/=r,r++);for(;r<=i;)o/=r,r++;return o}}class Me{static buildBitArray(e){let t=2*e.length-1;null==e[e.length-1].getRightChar()&&(t-=1);let n=new f(12*t),i=0,o=e[0].getRightChar().getValue();for(let r=11;r>=0;--r)0!=(o&1<<r)&&n.set(i),i++;for(let r=1;r<e.length;++r){let t=e[r],o=t.getLeftChar().getValue();for(let e=11;e>=0;--e)0!=(o&1<<e)&&n.set(i),i++;if(null!=t.getRightChar()){let e=t.getRightChar().getValue();for(let t=11;t>=0;--t)0!=(e&1<<t)&&n.set(i),i++}}return n}}class Oe{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Pe{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Fe extends Pe{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===Fe.FNC1}}Fe.FNC1="$";class ke extends Pe{constructor(e,t,n){super(e),n?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ne extends Pe{constructor(e,t,n){if(super(e),t<0||t>10||n<0||n>10)throw new y;this.firstDigit=t,this.secondDigit=n}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ne.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ne.FNC1}isAnyFNC1(){return this.firstDigit===Ne.FNC1||this.secondDigit===Ne.FNC1}}Ne.FNC1=10;class je{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new I;let t=e.substring(0,2);for(let o of je.TWO_DIGIT_DATA_LENGTH)if(o[0]===t)return o[1]===je.VARIABLE_LENGTH?je.processVariableAI(2,o[2],e):je.processFixedAI(2,o[1],e);if(e.length<3)throw new I;let n=e.substring(0,3);for(let o of je.THREE_DIGIT_DATA_LENGTH)if(o[0]===n)return o[1]===je.VARIABLE_LENGTH?je.processVariableAI(3,o[2],e):je.processFixedAI(3,o[1],e);for(let o of je.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===n)return o[1]===je.VARIABLE_LENGTH?je.processVariableAI(4,o[2],e):je.processFixedAI(4,o[1],e);if(e.length<4)throw new I;let i=e.substring(0,4);for(let o of je.FOUR_DIGIT_DATA_LENGTH)if(o[0]===i)return o[1]===je.VARIABLE_LENGTH?je.processVariableAI(4,o[2],e):je.processFixedAI(4,o[1],e);throw new I}static processFixedAI(e,t,n){if(n.length<e)throw new I;let i=n.substring(0,e);if(n.length<e+t)throw new I;let o=n.substring(e,e+t),r=n.substring(e+t),s="("+i+")"+o,a=je.parseFieldsInGeneralPurpose(r);return null==a?s:s+a}static processVariableAI(e,t,n){let i,o=n.substring(0,e);i=n.length<e+t?n.length:e+t;let r=n.substring(e,i),s=n.substring(i),a="("+o+")"+r,l=je.parseFieldsInGeneralPurpose(s);return null==l?a:a+l}}je.VARIABLE_LENGTH=[],je.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",je.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",je.VARIABLE_LENGTH,20],["22",je.VARIABLE_LENGTH,29],["30",je.VARIABLE_LENGTH,8],["37",je.VARIABLE_LENGTH,8],["90",je.VARIABLE_LENGTH,30],["91",je.VARIABLE_LENGTH,30],["92",je.VARIABLE_LENGTH,30],["93",je.VARIABLE_LENGTH,30],["94",je.VARIABLE_LENGTH,30],["95",je.VARIABLE_LENGTH,30],["96",je.VARIABLE_LENGTH,30],["97",je.VARIABLE_LENGTH,3],["98",je.VARIABLE_LENGTH,30],["99",je.VARIABLE_LENGTH,30]],je.THREE_DIGIT_DATA_LENGTH=[["240",je.VARIABLE_LENGTH,30],["241",je.VARIABLE_LENGTH,30],["242",je.VARIABLE_LENGTH,6],["250",je.VARIABLE_LENGTH,30],["251",je.VARIABLE_LENGTH,30],["253",je.VARIABLE_LENGTH,17],["254",je.VARIABLE_LENGTH,20],["400",je.VARIABLE_LENGTH,30],["401",je.VARIABLE_LENGTH,30],["402",17],["403",je.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",je.VARIABLE_LENGTH,20],["421",je.VARIABLE_LENGTH,15],["422",3],["423",je.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],je.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",je.VARIABLE_LENGTH,15],["391",je.VARIABLE_LENGTH,18],["392",je.VARIABLE_LENGTH,15],["393",je.VARIABLE_LENGTH,18],["703",je.VARIABLE_LENGTH,30]],je.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",je.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",je.VARIABLE_LENGTH,20],["8003",je.VARIABLE_LENGTH,30],["8004",je.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",je.VARIABLE_LENGTH,30],["8008",je.VARIABLE_LENGTH,12],["8018",18],["8020",je.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",je.VARIABLE_LENGTH,70],["8200",je.VARIABLE_LENGTH,70]];class Le{constructor(e){this.buffer=new _,this.information=e}decodeAllCodes(e,t){let n=t,i=null;for(;;){let t=this.decodeGeneralPurposeField(n,i),o=je.parseFieldsInGeneralPurpose(t.getNewString());if(null!=o&&e.append(o),i=t.isRemaining()?""+t.getRemainingValue():null,n===t.getNewPosition())break;n=t.getNewPosition()}return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let t=this.extractNumericValueFromBitArray(e,4);return new Ne(this.information.getSize(),0===t?Ne.FNC1:t-1,Ne.FNC1)}let t=this.extractNumericValueFromBitArray(e,7);return new Ne(e+7,(t-8)/11,(t-8)%11)}extractNumericValueFromBitArray(e,t){return Le.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,n){let i=0;for(let o=0;o<n;++o)e.get(t+o)&&(i|=1<<n-o-1);return i}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),null!=t&&this.buffer.append(t),this.current.setPosition(e);let n=this.parseBlocks();return null!=n&&n.isRemaining()?new ke(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new ke(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let n=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),n===this.current.getPosition()&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return t=e.isSecondDigitFNC1()?new ke(this.current.getPosition(),this.buffer.toString()):new ke(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Oe(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let e=new ke(this.current.getPosition(),this.buffer.toString());return new Oe(!0,e)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Oe(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new ke(this.current.getPosition(),this.buffer.toString());return new Oe(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Oe(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new ke(this.current.getPosition(),this.buffer.toString());return new Oe(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Oe(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Fe(e+5,Fe.FNC1);if(t>=5&&t<15)return new Fe(e+5,"0"+(t-5));let n,i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<90)return new Fe(e+7,""+(i+1));if(i>=90&&i<116)return new Fe(e+7,""+(i+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:n="!";break;case 233:n='"';break;case 234:n="%";break;case 235:n="&";break;case 236:n="'";break;case 237:n="(";break;case 238:n=")";break;case 239:n="*";break;case 240:n="+";break;case 241:n=",";break;case 242:n="-";break;case 243:n=".";break;case 244:n="/";break;case 245:n=":";break;case 246:n=";";break;case 247:n="<";break;case 248:n="=";break;case 249:n=">";break;case 250:n="?";break;case 251:n="_";break;case 252:n=" ";break;default:throw new y}return new Fe(e+8,n)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Fe(e+5,Fe.FNC1);if(t>=5&&t<15)return new Fe(e+5,"0"+(t-5));let n,i=this.extractNumericValueFromBitArray(e,6);if(i>=32&&i<58)return new Fe(e+6,""+(i+33));switch(i){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new Z("Decoding invalid alphanumeric value: "+i)}return new Fe(e+6,n)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(2===t){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class Ve{constructor(e){this.information=e,this.generalDecoder=new Le(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Be extends Ve{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let n=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,n)}encodeCompressedGtinWithoutAI(e,t,n){for(let i=0;i<4;++i){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*i,10);n/100==0&&e.append("0"),n/10==0&&e.append("0"),e.append(n)}Be.appendCheckDigit(e,n)}static appendCheckDigit(e,t){let n=0;for(let i=0;i<13;i++){let o=e.charAt(i+t).charCodeAt(0)-"0".charCodeAt(0);n+=0==(1&i)?3*o:o}n=10-n%10,10===n&&(n=0),e.append(n)}}Be.GTIN_SIZE=40;class Ge extends Be{constructor(e){super(e)}parseInformation(){let e=new _;e.append("(01)");let t=e.length(),n=this.getGeneralDecoder().extractNumericValueFromBitArray(Ge.HEADER_SIZE,4);return e.append(n),this.encodeCompressedGtinWithoutAI(e,Ge.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,Ge.HEADER_SIZE+44)}}Ge.HEADER_SIZE=4;class ze extends Ve{constructor(e){super(e)}parseInformation(){let e=new _;return this.getGeneralDecoder().decodeAllCodes(e,ze.HEADER_SIZE)}}ze.HEADER_SIZE=5;class $e extends Be{constructor(e){super(e)}encodeCompressedWeight(e,t,n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(t,n);this.addWeightCode(e,i);let o=this.checkWeight(i),r=1e5;for(let s=0;s<5;++s)o/r==0&&e.append("0"),r/=10;e.append(o)}}class Ue extends $e{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Ue.HEADER_SIZE+$e.GTIN_SIZE+Ue.WEIGHT_SIZE)throw new I;let e=new _;return this.encodeCompressedGtin(e,Ue.HEADER_SIZE),this.encodeCompressedWeight(e,Ue.HEADER_SIZE+$e.GTIN_SIZE,Ue.WEIGHT_SIZE),e.toString()}}Ue.HEADER_SIZE=5,Ue.WEIGHT_SIZE=15;class He extends Ue{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class Xe extends Ue{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class We extends Be{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<We.HEADER_SIZE+Be.GTIN_SIZE)throw new I;let e=new _;this.encodeCompressedGtin(e,We.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(We.HEADER_SIZE+Be.GTIN_SIZE,We.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let n=this.getGeneralDecoder().decodeGeneralPurposeField(We.HEADER_SIZE+Be.GTIN_SIZE+We.LAST_DIGIT_SIZE,null);return e.append(n.getNewString()),e.toString()}}We.HEADER_SIZE=8,We.LAST_DIGIT_SIZE=2;class qe extends Be{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<qe.HEADER_SIZE+Be.GTIN_SIZE)throw new I;let e=new _;this.encodeCompressedGtin(e,qe.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(qe.HEADER_SIZE+Be.GTIN_SIZE,qe.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let n=this.getGeneralDecoder().extractNumericValueFromBitArray(qe.HEADER_SIZE+Be.GTIN_SIZE+qe.LAST_DIGIT_SIZE,qe.FIRST_THREE_DIGITS_SIZE);n/100==0&&e.append("0"),n/10==0&&e.append("0"),e.append(n);let i=this.getGeneralDecoder().decodeGeneralPurposeField(qe.HEADER_SIZE+Be.GTIN_SIZE+qe.LAST_DIGIT_SIZE+qe.FIRST_THREE_DIGITS_SIZE,null);return e.append(i.getNewString()),e.toString()}}qe.HEADER_SIZE=8,qe.LAST_DIGIT_SIZE=2,qe.FIRST_THREE_DIGITS_SIZE=10;class Ye extends $e{constructor(e,t,n){super(e),this.dateCode=n,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=Ye.HEADER_SIZE+Ye.GTIN_SIZE+Ye.WEIGHT_SIZE+Ye.DATE_SIZE)throw new I;let e=new _;return this.encodeCompressedGtin(e,Ye.HEADER_SIZE),this.encodeCompressedWeight(e,Ye.HEADER_SIZE+Ye.GTIN_SIZE,Ye.WEIGHT_SIZE),this.encodeCompressedDate(e,Ye.HEADER_SIZE+Ye.GTIN_SIZE+Ye.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,Ye.DATE_SIZE);if(38400==n)return;e.append("("),e.append(this.dateCode),e.append(")");let i=n%32;n/=32;let o=n%12+1;n/=12;let r=n;r/10==0&&e.append("0"),e.append(r),o/10==0&&e.append("0"),e.append(o),i/10==0&&e.append("0"),e.append(i)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}function Qe(e){try{if(e.get(1))return new Ge(e);if(!e.get(2))return new ze(e);switch(Le.extractNumericValueFromBitArray(e,1,4)){case 4:return new He(e);case 5:return new Xe(e)}switch(Le.extractNumericValueFromBitArray(e,1,5)){case 12:return new We(e);case 13:return new qe(e)}switch(Le.extractNumericValueFromBitArray(e,1,7)){case 56:return new Ye(e,"310","11");case 57:return new Ye(e,"320","11");case 58:return new Ye(e,"310","13");case 59:return new Ye(e,"320","13");case 60:return new Ye(e,"310","15");case 61:return new Ye(e,"320","15");case 62:return new Ye(e,"310","17");case 63:return new Ye(e,"320","17")}}catch(t){throw console.log(t),new Z("unknown decoder: "+e)}}Ye.HEADER_SIZE=8,Ye.WEIGHT_SIZE=20,Ye.DATE_SIZE=16;class Ze{constructor(e,t,n,i){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=i}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof Ze&&Ze.equalsOrNull(e.leftchar,t.leftchar)&&Ze.equalsOrNull(e.rightchar,t.rightchar)&&Ze.equalsOrNull(e.finderpattern,t.finderpattern)}static equalsOrNull(e,t){return null===e?null===t:Ze.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ke{constructor(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof Ke&&this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed}checkEqualitity(e,t){if(!e||!t)return;let n;return e.forEach((e,i)=>{t.forEach(t=>{e.getLeftChar().getValue()===t.getLeftChar().getValue()&&e.getRightChar().getValue()===t.getRightChar().getValue()&&e.getFinderPatter().getValue()===t.getFinderPatter().getValue()&&(n=!0)})}),n}}class Je extends Ee{constructor(){super(...arguments),this.pairs=new Array(Je.MAX_PAIRS),this.rows=new Array,this.startEnd=[2]}decodeRow(e,t,n){this.pairs.length=0,this.startFromEven=!1;try{return Je.constructResult(this.decodeRow2pairs(e,t))}catch(i){}return this.pairs.length=0,this.startFromEven=!0,Je.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let n,i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(o){if(o instanceof I){if(!this.pairs.length)throw new I;i=!0}}if(this.checkChecksum())return this.pairs;if(n=!!this.rows.length,this.storeRow(e,!1),n){let e=this.checkRowsBoolean(!1);if(null!=e)return e;if(e=this.checkRowsBoolean(!0),null!=e)return e}throw new I}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(n){console.log(n)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let i=t;i<this.rows.length;i++){let t=this.rows[i];this.pairs.length=0;for(let n of e)this.pairs.push(n.getPairs());if(this.pairs.push(t.getPairs()),!Je.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(e);o.push(t);try{return this.checkRows(o,i+1)}catch(n){console.log(n)}}throw new I}static isValidSequence(e){for(let t of Je.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let n=!0;for(let i=0;i<e.length;i++)if(e[i].getFinderPattern().getValue()!=t[i]){n=!1;break}if(n)return!0}return!1}storeRow(e,t){let n=0,i=!1,o=!1;for(;n<this.rows.length;){let t=this.rows[n];if(t.getRowNumber()>e){o=t.isEquivalent(this.pairs);break}i=t.isEquivalent(this.pairs),n++}o||i||Je.isPartialRow(this.pairs,this.rows)||(this.rows.push(n,new Ke(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let n of t)if(n.getPairs().length!==e.length)for(let t of n.getPairs())for(let n of e)if(Ze.equals(t,n))break}static isPartialRow(e,t){for(let n of t){let t=!0;for(let i of e){let e=!1;for(let t of n.getPairs())if(i.equals(t)){e=!0;break}if(!e){t=!1;break}}if(t)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=Qe(Me.buildBitArray(e)).parseInformation(),n=e[0].getFinderPattern().getResultPoints(),i=e[e.length-1].getFinderPattern().getResultPoints(),o=[n[0],n[1],i[0],i[1]];return new k(t,null,null,o,j.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),n=e.getRightChar();if(null==n)return!1;let i=n.getChecksumPortion(),o=2;for(let r=1;r<this.pairs.size();++r){let e=this.pairs.get(r);i+=e.getLeftChar().getChecksumPortion(),o++;let t=e.getRightChar();null!=t&&(i+=t.getChecksumPortion(),o++)}return i%=211,211*(o-4)+i==t.getValue()}static getNextSecondBar(e,t){let n;return e.get(t)?(n=e.getNextUnset(t),n=e.getNextSet(n)):(n=e.getNextSet(t),n=e.getNextUnset(n)),n}retrieveNextPair(e,t,n){let i,o=t.length%2==0;this.startFromEven&&(o=!o);let r=!0,s=-1;do{this.findNextPair(e,t,s),i=this.parseFoundFinderPattern(e,n,o),null==i?s=Je.getNextSecondBar(e,this.startEnd[0]):r=!1}while(r);let a,l=this.decodeDataCharacter(e,i,o,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new I;try{a=this.decodeDataCharacter(e,i,o,!1)}catch(c){a=null,console.log(c)}return new Ze(l,a,i,!0)}isEmptyPair(e){return 0===e.length}findNextPair(e,t,n){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o,r=e.getSize();o=n>=0?n:this.isEmptyPair(t)?0:t[t.length-1].getFinderPattern().getStartEnd()[1];let s=t.length%2!=0;this.startFromEven&&(s=!s);let a=!1;for(;o<r&&(a=!e.get(o),a);)o++;let l=0,c=o;for(let d=o;d<r;d++)if(e.get(d)!=a)i[l]++;else{if(3==l){if(s&&Je.reverseCounters(i),Je.isFinderPattern(i))return this.startEnd[0]=c,void(this.startEnd[1]=d);s&&Je.reverseCounters(i),c+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,a=!a}throw new I}static reverseCounters(e){let t=e.length;for(let n=0;n<t/2;++n){let i=e[n];e[n]=e[t-n-1],e[t-n-1]=i}}parseFoundFinderPattern(e,t,n){let i,o,r;if(n){let t=this.startEnd[0]-1;for(;t>=0&&!e.get(t);)t--;t++,i=this.startEnd[0]-t,o=t,r=this.startEnd[1]}else o=this.startEnd[0],r=e.getNextUnset(this.startEnd[1]+1),i=r-this.startEnd[1];let s,a=this.getDecodeFinderCounters();d.arraycopy(a,0,a,1,a.length-1),a[0]=i;try{s=this.parseFinderValue(a,Je.FINDER_PATTERNS)}catch(l){return null}return new Te(s,[o,r],o,r,t)}decodeDataCharacter(e,t,n,i){let o=this.getDataCharacterCounters();for(let _=0;_<o.length;_++)o[_]=0;if(i)Je.recordPatternInReverse(e,t.getStartEnd()[0],o);else{Je.recordPattern(e,t.getStartEnd()[1],o);for(let e=0,t=o.length-1;e<t;e++,t--){let n=o[e];o[e]=o[t],o[t]=n}}let r=ee.sum(new Int32Array(o))/17,s=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(r-s)/s>.3)throw new I;let a=this.getOddCounts(),l=this.getEvenCounts(),c=this.getOddRoundingErrors(),d=this.getEvenRoundingErrors();for(let _=0;_<o.length;_++){let e=1*o[_]/r,t=e+.5;if(t<1){if(e<.3)throw new I;t=1}else if(t>8){if(e>8.7)throw new I;t=8}let n=_/2;0==(1&_)?(a[n]=t,c[n]=e-t):(l[n]=t,d[n]=e-t)}this.adjustOddEvenCounts(17);let u=4*t.getValue()+(n?0:2)+(i?0:1)-1,p=0,h=0;for(let _=a.length-1;_>=0;_--){if(Je.isNotA1left(t,n,i)){let e=Je.WEIGHTS[u][2*_];h+=a[_]*e}p+=a[_]}let m=0;for(let _=l.length-1;_>=0;_--)if(Je.isNotA1left(t,n,i)){let e=Je.WEIGHTS[u][2*_+1];m+=l[_]*e}let f=h+m;if(0!=(1&p)||p>13||p<4)throw new I;let g=(13-p)/2,v=Je.SYMBOL_WIDEST[g],y=9-v,b=Re.getRSSvalue(a,v,!0),x=Re.getRSSvalue(l,y,!1),w=Je.EVEN_TOTAL_SUBSET[g],C=Je.GSUM[g];return new De(b*w+x+C,f)}static isNotA1left(e,t,n){return!(0==e.getValue()&&t&&n)}adjustOddEvenCounts(e){let t=ee.sum(new Int32Array(this.getOddCounts())),n=ee.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1;t>13?o=!0:t<4&&(i=!0);let r=!1,s=!1;n>13?s=!0:n<4&&(r=!0);let a=t+n-e,l=1==(1&t),c=0==(1&n);if(1==a)if(l){if(c)throw new I;o=!0}else{if(!c)throw new I;s=!0}else if(-1==a)if(l){if(c)throw new I;i=!0}else{if(!c)throw new I;r=!0}else{if(0!=a)throw new I;if(l){if(!c)throw new I;t<n?(i=!0,s=!0):(o=!0,r=!0)}else if(c)throw new I}if(i){if(o)throw new I;Je.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&Je.decrement(this.getOddCounts(),this.getOddRoundingErrors()),r){if(s)throw new I;Je.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&Je.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Je.SYMBOL_WIDEST=[7,5,4,3,1],Je.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Je.GSUM=[0,348,1388,2948,3988],Je.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Je.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Je.FINDER_PAT_A=0,Je.FINDER_PAT_B=1,Je.FINDER_PAT_C=2,Je.FINDER_PAT_D=3,Je.FINDER_PAT_E=4,Je.FINDER_PAT_F=5,Je.FINDER_PATTERN_SEQUENCES=[[Je.FINDER_PAT_A,Je.FINDER_PAT_A],[Je.FINDER_PAT_A,Je.FINDER_PAT_B,Je.FINDER_PAT_B],[Je.FINDER_PAT_A,Je.FINDER_PAT_C,Je.FINDER_PAT_B,Je.FINDER_PAT_D],[Je.FINDER_PAT_A,Je.FINDER_PAT_E,Je.FINDER_PAT_B,Je.FINDER_PAT_D,Je.FINDER_PAT_C],[Je.FINDER_PAT_A,Je.FINDER_PAT_E,Je.FINDER_PAT_B,Je.FINDER_PAT_D,Je.FINDER_PAT_D,Je.FINDER_PAT_F],[Je.FINDER_PAT_A,Je.FINDER_PAT_E,Je.FINDER_PAT_B,Je.FINDER_PAT_D,Je.FINDER_PAT_E,Je.FINDER_PAT_F,Je.FINDER_PAT_F],[Je.FINDER_PAT_A,Je.FINDER_PAT_A,Je.FINDER_PAT_B,Je.FINDER_PAT_B,Je.FINDER_PAT_C,Je.FINDER_PAT_C,Je.FINDER_PAT_D,Je.FINDER_PAT_D],[Je.FINDER_PAT_A,Je.FINDER_PAT_A,Je.FINDER_PAT_B,Je.FINDER_PAT_B,Je.FINDER_PAT_C,Je.FINDER_PAT_C,Je.FINDER_PAT_D,Je.FINDER_PAT_E,Je.FINDER_PAT_E],[Je.FINDER_PAT_A,Je.FINDER_PAT_A,Je.FINDER_PAT_B,Je.FINDER_PAT_B,Je.FINDER_PAT_C,Je.FINDER_PAT_C,Je.FINDER_PAT_D,Je.FINDER_PAT_E,Je.FINDER_PAT_F,Je.FINDER_PAT_F],[Je.FINDER_PAT_A,Je.FINDER_PAT_A,Je.FINDER_PAT_B,Je.FINDER_PAT_B,Je.FINDER_PAT_C,Je.FINDER_PAT_D,Je.FINDER_PAT_D,Je.FINDER_PAT_E,Je.FINDER_PAT_E,Je.FINDER_PAT_F,Je.FINDER_PAT_F]],Je.MAX_PAIRS=11;class et extends De{constructor(e,t,n){super(e,t),this.count=0,this.finderPattern=n}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class tt extends Ee{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,n){const i=this.decodePair(t,!1,e,n);tt.addOrTally(this.possibleLeftPairs,i),t.reverse();let o=this.decodePair(t,!0,e,n);tt.addOrTally(this.possibleRightPairs,o),t.reverse();for(let r of this.possibleLeftPairs)if(r.getCount()>1)for(let e of this.possibleRightPairs)if(e.getCount()>1&&tt.checkChecksum(r,e))return tt.constructResult(r,e);throw new I}static addOrTally(e,t){if(null==t)return;let n=!1;for(let i of e)if(i.getValue()===t.getValue()){i.incrementCount(),n=!0;break}n||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let n=4537077*e.getValue()+t.getValue(),i=new String(n).toString(),o=new _;for(let l=13-i.length;l>0;l--)o.append("0");o.append(i);let r=0;for(let l=0;l<13;l++){let e=o.charAt(l).charCodeAt(0)-"0".charCodeAt(0);r+=0==(1&l)?3*e:e}r=10-r%10,10===r&&(r=0),o.append(r.toString());let s=e.getFinderPattern().getResultPoints(),a=t.getFinderPattern().getResultPoints();return new k(o.toString(),null,0,[s[0],s[1],a[0],a[1]],j.RSS_14,(new Date).getTime())}static checkChecksum(e,t){let n=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,i=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,n===i}decodePair(e,t,n,i){try{let o=this.findFinderPattern(e,t),r=this.parseFoundFinderPattern(e,n,t,o),s=null==i?null:i.get(v.NEED_RESULT_POINT_CALLBACK);if(null!=s){let i=(o[0]+o[1])/2;t&&(i=e.getSize()-1-i),s.foundPossibleResultPoint(new ne(i,n))}let a=this.decodeDataCharacter(e,r,!0),l=this.decodeDataCharacter(e,r,!1);return new et(1597*a.getValue()+l.getValue(),a.getChecksumPortion()+4*l.getChecksumPortion(),r)}catch(o){return null}}decodeDataCharacter(e,t,n){let i=this.getDataCharacterCounters();for(let f=0;f<i.length;f++)i[f]=0;if(n)he.recordPatternInReverse(e,t.getStartEnd()[0],i);else{he.recordPattern(e,t.getStartEnd()[1]+1,i);for(let e=0,t=i.length-1;e<t;e++,t--){let n=i[e];i[e]=i[t],i[t]=n}}let o=n?16:15,r=ee.sum(new Int32Array(i))/o,s=this.getOddCounts(),a=this.getEvenCounts(),l=this.getOddRoundingErrors(),c=this.getEvenRoundingErrors();for(let f=0;f<i.length;f++){let e=i[f]/r,t=Math.floor(e+.5);t<1?t=1:t>8&&(t=8);let n=Math.floor(f/2);0==(1&f)?(s[n]=t,l[n]=e-t):(a[n]=t,c[n]=e-t)}this.adjustOddEvenCounts(n,o);let d=0,u=0;for(let f=s.length-1;f>=0;f--)u*=9,u+=s[f],d+=s[f];let p=0,h=0;for(let f=a.length-1;f>=0;f--)p*=9,p+=a[f],h+=a[f];let m=u+3*p;if(n){if(0!=(1&d)||d>12||d<4)throw new I;let e=(12-d)/2,t=tt.OUTSIDE_ODD_WIDEST[e],n=9-t,i=Re.getRSSvalue(s,t,!1),o=Re.getRSSvalue(a,n,!0),r=tt.OUTSIDE_EVEN_TOTAL_SUBSET[e],l=tt.OUTSIDE_GSUM[e];return new De(i*r+o+l,m)}{if(0!=(1&h)||h>10||h<4)throw new I;let e=(10-h)/2,t=tt.INSIDE_ODD_WIDEST[e],n=9-t,i=Re.getRSSvalue(s,t,!0),o=Re.getRSSvalue(a,n,!1),r=tt.INSIDE_ODD_TOTAL_SUBSET[e],l=tt.INSIDE_GSUM[e];return new De(o*r+i+l,m)}}findFinderPattern(e,t){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o=!1,r=0;for(;r<i&&(o=!e.get(r),t!==o);)r++;let s=0,a=r;for(let l=r;l<i;l++)if(e.get(l)!==o)n[s]++;else{if(3===s){if(Ee.isFinderPattern(n))return[a,l];a+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,s--}else s++;n[s]=1,o=!o}throw new I}parseFoundFinderPattern(e,t,n,i){let o=e.get(i[0]),r=i[0]-1;for(;r>=0&&o!==e.get(r);)r--;r++;const s=i[0]-r,a=this.getDecodeFinderCounters(),l=new Int32Array(a.length);d.arraycopy(a,0,l,1,a.length-1),l[0]=s;const c=this.parseFinderValue(l,tt.FINDER_PATTERNS);let u=r,p=i[1];return n&&(u=e.getSize()-1-u,p=e.getSize()-1-p),new Te(c,[r,i[1]],u,p,t)}adjustOddEvenCounts(e,t){let n=ee.sum(new Int32Array(this.getOddCounts())),i=ee.sum(new Int32Array(this.getEvenCounts())),o=!1,r=!1,s=!1,a=!1;e?(n>12?r=!0:n<4&&(o=!0),i>12?a=!0:i<4&&(s=!0)):(n>11?r=!0:n<5&&(o=!0),i>10?a=!0:i<4&&(s=!0));let l=n+i-t,c=(1&n)==(e?1:0),d=1==(1&i);if(1===l)if(c){if(d)throw new I;r=!0}else{if(!d)throw new I;a=!0}else if(-1===l)if(c){if(d)throw new I;o=!0}else{if(!d)throw new I;s=!0}else{if(0!==l)throw new I;if(c){if(!d)throw new I;n<i?(o=!0,a=!0):(r=!0,s=!0)}else if(d)throw new I}if(o){if(r)throw new I;Ee.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(r&&Ee.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(a)throw new I;Ee.increment(this.getEvenCounts(),this.getOddRoundingErrors())}a&&Ee.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}tt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],tt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],tt.OUTSIDE_GSUM=[0,161,961,2015,2715],tt.INSIDE_GSUM=[0,336,1036,1516],tt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],tt.INSIDE_ODD_WIDEST=[2,4,6,8],tt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class nt extends he{constructor(e){super(),this.readers=[];const t=e?e.get(v.POSSIBLE_FORMATS):null,n=e&&void 0!==e.get(v.ASSUME_CODE_39_CHECK_DIGIT);t&&((t.includes(j.EAN_13)||t.includes(j.UPC_A)||t.includes(j.EAN_8)||t.includes(j.UPC_E))&&this.readers.push(new Ae(e)),t.includes(j.CODE_39)&&this.readers.push(new fe(n)),t.includes(j.CODE_128)&&this.readers.push(new me),t.includes(j.ITF)&&this.readers.push(new ge),t.includes(j.RSS_14)&&this.readers.push(new tt),t.includes(j.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),this.readers.push(new Je))),0===this.readers.length&&(this.readers.push(new Ae(e)),this.readers.push(new fe),this.readers.push(new Ae(e)),this.readers.push(new me),this.readers.push(new ge),this.readers.push(new tt))}decodeRow(e,t,n){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(e,t,n)}catch(i){}throw new I}reset(){this.readers.forEach(e=>e.reset())}}class it{constructor(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ot{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class rt{constructor(e,t,n,i,o,r){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=r;let s=0;const a=r.getECCodewords(),l=r.getECBlocks();for(let c of l)s+=c.getCount()*(c.getDataCodewords()+a);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(0!=(1&e)||0!=(1&t))throw new y;for(let n of rt.VERSIONS)if(n.symbolSizeRows===e&&n.symbolSizeColumns===t)return n;throw new y}toString(){return""+this.versionNumber}static buildVersions(){return[new rt(1,10,10,8,8,new it(5,new ot(1,3))),new rt(2,12,12,10,10,new it(7,new ot(1,5))),new rt(3,14,14,12,12,new it(10,new ot(1,8))),new rt(4,16,16,14,14,new it(12,new ot(1,12))),new rt(5,18,18,16,16,new it(14,new ot(1,18))),new rt(6,20,20,18,18,new it(18,new ot(1,22))),new rt(7,22,22,20,20,new it(20,new ot(1,30))),new rt(8,24,24,22,22,new it(24,new ot(1,36))),new rt(9,26,26,24,24,new it(28,new ot(1,44))),new rt(10,32,32,14,14,new it(36,new ot(1,62))),new rt(11,36,36,16,16,new it(42,new ot(1,86))),new rt(12,40,40,18,18,new it(48,new ot(1,114))),new rt(13,44,44,20,20,new it(56,new ot(1,144))),new rt(14,48,48,22,22,new it(68,new ot(1,174))),new rt(15,52,52,24,24,new it(42,new ot(2,102))),new rt(16,64,64,14,14,new it(56,new ot(2,140))),new rt(17,72,72,16,16,new it(36,new ot(4,92))),new rt(18,80,80,18,18,new it(48,new ot(4,114))),new rt(19,88,88,20,20,new it(56,new ot(4,144))),new rt(20,96,96,22,22,new it(68,new ot(4,174))),new rt(21,104,104,24,24,new it(56,new ot(6,136))),new rt(22,120,120,18,18,new it(68,new ot(6,175))),new rt(23,132,132,20,20,new it(62,new ot(8,163))),new rt(24,144,144,22,22,new it(62,new ot(8,156),new ot(2,155))),new rt(25,8,18,6,16,new it(7,new ot(1,5))),new rt(26,8,32,6,14,new it(11,new ot(1,10))),new rt(27,12,26,10,24,new it(14,new ot(1,16))),new rt(28,12,36,10,16,new it(18,new ot(1,22))),new rt(29,16,36,14,16,new it(24,new ot(1,32))),new rt(30,16,48,14,22,new it(28,new ot(1,49)))]}}rt.VERSIONS=rt.buildVersions();class st{constructor(e){const t=e.getHeight();if(t<8||t>144||0!=(1&t))throw new y;this.version=st.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new S(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),n=e.getWidth();return rt.getVersionForDimensions(t,n)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,n=4,i=0;const o=this.mappingBitMatrix.getHeight(),r=this.mappingBitMatrix.getWidth();let s=!1,a=!1,l=!1,c=!1;do{if(n!==o||0!==i||s)if(n!==o-2||0!==i||0==(3&r)||a)if(n!==o+4||2!==i||0!=(7&r)||l)if(n!==o-2||0!==i||4!=(7&r)||c){do{n<o&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[t++]=255&this.readUtah(n,i,o,r)),n-=2,i+=2}while(n>=0&&i<r);n+=1,i+=3;do{n>=0&&i<r&&!this.readMappingMatrix.get(i,n)&&(e[t++]=255&this.readUtah(n,i,o,r)),n+=2,i-=2}while(n<o&&i>=0);n+=3,i+=1}else e[t++]=255&this.readCorner4(o,r),n-=2,i+=2,c=!0;else e[t++]=255&this.readCorner3(o,r),n-=2,i+=2,l=!0;else e[t++]=255&this.readCorner2(o,r),n-=2,i+=2,a=!0;else e[t++]=255&this.readCorner1(o,r),n-=2,i+=2,s=!0}while(n<o||i<r);if(t!==this.version.getTotalCodewords())throw new y;return e}readModule(e,t,n,i){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,n,i){let o=0;return this.readModule(e-2,t-2,n,i)&&(o|=1),o<<=1,this.readModule(e-2,t-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,t-2,n,i)&&(o|=1),o<<=1,this.readModule(e-1,t-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,t,n,i)&&(o|=1),o<<=1,this.readModule(e,t-2,n,i)&&(o|=1),o<<=1,this.readModule(e,t-1,n,i)&&(o|=1),o<<=1,this.readModule(e,t,n,i)&&(o|=1),o}readCorner1(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}readCorner2(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner3(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner4(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new s("Dimension of bitMatrix must match the version size");const i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),r=t/i|0,a=n/o|0,l=new S(a*o,r*i);for(let s=0;s<r;++s){const t=s*i;for(let n=0;n<a;++n){const r=n*o;for(let a=0;a<i;++a){const c=s*(i+2)+1+a,d=t+a;for(let t=0;t<o;++t){const i=n*(o+2)+1+t;if(e.get(i,c)){const e=r+t;l.set(e,d)}}}}}return l}}class at{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const n=t.getECBlocks();let i=0;const o=n.getECBlocks();for(let s of o)i+=s.getCount();const r=new Array(i);let a=0;for(let s of o)for(let e=0;e<s.getCount();e++){const e=s.getDataCodewords(),t=n.getECCodewords()+e;r[a++]=new at(e,new Uint8Array(t))}const l=r[0].codewords.length-n.getECCodewords(),c=l-1;let d=0;for(let s=0;s<c;s++)for(let t=0;t<a;t++)r[t].codewords[s]=e[d++];const u=24===t.getVersionNumber(),p=u?8:a;for(let s=0;s<p;s++)r[s].codewords[l-1]=e[d++];const h=r[0].codewords.length;for(let s=l;s<h;s++)for(let t=0;t<a;t++){const n=u?(t+8)%a:t,i=u&&n>7?s-1:s;r[n].codewords[i]=e[d++]}if(d!==e.length)throw new s;return r}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class lt{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new s(""+e);let t=0,n=this.bitOffset,i=this.byteOffset;const o=this.bytes;if(n>0){const r=8-n,s=e<r?e:r,a=r-s,l=255>>8-s<<a;t=(o[i]&l)>>a,e-=s,n+=s,8===n&&(n=0,i++)}if(e>0){for(;e>=8;)t=t<<8|255&o[i],i++,e-=8;if(e>0){const r=8-e,s=255>>r<<r;t=t<<e|(o[i]&s)>>r,n+=e}}return this.bitOffset=n,this.byteOffset=i,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}!function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"}(V||(V={}));class ct{static decode(e){const t=new lt(e),n=new _,i=new _,o=new Array;let r=V.ASCII_ENCODE;do{if(r===V.ASCII_ENCODE)r=this.decodeAsciiSegment(t,n,i);else{switch(r){case V.C40_ENCODE:this.decodeC40Segment(t,n);break;case V.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case V.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case V.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case V.BASE256_ENCODE:this.decodeBase256Segment(t,n,o);break;default:throw new y}r=V.ASCII_ENCODE}}while(r!==V.PAD_ENCODE&&t.available()>0);return i.length()>0&&n.append(i.toString()),new H(e,n.toString(),0===o.length?null:o,null)}static decodeAsciiSegment(e,t,n){let i=!1;do{let o=e.readBits(8);if(0===o)throw new y;if(o<=128)return i&&(o+=128),t.append(String.fromCharCode(o-1)),V.ASCII_ENCODE;if(129===o)return V.PAD_ENCODE;if(o<=229){const e=o-130;e<10&&t.append("0"),t.append(""+e)}else switch(o){case 230:return V.C40_ENCODE;case 231:return V.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:i=!0;break;case 236:t.append("[)>\x1e05\x1d"),n.insert(0,"\x1e\x04");break;case 237:t.append("[)>\x1e06\x1d"),n.insert(0,"\x1e\x04");break;case 238:return V.ANSIX12_ENCODE;case 239:return V.TEXT_ENCODE;case 240:return V.EDIFACT_ENCODE;default:if(254!==o||0!==e.available())throw new y}}while(e.available()>0);return V.ASCII_ENCODE}static decodeC40Segment(e,t){let n=!1;const i=[];let o=0;do{if(8===e.available())return;const r=e.readBits(8);if(254===r)return;this.parseTwoBytes(r,e.readBits(8),i);for(let e=0;e<3;e++){const r=i[e];switch(o){case 0:if(r<3)o=r+1;else{if(!(r<this.C40_BASIC_SET_CHARS.length))throw new y;{const e=this.C40_BASIC_SET_CHARS[r];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}}break;case 1:n?(t.append(String.fromCharCode(r+128)),n=!1):t.append(String.fromCharCode(r)),o=0;break;case 2:if(r<this.C40_SHIFT2_SET_CHARS.length){const e=this.C40_SHIFT2_SET_CHARS[r];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}else switch(r){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new y}o=0;break;case 3:n?(t.append(String.fromCharCode(r+224)),n=!1):t.append(String.fromCharCode(r+96)),o=0;break;default:throw new y}}}while(e.available()>0)}static decodeTextSegment(e,t){let n=!1,i=[],o=0;do{if(8===e.available())return;const r=e.readBits(8);if(254===r)return;this.parseTwoBytes(r,e.readBits(8),i);for(let e=0;e<3;e++){const r=i[e];switch(o){case 0:if(r<3)o=r+1;else{if(!(r<this.TEXT_BASIC_SET_CHARS.length))throw new y;{const e=this.TEXT_BASIC_SET_CHARS[r];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}}break;case 1:n?(t.append(String.fromCharCode(r+128)),n=!1):t.append(String.fromCharCode(r)),o=0;break;case 2:if(r<this.TEXT_SHIFT2_SET_CHARS.length){const e=this.TEXT_SHIFT2_SET_CHARS[r];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}else switch(r){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new y}o=0;break;case 3:if(!(r<this.TEXT_SHIFT3_SET_CHARS.length))throw new y;{const e=this.TEXT_SHIFT3_SET_CHARS[r];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e),o=0}break;default:throw new y}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const n=[];do{if(8===e.available())return;const i=e.readBits(8);if(254===i)return;this.parseTwoBytes(i,e.readBits(8),n);for(let e=0;e<3;e++){const i=n[e];switch(i){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(i<14)t.append(String.fromCharCode(i+44));else{if(!(i<40))throw new y;t.append(String.fromCharCode(i+51))}}}}while(e.available()>0)}static parseTwoBytes(e,t,n){let i=(e<<8)+t-1,o=Math.floor(i/1600);n[0]=o,i-=1600*o,o=Math.floor(i/40),n[1]=o,n[2]=i-40*o}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let n=0;n<4;n++){let n=e.readBits(6);if(31===n){const t=8-e.getBitOffset();return void(8!==t&&e.readBits(t))}0==(32&n)&&(n|=64),t.append(String.fromCharCode(n))}}while(e.available()>0)}static decodeBase256Segment(e,t,n){let i=1+e.getByteOffset();const o=this.unrandomize255State(e.readBits(8),i++);let r;if(r=0===o?e.available()/8|0:o<250?o:250*(o-249)+this.unrandomize255State(e.readBits(8),i++),r<0)throw new y;const s=new Uint8Array(r);for(let l=0;l<r;l++){if(e.available()<8)throw new y;s[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{t.append(w.decode(s,C.ISO88591))}catch(a){throw new Z("Platform does not support required encoding: "+a.message)}}static unrandomize255State(e,t){const n=e-(149*t%255+1);return n>=0?n:n+256}}ct.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ct.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ct.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ct.TEXT_SHIFT2_SET_CHARS=ct.C40_SHIFT2_SET_CHARS,ct.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class dt{constructor(){this.rsDecoder=new K(Y.DATA_MATRIX_FIELD_256)}decode(e){const t=new st(e),n=t.getVersion(),i=t.readCodewords(),o=at.getDataBlocks(i,n);let r=0;for(let l of o)r+=l.getNumDataCodewords();const s=new Uint8Array(r),a=o.length;for(let l=0;l<a;l++){const e=o[l],t=e.getCodewords(),n=e.getNumDataCodewords();this.correctErrors(t,n);for(let i=0;i<n;i++)s[i*a+l]=t[i]}return ct.decode(s)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(i){throw new l}for(let o=0;o<t;o++)e[o]=n[o]}}class ut{constructor(e){this.image=e,this.rectangleDetector=new re(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new I;t=this.shiftToModuleCenter(t);const n=t[0],i=t[1],o=t[2],r=t[3];let s=this.transitionsBetween(n,r)+1,a=this.transitionsBetween(o,r)+1;1==(1&s)&&(s+=1),1==(1&a)&&(a+=1),4*s<7*a&&4*a<7*s&&(s=a=Math.max(s,a));let l=ut.sampleGrid(this.image,n,i,o,r,s,a);return new ie(l,[n,i,o,r])}static shiftPoint(e,t,n){let i=(t.getX()-e.getX())/(n+1),o=(t.getY()-e.getY())/(n+1);return new ne(e.getX()+i,e.getY()+o)}static moveAway(e,t,n){let i=e.getX(),o=e.getY();return i<t?i-=1:i+=1,o<n?o-=1:o+=1,new ne(i,o)}detectSolid1(e){let t=e[0],n=e[1],i=e[3],o=e[2],r=this.transitionsBetween(t,n),s=this.transitionsBetween(n,i),a=this.transitionsBetween(i,o),l=this.transitionsBetween(o,t),c=r,d=[o,t,n,i];return c>s&&(c=s,d[0]=t,d[1]=n,d[2]=i,d[3]=o),c>a&&(c=a,d[0]=n,d[1]=i,d[2]=o,d[3]=t),c>l&&(d[0]=i,d[1]=o,d[2]=t,d[3]=n),d}detectSolid2(e){let t=e[0],n=e[1],i=e[2],o=e[3],r=this.transitionsBetween(t,o),s=ut.shiftPoint(n,i,4*(r+1)),a=ut.shiftPoint(i,n,4*(r+1));return this.transitionsBetween(s,t)<this.transitionsBetween(a,o)?(e[0]=t,e[1]=n,e[2]=i,e[3]=o):(e[0]=n,e[1]=i,e[2]=o,e[3]=t),e}correctTopRight(e){let t=e[0],n=e[1],i=e[2],o=e[3],r=this.transitionsBetween(t,o),s=this.transitionsBetween(n,o),a=ut.shiftPoint(t,n,4*(s+1)),l=ut.shiftPoint(i,n,4*(r+1));r=this.transitionsBetween(a,o),s=this.transitionsBetween(l,o);let c=new ne(o.getX()+(i.getX()-n.getX())/(r+1),o.getY()+(i.getY()-n.getY())/(r+1)),d=new ne(o.getX()+(t.getX()-n.getX())/(s+1),o.getY()+(t.getY()-n.getY())/(s+1));return this.isValid(c)?this.isValid(d)?this.transitionsBetween(a,c)+this.transitionsBetween(l,c)>this.transitionsBetween(a,d)+this.transitionsBetween(l,d)?c:d:c:this.isValid(d)?d:null}shiftToModuleCenter(e){let t=e[0],n=e[1],i=e[2],o=e[3],r=this.transitionsBetween(t,o)+1,s=this.transitionsBetween(i,o)+1,a=ut.shiftPoint(t,n,4*s),l=ut.shiftPoint(i,n,4*r);r=this.transitionsBetween(a,o)+1,s=this.transitionsBetween(l,o)+1,1==(1&r)&&(r+=1),1==(1&s)&&(s+=1);let c,d,u=(t.getX()+n.getX()+i.getX()+o.getX())/4,p=(t.getY()+n.getY()+i.getY()+o.getY())/4;return t=ut.moveAway(t,u,p),n=ut.moveAway(n,u,p),i=ut.moveAway(i,u,p),o=ut.moveAway(o,u,p),a=ut.shiftPoint(t,n,4*s),a=ut.shiftPoint(a,o,4*r),c=ut.shiftPoint(n,t,4*s),c=ut.shiftPoint(c,i,4*r),l=ut.shiftPoint(i,o,4*s),l=ut.shiftPoint(l,n,4*r),d=ut.shiftPoint(o,i,4*s),d=ut.shiftPoint(d,t,4*r),[a,c,l,d]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,n,i,o,r,s){return ce.getInstance().sampleGrid(e,r,s,.5,.5,r-.5,.5,r-.5,s-.5,.5,s-.5,t.getX(),t.getY(),o.getX(),o.getY(),i.getX(),i.getY(),n.getX(),n.getY())}transitionsBetween(e,t){let n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),o=Math.trunc(t.getX()),r=Math.trunc(t.getY()),s=Math.abs(r-i)>Math.abs(o-n);if(s){let e=n;n=i,i=e,e=o,o=r,r=e}let a=Math.abs(o-n),l=Math.abs(r-i),c=-a/2,d=i<r?1:-1,u=n<o?1:-1,p=0,h=this.image.get(s?i:n,s?n:i);for(let m=n,f=i;m!==o;m+=u){let e=this.image.get(s?f:m,s?m:f);if(e!==h&&(p++,h=e),c+=l,c>0){if(f===r)break;f+=d,c-=a}}return p}}class pt{constructor(){this.decoder=new dt}decode(e,t=null){let n,i;if(null!=t&&t.has(v.PURE_BARCODE)){const t=pt.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(t),i=pt.NO_POINTS}else{const t=new ut(e.getBlackMatrix()).detect();n=this.decoder.decode(t.getBits()),i=t.getPoints()}const o=n.getRawBytes(),r=new k(n.getText(),o,8*o.length,i,j.DATA_MATRIX,d.currentTimeMillis()),s=n.getByteSegments();null!=s&&r.putMetadata(U.BYTE_SEGMENTS,s);const a=n.getECLevel();return null!=a&&r.putMetadata(U.ERROR_CORRECTION_LEVEL,a),r}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null==t||null==n)throw new I;const i=this.moduleSize(t,e);let o=t[1];const r=n[1];let s=t[0];const a=(n[0]-s+1)/i,l=(r-o+1)/i;if(a<=0||l<=0)throw new I;const c=i/2;o+=c,s+=c;const d=new S(a,l);for(let u=0;u<l;u++){const t=o+u*i;for(let n=0;n<a;n++)e.get(s+n*i,t)&&d.set(n,u)}return d}static moduleSize(e,t){const n=t.getWidth();let i=e[0];const o=e[1];for(;i<n&&t.get(i,o);)i++;if(i===n)throw new I;const r=i-e[0];if(0===r)throw new I;return r}}pt.NO_POINTS=[],function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"}(B||(B={}));class ht{constructor(e,t,n){this.value=e,this.stringValue=t,this.bits=n,ht.FOR_BITS.set(n,this),ht.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return ht.L;case"M":return ht.M;case"Q":return ht.Q;case"H":return ht.H;default:throw new r(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof ht))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=ht.FOR_BITS.size)throw new s;return ht.FOR_BITS.get(e)}}ht.FOR_BITS=new Map,ht.FOR_VALUE=new Map,ht.L=new ht(B.L,"L",1),ht.M=new ht(B.M,"M",0),ht.Q=new ht(B.Q,"Q",3),ht.H=new ht(B.H,"H",2);class mt{constructor(e){this.errorCorrectionLevel=ht.forBits(e>>3&3),this.dataMask=7&e}static numBitsDiffering(e,t){return m.bitCount(e^t)}static decodeFormatInformation(e,t){const n=mt.doDecodeFormatInformation(e,t);return null!==n?n:mt.doDecodeFormatInformation(e^mt.FORMAT_INFO_MASK_QR,t^mt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let n=Number.MAX_SAFE_INTEGER,i=0;for(const o of mt.FORMAT_INFO_DECODE_LOOKUP){const r=o[0];if(r===e||r===t)return new mt(o[1]);let s=mt.numBitsDiffering(e,r);s<n&&(i=o[1],n=s),e!==t&&(s=mt.numBitsDiffering(t,r),s<n&&(i=o[1],n=s))}return n<=3?new mt(i):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof mt))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}mt.FORMAT_INFO_MASK_QR=21522,mt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ft{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const n of t)e+=n.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class gt{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class vt{constructor(e,t,...n){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=n;let i=0;const o=n[0].getECCodewordsPerBlock(),r=n[0].getECBlocks();for(const s of r)i+=s.getCount()*(s.getDataCodewords()+o);this.totalCodewords=i}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!=1)throw new y;try{return this.getVersionForNumber((e-17)/4)}catch(t){throw new y}}static getVersionForNumber(e){if(e<1||e>40)throw new s;return vt.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,n=0;for(let i=0;i<vt.VERSION_DECODE_INFO.length;i++){const o=vt.VERSION_DECODE_INFO[i];if(o===e)return vt.getVersionForNumber(i+7);const r=mt.numBitsDiffering(e,o);r<t&&(n=i+7,t=r)}return t<=3?vt.getVersionForNumber(n):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new S(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const n=this.alignmentPatternCenters.length;for(let i=0;i<n;i++){const e=this.alignmentPatternCenters[i]-2;for(let o=0;o<n;o++)0===i&&(0===o||o===n-1)||i===n-1&&0===o||t.setRegion(this.alignmentPatternCenters[o]-2,e,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}vt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),vt.VERSIONS=[new vt(1,new Int32Array(0),new ft(7,new gt(1,19)),new ft(10,new gt(1,16)),new ft(13,new gt(1,13)),new ft(17,new gt(1,9))),new vt(2,Int32Array.from([6,18]),new ft(10,new gt(1,34)),new ft(16,new gt(1,28)),new ft(22,new gt(1,22)),new ft(28,new gt(1,16))),new vt(3,Int32Array.from([6,22]),new ft(15,new gt(1,55)),new ft(26,new gt(1,44)),new ft(18,new gt(2,17)),new ft(22,new gt(2,13))),new vt(4,Int32Array.from([6,26]),new ft(20,new gt(1,80)),new ft(18,new gt(2,32)),new ft(26,new gt(2,24)),new ft(16,new gt(4,9))),new vt(5,Int32Array.from([6,30]),new ft(26,new gt(1,108)),new ft(24,new gt(2,43)),new ft(18,new gt(2,15),new gt(2,16)),new ft(22,new gt(2,11),new gt(2,12))),new vt(6,Int32Array.from([6,34]),new ft(18,new gt(2,68)),new ft(16,new gt(4,27)),new ft(24,new gt(4,19)),new ft(28,new gt(4,15))),new vt(7,Int32Array.from([6,22,38]),new ft(20,new gt(2,78)),new ft(18,new gt(4,31)),new ft(18,new gt(2,14),new gt(4,15)),new ft(26,new gt(4,13),new gt(1,14))),new vt(8,Int32Array.from([6,24,42]),new ft(24,new gt(2,97)),new ft(22,new gt(2,38),new gt(2,39)),new ft(22,new gt(4,18),new gt(2,19)),new ft(26,new gt(4,14),new gt(2,15))),new vt(9,Int32Array.from([6,26,46]),new ft(30,new gt(2,116)),new ft(22,new gt(3,36),new gt(2,37)),new ft(20,new gt(4,16),new gt(4,17)),new ft(24,new gt(4,12),new gt(4,13))),new vt(10,Int32Array.from([6,28,50]),new ft(18,new gt(2,68),new gt(2,69)),new ft(26,new gt(4,43),new gt(1,44)),new ft(24,new gt(6,19),new gt(2,20)),new ft(28,new gt(6,15),new gt(2,16))),new vt(11,Int32Array.from([6,30,54]),new ft(20,new gt(4,81)),new ft(30,new gt(1,50),new gt(4,51)),new ft(28,new gt(4,22),new gt(4,23)),new ft(24,new gt(3,12),new gt(8,13))),new vt(12,Int32Array.from([6,32,58]),new ft(24,new gt(2,92),new gt(2,93)),new ft(22,new gt(6,36),new gt(2,37)),new ft(26,new gt(4,20),new gt(6,21)),new ft(28,new gt(7,14),new gt(4,15))),new vt(13,Int32Array.from([6,34,62]),new ft(26,new gt(4,107)),new ft(22,new gt(8,37),new gt(1,38)),new ft(24,new gt(8,20),new gt(4,21)),new ft(22,new gt(12,11),new gt(4,12))),new vt(14,Int32Array.from([6,26,46,66]),new ft(30,new gt(3,115),new gt(1,116)),new ft(24,new gt(4,40),new gt(5,41)),new ft(20,new gt(11,16),new gt(5,17)),new ft(24,new gt(11,12),new gt(5,13))),new vt(15,Int32Array.from([6,26,48,70]),new ft(22,new gt(5,87),new gt(1,88)),new ft(24,new gt(5,41),new gt(5,42)),new ft(30,new gt(5,24),new gt(7,25)),new ft(24,new gt(11,12),new gt(7,13))),new vt(16,Int32Array.from([6,26,50,74]),new ft(24,new gt(5,98),new gt(1,99)),new ft(28,new gt(7,45),new gt(3,46)),new ft(24,new gt(15,19),new gt(2,20)),new ft(30,new gt(3,15),new gt(13,16))),new vt(17,Int32Array.from([6,30,54,78]),new ft(28,new gt(1,107),new gt(5,108)),new ft(28,new gt(10,46),new gt(1,47)),new ft(28,new gt(1,22),new gt(15,23)),new ft(28,new gt(2,14),new gt(17,15))),new vt(18,Int32Array.from([6,30,56,82]),new ft(30,new gt(5,120),new gt(1,121)),new ft(26,new gt(9,43),new gt(4,44)),new ft(28,new gt(17,22),new gt(1,23)),new ft(28,new gt(2,14),new gt(19,15))),new vt(19,Int32Array.from([6,30,58,86]),new ft(28,new gt(3,113),new gt(4,114)),new ft(26,new gt(3,44),new gt(11,45)),new ft(26,new gt(17,21),new gt(4,22)),new ft(26,new gt(9,13),new gt(16,14))),new vt(20,Int32Array.from([6,34,62,90]),new ft(28,new gt(3,107),new gt(5,108)),new ft(26,new gt(3,41),new gt(13,42)),new ft(30,new gt(15,24),new gt(5,25)),new ft(28,new gt(15,15),new gt(10,16))),new vt(21,Int32Array.from([6,28,50,72,94]),new ft(28,new gt(4,116),new gt(4,117)),new ft(26,new gt(17,42)),new ft(28,new gt(17,22),new gt(6,23)),new ft(30,new gt(19,16),new gt(6,17))),new vt(22,Int32Array.from([6,26,50,74,98]),new ft(28,new gt(2,111),new gt(7,112)),new ft(28,new gt(17,46)),new ft(30,new gt(7,24),new gt(16,25)),new ft(24,new gt(34,13))),new vt(23,Int32Array.from([6,30,54,78,102]),new ft(30,new gt(4,121),new gt(5,122)),new ft(28,new gt(4,47),new gt(14,48)),new ft(30,new gt(11,24),new gt(14,25)),new ft(30,new gt(16,15),new gt(14,16))),new vt(24,Int32Array.from([6,28,54,80,106]),new ft(30,new gt(6,117),new gt(4,118)),new ft(28,new gt(6,45),new gt(14,46)),new ft(30,new gt(11,24),new gt(16,25)),new ft(30,new gt(30,16),new gt(2,17))),new vt(25,Int32Array.from([6,32,58,84,110]),new ft(26,new gt(8,106),new gt(4,107)),new ft(28,new gt(8,47),new gt(13,48)),new ft(30,new gt(7,24),new gt(22,25)),new ft(30,new gt(22,15),new gt(13,16))),new vt(26,Int32Array.from([6,30,58,86,114]),new ft(28,new gt(10,114),new gt(2,115)),new ft(28,new gt(19,46),new gt(4,47)),new ft(28,new gt(28,22),new gt(6,23)),new ft(30,new gt(33,16),new gt(4,17))),new vt(27,Int32Array.from([6,34,62,90,118]),new ft(30,new gt(8,122),new gt(4,123)),new ft(28,new gt(22,45),new gt(3,46)),new ft(30,new gt(8,23),new gt(26,24)),new ft(30,new gt(12,15),new gt(28,16))),new vt(28,Int32Array.from([6,26,50,74,98,122]),new ft(30,new gt(3,117),new gt(10,118)),new ft(28,new gt(3,45),new gt(23,46)),new ft(30,new gt(4,24),new gt(31,25)),new ft(30,new gt(11,15),new gt(31,16))),new vt(29,Int32Array.from([6,30,54,78,102,126]),new ft(30,new gt(7,116),new gt(7,117)),new ft(28,new gt(21,45),new gt(7,46)),new ft(30,new gt(1,23),new gt(37,24)),new ft(30,new gt(19,15),new gt(26,16))),new vt(30,Int32Array.from([6,26,52,78,104,130]),new ft(30,new gt(5,115),new gt(10,116)),new ft(28,new gt(19,47),new gt(10,48)),new ft(30,new gt(15,24),new gt(25,25)),new ft(30,new gt(23,15),new gt(25,16))),new vt(31,Int32Array.from([6,30,56,82,108,134]),new ft(30,new gt(13,115),new gt(3,116)),new ft(28,new gt(2,46),new gt(29,47)),new ft(30,new gt(42,24),new gt(1,25)),new ft(30,new gt(23,15),new gt(28,16))),new vt(32,Int32Array.from([6,34,60,86,112,138]),new ft(30,new gt(17,115)),new ft(28,new gt(10,46),new gt(23,47)),new ft(30,new gt(10,24),new gt(35,25)),new ft(30,new gt(19,15),new gt(35,16))),new vt(33,Int32Array.from([6,30,58,86,114,142]),new ft(30,new gt(17,115),new gt(1,116)),new ft(28,new gt(14,46),new gt(21,47)),new ft(30,new gt(29,24),new gt(19,25)),new ft(30,new gt(11,15),new gt(46,16))),new vt(34,Int32Array.from([6,34,62,90,118,146]),new ft(30,new gt(13,115),new gt(6,116)),new ft(28,new gt(14,46),new gt(23,47)),new ft(30,new gt(44,24),new gt(7,25)),new ft(30,new gt(59,16),new gt(1,17))),new vt(35,Int32Array.from([6,30,54,78,102,126,150]),new ft(30,new gt(12,121),new gt(7,122)),new ft(28,new gt(12,47),new gt(26,48)),new ft(30,new gt(39,24),new gt(14,25)),new ft(30,new gt(22,15),new gt(41,16))),new vt(36,Int32Array.from([6,24,50,76,102,128,154]),new ft(30,new gt(6,121),new gt(14,122)),new ft(28,new gt(6,47),new gt(34,48)),new ft(30,new gt(46,24),new gt(10,25)),new ft(30,new gt(2,15),new gt(64,16))),new vt(37,Int32Array.from([6,28,54,80,106,132,158]),new ft(30,new gt(17,122),new gt(4,123)),new ft(28,new gt(29,46),new gt(14,47)),new ft(30,new gt(49,24),new gt(10,25)),new ft(30,new gt(24,15),new gt(46,16))),new vt(38,Int32Array.from([6,32,58,84,110,136,162]),new ft(30,new gt(4,122),new gt(18,123)),new ft(28,new gt(13,46),new gt(32,47)),new ft(30,new gt(48,24),new gt(14,25)),new ft(30,new gt(42,15),new gt(32,16))),new vt(39,Int32Array.from([6,26,54,82,110,138,166]),new ft(30,new gt(20,117),new gt(4,118)),new ft(28,new gt(40,47),new gt(7,48)),new ft(30,new gt(43,24),new gt(22,25)),new ft(30,new gt(10,15),new gt(67,16))),new vt(40,Int32Array.from([6,30,58,86,114,142,170]),new ft(30,new gt(19,118),new gt(6,119)),new ft(28,new gt(18,47),new gt(31,48)),new ft(30,new gt(34,24),new gt(34,25)),new ft(30,new gt(20,15),new gt(61,16)))],function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"}(G||(G={}));class yt{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let n=0;n<t;n++)for(let i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)}}yt.values=new Map([[G.DATA_MASK_000,new yt(G.DATA_MASK_000,(e,t)=>0==(e+t&1))],[G.DATA_MASK_001,new yt(G.DATA_MASK_001,(e,t)=>0==(1&e))],[G.DATA_MASK_010,new yt(G.DATA_MASK_010,(e,t)=>t%3==0)],[G.DATA_MASK_011,new yt(G.DATA_MASK_011,(e,t)=>(e+t)%3==0)],[G.DATA_MASK_100,new yt(G.DATA_MASK_100,(e,t)=>0==(Math.floor(e/2)+Math.floor(t/3)&1))],[G.DATA_MASK_101,new yt(G.DATA_MASK_101,(e,t)=>e*t%6==0)],[G.DATA_MASK_110,new yt(G.DATA_MASK_110,(e,t)=>e*t%6<3)],[G.DATA_MASK_111,new yt(G.DATA_MASK_111,(e,t)=>0==(e+t+e*t%3&1))]]);class bt{constructor(e){const t=e.getHeight();if(t<21||1!=(3&t))throw new y;this.bitMatrix=e}readFormatInformation(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;let e=0;for(let o=0;o<6;o++)e=this.copyBit(o,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let o=5;o>=0;o--)e=this.copyBit(8,o,e);const t=this.bitMatrix.getHeight();let n=0;const i=t-7;for(let o=t-1;o>=i;o--)n=this.copyBit(8,o,n);for(let o=t-8;o<t;o++)n=this.copyBit(o,8,n);if(this.parsedFormatInfo=mt.decodeFormatInformation(e,n),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new y}readVersion(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return vt.getVersionForNumber(t);let n=0;const i=e-11;for(let r=5;r>=0;r--)for(let t=e-9;t>=i;t--)n=this.copyBit(t,r,n);let o=vt.decodeVersionInformation(n);if(null!==o&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;n=0;for(let r=5;r>=0;r--)for(let t=e-9;t>=i;t--)n=this.copyBit(r,t,n);if(o=vt.decodeVersionInformation(n),null!==o&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new y}copyBit(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),n=yt.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);const o=t.buildFunctionPattern();let r=!0;const s=new Uint8Array(t.getTotalCodewords());let a=0,l=0,c=0;for(let d=i-1;d>0;d-=2){6===d&&d--;for(let e=0;e<i;e++){const t=r?i-1-e:e;for(let e=0;e<2;e++)o.get(d-e,t)||(c++,l<<=1,this.bitMatrix.get(d-e,t)&&(l|=1),8===c&&(s[a++]=l,c=0,l=0))}r=!r}if(a!==t.getTotalCodewords())throw new y;return s}remask(){if(null===this.parsedFormatInfo)return;const e=yt.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,n=e.getWidth();t<n;t++)for(let i=t+1,o=e.getHeight();i<o;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))}}class xt{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,n){if(e.length!==t.getTotalCodewords())throw new s;const i=t.getECBlocksForLevel(n);let o=0;const r=i.getECBlocks();for(const s of r)o+=s.getCount();const a=new Array(o);let l=0;for(const s of r)for(let e=0;e<s.getCount();e++){const e=s.getDataCodewords(),t=i.getECCodewordsPerBlock()+e;a[l++]=new xt(e,new Uint8Array(t))}const c=a[0].codewords.length;let d=a.length-1;for(;d>=0&&a[d].codewords.length!==c;)d--;d++;const u=c-i.getECCodewordsPerBlock();let p=0;for(let s=0;s<u;s++)for(let t=0;t<l;t++)a[t].codewords[s]=e[p++];for(let s=d;s<l;s++)a[s].codewords[u]=e[p++];const h=a[0].codewords.length;for(let s=u;s<h;s++)for(let t=0;t<l;t++){const n=t<d?s:s+1;a[t].codewords[n]=e[p++]}return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}!function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"}(z||(z={}));class wt{constructor(e,t,n,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=i,wt.FOR_BITS.set(i,this),wt.FOR_VALUE.set(e,this)}static forBits(e){const t=wt.FOR_BITS.get(e);if(void 0===t)throw new s;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let n;return n=t<=9?0:t<=26?1:2,this.characterCountBitsForVersions[n]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof wt))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}wt.FOR_BITS=new Map,wt.FOR_VALUE=new Map,wt.TERMINATOR=new wt(z.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),wt.NUMERIC=new wt(z.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),wt.ALPHANUMERIC=new wt(z.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),wt.STRUCTURED_APPEND=new wt(z.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),wt.BYTE=new wt(z.BYTE,"BYTE",Int32Array.from([8,16,16]),4),wt.ECI=new wt(z.ECI,"ECI",Int32Array.from([0,0,0]),7),wt.KANJI=new wt(z.KANJI,"KANJI",Int32Array.from([8,10,12]),8),wt.FNC1_FIRST_POSITION=new wt(z.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),wt.FNC1_SECOND_POSITION=new wt(z.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),wt.HANZI=new wt(z.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ct{static decode(e,t,n,i){const o=new lt(e);let r=new _;const s=new Array;let a=-1,l=-1;try{let e,n=null,c=!1;do{if(o.available()<4)e=wt.TERMINATOR;else{const t=o.readBits(4);e=wt.forBits(t)}switch(e){case wt.TERMINATOR:break;case wt.FNC1_FIRST_POSITION:case wt.FNC1_SECOND_POSITION:c=!0;break;case wt.STRUCTURED_APPEND:if(o.available()<16)throw new y;a=o.readBits(8),l=o.readBits(8);break;case wt.ECI:const d=Ct.parseECIValue(o);if(n=b.getCharacterSetECIByValue(d),null===n)throw new y;break;case wt.HANZI:const u=o.readBits(4),p=o.readBits(e.getCharacterCountBits(t));u===Ct.GB2312_SUBSET&&Ct.decodeHanziSegment(o,r,p);break;default:const h=o.readBits(e.getCharacterCountBits(t));switch(e){case wt.NUMERIC:Ct.decodeNumericSegment(o,r,h);break;case wt.ALPHANUMERIC:Ct.decodeAlphanumericSegment(o,r,h,c);break;case wt.BYTE:Ct.decodeByteSegment(o,r,h,n,s,i);break;case wt.KANJI:Ct.decodeKanjiSegment(o,r,h);break;default:throw new y}}}while(e!==wt.TERMINATOR)}catch(c){throw new y}return new H(e,r.toString(),0===s.length?null:s,null===n?null:n.toString(),a,l)}static decodeHanziSegment(e,t,n){if(13*n>e.available())throw new y;const i=new Uint8Array(2*n);let o=0;for(;n>0;){const t=e.readBits(13);let r=t/96<<8&4294967295|t%96;r+=r<959?41377:42657,i[o]=r>>8&255,i[o+1]=255&r,o+=2,n--}try{t.append(w.decode(i,C.GB2312))}catch(r){throw new y(r)}}static decodeKanjiSegment(e,t,n){if(13*n>e.available())throw new y;const i=new Uint8Array(2*n);let o=0;for(;n>0;){const t=e.readBits(13);let r=t/192<<8&4294967295|t%192;r+=r<7936?33088:49472,i[o]=r>>8,i[o+1]=r,o+=2,n--}try{t.append(w.decode(i,C.SHIFT_JIS))}catch(r){throw new y(r)}}static decodeByteSegment(e,t,n,i,o,r){if(8*n>e.available())throw new y;const s=new Uint8Array(n);for(let c=0;c<n;c++)s[c]=e.readBits(8);let a;a=null===i?C.guessEncoding(s,r):i.getName();try{t.append(w.decode(s,a))}catch(l){throw new y(l)}o.push(s)}static toAlphaNumericChar(e){if(e>=Ct.ALPHANUMERIC_CHARS.length)throw new y;return Ct.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,n,i){const o=t.length();for(;n>1;){if(e.available()<11)throw new y;const i=e.readBits(11);t.append(Ct.toAlphaNumericChar(Math.floor(i/45))),t.append(Ct.toAlphaNumericChar(i%45)),n-=2}if(1===n){if(e.available()<6)throw new y;t.append(Ct.toAlphaNumericChar(e.readBits(6)))}if(i)for(let r=o;r<t.length();r++)"%"===t.charAt(r)&&(r<t.length()-1&&"%"===t.charAt(r+1)?t.deleteCharAt(r+1):t.setCharAt(r,String.fromCharCode(29)))}static decodeNumericSegment(e,t,n){for(;n>=3;){if(e.available()<10)throw new y;const i=e.readBits(10);if(i>=1e3)throw new y;t.append(Ct.toAlphaNumericChar(Math.floor(i/100))),t.append(Ct.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(Ct.toAlphaNumericChar(i%10)),n-=3}if(2===n){if(e.available()<7)throw new y;const n=e.readBits(7);if(n>=100)throw new y;t.append(Ct.toAlphaNumericChar(Math.floor(n/10))),t.append(Ct.toAlphaNumericChar(n%10))}else if(1===n){if(e.available()<4)throw new y;const n=e.readBits(4);if(n>=10)throw new y;t.append(Ct.toAlphaNumericChar(n))}}static parseECIValue(e){const t=e.readBits(8);if(0==(128&t))return 127&t;if(128==(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192==(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new y}}Ct.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ct.GB2312_SUBSET=1;class _t{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||null===e||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class St{constructor(){this.rsDecoder=new K(Y.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(S.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const n=new bt(e);let i=null;try{return this.decodeBitMatrixParser(n,t)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();const e=this.decodeBitMatrixParser(n,t);return e.setOther(new _t(!0)),e}catch(o){if(null!==i)throw i;throw o}}decodeBitMatrixParser(e,t){const n=e.readVersion(),i=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),r=xt.getDataBlocks(o,n,i);let s=0;for(const c of r)s+=c.getNumDataCodewords();const a=new Uint8Array(s);let l=0;for(const c of r){const e=c.getCodewords(),t=c.getNumDataCodewords();this.correctErrors(e,t);for(let n=0;n<t;n++)a[l++]=e[n]}return Ct.decode(a,n,i,t)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(i){throw new l}for(let o=0;o<t;o++)e[o]=n[o]}}class It extends ne{constructor(e,t,n){super(e,t),this.estimatedModuleSize=n}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const i=(this.getX()+t)/2,o=(this.getY()+e)/2,r=(this.estimatedModuleSize+n)/2;return new It(i,o,r)}}class At{constructor(e,t,n,i,o,r,s){this.image=e,this.startX=t,this.startY=n,this.width=i,this.height=o,this.moduleSize=r,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,n=e+this.width,i=this.startY+t/2,o=new Int32Array(3),r=this.image;for(let s=0;s<t;s++){const t=i+(0==(1&s)?Math.floor((s+1)/2):-Math.floor((s+1)/2));o[0]=0,o[1]=0,o[2]=0;let a=e;for(;a<n&&!r.get(a,t);)a++;let l=0;for(;a<n;){if(r.get(a,t))if(1===l)o[1]++;else if(2===l){if(this.foundPatternCross(o)){const e=this.handlePossibleCenter(o,t,a);if(null!==e)return e}o[0]=o[2],o[1]=1,o[2]=0,l=1}else o[++l]++;else 1===l&&l++,o[l]++;a++}if(this.foundPatternCross(o)){const e=this.handlePossibleCenter(o,t,n);if(null!==e)return e}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new I}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,n=t/2;for(let i=0;i<3;i++)if(Math.abs(t-e[i])>=n)return!1;return!0}crossCheckVertical(e,t,n,i){const o=this.image,r=o.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;let a=e;for(;a>=0&&o.get(t,a)&&s[1]<=n;)s[1]++,a--;if(a<0||s[1]>n)return NaN;for(;a>=0&&!o.get(t,a)&&s[0]<=n;)s[0]++,a--;if(s[0]>n)return NaN;for(a=e+1;a<r&&o.get(t,a)&&s[1]<=n;)s[1]++,a++;if(a===r||s[1]>n)return NaN;for(;a<r&&!o.get(t,a)&&s[2]<=n;)s[2]++,a++;if(s[2]>n)return NaN;const l=s[0]+s[1]+s[2];return 5*Math.abs(l-i)>=2*i?NaN:this.foundPatternCross(s)?At.centerFromEnd(s,a):NaN}handlePossibleCenter(e,t,n){const i=e[0]+e[1]+e[2],o=At.centerFromEnd(e,n),r=this.crossCheckVertical(t,o,2*e[1],i);if(!isNaN(r)){const t=(e[0]+e[1]+e[2])/3;for(const e of this.possibleCenters)if(e.aboutEquals(t,r,o))return e.combineEstimate(r,o,t);const n=new It(o,r,t);this.possibleCenters.push(n),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(n)}return null}}class Et extends ne{constructor(e,t,n,i){super(e,t),this.estimatedModuleSize=n,this.count=i,void 0===i&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const i=this.count+1,o=(this.count*this.getX()+t)/i,r=(this.count*this.getY()+e)/i,s=(this.count*this.estimatedModuleSize+n)/i;return new Et(o,r,s,i)}}class Dt{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Tt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=null!=e&&void 0!==e.get(v.TRY_HARDER),n=null!=e&&void 0!==e.get(v.PURE_BARCODE),i=this.image,o=i.getHeight(),r=i.getWidth();let s=Math.floor(3*o/(4*Tt.MAX_MODULES));(s<Tt.MIN_SKIP||t)&&(s=Tt.MIN_SKIP);let a=!1;const l=new Int32Array(5);for(let d=s-1;d<o&&!a;d+=s){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;let e=0;for(let t=0;t<r;t++)if(i.get(t,d))1==(1&e)&&e++,l[e]++;else if(0==(1&e))if(4===e)if(Tt.foundPatternCross(l)){if(!0!==this.handlePossibleCenter(l,d,t,n)){l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,e=3;continue}if(s=2,!0===this.hasSkipped)a=this.haveMultiplyConfirmedCenters();else{const e=this.findRowSkip();e>l[2]&&(d+=e-l[2]-s,t=r-1)}e=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,e=3;else l[++e]++;else l[e]++;Tt.foundPatternCross(l)&&!0===this.handlePossibleCenter(l,d,r,n)&&(s=l[0],this.hasSkipped&&(a=this.haveMultiplyConfirmedCenters()))}const c=this.selectBestPatterns();return ne.orderBestPatterns(c),new Dt(c)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let o=0;o<5;o++){const n=e[o];if(0===n)return!1;t+=n}if(t<7)return!1;const n=t/7,i=n/2;return Math.abs(n-e[0])<i&&Math.abs(n-e[1])<i&&Math.abs(3*n-e[2])<3*i&&Math.abs(n-e[3])<i&&Math.abs(n-e[4])<i}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,n,i){const o=this.getCrossCheckStateCount();let r=0;const s=this.image;for(;e>=r&&t>=r&&s.get(t-r,e-r);)o[2]++,r++;if(e<r||t<r)return!1;for(;e>=r&&t>=r&&!s.get(t-r,e-r)&&o[1]<=n;)o[1]++,r++;if(e<r||t<r||o[1]>n)return!1;for(;e>=r&&t>=r&&s.get(t-r,e-r)&&o[0]<=n;)o[0]++,r++;if(o[0]>n)return!1;const a=s.getHeight(),l=s.getWidth();for(r=1;e+r<a&&t+r<l&&s.get(t+r,e+r);)o[2]++,r++;if(e+r>=a||t+r>=l)return!1;for(;e+r<a&&t+r<l&&!s.get(t+r,e+r)&&o[3]<n;)o[3]++,r++;if(e+r>=a||t+r>=l||o[3]>=n)return!1;for(;e+r<a&&t+r<l&&s.get(t+r,e+r)&&o[4]<n;)o[4]++,r++;if(o[4]>=n)return!1;const c=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(c-i)<2*i&&Tt.foundPatternCross(o)}crossCheckVertical(e,t,n,i){const o=this.image,r=o.getHeight(),s=this.getCrossCheckStateCount();let a=e;for(;a>=0&&o.get(t,a);)s[2]++,a--;if(a<0)return NaN;for(;a>=0&&!o.get(t,a)&&s[1]<=n;)s[1]++,a--;if(a<0||s[1]>n)return NaN;for(;a>=0&&o.get(t,a)&&s[0]<=n;)s[0]++,a--;if(s[0]>n)return NaN;for(a=e+1;a<r&&o.get(t,a);)s[2]++,a++;if(a===r)return NaN;for(;a<r&&!o.get(t,a)&&s[3]<n;)s[3]++,a++;if(a===r||s[3]>=n)return NaN;for(;a<r&&o.get(t,a)&&s[4]<n;)s[4]++,a++;if(s[4]>=n)return NaN;const l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-i)>=2*i?NaN:Tt.foundPatternCross(s)?Tt.centerFromEnd(s,a):NaN}crossCheckHorizontal(e,t,n,i){const o=this.image,r=o.getWidth(),s=this.getCrossCheckStateCount();let a=e;for(;a>=0&&o.get(a,t);)s[2]++,a--;if(a<0)return NaN;for(;a>=0&&!o.get(a,t)&&s[1]<=n;)s[1]++,a--;if(a<0||s[1]>n)return NaN;for(;a>=0&&o.get(a,t)&&s[0]<=n;)s[0]++,a--;if(s[0]>n)return NaN;for(a=e+1;a<r&&o.get(a,t);)s[2]++,a++;if(a===r)return NaN;for(;a<r&&!o.get(a,t)&&s[3]<n;)s[3]++,a++;if(a===r||s[3]>=n)return NaN;for(;a<r&&o.get(a,t)&&s[4]<n;)s[4]++,a++;if(s[4]>=n)return NaN;const l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-i)>=i?NaN:Tt.foundPatternCross(s)?Tt.centerFromEnd(s,a):NaN}handlePossibleCenter(e,t,n,i){const o=e[0]+e[1]+e[2]+e[3]+e[4];let r=Tt.centerFromEnd(e,n),s=this.crossCheckVertical(t,Math.floor(r),e[2],o);if(!isNaN(s)&&(r=this.crossCheckHorizontal(Math.floor(r),Math.floor(s),e[2],o),!isNaN(r)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(r),e[2],o)))){const e=o/7;let t=!1;const n=this.possibleCenters;for(let i=0,o=n.length;i<o;i++){const o=n[i];if(o.aboutEquals(e,s,r)){n[i]=o.combineEstimate(s,r,e),t=!0;break}}if(!t){const t=new Et(r,s,e);n.push(t),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(t)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let e=null;for(const t of this.possibleCenters)if(t.getCount()>=Tt.CENTER_QUORUM){if(null!=e)return this.hasSkipped=!0,Math.floor((Math.abs(e.getX()-t.getX())-Math.abs(e.getY()-t.getY()))/2);e=t}return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const n=this.possibleCenters.length;for(const r of this.possibleCenters)r.getCount()>=Tt.CENTER_QUORUM&&(e++,t+=r.getEstimatedModuleSize());if(e<3)return!1;const i=t/n;let o=0;for(const r of this.possibleCenters)o+=Math.abs(r.getEstimatedModuleSize()-i);return o<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new I;const t=this.possibleCenters;let n;if(e>3){let i=0,o=0;for(const e of this.possibleCenters){const t=e.getEstimatedModuleSize();i+=t,o+=t*t}n=i/e;let r=Math.sqrt(o/e-n*n);t.sort((e,t)=>{const i=Math.abs(t.getEstimatedModuleSize()-n),o=Math.abs(e.getEstimatedModuleSize()-n);return i<o?-1:i>o?1:0});const s=Math.max(.2*n,r);for(let e=0;e<t.length&&t.length>3;e++){const i=t[e];Math.abs(i.getEstimatedModuleSize()-n)>s&&(t.splice(e,1),e--)}}if(t.length>3){let e=0;for(const n of t)e+=n.getEstimatedModuleSize();n=e/t.length,t.sort((e,t)=>{if(t.getCount()===e.getCount()){const i=Math.abs(t.getEstimatedModuleSize()-n),o=Math.abs(e.getEstimatedModuleSize()-n);return i<o?1:i>o?-1:0}return t.getCount()-e.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}Tt.CENTER_QUORUM=2,Tt.MIN_SKIP=3,Tt.MAX_MODULES=57;class Rt{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=null==e?null:e.get(v.NEED_RESULT_POINT_CALLBACK);const t=new Tt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)}processFinderPatternInfo(e){const t=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(t,n,i);if(o<1)throw new I("No pattern found in proccess finder.");const r=Rt.computeDimension(t,n,i,o),s=vt.getProvisionalVersionForDimension(r),a=s.getDimensionForVersion()-7;let l=null;if(s.getAlignmentPatternCenters().length>0){const e=n.getX()-t.getX()+i.getX(),r=n.getY()-t.getY()+i.getY(),s=1-3/a,c=Math.floor(t.getX()+s*(e-t.getX())),d=Math.floor(t.getY()+s*(r-t.getY()));for(let t=4;t<=16;t<<=1)try{l=this.findAlignmentInRegion(o,c,d,t);break}catch(p){if(!(p instanceof I))throw p}}const c=Rt.createTransform(t,n,i,l,r),d=Rt.sampleGrid(this.image,c,r);let u;return u=null===l?[i,t,n]:[i,t,n,l],new ie(d,u)}static createTransform(e,t,n,i,o){const r=o-3.5;let s,a,l,c;return null!==i?(s=i.getX(),a=i.getY(),l=r-3,c=l):(s=t.getX()-e.getX()+n.getX(),a=t.getY()-e.getY()+n.getY(),l=r,c=r),ae.quadrilateralToQuadrilateral(3.5,3.5,r,3.5,l,c,3.5,r,e.getX(),e.getY(),t.getX(),t.getY(),s,a,n.getX(),n.getY())}static sampleGrid(e,t,n){return ce.getInstance().sampleGridWithTransform(e,n,n,t)}static computeDimension(e,t,n,i){const o=ee.round(ne.distance(e,t)/i),r=ee.round(ne.distance(e,n)/i);let s=Math.floor((o+r)/2)+7;switch(3&s){case 0:s++;break;case 2:s--;break;case 3:throw new I("Dimensions could be not found.")}return s}calculateModuleSize(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2}calculateModuleSizeOneWay(e,t){const n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,n,i){let o=this.sizeOfBlackWhiteBlackRun(e,t,n,i),r=1,s=e-(n-e);s<0?(r=e/(e-s),s=0):s>=this.image.getWidth()&&(r=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);let a=Math.floor(t-(i-t)*r);return r=1,a<0?(r=t/(t-a),a=0):a>=this.image.getHeight()&&(r=(this.image.getHeight()-1-t)/(a-t),a=this.image.getHeight()-1),s=Math.floor(e+(s-e)*r),o+=this.sizeOfBlackWhiteBlackRun(e,t,s,a),o-1}sizeOfBlackWhiteBlackRun(e,t,n,i){const o=Math.abs(i-t)>Math.abs(n-e);if(o){let o=e;e=t,t=o,o=n,n=i,i=o}const r=Math.abs(n-e),s=Math.abs(i-t);let a=-r/2;const l=e<n?1:-1,c=t<i?1:-1;let d=0;const u=n+l;for(let p=e,h=t;p!==u;p+=l){const n=o?h:p,l=o?p:h;if(1===d===this.image.get(n,l)){if(2===d)return ee.distance(p,h,e,t);d++}if(a+=s,a>0){if(h===i)break;h+=c,a-=r}}return 2===d?ee.distance(n+l,i,e,t):NaN}findAlignmentInRegion(e,t,n,i){const o=Math.floor(i*e),r=Math.max(0,t-o),s=Math.min(this.image.getWidth()-1,t+o);if(s-r<3*e)throw new I("Alignment top exceeds estimated module size.");const a=Math.max(0,n-o),l=Math.min(this.image.getHeight()-1,n+o);if(l-a<3*e)throw new I("Alignment bottom exceeds estimated module size.");return new At(this.image,r,a,s-r,l-a,e,this.resultPointCallback).find()}}class Mt{constructor(){this.decoder=new St}getDecoder(){return this.decoder}decode(e,t){let n,i;if(null!=t&&void 0!==t.get(v.PURE_BARCODE)){const o=Mt.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(o,t),i=Mt.NO_POINTS}else{const o=new Rt(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(o.getBits(),t),i=o.getPoints()}n.getOther()instanceof _t&&n.getOther().applyMirroredCorrection(i);const o=new k(n.getText(),n.getRawBytes(),void 0,i,j.QR_CODE,void 0),r=n.getByteSegments();null!==r&&o.putMetadata(U.BYTE_SEGMENTS,r);const s=n.getECLevel();return null!==s&&o.putMetadata(U.ERROR_CORRECTION_LEVEL,s),n.hasStructuredAppend()&&(o.putMetadata(U.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),o.putMetadata(U.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),o}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null===t||null===n)throw new I;const i=this.moduleSize(t,e);let o=t[1],r=n[1],s=t[0],a=n[0];if(s>=a||o>=r)throw new I;if(r-o!=a-s&&(a=s+(r-o),a>=e.getWidth()))throw new I;const l=Math.round((a-s+1)/i),c=Math.round((r-o+1)/i);if(l<=0||c<=0)throw new I;if(c!==l)throw new I;const d=Math.floor(i/2);o+=d,s+=d;const u=s+Math.floor((l-1)*i)-a;if(u>0){if(u>d)throw new I;s-=u}const p=o+Math.floor((c-1)*i)-r;if(p>0){if(p>d)throw new I;o-=p}const h=new S(l,c);for(let m=0;m<c;m++){const t=o+Math.floor(m*i);for(let n=0;n<l;n++)e.get(s+Math.floor(n*i),t)&&h.set(n,m)}return h}static moduleSize(e,t){const n=t.getHeight(),i=t.getWidth();let o=e[0],r=e[1],s=!0,a=0;for(;o<i&&r<n;){if(s!==t.get(o,r)){if(5==++a)break;s=!s}o++,r++}if(o===i||r===n)throw new I;return(o-e[0])/7}}Mt.NO_POINTS=new Array;class Ot{PDF417Common(){}static getBitCountSum(e){return ee.sum(e)}static toIntArray(e){if(null==e||!e.length)return Ot.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let n=0;for(const i of e)t[n++]=i;return t}static getCodeword(e){const t=h.binarySearch(Ot.SYMBOL_TABLE,262143&e);return t<0?-1:(Ot.CODEWORD_TABLE[t]-1)%Ot.NUMBER_OF_CODEWORDS}}Ot.NUMBER_OF_CODEWORDS=929,Ot.MAX_CODEWORDS_IN_BARCODE=Ot.NUMBER_OF_CODEWORDS-1,Ot.MIN_ROWS_IN_BARCODE=3,Ot.MAX_ROWS_IN_BARCODE=90,Ot.MODULES_IN_CODEWORD=17,Ot.MODULES_IN_STOP_PATTERN=18,Ot.BARS_IN_MODULE=8,Ot.EMPTY_INT_ARRAY=new Int32Array([]),Ot.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ot.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Pt{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Ft{static detectMultiple(e,t,n){let i=e.getBlackMatrix(),o=Ft.detect(n,i);return o.length||(i=i.clone(),i.rotate180(),o=Ft.detect(n,i)),new Pt(i,o)}static detect(e,t){const n=new Array;let i=0,o=0,r=!1;for(;i<t.getHeight();){const s=Ft.findVertices(t,i,o);if(null!=s[0]||null!=s[3]){if(r=!0,n.push(s),!e)break;null!=s[2]?(o=Math.trunc(s[2].getX()),i=Math.trunc(s[2].getY())):(o=Math.trunc(s[4].getX()),i=Math.trunc(s[4].getY()))}else{if(!r)break;r=!1,o=0;for(const e of n)null!=e[1]&&(i=Math.trunc(Math.max(i,e[1].getY()))),null!=e[3]&&(i=Math.max(i,Math.trunc(e[3].getY())));i+=Ft.ROW_STEP}}return n}static findVertices(e,t,n){const i=e.getHeight(),o=e.getWidth(),r=new Array(8);return Ft.copyToResult(r,Ft.findRowsWithPattern(e,i,o,t,n,Ft.START_PATTERN),Ft.INDEXES_START_PATTERN),null!=r[4]&&(n=Math.trunc(r[4].getX()),t=Math.trunc(r[4].getY())),Ft.copyToResult(r,Ft.findRowsWithPattern(e,i,o,t,n,Ft.STOP_PATTERN),Ft.INDEXES_STOP_PATTERN),r}static copyToResult(e,t,n){for(let i=0;i<n.length;i++)e[n[i]]=t[i]}static findRowsWithPattern(e,t,n,i,o,r){const s=new Array(4);let a=!1;const l=new Int32Array(r.length);for(;i<t;i+=Ft.ROW_STEP){let t=Ft.findGuardPattern(e,o,i,n,!1,r,l);if(null!=t){for(;i>0;){const s=Ft.findGuardPattern(e,o,--i,n,!1,r,l);if(null==s){i++;break}t=s}s[0]=new ne(t[0],i),s[1]=new ne(t[1],i),a=!0;break}}let c=i+1;if(a){let i=0,o=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);for(;c<t;c++){const t=Ft.findGuardPattern(e,o[0],c,n,!1,r,l);if(null!=t&&Math.abs(o[0]-t[0])<Ft.MAX_PATTERN_DRIFT&&Math.abs(o[1]-t[1])<Ft.MAX_PATTERN_DRIFT)o=t,i=0;else{if(i>Ft.SKIPPED_ROW_COUNT_MAX)break;i++}}c-=i+1,s[2]=new ne(o[0],c),s[3]=new ne(o[1],c)}return c-i<Ft.BARCODE_MIN_HEIGHT&&h.fill(s,null),s}static findGuardPattern(e,t,n,i,o,r,s){h.fillWithin(s,0,s.length,0);let a=t,l=0;for(;e.get(a,n)&&a>0&&l++<Ft.MAX_PIXEL_DRIFT;)a--;let c=a,u=0,p=r.length;for(let h=o;c<i;c++)if(e.get(c,n)!==h)s[u]++;else{if(u===p-1){if(Ft.patternMatchVariance(s,r,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return new Int32Array([a,c]);a+=s[0]+s[1],d.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,h=!h}return u===p-1&&Ft.patternMatchVariance(s,r,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE?new Int32Array([a,c-1]):null}static patternMatchVariance(e,t,n){let i=e.length,o=0,r=0;for(let l=0;l<i;l++)o+=e[l],r+=t[l];if(o<r)return 1/0;let s=o/r;n*=s;let a=0;for(let l=0;l<i;l++){let i=e[l],o=t[l]*s,r=i>o?i-o:o-i;if(r>n)return 1/0;a+=r}return a/o}}Ft.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ft.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ft.MAX_AVG_VARIANCE=.42,Ft.MAX_INDIVIDUAL_VARIANCE=.8,Ft.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ft.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ft.MAX_PIXEL_DRIFT=3,Ft.MAX_PATTERN_DRIFT=5,Ft.SKIPPED_ROW_COUNT_MAX=25,Ft.ROW_STEP=5,Ft.BARCODE_MIN_HEIGHT=10;class kt{constructor(e,t){if(0===t.length)throw new s;this.field=e;let n=t.length;if(n>1&&0===t[0]){let e=1;for(;e<n&&0===t[e];)e++;e===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-e),d.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);if(1===e){let e=0;for(let t of this.coefficients)e=this.field.add(e,t);return e}let t=this.coefficients[0],n=this.coefficients.length;for(let i=1;i<n;i++)t=this.field.add(this.field.multiply(e,t),this.coefficients[i]);return t}add(e){if(!this.field.equals(e.field))throw new s("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){let e=t;t=n,n=e}let i=new Int32Array(n.length),o=n.length-t.length;d.arraycopy(n,0,i,0,o);for(let r=o;r<n.length;r++)i[r]=this.field.add(t[r-o],n[r]);return new kt(this.field,i)}subtract(e){if(!this.field.equals(e.field))throw new s("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof kt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new s("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new kt(this.field,new Int32Array([0]));let t=this.coefficients,n=t.length,i=e.coefficients,o=i.length,r=new Int32Array(n+o-1);for(let s=0;s<n;s++){let e=t[s];for(let t=0;t<o;t++)r[s+t]=this.field.add(r[s+t],this.field.multiply(e,i[t]))}return new kt(this.field,r)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new kt(this.field,t)}multiplyScalar(e){if(0===e)return new kt(this.field,new Int32Array([0]));if(1===e)return this;let t=this.coefficients.length,n=new Int32Array(t);for(let i=0;i<t;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new kt(this.field,n)}multiplyByMonomial(e,t){if(e<0)throw new s;if(0===t)return new kt(this.field,new Int32Array([0]));let n=this.coefficients.length,i=new Int32Array(n+e);for(let o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],t);return new kt(this.field,i)}toString(){let e=new _;for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);0!==n&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),0!==t&&1===n||e.append(n),0!==t&&(1===t?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Nt{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(0===e)throw new s;return this.logTable[e]}inverse(e){if(0===e)throw new q;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class jt extends Nt{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let n=1;for(let i=0;i<e;i++)this.expTable[i]=n,n=n*t%e;for(let i=0;i<e-1;i++)this.logTable[this.expTable[i]]=i;this.zero=new kt(this,new Int32Array([0])),this.one=new kt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new s;if(0===t)return this.zero;let n=new Int32Array(e+1);return n[0]=t,new kt(this,n)}}jt.PDF417_GF=new jt(Ot.NUMBER_OF_CODEWORDS,3);class Lt{constructor(){this.field=jt.PDF417_GF}decode(e,t,n){let i=new kt(this.field,e),o=new Int32Array(t),r=!1;for(let l=t;l>0;l--){let e=i.evaluateAt(this.field.exp(l));o[t-l]=e,0!==e&&(r=!0)}if(!r)return 0;let s=this.field.getOne();if(null!=n)for(const l of n){let t=this.field.exp(e.length-1-l),n=new kt(this.field,new Int32Array([this.field.subtract(0,t),1]));s=s.multiply(n)}let a=new kt(this.field,o),c=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),a,t),d=c[0],u=c[1],p=this.findErrorLocations(d),h=this.findErrorMagnitudes(u,d,p);for(let m=0;m<p.length;m++){let t=e.length-1-this.field.log(p[m]);if(t<0)throw l.getChecksumInstance();e[t]=this.field.subtract(e[t],h[m])}return p.length}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){let n=e;e=t,t=n}let i=e,o=t,r=this.field.getZero(),s=this.field.getOne();for(;o.getDegree()>=Math.round(n/2);){let e=i,t=r;if(i=o,r=s,i.isZero())throw l.getChecksumInstance();o=e;let n=this.field.getZero(),a=i.getCoefficient(i.getDegree()),c=this.field.inverse(a);for(;o.getDegree()>=i.getDegree()&&!o.isZero();){let e=o.getDegree()-i.getDegree(),t=this.field.multiply(o.getCoefficient(o.getDegree()),c);n=n.add(this.field.buildMonomial(e,t)),o=o.subtract(i.multiplyByMonomial(e,t))}s=n.multiply(r).subtract(t).negative()}let a=s.getCoefficient(0);if(0===a)throw l.getChecksumInstance();let c=this.field.inverse(a);return[s.multiply(c),o.multiply(c)]}findErrorLocations(e){let t=e.getDegree(),n=new Int32Array(t),i=0;for(let o=1;o<this.field.getSize()&&i<t;o++)0===e.evaluateAt(o)&&(n[i]=this.field.inverse(o),i++);if(i!==t)throw l.getChecksumInstance();return n}findErrorMagnitudes(e,t,n){let i=t.getDegree(),o=new Int32Array(i);for(let l=1;l<=i;l++)o[i-l]=this.field.multiply(l,t.getCoefficient(l));let r=new kt(this.field,o),s=n.length,a=new Int32Array(s);for(let l=0;l<s;l++){let t=this.field.inverse(n[l]),i=this.field.subtract(0,e.evaluateAt(t)),o=this.field.inverse(r.evaluateAt(t));a[l]=this.field.multiply(i,o)}return a}}class Vt{constructor(e,t,n,i,o){e instanceof Vt?this.constructor_2(e):this.constructor_1(e,t,n,i,o)}constructor_1(e,t,n,i,o){const r=null==t||null==n,s=null==i||null==o;if(r&&s)throw new I;r?(t=new ne(0,i.getY()),n=new ne(0,o.getY())):s&&(i=new ne(e.getWidth()-1,t.getY()),o=new ne(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return null==e?t:null==t?e:new Vt(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,n){let i=this.topLeft,o=this.bottomLeft,r=this.topRight,s=this.bottomRight;if(e>0){let t=n?this.topLeft:this.topRight,o=Math.trunc(t.getY()-e);o<0&&(o=0);let s=new ne(t.getX(),o);n?i=s:r=s}if(t>0){let e=n?this.bottomLeft:this.bottomRight,i=Math.trunc(e.getY()+t);i>=this.image.getHeight()&&(i=this.image.getHeight()-1);let r=new ne(e.getX(),i);n?o=r:s=r}return new Vt(this.image,i,o,r,s)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Bt{constructor(e,t,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Gt{constructor(){this.buffer=""}static form(e,t){let n=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(e,i,o,r,s,a){if("%%"===e)return"%";if(void 0===t[++n])return;e=r?parseInt(r.substr(1)):void 0;let l,c=s?parseInt(s.substr(1)):void 0;switch(a){case"s":l=t[n];break;case"c":l=t[n][0];break;case"f":l=parseFloat(t[n]).toFixed(e);break;case"p":l=parseFloat(t[n]).toPrecision(e);break;case"e":l=parseFloat(t[n]).toExponential(e);break;case"x":l=parseInt(t[n]).toString(c||16);break;case"d":l=parseFloat(parseInt(t[n],c||10).toPrecision(e)).toFixed(0)}l="object"==typeof l?JSON.stringify(l):(+l).toString(c);let d=parseInt(o),u=o&&o[0]+""=="0"?"0":" ";for(;l.length<d;)l=void 0!==i?l+u:u+l;return l})}format(e,...t){this.buffer+=Gt.form(e,t)}toString(){return this.buffer}}class zt{constructor(e){this.boundingBox=new Vt(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(null!=t)return t;for(let n=1;n<zt.MAX_NEARBY_DISTANCE;n++){let i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(t=this.codewords[i],null!=t))return t;if(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(t=this.codewords[i],null!=t))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Gt;let t=0;for(const n of this.codewords)null!=n?e.format("%3d: %3d|%3d%n",t++,n.getRowNumber(),n.getValue()):e.format("%3d:    |   %n",t++);return e.toString()}}zt.MAX_NEARBY_DISTANCE=5;class $t{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);null==t&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[n,i]of this.values.entries()){const o={getKey:()=>n,getValue:()=>i};o.getValue()>e?(e=o.getValue(),t=[],t.push(o.getKey())):o.getValue()===e&&t.push(o.getKey())}return Ot.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class Ut extends zt{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())null!=e&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),r=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),a=-1,l=1,c=0;for(let d=r;d<s;d++){if(null==t[d])continue;let n=t[d],i=n.getRowNumber()-a;if(0===i)c++;else if(1===i)l=Math.max(l,c),c=1,a=n.getRowNumber();else if(i<0||n.getRowNumber()>=e.getRowCount()||i>d)t[d]=null;else{let e;e=l>2?(l-2)*i:i;let o=e>=d;for(let n=1;n<=e&&!o;n++)o=null!=t[d-n];o?t[d]=null:(a=n.getRowNumber(),c=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(null==e)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let n of this.getCodewords())if(null!=n){let e=n.getRowNumber();if(e>=t.length)continue;t[e]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),n=this._isLeft?t.getTopLeft():t.getTopRight(),i=this._isLeft?t.getBottomLeft():t.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),r=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.getCodewords(),a=-1;for(let l=o;l<r;l++){if(null==s[l])continue;let t=s[l];t.setRowNumberAsRowIndicatorColumn();let n=t.getRowNumber()-a;0===n||(1===n?a=t.getRowNumber():t.getRowNumber()>=e.getRowCount()?s[l]=null:a=t.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new $t,n=new $t,i=new $t,o=new $t;for(let s of e){if(null==s)continue;s.setRowNumberAsRowIndicatorColumn();let e=s.getValue()%30,r=s.getRowNumber();switch(this._isLeft||(r+=2),r%3){case 0:n.setValue(3*e+1);break;case 1:o.setValue(e/3),i.setValue(e%3);break;case 2:t.setValue(e+1)}}if(0===t.getValue().length||0===n.getValue().length||0===i.getValue().length||0===o.getValue().length||t.getValue()[0]<1||n.getValue()[0]+i.getValue()[0]<Ot.MIN_ROWS_IN_BARCODE||n.getValue()[0]+i.getValue()[0]>Ot.MAX_ROWS_IN_BARCODE)return null;let r=new Bt(t.getValue()[0],n.getValue()[0],i.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(e,r),r}removeIncorrectCodewords(e,t){for(let n=0;n<e.length;n++){let i=e[n];if(null==e[n])continue;let o=i.getValue()%30,r=i.getRowNumber();if(r>t.getRowCount())e[n]=null;else switch(this._isLeft||(r+=2),r%3){case 0:3*o+1!==t.getRowCountUpperPart()&&(e[n]=null);break;case 1:Math.trunc(o/3)===t.getErrorCorrectionLevel()&&o%3===t.getRowCountLowerPart()||(e[n]=null);break;case 2:o+1!==t.getColumnCount()&&(e[n]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class Ht{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e,t=Ot.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){null!=e&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(0===e)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let e=this.detectionResultColumns[t].getCodewords();for(let n=0;n<e.length;n++)null!=e[n]&&(e[n].hasValidRowNumber()||this.adjustRowNumbers(t,n,e))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<e.length;n++)if(null!=e[n]&&null!=t[n]&&e[n].getRowNumber()===t[n].getRowNumber())for(let t=1;t<=this.barcodeColumnCount;t++){let i=this.detectionResultColumns[t].getCodewords()[n];null!=i&&(i.setRowNumber(e[n].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[t].getCodewords()[n]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<t.length;n++){if(null==t[n])continue;let i=t[n].getRowNumber(),o=0;for(let t=this.barcodeColumnCount+1;t>0&&o<this.ADJUST_ROW_NUMBER_SKIP;t--){let r=this.detectionResultColumns[t].getCodewords()[n];null!=r&&(o=Ht.adjustRowNumberIfValid(i,o,r),r.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let n=0;n<t.length;n++){if(null==t[n])continue;let i=t[n].getRowNumber(),o=0;for(let t=1;t<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;t++){let r=this.detectionResultColumns[t].getCodewords()[n];null!=r&&(o=Ht.adjustRowNumberIfValid(i,o,r),r.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,n){return null==n||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,n){let i=n[t],o=this.detectionResultColumns[e-1].getCodewords(),r=o;null!=this.detectionResultColumns[e+1]&&(r=this.detectionResultColumns[e+1].getCodewords());let s=new Array(14);s[2]=o[t],s[3]=r[t],t>0&&(s[0]=n[t-1],s[4]=o[t-1],s[5]=r[t-1]),t>1&&(s[8]=n[t-2],s[10]=o[t-2],s[11]=r[t-2]),t<n.length-1&&(s[1]=n[t+1],s[6]=o[t+1],s[7]=r[t+1]),t<n.length-2&&(s[9]=n[t+2],s[12]=o[t+2],s[13]=r[t+2]);for(let a of s)if(Ht.adjustRowNumber(i,a))return}static adjustRowNumber(e,t){return!(null==t||!t.hasValidRowNumber()||t.getBucket()!==e.getBucket()||(e.setRowNumber(t.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new Gt;for(let n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(let e=0;e<this.barcodeColumnCount+2;e++){if(null==this.detectionResultColumns[e]){t.format("    |   ");continue}let i=this.detectionResultColumns[e].getCodewords()[n];null!=i?t.format(" %3d|%3d",i.getRowNumber(),i.getValue()):t.format("    |   ")}t.format("%n")}return t.toString()}}class Xt{constructor(e,t,n,i){this.rowNumber=Xt.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Xt.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Xt.BARCODE_ROW_UNKNOWN=-1;class Wt{static initialize(){for(let e=0;e<Ot.SYMBOL_TABLE.length;e++){let t=Ot.SYMBOL_TABLE[e],n=1&t;for(let i=0;i<Ot.BARS_IN_MODULE;i++){let o=0;for(;(1&t)===n;)o+=1,t>>=1;n=1&t,Wt.RATIOS_TABLE[e]||(Wt.RATIOS_TABLE[e]=new Array(Ot.BARS_IN_MODULE)),Wt.RATIOS_TABLE[e][Ot.BARS_IN_MODULE-i-1]=Math.fround(o/Ot.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=Wt.getDecodedCodewordValue(Wt.sampleBitCounts(e));return-1!==t?t:Wt.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=ee.sum(e),n=new Int32Array(Ot.BARS_IN_MODULE),i=0,o=0;for(let r=0;r<Ot.MODULES_IN_CODEWORD;r++){let s=t/(2*Ot.MODULES_IN_CODEWORD)+r*t/Ot.MODULES_IN_CODEWORD;o+e[i]<=s&&(o+=e[i],i++),n[i]++}return n}static getDecodedCodewordValue(e){let t=Wt.getBitValue(e);return-1===Ot.getCodeword(t)?-1:t}static getBitValue(e){let t=0;for(let n=0;n<e.length;n++)for(let i=0;i<e[n];i++)t=t<<1|(n%2==0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=ee.sum(e),n=new Array(Ot.BARS_IN_MODULE);if(t>1)for(let r=0;r<n.length;r++)n[r]=Math.fround(e[r]/t);let i=te.MAX_VALUE,o=-1;this.bSymbolTableReady||Wt.initialize();for(let r=0;r<Wt.RATIOS_TABLE.length;r++){let e=0,t=Wt.RATIOS_TABLE[r];for(let o=0;o<Ot.BARS_IN_MODULE;o++){let r=Math.fround(t[o]-n[o]);if(e+=Math.fround(r*r),e>=i)break}e<i&&(i=e,o=Ot.SYMBOL_TABLE[r])}return o}}Wt.bSymbolTableReady=!1,Wt.RATIOS_TABLE=new Array(Ot.SYMBOL_TABLE.length).map(e=>new Array(Ot.BARS_IN_MODULE));class qt{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Yt{static parseLong(e,t=void 0){return parseInt(e,t)}}class Qt extends o{}Qt.kind="NullPointerException";class Zt{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,n){if(null==e)throw new Qt;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new u;if(0!==n)for(let i=0;i<n;i++)this.write(e[t+i])}flush(){}close(){}}class Kt extends o{}class Jt extends Zt{constructor(e=32){if(super(),this.count=0,e<0)throw new s("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new Kt;t=m.MAX_VALUE}this.buf=h.copyOfUint8Array(this.buf,t)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,n){if(t<0||t>e.length||n<0||t+n-e.length>0)throw new u;this.ensureCapacity(this.count+n),d.arraycopy(e,t,this.buf,this.count,n),this.count+=n}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return h.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?"string"==typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}function en(){if("undefined"!=typeof window)return window.BigInt||null;if("undefined"!=typeof global)return global.BigInt||null;if("undefined"!=typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let tn;function nn(e){if(void 0===tn&&(tn=en()),null===tn)throw new Error("BigInt is not supported!");return tn(e)}!function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"}($||($={}));class on{static decode(e,t){let n=new _(""),i=b.ISO8859_1;n.enableDecoding(i);let o=1,r=e[o++],s=new qt;for(;o<e[0];){switch(r){case on.TEXT_COMPACTION_MODE_LATCH:o=on.textCompaction(e,o,n);break;case on.BYTE_COMPACTION_MODE_LATCH:case on.BYTE_COMPACTION_MODE_LATCH_6:o=on.byteCompaction(r,e,i,o,n);break;case on.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[o++]);break;case on.NUMERIC_COMPACTION_MODE_LATCH:o=on.numericCompaction(e,o,n);break;case on.ECI_CHARSET:b.getCharacterSetECIByValue(e[o++]);break;case on.ECI_GENERAL_PURPOSE:o+=2;break;case on.ECI_USER_DEFINED:o++;break;case on.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=on.decodeMacroBlock(e,o,s);break;case on.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case on.MACRO_PDF417_TERMINATOR:throw new y;default:o--,o=on.textCompaction(e,o,n)}if(!(o<e.length))throw y.getFormatInstance();r=e[o++]}if(0===n.length())throw y.getFormatInstance();let a=new H(null,n.toString(),null,t);return a.setOther(s),a}static decodeMacroBlock(e,t,n){if(t+on.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw y.getFormatInstance();let i=new Int32Array(on.NUMBER_OF_SEQUENCE_CODEWORDS);for(let s=0;s<on.NUMBER_OF_SEQUENCE_CODEWORDS;s++,t++)i[s]=e[t];n.setSegmentIndex(m.parseInt(on.decodeBase900toBase10(i,on.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new _;t=on.textCompaction(e,t,o),n.setFileId(o.toString());let r=-1;for(e[t]===on.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(r=t+1);t<e[0];)switch(e[t]){case on.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++t]){case on.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let i=new _;t=on.textCompaction(e,t+1,i),n.setFileName(i.toString());break;case on.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let o=new _;t=on.textCompaction(e,t+1,o),n.setSender(o.toString());break;case on.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let r=new _;t=on.textCompaction(e,t+1,r),n.setAddressee(r.toString());break;case on.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let s=new _;t=on.numericCompaction(e,t+1,s),n.setSegmentCount(m.parseInt(s.toString()));break;case on.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let a=new _;t=on.numericCompaction(e,t+1,a),n.setTimestamp(Yt.parseLong(a.toString()));break;case on.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let l=new _;t=on.numericCompaction(e,t+1,l),n.setChecksum(m.parseInt(l.toString()));break;case on.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let c=new _;t=on.numericCompaction(e,t+1,c),n.setFileSize(Yt.parseLong(c.toString()));break;default:throw y.getFormatInstance()}break;case on.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw y.getFormatInstance()}if(-1!==r){let i=t-r;n.isLastSegment()&&i--,n.setOptionalData(h.copyOfRange(e,r,r+i))}return t}static textCompaction(e,t,n){let i=new Int32Array(2*(e[0]-t)),o=new Int32Array(2*(e[0]-t)),r=0,s=!1;for(;t<e[0]&&!s;){let n=e[t++];if(n<on.TEXT_COMPACTION_MODE_LATCH)i[r]=n/30,i[r+1]=n%30,r+=2;else switch(n){case on.TEXT_COMPACTION_MODE_LATCH:i[r++]=on.TEXT_COMPACTION_MODE_LATCH;break;case on.BYTE_COMPACTION_MODE_LATCH:case on.BYTE_COMPACTION_MODE_LATCH_6:case on.NUMERIC_COMPACTION_MODE_LATCH:case on.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case on.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case on.MACRO_PDF417_TERMINATOR:t--,s=!0;break;case on.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[r]=on.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,n=e[t++],o[r]=n,r++}}return on.decodeTextCompaction(i,o,r,n),t}static decodeTextCompaction(e,t,n,i){let o=$.ALPHA,r=$.ALPHA,s=0;for(;s<n;){let n=e[s],a="";switch(o){case $.ALPHA:if(n<26)a=String.fromCharCode(65+n);else switch(n){case 26:a=" ";break;case on.LL:o=$.LOWER;break;case on.ML:o=$.MIXED;break;case on.PS:r=o,o=$.PUNCT_SHIFT;break;case on.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case on.TEXT_COMPACTION_MODE_LATCH:o=$.ALPHA}break;case $.LOWER:if(n<26)a=String.fromCharCode(97+n);else switch(n){case 26:a=" ";break;case on.AS:r=o,o=$.ALPHA_SHIFT;break;case on.ML:o=$.MIXED;break;case on.PS:r=o,o=$.PUNCT_SHIFT;break;case on.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case on.TEXT_COMPACTION_MODE_LATCH:o=$.ALPHA}break;case $.MIXED:if(n<on.PL)a=on.MIXED_CHARS[n];else switch(n){case on.PL:o=$.PUNCT;break;case 26:a=" ";break;case on.LL:o=$.LOWER;break;case on.AL:o=$.ALPHA;break;case on.PS:r=o,o=$.PUNCT_SHIFT;break;case on.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case on.TEXT_COMPACTION_MODE_LATCH:o=$.ALPHA}break;case $.PUNCT:if(n<on.PAL)a=on.PUNCT_CHARS[n];else switch(n){case on.PAL:o=$.ALPHA;break;case on.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case on.TEXT_COMPACTION_MODE_LATCH:o=$.ALPHA}break;case $.ALPHA_SHIFT:if(o=r,n<26)a=String.fromCharCode(65+n);else switch(n){case 26:a=" ";break;case on.TEXT_COMPACTION_MODE_LATCH:o=$.ALPHA}break;case $.PUNCT_SHIFT:if(o=r,n<on.PAL)a=on.PUNCT_CHARS[n];else switch(n){case on.PAL:o=$.ALPHA;break;case on.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case on.TEXT_COMPACTION_MODE_LATCH:o=$.ALPHA}}""!==a&&i.append(a),s++}}static byteCompaction(e,t,n,i,o){let r=new Jt,s=0,a=0,l=!1;switch(e){case on.BYTE_COMPACTION_MODE_LATCH:let e=new Int32Array(6),n=t[i++];for(;i<t[0]&&!l;)switch(e[s++]=n,a=900*a+n,n=t[i++],n){case on.TEXT_COMPACTION_MODE_LATCH:case on.BYTE_COMPACTION_MODE_LATCH:case on.NUMERIC_COMPACTION_MODE_LATCH:case on.BYTE_COMPACTION_MODE_LATCH_6:case on.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case on.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case on.MACRO_PDF417_TERMINATOR:i--,l=!0;break;default:if(s%5==0&&s>0){for(let e=0;e<6;++e)r.write(Number(nn(a)>>nn(8*(5-e))));a=0,s=0}}i===t[0]&&n<on.TEXT_COMPACTION_MODE_LATCH&&(e[s++]=n);for(let t=0;t<s;t++)r.write(e[t]);break;case on.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!l;){let e=t[i++];if(e<on.TEXT_COMPACTION_MODE_LATCH)s++,a=900*a+e;else switch(e){case on.TEXT_COMPACTION_MODE_LATCH:case on.BYTE_COMPACTION_MODE_LATCH:case on.NUMERIC_COMPACTION_MODE_LATCH:case on.BYTE_COMPACTION_MODE_LATCH_6:case on.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case on.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case on.MACRO_PDF417_TERMINATOR:i--,l=!0}if(s%5==0&&s>0){for(let e=0;e<6;++e)r.write(Number(nn(a)>>nn(8*(5-e))));a=0,s=0}}}return o.append(w.decode(r.toByteArray(),n)),i}static numericCompaction(e,t,n){let i=0,o=!1,r=new Int32Array(on.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!o;){let s=e[t++];if(t===e[0]&&(o=!0),s<on.TEXT_COMPACTION_MODE_LATCH)r[i]=s,i++;else switch(s){case on.TEXT_COMPACTION_MODE_LATCH:case on.BYTE_COMPACTION_MODE_LATCH:case on.BYTE_COMPACTION_MODE_LATCH_6:case on.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case on.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case on.MACRO_PDF417_TERMINATOR:t--,o=!0}(i%on.MAX_NUMERIC_CODEWORDS==0||s===on.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(n.append(on.decodeBase900toBase10(r,i)),i=0)}return t}static decodeBase900toBase10(e,t){let n=nn(0);for(let o=0;o<t;o++)n+=on.EXP900[t-o-1]*nn(e[o]);let i=n.toString();if("1"!==i.charAt(0))throw new y;return i.substring(1)}}on.TEXT_COMPACTION_MODE_LATCH=900,on.BYTE_COMPACTION_MODE_LATCH=901,on.NUMERIC_COMPACTION_MODE_LATCH=902,on.BYTE_COMPACTION_MODE_LATCH_6=924,on.ECI_USER_DEFINED=925,on.ECI_GENERAL_PURPOSE=926,on.ECI_CHARSET=927,on.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,on.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,on.MACRO_PDF417_TERMINATOR=922,on.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,on.MAX_NUMERIC_CODEWORDS=15,on.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,on.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,on.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,on.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,on.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,on.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,on.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,on.PL=25,on.LL=27,on.AS=27,on.ML=28,on.AL=28,on.PS=29,on.PAL=29,on.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",on.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",on.EXP900=en()?function(){let e=[];e[0]=nn(1);let t=nn(900);e[1]=t;for(let n=2;n<16;n++)e[n]=e[n-1]*t;return e}():[],on.NUMBER_OF_SEQUENCE_CODEWORDS=2;class rn{constructor(){}static decode(e,t,n,i,o,r,s){let a,l=new Vt(e,t,n,i,o),c=null,d=null;for(let h=!0;;h=!1){if(null!=t&&(c=rn.getRowIndicatorColumn(e,l,t,!0,r,s)),null!=i&&(d=rn.getRowIndicatorColumn(e,l,i,!1,r,s)),a=rn.merge(c,d),null==a)throw I.getNotFoundInstance();let n=a.getBoundingBox();if(!h||null==n||!(n.getMinY()<l.getMinY()||n.getMaxY()>l.getMaxY()))break;l=n}a.setBoundingBox(l);let u=a.getBarcodeColumnCount()+1;a.setDetectionResultColumn(0,c),a.setDetectionResultColumn(u,d);let p=null!=c;for(let h=1;h<=u;h++){let t,n=p?h:u-h;if(void 0!==a.getDetectionResultColumn(n))continue;t=0===n||n===u?new Ut(l,0===n):new zt(l),a.setDetectionResultColumn(n,t);let i=-1,o=i;for(let c=l.getMinY();c<=l.getMaxY();c++){if(i=rn.getStartColumn(a,n,c,p),i<0||i>l.getMaxX()){if(-1===o)continue;i=o}let d=rn.detectCodeword(e,l.getMinX(),l.getMaxX(),p,i,c,r,s);null!=d&&(t.setCodeword(c,d),o=i,r=Math.min(r,d.getWidth()),s=Math.max(s,d.getWidth()))}}return rn.createDecoderResult(a)}static merge(e,t){if(null==e&&null==t)return null;let n=rn.getBarcodeMetadata(e,t);if(null==n)return null;let i=Vt.merge(rn.adjustBoundingBox(e),rn.adjustBoundingBox(t));return new Ht(n,i)}static adjustBoundingBox(e){if(null==e)return null;let t=e.getRowHeights();if(null==t)return null;let n=rn.getMax(t),i=0;for(let s of t)if(i+=n-s,s>0)break;let o=e.getCodewords();for(let s=0;i>0&&null==o[s];s++)i--;let r=0;for(let s=t.length-1;s>=0&&(r+=n-t[s],!(t[s]>0));s--);for(let s=o.length-1;r>0&&null==o[s];s--)r--;return e.getBoundingBox().addMissingRows(i,r,e.isLeft())}static getMax(e){let t=-1;for(let n of e)t=Math.max(t,n);return t}static getBarcodeMetadata(e,t){let n,i;return null==e||null==(n=e.getBarcodeMetadata())?null==t?null:t.getBarcodeMetadata():null==t||null==(i=t.getBarcodeMetadata())?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n}static getRowIndicatorColumn(e,t,n,i,o,r){let s=new Ut(t,i);for(let a=0;a<2;a++){let l=0===a?1:-1,c=Math.trunc(Math.trunc(n.getX()));for(let a=Math.trunc(Math.trunc(n.getY()));a<=t.getMaxY()&&a>=t.getMinY();a+=l){let t=rn.detectCodeword(e,0,e.getWidth(),i,c,a,o,r);null!=t&&(s.setCodeword(a,t),c=i?t.getStartX():t.getEndX())}}return s}static adjustCodewordCount(e,t){let n=t[0][1],i=n.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-rn.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===i.length){if(o<1||o>Ot.MAX_CODEWORDS_IN_BARCODE)throw I.getNotFoundInstance();n.setValue(o)}else i[0]!==o&&n.setValue(o)}static createDecoderResult(e){let t=rn.createBarcodeMatrix(e);rn.adjustCodewordCount(e,t);let n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],r=new Array;for(let a=0;a<e.getBarcodeRowCount();a++)for(let s=0;s<e.getBarcodeColumnCount();s++){let l=t[a][s+1].getValue(),c=a*e.getBarcodeColumnCount()+s;0===l.length?n.push(c):1===l.length?i[c]=l[0]:(r.push(c),o.push(l))}let s=new Array(o.length);for(let a=0;a<s.length;a++)s[a]=o[a];return rn.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Ot.toIntArray(n),Ot.toIntArray(r),s)}static createDecoderResultFromAmbiguousValues(e,t,n,i,o){let r=new Int32Array(i.length),s=100;for(;s-- >0;){for(let e=0;e<r.length;e++)t[i[e]]=o[e][r[e]];try{return rn.decodeCodewords(t,e,n)}catch(a){if(!(a instanceof l))throw a}if(0===r.length)throw l.getChecksumInstance();for(let e=0;e<r.length;e++){if(r[e]<o[e].length-1){r[e]++;break}if(r[e]=0,e===r.length-1)throw l.getChecksumInstance()}}throw l.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let i=0;i<t.length;i++)for(let e=0;e<t[i].length;e++)t[i][e]=new $t;let n=0;for(let i of e.getDetectionResultColumns()){if(null!=i)for(let e of i.getCodewords())if(null!=e){let i=e.getRowNumber();if(i>=0){if(i>=t.length)continue;t[i][n].setValue(e.getValue())}}n++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,n,i){let o=i?1:-1,r=null;if(rn.isValidBarcodeColumn(e,t-o)&&(r=e.getDetectionResultColumn(t-o).getCodeword(n)),null!=r)return i?r.getEndX():r.getStartX();if(r=e.getDetectionResultColumn(t).getCodewordNearby(n),null!=r)return i?r.getStartX():r.getEndX();if(rn.isValidBarcodeColumn(e,t-o)&&(r=e.getDetectionResultColumn(t-o).getCodewordNearby(n)),null!=r)return i?r.getEndX():r.getStartX();let s=0;for(;rn.isValidBarcodeColumn(e,t-o);){t-=o;for(let n of e.getDetectionResultColumn(t).getCodewords())if(null!=n)return(i?n.getEndX():n.getStartX())+o*s*(n.getEndX()-n.getStartX());s++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,n,i,o,r,s,a){o=rn.adjustCodewordStartColumn(e,t,n,i,o,r);let l,c=rn.getModuleBitCount(e,t,n,i,o,r);if(null==c)return null;let d=ee.sum(c);if(i)l=o+d;else{for(let e=0;e<c.length/2;e++){let t=c[e];c[e]=c[c.length-1-e],c[c.length-1-e]=t}l=o,o=l-d}if(!rn.checkCodewordSkew(d,s,a))return null;let u=Wt.getDecodedValue(c),p=Ot.getCodeword(u);return-1===p?null:new Xt(o,l,rn.getCodewordBucketNumber(u),p)}static getModuleBitCount(e,t,n,i,o,r){let s=o,a=new Int32Array(8),l=0,c=i?1:-1,d=i;for(;(i?s<n:s>=t)&&l<a.length;)e.get(s,r)===d?(a[l]++,s+=c):(l++,d=!d);return l===a.length||s===(i?n:t)&&l===a.length-1?a:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,n,i,o,r){let s=o,a=i?-1:1;for(let l=0;l<2;l++){for(;(i?s>=t:s<n)&&i===e.get(s,r);){if(Math.abs(o-s)>rn.CODEWORD_SKEW_SIZE)return o;s+=a}a=-a,i=!i}return s}static checkCodewordSkew(e,t,n){return t-rn.CODEWORD_SKEW_SIZE<=e&&e<=n+rn.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,n){if(0===e.length)throw y.getFormatInstance();let i=1<<t+1,o=rn.correctErrors(e,n,i);rn.verifyCodewordCount(e,i);let r=on.decode(e,""+t);return r.setErrorsCorrected(o),r.setErasures(n.length),r}static correctErrors(e,t,n){if(null!=t&&t.length>n/2+rn.MAX_ERRORS||n<0||n>rn.MAX_EC_CODEWORDS)throw l.getChecksumInstance();return rn.errorCorrection.decode(e,n,t)}static verifyCodewordCount(e,t){if(e.length<4)throw y.getFormatInstance();let n=e[0];if(n>e.length)throw y.getFormatInstance();if(0===n){if(!(t<e.length))throw y.getFormatInstance();e[0]=e.length-t}}static getBitCountForCodeword(e){let t=new Int32Array(8),n=0,i=t.length-1;for(;!((1&e)!==n&&(n=1&e,i--,i<0));)t[i]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return rn.getCodewordBucketNumber(rn.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new Gt;for(let n=0;n<e.length;n++){t.format("Row %2d: ",n);for(let i=0;i<e[n].length;i++){let o=e[n][i];0===o.getValue().length?t.format("        ",null):t.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}t.format("%n")}return t.toString()}}rn.CODEWORD_SKEW_SIZE=2,rn.MAX_ERRORS=3,rn.MAX_EC_CODEWORDS=512,rn.errorCorrection=new Lt;class sn{decode(e,t=null){let n=sn.decode(e,t,!1);if(null==n||0===n.length||null==n[0])throw I.getNotFoundInstance();return n[0]}decodeMultiple(e,t=null){try{return sn.decode(e,t,!0)}catch(n){if(n instanceof y||n instanceof l)throw I.getNotFoundInstance();throw n}}static decode(e,t,n){const i=new Array,o=Ft.detectMultiple(e,t,n);for(const r of o.getPoints()){const e=rn.decode(o.getBits(),r[4],r[5],r[6],r[7],sn.getMinCodewordWidth(r),sn.getMaxCodewordWidth(r)),t=new k(e.getText(),e.getRawBytes(),void 0,r,j.PDF_417);t.putMetadata(U.ERROR_CORRECTION_LEVEL,e.getECLevel());const n=e.getOther();null!=n&&t.putMetadata(U.PDF417_EXTRA_METADATA,n),i.push(t)}return i.map(e=>e)}static getMaxWidth(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return null==e||null==t?m.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(sn.getMaxWidth(e[0],e[4]),sn.getMaxWidth(e[6],e[2])*Ot.MODULES_IN_CODEWORD/Ot.MODULES_IN_STOP_PATTERN),Math.max(sn.getMaxWidth(e[1],e[5]),sn.getMaxWidth(e[7],e[3])*Ot.MODULES_IN_CODEWORD/Ot.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(sn.getMinWidth(e[0],e[4]),sn.getMinWidth(e[6],e[2])*Ot.MODULES_IN_CODEWORD/Ot.MODULES_IN_STOP_PATTERN),Math.min(sn.getMinWidth(e[1],e[5]),sn.getMinWidth(e[7],e[3])*Ot.MODULES_IN_CODEWORD/Ot.MODULES_IN_STOP_PATTERN)))}reset(){}}class an extends o{}an.kind="ReaderException";class ln{decode(e,t){return this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const t=null!=e&&void 0!==e.get(v.TRY_HARDER),n=null==e?null:e.get(v.POSSIBLE_FORMATS),i=new Array;if(null!=n){const o=n.some(e=>e===j.UPC_A||e===j.UPC_E||e===j.EAN_13||e===j.EAN_8||e===j.CODABAR||e===j.CODE_39||e===j.CODE_93||e===j.CODE_128||e===j.ITF||e===j.RSS_14||e===j.RSS_EXPANDED);o&&!t&&i.push(new nt(e)),n.includes(j.QR_CODE)&&i.push(new Mt),n.includes(j.DATA_MATRIX)&&i.push(new pt),n.includes(j.AZTEC)&&i.push(new pe),n.includes(j.PDF_417)&&i.push(new sn),o&&t&&i.push(new nt(e))}0===i.length&&(t||i.push(new nt(e)),i.push(new Mt),i.push(new pt),i.push(new pe),i.push(new sn),t&&i.push(new nt(e))),this.readers=i}reset(){if(null!==this.readers)for(const e of this.readers)e.reset()}decodeInternal(e){if(null===this.readers)throw new an("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(t){if(t instanceof an)continue}throw new I("No MultiFormat Readers were able to detect the code.")}}var cn;!function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.MIN_SIZE=3]="MIN_SIZE",e[e.MAX_SIZE=4]="MAX_SIZE",e[e.MARGIN=5]="MARGIN",e[e.PDF417_COMPACT=6]="PDF417_COMPACT",e[e.PDF417_COMPACTION=7]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=9]="AZTEC_LAYERS",e[e.QR_VERSION=10]="QR_VERSION"}(cn||(cn={}));var dn=cn;class un{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new W(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let n=t[t.length-1];const i=this.field;for(let o=t.length;o<=e;o++){const e=n.multiply(new W(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));t.push(e),n=e}}return t[e]}encode(e,t){if(0===t)throw new s("No error correction bytes");const n=e.length-t;if(n<=0)throw new s("No data bytes provided");const i=this.buildGenerator(t),o=new Int32Array(n);d.arraycopy(e,0,o,0,n);let r=new W(this.field,o);r=r.multiplyByMonomial(t,1);const a=r.divide(i)[1].getCoefficients(),l=t-a.length;for(let s=0;s<l;s++)e[n+s]=0;d.arraycopy(a,0,e,n+l,a.length)}}class pn{constructor(){}static applyMaskPenaltyRule1(e){return pn.applyMaskPenaltyRule1Internal(e,!0)+pn.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const n=e.getArray(),i=e.getWidth(),o=e.getHeight();for(let r=0;r<o-1;r++){const e=n[r];for(let o=0;o<i-1;o++){const i=e[o];i===e[o+1]&&i===n[r+1][o]&&i===n[r+1][o+1]&&t++}}return pn.N2*t}static applyMaskPenaltyRule3(e){let t=0;const n=e.getArray(),i=e.getWidth(),o=e.getHeight();for(let r=0;r<o;r++)for(let e=0;e<i;e++){const s=n[r];e+6<i&&1===s[e]&&0===s[e+1]&&1===s[e+2]&&1===s[e+3]&&1===s[e+4]&&0===s[e+5]&&1===s[e+6]&&(pn.isWhiteHorizontal(s,e-4,e)||pn.isWhiteHorizontal(s,e+7,e+11))&&t++,r+6<o&&1===n[r][e]&&0===n[r+1][e]&&1===n[r+2][e]&&1===n[r+3][e]&&1===n[r+4][e]&&0===n[r+5][e]&&1===n[r+6][e]&&(pn.isWhiteVertical(n,e,r-4,r)||pn.isWhiteVertical(n,e,r+7,r+11))&&t++}return t*pn.N3}static isWhiteHorizontal(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(let i=t;i<n;i++)if(1===e[i])return!1;return!0}static isWhiteVertical(e,t,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(let o=n;o<i;o++)if(1===e[o][t])return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const n=e.getArray(),i=e.getWidth(),o=e.getHeight();for(let s=0;s<o;s++){const e=n[s];for(let n=0;n<i;n++)1===e[n]&&t++}const r=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*t-r)/r)*pn.N4}static getDataMaskBit(e,t,n){let i,o;switch(e){case 0:i=n+t&1;break;case 1:i=1&n;break;case 2:i=t%3;break;case 3:i=(n+t)%3;break;case 4:i=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:o=n*t,i=(1&o)+o%3;break;case 6:o=n*t,i=(1&o)+o%3&1;break;case 7:o=n*t,i=o%3+(n+t&1)&1;break;default:throw new s("Invalid mask pattern: "+e)}return 0===i}static applyMaskPenaltyRule1Internal(e,t){let n=0;const i=t?e.getHeight():e.getWidth(),o=t?e.getWidth():e.getHeight(),r=e.getArray();for(let s=0;s<i;s++){let e=0,i=-1;for(let a=0;a<o;a++){const o=t?r[s][a]:r[a][s];o===i?e++:(e>=5&&(n+=pn.N1+(e-5)),e=1,i=o)}e>=5&&(n+=pn.N1+(e-5))}return n}}pn.N1=3,pn.N2=3,pn.N3=40,pn.N4=10;class hn{constructor(e,t){this.width=e,this.height=t;const n=new Array(t);for(let i=0;i!==t;i++)n[i]=new Uint8Array(e);this.bytes=n}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,n){this.bytes[t][e]=n}setBoolean(e,t,n){this.bytes[t][e]=n?1:0}clear(e){for(const t of this.bytes)h.fill(t,e)}equals(e){if(!(e instanceof hn))return!1;const t=e;if(this.width!==t.width)return!1;if(this.height!==t.height)return!1;for(let n=0,i=this.height;n<i;++n){const e=this.bytes[n],i=t.bytes[n];for(let t=0,n=this.width;t<n;++t)if(e[t]!==i[t])return!1}return!0}toString(){const e=new _;for(let t=0,n=this.height;t<n;++t){const n=this.bytes[t];for(let t=0,i=this.width;t<i;++t)switch(n[t]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()}}class mn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new _;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<mn.NUM_MASK_PATTERNS}}mn.NUM_MASK_PATTERNS=8;class fn extends o{}fn.kind="WriterException";class gn{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,n,i,o){gn.clearMatrix(o),gn.embedBasicPatterns(n,o),gn.embedTypeInfo(t,i,o),gn.maybeEmbedVersionInfo(n,o),gn.embedDataBits(e,i,o)}static embedBasicPatterns(e,t){gn.embedPositionDetectionPatternsAndSeparators(t),gn.embedDarkDotAtLeftBottomCorner(t),gn.maybeEmbedPositionAdjustmentPatterns(e,t),gn.embedTimingPatterns(t)}static embedTypeInfo(e,t,n){const i=new f;gn.makeTypeInfoBits(e,t,i);for(let o=0,r=i.getSize();o<r;++o){const e=i.get(i.getSize()-1-o),t=gn.TYPE_INFO_COORDINATES[o],r=t[0],s=t[1];if(n.setBoolean(r,s,e),o<8){const t=n.getWidth()-o-1,i=8;n.setBoolean(t,i,e)}else{const t=8,i=n.getHeight()-7+(o-8);n.setBoolean(t,i,e)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const n=new f;gn.makeVersionInfoBits(e,n);let i=17;for(let o=0;o<6;++o)for(let e=0;e<3;++e){const r=n.get(i);i--,t.setBoolean(o,t.getHeight()-11+e,r),t.setBoolean(t.getHeight()-11+e,o,r)}}static embedDataBits(e,t,n){let i=0,o=-1,r=n.getWidth()-1,s=n.getHeight()-1;for(;r>0;){for(6===r&&(r-=1);s>=0&&s<n.getHeight();){for(let o=0;o<2;++o){const a=r-o;if(!gn.isEmpty(n.get(a,s)))continue;let l;i<e.getSize()?(l=e.get(i),++i):l=!1,255!==t&&pn.getDataMaskBit(t,a,s)&&(l=!l),n.setBoolean(a,s,l)}s+=o}o=-o,s+=o,r-=2}if(i!==e.getSize())throw new fn("Not all bits consumed: "+i+"/"+e.getSize())}static findMSBSet(e){return 32-m.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(0===t)throw new s("0 polynomial");const n=gn.findMSBSet(t);for(e<<=n-1;gn.findMSBSet(e)>=n;)e^=t<<gn.findMSBSet(e)-n;return e}static makeTypeInfoBits(e,t,n){if(!mn.isValidMaskPattern(t))throw new fn("Invalid mask pattern");const i=e.getBits()<<3|t;n.appendBits(i,5);const o=gn.calculateBCHCode(i,gn.TYPE_INFO_POLY);n.appendBits(o,10);const r=new f;if(r.appendBits(gn.TYPE_INFO_MASK_PATTERN,15),n.xor(r),15!==n.getSize())throw new fn("should not happen but we got: "+n.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const n=gn.calculateBCHCode(e.getVersionNumber(),gn.VERSION_INFO_POLY);if(t.appendBits(n,12),18!==t.getSize())throw new fn("should not happen but we got: "+t.getSize())}static isEmpty(e){return 255===e}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const n=(t+1)%2;gn.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),gn.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}}static embedDarkDotAtLeftBottomCorner(e){if(0===e.get(8,e.getHeight()-8))throw new fn;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,n){for(let i=0;i<8;++i){if(!gn.isEmpty(n.get(e+i,t)))throw new fn;n.setNumber(e+i,t,0)}}static embedVerticalSeparationPattern(e,t,n){for(let i=0;i<7;++i){if(!gn.isEmpty(n.get(e,t+i)))throw new fn;n.setNumber(e,t+i,0)}}static embedPositionAdjustmentPattern(e,t,n){for(let i=0;i<5;++i){const o=gn.POSITION_ADJUSTMENT_PATTERN[i];for(let r=0;r<5;++r)n.setNumber(e+r,t+i,o[r])}}static embedPositionDetectionPattern(e,t,n){for(let i=0;i<7;++i){const o=gn.POSITION_DETECTION_PATTERN[i];for(let r=0;r<7;++r)n.setNumber(e+r,t+i,o[r])}}static embedPositionDetectionPatternsAndSeparators(e){const t=gn.POSITION_DETECTION_PATTERN[0].length;gn.embedPositionDetectionPattern(0,0,e),gn.embedPositionDetectionPattern(e.getWidth()-t,0,e),gn.embedPositionDetectionPattern(0,e.getWidth()-t,e),gn.embedHorizontalSeparationPattern(0,7,e),gn.embedHorizontalSeparationPattern(e.getWidth()-8,7,e),gn.embedHorizontalSeparationPattern(0,e.getWidth()-8,e),gn.embedVerticalSeparationPattern(7,0,e),gn.embedVerticalSeparationPattern(e.getHeight()-7-1,0,e),gn.embedVerticalSeparationPattern(7,e.getHeight()-7,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const n=e.getVersionNumber()-1,i=gn.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n];for(let o=0,r=i.length;o!==r;o++){const e=i[o];if(e>=0)for(let n=0;n!==r;n++){const o=i[n];o>=0&&gn.isEmpty(t.get(o,e))&&gn.embedPositionAdjustmentPattern(o-2,e-2,t)}}}}gn.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),gn.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),gn.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),gn.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),gn.VERSION_INFO_POLY=7973,gn.TYPE_INFO_POLY=1335,gn.TYPE_INFO_MASK_PATTERN=21522;class vn{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class yn{constructor(){}static calculateMaskPenalty(e){return pn.applyMaskPenaltyRule1(e)+pn.applyMaskPenaltyRule2(e)+pn.applyMaskPenaltyRule3(e)+pn.applyMaskPenaltyRule4(e)}static encode(e,t,n=null){let i=yn.DEFAULT_BYTE_MODE_ENCODING;const o=null!==n&&void 0!==n.get(dn.CHARACTER_SET);o&&(i=n.get(dn.CHARACTER_SET).toString());const r=this.chooseMode(e,i),s=new f;if(r===wt.BYTE&&(o||yn.DEFAULT_BYTE_MODE_ENCODING!==i)){const e=b.getCharacterSetECIByName(i);void 0!==e&&this.appendECI(e,s)}this.appendModeInfo(r,s);const a=new f;let l;if(this.appendBytes(e,r,a,i),null!==n&&void 0!==n.get(dn.QR_VERSION)){const e=Number.parseInt(n.get(dn.QR_VERSION).toString(),10);l=vt.getVersionForNumber(e);const i=this.calculateBitsNeeded(r,s,a,l);if(!this.willFit(i,l,t))throw new fn("Data too big for requested version")}else l=this.recommendVersion(t,r,s,a);const c=new f;c.appendBitArray(s);const d=r===wt.BYTE?a.getSizeInBytes():e.length;this.appendLengthInfo(d,l,r,c),c.appendBitArray(a);const u=l.getECBlocksForLevel(t),p=l.getTotalCodewords()-u.getTotalECCodewords();this.terminateBits(p,c);const h=this.interleaveWithECBytes(c,l.getTotalCodewords(),p,u.getNumBlocks()),m=new mn;m.setECLevel(t),m.setMode(r),m.setVersion(l);const g=l.getDimensionForVersion(),v=new hn(g,g),y=this.chooseMaskPattern(h,t,l,v);return m.setMaskPattern(y),gn.buildMatrix(h,t,l,y,v),m.setMatrix(v),m}static recommendVersion(e,t,n,i){const o=this.calculateBitsNeeded(t,n,i,vt.getVersionForNumber(1)),r=this.chooseVersion(o,e),s=this.calculateBitsNeeded(t,n,i,r);return this.chooseVersion(s,e)}static calculateBitsNeeded(e,t,n,i){return t.getSize()+e.getCharacterCountBits(i)+n.getSize()}static getAlphanumericCode(e){return e<yn.ALPHANUMERIC_TABLE.length?yn.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(b.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return wt.KANJI;let n=!1,i=!1;for(let o=0,r=e.length;o<r;++o){const t=e.charAt(o);if(yn.isDigit(t))n=!0;else{if(-1===this.getAlphanumericCode(t.charCodeAt(0)))return wt.BYTE;i=!0}}return i?wt.ALPHANUMERIC:n?wt.NUMERIC:wt.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=w.encode(e,b.SJIS)}catch(i){return!1}const n=t.length;if(n%2!=0)return!1;for(let o=0;o<n;o+=2){const e=255&t[o];if((e<129||e>159)&&(e<224||e>235))return!1}return!0}static chooseMaskPattern(e,t,n,i){let o=Number.MAX_SAFE_INTEGER,r=-1;for(let s=0;s<mn.NUM_MASK_PATTERNS;s++){gn.buildMatrix(e,t,n,s,i);let a=this.calculateMaskPenalty(i);a<o&&(o=a,r=s)}return r}static chooseVersion(e,t){for(let n=1;n<=40;n++){const i=vt.getVersionForNumber(n);if(yn.willFit(e,i,t))return i}throw new fn("Data too big")}static willFit(e,t,n){return t.getTotalCodewords()-t.getECBlocksForLevel(n).getTotalECCodewords()>=(e+7)/8}static terminateBits(e,t){const n=8*e;if(t.getSize()>n)throw new fn("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(let r=0;r<4&&t.getSize()<n;++r)t.appendBit(!1);const i=7&t.getSize();if(i>0)for(let r=i;r<8;r++)t.appendBit(!1);const o=e-t.getSizeInBytes();for(let r=0;r<o;++r)t.appendBits(0==(1&r)?236:17,8);if(t.getSize()!==n)throw new fn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,n,i,o,r){if(i>=n)throw new fn("Block ID too large");const s=e%n,a=n-s,l=Math.floor(e/n),c=l+1,d=Math.floor(t/n),u=d+1,p=l-d,h=c-u;if(p!==h)throw new fn("EC bytes mismatch");if(n!==a+s)throw new fn("RS blocks mismatch");if(e!==(d+p)*a+(u+h)*s)throw new fn("Total bytes mismatch");i<a?(o[0]=d,r[0]=p):(o[0]=u,r[0]=h)}static interleaveWithECBytes(e,t,n,i){if(e.getSizeInBytes()!==n)throw new fn("Number of bits and data bytes does not match");let o=0,r=0,s=0;const a=new Array;for(let c=0;c<i;++c){const l=new Int32Array(1),d=new Int32Array(1);yn.getNumDataBytesAndNumECBytesForBlockID(t,n,i,c,l,d);const u=l[0],p=new Uint8Array(u);e.toBytes(8*o,p,0,u);const h=yn.generateECBytes(p,d[0]);a.push(new vn(p,h)),r=Math.max(r,u),s=Math.max(s,h.length),o+=l[0]}if(n!==o)throw new fn("Data bytes does not match offset");const l=new f;for(let c=0;c<r;++c)for(const e of a){const t=e.getDataBytes();c<t.length&&l.appendBits(t[c],8)}for(let c=0;c<s;++c)for(const e of a){const t=e.getErrorCorrectionBytes();c<t.length&&l.appendBits(t[c],8)}if(t!==l.getSizeInBytes())throw new fn("Interleaving error: "+t+" and "+l.getSizeInBytes()+" differ.");return l}static generateECBytes(e,t){const n=e.length,i=new Int32Array(n+t);for(let r=0;r<n;r++)i[r]=255&e[r];new un(Y.QR_CODE_FIELD_256).encode(i,t);const o=new Uint8Array(t);for(let r=0;r<t;r++)o[r]=i[n+r];return o}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,n,i){const o=n.getCharacterCountBits(t);if(e>=1<<o)throw new fn(e+" is bigger than "+((1<<o)-1));i.appendBits(e,o)}static appendBytes(e,t,n,i){switch(t){case wt.NUMERIC:yn.appendNumericBytes(e,n);break;case wt.ALPHANUMERIC:yn.appendAlphanumericBytes(e,n);break;case wt.BYTE:yn.append8BitBytes(e,n,i);break;case wt.KANJI:yn.appendKanjiBytes(e,n);break;default:throw new fn("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=yn.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const n=e.length;let i=0;for(;i<n;){const o=yn.getDigit(e.charAt(i));if(i+2<n){const n=yn.getDigit(e.charAt(i+1)),r=yn.getDigit(e.charAt(i+2));t.appendBits(100*o+10*n+r,10),i+=3}else if(i+1<n){const n=yn.getDigit(e.charAt(i+1));t.appendBits(10*o+n,7),i+=2}else t.appendBits(o,4),i++}}static appendAlphanumericBytes(e,t){const n=e.length;let i=0;for(;i<n;){const o=yn.getAlphanumericCode(e.charCodeAt(i));if(-1===o)throw new fn;if(i+1<n){const n=yn.getAlphanumericCode(e.charCodeAt(i+1));if(-1===n)throw new fn;t.appendBits(45*o+n,11),i+=2}else t.appendBits(o,6),i++}}static append8BitBytes(e,t,n){let i;try{i=w.encode(e,n)}catch(o){throw new fn(o)}for(let r=0,s=i.length;r!==s;r++){const e=i[r];t.appendBits(e,8)}}static appendKanjiBytes(e,t){let n;try{n=w.encode(e,b.SJIS)}catch(o){throw new fn(o)}const i=n.length;for(let r=0;r<i;r+=2){const e=(255&n[r])<<8&4294967295|255&n[r+1];let i=-1;if(e>=33088&&e<=40956?i=e-33088:e>=57408&&e<=60351&&(i=e-49472),-1===i)throw new fn("Invalid byte sequence");const o=192*(i>>8)+(255&i);t.appendBits(o,13)}}static appendECI(e,t){t.appendBits(wt.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}yn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),yn.DEFAULT_BYTE_MODE_ENCODING=b.UTF8.getName();class bn{write(e,t,n,i=null){if(0===e.length)throw new s("Found empty contents");if(t<0||n<0)throw new s("Requested dimensions are too small: "+t+"x"+n);let o=ht.L,r=bn.QUIET_ZONE_SIZE;null!==i&&(void 0!==i.get(dn.ERROR_CORRECTION)&&(o=ht.fromString(i.get(dn.ERROR_CORRECTION).toString())),void 0!==i.get(dn.MARGIN)&&(r=Number.parseInt(i.get(dn.MARGIN).toString(),10)));const a=yn.encode(e,o,i);return this.renderResult(a,t,n,r)}writeToDom(e,t,n,i,o=null){"string"==typeof e&&(e=document.querySelector(e));const r=this.write(t,n,i,o);e&&e.appendChild(r)}renderResult(e,t,n,i){const o=e.getMatrix();if(null===o)throw new Z;const r=o.getWidth(),s=o.getHeight(),a=r+2*i,l=s+2*i,c=Math.max(t,a),d=Math.max(n,l),u=Math.min(Math.floor(c/a),Math.floor(d/l)),p=Math.floor((c-r*u)/2),h=Math.floor((d-s*u)/2),m=this.createSVGElement(c,d);for(let f=0,g=h;f<s;f++,g+=u)for(let e=0,t=p;e<r;e++,t+=u)if(1===o.get(e,f)){const e=this.createSvgRectElement(t,g,u,u);m.appendChild(e)}return m}createSVGElement(e,t){const n=document.createElementNS(bn.SVG_NS,"svg");return n.setAttributeNS(null,"height",e.toString()),n.setAttributeNS(null,"width",t.toString()),n}createSvgRectElement(e,t,n,i){const o=document.createElementNS(bn.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",t.toString()),o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",i.toString()),o.setAttributeNS(null,"fill","#000000"),o}}bn.QUIET_ZONE_SIZE=4,bn.SVG_NS="http://www.w3.org/2000/svg";class xn{encode(e,t,n,i,o){if(0===e.length)throw new s("Found empty contents");if(t!==j.QR_CODE)throw new s("Can only encode QR_CODE, but got "+t);if(n<0||i<0)throw new s(`Requested dimensions are too small: ${n}x${i}`);let r=ht.L,a=xn.QUIET_ZONE_SIZE;null!==o&&(void 0!==o.get(dn.ERROR_CORRECTION)&&(r=ht.fromString(o.get(dn.ERROR_CORRECTION).toString())),void 0!==o.get(dn.MARGIN)&&(a=Number.parseInt(o.get(dn.MARGIN).toString(),10)));const l=yn.encode(e,r,o);return xn.renderResult(l,n,i,a)}static renderResult(e,t,n,i){const o=e.getMatrix();if(null===o)throw new Z;const r=o.getWidth(),s=o.getHeight(),a=r+2*i,l=s+2*i,c=Math.max(t,a),d=Math.max(n,l),u=Math.min(Math.floor(c/a),Math.floor(d/l)),p=Math.floor((c-r*u)/2),h=Math.floor((d-s*u)/2),m=new S(c,d);for(let f=0,g=h;f<s;f++,g+=u)for(let e=0,t=p;e<r;e++,t+=u)1===o.get(e,f)&&m.setRegion(t,g,u,u);return m}}xn.QUIET_ZONE_SIZE=4;class wn extends D{constructor(e,t,n,i,o,r,a,l){if(super(r,a),this.yuvData=e,this.dataWidth=t,this.dataHeight=n,this.left=i,this.top=o,i+r>t||o+a>n)throw new s("Crop rectangle does not fit within image data.");l&&this.reverseHorizontal(r,a)}getRow(e,t){if(e<0||e>=this.getHeight())throw new s("Requested row is outside the image: "+e);const n=this.getWidth();(null==t||t.length<n)&&(t=new Uint8ClampedArray(n));const i=(e+this.top)*this.dataWidth+this.left;return d.arraycopy(this.yuvData,i,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const n=e*t,i=new Uint8ClampedArray(n);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return d.arraycopy(this.yuvData,o,i,0,n),i;for(let r=0;r<t;r++){const t=r*e;d.arraycopy(this.yuvData,o,i,t,e),o+=this.dataWidth}return i}isCropSupported(){return!0}crop(e,t,n,i){return new wn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,n,i,!1)}renderThumbnail(){const e=this.getWidth()/wn.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/wn.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(e*t),i=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let r=0;r<t;r++){const t=r*e;for(let r=0;r<e;r++){const e=255&i[o+r*wn.THUMBNAIL_SCALE_FACTOR];n[t+r]=4278190080|65793*e}o+=this.dataWidth*wn.THUMBNAIL_SCALE_FACTOR}return n}getThumbnailWidth(){return this.getWidth()/wn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/wn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const n=this.yuvData;for(let i=0,o=this.top*this.dataWidth+this.left;i<t;i++,o+=this.dataWidth){const t=o+e/2;for(let i=o,r=o+e-1;i<t;i++,r--){const e=n[i];n[i]=n[r],n[r]=e}}}invert(){return new T(this)}}wn.THUMBNAIL_SCALE_FACTOR=2;class Cn extends D{constructor(e,t,n,i,o,r,a){if(super(t,n),this.dataWidth=i,this.dataHeight=o,this.left=r,this.top=a,4===e.BYTES_PER_ELEMENT){const i=t*n,o=new Uint8ClampedArray(i);for(let t=0;t<i;t++){const n=e[t],i=n>>16&255,r=n>>7&510,s=255&n;o[t]=(i+r+s)/4&255}this.luminances=o}else this.luminances=e;if(void 0===i&&(this.dataWidth=t),void 0===o&&(this.dataHeight=n),void 0===r&&(this.left=0),void 0===a&&(this.top=0),this.left+t>this.dataWidth||this.top+n>this.dataHeight)throw new s("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new s("Requested row is outside the image: "+e);const n=this.getWidth();(null==t||t.length<n)&&(t=new Uint8ClampedArray(n));const i=(e+this.top)*this.dataWidth+this.left;return d.arraycopy(this.luminances,i,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const n=e*t,i=new Uint8ClampedArray(n);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return d.arraycopy(this.luminances,o,i,0,n),i;for(let r=0;r<t;r++){const t=r*e;d.arraycopy(this.luminances,o,i,t,e),o+=this.dataWidth}return i}isCropSupported(){return!0}crop(e,t,n,i){return new Cn(this.luminances,n,i,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new T(this)}}class _n extends b{static forName(e){return this.getCharacterSetECIByName(e)}}class Sn{}Sn.ISO_8859_1=b.ISO8859_1;class In{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class An{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class En{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Dn extends En{constructor(e,t,n){super(e),this.value=t,this.bitCount=n}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new Dn(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Dn(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+m.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Tn extends Dn{constructor(e,t,n){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=n}appendTo(e,t){for(let n=0;n<this.binaryShiftByteCount;n++)(0===n||31===n&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):0===n?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+n],8)}addBinaryShift(e,t){return new Tn(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Rn(e,t,n){return new Dn(e,t,n)}const Mn=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],On=new Dn(null,0,0),Pn=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],Fn=function(e){for(let t of e)h.fill(t,-1);return e[0][4]=0,e[1][4]=0,e[1][0]=28,e[3][4]=0,e[2][4]=0,e[2][0]=15,e}(h.createInt32Array(6,6));class kn{constructor(e,t,n,i){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=i}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let n=this.bitCount,i=this.token;if(e!==this.mode){let t=Pn[this.mode][e];i=Rn(i,65535&t,t>>16),n+=t>>16}let o=2===e?4:5;return i=Rn(i,t,o),new kn(i,e,0,n+o)}shiftAndAppend(e,t){let n=this.token,i=2===this.mode?4:5;return n=Rn(n,Fn[this.mode][e],i),n=Rn(n,t,5),new kn(n,this.mode,0,this.bitCount+i+5)}addBinaryShiftChar(e){let t=this.token,n=this.mode,i=this.bitCount;if(4===this.mode||2===this.mode){let e=Pn[n][0];t=Rn(t,65535&e,e>>16),i+=e>>16,n=0}let o=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,r=new kn(t,n,this.binaryShiftByteCount+1,i+o);return 2078===r.binaryShiftByteCount&&(r=r.endBinaryShift(e+1)),r}endBinaryShift(e){if(0===this.binaryShiftByteCount)return this;let t=this.token;return t=function(e,t,n){return new Tn(e,t,n)}(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new kn(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(Pn[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=kn.calculateBinaryShiftCost(e)-kn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let i=this.endBinaryShift(e.length).token;null!==i;i=i.getPrevious())t.unshift(i);let n=new f;for(const i of t)i.appendTo(n,e);return n}toString(){return C.format("%s bits=%d bytes=%d",Mn[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}kn.INITIAL_STATE=new kn(On,0,0,0);const Nn=function(e){const t=C.getCharCode(" "),n=C.getCharCode("."),i=C.getCharCode(",");e[0][t]=1;const o=C.getCharCode("Z"),r=C.getCharCode("A");for(let p=r;p<=o;p++)e[0][p]=p-r+2;e[1][t]=1;const s=C.getCharCode("z"),a=C.getCharCode("a");for(let p=a;p<=s;p++)e[1][p]=p-a+2;e[2][t]=1;const l=C.getCharCode("9"),c=C.getCharCode("0");for(let p=c;p<=l;p++)e[2][p]=p-c+2;e[2][i]=12,e[2][n]=13;const d=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let p=0;p<d.length;p++)e[3][C.getCharCode(d[p])]=p;const u=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let p=0;p<u.length;p++)C.getCharCode(u[p])>0&&(e[4][C.getCharCode(u[p])]=p);return e}(h.createInt32Array(5,256));class jn{constructor(e){this.text=e}encode(){const e=C.getCharCode(" "),t=C.getCharCode("\n");let n=An.singletonList(kn.INITIAL_STATE);for(let i=0;i<this.text.length;i++){let o,r=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case C.getCharCode("\r"):o=r===t?2:0;break;case C.getCharCode("."):o=r===e?3:0;break;case C.getCharCode(","):o=r===e?4:0;break;case C.getCharCode(":"):o=r===e?5:0;break;default:o=0}o>0?(n=jn.updateStateListForPair(n,i,o),i++):n=this.updateStateListForChar(n,i)}return An.min(n,(e,t)=>e.getBitCount()-t.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const n=[];for(let i of e)this.updateStateForChar(i,t,n);return jn.simplifyStates(n)}updateStateForChar(e,t,n){let i=255&this.text[t],o=Nn[e.getMode()][i]>0,r=null;for(let s=0;s<=4;s++){let a=Nn[s][i];if(a>0){if(null==r&&(r=e.endBinaryShift(t)),!o||s===e.getMode()||2===s){const e=r.latchAndAppend(s,a);n.push(e)}if(!o&&Fn[e.getMode()][s]>=0){const e=r.shiftAndAppend(s,a);n.push(e)}}}if(e.getBinaryShiftByteCount()>0||0===Nn[e.getMode()][i]){let i=e.addBinaryShiftChar(t);n.push(i)}}static updateStateListForPair(e,t,n){const i=[];for(let o of e)this.updateStateForPair(o,t,n,i);return this.simplifyStates(i)}static updateStateForPair(e,t,n,i){let o=e.endBinaryShift(t);if(i.push(o.latchAndAppend(4,n)),4!==e.getMode()&&i.push(o.shiftAndAppend(4,n)),3===n||4===n){let e=o.latchAndAppend(2,16-n).latchAndAppend(2,1);i.push(e)}if(e.getBinaryShiftByteCount()>0){let n=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(n)}}static simplifyStates(e){let t=[];for(const n of e){let e=!0;for(const i of t){if(i.isBetterThanOrEqualTo(n)){e=!1;break}n.isBetterThanOrEqualTo(i)&&(t=t.filter(e=>e!==i))}e&&t.push(n)}return t}}class Ln{constructor(){}static encodeBytes(e){return Ln.encode(e,Ln.DEFAULT_EC_PERCENT,Ln.DEFAULT_AZTEC_LAYERS)}static encode(e,t,n){let i,o,r,a,l,c=new jn(e).encode(),d=m.truncDivision(c.getSize()*t,100)+11,u=c.getSize()+d;if(n!==Ln.DEFAULT_AZTEC_LAYERS){if(i=n<0,o=Math.abs(n),o>(i?Ln.MAX_NB_BITS_COMPACT:Ln.MAX_NB_BITS))throw new s(C.format("Illegal value %s for layers",n));r=Ln.totalBitsInLayer(o,i),a=Ln.WORD_SIZE[o];let e=r-r%a;if(l=Ln.stuffBits(c,a),l.getSize()+d>e)throw new s("Data to large for user specified layer");if(i&&l.getSize()>64*a)throw new s("Data to large for user specified layer")}else{a=0,l=null;for(let e=0;;e++){if(e>Ln.MAX_NB_BITS)throw new s("Data too large for an Aztec code");if(i=e<=3,o=i?e+1:e,r=Ln.totalBitsInLayer(o,i),u>r)continue;null!=l&&a===Ln.WORD_SIZE[o]||(a=Ln.WORD_SIZE[o],l=Ln.stuffBits(c,a));let t=r-r%a;if(!(i&&l.getSize()>64*a)&&l.getSize()+d<=t)break}}let p,h=Ln.generateCheckWords(l,r,a),f=l.getSize()/a,g=Ln.generateModeMessage(i,o,f),v=(i?11:14)+4*o,y=new Int32Array(v);if(i){p=v;for(let e=0;e<y.length;e++)y[e]=e}else{p=v+1+2*m.truncDivision(m.truncDivision(v,2)-1,15);let e=m.truncDivision(v,2),t=m.truncDivision(p,2);for(let n=0;n<e;n++){let i=n+m.truncDivision(n,15);y[e-n-1]=t-i-1,y[e+n]=t+i+1}}let b=new S(p);for(let s=0,m=0;s<o;s++){let e=4*(o-s)+(i?9:12);for(let t=0;t<e;t++){let n=2*t;for(let i=0;i<2;i++)h.get(m+n+i)&&b.set(y[2*s+i],y[2*s+t]),h.get(m+2*e+n+i)&&b.set(y[2*s+t],y[v-1-2*s-i]),h.get(m+4*e+n+i)&&b.set(y[v-1-2*s-i],y[v-1-2*s-t]),h.get(m+6*e+n+i)&&b.set(y[v-1-2*s-t],y[2*s+i])}m+=8*e}if(Ln.drawModeMessage(b,i,p,g),i)Ln.drawBullsEye(b,m.truncDivision(p,2),5);else{Ln.drawBullsEye(b,m.truncDivision(p,2),7);for(let e=0,t=0;e<m.truncDivision(v,2)-1;e+=15,t+=16)for(let n=1&m.truncDivision(p,2);n<p;n+=2)b.set(m.truncDivision(p,2)-t,n),b.set(m.truncDivision(p,2)+t,n),b.set(n,m.truncDivision(p,2)-t),b.set(n,m.truncDivision(p,2)+t)}let x=new In;return x.setCompact(i),x.setSize(p),x.setLayers(o),x.setCodeWords(f),x.setMatrix(b),x}static drawBullsEye(e,t,n){for(let i=0;i<n;i+=2)for(let n=t-i;n<=t+i;n++)e.set(n,t-i),e.set(n,t+i),e.set(t-i,n),e.set(t+i,n);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)}static generateModeMessage(e,t,n){let i=new f;return e?(i.appendBits(t-1,2),i.appendBits(n-1,6),i=Ln.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(n-1,11),i=Ln.generateCheckWords(i,40,4)),i}static drawModeMessage(e,t,n,i){let o=m.truncDivision(n,2);if(t)for(let r=0;r<7;r++){let t=o-3+r;i.get(r)&&e.set(t,o-5),i.get(r+7)&&e.set(o+5,t),i.get(20-r)&&e.set(t,o+5),i.get(27-r)&&e.set(o-5,t)}else for(let r=0;r<10;r++){let t=o-5+r+m.truncDivision(r,5);i.get(r)&&e.set(t,o-7),i.get(r+10)&&e.set(o+7,t),i.get(29-r)&&e.set(t,o+7),i.get(39-r)&&e.set(o-7,t)}}static generateCheckWords(e,t,n){let i=e.getSize()/n,o=new un(Ln.getGF(n)),r=m.truncDivision(t,n),s=Ln.bitsToWords(e,n,r);o.encode(s,r-i);let a=t%n,l=new f;l.appendBits(0,a);for(const c of Array.from(s))l.appendBits(c,n);return l}static bitsToWords(e,t,n){let i,o,r=new Int32Array(n);for(i=0,o=e.getSize()/t;i<o;i++){let n=0;for(let o=0;o<t;o++)n|=e.get(i*t+o)?1<<t-o-1:0;r[i]=n}return r}static getGF(e){switch(e){case 4:return Y.AZTEC_PARAM;case 6:return Y.AZTEC_DATA_6;case 8:return Y.AZTEC_DATA_8;case 10:return Y.AZTEC_DATA_10;case 12:return Y.AZTEC_DATA_12;default:throw new s("Unsupported word size "+e)}}static stuffBits(e,t){let n=new f,i=e.getSize(),o=(1<<t)-2;for(let r=0;r<i;r+=t){let s=0;for(let n=0;n<t;n++)(r+n>=i||e.get(r+n))&&(s|=1<<t-1-n);(s&o)===o?(n.appendBits(s&o,t),r--):0==(s&o)?(n.appendBits(1|s,t),r--):n.appendBits(s,t)}return n}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}Ln.DEFAULT_EC_PERCENT=33,Ln.DEFAULT_AZTEC_LAYERS=0,Ln.MAX_NB_BITS=32,Ln.MAX_NB_BITS_COMPACT=4,Ln.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Vn{encode(e,t,n,i){return this.encodeWithHints(e,t,n,i,null)}encodeWithHints(e,t,n,i,o){let r=Sn.ISO_8859_1,s=Ln.DEFAULT_EC_PERCENT,a=Ln.DEFAULT_AZTEC_LAYERS;return null!=o&&(o.has(dn.CHARACTER_SET)&&(r=_n.forName(o.get(dn.CHARACTER_SET).toString())),o.has(dn.ERROR_CORRECTION)&&(s=m.parseInt(o.get(dn.ERROR_CORRECTION).toString())),o.has(dn.AZTEC_LAYERS)&&(a=m.parseInt(o.get(dn.AZTEC_LAYERS).toString()))),Vn.encodeLayers(e,t,n,i,r,s,a)}static encodeLayers(e,t,n,i,o,r,a){if(t!==j.AZTEC)throw new s("Can only encode AZTEC, but got "+t);let l=Ln.encode(C.getBytes(e,o),r,a);return Vn.renderResult(l,n,i)}static renderResult(e,t,n){let i=e.getMatrix();if(null==i)throw new Z;let o=i.getWidth(),r=i.getHeight(),s=Math.max(t,o),a=Math.max(n,r),l=Math.min(s/o,a/r),c=(s-o*l)/2,d=(a-r*l)/2,u=new S(s,a);for(let p=0,h=d;p<r;p++,h+=l)for(let e=0,t=c;e<o;e++,t+=l)i.get(e,p)&&u.setRegion(t,h,l,l);return u}}e.AbstractExpandedDecoder=Ve,e.ArgumentException=r,e.ArithmeticException=q,e.AztecCode=In,e.AztecCodeReader=pe,e.AztecCodeWriter=Vn,e.AztecDecoder=J,e.AztecDetector=ue,e.AztecDetectorResult=oe,e.AztecEncoder=Ln,e.AztecHighLevelEncoder=jn,e.AztecPoint=de,e.BarcodeFormat=j,e.Binarizer=c,e.BinaryBitmap=a,e.BitArray=f,e.BitMatrix=S,e.BitSource=lt,e.BrowserAztecCodeReader=class extends F{constructor(e=500){super(new pe,e)}},e.BrowserBarcodeReader=class extends F{constructor(e=500,t){super(new nt(t),e,t)}},e.BrowserCodeReader=F,e.BrowserDatamatrixCodeReader=class extends F{constructor(e=500){super(new pt,e)}},e.BrowserMultiFormatReader=class extends F{constructor(e=null,t=500){const n=new ln;n.setHints(e),super(n,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}},e.BrowserPDF417Reader=class extends F{constructor(e=500){super(new sn,e)}},e.BrowserQRCodeReader=class extends F{constructor(e=500){super(new Mt,e)}},e.BrowserQRCodeSvgWriter=bn,e.CharacterSetECI=b,e.ChecksumException=l,e.Code128Reader=me,e.Code39Reader=fe,e.DataMatrixDecodedBitStreamParser=ct,e.DataMatrixReader=pt,e.DecodeHintType=v,e.DecoderResult=H,e.DefaultGridSampler=le,e.DetectorResult=ie,e.EAN13Reader=Ce,e.EncodeHintType=dn,e.Exception=o,e.FormatException=y,e.GenericGF=Y,e.GenericGFPoly=W,e.GlobalHistogramBinarizer=A,e.GridSampler=se,e.GridSamplerInstance=ce,e.HTMLCanvasElementLuminanceSource=R,e.HybridBinarizer=E,e.ITFReader=ge,e.IllegalArgumentException=s,e.IllegalStateException=Z,e.InvertedLuminanceSource=T,e.LuminanceSource=D,e.MathUtils=ee,e.MultiFormatOneDReader=nt,e.MultiFormatReader=ln,e.MultiFormatWriter=class{encode(e,t,n,i,o){let r;if(t!==j.QR_CODE)throw new s("No encoder available for format "+t);return r=new xn,r.encode(e,t,n,i,o)}},e.NotFoundException=I,e.OneDReader=he,e.PDF417DecodedBitStreamParser=on,e.PDF417DecoderErrorCorrection=Lt,e.PDF417Reader=sn,e.PDF417ResultMetadata=qt,e.PerspectiveTransform=ae,e.PlanarYUVLuminanceSource=wn,e.QRCodeByteMatrix=hn,e.QRCodeDataMask=yt,e.QRCodeDecodedBitStreamParser=Ct,e.QRCodeDecoderErrorCorrectionLevel=ht,e.QRCodeDecoderFormatInformation=mt,e.QRCodeEncoder=yn,e.QRCodeEncoderQRCode=mn,e.QRCodeMaskUtil=pn,e.QRCodeMatrixUtil=gn,e.QRCodeMode=wt,e.QRCodeReader=Mt,e.QRCodeVersion=vt,e.QRCodeWriter=xn,e.RGBLuminanceSource=Cn,e.RSS14Reader=tt,e.RSSExpandedReader=Je,e.ReaderException=an,e.ReedSolomonDecoder=K,e.ReedSolomonEncoder=un,e.ReedSolomonException=Q,e.Result=k,e.ResultMetadataType=U,e.ResultPoint=ne,e.StringUtils=C,e.UnsupportedOperationException=x,e.VideoInputDevice=M,e.WhiteRectangleDetector=re,e.WriterException=fn,e.ZXingArrays=h,e.ZXingCharset=_n,e.ZXingInteger=m,e.ZXingStandardCharsets=Sn,e.ZXingStringBuilder=_,e.ZXingStringEncoding=w,e.ZXingSystem=d,e.createAbstractExpandedDecoder=Qe,Object.defineProperty(e,"__esModule",{value:!0})},n(t)},"./node_modules/@zxing/ngx-scanner/fesm2015/zxing-ngx-scanner.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ZXingScannerComponent:()=>p,ZXingScannerModule:()=>h});var i=n("./node_modules/@angular/common/fesm2015/common.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/forms/fesm2015/forms.js"),s=n("./node_modules/tslib/tslib.es6.js"),a=n("./node_modules/@zxing/browser/umd/zxing-browser.js"),l=n("./node_modules/@zxing/library/umd/index.js"),c=n("rxjs");const d=["preview"];class u extends a.BrowserMultiFormatReader{getScannerControls(){if(!this.scannerControls)throw new Error("No scanning is running at the time.");return this.scannerControls}scanFromDeviceObservable(e,t){var n;return(0,s.__awaiter)(this,void 0,void 0,function*(){const i=new c.BehaviorSubject({});let o;try{o=yield this.decodeFromVideoDevice(e,t,(e,t)=>{if(!t)return void i.next({result:e});const n=t.name;n===l.NotFoundException.name||n===l.ChecksumException.name||n===l.FormatException.name||t.message.includes("No MultiFormat Readers were able to detect the code.")?i.next({error:t}):(i.error(t),this.scannerControls.stop(),this.scannerControls=void 0)}),this.scannerControls=Object.assign(Object.assign({},o),{stop(){o.stop(),i.complete()}})}catch(r){i.error(r),null===(n=this.scannerControls)||void 0===n||n.stop(),this.scannerControls=void 0}return i.asObservable()})}}class p{constructor(){this.timeBetweenScans=500,this.delayBetweenScanSuccess=500,this.previewFitMode="cover",this._ready=!1,this.autostarted=new o.EventEmitter,this.autostarting=new o.EventEmitter,this.torchCompatible=new o.EventEmitter(!1),this.scanSuccess=new o.EventEmitter,this.scanFailure=new o.EventEmitter,this.scanError=new o.EventEmitter,this.scanComplete=new o.EventEmitter,this.camerasFound=new o.EventEmitter,this.camerasNotFound=new o.EventEmitter,this.permissionResponse=new o.EventEmitter(!0),this.hasDevices=new o.EventEmitter,this.deviceChange=new o.EventEmitter,this._enabled=!0,this._hints=new Map,this.autofocusEnabled=!0,this.autostart=!0,this.formats=[l.BarcodeFormat.QR_CODE],this.hasNavigator="undefined"!=typeof navigator,this.isMediaDevicesSupported=this.hasNavigator&&!!navigator.mediaDevices}get codeReader(){return this._codeReader}set device(e){this._ready?this.isAutostarting?console.warn("Avoid setting a device during auto-start."):this.isCurrentDevice(e)?console.warn("Setting the same device is not allowed."):this.hasPermission?this.setDevice(e):console.warn("Permissions not set yet, waiting for them to be set to apply device change."):this._devicePreStart=e}get device(){return this._device}get formats(){return this.hints.get(l.DecodeHintType.POSSIBLE_FORMATS)}set formats(e){if("string"==typeof e)throw new Error("Invalid formats, make sure the [formats] input is a binding.");const t=e.map(e=>this.getBarcodeFormatOrFail(e)),n=this.hints;n.set(l.DecodeHintType.POSSIBLE_FORMATS,t),this.hints=n}get hints(){return this._hints}set hints(e){var t;this._hints=e,null===(t=this.codeReader)||void 0===t||t.setHints(this._hints)}set videoConstraints(e){var t;const n=null===(t=this.codeReader)||void 0===t?void 0:t.getScannerControls();n&&(null==n||n.streamVideoConstraintsApply(e))}set isAutostarting(e){this._isAutostarting=e,this.autostarting.next(e)}get isAutostarting(){return this._isAutostarting}set torch(e){try{this.getCodeReader().getScannerControls().switchTorch(e)}catch(t){}}set enable(e){this._enabled=Boolean(e),this._enabled?this.device?this.scanFromDevice(this.device.deviceId):this.init():this.reset()}get enabled(){return this._enabled}get tryHarder(){return this.hints.get(l.DecodeHintType.TRY_HARDER)}set tryHarder(e){const t=this.hints;e?t.set(l.DecodeHintType.TRY_HARDER,!0):t.delete(l.DecodeHintType.TRY_HARDER),this.hints=t}askForPermission(){return(0,s.__awaiter)(this,void 0,void 0,function*(){if(!this.hasNavigator)return console.error("@zxing/ngx-scanner","Can't ask permission, navigator is not present."),this.setPermission(null),this.hasPermission;if(!this.isMediaDevicesSupported)return console.error("@zxing/ngx-scanner","Can't get user media, this is not supported."),this.setPermission(null),this.hasPermission;let e,t;try{e=yield this.getAnyVideoDevice(),t=!!e}catch(n){return this.handlePermissionException(n)}finally{this.terminateStream(e)}return this.setPermission(t),t})}getAnyVideoDevice(){return navigator.mediaDevices.getUserMedia({video:!0})}terminateStream(e){e&&e.getTracks().forEach(e=>e.stop()),e=void 0}init(){return(0,s.__awaiter)(this,void 0,void 0,function*(){if(!this.autostart)return console.warn("Feature 'autostart' disabled. Permissions and devices recovery has to be run manually."),this.initAutostartOff(),void(this._ready=!0);yield this.initAutostartOn(),this._ready=!0})}initAutostartOff(){this.isAutostarting=!1,this.updateVideoInputDevices(),this._device&&this._devicePreStart&&this.setDevice(this._devicePreStart)}initAutostartOn(){return(0,s.__awaiter)(this,void 0,void 0,function*(){let e;this.isAutostarting=!0;try{e=yield this.askForPermission()}catch(t){return void console.error("Exception occurred while asking for permission:",t)}if(e){const e=yield this.updateVideoInputDevices();yield this.autostartScanner([...e])}this.isAutostarting=!1,this.autostarted.next()})}isCurrentDevice(e){var t;return(null==e?void 0:e.deviceId)===(null===(t=this._device)||void 0===t?void 0:t.deviceId)}ngOnDestroy(){this.reset()}ngOnInit(){this.init()}scanStop(){var e,t;this._scanSubscription&&(null===(e=this.codeReader)||void 0===e||e.getScannerControls().stop(),null===(t=this._scanSubscription)||void 0===t||t.unsubscribe(),this._scanSubscription=void 0),this.torchCompatible.next(!1)}scanStart(){if(this._scanSubscription)throw new Error("There is already a scan proccess running.");if(!this._device)throw new Error("No device defined, cannot start scan, please define a device.");this.scanFromDevice(this._device.deviceId)}restart(){this._codeReader=void 0;const e=this._reset();e&&(this.device=e)}updateVideoInputDevices(){return(0,s.__awaiter)(this,void 0,void 0,function*(){const e=(yield a.BrowserCodeReader.listVideoInputDevices())||[],t=e&&e.length>0;return this.hasDevices.next(t),this.camerasFound.next([...e]),t||this.camerasNotFound.next(),e})}autostartScanner(e){return(0,s.__awaiter)(this,void 0,void 0,function*(){const t=e.find(({label:e})=>/back|tr\xe1s|rear|traseira|environment|ambiente/gi.test(e))||e.pop();if(!t)throw new Error("Impossible to autostart, no input devices available.");yield this.setDevice(t),this.deviceChange.next(t)})}dispatchScanSuccess(e){this.scanSuccess.next(e.getText())}dispatchScanFailure(e){this.scanFailure.next(e)}dispatchScanError(e){this.scanError.observers.some(e=>Boolean(e))||(console.error(`zxing scanner component: ${e.name}`,e),console.warn("Use the `(scanError)` property to handle errors like this!")),this.scanError.next(e)}dispatchScanComplete(e){this.scanComplete.next(e)}handlePermissionException(e){let t;switch(console.error("@zxing/ngx-scanner","Error when asking for permission.",e),e.name){case"NotSupportedError":console.warn("@zxing/ngx-scanner",e.message),t=null,this.hasDevices.next(null);break;case"NotAllowedError":console.warn("@zxing/ngx-scanner",e.message),t=!1,this.hasDevices.next(!0);break;case"NotFoundError":console.warn("@zxing/ngx-scanner",e.message),t=null,this.hasDevices.next(!1),this.camerasNotFound.next(e);break;case"NotReadableError":console.warn("@zxing/ngx-scanner","Couldn't read the device(s)'s stream, it's probably in use by another app."),t=null,this.hasDevices.next(!1),this.camerasNotFound.next(e);break;default:console.warn("@zxing/ngx-scanner","I was not able to define if I have permissions for camera or not.",e),t=null}return this.setPermission(t),this.permissionResponse.error(e),t}getBarcodeFormatOrFail(e){return"string"==typeof e?l.BarcodeFormat[e.trim().toUpperCase()]:e}getCodeReader(){if(!this._codeReader){const e={delayBetweenScanAttempts:this.timeBetweenScans,delayBetweenScanSuccess:this.delayBetweenScanSuccess};this._codeReader=new u(this.hints,e)}return this._codeReader}scanFromDevice(e){return(0,s.__awaiter)(this,void 0,void 0,function*(){const t=this.previewElemRef.nativeElement,n=this.getCodeReader(),i=yield n.scanFromDeviceObservable(e,t);if(!i)throw new Error("Undefined decoding stream, aborting.");if(this._scanSubscription=i.subscribe(e=>this._onDecodeResult(e.result,e.error),e=>this._onDecodeError(e),()=>{}),this._scanSubscription.closed)return;const o=void 0!==n.getScannerControls().switchTorch;this.torchCompatible.next(o)})}_onDecodeError(e){this.dispatchScanError(e)}_onDecodeResult(e,t){e?this.dispatchScanSuccess(e):this.dispatchScanFailure(t),this.dispatchScanComplete(e)}_reset(){if(!this._codeReader)return;const e=this._device;return this.device=void 0,this._codeReader=void 0,e}reset(){this._reset(),this.deviceChange.emit(null)}setDevice(e){return(0,s.__awaiter)(this,void 0,void 0,function*(){this.scanStop(),this._device=e||void 0,this._device||a.BrowserCodeReader.cleanVideoSource(this.previewElemRef.nativeElement),this._enabled&&e&&(yield this.scanFromDevice(e.deviceId))})}setPermission(e){this.hasPermission=e,this.permissionResponse.next(e)}}p.\u0275fac=function(e){return new(e||p)},p.\u0275cmp=o["\u0275\u0275defineComponent"]({type:p,selectors:[["zxing-scanner"]],viewQuery:function(e,t){if(1&e&&o["\u0275\u0275viewQuery"](d,7),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.previewElemRef=e.first)}},inputs:{timeBetweenScans:"timeBetweenScans",delayBetweenScanSuccess:"delayBetweenScanSuccess",previewFitMode:"previewFitMode",autofocusEnabled:"autofocusEnabled",autostart:"autostart",formats:"formats",device:"device",videoConstraints:"videoConstraints",torch:"torch",enable:"enable",tryHarder:"tryHarder"},outputs:{autostarted:"autostarted",autostarting:"autostarting",torchCompatible:"torchCompatible",scanSuccess:"scanSuccess",scanFailure:"scanFailure",scanError:"scanError",scanComplete:"scanComplete",camerasFound:"camerasFound",camerasNotFound:"camerasNotFound",permissionResponse:"permissionResponse",hasDevices:"hasDevices",deviceChange:"deviceChange"},decls:6,vars:2,consts:[["preview",""]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"video",null,0),o["\u0275\u0275elementStart"](2,"p"),o["\u0275\u0275text"](3," Your browser does not support this feature, please try to upgrade it. "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"p"),o["\u0275\u0275text"](5," Seu navegador n\xe3o suporta este recurso, por favor tente atualiz\xe1-lo. "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&o["\u0275\u0275styleProp"]("object-fit",t.previewFitMode)},styles:["[_nghost-%COMP%]{display:block}video[_ngcontent-%COMP%]{-o-object-fit:contain;height:auto;object-fit:contain;width:100%}"],changeDetection:0}),p.ctorParameters=()=>[],p.propDecorators={previewElemRef:[{type:o.ViewChild,args:["preview",{static:!0}]}],autofocusEnabled:[{type:o.Input}],timeBetweenScans:[{type:o.Input}],delayBetweenScanSuccess:[{type:o.Input}],autostarted:[{type:o.Output}],autostarting:[{type:o.Output}],autostart:[{type:o.Input}],previewFitMode:[{type:o.Input}],torchCompatible:[{type:o.Output}],scanSuccess:[{type:o.Output}],scanFailure:[{type:o.Output}],scanError:[{type:o.Output}],scanComplete:[{type:o.Output}],camerasFound:[{type:o.Output}],camerasNotFound:[{type:o.Output}],permissionResponse:[{type:o.Output}],hasDevices:[{type:o.Output}],device:[{type:o.Input}],deviceChange:[{type:o.Output}],formats:[{type:o.Input}],videoConstraints:[{type:o.Input}],torch:[{type:o.Input}],enable:[{type:o.Input}],tryHarder:[{type:o.Input}]};class h{}h.\u0275fac=function(e){return new(e||h)},h.\u0275mod=o["\u0275\u0275defineNgModule"]({type:h}),h.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[i.CommonModule,r.FormsModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&o["\u0275\u0275setNgModuleScope"](h,{declarations:function(){return[p]},imports:function(){return[i.CommonModule,r.FormsModule]},exports:function(){return[p]}})},"./node_modules/angular-split/fesm2015/angular-split.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AngularSplitModule:()=>w,SplitAreaDirective:()=>x,SplitComponent:()=>b});var i=n("./node_modules/@angular/core/fesm2015/core.js"),o=n("./node_modules/@angular/common/fesm2015/common.js"),r=n("rxjs"),s=n("./node_modules/rxjs/_esm2015/operators/index.js");const a=["gutterEls"];function l(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",2,3),i["\u0275\u0275listener"]("mousedown",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"]().startDragging(t,2*n+1,n+1)})("touchstart",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"]().startDragging(t,2*n+1,n+1)})("mouseup",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"]().clickGutter(t,n+1)})("touchend",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"]().clickGutter(t,n+1)}),i["\u0275\u0275element"](2,"div",4),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().index,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275styleProp"]("flex-basis",t.gutterSize,"px")("order",2*e+1)}}function c(e,t){if(1&e&&i["\u0275\u0275template"](0,l,3,4,"div",1),2&e){const e=t.last;i["\u0275\u0275property"]("ngIf",!1===e)}}function d(e){return void 0!==e.changedTouches&&e.changedTouches.length>0?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:void 0!==e.clientX&&void 0!==e.clientY?{x:e.clientX,y:e.clientY}:null}function u(e,t){const n=e.nativeElement.getBoundingClientRect();return"horizontal"===t?n.width:n.height}function p(e){return"boolean"==typeof e?e:"false"!==e}function h(e,t){return null==e?t:(e=Number(e),!isNaN(e)&&e>=0?e:t)}function m(e,t){if("percent"===e){const e=t.reduce((e,t)=>null!==t?e+t:e,0);return t.every(e=>null!==e)&&e>99.9&&e<100.1}if("pixel"===e)return 1===t.filter(e=>null===e).length}function f(e){return null===e.size?null:!0===e.component.lockSize?e.size:null===e.component.minSize?null:e.component.minSize>e.size?e.size:e.component.minSize}function g(e){return null===e.size?null:!0===e.component.lockSize?e.size:null===e.component.maxSize?null:e.component.maxSize<e.size?e.size:e.component.maxSize}function v(e,t,n,i){return t.reduce((t,n)=>{const o=function(e,t,n,i){if(0===n)return{areaSnapshot:t,pixelAbsorb:0,percentAfterAbsorption:t.sizePercentAtStart,pixelRemain:0};if(0===t.sizePixelAtStart&&n<0)return{areaSnapshot:t,pixelAbsorb:0,percentAfterAbsorption:0,pixelRemain:n};if("percent"===e)return function(e,t,n){const i=e.sizePixelAtStart+t,o=i/n*100;if(t>0){if(null!==e.area.maxSize&&o>e.area.maxSize){const i=e.area.maxSize/100*n;return{areaSnapshot:e,pixelAbsorb:i,percentAfterAbsorption:e.area.maxSize,pixelRemain:e.sizePixelAtStart+t-i}}return{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:o>100?100:o,pixelRemain:0}}if(t<0){if(null!==e.area.minSize&&o<e.area.minSize){const i=e.area.minSize/100*n;return{areaSnapshot:e,pixelAbsorb:i,percentAfterAbsorption:e.area.minSize,pixelRemain:e.sizePixelAtStart+t-i}}return o<0?{areaSnapshot:e,pixelAbsorb:-e.sizePixelAtStart,percentAfterAbsorption:0,pixelRemain:t+e.sizePixelAtStart}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:o,pixelRemain:0}}}(t,n,i);if("pixel"===e)return function(e,t,n){const i=e.sizePixelAtStart+t;if(t>0)return null!==e.area.maxSize&&i>e.area.maxSize?{areaSnapshot:e,pixelAbsorb:e.area.maxSize-e.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:i-e.area.maxSize}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:-1,pixelRemain:0};if(t<0)return null!==e.area.minSize&&i<e.area.minSize?{areaSnapshot:e,pixelAbsorb:e.area.minSize+t-i,percentAfterAbsorption:-1,pixelRemain:i-e.area.minSize}:i<0?{areaSnapshot:e,pixelAbsorb:-e.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:t+e.sizePixelAtStart}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:-1,pixelRemain:0}}(t,n)}(e,n,t.remain,i);return t.list.push(o),t.remain=o.pixelRemain,t},{remain:n,list:[]})}function y(e,t){"percent"===e?t.areaSnapshot.area.size=t.percentAfterAbsorption:"pixel"===e&&null!==t.areaSnapshot.area.size&&(t.areaSnapshot.area.size=t.areaSnapshot.sizePixelAtStart+t.pixelAbsorb)}class b{constructor(e,t,n,o){this.ngZone=e,this.elRef=t,this.cdRef=n,this.renderer=o,this._direction="horizontal",this._unit="percent",this._gutterSize=11,this._gutterStep=1,this._restrictMove=!1,this._useTransition=!1,this._disabled=!1,this._dir="ltr",this._gutterDblClickDuration=0,this.dragStart=new i.EventEmitter(!1),this.dragEnd=new i.EventEmitter(!1),this.gutterClick=new i.EventEmitter(!1),this.gutterDblClick=new i.EventEmitter(!1),this.dragProgressSubject=new r.Subject,this.dragProgress$=this.dragProgressSubject.asObservable(),this.isDragging=!1,this.isWaitingClear=!1,this.dragListeners=[],this.snapshot=null,this.startPoint=null,this.endPoint=null,this.displayedAreas=[],this.hidedAreas=[],this._clickTimeout=null,this.direction=this._direction}set direction(e){this._direction="vertical"===e?"vertical":"horizontal",this.renderer.addClass(this.elRef.nativeElement,`as-${this._direction}`),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("vertical"===this._direction?"horizontal":"vertical")),this.build(!1,!1)}get direction(){return this._direction}set unit(e){this._unit="pixel"===e?"pixel":"percent",this.renderer.addClass(this.elRef.nativeElement,`as-${this._unit}`),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("pixel"===this._unit?"percent":"pixel")),this.build(!1,!0)}get unit(){return this._unit}set gutterSize(e){this._gutterSize=h(e,11),this.build(!1,!1)}get gutterSize(){return this._gutterSize}set gutterStep(e){this._gutterStep=h(e,1)}get gutterStep(){return this._gutterStep}set restrictMove(e){this._restrictMove=p(e)}get restrictMove(){return this._restrictMove}set useTransition(e){this._useTransition=p(e),this._useTransition?this.renderer.addClass(this.elRef.nativeElement,"as-transition"):this.renderer.removeClass(this.elRef.nativeElement,"as-transition")}get useTransition(){return this._useTransition}set disabled(e){this._disabled=p(e),this._disabled?this.renderer.addClass(this.elRef.nativeElement,"as-disabled"):this.renderer.removeClass(this.elRef.nativeElement,"as-disabled")}get disabled(){return this._disabled}set dir(e){this._dir="rtl"===e?"rtl":"ltr",this.renderer.setAttribute(this.elRef.nativeElement,"dir",this._dir)}get dir(){return this._dir}set gutterDblClickDuration(e){this._gutterDblClickDuration=h(e,0)}get gutterDblClickDuration(){return this._gutterDblClickDuration}get transitionEnd(){return new r.Observable(e=>this.transitionEndSubscriber=e).pipe((0,s.debounceTime)(20))}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>this.renderer.addClass(this.elRef.nativeElement,"as-init"))})}getNbGutters(){return 0===this.displayedAreas.length?0:this.displayedAreas.length-1}addArea(e){const t={component:e,order:0,size:0,minSize:null,maxSize:null};!0===e.visible?(this.displayedAreas.push(t),this.build(!0,!0)):this.hidedAreas.push(t)}removeArea(e){if(this.displayedAreas.some(t=>t.component===e)){const t=this.displayedAreas.find(t=>t.component===e);this.displayedAreas.splice(this.displayedAreas.indexOf(t),1),this.build(!0,!0)}else if(this.hidedAreas.some(t=>t.component===e)){const t=this.hidedAreas.find(t=>t.component===e);this.hidedAreas.splice(this.hidedAreas.indexOf(t),1)}}updateArea(e,t,n){!0===e.visible&&this.build(t,n)}showArea(e){const t=this.hidedAreas.find(t=>t.component===e);if(void 0===t)return;const n=this.hidedAreas.splice(this.hidedAreas.indexOf(t),1);this.displayedAreas.push(...n),this.build(!0,!0)}hideArea(e){const t=this.displayedAreas.find(t=>t.component===e);if(void 0===t)return;const n=this.displayedAreas.splice(this.displayedAreas.indexOf(t),1);n.forEach(e=>{e.order=0,e.size=0}),this.hidedAreas.push(...n),this.build(!0,!0)}getVisibleAreaSizes(){return this.displayedAreas.map(e=>null===e.size?"*":e.size)}setVisibleAreaSizes(e){if(e.length!==this.displayedAreas.length)return!1;const t=e.map(e=>h(e,null));return!1!==m(this.unit,t)&&(this.displayedAreas.forEach((e,n)=>e.component._size=t[n]),this.build(!1,!0),!0)}build(e,t){if(this.stopDragging(),!0===e&&(this.displayedAreas.every(e=>null!==e.component.order)&&this.displayedAreas.sort((e,t)=>e.component.order-t.component.order),this.displayedAreas.forEach((e,t)=>{e.order=2*t,e.component.setStyleOrder(e.order)})),!0===t){const e=m(this.unit,this.displayedAreas.map(e=>e.component.size));switch(this.unit){case"percent":{const t=100/this.displayedAreas.length;this.displayedAreas.forEach(n=>{n.size=e?n.component.size:t,n.minSize=f(n),n.maxSize=g(n)});break}case"pixel":if(e)this.displayedAreas.forEach(e=>{e.size=e.component.size,e.minSize=f(e),e.maxSize=g(e)});else{const e=this.displayedAreas.filter(e=>null===e.component.size);if(0===e.length&&this.displayedAreas.length>0)this.displayedAreas.forEach((e,t)=>{e.size=0===t?null:e.component.size,e.minSize=0===t?null:f(e),e.maxSize=0===t?null:g(e)});else if(e.length>1){let e=!1;this.displayedAreas.forEach(t=>{null===t.component.size?!1===e?(t.size=null,t.minSize=null,t.maxSize=null,e=!0):(t.size=100,t.minSize=null,t.maxSize=null):(t.size=t.component.size,t.minSize=f(t),t.maxSize=g(t))})}}}}this.refreshStyleSizes(),this.cdRef.markForCheck()}refreshStyleSizes(){if("percent"===this.unit)if(1===this.displayedAreas.length)this.displayedAreas[0].component.setStyleFlex(0,0,"100%",!1,!1);else{const e=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach(t=>{t.component.setStyleFlex(0,0,`calc( ${t.size}% - ${t.size/100*e}px )`,null!==t.minSize&&t.minSize===t.size,null!==t.maxSize&&t.maxSize===t.size)})}else"pixel"===this.unit&&this.displayedAreas.forEach(e=>{null===e.size?1===this.displayedAreas.length?e.component.setStyleFlex(1,1,"100%",!1,!1):e.component.setStyleFlex(1,1,"auto",!1,!1):1===this.displayedAreas.length?e.component.setStyleFlex(0,0,"100%",!1,!1):e.component.setStyleFlex(0,0,`${e.size}px`,null!==e.minSize&&e.minSize===e.size,null!==e.maxSize&&e.maxSize===e.size)})}clickGutter(e,t){const n=d(e);this.startPoint&&this.startPoint.x===n.x&&this.startPoint.y===n.y&&(null!==this._clickTimeout?(window.clearTimeout(this._clickTimeout),this._clickTimeout=null,this.notify("dblclick",t),this.stopDragging()):this._clickTimeout=window.setTimeout(()=>{this._clickTimeout=null,this.notify("click",t),this.stopDragging()},this.gutterDblClickDuration))}startDragging(e,t,n){e.preventDefault(),e.stopPropagation(),this.startPoint=d(e),null!==this.startPoint&&!0!==this.disabled&&!0!==this.isWaitingClear&&(this.snapshot={gutterNum:n,lastSteppedOffset:0,allAreasSizePixel:u(this.elRef,this.direction)-this.getNbGutters()*this.gutterSize,allInvolvedAreasSizePercent:100,areasBeforeGutter:[],areasAfterGutter:[]},this.displayedAreas.forEach(e=>{const n={area:e,sizePixelAtStart:u(e.component.elRef,this.direction),sizePercentAtStart:"percent"===this.unit?e.size:-1};e.order<t?!0===this.restrictMove?this.snapshot.areasBeforeGutter=[n]:this.snapshot.areasBeforeGutter.unshift(n):e.order>t&&(!0===this.restrictMove?0===this.snapshot.areasAfterGutter.length&&(this.snapshot.areasAfterGutter=[n]):this.snapshot.areasAfterGutter.push(n))}),this.snapshot.allInvolvedAreasSizePercent=[...this.snapshot.areasBeforeGutter,...this.snapshot.areasAfterGutter].reduce((e,t)=>e+t.sizePercentAtStart,0),0!==this.snapshot.areasBeforeGutter.length&&0!==this.snapshot.areasAfterGutter.length&&(this.dragListeners.push(this.renderer.listen("document","mouseup",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchend",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchcancel",this.stopDragging.bind(this))),this.ngZone.runOutsideAngular(()=>{this.dragListeners.push(this.renderer.listen("document","mousemove",this.dragEvent.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchmove",this.dragEvent.bind(this)))}),this.displayedAreas.forEach(e=>e.component.lockEvents()),this.isDragging=!0,this.renderer.addClass(this.elRef.nativeElement,"as-dragging"),this.renderer.addClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.notify("start",this.snapshot.gutterNum)))}dragEvent(e){if(e.preventDefault(),e.stopPropagation(),null!==this._clickTimeout&&(window.clearTimeout(this._clickTimeout),this._clickTimeout=null),!1===this.isDragging)return;if(this.endPoint=d(e),null===this.endPoint)return;let t="horizontal"===this.direction?this.startPoint.x-this.endPoint.x:this.startPoint.y-this.endPoint.y;"rtl"===this.dir&&(t=-t);const n=Math.round(t/this.gutterStep)*this.gutterStep;if(n===this.snapshot.lastSteppedOffset)return;this.snapshot.lastSteppedOffset=n;let i=v(this.unit,this.snapshot.areasBeforeGutter,-n,this.snapshot.allAreasSizePixel),o=v(this.unit,this.snapshot.areasAfterGutter,n,this.snapshot.allAreasSizePixel);if(0!==i.remain&&0!==o.remain?Math.abs(i.remain)===Math.abs(o.remain)||(Math.abs(i.remain)>Math.abs(o.remain)?o=v(this.unit,this.snapshot.areasAfterGutter,n+i.remain,this.snapshot.allAreasSizePixel):i=v(this.unit,this.snapshot.areasBeforeGutter,-(n-o.remain),this.snapshot.allAreasSizePixel)):0!==i.remain?o=v(this.unit,this.snapshot.areasAfterGutter,n+i.remain,this.snapshot.allAreasSizePixel):0!==o.remain&&(i=v(this.unit,this.snapshot.areasBeforeGutter,-(n-o.remain),this.snapshot.allAreasSizePixel)),"percent"===this.unit){const e=[...i.list,...o.list],t=e.find(e=>0!==e.percentAfterAbsorption&&e.percentAfterAbsorption!==e.areaSnapshot.area.minSize&&e.percentAfterAbsorption!==e.areaSnapshot.area.maxSize);t&&(t.percentAfterAbsorption=this.snapshot.allInvolvedAreasSizePercent-e.filter(e=>e!==t).reduce((e,t)=>e+t.percentAfterAbsorption,0))}i.list.forEach(e=>y(this.unit,e)),o.list.forEach(e=>y(this.unit,e)),this.refreshStyleSizes(),this.notify("progress",this.snapshot.gutterNum)}stopDragging(e){if(e&&(e.preventDefault(),e.stopPropagation()),!1!==this.isDragging){for(this.displayedAreas.forEach(e=>e.component.unlockEvents());this.dragListeners.length>0;){const e=this.dragListeners.pop();e&&e()}this.isDragging=!1,!this.endPoint||this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y||this.notify("end",this.snapshot.gutterNum),this.renderer.removeClass(this.elRef.nativeElement,"as-dragging"),this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.snapshot=null,this.isWaitingClear=!0,this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.startPoint=null,this.endPoint=null,this.isWaitingClear=!1})})}}notify(e,t){const n=this.getVisibleAreaSizes();"start"===e?this.dragStart.emit({gutterNum:t,sizes:n}):"end"===e?this.dragEnd.emit({gutterNum:t,sizes:n}):"click"===e?this.gutterClick.emit({gutterNum:t,sizes:n}):"dblclick"===e?this.gutterDblClick.emit({gutterNum:t,sizes:n}):"transitionEnd"===e?this.transitionEndSubscriber&&this.ngZone.run(()=>this.transitionEndSubscriber.next(n)):"progress"===e&&this.dragProgressSubject.next({gutterNum:t,sizes:n})}ngOnDestroy(){this.stopDragging()}}b.\u0275fac=function(e){return new(e||b)(i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](i.Renderer2))},b.\u0275cmp=i["\u0275\u0275defineComponent"]({type:b,selectors:[["as-split"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](a,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.gutterEls=e)}},inputs:{direction:"direction",unit:"unit",gutterSize:"gutterSize",gutterStep:"gutterStep",restrictMove:"restrictMove",useTransition:"useTransition",disabled:"disabled",dir:"dir",gutterDblClickDuration:"gutterDblClickDuration"},outputs:{dragStart:"dragStart",dragEnd:"dragEnd",gutterClick:"gutterClick",gutterDblClick:"gutterDblClick",transitionEnd:"transitionEnd"},exportAs:["asSplit"],ngContentSelectors:["*"],decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],["class","as-split-gutter",3,"flex-basis","order","mousedown","touchstart","mouseup","touchend",4,"ngIf"],[1,"as-split-gutter",3,"mousedown","touchstart","mouseup","touchend"],["gutterEls",""],[1,"as-split-gutter-icon"]],template:function(e,t){1&e&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275projection"](0),i["\u0275\u0275template"](1,c,1,1,"ng-template",0)),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.displayedAreas))},directives:[o.NgForOf,o.NgIf],styles:['[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url("")}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area, .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%]{transition:flex-basis .3s}'],changeDetection:0}),b.ctorParameters=()=>[{type:i.NgZone},{type:i.ElementRef},{type:i.ChangeDetectorRef},{type:i.Renderer2}],b.propDecorators={direction:[{type:i.Input}],unit:[{type:i.Input}],gutterSize:[{type:i.Input}],gutterStep:[{type:i.Input}],restrictMove:[{type:i.Input}],useTransition:[{type:i.Input}],disabled:[{type:i.Input}],dir:[{type:i.Input}],gutterDblClickDuration:[{type:i.Input}],dragStart:[{type:i.Output}],dragEnd:[{type:i.Output}],gutterClick:[{type:i.Output}],gutterDblClick:[{type:i.Output}],transitionEnd:[{type:i.Output}],gutterEls:[{type:i.ViewChildren,args:["gutterEls"]}]};class x{constructor(e,t,n,i){this.ngZone=e,this.elRef=t,this.renderer=n,this.split=i,this._order=null,this._size=null,this._minSize=null,this._maxSize=null,this._lockSize=!1,this._visible=!0,this.lockListeners=[],this.renderer.addClass(this.elRef.nativeElement,"as-split-area")}set order(e){this._order=h(e,null),this.split.updateArea(this,!0,!1)}get order(){return this._order}set size(e){this._size=h(e,null),this.split.updateArea(this,!1,!0)}get size(){return this._size}set minSize(e){this._minSize=h(e,null),this.split.updateArea(this,!1,!0)}get minSize(){return this._minSize}set maxSize(e){this._maxSize=h(e,null),this.split.updateArea(this,!1,!0)}get maxSize(){return this._maxSize}set lockSize(e){this._lockSize=p(e),this.split.updateArea(this,!1,!0)}get lockSize(){return this._lockSize}set visible(e){this._visible=p(e),this._visible?(this.split.showArea(this),this.renderer.removeClass(this.elRef.nativeElement,"as-hidden")):(this.split.hideArea(this),this.renderer.addClass(this.elRef.nativeElement,"as-hidden"))}get visible(){return this._visible}ngOnInit(){this.split.addArea(this),this.ngZone.runOutsideAngular(()=>{this.transitionListener=this.renderer.listen(this.elRef.nativeElement,"transitionend",e=>{"flex-basis"===e.propertyName&&this.split.notify("transitionEnd",-1)})})}setStyleOrder(e){this.renderer.setStyle(this.elRef.nativeElement,"order",e)}setStyleFlex(e,t,n,i,o){this.renderer.setStyle(this.elRef.nativeElement,"flex-grow",e),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink",t),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",n),!0===i?this.renderer.addClass(this.elRef.nativeElement,"as-min"):this.renderer.removeClass(this.elRef.nativeElement,"as-min"),!0===o?this.renderer.addClass(this.elRef.nativeElement,"as-max"):this.renderer.removeClass(this.elRef.nativeElement,"as-max")}lockEvents(){this.ngZone.runOutsideAngular(()=>{this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"selectstart",e=>!1)),this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"dragstart",e=>!1))})}unlockEvents(){for(;this.lockListeners.length>0;){const e=this.lockListeners.pop();e&&e()}}ngOnDestroy(){this.unlockEvents(),this.transitionListener&&this.transitionListener(),this.split.removeArea(this)}}x.\u0275fac=function(e){return new(e||x)(i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](b))},x.\u0275dir=i["\u0275\u0275defineDirective"]({type:x,selectors:[["as-split-area"],["","as-split-area",""]],inputs:{order:"order",size:"size",minSize:"minSize",maxSize:"maxSize",lockSize:"lockSize",visible:"visible"},exportAs:["asSplitArea"]}),x.ctorParameters=()=>[{type:i.NgZone},{type:i.ElementRef},{type:i.Renderer2},{type:b}],x.propDecorators={order:[{type:i.Input}],size:[{type:i.Input}],minSize:[{type:i.Input}],maxSize:[{type:i.Input}],lockSize:[{type:i.Input}],visible:[{type:i.Input}]};class w{static forRoot(){return{ngModule:w,providers:[]}}static forChild(){return{ngModule:w,providers:[]}}}w.\u0275fac=function(e){return new(e||w)},w.\u0275mod=i["\u0275\u0275defineNgModule"]({type:w}),w.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[o.CommonModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](w,{declarations:function(){return[b,x]},imports:function(){return[o.CommonModule]},exports:function(){return[b,x]}})},"./node_modules/angular2-signaturepad/fesm2015/angular2-signaturepad.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{SignaturePad:()=>r,SignaturePadModule:()=>s});var i=n("./node_modules/@angular/core/fesm2015/core.js"),o=n("./node_modules/signature_pad/dist/signature_pad.mjs");class r{constructor(e){this.elementRef=e,this.options=this.options||{},this.onBeginEvent=new i.EventEmitter,this.onEndEvent=new i.EventEmitter}ngAfterContentInit(){const e=this.elementRef.nativeElement.querySelector("canvas");this.options.canvasHeight&&(e.height=this.options.canvasHeight),this.options.canvasWidth&&(e.width=this.options.canvasWidth),this.signaturePad=new o.default(e,this.options),this.signaturePad.onBegin=this.onBegin.bind(this),this.signaturePad.onEnd=this.onEnd.bind(this)}ngOnDestroy(){const e=this.elementRef.nativeElement.querySelector("canvas");e.width=0,e.height=0}resizeCanvas(){const e=Math.max(window.devicePixelRatio||1,1),t=this.signaturePad.canvas;t.width=t.offsetWidth*e,t.height=t.offsetHeight*e,t.getContext("2d").scale(e,e),this.signaturePad.clear()}toData(){return this.signaturePad?this.signaturePad.toData():[]}fromData(e){this.signaturePad.fromData(e)}toDataURL(e,t){return this.signaturePad.toDataURL(e,t)}fromDataURL(e,t={}){!t.hasOwnProperty("height")&&this.options.canvasHeight&&(t.height=this.options.canvasHeight),!t.hasOwnProperty("width")&&this.options.canvasWidth&&(t.width=this.options.canvasWidth),this.signaturePad.fromDataURL(e,t)}clear(){this.signaturePad.clear()}isEmpty(){return this.signaturePad.isEmpty()}off(){this.signaturePad.off()}on(){this.signaturePad.on()}set(e,t){switch(e){case"canvasHeight":this.signaturePad.canvas.height=t;break;case"canvasWidth":this.signaturePad.canvas.width=t;break;default:this.signaturePad[e]=t}}onBegin(){this.onBeginEvent.emit(!0)}onEnd(){this.onEndEvent.emit(!0)}queryPad(){return this.signaturePad}}r.\u0275fac=function(e){return new(e||r)(i["\u0275\u0275directiveInject"](i.ElementRef))},r.\u0275cmp=i["\u0275\u0275defineComponent"]({type:r,selectors:[["signature-pad"]],inputs:{options:"options"},outputs:{onBeginEvent:"onBeginEvent",onEndEvent:"onEndEvent"},decls:1,vars:0,template:function(e,t){1&e&&i["\u0275\u0275element"](0,"canvas")},encapsulation:2}),r.ctorParameters=()=>[{type:i.ElementRef}],r.propDecorators={options:[{type:i.Input}],onBeginEvent:[{type:i.Output}],onEndEvent:[{type:i.Output}]};class s{}s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=i["\u0275\u0275defineNgModule"]({type:s}),s.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](s,{declarations:[r],exports:[r]})},"./node_modules/css-element-queries/index.js":(e,t,n)=>{e.exports={ResizeSensor:n("./node_modules/css-element-queries/src/ResizeSensor.js"),ElementQueries:n("./node_modules/css-element-queries/src/ElementQueries.js")}},"./node_modules/css-element-queries/src/ElementQueries.js":function(e,t,n){"use strict";var i,o,r;"undefined"!=typeof window&&window,o=[n("./node_modules/css-element-queries/src/ResizeSensor.js")],void 0===(r="function"==typeof(i=function(e){var t=function(){var t,n={},i=[];function o(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function r(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function s(e,t){var n=t.split(/\d/),i=n[n.length-1];switch(t=parseFloat(t),i){case"px":default:return t;case"em":return t*o(e);case"rem":return t*o();case"vw":return t*document.documentElement.clientWidth/100;case"vh":return t*document.documentElement.clientHeight/100;case"vmin":case"vmax":var r=document.documentElement.clientWidth/100,s=document.documentElement.clientHeight/100;return t*(0,Math["vmin"===i?"min":"max"])(r,s)}}function a(e,t){var i,o,a,l,c,d,u,p;this.element=e;var h=["min-width","min-height","max-width","max-height"];this.call=function(){for(i in a=r(this.element),d={},n[t])n[t].hasOwnProperty(i)&&(o=n[t][i],l=s(this.element,o.value),c="width"===o.property?a.width:a.height,p=o.mode+"-"+o.property,u="","min"===o.mode&&c>=l&&(u+=o.value),"max"===o.mode&&c<=l&&(u+=o.value),d[p]||(d[p]=""),u&&-1===(" "+d[p]+" ").indexOf(" "+u+" ")&&(d[p]+=" "+u));for(var e in h)h.hasOwnProperty(e)&&(d[h[e]]?this.element.setAttribute(h[e],d[h[e]].substr(1)):this.element.removeAttribute(h[e]))}}function l(t,n){t.elementQueriesSetupInformation||(t.elementQueriesSetupInformation=new a(t,n)),t.elementQueriesSensor||(t.elementQueriesSensor=new e(t,function(){t.elementQueriesSetupInformation.call()}))}function c(e,o,r,s){if(void 0===n[e]){n[e]=[];var a=i.length;t.innerHTML+="\n"+e+" {animation: 0.1s element-queries;}",t.innerHTML+="\n"+e+" > .resize-sensor {min-width: "+a+"px;}",i.push(e)}n[e].push({mode:o,property:r,value:s})}function d(e){var t;if(document.querySelectorAll&&(t=e?e.querySelectorAll.bind(e):document.querySelectorAll.bind(document)),t||"undefined"==typeof $$||(t=$$),t||"undefined"==typeof jQuery||(t=jQuery),!t)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return t}function u(e){var t=d(e);for(var i in n)if(n.hasOwnProperty(i))for(var o=t(i,e),r=0,s=o.length;r<s;r++)l(o[r],i)}function p(t){var n=[],i=[],o=[],r=0,s=-1,a=[];for(var l in t.children)if(t.children.hasOwnProperty(l)&&t.children[l].tagName&&"img"===t.children[l].tagName.toLowerCase()){n.push(t.children[l]);var c=t.children[l].getAttribute("min-width")||t.children[l].getAttribute("data-min-width"),d=t.children[l].getAttribute("data-src")||t.children[l].getAttribute("url");o.push(d);var u={minWidth:c};i.push(u),c?t.children[l].style.display="none":(r=n.length-1,t.children[l].style.display="block")}function p(){var e,l=!1;for(e in n)n.hasOwnProperty(e)&&i[e].minWidth&&t.offsetWidth>i[e].minWidth&&(l=e);if(l||(l=r),s!==l)if(a[l])n[s].style.display="none",n[l].style.display="block",s=l;else{var c=new Image;c.onload=function(){n[l].src=o[l],n[s].style.display="none",n[l].style.display="block",a[l]=!0,s=l},c.src=o[l]}else n[l].src=o[l]}s=r,t.resizeSensorInstance=new e(t,p),p()}function h(){for(var e=d()("[data-responsive-image],[responsive-image]"),t=0,n=e.length;t<n;t++)p(e[t])}var m=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,f=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function g(e){var t,n,i,o;for(e=e.replace(/'/g,'"');null!==(t=m.exec(e));)for(n=t[1]+t[3],i=t[2];null!==(o=f.exec(i));)c(n,o[1],o[2],o[3])}function v(e){var t="";if(e)if("string"==typeof e)-1===(e=e.toLowerCase()).indexOf("min-width")&&-1===e.indexOf("max-width")||g(e);else for(var n=0,i=e.length;n<i;n++)1===e[n].type?-1!==(t=e[n].selectorText||e[n].cssText).indexOf("min-height")||-1!==t.indexOf("max-height")?g(t):-1===t.indexOf("min-width")&&-1===t.indexOf("max-width")||g(t):4===e[n].type?v(e[n].cssRules||e[n].rules):3===e[n].type&&e[n].styleSheet.hasOwnProperty("cssRules")&&v(e[n].styleSheet.cssRules)}var y=!1;this.init=function(){var n="animationstart";void 0!==document.documentElement.style.webkitAnimationName?n="webkitAnimationStart":void 0!==document.documentElement.style.MozAnimationName?n="mozanimationstart":void 0!==document.documentElement.style.OAnimationName&&(n="oanimationstart"),document.body.addEventListener(n,function(t){var n=t.target,o=n&&window.getComputedStyle(n,null),r=o&&o.getPropertyValue("animation-name");if(r&&-1!==r.indexOf("element-queries")){n.elementQueriesSensor=new e(n,function(){n.elementQueriesSetupInformation&&n.elementQueriesSetupInformation.call()});var s=window.getComputedStyle(n.resizeSensor,null).getPropertyValue("min-width");s=parseInt(s.replace("px","")),l(t.target,i[s])}}),y||((t=document.createElement("style")).type="text/css",t.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",t.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(t),y=!0);for(var o=0,r=document.styleSheets.length;o<r;o++)try{document.styleSheets[o].href&&0===document.styleSheets[o].href.indexOf("file://")&&console.warn("CssElementQueries: unable to parse local css files, "+document.styleSheets[o].href),v(document.styleSheets[o].cssRules||document.styleSheets[o].rules||document.styleSheets[o].cssText)}catch(s){}h()},this.findElementQueriesElements=function(e){u(e)},this.update=function(){this.init()}};t.update=function(){t.instance.update()},t.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensorInstance&&(e.resizeSensorInstance.detach(),delete e.resizeSensorInstance)},t.init=function(){t.instance||(t.instance=new t),t.instance.init()};var n=function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))},10);else window.onload=e};return t.findElementQueriesElements=function(e){t.instance.findElementQueriesElements(e)},t.listen=function(){n(t.init)},t})?i.apply(t,o):i)||(e.exports=r)},"./node_modules/css-element-queries/src/ResizeSensor.js":function(e,t,n){"use strict";var i,o;"undefined"!=typeof window&&window,void 0===(o="function"==typeof(i=function(){if("undefined"==typeof window)return null;var e="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)},n=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||function(t){e.clearTimeout(t)};function i(e,t){var n=Object.prototype.toString.call(e),i="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,o=0,r=e.length;if(i)for(;o<r;o++)t(e[o]);else t(e)}function o(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function r(e,t){Object.keys(t).forEach(function(n){e.style[n]=t[n]})}var s=function(e,a){var l=0;function c(){var e,t,n=[];this.add=function(e){n.push(e)},this.call=function(i){for(e=0,t=n.length;e<t;e++)n[e].call(this,i)},this.remove=function(i){var o=[];for(e=0,t=n.length;e<t;e++)n[e]!==i&&o.push(n[e]);n=o},this.length=function(){return n.length}}function d(e,n){if(e)if(e.resizedAttached)e.resizedAttached.add(n);else{e.resizedAttached=new c,e.resizedAttached.add(n),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var i={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},s={position:"absolute",left:"0px",top:"0px",transition:"0s"};r(e.resizeSensor,i);var a=document.createElement("div");a.className="resize-sensor-expand",r(a,i);var d=document.createElement("div");r(d,s),a.appendChild(d);var u=document.createElement("div");u.className="resize-sensor-shrink",r(u,i);var p=document.createElement("div");r(p,s),r(p,{width:"200%",height:"200%"}),u.appendChild(p),e.resizeSensor.appendChild(a),e.resizeSensor.appendChild(u),e.appendChild(e.resizeSensor);var h=window.getComputedStyle(e),m=h?h.getPropertyValue("position"):null;"absolute"!==m&&"relative"!==m&&"fixed"!==m&&"sticky"!==m&&(e.style.position="relative");var f=!1,g=0,v=o(e),y=0,b=0,x=!0;l=0;var w=function(){var t=e.offsetWidth,n=e.offsetHeight;d.style.width=t+10+"px",d.style.height=n+10+"px",a.scrollLeft=t+10,a.scrollTop=n+10,u.scrollLeft=t+10,u.scrollTop=n+10},C=function(){if(x){if(0===e.offsetWidth&&0===e.offsetHeight)return void(l||(l=t(function(){l=0,C()})));x=!1}w()};e.resizeSensor.resetSensor=C;var _=function(){g=0,f&&(y=v.width,b=v.height,e.resizedAttached&&e.resizedAttached.call(v))},S=function(){v=o(e),(f=v.width!==y||v.height!==b)&&!g&&(g=t(_)),C()},I=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};I(a,"scroll",S),I(u,"scroll",S),l=t(function(){l=0,C()})}}i(e,function(e){d(e,a)}),this.detach=function(t){l||(n(l),l=0),s.detach(e,t)},this.reset=function(){e.resizeSensor.resetSensor()}};if(s.reset=function(e){i(e,function(e){e.resizeSensor.resetSensor()})},s.detach=function(e,t){i(e,function(e){e&&(e.resizedAttached&&"function"==typeof t&&(e.resizedAttached.remove(t),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))})},"undefined"!=typeof MutationObserver){var a=new MutationObserver(function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t].addedNodes,i=0;i<n.length;i++)n[i].resizeSensor&&s.reset(n[i])});document.addEventListener("DOMContentLoaded",function(e){a.observe(document.body,{childList:!0,subtree:!0})})}return s})?i.call(t,n,t,e):i)||(e.exports=o)},"./node_modules/d3-array/src/array.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{slice:()=>o,map:()=>r});var i=Array.prototype,o=i.slice,r=i.map},"./node_modules/d3-array/src/ascending.js":(e,t,n)=>{"use strict";function i(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-array/src/bisect.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{bisectRight:()=>r,bisectLeft:()=>s,default:()=>a});var i=n("./node_modules/d3-array/src/ascending.js"),o=(0,n("./node_modules/d3-array/src/bisector.js").default)(i.default),r=o.right,s=o.left;const a=r},"./node_modules/d3-array/src/bisector.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-array/src/ascending.js");function o(e){var t;return 1===e.length&&(t=e,e=function(e,n){return(0,i.default)(t(e),n)}),{left:function(t,n,i,o){for(null==i&&(i=0),null==o&&(o=t.length);i<o;){var r=i+o>>>1;e(t[r],n)<0?i=r+1:o=r}return i},right:function(t,n,i,o){for(null==i&&(i=0),null==o&&(o=t.length);i<o;){var r=i+o>>>1;e(t[r],n)>0?o=r:i=r+1}return i}}}},"./node_modules/d3-array/src/constant.js":(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-array/src/cross.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-array/src/pairs.js");function o(e,t,n){var o,r,s,a,l=e.length,c=t.length,d=new Array(l*c);for(null==n&&(n=i.pair),o=s=0;o<l;++o)for(a=e[o],r=0;r<c;++r,++s)d[s]=n(a,t[r]);return d}},"./node_modules/d3-array/src/descending.js":(e,t,n)=>{"use strict";function i(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-array/src/deviation.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-array/src/variance.js");function o(e,t){var n=(0,i.default)(e,t);return n?Math.sqrt(n):n}},"./node_modules/d3-array/src/extent.js":(e,t,n)=>{"use strict";function i(e,t){var n,i,o,r=e.length,s=-1;if(null==t){for(;++s<r;)if(null!=(n=e[s])&&n>=n)for(i=o=n;++s<r;)null!=(n=e[s])&&(i>n&&(i=n),o<n&&(o=n))}else for(;++s<r;)if(null!=(n=t(e[s],s,e))&&n>=n)for(i=o=n;++s<r;)null!=(n=t(e[s],s,e))&&(i>n&&(i=n),o<n&&(o=n));return[i,o]}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-array/src/histogram.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i=n("./node_modules/d3-array/src/array.js"),o=n("./node_modules/d3-array/src/bisect.js"),r=n("./node_modules/d3-array/src/constant.js"),s=n("./node_modules/d3-array/src/extent.js"),a=n("./node_modules/d3-array/src/identity.js"),l=n("./node_modules/d3-array/src/range.js"),c=n("./node_modules/d3-array/src/ticks.js"),d=n("./node_modules/d3-array/src/threshold/sturges.js");function u(){var e=a.default,t=s.default,n=d.default;function u(i){var r,s,a=i.length,d=new Array(a);for(r=0;r<a;++r)d[r]=e(i[r],r,i);var u=t(d),p=u[0],h=u[1],m=n(d,p,h);Array.isArray(m)||(m=(0,c.tickStep)(p,h,m),m=(0,l.default)(Math.ceil(p/m)*m,h,m));for(var f=m.length;m[0]<=p;)m.shift(),--f;for(;m[f-1]>h;)m.pop(),--f;var g,v=new Array(f+1);for(r=0;r<=f;++r)(g=v[r]=[]).x0=r>0?m[r-1]:p,g.x1=r<f?m[r]:h;for(r=0;r<a;++r)p<=(s=d[r])&&s<=h&&v[(0,o.default)(m,s,0,f)].push(i[r]);return v}return u.value=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.default)(t),u):e},u.domain=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.default)([e[0],e[1]]),u):t},u.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?(0,r.default)(i.slice.call(e)):(0,r.default)(e),u):n},u}},"./node_modules/d3-array/src/identity.js":(e,t,n)=>{"use strict";function i(e){return e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-array/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{bisect:()=>i.default,bisectRight:()=>i.bisectRight,bisectLeft:()=>i.bisectLeft,ascending:()=>o.default,bisector:()=>r.default,cross:()=>s.default,descending:()=>a.default,deviation:()=>l.default,extent:()=>c.default,histogram:()=>d.default,thresholdFreedmanDiaconis:()=>u.default,thresholdScott:()=>p.default,thresholdSturges:()=>h.default,max:()=>m.default,mean:()=>f.default,median:()=>g.default,merge:()=>v.default,min:()=>y.default,pairs:()=>b.default,permute:()=>x.default,quantile:()=>w.default,range:()=>C.default,scan:()=>_.default,shuffle:()=>S.default,sum:()=>I.default,ticks:()=>A.default,tickIncrement:()=>A.tickIncrement,tickStep:()=>A.tickStep,transpose:()=>E.default,variance:()=>D.default,zip:()=>T.default});var i=n("./node_modules/d3-array/src/bisect.js"),o=n("./node_modules/d3-array/src/ascending.js"),r=n("./node_modules/d3-array/src/bisector.js"),s=n("./node_modules/d3-array/src/cross.js"),a=n("./node_modules/d3-array/src/descending.js"),l=n("./node_modules/d3-array/src/deviation.js"),c=n("./node_modules/d3-array/src/extent.js"),d=n("./node_modules/d3-array/src/histogram.js"),u=n("./node_modules/d3-array/src/threshold/freedmanDiaconis.js"),p=n("./node_modules/d3-array/src/threshold/scott.js"),h=n("./node_modules/d3-array/src/threshold/sturges.js"),m=n("./node_modules/d3-array/src/max.js"),f=n("./node_modules/d3-array/src/mean.js"),g=n("./node_modules/d3-array/src/median.js"),v=n("./node_modules/d3-array/src/merge.js"),y=n("./node_modules/d3-array/src/min.js"),b=n("./node_modules/d3-array/src/pairs.js"),x=n("./node_modules/d3-array/src/permute.js"),w=n("./node_modules/d3-array/src/quantile.js"),C=n("./node_modules/d3-array/src/range.js"),_=n("./node_modules/d3-array/src/scan.js"),S=n("./node_modules/d3-array/src/shuffle.js"),I=n("./node_modules/d3-array/src/sum.js"),A=n("./node_modules/d3-array/src/ticks.js"),E=n("./node_modules/d3-array/src/transpose.js"),D=n("./node_modules/d3-array/src/variance.js"),T=n("./node_modules/d3-array/src/zip.js")},"./node_modules/d3-array/src/max.js":(e,t,n)=>{"use strict";function i(e,t){var n,i,o=e.length,r=-1;if(null==t){for(;++r<o;)if(null!=(n=e[r])&&n>=n)for(i=n;++r<o;)null!=(n=e[r])&&n>i&&(i=n)}else for(;++r<o;)if(null!=(n=t(e[r],r,e))&&n>=n)for(i=n;++r<o;)null!=(n=t(e[r],r,e))&&n>i&&(i=n);return i}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-array/src/mean.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-array/src/number.js");function o(e,t){var n,o=e.length,r=o,s=-1,a=0;if(null==t)for(;++s<o;)isNaN(n=(0,i.default)(e[s]))?--r:a+=n;else for(;++s<o;)isNaN(n=(0,i.default)(t(e[s],s,e)))?--r:a+=n;if(r)return a/r}},"./node_modules/d3-array/src/median.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-array/src/ascending.js"),o=n("./node_modules/d3-array/src/number.js"),r=n("./node_modules/d3-array/src/quantile.js");function s(e,t){var n,s=e.length,a=-1,l=[];if(null==t)for(;++a<s;)isNaN(n=(0,o.default)(e[a]))||l.push(n);else for(;++a<s;)isNaN(n=(0,o.default)(t(e[a],a,e)))||l.push(n);return(0,r.default)(l.sort(i.default),.5)}},"./node_modules/d3-array/src/merge.js":(e,t,n)=>{"use strict";function i(e){for(var t,n,i,o=e.length,r=-1,s=0;++r<o;)s+=e[r].length;for(n=new Array(s);--o>=0;)for(t=(i=e[o]).length;--t>=0;)n[--s]=i[t];return n}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-array/src/min.js":(e,t,n)=>{"use strict";function i(e,t){var n,i,o=e.length,r=-1;if(null==t){for(;++r<o;)if(null!=(n=e[r])&&n>=n)for(i=n;++r<o;)null!=(n=e[r])&&i>n&&(i=n)}else for(;++r<o;)if(null!=(n=t(e[r],r,e))&&n>=n)for(i=n;++r<o;)null!=(n=t(e[r],r,e))&&i>n&&(i=n);return i}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-array/src/number.js":(e,t,n)=>{"use strict";function i(e){return null===e?NaN:+e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-array/src/pairs.js":(e,t,n)=>{"use strict";function i(e,t){null==t&&(t=o);for(var n=0,i=e.length-1,r=e[0],s=new Array(i<0?0:i);n<i;)s[n]=t(r,r=e[++n]);return s}function o(e,t){return[e,t]}n.r(t),n.d(t,{default:()=>i,pair:()=>o})},"./node_modules/d3-array/src/permute.js":(e,t,n)=>{"use strict";function i(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-array/src/quantile.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-array/src/number.js");function o(e,t,n){if(null==n&&(n=i.default),o=e.length){if((t=+t)<=0||o<2)return+n(e[0],0,e);if(t>=1)return+n(e[o-1],o-1,e);var o,r=(o-1)*t,s=Math.floor(r),a=+n(e[s],s,e);return a+(+n(e[s+1],s+1,e)-a)*(r-s)}}},"./node_modules/d3-array/src/range.js":(e,t,n)=>{"use strict";function i(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var i=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),r=new Array(o);++i<o;)r[i]=e+i*n;return r}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-array/src/scan.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-array/src/ascending.js");function o(e,t){if(n=e.length){var n,o,r=0,s=0,a=e[s];for(null==t&&(t=i.default);++r<n;)(t(o=e[r],a)<0||0!==t(a,a))&&(a=o,s=r);return 0===t(a,a)?s:void 0}}},"./node_modules/d3-array/src/shuffle.js":(e,t,n)=>{"use strict";function i(e,t,n){for(var i,o,r=(null==n?e.length:n)-(t=null==t?0:+t);r;)o=Math.random()*r--|0,i=e[r+t],e[r+t]=e[o+t],e[o+t]=i;return e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-array/src/sum.js":(e,t,n)=>{"use strict";function i(e,t){var n,i=e.length,o=-1,r=0;if(null==t)for(;++o<i;)(n=+e[o])&&(r+=n);else for(;++o<i;)(n=+t(e[o],o,e))&&(r+=n);return r}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-array/src/threshold/freedmanDiaconis.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("./node_modules/d3-array/src/array.js"),o=n("./node_modules/d3-array/src/ascending.js"),r=n("./node_modules/d3-array/src/number.js"),s=n("./node_modules/d3-array/src/quantile.js");function a(e,t,n){return e=i.map.call(e,r.default).sort(o.default),Math.ceil((n-t)/(2*((0,s.default)(e,.75)-(0,s.default)(e,.25))*Math.pow(e.length,-1/3)))}},"./node_modules/d3-array/src/threshold/scott.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-array/src/deviation.js");function o(e,t,n){return Math.ceil((n-t)/(3.5*(0,i.default)(e)*Math.pow(e.length,-1/3)))}},"./node_modules/d3-array/src/threshold/sturges.js":(e,t,n)=>{"use strict";function i(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-array/src/ticks.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,tickIncrement:()=>a,tickStep:()=>l});var i=Math.sqrt(50),o=Math.sqrt(10),r=Math.sqrt(2);function s(e,t,n){var i,o,r,s,l=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((i=t<e)&&(o=e,e=t,t=o),0===(s=a(e,t,n))||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),t=Math.floor(t/s),r=new Array(o=Math.ceil(t-e+1));++l<o;)r[l]=(e+l)*s;else for(e=Math.floor(e*s),t=Math.ceil(t*s),r=new Array(o=Math.ceil(e-t+1));++l<o;)r[l]=(e-l)/s;return i&&r.reverse(),r}function a(e,t,n){var s=(t-e)/Math.max(0,n),a=Math.floor(Math.log(s)/Math.LN10),l=s/Math.pow(10,a);return a>=0?(l>=i?10:l>=o?5:l>=r?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(l>=i?10:l>=o?5:l>=r?2:1)}function l(e,t,n){var s=Math.abs(t-e)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),l=s/a;return l>=i?a*=10:l>=o?a*=5:l>=r&&(a*=2),t<e?-a:a}},"./node_modules/d3-array/src/transpose.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-array/src/min.js");function o(e){if(!(s=e.length))return[];for(var t=-1,n=(0,i.default)(e,r),o=new Array(n);++t<n;)for(var s,a=-1,l=o[t]=new Array(s);++a<s;)l[a]=e[a][t];return o}function r(e){return e.length}},"./node_modules/d3-array/src/variance.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-array/src/number.js");function o(e,t){var n,o,r=e.length,s=0,a=-1,l=0,c=0;if(null==t)for(;++a<r;)isNaN(n=(0,i.default)(e[a]))||(c+=(o=n-l)*(n-(l+=o/++s)));else for(;++a<r;)isNaN(n=(0,i.default)(t(e[a],a,e)))||(c+=(o=n-l)*(n-(l+=o/++s)));if(s>1)return c/(s-1)}},"./node_modules/d3-array/src/zip.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-array/src/transpose.js");function o(){return(0,i.default)(arguments)}},"./node_modules/d3-axis/src/array.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{slice:()=>i});var i=Array.prototype.slice},"./node_modules/d3-axis/src/axis.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{axisTop:()=>g,axisRight:()=>v,axisBottom:()=>y,axisLeft:()=>b});var i=n("./node_modules/d3-axis/src/array.js"),o=n("./node_modules/d3-axis/src/identity.js"),r=1,s=2,a=3,l=4,c=1e-6;function d(e){return"translate("+(e+.5)+",0)"}function u(e){return"translate(0,"+(e+.5)+")"}function p(e){return function(t){return+e(t)}}function h(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function m(){return!this.__axis}function f(e,t){var n=[],f=null,g=null,v=6,y=6,b=3,x=e===r||e===l?-1:1,w=e===l||e===s?"x":"y",C=e===r||e===a?d:u;function _(i){var d=null==f?t.ticks?t.ticks.apply(t,n):t.domain():f,u=null==g?t.tickFormat?t.tickFormat.apply(t,n):o.default:g,_=Math.max(v,0)+b,S=t.range(),I=+S[0]+.5,A=+S[S.length-1]+.5,E=(t.bandwidth?h:p)(t.copy()),D=i.selection?i.selection():i,T=D.selectAll(".domain").data([null]),R=D.selectAll(".tick").data(d,t).order(),M=R.exit(),O=R.enter().append("g").attr("class","tick"),P=R.select("line"),F=R.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(O),P=P.merge(O.append("line").attr("stroke","currentColor").attr(w+"2",x*v)),F=F.merge(O.append("text").attr("fill","currentColor").attr(w,x*_).attr("dy",e===r?"0em":e===a?"0.71em":"0.32em")),i!==D&&(T=T.transition(i),R=R.transition(i),P=P.transition(i),F=F.transition(i),M=M.transition(i).attr("opacity",c).attr("transform",function(e){return isFinite(e=E(e))?C(e):this.getAttribute("transform")}),O.attr("opacity",c).attr("transform",function(e){var t=this.parentNode.__axis;return C(t&&isFinite(t=t(e))?t:E(e))})),M.remove(),T.attr("d",e===l||e==s?y?"M"+x*y+","+I+"H0.5V"+A+"H"+x*y:"M0.5,"+I+"V"+A:y?"M"+I+","+x*y+"V0.5H"+A+"V"+x*y:"M"+I+",0.5H"+A),R.attr("opacity",1).attr("transform",function(e){return C(E(e))}),P.attr(w+"2",x*v),F.attr(w,x*_).text(u),D.filter(m).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===s?"start":e===l?"end":"middle"),D.each(function(){this.__axis=E})}return _.scale=function(e){return arguments.length?(t=e,_):t},_.ticks=function(){return n=i.slice.call(arguments),_},_.tickArguments=function(e){return arguments.length?(n=null==e?[]:i.slice.call(e),_):n.slice()},_.tickValues=function(e){return arguments.length?(f=null==e?null:i.slice.call(e),_):f&&f.slice()},_.tickFormat=function(e){return arguments.length?(g=e,_):g},_.tickSize=function(e){return arguments.length?(v=y=+e,_):v},_.tickSizeInner=function(e){return arguments.length?(v=+e,_):v},_.tickSizeOuter=function(e){return arguments.length?(y=+e,_):y},_.tickPadding=function(e){return arguments.length?(b=+e,_):b},_}function g(e){return f(r,e)}function v(e){return f(s,e)}function y(e){return f(a,e)}function b(e){return f(l,e)}},"./node_modules/d3-axis/src/identity.js":(e,t,n)=>{"use strict";function i(e){return e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-axis/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{axisTop:()=>i.axisTop,axisRight:()=>i.axisRight,axisBottom:()=>i.axisBottom,axisLeft:()=>i.axisLeft});var i=n("./node_modules/d3-axis/src/axis.js")},"./node_modules/d3-brush/src/brush.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{brushSelection:()=>R,brushX:()=>M,brushY:()=>O,default:()=>P});var i=n("./node_modules/d3-dispatch/src/index.js"),o=n("./node_modules/d3-drag/src/index.js"),r=n("./node_modules/d3-interpolate/src/index.js"),s=n("./node_modules/d3-selection/src/index.js"),a=n("./node_modules/d3-transition/src/index.js"),l=n("./node_modules/d3-brush/src/constant.js"),c=n("./node_modules/d3-brush/src/event.js"),d=n("./node_modules/d3-brush/src/noevent.js"),u={name:"drag"},p={name:"space"},h={name:"handle"},m={name:"center"};function f(e){return[+e[0],+e[1]]}function g(e){return[f(e[0]),f(e[1])]}var v={name:"x",handles:["w","e"].map(I),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},y={name:"y",handles:["n","s"].map(I),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},b={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(I),input:function(e){return null==e?null:g(e)},output:function(e){return e}},x={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},w={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},C={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},_={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},S={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function I(e){return{type:e}}function A(){return!s.event.ctrlKey&&!s.event.button}function E(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function D(){return navigator.maxTouchPoints||"ontouchstart"in this}function T(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function R(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function M(){return F(v)}function O(){return F(y)}function P(){return F(b)}function F(e){var t,n=E,f=A,b=D,R=!0,M=(0,i.dispatch)("start","brush","end"),O=6;function P(t){var n=t.property("__brush",B).selectAll(".overlay").data([I("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",x.overlay).merge(n).each(function(){var e=T(this).extent;(0,s.select)(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])}),t.selectAll(".selection").data([I("selection")]).enter().append("rect").attr("class","selection").attr("cursor",x.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(e.handles,function(e){return e.type});i.exit().remove(),i.enter().append("rect").attr("class",function(e){return"handle handle--"+e.type}).attr("cursor",function(e){return x[e.type]}),t.each(F).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",j).filter(b).on("touchstart.brush",j).on("touchmove.brush",L).on("touchend.brush touchcancel.brush",V).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function F(){var e=(0,s.select)(this),t=T(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",function(e){return"e"===e.type[e.type.length-1]?t[1][0]-O/2:t[0][0]-O/2}).attr("y",function(e){return"s"===e.type[0]?t[1][1]-O/2:t[0][1]-O/2}).attr("width",function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+O:O}).attr("height",function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+O:O})):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function k(e,t,n){var i=e.__brush.emitter;return!i||n&&i.clean?new N(e,t,n):i}function N(e,t,n){this.that=e,this.args=t,this.state=e.__brush,this.active=0,this.clean=n}function j(){if((!t||s.event.touches)&&f.apply(this,arguments)){var n,i,r,l,c,g,b,I,A,E,D,M,O=this,P=s.event.target.__data__.type,N="selection"===(R&&s.event.metaKey?P="overlay":P)?u:R&&s.event.altKey?m:h,j=e===y?null:_[P],L=e===v?null:S[P],V=T(O),B=V.extent,G=V.selection,z=B[0][0],$=B[0][1],U=B[1][0],H=B[1][1],X=0,W=0,q=j&&L&&R&&s.event.shiftKey,Y=s.event.touches?(M=s.event.changedTouches[0].identifier,function(e){return(0,s.touch)(e,s.event.touches,M)}):s.mouse,Q=Y(O),Z=Q,K=k(O,arguments,!0).beforestart();"overlay"===P?(G&&(A=!0),V.selection=G=[[n=e===y?z:Q[0],r=e===v?$:Q[1]],[c=e===y?U:n,b=e===v?H:r]]):(n=G[0][0],r=G[0][1],c=G[1][0],b=G[1][1]),i=n,l=r,g=c,I=b;var J=(0,s.select)(O).attr("pointer-events","none"),ee=J.selectAll(".overlay").attr("cursor",x[P]);if(s.event.touches)K.moved=ne,K.ended=oe;else{var te=(0,s.select)(s.event.view).on("mousemove.brush",ne,!0).on("mouseup.brush",oe,!0);R&&te.on("keydown.brush",function(){switch(s.event.keyCode){case 16:q=j&&L;break;case 18:N===h&&(j&&(c=g-X*j,n=i+X*j),L&&(b=I-W*L,r=l+W*L),N=m,ie());break;case 32:N!==h&&N!==m||(j<0?c=g-X:j>0&&(n=i-X),L<0?b=I-W:L>0&&(r=l-W),N=p,ee.attr("cursor",x.selection),ie());break;default:return}(0,d.default)()},!0).on("keyup.brush",function(){switch(s.event.keyCode){case 16:q&&(E=D=q=!1,ie());break;case 18:N===m&&(j<0?c=g:j>0&&(n=i),L<0?b=I:L>0&&(r=l),N=h,ie());break;case 32:N===p&&(s.event.altKey?(j&&(c=g-X*j,n=i+X*j),L&&(b=I-W*L,r=l+W*L),N=m):(j<0?c=g:j>0&&(n=i),L<0?b=I:L>0&&(r=l),N=h),ee.attr("cursor",x[P]),ie());break;default:return}(0,d.default)()},!0),(0,o.dragDisable)(s.event.view)}(0,d.nopropagation)(),(0,a.interrupt)(O),F.call(O),K.start()}function ne(){var e=Y(O);!q||E||D||(Math.abs(e[0]-Z[0])>Math.abs(e[1]-Z[1])?D=!0:E=!0),Z=e,A=!0,(0,d.default)(),ie()}function ie(){var e;switch(X=Z[0]-Q[0],W=Z[1]-Q[1],N){case p:case u:j&&(X=Math.max(z-n,Math.min(U-c,X)),i=n+X,g=c+X),L&&(W=Math.max($-r,Math.min(H-b,W)),l=r+W,I=b+W);break;case h:j<0?(X=Math.max(z-n,Math.min(U-n,X)),i=n+X,g=c):j>0&&(X=Math.max(z-c,Math.min(U-c,X)),i=n,g=c+X),L<0?(W=Math.max($-r,Math.min(H-r,W)),l=r+W,I=b):L>0&&(W=Math.max($-b,Math.min(H-b,W)),l=r,I=b+W);break;case m:j&&(i=Math.max(z,Math.min(U,n-X*j)),g=Math.max(z,Math.min(U,c+X*j))),L&&(l=Math.max($,Math.min(H,r-W*L)),I=Math.max($,Math.min(H,b+W*L)))}g<i&&(j*=-1,e=n,n=c,c=e,e=i,i=g,g=e,P in w&&ee.attr("cursor",x[P=w[P]])),I<l&&(L*=-1,e=r,r=b,b=e,e=l,l=I,I=e,P in C&&ee.attr("cursor",x[P=C[P]])),V.selection&&(G=V.selection),E&&(i=G[0][0],g=G[1][0]),D&&(l=G[0][1],I=G[1][1]),G[0][0]===i&&G[0][1]===l&&G[1][0]===g&&G[1][1]===I||(V.selection=[[i,l],[g,I]],F.call(O),K.brush())}function oe(){if((0,d.nopropagation)(),s.event.touches){if(s.event.touches.length)return;t&&clearTimeout(t),t=setTimeout(function(){t=null},500)}else(0,o.dragEnable)(s.event.view,A),te.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);J.attr("pointer-events","all"),ee.attr("cursor",x.overlay),V.selection&&(G=V.selection),function(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}(G)&&(V.selection=null,F.call(O)),K.end()}}function L(){k(this,arguments).moved()}function V(){k(this,arguments).ended()}function B(){var t=this.__brush||{selection:null};return t.extent=g(n.apply(this,arguments)),t.dim=e,t}return P.move=function(t,n){t.selection?t.on("start.brush",function(){k(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){k(this,arguments).end()}).tween("brush",function(){var t=this,i=t.__brush,o=k(t,arguments),s=i.selection,a=e.input("function"==typeof n?n.apply(this,arguments):n,i.extent),l=(0,r.interpolate)(s,a);function c(e){i.selection=1===e&&null===a?null:l(e),F.call(t),o.brush()}return null!==s&&null!==a?c:c(1)}):t.each(function(){var t=this,i=arguments,o=t.__brush,r=e.input("function"==typeof n?n.apply(t,i):n,o.extent),s=k(t,i).beforestart();(0,a.interrupt)(t),o.selection=null===r?null:r,F.call(t),s.start().brush().end()})},P.clear=function(e){P.move(e,null)},N.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){(0,s.customEvent)(new c.default(P,t,e.output(this.state.selection)),M.apply,M,[t,this.that,this.args])}},P.extent=function(e){return arguments.length?(n="function"==typeof e?e:(0,l.default)(g(e)),P):n},P.filter=function(e){return arguments.length?(f="function"==typeof e?e:(0,l.default)(!!e),P):f},P.touchable=function(e){return arguments.length?(b="function"==typeof e?e:(0,l.default)(!!e),P):b},P.handleSize=function(e){return arguments.length?(O=+e,P):O},P.keyModifiers=function(e){return arguments.length?(R=!!e,P):R},P.on=function(){var e=M.on.apply(M,arguments);return e===M?P:e},P}},"./node_modules/d3-brush/src/constant.js":(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-brush/src/event.js":(e,t,n)=>{"use strict";function i(e,t,n){this.target=e,this.type=t,this.selection=n}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-brush/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{brush:()=>i.default,brushX:()=>i.brushX,brushY:()=>i.brushY,brushSelection:()=>i.brushSelection});var i=n("./node_modules/d3-brush/src/brush.js")},"./node_modules/d3-brush/src/noevent.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{nopropagation:()=>o,default:()=>r});var i=n("./node_modules/d3-selection/src/index.js");function o(){i.event.stopImmediatePropagation()}function r(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},"./node_modules/d3-chord/src/array.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{slice:()=>i});var i=Array.prototype.slice},"./node_modules/d3-chord/src/chord.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-array/src/index.js"),o=n("./node_modules/d3-chord/src/math.js");function r(){var e=0,t=null,n=null,r=null;function s(s){var a,l,c,d,u,p,h=s.length,m=[],f=(0,i.range)(h),g=[],v=[],y=v.groups=new Array(h),b=new Array(h*h);for(a=0,u=-1;++u<h;){for(l=0,p=-1;++p<h;)l+=s[u][p];m.push(l),g.push((0,i.range)(h)),a+=l}for(t&&f.sort(function(e,n){return t(m[e],m[n])}),n&&g.forEach(function(e,t){e.sort(function(e,i){return n(s[t][e],s[t][i])})}),d=(a=(0,o.max)(0,o.tau-e*h)/a)?e:o.tau/h,l=0,u=-1;++u<h;){for(c=l,p=-1;++p<h;){var x=f[u],w=g[x][p],C=s[x][w],_=l,S=l+=C*a;b[w*h+x]={index:x,subindex:w,startAngle:_,endAngle:S,value:C}}y[x]={index:x,startAngle:c,endAngle:l,value:m[x]},l+=d}for(u=-1;++u<h;)for(p=u-1;++p<h;){var I=b[p*h+u],A=b[u*h+p];(I.value||A.value)&&v.push(I.value<A.value?{source:A,target:I}:{source:I,target:A})}return r?v.sort(r):v}return s.padAngle=function(t){return arguments.length?(e=(0,o.max)(0,t),s):e},s.sortGroups=function(e){return arguments.length?(t=e,s):t},s.sortSubgroups=function(e){return arguments.length?(n=e,s):n},s.sortChords=function(e){return arguments.length?(null==e?r=null:(t=e,r=function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)})._=e,s):r&&r._;var t},s}},"./node_modules/d3-chord/src/constant.js":(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-chord/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{chord:()=>i.default,ribbon:()=>o.default});var i=n("./node_modules/d3-chord/src/chord.js"),o=n("./node_modules/d3-chord/src/ribbon.js")},"./node_modules/d3-chord/src/math.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{cos:()=>i,sin:()=>o,pi:()=>r,halfPi:()=>s,tau:()=>a,max:()=>l});var i=Math.cos,o=Math.sin,r=Math.PI,s=r/2,a=2*r,l=Math.max},"./node_modules/d3-chord/src/ribbon.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var i=n("./node_modules/d3-chord/src/array.js"),o=n("./node_modules/d3-chord/src/constant.js"),r=n("./node_modules/d3-chord/src/math.js"),s=n("./node_modules/d3-path/src/index.js");function a(e){return e.source}function l(e){return e.target}function c(e){return e.radius}function d(e){return e.startAngle}function u(e){return e.endAngle}function p(){var e=a,t=l,n=c,p=d,h=u,m=null;function f(){var o,a=i.slice.call(arguments),l=e.apply(this,a),c=t.apply(this,a),d=+n.apply(this,(a[0]=l,a)),u=p.apply(this,a)-r.halfPi,f=h.apply(this,a)-r.halfPi,g=d*(0,r.cos)(u),v=d*(0,r.sin)(u),y=+n.apply(this,(a[0]=c,a)),b=p.apply(this,a)-r.halfPi,x=h.apply(this,a)-r.halfPi;if(m||(m=o=(0,s.path)()),m.moveTo(g,v),m.arc(0,0,d,u,f),u===b&&f===x||(m.quadraticCurveTo(0,0,y*(0,r.cos)(b),y*(0,r.sin)(b)),m.arc(0,0,y,b,x)),m.quadraticCurveTo(0,0,g,v),m.closePath(),o)return m=null,o+""||null}return f.radius=function(e){return arguments.length?(n="function"==typeof e?e:(0,o.default)(+e),f):n},f.startAngle=function(e){return arguments.length?(p="function"==typeof e?e:(0,o.default)(+e),f):p},f.endAngle=function(e){return arguments.length?(h="function"==typeof e?e:(0,o.default)(+e),f):h},f.source=function(t){return arguments.length?(e=t,f):e},f.target=function(e){return arguments.length?(t=e,f):t},f.context=function(e){return arguments.length?(m=null==e?null:e,f):m},f}},"./node_modules/d3-collection/src/entries.js":(e,t,n)=>{"use strict";function i(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-collection/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{nest:()=>i.default,set:()=>o.default,map:()=>r.default,keys:()=>s.default,values:()=>a.default,entries:()=>l.default});var i=n("./node_modules/d3-collection/src/nest.js"),o=n("./node_modules/d3-collection/src/set.js"),r=n("./node_modules/d3-collection/src/map.js"),s=n("./node_modules/d3-collection/src/keys.js"),a=n("./node_modules/d3-collection/src/values.js"),l=n("./node_modules/d3-collection/src/entries.js")},"./node_modules/d3-collection/src/keys.js":(e,t,n)=>{"use strict";function i(e){var t=[];for(var n in e)t.push(n);return t}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-collection/src/map.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{prefix:()=>i,default:()=>s});var i="$";function o(){}function r(e,t){var n=new o;if(e instanceof o)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var i,r=-1,s=e.length;if(null==t)for(;++r<s;)n.set(r,e[r]);else for(;++r<s;)n.set(t(i=e[r],r,e),i)}else if(e)for(var a in e)n.set(a,e[a]);return n}o.prototype=r.prototype={constructor:o,has:function(e){return i+e in this},get:function(e){return this[i+e]},set:function(e,t){return this[i+e]=t,this},remove:function(e){var t=i+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===i&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===i&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===i&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===i&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===i&&++e;return e},empty:function(){for(var e in this)if(e[0]===i)return!1;return!0},each:function(e){for(var t in this)t[0]===i&&e(this[t],t.slice(1),this)}};const s=r},"./node_modules/d3-collection/src/nest.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-collection/src/map.js");function o(){var e,t,n,o=[],c=[];function d(n,r,s,a){if(r>=o.length)return null!=e&&n.sort(e),null!=t?t(n):n;for(var l,c,u,p=-1,h=n.length,m=o[r++],f=(0,i.default)(),g=s();++p<h;)(u=f.get(l=m(c=n[p])+""))?u.push(c):f.set(l,[c]);return f.each(function(e,t){a(g,t,d(e,r,s,a))}),g}function u(e,n){if(++n>o.length)return e;var i,r=c[n-1];return null!=t&&n>=o.length?i=e.entries():(i=[],e.each(function(e,t){i.push({key:t,values:u(e,n)})})),null!=r?i.sort(function(e,t){return r(e.key,t.key)}):i}return n={object:function(e){return d(e,0,r,s)},map:function(e){return d(e,0,a,l)},entries:function(e){return u(d(e,0,a,l),0)},key:function(e){return o.push(e),n},sortKeys:function(e){return c[o.length-1]=e,n},sortValues:function(t){return e=t,n},rollup:function(e){return t=e,n}}}function r(){return{}}function s(e,t,n){e[t]=n}function a(){return(0,i.default)()}function l(e,t,n){e.set(t,n)}},"./node_modules/d3-collection/src/set.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("./node_modules/d3-collection/src/map.js");function o(){}var r=i.default.prototype;function s(e,t){var n=new o;if(e instanceof o)e.each(function(e){n.add(e)});else if(e){var i=-1,r=e.length;if(null==t)for(;++i<r;)n.add(e[i]);else for(;++i<r;)n.add(t(e[i],i,e))}return n}o.prototype=s.prototype={constructor:o,has:r.has,add:function(e){return e+="",this[i.prefix+e]=e,this},remove:r.remove,clear:r.clear,values:r.keys,size:r.size,empty:r.empty,each:r.each};const a=s},"./node_modules/d3-collection/src/values.js":(e,t,n)=>{"use strict";function i(e){var t=[];for(var n in e)t.push(e[n]);return t}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-contour/src/area.js":(e,t,n)=>{"use strict";function i(e){for(var t=0,n=e.length,i=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)i+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return i}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-contour/src/array.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{slice:()=>i});var i=Array.prototype.slice},"./node_modules/d3-contour/src/ascending.js":(e,t,n)=>{"use strict";function i(e,t){return e-t}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-contour/src/blur.js":(e,t,n)=>{"use strict";function i(e,t,n){for(var i=e.width,o=e.height,r=1+(n<<1),s=0;s<o;++s)for(var a=0,l=0;a<i+n;++a)a<i&&(l+=e.data[a+s*i]),a>=n&&(a>=r&&(l-=e.data[a-r+s*i]),t.data[a-n+s*i]=l/Math.min(a+1,i-1+r-a,r))}function o(e,t,n){for(var i=e.width,o=e.height,r=1+(n<<1),s=0;s<i;++s)for(var a=0,l=0;a<o+n;++a)a<o&&(l+=e.data[s+a*i]),a>=n&&(a>=r&&(l-=e.data[s+(a-r)*i]),t.data[s+(a-n)*i]=l/Math.min(a+1,o-1+r-a,r))}n.r(t),n.d(t,{blurX:()=>i,blurY:()=>o})},"./node_modules/d3-contour/src/constant.js":(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-contour/src/contains.js":(e,t,n)=>{"use strict";function i(e,t){for(var n,i=-1,r=t.length;++i<r;)if(n=o(e,t[i]))return n;return 0}function o(e,t){for(var n=t[0],i=t[1],o=-1,s=0,a=e.length,l=a-1;s<a;l=s++){var c=e[s],d=c[0],u=c[1],p=e[l],h=p[0],m=p[1];if(r(c,p,t))return 0;u>i!=m>i&&n<(h-d)*(i-u)/(m-u)+d&&(o=-o)}return o}function r(e,t,n){var i,o,r,s;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(o=e[i=+(e[0]===t[0])],r=n[i],s=t[i],o<=r&&r<=s||s<=r&&r<=o)}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-contour/src/contours.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i=n("./node_modules/d3-array/src/index.js"),o=n("./node_modules/d3-contour/src/array.js"),r=n("./node_modules/d3-contour/src/ascending.js"),s=n("./node_modules/d3-contour/src/area.js"),a=n("./node_modules/d3-contour/src/constant.js"),l=n("./node_modules/d3-contour/src/contains.js"),c=n("./node_modules/d3-contour/src/noop.js"),d=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function u(){var e=1,t=1,n=i.thresholdSturges,u=f;function p(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(r.default);else{var o=(0,i.extent)(e),s=o[0],a=o[1];t=(0,i.tickStep)(s,a,t),t=(0,i.range)(Math.floor(s/t)*t,Math.floor(a/t)*t,t)}return t.map(function(t){return h(e,t)})}function h(n,i){var o=[],r=[];return function(n,i,o){var r,s,a,l,c,u,p=new Array,h=new Array;r=s=-1,l=n[0]>=i,d[l<<1].forEach(f);for(;++r<e-1;)a=l,l=n[r+1]>=i,d[a|l<<1].forEach(f);d[l<<0].forEach(f);for(;++s<t-1;){for(r=-1,l=n[s*e+e]>=i,c=n[s*e]>=i,d[l<<1|c<<2].forEach(f);++r<e-1;)a=l,l=n[s*e+e+r+1]>=i,u=c,c=n[s*e+r+1]>=i,d[a|l<<1|c<<2|u<<3].forEach(f);d[l|c<<3].forEach(f)}r=-1,c=n[s*e]>=i,d[c<<2].forEach(f);for(;++r<e-1;)u=c,c=n[s*e+r+1]>=i,d[c<<2|u<<3].forEach(f);function f(e){var t,n,i=[e[0][0]+r,e[0][1]+s],a=[e[1][0]+r,e[1][1]+s],l=m(i),c=m(a);(t=h[l])?(n=p[c])?(delete h[t.end],delete p[n.start],t===n?(t.ring.push(a),o(t.ring)):p[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(a),h[t.end=c]=t):(t=p[c])?(n=h[l])?(delete p[t.start],delete h[n.end],t===n?(t.ring.push(a),o(t.ring)):p[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete p[t.start],t.ring.unshift(i),p[t.start=l]=t):p[l]=h[c]={start:l,end:c,ring:[i,a]}}d[c<<3].forEach(f)}(n,i,function(e){u(e,n,i),(0,s.default)(e)>0?o.push([e]):r.push(e)}),r.forEach(function(e){for(var t,n=0,i=o.length;n<i;++n)if(-1!==(0,l.default)((t=o[n])[0],e))return void t.push(e)}),{type:"MultiPolygon",value:i,coordinates:o}}function m(t){return 2*t[0]+t[1]*(e+1)*4}function f(n,i,o){n.forEach(function(n){var r,s=n[0],a=n[1],l=0|s,c=0|a,d=i[c*e+l];s>0&&s<e&&l===s&&(r=i[c*e+l-1],n[0]=s+(o-r)/(d-r)-.5),a>0&&a<t&&c===a&&(r=i[(c-1)*e+l],n[1]=a+(o-r)/(d-r)-.5)})}return p.contour=h,p.size=function(n){if(!arguments.length)return[e,t];var i=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(i>0&&o>0))throw new Error("invalid size");return e=i,t=o,p},p.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?(0,a.default)(o.slice.call(e)):(0,a.default)(e),p):n},p.smooth=function(e){return arguments.length?(u=e?f:c.default,p):u===f},p}},"./node_modules/d3-contour/src/density.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i=n("./node_modules/d3-array/src/index.js"),o=n("./node_modules/d3-contour/src/array.js"),r=n("./node_modules/d3-contour/src/blur.js"),s=n("./node_modules/d3-contour/src/constant.js"),a=n("./node_modules/d3-contour/src/contours.js");function l(e){return e[0]}function c(e){return e[1]}function d(){return 1}function u(){var e=l,t=c,n=d,u=960,p=500,h=20,m=2,f=3*h,g=u+2*f>>m,v=p+2*f>>m,y=(0,s.default)(20);function b(o){var s=new Float32Array(g*v),l=new Float32Array(g*v);o.forEach(function(i,o,r){var a=+e(i,o,r)+f>>m,l=+t(i,o,r)+f>>m,c=+n(i,o,r);a>=0&&a<g&&l>=0&&l<v&&(s[a+l*g]+=c)}),(0,r.blurX)({width:g,height:v,data:s},{width:g,height:v,data:l},h>>m),(0,r.blurY)({width:g,height:v,data:l},{width:g,height:v,data:s},h>>m),(0,r.blurX)({width:g,height:v,data:s},{width:g,height:v,data:l},h>>m),(0,r.blurY)({width:g,height:v,data:l},{width:g,height:v,data:s},h>>m),(0,r.blurX)({width:g,height:v,data:s},{width:g,height:v,data:l},h>>m),(0,r.blurY)({width:g,height:v,data:l},{width:g,height:v,data:s},h>>m);var c=y(s);if(!Array.isArray(c)){var d=(0,i.max)(s);c=(0,i.tickStep)(0,d,c),(c=(0,i.range)(0,Math.floor(d/c)*c,c)).shift()}return(0,a.default)().thresholds(c).size([g,v])(s).map(x)}function x(e){return e.value*=Math.pow(2,-2*m),e.coordinates.forEach(w),e}function w(e){e.forEach(C)}function C(e){e.forEach(_)}function _(e){e[0]=e[0]*Math.pow(2,m)-f,e[1]=e[1]*Math.pow(2,m)-f}function S(){return g=u+2*(f=3*h)>>m,v=p+2*f>>m,b}return b.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,s.default)(+t),b):e},b.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,s.default)(+e),b):t},b.weight=function(e){return arguments.length?(n="function"==typeof e?e:(0,s.default)(+e),b):n},b.size=function(e){if(!arguments.length)return[u,p];var t=Math.ceil(e[0]),n=Math.ceil(e[1]);if(!(t>=0||t>=0))throw new Error("invalid size");return u=t,p=n,S()},b.cellSize=function(e){if(!arguments.length)return 1<<m;if(!((e=+e)>=1))throw new Error("invalid cell size");return m=Math.floor(Math.log(e)/Math.LN2),S()},b.thresholds=function(e){return arguments.length?(y="function"==typeof e?e:Array.isArray(e)?(0,s.default)(o.slice.call(e)):(0,s.default)(e),b):y},b.bandwidth=function(e){if(!arguments.length)return Math.sqrt(h*(h+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return h=Math.round((Math.sqrt(4*e*e+1)-1)/2),S()},b}},"./node_modules/d3-contour/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{contours:()=>i.default,contourDensity:()=>o.default});var i=n("./node_modules/d3-contour/src/contours.js"),o=n("./node_modules/d3-contour/src/density.js")},"./node_modules/d3-contour/src/noop.js":(e,t,n)=>{"use strict";function i(){}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-dispatch/src/dispatch.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i={value:function(){}};function o(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new r(i)}function r(e){this._=e}function s(e,t){for(var n,i=0,o=e.length;i<o;++i)if((n=e[i]).name===t)return n.value}function a(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=i,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=n&&e.push({name:t,value:n}),e}r.prototype=o.prototype={constructor:r,on:function(e,t){var n,i,o=this._,r=(i=o,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!i.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),l=-1,c=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++l<c;)if(n=(e=r[l]).type)o[n]=a(o[n],e.name,t);else if(null==t)for(n in o)o[n]=a(o[n],e.name,null);return this}for(;++l<c;)if((n=(e=r[l]).type)&&(n=s(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new r(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,o=new Array(n),r=0;r<n;++r)o[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,n=(i=this._[e]).length;r<n;++r)i[r].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)}};const l=o},"./node_modules/d3-dispatch/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{dispatch:()=>i.default});var i=n("./node_modules/d3-dispatch/src/dispatch.js")},"./node_modules/d3-drag/src/constant.js":(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-drag/src/drag.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var i=n("./node_modules/d3-dispatch/src/index.js"),o=n("./node_modules/d3-selection/src/index.js"),r=n("./node_modules/d3-drag/src/nodrag.js"),s=n("./node_modules/d3-drag/src/noevent.js"),a=n("./node_modules/d3-drag/src/constant.js"),l=n("./node_modules/d3-drag/src/event.js");function c(){return!o.event.ctrlKey&&!o.event.button}function d(){return this.parentNode}function u(e){return null==e?{x:o.event.x,y:o.event.y}:e}function p(){return navigator.maxTouchPoints||"ontouchstart"in this}function h(){var e,t,n,h,m=c,f=d,g=u,v=p,y={},b=(0,i.dispatch)("start","drag","end"),x=0,w=0;function C(e){e.on("mousedown.drag",_).filter(v).on("touchstart.drag",A).on("touchmove.drag",E).on("touchend.drag touchcancel.drag",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(){if(!h&&m.apply(this,arguments)){var i=T("mouse",f.apply(this,arguments),o.mouse,this,arguments);i&&((0,o.select)(o.event.view).on("mousemove.drag",S,!0).on("mouseup.drag",I,!0),(0,r.default)(o.event.view),(0,s.nopropagation)(),n=!1,e=o.event.clientX,t=o.event.clientY,i("start"))}}function S(){if((0,s.default)(),!n){var i=o.event.clientX-e,r=o.event.clientY-t;n=i*i+r*r>w}y.mouse("drag")}function I(){(0,o.select)(o.event.view).on("mousemove.drag mouseup.drag",null),(0,r.yesdrag)(o.event.view,n),(0,s.default)(),y.mouse("end")}function A(){if(m.apply(this,arguments)){var e,t,n=o.event.changedTouches,i=f.apply(this,arguments),r=n.length;for(e=0;e<r;++e)(t=T(n[e].identifier,i,o.touch,this,arguments))&&((0,s.nopropagation)(),t("start"))}}function E(){var e,t,n=o.event.changedTouches,i=n.length;for(e=0;e<i;++e)(t=y[n[e].identifier])&&((0,s.default)(),t("drag"))}function D(){var e,t,n=o.event.changedTouches,i=n.length;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),e=0;e<i;++e)(t=y[n[e].identifier])&&((0,s.nopropagation)(),t("end"))}function T(e,t,n,i,r){var s,a,c,d=n(t,e),u=b.copy();if((0,o.customEvent)(new l.default(C,"beforestart",s,e,x,d[0],d[1],0,0,u),function(){return null!=(o.event.subject=s=g.apply(i,r))&&(a=s.x-d[0]||0,c=s.y-d[1]||0,!0)}))return function p(h){var m,f=d;switch(h){case"start":y[e]=p,m=x++;break;case"end":delete y[e],--x;case"drag":d=n(t,e),m=x}(0,o.customEvent)(new l.default(C,h,s,e,m,d[0]+a,d[1]+c,d[0]-f[0],d[1]-f[1],u),u.apply,u,[h,i,r])}}return C.filter=function(e){return arguments.length?(m="function"==typeof e?e:(0,a.default)(!!e),C):m},C.container=function(e){return arguments.length?(f="function"==typeof e?e:(0,a.default)(e),C):f},C.subject=function(e){return arguments.length?(g="function"==typeof e?e:(0,a.default)(e),C):g},C.touchable=function(e){return arguments.length?(v="function"==typeof e?e:(0,a.default)(!!e),C):v},C.on=function(){var e=b.on.apply(b,arguments);return e===b?C:e},C.clickDistance=function(e){return arguments.length?(w=(e=+e)*e,C):Math.sqrt(w)},C}},"./node_modules/d3-drag/src/event.js":(e,t,n)=>{"use strict";function i(e,t,n,i,o,r,s,a,l,c){this.target=e,this.type=t,this.subject=n,this.identifier=i,this.active=o,this.x=r,this.y=s,this.dx=a,this.dy=l,this._=c}n.r(t),n.d(t,{default:()=>i}),i.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e}},"./node_modules/d3-drag/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{drag:()=>i.default,dragDisable:()=>o.default,dragEnable:()=>o.yesdrag});var i=n("./node_modules/d3-drag/src/drag.js"),o=n("./node_modules/d3-drag/src/nodrag.js")},"./node_modules/d3-drag/src/nodrag.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r,yesdrag:()=>s});var i=n("./node_modules/d3-selection/src/index.js"),o=n("./node_modules/d3-drag/src/noevent.js");function r(e){var t=e.document.documentElement,n=(0,i.select)(e).on("dragstart.drag",o.default,!0);"onselectstart"in t?n.on("selectstart.drag",o.default,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function s(e,t){var n=e.document.documentElement,r=(0,i.select)(e).on("dragstart.drag",null);t&&(r.on("click.drag",o.default,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}},"./node_modules/d3-drag/src/noevent.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{nopropagation:()=>o,default:()=>r});var i=n("./node_modules/d3-selection/src/index.js");function o(){i.event.stopImmediatePropagation()}function r(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},"./node_modules/d3-dsv/src/autoType.js":(e,t,n)=>{"use strict";function i(e){for(var t in e){var n,i,r=e[t].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!(i=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;o&&i[4]&&!i[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r)}else r=n;else r=null;e[t]=r}return e}n.r(t),n.d(t,{default:()=>i});var o=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours()},"./node_modules/d3-dsv/src/csv.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{csvParse:()=>o,csvParseRows:()=>r,csvFormat:()=>s,csvFormatBody:()=>a,csvFormatRows:()=>l,csvFormatRow:()=>c,csvFormatValue:()=>d});var i=(0,n("./node_modules/d3-dsv/src/dsv.js").default)(","),o=i.parse,r=i.parseRows,s=i.format,a=i.formatBody,l=i.formatRows,c=i.formatRow,d=i.formatValue},"./node_modules/d3-dsv/src/dsv.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var i={},o={},r=34,s=10,a=13;function l(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function c(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var i in e)i in t||n.push(t[i]=i)}),n}function d(e,t){var n=e+"",i=n.length;return i<t?new Array(t-i+1).join(0)+n:n}function u(e){var t,n=e.getUTCHours(),i=e.getUTCMinutes(),o=e.getUTCSeconds(),r=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+d(-t,6):t>9999?"+"+d(t,6):d(t,4))+"-"+d(e.getUTCMonth()+1,2)+"-"+d(e.getUTCDate(),2)+(r?"T"+d(n,2)+":"+d(i,2)+":"+d(o,2)+"."+d(r,3)+"Z":o?"T"+d(n,2)+":"+d(i,2)+":"+d(o,2)+"Z":i||n?"T"+d(n,2)+":"+d(i,2)+"Z":"")}function p(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function d(e,t){var l,c=[],d=e.length,u=0,p=0,h=d<=0,m=!1;function f(){if(h)return o;if(m)return m=!1,i;var t,l,c=u;if(e.charCodeAt(c)===r){for(;u++<d&&e.charCodeAt(u)!==r||e.charCodeAt(++u)===r;);return(t=u)>=d?h=!0:(l=e.charCodeAt(u++))===s?m=!0:l===a&&(m=!0,e.charCodeAt(u)===s&&++u),e.slice(c+1,t-1).replace(/""/g,'"')}for(;u<d;){if((l=e.charCodeAt(t=u++))===s)m=!0;else if(l===a)m=!0,e.charCodeAt(u)===s&&++u;else if(l!==n)continue;return e.slice(c,t)}return h=!0,e.slice(c,d)}for(e.charCodeAt(d-1)===s&&--d,e.charCodeAt(d-1)===a&&--d;(l=f())!==o;){for(var g=[];l!==i&&l!==o;)g.push(l),l=f();t&&null==(g=t(g,p++))||c.push(g)}return c}function p(t,n){return t.map(function(t){return n.map(function(e){return m(t[e])}).join(e)})}function h(t){return t.map(m).join(e)}function m(e){return null==e?"":e instanceof Date?u(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=d(e,function(e,o){if(n)return n(e,o-1);i=e,n=t?function(e,t){var n=l(e);return function(i,o){return t(n(i),o,e)}}(e,t):l(e)});return o.columns=i||[],o},parseRows:d,format:function(t,n){return null==n&&(n=c(t)),[n.map(m).join(e)].concat(p(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=c(e)),p(e,t).join("\n")},formatRows:function(e){return e.map(h).join("\n")},formatRow:h,formatValue:m}}},"./node_modules/d3-dsv/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{dsvFormat:()=>i.default,csvParse:()=>o.csvParse,csvParseRows:()=>o.csvParseRows,csvFormat:()=>o.csvFormat,csvFormatBody:()=>o.csvFormatBody,csvFormatRows:()=>o.csvFormatRows,csvFormatRow:()=>o.csvFormatRow,csvFormatValue:()=>o.csvFormatValue,tsvParse:()=>r.tsvParse,tsvParseRows:()=>r.tsvParseRows,tsvFormat:()=>r.tsvFormat,tsvFormatBody:()=>r.tsvFormatBody,tsvFormatRows:()=>r.tsvFormatRows,tsvFormatRow:()=>r.tsvFormatRow,tsvFormatValue:()=>r.tsvFormatValue,autoType:()=>s.default});var i=n("./node_modules/d3-dsv/src/dsv.js"),o=n("./node_modules/d3-dsv/src/csv.js"),r=n("./node_modules/d3-dsv/src/tsv.js"),s=n("./node_modules/d3-dsv/src/autoType.js")},"./node_modules/d3-dsv/src/tsv.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{tsvParse:()=>o,tsvParseRows:()=>r,tsvFormat:()=>s,tsvFormatBody:()=>a,tsvFormatRows:()=>l,tsvFormatRow:()=>c,tsvFormatValue:()=>d});var i=(0,n("./node_modules/d3-dsv/src/dsv.js").default)("\t"),o=i.parse,r=i.parseRows,s=i.format,a=i.formatBody,l=i.formatRows,c=i.formatRow,d=i.formatValue},"./node_modules/d3-ease/src/back.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{backIn:()=>o,backOut:()=>r,backInOut:()=>s});var i=1.70158,o=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(i),r=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(i),s=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(i)},"./node_modules/d3-ease/src/bounce.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{bounceIn:()=>h,bounceOut:()=>m,bounceInOut:()=>f});var i=4/11,o=6/11,r=8/11,s=3/4,a=9/11,l=10/11,c=15/16,d=21/22,u=63/64,p=1/i/i;function h(e){return 1-m(1-e)}function m(e){return(e=+e)<i?p*e*e:e<r?p*(e-=o)*e+s:e<l?p*(e-=a)*e+c:p*(e-=d)*e+u}function f(e){return((e*=2)<=1?1-m(1-e):m(e-1)+1)/2}},"./node_modules/d3-ease/src/circle.js":(e,t,n)=>{"use strict";function i(e){return 1-Math.sqrt(1-e*e)}function o(e){return Math.sqrt(1- --e*e)}function r(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}n.r(t),n.d(t,{circleIn:()=>i,circleOut:()=>o,circleInOut:()=>r})},"./node_modules/d3-ease/src/cubic.js":(e,t,n)=>{"use strict";function i(e){return e*e*e}function o(e){return--e*e*e+1}function r(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}n.r(t),n.d(t,{cubicIn:()=>i,cubicOut:()=>o,cubicInOut:()=>r})},"./node_modules/d3-ease/src/elastic.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{elasticIn:()=>r,elasticOut:()=>s,elasticInOut:()=>a});var i=n("./node_modules/d3-ease/src/math.js"),o=2*Math.PI,r=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=o);function s(e){return t*(0,i.tpmt)(- --e)*Math.sin((r-e)/n)}return s.amplitude=function(t){return e(t,n*o)},s.period=function(n){return e(t,n)},s}(1,.3),s=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=o);function s(e){return 1-t*(0,i.tpmt)(e=+e)*Math.sin((e+r)/n)}return s.amplitude=function(t){return e(t,n*o)},s.period=function(n){return e(t,n)},s}(1,.3),a=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=o);function s(e){return((e=2*e-1)<0?t*(0,i.tpmt)(-e)*Math.sin((r-e)/n):2-t*(0,i.tpmt)(e)*Math.sin((r+e)/n))/2}return s.amplitude=function(t){return e(t,n*o)},s.period=function(n){return e(t,n)},s}(1,.3)},"./node_modules/d3-ease/src/exp.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{expIn:()=>o,expOut:()=>r,expInOut:()=>s});var i=n("./node_modules/d3-ease/src/math.js");function o(e){return(0,i.tpmt)(1-+e)}function r(e){return 1-(0,i.tpmt)(e)}function s(e){return((e*=2)<=1?(0,i.tpmt)(1-e):2-(0,i.tpmt)(e-1))/2}},"./node_modules/d3-ease/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{easeLinear:()=>i.linear,easeQuad:()=>o.quadInOut,easeQuadIn:()=>o.quadIn,easeQuadOut:()=>o.quadOut,easeQuadInOut:()=>o.quadInOut,easeCubic:()=>r.cubicInOut,easeCubicIn:()=>r.cubicIn,easeCubicOut:()=>r.cubicOut,easeCubicInOut:()=>r.cubicInOut,easePoly:()=>s.polyInOut,easePolyIn:()=>s.polyIn,easePolyOut:()=>s.polyOut,easePolyInOut:()=>s.polyInOut,easeSin:()=>a.sinInOut,easeSinIn:()=>a.sinIn,easeSinOut:()=>a.sinOut,easeSinInOut:()=>a.sinInOut,easeExp:()=>l.expInOut,easeExpIn:()=>l.expIn,easeExpOut:()=>l.expOut,easeExpInOut:()=>l.expInOut,easeCircle:()=>c.circleInOut,easeCircleIn:()=>c.circleIn,easeCircleOut:()=>c.circleOut,easeCircleInOut:()=>c.circleInOut,easeBounce:()=>d.bounceOut,easeBounceIn:()=>d.bounceIn,easeBounceOut:()=>d.bounceOut,easeBounceInOut:()=>d.bounceInOut,easeBack:()=>u.backInOut,easeBackIn:()=>u.backIn,easeBackOut:()=>u.backOut,easeBackInOut:()=>u.backInOut,easeElastic:()=>p.elasticOut,easeElasticIn:()=>p.elasticIn,easeElasticOut:()=>p.elasticOut,easeElasticInOut:()=>p.elasticInOut});var i=n("./node_modules/d3-ease/src/linear.js"),o=n("./node_modules/d3-ease/src/quad.js"),r=n("./node_modules/d3-ease/src/cubic.js"),s=n("./node_modules/d3-ease/src/poly.js"),a=n("./node_modules/d3-ease/src/sin.js"),l=n("./node_modules/d3-ease/src/exp.js"),c=n("./node_modules/d3-ease/src/circle.js"),d=n("./node_modules/d3-ease/src/bounce.js"),u=n("./node_modules/d3-ease/src/back.js"),p=n("./node_modules/d3-ease/src/elastic.js")},"./node_modules/d3-ease/src/linear.js":(e,t,n)=>{"use strict";function i(e){return+e}n.r(t),n.d(t,{linear:()=>i})},"./node_modules/d3-ease/src/math.js":(e,t,n)=>{"use strict";function i(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}n.r(t),n.d(t,{tpmt:()=>i})},"./node_modules/d3-ease/src/poly.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{polyIn:()=>i,polyOut:()=>o,polyInOut:()=>r});var i=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),o=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),r=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3)},"./node_modules/d3-ease/src/quad.js":(e,t,n)=>{"use strict";function i(e){return e*e}function o(e){return e*(2-e)}function r(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}n.r(t),n.d(t,{quadIn:()=>i,quadOut:()=>o,quadInOut:()=>r})},"./node_modules/d3-ease/src/sin.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{sinIn:()=>r,sinOut:()=>s,sinInOut:()=>a});var i=Math.PI,o=i/2;function r(e){return 1==+e?1:1-Math.cos(e*o)}function s(e){return Math.sin(e*o)}function a(e){return(1-Math.cos(i*e))/2}},"./node_modules/d3-fetch/src/blob.js":(e,t,n)=>{"use strict";function i(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function o(e,t){return fetch(e,t).then(i)}n.r(t),n.d(t,{default:()=>o})},"./node_modules/d3-fetch/src/buffer.js":(e,t,n)=>{"use strict";function i(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function o(e,t){return fetch(e,t).then(i)}n.r(t),n.d(t,{default:()=>o})},"./node_modules/d3-fetch/src/dsv.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,csv:()=>a,tsv:()=>l});var i=n("./node_modules/d3-dsv/src/index.js"),o=n("./node_modules/d3-fetch/src/text.js");function r(e){return function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),(0,o.default)(t,n).then(function(t){return e(t,i)})}}function s(e,t,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var s=(0,i.dsvFormat)(e);return(0,o.default)(t,n).then(function(e){return s.parse(e,r)})}var a=r(i.csvParse),l=r(i.tsvParse)},"./node_modules/d3-fetch/src/image.js":(e,t,n)=>{"use strict";function i(e,t){return new Promise(function(n,i){var o=new Image;for(var r in t)o[r]=t[r];o.onerror=i,o.onload=function(){n(o)},o.src=e})}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-fetch/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{blob:()=>i.default,buffer:()=>o.default,dsv:()=>r.default,csv:()=>r.csv,tsv:()=>r.tsv,image:()=>s.default,json:()=>a.default,text:()=>l.default,xml:()=>c.default,html:()=>c.html,svg:()=>c.svg});var i=n("./node_modules/d3-fetch/src/blob.js"),o=n("./node_modules/d3-fetch/src/buffer.js"),r=n("./node_modules/d3-fetch/src/dsv.js"),s=n("./node_modules/d3-fetch/src/image.js"),a=n("./node_modules/d3-fetch/src/json.js"),l=n("./node_modules/d3-fetch/src/text.js"),c=n("./node_modules/d3-fetch/src/xml.js")},"./node_modules/d3-fetch/src/json.js":(e,t,n)=>{"use strict";function i(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function o(e,t){return fetch(e,t).then(i)}n.r(t),n.d(t,{default:()=>o})},"./node_modules/d3-fetch/src/text.js":(e,t,n)=>{"use strict";function i(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function o(e,t){return fetch(e,t).then(i)}n.r(t),n.d(t,{default:()=>o})},"./node_modules/d3-fetch/src/xml.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r,html:()=>s,svg:()=>a});var i=n("./node_modules/d3-fetch/src/text.js");function o(e){return function(t,n){return(0,i.default)(t,n).then(function(t){return(new DOMParser).parseFromString(t,e)})}}const r=o("application/xml");var s=o("text/html"),a=o("image/svg+xml")},"./node_modules/d3-force/src/center.js":(e,t,n)=>{"use strict";function i(e,t){var n;function i(){var i,o,r=n.length,s=0,a=0;for(i=0;i<r;++i)s+=(o=n[i]).x,a+=o.y;for(s=s/r-e,a=a/r-t,i=0;i<r;++i)(o=n[i]).x-=s,o.y-=a}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-force/src/collide.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n("./node_modules/d3-force/src/constant.js"),o=n("./node_modules/d3-force/src/jiggle.js"),r=n("./node_modules/d3-quadtree/src/index.js");function s(e){return e.x+e.vx}function a(e){return e.y+e.vy}function l(e){var t,n,l=1,c=1;function d(){for(var e,i,d,p,h,m,f,g=t.length,v=0;v<c;++v)for(i=(0,r.quadtree)(t,s,a).visitAfter(u),e=0;e<g;++e)d=t[e],m=n[d.index],f=m*m,p=d.x+d.vx,h=d.y+d.vy,i.visit(y);function y(e,t,n,i,r){var s=e.data,a=e.r,c=m+a;if(!s)return t>p+c||i<p-c||n>h+c||r<h-c;if(s.index>d.index){var u=p-s.x-s.vx,g=h-s.y-s.vy,v=u*u+g*g;v<c*c&&(0===u&&(v+=(u=(0,o.default)())*u),0===g&&(v+=(g=(0,o.default)())*g),v=(c-(v=Math.sqrt(v)))/v*l,d.vx+=(u*=v)*(c=(a*=a)/(f+a)),d.vy+=(g*=v)*c,s.vx-=u*(c=1-c),s.vy-=g*c)}}}function u(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function p(){if(t){var i,o,r=t.length;for(n=new Array(r),i=0;i<r;++i)o=t[i],n[o.index]=+e(o,i,t)}}return"function"!=typeof e&&(e=(0,i.default)(null==e?1:+e)),d.initialize=function(e){t=e,p()},d.iterations=function(e){return arguments.length?(c=+e,d):c},d.strength=function(e){return arguments.length?(l=+e,d):l},d.radius=function(t){return arguments.length?(e="function"==typeof t?t:(0,i.default)(+t),p(),d):e},d}},"./node_modules/d3-force/src/constant.js":(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-force/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{forceCenter:()=>i.default,forceCollide:()=>o.default,forceLink:()=>r.default,forceManyBody:()=>s.default,forceRadial:()=>a.default,forceSimulation:()=>l.default,forceX:()=>c.default,forceY:()=>d.default});var i=n("./node_modules/d3-force/src/center.js"),o=n("./node_modules/d3-force/src/collide.js"),r=n("./node_modules/d3-force/src/link.js"),s=n("./node_modules/d3-force/src/manyBody.js"),a=n("./node_modules/d3-force/src/radial.js"),l=n("./node_modules/d3-force/src/simulation.js"),c=n("./node_modules/d3-force/src/x.js"),d=n("./node_modules/d3-force/src/y.js")},"./node_modules/d3-force/src/jiggle.js":(e,t,n)=>{"use strict";function i(){return 1e-6*(Math.random()-.5)}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-force/src/link.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n("./node_modules/d3-force/src/constant.js"),o=n("./node_modules/d3-force/src/jiggle.js"),r=n("./node_modules/d3-collection/src/index.js");function s(e){return e.index}function a(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function l(e){var t,n,l,c,d,u=s,p=function(e){return 1/Math.min(c[e.source.index],c[e.target.index])},h=(0,i.default)(30),m=1;function f(i){for(var r=0,s=e.length;r<m;++r)for(var a,l,c,u,p,h,f,g=0;g<s;++g)l=(a=e[g]).source,u=(c=a.target).x+c.vx-l.x-l.vx||(0,o.default)(),p=c.y+c.vy-l.y-l.vy||(0,o.default)(),u*=h=((h=Math.sqrt(u*u+p*p))-n[g])/h*i*t[g],p*=h,c.vx-=u*(f=d[g]),c.vy-=p*f,l.vx+=u*(f=1-f),l.vy+=p*f}function g(){if(l){var i,o,s=l.length,p=e.length,h=(0,r.map)(l,u);for(i=0,c=new Array(s);i<p;++i)(o=e[i]).index=i,"object"!=typeof o.source&&(o.source=a(h,o.source)),"object"!=typeof o.target&&(o.target=a(h,o.target)),c[o.source.index]=(c[o.source.index]||0)+1,c[o.target.index]=(c[o.target.index]||0)+1;for(i=0,d=new Array(p);i<p;++i)o=e[i],d[i]=c[o.source.index]/(c[o.source.index]+c[o.target.index]);t=new Array(p),v(),n=new Array(p),y()}}function v(){if(l)for(var n=0,i=e.length;n<i;++n)t[n]=+p(e[n],n,e)}function y(){if(l)for(var t=0,i=e.length;t<i;++t)n[t]=+h(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e){l=e,g()},f.links=function(t){return arguments.length?(e=t,g(),f):e},f.id=function(e){return arguments.length?(u=e,f):u},f.iterations=function(e){return arguments.length?(m=+e,f):m},f.strength=function(e){return arguments.length?(p="function"==typeof e?e:(0,i.default)(+e),v(),f):p},f.distance=function(e){return arguments.length?(h="function"==typeof e?e:(0,i.default)(+e),y(),f):h},f}},"./node_modules/d3-force/src/manyBody.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("./node_modules/d3-force/src/constant.js"),o=n("./node_modules/d3-force/src/jiggle.js"),r=n("./node_modules/d3-quadtree/src/index.js"),s=n("./node_modules/d3-force/src/simulation.js");function a(){var e,t,n,a,l=(0,i.default)(-30),c=1,d=1/0,u=.81;function p(i){var o,a=e.length,l=(0,r.quadtree)(e,s.x,s.y).visitAfter(m);for(n=i,o=0;o<a;++o)t=e[o],l.visit(f)}function h(){if(e){var t,n,i=e.length;for(a=new Array(i),t=0;t<i;++t)n=e[t],a[n.index]=+l(n,t,e)}}function m(e){var t,n,i,o,r,s=0,l=0;if(e.length){for(i=o=r=0;r<4;++r)(t=e[r])&&(n=Math.abs(t.value))&&(s+=t.value,l+=n,i+=n*t.x,o+=n*t.y);e.x=i/l,e.y=o/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=a[t.data.index]}while(t=t.next)}e.value=s}function f(e,i,r,s){if(!e.value)return!0;var l=e.x-t.x,p=e.y-t.y,h=s-i,m=l*l+p*p;if(h*h/u<m)return m<d&&(0===l&&(m+=(l=(0,o.default)())*l),0===p&&(m+=(p=(0,o.default)())*p),m<c&&(m=Math.sqrt(c*m)),t.vx+=l*e.value*n/m,t.vy+=p*e.value*n/m),!0;if(!(e.length||m>=d)){(e.data!==t||e.next)&&(0===l&&(m+=(l=(0,o.default)())*l),0===p&&(m+=(p=(0,o.default)())*p),m<c&&(m=Math.sqrt(c*m)));do{e.data!==t&&(h=a[e.data.index]*n/m,t.vx+=l*h,t.vy+=p*h)}while(e=e.next)}}return p.initialize=function(t){e=t,h()},p.strength=function(e){return arguments.length?(l="function"==typeof e?e:(0,i.default)(+e),h(),p):l},p.distanceMin=function(e){return arguments.length?(c=e*e,p):Math.sqrt(c)},p.distanceMax=function(e){return arguments.length?(d=e*e,p):Math.sqrt(d)},p.theta=function(e){return arguments.length?(u=e*e,p):Math.sqrt(u)},p}},"./node_modules/d3-force/src/radial.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-force/src/constant.js");function o(e,t,n){var o,r,s,a=(0,i.default)(.1);function l(e){for(var i=0,a=o.length;i<a;++i){var l=o[i],c=l.x-t||1e-6,d=l.y-n||1e-6,u=Math.sqrt(c*c+d*d),p=(s[i]-u)*r[i]*e/u;l.vx+=c*p,l.vy+=d*p}}function c(){if(o){var t,n=o.length;for(r=new Array(n),s=new Array(n),t=0;t<n;++t)s[t]=+e(o[t],t,o),r[t]=isNaN(s[t])?0:+a(o[t],t,o)}}return"function"!=typeof e&&(e=(0,i.default)(+e)),null==t&&(t=0),null==n&&(n=0),l.initialize=function(e){o=e,c()},l.strength=function(e){return arguments.length?(a="function"==typeof e?e:(0,i.default)(+e),c(),l):a},l.radius=function(t){return arguments.length?(e="function"==typeof t?t:(0,i.default)(+t),c(),l):e},l.x=function(e){return arguments.length?(t=+e,l):t},l.y=function(e){return arguments.length?(n=+e,l):n},l}},"./node_modules/d3-force/src/simulation.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{x:()=>s,y:()=>a,default:()=>d});var i=n("./node_modules/d3-dispatch/src/index.js"),o=n("./node_modules/d3-collection/src/index.js"),r=n("./node_modules/d3-timer/src/index.js");function s(e){return e.x}function a(e){return e.y}var l=10,c=Math.PI*(3-Math.sqrt(5));function d(e){var t,n=1,s=.001,a=1-Math.pow(s,1/300),d=0,u=.6,p=(0,o.map)(),h=(0,r.timer)(f),m=(0,i.dispatch)("tick","end");function f(){g(),m.call("tick",t),n<s&&(h.stop(),m.call("end",t))}function g(i){var o,r,s=e.length;void 0===i&&(i=1);for(var l=0;l<i;++l)for(n+=(d-n)*a,p.each(function(e){e(n)}),o=0;o<s;++o)null==(r=e[o]).fx?r.x+=r.vx*=u:(r.x=r.fx,r.vx=0),null==r.fy?r.y+=r.vy*=u:(r.y=r.fy,r.vy=0);return t}function v(){for(var t,n=0,i=e.length;n<i;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var o=l*Math.sqrt(n),r=n*c;t.x=o*Math.cos(r),t.y=o*Math.sin(r)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function y(t){return t.initialize&&t.initialize(e),t}return null==e&&(e=[]),v(),t={tick:g,restart:function(){return h.restart(f),t},stop:function(){return h.stop(),t},nodes:function(n){return arguments.length?(e=n,v(),p.each(y),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(s=+e,t):s},alphaDecay:function(e){return arguments.length?(a=+e,t):+a},alphaTarget:function(e){return arguments.length?(d=+e,t):d},velocityDecay:function(e){return arguments.length?(u=1-e,t):1-u},force:function(e,n){return arguments.length>1?(null==n?p.remove(e):p.set(e,y(n)),t):p.get(e)},find:function(t,n,i){var o,r,s,a,l,c=0,d=e.length;for(null==i?i=1/0:i*=i,c=0;c<d;++c)(s=(o=t-(a=e[c]).x)*o+(r=n-a.y)*r)<i&&(l=a,i=s);return l},on:function(e,n){return arguments.length>1?(m.on(e,n),t):m.on(e)}}}},"./node_modules/d3-force/src/x.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-force/src/constant.js");function o(e){var t,n,o,r=(0,i.default)(.1);function s(e){for(var i,r=0,s=t.length;r<s;++r)(i=t[r]).vx+=(o[r]-i.x)*n[r]*e}function a(){if(t){var i,s=t.length;for(n=new Array(s),o=new Array(s),i=0;i<s;++i)n[i]=isNaN(o[i]=+e(t[i],i,t))?0:+r(t[i],i,t)}}return"function"!=typeof e&&(e=(0,i.default)(null==e?0:+e)),s.initialize=function(e){t=e,a()},s.strength=function(e){return arguments.length?(r="function"==typeof e?e:(0,i.default)(+e),a(),s):r},s.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,i.default)(+t),a(),s):e},s}},"./node_modules/d3-force/src/y.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-force/src/constant.js");function o(e){var t,n,o,r=(0,i.default)(.1);function s(e){for(var i,r=0,s=t.length;r<s;++r)(i=t[r]).vy+=(o[r]-i.y)*n[r]*e}function a(){if(t){var i,s=t.length;for(n=new Array(s),o=new Array(s),i=0;i<s;++i)n[i]=isNaN(o[i]=+e(t[i],i,t))?0:+r(t[i],i,t)}}return"function"!=typeof e&&(e=(0,i.default)(null==e?0:+e)),s.initialize=function(e){t=e,a()},s.strength=function(e){return arguments.length?(r="function"==typeof e?e:(0,i.default)(+e),a(),s):r},s.y=function(t){return arguments.length?(e="function"==typeof t?t:(0,i.default)(+t),a(),s):e},s}},"./node_modules/d3-format/src/defaultLocale.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{format:()=>o,formatPrefix:()=>r,default:()=>a});var i,o,r,s=n("./node_modules/d3-format/src/locale.js");function a(e){return i=(0,s.default)(e),o=i.format,r=i.formatPrefix,i}a({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})},"./node_modules/d3-format/src/exponent.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-format/src/formatDecimal.js");function o(e){return(e=(0,i.formatDecimalParts)(Math.abs(e)))?e[1]:NaN}},"./node_modules/d3-format/src/formatDecimal.js":(e,t,n)=>{"use strict";function i(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function o(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}n.r(t),n.d(t,{default:()=>i,formatDecimalParts:()=>o})},"./node_modules/d3-format/src/formatGroup.js":(e,t,n)=>{"use strict";function i(e,t){return function(n,i){for(var o=n.length,r=[],s=0,a=e[0],l=0;o>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),r.push(n.substring(o-=a,o+a)),!((l+=a+1)>i));)a=e[s=(s+1)%e.length];return r.reverse().join(t)}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-format/src/formatNumerals.js":(e,t,n)=>{"use strict";function i(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-format/src/formatPrefixAuto.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{prefixExponent:()=>i,default:()=>r});var i,o=n("./node_modules/d3-format/src/formatDecimal.js");function r(e,t){var n=(0,o.formatDecimalParts)(e,t);if(!n)return e+"";var r=n[0],s=n[1],a=s-(i=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+(0,o.formatDecimalParts)(e,Math.max(0,t+a-1))[0]}},"./node_modules/d3-format/src/formatRounded.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-format/src/formatDecimal.js");function o(e,t){var n=(0,i.formatDecimalParts)(e,t);if(!n)return e+"";var o=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+o:o.length>r+1?o.slice(0,r+1)+"."+o.slice(r+1):o+new Array(r-o.length+2).join("0")}},"./node_modules/d3-format/src/formatSpecifier.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,FormatSpecifier:()=>r});var i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function o(e){if(!(t=i.exec(e)))throw new Error("invalid format: "+e);var t;return new r({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function r(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}o.prototype=r.prototype,r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},"./node_modules/d3-format/src/formatTrim.js":(e,t,n)=>{"use strict";function i(e){e:for(var t,n=e.length,i=1,o=-1;i<n;++i)switch(e[i]){case".":o=t=i;break;case"0":0===o&&(o=i),t=i;break;default:if(!+e[i])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-format/src/formatTypes.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-format/src/formatDecimal.js"),o=n("./node_modules/d3-format/src/formatPrefixAuto.js"),r=n("./node_modules/d3-format/src/formatRounded.js");const s={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:i.default,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return(0,r.default)(100*e,t)},r:r.default,s:o.default,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}}},"./node_modules/d3-format/src/identity.js":(e,t,n)=>{"use strict";function i(e){return e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-format/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{formatDefaultLocale:()=>i.default,format:()=>i.format,formatPrefix:()=>i.formatPrefix,formatLocale:()=>o.default,formatSpecifier:()=>r.default,FormatSpecifier:()=>r.FormatSpecifier,precisionFixed:()=>s.default,precisionPrefix:()=>a.default,precisionRound:()=>l.default});var i=n("./node_modules/d3-format/src/defaultLocale.js"),o=n("./node_modules/d3-format/src/locale.js"),r=n("./node_modules/d3-format/src/formatSpecifier.js"),s=n("./node_modules/d3-format/src/precisionFixed.js"),a=n("./node_modules/d3-format/src/precisionPrefix.js"),l=n("./node_modules/d3-format/src/precisionRound.js")},"./node_modules/d3-format/src/locale.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var i=n("./node_modules/d3-format/src/exponent.js"),o=n("./node_modules/d3-format/src/formatGroup.js"),r=n("./node_modules/d3-format/src/formatNumerals.js"),s=n("./node_modules/d3-format/src/formatSpecifier.js"),a=n("./node_modules/d3-format/src/formatTrim.js"),l=n("./node_modules/d3-format/src/formatTypes.js"),c=n("./node_modules/d3-format/src/formatPrefixAuto.js"),d=n("./node_modules/d3-format/src/identity.js"),u=Array.prototype.map,p=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function h(e){var t=void 0===e.grouping||void 0===e.thousands?d.default:(0,o.default)(u.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",h=void 0===e.currency?"":e.currency[1]+"",m=void 0===e.decimal?".":e.decimal+"",f=void 0===e.numerals?d.default:(0,r.default)(u.call(e.numerals,String)),g=void 0===e.percent?"%":e.percent+"",v=void 0===e.minus?"-":e.minus+"",y=void 0===e.nan?"NaN":e.nan+"";function b(e){var i=(e=(0,s.default)(e)).fill,o=e.align,r=e.sign,d=e.symbol,u=e.zero,b=e.width,x=e.comma,w=e.precision,C=e.trim,_=e.type;"n"===_?(x=!0,_="g"):l.default[_]||(void 0===w&&(w=12),C=!0,_="g"),(u||"0"===i&&"="===o)&&(u=!0,i="0",o="=");var S="$"===d?n:"#"===d&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",I="$"===d?h:/[%p]/.test(_)?g:"",A=l.default[_],E=/[defgprs%]/.test(_);function D(e){var n,s,l,d=S,h=I;if("c"===_)h=A(e)+h,e="";else{var g=(e=+e)<0||1/e<0;if(e=isNaN(e)?y:A(Math.abs(e),w),C&&(e=(0,a.default)(e)),g&&0==+e&&"+"!==r&&(g=!1),d=(g?"("===r?r:v:"-"===r||"("===r?"":r)+d,h=("s"===_?p[8+c.prefixExponent/3]:"")+h+(g&&"("===r?")":""),E)for(n=-1,s=e.length;++n<s;)if(48>(l=e.charCodeAt(n))||l>57){h=(46===l?m+e.slice(n+1):e.slice(n))+h,e=e.slice(0,n);break}}x&&!u&&(e=t(e,1/0));var D=d.length+e.length+h.length,T=D<b?new Array(b-D+1).join(i):"";switch(x&&u&&(e=t(T+e,T.length?b-h.length:1/0),T=""),o){case"<":e=d+e+h+T;break;case"=":e=d+T+e+h;break;case"^":e=T.slice(0,D=T.length>>1)+d+e+h+T.slice(D);break;default:e=T+d+e+h}return f(e)}return w=void 0===w?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w)),D.toString=function(){return e+""},D}return{format:b,formatPrefix:function(e,t){var n=b(((e=(0,s.default)(e)).type="f",e)),o=3*Math.max(-8,Math.min(8,Math.floor((0,i.default)(t)/3))),r=Math.pow(10,-o),a=p[8+o/3];return function(e){return n(r*e)+a}}}}},"./node_modules/d3-format/src/precisionFixed.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-format/src/exponent.js");function o(e){return Math.max(0,-(0,i.default)(Math.abs(e)))}},"./node_modules/d3-format/src/precisionPrefix.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-format/src/exponent.js");function o(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,i.default)(t)/3)))-(0,i.default)(Math.abs(e)))}},"./node_modules/d3-format/src/precisionRound.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-format/src/exponent.js");function o(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,(0,i.default)(t)-(0,i.default)(e))+1}},"./node_modules/d3-geo/src/adder.js":(e,t,n)=>{"use strict";function i(){return new o}function o(){this.reset()}n.r(t),n.d(t,{default:()=>i}),o.prototype={constructor:o,reset:function(){this.s=this.t=0},add:function(e){s(r,e,this.t),s(this,r.s,this.s),this.s?this.t+=r.t:this.s=r.t},valueOf:function(){return this.s}};var r=new o;function s(e,t,n){var i=e.s=t+n,o=i-t,r=i-o;e.t=t-r+(n-o)}},"./node_modules/d3-geo/src/area.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{areaRingSum:()=>p,areaStream:()=>m,default:()=>b});var i,o,r,s,a,l=n("./node_modules/d3-geo/src/adder.js"),c=n("./node_modules/d3-geo/src/math.js"),d=n("./node_modules/d3-geo/src/noop.js"),u=n("./node_modules/d3-geo/src/stream.js"),p=(0,l.default)(),h=(0,l.default)(),m={point:d.default,lineStart:d.default,lineEnd:d.default,polygonStart:function(){p.reset(),m.lineStart=f,m.lineEnd=g},polygonEnd:function(){var e=+p;h.add(e<0?c.tau+e:e),this.lineStart=this.lineEnd=this.point=d.default},sphere:function(){h.add(c.tau)}};function f(){m.point=v}function g(){y(i,o)}function v(e,t){m.point=y,i=e,o=t,e*=c.radians,t*=c.radians,r=e,s=(0,c.cos)(t=t/2+c.quarterPi),a=(0,c.sin)(t)}function y(e,t){e*=c.radians,t=(t*=c.radians)/2+c.quarterPi;var n=e-r,i=n>=0?1:-1,o=i*n,l=(0,c.cos)(t),d=(0,c.sin)(t),u=a*d,h=s*l+u*(0,c.cos)(o),m=u*i*(0,c.sin)(o);p.add((0,c.atan2)(m,h)),r=e,s=l,a=d}function b(e){return h.reset(),(0,u.default)(e,m),2*h}},"./node_modules/d3-geo/src/bounds.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>R});var i,o,r,s,a,l,c,d,u,p,h=n("./node_modules/d3-geo/src/adder.js"),m=n("./node_modules/d3-geo/src/area.js"),f=n("./node_modules/d3-geo/src/cartesian.js"),g=n("./node_modules/d3-geo/src/math.js"),v=n("./node_modules/d3-geo/src/stream.js"),y=(0,h.default)(),b={point:x,lineStart:C,lineEnd:_,polygonStart:function(){b.point=S,b.lineStart=I,b.lineEnd=A,y.reset(),m.areaStream.polygonStart()},polygonEnd:function(){m.areaStream.polygonEnd(),b.point=x,b.lineStart=C,b.lineEnd=_,m.areaRingSum<0?(i=-(r=180),o=-(s=90)):y>g.epsilon?s=90:y<-g.epsilon&&(o=-90),p[0]=i,p[1]=r},sphere:function(){i=-(r=180),o=-(s=90)}};function x(e,t){u.push(p=[i=e,r=e]),t<o&&(o=t),t>s&&(s=t)}function w(e,t){var n=(0,f.cartesian)([e*g.radians,t*g.radians]);if(d){var l=(0,f.cartesianCross)(d,n),c=[l[1],-l[0],0],h=(0,f.cartesianCross)(c,l);(0,f.cartesianNormalizeInPlace)(h),h=(0,f.spherical)(h);var m,v=e-a,y=v>0?1:-1,b=h[0]*g.degrees*y,x=(0,g.abs)(v)>180;x^(y*a<b&&b<y*e)?(m=h[1]*g.degrees)>s&&(s=m):x^(y*a<(b=(b+360)%360-180)&&b<y*e)?(m=-h[1]*g.degrees)<o&&(o=m):(t<o&&(o=t),t>s&&(s=t)),x?e<a?E(i,e)>E(i,r)&&(r=e):E(e,r)>E(i,r)&&(i=e):r>=i?(e<i&&(i=e),e>r&&(r=e)):e>a?E(i,e)>E(i,r)&&(r=e):E(e,r)>E(i,r)&&(i=e)}else u.push(p=[i=e,r=e]);t<o&&(o=t),t>s&&(s=t),d=n,a=e}function C(){b.point=w}function _(){p[0]=i,p[1]=r,b.point=x,d=null}function S(e,t){if(d){var n=e-a;y.add((0,g.abs)(n)>180?n+(n>0?360:-360):n)}else l=e,c=t;m.areaStream.point(e,t),w(e,t)}function I(){m.areaStream.lineStart()}function A(){S(l,c),m.areaStream.lineEnd(),(0,g.abs)(y)>g.epsilon&&(i=-(r=180)),p[0]=i,p[1]=r,d=null}function E(e,t){return(t-=e)<0?t+360:t}function D(e,t){return e[0]-t[0]}function T(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function R(e){var t,n,a,l,c,d,h;if(s=r=-(i=o=1/0),u=[],(0,v.default)(e,b),n=u.length){for(u.sort(D),t=1,c=[a=u[0]];t<n;++t)T(a,(l=u[t])[0])||T(a,l[1])?(E(a[0],l[1])>E(a[0],a[1])&&(a[1]=l[1]),E(l[0],a[1])>E(a[0],a[1])&&(a[0]=l[0])):c.push(a=l);for(d=-1/0,t=0,a=c[n=c.length-1];t<=n;a=l,++t)l=c[t],(h=E(a[1],l[0]))>d&&(d=h,i=l[0],r=a[1])}return u=p=null,i===1/0||o===1/0?[[NaN,NaN],[NaN,NaN]]:[[i,o],[r,s]]}},"./node_modules/d3-geo/src/cartesian.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{spherical:()=>o,cartesian:()=>r,cartesianDot:()=>s,cartesianCross:()=>a,cartesianAddInPlace:()=>l,cartesianScale:()=>c,cartesianNormalizeInPlace:()=>d});var i=n("./node_modules/d3-geo/src/math.js");function o(e){return[(0,i.atan2)(e[1],e[0]),(0,i.asin)(e[2])]}function r(e){var t=e[0],n=e[1],o=(0,i.cos)(n);return[o*(0,i.cos)(t),o*(0,i.sin)(t),(0,i.sin)(n)]}function s(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function a(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function l(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function c(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function d(e){var t=(0,i.sqrt)(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}},"./node_modules/d3-geo/src/centroid.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>P});var i,o,r,s,a,l,c,d,u,p,h,m,f,g,v,y,b=n("./node_modules/d3-geo/src/math.js"),x=n("./node_modules/d3-geo/src/noop.js"),w=n("./node_modules/d3-geo/src/stream.js"),C={sphere:x.default,point:_,lineStart:I,lineEnd:D,polygonStart:function(){C.lineStart=T,C.lineEnd=R},polygonEnd:function(){C.lineStart=I,C.lineEnd=D}};function _(e,t){e*=b.radians,t*=b.radians;var n=(0,b.cos)(t);S(n*(0,b.cos)(e),n*(0,b.sin)(e),(0,b.sin)(t))}function S(e,t,n){++i,r+=(e-r)/i,s+=(t-s)/i,a+=(n-a)/i}function I(){C.point=A}function A(e,t){e*=b.radians,t*=b.radians;var n=(0,b.cos)(t);g=n*(0,b.cos)(e),v=n*(0,b.sin)(e),y=(0,b.sin)(t),C.point=E,S(g,v,y)}function E(e,t){e*=b.radians,t*=b.radians;var n=(0,b.cos)(t),i=n*(0,b.cos)(e),r=n*(0,b.sin)(e),s=(0,b.sin)(t),a=(0,b.atan2)((0,b.sqrt)((a=v*s-y*r)*a+(a=y*i-g*s)*a+(a=g*r-v*i)*a),g*i+v*r+y*s);o+=a,l+=a*(g+(g=i)),c+=a*(v+(v=r)),d+=a*(y+(y=s)),S(g,v,y)}function D(){C.point=_}function T(){C.point=M}function R(){O(m,f),C.point=_}function M(e,t){m=e,f=t,e*=b.radians,t*=b.radians,C.point=O;var n=(0,b.cos)(t);g=n*(0,b.cos)(e),v=n*(0,b.sin)(e),y=(0,b.sin)(t),S(g,v,y)}function O(e,t){e*=b.radians,t*=b.radians;var n=(0,b.cos)(t),i=n*(0,b.cos)(e),r=n*(0,b.sin)(e),s=(0,b.sin)(t),a=v*s-y*r,m=y*i-g*s,f=g*r-v*i,x=(0,b.sqrt)(a*a+m*m+f*f),w=(0,b.asin)(x),C=x&&-w/x;u+=C*a,p+=C*m,h+=C*f,o+=w,l+=w*(g+(g=i)),c+=w*(v+(v=r)),d+=w*(y+(y=s)),S(g,v,y)}function P(e){i=o=r=s=a=l=c=d=u=p=h=0,(0,w.default)(e,C);var t=u,n=p,m=h,f=t*t+n*n+m*m;return f<b.epsilon2&&(t=l,n=c,m=d,o<b.epsilon&&(t=r,n=s,m=a),(f=t*t+n*n+m*m)<b.epsilon2)?[NaN,NaN]:[(0,b.atan2)(n,t)*b.degrees,(0,b.asin)(m/(0,b.sqrt)(f))*b.degrees]}},"./node_modules/d3-geo/src/circle.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{circleStream:()=>a,default:()=>c});var i=n("./node_modules/d3-geo/src/cartesian.js"),o=n("./node_modules/d3-geo/src/constant.js"),r=n("./node_modules/d3-geo/src/math.js"),s=n("./node_modules/d3-geo/src/rotation.js");function a(e,t,n,o,s,a){if(n){var c=(0,r.cos)(t),d=(0,r.sin)(t),u=o*n;null==s?(s=t+o*r.tau,a=t-u/2):(s=l(c,s),a=l(c,a),(o>0?s<a:s>a)&&(s+=o*r.tau));for(var p,h=s;o>0?h>a:h<a;h-=u)p=(0,i.spherical)([c,-d*(0,r.cos)(h),-d*(0,r.sin)(h)]),e.point(p[0],p[1])}}function l(e,t){(t=(0,i.cartesian)(t))[0]-=e,(0,i.cartesianNormalizeInPlace)(t);var n=(0,r.acos)(-t[1]);return((-t[2]<0?-n:n)+r.tau-r.epsilon)%r.tau}function c(){var e,t,n=(0,o.default)([0,0]),i=(0,o.default)(90),l=(0,o.default)(6),c={point:function(n,i){e.push(n=t(n,i)),n[0]*=r.degrees,n[1]*=r.degrees}};function d(){var o=n.apply(this,arguments),d=i.apply(this,arguments)*r.radians,u=l.apply(this,arguments)*r.radians;return e=[],t=(0,s.rotateRadians)(-o[0]*r.radians,-o[1]*r.radians,0).invert,a(c,d,u,1),o={type:"Polygon",coordinates:[e]},e=t=null,o}return d.center=function(e){return arguments.length?(n="function"==typeof e?e:(0,o.default)([+e[0],+e[1]]),d):n},d.radius=function(e){return arguments.length?(i="function"==typeof e?e:(0,o.default)(+e),d):i},d.precision=function(e){return arguments.length?(l="function"==typeof e?e:(0,o.default)(+e),d):l},d}},"./node_modules/d3-geo/src/clip/antimeridian.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-geo/src/clip/index.js"),o=n("./node_modules/d3-geo/src/math.js");const r=(0,i.default)(function(){return!0},function(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(s,a){var l=s>0?o.pi:-o.pi,c=(0,o.abs)(s-n);(0,o.abs)(c-o.pi)<o.epsilon?(e.point(n,i=(i+a)/2>0?o.halfPi:-o.halfPi),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(l,i),e.point(s,i),t=0):r!==l&&c>=o.pi&&((0,o.abs)(n-r)<o.epsilon&&(n-=r*o.epsilon),(0,o.abs)(s-l)<o.epsilon&&(s-=l*o.epsilon),i=function(e,t,n,i){var r,s,a=(0,o.sin)(e-n);return(0,o.abs)(a)>o.epsilon?(0,o.atan)(((0,o.sin)(t)*(s=(0,o.cos)(i))*(0,o.sin)(n)-(0,o.sin)(i)*(r=(0,o.cos)(t))*(0,o.sin)(e))/(r*s*a)):(t+i)/2}(n,i,s,a),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(l,i),t=0),e.point(n=s,i=a),r=l},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-t}}},function(e,t,n,i){var r;if(null==e)r=n*o.halfPi,i.point(-o.pi,r),i.point(0,r),i.point(o.pi,r),i.point(o.pi,0),i.point(o.pi,-r),i.point(0,-r),i.point(-o.pi,-r),i.point(-o.pi,0),i.point(-o.pi,r);else if((0,o.abs)(e[0]-t[0])>o.epsilon){var s=e[0]<t[0]?o.pi:-o.pi;r=n*s/2,i.point(-s,r),i.point(0,r),i.point(s,r)}else i.point(t[0],t[1])},[-o.pi,-o.halfPi])},"./node_modules/d3-geo/src/clip/buffer.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-geo/src/noop.js");function o(){var e,t=[];return{point:function(t,n,i){e.push([t,n,i])},lineStart:function(){t.push(e=[])},lineEnd:i.default,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}},"./node_modules/d3-geo/src/clip/circle.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n("./node_modules/d3-geo/src/cartesian.js"),o=n("./node_modules/d3-geo/src/circle.js"),r=n("./node_modules/d3-geo/src/math.js"),s=n("./node_modules/d3-geo/src/pointEqual.js"),a=n("./node_modules/d3-geo/src/clip/index.js");function l(e){var t=(0,r.cos)(e),n=6*r.radians,l=t>0,c=(0,r.abs)(t)>r.epsilon;function d(e,n){return(0,r.cos)(e)*(0,r.cos)(n)>t}function u(e,n,o){var s=(0,i.cartesian)(e),a=(0,i.cartesian)(n),l=[1,0,0],c=(0,i.cartesianCross)(s,a),d=(0,i.cartesianDot)(c,c),u=c[0],p=d-u*u;if(!p)return!o&&e;var h=t*d/p,m=-t*u/p,f=(0,i.cartesianCross)(l,c),g=(0,i.cartesianScale)(l,h),v=(0,i.cartesianScale)(c,m);(0,i.cartesianAddInPlace)(g,v);var y=f,b=(0,i.cartesianDot)(g,y),x=(0,i.cartesianDot)(y,y),w=b*b-x*((0,i.cartesianDot)(g,g)-1);if(!(w<0)){var C=(0,r.sqrt)(w),_=(0,i.cartesianScale)(y,(-b-C)/x);if((0,i.cartesianAddInPlace)(_,g),_=(0,i.spherical)(_),!o)return _;var S,I=e[0],A=n[0],E=e[1],D=n[1];A<I&&(S=I,I=A,A=S);var T=A-I,R=(0,r.abs)(T-r.pi)<r.epsilon;if(!R&&D<E&&(S=E,E=D,D=S),R||T<r.epsilon?R?E+D>0^_[1]<((0,r.abs)(_[0]-I)<r.epsilon?E:D):E<=_[1]&&_[1]<=D:T>r.pi^(I<=_[0]&&_[0]<=A)){var M=(0,i.cartesianScale)(y,(-b+C)/x);return(0,i.cartesianAddInPlace)(M,g),[_,(0,i.spherical)(M)]}}}function p(t,n){var i=l?e:r.pi-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return(0,a.default)(d,function(e){var t,n,i,o,a;return{lineStart:function(){o=i=!1,a=1},point:function(h,m){var f,g=[h,m],v=d(h,m),y=l?v?0:p(h,m):v?p(h+(h<0?r.pi:-r.pi),m):0;if(!t&&(o=i=v)&&e.lineStart(),v!==i&&(!(f=u(t,g))||(0,s.default)(t,f)||(0,s.default)(g,f))&&(g[2]=1),v!==i)a=0,v?(e.lineStart(),f=u(g,t),e.point(f[0],f[1])):(f=u(t,g),e.point(f[0],f[1],2),e.lineEnd()),t=f;else if(c&&t&&l^v){var b;y&n||!(b=u(g,t,!0))||(a=0,l?(e.lineStart(),e.point(b[0][0],b[0][1]),e.point(b[1][0],b[1][1]),e.lineEnd()):(e.point(b[1][0],b[1][1]),e.lineEnd(),e.lineStart(),e.point(b[0][0],b[0][1],3)))}!v||t&&(0,s.default)(t,g)||e.point(g[0],g[1]),t=g,i=v,n=y},lineEnd:function(){i&&e.lineEnd(),t=null},clean:function(){return a|(o&&i)<<1}}},function(t,i,r,s){(0,o.circleStream)(s,e,n,r,t,i)},l?[0,-e]:[-r.pi,e-r.pi])}},"./node_modules/d3-geo/src/clip/extent.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-geo/src/clip/rectangle.js");function o(){var e,t,n,o=0,r=0,s=960,a=500;return n={stream:function(n){return e&&t===n?e:e=(0,i.default)(o,r,s,a)(t=n)},extent:function(i){return arguments.length?(o=+i[0][0],r=+i[0][1],s=+i[1][0],a=+i[1][1],e=t=null,n):[[o,r],[s,a]]}}}},"./node_modules/d3-geo/src/clip/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n("./node_modules/d3-geo/src/clip/buffer.js"),o=n("./node_modules/d3-geo/src/clip/rejoin.js"),r=n("./node_modules/d3-geo/src/math.js"),s=n("./node_modules/d3-geo/src/polygonContains.js"),a=n("./node_modules/d3-array/src/index.js");function l(e,t,n,r){return function(l){var u,p,h,m=t(l),f=(0,i.default)(),g=t(f),v=!1,y={point:b,lineStart:w,lineEnd:C,polygonStart:function(){y.point=_,y.lineStart=S,y.lineEnd=I,p=[],u=[]},polygonEnd:function(){y.point=b,y.lineStart=w,y.lineEnd=C,p=(0,a.merge)(p);var e=(0,s.default)(u,r);p.length?(v||(l.polygonStart(),v=!0),(0,o.default)(p,d,e,n,l)):e&&(v||(l.polygonStart(),v=!0),l.lineStart(),n(null,null,1,l),l.lineEnd()),v&&(l.polygonEnd(),v=!1),p=u=null},sphere:function(){l.polygonStart(),l.lineStart(),n(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function b(t,n){e(t,n)&&l.point(t,n)}function x(e,t){m.point(e,t)}function w(){y.point=x,m.lineStart()}function C(){y.point=b,m.lineEnd()}function _(e,t){h.push([e,t]),g.point(e,t)}function S(){g.lineStart(),h=[]}function I(){_(h[0][0],h[0][1]),g.lineEnd();var e,t,n,i,o=g.clean(),r=f.result(),s=r.length;if(h.pop(),u.push(h),h=null,s)if(1&o){if((t=(n=r[0]).length-1)>0){for(v||(l.polygonStart(),v=!0),l.lineStart(),e=0;e<t;++e)l.point((i=n[e])[0],i[1]);l.lineEnd()}}else s>1&&2&o&&r.push(r.pop().concat(r.shift())),p.push(r.filter(c))}return y}}function c(e){return e.length>1}function d(e,t){return((e=e.x)[0]<0?e[1]-r.halfPi-r.epsilon:r.halfPi-e[1])-((t=t.x)[0]<0?t[1]-r.halfPi-r.epsilon:r.halfPi-t[1])}},"./node_modules/d3-geo/src/clip/line.js":(e,t,n)=>{"use strict";function i(e,t,n,i,o,r){var s,a=e[0],l=e[1],c=0,d=1,u=t[0]-a,p=t[1]-l;if(s=n-a,u||!(s>0)){if(s/=u,u<0){if(s<c)return;s<d&&(d=s)}else if(u>0){if(s>d)return;s>c&&(c=s)}if(s=o-a,u||!(s<0)){if(s/=u,u<0){if(s>d)return;s>c&&(c=s)}else if(u>0){if(s<c)return;s<d&&(d=s)}if(s=i-l,p||!(s>0)){if(s/=p,p<0){if(s<c)return;s<d&&(d=s)}else if(p>0){if(s>d)return;s>c&&(c=s)}if(s=r-l,p||!(s<0)){if(s/=p,p<0){if(s>d)return;s>c&&(c=s)}else if(p>0){if(s<c)return;s<d&&(d=s)}return c>0&&(e[0]=a+c*u,e[1]=l+c*p),d<1&&(t[0]=a+d*u,t[1]=l+d*p),!0}}}}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-geo/src/clip/rectangle.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n("./node_modules/d3-geo/src/math.js"),o=n("./node_modules/d3-geo/src/clip/buffer.js"),r=n("./node_modules/d3-geo/src/clip/line.js"),s=n("./node_modules/d3-geo/src/clip/rejoin.js"),a=n("./node_modules/d3-array/src/index.js"),l=1e9,c=-l;function d(e,t,n,d){function u(i,o){return e<=i&&i<=n&&t<=o&&o<=d}function p(i,o,r,s){var a=0,l=0;if(null==i||(a=h(i,r))!==(l=h(o,r))||f(i,o)<0^r>0)do{s.point(0===a||3===a?e:n,a>1?d:t)}while((a=(a+r+4)%4)!==l);else s.point(o[0],o[1])}function h(o,r){return(0,i.abs)(o[0]-e)<i.epsilon?r>0?0:3:(0,i.abs)(o[0]-n)<i.epsilon?r>0?2:1:(0,i.abs)(o[1]-t)<i.epsilon?r>0?1:0:r>0?3:2}function m(e,t){return f(e.x,t.x)}function f(e,t){var n=h(e,1),i=h(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(i){var h,f,g,v,y,b,x,w,C,_,S,I=i,A=(0,o.default)(),E={point:D,lineStart:function(){E.point=T,f&&f.push(g=[]);_=!0,C=!1,x=w=NaN},lineEnd:function(){h&&(T(v,y),b&&C&&A.rejoin(),h.push(A.result()));E.point=D,C&&I.lineEnd()},polygonStart:function(){I=A,h=[],f=[],S=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=f.length;n<i;++n)for(var o,r,s=f[n],a=1,l=s.length,c=s[0],u=c[0],p=c[1];a<l;++a)o=u,r=p,u=(c=s[a])[0],p=c[1],r<=d?p>d&&(u-o)*(d-r)>(p-r)*(e-o)&&++t:p<=d&&(u-o)*(d-r)<(p-r)*(e-o)&&--t;return t}(),n=S&&t,o=(h=(0,a.merge)(h)).length;(n||o)&&(i.polygonStart(),n&&(i.lineStart(),p(null,null,1,i),i.lineEnd()),o&&(0,s.default)(h,m,t,p,i),i.polygonEnd());I=i,h=f=g=null}};function D(e,t){u(e,t)&&I.point(e,t)}function T(i,o){var s=u(i,o);if(f&&g.push([i,o]),_)v=i,y=o,b=s,_=!1,s&&(I.lineStart(),I.point(i,o));else if(s&&C)I.point(i,o);else{var a=[x=Math.max(c,Math.min(l,x)),w=Math.max(c,Math.min(l,w))],p=[i=Math.max(c,Math.min(l,i)),o=Math.max(c,Math.min(l,o))];(0,r.default)(a,p,e,t,n,d)?(C||(I.lineStart(),I.point(a[0],a[1])),I.point(p[0],p[1]),s||I.lineEnd(),S=!1):s&&(I.lineStart(),I.point(i,o),S=!1)}x=i,w=o,C=s}return E}}},"./node_modules/d3-geo/src/clip/rejoin.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-geo/src/pointEqual.js"),o=n("./node_modules/d3-geo/src/math.js");function r(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function s(e,t,n,s,l){var c,d,u=[],p=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,s=e[0],a=e[t];if((0,i.default)(s,a)){if(!s[2]&&!a[2]){for(l.lineStart(),c=0;c<t;++c)l.point((s=e[c])[0],s[1]);return void l.lineEnd()}a[0]+=2*o.epsilon}u.push(n=new r(s,e,null,!0)),p.push(n.o=new r(s,null,n,!1)),u.push(n=new r(a,e,null,!1)),p.push(n.o=new r(a,null,n,!0))}}),u.length){for(p.sort(t),a(u),a(p),c=0,d=p.length;c<d;++c)p[c].e=n=!n;for(var h,m,f=u[0];;){for(var g=f,v=!0;g.v;)if((g=g.n)===f)return;h=g.z,l.lineStart();do{if(g.v=g.o.v=!0,g.e){if(v)for(c=0,d=h.length;c<d;++c)l.point((m=h[c])[0],m[1]);else s(g.x,g.n.x,1,l);g=g.n}else{if(v)for(h=g.p.z,c=h.length-1;c>=0;--c)l.point((m=h[c])[0],m[1]);else s(g.x,g.p.x,-1,l);g=g.p}h=(g=g.o).z,v=!v}while(!g.v);l.lineEnd()}}}function a(e){if(t=e.length){for(var t,n,i=0,o=e[0];++i<t;)o.n=n=e[i],n.p=o,o=n;o.n=n=e[0],n.p=o}}},"./node_modules/d3-geo/src/compose.js":(e,t,n)=>{"use strict";function i(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return(n=t.invert(n,i))&&e.invert(n[0],n[1])}),n}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-geo/src/constant.js":(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-geo/src/contains.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var i=n("./node_modules/d3-geo/src/polygonContains.js"),o=n("./node_modules/d3-geo/src/distance.js"),r=n("./node_modules/d3-geo/src/math.js"),s={Feature:function(e,t){return l(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,o=n.length;++i<o;)if(l(n[i].geometry,t))return!0;return!1}},a={Sphere:function(){return!0},Point:function(e,t){return c(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,o=n.length;++i<o;)if(c(n[i],t))return!0;return!1},LineString:function(e,t){return d(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,o=n.length;++i<o;)if(d(n[i],t))return!0;return!1},Polygon:function(e,t){return u(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,o=n.length;++i<o;)if(u(n[i],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,o=n.length;++i<o;)if(l(n[i],t))return!0;return!1}};function l(e,t){return!(!e||!a.hasOwnProperty(e.type))&&a[e.type](e,t)}function c(e,t){return 0===(0,o.default)(e,t)}function d(e,t){for(var n,i,s,a=0,l=e.length;a<l;a++){if(0===(i=(0,o.default)(e[a],t)))return!0;if(a>0&&(s=(0,o.default)(e[a],e[a-1]))>0&&n<=s&&i<=s&&(n+i-s)*(1-Math.pow((n-i)/s,2))<r.epsilon2*s)return!0;n=i}return!1}function u(e,t){return!!(0,i.default)(e.map(p),h(t))}function p(e){return(e=e.map(h)).pop(),e}function h(e){return[e[0]*r.radians,e[1]*r.radians]}function m(e,t){return(e&&s.hasOwnProperty(e.type)?s[e.type]:l)(e,t)}},"./node_modules/d3-geo/src/distance.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-geo/src/length.js"),o=[null,null],r={type:"LineString",coordinates:o};function s(e,t){return o[0]=e,o[1]=t,(0,i.default)(r)}},"./node_modules/d3-geo/src/graticule.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a,graticule10:()=>l});var i=n("./node_modules/d3-array/src/index.js"),o=n("./node_modules/d3-geo/src/math.js");function r(e,t,n){var r=(0,i.range)(e,t-o.epsilon,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function s(e,t,n){var r=(0,i.range)(e,t-o.epsilon,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function a(){var e,t,n,a,l,c,d,u,p,h,m,f,g=10,v=g,y=90,b=360,x=2.5;function w(){return{type:"MultiLineString",coordinates:C()}}function C(){return(0,i.range)((0,o.ceil)(a/y)*y,n,y).map(m).concat((0,i.range)((0,o.ceil)(u/b)*b,d,b).map(f)).concat((0,i.range)((0,o.ceil)(t/g)*g,e,g).filter(function(e){return(0,o.abs)(e%y)>o.epsilon}).map(p)).concat((0,i.range)((0,o.ceil)(c/v)*v,l,v).filter(function(e){return(0,o.abs)(e%b)>o.epsilon}).map(h))}return w.lines=function(){return C().map(function(e){return{type:"LineString",coordinates:e}})},w.outline=function(){return{type:"Polygon",coordinates:[m(a).concat(f(d).slice(1),m(n).reverse().slice(1),f(u).reverse().slice(1))]}},w.extent=function(e){return arguments.length?w.extentMajor(e).extentMinor(e):w.extentMinor()},w.extentMajor=function(e){return arguments.length?(a=+e[0][0],n=+e[1][0],u=+e[0][1],d=+e[1][1],a>n&&(e=a,a=n,n=e),u>d&&(e=u,u=d,d=e),w.precision(x)):[[a,u],[n,d]]},w.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],c=+n[0][1],l=+n[1][1],t>e&&(n=t,t=e,e=n),c>l&&(n=c,c=l,l=n),w.precision(x)):[[t,c],[e,l]]},w.step=function(e){return arguments.length?w.stepMajor(e).stepMinor(e):w.stepMinor()},w.stepMajor=function(e){return arguments.length?(y=+e[0],b=+e[1],w):[y,b]},w.stepMinor=function(e){return arguments.length?(g=+e[0],v=+e[1],w):[g,v]},w.precision=function(i){return arguments.length?(x=+i,p=r(c,l,90),h=s(t,e,x),m=r(u,d,90),f=s(a,n,x),w):x},w.extentMajor([[-180,-90+o.epsilon],[180,90-o.epsilon]]).extentMinor([[-180,-80-o.epsilon],[180,80+o.epsilon]])}function l(){return a()()}},"./node_modules/d3-geo/src/identity.js":(e,t,n)=>{"use strict";function i(e){return e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-geo/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{geoArea:()=>i.default,geoBounds:()=>o.default,geoCentroid:()=>r.default,geoCircle:()=>s.default,geoClipAntimeridian:()=>a.default,geoClipCircle:()=>l.default,geoClipExtent:()=>c.default,geoClipRectangle:()=>d.default,geoContains:()=>u.default,geoDistance:()=>p.default,geoGraticule:()=>h.default,geoGraticule10:()=>h.graticule10,geoInterpolate:()=>m.default,geoLength:()=>f.default,geoPath:()=>g.default,geoAlbers:()=>v.default,geoAlbersUsa:()=>y.default,geoAzimuthalEqualArea:()=>b.default,geoAzimuthalEqualAreaRaw:()=>b.azimuthalEqualAreaRaw,geoAzimuthalEquidistant:()=>x.default,geoAzimuthalEquidistantRaw:()=>x.azimuthalEquidistantRaw,geoConicConformal:()=>w.default,geoConicConformalRaw:()=>w.conicConformalRaw,geoConicEqualArea:()=>C.default,geoConicEqualAreaRaw:()=>C.conicEqualAreaRaw,geoConicEquidistant:()=>_.default,geoConicEquidistantRaw:()=>_.conicEquidistantRaw,geoEqualEarth:()=>S.default,geoEqualEarthRaw:()=>S.equalEarthRaw,geoEquirectangular:()=>I.default,geoEquirectangularRaw:()=>I.equirectangularRaw,geoGnomonic:()=>A.default,geoGnomonicRaw:()=>A.gnomonicRaw,geoIdentity:()=>E.default,geoProjection:()=>D.default,geoProjectionMutator:()=>D.projectionMutator,geoMercator:()=>T.default,geoMercatorRaw:()=>T.mercatorRaw,geoNaturalEarth1:()=>R.default,geoNaturalEarth1Raw:()=>R.naturalEarth1Raw,geoOrthographic:()=>M.default,geoOrthographicRaw:()=>M.orthographicRaw,geoStereographic:()=>O.default,geoStereographicRaw:()=>O.stereographicRaw,geoTransverseMercator:()=>P.default,geoTransverseMercatorRaw:()=>P.transverseMercatorRaw,geoRotation:()=>F.default,geoStream:()=>k.default,geoTransform:()=>N.default});var i=n("./node_modules/d3-geo/src/area.js"),o=n("./node_modules/d3-geo/src/bounds.js"),r=n("./node_modules/d3-geo/src/centroid.js"),s=n("./node_modules/d3-geo/src/circle.js"),a=n("./node_modules/d3-geo/src/clip/antimeridian.js"),l=n("./node_modules/d3-geo/src/clip/circle.js"),c=n("./node_modules/d3-geo/src/clip/extent.js"),d=n("./node_modules/d3-geo/src/clip/rectangle.js"),u=n("./node_modules/d3-geo/src/contains.js"),p=n("./node_modules/d3-geo/src/distance.js"),h=n("./node_modules/d3-geo/src/graticule.js"),m=n("./node_modules/d3-geo/src/interpolate.js"),f=n("./node_modules/d3-geo/src/length.js"),g=n("./node_modules/d3-geo/src/path/index.js"),v=n("./node_modules/d3-geo/src/projection/albers.js"),y=n("./node_modules/d3-geo/src/projection/albersUsa.js"),b=n("./node_modules/d3-geo/src/projection/azimuthalEqualArea.js"),x=n("./node_modules/d3-geo/src/projection/azimuthalEquidistant.js"),w=n("./node_modules/d3-geo/src/projection/conicConformal.js"),C=n("./node_modules/d3-geo/src/projection/conicEqualArea.js"),_=n("./node_modules/d3-geo/src/projection/conicEquidistant.js"),S=n("./node_modules/d3-geo/src/projection/equalEarth.js"),I=n("./node_modules/d3-geo/src/projection/equirectangular.js"),A=n("./node_modules/d3-geo/src/projection/gnomonic.js"),E=n("./node_modules/d3-geo/src/projection/identity.js"),D=n("./node_modules/d3-geo/src/projection/index.js"),T=n("./node_modules/d3-geo/src/projection/mercator.js"),R=n("./node_modules/d3-geo/src/projection/naturalEarth1.js"),M=n("./node_modules/d3-geo/src/projection/orthographic.js"),O=n("./node_modules/d3-geo/src/projection/stereographic.js"),P=n("./node_modules/d3-geo/src/projection/transverseMercator.js"),F=n("./node_modules/d3-geo/src/rotation.js"),k=n("./node_modules/d3-geo/src/stream.js"),N=n("./node_modules/d3-geo/src/transform.js")},"./node_modules/d3-geo/src/interpolate.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-geo/src/math.js");function o(e,t){var n=e[0]*i.radians,o=e[1]*i.radians,r=t[0]*i.radians,s=t[1]*i.radians,a=(0,i.cos)(o),l=(0,i.sin)(o),c=(0,i.cos)(s),d=(0,i.sin)(s),u=a*(0,i.cos)(n),p=a*(0,i.sin)(n),h=c*(0,i.cos)(r),m=c*(0,i.sin)(r),f=2*(0,i.asin)((0,i.sqrt)((0,i.haversin)(s-o)+a*c*(0,i.haversin)(r-n))),g=(0,i.sin)(f),v=f?function(e){var t=(0,i.sin)(e*=f)/g,n=(0,i.sin)(f-e)/g,o=n*u+t*h,r=n*p+t*m,s=n*l+t*d;return[(0,i.atan2)(r,o)*i.degrees,(0,i.atan2)(s,(0,i.sqrt)(o*o+r*r))*i.degrees]}:function(){return[n*i.degrees,o*i.degrees]};return v.distance=f,v}},"./node_modules/d3-geo/src/length.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var i,o,r,s=n("./node_modules/d3-geo/src/adder.js"),a=n("./node_modules/d3-geo/src/math.js"),l=n("./node_modules/d3-geo/src/noop.js"),c=n("./node_modules/d3-geo/src/stream.js"),d=(0,s.default)(),u={sphere:l.default,point:l.default,lineStart:function(){u.point=h,u.lineEnd=p},lineEnd:l.default,polygonStart:l.default,polygonEnd:l.default};function p(){u.point=u.lineEnd=l.default}function h(e,t){e*=a.radians,t*=a.radians,i=e,o=(0,a.sin)(t),r=(0,a.cos)(t),u.point=m}function m(e,t){e*=a.radians,t*=a.radians;var n=(0,a.sin)(t),s=(0,a.cos)(t),l=(0,a.abs)(e-i),c=(0,a.cos)(l),u=s*(0,a.sin)(l),p=r*n-o*s*c,h=o*n+r*s*c;d.add((0,a.atan2)((0,a.sqrt)(u*u+p*p),h)),i=e,o=n,r=s}function f(e){return d.reset(),(0,c.default)(e,u),+d}},"./node_modules/d3-geo/src/math.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{epsilon:()=>i,epsilon2:()=>o,pi:()=>r,halfPi:()=>s,quarterPi:()=>a,tau:()=>l,degrees:()=>c,radians:()=>d,abs:()=>u,atan:()=>p,atan2:()=>h,cos:()=>m,ceil:()=>f,exp:()=>g,floor:()=>v,log:()=>y,pow:()=>b,sin:()=>x,sign:()=>w,sqrt:()=>C,tan:()=>_,acos:()=>S,asin:()=>I,haversin:()=>A});var i=1e-6,o=1e-12,r=Math.PI,s=r/2,a=r/4,l=2*r,c=180/r,d=r/180,u=Math.abs,p=Math.atan,h=Math.atan2,m=Math.cos,f=Math.ceil,g=Math.exp,v=Math.floor,y=Math.log,b=Math.pow,x=Math.sin,w=Math.sign||function(e){return e>0?1:e<0?-1:0},C=Math.sqrt,_=Math.tan;function S(e){return e>1?0:e<-1?r:Math.acos(e)}function I(e){return e>1?s:e<-1?-s:Math.asin(e)}function A(e){return(e=x(e/2))*e}},"./node_modules/d3-geo/src/noop.js":(e,t,n)=>{"use strict";function i(){}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-geo/src/path/area.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var i,o,r,s,a=n("./node_modules/d3-geo/src/adder.js"),l=n("./node_modules/d3-geo/src/math.js"),c=n("./node_modules/d3-geo/src/noop.js"),d=(0,a.default)(),u=(0,a.default)(),p={point:c.default,lineStart:c.default,lineEnd:c.default,polygonStart:function(){p.lineStart=h,p.lineEnd=g},polygonEnd:function(){p.lineStart=p.lineEnd=p.point=c.default,d.add((0,l.abs)(u)),u.reset()},result:function(){var e=d/2;return d.reset(),e}};function h(){p.point=m}function m(e,t){p.point=f,i=r=e,o=s=t}function f(e,t){u.add(s*e-r*t),r=e,s=t}function g(){f(i,o)}const v=p},"./node_modules/d3-geo/src/path/bounds.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n("./node_modules/d3-geo/src/noop.js"),o=1/0,r=o,s=-o,a=s;const l={point:function(e,t){e<o&&(o=e);e>s&&(s=e);t<r&&(r=t);t>a&&(a=t)},lineStart:i.default,lineEnd:i.default,polygonStart:i.default,polygonEnd:i.default,result:function(){var e=[[o,r],[s,a]];return s=a=-(r=o=1/0),e}}},"./node_modules/d3-geo/src/path/centroid.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var i,o,r,s,a=n("./node_modules/d3-geo/src/math.js"),l=0,c=0,d=0,u=0,p=0,h=0,m=0,f=0,g=0,v={point:y,lineStart:b,lineEnd:C,polygonStart:function(){v.lineStart=_,v.lineEnd=S},polygonEnd:function(){v.point=y,v.lineStart=b,v.lineEnd=C},result:function(){var e=g?[m/g,f/g]:h?[u/h,p/h]:d?[l/d,c/d]:[NaN,NaN];return l=c=d=u=p=h=m=f=g=0,e}};function y(e,t){l+=e,c+=t,++d}function b(){v.point=x}function x(e,t){v.point=w,y(r=e,s=t)}function w(e,t){var n=e-r,i=t-s,o=(0,a.sqrt)(n*n+i*i);u+=o*(r+e)/2,p+=o*(s+t)/2,h+=o,y(r=e,s=t)}function C(){v.point=y}function _(){v.point=I}function S(){A(i,o)}function I(e,t){v.point=A,y(i=r=e,o=s=t)}function A(e,t){var n=e-r,i=t-s,o=(0,a.sqrt)(n*n+i*i);u+=o*(r+e)/2,p+=o*(s+t)/2,h+=o,m+=(o=s*e-r*t)*(r+e),f+=o*(s+t),g+=3*o,y(r=e,s=t)}const E=v},"./node_modules/d3-geo/src/path/context.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-geo/src/math.js"),o=n("./node_modules/d3-geo/src/noop.js");function r(e){this._context=e}r.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,i.tau)}},result:o.default}},"./node_modules/d3-geo/src/path/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i=n("./node_modules/d3-geo/src/identity.js"),o=n("./node_modules/d3-geo/src/stream.js"),r=n("./node_modules/d3-geo/src/path/area.js"),s=n("./node_modules/d3-geo/src/path/bounds.js"),a=n("./node_modules/d3-geo/src/path/centroid.js"),l=n("./node_modules/d3-geo/src/path/context.js"),c=n("./node_modules/d3-geo/src/path/measure.js"),d=n("./node_modules/d3-geo/src/path/string.js");function u(e,t){var n,u,p=4.5;function h(e){return e&&("function"==typeof p&&u.pointRadius(+p.apply(this,arguments)),(0,o.default)(e,n(u))),u.result()}return h.area=function(e){return(0,o.default)(e,n(r.default)),r.default.result()},h.measure=function(e){return(0,o.default)(e,n(c.default)),c.default.result()},h.bounds=function(e){return(0,o.default)(e,n(s.default)),s.default.result()},h.centroid=function(e){return(0,o.default)(e,n(a.default)),a.default.result()},h.projection=function(t){return arguments.length?(n=null==t?(e=null,i.default):(e=t).stream,h):e},h.context=function(e){return arguments.length?(u=null==e?(t=null,new d.default):new l.default(t=e),"function"!=typeof p&&u.pointRadius(p),h):t},h.pointRadius=function(e){return arguments.length?(p="function"==typeof e?e:(u.pointRadius(+e),+e),h):p},h.projection(e).context(t)}},"./node_modules/d3-geo/src/path/measure.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var i,o,r,s,a,l=n("./node_modules/d3-geo/src/adder.js"),c=n("./node_modules/d3-geo/src/math.js"),d=n("./node_modules/d3-geo/src/noop.js"),u=(0,l.default)(),p={point:d.default,lineStart:function(){p.point=h},lineEnd:function(){i&&m(o,r),p.point=d.default},polygonStart:function(){i=!0},polygonEnd:function(){i=null},result:function(){var e=+u;return u.reset(),e}};function h(e,t){p.point=m,o=s=e,r=a=t}function m(e,t){s-=e,a-=t,u.add((0,c.sqrt)(s*s+a*a)),s=e,a=t}const f=p},"./node_modules/d3-geo/src/path/string.js":(e,t,n)=>{"use strict";function i(){this._string=[]}function o(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}n.r(t),n.d(t,{default:()=>i}),i.prototype={_radius:4.5,_circle:o(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=o(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}}},"./node_modules/d3-geo/src/pointEqual.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-geo/src/math.js");function o(e,t){return(0,i.abs)(e[0]-t[0])<i.epsilon&&(0,i.abs)(e[1]-t[1])<i.epsilon}},"./node_modules/d3-geo/src/polygonContains.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n("./node_modules/d3-geo/src/adder.js"),o=n("./node_modules/d3-geo/src/cartesian.js"),r=n("./node_modules/d3-geo/src/math.js"),s=(0,i.default)();function a(e){return(0,r.abs)(e[0])<=r.pi?e[0]:(0,r.sign)(e[0])*(((0,r.abs)(e[0])+r.pi)%r.tau-r.pi)}function l(e,t){var n=a(t),i=t[1],l=(0,r.sin)(i),c=[(0,r.sin)(n),-(0,r.cos)(n),0],d=0,u=0;s.reset(),1===l?i=r.halfPi+r.epsilon:-1===l&&(i=-r.halfPi-r.epsilon);for(var p=0,h=e.length;p<h;++p)if(f=(m=e[p]).length)for(var m,f,g=m[f-1],v=a(g),y=g[1]/2+r.quarterPi,b=(0,r.sin)(y),x=(0,r.cos)(y),w=0;w<f;++w,v=_,b=I,x=A,g=C){var C=m[w],_=a(C),S=C[1]/2+r.quarterPi,I=(0,r.sin)(S),A=(0,r.cos)(S),E=_-v,D=E>=0?1:-1,T=D*E,R=T>r.pi,M=b*I;if(s.add((0,r.atan2)(M*D*(0,r.sin)(T),x*A+M*(0,r.cos)(T))),d+=R?E+D*r.tau:E,R^v>=n^_>=n){var O=(0,o.cartesianCross)((0,o.cartesian)(g),(0,o.cartesian)(C));(0,o.cartesianNormalizeInPlace)(O);var P=(0,o.cartesianCross)(c,O);(0,o.cartesianNormalizeInPlace)(P);var F=(R^E>=0?-1:1)*(0,r.asin)(P[2]);(i>F||i===F&&(O[0]||O[1]))&&(u+=R^E>=0?1:-1)}}return(d<-r.epsilon||d<r.epsilon&&s<-r.epsilon)^1&u}},"./node_modules/d3-geo/src/projection/albers.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-geo/src/projection/conicEqualArea.js");function o(){return(0,i.default)().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}},"./node_modules/d3-geo/src/projection/albersUsa.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("./node_modules/d3-geo/src/math.js"),o=n("./node_modules/d3-geo/src/projection/albers.js"),r=n("./node_modules/d3-geo/src/projection/conicEqualArea.js"),s=n("./node_modules/d3-geo/src/projection/fit.js");function a(){var e,t,n,a,l,c,d=(0,o.default)(),u=(0,r.default)().rotate([154,0]).center([-2,58.5]).parallels([55,65]),p=(0,r.default)().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(e,t){c=[e,t]}};function m(e){var t=e[0],i=e[1];return c=null,n.point(t,i),c||(a.point(t,i),c)||(l.point(t,i),c)}function f(){return e=t=null,m}return m.invert=function(e){var t=d.scale(),n=d.translate(),i=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&i>=-.425&&i<-.214?u:o>=.166&&o<.234&&i>=-.214&&i<-.115?p:d).invert(e)},m.stream=function(n){return e&&t===n?e:(i=[d.stream(t=n),u.stream(n),p.stream(n)],o=i.length,e={point:function(e,t){for(var n=-1;++n<o;)i[n].point(e,t)},sphere:function(){for(var e=-1;++e<o;)i[e].sphere()},lineStart:function(){for(var e=-1;++e<o;)i[e].lineStart()},lineEnd:function(){for(var e=-1;++e<o;)i[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<o;)i[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<o;)i[e].polygonEnd()}});var i,o},m.precision=function(e){return arguments.length?(d.precision(e),u.precision(e),p.precision(e),f()):d.precision()},m.scale=function(e){return arguments.length?(d.scale(e),u.scale(.35*e),p.scale(e),m.translate(d.translate())):d.scale()},m.translate=function(e){if(!arguments.length)return d.translate();var t=d.scale(),o=+e[0],r=+e[1];return n=d.translate(e).clipExtent([[o-.455*t,r-.238*t],[o+.455*t,r+.238*t]]).stream(h),a=u.translate([o-.307*t,r+.201*t]).clipExtent([[o-.425*t+i.epsilon,r+.12*t+i.epsilon],[o-.214*t-i.epsilon,r+.234*t-i.epsilon]]).stream(h),l=p.translate([o-.205*t,r+.212*t]).clipExtent([[o-.214*t+i.epsilon,r+.166*t+i.epsilon],[o-.115*t-i.epsilon,r+.234*t-i.epsilon]]).stream(h),f()},m.fitExtent=function(e,t){return(0,s.fitExtent)(m,e,t)},m.fitSize=function(e,t){return(0,s.fitSize)(m,e,t)},m.fitWidth=function(e,t){return(0,s.fitWidth)(m,e,t)},m.fitHeight=function(e,t){return(0,s.fitHeight)(m,e,t)},m.scale(1070)}},"./node_modules/d3-geo/src/projection/azimuthal.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{azimuthalRaw:()=>o,azimuthalInvert:()=>r});var i=n("./node_modules/d3-geo/src/math.js");function o(e){return function(t,n){var o=(0,i.cos)(t),r=(0,i.cos)(n),s=e(o*r);return[s*r*(0,i.sin)(t),s*(0,i.sin)(n)]}}function r(e){return function(t,n){var o=(0,i.sqrt)(t*t+n*n),r=e(o),s=(0,i.sin)(r),a=(0,i.cos)(r);return[(0,i.atan2)(t*s,o*a),(0,i.asin)(o&&n*s/o)]}}},"./node_modules/d3-geo/src/projection/azimuthalEqualArea.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{azimuthalEqualAreaRaw:()=>s,default:()=>a});var i=n("./node_modules/d3-geo/src/math.js"),o=n("./node_modules/d3-geo/src/projection/azimuthal.js"),r=n("./node_modules/d3-geo/src/projection/index.js"),s=(0,o.azimuthalRaw)(function(e){return(0,i.sqrt)(2/(1+e))});function a(){return(0,r.default)(s).scale(124.75).clipAngle(179.999)}s.invert=(0,o.azimuthalInvert)(function(e){return 2*(0,i.asin)(e/2)})},"./node_modules/d3-geo/src/projection/azimuthalEquidistant.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{azimuthalEquidistantRaw:()=>s,default:()=>a});var i=n("./node_modules/d3-geo/src/math.js"),o=n("./node_modules/d3-geo/src/projection/azimuthal.js"),r=n("./node_modules/d3-geo/src/projection/index.js"),s=(0,o.azimuthalRaw)(function(e){return(e=(0,i.acos)(e))&&e/(0,i.sin)(e)});function a(){return(0,r.default)(s).scale(79.4188).clipAngle(179.999)}s.invert=(0,o.azimuthalInvert)(function(e){return e})},"./node_modules/d3-geo/src/projection/conic.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{conicProjection:()=>r});var i=n("./node_modules/d3-geo/src/math.js"),o=n("./node_modules/d3-geo/src/projection/index.js");function r(e){var t=0,n=i.pi/3,r=(0,o.projectionMutator)(e),s=r(t,n);return s.parallels=function(e){return arguments.length?r(t=e[0]*i.radians,n=e[1]*i.radians):[t*i.degrees,n*i.degrees]},s}},"./node_modules/d3-geo/src/projection/conicConformal.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{conicConformalRaw:()=>a,default:()=>l});var i=n("./node_modules/d3-geo/src/math.js"),o=n("./node_modules/d3-geo/src/projection/conic.js"),r=n("./node_modules/d3-geo/src/projection/mercator.js");function s(e){return(0,i.tan)((i.halfPi+e)/2)}function a(e,t){var n=(0,i.cos)(e),o=e===t?(0,i.sin)(e):(0,i.log)(n/(0,i.cos)(t))/(0,i.log)(s(t)/s(e)),a=n*(0,i.pow)(s(e),o)/o;if(!o)return r.mercatorRaw;function l(e,t){a>0?t<-i.halfPi+i.epsilon&&(t=-i.halfPi+i.epsilon):t>i.halfPi-i.epsilon&&(t=i.halfPi-i.epsilon);var n=a/(0,i.pow)(s(t),o);return[n*(0,i.sin)(o*e),a-n*(0,i.cos)(o*e)]}return l.invert=function(e,t){var n=a-t,r=(0,i.sign)(o)*(0,i.sqrt)(e*e+n*n),s=(0,i.atan2)(e,(0,i.abs)(n))*(0,i.sign)(n);return n*o<0&&(s-=i.pi*(0,i.sign)(e)*(0,i.sign)(n)),[s/o,2*(0,i.atan)((0,i.pow)(a/r,1/o))-i.halfPi]},l}function l(){return(0,o.conicProjection)(a).scale(109.5).parallels([30,30])}},"./node_modules/d3-geo/src/projection/conicEqualArea.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{conicEqualAreaRaw:()=>s,default:()=>a});var i=n("./node_modules/d3-geo/src/math.js"),o=n("./node_modules/d3-geo/src/projection/conic.js"),r=n("./node_modules/d3-geo/src/projection/cylindricalEqualArea.js");function s(e,t){var n=(0,i.sin)(e),o=(n+(0,i.sin)(t))/2;if((0,i.abs)(o)<i.epsilon)return(0,r.cylindricalEqualAreaRaw)(e);var s=1+n*(2*o-n),a=(0,i.sqrt)(s)/o;function l(e,t){var n=(0,i.sqrt)(s-2*o*(0,i.sin)(t))/o;return[n*(0,i.sin)(e*=o),a-n*(0,i.cos)(e)]}return l.invert=function(e,t){var n=a-t,r=(0,i.atan2)(e,(0,i.abs)(n))*(0,i.sign)(n);return n*o<0&&(r-=i.pi*(0,i.sign)(e)*(0,i.sign)(n)),[r/o,(0,i.asin)((s-(e*e+n*n)*o*o)/(2*o))]},l}function a(){return(0,o.conicProjection)(s).scale(155.424).center([0,33.6442])}},"./node_modules/d3-geo/src/projection/conicEquidistant.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{conicEquidistantRaw:()=>s,default:()=>a});var i=n("./node_modules/d3-geo/src/math.js"),o=n("./node_modules/d3-geo/src/projection/conic.js"),r=n("./node_modules/d3-geo/src/projection/equirectangular.js");function s(e,t){var n=(0,i.cos)(e),o=e===t?(0,i.sin)(e):(n-(0,i.cos)(t))/(t-e),s=n/o+e;if((0,i.abs)(o)<i.epsilon)return r.equirectangularRaw;function a(e,t){var n=s-t,r=o*e;return[n*(0,i.sin)(r),s-n*(0,i.cos)(r)]}return a.invert=function(e,t){var n=s-t,r=(0,i.atan2)(e,(0,i.abs)(n))*(0,i.sign)(n);return n*o<0&&(r-=i.pi*(0,i.sign)(e)*(0,i.sign)(n)),[r/o,s-(0,i.sign)(o)*(0,i.sqrt)(e*e+n*n)]},a}function a(){return(0,o.conicProjection)(s).scale(131.154).center([0,13.9389])}},"./node_modules/d3-geo/src/projection/cylindricalEqualArea.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{cylindricalEqualAreaRaw:()=>o});var i=n("./node_modules/d3-geo/src/math.js");function o(e){var t=(0,i.cos)(e);function n(e,n){return[e*t,(0,i.sin)(n)/t]}return n.invert=function(e,n){return[e/t,(0,i.asin)(n*t)]},n}},"./node_modules/d3-geo/src/projection/equalEarth.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{equalEarthRaw:()=>d,default:()=>u});var i=n("./node_modules/d3-geo/src/projection/index.js"),o=n("./node_modules/d3-geo/src/math.js"),r=1.340264,s=-.081106,a=893e-6,l=.003796,c=(0,o.sqrt)(3)/2;function d(e,t){var n=(0,o.asin)(c*(0,o.sin)(t)),i=n*n,d=i*i*i;return[e*(0,o.cos)(n)/(c*(r+3*s*i+d*(7*a+9*l*i))),n*(r+s*i+d*(a+l*i))]}function u(){return(0,i.default)(d).scale(177.158)}d.invert=function(e,t){for(var n,i=t,d=i*i,u=d*d*d,p=0;p<12&&(u=(d=(i-=n=(i*(r+s*d+u*(a+l*d))-t)/(r+3*s*d+u*(7*a+9*l*d)))*i)*d*d,!((0,o.abs)(n)<o.epsilon2));++p);return[c*e*(r+3*s*d+u*(7*a+9*l*d))/(0,o.cos)(i),(0,o.asin)((0,o.sin)(i)/c)]}},"./node_modules/d3-geo/src/projection/equirectangular.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{equirectangularRaw:()=>o,default:()=>r});var i=n("./node_modules/d3-geo/src/projection/index.js");function o(e,t){return[e,t]}function r(){return(0,i.default)(o).scale(152.63)}o.invert=o},"./node_modules/d3-geo/src/projection/fit.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{fitExtent:()=>s,fitSize:()=>a,fitWidth:()=>l,fitHeight:()=>c});var i=n("./node_modules/d3-geo/src/stream.js"),o=n("./node_modules/d3-geo/src/path/bounds.js");function r(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),(0,i.default)(n,e.stream(o.default)),t(o.default.result()),null!=r&&e.clipExtent(r),e}function s(e,t,n){return r(e,function(n){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],r=Math.min(i/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),s=+t[0][0]+(i-r*(n[1][0]+n[0][0]))/2,a=+t[0][1]+(o-r*(n[1][1]+n[0][1]))/2;e.scale(150*r).translate([s,a])},n)}function a(e,t,n){return s(e,[[0,0],t],n)}function l(e,t,n){return r(e,function(n){var i=+t,o=i/(n[1][0]-n[0][0]),r=(i-o*(n[1][0]+n[0][0]))/2,s=-o*n[0][1];e.scale(150*o).translate([r,s])},n)}function c(e,t,n){return r(e,function(n){var i=+t,o=i/(n[1][1]-n[0][1]),r=-o*n[0][0],s=(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([r,s])},n)}},"./node_modules/d3-geo/src/projection/gnomonic.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{gnomonicRaw:()=>s,default:()=>a});var i=n("./node_modules/d3-geo/src/math.js"),o=n("./node_modules/d3-geo/src/projection/azimuthal.js"),r=n("./node_modules/d3-geo/src/projection/index.js");function s(e,t){var n=(0,i.cos)(t),o=(0,i.cos)(e)*n;return[n*(0,i.sin)(e)/o,(0,i.sin)(t)/o]}function a(){return(0,r.default)(s).scale(144.049).clipAngle(60)}s.invert=(0,o.azimuthalInvert)(i.atan)},"./node_modules/d3-geo/src/projection/identity.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n("./node_modules/d3-geo/src/clip/rectangle.js"),o=n("./node_modules/d3-geo/src/identity.js"),r=n("./node_modules/d3-geo/src/transform.js"),s=n("./node_modules/d3-geo/src/projection/fit.js"),a=n("./node_modules/d3-geo/src/math.js");function l(){var e,t,n,l,c,d,u,p=1,h=0,m=0,f=1,g=1,v=0,y=null,b=1,x=1,w=(0,r.transformer)({point:function(e,t){var n=S([e,t]);this.stream.point(n[0],n[1])}}),C=o.default;function _(){return b=p*f,x=p*g,d=u=null,S}function S(n){var i=n[0]*b,o=n[1]*x;if(v){var r=o*e-i*t;i=i*e+o*t,o=r}return[i+h,o+m]}return S.invert=function(n){var i=n[0]-h,o=n[1]-m;if(v){var r=o*e+i*t;i=i*e-o*t,o=r}return[i/b,o/x]},S.stream=function(e){return d&&u===e?d:d=w(C(u=e))},S.postclip=function(e){return arguments.length?(C=e,y=n=l=c=null,_()):C},S.clipExtent=function(e){return arguments.length?(C=null==e?(y=n=l=c=null,o.default):(0,i.default)(y=+e[0][0],n=+e[0][1],l=+e[1][0],c=+e[1][1]),_()):null==y?null:[[y,n],[l,c]]},S.scale=function(e){return arguments.length?(p=+e,_()):p},S.translate=function(e){return arguments.length?(h=+e[0],m=+e[1],_()):[h,m]},S.angle=function(n){return arguments.length?(v=n%360*a.radians,t=(0,a.sin)(v),e=(0,a.cos)(v),_()):v*a.degrees},S.reflectX=function(e){return arguments.length?(f=e?-1:1,_()):f<0},S.reflectY=function(e){return arguments.length?(g=e?-1:1,_()):g<0},S.fitExtent=function(e,t){return(0,s.fitExtent)(S,e,t)},S.fitSize=function(e,t){return(0,s.fitSize)(S,e,t)},S.fitWidth=function(e,t){return(0,s.fitWidth)(S,e,t)},S.fitHeight=function(e,t){return(0,s.fitHeight)(S,e,t)},S}},"./node_modules/d3-geo/src/projection/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g,projectionMutator:()=>v});var i=n("./node_modules/d3-geo/src/clip/antimeridian.js"),o=n("./node_modules/d3-geo/src/clip/circle.js"),r=n("./node_modules/d3-geo/src/clip/rectangle.js"),s=n("./node_modules/d3-geo/src/compose.js"),a=n("./node_modules/d3-geo/src/identity.js"),l=n("./node_modules/d3-geo/src/math.js"),c=n("./node_modules/d3-geo/src/rotation.js"),d=n("./node_modules/d3-geo/src/transform.js"),u=n("./node_modules/d3-geo/src/projection/fit.js"),p=n("./node_modules/d3-geo/src/projection/resample.js"),h=(0,d.transformer)({point:function(e,t){this.stream.point(e*l.radians,t*l.radians)}});function m(e,t,n,i,o){function r(r,s){return[t+e*(r*=i),n-e*(s*=o)]}return r.invert=function(r,s){return[(r-t)/e*i,(n-s)/e*o]},r}function f(e,t,n,i,o,r){var s=(0,l.cos)(r),a=(0,l.sin)(r),c=s*e,d=a*e,u=s/e,p=a/e,h=(a*n-s*t)/e,m=(a*t+s*n)/e;function f(e,r){return[c*(e*=i)-d*(r*=o)+t,n-d*e-c*r]}return f.invert=function(e,t){return[i*(u*e-p*t+h),o*(m-p*e-u*t)]},f}function g(e){return v(function(){return e})()}function v(e){var t,n,g,v,y,b,x,w,C,_,S=150,I=480,A=250,E=0,D=0,T=0,R=0,M=0,O=0,P=1,F=1,k=null,N=i.default,j=null,L=a.default,V=.5;function B(e){return w(e[0]*l.radians,e[1]*l.radians)}function G(e){return(e=w.invert(e[0],e[1]))&&[e[0]*l.degrees,e[1]*l.degrees]}function z(){var e=f(S,0,0,P,F,O).apply(null,t(E,D)),i=(O?f:m)(S,I-e[0],A-e[1],P,F,O);return n=(0,c.rotateRadians)(T,R,M),x=(0,s.default)(t,i),w=(0,s.default)(n,x),b=(0,p.default)(x,V),$()}function $(){return C=_=null,B}return B.stream=function(e){return C&&_===e?C:C=h(function(e){return(0,d.transformer)({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}(n)(N(b(L(_=e)))))},B.preclip=function(e){return arguments.length?(N=e,k=void 0,$()):N},B.postclip=function(e){return arguments.length?(L=e,j=g=v=y=null,$()):L},B.clipAngle=function(e){return arguments.length?(N=+e?(0,o.default)(k=e*l.radians):(k=null,i.default),$()):k*l.degrees},B.clipExtent=function(e){return arguments.length?(L=null==e?(j=g=v=y=null,a.default):(0,r.default)(j=+e[0][0],g=+e[0][1],v=+e[1][0],y=+e[1][1]),$()):null==j?null:[[j,g],[v,y]]},B.scale=function(e){return arguments.length?(S=+e,z()):S},B.translate=function(e){return arguments.length?(I=+e[0],A=+e[1],z()):[I,A]},B.center=function(e){return arguments.length?(E=e[0]%360*l.radians,D=e[1]%360*l.radians,z()):[E*l.degrees,D*l.degrees]},B.rotate=function(e){return arguments.length?(T=e[0]%360*l.radians,R=e[1]%360*l.radians,M=e.length>2?e[2]%360*l.radians:0,z()):[T*l.degrees,R*l.degrees,M*l.degrees]},B.angle=function(e){return arguments.length?(O=e%360*l.radians,z()):O*l.degrees},B.reflectX=function(e){return arguments.length?(P=e?-1:1,z()):P<0},B.reflectY=function(e){return arguments.length?(F=e?-1:1,z()):F<0},B.precision=function(e){return arguments.length?(b=(0,p.default)(x,V=e*e),$()):(0,l.sqrt)(V)},B.fitExtent=function(e,t){return(0,u.fitExtent)(B,e,t)},B.fitSize=function(e,t){return(0,u.fitSize)(B,e,t)},B.fitWidth=function(e,t){return(0,u.fitWidth)(B,e,t)},B.fitHeight=function(e,t){return(0,u.fitHeight)(B,e,t)},function(){return t=e.apply(this,arguments),B.invert=t.invert&&G,z()}}},"./node_modules/d3-geo/src/projection/mercator.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{mercatorRaw:()=>s,default:()=>a,mercatorProjection:()=>l});var i=n("./node_modules/d3-geo/src/math.js"),o=n("./node_modules/d3-geo/src/rotation.js"),r=n("./node_modules/d3-geo/src/projection/index.js");function s(e,t){return[e,(0,i.log)((0,i.tan)((i.halfPi+t)/2))]}function a(){return l(s).scale(961/i.tau)}function l(e){var t,n,a,l=(0,r.default)(e),c=l.center,d=l.scale,u=l.translate,p=l.clipExtent,h=null;function m(){var r=i.pi*d(),c=l((0,o.default)(l.rotate()).invert([0,0]));return p(null==h?[[c[0]-r,c[1]-r],[c[0]+r,c[1]+r]]:e===s?[[Math.max(c[0]-r,h),t],[Math.min(c[0]+r,n),a]]:[[h,Math.max(c[1]-r,t)],[n,Math.min(c[1]+r,a)]])}return l.scale=function(e){return arguments.length?(d(e),m()):d()},l.translate=function(e){return arguments.length?(u(e),m()):u()},l.center=function(e){return arguments.length?(c(e),m()):c()},l.clipExtent=function(e){return arguments.length?(null==e?h=t=n=a=null:(h=+e[0][0],t=+e[0][1],n=+e[1][0],a=+e[1][1]),m()):null==h?null:[[h,t],[n,a]]},m()}s.invert=function(e,t){return[e,2*(0,i.atan)((0,i.exp)(t))-i.halfPi]}},"./node_modules/d3-geo/src/projection/naturalEarth1.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{naturalEarth1Raw:()=>r,default:()=>s});var i=n("./node_modules/d3-geo/src/projection/index.js"),o=n("./node_modules/d3-geo/src/math.js");function r(e,t){var n=t*t,i=n*n;return[e*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),t*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function s(){return(0,i.default)(r).scale(175.295)}r.invert=function(e,t){var n,i=t,r=25;do{var s=i*i,a=s*s;i-=n=(i*(1.007226+s*(.015085+a*(.028874*s-.044475-.005916*a)))-t)/(1.007226+s*(.045255+a*(.259866*s-.311325-.005916*11*a)))}while((0,o.abs)(n)>o.epsilon&&--r>0);return[e/(.8707+(s=i*i)*(s*(s*s*s*(.003971-.001529*s)-.013791)-.131979)),i]}},"./node_modules/d3-geo/src/projection/orthographic.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{orthographicRaw:()=>s,default:()=>a});var i=n("./node_modules/d3-geo/src/math.js"),o=n("./node_modules/d3-geo/src/projection/azimuthal.js"),r=n("./node_modules/d3-geo/src/projection/index.js");function s(e,t){return[(0,i.cos)(t)*(0,i.sin)(e),(0,i.sin)(t)]}function a(){return(0,r.default)(s).scale(249.5).clipAngle(90+i.epsilon)}s.invert=(0,o.azimuthalInvert)(i.asin)},"./node_modules/d3-geo/src/projection/resample.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n("./node_modules/d3-geo/src/cartesian.js"),o=n("./node_modules/d3-geo/src/math.js"),r=n("./node_modules/d3-geo/src/transform.js"),s=16,a=(0,o.cos)(30*o.radians);function l(e,t){return+t?function(e,t){function n(i,r,s,l,c,d,u,p,h,m,f,g,v,y){var b=u-i,x=p-r,w=b*b+x*x;if(w>4*t&&v--){var C=l+m,_=c+f,S=d+g,I=(0,o.sqrt)(C*C+_*_+S*S),A=(0,o.asin)(S/=I),E=(0,o.abs)((0,o.abs)(S)-1)<o.epsilon||(0,o.abs)(s-h)<o.epsilon?(s+h)/2:(0,o.atan2)(_,C),D=e(E,A),T=D[0],R=D[1],M=T-i,O=R-r,P=x*M-b*O;(P*P/w>t||(0,o.abs)((b*M+x*O)/w-.5)>.3||l*m+c*f+d*g<a)&&(n(i,r,s,l,c,d,T,R,E,C/=I,_/=I,S,v,y),y.point(T,R),n(T,R,E,C,_,S,u,p,h,m,f,g,v,y))}}return function(t){var o,r,a,l,c,d,u,p,h,m,f,g,v={point:y,lineStart:b,lineEnd:w,polygonStart:function(){t.polygonStart(),v.lineStart=C},polygonEnd:function(){t.polygonEnd(),v.lineStart=b}};function y(n,i){n=e(n,i),t.point(n[0],n[1])}function b(){p=NaN,v.point=x,t.lineStart()}function x(o,r){var a=(0,i.cartesian)([o,r]),l=e(o,r);n(p,h,u,m,f,g,p=l[0],h=l[1],u=o,m=a[0],f=a[1],g=a[2],s,t),t.point(p,h)}function w(){v.point=y,t.lineEnd()}function C(){b(),v.point=_,v.lineEnd=S}function _(e,t){x(o=e,t),r=p,a=h,l=m,c=f,d=g,v.point=x}function S(){n(p,h,u,m,f,g,r,a,o,l,c,d,s,t),v.lineEnd=w,w()}return v}}(e,t):function(e){return(0,r.transformer)({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}},"./node_modules/d3-geo/src/projection/stereographic.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{stereographicRaw:()=>s,default:()=>a});var i=n("./node_modules/d3-geo/src/math.js"),o=n("./node_modules/d3-geo/src/projection/azimuthal.js"),r=n("./node_modules/d3-geo/src/projection/index.js");function s(e,t){var n=(0,i.cos)(t),o=1+(0,i.cos)(e)*n;return[n*(0,i.sin)(e)/o,(0,i.sin)(t)/o]}function a(){return(0,r.default)(s).scale(250).clipAngle(142)}s.invert=(0,o.azimuthalInvert)(function(e){return 2*(0,i.atan)(e)})},"./node_modules/d3-geo/src/projection/transverseMercator.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{transverseMercatorRaw:()=>r,default:()=>s});var i=n("./node_modules/d3-geo/src/math.js"),o=n("./node_modules/d3-geo/src/projection/mercator.js");function r(e,t){return[(0,i.log)((0,i.tan)((i.halfPi+t)/2)),-e]}function s(){var e=(0,o.mercatorProjection)(r),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}r.invert=function(e,t){return[-t,2*(0,i.atan)((0,i.exp)(e))-i.halfPi]}},"./node_modules/d3-geo/src/rotation.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{rotateRadians:()=>s,default:()=>d});var i=n("./node_modules/d3-geo/src/compose.js"),o=n("./node_modules/d3-geo/src/math.js");function r(e,t){return[(0,o.abs)(e)>o.pi?e+Math.round(-e/o.tau)*o.tau:e,t]}function s(e,t,n){return(e%=o.tau)?t||n?(0,i.default)(l(e),c(t,n)):l(e):t||n?c(t,n):r}function a(e){return function(t,n){return[(t+=e)>o.pi?t-o.tau:t<-o.pi?t+o.tau:t,n]}}function l(e){var t=a(e);return t.invert=a(-e),t}function c(e,t){var n=(0,o.cos)(e),i=(0,o.sin)(e),r=(0,o.cos)(t),s=(0,o.sin)(t);function a(e,t){var a=(0,o.cos)(t),l=(0,o.cos)(e)*a,c=(0,o.sin)(e)*a,d=(0,o.sin)(t),u=d*n+l*i;return[(0,o.atan2)(c*r-u*s,l*n-d*i),(0,o.asin)(u*r+c*s)]}return a.invert=function(e,t){var a=(0,o.cos)(t),l=(0,o.cos)(e)*a,c=(0,o.sin)(e)*a,d=(0,o.sin)(t),u=d*r-c*s;return[(0,o.atan2)(c*r+d*s,l*n+u*i),(0,o.asin)(u*n-l*i)]},a}function d(e){function t(t){return(t=e(t[0]*o.radians,t[1]*o.radians))[0]*=o.degrees,t[1]*=o.degrees,t}return e=s(e[0]*o.radians,e[1]*o.radians,e.length>2?e[2]*o.radians:0),t.invert=function(t){return(t=e.invert(t[0]*o.radians,t[1]*o.radians))[0]*=o.degrees,t[1]*=o.degrees,t},t}r.invert=r},"./node_modules/d3-geo/src/stream.js":(e,t,n)=>{"use strict";function i(e,t){e&&r.hasOwnProperty(e.type)&&r[e.type](e,t)}n.r(t),n.d(t,{default:()=>l});var o={Feature:function(e,t){i(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,o=-1,r=n.length;++o<r;)i(n[o].geometry,t)}},r={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,o=n.length;++i<o;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){s(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,o=n.length;++i<o;)s(n[i],t,0)},Polygon:function(e,t){a(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,o=n.length;++i<o;)a(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,o=-1,r=n.length;++o<r;)i(n[o],t)}};function s(e,t,n){var i,o=-1,r=e.length-n;for(t.lineStart();++o<r;)i=e[o],t.point(i[0],i[1],i[2]);t.lineEnd()}function a(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)s(e[n],t,1);t.polygonEnd()}function l(e,t){e&&o.hasOwnProperty(e.type)?o[e.type](e,t):i(e,t)}},"./node_modules/d3-geo/src/transform.js":(e,t,n)=>{"use strict";function i(e){return{stream:o(e)}}function o(e){return function(t){var n=new r;for(var i in e)n[i]=e[i];return n.stream=t,n}}function r(){}n.r(t),n.d(t,{default:()=>i,transformer:()=>o}),r.prototype={constructor:r,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},"./node_modules/d3-hierarchy/src/accessors.js":(e,t,n)=>{"use strict";function i(e){return null==e?null:o(e)}function o(e){if("function"!=typeof e)throw new Error;return e}n.r(t),n.d(t,{optional:()=>i,required:()=>o})},"./node_modules/d3-hierarchy/src/array.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{slice:()=>i,shuffle:()=>o});var i=Array.prototype.slice;function o(e){for(var t,n,i=e.length;i;)n=Math.random()*i--|0,t=e[i],e[i]=e[n],e[n]=t;return e}},"./node_modules/d3-hierarchy/src/cluster.js":(e,t,n)=>{"use strict";function i(e,t){return e.parent===t.parent?1:2}function o(e,t){return e+t.x}function r(e,t){return Math.max(e,t.y)}function s(){var e=i,t=1,n=1,s=!1;function a(i){var a,l=0;i.eachAfter(function(t){var n=t.children;n?(t.x=function(e){return e.reduce(o,0)/e.length}(n),t.y=function(e){return 1+e.reduce(r,0)}(n)):(t.x=a?l+=e(t,a):0,t.y=0,a=t)});var c=function(e){for(var t;t=e.children;)e=t[0];return e}(i),d=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),u=c.x-e(c,d)/2,p=d.x+e(d,c)/2;return i.eachAfter(s?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-u)/(p-u)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return a.separation=function(t){return arguments.length?(e=t,a):e},a.size=function(e){return arguments.length?(s=!1,t=+e[0],n=+e[1],a):s?null:[t,n]},a.nodeSize=function(e){return arguments.length?(s=!0,t=+e[0],n=+e[1],a):s?[t,n]:null},a}n.r(t),n.d(t,{default:()=>s})},"./node_modules/d3-hierarchy/src/constant.js":(e,t,n)=>{"use strict";function i(){return 0}function o(e){return function(){return e}}n.r(t),n.d(t,{constantZero:()=>i,default:()=>o})},"./node_modules/d3-hierarchy/src/hierarchy/ancestors.js":(e,t,n)=>{"use strict";function i(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-hierarchy/src/hierarchy/count.js":(e,t,n)=>{"use strict";function i(e){var t=0,n=e.children,i=n&&n.length;if(i)for(;--i>=0;)t+=n[i].value;else t=1;e.value=t}function o(){return this.eachAfter(i)}n.r(t),n.d(t,{default:()=>o})},"./node_modules/d3-hierarchy/src/hierarchy/descendants.js":(e,t,n)=>{"use strict";function i(){var e=[];return this.each(function(t){e.push(t)}),e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-hierarchy/src/hierarchy/each.js":(e,t,n)=>{"use strict";function i(e){var t,n,i,o,r=this,s=[r];do{for(t=s.reverse(),s=[];r=t.pop();)if(e(r),n=r.children)for(i=0,o=n.length;i<o;++i)s.push(n[i])}while(s.length);return this}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js":(e,t,n)=>{"use strict";function i(e){for(var t,n,i,o=this,r=[o],s=[];o=r.pop();)if(s.push(o),t=o.children)for(n=0,i=t.length;n<i;++n)r.push(t[n]);for(;o=s.pop();)e(o);return this}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js":(e,t,n)=>{"use strict";function i(e){for(var t,n,i=this,o=[i];i=o.pop();)if(e(i),t=i.children)for(n=t.length-1;n>=0;--n)o.push(t[n]);return this}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-hierarchy/src/hierarchy/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m,computeHeight:()=>v,Node:()=>y});var i=n("./node_modules/d3-hierarchy/src/hierarchy/count.js"),o=n("./node_modules/d3-hierarchy/src/hierarchy/each.js"),r=n("./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js"),s=n("./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js"),a=n("./node_modules/d3-hierarchy/src/hierarchy/sum.js"),l=n("./node_modules/d3-hierarchy/src/hierarchy/sort.js"),c=n("./node_modules/d3-hierarchy/src/hierarchy/path.js"),d=n("./node_modules/d3-hierarchy/src/hierarchy/ancestors.js"),u=n("./node_modules/d3-hierarchy/src/hierarchy/descendants.js"),p=n("./node_modules/d3-hierarchy/src/hierarchy/leaves.js"),h=n("./node_modules/d3-hierarchy/src/hierarchy/links.js");function m(e,t){var n,i,o,r,s,a=new y(e),l=+e.value&&(a.value=e.value),c=[a];for(null==t&&(t=f);n=c.pop();)if(l&&(n.value=+n.data.value),(o=t(n.data))&&(s=o.length))for(n.children=new Array(s),r=s-1;r>=0;--r)c.push(i=n.children[r]=new y(o[r])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(v)}function f(e){return e.children}function g(e){e.data=e.data.data}function v(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function y(e){this.data=e,this.depth=this.height=0,this.parent=null}y.prototype=m.prototype={constructor:y,count:i.default,each:o.default,eachAfter:s.default,eachBefore:r.default,sum:a.default,sort:l.default,path:c.default,ancestors:d.default,descendants:u.default,leaves:p.default,links:h.default,copy:function(){return m(this).eachBefore(g)}}},"./node_modules/d3-hierarchy/src/hierarchy/leaves.js":(e,t,n)=>{"use strict";function i(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-hierarchy/src/hierarchy/links.js":(e,t,n)=>{"use strict";function i(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-hierarchy/src/hierarchy/path.js":(e,t,n)=>{"use strict";function i(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),o=null;e=n.pop(),t=i.pop();for(;e===t;)o=e,e=n.pop(),t=i.pop();return o}(t,e),i=[t];t!==n;)t=t.parent,i.push(t);for(var o=i.length;e!==n;)i.splice(o,0,e),e=e.parent;return i}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-hierarchy/src/hierarchy/sort.js":(e,t,n)=>{"use strict";function i(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-hierarchy/src/hierarchy/sum.js":(e,t,n)=>{"use strict";function i(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,i=t.children,o=i&&i.length;--o>=0;)n+=i[o].value;t.value=n})}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-hierarchy/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{cluster:()=>i.default,hierarchy:()=>o.default,pack:()=>r.default,packSiblings:()=>s.default,packEnclose:()=>a.default,partition:()=>l.default,stratify:()=>c.default,tree:()=>d.default,treemap:()=>u.default,treemapBinary:()=>p.default,treemapDice:()=>h.default,treemapSlice:()=>m.default,treemapSliceDice:()=>f.default,treemapSquarify:()=>g.default,treemapResquarify:()=>v.default});var i=n("./node_modules/d3-hierarchy/src/cluster.js"),o=n("./node_modules/d3-hierarchy/src/hierarchy/index.js"),r=n("./node_modules/d3-hierarchy/src/pack/index.js"),s=n("./node_modules/d3-hierarchy/src/pack/siblings.js"),a=n("./node_modules/d3-hierarchy/src/pack/enclose.js"),l=n("./node_modules/d3-hierarchy/src/partition.js"),c=n("./node_modules/d3-hierarchy/src/stratify.js"),d=n("./node_modules/d3-hierarchy/src/tree.js"),u=n("./node_modules/d3-hierarchy/src/treemap/index.js"),p=n("./node_modules/d3-hierarchy/src/treemap/binary.js"),h=n("./node_modules/d3-hierarchy/src/treemap/dice.js"),m=n("./node_modules/d3-hierarchy/src/treemap/slice.js"),f=n("./node_modules/d3-hierarchy/src/treemap/sliceDice.js"),g=n("./node_modules/d3-hierarchy/src/treemap/squarify.js"),v=n("./node_modules/d3-hierarchy/src/treemap/resquarify.js")},"./node_modules/d3-hierarchy/src/pack/enclose.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-hierarchy/src/array.js");function o(e){for(var t,n,o=0,s=(e=(0,i.shuffle)(i.slice.call(e))).length,l=[];o<s;)t=e[o],n&&a(n,t)?++o:(n=c(l=r(l,t)),o=0);return n}function r(e,t){var n,i;if(l(t,e))return[t];for(n=0;n<e.length;++n)if(s(t,e[n])&&l(d(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(i=n+1;i<e.length;++i)if(s(d(e[n],e[i]),t)&&s(d(e[n],t),e[i])&&s(d(e[i],t),e[n])&&l(u(e[n],e[i],t),e))return[e[n],e[i],t];throw new Error}function s(e,t){var n=e.r-t.r,i=t.x-e.x,o=t.y-e.y;return n<0||n*n<i*i+o*o}function a(e,t){var n=e.r-t.r+1e-6,i=t.x-e.x,o=t.y-e.y;return n>0&&n*n>i*i+o*o}function l(e,t){for(var n=0;n<t.length;++n)if(!a(e,t[n]))return!1;return!0}function c(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return d(e[0],e[1]);case 3:return u(e[0],e[1],e[2])}var t}function d(e,t){var n=e.x,i=e.y,o=e.r,r=t.x,s=t.y,a=t.r,l=r-n,c=s-i,d=a-o,u=Math.sqrt(l*l+c*c);return{x:(n+r+l/u*d)/2,y:(i+s+c/u*d)/2,r:(u+o+a)/2}}function u(e,t,n){var i=e.x,o=e.y,r=e.r,s=t.x,a=t.y,l=t.r,c=n.x,d=n.y,u=n.r,p=i-s,h=i-c,m=o-a,f=o-d,g=l-r,v=u-r,y=i*i+o*o-r*r,b=y-s*s-a*a+l*l,x=y-c*c-d*d+u*u,w=h*m-p*f,C=(m*x-f*b)/(2*w)-i,_=(f*g-m*v)/w,S=(h*b-p*x)/(2*w)-o,I=(p*v-h*g)/w,A=_*_+I*I-1,E=2*(r+C*_+S*I),D=C*C+S*S-r*r,T=-(A?(E+Math.sqrt(E*E-4*A*D))/(2*A):D/E);return{x:i+C+_*T,y:o+S+I*T,r:T}}},"./node_modules/d3-hierarchy/src/pack/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("./node_modules/d3-hierarchy/src/pack/siblings.js"),o=n("./node_modules/d3-hierarchy/src/accessors.js"),r=n("./node_modules/d3-hierarchy/src/constant.js");function s(e){return Math.sqrt(e.value)}function a(){var e=null,t=1,n=1,i=r.constantZero;function a(o){return o.x=t/2,o.y=n/2,e?o.eachBefore(l(e)).eachAfter(c(i,.5)).eachBefore(d(1)):o.eachBefore(l(s)).eachAfter(c(r.constantZero,1)).eachAfter(c(i,o.r/Math.min(t,n))).eachBefore(d(Math.min(t,n)/(2*o.r))),o}return a.radius=function(t){return arguments.length?(e=(0,o.optional)(t),a):e},a.size=function(e){return arguments.length?(t=+e[0],n=+e[1],a):[t,n]},a.padding=function(e){return arguments.length?(i="function"==typeof e?e:(0,r.default)(+e),a):i},a}function l(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function c(e,t){return function(n){if(o=n.children){var o,r,s,a=o.length,l=e(n)*t||0;if(l)for(r=0;r<a;++r)o[r].r+=l;if(s=(0,i.packEnclose)(o),l)for(r=0;r<a;++r)o[r].r-=l;n.r=s+l}}}function d(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}},"./node_modules/d3-hierarchy/src/pack/siblings.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{packEnclose:()=>l,default:()=>c});var i=n("./node_modules/d3-hierarchy/src/pack/enclose.js");function o(e,t,n){var i,o,r,s,a=e.x-t.x,l=e.y-t.y,c=a*a+l*l;c?(o=t.r+n.r,o*=o,s=e.r+n.r,o>(s*=s)?(i=(c+s-o)/(2*c),r=Math.sqrt(Math.max(0,s/c-i*i)),n.x=e.x-i*a-r*l,n.y=e.y-i*l+r*a):(i=(c+o-s)/(2*c),r=Math.sqrt(Math.max(0,o/c-i*i)),n.x=t.x+i*a-r*l,n.y=t.y+i*l+r*a)):(n.x=t.x+n.r,n.y=t.y)}function r(e,t){var n=e.r+t.r-1e-6,i=t.x-e.x,o=t.y-e.y;return n>0&&n*n>i*i+o*o}function s(e){var t=e._,n=e.next._,i=t.r+n.r,o=(t.x*n.r+n.x*t.r)/i,r=(t.y*n.r+n.y*t.r)/i;return o*o+r*r}function a(e){this._=e,this.next=null,this.previous=null}function l(e){if(!(c=e.length))return 0;var t,n,l,c,d,u,p,h,m,f,g;if((t=e[0]).x=0,t.y=0,!(c>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(c>2))return t.r+n.r;o(n,t,l=e[2]),t=new a(t),n=new a(n),l=new a(l),t.next=l.previous=n,n.next=t.previous=l,l.next=n.previous=t;e:for(p=3;p<c;++p){o(t._,n._,l=e[p]),l=new a(l),h=n.next,m=t.previous,f=n._.r,g=t._.r;do{if(f<=g){if(r(h._,l._)){n=h,t.next=n,n.previous=t,--p;continue e}f+=h._.r,h=h.next}else{if(r(m._,l._)){(t=m).next=n,n.previous=t,--p;continue e}g+=m._.r,m=m.previous}}while(h!==m.next);for(l.previous=t,l.next=n,t.next=n.previous=n=l,d=s(t);(l=l.next)!==n;)(u=s(l))<d&&(t=l,d=u);n=t.next}for(t=[n._],l=n;(l=l.next)!==n;)t.push(l._);for(l=(0,i.default)(t),p=0;p<c;++p)(t=e[p]).x-=l.x,t.y-=l.y;return l.r}function c(e){return l(e),e}},"./node_modules/d3-hierarchy/src/partition.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-hierarchy/src/treemap/round.js"),o=n("./node_modules/d3-hierarchy/src/treemap/dice.js");function r(){var e=1,t=1,n=0,r=!1;function s(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(function(e,t){return function(i){i.children&&(0,o.default)(i,i.x0,e*(i.depth+1)/t,i.x1,e*(i.depth+2)/t);var r=i.x0,s=i.y0,a=i.x1-n,l=i.y1-n;a<r&&(r=a=(r+a)/2),l<s&&(s=l=(s+l)/2),i.x0=r,i.y0=s,i.x1=a,i.y1=l}}(t,a)),r&&s.eachBefore(i.default),s}return s.round=function(e){return arguments.length?(r=!!e,s):r},s.size=function(n){return arguments.length?(e=+n[0],t=+n[1],s):[e,t]},s.padding=function(e){return arguments.length?(n=+e,s):n},s}},"./node_modules/d3-hierarchy/src/stratify.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n("./node_modules/d3-hierarchy/src/accessors.js"),o=n("./node_modules/d3-hierarchy/src/hierarchy/index.js"),r="$",s={depth:-1},a={};function l(e){return e.id}function c(e){return e.parentId}function d(){var e=l,t=c;function n(n){var i,l,c,d,u,p,h,m=n.length,f=new Array(m),g={};for(l=0;l<m;++l)i=n[l],u=f[l]=new o.Node(i),null!=(p=e(i,l,n))&&(p+="")&&(g[h=r+(u.id=p)]=h in g?a:u);for(l=0;l<m;++l)if(u=f[l],null!=(p=t(n[l],l,n))&&(p+="")){if(!(d=g[r+p]))throw new Error("missing: "+p);if(d===a)throw new Error("ambiguous: "+p);d.children?d.children.push(u):d.children=[u],u.parent=d}else{if(c)throw new Error("multiple roots");c=u}if(!c)throw new Error("no root");if(c.parent=s,c.eachBefore(function(e){e.depth=e.parent.depth+1,--m}).eachBefore(o.computeHeight),c.parent=null,m>0)throw new Error("cycle");return c}return n.id=function(t){return arguments.length?(e=(0,i.required)(t),n):e},n.parentId=function(e){return arguments.length?(t=(0,i.required)(e),n):t},n}},"./node_modules/d3-hierarchy/src/tree.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n("./node_modules/d3-hierarchy/src/hierarchy/index.js");function o(e,t){return e.parent===t.parent?1:2}function r(e){var t=e.children;return t?t[0]:e.t}function s(e){var t=e.children;return t?t[t.length-1]:e.t}function a(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function l(e,t,n){return e.a.parent===t.parent?e.a:n}function c(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function d(){var e=o,t=1,n=1,i=null;function d(o){var r=function(e){for(var t,n,i,o,r,s=new c(e,0),a=[s];t=a.pop();)if(i=t._.children)for(t.children=new Array(r=i.length),o=r-1;o>=0;--o)a.push(n=t.children[o]=new c(i[o],o)),n.parent=t;return(s.parent=new c(null,0)).children=[s],s}(o);if(r.eachAfter(u),r.parent.m=-r.z,r.eachBefore(p),i)o.eachBefore(h);else{var s=o,a=o,l=o;o.eachBefore(function(e){e.x<s.x&&(s=e),e.x>a.x&&(a=e),e.depth>l.depth&&(l=e)});var d=s===a?1:e(s,a)/2,m=d-s.x,f=t/(a.x+d+m),g=n/(l.depth||1);o.eachBefore(function(e){e.x=(e.x+m)*f,e.y=e.depth*g})}return o}function u(t){var n=t.children,i=t.parent.children,o=t.i?i[t.i-1]:null;if(n){!function(e){for(var t,n=0,i=0,o=e.children,r=o.length;--r>=0;)(t=o[r]).z+=n,t.m+=n,n+=t.s+(i+=t.c)}(t);var c=(n[0].z+n[n.length-1].z)/2;o?(t.z=o.z+e(t._,o._),t.m=t.z-c):t.z=c}else o&&(t.z=o.z+e(t._,o._));t.parent.A=function(t,n,i){if(n){for(var o,c=t,d=t,u=n,p=c.parent.children[0],h=c.m,m=d.m,f=u.m,g=p.m;u=s(u),c=r(c),u&&c;)p=r(p),(d=s(d)).a=t,(o=u.z+f-c.z-h+e(u._,c._))>0&&(a(l(u,t,i),t,o),h+=o,m+=o),f+=u.m,h+=c.m,g+=p.m,m+=d.m;u&&!s(d)&&(d.t=u,d.m+=f-m),c&&!r(p)&&(p.t=c,p.m+=h-g,i=t)}return i}(t,o,t.parent.A||i[0])}function p(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function h(e){e.x*=t,e.y=e.depth*n}return d.separation=function(t){return arguments.length?(e=t,d):e},d.size=function(e){return arguments.length?(i=!1,t=+e[0],n=+e[1],d):i?null:[t,n]},d.nodeSize=function(e){return arguments.length?(i=!0,t=+e[0],n=+e[1],d):i?[t,n]:null},d}c.prototype=Object.create(i.Node.prototype)},"./node_modules/d3-hierarchy/src/treemap/binary.js":(e,t,n)=>{"use strict";function i(e,t,n,i,o){var r,s,a=e.children,l=a.length,c=new Array(l+1);for(c[0]=s=r=0;r<l;++r)c[r+1]=s+=a[r].value;!function e(t,n,i,o,r,s,l){if(t>=n-1){var d=a[t];return d.x0=o,d.y0=r,d.x1=s,void(d.y1=l)}var u=c[t],p=i/2+u,h=t+1,m=n-1;for(;h<m;){var f=h+m>>>1;c[f]<p?h=f+1:m=f}p-c[h-1]<c[h]-p&&t+1<h&&--h;var g=c[h]-u,v=i-g;if(s-o>l-r){var y=(o*v+s*g)/i;e(t,h,g,o,r,y,l),e(h,n,v,y,r,s,l)}else{var b=(r*v+l*g)/i;e(t,h,g,o,r,s,b),e(h,n,v,o,b,s,l)}}(0,l,e.value,t,n,i,o)}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-hierarchy/src/treemap/dice.js":(e,t,n)=>{"use strict";function i(e,t,n,i,o){for(var r,s=e.children,a=-1,l=s.length,c=e.value&&(i-t)/e.value;++a<l;)(r=s[a]).y0=n,r.y1=o,r.x0=t,r.x1=t+=r.value*c}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-hierarchy/src/treemap/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("./node_modules/d3-hierarchy/src/treemap/round.js"),o=n("./node_modules/d3-hierarchy/src/treemap/squarify.js"),r=n("./node_modules/d3-hierarchy/src/accessors.js"),s=n("./node_modules/d3-hierarchy/src/constant.js");function a(){var e=o.default,t=!1,n=1,a=1,l=[0],c=s.constantZero,d=s.constantZero,u=s.constantZero,p=s.constantZero,h=s.constantZero;function m(e){return e.x0=e.y0=0,e.x1=n,e.y1=a,e.eachBefore(f),l=[0],t&&e.eachBefore(i.default),e}function f(t){var n=l[t.depth],i=t.x0+n,o=t.y0+n,r=t.x1-n,s=t.y1-n;r<i&&(i=r=(i+r)/2),s<o&&(o=s=(o+s)/2),t.x0=i,t.y0=o,t.x1=r,t.y1=s,t.children&&(n=l[t.depth+1]=c(t)/2,i+=h(t)-n,o+=d(t)-n,(r-=u(t)-n)<i&&(i=r=(i+r)/2),(s-=p(t)-n)<o&&(o=s=(o+s)/2),e(t,i,o,r,s))}return m.round=function(e){return arguments.length?(t=!!e,m):t},m.size=function(e){return arguments.length?(n=+e[0],a=+e[1],m):[n,a]},m.tile=function(t){return arguments.length?(e=(0,r.required)(t),m):e},m.padding=function(e){return arguments.length?m.paddingInner(e).paddingOuter(e):m.paddingInner()},m.paddingInner=function(e){return arguments.length?(c="function"==typeof e?e:(0,s.default)(+e),m):c},m.paddingOuter=function(e){return arguments.length?m.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):m.paddingTop()},m.paddingTop=function(e){return arguments.length?(d="function"==typeof e?e:(0,s.default)(+e),m):d},m.paddingRight=function(e){return arguments.length?(u="function"==typeof e?e:(0,s.default)(+e),m):u},m.paddingBottom=function(e){return arguments.length?(p="function"==typeof e?e:(0,s.default)(+e),m):p},m.paddingLeft=function(e){return arguments.length?(h="function"==typeof e?e:(0,s.default)(+e),m):h},m}},"./node_modules/d3-hierarchy/src/treemap/resquarify.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-hierarchy/src/treemap/dice.js"),o=n("./node_modules/d3-hierarchy/src/treemap/slice.js"),r=n("./node_modules/d3-hierarchy/src/treemap/squarify.js");const s=function e(t){function n(e,n,s,a,l){if((c=e._squarify)&&c.ratio===t)for(var c,d,u,p,h,m=-1,f=c.length,g=e.value;++m<f;){for(u=(d=c[m]).children,p=d.value=0,h=u.length;p<h;++p)d.value+=u[p].value;d.dice?(0,i.default)(d,n,s,a,s+=(l-s)*d.value/g):(0,o.default)(d,n,s,n+=(a-n)*d.value/g,l),g-=d.value}else e._squarify=c=(0,r.squarifyRatio)(t,e,n,s,a,l),c.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(r.phi)},"./node_modules/d3-hierarchy/src/treemap/round.js":(e,t,n)=>{"use strict";function i(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-hierarchy/src/treemap/slice.js":(e,t,n)=>{"use strict";function i(e,t,n,i,o){for(var r,s=e.children,a=-1,l=s.length,c=e.value&&(o-n)/e.value;++a<l;)(r=s[a]).x0=t,r.x1=i,r.y0=n,r.y1=n+=r.value*c}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-hierarchy/src/treemap/sliceDice.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-hierarchy/src/treemap/dice.js"),o=n("./node_modules/d3-hierarchy/src/treemap/slice.js");function r(e,t,n,r,s){(1&e.depth?o.default:i.default)(e,t,n,r,s)}},"./node_modules/d3-hierarchy/src/treemap/squarify.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{phi:()=>r,squarifyRatio:()=>s,default:()=>a});var i=n("./node_modules/d3-hierarchy/src/treemap/dice.js"),o=n("./node_modules/d3-hierarchy/src/treemap/slice.js"),r=(1+Math.sqrt(5))/2;function s(e,t,n,r,s,a){for(var l,c,d,u,p,h,m,f,g,v,y,b=[],x=t.children,w=0,C=0,_=x.length,S=t.value;w<_;){d=s-n,u=a-r;do{p=x[C++].value}while(!p&&C<_);for(h=m=p,y=p*p*(v=Math.max(u/d,d/u)/(S*e)),g=Math.max(m/y,y/h);C<_;++C){if(p+=c=x[C].value,c<h&&(h=c),c>m&&(m=c),y=p*p*v,(f=Math.max(m/y,y/h))>g){p-=c;break}g=f}b.push(l={value:p,dice:d<u,children:x.slice(w,C)}),l.dice?(0,i.default)(l,n,r,s,S?r+=u*p/S:a):(0,o.default)(l,n,r,S?n+=d*p/S:s,a),S-=p,w=C}return b}const a=function e(t){function n(e,n,i,o,r){s(t,e,n,i,o,r)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(r)},"./node_modules/d3-interpolate/src/array.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r,genericArray:()=>s});var i=n("./node_modules/d3-interpolate/src/value.js"),o=n("./node_modules/d3-interpolate/src/numberArray.js");function r(e,t){return((0,o.isNumberArray)(t)?o.default:s)(e,t)}function s(e,t){var n,o=t?t.length:0,r=e?Math.min(o,e.length):0,s=new Array(r),a=new Array(o);for(n=0;n<r;++n)s[n]=(0,i.default)(e[n],t[n]);for(;n<o;++n)a[n]=t[n];return function(e){for(n=0;n<r;++n)a[n]=s[n](e);return a}}},"./node_modules/d3-interpolate/src/basis.js":(e,t,n)=>{"use strict";function i(e,t,n,i,o){var r=e*e,s=r*e;return((1-3*e+3*r-s)*t+(4-6*r+3*s)*n+(1+3*e+3*r-3*s)*i+s*o)/6}function o(e){var t=e.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[o],s=e[o+1],a=o>0?e[o-1]:2*r-s,l=o<t-1?e[o+2]:2*s-r;return i((n-o/t)*t,a,r,s,l)}}n.r(t),n.d(t,{basis:()=>i,default:()=>o})},"./node_modules/d3-interpolate/src/basisClosed.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-interpolate/src/basis.js");function o(e){var t=e.length;return function(n){var o=Math.floor(((n%=1)<0?++n:n)*t),r=e[(o+t-1)%t],s=e[o%t],a=e[(o+1)%t],l=e[(o+2)%t];return(0,i.basis)((n-o/t)*t,r,s,a,l)}}},"./node_modules/d3-interpolate/src/color.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{hue:()=>r,gamma:()=>s,default:()=>a});var i=n("./node_modules/d3-interpolate/src/constant.js");function o(e,t){return function(n){return e+n*t}}function r(e,t){var n=t-e;return n?o(e,n>180||n<-180?n-360*Math.round(n/360):n):(0,i.default)(isNaN(e)?t:e)}function s(e){return 1==(e=+e)?a:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):(0,i.default)(isNaN(t)?n:t)}}function a(e,t){var n=t-e;return n?o(e,n):(0,i.default)(isNaN(e)?t:e)}},"./node_modules/d3-interpolate/src/constant.js":(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-interpolate/src/cubehelix.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,cubehelixLong:()=>a});var i=n("./node_modules/d3-color/src/index.js"),o=n("./node_modules/d3-interpolate/src/color.js");function r(e){return function t(n){function r(t,r){var s=e((t=(0,i.cubehelix)(t)).h,(r=(0,i.cubehelix)(r)).h),a=(0,o.default)(t.s,r.s),l=(0,o.default)(t.l,r.l),c=(0,o.default)(t.opacity,r.opacity);return function(e){return t.h=s(e),t.s=a(e),t.l=l(Math.pow(e,n)),t.opacity=c(e),t+""}}return n=+n,r.gamma=t,r}(1)}const s=r(o.hue);var a=r(o.default)},"./node_modules/d3-interpolate/src/date.js":(e,t,n)=>{"use strict";function i(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-interpolate/src/discrete.js":(e,t,n)=>{"use strict";function i(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-interpolate/src/hcl.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,hclLong:()=>a});var i=n("./node_modules/d3-color/src/index.js"),o=n("./node_modules/d3-interpolate/src/color.js");function r(e){return function(t,n){var r=e((t=(0,i.hcl)(t)).h,(n=(0,i.hcl)(n)).h),s=(0,o.default)(t.c,n.c),a=(0,o.default)(t.l,n.l),l=(0,o.default)(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=s(e),t.l=a(e),t.opacity=l(e),t+""}}}const s=r(o.hue);var a=r(o.default)},"./node_modules/d3-interpolate/src/hsl.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,hslLong:()=>a});var i=n("./node_modules/d3-color/src/index.js"),o=n("./node_modules/d3-interpolate/src/color.js");function r(e){return function(t,n){var r=e((t=(0,i.hsl)(t)).h,(n=(0,i.hsl)(n)).h),s=(0,o.default)(t.s,n.s),a=(0,o.default)(t.l,n.l),l=(0,o.default)(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=s(e),t.l=a(e),t.opacity=l(e),t+""}}}const s=r(o.hue);var a=r(o.default)},"./node_modules/d3-interpolate/src/hue.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-interpolate/src/color.js");function o(e,t){var n=(0,i.hue)(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}}},"./node_modules/d3-interpolate/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{interpolate:()=>i.default,interpolateArray:()=>o.default,interpolateBasis:()=>r.default,interpolateBasisClosed:()=>s.default,interpolateDate:()=>a.default,interpolateDiscrete:()=>l.default,interpolateHue:()=>c.default,interpolateNumber:()=>d.default,interpolateNumberArray:()=>u.default,interpolateObject:()=>p.default,interpolateRound:()=>h.default,interpolateString:()=>m.default,interpolateTransformCss:()=>f.interpolateTransformCss,interpolateTransformSvg:()=>f.interpolateTransformSvg,interpolateZoom:()=>g.default,interpolateRgb:()=>v.default,interpolateRgbBasis:()=>v.rgbBasis,interpolateRgbBasisClosed:()=>v.rgbBasisClosed,interpolateHsl:()=>y.default,interpolateHslLong:()=>y.hslLong,interpolateLab:()=>b.default,interpolateHcl:()=>x.default,interpolateHclLong:()=>x.hclLong,interpolateCubehelix:()=>w.default,interpolateCubehelixLong:()=>w.cubehelixLong,piecewise:()=>C.default,quantize:()=>_.default});var i=n("./node_modules/d3-interpolate/src/value.js"),o=n("./node_modules/d3-interpolate/src/array.js"),r=n("./node_modules/d3-interpolate/src/basis.js"),s=n("./node_modules/d3-interpolate/src/basisClosed.js"),a=n("./node_modules/d3-interpolate/src/date.js"),l=n("./node_modules/d3-interpolate/src/discrete.js"),c=n("./node_modules/d3-interpolate/src/hue.js"),d=n("./node_modules/d3-interpolate/src/number.js"),u=n("./node_modules/d3-interpolate/src/numberArray.js"),p=n("./node_modules/d3-interpolate/src/object.js"),h=n("./node_modules/d3-interpolate/src/round.js"),m=n("./node_modules/d3-interpolate/src/string.js"),f=n("./node_modules/d3-interpolate/src/transform/index.js"),g=n("./node_modules/d3-interpolate/src/zoom.js"),v=n("./node_modules/d3-interpolate/src/rgb.js"),y=n("./node_modules/d3-interpolate/src/hsl.js"),b=n("./node_modules/d3-interpolate/src/lab.js"),x=n("./node_modules/d3-interpolate/src/hcl.js"),w=n("./node_modules/d3-interpolate/src/cubehelix.js"),C=n("./node_modules/d3-interpolate/src/piecewise.js"),_=n("./node_modules/d3-interpolate/src/quantize.js")},"./node_modules/d3-interpolate/src/lab.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-color/src/index.js"),o=n("./node_modules/d3-interpolate/src/color.js");function r(e,t){var n=(0,o.default)((e=(0,i.lab)(e)).l,(t=(0,i.lab)(t)).l),r=(0,o.default)(e.a,t.a),s=(0,o.default)(e.b,t.b),a=(0,o.default)(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=s(t),e.opacity=a(t),e+""}}},"./node_modules/d3-interpolate/src/number.js":(e,t,n)=>{"use strict";function i(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-interpolate/src/numberArray.js":(e,t,n)=>{"use strict";function i(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,o=t.slice();return function(r){for(n=0;n<i;++n)o[n]=e[n]*(1-r)+t[n]*r;return o}}function o(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}n.r(t),n.d(t,{default:()=>i,isNumberArray:()=>o})},"./node_modules/d3-interpolate/src/object.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-interpolate/src/value.js");function o(e,t){var n,o={},r={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?o[n]=(0,i.default)(e[n],t[n]):r[n]=t[n];return function(e){for(n in o)r[n]=o[n](e);return r}}},"./node_modules/d3-interpolate/src/piecewise.js":(e,t,n)=>{"use strict";function i(e,t){for(var n=0,i=t.length-1,o=t[0],r=new Array(i<0?0:i);n<i;)r[n]=e(o,o=t[++n]);return function(e){var t=Math.max(0,Math.min(i-1,Math.floor(e*=i)));return r[t](e-t)}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-interpolate/src/quantize.js":(e,t,n)=>{"use strict";function i(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-interpolate/src/rgb.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a,rgbBasis:()=>c,rgbBasisClosed:()=>d});var i=n("./node_modules/d3-color/src/index.js"),o=n("./node_modules/d3-interpolate/src/basis.js"),r=n("./node_modules/d3-interpolate/src/basisClosed.js"),s=n("./node_modules/d3-interpolate/src/color.js");const a=function e(t){var n=(0,s.gamma)(t);function o(e,t){var o=n((e=(0,i.rgb)(e)).r,(t=(0,i.rgb)(t)).r),r=n(e.g,t.g),a=n(e.b,t.b),l=(0,s.default)(e.opacity,t.opacity);return function(t){return e.r=o(t),e.g=r(t),e.b=a(t),e.opacity=l(t),e+""}}return o.gamma=e,o}(1);function l(e){return function(t){var n,o,r=t.length,s=new Array(r),a=new Array(r),l=new Array(r);for(n=0;n<r;++n)o=(0,i.rgb)(t[n]),s[n]=o.r||0,a[n]=o.g||0,l[n]=o.b||0;return s=e(s),a=e(a),l=e(l),o.opacity=1,function(e){return o.r=s(e),o.g=a(e),o.b=l(e),o+""}}}var c=l(o.default),d=l(r.default)},"./node_modules/d3-interpolate/src/round.js":(e,t,n)=>{"use strict";function i(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-interpolate/src/string.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-interpolate/src/number.js"),o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r=new RegExp(o.source,"g");function s(e,t){var n,s,a,l=o.lastIndex=r.lastIndex=0,c=-1,d=[],u=[];for(e+="",t+="";(n=o.exec(e))&&(s=r.exec(t));)(a=s.index)>l&&(a=t.slice(l,a),d[c]?d[c]+=a:d[++c]=a),(n=n[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,u.push({i:c,x:(0,i.default)(n,s)})),l=r.lastIndex;return l<t.length&&(a=t.slice(l),d[c]?d[c]+=a:d[++c]=a),d.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,i=0;i<t;++i)d[(n=u[i]).i]=n.x(e);return d.join("")})}},"./node_modules/d3-interpolate/src/transform/decompose.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{identity:()=>o,default:()=>r});var i=180/Math.PI,o={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function r(e,t,n,o,r,s){var a,l,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*o)&&(n-=e*c,o-=t*c),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,c/=l),e*o<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*i,skewX:Math.atan(c)*i,scaleX:a,scaleY:l}}},"./node_modules/d3-interpolate/src/transform/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{interpolateTransformCss:()=>s,interpolateTransformSvg:()=>a});var i=n("./node_modules/d3-interpolate/src/number.js"),o=n("./node_modules/d3-interpolate/src/transform/parse.js");function r(e,t,n,o){function r(e){return e.length?e.pop()+" ":""}return function(s,a){var l=[],c=[];return s=e(s),a=e(a),function(e,o,r,s,a,l){if(e!==r||o!==s){var c=a.push("translate(",null,t,null,n);l.push({i:c-4,x:(0,i.default)(e,r)},{i:c-2,x:(0,i.default)(o,s)})}else(r||s)&&a.push("translate("+r+t+s+n)}(s.translateX,s.translateY,a.translateX,a.translateY,l,c),function(e,t,n,s){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),s.push({i:n.push(r(n)+"rotate(",null,o)-2,x:(0,i.default)(e,t)})):t&&n.push(r(n)+"rotate("+t+o)}(s.rotate,a.rotate,l,c),function(e,t,n,s){e!==t?s.push({i:n.push(r(n)+"skewX(",null,o)-2,x:(0,i.default)(e,t)}):t&&n.push(r(n)+"skewX("+t+o)}(s.skewX,a.skewX,l,c),function(e,t,n,o,s,a){if(e!==n||t!==o){var l=s.push(r(s)+"scale(",null,",",null,")");a.push({i:l-4,x:(0,i.default)(e,n)},{i:l-2,x:(0,i.default)(t,o)})}else 1===n&&1===o||s.push(r(s)+"scale("+n+","+o+")")}(s.scaleX,s.scaleY,a.scaleX,a.scaleY,l,c),s=a=null,function(e){for(var t,n=-1,i=c.length;++n<i;)l[(t=c[n]).i]=t.x(e);return l.join("")}}}var s=r(o.parseCss,"px, ","px)","deg)"),a=r(o.parseSvg,", ",")",")")},"./node_modules/d3-interpolate/src/transform/parse.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{parseCss:()=>l,parseSvg:()=>c});var i,o,r,s,a=n("./node_modules/d3-interpolate/src/transform/decompose.js");function l(e){return"none"===e?a.identity:(i||(i=document.createElement("DIV"),o=document.documentElement,r=document.defaultView),i.style.transform=e,e=r.getComputedStyle(o.appendChild(i),null).getPropertyValue("transform"),o.removeChild(i),e=e.slice(7,-1).split(","),(0,a.default)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function c(e){return null==e?a.identity:(s||(s=document.createElementNS("http://www.w3.org/2000/svg","g")),s.setAttribute("transform",e),(e=s.transform.baseVal.consolidate())?(e=e.matrix,(0,a.default)(e.a,e.b,e.c,e.d,e.e,e.f)):a.identity)}},"./node_modules/d3-interpolate/src/value.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var i=n("./node_modules/d3-color/src/index.js"),o=n("./node_modules/d3-interpolate/src/rgb.js"),r=n("./node_modules/d3-interpolate/src/array.js"),s=n("./node_modules/d3-interpolate/src/date.js"),a=n("./node_modules/d3-interpolate/src/number.js"),l=n("./node_modules/d3-interpolate/src/object.js"),c=n("./node_modules/d3-interpolate/src/string.js"),d=n("./node_modules/d3-interpolate/src/constant.js"),u=n("./node_modules/d3-interpolate/src/numberArray.js");function p(e,t){var n,p=typeof t;return null==t||"boolean"===p?(0,d.default)(t):("number"===p?a.default:"string"===p?(n=(0,i.color)(t))?(t=n,o.default):c.default:t instanceof i.color?o.default:t instanceof Date?s.default:(0,u.isNumberArray)(t)?u.default:Array.isArray(t)?r.genericArray:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?l.default:a.default)(e,t)}},"./node_modules/d3-interpolate/src/zoom.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=Math.SQRT2,o=2,r=4,s=1e-12;function a(e){return((e=Math.exp(e))+1/e)/2}function l(e,t){var n,l,c=e[0],d=e[1],u=e[2],p=t[0],h=t[1],m=t[2],f=p-c,g=h-d,v=f*f+g*g;if(v<s)l=Math.log(m/u)/i,n=function(e){return[c+e*f,d+e*g,u*Math.exp(i*e*l)]};else{var y=Math.sqrt(v),b=(m*m-u*u+r*v)/(2*u*o*y),x=(m*m-u*u-r*v)/(2*m*o*y),w=Math.log(Math.sqrt(b*b+1)-b),C=Math.log(Math.sqrt(x*x+1)-x);l=(C-w)/i,n=function(e){var t,n=e*l,r=a(w),s=u/(o*y)*(r*(t=i*n+w,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(w));return[c+s*f,d+s*g,u*r/a(i*n+w)]}}return n.duration=1e3*l,n}},"./node_modules/d3-path/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{path:()=>i.default});var i=n("./node_modules/d3-path/src/path.js")},"./node_modules/d3-path/src/path.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=Math.PI,o=2*i,r=1e-6,s=o-r;function a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function l(){return new a}a.prototype=l.prototype={constructor:a,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,o,r){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+o)+","+(this._y1=+r)},arcTo:function(e,t,n,o,s){e=+e,t=+t,n=+n,o=+o,s=+s;var a=this._x1,l=this._y1,c=n-e,d=o-t,u=a-e,p=l-t,h=u*u+p*p;if(s<0)throw new Error("negative radius: "+s);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>r)if(Math.abs(p*c-d*u)>r&&s){var m=n-a,f=o-l,g=c*c+d*d,v=m*m+f*f,y=Math.sqrt(g),b=Math.sqrt(h),x=s*Math.tan((i-Math.acos((g+h-v)/(2*y*b)))/2),w=x/b,C=x/y;Math.abs(w-1)>r&&(this._+="L"+(e+w*u)+","+(t+w*p)),this._+="A"+s+","+s+",0,0,"+ +(p*m>u*f)+","+(this._x1=e+C*c)+","+(this._y1=t+C*d)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,a,l,c){e=+e,t=+t,c=!!c;var d=(n=+n)*Math.cos(a),u=n*Math.sin(a),p=e+d,h=t+u,m=1^c,f=c?a-l:l-a;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+p+","+h:(Math.abs(this._x1-p)>r||Math.abs(this._y1-h)>r)&&(this._+="L"+p+","+h),n&&(f<0&&(f=f%o+o),f>s?this._+="A"+n+","+n+",0,1,"+m+","+(e-d)+","+(t-u)+"A"+n+","+n+",0,1,"+m+","+(this._x1=p)+","+(this._y1=h):f>r&&(this._+="A"+n+","+n+",0,"+ +(f>=i)+","+m+","+(this._x1=e+n*Math.cos(l))+","+(this._y1=t+n*Math.sin(l))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};const c=l},"./node_modules/d3-polygon/src/area.js":(e,t,n)=>{"use strict";function i(e){for(var t,n=-1,i=e.length,o=e[i-1],r=0;++n<i;)t=o,o=e[n],r+=t[1]*o[0]-t[0]*o[1];return r/2}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-polygon/src/centroid.js":(e,t,n)=>{"use strict";function i(e){for(var t,n,i=-1,o=e.length,r=0,s=0,a=e[o-1],l=0;++i<o;)t=a,a=e[i],l+=n=t[0]*a[1]-a[0]*t[1],r+=(t[0]+a[0])*n,s+=(t[1]+a[1])*n;return[r/(l*=3),s/l]}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-polygon/src/contains.js":(e,t,n)=>{"use strict";function i(e,t){for(var n,i,o=e.length,r=e[o-1],s=t[0],a=t[1],l=r[0],c=r[1],d=!1,u=0;u<o;++u)n=(r=e[u])[0],(i=r[1])>a!=c>a&&s<(l-n)*(a-i)/(c-i)+n&&(d=!d),l=n,c=i;return d}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-polygon/src/cross.js":(e,t,n)=>{"use strict";function i(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-polygon/src/hull.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-polygon/src/cross.js");function o(e,t){return e[0]-t[0]||e[1]-t[1]}function r(e){for(var t=e.length,n=[0,1],o=2,r=2;r<t;++r){for(;o>1&&(0,i.default)(e[n[o-2]],e[n[o-1]],e[r])<=0;)--o;n[o++]=r}return n.slice(0,o)}function s(e){if((n=e.length)<3)return null;var t,n,i=new Array(n),s=new Array(n);for(t=0;t<n;++t)i[t]=[+e[t][0],+e[t][1],t];for(i.sort(o),t=0;t<n;++t)s[t]=[i[t][0],-i[t][1]];var a=r(i),l=r(s),c=l[0]===a[0],d=l[l.length-1]===a[a.length-1],u=[];for(t=a.length-1;t>=0;--t)u.push(e[i[a[t]][2]]);for(t=+c;t<l.length-d;++t)u.push(e[i[l[t]][2]]);return u}},"./node_modules/d3-polygon/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{polygonArea:()=>i.default,polygonCentroid:()=>o.default,polygonHull:()=>r.default,polygonContains:()=>s.default,polygonLength:()=>a.default});var i=n("./node_modules/d3-polygon/src/area.js"),o=n("./node_modules/d3-polygon/src/centroid.js"),r=n("./node_modules/d3-polygon/src/hull.js"),s=n("./node_modules/d3-polygon/src/contains.js"),a=n("./node_modules/d3-polygon/src/length.js")},"./node_modules/d3-polygon/src/length.js":(e,t,n)=>{"use strict";function i(e){for(var t,n,i=-1,o=e.length,r=e[o-1],s=r[0],a=r[1],l=0;++i<o;)t=s,n=a,t-=s=(r=e[i])[0],n-=a=r[1],l+=Math.sqrt(t*t+n*n);return l}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-quadtree/src/add.js":(e,t,n)=>{"use strict";function i(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return o(this.cover(t,n),t,n,e)}function o(e,t,n,i){if(isNaN(t)||isNaN(n))return e;var o,r,s,a,l,c,d,u,p,h=e._root,m={data:i},f=e._x0,g=e._y0,v=e._x1,y=e._y1;if(!h)return e._root=m,e;for(;h.length;)if((c=t>=(r=(f+v)/2))?f=r:v=r,(d=n>=(s=(g+y)/2))?g=s:y=s,o=h,!(h=h[u=d<<1|c]))return o[u]=m,e;if(a=+e._x.call(null,h.data),l=+e._y.call(null,h.data),t===a&&n===l)return m.next=h,o?o[u]=m:e._root=m,e;do{o=o?o[u]=new Array(4):e._root=new Array(4),(c=t>=(r=(f+v)/2))?f=r:v=r,(d=n>=(s=(g+y)/2))?g=s:y=s}while((u=d<<1|c)==(p=(l>=s)<<1|a>=r));return o[p]=h,o[u]=m,e}function r(e){var t,n,i,r,s=e.length,a=new Array(s),l=new Array(s),c=1/0,d=1/0,u=-1/0,p=-1/0;for(n=0;n<s;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(r=+this._y.call(null,t))||(a[n]=i,l[n]=r,i<c&&(c=i),i>u&&(u=i),r<d&&(d=r),r>p&&(p=r));if(c>u||d>p)return this;for(this.cover(c,d).cover(u,p),n=0;n<s;++n)o(this,a[n],l[n],e[n]);return this}n.r(t),n.d(t,{default:()=>i,addAll:()=>r})},"./node_modules/d3-quadtree/src/cover.js":(e,t,n)=>{"use strict";function i(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,i=this._y0,o=this._x1,r=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,r=(i=Math.floor(t))+1;else{for(var s,a,l=o-n,c=this._root;n>e||e>=o||i>t||t>=r;)switch(a=(t<i)<<1|e<n,(s=new Array(4))[a]=c,c=s,l*=2,a){case 0:o=n+l,r=i+l;break;case 1:n=o-l,r=i+l;break;case 2:o=n+l,i=r-l;break;case 3:n=o-l,i=r-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=o,this._y1=r,this}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-quadtree/src/data.js":(e,t,n)=>{"use strict";function i(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-quadtree/src/extent.js":(e,t,n)=>{"use strict";function i(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-quadtree/src/find.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-quadtree/src/quad.js");function o(e,t,n){var o,r,s,a,l,c,d,u=this._x0,p=this._y0,h=this._x1,m=this._y1,f=[],g=this._root;for(g&&f.push(new i.default(g,u,p,h,m)),null==n?n=1/0:(u=e-n,p=t-n,h=e+n,m=t+n,n*=n);c=f.pop();)if(!(!(g=c.node)||(r=c.x0)>h||(s=c.y0)>m||(a=c.x1)<u||(l=c.y1)<p))if(g.length){var v=(r+a)/2,y=(s+l)/2;f.push(new i.default(g[3],v,y,a,l),new i.default(g[2],r,y,v,l),new i.default(g[1],v,s,a,y),new i.default(g[0],r,s,v,y)),(d=(t>=y)<<1|e>=v)&&(c=f[f.length-1],f[f.length-1]=f[f.length-1-d],f[f.length-1-d]=c)}else{var b=e-+this._x.call(null,g.data),x=t-+this._y.call(null,g.data),w=b*b+x*x;if(w<n){var C=Math.sqrt(n=w);u=e-C,p=t-C,h=e+C,m=t+C,o=g.data}}return o}},"./node_modules/d3-quadtree/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{quadtree:()=>i.default});var i=n("./node_modules/d3-quadtree/src/quadtree.js")},"./node_modules/d3-quadtree/src/quad.js":(e,t,n)=>{"use strict";function i(e,t,n,i,o){this.node=e,this.x0=t,this.y0=n,this.x1=i,this.y1=o}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-quadtree/src/quadtree.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var i=n("./node_modules/d3-quadtree/src/add.js"),o=n("./node_modules/d3-quadtree/src/cover.js"),r=n("./node_modules/d3-quadtree/src/data.js"),s=n("./node_modules/d3-quadtree/src/extent.js"),a=n("./node_modules/d3-quadtree/src/find.js"),l=n("./node_modules/d3-quadtree/src/remove.js"),c=n("./node_modules/d3-quadtree/src/root.js"),d=n("./node_modules/d3-quadtree/src/size.js"),u=n("./node_modules/d3-quadtree/src/visit.js"),p=n("./node_modules/d3-quadtree/src/visitAfter.js"),h=n("./node_modules/d3-quadtree/src/x.js"),m=n("./node_modules/d3-quadtree/src/y.js");function f(e,t,n){var i=new g(null==t?h.defaultX:t,null==n?m.defaultY:n,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function g(e,t,n,i,o,r){this._x=e,this._y=t,this._x0=n,this._y0=i,this._x1=o,this._y1=r,this._root=void 0}function v(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var y=f.prototype=g.prototype;y.copy=function(){var e,t,n=new g(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=v(i),n;for(e=[{source:i,target:n._root=new Array(4)}];i=e.pop();)for(var o=0;o<4;++o)(t=i.source[o])&&(t.length?e.push({source:t,target:i.target[o]=new Array(4)}):i.target[o]=v(t));return n},y.add=i.default,y.addAll=i.addAll,y.cover=o.default,y.data=r.default,y.extent=s.default,y.find=a.default,y.remove=l.default,y.removeAll=l.removeAll,y.root=c.default,y.size=d.default,y.visit=u.default,y.visitAfter=p.default,y.x=h.default,y.y=m.default},"./node_modules/d3-quadtree/src/remove.js":(e,t,n)=>{"use strict";function i(e){if(isNaN(r=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e)))return this;var t,n,i,o,r,s,a,l,c,d,u,p,h=this._root,m=this._x0,f=this._y0,g=this._x1,v=this._y1;if(!h)return this;if(h.length)for(;;){if((c=r>=(a=(m+g)/2))?m=a:g=a,(d=s>=(l=(f+v)/2))?f=l:v=l,t=h,!(h=h[u=d<<1|c]))return this;if(!h.length)break;(t[u+1&3]||t[u+2&3]||t[u+3&3])&&(n=t,p=u)}for(;h.data!==e;)if(i=h,!(h=h.next))return this;return(o=h.next)&&delete h.next,i?(o?i.next=o:delete i.next,this):t?(o?t[u]=o:delete t[u],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[p]=h:this._root=h),this):(this._root=o,this)}function o(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}n.r(t),n.d(t,{default:()=>i,removeAll:()=>o})},"./node_modules/d3-quadtree/src/root.js":(e,t,n)=>{"use strict";function i(){return this._root}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-quadtree/src/size.js":(e,t,n)=>{"use strict";function i(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-quadtree/src/visit.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-quadtree/src/quad.js");function o(e){var t,n,o,r,s,a,l=[],c=this._root;for(c&&l.push(new i.default(c,this._x0,this._y0,this._x1,this._y1));t=l.pop();)if(!e(c=t.node,o=t.x0,r=t.y0,s=t.x1,a=t.y1)&&c.length){var d=(o+s)/2,u=(r+a)/2;(n=c[3])&&l.push(new i.default(n,d,u,s,a)),(n=c[2])&&l.push(new i.default(n,o,u,d,a)),(n=c[1])&&l.push(new i.default(n,d,r,s,u)),(n=c[0])&&l.push(new i.default(n,o,r,d,u))}return this}},"./node_modules/d3-quadtree/src/visitAfter.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-quadtree/src/quad.js");function o(e){var t,n=[],o=[];for(this._root&&n.push(new i.default(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var r=t.node;if(r.length){var s,a=t.x0,l=t.y0,c=t.x1,d=t.y1,u=(a+c)/2,p=(l+d)/2;(s=r[0])&&n.push(new i.default(s,a,l,u,p)),(s=r[1])&&n.push(new i.default(s,u,l,c,p)),(s=r[2])&&n.push(new i.default(s,a,p,u,d)),(s=r[3])&&n.push(new i.default(s,u,p,c,d))}o.push(t)}for(;t=o.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this}},"./node_modules/d3-quadtree/src/x.js":(e,t,n)=>{"use strict";function i(e){return e[0]}function o(e){return arguments.length?(this._x=e,this):this._x}n.r(t),n.d(t,{defaultX:()=>i,default:()=>o})},"./node_modules/d3-quadtree/src/y.js":(e,t,n)=>{"use strict";function i(e){return e[1]}function o(e){return arguments.length?(this._y=e,this):this._y}n.r(t),n.d(t,{defaultY:()=>i,default:()=>o})},"./node_modules/d3-random/src/bates.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-random/src/defaultSource.js"),o=n("./node_modules/d3-random/src/irwinHall.js");const r=function e(t){function n(e){var n=o.default.source(t)(e);return function(){return n()/e}}return n.source=e,n}(i.default)},"./node_modules/d3-random/src/defaultSource.js":(e,t,n)=>{"use strict";function i(){return Math.random()}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-random/src/exponential.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=function e(t){function n(e){return function(){return-Math.log(1-t())/e}}return n.source=e,n}(n("./node_modules/d3-random/src/defaultSource.js").default)},"./node_modules/d3-random/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{randomUniform:()=>i.default,randomNormal:()=>o.default,randomLogNormal:()=>r.default,randomBates:()=>s.default,randomIrwinHall:()=>a.default,randomExponential:()=>l.default});var i=n("./node_modules/d3-random/src/uniform.js"),o=n("./node_modules/d3-random/src/normal.js"),r=n("./node_modules/d3-random/src/logNormal.js"),s=n("./node_modules/d3-random/src/bates.js"),a=n("./node_modules/d3-random/src/irwinHall.js"),l=n("./node_modules/d3-random/src/exponential.js")},"./node_modules/d3-random/src/irwinHall.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=function e(t){function n(e){return function(){for(var n=0,i=0;i<e;++i)n+=t();return n}}return n.source=e,n}(n("./node_modules/d3-random/src/defaultSource.js").default)},"./node_modules/d3-random/src/logNormal.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-random/src/defaultSource.js"),o=n("./node_modules/d3-random/src/normal.js");const r=function e(t){function n(){var e=o.default.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return n.source=e,n}(i.default)},"./node_modules/d3-random/src/normal.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=function e(t){function n(e,n){var i,o;return e=null==e?0:+e,n=null==n?1:+n,function(){var r;if(null!=i)r=i,i=null;else do{i=2*t()-1,r=2*t()-1,o=i*i+r*r}while(!o||o>1);return e+n*r*Math.sqrt(-2*Math.log(o)/o)}}return n.source=e,n}(n("./node_modules/d3-random/src/defaultSource.js").default)},"./node_modules/d3-random/src/uniform.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(n("./node_modules/d3-random/src/defaultSource.js").default)},"./node_modules/d3-scale-chromatic/src/categorical/Accent.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=(0,n("./node_modules/d3-scale-chromatic/src/colors.js").default)("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")},"./node_modules/d3-scale-chromatic/src/categorical/Dark2.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=(0,n("./node_modules/d3-scale-chromatic/src/colors.js").default)("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")},"./node_modules/d3-scale-chromatic/src/categorical/Paired.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=(0,n("./node_modules/d3-scale-chromatic/src/colors.js").default)("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")},"./node_modules/d3-scale-chromatic/src/categorical/Pastel1.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=(0,n("./node_modules/d3-scale-chromatic/src/colors.js").default)("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")},"./node_modules/d3-scale-chromatic/src/categorical/Pastel2.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=(0,n("./node_modules/d3-scale-chromatic/src/colors.js").default)("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")},"./node_modules/d3-scale-chromatic/src/categorical/Set1.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=(0,n("./node_modules/d3-scale-chromatic/src/colors.js").default)("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")},"./node_modules/d3-scale-chromatic/src/categorical/Set2.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=(0,n("./node_modules/d3-scale-chromatic/src/colors.js").default)("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")},"./node_modules/d3-scale-chromatic/src/categorical/Set3.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=(0,n("./node_modules/d3-scale-chromatic/src/colors.js").default)("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")},"./node_modules/d3-scale-chromatic/src/categorical/Tableau10.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=(0,n("./node_modules/d3-scale-chromatic/src/colors.js").default)("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")},"./node_modules/d3-scale-chromatic/src/categorical/category10.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=(0,n("./node_modules/d3-scale-chromatic/src/colors.js").default)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},"./node_modules/d3-scale-chromatic/src/colors.js":(e,t,n)=>{"use strict";function i(e){for(var t=e.length/6|0,n=new Array(t),i=0;i<t;)n[i]="#"+e.slice(6*i,6*++i);return n}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-scale-chromatic/src/diverging/BrBG.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/diverging/PRGn.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/diverging/PiYG.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/diverging/PuOr.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/diverging/RdBu.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/diverging/RdGy.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/diverging/Spectral.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{schemeCategory10:()=>i.default,schemeAccent:()=>o.default,schemeDark2:()=>r.default,schemePaired:()=>s.default,schemePastel1:()=>a.default,schemePastel2:()=>l.default,schemeSet1:()=>c.default,schemeSet2:()=>d.default,schemeSet3:()=>u.default,schemeTableau10:()=>p.default,interpolateBrBG:()=>h.default,schemeBrBG:()=>h.scheme,interpolatePRGn:()=>m.default,schemePRGn:()=>m.scheme,interpolatePiYG:()=>f.default,schemePiYG:()=>f.scheme,interpolatePuOr:()=>g.default,schemePuOr:()=>g.scheme,interpolateRdBu:()=>v.default,schemeRdBu:()=>v.scheme,interpolateRdGy:()=>y.default,schemeRdGy:()=>y.scheme,interpolateRdYlBu:()=>b.default,schemeRdYlBu:()=>b.scheme,interpolateRdYlGn:()=>x.default,schemeRdYlGn:()=>x.scheme,interpolateSpectral:()=>w.default,schemeSpectral:()=>w.scheme,interpolateBuGn:()=>C.default,schemeBuGn:()=>C.scheme,interpolateBuPu:()=>_.default,schemeBuPu:()=>_.scheme,interpolateGnBu:()=>S.default,schemeGnBu:()=>S.scheme,interpolateOrRd:()=>I.default,schemeOrRd:()=>I.scheme,interpolatePuBuGn:()=>A.default,schemePuBuGn:()=>A.scheme,interpolatePuBu:()=>E.default,schemePuBu:()=>E.scheme,interpolatePuRd:()=>D.default,schemePuRd:()=>D.scheme,interpolateRdPu:()=>T.default,schemeRdPu:()=>T.scheme,interpolateYlGnBu:()=>R.default,schemeYlGnBu:()=>R.scheme,interpolateYlGn:()=>M.default,schemeYlGn:()=>M.scheme,interpolateYlOrBr:()=>O.default,schemeYlOrBr:()=>O.scheme,interpolateYlOrRd:()=>P.default,schemeYlOrRd:()=>P.scheme,interpolateBlues:()=>F.default,schemeBlues:()=>F.scheme,interpolateGreens:()=>k.default,schemeGreens:()=>k.scheme,interpolateGreys:()=>N.default,schemeGreys:()=>N.scheme,interpolatePurples:()=>j.default,schemePurples:()=>j.scheme,interpolateReds:()=>L.default,schemeReds:()=>L.scheme,interpolateOranges:()=>V.default,schemeOranges:()=>V.scheme,interpolateCividis:()=>B.default,interpolateCubehelixDefault:()=>G.default,interpolateRainbow:()=>z.default,interpolateWarm:()=>z.warm,interpolateCool:()=>z.cool,interpolateSinebow:()=>$.default,interpolateTurbo:()=>U.default,interpolateViridis:()=>H.default,interpolateMagma:()=>H.magma,interpolateInferno:()=>H.inferno,interpolatePlasma:()=>H.plasma});var i=n("./node_modules/d3-scale-chromatic/src/categorical/category10.js"),o=n("./node_modules/d3-scale-chromatic/src/categorical/Accent.js"),r=n("./node_modules/d3-scale-chromatic/src/categorical/Dark2.js"),s=n("./node_modules/d3-scale-chromatic/src/categorical/Paired.js"),a=n("./node_modules/d3-scale-chromatic/src/categorical/Pastel1.js"),l=n("./node_modules/d3-scale-chromatic/src/categorical/Pastel2.js"),c=n("./node_modules/d3-scale-chromatic/src/categorical/Set1.js"),d=n("./node_modules/d3-scale-chromatic/src/categorical/Set2.js"),u=n("./node_modules/d3-scale-chromatic/src/categorical/Set3.js"),p=n("./node_modules/d3-scale-chromatic/src/categorical/Tableau10.js"),h=n("./node_modules/d3-scale-chromatic/src/diverging/BrBG.js"),m=n("./node_modules/d3-scale-chromatic/src/diverging/PRGn.js"),f=n("./node_modules/d3-scale-chromatic/src/diverging/PiYG.js"),g=n("./node_modules/d3-scale-chromatic/src/diverging/PuOr.js"),v=n("./node_modules/d3-scale-chromatic/src/diverging/RdBu.js"),y=n("./node_modules/d3-scale-chromatic/src/diverging/RdGy.js"),b=n("./node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js"),x=n("./node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js"),w=n("./node_modules/d3-scale-chromatic/src/diverging/Spectral.js"),C=n("./node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js"),_=n("./node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js"),S=n("./node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js"),I=n("./node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js"),A=n("./node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js"),E=n("./node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js"),D=n("./node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js"),T=n("./node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js"),R=n("./node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js"),M=n("./node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js"),O=n("./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js"),P=n("./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js"),F=n("./node_modules/d3-scale-chromatic/src/sequential-single/Blues.js"),k=n("./node_modules/d3-scale-chromatic/src/sequential-single/Greens.js"),N=n("./node_modules/d3-scale-chromatic/src/sequential-single/Greys.js"),j=n("./node_modules/d3-scale-chromatic/src/sequential-single/Purples.js"),L=n("./node_modules/d3-scale-chromatic/src/sequential-single/Reds.js"),V=n("./node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js"),B=n("./node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js"),G=n("./node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js"),z=n("./node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js"),$=n("./node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js"),U=n("./node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js"),H=n("./node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js")},"./node_modules/d3-scale-chromatic/src/ramp.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-interpolate/src/index.js");function o(e){return(0,i.interpolateRgbBasis)(e[e.length-1])}},"./node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js":(e,t,n)=>{"use strict";function i(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-color/src/index.js");const o=(0,n("./node_modules/d3-interpolate/src/index.js").interpolateCubehelixLong)((0,i.cubehelix)(300,.5,0),(0,i.cubehelix)(-240,.5,1))},"./node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{warm:()=>r,cool:()=>s,default:()=>l});var i=n("./node_modules/d3-color/src/index.js"),o=n("./node_modules/d3-interpolate/src/index.js"),r=(0,o.interpolateCubehelixLong)((0,i.cubehelix)(-100,.75,.35),(0,i.cubehelix)(80,1.5,.8)),s=(0,o.interpolateCubehelixLong)((0,i.cubehelix)(260,.75,.35),(0,i.cubehelix)(80,1.5,.8)),a=(0,i.cubehelix)();function l(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return a.h=360*e-100,a.s=1.5-1.5*t,a.l=.8-.9*t,a+""}},"./node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=(0,n("./node_modules/d3-color/src/index.js").rgb)(),o=Math.PI/3,r=2*Math.PI/3;function s(e){var t;return e=(.5-e)*Math.PI,i.r=255*(t=Math.sin(e))*t,i.g=255*(t=Math.sin(e+o))*t,i.b=255*(t=Math.sin(e+r))*t,i+""}},"./node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js":(e,t,n)=>{"use strict";function i(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r,magma:()=>s,inferno:()=>a,plasma:()=>l});var i=n("./node_modules/d3-scale-chromatic/src/colors.js");function o(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const r=o((0,i.default)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var s=o((0,i.default)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),a=o((0,i.default)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),l=o((0,i.default)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},"./node_modules/d3-scale-chromatic/src/sequential-single/Blues.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/sequential-single/Greens.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/sequential-single/Greys.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/sequential-single/Purples.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale-chromatic/src/sequential-single/Reds.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scheme:()=>r,default:()=>s});var i=n("./node_modules/d3-scale-chromatic/src/colors.js"),o=n("./node_modules/d3-scale-chromatic/src/ramp.js"),r=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(i.default);const s=(0,o.default)(r)},"./node_modules/d3-scale/src/array.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{map:()=>o,slice:()=>r});var i=Array.prototype,o=i.map,r=i.slice},"./node_modules/d3-scale/src/band.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,point:()=>l});var i=n("./node_modules/d3-array/src/index.js"),o=n("./node_modules/d3-scale/src/init.js"),r=n("./node_modules/d3-scale/src/ordinal.js");function s(){var e,t,n=(0,r.default)().unknown(void 0),a=n.domain,l=n.range,c=[0,1],d=!1,u=0,p=0,h=.5;function m(){var n=a().length,o=c[1]<c[0],r=c[o-0],s=c[1-o];e=(s-r)/Math.max(1,n-u+2*p),d&&(e=Math.floor(e)),r+=(s-r-e*(n-u))*h,t=e*(1-u),d&&(r=Math.round(r),t=Math.round(t));var m=(0,i.range)(n).map(function(t){return r+e*t});return l(o?m.reverse():m)}return delete n.unknown,n.domain=function(e){return arguments.length?(a(e),m()):a()},n.range=function(e){return arguments.length?(c=[+e[0],+e[1]],m()):c.slice()},n.rangeRound=function(e){return c=[+e[0],+e[1]],d=!0,m()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(d=!!e,m()):d},n.padding=function(e){return arguments.length?(u=Math.min(1,p=+e),m()):u},n.paddingInner=function(e){return arguments.length?(u=Math.min(1,e),m()):u},n.paddingOuter=function(e){return arguments.length?(p=+e,m()):p},n.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),m()):h},n.copy=function(){return s(a(),c).round(d).paddingInner(u).paddingOuter(p).align(h)},o.initRange.apply(m(),arguments)}function a(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return a(t())},e}function l(){return a(s.apply(null,arguments).paddingInner(1))}},"./node_modules/d3-scale/src/constant.js":(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-scale/src/continuous.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{identity:()=>c,copy:()=>m,transformer:()=>f,default:()=>g});var i=n("./node_modules/d3-array/src/index.js"),o=n("./node_modules/d3-interpolate/src/index.js"),r=n("./node_modules/d3-scale/src/array.js"),s=n("./node_modules/d3-scale/src/constant.js"),a=n("./node_modules/d3-scale/src/number.js"),l=[0,1];function c(e){return e}function d(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(0,s.default)(isNaN(t)?NaN:.5)}function u(e){var t,n=e[0],i=e[e.length-1];return n>i&&(t=n,n=i,i=t),function(e){return Math.max(n,Math.min(i,e))}}function p(e,t,n){var i=e[0],o=e[1],r=t[0],s=t[1];return o<i?(i=d(o,i),r=n(s,r)):(i=d(i,o),r=n(r,s)),function(e){return r(i(e))}}function h(e,t,n){var o=Math.min(e.length,t.length)-1,r=new Array(o),s=new Array(o),a=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<o;)r[a]=d(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(t){var n=(0,i.bisect)(e,t,1,o)-1;return s[n](r[n](t))}}function m(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function f(){var e,t,n,i,s,d,m=l,f=l,g=o.interpolate,v=c;function y(){return i=Math.min(m.length,f.length)>2?h:p,s=d=null,b}function b(t){return isNaN(t=+t)?n:(s||(s=i(m.map(e),f,g)))(e(v(t)))}return b.invert=function(n){return v(t((d||(d=i(f,m.map(e),o.interpolateNumber)))(n)))},b.domain=function(e){return arguments.length?(m=r.map.call(e,a.default),v===c||(v=u(m)),y()):m.slice()},b.range=function(e){return arguments.length?(f=r.slice.call(e),y()):f.slice()},b.rangeRound=function(e){return f=r.slice.call(e),g=o.interpolateRound,y()},b.clamp=function(e){return arguments.length?(v=e?u(m):c,b):v!==c},b.interpolate=function(e){return arguments.length?(g=e,y()):g},b.unknown=function(e){return arguments.length?(n=e,b):n},function(n,i){return e=n,t=i,y()}}function g(e,t){return f()(e,t)}},"./node_modules/d3-scale/src/diverging.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u,divergingLog:()=>p,divergingSymlog:()=>h,divergingPow:()=>m,divergingSqrt:()=>f});var i=n("./node_modules/d3-scale/src/continuous.js"),o=n("./node_modules/d3-scale/src/init.js"),r=n("./node_modules/d3-scale/src/linear.js"),s=n("./node_modules/d3-scale/src/log.js"),a=n("./node_modules/d3-scale/src/sequential.js"),l=n("./node_modules/d3-scale/src/symlog.js"),c=n("./node_modules/d3-scale/src/pow.js");function d(){var e,t,n,o,r,s,a,l=0,c=.5,d=1,u=i.identity,p=!1;function h(e){return isNaN(e=+e)?a:(e=.5+((e=+s(e))-t)*(e<t?o:r),u(p?Math.max(0,Math.min(1,e)):e))}return h.domain=function(i){return arguments.length?(e=s(l=+i[0]),t=s(c=+i[1]),n=s(d=+i[2]),o=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),h):[l,c,d]},h.clamp=function(e){return arguments.length?(p=!!e,h):p},h.interpolator=function(e){return arguments.length?(u=e,h):u},h.unknown=function(e){return arguments.length?(a=e,h):a},function(i){return s=i,e=i(l),t=i(c),n=i(d),o=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),h}}function u(){var e=(0,r.linearish)(d()(i.identity));return e.copy=function(){return(0,a.copy)(e,u())},o.initInterpolator.apply(e,arguments)}function p(){var e=(0,s.loggish)(d()).domain([.1,1,10]);return e.copy=function(){return(0,a.copy)(e,p()).base(e.base())},o.initInterpolator.apply(e,arguments)}function h(){var e=(0,l.symlogish)(d());return e.copy=function(){return(0,a.copy)(e,h()).constant(e.constant())},o.initInterpolator.apply(e,arguments)}function m(){var e=(0,c.powish)(d());return e.copy=function(){return(0,a.copy)(e,m()).exponent(e.exponent())},o.initInterpolator.apply(e,arguments)}function f(){return m.apply(null,arguments).exponent(.5)}},"./node_modules/d3-scale/src/identity.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-scale/src/array.js"),o=n("./node_modules/d3-scale/src/linear.js"),r=n("./node_modules/d3-scale/src/number.js");function s(e){var t;function n(e){return isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=i.map.call(t,r.default),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return s(e).unknown(t)},e=arguments.length?i.map.call(e,r.default):[0,1],(0,o.linearish)(n)}},"./node_modules/d3-scale/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scaleBand:()=>i.default,scalePoint:()=>i.point,scaleIdentity:()=>o.default,scaleLinear:()=>r.default,scaleLog:()=>s.default,scaleSymlog:()=>a.default,scaleOrdinal:()=>l.default,scaleImplicit:()=>l.implicit,scalePow:()=>c.default,scaleSqrt:()=>c.sqrt,scaleQuantile:()=>d.default,scaleQuantize:()=>u.default,scaleThreshold:()=>p.default,scaleTime:()=>h.default,scaleUtc:()=>m.default,scaleSequential:()=>f.default,scaleSequentialLog:()=>f.sequentialLog,scaleSequentialPow:()=>f.sequentialPow,scaleSequentialSqrt:()=>f.sequentialSqrt,scaleSequentialSymlog:()=>f.sequentialSymlog,scaleSequentialQuantile:()=>g.default,scaleDiverging:()=>v.default,scaleDivergingLog:()=>v.divergingLog,scaleDivergingPow:()=>v.divergingPow,scaleDivergingSqrt:()=>v.divergingSqrt,scaleDivergingSymlog:()=>v.divergingSymlog,tickFormat:()=>y.default});var i=n("./node_modules/d3-scale/src/band.js"),o=n("./node_modules/d3-scale/src/identity.js"),r=n("./node_modules/d3-scale/src/linear.js"),s=n("./node_modules/d3-scale/src/log.js"),a=n("./node_modules/d3-scale/src/symlog.js"),l=n("./node_modules/d3-scale/src/ordinal.js"),c=n("./node_modules/d3-scale/src/pow.js"),d=n("./node_modules/d3-scale/src/quantile.js"),u=n("./node_modules/d3-scale/src/quantize.js"),p=n("./node_modules/d3-scale/src/threshold.js"),h=n("./node_modules/d3-scale/src/time.js"),m=n("./node_modules/d3-scale/src/utcTime.js"),f=n("./node_modules/d3-scale/src/sequential.js"),g=n("./node_modules/d3-scale/src/sequentialQuantile.js"),v=n("./node_modules/d3-scale/src/diverging.js"),y=n("./node_modules/d3-scale/src/tickFormat.js")},"./node_modules/d3-scale/src/init.js":(e,t,n)=>{"use strict";function i(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function o(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}n.r(t),n.d(t,{initRange:()=>i,initInterpolator:()=>o})},"./node_modules/d3-scale/src/linear.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{linearish:()=>a,default:()=>l});var i=n("./node_modules/d3-array/src/index.js"),o=n("./node_modules/d3-scale/src/continuous.js"),r=n("./node_modules/d3-scale/src/init.js"),s=n("./node_modules/d3-scale/src/tickFormat.js");function a(e){var t=e.domain;return e.ticks=function(e){var n=t();return(0,i.ticks)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return(0,s.default)(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var o,r=t(),s=0,a=r.length-1,l=r[s],c=r[a];return c<l&&(o=l,l=c,c=o,o=s,s=a,a=o),(o=(0,i.tickIncrement)(l,c,n))>0?(l=Math.floor(l/o)*o,c=Math.ceil(c/o)*o,o=(0,i.tickIncrement)(l,c,n)):o<0&&(l=Math.ceil(l*o)/o,c=Math.floor(c*o)/o,o=(0,i.tickIncrement)(l,c,n)),o>0?(r[s]=Math.floor(l/o)*o,r[a]=Math.ceil(c/o)*o,t(r)):o<0&&(r[s]=Math.ceil(l*o)/o,r[a]=Math.floor(c*o)/o,t(r)),e},e}function l(){var e=(0,o.default)(o.identity,o.identity);return e.copy=function(){return(0,o.copy)(e,l())},r.initRange.apply(e,arguments),a(e)}},"./node_modules/d3-scale/src/log.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{loggish:()=>m,default:()=>f});var i=n("./node_modules/d3-array/src/index.js"),o=n("./node_modules/d3-format/src/index.js"),r=n("./node_modules/d3-scale/src/nice.js"),s=n("./node_modules/d3-scale/src/continuous.js"),a=n("./node_modules/d3-scale/src/init.js");function l(e){return Math.log(e)}function c(e){return Math.exp(e)}function d(e){return-Math.log(-e)}function u(e){return-Math.exp(-e)}function p(e){return isFinite(e)?+("1e"+e):e<0?0:e}function h(e){return function(t){return-e(-t)}}function m(e){var t,n,s=e(l,c),a=s.domain,m=10;function f(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(m),n=function(e){return 10===e?p:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(m),a()[0]<0?(t=h(t),n=h(n),e(d,u)):e(l,c),s}return s.base=function(e){return arguments.length?(m=+e,f()):m},s.domain=function(e){return arguments.length?(a(e),f()):a()},s.ticks=function(e){var o,r=a(),s=r[0],l=r[r.length-1];(o=l<s)&&(p=s,s=l,l=p);var c,d,u,p=t(s),h=t(l),f=null==e?10:+e,g=[];if(!(m%1)&&h-p<f){if(p=Math.round(p)-1,h=Math.round(h)+1,s>0){for(;p<h;++p)for(d=1,c=n(p);d<m;++d)if(!((u=c*d)<s)){if(u>l)break;g.push(u)}}else for(;p<h;++p)for(d=m-1,c=n(p);d>=1;--d)if(!((u=c*d)<s)){if(u>l)break;g.push(u)}}else g=(0,i.ticks)(p,h,Math.min(h-p,f)).map(n);return o?g.reverse():g},s.tickFormat=function(e,i){if(null==i&&(i=10===m?".0e":","),"function"!=typeof i&&(i=(0,o.format)(i)),e===1/0)return i;null==e&&(e=10);var r=Math.max(1,m*e/s.ticks().length);return function(e){var o=e/n(Math.round(t(e)));return o*m<m-.5&&(o*=m),o<=r?i(e):""}},s.nice=function(){return a((0,r.default)(a(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},s}function f(){var e=m((0,s.transformer)()).domain([1,10]);return e.copy=function(){return(0,s.copy)(e,f()).base(e.base())},a.initRange.apply(e,arguments),e}},"./node_modules/d3-scale/src/nice.js":(e,t,n)=>{"use strict";function i(e,t){var n,i=0,o=(e=e.slice()).length-1,r=e[i],s=e[o];return s<r&&(n=i,i=o,o=n,n=r,r=s,s=n),e[i]=t.floor(r),e[o]=t.ceil(s),e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-scale/src/number.js":(e,t,n)=>{"use strict";function i(e){return+e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-scale/src/ordinal.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{implicit:()=>s,default:()=>a});var i=n("./node_modules/d3-collection/src/index.js"),o=n("./node_modules/d3-scale/src/array.js"),r=n("./node_modules/d3-scale/src/init.js"),s={name:"implicit"};function a(){var e=(0,i.map)(),t=[],n=[],l=s;function c(i){var o=i+"",r=e.get(o);if(!r){if(l!==s)return l;e.set(o,r=t.push(i))}return n[(r-1)%n.length]}return c.domain=function(n){if(!arguments.length)return t.slice();t=[],e=(0,i.map)();for(var o,r,s=-1,a=n.length;++s<a;)e.has(r=(o=n[s])+"")||e.set(r,t.push(o));return c},c.range=function(e){return arguments.length?(n=o.slice.call(e),c):n.slice()},c.unknown=function(e){return arguments.length?(l=e,c):l},c.copy=function(){return a(t,n).unknown(l)},r.initRange.apply(c,arguments),c}},"./node_modules/d3-scale/src/pow.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{powish:()=>c,default:()=>d,sqrt:()=>u});var i=n("./node_modules/d3-scale/src/linear.js"),o=n("./node_modules/d3-scale/src/continuous.js"),r=n("./node_modules/d3-scale/src/init.js");function s(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function a(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function l(e){return e<0?-e*e:e*e}function c(e){var t=e(o.identity,o.identity),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(o.identity,o.identity):.5===n?e(a,l):e(s(n),s(1/n)):n},(0,i.linearish)(t)}function d(){var e=c((0,o.transformer)());return e.copy=function(){return(0,o.copy)(e,d()).exponent(e.exponent())},r.initRange.apply(e,arguments),e}function u(){return d.apply(null,arguments).exponent(.5)}},"./node_modules/d3-scale/src/quantile.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-array/src/index.js"),o=n("./node_modules/d3-scale/src/array.js"),r=n("./node_modules/d3-scale/src/init.js");function s(){var e,t=[],n=[],a=[];function l(){var e=0,o=Math.max(1,n.length);for(a=new Array(o-1);++e<o;)a[e-1]=(0,i.quantile)(t,e/o);return c}function c(t){return isNaN(t=+t)?e:n[(0,i.bisect)(a,t)]}return c.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?a[i-1]:t[0],i<a.length?a[i]:t[t.length-1]]},c.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,o=0,r=e.length;o<r;++o)null==(n=e[o])||isNaN(n=+n)||t.push(n);return t.sort(i.ascending),l()},c.range=function(e){return arguments.length?(n=o.slice.call(e),l()):n.slice()},c.unknown=function(t){return arguments.length?(e=t,c):e},c.quantiles=function(){return a.slice()},c.copy=function(){return s().domain(t).range(n).unknown(e)},r.initRange.apply(c,arguments)}},"./node_modules/d3-scale/src/quantize.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("./node_modules/d3-array/src/index.js"),o=n("./node_modules/d3-scale/src/array.js"),r=n("./node_modules/d3-scale/src/linear.js"),s=n("./node_modules/d3-scale/src/init.js");function a(){var e,t=0,n=1,l=1,c=[.5],d=[0,1];function u(t){return t<=t?d[(0,i.bisect)(c,t,0,l)]:e}function p(){var e=-1;for(c=new Array(l);++e<l;)c[e]=((e+1)*n-(e-l)*t)/(l+1);return u}return u.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],p()):[t,n]},u.range=function(e){return arguments.length?(l=(d=o.slice.call(e)).length-1,p()):d.slice()},u.invertExtent=function(e){var i=d.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,c[0]]:i>=l?[c[l-1],n]:[c[i-1],c[i]]},u.unknown=function(t){return arguments.length?(e=t,u):u},u.thresholds=function(){return c.slice()},u.copy=function(){return a().domain([t,n]).range(d).unknown(e)},s.initRange.apply((0,r.linearish)(u),arguments)}},"./node_modules/d3-scale/src/sequential.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{copy:()=>d,default:()=>u,sequentialLog:()=>p,sequentialSymlog:()=>h,sequentialPow:()=>m,sequentialSqrt:()=>f});var i=n("./node_modules/d3-scale/src/continuous.js"),o=n("./node_modules/d3-scale/src/init.js"),r=n("./node_modules/d3-scale/src/linear.js"),s=n("./node_modules/d3-scale/src/log.js"),a=n("./node_modules/d3-scale/src/symlog.js"),l=n("./node_modules/d3-scale/src/pow.js");function c(){var e,t,n,o,r,s=0,a=1,l=i.identity,c=!1;function d(t){return isNaN(t=+t)?r:l(0===n?.5:(t=(o(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}return d.domain=function(i){return arguments.length?(e=o(s=+i[0]),t=o(a=+i[1]),n=e===t?0:1/(t-e),d):[s,a]},d.clamp=function(e){return arguments.length?(c=!!e,d):c},d.interpolator=function(e){return arguments.length?(l=e,d):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(i){return o=i,e=i(s),t=i(a),n=e===t?0:1/(t-e),d}}function d(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function u(){var e=(0,r.linearish)(c()(i.identity));return e.copy=function(){return d(e,u())},o.initInterpolator.apply(e,arguments)}function p(){var e=(0,s.loggish)(c()).domain([1,10]);return e.copy=function(){return d(e,p()).base(e.base())},o.initInterpolator.apply(e,arguments)}function h(){var e=(0,a.symlogish)(c());return e.copy=function(){return d(e,h()).constant(e.constant())},o.initInterpolator.apply(e,arguments)}function m(){var e=(0,l.powish)(c());return e.copy=function(){return d(e,m()).exponent(e.exponent())},o.initInterpolator.apply(e,arguments)}function f(){return m.apply(null,arguments).exponent(.5)}},"./node_modules/d3-scale/src/sequentialQuantile.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-array/src/index.js"),o=n("./node_modules/d3-scale/src/continuous.js"),r=n("./node_modules/d3-scale/src/init.js");function s(){var e=[],t=o.identity;function n(n){if(!isNaN(n=+n))return t(((0,i.bisect)(e,n)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var o,r=0,s=t.length;r<s;++r)null==(o=t[r])||isNaN(o=+o)||e.push(o);return e.sort(i.ascending),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return s(t).domain(e)},r.initInterpolator.apply(n,arguments)}},"./node_modules/d3-scale/src/symlog.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{symlogish:()=>l,default:()=>c});var i=n("./node_modules/d3-scale/src/linear.js"),o=n("./node_modules/d3-scale/src/continuous.js"),r=n("./node_modules/d3-scale/src/init.js");function s(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function a(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function l(e){var t=1,n=e(s(t),a(t));return n.constant=function(n){return arguments.length?e(s(t=+n),a(t)):t},(0,i.linearish)(n)}function c(){var e=l((0,o.transformer)());return e.copy=function(){return(0,o.copy)(e,c()).constant(e.constant())},r.initRange.apply(e,arguments)}},"./node_modules/d3-scale/src/threshold.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-array/src/index.js"),o=n("./node_modules/d3-scale/src/array.js"),r=n("./node_modules/d3-scale/src/init.js");function s(){var e,t=[.5],n=[0,1],a=1;function l(o){return o<=o?n[(0,i.bisect)(t,o,0,a)]:e}return l.domain=function(e){return arguments.length?(t=o.slice.call(e),a=Math.min(t.length,n.length-1),l):t.slice()},l.range=function(e){return arguments.length?(n=o.slice.call(e),a=Math.min(t.length,n.length-1),l):n.slice()},l.invertExtent=function(e){var i=n.indexOf(e);return[t[i-1],t[i]]},l.unknown=function(t){return arguments.length?(e=t,l):e},l.copy=function(){return s().domain(t).range(n).unknown(e)},r.initRange.apply(l,arguments)}},"./node_modules/d3-scale/src/tickFormat.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-array/src/index.js"),o=n("./node_modules/d3-format/src/index.js");function r(e,t,n,r){var s,a=(0,i.tickStep)(e,t,n);switch((r=(0,o.formatSpecifier)(null==r?",f":r)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(s=(0,o.precisionPrefix)(a,l))||(r.precision=s),(0,o.formatPrefix)(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(s=(0,o.precisionRound)(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=s-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(s=(0,o.precisionFixed)(a))||(r.precision=s-2*("%"===r.type))}return(0,o.format)(r)}},"./node_modules/d3-scale/src/time.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{calendar:()=>b,default:()=>x});var i=n("./node_modules/d3-array/src/index.js"),o=n("./node_modules/d3-time/src/index.js"),r=n("./node_modules/d3-time-format/src/index.js"),s=n("./node_modules/d3-scale/src/array.js"),a=n("./node_modules/d3-scale/src/continuous.js"),l=n("./node_modules/d3-scale/src/init.js"),c=n("./node_modules/d3-scale/src/nice.js"),d=1e3,u=60*d,p=60*u,h=24*p,m=7*h,f=30*h,g=365*h;function v(e){return new Date(e)}function y(e){return e instanceof Date?+e:+new Date(+e)}function b(e,t,n,o,r,l,x,w,C){var _=(0,a.default)(a.identity,a.identity),S=_.invert,I=_.domain,A=C(".%L"),E=C(":%S"),D=C("%I:%M"),T=C("%I %p"),R=C("%a %d"),M=C("%b %d"),O=C("%B"),P=C("%Y"),F=[[x,1,d],[x,5,5*d],[x,15,15*d],[x,30,30*d],[l,1,u],[l,5,5*u],[l,15,15*u],[l,30,30*u],[r,1,p],[r,3,3*p],[r,6,6*p],[r,12,12*p],[o,1,h],[o,2,2*h],[n,1,m],[t,1,f],[t,3,3*f],[e,1,g]];function k(i){return(x(i)<i?A:l(i)<i?E:r(i)<i?D:o(i)<i?T:t(i)<i?n(i)<i?R:M:e(i)<i?O:P)(i)}function N(t,n,o,r){if(null==t&&(t=10),"number"==typeof t){var s=Math.abs(o-n)/t,a=(0,i.bisector)(function(e){return e[2]}).right(F,s);a===F.length?(r=(0,i.tickStep)(n/g,o/g,t),t=e):a?(r=(a=F[s/F[a-1][2]<F[a][2]/s?a-1:a])[1],t=a[0]):(r=Math.max((0,i.tickStep)(n,o,t),1),t=w)}return null==r?t:t.every(r)}return _.invert=function(e){return new Date(S(e))},_.domain=function(e){return arguments.length?I(s.map.call(e,y)):I().map(v)},_.ticks=function(e,t){var n,i=I(),o=i[0],r=i[i.length-1],s=r<o;return s&&(n=o,o=r,r=n),n=(n=N(e,o,r,t))?n.range(o,r+1):[],s?n.reverse():n},_.tickFormat=function(e,t){return null==t?k:C(t)},_.nice=function(e,t){var n=I();return(e=N(e,n[0],n[n.length-1],t))?I((0,c.default)(n,e)):_},_.copy=function(){return(0,a.copy)(_,b(e,t,n,o,r,l,x,w,C))},_}function x(){return l.initRange.apply(b(o.timeYear,o.timeMonth,o.timeWeek,o.timeDay,o.timeHour,o.timeMinute,o.timeSecond,o.timeMillisecond,r.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},"./node_modules/d3-scale/src/utcTime.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("./node_modules/d3-scale/src/time.js"),o=n("./node_modules/d3-time-format/src/index.js"),r=n("./node_modules/d3-time/src/index.js"),s=n("./node_modules/d3-scale/src/init.js");function a(){return s.initRange.apply((0,i.calendar)(r.utcYear,r.utcMonth,r.utcWeek,r.utcDay,r.utcHour,r.utcMinute,r.utcSecond,r.utcMillisecond,o.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}},"./node_modules/d3-selection/src/constant.js":(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-selection/src/create.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-selection/src/creator.js"),o=n("./node_modules/d3-selection/src/select.js");function r(e){return(0,o.default)((0,i.default)(e).call(document.documentElement))}},"./node_modules/d3-selection/src/creator.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("./node_modules/d3-selection/src/namespace.js"),o=n("./node_modules/d3-selection/src/namespaces.js");function r(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===o.xhtml&&t.documentElement.namespaceURI===o.xhtml?t.createElement(e):t.createElementNS(n,e)}}function s(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function a(e){var t=(0,i.default)(e);return(t.local?s:r)(t)}},"./node_modules/d3-selection/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{create:()=>i.default,creator:()=>o.default,local:()=>r.default,matcher:()=>s.default,mouse:()=>a.default,namespace:()=>l.default,namespaces:()=>c.default,clientPoint:()=>d.default,select:()=>u.default,selectAll:()=>p.default,selection:()=>h.default,selector:()=>m.default,selectorAll:()=>f.default,style:()=>g.styleValue,touch:()=>v.default,touches:()=>y.default,window:()=>b.default,event:()=>x.event,customEvent:()=>x.customEvent});var i=n("./node_modules/d3-selection/src/create.js"),o=n("./node_modules/d3-selection/src/creator.js"),r=n("./node_modules/d3-selection/src/local.js"),s=n("./node_modules/d3-selection/src/matcher.js"),a=n("./node_modules/d3-selection/src/mouse.js"),l=n("./node_modules/d3-selection/src/namespace.js"),c=n("./node_modules/d3-selection/src/namespaces.js"),d=n("./node_modules/d3-selection/src/point.js"),u=n("./node_modules/d3-selection/src/select.js"),p=n("./node_modules/d3-selection/src/selectAll.js"),h=n("./node_modules/d3-selection/src/selection/index.js"),m=n("./node_modules/d3-selection/src/selector.js"),f=n("./node_modules/d3-selection/src/selectorAll.js"),g=n("./node_modules/d3-selection/src/selection/style.js"),v=n("./node_modules/d3-selection/src/touch.js"),y=n("./node_modules/d3-selection/src/touches.js"),b=n("./node_modules/d3-selection/src/window.js"),x=n("./node_modules/d3-selection/src/selection/on.js")},"./node_modules/d3-selection/src/local.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=0;function o(){return new r}function r(){this._="@"+(++i).toString(36)}r.prototype=o.prototype={constructor:r,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}},"./node_modules/d3-selection/src/matcher.js":(e,t,n)=>{"use strict";function i(e){return function(){return this.matches(e)}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-selection/src/mouse.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-selection/src/sourceEvent.js"),o=n("./node_modules/d3-selection/src/point.js");function r(e){var t=(0,i.default)();return t.changedTouches&&(t=t.changedTouches[0]),(0,o.default)(e,t)}},"./node_modules/d3-selection/src/namespace.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-selection/src/namespaces.js");function o(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),i.default.hasOwnProperty(t)?{space:i.default[t],local:e}:e}},"./node_modules/d3-selection/src/namespaces.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{xhtml:()=>i,default:()=>o});var i="http://www.w3.org/1999/xhtml";const o={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},"./node_modules/d3-selection/src/point.js":(e,t,n)=>{"use strict";function i(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-selection/src/select.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-selection/src/selection/index.js");function o(e){return"string"==typeof e?new i.Selection([[document.querySelector(e)]],[document.documentElement]):new i.Selection([[e]],i.root)}},"./node_modules/d3-selection/src/selectAll.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-selection/src/selection/index.js");function o(e){return"string"==typeof e?new i.Selection([document.querySelectorAll(e)],[document.documentElement]):new i.Selection([null==e?[]:e],i.root)}},"./node_modules/d3-selection/src/selection/append.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-selection/src/creator.js");function o(e){var t="function"==typeof e?e:(0,i.default)(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}},"./node_modules/d3-selection/src/selection/attr.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n("./node_modules/d3-selection/src/namespace.js");function o(e){return function(){this.removeAttribute(e)}}function r(e){return function(){this.removeAttributeNS(e.space,e.local)}}function s(e,t){return function(){this.setAttribute(e,t)}}function a(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function l(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function c(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function d(e,t){var n=(0,i.default)(e);if(arguments.length<2){var d=this.node();return n.local?d.getAttributeNS(n.space,n.local):d.getAttribute(n)}return this.each((null==t?n.local?r:o:"function"==typeof t?n.local?c:l:n.local?a:s)(n,t))}},"./node_modules/d3-selection/src/selection/call.js":(e,t,n)=>{"use strict";function i(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-selection/src/selection/classed.js":(e,t,n)=>{"use strict";function i(e){return e.trim().split(/^|\s+/)}function o(e){return e.classList||new r(e)}function r(e){this._node=e,this._names=i(e.getAttribute("class")||"")}function s(e,t){for(var n=o(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function a(e,t){for(var n=o(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function l(e){return function(){s(this,e)}}function c(e){return function(){a(this,e)}}function d(e,t){return function(){(t.apply(this,arguments)?s:a)(this,e)}}function u(e,t){var n=i(e+"");if(arguments.length<2){for(var r=o(this.node()),s=-1,a=n.length;++s<a;)if(!r.contains(n[s]))return!1;return!0}return this.each(("function"==typeof t?d:t?l:c)(n,t))}n.r(t),n.d(t,{default:()=>u}),r.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}},"./node_modules/d3-selection/src/selection/clone.js":(e,t,n)=>{"use strict";function i(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function o(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function r(e){return this.select(e?o:i)}n.r(t),n.d(t,{default:()=>r})},"./node_modules/d3-selection/src/selection/data.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=n("./node_modules/d3-selection/src/selection/index.js"),o=n("./node_modules/d3-selection/src/selection/enter.js"),r=n("./node_modules/d3-selection/src/constant.js"),s="$";function a(e,t,n,i,r,s){for(var a,l=0,c=t.length,d=s.length;l<d;++l)(a=t[l])?(a.__data__=s[l],i[l]=a):n[l]=new o.EnterNode(e,s[l]);for(;l<c;++l)(a=t[l])&&(r[l]=a)}function l(e,t,n,i,r,a,l){var c,d,u,p={},h=t.length,m=a.length,f=new Array(h);for(c=0;c<h;++c)(d=t[c])&&(f[c]=u=s+l.call(d,d.__data__,c,t),u in p?r[c]=d:p[u]=d);for(c=0;c<m;++c)(d=p[u=s+l.call(e,a[c],c,a)])?(i[c]=d,d.__data__=a[c],p[u]=null):n[c]=new o.EnterNode(e,a[c]);for(c=0;c<h;++c)(d=t[c])&&p[f[c]]===d&&(r[c]=d)}function c(e,t){if(!e)return v=new Array(this.size()),h=-1,this.each(function(e){v[++h]=e}),v;var n=t?l:a,o=this._parents,s=this._groups;"function"!=typeof e&&(e=(0,r.default)(e));for(var c=s.length,d=new Array(c),u=new Array(c),p=new Array(c),h=0;h<c;++h){var m=o[h],f=s[h],g=f.length,v=e.call(m,m&&m.__data__,h,o),y=v.length,b=u[h]=new Array(y),x=d[h]=new Array(y);n(m,f,b,x,p[h]=new Array(g),v,t);for(var w,C,_=0,S=0;_<y;++_)if(w=b[_]){for(_>=S&&(S=_+1);!(C=x[S])&&++S<y;);w._next=C||null}}return(d=new i.Selection(d,o))._enter=u,d._exit=p,d}},"./node_modules/d3-selection/src/selection/datum.js":(e,t,n)=>{"use strict";function i(e){return arguments.length?this.property("__data__",e):this.node().__data__}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-selection/src/selection/dispatch.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("./node_modules/d3-selection/src/window.js");function o(e,t,n){var o=(0,i.default)(e),r=o.CustomEvent;"function"==typeof r?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function r(e,t){return function(){return o(this,e,t)}}function s(e,t){return function(){return o(this,e,t.apply(this,arguments))}}function a(e,t){return this.each(("function"==typeof t?s:r)(e,t))}},"./node_modules/d3-selection/src/selection/each.js":(e,t,n)=>{"use strict";function i(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o,r=t[n],s=0,a=r.length;s<a;++s)(o=r[s])&&e.call(o,o.__data__,s,r);return this}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-selection/src/selection/empty.js":(e,t,n)=>{"use strict";function i(){return!this.node()}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-selection/src/selection/enter.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r,EnterNode:()=>s});var i=n("./node_modules/d3-selection/src/selection/sparse.js"),o=n("./node_modules/d3-selection/src/selection/index.js");function r(){return new o.Selection(this._enter||this._groups.map(i.default),this._parents)}function s(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}s.prototype={constructor:s,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},"./node_modules/d3-selection/src/selection/exit.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-selection/src/selection/sparse.js"),o=n("./node_modules/d3-selection/src/selection/index.js");function r(){return new o.Selection(this._exit||this._groups.map(i.default),this._parents)}},"./node_modules/d3-selection/src/selection/filter.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-selection/src/selection/index.js"),o=n("./node_modules/d3-selection/src/matcher.js");function r(e){"function"!=typeof e&&(e=(0,o.default)(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var a,l=t[s],c=l.length,d=r[s]=[],u=0;u<c;++u)(a=l[u])&&e.call(a,a.__data__,u,l)&&d.push(a);return new i.Selection(r,this._parents)}},"./node_modules/d3-selection/src/selection/html.js":(e,t,n)=>{"use strict";function i(){this.innerHTML=""}function o(e){return function(){this.innerHTML=e}}function r(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function s(e){return arguments.length?this.each(null==e?i:("function"==typeof e?r:o)(e)):this.node().innerHTML}n.r(t),n.d(t,{default:()=>s})},"./node_modules/d3-selection/src/selection/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{root:()=>F,Selection:()=>k,default:()=>j});var i=n("./node_modules/d3-selection/src/selection/select.js"),o=n("./node_modules/d3-selection/src/selection/selectAll.js"),r=n("./node_modules/d3-selection/src/selection/filter.js"),s=n("./node_modules/d3-selection/src/selection/data.js"),a=n("./node_modules/d3-selection/src/selection/enter.js"),l=n("./node_modules/d3-selection/src/selection/exit.js"),c=n("./node_modules/d3-selection/src/selection/join.js"),d=n("./node_modules/d3-selection/src/selection/merge.js"),u=n("./node_modules/d3-selection/src/selection/order.js"),p=n("./node_modules/d3-selection/src/selection/sort.js"),h=n("./node_modules/d3-selection/src/selection/call.js"),m=n("./node_modules/d3-selection/src/selection/nodes.js"),f=n("./node_modules/d3-selection/src/selection/node.js"),g=n("./node_modules/d3-selection/src/selection/size.js"),v=n("./node_modules/d3-selection/src/selection/empty.js"),y=n("./node_modules/d3-selection/src/selection/each.js"),b=n("./node_modules/d3-selection/src/selection/attr.js"),x=n("./node_modules/d3-selection/src/selection/style.js"),w=n("./node_modules/d3-selection/src/selection/property.js"),C=n("./node_modules/d3-selection/src/selection/classed.js"),_=n("./node_modules/d3-selection/src/selection/text.js"),S=n("./node_modules/d3-selection/src/selection/html.js"),I=n("./node_modules/d3-selection/src/selection/raise.js"),A=n("./node_modules/d3-selection/src/selection/lower.js"),E=n("./node_modules/d3-selection/src/selection/append.js"),D=n("./node_modules/d3-selection/src/selection/insert.js"),T=n("./node_modules/d3-selection/src/selection/remove.js"),R=n("./node_modules/d3-selection/src/selection/clone.js"),M=n("./node_modules/d3-selection/src/selection/datum.js"),O=n("./node_modules/d3-selection/src/selection/on.js"),P=n("./node_modules/d3-selection/src/selection/dispatch.js"),F=[null];function k(e,t){this._groups=e,this._parents=t}function N(){return new k([[document.documentElement]],F)}k.prototype=N.prototype={constructor:k,select:i.default,selectAll:o.default,filter:r.default,data:s.default,enter:a.default,exit:l.default,join:c.default,merge:d.default,order:u.default,sort:p.default,call:h.default,nodes:m.default,node:f.default,size:g.default,empty:v.default,each:y.default,attr:b.default,style:x.default,property:w.default,classed:C.default,text:_.default,html:S.default,raise:I.default,lower:A.default,append:E.default,insert:D.default,remove:T.default,clone:R.default,datum:M.default,on:O.default,dispatch:P.default};const j=N},"./node_modules/d3-selection/src/selection/insert.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-selection/src/creator.js"),o=n("./node_modules/d3-selection/src/selector.js");function r(){return null}function s(e,t){var n="function"==typeof e?e:(0,i.default)(e),s=null==t?r:"function"==typeof t?t:(0,o.default)(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}},"./node_modules/d3-selection/src/selection/join.js":(e,t,n)=>{"use strict";function i(e,t,n){var i=this.enter(),o=this,r=this.exit();return i="function"==typeof e?e(i):i.append(e+""),null!=t&&(o=t(o)),null==n?r.remove():n(r),i&&o?i.merge(o).order():o}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-selection/src/selection/lower.js":(e,t,n)=>{"use strict";function i(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function o(){return this.each(i)}n.r(t),n.d(t,{default:()=>o})},"./node_modules/d3-selection/src/selection/merge.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-selection/src/selection/index.js");function o(e){for(var t=this._groups,n=e._groups,o=t.length,r=n.length,s=Math.min(o,r),a=new Array(o),l=0;l<s;++l)for(var c,d=t[l],u=n[l],p=d.length,h=a[l]=new Array(p),m=0;m<p;++m)(c=d[m]||u[m])&&(h[m]=c);for(;l<o;++l)a[l]=t[l];return new i.Selection(a,this._parents)}},"./node_modules/d3-selection/src/selection/node.js":(e,t,n)=>{"use strict";function i(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-selection/src/selection/nodes.js":(e,t,n)=>{"use strict";function i(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-selection/src/selection/on.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{event:()=>o,default:()=>c,customEvent:()=>d});var i={},o=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(i={mouseenter:"mouseover",mouseleave:"mouseout"}));function r(e,t,n){return e=s(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function s(e,t,n){return function(i){var r=o;o=i;try{e.call(this,this.__data__,t,n)}finally{o=r}}}function a(e){return function(){var t=this.__on;if(t){for(var n,i=0,o=-1,r=t.length;i<r;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?t.length=o:delete this.__on}}}function l(e,t,n){var o=i.hasOwnProperty(e.type)?r:s;return function(i,r,s){var a,l=this.__on,c=o(t,r,s);if(l)for(var d=0,u=l.length;d<u;++d)if((a=l[d]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=n),void(a.value=t);this.addEventListener(e.type,c,n),a={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(a):this.__on=[a]}}function c(e,t,n){var i,o,r=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),s=r.length;if(!(arguments.length<2)){for(c=t?l:a,null==n&&(n=!1),i=0;i<s;++i)this.each(c(r[i],t,n));return this}var c=this.node().__on;if(c)for(var d,u=0,p=c.length;u<p;++u)for(i=0,d=c[u];i<s;++i)if((o=r[i]).type===d.type&&o.name===d.name)return d.value}function d(e,t,n,i){var r=o;e.sourceEvent=o,o=e;try{return t.apply(n,i)}finally{o=r}}},"./node_modules/d3-selection/src/selection/order.js":(e,t,n)=>{"use strict";function i(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,o=e[t],r=o.length-1,s=o[r];--r>=0;)(i=o[r])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-selection/src/selection/property.js":(e,t,n)=>{"use strict";function i(e){return function(){delete this[e]}}function o(e,t){return function(){this[e]=t}}function r(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function s(e,t){return arguments.length>1?this.each((null==t?i:"function"==typeof t?r:o)(e,t)):this.node()[e]}n.r(t),n.d(t,{default:()=>s})},"./node_modules/d3-selection/src/selection/raise.js":(e,t,n)=>{"use strict";function i(){this.nextSibling&&this.parentNode.appendChild(this)}function o(){return this.each(i)}n.r(t),n.d(t,{default:()=>o})},"./node_modules/d3-selection/src/selection/remove.js":(e,t,n)=>{"use strict";function i(){var e=this.parentNode;e&&e.removeChild(this)}function o(){return this.each(i)}n.r(t),n.d(t,{default:()=>o})},"./node_modules/d3-selection/src/selection/select.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-selection/src/selection/index.js"),o=n("./node_modules/d3-selection/src/selector.js");function r(e){"function"!=typeof e&&(e=(0,o.default)(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var a,l,c=t[s],d=c.length,u=r[s]=new Array(d),p=0;p<d;++p)(a=c[p])&&(l=e.call(a,a.__data__,p,c))&&("__data__"in a&&(l.__data__=a.__data__),u[p]=l);return new i.Selection(r,this._parents)}},"./node_modules/d3-selection/src/selection/selectAll.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-selection/src/selection/index.js"),o=n("./node_modules/d3-selection/src/selectorAll.js");function r(e){"function"!=typeof e&&(e=(0,o.default)(e));for(var t=this._groups,n=t.length,r=[],s=[],a=0;a<n;++a)for(var l,c=t[a],d=c.length,u=0;u<d;++u)(l=c[u])&&(r.push(e.call(l,l.__data__,u,c)),s.push(l));return new i.Selection(r,s)}},"./node_modules/d3-selection/src/selection/size.js":(e,t,n)=>{"use strict";function i(){var e=0;return this.each(function(){++e}),e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-selection/src/selection/sort.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-selection/src/selection/index.js");function o(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=r);for(var n=this._groups,o=n.length,s=new Array(o),a=0;a<o;++a){for(var l,c=n[a],d=c.length,u=s[a]=new Array(d),p=0;p<d;++p)(l=c[p])&&(u[p]=l);u.sort(t)}return new i.Selection(s,this._parents).order()}function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},"./node_modules/d3-selection/src/selection/sparse.js":(e,t,n)=>{"use strict";function i(e){return new Array(e.length)}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-selection/src/selection/style.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a,styleValue:()=>l});var i=n("./node_modules/d3-selection/src/window.js");function o(e){return function(){this.style.removeProperty(e)}}function r(e,t,n){return function(){this.style.setProperty(e,t,n)}}function s(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function a(e,t,n){return arguments.length>1?this.each((null==t?o:"function"==typeof t?s:r)(e,t,null==n?"":n)):l(this.node(),e)}function l(e,t){return e.style.getPropertyValue(t)||(0,i.default)(e).getComputedStyle(e,null).getPropertyValue(t)}},"./node_modules/d3-selection/src/selection/text.js":(e,t,n)=>{"use strict";function i(){this.textContent=""}function o(e){return function(){this.textContent=e}}function r(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function s(e){return arguments.length?this.each(null==e?i:("function"==typeof e?r:o)(e)):this.node().textContent}n.r(t),n.d(t,{default:()=>s})},"./node_modules/d3-selection/src/selector.js":(e,t,n)=>{"use strict";function i(){}function o(e){return null==e?i:function(){return this.querySelector(e)}}n.r(t),n.d(t,{default:()=>o})},"./node_modules/d3-selection/src/selectorAll.js":(e,t,n)=>{"use strict";function i(){return[]}function o(e){return null==e?i:function(){return this.querySelectorAll(e)}}n.r(t),n.d(t,{default:()=>o})},"./node_modules/d3-selection/src/sourceEvent.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-selection/src/selection/on.js");function o(){for(var e,t=i.event;e=t.sourceEvent;)t=e;return t}},"./node_modules/d3-selection/src/touch.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-selection/src/sourceEvent.js"),o=n("./node_modules/d3-selection/src/point.js");function r(e,t,n){arguments.length<3&&(n=t,t=(0,i.default)().changedTouches);for(var r,s=0,a=t?t.length:0;s<a;++s)if((r=t[s]).identifier===n)return(0,o.default)(e,r);return null}},"./node_modules/d3-selection/src/touches.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-selection/src/sourceEvent.js"),o=n("./node_modules/d3-selection/src/point.js");function r(e,t){null==t&&(t=(0,i.default)().touches);for(var n=0,r=t?t.length:0,s=new Array(r);n<r;++n)s[n]=(0,o.default)(e,t[n]);return s}},"./node_modules/d3-selection/src/window.js":(e,t,n)=>{"use strict";function i(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-shape/src/arc.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var i=n("./node_modules/d3-path/src/index.js"),o=n("./node_modules/d3-shape/src/constant.js"),r=n("./node_modules/d3-shape/src/math.js");function s(e){return e.innerRadius}function a(e){return e.outerRadius}function l(e){return e.startAngle}function c(e){return e.endAngle}function d(e){return e&&e.padAngle}function u(e,t,n,i,o,s,a){var l=e-n,c=t-i,d=(a?s:-s)/(0,r.sqrt)(l*l+c*c),u=d*c,p=-d*l,h=e+u,m=t+p,f=n+u,g=i+p,v=(h+f)/2,y=(m+g)/2,b=f-h,x=g-m,w=b*b+x*x,C=o-s,_=h*g-f*m,S=(x<0?-1:1)*(0,r.sqrt)((0,r.max)(0,C*C*w-_*_)),I=(_*x-b*S)/w,A=(-_*b-x*S)/w,E=(_*x+b*S)/w,D=(-_*b+x*S)/w,T=I-v,R=A-y,M=E-v,O=D-y;return T*T+R*R>M*M+O*O&&(I=E,A=D),{cx:I,cy:A,x01:-u,y01:-p,x11:I*(o/C-1),y11:A*(o/C-1)}}function p(){var e=s,t=a,n=(0,o.default)(0),p=null,h=l,m=c,f=d,g=null;function v(){var o,s,a=+e.apply(this,arguments),l=+t.apply(this,arguments),c=h.apply(this,arguments)-r.halfPi,d=m.apply(this,arguments)-r.halfPi,v=(0,r.abs)(d-c),y=d>c;if(g||(g=o=(0,i.path)()),l<a&&(s=l,l=a,a=s),l>r.epsilon)if(v>r.tau-r.epsilon)g.moveTo(l*(0,r.cos)(c),l*(0,r.sin)(c)),g.arc(0,0,l,c,d,!y),a>r.epsilon&&(g.moveTo(a*(0,r.cos)(d),a*(0,r.sin)(d)),g.arc(0,0,a,d,c,y));else{var b,x,w=c,C=d,_=c,S=d,I=v,A=v,E=f.apply(this,arguments)/2,D=E>r.epsilon&&(p?+p.apply(this,arguments):(0,r.sqrt)(a*a+l*l)),T=(0,r.min)((0,r.abs)(l-a)/2,+n.apply(this,arguments)),R=T,M=T;if(D>r.epsilon){var O=(0,r.asin)(D/a*(0,r.sin)(E)),P=(0,r.asin)(D/l*(0,r.sin)(E));(I-=2*O)>r.epsilon?(_+=O*=y?1:-1,S-=O):(I=0,_=S=(c+d)/2),(A-=2*P)>r.epsilon?(w+=P*=y?1:-1,C-=P):(A=0,w=C=(c+d)/2)}var F=l*(0,r.cos)(w),k=l*(0,r.sin)(w),N=a*(0,r.cos)(S),j=a*(0,r.sin)(S);if(T>r.epsilon){var L,V=l*(0,r.cos)(C),B=l*(0,r.sin)(C),G=a*(0,r.cos)(_),z=a*(0,r.sin)(_);if(v<r.pi&&(L=function(e,t,n,i,o,s,a,l){var c=n-e,d=i-t,u=a-o,p=l-s,h=p*c-u*d;if(!(h*h<r.epsilon))return[e+(h=(u*(t-s)-p*(e-o))/h)*c,t+h*d]}(F,k,G,z,V,B,N,j))){var $=F-L[0],U=k-L[1],H=V-L[0],X=B-L[1],W=1/(0,r.sin)((0,r.acos)(($*H+U*X)/((0,r.sqrt)($*$+U*U)*(0,r.sqrt)(H*H+X*X)))/2),q=(0,r.sqrt)(L[0]*L[0]+L[1]*L[1]);R=(0,r.min)(T,(a-q)/(W-1)),M=(0,r.min)(T,(l-q)/(W+1))}}A>r.epsilon?M>r.epsilon?(b=u(G,z,F,k,l,M,y),x=u(V,B,N,j,l,M,y),g.moveTo(b.cx+b.x01,b.cy+b.y01),M<T?g.arc(b.cx,b.cy,M,(0,r.atan2)(b.y01,b.x01),(0,r.atan2)(x.y01,x.x01),!y):(g.arc(b.cx,b.cy,M,(0,r.atan2)(b.y01,b.x01),(0,r.atan2)(b.y11,b.x11),!y),g.arc(0,0,l,(0,r.atan2)(b.cy+b.y11,b.cx+b.x11),(0,r.atan2)(x.cy+x.y11,x.cx+x.x11),!y),g.arc(x.cx,x.cy,M,(0,r.atan2)(x.y11,x.x11),(0,r.atan2)(x.y01,x.x01),!y))):(g.moveTo(F,k),g.arc(0,0,l,w,C,!y)):g.moveTo(F,k),a>r.epsilon&&I>r.epsilon?R>r.epsilon?(b=u(N,j,V,B,a,-R,y),x=u(F,k,G,z,a,-R,y),g.lineTo(b.cx+b.x01,b.cy+b.y01),R<T?g.arc(b.cx,b.cy,R,(0,r.atan2)(b.y01,b.x01),(0,r.atan2)(x.y01,x.x01),!y):(g.arc(b.cx,b.cy,R,(0,r.atan2)(b.y01,b.x01),(0,r.atan2)(b.y11,b.x11),!y),g.arc(0,0,a,(0,r.atan2)(b.cy+b.y11,b.cx+b.x11),(0,r.atan2)(x.cy+x.y11,x.cx+x.x11),y),g.arc(x.cx,x.cy,R,(0,r.atan2)(x.y11,x.x11),(0,r.atan2)(x.y01,x.x01),!y))):g.arc(0,0,a,S,_,y):g.lineTo(N,j)}else g.moveTo(0,0);if(g.closePath(),o)return g=null,o+""||null}return v.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+h.apply(this,arguments)+ +m.apply(this,arguments))/2-r.pi/2;return[(0,r.cos)(i)*n,(0,r.sin)(i)*n]},v.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:(0,o.default)(+t),v):e},v.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:(0,o.default)(+e),v):t},v.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:(0,o.default)(+e),v):n},v.padRadius=function(e){return arguments.length?(p=null==e?null:"function"==typeof e?e:(0,o.default)(+e),v):p},v.startAngle=function(e){return arguments.length?(h="function"==typeof e?e:(0,o.default)(+e),v):h},v.endAngle=function(e){return arguments.length?(m="function"==typeof e?e:(0,o.default)(+e),v):m},v.padAngle=function(e){return arguments.length?(f="function"==typeof e?e:(0,o.default)(+e),v):f},v.context=function(e){return arguments.length?(g=null==e?null:e,v):g},v}},"./node_modules/d3-shape/src/area.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n("./node_modules/d3-path/src/index.js"),o=n("./node_modules/d3-shape/src/constant.js"),r=n("./node_modules/d3-shape/src/curve/linear.js"),s=n("./node_modules/d3-shape/src/line.js"),a=n("./node_modules/d3-shape/src/point.js");function l(){var e=a.x,t=null,n=(0,o.default)(0),l=a.y,c=(0,o.default)(!0),d=null,u=r.default,p=null;function h(o){var r,s,a,h,m,f=o.length,g=!1,v=new Array(f),y=new Array(f);for(null==d&&(p=u(m=(0,i.path)())),r=0;r<=f;++r){if(!(r<f&&c(h=o[r],r,o))===g)if(g=!g)s=r,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),a=r-1;a>=s;--a)p.point(v[a],y[a]);p.lineEnd(),p.areaEnd()}g&&(v[r]=+e(h,r,o),y[r]=+n(h,r,o),p.point(t?+t(h,r,o):v[r],l?+l(h,r,o):y[r]))}if(m)return p=null,m+""||null}function m(){return(0,s.default)().defined(c).curve(u).context(d)}return h.x=function(n){return arguments.length?(e="function"==typeof n?n:(0,o.default)(+n),t=null,h):e},h.x0=function(t){return arguments.length?(e="function"==typeof t?t:(0,o.default)(+t),h):e},h.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:(0,o.default)(+e),h):t},h.y=function(e){return arguments.length?(n="function"==typeof e?e:(0,o.default)(+e),l=null,h):n},h.y0=function(e){return arguments.length?(n="function"==typeof e?e:(0,o.default)(+e),h):n},h.y1=function(e){return arguments.length?(l=null==e?null:"function"==typeof e?e:(0,o.default)(+e),h):l},h.lineX0=h.lineY0=function(){return m().x(e).y(n)},h.lineY1=function(){return m().x(e).y(l)},h.lineX1=function(){return m().x(t).y(n)},h.defined=function(e){return arguments.length?(c="function"==typeof e?e:(0,o.default)(!!e),h):c},h.curve=function(e){return arguments.length?(u=e,null!=d&&(p=u(d)),h):u},h.context=function(e){return arguments.length?(null==e?d=p=null:p=u(d=e),h):d},h}},"./node_modules/d3-shape/src/areaRadial.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-shape/src/curve/radial.js"),o=n("./node_modules/d3-shape/src/area.js"),r=n("./node_modules/d3-shape/src/lineRadial.js");function s(){var e=(0,o.default)().curve(i.curveRadialLinear),t=e.curve,n=e.lineX0,s=e.lineX1,a=e.lineY0,l=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return(0,r.lineRadial)(n())},delete e.lineX0,e.lineEndAngle=function(){return(0,r.lineRadial)(s())},delete e.lineX1,e.lineInnerRadius=function(){return(0,r.lineRadial)(a())},delete e.lineY0,e.lineOuterRadius=function(){return(0,r.lineRadial)(l())},delete e.lineY1,e.curve=function(e){return arguments.length?t((0,i.default)(e)):t()._curve},e}},"./node_modules/d3-shape/src/array.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{slice:()=>i});var i=Array.prototype.slice},"./node_modules/d3-shape/src/constant.js":(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-shape/src/curve/basis.js":(e,t,n)=>{"use strict";function i(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function o(e){this._context=e}function r(e){return new o(e)}n.r(t),n.d(t,{point:()=>i,Basis:()=>o,default:()=>r}),o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:i(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:i(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},"./node_modules/d3-shape/src/curve/basisClosed.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-shape/src/noop.js"),o=n("./node_modules/d3-shape/src/curve/basis.js");function r(e){this._context=e}function s(e){return new r(e)}r.prototype={areaStart:i.default,areaEnd:i.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:(0,o.point)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},"./node_modules/d3-shape/src/curve/basisOpen.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-shape/src/curve/basis.js");function o(e){this._context=e}function r(e){return new o(e)}o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,o=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,o):this._context.moveTo(n,o);break;case 3:this._point=4;default:(0,i.point)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},"./node_modules/d3-shape/src/curve/bundle.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-shape/src/curve/basis.js");function o(e,t){this._basis=new i.Basis(e),this._beta=t}o.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i,o=e[0],r=t[0],s=e[n]-o,a=t[n]-r,l=-1;++l<=n;)i=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(o+i*s),this._beta*t[l]+(1-this._beta)*(r+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const r=function e(t){function n(e){return 1===t?new i.Basis(e):new o(e,t)}return n.beta=function(t){return e(+t)},n}(.85)},"./node_modules/d3-shape/src/curve/cardinal.js":(e,t,n)=>{"use strict";function i(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function o(e,t){this._context=e,this._k=(1-t)/6}n.r(t),n.d(t,{point:()=>i,Cardinal:()=>o,default:()=>r}),o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:i(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:i(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const r=function e(t){function n(e){return new o(e,t)}return n.tension=function(t){return e(+t)},n}(0)},"./node_modules/d3-shape/src/curve/cardinalClosed.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CardinalClosed:()=>r,default:()=>s});var i=n("./node_modules/d3-shape/src/noop.js"),o=n("./node_modules/d3-shape/src/curve/cardinal.js");function r(e,t){this._context=e,this._k=(1-t)/6}r.prototype={areaStart:i.default,areaEnd:i.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:(0,o.point)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const s=function e(t){function n(e){return new r(e,t)}return n.tension=function(t){return e(+t)},n}(0)},"./node_modules/d3-shape/src/curve/cardinalOpen.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CardinalOpen:()=>o,default:()=>r});var i=n("./node_modules/d3-shape/src/curve/cardinal.js");function o(e,t){this._context=e,this._k=(1-t)/6}o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,i.point)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const r=function e(t){function n(e){return new o(e,t)}return n.tension=function(t){return e(+t)},n}(0)},"./node_modules/d3-shape/src/curve/catmullRom.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{point:()=>r,default:()=>a});var i=n("./node_modules/d3-shape/src/math.js"),o=n("./node_modules/d3-shape/src/curve/cardinal.js");function r(e,t,n){var o=e._x1,r=e._y1,s=e._x2,a=e._y2;if(e._l01_a>i.epsilon){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);o=(o*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,r=(r*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>i.epsilon){var d=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*d+e._x1*e._l23_2a-t*e._l12_2a)/u,a=(a*d+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(o,r,s,a,e._x2,e._y2)}function s(e,t){this._context=e,this._alpha=t}s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:r(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const a=function e(t){function n(e){return t?new s(e,t):new o.Cardinal(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},"./node_modules/d3-shape/src/curve/catmullRomClosed.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("./node_modules/d3-shape/src/curve/cardinalClosed.js"),o=n("./node_modules/d3-shape/src/noop.js"),r=n("./node_modules/d3-shape/src/curve/catmullRom.js");function s(e,t){this._context=e,this._alpha=t}s.prototype={areaStart:o.default,areaEnd:o.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:(0,r.point)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const a=function e(t){function n(e){return t?new s(e,t):new i.CardinalClosed(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},"./node_modules/d3-shape/src/curve/catmullRomOpen.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-shape/src/curve/cardinalOpen.js"),o=n("./node_modules/d3-shape/src/curve/catmullRom.js");function r(e,t){this._context=e,this._alpha=t}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,o.point)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const s=function e(t){function n(e){return t?new r(e,t):new i.CardinalOpen(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},"./node_modules/d3-shape/src/curve/linear.js":(e,t,n)=>{"use strict";function i(e){this._context=e}function o(e){return new i(e)}n.r(t),n.d(t,{default:()=>o}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}}},"./node_modules/d3-shape/src/curve/linearClosed.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-shape/src/noop.js");function o(e){this._context=e}function r(e){return new o(e)}o.prototype={areaStart:i.default,areaEnd:i.default,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}},"./node_modules/d3-shape/src/curve/monotone.js":(e,t,n)=>{"use strict";function i(e){return e<0?-1:1}function o(e,t,n){var o=e._x1-e._x0,r=t-e._x1,s=(e._y1-e._y0)/(o||r<0&&-0),a=(n-e._y1)/(r||o<0&&-0),l=(s*r+a*o)/(o+r);return(i(s)+i(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function r(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function s(e,t,n){var i=e._x0,o=e._y0,r=e._x1,s=e._y1,a=(r-i)/3;e._context.bezierCurveTo(i+a,o+a*t,r-a,s-a*n,r,s)}function a(e){this._context=e}function l(e){this._context=new c(e)}function c(e){this._context=e}function d(e){return new a(e)}function u(e){return new l(e)}n.r(t),n.d(t,{monotoneX:()=>d,monotoneY:()=>u}),a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:s(this,this._t0,r(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,s(this,r(this,n=o(this,e,t)),n);break;default:s(this,this._t0,n=o(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(l.prototype=Object.create(a.prototype)).point=function(e,t){a.prototype.point.call(this,t,e)},c.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,o,r){this._context.bezierCurveTo(t,e,i,n,r,o)}}},"./node_modules/d3-shape/src/curve/natural.js":(e,t,n)=>{"use strict";function i(e){this._context=e}function o(e){var t,n,i=e.length-1,o=new Array(i),r=new Array(i),s=new Array(i);for(o[0]=0,r[0]=2,s[0]=e[0]+2*e[1],t=1;t<i-1;++t)o[t]=1,r[t]=4,s[t]=4*e[t]+2*e[t+1];for(o[i-1]=2,r[i-1]=7,s[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=o[t]/r[t-1],r[t]-=n,s[t]-=n*s[t-1];for(o[i-1]=s[i-1]/r[i-1],t=i-2;t>=0;--t)o[t]=(s[t]-o[t+1])/r[t];for(r[i-1]=(e[i]+o[i-1])/2,t=0;t<i-1;++t)r[t]=2*e[t+1]-o[t+1];return[o,r]}function r(e){return new i(e)}n.r(t),n.d(t,{default:()=>r}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var i=o(e),r=o(t),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}},"./node_modules/d3-shape/src/curve/radial.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{curveRadialLinear:()=>i,default:()=>r});var i=r(n("./node_modules/d3-shape/src/curve/linear.js").default);function o(e){this._curve=e}function r(e){function t(t){return new o(e(t))}return t._curve=e,t}o.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}}},"./node_modules/d3-shape/src/curve/step.js":(e,t,n)=>{"use strict";function i(e,t){this._context=e,this._t=t}function o(e){return new i(e,.5)}function r(e){return new i(e,0)}function s(e){return new i(e,1)}n.r(t),n.d(t,{default:()=>o,stepBefore:()=>r,stepAfter:()=>s}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}}},"./node_modules/d3-shape/src/descending.js":(e,t,n)=>{"use strict";function i(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-shape/src/identity.js":(e,t,n)=>{"use strict";function i(e){return e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-shape/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{arc:()=>i.default,area:()=>o.default,line:()=>r.default,pie:()=>s.default,areaRadial:()=>a.default,radialArea:()=>a.default,lineRadial:()=>l.default,radialLine:()=>l.default,pointRadial:()=>c.default,linkHorizontal:()=>d.linkHorizontal,linkVertical:()=>d.linkVertical,linkRadial:()=>d.linkRadial,symbol:()=>u.default,symbols:()=>u.symbols,symbolCircle:()=>p.default,symbolCross:()=>h.default,symbolDiamond:()=>m.default,symbolSquare:()=>f.default,symbolStar:()=>g.default,symbolTriangle:()=>v.default,symbolWye:()=>y.default,curveBasisClosed:()=>b.default,curveBasisOpen:()=>x.default,curveBasis:()=>w.default,curveBundle:()=>C.default,curveCardinalClosed:()=>_.default,curveCardinalOpen:()=>S.default,curveCardinal:()=>I.default,curveCatmullRomClosed:()=>A.default,curveCatmullRomOpen:()=>E.default,curveCatmullRom:()=>D.default,curveLinearClosed:()=>T.default,curveLinear:()=>R.default,curveMonotoneX:()=>M.monotoneX,curveMonotoneY:()=>M.monotoneY,curveNatural:()=>O.default,curveStep:()=>P.default,curveStepAfter:()=>P.stepAfter,curveStepBefore:()=>P.stepBefore,stack:()=>F.default,stackOffsetExpand:()=>k.default,stackOffsetDiverging:()=>N.default,stackOffsetNone:()=>j.default,stackOffsetSilhouette:()=>L.default,stackOffsetWiggle:()=>V.default,stackOrderAppearance:()=>B.default,stackOrderAscending:()=>G.default,stackOrderDescending:()=>z.default,stackOrderInsideOut:()=>$.default,stackOrderNone:()=>U.default,stackOrderReverse:()=>H.default});var i=n("./node_modules/d3-shape/src/arc.js"),o=n("./node_modules/d3-shape/src/area.js"),r=n("./node_modules/d3-shape/src/line.js"),s=n("./node_modules/d3-shape/src/pie.js"),a=n("./node_modules/d3-shape/src/areaRadial.js"),l=n("./node_modules/d3-shape/src/lineRadial.js"),c=n("./node_modules/d3-shape/src/pointRadial.js"),d=n("./node_modules/d3-shape/src/link/index.js"),u=n("./node_modules/d3-shape/src/symbol.js"),p=n("./node_modules/d3-shape/src/symbol/circle.js"),h=n("./node_modules/d3-shape/src/symbol/cross.js"),m=n("./node_modules/d3-shape/src/symbol/diamond.js"),f=n("./node_modules/d3-shape/src/symbol/square.js"),g=n("./node_modules/d3-shape/src/symbol/star.js"),v=n("./node_modules/d3-shape/src/symbol/triangle.js"),y=n("./node_modules/d3-shape/src/symbol/wye.js"),b=n("./node_modules/d3-shape/src/curve/basisClosed.js"),x=n("./node_modules/d3-shape/src/curve/basisOpen.js"),w=n("./node_modules/d3-shape/src/curve/basis.js"),C=n("./node_modules/d3-shape/src/curve/bundle.js"),_=n("./node_modules/d3-shape/src/curve/cardinalClosed.js"),S=n("./node_modules/d3-shape/src/curve/cardinalOpen.js"),I=n("./node_modules/d3-shape/src/curve/cardinal.js"),A=n("./node_modules/d3-shape/src/curve/catmullRomClosed.js"),E=n("./node_modules/d3-shape/src/curve/catmullRomOpen.js"),D=n("./node_modules/d3-shape/src/curve/catmullRom.js"),T=n("./node_modules/d3-shape/src/curve/linearClosed.js"),R=n("./node_modules/d3-shape/src/curve/linear.js"),M=n("./node_modules/d3-shape/src/curve/monotone.js"),O=n("./node_modules/d3-shape/src/curve/natural.js"),P=n("./node_modules/d3-shape/src/curve/step.js"),F=n("./node_modules/d3-shape/src/stack.js"),k=n("./node_modules/d3-shape/src/offset/expand.js"),N=n("./node_modules/d3-shape/src/offset/diverging.js"),j=n("./node_modules/d3-shape/src/offset/none.js"),L=n("./node_modules/d3-shape/src/offset/silhouette.js"),V=n("./node_modules/d3-shape/src/offset/wiggle.js"),B=n("./node_modules/d3-shape/src/order/appearance.js"),G=n("./node_modules/d3-shape/src/order/ascending.js"),z=n("./node_modules/d3-shape/src/order/descending.js"),$=n("./node_modules/d3-shape/src/order/insideOut.js"),U=n("./node_modules/d3-shape/src/order/none.js"),H=n("./node_modules/d3-shape/src/order/reverse.js")},"./node_modules/d3-shape/src/line.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("./node_modules/d3-path/src/index.js"),o=n("./node_modules/d3-shape/src/constant.js"),r=n("./node_modules/d3-shape/src/curve/linear.js"),s=n("./node_modules/d3-shape/src/point.js");function a(){var e=s.x,t=s.y,n=(0,o.default)(!0),a=null,l=r.default,c=null;function d(o){var r,s,d,u=o.length,p=!1;for(null==a&&(c=l(d=(0,i.path)())),r=0;r<=u;++r)!(r<u&&n(s=o[r],r,o))===p&&((p=!p)?c.lineStart():c.lineEnd()),p&&c.point(+e(s,r,o),+t(s,r,o));if(d)return c=null,d+""||null}return d.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,o.default)(+t),d):e},d.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,o.default)(+e),d):t},d.defined=function(e){return arguments.length?(n="function"==typeof e?e:(0,o.default)(!!e),d):n},d.curve=function(e){return arguments.length?(l=e,null!=a&&(c=l(a)),d):l},d.context=function(e){return arguments.length?(null==e?a=c=null:c=l(a=e),d):a},d}},"./node_modules/d3-shape/src/lineRadial.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{lineRadial:()=>r,default:()=>s});var i=n("./node_modules/d3-shape/src/curve/radial.js"),o=n("./node_modules/d3-shape/src/line.js");function r(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t((0,i.default)(e)):t()._curve},e}function s(){return r((0,o.default)().curve(i.curveRadialLinear))}},"./node_modules/d3-shape/src/link/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{linkHorizontal:()=>m,linkVertical:()=>f,linkRadial:()=>g});var i=n("./node_modules/d3-path/src/index.js"),o=n("./node_modules/d3-shape/src/array.js"),r=n("./node_modules/d3-shape/src/constant.js"),s=n("./node_modules/d3-shape/src/point.js"),a=n("./node_modules/d3-shape/src/pointRadial.js");function l(e){return e.source}function c(e){return e.target}function d(e){var t=l,n=c,a=s.x,d=s.y,u=null;function p(){var r,s=o.slice.call(arguments),l=t.apply(this,s),c=n.apply(this,s);if(u||(u=r=(0,i.path)()),e(u,+a.apply(this,(s[0]=l,s)),+d.apply(this,s),+a.apply(this,(s[0]=c,s)),+d.apply(this,s)),r)return u=null,r+""||null}return p.source=function(e){return arguments.length?(t=e,p):t},p.target=function(e){return arguments.length?(n=e,p):n},p.x=function(e){return arguments.length?(a="function"==typeof e?e:(0,r.default)(+e),p):a},p.y=function(e){return arguments.length?(d="function"==typeof e?e:(0,r.default)(+e),p):d},p.context=function(e){return arguments.length?(u=null==e?null:e,p):u},p}function u(e,t,n,i,o){e.moveTo(t,n),e.bezierCurveTo(t=(t+i)/2,n,t,o,i,o)}function p(e,t,n,i,o){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+o)/2,i,n,i,o)}function h(e,t,n,i,o){var r=(0,a.default)(t,n),s=(0,a.default)(t,n=(n+o)/2),l=(0,a.default)(i,n),c=(0,a.default)(i,o);e.moveTo(r[0],r[1]),e.bezierCurveTo(s[0],s[1],l[0],l[1],c[0],c[1])}function m(){return d(u)}function f(){return d(p)}function g(){var e=d(h);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}},"./node_modules/d3-shape/src/math.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{abs:()=>i,atan2:()=>o,cos:()=>r,max:()=>s,min:()=>a,sin:()=>l,sqrt:()=>c,epsilon:()=>d,pi:()=>u,halfPi:()=>p,tau:()=>h,acos:()=>m,asin:()=>f});var i=Math.abs,o=Math.atan2,r=Math.cos,s=Math.max,a=Math.min,l=Math.sin,c=Math.sqrt,d=1e-12,u=Math.PI,p=u/2,h=2*u;function m(e){return e>1?0:e<-1?u:Math.acos(e)}function f(e){return e>=1?p:e<=-1?-p:Math.asin(e)}},"./node_modules/d3-shape/src/noop.js":(e,t,n)=>{"use strict";function i(){}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-shape/src/offset/diverging.js":(e,t,n)=>{"use strict";function i(e,t){if((a=e.length)>0)for(var n,i,o,r,s,a,l=0,c=e[t[0]].length;l<c;++l)for(r=s=0,n=0;n<a;++n)(o=(i=e[t[n]][l])[1]-i[0])>0?(i[0]=r,i[1]=r+=o):o<0?(i[1]=s,i[0]=s+=o):(i[0]=0,i[1]=o)}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-shape/src/offset/expand.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-shape/src/offset/none.js");function o(e,t){if((o=e.length)>0){for(var n,o,r,s=0,a=e[0].length;s<a;++s){for(r=n=0;n<o;++n)r+=e[n][s][1]||0;if(r)for(n=0;n<o;++n)e[n][s][1]/=r}(0,i.default)(e,t)}}},"./node_modules/d3-shape/src/offset/none.js":(e,t,n)=>{"use strict";function i(e,t){if((o=e.length)>1)for(var n,i,o,r=1,s=e[t[0]],a=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-shape/src/offset/silhouette.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-shape/src/offset/none.js");function o(e,t){if((n=e.length)>0){for(var n,o=0,r=e[t[0]],s=r.length;o<s;++o){for(var a=0,l=0;a<n;++a)l+=e[a][o][1]||0;r[o][1]+=r[o][0]=-l/2}(0,i.default)(e,t)}}},"./node_modules/d3-shape/src/offset/wiggle.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-shape/src/offset/none.js");function o(e,t){if((r=e.length)>0&&(o=(n=e[t[0]]).length)>0){for(var n,o,r,s=0,a=1;a<o;++a){for(var l=0,c=0,d=0;l<r;++l){for(var u=e[t[l]],p=u[a][1]||0,h=(p-(u[a-1][1]||0))/2,m=0;m<l;++m){var f=e[t[m]];h+=(f[a][1]||0)-(f[a-1][1]||0)}c+=p,d+=h*p}n[a-1][1]+=n[a-1][0]=s,c&&(s-=d/c)}n[a-1][1]+=n[a-1][0]=s,(0,i.default)(e,t)}}},"./node_modules/d3-shape/src/order/appearance.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-shape/src/order/none.js");function o(e){var t=e.map(r);return(0,i.default)(e).sort(function(e,n){return t[e]-t[n]})}function r(e){for(var t,n=-1,i=0,o=e.length,r=-1/0;++n<o;)(t=+e[n][1])>r&&(r=t,i=n);return i}},"./node_modules/d3-shape/src/order/ascending.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,sum:()=>r});var i=n("./node_modules/d3-shape/src/order/none.js");function o(e){var t=e.map(r);return(0,i.default)(e).sort(function(e,n){return t[e]-t[n]})}function r(e){for(var t,n=0,i=-1,o=e.length;++i<o;)(t=+e[i][1])&&(n+=t);return n}},"./node_modules/d3-shape/src/order/descending.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-shape/src/order/ascending.js");function o(e){return(0,i.default)(e).reverse()}},"./node_modules/d3-shape/src/order/insideOut.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-shape/src/order/appearance.js"),o=n("./node_modules/d3-shape/src/order/ascending.js");function r(e){var t,n,r=e.length,s=e.map(o.sum),a=(0,i.default)(e),l=0,c=0,d=[],u=[];for(t=0;t<r;++t)n=a[t],l<c?(l+=s[n],d.push(n)):(c+=s[n],u.push(n));return u.reverse().concat(d)}},"./node_modules/d3-shape/src/order/none.js":(e,t,n)=>{"use strict";function i(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-shape/src/order/reverse.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-shape/src/order/none.js");function o(e){return(0,i.default)(e).reverse()}},"./node_modules/d3-shape/src/pie.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("./node_modules/d3-shape/src/constant.js"),o=n("./node_modules/d3-shape/src/descending.js"),r=n("./node_modules/d3-shape/src/identity.js"),s=n("./node_modules/d3-shape/src/math.js");function a(){var e=r.default,t=o.default,n=null,a=(0,i.default)(0),l=(0,i.default)(s.tau),c=(0,i.default)(0);function d(i){var o,r,d,u,p,h=i.length,m=0,f=new Array(h),g=new Array(h),v=+a.apply(this,arguments),y=Math.min(s.tau,Math.max(-s.tau,l.apply(this,arguments)-v)),b=Math.min(Math.abs(y)/h,c.apply(this,arguments)),x=b*(y<0?-1:1);for(o=0;o<h;++o)(p=g[f[o]=o]=+e(i[o],o,i))>0&&(m+=p);for(null!=t?f.sort(function(e,n){return t(g[e],g[n])}):null!=n&&f.sort(function(e,t){return n(i[e],i[t])}),o=0,d=m?(y-h*x)/m:0;o<h;++o,v=u)r=f[o],u=v+((p=g[r])>0?p*d:0)+x,g[r]={data:i[r],index:o,value:p,startAngle:v,endAngle:u,padAngle:b};return g}return d.value=function(t){return arguments.length?(e="function"==typeof t?t:(0,i.default)(+t),d):e},d.sortValues=function(e){return arguments.length?(t=e,n=null,d):t},d.sort=function(e){return arguments.length?(n=e,t=null,d):n},d.startAngle=function(e){return arguments.length?(a="function"==typeof e?e:(0,i.default)(+e),d):a},d.endAngle=function(e){return arguments.length?(l="function"==typeof e?e:(0,i.default)(+e),d):l},d.padAngle=function(e){return arguments.length?(c="function"==typeof e?e:(0,i.default)(+e),d):c},d}},"./node_modules/d3-shape/src/point.js":(e,t,n)=>{"use strict";function i(e){return e[0]}function o(e){return e[1]}n.r(t),n.d(t,{x:()=>i,y:()=>o})},"./node_modules/d3-shape/src/pointRadial.js":(e,t,n)=>{"use strict";function i(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-shape/src/stack.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n("./node_modules/d3-shape/src/array.js"),o=n("./node_modules/d3-shape/src/constant.js"),r=n("./node_modules/d3-shape/src/offset/none.js"),s=n("./node_modules/d3-shape/src/order/none.js");function a(e,t){return e[t]}function l(){var e=(0,o.default)([]),t=s.default,n=r.default,l=a;function c(i){var o,r,s=e.apply(this,arguments),a=i.length,c=s.length,d=new Array(c);for(o=0;o<c;++o){for(var u,p=s[o],h=d[o]=new Array(a),m=0;m<a;++m)h[m]=u=[0,+l(i[m],p,m,i)],u.data=i[m];h.key=p}for(o=0,r=t(d);o<c;++o)d[r[o]].index=o;return n(d,r),d}return c.keys=function(t){return arguments.length?(e="function"==typeof t?t:(0,o.default)(i.slice.call(t)),c):e},c.value=function(e){return arguments.length?(l="function"==typeof e?e:(0,o.default)(+e),c):l},c.order=function(e){return arguments.length?(t=null==e?s.default:"function"==typeof e?e:(0,o.default)(i.slice.call(e)),c):t},c.offset=function(e){return arguments.length?(n=null==e?r.default:e,c):n},c}},"./node_modules/d3-shape/src/symbol.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{symbols:()=>p,default:()=>h});var i=n("./node_modules/d3-path/src/index.js"),o=n("./node_modules/d3-shape/src/symbol/circle.js"),r=n("./node_modules/d3-shape/src/symbol/cross.js"),s=n("./node_modules/d3-shape/src/symbol/diamond.js"),a=n("./node_modules/d3-shape/src/symbol/star.js"),l=n("./node_modules/d3-shape/src/symbol/square.js"),c=n("./node_modules/d3-shape/src/symbol/triangle.js"),d=n("./node_modules/d3-shape/src/symbol/wye.js"),u=n("./node_modules/d3-shape/src/constant.js"),p=[o.default,r.default,s.default,l.default,a.default,c.default,d.default];function h(){var e=(0,u.default)(o.default),t=(0,u.default)(64),n=null;function r(){var o;if(n||(n=o=(0,i.path)()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return r.type=function(t){return arguments.length?(e="function"==typeof t?t:(0,u.default)(t),r):e},r.size=function(e){return arguments.length?(t="function"==typeof e?e:(0,u.default)(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}},"./node_modules/d3-shape/src/symbol/circle.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-shape/src/math.js");const o={draw:function(e,t){var n=Math.sqrt(t/i.pi);e.moveTo(n,0),e.arc(0,0,n,0,i.tau)}}},"./node_modules/d3-shape/src/symbol/cross.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}}},"./node_modules/d3-shape/src/symbol/diamond.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=Math.sqrt(1/3),o=2*i;const r={draw:function(e,t){var n=Math.sqrt(t/o),r=n*i;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}}},"./node_modules/d3-shape/src/symbol/square.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i={draw:function(e,t){var n=Math.sqrt(t),i=-n/2;e.rect(i,i,n,n)}}},"./node_modules/d3-shape/src/symbol/star.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("./node_modules/d3-shape/src/math.js"),o=Math.sin(i.pi/10)/Math.sin(7*i.pi/10),r=Math.sin(i.tau/10)*o,s=-Math.cos(i.tau/10)*o;const a={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),o=r*n,a=s*n;e.moveTo(0,-n),e.lineTo(o,a);for(var l=1;l<5;++l){var c=i.tau*l/5,d=Math.cos(c),u=Math.sin(c);e.lineTo(u*n,-d*n),e.lineTo(d*o-u*a,u*o+d*a)}e.closePath()}}},"./node_modules/d3-shape/src/symbol/triangle.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=Math.sqrt(3);const o={draw:function(e,t){var n=-Math.sqrt(t/(3*i));e.moveTo(0,2*n),e.lineTo(-i*n,-n),e.lineTo(i*n,-n),e.closePath()}}},"./node_modules/d3-shape/src/symbol/wye.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=-.5,o=Math.sqrt(3)/2,r=1/Math.sqrt(12),s=3*(r/2+1);const a={draw:function(e,t){var n=Math.sqrt(t/s),a=n/2,l=n*r,c=a,d=n*r+n,u=-c,p=d;e.moveTo(a,l),e.lineTo(c,d),e.lineTo(u,p),e.lineTo(i*a-o*l,o*a+i*l),e.lineTo(i*c-o*d,o*c+i*d),e.lineTo(i*u-o*p,o*u+i*p),e.lineTo(i*a+o*l,i*l-o*a),e.lineTo(i*c+o*d,i*d-o*c),e.lineTo(i*u+o*p,i*p-o*u),e.closePath()}}},"./node_modules/d3-time-format/src/defaultLocale.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{timeFormat:()=>o,timeParse:()=>r,utcFormat:()=>s,utcParse:()=>a,default:()=>c});var i,o,r,s,a,l=n("./node_modules/d3-time-format/src/locale.js");function c(e){return i=(0,l.default)(e),o=i.format,r=i.parse,s=i.utcFormat,a=i.utcParse,i}c({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},"./node_modules/d3-time-format/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{timeFormatDefaultLocale:()=>i.default,timeFormat:()=>i.timeFormat,timeParse:()=>i.timeParse,utcFormat:()=>i.utcFormat,utcParse:()=>i.utcParse,timeFormatLocale:()=>o.default,isoFormat:()=>r.default,isoParse:()=>s.default});var i=n("./node_modules/d3-time-format/src/defaultLocale.js"),o=n("./node_modules/d3-time-format/src/locale.js"),r=n("./node_modules/d3-time-format/src/isoFormat.js"),s=n("./node_modules/d3-time-format/src/isoParse.js")},"./node_modules/d3-time-format/src/isoFormat.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{isoSpecifier:()=>o,default:()=>r});var i=n("./node_modules/d3-time-format/src/defaultLocale.js"),o="%Y-%m-%dT%H:%M:%S.%LZ";const r=Date.prototype.toISOString?function(e){return e.toISOString()}:(0,i.utcFormat)(o)},"./node_modules/d3-time-format/src/isoParse.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-time-format/src/isoFormat.js"),o=n("./node_modules/d3-time-format/src/defaultLocale.js");const r=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:(0,o.utcParse)(i.isoSpecifier)},"./node_modules/d3-time-format/src/locale.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("./node_modules/d3-time/src/index.js");function o(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function s(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function a(e){var t=e.dateTime,n=e.date,a=e.time,c=e.periods,d=e.days,u=e.shortDays,p=e.months,h=e.shortMonths,W=m(c),he=f(c),Ie=m(d),Ae=f(d),Ee=m(u),De=f(u),Te=m(p),Re=f(p),Me=m(h),Oe=f(h),Pe={a:function(e){return u[e.getDay()]},A:function(e){return d[e.getDay()]},b:function(e){return h[e.getMonth()]},B:function(e){return p[e.getMonth()]},c:null,d:N,e:N,f:G,g:K,G:ee,H:j,I:L,j:V,L:B,m:z,M:$,p:function(e){return c[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:_e,s:Se,S:U,u:H,U:X,V:q,w:Y,W:Q,x:null,X:null,y:Z,Y:J,Z:te,"%":Ce},Fe={a:function(e){return u[e.getUTCDay()]},A:function(e){return d[e.getUTCDay()]},b:function(e){return h[e.getUTCMonth()]},B:function(e){return p[e.getUTCMonth()]},c:null,d:ne,e:ne,f:ae,g:ye,G:xe,H:ie,I:oe,j:re,L:se,m:le,M:ce,p:function(e){return c[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:_e,s:Se,S:de,u:ue,U:pe,V:me,w:fe,W:ge,x:null,X:null,y:ve,Y:be,Z:we,"%":Ce},ke={a:function(e,t,n){var i=Ee.exec(t.slice(n));return i?(e.w=De[i[0].toLowerCase()],n+i[0].length):-1},A:function(e,t,n){var i=Ie.exec(t.slice(n));return i?(e.w=Ae[i[0].toLowerCase()],n+i[0].length):-1},b:function(e,t,n){var i=Me.exec(t.slice(n));return i?(e.m=Oe[i[0].toLowerCase()],n+i[0].length):-1},B:function(e,t,n){var i=Te.exec(t.slice(n));return i?(e.m=Re[i[0].toLowerCase()],n+i[0].length):-1},c:function(e,n,i){return Le(e,t,n,i)},d:A,e:A,f:O,g:C,G:w,H:D,I:D,j:E,L:M,m:I,M:T,p:function(e,t,n){var i=W.exec(t.slice(n));return i?(e.p=he[i[0].toLowerCase()],n+i[0].length):-1},q:S,Q:F,s:k,S:R,u:v,U:y,V:b,w:g,W:x,x:function(e,t,i){return Le(e,n,t,i)},X:function(e,t,n){return Le(e,a,t,n)},y:C,Y:w,Z:_,"%":P};function Ne(e,t){return function(n){var i,o,r,s=[],a=-1,c=0,d=e.length;for(n instanceof Date||(n=new Date(+n));++a<d;)37===e.charCodeAt(a)&&(s.push(e.slice(c,a)),null!=(o=l[i=e.charAt(++a)])?i=e.charAt(++a):o="e"===i?" ":"0",(r=t[i])&&(i=r(n,o)),s.push(i),c=a+1);return s.push(e.slice(c,a)),s.join("")}}function je(e,t){return function(n){var a,l,c=s(1900,void 0,1);if(Le(c,e,n+="",0)!=n.length)return null;if("Q"in c)return new Date(c.Q);if("s"in c)return new Date(1e3*c.s+("L"in c?c.L:0));if(t&&!("Z"in c)&&(c.Z=0),"p"in c&&(c.H=c.H%12+12*c.p),void 0===c.m&&(c.m="q"in c?c.q:0),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(l=(a=r(s(c.y,0,1))).getUTCDay(),a=l>4||0===l?i.utcMonday.ceil(a):(0,i.utcMonday)(a),a=i.utcDay.offset(a,7*(c.V-1)),c.y=a.getUTCFullYear(),c.m=a.getUTCMonth(),c.d=a.getUTCDate()+(c.w+6)%7):(l=(a=o(s(c.y,0,1))).getDay(),a=l>4||0===l?i.timeMonday.ceil(a):(0,i.timeMonday)(a),a=i.timeDay.offset(a,7*(c.V-1)),c.y=a.getFullYear(),c.m=a.getMonth(),c.d=a.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),l="Z"in c?r(s(c.y,0,1)).getUTCDay():o(s(c.y,0,1)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(l+5)%7:c.w+7*c.U-(l+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,r(c)):o(c)}}function Le(e,t,n,i){for(var o,r,s=0,a=t.length,c=n.length;s<a;){if(i>=c)return-1;if(37===(o=t.charCodeAt(s++))){if(o=t.charAt(s++),!(r=ke[o in l?t.charAt(s++):o])||(i=r(e,n,i))<0)return-1}else if(o!=n.charCodeAt(i++))return-1}return i}return Pe.x=Ne(n,Pe),Pe.X=Ne(a,Pe),Pe.c=Ne(t,Pe),Fe.x=Ne(n,Fe),Fe.X=Ne(a,Fe),Fe.c=Ne(t,Fe),{format:function(e){var t=Ne(e+="",Pe);return t.toString=function(){return e},t},parse:function(e){var t=je(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=Ne(e+="",Fe);return t.toString=function(){return e},t},utcParse:function(e){var t=je(e+="",!0);return t.toString=function(){return e},t}}}var l={"-":"",_:" ",0:"0"},c=/^\s*\d+/,d=/^%/,u=/[\\^$*+?|[\]().{}]/g;function p(e,t,n){var i=e<0?"-":"",o=(i?-e:e)+"",r=o.length;return i+(r<n?new Array(n-r+1).join(t)+o:o)}function h(e){return e.replace(u,"\\$&")}function m(e){return new RegExp("^(?:"+e.map(h).join("|")+")","i")}function f(e){for(var t={},n=-1,i=e.length;++n<i;)t[e[n].toLowerCase()]=n;return t}function g(e,t,n){var i=c.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function v(e,t,n){var i=c.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function y(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function b(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function x(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function w(e,t,n){var i=c.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function C(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function _(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function S(e,t,n){var i=c.exec(t.slice(n,n+1));return i?(e.q=3*i[0]-3,n+i[0].length):-1}function I(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function A(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function E(e,t,n){var i=c.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function D(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function T(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function R(e,t,n){var i=c.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function M(e,t,n){var i=c.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function O(e,t,n){var i=c.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function P(e,t,n){var i=d.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function F(e,t,n){var i=c.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function k(e,t,n){var i=c.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function N(e,t){return p(e.getDate(),t,2)}function j(e,t){return p(e.getHours(),t,2)}function L(e,t){return p(e.getHours()%12||12,t,2)}function V(e,t){return p(1+i.timeDay.count((0,i.timeYear)(e),e),t,3)}function B(e,t){return p(e.getMilliseconds(),t,3)}function G(e,t){return B(e,t)+"000"}function z(e,t){return p(e.getMonth()+1,t,2)}function $(e,t){return p(e.getMinutes(),t,2)}function U(e,t){return p(e.getSeconds(),t,2)}function H(e){var t=e.getDay();return 0===t?7:t}function X(e,t){return p(i.timeSunday.count((0,i.timeYear)(e)-1,e),t,2)}function W(e){var t=e.getDay();return t>=4||0===t?(0,i.timeThursday)(e):i.timeThursday.ceil(e)}function q(e,t){return e=W(e),p(i.timeThursday.count((0,i.timeYear)(e),e)+(4===(0,i.timeYear)(e).getDay()),t,2)}function Y(e){return e.getDay()}function Q(e,t){return p(i.timeMonday.count((0,i.timeYear)(e)-1,e),t,2)}function Z(e,t){return p(e.getFullYear()%100,t,2)}function K(e,t){return p((e=W(e)).getFullYear()%100,t,2)}function J(e,t){return p(e.getFullYear()%1e4,t,4)}function ee(e,t){var n=e.getDay();return p((e=n>=4||0===n?(0,i.timeThursday)(e):i.timeThursday.ceil(e)).getFullYear()%1e4,t,4)}function te(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+p(t/60|0,"0",2)+p(t%60,"0",2)}function ne(e,t){return p(e.getUTCDate(),t,2)}function ie(e,t){return p(e.getUTCHours(),t,2)}function oe(e,t){return p(e.getUTCHours()%12||12,t,2)}function re(e,t){return p(1+i.utcDay.count((0,i.utcYear)(e),e),t,3)}function se(e,t){return p(e.getUTCMilliseconds(),t,3)}function ae(e,t){return se(e,t)+"000"}function le(e,t){return p(e.getUTCMonth()+1,t,2)}function ce(e,t){return p(e.getUTCMinutes(),t,2)}function de(e,t){return p(e.getUTCSeconds(),t,2)}function ue(e){var t=e.getUTCDay();return 0===t?7:t}function pe(e,t){return p(i.utcSunday.count((0,i.utcYear)(e)-1,e),t,2)}function he(e){var t=e.getUTCDay();return t>=4||0===t?(0,i.utcThursday)(e):i.utcThursday.ceil(e)}function me(e,t){return e=he(e),p(i.utcThursday.count((0,i.utcYear)(e),e)+(4===(0,i.utcYear)(e).getUTCDay()),t,2)}function fe(e){return e.getUTCDay()}function ge(e,t){return p(i.utcMonday.count((0,i.utcYear)(e)-1,e),t,2)}function ve(e,t){return p(e.getUTCFullYear()%100,t,2)}function ye(e,t){return p((e=he(e)).getUTCFullYear()%100,t,2)}function be(e,t){return p(e.getUTCFullYear()%1e4,t,4)}function xe(e,t){var n=e.getUTCDay();return p((e=n>=4||0===n?(0,i.utcThursday)(e):i.utcThursday.ceil(e)).getUTCFullYear()%1e4,t,4)}function we(){return"+0000"}function Ce(){return"%"}function _e(e){return+e}function Se(e){return Math.floor(+e/1e3)}},"./node_modules/d3-time/src/day.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,days:()=>a});var i=n("./node_modules/d3-time/src/interval.js"),o=n("./node_modules/d3-time/src/duration.js"),r=(0,i.default)(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*o.durationMinute)/o.durationDay},function(e){return e.getDate()-1});const s=r;var a=r.range},"./node_modules/d3-time/src/duration.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{durationSecond:()=>i,durationMinute:()=>o,durationHour:()=>r,durationDay:()=>s,durationWeek:()=>a});var i=1e3,o=6e4,r=36e5,s=864e5,a=6048e5},"./node_modules/d3-time/src/hour.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,hours:()=>a});var i=n("./node_modules/d3-time/src/interval.js"),o=n("./node_modules/d3-time/src/duration.js"),r=(0,i.default)(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*o.durationSecond-e.getMinutes()*o.durationMinute)},function(e,t){e.setTime(+e+t*o.durationHour)},function(e,t){return(t-e)/o.durationHour},function(e){return e.getHours()});const s=r;var a=r.range},"./node_modules/d3-time/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{timeInterval:()=>i.default,timeMillisecond:()=>o.default,timeMilliseconds:()=>o.milliseconds,utcMillisecond:()=>o.default,utcMilliseconds:()=>o.milliseconds,timeSecond:()=>r.default,timeSeconds:()=>r.seconds,utcSecond:()=>r.default,utcSeconds:()=>r.seconds,timeMinute:()=>s.default,timeMinutes:()=>s.minutes,timeHour:()=>a.default,timeHours:()=>a.hours,timeDay:()=>l.default,timeDays:()=>l.days,timeWeek:()=>c.sunday,timeWeeks:()=>c.sundays,timeSunday:()=>c.sunday,timeSundays:()=>c.sundays,timeMonday:()=>c.monday,timeMondays:()=>c.mondays,timeTuesday:()=>c.tuesday,timeTuesdays:()=>c.tuesdays,timeWednesday:()=>c.wednesday,timeWednesdays:()=>c.wednesdays,timeThursday:()=>c.thursday,timeThursdays:()=>c.thursdays,timeFriday:()=>c.friday,timeFridays:()=>c.fridays,timeSaturday:()=>c.saturday,timeSaturdays:()=>c.saturdays,timeMonth:()=>d.default,timeMonths:()=>d.months,timeYear:()=>u.default,timeYears:()=>u.years,utcMinute:()=>p.default,utcMinutes:()=>p.utcMinutes,utcHour:()=>h.default,utcHours:()=>h.utcHours,utcDay:()=>m.default,utcDays:()=>m.utcDays,utcWeek:()=>f.utcSunday,utcWeeks:()=>f.utcSundays,utcSunday:()=>f.utcSunday,utcSundays:()=>f.utcSundays,utcMonday:()=>f.utcMonday,utcMondays:()=>f.utcMondays,utcTuesday:()=>f.utcTuesday,utcTuesdays:()=>f.utcTuesdays,utcWednesday:()=>f.utcWednesday,utcWednesdays:()=>f.utcWednesdays,utcThursday:()=>f.utcThursday,utcThursdays:()=>f.utcThursdays,utcFriday:()=>f.utcFriday,utcFridays:()=>f.utcFridays,utcSaturday:()=>f.utcSaturday,utcSaturdays:()=>f.utcSaturdays,utcMonth:()=>g.default,utcMonths:()=>g.utcMonths,utcYear:()=>v.default,utcYears:()=>v.utcYears});var i=n("./node_modules/d3-time/src/interval.js"),o=n("./node_modules/d3-time/src/millisecond.js"),r=n("./node_modules/d3-time/src/second.js"),s=n("./node_modules/d3-time/src/minute.js"),a=n("./node_modules/d3-time/src/hour.js"),l=n("./node_modules/d3-time/src/day.js"),c=n("./node_modules/d3-time/src/week.js"),d=n("./node_modules/d3-time/src/month.js"),u=n("./node_modules/d3-time/src/year.js"),p=n("./node_modules/d3-time/src/utcMinute.js"),h=n("./node_modules/d3-time/src/utcHour.js"),m=n("./node_modules/d3-time/src/utcDay.js"),f=n("./node_modules/d3-time/src/utcWeek.js"),g=n("./node_modules/d3-time/src/utcMonth.js"),v=n("./node_modules/d3-time/src/utcYear.js")},"./node_modules/d3-time/src/interval.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=new Date,o=new Date;function r(e,t,n,s){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=function(t){return e(t=new Date(+t)),t},a.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},a.round=function(e){var t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},a.range=function(n,i,o){var r,s=[];if(n=a.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return s;do{s.push(r=new Date(+n)),t(n,o),e(n)}while(r<n&&n<i);return s},a.filter=function(n){return r(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,i){if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););})},n&&(a.count=function(t,r){return i.setTime(+t),o.setTime(+r),e(i),e(o),Math.floor(n(i,o))},a.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(s?function(t){return s(t)%e==0}:function(t){return a.count(0,t)%e==0}):a:null}),a}},"./node_modules/d3-time/src/millisecond.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r,milliseconds:()=>s});var i=n("./node_modules/d3-time/src/interval.js"),o=(0,i.default)(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?(0,i.default)(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):o:null};const r=o;var s=o.range},"./node_modules/d3-time/src/minute.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,minutes:()=>a});var i=n("./node_modules/d3-time/src/interval.js"),o=n("./node_modules/d3-time/src/duration.js"),r=(0,i.default)(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*o.durationSecond)},function(e,t){e.setTime(+e+t*o.durationMinute)},function(e,t){return(t-e)/o.durationMinute},function(e){return e.getMinutes()});const s=r;var a=r.range},"./node_modules/d3-time/src/month.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,months:()=>r});var i=(0,n("./node_modules/d3-time/src/interval.js").default)(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});const o=i;var r=i.range},"./node_modules/d3-time/src/second.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,seconds:()=>a});var i=n("./node_modules/d3-time/src/interval.js"),o=n("./node_modules/d3-time/src/duration.js"),r=(0,i.default)(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*o.durationSecond)},function(e,t){return(t-e)/o.durationSecond},function(e){return e.getUTCSeconds()});const s=r;var a=r.range},"./node_modules/d3-time/src/utcDay.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,utcDays:()=>a});var i=n("./node_modules/d3-time/src/interval.js"),o=n("./node_modules/d3-time/src/duration.js"),r=(0,i.default)(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/o.durationDay},function(e){return e.getUTCDate()-1});const s=r;var a=r.range},"./node_modules/d3-time/src/utcHour.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,utcHours:()=>a});var i=n("./node_modules/d3-time/src/interval.js"),o=n("./node_modules/d3-time/src/duration.js"),r=(0,i.default)(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*o.durationHour)},function(e,t){return(t-e)/o.durationHour},function(e){return e.getUTCHours()});const s=r;var a=r.range},"./node_modules/d3-time/src/utcMinute.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,utcMinutes:()=>a});var i=n("./node_modules/d3-time/src/interval.js"),o=n("./node_modules/d3-time/src/duration.js"),r=(0,i.default)(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*o.durationMinute)},function(e,t){return(t-e)/o.durationMinute},function(e){return e.getUTCMinutes()});const s=r;var a=r.range},"./node_modules/d3-time/src/utcMonth.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,utcMonths:()=>r});var i=(0,n("./node_modules/d3-time/src/interval.js").default)(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});const o=i;var r=i.range},"./node_modules/d3-time/src/utcWeek.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{utcSunday:()=>s,utcMonday:()=>a,utcTuesday:()=>l,utcWednesday:()=>c,utcThursday:()=>d,utcFriday:()=>u,utcSaturday:()=>p,utcSundays:()=>h,utcMondays:()=>m,utcTuesdays:()=>f,utcWednesdays:()=>g,utcThursdays:()=>v,utcFridays:()=>y,utcSaturdays:()=>b});var i=n("./node_modules/d3-time/src/interval.js"),o=n("./node_modules/d3-time/src/duration.js");function r(e){return(0,i.default)(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/o.durationWeek})}var s=r(0),a=r(1),l=r(2),c=r(3),d=r(4),u=r(5),p=r(6),h=s.range,m=a.range,f=l.range,g=c.range,v=d.range,y=u.range,b=p.range},"./node_modules/d3-time/src/utcYear.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r,utcYears:()=>s});var i=n("./node_modules/d3-time/src/interval.js"),o=(0,i.default)(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});o.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,i.default)(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};const r=o;var s=o.range},"./node_modules/d3-time/src/week.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{sunday:()=>s,monday:()=>a,tuesday:()=>l,wednesday:()=>c,thursday:()=>d,friday:()=>u,saturday:()=>p,sundays:()=>h,mondays:()=>m,tuesdays:()=>f,wednesdays:()=>g,thursdays:()=>v,fridays:()=>y,saturdays:()=>b});var i=n("./node_modules/d3-time/src/interval.js"),o=n("./node_modules/d3-time/src/duration.js");function r(e){return(0,i.default)(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*o.durationMinute)/o.durationWeek})}var s=r(0),a=r(1),l=r(2),c=r(3),d=r(4),u=r(5),p=r(6),h=s.range,m=a.range,f=l.range,g=c.range,v=d.range,y=u.range,b=p.range},"./node_modules/d3-time/src/year.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r,years:()=>s});var i=n("./node_modules/d3-time/src/interval.js"),o=(0,i.default)(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});o.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,i.default)(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};const r=o;var s=o.range},"./node_modules/d3-timer/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{now:()=>i.now,timer:()=>i.timer,timerFlush:()=>i.timerFlush,timeout:()=>o.default,interval:()=>r.default});var i=n("./node_modules/d3-timer/src/timer.js"),o=n("./node_modules/d3-timer/src/timeout.js"),r=n("./node_modules/d3-timer/src/interval.js")},"./node_modules/d3-timer/src/interval.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-timer/src/timer.js");function o(e,t,n){var o=new i.Timer,r=t;return null==t?(o.restart(e,t,n),o):(t=+t,n=null==n?(0,i.now)():+n,o.restart(function i(s){s+=r,o.restart(i,r+=t,n),e(s)},t,n),o)}},"./node_modules/d3-timer/src/timeout.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-timer/src/timer.js");function o(e,t,n){var o=new i.Timer;return t=null==t?0:+t,o.restart(function(n){o.stop(),e(n+t)},t,n),o}},"./node_modules/d3-timer/src/timer.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{now:()=>m,Timer:()=>g,timer:()=>v,timerFlush:()=>y});var i,o,r=0,s=0,a=0,l=1e3,c=0,d=0,u=0,p="object"==typeof performance&&performance.now?performance:Date,h="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function m(){return d||(h(f),d=p.now()+u)}function f(){d=0}function g(){this._call=this._time=this._next=null}function v(e,t,n){var i=new g;return i.restart(e,t,n),i}function y(){m(),++r;for(var e,t=i;t;)(e=d-t._time)>=0&&t._call.call(null,e),t=t._next;--r}function b(){d=(c=p.now())+u,r=s=0;try{y()}finally{r=0,function(){var e,t,n=i,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:i=t);o=e,w(r)}(),d=0}}function x(){var e=p.now(),t=e-c;t>l&&(u-=t,c=e)}function w(e){r||(s&&(s=clearTimeout(s)),e-d>24?(e<1/0&&(s=setTimeout(b,e-p.now()-u)),a&&(a=clearInterval(a))):(a||(c=p.now(),a=setInterval(x,l)),r=1,h(b)))}g.prototype=v.prototype={constructor:g,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?m():+n)+(null==t?0:+t),this._next||o===this||(o?o._next=this:i=this,o=this),this._call=e,this._time=n,w()},stop:function(){this._call&&(this._call=null,this._time=1/0,w())}}},"./node_modules/d3-transition/src/active.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-transition/src/transition/index.js"),o=n("./node_modules/d3-transition/src/transition/schedule.js"),r=[null];function s(e,t){var n,s,a=e.__transition;if(a)for(s in t=null==t?null:t+"",a)if((n=a[s]).state>o.SCHEDULED&&n.name===t)return new i.Transition([[e]],r,t,+s);return null}},"./node_modules/d3-transition/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{transition:()=>i.default,active:()=>o.default,interrupt:()=>r.default});n("./node_modules/d3-transition/src/selection/index.js");var i=n("./node_modules/d3-transition/src/transition/index.js"),o=n("./node_modules/d3-transition/src/active.js"),r=n("./node_modules/d3-transition/src/interrupt.js")},"./node_modules/d3-transition/src/interrupt.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-transition/src/transition/schedule.js");function o(e,t){var n,o,r,s=e.__transition,a=!0;if(s){for(r in t=null==t?null:t+"",s)(n=s[r]).name===t?(o=n.state>i.STARTING&&n.state<i.ENDING,n.state=i.ENDED,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete s[r]):a=!1;a&&delete e.__transition}}},"./node_modules/d3-transition/src/selection/index.js":(e,t,n)=>{"use strict";n.r(t);var i=n("./node_modules/d3-selection/src/index.js"),o=n("./node_modules/d3-transition/src/selection/interrupt.js"),r=n("./node_modules/d3-transition/src/selection/transition.js");i.selection.prototype.interrupt=o.default,i.selection.prototype.transition=r.default},"./node_modules/d3-transition/src/selection/interrupt.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-transition/src/interrupt.js");function o(e){return this.each(function(){(0,i.default)(this,e)})}},"./node_modules/d3-transition/src/selection/transition.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=n("./node_modules/d3-transition/src/transition/index.js"),o=n("./node_modules/d3-transition/src/transition/schedule.js"),r=n("./node_modules/d3-ease/src/index.js"),s=n("./node_modules/d3-timer/src/index.js"),a={time:null,delay:0,duration:250,ease:r.easeCubicInOut};function l(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return a.time=(0,s.now)(),a;return n}function c(e){var t,n;e instanceof i.Transition?(t=e._id,e=e._name):(t=(0,i.newId)(),(n=a).time=(0,s.now)(),e=null==e?null:e+"");for(var r=this._groups,c=r.length,d=0;d<c;++d)for(var u,p=r[d],h=p.length,m=0;m<h;++m)(u=p[m])&&(0,o.default)(u,e,t,m,p,n||l(u,t));return new i.Transition(r,this._parents,e,t)}},"./node_modules/d3-transition/src/transition/attr.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var i=n("./node_modules/d3-interpolate/src/index.js"),o=n("./node_modules/d3-selection/src/index.js"),r=n("./node_modules/d3-transition/src/transition/tween.js"),s=n("./node_modules/d3-transition/src/transition/interpolate.js");function a(e){return function(){this.removeAttribute(e)}}function l(e){return function(){this.removeAttributeNS(e.space,e.local)}}function c(e,t,n){var i,o,r=n+"";return function(){var s=this.getAttribute(e);return s===r?null:s===i?o:o=t(i=s,n)}}function d(e,t,n){var i,o,r=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===r?null:s===i?o:o=t(i=s,n)}}function u(e,t,n){var i,o,r;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(a=l+"")?null:s===i&&a===o?r:(o=a,r=t(i=s,l));this.removeAttribute(e)}}function p(e,t,n){var i,o,r;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:s===i&&a===o?r:(o=a,r=t(i=s,l));this.removeAttributeNS(e.space,e.local)}}function h(e,t){var n=(0,o.namespace)(e),h="transform"===n?i.interpolateTransformSvg:s.default;return this.attrTween(e,"function"==typeof t?(n.local?p:u)(n,h,(0,r.tweenValue)(this,"attr."+e,t)):null==t?(n.local?l:a)(n):(n.local?d:c)(n,h,t))}},"./node_modules/d3-transition/src/transition/attrTween.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-selection/src/index.js");function o(e,t){var n,i;function o(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return o._value=t,o}function r(e,t){var n,i;function o(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return o._value=t,o}function s(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var s=(0,i.namespace)(e);return this.tween(n,(s.local?o:r)(s,t))}},"./node_modules/d3-transition/src/transition/delay.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-transition/src/transition/schedule.js");function o(e,t){return function(){(0,i.init)(this,e).delay=+t.apply(this,arguments)}}function r(e,t){return t=+t,function(){(0,i.init)(this,e).delay=t}}function s(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?o:r)(t,e)):(0,i.get)(this.node(),t).delay}},"./node_modules/d3-transition/src/transition/duration.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-transition/src/transition/schedule.js");function o(e,t){return function(){(0,i.set)(this,e).duration=+t.apply(this,arguments)}}function r(e,t){return t=+t,function(){(0,i.set)(this,e).duration=t}}function s(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?o:r)(t,e)):(0,i.get)(this.node(),t).duration}},"./node_modules/d3-transition/src/transition/ease.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-transition/src/transition/schedule.js");function o(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){(0,i.set)(this,e).ease=t}}(t,e)):(0,i.get)(this.node(),t).ease}},"./node_modules/d3-transition/src/transition/end.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-transition/src/transition/schedule.js");function o(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(s,a){var l={value:a},c={value:function(){0==--r&&s()}};n.each(function(){var n=(0,i.set)(this,o),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),n.on=t})})}},"./node_modules/d3-transition/src/transition/filter.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-selection/src/index.js"),o=n("./node_modules/d3-transition/src/transition/index.js");function r(e){"function"!=typeof e&&(e=(0,i.matcher)(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var a,l=t[s],c=l.length,d=r[s]=[],u=0;u<c;++u)(a=l[u])&&e.call(a,a.__data__,u,l)&&d.push(a);return new o.Transition(r,this._parents,this._name,this._id)}},"./node_modules/d3-transition/src/transition/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Transition:()=>S,default:()=>I,newId:()=>A});var i=n("./node_modules/d3-selection/src/index.js"),o=n("./node_modules/d3-transition/src/transition/attr.js"),r=n("./node_modules/d3-transition/src/transition/attrTween.js"),s=n("./node_modules/d3-transition/src/transition/delay.js"),a=n("./node_modules/d3-transition/src/transition/duration.js"),l=n("./node_modules/d3-transition/src/transition/ease.js"),c=n("./node_modules/d3-transition/src/transition/filter.js"),d=n("./node_modules/d3-transition/src/transition/merge.js"),u=n("./node_modules/d3-transition/src/transition/on.js"),p=n("./node_modules/d3-transition/src/transition/remove.js"),h=n("./node_modules/d3-transition/src/transition/select.js"),m=n("./node_modules/d3-transition/src/transition/selectAll.js"),f=n("./node_modules/d3-transition/src/transition/selection.js"),g=n("./node_modules/d3-transition/src/transition/style.js"),v=n("./node_modules/d3-transition/src/transition/styleTween.js"),y=n("./node_modules/d3-transition/src/transition/text.js"),b=n("./node_modules/d3-transition/src/transition/textTween.js"),x=n("./node_modules/d3-transition/src/transition/transition.js"),w=n("./node_modules/d3-transition/src/transition/tween.js"),C=n("./node_modules/d3-transition/src/transition/end.js"),_=0;function S(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function I(e){return(0,i.selection)().transition(e)}function A(){return++_}var E=i.selection.prototype;S.prototype=I.prototype={constructor:S,select:h.default,selectAll:m.default,filter:c.default,merge:d.default,selection:f.default,transition:x.default,call:E.call,nodes:E.nodes,node:E.node,size:E.size,empty:E.empty,each:E.each,on:u.default,attr:o.default,attrTween:r.default,style:g.default,styleTween:v.default,text:y.default,textTween:b.default,remove:p.default,tween:w.default,delay:s.default,duration:a.default,ease:l.default,end:C.default}},"./node_modules/d3-transition/src/transition/interpolate.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-color/src/index.js"),o=n("./node_modules/d3-interpolate/src/index.js");function r(e,t){var n;return("number"==typeof t?o.interpolateNumber:t instanceof i.color?o.interpolateRgb:(n=(0,i.color)(t))?(t=n,o.interpolateRgb):o.interpolateString)(e,t)}},"./node_modules/d3-transition/src/transition/merge.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-transition/src/transition/index.js");function o(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,s=Math.min(o,r),a=new Array(o),l=0;l<s;++l)for(var c,d=t[l],u=n[l],p=d.length,h=a[l]=new Array(p),m=0;m<p;++m)(c=d[m]||u[m])&&(h[m]=c);for(;l<o;++l)a[l]=t[l];return new i.Transition(a,this._parents,this._name,this._id)}},"./node_modules/d3-transition/src/transition/on.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-transition/src/transition/schedule.js");function o(e,t){var n=this._id;return arguments.length<2?(0,i.get)(this.node(),n).on.on(e):this.each(function(e,t,n){var o,r,s=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?i.init:i.set;return function(){var i=s(this,e),a=i.on;a!==o&&(r=(o=a).copy()).on(t,n),i.on=r}}(n,e,t))}},"./node_modules/d3-transition/src/transition/remove.js":(e,t,n)=>{"use strict";function i(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-transition/src/transition/schedule.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CREATED:()=>a,SCHEDULED:()=>l,STARTING:()=>c,STARTED:()=>d,RUNNING:()=>u,ENDING:()=>p,ENDED:()=>h,default:()=>m,init:()=>f,set:()=>g,get:()=>v});var i=n("./node_modules/d3-dispatch/src/index.js"),o=n("./node_modules/d3-timer/src/index.js"),r=(0,i.dispatch)("start","end","cancel","interrupt"),s=[],a=0,l=1,c=2,d=3,u=4,p=5,h=6;function m(e,t,n,i,m,f){var g=e.__transition;if(g){if(n in g)return}else e.__transition={};!function(e,t,n){var i,r=e.__transition;function s(e){n.state=l,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(s){var p,g,v,y;if(n.state!==l)return f();for(p in r)if((y=r[p]).name===n.name){if(y.state===d)return(0,o.timeout)(a);y.state===u?(y.state=h,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete r[p]):+p<t&&(y.state=h,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete r[p])}if((0,o.timeout)(function(){n.state===d&&(n.state=u,n.timer.restart(m,n.delay,n.time),m(s))}),n.state=c,n.on.call("start",e,e.__data__,n.index,n.group),n.state===c){for(n.state=d,i=new Array(v=n.tween.length),p=0,g=-1;p<v;++p)(y=n.tween[p].value.call(e,e.__data__,n.index,n.group))&&(i[++g]=y);i.length=g+1}}function m(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(f),n.state=p,1),r=-1,s=i.length;++r<s;)i[r].call(e,o);n.state===p&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){for(var i in n.state=h,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=(0,o.timer)(s,0,n.time)}(e,n,{name:t,index:i,group:m,on:r,tween:s,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:a})}function f(e,t){var n=v(e,t);if(n.state>a)throw new Error("too late; already scheduled");return n}function g(e,t){var n=v(e,t);if(n.state>d)throw new Error("too late; already running");return n}function v(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}},"./node_modules/d3-transition/src/transition/select.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-selection/src/index.js"),o=n("./node_modules/d3-transition/src/transition/index.js"),r=n("./node_modules/d3-transition/src/transition/schedule.js");function s(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=(0,i.selector)(e));for(var s=this._groups,a=s.length,l=new Array(a),c=0;c<a;++c)for(var d,u,p=s[c],h=p.length,m=l[c]=new Array(h),f=0;f<h;++f)(d=p[f])&&(u=e.call(d,d.__data__,f,p))&&("__data__"in d&&(u.__data__=d.__data__),m[f]=u,(0,r.default)(m[f],t,n,f,m,(0,r.get)(d,n)));return new o.Transition(l,this._parents,t,n)}},"./node_modules/d3-transition/src/transition/selectAll.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-selection/src/index.js"),o=n("./node_modules/d3-transition/src/transition/index.js"),r=n("./node_modules/d3-transition/src/transition/schedule.js");function s(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=(0,i.selectorAll)(e));for(var s=this._groups,a=s.length,l=[],c=[],d=0;d<a;++d)for(var u,p=s[d],h=p.length,m=0;m<h;++m)if(u=p[m]){for(var f,g=e.call(u,u.__data__,m,p),v=(0,r.get)(u,n),y=0,b=g.length;y<b;++y)(f=g[y])&&(0,r.default)(f,t,n,y,g,v);l.push(g),c.push(u)}return new o.Transition(l,c,t,n)}},"./node_modules/d3-transition/src/transition/selection.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-selection/src/index.js").selection.prototype.constructor;function o(){return new i(this._groups,this._parents)}},"./node_modules/d3-transition/src/transition/style.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=n("./node_modules/d3-interpolate/src/index.js"),o=n("./node_modules/d3-selection/src/index.js"),r=n("./node_modules/d3-transition/src/transition/schedule.js"),s=n("./node_modules/d3-transition/src/transition/tween.js"),a=n("./node_modules/d3-transition/src/transition/interpolate.js");function l(e){return function(){this.style.removeProperty(e)}}function c(e,t,n){var c="transform"==(e+="")?i.interpolateTransformCss:a.default;return null==t?this.styleTween(e,function(e,t){var n,i,r;return function(){var s=(0,o.style)(this,e),a=(this.style.removeProperty(e),(0,o.style)(this,e));return s===a?null:s===n&&a===i?r:r=t(n=s,i=a)}}(e,c)).on("end.style."+e,l(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var i,r,s;return function(){var a=(0,o.style)(this,e),l=n(this),c=l+"";return null==l&&(this.style.removeProperty(e),c=l=(0,o.style)(this,e)),a===c?null:a===i&&c===r?s:(r=c,s=t(i=a,l))}}(e,c,(0,s.tweenValue)(this,"style."+e,t))).each(function(e,t){var n,i,o,s,a="style."+t,c="end."+a;return function(){var d=(0,r.set)(this,e),u=d.on,p=null==d.value[a]?s||(s=l(t)):void 0;u===n&&o===p||(i=(n=u).copy()).on(c,o=p),d.on=i}}(this._id,e)):this.styleTween(e,function(e,t,n){var i,r,s=n+"";return function(){var a=(0,o.style)(this,e);return a===s?null:a===i?r:r=t(i=a,n)}}(e,c,t),n).on("end.style."+e,null)}},"./node_modules/d3-transition/src/transition/styleTween.js":(e,t,n)=>{"use strict";function i(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,function(e,t,n){var i,o;function r(){var r=t.apply(this,arguments);return r!==o&&(i=(o=r)&&function(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}(e,r,n)),i}return r._value=t,r}(e,t,null==n?"":n))}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-transition/src/transition/text.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("./node_modules/d3-transition/src/transition/tween.js");function o(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}((0,i.tweenValue)(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))}},"./node_modules/d3-transition/src/transition/textTween.js":(e,t,n)=>{"use strict";function i(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function i(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&function(e){return function(t){this.textContent=e.call(this,t)}}(i)),t}return i._value=e,i}(e))}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-transition/src/transition/transition.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n("./node_modules/d3-transition/src/transition/index.js"),o=n("./node_modules/d3-transition/src/transition/schedule.js");function r(){for(var e=this._name,t=this._id,n=(0,i.newId)(),r=this._groups,s=r.length,a=0;a<s;++a)for(var l,c=r[a],d=c.length,u=0;u<d;++u)if(l=c[u]){var p=(0,o.get)(l,t);(0,o.default)(l,e,n,u,c,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new i.Transition(r,this._parents,e,n)}},"./node_modules/d3-transition/src/transition/tween.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,tweenValue:()=>a});var i=n("./node_modules/d3-transition/src/transition/schedule.js");function o(e,t){var n,o;return function(){var r=(0,i.set)(this,e),s=r.tween;if(s!==n)for(var a=0,l=(o=n=s).length;a<l;++a)if(o[a].name===t){(o=o.slice()).splice(a,1);break}r.tween=o}}function r(e,t,n){var o,r;if("function"!=typeof n)throw new Error;return function(){var s=(0,i.set)(this,e),a=s.tween;if(a!==o){r=(o=a).slice();for(var l={name:t,value:n},c=0,d=r.length;c<d;++c)if(r[c].name===t){r[c]=l;break}c===d&&r.push(l)}s.tween=r}}function s(e,t){var n=this._id;if(e+="",arguments.length<2){for(var s,a=(0,i.get)(this.node(),n).tween,l=0,c=a.length;l<c;++l)if((s=a[l]).name===e)return s.value;return null}return this.each((null==t?o:r)(n,e,t))}function a(e,t,n){var o=e._id;return e.each(function(){var e=(0,i.set)(this,o);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return(0,i.get)(e,o).value[t]}}},"./node_modules/d3-voronoi/src/Beach.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{removeBeach:()=>p,addBeach:()=>h});var i=n("./node_modules/d3-voronoi/src/RedBlackTree.js"),o=n("./node_modules/d3-voronoi/src/Cell.js"),r=n("./node_modules/d3-voronoi/src/Circle.js"),s=n("./node_modules/d3-voronoi/src/Edge.js"),a=n("./node_modules/d3-voronoi/src/Diagram.js"),l=[];function c(){(0,i.RedBlackNode)(this),this.edge=this.site=this.circle=null}function d(e){var t=l.pop()||new c;return t.site=e,t}function u(e){(0,r.detachCircle)(e),a.beaches.remove(e),l.push(e),(0,i.RedBlackNode)(e)}function p(e){var t=e.circle,n=t.x,i=t.cy,o=[n,i],l=e.P,c=e.N,d=[e];u(e);for(var p=l;p.circle&&Math.abs(n-p.circle.x)<a.epsilon&&Math.abs(i-p.circle.cy)<a.epsilon;)l=p.P,d.unshift(p),u(p),p=l;d.unshift(p),(0,r.detachCircle)(p);for(var h=c;h.circle&&Math.abs(n-h.circle.x)<a.epsilon&&Math.abs(i-h.circle.cy)<a.epsilon;)c=h.N,d.push(h),u(h),h=c;d.push(h),(0,r.detachCircle)(h);var m,f=d.length;for(m=1;m<f;++m)h=d[m],p=d[m-1],(0,s.setEdgeEnd)(h.edge,p.site,h.site,o);p=d[0],(h=d[f-1]).edge=(0,s.createEdge)(p.site,h.site,null,o),(0,r.attachCircle)(p),(0,r.attachCircle)(h)}function h(e){for(var t,n,i,l,c=e[0],u=e[1],p=a.beaches._;p;)if((i=m(p,u)-c)>a.epsilon)p=p.L;else{if(!((l=c-f(p,u))>a.epsilon)){i>-a.epsilon?(t=p.P,n=p):l>-a.epsilon?(t=p,n=p.N):t=n=p;break}if(!p.R){t=p;break}p=p.R}(0,o.createCell)(e);var h=d(e);if(a.beaches.insert(t,h),t||n){if(t===n)return(0,r.detachCircle)(t),n=d(t.site),a.beaches.insert(h,n),h.edge=n.edge=(0,s.createEdge)(t.site,h.site),(0,r.attachCircle)(t),void(0,r.attachCircle)(n);if(n){(0,r.detachCircle)(t),(0,r.detachCircle)(n);var g=t.site,v=g[0],y=g[1],b=e[0]-v,x=e[1]-y,w=n.site,C=w[0]-v,_=w[1]-y,S=2*(b*_-x*C),I=b*b+x*x,A=C*C+_*_,E=[(_*I-x*A)/S+v,(b*A-C*I)/S+y];(0,s.setEdgeEnd)(n.edge,g,w,E),h.edge=(0,s.createEdge)(g,e,null,E),n.edge=(0,s.createEdge)(e,w,null,E),(0,r.attachCircle)(t),(0,r.attachCircle)(n)}else h.edge=(0,s.createEdge)(t.site,h.site)}}function m(e,t){var n=e.site,i=n[0],o=n[1],r=o-t;if(!r)return i;var s=e.P;if(!s)return-1/0;var a=(n=s.site)[0],l=n[1],c=l-t;if(!c)return a;var d=a-i,u=1/r-1/c,p=d/c;return u?(-p+Math.sqrt(p*p-2*u*(d*d/(-2*c)-l+c/2+o-r/2)))/u+i:(i+a)/2}function f(e,t){var n=e.N;if(n)return m(n,t);var i=e.site;return i[1]===t?i[0]:1/0}},"./node_modules/d3-voronoi/src/Cell.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{createCell:()=>r,cellHalfedgeStart:()=>a,cellHalfedgeEnd:()=>l,sortCellHalfedges:()=>c,clipCells:()=>d});var i=n("./node_modules/d3-voronoi/src/Edge.js"),o=n("./node_modules/d3-voronoi/src/Diagram.js");function r(e){return o.cells[e.index]={site:e,halfedges:[]}}function s(e,t){var n=e.site,i=t.left,o=t.right;return n===o&&(o=i,i=n),o?Math.atan2(o[1]-i[1],o[0]-i[0]):(n===i?(i=t[1],o=t[0]):(i=t[0],o=t[1]),Math.atan2(i[0]-o[0],o[1]-i[1]))}function a(e,t){return t[+(t.left!==e.site)]}function l(e,t){return t[+(t.left===e.site)]}function c(){for(var e,t,n,i,r=0,a=o.cells.length;r<a;++r)if((e=o.cells[r])&&(i=(t=e.halfedges).length)){var l=new Array(i),c=new Array(i);for(n=0;n<i;++n)l[n]=n,c[n]=s(e,o.edges[t[n]]);for(l.sort(function(e,t){return c[t]-c[e]}),n=0;n<i;++n)c[n]=t[l[n]];for(n=0;n<i;++n)t[n]=c[n]}}function d(e,t,n,r){var s,c,d,u,p,h,m,f,g,v,y,b,x=o.cells.length,w=!0;for(s=0;s<x;++s)if(c=o.cells[s]){for(d=c.site,u=(p=c.halfedges).length;u--;)o.edges[p[u]]||p.splice(u,1);for(u=0,h=p.length;u<h;)y=(v=l(c,o.edges[p[u]]))[0],b=v[1],f=(m=a(c,o.edges[p[++u%h]]))[0],g=m[1],(Math.abs(y-f)>o.epsilon||Math.abs(b-g)>o.epsilon)&&(p.splice(u,0,o.edges.push((0,i.createBorderEdge)(d,v,Math.abs(y-e)<o.epsilon&&r-b>o.epsilon?[e,Math.abs(f-e)<o.epsilon?g:r]:Math.abs(b-r)<o.epsilon&&n-y>o.epsilon?[Math.abs(g-r)<o.epsilon?f:n,r]:Math.abs(y-n)<o.epsilon&&b-t>o.epsilon?[n,Math.abs(f-n)<o.epsilon?g:t]:Math.abs(b-t)<o.epsilon&&y-e>o.epsilon?[Math.abs(g-t)<o.epsilon?f:e,t]:null))-1),++h);h&&(w=!1)}if(w){var C,_,S,I=1/0;for(s=0,w=null;s<x;++s)(c=o.cells[s])&&(S=(C=(d=c.site)[0]-e)*C+(_=d[1]-t)*_)<I&&(I=S,w=c);if(w){var A=[e,t],E=[e,r],D=[n,r],T=[n,t];w.halfedges.push(o.edges.push((0,i.createBorderEdge)(d=w.site,A,E))-1,o.edges.push((0,i.createBorderEdge)(d,E,D))-1,o.edges.push((0,i.createBorderEdge)(d,D,T))-1,o.edges.push((0,i.createBorderEdge)(d,T,A))-1)}}for(s=0;s<x;++s)(c=o.cells[s])&&(c.halfedges.length||delete o.cells[s])}},"./node_modules/d3-voronoi/src/Circle.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{firstCircle:()=>i,attachCircle:()=>l,detachCircle:()=>c});var i,o=n("./node_modules/d3-voronoi/src/RedBlackTree.js"),r=n("./node_modules/d3-voronoi/src/Diagram.js"),s=[];function a(){(0,o.RedBlackNode)(this),this.x=this.y=this.arc=this.site=this.cy=null}function l(e){var t=e.P,n=e.N;if(t&&n){var o=t.site,l=e.site,c=n.site;if(o!==c){var d=l[0],u=l[1],p=o[0]-d,h=o[1]-u,m=c[0]-d,f=c[1]-u,g=2*(p*f-h*m);if(!(g>=-r.epsilon2)){var v=p*p+h*h,y=m*m+f*f,b=(f*v-h*y)/g,x=(p*y-m*v)/g,w=s.pop()||new a;w.arc=e,w.site=l,w.x=b+d,w.y=(w.cy=x+u)+Math.sqrt(b*b+x*x),e.circle=w;for(var C=null,_=r.circles._;_;)if(w.y<_.y||w.y===_.y&&w.x<=_.x){if(!_.L){C=_.P;break}_=_.L}else{if(!_.R){C=_;break}_=_.R}r.circles.insert(C,w),C||(i=w)}}}}function c(e){var t=e.circle;t&&(t.P||(i=t.N),r.circles.remove(t),s.push(t),(0,o.RedBlackNode)(t),e.circle=null)}},"./node_modules/d3-voronoi/src/Diagram.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{epsilon:()=>p,epsilon2:()=>h,beaches:()=>i,cells:()=>o,circles:()=>r,edges:()=>s,default:()=>f});var i,o,r,s,a=n("./node_modules/d3-voronoi/src/Beach.js"),l=n("./node_modules/d3-voronoi/src/Cell.js"),c=n("./node_modules/d3-voronoi/src/Circle.js"),d=n("./node_modules/d3-voronoi/src/Edge.js"),u=n("./node_modules/d3-voronoi/src/RedBlackTree.js"),p=1e-6,h=1e-12;function m(e,t){return t[1]-e[1]||t[0]-e[0]}function f(e,t){var n,p,h,f=e.sort(m).pop();for(s=[],o=new Array(e.length),i=new u.default,r=new u.default;;)if(h=c.firstCircle,f&&(!h||f[1]<h.y||f[1]===h.y&&f[0]<h.x))f[0]===n&&f[1]===p||((0,a.addBeach)(f),n=f[0],p=f[1]),f=e.pop();else{if(!h)break;(0,a.removeBeach)(h.arc)}if((0,l.sortCellHalfedges)(),t){var g=+t[0][0],v=+t[0][1],y=+t[1][0],b=+t[1][1];(0,d.clipEdges)(g,v,y,b),(0,l.clipCells)(g,v,y,b)}this.edges=s,this.cells=o,i=r=s=o=null}f.prototype={constructor:f,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(n){return(0,l.cellHalfedgeStart)(t,e[n])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,i){if(r=(o=n.halfedges).length)for(var o,r,s,a,l,c,d=n.site,u=-1,p=t[o[r-1]],h=p.left===d?p.right:p.left;++u<r;)s=h,h=(p=t[o[u]]).left===d?p.right:p.left,s&&h&&i<s.index&&i<h.index&&(l=s,c=h,((a=d)[0]-c[0])*(l[1]-a[1])-(a[0]-l[0])*(c[1]-a[1])<0)&&e.push([d.data,s.data,h.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var i,o,r=this,s=r._found||0,a=r.cells.length;!(o=r.cells[s]);)if(++s>=a)return null;var l=e-o.site[0],c=t-o.site[1],d=l*l+c*c;do{o=r.cells[i=s],s=null,o.halfedges.forEach(function(n){var i=r.edges[n],a=i.left;if(a!==o.site&&a||(a=i.right)){var l=e-a[0],c=t-a[1],u=l*l+c*c;u<d&&(d=u,s=a.index)}})}while(null!==s);return r._found=i,null==n||d<=n*n?o.site:null}}},"./node_modules/d3-voronoi/src/Edge.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{createEdge:()=>o,createBorderEdge:()=>r,setEdgeEnd:()=>s,clipEdges:()=>c});var i=n("./node_modules/d3-voronoi/src/Diagram.js");function o(e,t,n,o){var r=[null,null],a=i.edges.push(r)-1;return r.left=e,r.right=t,n&&s(r,e,t,n),o&&s(r,t,e,o),i.cells[e.index].halfedges.push(a),i.cells[t.index].halfedges.push(a),r}function r(e,t,n){var i=[t,n];return i.left=e,i}function s(e,t,n,i){e[0]||e[1]?e.left===n?e[1]=i:e[0]=i:(e[0]=i,e.left=t,e.right=n)}function a(e,t,n,i,o){var r,s=e[0],a=e[1],l=s[0],c=s[1],d=0,u=1,p=a[0]-l,h=a[1]-c;if(r=t-l,p||!(r>0)){if(r/=p,p<0){if(r<d)return;r<u&&(u=r)}else if(p>0){if(r>u)return;r>d&&(d=r)}if(r=i-l,p||!(r<0)){if(r/=p,p<0){if(r>u)return;r>d&&(d=r)}else if(p>0){if(r<d)return;r<u&&(u=r)}if(r=n-c,h||!(r>0)){if(r/=h,h<0){if(r<d)return;r<u&&(u=r)}else if(h>0){if(r>u)return;r>d&&(d=r)}if(r=o-c,h||!(r<0)){if(r/=h,h<0){if(r>u)return;r>d&&(d=r)}else if(h>0){if(r<d)return;r<u&&(u=r)}return!(d>0||u<1)||(d>0&&(e[0]=[l+d*p,c+d*h]),u<1&&(e[1]=[l+u*p,c+u*h]),!0)}}}}}function l(e,t,n,i,o){var r=e[1];if(r)return!0;var s,a,l=e[0],c=e.left,d=e.right,u=c[0],p=c[1],h=d[0],m=d[1],f=(u+h)/2,g=(p+m)/2;if(m===p){if(f<t||f>=i)return;if(u>h){if(l){if(l[1]>=o)return}else l=[f,n];r=[f,o]}else{if(l){if(l[1]<n)return}else l=[f,o];r=[f,n]}}else if(a=g-(s=(u-h)/(m-p))*f,s<-1||s>1)if(u>h){if(l){if(l[1]>=o)return}else l=[(n-a)/s,n];r=[(o-a)/s,o]}else{if(l){if(l[1]<n)return}else l=[(o-a)/s,o];r=[(n-a)/s,n]}else if(p<m){if(l){if(l[0]>=i)return}else l=[t,s*t+a];r=[i,s*i+a]}else{if(l){if(l[0]<t)return}else l=[i,s*i+a];r=[t,s*t+a]}return e[0]=l,e[1]=r,!0}function c(e,t,n,o){for(var r,s=i.edges.length;s--;)l(r=i.edges[s],e,t,n,o)&&a(r,e,t,n,o)&&(Math.abs(r[0][0]-r[1][0])>i.epsilon||Math.abs(r[0][1]-r[1][1])>i.epsilon)||delete i.edges[s]}},"./node_modules/d3-voronoi/src/RedBlackTree.js":(e,t,n)=>{"use strict";function i(){this._=null}function o(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function r(e,t){var n=t,i=t.R,o=n.U;o?o.L===n?o.L=i:o.R=i:e._=i,i.U=o,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function s(e,t){var n=t,i=t.L,o=n.U;o?o.L===n?o.L=i:o.R=i:e._=i,i.U=o,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function a(e){for(;e.L;)e=e.L;return e}n.r(t),n.d(t,{RedBlackNode:()=>o,default:()=>l}),i.prototype={constructor:i,insert:function(e,t){var n,i,o;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=a(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(i=n.U).L?(o=i.R)&&o.C?(n.C=o.C=!1,i.C=!0,e=i):(e===n.R&&(r(this,n),n=(e=n).U),n.C=!1,i.C=!0,s(this,i)):(o=i.L)&&o.C?(n.C=o.C=!1,i.C=!0,e=i):(e===n.L&&(s(this,n),n=(e=n).U),n.C=!1,i.C=!0,r(this,i)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i,o=e.U,l=e.L,c=e.R;if(n=l?c?a(c):l:c,o?o.L===e?o.L=n:o.R=n:this._=n,l&&c?(i=n.C,n.C=e.C,n.L=l,l.U=n,n!==c?(o=n.U,n.U=e.U,e=n.R,o.L=e,n.R=c,c.U=n):(n.U=o,o=n,e=n.R)):(i=e.C,e=n),e&&(e.U=o),!i)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===o.L){if((t=o.R).C&&(t.C=!1,o.C=!0,r(this,o),t=o.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,s(this,t),t=o.R),t.C=o.C,o.C=t.R.C=!1,r(this,o),e=this._;break}}else if((t=o.L).C&&(t.C=!1,o.C=!0,s(this,o),t=o.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,r(this,t),t=o.L),t.C=o.C,o.C=t.L.C=!1,s(this,o),e=this._;break}t.C=!0,e=o,o=o.U}while(!e.C);e&&(e.C=!1)}}};const l=i},"./node_modules/d3-voronoi/src/constant.js":(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-voronoi/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{voronoi:()=>i.default});var i=n("./node_modules/d3-voronoi/src/voronoi.js")},"./node_modules/d3-voronoi/src/point.js":(e,t,n)=>{"use strict";function i(e){return e[0]}function o(e){return e[1]}n.r(t),n.d(t,{x:()=>i,y:()=>o})},"./node_modules/d3-voronoi/src/voronoi.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n("./node_modules/d3-voronoi/src/constant.js"),o=n("./node_modules/d3-voronoi/src/point.js"),r=n("./node_modules/d3-voronoi/src/Diagram.js");function s(){var e=o.x,t=o.y,n=null;function s(i){return new r.default(i.map(function(n,o){var s=[Math.round(e(n,o,i)/r.epsilon)*r.epsilon,Math.round(t(n,o,i)/r.epsilon)*r.epsilon];return s.index=o,s.data=n,s}),n)}return s.polygons=function(e){return s(e).polygons()},s.links=function(e){return s(e).links()},s.triangles=function(e){return s(e).triangles()},s.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,i.default)(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,i.default)(+e),s):t},s.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],s):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},s.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],s):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},s}},"./node_modules/d3-zoom/src/constant.js":(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-zoom/src/event.js":(e,t,n)=>{"use strict";function i(e,t,n){this.target=e,this.type=t,this.transform=n}n.r(t),n.d(t,{default:()=>i})},"./node_modules/d3-zoom/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{zoom:()=>i.default,zoomTransform:()=>o.default,zoomIdentity:()=>o.identity});var i=n("./node_modules/d3-zoom/src/zoom.js"),o=n("./node_modules/d3-zoom/src/transform.js")},"./node_modules/d3-zoom/src/noevent.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{nopropagation:()=>o,default:()=>r});var i=n("./node_modules/d3-selection/src/index.js");function o(){i.event.stopImmediatePropagation()}function r(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},"./node_modules/d3-zoom/src/transform.js":(e,t,n)=>{"use strict";function i(e,t,n){this.k=e,this.x=t,this.y=n}n.r(t),n.d(t,{Transform:()=>i,identity:()=>o,default:()=>r}),i.prototype={constructor:i,scale:function(e){return 1===e?this:new i(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new i(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var o=new i(1,0,0);function r(e){for(;!e.__zoom;)if(!(e=e.parentNode))return o;return e.__zoom}r.prototype=i.prototype},"./node_modules/d3-zoom/src/zoom.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var i=n("./node_modules/d3-dispatch/src/index.js"),o=n("./node_modules/d3-drag/src/index.js"),r=n("./node_modules/d3-interpolate/src/index.js"),s=n("./node_modules/d3-selection/src/index.js"),a=n("./node_modules/d3-transition/src/index.js"),l=n("./node_modules/d3-zoom/src/constant.js"),c=n("./node_modules/d3-zoom/src/event.js"),d=n("./node_modules/d3-zoom/src/transform.js"),u=n("./node_modules/d3-zoom/src/noevent.js");function p(){return!s.event.ctrlKey&&!s.event.button}function h(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function m(){return this.__zoom||d.identity}function f(){return-s.event.deltaY*(1===s.event.deltaMode?.05:s.event.deltaMode?1:.002)}function g(){return navigator.maxTouchPoints||"ontouchstart"in this}function v(e,t,n){var i=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function y(){var e,t,n=p,y=h,b=v,x=f,w=g,C=[0,1/0],_=[[-1/0,-1/0],[1/0,1/0]],S=250,I=r.interpolateZoom,A=(0,i.dispatch)("start","zoom","end"),E=500,D=150,T=0;function R(e){e.property("__zoom",m).on("wheel.zoom",j).on("mousedown.zoom",L).on("dblclick.zoom",V).filter(w).on("touchstart.zoom",B).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",z).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function M(e,t){return(t=Math.max(C[0],Math.min(C[1],t)))===e.k?e:new d.Transform(t,e.x,e.y)}function O(e,t,n){var i=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return i===e.x&&o===e.y?e:new d.Transform(e.k,i,o)}function P(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function F(e,t,n){e.on("start.zoom",function(){k(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).end()}).tween("zoom",function(){var e=this,i=arguments,o=k(e,i),r=y.apply(e,i),s=null==n?P(r):"function"==typeof n?n.apply(e,i):n,a=Math.max(r[1][0]-r[0][0],r[1][1]-r[0][1]),l=e.__zoom,c="function"==typeof t?t.apply(e,i):t,u=I(l.invert(s).concat(a/l.k),c.invert(s).concat(a/c.k));return function(e){if(1===e)e=c;else{var t=u(e),n=a/t[2];e=new d.Transform(n,s[0]-t[0]*n,s[1]-t[1]*n)}o.zoom(null,e)}})}function k(e,t,n){return!n&&e.__zooming||new N(e,t)}function N(e,t){this.that=e,this.args=t,this.active=0,this.extent=y.apply(e,t),this.taps=0}function j(){if(n.apply(this,arguments)){var e=k(this,arguments),t=this.__zoom,i=Math.max(C[0],Math.min(C[1],t.k*Math.pow(2,x.apply(this,arguments)))),o=(0,s.mouse)(this);if(e.wheel)e.mouse[0][0]===o[0]&&e.mouse[0][1]===o[1]||(e.mouse[1]=t.invert(e.mouse[0]=o)),clearTimeout(e.wheel);else{if(t.k===i)return;e.mouse=[o,t.invert(o)],(0,a.interrupt)(this),e.start()}(0,u.default)(),e.wheel=setTimeout(function(){e.wheel=null,e.end()},D),e.zoom("mouse",b(O(M(t,i),e.mouse[0],e.mouse[1]),e.extent,_))}}function L(){if(!t&&n.apply(this,arguments)){var e=k(this,arguments,!0),i=(0,s.select)(s.event.view).on("mousemove.zoom",function(){if((0,u.default)(),!e.moved){var t=s.event.clientX-l,n=s.event.clientY-c;e.moved=t*t+n*n>T}e.zoom("mouse",b(O(e.that.__zoom,e.mouse[0]=(0,s.mouse)(e.that),e.mouse[1]),e.extent,_))},!0).on("mouseup.zoom",function(){i.on("mousemove.zoom mouseup.zoom",null),(0,o.dragEnable)(s.event.view,e.moved),(0,u.default)(),e.end()},!0),r=(0,s.mouse)(this),l=s.event.clientX,c=s.event.clientY;(0,o.dragDisable)(s.event.view),(0,u.nopropagation)(),e.mouse=[r,this.__zoom.invert(r)],(0,a.interrupt)(this),e.start()}}function V(){if(n.apply(this,arguments)){var e=this.__zoom,t=(0,s.mouse)(this),i=e.invert(t),o=e.k*(s.event.shiftKey?.5:2),r=b(O(M(e,o),t,i),y.apply(this,arguments),_);(0,u.default)(),S>0?(0,s.select)(this).transition().duration(S).call(F,r,t):(0,s.select)(this).call(R.transform,r)}}function B(){if(n.apply(this,arguments)){var t,i,o,r,l=s.event.touches,c=l.length,d=k(this,arguments,s.event.changedTouches.length===c);for((0,u.nopropagation)(),i=0;i<c;++i)o=l[i],r=[r=(0,s.touch)(this,l,o.identifier),this.__zoom.invert(r),o.identifier],d.touch0?d.touch1||d.touch0[2]===r[2]||(d.touch1=r,d.taps=0):(d.touch0=r,t=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),t&&(d.taps<2&&(e=setTimeout(function(){e=null},E)),(0,a.interrupt)(this),d.start())}}function G(){if(this.__zooming){var t,n,i,o,r=k(this,arguments),a=s.event.changedTouches,l=a.length;for((0,u.default)(),e&&(e=clearTimeout(e)),r.taps=0,t=0;t<l;++t)n=a[t],i=(0,s.touch)(this,a,n.identifier),r.touch0&&r.touch0[2]===n.identifier?r.touch0[0]=i:r.touch1&&r.touch1[2]===n.identifier&&(r.touch1[0]=i);if(n=r.that.__zoom,r.touch1){var c=r.touch0[0],d=r.touch0[1],p=r.touch1[0],h=r.touch1[1],m=(m=p[0]-c[0])*m+(m=p[1]-c[1])*m,f=(f=h[0]-d[0])*f+(f=h[1]-d[1])*f;n=M(n,Math.sqrt(m/f)),i=[(c[0]+p[0])/2,(c[1]+p[1])/2],o=[(d[0]+h[0])/2,(d[1]+h[1])/2]}else{if(!r.touch0)return;i=r.touch0[0],o=r.touch0[1]}r.zoom("touch",b(O(n,i,o),r.extent,_))}}function z(){if(this.__zooming){var e,n,i=k(this,arguments),o=s.event.changedTouches,r=o.length;for((0,u.nopropagation)(),t&&clearTimeout(t),t=setTimeout(function(){t=null},E),e=0;e<r;++e)n=o[e],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;if(i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0)i.touch0[1]=this.__zoom.invert(i.touch0[0]);else if(i.end(),2===i.taps){var a=(0,s.select)(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return R.transform=function(e,t,n){var i=e.selection?e.selection():e;i.property("__zoom",m),e!==i?F(e,t,n):i.interrupt().each(function(){k(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},R.scaleBy=function(e,t,n){R.scaleTo(e,function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)},n)},R.scaleTo=function(e,t,n){R.transform(e,function(){var e=y.apply(this,arguments),i=this.__zoom,o=null==n?P(e):"function"==typeof n?n.apply(this,arguments):n,r=i.invert(o),s="function"==typeof t?t.apply(this,arguments):t;return b(O(M(i,s),o,r),e,_)},n)},R.translateBy=function(e,t,n){R.transform(e,function(){return b(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),y.apply(this,arguments),_)})},R.translateTo=function(e,t,n,i){R.transform(e,function(){var e=y.apply(this,arguments),o=this.__zoom,r=null==i?P(e):"function"==typeof i?i.apply(this,arguments):i;return b(d.identity.translate(r[0],r[1]).scale(o.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,_)},i)},N.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){(0,s.customEvent)(new c.default(R,e,this.that.__zoom),A.apply,A,[e,this.that,this.args])}},R.wheelDelta=function(e){return arguments.length?(x="function"==typeof e?e:(0,l.default)(+e),R):x},R.filter=function(e){return arguments.length?(n="function"==typeof e?e:(0,l.default)(!!e),R):n},R.touchable=function(e){return arguments.length?(w="function"==typeof e?e:(0,l.default)(!!e),R):w},R.extent=function(e){return arguments.length?(y="function"==typeof e?e:(0,l.default)([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),R):y},R.scaleExtent=function(e){return arguments.length?(C[0]=+e[0],C[1]=+e[1],R):[C[0],C[1]]},R.translateExtent=function(e){return arguments.length?(_[0][0]=+e[0][0],_[1][0]=+e[1][0],_[0][1]=+e[0][1],_[1][1]=+e[1][1],R):[[_[0][0],_[0][1]],[_[1][0],_[1][1]]]},R.constrain=function(e){return arguments.length?(b=e,R):b},R.duration=function(e){return arguments.length?(S=+e,R):S},R.interpolate=function(e){return arguments.length?(I=e,R):I},R.on=function(){var e=A.on.apply(A,arguments);return e===A?R:e},R.clickDistance=function(e){return arguments.length?(T=(e=+e)*e,R):Math.sqrt(T)},R}},"./node_modules/d3/dist/package.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{name:()=>i,version:()=>o,description:()=>r,keywords:()=>s,homepage:()=>a,license:()=>l,author:()=>c,main:()=>d,unpkg:()=>u,jsdelivr:()=>p,module:()=>h,repository:()=>m,files:()=>f,scripts:()=>g,devDependencies:()=>v,dependencies:()=>y});var i="d3",o="5.15.0",r="Data-Driven Documents",s=["dom","visualization","svg","animation","canvas"],a="https://d3js.org",l="BSD-3-Clause",c={name:"Mike Bostock",url:"https://bost.ocks.org/mike"},d="dist/d3.node.js",u="dist/d3.min.js",p="dist/d3.min.js",h="index.js",m={type:"git",url:"https://github.com/d3/d3.git"},f=["dist/**/*.js","index.js"],g={pretest:"rimraf dist && mkdir dist && json2module package.json > dist/package.js && rollup -c",test:"tape 'test/**/*-test.js'",prepublishOnly:"yarn test",postpublish:'git push && git push --tags && cd ../d3.github.com && git pull && cp ../d3/dist/d3.js d3.v5.js && cp ../d3/dist/d3.min.js d3.v5.min.js && git add d3.v5.js d3.v5.min.js && git commit -m "d3 ${npm_package_version}" && git push && cd - && cd ../d3-bower && git pull && cp ../d3/LICENSE ../d3/README.md ../d3/dist/d3.js ../d3/dist/d3.min.js . && git add -- LICENSE README.md d3.js d3.min.js && git commit -m "${npm_package_version}" && git tag -am "${npm_package_version}" v${npm_package_version} && git push && git push --tags && cd - && zip -j dist/d3.zip -- LICENSE README.md API.md CHANGES.md dist/d3.js dist/d3.min.js'},v={json2module:"0.0",rimraf:"2",rollup:"1","rollup-plugin-ascii":"0.0","rollup-plugin-node-resolve":"3","rollup-plugin-terser":"5",tape:"4"},y={"d3-array":"1","d3-axis":"1","d3-brush":"1","d3-chord":"1","d3-collection":"1","d3-color":"1","d3-contour":"1","d3-dispatch":"1","d3-drag":"1","d3-dsv":"1","d3-ease":"1","d3-fetch":"1","d3-force":"1","d3-format":"1","d3-geo":"1","d3-hierarchy":"1","d3-interpolate":"1","d3-path":"1","d3-polygon":"1","d3-quadtree":"1","d3-random":"1","d3-scale":"2","d3-scale-chromatic":"1","d3-selection":"1","d3-shape":"1","d3-time":"1","d3-time-format":"2","d3-timer":"1","d3-transition":"1","d3-voronoi":"1","d3-zoom":"1"}},"./node_modules/d3/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{version:()=>i.version});var i=n("./node_modules/d3/dist/package.js"),o=n("./node_modules/d3-array/src/index.js"),r={};for(const N in o)["default","version"].indexOf(N)<0&&(r[N]=()=>o[N]);n.d(t,r);var s=n("./node_modules/d3-axis/src/index.js");r={};for(const N in s)["default","version"].indexOf(N)<0&&(r[N]=()=>s[N]);n.d(t,r);var a=n("./node_modules/d3-brush/src/index.js");r={};for(const N in a)["default","version"].indexOf(N)<0&&(r[N]=()=>a[N]);n.d(t,r);var l=n("./node_modules/d3-chord/src/index.js");r={};for(const N in l)["default","version"].indexOf(N)<0&&(r[N]=()=>l[N]);n.d(t,r);var c=n("./node_modules/d3-collection/src/index.js");r={};for(const N in c)["default","version"].indexOf(N)<0&&(r[N]=()=>c[N]);n.d(t,r);var d=n("./node_modules/d3-color/src/index.js");r={};for(const N in d)["default","version"].indexOf(N)<0&&(r[N]=()=>d[N]);n.d(t,r);var u=n("./node_modules/d3-contour/src/index.js");r={};for(const N in u)["default","version"].indexOf(N)<0&&(r[N]=()=>u[N]);n.d(t,r);var p=n("./node_modules/d3-dispatch/src/index.js");r={};for(const N in p)["default","version"].indexOf(N)<0&&(r[N]=()=>p[N]);n.d(t,r);var h=n("./node_modules/d3-drag/src/index.js");r={};for(const N in h)["default","version"].indexOf(N)<0&&(r[N]=()=>h[N]);n.d(t,r);var m=n("./node_modules/d3-dsv/src/index.js");r={};for(const N in m)["default","version"].indexOf(N)<0&&(r[N]=()=>m[N]);n.d(t,r);var f=n("./node_modules/d3-ease/src/index.js");r={};for(const N in f)["default","version"].indexOf(N)<0&&(r[N]=()=>f[N]);n.d(t,r);var g=n("./node_modules/d3-fetch/src/index.js");r={};for(const N in g)["default","version"].indexOf(N)<0&&(r[N]=()=>g[N]);n.d(t,r);var v=n("./node_modules/d3-force/src/index.js");r={};for(const N in v)["default","version"].indexOf(N)<0&&(r[N]=()=>v[N]);n.d(t,r);var y=n("./node_modules/d3-format/src/index.js");r={};for(const N in y)["default","version"].indexOf(N)<0&&(r[N]=()=>y[N]);n.d(t,r);var b=n("./node_modules/d3-geo/src/index.js");r={};for(const N in b)["default","version"].indexOf(N)<0&&(r[N]=()=>b[N]);n.d(t,r);var x=n("./node_modules/d3-hierarchy/src/index.js");r={};for(const N in x)["default","version"].indexOf(N)<0&&(r[N]=()=>x[N]);n.d(t,r);var w=n("./node_modules/d3-interpolate/src/index.js");r={};for(const N in w)["default","version"].indexOf(N)<0&&(r[N]=()=>w[N]);n.d(t,r);var C=n("./node_modules/d3-path/src/index.js");r={};for(const N in C)["default","version"].indexOf(N)<0&&(r[N]=()=>C[N]);n.d(t,r);var _=n("./node_modules/d3-polygon/src/index.js");r={};for(const N in _)["default","version"].indexOf(N)<0&&(r[N]=()=>_[N]);n.d(t,r);var S=n("./node_modules/d3-quadtree/src/index.js");r={};for(const N in S)["default","version"].indexOf(N)<0&&(r[N]=()=>S[N]);n.d(t,r);var I=n("./node_modules/d3-random/src/index.js");r={};for(const N in I)["default","version"].indexOf(N)<0&&(r[N]=()=>I[N]);n.d(t,r);var A=n("./node_modules/d3-scale/src/index.js");r={};for(const N in A)["default","version"].indexOf(N)<0&&(r[N]=()=>A[N]);n.d(t,r);var E=n("./node_modules/d3-scale-chromatic/src/index.js");r={};for(const N in E)["default","version"].indexOf(N)<0&&(r[N]=()=>E[N]);n.d(t,r);var D=n("./node_modules/d3-selection/src/index.js");r={};for(const N in D)["default","version"].indexOf(N)<0&&(r[N]=()=>D[N]);n.d(t,r);var T=n("./node_modules/d3-shape/src/index.js");r={};for(const N in T)["default","version"].indexOf(N)<0&&(r[N]=()=>T[N]);n.d(t,r);var R=n("./node_modules/d3-time/src/index.js");r={};for(const N in R)["default","version"].indexOf(N)<0&&(r[N]=()=>R[N]);n.d(t,r);var M=n("./node_modules/d3-time-format/src/index.js");r={};for(const N in M)["default","version"].indexOf(N)<0&&(r[N]=()=>M[N]);n.d(t,r);var O=n("./node_modules/d3-timer/src/index.js");r={};for(const N in O)["default","version"].indexOf(N)<0&&(r[N]=()=>O[N]);n.d(t,r);var P=n("./node_modules/d3-transition/src/index.js");r={};for(const N in P)["default","version"].indexOf(N)<0&&(r[N]=()=>P[N]);n.d(t,r);var F=n("./node_modules/d3-voronoi/src/index.js");r={};for(const N in F)["default","version"].indexOf(N)<0&&(r[N]=()=>F[N]);n.d(t,r);var k=n("./node_modules/d3-zoom/src/index.js");r={};for(const N in k)["default","version"].indexOf(N)<0&&(r[N]=()=>k[N]);n.d(t,r)},"./node_modules/dagre/index.js":(e,t,n)=>{e.exports={graphlib:n("./node_modules/dagre/lib/graphlib.js"),layout:n("./node_modules/dagre/lib/layout.js"),debug:n("./node_modules/dagre/lib/debug.js"),util:{time:n("./node_modules/dagre/lib/util.js").time,notime:n("./node_modules/dagre/lib/util.js").notime},version:n("./node_modules/dagre/lib/version.js")}},"./node_modules/dagre/lib/acyclic.js":(e,t,n)=>{"use strict";var i=n("./node_modules/dagre/lib/lodash.js"),o=n("./node_modules/dagre/lib/greedy-fas.js");e.exports={run:function(e){var t="greedy"===e.graph().acyclicer?o(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},o={};function r(s){i.has(o,s)||(o[s]=!0,n[s]=!0,i.forEach(e.outEdges(s),function(e){i.has(n,e.w)?t.push(e):r(e.w)}),delete n[s])}return i.forEach(e.nodes(),r),t}(e);i.forEach(t,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,i.uniqueId("rev"))})},undo:function(e){i.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var i=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,i)}})}}},"./node_modules/dagre/lib/add-border-segments.js":(e,t,n)=>{var i=n("./node_modules/dagre/lib/lodash.js"),o=n("./node_modules/dagre/lib/util.js");function r(e,t,n,i,r,s){var a={width:0,height:0,rank:s,borderType:t},l=r[t][s-1],c=o.addDummyNode(e,"border",a,n);r[t][s]=c,e.setParent(c,i),l&&e.setEdge(l,c,{weight:1})}e.exports=function(e){i.forEach(e.children(),function t(n){var o=e.children(n),s=e.node(n);if(o.length&&i.forEach(o,t),i.has(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(var a=s.minRank,l=s.maxRank+1;a<l;++a)r(e,"borderLeft","_bl",n,s,a),r(e,"borderRight","_br",n,s,a)}})}},"./node_modules/dagre/lib/coordinate-system.js":(e,t,n)=>{"use strict";var i=n("./node_modules/dagre/lib/lodash.js");function o(e){i.forEach(e.nodes(),function(t){r(e.node(t))}),i.forEach(e.edges(),function(t){r(e.edge(t))})}function r(e){var t=e.width;e.width=e.height,e.height=t}function s(e){e.y=-e.y}function a(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||o(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){i.forEach(e.nodes(),function(t){s(e.node(t))}),i.forEach(e.edges(),function(t){var n=e.edge(t);i.forEach(n.points,s),i.has(n,"y")&&s(n)})}(e);"lr"!==t&&"rl"!==t||(!function(e){i.forEach(e.nodes(),function(t){a(e.node(t))}),i.forEach(e.edges(),function(t){var n=e.edge(t);i.forEach(n.points,a),i.has(n,"x")&&a(n)})}(e),o(e))}}},"./node_modules/dagre/lib/data/list.js":e=>{function t(){var e={};e._next=e._prev=e,this._sentinel=e}function n(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function i(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=t,t.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return n(t),t},t.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&n(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},t.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,i)),n=n._prev;return"["+e.join(", ")+"]"}},"./node_modules/dagre/lib/debug.js":(e,t,n)=>{var i=n("./node_modules/dagre/lib/lodash.js"),o=n("./node_modules/dagre/lib/util.js"),r=n("./node_modules/dagre/lib/graphlib.js").Graph;e.exports={debugOrdering:function(e){var t=o.buildLayerMatrix(e),n=new r({compound:!0,multigraph:!0}).setGraph({});return i.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),i.forEach(e.edges(),function(e){n.setEdge(e.v,e.w,{},e.name)}),i.forEach(t,function(e,t){var o="layer"+t;n.setNode(o,{rank:"same"}),i.reduce(e,function(e,t){return n.setEdge(e,t,{style:"invis"}),t})}),n}}},"./node_modules/dagre/lib/graphlib.js":(e,t,n)=>{var i;try{i=n("./node_modules/graphlib/index.js")}catch(o){}i||(i=window.graphlib),e.exports=i},"./node_modules/dagre/lib/greedy-fas.js":(e,t,n)=>{var i=n("./node_modules/dagre/lib/lodash.js"),o=n("./node_modules/dagre/lib/graphlib.js").Graph,r=n("./node_modules/dagre/lib/data/list.js");e.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new o,s=0,a=0;i.forEach(e.nodes(),function(e){n.setNode(e,{v:e,in:0,out:0})}),i.forEach(e.edges(),function(e){var i=n.edge(e.v,e.w)||0,o=t(e),r=i+o;n.setEdge(e.v,e.w,r),a=Math.max(a,n.node(e.v).out+=o),s=Math.max(s,n.node(e.w).in+=o)});var c=i.range(a+s+3).map(function(){return new r}),d=s+1;return i.forEach(n.nodes(),function(e){l(c,d,n.node(e))}),{graph:n,buckets:c,zeroIdx:d}}(e,t||s),c=function(e,t,n){var i,o=[],r=t[t.length-1],s=t[0];for(;e.nodeCount();){for(;i=s.dequeue();)a(e,t,n,i);for(;i=r.dequeue();)a(e,t,n,i);if(e.nodeCount())for(var l=t.length-2;l>0;--l)if(i=t[l].dequeue()){o=o.concat(a(e,t,n,i,!0));break}}return o}(n.graph,n.buckets,n.zeroIdx);return i.flatten(i.map(c,function(t){return e.outEdges(t.v,t.w)}),!0)};var s=i.constant(1);function a(e,t,n,o,r){var s=r?[]:void 0;return i.forEach(e.inEdges(o.v),function(i){var o=e.edge(i),a=e.node(i.v);r&&s.push({v:i.v,w:i.w}),a.out-=o,l(t,n,a)}),i.forEach(e.outEdges(o.v),function(i){var o=e.edge(i),r=i.w,s=e.node(r);s.in-=o,l(t,n,s)}),e.removeNode(o.v),s}function l(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},"./node_modules/dagre/lib/layout.js":(e,t,n)=>{"use strict";var i=n("./node_modules/dagre/lib/lodash.js"),o=n("./node_modules/dagre/lib/acyclic.js"),r=n("./node_modules/dagre/lib/normalize.js"),s=n("./node_modules/dagre/lib/rank/index.js"),a=n("./node_modules/dagre/lib/util.js").normalizeRanks,l=n("./node_modules/dagre/lib/parent-dummy-chains.js"),c=n("./node_modules/dagre/lib/util.js").removeEmptyRanks,d=n("./node_modules/dagre/lib/nesting-graph.js"),u=n("./node_modules/dagre/lib/add-border-segments.js"),p=n("./node_modules/dagre/lib/coordinate-system.js"),h=n("./node_modules/dagre/lib/order/index.js"),m=n("./node_modules/dagre/lib/position/index.js"),f=n("./node_modules/dagre/lib/util.js"),g=n("./node_modules/dagre/lib/graphlib.js").Graph;e.exports=function(e,t){var n=t&&t.debugTiming?f.time:f.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){return function(e){var t=new g({multigraph:!0,compound:!0}),n=A(e.graph());return t.setGraph(i.merge({},y,I(n,v),i.pick(n,b))),i.forEach(e.nodes(),function(n){var o=A(e.node(n));t.setNode(n,i.defaults(I(o,x),w)),t.setParent(n,e.parent(n))}),i.forEach(e.edges(),function(n){var o=A(e.edge(n));t.setEdge(n,i.merge({},_,I(o,C),i.pick(o,S)))}),t}(e)});n("  runLayout",function(){!function(e,t){t("    makeSpaceForEdgeLabels",function(){!function(e){var t=e.graph();t.ranksep/=2,i.forEach(e.edges(),function(n){var i=e.edge(n);i.minlen*=2,"c"!==i.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)})}(e)}),t("    removeSelfEdges",function(){!function(e){i.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}(e)}),t("    acyclic",function(){o.run(e)}),t("    nestingGraph.run",function(){d.run(e)}),t("    rank",function(){s(f.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){!function(e){i.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var i=e.node(t.v),o={rank:(e.node(t.w).rank-i.rank)/2+i.rank,e:t};f.addDummyNode(e,"edge-proxy",o,"_ep")}})}(e)}),t("    removeEmptyRanks",function(){c(e)}),t("    nestingGraph.cleanup",function(){d.cleanup(e)}),t("    normalizeRanks",function(){a(e)}),t("    assignRankMinMax",function(){!function(e){var t=0;i.forEach(e.nodes(),function(n){var o=e.node(n);o.borderTop&&(o.minRank=e.node(o.borderTop).rank,o.maxRank=e.node(o.borderBottom).rank,t=i.max(t,o.maxRank))}),e.graph().maxRank=t}(e)}),t("    removeEdgeLabelProxies",function(){!function(e){i.forEach(e.nodes(),function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}(e)}),t("    normalize.run",function(){r.run(e)}),t("    parentDummyChains",function(){l(e)}),t("    addBorderSegments",function(){u(e)}),t("    order",function(){h(e)}),t("    insertSelfEdges",function(){!function(e){var t=f.buildLayerMatrix(e);i.forEach(t,function(t){var n=0;i.forEach(t,function(t,o){var r=e.node(t);r.order=o+n,i.forEach(r.selfEdges,function(t){f.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:r.rank,order:o+ ++n,e:t.e,label:t.label},"_se")}),delete r.selfEdges})})}(e)}),t("    adjustCoordinateSystem",function(){p.adjust(e)}),t("    position",function(){m(e)}),t("    positionSelfEdges",function(){!function(e){i.forEach(e.nodes(),function(t){var n=e.node(t);if("selfedge"===n.dummy){var i=e.node(n.e.v),o=i.x+i.width/2,r=i.y,s=n.x-o,a=i.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*s/3,y:r-a},{x:o+5*s/6,y:r-a},{x:o+s,y:r},{x:o+5*s/6,y:r+a},{x:o+2*s/3,y:r+a}],n.label.x=n.x,n.label.y=n.y}})}(e)}),t("    removeBorderNodes",function(){!function(e){i.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),o=e.node(n.borderTop),r=e.node(n.borderBottom),s=e.node(i.last(n.borderLeft)),a=e.node(i.last(n.borderRight));n.width=Math.abs(a.x-s.x),n.height=Math.abs(r.y-o.y),n.x=s.x+n.width/2,n.y=o.y+n.height/2}}),i.forEach(e.nodes(),function(t){"border"===e.node(t).dummy&&e.removeNode(t)})}(e)}),t("    normalize.undo",function(){r.undo(e)}),t("    fixupEdgeLabelCoords",function(){!function(e){i.forEach(e.edges(),function(t){var n=e.edge(t);if(i.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(e)}),t("    undoCoordinateSystem",function(){p.undo(e)}),t("    translateGraph",function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,r=0,s=e.graph(),a=s.marginx||0,l=s.marginy||0;function c(e){var i=e.x,s=e.y,a=e.width,l=e.height;t=Math.min(t,i-a/2),n=Math.max(n,i+a/2),o=Math.min(o,s-l/2),r=Math.max(r,s+l/2)}i.forEach(e.nodes(),function(t){c(e.node(t))}),i.forEach(e.edges(),function(t){var n=e.edge(t);i.has(n,"x")&&c(n)}),t-=a,o-=l,i.forEach(e.nodes(),function(n){var i=e.node(n);i.x-=t,i.y-=o}),i.forEach(e.edges(),function(n){var r=e.edge(n);i.forEach(r.points,function(e){e.x-=t,e.y-=o}),i.has(r,"x")&&(r.x-=t),i.has(r,"y")&&(r.y-=o)}),s.width=n-t+a,s.height=r-o+l}(e)}),t("    assignNodeIntersects",function(){!function(e){i.forEach(e.edges(),function(t){var n,i,o=e.edge(t),r=e.node(t.v),s=e.node(t.w);o.points?(n=o.points[0],i=o.points[o.points.length-1]):(o.points=[],n=s,i=r),o.points.unshift(f.intersectRect(r,n)),o.points.push(f.intersectRect(s,i))})}(e)}),t("    reversePoints",function(){!function(e){i.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}(e)}),t("    acyclic.undo",function(){o.undo(e)})}(t,n)}),n("  updateInputGraph",function(){!function(e,t){i.forEach(e.nodes(),function(n){var i=e.node(n),o=t.node(n);i&&(i.x=o.x,i.y=o.y,t.children(n).length&&(i.width=o.width,i.height=o.height))}),i.forEach(e.edges(),function(n){var o=e.edge(n),r=t.edge(n);o.points=r.points,i.has(r,"x")&&(o.x=r.x,o.y=r.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)})})};var v=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],x=["width","height"],w={width:0,height:0},C=["minlen","weight","width","height","labeloffset"],_={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},S=["labelpos"];function I(e,t){return i.mapValues(i.pick(e,t),Number)}function A(e){var t={};return i.forEach(e,function(e,n){t[n.toLowerCase()]=e}),t}},"./node_modules/dagre/lib/lodash.js":(e,t,n)=>{var i;try{i={cloneDeep:n("./node_modules/lodash/cloneDeep.js"),constant:n("./node_modules/lodash/constant.js"),defaults:n("./node_modules/lodash/defaults.js"),each:n("./node_modules/lodash/each.js"),filter:n("./node_modules/lodash/filter.js"),find:n("./node_modules/lodash/find.js"),flatten:n("./node_modules/lodash/flatten.js"),forEach:n("./node_modules/lodash/forEach.js"),forIn:n("./node_modules/lodash/forIn.js"),has:n("./node_modules/lodash/has.js"),isUndefined:n("./node_modules/lodash/isUndefined.js"),last:n("./node_modules/lodash/last.js"),map:n("./node_modules/lodash/map.js"),mapValues:n("./node_modules/lodash/mapValues.js"),max:n("./node_modules/lodash/max.js"),merge:n("./node_modules/lodash/merge.js"),min:n("./node_modules/lodash/min.js"),minBy:n("./node_modules/lodash/minBy.js"),now:n("./node_modules/lodash/now.js"),pick:n("./node_modules/lodash/pick.js"),range:n("./node_modules/lodash/range.js"),reduce:n("./node_modules/lodash/reduce.js"),sortBy:n("./node_modules/lodash/sortBy.js"),uniqueId:n("./node_modules/lodash/uniqueId.js"),values:n("./node_modules/lodash/values.js"),zipObject:n("./node_modules/lodash/zipObject.js")}}catch(o){}i||(i=window._),e.exports=i},"./node_modules/dagre/lib/nesting-graph.js":(e,t,n)=>{var i=n("./node_modules/dagre/lib/lodash.js"),o=n("./node_modules/dagre/lib/util.js");function r(e,t,n,s,a,l,c){var d=e.children(c);if(d.length){var u=o.addBorderNode(e,"_bt"),p=o.addBorderNode(e,"_bb"),h=e.node(c);e.setParent(u,c),h.borderTop=u,e.setParent(p,c),h.borderBottom=p,i.forEach(d,function(i){r(e,t,n,s,a,l,i);var o=e.node(i),d=o.borderTop?o.borderTop:i,h=o.borderBottom?o.borderBottom:i,m=o.borderTop?s:2*s,f=d!==h?1:a-l[c]+1;e.setEdge(u,d,{weight:m,minlen:f,nestingEdge:!0}),e.setEdge(h,p,{weight:m,minlen:f,nestingEdge:!0})}),e.parent(c)||e.setEdge(t,u,{weight:0,minlen:a+l[c]})}else c!==t&&e.setEdge(t,c,{weight:0,minlen:n})}e.exports={run:function(e){var t=o.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(o,r){var s=e.children(o);s&&s.length&&i.forEach(s,function(e){n(e,r+1)}),t[o]=r}return i.forEach(e.children(),function(e){n(e,1)}),t}(e),s=i.max(i.values(n))-1,a=2*s+1;e.graph().nestingRoot=t,i.forEach(e.edges(),function(t){e.edge(t).minlen*=a});var l=function(e){return i.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}(e)+1;i.forEach(e.children(),function(i){r(e,t,a,l,s,n,i)}),e.graph().nodeRankFactor=a},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,i.forEach(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})}}},"./node_modules/dagre/lib/normalize.js":(e,t,n)=>{"use strict";var i=n("./node_modules/dagre/lib/lodash.js"),o=n("./node_modules/dagre/lib/util.js");e.exports={run:function(e){e.graph().dummyChains=[],i.forEach(e.edges(),function(t){!function(e,t){var n,i,r,s=t.v,a=e.node(s).rank,l=t.w,c=e.node(l).rank,d=t.name,u=e.edge(t),p=u.labelRank;if(c===a+1)return;for(e.removeEdge(t),r=0,++a;a<c;++r,++a)u.points=[],i={width:0,height:0,edgeLabel:u,edgeObj:t,rank:a},n=o.addDummyNode(e,"edge",i,"_d"),a===p&&(i.width=u.width,i.height=u.height,i.dummy="edge-label",i.labelpos=u.labelpos),e.setEdge(s,n,{weight:u.weight},d),0===r&&e.graph().dummyChains.push(n),s=n;e.setEdge(s,l,{weight:u.weight},d)}(e,t)})},undo:function(e){i.forEach(e.graph().dummyChains,function(t){var n,i=e.node(t),o=i.edgeLabel;for(e.setEdge(i.edgeObj,o);i.dummy;)n=e.successors(t)[0],e.removeNode(t),o.points.push({x:i.x,y:i.y}),"edge-label"===i.dummy&&(o.x=i.x,o.y=i.y,o.width=i.width,o.height=i.height),t=n,i=e.node(t)})}}},"./node_modules/dagre/lib/order/add-subgraph-constraints.js":(e,t,n)=>{var i=n("./node_modules/dagre/lib/lodash.js");e.exports=function(e,t,n){var o,r={};i.forEach(n,function(n){for(var i,s,a=e.parent(n);a;){if((i=e.parent(a))?(s=r[i],r[i]=a):(s=o,o=a),s&&s!==a)return void t.setEdge(s,a);a=i}})}},"./node_modules/dagre/lib/order/barycenter.js":(e,t,n)=>{var i=n("./node_modules/dagre/lib/lodash.js");e.exports=function(e,t){return i.map(t,function(t){var n=e.inEdges(t);if(n.length){var o=i.reduce(n,function(t,n){var i=e.edge(n),o=e.node(n.v);return{sum:t.sum+i.weight*o.order,weight:t.weight+i.weight}},{sum:0,weight:0});return{v:t,barycenter:o.sum/o.weight,weight:o.weight}}return{v:t}})}},"./node_modules/dagre/lib/order/build-layer-graph.js":(e,t,n)=>{var i=n("./node_modules/dagre/lib/lodash.js"),o=n("./node_modules/dagre/lib/graphlib.js").Graph;e.exports=function(e,t,n){var r=function(e){var t;for(;e.hasNode(t=i.uniqueId("_root")););return t}(e),s=new o({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(t){return e.node(t)});return i.forEach(e.nodes(),function(o){var a=e.node(o),l=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(s.setNode(o),s.setParent(o,l||r),i.forEach(e[n](o),function(t){var n=t.v===o?t.w:t.v,r=s.edge(n,o),a=i.isUndefined(r)?0:r.weight;s.setEdge(n,o,{weight:e.edge(t).weight+a})}),i.has(a,"minRank")&&s.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),s}},"./node_modules/dagre/lib/order/cross-count.js":(e,t,n)=>{"use strict";var i=n("./node_modules/dagre/lib/lodash.js");function o(e,t,n){for(var o=i.zipObject(n,i.map(n,function(e,t){return t})),r=i.flatten(i.map(t,function(t){return i.sortBy(i.map(e.outEdges(t),function(t){return{pos:o[t.w],weight:e.edge(t).weight}}),"pos")}),!0),s=1;s<n.length;)s<<=1;var a=2*s-1;s-=1;var l=i.map(new Array(a),function(){return 0}),c=0;return i.forEach(r.forEach(function(e){var t=e.pos+s;l[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=l[t+1]),l[t=t-1>>1]+=e.weight;c+=e.weight*n})),c}e.exports=function(e,t){for(var n=0,i=1;i<t.length;++i)n+=o(e,t[i-1],t[i]);return n}},"./node_modules/dagre/lib/order/index.js":(e,t,n)=>{"use strict";var i=n("./node_modules/dagre/lib/lodash.js"),o=n("./node_modules/dagre/lib/order/init-order.js"),r=n("./node_modules/dagre/lib/order/cross-count.js"),s=n("./node_modules/dagre/lib/order/sort-subgraph.js"),a=n("./node_modules/dagre/lib/order/build-layer-graph.js"),l=n("./node_modules/dagre/lib/order/add-subgraph-constraints.js"),c=n("./node_modules/dagre/lib/graphlib.js").Graph,d=n("./node_modules/dagre/lib/util.js");function u(e,t,n){return i.map(t,function(t){return a(e,t,n)})}function p(e,t){var n=new c;i.forEach(e,function(e){var o=e.graph().root,r=s(e,o,n,t);i.forEach(r.vs,function(t,n){e.node(t).order=n}),l(e,n,r.vs)})}function h(e,t){i.forEach(t,function(t){i.forEach(t,function(t,n){e.node(t).order=n})})}e.exports=function(e){var t=d.maxRank(e),n=u(e,i.range(1,t+1),"inEdges"),s=u(e,i.range(t-1,-1,-1),"outEdges"),a=o(e);h(e,a);for(var l,c=Number.POSITIVE_INFINITY,m=0,f=0;f<4;++m,++f){p(m%2?n:s,m%4>=2),a=d.buildLayerMatrix(e);var g=r(e,a);g<c&&(f=0,l=i.cloneDeep(a),c=g)}h(e,l)}},"./node_modules/dagre/lib/order/init-order.js":(e,t,n)=>{"use strict";var i=n("./node_modules/dagre/lib/lodash.js");e.exports=function(e){var t={},n=i.filter(e.nodes(),function(t){return!e.children(t).length}),o=i.max(i.map(n,function(t){return e.node(t).rank})),r=i.map(i.range(o+1),function(){return[]});var s=i.sortBy(n,function(t){return e.node(t).rank});return i.forEach(s,function n(o){if(i.has(t,o))return;t[o]=!0;var s=e.node(o);r[s.rank].push(o),i.forEach(e.successors(o),n)}),r}},"./node_modules/dagre/lib/order/resolve-conflicts.js":(e,t,n)=>{"use strict";var i=n("./node_modules/dagre/lib/lodash.js");e.exports=function(e,t){var n={};return i.forEach(e,function(e,t){var o=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};i.isUndefined(e.barycenter)||(o.barycenter=e.barycenter,o.weight=e.weight)}),i.forEach(t.edges(),function(e){var t=n[e.v],o=n[e.w];i.isUndefined(t)||i.isUndefined(o)||(o.indegree++,t.out.push(n[e.w]))}),function(e){var t=[];function n(e){return function(t){t.merged||(i.isUndefined(t.barycenter)||i.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,i=0;e.weight&&(n+=e.barycenter*e.weight,i+=e.weight);t.weight&&(n+=t.barycenter*t.weight,i+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/i,e.weight=i,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function o(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var r=e.pop();t.push(r),i.forEach(r.in.reverse(),n(r)),i.forEach(r.out,o(r))}return i.map(i.filter(t,function(e){return!e.merged}),function(e){return i.pick(e,["vs","i","barycenter","weight"])})}(i.filter(n,function(e){return!e.indegree}))}},"./node_modules/dagre/lib/order/sort-subgraph.js":(e,t,n)=>{var i=n("./node_modules/dagre/lib/lodash.js"),o=n("./node_modules/dagre/lib/order/barycenter.js"),r=n("./node_modules/dagre/lib/order/resolve-conflicts.js"),s=n("./node_modules/dagre/lib/order/sort.js");e.exports=function e(t,n,a,l){var c=t.children(n),d=t.node(n),u=d?d.borderLeft:void 0,p=d?d.borderRight:void 0,h={};u&&(c=i.filter(c,function(e){return e!==u&&e!==p}));var m=o(t,c);i.forEach(m,function(n){if(t.children(n.v).length){var o=e(t,n.v,a,l);h[n.v]=o,i.has(o,"barycenter")&&(r=n,s=o,i.isUndefined(r.barycenter)?(r.barycenter=s.barycenter,r.weight=s.weight):(r.barycenter=(r.barycenter*r.weight+s.barycenter*s.weight)/(r.weight+s.weight),r.weight+=s.weight))}var r,s});var f=r(m,a);!function(e,t){i.forEach(e,function(e){e.vs=i.flatten(e.vs.map(function(e){return t[e]?t[e].vs:e}),!0)})}(f,h);var g=s(f,l);if(u&&(g.vs=i.flatten([u,g.vs,p],!0),t.predecessors(u).length)){var v=t.node(t.predecessors(u)[0]),y=t.node(t.predecessors(p)[0]);i.has(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+v.order+y.order)/(g.weight+2),g.weight+=2}return g}},"./node_modules/dagre/lib/order/sort.js":(e,t,n)=>{var i=n("./node_modules/dagre/lib/lodash.js"),o=n("./node_modules/dagre/lib/util.js");function r(e,t,n){for(var o;t.length&&(o=i.last(t)).i<=n;)t.pop(),e.push(o.vs),n++;return n}e.exports=function(e,t){var n=o.partition(e,function(e){return i.has(e,"barycenter")}),s=n.lhs,a=i.sortBy(n.rhs,function(e){return-e.i}),l=[],c=0,d=0,u=0;s.sort((p=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:p?t.i-e.i:e.i-t.i})),u=r(l,a,u),i.forEach(s,function(e){u+=e.vs.length,l.push(e.vs),c+=e.barycenter*e.weight,d+=e.weight,u=r(l,a,u)});var p;var h={vs:i.flatten(l,!0)};d&&(h.barycenter=c/d,h.weight=d);return h}},"./node_modules/dagre/lib/parent-dummy-chains.js":(e,t,n)=>{var i=n("./node_modules/dagre/lib/lodash.js");e.exports=function(e){var t=function(e){var t={},n=0;function o(r){var s=n;i.forEach(e.children(r),o),t[r]={low:s,lim:n++}}return i.forEach(e.children(),o),t}(e);i.forEach(e.graph().dummyChains,function(n){for(var i=e.node(n),o=i.edgeObj,r=function(e,t,n,i){var o,r,s=[],a=[],l=Math.min(t[n].low,t[i].low),c=Math.max(t[n].lim,t[i].lim);o=n;do{o=e.parent(o),s.push(o)}while(o&&(t[o].low>l||c>t[o].lim));r=o,o=i;for(;(o=e.parent(o))!==r;)a.push(o);return{path:s.concat(a.reverse()),lca:r}}(e,t,o.v,o.w),s=r.path,a=r.lca,l=0,c=s[l],d=!0;n!==o.w;){if(i=e.node(n),d){for(;(c=s[l])!==a&&e.node(c).maxRank<i.rank;)l++;c===a&&(d=!1)}if(!d){for(;l<s.length-1&&e.node(c=s[l+1]).minRank<=i.rank;)l++;c=s[l]}e.setParent(n,c),n=e.successors(n)[0]}})}},"./node_modules/dagre/lib/position/bk.js":(e,t,n)=>{"use strict";var i=n("./node_modules/dagre/lib/lodash.js"),o=n("./node_modules/dagre/lib/graphlib.js").Graph,r=n("./node_modules/dagre/lib/util.js");function s(e,t){var n={};return i.reduce(t,function(t,o){var r=0,s=0,a=t.length,c=i.last(o);return i.forEach(o,function(t,d){var u=function(e,t){if(e.node(t).dummy)return i.find(e.predecessors(t),function(t){return e.node(t).dummy})}(e,t),p=u?e.node(u).order:a;(u||t===c)&&(i.forEach(o.slice(s,d+1),function(t){i.forEach(e.predecessors(t),function(i){var o=e.node(i),s=o.order;!(s<r||p<s)||o.dummy&&e.node(t).dummy||l(n,i,t)})}),s=d+1,r=p)}),o}),n}function a(e,t){var n={};function o(t,o,r,s,a){var c;i.forEach(i.range(o,r),function(o){c=t[o],e.node(c).dummy&&i.forEach(e.predecessors(c),function(t){var i=e.node(t);i.dummy&&(i.order<s||i.order>a)&&l(n,t,c)})})}return i.reduce(t,function(t,n){var r,s=-1,a=0;return i.forEach(n,function(i,l){if("border"===e.node(i).dummy){var c=e.predecessors(i);c.length&&(r=e.node(c[0]).order,o(n,a,l,s,r),a=l,s=r)}o(n,a,n.length,r,t.length)}),n}),n}function l(e,t,n){if(t>n){var i=t;t=n,n=i}var o=e[t];o||(e[t]=o={}),o[n]=!0}function c(e,t,n){if(t>n){var o=t;t=n,n=o}return i.has(e[t],n)}function d(e,t,n,o){var r={},s={},a={};return i.forEach(t,function(e){i.forEach(e,function(e,t){r[e]=e,s[e]=e,a[e]=t})}),i.forEach(t,function(e){var t=-1;i.forEach(e,function(e){var l=o(e);if(l.length){l=i.sortBy(l,function(e){return a[e]});for(var d=(l.length-1)/2,u=Math.floor(d),p=Math.ceil(d);u<=p;++u){var h=l[u];s[e]===e&&t<a[h]&&!c(n,e,h)&&(s[h]=e,s[e]=r[e]=r[h],t=a[h])}}})}),{root:r,align:s}}function u(e,t,n,r,s){var a={},l=function(e,t,n,r){var s=new o,a=e.graph(),l=function(e,t,n){return function(o,r,s){var a,l=o.node(r),c=o.node(s),d=0;if(d+=l.width/2,i.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":a=-l.width/2;break;case"r":a=l.width/2}if(a&&(d+=n?a:-a),a=0,d+=(l.dummy?t:e)/2,d+=(c.dummy?t:e)/2,d+=c.width/2,i.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":a=c.width/2;break;case"r":a=-c.width/2}return a&&(d+=n?a:-a),a=0,d}}(a.nodesep,a.edgesep,r);return i.forEach(t,function(t){var o;i.forEach(t,function(t){var i=n[t];if(s.setNode(i),o){var r=n[o],a=s.edge(r,i);s.setEdge(r,i,Math.max(l(e,t,o),a||0))}o=t})}),s}(e,t,n,s),c=s?"borderLeft":"borderRight";function d(e,t){for(var n=l.nodes(),i=n.pop(),o={};i;)o[i]?e(i):(o[i]=!0,n.push(i),n=n.concat(t(i))),i=n.pop()}return d(function(e){a[e]=l.inEdges(e).reduce(function(e,t){return Math.max(e,a[t.v]+l.edge(t))},0)},l.predecessors.bind(l)),d(function(t){var n=l.outEdges(t).reduce(function(e,t){return Math.min(e,a[t.w]-l.edge(t))},Number.POSITIVE_INFINITY),i=e.node(t);n!==Number.POSITIVE_INFINITY&&i.borderType!==c&&(a[t]=Math.max(a[t],n))},l.successors.bind(l)),i.forEach(r,function(e){a[e]=a[n[e]]}),a}function p(e,t){return i.minBy(i.values(t),function(t){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return i.forIn(t,function(t,i){var r=function(e,t){return e.node(t).width}(e,i)/2;n=Math.max(t+r,n),o=Math.min(t-r,o)}),n-o})}function h(e,t){var n=i.values(t),o=i.min(n),r=i.max(n);i.forEach(["u","d"],function(n){i.forEach(["l","r"],function(s){var a,l=n+s,c=e[l];if(c!==t){var d=i.values(c);(a="l"===s?o-i.min(d):r-i.max(d))&&(e[l]=i.mapValues(c,function(e){return e+a}))}})})}function m(e,t){return i.mapValues(e.ul,function(n,o){if(t)return e[t.toLowerCase()][o];var r=i.sortBy(i.map(e,o));return(r[1]+r[2])/2})}e.exports={positionX:function(e){var t,n=r.buildLayerMatrix(e),o=i.merge(s(e,n),a(e,n)),l={};i.forEach(["u","d"],function(r){t="u"===r?n:i.values(n).reverse(),i.forEach(["l","r"],function(n){"r"===n&&(t=i.map(t,function(e){return i.values(e).reverse()}));var s=("u"===r?e.predecessors:e.successors).bind(e),a=d(e,t,o,s),c=u(e,t,a.root,a.align,"r"===n);"r"===n&&(c=i.mapValues(c,function(e){return-e})),l[r+n]=c})});var c=p(e,l);return h(l,c),m(l,e.graph().align)},findType1Conflicts:s,findType2Conflicts:a,addConflict:l,hasConflict:c,verticalAlignment:d,horizontalCompaction:u,alignCoordinates:h,findSmallestWidthAlignment:p,balance:m}},"./node_modules/dagre/lib/position/index.js":(e,t,n)=>{"use strict";var i=n("./node_modules/dagre/lib/lodash.js"),o=n("./node_modules/dagre/lib/util.js"),r=n("./node_modules/dagre/lib/position/bk.js").positionX;e.exports=function(e){(function(e){var t=o.buildLayerMatrix(e),n=e.graph().ranksep,r=0;i.forEach(t,function(t){var o=i.max(i.map(t,function(t){return e.node(t).height}));i.forEach(t,function(t){e.node(t).y=r+o/2}),r+=o+n})})(e=o.asNonCompoundGraph(e)),i.forEach(r(e),function(t,n){e.node(n).x=t})}},"./node_modules/dagre/lib/rank/feasible-tree.js":(e,t,n)=>{"use strict";var i=n("./node_modules/dagre/lib/lodash.js"),o=n("./node_modules/dagre/lib/graphlib.js").Graph,r=n("./node_modules/dagre/lib/rank/util.js").slack;function s(e,t){return i.forEach(e.nodes(),function n(o){i.forEach(t.nodeEdges(o),function(i){var s=i.v,a=o===s?i.w:s;e.hasNode(a)||r(t,i)||(e.setNode(a,{}),e.setEdge(o,a,{}),n(a))})}),e.nodeCount()}function a(e,t){return i.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return r(t,n)})}function l(e,t,n){i.forEach(e.nodes(),function(e){t.node(e).rank+=n})}e.exports=function(e){var t,n,i=new o({directed:!1}),c=e.nodes()[0],d=e.nodeCount();i.setNode(c,{});for(;s(i,e)<d;)t=a(i,e),n=i.hasNode(t.v)?r(e,t):-r(e,t),l(i,e,n);return i}},"./node_modules/dagre/lib/rank/index.js":(e,t,n)=>{"use strict";var i=n("./node_modules/dagre/lib/rank/util.js").longestPath,o=n("./node_modules/dagre/lib/rank/feasible-tree.js"),r=n("./node_modules/dagre/lib/rank/network-simplex.js");e.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:a(e);break;case"tight-tree":!function(e){i(e),o(e)}(e);break;case"longest-path":s(e)}};var s=i;function a(e){r(e)}},"./node_modules/dagre/lib/rank/network-simplex.js":(e,t,n)=>{"use strict";var i=n("./node_modules/dagre/lib/lodash.js"),o=n("./node_modules/dagre/lib/rank/feasible-tree.js"),r=n("./node_modules/dagre/lib/rank/util.js").slack,s=n("./node_modules/dagre/lib/rank/util.js").longestPath,a=n("./node_modules/dagre/lib/graphlib.js").alg.preorder,l=n("./node_modules/dagre/lib/graphlib.js").alg.postorder,c=n("./node_modules/dagre/lib/util.js").simplify;function d(e){e=c(e),s(e);var t,n=o(e);for(h(n),u(n,e);t=f(n);)v(n,e,t,g(n,e,t))}function u(e,t){var n=l(e,e.nodes());n=n.slice(0,n.length-1),i.forEach(n,function(n){!function(e,t,n){var i=e.node(n),o=i.parent;e.edge(n,o).cutvalue=p(e,t,n)}(e,t,n)})}function p(e,t,n){var o=e.node(n).parent,r=!0,s=t.edge(n,o),a=0;return s||(r=!1,s=t.edge(o,n)),a=s.weight,i.forEach(t.nodeEdges(n),function(i){var s,l,c=i.v===n,d=c?i.w:i.v;if(d!==o){var u=c===r,p=t.edge(i).weight;if(a+=u?p:-p,s=n,l=d,e.hasEdge(s,l)){var h=e.edge(n,d).cutvalue;a+=u?-h:h}}}),a}function h(e,t){arguments.length<2&&(t=e.nodes()[0]),m(e,{},1,t)}function m(e,t,n,o,r){var s=n,a=e.node(o);return t[o]=!0,i.forEach(e.neighbors(o),function(r){i.has(t,r)||(n=m(e,t,n,r,o))}),a.low=s,a.lim=n++,r?a.parent=r:delete a.parent,n}function f(e){return i.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function g(e,t,n){var o=n.v,s=n.w;t.hasEdge(o,s)||(o=n.w,s=n.v);var a=e.node(o),l=e.node(s),c=a,d=!1;a.lim>l.lim&&(c=l,d=!0);var u=i.filter(t.edges(),function(t){return d===y(e,e.node(t.v),c)&&d!==y(e,e.node(t.w),c)});return i.minBy(u,function(e){return r(t,e)})}function v(e,t,n,o){var r=n.v,s=n.w;e.removeEdge(r,s),e.setEdge(o.v,o.w,{}),h(e),u(e,t),function(e,t){var n=i.find(e.nodes(),function(e){return!t.node(e).parent}),o=a(e,n);o=o.slice(1),i.forEach(o,function(n){var i=e.node(n).parent,o=t.edge(n,i),r=!1;o||(o=t.edge(i,n),r=!0),t.node(n).rank=t.node(i).rank+(r?o.minlen:-o.minlen)})}(e,t)}function y(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=d,d.initLowLimValues=h,d.initCutValues=u,d.calcCutValue=p,d.leaveEdge=f,d.enterEdge=g,d.exchangeEdges=v},"./node_modules/dagre/lib/rank/util.js":(e,t,n)=>{"use strict";var i=n("./node_modules/dagre/lib/lodash.js");e.exports={longestPath:function(e){var t={};i.forEach(e.sources(),function n(o){var r=e.node(o);if(i.has(t,o))return r.rank;t[o]=!0;var s=i.min(i.map(e.outEdges(o),function(t){return n(t.w)-e.edge(t).minlen}));return s!==Number.POSITIVE_INFINITY&&null!=s||(s=0),r.rank=s})},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},"./node_modules/dagre/lib/util.js":(e,t,n)=>{"use strict";var i=n("./node_modules/dagre/lib/lodash.js"),o=n("./node_modules/dagre/lib/graphlib.js").Graph;function r(e,t,n,o){var r;do{r=i.uniqueId(o)}while(e.hasNode(r));return n.dummy=t,e.setNode(r,n),r}function s(e){return i.max(i.map(e.nodes(),function(t){var n=e.node(t).rank;if(!i.isUndefined(n))return n}))}e.exports={addDummyNode:r,simplify:function(e){var t=(new o).setGraph(e.graph());return i.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),i.forEach(e.edges(),function(n){var i=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:i.weight+o.weight,minlen:Math.max(i.minlen,o.minlen)})}),t},asNonCompoundGraph:function(e){var t=new o({multigraph:e.isMultigraph()}).setGraph(e.graph());return i.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),i.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t},successorWeights:function(e){var t=i.map(e.nodes(),function(t){var n={};return i.forEach(e.outEdges(t),function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight}),n});return i.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=i.map(e.nodes(),function(t){var n={};return i.forEach(e.inEdges(t),function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight}),n});return i.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,i,o=e.x,r=e.y,s=t.x-o,a=t.y-r,l=e.width/2,c=e.height/2;if(!s&&!a)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(a)*l>Math.abs(s)*c?(a<0&&(c=-c),n=c*s/a,i=c):(s<0&&(l=-l),n=l,i=l*a/s);return{x:o+n,y:r+i}},buildLayerMatrix:function(e){var t=i.map(i.range(s(e)+1),function(){return[]});return i.forEach(e.nodes(),function(n){var o=e.node(n),r=o.rank;i.isUndefined(r)||(t[r][o.order]=n)}),t},normalizeRanks:function(e){var t=i.min(i.map(e.nodes(),function(t){return e.node(t).rank}));i.forEach(e.nodes(),function(n){var o=e.node(n);i.has(o,"rank")&&(o.rank-=t)})},removeEmptyRanks:function(e){var t=i.min(i.map(e.nodes(),function(t){return e.node(t).rank})),n=[];i.forEach(e.nodes(),function(i){var o=e.node(i).rank-t;n[o]||(n[o]=[]),n[o].push(i)});var o=0,r=e.graph().nodeRankFactor;i.forEach(n,function(t,n){i.isUndefined(t)&&n%r!=0?--o:o&&i.forEach(t,function(t){e.node(t).rank+=o})})},addBorderNode:function(e,t,n,i){var o={width:0,height:0};arguments.length>=4&&(o.rank=n,o.order=i);return r(e,"border",o,t)},maxRank:s,partition:function(e,t){var n={lhs:[],rhs:[]};return i.forEach(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n},time:function(e,t){var n=i.now();try{return t()}finally{console.log(e+" time: "+(i.now()-n)+"ms")}},notime:function(e,t){return t()}}},"./node_modules/dagre/lib/version.js":e=>{e.exports="0.8.5"},"./node_modules/graphlib/index.js":(e,t,n)=>{var i=n("./node_modules/graphlib/lib/index.js");e.exports={Graph:i.Graph,json:n("./node_modules/graphlib/lib/json.js"),alg:n("./node_modules/graphlib/lib/alg/index.js"),version:i.version}},"./node_modules/graphlib/lib/alg/components.js":(e,t,n)=>{var i=n("./node_modules/graphlib/lib/lodash.js");e.exports=function(e){var t,n={},o=[];function r(o){i.has(n,o)||(n[o]=!0,t.push(o),i.each(e.successors(o),r),i.each(e.predecessors(o),r))}return i.each(e.nodes(),function(e){t=[],r(e),t.length&&o.push(t)}),o}},"./node_modules/graphlib/lib/alg/dfs.js":(e,t,n)=>{var i=n("./node_modules/graphlib/lib/lodash.js");function o(e,t,n,r,s,a){i.has(r,t)||(r[t]=!0,n||a.push(t),i.each(s(t),function(t){o(e,t,n,r,s,a)}),n&&a.push(t))}e.exports=function(e,t,n){i.isArray(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),s=[],a={};return i.each(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);o(e,t,"post"===n,a,r,s)}),s}},"./node_modules/graphlib/lib/alg/dijkstra-all.js":(e,t,n)=>{var i=n("./node_modules/graphlib/lib/alg/dijkstra.js"),o=n("./node_modules/graphlib/lib/lodash.js");e.exports=function(e,t,n){return o.transform(e.nodes(),function(o,r){o[r]=i(e,r,t,n)},{})}},"./node_modules/graphlib/lib/alg/dijkstra.js":(e,t,n)=>{var i=n("./node_modules/graphlib/lib/lodash.js"),o=n("./node_modules/graphlib/lib/data/priority-queue.js");e.exports=function(e,t,n,i){return function(e,t,n,i){var r,s,a={},l=new o,c=function(e){var t=e.v!==r?e.v:e.w,i=a[t],o=n(e),c=s.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+o);c<i.distance&&(i.distance=c,i.predecessor=r,l.decrease(t,c))};e.nodes().forEach(function(e){var n=e===t?0:Number.POSITIVE_INFINITY;a[e]={distance:n},l.add(e,n)});for(;l.size()>0&&(r=l.removeMin(),(s=a[r]).distance!==Number.POSITIVE_INFINITY);)i(r).forEach(c);return a}(e,String(t),n||r,i||function(t){return e.outEdges(t)})};var r=i.constant(1)},"./node_modules/graphlib/lib/alg/find-cycles.js":(e,t,n)=>{var i=n("./node_modules/graphlib/lib/lodash.js"),o=n("./node_modules/graphlib/lib/alg/tarjan.js");e.exports=function(e){return i.filter(o(e),function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})}},"./node_modules/graphlib/lib/alg/floyd-warshall.js":(e,t,n)=>{var i=n("./node_modules/graphlib/lib/lodash.js");e.exports=function(e,t,n){return function(e,t,n){var i={},o=e.nodes();return o.forEach(function(e){i[e]={},i[e][e]={distance:0},o.forEach(function(t){e!==t&&(i[e][t]={distance:Number.POSITIVE_INFINITY})}),n(e).forEach(function(n){var o=n.v===e?n.w:n.v,r=t(n);i[e][o]={distance:r,predecessor:e}})}),o.forEach(function(e){var t=i[e];o.forEach(function(n){var r=i[n];o.forEach(function(n){var i=r[e],o=t[n],s=r[n],a=i.distance+o.distance;a<s.distance&&(s.distance=a,s.predecessor=o.predecessor)})})}),i}(e,t||o,n||function(t){return e.outEdges(t)})};var o=i.constant(1)},"./node_modules/graphlib/lib/alg/index.js":(e,t,n)=>{e.exports={components:n("./node_modules/graphlib/lib/alg/components.js"),dijkstra:n("./node_modules/graphlib/lib/alg/dijkstra.js"),dijkstraAll:n("./node_modules/graphlib/lib/alg/dijkstra-all.js"),findCycles:n("./node_modules/graphlib/lib/alg/find-cycles.js"),floydWarshall:n("./node_modules/graphlib/lib/alg/floyd-warshall.js"),isAcyclic:n("./node_modules/graphlib/lib/alg/is-acyclic.js"),postorder:n("./node_modules/graphlib/lib/alg/postorder.js"),preorder:n("./node_modules/graphlib/lib/alg/preorder.js"),prim:n("./node_modules/graphlib/lib/alg/prim.js"),tarjan:n("./node_modules/graphlib/lib/alg/tarjan.js"),topsort:n("./node_modules/graphlib/lib/alg/topsort.js")}},"./node_modules/graphlib/lib/alg/is-acyclic.js":(e,t,n)=>{var i=n("./node_modules/graphlib/lib/alg/topsort.js");e.exports=function(e){try{i(e)}catch(t){if(t instanceof i.CycleException)return!1;throw t}return!0}},"./node_modules/graphlib/lib/alg/postorder.js":(e,t,n)=>{var i=n("./node_modules/graphlib/lib/alg/dfs.js");e.exports=function(e,t){return i(e,t,"post")}},"./node_modules/graphlib/lib/alg/preorder.js":(e,t,n)=>{var i=n("./node_modules/graphlib/lib/alg/dfs.js");e.exports=function(e,t){return i(e,t,"pre")}},"./node_modules/graphlib/lib/alg/prim.js":(e,t,n)=>{var i=n("./node_modules/graphlib/lib/lodash.js"),o=n("./node_modules/graphlib/lib/graph.js"),r=n("./node_modules/graphlib/lib/data/priority-queue.js");e.exports=function(e,t){var n,s=new o,a={},l=new r;function c(e){var i=e.v===n?e.w:e.v,o=l.priority(i);if(void 0!==o){var r=t(e);r<o&&(a[i]=n,l.decrease(i,r))}}if(0===e.nodeCount())return s;i.each(e.nodes(),function(e){l.add(e,Number.POSITIVE_INFINITY),s.setNode(e)}),l.decrease(e.nodes()[0],0);var d=!1;for(;l.size()>0;){if(n=l.removeMin(),i.has(a,n))s.setEdge(n,a[n]);else{if(d)throw new Error("Input graph is not connected: "+e);d=!0}e.nodeEdges(n).forEach(c)}return s}},"./node_modules/graphlib/lib/alg/tarjan.js":(e,t,n)=>{var i=n("./node_modules/graphlib/lib/lodash.js");e.exports=function(e){var t=0,n=[],o={},r=[];function s(a){var l=o[a]={onStack:!0,lowlink:t,index:t++};if(n.push(a),e.successors(a).forEach(function(e){i.has(o,e)?o[e].onStack&&(l.lowlink=Math.min(l.lowlink,o[e].index)):(s(e),l.lowlink=Math.min(l.lowlink,o[e].lowlink))}),l.lowlink===l.index){var c,d=[];do{c=n.pop(),o[c].onStack=!1,d.push(c)}while(a!==c);r.push(d)}}return e.nodes().forEach(function(e){i.has(o,e)||s(e)}),r}},"./node_modules/graphlib/lib/alg/topsort.js":(e,t,n)=>{var i=n("./node_modules/graphlib/lib/lodash.js");function o(e){var t={},n={},o=[];if(i.each(e.sinks(),function s(a){if(i.has(n,a))throw new r;i.has(t,a)||(n[a]=!0,t[a]=!0,i.each(e.predecessors(a),s),delete n[a],o.push(a))}),i.size(t)!==e.nodeCount())throw new r;return o}function r(){}e.exports=o,o.CycleException=r,r.prototype=new Error},"./node_modules/graphlib/lib/data/priority-queue.js":(e,t,n)=>{var i=n("./node_modules/graphlib/lib/lodash.js");function o(){this._arr=[],this._keyIndices={}}e.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map(function(e){return e.key})},o.prototype.has=function(e){return i.has(this._keyIndices,e)},o.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!i.has(n,e)){var o=this._arr,r=o.length;return n[e]=r,o.push({key:e,priority:t}),this._decrease(r),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},o.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},o.prototype._heapify=function(e){var t=this._arr,n=2*e,i=n+1,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,i<t.length&&(o=t[i].priority<t[o].priority?i:o),o!==e&&(this._swap(e,o),this._heapify(o)))},o.prototype._decrease=function(e){for(var t,n=this._arr,i=n[e].priority;0!==e&&!(n[t=e>>1].priority<i);)this._swap(e,t),e=t},o.prototype._swap=function(e,t){var n=this._arr,i=this._keyIndices,o=n[e],r=n[t];n[e]=r,n[t]=o,i[r.key]=e,i[o.key]=t}},"./node_modules/graphlib/lib/graph.js":(e,t,n)=>{"use strict";var i=n("./node_modules/graphlib/lib/lodash.js");e.exports=a;var o="\0",r="\0",s="\x01";function a(e){this._isDirected=!i.has(e,"directed")||e.directed,this._isMultigraph=!!i.has(e,"multigraph")&&e.multigraph,this._isCompound=!!i.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=i.constant(void 0),this._defaultEdgeLabelFn=i.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function l(e,t){e[t]?e[t]++:e[t]=1}function c(e,t){--e[t]||delete e[t]}function d(e,t,n,r){var a=""+t,l=""+n;if(!e&&a>l){var c=a;a=l,l=c}return a+s+l+s+(i.isUndefined(r)?o:r)}function u(e,t){return d(e,t.v,t.w,t.name)}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(e){return this._label=e,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(e){return i.isFunction(e)||(e=i.constant(e)),this._defaultNodeLabelFn=e,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return i.keys(this._nodes)},a.prototype.sources=function(){var e=this;return i.filter(this.nodes(),function(t){return i.isEmpty(e._in[t])})},a.prototype.sinks=function(){var e=this;return i.filter(this.nodes(),function(t){return i.isEmpty(e._out[t])})},a.prototype.setNodes=function(e,t){var n=arguments,o=this;return i.each(e,function(e){n.length>1?o.setNode(e,t):o.setNode(e)}),this},a.prototype.setNode=function(e,t){return i.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=r,this._children[e]={},this._children[r][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},a.prototype.node=function(e){return this._nodes[e]},a.prototype.hasNode=function(e){return i.has(this._nodes,e)},a.prototype.removeNode=function(e){var t=this;if(i.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],i.each(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),i.each(i.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],i.each(i.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},a.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(i.isUndefined(t))t=r;else{for(var n=t+="";!i.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},a.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},a.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==r)return t}},a.prototype.children=function(e){if(i.isUndefined(e)&&(e=r),this._isCompound){var t=this._children[e];if(t)return i.keys(t)}else{if(e===r)return this.nodes();if(this.hasNode(e))return[]}},a.prototype.predecessors=function(e){var t=this._preds[e];if(t)return i.keys(t)},a.prototype.successors=function(e){var t=this._sucs[e];if(t)return i.keys(t)},a.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return i.union(t,this.successors(e))},a.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},a.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;i.each(this._nodes,function(n,i){e(i)&&t.setNode(i,n)}),i.each(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))});var o={};function r(e){var i=n.parent(e);return void 0===i||t.hasNode(i)?(o[e]=i,i):i in o?o[i]:r(i)}return this._isCompound&&i.each(t.nodes(),function(e){t.setParent(e,r(e))}),t},a.prototype.setDefaultEdgeLabel=function(e){return i.isFunction(e)||(e=i.constant(e)),this._defaultEdgeLabelFn=e,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return i.values(this._edgeObjs)},a.prototype.setPath=function(e,t){var n=this,o=arguments;return i.reduce(e,function(e,i){return o.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i}),this},a.prototype.setEdge=function(){var e,t,n,o,r=!1,s=arguments[0];"object"==typeof s&&null!==s&&"v"in s?(e=s.v,t=s.w,n=s.name,2===arguments.length&&(o=arguments[1],r=!0)):(e=s,t=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],r=!0)),e=""+e,t=""+t,i.isUndefined(n)||(n=""+n);var a=d(this._isDirected,e,t,n);if(i.has(this._edgeLabels,a))return r&&(this._edgeLabels[a]=o),this;if(!i.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[a]=r?o:this._defaultEdgeLabelFn(e,t,n);var c=function(e,t,n,i){var o=""+t,r=""+n;if(!e&&o>r){var s=o;o=r,r=s}var a={v:o,w:r};i&&(a.name=i);return a}(this._isDirected,e,t,n);return e=c.v,t=c.w,Object.freeze(c),this._edgeObjs[a]=c,l(this._preds[t],e),l(this._sucs[e],t),this._in[t][a]=c,this._out[e][a]=c,this._edgeCount++,this},a.prototype.edge=function(e,t,n){var i=1===arguments.length?u(this._isDirected,arguments[0]):d(this._isDirected,e,t,n);return this._edgeLabels[i]},a.prototype.hasEdge=function(e,t,n){var o=1===arguments.length?u(this._isDirected,arguments[0]):d(this._isDirected,e,t,n);return i.has(this._edgeLabels,o)},a.prototype.removeEdge=function(e,t,n){var i=1===arguments.length?u(this._isDirected,arguments[0]):d(this._isDirected,e,t,n),o=this._edgeObjs[i];return o&&(e=o.v,t=o.w,delete this._edgeLabels[i],delete this._edgeObjs[i],c(this._preds[t],e),c(this._sucs[e],t),delete this._in[t][i],delete this._out[e][i],this._edgeCount--),this},a.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var o=i.values(n);return t?i.filter(o,function(e){return e.v===t}):o}},a.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var o=i.values(n);return t?i.filter(o,function(e){return e.w===t}):o}},a.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},"./node_modules/graphlib/lib/index.js":(e,t,n)=>{e.exports={Graph:n("./node_modules/graphlib/lib/graph.js"),version:n("./node_modules/graphlib/lib/version.js")}},"./node_modules/graphlib/lib/json.js":(e,t,n)=>{var i=n("./node_modules/graphlib/lib/lodash.js"),o=n("./node_modules/graphlib/lib/graph.js");function r(e){return i.map(e.nodes(),function(t){var n=e.node(t),o=e.parent(t),r={v:t};return i.isUndefined(n)||(r.value=n),i.isUndefined(o)||(r.parent=o),r})}function s(e){return i.map(e.edges(),function(t){var n=e.edge(t),o={v:t.v,w:t.w};return i.isUndefined(t.name)||(o.name=t.name),i.isUndefined(n)||(o.value=n),o})}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:r(e),edges:s(e)};i.isUndefined(e.graph())||(t.value=i.clone(e.graph()));return t},read:function(e){var t=new o(e.options).setGraph(e.value);return i.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),i.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}}},"./node_modules/graphlib/lib/lodash.js":(e,t,n)=>{var i;try{i={clone:n("./node_modules/lodash/clone.js"),constant:n("./node_modules/lodash/constant.js"),each:n("./node_modules/lodash/each.js"),filter:n("./node_modules/lodash/filter.js"),has:n("./node_modules/lodash/has.js"),isArray:n("./node_modules/lodash/isArray.js"),isEmpty:n("./node_modules/lodash/isEmpty.js"),isFunction:n("./node_modules/lodash/isFunction.js"),isUndefined:n("./node_modules/lodash/isUndefined.js"),keys:n("./node_modules/lodash/keys.js"),map:n("./node_modules/lodash/map.js"),reduce:n("./node_modules/lodash/reduce.js"),size:n("./node_modules/lodash/size.js"),transform:n("./node_modules/lodash/transform.js"),union:n("./node_modules/lodash/union.js"),values:n("./node_modules/lodash/values.js")}}catch(o){}i||(i=window._),e.exports=i},"./node_modules/graphlib/lib/version.js":e=>{e.exports="2.1.8"},"./node_modules/internmap/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{InternMap:()=>i,InternSet:()=>o});class i extends Map{constructor(e,t=l){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(r(this,e))}has(e){return super.has(r(this,e))}set(e,t){return super.set(s(this,e),t)}delete(e){return super.delete(a(this,e))}}class o extends Set{constructor(e,t=l){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const n of e)this.add(n)}has(e){return super.has(r(this,e))}add(e){return super.add(s(this,e))}delete(e){return super.delete(a(this,e))}}function r({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function s({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function a({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(n),e.delete(i)),n}function l(e){return null!==e&&"object"==typeof e?e.valueOf():e}},"./node_modules/kjua-svg/kjua.min.js":function(e){"undefined"!=typeof self&&self,e.exports=function(){return n={},e.m=t=[function(e,t,n){function i(e){var t,n=Object.assign({},o,e),i=r(n.text,n.ecLevel,n.minVersion,n.quiet);return"string"==typeof n.image&&((t=new Image).src="data:image/png;base64,"+n.image,t.crossOrigin="anonymous",n.image=t),"svg"===n.render?a(i,n):s(i,n,"image"===n.render)}var o=n(1),r=n(2),s=n(4).create_canvas_qrcode,a=n(8);e.exports=i;try{jQuery.fn.kjua=function(e){return this.each(function(t,n){return n.appendChild(i(e))})}}catch(e){}},function(e,t){e.exports={render:"svg",crisp:!0,minVersion:1,ecLevel:"L",size:200,ratio:null,fill:"#333",back:"#fff",text:"",rounded:0,quiet:0,mode:"plain",mSize:30,mPosX:50,mPosY:50,label:"",fontname:"sans",fontcolor:"#333",fontoutline:!0,image:null,imageAsCode:!1,elementId:null}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=/code length overflow/i,r=n(3);r.stringToBytes=r.stringToBytesFuncs["UTF-8"],e.exports=function(e,t,n,s){var a,l=3<arguments.length&&void 0!==s?s:0,c=function(e,t,n){for(var s=2<arguments.length&&void 0!==n?n:1,a=s=Math.max(1,s);a<=40;a+=1)try{var l=function(){var n=r(a,t);n.addData(e),n.make();var i=n.getModuleCount();return{v:{text:e,level:t,version:a,module_count:i,is_dark:function(e,t){return 0<=e&&e<i&&0<=t&&t<i&&n.isDark(e,t)}}}}();if("object"===i(l))return l.v}catch(e){if(!(a<40&&o.test(e)))throw new Error(e)}return null}(0<arguments.length&&void 0!==e?e:"",1<arguments.length&&void 0!==t?t:"L",2<arguments.length&&void 0!==n?n:1);return c&&(a=c.is_dark,c.module_count+=2*l,c.is_dark=function(e,t){return a(e-l,t-l)}),c}},function(e,t,n){var i,o,r,s=function(){function e(e,t){function n(e,t){r=function(e){for(var t=new Array(e),n=0;n<e;n+=1){t[n]=new Array(e);for(var i=0;i<e;i+=1)t[n][i]=null}return t}(s=4*i+17),u(0,0),u(s-7,0),u(0,s-7),h(),p(),f(e,t),7<=i&&m(e),null==l&&(l=y(i,o,c)),v(l,t)}var i=e,o=a[t],r=null,s=0,l=null,c=[],d={},u=function(e,t){for(var n=-1;n<=7;n+=1)if(!(e+n<=-1||s<=e+n))for(var i=-1;i<=7;i+=1)t+i<=-1||s<=t+i||(r[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},p=function(){for(var e=8;e<s-8;e+=1)null==r[e][6]&&(r[e][6]=e%2==0);for(var t=8;t<s-8;t+=1)null==r[6][t]&&(r[6][t]=t%2==0)},h=function(){for(var e=g.getPatternPosition(i),t=0;t<e.length;t+=1)for(var n=0;n<e.length;n+=1){var o=e[t],s=e[n];if(null==r[o][s])for(var a=-2;a<=2;a+=1)for(var l=-2;l<=2;l+=1)r[o+a][s+l]=-2==a||2==a||-2==l||2==l||0==a&&0==l}},m=function(e){for(var t=g.getBCHTypeNumber(i),n=0;n<18;n+=1){var o=!e&&1==(t>>n&1);r[Math.floor(n/3)][n%3+s-8-3]=o}for(n=0;n<18;n+=1)o=!e&&1==(t>>n&1),r[n%3+s-8-3][Math.floor(n/3)]=o},f=function(e,t){for(var n=o<<3|t,i=g.getBCHTypeInfo(n),a=0;a<15;a+=1){var l=!e&&1==(i>>a&1);a<6?r[a][8]=l:a<8?r[a+1][8]=l:r[s-15+a][8]=l}for(a=0;a<15;a+=1)l=!e&&1==(i>>a&1),a<8?r[8][s-a-1]=l:a<9?r[8][15-a-1+1]=l:r[8][15-a-1]=l;r[s-8][8]=!e},v=function(e,t){for(var n=-1,i=s-1,o=7,a=0,l=g.getMaskFunction(t),c=s-1;0<c;c-=2)for(6==c&&--c;;){for(var d,u=0;u<2;u+=1)null==r[i][c-u]&&(d=!1,a<e.length&&(d=1==(e[a]>>>o&1)),l(i,c-u)&&(d=!d),r[i][c-u]=d,-1==--o&&(a+=1,o=7));if((i+=n)<0||s<=i){i-=n,n=-n;break}}},y=function(e,t,n){for(var i=I.getRSBlocks(e,t),o=A(),r=0;r<n.length;r+=1){var s=n[r];o.put(s.getMode(),4),o.put(s.getLength(),g.getLengthInBits(s.getMode(),e)),s.write(o)}var a=0;for(r=0;r<i.length;r+=1)a+=i[r].dataCount;if(o.getLengthInBits()>8*a)throw"code length overflow. ("+o.getLengthInBits()+">"+8*a+")";for(o.getLengthInBits()+4<=8*a&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*a||(o.put(236,8),o.getLengthInBits()>=8*a));)o.put(17,8);return function(e,t){for(var n=0,i=0,o=0,r=new Array(t.length),s=new Array(t.length),a=0;a<t.length;a+=1){var l=t[a].dataCount,c=t[a].totalCount-l;i=Math.max(i,l),o=Math.max(o,c),r[a]=new Array(l);for(var d=0;d<r[a].length;d+=1)r[a][d]=255&e.getBuffer()[d+n];n+=l;var u=g.getErrorCorrectPolynomial(c),p=b(r[a],u.getLength()-1).mod(u);for(s[a]=new Array(u.getLength()-1),d=0;d<s[a].length;d+=1){var h=d+p.getLength()-s[a].length;s[a][d]=0<=h?p.getAt(h):0}}var m=0;for(d=0;d<t.length;d+=1)m+=t[d].totalCount;var f=new Array(m),v=0;for(d=0;d<i;d+=1)for(a=0;a<t.length;a+=1)d<r[a].length&&(f[v]=r[a][d],v+=1);for(d=0;d<o;d+=1)for(a=0;a<t.length;a+=1)d<s[a].length&&(f[v]=s[a][d],v+=1);return f}(o,i)};d.addData=function(e,t){var n=null;switch(t=t||"Byte"){case"Numeric":n=E(e);break;case"Alphanumeric":n=D(e);break;case"Byte":n=T(e);break;case"Kanji":n=R(e);break;default:throw"mode:"+t}c.push(n),l=null},d.isDark=function(e,t){if(e<0||s<=e||t<0||s<=t)throw e+","+t;return r[e][t]},d.getModuleCount=function(){return s},d.make=function(){if(i<1){for(var e=1;e<40;e++){for(var t=I.getRSBlocks(e,o),r=A(),s=0;s<c.length;s++){var a=c[s];r.put(a.getMode(),4),r.put(a.getLength(),g.getLengthInBits(a.getMode(),e)),a.write(r)}var l=0;for(s=0;s<t.length;s++)l+=t[s].dataCount;if(r.getLengthInBits()<=8*l)break}i=e}n(!1,function(){for(var e=0,t=0,i=0;i<8;i+=1){n(!0,i);var o=g.getLostPoint(d);(0==i||o<e)&&(e=o,t=i)}return t}())},d.createTableTag=function(e,t){e=e||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(t=void 0===t?4*e:t)+"px;",n+='">',n+="<tbody>";for(var i=0;i<d.getModuleCount();i+=1){n+="<tr>";for(var o=0;o<d.getModuleCount();o+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+e+"px;",n+=" height: "+e+"px;",n+=" background-color: ",n+=d.isDark(i,o)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return(n+="</tbody>")+"</table>"},d.createSvgTag=function(e,t,n,i){var o={};"object"==typeof arguments[0]&&(e=(o=arguments[0]).cellSize,t=o.margin,n=o.alt,i=o.title),e=e||2,t=void 0===t?4*e:t,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-description":null,(i="string"==typeof i?{text:i}:i||{}).text=i.text||null,i.id=i.text?i.id||"qrcode-title":null;var r,s,a,l=d.getModuleCount()*e+2*t,c="",u="l"+e+",0 0,"+e+" -"+e+",0 0,-"+e+"z ";for(c+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',c+=o.scalable?"":' width="'+l+'px" height="'+l+'px"',c+=' viewBox="0 0 '+l+" "+l+'" ',c+=' preserveAspectRatio="xMinYMin meet"',c+=i.text||n.text?' role="img" aria-labelledby="'+x([i.id,n.id].join(" ").trim())+'"':"",c+=">",c+=i.text?'<title id="'+x(i.id)+'">'+x(i.text)+"</title>":"",c+=n.text?'<description id="'+x(n.id)+'">'+x(n.text)+"</description>":"",c+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',c+='<path d="',s=0;s<d.getModuleCount();s+=1)for(a=s*e+t,r=0;r<d.getModuleCount();r+=1)d.isDark(s,r)&&(c+="M"+(r*e+t)+","+a+u);return(c+='" stroke="transparent" fill="black"/>')+"</svg>"},d.createDataURL=function(e,t){e=e||2,t=void 0===t?4*e:t;var n=d.getModuleCount()*e+2*t,i=t,o=n-t;return O(n,n,function(t,n){if(i<=t&&t<o&&i<=n&&n<o){var r=Math.floor((t-i)/e),s=Math.floor((n-i)/e);return d.isDark(s,r)?0:1}return 1})},d.createImgTag=function(e,t,n){e=e||2,t=void 0===t?4*e:t;var i=d.getModuleCount()*e+2*t,o="";return o+="<img",o+=' src="',o+=d.createDataURL(e,t),o+='"',o+=' width="',o+=i,o+='"',o+=' height="',o+=i,o+='"',n&&(o+=' alt="',o+=x(n),o+='"'),o+"/>"};var x=function(e){for(var t="",n=0;n<e.length;n+=1){var i=e.charAt(n);switch(i){case"<":t+="&lt;";break;case">":t+="&gt;";break;case"&":t+="&amp;";break;case'"':t+="&quot;";break;default:t+=i}}return t};return d.createASCII=function(e,t){if((e=e||1)<2)return function(e){e=void 0===e?2:e;for(var t,n,i,o,r=+d.getModuleCount()+2*e,s=e,a=r-e,l={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},c={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},u="",p=0;p<r;p+=2){for(n=Math.floor(p-s),i=Math.floor(p+1-s),t=0;t<r;t+=1)o="\u2588",s<=t&&t<a&&s<=p&&p<a&&d.isDark(n,Math.floor(t-s))&&(o=" "),s<=t&&t<a&&s<=p+1&&p+1<a&&d.isDark(i,Math.floor(t-s))?o+=" ":o+="\u2588",u+=e<1&&a<=p+1?c[o]:l[o];u+="\n"}return r%2&&0<e?u.substring(0,u.length-r-1)+Array(1+r).join("\u2580"):u.substring(0,u.length-1)}(t);--e,t=void 0===t?2*e:t;for(var n,i,o,r=d.getModuleCount()*e+2*t,s=t,a=r-t,l=Array(e+1).join("\u2588\u2588"),c=Array(e+1).join("  "),u="",p="",h=0;h<r;h+=1){for(i=Math.floor((h-s)/e),p="",n=0;n<r;n+=1)o=1,s<=n&&n<a&&s<=h&&h<a&&d.isDark(i,Math.floor((n-s)/e))&&(o=0),p+=o?l:c;for(i=0;i<e;i+=1)u+=p+"\n"}return u.substring(0,u.length-1)},d.renderTo2dContext=function(e,t){t=t||2;for(var n=d.getModuleCount(),i=0;i<n;i++)for(var o=0;o<n;o++)e.fillStyle=d.isDark(i,o)?"black":"white",e.fillRect(i*t,o*t,t,t)},d}e.stringToBytes=(e.stringToBytesFuncs={default:function(e){for(var t=[],n=0;n<e.length;n+=1){var i=e.charCodeAt(n);t.push(255&i)}return t}}).default,e.createStringToBytes=function(e,t){var n=function(){function n(){var e=i.read();if(-1==e)throw"eof";return e}for(var i=M(e),o=0,r={};;){var s=i.read();if(-1==s)break;var a=n(),l=n()<<8|n();r[String.fromCharCode(s<<8|a)]=l,o+=1}if(o!=t)throw o+" != "+t;return r}(),i="?".charCodeAt(0);return function(e){for(var t=[],o=0;o<e.length;o+=1){var r,s=e.charCodeAt(o);s<128?t.push(s):"number"==typeof(r=n[e.charAt(o)])?(255&r)==r?t.push(r):(t.push(r>>>8),t.push(255&r)):t.push(i)}return t}};var t,n,i=1,o=2,r=4,s=8,a={L:1,M:0,Q:3,H:2},l=0,c=1,d=2,u=3,p=4,h=5,m=6,f=7,g=(t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],(n={}).getBCHTypeInfo=function(e){for(var t=e<<10;0<=v(t)-v(1335);)t^=1335<<v(t)-v(1335);return 21522^(e<<10|t)},n.getBCHTypeNumber=function(e){for(var t=e<<12;0<=v(t)-v(7973);)t^=7973<<v(t)-v(7973);return e<<12|t},n.getPatternPosition=function(e){return t[e-1]},n.getMaskFunction=function(e){switch(e){case l:return function(e,t){return(e+t)%2==0};case c:return function(e,t){return e%2==0};case d:return function(e,t){return t%3==0};case u:return function(e,t){return(e+t)%3==0};case p:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case h:return function(e,t){return e*t%2+e*t%3==0};case m:return function(e,t){return(e*t%2+e*t%3)%2==0};case f:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw"bad maskPattern:"+e}},n.getErrorCorrectPolynomial=function(e){for(var t=b([1],0),n=0;n<e;n+=1)t=t.multiply(b([1,y.gexp(n)],0));return t},n.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case i:return 10;case o:return 9;case r:case s:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case i:return 12;case o:return 11;case r:return 16;case s:return 10;default:throw"mode:"+e}else{if(!(t<41))throw"type:"+t;switch(e){case i:return 14;case o:return 13;case r:return 16;case s:return 12;default:throw"mode:"+e}}},n.getLostPoint=function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i+=1)for(var o=0;o<t;o+=1){for(var r=0,s=e.isDark(i,o),a=-1;a<=1;a+=1)if(!(i+a<0||t<=i+a))for(var l=-1;l<=1;l+=1)o+l<0||t<=o+l||0==a&&0==l||s==e.isDark(i+a,o+l)&&(r+=1);5<r&&(n+=3+r-5)}for(i=0;i<t-1;i+=1)for(o=0;o<t-1;o+=1){var c=0;e.isDark(i,o)&&(c+=1),e.isDark(i+1,o)&&(c+=1),e.isDark(i,o+1)&&(c+=1),e.isDark(i+1,o+1)&&(c+=1),0!=c&&4!=c||(n+=3)}for(i=0;i<t;i+=1)for(o=0;o<t-6;o+=1)e.isDark(i,o)&&!e.isDark(i,o+1)&&e.isDark(i,o+2)&&e.isDark(i,o+3)&&e.isDark(i,o+4)&&!e.isDark(i,o+5)&&e.isDark(i,o+6)&&(n+=40);for(o=0;o<t;o+=1)for(i=0;i<t-6;i+=1)e.isDark(i,o)&&!e.isDark(i+1,o)&&e.isDark(i+2,o)&&e.isDark(i+3,o)&&e.isDark(i+4,o)&&!e.isDark(i+5,o)&&e.isDark(i+6,o)&&(n+=40);var d=0;for(o=0;o<t;o+=1)for(i=0;i<t;i+=1)e.isDark(i,o)&&(d+=1);return n+Math.abs(100*d/t/t-50)/5*10},n);function v(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t}var y=function(){for(var e=new Array(256),t=new Array(256),n=0;n<8;n+=1)e[n]=1<<n;for(n=8;n<256;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(n=0;n<255;n+=1)t[e[n]]=n;var i={glog:function(e){if(e<1)throw"glog("+e+")";return t[e]},gexp:function(t){for(;t<0;)t+=255;for(;256<=t;)t-=255;return e[t]}};return i}();function b(e,t){if(void 0===e.length)throw e.length+"/"+t;var n=function(){for(var n=0;n<e.length&&0==e[n];)n+=1;for(var i=new Array(e.length-n+t),o=0;o<e.length-n;o+=1)i[o]=e[o+n];return i}(),i={getAt:function(e){return n[e]},getLength:function(){return n.length},multiply:function(e){for(var t=new Array(i.getLength()+e.getLength()-1),n=0;n<i.getLength();n+=1)for(var o=0;o<e.getLength();o+=1)t[n+o]^=y.gexp(y.glog(i.getAt(n))+y.glog(e.getAt(o)));return b(t,0)},mod:function(e){if(i.getLength()-e.getLength()<0)return i;for(var t=y.glog(i.getAt(0))-y.glog(e.getAt(0)),n=new Array(i.getLength()),o=0;o<i.getLength();o+=1)n[o]=i.getAt(o);for(o=0;o<e.getLength();o+=1)n[o]^=y.gexp(y.glog(e.getAt(o))+t);return b(n,0).mod(e)}};return i}function x(){var e=[],t={writeByte:function(t){e.push(255&t)},writeShort:function(e){t.writeByte(e),t.writeByte(e>>>8)},writeBytes:function(e,n,i){n=n||0,i=i||e.length;for(var o=0;o<i;o+=1)t.writeByte(e[o+n])},writeString:function(e){for(var n=0;n<e.length;n+=1)t.writeByte(e.charCodeAt(n))},toByteArray:function(){return e},toString:function(){var t="";t+="[";for(var n=0;n<e.length;n+=1)0<n&&(t+=","),t+=e[n];return t+"]"}};return t}function w(){function e(e){o+=String.fromCharCode(s(63&e))}var t=0,n=0,i=0,o="",r={},s=function(e){if(!(e<0)){if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw"n:"+e};return r.writeByte=function(o){for(t=t<<8|255&o,n+=8,i+=1;6<=n;)e(t>>>n-6),n-=6},r.flush=function(){if(0<n&&(e(t<<6-n),n=t=0),i%3!=0)for(var r=3-i%3,s=0;s<r;s+=1)o+="="},r.toString=function(){return o},r}function C(e,t){var n=e,i=t,o=new Array(e*t),r={setPixel:function(e,t,i){o[t*n+e]=i},write:function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(i),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(i),e.writeByte(0);var t=s(2);e.writeByte(2);for(var o=0;255<t.length-o;)e.writeByte(255),e.writeBytes(t,o,255),o+=255;e.writeByte(t.length-o),e.writeBytes(t,o,t.length-o),e.writeByte(0),e.writeString(";")}},s=function(e){for(var t=1<<e,n=1+(1<<e),i=e+1,r=a(),s=0;s<t;s+=1)r.add(String.fromCharCode(s));r.add(String.fromCharCode(t)),r.add(String.fromCharCode(n));var l,c,d,u=x(),p=(l=u,d=c=0,{write:function(e,t){if(e>>>t!=0)throw"length over";for(;8<=c+t;)l.writeByte(255&(e<<c|d)),t-=8-c,e>>>=8-c,c=d=0;d|=e<<c,c+=t},flush:function(){0<c&&l.writeByte(d)}});p.write(t,i);var h=0,m=String.fromCharCode(o[h]);for(h+=1;h<o.length;){var f=String.fromCharCode(o[h]);h+=1,r.contains(m+f)?m+=f:(p.write(r.indexOf(m),i),r.size()<4095&&(r.size()==1<<i&&(i+=1),r.add(m+f)),m=f)}return p.write(r.indexOf(m),i),p.write(n,i),p.flush(),u.toByteArray()},a=function(){var e={},t=0,n={add:function(i){if(n.contains(i))throw"dup key:"+i;e[i]=t,t+=1},size:function(){return t},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return n};return r}var _,S,I=(_=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],(S={}).getRSBlocks=function(e,t){var n=function(e,t){switch(t){case a.L:return _[4*(e-1)+0];case a.M:return _[4*(e-1)+1];case a.Q:return _[4*(e-1)+2];case a.H:return _[4*(e-1)+3];default:return}}(e,t);if(void 0===n)throw"bad rs block @ typeNumber:"+e+"/errorCorrectionLevel:"+t;for(var i,o,r=n.length/3,s=[],l=0;l<r;l+=1)for(var c=n[3*l+0],d=n[3*l+1],u=n[3*l+2],p=0;p<c;p+=1)s.push((i=u,o=void 0,(o={}).totalCount=d,o.dataCount=i,o));return s},S),A=function(){var e=[],t=0,n={getBuffer:function(){return e},getAt:function(t){var n=Math.floor(t/8);return 1==(e[n]>>>7-t%8&1)},put:function(e,t){for(var i=0;i<t;i+=1)n.putBit(1==(e>>>t-i-1&1))},getLengthInBits:function(){return t},putBit:function(n){var i=Math.floor(t/8);e.length<=i&&e.push(0),n&&(e[i]|=128>>>t%8),t+=1}};return n},E=function(e){var t=i,n=e,o={getMode:function(){return t},getLength:function(e){return n.length},write:function(e){for(var t=n,i=0;i+2<t.length;)e.put(r(t.substring(i,i+3)),10),i+=3;i<t.length&&(t.length-i==1?e.put(r(t.substring(i,i+1)),4):t.length-i==2&&e.put(r(t.substring(i,i+2)),7))}},r=function(e){for(var t=0,n=0;n<e.length;n+=1)t=10*t+s(e.charAt(n));return t},s=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+e};return o},D=function(e){var t=o,n=e,i={getMode:function(){return t},getLength:function(e){return n.length},write:function(e){for(var t=n,i=0;i+1<t.length;)e.put(45*r(t.charAt(i))+r(t.charAt(i+1)),11),i+=2;i<t.length&&e.put(r(t.charAt(i)),6)}},r=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);if("A"<=e&&e<="Z")return e.charCodeAt(0)-"A".charCodeAt(0)+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return i},T=function(t){var n=r,i=e.stringToBytes(t),o={getMode:function(){return n},getLength:function(e){return i.length},write:function(e){for(var t=0;t<i.length;t+=1)e.put(i[t],8)}};return o},R=function(t){var n=s,i=e.stringToBytesFuncs.SJIS;if(!i)throw"sjis not supported.";!function(){var e=i("\u53cb");if(2!=e.length||38726!=(e[0]<<8|e[1]))throw"sjis not supported."}();var o=i(t),r={getMode:function(){return n},getLength:function(e){return~~(o.length/2)},write:function(e){for(var t=o,n=0;n+1<t.length;){var i=(255&t[n])<<8|255&t[n+1];if(33088<=i&&i<=40956)i-=33088;else{if(!(57408<=i&&i<=60351))throw"illegal char at "+(n+1)+"/"+i;i-=49472}i=192*(i>>>8&255)+(255&i),e.put(i,13),n+=2}if(n<t.length)throw"illegal char at "+(n+1)}};return r},M=function(e){var t=e,n=0,i=0,o=0,r={read:function(){for(;o<8;){if(n>=t.length){if(0==o)return-1;throw"unexpected end of file./"+o}var e=t.charAt(n);if(n+=1,"="==e)return o=0,-1;e.match(/^\s$/)||(i=i<<6|s(e.charCodeAt(0)),o+=6)}var r=i>>>o-8&255;return o-=8,r}},s=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw"c:"+e};return r},O=function(e,t,n){for(var i=C(e,t),o=0;o<t;o+=1)for(var r=0;r<e;r+=1)i.setPixel(r,o,n(r,o));var s=x();i.write(s);for(var a=w(),l=s.toByteArray(),c=0;c<l.length;c+=1)a.writeByte(l[c]);return a.flush(),"data:image/gif;base64,"+a};return e}();s.stringToBytesFuncs["UTF-8"]=function(e){return function(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t.push(i):i<2048?t.push(192|i>>6,128|63&i):i<55296||57344<=i?t.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&e.charCodeAt(n)),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return t}(e)},o=[],void 0===(r="function"==typeof(i=function(){return s})?i.apply(t,o):i)||(e.exports=r)},function(e,t,n){function i(e,t,n,i,o,r){e.is_dark(o,r)&&t.rect(r*i,o*i,i,i)}function o(e,t,n){if(e){var o=0<n.rounded&&n.rounded<=100?s:i,r=e.module_count,a=n.size/r,l=0;n.crisp&&(a=Math.floor(a),l=Math.floor((n.size-a*r)/2)),t.translate(l,l),t.beginPath();for(var c=0;c<r;c+=1)for(var d=0;d<r;d+=1)o(e,t,n,a,c,d);t.fillStyle=n.fill,t.fill(),t.translate(-l,-l)}}var r=n(5),s=n(6),a=n(7);e.exports={create_canvas_qrcode:function(e,t,n){var i,s,l,c,d,u,p,h=t.ratio||r.dpr,m=r.create_canvas(t.size,h),f=m.getContext("2d");return t.imageAsCode&&(o(e,i=r.create_canvas(t.size,h).getContext("2d"),t),s=r.calc_image_pos(t),i.globalCompositeOperation="source-in",i.drawImage(t.image,s.x,s.y,s.iw,s.ih),t=Object.assign({},t,{image:i.canvas})),f.scale(h,h),l=e,u=c=f,(p=d=t).back&&(u.fillStyle=p.back,u.fillRect(0,0,p.size,p.size)),o(l,c,d),a(c,d),n?r.canvas_to_img(m,t.elementId):m},draw_modules:o}},function(e,t){function n(e,t){return e.getAttribute(t)}function i(e,t){return Object.keys(t||{}).forEach(function(n){e.setAttribute(n,t[n])}),e}function o(e,t){return i(s.createElement(e),t)}var r=window,s=r.document,a=r.devicePixelRatio||1,l="http://www.w3.org/2000/svg";e.exports={dpr:a,SVG_NS:l,get_attr:n,create_el:o,create_svg_el:function(e,t){return i(s.createElementNS(l,e),t)},create_canvas:function(e,t){var n=o("canvas",{width:e*t,height:e*t});return n.style.width="".concat(e,"px"),n.style.height="".concat(e,"px"),n},canvas_to_img:function(e,t){var i=o("img",{crossOrigin:"anonymous",src:e.toDataURL("image/png"),width:n(e,"width"),height:n(e,"height"),id:t});return i.style.width=e.style.width,i.style.height=e.style.height,i},calc_image_pos:function(e){var t=e.mSize,n=e.mPosX,i=e.mPosY,o=0;"labelimage"===e.mode&&(o=1),Array.isArray(e.mSize)&&(t=e.mSize[o]),Array.isArray(e.mPosX)&&(n=e.mPosX[o]),Array.isArray(e.mPosY)&&(i=e.mPosY[o]);var r=e.size,s=.01*t,a=s*(e.image.naturalWidth||1)/(e.image.naturalHeight||1);return{x:(1-a)*n*.01*r,y:(1-s)*i*.01*r,iw:a*r,ih:s*r}}}},function(e,t){e.exports=function(e,t,n,i,o,r){var s,a,l,c,d,u,p,h,m,f,g,v,y,b,x,w,C,_,S,I,A=r*i,E=o*i,D=A+i,T=E+i,R=.005*n.rounded*i,M=e.is_dark,O=o-1,P=o+1,F=r-1,k=r+1,N=M(o,r),j=M(O,F),L=M(O,r),V=M(O,k),B=M(o,k),G=M(P,k),z=M(P,r),$=M(P,F),U=M(o,F),H=(s=t,{m:function(e,t){return s.moveTo(e,t),this},l:function(e,t){return s.lineTo(e,t),this},a:function(){return s.arcTo.apply(s,arguments),this}});N?(g=H,v=A,y=E,b=D,x=T,w=R,_=!L&&!B,S=!z&&!B,I=!z&&!U,(C=!L&&!U)?g.m(v+w,y):g.m(v,y),_?g.l(b-w,y).a(b,y,b,x,w):g.l(b,y),S?g.l(b,x-w).a(b,x,v,x,w):g.l(b,x),I?g.l(v+w,x).a(v,x,v,y,w):g.l(v,x),C?g.l(v,y+w).a(v,y,b,y,w):g.l(v,y)):(a=H,l=A,c=E,d=D,u=T,p=R,h=L&&B&&V,m=z&&B&&G,f=z&&U&&$,L&&U&&j&&a.m(l+p,c).l(l,c).l(l,c+p).a(l,c,l+p,c,p),h&&a.m(d-p,c).l(d,c).l(d,c+p).a(d,c,d-p,c,p),m&&a.m(d-p,u).l(d,u).l(d,u-p).a(d,u,d-p,u,p),f&&a.m(l+p,u).l(l,u).l(l,u-p).a(l,u,l+p,u,p))}},function(e,t,n){function i(e,t){var n=t.mSize,i=t.mPosX,o=t.mPosY,r=0;"imagelabel"===t.mode&&(r=1),Array.isArray(t.mSize)&&(n=t.mSize[r]),Array.isArray(t.mPosX)&&(i=t.mPosX[r]),Array.isArray(t.mPosY)&&(o=t.mPosY[r]);var s=t.size,a="bold "+.01*n*s+"px "+t.fontname;e.strokeStyle=t.back,e.lineWidth=.01*n*s*.1,e.fillStyle=t.fontcolor,e.font=a;var l=(1-e.measureText(t.label).width/s)*i*.01*s,c=(1-.01*n)*o*.01*s+.75*n*.01*s;e.strokeText(t.label,l,c),e.fillText(t.label,l,c)}function o(e,t){var n=r(t);t.imageAsCode?e.drawImage(t.image,0,0,t.size,t.size):e.drawImage(t.image,n.x,n.y,n.iw,n.ih)}var r=n(5).calc_image_pos;e.exports=function(e,t){var n=t.mode;"label"===n?i(e,t):"image"===n?o(e,t):"labelimage"===n?(i(e,t),o(e,t)):"imagelabel"===n&&(o(e,t),i(e,t))}},function(e,t,n){function i(e){function t(e){return Math.round(10*e)/10}function n(t){return Math.round(10*t)/10+e.o}return{m:function(t,i){return e.p+="M ".concat(n(t)," ").concat(n(i)," "),this},l:function(t,i){return e.p+="L ".concat(n(t)," ").concat(n(i)," "),this},a:function(i,o,r){return e.p+="A ".concat(t(r)," ").concat(t(r)," 0 0 1 ").concat(n(i)," ").concat(n(o)," "),this}}}function o(e,t){var i=t.mSize,o=t.mPosX,r=t.mPosY,s=0;"imagelabel"===t.mode&&(s=1),Array.isArray(t.mSize)&&(i=t.mSize[s]),Array.isArray(t.mPosX)&&(o=t.mPosX[s]),Array.isArray(t.mPosY)&&(r=t.mPosY[s]);var a=t.size,l="bold "+.01*i*a+"px "+t.fontname,d=n(5),u=t.ratio||d.dpr,p=d.create_canvas(a,u).getContext("2d");p.strokeStyle=t.back,p.lineWidth=.01*i*a*.1,p.fillStyle=t.fontcolor,p.font=l;var h=p.measureText(t.label).width,m=c("text",{x:(1-h/a)*o*.01*a,y:(1-.01*i)*r*.01*a+.75*i*.01*a});Object.assign(m.style,{font:l,fill:t.fontcolor,"paint-order":"stroke",stroke:t.back,"stroke-width":p.lineWidth}),m.textContent=t.label,e.appendChild(m)}function r(e,t){var n,i;i=t.imageAsCode?c("image",{href:t.image,x:0,y:0,width:t.size,height:t.size}):(n=d(t),c("image",{href:t.image,x:n.x,y:n.y,width:n.iw,height:n.ih})),e.appendChild(i)}var s=n(5),a=s.SVG_NS,l=s.get_attr,c=s.create_svg_el,d=s.calc_image_pos,u=s.create_canvas,p=s.dpr,h=n(4).draw_modules;e.exports=function(e,t){var n,s,m,f=t.size,g=t.mode,v=c("svg",{xmlns:a,width:f,height:f,viewBox:"0 0 ".concat(f," ").concat(f)});return v.style.width="".concat(f,"px"),v.style.height="".concat(f,"px"),v.setAttribute("title",t.text),t.elementId&&v.setAttribute("id",t.elementId),t.back&&v.appendChild(c("rect",{x:0,y:0,width:f,height:f,fill:t.back})),v.appendChild(c("path",{d:function(e,t){if(!e)return"";var n={p:"",o:0},o=e.module_count,r=t.size/o;t.crisp&&(r=Math.floor(r),n.o=Math.floor((t.size-r*o)/2));for(var s,a,l,c,d,u,p,h,m,f,g,v,y,b,x,w,C,_,S,I,A,E,D,T,R,M,O,P,F,k,N,j,L,V,B,G,z,$,U,H,X,W,q,Y=i(n),Q=0;Q<o;Q+=1)for(var Z=0;Z<o;Z+=1)s=e,a=Y,q=W=X=H=U=$=z=G=B=V=L=j=N=k=F=P=O=M=R=T=D=E=A=I=S=_=C=w=x=b=y=v=g=f=m=h=p=u=void 0,O=(R=(d=Z)*(l=r))+l,P=(M=(c=Q)*l)+l,F=.005*t.rounded*l,N=c-1,j=c+1,L=d-1,V=d+1,B=(k=s.is_dark)(c,d),G=k(N,L),z=k(N,d),$=k(N,V),U=k(c,V),H=k(j,V),X=k(j,d),W=k(j,L),q=k(c,L),B?(x=a,w=R,C=M,_=O,S=P,I=F,E=!z&&!U,D=!X&&!U,T=!X&&!q,(A=!z&&!q)?x.m(w+I,C):x.m(w,C),E?x.l(_-I,C).a(_,C+I,I):x.l(_,C),D?x.l(_,S-I).a(_-I,S,I):x.l(_,S),T?x.l(w+I,S).a(w,S-I,I):x.l(w,S),A?x.l(w,C+I).a(w+I,C,I):x.l(w,C)):(u=a,p=R,h=M,m=O,f=P,g=F,v=z&&U&&$,y=X&&U&&H,b=X&&q&&W,z&&q&&G&&u.m(p+g,h).l(p,h).l(p,h+g).a(p+g,h,g),v&&u.m(m,h+g).l(m,h).l(m-g,h).a(m,h+g,g),y&&u.m(m-g,f).l(m,f).l(m,f-g).a(m-g,f,g),b&&u.m(p,f-g).l(p,f).l(p+g,f).a(p,f-g,g));return n.p}(e,t),fill:t.fill})),t.image&&(t=t.imageAsCode?(n=t.ratio||p,s=u(t.size,n).getContext("2d"),h(e,s,t),m=d(t),s.globalCompositeOperation="source-in",s.drawImage(t.image,m.x,m.y,m.iw,m.ih),Object.assign({},t,{image:s.canvas.toDataURL()})):Object.assign({},t,{image:l(t.image,"src")})),"label"===g?o(v,t):"image"===g?r(v,t):"labelimage"===g?(o(v,t),r(v,t)):"imagelabel"===g&&(r(v,t),o(v,t)),v}}],e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(i,o,(function(e){return t[e]}).bind(null,o));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=0);function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t,n}()},"./node_modules/lodash/_DataView.js":(e,t,n)=>{var i=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"DataView");e.exports=i},"./node_modules/lodash/_Hash.js":(e,t,n)=>{var i=n("./node_modules/lodash/_hashClear.js"),o=n("./node_modules/lodash/_hashDelete.js"),r=n("./node_modules/lodash/_hashGet.js"),s=n("./node_modules/lodash/_hashHas.js"),a=n("./node_modules/lodash/_hashSet.js");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=r,l.prototype.has=s,l.prototype.set=a,e.exports=l},"./node_modules/lodash/_ListCache.js":(e,t,n)=>{var i=n("./node_modules/lodash/_listCacheClear.js"),o=n("./node_modules/lodash/_listCacheDelete.js"),r=n("./node_modules/lodash/_listCacheGet.js"),s=n("./node_modules/lodash/_listCacheHas.js"),a=n("./node_modules/lodash/_listCacheSet.js");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=r,l.prototype.has=s,l.prototype.set=a,e.exports=l},"./node_modules/lodash/_Map.js":(e,t,n)=>{var i=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"Map");e.exports=i},"./node_modules/lodash/_MapCache.js":(e,t,n)=>{var i=n("./node_modules/lodash/_mapCacheClear.js"),o=n("./node_modules/lodash/_mapCacheDelete.js"),r=n("./node_modules/lodash/_mapCacheGet.js"),s=n("./node_modules/lodash/_mapCacheHas.js"),a=n("./node_modules/lodash/_mapCacheSet.js");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=r,l.prototype.has=s,l.prototype.set=a,e.exports=l},"./node_modules/lodash/_Promise.js":(e,t,n)=>{var i=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"Promise");e.exports=i},"./node_modules/lodash/_Set.js":(e,t,n)=>{var i=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"Set");e.exports=i},"./node_modules/lodash/_SetCache.js":(e,t,n)=>{var i=n("./node_modules/lodash/_MapCache.js"),o=n("./node_modules/lodash/_setCacheAdd.js"),r=n("./node_modules/lodash/_setCacheHas.js");function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=o,s.prototype.has=r,e.exports=s},"./node_modules/lodash/_Stack.js":(e,t,n)=>{var i=n("./node_modules/lodash/_ListCache.js"),o=n("./node_modules/lodash/_stackClear.js"),r=n("./node_modules/lodash/_stackDelete.js"),s=n("./node_modules/lodash/_stackGet.js"),a=n("./node_modules/lodash/_stackHas.js"),l=n("./node_modules/lodash/_stackSet.js");function c(e){var t=this.__data__=new i(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=r,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,e.exports=c},"./node_modules/lodash/_Symbol.js":(e,t,n)=>{var i=n("./node_modules/lodash/_root.js").Symbol;e.exports=i},"./node_modules/lodash/_Uint8Array.js":(e,t,n)=>{var i=n("./node_modules/lodash/_root.js").Uint8Array;e.exports=i},"./node_modules/lodash/_WeakMap.js":(e,t,n)=>{var i=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"WeakMap");e.exports=i},"./node_modules/lodash/_apply.js":e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},"./node_modules/lodash/_arrayEach.js":e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},"./node_modules/lodash/_arrayFilter.js":e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,o=0,r=[];++n<i;){var s=e[n];t(s,n,e)&&(r[o++]=s)}return r}},"./node_modules/lodash/_arrayIncludes.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseIndexOf.js");e.exports=function(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}},"./node_modules/lodash/_arrayIncludesWith.js":e=>{e.exports=function(e,t,n){for(var i=-1,o=null==e?0:e.length;++i<o;)if(n(t,e[i]))return!0;return!1}},"./node_modules/lodash/_arrayLikeKeys.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseTimes.js"),o=n("./node_modules/lodash/isArguments.js"),r=n("./node_modules/lodash/isArray.js"),s=n("./node_modules/lodash/isBuffer.js"),a=n("./node_modules/lodash/_isIndex.js"),l=n("./node_modules/lodash/isTypedArray.js"),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=r(e),d=!n&&o(e),u=!n&&!d&&s(e),p=!n&&!d&&!u&&l(e),h=n||d||u||p,m=h?i(e.length,String):[],f=m.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||u&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,f))||m.push(g);return m}},"./node_modules/lodash/_arrayMap.js":e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}},"./node_modules/lodash/_arrayPush.js":e=>{e.exports=function(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}},"./node_modules/lodash/_arrayReduce.js":e=>{e.exports=function(e,t,n,i){var o=-1,r=null==e?0:e.length;for(i&&r&&(n=e[++o]);++o<r;)n=t(n,e[o],o,e);return n}},"./node_modules/lodash/_arraySome.js":e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},"./node_modules/lodash/_asciiSize.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseProperty.js")("length");e.exports=i},"./node_modules/lodash/_assignMergeValue.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseAssignValue.js"),o=n("./node_modules/lodash/eq.js");e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&i(e,t,n)}},"./node_modules/lodash/_assignValue.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseAssignValue.js"),o=n("./node_modules/lodash/eq.js"),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];r.call(e,t)&&o(s,n)&&(void 0!==n||t in e)||i(e,t,n)}},"./node_modules/lodash/_assocIndexOf.js":(e,t,n)=>{var i=n("./node_modules/lodash/eq.js");e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},"./node_modules/lodash/_baseAssign.js":(e,t,n)=>{var i=n("./node_modules/lodash/_copyObject.js"),o=n("./node_modules/lodash/keys.js");e.exports=function(e,t){return e&&i(t,o(t),e)}},"./node_modules/lodash/_baseAssignIn.js":(e,t,n)=>{var i=n("./node_modules/lodash/_copyObject.js"),o=n("./node_modules/lodash/keysIn.js");e.exports=function(e,t){return e&&i(t,o(t),e)}},"./node_modules/lodash/_baseAssignValue.js":(e,t,n)=>{var i=n("./node_modules/lodash/_defineProperty.js");e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},"./node_modules/lodash/_baseClone.js":(e,t,n)=>{var i=n("./node_modules/lodash/_Stack.js"),o=n("./node_modules/lodash/_arrayEach.js"),r=n("./node_modules/lodash/_assignValue.js"),s=n("./node_modules/lodash/_baseAssign.js"),a=n("./node_modules/lodash/_baseAssignIn.js"),l=n("./node_modules/lodash/_cloneBuffer.js"),c=n("./node_modules/lodash/_copyArray.js"),d=n("./node_modules/lodash/_copySymbols.js"),u=n("./node_modules/lodash/_copySymbolsIn.js"),p=n("./node_modules/lodash/_getAllKeys.js"),h=n("./node_modules/lodash/_getAllKeysIn.js"),m=n("./node_modules/lodash/_getTag.js"),f=n("./node_modules/lodash/_initCloneArray.js"),g=n("./node_modules/lodash/_initCloneByTag.js"),v=n("./node_modules/lodash/_initCloneObject.js"),y=n("./node_modules/lodash/isArray.js"),b=n("./node_modules/lodash/isBuffer.js"),x=n("./node_modules/lodash/isMap.js"),w=n("./node_modules/lodash/isObject.js"),C=n("./node_modules/lodash/isSet.js"),_=n("./node_modules/lodash/keys.js"),S=n("./node_modules/lodash/keysIn.js"),I="[object Arguments]",A="[object Function]",E="[object Object]",D={};D[I]=D["[object Array]"]=D["[object ArrayBuffer]"]=D["[object DataView]"]=D["[object Boolean]"]=D["[object Date]"]=D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Map]"]=D["[object Number]"]=D[E]=D["[object RegExp]"]=D["[object Set]"]=D["[object String]"]=D["[object Symbol]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D["[object Error]"]=D[A]=D["[object WeakMap]"]=!1,e.exports=function e(t,n,T,R,M,O){var P,F=1&n,k=2&n,N=4&n;if(T&&(P=M?T(t,R,M,O):T(t)),void 0!==P)return P;if(!w(t))return t;var j=y(t);if(j){if(P=f(t),!F)return c(t,P)}else{var L=m(t),V=L==A||"[object GeneratorFunction]"==L;if(b(t))return l(t,F);if(L==E||L==I||V&&!M){if(P=k||V?{}:v(t),!F)return k?u(t,a(P,t)):d(t,s(P,t))}else{if(!D[L])return M?t:{};P=g(t,L,F)}}O||(O=new i);var B=O.get(t);if(B)return B;O.set(t,P),C(t)?t.forEach(function(i){P.add(e(i,n,T,i,t,O))}):x(t)&&t.forEach(function(i,o){P.set(o,e(i,n,T,o,t,O))});var G=j?void 0:(N?k?h:p:k?S:_)(t);return o(G||t,function(i,o){G&&(i=t[o=i]),r(P,o,e(i,n,T,o,t,O))}),P}},"./node_modules/lodash/_baseCreate.js":(e,t,n)=>{var i=n("./node_modules/lodash/isObject.js"),o=Object.create,r=function(){function e(){}return function(t){if(!i(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=r},"./node_modules/lodash/_baseEach.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseForOwn.js"),o=n("./node_modules/lodash/_createBaseEach.js")(i);e.exports=o},"./node_modules/lodash/_baseExtremum.js":(e,t,n)=>{var i=n("./node_modules/lodash/isSymbol.js");e.exports=function(e,t,n){for(var o=-1,r=e.length;++o<r;){var s=e[o],a=t(s);if(null!=a&&(void 0===l?a==a&&!i(a):n(a,l)))var l=a,c=s}return c}},"./node_modules/lodash/_baseFilter.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseEach.js");e.exports=function(e,t){var n=[];return i(e,function(e,i,o){t(e,i,o)&&n.push(e)}),n}},"./node_modules/lodash/_baseFindIndex.js":e=>{e.exports=function(e,t,n,i){for(var o=e.length,r=n+(i?1:-1);i?r--:++r<o;)if(t(e[r],r,e))return r;return-1}},"./node_modules/lodash/_baseFlatten.js":(e,t,n)=>{var i=n("./node_modules/lodash/_arrayPush.js"),o=n("./node_modules/lodash/_isFlattenable.js");e.exports=function e(t,n,r,s,a){var l=-1,c=t.length;for(r||(r=o),a||(a=[]);++l<c;){var d=t[l];n>0&&r(d)?n>1?e(d,n-1,r,s,a):i(a,d):s||(a[a.length]=d)}return a}},"./node_modules/lodash/_baseFor.js":(e,t,n)=>{var i=n("./node_modules/lodash/_createBaseFor.js")();e.exports=i},"./node_modules/lodash/_baseForOwn.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseFor.js"),o=n("./node_modules/lodash/keys.js");e.exports=function(e,t){return e&&i(e,t,o)}},"./node_modules/lodash/_baseGet.js":(e,t,n)=>{var i=n("./node_modules/lodash/_castPath.js"),o=n("./node_modules/lodash/_toKey.js");e.exports=function(e,t){for(var n=0,r=(t=i(t,e)).length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}},"./node_modules/lodash/_baseGetAllKeys.js":(e,t,n)=>{var i=n("./node_modules/lodash/_arrayPush.js"),o=n("./node_modules/lodash/isArray.js");e.exports=function(e,t,n){var r=t(e);return o(e)?r:i(r,n(e))}},"./node_modules/lodash/_baseGetTag.js":(e,t,n)=>{var i=n("./node_modules/lodash/_Symbol.js"),o=n("./node_modules/lodash/_getRawTag.js"),r=n("./node_modules/lodash/_objectToString.js"),s=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):r(e)}},"./node_modules/lodash/_baseGt.js":e=>{e.exports=function(e,t){return e>t}},"./node_modules/lodash/_baseHas.js":e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},"./node_modules/lodash/_baseHasIn.js":e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},"./node_modules/lodash/_baseIndexOf.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseFindIndex.js"),o=n("./node_modules/lodash/_baseIsNaN.js"),r=n("./node_modules/lodash/_strictIndexOf.js");e.exports=function(e,t,n){return t==t?r(e,t,n):i(e,o,n)}},"./node_modules/lodash/_baseIsArguments.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return o(e)&&"[object Arguments]"==i(e)}},"./node_modules/lodash/_baseIsEqual.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseIsEqualDeep.js"),o=n("./node_modules/lodash/isObjectLike.js");e.exports=function e(t,n,r,s,a){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:i(t,n,r,s,e,a))}},"./node_modules/lodash/_baseIsEqualDeep.js":(e,t,n)=>{var i=n("./node_modules/lodash/_Stack.js"),o=n("./node_modules/lodash/_equalArrays.js"),r=n("./node_modules/lodash/_equalByTag.js"),s=n("./node_modules/lodash/_equalObjects.js"),a=n("./node_modules/lodash/_getTag.js"),l=n("./node_modules/lodash/isArray.js"),c=n("./node_modules/lodash/isBuffer.js"),d=n("./node_modules/lodash/isTypedArray.js"),u="[object Arguments]",p="[object Array]",h="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,f,g,v){var y=l(e),b=l(t),x=y?p:a(e),w=b?p:a(t),C=(x=x==u?h:x)==h,_=(w=w==u?h:w)==h,S=x==w;if(S&&c(e)){if(!c(t))return!1;y=!0,C=!1}if(S&&!C)return v||(v=new i),y||d(e)?o(e,t,n,f,g,v):r(e,t,x,n,f,g,v);if(!(1&n)){var I=C&&m.call(e,"__wrapped__"),A=_&&m.call(t,"__wrapped__");if(I||A){var E=I?e.value():e,D=A?t.value():t;return v||(v=new i),g(E,D,n,f,v)}}return!!S&&(v||(v=new i),s(e,t,n,f,g,v))}},"./node_modules/lodash/_baseIsMap.js":(e,t,n)=>{var i=n("./node_modules/lodash/_getTag.js"),o=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return o(e)&&"[object Map]"==i(e)}},"./node_modules/lodash/_baseIsMatch.js":(e,t,n)=>{var i=n("./node_modules/lodash/_Stack.js"),o=n("./node_modules/lodash/_baseIsEqual.js");e.exports=function(e,t,n,r){var s=n.length,a=s,l=!r;if(null==e)return!a;for(e=Object(e);s--;){var c=n[s];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){var d=(c=n[s])[0],u=e[d],p=c[1];if(l&&c[2]){if(void 0===u&&!(d in e))return!1}else{var h=new i;if(r)var m=r(u,p,d,e,t,h);if(!(void 0===m?o(p,u,3,r,h):m))return!1}}return!0}},"./node_modules/lodash/_baseIsNaN.js":e=>{e.exports=function(e){return e!=e}},"./node_modules/lodash/_baseIsNative.js":(e,t,n)=>{var i=n("./node_modules/lodash/isFunction.js"),o=n("./node_modules/lodash/_isMasked.js"),r=n("./node_modules/lodash/isObject.js"),s=n("./node_modules/lodash/_toSource.js"),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,p=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!r(e)||o(e))&&(i(e)?p:a).test(s(e))}},"./node_modules/lodash/_baseIsSet.js":(e,t,n)=>{var i=n("./node_modules/lodash/_getTag.js"),o=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return o(e)&&"[object Set]"==i(e)}},"./node_modules/lodash/_baseIsTypedArray.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/isLength.js"),r=n("./node_modules/lodash/isObjectLike.js"),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&o(e.length)&&!!s[i(e)]}},"./node_modules/lodash/_baseIteratee.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseMatches.js"),o=n("./node_modules/lodash/_baseMatchesProperty.js"),r=n("./node_modules/lodash/identity.js"),s=n("./node_modules/lodash/isArray.js"),a=n("./node_modules/lodash/property.js");e.exports=function(e){return"function"==typeof e?e:null==e?r:"object"==typeof e?s(e)?o(e[0],e[1]):i(e):a(e)}},"./node_modules/lodash/_baseKeys.js":(e,t,n)=>{var i=n("./node_modules/lodash/_isPrototype.js"),o=n("./node_modules/lodash/_nativeKeys.js"),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return o(e);var t=[];for(var n in Object(e))r.call(e,n)&&"constructor"!=n&&t.push(n);return t}},"./node_modules/lodash/_baseKeysIn.js":(e,t,n)=>{var i=n("./node_modules/lodash/isObject.js"),o=n("./node_modules/lodash/_isPrototype.js"),r=n("./node_modules/lodash/_nativeKeysIn.js"),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=o(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},"./node_modules/lodash/_baseLt.js":e=>{e.exports=function(e,t){return e<t}},"./node_modules/lodash/_baseMap.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseEach.js"),o=n("./node_modules/lodash/isArrayLike.js");e.exports=function(e,t){var n=-1,r=o(e)?Array(e.length):[];return i(e,function(e,i,o){r[++n]=t(e,i,o)}),r}},"./node_modules/lodash/_baseMatches.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseIsMatch.js"),o=n("./node_modules/lodash/_getMatchData.js"),r=n("./node_modules/lodash/_matchesStrictComparable.js");e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?r(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},"./node_modules/lodash/_baseMatchesProperty.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseIsEqual.js"),o=n("./node_modules/lodash/get.js"),r=n("./node_modules/lodash/hasIn.js"),s=n("./node_modules/lodash/_isKey.js"),a=n("./node_modules/lodash/_isStrictComparable.js"),l=n("./node_modules/lodash/_matchesStrictComparable.js"),c=n("./node_modules/lodash/_toKey.js");e.exports=function(e,t){return s(e)&&a(t)?l(c(e),t):function(n){var s=o(n,e);return void 0===s&&s===t?r(n,e):i(t,s,3)}}},"./node_modules/lodash/_baseMerge.js":(e,t,n)=>{var i=n("./node_modules/lodash/_Stack.js"),o=n("./node_modules/lodash/_assignMergeValue.js"),r=n("./node_modules/lodash/_baseFor.js"),s=n("./node_modules/lodash/_baseMergeDeep.js"),a=n("./node_modules/lodash/isObject.js"),l=n("./node_modules/lodash/keysIn.js"),c=n("./node_modules/lodash/_safeGet.js");e.exports=function e(t,n,d,u,p){t!==n&&r(n,function(r,l){if(p||(p=new i),a(r))s(t,n,l,d,e,u,p);else{var h=u?u(c(t,l),r,l+"",t,n,p):void 0;void 0===h&&(h=r),o(t,l,h)}},l)}},"./node_modules/lodash/_baseMergeDeep.js":(e,t,n)=>{var i=n("./node_modules/lodash/_assignMergeValue.js"),o=n("./node_modules/lodash/_cloneBuffer.js"),r=n("./node_modules/lodash/_cloneTypedArray.js"),s=n("./node_modules/lodash/_copyArray.js"),a=n("./node_modules/lodash/_initCloneObject.js"),l=n("./node_modules/lodash/isArguments.js"),c=n("./node_modules/lodash/isArray.js"),d=n("./node_modules/lodash/isArrayLikeObject.js"),u=n("./node_modules/lodash/isBuffer.js"),p=n("./node_modules/lodash/isFunction.js"),h=n("./node_modules/lodash/isObject.js"),m=n("./node_modules/lodash/isPlainObject.js"),f=n("./node_modules/lodash/isTypedArray.js"),g=n("./node_modules/lodash/_safeGet.js"),v=n("./node_modules/lodash/toPlainObject.js");e.exports=function(e,t,n,y,b,x,w){var C=g(e,n),_=g(t,n),S=w.get(_);if(S)i(e,n,S);else{var I=x?x(C,_,n+"",e,t,w):void 0,A=void 0===I;if(A){var E=c(_),D=!E&&u(_),T=!E&&!D&&f(_);I=_,E||D||T?c(C)?I=C:d(C)?I=s(C):D?(A=!1,I=o(_,!0)):T?(A=!1,I=r(_,!0)):I=[]:m(_)||l(_)?(I=C,l(C)?I=v(C):h(C)&&!p(C)||(I=a(_))):A=!1}A&&(w.set(_,I),b(I,_,y,x,w),w.delete(_)),i(e,n,I)}}},"./node_modules/lodash/_baseOrderBy.js":(e,t,n)=>{var i=n("./node_modules/lodash/_arrayMap.js"),o=n("./node_modules/lodash/_baseGet.js"),r=n("./node_modules/lodash/_baseIteratee.js"),s=n("./node_modules/lodash/_baseMap.js"),a=n("./node_modules/lodash/_baseSortBy.js"),l=n("./node_modules/lodash/_baseUnary.js"),c=n("./node_modules/lodash/_compareMultiple.js"),d=n("./node_modules/lodash/identity.js"),u=n("./node_modules/lodash/isArray.js");e.exports=function(e,t,n){t=t.length?i(t,function(e){return u(e)?function(t){return o(t,1===e.length?e[0]:e)}:e}):[d];var p=-1;t=i(t,l(r));var h=s(e,function(e,n,o){return{criteria:i(t,function(t){return t(e)}),index:++p,value:e}});return a(h,function(e,t){return c(e,t,n)})}},"./node_modules/lodash/_basePick.js":(e,t,n)=>{var i=n("./node_modules/lodash/_basePickBy.js"),o=n("./node_modules/lodash/hasIn.js");e.exports=function(e,t){return i(e,t,function(t,n){return o(e,n)})}},"./node_modules/lodash/_basePickBy.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseGet.js"),o=n("./node_modules/lodash/_baseSet.js"),r=n("./node_modules/lodash/_castPath.js");e.exports=function(e,t,n){for(var s=-1,a=t.length,l={};++s<a;){var c=t[s],d=i(e,c);n(d,c)&&o(l,r(c,e),d)}return l}},"./node_modules/lodash/_baseProperty.js":e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},"./node_modules/lodash/_basePropertyDeep.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseGet.js");e.exports=function(e){return function(t){return i(t,e)}}},"./node_modules/lodash/_baseRange.js":e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,i,o,r){for(var s=-1,a=n(t((i-e)/(o||1)),0),l=Array(a);a--;)l[r?a:++s]=e,e+=o;return l}},"./node_modules/lodash/_baseReduce.js":e=>{e.exports=function(e,t,n,i,o){return o(e,function(e,o,r){n=i?(i=!1,e):t(n,e,o,r)}),n}},"./node_modules/lodash/_baseRest.js":(e,t,n)=>{var i=n("./node_modules/lodash/identity.js"),o=n("./node_modules/lodash/_overRest.js"),r=n("./node_modules/lodash/_setToString.js");e.exports=function(e,t){return r(o(e,t,i),e+"")}},"./node_modules/lodash/_baseSet.js":(e,t,n)=>{var i=n("./node_modules/lodash/_assignValue.js"),o=n("./node_modules/lodash/_castPath.js"),r=n("./node_modules/lodash/_isIndex.js"),s=n("./node_modules/lodash/isObject.js"),a=n("./node_modules/lodash/_toKey.js");e.exports=function(e,t,n,l){if(!s(e))return e;for(var c=-1,d=(t=o(t,e)).length,u=d-1,p=e;null!=p&&++c<d;){var h=a(t[c]),m=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(c!=u){var f=p[h];void 0===(m=l?l(f,h,p):void 0)&&(m=s(f)?f:r(t[c+1])?[]:{})}i(p,h,m),p=p[h]}return e}},"./node_modules/lodash/_baseSetToString.js":(e,t,n)=>{var i=n("./node_modules/lodash/constant.js"),o=n("./node_modules/lodash/_defineProperty.js"),r=n("./node_modules/lodash/identity.js"),s=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:r;e.exports=s},"./node_modules/lodash/_baseSortBy.js":e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},"./node_modules/lodash/_baseTimes.js":e=>{e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},"./node_modules/lodash/_baseToString.js":(e,t,n)=>{var i=n("./node_modules/lodash/_Symbol.js"),o=n("./node_modules/lodash/_arrayMap.js"),r=n("./node_modules/lodash/isArray.js"),s=n("./node_modules/lodash/isSymbol.js"),a=i?i.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return o(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},"./node_modules/lodash/_baseTrim.js":(e,t,n)=>{var i=n("./node_modules/lodash/_trimmedEndIndex.js"),o=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(o,""):e}},"./node_modules/lodash/_baseUnary.js":e=>{e.exports=function(e){return function(t){return e(t)}}},"./node_modules/lodash/_baseUniq.js":(e,t,n)=>{var i=n("./node_modules/lodash/_SetCache.js"),o=n("./node_modules/lodash/_arrayIncludes.js"),r=n("./node_modules/lodash/_arrayIncludesWith.js"),s=n("./node_modules/lodash/_cacheHas.js"),a=n("./node_modules/lodash/_createSet.js"),l=n("./node_modules/lodash/_setToArray.js");e.exports=function(e,t,n){var c=-1,d=o,u=e.length,p=!0,h=[],m=h;if(n)p=!1,d=r;else if(u>=200){var f=t?null:a(e);if(f)return l(f);p=!1,d=s,m=new i}else m=t?[]:h;e:for(;++c<u;){var g=e[c],v=t?t(g):g;if(g=n||0!==g?g:0,p&&v==v){for(var y=m.length;y--;)if(m[y]===v)continue e;t&&m.push(v),h.push(g)}else d(m,v,n)||(m!==h&&m.push(v),h.push(g))}return h}},"./node_modules/lodash/_baseValues.js":(e,t,n)=>{var i=n("./node_modules/lodash/_arrayMap.js");e.exports=function(e,t){return i(t,function(t){return e[t]})}},"./node_modules/lodash/_baseZipObject.js":e=>{e.exports=function(e,t,n){for(var i=-1,o=e.length,r=t.length,s={};++i<o;){var a=i<r?t[i]:void 0;n(s,e[i],a)}return s}},"./node_modules/lodash/_cacheHas.js":e=>{e.exports=function(e,t){return e.has(t)}},"./node_modules/lodash/_castFunction.js":(e,t,n)=>{var i=n("./node_modules/lodash/identity.js");e.exports=function(e){return"function"==typeof e?e:i}},"./node_modules/lodash/_castPath.js":(e,t,n)=>{var i=n("./node_modules/lodash/isArray.js"),o=n("./node_modules/lodash/_isKey.js"),r=n("./node_modules/lodash/_stringToPath.js"),s=n("./node_modules/lodash/toString.js");e.exports=function(e,t){return i(e)?e:o(e,t)?[e]:r(s(e))}},"./node_modules/lodash/_cloneArrayBuffer.js":(e,t,n)=>{var i=n("./node_modules/lodash/_Uint8Array.js");e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},"./node_modules/lodash/_cloneBuffer.js":(e,t,n)=>{e=n.nmd(e);var i=n("./node_modules/lodash/_root.js"),o=t&&!t.nodeType&&t,r=o&&e&&!e.nodeType&&e,s=r&&r.exports===o?i.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=a?a(n):new e.constructor(n);return e.copy(i),i}},"./node_modules/lodash/_cloneDataView.js":(e,t,n)=>{var i=n("./node_modules/lodash/_cloneArrayBuffer.js");e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},"./node_modules/lodash/_cloneRegExp.js":e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},"./node_modules/lodash/_cloneSymbol.js":(e,t,n)=>{var i=n("./node_modules/lodash/_Symbol.js"),o=i?i.prototype:void 0,r=o?o.valueOf:void 0;e.exports=function(e){return r?Object(r.call(e)):{}}},"./node_modules/lodash/_cloneTypedArray.js":(e,t,n)=>{var i=n("./node_modules/lodash/_cloneArrayBuffer.js");e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},"./node_modules/lodash/_compareAscending.js":(e,t,n)=>{var i=n("./node_modules/lodash/isSymbol.js");e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,r=e==e,s=i(e),a=void 0!==t,l=null===t,c=t==t,d=i(t);if(!l&&!d&&!s&&e>t||s&&a&&c&&!l&&!d||o&&a&&c||!n&&c||!r)return 1;if(!o&&!s&&!d&&e<t||d&&n&&r&&!o&&!s||l&&n&&r||!a&&r||!c)return-1}return 0}},"./node_modules/lodash/_compareMultiple.js":(e,t,n)=>{var i=n("./node_modules/lodash/_compareAscending.js");e.exports=function(e,t,n){for(var o=-1,r=e.criteria,s=t.criteria,a=r.length,l=n.length;++o<a;){var c=i(r[o],s[o]);if(c)return o>=l?c:c*("desc"==n[o]?-1:1)}return e.index-t.index}},"./node_modules/lodash/_copyArray.js":e=>{e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},"./node_modules/lodash/_copyObject.js":(e,t,n)=>{var i=n("./node_modules/lodash/_assignValue.js"),o=n("./node_modules/lodash/_baseAssignValue.js");e.exports=function(e,t,n,r){var s=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var c=t[a],d=r?r(n[c],e[c],c,n,e):void 0;void 0===d&&(d=e[c]),s?o(n,c,d):i(n,c,d)}return n}},"./node_modules/lodash/_copySymbols.js":(e,t,n)=>{var i=n("./node_modules/lodash/_copyObject.js"),o=n("./node_modules/lodash/_getSymbols.js");e.exports=function(e,t){return i(e,o(e),t)}},"./node_modules/lodash/_copySymbolsIn.js":(e,t,n)=>{var i=n("./node_modules/lodash/_copyObject.js"),o=n("./node_modules/lodash/_getSymbolsIn.js");e.exports=function(e,t){return i(e,o(e),t)}},"./node_modules/lodash/_coreJsData.js":(e,t,n)=>{var i=n("./node_modules/lodash/_root.js")["__core-js_shared__"];e.exports=i},"./node_modules/lodash/_createAssigner.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseRest.js"),o=n("./node_modules/lodash/_isIterateeCall.js");e.exports=function(e){return i(function(t,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(r--,s):void 0,a&&o(n[0],n[1],a)&&(s=r<3?void 0:s,r=1),t=Object(t);++i<r;){var l=n[i];l&&e(t,l,i,s)}return t})}},"./node_modules/lodash/_createBaseEach.js":(e,t,n)=>{var i=n("./node_modules/lodash/isArrayLike.js");e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!i(n))return e(n,o);for(var r=n.length,s=t?r:-1,a=Object(n);(t?s--:++s<r)&&!1!==o(a[s],s,a););return n}}},"./node_modules/lodash/_createBaseFor.js":e=>{e.exports=function(e){return function(t,n,i){for(var o=-1,r=Object(t),s=i(t),a=s.length;a--;){var l=s[e?a:++o];if(!1===n(r[l],l,r))break}return t}}},"./node_modules/lodash/_createFind.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseIteratee.js"),o=n("./node_modules/lodash/isArrayLike.js"),r=n("./node_modules/lodash/keys.js");e.exports=function(e){return function(t,n,s){var a=Object(t);if(!o(t)){var l=i(n,3);t=r(t),n=function(e){return l(a[e],e,a)}}var c=e(t,n,s);return c>-1?a[l?t[c]:c]:void 0}}},"./node_modules/lodash/_createRange.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseRange.js"),o=n("./node_modules/lodash/_isIterateeCall.js"),r=n("./node_modules/lodash/toFinite.js");e.exports=function(e){return function(t,n,s){return s&&"number"!=typeof s&&o(t,n,s)&&(n=s=void 0),t=r(t),void 0===n?(n=t,t=0):n=r(n),s=void 0===s?t<n?1:-1:r(s),i(t,n,s,e)}}},"./node_modules/lodash/_createSet.js":(e,t,n)=>{var i=n("./node_modules/lodash/_Set.js"),o=n("./node_modules/lodash/noop.js"),r=n("./node_modules/lodash/_setToArray.js"),s=i&&1/r(new i([,-0]))[1]==1/0?function(e){return new i(e)}:o;e.exports=s},"./node_modules/lodash/_defineProperty.js":(e,t,n)=>{var i=n("./node_modules/lodash/_getNative.js"),o=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},"./node_modules/lodash/_equalArrays.js":(e,t,n)=>{var i=n("./node_modules/lodash/_SetCache.js"),o=n("./node_modules/lodash/_arraySome.js"),r=n("./node_modules/lodash/_cacheHas.js");e.exports=function(e,t,n,s,a,l){var c=1&n,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var m=-1,f=!0,g=2&n?new i:void 0;for(l.set(e,t),l.set(t,e);++m<d;){var v=e[m],y=t[m];if(s)var b=c?s(y,v,m,t,e,l):s(v,y,m,e,t,l);if(void 0!==b){if(b)continue;f=!1;break}if(g){if(!o(t,function(e,t){if(!r(g,t)&&(v===e||a(v,e,n,s,l)))return g.push(t)})){f=!1;break}}else if(v!==y&&!a(v,y,n,s,l)){f=!1;break}}return l.delete(e),l.delete(t),f}},"./node_modules/lodash/_equalByTag.js":(e,t,n)=>{var i=n("./node_modules/lodash/_Symbol.js"),o=n("./node_modules/lodash/_Uint8Array.js"),r=n("./node_modules/lodash/eq.js"),s=n("./node_modules/lodash/_equalArrays.js"),a=n("./node_modules/lodash/_mapToArray.js"),l=n("./node_modules/lodash/_setToArray.js"),c=i?i.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,n,i,c,u,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=a;case"[object Set]":var m=1&i;if(h||(h=l),e.size!=t.size&&!m)return!1;var f=p.get(e);if(f)return f==t;i|=2,p.set(e,t);var g=s(h(e),h(t),i,c,u,p);return p.delete(e),g;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},"./node_modules/lodash/_equalObjects.js":(e,t,n)=>{var i=n("./node_modules/lodash/_getAllKeys.js"),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,r,s,a){var l=1&n,c=i(e),d=c.length;if(d!=i(t).length&&!l)return!1;for(var u=d;u--;){var p=c[u];if(!(l?p in t:o.call(t,p)))return!1}var h=a.get(e),m=a.get(t);if(h&&m)return h==t&&m==e;var f=!0;a.set(e,t),a.set(t,e);for(var g=l;++u<d;){var v=e[p=c[u]],y=t[p];if(r)var b=l?r(y,v,p,t,e,a):r(v,y,p,e,t,a);if(!(void 0===b?v===y||s(v,y,n,r,a):b)){f=!1;break}g||(g="constructor"==p)}if(f&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(f=!1)}return a.delete(e),a.delete(t),f}},"./node_modules/lodash/_flatRest.js":(e,t,n)=>{var i=n("./node_modules/lodash/flatten.js"),o=n("./node_modules/lodash/_overRest.js"),r=n("./node_modules/lodash/_setToString.js");e.exports=function(e){return r(o(e,void 0,i),e+"")}},"./node_modules/lodash/_freeGlobal.js":e=>{var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},"./node_modules/lodash/_getAllKeys.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseGetAllKeys.js"),o=n("./node_modules/lodash/_getSymbols.js"),r=n("./node_modules/lodash/keys.js");e.exports=function(e){return i(e,r,o)}},"./node_modules/lodash/_getAllKeysIn.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseGetAllKeys.js"),o=n("./node_modules/lodash/_getSymbolsIn.js"),r=n("./node_modules/lodash/keysIn.js");e.exports=function(e){return i(e,r,o)}},"./node_modules/lodash/_getMapData.js":(e,t,n)=>{var i=n("./node_modules/lodash/_isKeyable.js");e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},"./node_modules/lodash/_getMatchData.js":(e,t,n)=>{var i=n("./node_modules/lodash/_isStrictComparable.js"),o=n("./node_modules/lodash/keys.js");e.exports=function(e){for(var t=o(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,i(s)]}return t}},"./node_modules/lodash/_getNative.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseIsNative.js"),o=n("./node_modules/lodash/_getValue.js");e.exports=function(e,t){var n=o(e,t);return i(n)?n:void 0}},"./node_modules/lodash/_getPrototype.js":(e,t,n)=>{var i=n("./node_modules/lodash/_overArg.js")(Object.getPrototypeOf,Object);e.exports=i},"./node_modules/lodash/_getRawTag.js":(e,t,n)=>{var i=n("./node_modules/lodash/_Symbol.js"),o=Object.prototype,r=o.hasOwnProperty,s=o.toString,a=i?i.toStringTag:void 0;e.exports=function(e){var t=r.call(e,a),n=e[a];try{e[a]=void 0;var i=!0}catch(l){}var o=s.call(e);return i&&(t?e[a]=n:delete e[a]),o}},"./node_modules/lodash/_getSymbols.js":(e,t,n)=>{var i=n("./node_modules/lodash/_arrayFilter.js"),o=n("./node_modules/lodash/stubArray.js"),r=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),i(s(e),function(t){return r.call(e,t)}))}:o;e.exports=a},"./node_modules/lodash/_getSymbolsIn.js":(e,t,n)=>{var i=n("./node_modules/lodash/_arrayPush.js"),o=n("./node_modules/lodash/_getPrototype.js"),r=n("./node_modules/lodash/_getSymbols.js"),s=n("./node_modules/lodash/stubArray.js"),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,r(e)),e=o(e);return t}:s;e.exports=a},"./node_modules/lodash/_getTag.js":(e,t,n)=>{var i=n("./node_modules/lodash/_DataView.js"),o=n("./node_modules/lodash/_Map.js"),r=n("./node_modules/lodash/_Promise.js"),s=n("./node_modules/lodash/_Set.js"),a=n("./node_modules/lodash/_WeakMap.js"),l=n("./node_modules/lodash/_baseGetTag.js"),c=n("./node_modules/lodash/_toSource.js"),d="[object Map]",u="[object Promise]",p="[object Set]",h="[object WeakMap]",m="[object DataView]",f=c(i),g=c(o),v=c(r),y=c(s),b=c(a),x=l;(i&&x(new i(new ArrayBuffer(1)))!=m||o&&x(new o)!=d||r&&x(r.resolve())!=u||s&&x(new s)!=p||a&&x(new a)!=h)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,i=n?c(n):"";if(i)switch(i){case f:return m;case g:return d;case v:return u;case y:return p;case b:return h}return t}),e.exports=x},"./node_modules/lodash/_getValue.js":e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},"./node_modules/lodash/_hasPath.js":(e,t,n)=>{var i=n("./node_modules/lodash/_castPath.js"),o=n("./node_modules/lodash/isArguments.js"),r=n("./node_modules/lodash/isArray.js"),s=n("./node_modules/lodash/_isIndex.js"),a=n("./node_modules/lodash/isLength.js"),l=n("./node_modules/lodash/_toKey.js");e.exports=function(e,t,n){for(var c=-1,d=(t=i(t,e)).length,u=!1;++c<d;){var p=l(t[c]);if(!(u=null!=e&&n(e,p)))break;e=e[p]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&a(d)&&s(p,d)&&(r(e)||o(e))}},"./node_modules/lodash/_hasUnicode.js":e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},"./node_modules/lodash/_hashClear.js":(e,t,n)=>{var i=n("./node_modules/lodash/_nativeCreate.js");e.exports=function(){this.__data__=i?i(null):{},this.size=0}},"./node_modules/lodash/_hashDelete.js":e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},"./node_modules/lodash/_hashGet.js":(e,t,n)=>{var i=n("./node_modules/lodash/_nativeCreate.js"),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},"./node_modules/lodash/_hashHas.js":(e,t,n)=>{var i=n("./node_modules/lodash/_nativeCreate.js"),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:o.call(t,e)}},"./node_modules/lodash/_hashSet.js":(e,t,n)=>{var i=n("./node_modules/lodash/_nativeCreate.js");e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},"./node_modules/lodash/_initCloneArray.js":e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,i=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},"./node_modules/lodash/_initCloneByTag.js":(e,t,n)=>{var i=n("./node_modules/lodash/_cloneArrayBuffer.js"),o=n("./node_modules/lodash/_cloneDataView.js"),r=n("./node_modules/lodash/_cloneRegExp.js"),s=n("./node_modules/lodash/_cloneSymbol.js"),a=n("./node_modules/lodash/_cloneTypedArray.js");e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return r(e);case"[object Symbol]":return s(e)}}},"./node_modules/lodash/_initCloneObject.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseCreate.js"),o=n("./node_modules/lodash/_getPrototype.js"),r=n("./node_modules/lodash/_isPrototype.js");e.exports=function(e){return"function"!=typeof e.constructor||r(e)?{}:i(o(e))}},"./node_modules/lodash/_isFlattenable.js":(e,t,n)=>{var i=n("./node_modules/lodash/_Symbol.js"),o=n("./node_modules/lodash/isArguments.js"),r=n("./node_modules/lodash/isArray.js"),s=i?i.isConcatSpreadable:void 0;e.exports=function(e){return r(e)||o(e)||!!(s&&e&&e[s])}},"./node_modules/lodash/_isIndex.js":e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<n}},"./node_modules/lodash/_isIterateeCall.js":(e,t,n)=>{var i=n("./node_modules/lodash/eq.js"),o=n("./node_modules/lodash/isArrayLike.js"),r=n("./node_modules/lodash/_isIndex.js"),s=n("./node_modules/lodash/isObject.js");e.exports=function(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?o(n)&&r(t,n.length):"string"==a&&t in n)&&i(n[t],e)}},"./node_modules/lodash/_isKey.js":(e,t,n)=>{var i=n("./node_modules/lodash/isArray.js"),o=n("./node_modules/lodash/isSymbol.js"),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(s.test(e)||!r.test(e)||null!=t&&e in Object(t))}},"./node_modules/lodash/_isKeyable.js":e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},"./node_modules/lodash/_isMasked.js":(e,t,n)=>{var i,o=n("./node_modules/lodash/_coreJsData.js"),r=(i=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!r&&r in e}},"./node_modules/lodash/_isPrototype.js":e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},"./node_modules/lodash/_isStrictComparable.js":(e,t,n)=>{var i=n("./node_modules/lodash/isObject.js");e.exports=function(e){return e==e&&!i(e)}},"./node_modules/lodash/_listCacheClear.js":e=>{e.exports=function(){this.__data__=[],this.size=0}},"./node_modules/lodash/_listCacheDelete.js":(e,t,n)=>{var i=n("./node_modules/lodash/_assocIndexOf.js"),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},"./node_modules/lodash/_listCacheGet.js":(e,t,n)=>{var i=n("./node_modules/lodash/_assocIndexOf.js");e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},"./node_modules/lodash/_listCacheHas.js":(e,t,n)=>{var i=n("./node_modules/lodash/_assocIndexOf.js");e.exports=function(e){return i(this.__data__,e)>-1}},"./node_modules/lodash/_listCacheSet.js":(e,t,n)=>{var i=n("./node_modules/lodash/_assocIndexOf.js");e.exports=function(e,t){var n=this.__data__,o=i(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},"./node_modules/lodash/_mapCacheClear.js":(e,t,n)=>{var i=n("./node_modules/lodash/_Hash.js"),o=n("./node_modules/lodash/_ListCache.js"),r=n("./node_modules/lodash/_Map.js");e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(r||o),string:new i}}},"./node_modules/lodash/_mapCacheDelete.js":(e,t,n)=>{var i=n("./node_modules/lodash/_getMapData.js");e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},"./node_modules/lodash/_mapCacheGet.js":(e,t,n)=>{var i=n("./node_modules/lodash/_getMapData.js");e.exports=function(e){return i(this,e).get(e)}},"./node_modules/lodash/_mapCacheHas.js":(e,t,n)=>{var i=n("./node_modules/lodash/_getMapData.js");e.exports=function(e){return i(this,e).has(e)}},"./node_modules/lodash/_mapCacheSet.js":(e,t,n)=>{var i=n("./node_modules/lodash/_getMapData.js");e.exports=function(e,t){var n=i(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},"./node_modules/lodash/_mapToArray.js":e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}},"./node_modules/lodash/_matchesStrictComparable.js":e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},"./node_modules/lodash/_memoizeCapped.js":(e,t,n)=>{var i=n("./node_modules/lodash/memoize.js");e.exports=function(e){var t=i(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},"./node_modules/lodash/_nativeCreate.js":(e,t,n)=>{var i=n("./node_modules/lodash/_getNative.js")(Object,"create");e.exports=i},"./node_modules/lodash/_nativeKeys.js":(e,t,n)=>{var i=n("./node_modules/lodash/_overArg.js")(Object.keys,Object);e.exports=i},"./node_modules/lodash/_nativeKeysIn.js":e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},"./node_modules/lodash/_nodeUtil.js":(e,t,n)=>{e=n.nmd(e);var i=n("./node_modules/lodash/_freeGlobal.js"),o=t&&!t.nodeType&&t,r=o&&e&&!e.nodeType&&e,s=r&&r.exports===o&&i.process,a=function(){try{var e=r&&r.require&&r.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=a},"./node_modules/lodash/_objectToString.js":e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},"./node_modules/lodash/_overArg.js":e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},"./node_modules/lodash/_overRest.js":(e,t,n)=>{var i=n("./node_modules/lodash/_apply.js"),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var r=arguments,s=-1,a=o(r.length-t,0),l=Array(a);++s<a;)l[s]=r[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=r[s];return c[t]=n(l),i(e,this,c)}}},"./node_modules/lodash/_root.js":(e,t,n)=>{var i=n("./node_modules/lodash/_freeGlobal.js"),o="object"==typeof self&&self&&self.Object===Object&&self,r=i||o||Function("return this")();e.exports=r},"./node_modules/lodash/_safeGet.js":e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},"./node_modules/lodash/_setCacheAdd.js":e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},"./node_modules/lodash/_setCacheHas.js":e=>{e.exports=function(e){return this.__data__.has(e)}},"./node_modules/lodash/_setToArray.js":e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},"./node_modules/lodash/_setToString.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseSetToString.js"),o=n("./node_modules/lodash/_shortOut.js")(i);e.exports=o},"./node_modules/lodash/_shortOut.js":e=>{var t=Date.now;e.exports=function(e){var n=0,i=0;return function(){var o=t(),r=16-(o-i);if(i=o,r>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},"./node_modules/lodash/_stackClear.js":(e,t,n)=>{var i=n("./node_modules/lodash/_ListCache.js");e.exports=function(){this.__data__=new i,this.size=0}},"./node_modules/lodash/_stackDelete.js":e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},"./node_modules/lodash/_stackGet.js":e=>{e.exports=function(e){return this.__data__.get(e)}},"./node_modules/lodash/_stackHas.js":e=>{e.exports=function(e){return this.__data__.has(e)}},"./node_modules/lodash/_stackSet.js":(e,t,n)=>{var i=n("./node_modules/lodash/_ListCache.js"),o=n("./node_modules/lodash/_Map.js"),r=n("./node_modules/lodash/_MapCache.js");e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var s=n.__data__;if(!o||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new r(s)}return n.set(e,t),this.size=n.size,this}},"./node_modules/lodash/_strictIndexOf.js":e=>{e.exports=function(e,t,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return-1}},"./node_modules/lodash/_stringSize.js":(e,t,n)=>{var i=n("./node_modules/lodash/_asciiSize.js"),o=n("./node_modules/lodash/_hasUnicode.js"),r=n("./node_modules/lodash/_unicodeSize.js");e.exports=function(e){return o(e)?r(e):i(e)}},"./node_modules/lodash/_stringToPath.js":(e,t,n)=>{var i=n("./node_modules/lodash/_memoizeCapped.js"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=i(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,n,i,o){t.push(i?o.replace(r,"$1"):n||e)}),t});e.exports=s},"./node_modules/lodash/_toKey.js":(e,t,n)=>{var i=n("./node_modules/lodash/isSymbol.js");e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},"./node_modules/lodash/_toSource.js":e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},"./node_modules/lodash/_trimmedEndIndex.js":e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},"./node_modules/lodash/_unicodeSize.js":e=>{var t="\\ud800-\\udfff",n="["+t+"]",i="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",r="[^"+t+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+i+"|"+o+")"+"?",c="[\\ufe0e\\ufe0f]?",d=c+l+("(?:\\u200d(?:"+[r,s,a].join("|")+")"+c+l+")*"),u="(?:"+[r+i+"?",i,s,a,n].join("|")+")",p=RegExp(o+"(?="+o+")|"+u+d,"g");e.exports=function(e){for(var t=p.lastIndex=0;p.test(e);)++t;return t}},"./node_modules/lodash/clone.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseClone.js");e.exports=function(e){return i(e,4)}},"./node_modules/lodash/cloneDeep.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseClone.js");e.exports=function(e){return i(e,5)}},"./node_modules/lodash/constant.js":e=>{e.exports=function(e){return function(){return e}}},"./node_modules/lodash/defaults.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseRest.js"),o=n("./node_modules/lodash/eq.js"),r=n("./node_modules/lodash/_isIterateeCall.js"),s=n("./node_modules/lodash/keysIn.js"),a=Object.prototype,l=a.hasOwnProperty,c=i(function(e,t){e=Object(e);var n=-1,i=t.length,c=i>2?t[2]:void 0;for(c&&r(t[0],t[1],c)&&(i=1);++n<i;)for(var d=t[n],u=s(d),p=-1,h=u.length;++p<h;){var m=u[p],f=e[m];(void 0===f||o(f,a[m])&&!l.call(e,m))&&(e[m]=d[m])}return e});e.exports=c},"./node_modules/lodash/each.js":(e,t,n)=>{e.exports=n("./node_modules/lodash/forEach.js")},"./node_modules/lodash/eq.js":e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},"./node_modules/lodash/filter.js":(e,t,n)=>{var i=n("./node_modules/lodash/_arrayFilter.js"),o=n("./node_modules/lodash/_baseFilter.js"),r=n("./node_modules/lodash/_baseIteratee.js"),s=n("./node_modules/lodash/isArray.js");e.exports=function(e,t){return(s(e)?i:o)(e,r(t,3))}},"./node_modules/lodash/find.js":(e,t,n)=>{var i=n("./node_modules/lodash/_createFind.js")(n("./node_modules/lodash/findIndex.js"));e.exports=i},"./node_modules/lodash/findIndex.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseFindIndex.js"),o=n("./node_modules/lodash/_baseIteratee.js"),r=n("./node_modules/lodash/toInteger.js"),s=Math.max;e.exports=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var l=null==n?0:r(n);return l<0&&(l=s(a+l,0)),i(e,o(t,3),l)}},"./node_modules/lodash/flatten.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseFlatten.js");e.exports=function(e){return(null==e?0:e.length)?i(e,1):[]}},"./node_modules/lodash/forEach.js":(e,t,n)=>{var i=n("./node_modules/lodash/_arrayEach.js"),o=n("./node_modules/lodash/_baseEach.js"),r=n("./node_modules/lodash/_castFunction.js"),s=n("./node_modules/lodash/isArray.js");e.exports=function(e,t){return(s(e)?i:o)(e,r(t))}},"./node_modules/lodash/forIn.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseFor.js"),o=n("./node_modules/lodash/_castFunction.js"),r=n("./node_modules/lodash/keysIn.js");e.exports=function(e,t){return null==e?e:i(e,o(t),r)}},"./node_modules/lodash/get.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseGet.js");e.exports=function(e,t,n){var o=null==e?void 0:i(e,t);return void 0===o?n:o}},"./node_modules/lodash/has.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseHas.js"),o=n("./node_modules/lodash/_hasPath.js");e.exports=function(e,t){return null!=e&&o(e,t,i)}},"./node_modules/lodash/hasIn.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseHasIn.js"),o=n("./node_modules/lodash/_hasPath.js");e.exports=function(e,t){return null!=e&&o(e,t,i)}},"./node_modules/lodash/identity.js":e=>{e.exports=function(e){return e}},"./node_modules/lodash/isArguments.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseIsArguments.js"),o=n("./node_modules/lodash/isObjectLike.js"),r=Object.prototype,s=r.hasOwnProperty,a=r.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return o(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},"./node_modules/lodash/isArray.js":e=>{var t=Array.isArray;e.exports=t},"./node_modules/lodash/isArrayLike.js":(e,t,n)=>{var i=n("./node_modules/lodash/isFunction.js"),o=n("./node_modules/lodash/isLength.js");e.exports=function(e){return null!=e&&o(e.length)&&!i(e)}},"./node_modules/lodash/isArrayLikeObject.js":(e,t,n)=>{var i=n("./node_modules/lodash/isArrayLike.js"),o=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return o(e)&&i(e)}},"./node_modules/lodash/isBuffer.js":(e,t,n)=>{e=n.nmd(e);var i=n("./node_modules/lodash/_root.js"),o=n("./node_modules/lodash/stubFalse.js"),r=t&&!t.nodeType&&t,s=r&&e&&!e.nodeType&&e,a=s&&s.exports===r?i.Buffer:void 0,l=(a?a.isBuffer:void 0)||o;e.exports=l},"./node_modules/lodash/isEmpty.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseKeys.js"),o=n("./node_modules/lodash/_getTag.js"),r=n("./node_modules/lodash/isArguments.js"),s=n("./node_modules/lodash/isArray.js"),a=n("./node_modules/lodash/isArrayLike.js"),l=n("./node_modules/lodash/isBuffer.js"),c=n("./node_modules/lodash/_isPrototype.js"),d=n("./node_modules/lodash/isTypedArray.js"),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(a(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||d(e)||r(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!i(e).length;for(var n in e)if(u.call(e,n))return!1;return!0}},"./node_modules/lodash/isFunction.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/isObject.js");e.exports=function(e){if(!o(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},"./node_modules/lodash/isLength.js":e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},"./node_modules/lodash/isMap.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseIsMap.js"),o=n("./node_modules/lodash/_baseUnary.js"),r=n("./node_modules/lodash/_nodeUtil.js"),s=r&&r.isMap,a=s?o(s):i;e.exports=a},"./node_modules/lodash/isObject.js":e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},"./node_modules/lodash/isObjectLike.js":e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},"./node_modules/lodash/isPlainObject.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/_getPrototype.js"),r=n("./node_modules/lodash/isObjectLike.js"),s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!r(e)||"[object Object]"!=i(e))return!1;var t=o(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}},"./node_modules/lodash/isSet.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseIsSet.js"),o=n("./node_modules/lodash/_baseUnary.js"),r=n("./node_modules/lodash/_nodeUtil.js"),s=r&&r.isSet,a=s?o(s):i;e.exports=a},"./node_modules/lodash/isString.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/isArray.js"),r=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return"string"==typeof e||!o(e)&&r(e)&&"[object String]"==i(e)}},"./node_modules/lodash/isSymbol.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==i(e)}},"./node_modules/lodash/isTypedArray.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseIsTypedArray.js"),o=n("./node_modules/lodash/_baseUnary.js"),r=n("./node_modules/lodash/_nodeUtil.js"),s=r&&r.isTypedArray,a=s?o(s):i;e.exports=a},"./node_modules/lodash/isUndefined.js":e=>{e.exports=function(e){return void 0===e}},"./node_modules/lodash/keys.js":(e,t,n)=>{var i=n("./node_modules/lodash/_arrayLikeKeys.js"),o=n("./node_modules/lodash/_baseKeys.js"),r=n("./node_modules/lodash/isArrayLike.js");e.exports=function(e){return r(e)?i(e):o(e)}},"./node_modules/lodash/keysIn.js":(e,t,n)=>{var i=n("./node_modules/lodash/_arrayLikeKeys.js"),o=n("./node_modules/lodash/_baseKeysIn.js"),r=n("./node_modules/lodash/isArrayLike.js");e.exports=function(e){return r(e)?i(e,!0):o(e)}},"./node_modules/lodash/last.js":e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},"./node_modules/lodash/map.js":(e,t,n)=>{var i=n("./node_modules/lodash/_arrayMap.js"),o=n("./node_modules/lodash/_baseIteratee.js"),r=n("./node_modules/lodash/_baseMap.js"),s=n("./node_modules/lodash/isArray.js");e.exports=function(e,t){return(s(e)?i:r)(e,o(t,3))}},"./node_modules/lodash/mapValues.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseAssignValue.js"),o=n("./node_modules/lodash/_baseForOwn.js"),r=n("./node_modules/lodash/_baseIteratee.js");e.exports=function(e,t){var n={};return t=r(t,3),o(e,function(e,o,r){i(n,o,t(e,o,r))}),n}},"./node_modules/lodash/max.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseExtremum.js"),o=n("./node_modules/lodash/_baseGt.js"),r=n("./node_modules/lodash/identity.js");e.exports=function(e){return e&&e.length?i(e,r,o):void 0}},"./node_modules/lodash/memoize.js":(e,t,n)=>{var i=n("./node_modules/lodash/_MapCache.js");function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var s=e.apply(this,i);return n.cache=r.set(o,s)||r,s};return n.cache=new(o.Cache||i),n}o.Cache=i,e.exports=o},"./node_modules/lodash/merge.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseMerge.js"),o=n("./node_modules/lodash/_createAssigner.js")(function(e,t,n){i(e,t,n)});e.exports=o},"./node_modules/lodash/min.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseExtremum.js"),o=n("./node_modules/lodash/_baseLt.js"),r=n("./node_modules/lodash/identity.js");e.exports=function(e){return e&&e.length?i(e,r,o):void 0}},"./node_modules/lodash/minBy.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseExtremum.js"),o=n("./node_modules/lodash/_baseIteratee.js"),r=n("./node_modules/lodash/_baseLt.js");e.exports=function(e,t){return e&&e.length?i(e,o(t,2),r):void 0}},"./node_modules/lodash/noop.js":e=>{e.exports=function(){}},"./node_modules/lodash/now.js":(e,t,n)=>{var i=n("./node_modules/lodash/_root.js");e.exports=function(){return i.Date.now()}},"./node_modules/lodash/pick.js":(e,t,n)=>{var i=n("./node_modules/lodash/_basePick.js"),o=n("./node_modules/lodash/_flatRest.js")(function(e,t){return null==e?{}:i(e,t)});e.exports=o},"./node_modules/lodash/property.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseProperty.js"),o=n("./node_modules/lodash/_basePropertyDeep.js"),r=n("./node_modules/lodash/_isKey.js"),s=n("./node_modules/lodash/_toKey.js");e.exports=function(e){return r(e)?i(s(e)):o(e)}},"./node_modules/lodash/range.js":(e,t,n)=>{var i=n("./node_modules/lodash/_createRange.js")();e.exports=i},"./node_modules/lodash/reduce.js":(e,t,n)=>{var i=n("./node_modules/lodash/_arrayReduce.js"),o=n("./node_modules/lodash/_baseEach.js"),r=n("./node_modules/lodash/_baseIteratee.js"),s=n("./node_modules/lodash/_baseReduce.js"),a=n("./node_modules/lodash/isArray.js");e.exports=function(e,t,n){var l=a(e)?i:s,c=arguments.length<3;return l(e,r(t,4),n,c,o)}},"./node_modules/lodash/size.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseKeys.js"),o=n("./node_modules/lodash/_getTag.js"),r=n("./node_modules/lodash/isArrayLike.js"),s=n("./node_modules/lodash/isString.js"),a=n("./node_modules/lodash/_stringSize.js");e.exports=function(e){if(null==e)return 0;if(r(e))return s(e)?a(e):e.length;var t=o(e);return"[object Map]"==t||"[object Set]"==t?e.size:i(e).length}},"./node_modules/lodash/sortBy.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseFlatten.js"),o=n("./node_modules/lodash/_baseOrderBy.js"),r=n("./node_modules/lodash/_baseRest.js"),s=n("./node_modules/lodash/_isIterateeCall.js"),a=r(function(e,t){if(null==e)return[];var n=t.length;return n>1&&s(e,t[0],t[1])?t=[]:n>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),o(e,i(t,1),[])});e.exports=a},"./node_modules/lodash/stubArray.js":e=>{e.exports=function(){return[]}},"./node_modules/lodash/stubFalse.js":e=>{e.exports=function(){return!1}},"./node_modules/lodash/toFinite.js":(e,t,n)=>{var i=n("./node_modules/lodash/toNumber.js"),o=1/0;e.exports=function(e){return e?(e=i(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},"./node_modules/lodash/toInteger.js":(e,t,n)=>{var i=n("./node_modules/lodash/toFinite.js");e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},"./node_modules/lodash/toNumber.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseTrim.js"),o=n("./node_modules/lodash/isObject.js"),r=n("./node_modules/lodash/isSymbol.js"),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=a.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?NaN:+e}},"./node_modules/lodash/toPlainObject.js":(e,t,n)=>{var i=n("./node_modules/lodash/_copyObject.js"),o=n("./node_modules/lodash/keysIn.js");e.exports=function(e){return i(e,o(e))}},"./node_modules/lodash/toString.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseToString.js");e.exports=function(e){return null==e?"":i(e)}},"./node_modules/lodash/transform.js":(e,t,n)=>{var i=n("./node_modules/lodash/_arrayEach.js"),o=n("./node_modules/lodash/_baseCreate.js"),r=n("./node_modules/lodash/_baseForOwn.js"),s=n("./node_modules/lodash/_baseIteratee.js"),a=n("./node_modules/lodash/_getPrototype.js"),l=n("./node_modules/lodash/isArray.js"),c=n("./node_modules/lodash/isBuffer.js"),d=n("./node_modules/lodash/isFunction.js"),u=n("./node_modules/lodash/isObject.js"),p=n("./node_modules/lodash/isTypedArray.js");e.exports=function(e,t,n){var h=l(e),m=h||c(e)||p(e);if(t=s(t,4),null==n){var f=e&&e.constructor;n=m?h?new f:[]:u(e)&&d(f)?o(a(e)):{}}return(m?i:r)(e,function(e,i,o){return t(n,e,i,o)}),n}},"./node_modules/lodash/union.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseFlatten.js"),o=n("./node_modules/lodash/_baseRest.js"),r=n("./node_modules/lodash/_baseUniq.js"),s=n("./node_modules/lodash/isArrayLikeObject.js"),a=o(function(e){return r(i(e,1,s,!0))});e.exports=a},"./node_modules/lodash/uniqueId.js":(e,t,n)=>{var i=n("./node_modules/lodash/toString.js"),o=0;e.exports=function(e){var t=++o;return i(e)+t}},"./node_modules/lodash/values.js":(e,t,n)=>{var i=n("./node_modules/lodash/_baseValues.js"),o=n("./node_modules/lodash/keys.js");e.exports=function(e){return null==e?[]:i(e,o(e))}},"./node_modules/lodash/zipObject.js":(e,t,n)=>{var i=n("./node_modules/lodash/_assignValue.js"),o=n("./node_modules/lodash/_baseZipObject.js");e.exports=function(e,t){return o(e||[],t||[],i)}},"./node_modules/ngx-webcam/fesm2015/ngx-webcam.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{WebcamComponent:()=>d,WebcamImage:()=>l,WebcamInitError:()=>p,WebcamMirrorProperties:()=>h,WebcamModule:()=>u,WebcamUtil:()=>c});var i=n("./node_modules/@angular/core/fesm2015/core.js"),o=n("./node_modules/@angular/common/fesm2015/common.js");const r=["video"],s=["canvas"];function a(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",6),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().rotateVideoInput(!0)}),i["\u0275\u0275elementEnd"]()}}class l{constructor(e,t,n){this._mimeType=null,this._imageAsBase64=null,this._imageAsDataUrl=null,this._imageData=null,this._mimeType=t,this._imageAsDataUrl=e,this._imageData=n}static getDataFromDataUrl(e,t){return e.replace(`data:${t};base64,`,"")}get imageAsBase64(){return this._imageAsBase64?this._imageAsBase64:this._imageAsBase64=l.getDataFromDataUrl(this._imageAsDataUrl,this._mimeType)}get imageAsDataUrl(){return this._imageAsDataUrl}get imageData(){return this._imageData}}class c{static getAvailableVideoInputs(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?new Promise((e,t)=>{navigator.mediaDevices.enumerateDevices().then(t=>{e(t.filter(e=>"videoinput"===e.kind))}).catch(e=>{t(e.message||e)})}):Promise.reject("enumerateDevices() not supported.")}}class d{constructor(){this.width=640,this.height=480,this.videoOptions=d.DEFAULT_VIDEO_OPTIONS,this.allowCameraSwitch=!0,this.captureImageData=!1,this.imageType=d.DEFAULT_IMAGE_TYPE,this.imageQuality=d.DEFAULT_IMAGE_QUALITY,this.imageCapture=new i.EventEmitter,this.initError=new i.EventEmitter,this.imageClick=new i.EventEmitter,this.cameraSwitched=new i.EventEmitter,this.availableVideoInputs=[],this.videoInitialized=!1,this.activeVideoInputIndex=-1,this.mediaStream=null,this.activeVideoSettings=null}set trigger(e){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.triggerSubscription=e.subscribe(()=>{this.takeSnapshot()})}set switchCamera(e){this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe(),this.switchCameraSubscription=e.subscribe(e=>{"string"==typeof e?this.switchToVideoInput(e):this.rotateVideoInput(!1!==e)})}static getMediaConstraintsForDevice(e,t){const n=t||this.DEFAULT_VIDEO_OPTIONS;return e&&(n.deviceId={exact:e}),n}static getDeviceIdFromMediaStreamTrack(e){if(e.getSettings&&e.getSettings()&&e.getSettings().deviceId)return e.getSettings().deviceId;if(e.getConstraints&&e.getConstraints()&&e.getConstraints().deviceId){const t=e.getConstraints().deviceId;return d.getValueFromConstrainDOMString(t)}}static getFacingModeFromMediaStreamTrack(e){if(e){if(e.getSettings&&e.getSettings()&&e.getSettings().facingMode)return e.getSettings().facingMode;if(e.getConstraints&&e.getConstraints()&&e.getConstraints().facingMode){const t=e.getConstraints().facingMode;return d.getValueFromConstrainDOMString(t)}}}static isUserFacing(e){const t=d.getFacingModeFromMediaStreamTrack(e);return!!t&&"user"===t.toLowerCase()}static getValueFromConstrainDOMString(e){if(e){if(e instanceof String)return String(e);if(Array.isArray(e)&&Array(e).length>0)return String(e[0]);if("object"==typeof e){if(e.exact)return String(e.exact);if(e.ideal)return String(e.ideal)}}return null}ngAfterViewInit(){this.detectAvailableDevices().then(()=>{this.switchToVideoInput(null)}).catch(e=>{this.initError.next({message:e}),this.switchToVideoInput(null)})}ngOnDestroy(){this.stopMediaTracks(),this.unsubscribeFromSubscriptions()}takeSnapshot(){const e=this.nativeVideoElement,t={width:this.width,height:this.height};e.videoWidth&&(t.width=e.videoWidth,t.height=e.videoHeight);const n=this.canvas.nativeElement;n.width=t.width,n.height=t.height;const i=n.getContext("2d");i.drawImage(e,0,0);const o=this.imageType?this.imageType:d.DEFAULT_IMAGE_TYPE,r=this.imageQuality?this.imageQuality:d.DEFAULT_IMAGE_QUALITY,s=n.toDataURL(o,r);let a=null;this.captureImageData&&(a=i.getImageData(0,0,n.width,n.height)),this.imageCapture.next(new l(s,o,a))}rotateVideoInput(e){if(this.availableVideoInputs&&this.availableVideoInputs.length>1){const t=e?1:this.availableVideoInputs.length-1,n=(this.activeVideoInputIndex+t)%this.availableVideoInputs.length;this.switchToVideoInput(this.availableVideoInputs[n].deviceId)}}switchToVideoInput(e){this.videoInitialized=!1,this.stopMediaTracks(),this.initWebcam(e,this.videoOptions)}videoResize(){}get videoWidth(){const e=this.getVideoAspectRatio();return Math.min(this.width,this.height*e)}get videoHeight(){const e=this.getVideoAspectRatio();return Math.min(this.height,this.width/e)}get videoStyleClasses(){let e="";return this.isMirrorImage()&&(e+="mirrored "),e.trim()}get nativeVideoElement(){return this.video.nativeElement}getVideoAspectRatio(){const e=this.nativeVideoElement;return e.videoWidth&&e.videoWidth>0&&e.videoHeight&&e.videoHeight>0?e.videoWidth/e.videoHeight:this.width/this.height}initWebcam(e,t){const n=this.nativeVideoElement;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const i=d.getMediaConstraintsForDevice(e,t);navigator.mediaDevices.getUserMedia({video:i}).then(e=>{this.mediaStream=e,n.srcObject=e,n.play(),this.activeVideoSettings=e.getVideoTracks()[0].getSettings();const t=d.getDeviceIdFromMediaStreamTrack(e.getVideoTracks()[0]);this.cameraSwitched.next(t),this.detectAvailableDevices().then(()=>{this.activeVideoInputIndex=t?this.availableVideoInputs.findIndex(e=>e.deviceId===t):-1,this.videoInitialized=!0}).catch(()=>{this.activeVideoInputIndex=-1,this.videoInitialized=!0})}).catch(e=>{this.initError.next({message:e.message,mediaStreamError:e})})}else this.initError.next({message:"Cannot read UserMedia from MediaDevices."})}getActiveVideoTrack(){return this.mediaStream?this.mediaStream.getVideoTracks()[0]:null}isMirrorImage(){if(!this.getActiveVideoTrack())return!1;{let e="auto";switch(this.mirrorImage&&("string"==typeof this.mirrorImage?e=String(this.mirrorImage).toLowerCase():this.mirrorImage.x&&(e=this.mirrorImage.x.toLowerCase())),e){case"always":return!0;case"never":return!1}}return d.isUserFacing(this.getActiveVideoTrack())}stopMediaTracks(){this.mediaStream&&this.mediaStream.getTracks&&this.mediaStream.getTracks().forEach(e=>e.stop())}unsubscribeFromSubscriptions(){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe()}detectAvailableDevices(){return new Promise((e,t)=>{c.getAvailableVideoInputs().then(t=>{this.availableVideoInputs=t,e(t)}).catch(e=>{this.availableVideoInputs=[],t(e)})})}}d.\u0275fac=function(e){return new(e||d)},d.\u0275cmp=i["\u0275\u0275defineComponent"]({type:d,selectors:[["webcam"]],viewQuery:function(e,t){if(1&e&&(i["\u0275\u0275viewQuery"](r,7),i["\u0275\u0275viewQuery"](s,7)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.video=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.canvas=e.first)}},inputs:{width:"width",height:"height",videoOptions:"videoOptions",allowCameraSwitch:"allowCameraSwitch",captureImageData:"captureImageData",imageType:"imageType",imageQuality:"imageQuality",trigger:"trigger",switchCamera:"switchCamera",mirrorImage:"mirrorImage"},outputs:{imageCapture:"imageCapture",initError:"initError",imageClick:"imageClick",cameraSwitched:"cameraSwitched"},decls:6,vars:7,consts:[[1,"webcam-wrapper",3,"click"],["autoplay","","muted","","playsinline","",3,"width","height","resize"],["video",""],["class","camera-switch",3,"click",4,"ngIf"],[3,"width","height"],["canvas",""],[1,"camera-switch",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275listener"]("click",function(){return t.imageClick.next()}),i["\u0275\u0275elementStart"](1,"video",1,2),i["\u0275\u0275listener"]("resize",function(){return t.videoResize()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,a,1,0,"div",3),i["\u0275\u0275element"](4,"canvas",4,5),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275classMap"](t.videoStyleClasses),i["\u0275\u0275property"]("width",t.videoWidth)("height",t.videoHeight),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.allowCameraSwitch&&t.availableVideoInputs.length>1&&t.videoInitialized),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("width",t.width)("height",t.height))},directives:[o.NgIf],styles:['.webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;line-height:0;position:relative}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scaleX(-1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1);background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC");background-position:50%;background-repeat:no-repeat;background-size:80%;border-radius:5px;cursor:pointer;height:48px;position:absolute;right:13px;top:10px;transition:background-color .2s ease;width:48px}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.18)}']}),d.DEFAULT_VIDEO_OPTIONS={facingMode:"environment"},d.DEFAULT_IMAGE_TYPE="image/jpeg",d.DEFAULT_IMAGE_QUALITY=.92,d.propDecorators={width:[{type:i.Input}],height:[{type:i.Input}],videoOptions:[{type:i.Input}],allowCameraSwitch:[{type:i.Input}],mirrorImage:[{type:i.Input}],captureImageData:[{type:i.Input}],imageType:[{type:i.Input}],imageQuality:[{type:i.Input}],imageCapture:[{type:i.Output}],initError:[{type:i.Output}],imageClick:[{type:i.Output}],cameraSwitched:[{type:i.Output}],video:[{type:i.ViewChild,args:["video",{static:!0}]}],canvas:[{type:i.ViewChild,args:["canvas",{static:!0}]}],trigger:[{type:i.Input}],switchCamera:[{type:i.Input}]};class u{}u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=i["\u0275\u0275defineNgModule"]({type:u}),u.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[o.CommonModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](u,{declarations:function(){return[d]},imports:function(){return[o.CommonModule]},exports:function(){return[d]}});class p{constructor(){this.message=null,this.mediaStreamError=null}}class h{}},"./node_modules/numeral/numeral.js":function(e,t,n){var i,o;i=function(){var e,t,n,i,o,r="2.0.6",s={},a={},l={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},c={currentLocale:l.currentLocale,zeroFormat:l.zeroFormat,nullFormat:l.nullFormat,defaultFormat:l.defaultFormat,scalePercentBy100:l.scalePercentBy100};function d(e,t){this._input=e,this._value=t}return(e=function(n){var i,o,r,a;if(e.isNumeral(n))i=n.value();else if(0===n||void 0===n)i=0;else if(null===n||t.isNaN(n))i=null;else if("string"==typeof n)if(c.zeroFormat&&n===c.zeroFormat)i=0;else if(c.nullFormat&&n===c.nullFormat||!n.replace(/[^0-9]+/g,"").length)i=null;else{for(o in s)if((a="function"==typeof s[o].regexps.unformat?s[o].regexps.unformat():s[o].regexps.unformat)&&n.match(a)){r=s[o].unformat;break}i=(r=r||e._.stringToNumber)(n)}else i=Number(n)||null;return new d(n,i)}).version=r,e.isNumeral=function(e){return e instanceof d},e._=t={numberToFormat:function(t,n,i){var o,r,s,l,c,d,u,p=a[e.options.currentLocale],h=!1,m=!1,f=0,g="",v=1e12,y=1e9,b=1e6,x=1e3,w="",C=!1;if(t=t||0,r=Math.abs(t),e._.includes(n,"(")?(h=!0,n=n.replace(/[\(|\)]/g,"")):(e._.includes(n,"+")||e._.includes(n,"-"))&&(c=e._.includes(n,"+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),e._.includes(n,"a")&&(o=!!(o=n.match(/a(k|m|b|t)?/))&&o[1],e._.includes(n," a")&&(g=" "),n=n.replace(new RegExp(g+"a[kmbt]?"),""),r>=v&&!o||"t"===o?(g+=p.abbreviations.trillion,t/=v):r<v&&r>=y&&!o||"b"===o?(g+=p.abbreviations.billion,t/=y):r<y&&r>=b&&!o||"m"===o?(g+=p.abbreviations.million,t/=b):(r<b&&r>=x&&!o||"k"===o)&&(g+=p.abbreviations.thousand,t/=x)),e._.includes(n,"[.]")&&(m=!0,n=n.replace("[.]",".")),s=t.toString().split(".")[0],l=n.split(".")[1],d=n.indexOf(","),f=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,l?(e._.includes(l,"[")?(l=(l=l.replace("]","")).split("["),w=e._.toFixed(t,l[0].length+l[1].length,i,l[1].length)):w=e._.toFixed(t,l.length,i),s=w.split(".")[0],w=e._.includes(w,".")?p.delimiters.decimal+w.split(".")[1]:"",m&&0===Number(w.slice(1))&&(w="")):s=e._.toFixed(t,0,i),g&&!o&&Number(s)>=1e3&&g!==p.abbreviations.trillion)switch(s=String(Number(s)/1e3),g){case p.abbreviations.thousand:g=p.abbreviations.million;break;case p.abbreviations.million:g=p.abbreviations.billion;break;case p.abbreviations.billion:g=p.abbreviations.trillion}if(e._.includes(s,"-")&&(s=s.slice(1),C=!0),s.length<f)for(var _=f-s.length;_>0;_--)s="0"+s;return d>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p.delimiters.thousands)),0===n.indexOf(".")&&(s=""),u=s+w+(g||""),h?u=(h&&C?"(":"")+u+(h&&C?")":""):c>=0?u=0===c?(C?"-":"+")+u:u+(C?"-":"+"):C&&(u="-"+u),u},stringToNumber:function(e){var t,n,i,o=a[c.currentLocale],r=e,s={thousand:3,million:6,billion:9,trillion:12};if(c.zeroFormat&&e===c.zeroFormat)n=0;else if(c.nullFormat&&e===c.nullFormat||!e.replace(/[^0-9]+/g,"").length)n=null;else{for(t in n=1,"."!==o.delimiters.decimal&&(e=e.replace(/\./g,"").replace(o.delimiters.decimal,".")),s)if(i=new RegExp("[^a-zA-Z]"+o.abbreviations[t]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),r.match(i)){n*=Math.pow(10,s[t]);break}n*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),n*=Number(e)}return n},isNaN:function(e){return"number"==typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,n){return e.slice(0,n)+t+e.slice(n)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,i=Object(e),o=i.length>>>0,r=0;if(3===arguments.length)n=arguments[2];else{for(;r<o&&!(r in i);)r++;if(r>=o)throw new TypeError("Reduce of empty array with no initial value");n=i[r++]}for(;r<o;r++)r in i&&(n=t(n,i[r],r,i));return n},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(e,n){var i=t.multiplier(n);return e>i?e:i},1)},toFixed:function(e,t,n,i){var o,r,s,a,l=e.toString().split("."),c=t-(i||0);return o=2===l.length?Math.min(Math.max(l[1].length,c),t):c,s=Math.pow(10,o),a=(n(e+"e+"+o)/s).toFixed(o),i>t-o&&(r=new RegExp("\\.?0{1,"+(i-(t-o))+"}$"),a=a.replace(r,"")),a}},e.options=c,e.formats=s,e.locales=a,e.locale=function(e){return e&&(c.currentLocale=e.toLowerCase()),c.currentLocale},e.localeData=function(e){if(!e)return a[c.currentLocale];if(e=e.toLowerCase(),!a[e])throw new Error("Unknown locale : "+e);return a[e]},e.reset=function(){for(var e in l)c[e]=l[e]},e.zeroFormat=function(e){c.zeroFormat="string"==typeof e?e:null},e.nullFormat=function(e){c.nullFormat="string"==typeof e?e:null},e.defaultFormat=function(e){c.defaultFormat="string"==typeof e?e:"0.0"},e.register=function(e,t,n){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=n,n},e.validate=function(t,n){var i,o,r,s,a,l,c,d;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{c=e.localeData(n)}catch(u){c=e.localeData(e.locale())}return r=c.currency.symbol,a=c.abbreviations,i=c.delimiters.decimal,o="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,!(null!==(d=t.match(/^[^\d]+/))&&(t=t.substr(1),d[0]!==r)||null!==(d=t.match(/[^\d]+$/))&&(t=t.slice(0,-1),d[0]!==a.thousand&&d[0]!==a.million&&d[0]!==a.billion&&d[0]!==a.trillion)||(l=new RegExp(o+"{2}"),t.match(/[^\d.,]/g)||(s=t.split(i)).length>2||(s.length<2?!s[0].match(/^\d+.*\d$/)||s[0].match(l):1===s[0].length?!s[0].match(/^\d+$/)||s[0].match(l)||!s[1].match(/^\d+$/):!s[0].match(/^\d+.*\d$/)||s[0].match(l)||!s[1].match(/^\d+$/))))},e.fn=d.prototype={clone:function(){return e(this)},format:function(t,n){var i,o,r,a=this._value,l=t||c.defaultFormat;if(n=n||Math.round,0===a&&null!==c.zeroFormat)o=c.zeroFormat;else if(null===a&&null!==c.nullFormat)o=c.nullFormat;else{for(i in s)if(l.match(s[i].regexps.format)){r=s[i].format;break}o=(r=r||e._.numberToFormat)(a,l,n)}return o},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var n=t.correctionFactor.call(null,this._value,e);function i(e,t,i,o){return e+Math.round(n*t)}return this._value=t.reduce([this._value,e],i,0)/n,this},subtract:function(e){var n=t.correctionFactor.call(null,this._value,e);function i(e,t,i,o){return e-Math.round(n*t)}return this._value=t.reduce([e],i,Math.round(this._value*n))/n,this},multiply:function(e){function n(e,n,i,o){var r=t.correctionFactor(e,n);return Math.round(e*r)*Math.round(n*r)/Math.round(r*r)}return this._value=t.reduce([this._value,e],n,1),this},divide:function(e){function n(e,n,i,o){var r=t.correctionFactor(e,n);return Math.round(e*r)/Math.round(n*r)}return this._value=t.reduce([this._value,e],n),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,n,i){var o,r=e._.includes(n," BPS")?" ":"";return t*=1e4,n=n.replace(/\s?BPS/,""),o=e._.numberToFormat(t,n,i),e._.includes(o,")")?((o=o.split("")).splice(-1,0,r+"BPS"),o=o.join("")):o=o+r+"BPS",o},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}}),i={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},o="("+(o=(n={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(i.suffixes.filter(function(e){return n.suffixes.indexOf(e)<0})).join("|")).replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(o)},format:function(t,o,r){var s,a,l,c=e._.includes(o,"ib")?i:n,d=e._.includes(o," b")||e._.includes(o," ib")?" ":"";for(o=o.replace(/\s?i?b/,""),s=0;s<=c.suffixes.length;s++)if(a=Math.pow(c.base,s),l=Math.pow(c.base,s+1),null===t||0===t||t>=a&&t<l){d+=c.suffixes[s],a>0&&(t/=a);break}return e._.numberToFormat(t,o,r)+d},unformat:function(t){var o,r,s=e._.stringToNumber(t);if(s){for(o=n.suffixes.length-1;o>=0;o--){if(e._.includes(t,n.suffixes[o])){r=Math.pow(n.base,o);break}if(e._.includes(t,i.suffixes[o])){r=Math.pow(i.base,o);break}}s*=r||1}return s}}),e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,n,i){var o,r,s=e.locales[e.options.currentLocale],a={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),o=e._.numberToFormat(t,n,i),t>=0?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):t<0&&!e._.includes(a.before,"-")&&!e._.includes(a.before,"(")&&(a.before="-"+a.before),r=0;r<a.before.length;r++)switch(a.before[r]){case"$":o=e._.insert(o,s.currency.symbol,r);break;case" ":o=e._.insert(o," ",r+s.currency.symbol.length-1)}for(r=a.after.length-1;r>=0;r--)switch(a.after[r]){case"$":o=r===a.after.length-1?o+s.currency.symbol:e._.insert(o,s.currency.symbol,-(a.after.length-(1+r)));break;case" ":o=r===a.after.length-1?o+" ":e._.insert(o," ",-(a.after.length-(1+r)+s.currency.symbol.length-1))}return o}}),e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,n,i){var o=("number"!=typeof t||e._.isNaN(t)?"0e+0":t.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),e._.numberToFormat(Number(o[0]),n,i)+"e"+o[1]},unformat:function(t){var n=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),i=Number(n[0]),o=Number(n[1]);function r(t,n,i,o){var r=e._.correctionFactor(t,n);return t*r*(n*r)/(r*r)}return o=e._.includes(t,"e-")?o*=-1:o,e._.reduce([i,Math.pow(10,o)],r,1)}}),e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,n,i){var o=e.locales[e.options.currentLocale],r=e._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),r+=o.ordinal(t),e._.numberToFormat(t,n,i)+r}}),e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,n,i){var o,r=e._.includes(n," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),n=n.replace(/\s?\%/,""),o=e._.numberToFormat(t,n,i),e._.includes(o,")")?((o=o.split("")).splice(-1,0,r+"%"),o=o.join("")):o=o+r+"%",o},unformat:function(t){var n=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*n:n}}),e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,n){var i=Math.floor(e/60/60),o=Math.floor((e-60*i*60)/60),r=Math.round(e-60*i*60-60*o);return i+":"+(o<10?"0"+o:o)+":"+(r<10?"0"+r:r)},unformat:function(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}}),e},void 0===(o="function"==typeof i?i.call(t,n,t,e):i)||(e.exports=o)},"./node_modules/transformation-matrix/build-es/applyToPoint.js":(e,t,n)=>{"use strict";function i(e,t){return Array.isArray(t)?[e.a*t[0]+e.c*t[1]+e.e,e.b*t[0]+e.d*t[1]+e.f]:{x:e.a*t.x+e.c*t.y+e.e,y:e.b*t.x+e.d*t.y+e.f}}function o(e,t){return t.map(function(t){return i(e,t)})}n.r(t),n.d(t,{applyToPoint:()=>i,applyToPoints:()=>o})},"./node_modules/transformation-matrix/build-es/fromObject.js":(e,t,n)=>{"use strict";function i(e){return{a:parseFloat(e.a),b:parseFloat(e.b),c:parseFloat(e.c),d:parseFloat(e.d),e:parseFloat(e.e),f:parseFloat(e.f)}}n.r(t),n.d(t,{fromObject:()=>i})},"./node_modules/transformation-matrix/build-es/fromString.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromString:()=>o});var i=/^matrix\(\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*\)$/i;function o(e){var t=e.match(i);if(null===t||t.length<7)throw new Error("'"+e+"' is not a matrix");return{a:parseFloat(t[1]),b:parseFloat(t[2]),c:parseFloat(t[3]),d:parseFloat(t[4]),e:parseFloat(t[5]),f:parseFloat(t[6])}}},"./node_modules/transformation-matrix/build-es/fromTriangles.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromTriangles:()=>s});var i=n("./node_modules/transformation-matrix/build-es/inverse.js"),o=n("./node_modules/transformation-matrix/build-es/transform.js"),r=n("./node_modules/transformation-matrix/build-es/smoothMatrix.js");function s(e,t){var n=null!=e[0].x?e[0].x:e[0][0],s=null!=e[0].y?e[0].y:e[0][1],a=null!=t[0].x?t[0].x:t[0][0],l=null!=t[0].y?t[0].y:t[0][1],c=null!=e[1].x?e[1].x:e[1][0],d=null!=e[1].y?e[1].y:e[1][1],u=null!=t[1].x?t[1].x:t[1][0],p=null!=t[1].y?t[1].y:t[1][1],h=null!=e[2].x?e[2].x:e[2][0],m=null!=e[2].y?e[2].y:e[2][1],f=null!=t[2].x?t[2].x:t[2][0],g=null!=t[2].y?t[2].y:t[2][1],v={a:n-h,b:s-m,c:c-h,d:d-m,e:h,f:m},y={a:a-f,b:l-g,c:u-f,d:p-g,e:f,f:g},b=(0,i.inverse)(v),x=(0,o.transform)([y,b]);return(0,r.smoothMatrix)(x)}},"./node_modules/transformation-matrix/build-es/identity.js":(e,t,n)=>{"use strict";function i(){return{a:1,c:0,e:0,b:0,d:1,f:0}}n.r(t),n.d(t,{identity:()=>i})},"./node_modules/transformation-matrix/build-es/index.js":(e,t,n)=>{"use strict";n.r(t);var i=n("./node_modules/transformation-matrix/build-es/applyToPoint.js"),o={};for(const b in i)"default"!==b&&(o[b]=()=>i[b]);n.d(t,o);var r=n("./node_modules/transformation-matrix/build-es/fromObject.js");o={};for(const b in r)"default"!==b&&(o[b]=()=>r[b]);n.d(t,o);var s=n("./node_modules/transformation-matrix/build-es/fromString.js");o={};for(const b in s)"default"!==b&&(o[b]=()=>s[b]);n.d(t,o);var a=n("./node_modules/transformation-matrix/build-es/identity.js");o={};for(const b in a)"default"!==b&&(o[b]=()=>a[b]);n.d(t,o);var l=n("./node_modules/transformation-matrix/build-es/inverse.js");o={};for(const b in l)"default"!==b&&(o[b]=()=>l[b]);n.d(t,o);var c=n("./node_modules/transformation-matrix/build-es/isAffineMatrix.js");o={};for(const b in c)"default"!==b&&(o[b]=()=>c[b]);n.d(t,o);var d=n("./node_modules/transformation-matrix/build-es/rotate.js");o={};for(const b in d)"default"!==b&&(o[b]=()=>d[b]);n.d(t,o);var u=n("./node_modules/transformation-matrix/build-es/scale.js");o={};for(const b in u)"default"!==b&&(o[b]=()=>u[b]);n.d(t,o);var p=n("./node_modules/transformation-matrix/build-es/shear.js");o={};for(const b in p)"default"!==b&&(o[b]=()=>p[b]);n.d(t,o);var h=n("./node_modules/transformation-matrix/build-es/skew.js");o={};for(const b in h)"default"!==b&&(o[b]=()=>h[b]);n.d(t,o);var m=n("./node_modules/transformation-matrix/build-es/toString.js");o={};for(const b in m)"default"!==b&&(o[b]=()=>m[b]);n.d(t,o);var f=n("./node_modules/transformation-matrix/build-es/transform.js");o={};for(const b in f)"default"!==b&&(o[b]=()=>f[b]);n.d(t,o);var g=n("./node_modules/transformation-matrix/build-es/translate.js");o={};for(const b in g)"default"!==b&&(o[b]=()=>g[b]);n.d(t,o);var v=n("./node_modules/transformation-matrix/build-es/fromTriangles.js");o={};for(const b in v)"default"!==b&&(o[b]=()=>v[b]);n.d(t,o);var y=n("./node_modules/transformation-matrix/build-es/smoothMatrix.js");o={};for(const b in y)"default"!==b&&(o[b]=()=>y[b]);n.d(t,o)},"./node_modules/transformation-matrix/build-es/inverse.js":(e,t,n)=>{"use strict";function i(e){var t=e.a,n=e.b,i=e.c,o=e.d,r=e.e,s=e.f,a=t*o-n*i;return{a:o/a,b:n/-a,c:i/-a,d:t/a,e:(o*r-i*s)/-a,f:(n*r-t*s)/a}}n.r(t),n.d(t,{inverse:()=>i})},"./node_modules/transformation-matrix/build-es/isAffineMatrix.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{isAffineMatrix:()=>s});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)},r=function(e){return null!=e&&"object"===(void 0===e?"undefined":i(e))};function s(e){return r(e)&&e.hasOwnProperty("a")&&o(e.a)&&e.hasOwnProperty("b")&&o(e.b)&&e.hasOwnProperty("c")&&o(e.c)&&e.hasOwnProperty("d")&&o(e.d)&&e.hasOwnProperty("e")&&o(e.e)&&e.hasOwnProperty("f")&&o(e.f)}},"./node_modules/transformation-matrix/build-es/rotate.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{rotate:()=>c,rotateDEG:()=>d});var i=n("./node_modules/transformation-matrix/build-es/utils.js"),o=n("./node_modules/transformation-matrix/build-es/translate.js"),r=n("./node_modules/transformation-matrix/build-es/transform.js"),s=Math.cos,a=Math.sin,l=Math.PI;function c(e,t,n){var l=s(e),c=a(e),d={a:l,c:-c,e:0,b:c,d:l,f:0};return(0,i.isUndefined)(t)||(0,i.isUndefined)(n)?d:(0,r.transform)([(0,o.translate)(t,n),d,(0,o.translate)(-t,-n)])}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return c(e*l/180,t,n)}},"./node_modules/transformation-matrix/build-es/scale.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{scale:()=>o});var i=n("./node_modules/transformation-matrix/build-es/utils.js");function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,i.isUndefined)(t)&&(t=e),{a:e,c:0,e:0,b:0,d:t,f:0}}},"./node_modules/transformation-matrix/build-es/shear.js":(e,t,n)=>{"use strict";function i(e,t){return{a:1,c:e,e:0,b:t,d:1,f:0}}n.r(t),n.d(t,{shear:()=>i})},"./node_modules/transformation-matrix/build-es/skew.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{skew:()=>o,skewDEG:()=>r});var i=Math.tan;function o(e,t){return{a:1,c:i(e),e:0,b:i(t),d:1,f:0}}function r(e,t){return o(e*Math.PI/180,t*Math.PI/180)}},"./node_modules/transformation-matrix/build-es/smoothMatrix.js":(e,t,n)=>{"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e10;return{a:Math.round(e.a*t)/t,b:Math.round(e.b*t)/t,c:Math.round(e.c*t)/t,d:Math.round(e.d*t)/t,e:Math.round(e.e*t)/t,f:Math.round(e.f*t)/t}}n.r(t),n.d(t,{smoothMatrix:()=>i})},"./node_modules/transformation-matrix/build-es/toString.js":(e,t,n)=>{"use strict";function i(e){return r(e)}function o(e){return r(e)}function r(e){return"matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")"}n.r(t),n.d(t,{toCSS:()=>i,toSVG:()=>o,toString:()=>r})},"./node_modules/transformation-matrix/build-es/transform.js":(e,t,n)=>{"use strict";function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o,r=function(e,t){return{a:e.a*t.a+e.c*t.b,c:e.a*t.c+e.c*t.d,e:e.a*t.e+e.c*t.f+e.e,b:e.b*t.a+e.d*t.b,d:e.b*t.c+e.d*t.d,f:e.b*t.e+e.d*t.f+e.f}};switch((t=Array.isArray(t[0])?t[0]:t).length){case 0:throw new Error("no matrices provided");case 1:return t[0];case 2:return r(t[0],t[1]);default:var s=(o=t,Array.isArray(o)?o:Array.from(o)),a=s[0],l=s[1],c=s.slice(2),d=r(a,l);return i.apply(void 0,[d].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(c)))}}function o(){return i.apply(void 0,arguments)}n.r(t),n.d(t,{transform:()=>i,compose:()=>o})},"./node_modules/transformation-matrix/build-es/translate.js":(e,t,n)=>{"use strict";function i(e){return{a:1,c:0,e:e,b:0,d:1,f:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}}n.r(t),n.d(t,{translate:()=>i})},"./node_modules/transformation-matrix/build-es/utils.js":(e,t,n)=>{"use strict";function i(e){return void 0===e}n.r(t),n.d(t,{isUndefined:()=>i})},"./node_modules/webcola/dist/index.js":(e,t,n)=>{"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n("./node_modules/webcola/dist/src/adaptor.js")),i(n("./node_modules/webcola/dist/src/d3adaptor.js")),i(n("./node_modules/webcola/dist/src/descent.js")),i(n("./node_modules/webcola/dist/src/geom.js")),i(n("./node_modules/webcola/dist/src/gridrouter.js")),i(n("./node_modules/webcola/dist/src/handledisconnected.js")),i(n("./node_modules/webcola/dist/src/layout.js")),i(n("./node_modules/webcola/dist/src/layout3d.js")),i(n("./node_modules/webcola/dist/src/linklengths.js")),i(n("./node_modules/webcola/dist/src/powergraph.js")),i(n("./node_modules/webcola/dist/src/pqueue.js")),i(n("./node_modules/webcola/dist/src/rbtree.js")),i(n("./node_modules/webcola/dist/src/rectangle.js")),i(n("./node_modules/webcola/dist/src/shortestpaths.js")),i(n("./node_modules/webcola/dist/src/vpsc.js")),i(n("./node_modules/webcola/dist/src/batch.js"))},"./node_modules/webcola/dist/src/adaptor.js":function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/webcola/dist/src/layout.js"),s=function(e){function t(t){var n=e.call(this)||this,i=t;return i.trigger&&(n.trigger=i.trigger),i.kick&&(n.kick=i.kick),i.drag&&(n.drag=i.drag),i.on&&(n.on=i.on),n.dragstart=n.dragStart=r.Layout.dragStart,n.dragend=n.dragEnd=r.Layout.dragEnd,n}return o(t,e),t.prototype.trigger=function(e){},t.prototype.kick=function(){},t.prototype.drag=function(){},t.prototype.on=function(e,t){return this},t}(r.Layout);t.LayoutAdaptor=s,t.adaptor=function(e){return new s(e)}},"./node_modules/webcola/dist/src/batch.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/webcola/dist/src/layout.js"),o=n("./node_modules/webcola/dist/src/gridrouter.js");t.gridify=function(e,t,n,i){return e.cola.start(0,0,0,10,!1),function(e,t,n,i){e.forEach(function(e){e.routerNode={name:e.name,bounds:e.bounds.inflate(-n)}}),t.forEach(function(t){t.routerNode={bounds:t.bounds.inflate(-i),children:(void 0!==t.groups?t.groups.map(function(t){return e.length+t.id}):[]).concat(void 0!==t.leaves?t.leaves.map(function(e){return e.index}):[])}});var r=e.concat(t).map(function(e,t){return e.routerNode.id=t,e.routerNode});return new o.GridRouter(r,{getChildren:function(e){return e.children},getBounds:function(e){return e.bounds}},n-i)}(e.cola.nodes(),e.cola.groups(),n,i).routeEdges(e.powerGraph.powerEdges,t,function(e){return e.source.routerNode.id},function(e){return e.target.routerNode.id})},t.powerGraphGridLayout=function(e,t,n){var o;e.nodes.forEach(function(e,t){return e.index=t}),(new i.Layout).avoidOverlaps(!1).nodes(e.nodes).links(e.links).powerGraphGroups(function(e){(o=e).groups.forEach(function(e){return e.padding=n})});var r=e.nodes.length,s=[],a=e.nodes.slice(0);return a.forEach(function(e,t){return e.index=t}),o.groups.forEach(function(e){var t=e.index=e.id+r;a.push(e),void 0!==e.leaves&&e.leaves.forEach(function(e){return s.push({source:t,target:e.index})}),void 0!==e.groups&&e.groups.forEach(function(e){return s.push({source:t,target:e.id+r})})}),o.powerEdges.forEach(function(e){s.push({source:e.source.index,target:e.target.index})}),(new i.Layout).size(t).nodes(a).links(s).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new i.Layout).convergenceThreshold(.001).size(t).avoidOverlaps(!0).nodes(e.nodes).links(e.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(e){(o=e).groups.forEach(function(e){e.padding=n})}).start(50,0,100,0,!1),powerGraph:o}}},"./node_modules/webcola/dist/src/d3adaptor.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/webcola/dist/src/d3v3adaptor.js"),o=n("./node_modules/webcola/dist/src/d3v4adaptor.js");t.d3adaptor=function(e){return!e||function(e){var t=/^3\./;return e.version&&null!==e.version.match(t)}(e)?new i.D3StyleLayoutAdaptor:new o.D3StyleLayoutAdaptor(e)}},"./node_modules/webcola/dist/src/d3v3adaptor.js":function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/webcola/dist/src/layout.js"),s=function(e){function t(){var t=e.call(this)||this;t.event=d3.dispatch(r.EventType[r.EventType.start],r.EventType[r.EventType.tick],r.EventType[r.EventType.end]);var n=t;return t.drag=function(){if(!e)var e=d3.behavior.drag().origin(r.Layout.dragOrigin).on("dragstart.d3adaptor",r.Layout.dragStart).on("drag.d3adaptor",function(e){r.Layout.drag(e,d3.event),n.resume()}).on("dragend.d3adaptor",r.Layout.dragEnd);if(!arguments.length)return e;this.call(e)},t}return o(t,e),t.prototype.trigger=function(e){var t={type:r.EventType[e.type],alpha:e.alpha,stress:e.stress};this.event[t.type](t)},t.prototype.kick=function(){var t=this;d3.timer(function(){return e.prototype.tick.call(t)})},t.prototype.on=function(e,t){return"string"==typeof e?this.event.on(e,t):this.event.on(r.EventType[e],t),this},t}(r.Layout);t.D3StyleLayoutAdaptor=s,t.d3adaptor=function(){return new s}},"./node_modules/webcola/dist/src/d3v4adaptor.js":function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/webcola/dist/src/layout.js"),s=function(e){function t(t){var n=e.call(this)||this;n.d3Context=t,n.event=t.dispatch(r.EventType[r.EventType.start],r.EventType[r.EventType.tick],r.EventType[r.EventType.end]);var i=n;return n.drag=function(){if(!e)var e=t.drag().subject(r.Layout.dragOrigin).on("start.d3adaptor",r.Layout.dragStart).on("drag.d3adaptor",function(e){r.Layout.drag(e,t.event),i.resume()}).on("end.d3adaptor",r.Layout.dragEnd);if(!arguments.length)return e;arguments[0].call(e)},n}return o(t,e),t.prototype.trigger=function(e){var t={type:r.EventType[e.type],alpha:e.alpha,stress:e.stress};this.event.call(t.type,t)},t.prototype.kick=function(){var t=this,n=this.d3Context.timer(function(){return e.prototype.tick.call(t)&&n.stop()})},t.prototype.on=function(e,t){return"string"==typeof e?this.event.on(e,t):this.event.on(r.EventType[e],t),this},t}(r.Layout);t.D3StyleLayoutAdaptor=s},"./node_modules/webcola/dist/src/descent.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.locks={}}return e.prototype.add=function(e,t){this.locks[e]=t},e.prototype.clear=function(){this.locks={}},e.prototype.isEmpty=function(){for(var e in this.locks)return!1;return!0},e.prototype.apply=function(e){for(var t in this.locks)e(Number(t),this.locks[t])},e}();t.Locks=n;var i=function(){function e(e,t,i){void 0===i&&(i=null),this.D=t,this.G=i,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new o,this.project=null,this.x=e,this.k=e.length;var r=this.n=e[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new n,this.minD=Number.MAX_VALUE;for(var s,a=r;a--;)for(s=r;--s>a;){var l=t[a][s];l>0&&l<this.minD&&(this.minD=l)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),a=this.k;a--;){for(this.g[a]=new Array(r),this.H[a]=new Array(r),s=r;s--;)this.H[a][s]=new Array(r);this.Hd[a]=new Array(r),this.a[a]=new Array(r),this.b[a]=new Array(r),this.c[a]=new Array(r),this.d[a]=new Array(r),this.e[a]=new Array(r),this.ia[a]=new Array(r),this.ib[a]=new Array(r),this.xtmp[a]=new Array(r)}}return e.createSquareMatrix=function(e,t){for(var n=new Array(e),i=0;i<e;++i){n[i]=new Array(e);for(var o=0;o<e;++o)n[i][o]=t(i,o)}return n},e.prototype.offsetDir=function(){for(var e=this,t=new Array(this.k),n=0,i=0;i<this.k;++i){var o=t[i]=this.random.getNextBetween(.01,1)-.5;n+=o*o}return n=Math.sqrt(n),t.map(function(t){return t*(e.minD/n)})},e.prototype.computeDerivatives=function(e){var t=this,n=this.n;if(!(n<1)){for(var i,o=new Array(this.k),r=new Array(this.k),s=new Array(this.k),a=0,l=0;l<n;++l){for(i=0;i<this.k;++i)s[i]=this.g[i][l]=0;for(var c=0;c<n;++c)if(l!==c){for(var d=n;d--;){var u=0;for(i=0;i<this.k;++i){var p=o[i]=e[i][l]-e[i][c];u+=r[i]=p*p}if(u>1e-9)break;var h=this.offsetDir();for(i=0;i<this.k;++i)e[i][c]+=h[i]}var m=Math.sqrt(u),f=this.D[l][c],g=null!=this.G?this.G[l][c]:1;if(g>1&&m>f||!isFinite(f))for(i=0;i<this.k;++i)this.H[i][l][c]=0;else{g>1&&(g=1);var v=f*f,y=2*g*(m-f)/(v*m),b=m*m*m,x=2*-g/(v*b);for(isFinite(y)||console.log(y),i=0;i<this.k;++i)this.g[i][l]+=o[i]*y,s[i]-=this.H[i][l][c]=x*(b+f*(r[i]-u)+m*u)}}for(i=0;i<this.k;++i)a=Math.max(a,this.H[i][l][l]=s[i])}var w=this.snapGridSize/2,C=this.snapGridSize,_=this.snapStrength/(w*w),S=this.numGridSnapNodes;for(l=0;l<S;++l)for(i=0;i<this.k;++i){var I=this.x[i][l],A=I/C,E=A%1,D=A-E;-w<(p=Math.abs(E)<=.5?I-D*C:I>0?I-(D+1)*C:I-(D-1)*C)&&p<=w&&(this.scaleSnapByMaxH?(this.g[i][l]+=a*_*p,this.H[i][l][l]+=a*_):(this.g[i][l]+=_*p,this.H[i][l][l]+=_))}this.locks.isEmpty()||this.locks.apply(function(n,o){for(i=0;i<t.k;++i)t.H[i][n][n]+=a,t.g[i][n]-=a*(o[i]-e[i][n])})}},e.dotProd=function(e,t){for(var n=0,i=e.length;i--;)n+=e[i]*t[i];return n},e.rightMultiply=function(t,n,i){for(var o=t.length;o--;)i[o]=e.dotProd(t[o],n)},e.prototype.computeStepSize=function(t){for(var n=0,i=0,o=0;o<this.k;++o)n+=e.dotProd(this.g[o],t[o]),e.rightMultiply(this.H[o],t[o],this.Hd[o]),i+=e.dotProd(t[o],this.Hd[o]);return 0!==i&&isFinite(i)?1*n/i:0},e.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var e=this.computeStepSize(this.g),t=0;t<this.k;++t)this.takeDescentStep(this.x[t],this.g[t],e);return this.computeStress()},e.copy=function(e,t){for(var n=e.length,i=t[0].length,o=0;o<n;++o)for(var r=0;r<i;++r)t[o][r]=e[o][r]},e.prototype.stepAndProject=function(t,n,i,o){e.copy(t,n),this.takeDescentStep(n[0],i[0],o),this.project&&this.project[0](t[0],t[1],n[0]),this.takeDescentStep(n[1],i[1],o),this.project&&this.project[1](n[0],t[1],n[1]);for(var r=2;r<this.k;r++)this.takeDescentStep(n[r],i[r],o)},e.mApply=function(e,t,n){for(var i=e;i-- >0;)for(var o=t;o-- >0;)n(i,o)},e.prototype.matrixApply=function(t){e.mApply(this.k,this.n,t)},e.prototype.computeNextPosition=function(e,t){var n=this;this.computeDerivatives(e);var i=this.computeStepSize(this.g);if(this.stepAndProject(e,t,this.g,i),this.project){this.matrixApply(function(i,o){return n.e[i][o]=e[i][o]-t[i][o]});var o=this.computeStepSize(this.e);o=Math.max(.2,Math.min(o,1)),this.stepAndProject(e,t,this.e,o)}},e.prototype.run=function(e){for(var t=Number.MAX_VALUE,n=!1;!n&&e-- >0;){var i=this.rungeKutta();n=Math.abs(t/i-1)<this.threshold,t=i}return t},e.prototype.rungeKutta=function(){var t=this;this.computeNextPosition(this.x,this.a),e.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),e.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var n=0;return this.matrixApply(function(e,i){var o=(t.a[e][i]+2*t.b[e][i]+2*t.c[e][i]+t.d[e][i])/6,r=t.x[e][i]-o;n+=r*r,t.x[e][i]=o}),n},e.mid=function(t,n,i){e.mApply(t.length,t[0].length,function(e,o){return i[e][o]=t[e][o]+(n[e][o]-t[e][o])/2})},e.prototype.takeDescentStep=function(e,t,n){for(var i=0;i<this.n;++i)e[i]=e[i]-n*t[i]},e.prototype.computeStress=function(){for(var e=0,t=0,n=this.n-1;t<n;++t)for(var i=t+1,o=this.n;i<o;++i){for(var r=0,s=0;s<this.k;++s){var a=this.x[s][t]-this.x[s][i];r+=a*a}r=Math.sqrt(r);var l=this.D[t][i];if(isFinite(l)){var c=l-r;e+=c*c/(l*l)}}return e},e.zeroDistance=1e-10,e}();t.Descent=i;var o=function(){function e(e){void 0===e&&(e=1),this.seed=e,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return e.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},e.prototype.getNextBetween=function(e,t){return e+this.getNext()*(t-e)},e}();t.PseudoRandom=o},"./node_modules/webcola/dist/src/geom.js":function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/webcola/dist/src/rectangle.js"),s=function(){};t.Point=s;var a=function(e,t,n,i){this.x1=e,this.y1=t,this.x2=n,this.y2=i};t.LineSegment=a;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(s);function c(e,t,n){return(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y)}function d(e,t,n){return c(e,t,n)>0}function u(e,t,n){return c(e,t,n)<0}function p(e,t){var n,i,o,r,s=t.length-1;if(u(e,t[1],t[0])&&!d(e,t[s-1],t[0]))return 0;for(n=0,i=s;;){if(i-n==1)return d(e,t[n],t[i])?n:i;if((r=u(e,t[(o=Math.floor((n+i)/2))+1],t[o]))&&!d(e,t[o-1],t[o]))return o;d(e,t[n+1],t[n])?r||d(e,t[n],t[o])?i=o:n=o:r&&u(e,t[n],t[o])?i=o:n=o}}function h(e,t){var n,i,o,r,s=t.length-1;if(d(e,t[s-1],t[0])&&!u(e,t[1],t[0]))return 0;for(n=0,i=s;;){if(i-n==1)return u(e,t[n],t[i])?n:i;if(r=u(e,t[(o=Math.floor((n+i)/2))+1],t[o]),d(e,t[o-1],t[o])&&!r)return o;u(e,t[n+1],t[n])?r?u(e,t[n],t[o])?i=o:n=o:i=o:r?n=o:d(e,t[n],t[o])?i=o:n=o}}function m(e,t,n,i,o,r){var s,a;a=i(e[s=n(t[0],e)],t);for(var l=!1;!l;){for(l=!0;s===e.length-1&&(s=0),!o(t[a],e[s],e[s+1]);)++s;for(;0===a&&(a=t.length-1),!r(e[s],t[a],t[a-1]);)--a,l=!1}return{t1:s,t2:a}}function f(e,t){return m(e,t,p,h,d,u)}t.PolyPoint=l,t.isLeft=c,t.ConvexHull=function(e){var t,n=e.slice(0).sort(function(e,t){return e.x!==t.x?t.x-e.x:t.y-e.y}),i=e.length,o=n[0].x;for(t=1;t<i&&n[t].x===o;++t);var r=t-1,s=[];if(s.push(n[0]),r===i-1)n[r].y!==n[0].y&&s.push(n[r]);else{var a,l=i-1,d=n[i-1].x;for(t=i-2;t>=0&&n[t].x===d;t--);for(a=t+1,t=r;++t<=a;)if(!(c(n[0],n[a],n[t])>=0&&t<a)){for(;s.length>1&&!(c(s[s.length-2],s[s.length-1],n[t])>0);)s.length-=1;0!=t&&s.push(n[t])}l!=a&&s.push(n[l]);var u=s.length;for(t=a;--t>=r;)if(!(c(n[l],n[r],n[t])>=0&&t>r)){for(;s.length>u&&!(c(s[s.length-2],s[s.length-1],n[t])>0);)s.length-=1;0!=t&&s.push(n[t])}}return s},t.clockwiseRadialSweep=function(e,t,n){t.slice(0).sort(function(t,n){return Math.atan2(t.y-e.y,t.x-e.x)-Math.atan2(n.y-e.y,n.x-e.x)}).forEach(n)},t.tangent_PolyPolyC=m,t.LRtangent_PolyPolyC=function(e,t){var n=f(t,e);return{t1:n.t2,t2:n.t1}},t.RLtangent_PolyPolyC=f,t.LLtangent_PolyPolyC=function(e,t){return m(e,t,h,h,u,u)},t.RRtangent_PolyPolyC=function(e,t){return m(e,t,p,p,d,d)};var g=function(e,t){this.t1=e,this.t2=t};t.BiTangent=g;var v=function(){};t.BiTangents=v;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(s);t.TVGPoint=y;var b=function(e,t,n,i){this.id=e,this.polyid=t,this.polyvertid=n,this.p=i,i.vv=this};t.VisibilityVertex=b;var x=function(){function e(e,t){this.source=e,this.target=t}return e.prototype.length=function(){var e=this.source.p.x-this.target.p.x,t=this.source.p.y-this.target.p.y;return Math.sqrt(e*e+t*t)},e}();t.VisibilityEdge=x;var w=function(){function e(e,t){if(this.P=e,this.V=[],this.E=[],t)this.V=t.V.slice(0),this.E=t.E.slice(0);else{for(var n=e.length,i=0;i<n;i++){for(var o=e[i],r=0;r<o.length;++r){var s=o[r],a=new b(this.V.length,i,r,s);this.V.push(a),r>0&&this.E.push(new x(o[r-1].vv,a))}o.length>1&&this.E.push(new x(o[0].vv,o[o.length-1].vv))}for(i=0;i<n-1;i++){var l=e[i];for(r=i+1;r<n;r++){var c=e[r],d=_(l,c);for(var u in d){var p=d[u],h=l[p.t1],m=c[p.t2];this.addEdgeIfVisible(h,m,i,r)}}}}}return e.prototype.addEdgeIfVisible=function(e,t,n,i){this.intersectsPolys(new a(e.x,e.y,t.x,t.y),n,i)||this.E.push(new x(e.vv,t.vv))},e.prototype.addPoint=function(e,t){var n,i,o,r=this.P.length;this.V.push(new b(this.V.length,r,0,e));for(var s=0;s<r;++s)if(s!==t){var a=this.P[s],l=(n=e,o=void 0,(o=(i=a).slice(0)).push(i[0]),{rtan:p(n,o),ltan:h(n,o)});this.addEdgeIfVisible(e,a[l.ltan],t,s),this.addEdgeIfVisible(e,a[l.rtan],t,s)}return e.vv},e.prototype.intersectsPolys=function(e,t,n){for(var i=0,o=this.P.length;i<o;++i)if(i!=t&&i!=n&&C(e,this.P[i]).length>0)return!0;return!1},e}();function C(e,t){for(var n=[],i=1,o=t.length;i<o;++i){var s=r.Rectangle.lineIntersection(e.x1,e.y1,e.x2,e.y2,t[i-1].x,t[i-1].y,t[i].x,t[i].y);s&&n.push(s)}return n}function _(e,t){for(var n=e.length-1,i=t.length-1,o=new v,r=0;r<n;++r)for(var s=0;s<i;++s){var a=e[0==r?n-1:r-1],l=e[r],d=e[r+1],u=t[0==s?i-1:s-1],p=t[s],h=t[s+1],m=c(a,l,p),f=c(l,u,p),y=c(l,p,h),b=c(u,p,l),x=c(p,a,l),w=c(p,l,d);m>=0&&f>=0&&y<0&&b>=0&&x>=0&&w<0?o.ll=new g(r,s):m<=0&&f<=0&&y>0&&b<=0&&x<=0&&w>0?o.rr=new g(r,s):m<=0&&f>0&&y<=0&&b>=0&&x<0&&w>=0?o.rl=new g(r,s):m>=0&&f<0&&y>=0&&b<=0&&x>0&&w<=0&&(o.lr=new g(r,s))}return o}function S(e,t){return!e.every(function(e){return!function(e,t){for(var n=1,i=t.length;n<i;++n)if(u(t[n-1],t[n],e))return!1;return!0}(e,t)})}t.TangentVisibilityGraph=w,t.tangents=_,t.polysOverlap=function(e,t){if(S(e,t))return!0;if(S(t,e))return!0;for(var n=1,i=e.length;n<i;++n){var o=e[n],r=e[n-1];if(C(new a(r.x,r.y,o.x,o.y),t).length>0)return!0}return!1}},"./node_modules/webcola/dist/src/gridrouter.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/webcola/dist/src/rectangle.js"),o=n("./node_modules/webcola/dist/src/vpsc.js"),r=n("./node_modules/webcola/dist/src/shortestpaths.js"),s=function(e,t,n){this.id=e,this.rect=t,this.children=n,this.leaf=void 0===n||0===n.length};t.NodeWrapper=s;var a=function(e,t,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null),this.id=e,this.x=t,this.y=n,this.node=i,this.line=o};t.Vert=a;var l=function(){function e(t,n){this.s=t,this.t=n;var i=e.findMatch(t,n),o=n.slice(0).reverse(),r=e.findMatch(t,o);i.length>=r.length?(this.length=i.length,this.si=i.si,this.ti=i.ti,this.reversed=!1):(this.length=r.length,this.si=r.si,this.ti=n.length-r.ti-r.length,this.reversed=!0)}return e.findMatch=function(e,t){for(var n=e.length,i=t.length,o={length:0,si:-1,ti:-1},r=new Array(n),s=0;s<n;s++){r[s]=new Array(i);for(var a=0;a<i;a++)if(e[s]===t[a]){var l=r[s][a]=0===s||0===a?1:r[s-1][a-1]+1;l>o.length&&(o.length=l,o.si=s-l+1,o.ti=a-l+1)}else r[s][a]=0}return o},e.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},e}();t.LongestCommonSubsequence=l;var c=function(){function e(e,t,n){var o=this;void 0===n&&(n=12),this.originalnodes=e,this.groupPadding=n,this.leaves=null,this.nodes=e.map(function(e,n){return new s(n,t.getBounds(e),t.getChildren(e))}),this.leaves=this.nodes.filter(function(e){return e.leaf}),this.groups=this.nodes.filter(function(e){return!e.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(e){return e.children.forEach(function(t){return o.nodes[t].parent=e})}),this.root={children:[]},this.nodes.forEach(function(e){void 0===e.parent&&(e.parent=o.root,o.root.children.push(e.id)),e.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(e,t){return o.getDepth(e)-o.getDepth(t)}),this.backToFront.slice(0).reverse().filter(function(e){return!e.leaf}).forEach(function(e){var t=i.Rectangle.empty();e.children.forEach(function(e){return t=t.union(o.nodes[e].rect)}),e.rect=t.inflate(o.groupPadding)});var r=this.midPoints(this.cols.map(function(e){return e.pos})),l=this.midPoints(this.rows.map(function(e){return e.pos})),c=r[0],d=r[r.length-1],u=l[0],p=l[l.length-1],h=this.rows.map(function(e){return{x1:c,x2:d,y1:e.pos,y2:e.pos}}).concat(l.map(function(e){return{x1:c,x2:d,y1:e,y2:e}})),m=this.cols.map(function(e){return{x1:e.pos,x2:e.pos,y1:u,y2:p}}).concat(r.map(function(e){return{x1:e,x2:e,y1:u,y2:p}})),f=h.concat(m);f.forEach(function(e){return e.verts=[]}),this.verts=[],this.edges=[],h.forEach(function(e){return m.forEach(function(t){var n=new a(o.verts.length,t.x1,e.y1);e.verts.push(n),t.verts.push(n),o.verts.push(n);for(var i=o.backToFront.length;i-- >0;){var r=o.backToFront[i],s=r.rect,l=Math.abs(n.x-s.cx()),c=Math.abs(n.y-s.cy());if(l<s.width()/2&&c<s.height()/2){n.node=r;break}}})}),f.forEach(function(e,t){o.nodes.forEach(function(t,n){t.rect.lineIntersections(e.x1,e.y1,e.x2,e.y2).forEach(function(n,i){var r=new a(o.verts.length,n.x,n.y,t,e);o.verts.push(r),e.verts.push(r),t.ports.push(r)})});var n=Math.abs(e.y1-e.y2)<.1,i=function(e,t){return n?t.x-e.x:t.y-e.y};e.verts.sort(i);for(var r=1;r<e.verts.length;r++){var s=e.verts[r-1],l=e.verts[r];s.node&&s.node===l.node&&s.node.leaf||o.edges.push({source:s.id,target:l.id,length:Math.abs(i(s,l))})}})}return e.prototype.avg=function(e){return e.reduce(function(e,t){return e+t})/e.length},e.prototype.getGridLines=function(e){for(var t=[],n=this.leaves.slice(0,this.leaves.length);n.length>0;){var i=n.filter(function(t){return t.rect["overlap"+e.toUpperCase()](n[0].rect)}),o={nodes:i,pos:this.avg(i.map(function(t){return t.rect["c"+e]()}))};t.push(o),o.nodes.forEach(function(e){return n.splice(n.indexOf(e),1)})}return t.sort(function(e,t){return e.pos-t.pos}),t},e.prototype.getDepth=function(e){for(var t=0;e.parent!==this.root;)t++,e=e.parent;return t},e.prototype.midPoints=function(e){for(var t=e[1]-e[0],n=[e[0]-t/2],i=1;i<e.length;i++)n.push((e[i]+e[i-1])/2);return n.push(e[e.length-1]+t/2),n},e.prototype.findLineage=function(e){var t=[e];do{e=e.parent,t.push(e)}while(e!==this.root);return t.reverse()},e.prototype.findAncestorPathBetween=function(e,t){for(var n=this.findLineage(e),i=this.findLineage(t),o=0;n[o]===i[o];)o++;return{commonAncestor:n[o-1],lineages:n.slice(o).concat(i.slice(o))}},e.prototype.siblingObstacles=function(e,t){var n=this,i=this.findAncestorPathBetween(e,t),o={};i.lineages.forEach(function(e){return o[e.id]={}});var r=i.commonAncestor.children.filter(function(e){return!(e in o)});return i.lineages.filter(function(e){return e.parent!==i.commonAncestor}).forEach(function(e){return r=r.concat(e.parent.children.filter(function(t){return t!==e.id}))}),r.map(function(e){return n.nodes[e]})},e.getSegmentSets=function(e,t,n){for(var i=[],o=0;o<e.length;o++)for(var r=e[o],s=0;s<r.length;s++){(u=r[s]).edgeid=o,u.i=s;var a=u[1][t]-u[0][t];Math.abs(a)<.1&&i.push(u)}i.sort(function(e,n){return e[0][t]-n[0][t]});for(var l=[],c=null,d=0;d<i.length;d++){var u=i[d];(!c||Math.abs(u[0][t]-c.pos)>.1)&&(c={pos:u[0][t],segments:[]},l.push(c)),c.segments.push(u)}return l},e.nudgeSegs=function(e,t,n,i,r,s){var a=i.length;if(!(a<=1)){for(var l=i.map(function(t){return new o.Variable(t[0][e])}),c=[],d=0;d<a;d++)for(var u=0;u<a;u++)if(d!==u){var p=i[d],h=i[u],m=p.edgeid,f=h.edgeid,g=-1,v=-1;"x"==e?r(m,f)&&(p[0][t]<p[1][t]?(g=u,v=d):(g=d,v=u)):r(m,f)&&(p[0][t]<p[1][t]?(g=d,v=u):(g=u,v=d)),g>=0&&c.push(new o.Constraint(l[g],l[v],s))}new o.Solver(l,c).solve(),l.forEach(function(t,o){var r=i[o],s=t.position();r[0][e]=r[1][e]=s;var a=n[r.edgeid];r.i>0&&(a[r.i-1][1][e]=s),r.i<a.length-1&&(a[r.i+1][0][e]=s)})}},e.nudgeSegments=function(t,n,i,o,r){for(var s=e.getSegmentSets(t,n,i),a=0;a<s.length;a++){for(var l=s[a],c=[],d=0;d<l.segments.length;d++){var u=l.segments[d];c.push({type:0,s:u,pos:Math.min(u[0][i],u[1][i])}),c.push({type:1,s:u,pos:Math.max(u[0][i],u[1][i])})}c.sort(function(e,t){return e.pos-t.pos+e.type-t.type});var p=[],h=0;c.forEach(function(s){0===s.type?(p.push(s.s),h++):h--,0==h&&(e.nudgeSegs(n,i,t,p,o,r),p=[])})}},e.prototype.routeEdges=function(t,n,i,o){var r=this,s=t.map(function(e){return r.route(i(e),o(e))}),a=e.orderEdges(s),l=s.map(function(t){return e.makeSegments(t)});return e.nudgeSegments(l,"x","y",a,n),e.nudgeSegments(l,"y","x",a,n),e.unreverseEdges(l,s),l},e.unreverseEdges=function(e,t){e.forEach(function(e,n){t[n].reversed&&(e.reverse(),e.forEach(function(e){e.reverse()}))})},e.angleBetween2Lines=function(e,t){var n=Math.atan2(e[0].y-e[1].y,e[0].x-e[1].x),i=Math.atan2(t[0].y-t[1].y,t[0].x-t[1].x),o=n-i;return(o>Math.PI||o<-Math.PI)&&(o=i-n),o},e.isLeft=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)<=0},e.getOrder=function(e){for(var t={},n=0;n<e.length;n++){var i=e[n];void 0===t[i.l]&&(t[i.l]={}),t[i.l][i.r]=!0}return function(e,n){return void 0!==t[e]&&t[e][n]}},e.orderEdges=function(t){for(var n=[],i=0;i<t.length-1;i++)for(var o=i+1;o<t.length;o++){var r,s,a,c=t[i],d=t[o],u=new l(c,d);0!==u.length&&(u.reversed&&(d.reverse(),d.reversed=!0,u=new l(c,d)),(u.si<=0||u.ti<=0)&&(u.si+u.length>=c.length||u.ti+u.length>=d.length)?n.push({l:i,r:o}):(u.si+u.length>=c.length||u.ti+u.length>=d.length?(r=c[u.si+1],a=c[u.si-1],s=d[u.ti-1]):(r=c[u.si+u.length-2],s=c[u.si+u.length],a=d[u.ti+u.length]),e.isLeft(r,s,a)?n.push({l:o,r:i}):n.push({l:i,r:o})))}return e.getOrder(n)},e.makeSegments=function(e){function t(e){return{x:e.x,y:e.y}}for(var n=function(e,t,n){return Math.abs((t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x))<.001},i=[],o=t(e[0]),r=1;r<e.length;r++){var s=t(e[r]),a=r<e.length-1?e[r+1]:null;a&&n(o,s,a)||(i.push([o,s]),o=s)}return i},e.prototype.route=function(e,t){var n=this,i=this.nodes[e],o=this.nodes[t];this.obstacles=this.siblingObstacles(i,o);var s={};this.obstacles.forEach(function(e){return s[e.id]=e}),this.passableEdges=this.edges.filter(function(e){var t=n.verts[e.source],i=n.verts[e.target];return!(t.node&&t.node.id in s||i.node&&i.node.id in s)});for(var a=1;a<i.ports.length;a++){var l=i.ports[0].id,c=i.ports[a].id;this.passableEdges.push({source:l,target:c,length:0})}for(a=1;a<o.ports.length;a++){l=o.ports[0].id,c=o.ports[a].id;this.passableEdges.push({source:l,target:c,length:0})}var d=new r.Calculator(this.verts.length,this.passableEdges,function(e){return e.source},function(e){return e.target},function(e){return e.length}).PathFromNodeToNodeWithPrevCost(i.ports[0].id,o.ports[0].id,function(e,t,r){var s=n.verts[e],a=n.verts[t],l=n.verts[r],c=Math.abs(l.x-s.x),d=Math.abs(l.y-s.y);return s.node===i&&s.node===a.node||a.node===o&&a.node===l.node?0:c>1&&d>1?1e3:0}),u=d.reverse().map(function(e){return n.verts[e]});return u.push(this.nodes[o.id].ports[0]),u.filter(function(e,t){return!(t<u.length-1&&u[t+1].node===i&&e.node===i||t>0&&e.node===o&&u[t-1].node===o)})},e.getRoutePath=function(t,n,i,o){var r={routepath:"M "+t[0][0].x+" "+t[0][0].y+" ",arrowpath:""};if(t.length>1)for(var s=0;s<t.length;s++){var a=(x=t[s])[1].x,l=x[1].y,c=a-x[0].x,d=l-x[0].y;if(s<t.length-1){Math.abs(c)>0?a-=c/Math.abs(c)*n:l-=d/Math.abs(d)*n,r.routepath+="L "+a+" "+l+" ";var u=t[s+1],p=u[0].x,h=u[0].y;c=u[1].x-p,d=u[1].y-h;var m,f,g=e.angleBetween2Lines(x,u)<0?1:0;Math.abs(c)>0?(m=p+c/Math.abs(c)*n,f=h):(m=p,f=h+d/Math.abs(d)*n);var v=Math.abs(m-a),y=Math.abs(f-l);r.routepath+="A "+v+" "+y+" 0 0 "+g+" "+m+" "+f+" "}else{var b=[a,l];Math.abs(c)>0?(w=[a-=c/Math.abs(c)*o,l+i],C=[a,l-i]):(w=[a+i,l-=d/Math.abs(d)*o],C=[a-i,l]),r.routepath+="L "+a+" "+l+" ",o>0&&(r.arrowpath="M "+b[0]+" "+b[1]+" L "+w[0]+" "+w[1]+" L "+C[0]+" "+C[1])}}else{var x,w,C;a=(x=t[0])[1].x,l=x[1].y,c=a-x[0].x,d=l-x[0].y,b=[a,l];Math.abs(c)>0?(w=[a-=c/Math.abs(c)*o,l+i],C=[a,l-i]):(w=[a+i,l-=d/Math.abs(d)*o],C=[a-i,l]),r.routepath+="L "+a+" "+l+" ",o>0&&(r.arrowpath="M "+b[0]+" "+b[1]+" L "+w[0]+" "+w[1]+" L "+C[0]+" "+C[1])}return r},e}();t.GridRouter=c},"./node_modules/webcola/dist/src/handledisconnected.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=10,i=(1+Math.sqrt(5))/2,o=1e-4;t.applyPacking=function(e,t,r,s,a,l){void 0===a&&(a=1),void 0===l&&(l=!0);var c=0,d=0,u=t,p=r,h=(a=void 0!==a?a:1,s=void 0!==s?s:0,0),m=0,f=0,g=0,v=[];function y(e,t){v=[],h=0,m=0,g=d;for(var n=0;n<e.length;n++){b(e[n],t)}return Math.abs(h/m-a)}function b(e,t){for(var i=void 0,r=0;r<v.length;r++)if(v[r].space_left>=e.height&&v[r].x+v[r].width+e.width+n-t<=o){i=v[r];break}v.push(e),void 0!==i?(e.x=i.x+i.width+n,e.y=i.bottom,e.space_left=e.height,e.bottom=e.y,i.space_left-=e.height+n,i.bottom+=e.height+n):(e.y=g,g+=e.height+n,e.x=c,e.bottom=e.y,e.space_left=e.height),e.y+e.height-m>-o&&(m=e.y+e.height-d),e.x+e.width-h>-o&&(h=e.x+e.width-c)}0!=e.length&&(function(e){e.forEach(function(e){var t,n,i,o,r;t=e,n=Number.MAX_VALUE,i=Number.MAX_VALUE,o=0,r=0,t.array.forEach(function(e){var t=void 0!==e.width?e.width:s,a=void 0!==e.height?e.height:s;t/=2,a/=2,o=Math.max(e.x+t,o),n=Math.min(e.x-t,n),r=Math.max(e.y+a,r),i=Math.min(e.y-a,i)}),t.width=o-n,t.height=r-i})}(e),function(e,t){var r=Number.POSITIVE_INFINITY,s=0;e.sort(function(e,t){return t.height-e.height}),f=e.reduce(function(e,t){return e.width<t.width?e.width:t.width});var a=g=f,l=v=function(e){var t=0;return e.forEach(function(e){return t+=e.width+n}),t}(e),c=0,d=Number.MAX_VALUE,u=Number.MAX_VALUE,p=-1,h=Number.MAX_VALUE,m=Number.MAX_VALUE;for(;h>f||m>o;){if(1!=p){var g=l-(l-a)/i;d=y(e,g)}if(0!=p){var v=a+(l-a)/i;u=y(e,v)}if(h=Math.abs(g-v),m=Math.abs(d-u),d<r&&(r=d,s=g),u<r&&(r=u,s=v),d>u?(a=g,g=v,d=u,p=1):(l=v,v=g,u=d,p=0),c++>100)break}y(e,s)}(e),l&&function(e){e.forEach(function(e){var t={x:0,y:0};e.array.forEach(function(e){t.x+=e.x,t.y+=e.y}),t.x/=e.array.length,t.y/=e.array.length;var n={x:t.x-e.width/2,y:t.y-e.height/2},i={x:e.x-n.x+u/2-h/2,y:e.y-n.y+p/2-m/2};e.array.forEach(function(e){e.x+=i.x,e.y+=i.y})})}(e))},t.separateGraphs=function(e,t){for(var n={},i={},o=[],r=0,s=0;s<t.length;s++){var a=t[s],l=a.source,c=a.target;i[l.index]?i[l.index].push(c):i[l.index]=[c],i[c.index]?i[c.index].push(l):i[c.index]=[l]}for(s=0;s<e.length;s++){var d=e[s];n[d.index]||u(d,!0)}function u(e,t){if(void 0===n[e.index]){t&&(r++,o.push({array:[]})),n[e.index]=r,o[r-1].array.push(e);var s=i[e.index];if(s)for(var a=0;a<s.length;a++)u(s[a],!1)}}return o}},"./node_modules/webcola/dist/src/layout.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./node_modules/webcola/dist/src/powergraph.js"),r=n("./node_modules/webcola/dist/src/linklengths.js"),s=n("./node_modules/webcola/dist/src/descent.js"),a=n("./node_modules/webcola/dist/src/rectangle.js"),l=n("./node_modules/webcola/dist/src/shortestpaths.js"),c=n("./node_modules/webcola/dist/src/geom.js"),d=n("./node_modules/webcola/dist/src/handledisconnected.js");function u(e){return void 0!==e.leaves||void 0!==e.groups}!function(e){e[e.start=0]="start",e[e.tick=1]="tick",e[e.end=2]="end"}(i=t.EventType||(t.EventType={}));var p=function(){function e(){var t=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:e.getSourceIndex,getTargetIndex:e.getTargetIndex,setLength:e.setLinkLength,getType:function(e){return"function"==typeof t._linkType?t._linkType(e):0}}}return e.prototype.on=function(e,t){return this.event||(this.event={}),"string"==typeof e?this.event[i[e]]=t:this.event[e]=t,this},e.prototype.trigger=function(e){this.event&&void 0!==this.event[e.type]&&this.event[e.type](e)},e.prototype.kick=function(){for(;!this.tick(););},e.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:i.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var e,t,n=this._nodes.length;this._links.length;for(this._descent.locks.clear(),t=0;t<n;++t)if((e=this._nodes[t]).fixed){void 0!==e.px&&void 0!==e.py||(e.px=e.x,e.py=e.y);var o=[e.px,e.py];this._descent.locks.add(t,o)}var r=this._descent.rungeKutta();return 0===r?this._alpha=0:void 0!==this._lastStress&&(this._alpha=r),this._lastStress=r,this.updateNodePositions(),this.trigger({type:i.tick,alpha:this._alpha,stress:this._lastStress}),!1},e.prototype.updateNodePositions=function(){for(var e,t=this._descent.x[0],n=this._descent.x[1],i=this._nodes.length;i--;)(e=this._nodes[i]).x=t[i],e.y=n[i]},e.prototype.nodes=function(e){if(!e){if(0===this._nodes.length&&this._links.length>0){var t=0;this._links.forEach(function(e){t=Math.max(t,e.source,e.target)}),this._nodes=new Array(++t);for(var n=0;n<t;++n)this._nodes[n]={}}return this._nodes}return this._nodes=e,this},e.prototype.groups=function(e){var t=this;return e?(this._groups=e,this._rootGroup={},this._groups.forEach(function(e){void 0===e.padding&&(e.padding=1),void 0!==e.leaves&&e.leaves.forEach(function(n,i){"number"==typeof n&&((e.leaves[i]=t._nodes[n]).parent=e)}),void 0!==e.groups&&e.groups.forEach(function(n,i){"number"==typeof n&&((e.groups[i]=t._groups[n]).parent=e)})}),this._rootGroup.leaves=this._nodes.filter(function(e){return void 0===e.parent}),this._rootGroup.groups=this._groups.filter(function(e){return void 0===e.parent}),this):this._groups},e.prototype.powerGraphGroups=function(e){var t=o.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(t.groups),e(t),this},e.prototype.avoidOverlaps=function(e){return arguments.length?(this._avoidOverlaps=e,this):this._avoidOverlaps},e.prototype.handleDisconnected=function(e){return arguments.length?(this._handleDisconnected=e,this):this._handleDisconnected},e.prototype.flowLayout=function(e,t){return arguments.length||(e="y"),this._directedLinkConstraints={axis:e,getMinSeparation:"number"==typeof t?function(){return t}:t},this},e.prototype.links=function(e){return arguments.length?(this._links=e,this):this._links},e.prototype.constraints=function(e){return arguments.length?(this._constraints=e,this):this._constraints},e.prototype.distanceMatrix=function(e){return arguments.length?(this._distanceMatrix=e,this):this._distanceMatrix},e.prototype.size=function(e){return e?(this._canvasSize=e,this):this._canvasSize},e.prototype.defaultNodeSize=function(e){return e?(this._defaultNodeSize=e,this):this._defaultNodeSize},e.prototype.groupCompactness=function(e){return e?(this._groupCompactness=e,this):this._groupCompactness},e.prototype.linkDistance=function(e){return e?(this._linkDistance="function"==typeof e?e:+e,this._linkLengthCalculator=null,this):this._linkDistance},e.prototype.linkType=function(e){return this._linkType=e,this},e.prototype.convergenceThreshold=function(e){return e?(this._threshold="function"==typeof e?e:+e,this):this._threshold},e.prototype.alpha=function(e){return arguments.length?(e=+e,this._alpha?this._alpha=e>0?e:0:e>0&&(this._running||(this._running=!0,this.trigger({type:i.start,alpha:this._alpha=e}),this.kick())),this):this._alpha},e.prototype.getLinkLength=function(e){return"function"==typeof this._linkDistance?+this._linkDistance(e):this._linkDistance},e.setLinkLength=function(e,t){e.length=t},e.prototype.getLinkType=function(e){return"function"==typeof this._linkType?this._linkType(e):0},e.prototype.symmetricDiffLinkLengths=function(e,t){var n=this;return void 0===t&&(t=1),this.linkDistance(function(t){return e*t.length}),this._linkLengthCalculator=function(){return r.symmetricDiffLinkLengths(n._links,n.linkAccessor,t)},this},e.prototype.jaccardLinkLengths=function(e,t){var n=this;return void 0===t&&(t=1),this.linkDistance(function(t){return e*t.length}),this._linkLengthCalculator=function(){return r.jaccardLinkLengths(n._links,n.linkAccessor,t)},this},e.prototype.start=function(t,n,i,o,c,d){var u=this;void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===c&&(c=!0),void 0===d&&(d=!0);var p,h=this.nodes().length,m=h+2*this._groups.length,f=(this._links.length,this._canvasSize[0]),g=this._canvasSize[1],v=new Array(m),y=new Array(m),b=null,x=this._avoidOverlaps;this._nodes.forEach(function(e,t){e.index=t,void 0===e.x&&(e.x=f/2,e.y=g/2),v[t]=e.x,y[t]=e.y}),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?p=this._distanceMatrix:(p=new l.Calculator(m,this._links,e.getSourceIndex,e.getTargetIndex,function(e){return u.getLinkLength(e)}).DistanceMatrix(),b=s.Descent.createSquareMatrix(m,function(){return 2}),this._links.forEach(function(e){"number"==typeof e.source&&(e.source=u._nodes[e.source]),"number"==typeof e.target&&(e.target=u._nodes[e.target])}),this._links.forEach(function(t){var n=e.getSourceIndex(t),i=e.getTargetIndex(t);b[n][i]=b[i][n]=t.weight||1}));var w=s.Descent.createSquareMatrix(m,function(e,t){return p[e][t]});if(this._rootGroup&&void 0!==this._rootGroup.groups){var C=h;this._groups.forEach(function(e){!function(e,t,n,i){b[e][t]=b[t][e]=n,w[e][t]=w[t][e]=i}(C,C+1,u._groupCompactness,.1),v[C]=0,y[C++]=0,v[C]=0,y[C++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var _=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,_=_.concat(r.generateDirectedEdgeConstraints(h,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new s.Descent([v,y],w),this._descent.locks.clear();for(C=0;C<h;++C){var S=this._nodes[C];if(S.fixed){S.px=S.x,S.py=S.y;var I=[S.x,S.y];this._descent.locks.add(C,I)}}if(this._descent.threshold=this._threshold,this.initialLayout(t,v,y),_.length>0&&(this._descent.project=new a.Projection(this._nodes,this._groups,this._rootGroup,_).projectFunctions()),this._descent.run(n),this.separateOverlappingComponents(f,g,d),this.avoidOverlaps(x),x&&(this._nodes.forEach(function(e,t){e.x=v[t],e.y=y[t]}),this._descent.project=new a.Projection(this._nodes,this._groups,this._rootGroup,_,!0).projectFunctions(),this._nodes.forEach(function(e,t){v[t]=e.x,y[t]=e.y})),this._descent.G=b,this._descent.run(i),o){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=h,this._descent.scaleSnapByMaxH=h!=m;var A=s.Descent.createSquareMatrix(m,function(e,t){return e>=h||t>=h?b[e][t]:0});this._descent.G=A,this._descent.run(o)}return this.updateNodePositions(),this.separateOverlappingComponents(f,g,d),c?this.resume():this},e.prototype.initialLayout=function(t,n,i){if(this._groups.length>0&&t>0){var o=this._nodes.length,r=this._links.map(function(e){return{source:e.source.index,target:e.target.index}}),s=this._nodes.map(function(e){return{index:e.index}});this._groups.forEach(function(e,t){s.push({index:e.index=o+t})}),this._groups.forEach(function(e,t){void 0!==e.leaves&&e.leaves.forEach(function(t){return r.push({source:e.index,target:t.index})}),void 0!==e.groups&&e.groups.forEach(function(t){return r.push({source:e.index,target:t.index})})}),(new e).size(this.size()).nodes(s).links(r).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(t,0,0,0,!1),this._nodes.forEach(function(e){n[e.index]=s[e.index].x,i[e.index]=s[e.index].y})}else this._descent.run(t)},e.prototype.separateOverlappingComponents=function(e,t,n){var i=this;if(void 0===n&&(n=!0),!this._distanceMatrix&&this._handleDisconnected){var o=this._descent.x[0],r=this._descent.x[1];this._nodes.forEach(function(e,t){e.x=o[t],e.y=r[t]});var s=d.separateGraphs(this._nodes,this._links);d.applyPacking(s,e,t,this._defaultNodeSize,1,n),this._nodes.forEach(function(e,t){i._descent.x[0][t]=e.x,i._descent.x[1][t]=e.y,e.bounds&&(e.bounds.setXCentre(e.x),e.bounds.setYCentre(e.y))})}},e.prototype.resume=function(){return this.alpha(.1)},e.prototype.stop=function(){return this.alpha(0)},e.prototype.prepareEdgeRouting=function(e){void 0===e&&(e=0),this._visibilityGraph=new c.TangentVisibilityGraph(this._nodes.map(function(t){return t.bounds.inflate(-e).vertices()}))},e.prototype.routeEdge=function(e,t,n){void 0===t&&(t=5);var i=[],o=new c.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),r={x:e.source.x,y:e.source.y},s={x:e.target.x,y:e.target.y},d=o.addPoint(r,e.source.index),u=o.addPoint(s,e.target.index);o.addEdgeIfVisible(r,s,e.source.index,e.target.index),void 0!==n&&n(o);var p=new l.Calculator(o.V.length,o.E,function(e){return e.source.id},function(e){return e.target.id},function(e){return e.length()}).PathFromNodeToNode(d.id,u.id);if(1===p.length||p.length===o.V.length){var h=a.makeEdgeBetween(e.source.innerBounds,e.target.innerBounds,t);i=[h.sourceIntersection,h.arrowStart]}else{for(var m=p.length-2,f=o.V[p[m]].p,g=o.V[p[0]].p,v=(i=[e.source.innerBounds.rayIntersection(f.x,f.y)],m);v>=0;--v)i.push(o.V[p[v]].p);i.push(a.makeEdgeTo(g,e.target.innerBounds,t))}return i},e.getSourceIndex=function(e){return"number"==typeof e.source?e.source:e.source.index},e.getTargetIndex=function(e){return"number"==typeof e.target?e.target:e.target.index},e.linkId=function(t){return e.getSourceIndex(t)+"-"+e.getTargetIndex(t)},e.dragStart=function(t){u(t)?e.storeOffset(t,e.dragOrigin(t)):(e.stopNode(t),t.fixed|=2)},e.stopNode=function(e){e.px=e.x,e.py=e.y},e.storeOffset=function(t,n){void 0!==t.leaves&&t.leaves.forEach(function(t){t.fixed|=2,e.stopNode(t),t._dragGroupOffsetX=t.x-n.x,t._dragGroupOffsetY=t.y-n.y}),void 0!==t.groups&&t.groups.forEach(function(t){return e.storeOffset(t,n)})},e.dragOrigin=function(e){return u(e)?{x:e.bounds.cx(),y:e.bounds.cy()}:e},e.drag=function(t,n){u(t)?(void 0!==t.leaves&&t.leaves.forEach(function(e){t.bounds.setXCentre(n.x),t.bounds.setYCentre(n.y),e.px=e._dragGroupOffsetX+n.x,e.py=e._dragGroupOffsetY+n.y}),void 0!==t.groups&&t.groups.forEach(function(t){return e.drag(t,n)})):(t.px=n.x,t.py=n.y)},e.dragEnd=function(t){u(t)?(void 0!==t.leaves&&t.leaves.forEach(function(t){e.dragEnd(t),delete t._dragGroupOffsetX,delete t._dragGroupOffsetY}),void 0!==t.groups&&t.groups.forEach(e.dragEnd)):t.fixed&=-7},e.mouseOver=function(e){e.fixed|=4,e.px=e.x,e.py=e.y},e.mouseOut=function(e){e.fixed&=-5},e}();t.Layout=p},"./node_modules/webcola/dist/src/layout3d.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/webcola/dist/src/shortestpaths.js"),o=n("./node_modules/webcola/dist/src/descent.js"),r=n("./node_modules/webcola/dist/src/rectangle.js"),s=n("./node_modules/webcola/dist/src/linklengths.js"),a=function(){function e(e,t){this.source=e,this.target=t}return e.prototype.actualLength=function(e){var t=this;return Math.sqrt(e.reduce(function(e,n){var i=n[t.target]-n[t.source];return e+i*i},0))},e}();t.Link3D=a;var l=function(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),this.x=e,this.y=t,this.z=n};t.Node3D=l;var c=function(){function e(t,n,i){var o=this;void 0===i&&(i=1),this.nodes=t,this.links=n,this.idealLinkLength=i,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(e.k);for(var r=0;r<e.k;++r)this.result[r]=new Array(t.length);t.forEach(function(t,n){for(var i=0,r=e.dims;i<r.length;i++){var s=r[i];void 0===t[s]&&(t[s]=Math.random())}o.result[0][n]=t.x,o.result[1][n]=t.y,o.result[2][n]=t.z})}return e.prototype.linkLength=function(e){return e.actualLength(this.result)},e.prototype.start=function(e){var t=this;void 0===e&&(e=100);var n=this.nodes.length,a=new d;this.useJaccardLinkLengths&&s.jaccardLinkLengths(this.links,a,1.5),this.links.forEach(function(e){return e.length*=t.idealLinkLength});var l=new i.Calculator(n,this.links,function(e){return e.source},function(e){return e.target},function(e){return e.length}).DistanceMatrix(),c=o.Descent.createSquareMatrix(n,function(e,t){return l[e][t]}),u=o.Descent.createSquareMatrix(n,function(){return 2});this.links.forEach(function(e){var t=e.source,n=e.target;return u[t][n]=u[n][t]=1}),this.descent=new o.Descent(this.result,c),this.descent.threshold=.001,this.descent.G=u,this.constraints&&(this.descent.project=new r.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var p=0;p<this.nodes.length;p++){var h=this.nodes[p];h.fixed&&this.descent.locks.add(p,[h.x,h.y,h.z])}return this.descent.run(e),this},e.prototype.tick=function(){this.descent.locks.clear();for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e];t.fixed&&this.descent.locks.add(e,[t.x,t.y,t.z])}return this.descent.rungeKutta()},e.dims=["x","y","z"],e.k=e.dims.length,e}();t.Layout3D=c;var d=function(){function e(){}return e.prototype.getSourceIndex=function(e){return e.source},e.prototype.getTargetIndex=function(e){return e.target},e.prototype.getLength=function(e){return e.length},e.prototype.setLength=function(e,t){e.length=t},e}()},"./node_modules/webcola/dist/src/linklengths.js":(e,t)=>{"use strict";function n(e,t){var n={};for(var i in e)n[i]={};for(var i in t)n[i]={};return Object.keys(n).length}function i(e,t){var n=0;for(var i in e)void 0!==t[i]&&++n;return n}function o(e,t,n,i){var o=function(e,t){var n={},i=function(e,t){void 0===n[e]&&(n[e]={}),n[e][t]={}};return e.forEach(function(e){var n=t.getSourceIndex(e),o=t.getTargetIndex(e);i(n,o),i(o,n)}),n}(e,i);e.forEach(function(e){var r=o[i.getSourceIndex(e)],s=o[i.getTargetIndex(e)];i.setLength(e,1+t*n(r,s))})}function r(e,t,n){var i=[],o=0,r=[],s=[];function a(e){e.index=e.lowlink=o++,r.push(e),e.onStack=!0;for(var t=0,n=e.out;t<n.length;t++){var i=n[t];void 0===i.index?(a(i),e.lowlink=Math.min(e.lowlink,i.lowlink)):i.onStack&&(e.lowlink=Math.min(e.lowlink,i.index))}if(e.lowlink===e.index){for(var l=[];r.length&&((i=r.pop()).onStack=!1,l.push(i),i!==e););s.push(l.map(function(e){return e.id}))}}for(var l=0;l<e;l++)i.push({id:l,out:[]});for(var c=0,d=t;c<d.length;c++){var u=d[c],p=i[n.getSourceIndex(u)],h=i[n.getTargetIndex(u)];p.out.push(h)}for(var m=0,f=i;m<f.length;m++){var g=f[m];void 0===g.index&&a(g)}return s}Object.defineProperty(t,"__esModule",{value:!0}),t.symmetricDiffLinkLengths=function(e,t,r){void 0===r&&(r=1),o(e,r,function(e,t){return Math.sqrt(n(e,t)-i(e,t))},t)},t.jaccardLinkLengths=function(e,t,r){void 0===r&&(r=1),o(e,r,function(e,t){return Math.min(Object.keys(e).length,Object.keys(t).length)<1.1?0:i(e,t)/n(e,t)},t)},t.generateDirectedEdgeConstraints=function(e,t,n,i){var o=r(e,t,i),s={};o.forEach(function(e,t){return e.forEach(function(e){return s[e]=t})});var a=[];return t.forEach(function(e){var t=i.getSourceIndex(e),o=i.getTargetIndex(e);s[t]!==s[o]&&a.push({axis:n,left:t,right:o,gap:i.getMinSeparation(e)})}),a},t.stronglyConnectedComponents=r},"./node_modules/webcola/dist/src/powergraph.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){this.source=e,this.target=t,this.type=n};t.PowerEdge=n;var i=function(){function e(e,t,n,i){var o=this;if(this.linkAccessor=n,this.modules=new Array(e),this.roots=[],i)this.initModulesFromGroup(i);else{this.roots.push(new a);for(var s=0;s<e;++s)this.roots[0].add(this.modules[s]=new r(s))}this.R=t.length,t.forEach(function(e){var t=o.modules[n.getSourceIndex(e)],i=o.modules[n.getTargetIndex(e)],r=n.getType(e);t.outgoing.add(r,i),i.incoming.add(r,t)})}return e.prototype.initModulesFromGroup=function(e){var t=new a;this.roots.push(t);for(var n=0;n<e.leaves.length;++n){var i=e.leaves[n],o=new r(i.id);this.modules[i.id]=o,t.add(o)}if(e.groups)for(var s=0;s<e.groups.length;++s){var c=e.groups[s],d={};for(var u in c)"leaves"!==u&&"groups"!==u&&c.hasOwnProperty(u)&&(d[u]=c[u]);t.add(new r(-1-s,new l,new l,this.initModulesFromGroup(c),d))}return t},e.prototype.merge=function(e,t,n){void 0===n&&(n=0);var i=e.incoming.intersection(t.incoming),o=e.outgoing.intersection(t.outgoing),s=new a;s.add(e),s.add(t);var l=new r(this.modules.length,o,i,s);this.modules.push(l);var c=function(n,i,o){n.forAll(function(n,r){n.forAll(function(n){var s=n[i];s.add(r,l),s.remove(r,e),s.remove(r,t),e[o].remove(r,n),t[o].remove(r,n)})})};return c(o,"incoming","outgoing"),c(i,"outgoing","incoming"),this.R-=i.count()+o.count(),this.roots[n].remove(e),this.roots[n].remove(t),this.roots[n].add(l),l},e.prototype.rootMerges=function(e){void 0===e&&(e=0);for(var t=this.roots[e].modules(),n=t.length,i=new Array(n*(n-1)),o=0,r=0,s=n-1;r<s;++r)for(var a=r+1;a<n;++a){var l=t[r],c=t[a];i[o]={id:o,nEdges:this.nEdges(l,c),a:l,b:c},o++}return i},e.prototype.greedyMerge=function(){for(var e=0;e<this.roots.length;++e)if(!(this.roots[e].modules().length<2)){var t=this.rootMerges(e).sort(function(e,t){return e.nEdges==t.nEdges?e.id-t.id:e.nEdges-t.nEdges})[0];if(!(t.nEdges>=this.R))return this.merge(t.a,t.b,e),!0}},e.prototype.nEdges=function(e,t){var n=e.incoming.intersection(t.incoming),i=e.outgoing.intersection(t.outgoing);return this.R-n.count()-i.count()},e.prototype.getGroupHierarchy=function(e){var t=this,i=[];return o(this.roots[0],{},i),this.allEdges().forEach(function(o){var r=t.modules[o.source],s=t.modules[o.target];e.push(new n(void 0===r.gid?o.source:i[r.gid],void 0===s.gid?o.target:i[s.gid],o.type))}),i},e.prototype.allEdges=function(){var t=[];return e.getEdges(this.roots[0],t),t},e.getEdges=function(t,n){t.forAll(function(t){t.getEdges(n),e.getEdges(t.children,n)})},e}();function o(e,t,n){e.forAll(function(e){if(e.isLeaf())t.leaves||(t.leaves=[]),t.leaves.push(e.id);else{var i=t;if(e.gid=n.length,!e.isIsland()||e.isPredefined()){if(i={id:e.gid},e.isPredefined())for(var r in e.definition)i[r]=e.definition[r];t.groups||(t.groups=[]),t.groups.push(e.gid),n.push(i)}o(e.children,i,n)}})}t.Configuration=i;var r=function(){function e(e,t,n,i,o){void 0===t&&(t=new l),void 0===n&&(n=new l),void 0===i&&(i=new a),this.id=e,this.outgoing=t,this.incoming=n,this.children=i,this.definition=o}return e.prototype.getEdges=function(e){var t=this;this.outgoing.forAll(function(i,o){i.forAll(function(i){e.push(new n(t.id,i.id,o))})})},e.prototype.isLeaf=function(){return 0===this.children.count()},e.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},e.prototype.isPredefined=function(){return void 0!==this.definition},e}();function s(e,t){var n={};for(var i in e)i in t&&(n[i]=e[i]);return n}t.Module=r;var a=function(){function e(){this.table={}}return e.prototype.count=function(){return Object.keys(this.table).length},e.prototype.intersection=function(t){var n=new e;return n.table=s(this.table,t.table),n},e.prototype.intersectionCount=function(e){return this.intersection(e).count()},e.prototype.contains=function(e){return e in this.table},e.prototype.add=function(e){this.table[e.id]=e},e.prototype.remove=function(e){delete this.table[e.id]},e.prototype.forAll=function(e){for(var t in this.table)e(this.table[t])},e.prototype.modules=function(){var e=[];return this.forAll(function(t){t.isPredefined()||e.push(t)}),e},e}();t.ModuleSet=a;var l=function(){function e(){this.sets={},this.n=0}return e.prototype.count=function(){return this.n},e.prototype.contains=function(e){var t=!1;return this.forAllModules(function(n){t||n.id!=e||(t=!0)}),t},e.prototype.add=function(e,t){(e in this.sets?this.sets[e]:this.sets[e]=new a).add(t),++this.n},e.prototype.remove=function(e,t){var n=this.sets[e];n.remove(t),0===n.count()&&delete this.sets[e],--this.n},e.prototype.forAll=function(e){for(var t in this.sets)e(this.sets[t],Number(t))},e.prototype.forAllModules=function(e){this.forAll(function(t,n){return t.forAll(e)})},e.prototype.intersection=function(t){var n=new e;return this.forAll(function(e,i){if(i in t.sets){var o=e.intersection(t.sets[i]),r=o.count();r>0&&(n.sets[i]=o,n.n+=r)}}),n},e}();t.LinkSets=l,t.getGroups=function(e,t,n,o){for(var r=e.length,s=new i(r,t,n,o);s.greedyMerge(););var a=[],l=s.getGroupHierarchy(a);return a.forEach(function(t){var n=function(n){var i=t[n];"number"==typeof i&&(t[n]=e[i])};n("source"),n("target")}),{groups:l,powerEdges:a}}},"./node_modules/webcola/dist/src/pqueue.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.elem=e,this.subheaps=[]}return e.prototype.toString=function(e){for(var t="",n=!1,i=0;i<this.subheaps.length;++i){var o=this.subheaps[i];o.elem?(n&&(t+=","),t+=o.toString(e),n=!0):n=!1}return""!==t&&(t="("+t+")"),(this.elem?e(this.elem):"")+t},e.prototype.forEach=function(e){this.empty()||(e(this.elem,this),this.subheaps.forEach(function(t){return t.forEach(e)}))},e.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(e,t){return e+t.count()},0)},e.prototype.min=function(){return this.elem},e.prototype.empty=function(){return null==this.elem},e.prototype.contains=function(e){if(this===e)return!0;for(var t=0;t<this.subheaps.length;t++)if(this.subheaps[t].contains(e))return!0;return!1},e.prototype.isHeap=function(e){var t=this;return this.subheaps.every(function(n){return e(t.elem,n.elem)&&n.isHeap(e)})},e.prototype.insert=function(t,n){return this.merge(new e(t),n)},e.prototype.merge=function(e,t){return this.empty()?e:e.empty()?this:t(this.elem,e.elem)?(this.subheaps.push(e),this):(e.subheaps.push(this),e)},e.prototype.removeMin=function(e){return this.empty()?null:this.mergePairs(e)},e.prototype.mergePairs=function(t){if(0==this.subheaps.length)return new e(null);if(1==this.subheaps.length)return this.subheaps[0];var n=this.subheaps.pop().merge(this.subheaps.pop(),t),i=this.mergePairs(t);return n.merge(i,t)},e.prototype.decreaseKey=function(t,n,i,o){var r=t.removeMin(o);t.elem=r.elem,t.subheaps=r.subheaps,null!==i&&null!==r.elem&&i(t.elem,t);var s=new e(n);return null!==i&&i(n,s),this.merge(s,o)},e}();t.PairingHeap=n;var i=function(){function e(e){this.lessThan=e}return e.prototype.top=function(){return this.empty()?null:this.root.elem},e.prototype.push=function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var o,r=0;o=t[r];++r)e=new n(o),this.root=this.empty()?e:this.root.merge(e,this.lessThan);return e},e.prototype.empty=function(){return!this.root||!this.root.elem},e.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},e.prototype.forEach=function(e){this.root.forEach(e)},e.prototype.pop=function(){if(this.empty())return null;var e=this.root.min();return this.root=this.root.removeMin(this.lessThan),e},e.prototype.reduceKey=function(e,t,n){void 0===n&&(n=null),this.root=this.root.decreaseKey(e,t,n,this.lessThan)},e.prototype.toString=function(e){return this.root.toString(e)},e.prototype.count=function(){return this.root.count()},e}();t.PriorityQueue=i},"./node_modules/webcola/dist/src/rbtree.js":function(e,t){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},n(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.findIter=function(e){for(var t=this._root,n=this.iterator();null!==t;){var i=this._comparator(e,t.data);if(0===i)return n._cursor=t,n;n._ancestors.push(t),t=t.get_child(i>0)}return null}}return e.prototype.clear=function(){this._root=null,this.size=0},e.prototype.find=function(e){for(var t=this._root;null!==t;){var n=this._comparator(e,t.data);if(0===n)return t.data;t=t.get_child(n>0)}return null},e.prototype.lowerBound=function(e){return this._bound(e,this._comparator)},e.prototype.upperBound=function(e){var t=this._comparator;return this._bound(e,function(e,n){return t(n,e)})},e.prototype.min=function(){var e=this._root;if(null===e)return null;for(;null!==e.left;)e=e.left;return e.data},e.prototype.max=function(){var e=this._root;if(null===e)return null;for(;null!==e.right;)e=e.right;return e.data},e.prototype.iterator=function(){return new r(this)},e.prototype.each=function(e){for(var t,n=this.iterator();null!==(t=n.next());)e(t)},e.prototype.reach=function(e){for(var t,n=this.iterator();null!==(t=n.prev());)e(t)},e.prototype._bound=function(e,t){for(var n=this._root,i=this.iterator();null!==n;){var o=this._comparator(e,n.data);if(0===o)return i._cursor=n,i;i._ancestors.push(n),n=n.get_child(o>0)}for(var r=i._ancestors.length-1;r>=0;--r)if(t(e,(n=i._ancestors[r]).data)>0)return i._cursor=n,i._ancestors.length=r,i;return i._ancestors.length=0,i},e}();t.TreeBase=o;var r=function(){function e(e){this._tree=e,this._ancestors=[],this._cursor=null}return e.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},e.prototype.next=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._minNode(e)}else{var t;if(null===this._cursor.right)do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===t);else this._ancestors.push(this._cursor),this._minNode(this._cursor.right)}return null!==this._cursor?this._cursor.data:null},e.prototype.prev=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._maxNode(e)}else{var t;if(null===this._cursor.left)do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===t);else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left)}return null!==this._cursor?this._cursor.data:null},e.prototype._minNode=function(e){for(;null!==e.left;)this._ancestors.push(e),e=e.left;this._cursor=e},e.prototype._maxNode=function(e){for(;null!==e.right;)this._ancestors.push(e),e=e.right;this._cursor=e},e}();t.Iterator=r;var s=function(){function e(e){this.data=e,this.left=null,this.right=null,this.red=!0}return e.prototype.get_child=function(e){return e?this.right:this.left},e.prototype.set_child=function(e,t){e?this.right=t:this.left=t},e}(),a=function(e){function t(t){var n=e.call(this)||this;return n._root=null,n._comparator=t,n.size=0,n}return i(t,e),t.prototype.insert=function(e){var n=!1;if(null===this._root)this._root=new s(e),n=!0,this.size++;else{var i=new s(void 0),o=!1,r=!1,a=null,l=i,c=null,d=this._root;for(l.right=this._root;;){if(null===d?(d=new s(e),c.set_child(o,d),n=!0,this.size++):t.is_red(d.left)&&t.is_red(d.right)&&(d.red=!0,d.left.red=!1,d.right.red=!1),t.is_red(d)&&t.is_red(c)){var u=l.right===a;d===c.get_child(r)?l.set_child(u,t.single_rotate(a,!r)):l.set_child(u,t.double_rotate(a,!r))}var p=this._comparator(d.data,e);if(0===p)break;r=o,o=p<0,null!==a&&(l=a),a=c,c=d,d=d.get_child(o)}this._root=i.right}return this._root.red=!1,n},t.prototype.remove=function(e){if(null===this._root)return!1;var n=new s(void 0),i=n;i.right=this._root;for(var o=null,r=null,a=null,l=!0;null!==i.get_child(l);){var c=l;r=o,o=i,i=i.get_child(l);var d=this._comparator(e,i.data);if(l=d>0,0===d&&(a=i),!t.is_red(i)&&!t.is_red(i.get_child(l)))if(t.is_red(i.get_child(!l))){var u=t.single_rotate(i,l);o.set_child(c,u),o=u}else if(!t.is_red(i.get_child(!l))){var p=o.get_child(!c);if(null!==p)if(t.is_red(p.get_child(!c))||t.is_red(p.get_child(c))){var h=r.right===o;t.is_red(p.get_child(c))?r.set_child(h,t.double_rotate(o,c)):t.is_red(p.get_child(!c))&&r.set_child(h,t.single_rotate(o,c));var m=r.get_child(h);m.red=!0,i.red=!0,m.left.red=!1,m.right.red=!1}else o.red=!1,p.red=!0,i.red=!0}}return null!==a&&(a.data=i.data,o.set_child(o.right===i,i.get_child(null===i.left)),this.size--),this._root=n.right,null!==this._root&&(this._root.red=!1),null!==a},t.is_red=function(e){return null!==e&&e.red},t.single_rotate=function(e,t){var n=e.get_child(!t);return e.set_child(!t,n.get_child(t)),n.set_child(t,e),e.red=!0,n.red=!1,n},t.double_rotate=function(e,n){return e.set_child(!n,t.single_rotate(e.get_child(!n),!n)),t.single_rotate(e,n)},t}(o);t.RBTree=a},"./node_modules/webcola/dist/src/rectangle.js":function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/webcola/dist/src/vpsc.js"),s=n("./node_modules/webcola/dist/src/rbtree.js");function a(e){return e.bounds=void 0!==e.leaves?e.leaves.reduce(function(e,t){return t.bounds.union(e)},l.empty()):l.empty(),void 0!==e.groups&&(e.bounds=e.groups.reduce(function(e,t){return a(t).union(e)},e.bounds)),e.bounds=e.bounds.inflate(e.padding),e.bounds}t.computeGroupBounds=a;var l=function(){function e(e,t,n,i){this.x=e,this.X=t,this.y=n,this.Y=i}return e.empty=function(){return new e(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},e.prototype.cx=function(){return(this.x+this.X)/2},e.prototype.cy=function(){return(this.y+this.Y)/2},e.prototype.overlapX=function(e){var t=this.cx(),n=e.cx();return t<=n&&e.x<this.X?this.X-e.x:n<=t&&this.x<e.X?e.X-this.x:0},e.prototype.overlapY=function(e){var t=this.cy(),n=e.cy();return t<=n&&e.y<this.Y?this.Y-e.y:n<=t&&this.y<e.Y?e.Y-this.y:0},e.prototype.setXCentre=function(e){var t=e-this.cx();this.x+=t,this.X+=t},e.prototype.setYCentre=function(e){var t=e-this.cy();this.y+=t,this.Y+=t},e.prototype.width=function(){return this.X-this.x},e.prototype.height=function(){return this.Y-this.y},e.prototype.union=function(t){return new e(Math.min(this.x,t.x),Math.max(this.X,t.X),Math.min(this.y,t.y),Math.max(this.Y,t.Y))},e.prototype.lineIntersections=function(t,n,i,o){for(var r=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],s=[],a=0;a<4;++a){var l=e.lineIntersection(t,n,i,o,r[a][0],r[a][1],r[a][2],r[a][3]);null!==l&&s.push({x:l.x,y:l.y})}return s},e.prototype.rayIntersection=function(e,t){var n=this.lineIntersections(this.cx(),this.cy(),e,t);return n.length>0?n[0]:null},e.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},e.lineIntersection=function(e,t,n,i,o,r,s,a){var l=n-e,c=s-o,d=i-t,u=a-r,p=u*l-c*d;if(0==p)return null;var h=e-o,m=t-r,f=(c*m-u*h)/p,g=(l*m-d*h)/p;return f>=0&&f<=1&&g>=0&&g<=1?{x:e+f*l,y:t+f*d}:null},e.prototype.inflate=function(t){return new e(this.x-t,this.X+t,this.y-t,this.Y+t)},e}();t.Rectangle=l,t.makeEdgeBetween=function(e,t,n){var i=e.rayIntersection(t.cx(),t.cy())||{x:e.cx(),y:e.cy()},o=t.rayIntersection(e.cx(),e.cy())||{x:t.cx(),y:t.cy()},r=o.x-i.x,s=o.y-i.y,a=Math.sqrt(r*r+s*s),l=a-n;return{sourceIntersection:i,targetIntersection:o,arrowStart:{x:i.x+l*r/a,y:i.y+l*s/a}}},t.makeEdgeTo=function(e,t,n){var i=t.rayIntersection(e.x,e.y);i||(i={x:t.cx(),y:t.cy()});var o=i.x-e.x,r=i.y-e.y,s=Math.sqrt(o*o+r*r);return{x:i.x-n*o/s,y:i.y-n*r/s}};var c=function(e,t,n){this.v=e,this.r=t,this.pos=n,this.prev=p(),this.next=p()},d=function(e,t,n){this.isOpen=e,this.v=t,this.pos=n};function u(e,t){return e.pos>t.pos?1:e.pos<t.pos||e.isOpen?-1:t.isOpen?1:0}function p(){return new s.RBTree(function(e,t){return e.pos-t.pos})}var h={getCentre:function(e){return e.cx()},getOpen:function(e){return e.y},getClose:function(e){return e.Y},getSize:function(e){return e.width()},makeRect:function(e,t,n,i){return new l(n-i/2,n+i/2,e,t)},findNeighbours:function(e,t){var n=function(n,i){for(var o,r=t.findIter(e);null!==(o=r[n]());){var s=o.r.overlapX(e.r);if((s<=0||s<=o.r.overlapY(e.r))&&(e[n].insert(o),o[i].insert(e)),s<=0)break}};n("next","prev"),n("prev","next")}},m={getCentre:function(e){return e.cy()},getOpen:function(e){return e.x},getClose:function(e){return e.X},getSize:function(e){return e.height()},makeRect:function(e,t,n,i){return new l(e,t,n-i/2,n+i/2)},findNeighbours:function(e,t){var n=function(n,i){var o=t.findIter(e)[n]();null!==o&&o.r.overlapX(e.r)>0&&(e[n].insert(o),o[i].insert(e))};n("next","prev"),n("prev","next")}};function f(e,t,n,i){void 0===i&&(i=!1);var o=e.padding,r=void 0!==e.groups?e.groups.length:0,s=void 0!==e.leaves?e.leaves.length:0,a=r?e.groups.reduce(function(e,i){return e.concat(f(i,t,n,!0))},[]):[],l=(i?2:0)+s+r,c=new Array(l),d=new Array(l),u=0,p=function(e,t){d[u]=e,c[u++]=t};if(i){var h=e.bounds,m=t.getCentre(h),v=t.getSize(h)/2,y=t.getOpen(h),b=t.getClose(h),x=m-v+o/2,w=m+v-o/2;e.minVar.desiredPosition=x,p(t.makeRect(y,b,x,o),e.minVar),e.maxVar.desiredPosition=w,p(t.makeRect(y,b,w,o),e.maxVar)}s&&e.leaves.forEach(function(e){return p(e.bounds,e.variable)}),r&&e.groups.forEach(function(e){var n=e.bounds;p(t.makeRect(t.getOpen(n),t.getClose(n),t.getCentre(n),t.getSize(n)),e.minVar)});var C=g(d,c,t,n);return r&&(c.forEach(function(e){e.cOut=[],e.cIn=[]}),C.forEach(function(e){e.left.cOut.push(e),e.right.cIn.push(e)}),e.groups.forEach(function(e){var n=(e.padding-t.getSize(e.bounds))/2;e.minVar.cIn.forEach(function(e){return e.gap+=n}),e.minVar.cOut.forEach(function(t){t.left=e.maxVar,t.gap+=n})})),a.concat(C)}function g(e,t,n,i){var o,s=e.length,a=2*s;console.assert(t.length>=s);var l=new Array(a);for(o=0;o<s;++o){var h=e[o],m=new c(t[o],h,n.getCentre(h));l[o]=new d(!0,m,n.getOpen(h)),l[o+s]=new d(!1,m,n.getClose(h))}l.sort(u);var f=new Array,g=p();for(o=0;o<a;++o){var v=l[o];m=v.v;if(v.isOpen)g.insert(m),n.findNeighbours(m,g);else{g.remove(m);var y=function(e,t){var o=(n.getSize(e.r)+n.getSize(t.r))/2+i;f.push(new r.Constraint(e.v,t.v,o))},b=function(e,t,n){for(var i,o=m[e].iterator();null!==(i=o[e]());)n(i,m),i[t].remove(m)};b("prev","next",function(e,t){return y(e,t)}),b("next","prev",function(e,t){return y(t,e)})}}return console.assert(0===g.size),f}function v(e,t){return g(e,t,h,1e-6)}function y(e,t){return g(e,t,m,1e-6)}function b(e){return f(e,h,1e-6)}function x(e){return f(e,m,1e-6)}t.generateXConstraints=v,t.generateYConstraints=y,t.generateXGroupConstraints=b,t.generateYGroupConstraints=x,t.removeOverlaps=function(e){var t=e.map(function(e){return new r.Variable(e.cx())}),n=v(e,t),i=new r.Solver(t,n);i.solve(),t.forEach(function(t,n){return e[n].setXCentre(t.position())}),t=e.map(function(e){return new r.Variable(e.cy())}),n=y(e,t),(i=new r.Solver(t,n)).solve(),t.forEach(function(t,n){return e[n].setYCentre(t.position())})};var w=function(e){function t(t,n){var i=e.call(this,0,n)||this;return i.index=t,i}return o(t,e),t}(r.Variable);t.IndexedVariable=w;var C=function(){function e(e,t,n,i,o){var r=this;if(void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=!1),this.nodes=e,this.groups=t,this.rootGroup=n,this.avoidOverlaps=o,this.variables=e.map(function(e,t){return e.variable=new w(t,1)}),i&&this.createConstraints(i),o&&n&&void 0!==n.groups){e.forEach(function(e){if(e.width&&e.height){var t=e.width/2,n=e.height/2;e.bounds=new l(e.x-t,e.x+t,e.y-n,e.y+n)}else e.bounds=new l(e.x,e.x,e.y,e.y)}),a(n);var s=e.length;t.forEach(function(e){r.variables[s]=e.minVar=new w(s++,void 0!==e.stiffness?e.stiffness:.01),r.variables[s]=e.maxVar=new w(s++,void 0!==e.stiffness?e.stiffness:.01)})}}return e.prototype.createSeparation=function(e){return new r.Constraint(this.nodes[e.left].variable,this.nodes[e.right].variable,e.gap,void 0!==e.equality&&e.equality)},e.prototype.makeFeasible=function(e){var t=this;if(this.avoidOverlaps){var n="x",i="width";"x"===e.axis&&(n="y",i="height");var o=e.offsets.map(function(e){return t.nodes[e.node]}).sort(function(e,t){return e[n]-t[n]}),r=null;o.forEach(function(e){if(r){var t=r[n]+r[i];t>e[n]&&(e[n]=t)}r=e})}},e.prototype.createAlignment=function(e){var t=this,n=this.nodes[e.offsets[0].node].variable;this.makeFeasible(e);var i="x"===e.axis?this.xConstraints:this.yConstraints;e.offsets.slice(1).forEach(function(e){var o=t.nodes[e.node].variable;i.push(new r.Constraint(n,o,e.offset,!0))})},e.prototype.createConstraints=function(e){var t=this,n=function(e){return void 0===e.type||"separation"===e.type};this.xConstraints=e.filter(function(e){return"x"===e.axis&&n(e)}).map(function(e){return t.createSeparation(e)}),this.yConstraints=e.filter(function(e){return"y"===e.axis&&n(e)}).map(function(e){return t.createSeparation(e)}),e.filter(function(e){return"alignment"===e.type}).forEach(function(e){return t.createAlignment(e)})},e.prototype.setupVariablesAndBounds=function(e,t,n,i){this.nodes.forEach(function(o,r){o.fixed?(o.variable.weight=o.fixedWeight?o.fixedWeight:1e3,n[r]=i(o)):o.variable.weight=1;var s=(o.width||0)/2,a=(o.height||0)/2,c=e[r],d=t[r];o.bounds=new l(c-s,c+s,d-a,d+a)})},e.prototype.xProject=function(e,t,n){(this.rootGroup||this.avoidOverlaps||this.xConstraints)&&this.project(e,t,e,n,function(e){return e.px},this.xConstraints,b,function(e){return e.bounds.setXCentre(n[e.variable.index]=e.variable.position())},function(e){var t=n[e.minVar.index]=e.minVar.position(),i=n[e.maxVar.index]=e.maxVar.position(),o=e.padding/2;e.bounds.x=t-o,e.bounds.X=i+o})},e.prototype.yProject=function(e,t,n){(this.rootGroup||this.yConstraints)&&this.project(e,t,t,n,function(e){return e.py},this.yConstraints,x,function(e){return e.bounds.setYCentre(n[e.variable.index]=e.variable.position())},function(e){var t=n[e.minVar.index]=e.minVar.position(),i=n[e.maxVar.index]=e.maxVar.position(),o=e.padding/2;e.bounds.y=t-o,e.bounds.Y=i+o})},e.prototype.projectFunctions=function(){var e=this;return[function(t,n,i){return e.xProject(t,n,i)},function(t,n,i){return e.yProject(t,n,i)}]},e.prototype.project=function(e,t,n,i,o,r,s,l,c){this.setupVariablesAndBounds(e,t,i,o),this.rootGroup&&this.avoidOverlaps&&(a(this.rootGroup),r=r.concat(s(this.rootGroup))),this.solve(this.variables,r,n,i),this.nodes.forEach(l),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(c),a(this.rootGroup))},e.prototype.solve=function(e,t,n,i){var o=new r.Solver(e,t);o.setStartingPositions(n),o.setDesiredPositions(i),o.solve()},e}();t.Projection=C},"./node_modules/webcola/dist/src/shortestpaths.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/webcola/dist/src/pqueue.js"),o=function(e,t){this.id=e,this.distance=t},r=function(e){this.id=e,this.neighbours=[]},s=function(e,t,n){this.node=e,this.prev=t,this.d=n},a=function(){function e(e,t,n,i,s){this.n=e,this.es=t,this.neighbours=new Array(this.n);for(var a=this.n;a--;)this.neighbours[a]=new r(a);for(a=this.es.length;a--;){var l=this.es[a],c=n(l),d=i(l),u=s(l);this.neighbours[c].neighbours.push(new o(d,u)),this.neighbours[d].neighbours.push(new o(c,u))}}return e.prototype.DistanceMatrix=function(){for(var e=new Array(this.n),t=0;t<this.n;++t)e[t]=this.dijkstraNeighbours(t);return e},e.prototype.DistancesFromNode=function(e){return this.dijkstraNeighbours(e)},e.prototype.PathFromNodeToNode=function(e,t){return this.dijkstraNeighbours(e,t)},e.prototype.PathFromNodeToNodeWithPrevCost=function(e,t,n){var o=new i.PriorityQueue(function(e,t){return e.d<=t.d}),r=this.neighbours[e],a=new s(r,null,0),l={};for(o.push(a);!o.empty()&&(r=(a=o.pop()).node).id!==t;)for(var c=r.neighbours.length;c--;){var d=r.neighbours[c],u=this.neighbours[d.id];if(!a.prev||u.id!==a.prev.node.id){var p=u.id+","+r.id;if(!(p in l&&l[p]<=a.d)){var h=a.prev?n(a.prev.node.id,r.id,u.id):0,m=a.d+d.distance+h;l[p]=m,o.push(new s(u,a,m))}}}for(var f=[];a.prev;)a=a.prev,f.push(a.node.id);return f},e.prototype.dijkstraNeighbours=function(e,t){void 0===t&&(t=-1);for(var n=new i.PriorityQueue(function(e,t){return e.d<=t.d}),o=this.neighbours.length,r=new Array(o);o--;){var s=this.neighbours[o];s.d=o===e?0:Number.POSITIVE_INFINITY,s.q=n.push(s)}for(;!n.empty();){var a=n.pop();if(r[a.id]=a.d,a.id===t){for(var l=[],c=a;void 0!==c.prev;)l.push(c.prev.id),c=c.prev;return l}for(o=a.neighbours.length;o--;){var d=a.neighbours[o],u=(c=this.neighbours[d.id],a.d+d.distance);a.d!==Number.MAX_VALUE&&c.d>u&&(c.d=u,c.prev=a,n.reduceKey(c.q,c,function(e,t){return e.q=t}))}}return r},e}();t.Calculator=a},"./node_modules/webcola/dist/src/vpsc.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.scale=e,this.AB=0,this.AD=0,this.A2=0}return e.prototype.addVariable=function(e){var t=this.scale/e.scale,n=e.offset/e.scale,i=e.weight;this.AB+=i*t*n,this.AD+=i*t*e.desiredPosition,this.A2+=i*t*t},e.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},e}();t.PositionStats=n;var i=function(){function e(e,t,n,i){void 0===i&&(i=!1),this.left=e,this.right=t,this.gap=n,this.equality=i,this.active=!1,this.unsatisfiable=!1,this.left=e,this.right=t,this.gap=n,this.equality=i}return e.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},e}();t.Constraint=i;var o=function(){function e(e,t,n){void 0===t&&(t=1),void 0===n&&(n=1),this.desiredPosition=e,this.weight=t,this.scale=n,this.offset=0}return e.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},e.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},e.prototype.visitNeighbours=function(e,t){var n=function(n,i){return n.active&&e!==i&&t(n,i)};this.cOut.forEach(function(e){return n(e,e.right)}),this.cIn.forEach(function(e){return n(e,e.left)})},e}();t.Variable=o;var r=function(){function e(e){this.vars=[],e.offset=0,this.ps=new n(e.scale),this.addVariable(e)}return e.prototype.addVariable=function(e){e.block=this,this.vars.push(e),this.ps.addVariable(e),this.posn=this.ps.getPosn()},e.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var e=0,t=this.vars.length;e<t;++e)this.ps.addVariable(this.vars[e]);this.posn=this.ps.getPosn()},e.prototype.compute_lm=function(e,t,n){var i=this,o=e.dfdv();return e.visitNeighbours(t,function(t,r){var s=i.compute_lm(r,e,n);r===t.right?(o+=s*t.left.scale,t.lm=s):(o+=s*t.right.scale,t.lm=-s),n(t)}),o/e.scale},e.prototype.populateSplitBlock=function(e,t){var n=this;e.visitNeighbours(t,function(t,i){i.offset=e.offset+(i===t.right?t.gap:-t.gap),n.addVariable(i),n.populateSplitBlock(i,e)})},e.prototype.traverse=function(e,t,n,i){var o=this;void 0===n&&(n=this.vars[0]),void 0===i&&(i=null),n.visitNeighbours(i,function(i,r){t.push(e(i)),o.traverse(e,t,r,n)})},e.prototype.findMinLM=function(){var e=null;return this.compute_lm(this.vars[0],null,function(t){!t.equality&&(null===e||t.lm<e.lm)&&(e=t)}),e},e.prototype.findMinLMBetween=function(e,t){this.compute_lm(e,null,function(){});var n=null;return this.findPath(e,null,t,function(e,t){!e.equality&&e.right===t&&(null===n||e.lm<n.lm)&&(n=e)}),n},e.prototype.findPath=function(e,t,n,i){var o=this,r=!1;return e.visitNeighbours(t,function(t,s){r||s!==n&&!o.findPath(s,e,n,i)||(r=!0,i(t,s))}),r},e.prototype.isActiveDirectedPathBetween=function(e,t){if(e===t)return!0;for(var n=e.cOut.length;n--;){var i=e.cOut[n];if(i.active&&this.isActiveDirectedPathBetween(i.right,t))return!0}return!1},e.split=function(t){return t.active=!1,[e.createSplitBlock(t.left),e.createSplitBlock(t.right)]},e.createSplitBlock=function(t){var n=new e(t);return n.populateSplitBlock(t,null),n},e.prototype.splitBetween=function(t,n){var i=this.findMinLMBetween(t,n);if(null!==i){var o=e.split(i);return{constraint:i,lb:o[0],rb:o[1]}}return null},e.prototype.mergeAcross=function(e,t,n){t.active=!0;for(var i=0,o=e.vars.length;i<o;++i){var r=e.vars[i];r.offset+=n,this.addVariable(r)}this.posn=this.ps.getPosn()},e.prototype.cost=function(){for(var e=0,t=this.vars.length;t--;){var n=this.vars[t],i=n.position()-n.desiredPosition;e+=i*i*n.weight}return e},e}();t.Block=r;var s=function(){function e(e){this.vs=e;var t=e.length;for(this.list=new Array(t);t--;){var n=new r(e[t]);this.list[t]=n,n.blockInd=t}}return e.prototype.cost=function(){for(var e=0,t=this.list.length;t--;)e+=this.list[t].cost();return e},e.prototype.insert=function(e){e.blockInd=this.list.length,this.list.push(e)},e.prototype.remove=function(e){var t=this.list.length-1,n=this.list[t];this.list.length=t,e!==n&&(this.list[e.blockInd]=n,n.blockInd=e.blockInd)},e.prototype.merge=function(e){var t=e.left.block,n=e.right.block,i=e.right.offset-e.left.offset-e.gap;t.vars.length<n.vars.length?(n.mergeAcross(t,e,i),this.remove(t)):(t.mergeAcross(n,e,-i),this.remove(n))},e.prototype.forEach=function(e){this.list.forEach(e)},e.prototype.updateBlockPositions=function(){this.list.forEach(function(e){return e.updateWeightedPosition()})},e.prototype.split=function(e){var t=this;this.updateBlockPositions(),this.list.forEach(function(n){var i=n.findMinLM();null!==i&&i.lm<a.LAGRANGIAN_TOLERANCE&&(n=i.left.block,r.split(i).forEach(function(e){return t.insert(e)}),t.remove(n),e.push(i))})},e}();t.Blocks=s;var a=function(){function e(e,t){this.vs=e,this.cs=t,this.vs=e,e.forEach(function(e){e.cIn=[],e.cOut=[]}),this.cs=t,t.forEach(function(e){e.left.cOut.push(e),e.right.cIn.push(e)}),this.inactive=t.map(function(e){return e.active=!1,e}),this.bs=null}return e.prototype.cost=function(){return this.bs.cost()},e.prototype.setStartingPositions=function(e){this.inactive=this.cs.map(function(e){return e.active=!1,e}),this.bs=new s(this.vs),this.bs.forEach(function(t,n){return t.posn=e[n]})},e.prototype.setDesiredPositions=function(e){this.vs.forEach(function(t,n){return t.desiredPosition=e[n]})},e.prototype.mostViolated=function(){for(var t=Number.MAX_VALUE,n=null,i=this.inactive,o=i.length,r=o,s=0;s<o;++s){var a=i[s];if(!a.unsatisfiable){var l=a.slack();if((a.equality||l<t)&&(t=l,n=a,r=s,a.equality))break}}return r!==o&&(t<e.ZERO_UPPERBOUND&&!n.active||n.equality)&&(i[r]=i[o-1],i.length=o-1),n},e.prototype.satisfy=function(){null==this.bs&&(this.bs=new s(this.vs)),this.bs.split(this.inactive);for(var t=null;(t=this.mostViolated())&&(t.equality||t.slack()<e.ZERO_UPPERBOUND&&!t.active);){var n=t.left.block;if(n!==t.right.block)this.bs.merge(t);else{if(n.isActiveDirectedPathBetween(t.right,t.left)){t.unsatisfiable=!0;continue}var i=n.splitBetween(t.left,t.right);if(null===i){t.unsatisfiable=!0;continue}this.bs.insert(i.lb),this.bs.insert(i.rb),this.bs.remove(n),this.inactive.push(i.constraint),t.slack()>=0?this.inactive.push(t):this.bs.merge(t)}}},e.prototype.solve=function(){this.satisfy();for(var e=Number.MAX_VALUE,t=this.bs.cost();Math.abs(e-t)>1e-4;)this.satisfy(),e=t,t=this.bs.cost();return t},e.LAGRANGIAN_TOLERANCE=-1e-4,e.ZERO_UPPERBOUND=-1e-10,e}();t.Solver=a,t.removeOverlapInOneDimension=function(e,t,n){for(var r=e.map(function(e){return new o(e.desiredCenter)}),s=[],l=e.length,c=0;c<l-1;c++){var d=e[c],u=e[c+1];s.push(new i(r[c],r[c+1],(d.size+u.size)/2))}var p=r[0],h=r[l-1],m=e[0].size/2,f=e[l-1].size/2,g=null,v=null;return t&&(g=new o(t,1e3*p.weight),r.push(g),s.push(new i(g,p,m))),n&&(v=new o(n,1e3*h.weight),r.push(v),s.push(new i(h,v,f))),new a(r,s).solve(),{newCenters:r.slice(0,e.length).map(function(e){return e.position()}),lowerBound:g?g.position():p.position()-m,upperBound:v?v.position():h.position()+f}}},"./node_modules/ng-hcaptcha/fesm2020/ng-hcaptcha.mjs":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CAPTCHA_CONFIG:()=>l,NgHcaptchaComponent:()=>d,NgHcaptchaInvisibleButtonDirective:()=>u,NgHcaptchaModule:()=>h,NgHcaptchaService:()=>p,loadHCaptcha:()=>c});var i=n("./node_modules/@angular/core/fesm2015/core.js"),o=n("./node_modules/@angular/forms/fesm2015/forms.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("rxjs");const a=["captcha"],l=new i.InjectionToken("CAPTCHA_CONFIG");function c(e){return new s.Observable(t=>{if(!window)return;if(void 0!==window.hcaptcha)return t.next(),void t.complete();let n="https://hcaptcha.com/1/api.js?render=explicit";e&&(n+=`&hl=${e}`);const i=document.createElement("script");i.src=n,i.async=!0,i.defer=!0,i.onerror=e=>t.error(e),i.onload=()=>{t.next(),t.complete()},document.head.appendChild(i)})}class d{constructor(e,t,n){this.config=e,this.zone=t,this.platformId=n,this.verify=new i.EventEmitter,this.expired=new i.EventEmitter,this.error=new i.EventEmitter,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this.languageCode||(this.languageCode=this.config.languageCode),(0,r.isPlatformServer)(this.platformId)||(this.captcha$=c(this.languageCode).subscribe(()=>{setTimeout(e=>{const t={sitekey:e.siteKey||e.config.siteKey,theme:e.theme,size:e.size,tabindex:e.tabIndex,callback:t=>{e.zone.run(()=>e.onVerify(t))},"expired-callback":t=>{e.zone.run(()=>e.onExpired(t))},"error-callback":t=>{e.zone.run(()=>e.onError(t))}};e.widgetId=window.hcaptcha.render(e.captcha.nativeElement,t)},50,this)},e=>{console.error("Failed to load hCaptcha script",e)}))}ngOnDestroy(){this.captcha$.unsubscribe()}writeValue(e){this.value=e,(0,r.isPlatformBrowser)(this.platformId)&&!this.value&&window.hcaptcha&&window.hcaptcha.reset(this.widgetId)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}reset(){window.hcaptcha.reset(this.widgetId)}get value(){return this._value}set value(e){this._value=e,this.onChange(e),this.onTouched()}onVerify(e){this.value=e,this.verify.emit(e)}onExpired(e){this.expired.emit(e)}onError(e){this.error.emit(e)}}d.\u0275fac=function(e){return new(e||d)(i["\u0275\u0275directiveInject"](l),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](i.PLATFORM_ID))},d.\u0275cmp=i["\u0275\u0275defineComponent"]({type:d,selectors:[["ng-hcaptcha"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](a,7),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.captcha=e.first)}},inputs:{siteKey:"siteKey",theme:"theme",size:"size",tabIndex:"tabIndex",languageCode:"languageCode"},outputs:{verify:"verify",expired:"expired",error:"error"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:o.NG_VALUE_ACCESSOR,useExisting:(0,i.forwardRef)(()=>d),multi:!0}])],decls:2,vars:0,consts:[[1,"h-captcha"],["captcha",""]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"div",0,1)},encapsulation:2});class u{constructor(e,t,n,o){this.elRef=e,this.config=t,this.zone=n,this.platformId=o,this.verify=new i.EventEmitter,this.expired=new i.EventEmitter,this.error=new i.EventEmitter,this.click=new i.EventEmitter}ngOnInit(){this.languageCode||(this.languageCode=this.config.languageCode),(0,r.isPlatformServer)(this.platformId)||(this.captcha$=c(this.languageCode).subscribe(()=>{setTimeout(e=>{const t={sitekey:e.siteKey||e.config.siteKey,size:"invisible",callback:t=>{e.zone.run(()=>e.onVerify(t))},"expired-callback":t=>{e.zone.run(()=>e.onExpired(t))},"error-callback":t=>{e.zone.run(()=>e.onError(t))}};e.widgetId=window.hcaptcha.render(e.elRef.nativeElement,t)},50,this)}))}ngOnDestroy(){(0,r.isPlatformServer)(this.platformId)||this.captcha$.unsubscribe()}onClick(e){if(!e.hCaptchaToken)return this.lastClickEvent=e,e.stopPropagation(),e.preventDefault(),e.cancelBubble=!0,e.stopImmediatePropagation(),(0,r.isPlatformBrowser)(this.platformId)&&window.hcaptcha.execute(this.widgetId),!1}reset(){window.hcaptcha.reset(this.widgetId)}onVerify(e){const t=this.lastClickEvent||{};t.hCaptchaToken=e,this.click.emit(t),this.verify.emit(e)}onExpired(e){this.expired.emit(e)}onError(e){this.error.emit(e)}}u.\u0275fac=function(e){return new(e||u)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](l),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](i.PLATFORM_ID))},u.\u0275dir=i["\u0275\u0275defineDirective"]({type:u,selectors:[["","ngHcaptchaInvisibleButton",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("click",function(e){return t.onClick(e)})},inputs:{siteKey:"siteKey",languageCode:"languageCode"},outputs:{verify:"verify",expired:"expired",error:"error",click:"click"}});class p{constructor(e){this.captchaConfig=e}verify(){return new s.Observable(e=>{c(this.captchaConfig.languageCode).subscribe(()=>{setTimeout(t=>{if(this.hCaptchaElement||(this.hCaptchaElement=document.createElement("div"),document.body.appendChild(this.hCaptchaElement)),!this.hCaptchaWidgetId){const t={sitekey:this.captchaConfig.siteKey,size:"invisible",callback:t=>{e.next(t),e.complete(),this.resetHcaptcha()},"expired-callback":t=>{e.error(t),this.resetHcaptcha()},"error-callback":t=>{e.error(t),this.resetHcaptcha()}};this.hCaptchaWidgetId=window.hcaptcha.render(this.hCaptchaElement,t)}window.hcaptcha.execute(this.hCaptchaWidgetId)},50,this)})})}resetHcaptcha(){window.hcaptcha.remove(this.hCaptchaWidgetId),this.hCaptchaElement=null,this.hCaptchaWidgetId=null}}p.\u0275fac=function(e){return new(e||p)(i["\u0275\u0275inject"](l))},p.\u0275prov=i["\u0275\u0275defineInjectable"]({token:p,factory:p.\u0275fac});class h{static forRoot(e){return{ngModule:h,providers:[p,{provide:l,useValue:e||[]}]}}}h.\u0275fac=function(e){return new(e||h)},h.\u0275mod=i["\u0275\u0275defineNgModule"]({type:h,declarations:[d,u],exports:[d,u]}),h.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[]]})},"./node_modules/ngx-kjua/fesm2020/ngx-kjua.mjs":(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{NgxKjuaComponent:()=>l,NgxKjuaModule:()=>c,QrCodeHelper:()=>d});var o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/kjua-svg/kjua.min.js");const a=["elem"];class l{constructor(e){this.platformId=e,this.render="svg",this.crisp=!0,this.minVersion=1,this.ecLevel="L",this.size=200,this.ratio=void 0,this.fill="#333",this.back="#fff",this.text="",this.rounded=0,this.quiet=0,this.mode="plain",this.mSize=30,this.mPosX=50,this.mPosY=50,this.image=void 0,this.imageAsCode=!1,this.label="",this.fontname="sans-serif",this.fontcolor="#333",this.fontoutline=!0,this.renderAsync=!1,this.codeFinished=new o.EventEmitter,this.viewInitialized=!1}ngAfterViewInit(){this.viewInitialized=!0,this.updateView()}ngOnChanges(e){this.viewInitialized&&this.updateView()}get template(){const e={render:this.render,crisp:this.crisp,minVersion:this.minVersion,ecLevel:this.ecLevel,size:this.size,ratio:this.ratio,fill:this.fill,back:this.back,text:this.text,rounded:this.rounded,quiet:this.quiet,mode:this.mode,mSize:this.mSize,mPosX:this.mPosX,mPosY:this.mPosY,label:this.label,fontname:this.fontname,fontcolor:this.fontcolor,image:this.image,fontoutline:this.fontoutline,imageAsCode:this.imageAsCode,elementId:this.elementId};return(i||(i=n.t(s,2)))(e)}renderCode(){this.div.nativeElement.innerHTML="";const e=this.template;this.div.nativeElement.appendChild(e),this.codeFinished.next(e)}updateView(){if(this.div.nativeElement.style.width=+this.size,this.div.nativeElement.style.height=+this.size,"string"==typeof this.image){const e=new Image;e.crossOrigin="anonymous",e.onload=()=>{this.renderAsync?requestAnimationFrame(()=>this.renderCode()):this.renderCode()},e.src="data:image/png;base64,"+this.image}else this.renderAsync?requestAnimationFrame(()=>this.renderCode()):this.renderCode()}}l.\u0275fac=function(e){return new(e||l)(o["\u0275\u0275directiveInject"](o.PLATFORM_ID))},l.\u0275cmp=o["\u0275\u0275defineComponent"]({type:l,selectors:[["ngx-kjua"]],viewQuery:function(e,t){if(1&e&&o["\u0275\u0275viewQuery"](a,5),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.div=e.first)}},inputs:{render:"render",crisp:"crisp",minVersion:"minVersion",ecLevel:"ecLevel",size:"size",ratio:"ratio",fill:"fill",back:"back",text:"text",rounded:"rounded",quiet:"quiet",mode:"mode",mSize:"mSize",mPosX:"mPosX",mPosY:"mPosY",image:"image",imageAsCode:"imageAsCode",label:"label",fontname:"fontname",fontcolor:"fontcolor",fontoutline:"fontoutline",renderAsync:"renderAsync",cssClass:"cssClass",elementId:"elementId"},outputs:{codeFinished:"codeFinished"},features:[o["\u0275\u0275NgOnChangesFeature"]],decls:2,vars:2,consts:[["elem",""]],template:function(e,t){1&e&&o["\u0275\u0275element"](0,"div",null,0),2&e&&o["\u0275\u0275classMap"](t.cssClass)},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});class c{}c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=o["\u0275\u0275defineNgModule"]({type:c,declarations:[l],imports:[r.CommonModule],exports:[l]}),c.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[r.CommonModule]]});class d{static makeSMS(e,t){return t?t.length>160?`SMSTO:${e}:${t.substr(0,160)}`:`SMSTO:${e}:${t}`:`SMSTO:${e}`}static makeCall(e){return`tel:${e}`}static makeGeo(e,t,n=400){return`geo:${e},${t},${n}`}static makeEvent(e,t,n){return`BEGIN:VEVENT\nSUMMARY:${e}\nDTSTART:${t}\nDTEND:${n}\nEND:VEVENT`}static makeEmail(e,t,n){let i=`MATMSG:TO:${e};`;return t&&(i+=`SUB:${t}`),i+=";",n&&(i+=`BODY:${n}`),i+=";;",i}static makeWifi(e,t,n=!1){let i=`WIFI:${t?"T:WPA":"T:nopass"};S:${e};`;return t&&(i+=`P:${t}`),i+=";",n&&(i+="H:true"),i+=";",i}static makeContactMeCard(e,t,n,i,o){let r=`MECARD:N:${e};`;if(n&&(r+=`ADR:${n};`),t&&t.length>0)for(let s=0;s<t.length;s++)r+=`TEL:${t[s]};`;return i&&(r+=`EMAIL:${i};`),o&&(r+=`URL:${o};`),r+=";",r}}},"./node_modules/signature_pad/dist/signature_pad.mjs":(e,t,n)=>{"use strict";function i(e,t,n){this.x=e,this.y=t,this.time=n||(new Date).getTime()}function o(e,t,n,i){this.startPoint=e,this.control1=t,this.control2=n,this.endPoint=i}function r(e,t){var n=this,i=t||{};this.velocityFilterWeight=i.velocityFilterWeight||.7,this.minWidth=i.minWidth||.5,this.maxWidth=i.maxWidth||2.5,this.throttle="throttle"in i?i.throttle:16,this.minDistance="minDistance"in i?i.minDistance:5,this.throttle?this._strokeMoveUpdate=function(e,t,n){var i,o,r,s=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:Date.now(),s=null,r=e.apply(i,o),s||(i=o=null)};return function(){var c=Date.now();a||!1!==n.leading||(a=c);var d=t-(c-a);return i=this,o=arguments,d<=0||d>t?(s&&(clearTimeout(s),s=null),a=c,r=e.apply(i,o),s||(i=o=null)):s||!1===n.trailing||(s=setTimeout(l,d)),r}}(r.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=r.prototype._strokeUpdate,this.dotSize=i.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=i.penColor||"black",this.backgroundColor=i.backgroundColor||"rgba(0,0,0,0)",this.onBegin=i.onBegin,this.onEnd=i.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(n._mouseButtonDown=!0,n._strokeBegin(e))},this._handleMouseMove=function(e){n._mouseButtonDown&&n._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(e))},this._handleTouchStart=function(e){if(1===e.targetTouches.length){var t=e.changedTouches[0];n._strokeBegin(t)}},this._handleTouchMove=function(e){e.preventDefault();var t=e.targetTouches[0];n._strokeMoveUpdate(t)},this._handleTouchEnd=function(e){e.target===n._canvas&&(e.preventDefault(),n._strokeEnd(e))},this.on()}n.r(t),n.d(t,{default:()=>s}),i.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},i.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},i.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},o.prototype.length=function(){for(var e=0,t=void 0,n=void 0,i=0;i<=10;i+=1){var o=i/10,r=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),s=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var a=r-t,l=s-n;e+=Math.sqrt(a*a+l*l)}t=r,n=s}return e},o.prototype._point=function(e,t,n,i,o){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*i*(1-e)*e*e+o*e*e*e},r.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},r.prototype.fromDataURL=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new Image,o=n.ratio||window.devicePixelRatio||1,r=n.width||this._canvas.width/o,s=n.height||this._canvas.height/o;this._reset(),i.src=e,i.onload=function(){t._ctx.drawImage(i,0,0,r,s)},this._isEmpty=!1},r.prototype.toDataURL=function(e){var t;if("image/svg+xml"===e)return this._toSVG();for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(t=this._canvas).toDataURL.apply(t,[e].concat(i))},r.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},r.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},r.prototype.isEmpty=function(){return this._isEmpty},r.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},r.prototype._strokeUpdate=function(e){var t=e.clientX,n=e.clientY,i=this._createPoint(t,n),o=this._data[this._data.length-1],r=o&&o[o.length-1],s=r&&i.distanceTo(r)<this.minDistance;if(!r||!s){var a=this._addPoint(i),l=a.curve,c=a.widths;l&&c&&this._drawCurve(l,c.start,c.end),this._data[this._data.length-1].push({x:i.x,y:i.y,time:i.time,color:this.penColor})}},r.prototype._strokeEnd=function(e){var t=this.points.length>2,n=this.points[0];if(!t&&n&&this._drawDot(n),n){var i=this._data[this._data.length-1],o=i[i.length-1];n.equals(o)||i.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(e)},r.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},r.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},r.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},r.prototype._createPoint=function(e,t,n){var o=this._canvas.getBoundingClientRect();return new i(e-o.left,t-o.top,n||(new Date).getTime())},r.prototype._addPoint=function(e){var t=this.points;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);var n=this._calculateCurveControlPoints(t[0],t[1],t[2]).c2,i=this._calculateCurveControlPoints(t[1],t[2],t[3]).c1,r=new o(t[1],n,i,t[2]),s=this._calculateCurveWidths(r);return t.shift(),{curve:r,widths:s}}return{}},r.prototype._calculateCurveControlPoints=function(e,t,n){var o=e.x-t.x,r=e.y-t.y,s=t.x-n.x,a=t.y-n.y,l=(e.x+t.x)/2,c=(e.y+t.y)/2,d=(t.x+n.x)/2,u=(t.y+n.y)/2,p=Math.sqrt(o*o+r*r),h=Math.sqrt(s*s+a*a),m=h/(p+h),f=d+(l-d)*m,g=u+(c-u)*m,v=t.x-f,y=t.y-g;return{c1:new i(l+v,c+y),c2:new i(d+v,u+y)}},r.prototype._calculateCurveWidths=function(e){var t=e.startPoint,n=e.endPoint,i={start:null,end:null},o=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,r=this._strokeWidth(o);return i.start=this._lastWidth,i.end=r,this._lastVelocity=o,this._lastWidth=r,i},r.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},r.prototype._drawPoint=function(e,t,n){var i=this._ctx;i.moveTo(e,t),i.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1},r.prototype._drawCurve=function(e,t,n){var i=this._ctx,o=n-t,r=Math.floor(e.length());i.beginPath();for(var s=0;s<r;s+=1){var a=s/r,l=a*a,c=l*a,d=1-a,u=d*d,p=u*d,h=p*e.startPoint.x;h+=3*u*a*e.control1.x,h+=3*d*l*e.control2.x,h+=c*e.endPoint.x;var m=p*e.startPoint.y;m+=3*u*a*e.control1.y,m+=3*d*l*e.control2.y,m+=c*e.endPoint.y;var f=t+c*o;this._drawPoint(h,m,f)}i.closePath(),i.fill()},r.prototype._drawDot=function(e){var t=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,n),t.closePath(),t.fill()},r.prototype._fromData=function(e,t,n){for(var o=0;o<e.length;o+=1){var r=e[o];if(r.length>1)for(var s=0;s<r.length;s+=1){var a=r[s],l=new i(a.x,a.y,a.time),c=a.color;if(0===s)this.penColor=c,this._reset(),this._addPoint(l);else if(s!==r.length-1){var d=this._addPoint(l),u=d.curve,p=d.widths;u&&p&&t(u,p,c)}}else this._reset(),n(r[0])}},r.prototype._toSVG=function(){var e=this,t=this._data,n=this._canvas,i=Math.max(window.devicePixelRatio||1,1),o=n.width/i,r=n.height/i,s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttributeNS(null,"width",n.width),s.setAttributeNS(null,"height",n.height),this._fromData(t,function(e,t,n){var i=document.createElement("path");if(!(isNaN(e.control1.x)||isNaN(e.control1.y)||isNaN(e.control2.x)||isNaN(e.control2.y))){var o="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" C "+e.control1.x.toFixed(3)+","+e.control1.y.toFixed(3)+" "+e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3);i.setAttribute("d",o),i.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),i.setAttribute("stroke",n),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),s.appendChild(i)}},function(t){var n=document.createElement("circle"),i="function"==typeof e.dotSize?e.dotSize():e.dotSize;n.setAttribute("r",i),n.setAttribute("cx",t.x),n.setAttribute("cy",t.y),n.setAttribute("fill",t.color),s.appendChild(n)});var a='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+o+" "+r+'" width="'+o+'" height="'+r+'">',l=s.innerHTML;if(void 0===l){var c=document.createElement("dummy"),d=s.childNodes;c.innerHTML="";for(var u=0;u<d.length;u+=1)c.appendChild(d[u].cloneNode(!0));l=c.innerHTML}return"data:image/svg+xml;base64,"+btoa(a+l+"</svg>")},r.prototype.fromData=function(e){var t=this;this.clear(),this._fromData(e,function(e,n){return t._drawCurve(e,n.start,n.end)},function(e){return t._drawDot(e)}),this._data=e},r.prototype.toData=function(){return this._data};const s=r}}]);
//# sourceMappingURL=libs_com-example-test210500_src_index_ts.js.map