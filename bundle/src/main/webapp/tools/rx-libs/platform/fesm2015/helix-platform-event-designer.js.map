{"version":3,"file":"helix-platform-event-designer.js","sources":["../../../../libs/platform/event/designer/event-designer/event-designer.component.ts","../../../../libs/platform/event/designer/event-designer/event-designer.component.html","../../../../libs/platform/event/designer/event-designer/event-designer.module.ts","../../../../libs/platform/event/designer/event-designer-page/event-designer-page.component.ts","../../../../libs/platform/event/designer/event-designer-page/event-designer-page.component.html","../../../../libs/platform/event/designer/event-designer-page/event-designer-page.module.ts","../../../../libs/platform/event/designer/helix-platform-event-designer.ts"],"sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { BehaviorSubject, combineLatest, Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\nimport { TranslateService } from '@ngx-translate/core';\nimport { filter as _filter } from 'lodash';\n\nimport {\n  IFormBuilderEvent,\n  IPlainObject,\n  RxBundleCacheService,\n  RxDefinitionNameService,\n  RxGlobalCacheService,\n  RxOverlayService\n} from '@helix/platform/shared/api';\nimport {\n  IBreadcrumbItem,\n  IValidationIssue,\n  IValidationIssueSection,\n  ValidationIssueType\n} from '@helix/platform/ui-kit';\nimport { INamedListDefinition, RxNamedListDefinitionService } from '@helix/platform/named-list/api';\n\n@Component({\n  selector: 'rx-event-designer',\n  templateUrl: './event-designer.component.html',\n  styleUrls: ['./event-designer.component.scss']\n})\nexport class RxEventDesignerComponent implements OnInit {\n  @Input()\n  eventDefinitionName: string;\n\n  @Output()\n  eventDefinitionSaved: EventEmitter<string> = new EventEmitter();\n\n  @Output()\n  eventDefinitionErrorLoading: EventEmitter<void> = new EventEmitter();\n\n  @Output()\n  closeDesigner: EventEmitter<void> = new EventEmitter<void>();\n\n  isDesignMode = true;\n\n  isExistingEvent = false;\n\n  isCustomizationEnabled = true;\n\n  bundleFriendlyName$ = this.rxGlobalCacheService.getBundleFriendlyName(this.rxBundleCacheService.bundleId);\n\n  validationIssues$ = new BehaviorSubject<IValidationIssueSection[]>([]);\n\n  hasValidationErrors$: Observable<boolean> = this.validationIssues$.pipe(\n    map((validationIssues) =>\n      Boolean(\n        _filter(validationIssues, {\n          issues: [{ type: ValidationIssueType.Error }]\n        }).length\n      )\n    ),\n    distinctUntilChanged()\n  );\n\n  breadcrumbItems$: Observable<IBreadcrumbItem[]>;\n\n  eventDefinition$ = new BehaviorSubject<INamedListDefinition>(null);\n\n  isSaveButtonDisabled$: Observable<boolean>;\n\n  isSavingInProgress$ = new BehaviorSubject<boolean>(false);\n\n  private bundleId = this.rxBundleCacheService.bundleId;\n\n  private isBundleEditable = this.rxOverlayService.isBundleEditable(this.bundleId);\n\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  constructor(\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private translateService: TranslateService,\n    private rxOverlayService: RxOverlayService\n  ) {}\n\n  ngOnInit(): void {\n    if (this.eventDefinitionName) {\n    } else {\n    }\n\n    this.breadcrumbItems$ = this.eventDefinition$.pipe(\n      map((eventDefinition) => {\n        const definitionName = this.rxDefinitionNameService.getDisplayName(eventDefinition?.name);\n\n        return [\n          {\n            label:\n              definitionName ||\n              `<${this.translateService.instant('com.bmc.arsys.rx.client.event-designer.new-event.label')}>`,\n            data: {}\n          }\n        ];\n      })\n    );\n\n    this.isSaveButtonDisabled$ = combineLatest([this.validationIssues$, this.isSavingInProgress$]).pipe(\n      map(\n        ([[validationIssueSection], isSavingInProgress]) =>\n          Boolean(validationIssueSection?.issues) || !this.isBundleEditable || isSavingInProgress\n      )\n    );\n  }\n\n  canDeactivate(): boolean {\n    return true;\n  }\n\n  toggleDesignMode(): void {\n    this.isDesignMode = !this.isDesignMode;\n  }\n\n  onCorrectIssue(validationIssue: IValidationIssue): void {}\n\n  validate(value: IPlainObject): IValidationIssueSection[] {\n    const validationIssues: IValidationIssue[] = [];\n\n    return validationIssues.length\n      ? [\n          {\n            title: this.translateService.instant('com.bmc.arsys.rx.client.event-designer.new-event.label'),\n            issues: validationIssues\n          }\n        ]\n      : [];\n  }\n\n  onRevertCustomization(event: IFormBuilderEvent): void {}\n\n  saveDefinition(): void {}\n}\n","<rx-designer-header\n  [bundleName]=\"bundleFriendlyName$ | async\"\n  [breadcrumbItems]=\"breadcrumbItems$ | async\"\n  [isDesignMode]=\"isDesignMode\"\n  [isSaveButtonDisabled]=\"isSaveButtonDisabled$ | async\"\n  (toggleDesignMode)=\"toggleDesignMode()\"\n  (save)=\"saveDefinition()\"\n  (closeDesigner)=\"closeDesigner.emit()\"\n>\n</rx-designer-header>\n\n<div class=\"rx-component-designer\" [hidden]=\"!isDesignMode\">\n  <adapt-sidebar position=\"right\" panelWidth=\"280px\" [openedId]=\"0\">\n    <adapt-sidebar-item\n      headerTitle=\"{{ 'com.bmc.arsys.rx.client.common.properties.label' | translate }}\"\n      tooltipText=\"{{ 'com.bmc.arsys.rx.client.common.properties.label' | translate }}\"\n      iconClass=\"d-icon-pencil\"\n    >\n      <!-- <rx-form-builder\n                [config]=\"propertiesConfig\"\n                [focusEditor$]=\"inspectorFocusEditor$\"\n                [model]=\"documentModel\"\n                (modelChange)=\"onModelChange($event)\"\n                [isReadOnly]=\"isReadOnly$ | async\"\n              ></rx-form-builder> -->\n    </adapt-sidebar-item>\n\n    <adapt-sidebar-item iconClass=\"d-icon-gear\"> </adapt-sidebar-item>\n\n    <adapt-sidebar-item\n      headerTitle=\"{{ 'com.bmc.arsys.rx.client.designer.validation-issues.label' | translate }}\"\n      tooltipText=\"{{ 'com.bmc.arsys.rx.client.designer.validation-issues.label' | translate }}\"\n      [iconClass]=\"\n        (hasValidationErrors$ | async) ? 'd-icon-exclamation_triangle text-danger' : 'd-icon-exclamation_triangle'\n      \"\n    >\n      <rx-validation-issues\n        [definitionTypeDisplayName]=\"'com.bmc.arsys.rx.client.common.event-definition.label' | translate\"\n        (correctIssue)=\"onCorrectIssue($event)\"\n        [issueSections]=\"validationIssues$ | async\"\n      >\n      </rx-validation-issues>\n    </adapt-sidebar-item>\n\n    <div class=\"main rx-designer-container h-100\">\n      <h1 class=\"mt-0\">\n        {{\n          isExistingEvent\n            ? ('com.bmc.arsys.rx.client.event-designer.edit-event.title' | translate)\n            : ('com.bmc.arsys.rx.client.event-designer.create-event.title' | translate)\n        }}\n      </h1>\n    </div>\n  </adapt-sidebar>\n</div>\n\n<adapt-code-viewer\n  *ngIf=\"!isDesignMode\"\n  [code]=\"eventDefinition$ | async | json\"\n  [lang]=\"'javascript'\"\n  [hasToolbar]=\"false\"\n  [theme]=\"'light'\"\n  class=\"full-size\"\n></adapt-code-viewer>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AdaptCodeViewerModule, AdaptRxFormsModule, AdaptSidebarModule, AdaptTabsModule } from '@bmc-ux/adapt-angular';\nimport {\n  CustomizationOptionsModule,\n  RxDefinitionPickerModule,\n  RxDesignerHeaderModule,\n  RxFormBuilderModule,\n  RxRevertCustomizationModule\n} from '@helix/platform/shared/components';\nimport { RxJsonViewerModule, RxValidationIssuesModule } from '@helix/platform/ui-kit';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { RxEventDesignerComponent } from './event-designer.component';\n\n@NgModule({\n  declarations: [RxEventDesignerComponent],\n  imports: [\n    AdaptCodeViewerModule,\n    AdaptRxFormsModule,\n    AdaptSidebarModule,\n    AdaptTabsModule,\n    CommonModule,\n    CustomizationOptionsModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RxDefinitionPickerModule,\n    RxDesignerHeaderModule,\n    RxFormBuilderModule,\n    RxJsonViewerModule,\n    RxRevertCustomizationModule,\n    RxValidationIssuesModule,\n    TranslateModule\n  ],\n  exports: [RxEventDesignerComponent]\n})\nexport class RxEventDesignerModule {}\n","import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ReplaySubject } from 'rxjs';\nimport { TranslateService } from '@ngx-translate/core';\nimport { RxUtilityModalsService } from '@helix/platform/ui-kit';\nimport {\n  RX_APPLICATION,\n  RxBundleCacheService,\n  RxDefinitionNameService,\n  RxPageTitleService,\n  IComponentCanDeactivate,\n  RxComponentCanDeactivateGuard\n} from '@helix/platform/shared/api';\nimport { takeUntil } from 'rxjs/operators';\nimport { RxEventDesignerComponent } from '../event-designer/event-designer.component';\n\n@Component({\n  selector: 'rx-event-designer-page',\n  templateUrl: './event-designer-page.component.html'\n})\nexport class RxEventDesignerPageComponent implements OnInit, OnDestroy, IComponentCanDeactivate {\n  isInitialized = false;\n  eventDefinitionName: string;\n\n  private isNewEvent: boolean;\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  @ViewChild(RxEventDesignerComponent)\n  private eventDesignerComponent: RxEventDesignerComponent;\n\n  constructor(\n    private rxUtilityModalService: RxUtilityModalsService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxPageTitleService: RxPageTitleService,\n    private rxComponentCanDeactivateGuard: RxComponentCanDeactivateGuard,\n    private translateService: TranslateService,\n    private activatedRoute: ActivatedRoute,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.rxComponentCanDeactivateGuard.setPageComponent(this);\n\n    this.activatedRoute.params.pipe(takeUntil(this.destroyed$)).subscribe(({ definitionName, bundleId }) => {\n      this.rxBundleCacheService.bundleId = bundleId || this.rxDefinitionNameService.getBundleId(definitionName);\n\n      this.isInitialized = true;\n      this.isNewEvent = !definitionName;\n      this.eventDefinitionName = definitionName;\n\n      this.rxPageTitleService.set([\n        this.rxDefinitionNameService.getDisplayName(definitionName),\n        this.translateService.instant('com.bmc.arsys.rx.client.event-designer.title')\n      ]);\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n    this.rxComponentCanDeactivateGuard.setPageComponent(null);\n  }\n\n  onCloseDesigner(): void {\n    this.router.navigate([\n      RX_APPLICATION.innovationStudioBundleId,\n      this.rxBundleCacheService.bundleId,\n      'event-definitions'\n    ]);\n  }\n\n  confirmDeactivation(): Promise<boolean> {\n    return this.rxUtilityModalService.confirmUnsavedChanges();\n  }\n\n  canDeactivate(): boolean {\n    return this.eventDesignerComponent?.canDeactivate() ?? true;\n  }\n\n  onEventDefinitionSaved(eventDefinitionName: string): void {\n    if (this.isNewEvent) {\n      this.router.navigate(['edit2', eventDefinitionName], { relativeTo: this.activatedRoute.parent });\n    }\n  }\n\n  onEventDefinitionErrorLoading(): void {\n    this.router.navigate(['new2', this.rxBundleCacheService.bundleId], { relativeTo: this.activatedRoute.parent });\n  }\n}\n","<rx-event-designer\n  *ngIf=\"isInitialized\"\n  [eventDefinitionName]=\"eventDefinitionName\"\n  (eventDefinitionSaved)=\"onEventDefinitionSaved($event)\"\n  (eventDefinitionErrorLoading)=\"onEventDefinitionErrorLoading()\"\n  (closeDesigner)=\"onCloseDesigner()\"\n></rx-event-designer>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RxEventDesignerPageComponent } from './event-designer-page.component';\nimport { RxEventDesignerModule } from '../event-designer/event-designer.module';\n\n@NgModule({\n  declarations: [RxEventDesignerPageComponent],\n  imports: [CommonModule, RxEventDesignerModule],\n  exports: [RxEventDesignerPageComponent]\n})\nexport class RxEventDesignerPageModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["_filter"],"mappings":"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"}