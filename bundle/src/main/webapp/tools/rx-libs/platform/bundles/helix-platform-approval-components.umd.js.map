{"version":3,"file":"helix-platform-approval-components.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/platform/approval/components/approval-console/approval-console.types.ts","../../../../libs/platform/approval/components/approval-console/approval-console.constant.ts","../../../../libs/platform/approval/components/approval-console/signature-detail-data-page.service.ts","../../../../libs/platform/approval/components/approval-console/approval-request-reassign/approval-users-data-page.service.ts","../../../../libs/platform/approval/components/approval-console/approval-console.service.ts","../../../../libs/platform/approval/components/approval-console/approval-request-reassign/approval-request-reassign.component.ts","../../../../libs/platform/approval/components/approval-console/approval-request-reassign/approval-request-reassign.component.html","../../../../libs/platform/approval/components/approval-console/approval-request-question-response/approval-request-question-response.component.ts","../../../../libs/platform/approval/components/approval-console/approval-request-question-response/approval-request-question-response.component.html","../../../../libs/platform/approval/components/approval-console/approval-request-action-reason-input/approval-request-action-reason-input.component.ts","../../../../libs/platform/approval/components/approval-console/approval-request-action-reason-input/approval-request-action-reason-input.component.html","../../../../libs/platform/approval/components/approval-console/approval-console-helper.service.ts","../../../../libs/platform/approval/components/approval-console/approval-request-general-details/approval-request-general-details.component.ts","../../../../libs/platform/approval/components/approval-console/approval-request-general-details/approval-request-general-details.component.html","../../../../libs/platform/approval/components/approval-console/approval-request-approvers/approval-request-approvers.component.ts","../../../../libs/platform/approval/components/approval-console/approval-request-approvers/approval-request-approvers.component.html","../../../../libs/platform/approval/components/approval-console/approval-request-question/approval-request-question.component.ts","../../../../libs/platform/approval/components/approval-console/approval-request-question/approval-request-question.component.html","../../../../libs/platform/approval/components/approval-console/approval-request-questions/approval-request-questions.component.ts","../../../../libs/platform/approval/components/approval-console/approval-request-questions/approval-request-questions.component.html","../../../../libs/platform/approval/components/approval-console/approval-request-comment/approval-request-comment.component.ts","../../../../libs/platform/approval/components/approval-console/approval-request-comment/approval-request-comment.component.html","../../../../libs/platform/approval/components/approval-console/approval-qci-data-page.service.ts","../../../../libs/platform/approval/components/approval-console/approval-request-comments/approval-request-comments.component.ts","../../../../libs/platform/approval/components/approval-console/approval-request-comments/approval-request-comments.component.html","../../../../libs/platform/approval/components/approval-console/approval-request-attachments/approval-request-attachments.component.ts","../../../../libs/platform/approval/components/approval-console/approval-request-attachments/approval-request-attachments.component.html","../../../../libs/platform/approval/components/approval-console/approval-console.component.ts","../../../../libs/platform/approval/components/approval-console/approval-console.component.html","../../../../libs/platform/approval/components/approval-console/approval-console-registration.module.ts","../../../../libs/platform/approval/components/approval-console.module.ts","../../../../libs/platform/approval/components/helix-platform-approval-components.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { JustificationRequirement, YesOrNo } from '@helix/platform/shared/api';\r\n\r\nexport interface IApprovalRequestCounts {\r\n  pendingCount: number;\r\n  holdCount: number;\r\n  moreInformationCount: number;\r\n  approvedCount: number;\r\n  rejectedCount: number;\r\n  cancelledCount: number;\r\n  errorCount: number;\r\n  closedCount: number;\r\n  needAttentionCount: number;\r\n}\r\n\r\nexport enum ApprovalRequestStatus {\r\n  Pending = 'Pending',\r\n  Hold = 'On Hold',\r\n  MoreInfo = 'More Information',\r\n  RequestMoreInfo = 'Request More Information',\r\n  NeedsAttention = 'Needs Attention',\r\n  Approved = 'Approved',\r\n  Rejected = 'Rejected',\r\n  Cancelled = 'Cancelled',\r\n  Error = 'Error',\r\n  Closed = 'Closed'\r\n}\r\n\r\nexport enum ApprovalGridType {\r\n  ApprovalRequests = 'approvalRequests',\r\n  NeedAttentionRequests = 'needAttentionRequests'\r\n}\r\n\r\nexport interface IApprovalRequestType {\r\n  status: ApprovalRequestStatus;\r\n  countType: string;\r\n  gridType: ApprovalGridType;\r\n  label?: string;\r\n  badgeType: string;\r\n}\r\n\r\nexport enum ApprovalCommandType {\r\n  Approved = 'Approved',\r\n  Rejected = 'Rejected',\r\n  OnHold = 'OnHold',\r\n  Reassign = 'Reassign'\r\n}\r\n\r\nexport interface IApprovalRequest {\r\n  canReassign: YesOrNo;\r\n  justificationRequired: JustificationRequirement;\r\n  status: ApprovalRequestStatus;\r\n  application: string;\r\n  approvers: string;\r\n  notes: string;\r\n  request: string;\r\n  requester: string;\r\n  summary: string;\r\n  process: string;\r\n  processType: string;\r\n  createDateSig: string;\r\n  requestDate: string;\r\n  statusDate: string;\r\n  actionDate: string;\r\n  sigTermStateDate: string;\r\n  justification: string;\r\n  otherDetail1: string;\r\n  otherDetail2: string;\r\n  otherDetail3: string;\r\n  otherDetail4: string;\r\n  signatureID: string;\r\n  signatureInstanceID: string;\r\n  actingAs: string;\r\n\r\n  resolvedDisplayValues: {\r\n    notes: string;\r\n    otherDetail1: string;\r\n    otherDetail2: string;\r\n    otherDetail3: string;\r\n    otherDetail4: string;\r\n    request: string;\r\n    requester: string;\r\n    summary: string;\r\n    toolTip: string;\r\n  };\r\n}\r\n\r\nexport interface IApprovalCommand {\r\n  formName: string;\r\n  requestID: string;\r\n  command: ApprovalCommandType;\r\n  assignToApprovers?: string;\r\n  justificationOrReason?: string;\r\n}\r\n\r\nexport interface INeedAttentionRequest {\r\n  2: string;\r\n  4: string;\r\n  379: string;\r\n  10050: string;\r\n  10051: string;\r\n  13300: string;\r\n  14506: string;\r\n  14893: string;\r\n}\r\n\r\nexport interface IRequestAdditionalFields {\r\n  14508: string;\r\n  14509: string;\r\n  14510: string;\r\n  14511: string;\r\n}\r\n\r\nexport interface IRequestConfig {\r\n  requestId: string;\r\n  requestSignatureInstanceId: string;\r\n  reason: string;\r\n  isReasonRequired: boolean;\r\n}\r\n","import { ApprovalGridType, ApprovalRequestStatus } from './approval-console.types';\r\n\r\nexport const RX_APPROVAL_CONSOLE = {\r\n  approvalServerCommand: 'com.bmc.arsys.rx.approval.application.command.ApprovalServerCommand',\r\n  approvalCommandForm: 'AP:Signature',\r\n  approvalUserNameField: 101,\r\n\r\n  approvalRequestTypes: {\r\n    pending: {\r\n      status: ApprovalRequestStatus.Pending,\r\n      countType: 'pendingCount',\r\n      gridType: ApprovalGridType.ApprovalRequests,\r\n      badgeType: 'warning',\r\n      labelKey: 'com.bmc.arsys.rx.client.approval.console.request.pending.label'\r\n    },\r\n    onHold: {\r\n      status: ApprovalRequestStatus.Hold,\r\n      countType: 'holdCount',\r\n      gridType: ApprovalGridType.ApprovalRequests,\r\n      badgeType: 'warning',\r\n      labelKey: 'com.bmc.arsys.rx.client.approval.console.request.hold.label'\r\n    },\r\n    moreInfo: {\r\n      status: ApprovalRequestStatus.RequestMoreInfo,\r\n      countType: 'moreInformationCount',\r\n      gridType: ApprovalGridType.ApprovalRequests,\r\n      badgeType: 'info',\r\n      labelKey: 'com.bmc.arsys.rx.client.approval.console.request.more-info.label'\r\n    },\r\n    needAttention: {\r\n      status: ApprovalRequestStatus.NeedsAttention,\r\n      countType: 'needAttentionCount',\r\n      gridType: ApprovalGridType.NeedAttentionRequests,\r\n      badgeType: 'warning',\r\n      labelKey: 'com.bmc.arsys.rx.client.approval.console.request.needs-attention.label'\r\n    },\r\n    approved: {\r\n      status: ApprovalRequestStatus.Approved,\r\n      countType: 'approvedCount',\r\n      gridType: ApprovalGridType.ApprovalRequests,\r\n      badgeType: 'success',\r\n      labelKey: 'com.bmc.arsys.rx.client.approval.console.request.approved.label'\r\n    },\r\n    rejected: {\r\n      status: ApprovalRequestStatus.Rejected,\r\n      countType: 'rejectedCount',\r\n      gridType: ApprovalGridType.ApprovalRequests,\r\n      badgeType: 'danger',\r\n      labelKey: 'com.bmc.arsys.rx.client.approval.console.request.rejected.label'\r\n    },\r\n    cancelled: {\r\n      status: ApprovalRequestStatus.Cancelled,\r\n      countType: 'cancelledCount',\r\n      gridType: ApprovalGridType.ApprovalRequests,\r\n      badgeType: 'secondary',\r\n      labelKey: 'com.bmc.arsys.rx.client.approval.console.request.canceled.label'\r\n    },\r\n    error: {\r\n      status: ApprovalRequestStatus.Error,\r\n      countType: 'errorCount',\r\n      gridType: ApprovalGridType.ApprovalRequests,\r\n      badgeType: 'danger',\r\n      labelKey: 'com.bmc.arsys.rx.client.approval.console.request.errored.label'\r\n    },\r\n    closed: {\r\n      status: ApprovalRequestStatus.Closed,\r\n      countType: 'closedCount',\r\n      gridType: ApprovalGridType.ApprovalRequests,\r\n      badgeType: 'secondary',\r\n      labelKey: 'com.bmc.arsys.rx.client.approval.console.request.closed.label'\r\n    }\r\n  },\r\n\r\n  approvalRequestsGrid: {\r\n    fields: {\r\n      application: 'application',\r\n      summary: 'summary',\r\n      requester: 'requester',\r\n      status: 'status',\r\n      request: 'request',\r\n      createDateSig: 'createDateSig',\r\n      process: 'process',\r\n      signatureInstanceID: 'signatureInstanceID',\r\n      justificationReasonField: 'justification',\r\n      sigTermStateDate: 'sigTermStateDate',\r\n      signatureID: 'signatureID',\r\n      otherDetail1: 'otherDetail1',\r\n      otherDetail2: 'otherDetail2',\r\n      otherDetail3: 'otherDetail3',\r\n      otherDetail4: 'otherDetail4',\r\n      justificationRequired: 'justificationRequired',\r\n      canReassign: 'canReassign',\r\n      processInstanceId: 'processInstanceId',\r\n      ifMultipleApprovers: 'ifMultipleApprovers',\r\n      actingAs: 'actingAs'\r\n    }\r\n  },\r\n\r\n  needAttentionRequestsGrid: {\r\n    definition: 'AP:More Information',\r\n\r\n    fields: {\r\n      fromUser: '2',\r\n      toUser: '4',\r\n      description: '14506',\r\n      application: '10050',\r\n      requestID: '10051',\r\n      attachment: '14893',\r\n      question: '13300',\r\n      response: '13301',\r\n      state: '11016'\r\n    }\r\n  },\r\n\r\n  requestDetailsGrid: {\r\n    definition: 'AP:QCI-Detail-Join',\r\n    approverDefinition: 'AP:PreviewInfo',\r\n    questionDefinition: 'AP:Question-Comment-Info',\r\n    questionTypeValue: 0,\r\n    commentTypeValue: 1,\r\n    fields: {\r\n      from: 2,\r\n      to: 4,\r\n      application: 11001,\r\n      type: 11002,\r\n      signatureID: 11003,\r\n      request: 11004,\r\n      requestNumber: 13334,\r\n      process: 10000,\r\n      response: 11005,\r\n      question: 11006,\r\n      attachment: 11011,\r\n      approver: 14201\r\n    }\r\n  }\r\n};\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { DataPage } from '@helix/platform/shared/api';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RxSignatureDetailDataPageService extends DataPage {\r\n  constructor(private injector: Injector) {\r\n    super(injector, 'com.bmc.arsys.rx.approval.application.datapage.SignatureDetailDataPageQuery');\r\n  }\r\n}\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { DataPage } from '@helix/platform/shared/api';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RxApprovalUsersDataPageService extends DataPage {\r\n  constructor(private injector: Injector) {\r\n    super(injector, 'com.bmc.arsys.rx.approval.application.datapage.ApprovalUsersDataPageQuery');\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport {\r\n  ApprovalCommandType,\r\n  IApprovalCommand,\r\n  IApprovalRequest,\r\n  IApprovalRequestCounts,\r\n  IRequestAdditionalFields\r\n} from './approval-console.types';\r\nimport {\r\n  IDataPageParams,\r\n  IDataPageResult,\r\n  RX_APPLICATION,\r\n  RX_RESOURCE_URLS,\r\n  RxCurrentUserService\r\n} from '@helix/platform/shared/api';\r\nimport { RX_APPROVAL_CONSOLE } from './approval-console.constant';\r\nimport { RX_RECORD_DEFINITION, RxRecordInstanceUtilsService } from '@helix/platform/record/api';\r\nimport { IRxSelectWithPaginationOptionsPage } from '@helix/platform/shared/components';\r\nimport { map } from 'rxjs/operators';\r\nimport { RxApprovalUsersDataPageService } from './approval-request-reassign/approval-users-data-page.service';\r\nimport { RxSignatureDetailDataPageService } from './signature-detail-data-page.service';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RxApprovalConsoleService {\r\n  constructor(\r\n    private httpClient: HttpClient,\r\n    private rxSignatureDetailDataPageService: RxSignatureDetailDataPageService,\r\n    private rxCurrentUserService: RxCurrentUserService,\r\n    private rxRecordInstanceUtilsService: RxRecordInstanceUtilsService,\r\n    private rxApprovalUsersDataPageService: RxApprovalUsersDataPageService\r\n  ) {}\r\n\r\n  getApprovalRequestCounts(): Observable<IApprovalRequestCounts> {\r\n    return this.httpClient.get<IApprovalRequestCounts>(\r\n      `/api/${RX_APPLICATION.approvalBundleId}/rx/application/approval/counts?ignoreAlternateUser=false`\r\n    );\r\n  }\r\n\r\n  getRequestLabelDetails(\r\n    registeredDefinitionName: string,\r\n    approvalFlowName: string\r\n  ): Observable<IRequestAdditionalFields> {\r\n    return this.httpClient.get<IRequestAdditionalFields>(\r\n      `/api/${RX_APPLICATION.approvalBundleId}/rx/application/approval/labels/${encodeURIComponent(\r\n        registeredDefinitionName\r\n      )}/${encodeURIComponent(approvalFlowName)}`\r\n    );\r\n  }\r\n\r\n  getCurrentRequestDetails(requestId: string, application: string): Observable<IApprovalRequest> {\r\n    return this.rxSignatureDetailDataPageService\r\n      .get({\r\n        params: {\r\n          request: requestId,\r\n          application,\r\n          ignoreAssignedUser: true\r\n        }\r\n      })\r\n      .pipe(map((response: IDataPageResult) => response.data[0] as IApprovalRequest));\r\n  }\r\n\r\n  approveRequest(approvalCommands: IApprovalCommand[]): Observable<any> {\r\n    return this.httpClient.post(RX_RESOURCE_URLS.command, {\r\n      resourceType: RX_APPROVAL_CONSOLE.approvalServerCommand,\r\n      commands: approvalCommands\r\n    });\r\n  }\r\n\r\n  rejectRequest(approvalCommands: IApprovalCommand[]): Observable<any> {\r\n    return this.httpClient.post(RX_RESOURCE_URLS.command, {\r\n      resourceType: RX_APPROVAL_CONSOLE.approvalServerCommand,\r\n      commands: approvalCommands\r\n    });\r\n  }\r\n\r\n  holdRequest(approvalCommands: IApprovalCommand[]): Observable<any> {\r\n    return this.httpClient.post(RX_RESOURCE_URLS.command, {\r\n      resourceType: RX_APPROVAL_CONSOLE.approvalServerCommand,\r\n      commands: approvalCommands\r\n    });\r\n  }\r\n\r\n  reassignRequest(approvalCommands: IApprovalCommand[]): Observable<any> {\r\n    return this.httpClient.post(RX_RESOURCE_URLS.command, {\r\n      resourceType: RX_APPROVAL_CONSOLE.approvalServerCommand,\r\n      commands: approvalCommands\r\n    });\r\n  }\r\n\r\n  getCommandPayload(commandType: ApprovalCommandType, requestSignatureInstanceId: string): IApprovalCommand {\r\n    return {\r\n      formName: RX_APPROVAL_CONSOLE.approvalCommandForm,\r\n      requestID: requestSignatureInstanceId,\r\n      command: commandType\r\n    };\r\n  }\r\n\r\n  saveQuestion(formData: FormData, type: string): Observable<any> {\r\n    return this.httpClient.post(\r\n      `/api/${RX_APPLICATION.approvalBundleId}/rx/application/approval/moreinformation/${type}`,\r\n      formData\r\n    );\r\n  }\r\n\r\n  saveAttachment(formData: FormData, guid: string): Observable<any> {\r\n    return this.httpClient.post(\r\n      `${RX_RECORD_DEFINITION.recordInstanceAttachment}/${encodeURIComponent(\r\n        RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.definition\r\n      )}/${guid}`,\r\n      formData\r\n    );\r\n  }\r\n\r\n  getApprovalUsers(\r\n    startIndex: number,\r\n    pageSize: number,\r\n    searchQuery: string\r\n  ): Observable<IRxSelectWithPaginationOptionsPage> {\r\n    const queryParams: IDataPageParams = {\r\n      startIndex: startIndex,\r\n      pageSize: pageSize,\r\n      propertySelection: ['loginName', 'fullName']\r\n    };\r\n\r\n    queryParams.queryExpression = `'${\r\n      RX_APPROVAL_CONSOLE.approvalUserNameField\r\n    }'!=\"${this.rxCurrentUserService.getName()}\"`;\r\n\r\n    if (searchQuery) {\r\n      queryParams.queryExpression +=\r\n        ` AND ('${\r\n          RX_RECORD_DEFINITION.coreFieldIds.description\r\n        }' LIKE \"%${this.rxRecordInstanceUtilsService.escapeTextWildcards(searchQuery)}%\"` +\r\n        ` OR '${\r\n          RX_APPROVAL_CONSOLE.approvalUserNameField\r\n        }' LIKE \"%${this.rxRecordInstanceUtilsService.escapeTextWildcards(searchQuery)}%\")`;\r\n    }\r\n\r\n    return this.rxApprovalUsersDataPageService\r\n      .get({\r\n        params: { startIndex, pageSize, ...queryParams }\r\n      })\r\n      .pipe(\r\n        map((response: IDataPageResult) => ({\r\n          totalSize: response.totalSize,\r\n          options: response.data.map(({ fullName, loginName }) => ({\r\n            displayValue: fullName,\r\n            value: loginName\r\n          }))\r\n        }))\r\n      );\r\n  }\r\n}\r\n","import { Component, Injector } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { IRxSelectWithPaginationOption, IRxSelectWithPaginationOptionsPage } from '@helix/platform/shared/components';\nimport { RxNotificationService } from '@helix/platform/shared/api';\nimport { ActiveModalRef, DismissReasons } from '@bmc-ux/adapt-angular';\nimport { RxApprovalConsoleService } from '../approval-console.service';\nimport { map as _map } from 'lodash';\nimport { ApprovalCommandType } from '../approval-console.types';\nimport { TranslateService } from '@ngx-translate/core';\nimport { finalize } from 'rxjs/operators';\nimport { RxModalClass } from '@helix/platform/ui-kit';\n\n@Component({\n  selector: 'rx-approval-request-reassign',\n  templateUrl: './approval-request-reassign.component.html'\n})\nexport class ApprovalRequestReassignComponent extends RxModalClass {\n  selectedUser: IRxSelectWithPaginationOption[] = [];\n  userLoaderFunc = this.getApprovalUsers.bind(this);\n\n  constructor(\n    private translateService: TranslateService,\n    private rxNotificationService: RxNotificationService,\n    private activeModalRef: ActiveModalRef,\n    private rxApprovalConsoleService: RxApprovalConsoleService,\n    protected injector: Injector\n  ) {\n    super(activeModalRef, injector);\n  }\n\n  isDirty(): boolean {\n    return !!this.selectedUser.length;\n  }\n\n  reassign(): void {\n    this.allowDismiss = false;\n\n    const commands = _map(this.activeModalRef.getData().selectedRequestInstanceIds, (signatureInstance: string) => ({\n      assignToApprovers: this.selectedUser[0].value,\n      ...this.rxApprovalConsoleService.getCommandPayload(ApprovalCommandType.Reassign, signatureInstance)\n    }));\n\n    this.rxApprovalConsoleService\n      .reassignRequest(commands)\n      .pipe(\n        finalize(() => {\n          this.allowDismiss = true;\n        })\n      )\n      .subscribe(() => {\n        this.rxNotificationService.addSuccessMessage(\n          this.translateService.instant('com.bmc.arsys.rx.client.approval.console.request.reassigned.message')\n        );\n\n        this.activeModalRef.close(true);\n      });\n  }\n\n  cancel(): void {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n\n  private getApprovalUsers(\n    startIndex: number,\n    pageSize: number,\n    searchQuery: string\n  ): Observable<IRxSelectWithPaginationOptionsPage> {\n    return this.rxApprovalConsoleService.getApprovalUsers(startIndex, pageSize, searchQuery);\n  }\n\n  optionFormatter(option: IRxSelectWithPaginationOption): string {\n    return `${option.value} ${option.displayValue}`;\n  }\n}\n","<div class=\"modal-header\">\n  <h5 class=\"modal-title\">\n    {{ 'com.bmc.arsys.rx.client.approval.console.request.reassign-dialog.title' | translate }}\n  </h5>\n\n  <button\n    class=\"close dp-close\"\n    type=\"button\"\n    rx-id=\"x-button\"\n    [disabled]=\"!allowDismiss\"\n    (click)=\"cancel()\"\n  ></button>\n</div>\n\n<div class=\"modal-body\">\n  <rx-select-with-pagination\n    label=\"{{ 'com.bmc.arsys.rx.client.approval.console.request.reassign.label' | translate }}\"\n    class=\"form-group d-block\"\n    [(ngModel)]=\"selectedUser\"\n    [optionLoader]=\"userLoaderFunc\"\n    [required]=\"true\"\n    [template]=\"optionTemplate\"\n    [optionFormatter]=\"optionFormatter\"\n  ></rx-select-with-pagination>\n</div>\n\n<div class=\"modal-footer\">\n  <button\n    adapt-button\n    class=\"mr-2\"\n    btn-type=\"primary\"\n    type=\"button\"\n    rx-id=\"save-button\"\n    [adaptInlineLoader]=\"!allowDismiss\"\n    [disabled]=\"!selectedUser.length || !allowDismiss\"\n    (click)=\"reassign()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\n  </button>\n\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"secondary\"\n    rx-id=\"cancel-button\"\n    (click)=\"cancel()\"\n    [disabled]=\"!allowDismiss\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n</div>\n\n<ng-template #optionTemplate let-option>\n  <strong>{{ option.displayValue }}</strong>\n\n  <div class=\"text-secondary\">\n    {{ option.value }}\n  </div>\n</ng-template>\n","import { Component, Injector, OnInit } from '@angular/core';\nimport { ActiveModalRef, DismissReasons, FileObj, KeyValueObject } from '@bmc-ux/adapt-angular';\nimport { INeedAttentionRequest } from '../approval-console.types';\nimport { RX_APPROVAL_CONSOLE } from '../approval-console.constant';\nimport { RecordInstance, RX_RECORD_DEFINITION, RxRecordInstanceService } from '@helix/platform/record/api';\nimport { finalize, switchMap, tap } from 'rxjs/operators';\nimport { RxNotificationService } from '@helix/platform/shared/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { RxApprovalConsoleService } from '../approval-console.service';\nimport { of } from 'rxjs';\nimport { RxModalClass } from '@helix/platform/ui-kit';\n\n@Component({\n  selector: 'rx-approval-request-question-response',\n  templateUrl: './approval-request-question-response.component.html',\n  styleUrls: ['./approval-request-question-response.component.scss']\n})\nexport class ApprovalRequestQuestionResponseComponent extends RxModalClass implements OnInit {\n  request: KeyValueObject = this.activeModalRef.getData().selectedRequest as INeedAttentionRequest;\n  attachment: FileObj[] = [];\n  response: string;\n  enableCustomDownload = true;\n  private shouldSaveAttachment: boolean;\n\n  existingAttachmentName: string = this.request[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.attachment];\n\n  constructor(\n    private activeModalRef: ActiveModalRef,\n    private rxRecordInstanceService: RxRecordInstanceService,\n    private rxNotificationService: RxNotificationService,\n    private translateService: TranslateService,\n    private rxApprovalConsoleService: RxApprovalConsoleService,\n    protected injector: Injector\n  ) {\n    super(activeModalRef, injector);\n  }\n\n  isDirty(): boolean {\n    return !this.isSaveButtonDisabled();\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n\n    if (this.existingAttachmentName) {\n      this.attachment = this.getExistingFile();\n    }\n  }\n\n  sendResponse(): void {\n    this.allowDismiss = false;\n\n    this.rxRecordInstanceService\n      .get(RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.definition, this.request[RX_RECORD_DEFINITION.coreFieldIds.id])\n      .pipe(\n        switchMap((recordInstance: RecordInstance) => {\n          recordInstance.setFieldValue(\n            Number(RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.response),\n            this.response\n          );\n\n          return this.rxRecordInstanceService.save(recordInstance);\n        }),\n        tap(() => {\n          this.rxNotificationService.addSuccessMessage(\n            this.translateService.instant(\n              'com.bmc.arsys.rx.client.approval.console.question-response-dialog.response-added.message'\n            )\n          );\n        }),\n        switchMap(() => {\n          if (this.shouldSaveAttachment) {\n            const recordInstanceFormData = new FormData();\n\n            recordInstanceFormData.append(\n              RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.attachment,\n              this.attachment[0].data,\n              this.attachment[0].data.name\n            );\n\n            return this.rxApprovalConsoleService.saveAttachment(\n              recordInstanceFormData,\n              this.request[RX_RECORD_DEFINITION.coreFieldIds.id]\n            );\n          } else {\n            return of(null);\n          }\n        }),\n        finalize(() => {\n          this.allowDismiss = true;\n        })\n      )\n      .subscribe(() => {\n        this.activeModalRef.close(true);\n      });\n  }\n\n  onRemovedFileFromQueue(): void {\n    this.enableCustomDownload = false;\n  }\n\n  onAfterFilesAdded(): void {\n    this.shouldSaveAttachment = true;\n  }\n\n  downloadAttachment = () => {\n    this.rxRecordInstanceService.downloadAttachment(\n      RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.definition,\n      Number(RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.attachment),\n      this.request[RX_RECORD_DEFINITION.coreFieldIds.id],\n      this.request[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.attachment]\n    );\n  };\n\n  cancel(): void {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n\n  private getExistingFile(): FileObj[] {\n    return [\n      {\n        data: new File([], this.existingAttachmentName),\n        inUploading: false,\n        inDeleting: false,\n        uploaded: 100,\n        error: false,\n        errorText: '',\n        allowDeletion: true\n      }\n    ];\n  }\n\n  isSaveButtonDisabled(): boolean {\n    return !this.allowDismiss || !this.response || (this.existingAttachmentName && !this.attachment[0]?.data);\n  }\n}\n","<div class=\"modal-header\">\n  <h5 class=\"modal-title\">\n    {{ 'com.bmc.arsys.rx.client.approval.console.question-response-dialog.title' | translate }}\n  </h5>\n\n  <button\n    class=\"close dp-close\"\n    type=\"button\"\n    rx-id=\"x-button\"\n    [disabled]=\"!allowDismiss\"\n    (click)=\"cancel()\"\n  ></button>\n</div>\n\n<div class=\"modal-body\">\n  <rx-read-only-field\n    class=\"d-block form-group\"\n    label=\"{{ 'com.bmc.arsys.rx.client.approval.console.question-response-dialog.to-field.label' | translate }}\"\n    value=\"{{ request['2'] }}\"\n  ></rx-read-only-field>\n\n  <rx-read-only-field\n    class=\"d-block form-group\"\n    label=\"{{ 'com.bmc.arsys.rx.client.common.question.label' | translate }}\"\n    value=\"{{ request['13300'] }}\"\n  ></rx-read-only-field>\n\n  <adapt-rx-textarea\n    label=\"{{ 'com.bmc.arsys.rx.client.approval.console.question-response-dialog.response-field.label' | translate }}\"\n    class=\"d-block form-group\"\n    [(ngModel)]=\"response\"\n    [required]=\"true\"\n    [autofocus]=\"true\"\n    rows=\"2\"\n  ></adapt-rx-textarea>\n\n  <adapt-rx-uploader\n    adaptRequired\n    [(ngModel)]=\"attachment\"\n    [required]=\"existingAttachmentName\"\n    [showMaxSizeRestriction]=\"false\"\n    (removedFileFromQueue)=\"onRemovedFileFromQueue()\"\n    (afterFilesAdded)=\"onAfterFilesAdded()\"\n    [enableCustomDownload]=\"enableCustomDownload\"\n    [customDownload]=\"downloadAttachment\"\n    [reusable]=\"true\"\n    label=\"{{ 'com.bmc.arsys.rx.client.common.attachment.label' | translate }}\"\n  >\n  </adapt-rx-uploader>\n</div>\n\n<div class=\"modal-footer\">\n  <button\n    adapt-button\n    class=\"mr-2\"\n    btn-type=\"primary\"\n    type=\"button\"\n    rx-id=\"save-button\"\n    [disabled]=\"isSaveButtonDisabled()\"\n    [adaptInlineLoader]=\"!allowDismiss\"\n    (click)=\"sendResponse()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\n  </button>\n\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"secondary\"\n    rx-id=\"cancel-button\"\n    (click)=\"cancel()\"\n    [disabled]=\"!allowDismiss\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n</div>\n","import { Component, Injector, OnInit } from '@angular/core';\nimport { ApprovalCommandType, IApprovalCommand, IApprovalRequest, IRequestConfig } from '../approval-console.types';\nimport { ActiveModalRef, DismissReasons } from '@bmc-ux/adapt-angular';\nimport { map, some, trim } from 'lodash';\nimport { RX_APPROVAL_CONSOLE } from '../approval-console.constant';\nimport { RxApprovalConsoleService } from '../approval-console.service';\nimport { RxNotificationService } from '@helix/platform/shared/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { finalize } from 'rxjs/operators';\nimport { RxModalClass } from '@helix/platform/ui-kit';\n\n@Component({\n  selector: 'rx-approval-request-action-reason-input',\n  templateUrl: './approval-request-action-reason-input.component.html'\n})\nexport class ApprovalRequestActionReasonInputComponent extends RxModalClass implements OnInit {\n  currentRequestIndex = 0;\n  shouldApplySameReasonToAll: boolean;\n  requests: IRequestConfig[] = [];\n  title = this.activeModalRef.getData().modalTitle;\n  private commandType: ApprovalCommandType = this.activeModalRef.getData().commandType;\n\n  constructor(\n    private activeModalRef: ActiveModalRef,\n    private rxNotificationService: RxNotificationService,\n    private translateService: TranslateService,\n    private rxApprovalConsoleService: RxApprovalConsoleService,\n    protected injector: Injector\n  ) {\n    super(activeModalRef, injector);\n  }\n\n  isDirty(): boolean {\n    return some(this.requests, (request) => request.reason);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n\n    this.requests = map(this.activeModalRef.getData().selectedRequests, (request: IApprovalRequest) => ({\n      requestId: request[RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.request],\n      requestSignatureInstanceId: request[RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.signatureInstanceID],\n      reason: null,\n      isReasonRequired:\n        request.justificationRequired === 'TO_APPROVE_OR_REJECT' ||\n        (this.commandType === ApprovalCommandType.Approved && request.justificationRequired === 'TO_APPROVE') ||\n        (this.commandType === ApprovalCommandType.Rejected && request.justificationRequired === 'TO_REJECT')\n    }));\n  }\n\n  isSaveButtonDisabled(): boolean {\n    return (\n      !this.allowDismiss ||\n      (some(this.requests, (request) => request.isReasonRequired && this.isReasonEmpty(request.reason)) &&\n        !this.shouldApplySameReasonToAll)\n    );\n  }\n\n  goToPreviousRequest(): void {\n    this.currentRequestIndex--;\n  }\n\n  goToNextRequest(): void {\n    this.currentRequestIndex++;\n  }\n\n  saveRequests(): void {\n    this.allowDismiss = false;\n    const commonReason = this.requests[this.currentRequestIndex].reason;\n\n    const commands: IApprovalCommand[] = [\n      ...map(this.requests, (request: IRequestConfig) => ({\n        justificationOrReason: this.shouldApplySameReasonToAll ? commonReason : request.reason,\n        ...this.rxApprovalConsoleService.getCommandPayload(this.commandType, request.requestSignatureInstanceId)\n      }))\n    ];\n\n    this.rxApprovalConsoleService\n      .rejectRequest(commands)\n      .pipe(\n        finalize(() => {\n          this.allowDismiss = true;\n        })\n      )\n      .subscribe(() => {\n        this.rxNotificationService.addSuccessMessage(\n          this.translateService.instant(\n            this.commandType === ApprovalCommandType.Rejected\n              ? 'com.bmc.arsys.rx.client.approval.console.request.rejected.message'\n              : 'com.bmc.arsys.rx.client.approval.console.request.approved.message'\n          )\n        );\n\n        this.activeModalRef.close(true);\n      });\n  }\n\n  cancel(): void {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n\n  isReasonEmpty(reason: string): boolean {\n    return !trim(reason);\n  }\n}\n","<div class=\"modal-header\">\n  <h5 class=\"modal-title\">\n    {{ title }}\n  </h5>\n\n  <button\n    class=\"close dp-close\"\n    type=\"button\"\n    rx-id=\"x-button\"\n    [disabled]=\"!allowDismiss\"\n    (click)=\"cancel()\"\n  ></button>\n</div>\n\n<div class=\"modal-body\">\n  <adapt-rx-textfield\n    class=\"form-group d-block\"\n    label=\"{{ 'com.bmc.arsys.rx.client.approval.configuration.grid.column.requestId' | translate }}\"\n    [(ngModel)]=\"requests[currentRequestIndex].requestId\"\n    [readonly]=\"true\"\n    rx-id=\"request-id\"\n  >\n  </adapt-rx-textfield>\n\n  <adapt-rx-textarea\n    label=\"{{ 'com.bmc.arsys.rx.client.approval.justification-reason.label' | translate }}\"\n    class=\"d-block form-group\"\n    [(ngModel)]=\"requests[currentRequestIndex].reason\"\n    [required]=\"requests[currentRequestIndex].isReasonRequired\"\n    rx-id=\"justification-reason\"\n    rows=\"2\"\n    [autofocus]=\"true\"\n  ></adapt-rx-textarea>\n\n  <adapt-rx-switch\n    class=\"d-block mb-2\"\n    [(ngModel)]=\"shouldApplySameReasonToAll\"\n    [disabled]=\"isReasonEmpty(requests[currentRequestIndex].reason)\"\n    rx-id=\"all-request-reason\"\n    label=\"{{ 'com.bmc.arsys.rx.client.approval.console.apply-common-justification-reason.label' | translate }}\"\n  ></adapt-rx-switch>\n\n  <div class=\"text-warning\" *ngIf=\"shouldApplySameReasonToAll\">\n    {{ 'com.bmc.arsys.rx.client.approval.console.overwrite-justification-reason.warning' | translate }}\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <button\n    type=\"button\"\n    adapt-button\n    class=\"mr-2\"\n    btn-type=\"secondary\"\n    rx-id=\"previous-button\"\n    [disabled]=\"currentRequestIndex === 0 || shouldApplySameReasonToAll\"\n    (click)=\"goToPreviousRequest()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.previous-step.label' | translate }}\n  </button>\n\n  <button\n    type=\"button\"\n    adapt-button\n    class=\"mr-auto\"\n    btn-type=\"secondary\"\n    rx-id=\"next-button\"\n    [disabled]=\"currentRequestIndex === requests.length - 1 || shouldApplySameReasonToAll\"\n    (click)=\"goToNextRequest()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.next-step.label' | translate }}\n  </button>\n\n  <button\n    type=\"button\"\n    adapt-button\n    class=\"mr-2\"\n    btn-type=\"primary\"\n    rx-id=\"save-button\"\n    [disabled]=\"isSaveButtonDisabled()\"\n    [adaptInlineLoader]=\"!allowDismiss\"\n    (click)=\"saveRequests()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\n  </button>\n\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"secondary\"\n    rx-id=\"cancel-button\"\n    (click)=\"cancel()\"\n    [disabled]=\"!allowDismiss\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n</div>\n","import { Injectable } from '@angular/core';\nimport { DatePipe } from '@angular/common';\nimport moment from 'moment-es6';\n\n@Injectable()\nexport class RxApprovalConsoleHelperService {\n  constructor(private datePipe: DatePipe) {}\n\n  formatValue(value: string): string {\n    const timeFormat = 'h:mm:ss A';\n    const dateFormat = 'M/D/YYYY';\n\n    if (!/^\\d+$/.test(value) && moment(value, [`${dateFormat} ${timeFormat}`, moment.ISO_8601], true).isValid()) {\n      value = this.datePipe.transform(new Date(value), 'medium');\n    } else if (moment(value, dateFormat, true).isValid()) {\n      value = this.datePipe.transform(new Date(value), 'mediumDate');\n    } else if (moment(value, timeFormat, true).isValid()) {\n      value = moment(value, timeFormat).format('HH:mm A');\n    }\n\n    return value;\n  }\n}\n","import { Component, Input, OnChanges, SimpleChanges } from '@angular/core';\nimport { RX_APPROVAL_CONSOLE } from '../approval-console.constant';\nimport {\n  ApprovalGridType,\n  ApprovalRequestStatus,\n  IApprovalRequest,\n  IRequestAdditionalFields\n} from '../approval-console.types';\nimport { combineLatest, EMPTY, NEVER, Observable, of, Subject, Subscription } from 'rxjs';\nimport { map, switchMap, tap } from 'rxjs/operators';\nimport { IValueWithLabel } from '@helix/platform/utils';\nimport { RxApprovalConsoleService } from '../approval-console.service';\nimport { forEach } from 'lodash';\nimport { DatePipe } from '@angular/common';\nimport { TranslateService } from '@ngx-translate/core';\nimport { RxDefinitionNameService } from '@helix/platform/shared/api';\nimport { RxApprovalConsoleHelperService } from '../approval-console-helper.service';\n\n@Component({\n  selector: 'rx-approval-request-general-details',\n  templateUrl: './approval-request-general-details.component.html',\n  styleUrls: ['./approval-request-general-details.component.scss']\n})\nexport class ApprovalRequestGeneralDetailsComponent implements OnChanges {\n  @Input()\n  approvalRequest: IApprovalRequest;\n\n  @Input()\n  gridType: ApprovalGridType;\n\n  private approvalRequest$ = new Subject<IApprovalRequest>();\n  readonly statuses: any;\n  busy: Subscription;\n\n  allRequestFields$: Observable<IValueWithLabel[]> = this.approvalRequest$.pipe(\n    tap(() => {\n      this.busy = NEVER.subscribe();\n    }),\n    switchMap((currentRequest: IApprovalRequest) =>\n      this.gridType === ApprovalGridType.NeedAttentionRequests\n        ? this.rxApprovalConsoleService.getCurrentRequestDetails(\n            currentRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.requestID],\n            currentRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.application]\n          )\n        : of(currentRequest)\n    ),\n    switchMap((approvalRequest: IApprovalRequest) =>\n      combineLatest([\n        of(approvalRequest as IApprovalRequest),\n        this.rxApprovalConsoleService.getRequestLabelDetails(approvalRequest.application, approvalRequest.process)\n      ])\n    ),\n    map(([approvalRequest, requestLabelDetails]) => {\n      const allFields: IValueWithLabel[] = [\n        {\n          label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.request-id.label'),\n          value: approvalRequest.resolvedDisplayValues.request || approvalRequest.request\n        },\n        {\n          label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.requester.label'),\n          value: approvalRequest.resolvedDisplayValues.requester || approvalRequest.requester\n        },\n\n        {\n          label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.request-date.label'),\n          value: this.datePipe.transform(approvalRequest.createDateSig, 'medium')\n        },\n\n        {\n          label: this.translateService.instant('com.bmc.arsys.rx.client.common.description.label'),\n          value: approvalRequest.resolvedDisplayValues.summary || approvalRequest.summary\n        },\n\n        {\n          label: this.translateService.instant('com.bmc.arsys.rx.client.common.status.label'),\n          value: this.statuses[approvalRequest.status]\n        },\n\n        {\n          label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.status-date.label'),\n          value: this.datePipe.transform(approvalRequest.sigTermStateDate, 'medium')\n        }\n      ];\n\n      if (approvalRequest.actionDate) {\n        allFields.push({\n          label: '',\n          value: this.datePipe.transform(approvalRequest.actionDate, 'medium')\n        });\n      }\n\n      if (approvalRequest.justification) {\n        allFields.push({\n          label: this.translateService.instant('com.bmc.arsys.rx.client.approval.justification-reason.label'),\n          value: approvalRequest.justification\n        });\n      }\n\n      const labelValues: IRequestAdditionalFields = {\n        14508: approvalRequest.resolvedDisplayValues.otherDetail1,\n        14509: approvalRequest.resolvedDisplayValues.otherDetail2,\n        14510: approvalRequest.resolvedDisplayValues.otherDetail3,\n        14511: approvalRequest.resolvedDisplayValues.otherDetail4\n      };\n\n      forEach(requestLabelDetails, (label, key) => {\n        if (label) {\n          allFields.push({\n            label: requestLabelDetails[key],\n            value: this.rxApprovalConsoleHelperService.formatValue(labelValues[key])\n          });\n        }\n      });\n\n      allFields.push({\n        label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.activity-log.label'),\n        value: `${this.rxDefinitionNameService.getDisplayName(approvalRequest.application)} ${\n          approvalRequest.resolvedDisplayValues.request || approvalRequest.request\n        }, ${approvalRequest.resolvedDisplayValues.requester || approvalRequest.requester}`\n      });\n\n      return allFields;\n    }),\n    tap(() => {\n      this.busy = EMPTY.subscribe();\n    })\n  );\n\n  constructor(\n    private rxApprovalConsoleHelperService: RxApprovalConsoleHelperService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private datePipe: DatePipe,\n    private translateService: TranslateService,\n    private rxApprovalConsoleService: RxApprovalConsoleService\n  ) {\n    this.statuses = {\n      [ApprovalRequestStatus.Pending]: this.translateService.instant(\n        RX_APPROVAL_CONSOLE.approvalRequestTypes.pending.labelKey\n      ),\n      [ApprovalRequestStatus.RequestMoreInfo]: this.translateService.instant(\n        RX_APPROVAL_CONSOLE.approvalRequestTypes.moreInfo.labelKey\n      ),\n      [ApprovalRequestStatus.Hold]: this.translateService.instant(\n        RX_APPROVAL_CONSOLE.approvalRequestTypes.onHold.labelKey\n      ),\n      [ApprovalRequestStatus.MoreInfo]: this.translateService.instant(\n        RX_APPROVAL_CONSOLE.approvalRequestTypes.moreInfo.labelKey\n      ),\n      [ApprovalRequestStatus.NeedsAttention]: this.translateService.instant(\n        RX_APPROVAL_CONSOLE.approvalRequestTypes.needAttention.labelKey\n      ),\n      [ApprovalRequestStatus.Approved]: this.translateService.instant(\n        RX_APPROVAL_CONSOLE.approvalRequestTypes.approved.labelKey\n      ),\n      [ApprovalRequestStatus.Rejected]: this.translateService.instant(\n        RX_APPROVAL_CONSOLE.approvalRequestTypes.rejected.labelKey\n      ),\n      [ApprovalRequestStatus.Cancelled]: this.translateService.instant(\n        RX_APPROVAL_CONSOLE.approvalRequestTypes.cancelled.labelKey\n      ),\n      [ApprovalRequestStatus.Error]: this.translateService.instant(\n        RX_APPROVAL_CONSOLE.approvalRequestTypes.error.labelKey\n      ),\n      [ApprovalRequestStatus.Closed]: this.translateService.instant(\n        RX_APPROVAL_CONSOLE.approvalRequestTypes.closed.labelKey\n      )\n    };\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.approvalRequest?.currentValue) {\n      this.approvalRequest$.next(changes.approvalRequest.currentValue);\n    }\n  }\n}\n","<rx-busy-indicator [options]=\"{ busy: busy }\"></rx-busy-indicator>\n\n<adapt-empty-state\n  type=\"alerts\"\n  *ngIf=\"!approvalRequest\"\n  label=\"{{ 'com.bmc.arsys.rx.client.approval.console.no-request-selected.message' | translate }}\"\n></adapt-empty-state>\n\n<div [hidden]=\"!approvalRequest\" *ngIf=\"allRequestFields$ | async as requestFields\" class=\"pt-2 pl-3\">\n  <rx-read-only-field\n    *ngFor=\"let field of requestFields\"\n    class=\"d-block form-group\"\n    label=\"{{ field.label }}\"\n    value=\"{{ field.value }}\"\n  ></rx-read-only-field>\n</div>\n","import { Component, Input, OnChanges, OnInit, SimpleChanges, ViewChild } from '@angular/core';\nimport { iif, Observable, of } from 'rxjs';\nimport {\n  IRecordGridColumn,\n  IRecordGridConfig,\n  IRecordGridDataPageParams,\n  RecordGridComponent\n} from '@helix/platform/view/components';\nimport { RX_APPROVAL_CONSOLE } from '../approval-console.constant';\nimport { IDataPageResult } from '@helix/platform/shared/api';\nimport { IRecordDefinition, RX_RECORD_DEFINITION, RxRecordInstanceDataPageService } from '@helix/platform/record/api';\nimport { omit } from 'lodash';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ApprovalGridType, IApprovalRequest, INeedAttentionRequest } from '../approval-console.types';\nimport { switchMap } from 'rxjs/operators';\nimport { RxApprovalConsoleService } from '../approval-console.service';\n\n@Component({\n  selector: 'rx-approval-request-approvers',\n  templateUrl: './approval-request-approvers.component.html',\n  styleUrls: ['./approval-request-approvers.component.scss']\n})\nexport class ApprovalRequestApproversComponent implements OnInit, OnChanges {\n  @Input()\n  approvalRequest: IApprovalRequest | INeedAttentionRequest;\n\n  @Input()\n  gridType: ApprovalGridType;\n\n  @ViewChild('requestApproversGrid')\n  requestApproversGrid: RecordGridComponent;\n\n  gridConfig$: Observable<IRecordGridConfig>;\n\n  constructor(\n    private translateService: TranslateService,\n    private rxApprovalConsoleService: RxApprovalConsoleService,\n    private rxRecordInstanceDataPageService: RxRecordInstanceDataPageService\n  ) {}\n\n  ngOnInit(): void {\n    this.gridConfig$ = of({\n      enableRowSelection: null,\n      getData: (queryParams: IRecordGridDataPageParams) => this.getApproversData(queryParams),\n      columns: this.getColumns(),\n      getRecordDefinition: () => of(this.getRecordDefinition()),\n      recordDefinitionName: RX_APPROVAL_CONSOLE.requestDetailsGrid.approverDefinition,\n      styles: 'flex-fill'\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.approvalRequest?.currentValue) {\n      this.requestApproversGrid?.api.refresh().subscribe();\n    }\n  }\n\n  private getApproversData(queryParams: IRecordGridDataPageParams): Observable<IDataPageResult> {\n    return iif(\n      () => this.gridType === ApprovalGridType.NeedAttentionRequests,\n      this.rxApprovalConsoleService.getCurrentRequestDetails(\n        this.approvalRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.requestID],\n        this.approvalRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.application]\n      ),\n      of(this.approvalRequest as IApprovalRequest)\n    ).pipe(\n      switchMap((currentRequest: IApprovalRequest) =>\n        this.rxRecordInstanceDataPageService.post({\n          params: omit(\n            {\n              ...queryParams,\n              shouldIncludeTotalSize: true,\n              [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.requestNumber]:\n                currentRequest[RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.request],\n              [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.process]:\n                currentRequest[RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.process]\n            },\n            ['searchText', 'propertySelection']\n          )\n        })\n      )\n    );\n  }\n\n  private getRecordDefinition(): IRecordDefinition {\n    return {\n      fieldDefinitions: [\n        {\n          id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.approver,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_RECORD_DEFINITION.coreFieldIds.status,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.selection,\n          optionNamesById: {\n            0: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.pending.labelKey),\n            1: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.approved.labelKey),\n            2: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.rejected.labelKey),\n            3: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.onHold.labelKey),\n            4: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.moreInfo.labelKey),\n            5: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.cancelled.labelKey),\n            6: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.error.labelKey),\n            7: this.translateService.instant(RX_APPROVAL_CONSOLE.approvalRequestTypes.closed.labelKey)\n          }\n        }\n      ]\n    };\n  }\n\n  private getColumns(): IRecordGridColumn[] {\n    return [\n      {\n        index: 0,\n        fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.approver.toString(),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.approvers.grid.approver.title'),\n        filterable: false,\n        sortable: false\n      },\n      {\n        index: 1,\n        fieldId: RX_RECORD_DEFINITION.coreFieldIds.status.toString(),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.status.label')\n      }\n    ];\n  }\n}\n","<adapt-empty-state\n  type=\"objects\"\n  *ngIf=\"!approvalRequest\"\n  label=\"{{ 'com.bmc.arsys.rx.client.approval.console.no-request-selected.message' | translate }}\"\n></adapt-empty-state>\n\n<rx-record-grid [config]=\"gridConfig$\" *ngIf=\"approvalRequest\" #requestApproversGrid></rx-record-grid>\n","import { Component, Injector } from '@angular/core';\nimport { IRxSelectWithPaginationOption, IRxSelectWithPaginationOptionsPage } from '@helix/platform/shared/components';\nimport { Observable } from 'rxjs';\nimport { RxApprovalConsoleService } from '../approval-console.service';\nimport { ActiveModalRef, DismissReasons, FileObj } from '@bmc-ux/adapt-angular';\nimport { IApprovalRequest } from '../approval-console.types';\nimport { TranslateService } from '@ngx-translate/core';\nimport { RxNotificationService } from '@helix/platform/shared/api';\nimport { finalize } from 'rxjs/operators';\nimport { RxModalClass } from '@helix/platform/ui-kit';\n\n@Component({\n  selector: 'rx-approval-request-question',\n  templateUrl: './approval-request-question.component.html'\n})\nexport class ApprovalRequestQuestionComponent extends RxModalClass {\n  selectedUser: IRxSelectWithPaginationOption[] = [];\n  userLoaderFunc = this.getApprovalUsers.bind(this);\n  question: string;\n  attachment: FileObj[] = [];\n\n  constructor(\n    private rxApprovalConsoleService: RxApprovalConsoleService,\n    private rxNotificationService: RxNotificationService,\n    private translateService: TranslateService,\n    private activeModalRef: ActiveModalRef,\n    protected injector: Injector\n  ) {\n    super(activeModalRef, injector);\n  }\n\n  isDirty(): boolean {\n    return !!(this.question || this.attachment[0]?.data || this.selectedUser[0]?.value);\n  }\n\n  saveQuestion() {\n    this.allowDismiss = false;\n\n    const formData = new FormData();\n    const request: IApprovalRequest = this.activeModalRef.getData().selectedRequest;\n\n    formData.append('to', this.selectedUser[0].value);\n    formData.append('question', this.question);\n    formData.append('application', request.application);\n    formData.append('applicationRequestId', request.resolvedDisplayValues.request);\n    formData.append('signatureID', request.signatureID);\n\n    if (this.attachment[0]?.data) {\n      formData.append('attachment', this.attachment[0].data, this.attachment[0].data.name);\n    }\n\n    this.rxApprovalConsoleService\n      .saveQuestion(formData, 'question')\n      .pipe(\n        finalize(() => {\n          this.allowDismiss = true;\n        })\n      )\n      .subscribe(() => {\n        this.rxNotificationService.addSuccessMessage(\n          this.translateService.instant('com.bmc.arsys.rx.client.approval.console.questions.question-added.message')\n        );\n\n        this.activeModalRef.close(true);\n      });\n  }\n\n  cancel(): void {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n\n  private getApprovalUsers(\n    startIndex: number,\n    pageSize: number,\n    searchQuery: string\n  ): Observable<IRxSelectWithPaginationOptionsPage> {\n    return this.rxApprovalConsoleService.getApprovalUsers(startIndex, pageSize, searchQuery);\n  }\n\n  optionFormatter(option: IRxSelectWithPaginationOption): string {\n    return `${option.value} ${option.displayValue}`;\n  }\n}\n","<div class=\"modal-header\">\n  <h5 class=\"modal-title\">\n    {{ 'com.bmc.arsys.rx.client.approval.console.questions.new.label' | translate }}\n  </h5>\n\n  <button\n    class=\"close dp-close\"\n    type=\"button\"\n    rx-id=\"x-button\"\n    [disabled]=\"!allowDismiss\"\n    (click)=\"cancel()\"\n  ></button>\n</div>\n\n<div class=\"modal-body\">\n  <rx-select-with-pagination\n    label=\"{{ 'com.bmc.arsys.rx.client.common.send-to.label' | translate }}\"\n    class=\"form-group d-block\"\n    [(ngModel)]=\"selectedUser\"\n    [optionLoader]=\"userLoaderFunc\"\n    [required]=\"true\"\n    [template]=\"optionTemplate\"\n    [optionFormatter]=\"optionFormatter\"\n  ></rx-select-with-pagination>\n\n  <adapt-rx-textarea\n    label=\"{{ 'com.bmc.arsys.rx.client.common.question.label' | translate }}\"\n    class=\"d-block form-group\"\n    [(ngModel)]=\"question\"\n    [required]=\"true\"\n    [autofocus]=\"true\"\n    rows=\"2\"\n  ></adapt-rx-textarea>\n\n  <adapt-rx-uploader\n    adaptRequired\n    [(ngModel)]=\"attachment\"\n    [enableDnD]=\"true\"\n    [showMaxSizeRestriction]=\"false\"\n    label=\"{{ 'com.bmc.arsys.rx.client.common.attachment.label' | translate }}\"\n  >\n  </adapt-rx-uploader>\n</div>\n\n<div class=\"modal-footer\">\n  <button\n    adapt-button\n    class=\"mr-2\"\n    btn-type=\"primary\"\n    type=\"button\"\n    rx-id=\"save-button\"\n    [disabled]=\"!selectedUser.length || !question || !allowDismiss\"\n    [adaptInlineLoader]=\"!allowDismiss\"\n    (click)=\"saveQuestion()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\n  </button>\n\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"secondary\"\n    rx-id=\"cancel-button\"\n    (click)=\"cancel()\"\n    [disabled]=\"!allowDismiss\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n</div>\n\n<ng-template #optionTemplate let-option>\n  <strong>{{ option.displayValue }}</strong>\n\n  <div class=\"text-secondary\">\n    {{ option.value }}\n  </div>\n</ng-template>\n","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges, ViewChild } from '@angular/core';\nimport { iif, Observable, of } from 'rxjs';\nimport {\n  IRecordGridColumn,\n  IRecordGridConfig,\n  IRecordGridDataPageParams,\n  RecordGridComponent\n} from '@helix/platform/view/components';\nimport { RX_APPROVAL_CONSOLE } from '../approval-console.constant';\nimport { IDataPageResult } from '@helix/platform/shared/api';\nimport { includes, noop, omit } from 'lodash';\nimport {\n  IRecordDefinition,\n  RX_RECORD_DEFINITION,\n  RxRecordInstanceService,\n  RxRecordInstanceDataPageService\n} from '@helix/platform/record/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport {\n  ApprovalGridType,\n  ApprovalRequestStatus,\n  IApprovalRequest,\n  INeedAttentionRequest\n} from '../approval-console.types';\nimport { ApprovalRequestQuestionComponent } from '../approval-request-question/approval-request-question.component';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport { switchMap } from 'rxjs/operators';\nimport { RxApprovalConsoleService } from '../approval-console.service';\nimport { ReadOnlyFieldsModalComponent, RxModalService } from '@helix/platform/ui-kit';\nimport { AdaptModalService } from '@bmc-ux/adapt-angular';\n\n@Component({\n  selector: 'rx-approval-request-questions',\n  templateUrl: './approval-request-questions.component.html'\n})\nexport class ApprovalRequestQuestionsComponent implements OnInit, OnChanges {\n  @Input()\n  approvalRequest: IApprovalRequest | INeedAttentionRequest;\n\n  @Input()\n  requestsTabStatus: ApprovalRequestStatus;\n\n  @Input()\n  gridType: ApprovalGridType;\n\n  @Output()\n  questionSubmitted: EventEmitter<void> = new EventEmitter();\n\n  @ViewChild('requestQuestionsGrid')\n  requestQuestionsGrid: RecordGridComponent;\n\n  gridConfig$: Observable<IRecordGridConfig>;\n\n  constructor(\n    private translateService: TranslateService,\n    private rxRecordInstanceService: RxRecordInstanceService,\n    private rxModalService: RxModalService,\n    private adaptModalService: AdaptModalService,\n    private rxApprovalConsoleService: RxApprovalConsoleService,\n    private rxRecordInstanceDataPageService: RxRecordInstanceDataPageService\n  ) {}\n\n  ngOnInit(): void {\n    this.gridConfig$ = of({\n      enableRowSelection: null,\n      getData: (queryParams: IRecordGridDataPageParams) => this.getQuestionData(queryParams),\n      columns: this.getQuestionColumns(),\n      getRecordDefinition: () => of(this.getQuestionRecordDefinition()),\n      recordDefinitionName: RX_APPROVAL_CONSOLE.requestDetailsGrid.definition,\n      styles: 'flex-fill'\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.approvalRequest?.currentValue) {\n      this.requestQuestionsGrid?.api.refresh().subscribe();\n    }\n  }\n\n  isNewQuestionButtonDisabled(): boolean {\n    return !includes([ApprovalRequestStatus.Pending, ApprovalRequestStatus.Hold], this.requestsTabStatus);\n  }\n\n  askNewQuestion(): void {\n    this.rxModalService\n      .openModal({\n        content: ApprovalRequestQuestionComponent,\n        size: 'sm',\n        data: {\n          selectedRequest: this.approvalRequest\n        }\n      })\n      .then((result) => {\n        if (result) {\n          this.questionSubmitted.emit();\n        }\n      })\n      .catch(noop);\n  }\n\n  private getQuestionData(queryParams: IRecordGridDataPageParams): Observable<IDataPageResult> {\n    return iif(\n      () => this.gridType === ApprovalGridType.NeedAttentionRequests,\n      this.rxApprovalConsoleService.getCurrentRequestDetails(\n        this.approvalRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.requestID],\n        this.approvalRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.application]\n      ),\n      of(this.approvalRequest as IApprovalRequest)\n    ).pipe(\n      switchMap((currentRequest: IApprovalRequest) =>\n        this.rxRecordInstanceDataPageService.post({\n          params: omit(\n            {\n              ...queryParams,\n              shouldIncludeTotalSize: true,\n              [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.application]: currentRequest.application,\n              [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.type]:\n                RX_APPROVAL_CONSOLE.requestDetailsGrid.questionTypeValue,\n              [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.request]: currentRequest.request\n            },\n            ['searchText']\n          )\n        })\n      )\n    );\n  }\n\n  private getQuestionColumns(): IRecordGridColumn[] {\n    return [\n      {\n        index: 0,\n        fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.to.toString(),\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.console.questions.grid.column.question-to.title'\n        )\n      },\n      {\n        index: 1,\n        fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.from.toString(),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.from.label')\n      },\n      {\n        index: 2,\n        fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.question.toString(),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.question.label'),\n        clickable: true,\n        actions: [\n          {\n            name: (previousAction: any, selectedRow: IRowDataItem) => {\n              this.showQuestionDetails(selectedRow);\n            }\n          }\n        ],\n        filterable: false,\n        sortable: false\n      },\n      {\n        index: 3,\n        fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.response.toString(),\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.console.questions.grid.column.response.title'\n        ),\n        filterable: false,\n        sortable: false\n      },\n      {\n        index: 4,\n        fieldId: RX_RECORD_DEFINITION.coreFieldIds.id.toString(),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.id.label'),\n        visible: false,\n        filterable: false\n      },\n      {\n        index: 5,\n        fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment.toString(),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.attachment.label'),\n        clickable: true,\n        actions: [\n          {\n            name: (previousAction: any, selectedRow: IRowDataItem) => {\n              this.rxRecordInstanceService.downloadAttachment(\n                RX_APPROVAL_CONSOLE.requestDetailsGrid.questionDefinition,\n                Number(RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment),\n                selectedRow[RX_RECORD_DEFINITION.coreFieldIds.id].split('|')[0],\n                selectedRow[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment]\n              );\n            }\n          }\n        ]\n      }\n    ];\n  }\n\n  private getQuestionRecordDefinition(): IRecordDefinition {\n    return {\n      fieldDefinitions: [\n        {\n          id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.to,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.from,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.question,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.response,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.attachment\n        },\n        {\n          id: RX_RECORD_DEFINITION.coreFieldIds.id,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        }\n      ]\n    };\n  }\n\n  private showQuestionDetails(selectedRow: IRowDataItem) {\n    this.adaptModalService\n      .open({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.question-response-dialog.title'),\n        content: ReadOnlyFieldsModalComponent,\n        size: 'sm',\n        data: {\n          fields: [\n            {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.common.send-to.label'),\n              value: selectedRow[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.to]\n            },\n\n            {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.common.question.label'),\n              value: selectedRow[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.question]\n            },\n            {\n              label: this.translateService.instant(\n                'com.bmc.arsys.rx.client.approval.console.question-response-dialog.response-field.label'\n              ),\n              value:\n                selectedRow[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.response] ||\n                this.translateService.instant(\n                  'com.bmc.arsys.rx.client.approval.console.question-response-dialog.not-responded.message'\n                )\n            }\n          ]\n        }\n      })\n      .catch(noop);\n  }\n}\n","<adapt-empty-state\n  type=\"rules\"\n  *ngIf=\"!approvalRequest\"\n  label=\"{{ 'com.bmc.arsys.rx.client.approval.console.no-request-selected.message' | translate }}\"\n></adapt-empty-state>\n\n<button\n  type=\"button\"\n  class=\"p-0 mb-2 d-icon-plus_circle align-self-start\"\n  adapt-button\n  btn-type=\"tertiary\"\n  rx-id=\"new-question-button\"\n  (click)=\"askNewQuestion()\"\n  *ngIf=\"approvalRequest\"\n  [disabled]=\"isNewQuestionButtonDisabled()\"\n>\n  {{ 'com.bmc.arsys.rx.client.approval.console.questions.new.label' | translate }}\n</button>\n\n<rx-record-grid [config]=\"gridConfig$\" *ngIf=\"approvalRequest\" #requestQuestionsGrid></rx-record-grid>\n","import { Component, Injector } from '@angular/core';\nimport { ActiveModalRef, DismissReasons, FileObj } from '@bmc-ux/adapt-angular';\nimport { IApprovalRequest } from '../approval-console.types';\nimport { RxApprovalConsoleService } from '../approval-console.service';\nimport { RxNotificationService } from '@helix/platform/shared/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { finalize } from 'rxjs/operators';\nimport { RxModalClass } from '@helix/platform/ui-kit';\nimport { trim } from 'lodash';\n\n@Component({\n  selector: 'rx-approval-request-comment',\n  templateUrl: './approval-request-comment.component.html'\n})\nexport class ApprovalRequestCommentComponent extends RxModalClass {\n  comment: string;\n  attachment: FileObj[] = [];\n\n  constructor(\n    private activeModalRef: ActiveModalRef,\n    private translateService: TranslateService,\n    private rxNotificationService: RxNotificationService,\n    private rxApprovalConsoleService: RxApprovalConsoleService,\n    protected injector: Injector\n  ) {\n    super(activeModalRef, injector);\n  }\n\n  isDirty(): boolean {\n    return !!(this.comment || this.attachment[0]?.data);\n  }\n\n  saveComment(): void {\n    this.allowDismiss = false;\n\n    const formData = new FormData();\n    const request: IApprovalRequest = this.activeModalRef.getData().selectedRequest;\n\n    formData.append('comments', this.comment);\n    formData.append('application', request.application);\n    formData.append('applicationRequestId', request.resolvedDisplayValues.request);\n    formData.append('signatureID', request.signatureID);\n\n    if (this.attachment[0]?.data) {\n      formData.append('attachment', this.attachment[0].data, this.attachment[0].data.name);\n    }\n\n    this.rxApprovalConsoleService\n      .saveQuestion(formData, 'comment')\n      .pipe(\n        finalize(() => {\n          this.allowDismiss = true;\n        })\n      )\n      .subscribe(() => {\n        this.rxNotificationService.addSuccessMessage(\n          this.translateService.instant('com.bmc.arsys.rx.client.approval.console.comments.comment-added.message')\n        );\n\n        this.activeModalRef.close(true);\n      });\n  }\n\n  cancel(): void {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n\n  isCommentEmpty(): boolean {\n    return !trim(this.comment);\n  }\n}\n","<div class=\"modal-header\">\n  <h5 class=\"modal-title\">\n    {{ 'com.bmc.arsys.rx.client.approval.console.comments.new.label' | translate }}\n  </h5>\n\n  <button\n    class=\"close dp-close\"\n    type=\"button\"\n    rx-id=\"x-button\"\n    [disabled]=\"!allowDismiss\"\n    (click)=\"cancel()\"\n  ></button>\n</div>\n\n<div class=\"modal-body\">\n  <adapt-rx-textarea\n    label=\"{{ 'com.bmc.arsys.rx.client.common.comment.label' | translate }}\"\n    class=\"d-block form-group\"\n    [(ngModel)]=\"comment\"\n    [required]=\"true\"\n    [autofocus]=\"true\"\n    rows=\"3\"\n  ></adapt-rx-textarea>\n\n  <adapt-rx-uploader\n    adaptRequired\n    [(ngModel)]=\"attachment\"\n    [enableDnD]=\"true\"\n    [showMaxSizeRestriction]=\"false\"\n    label=\"{{ 'com.bmc.arsys.rx.client.common.attachment.label' | translate }}\"\n  >\n  </adapt-rx-uploader>\n</div>\n\n<div class=\"modal-footer\">\n  <button\n    adapt-button\n    class=\"mr-2\"\n    btn-type=\"primary\"\n    type=\"button\"\n    rx-id=\"save-button\"\n    [disabled]=\"isCommentEmpty() || !allowDismiss\"\n    [adaptInlineLoader]=\"!allowDismiss\"\n    (click)=\"saveComment()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\n  </button>\n\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"secondary\"\n    rx-id=\"cancel-button\"\n    (click)=\"cancel()\"\n    [disabled]=\"!allowDismiss\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n</div>\n","import { Injectable, Injector } from '@angular/core';\nimport { DataPage } from '@helix/platform/shared/api';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxApprovalQCIDataPageService extends DataPage {\n  constructor(private injector: Injector) {\n    super(injector, 'com.bmc.arsys.rx.approval.application.datapage.ApprovalQCIDataPageQuery');\n  }\n}\n","import { Component, Input, OnChanges, OnInit, SimpleChanges, ViewChild } from '@angular/core';\nimport { iif, Observable, of } from 'rxjs';\nimport {\n  IRecordGridColumn,\n  IRecordGridConfig,\n  IRecordGridDataPageParams,\n  RecordGridComponent\n} from '@helix/platform/view/components';\nimport { IDataPageResult, RxDataPageFactoryService } from '@helix/platform/shared/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { RX_APPROVAL_CONSOLE } from '../approval-console.constant';\nimport { IRecordDefinition, RX_RECORD_DEFINITION, RxRecordInstanceService } from '@helix/platform/record/api';\nimport { noop, omit } from 'lodash';\nimport { ApprovalGridType, IApprovalRequest, INeedAttentionRequest } from '../approval-console.types';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport { AdaptModalService } from '@bmc-ux/adapt-angular';\nimport { ApprovalRequestCommentComponent } from '../approval-request-comment/approval-request-comment.component';\nimport { switchMap, tap } from 'rxjs/operators';\nimport { RxApprovalConsoleService } from '../approval-console.service';\nimport { ReadOnlyFieldsModalComponent, RxModalService } from '@helix/platform/ui-kit';\nimport { RxApprovalQCIDataPageService } from '../approval-qci-data-page.service';\n\n@Component({\n  selector: 'rx-approval-request-comments',\n  templateUrl: './approval-request-comments.component.html'\n})\nexport class ApprovalRequestCommentsComponent implements OnInit, OnChanges {\n  @Input()\n  approvalRequest: IApprovalRequest | INeedAttentionRequest;\n\n  @Input()\n  gridType: ApprovalGridType;\n\n  @ViewChild('requestCommentsGrid')\n  requestCommentsGrid: RecordGridComponent;\n\n  gridConfig$: Observable<IRecordGridConfig>;\n  private selectedRequest: IApprovalRequest;\n\n  constructor(\n    private rxApprovalQCIDataPageService: RxApprovalQCIDataPageService,\n    private rxModalService: RxModalService,\n    private rxApprovalConsoleService: RxApprovalConsoleService,\n    private adaptModalService: AdaptModalService,\n    private rxDataPageService: RxDataPageFactoryService,\n    private rxRecordInstanceService: RxRecordInstanceService,\n    private translateService: TranslateService\n  ) {}\n\n  ngOnInit(): void {\n    this.gridConfig$ = of({\n      enableRowSelection: null,\n      getData: (queryParams: IRecordGridDataPageParams) => this.getCommentData(queryParams),\n      columns: this.getCommentColumns(),\n      getRecordDefinition: () => of(this.getCommentRecordDefinition()),\n      recordDefinitionName: RX_APPROVAL_CONSOLE.requestDetailsGrid.definition,\n      styles: 'flex-fill'\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.approvalRequest?.currentValue) {\n      this.requestCommentsGrid?.api.refresh().subscribe();\n    }\n  }\n\n  addNewComment(): void {\n    this.rxModalService\n      .openModal({\n        content: ApprovalRequestCommentComponent,\n        size: 'sm',\n        data: {\n          selectedRequest: this.selectedRequest\n        }\n      })\n      .then((result) => {\n        if (result) {\n          this.requestCommentsGrid.api.refresh().subscribe();\n        }\n      })\n      .catch(noop);\n  }\n\n  private getCommentData(queryParams: IRecordGridDataPageParams): Observable<IDataPageResult> {\n    return iif(\n      () => this.gridType === ApprovalGridType.NeedAttentionRequests,\n      this.rxApprovalConsoleService.getCurrentRequestDetails(\n        this.approvalRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.requestID],\n        this.approvalRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.application]\n      ),\n      of(this.approvalRequest as IApprovalRequest)\n    ).pipe(\n      tap((currentRequest: IApprovalRequest) => {\n        this.selectedRequest = currentRequest;\n      }),\n      switchMap((currentRequest: IApprovalRequest) =>\n        this.rxApprovalQCIDataPageService.get({\n          params: omit(\n            {\n              ...queryParams,\n              shouldIncludeTotalSize: true,\n              [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.application]: currentRequest.application,\n              [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.signatureID]: currentRequest.signatureID,\n              [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.type]:\n                RX_APPROVAL_CONSOLE.requestDetailsGrid.commentTypeValue,\n              [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.request]: currentRequest.request\n            },\n            ['searchText']\n          )\n        })\n      )\n    );\n  }\n\n  private getCommentColumns(): IRecordGridColumn[] {\n    return [\n      {\n        index: 1,\n        fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.from.toString(),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.submitter.label')\n      },\n      {\n        index: 2,\n        fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.response.toString(),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.comment.label'),\n        clickable: true,\n        actions: [\n          {\n            name: (previousAction: any, selectedRow: IRowDataItem) => {\n              this.showCommentDetails(selectedRow);\n            }\n          }\n        ],\n        sortable: false\n      },\n      {\n        index: 3,\n        fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment.toString(),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.attachment.label'),\n        clickable: true,\n        actions: [\n          {\n            name: (previousAction: any, selectedRow: IRowDataItem) => {\n              this.rxRecordInstanceService.downloadAttachment(\n                RX_APPROVAL_CONSOLE.requestDetailsGrid.questionDefinition,\n                Number(RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment),\n                selectedRow[RX_RECORD_DEFINITION.coreFieldIds.id].split('|')[0],\n                selectedRow[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment]\n              );\n            }\n          }\n        ]\n      },\n      {\n        index: 4,\n        fieldId: RX_RECORD_DEFINITION.coreFieldIds.id.toString(),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.id.label'),\n        visible: false,\n        filterable: false\n      }\n    ];\n  }\n\n  private getCommentRecordDefinition(): IRecordDefinition {\n    return {\n      fieldDefinitions: [\n        {\n          id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.from,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.response,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.attachment\n        },\n        {\n          id: RX_RECORD_DEFINITION.coreFieldIds.id,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        }\n      ]\n    };\n  }\n\n  private showCommentDetails(selectedRow: IRowDataItem) {\n    this.adaptModalService\n      .open({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.comment.label'),\n        content: ReadOnlyFieldsModalComponent,\n        data: {\n          fields: [\n            {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.submitter.label'),\n              value: selectedRow[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.from]\n            },\n            {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.common.comment.label'),\n              value: selectedRow[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.response]\n            }\n          ]\n        },\n        size: 'sm'\n      })\n      .catch(noop);\n  }\n}\n","<adapt-empty-state\n  type=\"events\"\n  *ngIf=\"!approvalRequest\"\n  label=\"{{ 'com.bmc.arsys.rx.client.approval.console.no-request-selected.message' | translate }}\"\n></adapt-empty-state>\n\n<button\n  type=\"button\"\n  class=\"p-0 mb-2 d-icon-plus_circle align-self-start\"\n  adapt-button\n  btn-type=\"tertiary\"\n  rx-id=\"new-comment-button\"\n  *ngIf=\"approvalRequest\"\n  (click)=\"addNewComment()\"\n>\n  {{ 'com.bmc.arsys.rx.client.approval.console.comments.new.label' | translate }}\n</button>\n\n<rx-record-grid [config]=\"gridConfig$\" *ngIf=\"approvalRequest\" #requestCommentsGrid></rx-record-grid>\n","import { Component, Input, OnChanges, OnInit, SimpleChanges, ViewChild } from '@angular/core';\nimport { iif, Observable, of } from 'rxjs';\nimport {\n  IRecordGridColumn,\n  IRecordGridConfig,\n  IRecordGridDataPageParams,\n  RecordGridComponent\n} from '@helix/platform/view/components';\nimport { IDataPageResult } from '@helix/platform/shared/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { RX_APPROVAL_CONSOLE } from '../approval-console.constant';\nimport { omit, reject } from 'lodash';\nimport {\n  IRecordDefinition,\n  RX_RECORD_DEFINITION,\n  RxRecordInstanceService,\n  RxRecordInstanceDataPageService\n} from '@helix/platform/record/api';\nimport { ApprovalGridType, IApprovalRequest, INeedAttentionRequest } from '../approval-console.types';\nimport { map, switchMap } from 'rxjs/operators';\nimport { IRowDataItem } from '@helix/platform/view/api';\nimport { RxApprovalConsoleService } from '../approval-console.service';\n\n@Component({\n  selector: 'rx-approval-request-attachments',\n  templateUrl: './approval-request-attachments.component.html'\n})\nexport class ApprovalRequestAttachmentsComponent implements OnInit, OnChanges {\n  @Input()\n  approvalRequest: IApprovalRequest | INeedAttentionRequest;\n\n  @Input()\n  gridType: ApprovalGridType;\n\n  @ViewChild('requestAttachmentsGrid')\n  requestAttachmentsGrid: RecordGridComponent;\n\n  gridConfig$: Observable<IRecordGridConfig>;\n\n  constructor(\n    private rxApprovalConsoleService: RxApprovalConsoleService,\n    private translateService: TranslateService,\n    private rxRecordInstanceService: RxRecordInstanceService,\n    private rxRecordInstanceDataPageService: RxRecordInstanceDataPageService\n  ) {}\n\n  ngOnInit(): void {\n    this.gridConfig$ = of({\n      enableRowSelection: null,\n      getData: (queryParams: IRecordGridDataPageParams) => this.getAttachmentData(queryParams),\n      columns: this.getAttachmentColumns(),\n      getRecordDefinition: () => of(this.getAttachmentRecordDefinition()),\n      recordDefinitionName: RX_APPROVAL_CONSOLE.requestDetailsGrid.definition,\n      styles: 'flex-fill'\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.approvalRequest?.currentValue) {\n      this.requestAttachmentsGrid?.api.refresh().subscribe();\n    }\n  }\n\n  private getAttachmentData(queryParams: IRecordGridDataPageParams): Observable<IDataPageResult> {\n    return iif(\n      () => this.gridType === ApprovalGridType.NeedAttentionRequests,\n      this.rxApprovalConsoleService.getCurrentRequestDetails(\n        this.approvalRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.requestID],\n        this.approvalRequest[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.application]\n      ),\n      of(this.approvalRequest as IApprovalRequest)\n    ).pipe(\n      switchMap((currentRequest: IApprovalRequest) =>\n        this.rxRecordInstanceDataPageService\n          .post({\n            params: omit(\n              {\n                ...queryParams,\n                shouldIncludeTotalSize: true,\n                [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.application]: currentRequest.application,\n                [RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.request]: currentRequest.request\n              },\n              ['searchText', 'propertySelection']\n            )\n          })\n          .pipe(\n            map((response: IDataPageResult) => {\n              response.data = reject(\n                response.data,\n                (item) => !item[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment]\n              );\n\n              return response;\n            })\n          )\n      )\n    );\n  }\n\n  private getAttachmentColumns(): IRecordGridColumn[] {\n    return [\n      {\n        index: 0,\n        fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.from.toString(),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.submitter.label')\n      },\n      {\n        index: 1,\n        fieldId: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment.toString(),\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.console.attachments.grid.file-name.title'\n        ),\n        clickable: true,\n        actions: [\n          {\n            name: (previousAction: any, selectedRow: IRowDataItem) => {\n              this.rxRecordInstanceService.downloadAttachment(\n                RX_APPROVAL_CONSOLE.requestDetailsGrid.questionDefinition,\n                Number(RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment),\n                selectedRow[RX_RECORD_DEFINITION.coreFieldIds.id].split('|')[0],\n                selectedRow[RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment]\n              );\n            }\n          }\n        ]\n      },\n      {\n        index: 2,\n        fieldId: RX_RECORD_DEFINITION.coreFieldIds.id.toString(),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.id.label'),\n        visible: false,\n        filterable: false\n      }\n    ];\n  }\n\n  private getAttachmentRecordDefinition(): IRecordDefinition {\n    return {\n      fieldDefinitions: [\n        {\n          id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.from,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.requestDetailsGrid.fields.attachment,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.attachment\n        },\n        {\n          id: RX_RECORD_DEFINITION.coreFieldIds.id,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        }\n      ]\n    };\n  }\n}\n","<adapt-empty-state\n  type=\"grid\"\n  *ngIf=\"!approvalRequest\"\n  label=\"{{ 'com.bmc.arsys.rx.client.approval.console.no-request-selected.message' | translate }}\"\n></adapt-empty-state>\n\n<rx-record-grid [config]=\"gridConfig$\" *ngIf=\"approvalRequest\" #requestAttachmentsGrid></rx-record-grid>\n","import { Component, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { forkJoin, Observable, of, Subject, Subscription } from 'rxjs';\nimport {\n  IRecordGridActionButton,\n  IRecordGridColumn,\n  IRecordGridConfig,\n  IRecordGridDataPageParams,\n  RecordGridComponent,\n  RowSelectionMode,\n  RxRecordGridFilterService\n} from '@helix/platform/view/components';\n\nimport {\n  IRecordDefinition,\n  RX_RECORD_DEFINITION,\n  RxRecordInstanceService,\n  RxRecordInstanceDataPageService\n} from '@helix/platform/record/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DataCellTemplateParams } from '@bmc-ux/adapt-table';\nimport { RxSignatureDetailDataPageService } from './signature-detail-data-page.service';\nimport {\n  IDataPageResult,\n  JustificationRequirement,\n  RxCurrentUserService,\n  RxDefinitionNameService,\n  RxNotificationService\n} from '@helix/platform/shared/api';\nimport { cloneDeep, find, findIndex, includes, isNil, map as _map, noop, omit, some } from 'lodash';\nimport { RX_APPROVAL_CONSOLE } from './approval-console.constant';\nimport { RxApprovalConsoleService } from './approval-console.service';\nimport { map, switchMap, tap } from 'rxjs/operators';\nimport {\n  ApprovalCommandType,\n  ApprovalGridType,\n  ApprovalRequestStatus,\n  IApprovalRequest,\n  IApprovalRequestCounts,\n  IApprovalRequestType\n} from './approval-console.types';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { IRowDataItem, RowDataItemIdFieldName } from '@helix/platform/view/api';\nimport { ActiveTabChangeEvent, AdaptModalService, AdaptTabsComponent, KeyValueObject } from '@bmc-ux/adapt-angular';\nimport { ApprovalRequestReassignComponent } from './approval-request-reassign/approval-request-reassign.component';\nimport { ApprovalRequestQuestionResponseComponent } from './approval-request-question-response/approval-request-question-response.component';\nimport { ApprovalRequestActionReasonInputComponent } from './approval-request-action-reason-input/approval-request-action-reason-input.component';\nimport { RxApprovalConsoleHelperService } from './approval-console-helper.service';\nimport { RxStringService } from '@helix/platform/utils';\nimport { BaseViewComponent } from '@helix/platform/view/runtime';\n\n@Component({\n  selector: 'rx-approval-console',\n  templateUrl: './approval-console.component.html',\n  styleUrls: ['./approval-console.component.scss']\n})\nexport class ApprovalConsoleComponent extends BaseViewComponent implements OnInit, OnDestroy {\n  gridConfig$: Observable<IRecordGridConfig>;\n\n  @ViewChild('requestDetailsTabs')\n  requestDetailsTabs: AdaptTabsComponent;\n\n  @ViewChild('resolvedFieldCellTemplate', { static: true })\n  resolvedFieldCellTemplate: TemplateRef<DataCellTemplateParams>;\n\n  @ViewChild('definitionNameCellTemplate', { static: true })\n  definitionNameCellTemplate: TemplateRef<DataCellTemplateParams>;\n\n  @ViewChild('approvalRequestsGrid')\n  approvalRequestsGrid: RecordGridComponent;\n\n  shouldShowGrid: boolean;\n  selectedApprovalRequestsTab: IApprovalRequestType = RX_APPROVAL_CONSOLE.approvalRequestTypes.pending;\n\n  approvalRequestTypes: IApprovalRequestType[] = _map(RX_APPROVAL_CONSOLE.approvalRequestTypes, (request) => ({\n    ...request,\n    label: this.translateService.instant(request.labelKey)\n  }));\n\n  dataLoaded$ = new Subject<void>();\n  selectedApprovalRequest: IRowDataItem;\n\n  attentionGridParams: KeyValueObject = {\n    recorddefinition: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.definition,\n    [RX_RECORD_DEFINITION.coreFieldIds.assignee]: this.rxCurrentUserService.getName(),\n    [RX_RECORD_DEFINITION.coreFieldIds.status]: '0',\n    [RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.state]: '0'\n  };\n\n  needAttentionRequestCount$ = this.rxRecordInstanceDataPageService.post({\n    params: this.attentionGridParams\n  });\n\n  availableRequestCount$: Observable<IApprovalRequestCounts> = this.dataLoaded$\n    .pipe(\n      switchMap(() =>\n        forkJoin([this.rxApprovalConsoleService.getApprovalRequestCounts(), this.needAttentionRequestCount$])\n      )\n    )\n    .pipe(\n      map(([requestCounts, needAttentionResponse]) => ({\n        ...requestCounts,\n        needAttentionCount: needAttentionResponse.totalSize\n      }))\n    );\n\n  activeTabIndex = 0;\n  selectedRecordIndex: number;\n  private gridSubscription: Subscription;\n  private isReassignButtonDisabled: boolean;\n  private selectedRecordsInSequence: IRowDataItem[] = [];\n\n  constructor(\n    private rxStringService: RxStringService,\n    private rxApprovalConsoleHelperService: RxApprovalConsoleHelperService,\n    private rxCurrentUserService: RxCurrentUserService,\n    private translateService: TranslateService,\n    private rxModalService: RxModalService,\n    private rxNotificationService: RxNotificationService,\n    private rxApprovalConsoleService: RxApprovalConsoleService,\n    private rxRecordInstanceService: RxRecordInstanceService,\n    private adaptModalService: AdaptModalService,\n    private rxSignatureDetailDataPageService: RxSignatureDetailDataPageService,\n    private recordGridFilterService: RxRecordGridFilterService,\n    private rxRecordInstanceDataPageService: RxRecordInstanceDataPageService,\n    protected rxDefinitionNameService: RxDefinitionNameService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.updateGridConfig();\n  }\n\n  onDataLoaded() {\n    this.gridSubscription?.unsubscribe();\n\n    this.gridSubscription = this.approvalRequestsGrid.adaptTable.selectionChange.subscribe(\n      (selectedRows: IRowDataItem[]) => {\n        const selectedRecord = isNil(this.selectedApprovalRequest)\n          ? selectedRows[0]\n          : selectedRows[selectedRows.length - 1];\n\n        this.isReassignButtonDisabled = some(selectedRows, (row: IApprovalRequest) => row.canReassign === 'No');\n        this.selectedRecordsInSequence = this.approvalRequestsGrid.api.getSelectedRows(true);\n\n        this.selectedRecordIndex = findIndex(this.selectedRecordsInSequence, {\n          [RowDataItemIdFieldName]: selectedRecord?.[RowDataItemIdFieldName]\n        });\n\n        this.selectedApprovalRequest = selectedRecord;\n      }\n    );\n\n    this.dataLoaded$.next();\n  }\n\n  approveRequest(): void {\n    this.rxModalService\n      .openModal({\n        content: ApprovalRequestActionReasonInputComponent,\n        size: 'sm',\n        data: {\n          commandType: ApprovalCommandType.Approved,\n          selectedRequests: this.approvalRequestsGrid.api.getSelectedRows(),\n          modalTitle: this.translateService.instant(\n            'com.bmc.arsys.rx.client.approval.console.approve-request-dialog.title'\n          )\n        }\n      })\n      .then((result) => {\n        if (result) {\n          this.reloadGridData();\n        }\n      })\n      .catch(noop);\n  }\n\n  rejectRequest(): void {\n    this.rxModalService\n      .openModal({\n        content: ApprovalRequestActionReasonInputComponent,\n        size: 'sm',\n        data: {\n          commandType: ApprovalCommandType.Rejected,\n          selectedRequests: this.approvalRequestsGrid.api.getSelectedRows(),\n          modalTitle: this.translateService.instant(\n            'com.bmc.arsys.rx.client.approval.console.reject-request-dialog.title'\n          )\n        }\n      })\n      .then((result) => {\n        if (result) {\n          this.reloadGridData();\n        }\n      })\n      .catch(noop);\n  }\n\n  holdRequest(): void {\n    this.rxModalService\n      .confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.request.hold-dialog.message')\n      })\n      .then((result: boolean) => {\n        if (result) {\n          const commands = _map(this.approvalRequestsGrid.api.getSelectedRows(), (request: IRowDataItem) =>\n            this.rxApprovalConsoleService.getCommandPayload(\n              ApprovalCommandType.OnHold,\n              request[RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.signatureInstanceID]\n            )\n          );\n\n          this.rxApprovalConsoleService.holdRequest(commands).subscribe(() => {\n            this.rxNotificationService.addSuccessMessage(\n              this.translateService.instant('com.bmc.arsys.rx.client.approval.console.request.hold-success.message')\n            );\n\n            this.reloadGridData();\n          });\n        }\n      });\n  }\n\n  reassignRequest(): void {\n    this.rxModalService\n      .openModal({\n        content: ApprovalRequestReassignComponent,\n        size: 'sm',\n        data: {\n          selectedRequestInstanceIds: _map(\n            this.approvalRequestsGrid.api.getSelectedRows(),\n            (request: IApprovalRequest) => request.signatureInstanceID\n          )\n        }\n      })\n      .then((result) => {\n        if (result) {\n          this.reloadGridData();\n        }\n      })\n      .catch(noop);\n  }\n\n  isHoldButtonDisabled(): boolean {\n    return this.selectedApprovalRequestsTab.status === ApprovalRequestStatus.Hold;\n  }\n\n  get currentRequestId(): string {\n    return (\n      this.selectedApprovalRequest?.request ||\n      this.selectedApprovalRequest?.[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.requestID]\n    );\n  }\n\n  get selectedApprovalRequestCount(): number {\n    return this.approvalRequestsGrid?.api?.getSelectedRowCount() || 0;\n  }\n\n  fetchApprovalRequests(event: ActiveTabChangeEvent): void {\n    this.approvalRequestsGrid.adaptTableConfig.selectedItems = [];\n    this.selectedApprovalRequest = null;\n    this.selectedApprovalRequestsTab = this.approvalRequestTypes[event.index];\n    this.updateGridConfig();\n  }\n\n  showNextRequestDetails() {\n    this.selectedApprovalRequest = this.selectedRecordsInSequence[++this.selectedRecordIndex];\n  }\n\n  showPreviousRequestDetails() {\n    this.selectedApprovalRequest = this.selectedRecordsInSequence[--this.selectedRecordIndex];\n  }\n\n  isPreviousButtonDisabled(): boolean {\n    return this.selectedApprovalRequestCount === 0 || this.selectedRecordIndex <= 0;\n  }\n\n  isNextButtonDisabled(): boolean {\n    return (\n      this.selectedApprovalRequestCount === 0 || this.selectedRecordIndex === this.selectedRecordsInSequence.length - 1\n    );\n  }\n\n  isApprovalRequestGrid(): boolean {\n    return this.selectedApprovalRequestsTab.gridType === ApprovalGridType.ApprovalRequests;\n  }\n\n  isNeedAttentionGrid(): boolean {\n    return this.selectedApprovalRequestsTab.gridType === ApprovalGridType.NeedAttentionRequests;\n  }\n\n  onTabChanged(event: ActiveTabChangeEvent) {\n    if (event.event) {\n      this.activeTabIndex = event.index;\n    }\n  }\n\n  needAttentionGridColumns(): IRecordGridColumn[] {\n    return [\n      {\n        index: 0,\n        fieldId: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.fromUser,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.from.label')\n      },\n      {\n        index: 1,\n        fieldId: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.toUser,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.send-to.label')\n      },\n      {\n        index: 2,\n        fieldId: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.description,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.description.label'),\n        clickable: true,\n        actions: [\n          {\n            name: (previousAction: any, selectedRow: IRowDataItem) => {\n              this.openQuestionResponseDialog(selectedRow);\n            }\n          }\n        ]\n      },\n      {\n        index: 3,\n        fieldId: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.application,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.console.needs-attention.grid.column.application.title'\n        ),\n        cellTemplate: this.definitionNameCellTemplate\n      },\n      {\n        index: 4,\n        fieldId: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.requestID,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.console.needs-attention.grid.column.request.title'\n        )\n      },\n      {\n        index: 5,\n        fieldId: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.attachment,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.attachment.label'),\n        clickable: true,\n        actions: [\n          {\n            name: (previousAction: any, selectedRow: IRowDataItem) => {\n              this.rxRecordInstanceService.downloadAttachment(\n                RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.definition,\n                Number(RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.attachment),\n                selectedRow[RX_RECORD_DEFINITION.coreFieldIds.id],\n                selectedRow[RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.attachment]\n              );\n            }\n          }\n        ]\n      },\n      {\n        index: 6,\n        fieldId: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.fields.question,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.question.label'),\n        visible: false,\n        filterable: false,\n        sortable: false\n      },\n      {\n        index: 7,\n        fieldId: RX_RECORD_DEFINITION.coreFieldIds.id.toString(),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.id.label'),\n        visible: false,\n        filterable: false\n      }\n    ];\n  }\n\n  ngOnDestroy(): void {\n    this.dataLoaded$.complete();\n    this.gridSubscription.unsubscribe();\n  }\n\n  onQuestionSubmitted(): void {\n    this.reloadGridData();\n  }\n\n  private getData(queryParams: IRecordGridDataPageParams): Observable<IDataPageResult> {\n    const textSearchQuery = this.recordGridFilterService.generateTextFilterQuery(\n      queryParams.searchText,\n      this.approvalRequestsGrid.adaptTableConfig.columns\n    );\n\n    const clonedSelectedFilters = cloneDeep(this.approvalRequestsGrid.state.advancedFiltering.selectedFilters);\n\n    const clonedDefinitionNameFilters = find(clonedSelectedFilters, {\n      filterOptionId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.application\n    });\n\n    if (clonedDefinitionNameFilters) {\n      const appliedDefinitionNameFilters = find(this.approvalRequestsGrid.state.advancedFiltering.selectedFilters, {\n        filterOptionId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.application\n      });\n\n      appliedDefinitionNameFilters.value.filterValue = _map(\n        appliedDefinitionNameFilters.value.filterValue,\n        (filterValue: string) => this.rxDefinitionNameService.getDisplayName(filterValue)\n      );\n\n      clonedDefinitionNameFilters.value.filterValue = _map(\n        clonedDefinitionNameFilters.value.filterValue,\n        (filterValue: string) => `%${filterValue}`\n      );\n    }\n\n    const resultingQuery = this.recordGridFilterService.addQueries(\n      this.approvalRequestsGrid.buildQueryByAdvancedFilters(clonedSelectedFilters),\n      textSearchQuery\n    );\n\n    if (resultingQuery) {\n      queryParams.queryExpression = resultingQuery;\n    }\n\n    queryParams.propertySelection.push(RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.ifMultipleApprovers);\n\n    return this.rxSignatureDetailDataPageService\n      .get({\n        params: omit(\n          {\n            ...queryParams,\n            status: this.selectedApprovalRequestsTab.status,\n            shouldIncludeTotalSize: true,\n            ignoreAlternateUser: false,\n            propertySelection: queryParams.propertySelection.filter(\n              (property: string) => property !== RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.actingAs\n            )\n          },\n          ['searchText', 'recorddefinition']\n        )\n      })\n      .pipe(\n        tap((dataPage: IDataPageResult<IApprovalRequest>) => {\n          dataPage.data.forEach((row) => {\n            row.otherDetail1 = this.rxApprovalConsoleHelperService.formatValue(row.otherDetail1);\n            row.otherDetail2 = this.rxApprovalConsoleHelperService.formatValue(row.otherDetail2);\n            row.otherDetail3 = this.rxApprovalConsoleHelperService.formatValue(row.otherDetail3);\n            row.otherDetail4 = this.rxApprovalConsoleHelperService.formatValue(row.otherDetail4);\n          });\n        })\n      );\n  }\n\n  private getNeedAttentionData(queryParams: IRecordGridDataPageParams): Observable<IDataPageResult> {\n    const params = omit({ ...this.attentionGridParams, ...queryParams }, ['searchText']);\n\n    return this.rxRecordInstanceDataPageService.post({\n      params\n    });\n  }\n\n  private updateGridConfig(): void {\n    this.shouldShowGrid = false;\n    this.gridConfig$ = this.prepareGridConfiguration();\n\n    setTimeout(() => {\n      this.shouldShowGrid = true;\n    });\n  }\n\n  private prepareGridConfiguration(): Observable<IRecordGridConfig> {\n    const defaultConfig = {\n      enableFiltering: true,\n      enableRowSelection: RowSelectionMode.Multiple\n    };\n\n    if (this.isApprovalRequestGrid()) {\n      return of({\n        ...defaultConfig,\n        actionButtons: this.getActionButtons(),\n        getData: (queryParams: IRecordGridDataPageParams) => this.getData(queryParams),\n        columns: this.getColumns(),\n        getRecordDefinition: () => of(this.getRecordDefinition()),\n        recordIdField: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.signatureInstanceID,\n        styles: 'flex-fill',\n        guid: `ap-${this.rxStringService.toRxId(this.selectedApprovalRequestsTab.status)}-grid`\n      });\n    } else if (this.isNeedAttentionGrid()) {\n      return of({\n        ...defaultConfig,\n        recordDefinitionName: RX_APPROVAL_CONSOLE.needAttentionRequestsGrid.definition,\n        getData: (queryParams: IRecordGridDataPageParams) => this.getNeedAttentionData(queryParams),\n        columns: this.needAttentionGridColumns(),\n        styles: 'flex-fill',\n        guid: 'ap-need-attention-grid'\n      });\n    }\n  }\n\n  private getActionButtons(): IRecordGridActionButton[] {\n    return includes(\n      [ApprovalRequestStatus.Pending, ApprovalRequestStatus.RequestMoreInfo, ApprovalRequestStatus.Hold],\n      this.selectedApprovalRequestsTab.status\n    )\n      ? [\n          {\n            label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.button.approve.label'),\n            style: 'success',\n            iconCls: 'check_circle_o',\n            size: 'small',\n            actions: [\n              {\n                name: () => this.approveRequest()\n              }\n            ]\n          },\n          {\n            label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.button.reject.label'),\n            style: 'critical',\n            iconCls: 'cross_circle_o',\n            size: 'small',\n            actions: [\n              {\n                name: () => this.rejectRequest()\n              }\n            ]\n          },\n          {\n            label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.button.hold.label'),\n            style: 'warning',\n            iconCls: 'pause_circle_o',\n            size: 'small',\n            disabled: () => this.isHoldButtonDisabled(),\n            actions: [\n              {\n                name: () => this.holdRequest()\n              }\n            ]\n          },\n          {\n            label: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.button.reassign.label'),\n            iconCls: 'user_arrow_o',\n            style: 'secondary',\n            size: 'small',\n            disabled: () => this.isReassignButtonDisabled,\n            actions: [\n              {\n                name: () => this.reassignRequest()\n              }\n            ]\n          }\n        ]\n      : [];\n  }\n\n  private reloadGridData(): void {\n    this.selectedApprovalRequest = null;\n    this.approvalRequestsGrid.api.refresh().subscribe();\n  }\n\n  private openQuestionResponseDialog(selectedRow: IRowDataItem) {\n    this.rxModalService\n      .openModal({\n        content: ApprovalRequestQuestionResponseComponent,\n        size: 'sm',\n        data: {\n          selectedRequest: selectedRow\n        }\n      })\n      .then((result) => {\n        if (result) {\n          this.reloadGridData();\n        }\n      })\n      .catch(noop);\n  }\n\n  private getColumns(): IRecordGridColumn[] {\n    return [\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.application,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.record-definition.label'),\n        cellTemplate: this.definitionNameCellTemplate\n      },\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.summary,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.description.label'),\n        cellTemplate: this.resolvedFieldCellTemplate,\n        sortable: false\n      },\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.requester,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.requester.label'),\n        cellTemplate: this.resolvedFieldCellTemplate,\n        sortable: true\n      },\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.status,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.status.label'),\n        filterable: false,\n        sortable: false\n      },\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.request,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.request-id.label'),\n        cellTemplate: this.resolvedFieldCellTemplate,\n        sortable: true\n      },\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.actingAs,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.grid.column.acting-as.title'),\n        filterable: false,\n        searchable: false,\n        sortable: false\n      },\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.createDateSig,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.request-date.label'),\n        visible: false,\n        filterable: false\n      },\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.process,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.grid.column.process.title'),\n        visible: false,\n        filterable: false\n      },\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.signatureInstanceID,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.console.grid.column.signature-instance-id.title'\n        ),\n        visible: false,\n        filterable: false\n      },\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.justificationReasonField,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.console.grid.column.justification.title'\n        ),\n        visible: false,\n        filterable: false,\n        sortable: false\n      },\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.sigTermStateDate,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.console.grid.column.status-updated-on.title'\n        ),\n        visible: false,\n        filterable: false\n      },\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.signatureID,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.console.grid.column.signature-id.title'),\n        visible: false,\n        filterable: false\n      },\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.otherDetail1,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.console.grid.column.other-detail1.title'\n        ),\n        visible: false,\n        filterable: false,\n        sortable: false\n      },\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.otherDetail2,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.console.grid.column.other-detail2.title'\n        ),\n        visible: false,\n        filterable: false,\n        sortable: false\n      },\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.otherDetail3,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.console.grid.column.other-detail3.title'\n        ),\n        visible: false,\n        filterable: false,\n        sortable: false\n      },\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.otherDetail4,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.console.grid.column.other-detail4.title'\n        ),\n        visible: false,\n        filterable: false,\n        sortable: false\n      },\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.justificationRequired,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.justification.require-on.label'),\n        visible: false,\n        filterable: false\n      },\n      {\n        fieldId: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.processInstanceId,\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.console.grid.column.process-instance-id.title'\n        ),\n        visible: false,\n        filterable: false,\n        sortable: false\n      }\n    ];\n  }\n\n  private getRecordDefinition(): IRecordDefinition {\n    return {\n      fieldDefinitions: [\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.application,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.summary,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.requester,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.status,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.selection,\n          optionNamesById: {\n            [ApprovalRequestStatus.Pending]: this.translateService.instant(\n              RX_APPROVAL_CONSOLE.approvalRequestTypes.pending.labelKey\n            ),\n            [ApprovalRequestStatus.RequestMoreInfo]: this.translateService.instant(\n              RX_APPROVAL_CONSOLE.approvalRequestTypes.moreInfo.labelKey\n            ),\n            [ApprovalRequestStatus.Approved]: this.translateService.instant(\n              RX_APPROVAL_CONSOLE.approvalRequestTypes.approved.labelKey\n            ),\n            [ApprovalRequestStatus.Rejected]: this.translateService.instant(\n              RX_APPROVAL_CONSOLE.approvalRequestTypes.rejected.labelKey\n            ),\n            [ApprovalRequestStatus.Cancelled]: this.translateService.instant(\n              RX_APPROVAL_CONSOLE.approvalRequestTypes.cancelled.labelKey\n            ),\n            [ApprovalRequestStatus.Error]: this.translateService.instant(\n              RX_APPROVAL_CONSOLE.approvalRequestTypes.error.labelKey\n            ),\n            [ApprovalRequestStatus.Hold]: this.translateService.instant(\n              RX_APPROVAL_CONSOLE.approvalRequestTypes.onHold.labelKey\n            ),\n            [ApprovalRequestStatus.Closed]: this.translateService.instant(\n              RX_APPROVAL_CONSOLE.approvalRequestTypes.closed.labelKey\n            )\n          }\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.request,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.actingAs,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.createDateSig,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.process,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.signatureInstanceID,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.justificationReasonField,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.sigTermStateDate,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.dateTime\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.signatureID,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.otherDetail1,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.otherDetail2,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.otherDetail3,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.otherDetail4,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.justificationRequired,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.selection,\n          optionNamesById: {\n            [JustificationRequirement.RequiredForApproval]: this.translateService.instant(\n              'com.bmc.arsys.rx.client.approval.justification.require-on.approval.label'\n            ),\n            [JustificationRequirement.RequiredForRejection]: this.translateService.instant(\n              'com.bmc.arsys.rx.client.approval.justification.require-on.rejection.label'\n            ),\n            [JustificationRequirement.RequiredForApprovalOrRejection]: this.translateService.instant(\n              'com.bmc.arsys.rx.client.approval.justification.require-on.approval-rejection.label'\n            ),\n            [JustificationRequirement.NotRequired]: this.translateService.instant(\n              'com.bmc.arsys.rx.client.common.not-applicable.label'\n            )\n          }\n        },\n        {\n          id: RX_APPROVAL_CONSOLE.approvalRequestsGrid.fields.processInstanceId,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        }\n      ]\n    };\n  }\n}\n","<div class=\"row h-100\">\n  <div class=\"col-12 col-md-7 d-flex flex-column flex-fill h-100\">\n    <h2 class=\"mt-0\">{{ 'com.bmc.arsys.rx.client.approval.console.requests.title' | translate }}</h2>\n\n    <adapt-tabset\n      type=\"pills\"\n      [tab-active]=\"0\"\n      *ngIf=\"availableRequestCount$ | async as requestsTypeCounts\"\n      (tab-active-changed)=\"fetchApprovalRequests($event)\"\n      rx-id=\"approval-requests-tabs\"\n    >\n      <adapt-tab-panel\n        *ngFor=\"let requestType of approvalRequestTypes\"\n        adapt-tab-title=\"{{ requestType.label }}\"\n        [badge]=\"requestsTypeCounts[requestType.countType]\"\n        [badge-type]=\"requestType.badgeType\"\n      >\n      </adapt-tab-panel>\n    </adapt-tabset>\n\n    <rx-record-grid\n      #approvalRequestsGrid\n      [config]=\"gridConfig$\"\n      *ngIf=\"shouldShowGrid\"\n      (dataLoaded)=\"onDataLoaded()\"\n    ></rx-record-grid>\n  </div>\n\n  <div class=\"col-12 col-md-5 mt-4 mt-md-0 d-flex flex-column flex-fill h-100\">\n    <div class=\"mb-1\">\n      <button\n        type=\"button\"\n        adapt-button\n        btn-type=\"secondary\"\n        size=\"small\"\n        class=\"d-icon-left-angle_left mr-2\"\n        rx-id=\"prev-button\"\n        [disabled]=\"isPreviousButtonDisabled()\"\n        (click)=\"showPreviousRequestDetails()\"\n      ></button>\n\n      <button\n        type=\"button\"\n        adapt-button\n        btn-type=\"secondary\"\n        size=\"small\"\n        class=\"d-icon-left-angle_right mr-3\"\n        rx-id=\"next-button\"\n        [disabled]=\"isNextButtonDisabled()\"\n        (click)=\"showNextRequestDetails()\"\n      ></button>\n\n      <h2 class=\"d-inline-block my-0 align-middle\">\n        {{ 'com.bmc.arsys.rx.client.approval.console.request-details.title' | translate }}\n        <span *ngIf=\"currentRequestId\">({{ currentRequestId }})</span>\n      </h2>\n    </div>\n\n    <adapt-tabset\n      type=\"pills\"\n      [tab-active]=\"0\"\n      #requestDetailsTabs\n      (tab-active-changed)=\"onTabChanged($event)\"\n      class=\"d-flex flex-column flex-fill h-100\"\n      rx-id=\"request-details-tabs\"\n    >\n      <adapt-tab-panel\n        adapt-tab-title=\"{{ 'com.bmc.arsys.rx.client.common.general-items.label' | translate }}\"\n        badge-type=\"primary\"\n      >\n        <rx-approval-request-general-details\n          [approvalRequest]=\"selectedApprovalRequest\"\n          [gridType]=\"selectedApprovalRequestsTab.gridType\"\n        ></rx-approval-request-general-details>\n      </adapt-tab-panel>\n\n      <adapt-tab-panel adapt-tab-title=\"{{ 'com.bmc.arsys.rx.client.approval.console.approvers.title' | translate }}\">\n        <rx-approval-request-approvers\n          class=\"d-flex flex-column flex-fill h-100\"\n          [approvalRequest]=\"selectedApprovalRequest\"\n          [gridType]=\"selectedApprovalRequestsTab.gridType\"\n          *ngIf=\"activeTabIndex === 1\"\n        ></rx-approval-request-approvers>\n      </adapt-tab-panel>\n\n      <adapt-tab-panel adapt-tab-title=\"{{ 'com.bmc.arsys.rx.client.approval.console.questions.label' | translate }}\">\n        <rx-approval-request-questions\n          class=\"d-flex flex-column flex-fill h-100\"\n          [approvalRequest]=\"selectedApprovalRequest\"\n          [gridType]=\"selectedApprovalRequestsTab.gridType\"\n          [requestsTabStatus]=\"selectedApprovalRequestsTab.status\"\n          (questionSubmitted)=\"onQuestionSubmitted()\"\n          *ngIf=\"activeTabIndex === 2\"\n        ></rx-approval-request-questions>\n      </adapt-tab-panel>\n\n      <adapt-tab-panel adapt-tab-title=\"{{ 'com.bmc.arsys.rx.client.approval.console.comments.title' | translate }}\">\n        <rx-approval-request-comments\n          class=\"d-flex flex-column flex-fill h-100\"\n          [approvalRequest]=\"selectedApprovalRequest\"\n          [gridType]=\"selectedApprovalRequestsTab.gridType\"\n          *ngIf=\"activeTabIndex === 3\"\n        ></rx-approval-request-comments>\n      </adapt-tab-panel>\n\n      <adapt-tab-panel adapt-tab-title=\"{{ 'com.bmc.arsys.rx.client.approval.console.attachments.title' | translate }}\">\n        <rx-approval-request-attachments\n          class=\"d-flex flex-column flex-fill h-100\"\n          [approvalRequest]=\"selectedApprovalRequest\"\n          [gridType]=\"selectedApprovalRequestsTab.gridType\"\n          *ngIf=\"activeTabIndex === 4\"\n        ></rx-approval-request-attachments>\n      </adapt-tab-panel>\n    </adapt-tabset>\n  </div>\n</div>\n\n<ng-template #definitionNameCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  {{ dataItem[column.field] | rxDefinitionNamePipe }}\n</ng-template>\n\n<ng-template #resolvedFieldCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  {{ dataItem.resolvedDisplayValues[column.field] }}\n</ng-template>\n","import { ComponentFactoryResolver, NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RxViewComponentRegistryService } from '@helix/platform/view/api';\r\nimport { RX_APPLICATION, RxDefinitionModule } from '@helix/platform/shared/api';\r\nimport { ApprovalConsoleComponent } from './approval-console.component';\r\nimport { RecordGridModule } from '@helix/platform/view/components';\r\nimport { RxSelectWithPaginationModule } from '@helix/platform/shared/components';\r\nimport { ReadOnlyFieldModule, RxBusyIndicatorModule } from '@helix/platform/ui-kit';\r\n\r\nimport {\r\n  AdaptAlertModule,\r\n  AdaptBusyModule,\r\n  AdaptButtonModule,\r\n  AdaptDownloadModule,\r\n  AdaptDropdownModule,\r\n  AdaptEmptyStateModule,\r\n  AdaptRxLabelModule,\r\n  AdaptRxSwitchModule,\r\n  AdaptRxTextareaModule,\r\n  AdaptRxTextfieldModule,\r\n  AdaptRxUploaderModule,\r\n  AdaptTabsModule\r\n} from '@bmc-ux/adapt-angular';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ApprovalRequestGeneralDetailsComponent } from './approval-request-general-details/approval-request-general-details.component';\r\nimport { ApprovalRequestReassignComponent } from './approval-request-reassign/approval-request-reassign.component';\r\nimport { ApprovalRequestApproversComponent } from './approval-request-approvers/approval-request-approvers.component';\r\nimport { ApprovalRequestQuestionsComponent } from './approval-request-questions/approval-request-questions.component';\r\nimport { ApprovalRequestCommentsComponent } from './approval-request-comments/approval-request-comments.component';\r\nimport { ApprovalRequestAttachmentsComponent } from './approval-request-attachments/approval-request-attachments.component';\r\nimport { ApprovalRequestQuestionResponseComponent } from './approval-request-question-response/approval-request-question-response.component';\r\nimport { ApprovalRequestQuestionComponent } from './approval-request-question/approval-request-question.component';\r\nimport { ApprovalRequestCommentComponent } from './approval-request-comment/approval-request-comment.component';\r\nimport { ApprovalRequestActionReasonInputComponent } from './approval-request-action-reason-input/approval-request-action-reason-input.component';\r\nimport { RxApprovalConsoleHelperService } from './approval-console-helper.service';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ApprovalConsoleComponent,\r\n    ApprovalRequestGeneralDetailsComponent,\r\n    ApprovalRequestReassignComponent,\r\n    ApprovalRequestApproversComponent,\r\n    ApprovalRequestQuestionsComponent,\r\n    ApprovalRequestCommentsComponent,\r\n    ApprovalRequestAttachmentsComponent,\r\n    ApprovalRequestQuestionResponseComponent,\r\n    ApprovalRequestQuestionComponent,\r\n    ApprovalRequestCommentComponent,\r\n    ApprovalRequestActionReasonInputComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RecordGridModule,\r\n    AdaptButtonModule,\r\n    AdaptDropdownModule,\r\n    FormsModule,\r\n    TranslateModule,\r\n    AdaptTabsModule,\r\n    ReadOnlyFieldModule,\r\n    RxBusyIndicatorModule,\r\n    RxDefinitionModule,\r\n    RxSelectWithPaginationModule,\r\n    AdaptEmptyStateModule,\r\n    AdaptRxTextareaModule,\r\n    AdaptRxUploaderModule,\r\n    AdaptBusyModule,\r\n    AdaptDownloadModule,\r\n    AdaptRxLabelModule,\r\n    AdaptRxSwitchModule,\r\n    AdaptAlertModule,\r\n    AdaptRxTextfieldModule\r\n  ],\r\n  entryComponents: [ApprovalConsoleComponent],\r\n  providers: [RxApprovalConsoleHelperService]\r\n})\r\nexport class ApprovalConsoleRegistrationModule {\r\n  constructor(\r\n    private componentFactoryResolver: ComponentFactoryResolver,\r\n    private rxViewComponentRegistryService: RxViewComponentRegistryService\r\n  ) {\r\n    rxViewComponentRegistryService.register({\r\n      type: 'rx-approval-console',\r\n      componentFactory: this.componentFactoryResolver.resolveComponentFactory(ApprovalConsoleComponent),\r\n      name: 'Approval console',\r\n      isPageComponent: true,\r\n      availableInBundles: [RX_APPLICATION.approvalBundleId]\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { ApprovalConsoleRegistrationModule } from './approval-console/approval-console-registration.module';\r\n\r\n@NgModule({\r\n  imports: [ApprovalConsoleRegistrationModule],\r\n  providers: [],\r\n  declarations: []\r\n})\r\nexport class ApprovalConsoleModule {}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["DataPage","Injectable","RX_APPLICATION","map","RX_RESOURCE_URLS","RX_RECORD_DEFINITION","_map","finalize","DismissReasons","RxModalClass","Component","switchMap","tap","of","some","trim","moment","Subject","NEVER","combineLatest","forEach","EMPTY","Input","iif","omit","ViewChild","EventEmitter","includes","noop","ReadOnlyFieldsModalComponent","Output","reject","forkJoin","isNil","findIndex","RowDataItemIdFieldName","RX_MODAL","cloneDeep","find","RowSelectionMode","JustificationRequirement","BaseViewComponent","CommonModule","RecordGridModule","AdaptButtonModule","AdaptDropdownModule","FormsModule","TranslateModule","AdaptTabsModule","ReadOnlyFieldModule","RxBusyIndicatorModule","RxDefinitionModule","RxSelectWithPaginationModule","AdaptEmptyStateModule","AdaptRxTextareaModule","AdaptRxUploaderModule","AdaptBusyModule","AdaptDownloadModule","AdaptRxLabelModule","AdaptRxSwitchModule","AdaptAlertModule","AdaptRxTextfieldModule","NgModule"],"mappings":"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"}