{"version":3,"file":"helix-platform-process-elements.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../libs/platform/process/elements/shared/process-shape/process-shape.mixin.ts","../../../../libs/platform/process/elements/end-event/end-event.class.ts","../../../../libs/platform/process/elements/shared/process-shape/process-shape-view.mixin.ts","../../../../libs/platform/process/elements/end-event/end-event-view.class.ts","../../../../libs/platform/process/elements/end-event/end-event.service.ts","../../../../libs/platform/process/elements/end-event/end-event-registration.module.ts","../../../../libs/platform/process/elements/process/process.class.ts","../../../../libs/platform/process/elements/process/process.service.ts","../../../../libs/platform/process/elements/process-action/process-action.class.ts","../../../../libs/platform/process/elements/process-action/process-action-view.class.ts","../../../../libs/platform/process/elements/shared/components/expression-input-map-inspector-widget/expression-input-map-inspector-widget.component.ts","../../../../libs/platform/process/elements/shared/components/expression-input-map-inspector-widget/expression-input-map-inspector-widget.component.html","../../../../libs/platform/process/elements/process-action/process-action-expression-configurator.class.ts","../../../../libs/platform/process/elements/process-action/process-action.service.ts","../../../../libs/platform/process/elements/process-action/process-action-registration.module.ts","../../../../libs/platform/process/elements/shared/components/expression-input-map-inspector-widget/expression-input-map-inspector-widget.module.ts","../../../../libs/platform/process/elements/start-event/start-event.class.ts","../../../../libs/platform/process/elements/start-event/start-event-view.class.ts","../../../../libs/platform/process/elements/start-event/start-event.service.ts","../../../../libs/platform/process/elements/start-event/start-event-registration.module.ts","../../../../libs/platform/process/elements/process-element.service.ts","../../../../libs/platform/process/elements/process-elements.module.ts","../../../../libs/platform/process/elements/process-shapes.ts","../../../../libs/platform/process/elements/designer-cell-highlighter.class.ts","../../../../libs/platform/process/elements/rappid-paper.service.ts","../../../../libs/platform/process/elements/helix-platform-process-elements.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { chain, escape, isEmpty, omit, truncate } from 'lodash';\n\nimport { Constructor, RxIdService } from '@helix/platform/utils';\nimport { RxCommandManagerService, RxRootInjector } from '@helix/platform/shared/api';\n\ndeclare var joint: any;\n\nexport function RxProcessShapeMixin<TBase extends Constructor>(Base: TBase) {\n  return class RxProcessShape extends Base {\n    labelPath = 'content';\n\n    initialize(config: any): void {\n      // @ts-ignore\n      super.initialize(config);\n\n      // @ts-ignore\n      this.on('change:size', this.onSizeChange);\n      // @ts-ignore\n      this.on('change:position', this.onPositionChange);\n      // @ts-ignore\n      this.on('change:id', this.onIdChange);\n      // @ts-ignore\n      this.on('change:elementModel', this.onElementModelChange);\n\n      // @ts-ignore\n      this.prop('elementModel/guid', RxRootInjector.injector.get(RxIdService).get(this.get('id')));\n\n      // @ts-ignore\n      const labelPath = this.get('labelPath') || 'content';\n      // @ts-ignore\n      this.prop('elementModel/label', this.prop(labelPath));\n    }\n\n    getCommandManager(): any {\n      return RxRootInjector.injector.get(RxCommandManagerService).get();\n    }\n\n    canBeEmbedded(parentView, paper): boolean {\n      const hasNeighbors = !isEmpty(paper.model.getNeighbors(this));\n\n      // @ts-ignore\n      const hasBoundaryElementsWithNeighbors = chain(this.getEmbeddedCells())\n        .filter({ isBoundaryEvent: true })\n        .some((embeddedCell) => !isEmpty(paper.model.getNeighbors(embeddedCell)));\n\n      return !hasNeighbors && !hasBoundaryElementsWithNeighbors;\n    }\n\n    canEmbedElement(childView, paper): boolean {\n      return false;\n    }\n\n    getLabel(): string {\n      // @ts-ignore\n      return this.prop('elementModel/label');\n    }\n\n    getLayout(): string[] {\n      // @ts-ignore\n      return omit(this.toJSON(), [\n        'elementModel',\n        'embeds',\n        'layout',\n        'parentProcessDefinition',\n        'ownerProcessDefinitionName',\n        'localizableProperties',\n        'inputMapFields'\n      ]);\n    }\n\n    getParentId(): string {\n      // @ts-ignore\n      return this.get('parent');\n    }\n\n    onActivityTypeChange(element, type): void {\n      switch (type) {\n        case 'task':\n          element.attr({\n            '.inner': {\n              visibility: 'hidden'\n            },\n            '.outer': {\n              'stroke-width': 2, //changed original value 1 to new value 2\n              'stroke-dasharray': 'none'\n            },\n            path: {\n              ref: '.outer'\n            },\n            image: {\n              ref: '.outer'\n            },\n            rect: {\n              rx: 4,\n              ry: 4\n            }\n          });\n\n          break;\n\n        case 'event-sub-process':\n          element.attr({\n            '.inner': {\n              visibility: 'hidden'\n            },\n            '.outer': {\n              'stroke-width': 2, //changed original value 1 to new value 2\n              'stroke-dasharray': '1,2'\n            },\n            path: {\n              ref: '.outer'\n            },\n            image: {\n              ref: '.outer'\n            },\n            rect: {\n              rx: 4,\n              ry: 4\n            }\n          });\n\n          break;\n\n        case 'call-activity':\n          element.attr({\n            '.inner': {\n              visibility: 'hidden'\n            },\n            '.outer': {\n              'stroke-width': 4, //changed original value 5 to new value 4\n              'stroke-dasharray': 'none'\n            },\n            path: {\n              ref: '.outer'\n            },\n            image: {\n              ref: '.outer'\n            },\n            rect: {\n              rx: 4,\n              ry: 4\n            }\n          });\n\n          break;\n      }\n    }\n\n    updateContent(): void {\n      // @ts-ignore\n      const content = this.get('content');\n      // @ts-ignore\n      const label = this.id ? content : truncate(content, { length: 20 });\n\n      const tooltip = label === content ? '' : content;\n\n      if (joint.env.test('svgforeignobject')) {\n        // Content element is a <div> element.\n        // @ts-ignore\n        this.attr({\n          '.content': {\n            // escape the label to patch XSS vulnerability (http://clientio.freshdesk.com/helpdesk/tickets/522)\n            html: escape(label),\n            title: tooltip\n          }\n        });\n      } else {\n        // Content element is a <text> element.\n        // SVG elements don't have innerHTML attribute.\n        // @ts-ignore\n        this.attr({\n          '.content': {\n            text: label,\n            title: tooltip\n          }\n        });\n      }\n    }\n\n    updateName(): void {\n      // @ts-ignore\n      this.prop('elementModel/name', this.getLabel() || this.get('defaultName'));\n    }\n\n    private onIdChange(element, id): void {\n      const guid = element.prop('elementModel/guid');\n\n      if (guid) {\n        element.prop('lastId', RxRootInjector.injector.get(RxIdService).getBase(guid), { silent: true });\n      }\n\n      element.prop('elementModel/guid', RxRootInjector.injector.get(RxIdService).get(id), { silent: true });\n    }\n\n    private onElementModelChange(element, elementModel, options): void {\n      if (options.propertyPath === 'elementModel/label') {\n        // @ts-ignore\n        const labelPath = this.get('labelPath') || 'content';\n\n        if (labelPath) {\n          element.prop(labelPath, this.getLabel());\n        }\n      }\n\n      this.updateName();\n    }\n\n    private onPositionChange(element, position, options): void {\n      if (!options.translateBy && options.propertyValue) {\n        // @ts-ignore\n        const previousPosition = this.previous('position');\n\n        const parentMovedBy = {\n          cx: previousPosition.x - position.x,\n          cy: previousPosition.y - position.y\n        };\n\n        // @ts-ignore\n        this.getEmbeddedCells().forEach((embeddedCell) => {\n          if (embeddedCell._snapToParentBorder) {\n            embeddedCell._snapToParentBorder(this, parentMovedBy);\n          }\n        });\n      }\n    }\n\n    private onSizeChange(element): void {\n      element.getEmbeddedCells().forEach((embeddedCell) => {\n        if (embeddedCell.isBoundaryEvent && embeddedCell._snapToParentBorder) {\n          embeddedCell._snapToParentBorder(embeddedCell);\n        }\n      });\n    }\n  };\n}\n","import { RX_PROCESS_DEFINITION } from '@helix/platform/process/api';\n\nimport { RxProcessShapeMixin } from '../shared/process-shape/process-shape.mixin';\n\ndeclare var joint: any;\n\nexport class RxEndEvent extends RxProcessShapeMixin(joint.shapes.bpmn.Event) {\n  initialize(config: any): any {\n    // @ts-ignore\n    super.initialize(config);\n  }\n\n  defaults(): any {\n    return joint.util.deepSupplement(\n      {\n        attrs: {\n          '.label': {\n            fill: 'gray'\n          }\n        },\n\n        defaultName: RX_PROCESS_DEFINITION.processElementDisplayNames.endEvent,\n        eventType: 'end',\n        icon: 'transparent',\n        labelPath: 'attrs/.label/text',\n\n        size: {\n          width: 30,\n          height: 30\n        },\n\n        type: RX_PROCESS_DEFINITION.processElementTypes.endEvent\n      },\n      joint.shapes.bpmn.Event.prototype.defaults\n    );\n  }\n}\n","import { chain, filter, isEmpty, isFunction, map, max, min } from 'lodash';\n\nimport { Constructor } from '@helix/platform/utils';\n\ndeclare var joint: any;\n\nexport function RxProcessShapeViewMixin<TBase extends Constructor>(Base: TBase) {\n  return class RxProcessShapeView extends Base {\n    initialize(config: any): void {\n      // @ts-ignore\n      super.initialize(config);\n    }\n\n    canInteract(): boolean {\n      // @ts-ignore\n      return isFunction(this.paper.options.interactive)\n        ? // @ts-ignore\n          this.paper.options.interactive(this)\n        : // @ts-ignore\n          this.paper.options.interactive;\n    }\n\n    prepareEmbedding(): void {\n      // @ts-ignore\n      const hasNeighbors = !isEmpty(this.paper.model.getNeighbors(this.model));\n\n      // @ts-ignore\n      const hasBoundaryElementsWithNeighbors = chain(this.model.getEmbeddedCells())\n        .filter({ isBoundaryEvent: true })\n        .some(function (embeddedCell) {\n          return !isEmpty(this.paper.model.getNeighbors(embeddedCell));\n        });\n\n      // @ts-ignore\n      if (this.model.get('parent') && !hasNeighbors && !hasBoundaryElementsWithNeighbors) {\n        joint.dia.ElementView.prototype.prepareEmbedding.apply(this, arguments);\n      }\n    }\n\n    getEmbeddedBBox(): any {\n      let result;\n\n      // @ts-ignore\n      const embeddedCellModels = filter(this.model.getEmbeddedCells(), (cellModel) => {\n        return cellModel && cellModel.get('type') !== 'rx.SequenceFlow' && !cellModel.isBoundaryEvent;\n      });\n\n      if (embeddedCellModels.length) {\n        const bboxes = chain(embeddedCellModels)\n          .map((cellModel) => {\n            // @ts-ignore\n            var view = this.paper.findViewByModel(cellModel);\n\n            // @ts-ignore\n            return new joint.V(view.el).bbox(false, this.paper.viewport);\n          })\n          .value();\n\n        const minX = min(map(bboxes, (bbox) => bbox.x));\n\n        const minY = min(map(bboxes, (bbox) => bbox.y));\n\n        const maxX = max(map(bboxes, (bbox) => bbox.x + bbox.width));\n\n        const maxY = max(map(bboxes, (bbox) => bbox.y + bbox.height));\n\n        result = joint.g.rect(minX, minY, maxX - minX, maxY - minY);\n      } else {\n        result = joint.g.rect(0, 0, 0, 0);\n      }\n\n      return result;\n    }\n  };\n}\n","import { RxProcessShapeViewMixin } from '../shared/process-shape/process-shape-view.mixin';\n\ndeclare var joint: any;\n\nexport class RxEndEventView extends RxProcessShapeViewMixin(joint.dia.ElementView) {\n  initialize(config: any): any {\n    // @ts-ignore\n    super.initialize(config);\n  }\n\n  // TODO-VS: remove\n  sgResize(opt): any {\n    // @ts-ignore\n    const scalable = this.scalableNode;\n\n    scalable.attr('transform', `scale(${0.5},${0.5})`);\n\n    // @ts-ignore\n    super.update();\n\n    // // @ts-ignore\n    // var model = this.model;\n    // var angle = model.angle();\n    // var size = model.size();\n    // // @ts-ignore\n    // var scalable = this.scalableNode;\n    //\n    // var recursive = false;\n    // if (scalable.node.getElementsByTagName('path').length > 0) {\n    //   // If scalable has at least one descendant that is a path, we need to switch to recursive bbox calculation.\n    //   // If there are no path descendants, group bbox calculation works and so we can use the (faster) native function directly.\n    //   recursive = true;\n    // }\n    //\n    // var scalableBBox = scalable.getBBox({ recursive: recursive });\n    //\n    // var sx = size.width / (60 || 1);\n    // var sy = size.height / (60 || 1);\n    //\n    // scalable.attr('transform', 'scale(' + sx + ',' + sy + ')');\n    //\n    // // @ts-ignore\n    // super.update();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable, of } from 'rxjs';\nimport { isEmpty, some } from 'lodash';\n\nimport { IValidationIssue, ValidationIssueType } from '@helix/platform/ui-kit';\nimport { RxStringService } from '@helix/platform/utils';\nimport {\n  IDataDictionaryBranch,\n  IDesignerElementService,\n  IFormBuilderConfig,\n  IPlainObject\n} from '@helix/platform/shared/api';\nimport {\n  ITextareaFormControlOptions,\n  ITextFormControlOptions,\n  TextareaFormControlComponent,\n  TextFormControlComponent\n} from '@helix/platform/shared/components';\nimport { IProcessFlowElementDefinition, RX_PROCESS_DEFINITION } from '@helix/platform/process/api';\n\nimport { IEndEventModel } from './end-event.interfaces';\n\ndeclare var joint: any;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxEndEventService implements IDesignerElementService<IProcessFlowElementDefinition, IEndEventModel> {\n  constructor(private rxStringService: RxStringService, private translateService: TranslateService) {}\n\n  getDefinitionFromModel(model: IEndEventModel): Partial<IProcessFlowElementDefinition> {\n    return {\n      description: model.description,\n      guid: model.guid,\n      name: model.name,\n      resourceType: model.resourceType\n    };\n  }\n\n  // TODO-VS: add position and size inspector groups\n  getInspectorConfig(): IFormBuilderConfig {\n    return [\n      {\n        label: this.translateService.instant('com.bmc.arsys.rx.client.common.general-items.label'),\n        controls: [\n          {\n            name: 'label',\n            component: TextFormControlComponent,\n            options: {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.common.label.label')\n            } as ITextFormControlOptions\n          },\n          {\n            name: 'description',\n            component: TextareaFormControlComponent,\n            options: {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.common.description.label'),\n              rows: 3\n            } as ITextareaFormControlOptions\n          },\n          {\n            name: 'guid',\n            component: TextFormControlComponent,\n            isDisabled: true,\n            options: {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.common.id.label')\n            } as ITextareaFormControlOptions\n          }\n        ]\n      }\n    ];\n  }\n\n  // TODO-VS: update logic and types\n  getModelFromDefinition(definition?: IProcessFlowElementDefinition): IEndEventModel {\n    let elementModel = {\n      description: '',\n      guid: null,\n      label: '',\n      name: RX_PROCESS_DEFINITION.processElementDisplayNames.endEvent,\n      resourceType: RX_PROCESS_DEFINITION.processElementResourceTypes.endEvent,\n      type: RX_PROCESS_DEFINITION.processElementTypes.endEvent\n    };\n\n    if (definition) {\n      elementModel = {\n        ...elementModel,\n        description: definition.description,\n        guid: definition.guid,\n        label: definition.name,\n        name: definition.name,\n        resourceType: definition.resourceType\n      };\n    }\n\n    return elementModel;\n  }\n\n  getShape(options: IPlainObject): any {\n    return new joint.shapes.rx.EndEvent({\n      elementModel: this.getModelFromDefinition(),\n      position: options.position\n    });\n  }\n\n  setCommonDataDictionaryBranch(guid: string, dataDictionaryBranch: Observable<IDataDictionaryBranch>): void {}\n\n  validate(model: IEndEventModel, availableCells: any): Observable<IValidationIssue[]> {\n    const validationIssues: IValidationIssue[] = [];\n\n    const inboundLinks = availableCells.filter((cell) => cell.prop('targetNode') === model.guid);\n\n    if (inboundLinks.length < 1) {\n      validationIssues.push({\n        type: ValidationIssueType.Warning,\n        description: this.translateService.instant('com.bmc.arsys.rx.client.designer.validation.is-required.message', {\n          propertyName: this.translateService.instant(\n            'com.bmc.arsys.rx.client.process-designer.inbound-sequence-flow.label'\n          )\n        }),\n        data: {\n          guid: model.guid,\n          inspectorTabIndex: 1\n        }\n      });\n    }\n\n    const outboundLinks = availableCells.filter((cell) => cell.prop('sourceNode') === model.guid);\n\n    if (!isEmpty(outboundLinks)) {\n      validationIssues.push({\n        type: ValidationIssueType.Warning,\n        description: this.translateService.instant(\n          'com.bmc.arsys.rx.client.process-designer.elements.end-event.validation.outbound-sequence-flow.message'\n        ),\n        data: {\n          guid: model.guid,\n          inspectorTabIndex: 1\n        }\n      });\n    }\n\n    if (this.rxStringService.isEmptySafe(model.label)) {\n      if (some(availableCells, (cell) => cell.prop('label') === model.label)) {\n        validationIssues.push({\n          type: ValidationIssueType.Error,\n          description: this.translateService.instant(\n            'com.bmc.arsys.rx.client.designer.validation.must-be-unique.message',\n            {\n              propertyName: this.translateService.instant('com.bmc.arsys.rx.client.common.label.label')\n            }\n          ),\n          data: {\n            guid: model.guid,\n            inspectorTabIndex: 1,\n            propertyName: 'label'\n          }\n        });\n      }\n    }\n\n    return of(validationIssues);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { RX_DESIGNER } from '@helix/platform/shared/api';\nimport { RX_PROCESS_DEFINITION, RxProcessElementRegistryService } from '@helix/platform/process/api';\n\nimport { RxEndEventService } from './end-event.service';\nimport { RxEndEvent } from './end-event.class';\nimport { RxEndEventView } from './end-event-view.class';\n\n@NgModule()\nexport class RxEndEventRegistrationModule {\n  constructor(\n    rxEndEventService: RxEndEventService,\n    rxProcessElementRegistryService: RxProcessElementRegistryService,\n    translateService: TranslateService\n  ) {\n    rxProcessElementRegistryService.register({\n      displayName: translateService.instant(\n        'com.bmc.arsys.rx.client.process-designer.elements.end-event.display-name.label'\n      ),\n      elementService: rxEndEventService,\n      group: RX_PROCESS_DEFINITION.standardProcessElementGroups.events.name,\n      paletteItem: {\n        border: RX_DESIGNER.paletteItemBorder.bold,\n        label: RX_DESIGNER.paletteItemLabel.outer,\n        shape: RX_DESIGNER.paletteItemShape.circle\n      },\n      resourceType: RX_PROCESS_DEFINITION.processElementResourceTypes.endEvent,\n      shapeClass: RxEndEvent,\n      shapeType: 'EndEvent',\n      type: RX_PROCESS_DEFINITION.processElementTypes.endEvent,\n      viewShapeClass: RxEndEventView,\n      viewShapeType: 'EndEventView'\n    });\n  }\n}\n","declare var joint: any;\n\nexport class RxProcess extends joint.dia.Element {\n  constructor(options: any) {\n    super(options);\n\n    this.markup = '<g></g>';\n  }\n\n  defaults(): any {\n    return joint.util.defaultsDeep(\n      {\n        position: { x: 0, y: 0 },\n        size: { width: 1, height: 1 },\n        type: 'rx.Process'\n      },\n      super.defaults\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable, of } from 'rxjs';\nimport { isEmpty } from 'lodash';\n\nimport { IValidationIssue, ValidationIssueType } from '@helix/platform/ui-kit';\nimport { RxStringService } from '@helix/platform/utils';\nimport {\n  ICustomizationOptions,\n  IFormBuilderConfig,\n  RxDefinitionNameService,\n  Tooltip,\n  IPlainObject\n} from '@helix/platform/shared/api';\nimport {\n  CustomizationOptionsComponent,\n  IPermissionEditorComponentOptions,\n  IRevertCustomizationOptions,\n  ISelectFormControlOptions,\n  ISwitcherFormControlOptions,\n  ITextareaFormControlOptions,\n  ITextFormControlOptions,\n  RxPermissionEditorComponent,\n  RxRevertCustomizationComponent,\n  SelectFormControlComponent,\n  SwitchFormControlComponent,\n  TextareaFormControlComponent,\n  TextFormControlComponent\n} from '@helix/platform/shared/components';\nimport { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { IProcessDefinition, RX_PROCESS_DEFINITION } from '@helix/platform/process/api';\n\nimport { IProcessDefinitionModel } from './process.types';\nimport { RxProcess } from './process.class';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxProcessService {\n  constructor(\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxStringService: RxStringService,\n    private translateService: TranslateService\n  ) {}\n\n  // TODO-VS: update when variable editor is implemented\n  getDefinitionFromModel(definitionModel: IProcessDefinitionModel): Partial<IProcessDefinition> {\n    return {\n      allowOverlay: definitionModel.customizationOptions.allowOverlay,\n      contextKeyParam: definitionModel.contextKeyParam,\n      description: definitionModel.description,\n      guid: definitionModel.guid,\n      inputParams: definitionModel.inputParams,\n      isEnabled: definitionModel.isEnabled,\n      localVariables: definitionModel.localVariables,\n      name: this.rxDefinitionNameService.getDefinitionName(definitionModel.bundleId, definitionModel.name),\n      outputParams: definitionModel.outputParams,\n      overlayDescriptor: definitionModel.overlayDescriptor,\n      overlayGroupId: definitionModel.overlayGroupId,\n      permissions: definitionModel.permissions,\n      runAsUser: RX_PROCESS_DEFINITION.runAsUser[definitionModel.runAsUser].definitionValue,\n      scope: definitionModel.customizationOptions.scope\n    };\n  }\n\n  getInspectorConfig(definitionModel: IProcessDefinitionModel): IFormBuilderConfig {\n    return [\n      {\n        label: this.translateService.instant('com.bmc.arsys.rx.client.common.general-items.label'),\n        controls: [\n          {\n            name: 'name',\n            component: TextFormControlComponent,\n            isDisabled: Boolean(definitionModel.lastUpdateTime),\n            options: {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label'),\n              required: true\n            } as ITextFormControlOptions\n          },\n          {\n            name: 'description',\n            component: TextareaFormControlComponent,\n            options: {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.common.description.label'),\n              rows: 3\n            } as ITextareaFormControlOptions\n          },\n          {\n            name: 'guid',\n            component: TextFormControlComponent,\n            isDisabled: true,\n            options: {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.common.id.label')\n            } as ITextareaFormControlOptions\n          },\n          {\n            name: 'owner',\n            component: TextFormControlComponent,\n            hidden: !Boolean(definitionModel.owner),\n            isDisabled: true,\n            options: {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.common.owner.label')\n            } as ITextareaFormControlOptions\n          },\n          {\n            name: 'lastUpdateTime',\n            component: TextFormControlComponent,\n            hidden: !Boolean(definitionModel.lastUpdateTime),\n            isDisabled: true,\n            options: {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.common.modified-date.label')\n            } as ITextareaFormControlOptions\n          },\n          {\n            name: 'lastChangedBy',\n            component: TextFormControlComponent,\n            hidden: !Boolean(definitionModel.lastChangedBy),\n            isDisabled: true,\n            options: {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.common.modified-by.label')\n            } as ITextareaFormControlOptions\n          },\n          {\n            component: RxRevertCustomizationComponent,\n            options: {\n              overlayGroupId: definitionModel.overlayGroupId,\n              overlayDescriptor: definitionModel.overlayDescriptor\n            } as IRevertCustomizationOptions\n          },\n          {\n            name: 'customizationOptions',\n            component: CustomizationOptionsComponent,\n            options: {\n              definitionTypeDisplayName: this.translateService\n                .instant('com.bmc.arsys.rx.client.process-definition.label')\n                .toLowerCase(),\n              allowOverlay: definitionModel.customizationOptions.allowOverlay,\n              scope: definitionModel.customizationOptions.scope,\n              overlayGroupId: definitionModel.overlayGroupId,\n              overlayDescriptor: definitionModel.overlayDescriptor\n            } as ICustomizationOptions\n          },\n          {\n            name: 'isEnabled',\n            component: SwitchFormControlComponent,\n            options: {\n              label: this.translateService.instant(\n                'com.bmc.arsys.rx.client.process-designer.elements.process.process-enabled.label'\n              )\n            } as ISwitcherFormControlOptions\n          },\n          {\n            name: 'runAsUser',\n            component: SelectFormControlComponent,\n            options: {\n              label: this.translateService.instant(\n                'com.bmc.arsys.rx.client.process-designer.elements.process.run-as.label'\n              ),\n              tooltip: new Tooltip(\n                this.translateService.instant(\n                  'com.bmc.arsys.rx.client.process-designer.elements.process.run-as.tooltip'\n                )\n              ),\n              options: [\n                {\n                  name: this.translateService.instant('com.bmc.arsys.rx.client.common.administrator.label'),\n                  id: RX_PROCESS_DEFINITION.runAsUser.administrator.modelValue\n                },\n                {\n                  name: this.translateService.instant('com.bmc.arsys.rx.client.common.current-user.label'),\n                  id: RX_PROCESS_DEFINITION.runAsUser.currentUser.modelValue\n                }\n              ]\n            } as ISelectFormControlOptions\n          }\n        ]\n      },\n      {\n        label: this.translateService.instant('com.bmc.arsys.rx.client.common.variables.label'),\n        controls: [\n          // TODO-VS: add variables editor\n        ]\n      },\n      {\n        label: this.translateService.instant('com.bmc.arsys.rx.client.common.permissions.label'),\n        controls: [\n          {\n            name: 'permissions',\n            component: RxPermissionEditorComponent,\n            options: {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.common.permissions.label'),\n              type: 'process'\n            } as IPermissionEditorComponentOptions\n          }\n        ]\n      }\n    ];\n  }\n\n  // TODO-VS: update when variable editor is implemented\n  getModelFromDefinition(definition: IProcessDefinition, bundleId: string): IProcessDefinitionModel {\n    return {\n      bundleId,\n      contextKeyParam: definition.contextKeyParam,\n      customizationOptions: {\n        allowOverlay: definition.allowOverlay,\n        scope: definition.scope\n      },\n      description: definition.description,\n      guid: definition.guid,\n      inputParams: definition.inputParams,\n      isEnabled: definition.isEnabled,\n      lastChangedBy: definition.lastChangedBy,\n      lastUpdateTime: definition.lastUpdateTime,\n      localVariables: definition.localVariables,\n      name: Boolean(definition.lastUpdateTime)\n        ? this.rxDefinitionNameService.getDisplayName(definition.name)\n        : definition.name,\n      outputParams: definition.outputParams,\n      overlayDescriptor: null,\n      overlayGroupId: definition.overlayGroupId,\n      owner: definition.owner,\n      permissions: definition.permissions,\n      runAsUser: definition.runAsUser\n        ? RX_PROCESS_DEFINITION.runAsUser.currentUser.modelValue\n        : RX_PROCESS_DEFINITION.runAsUser.administrator.modelValue\n    };\n  }\n\n  getShape(options: IPlainObject): RxProcess {\n    return new RxProcess(options);\n  }\n\n  validate(definitionModel: IProcessDefinitionModel, availableCells: any[]): Observable<IValidationIssue[]> {\n    const validationIssues = [];\n\n    if (this.rxStringService.isEmptySafe(definitionModel.name)) {\n      validationIssues.push({\n        type: ValidationIssueType.Error,\n        description: this.translateService.instant(\n          'com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message',\n          {\n            propertyName: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label')\n          }\n        ),\n        data: {\n          propertyName: 'name',\n          inspectorTabIndex: 0\n        }\n      });\n    }\n\n    if (definitionModel.name && !RX_RECORD_DEFINITION.validDefinitionNameRegex.test(definitionModel.name)) {\n      validationIssues.push({\n        type: ValidationIssueType.Error,\n        description: this.translateService.instant(\n          'com.bmc.arsys.rx.client.designer.validation.invalid-definition-name.message',\n          {\n            propertyName: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label')\n          }\n        ),\n        data: {\n          propertyName: 'name',\n          inspectorTabIndex: 0\n        }\n      });\n    }\n\n    const startEvents = availableCells.filter(\n      (cell) => cell.prop('type') === RX_PROCESS_DEFINITION.processElementTypes.startEvent\n    );\n\n    if (startEvents.length != 1) {\n      validationIssues.push({\n        type: ValidationIssueType.Error,\n        description: this.translateService.instant(\n          'com.bmc.arsys.rx.client.process-designer.elements.process.validation.single-start-event.message'\n        ),\n        data: {\n          inspectorTabIndex: 0\n        }\n      });\n    }\n\n    const endEvents = availableCells.filter(\n      (cell) => cell.prop('type') === RX_PROCESS_DEFINITION.processElementTypes.endEvent\n    );\n\n    if (isEmpty(endEvents)) {\n      validationIssues.push({\n        type: ValidationIssueType.Error,\n        description: this.translateService.instant(\n          'com.bmc.arsys.rx.client.process-designer.elements.process.validation.no-end-event.label'\n        ),\n        data: {\n          inspectorTabIndex: 0\n        }\n      });\n    }\n\n    return of(validationIssues);\n  }\n}\n","import { IDesignerElementService, RxRootInjector, RxServerActionMixin } from '@helix/platform/shared/api';\nimport { RX_PROCESS_DEFINITION, RxProcessElementRegistryService } from '@helix/platform/process/api';\n\nimport { RxProcessShapeMixin } from '../shared/process-shape/process-shape.mixin';\n\ndeclare var joint: any;\n\nexport class RxProcessAction extends RxServerActionMixin(RxProcessShapeMixin(joint.shapes.bpmn.Activity)) {\n  defaults(): any {\n    return joint.util.deepSupplement(\n      {\n        attrs: {\n          '.icon': {\n            width: 12,\n            height: 12,\n            'ref-x': 3,\n            'ref-y': 3\n          },\n          rect: {\n            rx: 4,\n            ry: 4\n          }\n        },\n\n        icon: 'gear',\n\n        size: {\n          width: 90,\n          height: 60\n        },\n\n        type: RX_PROCESS_DEFINITION.processElementTypes.processAction\n      },\n      // @ts-ignore\n      super.defaults\n    );\n  }\n\n  initialize(config: any): any {\n    // @ts-ignore\n    super.initialize(config);\n  }\n\n  getElementService(type: string): IDesignerElementService {\n    return RxRootInjector.injector.get(RxProcessElementRegistryService).get(type).elementService;\n  }\n}\n","import { RxServerActionViewMixin } from '@helix/platform/shared/api';\n\nimport { RxProcessShapeViewMixin } from '../shared/process-shape/process-shape-view.mixin';\n\ndeclare var joint: any;\n\nexport class RxProcessActionView extends RxServerActionViewMixin(\n  RxProcessShapeViewMixin(joint.shapes.bpmn.ActivityView)\n) {\n  initialize(config: any): any {\n    // @ts-ignore\n    super.initialize(config);\n  }\n}\n","import {\n  Component,\n  ElementRef,\n  Injector,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n  SimpleChanges,\n  ViewChild\n} from '@angular/core';\nimport { Observable, of, ReplaySubject } from 'rxjs';\nimport { map, pluck, take, takeUntil } from 'rxjs/operators';\nimport { isEqual } from 'lodash';\n\nimport { RxIdService } from '@helix/platform/utils';\nimport { IFormWidgetComponent, IProcessActionElementModel, RxDesignerCacheService } from '@helix/platform/shared/api';\nimport {\n  IExpressionEditorProperty,\n  IExpressionEditorPropertyChange,\n  InspectorWidgetBase,\n  RxExpressionEditorService\n} from '@helix/platform/shared/components';\nimport { ISelectedElementInspectorDesignerItemModel } from '@helix/platform/process/api';\n\nimport {\n  IExpressionInputMapInspectorConfig,\n  IExpressionInputMapInspectorWidgetOptions\n} from './expression-input-map-inspector-widget.types';\n\n@Component({\n  selector: 'rx-expression-input-map-inspector-widget',\n  templateUrl: './expression-input-map-inspector-widget.component.html',\n  styleUrls: ['./expression-input-map-inspector-widget.component.scss']\n})\nexport class RxExpressionInputMapInspectorWidgetComponent\n  extends InspectorWidgetBase<\n    IExpressionInputMapInspectorWidgetOptions,\n    Observable<ISelectedElementInspectorDesignerItemModel<IProcessActionElementModel>>\n  >\n  implements OnInit, OnDestroy, OnChanges, IFormWidgetComponent\n{\n  @ViewChild('expressionInputMapInspector', { read: ElementRef })\n  expressionInputMapInspectorElementRef: ElementRef;\n\n  config: IExpressionInputMapInspectorConfig[];\n  elementModel$: Observable<IProcessActionElementModel>;\n  graph$: Observable<any>;\n\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  constructor(\n    private renderer: Renderer2,\n    private rxDesignerCacheService: RxDesignerCacheService,\n    private rxExpressionEditorService: RxExpressionEditorService,\n    private rxIdService: RxIdService,\n    protected injector: Injector\n  ) {\n    super(injector);\n  }\n\n  ngOnInit(): void {\n    this.elementModel$ = this.designerItemModel.pipe(pluck('elementModel'), takeUntil(this.destroyed$));\n    this.graph$ = this.designerItemModel.pipe(pluck('graph'), takeUntil(this.destroyed$));\n\n    this.patchConfig(this.options);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!isEqual(changes.options.currentValue, changes.options.previousValue)) {\n      this.patchConfig(changes.options.currentValue);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  openExpressionEditor(\n    section: IExpressionInputMapInspectorConfig,\n    elementModel: IProcessActionElementModel,\n    inspectorElementRef: ElementRef\n  ) {\n    this.graph$.pipe(take(1)).subscribe((graph) => {\n      this.rxExpressionEditorService\n        .openEditor({\n          expressionConfigurator: this.options.expressionConfigurator,\n\n          expressionPropertyNavigator: {\n            getProperties: this.getExpressionProperties.bind(this, elementModel, inspectorElementRef)\n          },\n\n          isReadOnly: false,\n\n          property: {\n            path: `inputMap/${section.name}`,\n            value: elementModel.inputMap[section.name],\n            label: section.options.label\n          }\n        })\n        .pipe(takeUntil(this.destroyed$))\n        .subscribe((expression: IExpressionEditorPropertyChange) => {\n          const selectedElementCell = graph.getCell(this.rxIdService.getBase(elementModel.guid));\n\n          selectedElementCell.prop(`elementModel/${expression.path}`, expression.value);\n        });\n    });\n  }\n\n  private getExpressionProperties(\n    elementModel: IProcessActionElementModel,\n    inspectorElementRef: ElementRef\n  ): Observable<IExpressionEditorProperty[]> {\n    return of(elementModel.inputMap).pipe(\n      map((modelProperties) =>\n        Array.from(\n          this.renderer\n            .selectRootElement(inspectorElementRef.nativeElement, true)\n            .querySelectorAll('rx-expression-form-control')\n        ).map((element: Element) => {\n          const propertyPath = element.getAttribute('property-path');\n\n          return {\n            path: `inputMap/${propertyPath}`,\n            value: modelProperties[propertyPath],\n            label: element.getAttribute('property-label')\n          };\n        })\n      )\n    );\n  }\n\n  private patchConfig(options: IExpressionInputMapInspectorWidgetOptions): void {\n    this.config = options.expressionInputMapInspectorOptions.map((expressionInputMapInspectorOption) => ({\n      name: expressionInputMapInspectorOption.name,\n      options: {\n        label: expressionInputMapInspectorOption.label,\n        dataDictionary$: options.expressionConfigurator.getDataDictionary(\n          `inputMap/${expressionInputMapInspectorOption.name}`\n        ),\n        operators: options.expressionConfigurator.getOperators(`inputMap/${expressionInputMapInspectorOption.name}`)\n      }\n    }));\n  }\n}\n","<div *ngIf=\"elementModel$ | async as elementModel\" #expressionInputMapInspector>\n  <rx-expression-form-control\n    *ngFor=\"let section of config\"\n    [options]=\"section.options\"\n    [propertyPath]=\"section.name\"\n    [ngModel]=\"elementModel.inputMap[section.name]\"\n    (events)=\"openExpressionEditor(section, elementModel, expressionInputMapInspectorElementRef)\"\n  >\n  </rx-expression-form-control>\n</div>\n","import { Injector } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { IDataDictionary, RxServerActionExpressionConfigurator } from '@helix/platform/shared/api';\nimport { RxProcessDataDictionaryService } from '@helix/platform/process/api';\n\nexport class RxProcessActionExpressionConfigurator extends RxServerActionExpressionConfigurator {\n  constructor(protected injector: Injector) {\n    super(injector);\n\n    this.configureForProperty({\n      propertyPath: /outputMap\\/.*/,\n      dataDictionary$: this.getOutputMapDataDictionary()\n    });\n  }\n\n  protected getDataDictionaryService(): any {\n    return this.injector.get(RxProcessDataDictionaryService);\n  }\n\n  getOutputMapDataDictionary(): Observable<IDataDictionary> {\n    return this.commonDataDictionary$;\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { chain, isArray, isEmpty, reduce, transform } from 'lodash';\n\nimport { IValidationIssue, ValidationIssueType } from '@helix/platform/ui-kit';\nimport {\n  IAssignmentExpression,\n  IDataDictionary,\n  IDataDictionaryBranch,\n  IExpressionConfigurator,\n  IFormBuilderConfig,\n  IFormControlBuilderConfig,\n  IFormWidgetBuilderConfig,\n  IPlainObject,\n  IProcessActionElementModel,\n  IServiceParameter,\n  RxActionTypeUtilsService,\n  RxServerActionService,\n  Tooltip\n} from '@helix/platform/shared/api';\nimport {\n  AssignmentExpressionListFormControlComponent,\n  AssignmentExpressionListTargetFieldType,\n  IAssignmentExpressionListFormControlOptions,\n  ILabelFormControlOptions,\n  ISelectFormControlOptions,\n  ITextareaFormControlOptions,\n  ITextFormControlOptions,\n  LabelFormControlComponent,\n  SelectFormControlComponent,\n  TextareaFormControlComponent,\n  TextFormControlComponent\n} from '@helix/platform/shared/components';\nimport {\n  IServiceTaskDefinition,\n  RX_PROCESS_DEFINITION,\n  RxProcessDataDictionaryService\n} from '@helix/platform/process/api';\n\nimport { RxExpressionInputMapInspectorWidgetComponent } from '../shared/components/expression-input-map-inspector-widget/expression-input-map-inspector-widget.component';\nimport { IOutputDataDictionaryBranch, IProcessActionElementService } from './process-action.types';\nimport { RxProcessActionExpressionConfigurator } from './process-action-expression-configurator.class';\n\ndeclare var joint: any;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxProcessActionService extends RxServerActionService implements IProcessActionElementService {\n  private rxActionTypeUtilsService: RxActionTypeUtilsService;\n  private rxProcessDataDictionaryService: RxProcessDataDictionaryService;\n\n  private expressionConfigurator: IExpressionConfigurator;\n\n  constructor(protected injector: Injector) {\n    super(injector);\n\n    this.rxActionTypeUtilsService = injector.get(RxActionTypeUtilsService);\n    this.rxProcessDataDictionaryService = injector.get(RxProcessDataDictionaryService);\n  }\n\n  // PUBLIC\n  // TODO-VS: eliminate Partial (new IProcessDefinitionLight to eliminate overlayDescriptor form IDefinitionLight?)\n  getDefinitionFromModel(model: IProcessActionElementModel): Partial<IServiceTaskDefinition> {\n    return {\n      actionTypeName: model.actionTypeName,\n      description: model.description,\n      guid: model.guid,\n      inputMap: this.getInputMapFromModel(model),\n      multiInstanceLoopDefinition: model.multiInstanceLoopDefinition,\n      name: model.name,\n      outputMap: model.outputMap,\n      resourceType: model.resourceType,\n      runAsUser: RX_PROCESS_DEFINITION.runAsUser[model.runAsUser].definitionValue\n    };\n  }\n\n  getExpressionConfigurator(): IExpressionConfigurator {\n    return (this.expressionConfigurator ??= new (this.getExpressionConfiguratorClass())(this.injector));\n  }\n\n  getInspectorConfig(model: IProcessActionElementModel, options: IPlainObject): IFormBuilderConfig {\n    const generalConfigControls: IFormControlBuilderConfig[] = [\n      {\n        name: 'actionTypeName',\n        component: TextFormControlComponent,\n        isDisabled: true,\n        options: {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.client.designer.server-action-properties.action-type-name.label'\n          )\n        } as ITextFormControlOptions\n      },\n      {\n        name: 'label',\n        component: TextFormControlComponent,\n        options: {\n          label: this.translateService.instant('com.bmc.arsys.rx.client.common.label.label'),\n          required: true\n        } as ITextFormControlOptions\n      },\n      {\n        name: 'description',\n        component: TextareaFormControlComponent,\n        options: {\n          label: this.translateService.instant('com.bmc.arsys.rx.client.common.description.label'),\n          rows: 3\n        } as ITextareaFormControlOptions\n      },\n      {\n        name: 'guid',\n        component: TextFormControlComponent,\n        isDisabled: true,\n        options: {\n          label: this.translateService.instant('com.bmc.arsys.rx.client.common.id.label')\n        } as ITextareaFormControlOptions\n      },\n      {\n        name: 'runAsUser',\n        component: SelectFormControlComponent,\n        options: {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.client.process-designer.elements.process.run-as.label'\n          ),\n          tooltip: new Tooltip(\n            this.translateService.instant('com.bmc.arsys.rx.client.process-designer.elements.inspector.run-as.tooltip')\n          ),\n          options: [\n            {\n              name: this.translateService.instant('com.bmc.arsys.rx.client.common.administrator.label'),\n              id: RX_PROCESS_DEFINITION.runAsUser.administrator.modelValue\n            },\n            {\n              name: this.translateService.instant('com.bmc.arsys.rx.client.common.current-user.label'),\n              id: RX_PROCESS_DEFINITION.runAsUser.currentUser.modelValue\n            },\n            {\n              name: this.translateService.instant(\n                'com.bmc.arsys.rx.client.process-designer.process-action.inherit-from-process.label'\n              ),\n              id: RX_PROCESS_DEFINITION.runAsUser.inheritFromProcess.modelValue\n            }\n          ]\n        } as ISelectFormControlOptions\n      }\n    ];\n\n    if (model.isDeprecated) {\n      generalConfigControls.unshift({\n        name: 'isDeprecated',\n        component: LabelFormControlComponent,\n        options: {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.client.designer.server-action-properties.deprecated.label',\n            {\n              definitionType: this.translateService.instant('com.bmc.arsys.rx.client.definition-type.process.label')\n            }\n          )\n        } as ILabelFormControlOptions\n      });\n    }\n\n    return [\n      {\n        label: this.translateService.instant('com.bmc.arsys.rx.client.common.general-items.label'),\n        controls: generalConfigControls\n      },\n      {\n        label: this.translateService.instant('com.bmc.arsys.rx.client.designer.element-properties.input-map.label'),\n        controls: [this.getInputMapInspectorWidgetConfig(model)]\n      },\n      {\n        label: this.translateService.instant('com.bmc.arsys.rx.client.designer.element-properties.output-map.label'),\n        controls: [\n          {\n            name: 'outputMap',\n            component: AssignmentExpressionListFormControlComponent,\n            options: {\n              confirmationMessage:\n                'com.bmc.arsys.rx.client.designer.inspector.delete-output-map-item-confirmation.message',\n              sourceFieldOptions: {\n                expressionConfigurator: this.getExpressionConfigurator(),\n                options: {\n                  dataDictionary$: this.getExpressionConfigurator().getDataDictionary('outputMap'),\n                  operators: this.getExpressionConfigurator().getOperators('outputMap')\n                }\n              },\n              targetFieldOptions: {\n                type: AssignmentExpressionListTargetFieldType.Select,\n                options: {\n                  options: chain([\n                    ...options.processDefinitionModel.inputParams,\n                    ...options.processDefinitionModel.outputParams,\n                    ...options.processDefinitionModel.localVariables\n                  ])\n                    .map('name')\n                    .uniq()\n                    .map((name) => ({\n                      name,\n                      id: name\n                    }))\n                    .value()\n                }\n              }\n            } as IAssignmentExpressionListFormControlOptions\n          }\n        ]\n      }\n    ];\n  }\n\n  getModelFromDefinition(definition: IServiceTaskDefinition): IProcessActionElementModel {\n    const actionType = super.getActionTypeByName(definition.actionTypeName);\n\n    const name =\n      actionType.displayName || this.rxActionTypeUtilsService.prettifyActionTypeName(actionType.actionTypeName);\n\n    return definition.guid\n      ? {\n          actionTypeName: definition.actionTypeName,\n          deprecatedText: actionType.deprecatedText,\n          description: definition.description,\n          guid: definition.guid,\n          inputMap: this.getInputMapFromDefinition(definition),\n          isDeprecated: actionType.isDeprecated,\n          label: definition.name,\n          multiInstanceLoopDefinition: definition.multiInstanceLoopDefinition,\n          name: definition.name,\n          outputMap: definition.outputMap,\n          resourceType: definition.resourceType,\n          runAsUser: this.getRunAsUserFromDefinition(definition),\n          type: this.getElementType(actionType.actionTypeName)\n        }\n      : {\n          actionTypeName: actionType.actionTypeName,\n          deprecatedText: actionType.deprecatedText,\n          description: '',\n          guid: '',\n          inputMap: {},\n          isDeprecated: actionType.isDeprecated,\n          label: name,\n          multiInstanceLoopDefinition: null,\n          name,\n          outputMap: [],\n          resourceType: RX_PROCESS_DEFINITION.processElementResourceTypes.processAction,\n          runAsUser: RX_PROCESS_DEFINITION.runAsUser.inheritFromProcess.modelValue,\n          type: this.getElementType(actionType.actionTypeName)\n        };\n  }\n\n  // TODO-VS: update types\n  getShape(options: IPlainObject): any {\n    const ProcessActionClass = this.getClass();\n    const classConfig = super.getClassConfig(options);\n\n    return new ProcessActionClass(classConfig);\n  }\n\n  setCommonDataDictionaryBranch(guid: string, dataDictionaryBranch: Observable<IDataDictionaryBranch>): void {\n    this.rxProcessDataDictionaryService.setCommonActivitiesDataDictionaryBranch(guid, dataDictionaryBranch);\n  }\n\n  // TODO-VS: update types\n  validate(model: IProcessActionElementModel, availableCells: any): Observable<IValidationIssue[]> {\n    return super.validateServerAction(model, availableCells).pipe(\n      map((serverActionValidationIssues) => {\n        const validationIssues = [...serverActionValidationIssues];\n\n        const inboundLinks = availableCells.filter((cell) => cell.prop('targetNode') === model.guid);\n        const outboundLinks = availableCells.filter((cell) => cell.prop('sourceNode') === model.guid);\n\n        if (isEmpty(inboundLinks)) {\n          validationIssues.push({\n            type: ValidationIssueType.Warning,\n            description: this.translateService.instant(\n              'com.bmc.arsys.rx.client.designer.validation.is-required.message',\n              {\n                propertyName: this.translateService.instant(\n                  'com.bmc.arsys.rx.client.process-designer.inbound-sequence-flow.label'\n                )\n              }\n            ),\n            data: {\n              guid: model.guid,\n              inspectorTabIndex: 1\n            }\n          });\n        }\n\n        if (outboundLinks.length !== 1) {\n          validationIssues.push({\n            type: ValidationIssueType.Warning,\n            description: this.translateService.instant(\n              'com.bmc.arsys.rx.client.designer.validation.is-required.message',\n              {\n                propertyName: this.translateService.instant(\n                  'com.bmc.arsys.rx.client.process-designer.outbound-sequence-flow.label'\n                )\n              }\n            ),\n            data: {\n              guid: model.guid,\n              inspectorTabIndex: 1\n            }\n          });\n        }\n\n        return validationIssues;\n      })\n    );\n  }\n\n  // OVERRIDES\n  buildDataDictionaryBranch(model: IProcessActionElementModel): Observable<IDataDictionaryBranch> {\n    const outputParams = super.getActionTypeByName(model.actionTypeName).outputParams;\n\n    return isEmpty(outputParams)\n      ? of(null)\n      : this.buildOutputDataDictionaryBranch(model, outputParams).pipe(\n          map((outputDataDictionaryBranch) => {\n            const isArrayOrListDataType = this.rxActionTypeUtilsService.isActionParameterArrayOrList(outputParams[0]);\n\n            if (isArray(outputDataDictionaryBranch)) {\n              let children = outputDataDictionaryBranch;\n\n              if (isEmpty(outputDataDictionaryBranch)) {\n                children = this.buildDefaultOutputDataDictionaryBranch(outputParams[0].dataTypeDetail);\n              }\n\n              return {\n                label: model.label,\n                icon: 'd-icon-arrow_chart',\n                children: [\n                  {\n                    label: this.translateService.instant('com.bmc.arsys.rx.client.designer.keywords.output.label'),\n                    icon: 'd-icon-arrow_chart',\n                    expression: '${activityResults.' + model.guid + '.output' + (isArrayOrListDataType ? '[0]}' : '}'),\n                    children: this.updateOutputDataDictionaryBranch(children, model.guid, isArrayOrListDataType)\n                  }\n                ]\n              };\n            } else {\n              return null;\n            }\n          })\n        );\n  }\n\n  buildOutputDataDictionaryBranch(\n    model: IProcessActionElementModel,\n    outputParams?: IServiceParameter[]\n  ): Observable<IOutputDataDictionaryBranch[]> {\n    return of([]);\n  }\n\n  getClass(): any {\n    return joint.shapes.rx.ProcessAction;\n  }\n\n  getDefinitionInputMapParam(inputParamName: string, inputParamValue: string): IAssignmentExpression {\n    return {\n      assignTarget: inputParamName,\n      expression: inputParamValue\n    };\n  }\n\n  getElementType(actionTypeName: string): string {\n    return RX_PROCESS_DEFINITION.processElementTypes.processAction;\n  }\n\n  getExpressionConfiguratorClass(): any {\n    return RxProcessActionExpressionConfigurator;\n  }\n\n  getInputMapInspectorWidgetConfig(model: IProcessActionElementModel): IFormWidgetBuilderConfig {\n    const actionType = this.getActionTypeByName(model.actionTypeName);\n\n    return {\n      component: RxExpressionInputMapInspectorWidgetComponent,\n      options: {\n        expressionConfigurator: this.getExpressionConfigurator(),\n        expressionInputMapInspectorOptions: actionType.inputParams.map((inputParam) => ({\n          name: inputParam.name,\n          label: inputParam.displayName || this.rxStringService.prettify(inputParam.name)\n        }))\n      }\n    };\n  }\n\n  getInputMapFromDefinition(definition: IServiceTaskDefinition): IPlainObject {\n    const actionType = super.getActionTypeByName(definition.actionTypeName);\n\n    const initialInputMap = actionType\n      ? transform(actionType.inputParams, (inputMap, inputParam) => (inputMap[inputParam.name] = ''), {})\n      : {};\n\n    return transform(\n      definition?.inputMap || [],\n      (inputMap, inputMapField) => (inputMap[inputMapField.assignTarget] = inputMapField.expression),\n      initialInputMap\n    );\n  }\n\n  // HELPERS\n  private buildDefaultOutputDataDictionaryBranch(\n    outputParams: IServiceParameter[],\n    outputPropertyPathOpener?: string\n  ): IOutputDataDictionaryBranch[] {\n    return isEmpty(outputParams)\n      ? null\n      : outputParams.map((outputParam) => {\n          const isArrayOrListDataType = this.rxActionTypeUtilsService.isActionParameterArrayOrList(outputParam);\n\n          const outputPropertyPath =\n            (outputPropertyPathOpener ? outputPropertyPathOpener + '.' + outputParam.name : outputParam.name) +\n            (isArrayOrListDataType ? '[0]' : '');\n\n          return {\n            label: this.rxStringService.prettify(outputParam.name),\n            outputPropertyPath: outputPropertyPath,\n            children: this.buildDefaultOutputDataDictionaryBranch(outputParam.dataTypeDetail, outputPropertyPath)\n          };\n        });\n  }\n\n  private getInputMapFromModel(model: IProcessActionElementModel): IAssignmentExpression[] {\n    return reduce(\n      model.inputMap,\n      (inputMap, propertyValue, propertyName) => {\n        let inputMapParam;\n\n        if (!isEmpty(propertyValue)) {\n          inputMapParam = this.getDefinitionInputMapParam(propertyName, propertyValue);\n\n          if (inputMapParam) {\n            inputMap.push(inputMapParam);\n          }\n        }\n\n        return inputMap;\n      },\n      []\n    );\n  }\n\n  private getOutputDataDictionaryExpression(\n    flowElementGuid: string,\n    isArrayOrListDataType: boolean,\n    outputPropertyPath: string | number\n  ): string {\n    return (\n      '${activityResults.' +\n      flowElementGuid +\n      '.output' +\n      (isArrayOrListDataType ? '[0].' : '.') +\n      outputPropertyPath +\n      '}'\n    );\n  }\n\n  private getRunAsUserFromDefinition(definition: IServiceTaskDefinition): string {\n    let runAsUser: string;\n\n    switch (definition.runAsUser) {\n      case true: {\n        runAsUser = RX_PROCESS_DEFINITION.runAsUser.currentUser.modelValue;\n\n        break;\n      }\n\n      case false: {\n        runAsUser = RX_PROCESS_DEFINITION.runAsUser.administrator.modelValue;\n\n        break;\n      }\n\n      default: {\n        runAsUser = RX_PROCESS_DEFINITION.runAsUser.inheritFromProcess.modelValue;\n\n        break;\n      }\n    }\n\n    return runAsUser;\n  }\n\n  private updateOutputDataDictionaryBranch(\n    children: IOutputDataDictionaryBranch[],\n    flowElementGuid: string,\n    isArrayOrListDataType: boolean\n  ): IDataDictionary {\n    return isEmpty(children)\n      ? null\n      : children.map((child) => {\n          let expression = child.expression;\n\n          if (child.outputPropertyPath) {\n            if (isArray(child.outputPropertyPath)) {\n              expression = child.outputPropertyPath.map((outputPropertyPath) =>\n                this.getOutputDataDictionaryExpression(flowElementGuid, isArrayOrListDataType, outputPropertyPath)\n              );\n            } else {\n              expression = this.getOutputDataDictionaryExpression(\n                flowElementGuid,\n                isArrayOrListDataType,\n                child.outputPropertyPath\n              );\n            }\n          }\n\n          return {\n            label: child.label,\n            icon: expression ? 'd-icon-arrow_chart' : null,\n            expression,\n            children: this.updateOutputDataDictionaryBranch(child.children, flowElementGuid, isArrayOrListDataType)\n          };\n        });\n  }\n}\n","import { NgModule } from '@angular/core';\n\nimport { RX_DESIGNER, RX_DESIGNER_ELEMENT_SHAPE } from '@helix/platform/shared/api';\nimport { RX_PROCESS_DEFINITION, RxProcessElementRegistryService } from '@helix/platform/process/api';\n\nimport { RxProcessActionService } from './process-action.service';\nimport { RxProcessAction } from './process-action.class';\nimport { RxProcessActionView } from './process-action-view.class';\n\n@NgModule()\nexport class RxProcessActionRegistrationModule {\n  constructor(\n    rxProcessElementRegistryService: RxProcessElementRegistryService,\n    rxProcessActionService: RxProcessActionService\n  ) {\n    rxProcessElementRegistryService.register({\n      elementService: rxProcessActionService,\n      group: RX_PROCESS_DEFINITION.standardProcessElementGroups.platformActions.name,\n      paletteItem: {\n        border: RX_DESIGNER.paletteItemBorder.bold,\n        icon: {\n          path: RX_DESIGNER_ELEMENT_SHAPE.bpmnIcons.gear,\n          position: RX_DESIGNER.paletteIconPosition.top\n        },\n        label: RX_DESIGNER.paletteItemLabel.outer,\n        shape: RX_DESIGNER.paletteItemShape.rectangle\n      },\n      resourceType: RX_PROCESS_DEFINITION.processElementResourceTypes.processAction,\n      shapeClass: RxProcessAction,\n      shapeType: 'ProcessAction',\n      type: RX_PROCESS_DEFINITION.processElementTypes.processAction,\n      viewShapeClass: RxProcessActionView,\n      viewShapeType: 'ProcessActionView'\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { ExpressionFormControlModule, RxFormBuilderModule, RxInspectorModule } from '@helix/platform/shared/components';\n\nimport { RxExpressionInputMapInspectorWidgetComponent } from './expression-input-map-inspector-widget.component';\n\n// TODO-VS: move to \"@helix/platform/process/components\"\n@NgModule({\n  declarations: [RxExpressionInputMapInspectorWidgetComponent],\n  imports: [CommonModule, ExpressionFormControlModule, FormsModule, RxFormBuilderModule, RxInspectorModule],\n  exports: [RxExpressionInputMapInspectorWidgetComponent]\n})\nexport class RxExpressionInputMapInspectorWidgetModule {}\n","import { RX_PROCESS_DEFINITION } from '@helix/platform/process/api';\n\nimport { RxProcessShapeMixin } from '../shared/process-shape/process-shape.mixin';\n\ndeclare var joint: any;\n\nexport class RxStartEvent extends RxProcessShapeMixin(joint.shapes.bpmn.Event) {\n  defaults(): any {\n    return joint.util.deepSupplement(\n      {\n        attrs: {\n          '.label': {\n            fill: 'gray'\n          }\n        },\n\n        defaultName: RX_PROCESS_DEFINITION.processElementDisplayNames.startEvent,\n        eventType: 'start',\n        icon: 'transparent',\n        labelPath: 'attrs/.label/text',\n\n        size: {\n          width: 30,\n          height: 30\n        },\n\n        type: RX_PROCESS_DEFINITION.processElementTypes.startEvent\n      },\n      // @ts-ignore\n      super.defaults\n    );\n  }\n\n  initialize(config: any): any {\n    // @ts-ignore\n    super.initialize(config);\n  }\n}\n","import { RxProcessShapeViewMixin } from '../shared/process-shape/process-shape-view.mixin';\n\ndeclare var joint: any;\n\nexport class RxStartEventView extends RxProcessShapeViewMixin(joint.dia.ElementView) {\n  initialize(config: any): any {\n    // @ts-ignore\n    super.initialize(config);\n  }\n\n  // TODO-VS: remove\n  sgResize(opt): any {\n    // @ts-ignore\n    const scalable = this.scalableNode;\n\n    scalable.attr('transform', `scale(${0.5},${0.5})`);\n\n    // @ts-ignore\n    super.update();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable, of } from 'rxjs';\nimport { isEmpty, some } from 'lodash';\n\nimport { IValidationIssue, ValidationIssueType } from '@helix/platform/ui-kit';\nimport { RxStringService } from '@helix/platform/utils';\nimport {\n  IDataDictionaryBranch,\n  IDesignerElementService,\n  IFormBuilderConfig,\n  IPlainObject\n} from '@helix/platform/shared/api';\nimport {\n  ITextareaFormControlOptions,\n  ITextFormControlOptions,\n  TextareaFormControlComponent,\n  TextFormControlComponent\n} from '@helix/platform/shared/components';\nimport { IProcessFlowElementDefinition, RX_PROCESS_DEFINITION } from '@helix/platform/process/api';\n\nimport { IStartEventModel } from './start-event.interfaces';\n\ndeclare var joint: any;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxStartEventService implements IDesignerElementService<IProcessFlowElementDefinition, IStartEventModel> {\n  constructor(private rxStringService: RxStringService, private translateService: TranslateService) {}\n\n  getDefinitionFromModel(model: IStartEventModel): Partial<IProcessFlowElementDefinition> {\n    return {\n      description: model.description,\n      guid: model.guid,\n      name: model.name,\n      resourceType: model.resourceType\n    };\n  }\n\n  // TODO-VS: add position and size inspector groups\n  getInspectorConfig(): IFormBuilderConfig {\n    return [\n      {\n        label: this.translateService.instant('com.bmc.arsys.rx.client.common.general-items.label'),\n        controls: [\n          {\n            name: 'label',\n            component: TextFormControlComponent,\n            options: {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.common.label.label')\n            } as ITextFormControlOptions\n          },\n          {\n            name: 'description',\n            component: TextareaFormControlComponent,\n            options: {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.common.description.label'),\n              rows: 3\n            } as ITextareaFormControlOptions\n          },\n          {\n            name: 'guid',\n            component: TextFormControlComponent,\n            isDisabled: true,\n            options: {\n              label: this.translateService.instant('com.bmc.arsys.rx.client.common.id.label')\n            } as ITextareaFormControlOptions\n          }\n        ]\n      }\n    ];\n  }\n\n  getModelFromDefinition(definition?: IProcessFlowElementDefinition): IStartEventModel {\n    let elementModel = {\n      description: '',\n      guid: null,\n      label: '',\n      name: RX_PROCESS_DEFINITION.processElementDisplayNames.startEvent,\n      resourceType: RX_PROCESS_DEFINITION.processElementResourceTypes.startEvent,\n      type: RX_PROCESS_DEFINITION.processElementTypes.startEvent\n    };\n\n    if (definition) {\n      elementModel = {\n        ...elementModel,\n        description: definition.description,\n        guid: definition.guid,\n        label: definition.name,\n        name: definition.name,\n        resourceType: definition.resourceType\n      };\n    }\n\n    return elementModel;\n  }\n\n  getShape(options: IPlainObject): any {\n    return new joint.shapes.rx.StartEvent({\n      elementModel: this.getModelFromDefinition(),\n      position: options.position\n    });\n  }\n\n  setCommonDataDictionaryBranch(guid: string, dataDictionaryBranch: Observable<IDataDictionaryBranch>): void {}\n\n  validate(model: IStartEventModel, availableCells: any): Observable<IValidationIssue[]> {\n    const validationIssues: IValidationIssue[] = [];\n\n    const inboundLinks = availableCells.filter((cell) => cell.prop('targetNode') === model.guid);\n\n    if (!isEmpty(inboundLinks)) {\n      validationIssues.push({\n        type: ValidationIssueType.Error,\n        description: this.translateService.instant(\n          'com.bmc.arsys.rx.client.process-designer.elements.start-event.validation.inbound-sequence-flow.message'\n        ),\n        data: {\n          guid: model.guid,\n          inspectorTabIndex: 1\n        }\n      });\n    }\n\n    const outboundLinks = availableCells.filter((cell) => cell.prop('sourceNode') === model.guid);\n\n    if (outboundLinks.length != 1) {\n      validationIssues.push({\n        type: ValidationIssueType.Warning,\n        description: this.translateService.instant(\n          'com.bmc.arsys.rx.client.process-designer.elements.start-event.validation.single-outbound-sequence-flow.message'\n        ),\n        data: {\n          guid: model.guid,\n          inspectorTabIndex: 1\n        }\n      });\n    }\n\n    if (this.rxStringService.isEmptySafe(model.label)) {\n      if (some(availableCells, (cell) => cell.prop('label') === model.label)) {\n        validationIssues.push({\n          type: ValidationIssueType.Error,\n          description: this.translateService.instant(\n            'com.bmc.arsys.rx.client.designer.validation.must-be-unique.message',\n            {\n              propertyName: this.translateService.instant('com.bmc.arsys.rx.client.common.label.label')\n            }\n          ),\n          data: {\n            guid: model.guid,\n            inspectorTabIndex: 1,\n            propertyName: 'label'\n          }\n        });\n      }\n    }\n\n    return of(validationIssues);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { RX_DESIGNER } from '@helix/platform/shared/api';\nimport { RX_PROCESS_DEFINITION, RxProcessElementRegistryService } from '@helix/platform/process/api';\n\nimport { RxStartEventService } from './start-event.service';\nimport { RxStartEvent } from './start-event.class';\nimport { RxStartEventView } from './start-event-view.class';\n\n@NgModule()\nexport class RxStartEventRegistrationModule {\n  constructor(\n    rxProcessElementRegistryService: RxProcessElementRegistryService,\n    rxStartEventService: RxStartEventService,\n    translateService: TranslateService\n  ) {\n    rxProcessElementRegistryService.register({\n      displayName: translateService.instant(\n        'com.bmc.arsys.rx.client.process-designer.elements.start-event.display-name.label'\n      ),\n      elementService: rxStartEventService,\n      group: RX_PROCESS_DEFINITION.standardProcessElementGroups.events.name,\n      paletteItem: {\n        border: RX_DESIGNER.paletteItemBorder.solid,\n        label: RX_DESIGNER.paletteItemLabel.outer,\n        shape: RX_DESIGNER.paletteItemShape.circle\n      },\n      resourceType: RX_PROCESS_DEFINITION.processElementResourceTypes.startEvent,\n      shapeClass: RxStartEvent,\n      shapeType: 'StartEvent',\n      type: RX_PROCESS_DEFINITION.processElementTypes.startEvent,\n      viewShapeClass: RxStartEventView,\n      viewShapeType: 'StartEventView'\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { filter, map, startsWith } from 'lodash';\n\nimport { RxIdService, RxJsonParserService } from '@helix/platform/utils';\nimport { IProcessDefinition, RxProcessElementSearchService } from '@helix/platform/process/api';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxProcessElementService {\n  constructor(\n    private rxIdService: RxIdService,\n    private rxJsonParserService: RxJsonParserService,\n    private rxProcessElementSearchService: RxProcessElementSearchService\n  ) {}\n\n  // TODO-VS: remove in favour of getJsonObject\n  getGraph(definition: IProcessDefinition) {\n    const graph = this.rxJsonParserService.tryParseJson(definition.layout, { cells: [] });\n\n    graph.cells.forEach((cell) => {\n      const embeddedElementIds = map(filter(graph.cells, { parent: cell.id }), 'id');\n\n      if (startsWith(cell.type, 'rx.CallActivity')) {\n        cell.type = 'rx.CallActivity';\n      }\n\n      if (startsWith(cell.type, 'rx.ProcessActions')) {\n        cell.type = 'rx.ProcessAction';\n      }\n\n      if (embeddedElementIds.length) {\n        cell.embeds = embeddedElementIds;\n      }\n\n      cell.processDefinitionName = definition.name;\n\n      const flowElement = this.rxProcessElementSearchService.find(definition, {\n        guid: this.rxIdService.get(cell.id)\n      });\n\n      if (flowElement?.multiInstanceLoopDefinition) {\n        cell.multiInstanceLoopDefinition = flowElement.multiInstanceLoopDefinition;\n      }\n    });\n\n    return graph;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { RxOverlayModule } from '@helix/platform/shared/api';\n\nimport { RxExpressionInputMapInspectorWidgetModule } from './shared/components/expression-input-map-inspector-widget/expression-input-map-inspector-widget.module';\nimport { RxProcessActionRegistrationModule } from './process-action/process-action-registration.module';\nimport { RxEndEventRegistrationModule } from './end-event/end-event-registration.module';\nimport { RxStartEventRegistrationModule } from './start-event/start-event-registration.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RxEndEventRegistrationModule,\n    RxExpressionInputMapInspectorWidgetModule,\n    RxOverlayModule,\n    RxProcessActionRegistrationModule,\n    RxStartEventRegistrationModule\n  ]\n})\nexport class RxProcessElementsModule {}\n","import { cloneDeep, defaults, forEach, isUndefined, reject, size, sortBy } from 'lodash';\nimport {\n  IProcessDefinition,\n  RxProcessDefinitionCacheService,\n  RxProcessElementSearchService\n} from '@helix/platform/process/api';\nimport { RX_DESIGNER_ELEMENT_SHAPE, RxRootInjector } from '@helix/platform/shared/api';\nimport { RxProcessElementService } from './process-element.service';\n\ndeclare var joint: any;\n\n// https://github.com/clientIO/joint/issues/817\n// When the size of shape is changed, JointJS resizes shape`s body via scaling.\n// IE11 & MS-Edge do not support `vector-effect`, which results in changing stroke-width.\n// `refHeight` & `refWidth` attributes allow resizing rectangular sub-elements relative to the referenced element without scaling.\njoint.util.deepSupplement(joint.shapes.bpmn.Activity.prototype.defaults, {\n  attrs: {\n    '.body': {\n      refWidth: 1,\n      refHeight: 1\n    }\n  },\n\n  // 1. Removed scalable group (<g class=\"scalable\">) from the original template of Activity element\n  // to resolve the issue of restoring the element size after undo/redo operations.\n  // http://clientio.freshdesk.com/support/tickets/560\n  // https://jira.bmc.com/browse/DRIST-8990\n  // 2. Added multi instance icons\n  markup: [\n    '<g class=\"rotatable\">',\n    '<rect class=\"body outer\"/>',\n    '<rect class=\"body inner\"/>',\n    joint.env.test('svgforeignobject')\n      ? '<foreignObject class=\"fobj\"><body xmlns=\"http://www.w3.org/1999/xhtml\"><div class=\"content\"/></body></foreignObject>'\n      : '<text class=\"content\"/>',\n    '<g class=\"rx-icon-container\">',\n    '<image class=\"icon-multi-instance-sequential\"/>',\n    '<image class=\"icon-multi-instance-parallel\"/>',\n    '<path class=\"sub-process\"/>',\n    '</g>',\n    '<image class=\"icon\"/>',\n    '</g>'\n  ].join('')\n});\n\nexport namespace rx {\n  export class BaseExpandableProcessShape extends joint.shapes.bpmn.Activity {\n    initialize(options) {\n      super.initialize(options);\n\n      const embeddedCells = this.getEmbeddedCells();\n      const embedsWithoutBoundaryEventLength = size(reject(embeddedCells, 'isBoundaryEvent'));\n\n      let modelEmbeds;\n\n      if (embedsWithoutBoundaryEventLength === embeddedCells.length) {\n        modelEmbeds = this.get('embeds');\n      }\n\n      if (this.collection && this.get('expanded') && !embedsWithoutBoundaryEventLength && isUndefined(modelEmbeds)) {\n        RxRootInjector.injector\n          .get(RxProcessDefinitionCacheService)\n          .getProcessDefinition(this.get('processDefinitionName'))\n          .subscribe((processDefinition: IProcessDefinition) => {\n            const flowElement =\n              RxRootInjector.injector\n                .get(RxProcessElementSearchService)\n                .findByGuid(processDefinition, `rx-${this.get('id')}`) || {};\n\n            this.expand(processDefinition, RxRootInjector.injector.get(RxProcessElementService).getGraph(flowElement));\n          });\n      }\n    }\n\n    private expand(definition, graph): void {\n      graph.cells = sortBy(\n        graph.cells,\n        (cell) => cell.type === 'rx.SequenceFlow' || cell.type === 'rx.TextAnnotationAssociation'\n      );\n\n      const cellModels = [];\n\n      forEach(graph.cells, (cell) => {\n        const CellModel = joint.util.getByPath(this.collection.cellNamespace, cell.type, '.');\n        const cellModel = new CellModel(cell);\n\n        if (cellModel.get('expanded')) {\n          const flowElement =\n            RxRootInjector.injector\n              .get(RxProcessElementSearchService)\n              .findByGuid(definition, `rx-${cellModel.get('id')}`) || {};\n\n          cellModel.expand.call(\n            this,\n            definition,\n            RxRootInjector.injector.get(RxProcessElementService).getGraph(flowElement)\n          );\n        }\n\n        cellModels.push(cellModel);\n      });\n\n      this.collection.add(cellModels);\n\n      this.attr({\n        '.sub-process': {\n          display: 'none',\n          visibility: 'hidden'\n        }\n      });\n    }\n  }\n\n  export class BaseCallActivity extends BaseExpandableProcessShape {\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          activityType: 'call-activity',\n          expanded: false,\n          subProcess: true,\n\n          attrs: {\n            path: {\n              transform: 'scale(0.3, 0.3)',\n              'ref-dy': -15\n            },\n            rect: {\n              rx: 2,\n              ry: 2\n            }\n          }\n        },\n        joint.shapes.bpmn.Activity.prototype.defaults\n      );\n    }\n  }\n\n  export class BaseStaticMultiInstance extends joint.shapes.bpmn.Activity {\n    static initMultiInstanceIcons(model): void {\n      const attrs = cloneDeep(model.get('attrs'));\n\n      const iconAttr = {\n        width: 10,\n        height: 10,\n        y: 1\n      };\n\n      attrs['.sub-process'] = {\n        d: 'M 0 0 L 30 0 30 30 0 30 z M 15 4 L 15 26 M 4 15 L 26 15',\n        stroke: '#000000',\n        fill: 'transparent',\n        transform: 'scale(0.3, 0.3) translate(0, 6)'\n      };\n\n      attrs['.sub-process'].display = model.prop('subProcess') ? '' : 'none';\n\n      attrs['.icon-multi-instance-sequential'] = cloneDeep(iconAttr);\n      attrs['.icon-multi-instance-parallel'] = cloneDeep(iconAttr);\n\n      attrs['.icon-multi-instance-sequential']['xlink:href'] =\n        RX_DESIGNER_ELEMENT_SHAPE.bpmnIcons.multiInstanceSequential;\n\n      attrs['.icon-multi-instance-parallel']['xlink:href'] = RX_DESIGNER_ELEMENT_SHAPE.bpmnIcons.multiInstanceParallel;\n\n      attrs['.rx-icon-container'] = {\n        ref: '.body',\n        'x-alignment': 'middle',\n        'ref-x': 0.5,\n        'ref-dy': -15\n      };\n\n      defaults(attrs['.icon'], attrs.image);\n\n      delete attrs.image;\n      delete attrs.path;\n\n      model.unset('attrs', { silent: true });\n      model.set('attrs', attrs);\n    }\n\n    public static updateMultiInstanceIcons(model): void {\n      const loopType = model.prop('loopType');\n      const attrs = cloneDeep(model.get('attrs'));\n\n      attrs['.icon-multi-instance-sequential'].display = loopType === 'true' ? '' : 'none';\n      attrs['.icon-multi-instance-parallel'].display = loopType === 'false' ? '' : 'none';\n\n      if (model.prop('subProcess')) {\n        attrs['.sub-process'].transform = loopType\n          ? 'scale(0.3, 0.3) translate(50, 6)'\n          : 'scale(0.3, 0.3) translate(0, 6)';\n      }\n\n      model.unset('attrs', { silent: true });\n      model.set('attrs', attrs, { rxSilent: true });\n    }\n  }\n\n  export class BaseMultiInstance extends joint.shapes.bpmn.Activity {\n    public initialize(options): void {\n      super.initialize(options);\n\n      if (options.multiInstanceLoopDefinition) {\n        this.prop('loopType', String(options.multiInstanceLoopDefinition.isSequential), { silent: true });\n      }\n\n      BaseStaticMultiInstance.initMultiInstanceIcons(this);\n      BaseStaticMultiInstance.updateMultiInstanceIcons(this);\n    }\n  }\n\n  export class CallActivity extends BaseCallActivity {\n    initialize(options): void {\n      super.initialize(options);\n\n      if (options.multiInstanceLoopDefinition) {\n        this.prop('loopType', String(options.multiInstanceLoopDefinition.isSequential), { silent: true });\n      }\n\n      BaseStaticMultiInstance.initMultiInstanceIcons(this);\n      BaseStaticMultiInstance.updateMultiInstanceIcons(this);\n    }\n\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          type: 'rx.CallActivity'\n        },\n        BaseCallActivity.prototype.defaults()\n      );\n    }\n  }\n\n  export class Connector extends BaseMultiInstance {\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          type: 'rx.Connector',\n          icon: 'connector',\n\n          attrs: {\n            '.icon': {\n              width: 12,\n              height: 12,\n              'ref-x': 3,\n              'ref-y': 3\n            },\n            rect: {\n              rx: 4,\n              ry: 4\n            }\n          }\n        },\n        joint.shapes.bpmn.Activity.prototype.defaults\n      );\n    }\n  }\n\n  export class EndEvent extends joint.shapes.bpmn.Event {\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          type: 'rx.EndEvent',\n          eventType: 'end',\n\n          attrs: {\n            '.label': {\n              fill: 'gray'\n            }\n          }\n        },\n        joint.shapes.bpmn.Event.prototype.defaults\n      );\n    }\n  }\n\n  export class ErrorBoundaryEvent extends joint.shapes.bpmn.Event {\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          type: 'rx.ErrorBoundaryEvent',\n          eventType: 'intermediate',\n          icon: 'errorBoundary',\n\n          attrs: {\n            '.label': {\n              fill: 'gray'\n            }\n          }\n        },\n        joint.shapes.bpmn.Event.prototype.defaults\n      );\n    }\n  }\n\n  export class ErrorEndEvent extends joint.shapes.bpmn.Event {\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          type: 'rx.ErrorEndEvent',\n          eventType: 'end',\n          icon: 'errorEnd',\n\n          attrs: {\n            '.label': {\n              fill: 'gray'\n            }\n          }\n        },\n        joint.shapes.bpmn.Event.prototype.defaults\n      );\n    }\n  }\n\n  export class ExclusiveGateway extends joint.shapes.bpmn.Gateway {\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          type: 'rx.ExclusiveGateway',\n          icon: 'cross',\n\n          attrs: {\n            '.label': {\n              fill: 'gray'\n            }\n          }\n        },\n        joint.shapes.bpmn.Gateway.prototype.defaults\n      );\n    }\n  }\n\n  export class ParallelGateway extends joint.shapes.bpmn.Gateway {\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          type: 'rx.ParallelGateway',\n          icon: 'plus',\n\n          attrs: {\n            '.label': {\n              fill: 'gray'\n            }\n          }\n        },\n        joint.shapes.bpmn.Gateway.prototype.defaults\n      );\n    }\n  }\n\n  export class ProcessAction extends joint.shapes.bpmn.Activity {\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          type: 'rx.ProcessAction',\n          icon: 'gear',\n\n          attrs: {\n            '.icon': {\n              width: 12,\n              height: 12,\n              'ref-x': 3,\n              'ref-y': 3\n            },\n            rect: {\n              rx: 4,\n              ry: 4\n            }\n          },\n\n          size: {\n            width: 70,\n            height: 60\n          }\n        },\n        joint.shapes.bpmn.Activity.prototype.defaults\n      );\n    }\n  }\n\n  export class ReceiveTask extends BaseMultiInstance {\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          type: 'rx.ReceiveTask',\n          icon: 'message',\n\n          attrs: {\n            '.icon': {\n              width: 12,\n              height: 12,\n              'ref-x': 3,\n              'ref-y': 3\n            },\n            rect: {\n              rx: 4,\n              ry: 4\n            }\n          }\n        },\n        joint.shapes.bpmn.Activity.prototype.defaults\n      );\n    }\n  }\n\n  export class SequenceFlow extends joint.shapes.bpmn.Flow {\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          type: 'rx.SequenceFlow',\n\n          router: {\n            name: 'manhattan',\n\n            args: {\n              step: 5\n            }\n          }\n        },\n        joint.shapes.bpmn.Flow.prototype.defaults\n      );\n    }\n  }\n\n  export class StartEvent extends joint.shapes.bpmn.Event {\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          type: 'rx.StartEvent',\n          eventType: 'start',\n\n          attrs: {\n            '.label': {\n              fill: 'gray'\n            }\n          }\n        },\n        joint.shapes.bpmn.Event.prototype.defaults\n      );\n    }\n  }\n\n  export class SubProcess extends BaseExpandableProcessShape {\n    initialize(options): void {\n      super.initialize(options);\n\n      if (options.multiInstanceLoopDefinition) {\n        this.prop('loopType', String(options.multiInstanceLoopDefinition.isSequential), { silent: true });\n      }\n\n      BaseStaticMultiInstance.initMultiInstanceIcons(this);\n      BaseStaticMultiInstance.updateMultiInstanceIcons(this);\n    }\n\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          type: 'rx.SubProcess',\n          activityType: 'event-sub-process',\n          expanded: false,\n          subProcess: true,\n\n          attrs: {\n            rect: {\n              rx: 4,\n              ry: 4\n            }\n          }\n        },\n        joint.shapes.bpmn.Activity.prototype.defaults\n      );\n    }\n  }\n\n  export class TextAnnotation extends joint.shapes.bpmn.Annotation {\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          type: 'rx.TextAnnotation',\n\n          attrs: {\n            rect: {\n              rx: 2,\n              ry: 2\n            }\n          }\n        },\n        joint.shapes.bpmn.Annotation.prototype.defaults\n      );\n    }\n  }\n\n  export class TextAnnotationAssociation extends joint.shapes.bpmn.Flow {\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          type: 'rx.TextAnnotationAssociation',\n          flowType: 'association'\n        },\n        joint.shapes.bpmn.Flow.prototype.defaults\n      );\n    }\n  }\n\n  export class TimerEvent extends joint.shapes.bpmn.Event {\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          type: 'rx.TimerEvent',\n          eventType: 'intermediate',\n          icon: 'clock',\n\n          attrs: {\n            '.label': {\n              fill: 'gray'\n            }\n          }\n        },\n        joint.shapes.bpmn.Event.prototype.defaults\n      );\n    }\n  }\n\n  export class UserTask extends BaseMultiInstance {\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          type: 'rx.UserTask',\n          icon: 'user',\n\n          attrs: {\n            '.icon': {\n              width: 12,\n              height: 12,\n              'ref-x': 3,\n              'ref-y': 3\n            },\n            rect: {\n              rx: 4,\n              ry: 4\n            }\n          }\n        },\n        joint.shapes.bpmn.Activity.prototype.defaults\n      );\n    }\n  }\n\n  export class WebRequest extends joint.shapes.bpmn.Activity {\n    defaults() {\n      return joint.util.deepSupplement(\n        {\n          type: 'rx.WebRequest',\n          icon: 'webRequest',\n\n          attrs: {\n            '.icon': {\n              width: 12,\n              height: 12,\n              'ref-x': 3,\n              'ref-y': 3\n            },\n            rect: {\n              rx: 4,\n              ry: 4\n            }\n          }\n        },\n        joint.shapes.bpmn.Activity.prototype.defaults\n      );\n    }\n  }\n}\n","import { extend, result } from 'lodash';\nimport * as Backbone from 'backbone';\nimport * as processShapes from './process-shapes';\n\ndeclare var V: any;\n\nexport class RxDesignerCellHighlighter extends Backbone.View {\n  selectors = {\n    bpmn: {\n      'bpmn.Event': '.scalable circle.outer',\n      'bpmn.Annotation': '.rotatable path.stroke',\n      link: 'path.connection',\n      'bpmn.Flow': 'path.connection',\n      'bpmn.Gateway': '.scalable polygon.body',\n      'bpmn.Activity': '.scalable rect.outer',\n      'basic.Rect': '.scalable rect'\n    },\n    rx: {\n      'rx.TextAnnotation': '.rotatable path.stroke',\n      'rx.TextAnnotationAssociation': 'path.connection',\n      'rx.SequenceFlow': 'path.connection',\n      'rx.ParallelGateway': '.scalable polygon.body',\n      'rx.ExclusiveGateway': '.scalable polygon.body',\n      'rx.StartEvent': '.scalable circle.outer',\n      'rx.EndEvent': '.scalable circle.outer',\n      'rx.SubProcess': '.rotatable rect.outer',\n      'rx.ReceiveTask': '.rotatable rect.outer',\n      'rx.UserTask': '.rotatable rect.outer',\n      'rx.Connector': '.rotatable rect.outer',\n      'rx.TimerEvent': '.scalable circle.outer',\n      'rx.WebRequest': '.rotatable rect.outer'\n    }\n  };\n\n  cellView;\n\n  cellViewHighlighter;\n\n  options: {\n    strokeWidth: 10;\n    circleRadius: 31.5;\n    color: 'green';\n  };\n\n  constructor(cellView) {\n    super();\n\n    this.cellView = cellView;\n\n    this.listenTo(this.cellView.paper, 'scale translate', this.update);\n\n    this.$el = this.cellView.$el;\n  }\n\n  init(options) {\n    this.options = extend({}, result(this, 'options'), options || {});\n\n    this.cellView.model.on('remove', this.eraseHighlightAndRemove);\n\n    this.update();\n  }\n\n  update() {\n    this.eraseHighlight();\n    this.drawHighlight();\n  }\n\n  eraseHighlightAndRemove(evt) {\n    this.eraseHighlight();\n    Backbone.View.prototype.remove.apply(this, arguments);\n  }\n\n  private eraseHighlight() {\n    if (this.cellViewHighlighter) {\n      this.cellViewHighlighter.remove();\n    }\n  }\n\n  private drawHighlight() {\n    let selector;\n\n    switch (true) {\n      case this.cellView.model instanceof processShapes.rx.ProcessAction:\n      case this.cellView.model instanceof processShapes.rx.BaseCallActivity:\n        selector = '.rotatable rect.outer';\n        break;\n\n      default:\n        selector =\n          this.selectors.rx[this.cellView.model.prop('type')] || this.selectors.bpmn[this.cellView.model.prop('type')];\n    }\n\n    const shape = this.cellView.$el.find(selector).first();\n    const highlight = shape[0] ? V(shape[0]).clone() : undefined;\n\n    if (highlight) {\n      highlight.attr({\n        stroke: this.options.color,\n        'stroke-width': this.options.strokeWidth\n      });\n\n      if (highlight.node.tagName === 'circle') {\n        highlight.attr({\n          r: this.options.circleRadius\n        });\n      }\n\n      this.cellViewHighlighter = highlight;\n\n      shape.closest('g').prepend(highlight.node);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { assign, compact, debounce, find, forEach, includes, map } from 'lodash';\nimport { IProcessDefinition, IProcessInstance, RxProcessElementSearchService } from '@helix/platform/process/api';\nimport { RX_GUID, RxIdService, RxTreeService } from '@helix/platform/utils';\nimport { RX_DESIGNER_ELEMENT_SHAPE } from '@helix/platform/shared/api';\nimport { RxDesignerCellHighlighter } from './designer-cell-highlighter.class';\nimport { RxProcessElementService } from './process-element.service';\nimport * as processShapes from './process-shapes';\n\ndeclare var joint: any;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxRappidPaperService {\n  private green = '#89c341';\n  private gray = '#999999';\n  private red = '#f83200';\n\n  constructor(\n    private rxIdService: RxIdService,\n    private rxProcessElementService: RxProcessElementService,\n    private rxProcessElementSearchService: RxProcessElementSearchService,\n    private rxTreeService: RxTreeService\n  ) {\n    assign(joint.shapes.bpmn.icons, RX_DESIGNER_ELEMENT_SHAPE.bpmnIcons);\n  }\n\n  init(element, graph?, shouldZoomToFit: boolean = false) {\n    // : PaperScroller\n    // Do not instantiate paper with width or height parameters equal to 0, (e.g element is hidden in the DOM),\n    // otherwise it will cause RappidJS issue in the Firefox Browser. See DRIST-18107 for more details.\n    const paper = new joint.dia.Paper({\n      width: element.width || 1,\n      height: element.height || 1,\n      model: new joint.dia.Graph(\n        {},\n        {\n          cellNamespace: processShapes\n        }\n      ),\n      cellViewNamespace: processShapes,\n      interactive: false,\n\n      // specifying a non-existent theme to prevent rappid from overriding our styles\n      // due to 'default' theme being applied\n      theme: 'rx'\n    });\n\n    const paperScroller = new joint.ui.PaperScroller({\n      autoResizePaper: true,\n      paper: paper,\n      padding: {\n        padding: 10\n      }\n    });\n\n    element.appendChild(paperScroller.render().el);\n\n    paperScroller.options.paper.on('blank:pointerdown', paperScroller.startPanning);\n\n    this.resetScroll(paperScroller);\n\n    if (graph) {\n      paperScroller.options.paper.model.fromJSON(graph);\n\n      if (shouldZoomToFit) {\n        this.zoomToFit(paperScroller);\n      }\n    }\n\n    return paperScroller;\n  }\n\n  setGraph(\n    paperScroller,\n    processDefinition: IProcessDefinition,\n    processInstance: IProcessInstance,\n    shouldZoomToFit: boolean = false\n  ): void {\n    const graph = this.rxProcessElementService.getGraph(processDefinition);\n\n    const paper = paperScroller.options.paper;\n\n    paper.model.fromJSON(graph);\n\n    if (shouldZoomToFit) {\n      this.zoomToFit(paperScroller);\n    }\n\n    forEach(processInstance.activities, (activity) => {\n      const activityId = this.rxIdService.getBase(activity.activityId);\n      const cell = paper.findViewByModel(activityId);\n\n      if (cell) {\n        if (activity.activities.length && cell.model.get('expanded')) {\n          const subProcessActivities = this.rxTreeService.flattenTree(activity, 'activities');\n          const elements = paper.model.getElements();\n          const graphIds = map(elements, 'id');\n\n          const originalGraphIds = compact(map(elements, (element) => element.get('originalGuid')));\n\n          forEach(subProcessActivities, (subProcessActivity) => {\n            // we need to do this check in order to filter inner elements that are in process\n            // instance json but are not present in graph as their parent is not expanded\n            if (includes(graphIds, this.rxIdService.getBase(subProcessActivity.activityId))) {\n              this.highlightActivity(subProcessActivity, paper, processDefinition);\n            } else if (originalGraphIds && includes(originalGraphIds, subProcessActivity.activityId)) {\n              this.highlightActivity(subProcessActivity, paper, processDefinition);\n            }\n          });\n\n          this.highlightActivity(activity, paper, processDefinition);\n        } else {\n          this.highlightActivity(activity, paper, processDefinition);\n        }\n      }\n    });\n\n    if (processInstance.exceptionMessage) {\n      // exceptionMessage will be like <activityName>(<acitivityGuid>) - [<errorMessage>]\n      // RegExp - find guid from exceptionMessage\n      const guidPattern = new RegExp('\\\\((' + RX_GUID.baseIdPattern + ')\\\\)', 'i');\n      const activityId = guidPattern.exec(processInstance.exceptionMessage);\n\n      if (activityId[0]) {\n        const activityBaseId = this.rxIdService.getBase(activityId[1]);\n\n        this.highlightCell(activityBaseId, paper, this.red, processDefinition);\n      }\n    }\n\n    this.resetScroll(paperScroller);\n  }\n\n  private highlight(cellView, color) {\n    if (cellView instanceof joint.dia.CellView) {\n      const cellHighlighter = new RxDesignerCellHighlighter(cellView);\n\n      cellHighlighter.init({\n        strokeWidth: 10,\n        color: color\n      });\n    }\n  }\n\n  private highlightActivity(activity, paper, plainProcessDefinition) {\n    const activityId = this.rxIdService.getBase(activity.activityId);\n    const color = activity.endTime ? this.gray : this.green;\n\n    this.highlightCell(activityId, paper, color, plainProcessDefinition);\n  }\n\n  private highlightCell(cellId, paper, color, plainProcessDefinition) {\n    const elements = paper.model.getElements();\n\n    let cell;\n    let cellView;\n\n    if (!includes(map(elements, 'id'), cellId)) {\n      cell = find(elements, (element) => element.get('originalGuid') === this.rxIdService.get(cellId));\n\n      cellId = cell ? cell.id : cellId;\n    }\n\n    cellView = paper.findViewByModel(cellId);\n\n    if (cellView) {\n      this.highlight(cellView, color);\n    } else {\n      this.highlightVisibleErroredCell(cellId, false, paper, plainProcessDefinition);\n\n      // Used to highlight errored cell inside expanded sub-processes\n      paper.model.on(\n        'change',\n        debounce(() => {\n          this.highlightVisibleErroredCell(cellId, true, paper, plainProcessDefinition);\n        }, 100)\n      );\n    }\n  }\n\n  private highlightVisibleErroredCell(cellId, isFirstEntry, paper, plainProcessDefinition) {\n    const owner = this.rxProcessElementSearchService.findOwner(plainProcessDefinition, this.rxIdService.get(cellId));\n\n    let cellView;\n    let erroredElement;\n\n    if (isFirstEntry) {\n      erroredElement = find(owner.flowElements, { guid: this.rxIdService.get(cellId) });\n      cellView = paper.findViewByModel(this.rxIdService.getBase(erroredElement.guid));\n    }\n\n    if (!cellView) {\n      cellView = paper.findViewByModel(this.rxIdService.getBase(owner.guid));\n    }\n\n    if (cellView) {\n      this.highlight(cellView, this.red);\n    } else {\n      this.highlightVisibleErroredCell(owner.guid, false, paper, plainProcessDefinition);\n    }\n  }\n\n  private resetScroll(paperScroller) {\n    paperScroller.el.scrollTop = 0;\n    paperScroller.el.scrollLeft = 0;\n  }\n\n  private zoomToFit(paperScroller) {\n    setTimeout(() => {\n      paperScroller.zoomToFit({\n        padding: 10\n      });\n    });\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["RxRootInjector","RxIdService","RxCommandManagerService","isEmpty","chain","omit","truncate","escape","RX_PROCESS_DEFINITION","isFunction","filter","min","map","max","TextFormControlComponent","TextareaFormControlComponent","ValidationIssueType","some","of","Injectable","RX_DESIGNER","NgModule","RxRevertCustomizationComponent","CustomizationOptionsComponent","SwitchFormControlComponent","SelectFormControlComponent","Tooltip","RxPermissionEditorComponent","RX_RECORD_DEFINITION","RxProcessElementRegistryService","RxServerActionMixin","RxServerActionViewMixin","ReplaySubject","pluck","takeUntil","isEqual","take","InspectorWidgetBase","ElementRef","Component","ViewChild","RxProcessDataDictionaryService","RxServerActionExpressionConfigurator","RxActionTypeUtilsService","LabelFormControlComponent","AssignmentExpressionListFormControlComponent","AssignmentExpressionListTargetFieldType","isArray","transform","reduce","RxServerActionService","RX_DESIGNER_ELEMENT_SHAPE","CommonModule","ExpressionFormControlModule","FormsModule","RxFormBuilderModule","RxInspectorModule","startsWith","RxOverlayModule","rx","size","reject","isUndefined","RxProcessDefinitionCacheService","RxProcessElementSearchService","sortBy","forEach","cloneDeep","defaults","extend","result","Backbone","processShapes.rx","assign","compact","includes","RX_GUID","find","debounce"],"mappings":"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"}