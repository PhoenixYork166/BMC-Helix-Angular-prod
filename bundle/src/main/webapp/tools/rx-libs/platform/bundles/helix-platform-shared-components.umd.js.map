{"version":3,"file":"helix-platform-shared-components.umd.js","sources":["../../../../libs/platform/shared/components/admin-settings/admin-settings.component.ts","../../../../libs/platform/shared/components/admin-settings/admin-settings.component.html","../../../../libs/platform/shared/components/admin-settings/admin-settings.module.ts","../../../../node_modules/tslib/tslib.es6.js","../../../../libs/platform/shared/components/form-builder/value-accessor.ts","../../../../libs/platform/shared/components/boolean/boolean.component.ts","../../../../libs/platform/shared/components/boolean/boolean.component.html","../../../../libs/platform/shared/components/boolean/boolean.module.ts","../../../../libs/platform/shared/components/definition-picker/definition-picker-cache.service.ts","../../../../libs/platform/shared/components/definition-picker/definition-picker.types.ts","../../../../libs/platform/shared/components/definition-picker/definition-picker.component.ts","../../../../libs/platform/shared/components/definition-picker/definition-picker.component.html","../../../../libs/platform/shared/components/definition-picker/definition-picker.module.ts","../../../../libs/platform/shared/components/designer/inspector-components/select-expression-dropdown/select-expression-dropdown.component.ts","../../../../libs/platform/shared/components/designer/inspector-components/select-expression-dropdown/select-expression-dropdown.component.html","../../../../libs/platform/shared/components/designer/inspector-components/select-expression-dropdown/select-expression-dropdown.module.ts","../../../../libs/platform/shared/components/designer/inspector-components/select-expression-dropdown/select-expression-dropdown.constant.ts","../../../../libs/platform/shared/components/designer-canvas/designer-canvas.constant.ts","../../../../libs/platform/shared/components/designer-canvas/designer-canvas.component.ts","../../../../libs/platform/shared/components/designer-canvas/designer-canvas.component.html","../../../../libs/platform/shared/components/designer-canvas/designer-canvas.module.ts","../../../../libs/platform/shared/components/designer-header/designer-header.component.ts","../../../../libs/platform/shared/components/designer-header/designer-header.component.html","../../../../libs/platform/shared/components/designer-header/designer-header.module.ts","../../../../libs/platform/shared/components/designer-palette/designer-palette.component.ts","../../../../libs/platform/shared/components/designer-palette/designer-palette.component.html","../../../../libs/platform/shared/components/designer-palette/designer-palette.module.ts","../../../../libs/platform/shared/components/dynamic-component-renderer/dynamic-component-renderer.component.ts","../../../../libs/platform/shared/components/dynamic-component-renderer/dynamic-component-renderer.module.ts","../../../../libs/platform/shared/components/error-page/error-page.component.ts","../../../../libs/platform/shared/components/error-page/error-page.component.html","../../../../libs/platform/shared/components/error-page/error-page.module.ts","../../../../libs/platform/shared/components/expression-editor/expression-editor.constant.ts","../../../../libs/platform/shared/components/expression-editor/data-dictionary-item-plugin.constant.ts","../../../../libs/platform/shared/components/expression-editor/rich-expression-editor/rich-expression-editor.component.ts","../../../../libs/platform/shared/components/expression-editor/rich-expression-editor/rich-expression-editor.component.html","../../../../libs/platform/shared/components/expression-editor/data-dictionary-node/data-dictionary-node.component.ts","../../../../libs/platform/shared/components/expression-editor/data-dictionary-node/data-dictionary-node.component.html","../../../../libs/platform/shared/components/expression-editor/data-dictionary/data-dictionary.component.ts","../../../../libs/platform/shared/components/expression-editor/data-dictionary/data-dictionary.component.html","../../../../libs/platform/shared/components/expression-editor/expression-editor.component.ts","../../../../libs/platform/shared/components/expression-editor/expression-editor.component.html","../../../../libs/platform/shared/components/expression-editor/data-dictionary-item-plugin.service.ts","../../../../libs/platform/shared/components/expression-editor/expression-editor.module.ts","../../../../libs/platform/shared/components/expression-editor/expression-editor.service.ts","../../../../libs/platform/shared/components/form-controls/assignment-expression-list-form-control/assignment-expression-list-form-control.types.ts","../../../../libs/platform/shared/components/form-controls/text-form-control/text-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/text-form-control/text-form-control.component.html","../../../../libs/platform/shared/components/form-controls/select-form-control/select-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/select-form-control/select-form-control.component.html","../../../../libs/platform/shared/components/form-controls/expression-form-control/expression-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/expression-form-control/expression-form-control.component.html","../../../../libs/platform/shared/components/form-controls/assignment-expression-list-form-control/assignment-expression-list-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/assignment-expression-list-form-control/assignment-expression-list-form-control.component.html","../../../../libs/platform/shared/components/form-controls/expression-form-control/expression-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/text-form-control/text-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/select-form-control/select-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/assignment-expression-list-form-control/assignment-expression-list-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/attachment-form-control/attachment-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/attachment-form-control/attachment-form-control.component.html","../../../../libs/platform/shared/components/form-controls/attachment-form-control/attachment-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/boolean-form-control/boolean-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/boolean-form-control/boolean-form-control.component.html","../../../../libs/platform/shared/components/form-controls/boolean-form-control/boolean-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/color-picker-form-control/color-picker-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/color-picker-form-control/color-picker-form-control.component.html","../../../../libs/platform/shared/components/form-controls/color-picker-form-control/color-picker-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/counter-form-control/counter-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/counter-form-control/counter-form-control.component.html","../../../../libs/platform/shared/components/form-controls/counter-form-control/counter-form-control.module.ts","../../../../libs/platform/shared/components/coarse-grained-customization-options-editor/coarse-grained-customization-options-editor.component.ts","../../../../libs/platform/shared/components/coarse-grained-customization-options-editor/coarse-grained-customization-options-editor.component.html","../../../../libs/platform/shared/components/form-controls/customization-options/customization-options.component.ts","../../../../libs/platform/shared/components/form-controls/customization-options/customization-options.component.html","../../../../libs/platform/shared/components/form-controls/customization-options/customization-options.module.ts","../../../../libs/platform/shared/components/form-controls/date-form-control/date-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/date-form-control/date-form-control.component.html","../../../../libs/platform/shared/components/form-controls/date-form-control/date-form-control.module.ts","../../../../libs/platform/shared/components/form-builder/components/form-builder/form-builder.service.ts","../../../../libs/platform/shared/components/form-builder/form-builder.constant.ts","../../../../libs/platform/shared/components/form-builder/models/abstract-form-control.model.ts","../../../../libs/platform/shared/components/form-builder/models/form-control.model.ts","../../../../libs/platform/shared/components/form-builder/models/form-section.model.ts","../../../../libs/platform/shared/components/form-builder/models/form-widget.model.ts","../../../../libs/platform/shared/components/form-builder/form-builder.factory.ts","../../../../libs/platform/shared/components/form-builder/components/form-outlet/form-outlet.component.ts","../../../../libs/platform/shared/components/form-builder/components/form-widget/form-widget.component.ts","../../../../libs/platform/shared/components/form-builder/components/form-section/form-section.component.ts","../../../../libs/platform/shared/components/form-builder/components/form-section/form-section.component.html","../../../../libs/platform/shared/components/form-builder/components/form-builder/form-builder.component.ts","../../../../libs/platform/shared/components/form-builder/components/form-builder/form-builder.component.html","../../../../libs/platform/shared/components/form-builder/form-builder.module.ts","../../../../libs/platform/shared/components/form-controls/date-time-form-control/date-time-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/date-time-form-control/date-time-form-control.component.html","../../../../libs/platform/shared/components/form-controls/date-time-form-control/date-time-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/group-button-form-control/group-button-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/group-button-form-control/group-button-form-control.component.html","../../../../libs/platform/shared/components/form-controls/group-button-form-control/group-button-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/icon-picker-form-control/icon-browser-dialog/icon-browser-dialog.component.ts","../../../../libs/platform/shared/components/form-controls/icon-picker-form-control/icon-browser-dialog/icon-browser-dialog.component.html","../../../../libs/platform/shared/components/form-controls/icon-picker-form-control/icon-picker-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/icon-picker-form-control/icon-picker-form-control.component.html","../../../../libs/platform/shared/components/form-controls/icon-picker-form-control/icon-browser-dialog/icon-browser-dialog.module.ts","../../../../libs/platform/shared/components/form-controls/icon-picker-form-control/icon-picker-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/input-list-form-control/input-list-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/input-list-form-control/input-list-form-control.component.html","../../../../libs/platform/shared/components/form-controls/input-list-form-control/input-list-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/label-form-control/label-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/label-form-control/label-form-control.component.html","../../../../libs/platform/shared/components/form-controls/label-form-control/label-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/list-form-control/list-item.component.ts","../../../../libs/platform/shared/components/form-controls/list-form-control/list-item.component.html","../../../../libs/platform/shared/components/form-controls/list-form-control/list-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/list-form-control/list-form-control.component.html","../../../../libs/platform/shared/components/form-controls/list-form-control/list-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/optional-expression-control/optional-expression-control.component.ts","../../../../libs/platform/shared/components/form-controls/optional-expression-control/optional-expression-control.component.html","../../../../libs/platform/shared/components/form-controls/optional-expression-control/optional-expression-control.module.ts","../../../../libs/platform/shared/components/form-controls/optional-select-form-control/optional-select-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/optional-select-form-control/optional-select-form-control.component.html","../../../../libs/platform/shared/components/form-controls/optional-select-form-control/optional-select-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/stepper-with-units-form-control/stepper-with-units-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/stepper-with-units-form-control/stepper-with-units-form-control.component.html","../../../../libs/platform/shared/components/form-controls/stepper-with-units-form-control/stepper-with-units-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/switch-form-control/switch-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/switch-form-control/switch-form-control.component.html","../../../../libs/platform/shared/components/form-controls/switch-form-control/switch-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/tags-form-control/tags-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/tags-form-control/tags-form-control.component.html","../../../../libs/platform/shared/components/form-controls/tags-form-control/tags-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/textarea-form-control/textarea-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/textarea-form-control/textarea-form-control.component.html","../../../../libs/platform/shared/components/form-controls/textarea-form-control/textarea-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/time-form-control/time-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/time-form-control/time-form-control.component.html","../../../../libs/platform/shared/components/form-controls/time-form-control/time-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/validation-form-control/validation-form-control-options.types.ts","../../../../libs/platform/shared/components/form-controls/validation-form-control/validation-form-control.constant.ts","../../../../libs/platform/shared/components/form-controls/validation-form-control/validation-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/validation-form-control/validation-form-control.component.html","../../../../libs/platform/shared/components/form-controls/validation-form-control/validation-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/form-controls.module.ts","../../../../libs/platform/shared/components/form-controls/definition-picker-or-expression-form-control/definition-picker-or-expression-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/definition-picker-or-expression-form-control/definition-picker-or-expression-form-control.component.html","../../../../libs/platform/shared/components/form-controls/definition-picker-or-expression-form-control/definition-picker-or-expression-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/record-instance-form-control/record-instance-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/record-instance-form-control/record-instance-form-control.component.html","../../../../libs/platform/shared/components/form-controls/record-instance-form-control/record-instance-form-control.module.ts","../../../../libs/platform/shared/components/form-controls/radio-form-control/radio-form-control.component.ts","../../../../libs/platform/shared/components/form-controls/radio-form-control/radio-form-control.component.html","../../../../libs/platform/shared/components/form-controls/radio-form-control/radio-form-control.module.ts","../../../../libs/platform/shared/components/iframe/iframe.component.ts","../../../../libs/platform/shared/components/iframe/iframe.component.html","../../../../libs/platform/shared/components/iframe/iframe.module.ts","../../../../libs/platform/shared/components/iframe/iframe.service.ts","../../../../libs/platform/shared/components/inspector/inspector.directive.ts","../../../../libs/platform/shared/components/inspector/inspector.module.ts","../../../../libs/platform/shared/components/inspector/inspector-control-base.class.ts","../../../../libs/platform/shared/components/inspector/inspector-widget-base.class.ts","../../../../libs/platform/shared/components/inspector-components/expression-inspector-control/expression-inspector-control.component.ts","../../../../libs/platform/shared/components/inspector-components/expression-inspector-control/expression-inspector-control.component.html","../../../../libs/platform/shared/components/inspector-components/expression-inspector-control/expression-inspector-control.module.ts","../../../../libs/platform/shared/components/inspector-components/optional-expression-inspector-control/optional-expression-inspector-control.component.ts","../../../../libs/platform/shared/components/inspector-components/optional-expression-inspector-control/optional-expression-inspector-control.component.html","../../../../libs/platform/shared/components/inspector-components/optional-expression-inspector-control/optional-expression-inspector-control.module.ts","../../../../libs/platform/shared/components/issue-reporter/issue-reporter.constant.ts","../../../../libs/platform/shared/components/issue-reporter/issue-reporter.service.ts","../../../../libs/platform/shared/components/issue-reporter/issue-reporter.component.ts","../../../../libs/platform/shared/components/issue-reporter/issue-reporter.component.html","../../../../libs/platform/shared/components/issue-reporter/issue-reporter.module.ts","../../../../libs/platform/shared/components/select-with-pagination/select-with-pagination.component.ts","../../../../libs/platform/shared/components/select-with-pagination/select-with-pagination.component.html","../../../../libs/platform/shared/components/select-with-pagination/select-with-pagination.module.ts","../../../../libs/platform/shared/components/permission-editor/permission-editor-dialog/permission-editor-dialog.component.ts","../../../../libs/platform/shared/components/permission-editor/permission-editor-dialog/permission-editor-dialog.component.html","../../../../libs/platform/shared/components/permission-editor/permission-editor.component.ts","../../../../libs/platform/shared/components/permission-editor/permission-editor.component.html","../../../../libs/platform/shared/components/permission-editor/permission-editor.module.ts","../../../../libs/platform/shared/components/rename-definition-modal/rename-definition-modal.component.ts","../../../../libs/platform/shared/components/rename-definition-modal/rename-definition-modal.component.html","../../../../libs/platform/shared/components/rename-definition-modal/rename-definition-modal.module.ts","../../../../libs/platform/shared/components/revert-customization/revert-customization.constants.ts","../../../../libs/platform/shared/components/revert-customization/revert-customization.component.ts","../../../../libs/platform/shared/components/revert-customization/revert-customization.component.html","../../../../libs/platform/shared/components/revert-customization/revert-customization.module.ts","../../../../libs/platform/shared/components/search/search.component.ts","../../../../libs/platform/shared/components/search/search.component.html","../../../../libs/platform/shared/components/search/search.module.ts","../../../../libs/platform/shared/components/user-preferences/user-preferences.constants.ts","../../../../libs/platform/shared/components/user-preferences/user-preferences.component.ts","../../../../libs/platform/shared/components/user-preferences/user-preferences.component.html","../../../../libs/platform/shared/components/shell/gainsight/gainsight.constant.ts","../../../../libs/platform/shared/components/shell/gainsight/gainsight-configurator.service.ts","../../../../libs/platform/shared/components/shell/user-messages/user-message.constants.ts","../../../../libs/platform/shared/components/shell/user-messages/user-message-data-page.service.ts","../../../../libs/platform/shared/components/shell/user-messages/user-message.service.ts","../../../../libs/platform/shared/components/shell/shell-base.class.ts","../../../../libs/platform/shared/components/user-availability/user-availability.constants.ts","../../../../libs/platform/shared/components/user-availability/user-availability.component.ts","../../../../libs/platform/shared/components/user-availability/user-availability.component.html","../../../../libs/platform/shared/components/shell/gainsight/gainsight-user-preferences.service.ts","../../../../libs/platform/shared/components/shell/gainsight/gainsight-opt-in/gainsight-opt-in.component.ts","../../../../libs/platform/shared/components/shell/gainsight/gainsight-opt-in/gainsight-opt-in.component.html","../../../../libs/platform/shared/components/shell/user-messages/user-message-modal.component.ts","../../../../libs/platform/shared/components/shell/user-messages/user-message-modal.component.html","../../../../libs/platform/shared/components/shell/user-messages/user-messages.component.ts","../../../../libs/platform/shared/components/shell/user-messages/user-messages.component.html","../../../../libs/platform/shared/components/shell/shell.component.ts","../../../../libs/platform/shared/components/shell/shell.component.html","../../../../libs/platform/shared/components/shell/development-mode-selector/development-mode-selector.component.ts","../../../../libs/platform/shared/components/shell/development-mode-selector/development-mode-selector.component.html","../../../../libs/platform/shared/components/shell/feedback-dialog/feedback-dialog.component.ts","../../../../libs/platform/shared/components/shell/feedback-dialog/feedback-dialog.component.html","../../../../libs/platform/shared/components/shell/innovation-studio-shell.component.ts","../../../../libs/platform/shared/components/shell/shell.module.ts","../../../../libs/platform/shared/components/shell/gainsight/gainsight.types.ts","../../../../libs/platform/shared/components/user-availability/user-availability.module.ts","../../../../libs/platform/shared/components/user-preferences/user-preferences.module.ts","../../../../libs/platform/shared/components/wizard/wizard-modal.component.ts","../../../../libs/platform/shared/components/wizard/wizard-modal.component.html","../../../../libs/platform/shared/components/wizard/wizard.service.ts","../../../../libs/platform/shared/components/wizard/wizard.module.ts","../../../../libs/platform/shared/components/selection-field-options/selection-field-options-editor.component.ts","../../../../libs/platform/shared/components/selection-field-options/selection-field-options-editor.component.html","../../../../libs/platform/shared/components/selection-field-options/selection-field-options.component.ts","../../../../libs/platform/shared/components/selection-field-options/selection-field-options.component.html","../../../../libs/platform/shared/components/selection-field-options/selection-field-options.module.ts","../../../../libs/platform/shared/components/unknown-application/unknown-application.component.ts","../../../../libs/platform/shared/components/unknown-application/unknown-application.component.html","../../../../libs/platform/shared/components/unknown-application/unknown-application.module.ts","../../../../libs/platform/shared/components/localized-character-field-value-modal/localized-character-field-value-modal.component.ts","../../../../libs/platform/shared/components/localized-character-field-value-modal/localized-character-field-value-modal.component.html","../../../../libs/platform/shared/components/localized-character-field-value-modal/localized-character-field-value-modal.module.ts","../../../../libs/platform/shared/components/helix-platform-shared-components.ts"],"sourcesContent":["import { Component, HostBinding, Input } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'rx-admin-settings',\n  templateUrl: './admin-settings.component.html',\n  styleUrls: ['./admin-settings.component.scss']\n})\nexport class AdminSettingsComponent {\n  @HostBinding('class')\n  hostClass = 'd-flex flex-column position-relative h-100';\n\n  @Input()\n  header: string;\n\n  @Input()\n  busy: Subscription = null;\n}\n","<rx-busy-indicator [options]=\"{ busy: busy, loaderType: 'section', delay: 500 }\"></rx-busy-indicator>\n\n<div [class.is-hidden]=\"busy && !busy.closed\" class=\"h-100 d-flex flex-column\">\n  <h1 *ngIf=\"header\">{{ header }}</h1>\n\n  <ng-content></ng-content>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AdminSettingsComponent } from './admin-settings.component';\nimport { RxBusyIndicatorModule, RxModalService } from '@helix/platform/ui-kit';\n\n@NgModule({\n  declarations: [AdminSettingsComponent],\n  providers: [RxModalService],\n  imports: [CommonModule, RxBusyIndicatorModule],\n  exports: [AdminSettingsComponent]\n})\nexport class AdminSettingsModule {}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { ControlValueAccessor } from '@angular/forms';\n\nexport class ValueAccessor<T> implements ControlValueAccessor {\n  protected innerValue: T;\n  isDisabled: boolean;\n  onTouched: () => void;\n\n  protected onChange: (T) => void;\n\n  get value(): T {\n    return this.innerValue;\n  }\n\n  set value(value: T) {\n    if (this.innerValue !== value) {\n      this.innerValue = value;\n      this.onChange(value);\n      this.onSetValue(value);\n    }\n  }\n\n  touch() {}\n\n  writeValue(value: T) {\n    this.innerValue = value;\n\n    this.onWriteValue(value);\n  }\n\n  registerOnChange(fn: (value: T) => void) {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: () => void) {\n    this.onTouched = fn;\n  }\n\n  onWriteValue(value) {}\n\n  setDisabledState(isDisabled: boolean) {\n    this.isDisabled = isDisabled;\n  }\n\n  // helper that called when control sets value to model\n  onSetValue(value: T) {}\n}\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  Injector,\n  Input,\n  OnInit,\n  Output,\n  QueryList,\n  ViewChildren\n} from '@angular/core';\nimport { FormControl, NG_VALUE_ACCESSOR, NgControl } from '@angular/forms';\nimport { AdaptButtonComponent } from '@bmc-ux/adapt-angular';\nimport { ValueAccessor } from '../form-builder/value-accessor';\n\n@Component({\n  selector: 'rx-boolean',\n  templateUrl: './boolean.component.html',\n  styleUrls: ['./boolean.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: RxBooleanComponent,\n      multi: true\n    }\n  ]\n})\nexport class RxBooleanComponent extends ValueAccessor<boolean> implements OnInit {\n  @Input()\n  shouldDisplayAsCheckbox: boolean;\n\n  @Input()\n  required: boolean;\n\n  @Input()\n  isDisabled: boolean;\n\n  @Input()\n  label: string;\n\n  @Input()\n  tooltip: string;\n\n  @Output()\n  rxBlur = new EventEmitter<FocusEvent>();\n\n  @ViewChildren(AdaptButtonComponent, { read: ElementRef })\n  buttons: QueryList<ElementRef>;\n\n  control: FormControl;\n\n  constructor(private injector: Injector) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.control = this.injector.get(NgControl).control as FormControl;\n  }\n\n  getButtonType(value: boolean): string {\n    return value === this.value ? 'primary' : 'secondary';\n  }\n\n  onButtonBlur(event: FocusEvent): void {\n    if (!event.relatedTarget || !this.buttons.find((element) => element.nativeElement === event.relatedTarget)) {\n      this.onTouched();\n      this.rxBlur.emit(event);\n    }\n  }\n\n  setValue(value: boolean): void {\n    if (this.value === value) {\n      this.value = null;\n    } else {\n      this.value = value;\n    }\n  }\n}\n","<div *ngIf=\"!shouldDisplayAsCheckbox\" [class.has-danger]=\"adaptRxFeedbackRef.hasUIErrorState\">\n  <adapt-rx-control-label [label]=\"label\" [showRequiredLabel]=\"required\"></adapt-rx-control-label>\n\n  <div\n    class=\"btn-group\"\n    [attr.tabindex]=\"isDisabled ? 0 : undefined\"\n    [attr.aria-label]=\"isDisabled ? label + value : label\"\n    [class.focusable]=\"isDisabled\"\n  >\n    <button\n      adapt-button\n      size=\"small\"\n      [disabled]=\"isDisabled\"\n      [btn-type]=\"getButtonType(true)\"\n      (click)=\"setValue(true)\"\n      [attr.aria-label]=\"'com.bmc.arsys.rx.client.common.true' | translate\"\n      [attr.aria-pressed]=\"value === true\"\n      (blur)=\"onButtonBlur($event)\"\n      rx-id=\"true-button\"\n    >\n      <span class=\"d-icon-check_adapt\"></span>\n    </button>\n\n    <button\n      adapt-button\n      size=\"small\"\n      [disabled]=\"isDisabled\"\n      [btn-type]=\"getButtonType(false)\"\n      (click)=\"setValue(false)\"\n      [attr.aria-label]=\"'com.bmc.arsys.rx.client.common.false' | translate\"\n      [attr.aria-pressed]=\"value === false\"\n      (blur)=\"onButtonBlur($event)\"\n      rx-id=\"false-button\"\n    >\n      <span class=\"d-icon-circle_slash_o\"></span>\n    </button>\n  </div>\n\n  <adapt-rx-feedback\n    #adaptRxFeedbackRef\n    [errors]=\"control.errors\"\n    [controlTouched]=\"control.touched\"\n  ></adapt-rx-feedback>\n</div>\n\n<adapt-rx-checkbox\n  *ngIf=\"shouldDisplayAsCheckbox\"\n  [required]=\"required\"\n  [readonly]=\"isDisabled\"\n  [label]=\"label\"\n  [(ngModel)]=\"value\"\n  (onBlur)=\"onTouched(); rxBlur.emit($event)\"\n  [tooltip]=\"\n    tooltip\n      ? {\n          iconName: 'question_circle_o',\n          content: tooltip,\n          popoverMode: true\n        }\n      : null\n  \"\n>\n</adapt-rx-checkbox>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport {\n  AdaptButtonModule,\n  AdaptRxCheckboxModule,\n  AdaptRxFormControlModule,\n  AdaptPopoverModule\n} from '@bmc-ux/adapt-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { RxBooleanComponent } from './boolean.component';\n\n@NgModule({\n  imports: [\n    FormsModule,\n    CommonModule,\n    ReactiveFormsModule,\n    AdaptRxFormControlModule,\n    AdaptButtonModule,\n    AdaptRxCheckboxModule,\n    TranslateModule,\n    AdaptPopoverModule\n  ],\n  declarations: [RxBooleanComponent],\n  exports: [RxBooleanComponent]\n})\nexport class RxBooleanModule {}\n","import { Injectable } from '@angular/core';\nimport { RxAssociationDefinitionDataPageService } from '@helix/platform/association/api';\nimport { RxNamedListDefinitionDataPageService } from '@helix/platform/named-list/api';\nimport { RxProcessDefinitionDataPageService } from '@helix/platform/process/api';\nimport { RX_RECORD_DEFINITION, RxRecordDefinitionDataPageService } from '@helix/platform/record/api';\nimport { RX_VIEW_DEFINITION, RxViewDefinitionDataPageService } from '@helix/platform/view/api';\nimport { Observable } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\nimport { IDefinitionDescriptor } from './interfaces/definition-descriptor.interface';\nimport { RX_BUNDLE, RxChatbotDefinitionDataPageService } from '@helix/platform/shared/api';\nimport { filter } from 'lodash';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxDefinitionPickerCacheService {\n  private registeredConsumerCount = 0;\n\n  private bundleRecordDefinitionDescriptors: { [name: string]: Observable<IDefinitionDescriptor[]> } = {};\n  private bundleDataRecordDefinitionDescriptors: { [name: string]: Observable<IDefinitionDescriptor[]> } = {};\n  private bundleRegularRecordDefinitionDescriptors: { [name: string]: Observable<IDefinitionDescriptor[]> } = {};\n  private bundleRegularDataRecordDefinitionDescriptors: { [name: string]: Observable<IDefinitionDescriptor[]> } = {};\n  private bundleStandardDataRecordDefinitionDescriptors: { [name: string]: Observable<IDefinitionDescriptor[]> } = {};\n\n  private bundlePublicRegularDataRecordDefinitionDescriptors: {\n    [name: string]: Observable<IDefinitionDescriptor[]>;\n  } = {};\n\n  private bundleInheritableRecordDefinitionDescriptors: { [name: string]: Observable<IDefinitionDescriptor[]> } = {};\n  private bundleProcessDefinitionDescriptors: { [name: string]: Observable<IDefinitionDescriptor[]> } = {};\n  private bundlePublicProcessDefinitionDescriptors: { [name: string]: Observable<IDefinitionDescriptor[]> } = {};\n  private bundleViewDefinitionDescriptor: { [name: string]: Observable<IDefinitionDescriptor[]> } = {};\n  private bundleNamedListDefinitionDescriptors: { [name: string]: Observable<IDefinitionDescriptor[]> } = {};\n  private bundleAssociationDefinitionDescriptors: { [name: string]: Observable<IDefinitionDescriptor[]> } = {};\n  private bundleChatbotDefinitionDescriptors: { [name: string]: Observable<IDefinitionDescriptor[]> } = {};\n\n  private rxRecordDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n  private rxDataRecordDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n  private rxStandardDataRecordDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n\n  private allRecordDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n  private allDataRecordDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n  private allStandardDataRecordDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n  private allRegularRecordDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n  private allRegularDataRecordDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n  private allPublicRegularDataRecordDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n  private rxRegularRecordDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n  private rxRegularDataRecordDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n  private rxPublicRegularDataRecordDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n  private allInheritableRecordDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n  private allProcessDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n  private allPublicProcessDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n  private allViewDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n  private allNamedListDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n  private allAssociationDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n  private allChatbotDefinitionDescriptors: Observable<IDefinitionDescriptor[]>;\n\n  constructor(\n    private recordDefinitionDataPageService: RxRecordDefinitionDataPageService,\n    private processDefinitionDataPageService: RxProcessDefinitionDataPageService,\n    private viewDefinitionDataPageService: RxViewDefinitionDataPageService,\n    private namedListDefinitionDataPageService: RxNamedListDefinitionDataPageService,\n    private associationDefinitionDataPageService: RxAssociationDefinitionDataPageService,\n    private rxChatbotDefinitionDataPageService: RxChatbotDefinitionDataPageService\n  ) {}\n\n  getBundleRecordDefinitionDescriptors(bundleId: string): Observable<IDefinitionDescriptor[]> {\n    if (!this.bundleRecordDefinitionDescriptors[bundleId]) {\n      this.bundleRecordDefinitionDescriptors[bundleId] = this.recordDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': bundleId\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            requireDependent: true\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.bundleRecordDefinitionDescriptors[bundleId];\n  }\n\n  getBundleDataRecordDefinitionDescriptors(bundleId: string): Observable<IDefinitionDescriptor[]> {\n    if (!this.bundleDataRecordDefinitionDescriptors[bundleId]) {\n      this.bundleDataRecordDefinitionDescriptors[bundleId] = this.recordDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': bundleId\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            requireDependent: true,\n            excludeAuditRecordDefinitions: true\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.bundleDataRecordDefinitionDescriptors[bundleId];\n  }\n\n  getBundleStandardDataRecordDefinitionDescriptors(bundleId: string): Observable<IDefinitionDescriptor[]> {\n    if (!this.bundleStandardDataRecordDefinitionDescriptors[bundleId]) {\n      this.bundleStandardDataRecordDefinitionDescriptors[bundleId] = this.recordDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': bundleId\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            requireDependent: true,\n            excludeAuditRecordDefinitions: true,\n            excludeCustomRecordDefinitions: true\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.bundleStandardDataRecordDefinitionDescriptors[bundleId];\n  }\n\n  getAllRecordDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.allRecordDefinitionDescriptors) {\n      this.allRecordDefinitionDescriptors = this.recordDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': ''\n          },\n          params: {\n            propertySelection: ['name', 'scope']\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.allRecordDefinitionDescriptors;\n  }\n\n  getAllDataRecordDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.allDataRecordDefinitionDescriptors) {\n      this.allDataRecordDefinitionDescriptors = this.recordDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': ''\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            excludeAuditRecordDefinitions: true\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.allDataRecordDefinitionDescriptors;\n  }\n\n  getAllStandardDataRecordDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.allStandardDataRecordDefinitionDescriptors) {\n      this.allStandardDataRecordDefinitionDescriptors = this.recordDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': ''\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            excludeAuditRecordDefinitions: true,\n            excludeCustomRecordDefinitions: true\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.allStandardDataRecordDefinitionDescriptors;\n  }\n\n  getRxRecordDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.rxRecordDefinitionDescriptors) {\n      this.rxRecordDefinitionDescriptors = this.recordDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': ''\n          },\n          params: {\n            rxDefinitionsOnly: true,\n            propertySelection: ['name', 'scope']\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.rxRecordDefinitionDescriptors;\n  }\n\n  getRxDataRecordDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.rxDataRecordDefinitionDescriptors) {\n      this.rxDataRecordDefinitionDescriptors = this.recordDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': ''\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            rxDefinitionsOnly: true,\n            excludeAuditRecordDefinitions: true\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.rxDataRecordDefinitionDescriptors;\n  }\n\n  getRxStandardDataRecordDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.rxStandardDataRecordDefinitionDescriptors) {\n      this.rxStandardDataRecordDefinitionDescriptors = this.recordDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': ''\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            rxDefinitionsOnly: true,\n            excludeAuditRecordDefinitions: true,\n            excludeCustomRecordDefinitions: true\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.rxStandardDataRecordDefinitionDescriptors;\n  }\n\n  getAllRegularRecordDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.allRegularRecordDefinitionDescriptors) {\n      this.allRegularRecordDefinitionDescriptors = this.recordDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': ''\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            resourceType: RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.allRegularRecordDefinitionDescriptors;\n  }\n\n  getAllRegularDataRecordDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.allRegularDataRecordDefinitionDescriptors) {\n      this.allRegularDataRecordDefinitionDescriptors = this.recordDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': ''\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            excludeAuditRecordDefinitions: true,\n            resourceType: RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.allRegularDataRecordDefinitionDescriptors;\n  }\n\n  getRxRegularRecordDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.rxRegularRecordDefinitionDescriptors) {\n      this.rxRegularRecordDefinitionDescriptors = this.recordDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': ''\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            rxDefinitionsOnly: true,\n            resourceType: RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.rxRegularRecordDefinitionDescriptors;\n  }\n\n  getRxRegularDataRecordDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.rxRegularDataRecordDefinitionDescriptors) {\n      this.rxRegularDataRecordDefinitionDescriptors = this.recordDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': ''\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            rxDefinitionsOnly: true,\n            resourceType: RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType,\n            excludeAuditRecordDefinitions: true\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.rxRegularDataRecordDefinitionDescriptors;\n  }\n\n  getBundleRegularRecordDefinitionDescriptors(bundleId: string): Observable<IDefinitionDescriptor[]> {\n    if (!this.bundleRegularRecordDefinitionDescriptors[bundleId]) {\n      this.bundleRegularRecordDefinitionDescriptors[bundleId] = this.recordDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': bundleId\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            requireDependent: true,\n            resourceType: RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.bundleRegularRecordDefinitionDescriptors[bundleId];\n  }\n\n  getBundleRegularDataRecordDefinitionDescriptors(bundleId: string): Observable<IDefinitionDescriptor[]> {\n    if (!this.bundleRegularDataRecordDefinitionDescriptors[bundleId]) {\n      this.bundleRegularDataRecordDefinitionDescriptors[bundleId] = this.recordDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': bundleId\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            requireDependent: true,\n            resourceType: RX_RECORD_DEFINITION.recordDefinitionTypes.regular.recordDefinitionType,\n            excludeAuditRecordDefinitions: true\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.bundleRegularDataRecordDefinitionDescriptors[bundleId];\n  }\n\n  getAllPublicRegularDataRecordDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.allPublicRegularDataRecordDefinitionDescriptors) {\n      this.allPublicRegularDataRecordDefinitionDescriptors = this.getAllRegularDataRecordDefinitionDescriptors().pipe(\n        map((recordDefinitionDescriptors: IDefinitionDescriptor[]) =>\n          filter(recordDefinitionDescriptors, { scope: RX_BUNDLE.definitionScopeTypes.public })\n        ),\n        shareReplay(1)\n      );\n    }\n\n    return this.allPublicRegularDataRecordDefinitionDescriptors;\n  }\n\n  getRxPublicRegularDataRecordDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.rxPublicRegularDataRecordDefinitionDescriptors) {\n      this.rxPublicRegularDataRecordDefinitionDescriptors = this.getRxRegularDataRecordDefinitionDescriptors().pipe(\n        map((recordDefinitionDescriptors: IDefinitionDescriptor[]) =>\n          filter(recordDefinitionDescriptors, { scope: RX_BUNDLE.definitionScopeTypes.public })\n        ),\n        shareReplay(1)\n      );\n    }\n\n    return this.rxPublicRegularDataRecordDefinitionDescriptors;\n  }\n\n  getBundlePublicRegularDataRecordDefinitionDescriptors(bundleId: string): Observable<IDefinitionDescriptor[]> {\n    if (!this.bundlePublicRegularDataRecordDefinitionDescriptors[bundleId]) {\n      this.bundlePublicRegularDataRecordDefinitionDescriptors[bundleId] =\n        this.getBundleRegularDataRecordDefinitionDescriptors(bundleId).pipe(\n          map((recordDefinitionDescriptors: IDefinitionDescriptor[]) =>\n            filter(recordDefinitionDescriptors, { scope: RX_BUNDLE.definitionScopeTypes.public })\n          )\n        );\n    }\n\n    return this.bundlePublicRegularDataRecordDefinitionDescriptors[bundleId];\n  }\n\n  getAllInheritableRecordDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.allInheritableRecordDefinitionDescriptors) {\n      this.allInheritableRecordDefinitionDescriptors = this.recordDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': ''\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            inheritableDefinitionsOnly: true\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.allInheritableRecordDefinitionDescriptors;\n  }\n\n  getBundleInheritableRecordDefinitionDescriptors(bundleId: string): Observable<IDefinitionDescriptor[]> {\n    if (!this.bundleInheritableRecordDefinitionDescriptors[bundleId]) {\n      this.bundleInheritableRecordDefinitionDescriptors[bundleId] = this.recordDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': bundleId\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            requireDependent: true,\n            inheritableDefinitionsOnly: true\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.bundleInheritableRecordDefinitionDescriptors[bundleId];\n  }\n\n  getAllProcessDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.allProcessDefinitionDescriptors) {\n      this.allProcessDefinitionDescriptors = this.processDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': ''\n          },\n          params: {\n            propertySelection: ['name', 'scope']\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.allProcessDefinitionDescriptors;\n  }\n\n  getAllPublicProcessDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.allPublicProcessDefinitionDescriptors) {\n      this.allPublicProcessDefinitionDescriptors = this.getAllProcessDefinitionDescriptors().pipe(\n        map((processDefinitionDescriptors: IDefinitionDescriptor[]) =>\n          filter(processDefinitionDescriptors, { scope: RX_BUNDLE.definitionScopeTypes.public })\n        ),\n        shareReplay(1)\n      );\n    }\n\n    return this.allPublicProcessDefinitionDescriptors;\n  }\n\n  getBundleProcessDefinitionDescriptors(bundleId: string): Observable<IDefinitionDescriptor[]> {\n    if (!this.bundleProcessDefinitionDescriptors[bundleId]) {\n      this.bundleProcessDefinitionDescriptors[bundleId] = this.processDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': bundleId\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            requireDependent: true\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.bundleProcessDefinitionDescriptors[bundleId];\n  }\n\n  getBundlePublicProcessDefinitionDescriptors(bundleId: string): Observable<IDefinitionDescriptor[]> {\n    if (!this.bundlePublicProcessDefinitionDescriptors[bundleId]) {\n      this.bundlePublicProcessDefinitionDescriptors[bundleId] = this.getBundleProcessDefinitionDescriptors(\n        bundleId\n      ).pipe(\n        map((processDefinitionDescriptors: IDefinitionDescriptor[]) =>\n          filter(processDefinitionDescriptors, { scope: RX_BUNDLE.definitionScopeTypes.public })\n        )\n      );\n    }\n\n    return this.bundlePublicProcessDefinitionDescriptors[bundleId];\n  }\n\n  getAllViewDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.allViewDefinitionDescriptors) {\n      this.allViewDefinitionDescriptors = this.viewDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': ''\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            viewType: RX_VIEW_DEFINITION.types.regular\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.allViewDefinitionDescriptors;\n  }\n\n  getBundleViewDefinitionDescriptors(bundleId: string): Observable<IDefinitionDescriptor[]> {\n    if (!this.bundleViewDefinitionDescriptor[bundleId]) {\n      this.bundleViewDefinitionDescriptor[bundleId] = this.viewDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': bundleId\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            requireDependent: true,\n            viewType: RX_VIEW_DEFINITION.types.regular\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.bundleViewDefinitionDescriptor[bundleId];\n  }\n\n  getAllNamedListDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.allNamedListDefinitionDescriptors) {\n      this.allNamedListDefinitionDescriptors = this.namedListDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': ''\n          },\n          params: {\n            propertySelection: ['name', 'scope']\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.allNamedListDefinitionDescriptors;\n  }\n\n  getBundleNamedListDefinitionDescriptors(bundleId: string): Observable<IDefinitionDescriptor[]> {\n    if (!this.bundleNamedListDefinitionDescriptors[bundleId]) {\n      this.bundleNamedListDefinitionDescriptors[bundleId] = this.namedListDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': bundleId\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            requireDependent: true\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.bundleNamedListDefinitionDescriptors[bundleId];\n  }\n\n  getAllAssociationDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.allAssociationDefinitionDescriptors) {\n      this.allAssociationDefinitionDescriptors = this.associationDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': ''\n          },\n          params: {\n            propertySelection: ['name', 'scope']\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.allAssociationDefinitionDescriptors;\n  }\n\n  getBundleAssociationDefinitionDescriptors(bundleId): Observable<IDefinitionDescriptor[]> {\n    if (!this.bundleAssociationDefinitionDescriptors[bundleId]) {\n      this.bundleAssociationDefinitionDescriptors[bundleId] = this.associationDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': bundleId\n          },\n          params: {\n            propertySelection: ['name', 'scope'],\n            requireDependent: true\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.bundleAssociationDefinitionDescriptors[bundleId];\n  }\n\n  getAllChatbotDefinitionDescriptors(): Observable<IDefinitionDescriptor[]> {\n    if (!this.allChatbotDefinitionDescriptors) {\n      this.allChatbotDefinitionDescriptors = this.rxChatbotDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': ''\n          },\n          params: {\n            propertySelection: ['chatbotName']\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.allChatbotDefinitionDescriptors;\n  }\n\n  getBundleChatbotDefinitionDescriptors(bundleId): Observable<IDefinitionDescriptor[]> {\n    if (!this.bundleChatbotDefinitionDescriptors[bundleId]) {\n      this.bundleChatbotDefinitionDescriptors[bundleId] = this.rxChatbotDefinitionDataPageService\n        .get({\n          headers: {\n            'default-bundle-scope': bundleId\n          },\n          params: {\n            propertySelection: ['chatbotName']\n          }\n        })\n        .pipe(\n          map((response: any) => response.data),\n          shareReplay(1)\n        );\n    }\n\n    return this.bundleChatbotDefinitionDescriptors[bundleId];\n  }\n\n  registerConsumer() {\n    this.registeredConsumerCount++;\n  }\n\n  unRegisterConsumer() {\n    this.registeredConsumerCount--;\n\n    if (this.registeredConsumerCount === 0) {\n      this.clear();\n    }\n  }\n\n  clear() {\n    this.bundleRecordDefinitionDescriptors = {};\n    this.bundleDataRecordDefinitionDescriptors = {};\n    this.bundleRegularRecordDefinitionDescriptors = {};\n    this.bundleRegularDataRecordDefinitionDescriptors = {};\n    this.bundleStandardDataRecordDefinitionDescriptors = {};\n    this.bundleInheritableRecordDefinitionDescriptors = {};\n    this.bundleProcessDefinitionDescriptors = {};\n    this.bundlePublicProcessDefinitionDescriptors = {};\n    this.bundleViewDefinitionDescriptor = {};\n    this.bundleNamedListDefinitionDescriptors = {};\n    this.bundleAssociationDefinitionDescriptors = {};\n    this.bundleChatbotDefinitionDescriptors = {};\n    this.bundlePublicRegularDataRecordDefinitionDescriptors = {};\n\n    this.rxRecordDefinitionDescriptors = null;\n    this.rxDataRecordDefinitionDescriptors = null;\n    this.rxStandardDataRecordDefinitionDescriptors = null;\n    this.allRecordDefinitionDescriptors = null;\n    this.allDataRecordDefinitionDescriptors = null;\n    this.allStandardDataRecordDefinitionDescriptors = null;\n    this.allRegularRecordDefinitionDescriptors = null;\n    this.allRegularDataRecordDefinitionDescriptors = null;\n    this.rxRegularRecordDefinitionDescriptors = null;\n    this.rxRegularDataRecordDefinitionDescriptors = null;\n    this.allInheritableRecordDefinitionDescriptors = null;\n    this.allProcessDefinitionDescriptors = null;\n    this.allPublicProcessDefinitionDescriptors = null;\n    this.allViewDefinitionDescriptors = null;\n    this.allNamedListDefinitionDescriptors = null;\n    this.allAssociationDefinitionDescriptors = null;\n    this.allChatbotDefinitionDescriptors = null;\n    this.allPublicRegularDataRecordDefinitionDescriptors = null;\n    this.rxPublicRegularDataRecordDefinitionDescriptors = null;\n  }\n}\n","export enum RxDefinitionPickerType {\n  View = 'view',\n  Record = 'record',\n  DataRecord = 'dataRecord',\n  StandardDataRecord = 'standardDataRecord',\n  RegularRecord = 'regularRecord',\n  RegularDataRecord = 'regularDataRecord',\n  PublicRegularDataRecord = 'publicRegularDataRecord',\n  InheritableRecord = 'inheritableRecord',\n  NamedList = 'namedList',\n  Association = 'association',\n  Process = 'process',\n  PublicProcess = 'publicProcess',\n  Chatbot = 'chatbot'\n}\n\nexport enum RxDefinitionPickerScope {\n  All = 'all',\n  Bundle = 'bundle',\n  Rx = 'rx'\n}\n\nexport const RX_DEFINITION_PICKER = {\n  definitionScopes: {\n    all: RxDefinitionPickerScope.All,\n    bundle: RxDefinitionPickerScope.Bundle,\n    rx: RxDefinitionPickerScope.Rx\n  },\n\n  definitionTypes: {\n    [RxDefinitionPickerType.View]: {\n      type: RxDefinitionPickerType.View,\n      allDefinitionsLabelKey: 'com.bmc.arsys.rx.client.definition-picker.all-views.label',\n      dataGetters: {\n        all: 'getAllViewDefinitionDescriptors',\n        bundle: 'getBundleViewDefinitionDescriptors'\n      }\n    },\n    [RxDefinitionPickerType.Record]: {\n      type: RxDefinitionPickerType.Record,\n      allDefinitionsLabelKey: 'com.bmc.arsys.rx.client.definition-picker.all-records.label',\n      dataGetters: {\n        all: 'getAllRecordDefinitionDescriptors',\n        rx: 'getRxRecordDefinitionDescriptors',\n        bundle: 'getBundleRecordDefinitionDescriptors'\n      }\n    },\n    [RxDefinitionPickerType.DataRecord]: {\n      type: RxDefinitionPickerType.DataRecord,\n      allDefinitionsLabelKey: 'com.bmc.arsys.rx.client.definition-picker.all-records.label',\n      dataGetters: {\n        all: 'getAllDataRecordDefinitionDescriptors',\n        rx: 'getRxDataRecordDefinitionDescriptors',\n        bundle: 'getBundleDataRecordDefinitionDescriptors'\n      }\n    },\n    [RxDefinitionPickerType.StandardDataRecord]: {\n      type: RxDefinitionPickerType.StandardDataRecord,\n      allDefinitionsLabelKey: 'com.bmc.arsys.rx.client.definition-picker.all-records.label',\n      dataGetters: {\n        all: 'getAllStandardDataRecordDefinitionDescriptors',\n        rx: 'getRxStandardDataRecordDefinitionDescriptors',\n        bundle: 'getBundleStandardDataRecordDefinitionDescriptors'\n      }\n    },\n    [RxDefinitionPickerType.RegularRecord]: {\n      type: RxDefinitionPickerType.RegularRecord,\n      allDefinitionsLabelKey: 'com.bmc.arsys.rx.client.definition-picker.all-records.label',\n      dataGetters: {\n        all: 'getAllRegularRecordDefinitionDescriptors',\n        rx: 'getRxRegularRecordDefinitionDescriptors',\n        bundle: 'getBundleRegularRecordDefinitionDescriptors'\n      }\n    },\n    [RxDefinitionPickerType.RegularDataRecord]: {\n      type: RxDefinitionPickerType.RegularDataRecord,\n      allDefinitionsLabelKey: 'com.bmc.arsys.rx.client.definition-picker.all-records.label',\n      dataGetters: {\n        all: 'getAllRegularDataRecordDefinitionDescriptors',\n        rx: 'getRxRegularDataRecordDefinitionDescriptors',\n        bundle: 'getBundleRegularDataRecordDefinitionDescriptors'\n      }\n    },\n    [RxDefinitionPickerType.PublicRegularDataRecord]: {\n      type: RxDefinitionPickerType.PublicRegularDataRecord,\n      allDefinitionsLabelKey: 'com.bmc.arsys.rx.client.definition-picker.all-records.label',\n      dataGetters: {\n        all: 'getAllPublicRegularDataRecordDefinitionDescriptors',\n        rx: 'getRxPublicRegularDataRecordDefinitionDescriptors',\n        bundle: 'getBundlePublicRegularDataRecordDefinitionDescriptors'\n      }\n    },\n    [RxDefinitionPickerType.InheritableRecord]: {\n      type: RxDefinitionPickerType.InheritableRecord,\n      allDefinitionsLabelKey: 'com.bmc.arsys.rx.client.definition-picker.all-records.label',\n      dataGetters: {\n        all: 'getAllInheritableRecordDefinitionDescriptors',\n        bundle: 'getBundleInheritableRecordDefinitionDescriptors'\n      }\n    },\n    [RxDefinitionPickerType.NamedList]: {\n      type: RxDefinitionPickerType.NamedList,\n      allDefinitionsLabelKey: 'com.bmc.arsys.rx.client.definition-picker.all-named-lists.label',\n      dataGetters: {\n        all: 'getAllNamedListDefinitionDescriptors',\n        bundle: 'getBundleNamedListDefinitionDescriptors'\n      }\n    },\n    [RxDefinitionPickerType.Association]: {\n      type: RxDefinitionPickerType.Association,\n      allDefinitionsLabelKey: 'com.bmc.arsys.rx.client.definition-picker.all-associations.label',\n      dataGetters: {\n        all: 'getAllAssociationDefinitionDescriptors',\n        bundle: 'getBundleAssociationDefinitionDescriptors'\n      }\n    },\n    [RxDefinitionPickerType.Process]: {\n      type: RxDefinitionPickerType.Process,\n      allDefinitionsLabelKey: 'com.bmc.arsys.rx.client.definition-picker.all-processes.label',\n      dataGetters: {\n        all: 'getAllProcessDefinitionDescriptors',\n        bundle: 'getBundleProcessDefinitionDescriptors'\n      }\n    },\n\n    [RxDefinitionPickerType.PublicProcess]: {\n      type: RxDefinitionPickerType.Process,\n      allDefinitionsLabelKey: 'com.bmc.arsys.rx.client.definition-picker.all-processes.label',\n      dataGetters: {\n        all: 'getAllPublicProcessDefinitionDescriptors',\n        bundle: 'getBundlePublicProcessDefinitionDescriptors'\n      }\n    },\n\n    [RxDefinitionPickerType.Chatbot]: {\n      type: RxDefinitionPickerType.Chatbot,\n      allDefinitionsLabelKey: 'com.bmc.arsys.rx.client.definition-picker.all-chatbots.label',\n      dataGetters: {\n        all: 'getAllChatbotDefinitionDescriptors',\n        bundle: 'getBundleChatbotDefinitionDescriptors'\n      }\n    }\n  }\n};\n","import {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  HostListener,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n  SimpleChanges,\n  ViewChild\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { AdaptDropdownDirective, AdaptRxTextfieldComponent } from '@bmc-ux/adapt-angular';\nimport {\n  IBundleDescriptor,\n  IFormControlComponent,\n  IFormFocusable,\n  RX_BUNDLE,\n  RxBundleCacheService,\n  RxDefinitionNameService,\n  RxGlobalCacheService\n} from '@helix/platform/shared/api';\nimport { RxStringService } from '@helix/platform/utils';\nimport { find, get, throttle } from 'lodash';\nimport { Observable, of, ReplaySubject, Subject } from 'rxjs';\nimport { debounceTime, filter, first, map, switchMap, takeUntil } from 'rxjs/operators';\nimport { ValueAccessor } from '../form-builder/value-accessor';\nimport { RxDefinitionPickerCacheService } from './definition-picker-cache.service';\nimport { RX_DEFINITION_PICKER, RxDefinitionPickerScope } from './definition-picker.types';\nimport { IBundleDefinition, IBundleWithDefinitions } from './interfaces/bundle-with-definitions.interface';\nimport { IDefinitionDescriptor } from './interfaces/definition-descriptor.interface';\nimport { IDefinitionPickerComponentOptions } from './interfaces/definition-picker-component-options.interface';\nimport { IDefinitionProperties } from './interfaces/definition-properties.interface';\nimport { IDefinitionTypeDescriptorProperties } from './interfaces/definition-type-descriptor-properties.interface';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'rx-definition-picker',\n  templateUrl: './definition-picker.component.html',\n  styleUrls: ['./definition-picker.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: RxDefinitionPickerComponent,\n      multi: true\n    }\n  ]\n})\nexport class RxDefinitionPickerComponent\n  extends ValueAccessor<string>\n  implements IFormControlComponent, IFormFocusable, OnInit, OnDestroy, OnChanges\n{\n  @Input()\n  options: IDefinitionPickerComponentOptions;\n\n  @Input()\n  isDisabled = false;\n\n  @ViewChild('dropdownButton', { static: true })\n  dropdownButton: ElementRef;\n\n  @ViewChild('dropdownMenuHeader', { static: false })\n  dropdownMenuHeader: ElementRef;\n\n  @ViewChild('definitionPicker', { static: true })\n  dropdown: AdaptDropdownDirective;\n\n  config: IDefinitionPickerComponentOptions;\n\n  @ViewChild('definitionTree', { static: false })\n  definitionTreeElementRef: ElementRef;\n\n  @ViewChild('searchField', { static: false })\n  searchField: AdaptRxTextfieldComponent;\n\n  searchMode = false;\n  searchQuery = '';\n  bundles$: Observable<IBundleWithDefinitions[]>;\n  dropdownWidth: number;\n  activeDefinitionScope: RxDefinitionPickerScope;\n  definitionScopes: RxDefinitionPickerScope[];\n  currentBundleFriendlyName$: Observable<string>;\n  allDefinitionsLabel: string;\n\n  onPickerToggle$ = new Subject<boolean>();\n\n  private searchScope: RxDefinitionPickerScope;\n  private previousDefinitionScope: RxDefinitionPickerScope;\n  private definitionTypeDescriptor: IDefinitionTypeDescriptorProperties;\n  private bundleId = '';\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  private globalDefinitionsLabel: string = this.translateService.instant(\n    'com.bmc.arsys.rx.client.common.global-items.label'\n  );\n\n  private defaultOptions: Partial<IDefinitionPickerComponentOptions> = {\n    availableDefinitionPickerStates: {\n      definitionButtonsGroups: [RxDefinitionPickerScope.Bundle, RxDefinitionPickerScope.All],\n      search: RxDefinitionPickerScope.All\n    },\n    texts: {\n      placeholder: this.translateService.instant('com.bmc.arsys.rx.client.common.select.label'),\n      noBundleDeployed: this.translateService.instant(\n        'com.bmc.arsys.rx.client.definition-picker.no-bundle-deployed.label'\n      ),\n      noDefinitionsFound: this.translateService.instant(\n        'com.bmc.arsys.rx.client.definition-picker.no-definitions-found.label'\n      )\n    }\n  };\n\n  private scrollHandlerThrottled = throttle(this.scrollHandler.bind(this), 100);\n\n  constructor(\n    private renderer: Renderer2,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxDefinitionPickerCacheService: RxDefinitionPickerCacheService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxStringService: RxStringService,\n    private translateService: TranslateService,\n    private changeDetectorRef: ChangeDetectorRef\n  ) {\n    super();\n  }\n\n  @HostListener('window:resize')\n  onWindowResize(): void {\n    if (this.dropdown.isOpen()) {\n      this.dropdown.close();\n    }\n  }\n\n  ngOnInit(): void {\n    this.config = {\n      ...this.defaultOptions,\n      ...this.options,\n      texts: { ...this.defaultOptions.texts, ...this.options.texts }\n    };\n\n    this.rxDefinitionPickerCacheService.registerConsumer();\n    this.bundleId = this.config.bundleId || this.rxBundleCacheService.bundleId;\n    this.getCurrentBundleFriendlyName();\n    this.definitionTypeDescriptor = RX_DEFINITION_PICKER.definitionTypes[this.config.definitionType];\n    this.definitionScopes = this.config.availableDefinitionPickerStates.definitionButtonsGroups;\n    this.searchScope = this.config.availableDefinitionPickerStates.search;\n    this.allDefinitionsLabel = this.translateService.instant(this.definitionTypeDescriptor.allDefinitionsLabelKey);\n\n    this.onPickerToggle$\n      .pipe(\n        filter((isOpen) => Boolean(isOpen)),\n        first(),\n        takeUntil(this.destroyed$)\n      )\n      .subscribe((isOpen) => {\n        this.getDefinitions(this.definitionScopes[0]);\n      });\n\n    this.onPickerToggle$\n      .pipe(\n        filter((isOpen) => !isOpen),\n        takeUntil(this.destroyed$)\n      )\n      .subscribe(() => this.resetPickerState());\n\n    window.addEventListener('scroll', this.scrollHandlerThrottled, true);\n  }\n\n  ngOnDestroy(): void {\n    this.rxDefinitionPickerCacheService.unRegisterConsumer();\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n\n    window.removeEventListener('scroll', this.scrollHandlerThrottled, true);\n  }\n\n  private scrollHandler(event: Event): void {\n    if (\n      this.dropdown.isOpen() &&\n      get(event.target, 'style.visibility') !== 'hidden' &&\n      !(\n        event.target === this.definitionTreeElementRef?.nativeElement ||\n        event.target === this.searchField?.inputRef.nativeElement\n      )\n    ) {\n      this.dropdown.close();\n    }\n  }\n\n  getDefinitionProperties(definitionDescriptors: IDefinitionDescriptor[]): Observable<IDefinitionProperties[]> {\n    return this.rxGlobalCacheService.getLicensedBundleDescriptors().pipe(\n      map((bundleDescriptors: IBundleDescriptor[]) => {\n        return definitionDescriptors.map((definitionDescriptor) => {\n          const bundleId = this.rxDefinitionNameService.getBundleId(definitionDescriptor.name);\n          const bundleDescriptor = find(bundleDescriptors, { id: bundleId });\n\n          const bundleName = bundleDescriptor\n            ? bundleDescriptor.friendlyName || bundleDescriptor.id\n            : bundleId || this.globalDefinitionsLabel;\n\n          return {\n            bundleName,\n            bundleId,\n            scope: definitionDescriptor.scope,\n            name: definitionDescriptor.name,\n            displayName: this.rxDefinitionNameService.getDisplayName(definitionDescriptor.name)\n          };\n        });\n      })\n    );\n  }\n\n  groupDefinitionsByBundle(definitionProperties: IDefinitionProperties[]): IBundleWithDefinitions[] {\n    const isBundleScopeSelected = this.activeDefinitionScope === RxDefinitionPickerScope.Bundle;\n    let hasExpandedBundle = false;\n\n    const bundleGroups = definitionProperties\n      .sort((a, b) => a.displayName.localeCompare(b.displayName))\n      .reduce((bundles, currentDefinitionProperties) => {\n        let bundle = bundles.find((bundleItem) => bundleItem.name === currentDefinitionProperties.bundleName);\n        const isSelectedDefinition = this.value === currentDefinitionProperties.name;\n\n        if (!bundle) {\n          bundle = {\n            id: currentDefinitionProperties.bundleId,\n            name: currentDefinitionProperties.bundleName,\n            isPublic: currentDefinitionProperties.scope === RX_BUNDLE.definitionScopeTypes.public,\n            definitions: [],\n            isExpanded: false\n          };\n\n          bundles.push(bundle);\n        }\n\n        if (isSelectedDefinition) {\n          bundle.isExpanded = true;\n          hasExpandedBundle = true;\n        }\n\n        bundle.definitions.push({\n          name: currentDefinitionProperties.name,\n          displayName: currentDefinitionProperties.displayName,\n          isPublic: currentDefinitionProperties.scope === RX_BUNDLE.definitionScopeTypes.public\n        });\n\n        return bundles;\n      }, [])\n      .sort((firstBundle: IBundleWithDefinitions, secondBundle: IBundleWithDefinitions): number => {\n        if (\n          (this.activeDefinitionScope === RxDefinitionPickerScope.Bundle && this.bundleId === firstBundle.id) ||\n          firstBundle.name === this.globalDefinitionsLabel\n        ) {\n          return -1;\n        }\n\n        if (\n          (this.activeDefinitionScope === RxDefinitionPickerScope.Bundle && this.bundleId === secondBundle.id) ||\n          secondBundle.name === this.globalDefinitionsLabel\n        ) {\n          return 1;\n        }\n\n        return firstBundle.name.localeCompare(secondBundle.name);\n      });\n\n    if (isBundleScopeSelected && !hasExpandedBundle && bundleGroups[0]) {\n      bundleGroups[0].isExpanded = true;\n    }\n\n    return bundleGroups;\n  }\n\n  getDefinitions(definitionScope: RxDefinitionPickerScope): Observable<IBundleWithDefinitions[]> {\n    this.activeDefinitionScope = definitionScope;\n\n    const dataGetter = this.definitionTypeDescriptor.dataGetters[definitionScope];\n\n    let definitions$;\n\n    if (definitionScope === RX_DEFINITION_PICKER.definitionScopes.bundle) {\n      definitions$ = this.rxGlobalCacheService.getBundleDescriptor(this.bundleId).pipe(\n        switchMap((bundle) => {\n          return bundle ? this.rxDefinitionPickerCacheService[dataGetter](this.bundleId) : of([]);\n        })\n      );\n    } else {\n      definitions$ = this.rxDefinitionPickerCacheService[dataGetter]();\n    }\n\n    return (this.bundles$ = definitions$.pipe(\n      switchMap((descriptors: IDefinitionDescriptor[]) => this.getDefinitionProperties(descriptors)),\n      map((definitionsProperties: IDefinitionProperties[]) => this.groupDefinitionsByBundle(definitionsProperties))\n    ));\n  }\n\n  selectDefinition(definitionName: string): void {\n    this.dropdown.close();\n\n    this.setValue(definitionName).then(() => {\n      // additional reset after value set to update expanded sections\n      this.resetPickerState();\n    });\n  }\n\n  clearDefinition(e: Event): void {\n    e.stopPropagation();\n\n    this.setValue(null);\n  }\n\n  private setValue(newValue: string): Promise<boolean> {\n    if (this.value !== newValue) {\n      if (this.options.beforeValueChange) {\n        return this.options.beforeValueChange(this.value, newValue).then((response) => {\n          if (response) {\n            this.value = newValue;\n          }\n\n          return response;\n        });\n      } else {\n        this.value = newValue;\n\n        return Promise.resolve(true);\n      }\n    } else {\n      return Promise.resolve(false);\n    }\n  }\n\n  setDropdownWidth(): void {\n    setTimeout(() => {\n      const dropdownButton = this.renderer.selectRootElement(this.dropdownButton.nativeElement, true);\n      const dropdownMenuHeader = this.renderer.selectRootElement(this.dropdownMenuHeader.nativeElement, true);\n\n      // 14px - combined left and right padding around the buttons in the header\n      // 2px - border\n      this.dropdownWidth = Math.max(dropdownButton.clientWidth, dropdownMenuHeader.clientWidth + 14) + 2;\n\n      // This is needed when definition picker is used in a component with OnPush change detection strategy\n      // TODO: this needs to be revisited when OnPush strategy is applied to the definition picker itself.\n      this.changeDetectorRef.markForCheck();\n    });\n  }\n\n  enableSearchMode(searchQuery?: string): void {\n    this.searchMode = true;\n    this.previousDefinitionScope = this.activeDefinitionScope;\n\n    if (searchQuery) {\n      this.searchQuery = searchQuery;\n      this.search(searchQuery);\n    } else {\n      this.getDefinitions(this.searchScope);\n    }\n  }\n\n  disableSearchMode(): void {\n    this.resetPickerState();\n  }\n\n  resetPickerState(): void {\n    this.getDefinitions(this.searchMode ? this.previousDefinitionScope : this.activeDefinitionScope);\n    this.searchMode = false;\n    this.searchQuery = '';\n  }\n\n  search(searchQuery: string): Observable<IBundleWithDefinitions[]> {\n    return (this.bundles$ = this.getDefinitions(this.searchScope).pipe(\n      debounceTime(250),\n      map((descriptors: IBundleWithDefinitions[]) =>\n        descriptors\n          .filter((descriptor) => {\n            return searchQuery.includes(':')\n              ? this.rxStringService.caseInsensitiveSearch(descriptor.name, this.getBundleNameSearchQuery(searchQuery))\n              : true;\n          })\n          .map((descriptor) => ({\n            ...descriptor,\n            definitions: descriptor.definitions.filter((definition) => {\n              return this.rxStringService.caseInsensitiveSearch(\n                definition.displayName,\n                this.getDefinitionNameSearchQuery(searchQuery)\n              );\n            })\n          }))\n          .filter((descriptor) => descriptor.definitions.length > 0)\n          .map((descriptor) => ({\n            ...descriptor,\n            isExpanded: true\n          }))\n      )\n    ));\n  }\n\n  focus(): void {\n    this.renderer.selectRootElement(this.dropdownButton.nativeElement, true).click();\n  }\n\n  @HostListener('window:paste', ['$event'])\n  onPaste(event: ClipboardEvent): void {\n    const pastedText = event.clipboardData.getData('text/plain');\n\n    if (this.dropdown.isOpen() && !this.searchMode && pastedText) {\n      this.enableSearchMode(pastedText);\n    }\n  }\n\n  @HostListener('window:keypress', ['$event'])\n  onKeypress(event: KeyboardEvent): void {\n    if (this.dropdown.isOpen() && !this.searchMode && event.key) {\n      this.enableSearchMode(event.key);\n    }\n  }\n\n  trackByBundle(index: number, bundle: IBundleWithDefinitions): string {\n    return bundle.id;\n  }\n\n  trackByDefinition(index: number, bundle: IBundleDefinition): string {\n    return bundle.name;\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.options && !changes.options.firstChange) {\n      if (changes.options.currentValue.bundleId !== changes.options.previousValue.bundleId) {\n        this.bundleId = this.options.bundleId;\n        this.getCurrentBundleFriendlyName();\n        this.getDefinitions(this.definitionScopes[0]);\n      } else if (changes.options.currentValue.definitionType !== changes.options.previousValue.definitionType) {\n        this.definitionTypeDescriptor =\n          RX_DEFINITION_PICKER.definitionTypes[changes.options.currentValue.definitionType];\n\n        this.allDefinitionsLabel = this.translateService.instant(this.definitionTypeDescriptor.allDefinitionsLabelKey);\n\n        this.getDefinitions(this.definitionScopes[0]);\n\n        this.value = null;\n      }\n    }\n  }\n\n  getCurrentBundleFriendlyName(): void {\n    this.currentBundleFriendlyName$ = this.rxGlobalCacheService\n      .getBundleDescriptor(this.bundleId)\n      .pipe(map((descriptor: IBundleDescriptor) => descriptor?.friendlyName || this.config.texts.noBundleDeployed));\n  }\n\n  getBundleNameSearchQuery(searchQuery: string): string {\n    return this.rxDefinitionNameService.getBundleId(searchQuery) || searchQuery;\n  }\n\n  getDefinitionNameSearchQuery(searchQuery: string): string {\n    return this.rxDefinitionNameService.getDisplayName(searchQuery);\n  }\n}\n","<adapt-rx-control-label\n  [label]=\"options.label\"\n  [tooltip]=\"options.tooltip\"\n  [showRequiredLabel]=\"!!options.required\"\n></adapt-rx-control-label>\n\n<div\n  class=\"dropdown\"\n  adaptDropdown\n  appendToBody=\"true\"\n  [autoClose]=\"'outside'\"\n  (onOpen)=\"onPickerToggle$.next(true);setDropdownWidth()\"\n  (onClose)=\"onPickerToggle$.next(false)\"\n  [autoFocusFirst]=\"false\"\n  #definitionPicker=\"adaptDropdown\"\n>\n  <button\n    rx-id=\"toggle-button\"\n    #dropdownButton\n    class=\"btn btn-secondary\"\n    adaptDropdownToggle\n    type=\"button\"\n    [disabled]=\"isDisabled\"\n  >\n    <span class=\"rx-selected-item\" [title]=\"value || ''\">\n      {{ (value | rxDefinitionNamePipe) || config.texts.placeholder }}\n    </span>\n\n    <span\n      rx-id=\"clear-button\"\n      class=\"d-icon-cross_adapt btn-link\"\n      (click)=\"clearDefinition($event)\"\n      *ngIf=\"value && !isDisabled\"\n    >\n    </span>\n  </button>\n\n  <div class=\"dropdown-menu\" [style.width.px]=\"dropdownWidth\" adaptDropdownMenu>\n    <div class=\"rx-dropdown-panel-header\" [ngClass]=\"searchMode ? 'pl-1' : 'pr-1'\">\n      <div class=\"d-flex\" *ngIf=\"!searchMode; else searchControls\" #dropdownMenuHeader>\n        <div class=\"btn-group bundle-btn-group\">\n          <button\n            type=\"button\"\n            adapt-button\n            *ngFor=\"let definitionScope of definitionScopes\"\n            class=\"rx-header-button\"\n            [btn-type]=\"activeDefinitionScope === definitionScope ? 'primary' : 'secondary'\"\n            size=\"xtra-small\"\n            (click)=\"getDefinitions(definitionScope)\"\n          >\n            <span>{{ definitionScope === 'bundle' ? (currentBundleFriendlyName$ | async) : allDefinitionsLabel }}</span>\n          </button>\n        </div>\n\n        <button\n          type=\"button\"\n          rx-id=\"search-button\"\n          class=\"d-icon-search btn btn-sm btn-link ml-1\"\n          *ngIf=\"!searchMode\"\n          (click)=\"$event.stopPropagation(); enableSearchMode()\"\n        ></button>\n      </div>\n    </div>\n\n    <ul #definitionTree class=\"rx-bundles\" *ngIf=\"dropdownWidth && bundles$ | async as bundles; else busyLoader\">\n      <adapt-empty-state\n        class=\"d-block mt-5\"\n        *ngIf=\"!bundles.length\"\n        type=\"search\"\n        [label]=\"config.texts.noDefinitionsFound\"\n      ></adapt-empty-state>\n\n      <li\n        class=\"rx-bundle\"\n        *ngFor=\"let bundle of bundles; trackBy: trackByBundle\"\n        (click)=\"bundle.isExpanded = !bundle.isExpanded\"\n      >\n        <span\n          rx-id=\"expand-bundle-button\"\n          class=\"expand-arrow d-icon-angle_right\"\n          [class.open]=\"bundle.isExpanded\"\n        ></span>\n\n        <adapt-highlight [result]=\"bundle.name\" [term]=\"searchQuery\"></adapt-highlight>\n\n        <div class=\"rx-definitions\" *ngIf=\"bundle.isExpanded\">\n          <button\n            class=\"dropdown-item\"\n            (click)=\"$event.stopPropagation(); selectDefinition(definition.name)\"\n            *ngFor=\"let definition of bundle.definitions; trackBy: trackByDefinition\"\n            [class.active]=\"value === definition.name\"\n            [title]=\"definition.name\"\n            type=\"button\"\n          >\n            <span *ngIf=\"!definition.isPublic\">* </span>\n\n            <adapt-highlight [result]=\"definition.displayName\" [term]=\"searchQuery\"></adapt-highlight>\n          </button>\n        </div>\n      </li>\n    </ul>\n  </div>\n</div>\n\n<ng-template #busyLoader>\n  <rx-busy-indicator></rx-busy-indicator>\n</ng-template>\n\n<ng-template #searchControls>\n  <button\n    type=\"button\"\n    rx-id=\"back-button\"\n    class=\"d-icon-arrow_left btn btn-sm btn-link mr-1\"\n    (click)=\"$event.stopPropagation(); disableSearchMode()\"\n  ></button>\n\n  <adapt-rx-textfield\n    #searchField\n    (ngModelChange)=\"search($event)\"\n    [autofocus]=\"true\"\n    [(ngModel)]=\"searchQuery\"\n    size=\"sm\"\n  ></adapt-rx-textfield>\n</ng-template>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport {\n  AdaptButtonModule,\n  AdaptDropdownModule,\n  AdaptEmptyStateModule,\n  AdaptHighlightModule,\n  AdaptRxLabelModule,\n  AdaptRxTextfieldModule\n} from '@bmc-ux/adapt-angular';\nimport { RxBusyIndicatorModule } from '@helix/platform/ui-kit';\nimport { RxDefinitionPickerCacheService } from './definition-picker-cache.service';\nimport { RxDefinitionPickerComponent } from './definition-picker.component';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    AdaptHighlightModule,\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RxBusyIndicatorModule,\n    AdaptDropdownModule.forRoot(),\n    AdaptButtonModule,\n    RxDefinitionModule,\n    AdaptRxLabelModule,\n    AdaptRxTextfieldModule,\n    AdaptEmptyStateModule,\n    TranslateModule\n  ],\n  declarations: [RxDefinitionPickerComponent],\n  exports: [RxDefinitionPickerComponent],\n  providers: [RxDefinitionPickerCacheService]\n})\nexport class RxDefinitionPickerModule {}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'rx-select-expression-dropdown',\n  templateUrl: './select-expression-dropdown.component.html',\n  styleUrls: ['./select-expression-dropdown.component.scss']\n})\nexport class RxSelectExpressionDropdownComponent {}\n","","import { NgModule } from '@angular/core';\n\nimport { RxSelectExpressionDropdownComponent } from './select-expression-dropdown.component';\n\n@NgModule({\n  declarations: [RxSelectExpressionDropdownComponent],\n  imports: [],\n  exports: [RxSelectExpressionDropdownComponent]\n})\nexport class RxSelectExpressionDropdownModule {}\n","export const RX_SELECT_EXPRESSION_DROPDOWN = {\n  dropDownOptionsValue: {\n    select: 'Select',\n    expression: 'Expression'\n  },\n\n  dropDownDisplayValue: {\n    buildExpression: 'Build Expression',\n    editExpression: 'Edit Expression'\n  }\n};\n","export const RX_DESIGNER_CANVAS = {\n  paperOptions: {\n    backgroundColor: '#FFFFFF',\n\n    backgroundImage:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAHUlEQVQYV2NkYGAwBuKzQIwXMBJSAJMfVUidcAQAnUQBC6jEGBUAAAAASUVORK5CYII=',\n\n    height: 800,\n    width: 1000\n  }\n};\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { CdkDragDrop } from '@angular/cdk/drag-drop/drag-events';\n\nimport { RxCommandManagerService } from '@helix/platform/shared/api';\n\nimport { IDesignerCanvasConfiguration } from './designer-canvas.interfaces';\nimport { RX_DESIGNER_CANVAS } from './designer-canvas.constant';\n\ndeclare var joint: any;\n\n@Component({\n  selector: 'rx-designer-canvas',\n  templateUrl: './designer-canvas.component.html',\n  styleUrls: ['./designer-canvas.component.scss']\n})\nexport class RxDesignerCanvasComponent implements OnInit, AfterViewInit, OnChanges {\n  @Input()\n  configuration: IDesignerCanvasConfiguration;\n\n  // TODO-VS: update types\n  @Input()\n  graph: any;\n\n  // TODO-VS: update types\n  @Input()\n  droppedElement: CdkDragDrop<any>;\n\n  @Output()\n  elementSelected = new EventEmitter<string>();\n\n  private commandManager: any;\n  private paper: any;\n  private paperScroller: any;\n\n  constructor(private elementRef: ElementRef, private rxCommandManagerService: RxCommandManagerService) {}\n\n  ngOnInit(): void {\n    this.commandManager = new joint.dia.CommandManager({\n      graph: this.graph,\n      cmdBeforeAdd: (cmdName, cell, graph, options) => {\n        return this.commandManager.enabled && !options?.ignoreCommandManager;\n      }\n    });\n\n    this.rxCommandManagerService.set(this.commandManager);\n\n    this.paper = new joint.dia.Paper({\n      defaultLink: new joint.shapes.bpmn.Flow(), // TODO-VS: update defaultLink configuration\n      embeddingMode: true,\n      gridSize: 5,\n      height: RX_DESIGNER_CANVAS.paperOptions.height,\n      interactive: this.configuration.interactive,\n      model: this.graph,\n      width: RX_DESIGNER_CANVAS.paperOptions.width,\n\n      restrictTranslate: function (elementView) {\n        // TODO-VS: implement restrictTranslate logic\n\n        return false;\n      },\n\n      validateEmbedding: function (childView, parentView) {\n        // TODO-VS: implement validateEmbedding logic\n\n        return true;\n      }\n    });\n\n    this.paper.drawBackground({\n      color: RX_DESIGNER_CANVAS.paperOptions.backgroundColor,\n      image: RX_DESIGNER_CANVAS.paperOptions.backgroundImage,\n      repeat: 'repeat',\n      position: {\n        x: -1,\n        y: -1\n      }\n    });\n\n    this.paperScroller = new joint.ui.PaperScroller({\n      autoResizePaper: true,\n      cursor: 'grab',\n      padding: 32,\n      paper: this.paper\n    });\n\n    this.paper.on('blank:pointerdown', (evt) => {\n      this.paperScroller.startPanning(evt);\n\n      this.elementSelected.emit(null);\n    });\n\n    this.paper.on('cell:pointerup', (cellView, evt) => {\n      if (cellView) {\n        this.elementSelected.emit(cellView.model.prop('elementModel/guid'));\n      }\n    });\n\n    if (this.configuration.interactive) {\n      this.commandManager.enable = () => {\n        this.commandManager.enabled = true;\n      };\n\n      this.commandManager.disable = () => {\n        this.commandManager.enabled = false;\n      };\n\n      this.commandManager.enable();\n\n      this.paper.on('cell:expand:begin cell:collapse:begin', () => {\n        this.commandManager.disable();\n      });\n\n      this.paper.on('cell:expand:done cell:collapse:done', (cellView) => {\n        if (!cellView.model.get('inCallActivity')) {\n          this.commandManager.enable();\n        }\n      });\n    }\n\n    this.paperScroller.render();\n  }\n\n  ngAfterViewInit(): void {\n    this.elementRef.nativeElement.appendChild(this.paperScroller.el);\n    this.paperScroller.center();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.droppedElement?.currentValue) {\n      this.addElementToCanvas(changes.droppedElement.currentValue);\n    }\n  }\n\n  hasRedo(): boolean {\n    return this.commandManager.hasRedo();\n  }\n\n  hasUndo(): boolean {\n    return this.commandManager.hasUndo();\n  }\n\n  onClearCanvas(): void {\n    // TODO-VS: add clear logic\n  }\n\n  onCopy(): void {\n    // TODO-VS: add copy logic\n  }\n\n  onCut(): void {\n    // TODO-VS: add cut logic\n  }\n\n  onExportToPng(): void {\n    // TODO-VS: add export logic\n  }\n\n  onPaste(): void {\n    // TODO-VS: add paste logic\n  }\n\n  onPrint(): void {\n    // TODO-VS: add print logic\n  }\n\n  onRedo(): void {\n    this.commandManager.redo();\n  }\n\n  onUndo(): void {\n    this.commandManager.undo();\n  }\n\n  onZoomIn(): void {\n    // TODO-VS: add zoom in logic\n  }\n\n  onZoomOut(): void {\n    // TODO-VS: add zoom out logic\n  }\n\n  // TODO-VS: update types\n  private addElementToCanvas(dropData: CdkDragDrop<any>): void {\n    const paperDropArea = this.getCanvasDropArea(this.paper.$el);\n    const localPoint = this.paper.clientToLocalPoint({ x: dropData.dropPoint.x, y: dropData.dropPoint.y });\n\n    if (this.canDrop(paperDropArea, localPoint)) {\n      const elementService = this.configuration.elementRegistry.get(dropData.item.data.value.type).elementService;\n\n      const droppedElementShape = elementService.getShape({\n        position: localPoint,\n        ...dropData.item.data.value\n      });\n\n      this.graph.addCell(droppedElementShape);\n\n      setTimeout(() => {\n        this.elementSelected.emit(droppedElementShape.prop('elementModel/guid'));\n      });\n    }\n  }\n\n  // TODO-VS: update types\n  private canDrop(paperDropArea: any, localPoint: any): boolean {\n    return (\n      localPoint.x > paperDropArea.x.start &&\n      localPoint.x < paperDropArea.x.end &&\n      localPoint.y > paperDropArea.y.start &&\n      localPoint.y < paperDropArea.y.end\n    );\n  }\n\n  // TODO-VS: update types\n  private getCanvasDropArea(el: any): any {\n    const offset = el.offset();\n    const innerWidth = el.innerWidth();\n    const innerHeight = el.innerHeight();\n\n    return {\n      x: {\n        start: offset.left,\n        end: offset.left + innerWidth\n      },\n      y: {\n        start: offset.top,\n        end: offset.top + innerHeight\n      }\n    };\n  }\n}\n","<div *ngIf=\"configuration.showToolbar\" class=\"rx-designer-toolbar\">\n  <!-- TODO-VS: Add custom actions -->\n\n  <button\n    *ngIf=\"configuration.interactive\"\n    class=\"d-icon-undo\"\n    type=\"button\"\n    adapt-button\n    btn-type=\"tertiary\"\n    size=\"large\"\n    adaptTooltip=\"{{ 'com.bmc.arsys.rx.client.common.undo.label' | translate }}\"\n    placement=\"bottom\"\n    rx-id=\"undo-button\"\n    [disabled]=\"!hasUndo()\"\n    (click)=\"onUndo()\"\n  ></button>\n\n  <button\n    *ngIf=\"configuration.interactive\"\n    class=\"d-icon-redo\"\n    type=\"button\"\n    adapt-button\n    btn-type=\"tertiary\"\n    size=\"large\"\n    adaptTooltip=\"{{ 'com.bmc.arsys.rx.client.common.redo.label' | translate }}\"\n    placement=\"bottom\"\n    rx-id=\"redo-button\"\n    [disabled]=\"!hasRedo()\"\n    (click)=\"onRedo()\"\n  ></button>\n\n  <button\n    *ngIf=\"!configuration.isReadOnly && configuration.enableMultiSelection\"\n    class=\"d-icon-scissors\"\n    type=\"button\"\n    adapt-button\n    btn-type=\"tertiary\"\n    size=\"large\"\n    adaptTooltip=\"{{ 'com.bmc.arsys.rx.client.common.cut.label' | translate }}\"\n    placement=\"bottom\"\n    rx-id=\"cut-button\"\n    (click)=\"onCut()\"\n  ></button>\n\n  <button\n    *ngIf=\"!configuration.isReadOnly && configuration.enableMultiSelection\"\n    class=\"d-icon-files_copy_o\"\n    type=\"button\"\n    adapt-button\n    btn-type=\"tertiary\"\n    size=\"large\"\n    adaptTooltip=\"{{ 'com.bmc.arsys.rx.client.common.copy.label' | translate }}\"\n    placement=\"bottom\"\n    rx-id=\"copy-button\"\n    (click)=\"onCopy()\"\n  ></button>\n\n  <button\n    *ngIf=\"!configuration.isReadOnly && configuration.enableMultiSelection\"\n    class=\"d-icon-files_text\"\n    type=\"button\"\n    adapt-button\n    btn-type=\"tertiary\"\n    size=\"large\"\n    adaptTooltip=\"{{ 'com.bmc.arsys.rx.client.common.paste.label' | translate }}\"\n    placement=\"bottom\"\n    rx-id=\"paste-button\"\n    (click)=\"onPaste()\"\n  ></button>\n\n  <button\n    class=\"d-icon-search_plus\"\n    type=\"button\"\n    adapt-button\n    btn-type=\"tertiary\"\n    size=\"large\"\n    adaptTooltip=\"{{ 'com.bmc.arsys.rx.client.common.zoom-in.label' | translate }}\"\n    placement=\"bottom\"\n    rx-id=\"zoom-in-button\"\n    (click)=\"onZoomIn()\"\n  ></button>\n\n  <button\n    class=\"d-icon-search_minus\"\n    type=\"button\"\n    adapt-button\n    btn-type=\"tertiary\"\n    size=\"large\"\n    adaptTooltip=\"{{ 'com.bmc.arsys.rx.client.common.zoom-out.label' | translate }}\"\n    placement=\"bottom\"\n    rx-id=\"zoom-out-button\"\n    (click)=\"onZoomOut()\"\n  ></button>\n\n  <button\n    class=\"d-icon-printer\"\n    type=\"button\"\n    adapt-button\n    btn-type=\"tertiary\"\n    size=\"large\"\n    adaptTooltip=\"{{ 'com.bmc.arsys.rx.client.common.print.label' | translate }}\"\n    placement=\"bottom\"\n    rx-id=\"print-button\"\n    (click)=\"onPrint()\"\n  ></button>\n\n  <button\n    *ngIf=\"configuration.interactive\"\n    class=\"d-icon-cross_square\"\n    type=\"button\"\n    adapt-button\n    btn-type=\"tertiary\"\n    size=\"large\"\n    adaptTooltip=\"{{ 'com.bmc.arsys.rx.client.common.clear-canvas.label' | translate }}\"\n    placement=\"bottom\"\n    rx-id=\"clear-canvas-button\"\n    (click)=\"onClearCanvas()\"\n  ></button>\n\n  <button\n    class=\"d-icon-file_arrow_png_o\"\n    type=\"button\"\n    adapt-button\n    btn-type=\"tertiary\"\n    size=\"large\"\n    adaptTooltip=\"{{ 'com.bmc.arsys.rx.client.common.export-to-png.label' | translate }}\"\n    placement=\"bottom\"\n    rx-id=\"export-to-png-button\"\n    (click)=\"onExportToPng()\"\n  ></button>\n\n  <!-- TODO-VS: Add grid size slider, snaplines checkbox and custom actions -->\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AdaptButtonModule, AdaptTooltipModule } from '@bmc-ux/adapt-angular';\n\nimport { RxDesignerCanvasComponent } from './designer-canvas.component';\n\n// TODO-VS: mode to shared folder after jointJS is updated\n@NgModule({\n  declarations: [RxDesignerCanvasComponent],\n  imports: [AdaptButtonModule, AdaptTooltipModule, CommonModule, TranslateModule],\n  exports: [RxDesignerCanvasComponent]\n})\nexport class RxDesignerCanvasModule {}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { IBreadcrumbItem } from '@helix/platform/ui-kit';\n\n@Component({\n  selector: 'rx-designer-header',\n  templateUrl: './designer-header.component.html',\n  styleUrls: ['./designer-header.component.scss']\n})\nexport class RxDesignerHeaderComponent {\n  @Input()\n  bundleName: string;\n\n  @Input()\n  breadcrumbItems: IBreadcrumbItem[] = [];\n\n  @Input()\n  isDesignMode = true;\n\n  @Input()\n  isPreviewAvailable = false;\n\n  @Input()\n  isSaveButtonDisabled = false;\n\n  @Output()\n  breadcrumbSelected: EventEmitter<IBreadcrumbItem> = new EventEmitter<IBreadcrumbItem>();\n\n  @Output()\n  toggleDesignMode: EventEmitter<void> = new EventEmitter();\n\n  @Output()\n  showPreview: EventEmitter<void> = new EventEmitter();\n\n  @Output()\n  save: EventEmitter<void> = new EventEmitter();\n\n  @Output()\n  closeDesigner: EventEmitter<void> = new EventEmitter<void>();\n}\n","<div class=\"header-column-left\">\n  <span class=\"bundle-name\">{{ bundleName }}</span>\n</div>\n\n<div class=\"header-column-right\">\n  <div class=\"header-title\">\n    <rx-breadcrumb-bar (selectedItem)=\"breadcrumbSelected.emit($event)\" [items]=\"breadcrumbItems\"></rx-breadcrumb-bar>\n  </div>\n\n  <div class=\"header-buttons\">\n    <button\n      adapt-button\n      type=\"button\"\n      btn-type=\"secondary\"\n      size=\"small\"\n      rx-id=\"json-button\"\n      class=\"header-button\"\n      (click)=\"toggleDesignMode.emit()\"\n    >\n      <span [ngClass]=\"{ 'd-icon-brackets_curly': isDesignMode, 'd-icon-app_eye': !isDesignMode }\"></span>\n      {{ isDesignMode ? 'JSON' : 'UI Design' }}\n    </button>\n\n    <button\n      adapt-button\n      type=\"button\"\n      btn-type=\"secondary\"\n      rx-id=\"preview-button\"\n      size=\"small\"\n      [hidden]=\"!isPreviewAvailable\"\n      (click)=\"showPreview.emit()\"\n      class=\"header-button\"\n    >\n      <span class=\"d-icon-eye\"></span>\n      Preview\n    </button>\n\n    <div class=\"header-button-divider\"></div>\n\n    <button\n      adapt-button\n      type=\"button\"\n      [disabled]=\"isSaveButtonDisabled\"\n      rx-id=\"save-button\"\n      size=\"small\"\n      (click)=\"save.emit()\"\n      btn-type=\"primary\"\n      class=\"header-button\"\n    >\n      Save\n    </button>\n\n    <button\n      adapt-button\n      type=\"button\"\n      rx-id=\"close-button\"\n      size=\"small\"\n      (click)=\"closeDesigner.emit()\"\n      btn-type=\"secondary\"\n      class=\"header-button\"\n    >\n      Close\n    </button>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RxDesignerHeaderComponent } from './designer-header.component';\nimport { AdaptButtonModule } from '@bmc-ux/adapt-angular';\nimport { RxBreadcrumbBarModule } from '@helix/platform/ui-kit';\n\n@NgModule({\n  declarations: [RxDesignerHeaderComponent],\n  exports: [RxDesignerHeaderComponent],\n  imports: [CommonModule, AdaptButtonModule, RxBreadcrumbBarModule]\n})\nexport class RxDesignerHeaderModule {}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { CdkDragDrop } from '@angular/cdk/drag-drop/drag-events';\n\nimport { IDesignerPaletteTree } from './designer-palette.interfaces';\n\n@Component({\n  selector: 'rx-designer-palette',\n  templateUrl: './designer-palette.component.html',\n  styleUrls: ['./designer-palette.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RxDesignerPaletteComponent {\n  @Input()\n  tree: IDesignerPaletteTree[];\n\n  // TODO-VS: update types\n  @Output()\n  elementDropped = new EventEmitter<CdkDragDrop<any>>();\n\n  searchField = new FormControl();\n\n  // TODO-VS: update types\n  onDropListDropped(dropData: CdkDragDrop<any>): void {\n    this.elementDropped.emit(dropData);\n  }\n\n  trackByLabelFn<T extends { label: string }>(index, item: T): string {\n    return item.label;\n  }\n}\n","<adapt-rx-search placeholder=\"Search\" rx-id=\"palette-search-field\" [formControl]=\"searchField\"></adapt-rx-search>\n\n<adapt-accordion [multiselect]=\"true\">\n  <adapt-accordion-tab *ngFor=\"let node of tree; trackBy: trackByLabelFn\" [title]=\"node.label\" [isOpen]=\"true\">\n    <div class=\"node-container\" cdkDropList cdkDropListSortingDisabled (cdkDropListDropped)=\"onDropListDropped($event)\">\n      <div\n        *ngFor=\"let child of node.children; trackBy: trackByLabelFn\"\n        [attr.rx-id]=\"child.label\"\n        cdkDrag\n        [cdkDragData]=\"child\"\n      >\n        <ng-container [ngSwitch]=\"child.paletteItem.label\">\n          <ng-container *ngSwitchCase=\"'inner'\">\n            <div class=\"{{ child.paletteItem.shape }} border-{{ child.paletteItem.border }}\" [title]=\"child.label\">\n              <img\n                *ngIf=\"child.paletteItem.icon\"\n                class=\"icon-{{ child.paletteItem.icon.position }}\"\n                [src]=\"child.paletteItem.icon.path\"\n                [alt]=\"child.label\"\n              />\n\n              <div class=\"inner-label\">{{ child.label }}</div>\n            </div>\n          </ng-container>\n\n          <ng-container *ngSwitchCase=\"'outer'\">\n            <div class=\"{{ child.paletteItem.shape }}\" [title]=\"child.label\">\n              <div class=\"outer-icon border-{{ child.paletteItem.border }}\">\n                <img *ngIf=\"child.paletteItem.icon\" [src]=\"child.paletteItem.icon.path\" [alt]=\"child.label\" />\n              </div>\n\n              <div class=\"outer-label\">{{ child.label }}</div>\n            </div>\n          </ng-container>\n\n          <ng-container *ngSwitchDefault>\n            <div class=\"{{ child.paletteItem.shape }}\" [title]=\"child.label\"></div>\n          </ng-container>\n        </ng-container>\n      </div>\n    </div>\n  </adapt-accordion-tab>\n</adapt-accordion>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { AdaptAccordionModule, AdaptRxSearchModule } from '@bmc-ux/adapt-angular';\n\nimport { RxDesignerPaletteComponent } from './designer-palette.component';\n\n// TODO-VS: mode to shared folder after jointJS is updated\n@NgModule({\n  declarations: [RxDesignerPaletteComponent],\n  imports: [AdaptAccordionModule, AdaptRxSearchModule, CommonModule, DragDropModule, ReactiveFormsModule],\n  exports: [RxDesignerPaletteComponent]\n})\nexport class RxDesignerPaletteModule {}\n","import { Component, ComponentFactory, Input, OnInit, ViewChild, ViewContainerRef } from '@angular/core';\nimport { IPlainObject } from '@helix/platform/shared/api';\n\n@Component({\n  selector: 'rx-dynamic-component-renderer',\n  template: '<ng-container #container></ng-container>'\n})\nexport class RxDynamicComponentRendererComponent implements OnInit {\n  @Input()\n  componentFactory: ComponentFactory<any>;\n\n  @Input()\n  context: any;\n\n  @Input()\n  options: IPlainObject;\n\n  @ViewChild('container', { static: true, read: ViewContainerRef })\n  container: ViewContainerRef;\n\n  ngOnInit() {\n    const componentRef = this.container.createComponent(this.componentFactory);\n\n    Object.assign(componentRef.instance, {\n      context: this.context,\n      options: this.options\n    });\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RxDynamicComponentRendererComponent } from './dynamic-component-renderer.component';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [RxDynamicComponentRendererComponent],\n  exports: [RxDynamicComponentRendererComponent],\n  entryComponents: [RxDynamicComponentRendererComponent]\n})\nexport class RxDynamicComponentRendererModule {}\n","import { Component, Inject, OnDestroy, OnInit } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { ActivatedRoute } from '@angular/router';\nimport { IErrorPageData } from './error-page.interfaces';\nimport { takeUntil, switchMap, map, tap } from 'rxjs/operators';\nimport { ReplaySubject, forkJoin } from 'rxjs';\nimport { DOCUMENT } from '@angular/common';\nimport {\n  RxGlobalCacheService,\n  RxCurrentUserService,\n  RxAngularApplicationService,\n  RX_APPLICATION,\n  IBundleDescriptor,\n  RxAuthService\n} from '@helix/platform/shared/api';\nimport { remove, sortBy, filter } from 'lodash';\n\n@Component({\n  selector: 'rx-error-page',\n  templateUrl: './error-page.component.html',\n  styleUrls: ['error-page.component.scss']\n})\nexport class RxErrorPageComponent implements OnInit, OnDestroy {\n  data: IErrorPageData;\n  showSignInLink = false;\n  showApplications = false;\n\n  applications$ = this.rxGlobalCacheService.getBundleDescriptors().pipe(\n    switchMap((bundleDescriptors: IBundleDescriptor[]) => {\n      const applicationBundleDescriptors = filter(bundleDescriptors, { isApplication: true, isLicensed: true });\n\n      remove(applicationBundleDescriptors, { id: RX_APPLICATION.settingsBundleId });\n\n      if (!this.rxCurrentUserService.isAdministrator()) {\n        remove(applicationBundleDescriptors, { id: RX_APPLICATION.dataloadBundleId });\n      }\n\n      if (!this.rxCurrentUserService.isAdministrator() && !this.rxCurrentUserService.isBusinessAnalyst()) {\n        remove(applicationBundleDescriptors, { id: RX_APPLICATION.innovationStudioBundleId });\n      }\n\n      const applications = sortBy(\n        applicationBundleDescriptors,\n        (bundleDescriptor: IBundleDescriptor) => bundleDescriptor.friendlyName\n      ).map((app: IBundleDescriptor) =>\n        this.rxAngularApplicationService.isAngularJsApplication(app.id).pipe(\n          map((isAngularJsApplication: boolean) => {\n            let url: string;\n\n            if (app.hasCustomEntryPoint && app.id !== RX_APPLICATION.innovationStudioBundleId) {\n              url = `/${app.id}/index.html`;\n            } else if (isAngularJsApplication) {\n              url = `/innovationsuite/index.html#/${app.id}`;\n            } else {\n              url = `/helix/index.html#/${app.id}`;\n            }\n\n            return {\n              id: app.id,\n              friendlyName: app.friendlyName,\n              url\n            };\n          })\n        )\n      );\n\n      return forkJoin(applications);\n    }),\n    tap(() => (this.rxGlobalCacheService.applicationId = 'unknown-application'))\n  );\n\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  constructor(\n    @Inject(DOCUMENT) private document: any,\n    private title: Title,\n    private route: ActivatedRoute,\n    private rxAuthService: RxAuthService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxCurrentUserService: RxCurrentUserService,\n    private rxAngularApplicationService: RxAngularApplicationService\n  ) {\n    this.document.body.style.overflow = 'hidden';\n  }\n\n  ngOnInit() {\n    this.route.data.pipe(takeUntil(this.destroyed$)).subscribe((data) => {\n      this.data = { ...data } as IErrorPageData;\n      this.title.setTitle(this.data.errorTitle);\n      this.showSignInLink = this.data.showSignInLink;\n      this.showApplications = this.data.showApplications ?? false;\n    });\n  }\n\n  logout(): void {\n    this.rxAuthService.logout().subscribe();\n  }\n\n  ngOnDestroy(): void {\n    this.document.body.style.removeProperty('overflow');\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n}\n","<div class=\"error-wrapper\">\n  <ng-container *ngIf=\"!showApplications\">\n    <h2>{{ this.data.errorTitle }}</h2>\n    <div [innerHTML]=\"this.data.errorMessage\"></div>\n  </ng-container>\n\n  <div *ngIf=\"showApplications\">\n    <h3>\n      The page you are trying to reach does not exist. Please open one of the applications below and bookmark it for\n      future reference.\n    </h3>\n\n    <ul>\n      <li *ngFor=\"let app of applications$ | async\">\n        <a [href]=\"app.url\">{{ app.friendlyName }}</a>\n      </li>\n    </ul>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RxErrorPageComponent } from './error-page.component';\n\n@NgModule({\n  declarations: [RxErrorPageComponent],\n  imports: [CommonModule],\n  exports: [RxErrorPageComponent]\n})\nexport class RxErrorPageModule {}\n","export const RX_EXPRESSION_EDITOR = {\n  events: {\n    openExpressionEditor: 'rx-open-expression-editor'\n  }\n};\n","export const RX_DATA_DICTIONARY_ITEM_PLUGIN = {\n  name: 'rx-data-dictionary-item',\n  widgetAttributeName: 'rx-expression'\n};\n","import {\n  Component,\n  HostBinding,\n  Inject,\n  Injector,\n  Input,\n  OnChanges,\n  OnInit,\n  SimpleChanges,\n  ViewChild\n} from '@angular/core';\nimport { AbstractControl, ControlValueAccessor, NG_VALUE_ACCESSOR, NgControl } from '@angular/forms';\nimport { CKEditor4 } from 'ckeditor4-angular/ckeditor';\nimport { endsWith, flow, includes, isArray, isEmpty, last, noop, reduce, startsWith, trim, uniqueId } from 'lodash';\nimport { distinctUntilChanged, map, startWith } from 'rxjs/operators';\nimport { CKEditorComponent } from 'ckeditor4-angular';\nimport {\n  ExpressionOperator,\n  ExpressionParserToken,\n  IDataDictionary,\n  IDataDictionaryAutocompleteOption,\n  IDataDictionaryBranch,\n  IExpressionOperator,\n  IExpressionOperatorRow,\n  RxDataDictionaryUtils,\n  RxExpressionParserService,\n  RxThemingService,\n  RX_THEMING\n} from '@helix/platform/shared/api';\nimport { DOCUMENT } from '@angular/common';\nimport { RxObjectUtilsService, RxTreeService } from '@helix/platform/utils';\nimport { RX_DATA_DICTIONARY_ITEM_PLUGIN } from '../data-dictionary-item-plugin.constant';\n\nconst narrowOperatorButtons = new Set([\n  ExpressionOperator.LeftGrouping,\n  ExpressionOperator.RightGrouping,\n  ExpressionOperator.DoubleQuote,\n  ExpressionOperator.Add,\n  ExpressionOperator.Subtract,\n  ExpressionOperator.Multiply,\n  ExpressionOperator.Divide,\n  ExpressionOperator.Remainder,\n  ExpressionOperator.GreaterThan,\n  ExpressionOperator.LessThan,\n  ExpressionOperator.Equal,\n  ExpressionOperator.NotEqual,\n  ExpressionOperator.GreaterThanOrEqual,\n  ExpressionOperator.LessThanOrEqual\n]);\n\n@Component({\n  selector: 'rx-rich-expression-editor',\n  templateUrl: 'rich-expression-editor.component.html',\n  styleUrls: ['rich-expression-editor.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: RichExpressionEditorComponent,\n      multi: true\n    }\n  ]\n})\nexport class RichExpressionEditorComponent implements ControlValueAccessor, OnInit, OnChanges {\n  type = CKEditor4.EditorType.INLINE;\n\n  ckConfig: CKEditor4.Config = {\n    startupFocus: true,\n    allowedContent: true,\n    extraPlugins: RX_DATA_DICTIONARY_ITEM_PLUGIN.name,\n    toolbar: [],\n    skin: 'expression-editor',\n    title: false,\n    entities: false\n  };\n\n  onChange: (value: string) => void;\n\n  @Input()\n  dataDictionary: IDataDictionary;\n\n  @Input()\n  operatorRows: IExpressionOperatorRow[] = [];\n\n  @ViewChild(CKEditorComponent, { static: true })\n  ckComponent: CKEditorComponent;\n\n  @HostBinding('class')\n  class = 'd-flex flex-column h-100 border';\n\n  control: AbstractControl;\n  operatorsByGroup: { platform: IExpressionOperator[]; custom: IExpressionOperator[] } = { custom: [], platform: [] };\n\n  private initialValue: string;\n  private isCkEditorInstanceReady = false;\n  private onTouched: () => void;\n  private dataDictionaryExpressionsMap: Map<string, IDataDictionaryBranch & { tooltip: string }>;\n  private menuItems: { [itemName: string]: number } = {};\n  private iFrameContentWindow: WindowProxy;\n\n  // Keep operators in descending order by length to find compound operator for autocomplete launch.\n  private autocompleteTriggers = [\n    ExpressionOperator.NotEqual,\n    ExpressionOperator.GreaterThanOrEqual,\n    ExpressionOperator.LessThanOrEqual,\n    ExpressionOperator.LessThan,\n    ExpressionOperator.GreaterThan,\n    ExpressionOperator.Equal\n  ];\n\n  constructor(\n    private injector: Injector,\n    @Inject(DOCUMENT) private document,\n    private rxTreeService: RxTreeService,\n    private rxExpressionParserService: RxExpressionParserService,\n    private rxObjectUtilsService: RxObjectUtilsService,\n    private rxDataDictionaryUtils: RxDataDictionaryUtils,\n    private rxThemingService: RxThemingService\n  ) {}\n\n  ngOnInit(): void {\n    this.control = this.injector.get(NgControl).control;\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.dataDictionary) {\n      this.dataDictionaryExpressionsMap = flow(\n        (dataDictionary) => this.rxDataDictionaryUtils.addTooltips(dataDictionary),\n        (dataDictionary) =>\n          this.rxTreeService.flatten({\n            children: dataDictionary\n          }),\n        (dataDictionary) =>\n          reduce(\n            dataDictionary,\n            (dictionary, node) => {\n              if (isArray(node.expression)) {\n                node.expression.forEach((expressionItem) => {\n                  dictionary.push({\n                    ...node,\n                    expression: expressionItem\n                  });\n                });\n              } else {\n                dictionary.push(node);\n              }\n\n              return dictionary;\n            },\n            []\n          ),\n        (dataDictionary) => this.rxObjectUtilsService.mapFromArray(dataDictionary, 'expression')\n      )(this.dataDictionary);\n    }\n  }\n\n  writeValue(value: string): void {\n    if (value) {\n      // encode all HTML tags to avoid their rendering by CKEDITOR, i.e.\n      // html entered by user should be rendered as plain text\n      // For example, <b>STRING</b> should be displayed in the editor exactly the same, as <b>STRING</b>\n      value = CKEDITOR.tools.htmlEncode(value);\n\n      value = this.normalizeExpression(value);\n    } else {\n      value = null;\n    }\n\n    // Ckeditor instance is not ready on first \"writeValue\" call.\n    if (this.isCkEditorInstanceReady) {\n      this.ckComponent.instance.setData(value);\n    } else {\n      this.initialValue = value;\n    }\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  onCkEditorInstanceReady(event: CKEditor4.EventInfo): void {\n    this.isCkEditorInstanceReady = true;\n\n    // Even if toolbar doesn't have any items, outer container is displayed and needs to be hidden.\n    this.document.getElementById(`${event.editor.id}_top`).style.display = 'none';\n\n    this.ckComponent.instance.on('change', () => {\n      const value = trim(this.ckComponent.instance.getData());\n\n      if (this.control.value !== value && !this.ckComponent.instance.gettingCursorPosition) {\n        this.onChange(value);\n\n        if (value) {\n          const { position, x, y } = this.getCursor();\n          const expressionBeforeCursor = value.substr(0, position);\n\n          const autocompleteTrigger = this.autocompleteTriggers.find((trigger) =>\n            endsWith(expressionBeforeCursor, trigger)\n          );\n\n          if (autocompleteTrigger) {\n            // Remove autocomplete trigger from expression, e.g '${foo} >=' -> '${foo} '.\n            const expressionToParse = expressionBeforeCursor.slice(0, -autocompleteTrigger.length);\n            const node = this.dataDictionaryExpressionsMap.get(this.getLastExpressionFragment(expressionToParse));\n\n            if (node?.autocompleteOptions) {\n              this.launchAutocomplete(node.autocompleteOptions, x, y);\n            }\n          }\n        }\n      }\n    });\n\n    this.ckComponent.instance.on(\n      'getData',\n      (evt: CKEDITOR.eventInfo) => {\n        evt.data.dataValue = evt.data.dataValue.replace(/<p>|<span>|<\\/p>|<\\/span>|<br \\/>/g, '');\n        evt.data.dataValue = CKEDITOR.tools.htmlDecode(evt.data.dataValue);\n\n        // convert 160 and 8203 charCode space to 32 which supported by server\n        evt.data.dataValue = evt.data.dataValue.replace(new RegExp(String.fromCharCode(160), 'g'), ' ');\n        evt.data.dataValue = evt.data.dataValue.replace(new RegExp(String.fromCharCode(8203), 'g'), ' ');\n      },\n      null,\n      null,\n      15\n    );\n\n    this.ckComponent.instance.on('key', (evt: CKEDITOR.eventInfo) => {\n      if (evt.data.keyCode === 13) {\n        // Enter key\n        evt.cancel();\n      }\n    });\n\n    this.ckComponent.instance.on('paste', (evt: CKEDITOR.eventInfo) => {\n      if (evt.data.method === 'drop') {\n        const value = evt.data.dataTransfer.getData('value');\n\n        if (value) {\n          evt.data.dataValue = value;\n        }\n      }\n\n      if (evt.data.type === 'html') {\n        const container = new CKEDITOR.dom.element('div');\n\n        container.appendHtml(evt.data.dataValue);\n\n        // When selected range with widget is copied to clipboard, start node of bookmark remains unremoved there\n        let elementToRemove = container.findOne('[id*=\"cke_bm_\"]');\n\n        if (elementToRemove) {\n          if (CKEDITOR.env.gecko && container.getChildCount() > 1) {\n            elementToRemove = elementToRemove.getParent();\n          }\n\n          elementToRemove.remove();\n          evt.data.dataValue = container.getHtml();\n        }\n\n        container.remove();\n      }\n    });\n\n    this.ckComponent.instance.on(\n      'toHtml',\n      (evt: CKEDITOR.eventInfo) => {\n        // Check if data value has already been converted to html,\n        // e.g. while dragging a pill from one position to another withing the expression\n        // there is no need to convert it to HTML again\n        if (!includes(evt.data.dataValue, 'rx-id=\"rx-data-dictionary-item\"')) {\n          evt.data.dataValue = this.rxExpressionParserService.parse(evt.data.dataValue, this.transformToTag.bind(this));\n        }\n\n        if (endsWith(evt.data.dataValue, '</span>')) {\n          evt.data.dataValue += '<span>&nbsp;</span>';\n        }\n      },\n      null,\n      null,\n      4\n    );\n\n    // Set initial value when \"toHtml\" listener is already added.\n    this.ckComponent.instance.setData(this.initialValue);\n\n    this.ckComponent.instance.contextMenu.addListener(() => this.menuItems);\n\n    this.ckComponent.instance.contextMenu.onHide = (): void => {\n      this.iFrameContentWindow.removeEventListener('keydown', this.keydownHandler);\n\n      this.menuItems = {};\n    };\n\n    this.control.statusChanges\n      .pipe(\n        map(() => this.control.disabled),\n        startWith(this.control.disabled),\n        distinctUntilChanged()\n      )\n      .subscribe((disabled) => {\n        this.ckComponent.instance.setReadOnly(disabled);\n      });\n\n    delete this.ckComponent.instance._.menuItems.paste;\n    delete this.ckComponent.instance._.menuItems.cut;\n    delete this.ckComponent.instance._.menuItems.copy;\n  }\n\n  insertHtml(html: string): void {\n    this.ckComponent.instance.insertHtml(html);\n  }\n\n  isNarrowOperator(operator: ExpressionOperator): boolean {\n    return narrowOperatorButtons.has(operator);\n  }\n\n  addOperator(value: string): void {\n    if (value !== ExpressionOperator.DoubleQuote && !startsWith(value, '$')) {\n      value += '&nbsp;';\n    }\n\n    this.insertHtml(value);\n  }\n\n  private launchAutocomplete(options: IDataDictionaryAutocompleteOption[], x: number, y: number): void {\n    CKEDITOR.skin.loadPart('rx-suggestions', noop);\n\n    const group = 'suggestions';\n\n    this.ckComponent.instance.addMenuGroup(group);\n\n    options.forEach((option, index) => {\n      const suggestionBoxItem = 'suggestionBox suggestionBoxItem' + index;\n\n      this.menuItems[suggestionBoxItem] = CKEDITOR.TRISTATE_OFF;\n\n      this.ckComponent.instance.addMenuItem(suggestionBoxItem, {\n        label: option.label,\n        group,\n\n        onClick: () => {\n          this.ckComponent.instance.focus();\n\n          this.ckComponent.instance.insertHtml(option.expression);\n        }\n      });\n    });\n\n    this.ckComponent.instance.contextMenu.show(this.ckComponent.instance.document.getBody(), null, x, y);\n\n    const menuPanel = this.ckComponent.instance.contextMenu._.panel;\n\n    menuPanel.element.addClass('rx-suggestions-panel');\n\n    this.iFrameContentWindow = menuPanel._.iframe.$.contentWindow;\n\n    this.iFrameContentWindow.document.documentElement.classList.add('rx-suggestions-panel_container');\n\n    this.rxThemingService.copyCssVariables(RX_THEMING.cssVariablesForCkEditor, this.iFrameContentWindow.document);\n\n    this.iFrameContentWindow.addEventListener('keydown', this.keydownHandler);\n  }\n\n  private transformToTag(token: ExpressionParserToken, expression: string): string {\n    let tag = expression;\n\n    if (\n      [\n        ExpressionParserToken.ArExpression,\n        ExpressionParserToken.RxExpression,\n        ExpressionParserToken.SingleQuoteRxExpression,\n        ExpressionParserToken.SingleQuoteTextExpression\n      ].includes(token)\n    ) {\n      const node = this.dataDictionaryExpressionsMap.get(expression);\n\n      if (node) {\n        tag = [\n          `<span class=\"expression-node\" rx-id=\"rx-data-dictionary-item\" ${RX_DATA_DICTIONARY_ITEM_PLUGIN.widgetAttributeName}=\"${expression}\" title=\"${node.tooltip}\">`,\n          `<span class=\"expression-node-icon ${node.icon || 'd-icon-arrow_right_square_input'}\">&nbsp;</span>`,\n          `<span class=\"expression-node-label\">${node.label}</span>`,\n          '</span>'\n        ].join('');\n      }\n    }\n\n    return tag;\n  }\n\n  private normalizeExpression(expression: string): string {\n    return this.rxExpressionParserService.parse(expression, (token, expressionFragment) => {\n      if (token === ExpressionParserToken.RxStringExpression) {\n        // since multiple \\x20 spaces get collapsed to a single space in HTML. we have to convert them to\n        // non-breaking spaces (&nbsp;) in order to preserve them in expression's literals\n        return expressionFragment.replace(/ /g, '&nbsp;');\n      } else if (token === ExpressionParserToken.ArExpression) {\n        return expressionFragment.replace('\\\\', '');\n      } else {\n        return expressionFragment;\n      }\n    });\n  }\n\n  // parse and get last expression, e.g.\n  // '${foo} + ${bar}' -> '${bar}'\n  // '${foo} + ${bar}  ' -> '${bar}'\n  // '${foo} + \"bar\"' -> undefined\n  private getLastExpressionFragment(expression: string): string {\n    const expressionMap = new Map<string, string>();\n\n    const lastExpressionFragment = last(\n      this.rxExpressionParserService\n        .parse(expression, (token, expressionFragment) => {\n          if (token !== ExpressionParserToken.RxStringExpression) {\n            const node = `$$rx-${uniqueId()}-rx$$`;\n\n            expressionMap.set(node, expressionFragment);\n\n            expressionFragment = node;\n          }\n\n          return expressionFragment;\n        })\n        .split(/(\\$\\$rx-[\\d]+-rx\\$\\$)/g)\n        .filter((element) => !isEmpty(element) && !/^((\\$\\$rx-)|(-rx\\$\\$)|([\\s]+))$/.test(element))\n    );\n\n    return expressionMap.get(lastExpressionFragment);\n  }\n\n  // prevent navigation to the previous page in Edge and Firefox when the user presses the Backspace key\n  private keydownHandler(event: KeyboardEvent): void {\n    if (event.code === 'Backspace') {\n      event.preventDefault();\n    }\n  }\n\n  // Insert a dummy element into current position of caret\n  // in order to get coordinates of caret and expression fragment before the caret\n  // https://ckeditor.com/old/comment/65868#comment-65868\n  private getCursor(): { x: number; y: number; position: number } {\n    this.ckComponent.instance.gettingCursorPosition = true;\n\n    const dummyElement = this.ckComponent.instance.document.createElement('span');\n    const range = this.ckComponent.instance.getSelection().getRanges()[0];\n\n    range.trim(false, true);\n\n    const startContainer = range.startContainer;\n    const nextNode = startContainer.getChild(range.startOffset);\n\n    if (nextNode) {\n      dummyElement.insertBefore(nextNode);\n    } else {\n      startContainer.append(dummyElement);\n    }\n\n    let x = 0;\n    let y = 0;\n\n    let nodeElement = dummyElement.$;\n\n    while (nodeElement.offsetParent) {\n      x += nodeElement.offsetLeft;\n      y += nodeElement.offsetTop;\n      nodeElement = nodeElement.offsetParent;\n    }\n\n    x += nodeElement.offsetLeft;\n    y += nodeElement.offsetTop;\n    y += 30;\n\n    dummyElement.setText(this.ckComponent.instance.id);\n\n    const position = this.ckComponent.instance.getData().indexOf(this.ckComponent.instance.id);\n\n    dummyElement.remove();\n\n    this.ckComponent.instance.gettingCursorPosition = false;\n\n    return {\n      x,\n      y,\n      position\n    };\n  }\n}\n","<ckeditor\n  class=\"flex-grow-1 position-relative form-control border\"\n  [config]=\"ckConfig\"\n  [type]=\"type\"\n  (ready)=\"onCkEditorInstanceReady($event)\"\n  [ngClass]=\"{ 'invalid-expression-border': control.invalid }\"\n></ckeditor>\n\n<adapt-rx-feedback [errors]=\"control.errors\"></adapt-rx-feedback>\n\n<div class=\"border-top bg-gray-200 pt-3 pb-1 px-2\" *ngIf=\"control.enabled\">\n  <div class=\"d-flex flex-wrap justify-content-center\" *ngFor=\"let row of operatorRows\">\n    <button\n      adapt-button\n      type=\"button\"\n      btn-type=\"secondary\"\n      class=\"mx-1 mb-2 bg-white\"\n      [ngClass]=\"isNarrowOperator(operator.value) ? 'narrow-operator' : 'wide-operator'\"\n      (click)=\"addOperator(operator.value)\"\n      [adaptPopover]=\"operator.tooltip ? tooltipContent : null\"\n      [popoverTitle]=\"operator.tooltip?.title\"\n      triggers=\"mouseover:mouseout\"\n      placement=\"auto\"\n      *ngFor=\"let operator of row\"\n    >\n      {{ operator.displayValue }}\n\n      <ng-template #tooltipContent>\n        <span [innerHtml]=\"operator?.tooltip?.content\"></span>\n      </ng-template>\n    </button>\n  </div>\n</div>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { AdaptTreeNode } from '@bmc-ux/adapt-angular';\n\n@Component({\n  selector: 'rx-data-dictionary-node',\n  templateUrl: './data-dictionary-node.component.html',\n  styleUrls: ['./data-dictionary-node.component.scss']\n})\nexport class DataDictionaryNodeComponent {\n  @Input()\n  node: AdaptTreeNode;\n\n  @Input()\n  filterQuery: string;\n\n  @Output()\n  expressionNodeSelected = new EventEmitter<AdaptTreeNode>();\n}\n","<ng-container *ngIf=\"!node.data.expression; else expressionNode\">\n  <adapt-highlight class=\"p-1\" [title]=\"node.label\" [result]=\"node.label\" [term]=\"filterQuery\">></adapt-highlight>\n</ng-container>\n\n<ng-template #expressionNode>\n  <div class=\"d-flex\" rx-id=\"node\">\n    <button\n      type=\"button\"\n      (click)=\"expressionNodeSelected.emit(node)\"\n      class=\"expression-node-button btn btn-link d-icon-plus_circle py-1 px-2\"\n    ></button>\n\n    <span class=\"expression-node\" [draggable]=\"true\" [attr.rx-expression]=\"node.data.expression\">\n      <span [ngClass]=\"node.data.icon || 'd-icon-arrow_right_square_input'\" class=\"expression-node-icon\"></span>\n\n      <adapt-highlight class=\"expression-node-label\" [title]=\"node.label\" [result]=\"node.label\" [term]=\"filterQuery\"\n        >></adapt-highlight\n      >\n    </span>\n\n    <i\n      *ngIf=\"node.data.info?.type === 'function'\"\n      class=\"py-1 px-2 d-icon-question_circle_o\"\n      [adaptPopover]=\"functionInfo\"\n      [popoverTitle]=\"node.data.info.data.signature\"\n      [autoClose]=\"'outside'\"\n      [maxWidth]=\"'350'\"\n    >\n      <ng-template #functionInfo>\n        <p>{{ node.data.info.data.description }}</p>\n\n        <table *ngIf=\"node.data.info.data.parameters?.length\">\n          <tr>\n            <th class=\"pr-4\">Parameter</th>\n            <th>Description</th>\n          </tr>\n\n          <tr class=\"mt-1\" *ngFor=\"let parameter of node.data.info.data.parameters\">\n            <td class=\"align-top\">{{ $any(parameter).name }}</td>\n            <td class=\"align-top\">{{ $any(parameter).description }}</td>\n          </tr>\n        </table>\n      </ng-template>\n    </i>\n  </div>\n</ng-template>\n","import { Component, EventEmitter, HostListener, Input, OnChanges, Output, SimpleChanges } from '@angular/core';\nimport { AdaptTreeNode } from '@bmc-ux/adapt-angular';\nimport { isArray, map as _map, uniqueId, flow, compact } from 'lodash';\nimport { IDataDictionary } from '@helix/platform/shared/api';\n\n@Component({\n  selector: 'rx-data-dictionary',\n  templateUrl: './data-dictionary.component.html',\n  styleUrls: ['./data-dictionary.component.scss']\n})\nexport class DataDictionaryComponent implements OnChanges {\n  @Input()\n  dataDictionary: IDataDictionary;\n\n  @Output()\n  nodeSelected = new EventEmitter();\n\n  @Output()\n  dragStart = new EventEmitter<any>();\n\n  tree: AdaptTreeNode[];\n\n  @HostListener('dragstart', ['$event'])\n  onDragStart(event: DragEvent) {\n    const value = (event.target as Element).getAttribute('rx-expression');\n\n    if (value) {\n      event.dataTransfer.setData('value', value);\n    } else {\n      event.preventDefault();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.dataDictionary) {\n      this.tree = this.prepareTreeForAdapt(this.dataDictionary);\n    }\n  }\n\n  onNodeExpand(e) {}\n\n  onNodeSelected(node: AdaptTreeNode): void {\n    this.nodeSelected.next(node);\n  }\n\n  private prepareTreeForAdapt(dataDictionary: IDataDictionary): AdaptTreeNode[] {\n    return flow(\n      (dictionary) =>\n        _map(dictionary, (element) =>\n          !element.hidden && (element.expression || element.children?.length)\n            ? {\n                label: element.label,\n                children: this.prepareTreeForAdapt(element.children),\n                expanded: element.expanded,\n                data: {\n                  expression: isArray(element.expression) ? element.expression[0] : element.expression,\n                  icon: element.icon,\n                  info: element.info\n                },\n                key: uniqueId(),\n                draggable: Boolean(element.expression)\n              }\n            : null\n        ),\n      (dictionary) => compact(dictionary)\n    )(dataDictionary);\n  }\n}\n","<adapt-tree #treeComponent [value]=\"tree\" filter=\"true\" (onNodeExpand)=\"onNodeExpand($event)\" [draggableNodes]=\"true\">\n  <ng-template let-node adaptTreeNodeTemplate>\n    <rx-data-dictionary-node\n      [filterQuery]=\"treeComponent.filterQuery\"\n      [node]=\"node\"\n      (expressionNodeSelected)=\"onNodeSelected($event)\"\n    ></rx-data-dictionary-node>\n  </ng-template>\n</adapt-tree>\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\nimport { NgModel } from '@angular/forms';\nimport { ActiveModalRef, AdaptTreeNode, DismissReasons } from '@bmc-ux/adapt-angular';\nimport {\n  IDataDictionary,\n  IExpressionConfigurator,\n  IExpressionOperatorRow,\n  RxExpressionParserService\n} from '@helix/platform/shared/api';\nimport { RxModalClass } from '@helix/platform/ui-kit';\nimport { RxError } from '@helix/platform/utils';\nimport { TranslateService } from '@ngx-translate/core';\nimport { findIndex, sortBy } from 'lodash';\nimport { concat, EMPTY, Observable, of, throwError } from 'rxjs';\nimport { concatMap, finalize, switchMap, switchMapTo, take, tap } from 'rxjs/operators';\nimport { IExpressionEditorModalConfig } from './expression-editor-modal-config.interface';\nimport { IExpressionEditorLegendItem, IExpressionEditorProperty } from './expression-editor.interfaces';\nimport { RichExpressionEditorComponent } from './rich-expression-editor/rich-expression-editor.component';\n\n@Component({\n  selector: 'rx-expression-editor',\n  templateUrl: './expression-editor.component.html',\n  styleUrls: ['./expression-editor.component.scss']\n})\nexport class ExpressionEditorComponent extends RxModalClass implements OnInit {\n  get expression(): string {\n    return this.currentProperty && this.currentProperty.value;\n  }\n\n  set expression(value: string) {\n    if (this.currentProperty) {\n      this.currentProperty.value = value;\n    }\n  }\n\n  currentProperty: IExpressionEditorProperty;\n  dataDictionary: IDataDictionary;\n  legend: IExpressionEditorLegendItem[];\n  operatorRows: IExpressionOperatorRow[];\n\n  private isPropertyContextReady = false;\n  private config: IExpressionEditorModalConfig = this.activeModalRef.getData();\n  private expressionConfigurator: IExpressionConfigurator = this.config.expressionConfigurator;\n  private availableExpressionProperties: IExpressionEditorProperty[] = [];\n\n  private invalidExpressionMessage = this.translateService.instant(\n    'com.bmc.arsys.rx.client.expression-editor.invalid-expression.message'\n  );\n\n  get isReadOnly(): boolean {\n    return this.config.isReadOnly;\n  }\n\n  get isNavigationEnabled(): boolean {\n    return this.isPropertyContextReady && (this.hasPreviousProperty() || this.hasNextProperty());\n  }\n\n  get isPreviousButtonDisabled(): boolean {\n    return !this.isPropertyContextReady || this.richExpressionEditorControl.invalid || !this.hasPreviousProperty();\n  }\n\n  get isNextButtonDisabled(): boolean {\n    return !this.isPropertyContextReady || this.richExpressionEditorControl.invalid || !this.hasNextProperty();\n  }\n\n  @ViewChild(RichExpressionEditorComponent, { static: true })\n  richExpressionEditor: RichExpressionEditorComponent;\n\n  @ViewChild(RichExpressionEditorComponent, { read: NgModel, static: true })\n  richExpressionEditorControl: NgModel;\n\n  constructor(\n    public activeModalRef: ActiveModalRef,\n    private translateService: TranslateService,\n    private rxExpressionParserService: RxExpressionParserService,\n    protected injector: Injector\n  ) {\n    super(activeModalRef, injector);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.initialize(this.config.property).subscribe();\n  }\n\n  onSave(): void {\n    this.writeValue().subscribe({\n      complete: () => {\n        this.activeModalRef.close();\n      }\n    });\n  }\n\n  onNodeSelected(node: AdaptTreeNode): void {\n    this.richExpressionEditor.insertHtml(node.data.expression);\n  }\n\n  navigateToNextProperty(): void {\n    this.navigateToProperty(this.getCurrentPropertyIndex() + 1);\n  }\n\n  navigateToPreviousProperty(): void {\n    this.navigateToProperty(this.getCurrentPropertyIndex() - 1);\n  }\n\n  cancelModal(): void {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n\n  isDirty(): boolean {\n    return this.richExpressionEditorControl.dirty;\n  }\n\n  private navigateToProperty(index: number): void {\n    this.isPropertyContextReady = false;\n\n    concat(\n      this.writeValue(),\n      // getPropertyByIndex must be called when writeValue observable will be\n      // completed to make sure availableExpressionProperties are up to date.\n      of(index).pipe(concatMap((i) => this.initialize(this.getPropertyByIndex(i))))\n    )\n      .pipe(\n        finalize(() => {\n          this.isPropertyContextReady = true;\n          this.richExpressionEditorControl.control.markAsPristine();\n        })\n      )\n      .subscribe();\n  }\n\n  private initialize(property: IExpressionEditorProperty): Observable<never> {\n    return concat(\n      this.updateAvailableExpressionProperties(),\n      this.expressionConfigurator.getDataDictionary(property.path).pipe(\n        tap((dataDictionary) => {\n          this.currentProperty = property;\n          this.operatorRows = this.expressionConfigurator.getOperatorRows(property.path);\n          this.dataDictionary = dataDictionary;\n          this.legend = sortBy(this.config.legend, 'label');\n\n          this.isPropertyContextReady = true;\n        }),\n        take(1),\n        switchMapTo(EMPTY)\n      )\n    );\n  }\n\n  private writeValue(): Observable<never> {\n    return this.expressionConfigurator.validateProperty(this.currentProperty.path, this.currentProperty.value).pipe(\n      tap((isValid) => {\n        if (isValid) {\n          this.config.api.writeValue(\n            this.currentProperty.path,\n            this.rxExpressionParserService.stripSpaces(this.currentProperty.value)\n          );\n        } else {\n          this.richExpressionEditorControl.control.setErrors({\n            invalidExpression: {\n              message: this.invalidExpressionMessage\n            }\n          });\n        }\n      }),\n      switchMap((isValid) => (isValid ? EMPTY : throwError(new RxError())))\n    );\n  }\n\n  private updateAvailableExpressionProperties(): Observable<never> {\n    return this.config.expressionPropertyNavigator\n      ? this.config.expressionPropertyNavigator.getProperties().pipe(\n          take(1),\n          tap((properties) => {\n            this.availableExpressionProperties = properties;\n          }),\n          switchMapTo(EMPTY)\n        )\n      : EMPTY;\n  }\n\n  private hasPreviousProperty(): boolean {\n    const currentIndex = this.getCurrentPropertyIndex();\n\n    return currentIndex > 0;\n  }\n\n  private hasNextProperty(): boolean {\n    const currentIndex = this.getCurrentPropertyIndex();\n\n    return currentIndex !== this.availableExpressionProperties.length - 1 && currentIndex !== -1;\n  }\n\n  private getCurrentPropertyIndex(): number {\n    return findIndex(this.availableExpressionProperties, { path: this.currentProperty.path });\n  }\n\n  private getPropertyByIndex(propertyIndex: number): IExpressionEditorProperty {\n    return this.availableExpressionProperties[propertyIndex];\n  }\n}\n","<div class=\"modal-body row\">\n  <div class=\"d-flex flex-column h-100\" [ngClass]=\"isReadOnly ? 'col' : 'col-6'\">\n    <div class=\"d-flex align-items-center\">\n      <ng-container *ngIf=\"isNavigationEnabled\">\n        <button\n          type=\"button\"\n          class=\"d-icon-angle_left mr-1\"\n          adapt-button\n          btn-type=\"secondary\"\n          size=\"small\"\n          (click)=\"navigateToPreviousProperty()\"\n          [disabled]=\"isPreviousButtonDisabled\"\n          rx-id=\"previous-button\"\n        ></button>\n\n        <button\n          type=\"button\"\n          class=\"d-icon-angle_right mr-2\"\n          adapt-button\n          btn-type=\"secondary\"\n          size=\"small\"\n          (click)=\"navigateToNextProperty()\"\n          [disabled]=\"isNextButtonDisabled\"\n          rx-id=\"next-button\"\n        ></button>\n      </ng-container>\n\n      <h5 class=\"m-0 text-truncate\">\n        {{\n          'com.bmc.arsys.rx.client.expression-editor.expression-for-property.label'\n            | translate: { propertyName: currentProperty?.label || (currentProperty?.path | titlecase) }\n        }}\n      </h5>\n    </div>\n\n    <div class=\"flex flex-grow-1 h-100 mt-2\">\n      <rx-rich-expression-editor\n        class=\"flex-grow-1 h-100\"\n        [dataDictionary]=\"dataDictionary\"\n        [(ngModel)]=\"expression\"\n        [operatorRows]=\"operatorRows\"\n        [disabled]=\"isReadOnly\"\n      ></rx-rich-expression-editor>\n    </div>\n  </div>\n\n  <div class=\"col-6 d-flex flex-column h-100 pr-0\" *ngIf=\"!isReadOnly\">\n    <ng-template #legendContentTemplate>\n      <div class=\"text-left p-2\">\n        <div *ngFor=\"let item of legend; let last = last\" [class.pb-2]=\"!last\">\n          <span class=\"legend-item-icon px-2 py-1\" [ngClass]=\"item.icon\"></span>\n          <span class=\"ml-2\">{{ item.label }}</span>\n        </div>\n      </div>\n    </ng-template>\n    <h5 class=\"mt-0\">\n      {{ 'com.bmc.arsys.rx.client.expression-editor.available-values.label' | translate }}\n      <adapt-icon\n        name=\"info_circle_o_adapt\"\n        [adaptTooltip]=\"legendContentTemplate\"\n        width=\"260\"\n        placement=\"bottom\"\n      ></adapt-icon>\n    </h5>\n\n    <div class=\"data-dictionary-container flex-grow-1\">\n      <rx-data-dictionary\n        [dataDictionary]=\"dataDictionary\"\n        (nodeSelected)=\"onNodeSelected($event)\"\n      ></rx-data-dictionary>\n    </div>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <button\n    *ngIf=\"!isReadOnly\"\n    type=\"button\"\n    adapt-button\n    btn-type=\"primary\"\n    (click)=\"onSave()\"\n    [disabled]=\"richExpressionEditorControl.invalid || richExpressionEditorControl.pristine\"\n    rx-id=\"save-button\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.ok.label' | translate }}\n  </button>\n\n  <button type=\"button\" adapt-button btn-type=\"secondary\" (click)=\"cancelModal()\" rx-id=\"cancel-button\">\n    {{\n      (isReadOnly ? 'com.bmc.arsys.rx.client.common.close.label' : 'com.bmc.arsys.rx.client.common.cancel.label')\n        | translate\n    }}\n  </button>\n</div>\n","import { Injectable } from '@angular/core';\nimport { has } from 'lodash';\nimport { RX_DATA_DICTIONARY_ITEM_PLUGIN } from './data-dictionary-item-plugin.constant';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxDataDictionaryItemPluginService {\n  constructor() {\n    CKEDITOR.plugins.add(RX_DATA_DICTIONARY_ITEM_PLUGIN.name, {\n      requires: 'widget',\n\n      init(editor: CKEDITOR.editor): void {\n        editor.widgets.add('rx-data-dictionary-item-widget', {\n          inline: true,\n\n          upcast(element: CKEDITOR.htmlParser.element): boolean {\n            return has(element.attributes, RX_DATA_DICTIONARY_ITEM_PLUGIN.widgetAttributeName);\n          },\n\n          downcast(element: CKEDITOR.htmlParser.element): CKEDITOR.htmlParser.cdata {\n            return new CKEDITOR.htmlParser.cdata(\n              element.attributes[RX_DATA_DICTIONARY_ITEM_PLUGIN.widgetAttributeName]\n            );\n          },\n\n          // @ts-ignore\n          // https://ckeditor.com/docs/ckeditor4/latest/api/CKEDITOR_plugins_widget_definition.html#method-getClipboardHtml\n          getClipboardHtml(): string {\n            return this.element.getAttributes()[RX_DATA_DICTIONARY_ITEM_PLUGIN.widgetAttributeName];\n          }\n        });\n      }\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {\n  AdaptButtonModule,\n  AdaptHighlightModule,\n  AdaptIconModule,\n  AdaptModalModule,\n  AdaptPopoverModule,\n  AdaptRxFeedbackModule,\n  AdaptTooltipModule,\n  AdaptTreeModule\n} from '@bmc-ux/adapt-angular';\nimport { AdaptSearchModule, AdaptTypeaheadSubModule } from '@bmc-ux/obsolete';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CKEditorModule } from 'ckeditor4-angular';\nimport { ExpressionEditorComponent } from './expression-editor.component';\nimport { RichExpressionEditorComponent } from './rich-expression-editor/rich-expression-editor.component';\nimport { DataDictionaryComponent } from './data-dictionary/data-dictionary.component';\nimport { DataDictionaryNodeComponent } from './data-dictionary-node/data-dictionary-node.component';\nimport { RxDataDictionaryItemPluginService } from './data-dictionary-item-plugin.service';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    ExpressionEditorComponent,\n    RichExpressionEditorComponent,\n    DataDictionaryComponent,\n    DataDictionaryNodeComponent\n  ],\n  exports: [ExpressionEditorComponent],\n  entryComponents: [ExpressionEditorComponent],\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    FormsModule,\n    AdaptButtonModule,\n    AdaptHighlightModule,\n    AdaptIconModule,\n    AdaptModalModule,\n    AdaptSearchModule,\n    CKEditorModule,\n    AdaptTooltipModule,\n    AdaptTreeModule,\n    AdaptPopoverModule,\n    AdaptRxFeedbackModule,\n    AdaptTypeaheadSubModule,\n    TranslateModule\n  ]\n})\nexport class ExpressionEditorModule {\n  constructor(rxDataDictionaryItemPluginService: RxDataDictionaryItemPluginService) {}\n}\n","import { Injectable } from '@angular/core';\nimport { OpenViewActionModalSize } from '@helix/platform/view/api';\nimport { Observable } from 'rxjs';\nimport { ExpressionEditorComponent } from './expression-editor.component';\nimport { IExpressionEditorConfig, IExpressionEditorPropertyChange } from './expression-editor.interfaces';\nimport { RxError } from '@helix/platform/utils';\nimport { isString } from 'lodash';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IDialogApi, RxModalService } from '@helix/platform/ui-kit';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxExpressionEditorService {\n  constructor(private translateService: TranslateService, private rxModalService: RxModalService) {}\n\n  openEditor(\n    config: IExpressionEditorConfig,\n    onDialogApiReady?: (dialogApi: IDialogApi) => void\n  ): Observable<IExpressionEditorPropertyChange> {\n    return new Observable((observer) => {\n      this.rxModalService\n        .openModal({\n          title: this.translateService.instant('com.bmc.arsys.rx.client.expression-editor.edit-expression.title'),\n          data: {\n            ...config,\n            api: {\n              writeValue(propertyPath, propertyValue) {\n                observer.next({ path: propertyPath, value: propertyValue });\n              }\n            },\n            onApiReady: (dialogApi: IDialogApi) => {\n              onDialogApiReady?.(dialogApi);\n            }\n          },\n          content: ExpressionEditorComponent,\n          size: (config.isReadOnly ? 'sm' : OpenViewActionModalSize.Large) as any\n        })\n        .then(() => observer.complete())\n        .catch((e) => {\n          onDialogApiReady?.(null);\n\n          return isString(e) ? new RxError(e) : e;\n        });\n    });\n  }\n}\n","import { IExpressionConfigurator } from '@helix/platform/shared/api';\n\nimport { IExpressionFormControlOptions } from '../expression-form-control/expression-form-control.types';\nimport { ITextFormControlOptions } from '../text-form-control/text-form-control-options.interface';\nimport { ISelectFormControlOptions } from '../select-form-control/select-form-control.interfaces';\n\nexport enum AssignmentExpressionListTargetFieldType {\n  Text = 'text',\n  Select = 'select'\n}\n\nexport interface IAssignmentExpressionListFormControlOptions {\n  addItemText?: string;\n  confirmationMessage?: string;\n  sourceFieldOptions: {\n    expressionConfigurator: IExpressionConfigurator;\n    options: IExpressionFormControlOptions;\n    propertyName?: string;\n  };\n  targetFieldOptions: {\n    options: ITextFormControlOptions | ISelectFormControlOptions;\n    propertyName?: string;\n    type: AssignmentExpressionListTargetFieldType;\n  };\n}\n","import { Component, Input, Renderer2, ViewChild } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { IFormControlComponent, IFormFocusable } from '@helix/platform/shared/api';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { ITextFormControlOptions } from './text-form-control-options.interface';\nimport { AdaptRxTextfieldComponent } from '@bmc-ux/adapt-angular';\n\n@Component({\n  selector: 'rx-text-form-control',\n  templateUrl: './text-form-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: TextFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class TextFormControlComponent extends ValueAccessor<string> implements IFormControlComponent, IFormFocusable {\n  @Input()\n  options: ITextFormControlOptions;\n\n  @ViewChild('editor', { static: true })\n  editor: AdaptRxTextfieldComponent;\n\n  constructor(private renderer: Renderer2) {\n    super();\n  }\n\n  focus() {\n    this.renderer.selectRootElement(this.editor.inputRef.nativeElement, true).focus();\n  }\n}\n","<adapt-rx-textfield\n  #editor\n  [isPassword]=\"options.isPassword\"\n  [label]=\"options.label\"\n  [required]=\"options.required\"\n  [(ngModel)]=\"value\"\n  [disabled]=\"isDisabled\"\n  [tooltip]=\"options.tooltip\"\n  [maxlength]=\"options.maxLength\"\n  [minlength]=\"options.minLength\"\n  [rxNoWhitespace]=\"!!(options.allowWhitespace === false || (options.required && options.allowWhitespace !== true))\"\n>\n</adapt-rx-textfield>\n","import {\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport { FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { ReplaySubject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { ISelectFormControlOptions, ISelectOption } from './select-form-control.interfaces';\nimport { head, isUndefined, map, filter, includes, castArray, isNil } from 'lodash';\nimport { AdaptRxControlLabelTooltip, AdaptRxSelectComponent, RxSelectOption } from '@bmc-ux/adapt-angular';\n\n@Component({\n  selector: 'rx-select-form-control',\n  templateUrl: './select-form-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: SelectFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class SelectFormControlComponent\n  extends ValueAccessor<string | string[]>\n  implements IFormControlComponent, OnInit, OnChanges, OnDestroy\n{\n  @Input()\n  options: ISelectFormControlOptions;\n\n  @Input()\n  appendToBody = false;\n\n  @Input()\n  formControl: FormControl;\n\n  @ViewChild('adaptSelectComponent', { static: true })\n  adaptSelectComponent: AdaptRxSelectComponent;\n\n  @ViewChild('popoverContent', { static: true })\n  popoverContent: TemplateRef<{}>;\n\n  adaptSelectValue: ISelectOption[] = [];\n  selectOptions: ISelectOption[];\n  tooltip: AdaptRxControlLabelTooltip;\n\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n  private isSortAlphabetically;\n\n  constructor(private renderer: Renderer2) {\n    super();\n  }\n\n  writeValue(value: string | string[]): void {\n    super.writeValue(value);\n\n    this.adaptSelectValue = this.getAdaptSelectValue(value);\n  }\n\n  focus(): void {\n    const el = this.renderer.selectRootElement(this.adaptSelectComponent.selectButtonRef.nativeElement, true);\n\n    el.focus();\n    el.click();\n  }\n\n  sortAlphabetically(items: ISelectOption[]): ISelectOption[] {\n    return items.sort((itemA, itemB) => itemA.name.localeCompare(itemB.name));\n  }\n\n  ngOnInit(): void {\n    if (this.formControl) {\n      const adaptControl = this.adaptSelectComponent.ngControl.control;\n\n      adaptControl.statusChanges.pipe(takeUntil(this.destroyed$)).subscribe(() => {\n        if (adaptControl.hasError('required') && !this.formControl.hasError('required')) {\n          Object.assign(adaptControl.errors, this.formControl.errors);\n          this.formControl.setErrors(adaptControl.errors, { emitEvent: false });\n        }\n      });\n\n      this.formControl.statusChanges.pipe(takeUntil(this.destroyed$)).subscribe(() => {\n        if (this.formControl.invalid) {\n          adaptControl.setErrors(this.formControl.errors, { emitEvent: false });\n        }\n      });\n    }\n\n    this.isSortAlphabetically = isUndefined(this.options.sortAlphabetically) || this.options.sortAlphabetically;\n\n    this.selectOptions = this.isSortAlphabetically\n      ? this.sortAlphabetically(this.options.options)\n      : this.options.options;\n\n    this.tooltip = this.options.tooltip\n      ? {\n          iconName: this.options.tooltip.iconName,\n          content: this.popoverContent,\n          placement: this.options.tooltip.placement,\n          popoverMode: this.options.tooltip.popoverMode\n        }\n      : null;\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.options) {\n      this.selectOptions = this.isSortAlphabetically\n        ? this.sortAlphabetically(changes.options.currentValue.options)\n        : changes.options.currentValue.options;\n\n      // ADAPT select value must be updated if options are changed, this logic can be eliminated if ADAPT #4116 issue will be resolved.\n      this.adaptSelectValue = this.getAdaptSelectValue(this.value);\n    }\n  }\n\n  optionFormatter(option: ISelectOption): string {\n    return option.name;\n  }\n\n  onSelectionChange(value: RxSelectOption[]): void {\n    let selectValue = map(value, 'id');\n\n    selectValue = this.options.multiple ? selectValue : head(selectValue);\n\n    if (this.options.beforeValueChange) {\n      this.options.beforeValueChange(this.value, selectValue).then((allowValueChange) => {\n        if (allowValueChange) {\n          this.value = selectValue;\n          this.adaptSelectValue = this.getAdaptSelectValue(selectValue);\n        } else {\n          this.adaptSelectComponent.writeValue(this.adaptSelectValue);\n        }\n      });\n    } else {\n      this.value = selectValue;\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  // We have to convert value for ADAPT select, e.g:\n  // - \"foo\" -> [{id: \"foo\", name: \"Foo\"}] or,\n  // - [\"foo\", \"bar\"] => [{id: \"foo\", name: \"Foo\"}, {id: \"bar\", name: \"Bar\"}].\n  // This logic can be eliminated if #4116 issue will be resolved.\n  private getAdaptSelectValue(value: string | string[]): RxSelectOption[] {\n    return this.options?.options && !isNil(value)\n      ? filter(this.options.options, (option) => includes(castArray(value), option.id))\n      : [];\n  }\n}\n","<adapt-rx-select\n  #adaptSelectComponent\n  [options]=\"selectOptions\"\n  [required]=\"options.required\"\n  [emptyOption]=\"options.emptyOption\"\n  [multiple]=\"options.multiple\"\n  [selectAllButton]=\"options.multiple && !options.hideSelectAllButton\"\n  [deselectAllButton]=\"options.multiple && !options.hideDeselectAllButton\"\n  [enableFilter]=\"options.enableFilter\"\n  [ngModel]=\"adaptSelectValue\"\n  (ngModelChange)=\"onSelectionChange($event)\"\n  [tooltip]=\"tooltip\"\n  [label]=\"options.label\"\n  [disabled]=\"isDisabled\"\n  [optionFormatter]=\"optionFormatter\"\n  [appendToBody]=\"appendToBody\"\n  class=\"d-block m-0\"\n>\n</adapt-rx-select>\n\n<ng-template #popoverContent>\n  <span [innerHtml]=\"options.tooltip.content\"></span>\n</ng-template>\n","import {\n  Component,\n  EventEmitter,\n  HostBinding,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  ChangeDetectorRef\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { concat, EMPTY, Observable, of, ReplaySubject, Subject } from 'rxjs';\nimport { distinctUntilChanged, finalize, switchMap, takeUntil, takeWhile, tap } from 'rxjs/operators';\nimport { flow, isArray, isEmpty, isNil, map, reduce, uniqueId } from 'lodash';\nimport {\n  ExpressionParserToken,\n  IDataDictionary,\n  IDataDictionaryBranch,\n  IFormControlComponent,\n  RxDataDictionaryUtils,\n  RxExpressionParserService\n} from '@helix/platform/shared/api';\nimport { RxObjectUtilsService, RxTreeService } from '@helix/platform/utils';\nimport { IExpressionFormControlOptions } from './expression-form-control.types';\nimport { RX_EXPRESSION_EDITOR } from '../../expression-editor';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\n\ninterface IExpressionNode {\n  id: string;\n  label?: string;\n  expression: string;\n  isInvalid?: boolean;\n  tooltip?: string;\n}\n\n@Component({\n  selector: 'rx-expression-form-control',\n  templateUrl: 'expression-form-control.component.html',\n  styleUrls: ['./expression-form-control.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: ExpressionFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class ExpressionFormControlComponent\n  extends ValueAccessor<string>\n  implements OnInit, OnDestroy, IFormControlComponent\n{\n  @Input()\n  options: IExpressionFormControlOptions;\n\n  @Input()\n  isDisabled: boolean;\n\n  @HostBinding('attr.property-path')\n  @Input()\n  propertyPath: string;\n\n  @HostBinding('attr.property-label')\n  get propertyLabel(): string {\n    return this.options?.expressionEditorPropertyName || this.options?.label || null;\n  }\n\n  @Output()\n  events: EventEmitter<any> = new EventEmitter();\n\n  nodes: Array<IExpressionNode> = [];\n\n  private valueSubject = new Subject<string>();\n\n  private dataDictionaryExpressionMap: Map<\n    IDataDictionaryBranch['expression'],\n    IDataDictionaryBranch & { tooltip: string }\n  >;\n\n  private expressionNodeMap = new Map<string, IExpressionNode>();\n  private destroyed$ = new ReplaySubject<boolean>(1);\n  private dataDictionary$: Observable<IDataDictionary>;\n  isTouched = false;\n\n  constructor(\n    private rxExpressionParserService: RxExpressionParserService,\n    private rxObjectUtilsService: RxObjectUtilsService,\n    private rxDataDictionaryUtils: RxDataDictionaryUtils,\n    private rxTreeService: RxTreeService,\n    private changeDetectorRef: ChangeDetectorRef\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.dataDictionary$ = this.options.dataDictionary$.pipe(takeUntil(this.destroyed$));\n\n    (isNil(this.value) ? this.valueSubject.asObservable() : concat(of(this.value), this.valueSubject.asObservable()))\n      .pipe(\n        distinctUntilChanged(),\n        switchMap((value) =>\n          // When value is not defined don't subscribe to data dictionary observable.\n          value\n            ? this.dataDictionary$.pipe(\n                tap(this.onDataDictionaryChange.bind(this)),\n                // Unsubscribe from data dictionary observable when value is removed.\n                takeWhile(() => Boolean(this.value))\n              )\n            : EMPTY.pipe(finalize(() => this.updateNodes()))\n        ),\n        takeUntil(this.destroyed$)\n      )\n      .subscribe();\n  }\n\n  onWriteValue(value: string): void {\n    this.valueSubject.next(value);\n  }\n\n  openEditor(): void {\n    this.isTouched = true;\n\n    this.events.emit({\n      type: RX_EXPRESSION_EDITOR.events.openExpressionEditor,\n      payload: {\n        propertyPath: this.propertyPath,\n        propertyLabel: this.propertyLabel,\n        isReadOnly: this.isDisabled\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  private onDataDictionaryChange(dataDictionary: IDataDictionary) {\n    this.dataDictionaryExpressionMap = flow(\n      (dictionary) => this.rxDataDictionaryUtils.addTooltips(dictionary),\n      (dictionary) =>\n        this.rxTreeService.flatten({\n          children: dictionary\n        }),\n      (dictionary) =>\n        reduce(\n          dictionary,\n          (dictionary, node) => {\n            if (isArray(node.expression)) {\n              node.expression.forEach((expressionItem) => {\n                dictionary.push({\n                  ...node,\n                  expression: expressionItem\n                });\n              });\n            } else {\n              dictionary.push(node);\n            }\n\n            return dictionary;\n          },\n          []\n        ),\n      (dictionary) => this.rxObjectUtilsService.mapFromArray(dictionary, 'expression')\n    )(dataDictionary);\n\n    this.updateNodes();\n  }\n\n  private getExpressionNode(token: string, expression: string): IExpressionNode {\n    const node: IExpressionNode = {\n      id: `$$rx-${uniqueId()}-rx$$`,\n      expression\n    };\n\n    const isArExpression = token === ExpressionParserToken.ArExpression;\n\n    if (\n      token === ExpressionParserToken.RxExpression ||\n      token === ExpressionParserToken.SingleQuoteRxExpression ||\n      token === ExpressionParserToken.SingleQuoteTextExpression ||\n      isArExpression\n    ) {\n      const dataDictionaryItem = this.dataDictionaryExpressionMap.get(expression);\n\n      if (dataDictionaryItem) {\n        node.label = dataDictionaryItem.label;\n        node.tooltip = dataDictionaryItem.tooltip;\n      } else if (isArExpression || token === ExpressionParserToken.SingleQuoteTextExpression) {\n        node.label = expression;\n      } else {\n        node.isInvalid = true;\n      }\n    }\n\n    return node;\n  }\n\n  private updateNodes(): void {\n    if (this.dataDictionaryExpressionMap) {\n      this.expressionNodeMap.clear();\n\n      this.nodes = this.value\n        ? map(\n            this.rxExpressionParserService\n              .parse(\n                this.value,\n                (token, expression) => {\n                  if (token !== ExpressionParserToken.RxStringExpression) {\n                    if (token === ExpressionParserToken.ArExpression) {\n                      expression = expression.replace('\\\\', '');\n                    }\n\n                    const node = this.getExpressionNode(token, expression);\n\n                    this.expressionNodeMap.set(node.id, node);\n\n                    expression = node.id;\n                  }\n\n                  return expression;\n                },\n                this.options.operators\n              )\n              .split(/(\\$\\$rx-[\\d]+-rx\\$\\$)/g)\n              .filter((element) => !isEmpty(element) && !/^((\\$\\$rx-)|(-rx\\$\\$)|([\\s]+))$/.test(element)),\n            (nodeId) =>\n              this.expressionNodeMap.get(nodeId) || {\n                id: nodeId,\n                expression: nodeId\n              }\n          )\n        : [];\n\n      this.changeDetectorRef.markForCheck();\n    }\n  }\n}\n","<adapt-rx-control-label\n  *ngIf=\"!options.isLabelHidden\"\n  [label]=\"options.label\"\n  [showRequiredLabel]=\"options.isRequired\"\n  [tooltip]=\"\n    options.tooltip\n      ? {\n          content: popoverContent,\n          popoverMode: options.tooltip.popoverMode,\n          placement: options.tooltip.placement,\n          iconName: options.tooltip.iconName\n        }\n      : null\n  \"\n></adapt-rx-control-label>\n\n<ng-template #popoverContent>\n  <span [innerHtml]=\"options.tooltip.content\"></span>\n</ng-template>\n\n<button\n  type=\"button\"\n  adapt-button\n  [btn-type]=\"'tertiary'\"\n  [ngClass]=\"{ 'bg-hover': nodes.length }\"\n  class=\"position-relative text-left overflow-hidden w-100 rounded p-0\"\n  (click)=\"openEditor()\"\n  [disabled]=\"isDisabled && !nodes.length\"\n>\n  <ng-container *ngIf=\"!nodes.length\">{{\n    options.clickToBuildExpressionLabel ||\n      'com.bmc.arsys.rx.client.expression-form-control.click-to-build-expression.label' | translate\n  }}</ng-container>\n\n  <ng-container *ngFor=\"let node of nodes\">\n    <ng-container\n      *ngTemplateOutlet=\"\n        node.isInvalid ? invalidExpression : node.label ? expression : plainText;\n        context: { $implicit: node }\n      \"\n    ></ng-container>\n  </ng-container>\n\n  <span class=\"fade-line position-absolute w-100 text-center\"><span class=\"d-icon-ellipsis_horizontal\"></span></span>\n</button>\n\n<ng-template #plainText let-node>\n  <span class=\"py-1 ml-1 rounded d-inline-block rx-ellipsis\">{{ node.expression }}</span>\n</ng-template>\n\n<ng-template #expression let-node>\n  <span\n    [adaptTooltip]=\"node.tooltip\"\n    placement=\"auto\"\n    class=\"d-inline-block rx-ellipsis p-1 ml-1 rounded bg-gray-300 text-default\"\n    >{{ node.label }}</span\n  >\n</ng-template>\n\n<ng-template #invalidExpression>\n  <span adaptTooltip=\"Error\" placement=\"auto\" class=\"d-inline-block rx-ellipsis p-1 ml-1 rounded bg-danger text-white\">\n    {{ 'com.bmc.arsys.rx.client.common.error.label' | translate }}\n  </span>\n</ng-template>\n\n<div *ngIf=\"options.isRequired && !nodes.length && isTouched\" class=\"text-danger\">\n  {{ 'com.bmc.arsys.rx.client.expression-form-control.validation.required.message' | translate }}\n</div>\n","import {\n  Component,\n  ElementRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  QueryList,\n  Renderer2,\n  SimpleChanges,\n  ViewChildren\n} from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ReplaySubject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { isEqual } from 'lodash';\n\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { IFormBuilderEvent, IFormControlComponent, IFormFocusable, IPlainObject } from '@helix/platform/shared/api';\n\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { IExpressionEditorPropertyChange } from '../../expression-editor/expression-editor.interfaces';\nimport { RxExpressionEditorService } from '../../expression-editor/expression-editor.service';\nimport {\n  AssignmentExpressionListTargetFieldType,\n  IAssignmentExpressionListFormControlOptions\n} from './assignment-expression-list-form-control.types';\n\n@Component({\n  selector: 'rx-assignment-expression-list-form-control',\n  templateUrl: './assignment-expression-list-form-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: AssignmentExpressionListFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class AssignmentExpressionListFormControlComponent\n  extends ValueAccessor<any[]>\n  implements IFormControlComponent, IFormFocusable, OnInit, OnChanges, OnDestroy\n{\n  @Input()\n  options: IAssignmentExpressionListFormControlOptions;\n\n  @Input()\n  propertyPath: string;\n\n  @ViewChildren('fieldGroups', { read: ElementRef })\n  private fieldGroups: QueryList<ElementRef>;\n\n  currentOptions: IAssignmentExpressionListFormControlOptions;\n  formArray: FormArray = this.formBuilder.array([]);\n\n  private defaultOptions = {\n    addItemText: 'com.bmc.arsys.rx.client.common.add.label',\n    confirmationMessage: 'com.bmc.arsys.rx.client.common.delete-item-confirmation.message',\n    sourceFieldOptions: {\n      options: {\n        label: 'com.bmc.arsys.rx.client.designer.assignment-expression.source.label',\n        required: true\n      },\n      propertyName: 'expression'\n    },\n    targetFieldOptions: {\n      options: {\n        label: 'com.bmc.arsys.rx.client.designer.assignment-expression.target.label',\n        required: true\n      },\n      propertyName: 'assignTarget'\n    }\n  };\n\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private renderer: Renderer2,\n    private rxExpressionEditorService: RxExpressionEditorService,\n    private rxModalService: RxModalService,\n    private translateService: TranslateService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.formArray.valueChanges.pipe(takeUntil(this.destroyed$)).subscribe((value) => {\n      this.value = value;\n    });\n\n    this.patchOptions(this.options);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.options.currentValue !== changes.options.previousValue) {\n      this.patchOptions(changes.options.currentValue);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.formArray.clear();\n\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  focus(data: IPlainObject): void {\n    const fieldGroup = this.fieldGroups.get(data.index);\n\n    if (data.fieldName === this.currentOptions.targetFieldOptions.propertyName) {\n      const targetFieldElement =\n        this.currentOptions.targetFieldOptions.type === AssignmentExpressionListTargetFieldType.Text\n          ? fieldGroup.nativeElement.querySelector('rx-text-form-control input')\n          : fieldGroup.nativeElement.querySelector('rx-select-form-control button');\n\n      targetFieldElement.focus();\n    } else if (data.fieldName === this.currentOptions.sourceFieldOptions.propertyName) {\n      const sourceFieldButton = fieldGroup.nativeElement.querySelector('rx-expression-form-control button');\n\n      sourceFieldButton.focus();\n      sourceFieldButton.click();\n    }\n  }\n\n  onWriteValue(value: IPlainObject[]): void {\n    if (!isEqual(value, this.formArray.value)) {\n      this.formArray.clear();\n\n      value.forEach((item) => this.addItem(item));\n    }\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    super.setDisabledState(isDisabled);\n\n    if (isDisabled) {\n      this.formArray.disable();\n    } else {\n      this.formArray.enable();\n    }\n  }\n\n  addItem(item?: IPlainObject): void {\n    this.formArray.push(\n      this.formBuilder.group(\n        item ?? {\n          [this.currentOptions.targetFieldOptions.propertyName]: null,\n          [this.currentOptions.sourceFieldOptions.propertyName]: null\n        }\n      )\n    );\n  }\n\n  openExpressionEditor(event: IFormBuilderEvent, formControl: FormControl): void {\n    this.rxExpressionEditorService\n      .openEditor({\n        expressionConfigurator: this.currentOptions.sourceFieldOptions.expressionConfigurator,\n        isReadOnly: this.isDisabled,\n        property: {\n          path: event.payload.propertyPath,\n          value: formControl.value,\n          label: event.payload.propertyLabel\n        }\n      })\n      .subscribe((expression: IExpressionEditorPropertyChange) => {\n        formControl.setValue(expression.value);\n      });\n  }\n\n  removeItem(index: number): void {\n    if (!this.isDisabled) {\n      this.rxModalService\n        .confirm({\n          title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n          modalStyle: RX_MODAL.modalStyles.warning,\n          message: this.currentOptions.confirmationMessage\n        })\n        .then((confirmed) => {\n          if (confirmed) {\n            this.formArray.removeAt(index);\n          }\n        });\n    }\n  }\n\n  private patchOptions(options: IAssignmentExpressionListFormControlOptions): void {\n    this.currentOptions = {\n      addItemText: this.translateService.instant(options.addItemText || this.defaultOptions.addItemText),\n      confirmationMessage: this.translateService.instant(\n        options.confirmationMessage || this.defaultOptions.confirmationMessage\n      ),\n      sourceFieldOptions: {\n        expressionConfigurator: options.sourceFieldOptions.expressionConfigurator,\n        options: {\n          label: this.translateService.instant(this.defaultOptions.sourceFieldOptions.options.label),\n          isRequired: this.defaultOptions.sourceFieldOptions.options.required,\n          ...options.sourceFieldOptions.options\n        },\n        propertyName: options.sourceFieldOptions.propertyName || this.defaultOptions.sourceFieldOptions.propertyName\n      },\n      targetFieldOptions: {\n        options: {\n          label: this.translateService.instant(this.defaultOptions.targetFieldOptions.options.label),\n          required: this.defaultOptions.targetFieldOptions.options.required,\n          ...options.targetFieldOptions.options\n        },\n        propertyName: options.targetFieldOptions.propertyName || this.defaultOptions.targetFieldOptions.propertyName,\n        type: options.targetFieldOptions.type\n      }\n    };\n  }\n}\n","<button\n  *ngIf=\"!isDisabled\"\n  class=\"btn btn-sm btn-link px-0 py-0\"\n  type=\"button\"\n  aria-label=\"{{ 'com.bmc.arsys.rx.client.common.add.label' | translate }}\"\n  rx-id=\"add-item-button\"\n  (click)=\"addItem()\"\n>\n  <span class=\"d-icon-plus_circle mr-1\" aria-hidden=\"true\"></span>\n\n  {{ currentOptions.addItemText }}\n</button>\n\n<div *ngFor=\"let formGroup of formArray.controls; let index = index\" class=\"card mt-2\">\n  <div class=\"card-block p-3\" #fieldGroups>\n    <button\n      *ngIf=\"!isDisabled\"\n      class=\"close position-relative\"\n      type=\"button\"\n      aria-label=\"{{ 'com.bmc.arsys.rx.client.common.remove.label' | translate }}\"\n      rx-id=\"remove-item-button\"\n      (click)=\"removeItem(index)\"\n    ></button>\n\n    <div class=\"pb-3\">\n      <rx-text-form-control\n        *ngIf=\"currentOptions.targetFieldOptions.type === 'text'\"\n        [formControl]=\"formGroup.get(currentOptions.targetFieldOptions.propertyName)\"\n        [options]=\"currentOptions.targetFieldOptions.options\"\n      ></rx-text-form-control>\n\n      <rx-select-form-control\n        *ngIf=\"currentOptions.targetFieldOptions.type === 'select'\"\n        [formControl]=\"formGroup.get(currentOptions.targetFieldOptions.propertyName)\"\n        [options]=\"currentOptions.targetFieldOptions.options\"\n      ></rx-select-form-control>\n    </div>\n\n    <rx-expression-form-control\n      [formControl]=\"formGroup.get(currentOptions.sourceFieldOptions.propertyName)\"\n      [options]=\"currentOptions.sourceFieldOptions.options\"\n      [isDisabled]=\"isDisabled\"\n      [propertyPath]=\"this.propertyPath + '[' + index + '].' + currentOptions.sourceFieldOptions.propertyName\"\n      (events)=\"openExpressionEditor($event, formGroup.get(currentOptions.sourceFieldOptions.propertyName))\"\n    ></rx-expression-form-control>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { ExpressionFormControlComponent } from './expression-form-control.component';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { AdaptButtonModule, AdaptIconModule, AdaptRxLabelModule, AdaptTooltipModule } from '@bmc-ux/adapt-angular';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    FormsModule,\n    CommonModule,\n    AdaptIconModule,\n    AdaptTooltipModule,\n    AdaptButtonModule,\n    AdaptRxLabelModule,\n    TranslateModule\n  ],\n  exports: [ExpressionFormControlComponent],\n  declarations: [ExpressionFormControlComponent],\n  entryComponents: [ExpressionFormControlComponent]\n})\nexport class ExpressionFormControlModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TextFormControlComponent } from './text-form-control.component';\nimport { AdaptRxTextfieldModule } from '@bmc-ux/adapt-angular';\nimport { FormsModule } from '@angular/forms';\nimport { RxNoWhitespaceValidatorModule } from '@helix/platform/utils';\n\n@NgModule({\n  declarations: [TextFormControlComponent],\n  exports: [TextFormControlComponent],\n  entryComponents: [TextFormControlComponent],\n  imports: [CommonModule, FormsModule, AdaptRxTextfieldModule, RxNoWhitespaceValidatorModule]\n})\nexport class TextFormControlModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SelectFormControlComponent } from './select-form-control.component';\nimport { FormsModule } from '@angular/forms';\nimport { AdaptRxSelectModule } from '@bmc-ux/adapt-angular';\n\n@NgModule({\n  declarations: [SelectFormControlComponent],\n  exports: [SelectFormControlComponent],\n  entryComponents: [SelectFormControlComponent],\n  imports: [CommonModule, FormsModule, AdaptRxSelectModule]\n})\nexport class SelectFormControlModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AssignmentExpressionListFormControlComponent } from './assignment-expression-list-form-control.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ExpressionFormControlModule } from '../expression-form-control';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { TextFormControlModule } from '../text-form-control';\nimport { SelectFormControlModule } from '../select-form-control';\n\n@NgModule({\n  declarations: [AssignmentExpressionListFormControlComponent],\n  entryComponents: [AssignmentExpressionListFormControlComponent],\n  imports: [\n    CommonModule,\n    TranslateModule,\n    ExpressionFormControlModule,\n    ReactiveFormsModule,\n    TextFormControlModule,\n    SelectFormControlModule\n  ],\n  exports: [AssignmentExpressionListFormControlComponent]\n})\nexport class AssignmentExpressionListFormControlModule {}\n","import { Component, Input, NgZone, OnInit } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { FileObj } from '@bmc-ux/adapt-angular';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\nimport { saveAs } from 'file-saver';\nimport { map } from 'lodash';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { IAttachmentFormControlOptions } from './attachment-form-control-options.interface';\n\n@Component({\n  selector: 'rx-attachment-form-control',\n  templateUrl: './attachment-form-control.component.html',\n  styleUrls: ['./attachment-form-control.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: AttachmentFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class AttachmentFormControlComponent extends ValueAccessor<File[]> implements IFormControlComponent, OnInit {\n  @Input()\n  options: IAttachmentFormControlOptions;\n\n  @Input()\n  isDisabled: boolean;\n\n  fileObjects: FileObj[];\n  customDownload = this.downloadFile.bind(this);\n\n  constructor(private ngZone: NgZone) {\n    super();\n  }\n\n  ngOnInit(): void {\n    if (!this.options.maxFileSize) {\n      this.options.maxFileSize = Number.MAX_SAFE_INTEGER.toString();\n    }\n\n    if (!this.options.filesCount) {\n      this.options.filesCount = '1';\n    }\n  }\n\n  onModelChange(files: FileObj[]): void {\n    this.value = files.length ? files.map((file) => file.data) : null;\n  }\n\n  onWriteValue(value: File[]): void {\n    this.fileObjects = map(value, (fileData) => {\n      const defaultFileObject = {\n        data: fileData,\n        allowDeletion: true,\n        inUploading: false,\n        inDeleting: false,\n        uploaded: 100,\n        error: false,\n        errorText: ''\n      };\n\n      const updatedFileObject = (this.fileObjects || []).find(({ data }) => data === fileData) || defaultFileObject;\n\n      updatedFileObject.uploaded = 100;\n\n      return updatedFileObject;\n    });\n  }\n\n  private downloadFile(fileObj: FileObj): void {\n    this.ngZone.runOutsideAngular(() => {\n      saveAs(fileObj.data, fileObj.data.name);\n    });\n  }\n}\n","<div class=\"form-group\">\n  <adapt-rx-uploader\n    [required]=\"options.required\"\n    [disabled]=\"isDisabled\"\n    (ngModelChange)=\"onModelChange($event)\"\n    [(ngModel)]=\"fileObjects\"\n    [label]=\"options.label\"\n    [filesCount]=\"options.filesCount\"\n    [maxFileSize]=\"options.maxFileSize\"\n    [enableCustomDownload]=\"true\"\n    [customDownload]=\"customDownload\"\n    [reusable]=\"true\"\n  ></adapt-rx-uploader>\n</div>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { AdaptRxUploaderModule } from '@bmc-ux/adapt-angular';\nimport { AttachmentFormControlComponent } from './attachment-form-control.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, AdaptRxUploaderModule.forRoot()],\n  exports: [AttachmentFormControlComponent],\n  declarations: [AttachmentFormControlComponent],\n  entryComponents: [AttachmentFormControlComponent]\n})\nexport class AttachmentFormControlModule {}\n","import { Component, Input } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport { IFormControlComponent } from '@helix/platform/shared/api';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { ICheckboxFormControlOptions } from './boolean-form-control-options.interface';\n\n@Component({\n  selector: 'rx-checkbox-form-control',\n  templateUrl: './boolean-form-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: BooleanFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class BooleanFormControlComponent extends ValueAccessor<boolean> implements IFormControlComponent {\n  @Input()\n  options: ICheckboxFormControlOptions;\n\n  @Input()\n  isDisabled: boolean;\n\n  id: string;\n}\n","<rx-boolean\n  [label]=\"options.label || options.description\"\n  [required]=\"options.required\"\n  [isDisabled]=\"isDisabled\"\n  [shouldDisplayAsCheckbox]=\"options.shouldDisplayAsCheckbox\"\n  [(ngModel)]=\"value\"\n  [tooltip]=\"options.tooltip\"\n></rx-boolean>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { AdaptRxCheckboxModule, AdaptRxLabelModule } from '@bmc-ux/adapt-angular';\nimport { RxBooleanModule } from '../../boolean/boolean.module';\nimport { BooleanFormControlComponent } from './boolean-form-control.component';\n\n@NgModule({\n  declarations: [BooleanFormControlComponent],\n  exports: [BooleanFormControlComponent],\n  entryComponents: [BooleanFormControlComponent],\n  imports: [CommonModule, FormsModule, AdaptRxCheckboxModule, AdaptRxLabelModule, RxBooleanModule]\n})\nexport class BooleanFormControlModule {}\n","import { Component, Input } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\nimport { RxColorUtilsService } from '@helix/platform/utils';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { IColorPickerFormControlOptions } from './color-picker-form-control-options.interface';\nimport { Color } from '@bmc-ux/adapt-angular';\n\n@Component({\n  selector: 'rx-color-picker-form-control',\n  templateUrl: './color-picker-form-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: ColorPickerFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class ColorPickerFormControlComponent extends ValueAccessor<string> implements IFormControlComponent {\n  @Input()\n  options: IColorPickerFormControlOptions;\n\n  @Input()\n  isDisabled: boolean;\n\n  private colorValue: string;\n\n  constructor(private rxColorUtilsService: RxColorUtilsService) {\n    super();\n  }\n\n  get color(): string {\n    return this.colorValue;\n  }\n\n  set color(color: string) {\n    if (!this.rxColorUtilsService.isSameColor(color, this.value)) {\n      this.value = this.rxColorUtilsService.normalize(color);\n      this.colorValue = color;\n    }\n  }\n\n  onWriteValue(value: string): void {\n    if (!this.color || !this.rxColorUtilsService.isSameColor(this.color, value)) {\n      this.colorValue = this.rxColorUtilsService.normalize(value);\n    }\n  }\n\n  setColor(color: Color): void {\n    this.color = color?.value || 'null';\n  }\n}\n","<div class=\"form-group\">\n  <adapt-rx-control-label [showRequiredLabel]=\"options.required\" [label]=\"options.label\"></adapt-rx-control-label>\n\n  <adapt-color-picker\n    [disabled]=\"isDisabled\"\n    [(ngModel)]=\"color\"\n    [showEmptyOption]=\"!options.required\"\n    [showRecentlyUsedColors]=\"false\"\n    (onSelectColor)=\"setColor($event)\"\n  ></adapt-color-picker>\n</div>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { AdaptColorPickerModule, AdaptRxLabelModule } from '@bmc-ux/adapt-angular';\nimport { ColorPickerFormControlComponent } from './color-picker-form-control.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, AdaptColorPickerModule, AdaptRxLabelModule],\n  declarations: [ColorPickerFormControlComponent],\n  exports: [ColorPickerFormControlComponent]\n})\nexport class ColorPickerFormControlModule {}\n","import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { IFormControlComponent, IFormFocusable } from '@helix/platform/shared/api';\nimport { isNil } from 'lodash';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { ICounterFormControlOptions } from './counter-form-control-options.interface';\nimport { RX_NUMBER } from '@helix/platform/utils';\nimport { AdaptRxCounterComponent } from '@bmc-ux/adapt-angular';\n\n@Component({\n  selector: 'rx-counter-form-control',\n  templateUrl: './counter-form-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: CounterFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class CounterFormControlComponent\n  extends ValueAccessor<number>\n  implements IFormControlComponent, OnInit, IFormFocusable\n{\n  @Input()\n  options: ICounterFormControlOptions;\n\n  @Input()\n  isDisabled: boolean;\n\n  @ViewChild(AdaptRxCounterComponent)\n  adaptRxCounterComponent: AdaptRxCounterComponent;\n\n  ngOnInit(): void {\n    if (isNil(this.options.maxValue)) {\n      this.options.maxValue = this.options.allowIntegerOnly ? RX_NUMBER.maxInteger : Number.MAX_SAFE_INTEGER;\n    }\n\n    if (isNil(this.options.minValue)) {\n      this.options.minValue = this.options.allowIntegerOnly ? RX_NUMBER.minInteger : Number.MIN_SAFE_INTEGER;\n    }\n  }\n\n  focus(): void {\n    this.adaptRxCounterComponent.inputEl.nativeElement.focus();\n  }\n}\n","<adapt-rx-counter\n  *ngIf=\"options.allowIntegerOnly\"\n  [label]=\"options.label\"\n  [required]=\"options.required\"\n  [disabled]=\"isDisabled\"\n  [(ngModel)]=\"value\"\n  [max]=\"options.maxValue\"\n  [min]=\"options.minValue\"\n  [adaptMax]=\"options.maxValue\"\n  [adaptMin]=\"options.minValue\"\n  adaptIntegerNumber\n  [tooltip]=\"\n    options.tooltip\n      ? {\n          content: tooltipContent,\n          iconName: 'question_circle_o'\n        }\n      : null\n  \"\n>\n</adapt-rx-counter>\n\n<adapt-rx-counter\n  *ngIf=\"!options.allowIntegerOnly\"\n  [label]=\"options.label\"\n  [required]=\"options.required\"\n  [disabled]=\"isDisabled\"\n  [(ngModel)]=\"value\"\n  [max]=\"options.maxValue\"\n  [min]=\"options.minValue\"\n  [adaptMax]=\"options.maxValue\"\n  [adaptMin]=\"options.minValue\"\n  adaptScientificNumber\n  [tooltip]=\"\n    options.tooltip\n      ? {\n          content: tooltipContent,\n          iconName: 'question_circle_o'\n        }\n      : null\n  \"\n>\n</adapt-rx-counter>\n\n<ng-template #tooltipContent>\n  <div [innerHTML]=\"options.tooltip\"></div>\n</ng-template>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { AdaptRxCounterModule, AdaptRxValidatorsModule } from '@bmc-ux/adapt-angular';\nimport { CounterFormControlComponent } from './counter-form-control.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, AdaptRxValidatorsModule, AdaptRxCounterModule],\n  declarations: [CounterFormControlComponent],\n  exports: [CounterFormControlComponent],\n  entryComponents: [CounterFormControlComponent]\n})\nexport class CounterFormControlModule {}\n","import { Component, Injector } from '@angular/core';\nimport { ActiveModalRef, DismissReasons, RxSelectionChangeEvent, RxSelectOption } from '@bmc-ux/adapt-angular';\nimport { FormBuilder, FormControl, FormGroup } from '@angular/forms';\nimport { RX_MODAL, RxModalClass, RxModalService } from '@helix/platform/ui-kit';\nimport { find, noop } from 'lodash';\nimport {\n  ICustomizationOptionsEditorData,\n  IScopeSelectionOption,\n  RX_BUNDLE,\n  RX_OVERLAY\n} from '@helix/platform/shared/api';\n\n@Component({\n  selector: 'rx-scope-customization-modal',\n  templateUrl: './coarse-grained-customization-options-editor.component.html'\n})\nexport class CoarseGrainedCustomizationOptionsEditorComponent extends RxModalClass {\n  data: ICustomizationOptionsEditorData = this.activeModalRef.getData();\n  scopeSelectionOptions: IScopeSelectionOption[] = this.data.scopeSelectionOptions;\n  customizationOptionsForm: FormGroup;\n  isDisabled = this.data.overlayOperation !== RX_OVERLAY.operationTypes.createdInThisOverlayGroup;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private rxModalService: RxModalService,\n    public activeModalRef: ActiveModalRef,\n    protected injector: Injector\n  ) {\n    super(activeModalRef, injector);\n    this.initForm();\n  }\n\n  isDirty(): boolean {\n    return this.customizationOptionsForm.dirty;\n  }\n\n  isPublic(): boolean {\n    return this.customizationOptionsForm.get('scope').value[0].id === RX_BUNDLE.definitionScopeTypes.public;\n  }\n\n  optionFormatter(option: RxSelectOption): string {\n    return option.name;\n  }\n\n  submit(): void {\n    if (this.isPublic()) {\n      this.rxModalService\n        .confirm({\n          title: 'Warning',\n          modalStyle: RX_MODAL.modalStyles.warning,\n          message:\n            'If the definition scope is set to Public, it cannot be changed once the definition gets saved. Do you want to continue?'\n        })\n        .then((result: boolean) => {\n          if (result) {\n            this.closeModal();\n          }\n        })\n        .catch(noop);\n    } else if (this.data.definitionScopeName === RX_BUNDLE.definitionScopeNames.public) {\n      this.rxModalService\n        .confirm({\n          title: 'Warning',\n          modalStyle: RX_MODAL.modalStyles.warning,\n          message:\n            'Changing the definition scope from Public to Application or Library can break upgrades. Do you want to continue?'\n        })\n        .then((result: boolean) => {\n          if (result) {\n            this.closeModal();\n          }\n        })\n        .catch(noop);\n    } else {\n      this.closeModal();\n    }\n  }\n\n  onScopeChange(rxSelectionChangeEvent: RxSelectionChangeEvent): void {\n    if (rxSelectionChangeEvent.options[0].id === RX_BUNDLE.definitionScopes.application.type) {\n      this.customizationOptionsForm.get('allowOverlay').setValue(false);\n    }\n  }\n\n  closeModal(): void {\n    const result = this.customizationOptionsForm.getRawValue();\n    result.scope = result.scope[0].id;\n    this.activeModalRef.close(result);\n  }\n\n  private initForm(): void {\n    const definitionScopeName = find(\n      this.scopeSelectionOptions,\n      (scopeType) => scopeType.name === this.data.definitionScopeName\n    );\n\n    this.customizationOptionsForm = this.formBuilder.group({\n      scope: new FormControl([definitionScopeName]),\n      allowOverlay: { value: this.data.allowOverlay || false, disabled: this.data.isDisabled }\n    });\n  }\n\n  cancel(): void {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n}\n","<div class=\"modal-body\">\n  <form [formGroup]=\"customizationOptionsForm\" class=\"row\">\n    <div class=\"col-lg-5\">\n      <adapt-rx-select\n        label=\"Scope\"\n        rx-id=\"scope\"\n        [options]=\"scopeSelectionOptions\"\n        [optionFormatter]=\"optionFormatter\"\n        [disabled]=\"isDisabled || data.isDisabled\"\n        [tooltip]=\"{\n          iconName: 'question_circle_o',\n          content:\n            'If Scope is set to Application or Library, the definition will be available only to this application or library. If Scope is set to Public, the definition will be available to use by this and other applications and libraries.',\n          placement: 'bottom',\n          popoverMode: true\n        }\"\n        formControlName=\"scope\"\n        (onSelectionChange)=\"onScopeChange($event)\"\n      >\n      </adapt-rx-select>\n    </div>\n\n    <div class=\"col-lg-12\">\n      <h5>{{'com.bmc.arsys.rx.client.customization-options-editor.customization-options.label' | translate}}</h5>\n      <adapt-rx-checkbox\n        label=\"{{'com.bmc.arsys.rx.client.customization-options-editor.allow-future-customization.label'\n        | translate : { definitionType: data.definitionTypeDisplayName } }}\"\n        formControlName=\"allowOverlay\"\n        [disabled]=\"isDisabled || !isPublic()\"\n      >\n      </adapt-rx-checkbox>\n    </div>\n  </form>\n</div>\n\n<div class=\"modal-footer\">\n  <button\n    class=\"btn btn-primary btn-sm\"\n    [disabled]=\"!customizationOptionsForm.dirty\"\n    rx-id=\"save-button\"\n    (click)=\"submit()\"\n    type=\"button\"\n  >\n    Save\n  </button>\n\n  <button type=\"button\" class=\"btn btn-secondary btn-sm\" (click)=\"cancel()\" rx-id=\"cancel-button\">Cancel</button>\n</div>\n","import { Component, Input, OnChanges, SimpleChanges } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport {\n  ICustomizationControlValue,\n  ICustomizationOptions,\n  ICustomizationOptionsEditorData,\n  IScopeSelectionOption,\n  RxBundleCacheService,\n  RxOverlayService,\n  RX_OVERLAY\n} from '@helix/platform/shared/api';\nimport { RxModalService } from '@helix/platform/ui-kit';\nimport { noop } from 'lodash';\nimport { take } from 'rxjs/operators';\nimport { CoarseGrainedCustomizationOptionsEditorComponent } from '../../coarse-grained-customization-options-editor/coarse-grained-customization-options-editor.component';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\n\n@Component({\n  selector: 'rx-scope-customization-control',\n  templateUrl: './customization-options.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: CustomizationOptionsComponent,\n      multi: true\n    }\n  ]\n})\nexport class CustomizationOptionsComponent extends ValueAccessor<ICustomizationControlValue> implements OnChanges {\n  @Input()\n  options: ICustomizationOptions;\n\n  allowOverlayLabel: string;\n  definitionScopeName: string;\n  overlayOperation: string;\n\n  private scopeSelectionOptions: IScopeSelectionOption[];\n\n  constructor(\n    private rxModalService: RxModalService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxOverlayService: RxOverlayService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    if (this.options) {\n      this.updateValues();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.options) {\n      this.updateValues();\n    }\n  }\n\n  private getOverlayOperation(): string {\n    return this.rxOverlayService.getOverlayOperation(\n      this.options.overlayGroupId,\n      this.options.overlayDescriptor?.parentOverlayGroupId || null\n    );\n  }\n\n  private updateValues(): void {\n    this.setAllowOverlayLabel(this.options.allowOverlay);\n\n    this.rxBundleCacheService\n      .getDefinitionScopeName(this.options.scope)\n      .pipe(take(1))\n      .subscribe((definitionScopeName: string) => (this.definitionScopeName = definitionScopeName));\n\n    this.rxBundleCacheService\n      .getDefinitionScopeSelectionOptions()\n      .pipe(take(1))\n      .subscribe(\n        (scopeSelectionOptions: IScopeSelectionOption[]) => (this.scopeSelectionOptions = scopeSelectionOptions)\n      );\n\n    if (this.options.overlayGroupId) {\n      this.overlayOperation = this.getOverlayOperation();\n    } else {\n      this.overlayOperation = RX_OVERLAY.operationTypes.createdInThisOverlayGroup;\n    }\n  }\n\n  openCustomizationOptionsEditor(): void {\n    this.rxModalService\n      .openModal({\n        title: 'Scope/Customization options',\n        content: CoarseGrainedCustomizationOptionsEditorComponent,\n        blockKeyboard: false,\n        size: 'sm',\n\n        data: {\n          definitionScopeName: this.definitionScopeName,\n          allowOverlay: this.options.allowOverlay,\n          scopeSelectionOptions: this.scopeSelectionOptions,\n          isDisabled: this.options.isDisabled,\n          overlayOperation: this.overlayOperation,\n          definitionTypeDisplayName: this.options.definitionTypeDisplayName\n        } as ICustomizationOptionsEditorData\n      })\n      .then((result: ICustomizationControlValue) => {\n        this.setAllowOverlayLabel(result.allowOverlay);\n        this.definitionScopeName = this.scopeSelectionOptions.find((value) => value.id === result.scope).name;\n\n        this.value = result;\n      })\n      .catch(noop);\n  }\n\n  setAllowOverlayLabel(allowOverlay: boolean): void {\n    this.allowOverlayLabel = allowOverlay\n      ? RX_OVERLAY.overlayAllowedLabels.allowed\n      : RX_OVERLAY.overlayAllowedLabels.notAllowed;\n  }\n}\n","<div class=\"d-flex\">\n  <adapt-button\n    btn-type=\"tertiary\"\n    rx-id=\"open-customization-options-editor-link\"\n    (click)=\"openCustomizationOptionsEditor()\"\n    class=\"p-0\"\n  >\n    {{ 'com.bmc.arsys.rx.client.designer.scope-customization-options.title' | translate }}\n  </adapt-button>\n  <adapt-icon\n    name=\"question_circle_o\"\n    class=\"ml-2\"\n    placement=\"right\"\n    maxWidth=\"400\"\n    [adaptPopover]=\"'com.bmc.arsys.rx.client.designer.scope-customization-options.scope.tooltip' | translate\"\n  >\n  </adapt-icon>\n</div>\n\n<p rx-id=\"scope-name-label\" class=\"mb-0 pt-2\">\n  {{\n    'com.bmc.arsys.rx.client.designer.scope-customization-options.scope.label'\n      | translate: { definitionScopeName: definitionScopeName }\n  }}\n</p>\n<div rx-id=\"customization-options-label\" class=\"pt-2\">\n  {{\n    'com.bmc.arsys.rx.client.designer.scope-customization-options.customization.label'\n      | translate: { allowOverlayLabel: allowOverlayLabel }\n  }}\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport {\n  AdaptTooltipModule,\n  AdaptRxSelectModule,\n  AdaptButtonModule,\n  AdaptPopoverModule,\n  AdaptIconModule,\n  AdaptRxCheckboxModule\n} from '@bmc-ux/adapt-angular';\nimport { AdaptCheckbox2Module } from '@bmc-ux/obsolete';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CustomizationOptionsComponent } from './customization-options.component';\nimport { CoarseGrainedCustomizationOptionsEditorComponent } from '../../coarse-grained-customization-options-editor/coarse-grained-customization-options-editor.component';\n\n@NgModule({\n  declarations: [CustomizationOptionsComponent, CoarseGrainedCustomizationOptionsEditorComponent],\n  exports: [CustomizationOptionsComponent],\n  entryComponents: [CustomizationOptionsComponent, CoarseGrainedCustomizationOptionsEditorComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    AdaptTooltipModule,\n    AdaptRxSelectModule,\n    AdaptButtonModule,\n    AdaptCheckbox2Module,\n    AdaptPopoverModule,\n    AdaptIconModule,\n    AdaptRxCheckboxModule,\n    ReactiveFormsModule,\n    TranslateModule\n  ]\n})\nexport class CustomizationOptionsModule {}\n","import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { RxDateStruct, RxDatetimePickerMode } from '@bmc-ux/adapt-angular';\nimport moment from 'moment-es6';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { IDateFormControlOptions } from './date-form-control-options.interface';\n\n@Component({\n  selector: 'rx-date-form-control',\n  templateUrl: './date-form-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: DateFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class DateFormControlComponent extends ValueAccessor<string> implements IFormControlComponent, OnInit {\n  @Input()\n  options: IDateFormControlOptions;\n\n  @Input()\n  isDisabled: boolean;\n\n  datePickerControl = new FormControl('');\n\n  pickerMode = RxDatetimePickerMode.Date;\n\n  ngOnInit(): void {\n    this.datePickerControl.valueChanges.subscribe((value: RxDateStruct) => {\n      if (value) {\n        this.value = moment([value.year, value.month, value.date]).format('YYYY-MM-DD');\n      } else {\n        this.value = null;\n      }\n    });\n  }\n\n  writeValue(value: string): void {\n    super.writeValue(value);\n\n    const date = moment(this.value);\n\n    if (date.isValid()) {\n      this.datePickerControl.setValue({\n        year: date.year(),\n        month: date.month(),\n        date: date.date()\n      });\n    } else {\n      this.datePickerControl.setValue(null);\n    }\n  }\n}\n","<adapt-rx-datetime\n  [label]=\"options.label\"\n  [disabled]=\"isDisabled\"\n  [mode]=\"pickerMode\"\n  [required]=\"options.required\"\n  [formControl]=\"datePickerControl\"\n>\n</adapt-rx-datetime>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AdaptRxDatetimeModule } from '@bmc-ux/adapt-angular';\nimport { DateFormControlComponent } from './date-form-control.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ReactiveFormsModule, AdaptRxDatetimeModule],\n  declarations: [DateFormControlComponent],\n  exports: [DateFormControlComponent],\n  entryComponents: [DateFormControlComponent]\n})\nexport class DateFormControlModule {}\n","import { Injectable } from '@angular/core';\nimport { IFormBuilderEvent } from '@helix/platform/shared/api';\nimport { Subject } from 'rxjs';\nimport { IFormBuilderEditor } from './form-builder-editor.interface';\n\n@Injectable()\nexport class FormBuilderService {\n  private editorEventSubject = new Subject<IFormBuilderEvent>();\n  private focusEditorSubject = new Subject<IFormBuilderEditor>();\n\n  editorEvent$ = this.editorEventSubject.asObservable();\n  focusEditor$ = this.focusEditorSubject.asObservable();\n\n  setFocusEditor(focusEditor: IFormBuilderEditor) {\n    this.focusEditorSubject.next(focusEditor);\n  }\n\n  dispatch(builderEvent: IFormBuilderEvent): void {\n    this.editorEventSubject.next(builderEvent);\n  }\n}\n","export const FORM_BUILDER = {\n  controlTypes: {\n    widget: 'widget',\n    formControl: 'formControl',\n    section: 'section'\n  }\n};\n","export abstract class AbstractFormControlModel {\n  type: string;\n  hidden = false;\n\n  hide() {\n    this.hidden = true;\n  }\n\n  show() {\n    this.hidden = false;\n  }\n}\n","import { AbstractControl } from '@angular/forms';\nimport { FORM_BUILDER } from '../form-builder.constant';\nimport { AbstractFormControlModel } from './abstract-form-control.model';\nimport { IFormControlOptions } from './interfaces/form-control-options.interface';\n\nexport class FormControlModel extends AbstractFormControlModel {\n  type = FORM_BUILDER.controlTypes.formControl;\n  component: any;\n  name: string;\n  isDisabled = false;\n  formControl: AbstractControl;\n  options: any;\n\n  constructor(options: IFormControlOptions, formControl: AbstractControl) {\n    super();\n\n    this.formControl = formControl;\n    this.name = options.name;\n    this.component = options.component;\n    this.hidden = options.hidden;\n    this.isDisabled = options.isDisabled;\n    this.options = options.options || {};\n  }\n}\n","import { FORM_BUILDER } from '../form-builder.constant';\nimport { AbstractFormControlModel } from './abstract-form-control.model';\nimport { FormControlModel } from './form-control.model';\nimport { FormWidgetModel } from './form-widget.model';\nimport { IFormSectionOptions } from './interfaces/form-section-options.interface';\n\nexport class FormSectionModel extends AbstractFormControlModel {\n  type = FORM_BUILDER.controlTypes.section;\n  label: string;\n  open = true;\n  controls: Array<FormControlModel | FormWidgetModel> = [];\n\n  constructor(options: IFormSectionOptions) {\n    super();\n\n    this.controls = options.controls;\n    this.label = options.label;\n    this.open = options.open === undefined ? true : options.open;\n    this.hidden = options.hidden === undefined ? false : options.hidden;\n  }\n\n  collapse() {\n    this.open = false;\n  }\n\n  expand() {\n    this.open = true;\n  }\n}\n","import { FORM_BUILDER } from '../form-builder.constant';\nimport { AbstractFormControlModel } from './abstract-form-control.model';\nimport { IFormWidgetOptions } from './interfaces/form-widget-options.interface';\n\nexport class FormWidgetModel extends AbstractFormControlModel {\n  type = FORM_BUILDER.controlTypes.widget;\n  component: any;\n  hidden = false;\n  isDisabled = false;\n  options: any;\n  widgetName: string;\n\n  constructor(options: IFormWidgetOptions) {\n    super();\n\n    this.component = options.component;\n    this.hidden = options.hidden;\n    this.isDisabled = options.isDisabled;\n    this.options = options.options || {};\n    this.widgetName = options.widgetName;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { FormControlModel } from './models/form-control.model';\nimport { FormSectionModel } from './models/form-section.model';\nimport { FormWidgetModel } from './models/form-widget.model';\nimport { IFormControlOptions } from './models/interfaces/form-control-options.interface';\nimport { IFormSectionOptions } from './models/interfaces/form-section-options.interface';\nimport { IFormWidgetOptions } from './models/interfaces/form-widget-options.interface';\nimport { AbstractControl } from '@angular/forms';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FormBuilderFactory {\n  control(options: IFormControlOptions, formControl: AbstractControl): FormControlModel {\n    return new FormControlModel(options, formControl);\n  }\n\n  widget(options: IFormWidgetOptions): FormWidgetModel {\n    return new FormWidgetModel(options);\n  }\n\n  section(options: IFormSectionOptions): FormSectionModel {\n    return new FormSectionModel(options);\n  }\n}\n","import {\n  Component,\n  ComponentFactoryResolver,\n  ComponentRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n  SimpleChange,\n  SimpleChanges,\n  ViewChild,\n  ViewContainerRef\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { isEqual, kebabCase } from 'lodash';\nimport { ReplaySubject } from 'rxjs';\nimport { FormControlModel } from '../../models/form-control.model';\nimport { IFormControlComponent, IFormFocusable } from '@helix/platform/shared/api';\nimport { takeUntil } from 'rxjs/operators';\nimport { FormWidgetModel } from '../../models/form-widget.model';\nimport { FormBuilderService } from '../form-builder/form-builder.service';\n\n@Component({\n  selector: 'rx-form-outlet',\n  template: '<ng-container #container></ng-container>',\n  styleUrls: ['./form-outlet.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: FormOutletComponent,\n      multi: true\n    }\n  ]\n})\nexport class FormOutletComponent implements OnInit, OnDestroy, ControlValueAccessor, OnChanges {\n  @Input()\n  control: FormControlModel | FormWidgetModel;\n\n  @ViewChild('container', { read: ViewContainerRef, static: true })\n  container: ViewContainerRef;\n\n  private instance: IFormControlComponent;\n  private componentRef: ComponentRef<{}>;\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  constructor(\n    private cr: ComponentFactoryResolver,\n    private formBuilderService: FormBuilderService,\n    private renderer: Renderer2\n  ) {}\n\n  ngOnInit(): void {\n    const factory = this.cr.resolveComponentFactory(this.control.component);\n    const controlName = this.getControlName(this.control);\n\n    this.componentRef = this.container.createComponent(factory);\n    this.renderer.setAttribute(this.componentRef.location.nativeElement, 'rx-id', kebabCase(controlName));\n\n    this.instance = this.componentRef.instance as IFormControlComponent;\n    this.instance.options = this.control.options;\n    this.instance.propertyPath = controlName;\n\n    if (this.instance.events) {\n      this.instance.events.pipe(takeUntil(this.destroyed$)).subscribe((event) => {\n        this.formBuilderService.dispatch(event);\n      });\n    }\n\n    this.formBuilderService.focusEditor$.pipe(takeUntil(this.destroyed$)).subscribe(({ editorName, data }) => {\n      if (controlName === editorName && this.isFocusable(this.instance)) {\n        this.instance.focus(data);\n      }\n    });\n  }\n\n  private getControlName(control: FormControlModel | FormWidgetModel): string {\n    if (control instanceof FormWidgetModel) {\n      return control.component.name;\n    } else if (control instanceof FormControlModel) {\n      return control.name;\n    } else {\n      return '';\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.control && this.instance) {\n      this.instance.options = changes.control.currentValue.options;\n\n      if (this.isSupportChanges(this.instance)) {\n        const onChanges: any = {};\n\n        if (!isEqual(changes.control.previousValue.options, changes.control.currentValue.options)) {\n          onChanges.options = new SimpleChange(\n            changes.control.previousValue.options,\n            changes.control.currentValue.options,\n            false\n          );\n        }\n\n        if (changes.control.previousValue.isDisabled !== changes.control.currentValue.isDisabled) {\n          onChanges.disabled = new SimpleChange(\n            changes.control.previousValue.isDisabled,\n            changes.control.currentValue.isDisabled,\n            false\n          );\n        }\n\n        if (Object.keys(onChanges).length) {\n          this.instance.ngOnChanges(onChanges);\n        }\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.componentRef.destroy();\n    this.componentRef = null;\n\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  // proxy calls from ControlValueAccessor interface to control component\n  writeValue(value: any): void {\n    this.instance.writeValue(value);\n  }\n\n  registerOnChange(fn: any): void {\n    this.instance.registerOnChange(fn);\n  }\n\n  registerOnTouched(fn: any): void {\n    this.instance.registerOnTouched(fn);\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.instance.setDisabledState(isDisabled);\n  }\n\n  private isFocusable(instance: IFormControlComponent | IFormFocusable): instance is IFormFocusable {\n    return Boolean((instance as IFormFocusable).focus);\n  }\n\n  private isSupportChanges(instance: IFormControlComponent | OnChanges): instance is OnChanges {\n    return Boolean((instance as OnChanges).ngOnChanges);\n  }\n}\n","import {\n  AfterViewInit,\n  Component,\n  ComponentFactoryResolver,\n  ComponentRef,\n  HostBinding,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChange,\n  SimpleChanges,\n  ViewChild,\n  ViewContainerRef\n} from '@angular/core';\nimport { FormWidgetModel } from '../../models/form-widget.model';\nimport { FormBuilderEvent, IFormFocusable, IFormWidgetComponent } from '@helix/platform/shared/api';\nimport { ReplaySubject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { FormBuilderService } from '../form-builder/form-builder.service';\nimport { isEqual } from 'lodash';\n\n@Component({\n  selector: 'rx-form-widget',\n  template: '<ng-container #container></ng-container>',\n  styleUrls: ['./form-widget.component.scss']\n})\nexport class FormWidgetComponent implements OnInit, OnDestroy, OnChanges, AfterViewInit {\n  @Input() widget: FormWidgetModel;\n\n  @ViewChild('container', { read: ViewContainerRef, static: true }) container: ViewContainerRef;\n\n  private componentRef: ComponentRef<{}>;\n  private formWidgetComponent: IFormWidgetComponent;\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  @HostBinding('class.isHidden')\n  isHidden = false;\n\n  constructor(\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private formBuilderService: FormBuilderService\n  ) {}\n\n  ngOnInit() {\n    const factory = this.componentFactoryResolver.resolveComponentFactory(this.widget.component);\n\n    this.componentRef = this.container.createComponent(factory);\n\n    this.formWidgetComponent = this.componentRef.instance as IFormWidgetComponent;\n\n    this.formWidgetComponent.options = this.widget.options;\n    this.formWidgetComponent.isDisabled = this.widget.isDisabled;\n\n    this.formBuilderService.focusEditor$?.pipe(takeUntil(this.destroyed$)).subscribe(({ editorName, data }) => {\n      if (editorName === this.widget.widgetName && this.isFocusable(this.formWidgetComponent)) {\n        this.formWidgetComponent.focus(data);\n      }\n    });\n  }\n\n  ngAfterViewInit(): void {\n    this.formWidgetComponent.events?.pipe(takeUntil(this.destroyed$)).subscribe((event) => {\n      if (event.type === FormBuilderEvent.HideWidget) {\n        this.isHidden = event.payload;\n      } else {\n        this.formBuilderService.dispatch(event);\n      }\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.widget && this.formWidgetComponent) {\n      if (!isEqual(changes.widget.currentValue.component, changes.widget.previousValue.component)) {\n        this.componentRef.destroy();\n\n        const factory = this.componentFactoryResolver.resolveComponentFactory(changes.widget.currentValue.component);\n\n        this.componentRef = this.container.createComponent(factory);\n\n        this.formWidgetComponent = this.componentRef.instance as IFormWidgetComponent;\n      }\n\n      this.formWidgetComponent.options = changes.widget.currentValue.options;\n      this.formWidgetComponent.isDisabled = changes.widget.currentValue.isDisabled;\n\n      if (this.isSupportChanges(this.formWidgetComponent)) {\n        const onChanges: any = {};\n\n        if (!isEqual(changes.widget.previousValue.options, changes.widget.currentValue.options)) {\n          onChanges.options = new SimpleChange(\n            changes.widget.previousValue.options,\n            changes.widget.currentValue.options,\n            false\n          );\n        }\n\n        if (changes.widget.previousValue.isDisabled !== changes.widget.currentValue.isDisabled) {\n          onChanges.isDisabled = new SimpleChange(\n            changes.widget.previousValue.isDisabled,\n            changes.widget.currentValue.isDisabled,\n            false\n          );\n        }\n\n        if (Object.keys(onChanges).length) {\n          this.formWidgetComponent.ngOnChanges(onChanges);\n        }\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    this.componentRef.destroy();\n    this.componentRef = null;\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  private isSupportChanges(instance: IFormWidgetComponent | OnChanges): instance is OnChanges {\n    return Boolean((instance as OnChanges).ngOnChanges);\n  }\n\n  private isFocusable(instance: IFormWidgetComponent | IFormFocusable): instance is IFormFocusable {\n    return Boolean((instance as IFormFocusable).focus);\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { FORM_BUILDER } from '../../form-builder.constant';\nimport { FormSectionModel } from '../../models/form-section.model';\nimport { FormControlModel } from '../../models/form-control.model';\nimport { FormWidgetModel } from '../../models/form-widget.model';\n\n@Component({\n  selector: 'rx-form-section',\n  templateUrl: './form-section.component.html'\n})\nexport class FormSectionComponent {\n  @Input() guid: string;\n  @Input() section: FormSectionModel;\n\n  controlTypes = FORM_BUILDER.controlTypes;\n\n  constructor() {\n    this.trackBySectionControls = this.trackBySectionControls.bind(this);\n  }\n\n  trackBySectionControls(index: number, item: FormControlModel | FormWidgetModel): string {\n    return this.guid + (item as FormControlModel).name || `${item.component.name}` || String(index);\n  }\n}\n","<adapt-accordion *ngIf=\"section.label\">\n  <adapt-accordion-tab [title]=\"section.label\" [isOpen]=\"true\">\n    <ng-container *ngFor=\"let control of section.controls; trackBy: trackBySectionControls\" [ngSwitch]=\"control.type\">\n      <rx-form-outlet\n        *ngSwitchCase=\"controlTypes.formControl\"\n        [formControl]=\"control.formControl\"\n        [control]=\"control\"\n        [hidden]=\"control.hidden\"\n      ></rx-form-outlet>\n      <rx-form-widget *ngSwitchCase=\"controlTypes.widget\" [widget]=\"control\"></rx-form-widget>\n    </ng-container>\n  </adapt-accordion-tab>\n</adapt-accordion>\n\n<ng-container *ngIf=\"!section.label\">\n  <ng-container *ngFor=\"let control of section.controls; trackBy: trackBySectionControls\" [ngSwitch]=\"control.type\">\n    <rx-form-outlet\n      *ngSwitchCase=\"controlTypes.formControl\"\n      [formControl]=\"control.formControl\"\n      [control]=\"control\"\n      [hidden]=\"control.hidden\"\n    ></rx-form-outlet>\n    <rx-form-widget *ngSwitchCase=\"controlTypes.widget\" [widget]=\"control\"></rx-form-widget>\n  </ng-container>\n</ng-container>\n","import {\n  AfterViewInit,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { AbstractControl, FormBuilder, FormGroup, ValidatorFn } from '@angular/forms';\nimport {\n  IFormBuilderConfig,\n  IFormBuilderEvent,\n  IFormControlBuilderConfig,\n  IFormWidgetBuilderConfig,\n  IPlainObject\n} from '@helix/platform/shared/api';\nimport { RxGuidService } from '@helix/platform/utils';\nimport { find, forEach, has, isEmpty, isEqual } from 'lodash';\nimport { Observable, ReplaySubject, Subscription } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { FormBuilderFactory } from '../../form-builder.factory';\nimport { FormControlModel } from '../../models/form-control.model';\nimport { FormSectionModel } from '../../models/form-section.model';\nimport { FormWidgetModel } from '../../models/form-widget.model';\nimport { IFormBuilderEditor } from './form-builder-editor.interface';\nimport { FormBuilderService } from './form-builder.service';\n\n@Component({\n  selector: 'rx-form-builder',\n  templateUrl: './form-builder.component.html',\n  providers: [FormBuilderService]\n})\nexport class FormBuilderComponent implements OnInit, AfterViewInit, OnDestroy, OnChanges {\n  @Input()\n  config: IFormBuilderConfig;\n\n  @Input()\n  model: IPlainObject;\n\n  @Input()\n  guid: string = this.rxGuidService.generate();\n\n  @Input()\n  isReadOnly?: boolean;\n\n  @Input()\n  focusEditor$?: Observable<IFormBuilderEditor>;\n\n  @Output()\n  modelChange: EventEmitter<any> = new EventEmitter();\n\n  @Output()\n  editorEvent: EventEmitter<IFormBuilderEvent> = new EventEmitter();\n\n  @Output()\n  formInitialized: EventEmitter<void> = new EventEmitter();\n\n  layout: any;\n  formGroup: FormGroup;\n\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n  private formSubscription: Subscription;\n\n  constructor(\n    private formBuilderFactory: FormBuilderFactory,\n    private formBuilder: FormBuilder,\n    private rxGuidService: RxGuidService,\n    private formBuilderService: FormBuilderService\n  ) {\n    this.formGroup = this.formBuilder.group({});\n\n    this.subscribeOnFormDataChange();\n  }\n\n  ngOnInit(): void {\n    if (this.focusEditor$) {\n      this.focusEditor$.pipe(takeUntil(this.destroyed$)).subscribe((focusEditorEvent: IFormBuilderEditor) => {\n        this.formBuilderService.setFocusEditor(focusEditorEvent);\n      });\n    }\n\n    this.formBuilderService.editorEvent$.pipe(takeUntil(this.destroyed$)).subscribe((event: IFormBuilderEvent) => {\n      this.editorEvent.emit(event);\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (\n      changes.model &&\n      changes.model.currentValue &&\n      !isEqual(changes.model.currentValue, changes.model.previousValue)\n    ) {\n      this.updateFormData(changes.model.currentValue);\n    }\n\n    if (changes.config) {\n      this.prepareLayout(changes.config.currentValue || []);\n    }\n\n    if (changes.isReadOnly && changes.isReadOnly.isFirstChange() && changes.isReadOnly.currentValue) {\n      this.formGroup.disable();\n    }\n  }\n\n  ngAfterViewInit() {\n    this.formInitialized.next();\n  }\n\n  trackByControl(index: number, item: FormSectionModel): string {\n    return `${this.guid}${item.label}`;\n  }\n\n  ngOnDestroy(): void {\n    this.formSubscription.unsubscribe();\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  dispatch(event: IFormBuilderEvent): void {\n    this.formBuilderService.dispatch(event);\n  }\n\n  private updateFormData(model): void {\n    this.formSubscription.unsubscribe();\n\n    Object.keys(model).forEach((propertyName) => this.getFormControlByName(propertyName).setValue(model[propertyName]));\n\n    Object.keys(this.formGroup.getRawValue())\n      .filter((propertyName) => !has(model, propertyName))\n      .forEach((propertyName) => this.formGroup.removeControl(propertyName));\n\n    this.subscribeOnFormDataChange();\n  }\n\n  private prepareLayout(config: IFormBuilderConfig): void {\n    this.layout = {\n      controls: config.map((section) =>\n        this.formBuilderFactory.section({\n          ...section,\n          controls: section.controls.map((propertyControlConfig) => {\n            let model: FormControlModel | FormWidgetModel;\n\n            if (this.isFormControl(propertyControlConfig)) {\n              const control = this.getFormControlByName(propertyControlConfig.name);\n\n              this.isReadOnly || propertyControlConfig.isDisabled\n                ? control.disable({ emitEvent: false })\n                : control.enable({ emitEvent: false });\n\n              model = this.formBuilderFactory.control(propertyControlConfig, control);\n            } else {\n              model = this.formBuilderFactory.widget({\n                ...propertyControlConfig,\n                isDisabled: propertyControlConfig.isDisabled || this.isReadOnly\n              });\n            }\n\n            return model;\n          })\n        })\n      )\n    };\n  }\n\n  private getFormControlByName(name: string): AbstractControl {\n    let control = this.formGroup.controls[name];\n\n    if (!control) {\n      let validators: ValidatorFn[];\n\n      forEach(this.config, (section) => {\n        const formControlConfig = find(section.controls, { name }) as IFormControlBuilderConfig;\n\n        if (formControlConfig) {\n          validators = formControlConfig.validators;\n        }\n\n        return !formControlConfig;\n      });\n\n      control = this.formBuilder.control(null, validators || []);\n\n      this.formGroup.addControl(name, control);\n    }\n\n    return control;\n  }\n\n  private subscribeOnFormDataChange(): void {\n    this.formSubscription = this.formGroup.valueChanges.subscribe(() => {\n      // Get a raw value for all form controls including disabled.\n      const rawValue = this.formGroup.getRawValue();\n      // Check if rawValue is not an empty object, in this case we don't\n      // want to emit model change when current model value is null.\n      const formData = isEmpty(rawValue) ? null : rawValue;\n\n      if (!isEqual(formData, this.model)) {\n        this.modelChange.emit(formData);\n      }\n    });\n  }\n\n  private isFormControl(\n    config: IFormControlBuilderConfig | IFormWidgetBuilderConfig\n  ): config is IFormControlBuilderConfig {\n    return !!(config as IFormControlBuilderConfig).name;\n  }\n}\n","<form *ngIf=\"layout\">\n  <rx-form-section\n    *ngFor=\"let control of layout.controls; trackBy: trackByControl\"\n    [section]=\"control\"\n    [guid]=\"guid\"\n  ></rx-form-section>\n</form>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AdaptAccordionModule } from '@bmc-ux/adapt-angular';\nimport { FormBuilderComponent } from './components/form-builder/form-builder.component';\nimport { FormOutletComponent } from './components/form-outlet/form-outlet.component';\nimport { FormSectionComponent } from './components/form-section/form-section.component';\nimport { FormWidgetComponent } from './components/form-widget/form-widget.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ReactiveFormsModule, AdaptAccordionModule],\n  declarations: [FormWidgetComponent, FormOutletComponent, FormBuilderComponent, FormSectionComponent],\n  exports: [FormBuilderComponent]\n})\nexport class RxFormBuilderModule {}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { ValueAccessor } from '../../form-builder';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\nimport { IDateFormControlOptions } from '../date-form-control';\nimport { RxDatetimePickerMode, RxDatetimeStruct } from '@bmc-ux/adapt-angular';\nimport moment from 'moment-es6';\nimport { isNull, isUndefined } from 'lodash';\n\n@Component({\n  selector: 'rx-date-time-form-control',\n  templateUrl: './date-time-form-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: DateTimeFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class DateTimeFormControlComponent extends ValueAccessor<string> implements IFormControlComponent, OnInit {\n  @Input()\n  options: IDateFormControlOptions;\n\n  @Input()\n  isDisabled: boolean;\n\n  datePickerControl = new FormControl('');\n\n  pickerMode = RxDatetimePickerMode.DateTime;\n\n  ngOnInit(): void {\n    this.datePickerControl.valueChanges.subscribe((value: RxDatetimeStruct) => {\n      if (value && !isNull(value.hours) && !isNull(value.minutes)) {\n        this.value = moment([\n          value.year || 0,\n          value.month || 0,\n          value.date || 0,\n          value.hours,\n          value.minutes,\n          value.seconds || 0\n        ]).toISOString();\n      } else {\n        this.value = null;\n      }\n    });\n  }\n\n  writeValue(value: string): void {\n    super.writeValue(value);\n\n    const date = moment(this.value);\n\n    if (date.isValid()) {\n      this.datePickerControl.setValue({\n        year: date.year(),\n        month: date.month(),\n        date: date.date(),\n        hours: date.hour(),\n        minutes: date.minutes()\n      });\n    } else {\n      this.datePickerControl.setValue(null);\n    }\n  }\n}\n","<adapt-rx-datetime\n  [label]=\"options.label\"\n  [disabled]=\"isDisabled\"\n  [mode]=\"pickerMode\"\n  [required]=\"options.required\"\n  [formControl]=\"datePickerControl\"\n>\n</adapt-rx-datetime>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DateTimeFormControlComponent } from './date-time-form-control.component';\nimport { AdaptRxDatetimeModule } from '@bmc-ux/adapt-angular';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [DateTimeFormControlComponent],\n  imports: [CommonModule, AdaptRxDatetimeModule, FormsModule, ReactiveFormsModule],\n  exports: [DateTimeFormControlComponent],\n  entryComponents: [DateTimeFormControlComponent]\n})\nexport class DateTimeFormControlModule {}\n","import { ChangeDetectorRef, Component, Input, ViewChild } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { AdaptButtonGroupComponent, ButtonConfig } from '@bmc-ux/adapt-angular';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { IGroupButtonFormControlOptions } from './group-button-control-options.interface';\nimport { findIndex } from 'lodash';\n\n@Component({\n  selector: 'rx-group-button-form-control',\n  templateUrl: './group-button-form-control.component.html',\n  styleUrls: ['./group-button-form-control.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: GroupButtonFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class GroupButtonFormControlComponent extends ValueAccessor<string | number> implements IFormControlComponent {\n  @ViewChild(AdaptButtonGroupComponent, { static: true })\n  adaptButtonGroupComponent: AdaptButtonGroupComponent;\n\n  @Input()\n  options: IGroupButtonFormControlOptions;\n\n  model: boolean[];\n\n  constructor(private changeDetectorRef: ChangeDetectorRef) {\n    super();\n  }\n\n  onGroupButtonChange(groupButtonValues: boolean[]): void {\n    const index = findIndex(groupButtonValues, (buttonValue) => buttonValue);\n\n    this.setValue(this.options.items[index]);\n  }\n\n  onWriteValue(value: string | number): void {\n    this.updateModel(value);\n  }\n\n  private updateModel(value: string | number): void {\n    this.model = this.options.items.map((item) => item.value === value);\n  }\n\n  private setValue(item: ButtonConfig): void {\n    if (this.options.beforeValueChange) {\n      this.options.beforeValueChange(this.value, item.value).then((response) => {\n        if (response) {\n          this.value = item.value;\n        } else {\n          this.updateModel(this.value);\n          this.adaptButtonGroupComponent.writeValue(this.model);\n          this.changeDetectorRef.detectChanges();\n        }\n      });\n    } else {\n      this.value = item.value;\n    }\n  }\n}\n","<div class=\"form-group\" [ngClass]=\"{ 'is-required': options.required }\">\n  <adapt-rx-control-label\n    [label]=\"options.label\"\n    [showRequiredLabel]=\"!!options.required\"\n    [tooltip]=\"\n      options.tooltip\n        ? {\n            content: popoverContent,\n            popoverMode: options.tooltip.popoverMode,\n            placement: options.tooltip.placement,\n            iconName: options.tooltip.iconName\n          }\n        : null\n    \"\n  ></adapt-rx-control-label>\n\n  <div class=\"mt-1\">\n    <adapt-button-group\n      [(ngModel)]=\"model\"\n      (ngModelChange)=\"onGroupButtonChange($event)\"\n      [disabled]=\"isDisabled\"\n      [config]=\"options.items\"\n      [size]=\"options.size || 'small'\"\n    >\n    </adapt-button-group>\n  </div>\n</div>\n\n<ng-template #popoverContent>\n  <span [innerHtml]=\"options.tooltip.content\"></span>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { GroupButtonFormControlComponent } from './group-button-form-control.component';\nimport {\n  AdaptButtonModule,\n  AdaptButtonGroupModule,\n  AdaptRxLabelModule,\n  AdaptTooltipModule\n} from '@bmc-ux/adapt-angular';\n\n@NgModule({\n  declarations: [GroupButtonFormControlComponent],\n  exports: [GroupButtonFormControlComponent],\n  entryComponents: [GroupButtonFormControlComponent],\n  imports: [\n    CommonModule,\n    AdaptRxLabelModule,\n    AdaptButtonModule,\n    AdaptButtonGroupModule,\n    AdaptTooltipModule,\n    FormsModule\n  ]\n})\nexport class GroupButtonFormControlModule {}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  Inject,\n  OnDestroy,\n  QueryList,\n  ViewChild,\n  ViewChildren\n} from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { FormControl } from '@angular/forms';\nimport { BehaviorSubject, combineLatest, fromEvent, Observable, ReplaySubject } from 'rxjs';\nimport {\n  debounceTime,\n  distinctUntilChanged,\n  filter,\n  map,\n  startWith,\n  take,\n  takeUntil,\n  tap,\n  withLatestFrom\n} from 'rxjs/operators';\nimport { UP_ARROW, DOWN_ARROW, LEFT_ARROW, RIGHT_ARROW, ENTER } from '@angular/cdk/keycodes';\nimport { ActiveModalRef, DismissReasons } from '@bmc-ux/adapt-angular';\nimport { isNumber } from 'lodash';\n\nimport { IIconBrowserDialogConfig, IIconGlyph } from '../icon-picker.types';\n\n@Component({\n  selector: 'rx-icon-browser-dialog',\n  templateUrl: './icon-browser-dialog.component.html',\n  styleUrls: ['./icon-browser-dialog.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IconBrowserDialogComponent implements AfterViewInit, OnDestroy {\n  config: IIconBrowserDialogConfig = this.activeModalRef.getData();\n\n  searchFormControl = new FormControl();\n\n  selectedIcon$ = new BehaviorSubject<IIconGlyph>(this.config.selectedIcon);\n\n  filteredIcons$: Observable<IIconGlyph[]> = this.searchFormControl.valueChanges.pipe(\n    debounceTime(200),\n    startWith(''),\n    distinctUntilChanged(),\n    map((query) =>\n      query\n        ? this.config.icons.filter(({ name }) => name.toLowerCase().indexOf(query.toLowerCase()) > -1)\n        : this.config.icons\n    )\n  );\n\n  isSelectButtonDisabled$ = combineLatest([this.selectedIcon$, this.filteredIcons$]).pipe(\n    map(\n      ([selectedIcon, filteredIcons]) =>\n        !selectedIcon || !filteredIcons.length || selectedIcon === this.config.selectedIcon\n    )\n  );\n\n  @ViewChildren('iconButton', { read: ElementRef })\n  iconButtons: QueryList<ElementRef<HTMLButtonElement>>;\n\n  @ViewChild('iconsList', { read: ElementRef })\n  iconsList: ElementRef<HTMLUListElement>;\n\n  private selectedIndex$: Observable<number> = combineLatest([this.selectedIcon$, this.filteredIcons$]).pipe(\n    map(([selectedIcon, filteredIcons]) =>\n      selectedIcon ? filteredIcons.findIndex((icon) => icon.id === selectedIcon.id) : null\n    ),\n    distinctUntilChanged()\n  );\n\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  constructor(private activeModalRef: ActiveModalRef, @Inject(DOCUMENT) private document: any) {}\n\n  ngAfterViewInit(): void {\n    fromEvent<KeyboardEvent>(this.iconsList.nativeElement, 'keydown')\n      .pipe(\n        filter((event) => [UP_ARROW, DOWN_ARROW, LEFT_ARROW, RIGHT_ARROW, ENTER].includes(event.keyCode)),\n        tap((event) => event.preventDefault()),\n        withLatestFrom(this.filteredIcons$, this.selectedIndex$),\n        takeUntil(this.destroyed$)\n      )\n      .subscribe(([event, icons, selectedIndex]) => {\n        // we have to subtract 1px from the icon button width to compensate -1 margin trick in the CSS\n        const cellsPerLine = Math.floor(\n          this.iconsList.nativeElement.clientWidth / (this.iconButtons.first.nativeElement.offsetWidth - 1)\n        );\n\n        let newIndex: number;\n\n        if ([UP_ARROW, DOWN_ARROW, LEFT_ARROW, RIGHT_ARROW].includes(event.keyCode)) {\n          if (isNumber(selectedIndex)) {\n            switch (event.keyCode) {\n              case LEFT_ARROW: {\n                newIndex = selectedIndex > 0 ? selectedIndex - 1 : 0;\n                break;\n              }\n\n              case UP_ARROW: {\n                newIndex = selectedIndex - cellsPerLine;\n\n                if (newIndex < 0) {\n                  newIndex = selectedIndex;\n                }\n\n                break;\n              }\n\n              case RIGHT_ARROW: {\n                newIndex = selectedIndex < icons.length - 1 ? selectedIndex + 1 : selectedIndex;\n                break;\n              }\n\n              case DOWN_ARROW: {\n                newIndex = selectedIndex + cellsPerLine;\n\n                if (newIndex >= icons.length) {\n                  newIndex = selectedIndex;\n                }\n\n                break;\n              }\n            }\n          } else {\n            newIndex = 0;\n          }\n\n          this.selectIcon(icons[newIndex]);\n\n          this.scrollToSelectedIcon();\n        } else {\n          event.preventDefault();\n\n          if (this.selectedIcon$.value) {\n            this.onSelect();\n          }\n        }\n      });\n\n    this.scrollToSelectedIcon();\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n\n    this.selectedIcon$.complete();\n  }\n\n  selectIcon(icon: IIconGlyph): void {\n    this.selectedIcon$.next(icon);\n  }\n\n  onSelect(): void {\n    this.activeModalRef.close(this.selectedIcon$.value);\n  }\n\n  onCancel(): void {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n\n  isIconSelected(icon: IIconGlyph): boolean {\n    return this.selectedIcon$.value?.id === icon.id;\n  }\n\n  private scrollToSelectedIcon(): void {\n    this.selectedIcon$.pipe(take(1)).subscribe((selectedIcon) => {\n      if (selectedIcon) {\n        this.iconsList.nativeElement.querySelector(`.d-icon-${selectedIcon.id}`)?.scrollIntoView({\n          block: 'nearest',\n          inline: 'nearest'\n        });\n      }\n    });\n  }\n\n  trackByFn(index: number, item: IIconGlyph): string {\n    return item.id;\n  }\n}\n","<div class=\"modal-body mh-100\">\n  <div class=\"d-flex w-100 h-100\">\n    <ng-container *ngIf=\"filteredIcons$ | async as filteredIcons\">\n      <div class=\"w-100 h-100\">\n        <adapt-rx-search\n          class=\"icon-search-field\"\n          [formControl]=\"searchFormControl\"\n          [autofocus]=\"true\"\n          (keydown)=\"$event.stopPropagation()\"\n        ></adapt-rx-search>\n\n        <div class=\"icons-browser d-flex\">\n          <ul #iconsList class=\"icons-list h-100\" *ngIf=\"filteredIcons?.length; else noIconsFound\" tabindex=\"0\">\n            <li\n              *ngFor=\"let icon of filteredIcons; trackBy: trackByFn\"\n              class=\"icon-list-item\"\n              [class.icon-list-item-selected]=\"isIconSelected(icon)\"\n            >\n              <button\n                #iconButton\n                class=\"icon-button p-0\"\n                tabindex=\"-1\"\n                [ngClass]=\"'d-icon-' + icon.id\"\n                (click)=\"selectIcon(icon)\"\n              >\n                <span class=\"sr-only\">{{ icon.name }}</span>\n              </button>\n            </li>\n          </ul>\n\n          <ng-template #noIconsFound>\n            <div class=\"icon-empty-state flex-grow-1\">\n              <adapt-empty-state class=\"flex-grow-1\" [type]=\"'search'\" [label]=\"'No icons found'\"></adapt-empty-state>\n            </div>\n          </ng-template>\n        </div>\n      </div>\n\n      <div\n        *ngIf=\"filteredIcons?.length\"\n        class=\"icon-preview d-flex flex-column justify-content-center align-items-center\"\n      >\n        <ng-container *ngIf=\"selectedIcon$ | async as selectedIcon; else noIconSelected\">\n          <adapt-icon [name]=\"selectedIcon.id\" [testID]=\"selectedIcon.id\"></adapt-icon>\n\n          <p class=\"icon-title mt-1 mb-0\">{{ selectedIcon.name }}</p>\n        </ng-container>\n\n        <ng-template #noIconSelected>\n          <p class=\"no-icon-selected mb-0\">No icon selected</p>\n        </ng-template>\n      </div>\n    </ng-container>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <button\n    rx-id=\"select-button\"\n    adapt-button\n    btn-type=\"primary\"\n    type=\"button\"\n    [disabled]=\"isSelectButtonDisabled$ | async\"\n    (click)=\"onSelect()\"\n  >\n    Select\n  </button>\n\n  <button rx-id=\"cancel-button\" adapt-button btn-type=\"secondary\" type=\"button\" (click)=\"onCancel()\">Cancel</button>\n</div>\n","import { Component, Input, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { debounceTime, distinctUntilChanged, map } from 'rxjs/operators';\nimport { merge, Observable, OperatorFunction, Subject } from 'rxjs';\nimport { noop, get, sortBy } from 'lodash';\nimport { AdaptModalService, AdaptRxTypeaheadComponent, RxTypeaheadSelectItemEvent } from '@bmc-ux/adapt-angular';\nimport iconFontConfig from '@bmc-ux/dpl-iconfont/config/if_dpl.json';\nimport { RX_LEGACY_ICONS } from '@helix/platform/view/api';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\nimport { IIconGlyph, IIconBrowserDialogConfig, IIconPickerFormControlOptions } from './icon-picker.types';\nimport { IconBrowserDialogComponent } from './icon-browser-dialog/icon-browser-dialog.component';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\n\n@Component({\n  selector: 'rx-icon-picker-form-control',\n  templateUrl: './icon-picker-form-control.component.html',\n  styleUrls: ['./icon-picker-form-control.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: IconPickerFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class IconPickerFormControlComponent extends ValueAccessor<string> implements OnInit, IFormControlComponent {\n  @Input()\n  options: IIconPickerFormControlOptions;\n\n  selectedIcon: IIconGlyph;\n\n  private focus$ = new Subject<FocusEvent>();\n\n  private iconGlyphs = iconFontConfig.glyphs as IIconGlyph[];\n\n  @ViewChild(AdaptRxTypeaheadComponent, { static: true })\n  typeahead: AdaptRxTypeaheadComponent;\n\n  constructor(private adaptModalService: AdaptModalService, private renderer: Renderer2) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.iconGlyphs = sortBy(this.iconGlyphs, (glyph) => glyph.name.toLowerCase());\n  }\n\n  search: OperatorFunction<string, IIconGlyph[]> = (text$: Observable<string>) => {\n    const userInput$ = text$.pipe(debounceTime(200), distinctUntilChanged());\n\n    const inputFocus$ = this.focus$.pipe(map((event) => (event.target as HTMLInputElement).value));\n\n    return merge(userInput$, inputFocus$).pipe(\n      map((term) =>\n        term\n          ? this.iconGlyphs.filter(({ name }) => name.toLowerCase().indexOf(term.toLowerCase()) > -1)\n          : this.iconGlyphs\n      )\n    );\n  };\n\n  inputFormatter(option: IIconGlyph): string {\n    return option.name;\n  }\n\n  onSelectItem(event: RxTypeaheadSelectItemEvent): void {\n    this.value = event.item.id;\n  }\n\n  onWriteValue(value: string): void {\n    const iconId = get(RX_LEGACY_ICONS, value, value);\n\n    if (!this.selectedIcon || this.selectedIcon.id !== iconId) {\n      this.selectedIcon = this.iconGlyphs.find((icon) => icon.id === iconId);\n    }\n  }\n\n  onFocus(event: FocusEvent): void {\n    this.focus$.next(event);\n  }\n\n  onBlur(): void {\n    this.selectedIcon = this.iconGlyphs.find((icon) => icon.id === this.value);\n\n    const inputValue = this.typeahead.inputRef.nativeElement.value;\n\n    if (!inputValue || !this.selectedIcon) {\n      this.value = '';\n\n      this.onWriteValue(this.value);\n\n      this.renderer.setProperty(this.typeahead.inputRef.nativeElement, 'value', '');\n    }\n  }\n\n  openIconBrowserDialog(): void {\n    this.adaptModalService\n      .open({\n        title: 'Select icon',\n        data: {\n          selectedIcon: this.selectedIcon,\n          icons: this.iconGlyphs\n        } as IIconBrowserDialogConfig,\n        content: IconBrowserDialogComponent\n      })\n      .then((selectedIcon: IIconGlyph) => {\n        this.value = selectedIcon.id;\n        this.selectedIcon = selectedIcon;\n      })\n      .catch(noop);\n  }\n}\n","<div class=\"d-flex justify-content-between align-items-center pb-1\">\n  <label class=\"form-control-label mb-0\">{{ options.label }}</label>\n\n  <button\n    *ngIf=\"!isDisabled\"\n    adapt-button\n    type=\"button\"\n    class=\"p-0 border-0\"\n    btn-type=\"tertiary\"\n    rx-id=\"browse-button\"\n    (click)=\"openIconBrowserDialog()\"\n  >\n    <span class=\"d-icon-folder_open\"></span>\n    Browse\n  </button>\n</div>\n\n<div class=\"control-wrapper d-flex\">\n  <adapt-rx-typeahead\n    class=\"w-100\"\n    [class.has-selected-icon]=\"selectedIcon\"\n    rx-id=\"input-field\"\n    [required]=\"options.required\"\n    [disabled]=\"isDisabled\"\n    [appendToBody]=\"options.appendToBody\"\n    [typeahead]=\"search\"\n    [inputFormatter]=\"inputFormatter\"\n    [resultTemplate]=\"resultTemplate\"\n    [virtualScroll]=\"true\"\n    [(ngModel)]=\"selectedIcon\"\n    (onSelectItem)=\"onSelectItem($event)\"\n    (onFocus)=\"onFocus($event)\"\n    (onBlur)=\"onBlur()\"\n    [title]=\"selectedIcon?.name ?? ''\"\n  ></adapt-rx-typeahead>\n  <adapt-icon\n    *ngIf=\"selectedIcon\"\n    class=\"icon-preview\"\n    [name]=\"selectedIcon.id\"\n    [testID]=\"selectedIcon.id\"\n  ></adapt-icon>\n</div>\n\n<ng-template #resultTemplate let-result=\"result\">\n  <span class=\"icon-item\" [ngClass]=\"'d-icon-left-' + result.id\"></span>\n  {{ result.name }}\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { AdaptButtonModule, AdaptEmptyStateModule, AdaptIconModule, AdaptRxSearchModule } from '@bmc-ux/adapt-angular';\n\nimport { IconBrowserDialogComponent } from './icon-browser-dialog.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    AdaptButtonModule,\n    AdaptRxSearchModule,\n    AdaptIconModule,\n    AdaptEmptyStateModule\n  ],\n  declarations: [IconBrowserDialogComponent],\n  exports: [IconBrowserDialogComponent]\n})\nexport class IconBrowserDialogModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AdaptButtonModule, AdaptIconModule, AdaptRxTypeaheadModule } from '@bmc-ux/adapt-angular';\n\nimport { IconPickerFormControlComponent } from './icon-picker-form-control.component';\nimport { IconBrowserDialogModule } from './icon-browser-dialog/icon-browser-dialog.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    AdaptRxTypeaheadModule,\n    AdaptButtonModule,\n    AdaptIconModule,\n    IconBrowserDialogModule\n  ],\n  declarations: [IconPickerFormControlComponent],\n  exports: [IconPickerFormControlComponent]\n})\nexport class IconPickerFormControlModule {}\n","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { ReplaySubject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { ValueAccessor } from '../../form-builder';\nimport { IInputListFormControlOptions } from './input-list-form-control-options.interface';\n\n@Component({\n  selector: 'rx-input-list-form-control',\n  templateUrl: './input-list-form-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: InputListFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class InputListFormControlComponent extends ValueAccessor<string[]> implements OnInit, OnDestroy {\n  @Input()\n  options: IInputListFormControlOptions;\n\n  formArray: FormArray = this.formBuilder.array([]);\n\n  private destroyed$ = new ReplaySubject<void>(1);\n\n  constructor(private formBuilder: FormBuilder) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.formArray.valueChanges.pipe(takeUntil(this.destroyed$)).subscribe(() => {\n      if (this.formArray.controls.length) {\n        this.value = this.formArray.getRawValue();\n      } else {\n        this.value = null;\n      }\n    });\n  }\n\n  addItem(): void {\n    this.formArray.push(new FormControl(''));\n  }\n\n  removeItem(index: number) {\n    this.formArray.removeAt(index);\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n}\n","<div class=\"form-group\">\n  <div class=\"d-flex flex-row justify-content-between align-items-center\">\n    <adapt-rx-control-label [label]=\"options.label\" [showRequiredLabel]=\"options.required\"></adapt-rx-control-label>\n\n    <button adapt-button type=\"button\" btn-type=\"tertiary\" size=\"small\" (click)=\"addItem()\">\n      <span class=\"d-icon-plus_circle mr-1\" aria-hidden=\"true\"></span>\n      Add item\n    </button>\n  </div>\n\n  <div\n    class=\"d-flex flex-row align-items-center w-100 form-group\"\n    *ngFor=\"let control of formArray.controls; let i = index\"\n  >\n    <adapt-rx-textfield class=\"flex-fill\" [formControl]=\"control\"></adapt-rx-textfield>\n    <button\n      (click)=\"removeItem(i)\"\n      class=\"close position-relative ml-2\"\n      type=\"button\"\n      [attr.aria-label]=\"'com.bmc.arsys.rx.client.common.remove.label' | translate\"\n    ></button>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { AdaptButtonModule, AdaptRxLabelModule, AdaptRxTextfieldModule } from '@bmc-ux/adapt-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { InputListFormControlComponent } from './input-list-form-control.component';\n\n@NgModule({\n  declarations: [InputListFormControlComponent],\n  exports: [InputListFormControlComponent],\n  imports: [\n    CommonModule,\n    AdaptRxLabelModule,\n    ReactiveFormsModule,\n    AdaptButtonModule,\n    TranslateModule,\n    AdaptRxTextfieldModule\n  ]\n})\nexport class InputListFormControlModule {}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { ILabelFormControlOptions } from './label-form-control-options.interface';\n\n@Component({\n  selector: 'rx-label-form-control',\n  templateUrl: './label-form-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: LabelFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class LabelFormControlComponent extends ValueAccessor<boolean> implements IFormControlComponent, OnInit {\n  @Input()\n  options: ILabelFormControlOptions;\n\n  label: string;\n\n  constructor(private translateService: TranslateService) {\n    super();\n  }\n\n  ngOnInit() {\n    this.label = this.options.labelKey ? this.translateService.instant(this.options.labelKey) : this.options.label;\n  }\n}\n","<adapt-rx-control-label [label]=\"label\"></adapt-rx-control-label>\n","import { NgModule } from '@angular/core';\nimport { AdaptRxLabelModule } from '@bmc-ux/adapt-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { LabelFormControlComponent } from './label-form-control.component';\n\n@NgModule({\n  declarations: [LabelFormControlComponent],\n  exports: [LabelFormControlComponent],\n  entryComponents: [LabelFormControlComponent],\n  imports: [AdaptRxLabelModule, TranslateModule]\n})\nexport class LabelFormControlModule {}\n","import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\nimport { IExpressionFormControlOptions } from '../expression-form-control/expression-form-control.types';\nimport { IListItem } from './list-item.interface';\nimport { FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'rx-list-item',\n  templateUrl: './list-item.component.html'\n})\nexport class ListItemComponent implements OnInit {\n  @Input()\n  config: IListItem;\n\n  @Input()\n  propertyPath: string;\n\n  @Input()\n  control: FormControl;\n\n  @Output()\n  events = new EventEmitter();\n\n  options: IExpressionFormControlOptions;\n\n  ngOnInit() {\n    this.options = {\n      label: this.config.label,\n      dataDictionary$: this.config.dataDictionary$,\n      operators: this.config.operators\n    };\n  }\n}\n","<adapt-rx-textfield *ngIf=\"!config.dataDictionary$\" [label]=\"config.label\" [formControl]=\"control\">\n</adapt-rx-textfield>\n\n<rx-expression-form-control\n  *ngIf=\"config.dataDictionary$\"\n  [formControl]=\"control\"\n  [propertyPath]=\"propertyPath\"\n  [options]=\"options\"\n  (events)=\"events.emit($event)\"\n>\n</rx-expression-form-control>\n","import { RxStringService } from '@helix/platform/utils';\nimport { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { FormArray, FormBuilder, FormGroup, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { IListFormControlOptions } from './list-form-control-options.interface';\nimport { forEach, isEqual } from 'lodash';\nimport { ReplaySubject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { IPlainObject } from '@helix/platform/shared/api';\n\n@Component({\n  selector: 'rx-list-form-control',\n  templateUrl: './list-form-control.component.html',\n  styleUrls: ['./list-form-control.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: ListFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class ListFormControlComponent extends ValueAccessor<any[]> implements IFormControlComponent, OnInit, OnDestroy {\n  @Input()\n  options: IListFormControlOptions;\n\n  @Input()\n  propertyPath: string;\n\n  @Output()\n  events = new EventEmitter<any>();\n\n  itemList: FormArray = this.formBuilder.array([]);\n\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  constructor(private formBuilder: FormBuilder, public stringService: RxStringService) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.itemList.valueChanges.pipe(takeUntil(this.destroyed$)).subscribe((value) => {\n      this.value = value;\n    });\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    super.setDisabledState(isDisabled);\n\n    if (isDisabled) {\n      this.itemList.disable();\n    } else {\n      this.itemList.enable();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n    this.clearItems();\n  }\n\n  onWriteValue(modelValue): void {\n    if (!isEqual(modelValue, this.itemList.value)) {\n      this.clearItems();\n\n      // initialize values\n      forEach(modelValue, (item) => this.addItem(item));\n    }\n  }\n\n  clearItems(): void {\n    this.itemList.clear();\n  }\n\n  addItem(item: IPlainObject): void {\n    const itemControl = this.createItemFormGroup(item);\n\n    this.itemList.push(itemControl);\n  }\n\n  createItemFormGroup(item: IPlainObject): FormGroup {\n    const formGroupData: IPlainObject = {};\n\n    this.options.items.forEach((i) => {\n      formGroupData[i.propertyName] = item[i.propertyName] || null;\n    });\n\n    return this.formBuilder.group(formGroupData);\n  }\n\n  onItemRemove(index: number): void {\n    this.itemList.removeAt(index);\n  }\n\n  onAddItem(): void {\n    this.addItem({});\n  }\n}\n","<div [formGroup]=\"itemList\">\n  <button\n    (click)=\"onAddItem()\"\n    type=\"button\"\n    class=\"btn btn-sm btn-link px-0 py-0\"\n    [attr.rx-id]=\"'add-item-button'\"\n    *ngIf=\"!isDisabled\"\n  >\n    <span class=\"d-icon-plus_circle mr-1\" aria-hidden=\"true\"></span>\n    {{ options.addItemText }}\n  </button>\n\n  <div class=\"card mt-2\" *ngFor=\"let itemFormGroup of itemList.controls; let i = index\">\n    <div class=\"card-block p-3\">\n      <button\n        *ngIf=\"!isDisabled\"\n        (click)=\"onItemRemove(i)\"\n        class=\"close position-relative\"\n        type=\"button\"\n        aria-label=\"Remove\"\n      ></button>\n\n      <div\n        class=\"form-group\"\n        [ngClass]=\"{ 'mb-0': last, 'mb-3': !last }\"\n        *ngFor=\"let item of options.items; let first = first; let last = last\"\n        [attr.rx-id]=\"stringService.toRxId(item.label)\"\n      >\n        <rx-list-item\n          [config]=\"item\"\n          [control]=\"itemFormGroup.get(item.propertyName)\"\n          [propertyPath]=\"this.propertyPath + '[' + i + '].' + item.propertyName\"\n          (events)=\"events.emit($event)\"\n        >\n        </rx-list-item>\n      </div>\n    </div>\n  </div>\n\n  <div *ngIf=\"isDisabled && options.emptyListText && itemList.controls.length === 0\">{{ options.emptyListText }}</div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ListFormControlComponent } from './list-form-control.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { AdaptRxTextfieldModule } from '@bmc-ux/adapt-angular';\nimport { ExpressionFormControlModule } from '../expression-form-control/expression-form-control.module';\nimport { ListItemComponent } from './list-item.component';\n\n@NgModule({\n  declarations: [ListFormControlComponent, ListItemComponent],\n  exports: [ListFormControlComponent],\n  entryComponents: [ListFormControlComponent],\n  imports: [CommonModule, ReactiveFormsModule, AdaptRxTextfieldModule, ExpressionFormControlModule]\n})\nexport class ListFormControlModule {}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { RxSelectOption } from '@bmc-ux/adapt-angular';\nimport { head, last, upperFirst, includes } from 'lodash';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { IOptionalExpressionControlOptions } from './optional-expression-control-options.interface';\nimport { IExpressionFormControlOptions } from '../expression-form-control';\n\n@Component({\n  selector: 'rx-optional-expression-form-control',\n  templateUrl: './optional-expression-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: OptionalExpressionControlComponent,\n      multi: true\n    }\n  ],\n  styleUrls: ['./optional-expression-control.component.scss']\n})\nexport class OptionalExpressionControlComponent extends ValueAccessor<string> implements IFormControlComponent, OnInit {\n  @Input()\n  options: IOptionalExpressionControlOptions;\n\n  @Input()\n  propertyPath: string;\n\n  @Output()\n  events: EventEmitter<any> = new EventEmitter();\n\n  expressionFieldOptions: IExpressionFormControlOptions;\n\n  checkbox: boolean;\n\n  modelValues = {\n    disable: '0',\n    enable: '1'\n  };\n\n  selectValues = {\n    all: 'all',\n    condition: 'condition'\n  };\n\n  selectOptions: RxSelectOption[] = [\n    {\n      id: this.selectValues.all,\n      name: 'At all times'\n    },\n    {\n      id: this.selectValues.condition,\n      name: 'When condition is true'\n    }\n  ];\n\n  selectedCondition: RxSelectOption[] = [head(this.selectOptions)];\n\n  conditionValue: string;\n\n  ngOnInit(): void {\n    this.expressionFieldOptions = {\n      label: 'Condition',\n      expressionEditorPropertyName: this.options.expressionEditorPropertyName || upperFirst(this.propertyPath),\n      dataDictionary$: this.options.dataDictionary$,\n      operators: this.options.operators\n    };\n  }\n\n  onWriteValue(modelValue: string): void {\n    this.conditionValue = '';\n    this.selectedCondition = [head(this.selectOptions)];\n\n    if (modelValue === this.modelValues.enable) {\n      this.checkbox = true;\n    } else if (modelValue === this.modelValues.disable) {\n      this.checkbox = false;\n    } else {\n      this.checkbox = true;\n      this.selectedCondition = [last(this.selectOptions)];\n      this.conditionValue = modelValue;\n    }\n  }\n\n  onSwitcherChange(modelValue: boolean): void {\n    this.selectedCondition = [head(this.selectOptions)];\n    this.conditionValue = '';\n\n    this.value = modelValue ? this.modelValues.enable : this.modelValues.disable;\n  }\n\n  onSelectChange(selectedValue: RxSelectOption[]): void {\n    this.selectedCondition = selectedValue;\n    this.conditionValue = '';\n\n    this.value = head(selectedValue).id === this.selectValues.all ? this.modelValues.enable : '';\n  }\n\n  onConditionChange(expressionValue: string): void {\n    this.value = expressionValue;\n  }\n\n  optionFormatter(option: RxSelectOption): string {\n    return option.name;\n  }\n}\n","<adapt-rx-control-label [label]=\"options.label\"></adapt-rx-control-label>\n\n<div class=\"clearfix\">\n  <adapt-rx-switch\n    [(ngModel)]=\"checkbox\"\n    (ngModelChange)=\"onSwitcherChange($event)\"\n    [disabled]=\"isDisabled\"\n  ></adapt-rx-switch>\n\n  <adapt-rx-select\n    *ngIf=\"checkbox\"\n    class=\"condition-select\"\n    [options]=\"selectOptions\"\n    [ngModel]=\"selectedCondition\"\n    (ngModelChange)=\"onSelectChange($event)\"\n    [disabled]=\"isDisabled\"\n    [optionFormatter]=\"optionFormatter\"\n  ></adapt-rx-select>\n</div>\n\n<rx-expression-form-control\n  *ngIf=\"selectedCondition[0].id === selectValues.condition\"\n  [options]=\"expressionFieldOptions\"\n  [propertyPath]=\"this.propertyPath\"\n  [disabled]=\"isDisabled\"\n  [(ngModel)]=\"conditionValue\"\n  (ngModelChange)=\"onConditionChange($event)\"\n  (events)=\"events.emit($event)\"\n>\n</rx-expression-form-control>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { AdaptRxLabelModule, AdaptRxSelectModule, AdaptRxSwitchModule } from '@bmc-ux/adapt-angular';\nimport { AdaptTextFieldModule } from '@bmc-ux/obsolete';\nimport { ExpressionFormControlModule } from '../expression-form-control/expression-form-control.module';\nimport { OptionalExpressionControlComponent } from './optional-expression-control.component';\n\n@NgModule({\n  declarations: [OptionalExpressionControlComponent],\n  exports: [OptionalExpressionControlComponent],\n  entryComponents: [OptionalExpressionControlComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    AdaptRxSwitchModule,\n    AdaptTextFieldModule,\n    ExpressionFormControlModule,\n    AdaptRxLabelModule,\n    AdaptRxSelectModule\n  ]\n})\nexport class OptionalExpressionControlModule {}\n","import { Component, Input } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { head, isNull } from 'lodash';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { ISelectOption } from '../select-form-control';\nimport { IOptionalSelectFormControlOptions } from './optional-select-form-control.interfaces';\n\n@Component({\n  selector: 'rx-optional-select-form-control',\n  templateUrl: './optional-select-form-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: OptionalSelectFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class OptionalSelectFormControlComponent extends ValueAccessor<string> implements IFormControlComponent {\n  @Input()\n  options: IOptionalSelectFormControlOptions;\n\n  switcherValue = false;\n  selectValue: ISelectOption[] = [];\n\n  onSwitcherChange(newValue: boolean): void {\n    this.switcherValue = newValue;\n\n    if (newValue) {\n      const option = head(this.options.options);\n\n      if (option && !this.value) {\n        this.value = option.id;\n      }\n    } else {\n      this.value = null;\n    }\n  }\n\n  onWriteValue(value: string): void {\n    this.switcherValue = !isNull(value);\n    this.selectValue = this.value ? [this.options.options.find((option) => option.id === value)] : [];\n  }\n\n  onSelectionChange(value: ISelectOption[]): void {\n    this.value = head(value).id;\n  }\n\n  optionFormatter(option: ISelectOption): string {\n    return option.name;\n  }\n}\n","<div class=\"form-group\" [ngClass]=\"{ 'is-required': options.required }\">\n  <label class=\"form-control-label\" *ngIf=\"options.label\">{{ options.label }}</label>\n\n  <div class=\"d-flex\">\n    <div class=\"mr-2\">\n      <adapt-rx-switch\n        [ngModel]=\"switcherValue\"\n        (ngModelChange)=\"onSwitcherChange($event)\"\n        [disabled]=\"isDisabled\"\n      ></adapt-rx-switch>\n    </div>\n\n    <adapt-rx-select\n      class=\"mb-0 w-100\"\n      *ngIf=\"switcherValue\"\n      [disabled]=\"isDisabled\"\n      [options]=\"options.options\"\n      [required]=\"options.required\"\n      [ngModel]=\"selectValue\"\n      (ngModelChange)=\"onSelectionChange($event)\"\n      [optionFormatter]=\"optionFormatter\"\n    >\n    </adapt-rx-select>\n  </div>\n</div>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AdaptRxSwitchModule, AdaptRxSelectModule } from '@bmc-ux/adapt-angular';\nimport { OptionalSelectFormControlComponent } from './optional-select-form-control.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ReactiveFormsModule, AdaptRxSwitchModule, AdaptRxSelectModule],\n  exports: [OptionalSelectFormControlComponent],\n  declarations: [OptionalSelectFormControlComponent],\n  entryComponents: [OptionalSelectFormControlComponent]\n})\nexport class OptionalSelectFormControlModule {}\n","import { Component, Input } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { RxSelectOption } from '@bmc-ux/adapt-angular';\nimport { IPlainObject } from '@helix/platform/shared/api';\nimport { find, head, isNaN, isNil, isUndefined, map, size } from 'lodash';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { IStepperOptions, IStepperWithUnitsFormControlOptions } from './stepper-with-units-form-control.interface';\n\n@Component({\n  selector: 'rx-stepper-with-units-form-control',\n  templateUrl: './stepper-with-units-form-control.component.html',\n  styleUrls: ['./stepper-with-units-form-control.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: StepperWithUnitsFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class StepperWithUnitsFormControlComponent extends ValueAccessor<string> implements IFormControlComponent {\n  @Input()\n  options: IStepperWithUnitsFormControlOptions;\n\n  get unit(): RxSelectOption[] {\n    return this.unitValue;\n  }\n\n  set unit(value: RxSelectOption[]) {\n    const unitValueId = head(value).id;\n\n    this.unitValue = value;\n    this.updateStepperConfig(unitValueId);\n\n    this.stepperValue = this.stepperValueByUnitsCache.hasOwnProperty(unitValueId)\n      ? this.stepperValueByUnitsCache[unitValueId]\n      : this.stepperOptions.defaultValue;\n\n    this.value = this.stepperValue ? this.stepperValue + unitValueId : null;\n  }\n\n  get stepper(): number {\n    return this.stepperValue;\n  }\n\n  set stepper(value: number) {\n    this.stepperValue = value;\n    this.stepperValueByUnitsCache[head(this.unit).id] = value;\n\n    this.value = !isNil(value) && !isNaN(value) && this.unitValue.length ? value + head(this.unitValue).id : null;\n  }\n\n  stepperOptions: IStepperOptions = {};\n  maxValue: number;\n  minValue: number;\n\n  private stepperValue: number = null;\n  private unitValue: RxSelectOption[] = [];\n  private stepperValueByUnitsCache: IPlainObject = {};\n\n  writeValue(value: string): void {\n    if (value) {\n      const numberValue = value.match(/^[+-]?\\d+(\\.\\d+)?/);\n\n      this.stepperValue = numberValue ? Number(head(numberValue)) : null;\n\n      if (size(this.options.units)) {\n        const regExpString = map(this.options.units, 'id').join('|');\n        const unitId = head(value.match(new RegExp(regExpString)));\n\n        if (unitId) {\n          this.unitValue = [find(this.options.units, { id: unitId })];\n          this.stepperValueByUnitsCache[unitId] = this.stepperValue;\n          this.updateStepperConfig(unitId);\n        }\n      } else {\n        this.unitValue = [];\n      }\n    } else {\n      if (this.unitValue.length) {\n        this.stepperValue = null;\n      } else {\n        const defaultUnit = find(this.options.units, { id: this.options.defaultUnit }) ?? head(this.options.units);\n\n        this.unitValue = [defaultUnit];\n\n        this.updateStepperConfig(defaultUnit.id);\n\n        this.stepperValue = this.stepperOptions.defaultValue;\n      }\n    }\n  }\n\n  optionFormatter(option: RxSelectOption): string {\n    return option.name;\n  }\n\n  private updateStepperConfig(unitId: string): void {\n    this.stepperOptions = this.options.stepperOptionByUnits ? this.options.stepperOptionByUnits[unitId] : {};\n\n    this.maxValue = isUndefined(this.stepperOptions.maxValue) ? Number.MAX_SAFE_INTEGER : this.stepperOptions.maxValue;\n\n    this.minValue = isUndefined(this.stepperOptions.minValue) ? Number.MIN_SAFE_INTEGER : this.stepperOptions.minValue;\n  }\n}\n","<div class=\"form-group\" [ngClass]=\"{ 'is-required': options.required }\">\n  <label class=\"form-control-label\" *ngIf=\"options.label\">{{ options.label }}</label>\n\n  <div class=\"d-flex flex-row\">\n    <div class=\"control\">\n      <adapt-rx-counter\n        [min]=\"minValue\"\n        [max]=\"maxValue\"\n        [adaptMin]=\"minValue\"\n        [adaptMax]=\"maxValue\"\n        [required]=\"options.required\"\n        [disabled]=\"isDisabled\"\n        [(ngModel)]=\"stepper\"\n        [step]=\"options.step || 1\"\n        adaptIntegerNumber\n      >\n      </adapt-rx-counter>\n    </div>\n\n    <div class=\"control ml-1\">\n      <adapt-rx-select\n        [options]=\"options.units\"\n        [disabled]=\"isDisabled\"\n        [(ngModel)]=\"unit\"\n        [optionFormatter]=\"optionFormatter\"\n      >\n      </adapt-rx-select>\n    </div>\n  </div>\n</div>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { AdaptRxCounterModule, AdaptRxValidatorsModule, AdaptRxSelectModule } from '@bmc-ux/adapt-angular';\nimport { StepperWithUnitsFormControlComponent } from './stepper-with-units-form-control.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, AdaptRxSelectModule, AdaptRxCounterModule, AdaptRxValidatorsModule],\n  declarations: [StepperWithUnitsFormControlComponent],\n  exports: [StepperWithUnitsFormControlComponent],\n  entryComponents: [StepperWithUnitsFormControlComponent]\n})\nexport class StepperWithUnitsFormControlModule {}\n","import { Component, Input } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { ISwitcherFormControlOptions } from './switch-form-control-options.interface';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\n\n@Component({\n  selector: 'rx-switcher-form-control',\n  templateUrl: './switch-form-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: SwitchFormControlComponent,\n      multi: true\n    }\n  ],\n  styleUrls: ['./switch-form-control.component.scss']\n})\nexport class SwitchFormControlComponent extends ValueAccessor<boolean> implements IFormControlComponent {\n  @Input()\n  options: ISwitcherFormControlOptions;\n\n  id: string;\n}\n","<div class=\"form-group\">\n  <adapt-rx-control-label\n    *ngIf=\"options.label\"\n    [label]=\"options.label\"\n    [tooltip]=\"\n      options.tooltip\n        ? {\n            content: popoverContent,\n            popoverMode: options.tooltip.popoverMode,\n            placement: options.tooltip.placement,\n            iconName: options.tooltip.iconName\n          }\n        : null\n    \"\n  >\n  </adapt-rx-control-label>\n\n  <ng-template #popoverContent>\n    <span [innerHtml]=\"options.tooltip.content\"></span>\n  </ng-template>\n\n  <adapt-rx-switch [(ngModel)]=\"value\" [label]=\"options.description\" [disabled]=\"isDisabled\"></adapt-rx-switch>\n</div>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { AdaptRxLabelModule, AdaptRxSwitchModule } from '@bmc-ux/adapt-angular';\nimport { SwitchFormControlComponent } from './switch-form-control.component';\n\n@NgModule({\n  declarations: [SwitchFormControlComponent],\n  exports: [SwitchFormControlComponent],\n  entryComponents: [SwitchFormControlComponent],\n  imports: [CommonModule, FormsModule, AdaptRxSwitchModule, AdaptRxLabelModule]\n})\nexport class SwitchFormControlModule {}\n","import { Component, Input, Renderer2, ViewChild } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { IFormControlComponent, IFormFocusable } from '@helix/platform/shared/api';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { ITagsFormControlOptions, ITagsFormControlModel, ITagAutocompleteValue } from './tags-form-control.types';\nimport { AdaptMetatagComponent, InitTagEditingEvent } from '@bmc-ux/adapt-angular';\nimport { isEmpty, isObject } from 'lodash';\nimport { Observable } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, map } from 'rxjs/operators';\nimport { RxStringService } from '@helix/platform/utils';\n\n@Component({\n  selector: 'rx-tags-form-control',\n  templateUrl: './tags-form-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: TagsFormControlComponent,\n      multi: true\n    }\n  ],\n  styleUrls: ['./tags-form-control.component.scss']\n})\nexport class TagsFormControlComponent extends ValueAccessor<string> implements IFormControlComponent, IFormFocusable {\n  @Input()\n  options: ITagsFormControlOptions;\n\n  @ViewChild('adaptTagField', { static: true })\n  adaptTagField: AdaptMetatagComponent;\n\n  tags: ITagsFormControlModel[];\n\n  autocompleteSearchBound: (text$: Observable<string>) => Observable<ITagAutocompleteValue[]> =\n    this.autocompleteSearch.bind(this);\n\n  constructor(private rxStringService: RxStringService, private renderer: Renderer2) {\n    super();\n  }\n\n  focus(): void {\n    // @ts-ignore\n    this.renderer.selectRootElement(this.adaptTagField.adaptRxTypeaheadComponent.inputRef.nativeElement, true).focus();\n  }\n\n  onTagsModelChange(tags: ITagsFormControlModel[]): void {\n    this.tags = tags;\n\n    this.value = this.getStringFromTags(tags);\n  }\n\n  onWriteValue(value: string): void {\n    this.tags = this.getTagsFromString(value);\n  }\n\n  getStringFromTags(tags: ITagsFormControlModel[]): string {\n    if (isEmpty(tags)) {\n      return null;\n    }\n\n    const tagsString = tags.map((tag) => (this.isAutocompleteTag(tag) ? tag.data.value : tag).trim()).join(' ');\n\n    return tagsString.replace(/\\s{2,}/g, ' ');\n  }\n\n  isAutocompleteTag(tag: ITagsFormControlModel): tag is ITagAutocompleteValue {\n    return isObject(tag);\n  }\n\n  getTagsFromString(tagsString: string): ITagsFormControlModel[] {\n    if (tagsString) {\n      const tags = tagsString.split(' ');\n      const autocompleteValues = this.options.autocompleteValues;\n\n      if (isEmpty(autocompleteValues)) {\n        return tags;\n      }\n\n      return tags\n        .map((tag) => autocompleteValues.find((autocomplete) => autocomplete.data.value === tag) || tag.trim())\n        .filter(Boolean);\n    }\n\n    return [];\n  }\n\n  autocompleteSearch(text$: Observable<string>): Observable<ITagAutocompleteValue[]> {\n    return text$.pipe(\n      debounceTime(250),\n      distinctUntilChanged(),\n      map((searchTerm) => {\n        const autocompleteValues = this.options.autocompleteValues;\n\n        if (isEmpty(autocompleteValues)) {\n          return [];\n        }\n\n        return autocompleteValues.filter((autocompleteValue) =>\n          this.rxStringService.caseInsensitiveSearch(autocompleteValue.text, searchTerm)\n        );\n      })\n    );\n  }\n\n  onInitTagEditing(event: InitTagEditingEvent): void {\n    const tag = event.tag as ITagsFormControlModel;\n\n    if (this.isAutocompleteTag(tag)) {\n      event.preventDefault();\n    }\n  }\n}\n","<adapt-tag-field\n  #adaptTagField\n  [label]=\"options.label\"\n  [placeholder]=\"options.placeholder\"\n  [required]=\"options.required\"\n  [ngModel]=\"tags\"\n  [disabled]=\"isDisabled\"\n  [popoverContent]=\"options.tooltip?.content\"\n  [popoverIcon]=\"options.tooltip?.iconName\"\n  (ngModelChange)=\"onTagsModelChange($event)\"\n  [replaceModelOnWrite]=\"true\"\n  [delimiterSymbol]=\"null\"\n  [search]=\"autocompleteSearchBound\"\n  [openDropdownOnFocus]=\"true\"\n  [errorCheck]=\"options.errorCheck\"\n  (initTagEditing)=\"onInitTagEditing($event)\"\n>\n</adapt-tag-field>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { AdaptMetatagModule, AdaptRxLabelModule, AdaptTagModule } from '@bmc-ux/adapt-angular';\nimport { TagsFormControlComponent } from './tags-form-control.component';\n\n@NgModule({\n  declarations: [TagsFormControlComponent],\n  exports: [TagsFormControlComponent],\n  entryComponents: [TagsFormControlComponent],\n  imports: [CommonModule, FormsModule, AdaptMetatagModule, AdaptTagModule, AdaptRxLabelModule]\n})\nexport class TagsFormControlModule {}\n","import { Component, Input, Renderer2, ViewChild } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { IFormControlComponent, IFormFocusable } from '@helix/platform/shared/api';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { ITextareaFormControlOptions } from './textarea-form-control-options.interface';\nimport { AdaptRxTextareaComponent } from '@bmc-ux/adapt-angular';\n\n@Component({\n  selector: 'rx-textarea-form-control',\n  templateUrl: './textarea-form-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: TextareaFormControlComponent,\n      multi: true\n    }\n  ],\n  styleUrls: ['./textarea-form-control.component.scss']\n})\nexport class TextareaFormControlComponent\n  extends ValueAccessor<string>\n  implements IFormControlComponent, IFormFocusable\n{\n  @Input()\n  options: ITextareaFormControlOptions;\n\n  @ViewChild('editor', { static: true })\n  editor: AdaptRxTextareaComponent;\n\n  constructor(private renderer: Renderer2) {\n    super();\n  }\n\n  focus() {\n    this.renderer.selectRootElement(this.editor.textareaRef.nativeElement, true).focus();\n  }\n}\n","<adapt-rx-textarea\n  #editor\n  label=\"{{ options.label }}\"\n  [required]=\"options.required\"\n  [rows]=\"options.rows\"\n  [(ngModel)]=\"value\"\n  [disabled]=\"isDisabled\"\n  [tooltip]=\"\n    options.tooltip\n      ? {\n          iconName: options.tooltip.iconName,\n          content: options.tooltip.content,\n          popoverMode: true\n        }\n      : null\n  \"\n>\n</adapt-rx-textarea>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TextareaFormControlComponent } from './textarea-form-control.component';\nimport { AdaptRxTextareaModule } from '@bmc-ux/adapt-angular';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [TextareaFormControlComponent],\n  exports: [TextareaFormControlComponent],\n  entryComponents: [TextareaFormControlComponent],\n  imports: [CommonModule, FormsModule, AdaptRxTextareaModule]\n})\nexport class TextareaFormControlModule {}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { ValueAccessor } from '../../form-builder';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\nimport { IDateFormControlOptions } from '../date-form-control';\nimport { RxDatetimePickerMode, RxDatetimeStruct } from '@bmc-ux/adapt-angular';\nimport moment from 'moment-es6';\nimport { isNull } from 'lodash';\n\n@Component({\n  selector: 'rx-time-form-control',\n  templateUrl: './time-form-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: TimeFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class TimeFormControlComponent extends ValueAccessor<string> implements IFormControlComponent, OnInit {\n  @Input()\n  options: IDateFormControlOptions;\n\n  @Input()\n  isDisabled: boolean;\n\n  datePickerControl = new FormControl('');\n\n  pickerMode = RxDatetimePickerMode.Time;\n\n  ngOnInit(): void {\n    this.datePickerControl.valueChanges.subscribe((value: RxDatetimeStruct) => {\n      if (value && !isNull(value.hours) && !isNull(value.minutes)) {\n        this.value = moment({\n          hour: value.hours,\n          minute: value.minutes,\n          seconds: value.seconds || 0\n        }).format('HH:mm:ss');\n      } else {\n        this.value = null;\n      }\n    });\n  }\n\n  writeValue(value: string): void {\n    super.writeValue(value);\n\n    const date = moment(this.value, 'LTS');\n\n    if (date.isValid()) {\n      this.datePickerControl.setValue({\n        hours: date.hour(),\n        minutes: date.minutes()\n      });\n    } else {\n      this.datePickerControl.setValue(null);\n    }\n  }\n}\n","<adapt-rx-datetime\n  [label]=\"options.label\"\n  [disabled]=\"isDisabled\"\n  [mode]=\"pickerMode\"\n  [required]=\"options.required\"\n  [formControl]=\"datePickerControl\"\n>\n</adapt-rx-datetime>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TimeFormControlComponent } from './time-form-control.component';\nimport { AdaptRxDatetimeModule } from '@bmc-ux/adapt-angular';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [TimeFormControlComponent],\n  imports: [CommonModule, AdaptRxDatetimeModule, FormsModule, ReactiveFormsModule],\n  exports: [TimeFormControlComponent],\n  entryComponents: [TimeFormControlComponent]\n})\nexport class TimeFormControlModule {}\n","export enum MessageType {\n  Warning = 'Warning',\n  Success = 'Success',\n  Info = 'Info',\n  Error = 'Error'\n}\n\nexport interface IValidationFormControlOptions {\n  text: string;\n  propertyName?: string;\n  componentGuid?: string;\n  messageType?: MessageType;\n  customStyle?: any;\n}\n","export const RX_VALIDATION_FORM_CONTROL = {\n  events: {\n    correctValidationIssue: 'CORRECT_VALIDATION_ISSUE'\n  }\n};\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { IValidationFormControlOptions, MessageType } from './validation-form-control-options.types';\nimport { RX_VALIDATION_FORM_CONTROL } from './validation-form-control.constant';\n\n@Component({\n  selector: 'rx-validation-form-control',\n  templateUrl: './validation-form-control.component.html'\n})\nexport class ValidationFormControlComponent extends ValueAccessor<string> implements IFormControlComponent {\n  @Input()\n  options: IValidationFormControlOptions;\n\n  @Output()\n  events: EventEmitter<any> = new EventEmitter();\n\n  messageType = MessageType;\n\n  correctIssue() {\n    this.events.emit({\n      type: RX_VALIDATION_FORM_CONTROL.events.correctValidationIssue,\n      payload: {\n        propertyName: this.options.propertyName,\n        componentGuid: this.options.componentGuid\n      }\n    });\n  }\n}\n","<p\n  [ngClass]=\"{\n    'text-danger': options.messageType === messageType.Error,\n    'text-warning': options.messageType === messageType.Warning,\n    'text-info': options.messageType === messageType.Info,\n    'text-success': options.messageType === messageType.Success\n  }\"\n  [ngStyle]=\"options.customStyle\"\n>\n  {{ options.text }}\n</p>\n\n<div *ngIf=\"options.componentGuid && !isDisabled\" class=\"text-right\">\n  <button type=\"button\" adapt-button size=\"small\" btn-type=\"tertiary\" (click)=\"correctIssue()\">Correct issue</button>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ValidationFormControlComponent } from './validation-form-control.component';\nimport { AdaptButtonModule } from '@bmc-ux/adapt-angular';\n\n@NgModule({\n  declarations: [ValidationFormControlComponent],\n  exports: [ValidationFormControlComponent],\n  entryComponents: [ValidationFormControlComponent],\n  imports: [CommonModule, AdaptButtonModule]\n})\nexport class ValidationFormControlModule {}\n","import { NgModule } from '@angular/core';\nimport { AssignmentExpressionListFormControlModule } from './assignment-expression-list-form-control/assignment-expression-list-form-control.module';\nimport { AttachmentFormControlModule } from './attachment-form-control/attachment-form-control.module';\nimport { BooleanFormControlModule } from './boolean-form-control/boolean-form-control.module';\nimport { ColorPickerFormControlModule } from './color-picker-form-control/color-picker-form-control.module';\nimport { CounterFormControlModule } from './counter-form-control/counter-form-control.module';\nimport { CustomizationOptionsModule } from './customization-options/customization-options.module';\nimport { DateFormControlModule } from './date-form-control/date-form-control.module';\nimport { DateTimeFormControlModule } from './date-time-form-control/date-time-form-control.module';\nimport { ExpressionFormControlModule } from './expression-form-control/expression-form-control.module';\nimport { GroupButtonFormControlModule } from './group-button-form-control/group-button-form-control.module';\nimport { IconPickerFormControlModule } from './icon-picker-form-control/icon-picker-form-control.module';\nimport { InputListFormControlModule } from './input-list-form-control/input-list-form-control.module';\nimport { LabelFormControlModule } from './label-form-control/label-form-control.module';\nimport { ListFormControlModule } from './list-form-control/list-form-control.module';\nimport { OptionalExpressionControlModule } from './optional-expression-control/optional-expression-control.module';\nimport { OptionalSelectFormControlModule } from './optional-select-form-control/optional-select-form-control.module';\nimport { SelectFormControlModule } from './select-form-control/select-form-control.module';\nimport { StepperWithUnitsFormControlModule } from './stepper-with-units-form-control/stepper-with-units-form-control.module';\nimport { SwitchFormControlModule } from './switch-form-control/switch-form-control.module';\nimport { TagsFormControlModule } from './tags-form-control/tags-form-control.module';\nimport { TextFormControlModule } from './text-form-control/text-form-control.module';\nimport { TextareaFormControlModule } from './textarea-form-control/textarea-form-control.module';\nimport { TimeFormControlModule } from './time-form-control/time-form-control.module';\nimport { ValidationFormControlModule } from './validation-form-control/validation-form-control.module';\n\n@NgModule({\n  imports: [\n    AssignmentExpressionListFormControlModule,\n    TagsFormControlModule,\n    ListFormControlModule,\n    LabelFormControlModule,\n    BooleanFormControlModule,\n    SwitchFormControlModule,\n    TextFormControlModule,\n    TextareaFormControlModule,\n    GroupButtonFormControlModule,\n    SelectFormControlModule,\n    ValidationFormControlModule,\n    OptionalExpressionControlModule,\n    OptionalSelectFormControlModule,\n    CustomizationOptionsModule,\n    StepperWithUnitsFormControlModule,\n    ColorPickerFormControlModule,\n    CounterFormControlModule,\n    DateFormControlModule,\n    DateTimeFormControlModule,\n    TimeFormControlModule,\n    AttachmentFormControlModule,\n    ExpressionFormControlModule,\n    InputListFormControlModule,\n    IconPickerFormControlModule\n  ]\n})\nexport class FormControlsModule {}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IDefinitionPickerComponentOptions } from '../../definition-picker';\nimport { RX_EXPRESSION_EDITOR } from '../../expression-editor';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { IExpressionFormControlOptions } from '../expression-form-control';\nimport { IDefinitionPickerOrExpressionFormControlOptions } from './definition-picker-or-expression-form-control.types';\n\nenum DefinitionPickerOrExpressionComponentMode {\n  Definition = 'Definition',\n  Expression = 'Expression'\n}\n\n@Component({\n  selector: 'rx-definition-picker-or-expression-form-control',\n  templateUrl: 'definition-picker-or-expression-form-control.component.html',\n  styleUrls: ['definition-picker-or-expression-form-control.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: DefinitionPickerOrExpressionFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class DefinitionPickerOrExpressionFormControlComponent\n  extends ValueAccessor<string>\n  implements OnInit, IFormControlComponent\n{\n  @Input()\n  options: IDefinitionPickerOrExpressionFormControlOptions;\n\n  @Input()\n  propertyPath: string;\n\n  @Output()\n  events: EventEmitter<any> = new EventEmitter();\n\n  definitionPickerOptions: IDefinitionPickerComponentOptions;\n  expressionFormControlOptions: IExpressionFormControlOptions;\n  componentMode = DefinitionPickerOrExpressionComponentMode;\n  activeMode = DefinitionPickerOrExpressionComponentMode.Definition;\n\n  ngOnInit(): void {\n    this.activeMode = this.isDynamicDefinitionName(this.value)\n      ? DefinitionPickerOrExpressionComponentMode.Expression\n      : DefinitionPickerOrExpressionComponentMode.Definition;\n\n    this.definitionPickerOptions = {\n      definitionType: this.options.definitionType,\n      label: this.options.label\n    };\n\n    this.expressionFormControlOptions = {\n      dataDictionary$: this.options.dataDictionary$,\n      operators: this.options.operators,\n      label: this.options.label\n    };\n  }\n\n  selectMode(mode: DefinitionPickerOrExpressionComponentMode): void {\n    if (this.activeMode !== mode) {\n      this.activeMode = mode;\n      this.value = null;\n    } else if (this.activeMode === mode && this.value) {\n      this.events.emit({\n        type: RX_EXPRESSION_EDITOR.events.openExpressionEditor,\n        payload: {\n          propertyPath: this.propertyPath\n        }\n      });\n    }\n  }\n\n  onModelValueChange(expressionValue: string): void {\n    this.value = expressionValue;\n  }\n\n  private isDynamicDefinitionName(definitionName: string): boolean {\n    return Boolean(definitionName?.match(/\\$\\{.*\\}/));\n  }\n}\n","<div class=\"d-flex flex-row-reverse row toggle-dropdown\">\n  <div class=\"dropdown\" adaptDropdown>\n    <button rx-id=\"toggle-button\" class=\"btn btn-link pl-0\" adaptDropdownToggle type=\"button\">\n      <span class=\"flex-grow-1 rx-ellipsis rx-selected-item\">\n        {{ 'com.bmc.arsys.rx.client.common.select.label' | translate }}\n      </span>\n    </button>\n\n    <div class=\"dropdown-menu\" adaptDropdownMenu>\n      <button\n        type=\"button\"\n        class=\"dropdown-item\"\n        (click)=\"selectMode(componentMode.Definition)\"\n        [class.active]=\"activeMode === componentMode.Definition\"\n      >\n        Select {{ options.definitionType }}\n      </button>\n\n      <button\n        type=\"button\"\n        class=\"dropdown-item\"\n        (click)=\"selectMode(componentMode.Expression)\"\n        [class.active]=\"activeMode === componentMode.Expression\"\n      >\n        {{ 'com.bmc.arsys.rx.client.expression-editor.edit-expression.title' | translate }}\n      </button>\n    </div>\n  </div>\n</div>\n\n<rx-definition-picker\n  *ngIf=\"activeMode === componentMode.Definition\"\n  [ngModel]=\"value\"\n  (ngModelChange)=\"onModelValueChange($event)\"\n  [options]=\"definitionPickerOptions\"\n  [isDisabled]=\"isDisabled\"\n>\n</rx-definition-picker>\n\n<rx-expression-form-control\n  *ngIf=\"activeMode === componentMode.Expression\"\n  [options]=\"expressionFormControlOptions\"\n  [propertyPath]=\"propertyPath\"\n  [disabled]=\"isDisabled\"\n  [ngModel]=\"value\"\n  (ngModelChange)=\"onModelValueChange($event)\"\n  (events)=\"events.emit($event)\"\n>\n</rx-expression-form-control>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { AdaptDropdownModule, AdaptRxLabelModule } from '@bmc-ux/adapt-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { RxDefinitionPickerModule } from '../../definition-picker/definition-picker.module';\nimport { ExpressionFormControlModule } from '../expression-form-control/expression-form-control.module';\nimport { DefinitionPickerOrExpressionFormControlComponent } from './definition-picker-or-expression-form-control.component';\n\n@NgModule({\n  imports: [\n    FormsModule,\n    CommonModule,\n    AdaptRxLabelModule,\n    AdaptDropdownModule,\n    ExpressionFormControlModule,\n    RxDefinitionPickerModule,\n    TranslateModule\n  ],\n  exports: [DefinitionPickerOrExpressionFormControlComponent],\n  declarations: [DefinitionPickerOrExpressionFormControlComponent],\n  entryComponents: [DefinitionPickerOrExpressionFormControlComponent]\n})\nexport class DefinitionPickerOrExpressionFormControlModule {}\n","import { Component, Input, Renderer2, ViewChild } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { IFormControlComponent, IFormFocusable, IPlainObject } from '@helix/platform/shared/api';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { ITextFormControlOptions } from '../text-form-control/text-form-control-options.interface';\nimport { AdaptRxTextfieldComponent } from '@bmc-ux/adapt-angular';\nimport { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\n\n@Component({\n  selector: 'rx-record-instance-form-control',\n  templateUrl: './record-instance-form-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: RecordInstanceFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class RecordInstanceFormControlComponent\n  extends ValueAccessor<object>\n  implements IFormControlComponent, IFormFocusable\n{\n  @Input()\n  options: ITextFormControlOptions;\n\n  @ViewChild('editor', { static: true })\n  editor: AdaptRxTextfieldComponent;\n\n  model: IPlainObject = {\n    resourceType: RX_RECORD_DEFINITION.resourceTypes.recordInstanceProcessVariable\n  };\n\n  constructor(private renderer: Renderer2) {\n    super();\n  }\n\n  focus(): void {\n    this.renderer.selectRootElement(this.editor.inputRef.nativeElement, true).focus();\n  }\n\n  onModelChange() {\n    this.value = this.model;\n  }\n}\n","<adapt-rx-control-label class=\"d-block form-group\" [label]=\"options.label\"></adapt-rx-control-label>\n\n<adapt-rx-textfield\n  #editor\n  class=\"d-block form-group\"\n  [label]=\"'com.bmc.arsys.rx.client.record-instance-form-control.id.label' | translate\"\n  [required]=\"options.required\"\n  [(ngModel)]=\"model.id\"\n  [disabled]=\"isDisabled\"\n  [tooltip]=\"options.tooltip\"\n  (ngModelChange)=\"onModelChange()\"\n>\n</adapt-rx-textfield>\n\n<adapt-rx-textfield\n  class=\"d-block form-group\"\n  [label]=\"'com.bmc.arsys.rx.client.record-instance-form-control.record-definition-name.label' | translate\"\n  [required]=\"options.required\"\n  [(ngModel)]=\"model.recordDefinitionName\"\n  [disabled]=\"isDisabled\"\n  [tooltip]=\"options.tooltip\"\n  (ngModelChange)=\"onModelChange()\"\n>\n</adapt-rx-textfield>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RecordInstanceFormControlComponent } from './record-instance-form-control.component';\nimport { AdaptRxLabelModule, AdaptRxTextfieldModule } from '@bmc-ux/adapt-angular';\nimport { FormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [RecordInstanceFormControlComponent],\n  exports: [RecordInstanceFormControlComponent],\n  entryComponents: [RecordInstanceFormControlComponent],\n  imports: [CommonModule, FormsModule, AdaptRxTextfieldModule, AdaptRxLabelModule, TranslateModule]\n})\nexport class RecordInstanceFormControlModule {}\n","import { Component, Input } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\nimport { ValueAccessor } from '../../form-builder/value-accessor';\nimport { IRadioFormControlOptions } from './radio-form-control.interfaces';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'rx-radio-form-control',\n  templateUrl: './radio-form-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: RadioFormControlComponent,\n      multi: true\n    }\n  ],\n  styleUrls: ['./radio-form-control.component.scss']\n})\nexport class RadioFormControlComponent extends ValueAccessor<any> implements IFormControlComponent {\n  constructor(private translateService: TranslateService) {\n    super();\n  }\n\n  @Input()\n  options: IRadioFormControlOptions;\n}\n","<div class=\"form-group\">\n  <adapt-rx-radiobutton-group\n    [(ngModel)]=\"value\"\n    [label]=\"options.label\"\n    [tooltip]=\"\n      options.tooltip\n        ? {\n            content: popoverContent,\n            popoverMode: options.tooltip.popoverMode,\n            placement: options.tooltip.placement,\n            iconName: options.tooltip.iconName,\n            maxWidth: options.tooltip.maxWidth\n          }\n        : null\n    \"\n    [disabled]=\"isDisabled\"\n  >\n    <adapt-rx-radiobutton\n      class=\"radio-inline\"\n      *ngFor=\"let item of options.items\"\n      [value]=\"item.value\"\n      [label]=\"item.label\"\n    >\n    </adapt-rx-radiobutton>\n  </adapt-rx-radiobutton-group>\n</div>\n\n<ng-template #popoverContent>\n  <span [innerHtml]=\"options.tooltip.content\"></span>\n</ng-template>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { AdaptRxLabelModule, AdaptRxRadiobuttonModule } from '@bmc-ux/adapt-angular';\nimport { RadioFormControlComponent } from './radio-form-control.component';\n\n@NgModule({\n  declarations: [RadioFormControlComponent],\n  exports: [RadioFormControlComponent],\n  entryComponents: [RadioFormControlComponent],\n  imports: [CommonModule, FormsModule, AdaptRxRadiobuttonModule, AdaptRxLabelModule]\n})\nexport class RadioFormControlModule {}\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  HostListener,\n  Input,\n  OnChanges,\n  Output,\n  SimpleChanges,\n  ViewChild\n} from '@angular/core';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\nimport { IWindowMessage, RxJsonParserService } from '@helix/platform/utils';\nimport { IIframeApi } from './iframe.interface';\n\n@Component({\n  selector: 'rx-iframe',\n  templateUrl: './iframe.component.html',\n  styleUrls: ['./iframe.component.scss']\n})\nexport class RxIframeComponent implements OnChanges {\n  @Input()\n  url: string;\n\n  @HostBinding('class')\n  class = 'd-block';\n\n  @HostBinding('class.position-absolute')\n  isAbsolutePositioned = false;\n\n  @HostBinding('class.isHidden')\n  isHidden = false;\n\n  @Output()\n  rxMessage = new EventEmitter<IWindowMessage>();\n\n  @ViewChild('frame')\n  iframe: ElementRef;\n\n  src: SafeResourceUrl;\n\n  api: IIframeApi = {\n    postMessageToFrame: (message: IWindowMessage): void => {\n      this.iframe.nativeElement.contentWindow.postMessage(message, '*');\n    }\n  };\n\n  @HostListener('window:message', ['$event'])\n  onMessage(event: MessageEvent): void {\n    if (event.data) {\n      const windowMessage = this.rxJsonParserService.tryParseJson<IWindowMessage>(event.data);\n\n      if (windowMessage) {\n        this.rxMessage.emit(windowMessage);\n      }\n    }\n  }\n\n  constructor(private rxJsonParserService: RxJsonParserService, private domSanitizer: DomSanitizer) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.url?.currentValue) {\n      this.src = this.domSanitizer.bypassSecurityTrustResourceUrl(changes.url.currentValue);\n    }\n  }\n\n  updateUrl(url: string): void {\n    this.iframe.nativeElement.contentWindow.location.replace(url);\n  }\n}\n","<iframe #frame class=\"w-100 h-100 d-block\" frameborder=\"0\" [src]=\"src\"></iframe>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RxIframeComponent } from './iframe.component';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [RxIframeComponent],\n  exports: [RxIframeComponent]\n})\nexport class RxIframeModule {}\n","import { DOCUMENT } from '@angular/common';\nimport {\n  ApplicationRef,\n  ComponentFactoryResolver,\n  ComponentRef,\n  EmbeddedViewRef,\n  Inject,\n  Injectable,\n  Injector,\n  SimpleChange\n} from '@angular/core';\nimport { RX_APPLICATION } from '@helix/platform/shared/api';\nimport { RxIframeComponent } from './iframe.component';\nimport { IIframeApi } from './iframe.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxIframeService {\n  private iframeComponentRef: ComponentRef<RxIframeComponent>;\n\n  constructor(\n    private applicationRef: ApplicationRef,\n    @Inject(DOCUMENT) private document: any,\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private injector: Injector\n  ) {}\n\n  showIframe(url: string): void {\n    if (!this.iframeComponentRef) {\n      const componentFactory = this.componentFactoryResolver.resolveComponentFactory(RxIframeComponent);\n\n      this.iframeComponentRef = componentFactory.create(this.injector);\n      this.iframeComponentRef.instance.isAbsolutePositioned = true;\n      this.applicationRef.attachView(this.iframeComponentRef.hostView);\n\n      const rxIframeHtmlElement = (this.iframeComponentRef.hostView as EmbeddedViewRef<any>)\n        .rootNodes[0] as HTMLElement;\n\n      this.document.querySelector('rx-root').appendChild(rxIframeHtmlElement);\n\n      this.setIframeUrl(url);\n    } else {\n      this.iframeComponentRef.instance.isHidden = false;\n      this.updateIframeUrl(url);\n    }\n  }\n\n  hideIframe(): void {\n    this.iframeComponentRef.instance.isHidden = true;\n\n    this.updateIframeUrl(`/${RX_APPLICATION.innovationStudioBundleId}/index.html#/blank`);\n  }\n\n  getIframeApi(): IIframeApi {\n    return this.iframeComponentRef.instance.api;\n  }\n\n  private setIframeUrl(url: string): void {\n    this.iframeComponentRef.instance.ngOnChanges({\n      url: new SimpleChange(null, url, false)\n    });\n  }\n\n  private updateIframeUrl(url: string): void {\n    this.iframeComponentRef.instance.updateUrl(url);\n  }\n}\n","import { Directive, Input } from '@angular/core';\nimport { IInspector } from './inspector.interface';\n\n@Directive({\n  selector: '[rxInspector]'\n})\nexport class InspectorDirective implements IInspector {\n  @Input()\n  designerItemModel;\n}\n","import { NgModule } from '@angular/core';\nimport { InspectorDirective } from './inspector.directive';\n\n@NgModule({\n  exports: [InspectorDirective],\n  declarations: [InspectorDirective]\n})\nexport class RxInspectorModule {}\n","import { Directive, EventEmitter, Injector, Input, Output } from '@angular/core';\nimport { IInspector } from './inspector.interface';\nimport { InspectorDirective } from './inspector.directive';\nimport { ValueAccessor } from '../form-builder';\nimport { IFormControlComponent } from '@helix/platform/shared/api';\n\n@Directive()\n// tslint:disable-next-line:directive-class-suffix\nexport class InspectorControlBase<TInspectorControlValue, TInspectorControlOptions, TDesignerItemModel>\n  extends ValueAccessor<TInspectorControlValue>\n  implements IFormControlComponent\n{\n  @Input()\n  propertyPath: string;\n\n  @Input()\n  options: TInspectorControlOptions;\n\n  @Output()\n  events: EventEmitter<any> = new EventEmitter();\n\n  readonly designerItemModel = this.injector.get<IInspector<TDesignerItemModel>>(InspectorDirective).designerItemModel;\n\n  constructor(protected injector: Injector) {\n    super();\n  }\n}\n","import { EventEmitter, Injectable, Injector, Input, Output } from '@angular/core';\nimport { IInspector } from './inspector.interface';\nimport { InspectorDirective } from './inspector.directive';\n\n@Injectable()\nexport class InspectorWidgetBase<TInspectorComponentOptions, TDesignerItemModel> {\n  @Input()\n  options: TInspectorComponentOptions;\n\n  @Output()\n  events: EventEmitter<any> = new EventEmitter();\n\n  readonly designerItemModel = this.injector.get<IInspector<TDesignerItemModel>>(InspectorDirective).designerItemModel;\n\n  constructor(protected injector: Injector) {}\n}\n","import { Component, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { FormControl, NG_VALUE_ACCESSOR, NgControl } from '@angular/forms';\nimport { IExpressionConfiguratorProvider } from '@helix/platform/shared/api';\nimport { IExpressionInspectorControlOptions } from './expression-inspector-control-options.interface';\nimport { InspectorControlBase } from '../../inspector/inspector-control-base.class';\nimport { IExpressionFormControlOptions } from '../../form-controls/expression-form-control/expression-form-control.types';\nimport { ExpressionFormControlComponent } from '../../form-controls';\n\n@Component({\n  selector: 'rx-expression-inspector-form-control',\n  templateUrl: './expression-inspector-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: ExpressionFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class ExpressionInspectorControlComponent\n  extends InspectorControlBase<string, IExpressionInspectorControlOptions, IExpressionConfiguratorProvider>\n  implements OnInit, OnChanges\n{\n  formControl = this.injector.get(NgControl).control as FormControl;\n  expressionFormControlOptions: IExpressionFormControlOptions;\n\n  ngOnInit(): void {\n    this.patchOptions();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.optinos) {\n      this.patchOptions();\n    }\n  }\n\n  private patchOptions(): void {\n    this.expressionFormControlOptions = {\n      ...this.options,\n      dataDictionary$: this.designerItemModel.expressionConfigurator.getDataDictionary(this.propertyPath),\n      operators: this.designerItemModel.expressionConfigurator.getOperators(this.propertyPath)\n    };\n  }\n}\n","<rx-expression-form-control\n  [formControl]=\"formControl\"\n  [propertyPath]=\"propertyPath\"\n  [options]=\"expressionFormControlOptions\"\n  (events)=\"events.emit($event)\"\n></rx-expression-form-control>\n","import { NgModule } from '@angular/core';\nimport { ExpressionInspectorControlComponent } from './expression-inspector-control.component';\nimport { ExpressionFormControlModule } from '../../form-controls/expression-form-control/expression-form-control.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [ExpressionInspectorControlComponent],\n  imports: [ExpressionFormControlModule, FormsModule, ReactiveFormsModule],\n  exports: [ExpressionInspectorControlComponent]\n})\nexport class ExpressionInspectorControlModule {}\n","import { Component, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { FormControl, NG_VALUE_ACCESSOR, NgControl } from '@angular/forms';\nimport { IExpressionConfiguratorProvider } from '@helix/platform/shared/api';\nimport { InspectorControlBase } from '../../inspector/inspector-control-base.class';\nimport { IOptionalExpressionInspectorControlOptions } from './optional-expression-inspector-control-options.interface';\nimport { IOptionalExpressionControlOptions } from '../../form-controls';\n\n@Component({\n  selector: 'rx-optional-expression-inspector-control',\n  templateUrl: './optional-expression-inspector-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: OptionalExpressionInspectorControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class OptionalExpressionInspectorControlComponent\n  extends InspectorControlBase<string, IOptionalExpressionInspectorControlOptions, IExpressionConfiguratorProvider>\n  implements OnInit, OnChanges\n{\n  formControl = this.injector.get(NgControl).control as FormControl;\n  optionalExpressionFormControlOptions: IOptionalExpressionControlOptions;\n\n  ngOnInit(): void {\n    this.patchOptions();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.optinos) {\n      this.patchOptions();\n    }\n  }\n\n  private patchOptions(): void {\n    this.optionalExpressionFormControlOptions = {\n      ...this.options,\n      dataDictionary$: this.designerItemModel.expressionConfigurator.getDataDictionary(this.propertyPath),\n      operators: this.designerItemModel.expressionConfigurator.getOperators(this.propertyPath)\n    };\n  }\n}\n","<rx-optional-expression-form-control\n  [formControl]=\"formControl\"\n  [propertyPath]=\"propertyPath\"\n  [options]=\"optionalExpressionFormControlOptions\"\n  (events)=\"events.emit($event)\"\n></rx-optional-expression-form-control>\n","import { NgModule } from '@angular/core';\nimport { OptionalExpressionInspectorControlComponent } from './optional-expression-inspector-control.component';\nimport { OptionalExpressionControlModule } from '../../form-controls/optional-expression-control/optional-expression-control.module';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [OptionalExpressionControlModule, ReactiveFormsModule],\n  declarations: [OptionalExpressionInspectorControlComponent]\n})\nexport class OptionalExpressionInspectorControlModule {}\n","export const RX_ISSUE_REPORTER = {\n  recordDefinitionName: 'Reported Errors',\n\n  recordFields: {\n    operationId: {\n      id: 70100,\n      name: 'operationId'\n    },\n    applicationName: {\n      id: 70101,\n      name: 'applicationName'\n    },\n    messageType: {\n      id: 70102,\n      name: 'messageType'\n    },\n    messageNumber: {\n      id: 70103,\n      name: 'messageNumber'\n    },\n    messageText: {\n      id: 70104,\n      name: 'messageText'\n    },\n    details: {\n      id: 70109,\n      name: 'details'\n    }\n  },\n\n  messageTypeOptions: { INFO: 0, WARNING: 1, ERROR: 2 }\n};\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\nimport { forEach } from 'lodash';\n\nimport { ICreatedRecordInstance, RecordInstance, RxRecordInstanceService } from '@helix/platform/record/api';\nimport {\n  IBundleDescriptor,\n  IServerResponseMessage,\n  RxBundleCacheService,\n  RxGlobalCacheService\n} from '@helix/platform/shared/api';\nimport { RX_ISSUE_REPORTER } from './issue-reporter.constant';\nimport { IRxIssueDetails } from './issue-details.interface';\n\n@Injectable()\nexport class RxIssueReporterService {\n  constructor(\n    private rxRecordInstanceService: RxRecordInstanceService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxBundleCacheService: RxBundleCacheService\n  ) {}\n\n  reportIssue(message: string, data: IServerResponseMessage): Observable<ICreatedRecordInstance> {\n    return this.prepareIssueDetails(message, data).pipe(\n      switchMap((issueDetails) => {\n        return this.rxRecordInstanceService.getNew(RX_ISSUE_REPORTER.recordDefinitionName).pipe(\n          map((recordInstance: RecordInstance) => {\n            forEach(RX_ISSUE_REPORTER.recordFields, (field) => {\n              let fieldValue = issueDetails[field.name] || null;\n\n              if (field.id === RX_ISSUE_REPORTER.recordFields.messageType.id) {\n                fieldValue = RX_ISSUE_REPORTER.messageTypeOptions[fieldValue];\n              }\n\n              recordInstance.setFieldValue(field.id, fieldValue);\n            });\n\n            return recordInstance;\n          })\n        );\n      }),\n      switchMap((recordInstance) => this.rxRecordInstanceService.create(recordInstance))\n    );\n  }\n\n  private prepareIssueDetails(message: string, error: IServerResponseMessage = {}): Observable<IRxIssueDetails> {\n    return this.rxGlobalCacheService.getBundleDescriptor(this.rxBundleCacheService.bundleId).pipe(\n      map((bundleDescriptor: IBundleDescriptor) => ({\n        details: message,\n        applicationName: bundleDescriptor.friendlyName || null,\n        messageType: error.messageType || null,\n        messageNumber: error.messageNumber || null,\n        operationId: error.operationId || null,\n        messageText: error.messageText || error.appendedText ? `${error.messageText} ${error.appendedText}` : null\n      }))\n    );\n  }\n}\n","import { Component, Injector, OnDestroy } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActiveModalRef, DismissReasons } from '@bmc-ux/adapt-angular';\nimport { ReplaySubject } from 'rxjs';\n\nimport { RxIssueReporterService } from './issue-reporter.service';\nimport { takeUntil } from 'rxjs/operators';\nimport { IServerResponseMessage, RxNotificationService } from '@helix/platform/shared/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { RxModalClass } from '@helix/platform/ui-kit';\n\n@Component({\n  selector: 'rx-issue-reporter',\n  templateUrl: './issue-reporter.component.html'\n})\nexport class RxIssueReporterComponent extends RxModalClass implements OnDestroy {\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  data: IServerResponseMessage;\n  reportForm: FormGroup;\n\n  constructor(\n    private activeModalRef: ActiveModalRef,\n    private formBuilder: FormBuilder,\n    private rxIssueReporterService: RxIssueReporterService,\n    private rxNotificationService: RxNotificationService,\n    private translateService: TranslateService,\n    protected injector: Injector\n  ) {\n    super(activeModalRef, injector);\n    this.data = this.activeModalRef.getData();\n    this.initForm();\n  }\n\n  isDirty(): boolean {\n    return this.reportForm.dirty;\n  }\n\n  reportIssue(): void {\n    this.rxIssueReporterService\n      .reportIssue(this.reportForm.get('text').value, this.data)\n      .pipe(takeUntil(this.destroyed$))\n      .subscribe(() => {\n        this.rxNotificationService.addSuccessMessage(\n          this.translateService.instant('com.bmc.arsys.rx.client.issue-reporter.issue-report-submitted.message')\n        );\n\n        this.activeModalRef.close();\n      });\n  }\n\n  private initForm(): void {\n    this.reportForm = this.formBuilder.group({\n      text: ['', Validators.required]\n    });\n  }\n\n  cancel(): void {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n}\n","<form [formGroup]=\"reportForm\" autocomplete=\"off\" (ngSubmit)=\"reportIssue()\" class=\"modal-body\">\n  <div class=\"form-group\">\n    <p>\n      {{ 'com.bmc.arsys.rx.client.issue-reporter.dialog.issue-report-prepared.label' | translate }}\n    </p>\n    <p>\n      {{ 'com.bmc.arsys.rx.client.issue-reporter.dialog.describe-issue-details.label' | translate }}\n    </p>\n\n    <adapt-rx-textarea\n      placeholder=\"{{ 'com.bmc.arsys.rx.client.issue-reporter.dialog.description.placeholder' | translate }}\"\n      rows=\"15\"\n      formControlName=\"text\"\n    >\n    </adapt-rx-textarea>\n  </div>\n\n  <button adapt-button btn-type=\"secondary\" type=\"button\" (click)=\"cancel()\" class=\"ml-3 float-right\">\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n\n  <button adapt-button btn-type=\"primary\" type=\"submit\" [disabled]=\"reportForm.invalid\" class=\"float-right\">\n    {{ 'com.bmc.arsys.rx.client.issue-reporter.submit-report.label' | translate }}\n  </button>\n</form>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AdaptButtonModule, AdaptModalService, AdaptRxTextareaModule } from '@bmc-ux/adapt-angular';\n\nimport { IServerResponseMessage, RxNotificationModule, RxNotificationService } from '@helix/platform/shared/api';\nimport { RxIssueReporterComponent } from './issue-reporter.component';\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\nimport { RxIssueReporterService } from './issue-reporter.service';\nimport { noop } from 'lodash';\nimport { RxModalService } from '@helix/platform/ui-kit';\n\n@NgModule({\n  imports: [\n    AdaptButtonModule,\n    AdaptRxTextareaModule,\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RxNotificationModule,\n    TranslateModule\n  ],\n  declarations: [RxIssueReporterComponent],\n  entryComponents: [RxIssueReporterComponent],\n  providers: [AdaptModalService, RxIssueReporterService]\n})\nexport class RxIssueReporterModule {\n  constructor(\n    private rxNotificationService: RxNotificationService,\n    private rxModalService: RxModalService,\n    private translateService: TranslateService\n  ) {\n    this.rxNotificationService.issuesToReport$.subscribe((issue: IServerResponseMessage) => {\n      this.showModal(issue);\n    });\n  }\n\n  private showModal(issue: IServerResponseMessage): void {\n    this.rxModalService\n      .openModal({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.issue-reporter.report-issue.label'),\n        data: issue,\n        size: 'sm',\n        content: RxIssueReporterComponent\n      })\n      .catch(noop);\n  }\n}\n","import {\n  Component,\n  DoCheck,\n  EventEmitter,\n  Injector,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR, NgControl, NgModel } from '@angular/forms';\nimport { AdaptRxSelectComponent, RxSelectOption, SelectModelFormat } from '@bmc-ux/adapt-angular';\nimport { SelectSettings } from '@bmc-ux/obsolete';\nimport { once } from 'lodash';\nimport { Observable, Subject } from 'rxjs';\nimport { debounceTime, finalize, map, startWith, switchMap, take, tap } from 'rxjs/operators';\nimport { IRxSelectWithPaginationOption, IRxSelectWithPaginationOptionsPage } from './select-with-pagination.interfaces';\n\n@Component({\n  selector: 'rx-select-with-pagination',\n  templateUrl: './select-with-pagination.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: RxSelectWithPaginationComponent,\n      multi: true\n    }\n  ]\n})\nexport class RxSelectWithPaginationComponent implements ControlValueAccessor, OnInit, DoCheck, OnChanges, OnDestroy {\n  loadMoreCallbackFunc = this.onFilterValueChange.bind(this);\n\n  selectedValue: IRxSelectWithPaginationOption[] = [];\n  isOptionLoadingInProgress = false;\n  isFirstOptionPageLoaded = false;\n  showLoadMoreButton = true;\n  formControl: NgControl;\n\n  adaptSelectSettings: SelectSettings = {\n    enableSearch: true,\n    showUncheckAll: true,\n    modelFormat: SelectModelFormat.object,\n    placement: 'auto'\n  };\n\n  private onFirstTimeDropdownOpen = once(this.onFilterValueChange);\n  private onViewValueChange: Function;\n  private onTouched: Function;\n  private lastFilterValue: string;\n  private startIndex = 0;\n  private adaptSelectDefaultTitle: string;\n  private adaptSelectOptions: IRxSelectWithPaginationOption[] = [];\n  private filterValue$ = new Subject<string>();\n\n  options$ = this.filterValue$.pipe(\n    tap(() => {\n      this.isOptionLoadingInProgress = true;\n    }),\n    debounceTime(250),\n    switchMap((query) => this.loadOptions(query)),\n    startWith([])\n  );\n\n  @ViewChild(AdaptRxSelectComponent, { static: true, read: NgModel })\n  ngModel: NgModel;\n\n  @ViewChild(AdaptRxSelectComponent, { static: true })\n  adaptSelectComponent: AdaptRxSelectComponent;\n\n  @Input()\n  label = '';\n\n  @Input()\n  required = false;\n\n  @Input()\n  isMultiSelectionMode = false;\n\n  @Input()\n  optionLoader: (\n    startIndex: number,\n    pageSize: number,\n    searchQuery: string\n  ) => Observable<IRxSelectWithPaginationOptionsPage>;\n\n  @Input()\n  pageSize = 50;\n\n  @Input()\n  showDefaultTitle = true;\n\n  @Input()\n  showUncheckAll = true;\n\n  @Input()\n  readonly = false;\n\n  @Input()\n  template: TemplateRef<any>;\n\n  @Output()\n  toggleDropdown: EventEmitter<boolean> = new EventEmitter();\n\n  @Output()\n  selectionChange: EventEmitter<RxSelectOption> = new EventEmitter<RxSelectOption>();\n\n  @Input()\n  viewToModelValueAdapter = (viewValue: IRxSelectWithPaginationOption[]): any => viewValue;\n\n  @Input()\n  modelToViewValueAdapter = (modelValue: any): IRxSelectWithPaginationOption[] => modelValue;\n\n  @Input()\n  optionFormatter = (option: IRxSelectWithPaginationOption): string => option.displayValue;\n\n  constructor(private injector: Injector) {}\n\n  ngOnInit(): void {\n    // cannot inject NgControl instance directly due to the angular circular dependency error.\n    // see: https://github.com/angular/components/pull/13860/commits/f6b179e02b33c058a018ce4ccc51932d1416331f\n    this.formControl = this.injector.get(NgControl);\n\n    this.adaptSelectSettings = {\n      ...this.adaptSelectSettings,\n      showUncheckAll: this.showUncheckAll,\n      pageSize: this.pageSize\n    };\n\n    if (this.isMultiSelectionMode) {\n      this.adaptSelectSettings.checkedStyle = 'checkbox';\n      this.adaptSelectSettings.showTooltip = true;\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.showDefaultTitle && this.adaptSelectComponent.texts) {\n      if (changes.showDefaultTitle.isFirstChange()) {\n        this.adaptSelectDefaultTitle = this.adaptSelectComponent.texts.defaultTitle;\n        this.adaptSelectComponent.texts.defaultTitle = null;\n      }\n\n      this.adaptSelectComponent.texts = {\n        ...this.adaptSelectComponent.texts,\n        defaultTitle: changes.showDefaultTitle.currentValue ? this.adaptSelectDefaultTitle : null\n      };\n    }\n  }\n\n  resetLoadedOptions(): void {\n    this.onFirstTimeDropdownOpen = once(this.onFilterValueChange);\n    this.lastFilterValue = null;\n    this.isFirstOptionPageLoaded = false;\n    this.adaptSelectOptions = [];\n  }\n\n  onFilterValueChange(filterValue: string = this.lastFilterValue || ''): void {\n    this.filterValue$.next(filterValue);\n  }\n\n  private loadOptions(filterValue: string = this.lastFilterValue || ''): Observable<IRxSelectWithPaginationOption[]> {\n    if (this.lastFilterValue === filterValue) {\n      this.startIndex = this.pageSize > 0 ? this.startIndex + this.pageSize : 0;\n    } else {\n      this.lastFilterValue = filterValue;\n\n      this.startIndex = 0;\n    }\n\n    return this.optionLoader(this.startIndex, this.pageSize, this.lastFilterValue).pipe(\n      take(1),\n      tap((optionsPage: IRxSelectWithPaginationOptionsPage) => {\n        const options = optionsPage.options;\n\n        if (this.startIndex === 0) {\n          this.adaptSelectOptions = options;\n          this.isFirstOptionPageLoaded = true;\n        } else {\n          this.adaptSelectOptions = this.adaptSelectOptions.concat(options);\n        }\n\n        this.showLoadMoreButton = optionsPage.totalSize > this.adaptSelectOptions.length;\n      }),\n      map(() => this.adaptSelectOptions),\n      finalize(() => {\n        this.isOptionLoadingInProgress = false;\n      })\n    );\n  }\n\n  writeValue(selectedValue: any): void {\n    this.selectedValue = this.modelToViewValueAdapter(selectedValue);\n  }\n\n  onSelectedValueChange(selectedValue): void {\n    this.onViewValueChange(this.viewToModelValueAdapter(selectedValue));\n  }\n\n  ngDoCheck(): void {\n    if (this.formControl.untouched && this.ngModel.touched) {\n      this.ngModel.control.markAsUntouched();\n    } else if (this.formControl.touched && this.ngModel.untouched) {\n      this.ngModel.control.markAsTouched();\n    }\n\n    if (this.formControl.pristine && this.ngModel.control.dirty) {\n      this.ngModel.control.markAsPristine();\n    }\n  }\n\n  registerOnChange(fn: any): void {\n    this.onViewValueChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  onDropdownToggle(isOpen: boolean): void {\n    if (isOpen) {\n      this.onFirstTimeDropdownOpen();\n      this.toggleDropdown.next(true);\n    } else {\n      this.onTouched();\n      this.toggleDropdown.next(false);\n\n      if (this.lastFilterValue) {\n        this.onFilterValueChange('');\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.filterValue$.complete();\n  }\n}\n","<adapt-rx-select\n  class=\"mb-0\"\n  [popupClass]=\"'rx-truncate-option-content'\"\n  [label]=\"label\"\n  [multiple]=\"isMultiSelectionMode\"\n  [selectAllButton]=\"showUncheckAll\"\n  [deselectAllButton]=\"isMultiSelectionMode\"\n  [options]=\"options$ | async\"\n  [ngModel]=\"selectedValue\"\n  (ngModelChange)=\"onSelectedValueChange($event)\"\n  [disabled]=\"formControl.disabled\"\n  [readonly]=\"readonly\"\n  [required]=\"required\"\n  [loadMoreCallback]=\"loadMoreCallbackFunc\"\n  [loadMoreButton]=\"!(pageSize === -1) && showLoadMoreButton\"\n  [loadingState]=\"isOptionLoadingInProgress && !isFirstOptionPageLoaded\"\n  [loadMoreInProgress]=\"isOptionLoadingInProgress && isFirstOptionPageLoaded\"\n  (onFilterValueChange)=\"onFilterValueChange($event)\"\n  (onPopupOpenChange)=\"onDropdownToggle($event)\"\n  [optionFormatter]=\"optionFormatter\"\n  [enableFilter]=\"true\"\n  [emptyOption]=\"!isMultiSelectionMode\"\n  [optionContentTemplate]=\"template\"\n  (onSelectionChange)=\"selectionChange.emit($event)\"\n></adapt-rx-select>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RxSelectWithPaginationComponent } from './select-with-pagination.component';\nimport { AdaptRxSelectModule } from '@bmc-ux/adapt-angular';\nimport { FormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [AdaptRxSelectModule, FormsModule, TranslateModule, CommonModule],\n  exports: [RxSelectWithPaginationComponent],\n  declarations: [RxSelectWithPaginationComponent]\n})\nexport class RxSelectWithPaginationModule {}\n","import { AfterViewInit, Component, ElementRef, Injector, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { ActiveModalRef, DismissReasons } from '@bmc-ux/adapt-angular';\nimport { RX_RECORD_DEFINITION, RxRecordInstanceUtilsService } from '@helix/platform/record/api';\nimport {\n  IDataPageResult,\n  RX_PERMISSION,\n  RxBundleCacheService,\n  RxGroupDataPageService,\n  RxRoleDataPageService\n} from '@helix/platform/shared/api';\nimport { RX_MODAL, RxModalClass, RxModalService } from '@helix/platform/ui-kit';\nimport {\n  cloneDeep,\n  compact,\n  find,\n  flow,\n  forEach,\n  identity,\n  isEmpty,\n  isNumber,\n  map as _map,\n  pull,\n  remove,\n  uniqBy\n} from 'lodash';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { IRxSelectWithPaginationOptionsPage } from '../../select-with-pagination';\nimport { IPermission, PermissionOwner } from '../interfaces/permission.interfaces';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'rx-permission-editor-dialog',\n  templateUrl: './permission-editor-dialog.component.html',\n  styleUrls: ['./permission-editor-dialog.component.scss']\n})\nexport class RxPermissionEditorDialogComponent extends RxModalClass implements OnInit, AfterViewInit {\n  @ViewChild('addNewPermissionButton', { read: ElementRef })\n  addNewPermissionButton: ElementRef;\n\n  private metadata;\n\n  permissions: IPermission[] = [];\n  permissionTypes = RX_PERMISSION.permissionType;\n  areSecurityLabelsAvailable = false;\n  permissionScope = '';\n  actionsData;\n  canSave = false;\n\n  buttonLabels = {\n    group: this.translateService.instant('com.bmc.arsys.rx.client.permission-editor.button.group.label'),\n    role: this.translateService.instant('com.bmc.arsys.rx.client.permission-editor.button.role.label'),\n    securityLabel: this.translateService.instant('com.bmc.arsys.rx.client.permission-editor.button.securityLabel.label')\n  };\n\n  constructor(\n    private activeModalRef: ActiveModalRef,\n    private rxGroupDataPage: RxGroupDataPageService,\n    private rxRecordInstanceUtilsService: RxRecordInstanceUtilsService,\n    private rxRoleDataPage: RxRoleDataPageService,\n    private rxModalService: RxModalService,\n    private rxBundleCache: RxBundleCacheService,\n    private renderer: Renderer2,\n    protected injector: Injector,\n    private translateService: TranslateService\n  ) {\n    super(activeModalRef, injector);\n  }\n\n  isDirty(): boolean {\n    return this.canSave;\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    const modalData = this.activeModalRef.getData();\n\n    this.metadata = RX_PERMISSION.permissionDialogMetadata[modalData.type];\n    this.actionsData = this.metadata.actions;\n\n    this.permissionScope = modalData.permissionScope || '';\n\n    this.permissions = _map(modalData.assignedPermissions, (assignedPermission: PermissionOwner) => {\n      const permissionType = this.getPermissionOwnerType(assignedPermission);\n\n      const permission: IPermission = {\n        permittedActions: {},\n        type: permissionType,\n        selectedPermissionDescriptor: [\n          {\n            value: assignedPermission.ownerId.value,\n            displayValue: assignedPermission.ownerId.name\n          }\n        ],\n        isWarningShown: false\n      };\n\n      this.setPermissionRestriction(permission, assignedPermission.type);\n\n      if (assignedPermission.ownerId.roleApplicationName) {\n        permission.selectedPermissionDescriptor[0].applicationName = assignedPermission.ownerId.roleApplicationName;\n      }\n\n      return permission;\n    });\n\n    this.canSave = false;\n  }\n\n  ngAfterViewInit(): void {\n    setTimeout(() => {\n      this.renderer.selectRootElement(this.addNewPermissionButton.nativeElement, true).focus();\n    });\n  }\n\n  dismiss(): void {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n\n  roleLoader(\n    startIndex: number,\n    pageSize: number,\n    searchQuery: string\n  ): Observable<IRxSelectWithPaginationOptionsPage> {\n    const queryParams: any = {\n      propertySelection: ['applicationName', 'roleName', 'roleID'].join(','),\n      sortBy: 'roleName'\n    };\n\n    const queryExpression = this.formAdditionalQueryCriteria(searchQuery, 'roleName');\n\n    if (queryExpression) {\n      queryParams.queryExpression = queryExpression;\n    }\n\n    if (this.permissionScope !== RX_PERMISSION.permissionScope.all) {\n      queryParams.applicationName = this.rxBundleCache.bundleId;\n    }\n\n    return this.rxRoleDataPage\n      .get({\n        params: { startIndex, pageSize, ...queryParams }\n      })\n      .pipe(\n        map((roleDataPage: IDataPageResult) => ({\n          totalSize: roleDataPage.totalSize,\n          options: _map(roleDataPage.data, (role) => ({\n            displayValue: role.roleName,\n            value: role.roleID,\n            applicationName: role.applicationName\n          }))\n        }))\n      );\n  }\n\n  groupLoader(\n    startIndex: number,\n    pageSize: number,\n    searchQuery: string\n  ): Observable<IRxSelectWithPaginationOptionsPage> {\n    const queryExpression = compact([\n      this.formAdditionalQueryCriteria(searchQuery, 'groupName'),\n      `('${RX_PERMISSION.groupCategoryFieldId}' != ${RX_PERMISSION.restrictedGroupCategoryForNonFieldPermissions.dynamic}\n      AND '${RX_PERMISSION.groupIdFieldId}' != ${RX_PERMISSION.restrictedGroupIdForNonFieldPermissions.subAdministratorGroup})`\n    ]).join(' AND ');\n\n    const queryParams = {\n      queryExpression: queryExpression,\n      propertySelection: ['groupName', 'groupId'].join(','),\n      sortBy: 'groupName'\n    };\n\n    return this.rxGroupDataPage\n      .get({\n        params: { startIndex, pageSize, ...queryParams }\n      })\n      .pipe(\n        map((groupDataPage: IDataPageResult) => ({\n          totalSize: groupDataPage.totalSize,\n          options: _map(groupDataPage.data, (group) => ({\n            displayValue: group.groupName,\n            value: group.groupId\n          }))\n        }))\n      );\n  }\n\n  addNewPermission(): void {\n    const permission = {\n      permittedActions: {},\n      type: RX_PERMISSION.permissionType.role,\n      selectedPermissionDescriptor: null,\n      isWarningShown: false\n    };\n\n    this.setPermissionRestriction(permission);\n\n    this.permissions.push(permission);\n  }\n\n  setRestrictionForAllPermissions(actionValue: string): void {\n    forEach(this.permissions, (permission: IPermission) => {\n      this.setPermissionRestriction(permission, actionValue);\n    });\n  }\n\n  removePermission(permission: IPermission): void {\n    pull(this.permissions, permission);\n\n    this.canSave = true;\n  }\n\n  setPermissionType(permission: IPermission, type: string): void {\n    permission.type = type;\n    permission.selectedPermissionDescriptor = null;\n    this.setPermissionRestriction(permission);\n  }\n\n  setPermissionRestriction(permission: IPermission, actionValue: string = '', isChecked: boolean = true): void {\n    if (isChecked) {\n      forEach(this.actionsData, (action) => {\n        permission.permittedActions[action.value] = action.value === actionValue;\n      });\n    }\n\n    this.canSave = true;\n  }\n\n  save(): void {\n    const permissionOwners = uniqBy(this.getPermissionOwners(), 'ownerId.name');\n\n    if (permissionOwners.length !== this.permissions.length) {\n      this.rxModalService\n        .confirm({\n          title: 'Warning',\n          modalStyle: RX_MODAL.modalStyles.warning,\n          message: 'Duplicate and misconfigured entries will be removed. Do you want to continue?'\n        })\n        .then((value: boolean) => {\n          if (value) {\n            this.activeModalRef.close({\n              permissions: permissionOwners\n            });\n          } else {\n            forEach(this.permissions, (permission) => {\n              permission.isWarningShown = !find(permission.permittedActions, identity);\n            });\n          }\n        });\n    } else {\n      this.activeModalRef.close({\n        permissions: permissionOwners\n      });\n    }\n  }\n\n  private getPermissionOwners(): PermissionOwner[] {\n    remove(this.permissions, (permission) => isEmpty(permission.selectedPermissionDescriptor));\n\n    const actualPermissions = cloneDeep(this.permissions);\n\n    return flow(\n      (permissions) =>\n        _map(permissions, (permission) => {\n          if (this.actionsData.length === 0) {\n            return this.getPermissionOwner(permission, (this.metadata as any).defaultPermittedAction);\n          } else {\n            let permissionOwner: PermissionOwner;\n\n            forEach(this.actionsData, (action) => {\n              if (permission.permittedActions[action.value]) {\n                permissionOwner = this.getPermissionOwner(permission, action.value);\n              }\n            });\n\n            return permissionOwner;\n          }\n        }),\n      compact\n    )(actualPermissions);\n  }\n\n  private getPermissionOwner(permission: IPermission, type: string): PermissionOwner {\n    const permissionOwner = {\n      ownerId: {\n        value:\n          permission.selectedPermissionDescriptor[0].value === RX_RECORD_DEFINITION.securityLabelIds.assigneeGroup\n            ? RX_RECORD_DEFINITION.groupIds.assigneeGroup\n            : permission.selectedPermissionDescriptor[0].value,\n        type: (permission.type === RX_PERMISSION.permissionType.securityLabel\n          ? RX_PERMISSION.permissionType.group\n          : permission.type\n        ).toUpperCase(),\n        name: permission.selectedPermissionDescriptor[0].displayValue\n      },\n      type: type\n    } as PermissionOwner;\n\n    if (\n      this.permissionScope === RX_PERMISSION.permissionScope.all &&\n      permissionOwner.ownerId.type === RX_PERMISSION.permissionType.role.toUpperCase()\n    ) {\n      permissionOwner.ownerId.roleApplicationName = permission.selectedPermissionDescriptor[0].applicationName;\n    }\n\n    return permissionOwner;\n  }\n\n  private getPermissionOwnerType(permissionOwner: PermissionOwner): string {\n    const permissionOwnerId = permissionOwner.ownerId.value;\n\n    if (isNumber(permissionOwnerId)) {\n      return permissionOwnerId < 0 ? RX_PERMISSION.permissionType.role : RX_PERMISSION.permissionType.group;\n    } else {\n      return permissionOwner.type ? permissionOwner.type.toLowerCase() : RX_PERMISSION.permissionType.role;\n    }\n  }\n\n  private formAdditionalQueryCriteria(searchQuery: string, fieldName: string) {\n    return searchQuery\n      ? `('${fieldName}' LIKE \"%${this.rxRecordInstanceUtilsService.escapeTextWildcards(searchQuery)}%\")`\n      : null;\n  }\n\n  keepKeyValueOrder(): number {\n    return 0;\n  }\n\n  onPermissionDescriptorSelected(): void {\n    this.canSave = true;\n  }\n}\n","<div class=\"modal-header\">\n  <h5 class=\"modal-title\">{{ 'com.bmc.arsys.rx.client.permission-editor.title' | translate }}</h5>\n  <button class=\"close dp-close\" rx-id=\"x-button\" (click)=\"dismiss()\"></button>\n</div>\n\n<div class=\"modal-body\">\n  <button\n    adapt-button\n    btn-type=\"tertiary\"\n    class=\"p-0\"\n    #addNewPermissionButton\n    rx-id=\"add-new-permission-button\"\n    (click)=\"addNewPermission()\"\n  >\n    <span class=\"d-icon-plus_circle\"></span>\n    {{ 'com.bmc.arsys.rx.client.permission-editor.button.add-permission.label' | translate }}\n  </button>\n\n  <div class=\"border-bottom pb-1 d-flex align-items-center\">\n    <div class=\"permission-type mr-2\">\n      <adapt-rx-control-label label=\"{{ 'com.bmc.arsys.rx.client.permission-editor.column.type.label' | translate }}\">\n      </adapt-rx-control-label>\n    </div>\n\n    <div class=\"permission-role-selection d-flex align-items-center mr-2\">\n      <adapt-rx-control-label\n        label=\"{{ 'com.bmc.arsys.rx.client.permission-editor.permission-type.title' | translate }}\"\n      ></adapt-rx-control-label>\n    </div>\n\n    <div class=\"permission-warning\"></div>\n\n    <div class=\"permission-actions d-flex justify-content-center mr-2\" *ngIf=\"actionsData?.length\">\n      <div class=\"permission-action d-flex flex-column justify-content-center mr-1\" *ngFor=\"let action of actionsData\">\n        <adapt-rx-control-label class=\"text-center\" label=\"{{ action.label | translate }}\"></adapt-rx-control-label>\n        <adapt-button\n          btn-type=\"secondary\"\n          size=\"xtra-small\"\n          (click)=\"setRestrictionForAllPermissions(action.value)\"\n          [disabled]=\"permissions.length === 0\"\n        >\n          {{ 'com.bmc.arsys.rx.client.permission-editor.button.set-all.caption' | translate }}\n        </adapt-button>\n      </div>\n    </div>\n\n    <div class=\"remove-permission\"></div>\n  </div>\n\n  <div class=\"border-bottom py-2 d-flex\" *ngFor=\"let permission of permissions\">\n    <div class=\"permission-type mr-2\">\n      <div class=\"btn-group\">\n        <div *ngFor=\"let permissionType of permissionTypes | keyvalue: keepKeyValueOrder\">\n          <button\n            adapt-button\n            type=\"button\"\n            [btn-type]=\"permission.type === permissionType.value ? 'primary' : 'secondary'\"\n            *ngIf=\"\n              permissionType.value !== permissionTypes.securityLabel ||\n              (permissionType.value === permissionTypes.securityLabel && areSecurityLabelsAvailable)\n            \"\n            (click)=\"setPermissionType(permission, permissionType.value)\"\n          >\n            {{ buttonLabels[permissionType.value] }}\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"permission-role-selection mr-2\">\n      <rx-select-with-pagination\n        class=\"select-max-width\"\n        *ngIf=\"permission.type === permissionTypes.role\"\n        [(ngModel)]=\"permission.selectedPermissionDescriptor\"\n        (ngModelChange)=\"onPermissionDescriptorSelected()\"\n        [optionLoader]=\"roleLoader.bind(this)\"\n        [showUncheckAll]=\"false\"\n      ></rx-select-with-pagination>\n\n      <rx-select-with-pagination\n        *ngIf=\"permission.type === permissionTypes.group\"\n        class=\"select-max-width\"\n        [(ngModel)]=\"permission.selectedPermissionDescriptor\"\n        (ngModelChange)=\"onPermissionDescriptorSelected()\"\n        [optionLoader]=\"groupLoader.bind(this)\"\n        [showUncheckAll]=\"false\"\n      ></rx-select-with-pagination>\n    </div>\n\n    <div class=\"permission-warning d-flex align-items-center\">\n      <span *ngIf=\"permission.isWarningShown\" class=\"d-icon-exclamation_triangle\"> </span>\n    </div>\n\n    <div class=\"permission-actions d-flex\" *ngIf=\"actionsData?.length\">\n      <div class=\"permission-action d-flex justify-content-center mr-1\" *ngFor=\"let action of actionsData\">\n        <adapt-rx-checkbox\n          class=\"checkbox-inline m-0\"\n          [(ngModel)]=\"permission.permittedActions[action.value]\"\n          (ngModelChange)=\"setPermissionRestriction(permission, action.value, $event)\"\n        >\n        </adapt-rx-checkbox>\n      </div>\n    </div>\n\n    <div class=\"remove-permission d-flex justify-content-end mr-2\">\n      <button class=\"close\" (click)=\"removePermission(permission)\"></button>\n    </div>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <button adapt-button type=\"button\" btn-type=\"primary\" [disabled]=\"!canSave\" rx-id=\"save-button\" (click)=\"save()\">\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\n  </button>\n  <button adapt-button type=\"button\" btn-type=\"secondary\" rx-id=\"cancel-button\" (click)=\"dismiss()\">\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n</div>\n","import { Component, Input } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { cloneDeep } from 'lodash';\nimport { ValueAccessor } from '../form-builder/value-accessor';\nimport { IPermissionEditorComponentOptions } from './interfaces/permission-editor-component-options.interface';\nimport { PermissionOwner } from './interfaces/permission.interfaces';\nimport { RxPermissionEditorDialogComponent } from './permission-editor-dialog/permission-editor-dialog.component';\nimport { IDialogApi, RxModalService } from '@helix/platform/ui-kit';\n\n@Component({\n  selector: 'rx-permission-editor',\n  templateUrl: './permission-editor.component.html',\n  styleUrls: ['./permission-editor.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: RxPermissionEditorComponent,\n      multi: true\n    }\n  ]\n})\nexport class RxPermissionEditorComponent extends ValueAccessor<PermissionOwner[]> {\n  private dialogApi: IDialogApi;\n\n  @Input()\n  options: IPermissionEditorComponentOptions;\n\n  constructor(private rxModalService: RxModalService) {\n    super();\n  }\n\n  openEditor(): void {\n    this.rxModalService\n      .openModal({\n        content: RxPermissionEditorDialogComponent,\n        data: {\n          assignedPermissions: cloneDeep(this.value),\n          type: this.options.type,\n          permissionScope: this.options.permissionScope,\n          onApiReady: (dialogApi: IDialogApi) => {\n            this.dialogApi = dialogApi;\n          }\n        }\n      })\n      .then((data: { permissions: PermissionOwner[] }) => {\n        this.dialogApi = null;\n        this.value = data.permissions;\n      })\n      .catch(() => {\n        this.dialogApi = null;\n      });\n  }\n\n  isDirty(): boolean {\n    return Boolean(this.dialogApi?.isDirty());\n  }\n}\n","<div class=\"d-flex justify-content-between align-items-center\">\n  <label class=\"form-control-label mb-0\">{{ options.label }}</label>\n\n  <button\n    adapt-button\n    type=\"button\"\n    class=\"p-0\"\n    btn-type=\"tertiary\"\n    rx-id=\"edit-button\"\n    *ngIf=\"!isDisabled\"\n    (click)=\"openEditor()\"\n  >\n    <span class=\"d-icon-pencil\"></span>\n    Edit\n  </button>\n</div>\n\n<div class=\"permissions\">\n  <div *ngIf=\"value?.length === 0\">\n    <h6 class=\"my-1\">None set (Admins only)</h6>\n  </div>\n\n  <div class=\"d-flex justify-content-between align-items-center pt-2\" *ngFor=\"let permission of value\">\n    <div class=\"permission-name\">\n      {{ permission.ownerId.name }}\n    </div>\n\n    <adapt-tag>{{ permission.type }}</adapt-tag>\n  </div>\n</div>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport {\n  AdaptButtonModule,\n  AdaptModalModule,\n  AdaptRxCheckboxModule,\n  AdaptRxLabelModule,\n  AdaptTagModule\n} from '@bmc-ux/adapt-angular';\nimport { AdaptSelectModule } from '@bmc-ux/obsolete';\nimport { RxModalModule } from '@helix/platform/ui-kit';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { RxSelectWithPaginationModule } from '../select-with-pagination/select-with-pagination.module';\nimport { RxPermissionEditorDialogComponent } from './permission-editor-dialog/permission-editor-dialog.component';\nimport { RxPermissionEditorComponent } from './permission-editor.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RxSelectWithPaginationModule,\n    RxModalModule,\n    FormsModule,\n    AdaptSelectModule,\n    AdaptModalModule,\n    AdaptButtonModule,\n    AdaptTagModule,\n    TranslateModule,\n    AdaptRxCheckboxModule,\n    AdaptRxLabelModule\n  ],\n  declarations: [RxPermissionEditorComponent, RxPermissionEditorDialogComponent],\n  exports: [RxPermissionEditorDialogComponent, RxPermissionEditorComponent],\n  entryComponents: [RxPermissionEditorComponent, RxPermissionEditorDialogComponent]\n})\nexport class RxPermissionEditorModule {}\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\nimport { ActiveModalRef, DismissReasons } from '@bmc-ux/adapt-angular';\nimport { AbstractControl, NgForm, ValidationErrors } from '@angular/forms';\nimport { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { IPlainObject, RxDefinitionNameService } from '@helix/platform/shared/api';\nimport { RxModalClass } from '@helix/platform/ui-kit';\n\n@Component({\n  selector: 'rx-rename-definition-modal',\n  templateUrl: './rename-definition-modal.component.html'\n})\nexport class RenameDefinitionModalComponent extends RxModalClass implements OnInit {\n  modalData: IPlainObject;\n  bundleId: string;\n  definitionDisplayName: string;\n  oldDefinitionDisplayName: string;\n  definitionNames: string[];\n\n  @ViewChild('renameDefinitionModalForm', { static: true, read: NgForm })\n  renameDefinitionModalForm: NgForm;\n\n  constructor(\n    protected injector: Injector,\n    private activeModalRef: ActiveModalRef,\n    private rxDefinitionNameService: RxDefinitionNameService\n  ) {\n    super(activeModalRef, injector);\n    this.modalData = this.activeModalRef.getData();\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.bundleId = this.rxDefinitionNameService.getBundleId(this.modalData.definitionName);\n    this.definitionDisplayName = this.rxDefinitionNameService.getDisplayName(this.modalData.definitionName);\n    this.oldDefinitionDisplayName = this.rxDefinitionNameService.getDisplayName(this.modalData.definitionName);\n\n    this.definitionNames = this.modalData.definitionNames\n      .map((definitionName) => this.rxDefinitionNameService.getDisplayName(definitionName))\n      .filter((definitionName) => definitionName !== this.definitionDisplayName);\n  }\n\n  isDirty(): boolean {\n    return this.renameDefinitionModalForm.form.dirty;\n  }\n\n  getCorrectDefinitionNameValidator(): (control: AbstractControl) => ValidationErrors | null {\n    return (control: AbstractControl) => {\n      let result = null;\n\n      if (control.value && !RX_RECORD_DEFINITION.validDefinitionNameRegex.test(control.value)) {\n        result = { invalidDefinitionName: { message: this.modalData.validationErrorText } };\n      }\n\n      return result;\n    };\n  }\n\n  onCancelClick() {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n\n  onSaveClick() {\n    if (this.bundleId) {\n      this.activeModalRef.close(\n        this.rxDefinitionNameService.getDefinitionName(this.bundleId, this.definitionDisplayName)\n      );\n    } else {\n      this.activeModalRef.close(this.definitionDisplayName);\n    }\n  }\n}\n","<div class=\"modal-body\">\n  <adapt-alert\n    *ngIf=\"modalData.infoText\"\n    [config]=\"{ title: modalData.infoText, type: 'inline', variant: 'warning' }\"\n  ></adapt-alert>\n\n  <form #renameDefinitionModalForm=\"ngForm\">\n    <adapt-rx-textfield\n      name=\"definitionDisplayName\"\n      [(ngModel)]=\"definitionDisplayName\"\n      [label]=\"modalData.fieldLabel\"\n      [rxCustomValidators]=\"getCorrectDefinitionNameValidator()\"\n      [maxlength]=\"modalData.maxLength || null\"\n      [rxUnique]=\"{\n        errorMessage:\n          'com.bmc.arsys.rx.client.rename-definition-modal.definition-already-exists.message'\n          | translate: { definitionType: modalData.definitionType },\n        items: definitionNames\n      }\"\n      adaptRequired\n      [autofocus]=\"modalData.autoFocus !== false\"\n    ></adapt-rx-textfield>\n  </form>\n</div>\n\n<div class=\"modal-footer\">\n  <button\n    rx-id=\"save-button\"\n    adapt-button\n    btn-type=\"primary\"\n    type=\"button\"\n    [disabled]=\"\n      !renameDefinitionModalForm.form.dirty ||\n      !renameDefinitionModalForm.form.valid ||\n      oldDefinitionDisplayName === definitionDisplayName\n    \"\n    (click)=\"onSaveClick()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\n  </button>\n\n  <button rx-id=\"cancel-button\" adapt-button btn-type=\"secondary\" type=\"button\" (click)=\"onCancelClick()\">\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport {\n  AdaptAlertModule,\n  AdaptButtonModule,\n  AdaptModalModule,\n  AdaptRxFormControlModule,\n  AdaptRxTextfieldModule\n} from '@bmc-ux/adapt-angular';\nimport { RenameDefinitionModalComponent } from './rename-definition-modal.component';\nimport { RxDirectivesModule } from '@helix/platform/ui-kit';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { RxUniqueValidatorModule } from '@helix/platform/utils';\n@NgModule({\n  declarations: [RenameDefinitionModalComponent],\n  imports: [\n    AdaptAlertModule.forRoot(),\n    AdaptButtonModule,\n    AdaptModalModule,\n    AdaptRxFormControlModule,\n    AdaptRxTextfieldModule,\n    CommonModule,\n    FormsModule,\n    RxDirectivesModule,\n    RxUniqueValidatorModule,\n    TranslateModule\n  ],\n  entryComponents: [RenameDefinitionModalComponent]\n})\nexport class RenameDefinitionModalModule {}\n","export const RX_REVERT_CUSTOMIZATION = {\n  events: {\n    revertCustomization: 'REVERT_CUSTOMIZATION'\n  }\n};\n","import { Component, EventEmitter, Input, OnChanges, OnDestroy, OnInit, Output, SimpleChanges } from '@angular/core';\nimport {\n  FormBuilderEvent,\n  IFormBuilderEvent,\n  IFormWidgetComponent,\n  RX_OVERLAY,\n  RxOverlayService\n} from '@helix/platform/shared/api';\nimport { ReplaySubject } from 'rxjs';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { RX_REVERT_CUSTOMIZATION } from './revert-customization.constants';\nimport { IRevertCustomizationOptions } from './revert-customization.interfaces';\n\n@Component({\n  selector: 'rx-revert-customization',\n  templateUrl: './revert-customization.component.html'\n})\nexport class RxRevertCustomizationComponent implements OnInit, OnDestroy, OnChanges, IFormWidgetComponent {\n  @Input()\n  options: IRevertCustomizationOptions;\n\n  @Input()\n  isDisabled: boolean;\n\n  @Output()\n  events: EventEmitter<IFormBuilderEvent> = new EventEmitter();\n\n  showOverlayOptions = false;\n  isRevertActionHidden = false;\n  isOverlayOperationHidden = false;\n  overlayOperation: string;\n\n  private destroyed$ = new ReplaySubject<boolean>(1);\n\n  constructor(private rxModalService: RxModalService, private rxOverlayService: RxOverlayService) {}\n\n  ngOnInit() {\n    this.updateData();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (\n      changes.options &&\n      (changes.options.currentValue.overlayGroupId !== changes.options.previousValue?.overlayGroupId ||\n        changes.options.currentValue.overlayDescriptor?.parentOverlayGroupId !==\n          changes.options.previousValue?.overlayDescriptor?.parentOverlayGroupId)\n    ) {\n      this.updateData();\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n  }\n\n  private updateData(): void {\n    if (this.options.overlayGroupId) {\n      this.overlayOperation = this.getOverlayOperation();\n      this.isOverlayOperationHidden = RX_OVERLAY.operationTypes.createdInThisOverlayGroup === this.overlayOperation;\n      this.isRevertActionHidden = this.shouldHideRevertAction();\n      this.showOverlayOptions = !this.isOverlayOperationHidden || !this.isRevertActionHidden;\n    } else {\n      this.overlayOperation = RX_OVERLAY.operationTypes.createdInThisOverlayGroup;\n      this.isOverlayOperationHidden = true;\n      this.isRevertActionHidden = true;\n    }\n\n    this.events.emit({ type: FormBuilderEvent.HideWidget, payload: !this.showOverlayOptions });\n  }\n\n  private revertCustomization(): void {\n    this.events.emit({ type: RX_REVERT_CUSTOMIZATION.events.revertCustomization });\n  }\n\n  private getOverlayOperation(): string {\n    return this.rxOverlayService.getOverlayOperation(\n      this.options.overlayGroupId,\n      this.options.overlayDescriptor ? this.options.overlayDescriptor.parentOverlayGroupId : null\n    );\n  }\n\n  private shouldHideRevertAction(): boolean {\n    return this.overlayOperation === RX_OVERLAY.operationTypes.customizedInThisOverlayGroup\n      ? !this.options.allowOverlay\n      : true;\n  }\n\n  onRevertCustomization(): void {\n    this.rxModalService\n      .confirm({\n        title: 'Warning',\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: 'Are you sure you want to revert customization?'\n      })\n      .then((revert: boolean) => {\n        if (revert) {\n          this.revertCustomization();\n        }\n      });\n  }\n}\n","<div *ngIf=\"showOverlayOptions\" class=\"d-flex justify-content-between align-items-end\">\n  <div *ngIf=\"!isOverlayOperationHidden\" class=\"mb-0\">\n    <adapt-rx-control-label label=\"Customization status\" class=\"d-block pb-1\"></adapt-rx-control-label>\n    {{ overlayOperation }}\n  </div>\n\n  <adapt-button\n    class=\"p-0\"\n    btn-type=\"tertiary\"\n    rx-id=\"revert-customization-button\"\n    *ngIf=\"!isRevertActionHidden\"\n    (click)=\"onRevertCustomization()\"\n  >\n    <span class=\"d-icon-left-undo\"></span>\n    Revert\n  </adapt-button>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AdaptButtonModule, AdaptRxLabelModule } from '@bmc-ux/adapt-angular';\nimport { RxRevertCustomizationComponent } from './revert-customization.component';\n\n@NgModule({\n  imports: [CommonModule, AdaptButtonModule, AdaptRxLabelModule],\n  declarations: [RxRevertCustomizationComponent],\n  entryComponents: [RxRevertCustomizationComponent],\n  exports: [RxRevertCustomizationComponent]\n})\nexport class RxRevertCustomizationModule {}\n","import { Component, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AdaptLazyLoadEvent, ColumnConfig, DataCellTemplateParams } from '@bmc-ux/adapt-table';\nimport {\n  IDataPageParams,\n  RxBundleCacheService,\n  RxDataPageFactoryService,\n  RxPageTitleService\n} from '@helix/platform/shared/api';\nimport { RxShellService } from '@helix/platform/view/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { filter, isEmpty, keyBy, map, sortBy } from 'lodash';\nimport { combineLatest, Subscription, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { IRxSearchRecord } from './search-record.interface';\n\ninterface ISearchResult {\n  createDate: string;\n  modifyDate: string;\n  recordDefinitionName: string;\n  recordInstanceDisplayId: string;\n  recordInstanceId: string;\n  title: string;\n  weight: number;\n  wordsAroundHit: string;\n}\n\n@Component({\n  selector: 'rx-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.scss']\n})\nexport class RxSearchComponent implements OnDestroy, OnInit {\n  @ViewChild('colIdCellTemplate', { static: true })\n  colIdCellTemplate: TemplateRef<DataCellTemplateParams>;\n\n  @ViewChild('cellTemplate', { static: true })\n  cellTemplate: TemplateRef<DataCellTemplateParams>;\n\n  private pageSize = 50;\n  private subscription: Subscription;\n\n  loading = true;\n  loadingMore = false;\n  startIndex = 0;\n  totalSize = 0;\n\n  columns: ColumnConfig[];\n  globalSearchRecords: IRxSearchRecord[];\n  recordDefinitionsByName: { [recordDefinitioName: string]: IRxSearchRecord };\n  searchResults: ISearchResult[];\n  searchString = '';\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private router: Router,\n    private rxDataPageService: RxDataPageFactoryService,\n    private rxShellService: RxShellService,\n    private rxPageTitleService: RxPageTitleService,\n    private translateService: TranslateService,\n    public rxBundleCacheService: RxBundleCacheService\n  ) {}\n\n  ngOnInit(): void {\n    this.rxPageTitleService.set(this.translateService.instant('com.bmc.arsys.rx.client.shell.search.results.label'));\n\n    this.subscription = combineLatest([this.activatedRoute.queryParamMap, this.rxShellService.shellConfig$]).subscribe(\n      ([queryParams, shellConfig]) => {\n        this.searchString = queryParams.get('q') || '';\n\n        this.globalSearchRecords = map(shellConfig.globalSearchRecords, (item) => {\n          item.selected = true;\n\n          return item;\n        });\n\n        this.recordDefinitionsByName = keyBy(shellConfig.globalSearchRecords, 'name');\n\n        this.loading = false;\n\n        this.getGlobalSearchResults();\n      }\n    );\n\n    this.columns = [\n      {\n        field: 'colId',\n        width: '45px',\n        cellTemplate: this.colIdCellTemplate\n      },\n      {\n        field: 'recordDefinitionName',\n        cellTemplate: this.cellTemplate\n      }\n    ];\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  get searchValue(): string {\n    return this.searchString.trim();\n  }\n\n  getGlobalSearchResults(infiniteScroll: boolean = false): void {\n    this.loading = true;\n    this.loadingMore = infiniteScroll;\n\n    if (!infiniteScroll) {\n      this.startIndex = 0;\n      this.totalSize = 0;\n    }\n\n    if (this.searchValue) {\n      const queryParams: IDataPageParams = {\n        mayHaveText: `%${this.searchValue}%`,\n        pageSize: this.pageSize,\n        searchResultOption: 'WORDS_AROUND_HIT',\n        startIndex: this.startIndex\n      };\n\n      if (!isEmpty(this.globalSearchRecords)) {\n        queryParams.recordDefinitionNames = map(filter(this.globalSearchRecords, 'selected'), 'name').join(',');\n      }\n\n      if (queryParams.recordDefinitionNames) {\n        this.rxDataPageService\n          .withType('com.bmc.arsys.rx.application.search.datapage.SearchDataPageQuery')\n          .get({ params: queryParams })\n          .pipe(\n            catchError((error) => {\n              this.loading = false;\n              this.loadingMore = false;\n\n              return throwError(error);\n            })\n          )\n          .subscribe((results) => {\n            this.loading = false;\n            this.loadingMore = false;\n\n            if (this.totalSize > 0) {\n              this.totalSize--;\n            }\n\n            this.totalSize += this.pageSize === results.totalSize ? results.totalSize + 1 : results.totalSize;\n\n            const newData = results.data as ISearchResult[];\n\n            this.startIndex += newData.length;\n\n            if (infiniteScroll) {\n              this.searchResults = this.searchResults.concat(newData);\n            } else {\n              this.searchResults = newData;\n            }\n\n            this.searchResults = sortBy(this.searchResults, 'weight');\n          });\n      } else {\n        this.resetSearchResults();\n      }\n    } else {\n      this.resetSearchResults();\n    }\n  }\n\n  private resetSearchResults() {\n    this.searchResults = [];\n    this.totalSize = 0;\n    this.loading = false;\n    this.loadingMore = false;\n  }\n\n  search(): void {\n    const trimmedSearchValue = this.searchString.trim();\n\n    if (trimmedSearchValue) {\n      this.router.navigate([], {\n        relativeTo: this.activatedRoute,\n        queryParams: { q: trimmedSearchValue },\n        queryParamsHandling: 'merge'\n      });\n    }\n  }\n\n  onFiltersChanged(): void {\n    setTimeout(() => this.getGlobalSearchResults());\n  }\n\n  onLazyLoad(event: AdaptLazyLoadEvent): void {\n    this.getGlobalSearchResults(true);\n  }\n\n  selectAllRecords(): void {\n    this.globalSearchRecords.forEach((record) => (record.selected = true));\n\n    this.getGlobalSearchResults();\n  }\n\n  unSelectAllRecords(): void {\n    this.globalSearchRecords.forEach((record) => (record.selected = false));\n\n    this.getGlobalSearchResults();\n  }\n}\n","<div class=\"row\">\n  <div class=\"col-12\">\n    <h1 class=\"mb-4 mt-0\">{{ 'com.bmc.arsys.rx.client.common.search.label' | translate }}</h1>\n  </div>\n  <div class=\"col-6 col-md-4\">\n    <form autocomplete=\"off\" (ngSubmit)=\"search()\">\n      <adapt-rx-search\n        name=\"searchString\"\n        [autofocus]=\"true\"\n        [(ngModel)]=\"searchString\"\n        [placeholder]=\"'com.bmc.arsys.rx.client.shell.searchbox.placeholder' | translate\"\n      ></adapt-rx-search>\n    </form>\n  </div>\n  <div class=\"col-1 pl-0\">\n    <div adaptDropdown>\n      <button adaptDropdownToggle class=\"btn btn-link d-icon-left-filter pl-0\">\n        {{ 'com.bmc.arsys.rx.client.common.filter-data.label' | translate }}\n      </button>\n\n      <div adaptDropdownMenu class=\"dropdown-menu p-2\">\n        <div class=\"mb-3\">{{ 'com.bmc.arsys.rx.client.common.record-definition.label' | translate }}</div>\n\n        <div class=\"d-flex justify-content-between\">\n          <button\n            adapt-button\n            btn-type=\"tertiary\"\n            type=\"button\"\n            rx-id=\"select-all-button\"\n            class=\"btn btn-link p-0\"\n            (click)=\"selectAllRecords()\"\n          >\n            {{ 'com.bmc.arsys.rx.client.common.select-all.label' | translate }}\n          </button>\n\n          <button\n            adapt-button\n            btn-type=\"tertiary\"\n            type=\"button\"\n            rx-id=\"select-none-button\"\n            class=\"btn btn-link p-0\"\n            (click)=\"unSelectAllRecords()\"\n          >\n            {{ 'com.bmc.arsys.rx.client.common.select-none.label' | translate }}\n          </button>\n        </div>\n\n        <ul *ngIf=\"globalSearchRecords\" class=\"list-unstyled mb-0\">\n          <li *ngFor=\"let record of globalSearchRecords\">\n            <adapt-rx-checkbox\n              class=\"mb-0 mt-3\"\n              [label]=\"record.name | rxDefinitionNamePipe\"\n              [(ngModel)]=\"record.selected\"\n              (change)=\"onFiltersChanged()\"\n            ></adapt-rx-checkbox>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div *ngIf=\"searchValue && (searchResults?.length || loading)\" class=\"row table-wrapper mt-1\">\n  <div class=\"col-12\">\n    <adapt-table\n      scrollHeight=\"flex\"\n      [value]=\"searchResults\"\n      [columns]=\"columns\"\n      [totalRecords]=\"totalSize\"\n      [rows]=\"searchResults?.length\"\n      [first]=\"startIndex\"\n      [paginator]=\"false\"\n      [scrollable]=\"true\"\n      (onLazyLoad)=\"onLazyLoad($event)\"\n      [lazy]=\"true\"\n      [lazyLoadOnInit]=\"false\"\n      [loading]=\"loading\"\n      [loadingMore]=\"loadingMore\"\n      [enableInfiniteScrolling]=\"true\"\n    >\n    </adapt-table>\n  </div>\n</div>\n\n<ng-template #colIdCellTemplate let-rowIndex=\"rowIndex\">\n  {{ rowIndex + 1 }}\n</ng-template>\n\n<ng-template #cellTemplate let-searchResult=\"dataItem\">\n  <div>\n    <span\n      >{{ searchResult.recordDefinitionName | rxDefinitionNamePipe }}\n      <a\n        [routerLink]=\"[\n          '/',\n          this.rxBundleCacheService.bundleId,\n          'view',\n          recordDefinitionsByName[searchResult.recordDefinitionName].view\n        ]\"\n        [queryParams]=\"{ $0$: searchResult.recordInstanceId }\"\n        >{{ searchResult.recordInstanceDisplayId }}</a\n      ></span\n    >\n  </div>\n  <div>\n    <span>{{ searchResult.title }}</span>\n  </div>\n\n  <adapt-highlight class=\"search-result\" [result]=\"searchResult.wordsAroundHit\" [term]=\"searchValue\"></adapt-highlight>\n</ng-template>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport {\n  AdaptButtonModule,\n  AdaptDropdownModule,\n  AdaptHighlightModule,\n  AdaptRxCheckboxModule,\n  AdaptRxSearchModule\n} from '@bmc-ux/adapt-angular';\nimport { AdaptTableModule } from '@bmc-ux/adapt-table';\nimport { RxDefinitionModule } from '@helix/platform/shared/api';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { RxSearchComponent } from './search.component';\n\n@NgModule({\n  declarations: [RxSearchComponent],\n  imports: [\n    AdaptButtonModule,\n    AdaptDropdownModule,\n    AdaptHighlightModule,\n    AdaptRxCheckboxModule,\n    AdaptRxSearchModule,\n    AdaptTableModule.forRoot(),\n    CommonModule,\n    FormsModule,\n    TranslateModule,\n    RouterModule,\n    RxDefinitionModule\n  ]\n})\nexport class RxSearchModule {}\n","export const RX_USER_PREFERENCES = {\n  supportedLocales: [\n    {\n      id: 'en',\n      name: 'English'\n    },\n    {\n      id: 'fr',\n      name: 'franais'\n    },\n    {\n      id: 'de',\n      name: 'Deutsch'\n    },\n    {\n      id: 'it',\n      name: 'italiano'\n    },\n    {\n      id: 'zh-cn',\n      name: ''\n    },\n    {\n      id: 'ko',\n      name: ''\n    },\n    {\n      id: 'pt-br',\n      name: 'portugus'\n    },\n    {\n      id: 'ru',\n      name: ''\n    },\n    {\n      id: 'ja',\n      name: ''\n    },\n    {\n      id: 'es',\n      name: 'Espaol'\n    },\n    {\n      id: 'nl',\n      name: 'Nederlands'\n    },\n    {\n      id: 'sv',\n      name: 'svenska'\n    },\n    {\n      id: 'da',\n      name: 'dansk'\n    },\n    {\n      id: 'no',\n      name: 'norsk'\n    }\n  ],\n\n  userPreference: {\n    recordDefinitionName: 'User Preference',\n    fieldIds: {\n      loginName: 70061,\n      name: 70062,\n      value: 70063\n    }\n  },\n\n  preferenceNames: {\n    locale: 'Preferred-User-Locale'\n  }\n};\n","import { Component, OnInit } from '@angular/core';\nimport { ActiveModalRef, RxSelectOption } from '@bmc-ux/adapt-angular';\nimport {\n  RecordInstance,\n  RX_RECORD_DEFINITION,\n  RxRecordInstanceDataPageService,\n  RxRecordInstanceService\n} from '@helix/platform/record/api';\nimport { RxCurrentUserService } from '@helix/platform/shared/api';\nimport { get } from 'lodash';\nimport { Observable } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\nimport { RX_USER_PREFERENCES } from './user-preferences.constants';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'rx-user-preferences',\n  templateUrl: './user-preferences.component.html'\n})\nexport class RxUserPreferencesComponent implements OnInit {\n  private preferredLocale: string;\n  private recordInstance: RecordInstance;\n  private defaultSelection = this.translateService.instant('com.bmc.arsys.rx.client.common.select.label');\n\n  queryInProgress: boolean;\n  selectedLocale: RxSelectOption[] = [];\n  isAbleToChangeLocale: boolean;\n  supportedLocales: RxSelectOption[] = RX_USER_PREFERENCES.supportedLocales;\n\n  constructor(\n    private activeModalRef: ActiveModalRef,\n    private rxCurrentUserService: RxCurrentUserService,\n    private rxRecordInstanceDataPageService: RxRecordInstanceDataPageService,\n    private rxRecordInstanceService: RxRecordInstanceService,\n    private translateService: TranslateService\n  ) {}\n\n  ngOnInit(): void {\n    this.init();\n  }\n\n  init(): void {\n    this.preferredLocale = this.rxCurrentUserService.getPreferredLocale();\n    this.isAbleToChangeLocale = !this.preferredLocale;\n\n    if (this.isAbleToChangeLocale) {\n      this.queryInProgress = true;\n\n      this.rxRecordInstanceDataPageService\n        .post({\n          params: {\n            recorddefinition: RX_USER_PREFERENCES.userPreference.recordDefinitionName,\n            queryExpression:\n              \"('\" +\n              RX_USER_PREFERENCES.userPreference.fieldIds.name +\n              '\\' = \"' +\n              RX_USER_PREFERENCES.preferenceNames.locale +\n              '\" AND \\'' +\n              RX_USER_PREFERENCES.userPreference.fieldIds.loginName +\n              '\\' = \"' +\n              this.rxCurrentUserService.getName() +\n              '\")',\n            propertySelection: [RX_RECORD_DEFINITION.coreFieldIds.id]\n          }\n        })\n        .pipe(\n          switchMap((dataPageResult) => {\n            if (dataPageResult.totalSize) {\n              return this.rxRecordInstanceService.get(\n                RX_USER_PREFERENCES.userPreference.recordDefinitionName,\n                dataPageResult.data[0][RX_RECORD_DEFINITION.coreFieldIds.id]\n              );\n            } else {\n              return this.rxRecordInstanceService.getNew(RX_USER_PREFERENCES.userPreference.recordDefinitionName);\n            }\n          })\n        )\n        .subscribe((recordInstance: RecordInstance) => {\n          this.recordInstance = recordInstance;\n          const selectedLocaleId = this.recordInstance.getFieldValue(RX_USER_PREFERENCES.userPreference.fieldIds.value);\n\n          this.selectedLocale = [this.supportedLocales.find((locale) => locale.id === selectedLocaleId)];\n          this.queryInProgress = false;\n        });\n    } else {\n      this.selectedLocale = [this.supportedLocales.find((locale) => locale.id === this.preferredLocale)];\n    }\n  }\n\n  applyUserPreferences(): void {\n    let save$: Observable<any>;\n\n    this.queryInProgress = true;\n    const selectedLocaleId = get(this.selectedLocale, '[0].id', '');\n\n    this.recordInstance.setFieldValue(RX_USER_PREFERENCES.userPreference.fieldIds.value, selectedLocaleId);\n\n    if (this.recordInstance.id) {\n      save$ = this.rxRecordInstanceService.save(this.recordInstance);\n    } else {\n      this.recordInstance.setFieldValue(\n        RX_USER_PREFERENCES.userPreference.fieldIds.name,\n        RX_USER_PREFERENCES.preferenceNames.locale\n      );\n\n      this.recordInstance.setFieldValue(\n        RX_USER_PREFERENCES.userPreference.fieldIds.loginName,\n        this.rxCurrentUserService.getName()\n      );\n\n      save$ = this.rxRecordInstanceService.create(this.recordInstance);\n    }\n\n    save$.subscribe(() => {\n      this.queryInProgress = false;\n      this.activeModalRef.close();\n    });\n  }\n\n  cancel(): void {\n    this.activeModalRef.dismiss();\n  }\n\n  optionFormatter = (option: RxSelectOption): string => {\n    return get(option, 'name', this.defaultSelection);\n  };\n}\n","<rx-line-loader\n  *ngIf=\"queryInProgress\"\n  [loaderMessage]=\"'com.bmc.arsys.rx.client.common.loading-data' | translate\"\n></rx-line-loader>\n\n<div [hidden]=\"queryInProgress\" class=\"modal-body\">\n  <form name=\"userPreferencesForm\" novalidate #userPreferencesForm=\"ngForm\">\n    <adapt-rx-select\n      [disabled]=\"!isAbleToChangeLocale || queryInProgress\"\n      [emptyOption]=\"true\"\n      [name]=\"'userPreference'\"\n      [(ngModel)]=\"selectedLocale\"\n      [label]=\"'com.bmc.arsys.rx.client.shell.user-preferences-dialog.language.label' | translate\"\n      [optionFormatter]=\"optionFormatter\"\n      [options]=\"supportedLocales\"\n      rx-id=\"preferred-language\"\n    >\n    </adapt-rx-select>\n    <p class=\"text-danger align-start\" *ngIf=\"!isAbleToChangeLocale\">\n      <span class=\"alert-content\">\n        {{ 'com.bmc.arsys.rx.client.shell.user-preferences-dialog.validation.error.message' | translate }}\n      </span>\n    </p>\n  </form>\n</div>\n\n<div class=\"modal-footer\">\n  <button\n    type=\"button\"\n    class=\"btn btn-primary btn-sm\"\n    [disabled]=\"!userPreferencesForm.dirty\"\n    (click)=\"applyUserPreferences()\"\n    rx-id=\"save-button\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.apply.label' | translate }}\n  </button>\n  <button type=\"button\" class=\"btn btn-secondary btn-sm\" (click)=\"cancel()\" rx-id=\"cancel-button\">\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n</div>\n","import { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { AdaptRadarHostingType } from '@bmc-ux/adapt-radar';\n\nexport const RX_GAINSIGHT = {\n  deploymentTypes: [\n    { id: 0, name: AdaptRadarHostingType.SaaS },\n    { id: 10, name: AdaptRadarHostingType.OnPrem }\n  ],\n\n  environmentTypes: ['Production', 'QA', 'Staging', 'Integration'],\n  gainsightUrl: 'https://web-sdk.aptrinsic.com/api/aptrinsic.js',\n  bmcGainsightUrl: 'https://documents.bmc.com/products/docs/gainsight/main/aptrinsic.js',\n  administratorRole: 'Administrator',\n  businessAnalystRole: 'Business Analyst',\n  regularUserRole: 'Regular User',\n  defaultBundle: 'Innovation Suite',\n  gainsightConfigurationsApi: '/api/rx/application/telemetry/configuration',\n  gainsightUserPreferencesApi: '/api/rx/application/telemetry/user/preferences',\n\n  gainsightSettings: {\n    recordInstanceId: 'AGGADG1AAT7X5ARM7T3LRM7T3LA5FG',\n    recordDefinitionName: 'com.bmc.arsys.rx.settings:Gainsight Configurations',\n    fieldIds: {\n      enableGainsight: 58102,\n      useAdaptRadar: 58103,\n      loadGainsightFromBmcIt: 58104,\n      deploymentType: 58105,\n      environmentType: 58106,\n      id: RX_RECORD_DEFINITION.coreFieldIds.id\n    }\n  }\n};\n","import { Injectable } from '@angular/core';\nimport {\n  AdaptRadarGainsightIdentifyActionName,\n  AdaptRadarGainsightProvider,\n  AdaptRadarProductAreaName,\n  AdaptRadarService,\n  AdaptRadarSupportedProviders\n} from '@bmc-ux/adapt-radar';\nimport { map, switchMap, take, tap, shareReplay } from 'rxjs/operators';\nimport {\n  IBundleDescriptor,\n  IPlainObject,\n  IUser,\n  RX_APPLICATION,\n  RxCurrentUserService,\n  RxFeatureService,\n  RxGlobalCacheService,\n  RxLogService\n} from '@helix/platform/shared/api';\nimport { RxRecordInstanceService, RecordInstance, RxRecordInstanceUpdateService } from '@helix/platform/record/api';\nimport { RX_GAINSIGHT } from './gainsight.constant';\nimport { IGainsightConfiguration, IGainsightSettings } from './gainsight.types';\nimport { Observable, of, combineLatest, iif } from 'rxjs';\nimport { find, keys, merge } from 'lodash';\nimport { HttpClient } from '@angular/common/http';\nimport { RxIframeUtilsService } from '@helix/platform/utils';\n\ndeclare function aptrinsic(gainsightEventName: string, customSettings: any, customEventData: any): void;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxGainsightConfiguratorService {\n  private productTag: string;\n  private updatedContext: IPlainObject;\n  private isGainsightLoaded: boolean;\n  private useAdaptRadar: boolean;\n  private bundleDescriptor$ = this.rxGlobalCacheService.getApplicationBundleDescriptor().pipe(take(1), shareReplay(1));\n\n  private gainsightConfiguration$ = this.bundleDescriptor$.pipe(\n    switchMap((bundleDescriptor: IBundleDescriptor) => this.getGainsightConfiguration(bundleDescriptor.id)),\n    shareReplay(1)\n  );\n\n  private globalContextData$ = combineLatest([this.bundleDescriptor$, this.gainsightConfiguration$]).pipe(\n    map(([bundleDescriptor, gainsightConfiguration]) =>\n      bundleDescriptor.id === RX_APPLICATION.innovationStudioBundleId\n        ? {\n            productArea: {\n              name: AdaptRadarProductAreaName.Platform,\n              version: bundleDescriptor.displayVersion,\n              hosting: gainsightConfiguration.settings.deploymentType\n            }\n          }\n        : null\n    ),\n    shareReplay(1)\n  );\n\n  constructor(\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxRecordInstanceService: RxRecordInstanceService,\n    private adaptRadarService: AdaptRadarService,\n    private adaptRadarGainsightProvider: AdaptRadarGainsightProvider,\n    private rxCurrentUserService: RxCurrentUserService,\n    private rxFeatureService: RxFeatureService,\n    private rxLogService: RxLogService,\n    private httpClient: HttpClient,\n    private rxRecordInstanceUpdateService: RxRecordInstanceUpdateService,\n    private rxIframeUtilsService: RxIframeUtilsService\n  ) {}\n\n  gainsightInitConfiguration$ = iif(\n    () => this.rxFeatureService.isFeatureEnabled('DRD21-11744'),\n    combineLatest([this.bundleDescriptor$, this.gainsightConfiguration$]).pipe(\n      tap(([bundleDescriptor, gainsightConfiguration]) => {\n        const company = gainsightConfiguration.company;\n        const companyId = gainsightConfiguration.companyId;\n        const user = this.rxCurrentUserService.get();\n        const hashedUserId = gainsightConfiguration.hashedUserId;\n        let isGainsightEnabled = gainsightConfiguration.settings.enableGainsight;\n        this.useAdaptRadar = gainsightConfiguration.settings.useAdaptRadar;\n        this.productTag = gainsightConfiguration.productTag;\n\n        if (isGainsightEnabled && !gainsightConfiguration.productTag) {\n          this.rxLogService.debug(`Gainsight product tag is missing for bundle ${bundleDescriptor.id}.`);\n          isGainsightEnabled = false;\n        }\n\n        if (isGainsightEnabled) {\n          if (this.useAdaptRadar) {\n            this.adaptRadarService.startDataCollecting({\n              providers: [\n                {\n                  name: AdaptRadarSupportedProviders.Gainsight,\n                  id: this.productTag,\n                  oneTimeActions: [\n                    {\n                      name: AdaptRadarGainsightIdentifyActionName.UserIdentify,\n                      data: {\n                        userData: {\n                          id: hashedUserId,\n                          role: user.isAdministrator\n                            ? RX_GAINSIGHT.administratorRole\n                            : user.isBusinessAnalyst\n                            ? RX_GAINSIGHT.businessAnalystRole\n                            : RX_GAINSIGHT.regularUserRole\n                        },\n                        accountData: {\n                          id: companyId || company,\n                          name: company\n                        }\n                      }\n                    }\n                  ]\n                }\n              ]\n            });\n          } else {\n            const gainsightUrl = gainsightConfiguration.settings.loadGainsightFromBmcIt\n              ? RX_GAINSIGHT.bmcGainsightUrl\n              : RX_GAINSIGHT.gainsightUrl;\n\n            this.loadGainsightScript(user, gainsightUrl, hashedUserId, company, companyId);\n          }\n        }\n      }),\n      switchMap(([bundleDescriptor, gainsightConfiguration]) =>\n        gainsightConfiguration.settings.enableGainsight && gainsightConfiguration.settings.useAdaptRadar\n          ? this.adaptRadarGainsightProvider.init$\n          : of(false)\n      ),\n      tap((isInitialized) => {\n        if (isInitialized) {\n          this.isGainsightLoaded = true;\n          this.setGlobalContext(this.updatedContext);\n        }\n      }),\n      switchMap(() => this.gainsightConfiguration$),\n      shareReplay(1)\n    ),\n    of(null)\n  );\n\n  updateGlobalContext(globalContext: any, viewDefinitionName?: string): void {\n    this.gainsightConfiguration$.pipe(take(1)).subscribe((gainsightConfiguration) => {\n      if (this.rxFeatureService.isFeatureEnabled('DRD21-11744')) {\n        if (viewDefinitionName) {\n          // For runtime views clear all the previous global context before update\n          this.removeGlobalContext(keys(this.updatedContext));\n\n          globalContext =\n            find(gainsightConfiguration.viewMapping, { viewName: viewDefinitionName })?.globalContext ??\n            find(gainsightConfiguration.viewMapping, { default: true })?.globalContext;\n\n          globalContext = globalContext && JSON.parse(globalContext);\n\n          this.updatedContext = globalContext;\n        }\n\n        this.setGlobalContext(globalContext);\n      }\n    });\n  }\n\n  private setGlobalContext(globalContext: IPlainObject): void {\n    this.globalContextData$.pipe(take(1)).subscribe((globalContextData) => {\n      if (this.useAdaptRadar && this.isGainsightLoaded) {\n        this.adaptRadarGainsightProvider.setGlobalContext(merge(globalContextData, globalContext));\n      } else if (!this.useAdaptRadar && this.isGainsightLoaded) {\n        aptrinsic('set', 'globalContext', merge(globalContextData, globalContext));\n      } else {\n        this.updatedContext = globalContext;\n      }\n    });\n  }\n\n  removeGlobalContext(contextList: string[]): void {\n    if (this.isGainsightLoaded) {\n      // Clear all global context if list is not specified\n      contextList ??= keys(this.updatedContext);\n\n      this.globalContextData$.pipe(take(1)).subscribe((globalContextData) => {\n        if (globalContextData) {\n          contextList.forEach((context) => delete globalContextData[context]);\n        }\n\n        if (this.useAdaptRadar) {\n          this.adaptRadarGainsightProvider.removeGlobalContext(contextList);\n        } else {\n          aptrinsic('remove', 'globalContext', contextList);\n        }\n      });\n    }\n  }\n\n  private async loadGainsightScript(\n    user: IUser,\n    gainsightUrl: string,\n    hashedUserId: string,\n    company: string,\n    companyId: string\n  ): Promise<void> {\n    const param = this.productTag;\n    const script = document.getElementsByTagName('script')[0];\n    const node = document.createElement('script');\n\n    window['aptrinsic'] =\n      window['aptrinsic'] ||\n      function () {\n        (window['aptrinsic'].q = window['aptrinsic'].q || []).push(arguments);\n      };\n\n    window['aptrinsic'].p = param;\n\n    // iframeModeEnabled is set to \"false\" when embedded in an iFrame, as per Gainsight documentation.\n    window['aptrinsic'].c = { iframeModeEnabled: !this.rxIframeUtilsService.isRunningInIframe() };\n\n    node.async = true;\n    node.src = gainsightUrl + '?a=' + param;\n\n    node.onload = () => {\n      const functionalRoles = user.functionalRoles.reduce((functionalRole, name) => {\n        functionalRole[name] = true;\n        return functionalRole;\n      }, {});\n\n      this.isGainsightLoaded = true;\n\n      aptrinsic(\n        'identify',\n        {\n          id: hashedUserId,\n          globalId: hashedUserId,\n          role: user.isAdministrator\n            ? RX_GAINSIGHT.administratorRole\n            : user.isBusinessAnalyst\n            ? RX_GAINSIGHT.businessAnalystRole\n            : RX_GAINSIGHT.regularUserRole,\n          functionalRoles\n        },\n        {\n          id: companyId || company,\n          name: company\n        }\n      );\n\n      this.setGlobalContext(this.updatedContext);\n    };\n\n    node.onerror = (error: any) => {\n      this.rxLogService.error(error);\n    };\n\n    script.parentNode.insertBefore(node, script);\n  }\n\n  getGainsightConfiguration(bundleId: string): Observable<IGainsightConfiguration> {\n    if (this.rxFeatureService.isFeatureEnabled('DRD21-11744')) {\n      return this.httpClient.get<IGainsightConfiguration>(RX_GAINSIGHT.gainsightConfigurationsApi + '/' + bundleId);\n    } else {\n      return of(null);\n    }\n  }\n\n  saveGainsightConfiguration(gainsightSettings: IGainsightSettings): Observable<any> {\n    return this.rxRecordInstanceService\n      .get(RX_GAINSIGHT.gainsightSettings.recordDefinitionName, RX_GAINSIGHT.gainsightSettings.recordInstanceId)\n      .pipe(\n        switchMap((recordInstance: RecordInstance) => {\n          recordInstance.setFieldValue(\n            RX_GAINSIGHT.gainsightSettings.fieldIds.enableGainsight,\n            gainsightSettings.enableGainsight\n          );\n\n          recordInstance.setFieldValue(\n            RX_GAINSIGHT.gainsightSettings.fieldIds.useAdaptRadar,\n            gainsightSettings.useAdaptRadar\n          );\n\n          recordInstance.setFieldValue(\n            RX_GAINSIGHT.gainsightSettings.fieldIds.loadGainsightFromBmcIt,\n            gainsightSettings.loadGainsightFromBmcIt\n          );\n\n          recordInstance.setFieldValue(\n            RX_GAINSIGHT.gainsightSettings.fieldIds.deploymentType,\n            gainsightSettings.deploymentType\n          );\n\n          recordInstance.setFieldValue(\n            RX_GAINSIGHT.gainsightSettings.fieldIds.environmentType,\n            gainsightSettings.environmentType\n          );\n\n          return this.rxRecordInstanceUpdateService.execute(recordInstance);\n        })\n      );\n  }\n}\n","export const RX_USER_MESSAGE = {\n  title: 'com.bmc.arsys.rx.client.common.messages.label',\n  showAll: 'com.bmc.arsys.rx.client.shell.notification.action.viewAll',\n  dismissAll: 'com.bmc.arsys.rx.client.shell.notification.action.clearAll',\n  noActiveMessage: 'com.bmc.arsys.rx.client.shell.notification.active.noNotifications.label',\n  dismissMessage: 'com.bmc.arsys.rx.client.shell.notification.dismiss',\n  loadMore: 'com.bmc.arsys.rx.client.shell.notification.action.loadMore',\n  fetchMessageFrequency: 60000,\n\n  messageTypes: {\n    active: 'active',\n    dismissed: 'dismissed'\n  },\n\n  definitions: {\n    userMessage: {\n      definitionName: 'UserMessage',\n      dataPageType: 'com.bmc.arsys.rx.application.usermessage.datapage.UserMessageDataPageQuery',\n      updateStateOfAllUserMessagesCommand:\n        'com.bmc.arsys.rx.application.usermessage.command.UpdateStateOfAllUserMessagesCommand',\n      updateStateOfUserMessagesCommand:\n        'com.bmc.arsys.rx.application.usermessage.command.UpdateStateOfUserMessagesCommand',\n      fields: {\n        subject: '20000',\n        body: '20001',\n        recipient: '20002'\n      },\n      status: {\n        unread: '0',\n        read: '1',\n        dismissed: '2'\n      }\n    }\n  }\n};\n","import { DataPage } from '@helix/platform/shared/api';\nimport { Injectable, Injector } from '@angular/core';\n\nconst userMessageDataPageQuery = 'com.bmc.arsys.rx.application.usermessage.datapage.UserMessageDataPageQuery';\n\n@Injectable()\nexport class RxUserMessageDataPageService extends DataPage {\n  constructor(private injector: Injector) {\n    super(injector, userMessageDataPageQuery);\n  }\n}\n","import { Injectable, NgZone, OnDestroy } from '@angular/core';\nimport { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  ICommand,\n  IDataPageParams,\n  IDataPageResult,\n  RX_APPLICATION,\n  RxAngularApplicationService,\n  RxCommandFactoryService,\n  RxCurrentUserService,\n  RxGlobalCacheService,\n  RxLogService\n} from '@helix/platform/shared/api';\nimport { RxViewDefinitionCacheService } from '@helix/platform/view/api';\nimport { forEach, remove, set } from 'lodash';\nimport { forkJoin, Observable, of, Subject, Subscription, timer } from 'rxjs';\nimport { catchError, map, switchMap, takeUntil, tap } from 'rxjs/operators';\nimport { RxUserMessageDataPageService } from './user-message-data-page.service';\nimport { RX_USER_MESSAGE } from './user-message.constants';\nimport { IRxMessage, IRxMessages } from './user-message.interfaces';\n\n@Injectable()\nexport class RxUserMessageService implements OnDestroy {\n  constructor(\n    private rxCommandFactoryService: RxCommandFactoryService,\n    private rxCurrentUserService: RxCurrentUserService,\n    private rxUserMessageDataPageService: RxUserMessageDataPageService,\n    private rxViewDefinitionCacheService: RxViewDefinitionCacheService,\n    private rxLogService: RxLogService,\n    private rxAngularApplicationService: RxAngularApplicationService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private ngZone: NgZone\n  ) {}\n\n  private subscription = new Subscription();\n  private cancelMessagePolling$ = new Subject();\n  private userMessagesCommand: ICommand;\n  private messageFetchedSubject = new Subject<void>();\n  private messageCountSubject = new Subject<number>();\n\n  messageFetched$: Observable<void> = this.messageFetchedSubject.asObservable();\n  messageCount$: Observable<number> = this.messageCountSubject.asObservable();\n\n  private activeMessagesFilterExpression = `'${RX_RECORD_DEFINITION.coreFieldIds.status}'!=${RX_USER_MESSAGE.definitions.userMessage.status.dismissed}`;\n  private dismissedMessagesFilterExpression = `'${RX_RECORD_DEFINITION.coreFieldIds.status}'=${RX_USER_MESSAGE.definitions.userMessage.status.dismissed}`;\n\n  userMessageModel = {\n    userMessageDef: RX_USER_MESSAGE.definitions.userMessage,\n    pageSize: 30,\n    messages: {\n      active: {\n        type: RX_USER_MESSAGE.messageTypes.active,\n        count: 0,\n        list: [],\n        queryExpr: this.activeMessagesFilterExpression,\n        loadingInProgress: false\n      },\n      dismissed: {\n        type: RX_USER_MESSAGE.messageTypes.dismissed,\n        count: 0,\n        list: [],\n        queryExpr: this.dismissedMessagesFilterExpression,\n        loadingInProgress: false\n      }\n    }\n  };\n\n  private bodyFieldId = this.userMessageModel.userMessageDef.fields.body;\n\n  private convertLineBreaks(message) {\n    const bodyFieldValue = message[this.bodyFieldId];\n\n    message[this.bodyFieldId] = (bodyFieldValue && bodyFieldValue.replace(/\\n/g, '<br>')) || '';\n  }\n\n  private updateDsmApplicationViewUrls(dataPage: IDataPageResult): Observable<IRxMessages> {\n    if (dataPage.data.length) {\n      const messages: Observable<IRxMessage>[] = (dataPage.data as IRxMessage[]).map((message) => {\n        this.convertLineBreaks(message);\n\n        const body = message[this.bodyFieldId];\n        const hasHtmlAnchors = /\\<\\/a/.test(body);\n\n        if (hasHtmlAnchors) {\n          const container = document.createElement('div');\n\n          container.innerHTML = body;\n\n          const link = container.querySelector('a');\n\n          const isViewLink = /\\/view\\/|\\/iview\\//.test(link.href);\n\n          if (isViewLink) {\n            const bundleIdMatch = window.location.hash.match(/#\\/([a-zA-Z0-9-\\.]*)/);\n            const bundleId = bundleIdMatch && bundleIdMatch[1];\n\n            return this.rxAngularApplicationService.isAngularJsApplication(bundleId).pipe(\n              switchMap((isAngularJsApplication) => {\n                if (!isAngularJsApplication) {\n                  const queryParams = [];\n\n                  let urlWithoutParams = link.href.replace(/(?:[?&]param=)([^&]*)/g, (match, paramValue) => {\n                    queryParams.push(paramValue);\n\n                    return '';\n                  });\n\n                  urlWithoutParams = urlWithoutParams.replace('innovationsuite', 'helix');\n\n                  if (queryParams.length) {\n                    const viewDefinitionName = decodeURI(urlWithoutParams.split('/').pop());\n\n                    return this.rxViewDefinitionCacheService.getViewDefinition(viewDefinitionName).pipe(\n                      map((viewDefinition) => {\n                        const newQueryParams = [];\n\n                        forEach(viewDefinition.inputParams, (inputParam, index) => {\n                          newQueryParams.push(`${inputParam.name}=${queryParams[index]}`);\n                        });\n\n                        link.href = [urlWithoutParams, newQueryParams.join('&')].join('?');\n\n                        message[this.bodyFieldId] = container.innerHTML;\n\n                        return message;\n                      }),\n                      catchError((err) => {\n                        this.rxLogService.error(err);\n\n                        return of(message);\n                      })\n                    );\n                  } else {\n                    link.href = urlWithoutParams;\n                    message[this.bodyFieldId] = container.innerHTML;\n\n                    return of(message);\n                  }\n                } else {\n                  return of(message);\n                }\n              })\n            );\n          }\n        }\n\n        return of(message);\n      });\n\n      return forkJoin(messages).pipe(\n        map((convertedMessages) => ({\n          messages: convertedMessages,\n          totalSize: dataPage.totalSize\n        }))\n      );\n    } else {\n      return of({\n        messages: [],\n        totalSize: dataPage.totalSize\n      });\n    }\n  }\n\n  cancelMessagePolling() {\n    this.cancelMessagePolling$.next();\n  }\n\n  launchMessagePolling() {\n    this.cancelMessagePolling();\n\n    this.ngZone.runOutsideAngular(() => {\n      this.subscription.add(\n        timer(0, RX_USER_MESSAGE.fetchMessageFrequency)\n          .pipe(\n            takeUntil(this.cancelMessagePolling$),\n            switchMap((_) => this.getMessages(RX_USER_MESSAGE.messageTypes.active, false, true))\n          )\n          .subscribe()\n      );\n    });\n  }\n\n  getMessages(\n    type = RX_USER_MESSAGE.messageTypes.active,\n    getMore = false,\n    suppressTokenRefresh = false\n  ): Observable<IRxMessages> {\n    const params: IDataPageParams = {\n      pageSize: this.userMessageModel.pageSize,\n      startIndex: 0,\n      sortBy: -RX_RECORD_DEFINITION.coreFieldIds.modifiedDate,\n      queryExpression: '',\n      propertySelection: [\n        RX_RECORD_DEFINITION.coreFieldIds.modifiedDate,\n        RX_RECORD_DEFINITION.coreFieldIds.id,\n        this.userMessageModel.userMessageDef.fields.body,\n        this.userMessageModel.userMessageDef.fields.subject\n      ].join(',')\n    };\n\n    this.userMessageModel.messages[type].loadingInProgress =\n      getMore || this.userMessageModel.messages[type].list.length === 0;\n\n    set(params, this.userMessageModel.userMessageDef.fields.recipient, this.rxCurrentUserService.get().loginName);\n    params.queryExpression = this.userMessageModel.messages[type].queryExpr;\n    params.startIndex = getMore ? this.userMessageModel.messages[type].list.length : 0;\n\n    const headers = {\n      'default-bundle-scope': RX_APPLICATION.innovationStudioBundleId,\n      ...(suppressTokenRefresh ? { 'Suppress-Token-Refresh': 'true' } : {})\n    };\n\n    return this.rxUserMessageDataPageService\n      .get({\n        params,\n        headers\n      })\n      .pipe(\n        switchMap(this.updateDsmApplicationViewUrls.bind(this)),\n        tap((rxMessages: IRxMessages) => {\n          this.ngZone.run(() => {\n            if (rxMessages.messages.length) {\n              if (getMore) {\n                this.userMessageModel.messages[type].list = this.userMessageModel.messages[type].list.concat(\n                  rxMessages.messages\n                );\n              } else {\n                this.userMessageModel.messages[type].count = rxMessages.totalSize;\n                this.userMessageModel.messages[type].list = rxMessages.messages;\n\n                if (type === RX_USER_MESSAGE.messageTypes.active) {\n                  this.messageCountSubject.next(rxMessages.totalSize);\n                }\n              }\n            } else if (!getMore && type === RX_USER_MESSAGE.messageTypes.active) {\n              this.messageCountSubject.next(this.userMessageModel.messages.active.count);\n            }\n\n            this.messageFetchedSubject.next();\n          });\n        })\n      );\n  }\n\n  handleSuccessfulDismiss(messageDismissed?: IRxMessage): void {\n    const shellNotifications = this.userMessageModel.messages;\n\n    if (messageDismissed) {\n      remove(shellNotifications.active.list, messageDismissed);\n      shellNotifications.dismissed.list.push(messageDismissed);\n      shellNotifications.active.count--;\n      shellNotifications.dismissed.count++;\n    } else {\n      shellNotifications.active.list = [];\n      shellNotifications.active.count = 0;\n    }\n\n    this.messageCountSubject.next(shellNotifications.active.count);\n\n    if (shellNotifications.active.list.length === 0) {\n      // avoid making backend call to get new notification on each dismiss\n      this.launchMessagePolling();\n    }\n  }\n\n  dismissNotification(message?: IRxMessage): void {\n    if (message) {\n      const inputParameter = {};\n\n      inputParameter[message[RX_RECORD_DEFINITION.coreFieldIds.id]] =\n        RX_USER_MESSAGE.definitions.userMessage.status.dismissed;\n\n      this.userMessagesCommand = this.rxCommandFactoryService.forResourceType(\n        RX_USER_MESSAGE.definitions.userMessage.updateStateOfUserMessagesCommand\n      );\n\n      this.subscription.add(\n        this.userMessagesCommand\n          .execute({\n            userMessageStateById: inputParameter\n          })\n          .subscribe(() => this.handleSuccessfulDismiss(message))\n      );\n    } else {\n      this.userMessagesCommand = this.rxCommandFactoryService.forResourceType(\n        RX_USER_MESSAGE.definitions.userMessage.updateStateOfAllUserMessagesCommand\n      );\n\n      this.subscription.add(this.userMessagesCommand.execute().subscribe(() => this.handleSuccessfulDismiss()));\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n    this.cancelMessagePolling();\n  }\n}\n","import { Injectable, Injector, OnDestroy, OnInit, Renderer2, TemplateRef } from '@angular/core';\nimport { NavigationCancel, NavigationEnd, NavigationError, NavigationStart, Router } from '@angular/router';\nimport { AdaptNavigationComponent, AdaptTranslateService, NavigationAction, ProfileModel } from '@bmc-ux/adapt-angular';\nimport { RxRecordInstanceService } from '@helix/platform/record/api';\nimport {\n  RX_APPLICATION,\n  RX_USER,\n  RxAngularApplicationService,\n  RxAuthService,\n  RxComponentCanDeactivateGuard,\n  RxCurrentUserService,\n  RxFeatureService,\n  RxGlobalCacheService,\n  RxSystemConfigurationService\n} from '@helix/platform/shared/api';\nimport { IRxShellConfig, IRxShellMenuItem } from '@helix/platform/view/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { filter as _filter, find, get, includes, isBoolean, isEmpty, lowerCase, noop, remove, sortBy } from 'lodash';\nimport {\n  combineLatest,\n  forkJoin,\n  from,\n  merge,\n  NEVER,\n  Observable,\n  of,\n  ReplaySubject,\n  Subject,\n  Subscription\n} from 'rxjs';\nimport {\n  catchError,\n  defaultIfEmpty,\n  filter,\n  map,\n  shareReplay,\n  skip,\n  switchMap,\n  take,\n  takeUntil,\n  tap,\n  withLatestFrom\n} from 'rxjs/operators';\nimport { RxGainsightConfiguratorService } from './gainsight/gainsight-configurator.service';\nimport { IRxShellApplication } from './shell-component.types';\nimport { RX_USER_MESSAGE } from './user-messages/user-message.constants';\nimport { RxUserMessageService } from './user-messages/user-message.service';\n\n@Injectable()\nexport abstract class ShellBase implements OnInit, OnDestroy {\n  protected abstract adaptNavigation: AdaptNavigationComponent;\n  protected abstract userMessagesPopover: TemplateRef<any>;\n\n  isShellInitialized = false;\n\n  busySubscription: Subscription;\n\n  protected currentMenuItemId: number = null;\n  protected translateService: TranslateService = this.injector.get(TranslateService);\n  protected flattenedMenuItems: IRxShellMenuItem[] = [];\n\n  protected rxComponentCanDeactivateGuard: RxComponentCanDeactivateGuard =\n    this.injector.get(RxComponentCanDeactivateGuard);\n\n  protected rxUserMessageService: RxUserMessageService = this.injector.get(RxUserMessageService);\n  protected rxAuthService: RxAuthService = this.injector.get(RxAuthService);\n  protected rxCurrentUserService: RxCurrentUserService = this.injector.get(RxCurrentUserService);\n  protected rxRecordInstanceService: RxRecordInstanceService = this.injector.get(RxRecordInstanceService);\n  protected rxGlobalCacheService: RxGlobalCacheService = this.injector.get(RxGlobalCacheService);\n  protected rxAngularApplicationService: RxAngularApplicationService = this.injector.get(RxAngularApplicationService);\n  protected rxSystemConfigurationService: RxSystemConfigurationService =\n    this.injector.get(RxSystemConfigurationService);\n\n  protected rxFeatureService: RxFeatureService = this.injector.get(RxFeatureService);\n  protected adaptTranslateService: AdaptTranslateService = this.injector.get(AdaptTranslateService);\n\n  protected rxGainsightConfiguratorService: RxGainsightConfiguratorService =\n    this.injector.get(RxGainsightConfiguratorService);\n\n  protected router: Router = this.injector.get(Router);\n\n  protected applicationDescriptor$ = this.rxGlobalCacheService.getApplicationBundleDescriptor();\n\n  private destroyed$ = new ReplaySubject<boolean>(1);\n  bundleDescriptors: IRxShellApplication[];\n\n  private removeWindowBlurListener: () => void;\n\n  private helixPortalUrl: string;\n\n  private navigationEnd$ = this.router.events.pipe(\n    filter<NavigationEnd>((event) => event instanceof NavigationEnd),\n    filter((event) => event.url !== '/unknown-application')\n  );\n\n  private closeBannerSubject = new Subject<boolean>();\n\n  hasBanner$ = merge(\n    this.rxGainsightConfiguratorService.gainsightInitConfiguration$.pipe(\n      filter((gainsightConfiguration) => Boolean(gainsightConfiguration)),\n      map((gainsightConfiguration) => gainsightConfiguration.displayBanner),\n      defaultIfEmpty(false)\n    ),\n    this.closeBannerSubject.pipe(map((value) => !value))\n  ).pipe(shareReplay(1));\n\n  private translations = this.adaptTranslateService.getCurrentLanguage();\n\n  alertText = this.translations['adapt.agreement.navigation.alertText'];\n  alertLinkText = this.translations['adapt.agreement.navigation.alertLinkText'];\n\n  protected shellConfig$ = this.getShellConfig();\n\n  private applicationSwitcherActionItems$ = combineLatest([\n    this.applicationDescriptor$,\n    this.rxGlobalCacheService.getBundleDescriptors(),\n    this.shellConfig$,\n    this.rxSystemConfigurationService.queryConfiguration(['Helix-Portal-URL']).pipe(\n      map((value) => get(value, '[0].value')),\n      catchError(() => of(null))\n    )\n  ]).pipe(\n    take(1),\n    switchMap(([currentBundleDescriptor, bundleDescriptors, shellConfig, helixPortalUrl]) => {\n      if (shellConfig.allowAppSwitching) {\n        const applicationList = _filter(bundleDescriptors, { isApplication: true, isLicensed: true });\n\n        this.bundleDescriptors = bundleDescriptors;\n        this.helixPortalUrl = helixPortalUrl as string;\n\n        remove(applicationList, currentBundleDescriptor);\n        remove(applicationList, { id: RX_APPLICATION.settingsBundleId });\n\n        if (!this.rxCurrentUserService.isAdministrator()) {\n          remove(applicationList, { id: RX_APPLICATION.dataloadBundleId });\n        }\n\n        if (!this.rxCurrentUserService.isAdministrator() && !this.rxCurrentUserService.isBusinessAnalyst()) {\n          remove(applicationList, { id: RX_APPLICATION.innovationStudioBundleId });\n        }\n\n        remove(applicationList, { showInAppLauncher: false });\n\n        const optedInApplications = applicationList.map((app) =>\n          this.rxAngularApplicationService.isAngularJsApplication(app.id).pipe(\n            map((isAngularJsApplication) => ({\n              id: app.id,\n              friendlyName: app.localizedDisplayName || app.friendlyName,\n              isAngularJsApplication\n            }))\n          )\n        );\n\n        return forkJoin(optedInApplications);\n      } else {\n        return of([]);\n      }\n    }),\n    map((applicationList) => {\n      if (\n        includes(['Fixed', 'Floating', 'Bundled'], this.rxCurrentUserService.get().licenseType) &&\n        this.helixPortalUrl\n      ) {\n        applicationList.push({\n          friendlyName: this.translateService.instant(\n            'com.bmc.arsys.rx.client.shell.application-launcher.bmc-helix-dashboard.label'\n          ),\n          url: `${this.helixPortalUrl}/dashboards`\n        });\n      }\n\n      if (applicationList.length) {\n        return {\n          name: this.translateService.instant('com.bmc.arsys.rx.client.shell.application-launcher.label'),\n          tooltip: this.translateService.instant('com.bmc.arsys.rx.client.shell.application-launcher.label'),\n          className: 'd-icon-tiles',\n          switcher: {\n            allItems: {\n              items: sortBy(\n                applicationList\n                  .filter((app) => app.id !== this.rxGlobalCacheService.applicationId)\n                  .map((app) => {\n                    return {\n                      name: app.friendlyName,\n                      action: this.launchApplication.bind(this, app.id, app.isAngularJsApplication, app.url)\n                    };\n                  }),\n                (application) => lowerCase(application.name)\n              ) as any\n            },\n            recentItems: {} as any\n          }\n        };\n      } else {\n        return {};\n      }\n    })\n  );\n\n  private showUserMessagesAction: NavigationAction = {\n    name: this.translateService.instant(RX_USER_MESSAGE.title),\n    tooltip: this.translateService.instant(RX_USER_MESSAGE.title),\n    count: 0,\n    action: noop,\n    className: 'd-icon-bell_o'\n  };\n\n  private administrationSettingsAction: NavigationAction = {\n    name: this.translateService.instant('com.bmc.arsys.rx.client.common.settings.label'),\n    tooltip: this.translateService.instant('com.bmc.arsys.rx.client.common.settings.label'),\n    route: `/${this.rxGlobalCacheService.applicationId}/settings`,\n    className: 'd-icon-gear'\n  };\n\n  navigationMenuItems$: Observable<IRxShellMenuItem[]>;\n\n  navigationActionItems$: Observable<NavigationAction[]>;\n\n  brandingInfo$ = this.applicationDescriptor$.pipe(\n    map((applicationDescriptor) => ({\n      logoClass: 'logo-helix',\n      productName: applicationDescriptor.localizedDisplayName || applicationDescriptor.friendlyName,\n      hideMobileLogo: false,\n      switcher: {\n        filter: {\n          placeholder: this.translateService.instant('com.bmc.arsys.rx.client.common.search.label')\n        }\n      }\n    }))\n  );\n\n  userProfileMenu$: Observable<ProfileModel>;\n\n  protected constructor(protected injector: Injector) {\n    this.navigationEnd$.pipe(skip(1), takeUntil(this.destroyed$)).subscribe({\n      next: () => {\n        this.highlightMenuItem(this.getActiveNavigationMenuItem());\n      },\n      complete: () => {\n        this.rxUserMessageService.cancelMessagePolling();\n      }\n    });\n\n    // ADAPT dropdowns listen to the click events and close themselves when the event is fired.\n    // When user clicks inside an iframe though, the event is not propagated to the main window and the\n    // dropdowns remain open.\n    // Here we simulate the click on the document of the main window to close the dropdowns.\n    this.removeWindowBlurListener = injector.get(Renderer2).listen('window', 'blur', () => {\n      document.body.click();\n    });\n  }\n\n  ngOnInit() {\n    this.showUserMessagesAction.popover = this.userMessagesPopover;\n\n    this.rxUserMessageService.messageCount$.subscribe((messageCount) => {\n      this.showUserMessagesAction.count = messageCount;\n    });\n\n    this.navigationMenuItems$ = this.getNavigationMenuItems().pipe(\n      tap(() => {\n        // We perform a setTimeout according to Adapt documentation.\n        // Else on smaller screens the menus might be displayed horizontally\n        // in the shell rather than vertically for smaller screens.\n        // https://github.bmc.com/pages/bmc-ux/adapt-angular/#/components/navigation\n        setTimeout(() => {\n          this.adaptNavigation.checkForHamburger();\n          this.isShellInitialized = true;\n\n          const activeNavigationMenuItem = this.getActiveNavigationMenuItem();\n\n          this.highlightMenuItem(activeNavigationMenuItem);\n        });\n      })\n    );\n\n    this.navigationActionItems$ = combineLatest([\n      this.shellConfig$,\n      this.getNavigationActionItems(),\n      this.applicationSwitcherActionItems$\n    ]).pipe(\n      map(([shellConfig, navigationActionItems, applicationSwitcherActionItems]) => [\n        ...navigationActionItems,\n        this.showUserMessagesAction,\n        ...(shellConfig.administrationSettingsState ? [this.administrationSettingsAction] : []),\n        applicationSwitcherActionItems\n      ]),\n      takeUntil(this.destroyed$)\n    );\n\n    const isGainsightFeatureEnabled = this.rxFeatureService.isFeatureEnabled('DRD21-11744');\n\n    this.userProfileMenu$ = combineLatest([this.rxGainsightConfiguratorService.gainsightInitConfiguration$, this.getUserMenuItems()]).pipe(\n      tap(([gainsightConfig, userMenuItems]) => {\n        const analyticsMenuItem = find(userMenuItems, { id: 0 });\n\n        if (analyticsMenuItem) {\n          const shouldHideAnalyticsMenuItem =\n            !isGainsightFeatureEnabled ||\n            !gainsightConfig.settings.enableGainsight ||\n            isEmpty(gainsightConfig.productTag);\n\n          analyticsMenuItem.hide = shouldHideAnalyticsMenuItem;\n        }\n      }),\n      map(([gainsightConfig, userMenuItems]) => {\n        const currentUser = this.rxCurrentUserService.get();\n\n        const userAvatarUrl = currentUser.personInstanceId\n          ? this.rxRecordInstanceService.getAttachmentDownloadUrl(\n              RX_USER.userProfileRecordDefinitionName,\n              RX_USER.userProfilePictureFieldId,\n              currentUser.personInstanceId\n            )\n          : '';\n\n        return {\n          desc: this.translateService.instant('com.bmc.arsys.rx.client.shell.user-profile.signedin.label'),\n          userName: currentUser.fullName,\n          image: userAvatarUrl,\n          typeLong: true,\n          inverted: false,\n          signOut: {\n            title: this.translateService.instant('com.bmc.arsys.rx.client.common.sign-out.label'),\n            action: this.logout.bind(this)\n          },\n          menu: userMenuItems\n        };\n      })\n    ) as Observable<any>;\n\n    this.router.events.pipe(takeUntil(this.destroyed$)).subscribe((event) => {\n      switch (true) {\n        case event instanceof NavigationStart: {\n          this.busySubscription = NEVER.subscribe();\n          break;\n        }\n\n        case event instanceof NavigationEnd:\n        case event instanceof NavigationCancel:\n        case event instanceof NavigationError: {\n          this.busySubscription?.unsubscribe();\n          break;\n        }\n\n        default: {\n          break;\n        }\n      }\n    });\n  }\n\n  protected highlightMenuItem(menuItem: IRxShellMenuItem): void {\n    if (menuItem) {\n      this.currentMenuItemId = menuItem.id;\n      this.adaptNavigation.selectMenuItem(this.currentMenuItemId);\n    } else {\n      const lastMenuItem = this.adaptNavigation.searchTree(this.adaptNavigation.menuModel, this.currentMenuItemId);\n\n      if (lastMenuItem) {\n        lastMenuItem.active = false;\n\n        if (lastMenuItem.parent) {\n          lastMenuItem.parent.active = false;\n        }\n      }\n\n      this.currentMenuItemId = null;\n      this.adaptNavigation.currentActiveId = null;\n    }\n  }\n\n  protected logout(): void {\n    let canDeactivate = this.rxComponentCanDeactivateGuard.canDeactivate();\n\n    if (isBoolean(canDeactivate)) {\n      canDeactivate = of(canDeactivate);\n    }\n\n    from(canDeactivate)\n      .pipe(\n        filter(Boolean),\n        tap(() => {\n          this.rxComponentCanDeactivateGuard.disable();\n        }),\n        switchMap(() => this.rxAuthService.logout())\n      )\n      .subscribe();\n  }\n\n  protected abstract getActiveNavigationMenuItem(): IRxShellMenuItem;\n\n  protected abstract getNavigationActionItems(): Observable<NavigationAction[]>;\n\n  protected abstract getNavigationMenuItems(): Observable<IRxShellMenuItem[]>;\n\n  protected abstract getUserMenuItems(): Observable<IRxShellMenuItem[]>;\n\n  protected abstract getShellConfig(): Observable<IRxShellConfig>;\n\n  protected launchApplication(bundleId: string, isAngularJsApplication: boolean, portalUrl: string): void {\n    let url;\n\n    if (portalUrl) {\n      url = portalUrl;\n    } else {\n      const application = find(this.bundleDescriptors, { id: bundleId });\n\n      if (application.hasCustomEntryPoint && application.id !== RX_APPLICATION.innovationStudioBundleId) {\n        url = `/${bundleId}/index.html`;\n      } else if (isAngularJsApplication) {\n        url = `/innovationsuite/index.html#/${bundleId}`;\n      } else {\n        url = `/helix/index.html#/${bundleId}`;\n      }\n    }\n\n    window.open(url);\n  }\n\n  closeBanner(): void {\n    this.closeBannerSubject.next(true);\n  }\n\n  ngOnDestroy(): void {\n    this.removeWindowBlurListener();\n    this.rxUserMessageService.cancelMessagePolling();\n    this.closeBannerSubject.complete();\n\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n}\n","export const RX_USER_AVAILABILITY = {\n  ctmPeople: {\n    recordDefinitionName: 'CTM:People',\n    fieldIds: {\n      loginName: 4,\n      assignmentAvailability: 1000000346\n    }\n  }\n};\n","import { Component } from '@angular/core';\nimport { RxCurrentUserService, RxNotificationService } from '@helix/platform/shared/api';\nimport { ActiveModalRef } from '@bmc-ux/adapt-angular';\nimport {\n  RecordInstance,\n  RX_RECORD_DEFINITION,\n  RxRecordInstanceDataPageService,\n  RxRecordInstanceService,\n  RxRecordInstanceUpdateService\n} from '@helix/platform/record/api';\nimport { RX_USER_AVAILABILITY } from './user-availability.constants';\nimport { finalize, switchMap, tap } from 'rxjs/operators';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'rx-user-availability',\n  templateUrl: './user-availability.component.html'\n})\nexport class RxUserAvailabilityComponent {\n  isUserAvailableForAssignment = this.rxCurrentUserService.isAvailableForAssignment();\n  isSaveInProgress = false;\n\n  constructor(\n    private rxCurrentUserService: RxCurrentUserService,\n    private activeModalRef: ActiveModalRef,\n    private rxRecordInstanceDataPageService: RxRecordInstanceDataPageService,\n    private rxRecordInstanceService: RxRecordInstanceService,\n    private rxRecordInstanceUpdateService: RxRecordInstanceUpdateService,\n    private rxNotificationService: RxNotificationService,\n    private translateService: TranslateService\n  ) {}\n\n  updateAssignmentAvailability(): void {\n    this.isSaveInProgress = true;\n\n    this.rxRecordInstanceDataPageService\n      .post({\n        params: {\n          recorddefinition: RX_USER_AVAILABILITY.ctmPeople.recordDefinitionName,\n          queryExpression:\n            \"('\" +\n            RX_USER_AVAILABILITY.ctmPeople.fieldIds.loginName +\n            '\\' = \"' +\n            this.rxCurrentUserService.getName() +\n            '\")',\n          propertySelection: [RX_RECORD_DEFINITION.coreFieldIds.id]\n        }\n      })\n      .pipe(\n        switchMap((dataPageResult) =>\n          this.rxRecordInstanceService.get(\n            RX_USER_AVAILABILITY.ctmPeople.recordDefinitionName,\n            dataPageResult.data[0][RX_RECORD_DEFINITION.coreFieldIds.id]\n          )\n        ),\n        tap((recordInstance: RecordInstance) =>\n          recordInstance.setFieldValue(\n            RX_USER_AVAILABILITY.ctmPeople.fieldIds.assignmentAvailability,\n            this.isUserAvailableForAssignment ? '0' : '1'\n          )\n        ),\n        switchMap((recordInstance: RecordInstance) => this.rxRecordInstanceUpdateService.execute(recordInstance)),\n        finalize(() => (this.isSaveInProgress = false))\n      )\n      .subscribe(() => {\n        this.rxCurrentUserService.setAssignmentAvailability(this.isUserAvailableForAssignment);\n        this.activeModalRef.close();\n\n        this.rxNotificationService.addSuccessMessage(\n          this.translateService.instant(\n            'com.bmc.arsys.rx.client.shell.my-availability-dialog.available-for-assignment-saved.message'\n          )\n        );\n      });\n  }\n\n  cancel(): void {\n    this.activeModalRef.close();\n  }\n}\n","<div class=\"modal-body\">\n  <form name=\"userAvailabilityForm\" novalidate #userAvailabilityForm=\"ngForm\">\n    <adapt-rx-checkbox\n      class=\"d-block form-group\"\n      rx-id=\"user-availability\"\n      name=\"userAvailability\"\n      [(ngModel)]=\"isUserAvailableForAssignment\"\n      label=\"{{ 'com.bmc.arsys.rx.client.shell.my-availability-dialog.available-for-assignment.label' | translate }}\"\n    ></adapt-rx-checkbox>\n  </form>\n</div>\n\n<div class=\"modal-footer\">\n  <button\n    type=\"button\"\n    class=\"btn btn-primary btn-sm\"\n    [disabled]=\"this.isSaveInProgress || !userAvailabilityForm.dirty\"\n    (click)=\"updateAssignmentAvailability()\"\n    rx-id=\"save-button\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.apply.label' | translate }}\n  </button>\n  <button type=\"button\" class=\"btn btn-secondary btn-sm\" (click)=\"cancel()\" rx-id=\"cancel-button\">\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n</div>\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { IGainsightUserPreferences } from './gainsight.types';\nimport { RxFeatureService } from '@helix/platform/shared/api';\nimport { RX_GAINSIGHT } from './gainsight.constant';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxGainsightUserPreferencesService {\n  constructor(private httpClient: HttpClient, private rxFeatureService: RxFeatureService) {}\n\n  getGainsightUserPreferences(): Observable<IGainsightUserPreferences> {\n    if (this.rxFeatureService.isFeatureEnabled('DRD21-11744')) {\n      return this.httpClient.get<IGainsightUserPreferences>(RX_GAINSIGHT.gainsightUserPreferencesApi);\n    } else {\n      return of(null);\n    }\n  }\n\n  saveGainsightUserPreferences(gainsightUserPreferences: IGainsightUserPreferences): Observable<any> {\n    return this.httpClient.put(RX_GAINSIGHT.gainsightUserPreferencesApi, gainsightUserPreferences);\n  }\n}\n","import { ChangeDetectionStrategy, Component, OnDestroy } from '@angular/core';\nimport { ActiveModalRef, AdaptAgreementState } from '@bmc-ux/adapt-angular';\nimport { RxGainsightUserPreferencesService } from '../gainsight-user-preferences.service';\nimport { catchError, filter, map, shareReplay, switchMap, take, tap } from 'rxjs/operators';\nimport { IGainsightUserPreferences } from '../gainsight.types';\nimport { RxNotificationService } from '@helix/platform/shared/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { BehaviorSubject, combineLatest, of, throwError } from 'rxjs';\n\n@Component({\n  selector: 'rx-gainsight-opt-in',\n  templateUrl: './gainsight-opt-in.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class GainsightOptInComponent implements OnDestroy {\n  isQueryInProgress = true;\n  isSaveButtonDisabled = true;\n  private accountPerformance: boolean;\n\n  private isSaveInProgressSubject = new BehaviorSubject<boolean>(false);\n\n  private gainsightUserPreferences$ = this.rxGainsightUserPreferencesService.getGainsightUserPreferences().pipe(\n    take(1),\n    catchError(() => {\n      this.cancel();\n\n      this.rxNotificationService.addWarningMessage(\n        this.translateService.instant('com.bmc.arsys.rx.client.gainsight.user-profile-not-created.message')\n      );\n\n      return of(null);\n    }),\n    shareReplay(1)\n  );\n\n  state$ = this.gainsightUserPreferences$.pipe(\n    tap(() => {\n      this.isQueryInProgress = false;\n    }),\n    filter((gainsightUserPreferences) => Boolean(gainsightUserPreferences)),\n    map((gainsightUserPreferences: IGainsightUserPreferences) => ({\n      accountPerformance: gainsightUserPreferences.trackUsage != false,\n      accountMarketing: false\n    }))\n  );\n\n  vm$ = combineLatest([this.state$, this.isSaveInProgressSubject]).pipe(\n    map(([state, isSaveInProgress]) => ({\n      state,\n      isSaveInProgress\n    }))\n  );\n\n  constructor(\n    private activeModalRef: ActiveModalRef,\n    private rxGainsightUserPreferencesService: RxGainsightUserPreferencesService,\n    private translateService: TranslateService,\n    private rxNotificationService: RxNotificationService\n  ) {}\n\n  handleStateChange(state: AdaptAgreementState): void {\n    this.isSaveButtonDisabled = false;\n    this.accountPerformance = state.accountPerformance;\n  }\n\n  cancel(): void {\n    this.activeModalRef.dismiss();\n  }\n\n  save(): void {\n    this.isSaveInProgressSubject.next(true);\n\n    this.gainsightUserPreferences$\n      .pipe(\n        take(1),\n        map((gainsightUserPreferences: IGainsightUserPreferences) => ({\n          ...gainsightUserPreferences,\n          trackUsage: this.accountPerformance\n        })),\n        switchMap((gainsightUserPreferences: IGainsightUserPreferences) =>\n          this.rxGainsightUserPreferencesService.saveGainsightUserPreferences(gainsightUserPreferences)\n        ),\n        catchError((error) => {\n          this.isSaveInProgressSubject.next(false);\n\n          return throwError(error);\n        })\n      )\n      .subscribe(\n        () => {\n          this.rxNotificationService.addSuccessMessage(\n            this.translateService.instant('com.bmc.arsys.rx.client.gainsight.user-preferences-saved.success.message')\n          );\n\n          this.isSaveInProgressSubject.next(false);\n          this.activeModalRef.close();\n        },\n        () =>\n          this.rxNotificationService.addErrorMessage(\n            this.translateService.instant('com.bmc.arsys.rx.client.gainsight.user-profile-not-updated.message')\n          )\n      );\n  }\n\n  ngOnDestroy(): void {\n    this.isSaveInProgressSubject.complete();\n  }\n}\n","<rx-line-loader\n  *ngIf=\"isQueryInProgress\"\n  [loaderMessage]=\"'com.bmc.arsys.rx.client.common.loading-data' | translate\"\n></rx-line-loader>\n\n<ng-container class=\"p-0\" *ngIf=\"vm$ | async as vm\">\n  <div [hidden]=\"isQueryInProgress\" class=\"modal-body\">\n    <adapt-agreement-card\n      (stateChange)=\"handleStateChange($event)\"\n      [showShadow]=\"false\"\n      [showMarketingSection]=\"false\"\n      [state]=\"vm.state\"\n      rx-id=\"gainsight-agreement\"\n    >\n    </adapt-agreement-card>\n  </div>\n\n  <div class=\"modal-footer\">\n    <button\n      type=\"button\"\n      class=\"btn btn-primary\"\n      (click)=\"save()\"\n      rx-id=\"save-button\"\n      [disabled]=\"isSaveButtonDisabled || vm.isSaveInProgress\"\n      [adaptInlineLoader]=\"vm.isSaveInProgress\"\n    >\n      {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\n    </button>\n\n    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"cancel()\" rx-id=\"cancel-button\">\n      {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n    </button>\n  </div>\n</ng-container>\n","import { Component, ElementRef, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { RX_USER_MESSAGE } from './user-message.constants';\nimport { ActiveModalRef } from '@bmc-ux/adapt-angular';\nimport { RxUserMessageService } from './user-message.service';\nimport { IRxMessage } from './user-message.interfaces';\nimport { Subscription } from 'rxjs';\nimport { get } from 'lodash';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'rx-user-message-modal',\n  templateUrl: './user-message-modal.component.html',\n  styleUrls: ['./user-message-modal.component.scss', './user-messages.scss']\n})\nexport class RxUserMessageModalComponent implements OnInit, OnDestroy {\n  @ViewChild('scrollableNotifications', { static: true }) scrollableNotifications: ElementRef;\n\n  private messageSubscription: Subscription;\n  loadingInProgress = false;\n  RX_USER_MESSAGE = RX_USER_MESSAGE;\n\n  messages = {\n    active: {\n      type: '',\n      count: 0,\n      list: [] as IRxMessage[],\n      queryExpr: '',\n      loadingInProgress: false\n    },\n    dismissed: {\n      type: '',\n      count: 0,\n      list: [] as IRxMessage[],\n      queryExpr: '',\n      loadingInProgress: false\n    }\n  };\n\n  constructor(\n    public context: ActiveModalRef,\n    private rxUserMessageService: RxUserMessageService,\n    private translateService: TranslateService,\n    private renderer: Renderer2\n  ) {}\n\n  ngOnInit(): void {\n    this.rxUserMessageService.getMessages(RX_USER_MESSAGE.messageTypes.dismissed).subscribe(() => {\n      this.messages = this.rxUserMessageService.userMessageModel.messages;\n    });\n\n    this.messageSubscription = this.rxUserMessageService.messageFetched$.subscribe(() => {\n      const scrollPosition = this.scrollableNotifications\n        ? this.renderer.selectRootElement(this.scrollableNotifications.nativeElement).scrollTop\n        : null;\n\n      if (!scrollPosition || this.loadingInProgress) {\n        this.loadingInProgress = false;\n        this.messages = this.rxUserMessageService.userMessageModel.messages;\n      }\n    });\n  }\n\n  getMoreMessages(messageType: string, event): void {\n    this.loadingInProgress = true;\n    this.rxUserMessageService.getMessages(messageType, true).subscribe();\n    event.stopPropagation();\n  }\n\n  dismissMessage(message: IRxMessage): void {\n    this.rxUserMessageService.dismissNotification(message);\n  }\n\n  getContentTitleText(key: string, count: number): string {\n    let contentTitleText;\n\n    switch (key) {\n      case RX_USER_MESSAGE.messageTypes.active:\n        contentTitleText = 'com.bmc.arsys.rx.client.shell.notification.active.label';\n        break;\n      case RX_USER_MESSAGE.messageTypes.dismissed:\n        contentTitleText = 'com.bmc.arsys.rx.client.shell.notification.dismissed.label';\n        break;\n    }\n\n    return this.translateService.instant(contentTitleText, { count });\n  }\n\n  closeModal() {\n    this.context.close(true);\n  }\n\n  ngOnDestroy(): void {\n    this.messageSubscription.unsubscribe();\n  }\n}\n","<div class=\"modal-header\">\n  <h5 class=\"modal-title\">{{ RX_USER_MESSAGE.title | translate }}</h5>\n  <button class=\"close dp-close\" type=\"button\" (click)=\"context.close(false)\" rx-id=\"x-button\"></button>\n</div>\n\n<div class=\"modal-body\">\n  <div class=\"rx-container\">\n    <div class=\"active-messages\" *ngIf=\"messages.active.count || messages.dismissed.count\" #scrollableNotifications>\n      <div *ngFor=\"let messagesType of messages | keyvalue\">\n        <div class=\"content-title\">\n          {{ getContentTitleText(messagesType.key, messagesType.value.count) }}\n        </div>\n\n        <div *ngIf=\"!messagesType.value.count\" class=\"empty-holder\" [ngSwitch]=\"messagesType.key\">\n          <span *ngSwitchCase=\"RX_USER_MESSAGE.messageTypes.active\">{{\n            'com.bmc.arsys.rx.client.shell.notification.active.noNotifications.label' | translate\n          }}</span>\n          <span *ngSwitchCase=\"RX_USER_MESSAGE.messageTypes.dismissed\">{{\n            'com.bmc.arsys.rx.client.shell.notification.dismissed.noNotifications.label' | translate\n          }}</span>\n        </div>\n\n        <div *ngIf=\"messagesType.value.count\">\n          <div\n            class=\"item\"\n            *ngFor=\"let message of messagesType.value.list\"\n            [ngClass]=\"{ 'item-dismiss': message.dismissInProgress }\"\n          >\n            <div class=\"item-content-section\">\n              <div class=\"item-content-inner-section d-flex align-items-center flex-wrap\">\n                <div class=\"item-icon-section d-icon-bell_o\"></div>\n                <div class=\"item-content-subject font-weight-bold\">{{ message['20000'] }}</div>\n                <div class=\"item-dismiss-section ml-auto\" *ngIf=\"messagesType.key === RX_USER_MESSAGE.messageTypes.active\">\n                  <button\n                    *ngIf=\"!message.dismissInProgress\"\n                    [attr.aria-label]=\"RX_USER_MESSAGE.dismissMessage | translate\"\n                    (click)=\"dismissMessage(message)\"\n                    class=\"close\"\n                    rx-id=\"x-button\"\n                    type=\"button\"\n                  ></button>\n\n                  <div class=\"item-dismiss-preloader\">\n                    <div class=\"d-preloader d-icon-circle_25_o\" *ngIf=\"message.dismissInProgress\"></div>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"item-content-text text-break\" [innerHTML]=\"message['20001']\"></div>\n              <div class=\"item-content-date\">\n                {{ message['6'] | date: 'medium' }}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div\n          class=\"content-load-more\"\n          *ngIf=\"loadingInProgress || messagesType.value.count > messagesType.value.list.length\"\n        >\n          <button\n            type=\"button\"\n            *ngIf=\"!loadingInProgress\"\n            adapt-button\n            btn-type=\"tertiary\"\n            size=\"small\"\n            (click)=\"getMoreMessages(messagesType.key, $event)\"\n            rx-id=\"show-more\"\n          >\n            {{ RX_USER_MESSAGE.loadMore | translate }}\n          </button>\n\n          <div class=\"d-preloader d-icon-circle_25_o\" *ngIf=\"loadingInProgress\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"empty-holder\" *ngIf=\"messages.active.count === 0 && messages.dismissed.count === 0\">\n    {{ RX_USER_MESSAGE.noActiveMessage | translate }}\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <adapt-button btn-type=\"primary\" (click)=\"closeModal()\">\n    {{ 'com.bmc.arsys.rx.client.common.close.label' | translate }}\n  </adapt-button>\n</div>\n","import { Component, ElementRef, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { RX_USER_MESSAGE } from './user-message.constants';\nimport { RxUserMessageService } from './user-message.service';\nimport { Subscription } from 'rxjs';\nimport { IRxActiveMessage, IRxMessage } from './user-message.interfaces';\nimport { AdaptModalService } from '@bmc-ux/adapt-angular';\nimport { RxUserMessageModalComponent } from './user-message-modal.component';\nimport { noop } from 'lodash';\n\n@Component({\n  selector: 'rx-user-messages',\n  templateUrl: './user-messages.component.html',\n  styleUrls: ['user-messages.scss']\n})\nexport class RxUserMessagesComponent implements OnDestroy, OnInit {\n  @ViewChild('scrollableNotifications', { static: true }) scrollableNotifications: ElementRef;\n\n  private subscription = new Subscription();\n  loadingInProgress = false;\n  activeMessage = {} as IRxActiveMessage;\n  RX_USER_MESSAGE = RX_USER_MESSAGE;\n\n  constructor(\n    private adaptModalService: AdaptModalService,\n    private rxUserMessageService: RxUserMessageService,\n    private renderer: Renderer2\n  ) {\n    this.activeMessage.count = 0;\n    this.activeMessage.list = [];\n  }\n\n  ngOnInit(): void {\n    this.subscription.add(\n      this.rxUserMessageService.messageFetched$.subscribe(() => {\n        const scrollPosition = this.scrollableNotifications\n          ? this.renderer.selectRootElement(this.scrollableNotifications.nativeElement).scrollTop\n          : null;\n\n        if (!scrollPosition || this.loadingInProgress) {\n          this.activeMessage = this.rxUserMessageService.userMessageModel.messages.active;\n          this.loadingInProgress = false;\n        }\n      })\n    );\n\n    this.rxUserMessageService.launchMessagePolling();\n  }\n\n  getMoreMessages(event): void {\n    this.loadingInProgress = true;\n    this.subscription.add(this.rxUserMessageService.getMessages(RX_USER_MESSAGE.messageTypes.active, true).subscribe());\n    event.stopPropagation();\n  }\n\n  dismissMessage(message?: IRxMessage): void {\n    this.rxUserMessageService.dismissNotification(message);\n  }\n\n  viewAllMessages(): Promise<boolean | string> {\n    return this.adaptModalService\n      .open({\n        content: RxUserMessageModalComponent,\n        data: {},\n        size: 'lg'\n      })\n      .catch(noop);\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n}\n","<div class=\"rx-container\">\n  <div class=\"title-section default-border d-flex\">\n    <div class=\"title d-inline\">{{ RX_USER_MESSAGE.title | translate }}</div>\n    <div class=\"buttons-wrapper ml-auto\">\n      <button\n        type=\"button\"\n        adapt-button\n        btn-type=\"tertiary\"\n        size=\"small\"\n        (click)=\"viewAllMessages()\"\n        rx-id=\"view-all-messages\"\n      >\n        {{ RX_USER_MESSAGE.showAll | translate }}\n      </button>\n\n      <button\n        type=\"button\"\n        adapt-button\n        btn-type=\"tertiary\"\n        size=\"small\"\n        *ngIf=\"activeMessage.count\"\n        (click)=\"dismissMessage()\"\n        rx-id=\"dismiss-message\"\n      >\n        {{ RX_USER_MESSAGE.dismissAll | translate }}\n      </button>\n    </div>\n  </div>\n\n  <div class=\"empty-holder\" *ngIf=\"activeMessage.count === 0\">\n    {{ RX_USER_MESSAGE.noActiveMessage | translate }}\n  </div>\n\n  <div class=\"active-messages\" *ngIf=\"activeMessage.count\" #scrollableNotifications>\n    <div\n      class=\"item default-border\"\n      *ngFor=\"let message of activeMessage.list\"\n      [ngClass]=\"{ 'item-dismiss': message.dismissInProgress }\"\n    >\n      <div class=\"item-content-section\">\n        <div class=\"item-content-inner-section d-flex align-items-center\">\n          <div class=\"item-icon-section d-icon-bell_o\"></div>\n          <div class=\"item-content-subject font-weight-bold\">{{ message['20000'] }}</div>\n          <div class=\"item-dismiss-section ml-auto\">\n            <button\n              *ngIf=\"!message.dismissInProgress\"\n              [attr.aria-label]=\"RX_USER_MESSAGE.dismissMessage | translate\"\n              (click)=\"dismissMessage(message)\"\n              class=\"close\"\n              rx-id=\"x-button\"\n              type=\"button\"\n            ></button>\n\n            <div class=\"item-dismiss-preloader\">\n              <div class=\"d-preloader d-icon-circle_25_o\" *ngIf=\"message.dismissInProgress\"></div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"item-content-text text-break\" [innerHTML]=\"message['20001']\"></div>\n        <div class=\"item-content-date\">\n          {{ message['6'] | date: 'medium' }}\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"content-load-more\" *ngIf=\"loadingInProgress || activeMessage.count > activeMessage.list.length\">\n    <button\n      type=\"button\"\n      *ngIf=\"!loadingInProgress\"\n      adapt-button\n      btn-type=\"tertiary\"\n      size=\"small\"\n      (click)=\"getMoreMessages($event)\"\n      rx-id=\"show-more\"\n    >\n      {{ RX_USER_MESSAGE.loadMore | translate }}\n    </button>\n\n    <div class=\"d-preloader d-icon-circle_25_o\" *ngIf=\"loadingInProgress\"></div>\n  </div>\n</div>\n","import { Component, Injector, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport {\n  AdaptModalService,\n  AdaptNavigationComponent,\n  AdaptNavigationService,\n  NavigationAction\n} from '@bmc-ux/adapt-angular';\nimport { RxNotificationService, RxSmartReportingService, RxUpgradeTrackerService } from '@helix/platform/shared/api';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport {\n  IRxShellConfig,\n  IRxShellMenuItem,\n  RX_SHELL,\n  RX_VIEW_ACTION,\n  RxShellService,\n  RxViewActionService\n} from '@helix/platform/view/api';\nimport { find, noop } from 'lodash';\nimport { Observable, Subscription } from 'rxjs';\nimport { map, shareReplay, switchMap, take, tap } from 'rxjs/operators';\nimport { RxUserPreferencesComponent } from '../user-preferences/user-preferences.component';\nimport { ShellBase } from './shell-base.class';\nimport { IRxShellUpgradeTrackerAction } from './shell-component.types';\nimport { RxUserAvailabilityComponent } from '../user-availability/user-availability.component';\nimport { RxApplicationContext } from './gainsight/gainsight.types';\nimport { GainsightOptInComponent } from './gainsight/gainsight-opt-in/gainsight-opt-in.component';\n\n@Component({\n  selector: 'rx-shell',\n  templateUrl: './shell.component.html',\n  styleUrls: ['./shell.component.scss']\n})\nexport class RxShellComponent extends ShellBase implements OnInit, OnDestroy {\n  @ViewChild('adaptNavigation', { static: true })\n  protected adaptNavigation: AdaptNavigationComponent;\n\n  @ViewChild('userMessagesPopover', { static: true })\n  protected userMessagesPopover: TemplateRef<any>;\n\n  private subscriptions: Subscription = new Subscription();\n\n  constructor(\n    private adaptModalService: AdaptModalService,\n    private route: ActivatedRoute,\n    private rxModalService: RxModalService,\n    private rxNotificationService: RxNotificationService,\n    private rxShellService: RxShellService,\n    private rxSmartReportingService: RxSmartReportingService,\n    private rxUpgradeTrackerService: RxUpgradeTrackerService,\n    private rxViewActionService: RxViewActionService,\n    protected injector: Injector,\n    private adaptNavigationService: AdaptNavigationService\n  ) {\n    super(injector);\n\n    this.rxShellService.resetMenuItemCount();\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.subscriptions.add(\n      this.rxShellService.navigateToSmartReporting$\n        .pipe(switchMap(() => this.rxSmartReportingService.openSmartReporting()))\n        .subscribe((isSmartReportingConfigured) => {\n          if (!isSmartReportingConfigured) {\n            this.rxNotificationService.addErrorMessage(\n              this.translateService.instant('com.bmc.arsys.rx.client.shell.smart-reporting-not-configured')\n            );\n          }\n        })\n    );\n\n    this.subscriptions.add(\n      this.rxShellService.navigateToView$.subscribe((menuItem: IRxShellMenuItem) => this.openView(menuItem))\n    );\n\n    this.subscriptions.add(this.rxShellService.openUserPreferences$.subscribe(() => this.openUserPreferences()));\n\n    this.subscriptions.add(\n      this.rxShellService.openGainsightPreferences$.subscribe(() => this.openGainsightPreferences())\n    );\n\n    this.subscriptions.add(this.rxShellService.openUserAvailability$.subscribe(() => this.openUserAvailability()));\n  }\n\n  private onNavigationCanceled(): void {\n    if (this.currentMenuItemId !== null) {\n      this.adaptNavigation.selectMenuItem(this.currentMenuItemId);\n    }\n  }\n\n  private openView(menuItem: IRxShellMenuItem): void {\n    this.rxViewActionService\n      .execute(RX_VIEW_ACTION.viewActionNames.openView, menuItem.openViewParams)\n      .pipe(take(1))\n      .subscribe({\n        error: () => {\n          this.onNavigationCanceled();\n        }\n      });\n  }\n\n  private openUserPreferences(): void {\n    this.adaptModalService\n      .open({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.shell.my-preferences.label'),\n        content: RxUserPreferencesComponent,\n        size: 'sm'\n      })\n      .then(() => {\n        this.rxModalService\n          .confirm({\n            title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n            modalStyle: RX_MODAL.modalStyles.warning,\n            message: this.translateService.instant(\n              'com.bmc.arsys.rx.client.shell.user-preferences-dialog.signout.confirmation.message'\n            )\n          })\n          .then((isLogoutRequested: boolean) => {\n            if (isLogoutRequested) {\n              this.logout();\n            }\n          });\n      })\n      .catch(noop);\n  }\n\n  openGainsightPreferences(): void {\n    this.adaptModalService\n      .open({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.shell.analytics.label'),\n        content: GainsightOptInComponent,\n        size: 'sm'\n      })\n      .catch(noop);\n  }\n\n  private openUserAvailability(): void {\n    this.adaptModalService\n      .open({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.shell.my-availability.label'),\n        content: RxUserAvailabilityComponent,\n        size: 'sm'\n      })\n      .catch(noop);\n  }\n\n  protected getNavigationActionItems(): Observable<NavigationAction[]> {\n    return this.shellConfig$.pipe(\n      map((shellConfig) => {\n        const actions = [];\n\n        shellConfig.navigationActions.forEach((item) => {\n          actions.push({\n            action: item.action,\n            className: item.className,\n            name: item.name,\n            tooltip: item.name,\n            hide: item.hide\n          });\n        });\n\n        if (!shellConfig.globalSearchDisabled) {\n          actions.push({\n            name: this.translateService.instant('com.bmc.arsys.rx.client.common.search.label'),\n            tooltip: this.translateService.instant('com.bmc.arsys.rx.client.common.search.label'),\n            className: 'd-icon-search',\n            route: `/${this.rxGlobalCacheService.applicationId}/search`\n          });\n        }\n\n        const showUpgradeTrackerAction: IRxShellUpgradeTrackerAction = {\n          action: () => {\n            this.rxUpgradeTrackerService.displayUpgradeNotification(true);\n          },\n          className: 'd-icon-clock_alert',\n          hide: !this.rxUpgradeTrackerService.isUpgradeInProgress,\n          name: ''\n        };\n\n        this.subscriptions.add(\n          this.rxUpgradeTrackerService.isUpgradeInProgress$.subscribe(() => {\n            showUpgradeTrackerAction.hide = !this.rxUpgradeTrackerService.isUpgradeInProgress;\n          })\n        );\n\n        actions.push(showUpgradeTrackerAction);\n\n        return actions;\n      })\n    );\n  }\n\n  protected getActiveNavigationMenuItem(): IRxShellMenuItem {\n    return find(\n      this.flattenedMenuItems,\n      (menuItem) =>\n        menuItem.hide !== true &&\n        menuItem.type === RX_SHELL.actions.navigateToView &&\n        decodeURIComponent(`/${this.rxGlobalCacheService.applicationId}/view/${menuItem.viewUrl}`) ===\n          decodeURIComponent(this.router.url)\n    );\n  }\n\n  protected getNavigationMenuItems(): Observable<IRxShellMenuItem[]> {\n    return this.shellConfig$.pipe(map((shellConfig) => shellConfig.navigationBarItems));\n  }\n\n  protected getUserMenuItems(): Observable<IRxShellMenuItem[]> {\n    return this.shellConfig$.pipe(map((shellConfig) => shellConfig.userMenu.subMenu));\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n\n    this.subscriptions.unsubscribe();\n  }\n\n  protected getShellConfig(): Observable<IRxShellConfig> {\n    return this.applicationDescriptor$.pipe(\n      switchMap((currentBundleDescriptor) => this.rxShellService.getShellConfig(currentBundleDescriptor.id)),\n      tap((shellConfig) => {\n        this.flattenedMenuItems = shellConfig.flattenedMenuItems;\n      }),\n      shareReplay(1)\n    );\n  }\n}\n","<ng-template #userMessagesPopover>\n  <rx-user-messages></rx-user-messages>\n</ng-template>\n\n<adapt-navigation\n  #adaptNavigation\n  [class.invisible]=\"!isShellInitialized\"\n  [metadata]=\"brandingInfo$ | async\"\n  [menu]=\"(navigationMenuItems$ | async) || []\"\n  [actions]=\"navigationActionItems$ | async\"\n  [profile]=\"userProfileMenu$ | async\"\n></adapt-navigation>\n\n<adapt-alert\n  *ngIf=\"hasBanner$ | async\"\n  [config]=\"{\n    title: 'Note:',\n    type: 'page',\n    variant: 'info',\n    content: ''\n  }\"\n  (onClose)=\"closeBanner()\"\n>\n  <span class=\"alert-content\">\n    <span>\n      {{ alertText }}\n    </span>\n\n    <a href=\"#\" class=\"alert-link\" (click)=\"openGainsightPreferences(); $event.preventDefault()\">\n      {{ alertLinkText }}\n    </a>\n  </span>\n</adapt-alert>\n\n<div [class.invisible]=\"!isShellInitialized\" class=\"busy-indicator position-relative\">\n  <rx-busy-indicator\n    [options]=\"{\n      busy: busySubscription,\n      loaderType: 'lineLoader',\n      delay: 250,\n      backdrop: false,\n      message: null\n    }\"\n  >\n  </rx-busy-indicator>\n</div>\n\n<div\n  [class.invisible]=\"!isShellInitialized\"\n  class=\"outlet-content\"\n  [ngClass]=\"{\n    'has-banner': hasBanner$ | async\n  }\"\n>\n  <router-outlet></router-outlet>\n</div>\n","import { Component } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { ActiveModalRef, DismissReasons } from '@bmc-ux/adapt-angular';\nimport { DevelopmentMode } from '@helix/platform/shared/api';\nimport { map, startWith } from 'rxjs/operators';\n\n@Component({\n  selector: 'rx-development-mode-selector',\n  templateUrl: './development-mode-selector.component.html'\n})\nexport class DevelopmentModeSelectorComponent {\n  developmentModeFormControl = new FormControl(this.activeModalRef.getData().developmentMode);\n\n  isSaveButtonDisabled$ = this.developmentModeFormControl.valueChanges.pipe(\n    startWith(this.activeModalRef.getData().developmentMode),\n    map((value: DevelopmentMode) => value === this.activeModalRef.getData().developmentMode)\n  );\n\n  constructor(private activeModalRef: ActiveModalRef) {}\n\n  closeModal(): void {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n\n  selectDevelopmentMode(): void {\n    this.activeModalRef.close(this.developmentModeFormControl.value);\n  }\n}\n","<div class=\"modal-body p-0\">\n  <adapt-alert\n    [config]=\"{\n      content: 'com.bmc.arsys.rx.client.shell.development-mode.close-other-tabs.warning' | translate,\n      dismissible: false,\n      variant: 'warning',\n      type: 'page'\n    }\"\n  ></adapt-alert>\n\n  <div class=\"p-4\">\n    <div class=\"flex\">\n      <adapt-rx-radiobutton-group\n        [label]=\"'com.bmc.arsys.rx.client.shell.development-mode.select.label' | translate\"\n        [autofocus]=\"true\"\n        [formControl]=\"developmentModeFormControl\"\n      >\n        <adapt-rx-radiobutton\n          value=\"1\"\n          [label]=\"'com.bmc.arsys.rx.client.shell.development-mode.best-practice.label' | translate\"\n        ></adapt-rx-radiobutton>\n        <adapt-rx-radiobutton\n          value=\"0\"\n          [label]=\"'com.bmc.arsys.rx.client.shell.development-mode.base.label' | translate\"\n        ></adapt-rx-radiobutton>\n      </adapt-rx-radiobutton-group>\n\n      <adapt-alert\n        *ngIf=\"developmentModeFormControl.value === '0' && developmentModeFormControl.dirty\"\n        [config]=\"{\n          type: 'inline',\n          variant: 'warning',\n          dismissible: false,\n          content: 'com.bmc.arsys.rx.client.shell.development-mode.system-upgrade.warning' | translate\n        }\"\n      ></adapt-alert>\n\n      <a\n        adapt-button\n        class=\"d-icon-pop_up pl-0 pb-0\"\n        btn-type=\"tertiary\"\n        size=\"large\"\n        target=\"_blank\"\n        href=\"https://docs.bmc.com/docs/display/helixplatform/Customization+layer\"\n      >\n        <span> {{ 'com.bmc.arsys.rx.client.common.learn-more.label' | translate }}</span>\n      </a>\n    </div>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <button\n    adapt-button\n    btn-type=\"primary\"\n    type=\"button\"\n    rx-id=\"save-button\"\n    (click)=\"selectDevelopmentMode()\"\n    [disabled]=\"isSaveButtonDisabled$ | async\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.select.label' | translate }}\n  </button>\n\n  <button adapt-button btn-type=\"secondary\" type=\"button\" rx-id=\"cancel-button\" (click)=\"closeModal()\">\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { DismissReasons, DockedPanelContext } from '@bmc-ux/adapt-angular';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\nimport { RxOverlayService } from '@helix/platform/shared/api';\nimport { HttpParams } from '@angular/common/http';\n\n@Component({\n  selector: 'rx-feedback-dialog',\n  templateUrl: './feedback-dialog.component.html'\n})\nexport class FeedbackDialogComponent implements OnInit {\n  feedbackUrl: SafeResourceUrl;\n\n  constructor(\n    private dockedPanelContext: DockedPanelContext,\n    private domSanitizer: DomSanitizer,\n    private rxOverlayService: RxOverlayService\n  ) {}\n\n  ngOnInit(): void {\n    const data = this.dockedPanelContext.getData();\n\n    const requestParams = new HttpParams({\n      fromObject: {\n        Q_Language: 'EN',\n        product: 'BMC Helix Platform',\n        productVersion: data.bundleDescriptorVersion,\n        tenant: this.rxOverlayService.getCurrentOverlayContext().tenantName\n      }\n    });\n\n    this.feedbackUrl = this.domSanitizer.bypassSecurityTrustResourceUrl(\n      data.feedbackUrl.value + '?' + requestParams.toString()\n    );\n  }\n\n  close(): void {\n    this.dockedPanelContext.close(DismissReasons.CLOSE_BTN);\n  }\n}\n","<div class=\"h-100 p-0\">\n  <iframe frameborder=\"0\" class=\"d-block h-100 w-100\" [src]=\"feedbackUrl\"> </iframe>\n</div>\n","import { Component, Injector, TemplateRef, ViewChild } from '@angular/core';\nimport {\n  AdaptDockedPanelService,\n  AdaptModalService,\n  AdaptNavigationComponent,\n  AdaptNavigationService,\n  NavigationAction\n} from '@bmc-ux/adapt-angular';\nimport {\n  DevelopmentMode,\n  IUserOverlayGroupDescriptorChildren,\n  RX_APPLICATION,\n  RX_OVERLAY,\n  RxOverlayService,\n  RxPreviousStateService,\n  RxSystemConfigurationService\n} from '@helix/platform/shared/api';\nimport { IRxShellConfig, IRxShellMenuItem } from '@helix/platform/view/api';\nimport { includes } from 'lodash';\nimport { noop, Observable, of } from 'rxjs';\nimport { DevelopmentModeSelectorComponent } from './development-mode-selector/development-mode-selector.component';\nimport { FeedbackDialogComponent } from './feedback-dialog/feedback-dialog.component';\nimport { ShellBase } from './shell-base.class';\nimport { GainsightOptInComponent } from './gainsight/gainsight-opt-in/gainsight-opt-in.component';\nimport { RxModalService } from '@helix/platform/ui-kit';\n\n@Component({\n  selector: 'rx-innovation-studio-shell',\n  templateUrl: './shell.component.html',\n  styleUrls: ['./shell.component.scss']\n})\nexport class RxInnovationStudioShellComponent extends ShellBase {\n  @ViewChild('adaptNavigation', { static: true })\n  protected adaptNavigation: AdaptNavigationComponent;\n\n  @ViewChild('userMessagesPopover', { static: true })\n  protected userMessagesPopover: TemplateRef<any>;\n\n  protected flattenedMenuItems = [\n    {\n      name: this.translateService.instant('com.bmc.arsys.rx.innovation-studio.workspace.page.label'),\n      id: 0,\n      action: () => {\n        this.router.navigate([RX_APPLICATION.innovationStudioBundleId, 'workspace']);\n      }\n    },\n    {\n      name: this.translateService.instant('com.bmc.arsys.rx.client.common.administration.label'),\n      id: 1,\n      action: () => {\n        this.router.navigate([RX_APPLICATION.innovationStudioBundleId, 'settings']);\n      }\n    }\n  ];\n\n  private npsSurveyBaseUrl = 'NPS-Survey-Base-URL';\n\n  currentOverlayContext: IUserOverlayGroupDescriptorChildren = this.rxOverlayService.getCurrentOverlayContext();\n\n  constructor(\n    protected injector: Injector,\n    private adaptDockedPanelService: AdaptDockedPanelService,\n    private adaptModalService: AdaptModalService,\n    protected rxSystemConfigurationService: RxSystemConfigurationService,\n    private rxOverlayService: RxOverlayService,\n    private rxPreviousStateService: RxPreviousStateService,\n    private rxModalService: RxModalService\n  ) {\n    super(injector);\n  }\n\n  protected getActiveNavigationMenuItem(): IRxShellMenuItem {\n    const url = this.router.url;\n\n    if (includes(url, `${RX_APPLICATION.innovationStudioBundleId}/workspace`)) {\n      return this.flattenedMenuItems[0];\n    } else if (includes(url, `${RX_APPLICATION.innovationStudioBundleId}/settings`)) {\n      return this.flattenedMenuItems[1];\n    }\n  }\n\n  protected getUserMenuItems(): Observable<IRxShellMenuItem[]> {\n    const userMenu: IRxShellMenuItem[] = [];\n    const currentOverlayContext = this.rxOverlayService.getCurrentOverlayContext();\n\n    if (this.isEligibleForFeedback()) {\n      userMenu.push({\n        name: this.translateService.instant('com.bmc.arsys.rx.client.shell.provide-feedback.label'),\n        className: 'd-icon-heart',\n        id: 1,\n        action: () => {\n          this.openFeedback();\n        }\n      });\n    }\n\n    if (this.rxFeatureService.isFeatureEnabled('DRD21-11744')) {\n      userMenu.push({\n        name: this.translateService.instant('com.bmc.arsys.rx.client.shell.analytics.label'),\n        id: 0,\n        className: 'd-icon-app_chart_bar',\n        action: () => {\n          this.openGainsightPreferences();\n        }\n      });\n    }\n\n    return of(userMenu);\n  }\n\n  private isEligibleForFeedback(): boolean {\n    return (\n      this.currentOverlayContext.overlayGroupId !== RX_OVERLAY.overlayGroupIds.base &&\n      !this.currentOverlayContext.isShared\n    );\n  }\n\n  private openFeedback(): void {\n    let bundleDescriptorVersion: string;\n    this.applicationDescriptor$.subscribe((applicationDescriptor) => {\n      bundleDescriptorVersion = applicationDescriptor.version;\n    });\n    this.rxSystemConfigurationService.getConfiguration(this.npsSurveyBaseUrl).subscribe((feedbackUrl) => {\n      this.adaptDockedPanelService.open({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.shell.provide-feedback.label'),\n        content: FeedbackDialogComponent,\n        size: 'md',\n        data: { feedbackUrl, bundleDescriptorVersion }\n      });\n    });\n  }\n\n  openGainsightPreferences(): void {\n    this.adaptModalService\n      .open({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.shell.analytics.label'),\n        content: GainsightOptInComponent,\n        size: 'sm'\n      })\n      .catch(noop);\n  }\n\n  protected getNavigationMenuItems(): Observable<IRxShellMenuItem[]> {\n    return of(this.flattenedMenuItems);\n  }\n\n  protected getNavigationActionItems(): Observable<NavigationAction[]> {\n    const currentDevelopmentMode = this.rxOverlayService.getDevelopmentMode();\n\n    return of([\n      {\n        name: this.translateService.instant('com.bmc.arsys.rx.client.shell.development-mode.title'),\n        className: 'd-icon-field_custom',\n        tooltip: this.translateService.instant(\n          currentDevelopmentMode === DevelopmentMode.Base\n            ? 'com.bmc.arsys.rx.client.shell.development-mode.base.tooltip'\n            : 'com.bmc.arsys.rx.client.shell.development-mode.best-practice.tooltip'\n        ),\n        action: () => {\n          this.adaptModalService\n            .open({\n              title: this.translateService.instant('com.bmc.arsys.rx.client.shell.development-mode.title'),\n              content: DevelopmentModeSelectorComponent,\n              size: 'sm',\n              data: { developmentMode: currentDevelopmentMode }\n            })\n            .then(\n              (developmentMode) => {\n                this.rxOverlayService.setDevelopmentMode(developmentMode);\n\n                this.router.navigate([RX_APPLICATION.innovationStudioBundleId, 'workspace']).then(() => {\n                  window.location.reload();\n                });\n              },\n              () => {}\n            );\n        }\n      }\n    ]);\n  }\n\n  protected getShellConfig(): Observable<IRxShellConfig> {\n    return of({ allowAppSwitching: true } as IRxShellConfig);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { RouterModule } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport {\n  AdaptAlertModule,\n  AdaptButtonModule,\n  AdaptCloseModule,\n  AdaptDockedPanelModule,\n  AdaptModalModule,\n  AdaptNavigationModule,\n  AdaptRxRadiobuttonModule,\n  AdaptRxSearchModule,\n  AdaptTooltipModule,\n  AdaptAgreementModule,\n  AdaptBusyModule\n} from '@bmc-ux/adapt-angular';\n\nimport { RxBusyIndicatorModule, RxLineLoaderModule } from '@helix/platform/ui-kit';\nimport { DevelopmentModeSelectorComponent } from './development-mode-selector/development-mode-selector.component';\nimport { FeedbackDialogComponent } from './feedback-dialog/feedback-dialog.component';\nimport { RxInnovationStudioShellComponent } from './innovation-studio-shell.component';\nimport { RxShellComponent } from './shell.component';\nimport { RxUserMessageDataPageService } from './user-messages/user-message-data-page.service';\nimport { RxUserMessageModalComponent } from './user-messages/user-message-modal.component';\nimport { RxUserMessageService } from './user-messages/user-message.service';\nimport { RxUserMessagesComponent } from './user-messages/user-messages.component';\nimport { AdaptRadarSupportedProviders, AdaptRadarModule } from '@bmc-ux/adapt-radar';\nimport { GainsightOptInComponent } from './gainsight/gainsight-opt-in/gainsight-opt-in.component';\n\n@NgModule({\n  imports: [\n    BrowserModule,\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule,\n    AdaptModalModule,\n    AdaptDockedPanelModule,\n    AdaptNavigationModule.forRoot(),\n    AdaptTooltipModule,\n    AdaptButtonModule,\n    AdaptCloseModule,\n    AdaptRxSearchModule,\n    AdaptAlertModule.forRoot(),\n    AdaptRxRadiobuttonModule,\n    TranslateModule,\n    RxBusyIndicatorModule,\n    AdaptRadarModule,\n    AdaptAgreementModule,\n    RxLineLoaderModule,\n    AdaptBusyModule\n  ],\n  entryComponents: [RxUserMessageModalComponent],\n  declarations: [\n    RxShellComponent,\n    RxInnovationStudioShellComponent,\n    RxUserMessagesComponent,\n    RxUserMessageModalComponent,\n    DevelopmentModeSelectorComponent,\n    FeedbackDialogComponent,\n    GainsightOptInComponent\n  ],\n  exports: [RxShellComponent, RxInnovationStudioShellComponent],\n  providers: [RxUserMessageDataPageService, RxUserMessageService]\n})\nexport class RxShellModule {}\n","import { IPlainObject } from '@helix/platform/shared/api';\n\nexport enum RxApplicationContext {\n  Runtime = 'runtime',\n  Designtime = 'designtime'\n}\n\nexport interface IGainsightSettings {\n  enableGainsight: boolean;\n  loadGainsightFromBmcIt: boolean;\n  useAdaptRadar: boolean;\n  deploymentType: string;\n  environmentType: string;\n}\n\nexport interface IViewGlobalContextMapping {\n  viewName: string;\n  globalContext: IPlainObject;\n  default: boolean;\n}\n\nexport interface IGainsightConfiguration {\n  company: string;\n  companyId: string;\n  hashedUserId: string;\n  displayBanner: boolean;\n  productTag: string;\n  settings: IGainsightSettings;\n  viewMapping: IViewGlobalContextMapping[];\n}\n\nexport interface IGainsightUserPreferences {\n  trackUsage: boolean;\n  productUpdates: boolean;\n  guidedTours: boolean;\n  surveys: boolean;\n  onboardingBot: boolean;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RxUserAvailabilityComponent } from './user-availability.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FormsModule } from '@angular/forms';\nimport { AdaptRxCheckboxModule } from '@bmc-ux/adapt-angular';\n\n@NgModule({\n  declarations: [RxUserAvailabilityComponent],\n  imports: [CommonModule, TranslateModule, FormsModule, AdaptRxCheckboxModule],\n  entryComponents: [RxUserAvailabilityComponent]\n})\nexport class RxUserAvailabilityModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { RxUserPreferencesComponent } from './user-preferences.component';\nimport { AdaptRxSelectModule } from '@bmc-ux/adapt-angular';\nimport { FormsModule } from '@angular/forms';\nimport { RxLineLoaderModule } from '@helix/platform/ui-kit';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, TranslateModule, RxLineLoaderModule, AdaptRxSelectModule],\n  declarations: [RxUserPreferencesComponent],\n  entryComponents: [RxUserPreferencesComponent]\n})\nexport class RxUserPreferencesModule {}\n","import { Component, Injector, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { ActiveModalRef, DismissReasons } from '@bmc-ux/adapt-angular';\nimport { IPlainObject } from '@helix/platform/shared/api';\nimport { RxModalClass } from '@helix/platform/ui-kit';\nimport { cloneDeep, findIndex, isNumber } from 'lodash';\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\nimport { IWizardApi, IWizardConfig, IWizardStep } from './wizard.types';\n\n@Component({\n  selector: 'rx-wizard-modal',\n  templateUrl: './wizard-modal.component.html',\n  styleUrls: ['./wizard-modal.component.scss']\n})\nexport class RxWizardModalComponent extends RxModalClass implements OnInit, OnDestroy {\n  constructor(public activeModalRef: ActiveModalRef, protected injector: Injector) {\n    super(activeModalRef, injector);\n  }\n\n  @ViewChild('adaptTabset', { static: true })\n  adaptTabset;\n\n  activeTabIndex = 0;\n  config: IWizardConfig<any> = this.activeModalRef.getData();\n\n  isWizardCompleted = false;\n\n  private nextSubject: Subject<string> = new Subject();\n  next$ = this.nextSubject.asObservable();\n\n  api: IWizardApi = {\n    isCurrentStepActive: (stepId: string): boolean => {\n      return findIndex(this.config.options.steps, { id: stepId }) === this.activeTabIndex;\n    },\n\n    addStep: (step: IWizardStep, index?: number): void => {\n      if (isNumber(index)) {\n        this.config.options.steps.splice(index, 0, step);\n\n        if (index <= this.activeTabIndex) {\n          setTimeout(() => this.next());\n        }\n      } else {\n        this.config.options.steps.push(step);\n      }\n    },\n\n    complete: (): void => {\n      this.isWizardDirty = false;\n      this.isWizardCompleted = true;\n    },\n\n    disableNextButton: (): void => {\n      this.config.options.isNextButtonDisabled = true;\n    },\n\n    enableNextButton: (): void => {\n      this.config.options.isNextButtonDisabled = false;\n    },\n\n    disablePreviousButton: (): void => {\n      this.config.options.isPreviousButtonDisabled = true;\n    },\n\n    enablePreviousButton: (): void => {\n      this.config.options.isPreviousButtonDisabled = false;\n    },\n\n    disableFinishButton: (): void => {\n      this.config.options.isFinishButtonDisabled = true;\n    },\n\n    enableFinishButton: (): void => {\n      this.config.options.isFinishButtonDisabled = false;\n    },\n\n    getSteps(): IWizardStep[] {\n      return cloneDeep(this.config.options.steps);\n    },\n\n    markPristine: (): void => {\n      this.isWizardDirty = false;\n    },\n\n    markDirty: (): void => {\n      this.isWizardDirty = true;\n    },\n\n    removeNextSteps: (startIndex: number): void => {\n      this.config.options.steps.splice(startIndex);\n    },\n\n    removeStep: (index: number): void => {\n      this.config.options.steps.splice(index, 1);\n    },\n\n    renew: (): void => {\n      this.isWizardCompleted = false;\n    },\n\n    setFinishButtonLabel: (label: string): void => {\n      this.config.options.finishButtonLabel = label;\n    },\n\n    updateContext: (context: IPlainObject, markDirty = true): void => {\n      Object.assign(this.config.context, context);\n\n      this.contextSubject$.next(this.config.context);\n\n      if (markDirty) {\n        this.api.markDirty();\n      }\n    }\n  };\n\n  private contextSubject$: BehaviorSubject<IPlainObject> = new BehaviorSubject<IPlainObject>(this.config.context);\n  private stepsSubject$: BehaviorSubject<IPlainObject> = new BehaviorSubject<IPlainObject>(this.config.options.steps);\n  private tabIndexSubject$: BehaviorSubject<number> = new BehaviorSubject<number>(this.activeTabIndex);\n  private isWizardDirty = false;\n\n  context$: Observable<IPlainObject> = this.contextSubject$.asObservable();\n  steps$: Observable<IPlainObject> = this.stepsSubject$.asObservable();\n  tabIndex$: Observable<number> = this.tabIndexSubject$.asObservable();\n\n  isDirty(): boolean {\n    return this.isWizardDirty;\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n\n    this.config.options.isPreviousButtonDisabled = true;\n    this.config.options.isNextButtonDisabled = false;\n    this.config.options.isFinishButtonDisabled = false;\n\n    this.config.options.steps[this.activeTabIndex].isActivated = true;\n  }\n\n  tabChanged({ index }): void {\n    this.activeTabIndex = index;\n    this.config.options.steps[this.activeTabIndex].isActivated = true;\n\n    this.config.options.isPreviousButtonDisabled = index === 0;\n    this.config.options.isNextButtonDisabled = index === this.config.options.steps.length - 1;\n\n    this.tabIndexSubject$.next(this.activeTabIndex);\n    this.stepsSubject$.next(this.config.options.steps);\n  }\n\n  back(): void {\n    this.adaptTabset.setActiveTab(this.activeTabIndex - 1, true, null);\n  }\n\n  next(force = false): void {\n    if (!force) {\n      this.nextSubject.next(this.config.options.steps[this.activeTabIndex].id);\n    }\n\n    if (force || this.config.options.steps[this.activeTabIndex].handlesNext !== true) {\n      this.adaptTabset.setActiveTab(this.activeTabIndex + 1, true, null);\n    }\n  }\n\n  finish(): void {\n    this.activeModalRef.close(this.config.context);\n  }\n\n  close(): void {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n\n  ngOnDestroy(): void {\n    this.nextSubject.complete();\n    this.contextSubject$.complete();\n    this.stepsSubject$.complete();\n    this.tabIndexSubject$.complete();\n  }\n}\n","<div class=\"modal-header\">\n  <h5 class=\"modal-title\">{{ config.options.title }}</h5>\n\n  <button\n    class=\"close dp-close\"\n    [attr.aria-label]=\"'com.bmc.arsys.rx.client.common.close.label' | translate\"\n    type=\"button\"\n    (click)=\"close()\"\n  ></button>\n</div>\n\n<div class=\"alert alert-info mb-0\" role=\"alert\" *ngIf=\"config.options.notificationMessage\">\n  <div class=\"alert-content\">\n    {{ config.options.notificationMessage }}\n  </div>\n</div>\n\n<div class=\"modal-body\">\n  <adapt-tabset\n    #adaptTabset\n    [type]=\"'stacked'\"\n    [tab-active]=\"activeTabIndex\"\n    (tab-active-changed)=\"tabChanged($event)\"\n    class=\"h-100\"\n    customClassTabList=\"stacked-tab-list\"\n  >\n    <adapt-tab-panel *ngFor=\"let step of config.options.steps\" [adapt-tab-title]=\"step.name\" [disabled]=\"true\">\n      <rx-dynamic-component-renderer\n        *ngIf=\"step.isActivated\"\n        [componentFactory]=\"step.componentFactory\"\n        [context]=\"config.context\"\n        [options]=\"step.options\"\n      ></rx-dynamic-component-renderer>\n    </adapt-tab-panel>\n  </adapt-tabset>\n</div>\n\n<div class=\"modal-footer\">\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"secondary\"\n    *ngIf=\"!isWizardCompleted\"\n    (click)=\"close()\"\n    rx-id=\"cancel-button\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"secondary\"\n    class=\"mr-2 d-icon-left-angle_left\"\n    [disabled]=\"config.options.isPreviousButtonDisabled\"\n    (click)=\"back()\"\n    rx-id=\"previous-button\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.previous-step.label' | translate }}\n  </button>\n\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"primary\"\n    class=\"mr-2 d-icon-right-angle_right\"\n    *ngIf=\"activeTabIndex < config.options.steps.length - 1\"\n    [disabled]=\"config.options.isNextButtonDisabled\"\n    (click)=\"next()\"\n    rx-id=\"next-button\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.next-step.label' | translate }}\n  </button>\n\n  <button\n    adapt-button\n    type=\"button\"\n    btn-type=\"primary\"\n    *ngIf=\"(config.options.allowFinish && activeTabIndex === config.options.steps.length - 1) || isWizardCompleted\"\n    [disabled]=\"config.options.isFinishButtonDisabled\"\n    (click)=\"finish()\"\n    rx-id=\"finish-button\"\n  >\n    {{ config.options.finishButtonLabel }}\n  </button>\n</div>\n","import { Injectable } from '@angular/core';\nimport { RxWizardModalComponent } from './wizard-modal.component';\nimport { IWizardConfig } from './wizard.types';\nimport { RxModalService } from '@helix/platform/ui-kit';\nimport { noop } from 'lodash';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxWizardService {\n  constructor(private rxModalService: RxModalService) {}\n\n  open<TContext>(config: IWizardConfig<TContext>): Promise<TContext> {\n    return this.rxModalService\n      .openModal({\n        content: RxWizardModalComponent,\n        data: {\n          ...config\n        }\n      })\n      .catch(noop);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AdaptAlertModule, AdaptButtonModule, AdaptModalModule, AdaptTabsModule } from '@bmc-ux/adapt-angular';\nimport { RxDynamicComponentRendererModule } from '../dynamic-component-renderer/dynamic-component-renderer.module';\nimport { RxWizardService } from './wizard.service';\nimport { RxWizardModalComponent } from './wizard-modal.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    AdaptButtonModule,\n    AdaptModalModule,\n    AdaptAlertModule,\n    AdaptTabsModule,\n    TranslateModule,\n    RxDynamicComponentRendererModule\n  ],\n  declarations: [RxWizardModalComponent],\n  entryComponents: [RxWizardModalComponent],\n  exports: [RxWizardModalComponent],\n  providers: [RxWizardService]\n})\nexport class RxWizardModule {}\n","import { Component, Injector, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { ActiveModalRef, DismissReasons } from '@bmc-ux/adapt-angular';\nimport { RxModalClass } from '@helix/platform/ui-kit';\nimport { RxGuidService } from '@helix/platform/utils';\nimport { TranslateService } from '@ngx-translate/core';\nimport { filter, find, forEach, lowerCase, map, max, some, trim } from 'lodash';\nimport { ISelectionOption } from './selection-field-options.interface';\n\n@Component({\n  selector: 'rx-selection-field-options-editor',\n  templateUrl: './selection-field-options-editor.component.html',\n  styleUrls: ['./selection-field-options-editor.component.scss']\n})\nexport class SelectionFieldOptionsEditorComponent extends RxModalClass {\n  @ViewChild('optionSelectionForm')\n  optionSelectionForm: NgForm;\n\n  isReadOnly = this.activeModalRef.getData().isReadOnly;\n\n  selectionOptions: ISelectionOption[] = map(\n    this.activeModalRef.getData().existingOptions,\n    (option: ISelectionOption) => ({\n      name: option.name,\n      id: option.id,\n      stringKey: option.stringKey,\n      isOpen: false\n    })\n  );\n\n  private duplicateOptionNameMsg = this.translateService.instant(\n    'com.bmc.arsys.rx.client.selection-field-options-editor.duplicate-option-name.error'\n  );\n\n  private duplicateOptionIdMsg = this.translateService.instant(\n    'com.bmc.arsys.rx.client.designer.validation.duplicate-value.message'\n  );\n\n  constructor(\n    private activeModalRef: ActiveModalRef,\n    protected injector: Injector,\n    private rxGuidService: RxGuidService,\n    private translateService: TranslateService\n  ) {\n    super(activeModalRef, injector);\n  }\n\n  isDirty(): boolean {\n    return this.optionSelectionForm?.dirty;\n  }\n\n  saveOptions(): void {\n    const optionNamesById = {};\n    const optionKeysById = {};\n\n    forEach(this.selectionOptions, (option: ISelectionOption) => {\n      optionNamesById[option.id] = option.name;\n    });\n\n    forEach(this.selectionOptions, (option: ISelectionOption) => {\n      optionKeysById[option.id] = option.stringKey;\n    });\n\n    this.activeModalRef.close({\n      optionNamesById,\n      optionLabelsById: optionKeysById\n    });\n  }\n\n  addOption(): void {\n    let name;\n    let counter = 0;\n    let existingOption;\n\n    const newOptionLabel = this.translateService.instant(\n      'com.bmc.arsys.rx.client.selection-field-options-editor.new-option.label'\n    );\n\n    do {\n      name = counter === 0 ? newOptionLabel : `${newOptionLabel} ` + counter;\n      counter++;\n      existingOption = find(this.selectionOptions, { name });\n    } while (existingOption);\n\n    this.selectionOptions.push({\n      name,\n      id: this.selectionOptions.length\n        ? max(this.selectionOptions.map((option: ISelectionOption) => option.id)) + 10\n        : 0,\n      stringKey: this.rxGuidService.generate(),\n      isOpen: true\n    });\n\n    this.optionSelectionForm.form.markAsDirty();\n  }\n\n  removeOption(index: number): void {\n    this.selectionOptions.splice(index, 1);\n    this.optionSelectionForm.form.markAsDirty();\n    this.validateIdAndNames('name');\n    this.validateIdAndNames('id');\n  }\n\n  expandAll(): void {\n    this.selectionOptions.forEach((option: ISelectionOption) => (option.isOpen = true));\n  }\n\n  collapseAll(): void {\n    this.selectionOptions.forEach((option: ISelectionOption) => (option.isOpen = false));\n  }\n\n  cancel(): void {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n\n  private getDuplicateOptions(type: 'name' | 'id') {\n    return filter(\n      this.selectionOptions,\n      (option: ISelectionOption) =>\n        filter(this.selectionOptions, (item: ISelectionOption) =>\n          type === 'name' ? lowerCase(item.name) === trim(lowerCase(option.name)) : item.id === option.id\n        ).length > 1\n    );\n  }\n\n  validateIdAndNames(type: 'name' | 'id'): void {\n    if (this.optionSelectionForm.invalid) {\n      return;\n    }\n\n    if (type === 'name') {\n      forEach(this.selectionOptions, (option: ISelectionOption) => {\n        option.invalidNameError = null;\n      });\n\n      this.getDuplicateOptions(type).forEach((option) => {\n        option.invalidNameError = this.duplicateOptionNameMsg;\n      });\n    }\n\n    if (type === 'id') {\n      forEach(this.selectionOptions, (option: ISelectionOption) => {\n        option.invalidIdError = null;\n      });\n\n      this.getDuplicateOptions(type).forEach((option) => {\n        option.invalidIdError = this.duplicateOptionIdMsg;\n      });\n    }\n  }\n\n  isSaveButtonDisabled(): boolean {\n    return (\n      !this.optionSelectionForm?.dirty ||\n      this.optionSelectionForm?.invalid ||\n      some(this.selectionOptions, (option: ISelectionOption) => option.invalidNameError || option.invalidIdError)\n    );\n  }\n\n  trackByIndex(index: number): number {\n    return index;\n  }\n}\n","<div class=\"designer-modal-body modal-body d-flex mh-100 flex-column\">\n  <div class=\"text-right btn-group\">\n    <button\n      type=\"button\"\n      adapt-button\n      btn-type=\"tertiary\"\n      rx-id=\"add-option-button\"\n      class=\"d-icon-left-plus_circle float-left px-0\"\n      (click)=\"addOption()\"\n      *ngIf=\"!isReadOnly\"\n    >\n      {{ 'com.bmc.arsys.rx.client.selection-field-options-editor.add-option.label' | translate }}\n    </button>\n\n    <button type=\"button\" adapt-button btn-type=\"tertiary\" rx-id=\"expand-button\" (click)=\"expandAll()\" class=\"ml-auto\">\n      {{ 'com.bmc.arsys.rx.client.common.expand-all.label' | translate }}\n    </button>\n\n    <button type=\"button\" adapt-button btn-type=\"tertiary\" rx-id=\"collapse-button\" class=\"pr-0\" (click)=\"collapseAll()\">\n      {{ 'com.bmc.arsys.rx.client.common.collapse-all.label' | translate }}\n    </button>\n  </div>\n\n  <div class=\"designer-modal-accordion-wrapper\">\n    <form #optionSelectionForm=\"ngForm\">\n      <adapt-accordion [multiselect]=\"true\" class=\"d-block\">\n        <div\n          *ngFor=\"let option of selectionOptions; let $index = index; trackBy: trackByIndex\"\n          class=\"designer-modal-accordion-content\"\n        >\n          <adapt-accordion-tab\n            class=\"d-block\"\n            [isOpen]=\"option.isOpen\"\n            (open)=\"option.isOpen = true\"\n            (close)=\"option.isOpen = false\"\n          >\n            <div class=\"card-title-text w-100\">\n              <div class=\"designer-modal-card-title-content\">\n                <div class=\"left-header-block pl-0\">\n                  <div class=\"rx-ellipsis\" [title]=\"option.name\" rx-id=\"card-title\">\n                    {{ option.name }}\n                  </div>\n                </div>\n\n                <div class=\"right-header-block\">\n                  <button\n                    class=\"d-icon-left-cross_adapt py-0 pr-3 btn btn-sm\"\n                    adapt-button\n                    size=\"small\"\n                    type=\"button\"\n                    (click)=\"$event.stopPropagation(); removeOption($index)\"\n                    *ngIf=\"!isReadOnly\"\n                  >\n                    {{ 'com.bmc.arsys.rx.client.common.remove.label' | translate }}\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"d-flex\">\n              <div class=\"w-50 pr-2\">\n                <adapt-rx-textfield\n                  maxlength=\"254\"\n                  rx-id=\"option-name\"\n                  label=\"{{ 'com.bmc.arsys.rx.client.common.name.label' | translate }}\"\n                  required=\"true\"\n                  [(ngModel)]=\"option.name\"\n                  [autofocus]=\"true\"\n                  name=\"{{ 'name' + $index }}\"\n                  (ngModelChange)=\"validateIdAndNames('name')\"\n                  [disabled]=\"isReadOnly\"\n                >\n                </adapt-rx-textfield>\n\n                <adapt-alert\n                  *ngIf=\"option.invalidNameError\"\n                  [config]=\"{\n                    variant: 'danger',\n                    dismissible: false,\n                    type: 'inline',\n                    content: option.invalidNameError\n                  }\"\n                ></adapt-alert>\n              </div>\n\n              <div class=\"w-50 pl-2\">\n                <adapt-rx-counter\n                  rx-id=\"option-name\"\n                  label=\"{{ 'com.bmc.arsys.rx.client.selection-field-options-editor.integer-value.label' | translate }}\"\n                  required=\"true\"\n                  [(ngModel)]=\"option.id\"\n                  name=\"{{ 'integerValue' + $index }}\"\n                  (ngModelChange)=\"validateIdAndNames('id')\"\n                  [min]=\"0\"\n                  [max]=\"2147483647\"\n                  [adaptMax]=\"2147483647\"\n                  [adaptMin]=\"0\"\n                  [step]=\"1\"\n                  adaptIntegerNumber\n                  [disabled]=\"isReadOnly\"\n                >\n                </adapt-rx-counter>\n\n                <adapt-alert\n                  *ngIf=\"option.invalidIdError\"\n                  [config]=\"{\n                    variant: 'danger',\n                    dismissible: false,\n                    type: 'inline',\n                    content: option.invalidIdError\n                  }\"\n                ></adapt-alert>\n              </div>\n            </div>\n          </adapt-accordion-tab>\n        </div>\n      </adapt-accordion>\n    </form>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <div *ngIf=\"!isReadOnly\">\n    <button\n      type=\"button\"\n      adapt-button\n      btn-type=\"primary\"\n      rx-id=\"save-button\"\n      (click)=\"saveOptions()\"\n      [disabled]=\"isSaveButtonDisabled()\"\n    >\n      {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\n    </button>\n\n    <button type=\"button\" adapt-button btn-type=\"secondary\" rx-id=\"cancel-button\" (click)=\"cancel()\">\n      {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n    </button>\n  </div>\n\n  <div *ngIf=\"isReadOnly\">\n    <button type=\"button\" adapt-button btn-type=\"secondary\" rx-id=\"close-button\" (click)=\"cancel()\">\n      {{ 'com.bmc.arsys.rx.client.common.close.label' | translate }}\n    </button>\n  </div>\n</div>\n","import { Component, Input, ViewChild } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { AdaptButtonComponent, RxSelectionChangeEvent } from '@bmc-ux/adapt-angular';\nimport { IFormControlComponent, IFormFocusable } from '@helix/platform/shared/api';\nimport { RxModalService } from '@helix/platform/ui-kit';\nimport { TranslateService } from '@ngx-translate/core';\nimport { find, forEach, isNil, map, noop, pullAllBy } from 'lodash';\nimport { ValueAccessor } from '../form-builder';\nimport { ISelectOption } from '../form-controls/select-form-control';\nimport { SelectionFieldOptionsEditorComponent } from './selection-field-options-editor.component';\nimport { ISelectionFieldOptionProperties, ISelectionOption } from './selection-field-options.interface';\n\n@Component({\n  selector: 'rx-selection-field-options',\n  templateUrl: './selection-field-options.component.html',\n  styleUrls: ['./selection-field-options.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: SelectionFieldOptionsComponent,\n      multi: true\n    }\n  ]\n})\nexport class SelectionFieldOptionsComponent\n  extends ValueAccessor<ISelectionFieldOptionProperties>\n  implements IFormControlComponent, IFormFocusable\n{\n  @Input()\n  options: ISelectionFieldOptionProperties;\n\n  @ViewChild(AdaptButtonComponent)\n  adaptButtonComponent: AdaptButtonComponent;\n\n  currentOptions: ISelectionOption[] = [];\n  defaultOption: ISelectionOption[] = [];\n\n  constructor(private rxModalService: RxModalService, private translateService: TranslateService) {\n    super();\n  }\n\n  onWriteValue(currentOptionProperties: ISelectionFieldOptionProperties): void {\n    const currentOptionsById = currentOptionProperties?.optionNamesById || this.options.optionNamesById;\n    const currentLabelsById = currentOptionProperties?.optionLabelsById || this.options.optionLabelsById;\n\n    this.currentOptions = map(currentOptionsById, (name, id) => ({\n      name,\n      id: Number(id),\n      stringKey: currentLabelsById[id]\n    }));\n\n    this.defaultOption = !isNil(currentOptionProperties?.defaultValue)\n      ? [find(this.currentOptions, { id: Number(currentOptionProperties.defaultValue) })]\n      : [];\n  }\n\n  openOptionsEditor(): void {\n    this.rxModalService\n      .openModal({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.selection-field-options-editor.title'),\n        content: SelectionFieldOptionsEditorComponent,\n        data: {\n          existingOptions: this.currentOptions,\n          isReadOnly: this.options.isReadOnly\n        }\n      })\n      .then((response: Omit<ISelectionFieldOptionProperties, 'defaultValue'>) => {\n        this.value = {\n          defaultValue: this.value?.defaultValue,\n          optionNamesById: response.optionNamesById,\n          optionLabelsById: response.optionLabelsById\n        };\n\n        setTimeout(() => {\n          this.validateDefaultValue();\n        });\n      })\n      .catch(noop);\n  }\n\n  private fetchValue(options: ISelectionOption[]): ISelectionFieldOptionProperties {\n    const optionNamesById = {};\n    const optionKeysById = {};\n\n    forEach(options, (option: ISelectionOption) => {\n      optionNamesById[option.id] = option.name;\n    });\n\n    forEach(options, (option: ISelectionOption) => {\n      optionKeysById[option.id] = option.stringKey;\n    });\n\n    return { defaultValue: this.value?.defaultValue, optionNamesById, optionLabelsById: optionKeysById };\n  }\n\n  private validateDefaultValue(): void {\n    if (!isNil(this.value?.defaultValue) && !find(this.currentOptions, { id: this.value.defaultValue })) {\n      this.defaultOption = [];\n\n      this.value = {\n        ...this.value,\n        defaultValue: null\n      };\n    }\n  }\n\n  onSelectionChange(event: RxSelectionChangeEvent): void {\n    this.value = {\n      ...this.value,\n      defaultValue: event.options[0]?.id ?? null\n    };\n  }\n\n  focus(): void {\n    this.adaptButtonComponent.elem.nativeElement.focus();\n    this.openOptionsEditor();\n  }\n\n  optionFormatter(option: ISelectOption): string {\n    return option.name;\n  }\n\n  removeOption(option: ISelectionOption): void {\n    pullAllBy(this.currentOptions, [option], 'id');\n    this.validateDefaultValue();\n    this.value = this.fetchValue(this.currentOptions);\n  }\n}\n","<div class=\"d-flex\">\n  <adapt-rx-control-label\n    label=\"{{ 'com.bmc.arsys.rx.client.common.options.label' | translate }}\"\n    [showRequiredLabel]=\"true\"\n  >\n  </adapt-rx-control-label>\n\n  <adapt-button btn-type=\"tertiary\" class=\"d-icon-left-pencil p-0 ml-auto\" (click)=\"openOptionsEditor()\"\n    >{{ 'com.bmc.arsys.rx.client.common.edit.label' | translate }}\n  </adapt-button>\n</div>\n\n<div class=\"form-group tags-wrapper\">\n  <adapt-tag\n    [removable]=\"true\"\n    (remove)=\"removeOption(option)\"\n    *ngFor=\"let option of currentOptions\"\n    [type]=\"'active'\"\n    [disabled]=\"options.isReadOnly\"\n  >\n    {{ option.name }}</adapt-tag\n  >\n\n  <div class=\"fade-line position-absolute w-100 text-center\">\n    <span class=\"d-icon-ellipsis_horizontal\"></span>\n  </div>\n</div>\n\n<adapt-rx-select\n  label=\"{{ 'com.bmc.arsys.rx.client.common.default-value.label' | translate }}\"\n  [options]=\"currentOptions\"\n  (onSelectionChange)=\"onSelectionChange($event)\"\n  [(ngModel)]=\"defaultOption\"\n  [optionFormatter]=\"optionFormatter\"\n  [emptyOption]=\"true\"\n  *ngIf=\"!options.hideDefaultValue\"\n  [disabled]=\"options.isReadOnly\"\n>\n</adapt-rx-select>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport {\n  AdaptAccordionModule,\n  AdaptAlertModule,\n  AdaptButtonModule,\n  AdaptRxCounterModule,\n  AdaptRxLabelModule,\n  AdaptRxSelectModule,\n  AdaptRxTextfieldModule,\n  AdaptRxValidatorsModule,\n  AdaptTagModule\n} from '@bmc-ux/adapt-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { SelectionFieldOptionsEditorComponent } from './selection-field-options-editor.component';\nimport { SelectionFieldOptionsComponent } from './selection-field-options.component';\n\n@NgModule({\n  imports: [\n    AdaptAccordionModule,\n    AdaptButtonModule,\n    AdaptRxCounterModule,\n    AdaptRxLabelModule,\n    AdaptRxSelectModule,\n    AdaptRxTextfieldModule,\n    AdaptTagModule,\n    CommonModule,\n    FormsModule,\n    TranslateModule,\n    AdaptAlertModule,\n    AdaptRxValidatorsModule\n  ],\n  declarations: [SelectionFieldOptionsComponent, SelectionFieldOptionsEditorComponent],\n  exports: [SelectionFieldOptionsComponent, SelectionFieldOptionsEditorComponent],\n  entryComponents: [SelectionFieldOptionsComponent, SelectionFieldOptionsEditorComponent]\n})\nexport class RxSelectionFieldOptionsModule {}\n","import { Component } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { forkJoin } from 'rxjs';\nimport {\n  IBundleDescriptor,\n  RX_APPLICATION,\n  RxAngularApplicationService,\n  RxCurrentUserService,\n  RxGlobalCacheService\n} from '@helix/platform/shared/api';\nimport { map, switchMap, tap } from 'rxjs/operators';\nimport { filter, remove, sortBy } from 'lodash';\n\n@Component({\n  selector: 'rx-unknown-application',\n  templateUrl: './unknown-application.component.html',\n  styleUrls: ['./unknown-application.component.scss']\n})\nexport class RxUnknownApplicationComponent {\n  applications$ = this.rxGlobalCacheService.getBundleDescriptors().pipe(\n    switchMap((bundleDescriptors: IBundleDescriptor[]) => {\n      const applicationBundleDescriptors = filter(bundleDescriptors, { isApplication: true, isLicensed: true });\n\n      remove(applicationBundleDescriptors, { id: RX_APPLICATION.settingsBundleId });\n\n      if (!this.rxCurrentUserService.isAdministrator()) {\n        remove(applicationBundleDescriptors, { id: RX_APPLICATION.dataloadBundleId });\n      }\n\n      if (!this.rxCurrentUserService.isAdministrator() && !this.rxCurrentUserService.isBusinessAnalyst()) {\n        remove(applicationBundleDescriptors, { id: RX_APPLICATION.innovationStudioBundleId });\n      }\n\n      const applications = sortBy(\n        applicationBundleDescriptors,\n        (bundleDescriptor: IBundleDescriptor) => bundleDescriptor.friendlyName\n      ).map((app: IBundleDescriptor) =>\n        this.rxAngularApplicationService.isAngularJsApplication(app.id).pipe(\n          map((isAngularJsApplication: boolean) => {\n            let url: string;\n\n            if (app.hasCustomEntryPoint && app.id !== RX_APPLICATION.innovationStudioBundleId) {\n              url = `/${app.id}/index.html`;\n            } else if (isAngularJsApplication) {\n              url = `/innovationsuite/index.html#/${app.id}`;\n            } else {\n              url = `/helix/index.html#/${app.id}`;\n            }\n\n            return {\n              id: app.id,\n              friendlyName: app.friendlyName,\n              url\n            };\n          })\n        )\n      );\n\n      return forkJoin(applications);\n    }),\n    tap(() => {\n      this.title.setTitle('Helix');\n      this.rxGlobalCacheService.applicationId = 'unknown-application';\n    })\n  );\n\n  constructor(\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxCurrentUserService: RxCurrentUserService,\n    private rxAngularApplicationService: RxAngularApplicationService,\n    private title: Title\n  ) {}\n}\n","<h3>\n  The page you are trying to reach does not exist. Please open one of the applications below and bookmark it for future\n  reference.\n</h3>\n<ul>\n  <li *ngFor=\"let app of applications$ | async\">\n    <a [href]=\"app.url\">{{ app.friendlyName }}</a>\n  </li>\n</ul>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RxUnknownApplicationComponent } from './unknown-application.component';\n\n@NgModule({\n  declarations: [RxUnknownApplicationComponent],\n  imports: [CommonModule],\n  exports: [RxUnknownApplicationComponent]\n})\nexport class RxUnknownApplicationModule {}\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\nimport { IFieldDefinition, RX_RECORD_DEFINITION, RxLocaleService } from '@helix/platform/record/api';\nimport { ActiveModalRef, DismissReasons } from '@bmc-ux/adapt-angular';\nimport { flow, mapValues, reject } from 'lodash';\nimport { IPlainObject, RxLocalizationService } from '@helix/platform/shared/api';\nimport { ILocalizedCharacterFieldLocale } from './localized-character-field-value-modal.interface';\nimport { Subscription } from 'rxjs';\nimport { RxModalClass } from '@helix/platform/ui-kit';\nimport { NgForm } from '@angular/forms';\n\n@Component({\n  selector: 'rx-localized-character-field-value-modal',\n  templateUrl: './localized-character-field-value-modal.component.html',\n  styleUrls: ['./localized-character-field-value-modal.component.scss']\n})\nexport class LocalizedCharacterFieldValueModalComponent extends RxModalClass implements OnInit {\n  @ViewChild('localeForm')\n  localeForm: NgForm;\n\n  defaultLocale: ILocalizedCharacterFieldLocale;\n  currentLocale: ILocalizedCharacterFieldLocale;\n  gridLocales: ILocalizedCharacterFieldLocale[];\n  maxLength: number;\n  isCurrentLocaleSupported = true;\n  getLocalesSubscription: Subscription;\n  valueByLocale: IPlainObject;\n  data: IPlainObject = this.activeModalRef.getData();\n  locales: ILocalizedCharacterFieldLocale[];\n  isReadOnly = this.data.isReadOnly;\n\n  private fieldDefinition: IFieldDefinition;\n  private currentLocaleCode: string;\n\n  constructor(\n    private activeModalRef: ActiveModalRef,\n    private rxLocaleService: RxLocaleService,\n    private rxLocalizationService: RxLocalizationService,\n    protected injector: Injector\n  ) {\n    super(activeModalRef, injector);\n  }\n\n  isDirty(): boolean {\n    return this.localeForm.dirty;\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.init();\n  }\n\n  init(): void {\n    this.currentLocaleCode = this.rxLocalizationService.currentLocale;\n\n    this.valueByLocale = this.data.valueByLocale || {};\n    this.fieldDefinition = this.data.fieldDefinition || {};\n    this.maxLength = this.fieldDefinition.maxLength || null;\n\n    this.getLocalesSubscription = this.rxLocaleService.getLocales().subscribe(({ data }: any) => {\n      const browserLocale = {\n        name: 'Browser - Locale',\n        code: this.currentLocaleCode,\n        value: this.valueByLocale[this.currentLocaleCode]\n      };\n\n      this.locales = data.map((locale) => {\n        const localeCode = locale[RX_RECORD_DEFINITION.supportedSystemLocales.codeFieldId];\n\n        return {\n          name: locale[RX_RECORD_DEFINITION.supportedSystemLocales.nameFieldId],\n          code: localeCode,\n          value: this.valueByLocale[localeCode] || null\n        };\n      });\n\n      this.defaultLocale = {\n        name: 'English - United States',\n        code: 'en-US',\n        value: this.valueByLocale['en-US']\n      };\n\n      this.currentLocale = this.locales.find((locale) => {\n        return locale.code.toLowerCase() === this.currentLocaleCode.toLowerCase();\n      });\n\n      if (!this.currentLocale || this.currentLocale.code === this.defaultLocale.code) {\n        this.currentLocale = browserLocale;\n        this.isCurrentLocaleSupported = false;\n      }\n\n      this.gridLocales = flow(\n        (locales) => reject(locales, { code: this.defaultLocale.code }),\n        (locales) =>\n          reject(locales, (locale) => {\n            return !this.data.hideCurrentLocale && locale.code === this.currentLocale.code;\n          })\n      )(this.locales);\n    });\n  }\n\n  ok(): void {\n    if (this.isCurrentLocaleSupported) {\n      this.valueByLocale[this.currentLocale.code] = this.currentLocale.value;\n    }\n\n    this.activeModalRef.close({\n      currentLocaleValue:\n        (this.currentLocale.code === this.defaultLocale.code && this.valueByLocale[this.defaultLocale.code]) ||\n        this.valueByLocale[this.currentLocale.code] ||\n        this.valueByLocale[this.currentLocale.code.split('-')[0]] ||\n        this.valueByLocale[this.defaultLocale.code],\n      valueByLocale: mapValues(this.valueByLocale, (value) => value || null)\n    });\n  }\n\n  close(): void {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n}\n","<div class=\"modal-body\">\n  <form name=\"localeForm\" novalidate #localeForm=\"ngForm\">\n    <rx-busy-indicator [options]=\"{ busy: getLocalesSubscription }\"></rx-busy-indicator>\n\n    <div class=\"flex-container row\" *ngIf=\"!data.hideCurrentLocale && currentLocale\">\n      <div class=\"col-4\">\n        <adapt-rx-control-label\n          label=\"{{\n            'com.bmc.arsys.rx.client.view-components.localized-character-field.dialog.current-locale.label' | translate\n          }}\"\n        >\n        </adapt-rx-control-label>\n        <div class=\"rx-locale-name\" rx-id=\"current-locale-name\">{{ currentLocale?.name }}</div>\n      </div>\n\n      <div class=\"col-2\">\n        <adapt-rx-control-label\n          label=\"{{\n            'com.bmc.arsys.rx.client.view-components.localized-character-field.dialog.code.label' | translate\n          }}\"\n        >\n        </adapt-rx-control-label>\n        <div class=\"rx-locale-name\" rx-id=\"current-locale-code\">{{ currentLocale?.code }}</div>\n      </div>\n\n      <div class=\"col-6\">\n        <adapt-rx-control-label\n          label=\"{{\n            'com.bmc.arsys.rx.client.view-components.localized-character-field.dialog.value.label' | translate\n          }}\"\n          [tooltip]=\"{\n            iconName: 'question_circle_o',\n            content:\n              'com.bmc.arsys.rx.client.view-components.localized-character-field.dialog.value-for-current-locale.tooltip'\n              | translate,\n            placement: 'auto',\n            popoverMode: true\n          }\"\n        >\n        </adapt-rx-control-label>\n\n        <adapt-rx-textfield\n          name=\"current-locale\"\n          rx-id=\"current-locale-value\"\n          [disabled]=\"!isCurrentLocaleSupported || isReadOnly\"\n          [maxlength]=\"maxLength\"\n          [(ngModel)]=\"currentLocale.value\"\n          [ariaLabel]=\"\n            'com.bmc.arsys.rx.client.view-components.localized-character-field.dialog.value-for-current-locale.label'\n              | translate\n          \"\n        >\n        </adapt-rx-textfield>\n      </div>\n    </div>\n\n    <div class=\"flex-container\">\n      <div class=\"row\">\n        <div class=\"col-4\">\n          <adapt-rx-control-label\n            label=\"{{\n              'com.bmc.arsys.rx.client.view-components.localized-character-field.dialog.default-locale.label'\n                | translate\n            }}\"\n          >\n          </adapt-rx-control-label>\n          <div class=\"rx-locale-name\" rx-id=\"default-locale-name\">{{ defaultLocale?.name }}</div>\n        </div>\n\n        <div class=\"col-2\">\n          <adapt-rx-control-label\n            label=\"{{\n              'com.bmc.arsys.rx.client.view-components.localized-character-field.dialog.code.label' | translate\n            }}\"\n          >\n          </adapt-rx-control-label>\n\n          <div class=\"rx-locale-name\" rx-id=\"default-locale-code\">{{ defaultLocale?.code }}</div>\n        </div>\n\n        <div class=\"col-6\">\n          <adapt-rx-control-label\n            label=\"{{\n              'com.bmc.arsys.rx.client.view-components.localized-character-field.dialog.value.label' | translate\n            }}\"\n          >\n          </adapt-rx-control-label>\n\n          <adapt-rx-textfield\n            name=\"default-locale\"\n            rx-id=\"default-locale-value\"\n            [maxlength]=\"maxLength\"\n            [(ngModel)]=\"valueByLocale[defaultLocale?.code]\"\n            [disabled]=\"isReadOnly\"\n            [ariaLabel]=\"\n              'com.bmc.arsys.rx.client.view-components.localized-character-field.dialog.value-for-default-locale.label'\n                | translate\n            \"\n          >\n          </adapt-rx-textfield>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"rx-locale-table container\" *ngIf=\"gridLocales?.length > 0\">\n      <div class=\"rx-locale-table-row row\">\n        <div class=\"rx-locale-table-cell pl-0 col-4\">\n          <h6>\n            {{ 'com.bmc.arsys.rx.client.view-components.localized-character-field.dialog.locale.label' | translate }}*\n          </h6>\n        </div>\n\n        <div class=\"rx-locale-table-cell pl-2 col-2\">\n          <h6>\n            {{ 'com.bmc.arsys.rx.client.view-components.localized-character-field.dialog.code.label' | translate }}\n          </h6>\n        </div>\n\n        <div class=\"rx-locale-table-cell col-6\">\n          <h6>\n            {{\n              'com.bmc.arsys.rx.client.view-components.localized-character-field.dialog.localized-value.label'\n                | translate\n            }}\n          </h6>\n        </div>\n      </div>\n\n      <div class=\"rx-locale-table-row row\" *ngFor=\"let locale of gridLocales\">\n        <div class=\"rx-locale-table-cell pl-0 col-4\">{{ locale.name }}</div>\n        <div class=\"rx-locale-table-cell pl-2 col-2\">{{ locale.code }}</div>\n        <div class=\"rx-locale-table-cell pr-0 col-6\">\n          <adapt-rx-textfield\n            name=\"localized-value {{ locale.code }}\"\n            [maxlength]=\"maxLength\"\n            [(ngModel)]=\"valueByLocale[locale.code]\"\n            [disabled]=\"isReadOnly\"\n            [ariaLabel]=\"\n              'com.bmc.arsys.rx.client.view-components.localized-character-field.dialog.localized-value-for.label'\n                | translate: { locale: locale.name }\n            \"\n          >\n          </adapt-rx-textfield>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n\n<div class=\"modal-footer\">\n  <button\n    *ngIf=\"!isReadOnly\"\n    adapt-button\n    btn-type=\"primary\"\n    type=\"button\"\n    rx-id=\"save-button\"\n    [disabled]=\"localeForm.pristine || localeForm.invalid\"\n    (click)=\"ok()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\n  </button>\n\n  <button type=\"button\" adapt-button btn-type=\"secondary\" (click)=\"close()\" rx-id=\"cancel-button\">\n    {{ 'com.bmc.arsys.rx.client.common.close.label' | translate }}\n  </button>\n</div>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AdaptButtonModule, AdaptRxFormControlModule, AdaptRxTextfieldModule } from '@bmc-ux/adapt-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { LocalizedCharacterFieldValueModalComponent } from './localized-character-field-value-modal.component';\nimport { RxBusyIndicatorModule } from '@helix/platform/ui-kit';\n\n@NgModule({\n  imports: [\n    FormsModule,\n    CommonModule,\n    ReactiveFormsModule,\n    AdaptRxFormControlModule,\n    AdaptRxTextfieldModule,\n    AdaptButtonModule,\n    RxBusyIndicatorModule,\n    TranslateModule\n  ],\n  declarations: [LocalizedCharacterFieldValueModalComponent],\n  exports: [LocalizedCharacterFieldValueModalComponent]\n})\nexport class RxLocalizedCharacterFieldValueModalModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["Component","HostBinding","Input","CommonModule","RxBusyIndicatorModule","RxModalService","NgModule","EventEmitter","NgControl","NG_VALUE_ACCESSOR","AdaptButtonComponent","ElementRef","Output","ViewChildren","FormsModule","ReactiveFormsModule","AdaptRxFormControlModule","AdaptButtonModule","AdaptRxCheckboxModule","TranslateModule","AdaptPopoverModule","map","shareReplay","RX_RECORD_DEFINITION","filter","RX_BUNDLE","RX_VIEW_DEFINITION","Injectable","RxDefinitionPickerType","RxDefinitionPickerScope","Subject","ReplaySubject","throttle","first","takeUntil","get","find","switchMap","of","debounceTime","ViewChild","HostListener","AdaptHighlightModule","RxDefinitionModule","AdaptRxLabelModule","AdaptRxTextfieldModule","AdaptEmptyStateModule","AdaptDropdownModule","AdaptTooltipModule","RxBreadcrumbBarModule","FormControl","ChangeDetectionStrategy","AdaptAccordionModule","AdaptRxSearchModule","DragDropModule","ViewContainerRef","remove","RX_APPLICATION","sortBy","forkJoin","tap","DOCUMENT","Inject","ExpressionOperator","flow","reduce","isArray","trim","endsWith","includes","startWith","distinctUntilChanged","startsWith","noop","RX_THEMING","ExpressionParserToken","last","uniqueId","isEmpty","CKEditorComponent","_map","compact","DismissReasons","concat","concatMap","finalize","take","switchMapTo","EMPTY","throwError","RxError","findIndex","RxModalClass","NgModel","has","AdaptIconModule","AdaptModalModule","AdaptSearchModule","CKEditorModule","AdaptTreeModule","AdaptRxFeedbackModule","AdaptTypeaheadSubModule","Observable","OpenViewActionModalSize","isString","AssignmentExpressionListTargetFieldType","isUndefined","head","isNil","castArray","takeWhile","isEqual","RX_MODAL","RxNoWhitespaceValidatorModule","AdaptRxSelectModule","saveAs","AdaptRxUploaderModule","AdaptColorPickerModule","RX_NUMBER","AdaptRxCounterComponent","AdaptRxValidatorsModule","AdaptRxCounterModule","RX_OVERLAY","AdaptCheckbox2Module","RxDatetimePickerMode","moment","AdaptRxDatetimeModule","kebabCase","SimpleChange","FormBuilderEvent","forEach","isNull","AdaptButtonGroupComponent","AdaptButtonGroupModule","BehaviorSubject","combineLatest","fromEvent","UP_ARROW","DOWN_ARROW","LEFT_ARROW","RIGHT_ARROW","ENTER","withLatestFrom","isNumber","iconFontConfig","merge","RX_LEGACY_ICONS","AdaptRxTypeaheadComponent","AdaptRxTypeaheadModule","upperFirst","AdaptRxSwitchModule","AdaptTextFieldModule","isNaN","size","isObject","AdaptMetatagModule","AdaptTagModule","AdaptRxTextareaModule","MessageType","AdaptRxRadiobuttonModule","Directive","Validators","RxNotificationModule","AdaptModalService","SelectModelFormat","once","AdaptRxSelectComponent","RX_PERMISSION","pull","uniqBy","identity","cloneDeep","RxModalModule","AdaptSelectModule","NgForm","RxDirectivesModule","RxUniqueValidatorModule","AdaptAlertModule","keyBy","catchError","RouterModule","AdaptTableModule","AdaptRadarHostingType","AdaptRadarProductAreaName","iif","AdaptRadarSupportedProviders","AdaptRadarGainsightIdentifyActionName","keys","DataPage","Subscription","timer","set","TranslateService","RxComponentCanDeactivateGuard","RxAuthService","RxCurrentUserService","RxRecordInstanceService","RxGlobalCacheService","RxAngularApplicationService","RxSystemConfigurationService","RxFeatureService","AdaptTranslateService","Router","NavigationEnd","defaultIfEmpty","_filter","lowerCase","skip","Renderer2","RX_USER","NavigationStart","NEVER","NavigationCancel","NavigationError","isBoolean","from","RX_VIEW_ACTION","RX_SHELL","HttpParams","DevelopmentMode","BrowserModule","AdaptDockedPanelModule","AdaptCloseModule","AdaptRadarModule","AdaptAgreementModule","RxLineLoaderModule","AdaptBusyModule","AdaptNavigationModule","RxApplicationContext","AdaptTabsModule","max","some","pullAllBy","reject","mapValues"],"mappings":"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"}