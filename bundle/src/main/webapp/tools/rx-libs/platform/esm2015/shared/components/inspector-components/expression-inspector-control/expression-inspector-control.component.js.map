{"version":3,"file":"expression-inspector-control.component.js","sourceRoot":"","sources":["../../../../../../../../libs/platform/shared/components/inspector-components/expression-inspector-control/expression-inspector-control.component.ts","../../../../../../../../libs/platform/shared/components/inspector-components/expression-inspector-control/expression-inspector-control.component.html"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAoC,MAAM,eAAe,CAAC;AAC5E,OAAO,EAAe,iBAAiB,EAAE,SAAS,EAAE,MAAM,gBAAgB,CAAC;AAG3E,OAAO,EAAE,oBAAoB,EAAE,MAAM,8CAA8C,CAAC;AAEpF,OAAO,EAAE,8BAA8B,EAAE,MAAM,qBAAqB,CAAC;;;;AAarE,MAAM,OAAO,mCACX,SAAQ,oBAAiG;IAZ3G;;QAeE,gBAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,OAAsB,CAAC;KAoBnE;IAjBC,QAAQ;QACN,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAED,WAAW,CAAC,OAAsB;QAChC,IAAI,OAAO,CAAC,OAAO,EAAE;YACnB,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB;IACH,CAAC;IAEO,YAAY;QAClB,IAAI,CAAC,4BAA4B,mCAC5B,IAAI,CAAC,OAAO,KACf,eAAe,EAAE,IAAI,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,EACnG,SAAS,EAAE,IAAI,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,GACzF,CAAC;IACJ,CAAC;;gIAvBU,mCAAmC;oHAAnC,mCAAmC,+DARnC;QACT;YACE,OAAO,EAAE,iBAAiB;YAC1B,WAAW,EAAE,8BAA8B;YAC3C,KAAK,EAAE,IAAI;SACZ;KACF,sECjBH,qNAMA;2FDaa,mCAAmC;kBAX/C,SAAS;mBAAC;oBACT,QAAQ,EAAE,sCAAsC;oBAChD,WAAW,EAAE,+CAA+C;oBAC5D,SAAS,EAAE;wBACT;4BACE,OAAO,EAAE,iBAAiB;4BAC1B,WAAW,EAAE,8BAA8B;4BAC3C,KAAK,EAAE,IAAI;yBACZ;qBACF;iBACF","sourcesContent":["import { Component, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { FormControl, NG_VALUE_ACCESSOR, NgControl } from '@angular/forms';\nimport { IExpressionConfiguratorProvider } from '@helix/platform/shared/api';\nimport { IExpressionInspectorControlOptions } from './expression-inspector-control-options.interface';\nimport { InspectorControlBase } from '../../inspector/inspector-control-base.class';\nimport { IExpressionFormControlOptions } from '../../form-controls/expression-form-control/expression-form-control.types';\nimport { ExpressionFormControlComponent } from '../../form-controls';\n\n@Component({\n  selector: 'rx-expression-inspector-form-control',\n  templateUrl: './expression-inspector-control.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: ExpressionFormControlComponent,\n      multi: true\n    }\n  ]\n})\nexport class ExpressionInspectorControlComponent\n  extends InspectorControlBase<string, IExpressionInspectorControlOptions, IExpressionConfiguratorProvider>\n  implements OnInit, OnChanges\n{\n  formControl = this.injector.get(NgControl).control as FormControl;\n  expressionFormControlOptions: IExpressionFormControlOptions;\n\n  ngOnInit(): void {\n    this.patchOptions();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.optinos) {\n      this.patchOptions();\n    }\n  }\n\n  private patchOptions(): void {\n    this.expressionFormControlOptions = {\n      ...this.options,\n      dataDictionary$: this.designerItemModel.expressionConfigurator.getDataDictionary(this.propertyPath),\n      operators: this.designerItemModel.expressionConfigurator.getOperators(this.propertyPath)\n    };\n  }\n}\n","<rx-expression-form-control\n  [formControl]=\"formControl\"\n  [propertyPath]=\"propertyPath\"\n  [options]=\"expressionFormControlOptions\"\n  (events)=\"events.emit($event)\"\n></rx-expression-form-control>\n"]}