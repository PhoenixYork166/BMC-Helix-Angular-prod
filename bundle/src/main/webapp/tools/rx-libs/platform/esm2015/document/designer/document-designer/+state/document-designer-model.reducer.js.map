{"version":3,"file":"document-designer-model.reducer.js","sourceRoot":"","sources":["../../../../../../../../libs/platform/document/designer/document-designer/+state/document-designer-model.reducer.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,aAAa,EAAE,EAAE,EAAE,MAAM,aAAa,CAAC;AAEhD,OAAO,KAAK,uBAAuB,MAAM,6BAA6B,CAAC;AAGvE,MAAM,YAAY,GAA6B;IAC7C,IAAI,EAAE,IAAI;IACV,cAAc,EAAE,IAAI;IACpB,oBAAoB,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE;CAC1D,CAAC;AAEF,MAAM,CAAC,MAAM,YAAY,GAA2B;IAClD,QAAQ,EAAE,IAAI;IACd,cAAc,EAAE,IAAI;IACpB,YAAY,EAAE,IAAI;IAClB,eAAe,EAAE,YAAY;IAC7B,6BAA6B,EAAE,YAAY;IAC3C,OAAO,EAAE,KAAK;IACd,mBAAmB,EAAE,IAAI;IACzB,kBAAkB,EAAE,IAAI;CACzB,CAAC;AAEF,MAAM,OAAO,GAAG,aAAa,CAC3B,YAAY,EAEZ,EAAE,CAAC,uBAAuB,CAAC,IAAI,EAAE,CAAC,KAA6B,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC,iCAC5E,YAAY,KACf,QAAQ,EAAE,OAAO,CAAC,QAAQ,EAC1B,cAAc,EAAE,OAAO,CAAC,cAAc,IACtC,CAAC,EAEH,EAAE,CAAC,uBAAuB,CAAC,kBAAkB,EAAE,CAAC,KAA6B,EAAE,EAAE,UAAU,EAAE,eAAe,EAAE,EAAE,EAAE,CAAC,iCAC9G,KAAK,KACR,eAAe,EACf,6BAA6B,EAAE,eAAe,EAC9C,kBAAkB,EAAE,UAAU,IAC9B,CAAC,EAEH,EAAE,CAAC,uBAAuB,CAAC,oBAAoB,EAAE,CAAC,KAA6B,EAAE,EAAE,CAAC,iCAC/E,KAAK,KACR,OAAO,EAAE,KAAK,IACd,CAAC,EAEH,EAAE,CAAC,uBAAuB,CAAC,iBAAiB,EAAE,CAAC,KAA6B,EAAE,EAAE,CAAC,iCAC5E,KAAK,KACR,OAAO,EAAE,IAAI,IACb,CAAC,EAEH,EAAE,CAAC,uBAAuB,CAAC,gBAAgB,EAAE,CAAC,KAA6B,EAAE,EAAE,CAAC,iCAC3E,KAAK,KACR,YAAY,EAAE,CAAC,KAAK,CAAC,YAAY,IACjC,CAAC,EAEH,EAAE,CACA,uBAAuB,CAAC,iCAAiC,EACzD,CAAC,KAA6B,EAAE,EAAE,2BAA2B,EAAE,EAAE,EAAE,CAAC,iCAC/D,KAAK,KACR,eAAe,kCAAO,KAAK,CAAC,eAAe,GAAK,2BAA2B,KAC3E,CACH,EAED,EAAE,CAAC,uBAAuB,CAAC,qBAAqB,EAAE,CAAC,KAA6B,EAAE,EAAE,mBAAmB,EAAE,EAAE,EAAE,CAAC,iCACzG,KAAK,KACR,mBAAmB,IACnB,CAAC,EAEH,EAAE,CAAC,uBAAuB,CAAC,OAAO,EAAE,CAAC,KAA6B,EAAE,EAAE,CAAC,mBAClE,YAAY,EACf,CAAC,CACJ,CAAC;AAEF,MAAM,UAAU,4BAA4B,CAAC,KAAK,EAAE,MAAM;IACxD,OAAO,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;AAChC,CAAC","sourcesContent":["import { createReducer, on } from '@ngrx/store';\nimport { IDocumentDefinitionModel } from '../../document-designer.types';\nimport * as DocumentDesignerActions from './document-designer.actions';\nimport { IDocumentDesignerModel } from './document-designer.types';\n\nconst initialModel: IDocumentDefinitionModel = {\n  name: null,\n  documentSchema: null,\n  customizationOptions: { allowOverlay: null, scope: null }\n};\n\nexport const initialState: IDocumentDesignerModel = {\n  bundleId: null,\n  definitionName: null,\n  isDesignMode: true,\n  definitionModel: initialModel,\n  definitionModelFromDefinition: initialModel,\n  isDirty: false,\n  savedDefinitionName: null,\n  originalDefinition: null\n};\n\nconst reducer = createReducer(\n  initialState,\n\n  on(DocumentDesignerActions.init, (state: IDocumentDesignerModel, { payload }) => ({\n    ...initialState,\n    bundleId: payload.bundleId,\n    definitionName: payload.definitionName\n  })),\n\n  on(DocumentDesignerActions.initDefinitionData, (state: IDocumentDesignerModel, { definition, definitionModel }) => ({\n    ...state,\n    definitionModel,\n    definitionModelFromDefinition: definitionModel,\n    originalDefinition: definition\n  })),\n\n  on(DocumentDesignerActions.markDesignerPristine, (state: IDocumentDesignerModel) => ({\n    ...state,\n    isDirty: false\n  })),\n\n  on(DocumentDesignerActions.markDesignerDirty, (state: IDocumentDesignerModel) => ({\n    ...state,\n    isDirty: true\n  })),\n\n  on(DocumentDesignerActions.toggleDesignMode, (state: IDocumentDesignerModel) => ({\n    ...state,\n    isDesignMode: !state.isDesignMode\n  })),\n\n  on(\n    DocumentDesignerActions.updateDefinitionModelFromDesigner,\n    (state: IDocumentDesignerModel, { definitionModelFromDesigner }) => ({\n      ...state,\n      definitionModel: { ...state.definitionModel, ...definitionModelFromDesigner }\n    })\n  ),\n\n  on(DocumentDesignerActions.saveDefinitionSuccess, (state: IDocumentDesignerModel, { savedDefinitionName }) => ({\n    ...state,\n    savedDefinitionName\n  })),\n\n  on(DocumentDesignerActions.destroy, (state: IDocumentDesignerModel) => ({\n    ...initialState\n  }))\n);\n\nexport function documentDesignerModelReducer(state, action) {\n  return reducer(state, action);\n}\n"]}