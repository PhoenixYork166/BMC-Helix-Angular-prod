{"version":3,"file":"jitterbit-apis.component.js","sourceRoot":"","sources":["../../../../../../../../libs/platform/admin/components/ipaas/jitterbit-apis/jitterbit-apis.component.ts","../../../../../../../../libs/platform/admin/components/ipaas/jitterbit-apis/jitterbit-apis.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { IIpaasApiInfo, IIpaasApisConfig } from '../ipaas-base-apis/ipaas-base-apis.types';\nimport { RxModalService } from '@helix/platform/ui-kit';\nimport { JitterbitApiEditorComponent } from './jitterbit-api-editor.component';\nimport { EMPTY, forkJoin, noop, Observable } from 'rxjs';\nimport { IpaasBaseApisComponent } from '../ipaas-base-apis/ipaas-base-apis.component';\nimport { RxNotificationService } from '@helix/platform/shared/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { RxJitterbitApisService } from './jitterbit-apis.service';\n\n@Component({\n  selector: 'rx-admin-jitterbit-apis',\n  templateUrl: './jitterbit-apis.component.html'\n})\nexport class JitterbitApisAdminComponent {\n  @ViewChild('ipaasBaseApisConfiguration')\n  ipaasBaseApisComponent: IpaasBaseApisComponent;\n\n  jitterbitApisConfig: IIpaasApisConfig = {\n    titleKey: 'com.bmc.arsys.rx.client.admin.jitterbit-apis.header.title',\n    recordDefinitionName: 'com.bmc.dsm.ipaas-jitterbit:iPaaS Jitterbit API Definition',\n    resourceType: 'com.bmc.dsm.ipaas.jitterbit.command.RenameJitterbitApiGroupCommand'\n  };\n\n  constructor(\n    private rxModalService: RxModalService,\n    private rxNotificationService: RxNotificationService,\n    private translateService: TranslateService,\n    private rxJitterbitApisService: RxJitterbitApisService\n  ) {}\n\n  openJitterbitCreateApiEditor(apiInfo: IIpaasApiInfo): Promise<any> {\n    return this.rxModalService\n      .openModal({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.admin.ipaas-api-editor.add-api.label'),\n        content: JitterbitApiEditorComponent,\n        data: apiInfo\n      })\n      .then((result) => {\n        if (result) {\n          this.ipaasBaseApisComponent.refreshIpaasGrid();\n        }\n      })\n      .catch(noop);\n  }\n\n  openJitterbitEditApiEditor(apiInfo: IIpaasApiInfo): Promise<any> {\n    return this.rxModalService\n      .openModal({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.admin.ipaas-api-editor.edit-api.label'),\n        content: JitterbitApiEditorComponent,\n        data: apiInfo\n      })\n      .then((result) => {\n        if (result) {\n          this.ipaasBaseApisComponent.refreshIpaasGrid();\n        }\n      })\n      .catch(noop);\n  }\n\n  deleteJitterbitApis(apiIds: string[]): void {\n    this.deleteApiDefinitions(apiIds).subscribe(() => {\n      this.rxNotificationService.addSuccessMessage(\n        this.translateService.instant('com.bmc.arsys.rx.client.admin.ipaas-apis.delete-api.success.message')\n      );\n\n      this.ipaasBaseApisComponent.refreshIpaasGrid();\n    });\n  }\n\n  private deleteApiDefinitions(apiIds: string[]): Observable<any> {\n    if (apiIds.length) {\n      const deleteApiObservables$ = apiIds.map((apiId) => this.rxJitterbitApisService.deleteApiDefinition(apiId));\n\n      return forkJoin(deleteApiObservables$);\n    }\n\n    return EMPTY;\n  }\n}\n","<rx-ipaas-base-apis\n  [ipaasApisConfig]=\"jitterbitApisConfig\"\n  (createApi)=\"openJitterbitCreateApiEditor($event)\"\n  (editApi)=\"openJitterbitEditApiEditor($event)\"\n  (deleteApis)=\"deleteJitterbitApis($event)\"\n  #ipaasBaseApisConfiguration\n></rx-ipaas-base-apis>\n"]}