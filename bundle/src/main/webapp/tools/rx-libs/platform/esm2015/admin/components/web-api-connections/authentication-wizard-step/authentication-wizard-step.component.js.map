{"version":3,"file":"authentication-wizard-step.component.js","sourceRoot":"","sources":["../../../../../../../../libs/platform/admin/components/web-api-connections/authentication-wizard-step/authentication-wizard-step.component.ts","../../../../../../../../libs/platform/admin/components/web-api-connections/authentication-wizard-step/authentication-wizard-step.component.html"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,eAAe,CAAC;AAC1C,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAC;AAC9B,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,gBAAgB,CAAC;AAE3C,OAAO,EAAE,sBAAsB,EAAE,MAAM,mCAAmC,CAAC;;;;;AAM3E,MAAM,OAAO,iCAAiC;IAW5C,YAAoB,sBAA8C;QAA9C,2BAAsB,GAAtB,sBAAsB,CAAwB;QAVlE,aAAQ,GAAG,IAAI,CAAC,sBAAsB,CAAC,QAAQ,CAAC;QAEhD,0BAAqB,GAAG,IAAI,CAAC,sBAAsB,CAAC,QAAQ,CAAC,IAAI,CAC/D,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE;YACd,MAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;YAE7D,OAAO,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC;QACnE,CAAC,CAAC,CACH,CAAC;IAEmE,CAAC;IAEtE,kBAAkB;QAChB,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,oBAAoB,EAAE,EAAE;YAC1E,IAAI,oBAAoB,EAAE;gBACxB,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,mBAAmB,EAAE,CAAC;aACvD;iBAAM;gBACL,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,kBAAkB,EAAE,CAAC;aACtD;QACH,CAAC,CAAC,CAAC;IACL,CAAC;;8HArBU,iCAAiC;kHAAjC,iCAAiC,qECV9C,uXASA;2FDCa,iCAAiC;kBAJ7C,SAAS;mBAAC;oBACT,QAAQ,EAAE,+BAA+B;oBACzC,WAAW,EAAE,6CAA6C;iBAC3D","sourcesContent":["import { Component } from '@angular/core';\nimport { some } from 'lodash';\nimport { map, take } from 'rxjs/operators';\n\nimport { RxWizardModalComponent } from '@helix/platform/shared/components';\n\n@Component({\n  selector: 'rx-authentication-wizard-step',\n  templateUrl: './authentication-wizard-step.component.html'\n})\nexport class AuthenticationWizardStepComponent {\n  context$ = this.rxWizardModalComponent.context$;\n\n  isSaveButtonDisabled$ = this.rxWizardModalComponent.context$.pipe(\n    map((context) => {\n      const isDirty = some(context.wizardSteps, { isDirty: true });\n\n      return some(context.wizardSteps, { isValid: false }) || !isDirty;\n    })\n  );\n\n  constructor(private rxWizardModalComponent: RxWizardModalComponent) {}\n\n  onFormStatusChange(): void {\n    this.isSaveButtonDisabled$.pipe(take(1)).subscribe((isSaveButtonDisabled) => {\n      if (isSaveButtonDisabled) {\n        this.rxWizardModalComponent.api.disableFinishButton();\n      } else {\n        this.rxWizardModalComponent.api.enableFinishButton();\n      }\n    });\n  }\n}\n","<ng-container *ngIf=\"context$ | async as context\">\n  <rx-web-api-connection-wizard-step-fields\n    [step]=\"context.wizardSteps[1]\"\n    [stepDetails]=\"context.webApiConnection.authTypeDetails\"\n    (formStatusChange)=\"onFormStatusChange()\"\n    [webApiConnection]=\"context.webApiConnection\"\n  >\n  </rx-web-api-connection-wizard-step-fields>\n</ng-container>\n"]}