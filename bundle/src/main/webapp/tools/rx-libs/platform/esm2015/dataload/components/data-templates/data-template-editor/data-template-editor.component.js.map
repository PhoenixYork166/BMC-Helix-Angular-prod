{"version":3,"file":"data-template-editor.component.js","sourceRoot":"","sources":["../../../../../../../../libs/platform/dataload/components/data-templates/data-template-editor/data-template-editor.component.ts","../../../../../../../../libs/platform/dataload/components/data-templates/data-template-editor/data-template-editor.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, Injector, OnDestroy, OnInit } from '@angular/core';\nimport { DismissReasons, DockedPanelContext, RxSelectOption } from '@bmc-ux/adapt-angular';\nimport { RxModalClass } from '@helix/platform/ui-kit';\nimport { RecordInstance, RxRecordInstanceService } from '@helix/platform/record/api';\nimport { DL_DATA_TEMPLATES } from '../data-templates.constant';\nimport {\n  IBundleDescriptor,\n  RX_APPLICATION,\n  RxGlobalCacheService,\n  RxNotificationService\n} from '@helix/platform/shared/api';\nimport { iif, Observable, of, ReplaySubject, Subscription } from 'rxjs';\nimport { map, switchMap, take, takeUntil, tap } from 'rxjs/operators';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { TranslateService } from '@ngx-translate/core';\nimport { find } from 'lodash';\n\n@Component({\n  selector: 'dl-data-template-editor',\n  templateUrl: './data-template-editor.component.html',\n  styleUrls: ['./data-template-editor.component.scss']\n})\nexport class DataTemplateEditorComponent extends RxModalClass implements OnInit, OnDestroy {\n  busy: Subscription;\n  private recordInstance: RecordInstance;\n  private destroyed$ = new ReplaySubject<boolean>(1);\n  private isEditMode = this.dockedPanelContext.getData().isEditMode;\n  dataTemplateForm: FormGroup;\n  enableCustomDownload = true;\n\n  applicationOptions$: Observable<RxSelectOption[]> = this.rxGlobalCacheService.getBundleDescriptors().pipe(\n    takeUntil(this.destroyed$),\n    map((bundleDescriptors: IBundleDescriptor[]) => {\n      return bundleDescriptors\n        .filter(\n          (bundleDescriptor: IBundleDescriptor) =>\n            ![RX_APPLICATION.innovationStudioBundleId, RX_APPLICATION.standardlib].includes(bundleDescriptor.id)\n        )\n        .sort((a: IBundleDescriptor, b: IBundleDescriptor) => a.friendlyName.localeCompare(b.friendlyName))\n        .map((bundleDescriptor: IBundleDescriptor) => ({\n          displayValue: bundleDescriptor.friendlyName,\n          value: bundleDescriptor.id\n        }));\n    })\n  );\n\n  constructor(\n    private translateService: TranslateService,\n    private rxNotificationService: RxNotificationService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private rxRecordInstanceService: RxRecordInstanceService,\n    protected injector: Injector,\n    private dockedPanelContext: DockedPanelContext,\n    private formBuilder: FormBuilder\n  ) {\n    super(dockedPanelContext, injector);\n  }\n\n  isDirty(): boolean {\n    return this.dataTemplateForm.dirty;\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n\n    this.dataTemplateForm = this.formBuilder.group({\n      application: [[], Validators.required],\n      templateName: [null, [Validators.required, Validators.maxLength(254)]],\n      version: [null, [Validators.required, Validators.maxLength(254)]],\n      isActive: null,\n      description: [null, Validators.maxLength(500)],\n      template: [null, Validators.required]\n    });\n\n    this.dataTemplateForm.get('isActive').setValue(0);\n\n    this.busy = iif(\n      () => this.isEditMode,\n      this.rxRecordInstanceService.get(\n        DL_DATA_TEMPLATES.recordDefinitionName,\n        this.dockedPanelContext.getData().templateRecordInstanceId\n      ),\n      this.rxRecordInstanceService.getNew(DL_DATA_TEMPLATES.recordDefinitionName)\n    )\n      .pipe(\n        tap((recordInstance: RecordInstance) => {\n          this.recordInstance = recordInstance;\n\n          if (this.isEditMode) {\n            this.setTemplateFormValues();\n          }\n        }),\n        switchMap(() => iif(() => this.isEditMode, this.applicationOptions$.pipe(take(1)), of([]))),\n        map((options: RxSelectOption[]) =>\n          find(options, {\n            displayValue: this.recordInstance.fieldInstances[DL_DATA_TEMPLATES.fields.bundleFriendlyName].value\n          })\n        ),\n        tap((option: RxSelectOption) => {\n          if (this.isEditMode) {\n            this.dataTemplateForm.get('application').setValue([option]);\n          }\n        })\n      )\n      .subscribe();\n  }\n\n  setTemplateFormValues(): void {\n    this.dataTemplateForm\n      .get('templateName')\n      .setValue(this.recordInstance.fieldInstances[DL_DATA_TEMPLATES.fields.templateName].value);\n\n    this.dataTemplateForm\n      .get('version')\n      .setValue(this.recordInstance.fieldInstances[DL_DATA_TEMPLATES.fields.dataLoadTemplateVersion].value);\n\n    this.dataTemplateForm\n      .get('isActive')\n      .setValue(this.recordInstance.fieldInstances[DL_DATA_TEMPLATES.fields.isActive].value);\n\n    this.dataTemplateForm\n      .get('description')\n      .setValue(this.recordInstance.fieldInstances[DL_DATA_TEMPLATES.fields.dataloadTemplateDescription].value);\n\n    this.dataTemplateForm.get('template').setValue([\n      {\n        data: new File([], this.recordInstance.fieldInstances[DL_DATA_TEMPLATES.fields.template].value),\n        inUploading: false,\n        inDeleting: false,\n        uploaded: 100,\n        error: false,\n        errorText: '',\n        allowDeletion: true\n      }\n    ]);\n  }\n\n  optionFormatter(option: RxSelectOption): string {\n    return option.displayValue;\n  }\n\n  saveTemplate(): void {\n    this.recordInstance.setFieldValue(\n      DL_DATA_TEMPLATES.fields.bundleFriendlyName,\n      this.dataTemplateForm.get('application').value[0].displayValue\n    );\n\n    this.recordInstance.setFieldValue(\n      DL_DATA_TEMPLATES.fields.bundleId,\n      this.dataTemplateForm.get('application').value[0].value\n    );\n\n    this.recordInstance.setFieldValue(\n      DL_DATA_TEMPLATES.fields.templateName,\n      this.dataTemplateForm.get('templateName').value\n    );\n\n    this.recordInstance.setFieldValue(\n      DL_DATA_TEMPLATES.fields.dataLoadTemplateVersion,\n      this.dataTemplateForm.get('version').value\n    );\n\n    this.recordInstance.setFieldValue(DL_DATA_TEMPLATES.fields.isActive, this.dataTemplateForm.get('isActive').value);\n\n    this.recordInstance.setFieldValue(\n      DL_DATA_TEMPLATES.fields.dataloadTemplateDescription,\n      this.dataTemplateForm.get('description').value\n    );\n\n    this.recordInstance.setFieldValue(\n      DL_DATA_TEMPLATES.fields.template,\n      this.dataTemplateForm.get('template').value[0].data\n    );\n\n    if (this.isEditMode) {\n      this.rxRecordInstanceService.save(this.recordInstance).subscribe(() => this.successCallback());\n    } else {\n      this.rxRecordInstanceService.create(this.recordInstance).subscribe(() => this.successCallback());\n    }\n  }\n\n  downloadAttachment = () => {\n    this.rxRecordInstanceService.downloadAttachment(\n      DL_DATA_TEMPLATES.recordDefinitionName,\n      DL_DATA_TEMPLATES.fields.template,\n      this.dockedPanelContext.getData().templateRecordInstanceId,\n      this.recordInstance.fieldInstances[DL_DATA_TEMPLATES.fields.template].value\n    );\n  };\n\n  onRemovedFileFromQueue(): void {\n    this.enableCustomDownload = false;\n  }\n\n  cancel(): void {\n    this.dockedPanelContext.dismiss(DismissReasons.CLOSE_BTN);\n  }\n\n  private successCallback(): void {\n    this.rxNotificationService.addSuccessMessage(\n      this.translateService.instant('com.bmc.arsys.rx.client.dataload.templates.template-saved.message')\n    );\n\n    this.dockedPanelContext.close(null);\n  }\n\n  getAllowedTypes(): string[] {\n    return [DL_DATA_TEMPLATES.allowedFileTypes.xlsx, DL_DATA_TEMPLATES.allowedFileTypes.zip];\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n}\n","<rx-busy-indicator [options]=\"{ busy: busy }\"></rx-busy-indicator>\n\n<div class=\"dp-body\">\n  <form [formGroup]=\"dataTemplateForm\">\n    <adapt-rx-select\n      class=\"form-group d-block\"\n      label=\"{{ 'com.bmc.arsys.rx.client.common.application.label' | translate }}\"\n      rx-id=\"application\"\n      formControlName=\"application\"\n      [options]=\"applicationOptions$ | async\"\n      [optionFormatter]=\"optionFormatter\"\n      [autofocus]=\"true\"\n    >\n    </adapt-rx-select>\n\n    <adapt-rx-textfield\n      class=\"form-group d-block\"\n      rx-id=\"template-name\"\n      label=\"{{ 'com.bmc.arsys.rx.client.dataload.templates.template-name.label' | translate }}\"\n      formControlName=\"templateName\"\n    >\n    </adapt-rx-textfield>\n\n    <adapt-rx-textfield\n      class=\"form-group d-block\"\n      rx-id=\"version\"\n      label=\"{{ 'com.bmc.arsys.rx.client.common.version.label' | translate }}\"\n      formControlName=\"version\"\n    >\n    </adapt-rx-textfield>\n\n    <adapt-rx-radiobutton-group\n      formControlName=\"isActive\"\n      label=\"{{ 'com.bmc.arsys.rx.client.dataload.templates.is-active-template.label' | translate }}\"\n    >\n      <adapt-rx-radiobutton\n        [value]=\"1\"\n        label=\"{{ 'com.bmc.arsys.rx.client.common.yes.label' | translate }}\"\n      ></adapt-rx-radiobutton>\n\n      <adapt-rx-radiobutton\n        [value]=\"0\"\n        label=\"{{ 'com.bmc.arsys.rx.client.common.no.label' | translate }}\"\n      ></adapt-rx-radiobutton>\n    </adapt-rx-radiobutton-group>\n\n    <adapt-rx-textarea\n      class=\"form-group d-block\"\n      rx-id=\"description\"\n      label=\"{{ 'com.bmc.arsys.rx.client.common.description.label' | translate }}\"\n      formControlName=\"description\"\n      rows=\"4\"\n    >\n    </adapt-rx-textarea>\n\n    <adapt-rx-uploader\n      label=\"{{ 'com.bmc.arsys.rx.client.common.template.label' | translate }}\"\n      formControlName=\"template\"\n      [showMaxSizeRestriction]=\"false\"\n      [enableCustomDownload]=\"enableCustomDownload\"\n      [customDownload]=\"downloadAttachment\"\n      (removedFileFromQueue)=\"onRemovedFileFromQueue()\"\n      [reusable]=\"true\"\n      [allowedTypes]=\"getAllowedTypes()\"\n    >\n    </adapt-rx-uploader>\n  </form>\n</div>\n\n<div class=\"dp-footer\">\n  <button\n    type=\"button\"\n    adapt-button\n    btn-type=\"primary\"\n    rx-id=\"save-button\"\n    class=\"mr-2\"\n    [disabled]=\"dataTemplateForm.pristine || dataTemplateForm.invalid\"\n    (click)=\"saveTemplate()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\n  </button>\n\n  <button type=\"button\" adapt-button (click)=\"cancel()\" btn-type=\"secondary\" rx-id=\"cancel-button\">\n    {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n  </button>\n</div>\n"]}