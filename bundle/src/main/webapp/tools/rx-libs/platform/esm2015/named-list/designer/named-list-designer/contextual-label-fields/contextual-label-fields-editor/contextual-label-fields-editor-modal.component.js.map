{"version":3,"file":"contextual-label-fields-editor-modal.component.js","sourceRoot":"","sources":["../../../../../../../../../libs/platform/named-list/designer/named-list-designer/contextual-label-fields/contextual-label-fields-editor/contextual-label-fields-editor-modal.component.ts","../../../../../../../../../libs/platform/named-list/designer/named-list-designer/contextual-label-fields/contextual-label-fields-editor/contextual-label-fields-editor-modal.component.html"],"names":[],"mappings":"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","sourcesContent":["import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  Injector,\n  OnInit,\n  QueryList,\n  ViewChildren\n} from '@angular/core';\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\nimport { AbstractControl, FormArray, FormBuilder, FormGroup, ValidationErrors, ValidatorFn } from '@angular/forms';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ActiveModalRef, AdaptAccordionTabComponent, DismissReasons } from '@bmc-ux/adapt-angular';\nimport { forEach, isNull } from 'lodash';\nimport { map, startWith } from 'rxjs/operators';\nimport { RxModalClass } from '@helix/platform/ui-kit';\nimport { ISelectFormControlOptions } from '@helix/platform/shared/components';\nimport { RxGuidService } from '@helix/platform/utils';\nimport { INamedListField, RX_NAMED_LIST_DEFINITION } from '@helix/platform/named-list/api';\nimport { IContextualLabelFieldsEditorConfig } from '../../../named-list-designer.types';\n\ninterface IAccordionExpansionState {\n  [guid: string]: boolean;\n}\n\ninterface IFieldFormGroupData extends INamedListField {\n  fieldName: string;\n  guid: string;\n  id: number | null;\n}\n\n@Component({\n  selector: 'rx-contextual-label-fields-editor-modal',\n  templateUrl: './contextual-label-fields-editor-modal.component.html',\n  styleUrls: ['./contextual-label-fields-editor-modal.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ContextualLabelFieldsEditorModalComponent extends RxModalClass implements OnInit, AfterViewInit {\n  @ViewChildren(AdaptAccordionTabComponent, { read: ElementRef })\n  private accordionTabEls: QueryList<ElementRef>;\n\n  config: IContextualLabelFieldsEditorConfig = this.activeModalRef.getData();\n  fieldsFormArray: FormArray = this.formBuilder.array([]);\n  accordionExpansionState: IAccordionExpansionState = {};\n\n  fieldSelectionConfig: ISelectFormControlOptions = {\n    label: this.translateService.instant(\n      'com.bmc.arsys.rx.client.named-list-designer.contextual-label-fields.editor.field.label'\n    ),\n    required: true,\n    options: this.config.options\n  };\n\n  fieldNameById = this.config.options.reduce((result, { id, name }) => {\n    result[id] = name;\n\n    return result;\n  }, {});\n\n  isAddButtonDisabled$ = this.fieldsFormArray.valueChanges.pipe(\n    startWith([]),\n    map(() => this.fieldsFormArray.length >= RX_NAMED_LIST_DEFINITION.maxNumberOfContextualLabelFields)\n  );\n\n  constructor(\n    public activeModalRef: ActiveModalRef,\n    private formBuilder: FormBuilder,\n    private rxGuidService: RxGuidService,\n    private translateService: TranslateService,\n    injector: Injector\n  ) {\n    super(activeModalRef, injector);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n\n    forEach(this.config.contextualLabelFields, (field: INamedListField, index: number) => {\n      const guid = this.rxGuidService.generate();\n\n      this.accordionExpansionState[guid] = this.config.activeFieldIndex === index;\n\n      this.fieldsFormArray.push(\n        this.getFormGroup({\n          guid,\n          ...field,\n          fieldName: this.fieldNameById[field.id] ?? ''\n        })\n      );\n    });\n\n    if (this.config.isReadOnly) {\n      this.fieldsFormArray.disable();\n    }\n  }\n\n  isDirty(): boolean {\n    return this.fieldsFormArray.dirty;\n  }\n\n  ngAfterViewInit(): void {\n    if (this.config.activeFieldIndex) {\n      this.accordionTabEls.toArray()[this.config.activeFieldIndex].nativeElement.scrollIntoView({\n        block: 'nearest'\n      });\n    }\n  }\n\n  save(): void {\n    const formValues = this.fieldsFormArray.getRawValue();\n    const fields = formValues.map(({ id, searchable, visible }) => ({ id, searchable, visible }));\n\n    this.activeModalRef.close(fields);\n  }\n\n  cancel(): void {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n\n  addField(): void {\n    const guid = this.rxGuidService.generate();\n\n    this.fieldsFormArray.push(\n      this.getFormGroup({\n        guid,\n        fieldName: this.translateService.instant(\n          'com.bmc.arsys.rx.client.named-list-designer.contextual-label-fields.editor.new-field.title'\n        ),\n        id: null,\n        searchable: false,\n        visible: true\n      })\n    );\n\n    this.accordionExpansionState[guid] = true;\n\n    setTimeout(() => {\n      this.accordionTabEls.last.nativeElement.scrollIntoView({\n        block: 'nearest'\n      });\n    });\n  }\n\n  moveField(fromIndex: number, toIndex: number): void {\n    moveItemInArray(this.fieldsFormArray.controls, fromIndex, toIndex);\n    this.fieldsFormArray.markAsDirty();\n  }\n\n  onFieldDrop(event: CdkDragDrop<any[], any>): void {\n    moveItemInArray(this.fieldsFormArray.controls, event.previousIndex, event.currentIndex);\n    this.fieldsFormArray.markAsDirty();\n  }\n\n  removeField(index: number): void {\n    this.fieldsFormArray.removeAt(index);\n    this.fieldsFormArray.markAsDirty();\n  }\n\n  collapseAll(): void {\n    forEach(this.accordionExpansionState, (value, key) => {\n      this.accordionExpansionState[key] = false;\n    });\n  }\n\n  expandAll(): void {\n    forEach(this.accordionExpansionState, (value, key) => (this.accordionExpansionState[key] = true));\n  }\n\n  onFieldSelect(formGroup: FormGroup, value: string): void {\n    formGroup.get('fieldName').setValue(this.fieldNameById[value]);\n  }\n\n  private getFormGroup(fieldData: IFieldFormGroupData): FormGroup {\n    return this.formBuilder.group({\n      ...fieldData,\n      id: [fieldData.id, [this.isFieldIdUnknown(), this.isDoubleUsedField.bind(this)]]\n    });\n  }\n\n  private isFieldIdUnknown(): ValidatorFn {\n    const fieldIds = this.config.options.map(({ id }) => id);\n\n    return (control: AbstractControl): ValidationErrors | null =>\n      control.parent && !isNull(control.value) && !fieldIds.includes(control.value)\n        ? {\n            unknownField: {\n              message: this.translateService.instant(\n                'com.bmc.arsys.rx.client.named-list-designer.contextual-label-fields.unknown-field.message'\n              )\n            }\n          }\n        : null;\n  }\n\n  private isDoubleUsedField(control: AbstractControl): ValidationErrors | null {\n    return control.dirty &&\n      control.value &&\n      control.root.value.length > 1 &&\n      control.root.value.some((field: IFieldFormGroupData) => field.id === control.value)\n      ? {\n          duplicated: {\n            message: this.translateService.instant(\n              'com.bmc.arsys.rx.client.named-list-designer.contextual-label-fields.editor.duplicated-field.message'\n            )\n          }\n        }\n      : null;\n  }\n}\n","<div class=\"designer-modal-body modal-body d-flex mh-100\">\n  <div class=\"row flex-grow-1 w-100\">\n    <div class=\"d-flex flex-column mh-100 col\">\n      <div class=\"d-flex align-items-start justify-content-between\">\n        <div>\n          <button\n            *ngIf=\"!config.isReadOnly\"\n            class=\"pl-0 pr-0\"\n            rx-id=\"add-contextual-label-field-button\"\n            adapt-button\n            type=\"button\"\n            btn-type=\"tertiary\"\n            [disabled]=\"isAddButtonDisabled$ | async\"\n            (click)=\"addField()\"\n          >\n            <span class=\"d-icon-left-plus_circle\"></span>\n            {{ 'com.bmc.arsys.rx.client.named-list-designer.contextual-label-fields.add-field.label' | translate }}\n          </button>\n        </div>\n\n        <div *ngIf=\"fieldsFormArray.length\" class=\"btn-group\">\n          <button adapt-button btn-type=\"tertiary\" type=\"button\" rx-id=\"expand-all-button\" (click)=\"expandAll()\">\n            {{ 'com.bmc.arsys.rx.client.common.expand-all.label' | translate }}\n          </button>\n\n          <button adapt-button btn-type=\"tertiary\" type=\"button\" rx-id=\"collapse-all-button\" (click)=\"collapseAll()\">\n            {{ 'com.bmc.arsys.rx.client.common.collapse-all.label' | translate }}\n          </button>\n        </div>\n      </div>\n\n      <div\n        *ngIf=\"fieldsFormArray.length\"\n        id=\"selected-field\"\n        class=\"designer-modal-accordion-wrapper\"\n        cdkDropList\n        (cdkDropListDropped)=\"onFieldDrop($event)\"\n      >\n        <adapt-accordion [multiselect]=\"true\">\n          <div\n            *ngFor=\"\n              let fieldFormGroup of fieldsFormArray.controls;\n              let index = index;\n              let first = first;\n              let last = last\n            \"\n            class=\"designer-modal-accordion-content\"\n            cdkDrag\n            cdkDragLockAxis=\"y\"\n            [cdkDragData]=\"fieldFormGroup\"\n            [cdkDragDisabled]=\"config.isReadOnly\"\n          >\n            <div *ngIf=\"!config.isReadOnly\" class=\"designer-modal-drag-handle d-icon-left-dots\" cdkDragHandle></div>\n            <adapt-accordion-tab\n              class=\"d-block\"\n              [formGroup]=\"fieldFormGroup\"\n              [isOpen]=\"fieldFormGroup.invalid || accordionExpansionState[fieldFormGroup.value.guid]\"\n              (open)=\"accordionExpansionState[fieldFormGroup.value.guid] = true\"\n              (close)=\"accordionExpansionState[fieldFormGroup.value.guid] = false\"\n            >\n              <div class=\"card-title-text w-100\">\n                <div class=\"designer-modal-card-title-content\">\n                  <div class=\"left-header-block\" [class.pl-0]=\"config.isReadOnly\">\n                    <div class=\"rx-ellipsis\" [title]=\"fieldFormGroup.value.fieldName\" rx-id=\"card-title\">\n                      {{ fieldFormGroup.value.fieldName }}\n                    </div>\n                  </div>\n\n                  <div *ngIf=\"!config.isReadOnly\" class=\"right-header-block\">\n                    <div class=\"designer-modal-card-title-index-buttons\">\n                      <button\n                        class=\"d-icon-left-triangle_down rx-button-unstyled\"\n                        type=\"button\"\n                        rx-id=\"move-down-button\"\n                        [disabled]=\"last\"\n                        (click)=\"$event.stopPropagation(); moveField(index, index + 1)\"\n                      ></button>\n                      <button\n                        class=\"d-icon-left-triangle_up rx-button-unstyled\"\n                        type=\"button\"\n                        rx-id=\"move-up-button\"\n                        [disabled]=\"first\"\n                        (click)=\"$event.stopPropagation(); moveField(index, index - 1)\"\n                      ></button>\n                    </div>\n\n                    <button\n                      class=\"d-icon-left-cross_adapt p-1 pr-4 ml-3\"\n                      adapt-button\n                      size=\"small\"\n                      type=\"button\"\n                      rx-id=\"remove-button\"\n                      (click)=\"$event.stopPropagation(); removeField(index)\"\n                    >\n                      {{ 'com.bmc.arsys.rx.client.common.remove.label' | translate }}\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"row align-items-start px-3\">\n                <rx-select-form-control\n                  [formControl]=\"fieldFormGroup.controls.id\"\n                  rx-id=\"contextual-label-field-id\"\n                  [options]=\"fieldSelectionConfig\"\n                  (ngModelChange)=\"onFieldSelect(fieldFormGroup, $event)\"\n                ></rx-select-form-control>\n                <adapt-rx-checkbox\n                  class=\"ml-5\"\n                  rx-id=\"contextual-label-field-visible\"\n                  label=\"{{\n                    'com.bmc.arsys.rx.client.named-list-designer.contextual-label-fields.editor.visible-field.label'\n                      | translate\n                  }}\"\n                  formControlName=\"visible\"\n                ></adapt-rx-checkbox>\n                <adapt-rx-checkbox\n                  class=\"ml-5\"\n                  rx-id=\"contextual-label-field-searchable\"\n                  label=\"{{\n                    'com.bmc.arsys.rx.client.named-list-designer.contextual-label-fields.editor.searchable-field.label'\n                      | translate\n                  }}\"\n                  formControlName=\"searchable\"\n                ></adapt-rx-checkbox>\n              </div>\n            </adapt-accordion-tab>\n          </div>\n        </adapt-accordion>\n      </div>\n\n      <div *ngIf=\"!fieldsFormArray.length\" class=\"d-flex justify-content-center h-100 align-items-center mt-2\">\n        <adapt-empty-state\n          class=\"w-100\"\n          label=\"{{\n            'com.bmc.arsys.rx.client.named-list-designer.contextual-label-fields.empty-state.message' | translate\n          }}\"\n          type=\"config\"\n        ></adapt-empty-state>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <button\n    *ngIf=\"!config.isReadOnly\"\n    adapt-button\n    btn-type=\"primary\"\n    type=\"button\"\n    rx-id=\"save-button\"\n    [disabled]=\"fieldsFormArray.invalid || fieldsFormArray.pristine\"\n    (click)=\"save()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\n  </button>\n\n  <button adapt-button btn-type=\"secondary\" type=\"button\" rx-id=\"cancel-button\" (click)=\"cancel()\">\n    {{\n      config.isReadOnly\n        ? ('com.bmc.arsys.rx.client.common.close.label' | translate)\n        : ('com.bmc.arsys.rx.client.common.cancel.label' | translate)\n    }}\n  </button>\n</div>\n"]}