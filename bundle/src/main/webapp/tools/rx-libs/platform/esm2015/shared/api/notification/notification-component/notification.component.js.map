{"version":3,"file":"notification.component.js","sourceRoot":"","sources":["../../../../../../../../libs/platform/shared/api/notification/notification-component/notification.component.ts","../../../../../../../../libs/platform/shared/api/notification/notification-component/notification.component.html"],"names":[],"mappings":"AAAA,OAAO,EAAE,iBAAiB,EAAE,SAAS,EAAU,MAAM,eAAe,CAAC;AACrE,OAAO,EAAE,mBAAmB,EAAE,MAAM,uBAAuB,CAAC;AAC5D,OAAO,EAAE,gBAAgB,EAAE,MAAM,qBAAqB,CAAC;AAEvD,OAAO,EAAE,qBAAqB,EAAE,MAAM,yBAAyB,CAAC;AAChE,OAAO,EAAE,gBAAgB,EAAE,MAAM,gCAAgC,CAAC;;;;;;AAOlE,MAAM,OAAO,uBAAuB;IAClC,YACU,qBAA4C,EAC5C,gBAAkC,EAClC,gBAAkC,EAClC,cAAiC,EACjC,mBAAwC;QAJxC,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,mBAAc,GAAd,cAAc,CAAmB;QACjC,wBAAmB,GAAnB,mBAAmB,CAAqB;IAC/C,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,mBAA4B,EAAE,EAAE;YAC9E,MAAM,SAAS,mCAAQ,mBAAmB,CAAC,IAAI,KAAE,QAAQ,EAAE,mBAAmB,CAAC,QAAQ,GAAE,CAAC;YAE1F,MAAM,IAAI,GACR,SAAS,CAAC,oBAAoB,IAAI,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE;gBAC/D,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,2DAA2D,CAAC;gBAC5F,CAAC,CAAC,IAAI,CAAC;YAEX,IAAI,CAAC,mBAAmB,CAAC,GAAG,iCACvB,mBAAmB,KACtB,IAAI,EACJ,WAAW,EAAE,GAAG,EAAE;oBAChB,IAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;gBACpD,CAAC,IACD,CAAC;YAEH,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;QACtC,CAAC,CAAC,CAAC;IACL,CAAC;;oHA5BU,uBAAuB;wGAAvB,uBAAuB,uDCZpC,uDACA;2FDWa,uBAAuB;kBALnC,SAAS;mBAAC;oBACT,QAAQ,EAAE,iBAAiB;oBAC3B,WAAW,EAAE,+BAA+B;oBAC5C,SAAS,EAAE,CAAC,+BAA+B,CAAC;iBAC7C","sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { AdaptMessageService } from '@bmc-ux/adapt-angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Message } from 'primeng/api';\nimport { RxNotificationService } from '../notification.service';\nimport { RxSessionService } from '../../security/session.service';\n\n@Component({\n  selector: 'rx-notification',\n  templateUrl: './notification.component.html',\n  styleUrls: ['./notification.component.scss']\n})\nexport class RxNotificationComponent implements OnInit {\n  constructor(\n    private rxNotificationService: RxNotificationService,\n    private rxSessionService: RxSessionService,\n    private translateService: TranslateService,\n    private changeDetector: ChangeDetectorRef,\n    private adaptMessageService: AdaptMessageService\n  ) {}\n\n  ngOnInit(): void {\n    this.rxNotificationService.messages$.subscribe((notificationMessage: Message) => {\n      const issueData = { ...notificationMessage.data, severity: notificationMessage.severity };\n\n      const link =\n        issueData.enableIssueReporting && this.rxSessionService.isAlive()\n          ? this.translateService.instant('com.bmc.arsys.rx.client.issue-reporter.report-issue.label')\n          : null;\n\n      this.adaptMessageService.add({\n        ...notificationMessage,\n        link,\n        linkHandler: () => {\n          this.rxNotificationService.reportIssue(issueData);\n        }\n      });\n\n      this.changeDetector.detectChanges();\n    });\n  }\n}\n","<adapt-toast placement=\"top-right\"></adapt-toast>\n"]}