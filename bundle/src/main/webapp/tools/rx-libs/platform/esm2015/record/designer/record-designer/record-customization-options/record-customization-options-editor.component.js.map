{"version":3,"file":"record-customization-options-editor.component.js","sourceRoot":"","sources":["../../../../../../../../libs/platform/record/designer/record-designer/record-customization-options/record-customization-options-editor.component.ts","../../../../../../../../libs/platform/record/designer/record-designer/record-customization-options/record-customization-options-editor.component.html"],"names":[],"mappings":"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","sourcesContent":["import { ChangeDetectionStrategy, Component, Injector, TemplateRef, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { ActiveModalRef, DismissReasons, RxSelectionChangeEvent, RxSelectOption } from '@bmc-ux/adapt-angular';\nimport { ColumnConfig, DataCellTemplateParams } from '@bmc-ux/adapt-table';\nimport { IScopeSelectionOption, RX_BUNDLE, RX_OVERLAY } from '@helix/platform/shared/api';\nimport { RX_MODAL, RxModalClass, RxModalService } from '@helix/platform/ui-kit';\nimport { TranslateService } from '@ngx-translate/core';\nimport { cloneDeep, find, includes, noop } from 'lodash';\nimport { BehaviorSubject, combineLatest, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { IRecordCustomizationOptionsEditorData } from './record-customization-options.interfaces';\nimport { IRecordDefinitionModel } from '../../record-designer.types';\n\n@Component({\n  selector: 'rx-record-customization-options-editor',\n  templateUrl: './record-customization-options-editor.component.html',\n  styleUrls: ['./record-customization-options-editor.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RecordCustomizationOptionsEditorComponent extends RxModalClass {\n  data: IRecordCustomizationOptionsEditorData = this.activeModalRef.getData();\n  scopeSelectionOptions: IScopeSelectionOption[] = this.data.scopeSelectionOptions;\n  recordDefinition: IRecordDefinitionModel = this.data.recordDefinition;\n  columns: ColumnConfig[];\n\n  @ViewChild('recordCustomizationOptionsEditorForm')\n  recordCustomizationOptionsEditorForm: NgForm;\n\n  @ViewChild('recordFieldsColumnTemplate', { static: true })\n  recordFieldsColumnTemplate: TemplateRef<DataCellTemplateParams>;\n\n  private customizationControlProperties = [\n    'allowPermissionsOverlay',\n    'allowOtherPropertiesOverlay',\n    'allowIndexesOverlay',\n    'allowFieldsOverlay'\n  ];\n\n  initialCustomizationOptions = this.recordDefinition.customizationOptions;\n  allowOverlay = includes(Object.values(this.initialCustomizationOptions), true);\n  fields = cloneDeep(this.recordDefinition.fields);\n\n  customizationOptions = {\n    allowOtherPropertiesOverlay: this.initialCustomizationOptions.allowOtherPropertiesOverlay || false,\n    allowPermissionsOverlay: this.initialCustomizationOptions.allowPermissionsOverlay || false,\n    allowIndexesOverlay: this.initialCustomizationOptions.allowIndexesOverlay || false,\n    allowFieldsOverlay: this.initialCustomizationOptions.allowFieldsOverlay || false\n  };\n\n  private isFieldsOverlayAllowedSubject = new BehaviorSubject<Boolean>(\n    this.initialCustomizationOptions.allowFieldsOverlay\n  );\n\n  isDisabled = this.data.overlayOperation !== RX_OVERLAY.operationTypes.createdInThisOverlayGroup;\n  private definitionScopeName = find(this.scopeSelectionOptions, { name: this.data.definitionScopeName });\n\n  scope = [this.definitionScopeName];\n\n  private isPublicSubject = new BehaviorSubject<Boolean>(this.scope[0].id === RX_BUNDLE.definitionScopes.public.type);\n\n  areCustomizationOptionsDisabled$: Observable<Boolean> = this.isPublicSubject.pipe(\n    map((isPublic) => !isPublic || this.isDisabled)\n  );\n\n  isFieldsOverlayDisabled$: Observable<Boolean> = combineLatest([\n    this.areCustomizationOptionsDisabled$,\n    this.isFieldsOverlayAllowedSubject\n  ]).pipe(\n    map(\n      ([areCustomizationOptionsDisabled, isFieldsOverlayAllowed]) =>\n        areCustomizationOptionsDisabled || !isFieldsOverlayAllowed\n    )\n  );\n\n  vm$ = this.areCustomizationOptionsDisabled$.pipe(\n    map((areCustomizationOptionsDisabled) => ({ areCustomizationOptionsDisabled }))\n  );\n\n  constructor(\n    private rxModalService: RxModalService,\n    public activeModalRef: ActiveModalRef,\n    protected injector: Injector,\n    private translateService: TranslateService\n  ) {\n    super(activeModalRef, injector);\n  }\n\n  onFieldsPropertyChange(): void {\n    this.recordCustomizationOptionsEditorForm.control.markAsDirty();\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n\n    this.columns = [\n      {\n        field: 'name',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.common.name.label')\n      },\n      {\n        field: 'allowOtherPropertiesOverlay',\n        header: this.translateService.instant(\n          'com.bmc.arsys.rx.client.record-designer.scope-customization-options.allow-properties-customization.label'\n        ),\n        cellTemplate: this.recordFieldsColumnTemplate,\n        headerClass: 'pl-6'\n      },\n      {\n        field: 'allowPermissionsOverlay',\n        header: this.translateService.instant(\n          'com.bmc.arsys.rx.client.record-designer.scope-customization-options.allow-permissions-customization.label'\n        ),\n        cellTemplate: this.recordFieldsColumnTemplate,\n        headerClass: 'pl-6'\n      }\n    ];\n  }\n\n  optionFormatter(option: RxSelectOption): string {\n    return option.name;\n  }\n\n  save(): void {\n    if (this.scope[0].id === RX_BUNDLE.definitionScopeTypes.public) {\n      this.rxModalService\n        .confirm({\n          title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n          modalStyle: RX_MODAL.modalStyles.warning,\n          message: this.translateService.instant(\n            'com.bmc.arsys.rx.client.record-designer.scope-customization-options.definition-scope-to-public.warning'\n          )\n        })\n        .then((result: boolean) => {\n          if (result) {\n            this.closeModal();\n          }\n        })\n        .catch(noop);\n    } else if (this.data.definitionScopeName === RX_BUNDLE.definitionScopeNames.public) {\n      this.rxModalService\n        .confirm({\n          title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n          modalStyle: RX_MODAL.modalStyles.warning,\n          message: this.translateService.instant(\n            'com.bmc.arsys.rx.client.record-designer.scope-customization-options.change-scope-from-public-warning.message'\n          )\n        })\n        .then((result: boolean) => {\n          if (result) {\n            this.closeModal();\n          }\n        })\n        .catch(noop);\n    } else {\n      this.closeModal();\n    }\n  }\n\n  onScopeChange(rxSelectionChangeEvent: RxSelectionChangeEvent): void {\n    this.isPublicSubject.next(rxSelectionChangeEvent[0].id === RX_BUNDLE.definitionScopes.public.type);\n  }\n\n  closeModal(): void {\n    const result = { ...this.recordCustomizationOptionsEditorForm.form.value, fields: this.fields };\n\n    result.scope = result.scope[0].id;\n    this.activeModalRef.close(result);\n  }\n\n  cancel(): void {\n    this.activeModalRef.dismiss(DismissReasons.CLOSE_BTN);\n  }\n\n  handleAllowOverlayChange(): void {\n    Object.keys(this.customizationOptions).forEach((option) => (this.customizationOptions[option] = this.allowOverlay));\n\n    this.isFieldsOverlayAllowedSubject.next(this.allowOverlay);\n  }\n\n  onRecordCustomizationOptionChange(): void {\n    this.allowOverlay =\n      this.customizationOptions.allowFieldsOverlay ||\n      this.customizationOptions.allowIndexesOverlay ||\n      this.customizationOptions.allowOtherPropertiesOverlay ||\n      this.customizationOptions.allowPermissionsOverlay;\n\n    this.isFieldsOverlayAllowedSubject.next(this.customizationOptions.allowFieldsOverlay);\n  }\n\n  isDirty(): boolean {\n    return this.recordCustomizationOptionsEditorForm.dirty;\n  }\n\n  ngOnDestroy(): void {\n    this.isFieldsOverlayAllowedSubject.complete();\n    this.isPublicSubject.complete();\n  }\n}\n","<ng-container *ngIf=\"vm$ | async as vm\">\n  <div class=\"designer-modal-body modal-body\">\n    <form #recordCustomizationOptionsEditorForm=\"ngForm\">\n      <div class=\"w-25\">\n        <adapt-rx-select\n          label=\"{{\n            'com.bmc.arsys.rx.client.record-designer.scope-customization-options-editor.scope.label' | translate\n          }}\"\n          rx-id=\"scope-selection\"\n          [options]=\"scopeSelectionOptions\"\n          [optionFormatter]=\"optionFormatter\"\n          [tooltip]=\"{\n            iconName: 'question_circle_o',\n            content: 'com.bmc.arsys.rx.client.designer.scope-customization-options.scope.tooltip' | translate,\n            placement: 'bottom',\n            popoverMode: true\n          }\"\n          name=\"scope\"\n          [(ngModel)]=\"scope\"\n          (ngModelChange)=\"onScopeChange($event)\"\n          [disabled]=\"isDisabled\"\n        >\n        </adapt-rx-select>\n      </div>\n\n      <div class=\"w-100\">\n        <h5>{{ 'com.bmc.arsys.rx.client.customization-options-editor.customization-options.label' | translate }}</h5>\n        <adapt-rx-checkbox\n          label=\"{{\n            'com.bmc.arsys.rx.client.customization-options-editor.allow-future-customization.label'\n              | translate: { definitionType: data.definitionTypeDisplayName }\n          }}\"\n          rx-id=\"allow-customization-checkbox\"\n          name=\"allowOverlay\"\n          [(ngModel)]=\"allowOverlay\"\n          (ngModelChange)=\"handleAllowOverlayChange()\"\n          [disabled]=\"vm.areCustomizationOptionsDisabled\"\n        >\n        </adapt-rx-checkbox>\n      </div>\n\n      <div class=\"w-100\">\n        <h6>\n          {{\n            'com.bmc.arsys.rx.client.record-designer.scope-customization-options.allow-future-customizations-to.label'\n              | translate\n          }}\n        </h6>\n\n        <div class=\"w-100 d-flex\">\n          <div class=\"w-50\">\n            <div>\n              <adapt-rx-checkbox\n                label=\"{{\n                  'com.bmc.arsys.rx.client.record-designer.scope-customization-options.properties.label' | translate\n                }}\"\n                name=\"allowOtherPropertiesOverlay\"\n                [(ngModel)]=\"customizationOptions.allowOtherPropertiesOverlay\"\n                (ngModelChange)=\"onRecordCustomizationOptionChange()\"\n                [disabled]=\"vm.areCustomizationOptionsDisabled\"\n                rx-id=\"properties-checkbox\"\n              >\n              </adapt-rx-checkbox>\n            </div>\n\n            <div>\n              <adapt-rx-checkbox\n                label=\"{{\n                  'com.bmc.arsys.rx.client.record-designer.scope-customization-options.permissions.label' | translate\n                }}\"\n                name=\"allowPermissionsOverlay\"\n                [(ngModel)]=\"customizationOptions.allowPermissionsOverlay\"\n                (ngModelChange)=\"onRecordCustomizationOptionChange()\"\n                [disabled]=\"vm.areCustomizationOptionsDisabled\"\n                rx-id=\"permissions-checkbox\"\n              >\n              </adapt-rx-checkbox>\n            </div>\n          </div>\n\n          <div class=\"w-50\">\n            <div>\n              <adapt-rx-checkbox\n                label=\"{{\n                  'com.bmc.arsys.rx.client.record-designer.scope-customization-options.search-indexes.label' | translate\n                }}\"\n                name=\"allowIndexesOverlay\"\n                [(ngModel)]=\"customizationOptions.allowIndexesOverlay\"\n                (ngModelChange)=\"onRecordCustomizationOptionChange()\"\n                [disabled]=\"vm.areCustomizationOptionsDisabled\"\n                rx-id=\"search-indexes-checkbox\"\n              >\n              </adapt-rx-checkbox>\n            </div>\n\n            <div>\n              <adapt-rx-checkbox\n                label=\"{{\n                  'com.bmc.arsys.rx.client.record-designer.scope-customization-options.fields.label' | translate\n                }}\"\n                name=\"allowFieldsOverlay\"\n                [(ngModel)]=\"customizationOptions.allowFieldsOverlay\"\n                (ngModelChange)=\"onRecordCustomizationOptionChange()\"\n                [disabled]=\"vm.areCustomizationOptionsDisabled\"\n                rx-id=\"fields-checkbox\"\n              >\n              </adapt-rx-checkbox>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <adapt-table\n        [value]=\"fields\"\n        [columns]=\"columns\"\n        [scrollable]=\"true\"\n        scrollHeight=\"340px\"\n        [sortable]=\"false\"\n        [resizableColumns]=\"false\"\n        [bordered]=\"false\"\n        [filterable]=\"false\"\n        [dataKey]=\"'name'\"\n      >\n      </adapt-table>\n    </form>\n  </div>\n\n  <div class=\"modal-footer\">\n    <button\n      class=\"btn btn-primary\"\n      rx-id=\"save-button\"\n      (click)=\"save()\"\n      type=\"button\"\n      [disabled]=\"!recordCustomizationOptionsEditorForm.dirty\"\n    >\n      {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\n    </button>\n\n    <button type=\"button\" class=\"btn btn-secondary btn-sm\" (click)=\"cancel()\" rx-id=\"cancel-button\">\n      {{ 'com.bmc.arsys.rx.client.common.cancel.label' | translate }}\n    </button>\n  </div>\n</ng-container>\n\n<ng-template #recordFieldsColumnTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  <div class=\"checkbox m-0 pl-4\">\n    <div class=\"checkbox__label pl-6 ml-6\">\n      <label>\n        <input\n          type=\"checkbox\"\n          role=\"checkbox\"\n          class=\"checkbox__input\"\n          [(ngModel)]=\"dataItem[column.field]\"\n          [disabled]=\"isFieldsOverlayDisabled$ | async\"\n          (change)=\"onFieldsPropertyChange()\"\n        />\n\n        <div class=\"checkbox__item\"></div>\n      </label>\n    </div>\n  </div>\n</ng-template>\n"]}