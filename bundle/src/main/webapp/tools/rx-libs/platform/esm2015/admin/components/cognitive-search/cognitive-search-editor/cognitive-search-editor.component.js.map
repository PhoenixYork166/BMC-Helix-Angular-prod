{"version":3,"file":"cognitive-search-editor.component.js","sourceRoot":"","sources":["../../../../../../../../libs/platform/admin/components/cognitive-search/cognitive-search-editor/cognitive-search-editor.component.ts","../../../../../../../../libs/platform/admin/components/cognitive-search/cognitive-search-editor/cognitive-search-editor.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, Injector, OnInit } from '@angular/core';\nimport { AbstractControl, FormBuilder, FormGroup, ValidationErrors } from '@angular/forms';\nimport {\n  Alert,\n  ColorVariantType,\n  DismissReasons,\n  DockedPanelContext,\n  RxSelectOption,\n  LoaderType,\n  BusyConfig\n} from '@bmc-ux/adapt-angular';\nimport {\n  IRxRecordInstanceAssociationInstances,\n  RecordInstance,\n  RX_RECORD_DEFINITION,\n  RxRecordInstanceService\n} from '@helix/platform/record/api';\nimport { RxBundleCacheService, RxNotificationService } from '@helix/platform/shared/api';\nimport { IDefinitionPickerComponentOptions, RxDefinitionPickerType } from '@helix/platform/shared/components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { find, set } from 'lodash';\nimport moment from 'moment-es6';\nimport { RX_COGNITIVE_SEARCH } from '../cognitive-search.constant';\nimport { RxModalClass } from '@helix/platform/ui-kit';\nimport { RxCognitiveSearchProjectDataPageService } from '../cognitive-search-project-data-page.service';\nimport { RxCognitiveSearchCollectionDataPageService } from '../cognitive-search-collection-data-page.service';\nimport { ICognitiveSearchData } from '../cognitive-search.interfaces';\nimport {\n  distinctUntilChanged,\n  filter,\n  map,\n  shareReplay,\n  startWith,\n  switchMap,\n  tap,\n  withLatestFrom\n} from 'rxjs/operators';\nimport { forkJoin, Observable } from 'rxjs';\n\n@Component({\n  selector: 'rx-cognitive-search-editor',\n  templateUrl: './cognitive-search-editor.component.html'\n})\nexport class CognitiveSearchEditorAdminComponent extends RxModalClass implements OnInit {\n  searchDatasetForm: FormGroup;\n  isEditMode: boolean;\n  statusAlert: Alert;\n  failedReasonAlert: Alert;\n  busyConfig: BusyConfig;\n  projects$: Observable<ICognitiveSearchData[]>;\n  collections$: Observable<ICognitiveSearchData[]>;\n\n  externalDatasetSourceOptions: RxSelectOption[] = [\n    {\n      value: '10',\n      displayValue: this.translateService.instant('com.bmc.arsys.rx.client.admin.cognitive-search.rkm.label')\n    },\n    {\n      value: '20',\n      displayValue: this.translateService.instant('com.bmc.arsys.rx.client.admin.cognitive-search.other.label')\n    }\n  ];\n\n  options: IDefinitionPickerComponentOptions = {\n    label: this.translateService.instant('com.bmc.arsys.rx.client.common.record-definition-name.label'),\n    definitionType: RxDefinitionPickerType.Record,\n    required: true\n  };\n\n  searchLocaleOptions: string[] = ['en', 'ar', 'fr', 'de', 'ja', 'it', 'pt', 'es'];\n  private datasetType: number;\n  private recordInstance: RecordInstance;\n  private formatDataSource: (dataSource: string) => string;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private dockedPanelContext: DockedPanelContext,\n    private rxRecordInstanceService: RxRecordInstanceService,\n    private rxNotificationService: RxNotificationService,\n    private rxBundleCacheService: RxBundleCacheService,\n    private rxCognitiveSearchProjectDataPageService: RxCognitiveSearchProjectDataPageService,\n    private rxCognitiveSearchCollectionDataPageService: RxCognitiveSearchCollectionDataPageService,\n    private translateService: TranslateService,\n    protected injector: Injector\n  ) {\n    super(dockedPanelContext, injector);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.isEditMode = this.dockedPanelContext.getData().isEditMode;\n    this.datasetType = this.dockedPanelContext.getData().datasetType;\n    this.formatDataSource = this.dockedPanelContext.getData().formatDataSource;\n\n    this.searchDatasetForm = this.formBuilder.group({\n      datasetName: null,\n      description: null,\n      locale: [],\n      recordDefinition: null,\n      projectId: [],\n      collectionId: [],\n      externalDatasetSource: [],\n      confidenceThreshold: 0\n    });\n\n    this.collections$ = this.searchDatasetForm.controls.projectId.valueChanges.pipe(\n      distinctUntilChanged(),\n      map((selection: ICognitiveSearchData[]) => (this.isExternalDataset() ? selection?.[0] : null)),\n      filter(Boolean),\n      switchMap((project: ICognitiveSearchData) =>\n        this.rxCognitiveSearchCollectionDataPageService.get({\n          params: { projectId: project.id }\n        })\n      ),\n      map((dataPage) => dataPage.data.sort((a, b) => a.name.localeCompare(b.name)) as ICognitiveSearchData[]),\n      startWith([]),\n      tap((collections) => {\n        if (!this.isEditMode && this.isExternalDataset()) {\n          this.searchDatasetForm.controls.collectionId.setValue([]);\n          collections.length\n            ? this.searchDatasetForm.controls.collectionId.enable()\n            : this.searchDatasetForm.controls.collectionId.disable();\n        }\n      })\n    );\n\n    this.projects$ = this.rxCognitiveSearchProjectDataPageService.get().pipe(\n      map((dataPage) => dataPage.data.sort((a, b) => a.name.localeCompare(b.name)) as ICognitiveSearchData[]),\n      startWith([]),\n      shareReplay(1),\n      tap(() => {\n        if (!this.isEditMode) {\n          this.searchDatasetForm.controls.projectId.enable();\n        }\n      }),\n      map((projects) =>\n        !this.isEditMode && this.isHelixPlatformDataset()\n          ? projects.filter((project) => project.collectionCount < RX_COGNITIVE_SEARCH.maxCollectionsPerProject)\n          : projects\n      )\n    );\n\n    if (this.isEditMode) {\n      this.searchDatasetForm.get('datasetName').disable();\n      this.searchDatasetForm.get('description').disable();\n      this.searchDatasetForm.get('locale').disable();\n      this.searchDatasetForm.get('recordDefinition').disable();\n      this.searchDatasetForm.get('projectId').disable();\n      this.searchDatasetForm.get('collectionId').disable();\n      this.searchDatasetForm.get('externalDatasetSource').disable();\n\n      const recordInstance$ = this.rxRecordInstanceService\n        .get(RX_COGNITIVE_SEARCH.definitionName, this.dockedPanelContext.getData().recordId)\n        .pipe(tap((recordInstance) => (this.recordInstance = recordInstance)));\n\n      const subscription = forkJoin([recordInstance$, this.projects$])\n        .pipe(\n          switchMap(([recordInstance, projects]) => {\n            const projectId = recordInstance.fieldInstances[RX_COGNITIVE_SEARCH.fields.projectId].value;\n            const project = projects.find((project) => project.id === projectId);\n\n            if (project) {\n              this.searchDatasetForm.controls.projectId.setValue([project]);\n            } else {\n              this.searchDatasetForm.controls.projectId.setValue(\n                [\n                  {\n                    name: this.translateService.instant(\n                      'com.bmc.arsys.rx.client.admin.cognitive-search.project-not-found.label'\n                    ),\n                    id: projectId\n                  }\n                ],\n                { emitEvent: false }\n              );\n            }\n\n            return project\n              ? this.rxCognitiveSearchCollectionDataPageService.get({ params: { projectId } })\n              : this.rxCognitiveSearchCollectionDataPageService.getEmptyDataPage();\n          }),\n          map((dataPage) => dataPage.data as ICognitiveSearchData[]),\n          withLatestFrom(recordInstance$)\n        )\n        .subscribe(([collections, recordInstance]) => {\n          const collectionId = recordInstance.fieldInstances[RX_COGNITIVE_SEARCH.fields.datasetId].value;\n          const selectedCollection = collections.find((collection) => collection.id === collectionId);\n\n          this.searchDatasetForm.controls.collectionId.setValue([\n            selectedCollection || {\n              name: this.translateService.instant(\n                'com.bmc.arsys.rx.client.admin.cognitive-search.collection-not-found.label'\n              ),\n              id: collectionId\n            }\n          ]);\n\n          this.setFormControlValues();\n        });\n\n      this.busyConfig = {\n        busy: subscription,\n        loaderType: LoaderType.SECTION,\n        message: 'Loading'\n      };\n    } else {\n      this.searchDatasetForm.get('locale').setValue([this.searchLocaleOptions[0]]);\n      this.searchDatasetForm.get('confidenceThreshold').setValue(0);\n      this.searchDatasetForm.get('projectId').disable();\n      this.searchDatasetForm.get('collectionId').disable();\n\n      if (this.isHelixPlatformDataset()) {\n        this.searchDatasetForm.get('externalDatasetSource').disable();\n      } else if (this.isExternalDataset()) {\n        this.searchDatasetForm.get('recordDefinition').disable();\n\n        this.searchDatasetForm\n          .get('externalDatasetSource')\n          .setValue([\n            find(this.externalDatasetSourceOptions, { value: RX_COGNITIVE_SEARCH.externalDatasetSourceTypes.rkm })\n          ]);\n      }\n\n      this.rxRecordInstanceService\n        .getNew(RX_COGNITIVE_SEARCH.definitionName)\n        .subscribe((recordInstance: RecordInstance) => (this.recordInstance = recordInstance));\n    }\n  }\n\n  isDirty(): boolean {\n    return this.searchDatasetForm.dirty;\n  }\n\n  isHelixPlatformDataset(): boolean {\n    return this.datasetType === RX_COGNITIVE_SEARCH.datasetTypes.bmcHelixPlatForm;\n  }\n\n  isExternalDataset(): boolean {\n    return this.datasetType === RX_COGNITIVE_SEARCH.datasetTypes.external;\n  }\n\n  private setFormControlValues(): void {\n    const status = find(RX_COGNITIVE_SEARCH.datasetStatus, {\n      id: this.recordInstance.fieldInstances[RX_RECORD_DEFINITION.coreFieldIds.status].value\n    });\n\n    this.statusAlert = {\n      content: this.translateService.instant(status.label),\n      type: 'inline',\n      variant: status.variant as ColorVariantType\n    };\n\n    this.failedReasonAlert = this.recordInstance.fieldInstances[RX_COGNITIVE_SEARCH.fields.datasetError].value\n      ? {\n          content: this.recordInstance.fieldInstances[RX_COGNITIVE_SEARCH.fields.datasetError].value,\n          type: 'page',\n          variant: 'warning',\n          dismissible: false\n        }\n      : null;\n\n    this.searchDatasetForm\n      .get('datasetName')\n      .setValue(this.recordInstance.fieldInstances[RX_COGNITIVE_SEARCH.fields.datasetName].value);\n\n    this.searchDatasetForm\n      .get('description')\n      .setValue(this.recordInstance.fieldInstances[RX_RECORD_DEFINITION.coreFieldIds.description].value);\n\n    this.searchDatasetForm\n      .get('locale')\n      .setValue([this.recordInstance.fieldInstances[RX_COGNITIVE_SEARCH.fields.locale].value]);\n\n    if (this.isHelixPlatformDataset()) {\n      this.searchDatasetForm\n        .get('recordDefinition')\n        .setValue(\n          this.formatDataSource(this.recordInstance.fieldInstances[RX_COGNITIVE_SEARCH.fields.dataSource].value)\n        );\n    } else if (this.isExternalDataset()) {\n      this.searchDatasetForm.get('externalDatasetSource').setValue([\n        find(this.externalDatasetSourceOptions, {\n          value: String(this.recordInstance.fieldInstances[RX_COGNITIVE_SEARCH.fields.externalDatasetSource].value)\n        })\n      ]);\n    }\n\n    this.searchDatasetForm\n      .get('confidenceThreshold')\n      .setValue(this.recordInstance.fieldInstances[RX_COGNITIVE_SEARCH.fields.confidenceThreshold].value);\n  }\n\n  optionFormatter(option: RxSelectOption): string {\n    return option.displayValue || option.name;\n  }\n\n  thresholdRangeValidator(): (control: AbstractControl) => ValidationErrors | null {\n    return (control: AbstractControl) => {\n      return control.value && !/^(0(\\.[0-9]{1,6})?)|^(1(\\.0{1,6})?)$/.test(control.value)\n        ? {\n            thresholdOutOfRange: {\n              message: this.translateService.instant(\n                'com.bmc.arsys.rx.client.admin.cognitive-search.range-validation.message'\n              )\n            }\n          }\n        : null;\n    };\n  }\n\n  saveSearchDataset(): void {\n    this.searchDatasetForm.markAsPristine();\n\n    if (!this.isEditMode) {\n      this.recordInstance.fieldInstances[RX_COGNITIVE_SEARCH.fields.searchType].value = this.translateService.instant(\n        'com.bmc.arsys.rx.client.common.search.label'\n      );\n\n      this.recordInstance.setFieldValue(\n        RX_RECORD_DEFINITION.coreFieldIds.status,\n        RX_COGNITIVE_SEARCH.datasetStatus.inProgress.id\n      );\n\n      this.recordInstance.setFieldValue(\n        RX_RECORD_DEFINITION.coreFieldIds.description,\n        this.searchDatasetForm.get('description').value\n      );\n\n      this.recordInstance.setFieldValue(RX_COGNITIVE_SEARCH.fields.datasetId, '');\n\n      this.recordInstance.fieldInstances[RX_COGNITIVE_SEARCH.fields.datasetId].value =\n        this.recordInstance.setFieldValue(\n          RX_COGNITIVE_SEARCH.fields.datasetName,\n          this.searchDatasetForm.get('datasetName').value\n        );\n\n      this.recordInstance.setFieldValue(RX_COGNITIVE_SEARCH.fields.bundleId, this.rxBundleCacheService.bundleId);\n\n      this.recordInstance.setFieldValue(\n        RX_COGNITIVE_SEARCH.fields.locale,\n        this.searchDatasetForm.get('locale').value[0]\n      );\n\n      this.recordInstance.setFieldValue(RX_COGNITIVE_SEARCH.fields.dateLastSubmitted, moment());\n      this.recordInstance.setFieldValue(RX_COGNITIVE_SEARCH.fields.searchDatasetType, this.datasetType);\n\n      this.recordInstance.setFieldValue(RX_COGNITIVE_SEARCH.fields.projectId, [\n        this.searchDatasetForm.get('projectId').value[0].id\n      ]);\n\n      if (this.isExternalDataset()) {\n        this.recordInstance.setFieldValue(RX_COGNITIVE_SEARCH.fields.datasetId, [\n          this.searchDatasetForm.get('collectionId').value[0].id\n        ]);\n\n        this.recordInstance.setFieldValue(\n          RX_COGNITIVE_SEARCH.fields.externalDatasetSource,\n          this.searchDatasetForm.get('externalDatasetSource').value[0].value\n        );\n      } else if (this.isHelixPlatformDataset()) {\n        this.recordInstance.setFieldValue(\n          RX_COGNITIVE_SEARCH.fields.dataSource,\n          JSON.stringify({\n            resourceType: RX_COGNITIVE_SEARCH.resourceType,\n            recordDefinitions: [this.searchDatasetForm.get('recordDefinition').value]\n          })\n        );\n      }\n\n      this.recordInstance.associationInstances = this.prepareAssociatedRecordInstance(\n        this.recordInstance.fieldInstances[RX_COGNITIVE_SEARCH.fields.datasetName].value\n      );\n    }\n\n    this.recordInstance.setFieldValue(\n      RX_COGNITIVE_SEARCH.fields.confidenceThreshold,\n      this.searchDatasetForm.get('confidenceThreshold').value\n    );\n\n    if (this.isEditMode) {\n      this.rxRecordInstanceService.save(this.recordInstance).subscribe(() => this.successCallback());\n    } else {\n      this.rxRecordInstanceService.create(this.recordInstance).subscribe(() => this.successCallback());\n    }\n  }\n\n  private successCallback(): void {\n    this.rxNotificationService.addSuccessMessage(\n      this.translateService.instant(\n        'com.bmc.arsys.rx.client.admin.cognitive-search.search-data-save-successful.message'\n      )\n    );\n\n    this.dockedPanelContext.close(null);\n  }\n\n  private prepareAssociatedRecordInstance(datasetName: string): IRxRecordInstanceAssociationInstances {\n    const associationOperations = set({}, 'nodeB', {\n      pending: [\n        {\n          recordDefinitionName: RX_COGNITIVE_SEARCH.templateDefinitionName,\n          isNewInstance: true,\n          id: RX_COGNITIVE_SEARCH.templateFields.templateType,\n          fieldInstances: {\n            [RX_COGNITIVE_SEARCH.templateFields.templateType]: {\n              id: RX_COGNITIVE_SEARCH.templateFields.templateType,\n              value: RX_COGNITIVE_SEARCH.templateTypes.webChannel\n            },\n            [RX_RECORD_DEFINITION.coreFieldIds.description]: {\n              id: RX_RECORD_DEFINITION.coreFieldIds.description,\n              value: 'Template for ' + datasetName\n            }\n          }\n        },\n        {\n          recordDefinitionName: RX_COGNITIVE_SEARCH.templateDefinitionName,\n          isNewInstance: true,\n          id: RX_COGNITIVE_SEARCH.templateFields.templateType,\n          fieldInstances: {\n            [RX_COGNITIVE_SEARCH.templateFields.templateType]: {\n              id: RX_COGNITIVE_SEARCH.templateFields.templateType,\n              value: RX_COGNITIVE_SEARCH.templateTypes.nonWebChannel\n            },\n            [RX_RECORD_DEFINITION.coreFieldIds.description]: {\n              id: RX_RECORD_DEFINITION.coreFieldIds.description,\n              value: 'Template for ' + datasetName\n            }\n          }\n        }\n      ]\n    });\n\n    return set({}, RX_COGNITIVE_SEARCH.templateAssociationDefinitionName, associationOperations);\n  }\n\n  cancel(): void {\n    this.dockedPanelContext.dismiss(DismissReasons.CLOSE_BTN);\n  }\n}\n","<div class=\"dp-body\" [ngBusy]=\"busyConfig\">\n  <div class=\"mb-1\" *ngIf=\"isEditMode && statusAlert\">\n    <label class=\"form-control-label\">\n      {{ 'com.bmc.arsys.rx.client.admin.cognitive-search.status.label' | translate }}\n    </label>\n    <adapt-alert [config]=\"statusAlert\"></adapt-alert>\n  </div>\n\n  <div class=\"mb-1\" *ngIf=\"isEditMode && failedReasonAlert\">\n    <label class=\"form-control-label\">\n      {{ 'com.bmc.arsys.rx.client.common.error.label' | translate }}\n    </label>\n    <adapt-alert [config]=\"failedReasonAlert\"></adapt-alert>\n  </div>\n\n  <form [formGroup]=\"searchDatasetForm\">\n    <adapt-rx-textfield\n      class=\"form-group d-block\"\n      rx-id=\"dataset-name\"\n      label=\"{{ 'com.bmc.arsys.rx.client.admin.cognitive-search.data-set-name.label' | translate }}\"\n      formControlName=\"datasetName\"\n      required=\"true\"\n    >\n    </adapt-rx-textfield>\n\n    <adapt-rx-textfield\n      class=\"form-group d-block\"\n      rx-id=\"description\"\n      label=\"{{ 'com.bmc.arsys.rx.client.common.description.label' | translate }}\"\n      formControlName=\"description\"\n      required=\"true\"\n    >\n    </adapt-rx-textfield>\n\n    <adapt-rx-select\n      class=\"form-group d-block\"\n      label=\"{{ 'com.bmc.arsys.rx.client.admin.cognitive-search.locale.label' | translate }}\"\n      rx-id=\"locale\"\n      formControlName=\"locale\"\n      [options]=\"searchLocaleOptions\"\n      required=\"true\"\n    >\n    </adapt-rx-select>\n\n    <adapt-rx-select\n      class=\"form-group d-block\"\n      label=\"{{ 'com.bmc.arsys.rx.client.admin.cognitive-search.project-id.label' | translate }}\"\n      rx-id=\"project-id\"\n      formControlName=\"projectId\"\n      [options]=\"projects$ | async\"\n      [optionFormatter]=\"optionFormatter\"\n      required=\"true\"\n      [tooltip]=\"\n        isHelixPlatformDataset()\n          ? {\n              iconName: 'question_circle_o',\n              content: 'com.bmc.arsys.rx.client.admin.cognitive-search.project-id.tooltip' | translate,\n              placement: 'right',\n              popoverMode: true\n            }\n          : null\n      \"\n    >\n    </adapt-rx-select>\n\n    <rx-definition-picker\n      *ngIf=\"isHelixPlatformDataset()\"\n      class=\"form-group d-block\"\n      [options]=\"options\"\n      formControlName=\"recordDefinition\"\n      rx-id=\"record-definition\"\n      required=\"true\"\n    >\n    </rx-definition-picker>\n\n    <adapt-rx-select\n      *ngIf=\"isExternalDataset()\"\n      class=\"form-group d-block\"\n      rx-id=\"collection-id\"\n      label=\"{{ 'com.bmc.arsys.rx.client.admin.cognitive-search.collection-id.label' | translate }}\"\n      formControlName=\"collectionId\"\n      [options]=\"collections$ | async\"\n      [optionFormatter]=\"optionFormatter\"\n      required=\"true\"\n    >\n    </adapt-rx-select>\n\n    <adapt-rx-select\n      *ngIf=\"isExternalDataset()\"\n      class=\"form-group d-block\"\n      label=\"{{ 'com.bmc.arsys.rx.client.admin.cognitive-search.external-data-set-source.label' | translate }}\"\n      rx-id=\"external-data-set-source\"\n      formControlName=\"externalDatasetSource\"\n      [options]=\"externalDatasetSourceOptions\"\n      [optionFormatter]=\"optionFormatter\"\n      required=\"true\"\n    >\n    </adapt-rx-select>\n\n    <adapt-rx-counter\n      adaptRange\n      class=\"form-group d-block\"\n      rx-id=\"confidence-threshold\"\n      label=\"{{ 'com.bmc.arsys.rx.client.admin.cognitive-search.confidence-threshold.label' | translate }}\"\n      [max]=\"1\"\n      [min]=\"0\"\n      [formControl]=\"searchDatasetForm.controls.confidenceThreshold\"\n      [rxCustomValidators]=\"thresholdRangeValidator()\"\n      [step]=\"0.1\"\n      [tooltip]=\"{\n        iconName: 'question_circle_o',\n        content: popoverContent,\n        placement: 'right',\n        popoverMode: true\n      }\"\n    >\n    </adapt-rx-counter>\n  </form>\n</div>\n\n<div class=\"dp-footer\">\n  <button\n    type=\"button\"\n    adapt-button\n    btn-type=\"primary\"\n    rx-id=\"save-button\"\n    class=\"mr-2\"\n    [disabled]=\"searchDatasetForm.pristine || searchDatasetForm.invalid\"\n    (click)=\"saveSearchDataset()\"\n  >\n    {{ 'com.bmc.arsys.rx.client.common.save.label' | translate }}\n  </button>\n\n  <button type=\"button\" adapt-button (click)=\"cancel()\" btn-type=\"secondary\" rx-id=\"cancel-button\">Cancel</button>\n</div>\n\n<ng-template #popoverContent>\n  <div\n    style=\"white-space: pre-wrap\"\n    [innerHTML]=\"'com.bmc.arsys.rx.client.admin.cognitive-search.data-set-range.tooltip' | translate\"\n  ></div>\n</ng-template>\n"]}