{"version":3,"file":"association-registration.module.js","sourceRoot":"","sources":["../../../../../../../../libs/platform/view/components/field-components/association/association-registration.module.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,wBAAwB,EAAE,QAAQ,EAAE,MAAM,eAAe,CAAC;AACnE,OAAO,EAAE,kBAAkB,EAAE,8BAA8B,EAAE,mBAAmB,EAAE,MAAM,0BAA0B,CAAC;AACnH,OAAO,EAAE,wBAAwB,EAAE,MAAM,kFAAkF,CAAC;AAC5H,OAAO,EAAE,iBAAiB,EAAE,MAAM,8BAA8B,CAAC;AACjE,OAAO,EAAE,sBAAsB,EAAE,MAAM,iCAAiC,CAAC;AACzE,OAAO,EAAE,cAAc,EAAE,MAAM,qBAAqB,CAAC;AACrD,OAAO,EAAE,uBAAuB,EAAE,MAAM,oCAAoC,CAAC;AAC7E,OAAO,EAAE,4BAA4B,EAAE,MAAM,uCAAuC,CAAC;AACrF,OAAO,EAAE,mBAAmB,EAAE,MAAM,8BAA8B,CAAC;AACnE,OAAO,EAAE,sBAAsB,EAAE,MAAM,mCAAmC,CAAC;AAC3E,OAAO,EAAE,cAAc,EAAE,MAAM,4BAA4B,CAAC;AAC5D,OAAO,EAAE,iCAAiC,EAAE,MAAM,oDAAoD,CAAC;;;AAKvG,MAAM,OAAO,6BAA6B;IACxC,YACU,8BAA8D,EAC9D,wBAAkD;QADlD,mCAA8B,GAA9B,8BAA8B,CAAgC;QAC9D,6BAAwB,GAAxB,wBAAwB,CAA0B;QAE1D,8BAA8B,CAAC,QAAQ,CACrC;YACE,IAAI,EAAE,mBAAmB,CAAC,WAAW;YACrC,oBAAoB,EAAE,IAAI;YAC1B,oBAAoB,EAAE,sBAAsB;YAC5C,QAAQ,EAAE,cAAc,CAAC,gBAAgB;YACzC,sBAAsB,EAAE,IAAI,CAAC,wBAAwB,CAAC,uBAAuB,CAAC,4BAA4B,CAAC;YAC3G,sBAAsB,EAAE,iCAAiC;YACzD,gBAAgB,EAAE,IAAI,CAAC,wBAAwB,CAAC,uBAAuB,CAAC,sBAAsB,CAAC;YAC/F,iBAAiB,CAAC,cAAwB;gBACxC,OAAO,cAAc,CAAC,QAAQ,CAAC,mBAAmB,CAAC,YAAY,CAAC,CAAC;YACnE,CAAC;YACD,OAAO,EAAE;gBACP,2BAA2B,EAAE,IAAI;aAClC;YACD,IAAI,EAAE,aAAa;YACnB,KAAK,EAAE,mBAAmB,CAAC,gBAAgB;YAC3C,IAAI,EAAE,cAAc;YACpB,UAAU,EAAE,wBAAwB,CAAC,MAAM,CAAC;gBAC1C,IAAI,EAAE,gBAAgB;gBACtB,0BAA0B,EAAE,IAAI;aACjC,CAAC;YACF,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,kBAAkB,CAAC,iBAAiB;iBAC3C;aACF;SACF,EACD;YACE,IAAI,EAAE,cAAc,CAAC,cAAc,CAAC,iBAAiB;YACrD,kBAAkB,EAAE,mBAAmB;YACvC,UAAU,EAAE;gBACV;oBACE,IAAI,EAAE,2BAA2B;iBAClC;gBACD;oBACE,IAAI,EAAE,kBAAkB;oBACxB,0BAA0B,EAAE,IAAI;iBACjC;aACF;YACD,eAAe,EAAE,IAAI;SACtB,EACD;YACE,IAAI,EAAE,cAAc,CAAC,cAAc,CAAC,qBAAqB;YACzD,kBAAkB,EAAE,uBAAuB;YAC3C,eAAe,EAAE,IAAI;YACrB,UAAU,EAAE;gBACV;oBACE,IAAI,EAAE,OAAO;oBACb,WAAW,EAAE,IAAI;iBAClB;aACF;SACF,CACF,CAAC;IACJ,CAAC;;0HA3DU,6BAA6B;2HAA7B,6BAA6B,YAF9B,iBAAiB,EAAE,uBAAuB;2HAEzC,6BAA6B,YAF/B,CAAC,iBAAiB,EAAE,uBAAuB,CAAC;2FAE1C,6BAA6B;kBAHzC,QAAQ;mBAAC;oBACR,OAAO,EAAE,CAAC,iBAAiB,EAAE,uBAAuB,CAAC;iBACtD","sourcesContent":["import { ComponentFactoryResolver, NgModule } from '@angular/core';\nimport { RX_VIEW_DEFINITION, RxViewComponentRegistryService, RxViewComponentType } from '@helix/platform/view/api';\nimport { RX_BASE_FIELD_PROPERTIES } from '../base-record-editor-field/runtime/base-record-editor-field-properties.constant';\nimport { AssociationModule } from './runtime/association.module';\nimport { RxAssociationComponent } from './runtime/association.component';\nimport { RX_ASSOCIATION } from './association.types';\nimport { AssociationDesignModule } from './design/association-design.module';\nimport { RxAssociationDesignComponent } from './design/association-design.component';\nimport { RX_FIELD_COMPONENTS } from '../field-components.constant';\nimport { AssociationDesignModel } from './design/association-design.model';\nimport { RX_APPLICATION } from '@helix/platform/shared/api';\nimport { AssociationExpressionConfigurator } from './design/association-expression-configurator.class';\n\n@NgModule({\n  imports: [AssociationModule, AssociationDesignModule]\n})\nexport class AssociationRegistrationModule {\n  constructor(\n    private rxViewComponentRegistryService: RxViewComponentRegistryService,\n    private componentFactoryResolver: ComponentFactoryResolver\n  ) {\n    rxViewComponentRegistryService.register(\n      {\n        type: RxViewComponentType.Association,\n        isContainerComponent: true,\n        designComponentModel: AssociationDesignModel,\n        bundleId: RX_APPLICATION.platformBundleId,\n        designComponentFactory: this.componentFactoryResolver.resolveComponentFactory(RxAssociationDesignComponent),\n        expressionConfigurator: AssociationExpressionConfigurator,\n        componentFactory: this.componentFactoryResolver.resolveComponentFactory(RxAssociationComponent),\n        canBeInsertedInto(componentTypes: string[]): boolean {\n          return componentTypes.includes(RxViewComponentType.RecordEditor);\n        },\n        options: {\n          canBeEmbeddedInRecordEditor: true\n        },\n        name: 'Association',\n        group: RX_FIELD_COMPONENTS.stencilGroupName,\n        icon: 'arrow_schema',\n        properties: RX_BASE_FIELD_PROPERTIES.concat({\n          name: 'recordInstance',\n          enableExpressionEvaluation: true\n        }),\n        outlets: [\n          {\n            name: RX_VIEW_DEFINITION.defaultOutletName\n          }\n        ]\n      },\n      {\n        type: RX_ASSOCIATION.componentTypes.associationFilter,\n        configPropertyName: 'associationFilter',\n        properties: [\n          {\n            name: 'associationDefinitionName'\n          },\n          {\n            name: 'recordInstanceId',\n            enableExpressionEvaluation: true\n          }\n        ],\n        isDataComponent: true\n      },\n      {\n        type: RX_ASSOCIATION.componentTypes.associatedRecordField,\n        configPropertyName: 'associatedRecordField',\n        isDataComponent: true,\n        properties: [\n          {\n            name: 'label',\n            localizable: true\n          }\n        ]\n      }\n    );\n  }\n}\n"]}