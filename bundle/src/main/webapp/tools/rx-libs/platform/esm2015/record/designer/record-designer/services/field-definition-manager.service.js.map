{"version":3,"file":"field-definition-manager.service.js","sourceRoot":"","sources":["../../../../../../../../libs/platform/record/designer/record-designer/services/field-definition-manager.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { RxAttachmentFieldDefinitionService } from './attachment-field-definition.service';\nimport { RxBooleanFieldDefinitionService } from './boolean-field-definition.service';\nimport { RxCharacterFieldDefinitionService } from './character-field-definition.service';\nimport { RxDateOnlyFieldDefinitionService } from './date-only-field-definition.service';\nimport { RxDateTimeFieldDefinitionService } from './date-time-field-definition.service';\nimport { RxDecimalFieldDefinitionService } from './decimal-field-definition.service';\nimport { RxIntegerFieldDefinitionService } from './integer-field-definition.service';\nimport { RxLocalizedCharacterFieldDefinitionService } from './localized-character-field-definition.service';\nimport { RxRealFieldDefinitionService } from './real-field-definition.service';\nimport { RxSelectionFieldDefinitionService } from './selection-field-definition.service';\nimport { RxTimeOnlyFieldDefinitionService } from './time-only-field-definition.service';\nimport { RxBaseFieldDefinitionService } from './base-field-definition.service';\nimport { IFormBuilderConfig } from '@helix/platform/shared/api';\nimport { IRecordDefinitionModel, IRecordFieldDefinitionModel } from '../../record-designer.types';\nimport { IValidationIssue } from '@helix/platform/ui-kit';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxFieldDefinitionManagerService {\n  private fieldServices = new Map<string, RxBaseFieldDefinitionService>();\n\n  constructor(\n    rxAttachmentFieldDefinitionService: RxAttachmentFieldDefinitionService,\n    rxBooleanFieldDefinitionService: RxBooleanFieldDefinitionService,\n    rxCharacterFieldDefinitionService: RxCharacterFieldDefinitionService,\n    rxLocalizedCharacterFieldDefinitionService: RxLocalizedCharacterFieldDefinitionService,\n    rxDateTimeFieldDefinitionService: RxDateTimeFieldDefinitionService,\n    rxDateOnlyFieldDefinitionService: RxDateOnlyFieldDefinitionService,\n    rxTimeOnlyFieldDefinitionService: RxTimeOnlyFieldDefinitionService,\n    rxIntegerFieldDefinitionService: RxIntegerFieldDefinitionService,\n    rxDecimalFieldDefinitionService: RxDecimalFieldDefinitionService,\n    rxRealFieldDefinitionService: RxRealFieldDefinitionService,\n    rxSelectionFieldDefinitionService: RxSelectionFieldDefinitionService\n  ) {\n    this.fieldServices.set(RX_RECORD_DEFINITION.dataTypes.attachment.resourceType, rxAttachmentFieldDefinitionService);\n    this.fieldServices.set(RX_RECORD_DEFINITION.dataTypes.boolean.resourceType, rxBooleanFieldDefinitionService);\n    this.fieldServices.set(RX_RECORD_DEFINITION.dataTypes.character.resourceType, rxCharacterFieldDefinitionService);\n\n    this.fieldServices.set(\n      RX_RECORD_DEFINITION.dataTypes.localizedCharacter.resourceType,\n      rxLocalizedCharacterFieldDefinitionService\n    );\n\n    this.fieldServices.set(RX_RECORD_DEFINITION.dataTypes.dateTime.resourceType, rxDateTimeFieldDefinitionService);\n    this.fieldServices.set(RX_RECORD_DEFINITION.dataTypes.dateOnly.resourceType, rxDateOnlyFieldDefinitionService);\n    this.fieldServices.set(RX_RECORD_DEFINITION.dataTypes.timeOnly.resourceType, rxTimeOnlyFieldDefinitionService);\n    this.fieldServices.set(RX_RECORD_DEFINITION.dataTypes.integer.resourceType, rxIntegerFieldDefinitionService);\n    this.fieldServices.set(RX_RECORD_DEFINITION.dataTypes.decimal.resourceType, rxDecimalFieldDefinitionService);\n    this.fieldServices.set(RX_RECORD_DEFINITION.dataTypes.real.resourceType, rxRealFieldDefinitionService);\n    this.fieldServices.set(RX_RECORD_DEFINITION.dataTypes.selection.resourceType, rxSelectionFieldDefinitionService);\n  }\n\n  getNewFieldDefinitionModel(resourceType: string, fieldProperties: Partial<IRecordFieldDefinitionModel>) {\n    return this.fieldServices.get(resourceType).getNewFieldDefinitionModel(fieldProperties);\n  }\n\n  getFieldInspectorConfig(\n    fieldModel: IRecordFieldDefinitionModel,\n    definitionModel: IRecordDefinitionModel,\n    isReadOnly: boolean\n  ): IFormBuilderConfig {\n    return this.fieldServices\n      .get(fieldModel.resourceType)\n      .getFieldInspectorConfig(fieldModel, definitionModel, isReadOnly);\n  }\n\n  validate(fieldModel: IRecordFieldDefinitionModel, definitionModel: IRecordDefinitionModel): IValidationIssue[] {\n    return this.fieldServices.get(fieldModel.resourceType).validate(fieldModel, definitionModel);\n  }\n}\n"]}