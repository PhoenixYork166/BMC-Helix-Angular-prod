{"version":3,"file":"ipaas-base-apis.component.js","sourceRoot":"","sources":["../../../../../../../../libs/platform/admin/components/ipaas/ipaas-base-apis/ipaas-base-apis.component.ts","../../../../../../../../libs/platform/admin/components/ipaas/ipaas-base-apis/ipaas-base-apis.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport {\n  ColumnSortDirection,\n  IRecordGridActionButton,\n  IRecordGridColumn,\n  IRecordGridConfig,\n  IRecordGridDataPageParams,\n  RecordGridComponent\n} from '@helix/platform/view/components';\nimport { noop, Observable, of } from 'rxjs';\nimport { IRecordDefinition, RX_RECORD_DEFINITION, RxRecordInstanceDataPageService } from '@helix/platform/record/api';\nimport { RX_IPAAS_APIS } from './ipaas-base-apis.constant';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IDataPageResult, IPlainObject, RxNotificationService } from '@helix/platform/shared/api';\nimport { RxIpaasBaseApisService } from './ipaas-base-apis.service';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { IRowDataItem, OpenViewActionModalSize, RxViewActionUtilsService } from '@helix/platform/view/api';\nimport { castArray, get, map as _map } from 'lodash';\nimport { GroupEditorComponent } from './group-editor/group-editor.component';\nimport { IIpaasApisConfig, IIpaasApiInfo } from './ipaas-base-apis.types';\n\n@Component({\n  selector: 'rx-ipaas-base-apis',\n  templateUrl: './ipaas-base-apis.component.html'\n})\nexport class IpaasBaseApisComponent implements OnInit {\n  @Input()\n  ipaasApisConfig: IIpaasApisConfig;\n\n  @Output()\n  createApi = new EventEmitter<IIpaasApiInfo>();\n\n  @Output()\n  editApi = new EventEmitter<IIpaasApiInfo>();\n\n  @Output()\n  deleteApis = new EventEmitter<string[]>();\n\n  @ViewChild('ipaasApisGrid')\n  ipaasApisGrid: RecordGridComponent;\n\n  gridConfig$: Observable<IRecordGridConfig>;\n\n  recordDefinition: IRecordDefinition = {\n    fieldDefinitions: [\n      {\n        id: RX_IPAAS_APIS.fieldIds.groupName,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: RX_IPAAS_APIS.fieldIds.apiName,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: RX_IPAAS_APIS.fieldIds.organization,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: RX_IPAAS_APIS.fieldIds.environment,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: RX_IPAAS_APIS.fieldIds.path,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n      },\n      {\n        id: RX_IPAAS_APIS.fieldIds.method,\n        resourceType: RX_RECORD_DEFINITION.resourceTypes.selection,\n        optionNamesById: RX_IPAAS_APIS.methods\n      }\n    ]\n  };\n\n  constructor(\n    private translateService: TranslateService,\n    private rxIpaasBaseApisService: RxIpaasBaseApisService,\n    private rxNotificationService: RxNotificationService,\n    private rxModalService: RxModalService,\n    private rxViewActionUtilsService: RxViewActionUtilsService,\n    private rxRecordInstanceDataPageService: RxRecordInstanceDataPageService\n  ) {}\n\n  ngOnInit(): void {\n    this.gridConfig$ = of({\n      getData: this.getData.bind(this),\n      recordDefinitionName: this.ipaasApisConfig.recordDefinitionName,\n      columns: this.getColumns(),\n      actionButtons: this.getActionButtons(),\n      getRecordDefinition: () => of(this.recordDefinition),\n      styles: 'flex-fill'\n    });\n  }\n\n  private getData(queryParams: IRecordGridDataPageParams): Observable<IDataPageResult> {\n    const params = {\n      ...queryParams,\n      propertySelection: [\n        RX_RECORD_DEFINITION.coreFieldIds.id,\n        RX_IPAAS_APIS.fieldIds.groupName,\n        RX_IPAAS_APIS.fieldIds.apiName,\n        RX_IPAAS_APIS.fieldIds.organization,\n        RX_IPAAS_APIS.fieldIds.environment,\n        RX_IPAAS_APIS.fieldIds.path,\n        RX_IPAAS_APIS.fieldIds.method\n      ]\n    };\n\n    delete params.searchText;\n\n    return this.rxRecordInstanceDataPageService.post({ params });\n  }\n\n  private getColumns(): IRecordGridColumn[] {\n    return [\n      {\n        fieldId: String(RX_IPAAS_APIS.fieldIds.groupName),\n        index: 0,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.admin.jitterbit-apis.group-name.label'),\n        clickable: true,\n        actions: [\n          {\n            name: (previousActionResult: any, lastActionRow: IRowDataItem) => this.renameGroup(lastActionRow)\n          }\n        ],\n        sortable: { direction: ColumnSortDirection.Asc, priority: 0 }\n      },\n      {\n        fieldId: String(RX_IPAAS_APIS.fieldIds.apiName),\n        index: 1,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.admin.jitterbit-apis.api-name.label'),\n        clickable: true,\n        actions: [\n          {\n            name: (previousActionResult: any, lastActionRow: IRowDataItem) => this.openEditApiDialog(lastActionRow)\n          }\n        ],\n        sortable: { direction: ColumnSortDirection.Asc, priority: 1 }\n      },\n      {\n        fieldId: String(RX_IPAAS_APIS.fieldIds.organization),\n        index: 2,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.configuration.org')\n      },\n      {\n        fieldId: String(RX_IPAAS_APIS.fieldIds.environment),\n        index: 3,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.admin.jitterbit-apis.environment.label')\n      },\n      {\n        fieldId: String(RX_IPAAS_APIS.fieldIds.path),\n        index: 4,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.admin.jitterbit-apis.path.label')\n      },\n      {\n        fieldId: String(RX_IPAAS_APIS.fieldIds.method),\n        index: 5,\n        title: this.translateService.instant('com.bmc.arsys.rx.client.admin.jitterbit-apis.method.label')\n      }\n    ];\n  }\n\n  private getActionButtons(): IRecordGridActionButton[] {\n    return [\n      {\n        label: this.translateService.instant('com.bmc.arsys.rx.client.common.delete.label'),\n        style: 'tertiary',\n        iconCls: 'trash',\n        actions: [\n          {\n            name: () => {\n              this.rxModalService\n                .confirm({\n                  title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n                  modalStyle: RX_MODAL.modalStyles.warning,\n                  message: this.translateService.instant(\n                    'com.bmc.arsys.rx.client.admin.ipaas-apis.delete-api.confirmation.message'\n                  )\n                })\n                .then((result: boolean) => {\n                  if (result) {\n                    const records = castArray(this.ipaasApisGrid.api.getSelectedRows());\n                    const recordIds = this.rxViewActionUtilsService.extractRecordIds(records);\n\n                    this.deleteApis.emit(recordIds);\n                  }\n                });\n            }\n          }\n        ]\n      },\n      {\n        label: this.translateService.instant('com.bmc.arsys.rx.client.common.edit.label'),\n        style: 'tertiary',\n        icon: 'pencil',\n        disabled: () => this.ipaasApisGrid.api.getSelectedRowCount() !== 1,\n        actions: [\n          {\n            name: () => this.openEditApiDialog(this.ipaasApisGrid.api.getFirstSelectedRow())\n          }\n        ]\n      }\n    ];\n  }\n\n  private renameGroup(row: IPlainObject): void {\n    this.rxModalService\n      .openModal({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.admin.ipaas-apis.rename-api-group.label'),\n        content: GroupEditorComponent,\n        size: OpenViewActionModalSize.Xsmall as any,\n        data: {\n          groupName: row[RX_IPAAS_APIS.fieldIds.groupName],\n          groupNames: _map(this.ipaasApisGrid.adaptTableConfig.data, RX_IPAAS_APIS.fieldIds.groupName)\n        }\n      })\n      .then((groupName: string) => {\n        this.rxIpaasBaseApisService\n          .renameApiGroup(this.ipaasApisConfig.resourceType, row[RX_IPAAS_APIS.fieldIds.groupName], groupName)\n          .subscribe(() => {\n            this.rxNotificationService.addSuccessMessage(\n              this.translateService.instant(\n                'com.bmc.arsys.rx.client.admin.ipaas-apis.rename-group-save.success.message'\n              )\n            );\n\n            this.refreshIpaasGrid();\n          });\n      })\n      .catch(noop);\n  }\n\n  openAddApiDialog(): void {\n    const selectedGroup = this.ipaasApisGrid.api.getFirstSelectedRow();\n\n    this.createApi.emit({\n      groupName: get(selectedGroup, RX_IPAAS_APIS.fieldIds.groupName, ''),\n      recordDefinitionName: this.ipaasApisConfig.recordDefinitionName\n    });\n  }\n\n  openEditApiDialog(row: IPlainObject): void {\n    this.editApi.emit({\n      id: row[RX_RECORD_DEFINITION.coreFieldIds.id],\n      apiName: row[RX_IPAAS_APIS.fieldIds.apiName],\n      groupName: row[RX_IPAAS_APIS.fieldIds.groupName],\n      recordDefinitionName: this.ipaasApisConfig.recordDefinitionName\n    });\n  }\n\n  refreshIpaasGrid(): void {\n    this.ipaasApisGrid.api.refresh().subscribe();\n  }\n}\n","<rx-admin-settings header=\"{{ ipaasApisConfig.titleKey | translate }}\">\n  <div class=\"d-flex ml-2\">\n    <button\n      adapt-button\n      type=\"button\"\n      btn-type=\"tertiary\"\n      class=\"d-icon-plus_circle align-self-start\"\n      rx-id=\"new-button\"\n      (click)=\"openAddApiDialog()\"\n    >\n      {{ 'com.bmc.arsys.rx.client.common.add.label' | translate }}\n    </button>\n  </div>\n\n  <rx-record-grid rx-id=\"ipaas-apis-grid\" #ipaasApisGrid [config]=\"gridConfig$\"></rx-record-grid>\n</rx-admin-settings>\n"]}