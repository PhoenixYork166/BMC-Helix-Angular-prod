{"version":3,"file":"approval-configuration.component.js","sourceRoot":"","sources":["../../../../../../../libs/platform/admin/components/approval-configuration/approval-configuration.component.ts","../../../../../../../libs/platform/admin/components/approval-configuration/approval-configuration.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport {\n  IRecordGridColumn,\n  IRecordGridConfig,\n  IRecordGridDataPageParams,\n  RecordGridComponent,\n  RowSelectionMode\n} from '@helix/platform/view/components';\nimport { Observable, of } from 'rxjs';\nimport { OpenViewActionModalSize } from '@helix/platform/view/api';\nimport { IRecordDefinition, RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport { TranslateService } from '@ngx-translate/core';\nimport { RX_APPROVAL_CONFIGURATION } from './approval-configuration.constant';\nimport { RxRecordDefinitionRegistrationDataPageService } from './record-definition-registration-data-page.service';\nimport { AdaptModalService, KeyValueObject } from '@bmc-ux/adapt-angular';\nimport { RX_MODAL, RxModalService } from '@helix/platform/ui-kit';\nimport { RxApprovalConfigurationService } from './approval-configuration.service';\nimport { IDataPageResult, RxNotificationService } from '@helix/platform/shared/api';\nimport { ApprovalConfigurationEditorComponent } from './approval-configuration-editor/approval-configuration-editor.component';\nimport { DataCellTemplateParams } from '@bmc-ux/adapt-table';\n\n@Component({\n  selector: 'rx-admin-approval-configuration',\n  templateUrl: './approval-configuration.component.html'\n})\nexport class ApprovalConfigurationAdminComponent implements OnInit {\n  gridConfig: Observable<IRecordGridConfig>;\n\n  @ViewChild('definitionNameCellTemplate', { static: true })\n  definitionNameCellTemplate: TemplateRef<DataCellTemplateParams>;\n\n  @ViewChild('fieldNameCellTemplate', { static: true })\n  fieldNameCellTemplate: TemplateRef<DataCellTemplateParams>;\n\n  @ViewChild('grid', { static: true })\n  grid: RecordGridComponent;\n\n  constructor(\n    private rxModalService: RxModalService,\n    private translateService: TranslateService,\n    private adaptModalService: AdaptModalService,\n    private rxNotificationService: RxNotificationService,\n    private rxApprovalConfigurationService: RxApprovalConfigurationService,\n    private rxRecordDefinitionRegistrationDataPageService: RxRecordDefinitionRegistrationDataPageService\n  ) {}\n\n  ngOnInit(): void {\n    this.gridConfig = of({\n      actionButtons: [\n        {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.client.approval.configuration.record.de-register.button.label'\n          ),\n          style: 'tertiary',\n          icon: 'trash',\n          actions: [\n            {\n              name: () => {\n                this.unregisterRecord();\n              }\n            }\n          ]\n        }\n      ],\n      recordDefinitionName: RX_APPROVAL_CONFIGURATION.selfApproval.apForm.name,\n      filterExpression: \"('61001'!=$NULL$ AND '61001'!=\\\"\\\" AND ('14860' != $NULL$ AND '14860' = 1 ))\",\n      getData: (queryParams: IRecordGridDataPageParams) => this.getData(queryParams),\n      enableRowSelection: RowSelectionMode.Single,\n      getRecordDefinition: () => of(this.getRecordDefinition()),\n      columns: this.getColumns(),\n      styles: 'flex-fill',\n      enableFiltering: false\n    });\n  }\n\n  private getData(queryParams: IRecordGridDataPageParams): Observable<IDataPageResult> {\n    delete queryParams.searchText;\n    queryParams.pageSize = -1;\n\n    return this.rxRecordDefinitionRegistrationDataPageService.get({ params: queryParams });\n  }\n\n  newApprovalConfiguration() {\n    this.openApprovalConfiguration({\n      editMode: false,\n      selectedRecordDefinition: ''\n    });\n  }\n\n  editApprovalConfiguration(clickedColumnRow) {\n    this.openApprovalConfiguration({\n      editMode: true,\n      selectedRecordDefinition: clickedColumnRow[RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.formName]\n    });\n  }\n\n  private openApprovalConfiguration(data: KeyValueObject) {\n    this.rxModalService\n      .openModal({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.configuration.main.title'),\n        content: ApprovalConfigurationEditorComponent,\n        size: OpenViewActionModalSize.Large as any,\n        data: {\n          ...data\n        }\n      })\n      .then(\n        () => {},\n        () => {\n          this.grid.api.refresh().subscribe();\n        }\n      )\n      .catch(() => {});\n  }\n\n  private unregisterRecord(): void {\n    this.rxModalService\n      .confirm({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.common.warning.label'),\n        modalStyle: RX_MODAL.modalStyles.warning,\n        message: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.configuration.record.de-register.warning'\n        )\n      })\n      .then((result: boolean) => {\n        if (result) {\n          this.rxApprovalConfigurationService\n            .unRegisterRecord(\n              this.grid.api.getFirstSelectedRow()[RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.formName]\n            )\n            .subscribe(() => {\n              this.rxNotificationService.addSuccessMessage(\n                this.translateService.instant(\n                  'com.bmc.arsys.rx.client.approval.configuration.record.de-register.success'\n                )\n              );\n              this.grid.api.refresh().subscribe();\n            });\n        }\n      });\n  }\n\n  private getRecordDefinition(): IRecordDefinition {\n    return {\n      fieldDefinitions: [\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.formName,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.formRequestId,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.requester,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.summary,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_RECORD_DEFINITION.coreFieldIds.id,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.notesField,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.field3,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.field4,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.field5,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.field6,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.field7,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        },\n        {\n          id: RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.securityLabels,\n          resourceType: RX_RECORD_DEFINITION.resourceTypes.character\n        }\n      ]\n    };\n  }\n\n  private getColumns(): IRecordGridColumn[] {\n    return [\n      {\n        index: 0,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.formName),\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.configuration.grid.column.recordDefinition'\n        ),\n        cellTemplate: this.definitionNameCellTemplate\n      },\n      {\n        index: 1,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.formRequestId),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.configuration.grid.column.requestId'),\n        cellTemplate: this.fieldNameCellTemplate,\n        visible: false\n      },\n      {\n        index: 2,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.requester),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.configuration.grid.column.requester'),\n        cellTemplate: this.fieldNameCellTemplate,\n        visible: false\n      },\n      {\n        index: 3,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.summary),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.configuration.grid.column.description'),\n        cellTemplate: this.fieldNameCellTemplate\n      },\n      {\n        index: 4,\n        fieldId: String(RX_RECORD_DEFINITION.coreFieldIds.id),\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.configuration.grid.column.formInstanceId'\n        ),\n        visible: false\n      },\n      {\n        index: 5,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.notesField),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.configuration.grid.column.notes'),\n        cellTemplate: this.fieldNameCellTemplate,\n        visible: false\n      },\n      {\n        index: 6,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.field3),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.configuration.grid.column.field3'),\n        cellTemplate: this.fieldNameCellTemplate,\n        visible: false\n      },\n      {\n        index: 7,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.field4),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.configuration.grid.column.field4'),\n        cellTemplate: this.fieldNameCellTemplate,\n        visible: false\n      },\n      {\n        index: 8,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.field5),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.configuration.grid.column.field5'),\n        cellTemplate: this.fieldNameCellTemplate,\n        visible: false\n      },\n      {\n        index: 9,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.field6),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.configuration.grid.column.field6'),\n        visible: false\n      },\n      {\n        index: 10,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.field7),\n        title: this.translateService.instant('com.bmc.arsys.rx.client.approval.configuration.grid.column.field7'),\n        visible: false\n      },\n      {\n        index: 11,\n        fieldId: String(RX_APPROVAL_CONFIGURATION.selfApproval.apForm.fields.securityLabels),\n        title: this.translateService.instant(\n          'com.bmc.arsys.rx.client.approval.configuration.grid.column.securityLabels'\n        ),\n        visible: false\n      }\n    ];\n  }\n}\n","<rx-admin-settings header=\"{{ 'com.bmc.arsys.rx.client.approval.configuration.title' | translate }}\">\n  <ng-container>\n    <button\n      adapt-button\n      type=\"button\"\n      btn-type=\"tertiary\"\n      class=\"d-icon-plus_circle align-self-start\"\n      rx-id=\"new-button\"\n      (click)=\"newApprovalConfiguration()\"\n    >\n      {{ 'com.bmc.arsys.rx.client.common.new.label' | translate }}\n    </button>\n\n    <rx-record-grid #grid [config]=\"gridConfig\"></rx-record-grid>\n  </ng-container>\n</rx-admin-settings>\n\n<ng-template #definitionNameCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  <a href=\"javascript:void(0)\" (click)=\"editApprovalConfiguration(dataItem)\">\n    {{ dataItem[column.field] | rxDefinitionNamePipe }}\n  </a>\n</ng-template>\n\n<ng-template #fieldNameCellTemplate let-dataItem=\"dataItem\" let-column=\"column\">\n  {{ dataItem[column.field] | rxAssociatedRecordFieldNamePipe: dataItem.associationsLabels }}\n</ng-template>\n"]}