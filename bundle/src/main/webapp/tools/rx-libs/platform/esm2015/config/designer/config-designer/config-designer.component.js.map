{"version":3,"file":"config-designer.component.js","sourceRoot":"","sources":["../../../../../../../libs/platform/config/designer/config-designer/config-designer.component.ts","../../../../../../../libs/platform/config/designer/config-designer/config-designer.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges, ViewChild } from '@angular/core';\nimport { AdaptDropdownDirective, AdaptIsPanelOpenedCurrentlyModel, AdaptSidebarComponent } from '@bmc-ux/adapt-angular';\nimport { ColumnConfig } from '@bmc-ux/adapt-table';\nimport { IConfigDefinition, IConfigFieldDefinitionGridRow, ImpactRowVisibility } from '@helix/platform/config/api';\nimport { RX_RECORD_DEFINITION } from '@helix/platform/record/api';\nimport {\n  IBundleDescriptor,\n  IDesignerConfiguration,\n  IFormBuilderConfig,\n  IFormControlBuilderConfig,\n  IFormSectionBuilderConfig,\n  IPlainObject,\n  RX_PERMISSION,\n  RxDefinitionNameService,\n  RxGlobalCacheService\n} from '@helix/platform/shared/api';\nimport {\n  BooleanFormControlComponent,\n  ICheckboxFormControlOptions,\n  ILabelFormControlOptions,\n  IPermissionEditorComponentOptions,\n  ISelectFormControlOptions,\n  ISwitcherFormControlOptions,\n  ITextFormControlOptions,\n  LabelFormControlComponent,\n  RxPermissionEditorComponent,\n  SelectFormControlComponent,\n  SwitchFormControlComponent,\n  TextFormControlComponent\n} from '@helix/platform/shared/components';\nimport {\n  IBreadcrumbItem,\n  IValidationIssue,\n  IValidationIssueSection,\n  ValidationIssueType\n} from '@helix/platform/ui-kit';\nimport { Store } from '@ngrx/store';\nimport { TranslateService } from '@ngx-translate/core';\nimport { chain, filter, find, isEmpty, isNil, isNull, reverse, some, toUpper, trim, uniqBy } from 'lodash';\nimport { combineLatest, Observable, of, ReplaySubject, Subject } from 'rxjs';\nimport { map, shareReplay, skip, startWith, switchMap, take, takeUntil, withLatestFrom } from 'rxjs/operators';\nimport { RX_CONFIG_DESIGNER } from '../config-designer.constant';\nimport { ConfigDesignerService } from '../config-designer.service';\nimport { IConfigDefinitionModel, IConfigFieldDataType, IConfigFieldDefinitionModel } from '../config-designer.types';\nimport { FieldDefinitionManagerService } from '../services/field-definition-manager.service';\nimport * as ConfigDesignerActions from './+state/config-designer.actions';\nimport {\n  bundleIdSelector,\n  definitionModelSelector,\n  inspectorTabIndexSelector,\n  isDesignModeSelector,\n  isDirtySelector,\n  parentComponentsSelector,\n  savedDefinitionNameSelector,\n  selectedFieldGuidSelector\n} from './+state/config-designer.selectors';\n\n@Component({\n  selector: 'rx-config-designer',\n  templateUrl: './config-designer.component.html',\n  styleUrls: ['./config-designer.component.scss']\n})\nexport class ConfigDesignerComponent implements OnInit, OnChanges {\n  @ViewChild(AdaptSidebarComponent, { static: false })\n  adaptSidebarComponent: AdaptSidebarComponent;\n\n  @ViewChild('createNewFieldDropdown', { static: false })\n  createNewFieldDropdown: AdaptDropdownDirective;\n\n  @Input()\n  configuration: IDesignerConfiguration;\n\n  @Output()\n  definitionSaved: EventEmitter<string> = new EventEmitter();\n\n  @Output()\n  definitionErrorLoading: EventEmitter<void> = new EventEmitter();\n\n  @Output()\n  closeDesigner: EventEmitter<void> = new EventEmitter<void>();\n\n  newTitle = `<${this.translateService.instant('com.bmc.arsys.rx.client.config-designer.new-configuration.title')}>`;\n\n  dataTypes: IConfigFieldDataType[] = [\n    {\n      displayName: this.translateService.instant(RX_CONFIG_DESIGNER.dataTypes.attachment.labelKey),\n      dataType: RX_CONFIG_DESIGNER.dataTypes.attachment.resourceType\n    },\n    {\n      displayName: this.translateService.instant(RX_RECORD_DEFINITION.dataTypes.boolean.labelKey),\n      dataType: RX_RECORD_DEFINITION.dataTypes.boolean.resourceType\n    },\n    {\n      displayName: this.translateService.instant(RX_CONFIG_DESIGNER.dataTypes.color.labelKey),\n      dataType: RX_CONFIG_DESIGNER.dataTypes.color.resourceType\n    },\n    {\n      displayName: this.translateService.instant(RX_RECORD_DEFINITION.dataTypes.character.labelKey),\n      dataType: RX_RECORD_DEFINITION.dataTypes.character.resourceType\n    },\n    {\n      displayName: this.translateService.instant(RX_RECORD_DEFINITION.dataTypes.dateOnly.labelKey),\n      dataType: RX_RECORD_DEFINITION.dataTypes.dateOnly.resourceType\n    },\n    {\n      displayName: this.translateService.instant(RX_RECORD_DEFINITION.dataTypes.integer.labelKey),\n      dataType: RX_RECORD_DEFINITION.dataTypes.integer.resourceType\n    },\n    {\n      displayName: this.translateService.instant(RX_RECORD_DEFINITION.dataTypes.selection.labelKey),\n      dataType: RX_RECORD_DEFINITION.dataTypes.selection.resourceType\n    },\n    {\n      displayName: this.translateService.instant(RX_RECORD_DEFINITION.dataTypes.decimal.labelKey),\n      dataType: RX_RECORD_DEFINITION.dataTypes.decimal.resourceType\n    },\n    {\n      displayName: this.translateService.instant(RX_CONFIG_DESIGNER.dataTypes.secure.labelKey),\n      dataType: RX_CONFIG_DESIGNER.dataTypes.secure.resourceType\n    }\n  ].sort((a, b) => a.displayName.localeCompare(b.displayName));\n\n  private trueLabel = this.translateService.instant('com.bmc.arsys.rx.client.common.true');\n  private falseLabel = this.translateService.instant('com.bmc.arsys.rx.client.common.false');\n  private yesLabel = this.translateService.instant('com.bmc.arsys.rx.client.common.yes.label');\n  private noLabel = this.translateService.instant('com.bmc.arsys.rx.client.common.no.label');\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  private isApplication$: Observable<boolean> = this.store$.select(bundleIdSelector).pipe(\n    switchMap((bundleId: string) => this.rxGlobalCacheService.getBundleDescriptor(bundleId)),\n    map((bundleDescriptor: IBundleDescriptor) => bundleDescriptor.isApplication)\n  );\n\n  private inspectorTabIndexSubject: Subject<number> = new Subject();\n  private inspectorTabIndex$ = this.store$.select(inspectorTabIndexSelector);\n  private selectedFieldGuid$ = this.store$.select(selectedFieldGuidSelector);\n  private parentComponents$: Observable<string[]> = this.store$.select(parentComponentsSelector);\n  private isDirty$: Observable<boolean> = this.store$.select(isDirtySelector);\n\n  private bundleFriendlyName$ = this.store$\n    .select(bundleIdSelector)\n    .pipe(switchMap((bundleId: string) => this.rxGlobalCacheService.getBundleFriendlyName(bundleId)));\n\n  private definitionModel$: Observable<IConfigDefinitionModel> = this.store$.select(definitionModelSelector);\n\n  private definitionDisplayName$: Observable<string> = this.definitionModel$.pipe(\n    map((definitionModel: IConfigDefinitionModel) => definitionModel.componentName),\n    startWith(null)\n  );\n\n  private validationIssues$: Observable<IValidationIssueSection[]> = this.definitionModel$.pipe(\n    map((definitionModel: IConfigDefinitionModel) => this.validate(definitionModel)),\n    shareReplay(1)\n  );\n\n  private hasValidationErrors$: Observable<boolean> = this.validationIssues$.pipe(\n    map((issueSections: IValidationIssueSection[]) =>\n      some(issueSections, {\n        issues: [{ type: ValidationIssueType.Error }]\n      })\n    )\n  );\n\n  private isSaveButtonDisabled$: Observable<boolean> = combineLatest([this.hasValidationErrors$, this.isDirty$]).pipe(\n    map(([hasValidationErrors, isDirty]) => hasValidationErrors || !isDirty),\n    startWith(true)\n  );\n\n  public definitionInspectorConfig$: Observable<IFormBuilderConfig> = combineLatest([\n    this.parentComponents$,\n    this.bundleFriendlyName$,\n    this.isApplication$,\n    this.definitionModel$\n  ]).pipe(\n    map(([parentComponents, bundleFriendlyName, isApplication, definitionModel]) =>\n      this.getDefinitionInspectorConfig(parentComponents, bundleFriendlyName, isApplication, definitionModel)\n    )\n  );\n\n  private inspectorFocusEditorSubject = new Subject<{ editorName: string; data: IPlainObject }>();\n  inspectorFocusEditor$ = this.inspectorFocusEditorSubject.asObservable();\n\n  private fieldGridRows$: Observable<IConfigFieldDefinitionGridRow[]> = this.definitionModel$.pipe(\n    map((model: IConfigDefinitionModel) =>\n      model.fields.map((field: IConfigFieldDefinitionModel) => ({\n        id: field.id,\n        guid: field.guid,\n        required: field.required ? this.yesLabel : this.noLabel,\n        defaultValue:\n          field.dataType === RX_RECORD_DEFINITION.dataTypes.boolean.resourceType\n            ? this.getBooleanDisplayValue(field.defaultValue as string)\n            : field.dataType === RX_CONFIG_DESIGNER.dataTypes.color.resourceType\n            ? toUpper(field.defaultValue as string)\n            : field.dataType === RX_RECORD_DEFINITION.dataTypes.selection.resourceType\n            ? field.selectionFieldOptionProperties.optionNamesById?.[field.selectionFieldOptionProperties.defaultValue]\n            : field.defaultValue,\n        keySetting: field.keySetting ? this.yesLabel : this.noLabel,\n        dataType: this.getDataTypeName(field.dataType),\n        fieldGrouping: field.localeList[0]?.fieldGrouping\n      }))\n    )\n  );\n\n  private selectedFieldGridRows$: Observable<IConfigFieldDefinitionGridRow[]> = this.selectedFieldGuid$.pipe(\n    withLatestFrom(this.fieldGridRows$),\n    map(([guid, fieldGridRows]) => (guid ? [find(fieldGridRows, { guid })] : [])),\n    startWith([])\n  );\n\n  private selectedFieldModel$: Observable<IConfigFieldDefinitionModel> = combineLatest([\n    this.selectedFieldGuid$,\n    this.definitionModel$\n  ]).pipe(\n    map(([guid, definitionModel]: [string, IConfigDefinitionModel]) => find(definitionModel.fields, { guid })),\n    startWith(null),\n    shareReplay(1)\n  );\n\n  private selectedFieldInspectorConfig$: Observable<IFormBuilderConfig> = this.selectedFieldModel$.pipe(\n    map((fieldModel: IConfigFieldDefinitionModel) =>\n      fieldModel\n        ? this.fieldDefinitionManagerService.getFieldInspectorConfig(fieldModel.dataType, {\n            isNew: fieldModel.isNew,\n            selectionFieldOptionProperties: fieldModel.selectionFieldOptionProperties\n          })\n        : null\n    )\n  );\n\n  private breadcrumbItems$: Observable<IBreadcrumbItem[]> = combineLatest([\n    this.definitionDisplayName$,\n    this.selectedFieldModel$\n  ]).pipe(\n    map(([definitionDisplayName, selectedFieldModel]) =>\n      [\n        {\n          data: null,\n          label:\n            this.rxDefinitionNameService.getDisplayName(this.configuration.definitionName) ||\n            definitionDisplayName ||\n            this.newTitle\n        },\n        { data: null, label: selectedFieldModel?.id }\n      ].filter((item: IBreadcrumbItem) => item.label)\n    )\n  );\n\n  private definitionFromDefinitionModel$: Observable<IConfigDefinition> = this.definitionModel$.pipe(\n    map((definitionModel: IConfigDefinitionModel) =>\n      this.configDesignerService.getDefinitionFromDefinitionModel(definitionModel)\n    )\n  );\n\n  private isDesignMode$ = this.store$.select(isDesignModeSelector);\n\n  private definitionForJsonViewer$: Observable<IConfigDefinition> = this.isDesignMode$.pipe(\n    switchMap((isDesignMode: boolean) => (isDesignMode ? of(null) : this.definitionFromDefinitionModel$))\n  );\n\n  vm$ = combineLatest([\n    this.breadcrumbItems$,\n    this.bundleFriendlyName$,\n    this.definitionDisplayName$,\n    this.definitionForJsonViewer$,\n    this.definitionInspectorConfig$,\n    this.definitionModel$,\n    this.fieldGridRows$,\n    this.hasValidationErrors$,\n    this.isSaveButtonDisabled$,\n    this.selectedFieldGridRows$,\n    this.selectedFieldGuid$,\n    this.selectedFieldInspectorConfig$,\n    this.selectedFieldModel$,\n    this.validationIssues$\n  ]).pipe(\n    map(\n      ([\n        breadcrumbItems,\n        bundleFriendlyName,\n        definitionDisplayName,\n        definitionForJsonViewer,\n        definitionInspectorConfig,\n        definitionModel,\n        fieldGridRows,\n        hasValidationErrors,\n        isSaveButtonDisabled,\n        selectedFieldGridRows,\n        selectedFieldGuid,\n        selectedFieldInspectorConfig,\n        selectedFieldModel,\n        validationIssues\n      ]) => ({\n        breadcrumbItems,\n        bundleFriendlyName,\n        definitionDisplayName,\n        definitionForJsonViewer,\n        definitionInspectorConfig,\n        definitionModel,\n        fieldGridRows,\n        hasValidationErrors,\n        isSaveButtonDisabled,\n        selectedFieldGridRows,\n        selectedFieldGuid,\n        selectedFieldInspectorConfig,\n        selectedFieldModel,\n        validationIssues\n      })\n    )\n  );\n\n  columns: ColumnConfig[] = [\n    {\n      field: 'id',\n      header: this.translateService.instant('com.bmc.arsys.rx.client.common.field-name.label'),\n      filterable: false\n    },\n    {\n      field: 'dataType',\n      header: this.translateService.instant('com.bmc.arsys.rx.client.common.data-type.label'),\n      filterable: false\n    },\n    {\n      field: 'required',\n      header: this.translateService.instant('com.bmc.arsys.rx.client.config-designer.grid.column.required-field.title'),\n      filterable: false\n    },\n    {\n      field: 'defaultValue',\n      header: this.translateService.instant('com.bmc.arsys.rx.client.common.default-value.label'),\n      filterable: false\n    },\n    {\n      field: 'fieldGrouping',\n      header: this.translateService.instant('com.bmc.arsys.rx.client.config-designer.grid.column.field-group.title'),\n      filterable: false\n    },\n    {\n      field: 'keySetting',\n      header: this.translateService.instant('com.bmc.arsys.rx.client.config-designer.grid.column.key-field.title'),\n      filterable: false\n    }\n  ];\n\n  constructor(\n    private store$: Store<any>,\n    private configDesignerService: ConfigDesignerService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private translateService: TranslateService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private fieldDefinitionManagerService: FieldDefinitionManagerService\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.configuration.currentValue) {\n      this.store$.dispatch(ConfigDesignerActions.init({ payload: this.configuration }));\n    }\n  }\n\n  ngOnInit(): void {\n    this.inspectorTabIndexSubject.pipe(skip(1), takeUntil(this.destroyed$)).subscribe((inspectorTabIndex: number) => {\n      this.store$.dispatch(ConfigDesignerActions.setInspectorTabIndex({ inspectorTabIndex }));\n    });\n\n    this.inspectorTabIndex$.pipe(skip(1), takeUntil(this.destroyed$)).subscribe((inspectorTabIndex: number) => {\n      if (!isNull(inspectorTabIndex)) {\n        this.adaptSidebarComponent.openPanel(inspectorTabIndex);\n      }\n    });\n\n    this.store$\n      .select(savedDefinitionNameSelector)\n      .pipe(skip(1), takeUntil(this.destroyed$))\n      .subscribe((savedDefinitionName: string) => {\n        this.definitionSaved.emit(savedDefinitionName);\n      });\n  }\n\n  onSelectionChange(selectedFieldModel: IConfigFieldDefinitionModel) {\n    this.store$.dispatch(ConfigDesignerActions.setSelectedFieldGuid({ guid: selectedFieldModel?.guid }));\n  }\n\n  canDeactivate(): boolean {\n    let canDeactivate = true;\n\n    this.isDirty$.pipe(take(1)).subscribe((isDirty) => {\n      canDeactivate = !isDirty;\n    });\n\n    return canDeactivate;\n  }\n\n  saveDefinition(): void {\n    this.store$.dispatch(ConfigDesignerActions.saveDefinition());\n  }\n\n  onCorrectIssue(validationIssue: IValidationIssue) {\n    if (validationIssue.data.noFieldAdded) {\n      this.createNewFieldDropdown.open();\n    }\n\n    if (validationIssue.data.guid) {\n      this.store$.dispatch(ConfigDesignerActions.setSelectedFieldGuid({ guid: validationIssue.data.guid }));\n    } else {\n      this.store$.dispatch(ConfigDesignerActions.setInspectorTabIndex({ inspectorTabIndex: 0 }));\n    }\n\n    if (validationIssue.data.editFieldGroups) {\n      this.store$.dispatch(ConfigDesignerActions.editFieldGroups());\n    }\n\n    setTimeout(\n      () =>\n        this.inspectorFocusEditorSubject.next({\n          editorName: validationIssue.data.propertyName,\n          data: validationIssue.data.data\n        }),\n      10\n    );\n  }\n\n  onDefinitionModelChange(newDefinitionModel: IConfigDefinitionModel): void {\n    this.store$.dispatch(\n      ConfigDesignerActions.updateDefinitionModelFromDesigner({\n        definitionModelFromDesigner: newDefinitionModel\n      })\n    );\n  }\n\n  onSelectedFieldModelChange(newSelectedFieldModel: IConfigFieldDefinitionModel): void {\n    this.store$.dispatch(ConfigDesignerActions.updateSelectedFieldModel({ selectedFieldModel: newSelectedFieldModel }));\n  }\n\n  validate(definitionModel: IConfigDefinitionModel): IValidationIssueSection[] {\n    const duplicateFieldErrorMsg = this.translateService.instant(\n      'com.bmc.arsys.rx.client.designer.validation.must-be-unique.message',\n      { propertyName: this.translateService.instant('com.bmc.arsys.rx.client.common.field-name.label') }\n    );\n\n    const definitionValidationIssues: IValidationIssue[] = [];\n    const fieldValidationIssueSections: IValidationIssueSection[] = [];\n\n    chain(definitionModel.fields)\n      .clone()\n      .reverse()\n      .forEach((fieldModel: IConfigFieldDefinitionModel, index: number, fieldModels: IConfigFieldDefinitionModel[]) => {\n        let issues: IValidationIssue[] = [];\n\n        if (find(fieldModels, (model) => fieldModel.id === model.id, index + 1)) {\n          issues.push({\n            type: ValidationIssueType.Error,\n            description: duplicateFieldErrorMsg,\n            data: {\n              propertyName: 'id',\n              guid: fieldModel.guid\n            }\n          });\n        }\n\n        if (!fieldModel.localeList[0].fieldGrouping) {\n          issues.push({\n            type: ValidationIssueType.Error,\n            description: this.translateService.instant(\n              'com.bmc.arsys.rx.client.config-designer.field-has-no-group.message'\n            ),\n            data: {\n              editFieldGroups: true,\n              guid: fieldModel.guid\n            }\n          });\n        }\n\n        issues = issues.concat(this.fieldDefinitionManagerService.validate(fieldModel));\n\n        if (issues.length) {\n          fieldValidationIssueSections.push({\n            title: fieldModel.id,\n            issues: issues\n          });\n        }\n      })\n      .value();\n\n    if (isEmpty(trim(definitionModel.componentName))) {\n      definitionValidationIssues.push({\n        type: ValidationIssueType.Error,\n        description: this.translateService.instant(\n          'com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message',\n          {\n            propertyName: this.translateService.instant(\n              'com.bmc.arsys.rx.client.config-designer.config-properties.component-name.label'\n            )\n          }\n        ),\n        data: {\n          propertyName: 'componentName'\n        }\n      });\n    }\n\n    if (isEmpty(trim(definitionModel.componentLabel))) {\n      definitionValidationIssues.push({\n        type: ValidationIssueType.Error,\n        description: this.translateService.instant(\n          'com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message',\n          {\n            propertyName: this.translateService.instant(\n              'com.bmc.arsys.rx.client.config-designer.config-properties.component-label.label'\n            )\n          }\n        ),\n        data: {\n          propertyName: 'componentLabel'\n        }\n      });\n    }\n\n    if (\n      isNil(definitionModel.parentComponentName) &&\n      (definitionModel.isSettingAccessibleInInnovationStudio || definitionModel.isSettingAccessibleInApplication) &&\n      !definitionModel.firstMenu\n    ) {\n      definitionValidationIssues.push({\n        type: ValidationIssueType.Error,\n        description: this.translateService.instant(\n          'com.bmc.arsys.rx.client.designer.validation.cannot-be-blank.message',\n          {\n            propertyName: this.translateService.instant(\n              'com.bmc.arsys.rx.client.config-designer.config-properties.first-menu.label'\n            )\n          }\n        ),\n        data: {\n          propertyName: 'firstMenu'\n        }\n      });\n    }\n\n    if (!definitionModel.fields.length) {\n      definitionValidationIssues.push({\n        type: ValidationIssueType.Error,\n        description: this.translateService.instant(\n          'com.bmc.arsys.rx.client.config-designer.setting-has-no-fields-error.message'\n        ),\n        data: { noFieldAdded: true }\n      });\n    }\n\n    if (definitionModel.impactRowVisibility === ImpactRowVisibility.User) {\n      const keySettingsCount = filter(definitionModel.fields, { keySetting: true }).length;\n\n      if (keySettingsCount > 1) {\n        definitionValidationIssues.push({\n          type: ValidationIssueType.Error,\n          description: this.translateService.instant(\n            'com.bmc.arsys.rx.client.config-designer.multiple-key-fields-not-allowed-error.message'\n          ),\n          data: {\n            propertyName: 'keySetting'\n          }\n        });\n      }\n    }\n\n    if (!isNil(definitionModel.parentComponentName)) {\n      const uniqFieldGroups = uniqBy(definitionModel.fields, 'localeList[0].fieldGrouping');\n\n      if (uniqFieldGroups.length > 1) {\n        definitionValidationIssues.push({\n          type: ValidationIssueType.Error,\n          description: this.translateService.instant(\n            'com.bmc.arsys.rx.client.config-designer.multiple-field-groups-not-allowed-error.message'\n          ),\n          data: {\n            propertyName: 'parentComponentName'\n          }\n        });\n      }\n    }\n\n    let issues: IValidationIssueSection[] = [];\n\n    if (definitionValidationIssues.length) {\n      issues.push({\n        title: this.translateService.instant('com.bmc.arsys.rx.client.config-designer.title'),\n        issues: definitionValidationIssues\n      });\n    }\n\n    issues = issues.concat(reverse(fieldValidationIssueSections));\n\n    return issues;\n  }\n\n  addNewField(resourceType: string, isLoginNameField = false): void {\n    this.store$.dispatch(ConfigDesignerActions.createNewFieldModel({ resourceType: resourceType, isLoginNameField }));\n  }\n\n  editFieldGroups(): void {\n    this.store$.dispatch(ConfigDesignerActions.editFieldGroups());\n  }\n\n  private getDataTypeName(dataType: string): string {\n    return find(this.dataTypes, { dataType }).displayName;\n  }\n\n  onBreadcrumbSelected(): void {\n    this.store$.dispatch(ConfigDesignerActions.clearSelectedFieldGuid());\n  }\n\n  toggleDesignMode(): void {\n    this.store$.dispatch(ConfigDesignerActions.toggleDesignMode());\n  }\n\n  onSidebarToggle(event: AdaptIsPanelOpenedCurrentlyModel): void {\n    this.inspectorTabIndexSubject.next(event.id);\n  }\n\n  private getDefinitionInspectorConfig(\n    parentComponents: string[],\n    bundleFriendlyName: string,\n    isApplication: boolean,\n    definitionModel: IConfigDefinitionModel\n  ): IFormSectionBuilderConfig[] {\n    const configs: IFormSectionBuilderConfig[] = [];\n    const generalControls: IFormControlBuilderConfig[] = [];\n\n    generalControls.push({\n      name: 'componentName',\n      component: TextFormControlComponent,\n      isDisabled: Boolean(this.configuration.definitionName),\n      options: {\n        label: this.translateService.instant(\n          'com.bmc.arsys.rx.client.config-designer.config-properties.component-name.label'\n        ),\n        required: true\n      } as ITextFormControlOptions\n    });\n\n    if (isNil(definitionModel.parentComponentName)) {\n      generalControls.push({\n        name: '',\n        component: LabelFormControlComponent,\n        options: {\n          labelKey: 'com.bmc.arsys.rx.client.config-designer.config-properties.enable-access-from.label'\n        } as ILabelFormControlOptions\n      });\n\n      generalControls.push({\n        name: 'isSettingAccessibleInInnovationStudio',\n        component: BooleanFormControlComponent,\n        options: {\n          label: 'Innovation Studio',\n          shouldDisplayAsCheckbox: true\n        } as ICheckboxFormControlOptions\n      });\n\n      if (isApplication) {\n        generalControls.push({\n          name: 'isSettingAccessibleInApplication',\n          component: BooleanFormControlComponent,\n          options: {\n            label: bundleFriendlyName,\n            shouldDisplayAsCheckbox: true\n          } as ICheckboxFormControlOptions\n        });\n      }\n    }\n\n    generalControls.push({\n      name: 'componentLabel',\n      component: TextFormControlComponent,\n      options: {\n        label: this.translateService.instant(\n          'com.bmc.arsys.rx.client.config-designer.config-properties.component-label.label'\n        ),\n        required: true\n      } as ITextFormControlOptions\n    });\n\n    generalControls.push({\n      name: 'supportsMultiple',\n      component: SwitchFormControlComponent,\n      options: {\n        label: this.translateService.instant(\n          'com.bmc.arsys.rx.client.config-designer.config-properties.repeat-setting.label'\n        )\n      } as ISwitcherFormControlOptions\n    });\n\n    generalControls.push({\n      name: 'parentComponentName',\n      component: SelectFormControlComponent,\n      options: {\n        label: this.translateService.instant(\n          'com.bmc.arsys.rx.client.config-designer.config-properties.parent-setting.label'\n        ),\n        options: parentComponents\n          .filter((componentName: string) => componentName !== definitionModel.componentName)\n          .map((item: string) => ({ id: item, name: item })),\n        emptyOption: true\n      } as ISelectFormControlOptions\n    });\n\n    if (isNil(definitionModel.parentComponentName) && definitionModel.supportsMultiple) {\n      generalControls.push({\n        name: 'impactRowVisibility',\n        component: SelectFormControlComponent,\n        options: {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.client.config-designer.config-properties.visibility.label'\n          ),\n          options: [\n            {\n              id: ImpactRowVisibility.None,\n              name: this.translateService.instant('com.bmc.arsys.rx.client.common.none.label')\n            },\n            {\n              id: ImpactRowVisibility.User,\n              name: this.translateService.instant(\n                'com.bmc.arsys.rx.client.config-designer.config-properties.visibility.options.user.label'\n              )\n            }\n          ],\n          beforeValueChange: (oldValue, newValue) => {\n            if (newValue === ImpactRowVisibility.User) {\n              const isLoginNameFieldExists = find(definitionModel.fields, {\n                id: 'LoginName',\n                dataType: RX_RECORD_DEFINITION.dataTypes.character.resourceType\n              });\n\n              if (!isLoginNameFieldExists) {\n                setTimeout(() => {\n                  this.addNewField(RX_RECORD_DEFINITION.dataTypes.character.resourceType, true);\n                });\n              }\n            }\n\n            return Promise.resolve(true);\n          }\n        } as ISelectFormControlOptions\n      });\n    }\n\n    if (definitionModel.impactRowVisibility !== ImpactRowVisibility.User) {\n      generalControls.push({\n        name: 'permissions',\n        component: RxPermissionEditorComponent,\n        options: {\n          label: this.translateService.instant(\n            'com.bmc.arsys.rx.client.config-designer.config-properties.permissions.label'\n          ),\n          type: 'config',\n          permissionScope: RX_PERMISSION.permissionScope.all\n        } as IPermissionEditorComponentOptions\n      });\n    }\n\n    configs.push({\n      label: this.translateService.instant('com.bmc.arsys.rx.client.common.general-items.label'),\n      controls: generalControls\n    });\n\n    if (\n      isNil(definitionModel.parentComponentName) &&\n      (definitionModel.isSettingAccessibleInApplication || definitionModel.isSettingAccessibleInInnovationStudio)\n    ) {\n      configs.push({\n        label: this.translateService.instant(\n          'com.bmc.arsys.rx.client.config-designer.config-properties.navigation-section.label'\n        ),\n        controls: [\n          {\n            name: 'firstMenu',\n            component: TextFormControlComponent,\n            options: {\n              label: this.translateService.instant(\n                'com.bmc.arsys.rx.client.config-designer.config-properties.first-menu.label'\n              ),\n              required: true\n            } as ITextFormControlOptions\n          },\n          {\n            name: 'secondMenu',\n            component: TextFormControlComponent,\n            options: {\n              label: this.translateService.instant(\n                'com.bmc.arsys.rx.client.config-designer.config-properties.second-menu.label'\n              )\n            } as ITextFormControlOptions\n          }\n        ]\n      });\n    }\n\n    return configs;\n  }\n\n  private getBooleanDisplayValue(defaultValue: string): string {\n    if (defaultValue === 'true') {\n      return this.trueLabel;\n    } else if (defaultValue === 'false') {\n      return this.falseLabel;\n    } else {\n      return null;\n    }\n  }\n\n  deleteSelectedField(): void {\n    this.store$.dispatch(ConfigDesignerActions.deleteSelectedField());\n  }\n\n  onFormInitialized() {\n    this.inspectorFocusEditorSubject.next({\n      editorName: 'componentName',\n      data: {}\n    });\n  }\n\n  private destroyConfigDesigner(): void {\n    this.store$.dispatch(ConfigDesignerActions.destroy());\n  }\n\n  ngOnDestroy(): void {\n    this.inspectorTabIndexSubject.complete();\n    this.inspectorFocusEditorSubject.complete();\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n    this.destroyConfigDesigner();\n  }\n}\n","<ng-container *ngIf=\"vm$ | async as vm\">\n  <rx-designer-header\n    [bundleName]=\"vm.bundleFriendlyName\"\n    [isSaveButtonDisabled]=\"vm.isSaveButtonDisabled\"\n    (save)=\"saveDefinition()\"\n    (closeDesigner)=\"closeDesigner.emit()\"\n    [breadcrumbItems]=\"vm.breadcrumbItems\"\n    (breadcrumbSelected)=\"onBreadcrumbSelected()\"\n    (toggleDesignMode)=\"toggleDesignMode()\"\n    [isDesignMode]=\"!vm.definitionForJsonViewer\"\n  ></rx-designer-header>\n\n  <adapt-sidebar\n    [openedId]=\"0\"\n    [adjustMainContainerWidth]=\"true\"\n    position=\"right\"\n    class=\"h-100\"\n    [hidden]=\"vm.definitionForJsonViewer\"\n    (isPanelOpenedCurrently)=\"onSidebarToggle($event)\"\n  >\n    <adapt-sidebar-item\n      iconClass=\"d-icon-pencil\"\n      [headerTitle]=\"'com.bmc.arsys.rx.client.config-designer.config-properties.title.label' | translate\"\n      [tooltipText]=\"'com.bmc.arsys.rx.client.config-designer.config-properties.title.label' | translate\"\n    >\n      <rx-form-builder\n        [config]=\"vm.definitionInspectorConfig\"\n        [model]=\"vm.definitionModel\"\n        [focusEditor$]=\"inspectorFocusEditor$\"\n        (modelChange)=\"onDefinitionModelChange($event)\"\n        (formInitialized)=\"onFormInitialized()\"\n      ></rx-form-builder>\n    </adapt-sidebar-item>\n\n    <adapt-sidebar-item\n      iconClass=\"d-icon-gear\"\n      [headerTitle]=\"'com.bmc.arsys.rx.client.common.settings.label' | translate\"\n      [tooltipText]=\"'com.bmc.arsys.rx.client.common.settings.label' | translate\"\n    >\n      <rx-form-builder\n        [config]=\"vm.selectedFieldInspectorConfig\"\n        [model]=\"vm.selectedFieldModel\"\n        (modelChange)=\"onSelectedFieldModelChange($event)\"\n        [guid]=\"vm.selectedFieldGuid\"\n        [focusEditor$]=\"inspectorFocusEditor$\"\n      ></rx-form-builder>\n\n      <adapt-alert\n        [hidden]=\"vm.selectedFieldModel\"\n        class=\"p-3\"\n        [config]=\"{\n          content: 'com.bmc.arsys.rx.client.designer.validation.no-field-selected.message' | translate,\n          variant: 'info',\n          type: 'inline'\n        }\"\n      ></adapt-alert>\n    </adapt-sidebar-item>\n\n    <adapt-sidebar-item\n      [iconClass]=\"vm.hasValidationErrors ? 'd-icon-exclamation_triangle text-danger' : 'd-icon-exclamation_triangle'\"\n      headerTitle=\"{{ 'com.bmc.arsys.rx.client.designer.validation-issues.label' | translate }}\"\n      tooltipText=\"{{ 'com.bmc.arsys.rx.client.designer.validation-issues.label' | translate }}\"\n    >\n      <rx-validation-issues\n        (correctIssue)=\"onCorrectIssue($event)\"\n        [issueSections]=\"vm.validationIssues\"\n        [definitionTypeDisplayName]=\"'com.bmc.arsys.rx.client.config-definition.label' | translate\"\n      ></rx-validation-issues>\n    </adapt-sidebar-item>\n\n    <div class=\"main h-100 d-flex flex-column\">\n      <h1 class=\"mt-0\">\n        {{ (configuration.definitionName | rxDefinitionNamePipe) || vm.definitionDisplayName || newTitle }}\n      </h1>\n\n      <section class=\"h-100 d-flex flex-column\">\n        <div class=\"d-flex border border-bottom-0\">\n          <div class=\"dropdown\" adaptDropdown #createNewFieldDropdown>\n            <button\n              adapt-button\n              adaptDropdownToggle\n              type=\"button\"\n              btn-type=\"tertiary\"\n              class=\"d-icon-plus_circle\"\n              rx-id=\"new-field-button\"\n            >\n              {{ 'com.bmc.arsys.rx.client.designer.new-field.button.label' | translate }}\n            </button>\n\n            <div class=\"dropdown-menu\" adaptDropdownMenu>\n              <button *ngFor=\"let dataType of dataTypes\" class=\"dropdown-item\" (click)=\"addNewField(dataType.dataType)\">\n                {{ dataType.displayName }}\n              </button>\n            </div>\n          </div>\n\n          <button\n            adapt-button\n            type=\"button\"\n            btn-type=\"tertiary\"\n            class=\"d-icon-list_ordered\"\n            (click)=\"editFieldGroups()\"\n            rx-id=\"edit-field-groups-button\"\n            [disabled]=\"!vm.fieldGridRows.length\"\n          >\n            {{ 'com.bmc.arsys.rx.client.config-designer.edit-field-groups.label' | translate }}\n          </button>\n\n          <button\n            adapt-button\n            type=\"button\"\n            btn-type=\"tertiary\"\n            class=\"d-icon-trash\"\n            (click)=\"deleteSelectedField()\"\n            rx-id=\"delete-field-button\"\n            [disabled]=\"!vm.selectedFieldGridRows.length\"\n          >\n            {{ 'com.bmc.arsys.rx.client.common.delete.label' | translate }}\n          </button>\n        </div>\n\n        <adapt-table\n          [value]=\"vm.fieldGridRows\"\n          [selection]=\"vm.selectedFieldGridRows\"\n          [columns]=\"columns\"\n          [scrollable]=\"true\"\n          scrollHeight=\"flex\"\n          [sortable]=\"true\"\n          [resizableColumns]=\"false\"\n          [bordered]=\"true\"\n          [dataKey]=\"'guid'\"\n          [selectionMode]=\"'single'\"\n          (selectionChange)=\"onSelectionChange($event)\"\n        >\n        </adapt-table>\n      </section>\n    </div>\n  </adapt-sidebar>\n\n  <adapt-code-viewer\n    *ngIf=\"vm.definitionForJsonViewer\"\n    [code]=\"vm.definitionForJsonViewer | json\"\n    [lang]=\"'javascript'\"\n    [hasToolbar]=\"false\"\n    [theme]=\"'light'\"\n    class=\"full-size\"\n  ></adapt-code-viewer>\n</ng-container>\n"]}