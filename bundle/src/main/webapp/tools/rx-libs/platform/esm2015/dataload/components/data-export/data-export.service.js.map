{"version":3,"file":"data-export.service.js","sourceRoot":"","sources":["../../../../../../../libs/platform/dataload/components/data-export/data-export.service.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAG3C,OAAO,EAAE,WAAW,EAAE,MAAM,QAAQ,CAAC;AACrC,OAAO,EAAE,cAAc,EAAE,MAAM,4BAA4B,CAAC;AAE5D,OAAO,EAAE,UAAU,EAAE,MAAM,sBAAsB,CAAC;;;AAKlD,MAAM,OAAO,iBAAiB;IAG5B,YAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;QAF1C,QAAG,GAAG,QAAQ,cAAc,CAAC,gBAAgB,6BAA6B,CAAC;IAE9B,CAAC;IAE9C,0BAA0B,CACxB,kBAA8D;QAE9D,OAAO,CAAC,WAAW,CAAE,kBAAwC,CAAC,gBAAgB,CAAC,CAAC;IAClF,CAAC;IAED,eAAe,CAAC,UAAkB;QAChC,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,UAAU,EAAE,EAAE,EAAE,CAAC,CAAC;IAC9D,CAAC;;8GAbU,iBAAiB;kHAAjB,iBAAiB,cAFhB,MAAM;2FAEP,iBAAiB;kBAH7B,UAAU;mBAAC;oBACV,UAAU,EAAE,MAAM;iBACnB","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { IRecordDefinition } from '@helix/platform/record/api';\r\nimport { IAssociationDefinition } from '@helix/platform/association/api';\r\nimport { isUndefined } from 'lodash';\r\nimport { RX_APPLICATION } from '@helix/platform/shared/api';\r\nimport { Observable } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DataExportService {\r\n  url = `/api/${RX_APPLICATION.dataloadBundleId}/rx/application/dataexport/`;\r\n\r\n  constructor(private httpClient: HttpClient) {}\r\n\r\n  isRecordDefinitionResponse(\r\n    definitionResponse: IRecordDefinition | IAssociationDefinition\r\n  ): definitionResponse is IRecordDefinition {\r\n    return !isUndefined((definitionResponse as IRecordDefinition).fieldDefinitions);\r\n  }\r\n\r\n  startDataExport(instanceId: string): Observable<any> {\r\n    return this.httpClient.post(`${this.url}${instanceId}`, {});\r\n  }\r\n}\r\n"]}