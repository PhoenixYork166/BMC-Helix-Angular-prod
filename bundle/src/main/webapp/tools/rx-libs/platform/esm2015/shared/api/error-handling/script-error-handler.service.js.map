{"version":3,"file":"script-error-handler.service.js","sourceRoot":"","sources":["../../../../../../../libs/platform/shared/api/error-handling/script-error-handler.service.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC3C,OAAO,EAAE,gBAAgB,EAAE,MAAM,qBAAqB,CAAC;AACvD,OAAO,EAAE,QAAQ,EAAE,MAAM,QAAQ,CAAC;AAClC,OAAO,EAAE,YAAY,EAAE,MAAM,wBAAwB,CAAC;AACtD,OAAO,EAAE,qBAAqB,EAAE,MAAM,sCAAsC,CAAC;AAC7E,OAAO,EAAE,iBAAiB,EAAE,MAAM,2BAA2B,CAAC;;;;;AAK9D,MAAM,OAAO,oBAAoB;IAC/B,YACU,qBAA4C,EAC5C,YAA0B,EAC1B,gBAAkC;QAFlC,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,iBAAY,GAAZ,YAAY,CAAc;QAC1B,qBAAgB,GAAhB,gBAAgB,CAAkB;IACzC,CAAC;IAEJ,MAAM,CAAC,KAAY;QACjB,MAAM,cAAc,GAAG,QAAQ,CAC7B,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,6DAA6D,CAAC,IAC7F,KAAK,CAAC,OACR,EAAE,EACF;YACE,MAAM,EAAE,iBAAiB,CAAC,qBAAqB;SAChD,CACF,CAAC;QAEF,IAAI,CAAC,qBAAqB,CAAC,eAAe,CACxC,cAAc,EACd,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,2DAA2D,CAAC,EAC1F;YACE,WAAW,EAAE,IAAI;SAClB,CACF,CAAC;QAEF,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IACvC,CAAC;;iHA1BU,oBAAoB;qHAApB,oBAAoB,cAFnB,MAAM;2FAEP,oBAAoB;kBAHhC,UAAU;mBAAC;oBACV,UAAU,EAAE,MAAM;iBACnB","sourcesContent":["import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { truncate } from 'lodash';\nimport { RxLogService } from '../logging/log.service';\nimport { RxNotificationService } from '../notification/notification.service';\nimport { RX_ERROR_HANDLING } from './error-handling.constant';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RxScriptErrorHandler {\n  constructor(\n    private rxNotificationService: RxNotificationService,\n    private rxLogService: RxLogService,\n    private translateService: TranslateService\n  ) {}\n\n  handle(error: Error): void {\n    const rxErrorMessage = truncate(\n      `${this.translateService.instant('com.bmc.arsys.rx.client.error-handling.script-error.message')} ${\n        error.message\n      }`,\n      {\n        length: RX_ERROR_HANDLING.maxErrorMessageLength\n      }\n    );\n\n    this.rxNotificationService.addErrorMessage(\n      rxErrorMessage,\n      this.translateService.instant('com.bmc.arsys.rx.client.error-handling.script-error.title'),\n      {\n        suppressLog: true\n      }\n    );\n\n    this.rxLogService.error(error.stack);\n  }\n}\n"]}