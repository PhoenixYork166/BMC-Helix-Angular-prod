{"version":3,"file":"record-designer.component.js","sourceRoot":"","sources":["../../../../../../../libs/platform/record/designer/record-designer/record-designer.component.ts","../../../../../../../libs/platform/record/designer/record-designer/record-designer.component.html"],"names":[],"mappings":"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","sourcesContent":["import { DatePipe } from '@angular/common';\nimport {\n  Component,\n  EventEmitter,\n  Injector,\n  Input,\n  OnInit,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport { AdaptIsPanelOpenedCurrentlyModel, AdaptSidebarComponent } from '@bmc-ux/adapt-angular';\nimport { ColumnConfig, DataCellTemplateParams } from '@bmc-ux/adapt-table';\nimport {\n  IRecordDefinition,\n  RX_RECORD_DEFINITION,\n  RxFieldDefinitionService,\n  RxRecordDefinitionCacheService,\n  RxRecordDefinitionService\n} from '@helix/platform/record/api';\nimport {\n  ExpressionOperatorGroup,\n  ExpressionOperatorRowsByGroup,\n  IDesignerConfiguration,\n  IFormBuilderConfig,\n  IFormBuilderEvent,\n  IFormSectionBuilderConfig,\n  IPlainObject,\n  RxDefinitionNameService,\n  RxGlobalCacheService,\n  RxNotificationService,\n  RxOverlayService\n} from '@helix/platform/shared/api';\nimport {\n  IBreadcrumbItem,\n  IValidationIssue,\n  IValidationIssueSection,\n  RxModalService,\n  ValidationIssueType\n} from '@helix/platform/ui-kit';\nimport { TranslateService } from '@ngx-translate/core';\nimport {\n  capitalize,\n  chain,\n  find,\n  includes,\n  intersectionBy,\n  invert,\n  isEmpty,\n  isNull,\n  isNumber,\n  map as _map,\n  noop,\n  some\n} from 'lodash';\nimport { combineLatest, from, Observable, of, ReplaySubject, Subject } from 'rxjs';\nimport {\n  distinctUntilChanged,\n  filter,\n  map,\n  pluck,\n  scan,\n  shareReplay,\n  skip,\n  startWith,\n  switchMap,\n  take,\n  takeUntil,\n  tap,\n  withLatestFrom\n} from 'rxjs/operators';\nimport {\n  IRecordDefinitionModel,\n  IRecordFieldDefinitionGridRow,\n  IRecordFieldDefinitionModel\n} from '../record-designer.types';\nimport { RxFieldDefinitionManagerService } from './services/field-definition-manager.service';\nimport * as RecordDesignerActions from './+state/record-designer.actions';\nimport { Store } from '@ngrx/store';\nimport {\n  bundleIdSelector,\n  definitionModelFromDefinitionSelector,\n  definitionModelSelector,\n  inspectorTabIndexSelector,\n  isDesignModeSelector,\n  isDirtySelector,\n  savedDefinitionNameSelector,\n  selectedFieldGuidSelector\n} from './+state/record-designer.selectors';\nimport { RxRecordDefinitionValidatorService } from './record-definition-validator.service';\nimport { RxRecordDesignerInspectorService } from './record-designer-inspector.service';\nimport { InheritanceIssueInfoComponent } from './inheritance-issue-info/inheritance-issue-info.component';\nimport { RxRecordDesignerService } from './record-designer.service';\nimport {\n  IExpressionEditorPropertyChange,\n  RX_EXPRESSION_EDITOR,\n  RxExpressionEditorService\n} from '@helix/platform/shared/components';\nimport { RecordDesignerExpressionConfigurator } from './record-designer-expression-configurator.class';\nimport { RX_RECORD_DESIGNER } from './record-designer.constant';\nimport { AddJoinFieldsEditorComponent } from './add-join-fields-editor/add-join-fields-editor.component';\nimport { RxGuidService } from '@helix/platform/utils';\n\n@Component({\n  selector: 'rx-record-designer',\n  templateUrl: './record-designer.component.html',\n  styleUrls: ['./record-designer.component.scss']\n})\nexport class RecordDesignerComponent implements OnInit {\n  @ViewChild(AdaptSidebarComponent, { static: false })\n  adaptSidebarComponent: AdaptSidebarComponent;\n\n  @ViewChild('requiredCellTemplate', { static: true })\n  requiredCellTemplate: TemplateRef<DataCellTemplateParams>;\n\n  @ViewChild('dataTypeCellTemplate', { static: true })\n  dataTypeCellTemplate: TemplateRef<DataCellTemplateParams>;\n\n  @ViewChild('inheritedCellTemplate', { static: true })\n  inheritedCellTemplate: TemplateRef<DataCellTemplateParams>;\n\n  @Input()\n  configuration: IDesignerConfiguration;\n\n  @Output()\n  definitionSaved: EventEmitter<string> = new EventEmitter();\n\n  @Output()\n  definitionErrorLoading: EventEmitter<void> = new EventEmitter();\n\n  @Output()\n  closeDesigner: EventEmitter<void> = new EventEmitter<void>();\n\n  newTitle = `<${this.translateService.instant('com.bmc.arsys.rx.client.record-designer.new-record.title')}>`;\n  definition: IRecordDefinition = null;\n  columns: ColumnConfig[];\n  private isInheritColumnHidden: boolean = true;\n  private isJoinRecordDefinition: boolean = false;\n\n  dataTypes = [\n    RX_RECORD_DEFINITION.dataTypes.attachment,\n    RX_RECORD_DEFINITION.dataTypes.boolean,\n    RX_RECORD_DEFINITION.dataTypes.character,\n    RX_RECORD_DEFINITION.dataTypes.dateOnly,\n    RX_RECORD_DEFINITION.dataTypes.dateTime,\n    RX_RECORD_DEFINITION.dataTypes.localizedCharacter,\n    RX_RECORD_DEFINITION.dataTypes.timeOnly,\n    RX_RECORD_DEFINITION.dataTypes.integer,\n    RX_RECORD_DEFINITION.dataTypes.selection,\n    RX_RECORD_DEFINITION.dataTypes.decimal,\n    RX_RECORD_DEFINITION.dataTypes.real\n  ].sort((a, b) => a.displayName.localeCompare(b.displayName));\n\n  private inspectorTabIndexSubject: Subject<number> = new Subject();\n  private inspectorTabIndex$ = this.store$.select(inspectorTabIndexSelector);\n  private selectedFieldGuid$ = this.store$.select(selectedFieldGuidSelector);\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n  private inspectorFocusEditorSubject = new Subject<{ editorName: string; data: IPlainObject }>();\n  inspectorFocusEditor$ = this.inspectorFocusEditorSubject.asObservable();\n  private bundleId$ = this.store$.select(bundleIdSelector);\n  private isDesignMode$ = this.store$.select(isDesignModeSelector);\n  private definitionModel$: Observable<IRecordDefinitionModel> = this.store$.select(definitionModelSelector);\n  private isDirty$: Observable<boolean> = this.store$.select(isDirtySelector);\n\n  private bundleFriendlyName$: Observable<string> = this.bundleId$.pipe(\n    switchMap((bundleId: string) => this.rxGlobalCacheService.getBundleFriendlyName(bundleId))\n  );\n\n  private definitionDisplayName$: Observable<string> = this.definitionModel$.pipe(\n    map((updatedModel: IRecordDefinition) => this.rxDefinitionNameService.getDisplayName(updatedModel.name)),\n    startWith(null)\n  );\n\n  private definitionModelFromDefinition$: Observable<IRecordDefinitionModel> = this.store$\n    .select(definitionModelFromDefinitionSelector)\n    .pipe(shareReplay(1));\n\n  private primaryRecordDefinition$ = this.definitionModelFromDefinition$.pipe(\n    pluck('primaryRecordDefinitionName'),\n    distinctUntilChanged(),\n    filter<string>(Boolean),\n    switchMap((primaryRecordDefinitionName) =>\n      this.rxRecordDefinitionCacheService.getRecordDefinition(primaryRecordDefinitionName)\n    )\n  );\n\n  private secondaryRecordDefinition$ = this.definitionModelFromDefinition$.pipe(\n    pluck('secondaryRecordDefinitionName'),\n    distinctUntilChanged(),\n    filter<string>(Boolean),\n    switchMap((secondaryRecordDefinitionName) =>\n      this.rxRecordDefinitionCacheService.getRecordDefinition(secondaryRecordDefinitionName)\n    )\n  );\n\n  private joinRecordDataDictionary$ = combineLatest([\n    this.primaryRecordDefinition$,\n    this.secondaryRecordDefinition$\n  ]).pipe(\n    map(([primaryRecordDefinition, secondaryRecordDefinition]) => [\n      {\n        recordDefinitionName: this.rxDefinitionNameService.getDisplayName(primaryRecordDefinition.name),\n        label: `(${this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.join-record-wizard.join-criteria.primary.label'\n        )})`,\n        type: RX_RECORD_DEFINITION.sourceRecordTypes.primary,\n        fieldDefinitions: primaryRecordDefinition.fieldDefinitions\n      },\n      {\n        recordDefinitionName: this.rxDefinitionNameService.getDisplayName(secondaryRecordDefinition.name),\n        label: `(${this.translateService.instant(\n          'com.bmc.arsys.rx.innovation-studio.join-record-wizard.join-criteria.secondary.label'\n        )})`,\n        type: RX_RECORD_DEFINITION.sourceRecordTypes.secondary,\n        fieldDefinitions: secondaryRecordDefinition.fieldDefinitions\n      }\n    ]),\n    map((records) => {\n      return records.map((record) => ({\n        label: `${record.recordDefinitionName} ${record.label}`,\n        expanded: true,\n        children: chain(record.fieldDefinitions)\n          .map((fieldDefinition) => {\n            if (fieldDefinition.resourceType !== RX_RECORD_DEFINITION.dataTypes.attachment.resourceType) {\n              return {\n                label: `${record.recordDefinitionName}.${fieldDefinition.name}`,\n                icon: 'd-icon-field_text',\n                expression: `\\${${record.recordDefinitionName}.${record.type}.${fieldDefinition.name}}`\n              };\n            }\n          })\n          .compact()\n          .sortBy((item) => item.label.toLocaleLowerCase())\n          .value()\n      }));\n    })\n  );\n\n  private isNewDefinition$: Observable<boolean> = this.definitionModelFromDefinition$.pipe(\n    map((definitionModel: IRecordDefinitionModel) => !Boolean(definitionModel.lastUpdateTime))\n  );\n\n  private isJoinRecordDefinition$: Observable<boolean> = this.definitionModelFromDefinition$.pipe(\n    map((definitionModel: IRecordDefinitionModel) => this.rxRecordDefinitionService.isJoinRecord(definitionModel)),\n    shareReplay(1)\n  );\n\n  private definitionFromDefinitionModel$: Observable<IRecordDefinition> = combineLatest([\n    this.definitionModel$,\n    this.bundleId$\n  ]).pipe(\n    map(([definitionModel, bundleId]: [IRecordDefinitionModel, string]) =>\n      this.rxRecordDesignerService.getDefinitionFromDefinitionModel(definitionModel, bundleId)\n    )\n  );\n\n  private isFieldsCustomizationAllowed$: Observable<boolean> = this.definitionFromDefinitionModel$.pipe(\n    map((recordDefinition) => this.rxOverlayService.isCustomizationEnabled('allowFieldsOverlay', recordDefinition)),\n    distinctUntilChanged(),\n    shareReplay(1)\n  );\n\n  private isPropertiesCustomizationAllowed$: Observable<boolean> = this.definitionFromDefinitionModel$.pipe(\n    map((recordDefinition) =>\n      this.rxOverlayService.isCustomizationEnabled('allowOtherPropertiesOverlay', recordDefinition)\n    ),\n    distinctUntilChanged(),\n    shareReplay(1)\n  );\n\n  private isPermissionsCustomizationAllowed$: Observable<boolean> = this.definitionFromDefinitionModel$.pipe(\n    map((recordDefinition) =>\n      this.rxOverlayService.isCustomizationEnabled('allowPermissionsOverlay', recordDefinition)\n    ),\n    distinctUntilChanged(),\n    shareReplay(1)\n  );\n\n  private isIndexCustomizationAllowed$: Observable<boolean> = this.definitionFromDefinitionModel$.pipe(\n    map((recordDefinition) => this.rxOverlayService.isCustomizationEnabled('allowIndexesOverlay', recordDefinition)),\n    distinctUntilChanged(),\n    shareReplay(1)\n  );\n\n  private areNewDefinitionsAllowed$ = this.bundleId$.pipe(\n    switchMap((bundleId) => this.rxOverlayService.areNewDefinitionsAllowed(bundleId))\n  );\n\n  private isReadOnly$ = this.definitionFromDefinitionModel$.pipe(\n    filter((definition) => !!definition.lastUpdateTime),\n    withLatestFrom(\n      this.areNewDefinitionsAllowed$,\n      this.isFieldsCustomizationAllowed$,\n      this.isPropertiesCustomizationAllowed$,\n      this.isPermissionsCustomizationAllowed$,\n      this.isIndexCustomizationAllowed$\n    ),\n    map(\n      ([\n        definition,\n        areNewDefinitionsAllowed,\n        isFieldsCustomizationAllowed,\n        isPropertiesCustomizationAllowed,\n        isPermissionsCustomizationAllowed,\n        isIndexCustomizationAllowed\n      ]) =>\n        !areNewDefinitionsAllowed ||\n        (!isFieldsCustomizationAllowed &&\n          !isPropertiesCustomizationAllowed &&\n          !isPermissionsCustomizationAllowed &&\n          !isIndexCustomizationAllowed)\n    ),\n    tap((isReadOnly: boolean) => {\n      if (isReadOnly) {\n        this.rxNotificationService.addWarningMessage(\n          this.translateService.instant('com.bmc.arsys.rx.client.designer.read-only-definition-warning.message')\n        );\n      }\n    }),\n    startWith(false),\n    shareReplay(1)\n  );\n\n  public definitionInspectorConfig$: Observable<IFormBuilderConfig> = combineLatest([\n    this.isNewDefinition$,\n    this.definitionModel$,\n    this.definitionModelFromDefinition$,\n    this.bundleId$,\n    this.isPropertiesCustomizationAllowed$,\n    this.isIndexCustomizationAllowed$,\n    this.isPermissionsCustomizationAllowed$,\n    this.isFieldsCustomizationAllowed$,\n    this.isReadOnly$\n  ]).pipe(\n    map(\n      ([\n        isNewDefinition,\n        definitionModel,\n        definitionModelFromDefinition,\n        bundleId,\n        isPropertiesCustomizationAllowed,\n        isIndexCustomizationAllowed,\n        isPermissionsCustomizationAllowed,\n        isFieldsCustomizationAllowed,\n        isReadOnly\n      ]: [\n        boolean,\n        IRecordDefinitionModel,\n        IRecordDefinitionModel,\n        string,\n        boolean,\n        boolean,\n        boolean,\n        boolean,\n        boolean\n      ]) =>\n        this.rxRecordDesignerInspectorService.getDefinitionInspectorConfig(\n          isNewDefinition,\n          definitionModel,\n          definitionModelFromDefinition,\n          bundleId,\n          isPropertiesCustomizationAllowed,\n          isIndexCustomizationAllowed,\n          isPermissionsCustomizationAllowed,\n          isFieldsCustomizationAllowed,\n          isReadOnly,\n          this.expressionConfigurator\n        )\n    )\n  );\n\n  private fieldGridRows$: Observable<IRecordFieldDefinitionGridRow[]> = this.definitionModel$.pipe(\n    map((model: IRecordDefinitionModel) =>\n      model.fields.map((field: IRecordFieldDefinitionModel) => {\n        const invertedSourceRecordTypes = invert(RX_RECORD_DEFINITION.sourceRecordTypes);\n        const type = invertedSourceRecordTypes[field.fieldMapping?.source];\n\n        return {\n          guid: field.guid,\n          name: field.name,\n          id: isNumber(field.id) ? field.id : '',\n          isInherited: field.isInherited,\n          fieldOption: field.fieldOption,\n          defaultValue:\n            field.resourceType === RX_RECORD_DEFINITION.resourceTypes.selection\n              ? field.selectionFieldOptionProperties.optionNamesById?.[\n                  field.selectionFieldOptionProperties.defaultValue\n                ]\n              : field.resourceType === RX_RECORD_DEFINITION.resourceTypes.dateOnly\n              ? this.datePipe.transform(field.defaultValue)\n              : field.resourceType === RX_RECORD_DEFINITION.resourceTypes.dateTime\n              ? this.datePipe.transform(field.defaultValue, 'medium')\n              : field.defaultValue,\n          resourceType: this.translateService.instant(\n            (find(RX_RECORD_DEFINITION.dataTypes, { resourceType: field.resourceType }) as any).labelKey\n          ),\n          isCoreField: this.rxFieldDefinitionService.isCoreField(field),\n          sourceRecord: includes(RX_RECORD_DEFINITION.joinRecordDefinitionCoreFieldIds, field.id)\n            ? ''\n            : this.translateService.instant('com.bmc.arsys.rx.client.record-designer.grid.column.source-record.label', {\n                recordName: this.rxDefinitionNameService.getDisplayName(model[type + 'RecordDefinitionName']),\n                recordType: capitalize(type)\n              })\n        };\n      })\n    )\n  );\n\n  private isExternalRecordDefinition$: Observable<boolean> = this.definitionModel$.pipe(\n    map((definitionModel: IRecordDefinitionModel) => this.rxRecordDefinitionService.isExternalRecord(definitionModel))\n  );\n\n  private selectedFieldGridRows$: Observable<IRecordFieldDefinitionGridRow[]> = this.selectedFieldGuid$.pipe(\n    withLatestFrom(this.fieldGridRows$),\n    map(([guid, fieldGridRows]) => (guid ? [find(fieldGridRows, { guid })] : [])),\n    startWith([])\n  );\n\n  private selectedFieldModel$: Observable<IRecordFieldDefinitionModel> = combineLatest([\n    this.selectedFieldGuid$,\n    this.definitionModel$\n  ]).pipe(\n    map(([guid, definitionModel]: [string, IRecordDefinitionModel]) => find(definitionModel.fields, { guid })),\n    startWith(null),\n    shareReplay(1)\n  );\n\n  private selectedFieldInspectorConfig$: Observable<IFormBuilderConfig> = this.selectedFieldModel$.pipe(\n    withLatestFrom(this.definitionModel$, this.isReadOnly$),\n    map(([fieldModel, definitionModel, isReadOnly]) =>\n      fieldModel\n        ? this.rxFieldDefinitionManagerService.getFieldInspectorConfig(fieldModel, definitionModel, isReadOnly)\n        : null\n    )\n  );\n\n  private isJoinOrExternalRecord$: Observable<boolean> = combineLatest([\n    this.isJoinRecordDefinition$,\n    this.isExternalRecordDefinition$\n  ]).pipe(\n    map(\n      ([isJoinRecordDefinition, isExternalRecordDefinition]: [boolean, boolean]) =>\n        isJoinRecordDefinition || isExternalRecordDefinition\n    )\n  );\n\n  private validationIssues$: Observable<IValidationIssueSection[]> = this.definitionModel$.pipe(\n    map((definitionModel: IRecordDefinitionModel) => this.rxRecordDefinitionValidatorService.validate(definitionModel))\n  );\n\n  private hasValidationErrors$: Observable<boolean> = this.validationIssues$.pipe(\n    map((issueSections: IValidationIssueSection[]) =>\n      some(issueSections, {\n        issues: [{ type: ValidationIssueType.Error }]\n      })\n    ),\n    distinctUntilChanged()\n  );\n\n  private hasValidationWarnings$: Observable<boolean> = this.validationIssues$.pipe(\n    map((issueSections: IValidationIssueSection[]) =>\n      some(issueSections, {\n        issues: [{ type: ValidationIssueType.Warning }]\n      })\n    ),\n    distinctUntilChanged()\n  );\n\n  private isSaveButtonDisabled$: Observable<boolean> = combineLatest([\n    this.hasValidationErrors$,\n    this.isDirty$,\n    this.isReadOnly$\n  ]).pipe(\n    map(([hasValidationErrors, isDirty, isReadOnly]) => hasValidationErrors || !isDirty || isReadOnly),\n    startWith(true)\n  );\n\n  private breadcrumbItems$: Observable<IBreadcrumbItem[]> = combineLatest([\n    this.definitionDisplayName$,\n    this.selectedFieldModel$\n  ]).pipe(\n    map(([definitionDisplayName, selectedFieldModel]) =>\n      [\n        {\n          data: null,\n          label:\n            this.rxDefinitionNameService.getDisplayName(this.definition?.name) || definitionDisplayName || this.newTitle\n        },\n        { data: null, label: selectedFieldModel?.name }\n      ].filter((item: IBreadcrumbItem) => item.label)\n    )\n  );\n\n  private definitionForJsonViewer$: Observable<IRecordDefinition> = this.isDesignMode$.pipe(\n    switchMap((isDesignMode: boolean) => (isDesignMode ? of(null) : this.definitionFromDefinitionModel$))\n  );\n\n  overriddenRecordProperties$: Observable<any> = combineLatest([\n    this.definitionModelFromDefinition$,\n    this.definitionModel$\n  ]).pipe(\n    scan((acc, [definitionModelFromDefinition, definitionModel]) => {\n      const overriddenRecordFields = intersectionBy(\n        definitionModelFromDefinition.fields,\n        definitionModel.recordInheritanceSelector.inheritedFieldDefinitions,\n        'id'\n      );\n\n      acc = { ...acc, fields: _map(overriddenRecordFields, 'name').join(', ') };\n      return acc;\n    }, {})\n  );\n\n  private isDeleteFieldButtonDisabled$: Observable<boolean> = this.selectedFieldModel$.pipe(\n    withLatestFrom(this.definitionModel$),\n    map(\n      ([selectedFieldModel, definitionModel]: [IRecordFieldDefinitionModel, IRecordDefinitionModel]) =>\n        !selectedFieldModel ||\n        definitionModel.isAuditRecordDefinition ||\n        this.rxFieldDefinitionService.isCoreField(selectedFieldModel) ||\n        selectedFieldModel.isInherited ||\n        !this.rxFieldDefinitionService.isFieldInUserOverlay(selectedFieldModel)\n    )\n  );\n\n  private isCopyFieldButtonDisabled$: Observable<boolean> = this.selectedFieldModel$.pipe(\n    withLatestFrom(this.isFieldsCustomizationAllowed$, this.bundleId$),\n    map(\n      ([selectedFieldModel, isFieldsCustomizationAllowed, bundleId]) =>\n        !selectedFieldModel ||\n        this.rxFieldDefinitionService.isCoreField(selectedFieldModel) ||\n        selectedFieldModel.isInherited ||\n        !isFieldsCustomizationAllowed ||\n        !this.rxOverlayService.isBundleEditable(bundleId)\n    )\n  );\n\n  private expressionConfigurator = new RecordDesignerExpressionConfigurator(this.injector);\n\n  private dataDictionary$ = this.definitionModelFromDefinition$.pipe(\n    withLatestFrom(this.store$.select(bundleIdSelector)),\n    takeUntil(this.destroyed$),\n    switchMap(([definitionModel, bundleId]) =>\n      this.expressionConfigurator.recordExpressionDataDictionary(definitionModel, bundleId)\n    )\n  );\n\n  private isInheritColumnHidden$ = this.definitionModel$.pipe(\n    map((definitionModel) => isEmpty(definitionModel.recordInheritanceSelector?.inheritedFieldDefinitions)),\n    distinctUntilChanged(),\n    startWith(true)\n  );\n\n  vm$ = combineLatest([\n    this.breadcrumbItems$,\n    this.bundleFriendlyName$,\n    this.definitionDisplayName$,\n    this.definitionInspectorConfig$,\n    this.definitionModel$,\n    this.hasValidationErrors$,\n    this.hasValidationWarnings$,\n    this.validationIssues$,\n    this.isSaveButtonDisabled$,\n    this.fieldGridRows$,\n    this.selectedFieldGridRows$,\n    this.definitionForJsonViewer$,\n    this.isDesignMode$,\n    this.selectedFieldModel$,\n    this.selectedFieldInspectorConfig$,\n    this.selectedFieldGuid$,\n    this.isFieldsCustomizationAllowed$,\n    this.isDeleteFieldButtonDisabled$,\n    this.isCopyFieldButtonDisabled$,\n    this.isJoinOrExternalRecord$,\n    this.isReadOnly$\n  ]).pipe(\n    map(\n      ([\n        breadcrumbItems,\n        bundleFriendlyName,\n        definitionDisplayName,\n        definitionInspectorConfig,\n        definitionModel,\n        hasValidationErrors,\n        hasValidationWarnings,\n        validationIssues,\n        isSaveButtonDisabled,\n        fieldGridRows,\n        selectedFieldGridRows,\n        definitionForJsonViewer,\n        isDesignMode,\n        selectedFieldModel,\n        selectedFieldInspectorConfig,\n        selectedFieldGuid,\n        isFieldsCustomizationAllowed,\n        isDeleteFieldButtonDisabled,\n        isCopyFieldButtonDisabled,\n        isJoinOrExternalRecord,\n        isReadOnly\n      ]) => ({\n        breadcrumbItems,\n        bundleFriendlyName,\n        definitionDisplayName,\n        definitionInspectorConfig,\n        definitionModel,\n        hasValidationErrors,\n        hasValidationWarnings,\n        validationIssues,\n        isSaveButtonDisabled,\n        fieldGridRows,\n        selectedFieldGridRows,\n        definitionForJsonViewer,\n        isDesignMode,\n        selectedFieldModel,\n        selectedFieldInspectorConfig,\n        selectedFieldGuid,\n        isFieldsCustomizationAllowed,\n        isDeleteFieldButtonDisabled,\n        isCopyFieldButtonDisabled,\n        isJoinOrExternalRecord,\n        isReadOnly\n      })\n    )\n  );\n\n  constructor(\n    private store$: Store<any>,\n    private rxNotificationService: RxNotificationService,\n    private rxOverlayService: RxOverlayService,\n    private rxRecordDefinitionValidatorService: RxRecordDefinitionValidatorService,\n    private rxRecordDesignerInspectorService: RxRecordDesignerInspectorService,\n    private rxDefinitionNameService: RxDefinitionNameService,\n    private rxFieldDefinitionManagerService: RxFieldDefinitionManagerService,\n    private rxRecordDefinitionService: RxRecordDefinitionService,\n    private rxGlobalCacheService: RxGlobalCacheService,\n    private translateService: TranslateService,\n    private datePipe: DatePipe,\n    private rxModalService: RxModalService,\n    private rxFieldDefinitionService: RxFieldDefinitionService,\n    private rxRecordDesignerService: RxRecordDesignerService,\n    private rxExpressionEditorService: RxExpressionEditorService,\n    private rxRecordDefinitionCacheService: RxRecordDefinitionCacheService,\n    private rxGuidService: RxGuidService,\n    private injector: Injector\n  ) {\n    this.rxRecordDefinitionCacheService.registerConsumer(this.destroyed$);\n  }\n\n  ngOnInit(): void {\n    this.inspectorTabIndex$.pipe(skip(1), takeUntil(this.destroyed$)).subscribe((inspectorTabIndex: number) => {\n      if (!isNull(inspectorTabIndex)) {\n        this.adaptSidebarComponent.openPanel(inspectorTabIndex);\n      }\n    });\n\n    this.inspectorTabIndexSubject.pipe(skip(1), takeUntil(this.destroyed$)).subscribe((inspectorTabIndex: number) => {\n      this.store$.dispatch(RecordDesignerActions.setInspectorTabIndex({ inspectorTabIndex }));\n    });\n\n    this.store$\n      .select(savedDefinitionNameSelector)\n      .pipe(skip(1), takeUntil(this.destroyed$))\n      .subscribe((savedDefinitionName: string) => {\n        this.definitionSaved.emit(savedDefinitionName);\n      });\n\n    this.expressionConfigurator.configureForProperty({\n      propertyPath: RX_RECORD_DESIGNER.archiveDataCriteriaPath,\n      dataDictionary$: this.dataDictionary$,\n      operators: ExpressionOperatorRowsByGroup.get(ExpressionOperatorGroup.All)\n    });\n\n    this.expressionConfigurator.configureForProperty({\n      propertyPath: RX_RECORD_DESIGNER.joinCriteriaPath,\n      dataDictionary$: this.joinRecordDataDictionary$,\n      operators: ExpressionOperatorRowsByGroup.get(ExpressionOperatorGroup.All)\n    });\n\n    combineLatest([this.isInheritColumnHidden$, this.isJoinRecordDefinition$])\n      .pipe(takeUntil(this.destroyed$))\n      .subscribe(([isInheritColumnHidden, isJoinRecordDefinition]) => {\n        this.isInheritColumnHidden = isInheritColumnHidden;\n        this.isJoinRecordDefinition = isJoinRecordDefinition;\n      });\n\n    this.columns = [\n      {\n        field: 'name',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.common.field-name.label')\n      },\n      {\n        field: 'sourceRecord',\n        header: this.translateService.instant('Source Record'),\n        hidden: () => !this.isJoinRecordDefinition\n      },\n      {\n        field: 'id',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.common.field-id.label')\n      },\n      {\n        field: 'isInherited',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.record-designer.grid.column.inherited.title'),\n        hidden: () => this.isInheritColumnHidden,\n        cellTemplate: this.inheritedCellTemplate\n      },\n      {\n        field: 'resourceType',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.record-designer.grid.column.data-type.title'),\n        cellTemplate: this.dataTypeCellTemplate\n      },\n      {\n        field: 'fieldOption',\n        header: this.translateService.instant(\n          'com.bmc.arsys.rx.client.record-designer.grid.column.is-required-field.title'\n        ),\n        cellTemplate: this.requiredCellTemplate\n      },\n      {\n        field: 'defaultValue',\n        header: this.translateService.instant('com.bmc.arsys.rx.client.record-designer.grid.column.default-value.title')\n      }\n    ];\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.configuration.currentValue) {\n      this.store$.dispatch(RecordDesignerActions.init({ payload: this.configuration }));\n    }\n  }\n\n  onEditorEvent(event: IFormBuilderEvent): void {\n    if (\n      event.type === RX_EXPRESSION_EDITOR.events.openExpressionEditor &&\n      event.payload.propertyPath === RX_RECORD_DESIGNER.archiveDataCriteriaPath\n    ) {\n      this.definitionModel$.pipe(take(1)).subscribe((definitionModel) => {\n        this.rxExpressionEditorService\n          .openEditor({\n            property: {\n              path: RX_RECORD_DESIGNER.archiveDataCriteriaPath,\n              value: definitionModel.archiveDataCriteria,\n              label: this.translateService.instant(\n                'com.bmc.arsys.rx.client.record-designer.definition-properties.archiving.record-filter.label'\n              )\n            },\n            isReadOnly: event.payload.isReadOnly,\n            expressionConfigurator: this.expressionConfigurator,\n            legend: [\n              {\n                label: this.translateService.instant(\n                  'com.bmc.arsys.rx.client.expression-editor.legend.field-name.label'\n                ),\n                icon: 'd-icon-arrow_right_square_input'\n              }\n            ]\n          })\n          .subscribe((expression: IExpressionEditorPropertyChange) => {\n            this.store$.dispatch(\n              RecordDesignerActions.updateDefinitionModelFromDesigner({\n                definitionModelFromDesigner: { archiveDataCriteria: expression.value } as IRecordDefinitionModel\n              })\n            );\n          });\n      });\n    }\n    if (\n      event.type === RX_EXPRESSION_EDITOR.events.openExpressionEditor &&\n      event.payload.propertyPath === RX_RECORD_DESIGNER.joinCriteriaPath\n    ) {\n      this.definitionModel$.pipe(take(1)).subscribe((definitionModel) => {\n        this.rxExpressionEditorService\n          .openEditor({\n            property: {\n              path: RX_RECORD_DESIGNER.joinCriteriaPath,\n              value: definitionModel.joinCriteria,\n              label: this.translateService.instant(\n                'com.bmc.arsys.rx.innovation-studio.join-record-wizard.join-criteria.on-statement.label'\n              )\n            },\n            isReadOnly: event.payload.isReadOnly,\n            expressionConfigurator: this.expressionConfigurator,\n            legend: [\n              {\n                label: this.translateService.instant(\n                  'com.bmc.arsys.rx.client.expression-editor.legend.field-name.label'\n                ),\n                icon: 'd-icon-arrow_right_square_input'\n              }\n            ]\n          })\n          .subscribe((expression: IExpressionEditorPropertyChange) => {\n            this.store$.dispatch(\n              RecordDesignerActions.updateDefinitionModelFromDesigner({\n                definitionModelFromDesigner: { joinCriteria: expression.value } as IRecordDefinitionModel\n              })\n            );\n          });\n      });\n    }\n  }\n\n  onSelectionChange(selectedFieldModel: IRecordFieldDefinitionModel) {\n    this.store$.dispatch(RecordDesignerActions.setSelectedFieldGuid({ guid: selectedFieldModel?.guid }));\n  }\n\n  onDefinitionModelChange(newDefinitionModel: IRecordDefinitionModel): void {\n    this.store$.dispatch(\n      RecordDesignerActions.updateDefinitionModelFromDesigner({\n        definitionModelFromDesigner: newDefinitionModel\n      })\n    );\n  }\n\n  onSelectedFieldModelChange(newSelectedFieldModel: IRecordFieldDefinitionModel): void {\n    this.store$.dispatch(RecordDesignerActions.updateSelectedFieldModel({ selectedFieldModel: newSelectedFieldModel }));\n  }\n\n  toggleDesignMode(): void {\n    this.store$.dispatch(RecordDesignerActions.toggleDesignMode());\n  }\n\n  onSidebarToggle(event: AdaptIsPanelOpenedCurrentlyModel): void {\n    this.inspectorTabIndexSubject.next(event.id);\n  }\n\n  addNewField(resourceType: string): void {\n    this.store$.dispatch(RecordDesignerActions.createNewFieldModel({ resourceType: resourceType }));\n  }\n\n  openAddNewField(): void {\n    this.definitionModel$.pipe(take(1)).subscribe((definitionModel) => {\n      this.rxModalService\n        .openModal({\n          title: this.translateService.instant(\n            'com.bmc.arsys.rx.client.record-designer.definition-properties.add-fields.title'\n          ),\n          content: AddJoinFieldsEditorComponent,\n          size: 'rx-md',\n          blockKeyboard: false,\n          data: {\n            primaryRecordDefinitionName: definitionModel.primaryRecordDefinitionName,\n            secondaryRecordDefinitionName: definitionModel.secondaryRecordDefinitionName,\n            addedFields: definitionModel.fields\n          }\n        })\n        .then((fieldModels) => {\n          const newFieldModels = fieldModels.map((newField) => ({\n            ...newField,\n            guid: this.rxGuidService.generate(),\n            id: null,\n            defaultValueByLocale: {},\n            selectionFieldOptionProperties:\n              newField.resourceType === RX_RECORD_DEFINITION.dataTypes.selection.resourceType\n                ? {\n                    defaultValue: newField.defaultValue,\n                    optionNamesById: newField.optionNamesById,\n                    optionLabelsById: newField.optionLabelsById\n                  }\n                : null\n          }));\n\n          this.store$.dispatch(RecordDesignerActions.addNewFieldModels({ newFieldModels: newFieldModels }));\n        })\n        .catch(noop);\n    });\n  }\n\n  copySelectedField(): void {\n    this.store$.dispatch(RecordDesignerActions.copySelectedField());\n  }\n\n  deleteSelectedField(): void {\n    this.store$.dispatch(RecordDesignerActions.deleteSelectedField());\n  }\n\n  onBreadcrumbSelected(): void {\n    this.store$.dispatch(RecordDesignerActions.clearSelectedFieldGuid());\n  }\n\n  canDeactivate(): boolean {\n    let canDeactivate = true;\n\n    this.isDirty$.pipe(take(1)).subscribe((isDirty) => {\n      canDeactivate = !isDirty;\n    });\n\n    return canDeactivate;\n  }\n\n  saveDefinition(): void {\n    combineLatest([this.definitionFromDefinitionModel$, this.isNewDefinition$, this.overriddenRecordProperties$])\n      .pipe(\n        take(1),\n        switchMap(([definition, isNewDefinition, overriddenRecordProperties]) => {\n          if (isNewDefinition) {\n            return this.rxRecordDefinitionService.create(definition);\n          } else if (!isNewDefinition && !isEmpty(overriddenRecordProperties.fields)) {\n            return from(\n              this.rxModalService.openModal({\n                title: this.translateService.instant(\n                  'com.bmc.arsys.rx.client.record-designer.record-inheritance-selector.inheritance-issue-modal.title'\n                ),\n                content: InheritanceIssueInfoComponent,\n                data: { overriddenRecordProperties },\n                size: 'sm'\n              })\n            ).pipe(\n              filter((result) => result === 'continue'),\n              switchMap(() => this.rxRecordDefinitionService.update(definition))\n            );\n          } else {\n            return this.rxRecordDefinitionService.update(definition);\n          }\n        }),\n        withLatestFrom(this.store$.select(definitionModelSelector), this.store$.select(bundleIdSelector))\n      )\n      .subscribe(([response, definitionModel, bundleId]) => {\n        this.store$.dispatch(\n          RecordDesignerActions.saveDefinitionSuccess({\n            savedDefinitionName: `${bundleId}:${definitionModel.name}`\n          })\n        );\n      });\n  }\n\n  onCorrectIssue(validationIssue: IValidationIssue): void {\n    if (validationIssue.data.guid) {\n      this.store$.dispatch(RecordDesignerActions.setSelectedFieldGuid({ guid: validationIssue.data.guid }));\n    } else {\n      this.store$.dispatch(RecordDesignerActions.setInspectorTabIndex({ inspectorTabIndex: 0 }));\n    }\n\n    setTimeout(\n      () =>\n        this.inspectorFocusEditorSubject.next({\n          editorName: validationIssue.data.propertyName,\n          data: validationIssue.data\n        }),\n      10\n    );\n  }\n\n  onFormInitialized() {\n    this.inspectorFocusEditorSubject.next({\n      editorName: 'name',\n      data: {}\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next(true);\n    this.destroyed$.complete();\n    this.inspectorTabIndexSubject.complete();\n    this.inspectorFocusEditorSubject.complete();\n    this.store$.dispatch(RecordDesignerActions.destroy());\n  }\n}\n","<ng-container class=\"p-0\" *ngIf=\"vm$ | async as vm\">\n  <rx-designer-header\n    [bundleName]=\"vm.bundleFriendlyName\"\n    [isSaveButtonDisabled]=\"vm.isSaveButtonDisabled\"\n    (save)=\"saveDefinition()\"\n    (closeDesigner)=\"closeDesigner.emit()\"\n    [breadcrumbItems]=\"vm.breadcrumbItems\"\n    (breadcrumbSelected)=\"onBreadcrumbSelected()\"\n    (toggleDesignMode)=\"toggleDesignMode()\"\n    [isDesignMode]=\"vm.isDesignMode\"\n  ></rx-designer-header>\n\n  <adapt-sidebar\n    [openedId]=\"0\"\n    [adjustMainContainerWidth]=\"true\"\n    position=\"right\"\n    class=\"h-100\"\n    [hidden]=\"vm.definitionForJsonViewer\"\n    (isPanelOpenedCurrently)=\"onSidebarToggle($event)\"\n  >\n    <adapt-sidebar-item\n      iconClass=\"d-icon-pencil\"\n      [headerTitle]=\"'com.bmc.arsys.rx.client.common.properties.label' | translate\"\n      [tooltipText]=\"'com.bmc.arsys.rx.client.common.properties.label' | translate\"\n    >\n      <rx-form-builder\n        [config]=\"vm.definitionInspectorConfig\"\n        [model]=\"vm.definitionModel\"\n        [focusEditor$]=\"inspectorFocusEditor$\"\n        (modelChange)=\"onDefinitionModelChange($event)\"\n        (formInitialized)=\"onFormInitialized()\"\n        (editorEvent)=\"onEditorEvent($event)\"\n      ></rx-form-builder>\n    </adapt-sidebar-item>\n\n    <adapt-sidebar-item\n      iconClass=\"d-icon-gear\"\n      [headerTitle]=\"'com.bmc.arsys.rx.client.common.settings.label' | translate\"\n      [tooltipText]=\"'com.bmc.arsys.rx.client.common.settings.label' | translate\"\n    >\n      <rx-form-builder\n        [config]=\"vm.selectedFieldInspectorConfig\"\n        [model]=\"vm.selectedFieldModel\"\n        (modelChange)=\"onSelectedFieldModelChange($event)\"\n        [guid]=\"vm.selectedFieldGuid\"\n        [focusEditor$]=\"inspectorFocusEditor$\"\n      ></rx-form-builder>\n\n      <adapt-alert\n        [hidden]=\"vm.selectedFieldModel\"\n        class=\"p-3\"\n        [config]=\"{\n          content: 'com.bmc.arsys.rx.client.designer.validation.no-field-selected.message' | translate,\n          variant: 'info',\n          type: 'inline'\n        }\"\n      ></adapt-alert>\n    </adapt-sidebar-item>\n\n    <adapt-sidebar-item\n      [iconClass]=\"\n        vm.hasValidationErrors\n          ? 'd-icon-exclamation_triangle text-danger'\n          : vm.hasValidationWarnings\n          ? 'd-icon-exclamation_triangle text-warning-icon'\n          : 'd-icon-exclamation_triangle'\n      \"\n      headerTitle=\"{{ 'com.bmc.arsys.rx.client.designer.validation-issues.label' | translate }}\"\n      tooltipText=\"{{ 'com.bmc.arsys.rx.client.designer.validation-issues.label' | translate }}\"\n    >\n      <rx-validation-issues\n        (correctIssue)=\"onCorrectIssue($event)\"\n        [issueSections]=\"vm.validationIssues\"\n        [definitionTypeDisplayName]=\"'com.bmc.arsys.rx.client.record-definition.label' | translate\"\n      ></rx-validation-issues>\n    </adapt-sidebar-item>\n\n    <div class=\"main h-100 d-flex flex-column\">\n      <h1 class=\"mt-0 mb-2\">\n        {{ (configuration.definitionName | rxDefinitionNamePipe) || vm.definitionDisplayName || newTitle }}\n      </h1>\n\n      <div *ngIf=\"vm.isJoinOrExternalRecord\" class=\"d-flex border border-bottom-0\">\n        <button\n          adapt-button\n          type=\"button\"\n          btn-type=\"tertiary\"\n          class=\"d-icon-plus_circle align-self-start\"\n          rx-id=\"new-field-button\"\n          (click)=\"openAddNewField()\"\n          [disabled]=\"vm.isReadOnly\"\n        >\n          {{ 'com.bmc.arsys.rx.client.common.new.label' | translate }}\n        </button>\n\n        <button\n          adapt-button\n          btn-type=\"tertiary\"\n          type=\"button\"\n          class=\"d-icon-trash\"\n          rx-id=\"delete-field-button\"\n          (click)=\"deleteSelectedField()\"\n          [disabled]=\"vm.isDeleteFieldButtonDisabled\"\n        >\n          {{ 'com.bmc.arsys.rx.client.common.delete.label' | translate }}\n        </button>\n      </div>\n\n      <div *ngIf=\"!vm.isJoinOrExternalRecord\" class=\"d-flex border border-bottom-0\">\n        <div class=\"dropdown\" adaptDropdown>\n          <button\n            adapt-button\n            type=\"button\"\n            adaptDropdownToggle\n            btn-type=\"tertiary\"\n            class=\"d-icon-plus_circle\"\n            rx-id=\"new-field-button\"\n          >\n            {{ 'com.bmc.arsys.rx.client.designer.new-field.button.label' | translate }}\n          </button>\n\n          <div class=\"dropdown-menu\" adaptDropdownMenu>\n            <button\n              *ngFor=\"let dataType of dataTypes\"\n              class=\"dropdown-item\"\n              (click)=\"addNewField(dataType.resourceType)\"\n              [attr.rx-id]=\"'field-data-type-' + dataType.shortName\"\n              [disabled]=\"!vm.isFieldsCustomizationAllowed || vm.isReadOnly\"\n            >\n              {{ dataType.displayName }}\n            </button>\n          </div>\n        </div>\n\n        <button\n          adapt-button\n          btn-type=\"tertiary\"\n          type=\"button\"\n          class=\"d-icon-trash\"\n          rx-id=\"delete-field-button\"\n          (click)=\"deleteSelectedField()\"\n          [disabled]=\"vm.isDeleteFieldButtonDisabled || vm.isReadOnly\"\n        >\n          {{ 'com.bmc.arsys.rx.client.common.delete.label' | translate }}\n        </button>\n\n        <button\n          adapt-button\n          btn-type=\"tertiary\"\n          type=\"button\"\n          class=\"d-icon-list_ordered\"\n          (click)=\"copySelectedField()\"\n          rx-id=\"copy-field-button\"\n          [disabled]=\"vm.isCopyFieldButtonDisabled || vm.isReadOnly\"\n        >\n          {{ 'com.bmc.arsys.rx.client.common.copy.label' | translate }}\n        </button>\n      </div>\n\n      <adapt-table\n        [value]=\"vm.fieldGridRows\"\n        [selection]=\"vm.selectedFieldGridRows\"\n        [columns]=\"columns\"\n        [scrollable]=\"true\"\n        scrollHeight=\"flex\"\n        [sortable]=\"true\"\n        [resizableColumns]=\"true\"\n        [bordered]=\"true\"\n        [filterable]=\"false\"\n        [dataKey]=\"'guid'\"\n        [disableRowSelection]=\"false\"\n        [selectionMode]=\"'single'\"\n        (selectionChange)=\"onSelectionChange($event)\"\n      >\n      </adapt-table>\n    </div>\n  </adapt-sidebar>\n\n  <adapt-code-viewer\n    *ngIf=\"vm.definitionForJsonViewer\"\n    [code]=\"vm.definitionForJsonViewer | json\"\n    [lang]=\"'javascript'\"\n    [hasToolbar]=\"false\"\n    [theme]=\"'light'\"\n    class=\"full-size\"\n  ></adapt-code-viewer>\n</ng-container>\n\n<ng-template #dataTypeCellTemplate let-dataItem=\"dataItem\">\n  <span\n    class=\"icon d-icon-lock pr-2\"\n    *ngIf=\"dataItem.isCoreField\"\n    [adaptPopover]=\"'com.bmc.arsys.rx.client.record-designer.core-field.tooltip' | translate\"\n  ></span>\n  {{ dataItem.resourceType }}\n</ng-template>\n\n<ng-template #requiredCellTemplate let-dataItem=\"dataItem\">\n  {{ dataItem.fieldOption | rxRecordDefinitionFieldOption }}\n</ng-template>\n\n<ng-template #inheritedCellTemplate let-dataItem=\"dataItem\">\n  <span *ngIf=\"dataItem.isInherited\" class=\"icon d-icon-check pr-2\"></span>\n</ng-template>\n\n<ng-template #sourceFieldCellTemplate let-dataItem=\"dataItem\">\n  {{ dataItem.sourceRecord }}\n</ng-template>\n"]}